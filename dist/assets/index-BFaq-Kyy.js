const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index.es-JRvb431L.js","assets/react-vendor-Bt2U2SF_.js","assets/ui-vendor-CHNylsyG.js","assets/supabase-rDwCGHvF.js","assets/data-vendor-CAIcZNdX.js"])))=>i.map(i=>d[i]);
import{j as s,L as GP,B as VP,P as Se,S as Ar,C as Lr,U as la,E as zl,a as gn,T as ef,A as Qp,b as Ur,c as YP,d as dS,D as qn,Z as t0,e as fS,f as $a,M as La,g as ib,h as ql,i as r0,X as sb,k as tf,F as ob,l as lb,m as Ul,n as A1,o as KP,p as XP,q as JP,r as ZP,s as QP,t as hS,u as e6,v as pS,w as t6,x as r6,y as n6,z as a6,G as O1,H as ki,I as i6,J as s6,K as Al,N as o6,O as P1,Q as E1,R as mS,V as gS,W as l6,Y as vS,_ as c6,$ as u6,a0 as d6}from"./ui-vendor-CHNylsyG.js";import{b as f6,r as $,N as iv,O as cb,u as pr,d as yS,L as _c,g as Nt,e as U,c as ia,f as bS,h as _s,i as xS,j as h6,k as qe,B as p6}from"./react-vendor-Bt2U2SF_.js";import{c as m6,_ as n0}from"./supabase-rDwCGHvF.js";import{a as ii}from"./data-vendor-CAIcZNdX.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var a0={},k1=f6;a0.createRoot=k1.createRoot,a0.hydrateRoot=k1.hydrateRoot;const g6="https://dakyetfomciihdiuwrbx.supabase.co",v6="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRha3lldGZvbWNpaWhkaXV3cmJ4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwODgzNDYsImV4cCI6MjA2MzY2NDM0Nn0.ylHsHeu-XoB2SRA4YDCLThjFk-Lq8jyK2RnsWk1JBiw",We=m6(g6,v6);function As(){const[e,t]=$.useState(null),[r,n]=$.useState(null),[a,i]=$.useState(!0),[o,l]=$.useState(null);return $.useEffect(()=>{const p=async()=>{try{i(!0),l(null);const{data:{user:g},error:x}=await We.auth.getUser();if(x)throw x;if(!g){t(null),n(null),i(!1);return}const{data:b,error:y}=await We.from("profiles").select("*").eq("id",g.id).single();if(y)throw y;t(b);let N=null;if(b!=null&&b.org_id){const{data:_,error:w}=await We.from("organizations").select("*").eq("id",b.org_id).single();w||(N=_)}n(N)}catch(g){console.error("Error fetching user profile:",g),l(g.message)}finally{i(!1)}};p();const{data:{subscription:v}}=We.auth.onAuthStateChange((g,x)=>{g==="SIGNED_OUT"?(t(null),n(null)):g==="SIGNED_IN"&&x&&p()});return()=>v.unsubscribe()},[]),{profile:e,organization:r,loading:a,error:o,updateProfile:async p=>{try{const{data:v,error:g}=await We.from("profiles").update(p).eq("id",e.id).select().single();if(g)throw g;return t(x=>({...x,...v})),{data:v,error:null}}catch(v){return console.error("Error updating profile:",v),{data:null,error:v.message}}},hasRole:p=>(e==null?void 0:e.role)===p,hasAnyRole:p=>p.includes(e==null?void 0:e.role),isSubscriptionActive:()=>{if(!r)return!1;const{subscription_status:p,trial_ends_at:v}=r;return p==="active"||p==="trial"&&v&&new Date(v)>new Date},showRenewalBanner:()=>{if(!r)return!1;const{plan_type:p,subscription_status:v,cancel_at_period_end:g,current_period_end:x}=r;return!!(p==="annual"&&v==="active"&&g&&x&&new Date(x)-new Date<15*24*60*60*1e3)},isAuthenticated:!!e}}function ub({size:e="default",className:t=""}){const r={small:"h-4 w-4",default:"h-6 w-6",large:"h-8 w-8"};return s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(GP,{className:`animate-spin text-blue-600 ${r[e]} ${t}`})})}function Gs({allowedRoles:e}){const{profile:t,loading:r,isAuthenticated:n,isSubscriptionActive:a}=As();return r?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx(ub,{size:"xl"})}):n?e&&!e.includes(t.role)?s.jsx(iv,{to:"/unauthorized",replace:!0}):!a()&&window.location.pathname!=="/billing"?s.jsx(iv,{to:"/billing",replace:!0}):s.jsx(cb,{}):s.jsx(iv,{to:"/login",replace:!0})}const Wu="production",i0=Wu==="preview",C1={development:{apiUrl:"http://localhost:3000/api",clientUrl:"http://localhost:5173",supabaseUrl:"https://dakyetfomciihdiuwrbx.supabase.co",supabaseAnonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRha3lldGZvbWNpaWhkaXV3cmJ4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwODgzNDYsImV4cCI6MjA2MzY2NDM0Nn0.ylHsHeu-XoB2SRA4YDCLThjFk-Lq8jyK2RnsWk1JBiw",stripePublishableKey:"pk_test_your_stripe_publishable_key_here"},preview:{apiUrl:"https://preview-api.ptoconnect.com/api",clientUrl:"https://preview.ptoconnect.com",supabaseUrl:"https://dakyetfomciihdiuwrbx.supabase.co",supabaseAnonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRha3lldGZvbWNpaWhkaXV3cmJ4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwODgzNDYsImV4cCI6MjA2MzY2NDM0Nn0.ylHsHeu-XoB2SRA4YDCLThjFk-Lq8jyK2RnsWk1JBiw",stripePublishableKey:"pk_test_your_stripe_publishable_key_here"},production:{apiUrl:"https://api.ptoconnect.com/api",clientUrl:"https://app.ptoconnect.com",supabaseUrl:"https://dakyetfomciihdiuwrbx.supabase.co",supabaseAnonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRha3lldGZvbWNpaWhkaXV3cmJ4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwODgzNDYsImV4cCI6MjA2MzY2NDM0Nn0.ylHsHeu-XoB2SRA4YDCLThjFk-Lq8jyK2RnsWk1JBiw",stripePublishableKey:"pk_test_your_stripe_publishable_key_here"}},y6=()=>({...C1[Wu]||C1.development,isPreview:i0,isProduction:Wu==="production",isDevelopment:Wu==="development",environment:Wu}),b6=()=>({baseURL:y6().apiUrl,timeout:3e4,headers:{"Content-Type":"application/json"}}),x6=()=>({level:"info",enableConsoleLogs:i0,enableNetworkLogs:i0,enablePerformanceLogs:!0}),wS=b6(),sv=x6();console.log("[DEBUG] Environment config:",{apiUrl:wS.baseURL,environment:"production",isPreview:!1});const Ot=ii.create(wS);Ot.interceptors.request.use(async e=>{try{const{data:{session:t}}=await We.auth.getSession();sv.enableNetworkLogs,t!=null&&t.access_token&&(e.headers.Authorization=`Bearer ${t.access_token}`),sv.enableNetworkLogs}catch(t){console.error("âŒ [FRONTEND DEBUG] Error getting session:",t)}return e},e=>(console.error("âŒ [FRONTEND DEBUG] Request interceptor error:",e),Promise.reject(e)));Ot.interceptors.response.use(e=>e,e=>{var t,r,n,a,i;return console.error("âŒ [FRONTEND DEBUG] API Response error:",{url:(t=e.config)==null?void 0:t.url,status:(r=e.response)==null?void 0:r.status,statusText:(n=e.response)==null?void 0:n.statusText,errorData:(a=e.response)==null?void 0:a.data,errorMessage:e.message}),((i=e.response)==null?void 0:i.status)===401&&(console.warn("ðŸš« [FRONTEND DEBUG] Unauthorized - redirecting to login"),window.location.href="/login"),Promise.reject(e)});const gt=async(e,t,r=null,n={})=>{var a,i;try{return{data:(await Ot({method:e,url:t,data:r,...n})).data,error:null}}catch(o){return console.error(`API Error (${e} ${t}):`,o),{data:null,error:((i=(a=o.response)==null?void 0:a.data)==null?void 0:i.message)||o.message||"An error occurred"}}},w6={getEvents:()=>gt("GET","/event"),getEvent:e=>gt("GET",`/event/${e}`),createEvent:e=>gt("POST","/event",e),updateEvent:(e,t)=>gt("PUT",`/event/${e}`,t),deleteEvent:e=>gt("DELETE",`/event/${e}`),rsvpEvent:(e,t)=>gt("POST",`/event/${e}/rsvp`,{status:t}),getEventRSVPs:e=>gt("GET",`/event/${e}/rsvps`)},Da={getFundraisers:()=>gt("GET","/fundraiser"),getFundraiser:e=>gt("GET",`/fundraiser/${e}`),createFundraiser:e=>gt("POST","/fundraiser",e),updateFundraiser:(e,t)=>gt("PUT",`/fundraiser/${e}`,t),deleteFundraiser:e=>gt("DELETE",`/fundraiser/${e}`),getDonations:e=>gt("GET",`/fundraiser/${e}/donations`),getFundraiserAnalytics:(e,t)=>gt("GET",`/fundraiser/${e}/analytics${t?`?${new URLSearchParams(t)}`:""}`),getAllFundraisersAnalytics:e=>gt("GET",`/fundraiser/analytics${e?`?${new URLSearchParams(e)}`:""}`),getAnalyticsOverview:e=>gt("GET",`/fundraiser/analytics/overview${e?`?${new URLSearchParams(e)}`:""}`),getAnalyticsTrends:e=>gt("GET",`/fundraiser/analytics/trends${e?`?${new URLSearchParams(e)}`:""}`),getAnalyticsDonorRetention:e=>gt("GET",`/fundraiser/analytics/donor-retention${e?`?${new URLSearchParams(e)}`:""}`),getAnalyticsCampaigns:e=>gt("GET",`/fundraiser/analytics/campaigns${e?`?${new URLSearchParams(e)}`:""}`),addDonation:(e,t)=>gt("POST","/fundraiser/analytics/donations",{...t,fundraiser_id:e}),getFundraiserTopDonor:e=>gt("GET",`/fundraiser/${e}/top-donor`),getDonationTiers:e=>gt("GET",`/fundraiser/${e}/tiers`),createDonationTier:(e,t)=>gt("POST",`/fundraiser/${e}/tiers`,t),updateDonationTier:(e,t,r)=>gt("PUT",`/fundraiser/${e}/tiers/${t}`,r),deleteDonationTier:(e,t)=>gt("DELETE",`/fundraiser/${e}/tiers/${t}`),getAnalyticsYears:()=>gt("GET","/fundraiser/analytics/years"),getDonorYears:()=>gt("GET","/fundraiser/donors/years"),getDonorData:(e,t,r,n)=>gt("GET",`/fundraiser/donors${t||r||n?`?${new URLSearchParams({year:t,fundraiserId:r,type:n})}`:""}`),getDonorTypes:()=>gt("GET","/fundraiser/donor-types")},ys={generateEventIdeas:e=>gt("POST","/event-ideas",{prompt:e}),generateContent:(e,t,r,n=!1)=>gt("POST","/ai/generate",{type:e,prompt:t,context:r,includeRecommendations:n}),analyzeContext:(e,t="general")=>gt("POST","/ai/analyze-context",{orgId:e,analysisType:t}),analyzeEventWorkflow:(e,t)=>gt("POST","/ai/analyze-event-workflow",{eventData:e,orgId:t}),analyzeDocument:e=>gt("POST",`/ai/analyze-document/${e}`),chatWithDocuments:e=>gt("POST","/ai/chat",{query:e}),generateComprehensiveWorkflow:async(e,t,r)=>{try{console.log("ðŸŒŸ [API] Generating comprehensive workflow..."),console.log("ðŸ“Š [API] Event data:",e),console.log("ðŸŽ¯ [API] Stella context:",t),console.log("ðŸ”§ [API] Module integrations:",r);const n=await gt("POST","/stella/generate-comprehensive-workflow",{eventData:e,stellaContext:t,moduleIntegrations:r});return console.log("âœ… [API] Workflow generation response:",n),n}catch(n){throw console.error("âŒ [API] Workflow generation failed:",n),n}},getWorkflowDetails:e=>gt("GET",`/stella/workflow/${e}`),listWorkflows:()=>gt("GET","/stella/workflows")};function jS(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=jS(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function vt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=jS(e))&&(n&&(n+=" "),n+=t);return n}function j6(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}j6(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var db=e=>typeof e=="number"&&!isNaN(e),rd=e=>typeof e=="string",NS=e=>typeof e=="function",N6=e=>rd(e)||db(e),S6=e=>$.isValidElement(e)||rd(e)||NS(e)||db(e),_6=1,SS=()=>`${_6++}`,ci=new Map,s0=[],T1=new Set,_S=()=>ci.size>0,A6=(e,{containerId:t})=>{var r;return(r=ci.get(t||1))==null?void 0:r.toasts.get(e)};function O6(e,t){var r;if(t)return!!((r=ci.get(t))!=null&&r.isToastActive(e));let n=!1;return ci.forEach(a=>{a.isToastActive(e)&&(n=!0)}),n}function P6(e){if(!_S()){s0=s0.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||N6(e))ci.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=ci.get(e.containerId);t?t.removeToast(e.id):ci.forEach(r=>{r.removeToast(e.id)})}}var E6=(e={})=>{ci.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function k6(e,t){S6(e)&&(_S()||s0.push({content:e,options:t}),ci.forEach(r=>{r.buildToast(e,t)}))}function AS(e,t){ci.forEach(r=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===r.id)&&r.toggle(e,t==null?void 0:t.id)})}function C6(e){return T1.add(e),()=>{T1.delete(e)}}function T6(e){return e&&(rd(e.toastId)||db(e.toastId))?e.toastId:SS()}function rf(e,t){return k6(e,t),t.toastId}function em(e,t){return{...t,type:t&&t.type||e,toastId:T6(t)}}function tm(e){return(t,r)=>rf(t,em(e,r))}function ot(e,t){return rf(e,em("default",t))}ot.loading=(e,t)=>rf(e,em("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function L6(e,{pending:t,error:r,success:n},a){let i;t&&(i=rd(t)?ot.loading(t,a):ot.loading(t.render,{...a,...t}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(u,d,f)=>{if(d==null){ot.dismiss(i);return}let h={type:u,...o,...a,data:f},p=rd(d)?{render:d}:d;return i?ot.update(i,{...h,...p}):ot(p.render,{...h,...p}),f},c=NS(e)?e():e;return c.then(u=>l("success",n,u)).catch(u=>l("error",r,u)),c}ot.promise=L6;ot.success=tm("success");ot.info=tm("info");ot.error=tm("error");ot.warning=tm("warning");ot.warn=ot.warning;ot.dark=(e,t)=>rf(e,em("default",{theme:"dark",...t}));function M6(e){P6(e)}ot.dismiss=M6;ot.clearWaitingQueue=E6;ot.isActive=O6;ot.update=(e,t={})=>{let r=A6(e,t);if(r){let{props:n,content:a}=r,i={delay:100,...n,...t,toastId:t.toastId||e,updateId:SS()};i.toastId!==e&&(i.staleId=e);let o=i.render||a;delete i.render,rf(o,i)}};ot.done=e=>{ot.update(e,{progress:1})};ot.onChange=C6;ot.play=e=>AS(!0,e);ot.pause=e=>AS(!1,e);const Ia=(e,t="An error occurred")=>(console.error("Error:",e),ot.error(t),!1),yo=(e="Operation successful")=>(ot.success(e),!0);function D6(){const[e,t]=$.useState([]),[r,n]=$.useState(!1),[a,i]=$.useState(null),[o,l]=$.useState(!1),c=async()=>{try{n(!0);const{data:f}=await Ot.get("/notifications");t(f),i(null)}catch(f){i("Failed to fetch notifications"),Ia(f,"Failed to fetch notifications")}finally{n(!1)}},u=async f=>{try{n(!0),await Ot.put(`/notifications/${f}/read`),t(e.map(h=>h.id===f?{...h,read:!0}:h)),yo("Notification marked as read")}catch(h){Ia(h,"Failed to update notification")}finally{n(!1)}},d=async()=>{try{n(!0),await Ot.delete("/notifications/clear-all"),t([]),yo("All notifications cleared")}catch(f){Ia(f,"Failed to clear notifications")}finally{n(!1)}};return $.useEffect(()=>{c()},[]),r?s.jsx(ub,{size:"sm"}):s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>l(!o),className:"p-2 rounded-full hover:bg-gray-100 focus:outline-none",children:[s.jsx(VP,{className:"h-6 w-6 text-gray-600"}),e.length>0&&s.jsx("span",{className:"absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white transform translate-x-1/2 -translate-y-1/2 bg-red-500 rounded-full",children:e.length})]}),o&&s.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg z-50",children:[s.jsx("div",{className:"p-4 border-b",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Notifications"}),e.length>0&&s.jsx("button",{onClick:d,className:"text-sm text-gray-500 hover:text-gray-700",children:"Clear all"})]})}),s.jsx("div",{className:"max-h-96 overflow-y-auto",children:e.length===0?s.jsx("div",{className:"p-4 text-center text-gray-500",children:"No notifications"}):e.map(f=>s.jsxs("div",{className:`p-4 border-b hover:bg-gray-50 cursor-pointer ${f.read?"":"bg-blue-50"}`,onClick:()=>u(f.id),children:[s.jsx("p",{className:"text-sm",children:f.message}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(f.created_at).toLocaleString()})]},f.id))})]})]})}function $6(){const e=pr(),t=async()=>{await We.auth.signOut(),localStorage.removeItem("access_token"),e("/login")};return s.jsx("button",{onClick:t,className:"text-sm bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded",children:"Logout"})}const I6=[{to:"/dashboard/admin",label:"Dashboard",roles:["admin"]},{to:"/events",label:"Events",roles:["admin","teacher","parent_member"]},{to:"/fundraisers",label:"Fundraisers",roles:["admin","treasurer"]},{to:"/budget",label:"Budget",roles:["admin","treasurer"]},{to:"/communications",label:"Communications",roles:["admin","committee_lead","teacher"]},{to:"/teacher-requests",label:"Teacher Requests",roles:["admin","teacher"]},{to:"/billing",label:"Billing",roles:["admin"]}];function R6({role:e}){const t=yS(),r=I6.filter(n=>n.roles.includes(e));return s.jsx("aside",{className:"w-64 bg-white border-r shadow-sm hidden md:block",children:s.jsx("nav",{className:"px-4 py-6 space-y-2",children:r.map(n=>s.jsx(_c,{to:n.to,className:`block px-3 py-2 rounded text-sm font-medium ${t.pathname===n.to?"bg-blue-100 text-blue-700":"text-gray-700 hover:bg-gray-100"}`,children:n.label},n.to))})})}function F6(){return s.jsxs("footer",{className:"text-xs text-gray-500 text-center py-4 border-t bg-white",children:["PTO Connect Â© ",new Date().getFullYear()," â€” Need help? Visit our support page."]})}function B6(){const{showRenewalBanner:e,organization:t}=As();return e()?s.jsxs("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-800 p-4 mb-4 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Annual Subscription Expiring Soon:"})," Your annual subscription will expire on"," ",s.jsx("span",{className:"font-semibold",children:t!=null&&t.current_period_end?new Date(t.current_period_end).toLocaleDateString():"soon"}),". Please renew to avoid interruption."]}),s.jsx("a",{href:"/billing",className:"ml-4 px-4 py-2 bg-yellow-500 text-white rounded hover:bg-yellow-600 transition-colors",children:"Renew Now"})]}):null}function Vs(){const[e,t]=$.useState(null),[r,n]=$.useState(null);return $.useEffect(()=>{async function a(){const{data:{user:i}}=await We.auth.getUser();t(i);const{data:o}=await We.from("profiles").select("role").eq("id",i.id).single();n(o==null?void 0:o.role)}a()},[]),!e||!r?null:s.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[s.jsxs("header",{className:"bg-white shadow-sm px-6 py-4 flex justify-between items-center w-full",children:[s.jsx("span",{className:"text-xl font-bold text-blue-700",children:"PTO Connect"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(D6,{}),s.jsx($6,{})]})]}),s.jsx(B6,{}),s.jsxs("div",{className:"flex flex-1",children:[s.jsx(R6,{role:r}),s.jsx("main",{className:"flex-1 p-6",children:s.jsx(cb,{})})]}),s.jsx(F6,{})]})}const z6={admin:"/dashboard/admin",board_member:"/dashboard/board",committee_lead:"/dashboard/committee",volunteer:"/dashboard/volunteer",parent_member:"/dashboard/parent",teacher:"/dashboard/teacher"},q6=e=>z6[e]||"/dashboard";function L1(){const[e,t]=$.useState(""),[r,n]=$.useState(""),[a,i]=$.useState(""),[o,l]=$.useState(!1),c=pr(),u=async d=>{if(d&&d.preventDefault(),console.log("ðŸ” [LOGIN DEBUG] Login attempt started"),console.log("ðŸ” [LOGIN DEBUG] Email:",e),l(!0),i(""),!e||!r){console.log("âŒ [LOGIN DEBUG] Missing email or password"),i("Email and password are required."),l(!1);return}console.log("ðŸ” [LOGIN DEBUG] Calling Supabase signInWithPassword...");const{data:f,error:h}=await We.auth.signInWithPassword({email:e,password:r});if(console.log("ðŸ” [LOGIN DEBUG] Supabase response:",{user:!!(f!=null&&f.user),session:!!(f!=null&&f.session),error:h}),h||!(f!=null&&f.user)){console.error("âŒ [LOGIN DEBUG] Login error:",h),i((h==null?void 0:h.message)||"Login failed."),l(!1);return}const p=f.user;console.log("ðŸ” [LOGIN DEBUG] User authenticated:",{id:p.id,email:p.email,user_metadata:p.user_metadata}),console.log("ðŸ” [LOGIN DEBUG] Fetching user profile...");const{data:v,error:g}=await We.from("profiles").select("role, org_id, approved").eq("id",p.id).single();if(console.log("ðŸ” [LOGIN DEBUG] Profile query result:",{profile:v,profileError:g}),g||!v){console.error("âŒ [LOGIN DEBUG] Profile fetch error:",g),i("Unable to load user profile. Please contact support."),l(!1);return}if(!v.approved){console.log("âŒ [LOGIN DEBUG] User not approved"),i("Your account is pending approval. Please contact an administrator."),l(!1);return}const x=v.role;if(console.log("ðŸ” [LOGIN DEBUG] User role:",x),!x){console.log("âŒ [LOGIN DEBUG] No role assigned"),i("Your account does not have a role assigned."),l(!1);return}console.log("ðŸ” [LOGIN DEBUG] Getting dashboard route for role:",x);const b=q6(x);console.log("ðŸ” [LOGIN DEBUG] Navigating to:",b),c(b),l(!1)};return s.jsxs("div",{className:"p-6 max-w-md mx-auto",children:[s.jsx("h1",{className:"text-xl font-bold mb-4",children:"Log In"}),s.jsxs("form",{onSubmit:u,className:"space-y-4",children:[s.jsx("input",{className:"border p-2 w-full rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",type:"email",value:e,onChange:d=>t(d.target.value),placeholder:"Email",required:!0,disabled:o,autoComplete:"email"}),s.jsx("input",{className:"border p-2 w-full rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",type:"password",value:r,onChange:d=>n(d.target.value),placeholder:"Password",required:!0,disabled:o,autoComplete:"current-password"}),s.jsx("button",{type:"submit",disabled:o,className:"bg-blue-600 text-white px-4 py-2 rounded w-full hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o?"Logging in...":"Log In"}),a&&s.jsx("p",{className:"text-red-500 mt-2",children:a})]})]})}const U6=["admin","treasurer","board_member"];function W6(){const[e,t]=$.useState(""),[r,n]=$.useState(""),[a,i]=$.useState(""),[o,l]=$.useState("parent_member"),[c,u]=$.useState(""),[d,f]=$.useState(""),h=async()=>{if(u(""),f(""),!e||!r||!a||!o){u("All fields are required.");return}const{data:p,error:v}=await We.from("organizations").select("id").ilike("signup_code",a).single();if(v||!(p!=null&&p.id)){console.error("PTO code lookup failed:",v),u("Invalid PTO code. Please check with your organization.");return}const g=p.id,{data:x,error:b}=await We.auth.signUp({email:e,password:r,options:{data:{org_id:g,role:o}}});if(b||!(x!=null&&x.user)){console.error("Signup error:",b),u((b==null?void 0:b.message)||"Signup failed.");return}const y=x.user,N=!U6.includes(o),{data:_}=await We.from("profiles").select("id").eq("id",y.id).maybeSingle();if(_){console.warn("Profile already exists, skipping insert."),f("Signup successful! You can now log in.");return}const{error:w}=await We.from("profiles").insert([{id:y.id,email:e,org_id:g,role:o,approved:N}]);w?(console.error("Profile insert error:",w),u("Signup successful, but failed to save profile.")):(f(N?"Signup successful! You can now log in.":"Signup submitted. An admin must approve your role before you can access the system."),t(""),n(""),i(""),l("parent_member"))};return s.jsxs("div",{className:"p-6 max-w-md mx-auto",children:[s.jsx("h1",{className:"text-xl font-bold mb-4",children:"Sign Up"}),s.jsx("input",{className:"border p-2 w-full mb-2",type:"email",value:e,onChange:p=>t(p.target.value),placeholder:"Email",required:!0}),s.jsx("input",{className:"border p-2 w-full mb-2",type:"password",value:r,onChange:p=>n(p.target.value),placeholder:"Password",required:!0}),s.jsx("input",{className:"border p-2 w-full mb-2",type:"text",value:a,onChange:p=>i(p.target.value),placeholder:"PTO Code (e.g. abc123xy)",required:!0}),s.jsxs("select",{className:"border p-2 w-full mb-4",value:o,onChange:p=>l(p.target.value),required:!0,children:[s.jsx("option",{value:"parent_member",children:"Parent Member"}),s.jsx("option",{value:"teacher",children:"Teacher"}),s.jsx("option",{value:"volunteer",children:"Volunteer"}),s.jsx("option",{value:"committee_lead",children:"Committee Lead"}),s.jsx("option",{value:"board_member",children:"Board Member"}),s.jsx("option",{value:"treasurer",children:"Treasurer"}),s.jsx("option",{value:"admin",children:"Admin"})]}),s.jsx("button",{onClick:h,className:"bg-green-600 text-white px-4 py-2 rounded w-full",children:"Sign Up"}),c&&s.jsx("p",{className:"text-red-500 mt-2",children:c}),d&&s.jsx("p",{className:"text-green-600 mt-2",children:d})]})}function H6(){return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 p-6",children:s.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-8 max-w-md text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Access Denied"}),s.jsx("p",{className:"text-gray-700 mb-6",children:"You donâ€™t have permission to view this page."}),s.jsx(_c,{to:"/",className:"inline-block bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Return to Home"})]})})}const G6=()=>{var N,_,w,S;const{userProfile:e}=As(),[t,r]=$.useState("membership"),[n,a]=$.useState("6months"),[i,o]=$.useState({membership:[],events:[],financial:[],engagement:[]}),[l,c]=$.useState(!0);$.useEffect(()=>{e!=null&&e.org_id&&u()},[e,n]);const u=async()=>{try{c(!0);const P=new Date,O=new Date;switch(n){case"3months":O.setMonth(P.getMonth()-3);break;case"6months":O.setMonth(P.getMonth()-6);break;case"1year":O.setFullYear(P.getFullYear()-1);break;default:O.setMonth(P.getMonth()-6)}const[T,I,k,C]=await Promise.all([d(O,P),f(O,P),h(O,P),p(O,P)]);o({membership:T,events:I,financial:k,engagement:C})}catch(P){console.error("Error fetching chart data:",P)}finally{c(!1)}},d=async(P,O)=>{const T=[],I=new Date(P);for(;I<=O;){const k=new Date(I.getFullYear(),I.getMonth(),1),C=new Date(I.getFullYear(),I.getMonth()+1,0),{count:L}=await We.from("profiles").select("*",{count:"exact",head:!0}).eq("org_id",e.org_id).lte("created_at",C.toISOString());T.push({month:k.toLocaleDateString("en-US",{month:"short"}),value:L||0,date:k}),I.setMonth(I.getMonth()+1)}return T},f=async(P,O)=>{const{data:T}=await We.from("events").select("event_date, title, status").eq("org_id",e.org_id).gte("event_date",P.toISOString()).lte("event_date",O.toISOString()).order("event_date"),I={};return T==null||T.forEach(k=>{const C=new Date(k.event_date).toLocaleDateString("en-US",{month:"short"});I[C]||(I[C]={total:0,completed:0}),I[C].total++,k.status==="completed"&&I[C].completed++}),Object.entries(I).map(([k,C])=>({month:k,total:C.total,completed:C.completed,success_rate:C.total>0?Math.round(C.completed/C.total*100):0}))},h=async(P,O)=>{const{data:T}=await We.from("budget_entries").select("amount, type, category, created_at").eq("org_id",e.org_id).gte("created_at",P.toISOString()).lte("created_at",O.toISOString()),I={};return T==null||T.forEach(k=>{I[k.category]||(I[k.category]={income:0,expenses:0}),k.type==="income"?I[k.category].income+=k.amount:I[k.category].expenses+=k.amount}),Object.entries(I).map(([k,C])=>({category:k,income:C.income,expenses:C.expenses,net:C.income-C.expenses}))},p=async(P,O)=>{const T=[],I=new Date(P);for(;I<=O;){const k=I.toLocaleDateString("en-US",{month:"short"}),C=65,L=Math.random()*20-10,R=Math.max(0,Math.min(100,C+L));T.push({month:k,engagement:Math.round(R),email_opens:Math.round(R*.8),event_attendance:Math.round(R*.6),volunteer_participation:Math.round(R*.4)}),I.setMonth(I.getMonth()+1)}return T},v=(P,O,T="#3B82F6")=>{if(!P||P.length===0)return null;const I=Math.max(...P.map(R=>R[O]||0)),k=Math.min(...P.map(R=>R[O]||0)),C=I-k||1,L=P.map((R,V)=>{const F=V/(P.length-1)*100,B=100-((R[O]||0)-k)/C*80-10;return`${F},${B}`}).join(" ");return s.jsxs("div",{className:"relative h-64 bg-gray-50 rounded-lg p-4",children:[s.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[s.jsx("polyline",{fill:"none",stroke:T,strokeWidth:"0.5",points:L}),P.map((R,V)=>{const F=V/(P.length-1)*100,B=100-((R[O]||0)-k)/C*80-10;return s.jsx("circle",{cx:F,cy:B,r:"1",fill:T},V)})]}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 flex justify-between text-xs text-gray-500 px-4",children:P.map((R,V)=>s.jsx("span",{children:R.month},V))}),s.jsxs("div",{className:"absolute left-0 top-0 bottom-0 flex flex-col justify-between text-xs text-gray-500 py-4",children:[s.jsx("span",{children:I}),s.jsx("span",{children:Math.round((I+k)/2)}),s.jsx("span",{children:k})]})]})},g=(P,O,T="#10B981")=>{if(!P||P.length===0)return null;const I=Math.max(...P.map(k=>k[O]||0));return s.jsx("div",{className:"relative h-64 bg-gray-50 rounded-lg p-4",children:s.jsx("div",{className:"flex items-end justify-between h-full space-x-2",children:P.map((k,C)=>{const L=I>0?(k[O]||0)/I*100:0;return s.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[s.jsx("div",{className:"w-full rounded-t",style:{height:`${L}%`,backgroundColor:T,minHeight:L>0?"4px":"0"}}),s.jsx("span",{className:"text-xs text-gray-500 mt-2",children:k.month})]},C)})})})},x=P=>{if(!P||P.length===0)return null;const O=P.reduce((k,C)=>k+Math.abs(C.net||0),0);let T=0;const I=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6"];return s.jsxs("div",{className:"relative h-64 flex items-center justify-center",children:[s.jsxs("svg",{className:"w-48 h-48",viewBox:"0 0 100 100",children:[P.map((k,C)=>{const R=(O>0?Math.abs(k.net||0)/O:0)*360,V=T,F=T+R,B=50+35*Math.cos(V*Math.PI/180),X=50+35*Math.sin(V*Math.PI/180),Y=50+35*Math.cos(F*Math.PI/180),Z=50+35*Math.sin(F*Math.PI/180),ae=R>180?1:0,D=["M 50 50",`L ${B} ${X}`,`A 35 35 0 ${ae} 1 ${Y} ${Z}`,"Z"].join(" ");return T+=R,s.jsx("path",{d:D,fill:I[C%I.length],opacity:.8},C)}),s.jsx("circle",{cx:"50",cy:"50",r:"20",fill:"white"})]}),s.jsx("div",{className:"absolute right-0 top-0 space-y-2",children:P.map((k,C)=>s.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[s.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:I[C%I.length]}}),s.jsx("span",{className:"text-gray-700",children:k.category})]},C))})]})},b=()=>{const P=i[t],O="data:text/csv;charset=utf-8,"+Object.keys(P[0]||{}).join(",")+`
`+P.map(k=>Object.values(k).join(",")).join(`
`),T=encodeURI(O),I=document.createElement("a");I.setAttribute("href",T),I.setAttribute("download",`${t}_analytics.csv`),document.body.appendChild(I),I.click(),document.body.removeChild(I)},y={membership:{title:"Membership Growth",description:"Track member acquisition and retention over time",dataKey:"value",color:"#3B82F6"},events:{title:"Event Performance",description:"Monitor event frequency and success rates",dataKey:"total",color:"#10B981"},financial:{title:"Financial Distribution",description:"Analyze income and expenses by category",dataKey:"net",color:"#F59E0B"},engagement:{title:"Member Engagement",description:"Measure community participation and activity",dataKey:"engagement",color:"#8B5CF6"}};return l?s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-4"}),s.jsx("div",{className:"h-64 bg-gray-200 rounded"})]})}):s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Analytics Dashboard"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("select",{value:n,onChange:P=>a(P.target.value),className:"px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"3months",children:"Last 3 Months"}),s.jsx("option",{value:"6months",children:"Last 6 Months"}),s.jsx("option",{value:"1year",children:"Last Year"})]}),s.jsx("button",{onClick:b,className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm hover:bg-blue-700 transition-colors",children:"Export CSV"})]})]}),s.jsx("div",{className:"flex space-x-1 bg-gray-100 rounded-lg p-1",children:Object.entries(y).map(([P,O])=>s.jsx("button",{onClick:()=>r(P),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${t===P?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:O.title},P))})]}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:y[t].title}),s.jsx("p",{className:"text-sm text-gray-600",children:y[t].description})]}),s.jsxs("div",{className:"mb-6",children:[t==="membership"&&v(i.membership,y.membership.dataKey,y.membership.color),t==="events"&&g(i.events,y.events.dataKey,y.events.color),t==="financial"&&x(i.financial),t==="engagement"&&v(i.engagement,y.engagement.dataKey,y.engagement.color)]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 pt-4 border-t border-gray-200",children:[t==="membership"&&i.membership.length>0&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:((N=i.membership[i.membership.length-1])==null?void 0:N.value)||0}),s.jsx("p",{className:"text-sm text-gray-600",children:"Current Members"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["+",i.membership.length>1?(((_=i.membership[i.membership.length-1])==null?void 0:_.value)||0)-(((w=i.membership[0])==null?void 0:w.value)||0):0]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Growth"})]})]}),t==="events"&&i.events.length>0&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-green-600",children:i.events.reduce((P,O)=>P+O.total,0)}),s.jsx("p",{className:"text-sm text-gray-600",children:"Total Events"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[i.events.length>0?Math.round(i.events.reduce((P,O)=>P+O.success_rate,0)/i.events.length):0,"%"]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Avg Success Rate"})]})]}),t==="financial"&&i.financial.length>0&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["$",i.financial.reduce((P,O)=>P+O.income,0).toLocaleString()]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Total Income"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"text-2xl font-bold text-red-600",children:["$",i.financial.reduce((P,O)=>P+O.expenses,0).toLocaleString()]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Total Expenses"})]})]}),t==="engagement"&&i.engagement.length>0&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[((S=i.engagement[i.engagement.length-1])==null?void 0:S.engagement)||0,"%"]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Current Engagement"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[i.engagement.length>0?Math.round(i.engagement.reduce((P,O)=>P+O.email_opens,0)/i.engagement.length):0,"%"]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Avg Email Opens"})]})]})]})]})]})},V6=()=>{const{userProfile:e}=As(),[t,r]=$.useState([]),[n,a]=$.useState("all"),[i,o]=$.useState(!0);$.useEffect(()=>{e!=null&&e.org_id&&l()},[e]);const l=async()=>{try{o(!0);const y=[],N=await c();y.push(...N);const _=await u();y.push(..._);const w=await d();y.push(...w);const S=await f();y.push(...S),y.sort((P,O)=>{const T={high:3,medium:2,low:1};return T[P.priority]!==T[O.priority]?T[O.priority]-T[P.priority]:new Date(O.timestamp)-new Date(P.timestamp)}),r(y)}catch(y){console.error("Error generating smart notifications:",y)}finally{o(!1)}},c=async()=>{const y=[];try{const{data:N}=await We.from("budget_entries").select("amount, category, type").eq("org_id",e.org_id);if(N&&N.length>0){const _=N.filter(O=>O.type==="income").reduce((O,T)=>O+T.amount,0),w=N.filter(O=>O.type==="expense").reduce((O,T)=>O+T.amount,0),S=_>0?w/_*100:0;S>80?y.push({id:"budget-alert-1",type:"budget",priority:"high",title:"Budget Alert: Events Category",message:`Events budget is ${Math.round(S)}% spent with 3 months remaining. Consider reviewing upcoming event costs.`,timestamp:new Date().toISOString(),actionable:!0,actions:[{label:"Review Budget",action:"review_budget"},{label:"View Details",action:"view_details"}]}):S>60&&y.push({id:"budget-alert-2",type:"budget",priority:"medium",title:"Budget Tracking",message:`Budget is ${Math.round(S)}% utilized. On track for current period.`,timestamp:new Date().toISOString(),actionable:!1,actions:[]});const P=N.reduce((O,T)=>(O[T.category]||(O[T.category]={income:0,expenses:0}),T.type==="income"?O[T.category].income+=T.amount:O[T.category].expenses+=T.amount,O),{});Object.entries(P).forEach(([O,T])=>{const I=T.income>0?T.expenses/T.income*100:0;I>90&&y.push({id:`budget-category-${O}`,type:"budget",priority:"high",title:`${O} Budget Alert`,message:`${O} category is ${Math.round(I)}% spent. Immediate attention required.`,timestamp:new Date().toISOString(),actionable:!0,actions:[{label:"Review Category",action:"review_category"},{label:"Adjust Budget",action:"adjust_budget"}]})})}}catch(N){console.error("Error generating budget alerts:",N)}return y},u=async()=>{const y=[];try{const N=new Date;N.setDate(N.getDate()-30);const{count:_}=await We.from("profiles").select("*",{count:"exact",head:!0}).eq("org_id",e.org_id).gte("created_at",N.toISOString()),{count:w}=await We.from("profiles").select("*",{count:"exact",head:!0}).eq("org_id",e.org_id),S=w>0?_/w*100:0;S<5?y.push({id:"membership-growth-1",type:"membership",priority:"medium",title:"Membership Growth Trending Down",message:"New member registrations have decreased by 15% this month. Consider launching a recruitment campaign.",timestamp:new Date().toISOString(),actionable:!0,actions:[{label:"Start Campaign",action:"start_campaign"},{label:"View Analytics",action:"view_analytics"}]}):S>15&&y.push({id:"membership-growth-2",type:"membership",priority:"low",title:"Excellent Membership Growth",message:`Outstanding! New member registrations increased by ${Math.round(S)}% this month.`,timestamp:new Date().toISOString(),actionable:!1,actions:[]});const{count:P}=await We.from("profiles").select("*",{count:"exact",head:!0}).eq("org_id",e.org_id).gte("last_sign_in_at",N.toISOString()),O=w>0?P/w*100:0;O<40&&y.push({id:"engagement-alert-1",type:"engagement",priority:"medium",title:"Low Member Engagement",message:`Only ${Math.round(O)}% of members were active this month. Consider increasing communication frequency.`,timestamp:new Date().toISOString(),actionable:!0,actions:[{label:"Send Newsletter",action:"send_newsletter"},{label:"Plan Event",action:"plan_event"}]})}catch(N){console.error("Error generating membership insights:",N)}return y},d=async()=>{const y=[];try{const N=new Date;N.setDate(N.getDate()+7);const{data:_}=await We.from("events").select("id, title, event_date, volunteer_slots_needed, volunteer_slots_filled").eq("org_id",e.org_id).gte("event_date",new Date().toISOString()).lte("event_date",N.toISOString());_==null||_.forEach(P=>{const O=Math.ceil((new Date(P.event_date)-new Date)/864e5),T=(P.volunteer_slots_needed||0)-(P.volunteer_slots_filled||0);O<=3&&T>0?y.push({id:`event-volunteer-${P.id}`,type:"events",priority:"high",title:`Volunteer Shortage: ${P.title}`,message:`${P.title} in ${O} days needs ${T} more volunteers.`,timestamp:new Date().toISOString(),actionable:!0,actions:[{label:"Send Reminder",action:"send_reminder"},{label:"View Event",action:"view_event"}]}):O<=7&&y.push({id:`event-reminder-${P.id}`,type:"events",priority:"low",title:`Upcoming Event: ${P.title}`,message:`${P.title} is coming up in ${O} days. All preparations on track.`,timestamp:new Date().toISOString(),actionable:!1,actions:[]})});const{data:w}=await We.from("events").select("id, title, event_date, updated_at").eq("org_id",e.org_id).gte("event_date",new Date().toISOString()),S=new Date;S.setDate(S.getDate()-14),w==null||w.forEach(P=>{new Date(P.updated_at)<S&&y.push({id:`event-stale-${P.id}`,type:"events",priority:"medium",title:`Event Needs Attention: ${P.title}`,message:`${P.title} hasn't been updated in 2 weeks. Consider reviewing event details.`,timestamp:new Date().toISOString(),actionable:!0,actions:[{label:"Update Event",action:"update_event"},{label:"View Details",action:"view_details"}]})})}catch(N){console.error("Error generating event alerts:",N)}return y},f=async()=>{const y=[];y.push({id:"goal-achievement-1",type:"goals",priority:"low",title:"Goal Achievement: Volunteer Hours",message:"Congratulations! Volunteer hours goal exceeded by 104% this quarter.",timestamp:new Date().toISOString(),actionable:!1,actions:[]});const N=new Date().getMonth();return N>=8&&N<=10&&y.push({id:"seasonal-insight-1",type:"seasonal",priority:"medium",title:"Fall Fundraising Opportunity",message:"Fall is peak fundraising season. Consider launching a major campaign now.",timestamp:new Date().toISOString(),actionable:!0,actions:[{label:"Create Campaign",action:"create_campaign"},{label:"View Templates",action:"view_templates"}]}),y.push({id:"communication-insight-1",type:"communication",priority:"low",title:"Communication Performance",message:"Email open rates increased by 8% this month. Great job on engaging content!",timestamp:new Date().toISOString(),actionable:!1,actions:[]}),y},h=(y,N)=>{switch(console.log(`Executing action: ${y} for notification: ${N}`),y){case"review_budget":break;case"start_campaign":break;case"send_reminder":break;case"view_analytics":break;default:console.log("Action not implemented:",y)}},p=y=>{r(N=>N.filter(_=>_.id!==y))},v=t.filter(y=>n==="all"?!0:n==="actionable"?y.actionable:y.type===n),g=y=>{switch(y){case"high":return"border-red-200 bg-red-50";case"medium":return"border-yellow-200 bg-yellow-50";case"low":return"border-blue-200 bg-blue-50";default:return"border-gray-200 bg-gray-50"}},x=y=>{switch(y){case"high":return s.jsx("svg",{className:"w-5 h-5 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})});case"medium":return s.jsx("svg",{className:"w-5 h-5 text-yellow-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})});case"low":return s.jsx("svg",{className:"w-5 h-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})});default:return null}},b=y=>{switch(y){case"budget":return s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})});case"membership":return s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})});case"events":return s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})});case"engagement":return s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})});default:return s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5 5v-5zM4 19h5v-5H4v5zM13 13h5V8h-5v5zM4 8h5V3H4v5z"})})}};return i?s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/2 mb-4"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"h-16 bg-gray-200 rounded"}),s.jsx("div",{className:"h-16 bg-gray-200 rounded"}),s.jsx("div",{className:"h-16 bg-gray-200 rounded"})]})]})}):s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:s.jsx("svg",{className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5 5v-5zM4 19h5v-5H4v5zM13 13h5V8h-5v5zM4 8h5V3H4v5z"})})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Smart Notifications"}),s.jsx("p",{className:"text-sm text-gray-600",children:"AI-powered insights and alerts"})]})]}),s.jsx("button",{className:"text-blue-600 text-sm font-medium hover:text-blue-700",children:"View All"})]}),s.jsx("div",{className:"flex space-x-1 bg-gray-100 rounded-lg p-1",children:[{key:"all",label:"All"},{key:"actionable",label:"Actionable"},{key:"budget",label:"Budget"},{key:"events",label:"Events"},{key:"membership",label:"Members"}].map(({key:y,label:N})=>s.jsx("button",{onClick:()=>a(y),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${n===y?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:N},y))})]}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"space-y-4",children:v.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("svg",{className:"w-12 h-12 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsx("p",{className:"text-gray-500",children:"No notifications to display"})]}):v.map(y=>s.jsx("div",{className:`border rounded-lg p-4 ${g(y.priority)}`,children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[x(y.priority),s.jsx("div",{className:"text-gray-500",children:b(y.type)})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:y.title}),s.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${y.priority==="high"?"bg-red-100 text-red-800":y.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:[y.priority," priority"]})]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:y.message}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:new Date(y.timestamp).toLocaleString()}),y.actions.length>0&&s.jsx("div",{className:"flex items-center space-x-2 mt-3",children:y.actions.map((N,_)=>s.jsx("button",{onClick:()=>h(N.action,y.id),className:"px-3 py-1 bg-blue-600 text-white text-xs rounded hover:bg-blue-700 transition-colors",children:N.label},_))})]})]}),s.jsx("button",{onClick:()=>p(y.id),className:"text-gray-400 hover:text-gray-600 ml-2",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})},y.id))})})]})},Y6=()=>{const{userProfile:e,loading:t}=As(),[r,n]=$.useState({metrics:{totalMembers:0,activeEvents:0,budgetUsed:0,engagementRate:0},recentActivity:[],upcomingEvents:[],pendingTasks:[],financialSummary:{totalBudget:0,spent:0,remaining:0,categories:[]}}),[a,i]=$.useState(!0);$.useEffect(()=>{e!=null&&e.org_id&&o()},[e]);const o=async()=>{try{i(!0);const b=[l(),c(),u(),d()],[y,N,_,w]=await Promise.all(b),[S,P,O]=await Promise.all([f(),h(),p()]);n({metrics:{totalMembers:y,activeEvents:N,budgetUsed:_.percentUsed,engagementRate:w},recentActivity:S,upcomingEvents:P,pendingTasks:O,financialSummary:_})}catch(b){console.error("Error fetching dashboard data:",b)}finally{i(!1)}},l=async()=>{const{count:b}=await We.from("profiles").select("*",{count:"exact",head:!0}).eq("org_id",e.org_id);return b||0},c=async()=>{const{count:b}=await We.from("events").select("*",{count:"exact",head:!0}).eq("org_id",e.org_id).gte("event_date",new Date().toISOString());return b||0},u=async()=>{const{data:b}=await We.from("budget_entries").select("amount, category, type").eq("org_id",e.org_id);if(!b)return{percentUsed:0,totalBudget:0,spent:0,remaining:0,categories:[]};const y=b.filter(w=>w.type==="income").reduce((w,S)=>w+S.amount,0),N=b.filter(w=>w.type==="expense").reduce((w,S)=>w+S.amount,0),_=b.reduce((w,S)=>(w[S.category]||(w[S.category]={income:0,expenses:0}),S.type==="income"?w[S.category].income+=S.amount:w[S.category].expenses+=S.amount,w),{});return{totalBudget:y,spent:N,remaining:y-N,percentUsed:y>0?Math.round(N/y*100):0,categories:Object.entries(_).map(([w,S])=>({name:w,...S,net:S.income-S.expenses}))}},d=async()=>{const b=new Date;b.setDate(b.getDate()-30);const{count:y}=await We.from("profiles").select("*",{count:"exact",head:!0}).eq("org_id",e.org_id).gte("last_sign_in_at",b.toISOString()),{count:N}=await We.from("profiles").select("*",{count:"exact",head:!0}).eq("org_id",e.org_id);return N>0?Math.round(y/N*100):0},f=async()=>{const{data:b}=await We.from("events").select("title, created_at, created_by").eq("org_id",e.org_id).order("created_at",{ascending:!1}).limit(5),{data:y}=await We.from("profiles").select("first_name, last_name, created_at").eq("org_id",e.org_id).order("created_at",{ascending:!1}).limit(3),N=[];return b&&b.forEach(_=>{N.push({type:"event_created",title:`New event: ${_.title}`,timestamp:_.created_at,user:"System"})}),y&&y.forEach(_=>{N.push({type:"user_joined",title:`${_.first_name} ${_.last_name} joined`,timestamp:_.created_at,user:`${_.first_name} ${_.last_name}`})}),N.sort((_,w)=>new Date(w.timestamp)-new Date(_.timestamp)).slice(0,8)},h=async()=>{const{data:b}=await We.from("events").select("id, title, event_date, location, status").eq("org_id",e.org_id).gte("event_date",new Date().toISOString()).order("event_date",{ascending:!0}).limit(5);return b||[]},p=async()=>{const b=[];return(e.role==="admin"||e.role==="board_member")&&b.push({id:1,title:"Review budget proposal",priority:"high",dueDate:"2025-06-10"},{id:2,title:"Approve volunteer applications",priority:"medium",dueDate:"2025-06-12"},{id:3,title:"Update event calendar",priority:"low",dueDate:"2025-06-15"}),b},v=b=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(b),g=b=>new Date(b).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),x=b=>{const y=new Date,N=new Date(b),_=Math.floor((y-N)/(1e3*60*60));if(_<1)return"Just now";if(_<24)return`${_}h ago`;const w=Math.floor(_/24);return w<7?`${w}d ago`:g(b)};return t||a?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):s.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["Welcome back, ",e==null?void 0:e.first_name,"!"]}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Here's what's happening with your PTO today"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Members"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:r.metrics.totalMembers})]}),s.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:s.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})})]}),s.jsx("div",{className:"mt-4",children:s.jsx("span",{className:"text-sm text-green-600",children:"+12% from last month"})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Events"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:r.metrics.activeEvents})]}),s.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:s.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})]}),s.jsx("div",{className:"mt-4",children:s.jsx("span",{className:"text-sm text-blue-600",children:"3 this month"})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Budget Used"}),s.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[r.metrics.budgetUsed,"%"]})]}),s.jsx("div",{className:"p-3 bg-yellow-100 rounded-full",children:s.jsx("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})})]}),s.jsx("div",{className:"mt-4",children:s.jsxs("span",{className:"text-sm text-gray-600",children:[v(r.financialSummary.remaining)," remaining"]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Engagement Rate"}),s.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[r.metrics.engagementRate,"%"]})]}),s.jsx("div",{className:"p-3 bg-purple-100 rounded-full",children:s.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})})]}),s.jsx("div",{className:"mt-4",children:s.jsx("span",{className:"text-sm text-green-600",children:"+5% from last month"})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Recent Activity"})}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"space-y-4",children:r.recentActivity.map((b,y)=>s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${b.type==="event_created"?"bg-blue-500":"bg-green-500"}`})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:b.title}),s.jsx("p",{className:"text-sm text-gray-500",children:x(b.timestamp)})]})]},y))})})]}),s.jsx(G6,{})]}),s.jsxs("div",{className:"space-y-8",children:[s.jsx(V6,{}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Upcoming Events"})}),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"space-y-4",children:[r.upcomingEvents.map(b=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:b.title}),s.jsx("p",{className:"text-sm text-gray-600",children:g(b.event_date)}),b.location&&s.jsx("p",{className:"text-sm text-gray-500",children:b.location})]}),s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${b.status==="confirmed"?"bg-green-100 text-green-800":b.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:b.status})]},b.id)),r.upcomingEvents.length===0&&s.jsx("p",{className:"text-gray-500 text-center py-4",children:"No upcoming events"})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Quick Actions"})}),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("button",{className:"flex flex-col items-center p-4 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors",children:[s.jsx("svg",{className:"w-6 h-6 text-blue-600 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),s.jsx("span",{className:"text-sm font-medium text-blue-900",children:"New Event"})]}),s.jsxs("button",{className:"flex flex-col items-center p-4 bg-green-50 rounded-lg hover:bg-green-100 transition-colors",children:[s.jsx("svg",{className:"w-6 h-6 text-green-600 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),s.jsx("span",{className:"text-sm font-medium text-green-900",children:"Send Message"})]}),s.jsxs("button",{className:"flex flex-col items-center p-4 bg-purple-50 rounded-lg hover:bg-purple-100 transition-colors",children:[s.jsx("svg",{className:"w-6 h-6 text-purple-600 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),s.jsx("span",{className:"text-sm font-medium text-purple-900",children:"Add Member"})]}),s.jsxs("button",{className:"flex flex-col items-center p-4 bg-yellow-50 rounded-lg hover:bg-yellow-100 transition-colors",children:[s.jsx("svg",{className:"w-6 h-6 text-yellow-600 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),s.jsx("span",{className:"text-sm font-medium text-yellow-900",children:"New Report"})]})]})})]}),r.pendingTasks.length>0&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Pending Tasks"})}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"space-y-3",children:r.pendingTasks.map(b=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:b.title}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Due: ",g(b.dueDate)]})]}),s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${b.priority==="high"?"bg-red-100 text-red-800":b.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:b.priority})]},b.id))})})]})]})]})]})})},K6=[{value:"",label:"All Roles"},{value:"admin",label:"Admin"},{value:"board_member",label:"Board Member"},{value:"committee_lead",label:"Committee Lead"},{value:"volunteer",label:"Volunteer"},{value:"parent_member",label:"Parent Member"},{value:"teacher",label:"Teacher"}];function X6(){const[e,t]=$.useState([]),[r,n]=$.useState([]),[a,i]=$.useState({}),[o,l]=$.useState(!0),[c,u]=$.useState(""),[d,f]=$.useState(!1),[h,p]=$.useState(!1),[v,g]=$.useState(""),[x,b]=$.useState({});if($.useEffect(()=>{async function P(){var V,F,B;l(!0),u("");const[{data:O,error:T},{data:I,error:k}]=await Promise.all([gt("GET","/admin/organization-permissions"),gt("GET","/admin-users")]);if(console.log("[PermissionsConsole] /admin/organization-permissions response:",O),console.log("[PermissionsConsole] /admin-users response:",I),T||k){u("Failed to load permissions or users."),l(!1);return}const C=(V=O==null?void 0:O.data)==null?void 0:V.permissions,L=(F=O==null?void 0:O.data)==null?void 0:F.grouped;n(Array.isArray(C)?C:[]),i(L&&typeof L=="object"?L:{});const R=((B=I==null?void 0:I.data)==null?void 0:B.profiles)||(I==null?void 0:I.profiles)||(Array.isArray(I==null?void 0:I.data)?I.data:[]);t(R),l(!1)}P()},[]),o)return s.jsx("div",{className:"py-8 text-center text-gray-500",children:"Loading permissions..."});if(c)return s.jsx("div",{className:"py-8 text-center text-red-600",children:c});if(!Array.isArray(r)||!a||typeof a!="object")return s.jsx("div",{className:"py-8 text-center text-red-600",children:"Permissions data is unavailable or malformed."});const y=v?e.filter(P=>P.role===v):e,N=r.map(P=>({key:P.permission_key,name:P.permission_name,module:P.module_name,defaultEnabled:P.is_enabled,minRole:P.current_min_role})),_=(P,O,T)=>{b(I=>({...I,[P]:{...I[P]||{},[O]:T}})),p(!0)},w=(P,O)=>{y.forEach(T=>{_(T.id,P,O)})},S=async()=>{f(!0),u("");const P=Object.entries(x).flatMap(([T,I])=>Object.entries(I).map(([k,C])=>({user_id:T,permission_key:k,is_enabled:C}))),{error:O}=await gt("POST","/admin/organization-permissions/user-overrides",{overrides:P});O?u("Failed to save changes."):p(!1),f(!1)};return s.jsxs("div",{className:"bg-white rounded shadow p-4",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Permissions Management"}),s.jsxs("div",{className:"mb-4 flex gap-4 items-center",children:[s.jsx("label",{className:"font-medium",children:"Filter by Role:"}),s.jsx("select",{className:"border rounded px-2 py-1",value:v,onChange:P=>g(P.target.value),children:K6.map(P=>s.jsx("option",{value:P.value,children:P.label},P.value))})]}),s.jsx("div",{className:"overflow-x-auto",children:Object.keys(a).length===0?s.jsx("div",{className:"text-gray-500 text-center py-8",children:"No permissions found."}):s.jsxs("table",{className:"w-full table-auto border mb-2",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-100",children:[s.jsx("th",{className:"p-2 border",children:"Name"}),s.jsx("th",{className:"p-2 border",children:"Email"}),s.jsx("th",{className:"p-2 border",children:"Role"}),N.map(P=>s.jsx("th",{className:"p-2 border",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("span",{children:P.name}),s.jsx("button",{className:"text-xs text-blue-600 underline mt-1",onClick:()=>w(P.key,!0),title:"Enable for all filtered users",children:"Enable All"}),s.jsx("button",{className:"text-xs text-red-600 underline",onClick:()=>w(P.key,!1),title:"Disable for all filtered users",children:"Disable All"})]})},P.key))]})}),s.jsx("tbody",{children:y.map(P=>s.jsxs("tr",{className:"border-b",children:[s.jsx("td",{className:"p-2 border font-medium",children:P.full_name||P.email}),s.jsx("td",{className:"p-2 border",children:P.email}),s.jsx("td",{className:"p-2 border capitalize",children:P.role}),N.map(O=>{var k;const T=(k=x[P.id])==null?void 0:k[O.key],I=T!==void 0?T:O.defaultEnabled;return s.jsx("td",{className:"p-2 border text-center",children:s.jsx("input",{type:"checkbox",checked:I,onChange:C=>_(P.id,O.key,C.target.checked),className:"w-5 h-5 accent-blue-600"})},O.key)})]},P.id))})]})}),s.jsxs("div",{className:"flex gap-4 items-center mt-4",children:[s.jsx("button",{className:`px-4 py-2 rounded bg-blue-600 text-white font-semibold ${!h||d?"opacity-50 cursor-not-allowed":""}`,onClick:S,disabled:!h||d,children:d?"Saving...":"Save Changes"}),h&&!d&&s.jsx("span",{className:"text-yellow-600",children:"Unsaved changes"})]})]})}function J6(){return s.jsxs("div",{className:"bg-white rounded shadow p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Organization Info"}),s.jsxs("div",{className:"flex items-center gap-6 mb-6",children:[s.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-full flex items-center justify-center text-3xl text-gray-400",children:"Logo"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-bold text-lg mb-1",children:"[Organization Name]"}),s.jsx("div",{className:"text-gray-500",children:"[School/Year/Timezone]"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Contact Email"}),s.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"contact@email.com",disabled:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Address"}),s.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"123 Main St",disabled:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Phone"}),s.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"(555) 555-5555",disabled:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Timezone"}),s.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"America/Chicago",disabled:!0})]})]}),s.jsx("div",{className:"mt-6 text-gray-400 italic",children:"[Organization editing coming soon]"})]})}function Z6(){return s.jsxs("div",{className:"bg-white rounded shadow p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Email Settings (SMTP)"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"SMTP Host"}),s.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"smtp.example.com",disabled:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"SMTP Port"}),s.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"587",disabled:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Username"}),s.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"user@example.com",disabled:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Password"}),s.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",type:"password",disabled:!0})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Sender Name/Email"}),s.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"PTO Connect <noreply@ptoconnect.com>",disabled:!0})]})]}),s.jsxs("div",{className:"mt-6 flex gap-4 items-center",children:[s.jsx("button",{className:"px-4 py-2 rounded bg-blue-600 text-white font-semibold opacity-50 cursor-not-allowed",disabled:!0,children:"Test Connection"}),s.jsx("span",{className:"text-gray-400",children:"[SMTP editing & testing coming soon]"})]})]})}function Q6(){return s.jsxs("div",{className:"bg-white rounded shadow p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Subscription"}),s.jsxs("div",{className:"mb-4",children:[s.jsx("div",{className:"font-bold",children:"Current Plan:"}),s.jsx("div",{className:"text-gray-600",children:"[Plan Name]"})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("div",{className:"font-bold",children:"Renewal Date:"}),s.jsx("div",{className:"text-gray-600",children:"[2025-12-31]"})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("div",{className:"font-bold",children:"Payment Method:"}),s.jsx("div",{className:"text-gray-600",children:"[Visa â€¢â€¢â€¢â€¢ 1234]"})]}),s.jsx("button",{className:"px-4 py-2 rounded bg-blue-600 text-white font-semibold opacity-50 cursor-not-allowed",disabled:!0,children:"Manage Subscription"}),s.jsx("div",{className:"mt-6 text-gray-400 italic",children:"[Subscription management coming soon]"})]})}function eE(){return s.jsxs("div",{className:"bg-white rounded shadow p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"API Keys"}),s.jsxs("table",{className:"w-full table-auto border mb-4",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-100",children:[s.jsx("th",{className:"p-2 border",children:"Key Name"}),s.jsx("th",{className:"p-2 border",children:"Permissions"}),s.jsx("th",{className:"p-2 border",children:"Status"}),s.jsx("th",{className:"p-2 border",children:"Actions"})]})}),s.jsxs("tbody",{children:[s.jsxs("tr",{children:[s.jsx("td",{className:"p-2 border",children:"[Key 1]"}),s.jsx("td",{className:"p-2 border",children:"[Read, Write]"}),s.jsx("td",{className:"p-2 border",children:"Active"}),s.jsx("td",{className:"p-2 border",children:s.jsx("button",{className:"px-2 py-1 bg-blue-600 text-white rounded opacity-50 cursor-not-allowed",disabled:!0,children:"Edit"})})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"p-2 border",children:"[Key 2]"}),s.jsx("td",{className:"p-2 border",children:"[Read]"}),s.jsx("td",{className:"p-2 border",children:"Inactive"}),s.jsx("td",{className:"p-2 border",children:s.jsx("button",{className:"px-2 py-1 bg-blue-600 text-white rounded opacity-50 cursor-not-allowed",disabled:!0,children:"Edit"})})]})]})]}),s.jsx("button",{className:"px-4 py-2 rounded bg-blue-600 text-white font-semibold opacity-50 cursor-not-allowed",disabled:!0,children:"Create New API Key"}),s.jsx("div",{className:"mt-6 text-gray-400 italic",children:"[API key management coming soon]"})]})}const tE=[{key:"org",label:"Organization Info"},{key:"permissions",label:"Permissions"},{key:"email",label:"Email Settings"},{key:"subscription",label:"Subscription"},{key:"apikeys",label:"API Keys"}];function ov(){const[e,t]=$.useState("org");return s.jsxs("div",{className:"max-w-5xl mx-auto p-4",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Admin Dashboard"}),s.jsx("div",{className:"border-b border-gray-200 mb-6",children:s.jsx("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:tE.map(r=>s.jsx("button",{className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${e===r.key?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>t(r.key),children:r.label},r.key))})}),s.jsxs("div",{children:[e==="org"&&s.jsx(J6,{}),e==="permissions"&&s.jsx(X6,{}),e==="email"&&s.jsx(Z6,{}),e==="subscription"&&s.jsx(Q6,{}),e==="apikeys"&&s.jsx(eE,{})]})]})}const gl="https://api.ptoconnect.com/api";function rE(){const{profile:e,loading:t}=As(),[r,n]=$.useState([]),[a,i]=$.useState([]),[o,l]=$.useState(!0),[c,u]=$.useState(null),[d,f]=$.useState(!1),h=(e==null?void 0:e.role)==="admin",p=$.useCallback(async()=>{if(!(e!=null&&e.user_id)||t||!h){l(!1);return}try{l(!0),u(null);const{data:{session:P}}=await We.auth.getSession();if(!(P!=null&&P.access_token))throw new Error("No authentication token available");const[O,T]=await Promise.all([ii.get(`${gl}/api/admin/organization-permissions/templates`,{headers:{Authorization:`Bearer ${P.access_token}`}}),ii.get(`${gl}/api/admin/organization-permissions`,{headers:{Authorization:`Bearer ${P.access_token}`}})]);n(O.data.templates||[]),i(T.data.permissions||[])}catch(P){console.error("Error fetching permission data:",P.message),u(P.message)}finally{l(!1)}},[e==null?void 0:e.user_id,t,h]);$.useEffect(()=>{p()},[p]);const v=$.useCallback(async(P,O)=>{var T,I;if(!h)throw new Error("Only administrators can modify permissions");try{f(!0),u(null);const{data:{session:k}}=await We.auth.getSession();if(!(k!=null&&k.access_token))throw new Error("No authentication token available");const C=await ii.put(`${gl}/api/admin/organization-permissions/${P}`,O,{headers:{Authorization:`Bearer ${k.access_token}`}});return await p(),C.data}catch(k){throw console.error(`Error updating permission ${P}:`,k.message),u(((I=(T=k.response)==null?void 0:T.data)==null?void 0:I.error)||k.message),k}finally{f(!1)}},[h,p]),g=$.useCallback(async P=>{var O,T;if(!h)throw new Error("Only administrators can modify permissions");try{f(!0),u(null);const{data:{session:I}}=await We.auth.getSession();if(!(I!=null&&I.access_token))throw new Error("No authentication token available");const k=await ii.post(`${gl}/api/admin/organization-permissions/bulk-update`,{permissions:P},{headers:{Authorization:`Bearer ${I.access_token}`}});return await p(),k.data}catch(I){throw console.error("Error bulk updating permissions:",I.message),u(((T=(O=I.response)==null?void 0:O.data)==null?void 0:T.error)||I.message),I}finally{f(!1)}},[h,p]),x=$.useCallback(async P=>{var O,T;if(!h)throw new Error("Only administrators can modify permissions");try{f(!0),u(null);const{data:{session:I}}=await We.auth.getSession();if(!(I!=null&&I.access_token))throw new Error("No authentication token available");const k=await ii.delete(`${gl}/api/admin/organization-permissions/${P}`,{headers:{Authorization:`Bearer ${I.access_token}`}});return await p(),k.data}catch(I){throw console.error(`Error resetting permission ${P}:`,I.message),u(((T=(O=I.response)==null?void 0:O.data)==null?void 0:T.error)||I.message),I}finally{f(!1)}},[h,p]),b=$.useCallback(async P=>{if(!h)throw new Error("Only administrators can view user permissions");try{const{data:{session:O}}=await We.auth.getSession();if(!(O!=null&&O.access_token))throw new Error("No authentication token available");return(await ii.get(`${gl}/api/admin/organization-permissions/user/${P}`,{headers:{Authorization:`Bearer ${O.access_token}`}})).data}catch(O){throw console.error(`Error fetching permissions for user ${P}:`,O.message),O}},[h]),y=$.useCallback(()=>{const P={};return a.forEach(O=>{const T=O.module_name;P[T]||(P[T]=[]),P[T].push(O)}),P},[a]),N=$.useCallback(P=>r.find(O=>O.permission_key===P)||null,[r]),_=$.useCallback(P=>{const O=a.find(T=>T.permission_key===P);return!!(O!=null&&O.has_custom_setting)},[a]),w=$.useCallback(P=>{const O=a.find(I=>I.permission_key===P),T=N(P);return T?{permission_key:P,module_name:T.module_name,permission_name:T.permission_name,permission_description:T.permission_description,current_min_role:(O==null?void 0:O.current_min_role)||T.default_min_role,specific_users:(O==null?void 0:O.specific_users)||[],is_enabled:(O==null?void 0:O.is_enabled)!==void 0?O.is_enabled:!0,is_customized:!!(O!=null&&O.has_custom_setting),default_min_role:T.default_min_role}:null},[a,N]),S=$.useCallback(()=>{p()},[p]);return{templates:r,orgPermissions:a,loading:o,error:c,saving:d,isAdmin:h,updatePermission:v,bulkUpdatePermissions:g,resetPermission:x,getUserPermissions:b,refreshPermissions:S,getPermissionsByModule:y,getPermissionTemplate:N,isPermissionCustomized:_,getEffectivePermission:w,userId:e==null?void 0:e.user_id,orgId:e==null?void 0:e.org_id,userRole:e==null?void 0:e.role}}function nE(){const{profile:e,organization:t,loading:r}=As(),n={admin:5,board_member:4,committee_lead:3,volunteer:2,parent_member:1,teacher:1},a=w=>e!=null&&e.role?n[e.role]>=n[w]:!1,i=w=>e!=null&&e.role?w.includes(e.role):!1,o=w=>(e==null?void 0:e.role)===w,l=()=>a("admin"),c=()=>a("committee_lead"),u=()=>a("committee_lead"),d=()=>a("committee_lead");return{hasRole:a,hasAnyRole:i,hasExactRole:o,canAccessAdminFeatures:l,canManageEvents:c,canManageBudget:u,canManageCommunications:d,canManageUsers:()=>a("admin"),canViewReports:()=>a("board_member"),canCreateEvents:()=>a("volunteer"),canVolunteer:()=>a("parent_member"),isInOrganization:()=>!!(e!=null&&e.org_id)&&!!t,getOrganizationId:()=>e==null?void 0:e.org_id,getOrganizationName:()=>t==null?void 0:t.name,getRoleDisplayName:(w=e==null?void 0:e.role)=>({admin:"Administrator",board_member:"Board Member",committee_lead:"Committee Lead",volunteer:"Volunteer",parent_member:"Parent Member",teacher:"Teacher"})[w]||"Unknown Role",getRoleColor:(w=e==null?void 0:e.role)=>({admin:"bg-red-100 text-red-800",board_member:"bg-purple-100 text-purple-800",committee_lead:"bg-blue-100 text-blue-800",volunteer:"bg-green-100 text-green-800",parent_member:"bg-yellow-100 text-yellow-800",teacher:"bg-indigo-100 text-indigo-800"})[w]||"bg-gray-100 text-gray-800",canAccessRoute:w=>({"/dashboard/admin":l(),"/dashboard/board":a("board_member"),"/dashboard/committee":a("committee_lead"),"/dashboard/volunteer":a("volunteer"),"/dashboard/parent":a("parent_member"),"/dashboard/teacher":o("teacher"),"/events":c(),"/budget":u(),"/communications":d(),"/billing":l(),"/shared-library":a("volunteer"),"/teacher-requests":o("teacher")})[w]??!1,currentRole:e==null?void 0:e.role,currentUserId:e==null?void 0:e.id,loading:r}}function aE(){const{canAccessAdminFeatures:e}=nE(),{templates:t,loading:r,error:n,saving:a,isAdmin:i,updatePermission:o,bulkUpdatePermissions:l,resetPermission:c,getEffectivePermission:u,isPermissionCustomized:d,refreshPermissions:f}=rE(),[h,p]=$.useState("all"),[v,g]=$.useState({}),[x,b]=$.useState(!1),[y,N]=$.useState(!1),_=[{value:"volunteer",label:"Volunteer",color:"bg-green-100 text-green-800"},{value:"committee_lead",label:"Committee Lead",color:"bg-blue-100 text-blue-800"},{value:"board_member",label:"Board Member",color:"bg-purple-100 text-purple-800"},{value:"admin",label:"Administrator",color:"bg-red-100 text-red-800"}],w=[...new Set(t.map(L=>L.module_name))].sort(),P=(h==="all"?t:t.filter(L=>L.module_name===h)).reduce((L,R)=>{const V=R.module_name;return L[V]||(L[V]=[]),L[V].push(R),L},{}),O=(L,R,V)=>{g(F=>({...F,[L]:{...F[L],[R]:V}}))},T=async L=>{const R=v[L];if(R)try{const V=u(L),F={min_role_required:R.min_role_required||V.current_min_role,specific_users:R.specific_users||V.specific_users,is_enabled:R.is_enabled!==void 0?R.is_enabled:V.is_enabled};await o(L,F),g(B=>{const X={...B};return delete X[L],X}),alert(`Permission "${L}" updated successfully!`)}catch(V){alert(`Failed to update permission: ${V.message}`)}},I=async()=>{if(Object.keys(v).length!==0)try{const L=Object.entries(v).map(([R,V])=>{const F=u(R);return{permission_key:R,min_role_required:V.min_role_required||F.current_min_role,specific_users:V.specific_users||F.specific_users,is_enabled:V.is_enabled!==void 0?V.is_enabled:F.is_enabled}});await l(L),g({}),alert(`Successfully updated ${L.length} permissions!`)}catch(L){alert(`Failed to save changes: ${L.message}`)}},k=async L=>{if(confirm(`Reset "${L}" to default settings?`))try{await c(L),g(R=>{const V={...R};return delete V[L],V}),alert(`Permission "${L}" reset to default!`)}catch(R){alert(`Failed to reset permission: ${R.message}`)}},C=L=>{const R=u(L),V=v[L];return V?{...R,current_min_role:V.min_role_required||R.current_min_role,specific_users:V.specific_users||R.specific_users,is_enabled:V.is_enabled!==void 0?V.is_enabled:R.is_enabled}:R};return!e||!i?s.jsx("div",{className:"max-w-4xl mx-auto p-6",children:s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-red-800 mb-2",children:"Access Denied"}),s.jsx("p",{className:"text-red-600",children:"Only administrators can access permission management."})]})}):r?s.jsx("div",{className:"max-w-6xl mx-auto p-6",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-6"}),s.jsx("div",{className:"space-y-4",children:[1,2,3].map(L=>s.jsx("div",{className:"h-20 bg-gray-200 rounded"},L))})]})}):n?s.jsx("div",{className:"max-w-4xl mx-auto p-6",children:s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-red-800 mb-2",children:"Error Loading Permissions"}),s.jsx("p",{className:"text-red-600 mb-4",children:n}),s.jsx("button",{onClick:f,className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700",children:"Retry"})]})}):s.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Permission Management"}),s.jsx("p",{className:"text-gray-600",children:"Customize which roles can perform specific actions in your organization."})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Module:"}),s.jsxs("select",{value:h,onChange:L=>p(L.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm",children:[s.jsx("option",{value:"all",children:"All Modules"}),w.map(L=>s.jsx("option",{value:L,children:L.charAt(0).toUpperCase()+L.slice(1).replace("_"," ")},L))]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>N(!y),className:`px-4 py-2 rounded-md text-sm font-medium ${y?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:y?"Exit Bulk Mode":"Bulk Edit"}),Object.keys(v).length>0&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>b(!x),className:"px-4 py-2 bg-yellow-100 text-yellow-800 rounded-md text-sm font-medium hover:bg-yellow-200",children:["Preview Changes (",Object.keys(v).length,")"]}),s.jsx("button",{onClick:I,disabled:a,className:"px-4 py-2 bg-green-600 text-white rounded-md text-sm font-medium hover:bg-green-700 disabled:opacity-50",children:a?"Saving...":"Save All Changes"})]})]})]})}),x&&Object.keys(v).length>0&&s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:[s.jsx("h3",{className:"font-semibold text-yellow-800 mb-2",children:"Pending Changes"}),s.jsx("div",{className:"space-y-2",children:Object.entries(v).map(([L,R])=>s.jsxs("div",{className:"text-sm text-yellow-700",children:[s.jsxs("span",{className:"font-medium",children:[L,":"]}),R.min_role_required&&s.jsxs("span",{className:"ml-2",children:["Role â†’ ",R.min_role_required]}),R.is_enabled!==void 0&&s.jsxs("span",{className:"ml-2",children:["Enabled â†’ ",R.is_enabled?"Yes":"No"]})]},L))})]}),s.jsx("div",{className:"space-y-8",children:Object.entries(P).map(([L,R])=>s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[s.jsx("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-900 capitalize",children:[L.replace("_"," ")," Module"]}),s.jsxs("span",{className:"text-sm text-gray-500",children:[R.length," permissions"]})]})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Permission"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Minimum Role"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:R.map(V=>{const F=C(V.permission_key),B=v[V.permission_key],X=d(V.permission_key);return s.jsxs("tr",{className:B?"bg-yellow-50":"",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{children:[s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[F.permission_name,X&&s.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:"Custom"}),B&&s.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-yellow-100 text-yellow-800",children:"Modified"})]}),s.jsx("div",{className:"text-sm text-gray-500",children:F.permission_description})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("select",{value:F.current_min_role,onChange:Y=>O(V.permission_key,"min_role_required",Y.target.value),className:"border border-gray-300 rounded-md px-3 py-1 text-sm",children:_.map(Y=>s.jsx("option",{value:Y.value,children:Y.label},Y.value))})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:F.is_enabled,onChange:Y=>O(V.permission_key,"is_enabled",Y.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:F.is_enabled?"Enabled":"Disabled"})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[B&&s.jsx("button",{onClick:()=>T(V.permission_key),disabled:a,className:"text-green-600 hover:text-green-800 text-sm font-medium",children:"Save"}),X&&s.jsx("button",{onClick:()=>k(V.permission_key),disabled:a,className:"text-gray-600 hover:text-gray-800 text-sm font-medium",children:"Reset"})]})})]},V.permission_key)})})]})})]},L))}),s.jsxs("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:"Permission Management Guide"}),s.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[s.jsxs("li",{children:["â€¢ ",s.jsx("strong",{children:"Minimum Role:"})," The lowest role level that can perform this action"]}),s.jsxs("li",{children:["â€¢ ",s.jsx("strong",{children:"Custom:"})," Permission has been modified from the default setting"]}),s.jsxs("li",{children:["â€¢ ",s.jsx("strong",{children:"Modified:"})," Permission has unsaved changes"]}),s.jsxs("li",{children:["â€¢ ",s.jsx("strong",{children:"Reset:"})," Restore permission to its default setting"]}),s.jsx("li",{children:"â€¢ Changes take effect immediately for all users in your organization"})]})]})]})}function iE(){return s.jsxs("div",{className:"p-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-blue-600",children:"Welcome to the Board Dashboard"}),s.jsx("p",{className:"mt-4 text-gray-700",children:"This is a placeholder for the Board dashboard."})]})}function sE(){return s.jsxs("div",{className:"p-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-blue-600",children:"Welcome to the Committee Dashboard"}),s.jsx("p",{className:"mt-4 text-gray-700",children:"This is a placeholder for the Committee dashboard."})]})}function oE(){return s.jsxs("div",{className:"p-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-blue-600",children:"Welcome to the Volunteer Dashboard"}),s.jsx("p",{className:"mt-4 text-gray-700",children:"This is a placeholder for the Volunteer dashboard."})]})}function lE(){return s.jsxs("div",{className:"p-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-blue-600",children:"Welcome to the Parent Dashboard"}),s.jsx("p",{className:"mt-4 text-gray-700",children:"This is a placeholder for the Parent dashboard."})]})}function cE(){return s.jsxs("div",{className:"p-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-blue-600",children:"Welcome to the Teacher Dashboard"}),s.jsx("p",{className:"mt-4 text-gray-700",children:"This is a placeholder for the Teacher dashboard."})]})}function jt(e){"@babel/helpers - typeof";return jt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jt(e)}function uE(e,t){if(jt(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jt(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function OS(e){var t=uE(e,"string");return jt(t)=="symbol"?t:t+""}function no(e,t,r){return(t=OS(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ut(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M1(Object(r),!0).forEach(function(n){no(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rm(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function mi(e,t){if(e==null)return{};var r,n,a=rm(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Dr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,OS(n.key),n)}}function $r(e,t,r){return t&&D1(e.prototype,t),r&&D1(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function qh(e){return qh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},qh(e)}function PS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PS=function(){return!!e})()}function dE(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fE(e,t){if(t&&(jt(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dE(e)}function cn(e,t,r){return t=qh(t),fE(e,PS()?Reflect.construct(t,r||[],qh(e).constructor):t.apply(e,r))}function Uh(e,t){return Uh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Uh(e,t)}function un(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Uh(e,t)}function ES(e){if(Array.isArray(e))return e}function hE(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function o0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function fb(e,t){if(e){if(typeof e=="string")return o0(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o0(e,t):void 0}}function kS(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bo(e,t){return ES(e)||hE(e,t)||fb(e,t)||kS()}function CS(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=CS(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function hr(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=CS(e))&&(n&&(n+=" "),n+=t);return n}function ur(){return ur=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ur.apply(null,arguments)}var pE=function(e,t,r,n,a,i,o,l){if(!e){var c;if(t===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,n,a,i,o,l],d=0;c=new Error(t.replace(/%s/g,function(){return u[d++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}},mE=pE;const nd=Nt(mE);var gE=function(){};function vE(e,t){var r={};return Object.keys(e).forEach(function(n){r[Ch(n)]=gE}),r}function $1(e,t){return e[t]!==void 0}function Ch(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function yE(e){return!!e&&(typeof e!="function"||e.prototype&&e.prototype.isReactComponent)}function bE(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Uh(e,t)}function TS(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function LS(e){function t(r){var n=this.constructor.getDerivedStateFromProps(e,r);return n??null}this.setState(t.bind(this))}function MS(e,t){try{var r=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}TS.__suppressDeprecationWarning=!0;LS.__suppressDeprecationWarning=!0;MS.__suppressDeprecationWarning=!0;function xE(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var r=null,n=null,a=null;if(typeof t.componentWillMount=="function"?r="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(r="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?n="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(n="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?a="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(a="UNSAFE_componentWillUpdate"),r!==null||n!==null||a!==null){var i=e.displayName||e.name,o=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+i+" uses "+o+" but also contains the following legacy lifecycles:"+(r!==null?`
  `+r:"")+(n!==null?`
  `+n:"")+(a!==null?`
  `+a:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=TS,t.componentWillReceiveProps=LS),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=MS;var l=t.componentDidUpdate;t.componentDidUpdate=function(u,d,f){var h=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:f;l.call(this,u,d,h)}}return e}var wE="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function DS(e,t,r){r===void 0&&(r=[]);var n=e.displayName||e.name||"Component",a=yE(e),i=Object.keys(t),o=i.map(Ch);a||!r.length||nd(!1);var l=function(u){bE(d,u);function d(){for(var h,p=arguments.length,v=new Array(p),g=0;g<p;g++)v[g]=arguments[g];h=u.call.apply(u,[this].concat(v))||this,h.handlers=Object.create(null),i.forEach(function(b){var y=t[b],N=function(w){if(h.props[y]){var S;h._notifying=!0;for(var P=arguments.length,O=new Array(P>1?P-1:0),T=1;T<P;T++)O[T-1]=arguments[T];(S=h.props)[y].apply(S,[w].concat(O)),h._notifying=!1}h.unmounted||h.setState(function(I){var k,C=I.values;return{values:ur(Object.create(null),C,(k={},k[b]=w,k))}})};h.handlers[y]=N}),r.length&&(h.attachRef=function(b){h.inner=b});var x=Object.create(null);return i.forEach(function(b){x[b]=h.props[Ch(b)]}),h.state={values:x,prevProps:{}},h}var f=d.prototype;return f.shouldComponentUpdate=function(){return!this._notifying},d.getDerivedStateFromProps=function(p,v){var g=v.values,x=v.prevProps,b={values:ur(Object.create(null),g),prevProps:{}};return i.forEach(function(y){b.prevProps[y]=p[y],!$1(p,y)&&$1(x,y)&&(b.values[y]=p[Ch(y)])}),b},f.componentWillUnmount=function(){this.unmounted=!0},f.render=function(){var p=this,v=this.props,g=v.innerRef,x=rm(v,["innerRef"]);o.forEach(function(y){delete x[y]});var b={};return i.forEach(function(y){var N=p.props[y];b[y]=N!==void 0?N:p.state.values[y]}),U.createElement(e,ur({},x,b,this.handlers,{ref:g||this.attachRef}))},d}(U.Component);xE(l),l.displayName="Uncontrolled("+n+")",l.propTypes=ur({innerRef:function(){}},vE(t)),r.forEach(function(u){l.prototype[u]=function(){var f;return(f=this.inner)[u].apply(f,arguments)}});var c=l;return U.forwardRef&&(c=U.forwardRef(function(u,d){return U.createElement(l,ur({},u,{innerRef:d,__source:{fileName:wE,lineNumber:128},__self:this}))}),c.propTypes=l.propTypes),c.ControlledComponent=e,c.deferControlTo=function(u,d,f){return d===void 0&&(d={}),DS(u,ur({},t,d),f)},c}var Wh="milliseconds",ad="seconds",id="minutes",sd="hours",xo="day",Wl="week",od="month",wo="year",jo="decade",No="century",$S={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:60*60*1e3,day:24*60*60*1e3,week:7*24*60*60*1e3},jE={month:1,year:12,decade:10*12,century:100*12};function NE(e){return[31,SE(e),31,30,31,30,31,31,30,31,30,31]}function SE(e){return e%4===0&&e%100!==0||e%400===0?29:28}function Fa(e,t,r){switch(e=new Date(e),r){case Wh:case ad:case id:case sd:case xo:case Wl:return _E(e,t*$S[r]);case od:case wo:case jo:case No:return AE(e,t*jE[r])}throw new TypeError('Invalid units: "'+r+'"')}function _E(e,t){var r=new Date(+e+t);return OE(e,r)}function AE(e,t){var r=e.getFullYear(),n=e.getMonth(),a=e.getDate(),i=r*12+n+t,o=Math.trunc(i/12),l=i%12,c=Math.min(a,NE(o)[l]),u=new Date(e);return u.setFullYear(o),u.setDate(1),u.setMonth(l),u.setDate(c),u}function OE(e,t){var r=e.getTimezoneOffset(),n=t.getTimezoneOffset(),a=n-r;return new Date(+t+a*$S.minutes)}function ld(e,t,r){return Fa(e,-t,r)}function Xr(e,t,r){switch(e=new Date(e),t){case No:case jo:case wo:e=Gh(e,0);case od:e=zS(e,1);case Wl:case xo:e=dd(e,0);case sd:e=Hl(e,0);case id:e=ud(e,0);case ad:e=cd(e,0)}return t===jo&&(e=ld(e,So(e)%10,"year")),t===No&&(e=ld(e,So(e)%100,"year")),t===Wl&&(e=qS(e,0,r)),e}function Hh(e,t,r){switch(e=new Date(e),e=Xr(e,t,r),t){case No:case jo:case wo:case od:case Wl:e=Fa(e,1,t),e=ld(e,1,xo),e.setHours(23,59,59,999);break;case xo:e.setHours(23,59,59,999);break;case sd:case id:case ad:e=Fa(e,1,t),e=ld(e,1,Wh)}return e}var Ac=Pc(function(e,t){return e===t}),hb=Pc(function(e,t){return e!==t}),nm=Pc(function(e,t){return e>t}),nf=Pc(function(e,t){return e>=t}),pb=Pc(function(e,t){return e<t}),Oc=Pc(function(e,t){return e<=t});function IS(){return new Date(Math.min.apply(Math,arguments))}function RS(){return new Date(Math.max.apply(Math,arguments))}function FS(e,t,r,n){return n=n||"day",(!t||nf(e,t,n))&&(!r||Oc(e,r,n))}var cd=Os("Milliseconds"),ud=Os("Seconds"),Hl=Os("Minutes"),dd=Os("Hours"),BS=Os("Day"),zS=Os("Date"),Gh=Os("Month"),So=Os("FullYear");function PE(e,t){return t===void 0?So(Xr(e,jo)):Fa(e,t+10,wo)}function EE(e,t){return t===void 0?So(Xr(e,No)):Fa(e,t+100,wo)}function qS(e,t,r){var n=(BS(e)+7-(r||0))%7;return t===void 0?n:Fa(e,t-n,xo)}function kE(e,t,r,n){var a,i,o;switch(r){case Wh:case ad:case id:case sd:case xo:case Wl:a=t.getTime()-e.getTime();break;case od:case wo:case jo:case No:a=(So(t)-So(e))*12+Gh(t)-Gh(e);break;default:throw new TypeError('Invalid units: "'+r+'"')}switch(r){case Wh:i=1;break;case ad:i=1e3;break;case id:i=1e3*60;break;case sd:i=1e3*60*60;break;case xo:i=1e3*60*60*24;break;case Wl:i=1e3*60*60*24*7;break;case od:i=1;break;case wo:i=12;break;case jo:i=120;break;case No:i=1200;break;default:throw new TypeError('Invalid units: "'+r+'"')}return o=a/i,n?o:Math.round(o)}function Os(e){var t=function(r){switch(r){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(e);return function(r,n){if(n===void 0)return r["get"+e]();var a=new Date(r);return a["set"+e](n),t&&a["get"+e]()!=n&&(e==="Hours"||n>=t&&a.getHours()-r.getHours()<Math.floor(n/t))&&a["set"+e](n+t),a}}function Pc(e){return function(t,r,n){return e(+Xr(t,n),+Xr(r,n))}}const I1=Object.freeze(Object.defineProperty({__proto__:null,add:Fa,century:EE,date:zS,day:BS,decade:PE,diff:kE,endOf:Hh,eq:Ac,gt:nm,gte:nf,hours:dd,inRange:FS,lt:pb,lte:Oc,max:RS,milliseconds:cd,min:IS,minutes:Hl,month:Gh,neq:hb,seconds:ud,startOf:Xr,subtract:ld,weekday:qS,year:So},Symbol.toStringTag,{value:"Module"}));function CE(e){if(Array.isArray(e))return o0(e)}function US(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function TE(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Th(e){return CE(e)||US(e)||fb(e)||TE()}function LE(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var mb=LE;function ME(e,t){return e===t||e!==e&&t!==t}var af=ME,DE=typeof ia=="object"&&ia&&ia.Object===Object&&ia,WS=DE,$E=WS,IE=typeof self=="object"&&self&&self.Object===Object&&self,RE=$E||IE||Function("return this")(),Ba=RE,FE=Ba,BE=FE.Symbol,Ec=BE,R1=Ec,HS=Object.prototype,zE=HS.hasOwnProperty,qE=HS.toString,_u=R1?R1.toStringTag:void 0;function UE(e){var t=zE.call(e,_u),r=e[_u];try{e[_u]=void 0;var n=!0}catch{}var a=qE.call(e);return n&&(t?e[_u]=r:delete e[_u]),a}var WE=UE,HE=Object.prototype,GE=HE.toString;function VE(e){return GE.call(e)}var YE=VE,F1=Ec,KE=WE,XE=YE,JE="[object Null]",ZE="[object Undefined]",B1=F1?F1.toStringTag:void 0;function QE(e){return e==null?e===void 0?ZE:JE:B1&&B1 in Object(e)?KE(e):XE(e)}var Hi=QE;function ek(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var fa=ek;const kc=Nt(fa);var tk=Hi,rk=fa,nk="[object AsyncFunction]",ak="[object Function]",ik="[object GeneratorFunction]",sk="[object Proxy]";function ok(e){if(!rk(e))return!1;var t=tk(e);return t==ak||t==ik||t==nk||t==sk}var am=ok;const nt=Nt(am);var lk=9007199254740991;function ck(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=lk}var gb=ck,uk=am,dk=gb;function fk(e){return e!=null&&dk(e.length)&&!uk(e)}var Cc=fk,hk=9007199254740991,pk=/^(?:0|[1-9]\d*)$/;function mk(e,t){var r=typeof e;return t=t??hk,!!t&&(r=="number"||r!="symbol"&&pk.test(e))&&e>-1&&e%1==0&&e<t}var vb=mk,gk=af,vk=Cc,yk=vb,bk=fa;function xk(e,t,r){if(!bk(r))return!1;var n=typeof t;return(n=="number"?vk(r)&&yk(t,r.length):n=="string"&&t in r)?gk(r[t],e):!1}var Tc=xk,wk=/\s/;function jk(e){for(var t=e.length;t--&&wk.test(e.charAt(t)););return t}var Nk=jk,Sk=Nk,_k=/^\s+/;function Ak(e){return e&&e.slice(0,Sk(e)+1).replace(_k,"")}var Ok=Ak;function Pk(e){return e!=null&&typeof e=="object"}var za=Pk,Ek=Hi,kk=za,Ck="[object Symbol]";function Tk(e){return typeof e=="symbol"||kk(e)&&Ek(e)==Ck}var Lc=Tk,Lk=Ok,z1=fa,Mk=Lc,q1=NaN,Dk=/^[-+]0x[0-9a-f]+$/i,$k=/^0b[01]+$/i,Ik=/^0o[0-7]+$/i,Rk=parseInt;function Fk(e){if(typeof e=="number")return e;if(Mk(e))return q1;if(z1(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=z1(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Lk(e);var r=$k.test(e);return r||Ik.test(e)?Rk(e.slice(2),r?2:8):Dk.test(e)?q1:+e}var GS=Fk,Bk=GS,U1=1/0,zk=17976931348623157e292;function qk(e){if(!e)return e===0?e:0;if(e=Bk(e),e===U1||e===-U1){var t=e<0?-1:1;return t*zk}return e===e?e:0}var VS=qk,Uk=VS;function Wk(e){var t=Uk(e),r=t%1;return t===t?r?t-r:t:0}var YS=Wk,Hk=mb,Gk=Tc,Vk=YS,Yk=Math.ceil,Kk=Math.max;function Xk(e,t,r){(r?Gk(e,t,r):t===void 0)?t=1:t=Kk(Vk(t),0);var n=e==null?0:e.length;if(!n||t<1)return[];for(var a=0,i=0,o=Array(Yk(n/t));a<n;)o[i++]=Hk(e,a,a+=t);return o}var Jk=Xk;const Zk=Nt(Jk);function sf(e){return e&&e.ownerDocument||document}function Qk(e){var t=sf(e);return t&&t.defaultView||window}function eC(e,t){return Qk(e).getComputedStyle(e,t)}var tC=/([A-Z])/g;function rC(e){return e.replace(tC,"-$1").toLowerCase()}var nC=/^ms-/;function oh(e){return rC(e).replace(nC,"-ms-")}var aC=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function iC(e){return!!(e&&aC.test(e))}function Nl(e,t){var r="",n="";if(typeof t=="string")return e.style.getPropertyValue(oh(t))||eC(e).getPropertyValue(oh(t));Object.keys(t).forEach(function(a){var i=t[a];!i&&i!==0?e.style.removeProperty(oh(a)):iC(a)?n+=a+"("+i+") ":r+=oh(a)+": "+i+";"}),n&&(r+="transform: "+n+";"),e.style.cssText+=";"+r}function fd(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}function sC(e){return"nodeType"in e&&e.nodeType===document.DOCUMENT_NODE}function yb(e){return"window"in e&&e.window===e?e:sC(e)&&e.defaultView||!1}function KS(e){var t=e==="pageXOffset"?"scrollLeft":"scrollTop";function r(n,a){var i=yb(n);if(a===void 0)return i?i[e]:n[t];i?i.scrollTo(i[e],a):n[t]=a}return r}const XS=KS("pageXOffset"),JS=KS("pageYOffset");function fo(e){var t=sf(e),r={top:0,left:0,height:0,width:0},n=t&&t.documentElement;return!n||!fd(n,e)||(e.getBoundingClientRect!==void 0&&(r=e.getBoundingClientRect()),r={top:r.top+JS(n)-(n.clientTop||0),left:r.left+XS(n)-(n.clientLeft||0),width:r.width,height:r.height}),r}var oC=function(t){return!!t&&"offsetParent"in t};function lC(e){for(var t=sf(e),r=e&&e.offsetParent;oC(r)&&r.nodeName!=="HTML"&&Nl(r,"position")==="static";)r=r.offsetParent;return r||t.documentElement}var cC=function(t){return t.nodeName&&t.nodeName.toLowerCase()};function ZS(e,t){var r={top:0,left:0},n;if(Nl(e,"position")==="fixed")n=e.getBoundingClientRect();else{var a=t||lC(e);n=fo(e),cC(a)!=="html"&&(r=fo(a));var i=String(Nl(a,"borderTopWidth")||0);r.top+=parseInt(i,10)-JS(a)||0;var o=String(Nl(a,"borderLeftWidth")||0);r.left+=parseInt(o,10)-XS(a)||0}var l=String(Nl(e,"marginTop")||0),c=String(Nl(e,"marginLeft")||0);return ur({},n,{top:n.top-r.top-(parseInt(l,10)||0),left:n.left-r.left-(parseInt(c,10)||0)})}const bb=!!(typeof window<"u"&&window.document&&window.document.createElement);var W1=new Date().getTime();function uC(e){var t=new Date().getTime(),r=Math.max(0,16-(t-W1)),n=setTimeout(e,r);return W1=t,n}var dC=["","webkit","moz","o","ms"],l0="clearTimeout",c0=uC,H1=function(t,r){return t+(t?r[0].toUpperCase()+r.substr(1):r)+"AnimationFrame"};bb&&dC.some(function(e){var t=H1(e,"request");return t in window&&(l0=H1(e,"cancel"),c0=function(n){return window[t](n)}),!!c0});var G1=function(t){typeof window[l0]=="function"&&window[l0](t)},QS=c0,lv;function fC(e,t){if(!lv){var r=document.body,n=r.matches||r.matchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector;lv=function(i,o){return n.call(i,o)}}return lv(e,t)}var hC=Function.prototype.bind.call(Function.prototype.call,[].slice);function pC(e,t){return hC(e.querySelectorAll(t))}var u0=!1,d0=!1;try{var cv={get passive(){return u0=!0},get once(){return d0=u0=!0}};bb&&(window.addEventListener("test",cv,cv),window.removeEventListener("test",cv,!0))}catch{}function mC(e,t,r,n){if(n&&typeof n!="boolean"&&!d0){var a=n.once,i=n.capture,o=r;!d0&&a&&(o=r.__once||function l(c){this.removeEventListener(t,l,i),r.call(this,c)},r.__once=o),e.addEventListener(t,o,u0?n:i)}e.addEventListener(t,r,n)}function gC(e){const t=$.useRef(e);return $.useEffect(()=>{t.current=e},[e]),t}function V1(e){const t=gC(e);return $.useCallback(function(...r){return t.current&&t.current(...r)},[t])}function Y1(){return $.useState(null)}function vC(){const e=$.useRef(!0),t=$.useRef(()=>e.current);return $.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function yC(e){const t=vC();return[e[0],$.useCallback(r=>{if(t())return e[1](r)},[t,e[1]])]}var kn="top",ca="bottom",ua="right",Cn="left",xb="auto",of=[kn,ca,ua,Cn],Gl="start",hd="end",bC="clippingParents",e_="viewport",Au="popper",xC="reference",K1=of.reduce(function(e,t){return e.concat([t+"-"+Gl,t+"-"+hd])},[]),wb=[].concat(of,[xb]).reduce(function(e,t){return e.concat([t,t+"-"+Gl,t+"-"+hd])},[]),wC="beforeRead",jC="read",NC="afterRead",SC="beforeMain",_C="main",AC="afterMain",OC="beforeWrite",PC="write",EC="afterWrite",kC=[wC,jC,NC,SC,_C,AC,OC,PC,EC];function ui(e){return e.split("-")[0]}function Hn(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function _o(e){var t=Hn(e).Element;return e instanceof t||e instanceof Element}function di(e){var t=Hn(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function jb(e){if(typeof ShadowRoot>"u")return!1;var t=Hn(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}var ho=Math.max,Vh=Math.min,Vl=Math.round;function f0(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function t_(){return!/^((?!chrome|android).)*safari/i.test(f0())}function Yl(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var n=e.getBoundingClientRect(),a=1,i=1;t&&di(e)&&(a=e.offsetWidth>0&&Vl(n.width)/e.offsetWidth||1,i=e.offsetHeight>0&&Vl(n.height)/e.offsetHeight||1);var o=_o(e)?Hn(e):window,l=o.visualViewport,c=!t_()&&r,u=(n.left+(c&&l?l.offsetLeft:0))/a,d=(n.top+(c&&l?l.offsetTop:0))/i,f=n.width/a,h=n.height/i;return{width:f,height:h,top:d,right:u+f,bottom:d+h,left:u,x:u,y:d}}function Nb(e){var t=Yl(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function r_(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&jb(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function xs(e){return e?(e.nodeName||"").toLowerCase():null}function zi(e){return Hn(e).getComputedStyle(e)}function CC(e){return["table","td","th"].indexOf(xs(e))>=0}function Ps(e){return((_o(e)?e.ownerDocument:e.document)||window.document).documentElement}function im(e){return xs(e)==="html"?e:e.assignedSlot||e.parentNode||(jb(e)?e.host:null)||Ps(e)}function X1(e){return!di(e)||zi(e).position==="fixed"?null:e.offsetParent}function TC(e){var t=/firefox/i.test(f0()),r=/Trident/i.test(f0());if(r&&di(e)){var n=zi(e);if(n.position==="fixed")return null}var a=im(e);for(jb(a)&&(a=a.host);di(a)&&["html","body"].indexOf(xs(a))<0;){var i=zi(a);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||t&&i.willChange==="filter"||t&&i.filter&&i.filter!=="none")return a;a=a.parentNode}return null}function lf(e){for(var t=Hn(e),r=X1(e);r&&CC(r)&&zi(r).position==="static";)r=X1(r);return r&&(xs(r)==="html"||xs(r)==="body"&&zi(r).position==="static")?t:r||TC(e)||t}function Sb(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Vu(e,t,r){return ho(e,Vh(t,r))}function LC(e,t,r){var n=Vu(e,t,r);return n>r?r:n}function n_(){return{top:0,right:0,bottom:0,left:0}}function a_(e){return Object.assign({},n_(),e)}function i_(e,t){return t.reduce(function(r,n){return r[n]=e,r},{})}var MC=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,a_(typeof t!="number"?t:i_(t,of))};function DC(e){var t,r=e.state,n=e.name,a=e.options,i=r.elements.arrow,o=r.modifiersData.popperOffsets,l=ui(r.placement),c=Sb(l),u=[Cn,ua].indexOf(l)>=0,d=u?"height":"width";if(!(!i||!o)){var f=MC(a.padding,r),h=Nb(i),p=c==="y"?kn:Cn,v=c==="y"?ca:ua,g=r.rects.reference[d]+r.rects.reference[c]-o[c]-r.rects.popper[d],x=o[c]-r.rects.reference[c],b=lf(i),y=b?c==="y"?b.clientHeight||0:b.clientWidth||0:0,N=g/2-x/2,_=f[p],w=y-h[d]-f[v],S=y/2-h[d]/2+N,P=Vu(_,S,w),O=c;r.modifiersData[n]=(t={},t[O]=P,t.centerOffset=P-S,t)}}function $C(e){var t=e.state,r=e.options,n=r.element,a=n===void 0?"[data-popper-arrow]":n;a!=null&&(typeof a=="string"&&(a=t.elements.popper.querySelector(a),!a)||r_(t.elements.popper,a)&&(t.elements.arrow=a))}const IC={name:"arrow",enabled:!0,phase:"main",fn:DC,effect:$C,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Kl(e){return e.split("-")[1]}var RC={top:"auto",right:"auto",bottom:"auto",left:"auto"};function FC(e,t){var r=e.x,n=e.y,a=t.devicePixelRatio||1;return{x:Vl(r*a)/a||0,y:Vl(n*a)/a||0}}function J1(e){var t,r=e.popper,n=e.popperRect,a=e.placement,i=e.variation,o=e.offsets,l=e.position,c=e.gpuAcceleration,u=e.adaptive,d=e.roundOffsets,f=e.isFixed,h=o.x,p=h===void 0?0:h,v=o.y,g=v===void 0?0:v,x=typeof d=="function"?d({x:p,y:g}):{x:p,y:g};p=x.x,g=x.y;var b=o.hasOwnProperty("x"),y=o.hasOwnProperty("y"),N=Cn,_=kn,w=window;if(u){var S=lf(r),P="clientHeight",O="clientWidth";if(S===Hn(r)&&(S=Ps(r),zi(S).position!=="static"&&l==="absolute"&&(P="scrollHeight",O="scrollWidth")),S=S,a===kn||(a===Cn||a===ua)&&i===hd){_=ca;var T=f&&S===w&&w.visualViewport?w.visualViewport.height:S[P];g-=T-n.height,g*=c?1:-1}if(a===Cn||(a===kn||a===ca)&&i===hd){N=ua;var I=f&&S===w&&w.visualViewport?w.visualViewport.width:S[O];p-=I-n.width,p*=c?1:-1}}var k=Object.assign({position:l},u&&RC),C=d===!0?FC({x:p,y:g},Hn(r)):{x:p,y:g};if(p=C.x,g=C.y,c){var L;return Object.assign({},k,(L={},L[_]=y?"0":"",L[N]=b?"0":"",L.transform=(w.devicePixelRatio||1)<=1?"translate("+p+"px, "+g+"px)":"translate3d("+p+"px, "+g+"px, 0)",L))}return Object.assign({},k,(t={},t[_]=y?g+"px":"",t[N]=b?p+"px":"",t.transform="",t))}function BC(e){var t=e.state,r=e.options,n=r.gpuAcceleration,a=n===void 0?!0:n,i=r.adaptive,o=i===void 0?!0:i,l=r.roundOffsets,c=l===void 0?!0:l,u={placement:ui(t.placement),variation:Kl(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,J1(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:c})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,J1(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const zC={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:BC,data:{}};var lh={passive:!0};function qC(e){var t=e.state,r=e.instance,n=e.options,a=n.scroll,i=a===void 0?!0:a,o=n.resize,l=o===void 0?!0:o,c=Hn(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&u.forEach(function(d){d.addEventListener("scroll",r.update,lh)}),l&&c.addEventListener("resize",r.update,lh),function(){i&&u.forEach(function(d){d.removeEventListener("scroll",r.update,lh)}),l&&c.removeEventListener("resize",r.update,lh)}}const UC={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:qC,data:{}};var WC={left:"right",right:"left",bottom:"top",top:"bottom"};function Lh(e){return e.replace(/left|right|bottom|top/g,function(t){return WC[t]})}var HC={start:"end",end:"start"};function Z1(e){return e.replace(/start|end/g,function(t){return HC[t]})}function _b(e){var t=Hn(e),r=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:r,scrollTop:n}}function Ab(e){return Yl(Ps(e)).left+_b(e).scrollLeft}function GC(e,t){var r=Hn(e),n=Ps(e),a=r.visualViewport,i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;var u=t_();(u||!u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l+Ab(e),y:c}}function VC(e){var t,r=Ps(e),n=_b(e),a=(t=e.ownerDocument)==null?void 0:t.body,i=ho(r.scrollWidth,r.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),o=ho(r.scrollHeight,r.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),l=-n.scrollLeft+Ab(e),c=-n.scrollTop;return zi(a||r).direction==="rtl"&&(l+=ho(r.clientWidth,a?a.clientWidth:0)-i),{width:i,height:o,x:l,y:c}}function Ob(e){var t=zi(e),r=t.overflow,n=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+a+n)}function s_(e){return["html","body","#document"].indexOf(xs(e))>=0?e.ownerDocument.body:di(e)&&Ob(e)?e:s_(im(e))}function Yu(e,t){var r;t===void 0&&(t=[]);var n=s_(e),a=n===((r=e.ownerDocument)==null?void 0:r.body),i=Hn(n),o=a?[i].concat(i.visualViewport||[],Ob(n)?n:[]):n,l=t.concat(o);return a?l:l.concat(Yu(im(o)))}function h0(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function YC(e,t){var r=Yl(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function Q1(e,t,r){return t===e_?h0(GC(e,r)):_o(t)?YC(t,r):h0(VC(Ps(e)))}function KC(e){var t=Yu(im(e)),r=["absolute","fixed"].indexOf(zi(e).position)>=0,n=r&&di(e)?lf(e):e;return _o(n)?t.filter(function(a){return _o(a)&&r_(a,n)&&xs(a)!=="body"}):[]}function XC(e,t,r,n){var a=t==="clippingParents"?KC(e):[].concat(t),i=[].concat(a,[r]),o=i[0],l=i.reduce(function(c,u){var d=Q1(e,u,n);return c.top=ho(d.top,c.top),c.right=Vh(d.right,c.right),c.bottom=Vh(d.bottom,c.bottom),c.left=ho(d.left,c.left),c},Q1(e,o,n));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function o_(e){var t=e.reference,r=e.element,n=e.placement,a=n?ui(n):null,i=n?Kl(n):null,o=t.x+t.width/2-r.width/2,l=t.y+t.height/2-r.height/2,c;switch(a){case kn:c={x:o,y:t.y-r.height};break;case ca:c={x:o,y:t.y+t.height};break;case ua:c={x:t.x+t.width,y:l};break;case Cn:c={x:t.x-r.width,y:l};break;default:c={x:t.x,y:t.y}}var u=a?Sb(a):null;if(u!=null){var d=u==="y"?"height":"width";switch(i){case Gl:c[u]=c[u]-(t[d]/2-r[d]/2);break;case hd:c[u]=c[u]+(t[d]/2-r[d]/2);break}}return c}function pd(e,t){t===void 0&&(t={});var r=t,n=r.placement,a=n===void 0?e.placement:n,i=r.strategy,o=i===void 0?e.strategy:i,l=r.boundary,c=l===void 0?bC:l,u=r.rootBoundary,d=u===void 0?e_:u,f=r.elementContext,h=f===void 0?Au:f,p=r.altBoundary,v=p===void 0?!1:p,g=r.padding,x=g===void 0?0:g,b=a_(typeof x!="number"?x:i_(x,of)),y=h===Au?xC:Au,N=e.rects.popper,_=e.elements[v?y:h],w=XC(_o(_)?_:_.contextElement||Ps(e.elements.popper),c,d,o),S=Yl(e.elements.reference),P=o_({reference:S,element:N,placement:a}),O=h0(Object.assign({},N,P)),T=h===Au?O:S,I={top:w.top-T.top+b.top,bottom:T.bottom-w.bottom+b.bottom,left:w.left-T.left+b.left,right:T.right-w.right+b.right},k=e.modifiersData.offset;if(h===Au&&k){var C=k[a];Object.keys(I).forEach(function(L){var R=[ua,ca].indexOf(L)>=0?1:-1,V=[kn,ca].indexOf(L)>=0?"y":"x";I[L]+=C[V]*R})}return I}function JC(e,t){t===void 0&&(t={});var r=t,n=r.placement,a=r.boundary,i=r.rootBoundary,o=r.padding,l=r.flipVariations,c=r.allowedAutoPlacements,u=c===void 0?wb:c,d=Kl(n),f=d?l?K1:K1.filter(function(v){return Kl(v)===d}):of,h=f.filter(function(v){return u.indexOf(v)>=0});h.length===0&&(h=f);var p=h.reduce(function(v,g){return v[g]=pd(e,{placement:g,boundary:a,rootBoundary:i,padding:o})[ui(g)],v},{});return Object.keys(p).sort(function(v,g){return p[v]-p[g]})}function ZC(e){if(ui(e)===xb)return[];var t=Lh(e);return[Z1(e),t,Z1(t)]}function QC(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var a=r.mainAxis,i=a===void 0?!0:a,o=r.altAxis,l=o===void 0?!0:o,c=r.fallbackPlacements,u=r.padding,d=r.boundary,f=r.rootBoundary,h=r.altBoundary,p=r.flipVariations,v=p===void 0?!0:p,g=r.allowedAutoPlacements,x=t.options.placement,b=ui(x),y=b===x,N=c||(y||!v?[Lh(x)]:ZC(x)),_=[x].concat(N).reduce(function(Q,ne){return Q.concat(ui(ne)===xb?JC(t,{placement:ne,boundary:d,rootBoundary:f,padding:u,flipVariations:v,allowedAutoPlacements:g}):ne)},[]),w=t.rects.reference,S=t.rects.popper,P=new Map,O=!0,T=_[0],I=0;I<_.length;I++){var k=_[I],C=ui(k),L=Kl(k)===Gl,R=[kn,ca].indexOf(C)>=0,V=R?"width":"height",F=pd(t,{placement:k,boundary:d,rootBoundary:f,altBoundary:h,padding:u}),B=R?L?ua:Cn:L?ca:kn;w[V]>S[V]&&(B=Lh(B));var X=Lh(B),Y=[];if(i&&Y.push(F[C]<=0),l&&Y.push(F[B]<=0,F[X]<=0),Y.every(function(Q){return Q})){T=k,O=!1;break}P.set(k,Y)}if(O)for(var Z=v?3:1,ae=function(ne){var se=_.find(function(he){var de=P.get(he);if(de)return de.slice(0,ne).every(function(ie){return ie})});if(se)return T=se,"break"},D=Z;D>0;D--){var W=ae(D);if(W==="break")break}t.placement!==T&&(t.modifiersData[n]._skip=!0,t.placement=T,t.reset=!0)}}const eT={name:"flip",enabled:!0,phase:"main",fn:QC,requiresIfExists:["offset"],data:{_skip:!1}};function e2(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function t2(e){return[kn,ua,ca,Cn].some(function(t){return e[t]>=0})}function tT(e){var t=e.state,r=e.name,n=t.rects.reference,a=t.rects.popper,i=t.modifiersData.preventOverflow,o=pd(t,{elementContext:"reference"}),l=pd(t,{altBoundary:!0}),c=e2(o,n),u=e2(l,a,i),d=t2(c),f=t2(u);t.modifiersData[r]={referenceClippingOffsets:c,popperEscapeOffsets:u,isReferenceHidden:d,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":f})}const rT={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:tT};function nT(e,t,r){var n=ui(e),a=[Cn,kn].indexOf(n)>=0?-1:1,i=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,o=i[0],l=i[1];return o=o||0,l=(l||0)*a,[Cn,ua].indexOf(n)>=0?{x:l,y:o}:{x:o,y:l}}function aT(e){var t=e.state,r=e.options,n=e.name,a=r.offset,i=a===void 0?[0,0]:a,o=wb.reduce(function(d,f){return d[f]=nT(f,t.rects,i),d},{}),l=o[t.placement],c=l.x,u=l.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=u),t.modifiersData[n]=o}const iT={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:aT};function sT(e){var t=e.state,r=e.name;t.modifiersData[r]=o_({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const oT={name:"popperOffsets",enabled:!0,phase:"read",fn:sT,data:{}};function lT(e){return e==="x"?"y":"x"}function cT(e){var t=e.state,r=e.options,n=e.name,a=r.mainAxis,i=a===void 0?!0:a,o=r.altAxis,l=o===void 0?!1:o,c=r.boundary,u=r.rootBoundary,d=r.altBoundary,f=r.padding,h=r.tether,p=h===void 0?!0:h,v=r.tetherOffset,g=v===void 0?0:v,x=pd(t,{boundary:c,rootBoundary:u,padding:f,altBoundary:d}),b=ui(t.placement),y=Kl(t.placement),N=!y,_=Sb(b),w=lT(_),S=t.modifiersData.popperOffsets,P=t.rects.reference,O=t.rects.popper,T=typeof g=="function"?g(Object.assign({},t.rects,{placement:t.placement})):g,I=typeof T=="number"?{mainAxis:T,altAxis:T}:Object.assign({mainAxis:0,altAxis:0},T),k=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,C={x:0,y:0};if(S){if(i){var L,R=_==="y"?kn:Cn,V=_==="y"?ca:ua,F=_==="y"?"height":"width",B=S[_],X=B+x[R],Y=B-x[V],Z=p?-O[F]/2:0,ae=y===Gl?P[F]:O[F],D=y===Gl?-O[F]:-P[F],W=t.elements.arrow,Q=p&&W?Nb(W):{width:0,height:0},ne=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:n_(),se=ne[R],he=ne[V],de=Vu(0,P[F],Q[F]),ie=N?P[F]/2-Z-de-se-I.mainAxis:ae-de-se-I.mainAxis,xe=N?-P[F]/2+Z+de+he+I.mainAxis:D+de+he+I.mainAxis,be=t.elements.arrow&&lf(t.elements.arrow),pe=be?_==="y"?be.clientTop||0:be.clientLeft||0:0,Ee=(L=k==null?void 0:k[_])!=null?L:0,De=B+ie-Ee-pe,ye=B+xe-Ee,re=Vu(p?Vh(X,De):X,B,p?ho(Y,ye):Y);S[_]=re,C[_]=re-B}if(l){var Ye,Be=_==="x"?kn:Cn,ke=_==="x"?ca:ua,Te=S[w],$e=w==="y"?"height":"width",Me=Te+x[Be],Ve=Te-x[ke],Ze=[kn,Cn].indexOf(b)!==-1,it=(Ye=k==null?void 0:k[w])!=null?Ye:0,mt=Ze?Me:Te-P[$e]-O[$e]-it+I.altAxis,xt=Ze?Te+P[$e]+O[$e]-it-I.altAxis:Ve,kt=p&&Ze?LC(mt,Te,xt):Vu(p?mt:Me,Te,p?xt:Ve);S[w]=kt,C[w]=kt-Te}t.modifiersData[n]=C}}const uT={name:"preventOverflow",enabled:!0,phase:"main",fn:cT,requiresIfExists:["offset"]};function dT(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function fT(e){return e===Hn(e)||!di(e)?_b(e):dT(e)}function hT(e){var t=e.getBoundingClientRect(),r=Vl(t.width)/e.offsetWidth||1,n=Vl(t.height)/e.offsetHeight||1;return r!==1||n!==1}function pT(e,t,r){r===void 0&&(r=!1);var n=di(t),a=di(t)&&hT(t),i=Ps(t),o=Yl(e,a,r),l={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(n||!n&&!r)&&((xs(t)!=="body"||Ob(i))&&(l=fT(t)),di(t)?(c=Yl(t,!0),c.x+=t.clientLeft,c.y+=t.clientTop):i&&(c.x=Ab(i))),{x:o.left+l.scrollLeft-c.x,y:o.top+l.scrollTop-c.y,width:o.width,height:o.height}}function mT(e){var t=new Map,r=new Set,n=[];e.forEach(function(i){t.set(i.name,i)});function a(i){r.add(i.name);var o=[].concat(i.requires||[],i.requiresIfExists||[]);o.forEach(function(l){if(!r.has(l)){var c=t.get(l);c&&a(c)}}),n.push(i)}return e.forEach(function(i){r.has(i.name)||a(i)}),n}function gT(e){var t=mT(e);return kC.reduce(function(r,n){return r.concat(t.filter(function(a){return a.phase===n}))},[])}function vT(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function yT(e){var t=e.reduce(function(r,n){var a=r[n.name];return r[n.name]=a?Object.assign({},a,n,{options:Object.assign({},a.options,n.options),data:Object.assign({},a.data,n.data)}):n,r},{});return Object.keys(t).map(function(r){return t[r]})}var r2={placement:"bottom",modifiers:[],strategy:"absolute"};function n2(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function bT(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,n=r===void 0?[]:r,a=t.defaultOptions,i=a===void 0?r2:a;return function(l,c,u){u===void 0&&(u=i);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},r2,i),modifiersData:{},elements:{reference:l,popper:c},attributes:{},styles:{}},f=[],h=!1,p={state:d,setOptions:function(b){var y=typeof b=="function"?b(d.options):b;g(),d.options=Object.assign({},i,d.options,y),d.scrollParents={reference:_o(l)?Yu(l):l.contextElement?Yu(l.contextElement):[],popper:Yu(c)};var N=gT(yT([].concat(n,d.options.modifiers)));return d.orderedModifiers=N.filter(function(_){return _.enabled}),v(),p.update()},forceUpdate:function(){if(!h){var b=d.elements,y=b.reference,N=b.popper;if(n2(y,N)){d.rects={reference:pT(y,lf(N),d.options.strategy==="fixed"),popper:Nb(N)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(I){return d.modifiersData[I.name]=Object.assign({},I.data)});for(var _=0;_<d.orderedModifiers.length;_++){if(d.reset===!0){d.reset=!1,_=-1;continue}var w=d.orderedModifiers[_],S=w.fn,P=w.options,O=P===void 0?{}:P,T=w.name;typeof S=="function"&&(d=S({state:d,options:O,name:T,instance:p})||d)}}}},update:vT(function(){return new Promise(function(x){p.forceUpdate(),x(d)})}),destroy:function(){g(),h=!0}};if(!n2(l,c))return p;p.setOptions(u).then(function(x){!h&&u.onFirstUpdate&&u.onFirstUpdate(x)});function v(){d.orderedModifiers.forEach(function(x){var b=x.name,y=x.options,N=y===void 0?{}:y,_=x.effect;if(typeof _=="function"){var w=_({state:d,name:b,instance:p,options:N}),S=function(){};f.push(w||S)}})}function g(){f.forEach(function(x){return x()}),f=[]}return p}}var xT=bT({defaultModifiers:[rT,oT,zC,UC,iT,eT,uT,IC]}),a2=function(t){return{position:t,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},wT={name:"applyStyles",enabled:!1},jT={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(t){var r=t.state;return function(){var n=r.elements,a=n.reference,i=n.popper;if("removeAttribute"in a){var o=(a.getAttribute("aria-describedby")||"").split(",").filter(function(l){return l.trim()!==i.id});o.length?a.setAttribute("aria-describedby",o.join(",")):a.removeAttribute("aria-describedby")}}},fn:function(t){var r,n=t.state,a=n.elements,i=a.popper,o=a.reference,l=(r=i.getAttribute("role"))==null?void 0:r.toLowerCase();if(i.id&&l==="tooltip"&&"setAttribute"in o){var c=o.getAttribute("aria-describedby");if(c&&c.split(",").indexOf(i.id)!==-1)return;o.setAttribute("aria-describedby",c?c+","+i.id:i.id)}}},NT=[];function ST(e,t,r){var n=r===void 0?{}:r,a=n.enabled,i=a===void 0?!0:a,o=n.placement,l=o===void 0?"bottom":o,c=n.strategy,u=c===void 0?"absolute":c,d=n.modifiers,f=d===void 0?NT:d,h=rm(n,["enabled","placement","strategy","modifiers"]),p=$.useRef(),v=$.useCallback(function(){var _;(_=p.current)==null||_.update()},[]),g=$.useCallback(function(){var _;(_=p.current)==null||_.forceUpdate()},[]),x=yC($.useState({placement:l,update:v,forceUpdate:g,attributes:{},styles:{popper:a2(u),arrow:{}}})),b=x[0],y=x[1],N=$.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(w){var S=w.state,P={},O={};Object.keys(S.elements).forEach(function(T){P[T]=S.styles[T],O[T]=S.attributes[T]}),y({state:S,styles:P,attributes:O,update:v,forceUpdate:g,placement:S.placement})}}},[v,g,y]);return $.useEffect(function(){!p.current||!i||p.current.setOptions({placement:l,strategy:u,modifiers:[].concat(f,[N,wT])})},[u,l,N,i]),$.useEffect(function(){if(!(!i||e==null||t==null))return p.current=xT(e,t,ur({},h,{placement:l,strategy:u,modifiers:[].concat(f,[jT,N])})),function(){p.current!=null&&(p.current.destroy(),p.current=void 0,y(function(_){return ur({},_,{attributes:{},styles:{popper:a2(u)}})}))}},[i,e,t]),b}function _T(e,t,r,n){var a=n&&typeof n!="boolean"?n.capture:n;e.removeEventListener(t,r,a),r.__once&&e.removeEventListener(t,r.__once,a)}function Hu(e,t,r,n){return mC(e,t,r,n),function(){_T(e,t,r,n)}}var AT=function(){},OT=AT;const PT=Nt(OT);function ET(e){return e&&"setState"in e?bS.findDOMNode(e):e??null}const kT=function(e){return sf(ET(e))};var CT=27,i2=function(){};function TT(e){return e.button===0}function LT(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var s2=function(t){return t&&("current"in t?t.current:t)};function MT(e,t,r){var n=r===void 0?{}:r,a=n.disabled,i=n.clickTrigger,o=i===void 0?"click":i,l=$.useRef(!1),c=t||i2,u=$.useCallback(function(h){var p,v=s2(e);PT(!!v,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),l.current=!v||LT(h)||!TT(h)||!!fd(v,(p=h.composedPath==null?void 0:h.composedPath()[0])!=null?p:h.target)},[e]),d=V1(function(h){l.current||c(h)}),f=V1(function(h){h.keyCode===CT&&c(h)});$.useEffect(function(){if(!(a||e==null)){var h=window.event,p=kT(s2(e)),v=Hu(p,o,u,!0),g=Hu(p,o,function(y){if(y===h){h=void 0;return}d(y)}),x=Hu(p,"keyup",function(y){if(y===h){h=void 0;return}f(y)}),b=[];return"ontouchstart"in p.documentElement&&(b=[].slice.call(p.body.children).map(function(y){return Hu(y,"mousemove",i2)})),function(){v(),g(),x(),b.forEach(function(y){return y()})}}},[e,a,o,u,d,f])}function DT(e){var t={};return Array.isArray(e)?(e==null||e.forEach(function(r){t[r.name]=r}),t):e||t}function $T(e){return e===void 0&&(e={}),Array.isArray(e)?e:Object.keys(e).map(function(t){return e[t].name=t,e[t]})}function IT(e){var t,r,n,a,i=e.enabled,o=e.enableEvents,l=e.placement,c=e.flip,u=e.offset,d=e.fixed,f=e.containerPadding,h=e.arrowElement,p=e.popperConfig,v=p===void 0?{}:p,g=DT(v.modifiers);return ur({},v,{placement:l,enabled:i,strategy:d?"fixed":v.strategy,modifiers:$T(ur({},g,{eventListeners:{enabled:o},preventOverflow:ur({},g.preventOverflow,{options:f?ur({padding:f},(t=g.preventOverflow)==null?void 0:t.options):(r=g.preventOverflow)==null?void 0:r.options}),offset:{options:ur({offset:u},(n=g.offset)==null?void 0:n.options)},arrow:ur({},g.arrow,{enabled:!!h,options:ur({},(a=g.arrow)==null?void 0:a.options,{element:h})}),flip:ur({enabled:!!c},g.flip)}))})}function RT(e,t){return e.classList?e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function FT(e,t){e.classList?e.classList.add(t):RT(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function o2(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function BT(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=o2(e.className,t):e.setAttribute("class",o2(e.className&&e.className.baseVal||"",t))}var ch;function Pb(e){if((!ch&&ch!==0||e)&&bb){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),ch=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return ch}var uv=function(t){var r;return typeof document>"u"?null:t==null?sf().body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),(r=t)!=null&&r.nodeType&&t||null)};function l2(e,t){var r=$.useState(function(){return uv(e)}),n=r[0],a=r[1];if(!n){var i=uv(e);i&&a(i)}return $.useEffect(function(){},[t,n]),$.useEffect(function(){var o=uv(e);o!==n&&a(o)},[e,n]),n}const c2=e=>!e||typeof e=="function"?e:t=>{e.current=t};function zT(e,t){const r=c2(e),n=c2(t);return a=>{r&&r(a),n&&n(a)}}function qT(e,t){return $.useMemo(()=>zT(e,t),[e,t])}var Eb=U.forwardRef(function(e,t){var r=e.flip,n=e.offset,a=e.placement,i=e.containerPadding,o=i===void 0?5:i,l=e.popperConfig,c=l===void 0?{}:l,u=e.transition,d=Y1(),f=d[0],h=d[1],p=Y1(),v=p[0],g=p[1],x=qT(h,t),b=l2(e.container),y=l2(e.target),N=$.useState(!e.show),_=N[0],w=N[1],S=ST(y,f,IT({placement:a,enableEvents:!!e.show,containerPadding:o||5,flip:r,offset:n,arrowElement:v,popperConfig:c})),P=S.styles,O=S.attributes,T=rm(S,["styles","attributes"]);e.show?_&&w(!1):!e.transition&&!_&&w(!0);var I=function(){w(!0),e.onExited&&e.onExited.apply(e,arguments)},k=e.show||u&&!_;if(MT(f,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!k)return null;var C=e.children(ur({},T,{show:!!e.show,props:ur({},O.popper,{style:P.popper,ref:x}),arrowProps:ur({},O.arrow,{style:P.arrow,ref:g})}));if(u){var L=e.onExit,R=e.onExiting,V=e.onEnter,F=e.onEntering,B=e.onEntered;C=U.createElement(u,{in:e.show,appear:!0,onExit:L,onExiting:R,onExited:I,onEnter:V,onEntering:F,onEntered:B},C)}return b?bS.createPortal(C,b):null});Eb.displayName="Overlay";Eb.propTypes={show:Se.bool,placement:Se.oneOf(wb),target:Se.any,container:Se.any,flip:Se.bool,children:Se.func.isRequired,containerPadding:Se.number,popperConfig:Se.object,rootClose:Se.bool,rootCloseEvent:Se.oneOf(["click","mousedown"]),rootCloseDisabled:Se.bool,onHide:function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];if(t.rootClose){var i;return(i=Se.func).isRequired.apply(i,[t].concat(n))}return Se.func.apply(Se,[t].concat(n))},transition:Se.elementType,onEnter:Se.func,onEntering:Se.func,onEntered:Se.func,onExit:Se.func,onExiting:Se.func,onExited:Se.func};function UT(){this.__data__=[],this.size=0}var WT=UT,HT=af;function GT(e,t){for(var r=e.length;r--;)if(HT(e[r][0],t))return r;return-1}var sm=GT,VT=sm,YT=Array.prototype,KT=YT.splice;function XT(e){var t=this.__data__,r=VT(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():KT.call(t,r,1),--this.size,!0}var JT=XT,ZT=sm;function QT(e){var t=this.__data__,r=ZT(t,e);return r<0?void 0:t[r][1]}var eL=QT,tL=sm;function rL(e){return tL(this.__data__,e)>-1}var nL=rL,aL=sm;function iL(e,t){var r=this.__data__,n=aL(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var sL=iL,oL=WT,lL=JT,cL=eL,uL=nL,dL=sL;function Mc(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Mc.prototype.clear=oL;Mc.prototype.delete=lL;Mc.prototype.get=cL;Mc.prototype.has=uL;Mc.prototype.set=dL;var om=Mc,fL=om;function hL(){this.__data__=new fL,this.size=0}var pL=hL;function mL(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var gL=mL;function vL(e){return this.__data__.get(e)}var yL=vL;function bL(e){return this.__data__.has(e)}var xL=bL,wL=Ba,jL=wL["__core-js_shared__"],NL=jL,dv=NL,u2=function(){var e=/[^.]+$/.exec(dv&&dv.keys&&dv.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function SL(e){return!!u2&&u2 in e}var _L=SL,AL=Function.prototype,OL=AL.toString;function PL(e){if(e!=null){try{return OL.call(e)}catch{}try{return e+""}catch{}}return""}var l_=PL,EL=am,kL=_L,CL=fa,TL=l_,LL=/[\\^$.*+?()[\]{}|]/g,ML=/^\[object .+?Constructor\]$/,DL=Function.prototype,$L=Object.prototype,IL=DL.toString,RL=$L.hasOwnProperty,FL=RegExp("^"+IL.call(RL).replace(LL,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function BL(e){if(!CL(e)||kL(e))return!1;var t=EL(e)?FL:ML;return t.test(TL(e))}var zL=BL;function qL(e,t){return e==null?void 0:e[t]}var UL=qL,WL=zL,HL=UL;function GL(e,t){var r=HL(e,t);return WL(r)?r:void 0}var Do=GL,VL=Do,YL=Ba,KL=VL(YL,"Map"),kb=KL,XL=Do,JL=XL(Object,"create"),lm=JL,d2=lm;function ZL(){this.__data__=d2?d2(null):{},this.size=0}var QL=ZL;function eM(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var tM=eM,rM=lm,nM="__lodash_hash_undefined__",aM=Object.prototype,iM=aM.hasOwnProperty;function sM(e){var t=this.__data__;if(rM){var r=t[e];return r===nM?void 0:r}return iM.call(t,e)?t[e]:void 0}var oM=sM,lM=lm,cM=Object.prototype,uM=cM.hasOwnProperty;function dM(e){var t=this.__data__;return lM?t[e]!==void 0:uM.call(t,e)}var fM=dM,hM=lm,pM="__lodash_hash_undefined__";function mM(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=hM&&t===void 0?pM:t,this}var gM=mM,vM=QL,yM=tM,bM=oM,xM=fM,wM=gM;function Dc(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Dc.prototype.clear=vM;Dc.prototype.delete=yM;Dc.prototype.get=bM;Dc.prototype.has=xM;Dc.prototype.set=wM;var jM=Dc,f2=jM,NM=om,SM=kb;function _M(){this.size=0,this.__data__={hash:new f2,map:new(SM||NM),string:new f2}}var AM=_M;function OM(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var PM=OM,EM=PM;function kM(e,t){var r=e.__data__;return EM(t)?r[typeof t=="string"?"string":"hash"]:r.map}var cm=kM,CM=cm;function TM(e){var t=CM(this,e).delete(e);return this.size-=t?1:0,t}var LM=TM,MM=cm;function DM(e){return MM(this,e).get(e)}var $M=DM,IM=cm;function RM(e){return IM(this,e).has(e)}var FM=RM,BM=cm;function zM(e,t){var r=BM(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var qM=zM,UM=AM,WM=LM,HM=$M,GM=FM,VM=qM;function $c(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}$c.prototype.clear=UM;$c.prototype.delete=WM;$c.prototype.get=HM;$c.prototype.has=GM;$c.prototype.set=VM;var Cb=$c,YM=om,KM=kb,XM=Cb,JM=200;function ZM(e,t){var r=this.__data__;if(r instanceof YM){var n=r.__data__;if(!KM||n.length<JM-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new XM(n)}return r.set(e,t),this.size=r.size,this}var QM=ZM,eD=om,tD=pL,rD=gL,nD=yL,aD=xL,iD=QM;function Ic(e){var t=this.__data__=new eD(e);this.size=t.size}Ic.prototype.clear=tD;Ic.prototype.delete=rD;Ic.prototype.get=nD;Ic.prototype.has=aD;Ic.prototype.set=iD;var Tb=Ic,sD="__lodash_hash_undefined__";function oD(e){return this.__data__.set(e,sD),this}var lD=oD;function cD(e){return this.__data__.has(e)}var uD=cD,dD=Cb,fD=lD,hD=uD;function Yh(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new dD;++t<r;)this.add(e[t])}Yh.prototype.add=Yh.prototype.push=fD;Yh.prototype.has=hD;var c_=Yh;function pD(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var u_=pD;function mD(e,t){return e.has(t)}var d_=mD,gD=c_,vD=u_,yD=d_,bD=1,xD=2;function wD(e,t,r,n,a,i){var o=r&bD,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,p=r&xD?new gD:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var v=e[f],g=t[f];if(n)var x=o?n(g,v,f,t,e,i):n(v,g,f,e,t,i);if(x!==void 0){if(x)continue;h=!1;break}if(p){if(!vD(t,function(b,y){if(!yD(p,y)&&(v===b||a(v,b,r,n,i)))return p.push(y)})){h=!1;break}}else if(!(v===g||a(v,g,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var f_=wD,jD=Ba,ND=jD.Uint8Array,h_=ND;function SD(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var _D=SD;function AD(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Lb=AD,h2=Ec,p2=h_,OD=af,PD=f_,ED=_D,kD=Lb,CD=1,TD=2,LD="[object Boolean]",MD="[object Date]",DD="[object Error]",$D="[object Map]",ID="[object Number]",RD="[object RegExp]",FD="[object Set]",BD="[object String]",zD="[object Symbol]",qD="[object ArrayBuffer]",UD="[object DataView]",m2=h2?h2.prototype:void 0,fv=m2?m2.valueOf:void 0;function WD(e,t,r,n,a,i,o){switch(r){case UD:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case qD:return!(e.byteLength!=t.byteLength||!i(new p2(e),new p2(t)));case LD:case MD:case ID:return OD(+e,+t);case DD:return e.name==t.name&&e.message==t.message;case RD:case BD:return e==t+"";case $D:var l=ED;case FD:var c=n&CD;if(l||(l=kD),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=TD,o.set(e,t);var d=PD(l(e),l(t),n,a,i,o);return o.delete(e),d;case zD:if(fv)return fv.call(e)==fv.call(t)}return!1}var HD=WD;function GD(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var Mb=GD,VD=Array.isArray,dn=VD,YD=Mb,KD=dn;function XD(e,t,r){var n=t(e);return KD(e)?n:YD(n,r(e))}var p_=XD;function JD(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}var ZD=JD;function QD(){return[]}var m_=QD,e8=ZD,t8=m_,r8=Object.prototype,n8=r8.propertyIsEnumerable,g2=Object.getOwnPropertySymbols,a8=g2?function(e){return e==null?[]:(e=Object(e),e8(g2(e),function(t){return n8.call(e,t)}))}:t8,Db=a8;function i8(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var s8=i8,o8=Hi,l8=za,c8="[object Arguments]";function u8(e){return l8(e)&&o8(e)==c8}var d8=u8,v2=d8,f8=za,g_=Object.prototype,h8=g_.hasOwnProperty,p8=g_.propertyIsEnumerable,m8=v2(function(){return arguments}())?v2:function(e){return f8(e)&&h8.call(e,"callee")&&!p8.call(e,"callee")},$b=m8,Kh={exports:{}};function g8(){return!1}var v8=g8;Kh.exports;(function(e,t){var r=Ba,n=v8,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(Kh,Kh.exports);var um=Kh.exports,y8=Hi,b8=gb,x8=za,w8="[object Arguments]",j8="[object Array]",N8="[object Boolean]",S8="[object Date]",_8="[object Error]",A8="[object Function]",O8="[object Map]",P8="[object Number]",E8="[object Object]",k8="[object RegExp]",C8="[object Set]",T8="[object String]",L8="[object WeakMap]",M8="[object ArrayBuffer]",D8="[object DataView]",$8="[object Float32Array]",I8="[object Float64Array]",R8="[object Int8Array]",F8="[object Int16Array]",B8="[object Int32Array]",z8="[object Uint8Array]",q8="[object Uint8ClampedArray]",U8="[object Uint16Array]",W8="[object Uint32Array]",Jt={};Jt[$8]=Jt[I8]=Jt[R8]=Jt[F8]=Jt[B8]=Jt[z8]=Jt[q8]=Jt[U8]=Jt[W8]=!0;Jt[w8]=Jt[j8]=Jt[M8]=Jt[N8]=Jt[D8]=Jt[S8]=Jt[_8]=Jt[A8]=Jt[O8]=Jt[P8]=Jt[E8]=Jt[k8]=Jt[C8]=Jt[T8]=Jt[L8]=!1;function H8(e){return x8(e)&&b8(e.length)&&!!Jt[y8(e)]}var G8=H8;function V8(e){return function(t){return e(t)}}var dm=V8,Xh={exports:{}};Xh.exports;(function(e,t){var r=WS,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,o=i&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(Xh,Xh.exports);var Ib=Xh.exports,Y8=G8,K8=dm,y2=Ib,b2=y2&&y2.isTypedArray,X8=b2?K8(b2):Y8,Rb=X8,J8=s8,Z8=$b,Q8=dn,e$=um,t$=vb,r$=Rb,n$=Object.prototype,a$=n$.hasOwnProperty;function i$(e,t){var r=Q8(e),n=!r&&Z8(e),a=!r&&!n&&e$(e),i=!r&&!n&&!a&&r$(e),o=r||n||a||i,l=o?J8(e.length,String):[],c=l.length;for(var u in e)(t||a$.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||t$(u,c)))&&l.push(u);return l}var v_=i$,s$=Object.prototype;function o$(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||s$;return e===r}var Fb=o$;function l$(e,t){return function(r){return e(t(r))}}var y_=l$,c$=y_,u$=c$(Object.keys,Object),d$=u$,f$=Fb,h$=d$,p$=Object.prototype,m$=p$.hasOwnProperty;function g$(e){if(!f$(e))return h$(e);var t=[];for(var r in Object(e))m$.call(e,r)&&r!="constructor"&&t.push(r);return t}var v$=g$,y$=v_,b$=v$,x$=Cc;function w$(e){return x$(e)?y$(e):b$(e)}var Rc=w$,j$=p_,N$=Db,S$=Rc;function _$(e){return j$(e,S$,N$)}var b_=_$,x2=b_,A$=1,O$=Object.prototype,P$=O$.hasOwnProperty;function E$(e,t,r,n,a,i){var o=r&A$,l=x2(e),c=l.length,u=x2(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:P$.call(t,h)))return!1}var p=i.get(e),v=i.get(t);if(p&&v)return p==t&&v==e;var g=!0;i.set(e,t),i.set(t,e);for(var x=o;++f<c;){h=l[f];var b=e[h],y=t[h];if(n)var N=o?n(y,b,h,t,e,i):n(b,y,h,e,t,i);if(!(N===void 0?b===y||a(b,y,r,n,i):N)){g=!1;break}x||(x=h=="constructor")}if(g&&!x){var _=e.constructor,w=t.constructor;_!=w&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof w=="function"&&w instanceof w)&&(g=!1)}return i.delete(e),i.delete(t),g}var k$=E$,C$=Do,T$=Ba,L$=C$(T$,"DataView"),M$=L$,D$=Do,$$=Ba,I$=D$($$,"Promise"),R$=I$,F$=Do,B$=Ba,z$=F$(B$,"Set"),x_=z$,q$=Do,U$=Ba,W$=q$(U$,"WeakMap"),H$=W$,p0=M$,m0=kb,g0=R$,v0=x_,y0=H$,w_=Hi,Fc=l_,w2="[object Map]",G$="[object Object]",j2="[object Promise]",N2="[object Set]",S2="[object WeakMap]",_2="[object DataView]",V$=Fc(p0),Y$=Fc(m0),K$=Fc(g0),X$=Fc(v0),J$=Fc(y0),Zs=w_;(p0&&Zs(new p0(new ArrayBuffer(1)))!=_2||m0&&Zs(new m0)!=w2||g0&&Zs(g0.resolve())!=j2||v0&&Zs(new v0)!=N2||y0&&Zs(new y0)!=S2)&&(Zs=function(e){var t=w_(e),r=t==G$?e.constructor:void 0,n=r?Fc(r):"";if(n)switch(n){case V$:return _2;case Y$:return w2;case K$:return j2;case X$:return N2;case J$:return S2}return t});var fm=Zs,hv=Tb,Z$=f_,Q$=HD,eI=k$,A2=fm,O2=dn,P2=um,tI=Rb,rI=1,E2="[object Arguments]",k2="[object Array]",uh="[object Object]",nI=Object.prototype,C2=nI.hasOwnProperty;function aI(e,t,r,n,a,i){var o=O2(e),l=O2(t),c=o?k2:A2(e),u=l?k2:A2(t);c=c==E2?uh:c,u=u==E2?uh:u;var d=c==uh,f=u==uh,h=c==u;if(h&&P2(e)){if(!P2(t))return!1;o=!0,d=!1}if(h&&!d)return i||(i=new hv),o||tI(e)?Z$(e,t,r,n,a,i):Q$(e,t,c,r,n,a,i);if(!(r&rI)){var p=d&&C2.call(e,"__wrapped__"),v=f&&C2.call(t,"__wrapped__");if(p||v){var g=p?e.value():e,x=v?t.value():t;return i||(i=new hv),a(g,x,r,n,i)}}return h?(i||(i=new hv),eI(e,t,r,n,a,i)):!1}var iI=aI,sI=iI,T2=za;function j_(e,t,r,n,a){return e===t?!0:e==null||t==null||!T2(e)&&!T2(t)?e!==e&&t!==t:sI(e,t,r,n,j_,a)}var Bb=j_,oI=Bb;function lI(e,t){return oI(e,t)}var cI=lI;const Ao=Nt(cI);function pv(e,t){var r=yb(e);return r?r.innerHeight:fo(e).height}function N_(e,t,r){e.closest&&!r&&e.closest(t);var n=e;do{if(fC(n,t))return n;n=n.parentElement}while(n&&n!==r&&n.nodeType===document.ELEMENT_NODE);return null}function uI(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var S_=uI,dI=Tb,fI=Bb,hI=1,pI=2;function mI(e,t,r,n){var a=r.length,i=a,o=!n;if(e==null)return!i;for(e=Object(e);a--;){var l=r[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=r[a];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new dI;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?fI(d,u,hI|pI,n,f):h))return!1}}return!0}var gI=mI,vI=fa;function yI(e){return e===e&&!vI(e)}var __=yI,bI=__,xI=Rc;function wI(e){for(var t=xI(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,bI(a)]}return t}var jI=wI;function NI(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var A_=NI,SI=gI,_I=jI,AI=A_;function OI(e){var t=_I(e);return t.length==1&&t[0][2]?AI(t[0][0],t[0][1]):function(r){return r===e||SI(r,e,t)}}var PI=OI,EI=dn,kI=Lc,CI=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,TI=/^\w*$/;function LI(e,t){if(EI(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||kI(e)?!0:TI.test(e)||!CI.test(e)||t!=null&&e in Object(t)}var zb=LI,O_=Cb,MI="Expected a function";function qb(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(MI);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(qb.Cache||O_),r}qb.Cache=O_;var P_=qb;const DI=Nt(P_);var $I=P_,II=500;function RI(e){var t=$I(e,function(n){return r.size===II&&r.clear(),n}),r=t.cache;return t}var FI=RI,BI=FI,zI=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,qI=/\\(\\)?/g,UI=BI(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(zI,function(r,n,a,i){t.push(a?i.replace(qI,"$1"):n||r)}),t}),WI=UI;function HI(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var hm=HI,L2=Ec,GI=hm,VI=dn,YI=Lc,M2=L2?L2.prototype:void 0,D2=M2?M2.toString:void 0;function E_(e){if(typeof e=="string")return e;if(VI(e))return GI(e,E_)+"";if(YI(e))return D2?D2.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var KI=E_,XI=KI;function JI(e){return e==null?"":XI(e)}var k_=JI,ZI=dn,QI=zb,e7=WI,t7=k_;function r7(e,t){return ZI(e)?e:QI(e,t)?[e]:e7(t7(e))}var pm=r7,n7=Lc;function a7(e){if(typeof e=="string"||n7(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var cf=a7,i7=pm,s7=cf;function o7(e,t){t=i7(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[s7(t[r++])];return r&&r==n?e:void 0}var mm=o7,l7=mm;function c7(e,t,r){var n=e==null?void 0:l7(e,t);return n===void 0?r:n}var C_=c7;const Wn=Nt(C_);function u7(e,t){return e!=null&&t in Object(e)}var d7=u7,f7=pm,h7=$b,p7=dn,m7=vb,g7=gb,v7=cf;function y7(e,t,r){t=f7(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var o=v7(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&g7(a)&&m7(o,a)&&(p7(e)||h7(e)))}var b7=y7,x7=d7,w7=b7;function j7(e,t){return e!=null&&w7(e,t,x7)}var N7=j7,S7=Bb,_7=C_,A7=N7,O7=zb,P7=__,E7=A_,k7=cf,C7=1,T7=2;function L7(e,t){return O7(e)&&P7(t)?E7(k7(e),t):function(r){var n=_7(r,e);return n===void 0&&n===t?A7(r,e):S7(t,n,C7|T7)}}var M7=L7;function D7(e){return e}var Bc=D7;function $7(e){return function(t){return t==null?void 0:t[e]}}var I7=$7,R7=mm;function F7(e){return function(t){return R7(t,e)}}var B7=F7,z7=I7,q7=B7,U7=zb,W7=cf;function H7(e){return U7(e)?z7(W7(e)):q7(e)}var G7=H7,V7=PI,Y7=M7,K7=Bc,X7=dn,J7=G7;function Z7(e){return typeof e=="function"?e:e==null?K7:typeof e=="object"?X7(e)?Y7(e[0],e[1]):V7(e):J7(e)}var qa=Z7,Q7=S_,eR=qa,tR=YS,rR=Math.max;function nR(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:tR(r);return a<0&&(a=rR(n+a,0)),Q7(e,eR(t),a)}var T_=nR;const aR=Nt(T_);var iR=Math.ceil,sR=Math.max;function oR(e,t,r,n){for(var a=-1,i=sR(iR((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++a]=e,e+=r;return o}var lR=oR,cR=lR,uR=Tc,mv=VS;function dR(e){return function(t,r,n){return n&&typeof n!="number"&&uR(t,r,n)&&(r=n=void 0),t=mv(t),r===void 0?(r=t,t=0):r=mv(r),n=n===void 0?t<r?1:-1:mv(n),cR(t,r,n,e)}}var fR=dR,hR=fR,pR=hR(),mR=pR;const md=Nt(mR);var $2=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function gR(e,t){return!!(e===t||$2(e)&&$2(t))}function vR(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!gR(e[r],t[r]))return!1;return!0}function L_(e,t){t===void 0&&(t=vR);var r=null;function n(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];if(r&&r.lastThis===this&&t(a,r.lastArgs))return r.lastResult;var o=e.apply(this,a);return r={lastResult:o,lastArgs:a,lastThis:this},o}return n.clear=function(){r=null},n}function b0(e,t){var r=yb(e);return r?r.innerWidth:fo(e).width}var I2=Ec,yR=$b,bR=dn,R2=I2?I2.isConcatSpreadable:void 0;function xR(e){return bR(e)||yR(e)||!!(R2&&e&&e[R2])}var wR=xR,jR=Mb,NR=wR;function M_(e,t,r,n,a){var i=-1,o=e.length;for(r||(r=NR),a||(a=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?M_(l,t-1,r,n,a):jR(a,l):n||(a[a.length]=l)}return a}var Ub=M_;function SR(e){return function(t,r,n){for(var a=-1,i=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++a];if(r(i[c],c,i)===!1)break}return t}}var _R=SR,AR=_R,OR=AR(),PR=OR,ER=PR,kR=Rc;function CR(e,t){return e&&ER(e,t,kR)}var Wb=CR,TR=Cc;function LR(e,t){return function(r,n){if(r==null)return r;if(!TR(r))return e(r,n);for(var a=r.length,i=t?a:-1,o=Object(r);(t?i--:++i<a)&&n(o[i],i,o)!==!1;);return r}}var MR=LR,DR=Wb,$R=MR,IR=$R(DR),Hb=IR,RR=Hb,FR=Cc;function BR(e,t){var r=-1,n=FR(e)?Array(e.length):[];return RR(e,function(a,i,o){n[++r]=t(a,i,o)}),n}var D_=BR;function zR(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var qR=zR,F2=Lc;function UR(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=F2(e),o=t!==void 0,l=t===null,c=t===t,u=F2(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!a)return 1;if(!n&&!i&&!u&&e<t||u&&r&&a&&!n&&!i||l&&r&&a||!o&&a||!c)return-1}return 0}var WR=UR,HR=WR;function GR(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,o=a.length,l=r.length;++n<o;){var c=HR(a[n],i[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var VR=GR,gv=hm,YR=mm,KR=qa,XR=D_,JR=qR,ZR=dm,QR=VR,eF=Bc,tF=dn;function rF(e,t,r){t.length?t=gv(t,function(i){return tF(i)?function(o){return YR(o,i.length===1?i[0]:i)}:i}):t=[eF];var n=-1;t=gv(t,ZR(KR));var a=XR(e,function(i,o,l){var c=gv(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return JR(a,function(i,o){return QR(i,o,r)})}var nF=rF;function aF(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var iF=aF,sF=iF,B2=Math.max;function oF(e,t,r){return t=B2(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=B2(n.length-t,0),o=Array(i);++a<i;)o[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(o),sF(e,this,l)}}var $_=oF;function lF(e){return function(){return e}}var cF=lF,uF=Do,dF=function(){try{var e=uF(Object,"defineProperty");return e({},"",{}),e}catch{}}(),I_=dF,fF=cF,z2=I_,hF=Bc,pF=z2?function(e,t){return z2(e,"toString",{configurable:!0,enumerable:!1,value:fF(t),writable:!0})}:hF,mF=pF,gF=800,vF=16,yF=Date.now;function bF(e){var t=0,r=0;return function(){var n=yF(),a=vF-(n-r);if(r=n,a>0){if(++t>=gF)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var xF=bF,wF=mF,jF=xF,NF=jF(wF),R_=NF,SF=Bc,_F=$_,AF=R_;function OF(e,t){return AF(_F(e,t,SF),e+"")}var F_=OF,PF=Ub,EF=nF,kF=F_,q2=Tc,CF=kF(function(e,t){if(e==null)return[];var r=t.length;return r>1&&q2(e,t[0],t[1])?t=[]:r>2&&q2(t[0],t[1],t[2])&&(t=[t[0]]),EF(e,PF(t,1),[])}),TF=CF;const gm=Nt(TF);function B_(e){return ES(e)||US(e)||fb(e)||kS()}function LF(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var MF=LF,DF=fa,$F=Fb,IF=MF,RF=Object.prototype,FF=RF.hasOwnProperty;function BF(e){if(!DF(e))return IF(e);var t=$F(e),r=[];for(var n in e)n=="constructor"&&(t||!FF.call(e,n))||r.push(n);return r}var zF=BF,qF=v_,UF=zF,WF=Cc;function HF(e){return WF(e)?qF(e,!0):UF(e)}var vm=HF,GF=F_,VF=af,YF=Tc,KF=vm,z_=Object.prototype,XF=z_.hasOwnProperty,JF=GF(function(e,t){e=Object(e);var r=-1,n=t.length,a=n>2?t[2]:void 0;for(a&&YF(t[0],t[1],a)&&(n=1);++r<n;)for(var i=t[r],o=KF(i),l=-1,c=o.length;++l<c;){var u=o[l],d=e[u];(d===void 0||VF(d,z_[u])&&!XF.call(e,u))&&(e[u]=i[u])}return e}),ZF=JF;const QF=Nt(ZF);var U2=I_;function eB(e,t,r){t=="__proto__"&&U2?U2(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var Gb=eB,tB=Gb,rB=Wb,nB=qa;function aB(e,t){var r={};return t=nB(t),rB(e,function(n,a,i){tB(r,a,t(n,a,i))}),r}var iB=aB;const q_=Nt(iB);function sB(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var U_=sB,oB=Gb,lB=af,cB=Object.prototype,uB=cB.hasOwnProperty;function dB(e,t,r){var n=e[t];(!(uB.call(e,t)&&lB(n,r))||r===void 0&&!(t in e))&&oB(e,t,r)}var W_=dB,fB=W_,hB=Gb;function pB(e,t,r,n){var a=!r;r||(r={});for(var i=-1,o=t.length;++i<o;){var l=t[i],c=n?n(r[l],e[l],l,r,e):void 0;c===void 0&&(c=e[l]),a?hB(r,l,c):fB(r,l,c)}return r}var uf=pB,mB=uf,gB=Rc;function vB(e,t){return e&&mB(t,gB(t),e)}var yB=vB,bB=uf,xB=vm;function wB(e,t){return e&&bB(t,xB(t),e)}var jB=wB,Jh={exports:{}};Jh.exports;(function(e,t){var r=Ba,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,o=i?r.Buffer:void 0,l=o?o.allocUnsafe:void 0;function c(u,d){if(d)return u.slice();var f=u.length,h=l?l(f):new u.constructor(f);return u.copy(h),h}e.exports=c})(Jh,Jh.exports);var NB=Jh.exports;function SB(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var _B=SB,AB=uf,OB=Db;function PB(e,t){return AB(e,OB(e),t)}var EB=PB,kB=y_,CB=kB(Object.getPrototypeOf,Object),ym=CB,TB=Mb,LB=ym,MB=Db,DB=m_,$B=Object.getOwnPropertySymbols,IB=$B?function(e){for(var t=[];e;)TB(t,MB(e)),e=LB(e);return t}:DB,H_=IB,RB=uf,FB=H_;function BB(e,t){return RB(e,FB(e),t)}var zB=BB,qB=p_,UB=H_,WB=vm;function HB(e){return qB(e,WB,UB)}var G_=HB,GB=Object.prototype,VB=GB.hasOwnProperty;function YB(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&VB.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var KB=YB,W2=h_;function XB(e){var t=new e.constructor(e.byteLength);return new W2(t).set(new W2(e)),t}var Vb=XB,JB=Vb;function ZB(e,t){var r=t?JB(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var QB=ZB,e9=/\w*$/;function t9(e){var t=new e.constructor(e.source,e9.exec(e));return t.lastIndex=e.lastIndex,t}var r9=t9,H2=Ec,G2=H2?H2.prototype:void 0,V2=G2?G2.valueOf:void 0;function n9(e){return V2?Object(V2.call(e)):{}}var a9=n9,i9=Vb;function s9(e,t){var r=t?i9(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var o9=s9,l9=Vb,c9=QB,u9=r9,d9=a9,f9=o9,h9="[object Boolean]",p9="[object Date]",m9="[object Map]",g9="[object Number]",v9="[object RegExp]",y9="[object Set]",b9="[object String]",x9="[object Symbol]",w9="[object ArrayBuffer]",j9="[object DataView]",N9="[object Float32Array]",S9="[object Float64Array]",_9="[object Int8Array]",A9="[object Int16Array]",O9="[object Int32Array]",P9="[object Uint8Array]",E9="[object Uint8ClampedArray]",k9="[object Uint16Array]",C9="[object Uint32Array]";function T9(e,t,r){var n=e.constructor;switch(t){case w9:return l9(e);case h9:case p9:return new n(+e);case j9:return c9(e,r);case N9:case S9:case _9:case A9:case O9:case P9:case E9:case k9:case C9:return f9(e,r);case m9:return new n;case g9:case b9:return new n(e);case v9:return u9(e);case y9:return new n;case x9:return d9(e)}}var L9=T9,M9=fa,Y2=Object.create,D9=function(){function e(){}return function(t){if(!M9(t))return{};if(Y2)return Y2(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),V_=D9,$9=V_,I9=ym,R9=Fb;function F9(e){return typeof e.constructor=="function"&&!R9(e)?$9(I9(e)):{}}var B9=F9,z9=fm,q9=za,U9="[object Map]";function W9(e){return q9(e)&&z9(e)==U9}var H9=W9,G9=H9,V9=dm,K2=Ib,X2=K2&&K2.isMap,Y9=X2?V9(X2):G9,K9=Y9,X9=fm,J9=za,Z9="[object Set]";function Q9(e){return J9(e)&&X9(e)==Z9}var ez=Q9,tz=ez,rz=dm,J2=Ib,Z2=J2&&J2.isSet,nz=Z2?rz(Z2):tz,az=nz,iz=Tb,sz=U_,oz=W_,lz=yB,cz=jB,uz=NB,dz=_B,fz=EB,hz=zB,pz=b_,mz=G_,gz=fm,vz=KB,yz=L9,bz=B9,xz=dn,wz=um,jz=K9,Nz=fa,Sz=az,_z=Rc,Az=vm,Oz=1,Pz=2,Ez=4,Y_="[object Arguments]",kz="[object Array]",Cz="[object Boolean]",Tz="[object Date]",Lz="[object Error]",K_="[object Function]",Mz="[object GeneratorFunction]",Dz="[object Map]",$z="[object Number]",X_="[object Object]",Iz="[object RegExp]",Rz="[object Set]",Fz="[object String]",Bz="[object Symbol]",zz="[object WeakMap]",qz="[object ArrayBuffer]",Uz="[object DataView]",Wz="[object Float32Array]",Hz="[object Float64Array]",Gz="[object Int8Array]",Vz="[object Int16Array]",Yz="[object Int32Array]",Kz="[object Uint8Array]",Xz="[object Uint8ClampedArray]",Jz="[object Uint16Array]",Zz="[object Uint32Array]",Vt={};Vt[Y_]=Vt[kz]=Vt[qz]=Vt[Uz]=Vt[Cz]=Vt[Tz]=Vt[Wz]=Vt[Hz]=Vt[Gz]=Vt[Vz]=Vt[Yz]=Vt[Dz]=Vt[$z]=Vt[X_]=Vt[Iz]=Vt[Rz]=Vt[Fz]=Vt[Bz]=Vt[Kz]=Vt[Xz]=Vt[Jz]=Vt[Zz]=!0;Vt[Lz]=Vt[K_]=Vt[zz]=!1;function Mh(e,t,r,n,a,i){var o,l=t&Oz,c=t&Pz,u=t&Ez;if(r&&(o=a?r(e,n,a,i):r(e)),o!==void 0)return o;if(!Nz(e))return e;var d=xz(e);if(d){if(o=vz(e),!l)return dz(e,o)}else{var f=gz(e),h=f==K_||f==Mz;if(wz(e))return uz(e,l);if(f==X_||f==Y_||h&&!a){if(o=c||h?{}:bz(e),!l)return c?hz(e,cz(o,e)):fz(e,lz(o,e))}else{if(!Vt[f])return a?e:{};o=yz(e,f,l)}}i||(i=new iz);var p=i.get(e);if(p)return p;i.set(e,o),Sz(e)?e.forEach(function(x){o.add(Mh(x,t,r,x,e,i))}):jz(e)&&e.forEach(function(x,b){o.set(b,Mh(x,t,r,b,e,i))});var v=u?c?mz:pz:c?Az:_z,g=d?void 0:v(e);return sz(g||e,function(x,b){g&&(b=x,x=e[b]),oz(o,b,Mh(x,t,r,b,e,i))}),o}var Qz=Mh;function eq(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var J_=eq;const tq=Nt(J_);var rq=mm,nq=mb;function aq(e,t){return t.length<2?e:rq(e,nq(t,0,-1))}var iq=aq,sq=pm,oq=J_,lq=iq,cq=cf;function uq(e,t){return t=sq(t,e),e=lq(e,t),e==null||delete e[cq(oq(t))]}var dq=uq,fq=Hi,hq=ym,pq=za,mq="[object Object]",gq=Function.prototype,vq=Object.prototype,Z_=gq.toString,yq=vq.hasOwnProperty,bq=Z_.call(Object);function xq(e){if(!pq(e)||fq(e)!=mq)return!1;var t=hq(e);if(t===null)return!0;var r=yq.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Z_.call(r)==bq}var Q_=xq;const wq=Nt(Q_);var jq=Q_;function Nq(e){return jq(e)?void 0:e}var Sq=Nq,_q=Ub;function Aq(e){var t=e==null?0:e.length;return t?_q(e,1):[]}var Oq=Aq,Pq=Oq,Eq=$_,kq=R_;function Cq(e){return kq(Eq(e,void 0,Pq),e+"")}var Tq=Cq,Lq=hm,Mq=Qz,Dq=dq,$q=pm,Iq=uf,Rq=Sq,Fq=Tq,Bq=G_,zq=1,qq=2,Uq=4,Wq=Fq(function(e,t){var r={};if(e==null)return r;var n=!1;t=Lq(t,function(i){return i=$q(i,e),n||(n=i.length>1),i}),Iq(e,Bq(e),r),n&&(r=Mq(r,zq|qq|Uq,Rq));for(var a=t.length;a--;)Dq(r,t[a]);return r}),Hq=Wq;const Gq=Nt(Hq);var Vq=U_,Yq=V_,Kq=Wb,Xq=qa,Jq=ym,Zq=dn,Qq=um,eU=am,tU=fa,rU=Rb;function nU(e,t,r){var n=Zq(e),a=n||Qq(e)||rU(e);if(t=Xq(t),r==null){var i=e&&e.constructor;a?r=n?new i:[]:tU(e)?r=eU(i)?Yq(Jq(e)):{}:r={}}return(a?Vq:Kq)(e,function(o,l,c){return t(r,o,l,c)}),r}var aU=nU;const iU=Nt(aU);var sU={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(ia,function(){return function(r,n,a){n.prototype.isBetween=function(i,o,l,c){var u=a(i),d=a(o),f=(c=c||"()")[0]==="(",h=c[1]===")";return(f?this.isAfter(u,l):!this.isBefore(u,l))&&(h?this.isBefore(d,l):!this.isAfter(d,l))||(f?this.isBefore(u,l):!this.isAfter(u,l))&&(h?this.isAfter(d,l):!this.isBefore(d,l))}}})})(sU);var oU={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(ia,function(){return function(r,n){n.prototype.isSameOrAfter=function(a,i){return this.isSame(a,i)||this.isAfter(a,i)}}})})(oU);var lU={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(ia,function(){return function(r,n){n.prototype.isSameOrBefore=function(a,i){return this.isSame(a,i)||this.isBefore(a,i)}}})})(lU);var cU={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(ia,function(){return function(r,n,a){var i=n.prototype,o=function(f){return f&&(f.indexOf?f:f.s)},l=function(f,h,p,v,g){var x=f.name?f:f.$locale(),b=o(x[h]),y=o(x[p]),N=b||y.map(function(w){return w.slice(0,v)});if(!g)return N;var _=x.weekStart;return N.map(function(w,S){return N[(S+(_||0))%7]})},c=function(){return a.Ls[a.locale()]},u=function(f,h){return f.formats[h]||function(p){return p.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(v,g,x){return g||x.slice(1)})}(f.formats[h.toUpperCase()])},d=function(){var f=this;return{months:function(h){return h?h.format("MMMM"):l(f,"months")},monthsShort:function(h){return h?h.format("MMM"):l(f,"monthsShort","months",3)},firstDayOfWeek:function(){return f.$locale().weekStart||0},weekdays:function(h){return h?h.format("dddd"):l(f,"weekdays")},weekdaysMin:function(h){return h?h.format("dd"):l(f,"weekdaysMin","weekdays",2)},weekdaysShort:function(h){return h?h.format("ddd"):l(f,"weekdaysShort","weekdays",3)},longDateFormat:function(h){return u(f.$locale(),h)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};i.localeData=function(){return d.bind(this)()},a.localeData=function(){var f=c();return{firstDayOfWeek:function(){return f.weekStart||0},weekdays:function(){return a.weekdays()},weekdaysShort:function(){return a.weekdaysShort()},weekdaysMin:function(){return a.weekdaysMin()},months:function(){return a.months()},monthsShort:function(){return a.monthsShort()},longDateFormat:function(h){return u(f,h)},meridiem:f.meridiem,ordinal:f.ordinal}},a.months=function(){return l(c(),"months")},a.monthsShort=function(){return l(c(),"monthsShort","months",3)},a.weekdays=function(f){return l(c(),"weekdays",null,null,f)},a.weekdaysShort=function(f){return l(c(),"weekdaysShort","weekdays",3,f)},a.weekdaysMin=function(f){return l(c(),"weekdaysMin","weekdays",2,f)}}})})(cU);var uU={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(ia,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(n,a,i){var o=a.prototype,l=o.format;i.en.formats=r,o.format=function(c){c===void 0&&(c="YYYY-MM-DDTHH:mm:ssZ");var u=this.$locale().formats,d=function(f,h){return f.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(p,v,g){var x=g&&g.toUpperCase();return v||h[g]||r[g]||h[x].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(b,y,N){return y||N.slice(1)})})}(c,u===void 0?{}:u);return l.call(this,d)}}})})(uU);var dU={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(ia,function(){return function(r,n,a){var i=function(o,l){if(!l||!l.length||l.length===1&&!l[0]||l.length===1&&Array.isArray(l[0])&&!l[0].length)return null;var c;l.length===1&&l[0].length>0&&(l=l[0]),c=(l=l.filter(function(d){return d}))[0];for(var u=1;u<l.length;u+=1)l[u].isValid()&&!l[u][o](c)||(c=l[u]);return c};a.max=function(){var o=[].slice.call(arguments,0);return i("isAfter",o)},a.min=function(){var o=[].slice.call(arguments,0);return i("isBefore",o)}}})})(dU);var fU={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(ia,function(){var r="minute",n=/[+-]\d\d(?::?\d\d)?/g,a=/([+-]|\d\d)/g;return function(i,o,l){var c=o.prototype;l.utc=function(g){var x={date:g,utc:!0,args:arguments};return new o(x)},c.utc=function(g){var x=l(this.toDate(),{locale:this.$L,utc:!0});return g?x.add(this.utcOffset(),r):x},c.local=function(){return l(this.toDate(),{locale:this.$L,utc:!1})};var u=c.parse;c.parse=function(g){g.utc&&(this.$u=!0),this.$utils().u(g.$offset)||(this.$offset=g.$offset),u.call(this,g)};var d=c.init;c.init=function(){if(this.$u){var g=this.$d;this.$y=g.getUTCFullYear(),this.$M=g.getUTCMonth(),this.$D=g.getUTCDate(),this.$W=g.getUTCDay(),this.$H=g.getUTCHours(),this.$m=g.getUTCMinutes(),this.$s=g.getUTCSeconds(),this.$ms=g.getUTCMilliseconds()}else d.call(this)};var f=c.utcOffset;c.utcOffset=function(g,x){var b=this.$utils().u;if(b(g))return this.$u?0:b(this.$offset)?f.call(this):this.$offset;if(typeof g=="string"&&(g=function(w){w===void 0&&(w="");var S=w.match(n);if(!S)return null;var P=(""+S[0]).match(a)||["-",0,0],O=P[0],T=60*+P[1]+ +P[2];return T===0?0:O==="+"?T:-T}(g),g===null))return this;var y=Math.abs(g)<=16?60*g:g,N=this;if(x)return N.$offset=y,N.$u=g===0,N;if(g!==0){var _=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(N=this.local().add(y+_,r)).$offset=y,N.$x.$localOffset=_}else N=this.utc();return N};var h=c.format;c.format=function(g){var x=g||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return h.call(this,x)},c.valueOf=function(){var g=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*g},c.isUTC=function(){return!!this.$u},c.toISOString=function(){return this.toDate().toISOString()},c.toString=function(){return this.toDate().toUTCString()};var p=c.toDate;c.toDate=function(g){return g==="s"&&this.$offset?l(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():p.call(this)};var v=c.diff;c.diff=function(g,x,b){if(g&&this.$u===g.$u)return v.call(this,g,x,b);var y=this.local(),N=l(g).local();return v.call(y,N,x,b)}}})})(fU);var hU={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(ia,function(){return function(r,n){n.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}})})(hU);function ai(e){return e.children}var Tn={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},vn={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},Q2=Object.keys(vn).map(function(e){return vn[e]});Se.oneOfType([Se.string,Se.func]);Se.any;Se.func;Se.oneOfType([Se.arrayOf(Se.oneOf(Q2)),Se.objectOf(function(e,t){var r=Q2.indexOf(t)!==-1&&typeof e[t]=="boolean";if(r)return null;for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];return Se.elementType.apply(Se,[e,t].concat(a))})]);Se.oneOfType([Se.oneOf(["overlap","no-overlap"]),Se.func]);var ew={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function eA(e,t){var r=Xr(e,"month");return Xr(r,"week",t.startOfWeek())}function tA(e,t){var r=Hh(e,"month");return Hh(r,"week",t.startOfWeek())}function pU(e,t){for(var r=eA(e,t),n=tA(e,t),a=[];Oc(r,n,"day");)a.push(r),r=Fa(r,1,"day");return a}function mU(e,t){var r=Xr(e,t);return Ac(r,e)?r:Fa(r,1,t)}function gU(e,t){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",n=e,a=[];Oc(n,t,r);)a.push(n),n=Fa(n,1,r);return a}function vU(e,t){return t==null&&e==null?null:(t==null&&(t=new Date),e==null&&(e=new Date),e=Xr(e,"day"),e=dd(e,dd(t)),e=Hl(e,Hl(t)),e=ud(e,ud(t)),cd(e,cd(t)))}function tw(e){return dd(e)===0&&Hl(e)===0&&ud(e)===0&&cd(e)===0}function yU(e,t,r,n){return r==="day"&&(r="date"),Math.abs(I1[r](e,void 0,n)-I1[r](t,void 0,n))}function Yb(e,t,r){return!r||r==="milliseconds"?Math.abs(+e-+t):Math.round(Math.abs(+Xr(e,r)/ew[r]-+Xr(t,r)/ew[r]))}var bU=Se.oneOfType([Se.string,Se.func]);function xU(e,t,r,n,a){var i=typeof n=="function"?n(r,a,e):t.call(e,r,n,a);return nd(i==null||typeof i=="string","`localizer format(..)` must return a string, null, or undefined"),i}function wU(e,t,r){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,t+r,0,0)}function Kb(e,t){return e.getTimezoneOffset()-t.getTimezoneOffset()}function jU(e,t){return Yb(e,t,"minutes")+Kb(e,t)}function NU(e){var t=Xr(e,"day");return Yb(t,e,"minutes")+Kb(t,e)}function SU(e,t){return pb(e,t,"day")}function _U(e,t,r){var n=Ac(e,t,"minutes");return n?nf(t,r,"minutes"):nm(t,r,"minutes")}function x0(e,t){return yU(e,t,"day")}function AU(e){var t=e.evtA,r=t.start,n=t.end,a=t.allDay,i=e.evtB,o=i.start,l=i.end,c=i.allDay,u=+Xr(r,"day")-+Xr(o,"day"),d=x0(r,n),f=x0(o,l);return u||f-d||!!c-!!a||+r-+o||+n-+l}function OU(e){var t=e.event,r=t.start,n=t.end,a=e.range,i=a.start,o=a.end,l=Xr(r,"day"),c=Oc(l,o,"day"),u=hb(l,n,"minutes"),d=u?nm(n,i,"minutes"):nf(n,i,"minutes");return c&&d}function PU(e,t){return Ac(e,t,"day")}function EU(e,t){return tw(e)&&tw(t)}var kU=$r(function e(t){var r=this;Dr(this,e),nd(typeof t.format=="function","date localizer `format(..)` must be a function"),nd(typeof t.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=t.propType||bU,this.formats=t.formats,this.format=function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return xU.apply(void 0,[r,t.format].concat(a))},this.startOfWeek=t.firstOfWeek,this.merge=t.merge||vU,this.inRange=t.inRange||FS,this.lt=t.lt||pb,this.lte=t.lte||Oc,this.gt=t.gt||nm,this.gte=t.gte||nf,this.eq=t.eq||Ac,this.neq=t.neq||hb,this.startOf=t.startOf||Xr,this.endOf=t.endOf||Hh,this.add=t.add||Fa,this.range=t.range||gU,this.diff=t.diff||Yb,this.ceil=t.ceil||mU,this.min=t.min||IS,this.max=t.max||RS,this.minutes=t.minutes||Hl,this.daySpan=t.daySpan||x0,this.firstVisibleDay=t.firstVisibleDay||eA,this.lastVisibleDay=t.lastVisibleDay||tA,this.visibleDays=t.visibleDays||pU,this.getSlotDate=t.getSlotDate||wU,this.getTimezoneOffset=t.getTimezoneOffset||function(n){return n.getTimezoneOffset()},this.getDstOffset=t.getDstOffset||Kb,this.getTotalMin=t.getTotalMin||jU,this.getMinutesFromMidnight=t.getMinutesFromMidnight||NU,this.continuesPrior=t.continuesPrior||SU,this.continuesAfter=t.continuesAfter||_U,this.sortEvents=t.sortEvents||AU,this.inEventRange=t.inEventRange||OU,this.isSameDate=t.isSameDate||PU,this.startAndEndAreDateOnly=t.startAndEndAreDateOnly||EU,this.segmentOffset=t.browserTZOffset?t.browserTZOffset():0});function CU(e,t,r,n){var a=Ut(Ut({},e.formats),r);return Ut(Ut({},e),{},{messages:n,startOfWeek:function(){return e.startOfWeek(t)},format:function(o,l){return e.format(o,a[l]||l,t)}})}var TU=function(e){function t(){var r;Dr(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=cn(this,t,[].concat(a)),r.navigate=function(o){r.props.onNavigate(o)},r.view=function(o){r.props.onView(o)},r}return un(t,e),$r(t,[{key:"render",value:function(){var n=this.props,a=n.localizer.messages,i=n.label;return U.createElement("div",{className:"rbc-toolbar"},U.createElement("span",{className:"rbc-btn-group"},U.createElement("button",{type:"button",onClick:this.navigate.bind(null,Tn.TODAY)},a.today),U.createElement("button",{type:"button",onClick:this.navigate.bind(null,Tn.PREVIOUS)},a.previous),U.createElement("button",{type:"button",onClick:this.navigate.bind(null,Tn.NEXT)},a.next)),U.createElement("span",{className:"rbc-toolbar-label"},i),U.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(a)))}},{key:"viewNamesGroup",value:function(n){var a=this,i=this.props.views,o=this.props.view;if(i.length>1)return i.map(function(l){return U.createElement("button",{type:"button",key:l,className:hr({"rbc-active":o===l}),onClick:a.view.bind(null,l)},n[l])})}}])}(U.Component);function er(e,t){e&&e.apply(null,[].concat(t))}var LU={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(t){return"+".concat(t," more")}};function MU(e){return Ut(Ut({},LU),e)}function DU(e){var t=e.ref,r=e.callback;$.useEffect(function(){var n=function(i){t.current&&!t.current.contains(i.target)&&r()};return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}},[t,r])}var $U=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],rA=function(e){function t(){return Dr(this,t),cn(this,t,arguments)}return un(t,e),$r(t,[{key:"render",value:function(){var n=this.props,a=n.style,i=n.className,o=n.event,l=n.selected,c=n.isAllDay,u=n.onSelect,d=n.onDoubleClick,f=n.onKeyPress,h=n.localizer,p=n.continuesPrior,v=n.continuesAfter,g=n.accessors,x=n.getters,b=n.children,y=n.components,N=y.event,_=y.eventWrapper,w=n.slotStart,S=n.slotEnd,P=mi(n,$U);delete P.resizable;var O=g.title(o),T=g.tooltip(o),I=g.end(o),k=g.start(o),C=g.allDay(o),L=c||C||h.diff(k,h.ceil(I,"day"),"day")>1,R=x.eventProp(o,k,I,l),V=U.createElement("div",{className:"rbc-event-content",title:T||void 0},N?U.createElement(N,{event:o,continuesPrior:p,continuesAfter:v,title:O,isAllDay:C,localizer:h,slotStart:w,slotEnd:S}):O);return U.createElement(_,Object.assign({},this.props,{type:"date"}),U.createElement("div",Object.assign({},P,{style:Ut(Ut({},R.style),a),className:hr("rbc-event",i,R.className,{"rbc-selected":l,"rbc-event-allday":L,"rbc-event-continues-prior":p,"rbc-event-continues-after":v}),onClick:function(B){return u&&u(o,B)},onDoubleClick:function(B){return d&&d(o,B)},onKeyDown:function(B){return f&&f(o,B)}}),typeof b=="function"?b(V):V))}}])}(U.Component);function bm(e,t){return!e||t==null?!1:Ao(e,t)}function nA(e,t){var r=e.right-e.left,n=r/t;return n}function aA(e,t,r,n){var a=nA(e,n);return r?n-1-Math.floor((t-e.left)/a):Math.floor((t-e.left)/a)}function IU(e,t){var r=t.x,n=t.y;return n>=e.top&&n<=e.bottom&&r>=e.left&&r<=e.right}function RU(e,t,r,n,a){var i=-1,o=-1,l=n-1,c=nA(t,n),u=aA(t,r.x,a,n),d=t.top<r.y&&t.bottom>r.y,f=t.top<e.y&&t.bottom>e.y,h=e.y>t.bottom,p=t.top>e.y,v=r.top<t.top&&r.bottom>t.bottom;return v&&(i=0,o=l),d&&(p?(i=0,o=u):h&&(i=u,o=l)),f&&(i=o=a?l-Math.floor((e.x-t.left)/c):Math.floor((e.x-t.left)/c),d?u<i?i=u:o=u:e.y<r.y?o=l:i=0),{startIdx:i,endIdx:o}}function FU(e){var t=e.target,r=e.offset,n=e.container,a=e.box,i=fo(t),o=i.top,l=i.left,c=i.width,u=i.height,d=fo(n),f=d.top,h=d.left,p=d.width,v=d.height,g=fo(a),x=g.width,b=g.height,y=f+v,N=h+p,_=o+b,w=l+x,S=r.x,P=r.y,O=_>y?o-b-P:o+P+u,T=w>N?l+S-x+c:l+S;return{topOffset:O,leftOffset:T}}function BU(e){var t=e.containerRef,r=e.accessors,n=e.getters,a=e.selected,i=e.components,o=e.localizer,l=e.position,c=e.show,u=e.events,d=e.slotStart,f=e.slotEnd,h=e.onSelect,p=e.onDoubleClick,v=e.onKeyPress,g=e.handleDragStart,x=e.popperRef,b=e.target,y=e.offset;DU({ref:x,callback:c}),$.useLayoutEffect(function(){var w=FU({target:b,offset:y,container:t.current,box:x.current}),S=w.topOffset,P=w.leftOffset;x.current.style.top="".concat(S,"px"),x.current.style.left="".concat(P,"px")},[y.x,y.y,b]);var N=l.width,_={minWidth:N+N/2};return U.createElement("div",{style:_,className:"rbc-overlay",ref:x},U.createElement("div",{className:"rbc-overlay-header"},o.format(d,"dayHeaderFormat")),u.map(function(w,S){return U.createElement(rA,{key:S,type:"popup",localizer:o,event:w,getters:n,onSelect:h,accessors:r,components:i,onDoubleClick:p,onKeyPress:v,continuesPrior:o.lt(r.end(w),d,"day"),continuesAfter:o.gte(r.start(w),f,"day"),slotStart:d,slotEnd:f,selected:bm(w,a),draggable:!0,onDragStart:function(){return g(w)},onDragEnd:function(){return c()}})}))}var iA=U.forwardRef(function(e,t){return U.createElement(BU,Object.assign({},e,{popperRef:t}))});iA.propTypes={accessors:Se.object.isRequired,getters:Se.object.isRequired,selected:Se.object,components:Se.object.isRequired,localizer:Se.object.isRequired,position:Se.object.isRequired,show:Se.func.isRequired,events:Se.array.isRequired,slotStart:Se.instanceOf(Date).isRequired,slotEnd:Se.instanceOf(Date),onSelect:Se.func,onDoubleClick:Se.func,onKeyPress:Se.func,handleDragStart:Se.func,style:Se.object,offset:Se.shape({x:Se.number,y:Se.number})};function zU(e){var t=e.containerRef,r=e.popupOffset,n=r===void 0?5:r,a=e.overlay,i=e.accessors,o=e.localizer,l=e.components,c=e.getters,u=e.selected,d=e.handleSelectEvent,f=e.handleDoubleClickEvent,h=e.handleKeyPressEvent,p=e.handleDragStart,v=e.onHide,g=e.overlayDisplay,x=$.useRef(null);if(!a.position)return null;var b=n;isNaN(n)||(b={x:n,y:n});var y=a.position,N=a.events,_=a.date,w=a.end;return U.createElement(Eb,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:v,target:a.target},function(S){var P=S.props;return U.createElement(iA,Object.assign({},P,{containerRef:t,ref:x,target:a.target,offset:b,accessors:i,getters:c,selected:u,components:l,localizer:o,position:y,show:g,events:N,slotStart:_,slotEnd:w,onSelect:d,onDoubleClick:f,onKeyPress:h,handleDragStart:p}))})}var Xb=U.forwardRef(function(e,t){return U.createElement(zU,Object.assign({},e,{containerRef:t}))});Xb.propTypes={popupOffset:Se.oneOfType([Se.number,Se.shape({x:Se.number,y:Se.number})]),overlay:Se.shape({position:Se.object,events:Se.array,date:Se.instanceOf(Date),end:Se.instanceOf(Date)}),accessors:Se.object.isRequired,localizer:Se.object.isRequired,components:Se.object.isRequired,getters:Se.object.isRequired,selected:Se.object,handleSelectEvent:Se.func,handleDoubleClickEvent:Se.func,handleKeyPressEvent:Se.func,handleDragStart:Se.func,onHide:Se.func,overlayDisplay:Se.func};function en(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return Hu(r,e,t,{passive:!1})}function qU(e,t,r){return!e||fd(e,document.elementFromPoint(t,r))}function UU(e,t){var r=t.clientX,n=t.clientY,a=document.elementFromPoint(r,n);return N_(a,".rbc-event",e)}function WU(e,t){var r=t.clientX,n=t.clientY,a=document.elementFromPoint(r,n);return N_(a,".rbc-show-more",e)}function Zh(e,t){return!!UU(e,t)}function HU(e,t){return!!WU(e,t)}function Ou(e){var t=e;return e.touches&&e.touches.length&&(t=e.touches[0]),{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}var rw=5,GU=250,sA=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.global,a=n===void 0?!1:n,i=r.longPressThreshold,o=i===void 0?250:i,l=r.validContainers,c=l===void 0?[]:l;Dr(this,e),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=t,this.globalMouse=!t||a,this.longPressThreshold=o,this.validContainers=c,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=en("touchmove",function(){},window),this._removeKeyDownListener=en("keydown",this._keyListener),this._removeKeyUpListener=en("keyup",this._keyListener),this._removeDropFromOutsideListener=en("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=en("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return $r(e,[{key:"on",value:function(r,n){var a=this._listeners[r]||(this._listeners[r]=[]);return a.push(n),{remove:function(){var o=a.indexOf(n);o!==-1&&a.splice(o,1)}}}},{key:"emit",value:function(r){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];var o,l=this._listeners[r]||[];return l.forEach(function(c){o===void 0&&(o=c.apply(void 0,a))}),o}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(r){var n=this._selectRect;return!n||!this.selecting?!1:nw(n,Oo(r))}},{key:"filter",value:function(r){var n=this._selectRect;return!n||!this.selecting?[]:r.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(r,n){var a=this,i=null,o=null,l=null,c=function(h){i=setTimeout(function(){d(),r(h)},a.longPressThreshold),o=en("touchmove",function(){return d()}),l=en("touchend",function(){return d()})},u=en("touchstart",c),d=function(){i&&clearTimeout(i),o&&o(),l&&l(),i=null,o=null,l=null};return n&&c(n),function(){d(),u()}}},{key:"_addInitialEventListener",value:function(){var r=this,n=en("mousedown",function(i){r._removeInitialEventListener(),r._handleInitialEvent(i),r._removeInitialEventListener=en("mousedown",r._handleInitialEvent)}),a=en("touchstart",function(i){r._removeInitialEventListener(),r._removeInitialEventListener=r._addLongPressListener(r._handleInitialEvent,i)});this._removeInitialEventListener=function(){n(),a()}}},{key:"_dropFromOutsideListener",value:function(r){var n=Ou(r),a=n.pageX,i=n.pageY,o=n.clientX,l=n.clientY;this.emit("dropFromOutside",{x:a,y:i,clientX:o,clientY:l}),r.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(r){var n=Ou(r),a=n.pageX,i=n.pageY,o=n.clientX,l=n.clientY;this.emit("dragOverFromOutside",{x:a,y:i,clientX:o,clientY:l}),r.preventDefault()}},{key:"_handleInitialEvent",value:function(r){if(this._initialEvent=r,!this.isDetached){var n=Ou(r),a=n.clientX,i=n.clientY,o=n.pageX,l=n.pageY,c=this.container(),u,d;if(!(r.which===3||r.button===2||!qU(c,a,i))){if(!this.globalMouse&&c&&!fd(c,r.target)){var f=VU(0),h=f.top,p=f.left,v=f.bottom,g=f.right;if(d=Oo(c),u=nw({top:d.top-h,left:d.left-p,bottom:d.bottom+v,right:d.right+g},{top:l,left:o}),!u)return}var x=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(r.type),x:o,y:l,clientX:a,clientY:i});if(x!==!1)switch(r.type){case"mousedown":this._removeEndListener=en("mouseup",this._handleTerminatingEvent),this._onEscListener=en("keydown",this._handleTerminatingEvent),this._removeMoveListener=en("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(r),this._removeEndListener=en("touchend",this._handleTerminatingEvent),this._removeMoveListener=en("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(r){var n=r.target,a=this.validContainers;return!a||!a.length||!n?!0:a.some(function(i){return!!n.closest(i)})}},{key:"_handleTerminatingEvent",value:function(r){var n=this.selecting,a=this._selectRect;if(!n&&r.type.includes("key")&&(r=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!r){var i=!this.container||fd(this.container(),r.target),o=this._isWithinValidContainer(r);return r.key==="Escape"||!o?this.emit("reset"):!n&&i?this._handleClickEvent(r):n?this.emit("select",a):this.emit("reset")}}},{key:"_handleClickEvent",value:function(r){var n=Ou(r),a=n.pageX,i=n.pageY,o=n.clientX,l=n.clientY,c=new Date().getTime();return this._lastClickData&&c-this._lastClickData.timestamp<GU?(this._lastClickData=null,this.emit("doubleClick",{x:a,y:i,clientX:o,clientY:l})):(this._lastClickData={timestamp:c},this.emit("click",{x:a,y:i,clientX:o,clientY:l}))}},{key:"_handleMoveEvent",value:function(r){if(!(this._initialEventData===null||this.isDetached)){var n=this._initialEventData,a=n.x,i=n.y,o=Ou(r),l=o.pageX,c=o.pageY,u=Math.abs(a-l),d=Math.abs(i-c),f=Math.min(l,a),h=Math.min(c,i),p=this.selecting,v=this.isClick(l,c);v&&!p&&!(u||d)||(!p&&!v&&this.emit("selectStart",this._initialEventData),v||(this.selecting=!0,this._selectRect={top:h,left:f,x:l,y:c,right:f+u,bottom:h+d},this.emit("selecting",this._selectRect)),r.preventDefault())}}},{key:"_keyListener",value:function(r){this.ctrl=r.metaKey||r.ctrlKey}},{key:"isClick",value:function(r,n){var a=this._initialEventData,i=a.x,o=a.y,l=a.isTouch;return!l&&Math.abs(r-i)<=rw&&Math.abs(n-o)<=rw}}])}();function VU(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return jt(e)!=="object"&&(e={top:e,left:e,right:e,bottom:e}),e}function nw(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=Oo(e),a=n.top,i=n.left,o=n.right,l=o===void 0?i:o,c=n.bottom,u=c===void 0?a:c,d=Oo(t),f=d.top,h=d.left,p=d.right,v=p===void 0?h:p,g=d.bottom,x=g===void 0?f:g;return!(u-r<f||a+r>x||l-r<h||i+r>v)}function Oo(e){if(!e.getBoundingClientRect)return e;var t=e.getBoundingClientRect(),r=t.left+aw("left"),n=t.top+aw("top");return{top:n,left:r,right:(e.offsetWidth||0)+r,bottom:(e.offsetHeight||0)+n}}function aw(e){if(e==="left")return window.pageXOffset||document.body.scrollLeft||0;if(e==="top")return window.pageYOffset||document.body.scrollTop||0}var YU=function(e){function t(r,n){var a;return Dr(this,t),a=cn(this,t,[r,n]),a.state={selecting:!1},a.containerRef=$.createRef(),a}return un(t,e),$r(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(n){!n.selectable&&this.props.selectable&&this._selectable(),n.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var n=this.props,a=n.range,i=n.getNow,o=n.getters,l=n.date,c=n.components.dateCellWrapper,u=n.localizer,d=this.state,f=d.selecting,h=d.startIdx,p=d.endIdx,v=i();return U.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},a.map(function(g,x){var b=f&&x>=h&&x<=p,y=o.dayProp(g),N=y.className,_=y.style;return U.createElement(c,{key:x,value:g,range:a},U.createElement("div",{style:_,className:hr("rbc-day-bg",N,b&&"rbc-selected-cell",u.isSameDate(g,v)&&"rbc-today",l&&u.neq(l,g,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var n=this,a=this.containerRef.current,i=this._selector=new sA(this.props.container,{longPressThreshold:this.props.longPressThreshold}),o=function(c,u){if(!Zh(a,c)&&!HU(a,c)){var d=Oo(a),f=n.props,h=f.range,p=f.rtl;if(IU(d,c)){var v=aA(d,c.x,p,h.length);n._selectSlot({startIdx:v,endIdx:v,action:u,box:c})}}n._initial={},n.setState({selecting:!1})};i.on("selecting",function(l){var c=n.props,u=c.range,d=c.rtl,f=-1,h=-1;if(n.state.selecting||(er(n.props.onSelectStart,[l]),n._initial={x:l.x,y:l.y}),i.isSelected(a)){var p=Oo(a),v=RU(n._initial,p,l,u.length,d);f=v.startIdx,h=v.endIdx}n.setState({selecting:!0,startIdx:f,endIdx:h})}),i.on("beforeSelect",function(l){if(n.props.selectable==="ignoreEvents")return!Zh(n.containerRef.current,l)}),i.on("click",function(l){return o(l,"click")}),i.on("doubleClick",function(l){return o(l,"doubleClick")}),i.on("select",function(l){n._selectSlot(Ut(Ut({},n.state),{},{action:"select",bounds:l})),n._initial={},n.setState({selecting:!1}),er(n.props.onSelectEnd,[n.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(n){var a=n.endIdx,i=n.startIdx,o=n.action,l=n.bounds,c=n.box;a!==-1&&i!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:i,end:a,action:o,bounds:l,box:c,resourceId:this.props.resourceId})}}])}(U.Component),na={propTypes:{slotMetrics:Se.object.isRequired,selected:Se.object,isAllDay:Se.bool,accessors:Se.object.isRequired,localizer:Se.object.isRequired,components:Se.object.isRequired,getters:Se.object.isRequired,onSelect:Se.func,onDoubleClick:Se.func,onKeyPress:Se.func},defaultProps:{segments:[],selected:{}},renderEvent:function(t,r){var n=t.selected;t.isAllDay;var a=t.accessors,i=t.getters,o=t.onSelect,l=t.onDoubleClick,c=t.onKeyPress,u=t.localizer,d=t.slotMetrics,f=t.components,h=t.resizable,p=d.continuesPrior(r),v=d.continuesAfter(r);return U.createElement(rA,{event:r,getters:i,localizer:u,accessors:a,components:f,onSelect:o,onDoubleClick:l,onKeyPress:c,continuesPrior:p,continuesAfter:v,slotStart:d.first,slotEnd:d.last,selected:bm(r,n),resizable:h})},renderSpan:function(t,r,n){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",i=Math.abs(r)/t*100+"%";return U.createElement("div",{key:n,className:"rbc-row-segment",style:{WebkitFlexBasis:i,flexBasis:i,maxWidth:i}},a)}},oA=function(e){function t(){return Dr(this,t),cn(this,t,arguments)}return un(t,e),$r(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.segments,o=a.slotMetrics.slots,l=a.className,c=1;return U.createElement("div",{className:hr(l,"rbc-row")},i.reduce(function(u,d,f){var h=d.event,p=d.left,v=d.right,g=d.span,x="_lvl_"+f,b=p-c,y=na.renderEvent(n.props,h);return b&&u.push(na.renderSpan(o,b,"".concat(x,"_gap"))),u.push(na.renderSpan(o,g,x,y)),c=v+1,u},[]))}}])}(U.Component);oA.defaultProps=Ut({},na.defaultProps);function lA(e){var t=e.dateRange,r=e.unit,n=r===void 0?"day":r,a=e.localizer;return{first:t[0],last:a.add(t[t.length-1],1,n)}}function KU(e,t,r,n){var a=lA({dateRange:t,localizer:n}),i=a.first,o=a.last,l=n.diff(i,o,"day"),c=n.max(n.startOf(r.start(e),"day"),i),u=n.min(n.ceil(r.end(e),"day"),o),d=aR(t,function(h){return n.isSameDate(h,c)}),f=n.diff(c,u,"day");return f=Math.min(f,l),f=Math.max(f-n.segmentOffset,1),{event:e,span:f,left:d+1,right:Math.max(d+f,1)}}function w0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,r,n,a,i=[],o=[];for(r=0;r<e.length;r++){for(a=e[r],n=0;n<i.length&&XU(a,i[n]);n++);n>=t?o.push(a):(i[n]||(i[n]=[])).push(a)}for(r=0;r<i.length;r++)i[r].sort(function(l,c){return l.left-c.left});return{levels:i,extra:o}}function gd(e,t,r,n,a){var i={start:n.start(e),end:n.end(e)},o={start:t,end:r};return a.inEventRange({event:i,range:o})}function XU(e,t){return t.some(function(r){return r.left<=e.right&&r.right>=e.left})}function JU(e,t,r){var n=Th(e),a=[],i=[];n.forEach(function(c){var u=t.start(c),d=t.end(c);r.daySpan(u,d)>1?a.push(c):i.push(c)});var o=a.sort(function(c,u){return j0(c,u,t,r)}),l=i.sort(function(c,u){return j0(c,u,t,r)});return[].concat(Th(o),Th(l))}function j0(e,t,r,n){var a={start:r.start(e),end:r.end(e),allDay:r.allDay(e)},i={start:r.start(t),end:r.end(t),allDay:r.allDay(t)};return n.sortEvents({evtA:a,evtB:i})}var N0=function(t,r){return t.left<=r&&t.right>=r},vv=function(t,r){return t.filter(function(n){return N0(n,r)}).map(function(n){return n.event})},cA=function(e){function t(){return Dr(this,t),cn(this,t,arguments)}return un(t,e),$r(t,[{key:"render",value:function(){for(var n=this.props,a=n.segments,i=n.slotMetrics.slots,o=w0(a).levels[0],l=1,c=1,u=[];l<=i;){var d="_lvl_"+l,f=o.filter(function(_){return N0(_,l)})[0]||{},h=f.event,p=f.left,v=f.right,g=f.span;if(!h){var x=this.getHiddenEventsForSlot(a,l);if(x.length>0){var b=l-c;b&&u.push(na.renderSpan(i,b,d+"_gap")),u.push(na.renderSpan(i,1,d,this.renderShowMore(a,l))),c=l=l+1;continue}l++;continue}var y=Math.max(0,p-c);if(this.canRenderSlotEvent(p,g)){var N=na.renderEvent(this.props,h);y&&u.push(na.renderSpan(i,y,d+"_gap")),u.push(na.renderSpan(i,g,d,N)),c=l=v+1}else y&&u.push(na.renderSpan(i,y,d+"_gap")),u.push(na.renderSpan(i,1,d,this.renderShowMore(a,l))),c=l=l+1}return U.createElement("div",{className:"rbc-row"},u)}},{key:"getHiddenEventsForSlot",value:function(n,a){var i=vv(n,a),o=w0(n).levels[0],l=o.filter(function(c){return N0(c,a)}).map(function(c){return c.event});return i.filter(function(c){return!l.some(function(u){return u===c})})}},{key:"canRenderSlotEvent",value:function(n,a){var i=this.props.segments;return md(n,n+a).every(function(o){var l=vv(i,o).length;return l===1})}},{key:"renderShowMore",value:function(n,a){var i=this,o=this.props,l=o.localizer,c=o.slotMetrics,u=o.components,d=c.getEventsForSlot(a),f=vv(n,a),h=f.length;if(u!=null&&u.showMore){var p=u.showMore,v=c.getDateForSlot(a-1);return h?U.createElement(p,{localizer:l,slotDate:v,slot:a,count:h,events:d,remainingEvents:f}):!1}return h?U.createElement("button",{type:"button",key:"sm_"+a,className:hr("rbc-button-link","rbc-show-more"),onClick:function(x){return i.showMore(a,x)}},l.messages.showMore(h,f,d)):!1}},{key:"showMore",value:function(n,a){a.preventDefault(),a.stopPropagation(),this.props.onShowMore(n,a.target)}}])}(U.Component);cA.defaultProps=Ut({},na.defaultProps);var ZU=function(t){var r=t.children;return U.createElement("div",{className:"rbc-row-content-scroll-container"},r)},QU=function(t,r){return t.left<=r&&t.right>=r},eW=function(t,r){return t[0].range===r[0].range&&t[0].events===r[0].events};function uA(){return L_(function(e){for(var t=e.range,r=e.events,n=e.maxRows,a=e.minRows,i=e.accessors,o=e.localizer,l=lA({dateRange:t,localizer:o}),c=l.first,u=l.last,d=r.map(function(g){return KU(g,t,i,o)}),f=w0(d,Math.max(n-1,1)),h=f.levels,p=f.extra,v=p.length>0?a-1:a;h.length<v;)h.push([]);return{first:c,last:u,levels:h,extra:p,range:t,slots:t.length,clone:function(x){var b=uA();return b(Ut(Ut({},e),x))},getDateForSlot:function(x){return t[x]},getSlotForDate:function(x){return t.find(function(b){return o.isSameDate(b,x)})},getEventsForSlot:function(x){return d.filter(function(b){return QU(b,x)}).map(function(b){return b.event})},continuesPrior:function(x){return o.continuesPrior(i.start(x),c)},continuesAfter:function(x){var b=i.start(x),y=i.end(x);return o.continuesAfter(b,y,u)}}},eW)}var vd=function(e){function t(){var r;Dr(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=cn(this,t,[].concat(a)),r.handleSelectSlot=function(o){var l=r.props,c=l.range,u=l.onSelectSlot;u(c.slice(o.start,o.end+1),o)},r.handleShowMore=function(o,l){var c=r.props,u=c.range,d=c.onShowMore,f=r.slotMetrics(r.props),h=pC(r.containerRef.current,".rbc-row-bg")[0],p;h&&(p=h.children[o-1]);var v=f.getEventsForSlot(o);d(v,u[o-1],p,o,l)},r.getContainer=function(){var o=r.props.container;return o?o():r.containerRef.current},r.renderHeadingCell=function(o,l){var c=r.props,u=c.renderHeader,d=c.getNow,f=c.localizer;return u({date:o,key:"header_".concat(l),className:hr("rbc-date-cell",f.isSameDate(o,d())&&"rbc-now")})},r.renderDummy=function(){var o=r.props,l=o.className,c=o.range,u=o.renderHeader,d=o.showAllEvents;return U.createElement("div",{className:l,ref:r.containerRef},U.createElement("div",{className:hr("rbc-row-content",d&&"rbc-row-content-scrollable")},u&&U.createElement("div",{className:"rbc-row",ref:r.headingRowRef},c.map(r.renderHeadingCell)),U.createElement("div",{className:"rbc-row",ref:r.eventRowRef},U.createElement("div",{className:"rbc-row-segment"},U.createElement("div",{className:"rbc-event"},U.createElement("div",{className:"rbc-event-content"},"Â "))))))},r.containerRef=$.createRef(),r.headingRowRef=$.createRef(),r.eventRowRef=$.createRef(),r.slotMetrics=uA(),r}return un(t,e),$r(t,[{key:"getRowLimit",value:function(){var n,a=pv(this.eventRowRef.current),i=(n=this.headingRowRef)!==null&&n!==void 0&&n.current?pv(this.headingRowRef.current):0,o=pv(this.containerRef.current)-i;return Math.max(Math.floor(o/a),1)}},{key:"render",value:function(){var n=this.props,a=n.date,i=n.rtl,o=n.range,l=n.className,c=n.selected,u=n.selectable,d=n.renderForMeasure,f=n.accessors,h=n.getters,p=n.components,v=n.getNow,g=n.renderHeader,x=n.onSelect,b=n.localizer,y=n.onSelectStart,N=n.onSelectEnd,_=n.onDoubleClick,w=n.onKeyPress,S=n.resourceId,P=n.longPressThreshold,O=n.isAllDay,T=n.resizable,I=n.showAllEvents;if(d)return this.renderDummy();var k=this.slotMetrics(this.props),C=k.levels,L=k.extra,R=I?ZU:ai,V=p.weekWrapper,F={selected:c,accessors:f,getters:h,localizer:b,components:p,onSelect:x,onDoubleClick:_,onKeyPress:w,resourceId:S,slotMetrics:k,resizable:T};return U.createElement("div",{className:l,role:"rowgroup",ref:this.containerRef},U.createElement(YU,{localizer:b,date:a,getNow:v,rtl:i,range:o,selectable:u,container:this.getContainer,getters:h,onSelectStart:y,onSelectEnd:N,onSelectSlot:this.handleSelectSlot,components:p,longPressThreshold:P,resourceId:S}),U.createElement("div",{className:hr("rbc-row-content",I&&"rbc-row-content-scrollable"),role:"row"},g&&U.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},o.map(this.renderHeadingCell)),U.createElement(R,null,U.createElement(V,Object.assign({isAllDay:O},F,{rtl:this.props.rtl}),C.map(function(B,X){return U.createElement(oA,Object.assign({key:X,segments:B},F))}),!!L.length&&U.createElement(cA,Object.assign({segments:L,onShowMore:this.handleShowMore},F))))))}}])}(U.Component);vd.defaultProps={minRows:0,maxRows:1/0};var Jb=function(t){var r=t.label;return U.createElement("span",{role:"columnheader","aria-sort":"none"},r)},tW=function(t){var r=t.label,n=t.drilldownView,a=t.onDrillDown;return n?U.createElement("button",{type:"button",className:"rbc-button-link",onClick:a},r):U.createElement("span",null,r)},rW=["date","className"],nW=function(t,r,n,a,i){return t.filter(function(o){return gd(o,r,n,a,i)})},xm=function(e){function t(){var r;Dr(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=cn(this,t,[].concat(a)),r.getContainer=function(){return r.containerRef.current},r.renderWeek=function(o,l){var c=r.props,u=c.events,d=c.components,f=c.selectable,h=c.getNow,p=c.selected,v=c.date,g=c.localizer,x=c.longPressThreshold,b=c.accessors,y=c.getters,N=c.showAllEvents,_=r.state,w=_.needLimitMeasure,S=_.rowLimit,P=nW(Th(u),o[0],o[o.length-1],b,g),O=JU(P,b,g);return U.createElement(vd,{key:l,ref:l===0?r.slotRowRef:void 0,container:r.getContainer,className:"rbc-month-row",getNow:h,date:v,range:o,events:O,maxRows:N?1/0:S,selected:p,selectable:f,components:d,accessors:b,getters:y,localizer:g,renderHeader:r.readerDateHeading,renderForMeasure:w,onShowMore:r.handleShowMore,onSelect:r.handleSelectEvent,onDoubleClick:r.handleDoubleClickEvent,onKeyPress:r.handleKeyPressEvent,onSelectSlot:r.handleSelectSlot,longPressThreshold:x,rtl:r.props.rtl,resizable:r.props.resizable,showAllEvents:N})},r.readerDateHeading=function(o){var l=o.date,c=o.className,u=mi(o,rW),d=r.props,f=d.date,h=d.getDrilldownView,p=d.localizer,v=p.neq(f,l,"month"),g=p.isSameDate(l,f),x=h(l),b=p.format(l,"dateFormat"),y=r.props.components.dateHeader||tW;return U.createElement("div",Object.assign({},u,{className:hr(c,v&&"rbc-off-range",g&&"rbc-current"),role:"cell"}),U.createElement(y,{label:b,date:l,drilldownView:x,isOffRange:v,onDrillDown:function(_){return r.handleHeadingClick(l,x,_)}}))},r.handleSelectSlot=function(o,l){r._pendingSelection=r._pendingSelection.concat(o),clearTimeout(r._selectTimer),r._selectTimer=setTimeout(function(){return r.selectDates(l)})},r.handleHeadingClick=function(o,l,c){c.preventDefault(),r.clearSelection(),er(r.props.onDrillDown,[o,l])},r.handleSelectEvent=function(){r.clearSelection();for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];er(r.props.onSelectEvent,l)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];er(r.props.onDoubleClickEvent,l)},r.handleKeyPressEvent=function(){r.clearSelection();for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];er(r.props.onKeyPressEvent,l)},r.handleShowMore=function(o,l,c,u,d){var f=r.props,h=f.popup,p=f.onDrillDown,v=f.onShowMore,g=f.getDrilldownView,x=f.doShowMoreDrillDown;if(r.clearSelection(),h){var b=ZS(c,r.containerRef.current);r.setState({overlay:{date:l,events:o,position:b,target:d}})}else x&&er(p,[l,g(l)||vn.DAY]);er(v,[o,l,u])},r.overlayDisplay=function(){r.setState({overlay:null})},r.state={rowLimit:5,needLimitMeasure:!0,date:null},r.containerRef=$.createRef(),r.slotRowRef=$.createRef(),r._bgRows=[],r._pendingSelection=[],r}return un(t,e),$r(t,[{key:"componentDidMount",value:function(){var n=this,a;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){a||QS(function(){a=!1,n.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var n=this.props,a=n.date,i=n.localizer,o=n.className,l=i.visibleDays(a,i),c=Zk(l,7);return this._weekCount=c.length,U.createElement("div",{className:hr("rbc-month-view",o),role:"table","aria-label":"Month View",ref:this.containerRef},U.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(c[0])),c.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(n){var a=this.props,i=a.localizer,o=a.components,l=n[0],c=n[n.length-1],u=o.header||Jb;return i.range(l,c,"day").map(function(d,f){return U.createElement("div",{key:"header_"+f,className:"rbc-header"},U.createElement(u,{date:d,localizer:i,label:i.format(d,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var n,a,i=this,o=(n=(a=this.state)===null||a===void 0?void 0:a.overlay)!==null&&n!==void 0?n:{},l=this.props,c=l.accessors,u=l.localizer,d=l.components,f=l.getters,h=l.selected,p=l.popupOffset,v=l.handleDragStart,g=function(){return i.setState({overlay:null})};return U.createElement(Xb,{overlay:o,accessors:c,localizer:u,components:d,getters:f,selected:h,popupOffset:p,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:v,show:!!o.position,overlayDisplay:this.overlayDisplay,onHide:g})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(n){var a=this._pendingSelection.slice();this._pendingSelection=[],a.sort(function(l,c){return+l-+c});var i=new Date(a[0]),o=new Date(a[a.length-1]);o.setDate(a[a.length-1].getDate()+1),er(this.props.onSelectSlot,{slots:a,start:i,end:o,action:n.action,bounds:n.bounds,box:n.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(n,a){var i=n.date,o=n.localizer;return{date:i,needLimitMeasure:o.neq(i,a.date,"month")}}}])}(U.Component);xm.range=function(e,t){var r=t.localizer,n=r.firstVisibleDay(e,r),a=r.lastVisibleDay(e,r);return{start:n,end:a}};xm.navigate=function(e,t,r){var n=r.localizer;switch(t){case Tn.PREVIOUS:return n.add(e,-1,"month");case Tn.NEXT:return n.add(e,1,"month");default:return e}};xm.title=function(e,t){var r=t.localizer;return r.format(e,"monthHeaderFormat")};var iw=function(t){var r=t.min,n=t.max,a=t.step,i=t.slots,o=t.localizer;return"".concat(+o.startOf(r,"minutes"))+"".concat(+o.startOf(n,"minutes"))+"".concat(a,"-").concat(i)};function Zb(e){for(var t=e.min,r=e.max,n=e.step,a=e.timeslots,i=e.localizer,o=iw({step:n,localizer:i}),l=1+i.getTotalMin(t,r),c=i.getMinutesFromMidnight(t),u=Math.ceil((l-1)/(n*a)),d=u*a,f=new Array(u),h=new Array(d),p=0;p<u;p++){f[p]=new Array(a);for(var v=0;v<a;v++){var g=p*a+v,x=g*n;h[g]=f[p][v]=i.getSlotDate(t,c,x)}}var b=h.length*n;h.push(i.getSlotDate(t,c,b));function y(N){var _=i.diff(t,N,"minutes")+i.getDstOffset(t,N);return Math.min(_,l)}return{groups:f,update:function(_){return iw(_)!==o?Zb(_):this},dateIsInGroup:function(_,w){var S=f[w+1];return i.inRange(_,f[w][0],S?S[0]:r,"minutes")},nextSlot:function(_){var w=h[Math.min(h.findIndex(function(S){return S===_||i.eq(S,_)})+1,h.length-1)];return i.eq(w,_)&&(w=i.add(_,n,"minutes")),w},closestSlotToPosition:function(_){var w=Math.min(h.length-1,Math.max(0,Math.floor(_*d)));return h[w]},closestSlotFromPoint:function(_,w){var S=Math.abs(w.top-w.bottom);return this.closestSlotToPosition((_.y-w.top)/S)},closestSlotFromDate:function(_){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(i.lt(_,t,"minutes"))return h[0];if(i.gt(_,r,"minutes"))return h[h.length-1];var S=i.diff(t,_,"minutes");return h[(S-S%n)/n+w]},startsBeforeDay:function(_){return i.lt(_,t,"day")},startsAfterDay:function(_){return i.gt(_,r,"day")},startsBefore:function(_){return i.lt(i.merge(t,_),t,"minutes")},startsAfter:function(_){return i.gt(i.merge(r,_),r,"minutes")},getRange:function(_,w,S,P){S||(_=i.min(r,i.max(t,_))),P||(w=i.min(r,i.max(t,w)));var O=y(_),T=y(w),I=T>n*d&&!i.eq(r,w)?(O-n)/(n*d)*100:O/(n*d)*100;return{top:I,height:T/(n*d)*100-I,start:y(_),startDate:_,end:y(w),endDate:w}},getCurrentTimePosition:function(_){var w=y(_),S=w/(n*d)*100;return S}}}var aW=function(){function e(t,r){var n=r.accessors,a=r.slotMetrics;Dr(this,e);var i=a.getRange(n.start(t),n.end(t)),o=i.start,l=i.startDate,c=i.end,u=i.endDate,d=i.top,f=i.height;this.start=o,this.end=c,this.startMs=+l,this.endMs=+u,this.top=d,this.height=f,this.data=t}return $r(e,[{key:"_width",get:function(){if(this.rows){var r=this.rows.reduce(function(a,i){return Math.max(a,i.leaves.length+1)},0)+1;return 100/r}if(this.leaves){var n=100-this.container._width;return n/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var r=this._width,n=Math.min(100,this._width*1.7);if(this.rows)return n;if(this.leaves)return this.leaves.length>0?n:r;var a=this.row.leaves,i=a.indexOf(this);return i===a.length-1?r:n}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var r=this.row,n=r.leaves,a=r.xOffset,i=r._width,o=n.indexOf(this)+1;return a+o*i}}])}();function iW(e,t,r){return Math.abs(t.start-e.start)<r||t.start>e.start&&t.start<e.end}function sW(e){for(var t=gm(e,["startMs",function(l){return-l.endMs}]),r=[];t.length>0;){var n=t.shift();r.push(n);for(var a=0;a<t.length;a++){var i=t[a];if(!(n.endMs>i.startMs)){if(a>0){var o=t.splice(a,1)[0];r.push(o)}break}}}return r}function dA(e){for(var t=e.events,r=e.minimumStartDifference,n=e.slotMetrics,a=e.accessors,i=t.map(function(d){return new aW(d,{slotMetrics:n,accessors:a})}),o=sW(i),l=[],c=function(){var f=o[u],h=l.find(function(g){return g.end>f.start||Math.abs(f.start-g.start)<r});if(!h)return f.rows=[],l.push(f),1;f.container=h;for(var p=null,v=h.rows.length-1;!p&&v>=0;v--)iW(h.rows[v],f,r)&&(p=h.rows[v]);p?(p.leaves.push(f),f.row=p):(f.leaves=[],h.rows.push(f))},u=0;u<o.length;u++)c();return o.map(function(d){return{event:d.data,style:{top:d.top,height:d.height,width:d.width,xOffset:Math.max(0,d.xOffset)}}})}function fA(e,t,r){for(var n=0;n<e.friends.length;++n)if(!(r.indexOf(e.friends[n])>-1)){t=t>e.friends[n].idx?t:e.friends[n].idx,r.push(e.friends[n]);var a=fA(e.friends[n],t,r);t=t>a?t:a}return t}function oW(e){var t=e.events,r=e.minimumStartDifference,n=e.slotMetrics,a=e.accessors,i=dA({events:t,minimumStartDifference:r,slotMetrics:n,accessors:a});i.sort(function(V,F){return V=V.style,F=F.style,V.top!==F.top?V.top>F.top?1:-1:V.height!==F.height?V.top+V.height<F.top+F.height?1:-1:0});for(var o=0;o<i.length;++o)i[o].friends=[],delete i[o].style.left,delete i[o].style.left,delete i[o].idx,delete i[o].size;for(var l=0;l<i.length-1;++l)for(var c=i[l],u=c.style.top,d=c.style.top+c.style.height,f=l+1;f<i.length;++f){var h=i[f],p=h.style.top,v=h.style.top+h.style.height;(p>=u&&v<=d||v>u&&v<=d||p>=u&&p<d)&&(c.friends.push(h),h.friends.push(c))}for(var g=0;g<i.length;++g){for(var x=i[g],b=[],y=0;y<100;++y)b.push(1);for(var N=0;N<x.friends.length;++N)x.friends[N].idx!==void 0&&(b[x.friends[N].idx]=0);x.idx=b.indexOf(1)}for(var _=0;_<i.length;++_){var w=0;if(!i[_].size){var S=[],P=fA(i[_],0,S);w=100/(P+1),i[_].size=w;for(var O=0;O<S.length;++O)S[O].size=w}}for(var T=0;T<i.length;++T){var I=i[T];I.style.left=I.idx*I.size;for(var k=0,C=0;C<I.friends.length;++C){var L=I.friends[C].idx;k=k>L?k:L}k<=I.idx&&(I.size=100-I.idx*I.size);var R=I.idx===0?0:3;I.style.width="calc(".concat(I.size,"% - ").concat(R,"px)"),I.style.height="calc(".concat(I.style.height,"% - 2px)"),I.style.xOffset="calc(".concat(I.style.left,"% + ").concat(R,"px)")}return i}var sw={overlap:dA,"no-overlap":oW};function lW(e){return!!(e&&e.constructor&&e.call&&e.apply)}function cW(e){e.events,e.minimumStartDifference,e.slotMetrics,e.accessors;var t=e.dayLayoutAlgorithm,r=t;return t in sw&&(r=sw[t]),lW(r)?r.apply(this,arguments):[]}var hA=function(e){function t(){return Dr(this,t),cn(this,t,arguments)}return un(t,e),$r(t,[{key:"render",value:function(){var n=this.props,a=n.renderSlot,i=n.resource,o=n.group,l=n.getters,c=n.components,u=c===void 0?{}:c,d=u.timeSlotWrapper,f=d===void 0?ai:d,h=l?l.slotGroupProp(o):{};return U.createElement("div",Object.assign({className:"rbc-timeslot-group"},h),o.map(function(p,v){var g=l?l.slotProp(p,i):{};return U.createElement(f,{key:v,value:p,resource:i},U.createElement("div",Object.assign({},g,{className:hr("rbc-time-slot",g.className)}),a&&a(p,v)))}))}}])}($.Component);function dh(e){return typeof e=="string"?e:e+"%"}function uW(e){var t=e.style,r=e.className,n=e.event,a=e.accessors,i=e.rtl,o=e.selected,l=e.label,c=e.continuesPrior,u=e.continuesAfter,d=e.getters,f=e.onClick,h=e.onDoubleClick,p=e.isBackgroundEvent,v=e.onKeyPress,g=e.components,x=g.event,b=g.eventWrapper,y=a.title(n),N=a.tooltip(n),_=a.end(n),w=a.start(n),S=d.eventProp(n,w,_,o),P=[U.createElement("div",{key:"1",className:"rbc-event-label"},l),U.createElement("div",{key:"2",className:"rbc-event-content"},x?U.createElement(x,{event:n,title:y}):y)],O=t.height,T=t.top,I=t.width,k=t.xOffset,C=Ut(Ut({},S.style),{},no({top:dh(T),height:dh(O),width:dh(I)},i?"right":"left",dh(k)));return U.createElement(b,Object.assign({type:"time"},e),U.createElement("div",{role:"button",tabIndex:0,onClick:f,onDoubleClick:h,style:C,onKeyDown:v,title:N?(typeof l=="string"?l+": ":"")+N:void 0,className:hr(p?"rbc-background-event":"rbc-event",r,S.className,{"rbc-selected":o,"rbc-event-continues-earlier":c,"rbc-event-continues-later":u})},P))}var dW=function(t){var r=t.children,n=t.className,a=t.style,i=t.innerRef;return U.createElement("div",{className:n,style:a,ref:i},r)},fW=U.forwardRef(function(e,t){return U.createElement(dW,Object.assign({},e,{innerRef:t}))}),hW=["dayProp"],pW=["eventContainerWrapper","timeIndicatorWrapper"],pA=function(e){function t(){var r;Dr(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=cn(this,t,[].concat(a)),r.state={selecting:!1,timeIndicatorPosition:null},r.intervalTriggered=!1,r.renderEvents=function(o){var l=o.events,c=o.isBackgroundEvent,u=r.props,d=u.rtl,f=u.selected,h=u.accessors,p=u.localizer,v=u.getters,g=u.components,x=u.step,b=u.timeslots,y=u.dayLayoutAlgorithm,N=u.resizable,_=r,w=_.slotMetrics,S=p.messages,P=cW({events:l,accessors:h,slotMetrics:w,minimumStartDifference:Math.ceil(x*b/2),dayLayoutAlgorithm:y});return P.map(function(O,T){var I,k=O.event,C=O.style,L=h.end(k),R=h.start(k),V=(I=h.eventId(k))!==null&&I!==void 0?I:"evt_"+T,F="eventTimeRangeFormat",B,X=w.startsBeforeDay(R),Y=w.startsAfterDay(L);X?F="eventTimeRangeEndFormat":Y&&(F="eventTimeRangeStartFormat"),X&&Y?B=S.allDay:B=p.format({start:R,end:L},F);var Z=X||w.startsBefore(R),ae=Y||w.startsAfter(L);return U.createElement(uW,{style:C,event:k,label:B,key:V,getters:v,rtl:d,components:g,continuesPrior:Z,continuesAfter:ae,accessors:h,resource:r.props.resource,selected:bm(k,f),onClick:function(W){return r._select(Ut(Ut(Ut({},k),r.props.resource&&{sourceResource:r.props.resource}),c&&{isBackgroundEvent:!0}),W)},onDoubleClick:function(W){return r._doubleClick(k,W)},isBackgroundEvent:c,onKeyPress:function(W){return r._keyPress(k,W)},resizable:N})})},r._selectable=function(){var o=r.containerRef.current,l=r.props,c=l.longPressThreshold,u=l.localizer,d=r._selector=new sA(function(){return o},{longPressThreshold:c}),f=function(g){var x=r.props.onSelecting,b=r.state||{},y=h(g),N=y.startDate,_=y.endDate;x&&(u.eq(b.startDate,N,"minutes")&&u.eq(b.endDate,_,"minutes")||x({start:N,end:_,resourceId:r.props.resource})===!1)||(r.state.start!==y.start||r.state.end!==y.end||r.state.selecting!==y.selecting)&&r.setState(y)},h=function(g){var x=r.slotMetrics.closestSlotFromPoint(g,Oo(o));r.state.selecting||(r._initialSlot=x);var b=r._initialSlot;u.lte(b,x)?x=r.slotMetrics.nextSlot(x):u.gt(b,x)&&(b=r.slotMetrics.nextSlot(b));var y=r.slotMetrics.getRange(u.min(b,x),u.max(b,x));return Ut(Ut({},y),{},{selecting:!0,top:"".concat(y.top,"%"),height:"".concat(y.height,"%")})},p=function(g,x){if(!Zh(r.containerRef.current,g)){var b=h(g),y=b.startDate,N=b.endDate;r._selectSlot({startDate:y,endDate:N,action:x,box:g})}r.setState({selecting:!1})};d.on("selecting",f),d.on("selectStart",f),d.on("beforeSelect",function(v){if(r.props.selectable==="ignoreEvents")return!Zh(r.containerRef.current,v)}),d.on("click",function(v){return p(v,"click")}),d.on("doubleClick",function(v){return p(v,"doubleClick")}),d.on("select",function(v){r.state.selecting&&(r._selectSlot(Ut(Ut({},r.state),{},{action:"select",bounds:v})),r.setState({selecting:!1}))}),d.on("reset",function(){r.state.selecting&&r.setState({selecting:!1})})},r._teardownSelectable=function(){r._selector&&(r._selector.teardown(),r._selector=null)},r._selectSlot=function(o){for(var l=o.startDate,c=o.endDate,u=o.action,d=o.bounds,f=o.box,h=l,p=[];r.props.localizer.lte(h,c);)p.push(h),h=new Date(+h+r.props.step*60*1e3);er(r.props.onSelectSlot,{slots:p,start:l,end:c,resourceId:r.props.resource,action:u,bounds:d,box:f})},r._select=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];er(r.props.onSelectEvent,l)},r._doubleClick=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];er(r.props.onDoubleClickEvent,l)},r._keyPress=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];er(r.props.onKeyPressEvent,l)},r.slotMetrics=Zb(r.props),r.containerRef=$.createRef(),r}return un(t,e),$r(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(n,a){this.props.selectable&&!n.selectable&&this._selectable(),!this.props.selectable&&n.selectable&&this._teardownSelectable();var i=this.props,o=i.getNow,l=i.isNow,c=i.localizer,u=i.date,d=i.min,f=i.max,h=c.neq(n.getNow(),o(),"minutes");if(n.isNow!==l||h){if(this.clearTimeIndicatorInterval(),l){var p=!h&&c.eq(n.date,u,"minutes")&&a.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(p)}}else l&&(c.neq(n.min,d,"minutes")||c.neq(n.max,f,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var n=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!a&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){n.intervalTriggered=!0,n.positionTimeIndicator(),n.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var n=this.props,a=n.min,i=n.max,o=n.getNow,l=o();if(l>=a&&l<=i){var c=this.slotMetrics.getCurrentTimePosition(l);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:c})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var n=this.props,a=n.date,i=n.max,o=n.rtl,l=n.isNow,c=n.resource,u=n.accessors,d=n.localizer,f=n.getters,h=f.dayProp,p=mi(f,hW),v=n.components,g=v.eventContainerWrapper,x=v.timeIndicatorWrapper,b=mi(v,pW);this.slotMetrics=this.slotMetrics.update(this.props);var y=this.slotMetrics,N=this.state,_=N.selecting,w=N.top,S=N.height,P=N.startDate,O=N.endDate,T={start:P,end:O},I=h(i,c),k=I.className,C=I.style,L={className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}},R=b.dayColumnWrapper||fW;return U.createElement(R,{ref:this.containerRef,date:a,style:C,className:hr(k,"rbc-day-slot","rbc-time-column",l&&"rbc-now",l&&"rbc-today",_&&"rbc-slot-selecting"),slotMetrics:y,resource:c},y.groups.map(function(V,F){return U.createElement(hA,{key:F,group:V,resource:c,getters:p,components:b})}),U.createElement(g,{localizer:d,resource:c,accessors:u,getters:p,components:b,slotMetrics:y},U.createElement("div",{className:hr("rbc-events-container",o&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),_&&U.createElement("div",{className:"rbc-slot-selection",style:{top:w,height:S}},U.createElement("span",null,d.format(T,"selectRangeFormat"))),l&&this.intervalTriggered&&U.createElement(x,L,U.createElement("div",L)))}}])}(U.Component);pA.defaultProps={dragThroughEvents:!0,timeslots:2};var mA=function(t){var r=t.label;return U.createElement(U.Fragment,null,r)},mW=function(e){function t(){var r;Dr(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=cn(this,t,[].concat(a)),r.handleHeaderClick=function(o,l,c){c.preventDefault(),er(r.props.onDrillDown,[o,l])},r.renderRow=function(o){var l=r.props,c=l.events,u=l.rtl,d=l.selectable,f=l.getNow,h=l.range,p=l.getters,v=l.localizer,g=l.accessors,x=l.components,b=l.resizable,y=g.resourceId(o),N=o?c.filter(function(_){return g.resource(_)===y}):c;return U.createElement(vd,{isAllDay:!0,rtl:u,getNow:f,minRows:2,maxRows:r.props.allDayMaxRows+1,range:h,events:N,resourceId:y,className:"rbc-allday-cell",selectable:d,selected:r.props.selected,components:x,accessors:g,getters:p,localizer:v,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyPress:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:b})},r}return un(t,e),$r(t,[{key:"renderHeaderCells",value:function(n){var a=this,i=this.props,o=i.localizer,l=i.getDrilldownView,c=i.getNow,u=i.getters.dayProp,d=i.components.header,f=d===void 0?Jb:d,h=c();return n.map(function(p,v){var g=l(p),x=o.format(p,"dayFormat"),b=u(p),y=b.className,N=b.style,_=U.createElement(f,{date:p,label:x,localizer:o});return U.createElement("div",{key:v,style:N,className:hr("rbc-header",y,o.isSameDate(p,h)&&"rbc-today")},g?U.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(S){return a.handleHeaderClick(p,g,S)}},_):U.createElement("span",null,_))})}},{key:"render",value:function(){var n=this,a=this.props,i=a.width,o=a.rtl,l=a.resources,c=a.range,u=a.events,d=a.getNow,f=a.accessors,h=a.selectable,p=a.components,v=a.getters,g=a.scrollRef,x=a.localizer,b=a.isOverflowing,y=a.components,N=y.timeGutterHeader,_=y.resourceHeader,w=_===void 0?mA:_,S=a.resizable,P={};b&&(P[o?"marginLeft":"marginRight"]="".concat(Pb()-1,"px"));var O=l.groupEvents(u);return U.createElement("div",{style:P,ref:g,className:hr("rbc-time-header",b&&"rbc-overflowing")},U.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:i,minWidth:i,maxWidth:i}},N&&U.createElement(N,null)),l.map(function(T,I){var k=bo(T,2),C=k[0],L=k[1];return U.createElement("div",{className:"rbc-time-header-content",key:C||I},L&&U.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(I)},U.createElement("div",{className:"rbc-header"},U.createElement(w,{index:I,label:f.resourceTitle(L),resource:L}))),U.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(c.length<=1?" rbc-time-header-cell-single-day":"")},n.renderHeaderCells(c)),U.createElement(vd,{isAllDay:!0,rtl:o,getNow:d,minRows:2,maxRows:n.props.allDayMaxRows+1,range:c,events:O.get(C)||[],resourceId:L&&C,className:"rbc-allday-cell",selectable:h,selected:n.props.selected,components:p,accessors:f,getters:v,localizer:x,onSelect:n.props.onSelectEvent,onShowMore:n.props.onShowMore,onDoubleClick:n.props.onDoubleClickEvent,onKeyDown:n.props.onKeyPressEvent,onSelectSlot:n.props.onSelectSlot,longPressThreshold:n.props.longPressThreshold,resizable:S}))}))}}])}(U.Component),gW=function(e){function t(){var r;Dr(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=cn(this,t,[].concat(a)),r.handleHeaderClick=function(o,l,c){c.preventDefault(),er(r.props.onDrillDown,[o,l])},r}return un(t,e),$r(t,[{key:"renderHeaderCells",value:function(n){var a=this,i=this.props,o=i.localizer,l=i.getDrilldownView,c=i.getNow,u=i.getters.dayProp,d=i.components,f=d.header,h=f===void 0?Jb:f,p=d.resourceHeader,v=p===void 0?mA:p,g=i.resources,x=i.accessors,b=i.events,y=i.rtl,N=i.selectable,_=i.components,w=i.getters,S=i.resizable,P=c(),O=g.groupEvents(b);return n.map(function(T,I){var k=l(T),C=o.format(T,"dayFormat"),L=u(T),R=L.className,V=L.style,F=U.createElement(h,{date:T,label:C,localizer:o});return U.createElement("div",{key:I,className:"rbc-time-header-content rbc-resource-grouping"},U.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(n.length<=1?" rbc-time-header-cell-single-day":"")},U.createElement("div",{style:V,className:hr("rbc-header",R,o.isSameDate(T,P)&&"rbc-today")},k?U.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(X){return a.handleHeaderClick(T,k,X)}},F):U.createElement("span",null,F))),U.createElement("div",{className:"rbc-row"},g.map(function(B,X){var Y=bo(B,2),Z=Y[0],ae=Y[1];return U.createElement("div",{key:"resource_".concat(Z,"_").concat(X),className:hr("rbc-header",R,o.isSameDate(T,P)&&"rbc-today")},U.createElement(v,{index:X,label:x.resourceTitle(ae),resource:ae}))})),U.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},g.map(function(B,X){var Y=bo(B,2),Z=Y[0],ae=Y[1],D=(O.get(Z)||[]).filter(function(W){return o.isSameDate(W.start,T)||o.isSameDate(W.end,T)});return U.createElement(vd,{key:"resource_".concat(Z,"_").concat(X),isAllDay:!0,rtl:y,getNow:c,minRows:2,maxRows:a.props.allDayMaxRows+1,range:[T],events:D,resourceId:ae&&Z,className:"rbc-allday-cell",selectable:N,selected:a.props.selected,components:_,accessors:x,getters:w,localizer:o,onSelect:a.props.onSelectEvent,onShowMore:a.props.onShowMore,onDoubleClick:a.props.onDoubleClickEvent,onKeyDown:a.props.onKeyPressEvent,onSelectSlot:a.props.onSelectSlot,longPressThreshold:a.props.longPressThreshold,resizable:S})})))})}},{key:"render",value:function(){var n=this.props,a=n.width,i=n.rtl,o=n.range,l=n.scrollRef,c=n.isOverflowing,u=n.components.timeGutterHeader,d={};return c&&(d[i?"marginLeft":"marginRight"]="".concat(Pb()-1,"px")),U.createElement("div",{style:d,ref:l,className:hr("rbc-time-header",c&&"rbc-overflowing")},U.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:a,minWidth:a,maxWidth:a}},u&&U.createElement(u,null)),this.renderHeaderCells(o))}}])}(U.Component);function vW(e){var t=e.min,r=e.max,n=e.localizer;return n.getTimezoneOffset(t)!==n.getTimezoneOffset(r)?{start:n.add(t,-1,"day"),end:n.add(r,-1,"day")}:{start:t,end:r}}var yW=function(t){var r=t.min,n=t.max,a=t.timeslots,i=t.step,o=t.localizer,l=t.getNow,c=t.resource,u=t.components,d=t.getters,f=t.gutterRef,h=u.timeGutterWrapper,p=$.useMemo(function(){return vW({min:r,max:n,localizer:o})},[r==null?void 0:r.toISOString(),n==null?void 0:n.toISOString(),o]),v=p.start,g=p.end,x=$.useState(Zb({min:v,max:g,timeslots:a,step:i,localizer:o})),b=bo(x,2),y=b[0],N=b[1];$.useEffect(function(){y&&N(y.update({min:v,max:g,timeslots:a,step:i,localizer:o}))},[v==null?void 0:v.toISOString(),g==null?void 0:g.toISOString(),a,i]);var _=$.useCallback(function(w,S){if(S)return null;var P=y.dateIsInGroup(l(),S);return U.createElement("span",{className:hr("rbc-label",P&&"rbc-now")},o.format(w,"timeGutterFormat"))},[y,o,l]);return U.createElement(h,{slotMetrics:y},U.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:f},y.groups.map(function(w,S){return U.createElement(hA,{key:S,group:w,resource:c,components:u,renderSlot:_,getters:d})})))},bW=U.forwardRef(function(e,t){return U.createElement(yW,Object.assign({gutterRef:t},e))}),yv={};function xW(e,t){return{map:function(n){return e?e.map(function(a,i){return n([t.resourceId(a),a],i)}):[n([yv,null],0)]},groupEvents:function(n){var a=new Map;return e?(n.forEach(function(i){var o=t.resource(i)||yv;if(Array.isArray(o))o.forEach(function(c){var u=a.get(c)||[];u.push(i),a.set(c,u)});else{var l=a.get(o)||[];l.push(i),a.set(o,l)}}),a):(a.set(yv,n),a)}}}var zc=function(e){function t(r){var n;return Dr(this,t),n=cn(this,t,[r]),n.handleScroll=function(a){n.scrollRef.current&&(n.scrollRef.current.scrollLeft=a.target.scrollLeft)},n.handleResize=function(){G1(n.rafHandle),n.rafHandle=QS(n.checkOverflow)},n.handleKeyPressEvent=function(){n.clearSelection();for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];er(n.props.onKeyPressEvent,i)},n.handleSelectEvent=function(){n.clearSelection();for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];er(n.props.onSelectEvent,i)},n.handleDoubleClickEvent=function(){n.clearSelection();for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];er(n.props.onDoubleClickEvent,i)},n.handleShowMore=function(a,i,o,l,c){var u=n.props,d=u.popup,f=u.onDrillDown,h=u.onShowMore,p=u.getDrilldownView,v=u.doShowMoreDrillDown;if(n.clearSelection(),d){var g=ZS(o,n.containerRef.current);n.setState({overlay:{date:i,events:a,position:Ut(Ut({},g),{},{width:"200px"}),target:c}})}else v&&er(f,[i,p(i)||vn.DAY]);er(h,[a,i,l])},n.handleSelectAllDaySlot=function(a,i){var o=n.props.onSelectSlot,l=new Date(a[0]),c=new Date(a[a.length-1]);c.setDate(a[a.length-1].getDate()+1),er(o,{slots:a,start:l,end:c,action:i.action,resourceId:i.resourceId})},n.overlayDisplay=function(){n.setState({overlay:null})},n.checkOverflow=function(){if(!n._updatingOverflow){var a=n.contentRef.current;if(a!=null&&a.scrollHeight){var i=a.scrollHeight>a.clientHeight;n.state.isOverflowing!==i&&(n._updatingOverflow=!0,n.setState({isOverflowing:i},function(){n._updatingOverflow=!1}))}}},n.memoizedResources=L_(function(a,i){return xW(a,i)}),n.state={gutterWidth:void 0,isOverflowing:null},n.scrollRef=U.createRef(),n.contentRef=U.createRef(),n.containerRef=U.createRef(),n._scrollRatio=null,n.gutterRef=$.createRef(),n}return un(t,e),$r(t,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),G1(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(n,a,i,o,l,c,u,d,f,h){var p=this.props,v=p.min,g=p.max,x=(o.get(a)||[]).filter(function(y){return c.inRange(n,u.start(y),u.end(y),"day")}),b=(l.get(a)||[]).filter(function(y){return c.inRange(n,u.start(y),u.end(y),"day")});return U.createElement(pA,Object.assign({},this.props,{localizer:c,min:c.merge(n,v),max:c.merge(n,g),resource:i&&a,components:d,isNow:c.isSameDate(n,h),key:"".concat(a,"-").concat(n),date:n,events:x,backgroundEvents:b,dayLayoutAlgorithm:f}))}},{key:"renderResourcesFirst",value:function(n,a,i,o,l,c,u,d,f){var h=this;return a.map(function(p){var v=bo(p,2),g=v[0],x=v[1];return n.map(function(b){return h.renderDayColumn(b,g,x,i,o,l,c,d,f,u)})})}},{key:"renderRangeFirst",value:function(n,a,i,o,l,c,u,d,f){var h=this;return n.map(function(p){return U.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:p},a.map(function(v){var g=bo(v,2),x=g[0],b=g[1];return U.createElement("div",{style:{flex:1},key:c.resourceId(b)},h.renderDayColumn(p,x,b,i,o,l,c,d,f,u))}))})}},{key:"renderEvents",value:function(n,a,i,o){var l=this.props,c=l.accessors,u=l.localizer,d=l.resourceGroupingLayout,f=l.components,h=l.dayLayoutAlgorithm,p=this.memoizedResources(this.props.resources,c),v=p.groupEvents(a),g=p.groupEvents(i);return d?this.renderRangeFirst(n,p,v,g,u,c,o,f,h):this.renderResourcesFirst(n,p,v,g,u,c,o,f,h)}},{key:"render",value:function(){var n,a=this.props,i=a.events,o=a.backgroundEvents,l=a.range,c=a.width,u=a.rtl,d=a.selected,f=a.getNow,h=a.resources,p=a.components,v=a.accessors,g=a.getters,x=a.localizer,b=a.min,y=a.max,N=a.showMultiDayTimes,_=a.longPressThreshold,w=a.resizable,S=a.resourceGroupingLayout;c=c||this.state.gutterWidth;var P=l[0],O=l[l.length-1];this.slots=l.length;var T=[],I=[],k=[];i.forEach(function(L){if(gd(L,P,O,v,x)){var R=v.start(L),V=v.end(L);v.allDay(L)||x.startAndEndAreDateOnly(R,V)||!N&&!x.isSameDate(R,V)?T.push(L):I.push(L)}}),o.forEach(function(L){gd(L,P,O,v,x)&&k.push(L)}),T.sort(function(L,R){return j0(L,R,v,x)});var C={range:l,events:T,width:c,rtl:u,getNow:f,localizer:x,selected:d,allDayMaxRows:this.props.showAllEvents?1/0:(n=this.props.allDayMaxRows)!==null&&n!==void 0?n:1/0,resources:this.memoizedResources(h,v),selectable:this.props.selectable,accessors:v,getters:g,components:p,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:_,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:w};return U.createElement("div",{className:hr("rbc-time-view",h&&"rbc-time-view-resources"),ref:this.containerRef},h&&h.length>1&&S?U.createElement(gW,C):U.createElement(mW,C),this.props.popup&&this.renderOverlay(),U.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},U.createElement(bW,{date:P,ref:this.gutterRef,localizer:x,min:x.merge(P,b),max:x.merge(P,y),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:p,className:"rbc-time-gutter",getters:g}),this.renderEvents(l,I,k,f())))}},{key:"renderOverlay",value:function(){var n,a,i=this,o=(n=(a=this.state)===null||a===void 0?void 0:a.overlay)!==null&&n!==void 0?n:{},l=this.props,c=l.accessors,u=l.localizer,d=l.components,f=l.getters,h=l.selected,p=l.popupOffset,v=l.handleDragStart,g=function(){return i.setState({overlay:null})};return U.createElement(Xb,{overlay:o,accessors:c,localizer:u,components:d,getters:f,selected:h,popupOffset:p,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:v,show:!!o.position,overlayDisplay:this.overlayDisplay,onHide:g})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var n=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var a,i=(a=n.gutterRef)!==null&&a!==void 0&&a.current?b0(n.gutterRef.current):void 0;i&&n.state.gutterWidth!==i&&n.setState({gutterWidth:i})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var n=this.contentRef.current;n.scrollTop=n.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,a=n.min,i=n.max,o=n.scrollToTime,l=n.localizer,c=l.diff(l.merge(o,a),o,"milliseconds"),u=l.diff(a,i,"milliseconds");this._scrollRatio=c/u}}])}($.Component);zc.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var wW=["date","localizer","min","max","scrollToTime","enableAutoScroll"],wm=function(e){function t(){return Dr(this,t),cn(this,t,arguments)}return un(t,e),$r(t,[{key:"render",value:function(){var n=this.props,a=n.date,i=n.localizer,o=n.min,l=o===void 0?i.startOf(new Date,"day"):o,c=n.max,u=c===void 0?i.endOf(new Date,"day"):c,d=n.scrollToTime,f=d===void 0?i.startOf(new Date,"day"):d,h=n.enableAutoScroll,p=h===void 0?!0:h,v=mi(n,wW),g=t.range(a,{localizer:i});return U.createElement(zc,Object.assign({},v,{range:g,eventOffset:10,localizer:i,min:l,max:u,scrollToTime:f,enableAutoScroll:p}))}}])}(U.Component);wm.range=function(e,t){var r=t.localizer;return[r.startOf(e,"day")]};wm.navigate=function(e,t,r){var n=r.localizer;switch(t){case Tn.PREVIOUS:return n.add(e,-1,"day");case Tn.NEXT:return n.add(e,1,"day");default:return e}};wm.title=function(e,t){var r=t.localizer;return r.format(e,"dayHeaderFormat")};var jW=["date","localizer","min","max","scrollToTime","enableAutoScroll"],ws=function(e){function t(){return Dr(this,t),cn(this,t,arguments)}return un(t,e),$r(t,[{key:"render",value:function(){var n=this.props,a=n.date,i=n.localizer,o=n.min,l=o===void 0?i.startOf(new Date,"day"):o,c=n.max,u=c===void 0?i.endOf(new Date,"day"):c,d=n.scrollToTime,f=d===void 0?i.startOf(new Date,"day"):d,h=n.enableAutoScroll,p=h===void 0?!0:h,v=mi(n,jW),g=t.range(a,this.props);return U.createElement(zc,Object.assign({},v,{range:g,eventOffset:15,localizer:i,min:l,max:u,scrollToTime:f,enableAutoScroll:p}))}}])}(U.Component);ws.defaultProps=zc.defaultProps;ws.navigate=function(e,t,r){var n=r.localizer;switch(t){case Tn.PREVIOUS:return n.add(e,-1,"week");case Tn.NEXT:return n.add(e,1,"week");default:return e}};ws.range=function(e,t){var r=t.localizer,n=r.startOfWeek(),a=r.startOf(e,"week",n),i=r.endOf(e,"week",n);return r.range(a,i)};ws.title=function(e,t){var r=t.localizer,n=ws.range(e,{localizer:r}),a=B_(n),i=a[0],o=a.slice(1);return r.format({start:i,end:o.pop()},"dayRangeHeaderFormat")};var NW=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function Qb(e,t){return ws.range(e,t).filter(function(r){return[6,0].indexOf(r.getDay())===-1})}var df=function(e){function t(){return Dr(this,t),cn(this,t,arguments)}return un(t,e),$r(t,[{key:"render",value:function(){var n=this.props,a=n.date,i=n.localizer,o=n.min,l=o===void 0?i.startOf(new Date,"day"):o,c=n.max,u=c===void 0?i.endOf(new Date,"day"):c,d=n.scrollToTime,f=d===void 0?i.startOf(new Date,"day"):d,h=n.enableAutoScroll,p=h===void 0?!0:h,v=mi(n,NW),g=Qb(a,this.props);return U.createElement(zc,Object.assign({},v,{range:g,eventOffset:15,localizer:i,min:l,max:u,scrollToTime:f,enableAutoScroll:p}))}}])}(U.Component);df.defaultProps=zc.defaultProps;df.range=Qb;df.navigate=ws.navigate;df.title=function(e,t){var r=t.localizer,n=Qb(e,{localizer:r}),a=B_(n),i=a[0],o=a.slice(1);return r.format({start:i,end:o.pop()},"dayRangeHeaderFormat")};var jm=30;function Nm(e){var t=e.accessors,r=e.components,n=e.date,a=e.events,i=e.getters,o=e.length,l=o===void 0?jm:o,c=e.localizer,u=e.onDoubleClickEvent,d=e.onSelectEvent,f=e.selected,h=$.useRef(null),p=$.useRef(null),v=$.useRef(null),g=$.useRef(null),x=$.useRef(null);$.useEffect(function(){N()});var b=function(O,T,I){var k=r.event,C=r.date;return T=T.filter(function(L){return gd(L,c.startOf(O,"day"),c.endOf(O,"day"),t,c)}),T.map(function(L,R){var V=t.title(L),F=t.end(L),B=t.start(L),X=i.eventProp(L,B,F,bm(L,f)),Y=R===0&&c.format(O,"agendaDateFormat"),Z=R===0?U.createElement("td",{rowSpan:T.length,className:"rbc-agenda-date-cell"},C?U.createElement(C,{day:O,label:Y}):Y):!1;return U.createElement("tr",{key:I+"_"+R,className:X.className,style:X.style},Z,U.createElement("td",{className:"rbc-agenda-time-cell"},y(O,L)),U.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(D){return d&&d(L,D)},onDoubleClick:function(D){return u&&u(L,D)}},k?U.createElement(k,{event:L,title:V}):V))},[])},y=function(O,T){var I="",k=r.time,C=c.messages.allDay,L=t.end(T),R=t.start(T);return t.allDay(T)||(c.eq(R,L)?C=c.format(R,"agendaTimeFormat"):c.isSameDate(R,L)?C=c.format({start:R,end:L},"agendaTimeRangeFormat"):c.isSameDate(O,R)?C=c.format(R,"agendaTimeFormat"):c.isSameDate(O,L)&&(C=c.format(L,"agendaTimeFormat"))),c.gt(O,R,"day")&&(I="rbc-continues-prior"),c.lt(O,L,"day")&&(I+=" rbc-continues-after"),U.createElement("span",{className:I.trim()},k?U.createElement(k,{event:T,day:O,label:C}):C)},N=function(){if(x.current){var O=h.current,T=x.current.firstChild;if(T){var I=g.current.scrollHeight>g.current.clientHeight,k=[],C=k;k=[b0(T.children[0]),b0(T.children[1])],(C[0]!==k[0]||C[1]!==k[1])&&(p.current.style.width=k[0]+"px",v.current.style.width=k[1]+"px"),I?(FT(O,"rbc-header-overflowing"),O.style.marginRight=Pb()+"px"):BT(O,"rbc-header-overflowing")}}},_=c.messages,w=c.add(n,l,"day"),S=c.range(n,w,"day");return a=a.filter(function(P){return gd(P,c.startOf(n,"day"),c.endOf(w,"day"),t,c)}),a.sort(function(P,O){return+t.start(P)-+t.start(O)}),U.createElement("div",{className:"rbc-agenda-view"},a.length!==0?U.createElement(U.Fragment,null,U.createElement("table",{ref:h,className:"rbc-agenda-table"},U.createElement("thead",null,U.createElement("tr",null,U.createElement("th",{className:"rbc-header",ref:p},_.date),U.createElement("th",{className:"rbc-header",ref:v},_.time),U.createElement("th",{className:"rbc-header"},_.event)))),U.createElement("div",{className:"rbc-agenda-content",ref:g},U.createElement("table",{className:"rbc-agenda-table"},U.createElement("tbody",{ref:x},S.map(function(P,O){return b(P,a,O)}))))):U.createElement("span",{className:"rbc-agenda-empty"},_.noEventsInRange))}Nm.range=function(e,t){var r=t.length,n=r===void 0?jm:r,a=t.localizer,i=a.add(e,n,"day");return{start:e,end:i}};Nm.navigate=function(e,t,r){var n=r.length,a=n===void 0?jm:n,i=r.localizer;switch(t){case Tn.PREVIOUS:return i.add(e,-a,"day");case Tn.NEXT:return i.add(e,a,"day");default:return e}};Nm.title=function(e,t){var r=t.length,n=r===void 0?jm:r,a=t.localizer,i=a.add(e,n,"day");return a.format({start:e,end:i},"agendaHeaderFormat")};var Dh=no(no(no(no(no({},vn.MONTH,xm),vn.WEEK,ws),vn.WORK_WEEK,df),vn.DAY,wm),vn.AGENDA,Nm),SW=["action","date","today"];function _W(e,t){var r=t.action,n=t.date,a=t.today,i=mi(t,SW);switch(e=typeof e=="string"?Dh[e]:e,r){case Tn.TODAY:n=a||new Date;break;case Tn.DATE:break;default:nd(e&&typeof e.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),n=e.navigate(n,r,i)}return n}function AW(e,t){var r=null;return typeof t=="function"?r=t(e):typeof t=="string"&&jt(e)==="object"&&e!=null&&t in e&&(r=e[t]),r}var Ci=function(t){return function(r){return AW(r,t)}},OW=["view","date","getNow","onNavigate"],PW=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function gA(e){if(Array.isArray(e))return e;for(var t=[],r=0,n=Object.entries(e);r<n.length;r++){var a=bo(n[r],2),i=a[0],o=a[1];o&&t.push(i)}return t}function EW(e,t){var r=t.views,n=gA(r);return n.indexOf(e)!==-1}var vA=function(e){function t(){var r;Dr(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=cn(this,t,[].concat(a)),r.getViews=function(){var o=r.props.views;return Array.isArray(o)?iU(o,function(l,c){return l[c]=Dh[c]},{}):jt(o)==="object"?q_(o,function(l,c){return l===!0?Dh[c]:l}):Dh},r.getView=function(){var o=r.getViews();return o[r.props.view]},r.getDrilldownView=function(o){var l=r.props,c=l.view,u=l.drilldownView,d=l.getDrilldownView;return d?d(o,c,Object.keys(r.getViews())):u},r.handleRangeChange=function(o,l,c){var u=r.props,d=u.onRangeChange,f=u.localizer;d&&l.range&&d(l.range(o,{localizer:f}),c)},r.handleNavigate=function(o,l){var c=r.props,u=c.view,d=c.date,f=c.getNow,h=c.onNavigate,p=mi(c,OW),v=r.getView(),g=f();d=_W(v,Ut(Ut({},p),{},{action:o,date:l||d||g,today:g})),h(d,u,o),r.handleRangeChange(d,v)},r.handleViewChange=function(o){o!==r.props.view&&EW(o,r.props)&&r.props.onView(o);var l=r.getViews();r.handleRangeChange(r.props.date||r.props.getNow(),l[o],o)},r.handleSelectEvent=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];er(r.props.onSelectEvent,l)},r.handleDoubleClickEvent=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];er(r.props.onDoubleClickEvent,l)},r.handleKeyPressEvent=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];er(r.props.onKeyPressEvent,l)},r.handleSelectSlot=function(o){er(r.props.onSelectSlot,o)},r.handleDrillDown=function(o,l){var c=r.props.onDrillDown;if(c){c(o,l,r.drilldownView);return}l&&r.handleViewChange(l),r.handleNavigate(Tn.DATE,o)},r.state={context:t.getContext(r.props)},r}return un(t,e),$r(t,[{key:"render",value:function(){var n=this.props,a=n.view,i=n.toolbar,o=n.events,l=n.backgroundEvents,c=n.resourceGroupingLayout,u=n.style,d=n.className,f=n.elementProps,h=n.date,p=n.getNow,v=n.length,g=n.showMultiDayTimes,x=n.onShowMore,b=n.doShowMoreDrillDown;n.components,n.formats,n.messages,n.culture;var y=mi(n,PW);h=h||p();var N=this.getView(),_=this.state.context,w=_.accessors,S=_.components,P=_.getters,O=_.localizer,T=_.viewNames,I=S.toolbar||TU,k=N.title(h,{localizer:O,length:v});return U.createElement("div",Object.assign({},f,{className:hr(d,"rbc-calendar",y.rtl&&"rbc-rtl"),style:u}),i&&U.createElement(I,{date:h,view:a,views:T,label:k,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:O}),U.createElement(N,Object.assign({},y,{events:o,backgroundEvents:l,date:h,getNow:p,length:v,localizer:O,getters:P,components:S,accessors:w,showMultiDayTimes:g,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:x,doShowMoreDrillDown:b,resourceGroupingLayout:c})))}}],[{key:"getDerivedStateFromProps",value:function(n){return{context:t.getContext(n)}}},{key:"getContext",value:function(n){var a=n.startAccessor,i=n.endAccessor,o=n.allDayAccessor,l=n.tooltipAccessor,c=n.titleAccessor,u=n.resourceAccessor,d=n.resourceIdAccessor,f=n.resourceTitleAccessor,h=n.eventIdAccessor,p=n.eventPropGetter,v=n.backgroundEventPropGetter,g=n.slotPropGetter,x=n.slotGroupPropGetter,b=n.dayPropGetter,y=n.view,N=n.views,_=n.localizer,w=n.culture,S=n.messages,P=S===void 0?{}:S,O=n.components,T=O===void 0?{}:O,I=n.formats,k=I===void 0?{}:I,C=gA(N),L=MU(P);return{viewNames:C,localizer:CU(_,w,k,L),getters:{eventProp:function(){return p&&p.apply(void 0,arguments)||{}},backgroundEventProp:function(){return v&&v.apply(void 0,arguments)||{}},slotProp:function(){return g&&g.apply(void 0,arguments)||{}},slotGroupProp:function(){return x&&x.apply(void 0,arguments)||{}},dayProp:function(){return b&&b.apply(void 0,arguments)||{}}},components:QF(T[y]||{},Gq(T,C),{eventWrapper:ai,backgroundEventWrapper:ai,eventContainerWrapper:ai,dateCellWrapper:ai,weekWrapper:ai,timeSlotWrapper:ai,timeGutterWrapper:ai,timeIndicatorWrapper:ai}),accessors:{start:Ci(a),end:Ci(i),allDay:Ci(o),tooltip:Ci(l),title:Ci(c),resource:Ci(u),resourceId:Ci(d),resourceTitle:Ci(f),eventId:Ci(h)}}}}])}(U.Component);vA.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:vn.MONTH,views:[vn.MONTH,vn.WEEK,vn.DAY,vn.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:vn.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var yA=DS(vA,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),kW=function(t,r,n){var a=t.start,i=t.end;return"".concat(n.format(a,"P",r)," â€“ ").concat(n.format(i,"P",r))},bv=function(t,r,n){var a=t.start,i=t.end;return"".concat(n.format(a,"p",r)," â€“ ").concat(n.format(i,"p",r))},CW=function(t,r,n){var a=t.start;return"".concat(n.format(a,"h:mma",r)," â€“ ")},TW=function(t,r,n){var a=t.end;return" â€“ ".concat(n.format(a,"h:mma",r))},LW=function(t,r,n){var a=t.start,i=t.end;return"".concat(n.format(a,"MMMM dd",r)," â€“ ").concat(n.format(i,Ac(a,i,"month")?"dd":"MMMM dd",r))},MW={dateFormat:"dd",dayFormat:"dd eee",weekdayFormat:"ccc",selectRangeFormat:bv,eventTimeRangeFormat:bv,eventTimeRangeStartFormat:CW,eventTimeRangeEndFormat:TW,timeGutterFormat:"p",monthHeaderFormat:"MMMM yyyy",dayHeaderFormat:"cccc MMM dd",dayRangeHeaderFormat:LW,agendaHeaderFormat:kW,agendaDateFormat:"ccc MMM dd",agendaTimeFormat:"p",agendaTimeRangeFormat:bv},bA=function(t){var r=t.startOfWeek,n=t.getDay,a=t.format,i=t.locales;return new kU({formats:MW,firstOfWeek:function(l){return n(r(new Date,{locale:i[l]}))},format:function(l,c,u){return a(new Date(l),c,{locale:i[u]})}})};const DW={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},$W=(e,t,r)=>{let n;const a=DW[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function xv(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const IW={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},RW={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},FW={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},BW={date:xv({formats:IW,defaultWidth:"full"}),time:xv({formats:RW,defaultWidth:"full"}),dateTime:xv({formats:FW,defaultWidth:"full"})},zW={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},qW=(e,t,r,n)=>zW[e];function Pu(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const UW={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},WW={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},HW={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},GW={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},VW={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},YW={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},KW=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},XW={ordinalNumber:KW,era:Pu({values:UW,defaultWidth:"wide"}),quarter:Pu({values:WW,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Pu({values:HW,defaultWidth:"wide"}),day:Pu({values:GW,defaultWidth:"wide"}),dayPeriod:Pu({values:VW,defaultWidth:"wide",formattingValues:YW,defaultFormattingWidth:"wide"})};function Eu(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?ZW(l,f=>f.test(o)):JW(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function JW(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function ZW(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function QW(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const eH=/^(\d+)(th|st|nd|rd)?/i,tH=/\d+/i,rH={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},nH={any:[/^b/i,/^(a|c)/i]},aH={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},iH={any:[/1/i,/2/i,/3/i,/4/i]},sH={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},oH={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},lH={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},cH={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},uH={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},dH={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},fH={ordinalNumber:QW({matchPattern:eH,parsePattern:tH,valueCallback:e=>parseInt(e,10)}),era:Eu({matchPatterns:rH,defaultMatchWidth:"wide",parsePatterns:nH,defaultParseWidth:"any"}),quarter:Eu({matchPatterns:aH,defaultMatchWidth:"wide",parsePatterns:iH,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Eu({matchPatterns:sH,defaultMatchWidth:"wide",parsePatterns:oH,defaultParseWidth:"any"}),day:Eu({matchPatterns:lH,defaultMatchWidth:"wide",parsePatterns:cH,defaultParseWidth:"any"}),dayPeriod:Eu({matchPatterns:uH,defaultMatchWidth:"any",parsePatterns:dH,defaultParseWidth:"any"})},ex={code:"en-US",formatDistance:$W,formatLong:BW,formatRelative:qW,localize:XW,match:fH,options:{weekStartsOn:0,firstWeekContainsDate:1}};let hH={};function Sm(){return hH}const xA=6048e5,pH=864e5,ow=Symbol.for("constructDateFrom");function js(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&ow in e?e[ow](t):e instanceof Date?new e.constructor(t):new Date(t)}function ha(e,t){return js(t||e,e)}function lw(e){const t=ha(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function mH(e,...t){const r=js.bind(null,t.find(n=>typeof n=="object"));return t.map(r)}function cw(e,t){const r=ha(e,t==null?void 0:t.in);return r.setHours(0,0,0,0),r}function gH(e,t,r){const[n,a]=mH(r==null?void 0:r.in,e,t),i=cw(n),o=cw(a),l=+i-lw(i),c=+o-lw(o);return Math.round((l-c)/pH)}function vH(e,t){const r=ha(e,t==null?void 0:t.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function yH(e,t){const r=ha(e,t==null?void 0:t.in);return gH(r,vH(r))+1}function Po(e,t){var l,c,u,d;const r=Sm(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=ha(e,t==null?void 0:t.in),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Qh(e,t){return Po(e,{...t,weekStartsOn:1})}function wA(e,t){const r=ha(e,t==null?void 0:t.in),n=r.getFullYear(),a=js(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const i=Qh(a),o=js(r,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const l=Qh(o);return r.getTime()>=i.getTime()?n+1:r.getTime()>=l.getTime()?n:n-1}function bH(e,t){const r=wA(e,t),n=js(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Qh(n)}function xH(e,t){const r=ha(e,t==null?void 0:t.in),n=+Qh(r)-+bH(r);return Math.round(n/xA)+1}function jA(e,t){var d,f,h,p;const r=ha(e,t==null?void 0:t.in),n=r.getFullYear(),a=Sm(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(h=a.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=js((t==null?void 0:t.in)||e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=Po(o,t),c=js((t==null?void 0:t.in)||e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=Po(c,t);return+r>=+l?n+1:+r>=+u?n:n-1}function wH(e,t){var l,c,u,d;const r=Sm(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=jA(e,t),i=js((t==null?void 0:t.in)||e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),Po(i,t)}function jH(e,t){const r=ha(e,t==null?void 0:t.in),n=+Po(r,t)-+wH(r,t);return Math.round(n/xA)+1}function $t(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const ls={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return $t(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):$t(r+1,2)},d(e,t){return $t(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return $t(e.getHours()%12||12,t.length)},H(e,t){return $t(e.getHours(),t.length)},m(e,t){return $t(e.getMinutes(),t.length)},s(e,t){return $t(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return $t(a,t.length)}},vl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},uw={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return ls.y(e,t)},Y:function(e,t,r,n){const a=jA(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return $t(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):$t(i,t.length)},R:function(e,t){const r=wA(e);return $t(r,t.length)},u:function(e,t){const r=e.getFullYear();return $t(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return $t(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return $t(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return ls.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return $t(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=jH(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):$t(a,t.length)},I:function(e,t,r){const n=xH(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):$t(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):ls.d(e,t)},D:function(e,t,r){const n=yH(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):$t(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return $t(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return $t(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return $t(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=vl.noon:n===0?a=vl.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=vl.evening:n>=12?a=vl.afternoon:n>=4?a=vl.morning:a=vl.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return ls.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):ls.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):$t(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):$t(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):ls.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):ls.s(e,t)},S:function(e,t){return ls.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return fw(n);case"XXXX":case"XX":return Qs(n);case"XXXXX":case"XXX":default:return Qs(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return fw(n);case"xxxx":case"xx":return Qs(n);case"xxxxx":case"xxx":default:return Qs(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+dw(n,":");case"OOOO":default:return"GMT"+Qs(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+dw(n,":");case"zzzz":default:return"GMT"+Qs(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return $t(n,t.length)},T:function(e,t,r){return $t(+e,t.length)}};function dw(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+$t(i,2)}function fw(e,t){return e%60===0?(e>0?"-":"+")+$t(Math.abs(e)/60,2):Qs(e,t)}function Qs(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=$t(Math.trunc(n/60),2),i=$t(n%60,2);return r+a+t+i}const hw=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},NA=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},NH=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return hw(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",hw(n,t)).replace("{{time}}",NA(a,t))},SH={p:NA,P:NH},_H=/^D+$/,AH=/^Y+$/,OH=["D","DD","YY","YYYY"];function PH(e){return _H.test(e)}function EH(e){return AH.test(e)}function kH(e,t,r){const n=CH(e,t,r);if(console.warn(n),OH.includes(e))throw new RangeError(n)}function CH(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}function TH(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function LH(e){return!(!TH(e)&&typeof e!="number"||isNaN(+ha(e)))}const MH=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,DH=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,$H=/^'([^]*?)'?$/,IH=/''/g,RH=/[a-zA-Z]/;function _m(e,t,r){var d,f,h,p,v,g,x,b;const n=Sm(),a=(r==null?void 0:r.locale)??n.locale??ex,i=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((g=(v=r==null?void 0:r.locale)==null?void 0:v.options)==null?void 0:g.weekStartsOn)??n.weekStartsOn??((b=(x=n.locale)==null?void 0:x.options)==null?void 0:b.weekStartsOn)??0,l=ha(e,r==null?void 0:r.in);if(!LH(l))throw new RangeError("Invalid time value");let c=t.match(DH).map(y=>{const N=y[0];if(N==="p"||N==="P"){const _=SH[N];return _(y,a.formatLong)}return y}).join("").match(MH).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const N=y[0];if(N==="'")return{isToken:!1,value:FH(y)};if(uw[N])return{isToken:!0,value:y};if(N.match(RH))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");return{isToken:!1,value:y}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(y=>{if(!y.isToken)return y.value;const N=y.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&EH(N)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&PH(N))&&kH(N,t,String(e));const _=uw[N[0]];return _(l,N,a.localize,u)}).join("")}function FH(e){const t=e.match($H);return t?t[1].replace(IH,"'"):e}function SA(e,t){return ha(e,t==null?void 0:t.in).getDay()}const BH={"en-US":ex},zH=bA({format:_m,startOfWeek:Po,getDay:SA,locales:BH}),pw="bg-white bg-opacity-80 rounded-2xl shadow-lg border border-purple-100",mw=["Leverage student leadership: Assign older students as event ambassadors to boost peer engagement and reduce adult volunteer burnout.","Use QR codes at events for instant feedback or sign-upsâ€”capture data while excitement is high.","Partner with local media or school journalism clubs to document and promote your event, increasing community reach.",`Schedule a "debrief" meeting after each event to document what worked, what didn't, and ideas for next yearâ€”build institutional memory.`,"Offer tiered volunteer roles (short shifts, behind-the-scenes, remote tasks) to include parents with limited availability.",'Create a "Volunteer Wall of Fame" at school or online to recognize and celebrate contributorsâ€”public recognition increases future engagement.',"Bundle events with other school activities (e.g., parent-teacher conferences) to maximize turnout and convenience.","Use a digital sign-up tool with automatic reminders to reduce no-shows and last-minute cancellations.","Survey families after each event to gather actionable feedback and new ideasâ€”share results at PTO meetings.","Develop a sponsorship package and approach local businesses for recurring annual support, not just one-off donations."],gw=()=>{const e=pr(),[t,r]=$.useState("grid"),[n,a]=$.useState("manual"),[i,o]=$.useState(""),[l,c]=$.useState("all"),[u,d]=$.useState([]),[f,h]=$.useState(!0),[p,v]=$.useState(null),[g,x]=$.useState([]),[b,y]=$.useState(!0),[N,_]=$.useState(null),w="pto_events_dashboard_cache_v1";$.useEffect(()=>{async function B(){var Y,Z;h(!0),v(null);const X=localStorage.getItem(w);if(X)try{const ae=JSON.parse(X);d(ae.events||[]),h(!1)}catch{}try{const{data:{user:ae},error:D}=await We.auth.getUser();if(D||!ae){v("User not authenticated"),h(!1);return}const W=((Y=ae==null?void 0:ae.user_metadata)==null?void 0:Y.org_id)||((Z=ae==null?void 0:ae.app_metadata)==null?void 0:Z.org_id);if(!W){v("Missing org_id in user metadata."),h(!1);return}const{data:Q,error:ne}=await We.from("events").select("*").eq("org_id",W).order("event_date",{ascending:!0});ne?v("Error loading events: "+ne.message):(d(Q||[]),localStorage.setItem(w,JSON.stringify({events:Q,ts:Date.now()})))}catch(ae){v("Unexpected error: "+ae.message)}finally{h(!1)}}B()},[]),$.useEffect(()=>{async function B(){y(!0),_(null);try{x(mw.sort(()=>.5-Math.random()).slice(0,3))}catch{_("Could not load Stella Insights."),x(mw.slice(0,3))}finally{y(!1)}}B()},[]);const S=()=>{e("/events/create")},P=B=>{e(`/events/detail/${B}`)},O=B=>{e(`/events/edit/${B}`)},T=B=>{window.confirm("Are you sure you want to delete this event?")&&console.log("Deleting event:",B)},I=u.map(B=>({id:B.id,title:B.title,start:new Date(B.event_date),end:new Date(B.event_date),allDay:!0})),k=new Date;[...u].filter(B=>new Date(B.event_date)>=k).sort((B,X)=>new Date(B.event_date)-new Date(X.event_date)).slice(0,3);const C=()=>{e("/events/calendar")},L=B=>{e(`/events/detail/${B.id}`)},R=B=>{const X={draft:"bg-gray-100 text-gray-800",planning:"bg-blue-100 text-blue-800",active:"bg-green-100 text-green-800",completed:"bg-purple-100 text-purple-800",cancelled:"bg-red-100 text-red-800"};return X[B]||X.draft},V=({event:B})=>s.jsx("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:B.title}),B.type==="stella-generated"&&s.jsx(Ar,{className:"w-4 h-4 text-purple-500",title:"Stella Generated"})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:B.description}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Lr,{className:"w-4 h-4"}),s.jsx("span",{children:new Date(B.event_date).toLocaleDateString()})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(la,{className:"w-4 h-4"}),s.jsxs("span",{children:[B.attendees," expected"]})]})]})]}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${R(B.status)}`,children:B.status.charAt(0).toUpperCase()+B.status.slice(1)})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[s.jsx("span",{className:"text-gray-600",children:"Progress"}),s.jsxs("span",{className:"font-medium text-gray-900",children:[B.progress,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${B.progress}%`}})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"text-sm text-gray-600",children:"Budget"}),s.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["$",B.estimated_budget||"N/A"]})]}),s.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[s.jsx("div",{className:"text-sm text-green-600",children:"Projected Profit"}),s.jsxs("div",{className:"text-lg font-semibold text-green-700",children:["$",B.profit]})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:()=>P(B.id),className:"flex-1 flex items-center justify-center px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(zl,{className:"w-4 h-4 mr-2"}),"View"]}),s.jsxs("button",{onClick:()=>O(B.id),className:"flex-1 flex items-center justify-center px-3 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[s.jsx(gn,{className:"w-4 h-4 mr-2"}),"Edit"]})]})]})}),F=({event:B})=>s.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4 flex-1",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("h3",{className:"font-medium text-gray-900",children:B.title}),B.type==="stella-generated"&&s.jsx(Ar,{className:"w-4 h-4 text-purple-500"}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${R(B.status)}`,children:B.status})]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:B.description})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-sm text-gray-500",children:"Date"}),s.jsx("div",{className:"font-medium",children:new Date(B.event_date).toLocaleDateString()})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-sm text-gray-500",children:"Attendees"}),s.jsx("div",{className:"font-medium",children:B.attendees})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-sm text-gray-500",children:"Budget"}),s.jsxs("div",{className:"font-medium",children:["$",B.estimated_budget||"N/A"]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-sm text-gray-500",children:"Progress"}),s.jsxs("div",{className:"font-medium",children:[B.progress,"%"]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>P(B.id),className:"p-2 text-blue-600 hover:bg-blue-50 rounded",children:s.jsx(zl,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>O(B.id),className:"p-2 text-gray-600 hover:bg-gray-50 rounded",children:s.jsx(gn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>T(B.id),className:"p-2 text-red-600 hover:bg-red-50 rounded",children:s.jsx(ef,{className:"w-4 h-4"})})]})]})});return s.jsxs("div",{className:"flex flex-col gap-8 p-6 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[s.jsxs("div",{className:"flex flex-col gap-4 md:w-1/2 max-w-md",children:[s.jsxs("div",{className:`${pw} p-6 min-h-[320px] flex flex-col justify-between`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("span",{className:"text-purple-600 text-xl",children:"âœ¨"}),s.jsx("span",{className:"font-bold text-lg text-purple-700",children:"Stella's Event Insights"})]}),b?s.jsx("div",{className:"text-gray-500",children:"Loading tips..."}):N?s.jsx("div",{className:"text-red-500",children:N}):s.jsx("ul",{className:"list-disc pl-5 text-purple-900 space-y-2",children:g.map((B,X)=>s.jsx("li",{children:B},X))}),s.jsx("div",{className:"mt-4 text-xs text-purple-400",children:"Tips powered by Stella AI"})]}),s.jsx("button",{onClick:S,className:"w-full py-3 rounded-xl font-semibold text-white bg-gradient-to-r from-pink-400 via-purple-400 to-teal-400 shadow hover:from-pink-500 hover:to-teal-500 transition",children:"+ Create Event"})]}),s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:`${pw} p-4`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h2",{className:"text-lg font-semibold text-purple-700",children:"Calendar"}),s.jsx("button",{onClick:C,className:"text-purple-600 hover:underline text-sm",children:"View Full Calendar"})]}),s.jsx("div",{className:"cursor-pointer",onClick:C,children:s.jsx(yA,{localizer:zH,events:I.map(B=>({...B,resource:{dotColor:"#a78bfa"}})),startAccessor:"start",endAccessor:"end",views:["month"],style:{height:300},toolbar:!1,selectable:!1,popup:!1,onSelectEvent:L,eventPropGetter:B=>({style:{backgroundColor:"transparent",color:"#a78bfa",border:"none",position:"relative"},className:"calendar-event-dot"}),components:{event:({event:B})=>{var X;return s.jsx("span",{style:{display:"inline-block",width:8,height:8,borderRadius:"50%",backgroundColor:((X=B.resource)==null?void 0:X.dotColor)||"#a78bfa",margin:2}})}}})})]})})]}),s.jsx("div",{className:t==="grid"?"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6 mt-8":"space-y-4 mt-8",children:f?s.jsx("div",{className:"text-gray-500 py-8 text-center text-base col-span-full",children:"Loading events..."}):p?s.jsx("div",{className:"text-red-500 py-8 text-center text-base col-span-full",children:p}):u.map(B=>t==="grid"?s.jsx(V,{event:B},B.id):s.jsx(F,{event:B},B.id))})]})};var ln=Uint8Array,Un=Uint16Array,tx=Int32Array,Am=new ln([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Om=new ln([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),S0=new ln([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),_A=function(e,t){for(var r=new Un(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new tx(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},AA=_A(Am,2),OA=AA.b,_0=AA.r;OA[28]=258,_0[258]=28;var PA=_A(Om,0),qH=PA.b,vw=PA.r,A0=new Un(32768);for(var tr=0;tr<32768;++tr){var cs=(tr&43690)>>1|(tr&21845)<<1;cs=(cs&52428)>>2|(cs&13107)<<2,cs=(cs&61680)>>4|(cs&3855)<<4,A0[tr]=((cs&65280)>>8|(cs&255)<<8)>>1}var fi=function(e,t,r){for(var n=e.length,a=0,i=new Un(t);a<n;++a)e[a]&&++i[e[a]-1];var o=new Un(t);for(a=1;a<t;++a)o[a]=o[a-1]+i[a-1]<<1;var l;if(r){l=new Un(1<<t);var c=15-t;for(a=0;a<n;++a)if(e[a])for(var u=a<<4|e[a],d=t-e[a],f=o[e[a]-1]++<<d,h=f|(1<<d)-1;f<=h;++f)l[A0[f]>>c]=u}else for(l=new Un(n),a=0;a<n;++a)e[a]&&(l[a]=A0[o[e[a]-1]++]>>15-e[a]);return l},Ns=new ln(288);for(var tr=0;tr<144;++tr)Ns[tr]=8;for(var tr=144;tr<256;++tr)Ns[tr]=9;for(var tr=256;tr<280;++tr)Ns[tr]=7;for(var tr=280;tr<288;++tr)Ns[tr]=8;var yd=new ln(32);for(var tr=0;tr<32;++tr)yd[tr]=5;var UH=fi(Ns,9,0),WH=fi(Ns,9,1),HH=fi(yd,5,0),GH=fi(yd,5,1),wv=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},Oa=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},jv=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},rx=function(e){return(e+7)/8|0},EA=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new ln(e.subarray(t,r))},VH=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ka=function(e,t,r){var n=new Error(t||VH[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,ka),!r)throw n;return n},YH=function(e,t,r,n){var a=e.length,i=0;if(!a||t.f&&!t.l)return r||new ln(0);var o=!r,l=o||t.i!=2,c=t.i;o&&(r=new ln(a*3));var u=function(be){var pe=r.length;if(be>pe){var Ee=new ln(Math.max(pe*2,be));Ee.set(r),r=Ee}},d=t.f||0,f=t.p||0,h=t.b||0,p=t.l,v=t.d,g=t.m,x=t.n,b=a*8;do{if(!p){d=Oa(e,f,1);var y=Oa(e,f+1,3);if(f+=3,y)if(y==1)p=WH,v=GH,g=9,x=5;else if(y==2){var S=Oa(e,f,31)+257,P=Oa(e,f+10,15)+4,O=S+Oa(e,f+5,31)+1;f+=14;for(var T=new ln(O),I=new ln(19),k=0;k<P;++k)I[S0[k]]=Oa(e,f+k*3,7);f+=P*3;for(var C=wv(I),L=(1<<C)-1,R=fi(I,C,1),k=0;k<O;){var V=R[Oa(e,f,L)];f+=V&15;var N=V>>4;if(N<16)T[k++]=N;else{var F=0,B=0;for(N==16?(B=3+Oa(e,f,3),f+=2,F=T[k-1]):N==17?(B=3+Oa(e,f,7),f+=3):N==18&&(B=11+Oa(e,f,127),f+=7);B--;)T[k++]=F}}var X=T.subarray(0,S),Y=T.subarray(S);g=wv(X),x=wv(Y),p=fi(X,g,1),v=fi(Y,x,1)}else ka(1);else{var N=rx(f)+4,_=e[N-4]|e[N-3]<<8,w=N+_;if(w>a){c&&ka(0);break}l&&u(h+_),r.set(e.subarray(N,w),h),t.b=h+=_,t.p=f=w*8,t.f=d;continue}if(f>b){c&&ka(0);break}}l&&u(h+131072);for(var Z=(1<<g)-1,ae=(1<<x)-1,D=f;;D=f){var F=p[jv(e,f)&Z],W=F>>4;if(f+=F&15,f>b){c&&ka(0);break}if(F||ka(2),W<256)r[h++]=W;else if(W==256){D=f,p=null;break}else{var Q=W-254;if(W>264){var k=W-257,ne=Am[k];Q=Oa(e,f,(1<<ne)-1)+OA[k],f+=ne}var se=v[jv(e,f)&ae],he=se>>4;se||ka(3),f+=se&15;var Y=qH[he];if(he>3){var ne=Om[he];Y+=jv(e,f)&(1<<ne)-1,f+=ne}if(f>b){c&&ka(0);break}l&&u(h+131072);var de=h+Q;if(h<Y){var ie=i-Y,xe=Math.min(Y,de);for(ie+h<0&&ka(3);h<xe;++h)r[h]=n[ie+h]}for(;h<de;++h)r[h]=r[h-Y]}}t.l=p,t.p=D,t.b=h,t.f=d,p&&(d=1,t.m=g,t.d=v,t.n=x)}while(!d);return h!=r.length&&o?EA(r,0,h):r.subarray(0,h)},Ti=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},ku=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},Nv=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,i=r.slice();if(!a)return{t:CA,l:0};if(a==1){var o=new ln(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(w,S){return w.f-S.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],u=0,d=1,f=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};d!=a-1;)l=r[r[u].f<r[f].f?u++:f++],c=r[u!=d&&r[u].f<r[f].f?u++:f++],r[d++]={s:-1,f:l.f+c.f,l,r:c};for(var h=i[0].s,n=1;n<a;++n)i[n].s>h&&(h=i[n].s);var p=new Un(h+1),v=O0(r[d-1],p,0);if(v>t){var n=0,g=0,x=v-t,b=1<<x;for(i.sort(function(S,P){return p[P.s]-p[S.s]||S.f-P.f});n<a;++n){var y=i[n].s;if(p[y]>t)g+=b-(1<<v-p[y]),p[y]=t;else break}for(g>>=x;g>0;){var N=i[n].s;p[N]<t?g-=1<<t-p[N]++-1:++n}for(;n>=0&&g;--n){var _=i[n].s;p[_]==t&&(--p[_],++g)}v=t}return{t:new ln(p),l:v}},O0=function(e,t,r){return e.s==-1?Math.max(O0(e.l,t,r+1),O0(e.r,t,r+1)):t[e.s]=r},yw=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Un(++t),n=0,a=e[0],i=1,o=function(c){r[n++]=c},l=1;l<=t;++l)if(e[l]==a&&l!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(a),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(a);i=1,a=e[l]}return{c:r.subarray(0,n),n:t}},Cu=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},kA=function(e,t,r){var n=r.length,a=rx(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<n;++i)e[a+i+4]=r[i];return(a+4+n)*8},bw=function(e,t,r,n,a,i,o,l,c,u,d){Ti(t,d++,r),++a[256];for(var f=Nv(a,15),h=f.t,p=f.l,v=Nv(i,15),g=v.t,x=v.l,b=yw(h),y=b.c,N=b.n,_=yw(g),w=_.c,S=_.n,P=new Un(19),O=0;O<y.length;++O)++P[y[O]&31];for(var O=0;O<w.length;++O)++P[w[O]&31];for(var T=Nv(P,7),I=T.t,k=T.l,C=19;C>4&&!I[S0[C-1]];--C);var L=u+5<<3,R=Cu(a,Ns)+Cu(i,yd)+o,V=Cu(a,h)+Cu(i,g)+o+14+3*C+Cu(P,I)+2*P[16]+3*P[17]+7*P[18];if(c>=0&&L<=R&&L<=V)return kA(t,d,e.subarray(c,c+u));var F,B,X,Y;if(Ti(t,d,1+(V<R)),d+=2,V<R){F=fi(h,p,0),B=h,X=fi(g,x,0),Y=g;var Z=fi(I,k,0);Ti(t,d,N-257),Ti(t,d+5,S-1),Ti(t,d+10,C-4),d+=14;for(var O=0;O<C;++O)Ti(t,d+3*O,I[S0[O]]);d+=3*C;for(var ae=[y,w],D=0;D<2;++D)for(var W=ae[D],O=0;O<W.length;++O){var Q=W[O]&31;Ti(t,d,Z[Q]),d+=I[Q],Q>15&&(Ti(t,d,W[O]>>5&127),d+=W[O]>>12)}}else F=UH,B=Ns,X=HH,Y=yd;for(var O=0;O<l;++O){var ne=n[O];if(ne>255){var Q=ne>>18&31;ku(t,d,F[Q+257]),d+=B[Q+257],Q>7&&(Ti(t,d,ne>>23&31),d+=Am[Q]);var se=ne&31;ku(t,d,X[se]),d+=Y[se],se>3&&(ku(t,d,ne>>5&8191),d+=Om[se])}else ku(t,d,F[ne]),d+=B[ne]}return ku(t,d,F[256]),d+B[256]},KH=new tx([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),CA=new ln(0),XH=function(e,t,r,n,a,i){var o=i.z||e.length,l=new ln(n+o+5*(1+Math.ceil(o/7e3))+a),c=l.subarray(n,l.length-a),u=i.l,d=(i.r||0)&7;if(t){d&&(c[0]=i.r>>3);for(var f=KH[t-1],h=f>>13,p=f&8191,v=(1<<r)-1,g=i.p||new Un(32768),x=i.h||new Un(v+1),b=Math.ceil(r/3),y=2*b,N=function(De){return(e[De]^e[De+1]<<b^e[De+2]<<y)&v},_=new tx(25e3),w=new Un(288),S=new Un(32),P=0,O=0,T=i.i||0,I=0,k=i.w||0,C=0;T+2<o;++T){var L=N(T),R=T&32767,V=x[L];if(g[R]=V,x[L]=R,k<=T){var F=o-T;if((P>7e3||I>24576)&&(F>423||!u)){d=bw(e,c,0,_,w,S,O,I,C,T-C,d),I=P=O=0,C=T;for(var B=0;B<286;++B)w[B]=0;for(var B=0;B<30;++B)S[B]=0}var X=2,Y=0,Z=p,ae=R-V&32767;if(F>2&&L==N(T-ae))for(var D=Math.min(h,F)-1,W=Math.min(32767,T),Q=Math.min(258,F);ae<=W&&--Z&&R!=V;){if(e[T+X]==e[T+X-ae]){for(var ne=0;ne<Q&&e[T+ne]==e[T+ne-ae];++ne);if(ne>X){if(X=ne,Y=ae,ne>D)break;for(var se=Math.min(ae,ne-2),he=0,B=0;B<se;++B){var de=T-ae+B&32767,ie=g[de],xe=de-ie&32767;xe>he&&(he=xe,V=de)}}}R=V,V=g[R],ae+=R-V&32767}if(Y){_[I++]=268435456|_0[X]<<18|vw[Y];var be=_0[X]&31,pe=vw[Y]&31;O+=Am[be]+Om[pe],++w[257+be],++S[pe],k=T+X,++P}else _[I++]=e[T],++w[e[T]]}}for(T=Math.max(T,k);T<o;++T)_[I++]=e[T],++w[e[T]];d=bw(e,c,u,_,w,S,O,I,C,T-C,d),u||(i.r=d&7|c[d/8|0]<<3,d-=7,i.h=x,i.p=g,i.i=T,i.w=k)}else{for(var T=i.w||0;T<o+u;T+=65535){var Ee=T+65535;Ee>=o&&(c[d/8|0]=u,Ee=o),d=kA(c,d+1,e.subarray(T,Ee))}i.i=o}return EA(l,0,n+rx(d)+a)},TA=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,i=r.length|0,o=0;o!=i;){for(var l=Math.min(o+2655,i);o<l;++o)a+=n+=r[o];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},JH=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),o=new ln(i.length+e.length);o.set(i),o.set(e,i.length),e=o,a.w=i.length}return XH(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},LA=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},ZH=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=TA();a.p(t.dictionary),LA(e,2,a.d())}},QH=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&ka(6,"invalid zlib data"),(e[1]>>5&1)==1&&ka(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function P0(e,t){t||(t={});var r=TA();r.p(e);var n=JH(e,t,t.dictionary?6:2,4);return ZH(n,t),LA(n,n.length-4,r.d()),n}function eG(e,t){return YH(e.subarray(QH(e),-4),{i:2},t,t)}var tG=typeof TextDecoder<"u"&&new TextDecoder,rG=0;try{tG.decode(CA,{stream:!0}),rG=1}catch{}var rt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Sv(){rt.console&&typeof rt.console.log=="function"&&rt.console.log.apply(rt.console,arguments)}var qt={log:Sv,warn:function(e){rt.console&&(typeof rt.console.warn=="function"?rt.console.warn.apply(rt.console,arguments):Sv.call(null,arguments))},error:function(e){rt.console&&(typeof rt.console.error=="function"?rt.console.error.apply(rt.console,arguments):Sv(e))}};function _v(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){eo(n.response,t,r)},n.onerror=function(){qt.error("could not download file")},n.send()}function xw(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function fh(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Ku,E0,eo=rt.saveAs||((typeof window>"u"?"undefined":jt(window))!=="object"||window!==rt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=rt.URL||rt.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?xw(a.href)?_v(e,t,r):fh(a,a.target="_blank"):fh(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){fh(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(xw(e))_v(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){fh(n)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:jt(i)!=="object"&&(qt.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return _v(e,t,r);var a=e.type==="application/octet-stream",i=/constructor/i.test(rt.HTMLElement)||rt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||a&&i)&&(typeof FileReader>"u"?"undefined":jt(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var d=l.result;d=o?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},l.readAsDataURL(e)}else{var c=rt.URL||rt.webkitURL,u=c.createObjectURL(e);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function MA(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,o=a.exec(e);o&&(t=i(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Av(e,t){var r=e[0],n=e[1],a=e[2],i=e[3];r=tn(r,n,a,i,t[0],7,-680876936),i=tn(i,r,n,a,t[1],12,-389564586),a=tn(a,i,r,n,t[2],17,606105819),n=tn(n,a,i,r,t[3],22,-1044525330),r=tn(r,n,a,i,t[4],7,-176418897),i=tn(i,r,n,a,t[5],12,1200080426),a=tn(a,i,r,n,t[6],17,-1473231341),n=tn(n,a,i,r,t[7],22,-45705983),r=tn(r,n,a,i,t[8],7,1770035416),i=tn(i,r,n,a,t[9],12,-1958414417),a=tn(a,i,r,n,t[10],17,-42063),n=tn(n,a,i,r,t[11],22,-1990404162),r=tn(r,n,a,i,t[12],7,1804603682),i=tn(i,r,n,a,t[13],12,-40341101),a=tn(a,i,r,n,t[14],17,-1502002290),r=rn(r,n=tn(n,a,i,r,t[15],22,1236535329),a,i,t[1],5,-165796510),i=rn(i,r,n,a,t[6],9,-1069501632),a=rn(a,i,r,n,t[11],14,643717713),n=rn(n,a,i,r,t[0],20,-373897302),r=rn(r,n,a,i,t[5],5,-701558691),i=rn(i,r,n,a,t[10],9,38016083),a=rn(a,i,r,n,t[15],14,-660478335),n=rn(n,a,i,r,t[4],20,-405537848),r=rn(r,n,a,i,t[9],5,568446438),i=rn(i,r,n,a,t[14],9,-1019803690),a=rn(a,i,r,n,t[3],14,-187363961),n=rn(n,a,i,r,t[8],20,1163531501),r=rn(r,n,a,i,t[13],5,-1444681467),i=rn(i,r,n,a,t[2],9,-51403784),a=rn(a,i,r,n,t[7],14,1735328473),r=nn(r,n=rn(n,a,i,r,t[12],20,-1926607734),a,i,t[5],4,-378558),i=nn(i,r,n,a,t[8],11,-2022574463),a=nn(a,i,r,n,t[11],16,1839030562),n=nn(n,a,i,r,t[14],23,-35309556),r=nn(r,n,a,i,t[1],4,-1530992060),i=nn(i,r,n,a,t[4],11,1272893353),a=nn(a,i,r,n,t[7],16,-155497632),n=nn(n,a,i,r,t[10],23,-1094730640),r=nn(r,n,a,i,t[13],4,681279174),i=nn(i,r,n,a,t[0],11,-358537222),a=nn(a,i,r,n,t[3],16,-722521979),n=nn(n,a,i,r,t[6],23,76029189),r=nn(r,n,a,i,t[9],4,-640364487),i=nn(i,r,n,a,t[12],11,-421815835),a=nn(a,i,r,n,t[15],16,530742520),r=an(r,n=nn(n,a,i,r,t[2],23,-995338651),a,i,t[0],6,-198630844),i=an(i,r,n,a,t[7],10,1126891415),a=an(a,i,r,n,t[14],15,-1416354905),n=an(n,a,i,r,t[5],21,-57434055),r=an(r,n,a,i,t[12],6,1700485571),i=an(i,r,n,a,t[3],10,-1894986606),a=an(a,i,r,n,t[10],15,-1051523),n=an(n,a,i,r,t[1],21,-2054922799),r=an(r,n,a,i,t[8],6,1873313359),i=an(i,r,n,a,t[15],10,-30611744),a=an(a,i,r,n,t[6],15,-1560198380),n=an(n,a,i,r,t[13],21,1309151649),r=an(r,n,a,i,t[4],6,-145523070),i=an(i,r,n,a,t[11],10,-1120210379),a=an(a,i,r,n,t[2],15,718787259),n=an(n,a,i,r,t[9],21,-343485551),e[0]=ms(r,e[0]),e[1]=ms(n,e[1]),e[2]=ms(a,e[2]),e[3]=ms(i,e[3])}function Pm(e,t,r,n,a,i){return t=ms(ms(t,e),ms(n,i)),ms(t<<a|t>>>32-a,r)}function tn(e,t,r,n,a,i,o){return Pm(t&r|~t&n,e,t,a,i,o)}function rn(e,t,r,n,a,i,o){return Pm(t&n|r&~n,e,t,a,i,o)}function nn(e,t,r,n,a,i,o){return Pm(t^r^n,e,t,a,i,o)}function an(e,t,r,n,a,i,o){return Pm(r^(t|~n),e,t,a,i,o)}function DA(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Av(n,nG(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(Av(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,Av(n,a),n}function nG(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}Ku=rt.atob.bind(rt),E0=rt.btoa.bind(rt);var ww="0123456789abcdef".split("");function aG(e){for(var t="",r=0;r<4;r++)t+=ww[e>>8*r+4&15]+ww[e>>8*r&15];return t}function iG(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function k0(e){return DA(e).map(iG).join("")}var sG=function(e){for(var t=0;t<e.length;t++)e[t]=aG(e[t]);return e.join("")}(DA("hello"))!="5d41402abc4b2a76b9719d911017c592";function ms(e,t){if(sG){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function C0(e,t){var r,n,a,i;if(e!==r){for(var o=(a=e,i=1+(256/e.length>>0),new Array(i+1).join(a)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var d=l[c];u=(u+d+o.charCodeAt(c))%256,l[c]=l[u],l[u]=d}r=e,n=l}else l=n;var f=t.length,h=0,p=0,v="";for(c=0;c<f;c++)p=(p+(d=l[h=(h+1)%256]))%256,l[h]=l[p],l[p]=d,o=l[(l[h]+l[p])%256],v+=String.fromCharCode(t.charCodeAt(c)^o);return v}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var jw={print:4,modify:8,copy:16,"annot-forms":32};function Sl(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(l){if(jw.perm!==void 0)throw new Error("Invalid permission: "+l);a+=jw[l]}),this.padding="(Â¿N^NuÂŠAd\0NVÃ¿Ãº\b..\0Â¶Ãh>Â€/\fÂ©Ã¾dSiz";var i=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^a)),this.encryptionKey=k0(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=C0(this.encryptionKey,this.padding)}function _l(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?t+="#"+("0"+a.toString(16)).slice(-2):t+=e[n]}return t}function Nw(e){if(jt(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[r]){var o=t[r][i];try{o[0].apply(e,n)}catch(l){rt.console&&qt.error("jsPDF PubSub Error",l.message,l)}o[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function ep(e){if(!(this instanceof ep))return new ep(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function $A(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function ao(e,t,r,n,a){if(!(this instanceof ao))return new ao(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,$A.call(this,n,a)}function Ol(e,t,r,n,a){if(!(this instanceof Ol))return new Ol(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,$A.call(this,n,a)}function tt(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],o=[],l=1,c=16,u="S",d=null;jt(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,i=e.compress||e.compressPdf||i,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),u=e.defaultPathOperation||"S"),o=e.filters||(i===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,h={},p={internal:{},__private__:{}};p.__private__.PubSub=Nw;var v="1.3",g=p.__private__.getPdfVersion=function(){return v};p.__private__.setPdfVersion=function(A){v=A};var x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return x};var b=p.__private__.getPageFormat=function(A){return x[A]};a=a||"a4";var y={COMPAT:"compat",ADVANCED:"advanced"},N=y.COMPAT;function _(){this.saveGraphicsState(),re(new Qe(Fe,0,0,-Fe,0,Xi()*Fe).toString()+" cm"),this.setFontSize(this.getFontSize()/Fe),u="n",N=y.ADVANCED}function w(){this.restoreGraphicsState(),u="S",N=y.COMPAT}var S=p.__private__.combineFontStyleAndFontWeight=function(A,q){if(A=="bold"&&q=="normal"||A=="bold"&&q==400||A=="normal"&&q=="italic"||A=="bold"&&q=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return q&&(A=q==400||q==="normal"?A==="italic"?"italic":"normal":q!=700&&q!=="bold"||A!=="normal"?(q==700?"bold":q)+""+A:"bold"),A};p.advancedAPI=function(A){var q=N===y.COMPAT;return q&&_.call(this),typeof A!="function"||(A(this),q&&w.call(this)),this},p.compatAPI=function(A){var q=N===y.ADVANCED;return q&&w.call(this),typeof A!="function"||(A(this),q&&_.call(this)),this},p.isAdvancedAPI=function(){return N===y.ADVANCED};var P,O=function(A){if(N!==y.ADVANCED)throw new Error(A+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},T=p.roundToPrecision=p.__private__.roundToPrecision=function(A,q){var te=t||q;if(isNaN(A)||isNaN(te))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return A.toFixed(te).replace(/0+$/,"")};P=p.hpf=p.__private__.hpf=typeof c=="number"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return T(A,c)}:c==="smart"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return T(A,A>-1&&A<1?16:5)}:function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return T(A,16)};var I=p.f2=p.__private__.f2=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f2");return T(A,2)},k=p.__private__.f3=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f3");return T(A,3)},C=p.scale=p.__private__.scale=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.scale");return N===y.COMPAT?A*Fe:N===y.ADVANCED?A:void 0},L=function(A){return N===y.COMPAT?Xi()-A:N===y.ADVANCED?A:void 0},R=function(A){return C(L(A))};p.__private__.setPrecision=p.setPrecision=function(A){typeof parseInt(A,10)=="number"&&(t=parseInt(A,10))};var V,F="00000000000000000000000000000000",B=p.__private__.getFileId=function(){return F},X=p.__private__.setFileId=function(A){return F=A!==void 0&&/^[a-fA-F0-9]{32}$/.test(A)?A.toUpperCase():F.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Zr=new Sl(d.userPermissions,d.userPassword,d.ownerPassword,F)),F};p.setFileId=function(A){return X(A),this},p.getFileId=function(){return B()};var Y=p.__private__.convertDateToPDFDate=function(A){var q=A.getTimezoneOffset(),te=q<0?"+":"-",oe=Math.floor(Math.abs(q/60)),me=Math.abs(q%60),je=[te,Q(oe),"'",Q(me),"'"].join("");return["D:",A.getFullYear(),Q(A.getMonth()+1),Q(A.getDate()),Q(A.getHours()),Q(A.getMinutes()),Q(A.getSeconds()),je].join("")},Z=p.__private__.convertPDFDateToDate=function(A){var q=parseInt(A.substr(2,4),10),te=parseInt(A.substr(6,2),10)-1,oe=parseInt(A.substr(8,2),10),me=parseInt(A.substr(10,2),10),je=parseInt(A.substr(12,2),10),Ce=parseInt(A.substr(14,2),10);return new Date(q,te,oe,me,je,Ce,0)},ae=p.__private__.setCreationDate=function(A){var q;if(A===void 0&&(A=new Date),A instanceof Date)q=Y(A);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(A))throw new Error("Invalid argument passed to jsPDF.setCreationDate");q=A}return V=q},D=p.__private__.getCreationDate=function(A){var q=V;return A==="jsDate"&&(q=Z(V)),q};p.setCreationDate=function(A){return ae(A),this},p.getCreationDate=function(A){return D(A)};var W,Q=p.__private__.padd2=function(A){return("0"+parseInt(A)).slice(-2)},ne=p.__private__.padd2Hex=function(A){return("00"+(A=A.toString())).substr(A.length)},se=0,he=[],de=[],ie=0,xe=[],be=[],pe=!1,Ee=de,De=function(){se=0,ie=0,de=[],he=[],xe=[],xi=wr(),ba=wr()};p.__private__.setCustomOutputDestination=function(A){pe=!0,Ee=A};var ye=function(A){pe||(Ee=A)};p.__private__.resetCustomOutputDestination=function(){pe=!1,Ee=de};var re=p.__private__.out=function(A){return A=A.toString(),ie+=A.length+1,Ee.push(A),Ee},Ye=p.__private__.write=function(A){return re(arguments.length===1?A.toString():Array.prototype.join.call(arguments," "))},Be=p.__private__.getArrayBuffer=function(A){for(var q=A.length,te=new ArrayBuffer(q),oe=new Uint8Array(te);q--;)oe[q]=A.charCodeAt(q);return te},ke=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return ke};var Te=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(A){return Te=N===y.ADVANCED?A/Fe:A,this};var $e,Me=p.__private__.getFontSize=p.getFontSize=function(){return N===y.COMPAT?Te:Te*Fe},Ve=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(A){return Ve=A,this},p.__private__.getR2L=p.getR2L=function(){return Ve};var Ze,it=p.__private__.setZoomMode=function(A){var q=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(A))$e=A;else if(isNaN(A)){if(q.indexOf(A)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+A+'" is not recognized.');$e=A}else $e=parseInt(A,10)};p.__private__.getZoomMode=function(){return $e};var mt,xt=p.__private__.setPageMode=function(A){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(A)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+A+'" is not recognized.');Ze=A};p.__private__.getPageMode=function(){return Ze};var kt=p.__private__.setLayoutMode=function(A){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(A)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+A+'" is not recognized.');mt=A};p.__private__.getLayoutMode=function(){return mt},p.__private__.setDisplayMode=p.setDisplayMode=function(A,q,te){return it(A),kt(q),xt(te),this};var st={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(A){if(Object.keys(st).indexOf(A)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return st[A]},p.__private__.getDocumentProperties=function(){return st},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(A){for(var q in st)st.hasOwnProperty(q)&&A[q]&&(st[q]=A[q]);return this},p.__private__.setDocumentProperty=function(A,q){if(Object.keys(st).indexOf(A)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return st[A]=q};var bt,Fe,Jr,Pt,ga,Bt={},rr={},Ga=[],Tt={},Ls={},ir={},va={},bi=null,sr=0,ct=[],Lt=new Nw(p),Ms=e.hotfixes||[],Gr={},Va={},Ya=[],Qe=function A(q,te,oe,me,je,Ce){if(!(this instanceof A))return new A(q,te,oe,me,je,Ce);isNaN(q)&&(q=1),isNaN(te)&&(te=0),isNaN(oe)&&(oe=0),isNaN(me)&&(me=1),isNaN(je)&&(je=0),isNaN(Ce)&&(Ce=0),this._matrix=[q,te,oe,me,je,Ce]};Object.defineProperty(Qe.prototype,"sx",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(Qe.prototype,"shy",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(Qe.prototype,"shx",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(Qe.prototype,"sy",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(Qe.prototype,"tx",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(Qe.prototype,"ty",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(Qe.prototype,"a",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(Qe.prototype,"b",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(Qe.prototype,"c",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(Qe.prototype,"d",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(Qe.prototype,"e",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(Qe.prototype,"f",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(Qe.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Qe.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Qe.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Qe.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Qe.prototype.join=function(A){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(P).join(A)},Qe.prototype.multiply=function(A){var q=A.sx*this.sx+A.shy*this.shx,te=A.sx*this.shy+A.shy*this.sy,oe=A.shx*this.sx+A.sy*this.shx,me=A.shx*this.shy+A.sy*this.sy,je=A.tx*this.sx+A.ty*this.shx+this.tx,Ce=A.tx*this.shy+A.ty*this.sy+this.ty;return new Qe(q,te,oe,me,je,Ce)},Qe.prototype.decompose=function(){var A=this.sx,q=this.shy,te=this.shx,oe=this.sy,me=this.tx,je=this.ty,Ce=Math.sqrt(A*A+q*q),ze=(A/=Ce)*te+(q/=Ce)*oe;te-=A*ze,oe-=q*ze;var Ke=Math.sqrt(te*te+oe*oe);return ze/=Ke,A*(oe/=Ke)<q*(te/=Ke)&&(A=-A,q=-q,ze=-ze,Ce=-Ce),{scale:new Qe(Ce,0,0,Ke,0,0),translate:new Qe(1,0,0,1,me,je),rotate:new Qe(A,q,-q,A,0,0),skew:new Qe(1,0,ze,1,0,0)}},Qe.prototype.toString=function(A){return this.join(" ")},Qe.prototype.inversed=function(){var A=this.sx,q=this.shy,te=this.shx,oe=this.sy,me=this.tx,je=this.ty,Ce=1/(A*oe-q*te),ze=oe*Ce,Ke=-q*Ce,ft=-te*Ce,ut=A*Ce;return new Qe(ze,Ke,ft,ut,-ze*me-ft*je,-Ke*me-ut*je)},Qe.prototype.applyToPoint=function(A){var q=A.x*this.sx+A.y*this.shx+this.tx,te=A.x*this.shy+A.y*this.sy+this.ty;return new el(q,te)},Qe.prototype.applyToRectangle=function(A){var q=this.applyToPoint(A),te=this.applyToPoint(new el(A.x+A.w,A.y+A.h));return new iu(q.x,q.y,te.x-q.x,te.y-q.y)},Qe.prototype.clone=function(){var A=this.sx,q=this.shy,te=this.shx,oe=this.sy,me=this.tx,je=this.ty;return new Qe(A,q,te,oe,me,je)},p.Matrix=Qe;var ya=p.matrixMult=function(A,q){return q.multiply(A)},Ka=new Qe(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Ka;var jn=function(A,q){if(!Ls[A]){var te=(q instanceof ao?"Sh":"P")+(Object.keys(Tt).length+1).toString(10);q.id=te,Ls[A]=te,Tt[te]=q,Lt.publish("addPattern",q)}};p.ShadingPattern=ao,p.TilingPattern=Ol,p.addShadingPattern=function(A,q){return O("addShadingPattern()"),jn(A,q),this},p.beginTilingPattern=function(A){O("beginTilingPattern()"),Df(A.boundingBox[0],A.boundingBox[1],A.boundingBox[2]-A.boundingBox[0],A.boundingBox[3]-A.boundingBox[1],A.matrix)},p.endTilingPattern=function(A,q){O("endTilingPattern()"),q.stream=be[W].join(`
`),jn(A,q),Lt.publish("endTilingPattern",q),Ya.pop().restore()};var Pr=p.__private__.newObject=function(){var A=wr();return Mn(A,!0),A},wr=p.__private__.newObjectDeferred=function(){return se++,he[se]=function(){return ie},se},Mn=function(A,q){return q=typeof q=="boolean"&&q,he[A]=ie,q&&re(A+" 0 obj"),A},zo=p.__private__.newAdditionalObject=function(){var A={objId:wr(),content:""};return xe.push(A),A},xi=wr(),ba=wr(),xa=p.__private__.decodeColorString=function(A){var q=A.split(" ");if(q.length!==2||q[1]!=="g"&&q[1]!=="G")q.length===5&&(q[4]==="k"||q[4]==="K")&&(q=[(1-q[0])*(1-q[3]),(1-q[1])*(1-q[3]),(1-q[2])*(1-q[3]),"r"]);else{var te=parseFloat(q[0]);q=[te,te,te,"r"]}for(var oe="#",me=0;me<3;me++)oe+=("0"+Math.floor(255*parseFloat(q[me])).toString(16)).slice(-2);return oe},wa=p.__private__.encodeColorString=function(A){var q;typeof A=="string"&&(A={ch1:A});var te=A.ch1,oe=A.ch2,me=A.ch3,je=A.ch4,Ce=A.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof te=="string"&&te.charAt(0)!=="#"){var ze=new MA(te);if(ze.ok)te=ze.toHex();else if(!/^\d*\.?\d*$/.test(te))throw new Error('Invalid color "'+te+'" passed to jsPDF.encodeColorString.')}if(typeof te=="string"&&/^#[0-9A-Fa-f]{3}$/.test(te)&&(te="#"+te[1]+te[1]+te[2]+te[2]+te[3]+te[3]),typeof te=="string"&&/^#[0-9A-Fa-f]{6}$/.test(te)){var Ke=parseInt(te.substr(1),16);te=Ke>>16&255,oe=Ke>>8&255,me=255&Ke}if(oe===void 0||je===void 0&&te===oe&&oe===me)if(typeof te=="string")q=te+" "+Ce[0];else switch(A.precision){case 2:q=I(te/255)+" "+Ce[0];break;case 3:default:q=k(te/255)+" "+Ce[0]}else if(je===void 0||jt(je)==="object"){if(je&&!isNaN(je.a)&&je.a===0)return q=["1.","1.","1.",Ce[1]].join(" ");if(typeof te=="string")q=[te,oe,me,Ce[1]].join(" ");else switch(A.precision){case 2:q=[I(te/255),I(oe/255),I(me/255),Ce[1]].join(" ");break;default:case 3:q=[k(te/255),k(oe/255),k(me/255),Ce[1]].join(" ")}}else if(typeof te=="string")q=[te,oe,me,je,Ce[2]].join(" ");else switch(A.precision){case 2:q=[I(te),I(oe),I(me),I(je),Ce[2]].join(" ");break;case 3:default:q=[k(te),k(oe),k(me),k(je),Ce[2]].join(" ")}return q},Xa=p.__private__.getFilters=function(){return o},Gn=p.__private__.putStream=function(A){var q=(A=A||{}).data||"",te=A.filters||Xa(),oe=A.alreadyAppliedFilters||[],me=A.addLength1||!1,je=q.length,Ce=A.objectId,ze=function(Qr){return Qr};if(d!==null&&Ce===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(ze=Zr.encryptor(Ce,0));var Ke={};te===!0&&(te=["FlateEncode"]);var ft=A.additionalKeyValues||[],ut=(Ke=tt.API.processDataByFilters!==void 0?tt.API.processDataByFilters(q,te):{data:q,reverseChain:[]}).reverseChain+(Array.isArray(oe)?oe.join(" "):oe.toString());if(Ke.data.length!==0&&(ft.push({key:"Length",value:Ke.data.length}),me===!0&&ft.push({key:"Length1",value:je})),ut.length!=0)if(ut.split("/").length-1==1)ft.push({key:"Filter",value:ut});else{ft.push({key:"Filter",value:"["+ut+"]"});for(var St=0;St<ft.length;St+=1)if(ft[St].key==="DecodeParms"){for(var ar=[],or=0;or<Ke.reverseChain.split("/").length-1;or+=1)ar.push("null");ar.push(ft[St].value),ft[St].value="["+ar.join(" ")+"]"}}re("<<");for(var jr=0;jr<ft.length;jr++)re("/"+ft[jr].key+" "+ft[jr].value);re(">>"),Ke.data.length!==0&&(re("stream"),re(ze(Ke.data)),re("endstream"))},Ja=p.__private__.putPage=function(A){var q=A.number,te=A.data,oe=A.objId,me=A.contentsObjId;Mn(oe,!0),re("<</Type /Page"),re("/Parent "+A.rootDictionaryObjId+" 0 R"),re("/Resources "+A.resourceDictionaryObjId+" 0 R"),re("/MediaBox ["+parseFloat(P(A.mediaBox.bottomLeftX))+" "+parseFloat(P(A.mediaBox.bottomLeftY))+" "+P(A.mediaBox.topRightX)+" "+P(A.mediaBox.topRightY)+"]"),A.cropBox!==null&&re("/CropBox ["+P(A.cropBox.bottomLeftX)+" "+P(A.cropBox.bottomLeftY)+" "+P(A.cropBox.topRightX)+" "+P(A.cropBox.topRightY)+"]"),A.bleedBox!==null&&re("/BleedBox ["+P(A.bleedBox.bottomLeftX)+" "+P(A.bleedBox.bottomLeftY)+" "+P(A.bleedBox.topRightX)+" "+P(A.bleedBox.topRightY)+"]"),A.trimBox!==null&&re("/TrimBox ["+P(A.trimBox.bottomLeftX)+" "+P(A.trimBox.bottomLeftY)+" "+P(A.trimBox.topRightX)+" "+P(A.trimBox.topRightY)+"]"),A.artBox!==null&&re("/ArtBox ["+P(A.artBox.bottomLeftX)+" "+P(A.artBox.bottomLeftY)+" "+P(A.artBox.topRightX)+" "+P(A.artBox.topRightY)+"]"),typeof A.userUnit=="number"&&A.userUnit!==1&&re("/UserUnit "+A.userUnit),Lt.publish("putPage",{objId:oe,pageContext:ct[q],pageNumber:q,page:te}),re("/Contents "+me+" 0 R"),re(">>"),re("endobj");var je=te.join(`
`);return N===y.ADVANCED&&(je+=`
Q`),Mn(me,!0),Gn({data:je,filters:Xa(),objectId:me}),re("endobj"),oe},Ds=p.__private__.putPages=function(){var A,q,te=[];for(A=1;A<=sr;A++)ct[A].objId=wr(),ct[A].contentsObjId=wr();for(A=1;A<=sr;A++)te.push(Ja({number:A,data:be[A],objId:ct[A].objId,contentsObjId:ct[A].contentsObjId,mediaBox:ct[A].mediaBox,cropBox:ct[A].cropBox,bleedBox:ct[A].bleedBox,trimBox:ct[A].trimBox,artBox:ct[A].artBox,userUnit:ct[A].userUnit,rootDictionaryObjId:xi,resourceDictionaryObjId:ba}));Mn(xi,!0),re("<</Type /Pages");var oe="/Kids [";for(q=0;q<sr;q++)oe+=te[q]+" 0 R ";re(oe+"]"),re("/Count "+sr),re(">>"),re("endobj"),Lt.publish("postPutPages")},qo=function(A){Lt.publish("putFont",{font:A,out:re,newObject:Pr,putStream:Gn}),A.isAlreadyPutted!==!0&&(A.objectNumber=Pr(),re("<<"),re("/Type /Font"),re("/BaseFont /"+_l(A.postScriptName)),re("/Subtype /Type1"),typeof A.encoding=="string"&&re("/Encoding /"+A.encoding),re("/FirstChar 32"),re("/LastChar 255"),re(">>"),re("endobj"))},Uo=function(){for(var A in Bt)Bt.hasOwnProperty(A)&&(f===!1||f===!0&&h.hasOwnProperty(A))&&qo(Bt[A])},Wo=function(A){A.objectNumber=Pr();var q=[];q.push({key:"Type",value:"/XObject"}),q.push({key:"Subtype",value:"/Form"}),q.push({key:"BBox",value:"["+[P(A.x),P(A.y),P(A.x+A.width),P(A.y+A.height)].join(" ")+"]"}),q.push({key:"Matrix",value:"["+A.matrix.toString()+"]"});var te=A.pages[1].join(`
`);Gn({data:te,additionalKeyValues:q,objectId:A.objectNumber}),re("endobj")},Ho=function(){for(var A in Gr)Gr.hasOwnProperty(A)&&Wo(Gr[A])},vf=function(A,q){var te,oe=[],me=1/(q-1);for(te=0;te<1;te+=me)oe.push(te);if(oe.push(1),A[0].offset!=0){var je={offset:0,color:A[0].color};A.unshift(je)}if(A[A.length-1].offset!=1){var Ce={offset:1,color:A[A.length-1].color};A.push(Ce)}for(var ze="",Ke=0,ft=0;ft<oe.length;ft++){for(te=oe[ft];te>A[Ke+1].offset;)Ke++;var ut=A[Ke].offset,St=(te-ut)/(A[Ke+1].offset-ut),ar=A[Ke].color,or=A[Ke+1].color;ze+=ne(Math.round((1-St)*ar[0]+St*or[0]).toString(16))+ne(Math.round((1-St)*ar[1]+St*or[1]).toString(16))+ne(Math.round((1-St)*ar[2]+St*or[2]).toString(16))}return ze.trim()},vg=function(A,q){q||(q=21);var te=Pr(),oe=vf(A.colors,q),me=[];me.push({key:"FunctionType",value:"0"}),me.push({key:"Domain",value:"[0.0 1.0]"}),me.push({key:"Size",value:"["+q+"]"}),me.push({key:"BitsPerSample",value:"8"}),me.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),me.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Gn({data:oe,additionalKeyValues:me,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:te}),re("endobj"),A.objectNumber=Pr(),re("<< /ShadingType "+A.type),re("/ColorSpace /DeviceRGB");var je="/Coords ["+P(parseFloat(A.coords[0]))+" "+P(parseFloat(A.coords[1]))+" ";A.type===2?je+=P(parseFloat(A.coords[2]))+" "+P(parseFloat(A.coords[3])):je+=P(parseFloat(A.coords[2]))+" "+P(parseFloat(A.coords[3]))+" "+P(parseFloat(A.coords[4]))+" "+P(parseFloat(A.coords[5])),re(je+="]"),A.matrix&&re("/Matrix ["+A.matrix.toString()+"]"),re("/Function "+te+" 0 R"),re("/Extend [true true]"),re(">>"),re("endobj")},yg=function(A,q){var te=wr(),oe=Pr();q.push({resourcesOid:te,objectOid:oe}),A.objectNumber=oe;var me=[];me.push({key:"Type",value:"/Pattern"}),me.push({key:"PatternType",value:"1"}),me.push({key:"PaintType",value:"1"}),me.push({key:"TilingType",value:"1"}),me.push({key:"BBox",value:"["+A.boundingBox.map(P).join(" ")+"]"}),me.push({key:"XStep",value:P(A.xStep)}),me.push({key:"YStep",value:P(A.yStep)}),me.push({key:"Resources",value:te+" 0 R"}),A.matrix&&me.push({key:"Matrix",value:"["+A.matrix.toString()+"]"}),Gn({data:A.stream,additionalKeyValues:me,objectId:A.objectNumber}),re("endobj")},Go=function(A){var q;for(q in Tt)Tt.hasOwnProperty(q)&&(Tt[q]instanceof ao?vg(Tt[q]):Tt[q]instanceof Ol&&yg(Tt[q],A))},yf=function(A){for(var q in A.objectNumber=Pr(),re("<<"),A)switch(q){case"opacity":re("/ca "+I(A[q]));break;case"stroke-opacity":re("/CA "+I(A[q]))}re(">>"),re("endobj")},bg=function(){var A;for(A in ir)ir.hasOwnProperty(A)&&yf(ir[A])},Kc=function(){for(var A in re("/XObject <<"),Gr)Gr.hasOwnProperty(A)&&Gr[A].objectNumber>=0&&re("/"+A+" "+Gr[A].objectNumber+" 0 R");Lt.publish("putXobjectDict"),re(">>")},xg=function(){Zr.oid=Pr(),re("<<"),re("/Filter /Standard"),re("/V "+Zr.v),re("/R "+Zr.r),re("/U <"+Zr.toHexString(Zr.U)+">"),re("/O <"+Zr.toHexString(Zr.O)+">"),re("/P "+Zr.P),re(">>"),re("endobj")},bf=function(){for(var A in re("/Font <<"),Bt)Bt.hasOwnProperty(A)&&(f===!1||f===!0&&h.hasOwnProperty(A))&&re("/"+A+" "+Bt[A].objectNumber+" 0 R");re(">>")},wg=function(){if(Object.keys(Tt).length>0){for(var A in re("/Shading <<"),Tt)Tt.hasOwnProperty(A)&&Tt[A]instanceof ao&&Tt[A].objectNumber>=0&&re("/"+A+" "+Tt[A].objectNumber+" 0 R");Lt.publish("putShadingPatternDict"),re(">>")}},Vo=function(A){if(Object.keys(Tt).length>0){for(var q in re("/Pattern <<"),Tt)Tt.hasOwnProperty(q)&&Tt[q]instanceof p.TilingPattern&&Tt[q].objectNumber>=0&&Tt[q].objectNumber<A&&re("/"+q+" "+Tt[q].objectNumber+" 0 R");Lt.publish("putTilingPatternDict"),re(">>")}},jg=function(){if(Object.keys(ir).length>0){var A;for(A in re("/ExtGState <<"),ir)ir.hasOwnProperty(A)&&ir[A].objectNumber>=0&&re("/"+A+" "+ir[A].objectNumber+" 0 R");Lt.publish("putGStateDict"),re(">>")}},mr=function(A){Mn(A.resourcesOid,!0),re("<<"),re("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),bf(),wg(),Vo(A.objectOid),jg(),Kc(),re(">>"),re("endobj")},xf=function(){var A=[];Uo(),bg(),Ho(),Go(A),Lt.publish("putResources"),A.forEach(mr),mr({resourcesOid:ba,objectOid:Number.MAX_SAFE_INTEGER}),Lt.publish("postPutResources")},wf=function(){Lt.publish("putAdditionalObjects");for(var A=0;A<xe.length;A++){var q=xe[A];Mn(q.objId,!0),re(q.content),re("endobj")}Lt.publish("postPutAdditionalObjects")},jf=function(A){rr[A.fontName]=rr[A.fontName]||{},rr[A.fontName][A.fontStyle]=A.id},Xc=function(A,q,te,oe,me){var je={id:"F"+(Object.keys(Bt).length+1).toString(10),postScriptName:A,fontName:q,fontStyle:te,encoding:oe,isStandardFont:me||!1,metadata:{}};return Lt.publish("addFont",{font:je,instance:this}),Bt[je.id]=je,jf(je),je.id},Ng=function(A){for(var q=0,te=ke.length;q<te;q++){var oe=Xc.call(this,A[q][0],A[q][1],A[q][2],ke[q][3],!0);f===!1&&(h[oe]=!0);var me=A[q][0].split("-");jf({id:oe,fontName:me[0],fontStyle:me[1]||""})}Lt.publish("addFonts",{fonts:Bt,dictionary:rr})},ja=function(A){return A.foo=function(){try{return A.apply(this,arguments)}catch(oe){var q=oe.stack||"";~q.indexOf(" at ")&&(q=q.split(" at ")[1]);var te="Error in function "+q.split(`
`)[0].split("<")[0]+": "+oe.message;if(!rt.console)throw new Error(te);rt.console.error(te,oe),rt.alert&&alert(te)}},A.foo.bar=A,A.foo},Yo=function(A,q){var te,oe,me,je,Ce,ze,Ke,ft,ut;if(me=(q=q||{}).sourceEncoding||"Unicode",Ce=q.outputEncoding,(q.autoencode||Ce)&&Bt[bt].metadata&&Bt[bt].metadata[me]&&Bt[bt].metadata[me].encoding&&(je=Bt[bt].metadata[me].encoding,!Ce&&Bt[bt].encoding&&(Ce=Bt[bt].encoding),!Ce&&je.codePages&&(Ce=je.codePages[0]),typeof Ce=="string"&&(Ce=je[Ce]),Ce)){for(Ke=!1,ze=[],te=0,oe=A.length;te<oe;te++)(ft=Ce[A.charCodeAt(te)])?ze.push(String.fromCharCode(ft)):ze.push(A[te]),ze[te].charCodeAt(0)>>8&&(Ke=!0);A=ze.join("")}for(te=A.length;Ke===void 0&&te!==0;)A.charCodeAt(te-1)>>8&&(Ke=!0),te--;if(!Ke)return A;for(ze=q.noBOM?[]:[254,255],te=0,oe=A.length;te<oe;te++){if((ut=(ft=A.charCodeAt(te))>>8)>>8)throw new Error("Character at position "+te+" of string '"+A+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ze.push(ut),ze.push(ft-(ut<<8))}return String.fromCharCode.apply(void 0,ze)},Nn=p.__private__.pdfEscape=p.pdfEscape=function(A,q){return Yo(A,q).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Jc=p.__private__.beginPage=function(A){be[++sr]=[],ct[sr]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(A[0]),topRightY:Number(A[1])}},Sf(sr),ye(be[W])},Nf=function(A,q){var te,oe,me;switch(r=q||r,typeof A=="string"&&(te=b(A.toLowerCase()),Array.isArray(te)&&(oe=te[0],me=te[1])),Array.isArray(A)&&(oe=A[0]*Fe,me=A[1]*Fe),isNaN(oe)&&(oe=a[0],me=a[1]),(oe>14400||me>14400)&&(qt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),oe=Math.min(14400,oe),me=Math.min(14400,me)),a=[oe,me],r.substr(0,1)){case"l":me>oe&&(a=[me,oe]);break;case"p":oe>me&&(a=[me,oe])}Jc(a),kf(tu),re(Na),nu!==0&&re(nu+" J"),au!==0&&re(au+" j"),Lt.publish("addPage",{pageNumber:sr})},Sg=function(A){A>0&&A<=sr&&(be.splice(A,1),ct.splice(A,1),sr--,W>sr&&(W=sr),this.setPage(W))},Sf=function(A){A>0&&A<=sr&&(W=A)},_g=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return be.length-1},_f=function(A,q,te){var oe,me=void 0;return te=te||{},A=A!==void 0?A:Bt[bt].fontName,q=q!==void 0?q:Bt[bt].fontStyle,oe=A.toLowerCase(),rr[oe]!==void 0&&rr[oe][q]!==void 0?me=rr[oe][q]:rr[A]!==void 0&&rr[A][q]!==void 0?me=rr[A][q]:te.disableWarning===!1&&qt.warn("Unable to look up font label for font '"+A+"', '"+q+"'. Refer to getFontList() for available fonts."),me||te.noFallback||(me=rr.times[q])==null&&(me=rr.times.normal),me},Ag=p.__private__.putInfo=function(){var A=Pr(),q=function(oe){return oe};for(var te in d!==null&&(q=Zr.encryptor(A,0)),re("<<"),re("/Producer ("+Nn(q("jsPDF "+tt.version))+")"),st)st.hasOwnProperty(te)&&st[te]&&re("/"+te.substr(0,1).toUpperCase()+te.substr(1)+" ("+Nn(q(st[te]))+")");re("/CreationDate ("+Nn(q(V))+")"),re(">>"),re("endobj")},Zc=p.__private__.putCatalog=function(A){var q=(A=A||{}).rootDictionaryObjId||xi;switch(Pr(),re("<<"),re("/Type /Catalog"),re("/Pages "+q+" 0 R"),$e||($e="fullwidth"),$e){case"fullwidth":re("/OpenAction [3 0 R /FitH null]");break;case"fullheight":re("/OpenAction [3 0 R /FitV null]");break;case"fullpage":re("/OpenAction [3 0 R /Fit]");break;case"original":re("/OpenAction [3 0 R /XYZ null null 1]");break;default:var te=""+$e;te.substr(te.length-1)==="%"&&($e=parseInt($e)/100),typeof $e=="number"&&re("/OpenAction [3 0 R /XYZ null null "+I($e)+"]")}switch(mt||(mt="continuous"),mt){case"continuous":re("/PageLayout /OneColumn");break;case"single":re("/PageLayout /SinglePage");break;case"two":case"twoleft":re("/PageLayout /TwoColumnLeft");break;case"tworight":re("/PageLayout /TwoColumnRight")}Ze&&re("/PageMode /"+Ze),Lt.publish("putCatalog"),re(">>"),re("endobj")},Og=p.__private__.putTrailer=function(){re("trailer"),re("<<"),re("/Size "+(se+1)),re("/Root "+se+" 0 R"),re("/Info "+(se-1)+" 0 R"),d!==null&&re("/Encrypt "+Zr.oid+" 0 R"),re("/ID [ <"+F+"> <"+F+"> ]"),re(">>")},Pg=p.__private__.putHeader=function(){re("%PDF-"+v),re("%ÂºÃŸÂ¬Ã ")},Eg=p.__private__.putXRef=function(){var A="0000000000";re("xref"),re("0 "+(se+1)),re("0000000000 65535 f ");for(var q=1;q<=se;q++)typeof he[q]=="function"?re((A+he[q]()).slice(-10)+" 00000 n "):he[q]!==void 0?re((A+he[q]).slice(-10)+" 00000 n "):re("0000000000 00000 n ")},wi=p.__private__.buildDocument=function(){De(),ye(de),Lt.publish("buildDocument"),Pg(),Ds(),wf(),xf(),d!==null&&xg(),Ag(),Zc();var A=ie;return Eg(),Og(),re("startxref"),re(""+A),re("%%EOF"),ye(be[W]),de.join(`
`)},Ko=p.__private__.getBlob=function(A){return new Blob([Be(A)],{type:"application/pdf"})},Xo=p.output=p.__private__.output=ja(function(A,q){switch(typeof(q=q||{})=="string"?q={filename:q}:q.filename=q.filename||"generated.pdf",A){case void 0:return wi();case"save":p.save(q.filename);break;case"arraybuffer":return Be(wi());case"blob":return Ko(wi());case"bloburi":case"bloburl":if(rt.URL!==void 0&&typeof rt.URL.createObjectURL=="function")return rt.URL&&rt.URL.createObjectURL(Ko(wi()))||void 0;qt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var te="",oe=wi();try{te=E0(oe)}catch{te=E0(unescape(encodeURIComponent(oe)))}return"data:application/pdf;filename="+q.filename+";base64,"+te;case"pdfobjectnewwindow":if(Object.prototype.toString.call(rt)==="[object Window]"){var me="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",je=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';q.pdfObjectUrl&&(me=q.pdfObjectUrl,je="");var Ce='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+me+'"'+je+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(q)+");<\/script></body></html>",ze=rt.open();return ze!==null&&ze.document.write(Ce),ze}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(rt)==="[object Window]"){var Ke='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(q.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+q.filename+'" width="500px" height="400px" /></body></html>',ft=rt.open();if(ft!==null){ft.document.write(Ke);var ut=this;ft.document.documentElement.querySelector("#pdfViewer").onload=function(){ft.document.title=q.filename,ft.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ut.output("bloburl"))}}return ft}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(rt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var St='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",q)+'"></iframe></body></html>',ar=rt.open();if(ar!==null&&(ar.document.write(St),ar.document.title=q.filename),ar||typeof safari>"u")return ar;break;case"datauri":case"dataurl":return rt.document.location.href=this.output("datauristring",q);default:return null}}),Af=function(A){return Array.isArray(Ms)===!0&&Ms.indexOf(A)>-1};switch(n){case"pt":Fe=1;break;case"mm":Fe=72/25.4;break;case"cm":Fe=72/2.54;break;case"in":Fe=72;break;case"px":Fe=Af("px_scaling")==1?.75:96/72;break;case"pc":case"em":Fe=12;break;case"ex":Fe=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Fe=n}var Zr=null;ae(),X();var kg=function(A){return d!==null?Zr.encryptor(A,0):function(q){return q}},Of=p.__private__.getPageInfo=p.getPageInfo=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ct[A].objId,pageNumber:A,pageContext:ct[A]}},lt=p.__private__.getPageInfoByObjId=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var q in ct)if(ct[q].objId===A)break;return Of(q)},Cg=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:ct[W].objId,pageNumber:W,pageContext:ct[W]}};p.addPage=function(){return Nf.apply(this,arguments),this},p.setPage=function(){return Sf.apply(this,arguments),ye.call(this,be[W]),this},p.insertPage=function(A){return this.addPage(),this.movePage(W,A),this},p.movePage=function(A,q){var te,oe;if(A>q){te=be[A],oe=ct[A];for(var me=A;me>q;me--)be[me]=be[me-1],ct[me]=ct[me-1];be[q]=te,ct[q]=oe,this.setPage(q)}else if(A<q){te=be[A],oe=ct[A];for(var je=A;je<q;je++)be[je]=be[je+1],ct[je]=ct[je+1];be[q]=te,ct[q]=oe,this.setPage(q)}return this},p.deletePage=function(){return Sg.apply(this,arguments),this},p.__private__.text=p.text=function(A,q,te,oe,me){var je,Ce,ze,Ke,ft,ut,St,ar,or,jr=(oe=oe||{}).scope||this;if(typeof A=="number"&&typeof q=="number"&&(typeof te=="string"||Array.isArray(te))){var Qr=te;te=q,q=A,A=Qr}if(arguments[3]instanceof Qe?(O("The transform parameter of text() with a Matrix value"),or=me):(ze=arguments[4],Ke=arguments[5],jt(St=arguments[3])==="object"&&St!==null||(typeof ze=="string"&&(Ke=ze,ze=null),typeof St=="string"&&(Ke=St,St=null),typeof St=="number"&&(ze=St,St=null),oe={flags:St,angle:ze,align:Ke})),isNaN(q)||isNaN(te)||A==null)throw new Error("Invalid arguments passed to jsPDF.text");if(A.length===0)return jr;var Rr="",Sa=!1,Dn=typeof oe.lineHeightFactor=="number"?oe.lineHeightFactor:Is,ei=jr.internal.scaleFactor;function $f(Ht){return Ht=Ht.split("	").join(Array(oe.TabLen||9).join(" ")),Nn(Ht,St)}function cu(Ht){for(var Gt,vr=Ht.concat(),Er=[],Ai=vr.length;Ai--;)typeof(Gt=vr.shift())=="string"?Er.push(Gt):Array.isArray(Ht)&&(Gt.length===1||Gt[1]===void 0&&Gt[2]===void 0)?Er.push(Gt[0]):Er.push([Gt[0],Gt[1],Gt[2]]);return Er}function uu(Ht,Gt){var vr;if(typeof Ht=="string")vr=Gt(Ht)[0];else if(Array.isArray(Ht)){for(var Er,Ai,yu=Ht.concat(),dl=[],zf=yu.length;zf--;)typeof(Er=yu.shift())=="string"?dl.push(Gt(Er)[0]):Array.isArray(Er)&&typeof Er[0]=="string"&&(Ai=Gt(Er[0],Er[1],Er[2]),dl.push([Ai[0],Ai[1],Ai[2]]));vr=dl}return vr}var rl=!1,du=!0;if(typeof A=="string")rl=!0;else if(Array.isArray(A)){var fu=A.concat();Ce=[];for(var nl,Vr=fu.length;Vr--;)(typeof(nl=fu.shift())!="string"||Array.isArray(nl)&&typeof nl[0]!="string")&&(du=!1);rl=du}if(rl===!1)throw new Error('Type of text must be string or Array. "'+A+'" is not recognized.');typeof A=="string"&&(A=A.match(/[\r?\n]/)?A.split(/\r\n|\r|\n/g):[A]);var al=Te/jr.internal.scaleFactor,il=al*(Dn-1);switch(oe.baseline){case"bottom":te-=il;break;case"top":te+=al-il;break;case"hanging":te+=al-2*il;break;case"middle":te+=al/2-il}if((ut=oe.maxWidth||0)>0&&(typeof A=="string"?A=jr.splitTextToSize(A,ut):Object.prototype.toString.call(A)==="[object Array]"&&(A=A.reduce(function(Ht,Gt){return Ht.concat(jr.splitTextToSize(Gt,ut))},[]))),je={text:A,x:q,y:te,options:oe,mutex:{pdfEscape:Nn,activeFontKey:bt,fonts:Bt,activeFontSize:Te}},Lt.publish("preProcessText",je),A=je.text,ze=(oe=je.options).angle,!(or instanceof Qe)&&ze&&typeof ze=="number"){ze*=Math.PI/180,oe.rotationDirection===0&&(ze=-ze),N===y.ADVANCED&&(ze=-ze);var sl=Math.cos(ze),hu=Math.sin(ze);or=new Qe(sl,hu,-hu,sl,0,0)}else ze&&ze instanceof Qe&&(or=ze);N!==y.ADVANCED||or||(or=Ka),(ft=oe.charSpace||Qo)!==void 0&&(Rr+=P(C(ft))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ar=oe.horizontalScale)!==void 0&&(Rr+=P(100*ar)+` Tz
`),oe.lang;var Sn=-1,zg=oe.renderingMode!==void 0?oe.renderingMode:oe.stroke,pu=jr.internal.getCurrentPageInfo().pageContext;switch(zg){case 0:case!1:case"fill":Sn=0;break;case 1:case!0:case"stroke":Sn=1;break;case 2:case"fillThenStroke":Sn=2;break;case 3:case"invisible":Sn=3;break;case 4:case"fillAndAddForClipping":Sn=4;break;case 5:case"strokeAndAddPathForClipping":Sn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Sn=6;break;case 7:case"addToPathForClipping":Sn=7}var If=pu.usedRenderingMode!==void 0?pu.usedRenderingMode:-1;Sn!==-1?Rr+=Sn+` Tr
`:If!==-1&&(Rr+=`0 Tr
`),Sn!==-1&&(pu.usedRenderingMode=Sn),Ke=oe.align||"left";var Vn,ol=Te*Dn,Rf=jr.internal.pageSize.getWidth(),Ff=Bt[bt];ft=oe.charSpace||Qo,ut=oe.maxWidth||0,St=Object.assign({autoencode:!0,noBOM:!0},oe.flags);var Ji=[],Bs=function(Ht){return jr.getStringUnitWidth(Ht,{font:Ff,charSpace:ft,fontSize:Te,doKerning:!1})*Te/ei};if(Object.prototype.toString.call(A)==="[object Array]"){var _n;Ce=cu(A),Ke!=="left"&&(Vn=Ce.map(Bs));var fn,Zi=0;if(Ke==="right"){q-=Vn[0],A=[],Vr=Ce.length;for(var Ni=0;Ni<Vr;Ni++)Ni===0?(fn=Qa(q),_n=ji(te)):(fn=C(Zi-Vn[Ni]),_n=-ol),A.push([Ce[Ni],fn,_n]),Zi=Vn[Ni]}else if(Ke==="center"){q-=Vn[0]/2,A=[],Vr=Ce.length;for(var Si=0;Si<Vr;Si++)Si===0?(fn=Qa(q),_n=ji(te)):(fn=C((Zi-Vn[Si])/2),_n=-ol),A.push([Ce[Si],fn,_n]),Zi=Vn[Si]}else if(Ke==="left"){A=[],Vr=Ce.length;for(var ll=0;ll<Vr;ll++)A.push(Ce[ll])}else if(Ke==="justify"&&Ff.encoding==="Identity-H"){A=[],Vr=Ce.length,ut=ut!==0?ut:Rf;for(var _i=0,gr=0;gr<Vr;gr++)if(_n=gr===0?ji(te):-ol,fn=gr===0?Qa(q):_i,gr<Vr-1){var mu=C((ut-Vn[gr])/(Ce[gr].split(" ").length-1)),hn=Ce[gr].split(" ");A.push([hn[0]+" ",fn,_n]),_i=0;for(var Yn=1;Yn<hn.length;Yn++){var cl=(Bs(hn[Yn-1]+" "+hn[Yn])-Bs(hn[Yn]))*ei+mu;Yn==hn.length-1?A.push([hn[Yn],cl,0]):A.push([hn[Yn]+" ",cl,0]),_i-=cl}}else A.push([Ce[gr],fn,_n]);A.push(["",_i,0])}else{if(Ke!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(A=[],Vr=Ce.length,ut=ut!==0?ut:Rf,gr=0;gr<Vr;gr++)_n=gr===0?ji(te):-ol,fn=gr===0?Qa(q):0,gr<Vr-1?Ji.push(P(C((ut-Vn[gr])/(Ce[gr].split(" ").length-1)))):Ji.push(0),A.push([Ce[gr],fn,_n])}}var Bf=typeof oe.R2L=="boolean"?oe.R2L:Ve;Bf===!0&&(A=uu(A,function(Ht,Gt,vr){return[Ht.split("").reverse().join(""),Gt,vr]})),je={text:A,x:q,y:te,options:oe,mutex:{pdfEscape:Nn,activeFontKey:bt,fonts:Bt,activeFontSize:Te}},Lt.publish("postProcessText",je),A=je.text,Sa=je.mutex.isHex||!1;var gu=Bt[bt].encoding;gu!=="WinAnsiEncoding"&&gu!=="StandardEncoding"||(A=uu(A,function(Ht,Gt,vr){return[$f(Ht),Gt,vr]})),Ce=cu(A),A=[];for(var zs,qs,Qi,Us=0,ul=1,Ws=Array.isArray(Ce[0])?ul:Us,es="",vu=function(Ht,Gt,vr){var Er="";return vr instanceof Qe?(vr=typeof oe.angle=="number"?ya(vr,new Qe(1,0,0,1,Ht,Gt)):ya(new Qe(1,0,0,1,Ht,Gt),vr),N===y.ADVANCED&&(vr=ya(new Qe(1,0,0,-1,0,0),vr)),Er=vr.join(" ")+` Tm
`):Er=P(Ht)+" "+P(Gt)+` Td
`,Er},Kn=0;Kn<Ce.length;Kn++){switch(es="",Ws){case ul:Qi=(Sa?"<":"(")+Ce[Kn][0]+(Sa?">":")"),zs=parseFloat(Ce[Kn][1]),qs=parseFloat(Ce[Kn][2]);break;case Us:Qi=(Sa?"<":"(")+Ce[Kn]+(Sa?">":")"),zs=Qa(q),qs=ji(te)}Ji!==void 0&&Ji[Kn]!==void 0&&(es=Ji[Kn]+` Tw
`),Kn===0?A.push(es+vu(zs,qs,or)+Qi):Ws===Us?A.push(es+Qi):Ws===ul&&A.push(es+vu(zs,qs,or)+Qi)}A=Ws===Us?A.join(` Tj
T* `):A.join(` Tj
`),A+=` Tj
`;var Xn=`BT
/`;return Xn+=bt+" "+Te+` Tf
`,Xn+=P(Te*Dn)+` TL
`,Xn+=Rs+`
`,Xn+=Rr,Xn+=A,re(Xn+="ET"),h[bt]=!0,jr};var Tg=p.__private__.clip=p.clip=function(A){return re(A==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return Tg("evenodd")},p.__private__.discardPath=p.discardPath=function(){return re("n"),this};var Za=p.__private__.isValidStyle=function(A){var q=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(A)!==-1&&(q=!0),q};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(A){return Za(A)&&(u=A),this};var Pf=p.__private__.getStyle=p.getStyle=function(A){var q=u;switch(A){case"D":case"S":q="S";break;case"F":q="f";break;case"FD":case"DF":q="B";break;case"f":case"f*":case"B":case"B*":q=A}return q},Ef=p.close=function(){return re("h"),this};p.stroke=function(){return re("S"),this},p.fill=function(A){return Jo("f",A),this},p.fillEvenOdd=function(A){return Jo("f*",A),this},p.fillStroke=function(A){return Jo("B",A),this},p.fillStrokeEvenOdd=function(A){return Jo("B*",A),this};var Jo=function(A,q){jt(q)==="object"?Mg(q,A):re(A)},Qc=function(A){A===null||N===y.ADVANCED&&A===void 0||(A=Pf(A),re(A))};function Lg(A,q,te,oe,me){var je=new Ol(q||this.boundingBox,te||this.xStep,oe||this.yStep,this.gState,me||this.matrix);je.stream=this.stream;var Ce=A+"$$"+this.cloneIndex+++"$$";return jn(Ce,je),je}var Mg=function(A,q){var te=Ls[A.key],oe=Tt[te];if(oe instanceof ao)re("q"),re(Dg(q)),oe.gState&&p.setGState(oe.gState),re(A.matrix.toString()+" cm"),re("/"+te+" sh"),re("Q");else if(oe instanceof Ol){var me=new Qe(1,0,0,-1,0,Xi());A.matrix&&(me=me.multiply(A.matrix||Ka),te=Lg.call(oe,A.key,A.boundingBox,A.xStep,A.yStep,me).id),re("q"),re("/Pattern cs"),re("/"+te+" scn"),oe.gState&&p.setGState(oe.gState),re(q),re("Q")}},Dg=function(A){switch(A){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},eu=p.moveTo=function(A,q){return re(P(C(A))+" "+P(R(q))+" m"),this},$s=p.lineTo=function(A,q){return re(P(C(A))+" "+P(R(q))+" l"),this},Yi=p.curveTo=function(A,q,te,oe,me,je){return re([P(C(A)),P(R(q)),P(C(te)),P(R(oe)),P(C(me)),P(R(je)),"c"].join(" ")),this};p.__private__.line=p.line=function(A,q,te,oe,me){if(isNaN(A)||isNaN(q)||isNaN(te)||isNaN(oe)||!Za(me))throw new Error("Invalid arguments passed to jsPDF.line");return N===y.COMPAT?this.lines([[te-A,oe-q]],A,q,[1,1],me||"S"):this.lines([[te-A,oe-q]],A,q,[1,1]).stroke()},p.__private__.lines=p.lines=function(A,q,te,oe,me,je){var Ce,ze,Ke,ft,ut,St,ar,or,jr,Qr,Rr,Sa;if(typeof A=="number"&&(Sa=te,te=q,q=A,A=Sa),oe=oe||[1,1],je=je||!1,isNaN(q)||isNaN(te)||!Array.isArray(A)||!Array.isArray(oe)||!Za(me)||typeof je!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(eu(q,te),Ce=oe[0],ze=oe[1],ft=A.length,Qr=q,Rr=te,Ke=0;Ke<ft;Ke++)(ut=A[Ke]).length===2?(Qr=ut[0]*Ce+Qr,Rr=ut[1]*ze+Rr,$s(Qr,Rr)):(St=ut[0]*Ce+Qr,ar=ut[1]*ze+Rr,or=ut[2]*Ce+Qr,jr=ut[3]*ze+Rr,Qr=ut[4]*Ce+Qr,Rr=ut[5]*ze+Rr,Yi(St,ar,or,jr,Qr,Rr));return je&&Ef(),Qc(me),this},p.path=function(A){for(var q=0;q<A.length;q++){var te=A[q],oe=te.c;switch(te.op){case"m":eu(oe[0],oe[1]);break;case"l":$s(oe[0],oe[1]);break;case"c":Yi.apply(this,oe);break;case"h":Ef()}}return this},p.__private__.rect=p.rect=function(A,q,te,oe,me){if(isNaN(A)||isNaN(q)||isNaN(te)||isNaN(oe)||!Za(me))throw new Error("Invalid arguments passed to jsPDF.rect");return N===y.COMPAT&&(oe=-oe),re([P(C(A)),P(R(q)),P(C(te)),P(C(oe)),"re"].join(" ")),Qc(me),this},p.__private__.triangle=p.triangle=function(A,q,te,oe,me,je,Ce){if(isNaN(A)||isNaN(q)||isNaN(te)||isNaN(oe)||isNaN(me)||isNaN(je)||!Za(Ce))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[te-A,oe-q],[me-te,je-oe],[A-me,q-je]],A,q,[1,1],Ce,!0),this},p.__private__.roundedRect=p.roundedRect=function(A,q,te,oe,me,je,Ce){if(isNaN(A)||isNaN(q)||isNaN(te)||isNaN(oe)||isNaN(me)||isNaN(je)||!Za(Ce))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ze=4/3*(Math.SQRT2-1);return me=Math.min(me,.5*te),je=Math.min(je,.5*oe),this.lines([[te-2*me,0],[me*ze,0,me,je-je*ze,me,je],[0,oe-2*je],[0,je*ze,-me*ze,je,-me,je],[2*me-te,0],[-me*ze,0,-me,-je*ze,-me,-je],[0,2*je-oe],[0,-je*ze,me*ze,-je,me,-je]],A+me,q,[1,1],Ce,!0),this},p.__private__.ellipse=p.ellipse=function(A,q,te,oe,me){if(isNaN(A)||isNaN(q)||isNaN(te)||isNaN(oe)||!Za(me))throw new Error("Invalid arguments passed to jsPDF.ellipse");var je=4/3*(Math.SQRT2-1)*te,Ce=4/3*(Math.SQRT2-1)*oe;return eu(A+te,q),Yi(A+te,q-Ce,A+je,q-oe,A,q-oe),Yi(A-je,q-oe,A-te,q-Ce,A-te,q),Yi(A-te,q+Ce,A-je,q+oe,A,q+oe),Yi(A+je,q+oe,A+te,q+Ce,A+te,q),Qc(me),this},p.__private__.circle=p.circle=function(A,q,te,oe){if(isNaN(A)||isNaN(q)||isNaN(te)||!Za(oe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(A,q,te,te,oe)},p.setFont=function(A,q,te){return te&&(q=S(q,te)),bt=_f(A,q,{disableWarning:!1}),this};var $g=p.__private__.getFont=p.getFont=function(){return Bt[_f.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var A,q,te={};for(A in rr)if(rr.hasOwnProperty(A))for(q in te[A]=[],rr[A])rr[A].hasOwnProperty(q)&&te[A].push(q);return te},p.addFont=function(A,q,te,oe,me){var je=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&je.indexOf(arguments[3])!==-1?me=arguments[3]:arguments[3]&&je.indexOf(arguments[3])==-1&&(te=S(te,oe)),me=me||"Identity-H",Xc.call(this,A,q,te,me)};var Is,tu=e.lineWidth||.200025,Zo=p.__private__.getLineWidth=p.getLineWidth=function(){return tu},kf=p.__private__.setLineWidth=p.setLineWidth=function(A){return tu=A,re(P(C(A))+" w"),this};p.__private__.setLineDash=tt.API.setLineDash=tt.API.setLineDashPattern=function(A,q){if(A=A||[],q=q||0,isNaN(q)||!Array.isArray(A))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return A=A.map(function(te){return P(C(te))}).join(" "),q=P(C(q)),re("["+A+"] "+q+" d"),this};var Cf=p.__private__.getLineHeight=p.getLineHeight=function(){return Te*Is};p.__private__.getLineHeight=p.getLineHeight=function(){return Te*Is};var Tf=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(A){return typeof(A=A||1.15)=="number"&&(Is=A),this},Lf=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Is};Tf(e.lineHeight);var Qa=p.__private__.getHorizontalCoordinate=function(A){return C(A)},ji=p.__private__.getVerticalCoordinate=function(A){return N===y.ADVANCED?A:ct[W].mediaBox.topRightY-ct[W].mediaBox.bottomLeftY-C(A)},Ig=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(A){return P(Qa(A))},Ki=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(A){return P(ji(A))},Na=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return xa(Na)},p.__private__.setStrokeColor=p.setDrawColor=function(A,q,te,oe){return Na=wa({ch1:A,ch2:q,ch3:te,ch4:oe,pdfColorType:"draw",precision:2}),re(Na),this};var ru=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return xa(ru)},p.__private__.setFillColor=p.setFillColor=function(A,q,te,oe){return ru=wa({ch1:A,ch2:q,ch3:te,ch4:oe,pdfColorType:"fill",precision:2}),re(ru),this};var Rs=e.textColor||"0 g",Rg=p.__private__.getTextColor=p.getTextColor=function(){return xa(Rs)};p.__private__.setTextColor=p.setTextColor=function(A,q,te,oe){return Rs=wa({ch1:A,ch2:q,ch3:te,ch4:oe,pdfColorType:"text",precision:3}),this};var Qo=e.charSpace,Fg=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Qo||0)};p.__private__.setCharSpace=p.setCharSpace=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Qo=A,this};var nu=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(A){var q=p.CapJoinStyles[A];if(q===void 0)throw new Error("Line cap style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return nu=q,re(q+" J"),this};var au=0;p.__private__.setLineJoin=p.setLineJoin=function(A){var q=p.CapJoinStyles[A];if(q===void 0)throw new Error("Line join style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return au=q,re(q+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(A){if(A=A||0,isNaN(A))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return re(P(C(A))+" M"),this},p.GState=ep,p.setGState=function(A){(A=typeof A=="string"?ir[va[A]]:Mf(null,A)).equals(bi)||(re("/"+A.id+" gs"),bi=A)};var Mf=function(A,q){if(!A||!va[A]){var te=!1;for(var oe in ir)if(ir.hasOwnProperty(oe)&&ir[oe].equals(q)){te=!0;break}if(te)q=ir[oe];else{var me="GS"+(Object.keys(ir).length+1).toString(10);ir[me]=q,q.id=me}return A&&(va[A]=q.id),Lt.publish("addGState",q),q}};p.addGState=function(A,q){return Mf(A,q),this},p.saveGraphicsState=function(){return re("q"),Ga.push({key:bt,size:Te,color:Rs}),this},p.restoreGraphicsState=function(){re("Q");var A=Ga.pop();return bt=A.key,Te=A.size,Rs=A.color,bi=null,this},p.setCurrentTransformationMatrix=function(A){return re(A.toString()+" cm"),this},p.comment=function(A){return re("#"+A),this};var el=function(A,q){var te=A||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return te},set:function(je){isNaN(je)||(te=parseFloat(je))}});var oe=q||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return oe},set:function(je){isNaN(je)||(oe=parseFloat(je))}});var me="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return me},set:function(je){me=je.toString()}}),this},iu=function(A,q,te,oe){el.call(this,A,q),this.type="rect";var me=te||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return me},set:function(Ce){isNaN(Ce)||(me=parseFloat(Ce))}});var je=oe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return je},set:function(Ce){isNaN(Ce)||(je=parseFloat(Ce))}}),this},su=function(){this.page=sr,this.currentPage=W,this.pages=be.slice(0),this.pagesContext=ct.slice(0),this.x=Jr,this.y=Pt,this.matrix=ga,this.width=Fs(W),this.height=Xi(W),this.outputDestination=Ee,this.id="",this.objectNumber=-1};su.prototype.restore=function(){sr=this.page,W=this.currentPage,ct=this.pagesContext,be=this.pages,Jr=this.x,Pt=this.y,ga=this.matrix,ou(W,this.width),lu(W,this.height),Ee=this.outputDestination};var Df=function(A,q,te,oe,me){Ya.push(new su),sr=W=0,be=[],Jr=A,Pt=q,ga=me,Jc([te,oe])},Bg=function(A){if(Va[A])Ya.pop().restore();else{var q=new su,te="Xo"+(Object.keys(Gr).length+1).toString(10);q.id=te,Va[A]=te,Gr[te]=q,Lt.publish("addFormObject",q),Ya.pop().restore()}};for(var tl in p.beginFormObject=function(A,q,te,oe,me){return Df(A,q,te,oe,me),this},p.endFormObject=function(A){return Bg(A),this},p.doFormObject=function(A,q){var te=Gr[Va[A]];return re("q"),re(q.toString()+" cm"),re("/"+te.id+" Do"),re("Q"),this},p.getFormObject=function(A){var q=Gr[Va[A]];return{x:q.x,y:q.y,width:q.width,height:q.height,matrix:q.matrix}},p.save=function(A,q){return A=A||"generated.pdf",(q=q||{}).returnPromise=q.returnPromise||!1,q.returnPromise===!1?(eo(Ko(wi()),A),typeof eo.unload=="function"&&rt.setTimeout&&setTimeout(eo.unload,911),this):new Promise(function(te,oe){try{var me=eo(Ko(wi()),A);typeof eo.unload=="function"&&rt.setTimeout&&setTimeout(eo.unload,911),te(me)}catch(je){oe(je.message)}})},tt.API)tt.API.hasOwnProperty(tl)&&(tl==="events"&&tt.API.events.length?function(A,q){var te,oe,me;for(me=q.length-1;me!==-1;me--)te=q[me][0],oe=q[me][1],A.subscribe.apply(A,[te].concat(typeof oe=="function"?[oe]:oe))}(Lt,tt.API.events):p[tl]=tt.API[tl]);var Fs=p.getPageWidth=function(A){return(ct[A=A||W].mediaBox.topRightX-ct[A].mediaBox.bottomLeftX)/Fe},ou=p.setPageWidth=function(A,q){ct[A].mediaBox.topRightX=q*Fe+ct[A].mediaBox.bottomLeftX},Xi=p.getPageHeight=function(A){return(ct[A=A||W].mediaBox.topRightY-ct[A].mediaBox.bottomLeftY)/Fe},lu=p.setPageHeight=function(A,q){ct[A].mediaBox.topRightY=q*Fe+ct[A].mediaBox.bottomLeftY};return p.internal={pdfEscape:Nn,getStyle:Pf,getFont:$g,getFontSize:Me,getCharSpace:Fg,getTextColor:Rg,getLineHeight:Cf,getLineHeightFactor:Lf,getLineWidth:Zo,write:Ye,getHorizontalCoordinate:Qa,getVerticalCoordinate:ji,getCoordinateString:Ig,getVerticalCoordinateString:Ki,collections:{},newObject:Pr,newAdditionalObject:zo,newObjectDeferred:wr,newObjectDeferredBegin:Mn,getFilters:Xa,putStream:Gn,events:Lt,scaleFactor:Fe,pageSize:{getWidth:function(){return Fs(W)},setWidth:function(A){ou(W,A)},getHeight:function(){return Xi(W)},setHeight:function(A){lu(W,A)}},encryptionOptions:d,encryption:Zr,getEncryptor:kg,output:Xo,getNumberOfPages:_g,pages:be,out:re,f2:I,f3:k,getPageInfo:Of,getPageInfoByObjId:lt,getCurrentPageInfo:Cg,getPDFVersion:g,Point:el,Rectangle:iu,Matrix:Qe,hasHotfix:Af},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Fs(W)},set:function(A){ou(W,A)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Xi(W)},set:function(A){lu(W,A)},enumerable:!0,configurable:!0}),Ng.call(p,ke),bt="F1",Nf(a,r),Lt.publish("initialized"),p}Sl.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},Sl.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Sl.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Sl.prototype.processOwnerPassword=function(e,t){return C0(k0(t).substr(0,5),e)},Sl.prototype.encryptor=function(e,t){var r=k0(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return C0(r,n)}},ep.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||jt(e)!==jt(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},tt.API={events:[]},tt.version="3.0.1";var cr=tt.API,nx=1,$o=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},yl=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},dt=function(e){return e.toFixed(2)},us=function(e){return e.toFixed(5)};cr.__acroform__={};var Ln=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},Sw=function(e){return e*nx},ni=function(e){var t=new RA,r=Ge.internal.getHeight(e)||0,n=Ge.internal.getWidth(e)||0;return t.BBox=[0,0,Number(dt(n)),Number(dt(r))],t},oG=cr.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},lG=cr.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},cG=cr.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},yr=cr.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return cG(e,t-1)},br=cr.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return oG(e,t-1)},xr=cr.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return lG(e,t-1)},uG=cr.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],i=e[1],o=e[2],l=e[3],c={};return c.lowerLeft_X=r(a)||0,c.lowerLeft_Y=n(i+l)||0,c.upperRight_X=r(a+o)||0,c.upperRight_Y=n(i)||0,[Number(dt(c.lowerLeft_X)),Number(dt(c.lowerLeft_Y)),Number(dt(c.upperRight_X)),Number(dt(c.upperRight_Y))]},dG=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=T0(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+dt(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=ni(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},T0=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(k){return k.split(`
`)}):a.map(function(k){return[k]});var i=r,o=Ge.internal.getHeight(e)||0;o=o<0?-o:o;var l=Ge.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(k,C,L){if(k+1<a.length){var R=C+" "+a[k+1][0];return hh(R,e,L).width<=l-4}return!1};i++;e:for(;i>0;){t="",i--;var u,d,f=hh("3",e,i).height,h=e.multiline?o-i:(o-f)/2,p=h+=2,v=0,g=0,x=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+hh(t,e,i=12).width+", FieldWidth:"+l+`
`;break}for(var b="",y=0,N=0;N<a.length;N++)if(a.hasOwnProperty(N)){var _=!1;if(a[N].length!==1&&x!==a[N].length-1){if((f+2)*(y+2)+2>o)continue e;b+=a[N][x],_=!0,g=N,N--}else{b=(b+=a[N][x]+" ").substr(b.length-1)==" "?b.substr(0,b.length-1):b;var w=parseInt(N),S=c(w,b,i),P=N>=a.length-1;if(S&&!P){b+=" ",x=0;continue}if(S||P){if(P)g=w;else if(e.multiline&&(f+2)*(y+2)+2>o)continue e}else{if(!e.multiline||(f+2)*(y+2)+2>o)continue e;g=w}}for(var O="",T=v;T<=g;T++){var I=a[T];if(e.multiline){if(T===g){O+=I[x]+" ",x=(x+1)%I.length;continue}if(T===v){O+=I[I.length-1]+" ";continue}}O+=I[0]+" "}switch(O=O.substr(O.length-1)==" "?O.substr(0,O.length-1):O,d=hh(O,e,i).width,e.textAlign){case"right":u=l-d-2;break;case"center":u=(l-d)/2;break;case"left":default:u=2}t+=dt(u)+" "+dt(p)+` Td
`,t+="("+$o(O)+`) Tj
`,t+=-dt(u)+` 0 Td
`,p=-(i+2),d=0,v=_?g:g+1,y++,b=""}break}return n.text=t,n.fontSize=i,n},hh=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},fG={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},hG=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},pG=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,a=e[r];t.internal.newObjectDeferredBegin(a.objId,!0),jt(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete e[n]}},mG=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Ua.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(fG)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");nx=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new FA,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&hG(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var o in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],c=[],u=l.Rect;if(l.Rect&&(l.Rect=uG(l.Rect,a)),a.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Ge.createDefaultAppearanceStream(l),jt(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var d=dG(l);c.push({key:"AP",value:"<</N "+d+">>"}),a.internal.acroformPlugin.xForms.push(d)}if(l.appearanceStreamContent){var f="";for(var h in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(h)){var p=l.appearanceStreamContent[h];if(f+="/"+h+" ",f+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var o in p)if(p.hasOwnProperty(o)){var v=p[o];typeof v=="function"&&(v=v.call(a,l)),f+="/"+o+" "+v+" ",a.internal.acroformPlugin.xForms.indexOf(v)>=0||a.internal.acroformPlugin.xForms.push(v)}}else typeof(v=p)=="function"&&(v=v.call(a,l)),f+="/"+o+" "+v,a.internal.acroformPlugin.xForms.indexOf(v)>=0||a.internal.acroformPlugin.xForms.push(v);f+=">>"}c.push({key:"AP",value:`<<
`+f+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:l.objId}),a.internal.out("endobj")}i&&pG(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},IA=cr.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(o){return o};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(i!==0&&(a+=" "),jt(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+$o(n(e[i].toString()))+")"):a+=e[i].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Ov=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+$o(n(e))+")"},si=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};si.prototype.toString=function(){return this.objId+" 0 R"},si.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},si.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:IA(a,this.objId,this.scope)}):a instanceof si?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var RA=function(){si.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Ln(RA,si);var FA=function(){si.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+$o(r(e))+")"}},set:function(r){e=r}})};Ln(FA,si);var Ua=function e(){si.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute F supplied.');t=b}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!yr(t,3)},set:function(b){b?this.F=br(t,3):this.F=xr(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute Ff supplied.');r=b}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(b){n=b!==void 0?b:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(b){n[0]=b}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(b){n[1]=b}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(b){n[2]=b}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(b){n[3]=b}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(b){switch(b){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=b;break;default:throw new Error('Invalid value "'+b+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof tp)return;i="FieldObject"+e.FieldNum++}var b=function(y){return y};return this.scope&&(b=this.scope.internal.getEncryptor(this.objId)),"("+$o(b(i))+")"},set:function(b){i=b.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(b){i=b}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(b){o=b}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(b){l=b}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(b){c=b}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/nx:u},set:function(b){u=b}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(b){d=b}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof tp||this instanceof po))return Ov(f,this.objId,this.scope)},set:function(b){b=b.toString(),f=b}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof qr?h:Ov(h,this.objId,this.scope)},set:function(b){b=b.toString(),h=this instanceof qr?b:b.substr(0,1)==="("?yl(b.substr(1,b.length-2)):yl(b)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof qr?yl(h.substr(1,h.length-1)):h},set:function(b){b=b.toString(),h=this instanceof qr?"/"+b:b}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(b){this.V=b}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof qr?p:Ov(p,this.objId,this.scope)},set:function(b){b=b.toString(),p=this instanceof qr?b:b.substr(0,1)==="("?yl(b.substr(1,b.length-2)):yl(b)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof qr?yl(p.substr(1,p.length-1)):p},set:function(b){b=b.toString(),p=this instanceof qr?"/"+b:b}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(b){b=!!b,g=b}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(b){v=b}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,1)},set:function(b){b?this.Ff=br(this.Ff,1):this.Ff=xr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,2)},set:function(b){b?this.Ff=br(this.Ff,2):this.Ff=xr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,3)},set:function(b){b?this.Ff=br(this.Ff,3):this.Ff=xr(this.Ff,3)}});var x=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(x!==null)return x},set:function(b){if([0,1,2].indexOf(b)===-1)throw new Error('Invalid value "'+b+'" for attribute Q supplied.');x=b}}),Object.defineProperty(this,"textAlign",{get:function(){var b;switch(x){case 0:default:b="left";break;case 1:b="center";break;case 2:b="right"}return b},configurable:!0,enumerable:!0,set:function(b){switch(b){case"right":case 2:x=2;break;case"center":case 1:x=1;break;case"left":case 0:default:x=0}}})};Ln(Ua,si);var Ll=function(){Ua.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return IA(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(i,o,l){l||(l=1);for(var c,u=[];c=o.exec(i);)u.push(c[l]);return u}(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,18)},set:function(r){r?this.Ff=br(this.Ff,18):this.Ff=xr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=br(this.Ff,19):this.Ff=xr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,20)},set:function(r){r?(this.Ff=br(this.Ff,20),t.sort()):this.Ff=xr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,22)},set:function(r){r?this.Ff=br(this.Ff,22):this.Ff=xr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,23)},set:function(r){r?this.Ff=br(this.Ff,23):this.Ff=xr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,27)},set:function(r){r?this.Ff=br(this.Ff,27):this.Ff=xr(this.Ff,27)}}),this.hasAppearanceStream=!1};Ln(Ll,Ua);var Ml=function(){Ll.call(this),this.fontName="helvetica",this.combo=!1};Ln(Ml,Ll);var Dl=function(){Ml.call(this),this.combo=!0};Ln(Dl,Ml);var $h=function(){Dl.call(this),this.edit=!0};Ln($h,Dl);var qr=function(){Ua.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,15)},set:function(r){r?this.Ff=br(this.Ff,15):this.Ff=xr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,16)},set:function(r){r?this.Ff=br(this.Ff,16):this.Ff=xr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,17)},set:function(r){r?this.Ff=br(this.Ff,17):this.Ff=xr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,26)},set:function(r){r?this.Ff=br(this.Ff,26):this.Ff=xr(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+$o(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){jt(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Ln(qr,Ua);var Ih=function(){qr.call(this),this.pushButton=!0};Ln(Ih,qr);var $l=function(){qr.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Ln($l,qr);var tp=function(){var e,t;Ua.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(l){return l};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),n)o.push("/"+i+" ("+$o(a(n[i]))+")");return o.push(">>"),o.join(`
`)},set:function(a){jt(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ge.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ln(tp,Ua),$l.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},$l.prototype.createOption=function(e){var t=new tp;return t.Parent=this,t.optionName=e,this.Kids.push(t),gG.call(this.scope,t),t};var Rh=function(){qr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ge.CheckBox.createAppearanceStream()};Ln(Rh,qr);var po=function(){Ua.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,13)},set:function(t){t?this.Ff=br(this.Ff,13):this.Ff=xr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,21)},set:function(t){t?this.Ff=br(this.Ff,21):this.Ff=xr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,23)},set:function(t){t?this.Ff=br(this.Ff,23):this.Ff=xr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,24)},set:function(t){t?this.Ff=br(this.Ff,24):this.Ff=xr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,25)},set:function(t){t?this.Ff=br(this.Ff,25):this.Ff=xr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,26)},set:function(t){t?this.Ff=br(this.Ff,26):this.Ff=xr(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ln(po,Ua);var Fh=function(){po.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,14)},set:function(e){e?this.Ff=br(this.Ff,14):this.Ff=xr(this.Ff,14)}}),this.password=!0};Ln(Fh,po);var Ge={CheckBox:{createAppearanceStream:function(){return{N:{On:Ge.CheckBox.YesNormal},D:{On:Ge.CheckBox.YesPushDown,Off:Ge.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=ni(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=T0(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+dt(Ge.internal.getWidth(e))+" "+dt(Ge.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+dt(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=ni(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],i=Ge.internal.getHeight(e),o=Ge.internal.getWidth(e),l=T0(e,e.caption);return a.push("1 g"),a.push("0 0 "+dt(o)+" "+dt(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+dt(o-1)+" "+dt(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+dt(l.fontSize)+" Tf "+n),a.push(l.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=ni(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+dt(Ge.internal.getWidth(e))+" "+dt(Ge.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Ge.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Ge.RadioButton.Circle.YesNormal,t.D[e]=Ge.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=ni(e);t.scope=e.scope;var r=[],n=Ge.internal.getWidth(e)<=Ge.internal.getHeight(e)?Ge.internal.getWidth(e)/4:Ge.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Ge.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+us(Ge.internal.getWidth(e)/2)+" "+us(Ge.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=ni(e);t.scope=e.scope;var r=[],n=Ge.internal.getWidth(e)<=Ge.internal.getHeight(e)?Ge.internal.getWidth(e)/4:Ge.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Ge.internal.Bezier_C).toFixed(5)),o=Number((n*Ge.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+us(Ge.internal.getWidth(e)/2)+" "+us(Ge.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+us(Ge.internal.getWidth(e)/2)+" "+us(Ge.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=ni(e);t.scope=e.scope;var r=[],n=Ge.internal.getWidth(e)<=Ge.internal.getHeight(e)?Ge.internal.getWidth(e)/4:Ge.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Ge.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+us(Ge.internal.getWidth(e)/2)+" "+us(Ge.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Ge.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Ge.RadioButton.Cross.YesNormal,t.D[e]=Ge.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=ni(e);t.scope=e.scope;var r=[],n=Ge.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+dt(Ge.internal.getWidth(e)-2)+" "+dt(Ge.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(dt(n.x1.x)+" "+dt(n.x1.y)+" m"),r.push(dt(n.x2.x)+" "+dt(n.x2.y)+" l"),r.push(dt(n.x4.x)+" "+dt(n.x4.y)+" m"),r.push(dt(n.x3.x)+" "+dt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=ni(e);t.scope=e.scope;var r=Ge.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+dt(Ge.internal.getWidth(e))+" "+dt(Ge.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+dt(Ge.internal.getWidth(e)-2)+" "+dt(Ge.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(dt(r.x1.x)+" "+dt(r.x1.y)+" m"),n.push(dt(r.x2.x)+" "+dt(r.x2.y)+" l"),n.push(dt(r.x4.x)+" "+dt(r.x4.y)+" m"),n.push(dt(r.x3.x)+" "+dt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=ni(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+dt(Ge.internal.getWidth(e))+" "+dt(Ge.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Ge.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Ge.internal.getWidth(e),r=Ge.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},Ge.internal.getWidth=function(e){var t=0;return jt(e)==="object"&&(t=Sw(e.Rect[2])),t},Ge.internal.getHeight=function(e){var t=0;return jt(e)==="object"&&(t=Sw(e.Rect[3])),t};var gG=cr.addField=function(e){if(mG(this,e),!(e instanceof Ua))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};cr.AcroFormChoiceField=Ll,cr.AcroFormListBox=Ml,cr.AcroFormComboBox=Dl,cr.AcroFormEditBox=$h,cr.AcroFormButton=qr,cr.AcroFormPushButton=Ih,cr.AcroFormRadioButton=$l,cr.AcroFormCheckBox=Rh,cr.AcroFormTextField=po,cr.AcroFormPasswordField=Fh,cr.AcroFormAppearance=Ge,cr.AcroForm={ChoiceField:Ll,ListBox:Ml,ComboBox:Dl,EditBox:$h,Button:qr,PushButton:Ih,RadioButton:$l,CheckBox:Rh,TextField:po,PasswordField:Fh,Appearance:Ge},tt.AcroForm={ChoiceField:Ll,ListBox:Ml,ComboBox:Dl,EditBox:$h,Button:qr,PushButton:Ih,RadioButton:$l,CheckBox:Rh,TextField:po,PasswordField:Fh,Appearance:Ge};tt.AcroForm;function BA(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(k,C){var L,R,V,F,B,X=t;if((C=C||t)==="RGBA"||k.data!==void 0&&k.data instanceof Uint8ClampedArray&&"height"in k&&"width"in k)return"RGBA";if(S(k))for(B in r)for(V=r[B],L=0;L<V.length;L+=1){for(F=!0,R=0;R<V[L].length;R+=1)if(V[L][R]!==void 0&&V[L][R]!==k[R]){F=!1;break}if(F===!0){X=B;break}}else for(B in r)for(V=r[B],L=0;L<V.length;L+=1){for(F=!0,R=0;R<V[L].length;R+=1)if(V[L][R]!==void 0&&V[L][R]!==k.charCodeAt(R)){F=!1;break}if(F===!0){X=B;break}}return X===t&&C!==t&&(X=C),X},a=function k(C){for(var L=this.internal.write,R=this.internal.putStream,V=(0,this.internal.getFilters)();V.indexOf("FlateEncode")!==-1;)V.splice(V.indexOf("FlateEncode"),1);C.objectId=this.internal.newObject();var F=[];if(F.push({key:"Type",value:"/XObject"}),F.push({key:"Subtype",value:"/Image"}),F.push({key:"Width",value:C.width}),F.push({key:"Height",value:C.height}),C.colorSpace===x.INDEXED?F.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(C.palette.length/3-1)+" "+("sMask"in C&&C.sMask!==void 0?C.objectId+2:C.objectId+1)+" 0 R]"}):(F.push({key:"ColorSpace",value:"/"+C.colorSpace}),C.colorSpace===x.DEVICE_CMYK&&F.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),F.push({key:"BitsPerComponent",value:C.bitsPerComponent}),"decodeParameters"in C&&C.decodeParameters!==void 0&&F.push({key:"DecodeParms",value:"<<"+C.decodeParameters+">>"}),"transparency"in C&&Array.isArray(C.transparency)){for(var B="",X=0,Y=C.transparency.length;X<Y;X++)B+=C.transparency[X]+" "+C.transparency[X]+" ";F.push({key:"Mask",value:"["+B+"]"})}C.sMask!==void 0&&F.push({key:"SMask",value:C.objectId+1+" 0 R"});var Z=C.filter!==void 0?["/"+C.filter]:void 0;if(R({data:C.data,additionalKeyValues:F,alreadyAppliedFilters:Z,objectId:C.objectId}),L("endobj"),"sMask"in C&&C.sMask!==void 0){var ae="/Predictor "+C.predictor+" /Colors 1 /BitsPerComponent "+C.bitsPerComponent+" /Columns "+C.width,D={width:C.width,height:C.height,colorSpace:"DeviceGray",bitsPerComponent:C.bitsPerComponent,decodeParameters:ae,data:C.sMask};"filter"in C&&(D.filter=C.filter),k.call(this,D)}if(C.colorSpace===x.INDEXED){var W=this.internal.newObject();R({data:O(new Uint8Array(C.palette)),objectId:W}),L("endobj")}},i=function(){var k=this.internal.collections.addImage_images;for(var C in k)a.call(this,k[C])},o=function(){var k,C=this.internal.collections.addImage_images,L=this.internal.write;for(var R in C)L("/I"+(k=C[R]).index,k.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var k=this.internal.collections.addImage_images;return l.call(this),k},u=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(k){return typeof e["process"+k.toUpperCase()]=="function"},f=function(k){return jt(k)==="object"&&k.nodeType===1},h=function(k,C){if(k.nodeName==="IMG"&&k.hasAttribute("src")){var L=""+k.getAttribute("src");if(L.indexOf("data:image/")===0)return Ku(unescape(L).split("base64,").pop());var R=e.loadFile(L,!0);if(R!==void 0)return R}if(k.nodeName==="CANVAS"){if(k.width===0||k.height===0)throw new Error("Given canvas must have data. Canvas width: "+k.width+", height: "+k.height);var V;switch(C){case"PNG":V="image/png";break;case"WEBP":V="image/webp";break;case"JPEG":case"JPG":default:V="image/jpeg"}return Ku(k.toDataURL(V,1).split("base64,").pop())}},p=function(k){var C=this.internal.collections.addImage_images;if(C){for(var L in C)if(k===C[L].alias)return C[L]}},v=function(k,C,L){return k||C||(k=-96,C=-96),k<0&&(k=-1*L.width*72/k/this.internal.scaleFactor),C<0&&(C=-1*L.height*72/C/this.internal.scaleFactor),k===0&&(k=C*L.width/L.height),C===0&&(C=k*L.height/L.width),[k,C]},g=function(k,C,L,R,V,F){var B=v.call(this,L,R,V),X=this.internal.getCoordinateString,Y=this.internal.getVerticalCoordinateString,Z=c.call(this);if(L=B[0],R=B[1],Z[V.index]=V,F){F*=Math.PI/180;var ae=Math.cos(F),D=Math.sin(F),W=function(ne){return ne.toFixed(4)},Q=[W(ae),W(D),W(-1*D),W(ae),0,0,"cm"]}this.internal.write("q"),F?(this.internal.write([1,"0","0",1,X(k),Y(C+R),"cm"].join(" ")),this.internal.write(Q.join(" ")),this.internal.write([X(L),"0","0",X(R),"0","0","cm"].join(" "))):this.internal.write([X(L),"0","0",X(R),X(k),Y(C+R),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+V.index+" Do"),this.internal.write("Q")},x=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var b=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},y=e.__addimage__.sHashCode=function(k){var C,L,R=0;if(typeof k=="string")for(L=k.length,C=0;C<L;C++)R=(R<<5)-R+k.charCodeAt(C),R|=0;else if(S(k))for(L=k.byteLength/2,C=0;C<L;C++)R=(R<<5)-R+k[C],R|=0;return R},N=e.__addimage__.validateStringAsBase64=function(k){(k=k||"").toString().trim();var C=!0;return k.length===0&&(C=!1),k.length%4!=0&&(C=!1),/^[A-Za-z0-9+/]+$/.test(k.substr(0,k.length-2))===!1&&(C=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(k.substr(-2))===!1&&(C=!1),C},_=e.__addimage__.extractImageFromDataUrl=function(k){if(k==null||!(k=k.trim()).startsWith("data:"))return null;var C=k.indexOf(",");return C<0?null:k.substring(0,C).trim().endsWith("base64")?k.substring(C+1):null},w=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(k){return w()&&k instanceof ArrayBuffer};var S=e.__addimage__.isArrayBufferView=function(k){return w()&&typeof Uint32Array<"u"&&(k instanceof Int8Array||k instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&k instanceof Uint8ClampedArray||k instanceof Int16Array||k instanceof Uint16Array||k instanceof Int32Array||k instanceof Uint32Array||k instanceof Float32Array||k instanceof Float64Array)},P=e.__addimage__.binaryStringToUint8Array=function(k){for(var C=k.length,L=new Uint8Array(C),R=0;R<C;R++)L[R]=k.charCodeAt(R);return L},O=e.__addimage__.arrayBufferToBinaryString=function(k){for(var C="",L=S(k)?k:new Uint8Array(k),R=0;R<L.length;R+=8192)C+=String.fromCharCode.apply(null,L.subarray(R,R+8192));return C};e.addImage=function(){var k,C,L,R,V,F,B,X,Y;if(typeof arguments[1]=="number"?(C=t,L=arguments[1],R=arguments[2],V=arguments[3],F=arguments[4],B=arguments[5],X=arguments[6],Y=arguments[7]):(C=arguments[1],L=arguments[2],R=arguments[3],V=arguments[4],F=arguments[5],B=arguments[6],X=arguments[7],Y=arguments[8]),jt(k=arguments[0])==="object"&&!f(k)&&"imageData"in k){var Z=k;k=Z.imageData,C=Z.format||C||t,L=Z.x||L||0,R=Z.y||R||0,V=Z.w||Z.width||V,F=Z.h||Z.height||F,B=Z.alias||B,X=Z.compression||X,Y=Z.rotation||Z.angle||Y}var ae=this.internal.getFilters();if(X===void 0&&ae.indexOf("FlateEncode")!==-1&&(X="SLOW"),isNaN(L)||isNaN(R))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var D=T.call(this,k,C,B,X);return g.call(this,L,R,V,F,D,Y),this};var T=function(k,C,L,R){var V,F,B;if(typeof k=="string"&&n(k)===t){k=unescape(k);var X=I(k,!1);(X!==""||(X=e.loadFile(k,!0))!==void 0)&&(k=X)}if(f(k)&&(k=h(k,C)),C=n(k,C),!d(C))throw new Error("addImage does not support files of type '"+C+"', please ensure that a plugin for '"+C+"' support is added.");if(((B=L)==null||B.length===0)&&(L=function(Y){return typeof Y=="string"||S(Y)?y(Y):S(Y.data)?y(Y.data):null}(k)),(V=p.call(this,L))||(w()&&(k instanceof Uint8Array||C==="RGBA"||(F=k,k=P(k))),V=this["process"+C.toUpperCase()](k,u.call(this),L,function(Y){return Y&&typeof Y=="string"&&(Y=Y.toUpperCase()),Y in e.image_compression?Y:b.NONE}(R),F)),!V)throw new Error("An unknown error occurred whilst processing the image.");return V},I=e.__addimage__.convertBase64ToBinaryString=function(k,C){C=typeof C!="boolean"||C;var L,R="";if(typeof k=="string"){var V;L=(V=_(k))!==null&&V!==void 0?V:k;try{R=Ku(L)}catch(F){if(C)throw N(L)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+F.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return R};e.getImageProperties=function(k){var C,L,R="";if(f(k)&&(k=h(k)),typeof k=="string"&&n(k)===t&&((R=I(k,!1))===""&&(R=e.loadFile(k)||""),k=R),L=n(k),!d(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(!w()||k instanceof Uint8Array||(k=P(k)),!(C=this["process"+L.toUpperCase()](k)))throw new Error("An unknown error occurred whilst processing the image");return C.fileType=L,C}})(tt.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};tt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,i,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,d=!1,f=0;f<u.length&&!d;f++)switch((n=u[f]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var h=0;h<u.length;h++){n=u[h];var p=this.internal.pdfEscape,v=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),x=this.internal.newAdditionalObject(),b=this.internal.getEncryptor(g.objId),y=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+p(b(n.contents))+")",i+=" /Popup "+x.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+p(b(y))+") >>",g.content=i;var N=g.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+N,n.open&&(i+=" /Open true"),i+=" >>",x.content=i,this.internal.write(g.objId,"0 R",x.objId,"0 R");break;case"freetext":a="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var _=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+p(v(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+_+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var w=this.annotations._nameMap[n.options.name];n.options.pageNumber=w.page,n.options.top=w.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+p(v(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var S=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+S+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,i,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:u(n),w:c(r+a),h:u(n+i)},options:o,type:"link"})},e.textWithLink=function(r,n,a,i){var o,l,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var d=this.splitTextToSize(r,l).length;o=Math.ceil(u*d)}else l=c,o=u;return this.text(r,n,a,i),a+=.2*u,i.align==="center"&&(n-=c/2),i.align==="right"&&(n-=c),this.link(n,a-u,l,o,i),c},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(tt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(g){return t[g.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},l=e.__arabicParser__.isArabicEndLetter=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(g){return o(g)&&a.indexOf(g.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(g){var x=0,b=r,y="",N=0;for(x=0;x<g.length;x+=1)b[g.charCodeAt(x)]!==void 0?(N++,typeof(b=b[g.charCodeAt(x)])=="number"&&(y+=String.fromCharCode(b),b=r,N=0),x===g.length-1&&(b=r,y+=g.charAt(x-(N-1)),x-=N-1,N=0)):(b=r,y+=g.charAt(x-N),x-=N,N=0);return y};e.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&n[g.charCodeAt(0)]!==void 0};var h=e.__arabicParser__.getCorrectForm=function(g,x,b){return o(g)?i(g)===!1?-1:!u(g)||!o(x)&&!o(b)||!o(b)&&l(x)||l(g)&&!o(x)||l(g)&&c(x)||l(g)&&l(x)?0:d(g)&&o(x)&&!l(x)&&o(b)&&u(b)?3:l(g)||!o(b)?1:2:-1},p=function(g){var x=0,b=0,y=0,N="",_="",w="",S=(g=g||"").split("\\s+"),P=[];for(x=0;x<S.length;x+=1){for(P.push(""),b=0;b<S[x].length;b+=1)N=S[x][b],_=S[x][b-1],w=S[x][b+1],o(N)?(y=h(N,_,w),P[x]+=y!==-1?String.fromCharCode(t[N.charCodeAt(0)][y]):N):P[x]+=N;P[x]=f(P[x])}return P.join(" ")},v=e.__arabicParser__.processArabic=e.processArabic=function(){var g,x=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,b=[];if(Array.isArray(x)){var y=0;for(b=[],y=0;y<x.length;y+=1)Array.isArray(x[y])?b.push([p(x[y][0]),x[y][1],x[y][2]]):b.push([p(x[y])]);g=b}else g=p(x);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};e.events.push(["preProcessText",v])}(tt.API),tt.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(tt.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(g){p=g}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(g){v=g}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,u){n.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),h=u.scaleFactor||this.internal.scaleFactor,p=0,v=0,g=0,x=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var b=u.maxWidth;b>0?typeof c=="string"?c=this.splitTextToSize(c,b):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(N,_){return N.concat(x.splitTextToSize(_,b))},[])):c=Array.isArray(c)?c:[c];for(var y=0;y<c.length;y++)p<(g=this.getStringUnitWidth(c[y],{font:f})*d)&&(p=g);return p!==0&&(v=c.length),{w:p/=h,h:Math.max((v*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/h,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,h=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=f.top,p&&h&&(this.printHeaderRow(c.lineNumber,!0),c.y+=h[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};e.table=function(c,u,d,f,h){if(n.call(this),!d)throw new Error("No data for PDF table.");var p,v,g,x,b=[],y=[],N=[],_={},w={},S=[],P=[],O=(h=h||{}).autoSize||!1,T=h.printHeaders!==!1,I=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,k=h.margins||Object.assign({width:this.getPageWidth()},t),C=typeof h.padding=="number"?h.padding:3,L=h.headerBackgroundColor||"#c8c8c8",R=h.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=T,this.internal.__cell__.margins=k,this.internal.__cell__.table_font_size=I,this.internal.__cell__.padding=C,this.internal.__cell__.headerBackgroundColor=L,this.internal.__cell__.headerTextColor=R,this.setFontSize(I),f==null)y=b=Object.keys(d[0]),N=b.map(function(){return"left"});else if(Array.isArray(f)&&jt(f[0])==="object")for(b=f.map(function(Z){return Z.name}),y=f.map(function(Z){return Z.prompt||Z.name||""}),N=f.map(function(Z){return Z.align||"left"}),p=0;p<f.length;p+=1)w[f[p].name]=f[p].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(y=b=f,N=b.map(function(){return"left"}));if(O||Array.isArray(f)&&typeof f[0]=="string")for(p=0;p<b.length;p+=1){for(_[x=b[p]]=d.map(function(Z){return Z[x]}),this.setFont(void 0,"bold"),S.push(this.getTextDimensions(y[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=_[x],this.setFont(void 0,"normal"),g=0;g<v.length;g+=1)S.push(this.getTextDimensions(v[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);w[x]=Math.max.apply(null,S)+C+C,S=[]}if(T){var V={};for(p=0;p<b.length;p+=1)V[b[p]]={},V[b[p]].text=y[p],V[b[p]].align=N[p];var F=l.call(this,V,w);P=b.map(function(Z){return new i(c,u,w[Z],F,V[Z].text,void 0,V[Z].align)}),this.setTableHeaderRow(P),this.printHeaderRow(1,!1)}var B=f.reduce(function(Z,ae){return Z[ae.name]=ae.align,Z},{});for(p=0;p<d.length;p+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:p,data:d[p]},this);var X=l.call(this,d[p],w);for(g=0;g<b.length;g+=1){var Y=d[p][b[g]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:p,col:g,data:Y},this),o.call(this,new i(c,u,w[b[g]],X,Y,p+2,B[b[g]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var d=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(c).map(function(p){var v=c[p];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,u[p]-d-d)},this).map(function(p){return this.getLineHeightFactor()*p.length*f/h+d+d},this).reduce(function(p,v){return Math.max(p,v)},0)};e.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){d=this.internal.__cell__.tableHeaderRow[p].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,h.push(d)),d.lineNumber=c;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,d),this.setTextColor(v)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),r=!1}}(tt.API);var zA={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},qA=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],L0=BA(qA),UA=[100,200,300,400,500,600,700,800,900],vG=BA(UA);function M0(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return zA[i=i||"normal"]?i:"normal"}(e.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(e.weight),a=function(i){return typeof L0[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function _w(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var yG={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Aw={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Ow(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function bG(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},yG,r.genericFontFamilies||{}),i=null,o=null,l=0;l<t.length;++l)if(a[(i=M0(t[l])).family]&&(i.family=a[i.family]),e.hasOwnProperty(i.family)){o=e[i.family];break}if(!(o=o||e[n]))throw new Error("Could not find a font-family for the rule '"+Ow(i)+"' and default family '"+n+"'.");if(o=function(c,u){if(u[c])return u[c];var d=L0[c],f=d<=L0.normal?-1:1,h=_w(u,qA,d,f);if(!h)throw new Error("Could not find a matching font-stretch value for "+c);return h}(i.stretch,o),o=function(c,u){if(u[c])return u[c];for(var d=zA[c],f=0;f<d.length;++f)if(u[d[f]])return u[d[f]];throw new Error("Could not find a matching font-style for "+c)}(i.style,o),!(o=function(c,u){if(u[c])return u[c];if(c===400&&u[500])return u[500];if(c===500&&u[400])return u[400];var d=vG[c],f=_w(u,UA,d,c<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+c);return f}(i.weight,o)))throw new Error("Failed to resolve a font for the rule '"+Ow(i)+"'.");return o}function Pw(e){return e.trimLeft()}function xG(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function wG(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var ph,Ew,kw,Pv=["times"];(function(e){var t,r,n,a,i,o,l,c,u,d=function(D){return D=D||{},this.isStrokeTransparent=D.isStrokeTransparent||!1,this.strokeOpacity=D.strokeOpacity||1,this.strokeStyle=D.strokeStyle||"#000000",this.fillStyle=D.fillStyle||"#000000",this.isFillTransparent=D.isFillTransparent||!1,this.fillOpacity=D.fillOpacity||1,this.font=D.font||"10px sans-serif",this.textBaseline=D.textBaseline||"alphabetic",this.textAlign=D.textAlign||"left",this.lineWidth=D.lineWidth||1,this.lineJoin=D.lineJoin||"miter",this.lineCap=D.lineCap||"butt",this.path=D.path||[],this.transform=D.transform!==void 0?D.transform.clone():new c,this.globalCompositeOperation=D.globalCompositeOperation||"normal",this.globalAlpha=D.globalAlpha||1,this.clip_path=D.clip_path||[],this.currentPoint=D.currentPoint||new o,this.miterLimit=D.miterLimit||10,this.lastPoint=D.lastPoint||new o,this.lineDashOffset=D.lineDashOffset||0,this.lineDash=D.lineDash||[],this.margin=D.margin||[0,0,0,0],this.prevPageLastElemOffset=D.prevPageLastElemOffset||0,this.ignoreClearRect=typeof D.ignoreClearRect!="boolean"||D.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var f=function(D){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var W=D;Object.defineProperty(this,"pdf",{get:function(){return W}});var Q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Q},set:function(ye){Q=!!ye}});var ne=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ne},set:function(ye){ne=!!ye}});var se=0;Object.defineProperty(this,"posX",{get:function(){return se},set:function(ye){isNaN(ye)||(se=ye)}});var he=0;Object.defineProperty(this,"posY",{get:function(){return he},set:function(ye){isNaN(ye)||(he=ye)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(ye){var re;typeof ye=="number"?re=[ye,ye,ye,ye]:((re=new Array(4))[0]=ye[0],re[1]=ye.length>=2?ye[1]:re[0],re[2]=ye.length>=3?ye[2]:re[0],re[3]=ye.length>=4?ye[3]:re[1]),u.margin=re}});var de=!1;Object.defineProperty(this,"autoPaging",{get:function(){return de},set:function(ye){de=ye}});var ie=0;Object.defineProperty(this,"lastBreak",{get:function(){return ie},set:function(ye){ie=ye}});var xe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return xe},set:function(ye){xe=ye}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(ye){ye instanceof d&&(u=ye)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(ye){u.path=ye}});var be=[];Object.defineProperty(this,"ctxStack",{get:function(){return be},set:function(ye){be=ye}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ye){var re;re=h(ye),this.ctx.fillStyle=re.style,this.ctx.isFillTransparent=re.a===0,this.ctx.fillOpacity=re.a,this.pdf.setFillColor(re.r,re.g,re.b,{a:re.a}),this.pdf.setTextColor(re.r,re.g,re.b,{a:re.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ye){var re=h(ye);this.ctx.strokeStyle=re.style,this.ctx.isStrokeTransparent=re.a===0,this.ctx.strokeOpacity=re.a,re.a===0?this.pdf.setDrawColor(255,255,255):(re.a,this.pdf.setDrawColor(re.r,re.g,re.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ye){["butt","round","square"].indexOf(ye)!==-1&&(this.ctx.lineCap=ye,this.pdf.setLineCap(ye))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ye){isNaN(ye)||(this.ctx.lineWidth=ye,this.pdf.setLineWidth(ye))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ye){["bevel","round","miter"].indexOf(ye)!==-1&&(this.ctx.lineJoin=ye,this.pdf.setLineJoin(ye))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ye){isNaN(ye)||(this.ctx.miterLimit=ye,this.pdf.setMiterLimit(ye))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ye){this.ctx.textBaseline=ye}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ye){["right","end","center","left","start"].indexOf(ye)!==-1&&(this.ctx.textAlign=ye)}});var pe=null;function Ee(ye,re){if(pe===null){var Ye=function(Be){var ke=[];return Object.keys(Be).forEach(function(Te){Be[Te].forEach(function($e){var Me=null;switch($e){case"bold":Me={family:Te,weight:"bold"};break;case"italic":Me={family:Te,style:"italic"};break;case"bolditalic":Me={family:Te,weight:"bold",style:"italic"};break;case"":case"normal":Me={family:Te}}Me!==null&&(Me.ref={name:Te,style:$e},ke.push(Me))})}),ke}(ye.getFontList());pe=function(Be){for(var ke={},Te=0;Te<Be.length;++Te){var $e=M0(Be[Te]),Me=$e.family,Ve=$e.stretch,Ze=$e.style,it=$e.weight;ke[Me]=ke[Me]||{},ke[Me][Ve]=ke[Me][Ve]||{},ke[Me][Ve][Ze]=ke[Me][Ve][Ze]||{},ke[Me][Ve][Ze][it]=$e}return ke}(Ye.concat(re))}return pe}var De=null;Object.defineProperty(this,"fontFaces",{get:function(){return De},set:function(ye){pe=null,De=ye}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ye){var re;if(this.ctx.font=ye,(re=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ye))!==null){var Ye=re[1];re[2];var Be=re[3],ke=re[4];re[5];var Te=re[6],$e=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ke)[2];ke=Math.floor($e==="px"?parseFloat(ke)*this.pdf.internal.scaleFactor:$e==="em"?parseFloat(ke)*this.pdf.getFontSize():parseFloat(ke)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ke);var Me=function(st){var bt,Fe,Jr=[],Pt=st.trim();if(Pt==="")return Pv;if(Pt in Aw)return[Aw[Pt]];for(;Pt!=="";){switch(Fe=null,bt=(Pt=Pw(Pt)).charAt(0)){case'"':case"'":Fe=xG(Pt.substring(1),bt);break;default:Fe=wG(Pt)}if(Fe===null||(Jr.push(Fe[0]),(Pt=Pw(Fe[1]))!==""&&Pt.charAt(0)!==","))return Pv;Pt=Pt.replace(/^,/,"")}return Jr}(Te);if(this.fontFaces){var Ve=bG(Ee(this.pdf,this.fontFaces),Me.map(function(st){return{family:st,stretch:"normal",weight:Be,style:Ye}}));this.pdf.setFont(Ve.ref.name,Ve.ref.style)}else{var Ze="";(Be==="bold"||parseInt(Be,10)>=700||Ye==="bold")&&(Ze="bold"),Ye==="italic"&&(Ze+="italic"),Ze.length===0&&(Ze="normal");for(var it="",mt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},xt=0;xt<Me.length;xt++){if(this.pdf.internal.getFont(Me[xt],Ze,{noFallback:!0,disableWarning:!0})!==void 0){it=Me[xt];break}if(Ze==="bolditalic"&&this.pdf.internal.getFont(Me[xt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)it=Me[xt],Ze="bold";else if(this.pdf.internal.getFont(Me[xt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){it=Me[xt],Ze="normal";break}}if(it===""){for(var kt=0;kt<Me.length;kt++)if(mt[Me[kt]]){it=mt[Me[kt]];break}}it=it===""?"Times":it,this.pdf.setFont(it,Ze)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ye){this.ctx.globalCompositeOperation=ye}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ye){this.ctx.globalAlpha=ye}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ye){this.ctx.lineDashOffset=ye,ae.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ye){this.ctx.lineDash=ye,ae.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ye){this.ctx.ignoreClearRect=!!ye}})};f.prototype.setLineDash=function(D){this.lineDash=D},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){_.call(this,"fill",!1)},f.prototype.stroke=function(){_.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(D,W){if(isNaN(D)||isNaN(W))throw qt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Q=this.ctx.transform.applyToPoint(new o(D,W));this.path.push({type:"mt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(D,W)},f.prototype.closePath=function(){var D=new o(0,0),W=0;for(W=this.path.length-1;W!==-1;W--)if(this.path[W].type==="begin"&&jt(this.path[W+1])==="object"&&typeof this.path[W+1].x=="number"){D=new o(this.path[W+1].x,this.path[W+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(D.x,D.y)},f.prototype.lineTo=function(D,W){if(isNaN(D)||isNaN(W))throw qt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Q=this.ctx.transform.applyToPoint(new o(D,W));this.path.push({type:"lt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(Q.x,Q.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),_.call(this,null,!0)},f.prototype.quadraticCurveTo=function(D,W,Q,ne){if(isNaN(Q)||isNaN(ne)||isNaN(D)||isNaN(W))throw qt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var se=this.ctx.transform.applyToPoint(new o(Q,ne)),he=this.ctx.transform.applyToPoint(new o(D,W));this.path.push({type:"qct",x1:he.x,y1:he.y,x:se.x,y:se.y}),this.ctx.lastPoint=new o(se.x,se.y)},f.prototype.bezierCurveTo=function(D,W,Q,ne,se,he){if(isNaN(se)||isNaN(he)||isNaN(D)||isNaN(W)||isNaN(Q)||isNaN(ne))throw qt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var de=this.ctx.transform.applyToPoint(new o(se,he)),ie=this.ctx.transform.applyToPoint(new o(D,W)),xe=this.ctx.transform.applyToPoint(new o(Q,ne));this.path.push({type:"bct",x1:ie.x,y1:ie.y,x2:xe.x,y2:xe.y,x:de.x,y:de.y}),this.ctx.lastPoint=new o(de.x,de.y)},f.prototype.arc=function(D,W,Q,ne,se,he){if(isNaN(D)||isNaN(W)||isNaN(Q)||isNaN(ne)||isNaN(se))throw qt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(he=!!he,!this.ctx.transform.isIdentity){var de=this.ctx.transform.applyToPoint(new o(D,W));D=de.x,W=de.y;var ie=this.ctx.transform.applyToPoint(new o(0,Q)),xe=this.ctx.transform.applyToPoint(new o(0,0));Q=Math.sqrt(Math.pow(ie.x-xe.x,2)+Math.pow(ie.y-xe.y,2))}Math.abs(se-ne)>=2*Math.PI&&(ne=0,se=2*Math.PI),this.path.push({type:"arc",x:D,y:W,radius:Q,startAngle:ne,endAngle:se,counterclockwise:he})},f.prototype.arcTo=function(D,W,Q,ne,se){throw new Error("arcTo not implemented.")},f.prototype.rect=function(D,W,Q,ne){if(isNaN(D)||isNaN(W)||isNaN(Q)||isNaN(ne))throw qt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(D,W),this.lineTo(D+Q,W),this.lineTo(D+Q,W+ne),this.lineTo(D,W+ne),this.lineTo(D,W),this.lineTo(D+Q,W),this.lineTo(D,W)},f.prototype.fillRect=function(D,W,Q,ne){if(isNaN(D)||isNaN(W)||isNaN(Q)||isNaN(ne))throw qt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var se={};this.lineCap!=="butt"&&(se.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(se.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(D,W,Q,ne),this.fill(),se.hasOwnProperty("lineCap")&&(this.lineCap=se.lineCap),se.hasOwnProperty("lineJoin")&&(this.lineJoin=se.lineJoin)}},f.prototype.strokeRect=function(D,W,Q,ne){if(isNaN(D)||isNaN(W)||isNaN(Q)||isNaN(ne))throw qt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(D,W,Q,ne),this.stroke())},f.prototype.clearRect=function(D,W,Q,ne){if(isNaN(D)||isNaN(W)||isNaN(Q)||isNaN(ne))throw qt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(D,W,Q,ne))},f.prototype.save=function(D){D=typeof D!="boolean"||D;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("q");if(this.pdf.setPage(W),D){this.ctx.fontSize=this.pdf.internal.getFontSize();var ne=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ne}},f.prototype.restore=function(D){D=typeof D!="boolean"||D;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("Q");this.pdf.setPage(W),D&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(D){var W,Q,ne,se;if(D.isCanvasGradient===!0&&(D=D.getColor()),!D)return{r:0,g:0,b:0,a:0,style:D};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(D))W=0,Q=0,ne=0,se=0;else{var he=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(D);if(he!==null)W=parseInt(he[1]),Q=parseInt(he[2]),ne=parseInt(he[3]),se=1;else if((he=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(D))!==null)W=parseInt(he[1]),Q=parseInt(he[2]),ne=parseInt(he[3]),se=parseFloat(he[4]);else{if(se=1,typeof D=="string"&&D.charAt(0)!=="#"){var de=new MA(D);D=de.ok?de.toHex():"#000000"}D.length===4?(W=D.substring(1,2),W+=W,Q=D.substring(2,3),Q+=Q,ne=D.substring(3,4),ne+=ne):(W=D.substring(1,3),Q=D.substring(3,5),ne=D.substring(5,7)),W=parseInt(W,16),Q=parseInt(Q,16),ne=parseInt(ne,16)}}return{r:W,g:Q,b:ne,a:se,style:D}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(D,W,Q,ne){if(isNaN(W)||isNaN(Q)||typeof D!="string")throw qt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ne=isNaN(ne)?void 0:ne,!p.call(this)){var se=X(this.ctx.transform.rotation),he=this.ctx.transform.scaleX;C.call(this,{text:D,x:W,y:Q,scale:he,angle:se,align:this.textAlign,maxWidth:ne})}},f.prototype.strokeText=function(D,W,Q,ne){if(isNaN(W)||isNaN(Q)||typeof D!="string")throw qt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){ne=isNaN(ne)?void 0:ne;var se=X(this.ctx.transform.rotation),he=this.ctx.transform.scaleX;C.call(this,{text:D,x:W,y:Q,scale:he,renderingMode:"stroke",angle:se,align:this.textAlign,maxWidth:ne})}},f.prototype.measureText=function(D){if(typeof D!="string")throw qt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var W=this.pdf,Q=this.pdf.internal.scaleFactor,ne=W.internal.getFontSize(),se=W.getStringUnitWidth(D)*ne/W.internal.scaleFactor,he=function(de){var ie=(de=de||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ie}}),this};return new he({width:se*=Math.round(96*Q/72*1e4)/1e4})},f.prototype.scale=function(D,W){if(isNaN(D)||isNaN(W))throw qt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Q=new c(D,0,0,W,0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},f.prototype.rotate=function(D){if(isNaN(D))throw qt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var W=new c(Math.cos(D),Math.sin(D),-Math.sin(D),Math.cos(D),0,0);this.ctx.transform=this.ctx.transform.multiply(W)},f.prototype.translate=function(D,W){if(isNaN(D)||isNaN(W))throw qt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Q=new c(1,0,0,1,D,W);this.ctx.transform=this.ctx.transform.multiply(Q)},f.prototype.transform=function(D,W,Q,ne,se,he){if(isNaN(D)||isNaN(W)||isNaN(Q)||isNaN(ne)||isNaN(se)||isNaN(he))throw qt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var de=new c(D,W,Q,ne,se,he);this.ctx.transform=this.ctx.transform.multiply(de)},f.prototype.setTransform=function(D,W,Q,ne,se,he){D=isNaN(D)?1:D,W=isNaN(W)?0:W,Q=isNaN(Q)?0:Q,ne=isNaN(ne)?1:ne,se=isNaN(se)?0:se,he=isNaN(he)?0:he,this.ctx.transform=new c(D,W,Q,ne,se,he)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(D,W,Q,ne,se,he,de,ie,xe){var be=this.pdf.getImageProperties(D),pe=1,Ee=1,De=1,ye=1;ne!==void 0&&ie!==void 0&&(De=ie/ne,ye=xe/se,pe=be.width/ne*ie/ne,Ee=be.height/se*xe/se),he===void 0&&(he=W,de=Q,W=0,Q=0),ne!==void 0&&ie===void 0&&(ie=ne,xe=se),ne===void 0&&ie===void 0&&(ie=be.width,xe=be.height);for(var re,Ye=this.ctx.transform.decompose(),Be=X(Ye.rotate.shx),ke=new c,Te=(ke=(ke=(ke=ke.multiply(Ye.translate)).multiply(Ye.skew)).multiply(Ye.scale)).applyToRectangle(new l(he-W*De,de-Q*ye,ne*pe,se*Ee)),$e=x.call(this,Te),Me=[],Ve=0;Ve<$e.length;Ve+=1)Me.indexOf($e[Ve])===-1&&Me.push($e[Ve]);if(N(Me),this.autoPaging)for(var Ze=Me[0],it=Me[Me.length-1],mt=Ze;mt<it+1;mt++){this.pdf.setPage(mt);var xt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],kt=mt===1?this.posY+this.margin[0]:this.margin[0],st=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],bt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Fe=mt===1?0:st+(mt-2)*bt;if(this.ctx.clip_path.length!==0){var Jr=this.path;re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(re,this.posX+this.margin[3],-Fe+kt+this.ctx.prevPageLastElemOffset),w.call(this,"fill",!0),this.path=Jr}var Pt=JSON.parse(JSON.stringify(Te));Pt=y([Pt],this.posX+this.margin[3],-Fe+kt+this.ctx.prevPageLastElemOffset)[0];var ga=(mt>Ze||mt<it)&&g.call(this);ga&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],xt,bt,null).clip().discardPath()),this.pdf.addImage(D,"JPEG",Pt.x,Pt.y,Pt.w,Pt.h,null,null,Be),ga&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(D,"JPEG",Te.x,Te.y,Te.w,Te.h,null,null,Be)};var x=function(D,W,Q){var ne=[];W=W||this.pdf.internal.pageSize.width,Q=Q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var se=this.posY+this.ctx.prevPageLastElemOffset;switch(D.type){default:case"mt":case"lt":ne.push(Math.floor((D.y+se)/Q)+1);break;case"arc":ne.push(Math.floor((D.y+se-D.radius)/Q)+1),ne.push(Math.floor((D.y+se+D.radius)/Q)+1);break;case"qct":var he=Y(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x,D.y);ne.push(Math.floor((he.y+se)/Q)+1),ne.push(Math.floor((he.y+he.h+se)/Q)+1);break;case"bct":var de=Z(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x2,D.y2,D.x,D.y);ne.push(Math.floor((de.y+se)/Q)+1),ne.push(Math.floor((de.y+de.h+se)/Q)+1);break;case"rect":ne.push(Math.floor((D.y+se)/Q)+1),ne.push(Math.floor((D.y+D.h+se)/Q)+1)}for(var ie=0;ie<ne.length;ie+=1)for(;this.pdf.internal.getNumberOfPages()<ne[ie];)b.call(this);return ne},b=function(){var D=this.fillStyle,W=this.strokeStyle,Q=this.font,ne=this.lineCap,se=this.lineWidth,he=this.lineJoin;this.pdf.addPage(),this.fillStyle=D,this.strokeStyle=W,this.font=Q,this.lineCap=ne,this.lineWidth=se,this.lineJoin=he},y=function(D,W,Q){for(var ne=0;ne<D.length;ne++)switch(D[ne].type){case"bct":D[ne].x2+=W,D[ne].y2+=Q;case"qct":D[ne].x1+=W,D[ne].y1+=Q;case"mt":case"lt":case"arc":default:D[ne].x+=W,D[ne].y+=Q}return D},N=function(D){return D.sort(function(W,Q){return W-Q})},_=function(D,W){for(var Q,ne,se=this.fillStyle,he=this.strokeStyle,de=this.lineCap,ie=this.lineWidth,xe=Math.abs(ie*this.ctx.transform.scaleX),be=this.lineJoin,pe=JSON.parse(JSON.stringify(this.path)),Ee=JSON.parse(JSON.stringify(this.path)),De=[],ye=0;ye<Ee.length;ye++)if(Ee[ye].x!==void 0)for(var re=x.call(this,Ee[ye]),Ye=0;Ye<re.length;Ye+=1)De.indexOf(re[Ye])===-1&&De.push(re[Ye]);for(var Be=0;Be<De.length;Be++)for(;this.pdf.internal.getNumberOfPages()<De[Be];)b.call(this);if(N(De),this.autoPaging)for(var ke=De[0],Te=De[De.length-1],$e=ke;$e<Te+1;$e++){this.pdf.setPage($e),this.fillStyle=se,this.strokeStyle=he,this.lineCap=de,this.lineWidth=xe,this.lineJoin=be;var Me=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ve=$e===1?this.posY+this.margin[0]:this.margin[0],Ze=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],it=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],mt=$e===1?0:Ze+($e-2)*it;if(this.ctx.clip_path.length!==0){var xt=this.path;Q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(Q,this.posX+this.margin[3],-mt+Ve+this.ctx.prevPageLastElemOffset),w.call(this,D,!0),this.path=xt}if(ne=JSON.parse(JSON.stringify(pe)),this.path=y(ne,this.posX+this.margin[3],-mt+Ve+this.ctx.prevPageLastElemOffset),W===!1||$e===0){var kt=($e>ke||$e<Te)&&g.call(this);kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Me,it,null).clip().discardPath()),w.call(this,D,W),kt&&this.pdf.restoreGraphicsState()}this.lineWidth=ie}else this.lineWidth=xe,w.call(this,D,W),this.lineWidth=ie;this.path=pe},w=function(D,W){if((D!=="stroke"||W||!v.call(this))&&(D==="stroke"||W||!p.call(this))){for(var Q,ne,se=[],he=this.path,de=0;de<he.length;de++){var ie=he[de];switch(ie.type){case"begin":se.push({begin:!0});break;case"close":se.push({close:!0});break;case"mt":se.push({start:ie,deltas:[],abs:[]});break;case"lt":var xe=se.length;if(he[de-1]&&!isNaN(he[de-1].x)&&(Q=[ie.x-he[de-1].x,ie.y-he[de-1].y],xe>0)){for(;xe>=0;xe--)if(se[xe-1].close!==!0&&se[xe-1].begin!==!0){se[xe-1].deltas.push(Q),se[xe-1].abs.push(ie);break}}break;case"bct":Q=[ie.x1-he[de-1].x,ie.y1-he[de-1].y,ie.x2-he[de-1].x,ie.y2-he[de-1].y,ie.x-he[de-1].x,ie.y-he[de-1].y],se[se.length-1].deltas.push(Q);break;case"qct":var be=he[de-1].x+2/3*(ie.x1-he[de-1].x),pe=he[de-1].y+2/3*(ie.y1-he[de-1].y),Ee=ie.x+2/3*(ie.x1-ie.x),De=ie.y+2/3*(ie.y1-ie.y),ye=ie.x,re=ie.y;Q=[be-he[de-1].x,pe-he[de-1].y,Ee-he[de-1].x,De-he[de-1].y,ye-he[de-1].x,re-he[de-1].y],se[se.length-1].deltas.push(Q);break;case"arc":se.push({deltas:[],abs:[],arc:!0}),Array.isArray(se[se.length-1].abs)&&se[se.length-1].abs.push(ie)}}ne=W?null:D==="stroke"?"stroke":"fill";for(var Ye=!1,Be=0;Be<se.length;Be++)if(se[Be].arc)for(var ke=se[Be].abs,Te=0;Te<ke.length;Te++){var $e=ke[Te];$e.type==="arc"?O.call(this,$e.x,$e.y,$e.radius,$e.startAngle,$e.endAngle,$e.counterclockwise,void 0,W,!Ye):L.call(this,$e.x,$e.y),Ye=!0}else if(se[Be].close===!0)this.pdf.internal.out("h"),Ye=!1;else if(se[Be].begin!==!0){var Me=se[Be].start.x,Ve=se[Be].start.y;R.call(this,se[Be].deltas,Me,Ve),Ye=!0}ne&&T.call(this,ne),W&&I.call(this)}},S=function(D){var W=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Q=W*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return D-Q;case"top":return D+W-Q;case"hanging":return D+W-2*Q;case"middle":return D+W/2-Q;case"ideographic":return D;case"alphabetic":default:return D}},P=function(D){return D+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var D=function(){};return D.colorStops=[],D.addColorStop=function(W,Q){this.colorStops.push([W,Q])},D.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},D.isCanvasGradient=!0,D},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var O=function(D,W,Q,ne,se,he,de,ie,xe){for(var be=F.call(this,Q,ne,se,he),pe=0;pe<be.length;pe++){var Ee=be[pe];pe===0&&(xe?k.call(this,Ee.x1+D,Ee.y1+W):L.call(this,Ee.x1+D,Ee.y1+W)),V.call(this,D,W,Ee.x2,Ee.y2,Ee.x3,Ee.y3,Ee.x4,Ee.y4)}ie?I.call(this):T.call(this,de)},T=function(D){switch(D){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},I=function(){this.pdf.clip(),this.pdf.discardPath()},k=function(D,W){this.pdf.internal.out(r(D)+" "+n(W)+" m")},C=function(D){var W;switch(D.align){case"right":case"end":W="right";break;case"center":W="center";break;case"left":case"start":default:W="left"}var Q=this.pdf.getTextDimensions(D.text),ne=S.call(this,D.y),se=P.call(this,ne)-Q.h,he=this.ctx.transform.applyToPoint(new o(D.x,ne)),de=this.ctx.transform.decompose(),ie=new c;ie=(ie=(ie=ie.multiply(de.translate)).multiply(de.skew)).multiply(de.scale);for(var xe,be,pe,Ee=this.ctx.transform.applyToRectangle(new l(D.x,ne,Q.w,Q.h)),De=ie.applyToRectangle(new l(D.x,se,Q.w,Q.h)),ye=x.call(this,De),re=[],Ye=0;Ye<ye.length;Ye+=1)re.indexOf(ye[Ye])===-1&&re.push(ye[Ye]);if(N(re),this.autoPaging)for(var Be=re[0],ke=re[re.length-1],Te=Be;Te<ke+1;Te++){this.pdf.setPage(Te);var $e=Te===1?this.posY+this.margin[0]:this.margin[0],Me=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ve=this.pdf.internal.pageSize.height-this.margin[2],Ze=Ve-this.margin[0],it=this.pdf.internal.pageSize.width-this.margin[1],mt=it-this.margin[3],xt=Te===1?0:Me+(Te-2)*Ze;if(this.ctx.clip_path.length!==0){var kt=this.path;xe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(xe,this.posX+this.margin[3],-1*xt+$e),w.call(this,"fill",!0),this.path=kt}var st=y([JSON.parse(JSON.stringify(De))],this.posX+this.margin[3],-xt+$e+this.ctx.prevPageLastElemOffset)[0];D.scale>=.01&&(be=this.pdf.internal.getFontSize(),this.pdf.setFontSize(be*D.scale),pe=this.lineWidth,this.lineWidth=pe*D.scale);var bt=this.autoPaging!=="text";if(bt||st.y+st.h<=Ve){if(bt||st.y>=$e&&st.x<=it){var Fe=bt?D.text:this.pdf.splitTextToSize(D.text,D.maxWidth||it-st.x)[0],Jr=y([JSON.parse(JSON.stringify(Ee))],this.posX+this.margin[3],-xt+$e+this.ctx.prevPageLastElemOffset)[0],Pt=bt&&(Te>Be||Te<ke)&&g.call(this);Pt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],mt,Ze,null).clip().discardPath()),this.pdf.text(Fe,Jr.x,Jr.y,{angle:D.angle,align:W,renderingMode:D.renderingMode}),Pt&&this.pdf.restoreGraphicsState()}}else st.y<Ve&&(this.ctx.prevPageLastElemOffset+=Ve-st.y);D.scale>=.01&&(this.pdf.setFontSize(be),this.lineWidth=pe)}else D.scale>=.01&&(be=this.pdf.internal.getFontSize(),this.pdf.setFontSize(be*D.scale),pe=this.lineWidth,this.lineWidth=pe*D.scale),this.pdf.text(D.text,he.x+this.posX,he.y+this.posY,{angle:D.angle,align:W,renderingMode:D.renderingMode,maxWidth:D.maxWidth}),D.scale>=.01&&(this.pdf.setFontSize(be),this.lineWidth=pe)},L=function(D,W,Q,ne){Q=Q||0,ne=ne||0,this.pdf.internal.out(r(D+Q)+" "+n(W+ne)+" l")},R=function(D,W,Q){return this.pdf.lines(D,W,Q,null,null)},V=function(D,W,Q,ne,se,he,de,ie){this.pdf.internal.out([t(a(Q+D)),t(i(ne+W)),t(a(se+D)),t(i(he+W)),t(a(de+D)),t(i(ie+W)),"c"].join(" "))},F=function(D,W,Q,ne){for(var se=2*Math.PI,he=Math.PI/2;W>Q;)W-=se;var de=Math.abs(Q-W);de<se&&ne&&(de=se-de);for(var ie=[],xe=ne?-1:1,be=W;de>1e-5;){var pe=be+xe*Math.min(de,he);ie.push(B.call(this,D,be,pe)),de-=Math.abs(pe-be),be=pe}return ie},B=function(D,W,Q){var ne=(Q-W)/2,se=D*Math.cos(ne),he=D*Math.sin(ne),de=se,ie=-he,xe=de*de+ie*ie,be=xe+de*se+ie*he,pe=4/3*(Math.sqrt(2*xe*be)-be)/(de*he-ie*se),Ee=de-pe*ie,De=ie+pe*de,ye=Ee,re=-De,Ye=ne+W,Be=Math.cos(Ye),ke=Math.sin(Ye);return{x1:D*Math.cos(W),y1:D*Math.sin(W),x2:Ee*Be-De*ke,y2:Ee*ke+De*Be,x3:ye*Be-re*ke,y3:ye*ke+re*Be,x4:D*Math.cos(Q),y4:D*Math.sin(Q)}},X=function(D){return 180*D/Math.PI},Y=function(D,W,Q,ne,se,he){var de=D+.5*(Q-D),ie=W+.5*(ne-W),xe=se+.5*(Q-se),be=he+.5*(ne-he),pe=Math.min(D,se,de,xe),Ee=Math.max(D,se,de,xe),De=Math.min(W,he,ie,be),ye=Math.max(W,he,ie,be);return new l(pe,De,Ee-pe,ye-De)},Z=function(D,W,Q,ne,se,he,de,ie){var xe,be,pe,Ee,De,ye,re,Ye,Be,ke,Te,$e,Me,Ve,Ze=Q-D,it=ne-W,mt=se-Q,xt=he-ne,kt=de-se,st=ie-he;for(be=0;be<41;be++)Be=(re=(pe=D+(xe=be/40)*Ze)+xe*((De=Q+xe*mt)-pe))+xe*(De+xe*(se+xe*kt-De)-re),ke=(Ye=(Ee=W+xe*it)+xe*((ye=ne+xe*xt)-Ee))+xe*(ye+xe*(he+xe*st-ye)-Ye),be==0?(Te=Be,$e=ke,Me=Be,Ve=ke):(Te=Math.min(Te,Be),$e=Math.min($e,ke),Me=Math.max(Me,Be),Ve=Math.max(Ve,ke));return new l(Math.round(Te),Math.round($e),Math.round(Me-Te),Math.round(Ve-$e))},ae=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var D,W,Q=(D=this.ctx.lineDash,W=this.ctx.lineDashOffset,JSON.stringify({lineDash:D,lineDashOffset:W}));this.prevLineDash!==Q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Q)}}})(tt.API),function(e){var t=function(i){var o,l,c,u,d,f,h,p,v,g;for(l=[],c=0,u=(i+=o="\0\0\0\0".slice(i.length%4||4)).length;u>c;c+=4)(d=(i.charCodeAt(c)<<24)+(i.charCodeAt(c+1)<<16)+(i.charCodeAt(c+2)<<8)+i.charCodeAt(c+3))!==0?(f=(d=((d=((d=((d=(d-(g=d%85))/85)-(v=d%85))/85)-(p=d%85))/85)-(h=d%85))/85)%85,l.push(f+33,h+33,p+33,v+33,g+33)):l.push(122);return function(x,b){for(var y=b;y>0;y--)x.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},r=function(i){var o,l,c,u,d,f=String,h="length",p=255,v="charCodeAt",g="slice",x="replace";for(i[g](-2),i=i[g](0,-2)[x](/\s/g,"")[x]("z","!!!!!"),c=[],u=0,d=(i+=o="uuuuu"[g](i[h]%5||5))[h];d>u;u+=5)l=52200625*(i[v](u)-33)+614125*(i[v](u+1)-33)+7225*(i[v](u+2)-33)+85*(i[v](u+3)-33)+(i[v](u+4)-33),c.push(p&l>>24,p&l>>16,p&l>>8,p&l);return function(b,y){for(var N=y;N>0;N--)b.pop()}(c,o[h]),f.fromCharCode.apply(f,c)},n=function(i){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),o.test(i)===!1)return"";for(var l="",c=0;c<i.length;c+=2)l+=String.fromCharCode("0x"+(i[c]+i[c+1]));return l},a=function(i){for(var o=new Uint8Array(i.length),l=i.length;l--;)o[l]=i.charCodeAt(l);return i=(o=P0(o)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};e.processDataByFilters=function(i,o){var l=0,c=i||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=a(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(tt.API),function(e){e.loadFile=function(t,r,n){return function(a,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(c,u,d){var f=new XMLHttpRequest,h=0,p=function(v){var g=v.length,x=[],b=String.fromCharCode;for(h=0;h<g;h+=1)x.push(b(255&v.charCodeAt(h)));return x.join("")};if(f.open("GET",c,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?d(p(this.responseText)):d(void 0)}),f.send(null),u&&f.status===200)return p(f.responseText)}(a,i,o)}catch{}return l}(t,r,n)},e.loadImageFile=e.loadFile}(tt.API),function(e){function t(){return(rt.html2canvas?Promise.resolve(rt.html2canvas):n0(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(rt.DOMPurify?Promise.resolve(rt.DOMPurify):n0(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var l=jt(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},a=function(o,l){var c=document.createElement(o);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},i=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),c);return u=(u=u.setProgress(1,o,1,[o])).set(l)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(o,l){return o.__proto__=l||i.prototype,o},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(r).then(function(c){return this.set({src:a("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},i.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function c(u,d){for(var f=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),h=u.firstChild;h;h=h.nextSibling)d!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||f.appendChild(c(h,d));return u.nodeType===1&&(u.nodeName==="CANVAS"?(f.width=u.width,f.height=u.height,f.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(f.value=u.value),f.addEventListener("load",function(){f.scrollTop=u.scrollTop,f.scrollLeft=u.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var h=0;h<u.length;++h){var p=u[h],v=p.src.find(function(g){return g.format==="truetype"});v&&c.addFont(v.url,p.ref.name,p.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,c.context2d.save(!0),l(this.prop.container,f)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},i.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},i.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},i.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in i.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},i.prototype.get=function(o,l){return this.then(function(){var c=o in i.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},i.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},i.prototype.setPageSize=function(o){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(o=o||tt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},i.prototype.setProgress=function(o,l,c,u){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(o,l,c,u){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},i.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(u,d){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(f){return c.updateProgress(null,u),f}).then(u,d).then(function(f){return c.updateProgress(1),f})})},i.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then,o&&(o=o.bind(this)),l&&(l=l.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),d=c.call(u,o,l);return i.convert(d,this.__proto__)},i.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},i.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},i.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return i.convert(l,this)},i.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},i.prototype.error=function(o){return this.then(function(){throw new Error(o)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,tt.getPageSize=function(o,l,c){if(jt(o)==="object"){var u=o;o=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var d,f=(""+c).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+l}var p,v=0,g=0;if(h.hasOwnProperty(f))v=h[f][1]/d,g=h[f][0]/d;else try{v=c[1],g=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",g>v&&(p=g,g=v,v=p);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",v>g&&(p=g,g=v,v=p)}return{width:g,height:v,unit:l,k:d,orientation:o}},e.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(M0):null;var c=new i(l);return l.worker?c:c.from(o).doCallback()}}(tt.API),tt.API.addJS=function(e){return kw=e,this.internal.events.subscribe("postPutResources",function(){ph=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(ph+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Ew=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+kw+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){ph!==void 0&&Ew!==void 0&&this.internal.out("/Names <</JavaScript "+ph+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var o=a[i],l=n.exec(o);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(i=0;i<u;i++){var f=r.internal.newObject();d.push(f);var h=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<d.length;i++)r.internal.write("(page_"+(i+1)+")"+d[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var o={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var o=n.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])}(tt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,i,o,l){var c,u=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(c=function(f){for(var h,p=256*f.charCodeAt(4)+f.charCodeAt(5),v=f.length,g={width:0,height:0,numcomponents:1},x=4;x<v;x+=2){if(x+=p,t.indexOf(f.charCodeAt(x+1))!==-1){h=256*f.charCodeAt(x+5)+f.charCodeAt(x+6),g={width:256*f.charCodeAt(x+7)+f.charCodeAt(x+8),height:h,numcomponents:f.charCodeAt(x+9)};break}p=256*f.charCodeAt(x+2)+f.charCodeAt(x+3)}return g}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}d={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:n,alias:a}}return d}}(tt.API);var bl,mh,Cw,Tw,Lw,jG=function(){var e,t,r;function n(i){var o,l,c,u,d,f,h,p,v,g,x,b,y,N;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(o=this.readUInt32(),v=(function(){var _,w;for(w=[],_=0;_<4;++_)w.push(String.fromCharCode(this.data[this.pos++]));return w}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),u=this.readUInt16()||100,f.delay=1e3*d/u,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(v==="fdAT"&&(this.pos+=4,o-=4),i=(f!=null?f.data:void 0)||this.imgData,b=0;0<=o?b<o:b>o;0<=o?++b:--b)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((g=c-this.transparency.indexed.length)>0)for(y=0;0<=g?y<g:y>g;0<=g?++y:--y)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":h=(x=this.read(o)).indexOf(0),p=String.fromCharCode.apply(String,x.slice(0,h)),this.text[p]=String.fromCharCode.apply(String,x.slice(h+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(N=this.colorType)===4||N===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var o,l;for(l=[],o=0;0<=i?o<i:o>i;0<=i?++o:--o)l.push(this.data[this.pos++]);return l},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var o=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*o),c=0,u=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function d(f,h,p,v){var g,x,b,y,N,_,w,S,P,O,T,I,k,C,L,R,V,F,B,X,Y,Z=Math.ceil((u.width-f)/p),ae=Math.ceil((u.height-h)/v),D=u.width==Z&&u.height==ae;for(C=o*Z,I=D?l:new Uint8Array(C*ae),_=i.length,k=0,x=0;k<ae&&c<_;){switch(i[c++]){case 0:for(y=V=0;V<C;y=V+=1)I[x++]=i[c++];break;case 1:for(y=F=0;F<C;y=F+=1)g=i[c++],N=y<o?0:I[x-o],I[x++]=(g+N)%256;break;case 2:for(y=B=0;B<C;y=B+=1)g=i[c++],b=(y-y%o)/o,L=k&&I[(k-1)*C+b*o+y%o],I[x++]=(L+g)%256;break;case 3:for(y=X=0;X<C;y=X+=1)g=i[c++],b=(y-y%o)/o,N=y<o?0:I[x-o],L=k&&I[(k-1)*C+b*o+y%o],I[x++]=(g+Math.floor((N+L)/2))%256;break;case 4:for(y=Y=0;Y<C;y=Y+=1)g=i[c++],b=(y-y%o)/o,N=y<o?0:I[x-o],k===0?L=R=0:(L=I[(k-1)*C+b*o+y%o],R=b&&I[(k-1)*C+(b-1)*o+y%o]),w=N+L-R,S=Math.abs(w-N),O=Math.abs(w-L),T=Math.abs(w-R),P=S<=O&&S<=T?N:O<=T?L:R,I[x++]=(g+P)%256;break;default:throw new Error("Invalid filter algorithm: "+i[c-1])}if(!D){var W=((h+k*v)*u.width+f)*o,Q=k*C;for(y=0;y<Z;y+=1){for(var ne=0;ne<o;ne+=1)l[W++]=I[Q++];W+=(p-1)*o}}k++}}return i=eG(i),u.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),l},n.prototype.decodePalette=function(){var i,o,l,c,u,d,f,h,p;for(l=this.palette,d=this.transparency.indexed||[],u=new Uint8Array((d.length||0)+l.length),c=0,i=0,o=f=0,h=l.length;f<h;o=f+=3)u[c++]=l[o],u[c++]=l[o+1],u[c++]=l[o+2],u[c++]=(p=d[i++])!=null?p:255;return u},n.prototype.copyToImageData=function(i,o){var l,c,u,d,f,h,p,v,g,x,b;if(c=this.colors,g=null,l=this.hasAlphaChannel,this.palette.length&&(g=(b=this._decodedPalette)!=null?b:this._decodedPalette=this.decodePalette(),c=4,l=!0),v=(u=i.data||i).length,f=g||o,d=h=0,c===1)for(;d<v;)p=g?4*o[d/4]:h,x=f[p++],u[d++]=x,u[d++]=x,u[d++]=x,u[d++]=l?f[p++]:255,h=p;else for(;d<v;)p=g?4*o[d/4]:h,u[d++]=f[p++],u[d++]=f[p++],u[d++]=f[p++],u[d++]=l?f[p++]:255,h=p},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var a=function(){if(Object.prototype.toString.call(rt)==="[object Window]"){try{t=rt.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return a(),e=function(i){var o;if(a()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var o,l,c,u,d,f,h,p;if(this.animation){for(p=[],l=d=0,f=(h=this.animation.frames).length;d<f;l=++d)o=h[l],c=i.createImageData(o.width,o.height),u=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(c,u),o.imageData=c,p.push(o.image=e(c));return p}},n.prototype.renderFrame=function(i,o){var l,c,u;return l=(c=this.animation.frames)[o],u=c[o-1],o===0&&i.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?i.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&i.putImageData(u.imageData,u.xOffset,u.yOffset),l.blendOp===0&&i.clearRect(l.xOffset,l.yOffset,l.width,l.height),i.drawImage(l.image,l.xOffset,l.yOffset)},n.prototype.animate=function(i){var o,l,c,u,d,f,h=this;return l=0,f=this.animation,u=f.numFrames,c=f.frames,d=f.numPlays,(o=function(){var p,v;if(p=l++%u,v=c[p],h.renderFrame(i,p),u>1&&l/u<d)return h.animation._timeout=setTimeout(o,v.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var o,l;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,o=i.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(l=o.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),o.putImageData(l,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function NG(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,o=1<<(7&a)+1;e[t++],e[t++];var l=null,c=null;i&&(l=t,c=o,t+=3*o);var u=!0,d=[],f=0,h=null,p=0,v=null;for(this.width=r,this.height=n;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,v=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((k=e[t++])>=0))throw Error("Invalid block size");if(k===0)break;t+=k}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var g=e[t++];f=e[t++]|e[t++]<<8,h=e[t++],!(1&g)&&(h=null),p=g>>2&7,t++;break;case 254:for(;;){if(!((k=e[t++])>=0))throw Error("Invalid block size");if(k===0)break;t+=k}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var x=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,N=e[t++]|e[t++]<<8,_=e[t++],w=_>>6&1,S=1<<(7&_)+1,P=l,O=c,T=!1;_>>7&&(T=!0,P=t,O=S,t+=3*S);var I=t;for(t++;;){var k;if(!((k=e[t++])>=0))throw Error("Invalid block size");if(k===0)break;t+=k}d.push({x,y:b,width:y,height:N,has_local_palette:T,palette_offset:P,palette_size:O,data_offset:I,data_length:t-I,transparent_index:h,interlaced:!!w,delay:f,disposal:p});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return v},this.frameInfo=function(C){if(C<0||C>=d.length)throw new Error("Frame index out of range.");return d[C]},this.decodeAndBlitFrameBGRA=function(C,L){var R=this.frameInfo(C),V=R.width*R.height,F=new Uint8Array(V);Mw(e,R.data_offset,F,V);var B=R.palette_offset,X=R.transparent_index;X===null&&(X=256);var Y=R.width,Z=r-Y,ae=Y,D=4*(R.y*r+R.x),W=4*((R.y+R.height)*r+R.x),Q=D,ne=4*Z;R.interlaced===!0&&(ne+=4*r*7);for(var se=8,he=0,de=F.length;he<de;++he){var ie=F[he];if(ae===0&&(ae=Y,(Q+=ne)>=W&&(ne=4*Z+4*r*(se-1),Q=D+(Y+Z)*(se<<1),se>>=1)),ie===X)Q+=4;else{var xe=e[B+3*ie],be=e[B+3*ie+1],pe=e[B+3*ie+2];L[Q++]=pe,L[Q++]=be,L[Q++]=xe,L[Q++]=255}--ae}},this.decodeAndBlitFrameRGBA=function(C,L){var R=this.frameInfo(C),V=R.width*R.height,F=new Uint8Array(V);Mw(e,R.data_offset,F,V);var B=R.palette_offset,X=R.transparent_index;X===null&&(X=256);var Y=R.width,Z=r-Y,ae=Y,D=4*(R.y*r+R.x),W=4*((R.y+R.height)*r+R.x),Q=D,ne=4*Z;R.interlaced===!0&&(ne+=4*r*7);for(var se=8,he=0,de=F.length;he<de;++he){var ie=F[he];if(ae===0&&(ae=Y,(Q+=ne)>=W&&(ne=4*Z+4*r*(se-1),Q=D+(Y+Z)*(se<<1),se>>=1)),ie===X)Q+=4;else{var xe=e[B+3*ie],be=e[B+3*ie+1],pe=e[B+3*ie+2];L[Q++]=xe,L[Q++]=be,L[Q++]=pe,L[Q++]=255}--ae}}}function Mw(e,t,r,n){for(var a=e[t++],i=1<<a,o=i+1,l=o+1,c=a+1,u=(1<<c)-1,d=0,f=0,h=0,p=e[t++],v=new Int32Array(4096),g=null;;){for(;d<16&&p!==0;)f|=e[t++]<<d,d+=8,p===1?p=e[t++]:--p;if(d<c)break;var x=f&u;if(f>>=c,d-=c,x!==i){if(x===o)break;for(var b=x<l?x:g,y=0,N=b;N>i;)N=v[N]>>8,++y;var _=N;if(h+y+(b!==x?1:0)>n)return void qt.log("Warning, gif stream longer than expected.");r[h++]=_;var w=h+=y;for(b!==x&&(r[h++]=_),N=b;y--;)N=v[N],r[--w]=255&N,N>>=8;g!==null&&l<4096&&(v[l++]=g<<8|_,l>=u+1&&c<12&&(++c,u=u<<1|1)),g=x}else l=o+1,u=(1<<(c=a+1))-1,g=null}return h!==n&&qt.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Ev(e){var t,r,n,a,i,o=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),f=new Array(65535),h=new Array(65535),p=new Array(64),v=new Array(64),g=[],x=0,b=7,y=new Array(64),N=new Array(64),_=new Array(64),w=new Array(256),S=new Array(2048),P=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],O=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],I=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],k=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],C=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],L=[0,1,2,3,4,5,6,7,8,9,10,11],R=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],V=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function F(D,W){for(var Q=0,ne=0,se=new Array,he=1;he<=16;he++){for(var de=1;de<=D[he];de++)se[W[ne]]=[],se[W[ne]][0]=Q,se[W[ne]][1]=he,ne++,Q++;Q*=2}return se}function B(D){for(var W=D[0],Q=D[1]-1;Q>=0;)W&1<<Q&&(x|=1<<b),Q--,--b<0&&(x==255?(X(255),X(0)):X(x),b=7,x=0)}function X(D){g.push(D)}function Y(D){X(D>>8&255),X(255&D)}function Z(D,W,Q,ne,se){for(var he,de=se[0],ie=se[240],xe=function(ke,Te){var $e,Me,Ve,Ze,it,mt,xt,kt,st,bt,Fe=0;for(st=0;st<8;++st){$e=ke[Fe],Me=ke[Fe+1],Ve=ke[Fe+2],Ze=ke[Fe+3],it=ke[Fe+4],mt=ke[Fe+5],xt=ke[Fe+6];var Jr=$e+(kt=ke[Fe+7]),Pt=$e-kt,ga=Me+xt,Bt=Me-xt,rr=Ve+mt,Ga=Ve-mt,Tt=Ze+it,Ls=Ze-it,ir=Jr+Tt,va=Jr-Tt,bi=ga+rr,sr=ga-rr;ke[Fe]=ir+bi,ke[Fe+4]=ir-bi;var ct=.707106781*(sr+va);ke[Fe+2]=va+ct,ke[Fe+6]=va-ct;var Lt=.382683433*((ir=Ls+Ga)-(sr=Bt+Pt)),Ms=.5411961*ir+Lt,Gr=1.306562965*sr+Lt,Va=.707106781*(bi=Ga+Bt),Ya=Pt+Va,Qe=Pt-Va;ke[Fe+5]=Qe+Ms,ke[Fe+3]=Qe-Ms,ke[Fe+1]=Ya+Gr,ke[Fe+7]=Ya-Gr,Fe+=8}for(Fe=0,st=0;st<8;++st){$e=ke[Fe],Me=ke[Fe+8],Ve=ke[Fe+16],Ze=ke[Fe+24],it=ke[Fe+32],mt=ke[Fe+40],xt=ke[Fe+48];var ya=$e+(kt=ke[Fe+56]),Ka=$e-kt,jn=Me+xt,Pr=Me-xt,wr=Ve+mt,Mn=Ve-mt,zo=Ze+it,xi=Ze-it,ba=ya+zo,xa=ya-zo,wa=jn+wr,Xa=jn-wr;ke[Fe]=ba+wa,ke[Fe+32]=ba-wa;var Gn=.707106781*(Xa+xa);ke[Fe+16]=xa+Gn,ke[Fe+48]=xa-Gn;var Ja=.382683433*((ba=xi+Mn)-(Xa=Pr+Ka)),Ds=.5411961*ba+Ja,qo=1.306562965*Xa+Ja,Uo=.707106781*(wa=Mn+Pr),Wo=Ka+Uo,Ho=Ka-Uo;ke[Fe+40]=Ho+Ds,ke[Fe+24]=Ho-Ds,ke[Fe+8]=Wo+qo,ke[Fe+56]=Wo-qo,Fe++}for(st=0;st<64;++st)bt=ke[st]*Te[st],p[st]=bt>0?bt+.5|0:bt-.5|0;return p}(D,W),be=0;be<64;++be)v[P[be]]=xe[be];var pe=v[0]-Q;Q=v[0],pe==0?B(ne[0]):(B(ne[h[he=32767+pe]]),B(f[he]));for(var Ee=63;Ee>0&&v[Ee]==0;)Ee--;if(Ee==0)return B(de),Q;for(var De,ye=1;ye<=Ee;){for(var re=ye;v[ye]==0&&ye<=Ee;)++ye;var Ye=ye-re;if(Ye>=16){De=Ye>>4;for(var Be=1;Be<=De;++Be)B(ie);Ye&=15}he=32767+v[ye],B(se[(Ye<<4)+h[he]]),B(f[he]),ye++}return Ee!=63&&B(de),Q}function ae(D){D=Math.min(Math.max(D,1),100),i!=D&&(function(W){for(var Q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ne=0;ne<64;ne++){var se=o((Q[ne]*W+50)/100);se=Math.min(Math.max(se,1),255),l[P[ne]]=se}for(var he=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],de=0;de<64;de++){var ie=o((he[de]*W+50)/100);ie=Math.min(Math.max(ie,1),255),c[P[de]]=ie}for(var xe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],be=0,pe=0;pe<8;pe++)for(var Ee=0;Ee<8;Ee++)u[be]=1/(l[P[be]]*xe[pe]*xe[Ee]*8),d[be]=1/(c[P[be]]*xe[pe]*xe[Ee]*8),be++}(D<50?Math.floor(5e3/D):Math.floor(200-2*D)),i=D)}this.encode=function(D,W){W&&ae(W),g=new Array,x=0,b=7,Y(65496),Y(65504),Y(16),X(74),X(70),X(73),X(70),X(0),X(1),X(1),X(0),Y(1),Y(1),X(0),X(0),function(){Y(65499),Y(132),X(0);for(var Me=0;Me<64;Me++)X(l[Me]);X(1);for(var Ve=0;Ve<64;Ve++)X(c[Ve])}(),function(Me,Ve){Y(65472),Y(17),X(8),Y(Ve),Y(Me),X(3),X(1),X(17),X(0),X(2),X(17),X(1),X(3),X(17),X(1)}(D.width,D.height),function(){Y(65476),Y(418),X(0);for(var Me=0;Me<16;Me++)X(O[Me+1]);for(var Ve=0;Ve<=11;Ve++)X(T[Ve]);X(16);for(var Ze=0;Ze<16;Ze++)X(I[Ze+1]);for(var it=0;it<=161;it++)X(k[it]);X(1);for(var mt=0;mt<16;mt++)X(C[mt+1]);for(var xt=0;xt<=11;xt++)X(L[xt]);X(17);for(var kt=0;kt<16;kt++)X(R[kt+1]);for(var st=0;st<=161;st++)X(V[st])}(),Y(65498),Y(12),X(3),X(1),X(0),X(2),X(17),X(3),X(17),X(0),X(63),X(0);var Q=0,ne=0,se=0;x=0,b=7,this.encode.displayName="_encode_";for(var he,de,ie,xe,be,pe,Ee,De,ye,re=D.data,Ye=D.width,Be=D.height,ke=4*Ye,Te=0;Te<Be;){for(he=0;he<ke;){for(be=ke*Te+he,Ee=-1,De=0,ye=0;ye<64;ye++)pe=be+(De=ye>>3)*ke+(Ee=4*(7&ye)),Te+De>=Be&&(pe-=ke*(Te+1+De-Be)),he+Ee>=ke&&(pe-=he+Ee-ke+4),de=re[pe++],ie=re[pe++],xe=re[pe++],y[ye]=(S[de]+S[ie+256>>0]+S[xe+512>>0]>>16)-128,N[ye]=(S[de+768>>0]+S[ie+1024>>0]+S[xe+1280>>0]>>16)-128,_[ye]=(S[de+1280>>0]+S[ie+1536>>0]+S[xe+1792>>0]>>16)-128;Q=Z(y,u,Q,t,n),ne=Z(N,d,ne,r,a),se=Z(_,d,se,r,a),he+=32}Te+=8}if(b>=0){var $e=[];$e[1]=b+1,$e[0]=(1<<b+1)-1,B($e)}return Y(65497),new Uint8Array(g)},e=e||50,function(){for(var D=String.fromCharCode,W=0;W<256;W++)w[W]=D(W)}(),t=F(O,T),r=F(C,L),n=F(I,k),a=F(R,V),function(){for(var D=1,W=2,Q=1;Q<=15;Q++){for(var ne=D;ne<W;ne++)h[32767+ne]=Q,f[32767+ne]=[],f[32767+ne][1]=Q,f[32767+ne][0]=ne;for(var se=-(W-1);se<=-D;se++)h[32767+se]=Q,f[32767+se]=[],f[32767+se][1]=Q,f[32767+se][0]=W-1+se;D<<=1,W<<=1}}(),function(){for(var D=0;D<256;D++)S[D]=19595*D,S[D+256>>0]=38470*D,S[D+512>>0]=7471*D+32768,S[D+768>>0]=-11059*D,S[D+1024>>0]=-21709*D,S[D+1280>>0]=32768*D+8421375,S[D+1536>>0]=-27439*D,S[D+1792>>0]=-5329*D}(),ae(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Pa(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Dw(e){function t(O){if(!O)throw Error("assert :P")}function r(O,T,I){for(var k=0;4>k;k++)if(O[T+k]!=I.charCodeAt(k))return!0;return!1}function n(O,T,I,k,C){for(var L=0;L<C;L++)O[T+L]=I[k+L]}function a(O,T,I,k){for(var C=0;C<k;C++)O[T+C]=I}function i(O){return new Int32Array(O)}function o(O,T){for(var I=[],k=0;k<O;k++)I.push(new T);return I}function l(O,T){var I=[];return function k(C,L,R){for(var V=R[L],F=0;F<V&&(C.push(R.length>L+1?[]:new T),!(R.length<L+1));F++)k(C[F],L+1,R)}(I,0,O),I}var c=function(){var O=this;function T(m,j){for(var E=1<<j-1>>>0;m&E;)E>>>=1;return E?(m&E-1)+E:m}function I(m,j,E,M,z){t(!(M%E));do m[j+(M-=E)]=z;while(0<M)}function k(m,j,E,M,z){if(t(2328>=z),512>=z)var H=i(512);else if((H=i(z))==null)return 0;return function(G,K,J,ee,le,ge){var ve,fe,Oe=K,we=1<<J,ce=i(16),ue=i(16);for(t(le!=0),t(ee!=null),t(G!=null),t(0<J),fe=0;fe<le;++fe){if(15<ee[fe])return 0;++ce[ee[fe]]}if(ce[0]==le)return 0;for(ue[1]=0,ve=1;15>ve;++ve){if(ce[ve]>1<<ve)return 0;ue[ve+1]=ue[ve]+ce[ve]}for(fe=0;fe<le;++fe)ve=ee[fe],0<ee[fe]&&(ge[ue[ve]++]=fe);if(ue[15]==1)return(ee=new C).g=0,ee.value=ge[0],I(G,Oe,1,we,ee),we;var _e,Pe=-1,Ae=we-1,Ue=0,Ie=1,Je=1,Re=1<<J;for(fe=0,ve=1,le=2;ve<=J;++ve,le<<=1){if(Ie+=Je<<=1,0>(Je-=ce[ve]))return 0;for(;0<ce[ve];--ce[ve])(ee=new C).g=ve,ee.value=ge[fe++],I(G,Oe+Ue,le,Re,ee),Ue=T(Ue,ve)}for(ve=J+1,le=2;15>=ve;++ve,le<<=1){if(Ie+=Je<<=1,0>(Je-=ce[ve]))return 0;for(;0<ce[ve];--ce[ve]){if(ee=new C,(Ue&Ae)!=Pe){for(Oe+=Re,_e=1<<(Pe=ve)-J;15>Pe&&!(0>=(_e-=ce[Pe]));)++Pe,_e<<=1;we+=Re=1<<(_e=Pe-J),G[K+(Pe=Ue&Ae)].g=_e+J,G[K+Pe].value=Oe-K-Pe}ee.g=ve-J,ee.value=ge[fe++],I(G,Oe+(Ue>>J),le,Re,ee),Ue=T(Ue,ve)}}return Ie!=2*ue[15]-1?0:we}(m,j,E,M,z,H)}function C(){this.value=this.g=0}function L(){this.value=this.g=0}function R(){this.G=o(5,C),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Vr,L)}function V(m,j,E,M){t(m!=null),t(j!=null),t(2147483648>M),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=j,m.pa=E,m.Jd=j,m.Yc=E+M,m.Zc=4<=M?E+M-4+1:E,he(m)}function F(m,j){for(var E=0;0<j--;)E|=ie(m,128)<<j;return E}function B(m,j){var E=F(m,j);return de(m)?-E:E}function X(m,j,E,M){var z,H=0;for(t(m!=null),t(j!=null),t(4294967288>M),m.Sb=M,m.Ra=0,m.u=0,m.h=0,4<M&&(M=4),z=0;z<M;++z)H+=j[E+z]<<8*z;m.Ra=H,m.bb=M,m.oa=j,m.pa=E}function Y(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<sl-8>>>0,++m.bb,m.u-=8;Q(m)&&(m.h=1,m.u=0)}function Z(m,j){if(t(0<=j),!m.h&&j<=il){var E=W(m)&al[j];return m.u+=j,Y(m),E}return m.h=1,m.u=0}function ae(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function D(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function W(m){return m.Ra>>>(m.u&sl-1)>>>0}function Q(m){return t(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>sl}function ne(m,j){m.u=j,m.h=Q(m)}function se(m){m.u>=hu&&(t(m.u>=hu),Y(m))}function he(m){t(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(t(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function de(m){return F(m,1)}function ie(m,j){var E=m.Ca;0>m.b&&he(m);var M=m.b,z=E*j>>>8,H=(m.I>>>M>z)+0;for(H?(E-=z,m.I-=z+1<<M>>>0):E=z+1,M=E,z=0;256<=M;)z+=8,M>>=8;return M=7^z+Sn[M],m.b-=M,m.Ca=(E<<M)-1,H}function xe(m,j,E){m[j+0]=E>>24&255,m[j+1]=E>>16&255,m[j+2]=E>>8&255,m[j+3]=E>>0&255}function be(m,j){return m[j+0]<<0|m[j+1]<<8}function pe(m,j){return be(m,j)|m[j+2]<<16}function Ee(m,j){return be(m,j)|be(m,j+2)<<16}function De(m,j){var E=1<<j;return t(m!=null),t(0<j),m.X=i(E),m.X==null?0:(m.Mb=32-j,m.Xa=j,1)}function ye(m,j){t(m!=null),t(j!=null),t(m.Xa==j.Xa),n(j.X,0,m.X,0,1<<j.Xa)}function re(){this.X=[],this.Xa=this.Mb=0}function Ye(m,j,E,M){t(E!=null),t(M!=null);var z=E[0],H=M[0];return z==0&&(z=(m*H+j/2)/j),H==0&&(H=(j*z+m/2)/m),0>=z||0>=H?0:(E[0]=z,M[0]=H,1)}function Be(m,j){return m+(1<<j)-1>>>j}function ke(m,j){return((4278255360&m)+(4278255360&j)>>>0&4278255360)+((16711935&m)+(16711935&j)>>>0&16711935)>>>0}function Te(m,j){O[j]=function(E,M,z,H,G,K,J){var ee;for(ee=0;ee<G;++ee){var le=O[m](K[J+ee-1],z,H+ee);K[J+ee]=ke(E[M+ee],le)}}}function $e(){this.ud=this.hd=this.jd=0}function Me(m,j){return((4278124286&(m^j))>>>1)+(m&j)>>>0}function Ve(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function Ze(m,j){return Ve(m+(m-j+.5>>1))}function it(m,j,E){return Math.abs(j-E)-Math.abs(m-E)}function mt(m,j,E,M,z,H,G){for(M=H[G-1],E=0;E<z;++E)H[G+E]=M=ke(m[j+E],M)}function xt(m,j,E,M,z){var H;for(H=0;H<E;++H){var G=m[j+H],K=G>>8&255,J=16711935&(J=(J=16711935&G)+((K<<16)+K));M[z+H]=(4278255360&G)+J>>>0}}function kt(m,j){j.jd=m>>0&255,j.hd=m>>8&255,j.ud=m>>16&255}function st(m,j,E,M,z,H){var G;for(G=0;G<M;++G){var K=j[E+G],J=K>>>8,ee=K,le=255&(le=(le=K>>>16)+((m.jd<<24>>24)*(J<<24>>24)>>>5));ee=255&(ee=(ee=ee+((m.hd<<24>>24)*(J<<24>>24)>>>5))+((m.ud<<24>>24)*(le<<24>>24)>>>5)),z[H+G]=(4278255360&K)+(le<<16)+ee}}function bt(m,j,E,M,z){O[j]=function(H,G,K,J,ee,le,ge,ve,fe){for(J=ge;J<ve;++J)for(ge=0;ge<fe;++ge)ee[le++]=z(K[M(H[G++])])},O[m]=function(H,G,K,J,ee,le,ge){var ve=8>>H.b,fe=H.Ea,Oe=H.K[0],we=H.w;if(8>ve)for(H=(1<<H.b)-1,we=(1<<ve)-1;G<K;++G){var ce,ue=0;for(ce=0;ce<fe;++ce)ce&H||(ue=M(J[ee++])),le[ge++]=z(Oe[ue&we]),ue>>=ve}else O["VP8LMapColor"+E](J,ee,Oe,we,le,ge,G,K,fe)}}function Fe(m,j,E,M,z){for(E=j+E;j<E;){var H=m[j++];M[z++]=H>>16&255,M[z++]=H>>8&255,M[z++]=H>>0&255}}function Jr(m,j,E,M,z){for(E=j+E;j<E;){var H=m[j++];M[z++]=H>>16&255,M[z++]=H>>8&255,M[z++]=H>>0&255,M[z++]=H>>24&255}}function Pt(m,j,E,M,z){for(E=j+E;j<E;){var H=(G=m[j++])>>16&240|G>>12&15,G=G>>0&240|G>>28&15;M[z++]=H,M[z++]=G}}function ga(m,j,E,M,z){for(E=j+E;j<E;){var H=(G=m[j++])>>16&248|G>>13&7,G=G>>5&224|G>>3&31;M[z++]=H,M[z++]=G}}function Bt(m,j,E,M,z){for(E=j+E;j<E;){var H=m[j++];M[z++]=H>>0&255,M[z++]=H>>8&255,M[z++]=H>>16&255}}function rr(m,j,E,M,z,H){if(H==0)for(E=j+E;j<E;)xe(M,((H=m[j++])[0]>>24|H[1]>>8&65280|H[2]<<8&16711680|H[3]<<24)>>>0),z+=32;else n(M,z,m,j,E)}function Ga(m,j){O[j][0]=O[m+"0"],O[j][1]=O[m+"1"],O[j][2]=O[m+"2"],O[j][3]=O[m+"3"],O[j][4]=O[m+"4"],O[j][5]=O[m+"5"],O[j][6]=O[m+"6"],O[j][7]=O[m+"7"],O[j][8]=O[m+"8"],O[j][9]=O[m+"9"],O[j][10]=O[m+"10"],O[j][11]=O[m+"11"],O[j][12]=O[m+"12"],O[j][13]=O[m+"13"],O[j][14]=O[m+"0"],O[j][15]=O[m+"0"]}function Tt(m){return m==Wg||m==Hg||m==Vf||m==Gg}function Ls(){this.eb=[],this.size=this.A=this.fb=0}function ir(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function va(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ls,this.f.kb=new ir,this.sd=null}function bi(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function sr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ct(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function Lt(m,j){var E=m.T,M=j.ba.f.RGBA,z=M.eb,H=M.fb+m.ka*M.A,G=Zn[j.ba.S],K=m.y,J=m.O,ee=m.f,le=m.N,ge=m.ea,ve=m.W,fe=j.cc,Oe=j.dc,we=j.Mc,ce=j.Nc,ue=m.ka,_e=m.ka+m.T,Pe=m.U,Ae=Pe+1>>1;for(ue==0?G(K,J,null,null,ee,le,ge,ve,ee,le,ge,ve,z,H,null,null,Pe):(G(j.ec,j.fc,K,J,fe,Oe,we,ce,ee,le,ge,ve,z,H-M.A,z,H,Pe),++E);ue+2<_e;ue+=2)fe=ee,Oe=le,we=ge,ce=ve,le+=m.Rc,ve+=m.Rc,H+=2*M.A,G(K,(J+=2*m.fa)-m.fa,K,J,fe,Oe,we,ce,ee,le,ge,ve,z,H-M.A,z,H,Pe);return J+=m.fa,m.j+_e<m.o?(n(j.ec,j.fc,K,J,Pe),n(j.cc,j.dc,ee,le,Ae),n(j.Mc,j.Nc,ge,ve,Ae),E--):1&_e||G(K,J,null,null,ee,le,ge,ve,ee,le,ge,ve,z,H+M.A,null,null,Pe),E}function Ms(m,j,E){var M=m.F,z=[m.J];if(M!=null){var H=m.U,G=j.ba.S,K=G==Gf||G==Vf;j=j.ba.f.RGBA;var J=[0],ee=m.ka;J[0]=m.T,m.Kb&&(ee==0?--J[0]:(--ee,z[0]-=m.width),m.j+m.ka+m.T==m.o&&(J[0]=m.o-m.j-ee));var le=j.eb;ee=j.fb+ee*j.A,m=Gt(M,z[0],m.width,H,J,le,ee+(K?0:3),j.A),t(E==J),m&&Tt(G)&&Xn(le,ee,K,H,J,j.A)}return 0}function Gr(m){var j=m.ma,E=j.ba.S,M=11>E,z=E==Wf||E==Hf||E==Gf||E==Ug||E==12||Tt(E);if(j.memory=null,j.Ib=null,j.Jb=null,j.Nd=null,!du(j.Oa,m,z?11:12))return 0;if(z&&Tt(E)&&Ce(),m.da)alert("todo:use_scaling");else{if(M){if(j.Ib=ct,m.Kb){if(E=m.U+1>>1,j.memory=i(m.U+2*E),j.memory==null)return 0;j.ec=j.memory,j.fc=0,j.cc=j.ec,j.dc=j.fc+m.U,j.Mc=j.cc,j.Nc=j.dc+E,j.Ib=Lt,Ce()}}else alert("todo:EmitYUV");z&&(j.Jb=Ms,M&&me())}if(M&&!l1){for(m=0;256>m;++m)OP[m]=89858*(m-128)+Kf>>Yf,kP[m]=-22014*(m-128)+Kf,EP[m]=-45773*(m-128),PP[m]=113618*(m-128)+Kf>>Yf;for(m=xu;m<Kg;++m)j=76283*(m-16)+Kf>>Yf,CP[m-xu]=Dn(j,255),TP[m-xu]=Dn(j+8>>4,15);l1=1}return 1}function Va(m){var j=m.ma,E=m.U,M=m.T;return t(!(1&m.ka)),0>=E||0>=M?0:(E=j.Ib(m,j),j.Jb!=null&&j.Jb(m,j,E),j.Dc+=E,1)}function Ya(m){m.ma.memory=null}function Qe(m,j,E,M){return Z(m,8)!=47?0:(j[0]=Z(m,14)+1,E[0]=Z(m,14)+1,M[0]=Z(m,1),Z(m,3)!=0?0:!m.h)}function ya(m,j){if(4>m)return m+1;var E=m-2>>1;return(2+(1&m)<<E)+Z(j,E)+1}function Ka(m,j){return 120<j?j-120:1<=(E=((E=hP[j-1])>>4)*m+(8-(15&E)))?E:1;var E}function jn(m,j,E){var M=W(E),z=m[j+=255&M].g-8;return 0<z&&(ne(E,E.u+8),M=W(E),j+=m[j].value,j+=M&(1<<z)-1),ne(E,E.u+m[j].g),m[j].value}function Pr(m,j,E){return E.g+=m.g,E.value+=m.value<<j>>>0,t(8>=E.g),m.g}function wr(m,j,E){var M=m.xc;return t((j=M==0?0:m.vc[m.md*(E>>M)+(j>>M)])<m.Wb),m.Ya[j]}function Mn(m,j,E,M){var z=m.ab,H=m.c*j,G=m.C;j=G+j;var K=E,J=M;for(M=m.Ta,E=m.Ua;0<z--;){var ee=m.gc[z],le=G,ge=j,ve=K,fe=J,Oe=(J=M,K=E,ee.Ea);switch(t(le<ge),t(ge<=ee.nc),ee.hc){case 2:If(ve,fe,(ge-le)*Oe,J,K);break;case 0:var we=le,ce=ge,ue=J,_e=K,Pe=(Re=ee).Ea;we==0&&(zg(ve,fe,null,null,1,ue,_e),mt(ve,fe+1,0,0,Pe-1,ue,_e+1),fe+=Pe,_e+=Pe,++we);for(var Ae=1<<Re.b,Ue=Ae-1,Ie=Be(Pe,Re.b),Je=Re.K,Re=Re.w+(we>>Re.b)*Ie;we<ce;){var Ct=Je,Mt=Re,At=1;for(pu(ve,fe,ue,_e-Pe,1,ue,_e);At<Pe;){var wt=(At&~Ue)+Ae;wt>Pe&&(wt=Pe),(0,Ji[Ct[Mt++]>>8&15])(ve,fe+ +At,ue,_e+At-Pe,wt-At,ue,_e+At),At=wt}fe+=Pe,_e+=Pe,++we&Ue||(Re+=Ie)}ge!=ee.nc&&n(J,K-Oe,J,K+(ge-le-1)*Oe,Oe);break;case 1:for(Oe=ve,ce=fe,Pe=(ve=ee.Ea)-(_e=ve&~(ue=(fe=1<<ee.b)-1)),we=Be(ve,ee.b),Ae=ee.K,ee=ee.w+(le>>ee.b)*we;le<ge;){for(Ue=Ae,Ie=ee,Je=new $e,Re=ce+_e,Ct=ce+ve;ce<Re;)kt(Ue[Ie++],Je),Bs(Je,Oe,ce,fe,J,K),ce+=fe,K+=fe;ce<Ct&&(kt(Ue[Ie++],Je),Bs(Je,Oe,ce,Pe,J,K),ce+=Pe,K+=Pe),++le&ue||(ee+=we)}break;case 3:if(ve==J&&fe==K&&0<ee.b){for(ce=J,ve=Oe=K+(ge-le)*Oe-(_e=(ge-le)*Be(ee.Ea,ee.b)),fe=J,ue=K,we=[],_e=(Pe=_e)-1;0<=_e;--_e)we[_e]=fe[ue+_e];for(_e=Pe-1;0<=_e;--_e)ce[ve+_e]=we[_e];Vn(ee,le,ge,J,Oe,J,K)}else Vn(ee,le,ge,ve,fe,J,K)}K=M,J=E}J!=E&&n(M,E,K,J,H)}function zo(m,j){var E=m.V,M=m.Ba+m.c*m.C,z=j-m.C;if(t(j<=m.l.o),t(16>=z),0<z){var H=m.l,G=m.Ta,K=m.Ua,J=H.width;if(Mn(m,z,E,M),z=K=[K],t((E=m.C)<(M=j)),t(H.v<H.va),M>H.o&&(M=H.o),E<H.j){var ee=H.j-E;E=H.j,z[0]+=ee*J}if(E>=M?E=0:(z[0]+=4*H.v,H.ka=E-H.j,H.U=H.va-H.v,H.T=M-E,E=1),E){if(K=K[0],11>(E=m.ca).S){var le=E.f.RGBA,ge=(M=E.S,z=H.U,H=H.T,ee=le.eb,le.A),ve=H;for(le=le.fb+m.Ma*le.A;0<ve--;){var fe=G,Oe=K,we=z,ce=ee,ue=le;switch(M){case Uf:_n(fe,Oe,we,ce,ue);break;case Wf:fn(fe,Oe,we,ce,ue);break;case Wg:fn(fe,Oe,we,ce,ue),Xn(ce,ue,0,we,1,0);break;case Qx:Si(fe,Oe,we,ce,ue);break;case Hf:rr(fe,Oe,we,ce,ue,1);break;case Hg:rr(fe,Oe,we,ce,ue,1),Xn(ce,ue,0,we,1,0);break;case Gf:rr(fe,Oe,we,ce,ue,0);break;case Vf:rr(fe,Oe,we,ce,ue,0),Xn(ce,ue,1,we,1,0);break;case Ug:Zi(fe,Oe,we,ce,ue);break;case Gg:Zi(fe,Oe,we,ce,ue),Ht(ce,ue,we,1,0);break;case e1:Ni(fe,Oe,we,ce,ue);break;default:t(0)}K+=J,le+=ge}m.Ma+=H}else alert("todo:EmitRescaledRowsYUVA");t(m.Ma<=E.height)}}m.C=j,t(m.C<=m.i)}function xi(m){var j;if(0<m.ua)return 0;for(j=0;j<m.Wb;++j){var E=m.Ya[j].G,M=m.Ya[j].H;if(0<E[1][M[1]+0].g||0<E[2][M[2]+0].g||0<E[3][M[3]+0].g)return 0}return 1}function ba(m,j,E,M,z,H){if(m.Z!=0){var G=m.qd,K=m.rd;for(t(rs[m.Z]!=null);j<E;++j)rs[m.Z](G,K,M,z,M,z,H),G=M,K=z,z+=H;m.qd=G,m.rd=K}}function xa(m,j){var E=m.l.ma,M=E.Z==0||E.Z==1?m.l.j:m.C;if(M=m.C<M?M:m.C,t(j<=m.l.o),j>M){var z=m.l.width,H=E.ca,G=E.tb+z*M,K=m.V,J=m.Ba+m.c*M,ee=m.gc;t(m.ab==1),t(ee[0].hc==3),Rf(ee[0],M,j,K,J,H,G),ba(E,M,j,H,G,z)}m.C=m.Ma=j}function wa(m,j,E,M,z,H,G){var K=m.$/M,J=m.$%M,ee=m.m,le=m.s,ge=E+m.$,ve=ge;z=E+M*z;var fe=E+M*H,Oe=280+le.ua,we=m.Pb?K:16777216,ce=0<le.ua?le.Wa:null,ue=le.wc,_e=ge<fe?wr(le,J,K):null;t(m.C<H),t(fe<=z);var Pe=!1;e:for(;;){for(;Pe||ge<fe;){var Ae=0;if(K>=we){var Ue=ge-E;t((we=m).Pb),we.wd=we.m,we.xd=Ue,0<we.s.ua&&ye(we.s.Wa,we.s.vb),we=K+mP}if(J&ue||(_e=wr(le,J,K)),t(_e!=null),_e.Qb&&(j[ge]=_e.qb,Pe=!0),!Pe)if(se(ee),_e.jc){Ae=ee,Ue=j;var Ie=ge,Je=_e.pd[W(Ae)&Vr-1];t(_e.jc),256>Je.g?(ne(Ae,Ae.u+Je.g),Ue[Ie]=Je.value,Ae=0):(ne(Ae,Ae.u+Je.g-256),t(256<=Je.value),Ae=Je.value),Ae==0&&(Pe=!0)}else Ae=jn(_e.G[0],_e.H[0],ee);if(ee.h)break;if(Pe||256>Ae){if(!Pe)if(_e.nd)j[ge]=(_e.qb|Ae<<8)>>>0;else{if(se(ee),Pe=jn(_e.G[1],_e.H[1],ee),se(ee),Ue=jn(_e.G[2],_e.H[2],ee),Ie=jn(_e.G[3],_e.H[3],ee),ee.h)break;j[ge]=(Ie<<24|Pe<<16|Ae<<8|Ue)>>>0}if(Pe=!1,++ge,++J>=M&&(J=0,++K,G!=null&&K<=H&&!(K%16)&&G(m,K),ce!=null))for(;ve<ge;)Ae=j[ve++],ce.X[(506832829*Ae&4294967295)>>>ce.Mb]=Ae}else if(280>Ae){if(Ae=ya(Ae-256,ee),Ue=jn(_e.G[4],_e.H[4],ee),se(ee),Ue=Ka(M,Ue=ya(Ue,ee)),ee.h)break;if(ge-E<Ue||z-ge<Ae)break e;for(Ie=0;Ie<Ae;++Ie)j[ge+Ie]=j[ge+Ie-Ue];for(ge+=Ae,J+=Ae;J>=M;)J-=M,++K,G!=null&&K<=H&&!(K%16)&&G(m,K);if(t(ge<=z),J&ue&&(_e=wr(le,J,K)),ce!=null)for(;ve<ge;)Ae=j[ve++],ce.X[(506832829*Ae&4294967295)>>>ce.Mb]=Ae}else{if(!(Ae<Oe))break e;for(Pe=Ae-280,t(ce!=null);ve<ge;)Ae=j[ve++],ce.X[(506832829*Ae&4294967295)>>>ce.Mb]=Ae;Ae=ge,t(!(Pe>>>(Ue=ce).Xa)),j[Ae]=Ue.X[Pe],Pe=!0}Pe||t(ee.h==Q(ee))}if(m.Pb&&ee.h&&ge<z)t(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&ye(m.s.vb,m.s.Wa);else{if(ee.h)break e;G!=null&&G(m,K>H?H:K),m.a=0,m.$=ge-E}return 1}return m.a=3,0}function Xa(m){t(m!=null),m.vc=null,m.yc=null,m.Ya=null;var j=m.Wa;j!=null&&(j.X=null),m.vb=null,t(m!=null)}function Gn(){var m=new Bg;return m==null?null:(m.a=0,m.xb=n1,Ga("Predictor","VP8LPredictors"),Ga("Predictor","VP8LPredictors_C"),Ga("PredictorAdd","VP8LPredictorsAdd"),Ga("PredictorAdd","VP8LPredictorsAdd_C"),If=xt,Bs=st,_n=Fe,fn=Jr,Zi=Pt,Ni=ga,Si=Bt,O.VP8LMapColor32b=ol,O.VP8LMapColor8b=Ff,m)}function Ja(m,j,E,M,z){var H=1,G=[m],K=[j],J=M.m,ee=M.s,le=null,ge=0;e:for(;;){if(E)for(;H&&Z(J,1);){var ve=G,fe=K,Oe=M,we=1,ce=Oe.m,ue=Oe.gc[Oe.ab],_e=Z(ce,2);if(Oe.Oc&1<<_e)H=0;else{switch(Oe.Oc|=1<<_e,ue.hc=_e,ue.Ea=ve[0],ue.nc=fe[0],ue.K=[null],++Oe.ab,t(4>=Oe.ab),_e){case 0:case 1:ue.b=Z(ce,3)+2,we=Ja(Be(ue.Ea,ue.b),Be(ue.nc,ue.b),0,Oe,ue.K),ue.K=ue.K[0];break;case 3:var Pe,Ae=Z(ce,8)+1,Ue=16<Ae?0:4<Ae?1:2<Ae?2:3;if(ve[0]=Be(ue.Ea,Ue),ue.b=Ue,Pe=we=Ja(Ae,1,0,Oe,ue.K)){var Ie,Je=Ae,Re=ue,Ct=1<<(8>>Re.b),Mt=i(Ct);if(Mt==null)Pe=0;else{var At=Re.K[0],wt=Re.w;for(Mt[0]=Re.K[0][0],Ie=1;Ie<1*Je;++Ie)Mt[Ie]=ke(At[wt+Ie],Mt[Ie-1]);for(;Ie<4*Ct;++Ie)Mt[Ie]=0;Re.K[0]=null,Re.K[0]=Mt,Pe=1}}we=Pe;break;case 2:break;default:t(0)}H=we}}if(G=G[0],K=K[0],H&&Z(J,1)&&!(H=1<=(ge=Z(J,4))&&11>=ge)){M.a=3;break e}var zt;if(zt=H)t:{var Rt,ht,Nr,An=M,Sr=G,On=K,Dt=ge,In=E,Rn=An.m,Fr=An.s,Yr=[null],pn=1,Qn=0,ti=pP[Dt];r:for(;;){if(In&&Z(Rn,1)){var Br=Z(Rn,3)+2,Pi=Be(Sr,Br),Hs=Be(On,Br),fl=Pi*Hs;if(!Ja(Pi,Hs,0,An,Yr))break r;for(Yr=Yr[0],Fr.xc=Br,Rt=0;Rt<fl;++Rt){var ns=Yr[Rt]>>8&65535;Yr[Rt]=ns,ns>=pn&&(pn=ns+1)}}if(Rn.h)break r;for(ht=0;5>ht;++ht){var lr=t1[ht];!ht&&0<Dt&&(lr+=1<<Dt),Qn<lr&&(Qn=lr)}var Xg=o(pn*ti,C),d1=pn,f1=o(d1,R);if(f1==null)var Jf=null;else t(65536>=d1),Jf=f1;var wu=i(Qn);if(Jf==null||wu==null||Xg==null){An.a=1;break r}var Zf=Xg;for(Rt=Nr=0;Rt<pn;++Rt){var Aa=Jf[Rt],hl=Aa.G,pl=Aa.H,h1=0,Qf=1,p1=0;for(ht=0;5>ht;++ht){lr=t1[ht],hl[ht]=Zf,pl[ht]=Nr,!ht&&0<Dt&&(lr+=1<<Dt);a:{var eh,Jg=lr,th=An,ju=wu,DP=Zf,$P=Nr,Zg=0,as=th.m,IP=Z(as,1);if(a(ju,0,0,Jg),IP){var RP=Z(as,1)+1,FP=Z(as,1),m1=Z(as,FP==0?1:8);ju[m1]=1,RP==2&&(ju[m1=Z(as,8)]=1);var rh=1}else{var g1=i(19),v1=Z(as,4)+4;if(19<v1){th.a=3;var nh=0;break a}for(eh=0;eh<v1;++eh)g1[fP[eh]]=Z(as,3);var Qg=void 0,Nu=void 0,y1=th,BP=g1,ah=Jg,b1=ju,ev=0,is=y1.m,x1=8,w1=o(128,C);n:for(;k(w1,0,7,BP,19);){if(Z(is,1)){var zP=2+2*Z(is,3);if((Qg=2+Z(is,zP))>ah)break n}else Qg=ah;for(Nu=0;Nu<ah&&Qg--;){se(is);var j1=w1[0+(127&W(is))];ne(is,is.u+j1.g);var ml=j1.value;if(16>ml)b1[Nu++]=ml,ml!=0&&(x1=ml);else{var qP=ml==16,N1=ml-16,UP=uP[N1],S1=Z(is,cP[N1])+UP;if(Nu+S1>ah)break n;for(var WP=qP?x1:0;0<S1--;)b1[Nu++]=WP}}ev=1;break n}ev||(y1.a=3),rh=ev}(rh=rh&&!as.h)&&(Zg=k(DP,$P,8,ju,Jg)),rh&&Zg!=0?nh=Zg:(th.a=3,nh=0)}if(nh==0)break r;if(Qf&&dP[ht]==1&&(Qf=Zf[Nr].g==0),h1+=Zf[Nr].g,Nr+=nh,3>=ht){var Su,tv=wu[0];for(Su=1;Su<lr;++Su)wu[Su]>tv&&(tv=wu[Su]);p1+=tv}}if(Aa.nd=Qf,Aa.Qb=0,Qf&&(Aa.qb=(hl[3][pl[3]+0].value<<24|hl[1][pl[1]+0].value<<16|hl[2][pl[2]+0].value)>>>0,h1==0&&256>hl[0][pl[0]+0].value&&(Aa.Qb=1,Aa.qb+=hl[0][pl[0]+0].value<<8)),Aa.jc=!Aa.Qb&&6>p1,Aa.jc){var ih,Ei=Aa;for(ih=0;ih<Vr;++ih){var ss=ih,os=Ei.pd[ss],sh=Ei.G[0][Ei.H[0]+ss];256<=sh.value?(os.g=sh.g+256,os.value=sh.value):(os.g=0,os.value=0,ss>>=Pr(sh,8,os),ss>>=Pr(Ei.G[1][Ei.H[1]+ss],16,os),ss>>=Pr(Ei.G[2][Ei.H[2]+ss],0,os),Pr(Ei.G[3][Ei.H[3]+ss],24,os))}}}Fr.vc=Yr,Fr.Wb=pn,Fr.Ya=Jf,Fr.yc=Xg,zt=1;break t}zt=0}if(!(H=zt)){M.a=3;break e}if(0<ge){if(ee.ua=1<<ge,!De(ee.Wa,ge)){M.a=1,H=0;break e}}else ee.ua=0;var rv=M,_1=G,HP=K,nv=rv.s,av=nv.xc;if(rv.c=_1,rv.i=HP,nv.md=Be(_1,av),nv.wc=av==0?-1:(1<<av)-1,E){M.xb=jP;break e}if((le=i(G*K))==null){M.a=1,H=0;break e}H=(H=wa(M,le,0,G,K,K,null))&&!J.h;break e}return H?(z!=null?z[0]=le:(t(le==null),t(E)),M.$=0,E||Xa(ee)):Xa(ee),H}function Ds(m,j){var E=m.c*m.i,M=E+j+16*j;return t(m.c<=j),m.V=i(M),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+E+j,1)}function qo(m,j){var E=m.C,M=j-E,z=m.V,H=m.Ba+m.c*E;for(t(j<=m.l.o);0<M;){var G=16<M?16:M,K=m.l.ma,J=m.l.width,ee=J*G,le=K.ca,ge=K.tb+J*E,ve=m.Ta,fe=m.Ua;Mn(m,G,z,H),vr(ve,fe,le,ge,ee),ba(K,E,E+G,le,ge,J),M-=G,z+=G*m.c,E+=G}t(E==j),m.C=m.Ma=j}function Uo(){this.ub=this.yd=this.td=this.Rb=0}function Wo(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ho(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function vf(){this.Yb=function(){var m=[];return function j(E,M,z){for(var H=z[M],G=0;G<H&&(E.push(z.length>M+1?[]:0),!(z.length<M+1));G++)j(E[G],M+1,z)}(m,0,[3,11]),m}()}function vg(){this.jb=i(3),this.Wc=l([4,8],vf),this.Xc=l([4,17],vf)}function yg(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Go(){this.ld=this.La=this.dd=this.tc=0}function yf(){this.Na=this.la=0}function bg(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Kc(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function xg(){this.uc=this.M=this.Nb=0,this.wa=Array(new Go),this.Y=0,this.ya=Array(new Kc),this.aa=0,this.l=new Vo}function bf(){this.y=i(16),this.f=i(8),this.ea=i(8)}function wg(){this.cb=this.a=0,this.sc="",this.m=new ae,this.Od=new Uo,this.Kc=new Wo,this.ed=new yg,this.Qa=new Ho,this.Ic=this.$c=this.Aa=0,this.D=new xg,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,ae),this.ia=0,this.pb=o(4,bg),this.Pa=new vg,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new bf),this.Hd=0,this.rb=Array(new yf),this.sb=0,this.wa=Array(new Go),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Kc),this.L=this.aa=0,this.gd=l([4,2],Go),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Vo(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function jg(){var m=new wg;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,bu||(bu=jf)),m}function mr(m,j,E){return m.a==0&&(m.a=j,m.sc=E,m.cb=0),0}function xf(m,j,E){return 3<=E&&m[j+0]==157&&m[j+1]==1&&m[j+2]==42}function wf(m,j){if(m==null)return 0;if(m.a=0,m.sc="OK",j==null)return mr(m,2,"null VP8Io passed to VP8GetHeaders()");var E=j.data,M=j.w,z=j.ha;if(4>z)return mr(m,7,"Truncated header.");var H=E[M+0]|E[M+1]<<8|E[M+2]<<16,G=m.Od;if(G.Rb=!(1&H),G.td=H>>1&7,G.yd=H>>4&1,G.ub=H>>5,3<G.td)return mr(m,3,"Incorrect keyframe parameters.");if(!G.yd)return mr(m,4,"Frame not displayable.");M+=3,z-=3;var K=m.Kc;if(G.Rb){if(7>z)return mr(m,7,"cannot parse picture header");if(!xf(E,M,z))return mr(m,3,"Bad code word");K.c=16383&(E[M+4]<<8|E[M+3]),K.Td=E[M+4]>>6,K.i=16383&(E[M+6]<<8|E[M+5]),K.Ud=E[M+6]>>6,M+=7,z-=7,m.za=K.c+15>>4,m.Ub=K.i+15>>4,j.width=K.c,j.height=K.i,j.Da=0,j.j=0,j.v=0,j.va=j.width,j.o=j.height,j.da=0,j.ib=j.width,j.hb=j.height,j.U=j.width,j.T=j.height,a((H=m.Pa).jb,0,255,H.jb.length),t((H=m.Qa)!=null),H.Cb=0,H.Bb=0,H.Fb=1,a(H.Zb,0,0,H.Zb.length),a(H.Lb,0,0,H.Lb)}if(G.ub>z)return mr(m,7,"bad partition length");V(H=m.m,E,M,G.ub),M+=G.ub,z-=G.ub,G.Rb&&(K.Ld=de(H),K.Kd=de(H)),K=m.Qa;var J,ee=m.Pa;if(t(H!=null),t(K!=null),K.Cb=de(H),K.Cb){if(K.Bb=de(H),de(H)){for(K.Fb=de(H),J=0;4>J;++J)K.Zb[J]=de(H)?B(H,7):0;for(J=0;4>J;++J)K.Lb[J]=de(H)?B(H,6):0}if(K.Bb)for(J=0;3>J;++J)ee.jb[J]=de(H)?F(H,8):255}else K.Bb=0;if(H.Ka)return mr(m,3,"cannot parse segment header");if((K=m.ed).zd=de(H),K.Tb=F(H,6),K.wb=F(H,3),K.Pc=de(H),K.Pc&&de(H)){for(ee=0;4>ee;++ee)de(H)&&(K.vd[ee]=B(H,6));for(ee=0;4>ee;++ee)de(H)&&(K.od[ee]=B(H,6))}if(m.L=K.Tb==0?0:K.zd?1:2,H.Ka)return mr(m,3,"cannot parse filter header");var le=z;if(z=J=M,M=J+le,K=le,m.Xb=(1<<F(m.m,2))-1,le<3*(ee=m.Xb))E=7;else{for(J+=3*ee,K-=3*ee,le=0;le<ee;++le){var ge=E[z+0]|E[z+1]<<8|E[z+2]<<16;ge>K&&(ge=K),V(m.Jc[+le],E,J,ge),J+=ge,K-=ge,z+=3}V(m.Jc[+ee],E,J,K),E=J<M?0:5}if(E!=0)return mr(m,E,"cannot parse partitions");for(E=F(J=m.m,7),z=de(J)?B(J,4):0,M=de(J)?B(J,4):0,K=de(J)?B(J,4):0,ee=de(J)?B(J,4):0,J=de(J)?B(J,4):0,le=m.Qa,ge=0;4>ge;++ge){if(le.Cb){var ve=le.Zb[ge];le.Fb||(ve+=E)}else{if(0<ge){m.pb[ge]=m.pb[0];continue}ve=E}var fe=m.pb[ge];fe.Sc[0]=Vg[Dn(ve+z,127)],fe.Sc[1]=Yg[Dn(ve+0,127)],fe.Eb[0]=2*Vg[Dn(ve+M,127)],fe.Eb[1]=101581*Yg[Dn(ve+K,127)]>>16,8>fe.Eb[1]&&(fe.Eb[1]=8),fe.Qc[0]=Vg[Dn(ve+ee,117)],fe.Qc[1]=Yg[Dn(ve+J,127)],fe.lc=ve+J}if(!G.Rb)return mr(m,4,"Not a key frame.");for(de(H),G=m.Pa,E=0;4>E;++E){for(z=0;8>z;++z)for(M=0;3>M;++M)for(K=0;11>K;++K)ee=ie(H,xP[E][z][M][K])?F(H,8):yP[E][z][M][K],G.Wc[E][z].Yb[M][K]=ee;for(z=0;17>z;++z)G.Xc[E][z]=G.Wc[E][wP[z]]}return m.kc=de(H),m.kc&&(m.Bd=F(H,8)),m.cb=1}function jf(m,j,E,M,z,H,G){var K=j[z].Yb[E];for(E=0;16>z;++z){if(!ie(m,K[E+0]))return z;for(;!ie(m,K[E+1]);)if(K=j[++z].Yb[0],E=0,z==16)return 16;var J=j[z+1].Yb;if(ie(m,K[E+2])){var ee=m,le=0;if(ie(ee,(ve=K)[(ge=E)+3]))if(ie(ee,ve[ge+6])){for(K=0,ge=2*(le=ie(ee,ve[ge+8]))+(ve=ie(ee,ve[ge+9+le])),le=0,ve=gP[ge];ve[K];++K)le+=le+ie(ee,ve[K]);le+=3+(8<<ge)}else ie(ee,ve[ge+7])?(le=7+2*ie(ee,165),le+=ie(ee,145)):le=5+ie(ee,159);else le=ie(ee,ve[ge+4])?3+ie(ee,ve[ge+5]):2;K=J[2]}else le=1,K=J[1];J=G+vP[z],0>(ee=m).b&&he(ee);var ge,ve=ee.b,fe=(ge=ee.Ca>>1)-(ee.I>>ve)>>31;--ee.b,ee.Ca+=fe,ee.Ca|=1,ee.I-=(ge+1&fe)<<ve,H[J]=((le^fe)-fe)*M[(0<z)+0]}return 16}function Xc(m){var j=m.rb[m.sb-1];j.la=0,j.Na=0,a(m.zc,0,0,m.zc.length),m.ja=0}function Ng(m,j){if(m==null)return 0;if(j==null)return mr(m,2,"NULL VP8Io parameter in VP8Decode().");if(!m.cb&&!wf(m,j))return 0;if(t(m.cb),j.ac==null||j.ac(j)){j.ob&&(m.L=0);var E=Xf[m.L];if(m.L==2?(m.yb=0,m.zb=0):(m.yb=j.v-E>>4,m.zb=j.j-E>>4,0>m.yb&&(m.yb=0),0>m.zb&&(m.zb=0)),m.Va=j.o+15+E>>4,m.Hb=j.va+15+E>>4,m.Hb>m.za&&(m.Hb=m.za),m.Va>m.Ub&&(m.Va=m.Ub),0<m.L){var M=m.ed;for(E=0;4>E;++E){var z;if(m.Qa.Cb){var H=m.Qa.Lb[E];m.Qa.Fb||(H+=M.Tb)}else H=M.Tb;for(z=0;1>=z;++z){var G=m.gd[E][z],K=H;if(M.Pc&&(K+=M.vd[0],z&&(K+=M.od[0])),0<(K=0>K?0:63<K?63:K)){var J=K;0<M.wb&&(J=4<M.wb?J>>2:J>>1)>9-M.wb&&(J=9-M.wb),1>J&&(J=1),G.dd=J,G.tc=2*K+J,G.ld=40<=K?2:15<=K?1:0}else G.tc=0;G.La=z}}}E=0}else mr(m,6,"Frame setup failed"),E=m.a;if(E=E==0){if(E){m.$c=0,0<m.Aa||(m.Ic=MP);e:{E=m.Ic,M=4*(J=m.za);var ee=32*J,le=J+1,ge=0<m.L?J*(0<m.Aa?2:1):0,ve=(m.Aa==2?2:1)*J;if((G=M+832+(z=3*(16*E+Xf[m.L])/2*ee)+(H=m.Fa!=null&&0<m.Fa.length?m.Kc.c*m.Kc.i:0))!=G)E=0;else{if(G>m.Vb){if(m.Vb=0,m.Ec=i(G),m.Fc=0,m.Ec==null){E=mr(m,1,"no memory during frame initialization.");break e}m.Vb=G}G=m.Ec,K=m.Fc,m.Ac=G,m.Bc=K,K+=M,m.Gd=o(ee,bf),m.Hd=0,m.rb=o(le+1,yf),m.sb=1,m.wa=ge?o(ge,Go):null,m.Y=0,m.D.Nb=0,m.D.wa=m.wa,m.D.Y=m.Y,0<m.Aa&&(m.D.Y+=J),t(!0),m.oc=G,m.pc=K,K+=832,m.ya=o(ve,Kc),m.aa=0,m.D.ya=m.ya,m.D.aa=m.aa,m.Aa==2&&(m.D.aa+=J),m.R=16*J,m.B=8*J,J=(ee=Xf[m.L])*m.R,ee=ee/2*m.B,m.sa=G,m.ta=K+J,m.qa=m.sa,m.ra=m.ta+16*E*m.R+ee,m.Ha=m.qa,m.Ia=m.ra+8*E*m.B+ee,m.$c=0,K+=z,m.mb=H?G:null,m.nb=H?K:null,t(K+H<=m.Fc+m.Vb),Xc(m),a(m.Ac,m.Bc,0,M),E=1}}if(E){if(j.ka=0,j.y=m.sa,j.O=m.ta,j.f=m.qa,j.N=m.ra,j.ea=m.Ha,j.Vd=m.Ia,j.fa=m.R,j.Rc=m.B,j.F=null,j.J=0,!zf){for(E=-255;255>=E;++E)Er[255+E]=0>E?-E:E;for(E=-1020;1020>=E;++E)Ai[1020+E]=-128>E?-128:127<E?127:E;for(E=-112;112>=E;++E)yu[112+E]=-16>E?-16:15<E?15:E;for(E=-255;510>=E;++E)dl[255+E]=0>E?0:255<E?255:E;zf=1}ll=Ag,_i=Sg,mu=Sf,hn=_g,Yn=_f,gr=Nf,cl=ru,Bf=Rs,gu=Fg,zs=nu,qs=Rg,Qi=Qo,Us=au,ul=Mf,Ws=Lf,es=Qa,vu=ji,Kn=Ig,_a[0]=Za,_a[1]=Og,_a[2]=Cg,_a[3]=Tg,_a[4]=Pf,_a[5]=Jo,_a[6]=Ef,_a[7]=Qc,_a[8]=Mg,_a[9]=Lg,ts[0]=Af,ts[1]=Eg,ts[2]=wi,ts[3]=Ko,ts[4]=Zr,ts[5]=kg,ts[6]=Of,Oi[0]=Yi,Oi[1]=Pg,Oi[2]=Dg,Oi[3]=eu,Oi[4]=Is,Oi[5]=$g,Oi[6]=tu,E=1}else E=0}E&&(E=function(fe,Oe){for(fe.M=0;fe.M<fe.Va;++fe.M){var we,ce=fe.Jc[fe.M&fe.Xb],ue=fe.m,_e=fe;for(we=0;we<_e.za;++we){var Pe=ue,Ae=_e,Ue=Ae.Ac,Ie=Ae.Bc+4*we,Je=Ae.zc,Re=Ae.ya[Ae.aa+we];if(Ae.Qa.Bb?Re.$b=ie(Pe,Ae.Pa.jb[0])?2+ie(Pe,Ae.Pa.jb[2]):ie(Pe,Ae.Pa.jb[1]):Re.$b=0,Ae.kc&&(Re.Ad=ie(Pe,Ae.Bd)),Re.Za=!ie(Pe,145)+0,Re.Za){var Ct=Re.Ob,Mt=0;for(Ae=0;4>Ae;++Ae){var At,wt=Je[0+Ae];for(At=0;4>At;++At){wt=bP[Ue[Ie+At]][wt];for(var zt=r1[ie(Pe,wt[0])];0<zt;)zt=r1[2*zt+ie(Pe,wt[zt])];wt=-zt,Ue[Ie+At]=wt}n(Ct,Mt,Ue,Ie,4),Mt+=4,Je[0+Ae]=wt}}else wt=ie(Pe,156)?ie(Pe,128)?1:3:ie(Pe,163)?2:0,Re.Ob[0]=wt,a(Ue,Ie,wt,4),a(Je,0,wt,4);Re.Dd=ie(Pe,142)?ie(Pe,114)?ie(Pe,183)?1:3:2:0}if(_e.m.Ka)return mr(fe,7,"Premature end-of-partition0 encountered.");for(;fe.ja<fe.za;++fe.ja){if(_e=ce,Pe=(ue=fe).rb[ue.sb-1],Ue=ue.rb[ue.sb+ue.ja],we=ue.ya[ue.aa+ue.ja],Ie=ue.kc?we.Ad:0)Pe.la=Ue.la=0,we.Za||(Pe.Na=Ue.Na=0),we.Hc=0,we.Gc=0,we.ia=0;else{var Rt,ht;if(Pe=Ue,Ue=_e,Ie=ue.Pa.Xc,Je=ue.ya[ue.aa+ue.ja],Re=ue.pb[Je.$b],Ae=Je.ad,Ct=0,Mt=ue.rb[ue.sb-1],wt=At=0,a(Ae,Ct,0,384),Je.Za)var Nr=0,An=Ie[3];else{zt=i(16);var Sr=Pe.Na+Mt.Na;if(Sr=bu(Ue,Ie[1],Sr,Re.Eb,0,zt,0),Pe.Na=Mt.Na=(0<Sr)+0,1<Sr)ll(zt,0,Ae,Ct);else{var On=zt[0]+3>>3;for(zt=0;256>zt;zt+=16)Ae[Ct+zt]=On}Nr=1,An=Ie[0]}var Dt=15&Pe.la,In=15&Mt.la;for(zt=0;4>zt;++zt){var Rn=1&In;for(On=ht=0;4>On;++On)Dt=Dt>>1|(Rn=(Sr=bu(Ue,An,Sr=Rn+(1&Dt),Re.Sc,Nr,Ae,Ct))>Nr)<<7,ht=ht<<2|(3<Sr?3:1<Sr?2:Ae[Ct+0]!=0),Ct+=16;Dt>>=4,In=In>>1|Rn<<7,At=(At<<8|ht)>>>0}for(An=Dt,Nr=In>>4,Rt=0;4>Rt;Rt+=2){for(ht=0,Dt=Pe.la>>4+Rt,In=Mt.la>>4+Rt,zt=0;2>zt;++zt){for(Rn=1&In,On=0;2>On;++On)Sr=Rn+(1&Dt),Dt=Dt>>1|(Rn=0<(Sr=bu(Ue,Ie[2],Sr,Re.Qc,0,Ae,Ct)))<<3,ht=ht<<2|(3<Sr?3:1<Sr?2:Ae[Ct+0]!=0),Ct+=16;Dt>>=2,In=In>>1|Rn<<5}wt|=ht<<4*Rt,An|=Dt<<4<<Rt,Nr|=(240&In)<<Rt}Pe.la=An,Mt.la=Nr,Je.Hc=At,Je.Gc=wt,Je.ia=43690&wt?0:Re.ia,Ie=!(At|wt)}if(0<ue.L&&(ue.wa[ue.Y+ue.ja]=ue.gd[we.$b][we.Za],ue.wa[ue.Y+ue.ja].La|=!Ie),_e.Ka)return mr(fe,7,"Premature end-of-file encountered.")}if(Xc(fe),ue=Oe,_e=1,we=(ce=fe).D,Pe=0<ce.L&&ce.M>=ce.zb&&ce.M<=ce.Va,ce.Aa==0)e:{if(we.M=ce.M,we.uc=Pe,uu(ce,we),_e=1,we=(ht=ce.D).Nb,Pe=(wt=Xf[ce.L])*ce.R,Ue=wt/2*ce.B,zt=16*we*ce.R,On=8*we*ce.B,Ie=ce.sa,Je=ce.ta-Pe+zt,Re=ce.qa,Ae=ce.ra-Ue+On,Ct=ce.Ha,Mt=ce.Ia-Ue+On,In=(Dt=ht.M)==0,At=Dt>=ce.Va-1,ce.Aa==2&&uu(ce,ht),ht.uc)for(Rn=(Sr=ce).D.M,t(Sr.D.uc),ht=Sr.yb;ht<Sr.Hb;++ht){Nr=ht,An=Rn;var Fr=(Yr=(lr=Sr).D).Nb;Rt=lr.R;var Yr=Yr.wa[Yr.Y+Nr],pn=lr.sa,Qn=lr.ta+16*Fr*Rt+16*Nr,ti=Yr.dd,Br=Yr.tc;if(Br!=0)if(t(3<=Br),lr.L==1)0<Nr&&es(pn,Qn,Rt,Br+4),Yr.La&&Kn(pn,Qn,Rt,Br),0<An&&Ws(pn,Qn,Rt,Br+4),Yr.La&&vu(pn,Qn,Rt,Br);else{var Pi=lr.B,Hs=lr.qa,fl=lr.ra+8*Fr*Pi+8*Nr,ns=lr.Ha,lr=lr.Ia+8*Fr*Pi+8*Nr;Fr=Yr.ld,0<Nr&&(Bf(pn,Qn,Rt,Br+4,ti,Fr),zs(Hs,fl,ns,lr,Pi,Br+4,ti,Fr)),Yr.La&&(Qi(pn,Qn,Rt,Br,ti,Fr),ul(Hs,fl,ns,lr,Pi,Br,ti,Fr)),0<An&&(cl(pn,Qn,Rt,Br+4,ti,Fr),gu(Hs,fl,ns,lr,Pi,Br+4,ti,Fr)),Yr.La&&(qs(pn,Qn,Rt,Br,ti,Fr),Us(Hs,fl,ns,lr,Pi,Br,ti,Fr))}}if(ce.ia&&alert("todo:DitherRow"),ue.put!=null){if(ht=16*Dt,Dt=16*(Dt+1),In?(ue.y=ce.sa,ue.O=ce.ta+zt,ue.f=ce.qa,ue.N=ce.ra+On,ue.ea=ce.Ha,ue.W=ce.Ia+On):(ht-=wt,ue.y=Ie,ue.O=Je,ue.f=Re,ue.N=Ae,ue.ea=Ct,ue.W=Mt),At||(Dt-=wt),Dt>ue.o&&(Dt=ue.o),ue.F=null,ue.J=null,ce.Fa!=null&&0<ce.Fa.length&&ht<Dt&&(ue.J=lu(ce,ue,ht,Dt-ht),ue.F=ce.mb,ue.F==null&&ue.F.length==0)){_e=mr(ce,3,"Could not decode alpha data.");break e}ht<ue.j&&(wt=ue.j-ht,ht=ue.j,t(!(1&wt)),ue.O+=ce.R*wt,ue.N+=ce.B*(wt>>1),ue.W+=ce.B*(wt>>1),ue.F!=null&&(ue.J+=ue.width*wt)),ht<Dt&&(ue.O+=ue.v,ue.N+=ue.v>>1,ue.W+=ue.v>>1,ue.F!=null&&(ue.J+=ue.v),ue.ka=ht-ue.j,ue.U=ue.va-ue.v,ue.T=Dt-ht,_e=ue.put(ue))}we+1!=ce.Ic||At||(n(ce.sa,ce.ta-Pe,Ie,Je+16*ce.R,Pe),n(ce.qa,ce.ra-Ue,Re,Ae+8*ce.B,Ue),n(ce.Ha,ce.Ia-Ue,Ct,Mt+8*ce.B,Ue))}if(!_e)return mr(fe,6,"Output aborted.")}return 1}(m,j)),j.bc!=null&&j.bc(j),E&=1}return E?(m.cb=0,E):0}function ja(m,j,E,M,z){z=m[j+E+32*M]+(z>>3),m[j+E+32*M]=-256&z?0>z?0:255:z}function Yo(m,j,E,M,z,H){ja(m,j,0,E,M+z),ja(m,j,1,E,M+H),ja(m,j,2,E,M-H),ja(m,j,3,E,M-z)}function Nn(m){return(20091*m>>16)+m}function Jc(m,j,E,M){var z,H=0,G=i(16);for(z=0;4>z;++z){var K=m[j+0]+m[j+8],J=m[j+0]-m[j+8],ee=(35468*m[j+4]>>16)-Nn(m[j+12]),le=Nn(m[j+4])+(35468*m[j+12]>>16);G[H+0]=K+le,G[H+1]=J+ee,G[H+2]=J-ee,G[H+3]=K-le,H+=4,j++}for(z=H=0;4>z;++z)K=(m=G[H+0]+4)+G[H+8],J=m-G[H+8],ee=(35468*G[H+4]>>16)-Nn(G[H+12]),ja(E,M,0,0,K+(le=Nn(G[H+4])+(35468*G[H+12]>>16))),ja(E,M,1,0,J+ee),ja(E,M,2,0,J-ee),ja(E,M,3,0,K-le),H++,M+=32}function Nf(m,j,E,M){var z=m[j+0]+4,H=35468*m[j+4]>>16,G=Nn(m[j+4]),K=35468*m[j+1]>>16;Yo(E,M,0,z+G,m=Nn(m[j+1]),K),Yo(E,M,1,z+H,m,K),Yo(E,M,2,z-H,m,K),Yo(E,M,3,z-G,m,K)}function Sg(m,j,E,M,z){Jc(m,j,E,M),z&&Jc(m,j+16,E,M+4)}function Sf(m,j,E,M){_i(m,j+0,E,M,1),_i(m,j+32,E,M+128,1)}function _g(m,j,E,M){var z;for(m=m[j+0]+4,z=0;4>z;++z)for(j=0;4>j;++j)ja(E,M,j,z,m)}function _f(m,j,E,M){m[j+0]&&hn(m,j+0,E,M),m[j+16]&&hn(m,j+16,E,M+4),m[j+32]&&hn(m,j+32,E,M+128),m[j+48]&&hn(m,j+48,E,M+128+4)}function Ag(m,j,E,M){var z,H=i(16);for(z=0;4>z;++z){var G=m[j+0+z]+m[j+12+z],K=m[j+4+z]+m[j+8+z],J=m[j+4+z]-m[j+8+z],ee=m[j+0+z]-m[j+12+z];H[0+z]=G+K,H[8+z]=G-K,H[4+z]=ee+J,H[12+z]=ee-J}for(z=0;4>z;++z)G=(m=H[0+4*z]+3)+H[3+4*z],K=H[1+4*z]+H[2+4*z],J=H[1+4*z]-H[2+4*z],ee=m-H[3+4*z],E[M+0]=G+K>>3,E[M+16]=ee+J>>3,E[M+32]=G-K>>3,E[M+48]=ee-J>>3,M+=64}function Zc(m,j,E){var M,z=j-32,H=$n,G=255-m[z-1];for(M=0;M<E;++M){var K,J=H,ee=G+m[j-1];for(K=0;K<E;++K)m[j+K]=J[ee+m[z+K]];j+=32}}function Og(m,j){Zc(m,j,4)}function Pg(m,j){Zc(m,j,8)}function Eg(m,j){Zc(m,j,16)}function wi(m,j){var E;for(E=0;16>E;++E)n(m,j+32*E,m,j-32,16)}function Ko(m,j){var E;for(E=16;0<E;--E)a(m,j,m[j-1],16),j+=32}function Xo(m,j,E){var M;for(M=0;16>M;++M)a(j,E+32*M,m,16)}function Af(m,j){var E,M=16;for(E=0;16>E;++E)M+=m[j-1+32*E]+m[j+E-32];Xo(M>>5,m,j)}function Zr(m,j){var E,M=8;for(E=0;16>E;++E)M+=m[j-1+32*E];Xo(M>>4,m,j)}function kg(m,j){var E,M=8;for(E=0;16>E;++E)M+=m[j+E-32];Xo(M>>4,m,j)}function Of(m,j){Xo(128,m,j)}function lt(m,j,E){return m+2*j+E+2>>2}function Cg(m,j){var E,M=j-32;for(M=new Uint8Array([lt(m[M-1],m[M+0],m[M+1]),lt(m[M+0],m[M+1],m[M+2]),lt(m[M+1],m[M+2],m[M+3]),lt(m[M+2],m[M+3],m[M+4])]),E=0;4>E;++E)n(m,j+32*E,M,0,M.length)}function Tg(m,j){var E=m[j-1],M=m[j-1+32],z=m[j-1+64],H=m[j-1+96];xe(m,j+0,16843009*lt(m[j-1-32],E,M)),xe(m,j+32,16843009*lt(E,M,z)),xe(m,j+64,16843009*lt(M,z,H)),xe(m,j+96,16843009*lt(z,H,H))}function Za(m,j){var E,M=4;for(E=0;4>E;++E)M+=m[j+E-32]+m[j-1+32*E];for(M>>=3,E=0;4>E;++E)a(m,j+32*E,M,4)}function Pf(m,j){var E=m[j-1+0],M=m[j-1+32],z=m[j-1+64],H=m[j-1-32],G=m[j+0-32],K=m[j+1-32],J=m[j+2-32],ee=m[j+3-32];m[j+0+96]=lt(M,z,m[j-1+96]),m[j+1+96]=m[j+0+64]=lt(E,M,z),m[j+2+96]=m[j+1+64]=m[j+0+32]=lt(H,E,M),m[j+3+96]=m[j+2+64]=m[j+1+32]=m[j+0+0]=lt(G,H,E),m[j+3+64]=m[j+2+32]=m[j+1+0]=lt(K,G,H),m[j+3+32]=m[j+2+0]=lt(J,K,G),m[j+3+0]=lt(ee,J,K)}function Ef(m,j){var E=m[j+1-32],M=m[j+2-32],z=m[j+3-32],H=m[j+4-32],G=m[j+5-32],K=m[j+6-32],J=m[j+7-32];m[j+0+0]=lt(m[j+0-32],E,M),m[j+1+0]=m[j+0+32]=lt(E,M,z),m[j+2+0]=m[j+1+32]=m[j+0+64]=lt(M,z,H),m[j+3+0]=m[j+2+32]=m[j+1+64]=m[j+0+96]=lt(z,H,G),m[j+3+32]=m[j+2+64]=m[j+1+96]=lt(H,G,K),m[j+3+64]=m[j+2+96]=lt(G,K,J),m[j+3+96]=lt(K,J,J)}function Jo(m,j){var E=m[j-1+0],M=m[j-1+32],z=m[j-1+64],H=m[j-1-32],G=m[j+0-32],K=m[j+1-32],J=m[j+2-32],ee=m[j+3-32];m[j+0+0]=m[j+1+64]=H+G+1>>1,m[j+1+0]=m[j+2+64]=G+K+1>>1,m[j+2+0]=m[j+3+64]=K+J+1>>1,m[j+3+0]=J+ee+1>>1,m[j+0+96]=lt(z,M,E),m[j+0+64]=lt(M,E,H),m[j+0+32]=m[j+1+96]=lt(E,H,G),m[j+1+32]=m[j+2+96]=lt(H,G,K),m[j+2+32]=m[j+3+96]=lt(G,K,J),m[j+3+32]=lt(K,J,ee)}function Qc(m,j){var E=m[j+0-32],M=m[j+1-32],z=m[j+2-32],H=m[j+3-32],G=m[j+4-32],K=m[j+5-32],J=m[j+6-32],ee=m[j+7-32];m[j+0+0]=E+M+1>>1,m[j+1+0]=m[j+0+64]=M+z+1>>1,m[j+2+0]=m[j+1+64]=z+H+1>>1,m[j+3+0]=m[j+2+64]=H+G+1>>1,m[j+0+32]=lt(E,M,z),m[j+1+32]=m[j+0+96]=lt(M,z,H),m[j+2+32]=m[j+1+96]=lt(z,H,G),m[j+3+32]=m[j+2+96]=lt(H,G,K),m[j+3+64]=lt(G,K,J),m[j+3+96]=lt(K,J,ee)}function Lg(m,j){var E=m[j-1+0],M=m[j-1+32],z=m[j-1+64],H=m[j-1+96];m[j+0+0]=E+M+1>>1,m[j+2+0]=m[j+0+32]=M+z+1>>1,m[j+2+32]=m[j+0+64]=z+H+1>>1,m[j+1+0]=lt(E,M,z),m[j+3+0]=m[j+1+32]=lt(M,z,H),m[j+3+32]=m[j+1+64]=lt(z,H,H),m[j+3+64]=m[j+2+64]=m[j+0+96]=m[j+1+96]=m[j+2+96]=m[j+3+96]=H}function Mg(m,j){var E=m[j-1+0],M=m[j-1+32],z=m[j-1+64],H=m[j-1+96],G=m[j-1-32],K=m[j+0-32],J=m[j+1-32],ee=m[j+2-32];m[j+0+0]=m[j+2+32]=E+G+1>>1,m[j+0+32]=m[j+2+64]=M+E+1>>1,m[j+0+64]=m[j+2+96]=z+M+1>>1,m[j+0+96]=H+z+1>>1,m[j+3+0]=lt(K,J,ee),m[j+2+0]=lt(G,K,J),m[j+1+0]=m[j+3+32]=lt(E,G,K),m[j+1+32]=m[j+3+64]=lt(M,E,G),m[j+1+64]=m[j+3+96]=lt(z,M,E),m[j+1+96]=lt(H,z,M)}function Dg(m,j){var E;for(E=0;8>E;++E)n(m,j+32*E,m,j-32,8)}function eu(m,j){var E;for(E=0;8>E;++E)a(m,j,m[j-1],8),j+=32}function $s(m,j,E){var M;for(M=0;8>M;++M)a(j,E+32*M,m,8)}function Yi(m,j){var E,M=8;for(E=0;8>E;++E)M+=m[j+E-32]+m[j-1+32*E];$s(M>>4,m,j)}function $g(m,j){var E,M=4;for(E=0;8>E;++E)M+=m[j+E-32];$s(M>>3,m,j)}function Is(m,j){var E,M=4;for(E=0;8>E;++E)M+=m[j-1+32*E];$s(M>>3,m,j)}function tu(m,j){$s(128,m,j)}function Zo(m,j,E){var M=m[j-E],z=m[j+0],H=3*(z-M)+qg[1020+m[j-2*E]-m[j+E]],G=qf[112+(H+4>>3)];m[j-E]=$n[255+M+qf[112+(H+3>>3)]],m[j+0]=$n[255+z-G]}function kf(m,j,E,M){var z=m[j+0],H=m[j+E];return Jn[255+m[j-2*E]-m[j-E]]>M||Jn[255+H-z]>M}function Cf(m,j,E,M){return 4*Jn[255+m[j-E]-m[j+0]]+Jn[255+m[j-2*E]-m[j+E]]<=M}function Tf(m,j,E,M,z){var H=m[j-3*E],G=m[j-2*E],K=m[j-E],J=m[j+0],ee=m[j+E],le=m[j+2*E],ge=m[j+3*E];return 4*Jn[255+K-J]+Jn[255+G-ee]>M?0:Jn[255+m[j-4*E]-H]<=z&&Jn[255+H-G]<=z&&Jn[255+G-K]<=z&&Jn[255+ge-le]<=z&&Jn[255+le-ee]<=z&&Jn[255+ee-J]<=z}function Lf(m,j,E,M){var z=2*M+1;for(M=0;16>M;++M)Cf(m,j+M,E,z)&&Zo(m,j+M,E)}function Qa(m,j,E,M){var z=2*M+1;for(M=0;16>M;++M)Cf(m,j+M*E,1,z)&&Zo(m,j+M*E,1)}function ji(m,j,E,M){var z;for(z=3;0<z;--z)Lf(m,j+=4*E,E,M)}function Ig(m,j,E,M){var z;for(z=3;0<z;--z)Qa(m,j+=4,E,M)}function Ki(m,j,E,M,z,H,G,K){for(H=2*H+1;0<z--;){if(Tf(m,j,E,H,G))if(kf(m,j,E,K))Zo(m,j,E);else{var J=m,ee=j,le=E,ge=J[ee-2*le],ve=J[ee-le],fe=J[ee+0],Oe=J[ee+le],we=J[ee+2*le],ce=27*(_e=qg[1020+3*(fe-ve)+qg[1020+ge-Oe]])+63>>7,ue=18*_e+63>>7,_e=9*_e+63>>7;J[ee-3*le]=$n[255+J[ee-3*le]+_e],J[ee-2*le]=$n[255+ge+ue],J[ee-le]=$n[255+ve+ce],J[ee+0]=$n[255+fe-ce],J[ee+le]=$n[255+Oe-ue],J[ee+2*le]=$n[255+we-_e]}j+=M}}function Na(m,j,E,M,z,H,G,K){for(H=2*H+1;0<z--;){if(Tf(m,j,E,H,G))if(kf(m,j,E,K))Zo(m,j,E);else{var J=m,ee=j,le=E,ge=J[ee-le],ve=J[ee+0],fe=J[ee+le],Oe=qf[112+((we=3*(ve-ge))+4>>3)],we=qf[112+(we+3>>3)],ce=Oe+1>>1;J[ee-2*le]=$n[255+J[ee-2*le]+ce],J[ee-le]=$n[255+ge+we],J[ee+0]=$n[255+ve-Oe],J[ee+le]=$n[255+fe-ce]}j+=M}}function ru(m,j,E,M,z,H){Ki(m,j,E,1,16,M,z,H)}function Rs(m,j,E,M,z,H){Ki(m,j,1,E,16,M,z,H)}function Rg(m,j,E,M,z,H){var G;for(G=3;0<G;--G)Na(m,j+=4*E,E,1,16,M,z,H)}function Qo(m,j,E,M,z,H){var G;for(G=3;0<G;--G)Na(m,j+=4,1,E,16,M,z,H)}function Fg(m,j,E,M,z,H,G,K){Ki(m,j,z,1,8,H,G,K),Ki(E,M,z,1,8,H,G,K)}function nu(m,j,E,M,z,H,G,K){Ki(m,j,1,z,8,H,G,K),Ki(E,M,1,z,8,H,G,K)}function au(m,j,E,M,z,H,G,K){Na(m,j+4*z,z,1,8,H,G,K),Na(E,M+4*z,z,1,8,H,G,K)}function Mf(m,j,E,M,z,H,G,K){Na(m,j+4,1,z,8,H,G,K),Na(E,M+4,1,z,8,H,G,K)}function el(){this.ba=new va,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new sr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function iu(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function su(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Df(){this.ua=0,this.Wa=new re,this.vb=new re,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new R,this.yc=new C}function Bg(){this.xb=this.a=0,this.l=new Vo,this.ca=new va,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new D,this.Pb=0,this.wd=new D,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Df,this.ab=0,this.gc=o(4,su),this.Oc=0}function tl(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Vo,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Fs(m,j,E,M,z,H,G){for(m=m==null?0:m[j+0],j=0;j<G;++j)z[H+j]=m+E[M+j]&255,m=z[H+j]}function ou(m,j,E,M,z,H,G){var K;if(m==null)Fs(null,null,E,M,z,H,G);else for(K=0;K<G;++K)z[H+K]=m[j+K]+E[M+K]&255}function Xi(m,j,E,M,z,H,G){if(m==null)Fs(null,null,E,M,z,H,G);else{var K,J=m[j+0],ee=J,le=J;for(K=0;K<G;++K)ee=le+(J=m[j+K])-ee,le=E[M+K]+(-256&ee?0>ee?0:255:ee)&255,ee=J,z[H+K]=le}}function lu(m,j,E,M){var z=j.width,H=j.o;if(t(m!=null&&j!=null),0>E||0>=M||E+M>H)return null;if(!m.Cc){if(m.ga==null){var G;if(m.ga=new tl,(G=m.ga==null)||(G=j.width*j.o,t(m.Gb.length==0),m.Gb=i(G),m.Uc=0,m.Gb==null?G=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,G=1),G=!G),!G){G=m.ga;var K=m.Fa,J=m.P,ee=m.qc,le=m.mb,ge=m.nb,ve=J+1,fe=ee-1,Oe=G.l;if(t(K!=null&&le!=null&&j!=null),rs[0]=null,rs[1]=Fs,rs[2]=ou,rs[3]=Xi,G.ca=le,G.tb=ge,G.c=j.width,G.i=j.height,t(0<G.c&&0<G.i),1>=ee)j=0;else if(G.$a=K[J+0]>>0&3,G.Z=K[J+0]>>2&3,G.Lc=K[J+0]>>4&3,J=K[J+0]>>6&3,0>G.$a||1<G.$a||4<=G.Z||1<G.Lc||J)j=0;else if(Oe.put=Va,Oe.ac=Gr,Oe.bc=Ya,Oe.ma=G,Oe.width=j.width,Oe.height=j.height,Oe.Da=j.Da,Oe.v=j.v,Oe.va=j.va,Oe.j=j.j,Oe.o=j.o,G.$a)e:{t(G.$a==1),j=Gn();t:for(;;){if(j==null){j=0;break e}if(t(G!=null),G.mc=j,j.c=G.c,j.i=G.i,j.l=G.l,j.l.ma=G,j.l.width=G.c,j.l.height=G.i,j.a=0,X(j.m,K,ve,fe),!Ja(G.c,G.i,1,j,null)||(j.ab==1&&j.gc[0].hc==3&&xi(j.s)?(G.ic=1,K=j.c*j.i,j.Ta=null,j.Ua=0,j.V=i(K),j.Ba=0,j.V==null?(j.a=1,j=0):j=1):(G.ic=0,j=Ds(j,G.c)),!j))break t;j=1;break e}G.mc=null,j=0}else j=fe>=G.c*G.i;G=!j}if(G)return null;m.ga.Lc!=1?m.Ga=0:M=H-E}t(m.ga!=null),t(E+M<=H);e:{if(j=(K=m.ga).c,H=K.l.o,K.$a==0){if(ve=m.rc,fe=m.Vc,Oe=m.Fa,J=m.P+1+E*j,ee=m.mb,le=m.nb+E*j,t(J<=m.P+m.qc),K.Z!=0)for(t(rs[K.Z]!=null),G=0;G<M;++G)rs[K.Z](ve,fe,Oe,J,ee,le,j),ve=ee,fe=le,le+=j,J+=j;else for(G=0;G<M;++G)n(ee,le,Oe,J,j),ve=ee,fe=le,le+=j,J+=j;m.rc=ve,m.Vc=fe}else{if(t(K.mc!=null),j=E+M,t((G=K.mc)!=null),t(j<=G.i),G.C>=j)j=1;else if(K.ic||me(),K.ic){K=G.V,ve=G.Ba,fe=G.c;var we=G.i,ce=(Oe=1,J=G.$/fe,ee=G.$%fe,le=G.m,ge=G.s,G.$),ue=fe*we,_e=fe*j,Pe=ge.wc,Ae=ce<_e?wr(ge,ee,J):null;t(ce<=ue),t(j<=we),t(xi(ge));t:for(;;){for(;!le.h&&ce<_e;){if(ee&Pe||(Ae=wr(ge,ee,J)),t(Ae!=null),se(le),256>(we=jn(Ae.G[0],Ae.H[0],le)))K[ve+ce]=we,++ce,++ee>=fe&&(ee=0,++J<=j&&!(J%16)&&xa(G,J));else{if(!(280>we)){Oe=0;break t}we=ya(we-256,le);var Ue,Ie=jn(Ae.G[4],Ae.H[4],le);if(se(le),!(ce>=(Ie=Ka(fe,Ie=ya(Ie,le)))&&ue-ce>=we)){Oe=0;break t}for(Ue=0;Ue<we;++Ue)K[ve+ce+Ue]=K[ve+ce+Ue-Ie];for(ce+=we,ee+=we;ee>=fe;)ee-=fe,++J<=j&&!(J%16)&&xa(G,J);ce<_e&&ee&Pe&&(Ae=wr(ge,ee,J))}t(le.h==Q(le))}xa(G,J>j?j:J);break t}!Oe||le.h&&ce<ue?(Oe=0,G.a=le.h?5:3):G.$=ce,j=Oe}else j=wa(G,G.V,G.Ba,G.c,G.i,j,qo);if(!j){M=0;break e}}E+M>=H&&(m.Cc=1),M=1}if(!M)return null;if(m.Cc&&((M=m.ga)!=null&&(M.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+E*z}function A(m,j,E,M,z,H){for(;0<z--;){var G,K=m,J=j+(E?1:0),ee=m,le=j+(E?0:3);for(G=0;G<M;++G){var ge=ee[le+4*G];ge!=255&&(ge*=32897,K[J+4*G+0]=K[J+4*G+0]*ge>>23,K[J+4*G+1]=K[J+4*G+1]*ge>>23,K[J+4*G+2]=K[J+4*G+2]*ge>>23)}j+=H}}function q(m,j,E,M,z){for(;0<M--;){var H;for(H=0;H<E;++H){var G=m[j+2*H+0],K=15&(ee=m[j+2*H+1]),J=4369*K,ee=(240&ee|ee>>4)*J>>16;m[j+2*H+0]=(240&G|G>>4)*J>>16&240|(15&G|G<<4)*J>>16>>4&15,m[j+2*H+1]=240&ee|K}j+=z}}function te(m,j,E,M,z,H,G,K){var J,ee,le=255;for(ee=0;ee<z;++ee){for(J=0;J<M;++J){var ge=m[j+J];H[G+4*J]=ge,le&=ge}j+=E,G+=K}return le!=255}function oe(m,j,E,M,z){var H;for(H=0;H<z;++H)E[M+H]=m[j+H]>>8}function me(){Xn=A,Ht=q,Gt=te,vr=oe}function je(m,j,E){O[m]=function(M,z,H,G,K,J,ee,le,ge,ve,fe,Oe,we,ce,ue,_e,Pe){var Ae,Ue=Pe-1>>1,Ie=K[J+0]|ee[le+0]<<16,Je=ge[ve+0]|fe[Oe+0]<<16;t(M!=null);var Re=3*Ie+Je+131074>>2;for(j(M[z+0],255&Re,Re>>16,we,ce),H!=null&&(Re=3*Je+Ie+131074>>2,j(H[G+0],255&Re,Re>>16,ue,_e)),Ae=1;Ae<=Ue;++Ae){var Ct=K[J+Ae]|ee[le+Ae]<<16,Mt=ge[ve+Ae]|fe[Oe+Ae]<<16,At=Ie+Ct+Je+Mt+524296,wt=At+2*(Ct+Je)>>3;Re=wt+Ie>>1,Ie=(At=At+2*(Ie+Mt)>>3)+Ct>>1,j(M[z+2*Ae-1],255&Re,Re>>16,we,ce+(2*Ae-1)*E),j(M[z+2*Ae-0],255&Ie,Ie>>16,we,ce+(2*Ae-0)*E),H!=null&&(Re=At+Je>>1,Ie=wt+Mt>>1,j(H[G+2*Ae-1],255&Re,Re>>16,ue,_e+(2*Ae-1)*E),j(H[G+2*Ae+0],255&Ie,Ie>>16,ue,_e+(2*Ae+0)*E)),Ie=Ct,Je=Mt}1&Pe||(Re=3*Ie+Je+131074>>2,j(M[z+Pe-1],255&Re,Re>>16,we,ce+(Pe-1)*E),H!=null&&(Re=3*Je+Ie+131074>>2,j(H[G+Pe-1],255&Re,Re>>16,ue,_e+(Pe-1)*E)))}}function Ce(){Zn[Uf]=NP,Zn[Wf]=a1,Zn[Qx]=SP,Zn[Hf]=i1,Zn[Gf]=s1,Zn[Ug]=o1,Zn[e1]=_P,Zn[Wg]=a1,Zn[Hg]=i1,Zn[Vf]=s1,Zn[Gg]=o1}function ze(m){return m&-16384?0>m?0:255:m>>AP}function Ke(m,j){return ze((19077*m>>8)+(26149*j>>8)-14234)}function ft(m,j,E){return ze((19077*m>>8)-(6419*j>>8)-(13320*E>>8)+8708)}function ut(m,j){return ze((19077*m>>8)+(33050*j>>8)-17685)}function St(m,j,E,M,z){M[z+0]=Ke(m,E),M[z+1]=ft(m,j,E),M[z+2]=ut(m,j)}function ar(m,j,E,M,z){M[z+0]=ut(m,j),M[z+1]=ft(m,j,E),M[z+2]=Ke(m,E)}function or(m,j,E,M,z){var H=ft(m,j,E);j=H<<3&224|ut(m,j)>>3,M[z+0]=248&Ke(m,E)|H>>5,M[z+1]=j}function jr(m,j,E,M,z){var H=240&ut(m,j)|15;M[z+0]=240&Ke(m,E)|ft(m,j,E)>>4,M[z+1]=H}function Qr(m,j,E,M,z){M[z+0]=255,St(m,j,E,M,z+1)}function Rr(m,j,E,M,z){ar(m,j,E,M,z),M[z+3]=255}function Sa(m,j,E,M,z){St(m,j,E,M,z),M[z+3]=255}function Dn(m,j){return 0>m?0:m>j?j:m}function ei(m,j,E){O[m]=function(M,z,H,G,K,J,ee,le,ge){for(var ve=le+(-2&ge)*E;le!=ve;)j(M[z+0],H[G+0],K[J+0],ee,le),j(M[z+1],H[G+0],K[J+0],ee,le+E),z+=2,++G,++J,le+=2*E;1&ge&&j(M[z+0],H[G+0],K[J+0],ee,le)}}function $f(m,j,E){return E==0?m==0?j==0?6:5:j==0?4:0:E}function cu(m,j,E,M,z){switch(m>>>30){case 3:_i(j,E,M,z,0);break;case 2:gr(j,E,M,z);break;case 1:hn(j,E,M,z)}}function uu(m,j){var E,M,z=j.M,H=j.Nb,G=m.oc,K=m.pc+40,J=m.oc,ee=m.pc+584,le=m.oc,ge=m.pc+600;for(E=0;16>E;++E)G[K+32*E-1]=129;for(E=0;8>E;++E)J[ee+32*E-1]=129,le[ge+32*E-1]=129;for(0<z?G[K-1-32]=J[ee-1-32]=le[ge-1-32]=129:(a(G,K-32-1,127,21),a(J,ee-32-1,127,9),a(le,ge-32-1,127,9)),M=0;M<m.za;++M){var ve=j.ya[j.aa+M];if(0<M){for(E=-1;16>E;++E)n(G,K+32*E-4,G,K+32*E+12,4);for(E=-1;8>E;++E)n(J,ee+32*E-4,J,ee+32*E+4,4),n(le,ge+32*E-4,le,ge+32*E+4,4)}var fe=m.Gd,Oe=m.Hd+M,we=ve.ad,ce=ve.Hc;if(0<z&&(n(G,K-32,fe[Oe].y,0,16),n(J,ee-32,fe[Oe].f,0,8),n(le,ge-32,fe[Oe].ea,0,8)),ve.Za){var ue=G,_e=K-32+16;for(0<z&&(M>=m.za-1?a(ue,_e,fe[Oe].y[15],4):n(ue,_e,fe[Oe+1].y,0,4)),E=0;4>E;E++)ue[_e+128+E]=ue[_e+256+E]=ue[_e+384+E]=ue[_e+0+E];for(E=0;16>E;++E,ce<<=2)ue=G,_e=K+c1[E],_a[ve.Ob[E]](ue,_e),cu(ce,we,16*+E,ue,_e)}else if(ue=$f(M,z,ve.Ob[0]),ts[ue](G,K),ce!=0)for(E=0;16>E;++E,ce<<=2)cu(ce,we,16*+E,G,K+c1[E]);for(E=ve.Gc,ue=$f(M,z,ve.Dd),Oi[ue](J,ee),Oi[ue](le,ge),ce=we,ue=J,_e=ee,255&(ve=E>>0)&&(170&ve?mu(ce,256,ue,_e):Yn(ce,256,ue,_e)),ve=le,ce=ge,255&(E>>=8)&&(170&E?mu(we,320,ve,ce):Yn(we,320,ve,ce)),z<m.Ub-1&&(n(fe[Oe].y,0,G,K+480,16),n(fe[Oe].f,0,J,ee+224,8),n(fe[Oe].ea,0,le,ge+224,8)),E=8*H*m.B,fe=m.sa,Oe=m.ta+16*M+16*H*m.R,we=m.qa,ve=m.ra+8*M+E,ce=m.Ha,ue=m.Ia+8*M+E,E=0;16>E;++E)n(fe,Oe+E*m.R,G,K+32*E,16);for(E=0;8>E;++E)n(we,ve+E*m.B,J,ee+32*E,8),n(ce,ue+E*m.B,le,ge+32*E,8)}}function rl(m,j,E,M,z,H,G,K,J){var ee=[0],le=[0],ge=0,ve=J!=null?J.kd:0,fe=J??new iu;if(m==null||12>E)return 7;fe.data=m,fe.w=j,fe.ha=E,j=[j],E=[E],fe.gb=[fe.gb];e:{var Oe=j,we=E,ce=fe.gb;if(t(m!=null),t(we!=null),t(ce!=null),ce[0]=0,12<=we[0]&&!r(m,Oe[0],"RIFF")){if(r(m,Oe[0]+8,"WEBP")){ce=3;break e}var ue=Ee(m,Oe[0]+4);if(12>ue||4294967286<ue){ce=3;break e}if(ve&&ue>we[0]-8){ce=7;break e}ce[0]=ue,Oe[0]+=12,we[0]-=12}ce=0}if(ce!=0)return ce;for(ue=0<fe.gb[0],E=E[0];;){e:{var _e=m;we=j,ce=E;var Pe=ee,Ae=le,Ue=Oe=[0];if((Re=ge=[ge])[0]=0,8>ce[0])ce=7;else{if(!r(_e,we[0],"VP8X")){if(Ee(_e,we[0]+4)!=10){ce=3;break e}if(18>ce[0]){ce=7;break e}var Ie=Ee(_e,we[0]+8),Je=1+pe(_e,we[0]+12);if(2147483648<=Je*(_e=1+pe(_e,we[0]+15))){ce=3;break e}Ue!=null&&(Ue[0]=Ie),Pe!=null&&(Pe[0]=Je),Ae!=null&&(Ae[0]=_e),we[0]+=18,ce[0]-=18,Re[0]=1}ce=0}}if(ge=ge[0],Oe=Oe[0],ce!=0)return ce;if(we=!!(2&Oe),!ue&&ge)return 3;if(H!=null&&(H[0]=!!(16&Oe)),G!=null&&(G[0]=we),K!=null&&(K[0]=0),G=ee[0],Oe=le[0],ge&&we&&J==null){ce=0;break}if(4>E){ce=7;break}if(ue&&ge||!ue&&!ge&&!r(m,j[0],"ALPH")){E=[E],fe.na=[fe.na],fe.P=[fe.P],fe.Sa=[fe.Sa];e:{Ie=m,ce=j,ue=E;var Re=fe.gb;Pe=fe.na,Ae=fe.P,Ue=fe.Sa,Je=22,t(Ie!=null),t(ue!=null),_e=ce[0];var Ct=ue[0];for(t(Pe!=null),t(Ue!=null),Pe[0]=null,Ae[0]=null,Ue[0]=0;;){if(ce[0]=_e,ue[0]=Ct,8>Ct){ce=7;break e}var Mt=Ee(Ie,_e+4);if(4294967286<Mt){ce=3;break e}var At=8+Mt+1&-2;if(Je+=At,0<Re&&Je>Re){ce=3;break e}if(!r(Ie,_e,"VP8 ")||!r(Ie,_e,"VP8L")){ce=0;break e}if(Ct[0]<At){ce=7;break e}r(Ie,_e,"ALPH")||(Pe[0]=Ie,Ae[0]=_e+8,Ue[0]=Mt),_e+=At,Ct-=At}}if(E=E[0],fe.na=fe.na[0],fe.P=fe.P[0],fe.Sa=fe.Sa[0],ce!=0)break}E=[E],fe.Ja=[fe.Ja],fe.xa=[fe.xa];e:if(Re=m,ce=j,ue=E,Pe=fe.gb[0],Ae=fe.Ja,Ue=fe.xa,Ie=ce[0],_e=!r(Re,Ie,"VP8 "),Je=!r(Re,Ie,"VP8L"),t(Re!=null),t(ue!=null),t(Ae!=null),t(Ue!=null),8>ue[0])ce=7;else{if(_e||Je){if(Re=Ee(Re,Ie+4),12<=Pe&&Re>Pe-12){ce=3;break e}if(ve&&Re>ue[0]-8){ce=7;break e}Ae[0]=Re,ce[0]+=8,ue[0]-=8,Ue[0]=Je}else Ue[0]=5<=ue[0]&&Re[Ie+0]==47&&!(Re[Ie+4]>>5),Ae[0]=ue[0];ce=0}if(E=E[0],fe.Ja=fe.Ja[0],fe.xa=fe.xa[0],j=j[0],ce!=0)break;if(4294967286<fe.Ja)return 3;if(K==null||we||(K[0]=fe.xa?2:1),G=[G],Oe=[Oe],fe.xa){if(5>E){ce=7;break}K=G,ve=Oe,we=H,m==null||5>E?m=0:5<=E&&m[j+0]==47&&!(m[j+4]>>5)?(ue=[0],Re=[0],Pe=[0],X(Ae=new D,m,j,E),Qe(Ae,ue,Re,Pe)?(K!=null&&(K[0]=ue[0]),ve!=null&&(ve[0]=Re[0]),we!=null&&(we[0]=Pe[0]),m=1):m=0):m=0}else{if(10>E){ce=7;break}K=Oe,m==null||10>E||!xf(m,j+3,E-3)?m=0:(ve=m[j+0]|m[j+1]<<8|m[j+2]<<16,we=16383&(m[j+7]<<8|m[j+6]),m=16383&(m[j+9]<<8|m[j+8]),1&ve||3<(ve>>1&7)||!(ve>>4&1)||ve>>5>=fe.Ja||!we||!m?m=0:(G&&(G[0]=we),K&&(K[0]=m),m=1))}if(!m||(G=G[0],Oe=Oe[0],ge&&(ee[0]!=G||le[0]!=Oe)))return 3;J!=null&&(J[0]=fe,J.offset=j-J.w,t(4294967286>j-J.w),t(J.offset==J.ha-E));break}return ce==0||ce==7&&ge&&J==null?(H!=null&&(H[0]|=fe.na!=null&&0<fe.na.length),M!=null&&(M[0]=G),z!=null&&(z[0]=Oe),0):ce}function du(m,j,E){var M=j.width,z=j.height,H=0,G=0,K=M,J=z;if(j.Da=m!=null&&0<m.Da,j.Da&&(K=m.cd,J=m.bd,H=m.v,G=m.j,11>E||(H&=-2,G&=-2),0>H||0>G||0>=K||0>=J||H+K>M||G+J>z))return 0;if(j.v=H,j.j=G,j.va=H+K,j.o=G+J,j.U=K,j.T=J,j.da=m!=null&&0<m.da,j.da){if(!Ye(K,J,E=[m.ib],H=[m.hb]))return 0;j.ib=E[0],j.hb=H[0]}return j.ob=m!=null&&m.ob,j.Kb=m==null||!m.Sd,j.da&&(j.ob=j.ib<3*M/4&&j.hb<3*z/4,j.Kb=0),1}function fu(m){if(m==null)return 2;if(11>m.S){var j=m.f.RGBA;j.fb+=(m.height-1)*j.A,j.A=-j.A}else j=m.f.kb,m=m.height,j.O+=(m-1)*j.fa,j.fa=-j.fa,j.N+=(m-1>>1)*j.Ab,j.Ab=-j.Ab,j.W+=(m-1>>1)*j.Db,j.Db=-j.Db,j.F!=null&&(j.J+=(m-1)*j.lb,j.lb=-j.lb);return 0}function nl(m,j,E,M){if(M==null||0>=m||0>=j)return 2;if(E!=null){if(E.Da){var z=E.cd,H=E.bd,G=-2&E.v,K=-2&E.j;if(0>G||0>K||0>=z||0>=H||G+z>m||K+H>j)return 2;m=z,j=H}if(E.da){if(!Ye(m,j,z=[E.ib],H=[E.hb]))return 2;m=z[0],j=H[0]}}M.width=m,M.height=j;e:{var J=M.width,ee=M.height;if(m=M.S,0>=J||0>=ee||!(m>=Uf&&13>m))m=2;else{if(0>=M.Rd&&M.sd==null){G=H=z=j=0;var le=(K=J*u1[m])*ee;if(11>m||(H=(ee+1)/2*(j=(J+1)/2),m==12&&(G=(z=J)*ee)),(ee=i(le+2*H+G))==null){m=1;break e}M.sd=ee,11>m?((J=M.f.RGBA).eb=ee,J.fb=0,J.A=K,J.size=le):((J=M.f.kb).y=ee,J.O=0,J.fa=K,J.Fd=le,J.f=ee,J.N=0+le,J.Ab=j,J.Cd=H,J.ea=ee,J.W=0+le+H,J.Db=j,J.Ed=H,m==12&&(J.F=ee,J.J=0+le+2*H),J.Tc=G,J.lb=z)}if(j=1,z=M.S,H=M.width,G=M.height,z>=Uf&&13>z)if(11>z)m=M.f.RGBA,j&=(K=Math.abs(m.A))*(G-1)+H<=m.size,j&=K>=H*u1[z],j&=m.eb!=null;else{m=M.f.kb,K=(H+1)/2,le=(G+1)/2,J=Math.abs(m.fa),ee=Math.abs(m.Ab);var ge=Math.abs(m.Db),ve=Math.abs(m.lb),fe=ve*(G-1)+H;j&=J*(G-1)+H<=m.Fd,j&=ee*(le-1)+K<=m.Cd,j=(j&=ge*(le-1)+K<=m.Ed)&J>=H&ee>=K&ge>=K,j&=m.y!=null,j&=m.f!=null,j&=m.ea!=null,z==12&&(j&=ve>=H,j&=fe<=m.Tc,j&=m.F!=null)}else j=0;m=j?0:2}}return m!=0||E!=null&&E.fd&&(m=fu(M)),m}var Vr=64,al=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],il=24,sl=32,hu=8,Sn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Te("Predictor0","PredictorAdd0"),O.Predictor0=function(){return 4278190080},O.Predictor1=function(m){return m},O.Predictor2=function(m,j,E){return j[E+0]},O.Predictor3=function(m,j,E){return j[E+1]},O.Predictor4=function(m,j,E){return j[E-1]},O.Predictor5=function(m,j,E){return Me(Me(m,j[E+1]),j[E+0])},O.Predictor6=function(m,j,E){return Me(m,j[E-1])},O.Predictor7=function(m,j,E){return Me(m,j[E+0])},O.Predictor8=function(m,j,E){return Me(j[E-1],j[E+0])},O.Predictor9=function(m,j,E){return Me(j[E+0],j[E+1])},O.Predictor10=function(m,j,E){return Me(Me(m,j[E-1]),Me(j[E+0],j[E+1]))},O.Predictor11=function(m,j,E){var M=j[E+0];return 0>=it(M>>24&255,m>>24&255,(j=j[E-1])>>24&255)+it(M>>16&255,m>>16&255,j>>16&255)+it(M>>8&255,m>>8&255,j>>8&255)+it(255&M,255&m,255&j)?M:m},O.Predictor12=function(m,j,E){var M=j[E+0];return(Ve((m>>24&255)+(M>>24&255)-((j=j[E-1])>>24&255))<<24|Ve((m>>16&255)+(M>>16&255)-(j>>16&255))<<16|Ve((m>>8&255)+(M>>8&255)-(j>>8&255))<<8|Ve((255&m)+(255&M)-(255&j)))>>>0},O.Predictor13=function(m,j,E){var M=j[E-1];return(Ze((m=Me(m,j[E+0]))>>24&255,M>>24&255)<<24|Ze(m>>16&255,M>>16&255)<<16|Ze(m>>8&255,M>>8&255)<<8|Ze(m>>0&255,M>>0&255))>>>0};var zg=O.PredictorAdd0;O.PredictorAdd1=mt,Te("Predictor2","PredictorAdd2"),Te("Predictor3","PredictorAdd3"),Te("Predictor4","PredictorAdd4"),Te("Predictor5","PredictorAdd5"),Te("Predictor6","PredictorAdd6"),Te("Predictor7","PredictorAdd7"),Te("Predictor8","PredictorAdd8"),Te("Predictor9","PredictorAdd9"),Te("Predictor10","PredictorAdd10"),Te("Predictor11","PredictorAdd11"),Te("Predictor12","PredictorAdd12"),Te("Predictor13","PredictorAdd13");var pu=O.PredictorAdd2;bt("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),bt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var If,Vn=O.ColorIndexInverseTransform,ol=O.MapARGB,Rf=O.VP8LColorIndexInverseTransformAlpha,Ff=O.MapAlpha,Ji=O.VP8LPredictorsAdd=[];Ji.length=16,(O.VP8LPredictors=[]).length=16,(O.VP8LPredictorsAdd_C=[]).length=16,(O.VP8LPredictors_C=[]).length=16;var Bs,_n,fn,Zi,Ni,Si,ll,_i,gr,mu,hn,Yn,cl,Bf,gu,zs,qs,Qi,Us,ul,Ws,es,vu,Kn,Xn,Ht,Gt,vr,Er=i(511),Ai=i(2041),yu=i(225),dl=i(767),zf=0,qg=Ai,qf=yu,$n=dl,Jn=Er,Uf=0,Wf=1,Qx=2,Hf=3,Gf=4,Ug=5,e1=6,Wg=7,Hg=8,Vf=9,Gg=10,cP=[2,3,7],uP=[3,3,11],t1=[280,256,256,256,40],dP=[0,1,1,1,0],fP=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],hP=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],pP=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],mP=8,Vg=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Yg=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],bu=null,gP=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],vP=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],r1=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],yP=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],bP=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],xP=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],wP=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ts=[],_a=[],Oi=[],jP=1,n1=2,rs=[],Zn=[];je("UpsampleRgbLinePair",St,3),je("UpsampleBgrLinePair",ar,3),je("UpsampleRgbaLinePair",Sa,4),je("UpsampleBgraLinePair",Rr,4),je("UpsampleArgbLinePair",Qr,4),je("UpsampleRgba4444LinePair",jr,2),je("UpsampleRgb565LinePair",or,2);var NP=O.UpsampleRgbLinePair,SP=O.UpsampleBgrLinePair,a1=O.UpsampleRgbaLinePair,i1=O.UpsampleBgraLinePair,s1=O.UpsampleArgbLinePair,o1=O.UpsampleRgba4444LinePair,_P=O.UpsampleRgb565LinePair,Yf=16,Kf=1<<Yf-1,xu=-227,Kg=482,AP=6,l1=0,OP=i(256),PP=i(256),EP=i(256),kP=i(256),CP=i(Kg-xu),TP=i(Kg-xu);ei("YuvToRgbRow",St,3),ei("YuvToBgrRow",ar,3),ei("YuvToRgbaRow",Sa,4),ei("YuvToBgraRow",Rr,4),ei("YuvToArgbRow",Qr,4),ei("YuvToRgba4444Row",jr,2),ei("YuvToRgb565Row",or,2);var c1=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Xf=[0,2,8],LP=[8,7,6,4,4,2,2,2,1,1,1,1],MP=1;this.WebPDecodeRGBA=function(m,j,E,M,z){var H=Wf,G=new el,K=new va;G.ba=K,K.S=H,K.width=[K.width],K.height=[K.height];var J=K.width,ee=K.height,le=new bi;if(le==null||m==null)var ge=2;else t(le!=null),ge=rl(m,j,E,le.width,le.height,le.Pd,le.Qd,le.format,null);if(ge!=0?J=0:(J!=null&&(J[0]=le.width[0]),ee!=null&&(ee[0]=le.height[0]),J=1),J){K.width=K.width[0],K.height=K.height[0],M!=null&&(M[0]=K.width),z!=null&&(z[0]=K.height);e:{if(M=new Vo,(z=new iu).data=m,z.w=j,z.ha=E,z.kd=1,j=[0],t(z!=null),((m=rl(z.data,z.w,z.ha,null,null,null,j,null,z))==0||m==7)&&j[0]&&(m=4),(j=m)==0){if(t(G!=null),M.data=z.data,M.w=z.w+z.offset,M.ha=z.ha-z.offset,M.put=Va,M.ac=Gr,M.bc=Ya,M.ma=G,z.xa){if((m=Gn())==null){G=1;break e}if(function(ve,fe){var Oe=[0],we=[0],ce=[0];t:for(;;){if(ve==null)return 0;if(fe==null)return ve.a=2,0;if(ve.l=fe,ve.a=0,X(ve.m,fe.data,fe.w,fe.ha),!Qe(ve.m,Oe,we,ce)){ve.a=3;break t}if(ve.xb=n1,fe.width=Oe[0],fe.height=we[0],!Ja(Oe[0],we[0],1,ve,null))break t;return 1}return t(ve.a!=0),0}(m,M)){if(M=(j=nl(M.width,M.height,G.Oa,G.ba))==0){t:{M=m;r:for(;;){if(M==null){M=0;break t}if(t(M.s.yc!=null),t(M.s.Ya!=null),t(0<M.s.Wb),t((E=M.l)!=null),t((z=E.ma)!=null),M.xb!=0){if(M.ca=z.ba,M.tb=z.tb,t(M.ca!=null),!du(z.Oa,E,Hf)){M.a=2;break r}if(!Ds(M,E.width)||E.da)break r;if((E.da||Tt(M.ca.S))&&me(),11>M.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),M.ca.f.kb.F!=null&&me()),M.Pb&&0<M.s.ua&&M.s.vb.X==null&&!De(M.s.vb,M.s.Wa.Xa)){M.a=1;break r}M.xb=0}if(!wa(M,M.V,M.Ba,M.c,M.i,E.o,zo))break r;z.Dc=M.Ma,M=1;break t}t(M.a!=0),M=0}M=!M}M&&(j=m.a)}else j=m.a}else{if((m=new jg)==null){G=1;break e}if(m.Fa=z.na,m.P=z.P,m.qc=z.Sa,wf(m,M)){if((j=nl(M.width,M.height,G.Oa,G.ba))==0){if(m.Aa=0,E=G.Oa,t((z=m)!=null),E!=null){if(0<(J=0>(J=E.Md)?0:100<J?255:255*J/100)){for(ee=le=0;4>ee;++ee)12>(ge=z.pb[ee]).lc&&(ge.ia=J*LP[0>ge.lc?0:ge.lc]>>3),le|=ge.ia;le&&(alert("todo:VP8InitRandom"),z.ia=1)}z.Ga=E.Id,100<z.Ga?z.Ga=100:0>z.Ga&&(z.Ga=0)}Ng(m,M)||(j=m.a)}}else j=m.a}j==0&&G.Oa!=null&&G.Oa.fd&&(j=fu(G.ba))}G=j}H=G!=0?null:11>H?K.f.RGBA.eb:K.f.kb.y}else H=null;return H};var u1=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(O,T){for(var I="",k=0;k<4;k++)I+=String.fromCharCode(O[T++]);return I}function d(O,T){return(O[T+0]<<0|O[T+1]<<8|O[T+2]<<16)>>>0}function f(O,T){return(O[T+0]<<0|O[T+1]<<8|O[T+2]<<16|O[T+3]<<24)>>>0}new c;var h=[0],p=[0],v=[],g=new c,x=e,b=function(O,T){var I={},k=0,C=!1,L=0,R=0;if(I.frames=[],!function(W,Q,ne,se){for(var he=0;he<se;he++)if(W[Q+he]!=ne.charCodeAt(he))return!0;return!1}(O,T,"RIFF",4)){for(f(O,T+=4),T+=8;T<O.length;){var V=u(O,T),F=f(O,T+=4);T+=4;var B=F+(1&F);switch(V){case"VP8 ":case"VP8L":I.frames[k]===void 0&&(I.frames[k]={}),(Z=I.frames[k]).src_off=C?R:T-8,Z.src_size=L+F+8,k++,C&&(C=!1,L=0,R=0);break;case"VP8X":(Z=I.header={}).feature_flags=O[T];var X=T+4;Z.canvas_width=1+d(O,X),X+=3,Z.canvas_height=1+d(O,X),X+=3;break;case"ALPH":C=!0,L=B+8,R=T-8;break;case"ANIM":(Z=I.header).bgcolor=f(O,T),X=T+4,Z.loop_count=(ae=O)[(D=X)+0]<<0|ae[D+1]<<8,X+=2;break;case"ANMF":var Y,Z;(Z=I.frames[k]={}).offset_x=2*d(O,T),T+=3,Z.offset_y=2*d(O,T),T+=3,Z.width=1+d(O,T),T+=3,Z.height=1+d(O,T),T+=3,Z.duration=d(O,T),T+=3,Y=O[T++],Z.dispose=1&Y,Z.blend=Y>>1&1}V!="ANMF"&&(T+=B)}var ae,D;return I}}(x,0);b.response=x,b.rgbaoutput=!0,b.dataurl=!1;var y=b.header?b.header:null,N=b.frames?b.frames:null;if(y){y.loop_counter=y.loop_count,h=[y.canvas_height],p=[y.canvas_width];for(var _=0;_<N.length&&N[_].blend!=0;_++);}var w=N[0],S=g.WebPDecodeRGBA(x,w.src_off,w.src_size,p,h);w.rgba=S,w.imgwidth=p[0],w.imgheight=h[0];for(var P=0;P<p[0]*h[0]*4;P++)v[P]=S[P];return this.width=p,this.height=h,this.data=v,this}(function(e){var t=function(){return typeof P0=="function"},r=function(h,p,v,g){var x=4,b=o;switch(g){case e.image_compression.FAST:x=1,b=i;break;case e.image_compression.MEDIUM:x=6,b=l;break;case e.image_compression.SLOW:x=9,b=c}h=n(h,p,v,b);var y=P0(h,{level:x});return e.__addimage__.arrayBufferToBinaryString(y)},n=function(h,p,v,g){for(var x,b,y,N=h.length/p,_=new Uint8Array(h.length+N),w=d(),S=0;S<N;S+=1){if(y=S*p,x=h.subarray(y,y+p),g)_.set(g(x,v,b),y+S);else{for(var P,O=w.length,T=[];P<O;P+=1)T[P]=w[P](x,v,b);var I=f(T.concat());_.set(T[I],y+S)}b=x}return _},a=function(h){var p=Array.apply([],h);return p.unshift(0),p},i=function(h,p){var v,g=[],x=h.length;g[0]=1;for(var b=0;b<x;b+=1)v=h[b-p]||0,g[b+1]=h[b]-v+256&255;return g},o=function(h,p,v){var g,x=[],b=h.length;x[0]=2;for(var y=0;y<b;y+=1)g=v&&v[y]||0,x[y+1]=h[y]-g+256&255;return x},l=function(h,p,v){var g,x,b=[],y=h.length;b[0]=3;for(var N=0;N<y;N+=1)g=h[N-p]||0,x=v&&v[N]||0,b[N+1]=h[N]+256-(g+x>>>1)&255;return b},c=function(h,p,v){var g,x,b,y,N=[],_=h.length;N[0]=4;for(var w=0;w<_;w+=1)g=h[w-p]||0,x=v&&v[w]||0,b=v&&v[w-p]||0,y=u(g,x,b),N[w+1]=h[w]-y+256&255;return N},u=function(h,p,v){if(h===p&&p===v)return h;var g=Math.abs(p-v),x=Math.abs(h-v),b=Math.abs(h+p-v-v);return g<=x&&g<=b?h:x<=b?p:v},d=function(){return[a,i,o,l,c]},f=function(h){var p=h.map(function(v){return v.reduce(function(g,x){return g+Math.abs(x)},0)});return p.indexOf(Math.min.apply(null,p))};e.processPNG=function(h,p,v,g){var x,b,y,N,_,w,S,P,O,T,I,k,C,L,R,V=this.decode.FLATE_DECODE,F="";if(this.__addimage__.isArrayBuffer(h)&&(h=new Uint8Array(h)),this.__addimage__.isArrayBufferView(h)){if(h=(y=new jG(h)).imgData,b=y.bits,x=y.colorSpace,_=y.colors,[4,6].indexOf(y.colorType)!==-1){if(y.bits===8){O=(P=y.pixelBitlength==32?new Uint32Array(y.decodePixels().buffer):y.pixelBitlength==16?new Uint16Array(y.decodePixels().buffer):new Uint8Array(y.decodePixels().buffer)).length,I=new Uint8Array(O*y.colors),T=new Uint8Array(O);var B,X=y.pixelBitlength-y.bits;for(L=0,R=0;L<O;L++){for(C=P[L],B=0;B<X;)I[R++]=C>>>B&255,B+=y.bits;T[L]=C>>>B&255}}if(y.bits===16){O=(P=new Uint32Array(y.decodePixels().buffer)).length,I=new Uint8Array(O*(32/y.pixelBitlength)*y.colors),T=new Uint8Array(O*(32/y.pixelBitlength)),k=y.colors>1,L=0,R=0;for(var Y=0;L<O;)C=P[L++],I[R++]=C>>>0&255,k&&(I[R++]=C>>>16&255,C=P[L++],I[R++]=C>>>0&255),T[Y++]=C>>>16&255;b=8}g!==e.image_compression.NONE&&t()?(h=r(I,y.width*y.colors,y.colors,g),S=r(T,y.width,1,g)):(h=I,S=T,V=void 0)}if(y.colorType===3&&(x=this.color_spaces.INDEXED,w=y.palette,y.transparency.indexed)){var Z=y.transparency.indexed,ae=0;for(L=0,O=Z.length;L<O;++L)ae+=Z[L];if((ae/=255)===O-1&&Z.indexOf(0)!==-1)N=[Z.indexOf(0)];else if(ae!==O){for(P=y.decodePixels(),T=new Uint8Array(P.length),L=0,O=P.length;L<O;L++)T[L]=Z[P[L]];S=r(T,y.width,1)}}var D=function(W){var Q;switch(W){case e.image_compression.FAST:Q=11;break;case e.image_compression.MEDIUM:Q=13;break;case e.image_compression.SLOW:Q=14;break;default:Q=12}return Q}(g);return V===this.decode.FLATE_DECODE&&(F="/Predictor "+D+" "),F+="/Colors "+_+" /BitsPerComponent "+b+" /Columns "+y.width,(this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),(S&&this.__addimage__.isArrayBuffer(S)||this.__addimage__.isArrayBufferView(S))&&(S=this.__addimage__.arrayBufferToBinaryString(S)),{alias:v,data:h,index:p,filter:V,decodeParameters:F,transparency:N,palette:w,sMask:S,predictor:D,width:y.width,height:y.height,bitsPerComponent:b,colorSpace:x}}}})(tt.API),function(e){e.processGIF89A=function(t,r,n,a){var i=new NG(t),o=i.width,l=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:o,height:l},d=new Ev(100).encode(u,100);return e.processJPEG.call(this,d,r,n,a)},e.processGIF87A=e.processGIF89A}(tt.API),Pa.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Pa.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){qt.log("bit decode error:"+r)}},Pa.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*a*4,l=0;l<8&&8*a+l<this.width;l++){var c=this.palette[i>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},Pa.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*a*4,l=i>>4,c=15&i,u=this.palette[l];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*a+1>=this.width)break;u=this.palette[c],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},Pa.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var o=this.palette[a];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},Pa.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,l=(i>>5&t)/t*255|0,c=(i>>10&t)/t*255|0,u=i>>15?255:0,d=n*this.width*4+4*a;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=u}this.pos+=e}},Pa.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,c=(o>>5&r)/r*255|0,u=(o>>11)/t*255|0,d=a*this.width*4+4*i;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=l,this.data[d+3]=255}this.pos+=e}},Pa.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},Pa.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=i,this.data[l+1]=a,this.data[l+2]=n,this.data[l+3]=o}},Pa.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,a){var i=new Pa(t,!1),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},u=new Ev(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)}}(tt.API),Dw.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,a){var i=new Dw(t),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},u=new Ev(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)}}(tt.API),tt.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,i=new Uint8Array(a/4*3),o=new Uint8Array(a/4),l=0,c=0,u=0;u<a;u+=4){var d=n[u],f=n[u+1],h=n[u+2],p=n[u+3];i[l++]=d,i[l++]=f,i[l++]=h,o[c++]=p}var v=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:v,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},tt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},bl=tt.API,mh=bl.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:a.metadata.Unicode.widths,c=l.fof?l.fof:1,u=t.kerning?t.kerning:a.metadata.Unicode.kerning,d=u.fof?u.fof:1,f=t.doKerning!==!1,h=0,p=e.length,v=0,g=l[0]||c,x=[];for(r=0;r<p;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?x.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+o*(1e3/i)||0)/1e3):(h=f&&jt(u[n])==="object"&&!isNaN(parseInt(u[n][v],10))?u[n][v]/d:0,x.push((l[n]||g)/c+h)),v=n;return x},Cw=bl.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return bl.processArabic&&(e=bl.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:mh.apply(this,arguments).reduce(function(i,o){return i+o},0)},Tw=function(e,t,r,n){for(var a=[],i=0,o=e.length,l=0;i!==o&&l+t[i]<r;)l+=t[i],i++;a.push(e.slice(0,i));var c=i;for(l=0;i!==o;)l+t[i]>n&&(a.push(e.slice(c,i)),l=0,c=i),l+=t[i],i++;return c!==i&&a.push(e.slice(c,i)),a},Lw=function(e,t,r){r||(r={});var n,a,i,o,l,c,u,d=[],f=[d],h=r.textIndent||0,p=0,v=0,g=e.split(" "),x=mh.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?g[0].length+2:r.lineIndent||0){var b=Array(c).join(" "),y=[];g.map(function(_){(_=_.split(/\s*\n/)).length>1?y=y.concat(_.map(function(w,S){return(S&&w.length?`
`:"")+w})):y.push(_[0])}),g=y,c=Cw.apply(this,[b,r])}for(i=0,o=g.length;i<o;i++){var N=0;if(n=g[i],c&&n[0]==`
`&&(n=n.substr(1),N=1),h+p+(v=(a=mh.apply(this,[n,r])).reduce(function(_,w){return _+w},0))>t||N){if(v>t){for(l=Tw.apply(this,[n,a,t-(h+p),t]),d.push(l.shift()),d=[l.pop()];l.length;)f.push([l.shift()]);v=a.slice(n.length-(d[0]?d[0].length:0)).reduce(function(_,w){return _+w},0)}else d=[n];f.push(d),h=v+c,p=x}else d.push(n),h+=p+v,p=x}return u=c?function(_,w){return(w?b:"")+_.join(" ")}:function(_){return _.join(" ")},f.map(u)},bl.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var f=this.internal.getFont(d.fontName,d.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var l,c,u=[];for(l=0,c=n.length;l<c;l++)u=u.concat(Lw.apply(this,[n[l],o,i]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},a=0;a<t.length;a++)r[t[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=t[a];var i=function(f){return"0x"+parseInt(f,10).toString(16)},o=e.__fontmetrics__.compress=function(f){var h,p,v,g,x=["{"];for(var b in f){if(h=f[b],isNaN(parseInt(b,10))?p="'"+b+"'":(b=parseInt(b,10),p=(p=i(b).slice(2)).slice(0,-1)+n[p.slice(-1)]),typeof h=="number")h<0?(v=i(h).slice(3),g="-"):(v=i(h).slice(2),g=""),v=g+v.slice(0,-1)+n[v.slice(-1)];else{if(jt(h)!=="object")throw new Error("Don't know what to do with value type "+jt(h)+".");v=o(h)}x.push(p+v)}return x.push("}"),x.join("")},l=e.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,p,v,g,x={},b=1,y=x,N=[],_="",w="",S=f.length-1,P=1;P<S;P+=1)(g=f[P])=="'"?h?(v=h.join(""),h=void 0):h=[]:h?h.push(g):g=="{"?(N.push([y,v]),y={},v=void 0):g=="}"?((p=N.pop())[0][p[1]]=y,v=void 0,y=p[0]):g=="-"?b=-1:v===void 0?r.hasOwnProperty(g)?(_+=r[g],v=parseInt(_,16)*b,b=1,_=""):_+=g:r.hasOwnProperty(g)?(w+=r[g],y[v]=parseInt(w,16)*b,b=1,v=void 0,w=""):w+=g;return x},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},d={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(f){var h=f.font,p=d.Unicode[h.postScriptName];p&&(h.metadata.Unicode={},h.metadata.Unicode.widths=p.widths,h.metadata.Unicode.kerning=p.kerning);var v=u.Unicode[h.postScriptName];v&&(h.metadata.Unicode.encoding=v,h.encoding=v.codePages[0])}])}(tt.API),function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(Ku(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(a,n)}}])}(tt),function(e){function t(){return(rt.canvg?Promise.resolve(rt.canvg):n0(()=>import("./index.es-JRvb431L.js"),__vite__mapDeps([0,1,2,3,4]))).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}tt.API.addSvgAsImage=function(r,n,a,i,o,l,c,u){if(isNaN(n)||isNaN(a))throw qt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(o))throw qt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=i,d.height=o;var f=d.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,d.width,d.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return t().then(function(v){return v.fromString(f,r,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(v){return v.render(h)}).then(function(){p.addImage(d.toDataURL("image/jpeg",1),n,a,i,o,c,u)})}}(),tt.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},tt.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],u=0,d=0,f=0;function h(v,g){var x,b=!1;for(x=0;x<v.length;x+=1)v[x]===g&&(b=!0);return b}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var p=l.length;for(f=0;f<p;f+=1)r[l[f]].value=r[l[f]].defaultValue,r[l[f]].explicitSet=!1}if(jt(e)==="object"){for(a in e)if(i=e[a],h(l,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&h(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(u=0;u<i.length;u+=1)if(n=!0,i[u].length===1&&typeof i[u][0]=="number")c.push(String(i[u]-1));else if(i[u].length>1){for(d=0;d<i[u].length;d+=1)typeof i[u][d]!="number"&&(n=!1);n===!0&&c.push([i[u][0]-1,i[u][1]-1].join(" "))}r[a].value="["+c.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,g=[];for(v in r)r[v].explicitSet===!0&&(r[v].type==="name"?g.push("/"+v+" /"+r[v].value):g.push("/"+v+" "+r[v].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=i.length+o.length+l.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(a+i+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(tt.API),function(e){var t=e.API,r=t.pdfEscape16=function(i,o){for(var l,c=o.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],f=0,h=i.length;f<h;++f){if(l=o.metadata.characterToGlyph(i.charCodeAt(f)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=i.charCodeAt(f),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return d.join("");l=l.toString(16),d.push(u[4-l.length],l)}return d.join("")},n=function(i){var o,l,c,u,d,f,h;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],f=0,h=(l=Object.keys(i).sort(function(p,v){return p-v})).length;f<h;f++)o=l[f],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(u=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,u=o.newObject,d=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var f=l.metadata.Unicode.widths,h=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),p="",v=0;v<h.length;v++)p+=String.fromCharCode(h[v]);var g=u();d({data:p,addLength1:!0,objectId:g}),c("endobj");var x=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:x}),c("endobj");var b=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+_l(l.fontName)),c("/FontFile2 "+g+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var y=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+_l(l.fontName)),c("/FontDescriptor "+b+" 0 R"),c("/W "+e.API.PDFObject.convert(f)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+x+" 0 R"),c("/BaseFont /"+_l(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+y+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,u=o.newObject,d=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var f=l.metadata.rawData,h="",p=0;p<f.length;p++)h+=String.fromCharCode(f[p]);var v=u();d({data:h,addLength1:!0,objectId:v}),c("endobj");var g=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:g}),c("endobj");var x=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+v+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+_l(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var b=0;b<l.metadata.hmtx.widths.length;b++)l.metadata.hmtx.widths[b]=parseInt(l.metadata.hmtx.widths[b]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+_l(l.fontName)+"/FontDescriptor "+x+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]);var a=function(i){var o,l=i.text||"",c=i.x,u=i.y,d=i.options||{},f=i.mutex||{},h=f.pdfEscape,p=f.activeFontKey,v=f.fonts,g=p,x="",b=0,y="",N=v[g].encoding;if(v[g].encoding!=="Identity-H")return{text:l,x:c,y:u,options:d,mutex:f};for(y=l,g=p,Array.isArray(l)&&(y=l[0]),b=0;b<y.length;b+=1)v[g].metadata.hasOwnProperty("cmap")&&(o=v[g].metadata.cmap.unicode.codeMap[y[b].charCodeAt(0)]),o||y[b].charCodeAt(0)<256&&v[g].metadata.hasOwnProperty("Unicode")?x+=y[b]:x+="";var _="";return parseInt(g.slice(1))<14||N==="WinAnsiEncoding"?_=h(x,g).split("").map(function(w){return w.charCodeAt(0).toString(16)}).join(""):N==="Identity-H"&&(_=r(x,v[g])),f.isHex=!0,{text:_,x:c,y:u,options:d,mutex:f}};t.events.push(["postProcessText",function(i){var o=i.text||"",l=[],c={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?l.push([a(Object.assign({},c,{text:o[u][0]})).text,o[u][1],o[u][2]]):l.push(a(Object.assign({},c,{text:o[u]})).text);i.text=l}else i.text=a(Object.assign({},c,{text:o})).text}])}(tt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(tt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,i,o,l,c,u,d,f=t,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},x=["(",")","(","<",">","<","[","]","[","{","}","{","Â«","Â»","Â«","â€¹","â€º","â€¹","â…","â†","â…","â½","â¾","â½","â‚","â‚Ž","â‚","â‰¤","â‰¥","â‰¤","âŒ©","âŒª","âŒ©","ï¹™","ï¹š","ï¹™","ï¹›","ï¹œ","ï¹›","ï¹","ï¹ž","ï¹","ï¹¤","ï¹¥","ï¹¤"],b=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),y=!1,N=0;this.__bidiEngine__={};var _=function(k){var C=k.charCodeAt(),L=C>>8,R=g[L];return R!==void 0?f[256*R+(255&C)]:L===252||L===253?"AL":b.test(L)?"L":L===8?"R":"N"},w=function(k){for(var C,L=0;L<k.length;L++){if((C=_(k.charAt(L)))==="L")return!1;if(C==="R")return!0}return!1},S=function(k,C,L,R){var V,F,B,X,Y=C[R];switch(Y){case"L":case"R":y=!1;break;case"N":case"AN":break;case"EN":y&&(Y="AN");break;case"AL":y=!0,Y="R";break;case"WS":Y="N";break;case"CS":R<1||R+1>=C.length||(V=L[R-1])!=="EN"&&V!=="AN"||(F=C[R+1])!=="EN"&&F!=="AN"?Y="N":y&&(F="AN"),Y=F===V?F:"N";break;case"ES":Y=(V=R>0?L[R-1]:"B")==="EN"&&R+1<C.length&&C[R+1]==="EN"?"EN":"N";break;case"ET":if(R>0&&L[R-1]==="EN"){Y="EN";break}if(y){Y="N";break}for(B=R+1,X=C.length;B<X&&C[B]==="ET";)B++;Y=B<X&&C[B]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(X=C.length,B=R+1;B<X&&C[B]==="NSM";)B++;if(B<X){var Z=k[R],ae=Z>=1425&&Z<=2303||Z===64286;if(V=C[B],ae&&(V==="R"||V==="AL")){Y="R";break}}}Y=R<1||(V=C[R-1])==="B"?"N":L[R-1];break;case"B":y=!1,a=!0,Y=N;break;case"S":i=!0,Y="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":y=!1;break;case"BN":Y="N"}return Y},P=function(k,C,L){var R=k.split("");return L&&O(R,L,{hiLevel:N}),R.reverse(),C&&C.reverse(),R.join("")},O=function(k,C,L){var R,V,F,B,X,Y=-1,Z=k.length,ae=0,D=[],W=N?p:h,Q=[];for(y=!1,a=!1,i=!1,V=0;V<Z;V++)Q[V]=_(k[V]);for(F=0;F<Z;F++){if(X=ae,D[F]=S(k,Q,D,F),R=240&(ae=W[X][v[D[F]]]),ae&=15,C[F]=B=W[ae][5],R>0)if(R===16){for(V=Y;V<F;V++)C[V]=1;Y=-1}else Y=-1;if(W[ae][6])Y===-1&&(Y=F);else if(Y>-1){for(V=Y;V<F;V++)C[V]=B;Y=-1}Q[F]==="B"&&(C[F]=0),L.hiLevel|=B}i&&function(ne,se,he){for(var de=0;de<he;de++)if(ne[de]==="S"){se[de]=N;for(var ie=de-1;ie>=0&&ne[ie]==="WS";ie--)se[ie]=N}}(Q,C,Z)},T=function(k,C,L,R,V){if(!(V.hiLevel<k)){if(k===1&&N===1&&!a)return C.reverse(),void(L&&L.reverse());for(var F,B,X,Y,Z=C.length,ae=0;ae<Z;){if(R[ae]>=k){for(X=ae+1;X<Z&&R[X]>=k;)X++;for(Y=ae,B=X-1;Y<B;Y++,B--)F=C[Y],C[Y]=C[B],C[B]=F,L&&(F=L[Y],L[Y]=L[B],L[B]=F);ae=X}ae++}}},I=function(k,C,L){var R=k.split(""),V={hiLevel:N};return L||(L=[]),O(R,L,V),function(F,B,X){if(X.hiLevel!==0&&d)for(var Y,Z=0;Z<F.length;Z++)B[Z]===1&&(Y=x.indexOf(F[Z]))>=0&&(F[Z]=x[Y+1])}(R,L,V),T(2,R,C,L,V),T(1,R,C,L,V),R.join("")};return this.__bidiEngine__.doBidiReorder=function(k,C,L){if(function(V,F){if(F)for(var B=0;B<V.length;B++)F[B]=B;l===void 0&&(l=w(V)),u===void 0&&(u=w(V))}(k,C),o||!c||u)if(o&&c&&l^u)N=l?1:0,k=P(k,C,L);else if(!o&&c&&u)N=l?1:0,k=I(k,C,L),k=P(k,C);else if(!o||l||c||u){if(o&&!c&&l^u)k=P(k,C),l?(N=0,k=I(k,C,L)):(N=1,k=I(k,C,L),k=P(k,C));else if(o&&l&&!c&&u)N=1,k=I(k,C,L),k=P(k,C);else if(!o&&!c&&l^u){var R=d;l?(N=1,k=I(k,C,L),N=0,d=!1,k=I(k,C,L),d=R):(N=0,k=I(k,C,L),k=P(k,C),N=1,d=!1,k=I(k,C,L),d=R,k=P(k,C))}}else N=0,k=I(k,C,L);else N=l?1:0,k=I(k,C,L);return k},this.__bidiEngine__.setOptions=function(k){k&&(o=k.isInputVisual,c=k.isOutputVisual,l=k.isInputRtl,u=k.isOutputRtl,d=k.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var o=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var l=0;for(o=[],l=0;l<a.length;l+=1)Object.prototype.toString.call(a[l])==="[object Array]"?o.push([r.doBidiReorder(a[l][0]),a[l][1],a[l][2]]):o.push([r.doBidiReorder(a[l])]);n.text=o}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(tt),tt.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Ss(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new RG(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new SG(this.contents),this.head=new AG(this),this.name=new CG(this),this.cmap=new WA(this),this.toUnicode={},this.hhea=new OG(this),this.maxp=new TG(this),this.hmtx=new LG(this),this.post=new EG(this),this.os2=new PG(this),this.loca=new IG(this),this.glyf=new MG(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,u;for(u=[],o=0,l=(c=this.bbox).length;o<l;o++)t=c[o],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,i,o,l;for(o=0,i=0,l=(t=""+t).length;0<=l?i<l:i>l;i=0<=l?++i:--i)a=t.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var Wa,Ss=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,i,o,l,c;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*o+256*l+c},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,i;for(i=[],n=0,a=t.length;n<a;n++)r=t[n],i.push(this.writeByte(r));return i},e}(),SG=function(){var e;function t(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,i,o,l,c,u,d,f,h,p,v,g;for(g in p=Object.keys(r).length,c=Math.log(2),f=16*Math.floor(Math.log(p)/c),o=Math.floor(f/c),d=16*p-f,(a=new Ss).writeInt(this.scalarType),a.writeShort(p),a.writeShort(f),a.writeShort(o),a.writeShort(d),i=16*p,u=a.pos+i,l=null,v=[],r)for(h=r[g],a.writeString(g),a.writeInt(e(h)),a.writeInt(u),a.writeInt(h.length),v=v.concat(h),g==="head"&&(l=u),u+=h.length;u%4;)v.push(0),u++;return a.write(v),n=2981146554-e(a.data),a.pos=l+8,a.writeUInt32(n),a.data},e=function(r){var n,a,i,o;for(r=HA.call(r);r.length%4;)r.push(0);for(i=new Ss(r),a=0,n=0,o=r.length;n<o;n=n+=4)a+=i.readUInt32();return 4294967295&a},t}(),_G={}.hasOwnProperty,yi=function(e,t){for(var r in t)_G.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};Wa=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var AG=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return yi(t,Wa),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new Ss).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t}(),$w=function(){function e(t,r){var n,a,i,o,l,c,u,d,f,h,p,v,g,x,b,y,N;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(p=t.readUInt16(),h=p/2,t.pos+=6,i=function(){var _,w;for(w=[],c=_=0;0<=h?_<h:_>h;c=0<=h?++_:--_)w.push(t.readUInt16());return w}(),t.pos+=2,g=function(){var _,w;for(w=[],c=_=0;0<=h?_<h:_>h;c=0<=h?++_:--_)w.push(t.readUInt16());return w}(),u=function(){var _,w;for(w=[],c=_=0;0<=h?_<h:_>h;c=0<=h?++_:--_)w.push(t.readUInt16());return w}(),d=function(){var _,w;for(w=[],c=_=0;0<=h?_<h:_>h;c=0<=h?++_:--_)w.push(t.readUInt16());return w}(),a=(this.length-t.pos+this.offset)/2,l=function(){var _,w;for(w=[],c=_=0;0<=a?_<a:_>a;c=0<=a?++_:--_)w.push(t.readUInt16());return w}(),c=b=0,N=i.length;b<N;c=++b)for(x=i[c],n=y=v=g[c];v<=x?y<=x:y>=x;n=v<=x?++y:--y)d[c]===0?o=n+u[c]:(o=l[d[c]/2+(n-v)-(h-c)]||0)!==0&&(o+=u[c]),this.codeMap[n]=65535&o}t.pos=f}return e.encode=function(t,r){var n,a,i,o,l,c,u,d,f,h,p,v,g,x,b,y,N,_,w,S,P,O,T,I,k,C,L,R,V,F,B,X,Y,Z,ae,D,W,Q,ne,se,he,de,ie,xe,be,pe;switch(R=new Ss,o=Object.keys(t).sort(function(Ee,De){return Ee-De}),r){case"macroman":for(g=0,x=function(){var Ee=[];for(v=0;v<256;++v)Ee.push(0);return Ee}(),y={0:0},i={},V=0,Y=o.length;V<Y;V++)y[ie=t[a=o[V]]]==null&&(y[ie]=++g),i[a]={old:t[a],new:y[t[a]]},x[a]=y[t[a]];return R.writeUInt16(1),R.writeUInt16(0),R.writeUInt32(12),R.writeUInt16(0),R.writeUInt16(262),R.writeUInt16(0),R.write(x),{charMap:i,subtable:R.data,maxGlyphID:g+1};case"unicode":for(C=[],f=[],N=0,y={},n={},b=u=null,F=0,Z=o.length;F<Z;F++)y[w=t[a=o[F]]]==null&&(y[w]=++N),n[a]={old:w,new:y[w]},l=y[w]-a,b!=null&&l===u||(b&&f.push(b),C.push(a),u=l),b=a;for(b&&f.push(b),f.push(65535),C.push(65535),I=2*(T=C.length),O=2*Math.pow(Math.log(T)/Math.LN2,2),h=Math.log(O/2)/Math.LN2,P=2*T-O,c=[],S=[],p=[],v=B=0,ae=C.length;B<ae;v=++B){if(k=C[v],d=f[v],k===65535){c.push(0),S.push(0);break}if(k-(L=n[k].new)>=32768)for(c.push(0),S.push(2*(p.length+T-v)),a=X=k;k<=d?X<=d:X>=d;a=k<=d?++X:--X)p.push(n[a].new);else c.push(L-k),S.push(0)}for(R.writeUInt16(3),R.writeUInt16(1),R.writeUInt32(12),R.writeUInt16(4),R.writeUInt16(16+8*T+2*p.length),R.writeUInt16(0),R.writeUInt16(I),R.writeUInt16(O),R.writeUInt16(h),R.writeUInt16(P),he=0,D=f.length;he<D;he++)a=f[he],R.writeUInt16(a);for(R.writeUInt16(0),de=0,W=C.length;de<W;de++)a=C[de],R.writeUInt16(a);for(xe=0,Q=c.length;xe<Q;xe++)l=c[xe],R.writeUInt16(l);for(be=0,ne=S.length;be<ne;be++)_=S[be],R.writeUInt16(_);for(pe=0,se=p.length;pe<se;pe++)g=p[pe],R.writeUInt16(g);return{charMap:n,subtable:R.data,maxGlyphID:N+1}}},e}(),WA=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return yi(t,Wa),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,a,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)n=new $w(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var a,i;return n==null&&(n="macroman"),a=$w.encode(r,n),(i=new Ss).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},t}(),OG=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return yi(t,Wa),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),PG=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return yi(t,Wa),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),EG=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return yi(t,Wa),t.prototype.tag="post",t.prototype.parse=function(r){var n,a,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var o;for(a=r.readUInt16(),this.glyphNameIndex=[],o=0;0<=a?o<a:o>a;o=0<=a?++o:--o)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var l,c,u;for(u=[],o=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;o=0<=c?++l:--l)u.push(r.readUInt32());return u}).call(this)}},t}(),kG=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},CG=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return yi(t,Wa),t.prototype.tag="name",t.prototype.parse=function(r){var n,a,i,o,l,c,u,d,f,h,p;for(r.pos=this.offset,r.readShort(),n=r.readShort(),c=r.readShort(),a=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+c+r.readShort()});for(u={},o=f=0,h=a.length;f<h;o=++f)i=a[o],r.pos=i.offset,d=r.readString(i.length),l=new kG(d,i),u[p=i.nameID]==null&&(u[p]=[]),u[i.nameID].push(l);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},t}(),TG=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return yi(t,Wa),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),LG=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return yi(t,Wa),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,a,i,o,l,c,u;for(r.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,f;for(f=[],n=d=0;0<=i?d<i:d>i;n=0<=i?++d:--d)f.push(r.readInt16());return f}(),this.widths=(function(){var d,f,h,p;for(p=[],d=0,f=(h=this.metrics).length;d<f;d++)o=h[d],p.push(o.advance);return p}).call(this),a=this.widths[this.widths.length-1],u=[],n=l=0;0<=i?l<i:l>i;n=0<=i?++l:--l)u.push(this.widths.push(a));return u},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),HA=[].slice,MG=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return yi(t,Wa),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,a,i,o,l,c,u,d,f,h;return r in this.cache?this.cache[r]:(o=this.file.loca,n=this.file.contents,a=o.indexOf(r),(i=o.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,l=(c=new Ss(n.read(i))).readShort(),d=c.readShort(),h=c.readShort(),u=c.readShort(),f=c.readShort(),this.cache[r]=l===-1?new $G(c,d,h,u,f):new DG(c,l,d,h,u,f),this.cache[r]))},t.prototype.encode=function(r,n,a){var i,o,l,c,u;for(l=[],o=[],c=0,u=n.length;c<u;c++)i=r[n[c]],o.push(l.length),i&&(l=l.concat(i.encode(a)));return o.push(l.length),{table:l,offsets:o}},t}(),DG=function(){function e(t,r,n,a,i,o){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),$G=function(){function e(t,r,n,a,i){var o,l;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new Ss(HA.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),IG=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return yi(t,Wa),t.prototype.tag="loca",t.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,o;for(o=[],a=0,i=this.length;a<i;a+=2)o.push(2*r.readUInt16());return o}).call(this):(function(){var i,o;for(o=[],a=0,i=this.length;a<i;a+=4)o.push(r.readUInt32());return o}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),i=0,o=0,l=0;l<a.length;++l)if(a[l]=i,o<n.length&&n[o]==l){++o,a[l]=i;var c=this.offsets[l],u=this.offsets[l+1]-c;u>0&&(i+=u)}for(var d=new Array(4*a.length),f=0;f<a.length;++f)d[4*f+3]=255&a[f],d[4*f+2]=(65280&a[f])>>8,d[4*f+1]=(16711680&a[f])>>16,d[4*f]=(4278190080&a[f])>>24;return d},t}(),RG=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,i,o,l,c;for(a={},o=0,l=t.length;o<l;o++)a[i=t[o]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))n=c[i],a[i]=n;return a},e.prototype.encode=function(t,r){var n,a,i,o,l,c,u,d,f,h,p,v,g,x,b;for(a in n=WA.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),p={0:0},b=n.charMap)p[(c=b[a]).old]=c.new;for(v in h=n.maxGlyphID,o)v in p||(p[v]=h++);return d=function(y){var N,_;for(N in _={},y)_[y[N]]=N;return _}(p),f=Object.keys(d).sort(function(y,N){return y-N}),g=function(){var y,N,_;for(_=[],y=0,N=f.length;y<N;y++)l=f[y],_.push(d[l]);return _}(),i=this.font.glyf.encode(o,g,p),u=this.font.loca.encode(i.offsets,g),x={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(x["OS/2"]=this.font.os2.raw()),this.font.directory.encode(x)},e}();tt.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,i,o;if(Array.isArray(r))return"["+function(){var l,c,u;for(u=[],l=0,c=r.length;l<c;l++)n=r[l],u.push(t.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)o=r[a],i.push("/"+a+" "+t.convert(o));return i.push(">>"),i.join(`
`)}return""+r},t}();const Iw="https://api.ptoconnect.com/api";function FG(){const[e,t]=$.useState({title:"",description:"",event_date:"",start_time:"",end_time:"",location:"",school_level:"elementary",category:"",visibility:"public",estimated_budget:"",share_public:!1}),[r,n]=$.useState(""),[a,i]=$.useState(""),[o,l]=$.useState(!1),[c,u]=$.useState({type:"",season:"",audience:"",theme:"",goal:""}),[d,f]=$.useState(""),h=y=>{const{name:N,value:_,type:w,checked:S}=y.target;t(P=>({...P,[N]:w==="checkbox"?S:_}))},p=async y=>{y.preventDefault(),n(""),i("");const{data:{session:N},error:_}=await We.auth.getSession();if(_||!(N!=null&&N.access_token)){i("Authentication error. Please log in again.");return}try{const w=await fetch(`${Iw}/api/events`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${N.access_token}`},body:JSON.stringify(e)}),S=await w.json();if(!w.ok){i(S.error||"Failed to create event");return}n("Event created successfully!"),t({title:"",description:"",event_date:"",start_time:"",end_time:"",location:"",school_level:"elementary",category:"",visibility:"public",estimated_budget:"",share_public:!1})}catch(w){i("Failed to connect to server."),console.error("Submit error:",w)}},v=y=>{const{name:N,value:_}=y.target;u(w=>({...w,[N]:_}))},g=async()=>{f("Generating...");try{const{data:{session:y},error:N}=await We.auth.getSession();if(N||!(y!=null&&y.access_token)){f("Authentication error. Please log in again.");return}const _=await fetch(`${Iw}/api/ai/generate-event`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${y.access_token}`},body:JSON.stringify(c)});if(!_.ok)throw new Error(`API request failed: ${_.status}`);const w=await _.json();f(w.result)}catch(y){console.error("AI generation error:",y),f("AI generation failed. Please try again.")}},x=()=>{try{const y=JSON.parse(d);t(N=>({...N,title:y.title||"",description:y.description||"",event_date:y.event_date||"",category:y.category||"",school_level:y.school_level||"",location:y.location||"",estimated_budget:y.estimated_budget||""}))}catch(y){alert("Failed to parse AI response. Please review the output and enter manually."),console.error("Parse error:",y)}},b=()=>{try{const y=JSON.parse(d),N=new tt;N.setFontSize(14),N.text(y.title||"Event Summary",10,20),N.setFontSize(10),N.text(`Date: ${y.event_date||"TBD"}`,10,30),N.text(`Category: ${y.category||"N/A"}`,10,36),N.text(`School Level: ${y.school_level||"N/A"}`,10,42),N.setFontSize(12),N.text("Description:",10,52),N.setFontSize(10),N.text(N.splitTextToSize(y.description||"",180),10,58),N.setFontSize(12),N.text("Planning Tasks:",10,100),(y.tasks||[]).forEach((w,S)=>{N.text(`- ${w}`,10,106+S*6)}),N.save(`${y.title||"event-summary"}.pdf`)}catch(y){alert("Unable to print. Please check that the AI returned a valid result."),console.error("Print error:",y)}};return s.jsxs("div",{className:"max-w-2xl mx-auto p-6 space-y-6",children:[s.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Create New Event"}),s.jsxs("form",{onSubmit:p,className:"space-y-4",children:[s.jsx("input",{name:"title",value:e.title,onChange:h,placeholder:"Event Title",className:"w-full border p-2",required:!0}),s.jsx("textarea",{name:"description",value:e.description,onChange:h,placeholder:"Description",className:"w-full border p-2"}),s.jsx("input",{type:"date",name:"event_date",value:e.event_date,onChange:h,className:"w-full border p-2",required:!0}),s.jsx("input",{type:"time",name:"start_time",value:e.start_time,onChange:h,className:"w-full border p-2"}),s.jsx("input",{type:"time",name:"end_time",value:e.end_time,onChange:h,className:"w-full border p-2"}),s.jsx("input",{name:"location",value:e.location,onChange:h,placeholder:"Location",className:"w-full border p-2"}),s.jsxs("select",{name:"school_level",value:e.school_level,onChange:h,className:"w-full border p-2",children:[s.jsx("option",{value:"elementary",children:"Elementary"}),s.jsx("option",{value:"upper_elementary",children:"Upper Elementary"}),s.jsx("option",{value:"middle",children:"Middle"}),s.jsx("option",{value:"junior_high",children:"Junior High"}),s.jsx("option",{value:"high",children:"High School"})]}),s.jsx("input",{name:"category",value:e.category,onChange:h,placeholder:"Category (e.g., Fundraiser)",className:"w-full border p-2"}),s.jsx("input",{name:"estimated_budget",value:e.estimated_budget,onChange:h,placeholder:"Estimated Budget",className:"w-full border p-2"}),s.jsxs("select",{name:"visibility",value:e.visibility,onChange:h,className:"w-full border p-2",children:[s.jsx("option",{value:"public",children:"Public"}),s.jsx("option",{value:"private",children:"Private"})]}),s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",name:"share_public",checked:e.share_public,onChange:h}),s.jsx("span",{children:"Share this event to the PTO Connect Idea Library"})]}),s.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded",type:"submit",children:"Create Event"}),r&&s.jsx("p",{className:"text-green-600",children:r}),a&&s.jsx("p",{className:"text-red-600",children:a})]}),s.jsxs("div",{className:"border-t pt-6",children:[s.jsx("button",{onClick:()=>l(!o),className:"text-blue-600 underline",children:o?"Hide AI Event Assistant":"Use AI Event Assistant"}),o&&s.jsxs("div",{className:"mt-4 space-y-3",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"AI Event Assistant"}),s.jsx("input",{type:"text",name:"type",placeholder:"Event Type",value:c.type,onChange:v,className:"w-full border p-2"}),s.jsx("input",{type:"text",name:"season",placeholder:"Season or Month",value:c.season,onChange:v,className:"w-full border p-2"}),s.jsx("input",{type:"text",name:"audience",placeholder:"Audience (e.g. families, teachers)",value:c.audience,onChange:v,className:"w-full border p-2"}),s.jsx("input",{type:"text",name:"theme",placeholder:"Theme (e.g. fall festival)",value:c.theme,onChange:v,className:"w-full border p-2"}),s.jsx("input",{type:"text",name:"goal",placeholder:"Goal (e.g. raise funds for library)",value:c.goal,onChange:v,className:"w-full border p-2"}),s.jsx("button",{onClick:g,className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",children:"Generate Event Idea"}),d&&s.jsxs("div",{className:"border p-4 mt-4 bg-gray-50 rounded",children:[s.jsx("pre",{className:"whitespace-pre-wrap text-sm",children:d}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx("button",{onClick:x,className:"bg-blue-500 text-white px-3 py-1 rounded hover:bg-blue-600",children:"Use This Event"}),s.jsx("button",{onClick:b,className:"bg-gray-600 text-white px-3 py-1 rounded hover:bg-gray-700",children:"Print Summary"})]})]})]})]})]})}const BG=({eventData:e,setEventData:t})=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Tell Stella About Your Event"}),s.jsx("p",{className:"text-gray-600",children:"Provide basic information about the event you want to create"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Title"}),s.jsx("input",{type:"text",value:e.title,onChange:r=>t(n=>({...n,title:r.target.value})),placeholder:"e.g., Fall Festival 2025",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Date"}),s.jsx("input",{type:"date",value:e.event_date,onChange:r=>t(n=>({...n,event_date:r.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expected Attendance"}),s.jsx("input",{type:"number",value:e.expected_attendance,onChange:r=>t(n=>({...n,expected_attendance:parseInt(r.target.value,10)||0})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estimated Budget"}),s.jsx("input",{type:"number",value:e.estimated_budget,onChange:r=>t(n=>({...n,estimated_budget:parseInt(r.target.value,10)||0})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("textarea",{value:e.description,onChange:r=>t(n=>({...n,description:r.target.value})),rows:"3",placeholder:"Brief description of your event...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]}),zG=({stellaContext:e,handleStellaContextChange:t,handleAdditionalGoalsChange:r,handleResourcesChange:n,handleConstraintsChange:a})=>{const i=["Fall Festival","Spring Carnival","Book Fair","Science Night","Art Show","Talent Show","Movie Night","Game Night","Teacher Appreciation","Volunteer Recognition","Board Meeting","Fundraiser","Auction","Walk-a-thon","Bake Sale"],o=["Community Building","Fundraising","Educational Enhancement","Volunteer Appreciation","Student Recognition","Family Engagement","School Support","Cultural Celebration"],l=["All Families","Parents Only","Students & Families","Community Members","Teachers & Staff","Volunteers","Board Members","Local Businesses"],c=["Raise funds for specific programs","Showcase student work","Build community relationships","Recruit new volunteers","Celebrate achievements","Educate about school programs","Support teachers and staff","Create lasting memories"],u=["Dedicated parent volunteers","School facilities access","Local business partnerships","Previous event materials","Social media presence","Email communication list","Equipment and supplies","Budget for materials"],d=["Limited budget","Time constraints","Venue limitations","Weather dependent","Need school approval","Limited volunteers","Scheduling conflicts","Safety requirements"];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Help Stella Understand Your Goals"}),s.jsx("p",{className:"text-gray-600",children:"This information helps Stella create the perfect workflow for your event"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Type"}),s.jsx("select",{value:e.eventType,onChange:f=>t("eventType",f.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:i.map(f=>s.jsx("option",{value:f,children:f},f))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Primary Goal"}),s.jsx("select",{value:e.primaryGoal,onChange:f=>t("primaryGoal",f.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:o.map(f=>s.jsx("option",{value:f,children:f},f))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Target Audience"}),s.jsx("select",{value:e.targetAudience,onChange:f=>t("targetAudience",f.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:l.map(f=>s.jsx("option",{value:f,children:f},f))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Goals"}),s.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto p-2 border rounded-md",children:c.map(f=>s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:e.additionalGoals.includes(f),onChange:h=>r(f,h.target.checked),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),s.jsx("span",{className:"text-sm text-gray-700",children:f})]},f))})]}),s.jsxs("div",{className:"md:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Available Resources"}),s.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto p-2 border rounded-md",children:u.map(f=>s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:e.availableResources.includes(f),onChange:h=>n(f,h.target.checked),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),s.jsx("span",{className:"text-sm text-gray-700",children:f})]},f))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Constraints"}),s.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto p-2 border rounded-md",children:d.map(f=>s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:e.constraints.includes(f),onChange:h=>a(f,h.target.checked),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),s.jsx("span",{className:"text-sm text-gray-700",children:f})]},f))})]})]})]})]})},qG=({progressUpdates:e})=>s.jsxs("div",{className:"text-center py-16",children:[s.jsxs("div",{className:"inline-block relative",children:[s.jsx(Ar,{className:"text-purple-500 w-24 h-24 animate-pulse"}),s.jsx("div",{className:"absolute top-0 left-0 w-full h-full flex items-center justify-center",children:s.jsx("div",{className:"w-20 h-20 bg-purple-100 rounded-full animate-ping"})})]}),s.jsx("h2",{className:"text-2xl font-bold mt-8",children:"Stella is working her magic..."}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Generating your comprehensive event workflow."}),s.jsx("div",{className:"mt-8 w-full max-w-md mx-auto",children:e.map((t,r)=>s.jsxs("div",{className:"flex items-center space-x-4 p-2",children:[s.jsx(t.icon,{className:`w-5 h-5 ${t.status==="complete"?"text-green-500":"text-gray-400 animate-pulse"}`}),s.jsx("span",{className:`text-sm ${t.status==="complete"?"text-gray-800":"text-gray-500"}`,children:t.text})]},r))})]}),UG=({workflowData:e})=>{var a,i,o;if(!e)return s.jsxs("div",{className:"text-center py-16",children:[s.jsx(dS,{className:"mx-auto w-12 h-12 text-red-500"}),s.jsx("h2",{className:"mt-4 text-xl font-bold",children:"Failed to Generate Workflow"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"There was an issue generating the workflow. Please try again."}),s.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-6 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-100",children:"Back"})]});const t=((a=e.event)==null?void 0:a.title)||"Your Event",r=e.components_created||{},n=Object.values(r).filter(Boolean).length;return s.jsxs("div",{className:"p-4 sm:p-6 bg-white",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-3xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-indigo-600",children:"Your Workflow is Ready!"}),s.jsxs("p",{className:"mt-2 text-lg text-gray-600",children:['Stella has created a comprehensive plan for "',t,'".']})]}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 text-center mb-8",children:[s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[s.jsx(Ur,{className:"w-8 h-8 text-green-500 mx-auto mb-2"}),s.jsx("p",{className:"font-bold text-xl",children:n}),s.jsx("p",{className:"text-sm text-gray-600",children:"Modules Integrated"})]}),s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsx(Qp,{className:"w-8 h-8 text-blue-500 mx-auto mb-2"}),s.jsx("p",{className:"font-bold text-xl",children:"Active"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Workflow Status"})]}),s.jsxs("div",{className:"bg-indigo-50 p-4 rounded-lg",children:[s.jsx(la,{className:"w-8 h-8 text-indigo-500 mx-auto mb-2"}),s.jsx("p",{className:"font-bold text-xl",children:((i=e.event)==null?void 0:i.expected_attendance)||"N/A"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Expected Guests"})]}),s.jsxs("div",{className:"bg-pink-50 p-4 rounded-lg",children:[s.jsx(qn,{className:"w-8 h-8 text-pink-500 mx-auto mb-2"}),s.jsxs("p",{className:"font-bold text-xl",children:["$",((o=e.event)==null?void 0:o.estimated_budget)||"0"]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Est. Budget"})]})]}),s.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[s.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center",children:[s.jsx(t0,{className:"w-6 h-6 mr-2 text-yellow-500"}),"Next Steps"]}),s.jsxs("ol",{className:"list-decimal list-inside space-y-3 text-gray-700",children:[s.jsx("li",{children:"Review the generated budget and adjust line items as needed."}),s.jsx("li",{children:"Confirm volunteer roles and begin recruitment."}),s.jsx("li",{children:"Schedule communication campaigns for optimal timing."}),s.jsx("li",{children:"Set up project milestones and task assignments."}),s.jsx("li",{children:"Begin vendor outreach and facility reservations."})]})]})]})},WG=()=>{const[e,t]=$.useState(0),[r,n]=$.useState(!1),[a,i]=$.useState(null),[o,l]=$.useState([]);pr();const[c,u]=$.useState({title:"Teacher appreciation - backend test",description:"Teacher appreciation event honoring the teachers each day for 5 days with small tokens like a coffee bar day or lunch catered , etc",event_date:"2025-07-07",start_time:"09:00",end_time:"15:00",location:"School Campus",expected_attendance:100,estimated_budget:2e3,category:"celebration"}),[d,f]=$.useState({eventType:"Teacher Appreciation",primaryGoal:"School Support",targetAudience:"Teachers & Staff",additionalGoals:["Build community relationships"],availableResources:["Dedicated parent volunteers","Local business partnerships","Previous event materials"],constraints:["Time constraints"],pastEventExperiences:"Previous TA experience"}),[h,p]=$.useState({createBudget:!0,generateTimeline:!0,setupCommunications:!0,createVolunteerRoles:!0,planMaterials:!0,scheduleReminders:!0,trackProgress:!0,generateReports:!0}),v=(w,S)=>f(P=>({...P,[w]:S})),g=(w,S,P)=>{f(O=>{const T=O[w]||[],I=P?[...T,S]:T.filter(k=>k!==S);return{...O,[w]:I}})},x=(w,S)=>g("additionalGoals",w,S),b=(w,S)=>g("availableResources",w,S),y=(w,S)=>g("constraints",w,S),N=async()=>{n(!0),t(2),l([{text:"Initializing workflow generation...",status:"in-progress",icon:Qp}]);try{console.log("Submitting to API:",{eventData:c,stellaContext:d,moduleIntegrations:h});const w=await ys.generateComprehensiveWorkflow(c,d,h);if(w&&w.data&&w.data.success){i(w.data);const S=w.data.components_created||{},P=[{text:"Event created",status:"complete",icon:Ur},{text:"Timeline generation",status:S.timeline?"complete":"skipped",icon:S.timeline?Ur:gn},{text:"Budget planning",status:S.budget?"complete":"skipped",icon:S.budget?Ur:gn},{text:"Communications setup",status:S.communications?"complete":"skipped",icon:S.communications?Ur:gn},{text:"Volunteer roles",status:S.volunteers?"complete":"skipped",icon:S.volunteers?Ur:gn},{text:"Materials & Resources",status:S.materials?"complete":"skipped",icon:S.materials?Ur:gn},{text:"Reminders & Notifications",status:S.reminders?"complete":"skipped",icon:S.reminders?Ur:gn},{text:"Workflow ready!",status:"complete",icon:YP}];l(P),t(3),ot.success("ðŸŽ‰ Comprehensive workflow created successfully!")}else{const S=(w==null?void 0:w.error)||"Workflow generation failed: An unknown error occurred.";ot.error(S),i(null),t(3)}}catch(w){const S=w.message||"An unexpected error occurred.";ot.error(`Error: ${S}`),i(null),t(3)}finally{n(!1)}},_=[{name:"Event Details",component:s.jsx(BG,{eventData:c,setEventData:u})},{name:"Stella Context",component:s.jsx(zG,{stellaContext:d,handleStellaContextChange:v,handleAdditionalGoalsChange:x,handleResourcesChange:b,handleConstraintsChange:y})},{name:"Generation",component:s.jsx(qG,{progressUpdates:o})},{name:"Results",component:s.jsx(UG,{workflowData:a})}];return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"w-full max-w-4xl bg-white rounded-2xl shadow-xl p-8 space-y-8",children:[s.jsx("nav",{"aria-label":"Progress",children:s.jsx("ol",{role:"list",className:"space-y-4 md:flex md:space-x-8 md:space-y-0",children:_.slice(0,2).map((w,S)=>s.jsx("li",{className:"md:flex-1",children:e>S?s.jsxs("a",{href:"#",className:"group flex w-full flex-col border-l-4 border-purple-600 py-2 pl-4 transition-colors hover:border-purple-800 md:border-l-0 md:border-t-4 md:pb-0 md:pl-0 md:pt-4",children:[s.jsx("span",{className:"text-sm font-medium text-purple-600 transition-colors group-hover:text-purple-800",children:`Step ${S+1}`}),s.jsx("span",{className:"text-sm font-medium",children:w.name})]}):e===S?s.jsxs("a",{href:"#",className:"flex w-full flex-col border-l-4 border-purple-600 py-2 pl-4 md:border-l-0 md:border-t-4 md:pb-0 md:pl-0 md:pt-4","aria-current":"step",children:[s.jsx("span",{className:"text-sm font-medium text-purple-600",children:`Step ${S+1}`}),s.jsx("span",{className:"text-sm font-medium",children:w.name})]}):s.jsxs("a",{href:"#",className:"group flex w-full flex-col border-l-4 border-gray-200 py-2 pl-4 transition-colors hover:border-gray-300 md:border-l-0 md:border-t-4 md:pb-0 md:pl-0 md:pt-4",children:[s.jsx("span",{className:"text-sm font-medium text-gray-500 transition-colors group-hover:text-gray-700",children:`Step ${S+1}`}),s.jsx("span",{className:"text-sm font-medium",children:w.name})]})},w.name))})}),s.jsx("div",{children:_[e].component}),s.jsxs("div",{className:"flex justify-between pt-4 border-t",children:[s.jsx("button",{onClick:()=>t(w=>Math.max(0,w-1)),disabled:e===0||r||e>1,className:"px-6 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-100 disabled:opacity-50",children:"Back"}),e<1&&s.jsx("button",{onClick:()=>t(w=>w+1),className:"px-6 py-2 bg-purple-600 text-white rounded-md text-sm font-medium hover:bg-purple-700",children:"Next"}),e===1&&s.jsxs("button",{onClick:N,disabled:r,className:"px-6 py-2 bg-green-600 text-white rounded-md text-sm font-medium hover:bg-green-700 disabled:opacity-50 flex items-center",children:[r?"Generating...":"Create Workflow",!r&&s.jsx(Ar,{className:"w-4 h-4 ml-2"})]})]})]})})},HG=()=>{const{eventId:e}=_s(),t=pr(),[r,n]=$.useState(null),[a,i]=$.useState(null),[o,l]=$.useState(null),[c,u]=$.useState("overview"),[d,f]=$.useState(!0);if($.useEffect(()=>{e&&(async()=>{try{const{data:{session:y}}=await We.auth.getSession();if(y!=null&&y.user){const{data:N}=await We.from("profiles").select("*").eq("id",y.user.id).single();l(N);const _=await w6.getEvent(e);if(_.data){n(_.data);const w=await ys.analyzeEventWorkflow(_.data,N.org_id);i(w)}}}catch(y){console.error("Error fetching event and workflow:",y),ot.error("Failed to load event workflow")}finally{f(!1)}})()},[e]),d)return s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-600 border-t-transparent"})});if(!r||!a)return s.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-8 text-center",children:[s.jsx(dS,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Event Not Found"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"The event workflow could not be loaded."}),s.jsx("button",{onClick:()=>t("/events"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Back to Events"})]});const h=()=>{var b,y,N,_,w,S,P,O;return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:r.title}),s.jsx("p",{className:"text-gray-600 mb-4",children:r.description}),s.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Lr,{className:"w-4 h-4"}),s.jsx("span",{children:new Date(r.event_date).toLocaleDateString()})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(la,{className:"w-4 h-4"}),s.jsxs("span",{children:[r.expected_attendance||"TBD"," expected"]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(qn,{className:"w-4 h-4"}),s.jsxs("span",{children:["$",r.estimated_budget||0," budget"]})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ar,{className:"w-5 h-5 text-purple-600"}),s.jsx("span",{className:"text-sm font-medium text-purple-700",children:"Stella Workflow"})]})]})}),a.eventComplexity&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Event Complexity Analysis"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:`text-2xl font-bold mb-1 ${a.eventComplexity.complexity==="complex"?"text-red-600":a.eventComplexity.complexity==="moderate"?"text-yellow-600":"text-green-600"}`,children:a.eventComplexity.complexity.toUpperCase()}),s.jsx("div",{className:"text-sm text-gray-600",children:"Complexity Level"})]}),s.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:[a.eventComplexity.score,"/10"]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Complexity Score"})]}),s.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[s.jsx($a,{className:"w-8 h-8 text-purple-600 mx-auto mb-2"}),s.jsxs("div",{className:"text-sm text-gray-600",children:[((b=a.workflowPlan)==null?void 0:b.recommendedTimeline)||"6-8 weeks"," Timeline"]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-4 text-center",children:[s.jsx(ib,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),s.jsx("div",{className:"text-lg font-semibold text-gray-900",children:((N=(y=a.workflowPlan)==null?void 0:y.keyMilestones)==null?void 0:N.length)||0}),s.jsx("div",{className:"text-sm text-gray-600",children:"Milestones"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-4 text-center",children:[s.jsx(la,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),s.jsx("div",{className:"text-lg font-semibold text-gray-900",children:((w=(_=a.workflowPlan)==null?void 0:_.volunteerNeeds)==null?void 0:w.totalVolunteers)||0}),s.jsx("div",{className:"text-sm text-gray-600",children:"Volunteers Needed"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-4 text-center",children:[s.jsx(La,{className:"w-8 h-8 text-purple-600 mx-auto mb-2"}),s.jsx("div",{className:"text-lg font-semibold text-gray-900",children:Object.keys(((S=a.workflowPlan)==null?void 0:S.communicationPlan)||{}).length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Communication Phases"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-4 text-center",children:[s.jsx(qn,{className:"w-8 h-8 text-yellow-600 mx-auto mb-2"}),s.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["$",((O=(P=a.workflowPlan)==null?void 0:P.budgetRecommendations)==null?void 0:O.suggestedBudget)||r.estimated_budget||0]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Recommended Budget"})]})]})]})},p=()=>{var b;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Project Timeline"}),s.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[s.jsx(ql,{className:"w-4 h-4"}),s.jsx("span",{children:"Add Milestone"})]})]}),(b=a.workflowPlan)!=null&&b.keyMilestones?s.jsx("div",{className:"space-y-4",children:a.workflowPlan.keyMilestones.map((y,N)=>s.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-bold ${N===0?"bg-green-600":"bg-blue-600"}`,children:y.week}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:y.milestone}),s.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:["Week ",y.week," milestone"]}),y.tasks&&s.jsx("ul",{className:"space-y-1",children:y.tasks.map((_,w)=>s.jsxs("li",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[s.jsx(Ur,{className:"w-4 h-4 text-green-500"}),s.jsx("span",{children:_})]},w))})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600",children:s.jsx(gn,{className:"w-4 h-4"})}),s.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600",children:s.jsx(zl,{className:"w-4 h-4"})})]})]})},N))}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx($a,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"No timeline generated yet"})]})]})},v=()=>{var b;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Budget Planning"}),s.jsxs("button",{onClick:()=>t("/budget/create"),className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[s.jsx(ql,{className:"w-4 h-4"}),s.jsx("span",{children:"Create Budget"})]})]}),(b=a.workflowPlan)!=null&&b.budgetRecommendations?s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Recommended Budget"}),s.jsxs("div",{className:"text-3xl font-bold text-green-600 mb-2",children:["$",a.workflowPlan.budgetRecommendations.suggestedBudget]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Total recommended amount"})]}),a.workflowPlan.budgetRecommendations.breakdown&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Budget Breakdown"}),s.jsx("div",{className:"space-y-3",children:Object.entries(a.workflowPlan.budgetRecommendations.breakdown).map(([y,N])=>s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"capitalize text-gray-700",children:y}),s.jsxs("span",{className:"font-medium text-gray-900",children:["$",N]})]},y))})]})]}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(qn,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"No budget recommendations generated yet"})]})]})},g=()=>{var b;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Communication Campaign"}),s.jsxs("button",{onClick:()=>t("/communications/compose"),className:"flex items-center space-x-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:[s.jsx(La,{className:"w-4 h-4"}),s.jsx("span",{children:"Create Campaign"})]})]}),(b=a.workflowPlan)!=null&&b.communicationPlan?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.entries(a.workflowPlan.communicationPlan).map(([y,N])=>s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[s.jsx(La,{className:"w-5 h-5 text-purple-600"}),s.jsx("h4",{className:"font-semibold text-gray-900 capitalize",children:y.replace(/([A-Z])/g," $1")})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:N}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-md text-sm hover:bg-purple-200",children:"Create Email"}),s.jsx("button",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-md text-sm hover:bg-blue-200",children:"Schedule SMS"})]})]},y))}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(La,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"No communication plan generated yet"})]})]})},x=[{id:"overview",label:"Overview",icon:Qp},{id:"timeline",label:"Timeline",icon:$a},{id:"budget",label:"Budget",icon:qn},{id:"communications",label:"Communications",icon:La}];return s.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Event Workflow"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Comprehensive event management powered by Stella AI"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("button",{onClick:()=>t(`/events/${e}`),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"View Event"}),s.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center space-x-2",children:[s.jsx(fS,{className:"w-4 h-4"}),s.jsx("span",{children:"Export Workflow"})]})]})]}),s.jsx("div",{className:"border-b border-gray-200 mb-8",children:s.jsx("nav",{className:"-mb-px flex space-x-8",children:x.map(b=>{const y=b.icon;return s.jsxs("button",{onClick:()=>u(b.id),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ${c===b.id?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(y,{className:"w-4 h-4"}),s.jsx("span",{children:b.label})]},b.id)})})}),s.jsxs("div",{children:[c==="overview"&&s.jsx(h,{}),c==="timeline"&&s.jsx(p,{}),c==="budget"&&s.jsx(v,{}),c==="communications"&&s.jsx(g,{})]})]})};function GG(){const[e,t]=$.useState({title:"",description:"",event_date:"",start_time:"",end_time:"",location:"",school_level:"elementary",category:"",visibility:"public",estimated_budget:"",share_public:!1}),[r,n]=$.useState(""),a=pr(),{id:i}=_s();$.useEffect(()=>{async function c(){const{data:u,error:d}=await We.from("events").select("*").eq("id",i).single();d?(n("Failed to load event."),console.error(d)):u&&t({title:u.title||"",description:u.description||"",event_date:u.event_date||"",start_time:u.start_time||"",end_time:u.end_time||"",location:u.location||"",school_level:u.school_level||"elementary",category:u.category||"",visibility:u.visibility||"public",estimated_budget:u.estimated_budget||"",share_public:!!u.share_public})}c()},[i]);const o=c=>{const{name:u,value:d,type:f,checked:h}=c.target;t(p=>({...p,[u]:f==="checkbox"?h:d}))},l=async c=>{c.preventDefault(),n("");const{error:u}=await We.from("events").update({title:e.title,description:e.description,event_date:e.event_date,start_time:e.start_time,end_time:e.end_time,location:e.location,school_level:e.school_level,category:e.category,visibility:e.visibility,estimated_budget:e.estimated_budget,share_public:e.share_public}).eq("id",i);u?(n("Update failed."),console.error(u)):a("/events")};return!e.title&&!e.event_date?s.jsx("p",{className:"p-4",children:"Loading event..."}):s.jsxs("div",{className:"max-w-2xl mx-auto p-6 space-y-6",children:[s.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Edit Event"}),r&&s.jsx("p",{className:"text-red-500 mb-2",children:r}),s.jsxs("form",{onSubmit:l,className:"space-y-4",children:[s.jsx("input",{name:"title",value:e.title,onChange:o,placeholder:"Event Title",className:"w-full border p-2",required:!0}),s.jsx("textarea",{name:"description",value:e.description,onChange:o,placeholder:"Description",className:"w-full border p-2"}),s.jsx("input",{type:"date",name:"event_date",value:e.event_date,onChange:o,className:"w-full border p-2",required:!0}),s.jsx("input",{type:"time",name:"start_time",value:e.start_time,onChange:o,className:"w-full border p-2"}),s.jsx("input",{type:"time",name:"end_time",value:e.end_time,onChange:o,className:"w-full border p-2"}),s.jsx("input",{name:"location",value:e.location,onChange:o,placeholder:"Location",className:"w-full border p-2"}),s.jsxs("select",{name:"school_level",value:e.school_level,onChange:o,className:"w-full border p-2",children:[s.jsx("option",{value:"elementary",children:"Elementary"}),s.jsx("option",{value:"upper_elementary",children:"Upper Elementary"}),s.jsx("option",{value:"middle",children:"Middle"}),s.jsx("option",{value:"junior_high",children:"Junior High"}),s.jsx("option",{value:"high",children:"High School"})]}),s.jsx("input",{name:"category",value:e.category,onChange:o,placeholder:"Category",className:"w-full border p-2"}),s.jsxs("select",{name:"visibility",value:e.visibility,onChange:o,className:"w-full border p-2",children:[s.jsx("option",{value:"public",children:"Public"}),s.jsx("option",{value:"private",children:"Private"})]}),s.jsx("input",{name:"estimated_budget",value:e.estimated_budget,onChange:o,placeholder:"Estimated Budget",className:"w-full border p-2"}),s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",name:"share_public",checked:e.share_public,onChange:o}),s.jsx("span",{children:"Share Publicly"})]}),s.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700",children:"Save Changes"})]})]})}const VG={"en-US":ex},YG=bA({format:_m,startOfWeek:Po,getDay:SA,locales:VG});function KG(){const[e,t]=$.useState([]);return $.useEffect(()=>{async function r(){var c,u;const{data:{user:n},error:a}=await We.auth.getUser();if(a||!n){console.error("User error:",a);return}const i=((c=n==null?void 0:n.user_metadata)==null?void 0:c.org_id)||((u=n==null?void 0:n.app_metadata)==null?void 0:u.org_id);if(!i){console.error("Missing org_id in user metadata.");return}const{data:o,error:l}=await We.from("events").select("*").eq("org_id",i);if(l)console.error("Error loading events:",l);else{const d=o.map(f=>({id:f.id,title:f.title,start:new Date(f.event_date),end:new Date(f.event_date)}));t(d)}}r()},[]),s.jsxs("div",{className:"p-6 max-w-5xl mx-auto",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Event Calendar"}),s.jsx(yA,{localizer:YG,events:e,startAccessor:"start",endAccessor:"end",style:{height:600}})]})}const Tu=[{key:"overview",label:"Overview"},{key:"budget",label:"Budget"},{key:"communications",label:"Communications"},{key:"fundraising",label:"Fundraising"},{key:"volunteers",label:"Volunteers"},{key:"files",label:"Files/Docs"}],Rw=["Review your volunteer assignments to ensure all roles are filled.","Schedule a reminder email 3 days before the event for maximum turnout.","Check your budget for unallocated funds that could enhance the event experience."],Fw="bg-white bg-opacity-80 rounded-2xl shadow-lg border border-purple-100",XG=()=>{const{id:e}=_s(),t={overview:$.useRef(null),budget:$.useRef(null),communications:$.useRef(null),fundraising:$.useRef(null),volunteers:$.useRef(null),files:$.useRef(null)},[r,n]=$.useState("overview"),[a,i]=$.useState(!1),[o,l]=$.useState(null),[c,u]=$.useState(!0),[d,f]=$.useState(null),[h,p]=$.useState([]),[v,g]=$.useState(!0),[x,b]=$.useState(null),[y,N]=$.useState([]),[_,w]=$.useState(!0),[S,P]=$.useState(null),[O,T]=$.useState([]),[I,k]=$.useState(!0),[C,L]=$.useState(null);$.useEffect(()=>{async function F(){u(!0),f(null);try{const{data:B,error:X}=await We.from("events").select("*").eq("id",e).single();X?f("Event not found."):l(B)}catch{f("Error loading event.")}finally{u(!1)}}e&&F()},[e]),$.useEffect(()=>{async function F(){if(e){g(!0),b(null);try{const{data:B,error:X}=await We.from("expense_submissions").select("*").eq("event_id",e).order("expense_date",{ascending:!1});X?b("Could not load expenses."):p(B||[])}catch{b("Error loading expenses.")}finally{g(!1)}}}F()},[e]),$.useEffect(()=>{async function F(){if(e){w(!0),P(null);try{const[B,X,Y]=await Promise.all([We.from("email_campaigns").select("*").eq("org_id",o==null?void 0:o.org_id).order("created_at",{ascending:!1}),We.from("sms_campaigns").select("*").eq("org_id",o==null?void 0:o.org_id).order("created_at",{ascending:!1}),We.from("social_posts").select("*").eq("org_id",o==null?void 0:o.org_id).order("created_at",{ascending:!1})]);if(B.error||X.error||Y.error)P("Could not load communications.");else{const Z=[...(B.data||[]).map(ae=>({...ae,type:"email",campaign_name:ae.subject})),...(X.data||[]).map(ae=>({...ae,type:"sms",campaign_name:ae.name})),...(Y.data||[]).map(ae=>{var D;return{...ae,type:"social",campaign_name:((D=ae.content)==null?void 0:D.substring(0,50))+"..."}})];N(Z)}}catch{P("Error loading communications.")}finally{w(!1)}}}F()},[e,o==null?void 0:o.org_id]),$.useEffect(()=>{async function F(){if(e){k(!0),L(null);try{const{data:B,error:X}=await We.from("fundraising_campaigns").select("*").eq("org_id",o==null?void 0:o.org_id).order("created_at",{ascending:!1});X?L("Could not load fundraising campaigns."):T(B||[])}catch{L("Error loading fundraising campaigns.")}finally{k(!1)}}}F()},[e,o==null?void 0:o.org_id]);const R=F=>{var B;(B=t[F].current)==null||B.scrollIntoView({behavior:"smooth",block:"start"})};$.useEffect(()=>{const F=()=>{let X=Tu[0].key;for(let Y=0;Y<Tu.length;Y++){const Z=t[Tu[Y].key].current;Z&&Z.getBoundingClientRect().top-100<=0&&(X=Tu[Y].key)}n(X),i(window.scrollY>300)};return window.addEventListener("scroll",F),()=>window.removeEventListener("scroll",F)},[]);const V=()=>{window.scrollTo({top:0,behavior:"smooth"})};return $.useEffect(()=>{o&&localStorage.setItem(`event-detail-${o.id}`,JSON.stringify(o))},[o]),$.useEffect(()=>{const F=localStorage.getItem(`event-detail-${e}`);!o&&F&&(l(JSON.parse(F)),u(!1))},[e]),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8 flex flex-col lg:flex-row gap-8",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"sticky top-0 z-10 bg-white bg-opacity-90 pt-2 pb-1 mb-6 border-b flex justify-evenly",style:{backdropFilter:"blur(4px)"},children:Tu.map(F=>s.jsx("button",{onClick:()=>R(F.key),className:`flex-1 text-center whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors ${r===F.key?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:F.label},F.key))}),s.jsxs("section",{ref:t.overview,id:"overview",className:"mb-12 scroll-mt-24",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Event Overview"}),c?s.jsx("div",{className:"bg-white rounded-xl shadow p-6 text-gray-500",children:"Loading event..."}):d?s.jsx("div",{className:"bg-white rounded-xl shadow p-6 text-red-500",children:d}):o?s.jsxs("div",{className:"bg-white rounded-xl shadow p-6 mb-4 flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"mb-2 flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:o.title}),s.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-700 capitalize",children:o.status})]}),s.jsx("div",{className:"text-gray-600 mb-2",children:o.description}),s.jsxs("div",{className:"flex flex-wrap gap-6 text-sm text-gray-500 mb-2",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Date:"})," ",o.event_date?new Date(o.event_date).toLocaleDateString():"N/A"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Location:"})," ",o.location||"N/A"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Progress:"})," ",o.progress?`${o.progress}%`:"N/A"]})]})]}),s.jsx("button",{onClick:()=>window.location.href=`/events/edit/${o.id}`,className:"px-4 py-2 rounded-lg bg-blue-600 text-white font-semibold shadow hover:bg-blue-700 transition",children:"Edit Event"})]}):null,s.jsx("div",{className:"block lg:hidden mb-6",children:s.jsxs("div",{className:`${Fw} p-6 min-h-[180px]`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("span",{className:"text-purple-600 text-xl",children:"âœ¨"}),s.jsx("span",{className:"font-bold text-lg text-purple-700",children:"Stella's Event Insights"})]}),s.jsx("ul",{className:"list-disc pl-5 text-purple-900 space-y-2",children:Rw.map((F,B)=>s.jsx("li",{children:F},B))}),s.jsx("div",{className:"mt-4 text-xs text-purple-400",children:"Tips powered by Stella AI"})]})})]}),s.jsxs("section",{ref:t.budget,id:"budget",className:"mb-12 scroll-mt-24",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Budget"}),v?s.jsx("div",{className:"bg-white rounded-xl shadow p-6 text-gray-500",children:"Loading expenses..."}):x?s.jsx("div",{className:"bg-white rounded-xl shadow p-6 text-red-500",children:x}):s.jsxs("div",{className:"bg-white rounded-xl shadow p-6",children:[s.jsxs("div",{className:"mb-4 flex flex-wrap gap-8 items-center",children:[s.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["Total Spent: ",s.jsxs("span",{className:"text-blue-700",children:["$",h.reduce((F,B)=>F+(parseFloat(B.amount)||0),0).toFixed(2)]})]}),s.jsxs("div",{className:"text-gray-600",children:[h.length," expense",h.length!==1?"s":""]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-sm border",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-50",children:[s.jsx("th",{className:"px-3 py-2 border-b text-left",children:"Date"}),s.jsx("th",{className:"px-3 py-2 border-b text-left",children:"Category"}),s.jsx("th",{className:"px-3 py-2 border-b text-left",children:"Vendor"}),s.jsx("th",{className:"px-3 py-2 border-b text-right",children:"Amount"}),s.jsx("th",{className:"px-3 py-2 border-b text-left",children:"Status"}),s.jsx("th",{className:"px-3 py-2 border-b text-left",children:"Description"})]})}),s.jsx("tbody",{children:h.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"text-center py-4 text-gray-400",children:"No expenses submitted for this event."})}):h.map(F=>s.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[s.jsx("td",{className:"px-3 py-2",children:F.expense_date?new Date(F.expense_date).toLocaleDateString():""}),s.jsx("td",{className:"px-3 py-2",children:F.category_id||"-"}),s.jsx("td",{className:"px-3 py-2",children:F.vendor_name||"-"}),s.jsxs("td",{className:"px-3 py-2 text-right",children:["$",parseFloat(F.amount).toFixed(2)]}),s.jsx("td",{className:"px-3 py-2 capitalize",children:F.status}),s.jsx("td",{className:"px-3 py-2",children:F.description||"-"})]},F.id))})]})})]})]}),s.jsxs("section",{ref:t.communications,id:"communications",className:"mb-12 scroll-mt-24",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Communications"}),_?s.jsx("div",{className:"bg-white rounded-xl shadow p-6 text-gray-500",children:"Loading communications..."}):S?s.jsx("div",{className:"bg-white rounded-xl shadow p-6 text-red-500",children:S}):s.jsxs("div",{className:"bg-white rounded-xl shadow p-6",children:[s.jsxs("div",{className:"mb-4 flex flex-wrap gap-8 items-center",children:[s.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["Total Campaigns: ",s.jsx("span",{className:"text-blue-700",children:y.length})]}),s.jsxs("div",{className:"text-gray-600",children:[y.filter(F=>F.type==="email").length," Email, "," ",y.filter(F=>F.type==="sms").length," SMS, "," ",y.filter(F=>F.type==="social").length," Social"]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-sm border",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-50",children:[s.jsx("th",{className:"px-3 py-2 border-b text-left",children:"Type"}),s.jsx("th",{className:"px-3 py-2 border-b text-left",children:"Campaign"}),s.jsx("th",{className:"px-3 py-2 border-b text-left",children:"Status"}),s.jsx("th",{className:"px-3 py-2 border-b text-left",children:"Date"}),s.jsx("th",{className:"px-3 py-2 border-b text-right",children:"Recipients"})]})}),s.jsx("tbody",{children:y.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"text-center py-4 text-gray-400",children:"No communications sent for this event."})}):y.map(F=>s.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[s.jsx("td",{className:"px-3 py-2",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${F.type==="email"?"bg-blue-100 text-blue-800":F.type==="sms"?"bg-green-100 text-green-800":"bg-purple-100 text-purple-800"}`,children:F.type.toUpperCase()})}),s.jsx("td",{className:"px-3 py-2",children:F.campaign_name||"-"}),s.jsx("td",{className:"px-3 py-2 capitalize",children:F.status}),s.jsx("td",{className:"px-3 py-2",children:F.sent_at?new Date(F.sent_at).toLocaleDateString():F.scheduled_for?new Date(F.scheduled_for).toLocaleDateString():new Date(F.created_at).toLocaleDateString()}),s.jsx("td",{className:"px-3 py-2 text-right",children:F.recipient_count||F.sent_count||"-"})]},F.id))})]})})]})]}),s.jsxs("section",{ref:t.fundraising,id:"fundraising",className:"mb-12 scroll-mt-24",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Fundraising"}),I?s.jsx("div",{className:"bg-white rounded-xl shadow p-6 text-gray-500",children:"Loading fundraising campaigns..."}):C?s.jsx("div",{className:"bg-white rounded-xl shadow p-6 text-red-500",children:C}):s.jsxs("div",{className:"bg-white rounded-xl shadow p-6",children:[s.jsxs("div",{className:"mb-4 flex flex-wrap gap-8 items-center",children:[s.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["Total Raised: ",s.jsxs("span",{className:"text-green-700",children:["$",O.reduce((F,B)=>F+(parseFloat(B.raised_amount)||0),0).toFixed(2)]})]}),s.jsxs("div",{className:"text-gray-600",children:[O.length," campaign",O.length!==1?"s":""]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-sm border",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-50",children:[s.jsx("th",{className:"px-3 py-2 border-b text-left",children:"Campaign"}),s.jsx("th",{className:"px-3 py-2 border-b text-left",children:"Type"}),s.jsx("th",{className:"px-3 py-2 border-b text-right",children:"Goal"}),s.jsx("th",{className:"px-3 py-2 border-b text-right",children:"Raised"}),s.jsx("th",{className:"px-3 py-2 border-b text-center",children:"Progress"}),s.jsx("th",{className:"px-3 py-2 border-b text-left",children:"Status"}),s.jsx("th",{className:"px-3 py-2 border-b text-left",children:"Dates"})]})}),s.jsx("tbody",{children:O.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"text-center py-4 text-gray-400",children:"No fundraising campaigns for this event."})}):O.map(F=>{const B=F.goal_amount>0?F.raised_amount/F.goal_amount*100:0;return s.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[s.jsx("td",{className:"px-3 py-2 font-medium",children:F.name}),s.jsx("td",{className:"px-3 py-2 capitalize",children:F.campaign_type||"-"}),s.jsxs("td",{className:"px-3 py-2 text-right",children:["$",parseFloat(F.goal_amount).toFixed(2)]}),s.jsxs("td",{className:"px-3 py-2 text-right",children:["$",parseFloat(F.raised_amount).toFixed(2)]}),s.jsx("td",{className:"px-3 py-2",children:s.jsxs("div",{className:"flex items-center justify-center",children:[s.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2 mr-2",children:s.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${Math.min(B,100)}%`}})}),s.jsxs("span",{className:"text-xs text-gray-600",children:[B.toFixed(0),"%"]})]})}),s.jsx("td",{className:"px-3 py-2",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${F.status==="active"?"bg-green-100 text-green-800":F.status==="completed"?"bg-blue-100 text-blue-800":F.status==="planning"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:F.status})}),s.jsxs("td",{className:"px-3 py-2 text-xs",children:[F.start_date?new Date(F.start_date).toLocaleDateString():""," - "," ",F.end_date?new Date(F.end_date).toLocaleDateString():""]})]},F.id)})})]})})]})]}),s.jsxs("section",{ref:t.volunteers,id:"volunteers",className:"mb-12 scroll-mt-24",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Volunteers"}),s.jsx("div",{className:"bg-white rounded-xl shadow p-6 text-gray-500",children:"Volunteer assignments and signups coming soon."})]}),s.jsxs("section",{ref:t.files,id:"files",className:"mb-12 scroll-mt-24",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Files & Documents"}),s.jsx("div",{className:"bg-white rounded-xl shadow p-6 text-gray-500",children:"Linked files, images, and forms coming soon."})]})]}),s.jsx("aside",{className:"hidden lg:block w-80 flex-shrink-0",children:s.jsxs("div",{className:`${Fw} p-6 min-h-[220px] sticky top-24`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("span",{className:"text-purple-600 text-xl",children:"âœ¨"}),s.jsx("span",{className:"font-bold text-lg text-purple-700",children:"Stella's Event Insights"})]}),s.jsx("ul",{className:"list-disc pl-5 text-purple-900 space-y-2",children:Rw.map((F,B)=>s.jsx("li",{children:F},B))}),s.jsx("div",{className:"mt-4 text-xs text-purple-400",children:"Tips powered by Stella AI"})]})}),a&&s.jsx("button",{onClick:V,className:"fixed bottom-8 right-8 z-50 bg-purple-500 text-white rounded-full shadow-lg p-3 hover:bg-purple-600 transition","aria-label":"Back to top",children:s.jsx(r0,{className:"w-6 h-6"})})]})};function at({children:e,variant:t="default",className:r="",disabled:n=!1,fullWidth:a=!1,...i}){let o="inline-flex items-center justify-center px-4 py-2 rounded font-medium focus:outline-none transition",l="";switch(t){case"outline":l="border border-blue-600 text-blue-600 bg-white hover:bg-blue-50";break;case"danger":l="bg-red-600 text-white hover:bg-red-700";break;default:l="bg-blue-600 text-white hover:bg-blue-700"}let c=n?"opacity-50 cursor-not-allowed":"",u=a?"w-full":"";return s.jsx("button",{className:`${o} ${l} ${c} ${u} ${r}`,disabled:n,...i,children:e})}function yt({title:e,description:t,children:r,className:n="",...a}){return s.jsxs("div",{className:`
        bg-white rounded-lg shadow-md overflow-hidden
        ${n}
      `,...a,children:[(e||t)&&s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[e&&s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e}),t&&s.jsx("p",{className:"mt-1 text-sm text-gray-600",children:t})]}),s.jsx("div",{className:"p-6",children:r})]})}function fr({label:e,error:t,as:r="input",className:n="",...a}){const i=r==="textarea"?"textarea":"input";return s.jsxs("div",{className:"space-y-1",children:[e&&s.jsx("label",{htmlFor:a.id,className:"block text-sm font-medium text-gray-700",children:e}),s.jsx(i,{className:`block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed ${t?"border-red-300 focus:border-red-500 focus:ring-red-500":""} ${n}`,...a}),t&&s.jsx("p",{className:"text-sm text-red-600",children:t})]})}function Cr({label:e,error:t,options:r=[],className:n="",...a}){return s.jsxs("div",{className:"space-y-1",children:[e&&s.jsx("label",{htmlFor:a.id,className:"block text-sm font-medium text-gray-700",children:e}),s.jsx("select",{className:`
          block w-full rounded-lg
          border-gray-300 shadow-sm
          focus:border-blue-500 focus:ring-blue-500
          disabled:bg-gray-100 disabled:cursor-not-allowed
          ${t?"border-red-300 focus:border-red-500 focus:ring-red-500":""}
          ${n}
        `,...a,children:r.map(i=>s.jsx("option",{value:i.value,children:i.label},i.value))}),t&&s.jsx("p",{className:"text-sm text-red-600",children:t})]})}const yn=({children:e,className:t="",...r})=>s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${t}`,...r,children:e}),GA=({value:e=0,className:t="",...r})=>s.jsx("div",{className:`w-full bg-gray-200 rounded-full h-2 ${t}`,...r,children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(Math.max(e,0),100)}%`}})}),rp=({className:e="",...t})=>s.jsx("textarea",{className:`w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ${e}`,...t}),Zt=({children:e,className:t="",...r})=>s.jsx("label",{className:`block text-sm font-medium text-gray-700 mb-1 ${t}`,...r,children:e}),ax=$.createContext(),JG=({value:e,onValueChange:t,children:r,className:n=""})=>s.jsx(ax.Provider,{value:{value:e,onValueChange:t},children:s.jsx("div",{className:n,children:r})}),ZG=({children:e,className:t=""})=>s.jsx("div",{className:`flex space-x-1 ${t}`,children:e}),Lu=({value:e,children:t,className:r=""})=>{const{value:n,onValueChange:a}=$.useContext(ax),i=n===e;return s.jsx("button",{onClick:()=>a(e),className:`px-3 py-2 text-sm font-medium rounded-md transition-colors ${i?"bg-blue-100 text-blue-700 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"} ${r}`,children:t})},Mu=({value:e,children:t,className:r=""})=>{const{value:n}=$.useContext(ax);return n!==e?null:s.jsx("div",{className:r,children:t})},QG=$.createContext(),Xl=({open:e,onOpenChange:t,children:r})=>e?s.jsx(QG.Provider,{value:{open:e,onOpenChange:t},children:s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:()=>t(!1)}),s.jsx("div",{className:"relative bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:r})]})}):null,Jl=({children:e,className:t=""})=>s.jsx("div",{className:`p-6 ${t}`,children:e}),Zl=({children:e,className:t=""})=>s.jsx("div",{className:`mb-4 ${t}`,children:e}),Ql=({children:e,className:t=""})=>s.jsx("h2",{className:`text-lg font-semibold text-gray-900 ${t}`,children:e}),eV=({task:e,onClose:t,onTaskUpdated:r})=>{const[n,a]=$.useState(!1),[i,o]=$.useState({title:(e==null?void 0:e.title)||"",description:(e==null?void 0:e.description)||"",status:(e==null?void 0:e.status)||"pending",priority:(e==null?void 0:e.priority)||"medium",category:(e==null?void 0:e.category)||"other",assigned_to:(e==null?void 0:e.assigned_to)||"",due_date:(e==null?void 0:e.due_date)||"",estimated_hours:(e==null?void 0:e.estimated_hours)||"",estimated_cost:(e==null?void 0:e.estimated_cost)||""}),[l,c]=$.useState(!1),[u,d]=$.useState(null),[f,h]=$.useState([]),[p,v]=$.useState("");$.useEffect(()=>{e&&g()},[e]);const g=async()=>{try{const S=await Ot.get(`/tasks/${e.id}/comments`);h(S.data)}catch(S){console.error("Error loading comments:",S)}},x=(S,P)=>{o(O=>({...O,[S]:P}))},b=async S=>{var P,O;if(S.preventDefault(),!i.title.trim()){d("Task title is required");return}c(!0),d(null);try{const T={...i,estimated_hours:i.estimated_hours?parseFloat(i.estimated_hours):null,estimated_cost:i.estimated_cost?parseFloat(i.estimated_cost):null};await Ot.put(`/tasks/${e.id}`,T),a(!1),r&&r()}catch(T){d(((O=(P=T.response)==null?void 0:P.data)==null?void 0:O.message)||"Failed to update task"),console.error("Error updating task:",T)}finally{c(!1)}},y=async()=>{if(confirm("Are you sure you want to delete this task?"))try{await Ot.delete(`/tasks/${e.id}`),t(),r&&r()}catch(S){d("Failed to delete task"),console.error("Error deleting task:",S)}},N=async()=>{if(p.trim())try{await Ot.post(`/tasks/${e.id}/comments`,{comment:p}),v(""),g()}catch(S){console.error("Error adding comment:",S)}},_=S=>{switch(S){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},w=S=>{switch(S){case"completed":return"bg-green-100 text-green-800";case"in_progress":return"bg-blue-100 text-blue-800";case"blocked":return"bg-red-100 text-red-800";case"pending":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return e?s.jsx(Xl,{open:!0,onOpenChange:t,children:s.jsxs(Jl,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Zl,{children:s.jsxs(Ql,{className:"flex items-center justify-between",children:[s.jsx("span",{children:n?"Edit Task":"Task Details"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(at,{variant:"ghost",size:"sm",onClick:()=>a(!n),disabled:l,children:s.jsx(gn,{className:"h-4 w-4"})}),s.jsx(at,{variant:"ghost",size:"sm",onClick:y,disabled:l,className:"text-red-600 hover:text-red-700",children:s.jsx(ef,{className:"h-4 w-4"})}),s.jsx(at,{variant:"ghost",size:"sm",onClick:t,disabled:l,children:s.jsx(sb,{className:"h-4 w-4"})})]})]})}),n?s.jsxs("form",{onSubmit:b,className:"space-y-6",children:[u&&s.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:s.jsx("p",{className:"text-red-600 text-sm",children:u})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Zt,{htmlFor:"title",children:"Task Title *"}),s.jsx(fr,{id:"title",value:i.title,onChange:S=>x("title",S.target.value),placeholder:"Enter task title...",required:!0})]}),s.jsxs("div",{children:[s.jsx(Zt,{htmlFor:"status",children:"Status"}),s.jsxs(Cr,{value:i.status,onValueChange:S=>x("status",S),children:[s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"in_progress",children:"In Progress"}),s.jsx("option",{value:"completed",children:"Completed"}),s.jsx("option",{value:"blocked",children:"Blocked"})]})]}),s.jsxs("div",{children:[s.jsx(Zt,{htmlFor:"priority",children:"Priority"}),s.jsxs(Cr,{value:i.priority,onValueChange:S=>x("priority",S),children:[s.jsx("option",{value:"low",children:"Low"}),s.jsx("option",{value:"medium",children:"Medium"}),s.jsx("option",{value:"high",children:"High"})]})]}),s.jsxs("div",{children:[s.jsx(Zt,{htmlFor:"category",children:"Category"}),s.jsxs(Cr,{value:i.category,onValueChange:S=>x("category",S),children:[s.jsx("option",{value:"marketing",children:"Marketing"}),s.jsx("option",{value:"volunteers",children:"Volunteers"}),s.jsx("option",{value:"budget",children:"Budget"}),s.jsx("option",{value:"logistics",children:"Logistics"}),s.jsx("option",{value:"venue",children:"Venue"}),s.jsx("option",{value:"supplies",children:"Supplies"}),s.jsx("option",{value:"other",children:"Other"})]})]}),s.jsxs("div",{children:[s.jsx(Zt,{htmlFor:"assigned_to",children:"Assigned To"}),s.jsx(fr,{id:"assigned_to",value:i.assigned_to,onChange:S=>x("assigned_to",S.target.value),placeholder:"Enter assignee name..."})]}),s.jsxs("div",{children:[s.jsx(Zt,{htmlFor:"due_date",children:"Due Date"}),s.jsx(fr,{id:"due_date",type:"date",value:i.due_date,onChange:S=>x("due_date",S.target.value)})]}),s.jsxs("div",{children:[s.jsx(Zt,{htmlFor:"estimated_hours",children:"Estimated Hours"}),s.jsx(fr,{id:"estimated_hours",type:"number",step:"0.5",min:"0",value:i.estimated_hours,onChange:S=>x("estimated_hours",S.target.value),placeholder:"0.0"})]}),s.jsxs("div",{children:[s.jsx(Zt,{htmlFor:"estimated_cost",children:"Estimated Cost"}),s.jsx(fr,{id:"estimated_cost",type:"number",step:"0.01",min:"0",value:i.estimated_cost,onChange:S=>x("estimated_cost",S.target.value),placeholder:"0.00"})]})]}),s.jsxs("div",{children:[s.jsx(Zt,{htmlFor:"description",children:"Description"}),s.jsx(rp,{id:"description",value:i.description,onChange:S=>x("description",S.target.value),placeholder:"Describe the task...",rows:4})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[s.jsx(at,{type:"button",variant:"outline",onClick:()=>a(!1),disabled:l,children:"Cancel"}),s.jsx(at,{type:"submit",disabled:l,children:l?"Saving...":"Save Changes"})]})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:e.title}),s.jsx("p",{className:"text-gray-600 mb-4",children:e.description}),s.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[s.jsx(yn,{className:w(e.status),children:e.status.replace("_"," ")}),s.jsx(yn,{className:_(e.priority),children:e.priority}),s.jsx(yn,{className:"bg-blue-100 text-blue-800",children:e.category})]}),s.jsxs("div",{className:"space-y-2",children:[e.assigned_to&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(tf,{className:"h-4 w-4 text-gray-500 mr-2"}),s.jsxs("span",{className:"text-sm",children:["Assigned to: ",e.assigned_to]})]}),e.due_date&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Lr,{className:"h-4 w-4 text-gray-500 mr-2"}),s.jsxs("span",{className:"text-sm",children:["Due: ",new Date(e.due_date).toLocaleDateString()]})]}),e.estimated_hours&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Clock,{className:"h-4 w-4 text-gray-500 mr-2"}),s.jsxs("span",{className:"text-sm",children:["Estimated: ",e.estimated_hours," hours"]})]}),e.estimated_cost&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(ob,{className:"h-4 w-4 text-gray-500 mr-2"}),s.jsxs("span",{className:"text-sm",children:["Cost: $",e.estimated_cost]})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-3",children:"Task Progress"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Created"}),s.jsx("span",{className:"text-sm",children:new Date(e.created_at).toLocaleDateString()})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Last Updated"}),s.jsx("span",{className:"text-sm",children:new Date(e.updated_at).toLocaleDateString()})]}),e.completed_at&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Completed"}),s.jsx("span",{className:"text-sm",children:new Date(e.completed_at).toLocaleDateString()})]})]})]})]}),s.jsxs("div",{className:"border-t pt-6",children:[s.jsxs("h4",{className:"font-semibold mb-4 flex items-center",children:[s.jsx(La,{className:"h-4 w-4 mr-2"}),"Comments (",f.length,")"]}),s.jsx("div",{className:"space-y-4 mb-4",children:f.map(S=>s.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"font-medium text-sm",children:S.user_name}),s.jsx("span",{className:"text-xs text-gray-500",children:new Date(S.created_at).toLocaleDateString()})]}),s.jsx("p",{className:"text-sm text-gray-700",children:S.comment})]},S.id))}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(rp,{value:p,onChange:S=>v(S.target.value),placeholder:"Add a comment...",rows:2,className:"flex-1"}),s.jsx(at,{onClick:N,disabled:!p.trim(),children:"Add"})]})]})]})]})}):null},VA=({eventId:e,onClose:t,onTaskAdded:r})=>{const[n,a]=$.useState({title:"",description:"",assigned_to:"",assigned_to_external:"",due_date:"",priority:"medium",status:"pending",category:"other",estimated_hours:"",estimated_cost:"",parent_task_id:""}),[i,o]=$.useState(!1),[l,c]=$.useState(null),[u,d]=$.useState([]),[f,h]=$.useState([]);$.useEffect(()=>{p(),v()},[]);const p=async()=>{try{const y=await Ot.get("/profiles");d(y.data)}catch(y){console.error("Error loading users:",y)}},v=async()=>{try{const y=await Ot.get(`/events/${e}/tasks`);h(y.data.filter(N=>N.status!=="completed"))}catch(y){console.error("Error loading parent tasks:",y)}},g=(y,N)=>{a(_=>({..._,[y]:N}))},x=async y=>{var N,_;if(y.preventDefault(),!n.title.trim()){c("Task title is required");return}o(!0),c(null);try{const w={...n,event_id:e,estimated_hours:n.estimated_hours?parseFloat(n.estimated_hours):null,estimated_cost:n.estimated_cost?parseFloat(n.estimated_cost):null,assigned_to:n.assigned_to||null,parent_task_id:n.parent_task_id||null};await Ot.post("/tasks",w),r()}catch(w){c(((_=(N=w.response)==null?void 0:N.data)==null?void 0:_.message)||"Failed to create task"),console.error("Error creating task:",w)}finally{o(!1)}},b=()=>{i||t()};return s.jsx(Xl,{open:!0,onOpenChange:b,children:s.jsxs(Jl,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Zl,{children:s.jsxs(Ql,{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Add New Task"}),s.jsx(at,{variant:"ghost",size:"sm",onClick:b,disabled:i,children:s.jsx(sb,{className:"h-4 w-4"})})]})}),s.jsxs("form",{onSubmit:x,className:"space-y-6",children:[l&&s.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:s.jsx("p",{className:"text-red-600 text-sm",children:l})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Zt,{htmlFor:"title",className:"flex items-center",children:s.jsx("span",{className:"mr-2",children:"Task Title *"})}),s.jsx(fr,{id:"title",value:n.title,onChange:y=>g("title",y.target.value),placeholder:"Enter task title...",required:!0})]}),s.jsxs("div",{children:[s.jsx(Zt,{htmlFor:"description",children:"Description"}),s.jsx(rp,{id:"description",value:n.description,onChange:y=>g("description",y.target.value),placeholder:"Describe the task...",rows:3})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs(Zt,{htmlFor:"assigned_to",className:"flex items-center",children:[s.jsx(tf,{className:"h-4 w-4 mr-2"}),"Assign to Member"]}),s.jsxs(Cr,{value:n.assigned_to,onValueChange:y=>g("assigned_to",y),children:[s.jsx("option",{value:"",children:"Select a member..."}),u.map(y=>s.jsx("option",{value:y.id,children:y.full_name||y.email},y.id))]})]}),s.jsxs("div",{children:[s.jsx(Zt,{htmlFor:"assigned_to_external",children:"External Assignment"}),s.jsx(fr,{id:"assigned_to_external",value:n.assigned_to_external,onChange:y=>g("assigned_to_external",y.target.value),placeholder:"e.g., Principal, Facilities Manager"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs(Zt,{htmlFor:"priority",className:"flex items-center",children:[s.jsx(ob,{className:"h-4 w-4 mr-2"}),"Priority"]}),s.jsxs(Cr,{value:n.priority,onValueChange:y=>g("priority",y),children:[s.jsx("option",{value:"low",children:"Low"}),s.jsx("option",{value:"medium",children:"Medium"}),s.jsx("option",{value:"high",children:"High"})]})]}),s.jsxs("div",{children:[s.jsx(Zt,{htmlFor:"status",children:"Status"}),s.jsxs(Cr,{value:n.status,onValueChange:y=>g("status",y),children:[s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"in_progress",children:"In Progress"}),s.jsx("option",{value:"completed",children:"Completed"}),s.jsx("option",{value:"blocked",children:"Blocked"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Zt,{htmlFor:"category",children:"Category"}),s.jsxs(Cr,{value:n.category,onValueChange:y=>g("category",y),children:[s.jsx("option",{value:"marketing",children:"Marketing"}),s.jsx("option",{value:"volunteers",children:"Volunteers"}),s.jsx("option",{value:"budget",children:"Budget"}),s.jsx("option",{value:"logistics",children:"Logistics"}),s.jsx("option",{value:"venue",children:"Venue"}),s.jsx("option",{value:"supplies",children:"Supplies"}),s.jsx("option",{value:"other",children:"Other"})]})]}),s.jsxs("div",{children:[s.jsx(Zt,{htmlFor:"parent_task_id",children:"Parent Task (Optional)"}),s.jsxs(Cr,{value:n.parent_task_id,onValueChange:y=>g("parent_task_id",y),children:[s.jsx("option",{value:"",children:"No parent task"}),f.map(y=>s.jsx("option",{value:y.id,children:y.title},y.id))]})]})]}),s.jsxs("div",{children:[s.jsxs(Zt,{htmlFor:"due_date",className:"flex items-center",children:[s.jsx(Lr,{className:"h-4 w-4 mr-2"}),"Due Date"]}),s.jsx(fr,{id:"due_date",type:"date",value:n.due_date,onChange:y=>g("due_date",y.target.value)})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs(Zt,{htmlFor:"estimated_hours",className:"flex items-center",children:[s.jsx($a,{className:"h-4 w-4 mr-2"}),"Estimated Hours"]}),s.jsx(fr,{id:"estimated_hours",type:"number",step:"0.5",min:"0",value:n.estimated_hours,onChange:y=>g("estimated_hours",y.target.value),placeholder:"0.0"})]}),s.jsxs("div",{children:[s.jsxs(Zt,{htmlFor:"estimated_cost",className:"flex items-center",children:[s.jsx(qn,{className:"h-4 w-4 mr-2"}),"Estimated Cost"]}),s.jsx(fr,{id:"estimated_cost",type:"number",step:"0.01",min:"0",value:n.estimated_cost,onChange:y=>g("estimated_cost",y.target.value),placeholder:"0.00"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[s.jsx(at,{type:"button",variant:"outline",onClick:b,disabled:i,children:"Cancel"}),s.jsx(at,{type:"submit",disabled:i,children:i?"Creating...":"Create Task"})]})]})]})})},tV=({eventId:e,onTaskUpdated:t})=>{const[r,n]=$.useState([]),[a,i]=$.useState(!0),[o,l]=$.useState(null),[c,u]=$.useState({status:"all",priority:"all",category:"all",assigned:"all"}),[d,f]=$.useState(""),[h,p]=$.useState("due_date"),[v,g]=$.useState(!1),[x,b]=$.useState(!1),[y,N]=$.useState(null);$.useEffect(()=>{_()},[e]);const _=async()=>{try{i(!0);const L=await Ot.get(`/events/${e}/tasks`);n(L.data)}catch(L){l("Failed to load tasks"),console.error("Error loading tasks:",L)}finally{i(!1)}},w=L=>{N(L),g(!0)},S=()=>{g(!1),b(!1),_(),t&&t()},P=async L=>{if(confirm("Are you sure you want to delete this task?"))try{await Ot.delete(`/tasks/${L}`),_(),t&&t()}catch(R){console.error("Error deleting task:",R)}},O=L=>{switch(L){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},T=L=>{switch(L){case"completed":return"bg-green-100 text-green-800";case"in_progress":return"bg-blue-100 text-blue-800";case"blocked":return"bg-red-100 text-red-800";case"pending":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},I=L=>{switch(L){case"marketing":return"ðŸ“¢";case"volunteers":return"ðŸ‘¥";case"budget":return"ðŸ’°";case"logistics":return"ðŸ“¦";case"venue":return"ðŸ¢";case"supplies":return"ðŸ“‹";default:return"ðŸ“"}},k=r.filter(L=>{var Y;const R=L.title.toLowerCase().includes(d.toLowerCase())||((Y=L.description)==null?void 0:Y.toLowerCase().includes(d.toLowerCase())),V=c.status==="all"||L.status===c.status,F=c.priority==="all"||L.priority===c.priority,B=c.category==="all"||L.category===c.category,X=c.assigned==="all"||c.assigned==="assigned"&&L.assigned_to||c.assigned==="unassigned"&&!L.assigned_to;return R&&V&&F&&B&&X}),C=[...k].sort((L,R)=>{switch(h){case"due_date":return!L.due_date&&!R.due_date?0:L.due_date?R.due_date?new Date(L.due_date)-new Date(R.due_date):-1:1;case"priority":const V={high:3,medium:2,low:1};return V[R.priority]-V[L.priority];case"status":const F={pending:1,in_progress:2,completed:3,blocked:4};return F[L.status]-F[R.status];case"title":return L.title.localeCompare(R.title);default:return 0}});return a?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):o?s.jsxs(yt,{className:"p-6 text-center",children:[s.jsx("p",{className:"text-red-600",children:o}),s.jsx(at,{onClick:_,variant:"outline",className:"mt-4",children:"Retry"})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h2",{className:"text-2xl font-bold",children:["Tasks (",r.length,")"]}),s.jsxs(at,{onClick:()=>b(!0),className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(ql,{className:"h-4 w-4 mr-2"}),"Add Task"]})]}),s.jsx(yt,{className:"p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[s.jsx("div",{className:"md:col-span-2",children:s.jsxs("div",{className:"relative",children:[s.jsx(lb,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx(fr,{placeholder:"Search tasks...",value:d,onChange:L=>f(L.target.value),className:"pl-10"})]})}),s.jsxs(Cr,{value:c.status,onValueChange:L=>u({...c,status:L}),children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"in_progress",children:"In Progress"}),s.jsx("option",{value:"completed",children:"Completed"}),s.jsx("option",{value:"blocked",children:"Blocked"})]}),s.jsxs(Cr,{value:c.priority,onValueChange:L=>u({...c,priority:L}),children:[s.jsx("option",{value:"all",children:"All Priorities"}),s.jsx("option",{value:"high",children:"High"}),s.jsx("option",{value:"medium",children:"Medium"}),s.jsx("option",{value:"low",children:"Low"})]}),s.jsxs(Cr,{value:c.category,onValueChange:L=>u({...c,category:L}),children:[s.jsx("option",{value:"all",children:"All Categories"}),s.jsx("option",{value:"marketing",children:"Marketing"}),s.jsx("option",{value:"volunteers",children:"Volunteers"}),s.jsx("option",{value:"budget",children:"Budget"}),s.jsx("option",{value:"logistics",children:"Logistics"}),s.jsx("option",{value:"venue",children:"Venue"}),s.jsx("option",{value:"supplies",children:"Supplies"}),s.jsx("option",{value:"other",children:"Other"})]}),s.jsxs(Cr,{value:c.assigned,onValueChange:L=>u({...c,assigned:L}),children:[s.jsx("option",{value:"all",children:"All Assignments"}),s.jsx("option",{value:"assigned",children:"Assigned"}),s.jsx("option",{value:"unassigned",children:"Unassigned"})]})]})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Sort by:"}),s.jsxs(Cr,{value:h,onValueChange:p,children:[s.jsx("option",{value:"due_date",children:"Due Date"}),s.jsx("option",{value:"priority",children:"Priority"}),s.jsx("option",{value:"status",children:"Status"}),s.jsx("option",{value:"title",children:"Title"})]})]}),s.jsxs("span",{className:"text-sm text-gray-600",children:[k.length," of ",r.length," tasks"]})]}),s.jsx("div",{className:"space-y-3",children:C.length===0?s.jsxs(yt,{className:"p-8 text-center",children:[s.jsx("p",{className:"text-gray-600",children:"No tasks found matching your criteria."}),s.jsx(at,{onClick:()=>b(!0),variant:"outline",className:"mt-4",children:"Add First Task"})]}):C.map(L=>s.jsx(yt,{className:"p-4 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>w(L),children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("span",{className:"text-lg",children:I(L.category)}),s.jsx("h3",{className:"font-semibold text-lg",children:L.title}),s.jsxs(yn,{className:O(L.priority),children:[s.jsx(ob,{className:"h-3 w-3 mr-1"}),L.priority]}),s.jsx(yn,{className:T(L.status),children:L.status.replace("_"," ")})]}),L.description&&s.jsx("p",{className:"text-gray-600 mb-3 line-clamp-2",children:L.description}),s.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-500",children:[L.due_date&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Lr,{className:"h-4 w-4 mr-1"}),new Date(L.due_date).toLocaleDateString()]}),L.assigned_to&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(tf,{className:"h-4 w-4 mr-1"}),"Assigned"]}),L.estimated_hours&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Clock,{className:"h-4 w-4 mr-1"}),L.estimated_hours,"h"]}),L.estimated_cost&&s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"mr-1",children:"$"}),L.estimated_cost]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[s.jsx(at,{size:"sm",variant:"ghost",onClick:R=>{R.stopPropagation(),w(L)},children:s.jsx(gn,{className:"h-4 w-4"})}),s.jsx(at,{size:"sm",variant:"ghost",onClick:R=>{R.stopPropagation(),P(L.id)},children:s.jsx(ef,{className:"h-4 w-4"})})]})]})},L.id))}),v&&y&&s.jsx(eV,{task:y,onClose:()=>{g(!1),N(null)},onTaskUpdated:S}),x&&s.jsx(VA,{eventId:e,onClose:()=>b(!1),onTaskAdded:S})]})},YA=({eventId:e,onClose:t,onMilestoneAdded:r})=>{const[n,a]=$.useState({title:"",description:"",target_date:"",estimated_hours:"",estimated_cost:""}),[i,o]=$.useState(!1),[l,c]=$.useState(null),u=(h,p)=>{a(v=>({...v,[h]:p}))},d=async h=>{var p,v;if(h.preventDefault(),!n.title.trim()){c("Milestone title is required");return}o(!0),c(null);try{const g={...n,event_id:e,estimated_hours:n.estimated_hours?parseFloat(n.estimated_hours):null,estimated_cost:n.estimated_cost?parseFloat(n.estimated_cost):null};await Ot.post("/milestones",g),r()}catch(g){c(((v=(p=g.response)==null?void 0:p.data)==null?void 0:v.message)||"Failed to create milestone"),console.error("Error creating milestone:",g)}finally{o(!1)}},f=()=>{i||t()};return s.jsx(Xl,{open:!0,onOpenChange:f,children:s.jsxs(Jl,{className:"max-w-2xl",children:[s.jsx(Zl,{children:s.jsxs(Ql,{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Add New Milestone"}),s.jsx(at,{variant:"ghost",size:"sm",onClick:f,disabled:i,children:s.jsx(sb,{className:"h-4 w-4"})})]})}),s.jsxs("form",{onSubmit:d,className:"space-y-6",children:[l&&s.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:s.jsx("p",{className:"text-red-600 text-sm",children:l})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Zt,{htmlFor:"title",children:"Milestone Title *"}),s.jsx(fr,{id:"title",value:n.title,onChange:h=>u("title",h.target.value),placeholder:"Enter milestone title...",required:!0})]}),s.jsxs("div",{children:[s.jsx(Zt,{htmlFor:"description",children:"Description"}),s.jsx(rp,{id:"description",value:n.description,onChange:h=>u("description",h.target.value),placeholder:"Describe the milestone...",rows:3})]})]}),s.jsxs("div",{children:[s.jsxs(Zt,{htmlFor:"target_date",className:"flex items-center",children:[s.jsx(Lr,{className:"h-4 w-4 mr-2"}),"Target Date"]}),s.jsx(fr,{id:"target_date",type:"date",value:n.target_date,onChange:h=>u("target_date",h.target.value)})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs(Zt,{htmlFor:"estimated_hours",className:"flex items-center",children:[s.jsx($a,{className:"h-4 w-4 mr-2"}),"Estimated Hours"]}),s.jsx(fr,{id:"estimated_hours",type:"number",step:"0.5",min:"0",value:n.estimated_hours,onChange:h=>u("estimated_hours",h.target.value),placeholder:"0.0"})]}),s.jsxs("div",{children:[s.jsxs(Zt,{htmlFor:"estimated_cost",className:"flex items-center",children:[s.jsx(qn,{className:"h-4 w-4 mr-2"}),"Estimated Cost"]}),s.jsx(fr,{id:"estimated_cost",type:"number",step:"0.01",min:"0",value:n.estimated_cost,onChange:h=>u("estimated_cost",h.target.value),placeholder:"0.00"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[s.jsx(at,{type:"button",variant:"outline",onClick:f,disabled:i,children:"Cancel"}),s.jsx(at,{type:"submit",disabled:i,children:i?"Creating...":"Create Milestone"})]})]})]})})},rV=({eventId:e,onMilestoneUpdated:t})=>{const[r,n]=$.useState([]),[a,i]=$.useState(!0),[o,l]=$.useState(null),[c,u]=$.useState(!1),[d,f]=$.useState(null);$.useEffect(()=>{h()},[e]);const h=async()=>{try{i(!0);const S=await Ot.get(`/events/${e}/milestones`);n(S.data)}catch(S){l("Failed to load milestones"),console.error("Error loading milestones:",S)}finally{i(!1)}},p=S=>{f(S)},v=()=>{u(!1),h(),t&&t()},g=async S=>{if(confirm("Are you sure you want to delete this milestone?"))try{await Ot.delete(`/milestones/${S}`),h(),t&&t()}catch(P){console.error("Error deleting milestone:",P)}},x=S=>{switch(S){case"completed":return"bg-green-100 text-green-800";case"in_progress":return"bg-blue-100 text-blue-800";case"upcoming":return"bg-gray-100 text-gray-800";case"overdue":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},b=S=>{switch(S){case"completed":return s.jsx(Ur,{className:"h-5 w-5 text-green-600"});case"in_progress":return s.jsx($a,{className:"h-5 w-5 text-blue-600"});case"upcoming":return s.jsx(Lr,{className:"h-5 w-5 text-gray-600"});case"overdue":return s.jsx(Ul,{className:"h-5 w-5 text-red-600"});default:return s.jsx(Lr,{className:"h-5 w-5 text-gray-600"})}},y=[...r].sort((S,P)=>!S.target_date&&!P.target_date?0:S.target_date?P.target_date?new Date(S.target_date)-new Date(P.target_date):-1:1),N=r.filter(S=>S.status==="completed").length,_=r.length,w=_>0?N/_*100:0;return a?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):o?s.jsxs(yt,{className:"p-6 text-center",children:[s.jsx("p",{className:"text-red-600",children:o}),s.jsx(at,{onClick:h,variant:"outline",className:"mt-4",children:"Retry"})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h2",{className:"text-2xl font-bold",children:["Milestones (",r.length,")"]}),s.jsxs(at,{onClick:()=>u(!0),className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(ql,{className:"h-4 w-4 mr-2"}),"Add Milestone"]})]}),s.jsxs(yt,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Overall Progress"}),s.jsxs("span",{className:"text-sm text-gray-600",children:[N," of ",_," completed"]})]}),s.jsx(GA,{value:w,className:"mb-2"}),s.jsxs("p",{className:"text-sm text-gray-600",children:[w.toFixed(1),"% complete"]})]}),s.jsx("div",{className:"space-y-4",children:y.length===0?s.jsxs(yt,{className:"p-8 text-center",children:[s.jsx(Lr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"No milestones created yet."}),s.jsx(at,{onClick:()=>u(!0),variant:"outline",children:"Add First Milestone"})]}):y.map((S,P)=>s.jsx(yt,{className:"p-4 hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-600"}),P<y.length-1&&s.jsx("div",{className:"w-0.5 h-8 bg-gray-300 mt-2"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[b(S.status),s.jsx("h3",{className:"font-semibold text-lg",children:S.title}),s.jsx(yn,{className:x(S.status),children:S.status.replace("_"," ")})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(at,{size:"sm",variant:"ghost",onClick:()=>p(S),children:s.jsx(gn,{className:"h-4 w-4"})}),s.jsx(at,{size:"sm",variant:"ghost",onClick:()=>g(S.id),children:s.jsx(ef,{className:"h-4 w-4"})})]})]}),S.description&&s.jsx("p",{className:"text-gray-600 mb-3",children:S.description}),s.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-500",children:[S.target_date&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Lr,{className:"h-4 w-4 mr-1"}),"Target: ",new Date(S.target_date).toLocaleDateString()]}),S.completed_date&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ur,{className:"h-4 w-4 mr-1"}),"Completed: ",new Date(S.completed_date).toLocaleDateString()]}),S.estimated_hours&&s.jsxs("div",{className:"flex items-center",children:[s.jsx($a,{className:"h-4 w-4 mr-1"}),S.estimated_hours,"h estimated"]}),S.estimated_cost&&s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"mr-1",children:"$"}),S.estimated_cost," estimated"]})]}),S.associated_tasks&&S.associated_tasks.length>0&&s.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[s.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Associated Tasks:"}),s.jsx("div",{className:"space-y-1",children:S.associated_tasks.map(O=>s.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[s.jsx("span",{className:"w-2 h-2 rounded-full bg-gray-400"}),s.jsx("span",{className:O.status==="completed"?"line-through text-gray-500":"",children:O.title}),s.jsx(yn,{className:x(O.status),children:O.status.replace("_"," ")})]},O.id))})]})]})]})},S.id))}),d&&s.jsx(Xl,{open:!0,onOpenChange:()=>f(null),children:s.jsxs(Jl,{className:"max-w-2xl",children:[s.jsx(Zl,{children:s.jsxs(Ql,{className:"flex items-center space-x-3",children:[b(d.status),s.jsx("span",{children:"Milestone Details"})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg",children:d.title}),s.jsx(yn,{className:x(d.status),children:d.status.replace("_"," ")})]}),d.description&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Description"}),s.jsx("p",{className:"text-gray-600",children:d.description})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.target_date&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-1",children:"Target Date"}),s.jsx("p",{className:"text-gray-600",children:new Date(d.target_date).toLocaleDateString()})]}),d.completed_date&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-1",children:"Completed Date"}),s.jsx("p",{className:"text-gray-600",children:new Date(d.completed_date).toLocaleDateString()})]}),d.estimated_hours&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-1",children:"Estimated Hours"}),s.jsxs("p",{className:"text-gray-600",children:[d.estimated_hours,"h"]})]}),d.estimated_cost&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-1",children:"Estimated Cost"}),s.jsxs("p",{className:"text-gray-600",children:["$",d.estimated_cost]})]})]})]})]})}),c&&s.jsx(YA,{eventId:e,onClose:()=>u(!1),onMilestoneAdded:v})]})},nV=({eventId:e,onIssueUpdated:t})=>{const[r,n]=$.useState([]),[a,i]=$.useState(!0),[o,l]=$.useState(null),[c,u]=$.useState({status:"all",priority:"all",type:"all"}),[d,f]=$.useState(""),[h,p]=$.useState(!1),[v,g]=$.useState(null);$.useEffect(()=>{x()},[e]);const x=async()=>{try{i(!0);const O=await Ot.get(`/events/${e}/issues`);n(O.data)}catch(O){l("Failed to load issues"),console.error("Error loading issues:",O)}finally{i(!1)}},b=O=>{g(O)},y=async O=>{if(confirm("Are you sure you want to delete this issue?"))try{await Ot.delete(`/issues/${O}`),x(),t&&t()}catch(T){console.error("Error deleting issue:",T)}},N=O=>{switch(O){case"critical":return"bg-red-100 text-red-800";case"high":return"bg-orange-100 text-orange-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},_=O=>{switch(O){case"resolved":return"bg-green-100 text-green-800";case"in_progress":return"bg-blue-100 text-blue-800";case"open":return"bg-gray-100 text-gray-800";case"blocked":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},w=O=>{switch(O){case"blocker":return"ðŸš«";case"bug":return"ðŸ›";case"feature_request":return"ðŸ’¡";case"improvement":return"âš¡";case"question":return"â“";default:return"âš ï¸"}},P=[...r.filter(O=>{var L;const T=O.title.toLowerCase().includes(d.toLowerCase())||((L=O.description)==null?void 0:L.toLowerCase().includes(d.toLowerCase())),I=c.status==="all"||O.status===c.status,k=c.priority==="all"||O.priority===c.priority,C=c.type==="all"||O.type===c.type;return T&&I&&k&&C})].sort((O,T)=>{const I={critical:4,high:3,medium:2,low:1},k=I[T.priority]-I[O.priority];return k!==0?k:new Date(T.created_at)-new Date(O.created_at)});return a?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):o?s.jsxs(yt,{className:"p-6 text-center",children:[s.jsx("p",{className:"text-red-600",children:o}),s.jsx(at,{onClick:x,variant:"outline",className:"mt-4",children:"Retry"})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h2",{className:"text-2xl font-bold",children:["Issues (",r.length,")"]}),s.jsxs(at,{onClick:()=>p(!0),className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(ql,{className:"h-4 w-4 mr-2"}),"Report Issue"]})]}),s.jsx(yt,{className:"p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsx("div",{className:"md:col-span-2",children:s.jsxs("div",{className:"relative",children:[s.jsx(lb,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx(fr,{placeholder:"Search issues...",value:d,onChange:O=>f(O.target.value),className:"pl-10"})]})}),s.jsxs(Cr,{value:c.status,onValueChange:O=>u({...c,status:O}),children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"open",children:"Open"}),s.jsx("option",{value:"in_progress",children:"In Progress"}),s.jsx("option",{value:"resolved",children:"Resolved"}),s.jsx("option",{value:"blocked",children:"Blocked"})]}),s.jsxs(Cr,{value:c.priority,onValueChange:O=>u({...c,priority:O}),children:[s.jsx("option",{value:"all",children:"All Priorities"}),s.jsx("option",{value:"critical",children:"Critical"}),s.jsx("option",{value:"high",children:"High"}),s.jsx("option",{value:"medium",children:"Medium"}),s.jsx("option",{value:"low",children:"Low"})]}),s.jsxs(Cr,{value:c.type,onValueChange:O=>u({...c,type:O}),children:[s.jsx("option",{value:"all",children:"All Types"}),s.jsx("option",{value:"blocker",children:"Blocker"}),s.jsx("option",{value:"bug",children:"Bug"}),s.jsx("option",{value:"feature_request",children:"Feature Request"}),s.jsx("option",{value:"improvement",children:"Improvement"}),s.jsx("option",{value:"question",children:"Question"})]})]})}),s.jsx("div",{className:"space-y-3",children:P.length===0?s.jsxs(yt,{className:"p-8 text-center",children:[s.jsx(Ul,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"No issues found matching your criteria."}),s.jsx(at,{onClick:()=>p(!0),variant:"outline",children:"Report First Issue"})]}):P.map(O=>s.jsx(yt,{className:"p-4 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>b(O),children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("span",{className:"text-lg",children:w(O.type)}),s.jsx("h3",{className:"font-semibold text-lg",children:O.title}),s.jsx(yn,{className:N(O.priority),children:O.priority}),s.jsx(yn,{className:_(O.status),children:O.status.replace("_"," ")})]}),O.description&&s.jsx("p",{className:"text-gray-600 mb-3 line-clamp-2",children:O.description}),s.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-500",children:[O.reported_by&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(tf,{className:"h-4 w-4 mr-1"}),O.reported_by]}),O.created_at&&s.jsxs("div",{className:"flex items-center",children:[s.jsx($a,{className:"h-4 w-4 mr-1"}),new Date(O.created_at).toLocaleDateString()]}),O.resolved_at&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ur,{className:"h-4 w-4 mr-1"}),"Resolved ",new Date(O.resolved_at).toLocaleDateString()]}),O.comments_count>0&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(La,{className:"h-4 w-4 mr-1"}),O.comments_count," comments"]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[s.jsx(at,{size:"sm",variant:"ghost",onClick:T=>{T.stopPropagation(),b(O)},children:s.jsx(gn,{className:"h-4 w-4"})}),s.jsx(at,{size:"sm",variant:"ghost",onClick:T=>{T.stopPropagation(),y(O.id)},children:s.jsx(ef,{className:"h-4 w-4"})})]})]})},O.id))}),v&&s.jsx(Xl,{open:!0,onOpenChange:()=>g(null),children:s.jsxs(Jl,{className:"max-w-2xl",children:[s.jsx(Zl,{children:s.jsxs(Ql,{className:"flex items-center space-x-3",children:[s.jsx("span",{className:"text-lg",children:w(v.type)}),s.jsx("span",{children:"Issue Details"})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg",children:v.title}),s.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[s.jsx(yn,{className:N(v.priority),children:v.priority}),s.jsx(yn,{className:_(v.status),children:v.status.replace("_"," ")})]})]}),v.description&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Description"}),s.jsx("p",{className:"text-gray-600",children:v.description})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.reported_by&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-1",children:"Reported By"}),s.jsx("p",{className:"text-gray-600",children:v.reported_by})]}),v.assigned_to&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-1",children:"Assigned To"}),s.jsx("p",{className:"text-gray-600",children:v.assigned_to})]}),v.created_at&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-1",children:"Created"}),s.jsx("p",{className:"text-gray-600",children:new Date(v.created_at).toLocaleDateString()})]}),v.resolved_at&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-1",children:"Resolved"}),s.jsx("p",{className:"text-gray-600",children:new Date(v.resolved_at).toLocaleDateString()})]})]}),v.resolution_notes&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Resolution Notes"}),s.jsx("p",{className:"text-gray-600",children:v.resolution_notes})]})]})]})}),h&&s.jsx(Xl,{open:!0,onOpenChange:()=>p(!1),children:s.jsxs(Jl,{className:"max-w-2xl",children:[s.jsx(Zl,{children:s.jsx(Ql,{children:"Report New Issue"})}),s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Ul,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Issue reporting feature coming soon"})]})]})})]})},aV=({eventId:e,onSponsorshipUpdated:t})=>{const[r,n]=$.useState([]),[a,i]=$.useState(!0),[o,l]=$.useState(null);$.useEffect(()=>{c()},[e]);const c=async()=>{try{i(!0);const f=await Ot.get(`/events/${e}/sponsorships`);n(f.data)}catch(f){l("Failed to load sponsorships"),console.error("Error loading sponsorships:",f)}finally{i(!1)}},u=f=>{switch(f){case"confirmed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"declined":return"bg-red-100 text-red-800";case"negotiating":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},d=f=>{switch(f){case"platinum":return"bg-purple-100 text-purple-800";case"gold":return"bg-yellow-100 text-yellow-800";case"silver":return"bg-gray-100 text-gray-800";case"bronze":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}};return a?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):o?s.jsxs(yt,{className:"p-6 text-center",children:[s.jsx("p",{className:"text-red-600",children:o}),s.jsx(at,{onClick:c,variant:"outline",className:"mt-4",children:"Retry"})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h2",{className:"text-2xl font-bold",children:["Sponsorships (",r.length,")"]}),s.jsxs(at,{className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(ql,{className:"h-4 w-4 mr-2"}),"Add Sponsorship"]})]}),s.jsxs(yt,{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Sponsorship Summary"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["$",r.reduce((f,h)=>f+(h.amount||0),0).toLocaleString()]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Total Raised"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:r.filter(f=>f.status==="confirmed").length}),s.jsx("p",{className:"text-sm text-gray-600",children:"Confirmed"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:r.filter(f=>f.status==="pending").length}),s.jsx("p",{className:"text-sm text-gray-600",children:"Pending"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-gray-600",children:r.length}),s.jsx("p",{className:"text-sm text-gray-600",children:"Total Sponsors"})]})]})]}),s.jsx("div",{className:"space-y-3",children:r.length===0?s.jsxs(yt,{className:"p-8 text-center",children:[s.jsx(A1,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"No sponsorships found for this event."}),s.jsx(at,{variant:"outline",children:"Add First Sponsorship"})]}):r.map(f=>s.jsx(yt,{className:"p-4 hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx(A1,{className:"h-5 w-5 text-gray-500"}),s.jsx("h3",{className:"font-semibold text-lg",children:f.sponsor_name}),s.jsx(yn,{className:d(f.tier),children:f.tier}),s.jsx(yn,{className:u(f.status),children:f.status})]}),f.description&&s.jsx("p",{className:"text-gray-600 mb-3",children:f.description}),s.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-500",children:[f.amount&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(qn,{className:"h-4 w-4 mr-1"}),"$",f.amount.toLocaleString()]}),f.contact_person&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(tf,{className:"h-4 w-4 mr-1"}),f.contact_person]}),f.contact_email&&s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"mr-1",children:"ðŸ“§"}),f.contact_email]}),f.contact_phone&&s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"mr-1",children:"ðŸ“ž"}),f.contact_phone]})]}),f.benefits&&f.benefits.length>0&&s.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[s.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Benefits:"}),s.jsx("div",{className:"space-y-1",children:f.benefits.map((h,p)=>s.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[s.jsx(Ur,{className:"h-3 w-3 text-green-500"}),s.jsx("span",{children:h})]},p))})]})]}),s.jsx("div",{className:"flex items-center space-x-2 ml-4",children:s.jsx(at,{size:"sm",variant:"outline",children:"Edit"})})]})},f.id))})]})},iV=({eventId:e})=>{const[t,r]=$.useState(null),[n,a]=$.useState(!0),[i,o]=$.useState(null),[l,c]=$.useState("week");$.useEffect(()=>{u()},[e,l]);const u=async()=>{try{a(!0);const h=await Ot.get(`/events/${e}/task-progress?timeframe=${l}`);r(h.data)}catch(h){o("Failed to load chart data"),console.error("Error loading chart data:",h)}finally{a(!1)}};if(n)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});if(i)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("p",{className:"text-red-600",children:i})});if(!t||!t.data||t.data.length===0)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("p",{className:"text-gray-600",children:"No chart data available"})});const d=Math.max(...t.data.map(h=>h.completed_tasks)),f=200;return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Task Completion Trend"}),s.jsxs(Cr,{value:l,onValueChange:c,children:[s.jsx("option",{value:"week",children:"Last Week"}),s.jsx("option",{value:"month",children:"Last Month"}),s.jsx("option",{value:"quarter",children:"Last Quarter"})]})]}),s.jsxs("div",{className:"relative h-64",children:[s.jsx("div",{className:"flex items-end justify-between h-full space-x-2",children:t.data.map((h,p)=>s.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[s.jsx("div",{className:"w-full bg-blue-500 rounded-t transition-all duration-300 hover:bg-blue-600",style:{height:`${h.completed_tasks/d*f}px`,minHeight:"4px"},title:`${h.date}: ${h.completed_tasks} tasks completed`}),s.jsx("div",{className:"text-xs text-gray-600 mt-2 text-center",children:new Date(h.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]},p))}),s.jsxs("div",{className:"absolute left-0 top-0 h-full flex flex-col justify-between text-xs text-gray-500",children:[s.jsx("span",{children:d}),s.jsx("span",{children:Math.round(d*.75)}),s.jsx("span",{children:Math.round(d*.5)}),s.jsx("span",{children:Math.round(d*.25)}),s.jsx("span",{children:"0"})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-4 border-t",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:t.total_completed||0}),s.jsx("p",{className:"text-sm text-gray-600",children:"Total Completed"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-green-600",children:t.average_daily||0}),s.jsx("p",{className:"text-sm text-gray-600",children:"Avg Daily"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[t.completion_rate||0,"%"]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Completion Rate"})]})]})]})},sV=()=>{const{eventId:e}=_s(),t=pr(),[r,n]=$.useState("overview"),[a,i]=$.useState(null),[o,l]=$.useState(null),[c,u]=$.useState(!0),[d,f]=$.useState(null),[h,p]=$.useState(!1),[v,g]=$.useState(!1);$.useEffect(()=>{x()},[e]);const x=async()=>{try{u(!0);const[_,w]=await Promise.all([Ot.get(`/events/${e}`),Ot.get(`/events/${e}/summary`)]);i(_.data),l(w.data)}catch(_){f("Failed to load event data"),console.error("Error loading event data:",_)}finally{u(!1)}},b=()=>{p(!1),x()},y=()=>{g(!1),x()};if(c)return s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})});if(d)return s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs(yt,{className:"p-8 text-center",children:[s.jsx(Ul,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Error Loading Event"}),s.jsx("p",{className:"text-gray-600 mb-4",children:d}),s.jsx(at,{onClick:()=>t("/events"),variant:"outline",children:"Back to Events"})]})});if(!a)return s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs(yt,{className:"p-8 text-center",children:[s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Event Not Found"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"The requested event could not be found."}),s.jsx(at,{onClick:()=>t("/events"),variant:"outline",children:"Back to Events"})]})});const N=_=>{switch(_){case"completed":return"bg-green-100 text-green-800";case"in_progress":return"bg-blue-100 text-blue-800";case"blocked":return"bg-red-100 text-red-800";case"pending":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:a.title}),s.jsx("p",{className:"text-gray-600 mt-2",children:a.description})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx(at,{onClick:()=>p(!0),className:"bg-blue-600 hover:bg-blue-700",children:"Add Task"}),s.jsx(at,{onClick:()=>g(!0),variant:"outline",children:"Add Milestone"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[s.jsx(yt,{className:"p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Lr,{className:"h-5 w-5 text-gray-500 mr-2"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Event Date"}),s.jsx("p",{className:"font-semibold",children:new Date(a.event_date).toLocaleDateString()})]})]})}),s.jsx(yt,{className:"p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx($a,{className:"h-5 w-5 text-gray-500 mr-2"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Start Time"}),s.jsx("p",{className:"font-semibold",children:a.start_time||"TBD"})]})]})}),s.jsx(yt,{className:"p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(la,{className:"h-5 w-5 text-gray-500 mr-2"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Event Lead"}),s.jsx("p",{className:"font-semibold",children:a.event_lead?"Assigned":"Unassigned"})]})]})}),s.jsx(yt,{className:"p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ur,{className:"h-5 w-5 text-gray-500 mr-2"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Status"}),s.jsx(yn,{className:N(a.status),children:a.status})]})]})})]})]}),o&&s.jsxs(yt,{className:"p-6 mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Project Progress"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Overall Progress"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(GA,{value:o.progress_percentage,className:"flex-1 mr-3"}),s.jsxs("span",{className:"text-lg font-semibold",children:[o.progress_percentage,"%"]})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Tasks"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("span",{className:"text-2xl font-bold text-green-600",children:o.completed_tasks}),s.jsx("span",{className:"text-gray-400",children:"/"}),s.jsx("span",{className:"text-2xl font-bold",children:o.total_tasks})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Milestones"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("span",{className:"text-2xl font-bold text-blue-600",children:o.completed_milestones}),s.jsx("span",{className:"text-gray-400",children:"/"}),s.jsx("span",{className:"text-2xl font-bold",children:o.milestones_count})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Open Issues"}),s.jsx("div",{className:"flex items-center",children:s.jsx("span",{className:"text-2xl font-bold text-red-600",children:o.open_issues})})]})]})]}),s.jsxs(JG,{value:r,onValueChange:n,className:"space-y-6",children:[s.jsxs(ZG,{className:"grid w-full grid-cols-5",children:[s.jsx(Lu,{value:"overview",children:"Overview"}),s.jsx(Lu,{value:"tasks",children:"Tasks"}),s.jsx(Lu,{value:"milestones",children:"Milestones"}),s.jsx(Lu,{value:"issues",children:"Issues"}),s.jsx(Lu,{value:"sponsorships",children:"Sponsorships"})]}),s.jsx(Mu,{value:"overview",className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(yt,{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Task Progress Chart"}),s.jsx(iV,{eventId:e})]}),s.jsxs(yt,{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Recent Activity"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[s.jsx(Ur,{className:"h-5 w-5 text-green-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Task completed"}),s.jsx("p",{className:"text-sm text-gray-600",children:'"Set up venue" marked as complete'})]})]}),s.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[s.jsx(La,{className:"h-5 w-5 text-blue-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Comment added"}),s.jsx("p",{className:"text-sm text-gray-600",children:'New comment on "Order supplies" task'})]})]}),s.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[s.jsx(Ul,{className:"h-5 w-5 text-yellow-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Issue reported"}),s.jsx("p",{className:"text-sm text-gray-600",children:'"Venue availability" issue opened'})]})]})]})]})]})}),s.jsx(Mu,{value:"tasks",children:s.jsx(tV,{eventId:e,onTaskUpdated:x})}),s.jsx(Mu,{value:"milestones",children:s.jsx(rV,{eventId:e,onMilestoneUpdated:x})}),s.jsx(Mu,{value:"issues",children:s.jsx(nV,{eventId:e,onIssueUpdated:x})}),s.jsx(Mu,{value:"sponsorships",children:s.jsx(aV,{eventId:e,onSponsorshipUpdated:x})})]}),h&&s.jsx(VA,{eventId:e,onClose:()=>p(!1),onTaskAdded:b}),v&&s.jsx(YA,{eventId:e,onClose:()=>g(!1),onMilestoneAdded:y})]})};function ix({title:e,loading:t=!1,error:r=null,children:n,className:a=""}){return t?s.jsx(ub,{size:"lg"}):r?s.jsx("div",{className:"p-4 text-center text-red-600",children:r}):s.jsxs("div",{className:`p-6 ${a}`,children:[e&&s.jsx("div",{className:"mb-6",children:s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e})}),n||s.jsx(cb,{})]})}function oV(e){return e==null}var lV=oV;const pt=Nt(lV);var cV=Hi,uV=dn,dV=za,fV="[object String]";function hV(e){return typeof e=="string"||!uV(e)&&dV(e)&&cV(e)==fV}var pV=hV;const Eo=Nt(pV);var KA={exports:{}},It={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sx=Symbol.for("react.element"),ox=Symbol.for("react.portal"),Em=Symbol.for("react.fragment"),km=Symbol.for("react.strict_mode"),Cm=Symbol.for("react.profiler"),Tm=Symbol.for("react.provider"),Lm=Symbol.for("react.context"),mV=Symbol.for("react.server_context"),Mm=Symbol.for("react.forward_ref"),Dm=Symbol.for("react.suspense"),$m=Symbol.for("react.suspense_list"),Im=Symbol.for("react.memo"),Rm=Symbol.for("react.lazy"),gV=Symbol.for("react.offscreen"),XA;XA=Symbol.for("react.module.reference");function pa(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case sx:switch(e=e.type,e){case Em:case Cm:case km:case Dm:case $m:return e;default:switch(e=e&&e.$$typeof,e){case mV:case Lm:case Mm:case Rm:case Im:case Tm:return e;default:return t}}case ox:return t}}}It.ContextConsumer=Lm;It.ContextProvider=Tm;It.Element=sx;It.ForwardRef=Mm;It.Fragment=Em;It.Lazy=Rm;It.Memo=Im;It.Portal=ox;It.Profiler=Cm;It.StrictMode=km;It.Suspense=Dm;It.SuspenseList=$m;It.isAsyncMode=function(){return!1};It.isConcurrentMode=function(){return!1};It.isContextConsumer=function(e){return pa(e)===Lm};It.isContextProvider=function(e){return pa(e)===Tm};It.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===sx};It.isForwardRef=function(e){return pa(e)===Mm};It.isFragment=function(e){return pa(e)===Em};It.isLazy=function(e){return pa(e)===Rm};It.isMemo=function(e){return pa(e)===Im};It.isPortal=function(e){return pa(e)===ox};It.isProfiler=function(e){return pa(e)===Cm};It.isStrictMode=function(e){return pa(e)===km};It.isSuspense=function(e){return pa(e)===Dm};It.isSuspenseList=function(e){return pa(e)===$m};It.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Em||e===Cm||e===km||e===Dm||e===$m||e===gV||typeof e=="object"&&e!==null&&(e.$$typeof===Rm||e.$$typeof===Im||e.$$typeof===Tm||e.$$typeof===Lm||e.$$typeof===Mm||e.$$typeof===XA||e.getModuleId!==void 0)};It.typeOf=pa;KA.exports=It;var vV=KA.exports,yV=Hi,bV=za,xV="[object Number]";function wV(e){return typeof e=="number"||bV(e)&&yV(e)==xV}var JA=wV;const jV=Nt(JA);var NV=JA;function SV(e){return NV(e)&&e!=+e}var _V=SV;const qc=Nt(_V);var bn=function(t){return t===0?0:t>0?1:-1},so=function(t){return Eo(t)&&t.indexOf("%")===t.length-1},Le=function(t){return jV(t)&&!qc(t)},Mr=function(t){return Le(t)||Eo(t)},AV=0,Uc=function(t){var r=++AV;return"".concat(t||"").concat(r)},xn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Le(t)&&!Eo(t))return n;var i;if(so(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return qc(i)&&(i=n),a&&i>r&&(i=r),i},ps=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},OV=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},Pn=function(t,r){return Le(t)&&Le(r)?function(n){return t+n*(r-t)}:function(){return r}};function np(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Wn(n,t))===r})}var PV=function(t,r){return Le(t)&&Le(r)?t-r:Eo(t)&&Eo(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Il(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function D0(e){"@babel/helpers - typeof";return D0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D0(e)}var EV=["viewBox","children"],kV=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Bw=["points","pathLength"],kv={svg:EV,polygon:Bw,polyline:Bw},lx=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],ap=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if($.isValidElement(t)&&(n=t.props),!kc(n))return null;var a={};return Object.keys(n).forEach(function(i){lx.includes(i)&&(a[i]=r||function(o){return n[i](n,o)})}),a},CV=function(t,r,n){return function(a){return t(r,n,a),null}},ko=function(t,r,n){if(!kc(t)||D0(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];lx.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=CV(o,r,n))}),a},TV=["children"],LV=["children"];function zw(e,t){if(e==null)return{};var r=MV(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function MV(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function $0(e){"@babel/helpers - typeof";return $0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$0(e)}var qw={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ri=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},Uw=null,Cv=null,cx=function e(t){if(t===Uw&&Array.isArray(Cv))return Cv;var r=[];return $.Children.forEach(t,function(n){pt(n)||(vV.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Cv=r,Uw=t,r};function oa(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return Ri(a)}):n=[Ri(t)],cx(e).forEach(function(a){var i=Wn(a,"type.displayName")||Wn(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function Bn(e,t){var r=oa(e,t);return r&&r[0]}var Ww=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!Le(n)||n<=0||!Le(a)||a<=0)},DV=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],$V=function(t){return t&&t.type&&Eo(t.type)&&DV.indexOf(t.type)>=0},IV=function(t){return t&&$0(t)==="object"&&"clipDot"in t},RV=function(t,r,n,a){var i,o=(i=kv==null?void 0:kv[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!nt(t)&&(a&&o.includes(r)||kV.includes(r))||n&&lx.includes(r)},Xe=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if($.isValidElement(t)&&(a=t.props),!kc(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;RV((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=a[o])}),i},I0=function e(t,r){if(t===r)return!0;var n=$.Children.count(t);if(n!==$.Children.count(r))return!1;if(n===0)return!0;if(n===1)return Hw(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!Hw(i,o))return!1}return!0},Hw=function(t,r){if(pt(t)&&pt(r))return!0;if(!pt(t)&&!pt(r)){var n=t.props||{},a=n.children,i=zw(n,TV),o=r.props||{},l=o.children,c=zw(o,LV);return a&&l?Il(i,c)&&I0(a,l):!a&&!l?Il(i,c):!1}return!1},Gw=function(t,r){var n=[],a={};return cx(t).forEach(function(i,o){if($V(i))n.push(i);else if(i){var l=Ri(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(i,l,o);n.push(f),a[l]=!0}}}),n},FV=function(t){var r=t&&t.type;return r&&qw[r]?qw[r]:null},BV=function(t,r){return cx(r).indexOf(t)},zV=["children","width","height","viewBox","className","style","title","desc"];function R0(){return R0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},R0.apply(this,arguments)}function qV(e,t){if(e==null)return{};var r=UV(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function UV(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function F0(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=qV(e,zV),d=a||{width:r,height:n,x:0,y:0},f=vt("recharts-surface",i);return U.createElement("svg",R0({},Xe(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),U.createElement("title",null,l),U.createElement("desc",null,c),t)}var WV=["children","className"];function B0(){return B0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},B0.apply(this,arguments)}function HV(e,t){if(e==null)return{};var r=GV(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function GV(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var _t=U.forwardRef(function(e,t){var r=e.children,n=e.className,a=HV(e,WV),i=vt("recharts-layer",n);return U.createElement("g",B0({className:i},Xe(a,!0),{ref:t}),r)}),Ra=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]},VV=mb;function YV(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:VV(e,t,r)}var KV=YV,XV="\\ud800-\\udfff",JV="\\u0300-\\u036f",ZV="\\ufe20-\\ufe2f",QV="\\u20d0-\\u20ff",eY=JV+ZV+QV,tY="\\ufe0e\\ufe0f",rY="\\u200d",nY=RegExp("["+rY+XV+eY+tY+"]");function aY(e){return nY.test(e)}var ZA=aY;function iY(e){return e.split("")}var sY=iY,QA="\\ud800-\\udfff",oY="\\u0300-\\u036f",lY="\\ufe20-\\ufe2f",cY="\\u20d0-\\u20ff",uY=oY+lY+cY,dY="\\ufe0e\\ufe0f",fY="["+QA+"]",z0="["+uY+"]",q0="\\ud83c[\\udffb-\\udfff]",hY="(?:"+z0+"|"+q0+")",e4="[^"+QA+"]",t4="(?:\\ud83c[\\udde6-\\uddff]){2}",r4="[\\ud800-\\udbff][\\udc00-\\udfff]",pY="\\u200d",n4=hY+"?",a4="["+dY+"]?",mY="(?:"+pY+"(?:"+[e4,t4,r4].join("|")+")"+a4+n4+")*",gY=a4+n4+mY,vY="(?:"+[e4+z0+"?",z0,t4,r4,fY].join("|")+")",yY=RegExp(q0+"(?="+q0+")|"+vY+gY,"g");function bY(e){return e.match(yY)||[]}var xY=bY,wY=sY,jY=ZA,NY=xY;function SY(e){return jY(e)?NY(e):wY(e)}var _Y=SY,AY=KV,OY=ZA,PY=_Y,EY=k_;function kY(e){return function(t){t=EY(t);var r=OY(t)?PY(t):void 0,n=r?r[0]:t.charAt(0),a=r?AY(r,1).join(""):t.slice(1);return n[e]()+a}}var CY=kY,TY=CY,LY=TY("toUpperCase"),MY=LY;const Fm=Nt(MY);function Kt(e){return function(){return e}}const i4=Math.cos,ip=Math.sin,Ha=Math.sqrt,sp=Math.PI,Bm=2*sp,U0=Math.PI,W0=2*U0,to=1e-6,DY=W0-to;function s4(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function $Y(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return s4;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class IY{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?s4:$Y(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=a-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>to)if(!(Math.abs(f*c-u*d)>to)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,v=a-l,g=c*c+u*u,x=p*p+v*v,b=Math.sqrt(g),y=Math.sqrt(h),N=i*Math.tan((U0-Math.acos((g+h-x)/(2*b*y)))/2),_=N/y,w=N/b;Math.abs(_-1)>to&&this._append`L${t+_*d},${r+_*f}`,this._append`A${i},${i},0,0,${+(f*p>d*v)},${this._x1=t+w*c},${this._y1=r+w*u}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^o,h=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>to||Math.abs(this._y1-d)>to)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%W0+W0),h>DY?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>to&&this._append`A${n},${n},0,${+(h>=U0)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function ux(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new IY(t)}function dx(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function o4(e){this._context=e}o4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function zm(e){return new o4(e)}function l4(e){return e[0]}function c4(e){return e[1]}function u4(e,t){var r=Kt(!0),n=null,a=zm,i=null,o=ux(l);e=typeof e=="function"?e:e===void 0?l4:Kt(e),t=typeof t=="function"?t:t===void 0?c4:Kt(t);function l(c){var u,d=(c=dx(c)).length,f,h=!1,p;for(n==null&&(i=a(p=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(p)return i=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Kt(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Kt(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Kt(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function gh(e,t,r){var n=null,a=Kt(!0),i=null,o=zm,l=null,c=ux(u);e=typeof e=="function"?e:e===void 0?l4:Kt(+e),t=typeof t=="function"?t:Kt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?c4:Kt(+r);function u(f){var h,p,v,g=(f=dx(f)).length,x,b=!1,y,N=new Array(g),_=new Array(g);for(i==null&&(l=o(y=c())),h=0;h<=g;++h){if(!(h<g&&a(x=f[h],h,f))===b)if(b=!b)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),v=h-1;v>=p;--v)l.point(N[v],_[v]);l.lineEnd(),l.areaEnd()}b&&(N[h]=+e(x,h,f),_[h]=+t(x,h,f),l.point(n?+n(x,h,f):N[h],r?+r(x,h,f):_[h]))}if(y)return l=null,y+""||null}function d(){return u4().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Kt(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Kt(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Kt(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Kt(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Kt(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Kt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Kt(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class d4{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function RY(e){return new d4(e,!0)}function FY(e){return new d4(e,!1)}const fx={draw(e,t){const r=Ha(t/sp);e.moveTo(r,0),e.arc(0,0,r,0,Bm)}},BY={draw(e,t){const r=Ha(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},f4=Ha(1/3),zY=f4*2,qY={draw(e,t){const r=Ha(t/zY),n=r*f4;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},UY={draw(e,t){const r=Ha(t),n=-r/2;e.rect(n,n,r,r)}},WY=.8908130915292852,h4=ip(sp/10)/ip(7*sp/10),HY=ip(Bm/10)*h4,GY=-i4(Bm/10)*h4,VY={draw(e,t){const r=Ha(t*WY),n=HY*r,a=GY*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=Bm*i/5,l=i4(o),c=ip(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},Tv=Ha(3),YY={draw(e,t){const r=-Ha(t/(Tv*3));e.moveTo(0,r*2),e.lineTo(-Tv*r,-r),e.lineTo(Tv*r,-r),e.closePath()}},ea=-.5,ta=Ha(3)/2,H0=1/Ha(12),KY=(H0/2+1)*3,XY={draw(e,t){const r=Ha(t/KY),n=r/2,a=r*H0,i=n,o=r*H0+r,l=-i,c=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(ea*n-ta*a,ta*n+ea*a),e.lineTo(ea*i-ta*o,ta*i+ea*o),e.lineTo(ea*l-ta*c,ta*l+ea*c),e.lineTo(ea*n+ta*a,ea*a-ta*n),e.lineTo(ea*i+ta*o,ea*o-ta*i),e.lineTo(ea*l+ta*c,ea*c-ta*l),e.closePath()}};function JY(e,t){let r=null,n=ux(a);e=typeof e=="function"?e:Kt(e||fx),t=typeof t=="function"?t:Kt(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Kt(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Kt(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function op(){}function lp(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function p4(e){this._context=e}p4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:lp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:lp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ZY(e){return new p4(e)}function m4(e){this._context=e}m4.prototype={areaStart:op,areaEnd:op,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:lp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function QY(e){return new m4(e)}function g4(e){this._context=e}g4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:lp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function eK(e){return new g4(e)}function v4(e){this._context=e}v4.prototype={areaStart:op,areaEnd:op,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function tK(e){return new v4(e)}function Vw(e){return e<0?-1:1}function Yw(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(Vw(i)+Vw(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function Kw(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Lv(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,o-l*r,i,o)}function cp(e){this._context=e}cp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Lv(this,this._t0,Kw(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Lv(this,Kw(this,r=Yw(this,e,t)),r);break;default:Lv(this,this._t0,r=Yw(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function y4(e){this._context=new b4(e)}(y4.prototype=Object.create(cp.prototype)).point=function(e,t){cp.prototype.point.call(this,t,e)};function b4(e){this._context=e}b4.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function rK(e){return new cp(e)}function nK(e){return new y4(e)}function x4(e){this._context=e}x4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Xw(e),a=Xw(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Xw(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function aK(e){return new x4(e)}function qm(e,t){this._context=e,this._t=t}qm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function iK(e){return new qm(e,.5)}function sK(e){return new qm(e,0)}function oK(e){return new qm(e,1)}function ec(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function G0(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function lK(e,t){return e[t]}function cK(e){const t=[];return t.key=e,t}function uK(){var e=Kt([]),t=G0,r=ec,n=lK;function a(i){var o=Array.from(e.apply(this,arguments),cK),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,i)]).data=f;for(l=0,d=dx(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Kt(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Kt(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?G0:typeof i=="function"?i:Kt(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??ec,a):r},a}function dK(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}ec(e,t)}}function fK(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}ec(e,t)}}function hK(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,v=0;v<l;++v){var g=e[t[v]],x=g[n][1]||0,b=g[n-1][1]||0;p+=x-b}c+=f,u+=p*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,ec(e,t)}}function bd(e){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bd(e)}var pK=["type","size","sizeType"];function V0(){return V0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},V0.apply(this,arguments)}function Jw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jw(Object(r),!0).forEach(function(n){mK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mK(e,t,r){return t=gK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gK(e){var t=vK(e,"string");return bd(t)=="symbol"?t:t+""}function vK(e,t){if(bd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yK(e,t){if(e==null)return{};var r=bK(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var w4={symbolCircle:fx,symbolCross:BY,symbolDiamond:qY,symbolSquare:UY,symbolStar:VY,symbolTriangle:YY,symbolWye:XY},xK=Math.PI/180,wK=function(t){var r="symbol".concat(Fm(t));return w4[r]||fx},jK=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*xK;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},NK=function(t,r){w4["symbol".concat(Fm(t))]=r},hx=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=yK(t,pK),u=Zw(Zw({},c),{},{type:n,size:i,sizeType:l}),d=function(){var x=wK(n),b=JY().type(x).size(jK(i,l,n));return b()},f=u.className,h=u.cx,p=u.cy,v=Xe(u,!0);return h===+h&&p===+p&&i===+i?U.createElement("path",V0({},v,{className:vt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};hx.registerSymbol=NK;function tc(e){"@babel/helpers - typeof";return tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tc(e)}function Y0(){return Y0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Y0.apply(this,arguments)}function Qw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function SK(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qw(Object(r),!0).forEach(function(n){xd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _K(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AK(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,N4(n.key),n)}}function OK(e,t,r){return t&&AK(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function PK(e,t,r){return t=up(t),EK(e,j4()?Reflect.construct(t,r||[],up(e).constructor):t.apply(e,r))}function EK(e,t){if(t&&(tc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kK(e)}function kK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j4=function(){return!!e})()}function up(e){return up=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},up(e)}function CK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&K0(e,t)}function K0(e,t){return K0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},K0(e,t)}function xd(e,t,r){return t=N4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N4(e){var t=TK(e,"string");return tc(t)=="symbol"?t:t+""}function TK(e,t){if(tc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ra=32,px=function(e){function t(){return _K(this,t),PK(this,t,arguments)}return CK(t,e),OK(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=ra/2,o=ra/6,l=ra/3,c=n.inactive?a:n.color;if(n.type==="plainline")return U.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:ra,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return U.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(ra,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return U.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(ra/8,"h").concat(ra,"v").concat(ra*3/4,"h").concat(-ra,"z"),className:"recharts-legend-icon"});if(U.isValidElement(n.legendIcon)){var u=SK({},n);return delete u.legendIcon,U.cloneElement(n.legendIcon,u)}return U.createElement(hx,{fill:c,cx:i,cy:i,size:ra,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:ra,height:ra},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,v){var g=p.formatter||c,x=vt(xd(xd({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",p.inactive));if(p.type==="none")return null;var b=nt(p.value)?null:p.value;Ra(!nt(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=p.inactive?u:p.color;return U.createElement("li",Y0({className:x,style:f,key:"legend-item-".concat(v)},ko(n.props,p,v)),U.createElement(F0,{width:o,height:o,viewBox:d,style:h},n.renderIcon(p)),U.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},g?g(b,p,v):b))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return U.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}($.PureComponent);xd(px,"displayName","Legend");xd(px,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});function LK(e){return e!==e}var MK=LK;function DK(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var $K=DK,IK=S_,RK=MK,FK=$K;function BK(e,t,r){return t===t?FK(e,t,r):IK(e,RK,r)}var zK=BK,qK=zK;function UK(e,t){var r=e==null?0:e.length;return!!r&&qK(e,t,0)>-1}var WK=UK;function HK(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var GK=HK;function VK(){}var YK=VK,Mv=x_,KK=YK,XK=Lb,JK=1/0,ZK=Mv&&1/XK(new Mv([,-0]))[1]==JK?function(e){return new Mv(e)}:KK,QK=ZK,eX=c_,tX=WK,rX=GK,nX=d_,aX=QK,iX=Lb,sX=200;function oX(e,t,r){var n=-1,a=tX,i=e.length,o=!0,l=[],c=l;if(r)o=!1,a=rX;else if(i>=sX){var u=t?null:aX(e);if(u)return iX(u);o=!1,a=nX,c=new eX}else c=t?[]:l;e:for(;++n<i;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var lX=oX,cX=qa,uX=lX;function dX(e,t){return e&&e.length?uX(e,cX(t)):[]}var fX=dX;const e5=Nt(fX);function S4(e,t,r){return t===!0?e5(e,r):nt(t)?e5(e,t):e}function rc(e){"@babel/helpers - typeof";return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rc(e)}var hX=["ref"];function t5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Li(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t5(Object(r),!0).forEach(function(n){Um(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,A4(n.key),n)}}function mX(e,t,r){return t&&r5(e.prototype,t),r&&r5(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function gX(e,t,r){return t=dp(t),vX(e,_4()?Reflect.construct(t,r||[],dp(e).constructor):t.apply(e,r))}function vX(e,t){if(t&&(rc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yX(e)}function yX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_4=function(){return!!e})()}function dp(e){return dp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dp(e)}function bX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&X0(e,t)}function X0(e,t){return X0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},X0(e,t)}function Um(e,t,r){return t=A4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A4(e){var t=xX(e,"string");return rc(t)=="symbol"?t:t+""}function xX(e,t){if(rc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function wX(e,t){if(e==null)return{};var r=jX(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jX(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function NX(e){return e.value}function SX(e,t){if(U.isValidElement(e))return U.cloneElement(e,t);if(typeof e=="function")return U.createElement(e,t);t.ref;var r=wX(t,hX);return U.createElement(px,r)}var n5=1,mo=function(e){function t(){var r;pX(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=gX(this,t,[].concat(a)),Um(r,"lastBoundingBox",{width:-1,height:-1}),r}return bX(t,e),mX(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>n5||Math.abs(a.height-this.lastBoundingBox.height)>n5)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Li({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var v=this.getBBoxSnapshot();h={top:((d||0)-v.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Li(Li({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=Li(Li({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return U.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},SX(i,Li(Li({},this.props),{},{payload:S4(d,u,NX)})))}}],[{key:"getWithHeight",value:function(n,a){var i=Li(Li({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&Le(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}($.PureComponent);Um(mo,"displayName","Legend");Um(mo,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});function wd(e){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wd(e)}function J0(){return J0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},J0.apply(this,arguments)}function _X(e,t){return EX(e)||PX(e,t)||OX(e,t)||AX()}function AX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OX(e,t){if(e){if(typeof e=="string")return a5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a5(e,t)}}function a5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function PX(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function EX(e){if(Array.isArray(e))return e}function i5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i5(Object(r),!0).forEach(function(n){kX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kX(e,t,r){return t=CX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CX(e){var t=TX(e,"string");return wd(t)=="symbol"?t:t+""}function TX(e,t){if(wd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LX(e){return Array.isArray(e)&&Mr(e[0])&&Mr(e[1])?e.join(" ~ "):e}var MX=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,v=t.labelClassName,g=t.label,x=t.labelFormatter,b=t.accessibilityLayer,y=b===void 0?!1:b,N=function(){if(d&&d.length){var C={padding:0,margin:0},L=(h?gm(d,h):d).map(function(R,V){if(R.type==="none")return null;var F=Dv({display:"block",paddingTop:4,paddingBottom:4,color:R.color||"#000"},l),B=R.formatter||f||LX,X=R.value,Y=R.name,Z=X,ae=Y;if(B&&Z!=null&&ae!=null){var D=B(X,Y,R,V,d);if(Array.isArray(D)){var W=_X(D,2);Z=W[0],ae=W[1]}else Z=D}return U.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(V),style:F},Mr(ae)?U.createElement("span",{className:"recharts-tooltip-item-name"},ae):null,Mr(ae)?U.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,U.createElement("span",{className:"recharts-tooltip-item-value"},Z),U.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return U.createElement("ul",{className:"recharts-tooltip-item-list",style:C},L)}return null},_=Dv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),w=Dv({margin:0},u),S=!pt(g),P=S?g:"",O=vt("recharts-default-tooltip",p),T=vt("recharts-tooltip-label",v);S&&x&&d!==void 0&&d!==null&&(P=x(g,d));var I=y?{role:"status","aria-live":"assertive"}:{};return U.createElement("div",J0({className:O,style:_},I),U.createElement("p",{className:T,style:w},U.isValidElement(P)?P:"".concat(P)),N())};function jd(e){"@babel/helpers - typeof";return jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jd(e)}function vh(e,t,r){return t=DX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DX(e){var t=$X(e,"string");return jd(t)=="symbol"?t:t+""}function $X(e,t){if(jd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Du="recharts-tooltip-wrapper",IX={visibility:"hidden"};function RX(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return vt(Du,vh(vh(vh(vh({},"".concat(Du,"-right"),Le(r)&&t&&Le(t.x)&&r>=t.x),"".concat(Du,"-left"),Le(r)&&t&&Le(t.x)&&r<t.x),"".concat(Du,"-bottom"),Le(n)&&t&&Le(t.y)&&n>=t.y),"".concat(Du,"-top"),Le(n)&&t&&Le(t.y)&&n<t.y))}function s5(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&Le(i[n]))return i[n];var d=r[n]-l-a,f=r[n]+a;if(t[n])return o[n]?d:f;if(o[n]){var h=d,p=c[n];return h<p?Math.max(f,c[n]):Math.max(d,c[n])}var v=f+l,g=c[n]+u;return v>g?Math.max(d,c[n]):Math.max(f,c[n])}function FX(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function BX(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=s5({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=s5({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=FX({translateX:d,translateY:f,useTranslate3d:l})):u=IX,{cssProperties:u,cssClasses:RX({translateX:d,translateY:f,coordinate:r})}}function nc(e){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nc(e)}function o5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function l5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o5(Object(r),!0).forEach(function(n){Q0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,P4(n.key),n)}}function UX(e,t,r){return t&&qX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function WX(e,t,r){return t=fp(t),HX(e,O4()?Reflect.construct(t,r||[],fp(e).constructor):t.apply(e,r))}function HX(e,t){if(t&&(nc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GX(e)}function GX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O4=function(){return!!e})()}function fp(e){return fp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fp(e)}function VX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z0(e,t)}function Z0(e,t){return Z0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Z0(e,t)}function Q0(e,t,r){return t=P4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P4(e){var t=YX(e,"string");return nc(t)=="symbol"?t:t+""}function YX(e,t){if(nc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var c5=1,KX=function(e){function t(){var r;zX(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=WX(this,t,[].concat(a)),Q0(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Q0(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return VX(t,e),UX(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>c5||Math.abs(n.height-this.state.lastBoundingBox.height)>c5)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,p=a.offset,v=a.position,g=a.reverseDirection,x=a.useTranslate3d,b=a.viewBox,y=a.wrapperStyle,N=BX({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:p,position:v,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:b}),_=N.cssClasses,w=N.cssProperties,S=l5(l5({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},y);return U.createElement("div",{tabIndex:-1,className:_,style:S,ref:function(O){n.wrapperNode=O}},u)}}])}($.PureComponent),XX=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Io={isSsr:XX()};function ac(e){"@babel/helpers - typeof";return ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ac(e)}function u5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function d5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u5(Object(r),!0).forEach(function(n){mx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,k4(n.key),n)}}function QX(e,t,r){return t&&ZX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function eJ(e,t,r){return t=hp(t),tJ(e,E4()?Reflect.construct(t,r||[],hp(e).constructor):t.apply(e,r))}function tJ(e,t){if(t&&(ac(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rJ(e)}function rJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E4=function(){return!!e})()}function hp(e){return hp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hp(e)}function nJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ey(e,t)}function ey(e,t){return ey=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ey(e,t)}function mx(e,t,r){return t=k4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k4(e){var t=aJ(e,"string");return ac(t)=="symbol"?t:t+""}function aJ(e,t){if(ac(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ac(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function iJ(e){return e.dataKey}function sJ(e,t){return U.isValidElement(e)?U.cloneElement(e,t):typeof e=="function"?U.createElement(e,t):U.createElement(MX,t)}var Ca=function(e){function t(){return JX(this,t),eJ(this,t,arguments)}return nJ(t,e),QX(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,p=a.offset,v=a.payload,g=a.payloadUniqBy,x=a.position,b=a.reverseDirection,y=a.useTranslate3d,N=a.viewBox,_=a.wrapperStyle,w=v??[];f&&w.length&&(w=S4(v.filter(function(P){return P.value!=null&&(P.hide!==!0||n.props.includeHidden)}),g,iJ));var S=w.length>0;return U.createElement(KX,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:d,hasPayload:S,offset:p,position:x,reverseDirection:b,useTranslate3d:y,viewBox:N,wrapperStyle:_},sJ(u,d5(d5({},this.props),{},{payload:w})))}}])}($.PureComponent);mx(Ca,"displayName","Tooltip");mx(Ca,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Io.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var oJ=Ba,lJ=function(){return oJ.Date.now()},cJ=lJ,uJ=fa,$v=cJ,f5=GS,dJ="Expected a function",fJ=Math.max,hJ=Math.min;function pJ(e,t,r){var n,a,i,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(dJ);t=f5(t)||0,uJ(r)&&(d=!!r.leading,f="maxWait"in r,i=f?fJ(f5(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function p(S){var P=n,O=a;return n=a=void 0,u=S,o=e.apply(O,P),o}function v(S){return u=S,l=setTimeout(b,t),d?p(S):o}function g(S){var P=S-c,O=S-u,T=t-P;return f?hJ(T,i-O):T}function x(S){var P=S-c,O=S-u;return c===void 0||P>=t||P<0||f&&O>=i}function b(){var S=$v();if(x(S))return y(S);l=setTimeout(b,g(S))}function y(S){return l=void 0,h&&n?p(S):(n=a=void 0,o)}function N(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function _(){return l===void 0?o:y($v())}function w(){var S=$v(),P=x(S);if(n=arguments,a=this,c=S,P){if(l===void 0)return v(c);if(f)return clearTimeout(l),l=setTimeout(b,t),p(c)}return l===void 0&&(l=setTimeout(b,t)),o}return w.cancel=N,w.flush=_,w}var mJ=pJ,gJ=mJ,vJ=fa,yJ="Expected a function";function bJ(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(yJ);return vJ(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),gJ(e,t,{leading:n,maxWait:t,trailing:a})}var xJ=bJ;const C4=Nt(xJ);function Nd(e){"@babel/helpers - typeof";return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nd(e)}function h5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h5(Object(r),!0).forEach(function(n){wJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wJ(e,t,r){return t=jJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jJ(e){var t=NJ(e,"string");return Nd(t)=="symbol"?t:t+""}function NJ(e,t){if(Nd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SJ(e,t){return PJ(e)||OJ(e,t)||AJ(e,t)||_J()}function _J(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AJ(e,t){if(e){if(typeof e=="string")return p5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p5(e,t)}}function p5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function OJ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function PJ(e){if(Array.isArray(e))return e}var m5=$.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,p=e.children,v=e.debounce,g=v===void 0?0:v,x=e.id,b=e.className,y=e.onResize,N=e.style,_=N===void 0?{}:N,w=$.useRef(null),S=$.useRef();S.current=y,$.useImperativeHandle(t,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var P=$.useState({containerWidth:a.width,containerHeight:a.height}),O=SJ(P,2),T=O[0],I=O[1],k=$.useCallback(function(L,R){I(function(V){var F=Math.round(L),B=Math.round(R);return V.containerWidth===F&&V.containerHeight===B?V:{containerWidth:F,containerHeight:B}})},[]);$.useEffect(function(){var L=function(Y){var Z,ae=Y[0].contentRect,D=ae.width,W=ae.height;k(D,W),(Z=S.current)===null||Z===void 0||Z.call(S,D,W)};g>0&&(L=C4(L,g,{trailing:!0,leading:!1}));var R=new ResizeObserver(L),V=w.current.getBoundingClientRect(),F=V.width,B=V.height;return k(F,B),R.observe(w.current),function(){R.disconnect()}},[k,g]);var C=$.useMemo(function(){var L=T.containerWidth,R=T.containerHeight;if(L<0||R<0)return null;Ra(so(o)||so(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Ra(!r||r>0,"The aspect(%s) must be greater than zero.",r);var V=so(o)?L:o,F=so(c)?R:c;r&&r>0&&(V?F=V/r:F&&(V=F*r),h&&F>h&&(F=h)),Ra(V>0||F>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,V,F,o,c,d,f,r);var B=!Array.isArray(p)&&Ri(p.type).endsWith("Chart");return U.Children.map(p,function(X){return U.isValidElement(X)?$.cloneElement(X,yh({width:V,height:F},B?{style:yh({height:"100%",width:"100%",maxHeight:F,maxWidth:V},X.props.style)}:{})):X})},[r,p,c,h,f,d,T,o]);return U.createElement("div",{id:x?"".concat(x):void 0,className:vt("recharts-responsive-container",b),style:yh(yh({},_),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:w},C)}),Wm=function(t){return null};Wm.displayName="Cell";function Sd(e){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sd(e)}function g5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ty(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g5(Object(r),!0).forEach(function(n){EJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EJ(e,t,r){return t=kJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kJ(e){var t=CJ(e,"string");return Sd(t)=="symbol"?t:t+""}function CJ(e,t){if(Sd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xl={widthCache:{},cacheCount:0},TJ=2e3,LJ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},v5="recharts_measurement_span";function MJ(e){var t=ty({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Xu=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Io.isSsr)return{width:0,height:0};var n=MJ(r),a=JSON.stringify({text:t,copyStyle:n});if(xl.widthCache[a])return xl.widthCache[a];try{var i=document.getElementById(v5);i||(i=document.createElement("span"),i.setAttribute("id",v5),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=ty(ty({},LJ),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return xl.widthCache[a]=c,++xl.cacheCount>TJ&&(xl.cacheCount=0,xl.widthCache={}),c}catch{return{width:0,height:0}}},DJ=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function _d(e){"@babel/helpers - typeof";return _d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_d(e)}function pp(e,t){return FJ(e)||RJ(e,t)||IJ(e,t)||$J()}function $J(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IJ(e,t){if(e){if(typeof e=="string")return y5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y5(e,t)}}function y5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function RJ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function FJ(e){if(Array.isArray(e))return e}function BJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qJ(n.key),n)}}function zJ(e,t,r){return t&&b5(e.prototype,t),r&&b5(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function qJ(e){var t=UJ(e,"string");return _d(t)=="symbol"?t:t+""}function UJ(e,t){if(_d(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_d(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var x5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,w5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,WJ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,HJ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,T4={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},GJ=Object.keys(T4),Pl="NaN";function VJ(e,t){return e*T4[t]}var bh=function(){function e(t,r){BJ(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!WJ.test(r)&&(this.num=NaN,this.unit=""),GJ.includes(r)&&(this.num=VJ(t,r),this.unit="px")}return zJ(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=HJ.exec(r))!==null&&n!==void 0?n:[],i=pp(a,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function L4(e){if(e.includes(Pl))return Pl;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=x5.exec(t))!==null&&r!==void 0?r:[],a=pp(n,4),i=a[1],o=a[2],l=a[3],c=bh.parse(i??""),u=bh.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Pl;t=t.replace(x5,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=w5.exec(t))!==null&&f!==void 0?f:[],p=pp(h,4),v=p[1],g=p[2],x=p[3],b=bh.parse(v??""),y=bh.parse(x??""),N=g==="+"?b.add(y):b.subtract(y);if(N.isNaN())return Pl;t=t.replace(w5,N.toString())}return t}var j5=/\(([^()]*)\)/;function YJ(e){for(var t=e;t.includes("(");){var r=j5.exec(t),n=pp(r,2),a=n[1];t=t.replace(j5,L4(a))}return t}function KJ(e){var t=e.replace(/\s+/g,"");return t=YJ(t),t=L4(t),t}function XJ(e){try{return KJ(e)}catch{return Pl}}function Iv(e){var t=XJ(e.slice(5,-1));return t===Pl?"":t}var JJ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],ZJ=["dx","dy","angle","className","breakAll"];function ry(){return ry=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ry.apply(this,arguments)}function N5(e,t){if(e==null)return{};var r=QJ(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function QJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function S5(e,t){return nZ(e)||rZ(e,t)||tZ(e,t)||eZ()}function eZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tZ(e,t){if(e){if(typeof e=="string")return _5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _5(e,t)}}function _5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rZ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function nZ(e){if(Array.isArray(e))return e}var M4=/[ \f\n\r\t\v\u2028\u2029]+/,D4=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];pt(r)||(n?i=r.toString().split(""):i=r.toString().split(M4));var o=i.map(function(c){return{word:c,width:Xu(c,a).width}}),l=n?0:Xu("Â ",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},aZ=function(t,r,n,a,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=Le(o),f=l,h=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return V.reduce(function(F,B){var X=B.word,Y=B.width,Z=F[F.length-1];if(Z&&(a==null||i||Z.width+Y+n<Number(a)))Z.words.push(X),Z.width+=Y+n;else{var ae={words:[X],width:Y};F.push(ae)}return F},[])},p=h(r),v=function(V){return V.reduce(function(F,B){return F.width>B.width?F:B})};if(!d)return p;for(var g="â€¦",x=function(V){var F=f.slice(0,V),B=D4({breakAll:u,style:c,children:F+g}).wordsWithComputedWidth,X=h(B),Y=X.length>o||v(X).width>Number(a);return[Y,X]},b=0,y=f.length-1,N=0,_;b<=y&&N<=f.length-1;){var w=Math.floor((b+y)/2),S=w-1,P=x(S),O=S5(P,2),T=O[0],I=O[1],k=x(w),C=S5(k,1),L=C[0];if(!T&&!L&&(b=w+1),T&&L&&(y=w-1),!T&&L){_=I;break}N++}return _||p},A5=function(t){var r=pt(t)?[]:t.toString().split(M4);return[{words:r}]},iZ=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!Io.isSsr){var c,u,d=D4({breakAll:o,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return A5(a);return aZ({breakAll:o,children:a,maxLines:l,style:i},c,u,r,n)}return A5(a)},O5="#808080",Co=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,p=h===void 0?"start":h,v=t.verticalAnchor,g=v===void 0?"end":v,x=t.fill,b=x===void 0?O5:x,y=N5(t,JJ),N=$.useMemo(function(){return iZ({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:f,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,f,y.style,y.width]),_=y.dx,w=y.dy,S=y.angle,P=y.className,O=y.breakAll,T=N5(y,ZJ);if(!Mr(n)||!Mr(i))return null;var I=n+(Le(_)?_:0),k=i+(Le(w)?w:0),C;switch(g){case"start":C=Iv("calc(".concat(u,")"));break;case"middle":C=Iv("calc(".concat((N.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:C=Iv("calc(".concat(N.length-1," * -").concat(l,")"));break}var L=[];if(f){var R=N[0].width,V=y.width;L.push("scale(".concat((Le(V)?V/R:1)/R,")"))}return S&&L.push("rotate(".concat(S,", ").concat(I,", ").concat(k,")")),L.length&&(T.transform=L.join(" ")),U.createElement("text",ry({},Xe(T,!0),{x:I,y:k,className:vt("recharts-text",P),textAnchor:p,fill:b.includes("url")?O5:b}),N.map(function(F,B){var X=F.words.join(O?"":" ");return U.createElement("tspan",{x:I,dy:B===0?C:l,key:"".concat(X,"-").concat(B)},X)}))};function bs(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function sZ(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function gx(e){let t,r,n;e.length!==2?(t=bs,r=(l,c)=>bs(e(l),c),n=(l,c)=>e(l)-c):(t=e===bs||e===sZ?e:oZ,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:o,right:i}}function oZ(){return 0}function $4(e){return e===null?NaN:+e}function*lZ(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const cZ=gx(bs),ff=cZ.right;gx($4).center;class P5 extends Map{constructor(t,r=fZ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(E5(this,t))}has(t){return super.has(E5(this,t))}set(t,r){return super.set(uZ(this,t),r)}delete(t){return super.delete(dZ(this,t))}}function E5({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function uZ({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function dZ({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function fZ(e){return e!==null&&typeof e=="object"?e.valueOf():e}function hZ(e=bs){if(e===bs)return I4;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function I4(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const pZ=Math.sqrt(50),mZ=Math.sqrt(10),gZ=Math.sqrt(2);function mp(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=pZ?10:i>=mZ?5:i>=gZ?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?mp(e,t,r*2):[l,c,u]}function ny(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?mp(t,e,r):mp(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function ay(e,t,r){return t=+t,e=+e,r=+r,mp(e,t,r)[2]}function iy(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?ay(t,e,r):ay(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function k5(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function C5(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function R4(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?I4:hZ(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/c+h)),v=Math.min(n,Math.floor(t+(c-u)*f/c+h));R4(e,t,p,v,a)}const i=e[t];let o=r,l=n;for($u(e,r,t),a(e[n],i)>0&&$u(e,r,n);o<l;){for($u(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?$u(e,r,l):(++l,$u(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function $u(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function vZ(e,t,r){if(e=Float64Array.from(lZ(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return C5(e);if(t>=1)return k5(e);var n,a=(n-1)*t,i=Math.floor(a),o=k5(R4(e,i).subarray(0,i+1)),l=C5(e.subarray(i+1));return o+(l-o)*(a-i)}}function yZ(e,t,r=$4){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function bZ(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function ma(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Gi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const sy=Symbol("implicit");function vx(){var e=new P5,t=[],r=[],n=sy;function a(i){let o=e.get(i);if(o===void 0){if(n!==sy)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new P5;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return vx(t,r).unknown(n)},ma.apply(a,arguments),a}function Ad(){var e=vx().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,p=a<n,v=p?a:n,g=p?n:a;i=(g-v)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),v+=(g-v-i*(h-c))*d,o=i*(1-c),l&&(v=Math.round(v),o=Math.round(o));var x=bZ(h).map(function(b){return v+i*b});return r(p?x.reverse():x)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Ad(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},ma.apply(f(),arguments)}function F4(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return F4(t())},e}function Ju(){return F4(Ad.apply(null,arguments).paddingInner(1))}function yx(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function B4(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function hf(){}var Od=.7,gp=1/Od,Rl="\\s*([+-]?\\d+)\\s*",Pd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",hi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",xZ=/^#([0-9a-f]{3,8})$/,wZ=new RegExp(`^rgb\\(${Rl},${Rl},${Rl}\\)$`),jZ=new RegExp(`^rgb\\(${hi},${hi},${hi}\\)$`),NZ=new RegExp(`^rgba\\(${Rl},${Rl},${Rl},${Pd}\\)$`),SZ=new RegExp(`^rgba\\(${hi},${hi},${hi},${Pd}\\)$`),_Z=new RegExp(`^hsl\\(${Pd},${hi},${hi}\\)$`),AZ=new RegExp(`^hsla\\(${Pd},${hi},${hi},${Pd}\\)$`),T5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};yx(hf,Ed,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:L5,formatHex:L5,formatHex8:OZ,formatHsl:PZ,formatRgb:M5,toString:M5});function L5(){return this.rgb().formatHex()}function OZ(){return this.rgb().formatHex8()}function PZ(){return z4(this).formatHsl()}function M5(){return this.rgb().formatRgb()}function Ed(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=xZ.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?D5(t):r===3?new En(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?xh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?xh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=wZ.exec(e))?new En(t[1],t[2],t[3],1):(t=jZ.exec(e))?new En(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=NZ.exec(e))?xh(t[1],t[2],t[3],t[4]):(t=SZ.exec(e))?xh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=_Z.exec(e))?R5(t[1],t[2]/100,t[3]/100,1):(t=AZ.exec(e))?R5(t[1],t[2]/100,t[3]/100,t[4]):T5.hasOwnProperty(e)?D5(T5[e]):e==="transparent"?new En(NaN,NaN,NaN,0):null}function D5(e){return new En(e>>16&255,e>>8&255,e&255,1)}function xh(e,t,r,n){return n<=0&&(e=t=r=NaN),new En(e,t,r,n)}function EZ(e){return e instanceof hf||(e=Ed(e)),e?(e=e.rgb(),new En(e.r,e.g,e.b,e.opacity)):new En}function oy(e,t,r,n){return arguments.length===1?EZ(e):new En(e,t,r,n??1)}function En(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}yx(En,oy,B4(hf,{brighter(e){return e=e==null?gp:Math.pow(gp,e),new En(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Od:Math.pow(Od,e),new En(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new En(go(this.r),go(this.g),go(this.b),vp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:$5,formatHex:$5,formatHex8:kZ,formatRgb:I5,toString:I5}));function $5(){return`#${oo(this.r)}${oo(this.g)}${oo(this.b)}`}function kZ(){return`#${oo(this.r)}${oo(this.g)}${oo(this.b)}${oo((isNaN(this.opacity)?1:this.opacity)*255)}`}function I5(){const e=vp(this.opacity);return`${e===1?"rgb(":"rgba("}${go(this.r)}, ${go(this.g)}, ${go(this.b)}${e===1?")":`, ${e})`}`}function vp(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function go(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function oo(e){return e=go(e),(e<16?"0":"")+e.toString(16)}function R5(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ma(e,t,r,n)}function z4(e){if(e instanceof Ma)return new Ma(e.h,e.s,e.l,e.opacity);if(e instanceof hf||(e=Ed(e)),!e)return new Ma;if(e instanceof Ma)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new Ma(o,l,c,e.opacity)}function CZ(e,t,r,n){return arguments.length===1?z4(e):new Ma(e,t,r,n??1)}function Ma(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}yx(Ma,CZ,B4(hf,{brighter(e){return e=e==null?gp:Math.pow(gp,e),new Ma(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Od:Math.pow(Od,e),new Ma(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new En(Rv(e>=240?e-240:e+120,a,n),Rv(e,a,n),Rv(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Ma(F5(this.h),wh(this.s),wh(this.l),vp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=vp(this.opacity);return`${e===1?"hsl(":"hsla("}${F5(this.h)}, ${wh(this.s)*100}%, ${wh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function F5(e){return e=(e||0)%360,e<0?e+360:e}function wh(e){return Math.max(0,Math.min(1,e||0))}function Rv(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const bx=e=>()=>e;function TZ(e,t){return function(r){return e+r*t}}function LZ(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function MZ(e){return(e=+e)==1?q4:function(t,r){return r-t?LZ(t,r,e):bx(isNaN(t)?r:t)}}function q4(e,t){var r=t-e;return r?TZ(e,r):bx(isNaN(e)?t:e)}const B5=function e(t){var r=MZ(t);function n(a,i){var o=r((a=oy(a)).r,(i=oy(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=q4(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function DZ(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function $Z(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function IZ(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=Wc(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function RZ(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function yp(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function FZ(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Wc(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var ly=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Fv=new RegExp(ly.source,"g");function BZ(e){return function(){return e}}function zZ(e){return function(t){return e(t)+""}}function qZ(e,t){var r=ly.lastIndex=Fv.lastIndex=0,n,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=ly.exec(e))&&(a=Fv.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:yp(n,a)})),r=Fv.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?zZ(c[0].x):BZ(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Wc(e,t){var r=typeof t,n;return t==null||r==="boolean"?bx(t):(r==="number"?yp:r==="string"?(n=Ed(t))?(t=n,B5):qZ:t instanceof Ed?B5:t instanceof Date?RZ:$Z(t)?DZ:Array.isArray(t)?IZ:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?FZ:yp)(e,t)}function xx(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function UZ(e,t){t===void 0&&(t=e,e=Wc);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function WZ(e){return function(){return e}}function bp(e){return+e}var z5=[0,1];function wn(e){return e}function cy(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:WZ(isNaN(t)?NaN:.5)}function HZ(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function GZ(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=cy(a,n),i=r(o,i)):(n=cy(n,a),i=r(i,o)),function(l){return i(n(l))}}function VZ(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=cy(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=ff(e,l,1,n)-1;return i[c](a[c](l))}}function pf(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Hm(){var e=z5,t=z5,r=Wc,n,a,i,o=wn,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==wn&&(o=HZ(e[0],e[h-1])),l=h>2?VZ:GZ,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((u||(u=l(t,e.map(n),yp)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,bp),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=xx,d()},f.clamp=function(h){return arguments.length?(o=h?!0:wn,d()):o!==wn},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,p){return n=h,a=p,d()}}function wx(){return Hm()(wn,wn)}function YZ(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function xp(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function ic(e){return e=xp(Math.abs(e)),e?e[1]:NaN}function KZ(e,t){return function(r,n){for(var a=r.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function XZ(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var JZ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function kd(e){if(!(t=JZ.exec(e)))throw new Error("invalid format: "+e);var t;return new jx({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}kd.prototype=jx.prototype;function jx(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}jx.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ZZ(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var U4;function QZ(e,t){var r=xp(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(U4=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+xp(e,Math.max(0,t+i-1))[0]}function q5(e,t){var r=xp(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const U5={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:YZ,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>q5(e*100,t),r:q5,s:QZ,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function W5(e){return e}var H5=Array.prototype.map,G5=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function eQ(e){var t=e.grouping===void 0||e.thousands===void 0?W5:KZ(H5.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?W5:XZ(H5.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"âˆ’":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=kd(f);var h=f.fill,p=f.align,v=f.sign,g=f.symbol,x=f.zero,b=f.width,y=f.comma,N=f.precision,_=f.trim,w=f.type;w==="n"?(y=!0,w="g"):U5[w]||(N===void 0&&(N=12),_=!0,w="g"),(x||h==="0"&&p==="=")&&(x=!0,h="0",p="=");var S=g==="$"?r:g==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",P=g==="$"?n:/[%p]/.test(w)?o:"",O=U5[w],T=/[defgprs%]/.test(w);N=N===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function I(k){var C=S,L=P,R,V,F;if(w==="c")L=O(k)+L,k="";else{k=+k;var B=k<0||1/k<0;if(k=isNaN(k)?c:O(Math.abs(k),N),_&&(k=ZZ(k)),B&&+k==0&&v!=="+"&&(B=!1),C=(B?v==="("?v:l:v==="-"||v==="("?"":v)+C,L=(w==="s"?G5[8+U4/3]:"")+L+(B&&v==="("?")":""),T){for(R=-1,V=k.length;++R<V;)if(F=k.charCodeAt(R),48>F||F>57){L=(F===46?a+k.slice(R+1):k.slice(R))+L,k=k.slice(0,R);break}}}y&&!x&&(k=t(k,1/0));var X=C.length+k.length+L.length,Y=X<b?new Array(b-X+1).join(h):"";switch(y&&x&&(k=t(Y+k,Y.length?b-L.length:1/0),Y=""),p){case"<":k=C+k+L+Y;break;case"=":k=C+Y+k+L;break;case"^":k=Y.slice(0,X=Y.length>>1)+C+k+L+Y.slice(X);break;default:k=Y+C+k+L;break}return i(k)}return I.toString=function(){return f+""},I}function d(f,h){var p=u((f=kd(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(ic(h)/3)))*3,g=Math.pow(10,-v),x=G5[8+v/3];return function(b){return p(g*b)+x}}return{format:u,formatPrefix:d}}var jh,Nx,W4;tQ({thousands:",",grouping:[3],currency:["$",""]});function tQ(e){return jh=eQ(e),Nx=jh.format,W4=jh.formatPrefix,jh}function rQ(e){return Math.max(0,-ic(Math.abs(e)))}function nQ(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ic(t)/3)))*3-ic(Math.abs(e)))}function aQ(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ic(t)-ic(e))+1}function H4(e,t,r,n){var a=iy(e,t,r),i;switch(n=kd(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=nQ(a,o))&&(n.precision=i),W4(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=aQ(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=rQ(a))&&(n.precision=i-(n.type==="%")*2);break}}return Nx(n)}function Es(e){var t=e.domain;return e.ticks=function(r){var n=t();return ny(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return H4(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=ay(o,l,r),u===c)return n[a]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function wp(){var e=wx();return e.copy=function(){return pf(e,wp())},ma.apply(e,arguments),Es(e)}function G4(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,bp),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return G4(e).unknown(t)},e=arguments.length?Array.from(e,bp):[0,1],Es(r)}function V4(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function V5(e){return Math.log(e)}function Y5(e){return Math.exp(e)}function iQ(e){return-Math.log(-e)}function sQ(e){return-Math.exp(-e)}function oQ(e){return isFinite(e)?+("1e"+e):e<0?0:e}function lQ(e){return e===10?oQ:e===Math.E?Math.exp:t=>Math.pow(e,t)}function cQ(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function K5(e){return(t,r)=>-e(-t,r)}function Sx(e){const t=e(V5,Y5),r=t.domain;let n=10,a,i;function o(){return a=cQ(n),i=lQ(n),r()[0]<0?(a=K5(a),i=K5(i),e(iQ,sQ)):e(V5,Y5),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),p=a(d),v,g;const x=l==null?10:+l;let b=[];if(!(n%1)&&p-h<x){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(v=1;v<n;++v)if(g=h<0?v/i(-h):v*i(h),!(g<u)){if(g>d)break;b.push(g)}}else for(;h<=p;++h)for(v=n-1;v>=1;--v)if(g=h>0?v/i(-h):v*i(h),!(g<u)){if(g>d)break;b.push(g)}b.length*2<x&&(b=ny(u,d,x))}else b=ny(h,p,Math.min(p-h,x)).map(i);return f?b.reverse():b},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=kd(c)).precision==null&&(c.trim=!0),c=Nx(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(V4(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function Y4(){const e=Sx(Hm()).domain([1,10]);return e.copy=()=>pf(e,Y4()).base(e.base()),ma.apply(e,arguments),e}function X5(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function J5(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function _x(e){var t=1,r=e(X5(t),J5(t));return r.constant=function(n){return arguments.length?e(X5(t=+n),J5(t)):t},Es(r)}function K4(){var e=_x(Hm());return e.copy=function(){return pf(e,K4()).constant(e.constant())},ma.apply(e,arguments)}function Z5(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function uQ(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function dQ(e){return e<0?-e*e:e*e}function Ax(e){var t=e(wn,wn),r=1;function n(){return r===1?e(wn,wn):r===.5?e(uQ,dQ):e(Z5(r),Z5(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Es(t)}function Ox(){var e=Ax(Hm());return e.copy=function(){return pf(e,Ox()).exponent(e.exponent())},ma.apply(e,arguments),e}function fQ(){return Ox.apply(null,arguments).exponent(.5)}function Q5(e){return Math.sign(e)*e*e}function hQ(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function X4(){var e=wx(),t=[0,1],r=!1,n;function a(i){var o=hQ(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(Q5(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,bp)).map(Q5)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return X4(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},ma.apply(a,arguments),Es(a)}function J4(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=yZ(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[ff(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(bs),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return J4().domain(e).range(t).unknown(n)},ma.apply(i,arguments)}function Z4(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[ff(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return Z4().domain([e,t]).range(a).unknown(i)},ma.apply(Es(o),arguments)}function Q4(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[ff(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return Q4().domain(e).range(t).unknown(r)},ma.apply(a,arguments)}const Bv=new Date,zv=new Date;function Ir(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},a.filter=i=>Ir(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(Bv.setTime(+i),zv.setTime(+o),e(Bv),e(zv),Math.floor(r(Bv,zv))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const jp=Ir(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);jp.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ir(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):jp);jp.range;const Di=1e3,sa=Di*60,$i=sa*60,qi=$i*24,Px=qi*7,ej=qi*30,qv=qi*365,lo=Ir(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Di)},(e,t)=>(t-e)/Di,e=>e.getUTCSeconds());lo.range;const Ex=Ir(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Di)},(e,t)=>{e.setTime(+e+t*sa)},(e,t)=>(t-e)/sa,e=>e.getMinutes());Ex.range;const kx=Ir(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*sa)},(e,t)=>(t-e)/sa,e=>e.getUTCMinutes());kx.range;const Cx=Ir(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Di-e.getMinutes()*sa)},(e,t)=>{e.setTime(+e+t*$i)},(e,t)=>(t-e)/$i,e=>e.getHours());Cx.range;const Tx=Ir(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*$i)},(e,t)=>(t-e)/$i,e=>e.getUTCHours());Tx.range;const mf=Ir(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*sa)/qi,e=>e.getDate()-1);mf.range;const Gm=Ir(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/qi,e=>e.getUTCDate()-1);Gm.range;const e3=Ir(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/qi,e=>Math.floor(e/qi));e3.range;function Ro(e){return Ir(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*sa)/Px)}const Vm=Ro(0),Np=Ro(1),pQ=Ro(2),mQ=Ro(3),sc=Ro(4),gQ=Ro(5),vQ=Ro(6);Vm.range;Np.range;pQ.range;mQ.range;sc.range;gQ.range;vQ.range;function Fo(e){return Ir(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Px)}const Ym=Fo(0),Sp=Fo(1),yQ=Fo(2),bQ=Fo(3),oc=Fo(4),xQ=Fo(5),wQ=Fo(6);Ym.range;Sp.range;yQ.range;bQ.range;oc.range;xQ.range;wQ.range;const Lx=Ir(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Lx.range;const Mx=Ir(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Mx.range;const Ui=Ir(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ui.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ir(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ui.range;const Wi=Ir(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Wi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ir(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Wi.range;function t3(e,t,r,n,a,i){const o=[[lo,1,Di],[lo,5,5*Di],[lo,15,15*Di],[lo,30,30*Di],[i,1,sa],[i,5,5*sa],[i,15,15*sa],[i,30,30*sa],[a,1,$i],[a,3,3*$i],[a,6,6*$i],[a,12,12*$i],[n,1,qi],[n,2,2*qi],[r,1,Px],[t,1,ej],[t,3,3*ej],[e,1,qv]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),v=p?p.range(u,+d+1):[];return h?v.reverse():v}function c(u,d,f){const h=Math.abs(d-u)/f,p=gx(([,,x])=>x).right(o,h);if(p===o.length)return e.every(iy(u/qv,d/qv,f));if(p===0)return jp.every(Math.max(iy(u,d,f),1));const[v,g]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return v.every(g)}return[l,c]}const[jQ,NQ]=t3(Wi,Mx,Ym,e3,Tx,kx),[SQ,_Q]=t3(Ui,Lx,Vm,mf,Cx,Ex);function Uv(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Wv(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Iu(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function AQ(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Ru(a),d=Fu(a),f=Ru(i),h=Fu(i),p=Ru(o),v=Fu(o),g=Ru(l),x=Fu(l),b=Ru(c),y=Fu(c),N={a:B,A:X,b:Y,B:Z,c:null,d:sj,e:sj,f:KQ,g:iee,G:oee,H:GQ,I:VQ,j:YQ,L:r3,m:XQ,M:JQ,p:ae,q:D,Q:cj,s:uj,S:ZQ,u:QQ,U:eee,V:tee,w:ree,W:nee,x:null,X:null,y:aee,Y:see,Z:lee,"%":lj},_={a:W,A:Q,b:ne,B:se,c:null,d:oj,e:oj,f:fee,g:jee,G:See,H:cee,I:uee,j:dee,L:a3,m:hee,M:pee,p:he,q:de,Q:cj,s:uj,S:mee,u:gee,U:vee,V:yee,w:bee,W:xee,x:null,X:null,y:wee,Y:Nee,Z:_ee,"%":lj},w={a:I,A:k,b:C,B:L,c:R,d:aj,e:aj,f:qQ,g:nj,G:rj,H:ij,I:ij,j:RQ,L:zQ,m:IQ,M:FQ,p:T,q:$Q,Q:WQ,s:HQ,S:BQ,u:CQ,U:TQ,V:LQ,w:kQ,W:MQ,x:V,X:F,y:nj,Y:rj,Z:DQ,"%":UQ};N.x=S(r,N),N.X=S(n,N),N.c=S(t,N),_.x=S(r,_),_.X=S(n,_),_.c=S(t,_);function S(ie,xe){return function(be){var pe=[],Ee=-1,De=0,ye=ie.length,re,Ye,Be;for(be instanceof Date||(be=new Date(+be));++Ee<ye;)ie.charCodeAt(Ee)===37&&(pe.push(ie.slice(De,Ee)),(Ye=tj[re=ie.charAt(++Ee)])!=null?re=ie.charAt(++Ee):Ye=re==="e"?" ":"0",(Be=xe[re])&&(re=Be(be,Ye)),pe.push(re),De=Ee+1);return pe.push(ie.slice(De,Ee)),pe.join("")}}function P(ie,xe){return function(be){var pe=Iu(1900,void 0,1),Ee=O(pe,ie,be+="",0),De,ye;if(Ee!=be.length)return null;if("Q"in pe)return new Date(pe.Q);if("s"in pe)return new Date(pe.s*1e3+("L"in pe?pe.L:0));if(xe&&!("Z"in pe)&&(pe.Z=0),"p"in pe&&(pe.H=pe.H%12+pe.p*12),pe.m===void 0&&(pe.m="q"in pe?pe.q:0),"V"in pe){if(pe.V<1||pe.V>53)return null;"w"in pe||(pe.w=1),"Z"in pe?(De=Wv(Iu(pe.y,0,1)),ye=De.getUTCDay(),De=ye>4||ye===0?Sp.ceil(De):Sp(De),De=Gm.offset(De,(pe.V-1)*7),pe.y=De.getUTCFullYear(),pe.m=De.getUTCMonth(),pe.d=De.getUTCDate()+(pe.w+6)%7):(De=Uv(Iu(pe.y,0,1)),ye=De.getDay(),De=ye>4||ye===0?Np.ceil(De):Np(De),De=mf.offset(De,(pe.V-1)*7),pe.y=De.getFullYear(),pe.m=De.getMonth(),pe.d=De.getDate()+(pe.w+6)%7)}else("W"in pe||"U"in pe)&&("w"in pe||(pe.w="u"in pe?pe.u%7:"W"in pe?1:0),ye="Z"in pe?Wv(Iu(pe.y,0,1)).getUTCDay():Uv(Iu(pe.y,0,1)).getDay(),pe.m=0,pe.d="W"in pe?(pe.w+6)%7+pe.W*7-(ye+5)%7:pe.w+pe.U*7-(ye+6)%7);return"Z"in pe?(pe.H+=pe.Z/100|0,pe.M+=pe.Z%100,Wv(pe)):Uv(pe)}}function O(ie,xe,be,pe){for(var Ee=0,De=xe.length,ye=be.length,re,Ye;Ee<De;){if(pe>=ye)return-1;if(re=xe.charCodeAt(Ee++),re===37){if(re=xe.charAt(Ee++),Ye=w[re in tj?xe.charAt(Ee++):re],!Ye||(pe=Ye(ie,be,pe))<0)return-1}else if(re!=be.charCodeAt(pe++))return-1}return pe}function T(ie,xe,be){var pe=u.exec(xe.slice(be));return pe?(ie.p=d.get(pe[0].toLowerCase()),be+pe[0].length):-1}function I(ie,xe,be){var pe=p.exec(xe.slice(be));return pe?(ie.w=v.get(pe[0].toLowerCase()),be+pe[0].length):-1}function k(ie,xe,be){var pe=f.exec(xe.slice(be));return pe?(ie.w=h.get(pe[0].toLowerCase()),be+pe[0].length):-1}function C(ie,xe,be){var pe=b.exec(xe.slice(be));return pe?(ie.m=y.get(pe[0].toLowerCase()),be+pe[0].length):-1}function L(ie,xe,be){var pe=g.exec(xe.slice(be));return pe?(ie.m=x.get(pe[0].toLowerCase()),be+pe[0].length):-1}function R(ie,xe,be){return O(ie,t,xe,be)}function V(ie,xe,be){return O(ie,r,xe,be)}function F(ie,xe,be){return O(ie,n,xe,be)}function B(ie){return o[ie.getDay()]}function X(ie){return i[ie.getDay()]}function Y(ie){return c[ie.getMonth()]}function Z(ie){return l[ie.getMonth()]}function ae(ie){return a[+(ie.getHours()>=12)]}function D(ie){return 1+~~(ie.getMonth()/3)}function W(ie){return o[ie.getUTCDay()]}function Q(ie){return i[ie.getUTCDay()]}function ne(ie){return c[ie.getUTCMonth()]}function se(ie){return l[ie.getUTCMonth()]}function he(ie){return a[+(ie.getUTCHours()>=12)]}function de(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var xe=S(ie+="",N);return xe.toString=function(){return ie},xe},parse:function(ie){var xe=P(ie+="",!1);return xe.toString=function(){return ie},xe},utcFormat:function(ie){var xe=S(ie+="",_);return xe.toString=function(){return ie},xe},utcParse:function(ie){var xe=P(ie+="",!0);return xe.toString=function(){return ie},xe}}}var tj={"-":"",_:" ",0:"0"},Hr=/^\s*\d+/,OQ=/^%/,PQ=/[\\^$*+?|[\]().{}]/g;function Et(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function EQ(e){return e.replace(PQ,"\\$&")}function Ru(e){return new RegExp("^(?:"+e.map(EQ).join("|")+")","i")}function Fu(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function kQ(e,t,r){var n=Hr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function CQ(e,t,r){var n=Hr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function TQ(e,t,r){var n=Hr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function LQ(e,t,r){var n=Hr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function MQ(e,t,r){var n=Hr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function rj(e,t,r){var n=Hr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function nj(e,t,r){var n=Hr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function DQ(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function $Q(e,t,r){var n=Hr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function IQ(e,t,r){var n=Hr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function aj(e,t,r){var n=Hr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function RQ(e,t,r){var n=Hr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function ij(e,t,r){var n=Hr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function FQ(e,t,r){var n=Hr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function BQ(e,t,r){var n=Hr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function zQ(e,t,r){var n=Hr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function qQ(e,t,r){var n=Hr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function UQ(e,t,r){var n=OQ.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function WQ(e,t,r){var n=Hr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function HQ(e,t,r){var n=Hr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function sj(e,t){return Et(e.getDate(),t,2)}function GQ(e,t){return Et(e.getHours(),t,2)}function VQ(e,t){return Et(e.getHours()%12||12,t,2)}function YQ(e,t){return Et(1+mf.count(Ui(e),e),t,3)}function r3(e,t){return Et(e.getMilliseconds(),t,3)}function KQ(e,t){return r3(e,t)+"000"}function XQ(e,t){return Et(e.getMonth()+1,t,2)}function JQ(e,t){return Et(e.getMinutes(),t,2)}function ZQ(e,t){return Et(e.getSeconds(),t,2)}function QQ(e){var t=e.getDay();return t===0?7:t}function eee(e,t){return Et(Vm.count(Ui(e)-1,e),t,2)}function n3(e){var t=e.getDay();return t>=4||t===0?sc(e):sc.ceil(e)}function tee(e,t){return e=n3(e),Et(sc.count(Ui(e),e)+(Ui(e).getDay()===4),t,2)}function ree(e){return e.getDay()}function nee(e,t){return Et(Np.count(Ui(e)-1,e),t,2)}function aee(e,t){return Et(e.getFullYear()%100,t,2)}function iee(e,t){return e=n3(e),Et(e.getFullYear()%100,t,2)}function see(e,t){return Et(e.getFullYear()%1e4,t,4)}function oee(e,t){var r=e.getDay();return e=r>=4||r===0?sc(e):sc.ceil(e),Et(e.getFullYear()%1e4,t,4)}function lee(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Et(t/60|0,"0",2)+Et(t%60,"0",2)}function oj(e,t){return Et(e.getUTCDate(),t,2)}function cee(e,t){return Et(e.getUTCHours(),t,2)}function uee(e,t){return Et(e.getUTCHours()%12||12,t,2)}function dee(e,t){return Et(1+Gm.count(Wi(e),e),t,3)}function a3(e,t){return Et(e.getUTCMilliseconds(),t,3)}function fee(e,t){return a3(e,t)+"000"}function hee(e,t){return Et(e.getUTCMonth()+1,t,2)}function pee(e,t){return Et(e.getUTCMinutes(),t,2)}function mee(e,t){return Et(e.getUTCSeconds(),t,2)}function gee(e){var t=e.getUTCDay();return t===0?7:t}function vee(e,t){return Et(Ym.count(Wi(e)-1,e),t,2)}function i3(e){var t=e.getUTCDay();return t>=4||t===0?oc(e):oc.ceil(e)}function yee(e,t){return e=i3(e),Et(oc.count(Wi(e),e)+(Wi(e).getUTCDay()===4),t,2)}function bee(e){return e.getUTCDay()}function xee(e,t){return Et(Sp.count(Wi(e)-1,e),t,2)}function wee(e,t){return Et(e.getUTCFullYear()%100,t,2)}function jee(e,t){return e=i3(e),Et(e.getUTCFullYear()%100,t,2)}function Nee(e,t){return Et(e.getUTCFullYear()%1e4,t,4)}function See(e,t){var r=e.getUTCDay();return e=r>=4||r===0?oc(e):oc.ceil(e),Et(e.getUTCFullYear()%1e4,t,4)}function _ee(){return"+0000"}function lj(){return"%"}function cj(e){return+e}function uj(e){return Math.floor(+e/1e3)}var wl,s3,o3;Aee({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Aee(e){return wl=AQ(e),s3=wl.format,wl.parse,o3=wl.utcFormat,wl.utcParse,wl}function Oee(e){return new Date(e)}function Pee(e){return e instanceof Date?+e:+new Date(+e)}function Dx(e,t,r,n,a,i,o,l,c,u){var d=wx(),f=d.invert,h=d.domain,p=u(".%L"),v=u(":%S"),g=u("%I:%M"),x=u("%I %p"),b=u("%a %d"),y=u("%b %d"),N=u("%B"),_=u("%Y");function w(S){return(c(S)<S?p:l(S)<S?v:o(S)<S?g:i(S)<S?x:n(S)<S?a(S)<S?b:y:r(S)<S?N:_)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?h(Array.from(S,Pee)):h().map(Oee)},d.ticks=function(S){var P=h();return e(P[0],P[P.length-1],S??10)},d.tickFormat=function(S,P){return P==null?w:u(P)},d.nice=function(S){var P=h();return(!S||typeof S.range!="function")&&(S=t(P[0],P[P.length-1],S??10)),S?h(V4(P,S)):d},d.copy=function(){return pf(d,Dx(e,t,r,n,a,i,o,l,c,u))},d}function Eee(){return ma.apply(Dx(SQ,_Q,Ui,Lx,Vm,mf,Cx,Ex,lo,s3).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function kee(){return ma.apply(Dx(jQ,NQ,Wi,Mx,Ym,Gm,Tx,kx,lo,o3).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Km(){var e=0,t=1,r,n,a,i,o=wn,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var p,v;return arguments.length?([p,v]=h,o=f(p,v),u):[o(0),o(1)]}}return u.range=d(Wc),u.rangeRound=d(xx),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function ks(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function l3(){var e=Es(Km()(wn));return e.copy=function(){return ks(e,l3())},Gi.apply(e,arguments)}function c3(){var e=Sx(Km()).domain([1,10]);return e.copy=function(){return ks(e,c3()).base(e.base())},Gi.apply(e,arguments)}function u3(){var e=_x(Km());return e.copy=function(){return ks(e,u3()).constant(e.constant())},Gi.apply(e,arguments)}function $x(){var e=Ax(Km());return e.copy=function(){return ks(e,$x()).exponent(e.exponent())},Gi.apply(e,arguments)}function Cee(){return $x.apply(null,arguments).exponent(.5)}function d3(){var e=[],t=wn;function r(n){if(n!=null&&!isNaN(n=+n))return t((ff(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(bs),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>vZ(e,i/n))},r.copy=function(){return d3(t).domain(e)},Gi.apply(r,arguments)}function Xm(){var e=0,t=.5,r=1,n=1,a,i,o,l,c,u=wn,d,f=!1,h;function p(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-i)*(n*g<n*i?l:c),u(f?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([e,t,r]=g,a=d(e=+e),i=d(t=+t),o=d(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,p):[e,t,r]},p.clamp=function(g){return arguments.length?(f=!!g,p):f},p.interpolator=function(g){return arguments.length?(u=g,p):u};function v(g){return function(x){var b,y,N;return arguments.length?([b,y,N]=x,u=UZ(g,[b,y,N]),p):[u(0),u(.5),u(1)]}}return p.range=v(Wc),p.rangeRound=v(xx),p.unknown=function(g){return arguments.length?(h=g,p):h},function(g){return d=g,a=g(e),i=g(t),o=g(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,p}}function f3(){var e=Es(Xm()(wn));return e.copy=function(){return ks(e,f3())},Gi.apply(e,arguments)}function h3(){var e=Sx(Xm()).domain([.1,1,10]);return e.copy=function(){return ks(e,h3()).base(e.base())},Gi.apply(e,arguments)}function p3(){var e=_x(Xm());return e.copy=function(){return ks(e,p3()).constant(e.constant())},Gi.apply(e,arguments)}function Ix(){var e=Ax(Xm());return e.copy=function(){return ks(e,Ix()).exponent(e.exponent())},Gi.apply(e,arguments)}function Tee(){return Ix.apply(null,arguments).exponent(.5)}const dj=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ad,scaleDiverging:f3,scaleDivergingLog:h3,scaleDivergingPow:Ix,scaleDivergingSqrt:Tee,scaleDivergingSymlog:p3,scaleIdentity:G4,scaleImplicit:sy,scaleLinear:wp,scaleLog:Y4,scaleOrdinal:vx,scalePoint:Ju,scalePow:Ox,scaleQuantile:J4,scaleQuantize:Z4,scaleRadial:X4,scaleSequential:l3,scaleSequentialLog:c3,scaleSequentialPow:$x,scaleSequentialQuantile:d3,scaleSequentialSqrt:Cee,scaleSequentialSymlog:u3,scaleSqrt:fQ,scaleSymlog:K4,scaleThreshold:Q4,scaleTime:Eee,scaleUtc:kee,tickFormat:H4},Symbol.toStringTag,{value:"Module"}));var Lee=Lc;function Mee(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],o=t(i);if(o!=null&&(l===void 0?o===o&&!Lee(o):r(o,l)))var l=o,c=i}return c}var Jm=Mee;function Dee(e,t){return e>t}var m3=Dee,$ee=Jm,Iee=m3,Ree=Bc;function Fee(e){return e&&e.length?$ee(e,Ree,Iee):void 0}var Bee=Fee;const gs=Nt(Bee);function zee(e,t){return e<t}var g3=zee,qee=Jm,Uee=g3,Wee=Bc;function Hee(e){return e&&e.length?qee(e,Wee,Uee):void 0}var Gee=Hee;const Zm=Nt(Gee);var Vee=hm,Yee=qa,Kee=D_,Xee=dn;function Jee(e,t){var r=Xee(e)?Vee:Kee;return r(e,Yee(t))}var Zee=Jee,Qee=Ub,ete=Zee;function tte(e,t){return Qee(ete(e,t),1)}var rte=tte;const nte=Nt(rte);var Hc=1e9,ate={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Fx,nr=!0,da="[DecimalError] ",vo=da+"Invalid argument: ",Rx=da+"Exponent out of range: ",Gc=Math.floor,ro=Math.pow,ite=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,zn,zr=1e7,Qt=7,v3=9007199254740991,_p=Gc(v3/Qt),He={};He.absoluteValue=He.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};He.comparedTo=He.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};He.decimalPlaces=He.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Qt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};He.dividedBy=He.div=function(e){return Fi(this,new this.constructor(e))};He.dividedToIntegerBy=He.idiv=function(e){var t=this,r=t.constructor;return Wt(Fi(t,new r(e),0,1),r.precision)};He.equals=He.eq=function(e){return!this.cmp(e)};He.exponent=function(){return Or(this)};He.greaterThan=He.gt=function(e){return this.cmp(e)>0};He.greaterThanOrEqualTo=He.gte=function(e){return this.cmp(e)>=0};He.isInteger=He.isint=function(){return this.e>this.d.length-2};He.isNegative=He.isneg=function(){return this.s<0};He.isPositive=He.ispos=function(){return this.s>0};He.isZero=function(){return this.s===0};He.lessThan=He.lt=function(e){return this.cmp(e)<0};He.lessThanOrEqualTo=He.lte=function(e){return this.cmp(e)<1};He.logarithm=He.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(zn))throw Error(da+"NaN");if(r.s<1)throw Error(da+(r.s?"NaN":"-Infinity"));return r.eq(zn)?new n(0):(nr=!1,t=Fi(Cd(r,i),Cd(e,i),i),nr=!0,Wt(t,a))};He.minus=He.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?x3(t,e):y3(t,(e.s=-e.s,e))};He.modulo=He.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(da+"NaN");return r.s?(nr=!1,t=Fi(r,e,0,1).times(e),nr=!0,r.minus(t)):Wt(new n(r),a)};He.naturalExponential=He.exp=function(){return b3(this)};He.naturalLogarithm=He.ln=function(){return Cd(this)};He.negated=He.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};He.plus=He.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?y3(t,e):x3(t,(e.s=-e.s,e))};He.precision=He.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(vo+e);if(t=Or(a)+1,n=a.d.length-1,r=n*Qt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};He.squareRoot=He.sqrt=function(){var e,t,r,n,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(da+"NaN")}for(e=Or(l),nr=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=oi(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Gc((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(Fi(l,i,o+2)).times(.5),oi(i.d).slice(0,o)===(t=oi(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Wt(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return nr=!0,Wt(n,r)};He.times=He.mul=function(e){var t,r,n,a,i,o,l,c,u,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=p.length,c<u&&(i=h,h=p,p=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+p[n]*h[a-n-1]+t,i[a--]=l%zr|0,t=l/zr|0;i[a]=(i[a]+t)%zr|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,nr?Wt(e,f.precision):e};He.toDecimalPlaces=He.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(gi(e,0,Hc),t===void 0?t=n.rounding:gi(t,0,8),Wt(r,e+Or(r)+1,t))};He.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=To(n,!0):(gi(e,0,Hc),t===void 0?t=a.rounding:gi(t,0,8),n=Wt(new a(n),e+1,t),r=To(n,!0,e+1)),r};He.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?To(a):(gi(e,0,Hc),t===void 0?t=i.rounding:gi(t,0,8),n=Wt(new i(a),e+Or(a)+1,t),r=To(n.abs(),!1,e+Or(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};He.toInteger=He.toint=function(){var e=this,t=e.constructor;return Wt(new t(e),Or(e)+1,t.rounding)};He.toNumber=function(){return+this};He.toPower=He.pow=function(e){var t,r,n,a,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(zn);if(l=new c(l),!l.s){if(e.s<1)throw Error(da+"Infinity");return l}if(l.eq(zn))return l;if(n=c.precision,e.eq(zn))return Wt(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=v3){for(a=new c(zn),t=Math.ceil(n/Qt+4),nr=!1;r%2&&(a=a.times(l),hj(a.d,t)),r=Gc(r/2),r!==0;)l=l.times(l),hj(l.d,t);return nr=!0,e.s<0?new c(zn).div(a):Wt(a,n)}}else if(i<0)throw Error(da+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,nr=!1,a=e.times(Cd(l,n+u)),nr=!0,a=b3(a),a.s=i,a};He.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=Or(a),n=To(a,r<=i.toExpNeg||r>=i.toExpPos)):(gi(e,1,Hc),t===void 0?t=i.rounding:gi(t,0,8),a=Wt(new i(a),e,t),r=Or(a),n=To(a,e<=r||r<=i.toExpNeg,e)),n};He.toSignificantDigits=He.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(gi(e,1,Hc),t===void 0?t=n.rounding:gi(t,0,8)),Wt(new n(r),e,t)};He.toString=He.valueOf=He.val=He.toJSON=He[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Or(e),r=e.constructor;return To(e,t<=r.toExpNeg||t>=r.toExpPos)};function y3(e,t){var r,n,a,i,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),nr?Wt(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(f/Qt),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/zr|0,c[i]%=zr;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,nr?Wt(t,f):t}function gi(e,t,r){if(e!==~~e||e<t||e>r)throw Error(vo+e)}function oi(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=Qt-n.length,r&&(i+=hs(r)),i+=n;o=e[t],n=o+"",r=Qt-n.length,r&&(i+=hs(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Fi=function(){function e(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%zr|0,o=i/zr|0;return o&&n.unshift(o),n}function t(n,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*zr+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,c,u,d,f,h,p,v,g,x,b,y,N,_,w,S,P,O,T=n.constructor,I=n.s==a.s?1:-1,k=n.d,C=a.d;if(!n.s)return new T(n);if(!a.s)throw Error(da+"Division by zero");for(c=n.e-a.e,P=C.length,w=k.length,p=new T(I),v=p.d=[],u=0;C[u]==(k[u]||0);)++u;if(C[u]>(k[u]||0)&&--c,i==null?y=i=T.precision:o?y=i+(Or(n)-Or(a))+1:y=i,y<0)return new T(0);if(y=y/Qt+2|0,u=0,P==1)for(d=0,C=C[0],y++;(u<w||d)&&y--;u++)N=d*zr+(k[u]||0),v[u]=N/C|0,d=N%C|0;else{for(d=zr/(C[0]+1)|0,d>1&&(C=e(C,d),k=e(k,d),P=C.length,w=k.length),_=P,g=k.slice(0,P),x=g.length;x<P;)g[x++]=0;O=C.slice(),O.unshift(0),S=C[0],C[1]>=zr/2&&++S;do d=0,l=t(C,g,P,x),l<0?(b=g[0],P!=x&&(b=b*zr+(g[1]||0)),d=b/S|0,d>1?(d>=zr&&(d=zr-1),f=e(C,d),h=f.length,x=g.length,l=t(f,g,h,x),l==1&&(d--,r(f,P<h?O:C,h))):(d==0&&(l=d=1),f=C.slice()),h=f.length,h<x&&f.unshift(0),r(g,f,x),l==-1&&(x=g.length,l=t(C,g,P,x),l<1&&(d++,r(g,P<x?O:C,x))),x=g.length):l===0&&(d++,g=[0]),v[u++]=d,l&&g[0]?g[x++]=k[_]||0:(g=[k[_]],x=1);while((_++<w||g[0]!==void 0)&&y--)}return v[0]||v.shift(),p.e=c,Wt(p,o?i+Or(p)+1:i)}}();function b3(e,t){var r,n,a,i,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(Or(e)>16)throw Error(Rx+Or(e));if(!e.s)return new d(zn);for(nr=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(ro(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new d(zn),d.precision=l;;){if(a=Wt(a.times(e),l),r=r.times(++c),o=i.plus(Fi(a,r,l)),oi(o.d).slice(0,l)===oi(i.d).slice(0,l)){for(;u--;)i=Wt(i.times(i),l);return d.precision=f,t==null?(nr=!0,Wt(i,f)):i}i=o}}function Or(e){for(var t=e.e*Qt,r=e.d[0];r>=10;r/=10)t++;return t}function Hv(e,t,r){if(t>e.LN10.sd())throw nr=!0,r&&(e.precision=r),Error(da+"LN10 precision limit exceeded");return Wt(new e(e.LN10),t)}function hs(e){for(var t="";e--;)t+="0";return t}function Cd(e,t){var r,n,a,i,o,l,c,u,d,f=1,h=10,p=e,v=p.d,g=p.constructor,x=g.precision;if(p.s<1)throw Error(da+(p.s?"NaN":"-Infinity"));if(p.eq(zn))return new g(0);if(t==null?(nr=!1,u=x):u=t,p.eq(10))return t==null&&(nr=!0),Hv(g,u);if(u+=h,g.precision=u,r=oi(v),n=r.charAt(0),i=Or(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=oi(p.d),n=r.charAt(0),f++;i=Or(p),n>1?(p=new g("0."+r),i++):p=new g(n+"."+r.slice(1))}else return c=Hv(g,u+2,x).times(i+""),p=Cd(new g(n+"."+r.slice(1)),u-h).plus(c),g.precision=x,t==null?(nr=!0,Wt(p,x)):p;for(l=o=p=Fi(p.minus(zn),p.plus(zn),u),d=Wt(p.times(p),u),a=3;;){if(o=Wt(o.times(d),u),c=l.plus(Fi(o,new g(a),u)),oi(c.d).slice(0,u)===oi(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(Hv(g,u+2,x).times(i+""))),l=Fi(l,new g(f),u),g.precision=x,t==null?(nr=!0,Wt(l,x)):l;l=c,a+=2}}function fj(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Gc(r/Qt),e.d=[],n=(r+1)%Qt,r<0&&(n+=Qt),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Qt;n<a;)e.d.push(+t.slice(n,n+=Qt));t=t.slice(n),n=Qt-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),nr&&(e.e>_p||e.e<-_p))throw Error(Rx+r)}else e.s=0,e.e=0,e.d=[0];return e}function Wt(e,t,r){var n,a,i,o,l,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Qt,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Qt),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=Qt,a=n-Qt+o}if(r!==void 0&&(i=ro(10,o-a-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/ro(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=Or(e),f.length=1,t=t-i-1,f[0]=ro(10,(Qt-t%Qt)%Qt),e.e=Gc(-t/Qt)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=ro(10,Qt-n),f[d]=a>0?(u/ro(10,o-a)%ro(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==zr&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=zr)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(nr&&(e.e>_p||e.e<-_p))throw Error(Rx+Or(e));return e}function x3(e,t){var r,n,a,i,o,l,c,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),nr?Wt(t,p):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(p/Qt),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=zr-1;--c[i],c[a]+=zr}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,nr?Wt(t,p):t):new h(0)}function To(e,t,r){var n,a=Or(e),i=oi(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+hs(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+hs(-a-1)+i,r&&(n=r-o)>0&&(i+=hs(n))):a>=o?(i+=hs(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+hs(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=hs(n))),e.s<0?"-"+i:i}function hj(e,t){if(e.length>t)return e.length=t,!0}function w3(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(vo+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return fj(o,i.toString())}else if(typeof i!="string")throw Error(vo+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,ite.test(i))fj(o,i);else throw Error(vo+i)}if(a.prototype=He,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=w3,a.config=a.set=ste,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function ste(e){if(!e||typeof e!="object")throw Error(da+"Object expected");var t,r,n,a=["precision",1,Hc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Gc(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(vo+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(vo+r+": "+n);return this}var Fx=w3(ate);zn=new Fx(1);const Ft=Fx;function ote(e){return dte(e)||ute(e)||cte(e)||lte()}function lte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cte(e,t){if(e){if(typeof e=="string")return uy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uy(e,t)}}function ute(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function dte(e){if(Array.isArray(e))return uy(e)}function uy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var fte=function(t){return t},j3={},N3=function(t){return t===j3},pj=function(t){return function r(){return arguments.length===0||arguments.length===1&&N3(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},hte=function e(t,r){return t===1?r:pj(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==j3}).length;return o>=t?r.apply(void 0,a):e(t-o,pj(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return N3(f)?c.shift():f});return r.apply(void 0,ote(d).concat(c))}))})},Qm=function(t){return hte(t.length,t)},dy=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},pte=Qm(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),mte=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return fte;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},fy=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},S3=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function gte(e){var t;return e===0?t=1:t=Math.floor(new Ft(e).abs().log(10).toNumber())+1,t}function vte(e,t,r){for(var n=new Ft(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var yte=Qm(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),bte=Qm(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),xte=Qm(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const eg={rangeStep:vte,getDigitCount:gte,interpolateNumber:yte,uninterpolateNumber:bte,uninterpolateTruncation:xte};function hy(e){return Nte(e)||jte(e)||_3(e)||wte()}function wte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jte(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Nte(e){if(Array.isArray(e))return py(e)}function Td(e,t){return Ate(e)||_te(e,t)||_3(e,t)||Ste()}function Ste(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _3(e,t){if(e){if(typeof e=="string")return py(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return py(e,t)}}function py(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _te(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function Ate(e){if(Array.isArray(e))return e}function A3(e){var t=Td(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function O3(e,t,r){if(e.lte(0))return new Ft(0);var n=eg.getDigitCount(e.toNumber()),a=new Ft(10).pow(n),i=e.div(a),o=n!==1?.05:.1,l=new Ft(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new Ft(Math.ceil(c))}function Ote(e,t,r){var n=1,a=new Ft(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Ft(10).pow(eg.getDigitCount(e)-1),a=new Ft(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Ft(Math.floor(e)))}else e===0?a=new Ft(Math.floor((t-1)/2)):r||(a=new Ft(Math.floor(e)));var o=Math.floor((t-1)/2),l=mte(pte(function(c){return a.add(new Ft(c-o).mul(n)).toNumber()}),dy);return l(0,t)}function P3(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Ft(0),tickMin:new Ft(0),tickMax:new Ft(0)};var i=O3(new Ft(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new Ft(0):(o=new Ft(e).add(t).div(2),o=o.sub(new Ft(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new Ft(t).sub(o).div(i).toNumber()),u=l+c+1;return u>r?P3(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:o.sub(new Ft(l).mul(i)),tickMax:o.add(new Ft(c).mul(i))})}function Pte(e){var t=Td(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=A3([r,n]),c=Td(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(hy(dy(0,a-1).map(function(){return 1/0}))):[].concat(hy(dy(0,a-1).map(function(){return-1/0})),[d]);return r>n?fy(f):f}if(u===d)return Ote(u,a,i);var h=P3(u,d,o,i),p=h.step,v=h.tickMin,g=h.tickMax,x=eg.rangeStep(v,g.add(new Ft(.1).mul(p)),p);return r>n?fy(x):x}function Ete(e,t){var r=Td(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=A3([n,a]),l=Td(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=O3(new Ft(u).sub(c).div(d-1),i,0),h=[].concat(hy(eg.rangeStep(new Ft(c),new Ft(u).sub(new Ft(.99).mul(f)),f)),[u]);return n>a?fy(h):h}var kte=S3(Pte),Cte=S3(Ete),Tte="Invariant failed";function Lo(e,t){throw new Error(Tte)}var Lte=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function lc(e){"@babel/helpers - typeof";return lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lc(e)}function Ap(){return Ap=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ap.apply(this,arguments)}function Mte(e,t){return Rte(e)||Ite(e,t)||$te(e,t)||Dte()}function Dte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $te(e,t){if(e){if(typeof e=="string")return mj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mj(e,t)}}function mj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ite(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Rte(e){if(Array.isArray(e))return e}function Fte(e,t){if(e==null)return{};var r=Bte(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Bte(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function zte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qte(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,C3(n.key),n)}}function Ute(e,t,r){return t&&qte(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wte(e,t,r){return t=Op(t),Hte(e,E3()?Reflect.construct(t,r||[],Op(e).constructor):t.apply(e,r))}function Hte(e,t){if(t&&(lc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gte(e)}function Gte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E3=function(){return!!e})()}function Op(e){return Op=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Op(e)}function Vte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&my(e,t)}function my(e,t){return my=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},my(e,t)}function k3(e,t,r){return t=C3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C3(e){var t=Yte(e,"string");return lc(t)=="symbol"?t:t+""}function Yte(e,t){if(lc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var tg=function(e){function t(){return zte(this,t),Wte(this,t,arguments)}return Vte(t,e),Ute(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=Fte(n,Lte),p=Xe(h,!1);this.props.direction==="x"&&d.type!=="number"&&Lo();var v=c.map(function(g){var x=u(g,l),b=x.x,y=x.y,N=x.value,_=x.errorVal;if(!_)return null;var w=[],S,P;if(Array.isArray(_)){var O=Mte(_,2);S=O[0],P=O[1]}else S=P=_;if(i==="vertical"){var T=d.scale,I=y+a,k=I+o,C=I-o,L=T(N-S),R=T(N+P);w.push({x1:R,y1:k,x2:R,y2:C}),w.push({x1:L,y1:I,x2:R,y2:I}),w.push({x1:L,y1:k,x2:L,y2:C})}else if(i==="horizontal"){var V=f.scale,F=b+a,B=F-o,X=F+o,Y=V(N-S),Z=V(N+P);w.push({x1:B,y1:Z,x2:X,y2:Z}),w.push({x1:F,y1:Y,x2:F,y2:Z}),w.push({x1:B,y1:Y,x2:X,y2:Y})}return U.createElement(_t,Ap({className:"recharts-errorBar",key:"bar-".concat(w.map(function(ae){return"".concat(ae.x1,"-").concat(ae.x2,"-").concat(ae.y1,"-").concat(ae.y2)}))},p),w.map(function(ae){return U.createElement("line",Ap({},ae,{key:"line-".concat(ae.x1,"-").concat(ae.x2,"-").concat(ae.y1,"-").concat(ae.y2)}))}))});return U.createElement(_t,{className:"recharts-errorBars"},v)}}])}(U.Component);k3(tg,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});k3(tg,"displayName","ErrorBar");function Ld(e){"@babel/helpers - typeof";return Ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ld(e)}function gj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ys(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gj(Object(r),!0).forEach(function(n){Kte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kte(e,t,r){return t=Xte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xte(e){var t=Jte(e,"string");return Ld(t)=="symbol"?t:t+""}function Jte(e,t){if(Ld(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var T3=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=Bn(r,mo);if(!o)return null;var l=mo.defaultProps,c=l!==void 0?Ys(Ys({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,v=p.sectors||p.data||[];return d.concat(v.map(function(g){return{type:o.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?Ys(Ys({},h),f.props):{},v=p.dataKey,g=p.name,x=p.legendType,b=p.hide;return{inactive:b,dataKey:v,type:c.iconType||x||"square",color:Bx(f),value:g||v,payload:p}}),Ys(Ys(Ys({},c),mo.getWithHeight(o,a)),{},{payload:u,item:o})};function Md(e){"@babel/helpers - typeof";return Md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Md(e)}function vj(e){return tre(e)||ere(e)||Qte(e)||Zte()}function Zte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qte(e,t){if(e){if(typeof e=="string")return gy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gy(e,t)}}function ere(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tre(e){if(Array.isArray(e))return gy(e)}function gy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yj(Object(r),!0).forEach(function(n){Fl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fl(e,t,r){return t=rre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rre(e){var t=nre(e,"string");return Md(t)=="symbol"?t:t+""}function nre(e,t){if(Md(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Md(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tr(e,t,r){return pt(e)||pt(t)?r:Mr(t)?Wn(e,t,r):nt(t)?t(e):r}function Zu(e,t,r,n){var a=nte(e,function(l){return Tr(l,t)});if(r==="number"){var i=a.filter(function(l){return Le(l)||parseFloat(l)});return i.length?[Zm(i),gs(i)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!pt(l)}):a;return o.map(function(l){return Mr(l)||l instanceof Date?l:""})}var are=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,p=void 0;if(bn(f-d)!==bn(h-f)){var v=[];if(bn(h-f)===bn(c[1]-c[0])){p=h;var g=f+c[1]-c[0];v[0]=Math.min(g,(g+d)/2),v[1]=Math.max(g,(g+d)/2)}else{p=d;var x=h+c[1]-c[0];v[0]=Math.min(f,(x+f)/2),v[1]=Math.max(f,(x+f)/2)}var b=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>b[0]&&t<=b[1]||t>=v[0]&&t<=v[1]){o=a[u].index;break}}else{var y=Math.min(d,h),N=Math.max(d,h);if(t>(y+f)/2&&t<=(N+f)/2){o=a[u].index;break}}}else for(var _=0;_<l;_++)if(_===0&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_===l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2){o=n[_].index;break}return o},Bx=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?dr(dr({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},ire=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var v=d[f[h]],g=v.items,x=v.cateAxisId,b=g.filter(function(P){return Ri(P.type).indexOf("Bar")>=0});if(b&&b.length){var y=b[0].type.defaultProps,N=y!==void 0?dr(dr({},y),b[0].props):b[0].props,_=N.barSize,w=N[x];o[w]||(o[w]=[]);var S=pt(_)?r:_;o[w].push({item:b[0],stackList:b.slice(1),barSize:pt(S)?void 0:xn(S,n,0)})}}return o},sre=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=xn(r,a,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=a/c,v=o.reduce(function(_,w){return _+w.barSize||0},0);v+=(c-1)*u,v>=a&&(v-=(c-1)*u,u=0),v>=a&&p>0&&(h=!0,p*=.9,v=c*p);var g=(a-v)/2>>0,x={offset:g-u,size:0};d=o.reduce(function(_,w){var S={item:w.item,position:{offset:x.offset+x.size+u,size:h?p:w.barSize}},P=[].concat(vj(_),[S]);return x=P[P.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(O){P.push({item:O,position:x})}),P},f)}else{var b=xn(n,a,0,!0);a-2*b-(c-1)*u<=0&&(u=0);var y=(a-2*b-(c-1)*u)/c;y>1&&(y>>=0);var N=l===+l?Math.min(y,l):y;d=o.reduce(function(_,w,S){var P=[].concat(vj(_),[{item:w.item,position:{offset:b+(y+u)*S+(y-N)/2,size:N}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(O){P.push({item:O,position:P[P.length-1].position})}),P},f)}return d},ore=function(t,r,n,a){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=T3({children:i,legendWidth:c});if(u){var d=a||{},f=d.width,h=d.height,p=u.align,v=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&v==="middle")&&p!=="center"&&Le(t[p]))return dr(dr({},t),{},Fl({},p,t[p]+(f||0)));if((g==="horizontal"||g==="vertical"&&p==="center")&&v!=="middle"&&Le(t[v]))return dr(dr({},t),{},Fl({},v,t[v]+(h||0)))}return t},lre=function(t,r,n){return pt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},L3=function(t,r,n,a,i){var o=r.props.children,l=oa(o,tg).filter(function(u){return lre(a,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=Tr(d,n);if(pt(f))return u;var h=Array.isArray(f)?[Zm(f),gs(f)]:[f,f],p=c.reduce(function(v,g){var x=Tr(d,g,0),b=h[0]-Math.abs(Array.isArray(x)?x[0]:x),y=h[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(b,v[0]),Math.max(y,v[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},cre=function(t,r,n,a,i){var o=r.map(function(l){return L3(t,l,n,i,a)}).filter(function(l){return!pt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},M3=function(t,r,n,a,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&L3(t,c,u,a)||Zu(t,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},D3=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},$3=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},Ii=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?bn(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!qc(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:i?i[f]:f,index:h,offset:u}})},Gv=new WeakMap,Nh=function(t,r){if(typeof r!="function")return t;Gv.has(t)||Gv.set(t,new WeakMap);var n=Gv.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},I3=function(t,r,n){var a=t.scale,i=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Ad(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:wp(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Ju(),realScaleType:"point"}:i==="category"?{scale:Ad(),realScaleType:"band"}:{scale:wp(),realScaleType:"linear"};if(Eo(a)){var c="scale".concat(Fm(a));return{scale:(dj[c]||Ju)(),realScaleType:dj[c]?c:"point"}}return nt(a)?{scale:a}:{scale:Ju(),realScaleType:"point"}},bj=1e-4,R3=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-bj,o=Math.max(a[0],a[1])+bj,l=t(r[0]),c=t(r[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},ure=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},dre=function(t,r){if(!r||r.length!==2||!Le(r[0])||!Le(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!Le(t[0])||t[0]<n)&&(i[0]=n),(!Le(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},fre=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0,l=0;l<r;++l){var c=qc(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},hre=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0;o<r;++o){var l=qc(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},pre={sign:fre,expand:dK,none:ec,silhouette:fK,wiggle:hK,positive:hre},mre=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),i=pre[n],o=uK().keys(a).value(function(l,c){return+Tr(l,c,0)}).order(G0).offset(i);return o(t)},gre=function(t,r,n,a,i,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,h){var p,v=(p=h.type)!==null&&p!==void 0&&p.defaultProps?dr(dr({},h.type.defaultProps),h.props):h.props,g=v.stackId,x=v.hide;if(x)return f;var b=v[n],y=f[b]||{hasStack:!1,stackGroups:{}};if(Mr(g)){var N=y.stackGroups[g]||{numericAxisId:n,cateAxisId:a,items:[]};N.items.push(h),y.hasStack=!0,y.stackGroups[g]=N}else y.stackGroups[Uc("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return dr(dr({},f),{},Fl({},b,y))},c),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var v={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(g,x){var b=p.stackGroups[x];return dr(dr({},g),{},Fl({},x,{numericAxisId:n,cateAxisId:a,items:b.items,stackedData:mre(t,b.items,i)}))},v)}return dr(dr({},f),{},Fl({},h,p))},d)},F3=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=kte(u,i,l);return t.domain([Zm(d),gs(d)]),{niceTicks:d}}if(i&&a==="number"){var f=t.domain(),h=Cte(f,i,l);return{niceTicks:h}}return null};function xj(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!pt(a[t.dataKey])){var l=np(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=Tr(a,pt(o)?t.dataKey:o);return pt(c)?null:t.scale(c)}var wj=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=Tr(o,r.dataKey,r.domain[l]);return pt(c)?null:r.scale(c)-i/2+a},vre=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},yre=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?dr(dr({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(Mr(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},bre=function(t){return t.reduce(function(r,n){return[Zm(n.concat([r[0]]).filter(Le)),gs(n.concat([r[1]]).filter(Le))]},[1/0,-1/0])},B3=function(t,r,n){return Object.keys(t).reduce(function(a,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,d){var f=bre(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},jj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Nj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,vy=function(t,r,n){if(nt(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(Le(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(jj.test(t[0])){var i=+jj.exec(t[0])[1];a[0]=r[0]-i}else nt(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(Le(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(Nj.test(t[1])){var o=+Nj.exec(t[1])[1];a[1]=r[1]+o}else nt(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},Pp=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=gm(r,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},Sj=function(t,r,n){return!t||!t.length||Ao(t,Wn(n,"type.defaultProps.domain"))?r:t},z3=function(t,r){var n=t.type.defaultProps?dr(dr({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return dr(dr({},Xe(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:Bx(t),value:Tr(r,a),type:c,payload:r,chartType:u,hide:d})};function Dd(e){"@babel/helpers - typeof";return Dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dd(e)}function _j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_j(Object(r),!0).forEach(function(n){q3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_j(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q3(e,t,r){return t=xre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xre(e){var t=wre(e,"string");return Dd(t)=="symbol"?t:t+""}function wre(e,t){if(Dd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jre(e,t){return Are(e)||_re(e,t)||Sre(e,t)||Nre()}function Nre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sre(e,t){if(e){if(typeof e=="string")return Aj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Aj(e,t)}}function Aj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _re(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Are(e){if(Array.isArray(e))return e}var Ep=Math.PI/180,Ore=function(t){return t*180/Math.PI},Xt=function(t,r,n,a){return{x:t+Math.cos(-Ep*a)*n,y:r+Math.sin(-Ep*a)*n}},U3=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Pre=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=xn(t.cx,o,o/2),f=xn(t.cy,l,l/2),h=U3(o,l,n),p=xn(t.innerRadius,h,0),v=xn(t.outerRadius,h,h*.8),g=Object.keys(r);return g.reduce(function(x,b){var y=r[b],N=y.domain,_=y.reversed,w;if(pt(y.range))a==="angleAxis"?w=[c,u]:a==="radiusAxis"&&(w=[p,v]),_&&(w=[w[1],w[0]]);else{w=y.range;var S=w,P=jre(S,2);c=P[0],u=P[1]}var O=I3(y,i),T=O.realScaleType,I=O.scale;I.domain(N).range(w),R3(I);var k=F3(I,Mi(Mi({},y),{},{realScaleType:T})),C=Mi(Mi(Mi({},y),k),{},{range:w,radius:v,realScaleType:T,scale:I,cx:d,cy:f,innerRadius:p,outerRadius:v,startAngle:c,endAngle:u});return Mi(Mi({},x),{},q3({},b,C))},{})},Ere=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-o,2))},kre=function(t,r){var n=t.x,a=t.y,i=r.cx,o=r.cy,l=Ere({x:n,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:Ore(u),angleInRadian:u}},Cre=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:n-o*360}},Tre=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(i,o);return t+l*360},Oj=function(t,r){var n=t.x,a=t.y,i=kre({x:n,y:a},r),o=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=Cre(r),f=d.startAngle,h=d.endAngle,p=l,v;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;v=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;v=p>=h&&p<=f}return v?Mi(Mi({},r),{},{radius:o,angle:Tre(p,r)}):null},W3=function(t){return!$.isValidElement(t)&&!nt(t)&&typeof t!="boolean"?t.className:""};function $d(e){"@babel/helpers - typeof";return $d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$d(e)}var Lre=["offset"];function Mre(e){return Rre(e)||Ire(e)||$re(e)||Dre()}function Dre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $re(e,t){if(e){if(typeof e=="string")return yy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yy(e,t)}}function Ire(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Rre(e){if(Array.isArray(e))return yy(e)}function yy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Fre(e,t){if(e==null)return{};var r=Bre(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Bre(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Pj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pj(Object(r),!0).forEach(function(n){zre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zre(e,t,r){return t=qre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qre(e){var t=Ure(e,"string");return $d(t)=="symbol"?t:t+""}function Ure(e,t){if($d(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($d(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Id(){return Id=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Id.apply(this,arguments)}var Wre=function(t){var r=t.value,n=t.formatter,a=pt(t.children)?r:t.children;return nt(n)?n(a):a},Hre=function(t,r){var n=bn(r-t),a=Math.min(Math.abs(r-t),360);return n*a},Gre=function(t,r,n){var a=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,p=c.startAngle,v=c.endAngle,g=c.clockWise,x=(f+h)/2,b=Hre(p,v),y=b>=0?1:-1,N,_;a==="insideStart"?(N=p+y*o,_=g):a==="insideEnd"?(N=v-y*o,_=!g):a==="end"&&(N=v+y*o,_=g),_=b<=0?_:!_;var w=Xt(u,d,x,N),S=Xt(u,d,x,N+(_?1:-1)*359),P="M".concat(w.x,",").concat(w.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(_?0:1,`,
    `).concat(S.x,",").concat(S.y),O=pt(t.id)?Uc("recharts-radial-line-"):t.id;return U.createElement("text",Id({},n,{dominantBaseline:"central",className:vt("recharts-radial-bar-label",l)}),U.createElement("defs",null,U.createElement("path",{id:O,d:P})),U.createElement("textPath",{xlinkHref:"#".concat(O)},r))},Vre=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(a==="outside"){var p=Xt(o,l,u+n,h),v=p.x,g=p.y;return{x:v,y:g,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var x=(c+u)/2,b=Xt(o,l,x,h),y=b.x,N=b.y;return{x:y,y:N,textAnchor:"middle",verticalAnchor:"middle"}},Yre=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*a,p=f>0?"end":"start",v=f>0?"start":"end",g=u>=0?1:-1,x=g*a,b=g>0?"end":"start",y=g>0?"start":"end";if(i==="top"){var N={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:p};return kr(kr({},N),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var _={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:v};return kr(kr({},_),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var w={x:l-x,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return kr(kr({},w),n?{width:Math.max(w.x-n.x,0),height:d}:{})}if(i==="right"){var S={x:l+u+x,y:c+d/2,textAnchor:y,verticalAnchor:"middle"};return kr(kr({},S),n?{width:Math.max(n.x+n.width-S.x,0),height:d}:{})}var P=n?{width:u,height:d}:{};return i==="insideLeft"?kr({x:l+x,y:c+d/2,textAnchor:y,verticalAnchor:"middle"},P):i==="insideRight"?kr({x:l+u-x,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},P):i==="insideTop"?kr({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:v},P):i==="insideBottom"?kr({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:p},P):i==="insideTopLeft"?kr({x:l+x,y:c+h,textAnchor:y,verticalAnchor:v},P):i==="insideTopRight"?kr({x:l+u-x,y:c+h,textAnchor:b,verticalAnchor:v},P):i==="insideBottomLeft"?kr({x:l+x,y:c+d-h,textAnchor:y,verticalAnchor:p},P):i==="insideBottomRight"?kr({x:l+u-x,y:c+d-h,textAnchor:b,verticalAnchor:p},P):kc(i)&&(Le(i.x)||so(i.x))&&(Le(i.y)||so(i.y))?kr({x:l+xn(i.x,u),y:c+xn(i.y,d),textAnchor:"end",verticalAnchor:"end"},P):kr({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},P)},Kre=function(t){return"cx"in t&&Le(t.cx)};function Wr(e){var t=e.offset,r=t===void 0?5:t,n=Fre(e,Lre),a=kr({offset:r},n),i=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!i||pt(l)&&pt(c)&&!$.isValidElement(u)&&!nt(u))return null;if($.isValidElement(u))return $.cloneElement(u,a);var p;if(nt(u)){if(p=$.createElement(u,a),$.isValidElement(p))return p}else p=Wre(a);var v=Kre(i),g=Xe(a,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Gre(a,p,g);var x=v?Vre(a):Yre(a);return U.createElement(Co,Id({className:vt("recharts-label",f)},g,x,{breakAll:h}),p)}Wr.displayName="Label";var H3=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,p=t.top,v=t.left,g=t.width,x=t.height,b=t.clockWise,y=t.labelViewBox;if(y)return y;if(Le(g)&&Le(x)){if(Le(f)&&Le(h))return{x:f,y:h,width:g,height:x};if(Le(p)&&Le(v))return{x:p,y:v,width:g,height:x}}return Le(f)&&Le(h)?{x:f,y:h,width:0,height:0}:Le(r)&&Le(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:b}:t.viewBox?t.viewBox:{}},Xre=function(t,r){return t?t===!0?U.createElement(Wr,{key:"label-implicit",viewBox:r}):Mr(t)?U.createElement(Wr,{key:"label-implicit",viewBox:r,value:t}):$.isValidElement(t)?t.type===Wr?$.cloneElement(t,{key:"label-implicit",viewBox:r}):U.createElement(Wr,{key:"label-implicit",content:t,viewBox:r}):nt(t)?U.createElement(Wr,{key:"label-implicit",content:t,viewBox:r}):kc(t)?U.createElement(Wr,Id({viewBox:r},t,{key:"label-implicit"})):null:null},Jre=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=H3(t),o=oa(a,Wr).map(function(c,u){return $.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var l=Xre(t.label,r||i);return[l].concat(Mre(o))};Wr.parseViewBox=H3;Wr.renderCallByParent=Jre;function Rd(e){"@babel/helpers - typeof";return Rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rd(e)}var Zre=["valueAccessor"],Qre=["data","dataKey","clockWise","id","textBreakAll"];function ene(e){return ane(e)||nne(e)||rne(e)||tne()}function tne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rne(e,t){if(e){if(typeof e=="string")return by(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return by(e,t)}}function nne(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ane(e){if(Array.isArray(e))return by(e)}function by(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kp(){return kp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kp.apply(this,arguments)}function Ej(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ej(Object(r),!0).forEach(function(n){ine(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ej(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ine(e,t,r){return t=sne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sne(e){var t=one(e,"string");return Rd(t)=="symbol"?t:t+""}function one(e,t){if(Rd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cj(e,t){if(e==null)return{};var r=lne(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lne(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var cne=function(t){return Array.isArray(t.value)?tq(t.value):t.value};function Bi(e){var t=e.valueAccessor,r=t===void 0?cne:t,n=Cj(e,Zre),a=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=Cj(n,Qre);return!a||!a.length?null:U.createElement(_t,{className:"recharts-label-list"},a.map(function(d,f){var h=pt(i)?r(d,f):Tr(d&&d.payload,i),p=pt(l)?{}:{id:"".concat(l,"-").concat(f)};return U.createElement(Wr,kp({},Xe(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:Wr.parseViewBox(pt(o)?d:kj(kj({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Bi.displayName="LabelList";function une(e,t){return e?e===!0?U.createElement(Bi,{key:"labelList-implicit",data:t}):U.isValidElement(e)||nt(e)?U.createElement(Bi,{key:"labelList-implicit",data:t,content:e}):kc(e)?U.createElement(Bi,kp({data:t},e,{key:"labelList-implicit"})):null:null}function dne(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=oa(n,Bi).map(function(o,l){return $.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var i=une(e.label,t);return[i].concat(ene(a))}Bi.renderCallByParent=dne;function Fd(e){"@babel/helpers - typeof";return Fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fd(e)}function xy(){return xy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xy.apply(this,arguments)}function Tj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tj(Object(r),!0).forEach(function(n){fne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fne(e,t,r){return t=hne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hne(e){var t=pne(e,"string");return Fd(t)=="symbol"?t:t+""}function pne(e,t){if(Fd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mne=function(t,r){var n=bn(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},Sh=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/Ep,h=u?i:i+o*f,p=Xt(r,n,d,h),v=Xt(r,n,a,h),g=u?i-o*f:i,x=Xt(r,n,d*Math.cos(f*Ep),g);return{center:p,circleTangency:v,lineTangency:x,theta:f}},G3=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=mne(o,l),u=o+c,d=Xt(r,n,i,o),f=Xt(r,n,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var p=Xt(r,n,a,o),v=Xt(r,n,a,u);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},gne=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=bn(d-u),h=Sh({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),p=h.circleTangency,v=h.lineTangency,g=h.theta,x=Sh({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),b=x.circleTangency,y=x.lineTangency,N=x.theta,_=c?Math.abs(u-d):Math.abs(u-d)-g-N;if(_<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):G3({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var w="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
  `);if(a>0){var S=Sh({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),P=S.circleTangency,O=S.lineTangency,T=S.theta,I=Sh({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),k=I.circleTangency,C=I.lineTangency,L=I.theta,R=c?Math.abs(u-d):Math.abs(u-d)-T-L;if(R<0&&o===0)return"".concat(w,"L").concat(r,",").concat(n,"Z");w+="L".concat(C.x,",").concat(C.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(R>180),",").concat(+(f>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,"Z")}else w+="L".concat(r,",").concat(n,"Z");return w},vne={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},V3=function(t){var r=Lj(Lj({},vne),t),n=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<i||d===f)return null;var p=vt("recharts-sector",h),v=o-i,g=xn(l,v,0,!0),x;return g>0&&Math.abs(d-f)<360?x=gne({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(g,v/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):x=G3({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),U.createElement("path",xy({},Xe(r,!0),{className:p,d:x,role:"img"}))};function Bd(e){"@babel/helpers - typeof";return Bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bd(e)}function wy(){return wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wy.apply(this,arguments)}function Mj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mj(Object(r),!0).forEach(function(n){yne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yne(e,t,r){return t=bne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bne(e){var t=xne(e,"string");return Bd(t)=="symbol"?t:t+""}function xne(e,t){if(Bd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $j={curveBasisClosed:QY,curveBasisOpen:eK,curveBasis:ZY,curveBumpX:RY,curveBumpY:FY,curveLinearClosed:tK,curveLinear:zm,curveMonotoneX:rK,curveMonotoneY:nK,curveNatural:aK,curveStep:iK,curveStepAfter:oK,curveStepBefore:sK},_h=function(t){return t.x===+t.x&&t.y===+t.y},Bu=function(t){return t.x},zu=function(t){return t.y},wne=function(t,r){if(nt(t))return t;var n="curve".concat(Fm(t));return(n==="curveMonotone"||n==="curveBump")&&r?$j["".concat(n).concat(r==="vertical"?"Y":"X")]:$j[n]||zm},jne=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=wne(n,l),f=u?i.filter(function(g){return _h(g)}):i,h;if(Array.isArray(o)){var p=u?o.filter(function(g){return _h(g)}):o,v=f.map(function(g,x){return Dj(Dj({},g),{},{base:p[x]})});return l==="vertical"?h=gh().y(zu).x1(Bu).x0(function(g){return g.base.x}):h=gh().x(Bu).y1(zu).y0(function(g){return g.base.y}),h.defined(_h).curve(d),h(v)}return l==="vertical"&&Le(o)?h=gh().y(zu).x1(Bu).x0(o):Le(o)?h=gh().x(Bu).y1(zu).y0(o):h=u4().x(Bu).y(zu),h.defined(_h).curve(d),h(f)},Bl=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?jne(t):a;return U.createElement("path",wy({},Xe(t,!1),ap(t),{className:vt("recharts-curve",r),d:o,ref:i}))},Nne=Object.getOwnPropertyNames,Sne=Object.getOwnPropertySymbols,_ne=Object.prototype.hasOwnProperty;function Ij(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function Ah(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);var c=e(r,n,a);return i.delete(r),i.delete(n),c}}function Rj(e){return Nne(e).concat(Sne(e))}var Ane=Object.hasOwn||function(e,t){return _ne.call(e,t)};function Bo(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var One="__v",Pne="__o",Ene="_owner",Fj=Object.getOwnPropertyDescriptor,Bj=Object.keys;function kne(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function Cne(e,t){return Bo(e.getTime(),t.getTime())}function Tne(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Lne(e,t){return e===t}function zj(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(a[f]){f++;continue}var h=o.value,p=l.value;if(r.equals(h[0],p[0],c,f,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var Mne=Bo;function Dne(e,t,r){var n=Bj(e),a=n.length;if(Bj(t).length!==a)return!1;for(;a-- >0;)if(!Y3(e,t,r,n[a]))return!1;return!0}function qu(e,t,r){var n=Rj(e),a=n.length;if(Rj(t).length!==a)return!1;for(var i,o,l;a-- >0;)if(i=n[a],!Y3(e,t,r,i)||(o=Fj(e,i),l=Fj(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function $ne(e,t){return Bo(e.valueOf(),t.valueOf())}function Ine(e,t){return e.source===t.source&&e.flags===t.flags}function qj(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),o,l;(o=i.next())&&!o.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function Rne(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function Fne(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function Y3(e,t,r,n){return(n===Ene||n===Pne||n===One)&&(e.$$typeof||t.$$typeof)?!0:Ane(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var Bne="[object Arguments]",zne="[object Boolean]",qne="[object Date]",Une="[object Error]",Wne="[object Map]",Hne="[object Number]",Gne="[object Object]",Vne="[object RegExp]",Yne="[object Set]",Kne="[object String]",Xne="[object URL]",Jne=Array.isArray,Uj=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,Wj=Object.assign,Zne=Object.prototype.toString.call.bind(Object.prototype.toString);function Qne(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(v,g,x){if(v===g)return!0;if(v==null||g==null)return!1;var b=typeof v;if(b!==typeof g)return!1;if(b!=="object")return b==="number"?o(v,g,x):b==="function"?a(v,g,x):!1;var y=v.constructor;if(y!==g.constructor)return!1;if(y===Object)return l(v,g,x);if(Jne(v))return t(v,g,x);if(Uj!=null&&Uj(v))return f(v,g,x);if(y===Date)return r(v,g,x);if(y===RegExp)return u(v,g,x);if(y===Map)return i(v,g,x);if(y===Set)return d(v,g,x);var N=Zne(v);return N===qne?r(v,g,x):N===Vne?u(v,g,x):N===Wne?i(v,g,x):N===Yne?d(v,g,x):N===Gne?typeof v.then!="function"&&typeof g.then!="function"&&l(v,g,x):N===Xne?h(v,g,x):N===Une?n(v,g,x):N===Bne?l(v,g,x):N===zne||N===Hne||N===Kne?c(v,g,x):!1}}function eae(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?qu:kne,areDatesEqual:Cne,areErrorsEqual:Tne,areFunctionsEqual:Lne,areMapsEqual:n?Ij(zj,qu):zj,areNumbersEqual:Mne,areObjectsEqual:n?qu:Dne,arePrimitiveWrappersEqual:$ne,areRegExpsEqual:Ine,areSetsEqual:n?Ij(qj,qu):qj,areTypedArraysEqual:n?qu:Rne,areUrlsEqual:Fne};if(r&&(a=Wj({},a,r(a))),t){var i=Ah(a.areArraysEqual),o=Ah(a.areMapsEqual),l=Ah(a.areObjectsEqual),c=Ah(a.areSetsEqual);a=Wj({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function tae(e){return function(t,r,n,a,i,o,l){return e(t,r,l)}}function rae(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,p=d.meta;return r(c,u,{cache:h,equals:a,meta:p,strict:i})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,u){return r(c,u,o)}}var nae=Cs();Cs({strict:!0});Cs({circular:!0});Cs({circular:!0,strict:!0});Cs({createInternalComparator:function(){return Bo}});Cs({strict:!0,createInternalComparator:function(){return Bo}});Cs({circular:!0,createInternalComparator:function(){return Bo}});Cs({circular:!0,createInternalComparator:function(){return Bo},strict:!0});function Cs(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,l=eae(e),c=Qne(l),u=n?n(c):tae(c);return rae({circular:r,comparator:c,createState:a,equals:u,strict:o})}function aae(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function Hj(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):aae(a)};requestAnimationFrame(n)}function jy(e){"@babel/helpers - typeof";return jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jy(e)}function iae(e){return cae(e)||lae(e)||oae(e)||sae()}function sae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oae(e,t){if(e){if(typeof e=="string")return Gj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gj(e,t)}}function Gj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lae(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function cae(e){if(Array.isArray(e))return e}function uae(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=iae(o),c=l[0],u=l.slice(1);if(typeof c=="number"){Hj(a.bind(null,u),c);return}a(c),Hj(a.bind(null,u));return}jy(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function zd(e){"@babel/helpers - typeof";return zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zd(e)}function Vj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vj(Object(r),!0).forEach(function(n){K3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function K3(e,t,r){return t=dae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dae(e){var t=fae(e,"string");return zd(t)==="symbol"?t:String(t)}function fae(e,t){if(zd(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hae=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},pae=function(t){return t},mae=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Qu=function(t,r){return Object.keys(r).reduce(function(n,a){return Yj(Yj({},n),{},K3({},a,t(a,r[a])))},{})},Kj=function(t,r,n){return t.map(function(a){return"".concat(mae(a)," ").concat(r,"ms ").concat(n)}).join(",")};function gae(e,t){return bae(e)||yae(e,t)||X3(e,t)||vae()}function vae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yae(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function bae(e){if(Array.isArray(e))return e}function xae(e){return Nae(e)||jae(e)||X3(e)||wae()}function wae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X3(e,t){if(e){if(typeof e=="string")return Ny(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ny(e,t)}}function jae(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Nae(e){if(Array.isArray(e))return Ny(e)}function Ny(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Cp=1e-4,J3=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},Z3=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},Xj=function(t,r){return function(n){var a=J3(t,r);return Z3(a,n)}},Sae=function(t,r){return function(n){var a=J3(t,r),i=[].concat(xae(a.map(function(o,l){return o*l}).slice(1)),[0]);return Z3(i,n)}},Jj=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),d=gae(u,4);a=d[0],i=d[1],o=d[2],l=d[3]}}}var f=Xj(a,o),h=Xj(i,l),p=Sae(a,o),v=function(b){return b>1?1:b<0?0:b},g=function(b){for(var y=b>1?1:b,N=y,_=0;_<8;++_){var w=f(N)-y,S=p(N);if(Math.abs(w-y)<Cp||S<Cp)return h(N);N=v(N-w/S)}return h(N)};return g.isStepper=!1,g},_ae=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var p=-(d-f)*n,v=h*i,g=h+(p-v)*l/1e3,x=h*l/1e3+d;return Math.abs(x-f)<Cp&&Math.abs(g)<Cp?[f,0]:[x,g]};return c.isStepper=!0,c.dt=l,c},Aae=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Jj(a);case"spring":return _ae();default:if(a.split("(")[0]==="cubic-bezier")return Jj(a)}return typeof a=="function"?a:null};function qd(e){"@babel/helpers - typeof";return qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qd(e)}function Zj(e){return Eae(e)||Pae(e)||Q3(e)||Oae()}function Oae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pae(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Eae(e){if(Array.isArray(e))return _y(e)}function Qj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Kr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qj(Object(r),!0).forEach(function(n){Sy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sy(e,t,r){return t=kae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kae(e){var t=Cae(e,"string");return qd(t)==="symbol"?t:String(t)}function Cae(e,t){if(qd(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tae(e,t){return Dae(e)||Mae(e,t)||Q3(e,t)||Lae()}function Lae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q3(e,t){if(e){if(typeof e=="string")return _y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _y(e,t)}}function _y(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Mae(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Dae(e){if(Array.isArray(e))return e}var Tp=function(t,r,n){return t+(r-t)*n},Ay=function(t){var r=t.from,n=t.to;return r!==n},$ae=function e(t,r,n){var a=Qu(function(i,o){if(Ay(o)){var l=t(o.from,o.to,o.velocity),c=Tae(l,2),u=c[0],d=c[1];return Kr(Kr({},o),{},{from:u,velocity:d})}return o},r);return n<1?Qu(function(i,o){return Ay(o)?Kr(Kr({},o),{},{velocity:Tp(o.velocity,a[i].velocity,n),from:Tp(o.from,a[i].from,n)}):o},r):e(t,a,n-1)};const Iae=function(e,t,r,n,a){var i=hae(e,t),o=i.reduce(function(x,b){return Kr(Kr({},x),{},Sy({},b,[e[b],t[b]]))},{}),l=i.reduce(function(x,b){return Kr(Kr({},x),{},Sy({},b,{from:e[b],velocity:0,to:t[b]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return Qu(function(b,y){return y.from},l)},p=function(){return!Object.values(l).filter(Ay).length},v=function(b){u||(u=b);var y=b-u,N=y/r.dt;l=$ae(r,l,N),a(Kr(Kr(Kr({},e),t),h())),u=b,p()||(c=requestAnimationFrame(f))},g=function(b){d||(d=b);var y=(b-d)/n,N=Qu(function(w,S){return Tp.apply(void 0,Zj(S).concat([r(y)]))},o);if(a(Kr(Kr(Kr({},e),t),N)),y<1)c=requestAnimationFrame(f);else{var _=Qu(function(w,S){return Tp.apply(void 0,Zj(S).concat([r(1)]))},o);a(Kr(Kr(Kr({},e),t),_))}};return f=r.isStepper?v:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function cc(e){"@babel/helpers - typeof";return cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cc(e)}var Rae=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Fae(e,t){if(e==null)return{};var r=Bae(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Bae(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Vv(e){return Wae(e)||Uae(e)||qae(e)||zae()}function zae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qae(e,t){if(e){if(typeof e=="string")return Oy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Oy(e,t)}}function Uae(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Wae(e){if(Array.isArray(e))return Oy(e)}function Oy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ea(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eN(Object(r),!0).forEach(function(n){Gu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gu(e,t,r){return t=eO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gae(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eO(n.key),n)}}function Vae(e,t,r){return t&&Gae(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function eO(e){var t=Yae(e,"string");return cc(t)==="symbol"?t:String(t)}function Yae(e,t){if(cc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Py(e,t)}function Py(e,t){return Py=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Py(e,t)}function Xae(e){var t=Jae();return function(){var n=Lp(e),a;if(t){var i=Lp(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Ey(this,a)}}function Ey(e,t){if(t&&(cc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ky(e)}function ky(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jae(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Lp(e){return Lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lp(e)}var vi=function(e){Kae(r,e);var t=Xae(r);function r(n,a){var i;Hae(this,r),i=t.call(this,n,a);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,p=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(ky(i)),i.changeStyle=i.changeStyle.bind(ky(i)),!l||p<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),Ey(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},Ey(i);i.state={style:c?Gu({},c,u):u}}else i.state={style:{}};return i}return Vae(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(l){if(!o){var p={style:c?Gu({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(p);return}if(!(nae(a.to,d)&&a.canBegin&&a.isActive)){var v=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=v||u?f:a.to;if(this.state&&h){var x={style:c?Gu({},c,g):g};(c&&h[c]!==g||!c&&h!==g)&&this.setState(x)}this.runAnimation(Ea(Ea({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,p=Iae(o,l,Aae(u),c,this.changeStyle),v=function(){i.stopJSAnimation=p()};this.manager.start([h,d,v,c,f])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(g,x,b){if(b===0)return g;var y=x.duration,N=x.easing,_=N===void 0?"ease":N,w=x.style,S=x.properties,P=x.onAnimationEnd,O=b>0?o[b-1]:x,T=S||Object.keys(w);if(typeof _=="function"||_==="spring")return[].concat(Vv(g),[i.runJSAnimation.bind(i,{from:O.style,to:w,duration:y,easing:_}),y]);var I=Kj(T,y,_),k=Ea(Ea(Ea({},O.style),w),{},{transition:I});return[].concat(Vv(g),[k,y,P]).filter(pae)};return this.manager.start([c].concat(Vv(o.reduce(p,[d,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=uae());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,p=a.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var g=l?Gu({},l,c):c,x=Kj(Object.keys(g),o,u);v.start([d,i,Ea(Ea({},g),{},{transition:x}),o,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=Fae(a,Rae),u=$.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var f=function(p){var v=p.props,g=v.style,x=g===void 0?{}:g,b=v.className,y=$.cloneElement(p,Ea(Ea({},c),{},{style:Ea(Ea({},x),d),className:b}));return y};return u===1?f($.Children.only(i)):U.createElement("div",null,$.Children.map(i,function(h){return f(h)}))}}]),r}($.PureComponent);vi.displayName="Animate";vi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};vi.propTypes={from:Se.oneOfType([Se.object,Se.string]),to:Se.oneOfType([Se.object,Se.string]),attributeName:Se.string,duration:Se.number,begin:Se.number,easing:Se.oneOfType([Se.string,Se.func]),steps:Se.arrayOf(Se.shape({duration:Se.number.isRequired,style:Se.object.isRequired,easing:Se.oneOfType([Se.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Se.func]),properties:Se.arrayOf("string"),onAnimationEnd:Se.func})),children:Se.oneOfType([Se.node,Se.func]),isActive:Se.bool,canBegin:Se.bool,onAnimationEnd:Se.func,shouldReAnimate:Se.bool,onAnimationStart:Se.func,onAnimationReStart:Se.func};function Ud(e){"@babel/helpers - typeof";return Ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ud(e)}function Mp(){return Mp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mp.apply(this,arguments)}function Zae(e,t){return rie(e)||tie(e,t)||eie(e,t)||Qae()}function Qae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eie(e,t){if(e){if(typeof e=="string")return tN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tN(e,t)}}function tN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tie(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function rie(e){if(Array.isArray(e))return e}function rN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rN(Object(r),!0).forEach(function(n){nie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nie(e,t,r){return t=aie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aie(e){var t=iie(e,"string");return Ud(t)=="symbol"?t:t+""}function iie(e,t){if(Ud(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ud(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aN=function(t,r,n,a,i){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=i[h]>o?o:i[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var v=Math.min(o,i);d="M ".concat(t,",").concat(r+l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+c*v,",").concat(r,`
            L `).concat(t+n-c*v,",").concat(r,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*v,`
            L `).concat(t+n,",").concat(r+a-l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n-c*v,",").concat(r+a,`
            L `).concat(t+c*v,",").concat(r+a,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*v," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},sie=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&a>=f&&a<=h}return!1},oie={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},zx=function(t){var r=nN(nN({},oie),t),n=$.useRef(),a=$.useState(-1),i=Zae(a,2),o=i[0],l=i[1];$.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&l(_)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,v=r.animationEasing,g=r.animationDuration,x=r.animationBegin,b=r.isAnimationActive,y=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var N=vt("recharts-rectangle",p);return y?U.createElement(vi,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:g,animationEasing:v,isActive:y},function(_){var w=_.width,S=_.height,P=_.x,O=_.y;return U.createElement(vi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:g,isActive:b,easing:v},U.createElement("path",Mp({},Xe(r,!0),{className:N,d:aN(P,O,w,S,h),ref:n})))}):U.createElement("path",Mp({},Xe(r,!0),{className:N,d:aN(c,u,d,f,h)}))},lie=["points","className","baseLinePoints","connectNulls"];function El(){return El=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},El.apply(this,arguments)}function cie(e,t){if(e==null)return{};var r=uie(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function uie(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function iN(e){return pie(e)||hie(e)||fie(e)||die()}function die(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fie(e,t){if(e){if(typeof e=="string")return Cy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Cy(e,t)}}function hie(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pie(e){if(Array.isArray(e))return Cy(e)}function Cy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var sN=function(t){return t&&t.x===+t.x&&t.y===+t.y},mie=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){sN(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),sN(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},ed=function(t,r){var n=mie(t);r&&(n=[n.reduce(function(i,o){return[].concat(iN(i),iN(o))},[])]);var a=n.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},gie=function(t,r,n){var a=ed(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(ed(r.reverse(),n).slice(1))},vie=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,i=t.connectNulls,o=cie(t,lie);if(!r||!r.length)return null;var l=vt("recharts-polygon",n);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",u=gie(r,a,i);return U.createElement("g",{className:l},U.createElement("path",El({},Xe(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?U.createElement("path",El({},Xe(o,!0),{fill:"none",d:ed(r,i)})):null,c?U.createElement("path",El({},Xe(o,!0),{fill:"none",d:ed(a,i)})):null)}var d=ed(r,i);return U.createElement("path",El({},Xe(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function Ty(){return Ty=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ty.apply(this,arguments)}var rg=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,o=vt("recharts-dot",i);return r===+r&&n===+n&&a===+a?U.createElement("circle",Ty({},Xe(t,!1),ap(t),{className:o,cx:r,cy:n,r:a})):null};function Wd(e){"@babel/helpers - typeof";return Wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wd(e)}var yie=["x","y","top","left","width","height","className"];function Ly(){return Ly=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ly.apply(this,arguments)}function oN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bie(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oN(Object(r),!0).forEach(function(n){xie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xie(e,t,r){return t=wie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wie(e){var t=jie(e,"string");return Wd(t)=="symbol"?t:t+""}function jie(e,t){if(Wd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nie(e,t){if(e==null)return{};var r=Sie(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Sie(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var _ie=function(t,r,n,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},Aie=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,p=h===void 0?0:h,v=t.className,g=Nie(t,yie),x=bie({x:n,y:i,top:l,left:u,width:f,height:p},g);return!Le(n)||!Le(i)||!Le(f)||!Le(p)||!Le(l)||!Le(u)?null:U.createElement("path",Ly({},Xe(x,!0),{className:vt("recharts-cross",v),d:_ie(n,i,f,p,l,u)}))},Oie=Jm,Pie=m3,Eie=qa;function kie(e,t){return e&&e.length?Oie(e,Eie(t),Pie):void 0}var Cie=kie;const Tie=Nt(Cie);var Lie=Jm,Mie=qa,Die=g3;function $ie(e,t){return e&&e.length?Lie(e,Mie(t),Die):void 0}var Iie=$ie;const Rie=Nt(Iie);var Fie=["cx","cy","angle","ticks","axisLine"],Bie=["ticks","tick","angle","tickFormatter","stroke"];function uc(e){"@babel/helpers - typeof";return uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uc(e)}function td(){return td=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},td.apply(this,arguments)}function lN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ks(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lN(Object(r),!0).forEach(function(n){ng(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cN(e,t){if(e==null)return{};var r=zie(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zie(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function qie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rO(n.key),n)}}function Uie(e,t,r){return t&&uN(e.prototype,t),r&&uN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wie(e,t,r){return t=Dp(t),Hie(e,tO()?Reflect.construct(t,r||[],Dp(e).constructor):t.apply(e,r))}function Hie(e,t){if(t&&(uc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gie(e)}function Gie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tO=function(){return!!e})()}function Dp(e){return Dp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dp(e)}function Vie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&My(e,t)}function My(e,t){return My=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},My(e,t)}function ng(e,t,r){return t=rO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rO(e){var t=Yie(e,"string");return uc(t)=="symbol"?t:t+""}function Yie(e,t){if(uc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ag=function(e){function t(){return qie(this,t),Wie(this,t,arguments)}return Vie(t,e),Uie(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return Xt(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=Tie(l,function(d){return d.coordinate||0}),u=Rie(l,function(d){return d.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=cN(n,Fie),d=l.reduce(function(v,g){return[Math.min(v[0],g.coordinate),Math.max(v[1],g.coordinate)]},[1/0,-1/0]),f=Xt(a,i,d[0],o),h=Xt(a,i,d[1],o),p=Ks(Ks(Ks({},Xe(u,!1)),{},{fill:"none"},Xe(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return U.createElement("line",td({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=cN(a,Bie),f=this.getTickTextAnchor(),h=Xe(d,!1),p=Xe(o,!1),v=i.map(function(g,x){var b=n.getTickValueCoord(g),y=Ks(Ks(Ks(Ks({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(b.x,", ").concat(b.y,")")},h),{},{stroke:"none",fill:u},p),{},{index:x},b),{},{payload:g});return U.createElement(_t,td({className:vt("recharts-polar-radius-axis-tick",W3(o)),key:"tick-".concat(g.coordinate)},ko(n.props,g,x)),t.renderTickItem(o,y,c?c(g.value,x):g.value))});return U.createElement(_t,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,o=n.tick;return!a||!a.length?null:U.createElement(_t,{className:vt("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),Wr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return U.isValidElement(n)?o=U.cloneElement(n,a):nt(n)?o=n(a):o=U.createElement(Co,td({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}($.PureComponent);ng(ag,"displayName","PolarRadiusAxis");ng(ag,"axisType","radiusAxis");ng(ag,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function dc(e){"@babel/helpers - typeof";return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dc(e)}function io(){return io=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},io.apply(this,arguments)}function dN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dN(Object(r),!0).forEach(function(n){ig(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aO(n.key),n)}}function Xie(e,t,r){return t&&fN(e.prototype,t),r&&fN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Jie(e,t,r){return t=$p(t),Zie(e,nO()?Reflect.construct(t,r||[],$p(e).constructor):t.apply(e,r))}function Zie(e,t){if(t&&(dc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qie(e)}function Qie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nO=function(){return!!e})()}function $p(e){return $p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$p(e)}function ese(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dy(e,t)}function Dy(e,t){return Dy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Dy(e,t)}function ig(e,t,r){return t=aO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aO(e){var t=tse(e,"string");return dc(t)=="symbol"?t:t+""}function tse(e,t){if(dc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var rse=Math.PI/180,hN=1e-5,sg=function(e){function t(){return Kie(this,t),Jie(this,t,arguments)}return ese(t,e),Xie(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,o=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=Xt(i,o,l,n.coordinate),h=Xt(i,o,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*rse),o;return i>hN?o=a==="outer"?"start":"end":i<-hN?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=Xs(Xs({},Xe(this.props,!1)),{},{fill:"none"},Xe(l,!1));if(c==="circle")return U.createElement(rg,io({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:o}));var d=this.props.ticks,f=d.map(function(h){return Xt(a,i,o,h.coordinate)});return U.createElement(vie,io({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=Xe(this.props,!1),f=Xe(o,!1),h=Xs(Xs({},d),{},{fill:"none"},Xe(l,!1)),p=i.map(function(v,g){var x=n.getTickLineCoord(v),b=n.getTickTextAnchor(v),y=Xs(Xs(Xs({textAnchor:b},d),{},{stroke:"none",fill:u},f),{},{index:g,payload:v,x:x.x2,y:x.y2});return U.createElement(_t,io({className:vt("recharts-polar-angle-axis-tick",W3(o)),key:"tick-".concat(v.coordinate)},ko(n.props,v,g)),l&&U.createElement("line",io({className:"recharts-polar-angle-axis-tick-line"},h,x)),o&&t.renderTickItem(o,y,c?c(v.value,g):v.value))});return U.createElement(_t,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!a||!a.length?null:U.createElement(_t,{className:vt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var o;return U.isValidElement(n)?o=U.cloneElement(n,a):nt(n)?o=n(a):o=U.createElement(Co,io({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}($.PureComponent);ig(sg,"displayName","PolarAngleAxis");ig(sg,"axisType","angleAxis");ig(sg,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var nse=Hi,ase=za,ise="[object Boolean]";function sse(e){return e===!0||e===!1||ase(e)&&nse(e)==ise}var ose=sse;const lse=Nt(ose);function Hd(e){"@babel/helpers - typeof";return Hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hd(e)}function Ip(){return Ip=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ip.apply(this,arguments)}function cse(e,t){return hse(e)||fse(e,t)||dse(e,t)||use()}function use(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dse(e,t){if(e){if(typeof e=="string")return pN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pN(e,t)}}function pN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fse(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function hse(e){if(Array.isArray(e))return e}function mN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mN(Object(r),!0).forEach(function(n){pse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pse(e,t,r){return t=mse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mse(e){var t=gse(e,"string");return Hd(t)=="symbol"?t:t+""}function gse(e,t){if(Hd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vN=function(t,r,n,a,i){var o=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-a,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},vse={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},yse=function(t){var r=gN(gN({},vse),t),n=$.useRef(),a=$.useState(-1),i=cse(a,2),o=i[0],l=i[1];$.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var N=n.current.getTotalLength();N&&l(N)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,v=r.animationEasing,g=r.animationDuration,x=r.animationBegin,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var y=vt("recharts-trapezoid",p);return b?U.createElement(vi,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:g,animationEasing:v,isActive:b},function(N){var _=N.upperWidth,w=N.lowerWidth,S=N.height,P=N.x,O=N.y;return U.createElement(vi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:g,easing:v},U.createElement("path",Ip({},Xe(r,!0),{className:y,d:vN(P,O,_,w,S),ref:n})))}):U.createElement("g",null,U.createElement("path",Ip({},Xe(r,!0),{className:y,d:vN(c,u,d,f,h)})))},bse=["option","shapeType","propTransformer","activeClassName","isActive"];function Gd(e){"@babel/helpers - typeof";return Gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gd(e)}function xse(e,t){if(e==null)return{};var r=wse(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wse(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function yN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yN(Object(r),!0).forEach(function(n){jse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jse(e,t,r){return t=Nse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nse(e){var t=Sse(e,"string");return Gd(t)=="symbol"?t:t+""}function Sse(e,t){if(Gd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _se(e,t){return Rp(Rp({},t),e)}function Ase(e,t){return e==="symbols"}function bN(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return U.createElement(zx,r);case"trapezoid":return U.createElement(yse,r);case"sector":return U.createElement(V3,r);case"symbols":if(Ase(t))return U.createElement(hx,r);break;default:return null}}function Ose(e){return $.isValidElement(e)?e.props:e}function iO(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?_se:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=xse(e,bse),u;if($.isValidElement(t))u=$.cloneElement(t,Rp(Rp({},c),Ose(t)));else if(nt(t))u=t(c);else if(wq(t)&&!lse(t)){var d=a(t,c);u=U.createElement(bN,{shapeType:r,elementProps:d})}else{var f=c;u=U.createElement(bN,{shapeType:r,elementProps:f})}return l?U.createElement(_t,{className:o},u):u}function og(e,t){return t!=null&&"trapezoids"in e.props}function lg(e,t){return t!=null&&"sectors"in e.props}function Vd(e,t){return t!=null&&"points"in e.props}function Pse(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function Ese(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function kse(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function Cse(e,t){var r;return og(e,t)?r=Pse:lg(e,t)?r=Ese:Vd(e,t)&&(r=kse),r}function Tse(e,t){var r;return og(e,t)?r="trapezoids":lg(e,t)?r="sectors":Vd(e,t)&&(r="points"),r}function Lse(e,t){if(og(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(lg(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Vd(e,t)?t.payload:{}}function Mse(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=Tse(r,t),i=Lse(r,t),o=n.filter(function(c,u){var d=Ao(i,c),f=r.props[a].filter(function(v){var g=Cse(r,t);return g(v,t)}),h=r.props[a].indexOf(f[f.length-1]),p=u===h;return d&&p}),l=n.indexOf(o[o.length-1]);return l}var Bh;function fc(e){"@babel/helpers - typeof";return fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fc(e)}function kl(){return kl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kl.apply(this,arguments)}function xN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xN(Object(r),!0).forEach(function(n){aa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oO(n.key),n)}}function $se(e,t,r){return t&&wN(e.prototype,t),r&&wN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ise(e,t,r){return t=Fp(t),Rse(e,sO()?Reflect.construct(t,r||[],Fp(e).constructor):t.apply(e,r))}function Rse(e,t){if(t&&(fc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fse(e)}function Fse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sO=function(){return!!e})()}function Fp(e){return Fp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fp(e)}function Bse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$y(e,t)}function $y(e,t){return $y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},$y(e,t)}function aa(e,t,r){return t=oO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oO(e){var t=zse(e,"string");return fc(t)=="symbol"?t:t+""}function zse(e,t){if(fc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Vi=function(e){function t(r){var n;return Dse(this,t),n=Ise(this,t,[r]),aa(n,"pieRef",null),aa(n,"sectorRefs",[]),aa(n,"id",Uc("recharts-pie-")),aa(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),nt(a)&&a()}),aa(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),nt(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Bse(t,e),$se(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,d=Xe(this.props,!1),f=Xe(o,!1),h=Xe(l,!1),p=o&&o.offsetRadius||20,v=n.map(function(g,x){var b=(g.startAngle+g.endAngle)/2,y=Xt(g.cx,g.cy,g.outerRadius+p,b),N=Yt(Yt(Yt(Yt({},d),g),{},{stroke:"none"},f),{},{index:x,textAnchor:t.getTextAnchor(y.x,g.cx)},y),_=Yt(Yt(Yt(Yt({},d),g),{},{fill:"none",stroke:g.fill},h),{},{index:x,points:[Xt(g.cx,g.cy,g.outerRadius,b),y]}),w=c;return pt(c)&&pt(u)?w="value":pt(c)&&(w=u),U.createElement(_t,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(x)},l&&t.renderLabelLineItem(l,_,"line"),t.renderLabelItem(o,N,Tr(g,w)))});return U.createElement(_t,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),h=c&&a.hasActiveIndex()?c:null,p=f?o:h,v=Yt(Yt({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return U.createElement(_t,kl({ref:function(x){x&&!a.sectorRefs.includes(x)&&a.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},ko(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),U.createElement(iO,kl({option:p,isActive:f,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return U.createElement(vi,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var g=v.t,x=[],b=i&&i[0],y=b.startAngle;return i.forEach(function(N,_){var w=h&&h[_],S=_>0?Wn(N,"paddingAngle",0):0;if(w){var P=Pn(w.endAngle-w.startAngle,N.endAngle-N.startAngle),O=Yt(Yt({},N),{},{startAngle:y+S,endAngle:y+P(g)+S});x.push(O),y=O.endAngle}else{var T=N.endAngle,I=N.startAngle,k=Pn(0,T-I),C=k(g),L=Yt(Yt({},N),{},{startAngle:y+S,endAngle:y+C+S});x.push(L),y=L.endAngle}}),U.createElement(_t,null,n.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!Ao(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,o=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,h=a.outerRadius,p=a.isAnimationActive,v=this.state.isAnimationFinished;if(i||!o||!o.length||!Le(u)||!Le(d)||!Le(f)||!Le(h))return null;var g=vt("recharts-pie",l);return U.createElement(_t,{tabIndex:this.props.rootTabIndex,className:g,ref:function(b){n.pieRef=b}},this.renderSectors(),c&&this.renderLabels(o),Wr.renderCallByParent(this.props,null,!1),(!p||v)&&Bi.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(U.isValidElement(n))return U.cloneElement(n,a);if(nt(n))return n(a);var o=vt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return U.createElement(Bl,kl({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,a,i){if(U.isValidElement(n))return U.cloneElement(n,a);var o=i;if(nt(n)&&(o=n(a),U.isValidElement(o)))return o;var l=vt("recharts-pie-label-text",typeof n!="boolean"&&!nt(n)?n.className:"");return U.createElement(Co,kl({},a,{alignmentBaseline:"middle",className:l}),o)}}])}($.PureComponent);Bh=Vi;aa(Vi,"displayName","Pie");aa(Vi,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Io.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});aa(Vi,"parseDeltaAngle",function(e,t){var r=bn(t-e),n=Math.min(Math.abs(t-e),360);return r*n});aa(Vi,"getRealPieData",function(e){var t=e.data,r=e.children,n=Xe(e,!1),a=oa(r,Wm);return t&&t.length?t.map(function(i,o){return Yt(Yt(Yt({payload:i},n),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return Yt(Yt({},n),i.props)}):[]});aa(Vi,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,o=U3(a,i),l=n+xn(e.cx,a,a/2),c=r+xn(e.cy,i,i/2),u=xn(e.innerRadius,o,0),d=xn(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});aa(Vi,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Yt(Yt({},t.type.defaultProps),t.props):t.props,a=Bh.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,p=Math.abs(n.minAngle),v=Bh.parseCoordinateOfPie(n,r),g=Bh.parseDeltaAngle(o,l),x=Math.abs(g),b=u;pt(u)&&pt(f)?(Ra(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):pt(u)&&(Ra(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=f);var y=a.filter(function(O){return Tr(O,b,0)!==0}).length,N=(x>=360?y:y-1)*c,_=x-y*p-N,w=a.reduce(function(O,T){var I=Tr(T,b,0);return O+(Le(I)?I:0)},0),S;if(w>0){var P;S=a.map(function(O,T){var I=Tr(O,b,0),k=Tr(O,d,T),C=(Le(I)?I:0)/w,L;T?L=P.endAngle+bn(g)*c*(I!==0?1:0):L=o;var R=L+bn(g)*((I!==0?p:0)+C*_),V=(L+R)/2,F=(v.innerRadius+v.outerRadius)/2,B=[{name:k,value:I,payload:O,dataKey:b,type:h}],X=Xt(v.cx,v.cy,F,V);return P=Yt(Yt(Yt({percent:C,cornerRadius:i,name:k,tooltipPayload:B,midAngle:V,middleRadius:F,tooltipPosition:X},O),v),{},{value:Tr(O,b),startAngle:L,endAngle:R,payload:O,paddingAngle:bn(g)*c}),P})}return Yt(Yt({},v),{},{sectors:S,data:a})});function Yd(e){"@babel/helpers - typeof";return Yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yd(e)}function jN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function NN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jN(Object(r),!0).forEach(function(n){lO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lO(e,t,r){return t=qse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qse(e){var t=Use(e,"string");return Yd(t)=="symbol"?t:t+""}function Use(e,t){if(Yd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wse=["Webkit","Moz","O","ms"],Hse=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=Wse.reduce(function(i,o){return NN(NN({},i),{},lO({},o+n,r))},{});return a[t]=r,a};function hc(e){"@babel/helpers - typeof";return hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hc(e)}function Bp(){return Bp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bp.apply(this,arguments)}function SN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SN(Object(r),!0).forEach(function(n){Fn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _N(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uO(n.key),n)}}function Vse(e,t,r){return t&&_N(e.prototype,t),r&&_N(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yse(e,t,r){return t=zp(t),Kse(e,cO()?Reflect.construct(t,r||[],zp(e).constructor):t.apply(e,r))}function Kse(e,t){if(t&&(hc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xse(e)}function Xse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cO=function(){return!!e})()}function zp(e){return zp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zp(e)}function Jse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Iy(e,t)}function Iy(e,t){return Iy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Iy(e,t)}function Fn(e,t,r){return t=uO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uO(e){var t=Zse(e,"string");return hc(t)=="symbol"?t:t+""}function Zse(e,t){if(hc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Qse=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Ju().domain(md(0,c)).range([i,i+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},AN=function(t){return t.changedTouches&&!!t.changedTouches.length},pc=function(e){function t(r){var n;return Gse(this,t),n=Yse(this,t,[r]),Fn(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Fn(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Fn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),Fn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Fn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Fn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Fn(n,"handleSlideDragStart",function(a){var i=AN(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Jse(t,e),Vse(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,i),h=Math.max(a,i),p=t.getIndexInRange(o,f),v=t.getIndexInRange(o,h);return{startIndex:p-p%c,endIndex:v===d?d:v-v%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=Tr(i[n],l,n);return nt(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,p=c.endIndex,v=c.onChange,g=n.pageX-i;g>0?g=Math.min(g,u+d-f-l,u+d-f-o):g<0&&(g=Math.max(g,u-o,u-l));var x=this.getIndex({startX:o+g,endX:l+g});(x.startIndex!==h||x.endIndex!==p)&&v&&v(x),this.setState({startX:o+g,endX:l+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=AN(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,v=d.onChange,g=d.gap,x=d.data,b={startX:this.state.startX,endX:this.state.endX},y=n.pageX-i;y>0?y=Math.min(y,f+h-p-u):y<0&&(y=Math.max(y,f-u)),b[o]=u+y;var N=this.getIndex(b),_=N.startIndex,w=N.endIndex,S=function(){var O=x.length-1;return o==="startX"&&(l>c?_%g===0:w%g===0)||l<c&&w===O||o==="endX"&&(l>c?w%g===0:_%g===0)||l>c&&w===O};this.setState(Fn(Fn({},o,u+y),"brushMoveStartX",n.pageX),function(){v&&S()&&v(N)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var p=l[h];a==="startX"&&p>=u||a==="endX"&&p<=c||this.setState(Fn({},a,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return U.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=$.Children.only(u);return f?U.cloneElement(f,{x:a,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,p=c.ariaLabel,v=c.data,g=c.startIndex,x=c.endIndex,b=Math.max(n,this.props.x),y=Yv(Yv({},Xe(this.props,!1)),{},{x:b,y:u,width:d,height:f}),N=p||"Min value: ".concat((i=v[g])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=v[x])===null||o===void 0?void 0:o.name);return U.createElement(_t,{tabIndex:0,role:"slider","aria-label":N,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),l.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,y))}},{key:"renderSlide",value:function(n,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return U.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,v={pointerEvents:"none",fill:u};return U.createElement(_t,{className:"recharts-brush-texts"},U.createElement(Co,Bp({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:o+l/2},v),this.getTextOfTick(a)),U.createElement(Co,Bp({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+p,y:o+l/2},v),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,v=h.endX,g=h.isTextActive,x=h.isSlideMoving,b=h.isTravellerMoving,y=h.isTravellerFocused;if(!a||!a.length||!Le(l)||!Le(c)||!Le(u)||!Le(d)||u<=0||d<=0)return null;var N=vt("recharts-brush",i),_=U.Children.count(o)===1,w=Hse("userSelect","none");return U.createElement(_t,{className:N,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(p,v),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(v,"endX"),(g||x||b||y||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return U.createElement(U.Fragment,null,U.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),U.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),U.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return U.isValidElement(n)?i=U.cloneElement(n,a):nt(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return Yv({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?Qse({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])}($.PureComponent);Fn(pc,"displayName","Brush");Fn(pc,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var eoe=Hb;function toe(e,t){var r;return eoe(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var roe=toe,noe=u_,aoe=qa,ioe=roe,soe=dn,ooe=Tc;function loe(e,t,r){var n=soe(e)?noe:ioe;return r&&ooe(e,t,r)&&(t=void 0),n(e,aoe(t))}var coe=loe;const uoe=Nt(coe);var pi=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r};function doe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var foe=doe,hoe=Hb;function poe(e,t){var r=!0;return hoe(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var moe=poe,goe=foe,voe=moe,yoe=qa,boe=dn,xoe=Tc;function woe(e,t,r){var n=boe(e)?goe:voe;return r&&xoe(e,t,r)&&(t=void 0),n(e,yoe(t))}var joe=woe;const dO=Nt(joe);var Noe=["x","y"];function Kd(e){"@babel/helpers - typeof";return Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kd(e)}function Ry(){return Ry=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ry.apply(this,arguments)}function ON(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Uu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ON(Object(r),!0).forEach(function(n){Soe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ON(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Soe(e,t,r){return t=_oe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _oe(e){var t=Aoe(e,"string");return Kd(t)=="symbol"?t:t+""}function Aoe(e,t){if(Kd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ooe(e,t){if(e==null)return{};var r=Poe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Poe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Eoe(e,t){var r=e.x,n=e.y,a=Ooe(e,Noe),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return Uu(Uu(Uu(Uu(Uu({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function PN(e){return U.createElement(iO,Ry({shapeType:"rectangle",propTransformer:Eoe,activeClassName:"recharts-active-bar"},e))}var koe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=typeof n=="number";return i?t(n,a):(i||Lo(),r)}},Coe=["value","background"],fO;function mc(e){"@babel/helpers - typeof";return mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mc(e)}function Toe(e,t){if(e==null)return{};var r=Loe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Loe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function qp(){return qp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qp.apply(this,arguments)}function EN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EN(Object(r),!0).forEach(function(n){vs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Moe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pO(n.key),n)}}function Doe(e,t,r){return t&&kN(e.prototype,t),r&&kN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function $oe(e,t,r){return t=Up(t),Ioe(e,hO()?Reflect.construct(t,r||[],Up(e).constructor):t.apply(e,r))}function Ioe(e,t){if(t&&(mc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Roe(e)}function Roe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hO=function(){return!!e})()}function Up(e){return Up=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Up(e)}function Foe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fy(e,t)}function Fy(e,t){return Fy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Fy(e,t)}function vs(e,t,r){return t=pO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pO(e){var t=Boe(e,"string");return mc(t)=="symbol"?t:t+""}function Boe(e,t){if(mc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var gf=function(e){function t(){var r;Moe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=$oe(this,t,[].concat(a)),vs(r,"state",{isAnimationFinished:!1}),vs(r,"id",Uc("recharts-bar-")),vs(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),vs(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return Foe(t,e),Doe(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=Xe(this.props,!1);return n&&n.map(function(f,h){var p=h===c,v=p?u:o,g=_r(_r(_r({},d),f),{},{isActive:p,option:v,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return U.createElement(_t,qp({className:"recharts-bar-rectangle"},ko(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),U.createElement(PN,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return U.createElement(vi,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var v=p.t,g=i.map(function(x,b){var y=h&&h[b];if(y){var N=Pn(y.x,x.x),_=Pn(y.y,x.y),w=Pn(y.width,x.width),S=Pn(y.height,x.height);return _r(_r({},x),{},{x:N(v),y:_(v),width:w(v),height:S(v)})}if(o==="horizontal"){var P=Pn(0,x.height),O=P(v);return _r(_r({},x),{},{y:x.y+x.height-O,height:O})}var T=Pn(0,x.width),I=T(v);return _r(_r({},x),{},{width:I})});return U.createElement(_t,null,n.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!Ao(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=Xe(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,h=Toe(u,Coe);if(!f)return null;var p=_r(_r(_r(_r(_r({},h),{},{fill:"#eee"},f),c),ko(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return U.createElement(PN,qp({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=oa(d,tg);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,p=function(x,b){var y=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:y,errorVal:Tr(x,b)}},v={clipPath:n?"url(#clipPath-".concat(a,")"):null};return U.createElement(_t,v,f.map(function(g){return U.cloneElement(g,{key:"error-bar-".concat(a,"-").concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,p=n.isAnimationActive,v=n.background,g=n.id;if(a||!i||!i.length)return null;var x=this.state.isAnimationFinished,b=vt("recharts-bar",o),y=l&&l.allowDataOverflow,N=c&&c.allowDataOverflow,_=y||N,w=pt(g)?this.id:g;return U.createElement(_t,{className:b},y||N?U.createElement("defs",null,U.createElement("clipPath",{id:"clipPath-".concat(w)},U.createElement("rect",{x:y?u:u-f/2,y:N?d:d-h/2,width:y?f:f*2,height:N?h:h*2}))):null,U.createElement(_t,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(w,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,w),(!p||x)&&Bi.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}($.PureComponent);fO=gf;vs(gf,"displayName","Bar");vs(gf,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Io.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});vs(gf,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=ure(n,r);if(!p)return null;var v=t.layout,g=r.type.defaultProps,x=g!==void 0?_r(_r({},g),r.props):r.props,b=x.dataKey,y=x.children,N=x.minPointSize,_=v==="horizontal"?o:i,w=u?_.scale.domain():null,S=vre({numericAxis:_}),P=oa(y,Wm),O=f.map(function(T,I){var k,C,L,R,V,F;u?k=dre(u[d+I],w):(k=Tr(T,b),Array.isArray(k)||(k=[S,k]));var B=koe(N,fO.defaultProps.minPointSize)(k[1],I);if(v==="horizontal"){var X,Y=[o.scale(k[0]),o.scale(k[1])],Z=Y[0],ae=Y[1];C=wj({axis:i,ticks:l,bandSize:a,offset:p.offset,entry:T,index:I}),L=(X=ae??Z)!==null&&X!==void 0?X:void 0,R=p.size;var D=Z-ae;if(V=Number.isNaN(D)?0:D,F={x:C,y:o.y,width:R,height:o.height},Math.abs(B)>0&&Math.abs(V)<Math.abs(B)){var W=bn(V||B)*(Math.abs(B)-Math.abs(V));L-=W,V+=W}}else{var Q=[i.scale(k[0]),i.scale(k[1])],ne=Q[0],se=Q[1];if(C=ne,L=wj({axis:o,ticks:c,bandSize:a,offset:p.offset,entry:T,index:I}),R=se-ne,V=p.size,F={x:i.x,y:L,width:i.width,height:V},Math.abs(B)>0&&Math.abs(R)<Math.abs(B)){var he=bn(R||B)*(Math.abs(B)-Math.abs(R));R+=he}}return _r(_r(_r({},T),{},{x:C,y:L,width:R,height:V,value:u?k:k[1],payload:T,background:F},P&&P[I]&&P[I].props),{},{tooltipPayload:[z3(r,T)],tooltipPosition:{x:C+R/2,y:L+V/2}})});return _r({data:O,layout:v},h)});function Xd(e){"@babel/helpers - typeof";return Xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xd(e)}function zoe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mO(n.key),n)}}function qoe(e,t,r){return t&&CN(e.prototype,t),r&&CN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function TN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ta(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TN(Object(r),!0).forEach(function(n){cg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cg(e,t,r){return t=mO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mO(e){var t=Uoe(e,"string");return Xd(t)=="symbol"?t:t+""}function Uoe(e,t){if(Xd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Woe=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!Bn(u,gf);return d.reduce(function(p,v){var g=r[v],x=g.orientation,b=g.domain,y=g.padding,N=y===void 0?{}:y,_=g.mirror,w=g.reversed,S="".concat(x).concat(_?"Mirror":""),P,O,T,I,k;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var C=b[1]-b[0],L=1/0,R=g.categoricalDomain.sort(PV);if(R.forEach(function(Q,ne){ne>0&&(L=Math.min((Q||0)-(R[ne-1]||0),L))}),Number.isFinite(L)){var V=L/C,F=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(P=V*F/2),g.padding==="no-gap"){var B=xn(t.barCategoryGap,V*F),X=V*F/2;P=X-B-(X-B)/F*B}}}a==="xAxis"?O=[n.left+(N.left||0)+(P||0),n.left+n.width-(N.right||0)-(P||0)]:a==="yAxis"?O=c==="horizontal"?[n.top+n.height-(N.bottom||0),n.top+(N.top||0)]:[n.top+(N.top||0)+(P||0),n.top+n.height-(N.bottom||0)-(P||0)]:O=g.range,w&&(O=[O[1],O[0]]);var Y=I3(g,i,h),Z=Y.scale,ae=Y.realScaleType;Z.domain(b).range(O),R3(Z);var D=F3(Z,Ta(Ta({},g),{},{realScaleType:ae}));a==="xAxis"?(k=x==="top"&&!_||x==="bottom"&&_,T=n.left,I=f[S]-k*g.height):a==="yAxis"&&(k=x==="left"&&!_||x==="right"&&_,T=f[S]-k*g.width,I=n.top);var W=Ta(Ta(Ta({},g),D),{},{realScaleType:ae,x:T,y:I,scale:Z,width:a==="xAxis"?n.width:g.width,height:a==="yAxis"?n.height:g.height});return W.bandSize=Pp(W,D),!g.hide&&a==="xAxis"?f[S]+=(k?-1:1)*W.height:g.hide||(f[S]+=(k?-1:1)*W.width),Ta(Ta({},p),{},cg({},v,W))},{})},gO=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(a,o),width:Math.abs(i-n),height:Math.abs(o-a)}},Hoe=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return gO({x:r,y:n},{x:a,y:i})},vO=function(){function e(t){zoe(this,e),this.scale=t}return qoe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();cg(vO,"EPS",1e-4);var qx=function(t){var r=Object.keys(t).reduce(function(n,a){return Ta(Ta({},n),{},cg({},a,vO.create(t[a])))},{});return Ta(Ta({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return q_(a,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return dO(a,function(i,o){return r[o].isInRange(i)})}})};function Goe(e){return(e%180+180)%180}var Voe=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Goe(a),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},Yoe=qa,Koe=Cc,Xoe=Rc;function Joe(e){return function(t,r,n){var a=Object(t);if(!Koe(t)){var i=Yoe(r);t=Xoe(t),r=function(l){return i(a[l],l,a)}}var o=e(t,r,n);return o>-1?a[i?t[o]:o]:void 0}}var Zoe=Joe,Qoe=Zoe,ele=T_,tle=Qoe(ele),rle=tle;const nle=Nt(rle);var ale=DI(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),Ux=$.createContext(void 0),Wx=$.createContext(void 0),yO=$.createContext(void 0),bO=$.createContext({}),xO=$.createContext(void 0),wO=$.createContext(0),jO=$.createContext(0),LN=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=ale(i);return U.createElement(Ux.Provider,{value:n},U.createElement(Wx.Provider,{value:a},U.createElement(bO.Provider,{value:i},U.createElement(yO.Provider,{value:d},U.createElement(xO.Provider,{value:o},U.createElement(wO.Provider,{value:u},U.createElement(jO.Provider,{value:c},l)))))))},ile=function(){return $.useContext(xO)},NO=function(t){var r=$.useContext(Ux);r==null&&Lo();var n=r[t];return n==null&&Lo(),n},sle=function(){var t=$.useContext(Ux);return ps(t)},ole=function(){var t=$.useContext(Wx),r=nle(t,function(n){return dO(n.domain,Number.isFinite)});return r||ps(t)},SO=function(t){var r=$.useContext(Wx);r==null&&Lo();var n=r[t];return n==null&&Lo(),n},lle=function(){var t=$.useContext(yO);return t},cle=function(){return $.useContext(bO)},Hx=function(){return $.useContext(jO)},Gx=function(){return $.useContext(wO)};function gc(e){"@babel/helpers - typeof";return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gc(e)}function ule(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dle(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,AO(n.key),n)}}function fle(e,t,r){return t&&dle(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hle(e,t,r){return t=Wp(t),ple(e,_O()?Reflect.construct(t,r||[],Wp(e).constructor):t.apply(e,r))}function ple(e,t){if(t&&(gc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mle(e)}function mle(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _O(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_O=function(){return!!e})()}function Wp(e){return Wp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wp(e)}function gle(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&By(e,t)}function By(e,t){return By=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},By(e,t)}function MN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function DN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MN(Object(r),!0).forEach(function(n){Vx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vx(e,t,r){return t=AO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AO(e){var t=vle(e,"string");return gc(t)=="symbol"?t:t+""}function vle(e,t){if(gc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function yle(e,t){return jle(e)||wle(e,t)||xle(e,t)||ble()}function ble(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xle(e,t){if(e){if(typeof e=="string")return $N(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $N(e,t)}}function $N(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wle(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function jle(e){if(Array.isArray(e))return e}function zy(){return zy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zy.apply(this,arguments)}var Nle=function(t,r){var n;return U.isValidElement(t)?n=U.cloneElement(t,r):nt(t)?n=t(r):n=U.createElement("line",zy({},r,{className:"recharts-reference-line-line"})),n},Sle=function(t,r,n,a,i,o,l,c,u){var d=i.x,f=i.y,h=i.width,p=i.height;if(n){var v=u.y,g=t.y.apply(v,{position:o});if(pi(u,"discard")&&!t.y.isInRange(g))return null;var x=[{x:d+h,y:g},{x:d,y:g}];return c==="left"?x.reverse():x}if(r){var b=u.x,y=t.x.apply(b,{position:o});if(pi(u,"discard")&&!t.x.isInRange(y))return null;var N=[{x:y,y:f+p},{x:y,y:f}];return l==="top"?N.reverse():N}if(a){var _=u.segment,w=_.map(function(S){return t.apply(S,{position:o})});return pi(u,"discard")&&uoe(w,function(S){return!t.isInRange(S)})?null:w}return null};function _le(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=ile(),d=NO(a),f=SO(i),h=lle();if(!u||!h)return null;Ra(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=qx({x:d.scale,y:f.scale}),v=Mr(t),g=Mr(r),x=n&&n.length===2,b=Sle(p,v,g,x,h,e.position,d.orientation,f.orientation,e);if(!b)return null;var y=yle(b,2),N=y[0],_=N.x,w=N.y,S=y[1],P=S.x,O=S.y,T=pi(e,"hidden")?"url(#".concat(u,")"):void 0,I=DN(DN({clipPath:T},Xe(e,!0)),{},{x1:_,y1:w,x2:P,y2:O});return U.createElement(_t,{className:vt("recharts-reference-line",l)},Nle(o,I),Wr.renderCallByParent(e,Hoe({x1:_,y1:w,x2:P,y2:O})))}var Yx=function(e){function t(){return ule(this,t),hle(this,t,arguments)}return gle(t,e),fle(t,[{key:"render",value:function(){return U.createElement(_le,this.props)}}])}(U.Component);Vx(Yx,"displayName","ReferenceLine");Vx(Yx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function qy(){return qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qy.apply(this,arguments)}function vc(e){"@babel/helpers - typeof";return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vc(e)}function IN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function RN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IN(Object(r),!0).forEach(function(n){ug(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ale(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ole(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,PO(n.key),n)}}function Ple(e,t,r){return t&&Ole(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ele(e,t,r){return t=Hp(t),kle(e,OO()?Reflect.construct(t,r||[],Hp(e).constructor):t.apply(e,r))}function kle(e,t){if(t&&(vc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cle(e)}function Cle(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OO=function(){return!!e})()}function Hp(e){return Hp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hp(e)}function Tle(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Uy(e,t)}function Uy(e,t){return Uy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Uy(e,t)}function ug(e,t,r){return t=PO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PO(e){var t=Lle(e,"string");return vc(t)=="symbol"?t:t+""}function Lle(e,t){if(vc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Mle=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,o=qx({x:a.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return pi(t,"discard")&&!o.isInRange(l)?null:l},dg=function(e){function t(){return Ale(this,t),Ele(this,t,arguments)}return Tle(t,e),Ple(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=Mr(a),d=Mr(i);if(Ra(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=Mle(this.props);if(!f)return null;var h=f.x,p=f.y,v=this.props,g=v.shape,x=v.className,b=pi(this.props,"hidden")?"url(#".concat(c,")"):void 0,y=RN(RN({clipPath:b},Xe(this.props,!0)),{},{cx:h,cy:p});return U.createElement(_t,{className:vt("recharts-reference-dot",x)},t.renderDot(g,y),Wr.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(U.Component);ug(dg,"displayName","ReferenceDot");ug(dg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});ug(dg,"renderDot",function(e,t){var r;return U.isValidElement(e)?r=U.cloneElement(e,t):nt(e)?r=e(t):r=U.createElement(rg,qy({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Wy(){return Wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wy.apply(this,arguments)}function yc(e){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yc(e)}function FN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function BN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FN(Object(r),!0).forEach(function(n){fg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $le(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kO(n.key),n)}}function Ile(e,t,r){return t&&$le(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Rle(e,t,r){return t=Gp(t),Fle(e,EO()?Reflect.construct(t,r||[],Gp(e).constructor):t.apply(e,r))}function Fle(e,t){if(t&&(yc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ble(e)}function Ble(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EO=function(){return!!e})()}function Gp(e){return Gp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gp(e)}function zle(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hy(e,t)}function Hy(e,t){return Hy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Hy(e,t)}function fg(e,t,r){return t=kO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kO(e){var t=qle(e,"string");return yc(t)=="symbol"?t:t+""}function qle(e,t){if(yc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ule=function(t,r,n,a,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=qx({x:d.scale,y:f.scale}),p={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},v={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return pi(i,"discard")&&(!h.isInRange(p)||!h.isInRange(v))?null:gO(p,v)},hg=function(e){function t(){return Dle(this,t),Rle(this,t,arguments)}return zle(t,e),Ile(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;Ra(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Mr(a),h=Mr(i),p=Mr(o),v=Mr(l),g=this.props.shape;if(!f&&!h&&!p&&!v&&!g)return null;var x=Ule(f,h,p,v,this.props);if(!x&&!g)return null;var b=pi(this.props,"hidden")?"url(#".concat(d,")"):void 0;return U.createElement(_t,{className:vt("recharts-reference-area",c)},t.renderRect(g,BN(BN({clipPath:b},Xe(this.props,!0)),x)),Wr.renderCallByParent(this.props,x))}}])}(U.Component);fg(hg,"displayName","ReferenceArea");fg(hg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});fg(hg,"renderRect",function(e,t){var r;return U.isValidElement(e)?r=U.cloneElement(e,t):nt(e)?r=e(t):r=U.createElement(zx,Wy({},t,{className:"recharts-reference-area-rect"})),r});function CO(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function Wle(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Voe(n,r)}function Hle(e,t,r){var n=r==="width",a=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function Vp(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function Gle(e,t){return CO(e,t+1)}function Vle(e,t,r,n,a){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var v=n==null?void 0:n[c];if(v===void 0)return{v:CO(n,u)};var g=c,x,b=function(){return x===void 0&&(x=r(v,g)),x},y=v.coordinate,N=c===0||Vp(e,y,b,d,l);N||(c=0,d=o,u+=1),N&&(d=y+e*(b()/2+a),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function Jd(e){"@babel/helpers - typeof";return Jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jd(e)}function zN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zN(Object(r),!0).forEach(function(n){Yle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yle(e,t,r){return t=Kle(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kle(e){var t=Xle(e,"string");return Jd(t)=="symbol"?t:t+""}function Xle(e,t){if(Jd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jle(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(h){var p=i[h],v,g=function(){return v===void 0&&(v=r(p,h)),v};if(h===o-1){var x=e*(p.coordinate+e*g()/2-c);i[h]=p=sn(sn({},p),{},{tickCoord:x>0?p.coordinate-x*e:p.coordinate})}else i[h]=p=sn(sn({},p),{},{tickCoord:p.coordinate});var b=Vp(e,p.tickCoord,g,l,c);b&&(c=p.tickCoord-e*(g()/2+a),i[h]=sn(sn({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function Zle(e,t,r,n,a,i){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=sn(sn({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=Vp(e,d.tickCoord,function(){return f},c,u);p&&(u=d.tickCoord-e*(f/2+a),o[l-1]=sn(sn({},d),{},{isShow:!0}))}for(var v=i?l-1:l,g=function(y){var N=o[y],_,w=function(){return _===void 0&&(_=r(N,y)),_};if(y===0){var S=e*(N.coordinate-e*w()/2-c);o[y]=N=sn(sn({},N),{},{tickCoord:S<0?N.coordinate-S*e:N.coordinate})}else o[y]=N=sn(sn({},N),{},{tickCoord:N.coordinate});var P=Vp(e,N.tickCoord,w,c,u);P&&(c=N.tickCoord+e*(w()/2+a),o[y]=sn(sn({},N),{},{isShow:!0}))},x=0;x<v;x++)g(x);return o}function Kx(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(Le(c)||Io.isSsr)return Gle(a,typeof c=="number"&&Le(c)?c:0);var h=[],p=l==="top"||l==="bottom"?"width":"height",v=d&&p==="width"?Xu(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},g=function(N,_){var w=nt(u)?u(N.value,_):N.value;return p==="width"?Wle(Xu(w,{fontSize:t,letterSpacing:r}),v,f):Xu(w,{fontSize:t,letterSpacing:r})[p]},x=a.length>=2?bn(a[1].coordinate-a[0].coordinate):1,b=Hle(i,x,p);return c==="equidistantPreserveStart"?Vle(x,b,g,a,o):(c==="preserveStart"||c==="preserveStartEnd"?h=Zle(x,b,g,a,o,c==="preserveStartEnd"):h=Jle(x,b,g,a,o),h.filter(function(y){return y.isShow}))}var Qle=["viewBox"],ece=["viewBox"],tce=["ticks"];function bc(e){"@babel/helpers - typeof";return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bc(e)}function Cl(){return Cl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cl.apply(this,arguments)}function qN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qN(Object(r),!0).forEach(function(n){Xx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kv(e,t){if(e==null)return{};var r=rce(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rce(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function nce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,LO(n.key),n)}}function ace(e,t,r){return t&&UN(e.prototype,t),r&&UN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ice(e,t,r){return t=Yp(t),sce(e,TO()?Reflect.construct(t,r||[],Yp(e).constructor):t.apply(e,r))}function sce(e,t){if(t&&(bc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oce(e)}function oce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TO=function(){return!!e})()}function Yp(e){return Yp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yp(e)}function lce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gy(e,t)}function Gy(e,t){return Gy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Gy(e,t)}function Xx(e,t,r){return t=LO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LO(e){var t=cce(e,"string");return bc(t)=="symbol"?t:t+""}function cce(e,t){if(bc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Vc=function(e){function t(r){var n;return nce(this,t),n=ice(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return lce(t,e),ace(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,o=Kv(n,Qle),l=this.props,c=l.viewBox,u=Kv(l,ece);return!Il(i,c)||!Il(o,u)||!Il(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,p,v,g,x,b,y,N=f?-1:1,_=n.tickSize||d,w=Le(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=v=n.coordinate,x=o+ +!f*c,g=x-N*_,y=g-N*h,b=w;break;case"left":g=x=n.coordinate,v=i+ +!f*l,p=v-N*_,b=p-N*h,y=w;break;case"right":g=x=n.coordinate,v=i+ +f*l,p=v+N*_,b=p+N*h,y=w;break;default:p=v=n.coordinate,x=o+ +f*c,g=x+N*_,y=g+N*h,b=w;break}return{line:{x1:p,y1:g,x2:v,y2:x},tick:{x:b,y}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=mn(mn(mn({},Xe(this.props,!1)),Xe(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=mn(mn({},f),{},{x1:a,y1:i+h*l,x2:a+o,y2:i+h*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);f=mn(mn({},f),{},{x1:a+p*o,y1:i,x2:a+p*o,y2:i+l})}return U.createElement("line",Cl({},f,{className:vt("recharts-cartesian-axis-line",Wn(d,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,p=Kx(mn(mn({},this.props),{},{ticks:n}),a,i),v=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),x=Xe(this.props,!1),b=Xe(d,!1),y=mn(mn({},x),{},{fill:"none"},Xe(c,!1)),N=p.map(function(_,w){var S=o.getTickLineCoord(_),P=S.line,O=S.tick,T=mn(mn(mn(mn({textAnchor:v,verticalAnchor:g},x),{},{stroke:"none",fill:u},b),O),{},{index:w,payload:_,visibleTicksCount:p.length,tickFormatter:f});return U.createElement(_t,Cl({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},ko(o.props,_,w)),c&&U.createElement("line",Cl({},y,P,{className:vt("recharts-cartesian-axis-tick-line",Wn(c,"className"))})),d&&t.renderTickItem(d,T,"".concat(nt(f)?f(_.value,w):_.value).concat(h||"")))});return U.createElement("g",{className:"recharts-cartesian-axis-ticks"},N)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,p=Kv(f,tce),v=h;return nt(c)&&(v=h&&h.length>0?c(this.props):c(p)),o<=0||l<=0||!v||!v.length?null:U.createElement(_t,{className:vt("recharts-cartesian-axis",u),ref:function(x){n.layerReference=x}},i&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Wr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return U.isValidElement(n)?o=U.cloneElement(n,a):nt(n)?o=n(a):o=U.createElement(Co,Cl({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}($.Component);Xx(Vc,"displayName","CartesianAxis");Xx(Vc,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var uce=["x1","y1","x2","y2","key"],dce=["offset"];function Mo(e){"@babel/helpers - typeof";return Mo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mo(e)}function WN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function on(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WN(Object(r),!0).forEach(function(n){fce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fce(e,t,r){return t=hce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hce(e){var t=pce(e,"string");return Mo(t)=="symbol"?t:t+""}function pce(e,t){if(Mo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function co(){return co=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},co.apply(this,arguments)}function HN(e,t){if(e==null)return{};var r=mce(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mce(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var gce=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return U.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function MO(e,t){var r;if(U.isValidElement(e))r=U.cloneElement(e,t);else if(nt(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,o=t.y2,l=t.key,c=HN(t,uce),u=Xe(c,!1);u.offset;var d=HN(u,dce);r=U.createElement("line",co({},d,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function vce(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=on(on({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return MO(a,u)});return U.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function yce(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=on(on({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return MO(a,u)});return U.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function bce(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var v=!d[p+1],g=v?a+o-h:d[p+1]-h;if(g<=0)return null;var x=p%t.length;return U.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:g,width:i,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return U.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function xce(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var v=!d[p+1],g=v?i+l-h:d[p+1]-h;if(g<=0)return null;var x=p%n.length;return U.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:g,height:c,stroke:"none",fill:n[x],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return U.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var wce=function(t,r){var n=t.xAxis,a=t.width,i=t.height,o=t.offset;return $3(Kx(on(on(on({},Vc.defaultProps),n),{},{ticks:Ii(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},jce=function(t,r){var n=t.yAxis,a=t.width,i=t.height,o=t.offset;return $3(Kx(on(on(on({},Vc.defaultProps),n),{},{ticks:Ii(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},jl={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function DO(e){var t,r,n,a,i,o,l=Hx(),c=Gx(),u=cle(),d=on(on({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:jl.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:jl.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:jl.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:jl.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:jl.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:jl.verticalFill,x:Le(e.x)?e.x:u.left,y:Le(e.y)?e.y:u.top,width:Le(e.width)?e.width:u.width,height:Le(e.height)?e.height:u.height}),f=d.x,h=d.y,p=d.width,v=d.height,g=d.syncWithTicks,x=d.horizontalValues,b=d.verticalValues,y=sle(),N=ole();if(!Le(p)||p<=0||!Le(v)||v<=0||!Le(f)||f!==+f||!Le(h)||h!==+h)return null;var _=d.verticalCoordinatesGenerator||wce,w=d.horizontalCoordinatesGenerator||jce,S=d.horizontalPoints,P=d.verticalPoints;if((!S||!S.length)&&nt(w)){var O=x&&x.length,T=w({yAxis:N?on(on({},N),{},{ticks:O?x:N.ticks}):void 0,width:l,height:c,offset:u},O?!0:g);Ra(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Mo(T),"]")),Array.isArray(T)&&(S=T)}if((!P||!P.length)&&nt(_)){var I=b&&b.length,k=_({xAxis:y?on(on({},y),{},{ticks:I?b:y.ticks}):void 0,width:l,height:c,offset:u},I?!0:g);Ra(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Mo(k),"]")),Array.isArray(k)&&(P=k)}return U.createElement("g",{className:"recharts-cartesian-grid"},U.createElement(gce,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),U.createElement(vce,co({},d,{offset:u,horizontalPoints:S,xAxis:y,yAxis:N})),U.createElement(yce,co({},d,{offset:u,verticalPoints:P,xAxis:y,yAxis:N})),U.createElement(bce,co({},d,{horizontalPoints:S})),U.createElement(xce,co({},d,{verticalPoints:P})))}DO.displayName="CartesianGrid";var Nce=["layout","type","stroke","connectNulls","isRange","ref"],Sce=["key"],$O;function xc(e){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xc(e)}function IO(e,t){if(e==null)return{};var r=_ce(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _ce(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function uo(){return uo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uo.apply(this,arguments)}function GN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GN(Object(r),!0).forEach(function(n){li(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ace(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,FO(n.key),n)}}function Oce(e,t,r){return t&&VN(e.prototype,t),r&&VN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pce(e,t,r){return t=Kp(t),Ece(e,RO()?Reflect.construct(t,r||[],Kp(e).constructor):t.apply(e,r))}function Ece(e,t){if(t&&(xc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kce(e)}function kce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RO=function(){return!!e})()}function Kp(e){return Kp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kp(e)}function Cce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vy(e,t)}function Vy(e,t){return Vy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Vy(e,t)}function li(e,t,r){return t=FO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FO(e){var t=Tce(e,"string");return xc(t)=="symbol"?t:t+""}function Tce(e,t){if(xc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ts=function(e){function t(){var r;Ace(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Pce(this,t,[].concat(a)),li(r,"state",{isAnimationFinished:!0}),li(r,"id",Uc("recharts-area-")),li(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),nt(o)&&o()}),li(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),nt(o)&&o()}),r}return Cce(t,e),Oce(t,[{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,h=Xe(this.props,!1),p=Xe(u,!0),v=d.map(function(x,b){var y=fs(fs(fs({key:"dot-".concat(b),r:3},h),p),{},{index:b,cx:x.x,cy:x.y,dataKey:f,value:x.value,payload:x.payload,points:d});return t.renderDotItem(u,y)}),g={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return U.createElement(_t,uo({className:"recharts-area-dots"},g),v)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].x,u=o[o.length-1].x,d=n*Math.abs(c-u),f=gs(o.map(function(h){return h.y||0}));return Le(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(gs(i.map(function(h){return h.y||0})),f)),Le(f)?U.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].y,u=o[o.length-1].y,d=n*Math.abs(c-u),f=gs(o.map(function(h){return h.x||0}));return Le(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(gs(i.map(function(h){return h.x||0})),f)),Le(f)?U.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,i,o){var l=this.props,c=l.layout,u=l.type,d=l.stroke,f=l.connectNulls,h=l.isRange;l.ref;var p=IO(l,Nce);return U.createElement(_t,{clipPath:i?"url(#clipPath-".concat(o,")"):null},U.createElement(Bl,uo({},Xe(p,!0),{points:n,connectNulls:f,type:u,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&U.createElement(Bl,uo({},Xe(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:n})),d!=="none"&&h&&U.createElement(Bl,uo({},Xe(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var i=this,o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,p=o.animationId,v=this.state,g=v.prevPoints,x=v.prevBaseLine;return U.createElement(vi,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var y=b.t;if(g){var N=g.length/l.length,_=l.map(function(O,T){var I=Math.floor(T*N);if(g[I]){var k=g[I],C=Pn(k.x,O.x),L=Pn(k.y,O.y);return fs(fs({},O),{},{x:C(y),y:L(y)})}return O}),w;if(Le(c)&&typeof c=="number"){var S=Pn(x,c);w=S(y)}else if(pt(c)||qc(c)){var P=Pn(x,0);w=P(y)}else w=c.map(function(O,T){var I=Math.floor(T*N);if(x[I]){var k=x[I],C=Pn(k.x,O.x),L=Pn(k.y,O.y);return fs(fs({},O),{},{x:C(y),y:L(y)})}return O});return i.renderAreaStatically(_,w,n,a)}return U.createElement(_t,null,U.createElement("defs",null,U.createElement("clipPath",{id:"animationClipPath-".concat(a)},i.renderClipRect(y))),U.createElement(_t,{clipPath:"url(#animationClipPath-".concat(a,")")},i.renderAreaStatically(l,c,n,a)))})}},{key:"renderArea",value:function(n,a){var i=this.props,o=i.points,l=i.baseLine,c=i.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return c&&o&&o.length&&(!d&&h>0||!Ao(d,o)||!Ao(f,l))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(o,l,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,u=a.top,d=a.left,f=a.xAxis,h=a.yAxis,p=a.width,v=a.height,g=a.isAnimationActive,x=a.id;if(i||!l||!l.length)return null;var b=this.state.isAnimationFinished,y=l.length===1,N=vt("recharts-area",c),_=f&&f.allowDataOverflow,w=h&&h.allowDataOverflow,S=_||w,P=pt(x)?this.id:x,O=(n=Xe(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},T=O.r,I=T===void 0?3:T,k=O.strokeWidth,C=k===void 0?2:k,L=IV(o)?o:{},R=L.clipDot,V=R===void 0?!0:R,F=I*2+C;return U.createElement(_t,{className:N},_||w?U.createElement("defs",null,U.createElement("clipPath",{id:"clipPath-".concat(P)},U.createElement("rect",{x:_?d:d-p/2,y:w?u:u-v/2,width:_?p:p*2,height:w?v:v*2})),!V&&U.createElement("clipPath",{id:"clipPath-dots-".concat(P)},U.createElement("rect",{x:d-F/2,y:u-F/2,width:p+F,height:v+F}))):null,y?null:this.renderArea(S,P),(o||y)&&this.renderDots(S,V,P),(!g||b)&&Bi.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}($.PureComponent);$O=Ts;li(Ts,"displayName","Area");li(Ts,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Io.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});li(Ts,"getBaseValue",function(e,t,r,n){var a=e.layout,i=e.baseValue,o=t.props.baseValue,l=o??i;if(Le(l)&&typeof l=="number")return l;var c=a==="horizontal"?n:r,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return l==="dataMin"?f:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});li(Ts,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,a=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=t.layout,v=u&&u.length,g=$O.getBaseValue(t,r,n,a),x=p==="horizontal",b=!1,y=f.map(function(_,w){var S;v?S=u[d+w]:(S=Tr(_,c),Array.isArray(S)?b=!0:S=[g,S]);var P=S[1]==null||v&&Tr(_,c)==null;return x?{x:xj({axis:n,ticks:i,bandSize:l,entry:_,index:w}),y:P?null:a.scale(S[1]),value:S,payload:_}:{x:P?null:n.scale(S[1]),y:xj({axis:a,ticks:o,bandSize:l,entry:_,index:w}),value:S,payload:_}}),N;return v||b?N=y.map(function(_){var w=Array.isArray(_.value)?_.value[0]:null;return x?{x:_.x,y:w!=null&&_.y!=null?a.scale(w):null}:{x:w!=null?n.scale(w):null,y:_.y}}):N=x?a.scale(g):n.scale(g),fs({points:y,baseLine:N,layout:p,isRange:b},h)});li(Ts,"renderDotItem",function(e,t){var r;if(U.isValidElement(e))r=U.cloneElement(e,t);else if(nt(e))r=e(t);else{var n=vt("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,i=IO(t,Sce);r=U.createElement(rg,uo({},i,{key:a,className:n}))}return r});function wc(e){"@babel/helpers - typeof";return wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wc(e)}function Lce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mce(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qO(n.key),n)}}function Dce(e,t,r){return t&&Mce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $ce(e,t,r){return t=Xp(t),Ice(e,BO()?Reflect.construct(t,r||[],Xp(e).constructor):t.apply(e,r))}function Ice(e,t){if(t&&(wc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rce(e)}function Rce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BO=function(){return!!e})()}function Xp(e){return Xp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xp(e)}function Fce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yy(e,t)}function Yy(e,t){return Yy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Yy(e,t)}function zO(e,t,r){return t=qO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qO(e){var t=Bce(e,"string");return wc(t)=="symbol"?t:t+""}function Bce(e,t){if(wc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Ky(){return Ky=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ky.apply(this,arguments)}function zce(e){var t=e.xAxisId,r=Hx(),n=Gx(),a=NO(t);return a==null?null:U.createElement(Vc,Ky({},a,{className:vt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Ii(o,!0)}}))}var pg=function(e){function t(){return Lce(this,t),$ce(this,t,arguments)}return Fce(t,e),Dce(t,[{key:"render",value:function(){return U.createElement(zce,this.props)}}])}(U.Component);zO(pg,"displayName","XAxis");zO(pg,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function jc(e){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jc(e)}function qce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uce(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,HO(n.key),n)}}function Wce(e,t,r){return t&&Uce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hce(e,t,r){return t=Jp(t),Gce(e,UO()?Reflect.construct(t,r||[],Jp(e).constructor):t.apply(e,r))}function Gce(e,t){if(t&&(jc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vce(e)}function Vce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UO=function(){return!!e})()}function Jp(e){return Jp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jp(e)}function Yce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xy(e,t)}function Xy(e,t){return Xy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Xy(e,t)}function WO(e,t,r){return t=HO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HO(e){var t=Kce(e,"string");return jc(t)=="symbol"?t:t+""}function Kce(e,t){if(jc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Jy(){return Jy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jy.apply(this,arguments)}var Xce=function(t){var r=t.yAxisId,n=Hx(),a=Gx(),i=SO(r);return i==null?null:U.createElement(Vc,Jy({},i,{className:vt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return Ii(l,!0)}}))},mg=function(e){function t(){return qce(this,t),Hce(this,t,arguments)}return Yce(t,e),Wce(t,[{key:"render",value:function(){return U.createElement(Xce,this.props)}}])}(U.Component);WO(mg,"displayName","YAxis");WO(mg,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function YN(e){return eue(e)||Qce(e)||Zce(e)||Jce()}function Jce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zce(e,t){if(e){if(typeof e=="string")return Zy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zy(e,t)}}function Qce(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function eue(e){if(Array.isArray(e))return Zy(e)}function Zy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Qy=function(t,r,n,a,i){var o=oa(t,Yx),l=oa(t,dg),c=[].concat(YN(o),YN(l)),u=oa(t,hg),d="".concat(a,"Id"),f=a[0],h=r;if(c.length&&(h=c.reduce(function(g,x){if(x.props[d]===n&&pi(x.props,"extendDomain")&&Le(x.props[f])){var b=x.props[f];return[Math.min(g[0],b),Math.max(g[1],b)]}return g},h)),u.length){var p="".concat(f,"1"),v="".concat(f,"2");h=u.reduce(function(g,x){if(x.props[d]===n&&pi(x.props,"extendDomain")&&Le(x.props[p])&&Le(x.props[v])){var b=x.props[p],y=x.props[v];return[Math.min(g[0],b,y),Math.max(g[1],b,y)]}return g},h)}return i&&i.length&&(h=i.reduce(function(g,x){return Le(x)?[Math.min(g[0],x),Math.max(g[1],x)]:g},h)),h},GO={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new a(d,f||c,h),v=r?r+u:u;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],p]:c._events[v].push(p):(c._events[v]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,v=new Array(p);h<p;h++)v[h]=f[h].fn;return v},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,p,v){var g=r?r+u:u;if(!this._events[g])return!1;var x=this._events[g],b=arguments.length,y,N;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),b){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,f),!0;case 4:return x.fn.call(x.context,d,f,h),!0;case 5:return x.fn.call(x.context,d,f,h,p),!0;case 6:return x.fn.call(x.context,d,f,h,p,v),!0}for(N=1,y=new Array(b-1);N<b;N++)y[N-1]=arguments[N];x.fn.apply(x.context,y)}else{var _=x.length,w;for(N=0;N<_;N++)switch(x[N].once&&this.removeListener(u,x[N].fn,void 0,!0),b){case 1:x[N].fn.call(x[N].context);break;case 2:x[N].fn.call(x[N].context,d);break;case 3:x[N].fn.call(x[N].context,d,f);break;case 4:x[N].fn.call(x[N].context,d,f,h);break;default:if(!y)for(w=1,y=new Array(b-1);w<b;w++)y[w-1]=arguments[w];x[N].fn.apply(x[N].context,y)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return o(this,p),this;var v=this._events[p];if(v.fn)v.fn===d&&(!h||v.once)&&(!f||v.context===f)&&o(this,p);else{for(var g=0,x=[],b=v.length;g<b;g++)(v[g].fn!==d||h&&!v[g].once||f&&v[g].context!==f)&&x.push(v[g]);x.length?this._events[p]=x.length===1?x[0]:x:o(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(GO);var tue=GO.exports;const rue=Nt(tue);var Xv=new rue,Jv="recharts.syncMouseEvents";function Zd(e){"@babel/helpers - typeof";return Zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zd(e)}function nue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aue(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,VO(n.key),n)}}function iue(e,t,r){return t&&aue(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zv(e,t,r){return t=VO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VO(e){var t=sue(e,"string");return Zd(t)=="symbol"?t:t+""}function sue(e,t){if(Zd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var oue=function(){function e(){nue(this,e),Zv(this,"activeIndex",0),Zv(this,"coordinateList",[]),Zv(this,"layout","horizontal")}return iue(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function lue(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&Le(n)&&Le(a))return!0}return!1}function cue(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function YO(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,o=Xt(t,r,n,a),l=Xt(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function uue(e,t,r){var n,a,i,o;if(e==="horizontal")n=t.x,i=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=Xt(l,c,u,f),p=Xt(l,c,d,f);n=h.x,a=h.y,i=p.x,o=p.y}else return YO(t);return[{x:n,y:a},{x:i,y:o}]}function Qd(e){"@babel/helpers - typeof";return Qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qd(e)}function KN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Oh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KN(Object(r),!0).forEach(function(n){due(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function due(e,t,r){return t=fue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fue(e){var t=hue(e,"string");return Qd(t)=="symbol"?t:t+""}function hue(e,t){if(Qd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pue(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!o||h!=="ScatterChart"&&a!=="axis")return null;var v,g=Bl;if(h==="ScatterChart")v=o,g=Aie;else if(h==="BarChart")v=cue(f,o,c,d),g=zx;else if(f==="radial"){var x=YO(o),b=x.cx,y=x.cy,N=x.radius,_=x.startAngle,w=x.endAngle;v={cx:b,cy:y,startAngle:_,endAngle:w,innerRadius:N,outerRadius:N},g=V3}else v={points:uue(f,o,c)},g=Bl;var S=Oh(Oh(Oh(Oh({stroke:"#ccc",pointerEvents:"none"},c),v),Xe(p,!1)),{},{payload:l,payloadIndex:u,className:vt("recharts-tooltip-cursor",p.className)});return $.isValidElement(p)?$.cloneElement(p,S):$.createElement(g,S)}var mue=["item"],gue=["children","className","width","height","style","compact","title","desc"];function Nc(e){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nc(e)}function Tl(){return Tl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tl.apply(this,arguments)}function XN(e,t){return bue(e)||yue(e,t)||XO(e,t)||vue()}function vue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yue(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function bue(e){if(Array.isArray(e))return e}function JN(e,t){if(e==null)return{};var r=xue(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xue(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function wue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jue(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JO(n.key),n)}}function Nue(e,t,r){return t&&jue(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Sue(e,t,r){return t=Zp(t),_ue(e,KO()?Reflect.construct(t,r||[],Zp(e).constructor):t.apply(e,r))}function _ue(e,t){if(t&&(Nc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Aue(e)}function Aue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KO=function(){return!!e})()}function Zp(e){return Zp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zp(e)}function Oue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eb(e,t)}function eb(e,t){return eb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},eb(e,t)}function Sc(e){return kue(e)||Eue(e)||XO(e)||Pue()}function Pue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XO(e,t){if(e){if(typeof e=="string")return tb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tb(e,t)}}function Eue(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function kue(e){if(Array.isArray(e))return tb(e)}function tb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ZN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ne(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZN(Object(r),!0).forEach(function(n){et(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function et(e,t,r){return t=JO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JO(e){var t=Cue(e,"string");return Nc(t)=="symbol"?t:t+""}function Cue(e,t){if(Nc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tue={xAxis:["bottom","top"],yAxis:["left","right"]},Lue={width:"100%",height:"100%"},ZO={x:0,y:0};function Ph(e){return e}var Mue=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},Due=function(t,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=a.radius;return Ne(Ne(Ne({},a),Xt(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=a.angle;return Ne(Ne(Ne({},a),Xt(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return ZO},gg=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Sc(l),Sc(u)):l},[]);return o.length>0?o:t&&t.length&&Le(a)&&Le(i)?t.slice(a,i+1):[]};function QO(e){return e==="number"?[0,"auto"]:void 0}var rb=function(t,r,n,a){var i=t.graphicalItems,o=t.tooltipAxis,l=gg(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?l:f;h=np(p,o.dataKey,a)}else h=f&&f[n]||l[n];return h?[].concat(Sc(c),[z3(u,h)]):c},[])},QN=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},o=Mue(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=are(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=rb(t,r,d,f),p=Due(n,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},$ue=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,p=D3(d,i);return n.reduce(function(v,g){var x,b=g.type.defaultProps!==void 0?Ne(Ne({},g.type.defaultProps),g.props):g.props,y=b.type,N=b.dataKey,_=b.allowDataOverflow,w=b.allowDuplicatedCategory,S=b.scale,P=b.ticks,O=b.includeHidden,T=b[o];if(v[T])return v;var I=gg(t.data,{graphicalItems:a.filter(function(D){var W,Q=o in D.props?D.props[o]:(W=D.type.defaultProps)===null||W===void 0?void 0:W[o];return Q===T}),dataStartIndex:c,dataEndIndex:u}),k=I.length,C,L,R;lue(b.domain,_,y)&&(C=vy(b.domain,null,_),p&&(y==="number"||S!=="auto")&&(R=Zu(I,N,"category")));var V=QO(y);if(!C||C.length===0){var F,B=(F=b.domain)!==null&&F!==void 0?F:V;if(N){if(C=Zu(I,N,y),y==="category"&&p){var X=OV(C);w&&X?(L=C,C=md(0,k)):w||(C=Sj(B,C,g).reduce(function(D,W){return D.indexOf(W)>=0?D:[].concat(Sc(D),[W])},[]))}else if(y==="category")w?C=C.filter(function(D){return D!==""&&!pt(D)}):C=Sj(B,C,g).reduce(function(D,W){return D.indexOf(W)>=0||W===""||pt(W)?D:[].concat(Sc(D),[W])},[]);else if(y==="number"){var Y=cre(I,a.filter(function(D){var W,Q,ne=o in D.props?D.props[o]:(W=D.type.defaultProps)===null||W===void 0?void 0:W[o],se="hide"in D.props?D.props.hide:(Q=D.type.defaultProps)===null||Q===void 0?void 0:Q.hide;return ne===T&&(O||!se)}),N,i,d);Y&&(C=Y)}p&&(y==="number"||S!=="auto")&&(R=Zu(I,N,"category"))}else p?C=md(0,k):l&&l[T]&&l[T].hasStack&&y==="number"?C=h==="expand"?[0,1]:B3(l[T].stackGroups,c,u):C=M3(I,a.filter(function(D){var W=o in D.props?D.props[o]:D.type.defaultProps[o],Q="hide"in D.props?D.props.hide:D.type.defaultProps.hide;return W===T&&(O||!Q)}),y,d,!0);if(y==="number")C=Qy(f,C,T,i,P),B&&(C=vy(B,C,_));else if(y==="category"&&B){var Z=B,ae=C.every(function(D){return Z.indexOf(D)>=0});ae&&(C=Z)}}return Ne(Ne({},v),{},et({},T,Ne(Ne({},b),{},{axisType:i,domain:C,categoricalDomain:R,duplicateDomain:L,originalDomain:(x=b.domain)!==null&&x!==void 0?x:V,isCategorical:p,layout:d})))},{})},Iue=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=gg(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=h.length,v=D3(d,i),g=-1;return n.reduce(function(x,b){var y=b.type.defaultProps!==void 0?Ne(Ne({},b.type.defaultProps),b.props):b.props,N=y[o],_=QO("number");if(!x[N]){g++;var w;return v?w=md(0,p):l&&l[N]&&l[N].hasStack?(w=B3(l[N].stackGroups,c,u),w=Qy(f,w,N,i)):(w=vy(_,M3(h,n.filter(function(S){var P,O,T=o in S.props?S.props[o]:(P=S.type.defaultProps)===null||P===void 0?void 0:P[o],I="hide"in S.props?S.props.hide:(O=S.type.defaultProps)===null||O===void 0?void 0:O.hide;return T===N&&!I}),"number",d),a.defaultProps.allowDataOverflow),w=Qy(f,w,N,i)),Ne(Ne({},x),{},et({},N,Ne(Ne({axisType:i},a.defaultProps),{},{hide:!0,orientation:Wn(Tue,"".concat(i,".").concat(g%2),null),domain:w,originalDomain:_,isCategorical:v,layout:d})))}return x},{})},Rue=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=oa(d,i),p={};return h&&h.length?p=$ue(t,{axes:h,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(p=Iue(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},Fue=function(t){var r=ps(t),n=Ii(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:gm(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Pp(r,n)}},eS=function(t){var r=t.children,n=t.defaultShowTooltip,a=Bn(r,pc),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},Bue=function(t){return!t||!t.length?!1:t.some(function(r){var n=Ri(r&&r.type);return n&&n.indexOf("Bar")>=0})},tS=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},zue=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},p=Bn(f,pc),v=Bn(f,mo),g=Object.keys(c).reduce(function(w,S){var P=c[S],O=P.orientation;return!P.mirror&&!P.hide?Ne(Ne({},w),{},et({},O,w[O]+P.width)):w},{left:h.left||0,right:h.right||0}),x=Object.keys(o).reduce(function(w,S){var P=o[S],O=P.orientation;return!P.mirror&&!P.hide?Ne(Ne({},w),{},et({},O,Wn(w,"".concat(O))+P.height)):w},{top:h.top||0,bottom:h.bottom||0}),b=Ne(Ne({},x),g),y=b.bottom;p&&(b.bottom+=p.props.height||pc.defaultProps.height),v&&r&&(b=ore(b,a,n,r));var N=u-b.left-b.right,_=d-b.top-b.bottom;return Ne(Ne({brushBottom:y},b),{},{width:Math.max(N,0),height:Math.max(_,0)})},que=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},eP=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(b,y){var N=y.graphicalItems,_=y.stackGroups,w=y.offset,S=y.updateId,P=y.dataStartIndex,O=y.dataEndIndex,T=b.barSize,I=b.layout,k=b.barGap,C=b.barCategoryGap,L=b.maxBarSize,R=tS(I),V=R.numericAxisName,F=R.cateAxisName,B=Bue(N),X=[];return N.forEach(function(Y,Z){var ae=gg(b.data,{graphicalItems:[Y],dataStartIndex:P,dataEndIndex:O}),D=Y.type.defaultProps!==void 0?Ne(Ne({},Y.type.defaultProps),Y.props):Y.props,W=D.dataKey,Q=D.maxBarSize,ne=D["".concat(V,"Id")],se=D["".concat(F,"Id")],he={},de=c.reduce(function($e,Me){var Ve=y["".concat(Me.axisType,"Map")],Ze=D["".concat(Me.axisType,"Id")];Ve&&Ve[Ze]||Me.axisType==="zAxis"||Lo();var it=Ve[Ze];return Ne(Ne({},$e),{},et(et({},Me.axisType,it),"".concat(Me.axisType,"Ticks"),Ii(it)))},he),ie=de[F],xe=de["".concat(F,"Ticks")],be=_&&_[ne]&&_[ne].hasStack&&yre(Y,_[ne].stackGroups),pe=Ri(Y.type).indexOf("Bar")>=0,Ee=Pp(ie,xe),De=[],ye=B&&ire({barSize:T,stackGroups:_,totalSize:que(de,F)});if(pe){var re,Ye,Be=pt(Q)?L:Q,ke=(re=(Ye=Pp(ie,xe,!0))!==null&&Ye!==void 0?Ye:Be)!==null&&re!==void 0?re:0;De=sre({barGap:k,barCategoryGap:C,bandSize:ke!==Ee?ke:Ee,sizeList:ye[se],maxBarSize:Be}),ke!==Ee&&(De=De.map(function($e){return Ne(Ne({},$e),{},{position:Ne(Ne({},$e.position),{},{offset:$e.position.offset-ke/2})})}))}var Te=Y&&Y.type&&Y.type.getComposedData;Te&&X.push({props:Ne(Ne({},Te(Ne(Ne({},de),{},{displayedData:ae,props:b,dataKey:W,item:Y,bandSize:Ee,barPosition:De,offset:w,stackedData:be,layout:I,dataStartIndex:P,dataEndIndex:O}))),{},et(et(et({key:Y.key||"item-".concat(Z)},V,de[V]),F,de[F]),"animationId",S)),childIndex:BV(Y,b.children),item:Y})}),X},p=function(b,y){var N=b.props,_=b.dataStartIndex,w=b.dataEndIndex,S=b.updateId;if(!Ww({props:N}))return null;var P=N.children,O=N.layout,T=N.stackOffset,I=N.data,k=N.reverseStackOrder,C=tS(O),L=C.numericAxisName,R=C.cateAxisName,V=oa(P,n),F=gre(I,V,"".concat(L,"Id"),"".concat(R,"Id"),T,k),B=c.reduce(function(D,W){var Q="".concat(W.axisType,"Map");return Ne(Ne({},D),{},et({},Q,Rue(N,Ne(Ne({},W),{},{graphicalItems:V,stackGroups:W.axisType===L&&F,dataStartIndex:_,dataEndIndex:w}))))},{}),X=zue(Ne(Ne({},B),{},{props:N,graphicalItems:V}),y==null?void 0:y.legendBBox);Object.keys(B).forEach(function(D){B[D]=d(N,B[D],X,D.replace("Map",""),r)});var Y=B["".concat(R,"Map")],Z=Fue(Y),ae=h(N,Ne(Ne({},B),{},{dataStartIndex:_,dataEndIndex:w,updateId:S,graphicalItems:V,stackGroups:F,offset:X}));return Ne(Ne({formattedGraphicalItems:ae,graphicalItems:V,offset:X,stackGroups:F},Z),B)},v=function(x){function b(y){var N,_,w;return wue(this,b),w=Sue(this,b,[y]),et(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),et(w,"accessibilityManager",new oue),et(w,"handleLegendBBoxUpdate",function(S){if(S){var P=w.state,O=P.dataStartIndex,T=P.dataEndIndex,I=P.updateId;w.setState(Ne({legendBBox:S},p({props:w.props,dataStartIndex:O,dataEndIndex:T,updateId:I},Ne(Ne({},w.state),{},{legendBBox:S}))))}}),et(w,"handleReceiveSyncEvent",function(S,P,O){if(w.props.syncId===S){if(O===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(P)}}),et(w,"handleBrushChange",function(S){var P=S.startIndex,O=S.endIndex;if(P!==w.state.dataStartIndex||O!==w.state.dataEndIndex){var T=w.state.updateId;w.setState(function(){return Ne({dataStartIndex:P,dataEndIndex:O},p({props:w.props,dataStartIndex:P,dataEndIndex:O,updateId:T},w.state))}),w.triggerSyncEvent({dataStartIndex:P,dataEndIndex:O})}}),et(w,"handleMouseEnter",function(S){var P=w.getMouseInfo(S);if(P){var O=Ne(Ne({},P),{},{isTooltipActive:!0});w.setState(O),w.triggerSyncEvent(O);var T=w.props.onMouseEnter;nt(T)&&T(O,S)}}),et(w,"triggeredAfterMouseMove",function(S){var P=w.getMouseInfo(S),O=P?Ne(Ne({},P),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(O),w.triggerSyncEvent(O);var T=w.props.onMouseMove;nt(T)&&T(O,S)}),et(w,"handleItemMouseEnter",function(S){w.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),et(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),et(w,"handleMouseMove",function(S){S.persist(),w.throttleTriggeredAfterMouseMove(S)}),et(w,"handleMouseLeave",function(S){w.throttleTriggeredAfterMouseMove.cancel();var P={isTooltipActive:!1};w.setState(P),w.triggerSyncEvent(P);var O=w.props.onMouseLeave;nt(O)&&O(P,S)}),et(w,"handleOuterEvent",function(S){var P=FV(S),O=Wn(w.props,"".concat(P));if(P&&nt(O)){var T,I;/.*touch.*/i.test(P)?I=w.getMouseInfo(S.changedTouches[0]):I=w.getMouseInfo(S),O((T=I)!==null&&T!==void 0?T:{},S)}}),et(w,"handleClick",function(S){var P=w.getMouseInfo(S);if(P){var O=Ne(Ne({},P),{},{isTooltipActive:!0});w.setState(O),w.triggerSyncEvent(O);var T=w.props.onClick;nt(T)&&T(O,S)}}),et(w,"handleMouseDown",function(S){var P=w.props.onMouseDown;if(nt(P)){var O=w.getMouseInfo(S);P(O,S)}}),et(w,"handleMouseUp",function(S){var P=w.props.onMouseUp;if(nt(P)){var O=w.getMouseInfo(S);P(O,S)}}),et(w,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),et(w,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.handleMouseDown(S.changedTouches[0])}),et(w,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.handleMouseUp(S.changedTouches[0])}),et(w,"handleDoubleClick",function(S){var P=w.props.onDoubleClick;if(nt(P)){var O=w.getMouseInfo(S);P(O,S)}}),et(w,"handleContextMenu",function(S){var P=w.props.onContextMenu;if(nt(P)){var O=w.getMouseInfo(S);P(O,S)}}),et(w,"triggerSyncEvent",function(S){w.props.syncId!==void 0&&Xv.emit(Jv,w.props.syncId,S,w.eventEmitterSymbol)}),et(w,"applySyncEvent",function(S){var P=w.props,O=P.layout,T=P.syncMethod,I=w.state.updateId,k=S.dataStartIndex,C=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)w.setState(Ne({dataStartIndex:k,dataEndIndex:C},p({props:w.props,dataStartIndex:k,dataEndIndex:C,updateId:I},w.state)));else if(S.activeTooltipIndex!==void 0){var L=S.chartX,R=S.chartY,V=S.activeTooltipIndex,F=w.state,B=F.offset,X=F.tooltipTicks;if(!B)return;if(typeof T=="function")V=T(X,S);else if(T==="value"){V=-1;for(var Y=0;Y<X.length;Y++)if(X[Y].value===S.activeLabel){V=Y;break}}var Z=Ne(Ne({},B),{},{x:B.left,y:B.top}),ae=Math.min(L,Z.x+Z.width),D=Math.min(R,Z.y+Z.height),W=X[V]&&X[V].value,Q=rb(w.state,w.props.data,V),ne=X[V]?{x:O==="horizontal"?X[V].coordinate:ae,y:O==="horizontal"?D:X[V].coordinate}:ZO;w.setState(Ne(Ne({},S),{},{activeLabel:W,activeCoordinate:ne,activePayload:Q,activeTooltipIndex:V}))}else w.setState(S)}),et(w,"renderCursor",function(S){var P,O=w.state,T=O.isTooltipActive,I=O.activeCoordinate,k=O.activePayload,C=O.offset,L=O.activeTooltipIndex,R=O.tooltipAxisBandSize,V=w.getTooltipEventType(),F=(P=S.props.active)!==null&&P!==void 0?P:T,B=w.props.layout,X=S.key||"_recharts-cursor";return U.createElement(pue,{key:X,activeCoordinate:I,activePayload:k,activeTooltipIndex:L,chartName:r,element:S,isActive:F,layout:B,offset:C,tooltipAxisBandSize:R,tooltipEventType:V})}),et(w,"renderPolarAxis",function(S,P,O){var T=Wn(S,"type.axisType"),I=Wn(w.state,"".concat(T,"Map")),k=S.type.defaultProps,C=k!==void 0?Ne(Ne({},k),S.props):S.props,L=I&&I[C["".concat(T,"Id")]];return $.cloneElement(S,Ne(Ne({},L),{},{className:vt(T,L.className),key:S.key||"".concat(P,"-").concat(O),ticks:Ii(L,!0)}))}),et(w,"renderPolarGrid",function(S){var P=S.props,O=P.radialLines,T=P.polarAngles,I=P.polarRadius,k=w.state,C=k.radiusAxisMap,L=k.angleAxisMap,R=ps(C),V=ps(L),F=V.cx,B=V.cy,X=V.innerRadius,Y=V.outerRadius;return $.cloneElement(S,{polarAngles:Array.isArray(T)?T:Ii(V,!0).map(function(Z){return Z.coordinate}),polarRadius:Array.isArray(I)?I:Ii(R,!0).map(function(Z){return Z.coordinate}),cx:F,cy:B,innerRadius:X,outerRadius:Y,key:S.key||"polar-grid",radialLines:O})}),et(w,"renderLegend",function(){var S=w.state.formattedGraphicalItems,P=w.props,O=P.children,T=P.width,I=P.height,k=w.props.margin||{},C=T-(k.left||0)-(k.right||0),L=T3({children:O,formattedGraphicalItems:S,legendWidth:C,legendContent:u});if(!L)return null;var R=L.item,V=JN(L,mue);return $.cloneElement(R,Ne(Ne({},V),{},{chartWidth:T,chartHeight:I,margin:k,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),et(w,"renderTooltip",function(){var S,P=w.props,O=P.children,T=P.accessibilityLayer,I=Bn(O,Ca);if(!I)return null;var k=w.state,C=k.isTooltipActive,L=k.activeCoordinate,R=k.activePayload,V=k.activeLabel,F=k.offset,B=(S=I.props.active)!==null&&S!==void 0?S:C;return $.cloneElement(I,{viewBox:Ne(Ne({},F),{},{x:F.left,y:F.top}),active:B,label:V,payload:B?R:[],coordinate:L,accessibilityLayer:T})}),et(w,"renderBrush",function(S){var P=w.props,O=P.margin,T=P.data,I=w.state,k=I.offset,C=I.dataStartIndex,L=I.dataEndIndex,R=I.updateId;return $.cloneElement(S,{key:S.key||"_recharts-brush",onChange:Nh(w.handleBrushChange,S.props.onChange),data:T,x:Le(S.props.x)?S.props.x:k.left,y:Le(S.props.y)?S.props.y:k.top+k.height+k.brushBottom-(O.bottom||0),width:Le(S.props.width)?S.props.width:k.width,startIndex:C,endIndex:L,updateId:"brush-".concat(R)})}),et(w,"renderReferenceElement",function(S,P,O){if(!S)return null;var T=w,I=T.clipPathId,k=w.state,C=k.xAxisMap,L=k.yAxisMap,R=k.offset,V=S.type.defaultProps||{},F=S.props,B=F.xAxisId,X=B===void 0?V.xAxisId:B,Y=F.yAxisId,Z=Y===void 0?V.yAxisId:Y;return $.cloneElement(S,{key:S.key||"".concat(P,"-").concat(O),xAxis:C[X],yAxis:L[Z],viewBox:{x:R.left,y:R.top,width:R.width,height:R.height},clipPathId:I})}),et(w,"renderActivePoints",function(S){var P=S.item,O=S.activePoint,T=S.basePoint,I=S.childIndex,k=S.isRange,C=[],L=P.props.key,R=P.item.type.defaultProps!==void 0?Ne(Ne({},P.item.type.defaultProps),P.item.props):P.item.props,V=R.activeDot,F=R.dataKey,B=Ne(Ne({index:I,dataKey:F,cx:O.x,cy:O.y,r:4,fill:Bx(P.item),strokeWidth:2,stroke:"#fff",payload:O.payload,value:O.value},Xe(V,!1)),ap(V));return C.push(b.renderActiveDot(V,B,"".concat(L,"-activePoint-").concat(I))),T?C.push(b.renderActiveDot(V,Ne(Ne({},B),{},{cx:T.x,cy:T.y}),"".concat(L,"-basePoint-").concat(I))):k&&C.push(null),C}),et(w,"renderGraphicChild",function(S,P,O){var T=w.filterFormatItem(S,P,O);if(!T)return null;var I=w.getTooltipEventType(),k=w.state,C=k.isTooltipActive,L=k.tooltipAxis,R=k.activeTooltipIndex,V=k.activeLabel,F=w.props.children,B=Bn(F,Ca),X=T.props,Y=X.points,Z=X.isRange,ae=X.baseLine,D=T.item.type.defaultProps!==void 0?Ne(Ne({},T.item.type.defaultProps),T.item.props):T.item.props,W=D.activeDot,Q=D.hide,ne=D.activeBar,se=D.activeShape,he=!!(!Q&&C&&B&&(W||ne||se)),de={};I!=="axis"&&B&&B.props.trigger==="click"?de={onClick:Nh(w.handleItemMouseEnter,S.props.onClick)}:I!=="axis"&&(de={onMouseLeave:Nh(w.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:Nh(w.handleItemMouseEnter,S.props.onMouseEnter)});var ie=$.cloneElement(S,Ne(Ne({},T.props),de));function xe(Me){return typeof L.dataKey=="function"?L.dataKey(Me.payload):null}if(he)if(R>=0){var be,pe;if(L.dataKey&&!L.allowDuplicatedCategory){var Ee=typeof L.dataKey=="function"?xe:"payload.".concat(L.dataKey.toString());be=np(Y,Ee,V),pe=Z&&ae&&np(ae,Ee,V)}else be=Y==null?void 0:Y[R],pe=Z&&ae&&ae[R];if(se||ne){var De=S.props.activeIndex!==void 0?S.props.activeIndex:R;return[$.cloneElement(S,Ne(Ne(Ne({},T.props),de),{},{activeIndex:De})),null,null]}if(!pt(be))return[ie].concat(Sc(w.renderActivePoints({item:T,activePoint:be,basePoint:pe,childIndex:R,isRange:Z})))}else{var ye,re=(ye=w.getItemByXY(w.state.activeCoordinate))!==null&&ye!==void 0?ye:{graphicalItem:ie},Ye=re.graphicalItem,Be=Ye.item,ke=Be===void 0?S:Be,Te=Ye.childIndex,$e=Ne(Ne(Ne({},T.props),de),{},{activeIndex:Te});return[$.cloneElement(ke,$e),null,null]}return Z?[ie,null,null]:[ie,null]}),et(w,"renderCustomized",function(S,P,O){return $.cloneElement(S,Ne(Ne({key:"recharts-customized-".concat(O)},w.props),w.state))}),et(w,"renderMap",{CartesianGrid:{handler:Ph,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:Ph},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:Ph},YAxis:{handler:Ph},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((N=y.id)!==null&&N!==void 0?N:Uc("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=C4(w.triggeredAfterMouseMove,(_=y.throttleDelay)!==null&&_!==void 0?_:1e3/60),w.state={},w}return Oue(b,x),Nue(b,[{key:"componentDidMount",value:function(){var N,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var N=this.props,_=N.children,w=N.data,S=N.height,P=N.layout,O=Bn(_,Ca);if(O){var T=O.props.defaultIndex;if(!(typeof T!="number"||T<0||T>this.state.tooltipTicks.length-1)){var I=this.state.tooltipTicks[T]&&this.state.tooltipTicks[T].value,k=rb(this.state,w,T,I),C=this.state.tooltipTicks[T].coordinate,L=(this.state.offset.top+S)/2,R=P==="horizontal",V=R?{x:C,y:L}:{y:C,x:L},F=this.state.formattedGraphicalItems.find(function(X){var Y=X.item;return Y.type.name==="Scatter"});F&&(V=Ne(Ne({},V),F.props.points[T].tooltipPosition),k=F.props.points[T].tooltipPayload);var B={activeTooltipIndex:T,isTooltipActive:!0,activeLabel:I,activePayload:k,activeCoordinate:V};this.setState(B),this.renderCursor(O),this.accessibilityManager.setIndex(T)}}}},{key:"getSnapshotBeforeUpdate",value:function(N,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==N.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==N.margin){var w,S;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(N){I0([Bn(N.children,Ca)],[Bn(this.props.children,Ca)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var N=Bn(this.props.children,Ca);if(N&&typeof N.props.shared=="boolean"){var _=N.props.shared?"axis":"item";return l.indexOf(_)>=0?_:i}return i}},{key:"getMouseInfo",value:function(N){if(!this.container)return null;var _=this.container,w=_.getBoundingClientRect(),S=DJ(w),P={chartX:Math.round(N.pageX-S.left),chartY:Math.round(N.pageY-S.top)},O=w.width/_.offsetWidth||1,T=this.inRange(P.chartX,P.chartY,O);if(!T)return null;var I=this.state,k=I.xAxisMap,C=I.yAxisMap,L=this.getTooltipEventType(),R=QN(this.state,this.props.data,this.props.layout,T);if(L!=="axis"&&k&&C){var V=ps(k).scale,F=ps(C).scale,B=V&&V.invert?V.invert(P.chartX):null,X=F&&F.invert?F.invert(P.chartY):null;return Ne(Ne({},P),{},{xValue:B,yValue:X},R)}return R?Ne(Ne({},P),R):null}},{key:"inRange",value:function(N,_){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,P=N/w,O=_/w;if(S==="horizontal"||S==="vertical"){var T=this.state.offset,I=P>=T.left&&P<=T.left+T.width&&O>=T.top&&O<=T.top+T.height;return I?{x:P,y:O}:null}var k=this.state,C=k.angleAxisMap,L=k.radiusAxisMap;if(C&&L){var R=ps(C);return Oj({x:P,y:O},R)}return null}},{key:"parseEventsOfWrapper",value:function(){var N=this.props.children,_=this.getTooltipEventType(),w=Bn(N,Ca),S={};w&&_==="axis"&&(w.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var P=ap(this.props,this.handleOuterEvent);return Ne(Ne({},P),S)}},{key:"addListener",value:function(){Xv.on(Jv,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Xv.removeListener(Jv,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(N,_,w){for(var S=this.state.formattedGraphicalItems,P=0,O=S.length;P<O;P++){var T=S[P];if(T.item===N||T.props.key===N.key||_===Ri(T.item.type)&&w===T.childIndex)return T}return null}},{key:"renderClipPath",value:function(){var N=this.clipPathId,_=this.state.offset,w=_.left,S=_.top,P=_.height,O=_.width;return U.createElement("defs",null,U.createElement("clipPath",{id:N},U.createElement("rect",{x:w,y:S,height:P,width:O})))}},{key:"getXScales",value:function(){var N=this.state.xAxisMap;return N?Object.entries(N).reduce(function(_,w){var S=XN(w,2),P=S[0],O=S[1];return Ne(Ne({},_),{},et({},P,O.scale))},{}):null}},{key:"getYScales",value:function(){var N=this.state.yAxisMap;return N?Object.entries(N).reduce(function(_,w){var S=XN(w,2),P=S[0],O=S[1];return Ne(Ne({},_),{},et({},P,O.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(N){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[N])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(N){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[N])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(N){var _=this.state,w=_.formattedGraphicalItems,S=_.activeItem;if(w&&w.length)for(var P=0,O=w.length;P<O;P++){var T=w[P],I=T.props,k=T.item,C=k.type.defaultProps!==void 0?Ne(Ne({},k.type.defaultProps),k.props):k.props,L=Ri(k.type);if(L==="Bar"){var R=(I.data||[]).find(function(X){return sie(N,X)});if(R)return{graphicalItem:T,payload:R}}else if(L==="RadialBar"){var V=(I.data||[]).find(function(X){return Oj(N,X)});if(V)return{graphicalItem:T,payload:V}}else if(og(T,S)||lg(T,S)||Vd(T,S)){var F=Mse({graphicalItem:T,activeTooltipItem:S,itemData:C.data}),B=C.activeIndex===void 0?F:C.activeIndex;return{graphicalItem:Ne(Ne({},T),{},{childIndex:B}),payload:Vd(T,S)?C.data[F]:T.props.data[F]}}}return null}},{key:"render",value:function(){var N=this;if(!Ww(this))return null;var _=this.props,w=_.children,S=_.className,P=_.width,O=_.height,T=_.style,I=_.compact,k=_.title,C=_.desc,L=JN(_,gue),R=Xe(L,!1);if(I)return U.createElement(LN,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},U.createElement(F0,Tl({},R,{width:P,height:O,title:k,desc:C}),this.renderClipPath(),Gw(w,this.renderMap)));if(this.props.accessibilityLayer){var V,F;R.tabIndex=(V=this.props.tabIndex)!==null&&V!==void 0?V:0,R.role=(F=this.props.role)!==null&&F!==void 0?F:"application",R.onKeyDown=function(X){N.accessibilityManager.keyboardEvent(X)},R.onFocus=function(){N.accessibilityManager.focus()}}var B=this.parseEventsOfWrapper();return U.createElement(LN,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},U.createElement("div",Tl({className:vt("recharts-wrapper",S),style:Ne({position:"relative",cursor:"default",width:P,height:O},T)},B,{ref:function(Y){N.container=Y}}),U.createElement(F0,Tl({},R,{width:P,height:O,title:k,desc:C,style:Lue}),this.renderClipPath(),Gw(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}($.Component);et(v,"displayName",r),et(v,"defaultProps",Ne({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),et(v,"getDerivedStateFromProps",function(x,b){var y=x.dataKey,N=x.data,_=x.children,w=x.width,S=x.height,P=x.layout,O=x.stackOffset,T=x.margin,I=b.dataStartIndex,k=b.dataEndIndex;if(b.updateId===void 0){var C=eS(x);return Ne(Ne(Ne({},C),{},{updateId:0},p(Ne(Ne({props:x},C),{},{updateId:0}),b)),{},{prevDataKey:y,prevData:N,prevWidth:w,prevHeight:S,prevLayout:P,prevStackOffset:O,prevMargin:T,prevChildren:_})}if(y!==b.prevDataKey||N!==b.prevData||w!==b.prevWidth||S!==b.prevHeight||P!==b.prevLayout||O!==b.prevStackOffset||!Il(T,b.prevMargin)){var L=eS(x),R={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},V=Ne(Ne({},QN(b,N,P)),{},{updateId:b.updateId+1}),F=Ne(Ne(Ne({},L),R),V);return Ne(Ne(Ne({},F),p(Ne({props:x},F),b)),{},{prevDataKey:y,prevData:N,prevWidth:w,prevHeight:S,prevLayout:P,prevStackOffset:O,prevMargin:T,prevChildren:_})}if(!I0(_,b.prevChildren)){var B,X,Y,Z,ae=Bn(_,pc),D=ae&&(B=(X=ae.props)===null||X===void 0?void 0:X.startIndex)!==null&&B!==void 0?B:I,W=ae&&(Y=(Z=ae.props)===null||Z===void 0?void 0:Z.endIndex)!==null&&Y!==void 0?Y:k,Q=D!==I||W!==k,ne=!pt(N),se=ne&&!Q?b.updateId:b.updateId+1;return Ne(Ne({updateId:se},p(Ne(Ne({props:x},b),{},{updateId:se,dataStartIndex:D,dataEndIndex:W}),b)),{},{prevChildren:_,dataStartIndex:D,dataEndIndex:W})}return null}),et(v,"renderActiveDot",function(x,b,y){var N;return $.isValidElement(x)?N=$.cloneElement(x,b):nt(x)?N=x(b):N=U.createElement(rg,b),U.createElement(_t,{className:"recharts-active-dot",key:y},N)});var g=$.forwardRef(function(b,y){return U.createElement(v,Tl({},b,{ref:y}))});return g.displayName=v.displayName,g},Uue=eP({chartName:"PieChart",GraphicalChild:Vi,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:sg},{axisType:"radiusAxis",AxisComp:ag}],formatAxisMap:Pre,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),Wue=eP({chartName:"AreaChart",GraphicalChild:Ts,axisComponents:[{axisType:"xAxis",AxisComp:pg},{axisType:"yAxis",AxisComp:mg}],formatAxisMap:Woe});const rS=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8"];function tP(){const{id:e}=_s(),{profile:t,loading:r}=As(),n=t==null?void 0:t.org_id,[a,i]=$.useState(!0),[o,l]=$.useState(null),[c,u]=$.useState("overview"),[d,f]=$.useState("6m"),[h,p]=$.useState({total_donations:0,total_donors:0,average_donation:0,progress:0,top_donor:null,monetary_donations:0,time_donations:0,supply_donations:0,donor_retention_rate:0,recurring_donors:0,campaign_efficiency:0,volunteer_hours:0,supply_value:0,monthly_trends:[],donor_demographics:[],campaign_performance:[],volunteer_metrics:[],supply_categories:[],donors:[],top_donors:[],recurring_donor_list:[],donor_retention:[]}),[v,g]=$.useState({type:"monetary",amount:"",description:"",date:_m(new Date,"yyyy-MM-dd"),donor_name:"",donor_email:"",donor_phone:"",is_recurring:!1,frequency:"monthly",category:"",payment_method:"credit_card"});$.useEffect(()=>{if(!r){if(!e&&!n){l("No fundraiser or organization context found."),i(!1);return}b()}},[e,d,n,r]);const x=N=>({...h,...N,monthly_trends:Array.isArray(N==null?void 0:N.monthly_trends)?N.monthly_trends:[],donor_demographics:Array.isArray(N==null?void 0:N.donor_demographics)?N.donor_demographics:[],campaign_performance:Array.isArray(N==null?void 0:N.campaign_performance)?N.campaign_performance:[],volunteer_metrics:Array.isArray(N==null?void 0:N.volunteer_metrics)?N.volunteer_metrics:[],supply_categories:Array.isArray(N==null?void 0:N.supply_categories)?N.supply_categories:[],donors:Array.isArray(N==null?void 0:N.donors)?N.donors:[],top_donors:Array.isArray(N==null?void 0:N.top_donors)?N.top_donors:[],recurring_donor_list:Array.isArray(N==null?void 0:N.recurring_donor_list)?N.recurring_donor_list:[],donor_retention:Array.isArray(N==null?void 0:N.donor_retention)?N.donor_retention:[]}),b=async()=>{var N,_,w,S,P,O,T,I,k,C,L,R,V;try{i(!0);const[F,B,X,Y]=await Promise.all([Da.getAnalyticsOverview({dateRange:d}),Da.getAnalyticsTrends({dateRange:d}),Da.getAnalyticsDonorRetention({dateRange:d}),Da.getAnalyticsCampaigns({dateRange:d})]);console.log("Analytics API responses:",{overview:F,trends:B,retention:X,campaigns:Y});const Z={total_donations:((_=(N=F==null?void 0:F.data)==null?void 0:N.data)==null?void 0:_.total_donations)||0,total_donors:((S=(w=F==null?void 0:F.data)==null?void 0:w.data)==null?void 0:S.total_donors)||0,volunteer_hours:((O=(P=F==null?void 0:F.data)==null?void 0:P.data)==null?void 0:O.total_volunteer_hours)||0,supply_value:((I=(T=F==null?void 0:F.data)==null?void 0:T.data)==null?void 0:I.total_supply_value)||0,active_campaigns:((C=(k=F==null?void 0:F.data)==null?void 0:k.data)==null?void 0:C.active_campaigns)||0,monthly_trends:((L=B==null?void 0:B.data)==null?void 0:L.data)||[],donor_retention:((R=X==null?void 0:X.data)==null?void 0:R.data)||[],campaign_performance:((V=Y==null?void 0:Y.data)==null?void 0:V.data)||[]};p(x(Z)),l(null)}catch(F){const B="Failed to fetch fundraiser analytics";l(B),Ia(F,B),console.error("Analytics fetch error:",F)}finally{i(!1)}},y=N=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(N);return o?s.jsx("div",{className:"text-red-500 text-center mt-8",children:o}):a?s.jsx("div",{className:"text-center py-12",children:"Loading analytics..."}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx(yt,{children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:s.jsx(qn,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Donations"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:y(h.total_donations)})]})]})}),s.jsx(yt,{children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:s.jsx(la,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Donors"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:h.total_donors})]})]})}),s.jsx(yt,{children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"p-3 bg-purple-100 rounded-full",children:s.jsx($a,{className:"h-6 w-6 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Volunteer Hours"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:h.volunteer_hours})]})]})}),s.jsx(yt,{children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"p-3 bg-yellow-100 rounded-full",children:s.jsx(KP,{className:"h-6 w-6 text-yellow-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Supply Value"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:y(h.supply_value)})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(yt,{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Donation Trends"}),s.jsx("div",{className:"h-80",children:s.jsx(m5,{width:"100%",height:"100%",children:s.jsxs(Wue,{data:h.monthly_trends,children:[s.jsx(DO,{strokeDasharray:"3 3"}),s.jsx(pg,{dataKey:"date"}),s.jsx(mg,{}),s.jsx(Ca,{formatter:N=>y(N)}),s.jsx(Ts,{type:"monotone",dataKey:"amount",stroke:"#2563eb",fill:"#93c5fd"})]})})})]}),s.jsxs(yt,{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Donation Types"}),s.jsx("div",{className:"h-80",children:s.jsx(m5,{width:"100%",height:"100%",children:s.jsxs(Uue,{children:[s.jsx(Vi,{data:h.supply_categories,dataKey:"value",nameKey:"category",cx:"50%",cy:"50%",outerRadius:80,fill:"#2563eb",label:!0,children:h.supply_categories.map((N,_)=>s.jsx(Wm,{fill:rS[_%rS.length]},`cell-${_}`))}),s.jsx(Ca,{}),s.jsx(mo,{})]})})})]})]})]})}function Hue(){const{id:e}=_s(),[t,r]=$.useState(!0),[n,a]=$.useState(null),[i,o]=$.useState(null),[l,c]=$.useState(!1);$.useEffect(()=>{if(!e){a("No fundraiser selected. Please select a fundraiser to share."),r(!1);return}u()},[e]);const u=async()=>{if(e)try{r(!0);const{data:h,error:p}=await Da.getFundraiser(e);if(p)throw new Error(p);o(h),a(null)}catch(h){const p="Failed to fetch fundraiser details";a(p),Ia(h,p)}finally{r(!1)}},d=async h=>{const p=`${window.location.origin}/fundraisers/${e}`,v=`Support ${i.title} - ${i.description}`;try{switch(h){case"facebook":window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(p)}`,"_blank");break;case"twitter":window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(v)}&url=${encodeURIComponent(p)}`,"_blank");break;case"linkedin":window.open(`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(p)}`,"_blank");break;default:break}yo("Shared successfully")}catch(g){Ia(g,"Failed to share")}},f=async()=>{const h=`${window.location.origin}/fundraisers/${e}`;try{await navigator.clipboard.writeText(h),c(!0),yo("Link copied to clipboard"),setTimeout(()=>c(!1),2e3)}catch(p){Ia(p,"Failed to copy link")}};return n?s.jsx("div",{className:"text-red-500 text-center mt-8",children:n}):i?s.jsx(ix,{title:"Share Fundraiser",loading:t,error:n,children:s.jsx("div",{className:"max-w-2xl mx-auto space-y-6",children:s.jsx(yt,{title:i.title,description:i.description,children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[s.jsxs(at,{onClick:()=>d("facebook"),className:"flex items-center space-x-2",children:[s.jsx(XP,{className:"h-5 w-5"}),s.jsx("span",{children:"Share on Facebook"})]}),s.jsxs(at,{onClick:()=>d("twitter"),className:"flex items-center space-x-2",children:[s.jsx(JP,{className:"h-5 w-5"}),s.jsx("span",{children:"Share on Twitter"})]}),s.jsxs(at,{onClick:()=>d("linkedin"),className:"flex items-center space-x-2",children:[s.jsx(ZP,{className:"h-5 w-5"}),s.jsx("span",{children:"Share on LinkedIn"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"flex-1 p-2 bg-gray-50 rounded-lg border border-gray-200 text-sm text-gray-600 truncate",children:`${window.location.origin}/fundraisers/${e}`}),s.jsx(at,{onClick:f,variant:"outline",className:"flex items-center space-x-2",children:l?s.jsxs(s.Fragment,{children:[s.jsx(QP,{className:"h-5 w-5 text-green-500"}),s.jsx("span",{children:"Copied!"})]}):s.jsxs(s.Fragment,{children:[s.jsx(hS,{className:"h-5 w-5"}),s.jsx("span",{children:"Copy"})]})})]})]})})})}):null}function Gue(){const e=pr(),[t,r]=$.useState(!0),[n,a]=$.useState(null),[i,o]=$.useState({donors:[],top_donors:[],recurring_donor_list:[],donor_retention:[]});$.useEffect(()=>{l()},[]);const l=async()=>{var d;try{r(!0);const f=await Da.getAnalyticsDonorRetention();console.log("Donor retention response:",f);const h=(d=f==null?void 0:f.data)==null?void 0:d.data;let p=[];Array.isArray(h)?p=h:h&&typeof h=="object"&&(p=h.donors||h.retention||[]),Array.isArray(p)||(p=[]),console.log("Processed donor data:",p),o({donors:p,top_donors:p.slice(0,10),recurring_donor_list:p.filter(v=>v.months_active>1),donor_retention:p}),a(null)}catch(f){a("Failed to fetch donor analytics"),console.error("Donor analytics fetch error:",f)}finally{r(!1)}},c=d=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(d),u=d=>_m(new Date(d),"MMM d, yyyy");return n?s.jsx("div",{className:"text-red-500 text-center mt-8",children:n}):t?s.jsx("div",{className:"text-center py-12",children:"Loading donors..."}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Donor Analytics"}),s.jsx(at,{variant:"outline",onClick:()=>e("/fundraisers/record-donation"),children:"Add Donation"})]}),s.jsxs(yt,{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Donor List"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Email"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Total Donated"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Last Donation"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Recurring"})]})}),s.jsx("tbody",{children:i.donors&&i.donors.length>0?i.donors.map((d,f)=>s.jsxs("tr",{className:"bg-white even:bg-gray-50",children:[s.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:(d==null?void 0:d.donor_email)||`Donor ${f+1}`}),s.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:(d==null?void 0:d.donor_email)||"N/A"}),s.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:c((d==null?void 0:d.total_donated)||0)}),s.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:d!=null&&d.last_donation?u(d.last_donation):"N/A"}),s.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:((d==null?void 0:d.months_active)||0)>1?"Yes":"No"})]},f)):s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"text-center py-4 text-gray-500",children:"No donors found."})})})]})})]}),s.jsxs(yt,{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Top Donors"}),s.jsx("ul",{className:"divide-y divide-gray-200",children:i.top_donors&&i.top_donors.length>0?i.top_donors.map((d,f)=>s.jsxs("li",{className:"py-2 flex justify-between",children:[s.jsx("span",{children:(d==null?void 0:d.donor_email)||`Donor ${f+1}`}),s.jsx("span",{className:"font-semibold",children:c((d==null?void 0:d.total_donated)||0)})]},f)):s.jsx("li",{className:"text-center py-4 text-gray-500",children:"No top donors found."})})]}),s.jsxs(yt,{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recurring Donors"}),s.jsx("ul",{className:"divide-y divide-gray-200",children:i.recurring_donor_list&&i.recurring_donor_list.length>0?i.recurring_donor_list.map((d,f)=>s.jsxs("li",{className:"py-2 flex justify-between",children:[s.jsx("span",{children:(d==null?void 0:d.donor_email)||`Donor ${f+1}`}),s.jsx("span",{className:"font-semibold",children:c((d==null?void 0:d.total_donated)||0)})]},f)):s.jsx("li",{className:"text-center py-4 text-gray-500",children:"No recurring donors found."})})]}),s.jsxs(yt,{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Donor Retention"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Donor"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Months Active"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"First Donation"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Last Donation"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Total Donated"})]})}),s.jsx("tbody",{children:i.donor_retention&&i.donor_retention.length>0?i.donor_retention.map((d,f)=>s.jsxs("tr",{className:"bg-white even:bg-gray-50",children:[s.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:(d==null?void 0:d.donor_email)||`Donor ${f+1}`}),s.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:(d==null?void 0:d.months_active)||0}),s.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:d!=null&&d.first_donation?u(d.first_donation):"N/A"}),s.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:d!=null&&d.last_donation?u(d.last_donation):"N/A"}),s.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:c((d==null?void 0:d.total_donated)||0)})]},f)):s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"text-center py-4 text-gray-500",children:"No donor retention data found."})})})]})})]})]})}const nS=[{value:"monetary",label:"Monetary Donations"},{value:"volunteer",label:"Volunteer Hours"},{value:"supplies",label:"Supply Donations"},{value:"top_donors",label:"Top Donors"},{value:"recurring",label:"Recurring Donors"},{value:"retention",label:"Donor Retention"},{value:"campaign",label:"Campaign Performance"},{value:"year_over_year",label:"Year-over-Year Comparison"}];function Vue(){var p;const[e,t]=$.useState("monetary"),[r,n]=$.useState("6m"),[a,i]=$.useState(!1),[o,l]=$.useState([]),[c,u]=$.useState(null),d=()=>{i(!0),setTimeout(()=>{l([{name:"John Smith",value:1500,date:"2024-01-15"},{name:"Sarah Johnson",value:2500,date:"2024-03-01"},{name:"Mike Brown",value:500,date:"2024-02-01"}]),i(!1),u(null)},1e3)},f=()=>{alert("PDF export coming soon!")},h=()=>{alert("XLSX export coming soon!")};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[s.jsx("select",{className:"px-4 py-2 h-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:e,onChange:v=>t(v.target.value),children:nS.map(v=>s.jsx("option",{value:v.value,children:v.label},v.value))}),s.jsxs("select",{className:"px-4 py-2 h-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:r,onChange:v=>n(v.target.value),children:[s.jsx("option",{value:"6m",children:"Last 6 Months"}),s.jsx("option",{value:"1y",children:"Last Year"}),s.jsx("option",{value:"all",children:"All Time"})]}),s.jsx(at,{variant:"outline",onClick:d,disabled:a,children:"Generate Report"})]}),s.jsxs(yt,{children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:[(p=nS.find(v=>v.value===e))==null?void 0:p.label," Report"]}),s.jsxs("div",{className:"space-x-2",children:[s.jsx(at,{variant:"outline",onClick:f,children:"Export as PDF"}),s.jsx(at,{variant:"outline",onClick:h,children:"Export as XLSX"})]})]}),c&&s.jsx("div",{className:"text-red-500 mb-4",children:c}),a?s.jsx("div",{className:"text-center py-12",children:"Generating report..."}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Value"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"})]})}),s.jsx("tbody",{children:o.length>0?o.map((v,g)=>s.jsxs("tr",{className:"bg-white even:bg-gray-50",children:[s.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:v.name}),s.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:v.value}),s.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:v.date})]},g)):s.jsx("tr",{children:s.jsx("td",{colSpan:3,className:"text-center py-4 text-gray-500",children:"No data to display."})})})]})})]})]})}function rP({fundraiserId:e,onCancel:t,onSave:r,embedded:n=!1}){const a=pr(),{id:i}=_s(),o=e||i,[l,c]=$.useState(!0),[u,d]=$.useState(null),[f,h]=$.useState({title:"",description:"",goal_amount:"",category_id:"",start_date:"",end_date:"",status:"draft",visibility:"organization"}),p=[{value:"draft",label:"Draft"},{value:"active",label:"Active"},{value:"paused",label:"Paused"},{value:"completed",label:"Completed"}],v=[{value:"public",label:"Public"},{value:"private",label:"Private"},{value:"organization",label:"Organization Only"}];$.useEffect(()=>{o?g():c(!1)},[o]);const g=async()=>{var N;if(o)try{c(!0);const _=await Da.getFundraiser(o);console.log("Raw API response:",_);const w=((N=_.data)==null?void 0:N.data)||_.data||_;if(console.log("Extracted fundraiser data:",w),console.log("Fundraiser data keys:",w?Object.keys(w):"no data"),_.error)throw new Error(_.error);if(!w)throw new Error("No fundraiser found with this ID.");const S={title:w.title||"",description:w.description||"",goal_amount:w.goal_amount||w.goal||"",category_id:w.category_id||w.category||"",start_date:w.start_date?w.start_date.split("T")[0]:"",end_date:w.end_date?w.end_date.split("T")[0]:"",status:w.status||"draft",visibility:w.visibility||"organization"};console.log("Individual field values:"),console.log("fundraiserData.title:",w.title),console.log("fundraiserData.goal:",w.goal),console.log("fundraiserData.start_date:",w.start_date),console.log("Transformed data for form:",S),h(S),d(null)}catch(_){const w="Failed to fetch fundraiser details";d(_.message||w),Ia(_,w)}finally{c(!1)}},x=async N=>{N.preventDefault();try{c(!0);const _={title:f.title,description:f.description,goal_amount:f.goal_amount,start_date:f.start_date,end_date:f.end_date,status:f.status,visibility:f.visibility,category:f.category_id};if(o){const{error:w}=await Da.updateFundraiser(o,_);if(w)throw new Error(w);yo("Fundraiser updated successfully"),n&&r?r():a("/fundraisers")}else{const{error:w}=await Da.createFundraiser(_);if(w)throw new Error(w);yo("Fundraiser created successfully"),n&&r?r():a("/fundraisers")}}catch(_){Ia(_,o?"Failed to update fundraiser":"Failed to create fundraiser")}finally{c(!1)}},b=N=>{const{name:_,value:w}=N.target;h(S=>({...S,[_]:w}))};if(l)return s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("span",{className:"text-blue-600 text-lg",children:"Loading fundraiser details..."})});if(u)return s.jsx("div",{className:"text-red-500 text-center mt-8",children:u});if(!o&&(window.location.pathname.includes("edit")||n))return s.jsx("div",{className:"text-red-500 text-center mt-8",children:"No fundraiser selected. Please select a fundraiser to edit."});const y=s.jsxs("form",{onSubmit:x,className:"max-w-2xl mx-auto space-y-6",children:[s.jsx(fr,{label:"Title",id:"title",name:"title",value:f.title,onChange:b,required:!0}),s.jsx(fr,{label:"Description",id:"description",name:"description",value:f.description,onChange:b,required:!0,as:"textarea",rows:4}),s.jsx(fr,{label:"Goal Amount",id:"goal_amount",name:"goal_amount",type:"number",value:f.goal_amount,onChange:b,required:!0,min:"0",step:"0.01"}),s.jsx(fr,{label:"Category",id:"category_id",name:"category_id",value:f.category_id,onChange:b}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(fr,{label:"Start Date",id:"start_date",name:"start_date",type:"date",value:f.start_date,onChange:b,required:!0}),s.jsx(fr,{label:"End Date",id:"end_date",name:"end_date",type:"date",value:f.end_date,onChange:b,required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(Cr,{label:"Status",id:"status",name:"status",value:f.status,onChange:b,required:!0,options:p}),s.jsx(Cr,{label:"Visibility",id:"visibility",name:"visibility",value:f.visibility,onChange:b,required:!0,options:v})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx(at,{type:"button",variant:"outline",onClick:n&&t?t:()=>a("/fundraisers"),children:"Cancel"}),s.jsxs(at,{type:"submit",isLoading:l,children:[o?"Update":"Create"," Fundraiser"]})]})]});return n?y:s.jsx(ix,{title:o?"Edit Fundraiser":"Create Fundraiser",loading:l,error:u,children:y})}function Yue(){const e=pr(),[t,r]=$.useState(!0),[n,a]=$.useState(null),[i,o]=$.useState([]),[l,c]=$.useState(""),[u,d]=$.useState("all"),[f,h]=$.useState(null),[p,v]=$.useState("fundraisers"),[g,x]=$.useState(null);$.useEffect(()=>{b();const T=sessionStorage.getItem("editFundraiserId");T&&(x(T),sessionStorage.removeItem("editFundraiserId"))},[]);const b=async()=>{try{r(!0);const{data:T,error:I}=await Da.getFundraisers();if(I)throw new Error(I);o((T==null?void 0:T.data)||[]),a(null)}catch(T){const I="Failed to fetch fundraisers";a(I),Ia(T,I)}finally{r(!1)}},y=async T=>{if(window.confirm("Are you sure you want to delete this fundraiser?"))try{r(!0);const{error:I}=await Da.deleteFundraiser(T);if(I)throw new Error(I);yo("Fundraiser deleted successfully"),b()}catch(I){Ia(I,"Failed to delete fundraiser")}finally{r(!1)}},N=T=>new Date(T).toLocaleDateString(),_=T=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(T),w=T=>{x(T)},S=()=>{x(null)},P=()=>{x(null),b()},O=i.filter(T=>{const I=T.title.toLowerCase().includes(l.toLowerCase())||T.description.toLowerCase().includes(l.toLowerCase()),k=u==="all"||T.status===u;return I&&k});return s.jsxs(ix,{title:"Fundraiser Manager",loading:t,error:n,children:[s.jsx("div",{className:"border-b border-gray-200 mb-6",children:s.jsxs("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:[s.jsx("button",{className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${p==="fundraisers"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>v("fundraisers"),children:"Active Fundraisers"}),s.jsx("button",{className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${p==="analytics"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>v("analytics"),children:"Analytics"}),s.jsx("button",{className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${p==="donors"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>v("donors"),children:"Donors"}),s.jsx("button",{className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${p==="reports"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>v("reports"),children:"Reports"}),s.jsx("button",{className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${p==="share"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>v("share"),children:"Share"})]})}),p==="fundraisers"&&!g&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Active Fundraisers"}),s.jsx(at,{variant:"outline",onClick:()=>e("/fundraisers/create"),children:"Create New Fundraiser"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:O.map(T=>s.jsx(yt,{title:T.title,description:T.description,children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-500",children:"Goal:"}),s.jsx("span",{className:"font-medium",children:_(T.goal_amount)})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-500",children:"Status:"}),s.jsx("span",{className:`font-medium ${T.status==="active"?"text-green-600":T.status==="completed"?"text-blue-600":"text-gray-600"}`,children:T.status.charAt(0).toUpperCase()+T.status.slice(1)})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-500",children:"Dates:"}),s.jsxs("span",{className:"font-medium",children:[N(T.start_date)," - ",N(T.end_date)]})]}),s.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[s.jsx(at,{variant:"outline",onClick:()=>w(T.id),children:"Edit"}),s.jsx(at,{variant:"danger",onClick:()=>y(T.id),children:"Delete"})]})]})},T.id))}),O.length===0&&!t&&s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500",children:"No fundraisers found"})})]}),p==="fundraisers"&&g&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Edit Fundraiser"}),s.jsx(at,{variant:"outline",onClick:S,children:"â† Back to Fundraisers"})]}),s.jsx(rP,{fundraiserId:g,onCancel:S,onSave:P,embedded:!0})]}),p==="analytics"&&s.jsx("div",{className:"mt-8",children:s.jsx(tP,{})}),p==="donors"&&s.jsx("div",{className:"mt-8",children:s.jsx(Gue,{})}),p==="reports"&&s.jsx("div",{className:"mt-8",children:s.jsx(Vue,{})}),p==="share"&&s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{htmlFor:"fundraiser-select",className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Fundraiser to Share"}),s.jsxs("select",{id:"fundraiser-select",className:"block w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-base",value:f?f.id:"",onChange:T=>{const I=i.find(k=>k.id===T.target.value);h(I||null)},children:[s.jsx("option",{value:"",children:"-- Select a Fundraiser --"}),i.map(T=>s.jsx("option",{value:T.id,children:T.title},T.id))]})]}),p==="share"&&s.jsx(Hue,{fundraiserId:f?f.id:null})]})}function Kue(){const{id:e}=_s(),t=pr();return $.useEffect(()=>{e?(sessionStorage.setItem("editFundraiserId",e),t("/fundraisers",{replace:!0})):t("/fundraisers",{replace:!0})},[e,t]),s.jsx("div",{className:"flex justify-center items-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Redirecting to fundraiser editor..."})]})})}function Xue(){const[e,t]=$.useState([]),[r,n]=$.useState("");$.useEffect(()=>{async function l(){const{data:{session:c}}=await We.auth.getSession();if(!(c!=null&&c.access_token)){n("Authentication required.");return}try{const u=await fetch("/api/budgets",{headers:{Authorization:`Bearer ${c.access_token}`}}),d=await u.json();u.ok?t(d):n(d.error||"Failed to load transactions.")}catch(u){console.error("Budget fetch error:",u),n("Error connecting to the server.")}}l()},[]);const a=e.filter(l=>l.type==="income").reduce((l,c)=>l+parseFloat(c.amount||0),0),i=e.filter(l=>l.type==="expense").reduce((l,c)=>l+parseFloat(c.amount||0),0),o=a-i;return s.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"PTO Budget Overview"}),s.jsx(_c,{to:"/budget/create",className:"bg-blue-600 text-white px-4 py-2 rounded",children:"+ Add Entry"})]}),s.jsxs("div",{className:"mb-6 p-4 border rounded bg-gray-100",children:[s.jsxs("p",{className:"text-lg font-semibold",children:["Current Balance: $",o.toFixed(2)]}),s.jsxs("p",{className:"text-sm text-green-700",children:["Total Income: $",a.toFixed(2)]}),s.jsxs("p",{className:"text-sm text-red-700",children:["Total Expenses: $",i.toFixed(2)]})]}),r&&s.jsx("p",{className:"text-red-600",children:r}),e.length===0&&!r&&s.jsx("p",{children:"No budget entries found."}),s.jsx("ul",{className:"space-y-4",children:e.map(l=>s.jsxs("li",{className:"border p-4 rounded shadow-sm bg-white",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("h2",{className:"text-lg font-semibold",children:l.label}),s.jsxs("span",{className:l.type==="income"?"text-green-600":"text-red-600",children:[l.type==="income"?"+":"-","$",parseFloat(l.amount).toFixed(2)]})]}),s.jsx("p",{className:"text-sm text-gray-500",children:l.category||"Uncategorized"}),l.related_event_id&&s.jsxs("p",{className:"text-sm text-blue-700 mt-1",children:["Event ID: ",l.related_event_id]})]},l.id))})]})}const Jue=()=>{const e=pr(),[t,r]=$.useState("overview"),[n,a]=$.useState("manual"),[i,o]=$.useState("current"),l={totalBudget:45e3,totalSpent:28500,totalRemaining:16500,projectedIncome:52e3,categories:[{id:1,name:"Events & Programs",budgeted:15e3,spent:8500,remaining:6500,percentage:57,trend:"up",createdBy:"stella",subcategories:[{name:"Fall Festival",budgeted:5e3,spent:3200},{name:"Science Night",budgeted:3e3,spent:1800},{name:"Book Fair",budgeted:4e3,spent:2500},{name:"Art Show",budgeted:3e3,spent:1e3}]},{id:2,name:"Educational Support",budgeted:12e3,spent:7200,remaining:4800,percentage:60,trend:"stable",createdBy:"manual",subcategories:[{name:"Classroom Supplies",budgeted:6e3,spent:4200},{name:"Technology",budgeted:4e3,spent:2e3},{name:"Library Books",budgeted:2e3,spent:1e3}]},{id:3,name:"Communications",budgeted:3e3,spent:1800,remaining:1200,percentage:60,trend:"down",createdBy:"stella",subcategories:[{name:"Website & Digital",budgeted:1500,spent:800},{name:"Print Materials",budgeted:1e3,spent:700},{name:"Social Media",budgeted:500,spent:300}]},{id:4,name:"Administrative",budgeted:5e3,spent:3200,remaining:1800,percentage:64,trend:"up",createdBy:"manual",subcategories:[{name:"Insurance",budgeted:2e3,spent:2e3},{name:"Banking & Fees",budgeted:1e3,spent:600},{name:"Office Supplies",budgeted:2e3,spent:600}]}],recentTransactions:[{id:1,date:"2024-10-15",description:"Fall Festival Decorations",category:"Events & Programs",amount:-450,type:"expense",createdBy:"stella"},{id:2,date:"2024-10-14",description:"Book Fair Revenue",category:"Events & Programs",amount:2800,type:"income",createdBy:"manual"},{id:3,date:"2024-10-12",description:"Classroom Technology",category:"Educational Support",amount:-1200,type:"expense",createdBy:"manual"}]},c=()=>{e("/budget/create")},u=()=>{e("/communications/ai?context=budget&mode=assisted")},d=()=>{e("/ai-workflow-orchestrator?context=budget&mode=automated")},f=w=>{e(`/budget/create?category=${w}&mode=view`)},h=w=>{e(`/budget/create?category=${w}&mode=edit`)},p=w=>{e(`/budget/create?category=${w}&mode=optimize`)},v=()=>{e("/budget/create?mode=reallocation")},g=()=>s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(qn,{className:"w-6 h-6 text-blue-600"}),s.jsx("h3",{className:"font-semibold text-gray-900",children:"Total Budget"})]})}),s.jsxs("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:["$",l.totalBudget.toLocaleString()]}),s.jsx("div",{className:"text-sm text-gray-600",children:"For current fiscal year"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(e6,{className:"w-6 h-6 text-red-600"}),s.jsx("h3",{className:"font-semibold text-gray-900",children:"Total Spent"})]})}),s.jsxs("div",{className:"text-3xl font-bold text-red-600 mb-2",children:["$",l.totalSpent.toLocaleString()]}),s.jsxs("div",{className:"text-sm text-gray-600",children:[Math.round(l.totalSpent/l.totalBudget*100),"% of budget used"]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(pS,{className:"w-6 h-6 text-green-600"}),s.jsx("h3",{className:"font-semibold text-gray-900",children:"Remaining"})]})}),s.jsxs("div",{className:"text-3xl font-bold text-green-600 mb-2",children:["$",l.totalRemaining.toLocaleString()]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Available for spending"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ib,{className:"w-6 h-6 text-purple-600"}),s.jsx("h3",{className:"font-semibold text-gray-900",children:"Projected Income"})]})}),s.jsxs("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:["$",l.projectedIncome.toLocaleString()]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Expected total revenue"})]})]}),x=()=>s.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg p-6 mb-8",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx(Ar,{className:"w-6 h-6 text-purple-600"}),s.jsx("h3",{className:"text-lg font-semibold text-purple-900",children:"Stella's Budget Insights"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[s.jsxs("div",{className:"bg-white rounded-lg p-4",children:[s.jsx("div",{className:"text-sm text-purple-600 mb-1",children:"Budget Health"}),s.jsx("div",{className:"text-lg font-semibold text-green-700",children:"Excellent"}),s.jsx("div",{className:"text-xs text-purple-700",children:"On track for surplus"})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4",children:[s.jsx("div",{className:"text-sm text-purple-600 mb-1",children:"Biggest Opportunity"}),s.jsx("div",{className:"text-lg font-semibold text-purple-900",children:"Fall Festival"}),s.jsx("div",{className:"text-xs text-purple-700",children:"Could generate $2K more"})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4",children:[s.jsx("div",{className:"text-sm text-purple-600 mb-1",children:"Cost Savings"}),s.jsx("div",{className:"text-lg font-semibold text-purple-900",children:"$1,200 Found"}),s.jsx("div",{className:"text-xs text-purple-700",children:"In administrative costs"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4",children:[s.jsx("div",{className:"text-sm text-purple-900 font-medium mb-2",children:"ðŸ’¡ Stella's Recommendation"}),s.jsx("div",{className:"text-sm text-purple-800",children:'"Your Events & Programs category is performing well! Consider reallocating $1,000 from Administrative to Educational Support to maximize impact on students. I can create a reallocation plan for you."'}),s.jsx("button",{onClick:v,className:"mt-3 px-4 py-2 bg-purple-600 text-white rounded-lg text-sm hover:bg-purple-700 transition-colors",children:"Let Stella Create Reallocation Plan"})]})]}),b=()=>s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Budget Categories"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:"Manual Entry"}),s.jsx("button",{className:"px-4 py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors text-sm",children:"Ask Stella"})]})]}),s.jsx("div",{className:"space-y-6",children:l.categories.map(w=>{const S=w.spent/w.budgeted*100,P=S>100;return s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:w.name}),w.createdBy==="stella"&&s.jsx(Ar,{className:"w-4 h-4 text-purple-500",title:"Optimized by Stella"}),s.jsxs("div",{className:`flex items-center space-x-1 text-sm ${w.trend==="up"?"text-green-600":w.trend==="down"?"text-red-600":"text-gray-600"}`,children:[w.trend==="up"&&s.jsx(r0,{className:"w-4 h-4"}),w.trend==="down"&&s.jsx(O1,{className:"w-4 h-4"}),s.jsx("span",{className:"capitalize",children:w.trend})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["$",w.spent.toLocaleString()," / $",w.budgeted.toLocaleString()]}),s.jsxs("div",{className:"text-sm text-gray-600",children:["$",w.remaining.toLocaleString()," remaining"]})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[s.jsx("span",{className:"text-gray-600",children:"Progress"}),s.jsxs("span",{className:`font-medium ${P?"text-red-600":"text-gray-900"}`,children:[Math.round(S),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:s.jsx("div",{className:`h-3 rounded-full transition-all duration-300 ${P?"bg-red-500":"bg-blue-600"}`,style:{width:`${Math.min(S,100)}%`}})})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:w.subcategories.map((O,T)=>s.jsxs("div",{className:"bg-gray-50 rounded p-3",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:O.name}),s.jsxs("div",{className:"text-xs text-gray-600",children:["$",O.spent.toLocaleString()," / $",O.budgeted.toLocaleString()]})]},T))}),s.jsxs("div",{className:"flex space-x-2 mt-4",children:[s.jsxs("button",{onClick:()=>f(w.id),className:"flex items-center px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[s.jsx(zl,{className:"w-4 h-4 mr-2"}),"View Details"]}),s.jsxs("button",{onClick:()=>h(w.id),className:"flex items-center px-3 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors text-sm",children:[s.jsx(gn,{className:"w-4 h-4 mr-2"}),"Edit"]}),w.createdBy==="manual"&&s.jsxs("button",{onClick:()=>p(w.id),className:"flex items-center px-3 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors text-sm",children:[s.jsx(Ar,{className:"w-4 h-4 mr-2"}),"Ask Stella to Optimize"]})]})]},w.id)})})]}),y=()=>s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(t6,{className:"w-6 h-6 text-indigo-600"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Monthly Reconciliation"})]}),s.jsxs("button",{onClick:()=>e("/budget/reconciliation"),className:"flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:[s.jsx(r6,{className:"w-4 h-4 mr-2"}),"View All Reconciliations"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"border-2 border-indigo-200 rounded-lg p-6 hover:border-indigo-400 transition-colors bg-indigo-50",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx(n6,{className:"w-8 h-8 text-indigo-600"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-indigo-900",children:"Start New Reconciliation"}),s.jsx("p",{className:"text-sm text-indigo-700",children:"Upload bank statement and reconcile transactions"})]})]}),s.jsxs("ul",{className:"text-sm text-indigo-700 space-y-2 mb-4",children:[s.jsx("li",{children:"â€¢ OCR bank statement processing"}),s.jsx("li",{children:"â€¢ Smart transaction matching"}),s.jsx("li",{children:"â€¢ Automated discrepancy detection"}),s.jsx("li",{children:"â€¢ Generate reconciliation reports"})]}),s.jsx("button",{onClick:()=>e("/budget/reconciliation/new"),className:"w-full py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:"Start Reconciliation"})]}),s.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Recent Reconciliations"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-green-900",children:"October 2024"}),s.jsx("div",{className:"text-sm text-green-700",children:"Completed â€¢ 98% match rate"})]}),s.jsx(Ur,{className:"w-5 h-5 text-green-600"})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-yellow-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-yellow-900",children:"November 2024"}),s.jsx("div",{className:"text-sm text-yellow-700",children:"In Progress â€¢ 3 discrepancies"})]}),s.jsx(Ul,{className:"w-5 h-5 text-yellow-600"})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900",children:"December 2024"}),s.jsx("div",{className:"text-sm text-gray-700",children:"Pending â€¢ Not started"})]}),s.jsx(Lr,{className:"w-5 h-5 text-gray-600"})]})]}),s.jsx("button",{onClick:()=>e("/budget/reconciliation"),className:"w-full mt-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors text-sm",children:"View Reconciliation History"})]})]}),s.jsxs("div",{className:"mt-6 bg-gradient-to-r from-indigo-50 to-purple-50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(Ar,{className:"w-5 h-5 text-indigo-600"}),s.jsx("span",{className:"font-medium text-indigo-900",children:"Reconciliation Insights"})]}),s.jsx("div",{className:"text-sm text-indigo-800",children:"Your reconciliation accuracy has improved by 15% this quarter. Consider setting up automated monthly reconciliations to maintain financial accuracy and save time."})]})]}),N=()=>s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-8",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Create New Budget Item"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-6 hover:border-blue-300 transition-colors",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx(a6,{className:"w-8 h-8 text-gray-600"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:"Manual Entry"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Full control over details"})]})]}),s.jsxs("ul",{className:"text-sm text-gray-600 space-y-2 mb-4",children:[s.jsx("li",{children:"â€¢ Custom categories"}),s.jsx("li",{children:"â€¢ Detailed line items"}),s.jsx("li",{children:"â€¢ Manual calculations"})]}),s.jsx("button",{onClick:c,className:"w-full py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Create Manually"})]}),s.jsxs("div",{className:"border-2 border-blue-200 rounded-lg p-6 hover:border-blue-400 transition-colors bg-blue-50",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx(Ar,{className:"w-8 h-8 text-blue-600"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-blue-900",children:"Stella Assisted"}),s.jsx("p",{className:"text-sm text-blue-700",children:"Smart suggestions & validation"})]})]}),s.jsxs("ul",{className:"text-sm text-blue-700 space-y-2 mb-4",children:[s.jsx("li",{children:"â€¢ Budget recommendations"}),s.jsx("li",{children:"â€¢ Historical comparisons"}),s.jsx("li",{children:"â€¢ Optimization suggestions"})]}),s.jsx("button",{onClick:u,className:"w-full py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Get Stella's Help"})]}),s.jsxs("div",{className:"border-2 border-purple-200 rounded-lg p-6 hover:border-purple-400 transition-colors bg-purple-50",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx(Ar,{className:"w-8 h-8 text-purple-600"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-purple-900",children:"Stella Auto-Generate"}),s.jsx("p",{className:"text-sm text-purple-700",children:"Complete budget creation"})]})]}),s.jsxs("ul",{className:"text-sm text-purple-700 space-y-2 mb-4",children:[s.jsx("li",{children:"â€¢ AI-powered allocations"}),s.jsx("li",{children:"â€¢ Predictive modeling"}),s.jsx("li",{children:"â€¢ Optimization algorithms"})]}),s.jsx("button",{onClick:d,className:"w-full py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Let Stella Generate"})]})]})]}),_=()=>s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Recent Transactions"}),s.jsxs("button",{className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(fS,{className:"w-4 h-4 mr-2"}),"Export"]})]}),s.jsx("div",{className:"space-y-4",children:l.recentTransactions.map(w=>s.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${w.type==="income"?"bg-green-100":"bg-red-100"}`,children:w.type==="income"?s.jsx(r0,{className:"w-5 h-5 text-green-600"}):s.jsx(O1,{className:"w-5 h-5 text-red-600"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:w.description}),w.createdBy==="stella"&&s.jsx(Ar,{className:"w-4 h-4 text-purple-500",title:"Processed by Stella"})]}),s.jsxs("div",{className:"text-sm text-gray-600",children:[w.category," â€¢ ",new Date(w.date).toLocaleDateString()]})]})]}),s.jsxs("div",{className:`text-lg font-semibold ${w.type==="income"?"text-green-600":"text-red-600"}`,children:[w.type==="income"?"+":"","$",Math.abs(w.amount).toLocaleString()]})]},w.id))})]});return s.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Budget Dashboard"}),s.jsx("p",{className:"text-gray-600",children:"Manage your PTO finances with Stella's intelligent insights"})]}),s.jsx("div",{className:"flex items-center space-x-3",children:s.jsxs("select",{value:i,onChange:w=>o(w.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"current",children:"Current Year"}),s.jsx("option",{value:"previous",children:"Previous Year"}),s.jsx("option",{value:"quarter",children:"This Quarter"})]})})]}),s.jsx(g,{}),s.jsx(x,{}),s.jsx(y,{}),s.jsx(N,{}),s.jsx(b,{}),s.jsx(_,{})]})})};function Zue(){const[e,t]=$.useState({label:"",amount:"",category:"",type:"expense",related_event_id:""}),[r,n]=$.useState(""),[a,i]=$.useState(""),o=c=>{const{name:u,value:d}=c.target;t(f=>({...f,[u]:d}))},l=async c=>{c.preventDefault(),i(""),n("");const{data:{session:u}}=await We.auth.getSession();if(!(u!=null&&u.access_token)){i("Authentication required.");return}try{const d=await fetch("/api/budgets",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u.access_token}`},body:JSON.stringify(e)}),f=await d.json();d.ok?(n("Budget entry added successfully!"),t({label:"",amount:"",category:"",type:"expense",related_event_id:""})):i(f.error||"Submission failed.")}catch(d){console.error("Budget entry error:",d),i("Server error. Please try again.")}};return s.jsxs("div",{className:"max-w-xl mx-auto p-4",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Add Budget Entry"}),s.jsxs("form",{onSubmit:l,className:"space-y-4",children:[s.jsx("input",{name:"label",value:e.label,onChange:o,placeholder:"Label",className:"w-full border p-2",required:!0}),s.jsx("input",{type:"number",name:"amount",value:e.amount,onChange:o,placeholder:"Amount",className:"w-full border p-2",required:!0}),s.jsx("input",{name:"category",value:e.category,onChange:o,placeholder:"Category (e.g., supplies, venue)",className:"w-full border p-2"}),s.jsxs("select",{name:"type",value:e.type,onChange:o,className:"w-full border p-2",children:[s.jsx("option",{value:"expense",children:"Expense"}),s.jsx("option",{value:"income",children:"Income"})]}),s.jsx("input",{name:"related_event_id",value:e.related_event_id,onChange:o,placeholder:"Related Event ID (optional)",className:"w-full border p-2"}),s.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded",type:"submit",children:"Save Entry"}),r&&s.jsx("p",{className:"text-green-600",children:r}),a&&s.jsx("p",{className:"text-red-600",children:a})]})]})}const Que=()=>s.jsxs("div",{children:[s.jsx("h1",{children:"Reconciliation Dashboard"}),s.jsx("p",{children:"This is a placeholder for the Reconciliation Dashboard."})]});function ede({title:e,titleId:t,...r},n){return $.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?$.createElement("title",{id:t},e):null,$.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"}))}const tde=$.forwardRef(ede);function rde({title:e,titleId:t,...r},n){return $.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?$.createElement("title",{id:t},e):null,$.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 21 3 16.5m0 0L7.5 12M3 16.5h13.5m0-13.5L21 7.5m0 0L16.5 12M21 7.5H7.5"}))}const aS=$.forwardRef(rde);function nde({title:e,titleId:t,...r},n){return $.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?$.createElement("title",{id:t},e):null,$.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const nb=$.forwardRef(nde);function ade({title:e,titleId:t,...r},n){return $.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?$.createElement("title",{id:t},e):null,$.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const ide=$.forwardRef(ade);function sde({title:e,titleId:t,...r},n){return $.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?$.createElement("title",{id:t},e):null,$.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const ode=$.forwardRef(sde);function lde({title:e,titleId:t,...r},n){return $.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?$.createElement("title",{id:t},e):null,$.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const cde=$.forwardRef(lde);function ude({title:e,titleId:t,...r},n){return $.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?$.createElement("title",{id:t},e):null,$.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const dde=$.forwardRef(ude);function fde({title:e,titleId:t,...r},n){return $.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?$.createElement("title",{id:t},e):null,$.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),$.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const hde=$.forwardRef(fde);function pde({title:e,titleId:t,...r},n){return $.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?$.createElement("title",{id:t},e):null,$.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"}))}const mde=$.forwardRef(pde);function gde({title:e,titleId:t,...r},n){return $.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?$.createElement("title",{id:t},e):null,$.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const nP=$.forwardRef(gde),zh={startReconciliation:async e=>{var t,r,n,a,i,o,l,c,u,d;console.log("ðŸ” [FRONTEND DEBUG] startReconciliation called with data:",e);try{console.log("ðŸ” [FRONTEND DEBUG] Making API call to /budget/reconciliation/start");const f=await Ot.post("/budget/reconciliation/start",e);console.log("ðŸ” [FRONTEND DEBUG] API response received:",{status:f.status,statusText:f.statusText,data:f.data});const h={success:f.data.success,data:f.data.data,error:((r=(t=f.data.errors)==null?void 0:t[0])==null?void 0:r.message)||null};return console.log("ðŸ” [FRONTEND DEBUG] Processed result:",h),h}catch(f){console.error("âŒ [FRONTEND DEBUG] Error starting reconciliation:",f),console.error("âŒ [FRONTEND DEBUG] Error response:",f.response),console.error("âŒ [FRONTEND DEBUG] Error response data:",(n=f.response)==null?void 0:n.data),console.error("âŒ [FRONTEND DEBUG] Error response status:",(a=f.response)==null?void 0:a.status);const h=((c=(l=(o=(i=f.response)==null?void 0:i.data)==null?void 0:o.errors)==null?void 0:l[0])==null?void 0:c.message)||((d=(u=f.response)==null?void 0:u.data)==null?void 0:d.error)||f.message;return console.error("âŒ [FRONTEND DEBUG] Final error message:",h),{success:!1,error:h}}},getReconciliations:async()=>{var e,t,r,n,a,i;try{const o=await Ot.get("/budget/reconciliation");return{success:o.data.success,data:o.data.data,error:((t=(e=o.data.errors)==null?void 0:e[0])==null?void 0:t.message)||null}}catch(o){return console.error("Error fetching reconciliations:",o),{success:!1,error:((i=(a=(n=(r=o.response)==null?void 0:r.data)==null?void 0:n.errors)==null?void 0:a[0])==null?void 0:i.message)||o.message}}},uploadStatement:async(e,t)=>{var r,n,a,i,o,l;try{const c=await Ot.post(`/budget/reconciliation/${e}/upload`,t);return{success:c.data.success,data:c.data.data,error:((n=(r=c.data.errors)==null?void 0:r[0])==null?void 0:n.message)||null}}catch(c){return console.error("Error uploading statement:",c),{success:!1,error:((l=(o=(i=(a=c.response)==null?void 0:a.data)==null?void 0:i.errors)==null?void 0:o[0])==null?void 0:l.message)||c.message}}},getTransactions:async e=>{var t,r,n,a,i,o;try{const l=await Ot.get(`/budget/reconciliation/${e}/transactions`);return{success:l.data.success,data:l.data.data,error:((r=(t=l.data.errors)==null?void 0:t[0])==null?void 0:r.message)||null}}catch(l){return console.error("Error fetching transactions:",l),{success:!1,error:((o=(i=(a=(n=l.response)==null?void 0:n.data)==null?void 0:a.errors)==null?void 0:i[0])==null?void 0:o.message)||l.message}}},matchTransaction:async(e,t)=>{var r,n,a,i,o,l;try{const c=await Ot.post(`/budget/reconciliation/${e}/match`,{bank_transaction_id:t.bankTransactionId,expense_id:t.expenseId});return{success:c.data.success,data:c.data.data,error:((n=(r=c.data.errors)==null?void 0:r[0])==null?void 0:n.message)||null}}catch(c){return console.error("Error matching transaction:",c),{success:!1,error:((l=(o=(i=(a=c.response)==null?void 0:a.data)==null?void 0:i.errors)==null?void 0:o[0])==null?void 0:l.message)||c.message}}},completeReconciliation:async e=>{var t,r,n,a,i,o;try{const l=await Ot.post(`/budget/reconciliation/${e}/complete`);return{success:l.data.success,data:l.data.data,error:((r=(t=l.data.errors)==null?void 0:t[0])==null?void 0:r.message)||null}}catch(l){return console.error("Error completing reconciliation:",l),{success:!1,error:((o=(i=(a=(n=l.response)==null?void 0:n.data)==null?void 0:a.errors)==null?void 0:i[0])==null?void 0:o.message)||l.message}}},generateReport:async e=>{var t,r,n,a,i,o;try{const l=await Ot.get(`/budget/reconciliation/${e}/report`);return{success:l.data.success,data:l.data.data,error:((r=(t=l.data.errors)==null?void 0:t[0])==null?void 0:r.message)||null}}catch(l){return console.error("Error generating report:",l),{success:!1,error:((o=(i=(a=(n=l.response)==null?void 0:n.data)==null?void 0:a.errors)==null?void 0:i[0])==null?void 0:o.message)||l.message}}}};var vde={exports:{}};(function(e){var t=function(r){var n=Object.prototype,a=n.hasOwnProperty,i=Object.defineProperty||function(Y,Z,ae){Y[Z]=ae.value},o,l=typeof Symbol=="function"?Symbol:{},c=l.iterator||"@@iterator",u=l.asyncIterator||"@@asyncIterator",d=l.toStringTag||"@@toStringTag";function f(Y,Z,ae){return Object.defineProperty(Y,Z,{value:ae,enumerable:!0,configurable:!0,writable:!0}),Y[Z]}try{f({},"")}catch{f=function(Z,ae,D){return Z[ae]=D}}function h(Y,Z,ae,D){var W=Z&&Z.prototype instanceof N?Z:N,Q=Object.create(W.prototype),ne=new F(D||[]);return i(Q,"_invoke",{value:C(Y,ae,ne)}),Q}r.wrap=h;function p(Y,Z,ae){try{return{type:"normal",arg:Y.call(Z,ae)}}catch(D){return{type:"throw",arg:D}}}var v="suspendedStart",g="suspendedYield",x="executing",b="completed",y={};function N(){}function _(){}function w(){}var S={};f(S,c,function(){return this});var P=Object.getPrototypeOf,O=P&&P(P(B([])));O&&O!==n&&a.call(O,c)&&(S=O);var T=w.prototype=N.prototype=Object.create(S);_.prototype=w,i(T,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:_,configurable:!0}),_.displayName=f(w,d,"GeneratorFunction");function I(Y){["next","throw","return"].forEach(function(Z){f(Y,Z,function(ae){return this._invoke(Z,ae)})})}r.isGeneratorFunction=function(Y){var Z=typeof Y=="function"&&Y.constructor;return Z?Z===_||(Z.displayName||Z.name)==="GeneratorFunction":!1},r.mark=function(Y){return Object.setPrototypeOf?Object.setPrototypeOf(Y,w):(Y.__proto__=w,f(Y,d,"GeneratorFunction")),Y.prototype=Object.create(T),Y},r.awrap=function(Y){return{__await:Y}};function k(Y,Z){function ae(Q,ne,se,he){var de=p(Y[Q],Y,ne);if(de.type==="throw")he(de.arg);else{var ie=de.arg,xe=ie.value;return xe&&typeof xe=="object"&&a.call(xe,"__await")?Z.resolve(xe.__await).then(function(be){ae("next",be,se,he)},function(be){ae("throw",be,se,he)}):Z.resolve(xe).then(function(be){ie.value=be,se(ie)},function(be){return ae("throw",be,se,he)})}}var D;function W(Q,ne){function se(){return new Z(function(he,de){ae(Q,ne,he,de)})}return D=D?D.then(se,se):se()}i(this,"_invoke",{value:W})}I(k.prototype),f(k.prototype,u,function(){return this}),r.AsyncIterator=k,r.async=function(Y,Z,ae,D,W){W===void 0&&(W=Promise);var Q=new k(h(Y,Z,ae,D),W);return r.isGeneratorFunction(Z)?Q:Q.next().then(function(ne){return ne.done?ne.value:Q.next()})};function C(Y,Z,ae){var D=v;return function(Q,ne){if(D===x)throw new Error("Generator is already running");if(D===b){if(Q==="throw")throw ne;return X()}for(ae.method=Q,ae.arg=ne;;){var se=ae.delegate;if(se){var he=L(se,ae);if(he){if(he===y)continue;return he}}if(ae.method==="next")ae.sent=ae._sent=ae.arg;else if(ae.method==="throw"){if(D===v)throw D=b,ae.arg;ae.dispatchException(ae.arg)}else ae.method==="return"&&ae.abrupt("return",ae.arg);D=x;var de=p(Y,Z,ae);if(de.type==="normal"){if(D=ae.done?b:g,de.arg===y)continue;return{value:de.arg,done:ae.done}}else de.type==="throw"&&(D=b,ae.method="throw",ae.arg=de.arg)}}}function L(Y,Z){var ae=Z.method,D=Y.iterator[ae];if(D===o)return Z.delegate=null,ae==="throw"&&Y.iterator.return&&(Z.method="return",Z.arg=o,L(Y,Z),Z.method==="throw")||ae!=="return"&&(Z.method="throw",Z.arg=new TypeError("The iterator does not provide a '"+ae+"' method")),y;var W=p(D,Y.iterator,Z.arg);if(W.type==="throw")return Z.method="throw",Z.arg=W.arg,Z.delegate=null,y;var Q=W.arg;if(!Q)return Z.method="throw",Z.arg=new TypeError("iterator result is not an object"),Z.delegate=null,y;if(Q.done)Z[Y.resultName]=Q.value,Z.next=Y.nextLoc,Z.method!=="return"&&(Z.method="next",Z.arg=o);else return Q;return Z.delegate=null,y}I(T),f(T,d,"Generator"),f(T,c,function(){return this}),f(T,"toString",function(){return"[object Generator]"});function R(Y){var Z={tryLoc:Y[0]};1 in Y&&(Z.catchLoc=Y[1]),2 in Y&&(Z.finallyLoc=Y[2],Z.afterLoc=Y[3]),this.tryEntries.push(Z)}function V(Y){var Z=Y.completion||{};Z.type="normal",delete Z.arg,Y.completion=Z}function F(Y){this.tryEntries=[{tryLoc:"root"}],Y.forEach(R,this),this.reset(!0)}r.keys=function(Y){var Z=Object(Y),ae=[];for(var D in Z)ae.push(D);return ae.reverse(),function W(){for(;ae.length;){var Q=ae.pop();if(Q in Z)return W.value=Q,W.done=!1,W}return W.done=!0,W}};function B(Y){if(Y){var Z=Y[c];if(Z)return Z.call(Y);if(typeof Y.next=="function")return Y;if(!isNaN(Y.length)){var ae=-1,D=function W(){for(;++ae<Y.length;)if(a.call(Y,ae))return W.value=Y[ae],W.done=!1,W;return W.value=o,W.done=!0,W};return D.next=D}}return{next:X}}r.values=B;function X(){return{value:o,done:!0}}return F.prototype={constructor:F,reset:function(Y){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(V),!Y)for(var Z in this)Z.charAt(0)==="t"&&a.call(this,Z)&&!isNaN(+Z.slice(1))&&(this[Z]=o)},stop:function(){this.done=!0;var Y=this.tryEntries[0],Z=Y.completion;if(Z.type==="throw")throw Z.arg;return this.rval},dispatchException:function(Y){if(this.done)throw Y;var Z=this;function ae(he,de){return Q.type="throw",Q.arg=Y,Z.next=he,de&&(Z.method="next",Z.arg=o),!!de}for(var D=this.tryEntries.length-1;D>=0;--D){var W=this.tryEntries[D],Q=W.completion;if(W.tryLoc==="root")return ae("end");if(W.tryLoc<=this.prev){var ne=a.call(W,"catchLoc"),se=a.call(W,"finallyLoc");if(ne&&se){if(this.prev<W.catchLoc)return ae(W.catchLoc,!0);if(this.prev<W.finallyLoc)return ae(W.finallyLoc)}else if(ne){if(this.prev<W.catchLoc)return ae(W.catchLoc,!0)}else if(se){if(this.prev<W.finallyLoc)return ae(W.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(Y,Z){for(var ae=this.tryEntries.length-1;ae>=0;--ae){var D=this.tryEntries[ae];if(D.tryLoc<=this.prev&&a.call(D,"finallyLoc")&&this.prev<D.finallyLoc){var W=D;break}}W&&(Y==="break"||Y==="continue")&&W.tryLoc<=Z&&Z<=W.finallyLoc&&(W=null);var Q=W?W.completion:{};return Q.type=Y,Q.arg=Z,W?(this.method="next",this.next=W.finallyLoc,y):this.complete(Q)},complete:function(Y,Z){if(Y.type==="throw")throw Y.arg;return Y.type==="break"||Y.type==="continue"?this.next=Y.arg:Y.type==="return"?(this.rval=this.arg=Y.arg,this.method="return",this.next="end"):Y.type==="normal"&&Z&&(this.next=Z),y},finish:function(Y){for(var Z=this.tryEntries.length-1;Z>=0;--Z){var ae=this.tryEntries[Z];if(ae.finallyLoc===Y)return this.complete(ae.completion,ae.afterLoc),V(ae),y}},catch:function(Y){for(var Z=this.tryEntries.length-1;Z>=0;--Z){var ae=this.tryEntries[Z];if(ae.tryLoc===Y){var D=ae.completion;if(D.type==="throw"){var W=D.arg;V(ae)}return W}}throw new Error("illegal catch attempt")},delegateYield:function(Y,Z,ae){return this.delegate={iterator:B(Y),resultName:Z,nextLoc:ae},this.method==="next"&&(this.arg=o),y}},r}(e.exports);try{regeneratorRuntime=t}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}})(vde);var Jx=(e,t)=>`${e}-${t}-${Math.random().toString(16).slice(3,8)}`;const yde=Jx;let iS=0;var aP=({id:e,action:t,payload:r={}})=>{let n=e;return typeof n>"u"&&(n=yde("Job",iS),iS+=1),{id:n,action:t,payload:r}},Yc={};let Zx=!1;Yc.logging=Zx;Yc.setLogging=e=>{Zx=e};Yc.log=(...e)=>Zx?console.log.apply(void 0,e):null;const bde=aP,{log:Eh}=Yc,xde=Jx;let sS=0;var wde=()=>{const e=xde("Scheduler",sS),t={},r={};let n=[];sS+=1;const a=()=>n.length,i=()=>Object.keys(t).length,o=()=>{if(n.length!==0){const f=Object.keys(t);for(let h=0;h<f.length;h+=1)if(typeof r[f[h]]>"u"){n[0](t[f[h]]);break}}},l=(f,h)=>new Promise((p,v)=>{const g=bde({action:f,payload:h});n.push(async x=>{n.shift(),r[x.id]=g;try{p(await x[f].apply(void 0,[...h,g.id]))}catch(b){v(b)}finally{delete r[x.id],o()}}),Eh(`[${e}]: Add ${g.id} to JobQueue`),Eh(`[${e}]: JobQueue length=${n.length}`),o()});return{addWorker:f=>(t[f.id]=f,Eh(`[${e}]: Add ${f.id}`),Eh(`[${e}]: Number of workers=${i()}`),o(),f.id),addJob:async(f,...h)=>{if(i()===0)throw Error(`[${e}]: You need to have at least one worker before adding jobs`);return l(f,h)},terminate:async()=>{Object.keys(t).forEach(async f=>{await t[f].terminate()}),n=[]},getQueueLen:a,getNumWorkers:i}};function jde(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Nde=e=>{const t={};return typeof WorkerGlobalScope<"u"?t.type="webworker":typeof document=="object"?t.type="browser":typeof process=="object"&&typeof jde=="function"&&(t.type="node"),typeof e>"u"?t:t[e]};const Sde=Nde("type")==="browser",_de=Sde?e=>new URL(e,window.location.href).href:e=>e;var Ade=e=>{const t={...e};return["corePath","workerPath","langPath"].forEach(r=>{e[r]&&(t[r]=_de(t[r]))}),t},iP={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3};const Ode="6.0.1",Pde={version:Ode};var Ede={workerBlobURL:!0,logger:()=>{}};const kde=Pde.version,Cde=Ede;var Tde={...Cde,workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${kde}/dist/worker.min.js`},Lde=({workerPath:e,workerBlobURL:t})=>{let r;if(Blob&&URL&&t){const n=new Blob([`importScripts("${e}");`],{type:"application/javascript"});r=new Worker(URL.createObjectURL(n))}else r=new Worker(e);return r},Mde=e=>{e.terminate()},Dde=(e,t)=>{e.onmessage=({data:r})=>{t(r)}},$de=async(e,t)=>{e.postMessage(t)};const Qv=e=>new Promise((t,r)=>{const n=new FileReader;n.onload=()=>{t(n.result)},n.onerror=({target:{error:{code:a}}})=>{r(Error(`File could not be read! Code=${a}`))},n.readAsArrayBuffer(e)}),ab=async e=>{let t=e;if(typeof e>"u")return"undefined";if(typeof e=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(e)?t=atob(e.split(",")[1]).split("").map(r=>r.charCodeAt(0)):t=await(await fetch(e)).arrayBuffer();else if(typeof HTMLElement<"u"&&e instanceof HTMLElement)e.tagName==="IMG"&&(t=await ab(e.src)),e.tagName==="VIDEO"&&(t=await ab(e.poster)),e.tagName==="CANVAS"&&await new Promise(r=>{e.toBlob(async n=>{t=await Qv(n),r()})});else if(typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas){const r=await e.convertToBlob();t=await Qv(r)}else(e instanceof File||e instanceof Blob)&&(t=await Qv(e));return new Uint8Array(t)};var Ide=ab;const Rde=Tde,Fde=Lde,Bde=Mde,zde=Dde,qde=$de,Ude=Ide;var Wde={defaultOptions:Rde,spawnWorker:Fde,terminateWorker:Bde,onMessage:zde,send:qde,loadImage:Ude};const Hde=Ade,ri=aP,{log:oS}=Yc,Gde=Jx,Js=iP,{defaultOptions:Vde,spawnWorker:Yde,terminateWorker:Kde,onMessage:Xde,loadImage:lS,send:Jde}=Wde;let cS=0;var sP=async(e="eng",t=Js.LSTM_ONLY,r={},n={})=>{const a=Gde("Worker",cS),{logger:i,errorHandler:o,...l}=Hde({...Vde,...r}),c={},u=typeof e=="string"?e.split("+"):e;let d=t,f=n;const h=[Js.DEFAULT,Js.LSTM_ONLY].includes(t)&&!l.legacyCore;let p,v;const g=new Promise((B,X)=>{v=B,p=X}),x=B=>{p(B.message)};let b=Yde(l);b.onerror=x,cS+=1;const y=({id:B,action:X,payload:Y})=>new Promise((Z,ae)=>{oS(`[${a}]: Start ${B}, action=${X}`);const D=`${X}-${B}`;c[D]={resolve:Z,reject:ae},Jde(b,{workerId:a,jobId:B,action:X,payload:Y})}),N=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),_=B=>y(ri({id:B,action:"load",payload:{options:{lstmOnly:h,corePath:l.corePath,logging:l.logging}}})),w=(B,X,Y)=>y(ri({id:Y,action:"FS",payload:{method:"writeFile",args:[B,X]}})),S=(B,X)=>y(ri({id:X,action:"FS",payload:{method:"readFile",args:[B,{encoding:"utf8"}]}})),P=(B,X)=>y(ri({id:X,action:"FS",payload:{method:"unlink",args:[B]}})),O=(B,X,Y)=>y(ri({id:Y,action:"FS",payload:{method:B,args:X}})),T=(B,X)=>y(ri({id:X,action:"loadLanguage",payload:{langs:B,options:{langPath:l.langPath,dataPath:l.dataPath,cachePath:l.cachePath,cacheMethod:l.cacheMethod,gzip:l.gzip,lstmOnly:[Js.DEFAULT,Js.LSTM_ONLY].includes(d)&&!l.legacyLang}}})),I=(B,X,Y,Z)=>y(ri({id:Z,action:"initialize",payload:{langs:B,oem:X,config:Y}})),k=(B="eng",X,Y,Z)=>{if(h&&[Js.TESSERACT_ONLY,Js.TESSERACT_LSTM_COMBINED].includes(X))throw Error("Legacy model requested but code missing.");const ae=X||d;d=ae;const D=Y||f;f=D;const Q=(typeof B=="string"?B.split("+"):B).filter(ne=>!u.includes(ne));return u.push(...Q),Q.length>0?T(Q,Z).then(()=>I(B,ae,D,Z)):I(B,ae,D,Z)},C=(B={},X)=>y(ri({id:X,action:"setParameters",payload:{params:B}})),L=async(B,X={},Y={text:!0},Z)=>y(ri({id:Z,action:"recognize",payload:{image:await lS(B),options:X,output:Y}})),R=async(B,X)=>{if(h)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return y(ri({id:X,action:"detect",payload:{image:await lS(B)}}))},V=async()=>(b!==null&&(Kde(b),b=null),Promise.resolve());Xde(b,({workerId:B,jobId:X,status:Y,action:Z,data:ae})=>{const D=`${Z}-${X}`;if(Y==="resolve")oS(`[${B}]: Complete ${X}`),c[D].resolve({jobId:X,data:ae}),delete c[D];else if(Y==="reject")if(c[D].reject(ae),delete c[D],Z==="load"&&p(ae),o)o(ae);else throw Error(ae);else Y==="progress"&&i({...ae,userJobId:X})});const F={id:a,worker:b,load:N,writeText:w,readText:S,removeFile:P,FS:O,reinitialize:k,setParameters:C,recognize:L,detect:R,terminate:V};return _().then(()=>T(e)).then(()=>I(e,t,n)).then(()=>v(F)).catch(()=>{}),g};const oP=sP,Zde=async(e,t,r)=>{const n=await oP(t,1,r);return n.recognize(e).finally(async()=>{await n.terminate()})},Qde=async(e,t)=>{const r=await oP("osd",0,t);return r.detect(e).finally(async()=>{await r.terminate()})};var efe={recognize:Zde,detect:Qde},tfe={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"},rfe={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"};const nfe=wde,afe=sP,ife=efe,sfe=tfe,ofe=iP,lfe=rfe,{setLogging:cfe}=Yc;var ufe={languages:sfe,OEM:ofe,PSM:lfe,createScheduler:nfe,createWorker:afe,setLogging:cfe,...ife};const dfe=Nt(ufe);class ffe{constructor(){this.worker=null,this.isInitialized=!1}async initialize(){if(!this.isInitialized)try{this.worker=await dfe.createWorker("eng"),this.isInitialized=!0,console.log("OCR Worker initialized successfully")}catch(t){throw console.error("Failed to initialize OCR worker:",t),new Error("OCR initialization failed")}}async processImage(t,r=null){this.isInitialized||await this.initialize();try{const n=await this.worker.recognize(t,{logger:r?a=>{a.status==="recognizing text"&&r(Math.round(a.progress*100))}:void 0});return{success:!0,text:n.data.text,confidence:n.data.confidence,words:n.data.words,lines:n.data.lines}}catch(n){return console.error("OCR processing failed:",n),{success:!1,error:n.message}}}async processBankStatement(t,r=null){const n=await this.processImage(t,r);if(!n.success)return n;const a=this.parseTransactions(n.text);return{success:!0,rawText:n.text,confidence:n.confidence,transactions:a,metadata:{totalTransactions:a.length,processingDate:new Date().toISOString()}}}parseTransactions(t){const r=[],n=t.split(`
`).filter(i=>i.trim().length>0),a={date:/(\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4})/,amount:/[\$\-]?(\d{1,3}(?:,\d{3})*\.?\d{0,2})/,debitCredit:/(DEBIT|CREDIT|DR|CR|WITHDRAWAL|DEPOSIT)/i};for(let i=0;i<n.length;i++){const o=n[i].trim();if(this.isHeaderLine(o)||o.length<10)continue;const l=o.match(a.date),c=o.match(new RegExp(a.amount.source,"g"));if(l&&c){const u=c.map(d=>{const f=d.replace(/[\$,]/g,"");return parseFloat(f)}).filter(d=>!isNaN(d)&&d>0);if(u.length>0){const d=Math.max(...u);let f=o.replace(a.date,"").replace(new RegExp(a.amount.source,"g"),"").replace(a.debitCredit,"").trim().replace(/\s+/g," ");f=this.cleanDescription(f),f.length>3&&r.push({id:`ocr_${Date.now()}_${i}`,date:this.parseDate(l[1]),description:f,amount:d,type:this.determineTransactionType(o),rawLine:o,confidence:this.calculateLineConfidence(o)})}}}return r.sort((i,o)=>new Date(o.date)-new Date(i.date))}isHeaderLine(t){const r=["STATEMENT","ACCOUNT","BALANCE","DATE","DESCRIPTION","AMOUNT","TRANSACTION","BEGINNING","ENDING","TOTAL","PAGE","BANK","CREDIT UNION"],n=t.toUpperCase();return r.some(a=>n.includes(a))&&!t.match(/\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}/)}cleanDescription(t){return t.replace(/\b(POS|ATM|ACH|CHK|DEP|WD|TFR|FEE)\b/gi,"").replace(/\b\d{4,}\b/g,"").replace(/[#*]+/g,"").replace(/\s+/g," ").trim()}parseDate(t){const r=[/(\d{1,2})\/(\d{1,2})\/(\d{2,4})/,/(\d{1,2})-(\d{1,2})-(\d{2,4})/];for(const n of r){const a=t.match(n);if(a){let[,i,o,l]=a;return l.length===2&&(l=parseInt(l)>50?`19${l}`:`20${l}`),`${l}-${i.padStart(2,"0")}-${o.padStart(2,"0")}`}}return t}determineTransactionType(t){const r=t.toUpperCase();return r.includes("DEBIT")||r.includes("WITHDRAWAL")||r.includes("DR")||r.includes("WD")?"debit":r.includes("CREDIT")||r.includes("DEPOSIT")||r.includes("CR")||r.includes("DEP")?"credit":"debit"}calculateLineConfidence(t){let r=.5;return t.match(/\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}/)&&(r+=.2),t.match(/\$?\d+\.\d{2}/)&&(r+=.2),t.length>20&&t.length<100&&(r+=.1),Math.min(r,1)}async terminate(){this.worker&&(await this.worker.terminate(),this.worker=null,this.isInitialized=!1)}validateTransactions(t){return t.filter(r=>r.date&&r.description&&r.description.length>2&&r.amount&&r.amount>0&&!isNaN(r.amount))}suggestCorrections(t){return t.map(r=>{const n=[];return r.description.includes("0")&&r.description.includes("O")&&n.push("Check if O should be 0 or vice versa"),r.description.includes("1")&&r.description.includes("l")&&n.push("Check if l should be 1 or vice versa"),r.amount>1e4&&n.push("Verify large amount - possible OCR error"),{...r,suggestions:n}})}}const e0=new ffe,hfe=({onUpload:e})=>{const[t,r]=$.useState(null),[n,a]=$.useState(!1),[i,o]=$.useState(0),[l,c]=$.useState(null),[u,d]=$.useState(!1),[f,h]=$.useState(!1),p=w=>{w.preventDefault(),w.stopPropagation(),w.type==="dragenter"||w.type==="dragover"?h(!0):w.type==="dragleave"&&h(!1)},v=w=>{w.preventDefault(),w.stopPropagation(),h(!1),w.dataTransfer.files&&w.dataTransfer.files[0]&&x(w.dataTransfer.files[0])},g=w=>{w.target.files&&w.target.files[0]&&x(w.target.files[0])},x=w=>{if(!["image/jpeg","image/png","image/jpg","application/pdf"].includes(w.type)){alert("Please upload a valid image (JPG, PNG) or PDF file.");return}if(w.size>10*1024*1024){alert("File size must be less than 10MB.");return}r(w),c(null),o(0)},b=async()=>{if(t){a(!0),o(0);try{if(t.type==="application/pdf"){alert("PDF processing will be implemented in the next update. Please use an image file for now."),a(!1);return}const w=await e0.processBankStatement(t,S=>{o(S)});if(w.success){const S=e0.validateTransactions(w.transactions),P=e0.suggestCorrections(S);c({...w,transactions:P})}else alert(`OCR processing failed: ${w.error}`)}catch(w){console.error("OCR processing error:",w),alert("Failed to process the bank statement. Please try again.")}finally{a(!1),o(0)}}},y=()=>{l&&l.transactions.length>0&&e({file:t,ocrResult:l,transactions:l.transactions})},N=(w,S,P)=>{const O=[...l.transactions];O[w]={...O[w],[S]:S==="amount"?parseFloat(P)||0:P},c({...l,transactions:O})},_=w=>{const S=l.transactions.filter((P,O)=>O!==w);c({...l,transactions:S})};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Upload Bank Statement"}),s.jsxs("div",{className:`relative border-2 border-dashed rounded-lg p-8 text-center transition-colors ${f?"border-blue-400 bg-blue-50":"border-gray-300"} ${n?"opacity-50 pointer-events-none":""}`,onDragEnter:p,onDragLeave:p,onDragOver:p,onDrop:v,children:[s.jsx(tde,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsx("h4",{className:"mt-2 text-sm font-medium text-gray-900",children:n?"Processing...":"Upload your bank statement"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Drag and drop or click to select. Supports JPG, PNG, and PDF files up to 10MB."}),s.jsxs("div",{className:"mt-6",children:[s.jsx("input",{type:"file",id:"file-upload",className:"sr-only",onChange:g,accept:".pdf,.png,.jpg,.jpeg",disabled:n}),s.jsx("label",{htmlFor:"file-upload",className:"cursor-pointer inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Select a file"})]}),t&&s.jsx("div",{className:"mt-4 p-3 bg-gray-50 rounded-md",children:s.jsxs("p",{className:"text-sm text-gray-600",children:[s.jsx("strong",{children:"Selected:"})," ",t.name," (",(t.size/1024/1024).toFixed(2)," MB)"]})}),n&&s.jsxs("div",{className:"mt-4",children:[s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${i}%`}})}),s.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Processing: ",i,"%"]})]})]}),t&&!l&&!n&&s.jsx("div",{className:"text-center",children:s.jsxs("button",{onClick:b,className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700",children:[s.jsx(hde,{className:"h-5 w-5 mr-2"}),"Extract Transactions with OCR"]})}),l&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-md p-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(nb,{className:"h-5 w-5 text-green-400 mr-2"}),s.jsx("h4",{className:"text-sm font-medium text-green-800",children:"OCR Processing Complete"})]}),s.jsxs("p",{className:"mt-1 text-sm text-green-700",children:["Extracted ",l.transactions.length," transactions with ",Math.round(l.confidence),"% confidence."]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg",children:[s.jsxs("div",{className:"px-4 py-3 border-b border-gray-200",children:[s.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"Review Extracted Transactions"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Please review and edit the transactions below before proceeding."})]}),s.jsx("div",{className:"divide-y divide-gray-200 max-h-96 overflow-y-auto",children:l.transactions.map((w,S)=>s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Date"}),s.jsx("input",{type:"date",value:w.date,onChange:P=>N(S,"date",P.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Description"}),s.jsx("input",{type:"text",value:w.description,onChange:P=>N(S,"description",P.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})]}),s.jsxs("div",{className:"flex items-end space-x-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Amount"}),s.jsx("input",{type:"number",step:"0.01",value:w.amount,onChange:P=>N(S,"amount",P.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})]}),s.jsx("button",{onClick:()=>_(S),className:"px-2 py-1 text-red-600 hover:text-red-800 text-sm",title:"Remove transaction",children:"âœ•"})]})]}),w.suggestions&&w.suggestions.length>0&&s.jsx("div",{className:"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(dde,{className:"h-4 w-4 text-yellow-400 mr-1 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-yellow-800",children:"Suggestions:"}),s.jsx("ul",{className:"text-xs text-yellow-700 list-disc list-inside",children:w.suggestions.map((P,O)=>s.jsx("li",{children:P},O))})]})]})}),s.jsxs("div",{className:"mt-2 flex items-center text-xs text-gray-500",children:[s.jsxs("span",{children:["Confidence: ",Math.round(w.confidence*100),"%"]}),s.jsx("div",{className:"ml-2 flex-1 bg-gray-200 rounded-full h-1",children:s.jsx("div",{className:"bg-blue-600 h-1 rounded-full",style:{width:`${w.confidence*100}%`}})})]})]},w.id))}),s.jsx("div",{className:"px-4 py-3 border-t border-gray-200 text-center",children:s.jsxs("button",{onClick:y,disabled:l.transactions.length===0,className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 disabled:opacity-50",children:[s.jsx(nb,{className:"h-5 w-5 mr-2"}),"Confirm ",l.transactions.length," Transactions"]})})]})]})]})};class pfe{constructor(){this.config={autoMatchThreshold:.85,suggestMatchThreshold:.6,weights:{amount:.4,description:.3,date:.2,vendor:.1},amountTolerance:.01,dateWindow:7,fuzzyThreshold:.6}}findMatches(t,r){const n=[];for(const a of t){const i=this.findSuggestionsForTransaction(a,r);n.push({bankTransaction:a,suggestions:i,bestMatch:i.length>0?i[0]:null,autoMatch:i.length>0&&i[0].confidence>=this.config.autoMatchThreshold,isMatched:!1})}return n}findSuggestionsForTransaction(t,r){const n=[];for(const a of r){const i=this.calculateMatchScore(t,a);i.totalScore>=this.config.suggestMatchThreshold&&n.push({expense:a,confidence:i.totalScore,matchReasons:i.reasons,scoreBreakdown:i.breakdown})}return n.sort((a,i)=>i.confidence-a.confidence)}calculateMatchScore(t,r){const n={amount:this.calculateAmountScore(t.amount,r.amount),description:this.calculateDescriptionScore(t.description,r.description||r.vendor),date:this.calculateDateScore(t.date,r.expense_date||r.date),vendor:this.calculateVendorScore(t.description,r.vendor)},a=Object.keys(n).reduce((o,l)=>o+n[l]*this.config.weights[l],0),i=this.generateMatchReasons(n,t,r);return{totalScore:Math.min(a,1),breakdown:n,reasons:i}}calculateAmountScore(t,r){const n=Math.abs(t-r);if(n<=this.config.amountTolerance)return 1;const a=n/Math.max(t,r);return a<=.01?.95:a<=.05?.85:a<=.1?.7:a<=.2?.5:0}calculateDescriptionScore(t,r){if(!t||!r)return 0;const n=this.normalizeDescription(t),a=this.normalizeDescription(r),i=this.calculateStringSimilarity(n,a),o=this.calculateWordMatchBoost(n,a);return Math.min(i+o,1)}calculateDateScore(t,r){if(!t||!r)return 0;const n=new Date(t),a=new Date(r),i=Math.abs((n-a)/(1e3*60*60*24));return i===0?1:i<=1?.9:i<=3?.8:i<=7?.6:i<=14?.4:i<=30?.2:0}calculateVendorScore(t,r){if(!r)return 0;const n=this.normalizeDescription(t),a=this.normalizeDescription(r);if(n.includes(a))return 1;const i=a.split(" ").filter(l=>l.length>2);return i.filter(l=>n.includes(l)).length/i.length}normalizeDescription(t){return t.toLowerCase().replace(/[^\w\s]/g," ").replace(/\b(pos|atm|ach|chk|dep|wd|tfr|fee)\b/g,"").replace(/\b\d+\b/g,"").replace(/\s+/g," ").trim()}calculateStringSimilarity(t,r){const n=[],a=t.length,i=r.length;for(let c=0;c<=a;c++)n[c]=[c];for(let c=0;c<=i;c++)n[0][c]=c;for(let c=1;c<=a;c++)for(let u=1;u<=i;u++){const d=t[c-1]===r[u-1]?0:1;n[c][u]=Math.min(n[c-1][u]+1,n[c][u-1]+1,n[c-1][u-1]+d)}const o=n[a][i],l=Math.max(a,i);return l===0?1:1-o/l}calculateWordMatchBoost(t,r){const n=t.split(" ").filter(l=>l.length>2),a=r.split(" ").filter(l=>l.length>2);return n.length===0||a.length===0?0:n.filter(l=>a.includes(l)).length/Math.max(n.length,a.length)*.2}generateMatchReasons(t,r,n){const a=[];return t.amount>=.95?a.push("Exact amount match"):t.amount>=.8?a.push("Very close amount"):t.amount>=.6&&a.push("Similar amount"),t.description>=.8?a.push("Strong description match"):t.description>=.6&&a.push("Similar description"),t.date>=.9?a.push("Same/next day"):t.date>=.6&&a.push("Within a week"),t.vendor>=.8&&a.push("Vendor name match"),a.length===0&&a.push("Potential match"),a}performAutoMatching(t){const r=[];for(const n of t)n.autoMatch&&n.bestMatch&&(n.isMatched=!0,n.matchedExpense=n.bestMatch.expense,r.push(n));return r}updateConfig(t){this.config={...this.config,...t}}getMatchingStats(t){return{total:t.length,withSuggestions:t.filter(r=>r.suggestions.length>0).length,autoMatched:t.filter(r=>r.autoMatch).length,highConfidence:t.filter(r=>r.bestMatch&&r.bestMatch.confidence>=.8).length,mediumConfidence:t.filter(r=>r.bestMatch&&r.bestMatch.confidence>=.6&&r.bestMatch.confidence<.8).length,lowConfidence:t.filter(r=>r.bestMatch&&r.bestMatch.confidence<.6).length,noMatches:t.filter(r=>r.suggestions.length===0).length}}}const uS=new pfe,mfe=({reconciliationId:e,bankTransactions:t=[],systemExpenses:r=[]})=>{const[n,a]=$.useState([]),[i,o]=$.useState(null),[l,c]=$.useState(null),[u,d]=$.useState(!1),[f,h]=$.useState(!0),[p,v]=$.useState({total:0,matched:0,autoMatched:0,unmatched:0});$.useEffect(()=>{t.length>0&&r.length>0&&g()},[t,r]);const g=()=>{d(!0);try{const _=uS.findMatches(t,r);a(_);const w={total:t.length,matched:_.filter(S=>S.bestMatch).length,autoMatched:_.filter(S=>S.autoMatch).length,unmatched:_.filter(S=>!S.bestMatch).length};if(v(w),f){const S=uS.performAutoMatching(_);console.log(`Auto-matched ${S.length} transactions`)}}catch(_){console.error("Matching failed:",_)}finally{d(!1)}},x=async(_,w)=>{try{if((await zh.matchTransaction(e,{bankTransactionId:_.id,expenseId:w.id})).success){const P=n.map(O=>O.bankTransaction.id===_.id?{...O,isMatched:!0,matchedExpense:w}:O);a(P),o(null),c(null)}}catch(S){console.error("Failed to match transaction:",S),alert("Failed to match transaction. Please try again.")}},b=async _=>{_.bestMatch&&await x(_.bankTransaction,_.bestMatch.expense)},y=_=>_>=.8?"text-green-600 bg-green-100":_>=.6?"text-yellow-600 bg-yellow-100":"text-red-600 bg-red-100",N=_=>_>=.8?"High":_>=.6?"Medium":"Low";return u?s.jsxs("div",{className:"flex items-center justify-center p-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),s.jsx("span",{className:"ml-2",children:"Analyzing transactions..."})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Smart Transaction Matching"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:f,onChange:_=>h(_.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Auto-match high confidence"})]}),s.jsx("button",{onClick:g,className:"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700",children:"Re-analyze"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:p.total}),s.jsx("div",{className:"text-sm text-blue-800",children:"Total Transactions"})]}),s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:p.matched}),s.jsx("div",{className:"text-sm text-green-800",children:"Potential Matches"})]}),s.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:p.autoMatched}),s.jsx("div",{className:"text-sm text-purple-800",children:"Auto-Matched"})]}),s.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:p.unmatched}),s.jsx("div",{className:"text-sm text-red-800",children:"Unmatched"})]})]}),s.jsx("div",{className:"space-y-4",children:n.map((_,w)=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"font-medium text-gray-900",children:_.bankTransaction.description}),s.jsxs("div",{className:"font-bold text-lg",children:["$",_.bankTransaction.amount.toFixed(2)]}),s.jsx("div",{className:"text-sm text-gray-500",children:_.bankTransaction.date})]})}),_.isMatched&&s.jsxs("div",{className:"flex items-center text-green-600",children:[s.jsx(nb,{className:"h-5 w-5 mr-1"}),s.jsx("span",{className:"text-sm font-medium",children:"Matched"})]})]}),_.suggestions.length>0&&!_.isMatched&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-2",children:[s.jsx(mde,{className:"h-4 w-4 mr-1"}),s.jsx("span",{children:"Suggested matches:"})]}),_.suggestions.slice(0,3).map((S,P)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded border hover:bg-gray-100 cursor-pointer",onClick:()=>b({..._,bestMatch:S}),children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"font-medium",children:S.expense.vendor||S.expense.description}),s.jsxs("div",{className:"font-bold",children:["$",S.expense.amount.toFixed(2)]}),s.jsx("div",{className:"text-sm text-gray-500",children:S.expense.date})]}),s.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:S.matchReasons.map((O,T)=>s.jsx("span",{className:"inline-block px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded",children:O},T))})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded ${y(S.confidence)}`,children:[N(S.confidence)," (",Math.round(S.confidence*100),"%)"]}),s.jsx("button",{className:"p-1 text-green-600 hover:text-green-800",children:s.jsx(aS,{className:"h-4 w-4"})})]})]},S.expense.id)),_.suggestions.length>3&&s.jsxs("div",{className:"text-sm text-gray-500 text-center",children:["+",_.suggestions.length-3," more potential matches"]})]}),_.suggestions.length===0&&!_.isMatched&&s.jsxs("div",{className:"flex items-center justify-center p-4 bg-red-50 rounded border border-red-200",children:[s.jsx(nP,{className:"h-5 w-5 text-red-500 mr-2"}),s.jsx("span",{className:"text-red-700",children:"No potential matches found"}),s.jsx("button",{className:"ml-4 px-3 py-1 text-sm bg-red-600 text-white rounded hover:bg-red-700",children:"Create New Expense"})]})]},_.bankTransaction.id))}),s.jsxs("div",{className:"border-t pt-6",children:[s.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Manual Matching"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h5",{className:"font-medium text-gray-800 mb-3",children:"Unmatched Bank Transactions"}),s.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:n.filter(_=>!_.isMatched).map(_=>s.jsxs("div",{onClick:()=>o(_.bankTransaction),className:`p-3 rounded border cursor-pointer ${(i==null?void 0:i.id)===_.bankTransaction.id?"bg-blue-100 border-blue-400":"bg-white hover:bg-gray-50"}`,children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-medium",children:_.bankTransaction.description}),s.jsxs("span",{className:"font-bold",children:["$",_.bankTransaction.amount.toFixed(2)]})]}),s.jsx("div",{className:"text-sm text-gray-500",children:_.bankTransaction.date})]},_.bankTransaction.id))})]}),s.jsxs("div",{children:[s.jsx("h5",{className:"font-medium text-gray-800 mb-3",children:"Unmatched System Expenses"}),s.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:r.filter(_=>!_.is_matched).map(_=>s.jsxs("div",{onClick:()=>c(_),className:`p-3 rounded border cursor-pointer ${(l==null?void 0:l.id)===_.id?"bg-green-100 border-green-400":"bg-white hover:bg-gray-50"}`,children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-medium",children:_.vendor||_.description}),s.jsxs("span",{className:"font-bold",children:["$",_.amount.toFixed(2)]})]}),s.jsx("div",{className:"text-sm text-gray-500",children:_.date})]},_.id))})]})]}),i&&l&&s.jsx("div",{className:"mt-4 text-center",children:s.jsxs("button",{onClick:()=>x(i,l),className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700",children:[s.jsx(aS,{className:"h-5 w-5 mr-2"}),"Match Selected Transactions"]})})]})]})},lP=()=>s.jsxs("div",{children:[s.jsx("h1",{children:"Reconciliation Report"}),s.jsx("p",{children:"This is a placeholder for the Reconciliation Report."})]}),gfe=({onComplete:e,onCancel:t})=>{const[r,n]=$.useState(1),[a,i]=$.useState({id:null,month:new Date().getMonth()+1,year:new Date().getFullYear(),bankStatement:null,bankTransactions:[],systemExpenses:[]}),[o,l]=$.useState(!1),c=[{id:1,name:"Period Selection",description:"Select reconciliation period"},{id:2,name:"Upload Statement",description:"Upload bank statement"},{id:3,name:"Match Transactions",description:"Review and match transactions"},{id:4,name:"Finalize Report",description:"Complete reconciliation"}],u=(v,g)=>{i(x=>({...x,[v]:g}))},d=async v=>{l(!0);try{const g=await zh.uploadStatement(a.id,{transactions:v.transactions});if(g.success){const x=await zh.getTransactions(a.id);x.success&&(i(b=>({...b,bankStatement:v.file,bankTransactions:x.data.bankTransactions,systemExpenses:x.data.systemExpenses})),n(r+1))}else alert("Failed to upload transactions: "+g.error)}catch(g){console.error("Failed to upload statement:",g),alert("Failed to upload statement. Please try again.")}finally{l(!1)}},f=async()=>{if(console.log("ðŸ” [FRONTEND DEBUG] nextStep called, currentStep:",r),r===1){console.log("ðŸ” [FRONTEND DEBUG] Starting reconciliation process"),console.log("ðŸ” [FRONTEND DEBUG] Reconciliation data:",{month:a.month,year:a.year}),l(!0);try{console.log("ðŸ” [FRONTEND DEBUG] Calling reconciliationAPI.startReconciliation");const v=await zh.startReconciliation({month:a.month,year:a.year});console.log("ðŸ” [FRONTEND DEBUG] startReconciliation response:",v),v.success?(console.log("âœ… [FRONTEND DEBUG] Reconciliation started successfully, ID:",v.data.id),i(g=>({...g,id:v.data.id})),n(r+1)):(console.error("âŒ [FRONTEND DEBUG] Failed to start reconciliation:",v.error),alert("Failed to start reconciliation: "+v.error))}catch(v){console.error("âŒ [FRONTEND DEBUG] Exception in nextStep:",v),alert("Failed to start reconciliation. Please try again.")}finally{console.log("ðŸ” [FRONTEND DEBUG] Setting loading to false"),l(!1)}}else r<c.length&&(console.log("ðŸ” [FRONTEND DEBUG] Moving to next step:",r+1),n(r+1))},h=()=>{r>1&&n(r-1)},p=()=>{switch(r){case 1:return s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Select Reconciliation Period"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Month"}),s.jsx("select",{value:a.month,onChange:v=>u("month",parseInt(v.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:Array.from({length:12},(v,g)=>s.jsx("option",{value:g+1,children:new Date(0,g).toLocaleString("default",{month:"long"})},g+1))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Year"}),s.jsx("input",{type:"number",value:a.year,onChange:v=>u("year",parseInt(v.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]})]})]});case 2:return s.jsx(hfe,{onUpload:d});case 3:return s.jsx(mfe,{reconciliationId:a.id,bankTransactions:a.bankTransactions,systemExpenses:a.systemExpenses});case 4:return s.jsx(lP,{reconciliation:a});default:return s.jsxs("div",{children:["Step ",r]})}};return s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Monthly Reconciliation"}),s.jsx("button",{onClick:t,className:"inline-flex items-center p-2 border border-gray-300 rounded-md text-gray-400 hover:text-gray-500 hover:border-gray-400",children:s.jsx(nP,{className:"h-5 w-5"})})]}),s.jsx("div",{className:"mb-8",children:s.jsx("div",{className:"flex items-center justify-between",children:c.map((v,g)=>s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full border-2 ${r>=v.id?"bg-blue-600 border-blue-600 text-white":"border-gray-300 text-gray-500"}`,children:r>v.id?s.jsx(ide,{className:"h-5 w-5"}):s.jsx("span",{className:"text-sm font-medium",children:v.id})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("div",{className:`text-sm font-medium ${r>=v.id?"text-blue-600":"text-gray-500"}`,children:v.name}),s.jsx("div",{className:"text-xs text-gray-500",children:v.description})]}),g<c.length-1&&s.jsx("div",{className:`flex-1 h-0.5 mx-4 ${r>v.id?"bg-blue-600":"bg-gray-300"}`})]},v.id))})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:p()}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("button",{onClick:h,disabled:r===1,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(ode,{className:"h-4 w-4 mr-2"}),"Previous"]}),r<c.length?s.jsxs("button",{onClick:f,disabled:o||r===2&&!a.bankStatement,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[o?"Starting...":"Next",s.jsx(cde,{className:"h-4 w-4 ml-2"})]}):s.jsx("button",{onClick:()=>e(a),className:"inline-flex items-center px-6 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700",children:"Complete Reconciliation"})]})]})},vfe=[{id:1,subject:"Back-to-School Picnic",type:"event",status:"draft",updated_at:"2025-06-01"},{id:2,subject:"Fundraiser Reminder",type:"fundraiser",status:"draft",updated_at:"2025-06-02"}],yfe={draft:"bg-gray-200 text-gray-800",scheduled:"bg-yellow-100 text-yellow-800",sent:"bg-green-100 text-green-800",failed:"bg-red-100 text-red-800"};function bfe(){const[e,t]=$.useState("drafts"),r=n=>n.length===0?s.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"No communications found."}):s.jsx("ul",{className:"space-y-3 mt-4",children:n.map(a=>s.jsxs("li",{className:"p-4 bg-white border rounded shadow flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:a.subject}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Type: ",a.type," â€¢ Last updated: ",a.updated_at]})]}),s.jsx("span",{className:`text-xs px-2 py-1 rounded ${yfe[a.status]}`,children:a.status})]},a.id))});return s.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Communications"}),s.jsx(_c,{to:"/communications/create",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"+ New"})]}),s.jsxs(ki.Tabs,{value:e,onChange:n=>t(n),children:[s.jsxs(ki.TabsHeader,{children:[s.jsx(ki.Tab,{value:"drafts",children:"Drafts"}),s.jsx(ki.Tab,{value:"scheduled",children:"Scheduled"}),s.jsx(ki.Tab,{value:"sent",children:"Sent"})]}),s.jsxs(ki.TabsBody,{children:[s.jsx(ki.TabPanel,{value:"drafts",children:r(vfe)}),s.jsx(ki.TabPanel,{value:"scheduled",children:r([])}),s.jsx(ki.TabPanel,{value:"sent",children:r([])})]})]})]})}const xfe=()=>{const e=pr(),[t,r]=$.useState("grid"),[n,a]=$.useState("manual"),[i,o]=$.useState(""),[l,c]=$.useState("all"),u=[{id:1,title:"Fall Festival Announcement",type:"email",status:"sent",audience:"All Families",sentDate:"2024-10-01",openRate:78,clickRate:12,createdBy:"stella",description:"Exciting announcement about our upcoming Fall Festival"},{id:2,title:"Volunteer Recruitment Drive",type:"social",status:"scheduled",audience:"Facebook & Instagram",scheduledDate:"2024-10-05",engagement:0,createdBy:"manual",description:"Call for volunteers for upcoming events"},{id:3,title:"Book Fair Reminder",type:"sms",status:"draft",audience:"Parent Contacts",deliveryRate:0,createdBy:"stella",description:"Reminder about the upcoming book fair"},{id:4,title:"Monthly Newsletter",type:"newsletter",status:"in_progress",audience:"All Subscribers",progress:65,createdBy:"manual",description:"October newsletter with updates and events"}],d=C=>{e(`/communications/compose?mode=email&ai=${C}`)},f=C=>{e(`/communications/compose?mode=social&ai=${C}`)},h=C=>{e(`/communications/compose?mode=sms&ai=${C}`)},p=C=>{e(`/communications/compose?mode=email&type=newsletter&ai=${C}`)},v=C=>{e(`/communications/create?view=${C}`)},g=C=>{e(`/communications/create?edit=${C}`)},x=C=>{console.log("Sending communication:",C)},b=()=>{e("/communications/ai")},y=()=>{e("/communications/create?tab=analytics")},N=()=>{e("/communications/create?tab=schedule")},_=()=>{e("/communications/create?tab=audiences")},w=()=>{e("/communications/create")},S=C=>{const L={draft:"bg-gray-100 text-gray-800",in_progress:"bg-blue-100 text-blue-800",scheduled:"bg-yellow-100 text-yellow-800",sent:"bg-green-100 text-green-800",failed:"bg-red-100 text-red-800"};return L[C]||L.draft},P=C=>({email:Al,sms:E1,social:P1,newsletter:Lr})[C]||Al,O=({communication:C})=>{const L=P(C.type);return s.jsx("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(L,{className:"w-5 h-5 text-blue-600"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:C.title}),C.createdBy==="stella"&&s.jsx(Ar,{className:"w-4 h-4 text-purple-500",title:"Created by Stella"})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:C.description}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(la,{className:"w-4 h-4"}),s.jsx("span",{children:C.audience})]}),C.sentDate&&s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Lr,{className:"w-4 h-4"}),s.jsx("span",{children:new Date(C.sentDate).toLocaleDateString()})]})]})]}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${S(C.status)}`,children:C.status.replace("_"," ").charAt(0).toUpperCase()+C.status.replace("_"," ").slice(1)})]}),C.status==="sent"&&s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[s.jsx("div",{className:"text-sm text-green-600",children:"Open Rate"}),s.jsxs("div",{className:"text-lg font-semibold text-green-700",children:[C.openRate,"%"]})]}),s.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[s.jsx("div",{className:"text-sm text-blue-600",children:"Click Rate"}),s.jsxs("div",{className:"text-lg font-semibold text-blue-700",children:[C.clickRate,"%"]})]})]}),C.status==="in_progress"&&s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[s.jsx("span",{className:"text-gray-600",children:"Progress"}),s.jsxs("span",{className:"font-medium text-gray-900",children:[C.progress,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${C.progress}%`}})})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:()=>v(C.id),className:"flex-1 flex items-center justify-center px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(zl,{className:"w-4 h-4 mr-2"}),"View"]}),s.jsxs("button",{onClick:()=>g(C.id),className:"flex-1 flex items-center justify-center px-3 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[s.jsx(gn,{className:"w-4 h-4 mr-2"}),"Edit"]}),C.status==="draft"&&s.jsxs("button",{onClick:()=>x(C.id),className:"flex-1 flex items-center justify-center px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[s.jsx(mS,{className:"w-4 h-4 mr-2"}),"Send"]})]})]})})},T=()=>s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Create New Communication"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-6 hover:border-blue-300 transition-colors",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx(Al,{className:"w-8 h-8 text-blue-600"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Email Campaign"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Reach all families"})]})]}),s.jsxs("div",{className:"space-y-3 mb-4",children:[s.jsx("button",{onClick:()=>d("manual"),className:"w-full py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:"Manual Creation"}),s.jsx("button",{onClick:()=>d("assisted"),className:"w-full py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm",children:"Let Stella Help"}),s.jsx("button",{onClick:()=>d("automated"),className:"w-full py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors text-sm",children:"Stella Auto-Generate"})]})]}),s.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-6 hover:border-green-300 transition-colors",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx(P1,{className:"w-8 h-8 text-green-600"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Social Media"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Facebook & Instagram"})]})]}),s.jsxs("div",{className:"space-y-3 mb-4",children:[s.jsx("button",{onClick:()=>f("manual"),className:"w-full py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:"Manual Creation"}),s.jsx("button",{onClick:()=>f("assisted"),className:"w-full py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm",children:"Let Stella Help"}),s.jsx("button",{onClick:()=>f("automated"),className:"w-full py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors text-sm",children:"Stella Auto-Generate"})]})]}),s.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-6 hover:border-yellow-300 transition-colors",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx(E1,{className:"w-8 h-8 text-yellow-600"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"SMS Campaign"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Direct text messages"})]})]}),s.jsxs("div",{className:"space-y-3 mb-4",children:[s.jsx("button",{onClick:()=>h("manual"),className:"w-full py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:"Manual Creation"}),s.jsx("button",{onClick:()=>h("assisted"),className:"w-full py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm",children:"Let Stella Help"}),s.jsx("button",{onClick:()=>h("automated"),className:"w-full py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors text-sm",children:"Stella Auto-Generate"})]})]}),s.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-6 hover:border-purple-300 transition-colors",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx(Lr,{className:"w-8 h-8 text-purple-600"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Newsletter"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Monthly updates"})]})]}),s.jsxs("div",{className:"space-y-3 mb-4",children:[s.jsx("button",{onClick:()=>p("manual"),className:"w-full py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:"Manual Creation"}),s.jsx("button",{onClick:()=>p("assisted"),className:"w-full py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm",children:"Let Stella Help"}),s.jsx("button",{onClick:()=>p("automated"),className:"w-full py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors text-sm",children:"Stella Auto-Generate"})]})]})]})]}),I=()=>s.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg p-6 mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx(Ar,{className:"w-6 h-6 text-purple-600"}),s.jsx("h3",{className:"text-lg font-semibold text-purple-900",children:"Stella's Communication Insights"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-white rounded-lg p-4",children:[s.jsx("div",{className:"text-sm text-purple-600 mb-1",children:"Best Send Time"}),s.jsx("div",{className:"text-lg font-semibold text-purple-900",children:"Tuesday 10 AM"}),s.jsx("div",{className:"text-xs text-purple-700",children:"Based on your audience engagement"})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4",children:[s.jsx("div",{className:"text-sm text-purple-600 mb-1",children:"Top Performing Subject"}),s.jsx("div",{className:"text-lg font-semibold text-purple-900",children:"Event Announcements"}),s.jsx("div",{className:"text-xs text-purple-700",children:"85% average open rate"})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4",children:[s.jsx("div",{className:"text-sm text-purple-600 mb-1",children:"Stella's Suggestion"}),s.jsx("div",{className:"text-lg font-semibold text-purple-900",children:"Add Volunteer Call"}),s.jsx("div",{className:"text-xs text-purple-700",children:"Include in next newsletter"})]})]}),s.jsxs("div",{className:"mt-4 p-3 bg-white rounded-lg",children:[s.jsx("div",{className:"text-sm text-purple-900 font-medium mb-2",children:"ðŸ’¡ Stella's Tip of the Day"}),s.jsx("div",{className:"text-sm text-purple-800",children:'"Your Fall Festival emails get 23% higher engagement when sent on weekday mornings. Want me to schedule your next announcement for optimal timing?"'})]})]}),k=()=>s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("button",{onClick:b,className:"flex flex-col items-center p-4 border border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 transition-colors",children:[s.jsx(Ar,{className:"w-6 h-6 text-purple-600 mb-2"}),s.jsx("span",{className:"text-sm font-medium",children:"Ask Stella"}),s.jsx("span",{className:"text-xs text-gray-500",children:"Get content ideas"})]}),s.jsxs("button",{onClick:y,className:"flex flex-col items-center p-4 border border-gray-200 rounded-lg hover:border-green-300 hover:bg-green-50 transition-colors",children:[s.jsx(o6,{className:"w-6 h-6 text-green-600 mb-2"}),s.jsx("span",{className:"text-sm font-medium",children:"Analytics"}),s.jsx("span",{className:"text-xs text-gray-500",children:"View performance"})]}),s.jsxs("button",{onClick:N,className:"flex flex-col items-center p-4 border border-gray-200 rounded-lg hover:border-yellow-300 hover:bg-yellow-50 transition-colors",children:[s.jsx($a,{className:"w-6 h-6 text-yellow-600 mb-2"}),s.jsx("span",{className:"text-sm font-medium",children:"Schedule"}),s.jsx("span",{className:"text-xs text-gray-500",children:"Plan campaigns"})]}),s.jsxs("button",{onClick:_,className:"flex flex-col items-center p-4 border border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 transition-colors",children:[s.jsx(la,{className:"w-6 h-6 text-blue-600 mb-2"}),s.jsx("span",{className:"text-sm font-medium",children:"Audiences"}),s.jsx("span",{className:"text-xs text-gray-500",children:"Manage lists"})]})]})]});return s.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Communications Dashboard"}),s.jsx("p",{className:"text-gray-600",children:"Manage all your PTO communications with Stella's help or manual control"})]}),s.jsx("div",{className:"flex items-center space-x-3",children:s.jsx("button",{onClick:()=>r(t==="grid"?"list":"grid"),className:"p-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:t==="grid"?s.jsx(i6,{className:"w-5 h-5"}):s.jsx(s6,{className:"w-5 h-5"})})})]}),s.jsx(I,{}),s.jsx(k,{}),s.jsx(T,{}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(lb,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search communications...",value:i,onChange:C=>o(C.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("select",{value:l,onChange:C=>c(C.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Types"}),s.jsx("option",{value:"email",children:"Email"}),s.jsx("option",{value:"sms",children:"SMS"}),s.jsx("option",{value:"social",children:"Social Media"}),s.jsx("option",{value:"newsletter",children:"Newsletter"})]})]})}),s.jsx("div",{className:t==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:u.map(C=>s.jsx(O,{communication:C},C.id))}),u.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Al,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No communications found"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Get started by creating your first communication"}),s.jsx("button",{onClick:w,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Create Your First Communication"})]})]})})};function wfe(){const[e,t]=$.useState({subject:"",body:"",send_as:"email"}),[r,n]=$.useState(""),[a,i]=$.useState(""),o=c=>{const{name:u,value:d}=c.target;t(f=>({...f,[u]:d}))},l=async c=>{c.preventDefault(),i(""),n("");const{data:{session:u}}=await We.auth.getSession();if(!(u!=null&&u.access_token)){i("Authentication required.");return}try{const d=await fetch("/api/messages",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u.access_token}`},body:JSON.stringify(e)}),f=await d.json();d.ok?(n("Message created successfully!"),t({subject:"",body:"",send_as:"email"})):i(f.error||"Failed to send message.")}catch(d){console.error("Submit error:",d),i("Server error. Please try again.")}};return s.jsxs("div",{className:"max-w-xl mx-auto p-4",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Create Message"}),s.jsxs("form",{onSubmit:l,className:"space-y-4",children:[s.jsx("input",{name:"subject",value:e.subject,onChange:o,placeholder:"Subject",className:"w-full border p-2",required:!0}),s.jsx("textarea",{name:"body",value:e.body,onChange:o,placeholder:"Message Body",className:"w-full border p-2",required:!0}),s.jsxs("select",{name:"send_as",value:e.send_as,onChange:o,className:"w-full border p-2",children:[s.jsx("option",{value:"email",children:"Email"}),s.jsx("option",{value:"sms",children:"SMS"}),s.jsx("option",{value:"in_app",children:"In-App"})]}),s.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded",type:"submit",children:"Send Message"}),r&&s.jsx("p",{className:"text-green-600",children:r}),a&&s.jsx("p",{className:"text-red-600",children:a})]})]})}function jfe(){const e=pr();return $.useEffect(()=>{e("/communications/compose?mode=sms")},[e]),s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-8 max-w-md w-full mx-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx(La,{className:"w-12 h-12 text-green-600 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"SMS Composer"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Redirecting to the unified communication composer for SMS messages..."}),s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-green-600 mx-auto"})]})})})}function Nfe(){const e=pr();return $.useEffect(()=>{e("/communications/compose?mode=social")},[e]),s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-8 max-w-md w-full mx-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx(gS,{className:"w-12 h-12 text-purple-600 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Social Media Composer"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Redirecting to the unified communication composer for social media posts..."}),s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-purple-600 mx-auto"})]})})})}const Sfe="https://api.ptoconnect.com/api";function _fe(){const[e,t]=$.useState([]),[r,n]=$.useState("");$.useEffect(()=>{async function i(){const{data:{session:o}}=await We.auth.getSession(),l=o==null?void 0:o.access_token;if(!l)return n("Not authenticated.");try{const c=await ii.get(`${Sfe}/api/documents`,{headers:{Authorization:`Bearer ${l}`}});t(c.data)}catch(c){n("Failed to load documents."),console.error(c)}}i()},[]);const a=i=>{const{data:o}=We.storage.from("documents").getPublicUrl(i);return o==null?void 0:o.publicUrl};return s.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"PTO Documents"}),s.jsx(_c,{to:"/documents/upload",className:"bg-blue-600 text-white px-4 py-2 rounded",children:"+ Upload Document"})]}),r&&s.jsx("p",{className:"text-red-600",children:r}),e.length===0&&!r&&s.jsx("p",{children:"No documents found."}),s.jsx("ul",{className:"space-y-4",children:e.map(i=>s.jsxs("li",{className:"border p-4 rounded shadow-sm bg-white",children:[s.jsx("h2",{className:"text-lg font-semibold",children:i.title}),s.jsx("a",{href:a(i.file_path),target:"_blank",rel:"noopener noreferrer",className:"text-blue-700 underline text-sm",children:"View / Download"})]},i.id))})]})}const Afe="https://api.ptoconnect.com/api";function Ofe(){const[e,t]=$.useState(""),[r,n]=$.useState(null),[a,i]=$.useState(""),[o,l]=$.useState(""),c=async u=>{if(u.preventDefault(),!r||!e)return l("Title and file are required.");const{data:{session:d}}=await We.auth.getSession(),f=d==null?void 0:d.access_token;if(!f)return l("User not authenticated.");const h=new FormData;h.append("title",e),h.append("file",r);try{await ii.post(`${Afe}/api/documents`,h,{headers:{Authorization:`Bearer ${f}`,"Content-Type":"multipart/form-data"}}),i("Document uploaded successfully."),t(""),n(null)}catch(p){l("Upload failed. Check console."),console.error(p)}};return s.jsxs("div",{className:"max-w-xl mx-auto p-4",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Upload Document"}),s.jsxs("form",{onSubmit:c,className:"space-y-4",children:[s.jsx("input",{type:"text",placeholder:"Document Title",value:e,onChange:u=>t(u.target.value),className:"w-full border p-2",required:!0}),s.jsx("input",{type:"file",accept:".pdf,.doc,.docx,.xls,.xlsx,.png,.jpg,.jpeg",onChange:u=>n(u.target.files[0]),className:"w-full border p-2",required:!0}),s.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded",children:"Upload"}),a&&s.jsx("p",{className:"text-green-600",children:a}),o&&s.jsx("p",{className:"text-red-600",children:o})]})]})}const Pfe="https://api.ptoconnect.com/api";function Efe(){const[e,t]=$.useState([]),[r,n]=$.useState("");return $.useEffect(()=>{async function a(){const{data:{session:i}}=await We.auth.getSession(),o=i==null?void 0:i.access_token;if(!o){n("Not authenticated.");return}try{const l=await ii.get(`${Pfe}/api/shared-library`,{headers:{Authorization:`Bearer ${o}`}});t(l.data)}catch(l){console.error(l),n("Failed to load shared library items.")}}a()},[]),s.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Shared PTO Library"}),r&&s.jsx("p",{className:"text-red-600",children:r}),e.length===0&&!r&&s.jsx("p",{children:"No shared events or fundraisers yet."}),s.jsx("ul",{className:"space-y-4",children:e.map(a=>{var i;return s.jsxs("li",{className:"border p-4 rounded shadow-sm bg-white",children:[s.jsx("h2",{className:"text-xl font-semibold",children:a.title}),s.jsx("p",{className:"text-sm text-gray-500",children:a.description}),s.jsxs("p",{className:"text-sm text-blue-700 mt-1",children:["Type: ",((i=a.type)==null?void 0:i.toUpperCase())||"N/A"," â€¢ Shared by another PTO"]})]},a.id)})})]})}function kfe(){const[e,t]=$.useState({type:"",season:"",audience:"",theme:"",goal:""}),[r,n]=$.useState([]),[a,i]=$.useState(!1),[o,l]=$.useState(null),c=d=>{const{name:f,value:h}=d.target;t(p=>({...p,[f]:h}))},u=async()=>{i(!0),l(null),n([]);const{data:{session:d},error:f}=await We.auth.getSession();if(f||!(d!=null&&d.access_token)){l("Authentication required."),i(!1);return}try{const p=await(await fetch("/api/ai/generate-event",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${d.access_token}`},body:JSON.stringify(e)})).json();if(p.result){const v=p.result.split(/\n?\d+\.\s/).filter(Boolean).map(g=>g.trim().replace(/^\*\*/,"").replace(/\*\*$/,""));n(v)}else l("No ideas returned.")}catch(h){console.error(h),l("Error contacting the backend")}finally{i(!1)}};return s.jsxs("div",{className:"p-6 max-w-2xl mx-auto",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"AI Event Idea Generator"}),s.jsxs("div",{className:"grid gap-4 mb-4",children:[s.jsx("input",{name:"type",value:e.type,onChange:c,placeholder:"Event Type (e.g. Family Night)",className:"w-full border p-2 rounded"}),s.jsx("input",{name:"season",value:e.season,onChange:c,placeholder:"Season or Month (e.g. Spring, October)",className:"w-full border p-2 rounded"}),s.jsx("input",{name:"audience",value:e.audience,onChange:c,placeholder:"Audience (e.g. students, families)",className:"w-full border p-2 rounded"}),s.jsx("input",{name:"theme",value:e.theme,onChange:c,placeholder:"Theme (e.g. carnival, STEM)",className:"w-full border p-2 rounded"}),s.jsx("input",{name:"goal",value:e.goal,onChange:c,placeholder:"Goal (e.g. raise funds, build community)",className:"w-full border p-2 rounded"})]}),s.jsx("button",{onClick:u,disabled:a,className:"bg-blue-600 text-white px-4 py-2 rounded",children:a?"Generating...":"Generate Ideas"}),o&&s.jsx("p",{className:"text-red-500 mt-4",children:o}),r.length>0&&s.jsx("ul",{className:"mt-6 space-y-2",children:r.map((d,f)=>s.jsx("li",{className:"border p-3 rounded bg-gray-50",children:d},f))})]})}const Cfe=()=>{const e=pr(),[t,r]=$.useState(null),[n,a]=$.useState(null),[i,o]=$.useState(null),[l,c]=$.useState({isGenerating:!1,currentStep:"",progress:0}),[u,d]=$.useState(null),[f,h]=$.useState(""),[p,v]=$.useState("assisted");$.useEffect(()=>{(async()=>{try{const{data:{session:w}}=await We.auth.getSession();if(w!=null&&w.user){const{data:S}=await We.from("profiles").select("*").eq("id",w.user.id).single();if(r(S),S!=null&&S.org_id){const P=await ys.analyzeContext(S.org_id,"general");o(P),a(P.context)}}}catch(w){console.error("Error fetching user context:",w)}})()},[]);const g=async()=>{if(!f.trim()){ot.error("Please enter an event idea first");return}if(!(t!=null&&t.org_id)){ot.error("Organization context required");return}c({isGenerating:!0,currentStep:"Initializing Stella...",progress:10});try{c({isGenerating:!0,currentStep:"Stella is analyzing your event idea...",progress:25}),await new Promise(O=>setTimeout(O,1500));const _={title:f,category:"Event",estimated_budget:2e3,expected_attendance:100,description:`${f} for our school community`};c({isGenerating:!0,currentStep:"Calculating event complexity and requirements...",progress:50});const w=await ys.analyzeEventWorkflow(_,t.org_id);c({isGenerating:!0,currentStep:"Creating your complete event workflow...",progress:75}),await new Promise(O=>setTimeout(O,2e3)),c({isGenerating:!0,currentStep:"Adding Stella's intelligent recommendations...",progress:90});const S=await ys.generateContent("content",`Event planning recommendations for ${f}`,{orgId:t.org_id,mode:"recommendations"},!0);c({isGenerating:!0,currentStep:"Finalizing your workflow...",progress:100}),await new Promise(O=>setTimeout(O,1e3));const P={event:_,complexity:w.eventComplexity,workflow:w.workflowPlan,recommendations:S.recommendations||[],orgInsights:w.orgContext,createdAt:new Date().toISOString(),createdBy:"Stella AI Assistant"};d(P),c({isGenerating:!1,currentStep:"",progress:0}),ot.success("âœ¨ Stella has created your complete event workflow!")}catch(_){console.error("Workflow generation error:",_),ot.error("Stella encountered an issue creating your workflow. Please try again."),c({isGenerating:!1,currentStep:"",progress:0})}},x=()=>s.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg p-6 mb-8",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Choose Your Workflow Experience"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[{mode:"manual",title:"Manual Control",description:"I prefer to plan everything myself",icon:vS,color:"gray"},{mode:"assisted",title:"Stella Assisted",description:"I want Stella's help with suggestions",icon:Ar,color:"purple"},{mode:"automated",title:"Fully Automated",description:"Let Stella create the complete workflow",icon:t0,color:"blue"}].map(_=>{const w=_.icon,S=p===_.mode;return s.jsxs("button",{onClick:()=>v(_.mode),className:`p-4 rounded-lg border-2 transition-all ${S?`border-${_.color}-500 bg-${_.color}-50`:"border-gray-200 hover:border-gray-300"}`,children:[s.jsx(w,{className:`w-6 h-6 mx-auto mb-2 ${S?`text-${_.color}-600`:"text-gray-400"}`}),s.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:_.title}),s.jsx("p",{className:"text-sm text-gray-600",children:_.description})]},_.mode)})})]}),b=()=>{if(!i)return null;const{analysis:_}=i,w=_.organizationHealth;return s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-8",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx(Qp,{className:"w-6 h-6 text-blue-600"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Stella's Organization Insights"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[s.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[s.jsx(la,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:_.keyMetrics.totalMembers}),s.jsx("div",{className:"text-sm text-gray-600",children:"Active Members"}),s.jsxs("div",{className:`text-xs mt-1 ${w.memberEngagement==="high"?"text-green-600":w.memberEngagement==="moderate"?"text-yellow-600":"text-red-600"}`,children:[w.memberEngagement.toUpperCase()," Engagement"]})]}),s.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[s.jsx(Lr,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),s.jsx("div",{className:"text-2xl font-bold text-green-600",children:_.keyMetrics.activeEvents}),s.jsx("div",{className:"text-sm text-gray-600",children:"Active Events"}),s.jsxs("div",{className:`text-xs mt-1 ${w.eventActivity==="high"?"text-green-600":w.eventActivity==="moderate"?"text-yellow-600":"text-red-600"}`,children:[w.eventActivity.toUpperCase()," Activity"]})]}),s.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[s.jsx(qn,{className:"w-8 h-8 text-purple-600 mx-auto mb-2"}),s.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:["$",_.keyMetrics.totalBudget.toLocaleString()]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Budget"}),s.jsx("div",{className:`text-xs mt-1 ${w.financialHealth==="excellent"?"text-green-600":w.financialHealth==="good"?"text-yellow-600":"text-red-600"}`,children:w.financialHealth.toUpperCase()})]})]}),_.recommendations&&_.recommendations.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"ðŸŒŸ Stella's Top Recommendations"}),s.jsx("div",{className:"space-y-2",children:_.recommendations.slice(0,3).map((S,P)=>s.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${S.priority==="high"?"bg-red-500":S.priority==="medium"?"bg-yellow-500":"bg-green-500"}`}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-sm text-gray-900",children:S.title}),s.jsx("div",{className:"text-xs text-gray-600",children:S.description})]})]},P))})]})]})},y=()=>l.isGenerating?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-8",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-purple-600"}),s.jsx("h3",{className:"text-lg font-semibold text-purple-900",children:"Stella is Working on Your Workflow"})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[s.jsx("span",{children:l.currentStep}),s.jsxs("span",{children:[l.progress,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-purple-600 h-2 rounded-full transition-all duration-500",style:{width:`${l.progress}%`}})})]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Stella is analyzing your organization's context, past events, and best practices to create the perfect workflow for your event."})]}):null,N=()=>{var T,I;if(!u)return null;const{event:_,complexity:w,workflow:S,recommendations:P,orgInsights:O}=u;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:_.title}),s.jsxs("div",{className:`px-3 py-1 rounded-full text-sm ${w.complexity==="complex"?"bg-red-100 text-red-800":w.complexity==="moderate"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:[w.complexity.toUpperCase()," Event"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[s.jsx(Lr,{className:"w-6 h-6 text-blue-600 mx-auto mb-1"}),s.jsx("div",{className:"text-sm font-medium",children:"Timeline"}),s.jsx("div",{className:"text-xs text-gray-600",children:(S==null?void 0:S.recommendedTimeline)||"6-8 weeks"})]}),s.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[s.jsx(qn,{className:"w-6 h-6 text-green-600 mx-auto mb-1"}),s.jsx("div",{className:"text-sm font-medium",children:"Budget"}),s.jsxs("div",{className:"text-xs text-gray-600",children:["$",((T=S==null?void 0:S.budgetRecommendations)==null?void 0:T.suggestedBudget)||_.estimated_budget]})]}),s.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[s.jsx(la,{className:"w-6 h-6 text-purple-600 mx-auto mb-1"}),s.jsx("div",{className:"text-sm font-medium",children:"Volunteers"}),s.jsx("div",{className:"text-xs text-gray-600",children:((I=S==null?void 0:S.volunteerNeeds)==null?void 0:I.totalVolunteers)||8})]}),s.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[s.jsx(pS,{className:"w-6 h-6 text-orange-600 mx-auto mb-1"}),s.jsx("div",{className:"text-sm font-medium",children:"Complexity"}),s.jsxs("div",{className:"text-xs text-gray-600",children:["Score: ",w.score,"/10"]})]})]})]}),(S==null?void 0:S.keyMilestones)&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"ðŸ“… Project Timeline"}),s.jsx("div",{className:"space-y-4",children:S.keyMilestones.map((k,C)=>s.jsxs("div",{className:"flex items-start space-x-4 p-4 border-l-4 border-blue-500 bg-blue-50",children:[s.jsxs("div",{className:"bg-blue-500 text-white text-sm font-medium px-2 py-1 rounded",children:["Week ",k.week]}),s.jsxs("div",{children:[s.jsx("h5",{className:"font-medium text-gray-900",children:k.milestone}),k.tasks&&s.jsx("ul",{className:"text-sm text-gray-600 mt-1",children:k.tasks.map((L,R)=>s.jsxs("li",{className:"flex items-center space-x-2",children:[s.jsx(Ur,{className:"w-3 h-3 text-green-500"}),s.jsx("span",{children:L})]},R))})]})]},C))})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"ðŸš€ Next Steps"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("button",{onClick:()=>e("/events/create"),className:"flex items-center justify-center space-x-2 p-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(Lr,{className:"w-5 h-5"}),s.jsx("span",{children:"Create Event"})]}),s.jsxs("button",{onClick:()=>e("/budget"),className:"flex items-center justify-center space-x-2 p-4 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[s.jsx(qn,{className:"w-5 h-5"}),s.jsx("span",{children:"Setup Budget"})]}),s.jsxs("button",{onClick:()=>e("/communications/compose?ai=auto"),className:"flex items-center justify-center space-x-2 p-4 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[s.jsx(La,{className:"w-5 h-5"}),s.jsx("span",{children:"Start Communications"})]}),s.jsxs("button",{onClick:()=>ot.info("Project management coming in Phase 2!"),className:"flex items-center justify-center space-x-2 p-4 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:[s.jsx(ib,{className:"w-5 h-5"}),s.jsx("span",{children:"Manage Tasks"})]})]})]})]})};return s.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx(Ar,{className:"w-8 h-8 text-purple-600"}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Meet Stella - Your AI Event Assistant"})]}),s.jsx("p",{className:"text-lg text-gray-600",children:"Hi! I'm Stella, your PTO planning assistant. I can generate complete event workflows with integrated project management, budgeting, communications, and volunteer coordination - or help with just the parts you need!"})]}),s.jsx(b,{}),s.jsx(x,{}),s.jsx(y,{}),u?s.jsx(N,{}):s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Let Stella Create Your Event Workflow"}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"What type of event would you like Stella to help you create?"}),s.jsx("input",{type:"text",value:f,onChange:_=>h(_.target.value),placeholder:"e.g., Fall Festival, Book Fair, Science Night, Teacher Appreciation...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),s.jsx("div",{className:"flex justify-center",children:s.jsxs("button",{onClick:g,disabled:!f.trim()||l.isGenerating,className:"flex items-center space-x-3 px-8 py-4 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:[s.jsx(Ar,{className:"w-6 h-6"}),s.jsx("span",{className:"text-lg font-medium",children:l.isGenerating?"Stella is Working...":"Generate Complete Workflow"}),s.jsx(l6,{className:"w-6 h-6"})]})}),p==="automated"&&s.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(t0,{className:"w-5 h-5 text-blue-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-blue-900",children:"Fully Automated Mode"}),s.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Stella will create a complete workflow with project timeline, budget planning, communication campaigns, and volunteer coordination. You can review and adjust everything."})]})]})})]})]})})},Tfe=()=>s.jsx(Cfe,{}),ds={EMAIL:"email",SMS:"sms",SOCIAL:"social"},kh=()=>{const[e]=xS(),t=pr(),r=e.get("mode")||ds.EMAIL,n=e.get("ai"),[a,i]=$.useState(r),[o,l]=$.useState({subject:"",body:"",recipients:[],scheduledFor:null}),[c,u]=$.useState(n==="assisted"||n==="auto"),[d,f]=$.useState(!1),[h,p]=$.useState(null),[v,g]=$.useState([]),[x,b]=$.useState(!1),y=$.useRef(null),N=()=>{const[k,C]=$.useState(""),L=async(V,F="")=>{f(!0);try{let B="";switch(V){case"subject":B=`Create an engaging ${a} subject line for: ${F||k}`;break;case"content":B=`Write ${a} content for: ${F||k}. ${h?`Event: ${h.title}, Date: ${h.date}`:""}`;break;case"social":B=`Create a social media post for: ${F||k}. Include relevant hashtags and emojis.`;break;case"sms":B=`Write a concise SMS message for: ${F||k}. Keep it under 160 characters.`;break}const X=await ys.generateContent(V,B,{mode:a,eventContext:h,organization:"PTO"});X!=null&&X.content&&(l(V==="subject"?Y=>({...Y,subject:X.content}):Y=>({...Y,body:X.content})),ot.success("âœ¨ Stella has generated your content!"))}catch(B){console.error("Stella generation error:",B),ot.error("Stella encountered an issue. Please try again.")}finally{f(!1)}},R=[{label:"Fall Festival Announcement",context:"Fall Festival event with activities and food"},{label:"Volunteer Recruitment",context:"Need volunteers for upcoming PTO events"},{label:"Meeting Reminder",context:"Monthly PTO meeting reminder"},{label:"Fundraiser Update",context:"Update on current fundraising campaign progress"},{label:"Thank You Message",context:"Thank you to volunteers and supporters"}];return s.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg p-6 mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx(Ar,{className:"w-6 h-6 text-purple-600"}),s.jsx("h3",{className:"text-lg font-semibold text-purple-900",children:"Stella's Content Assistant"})]}),s.jsxs("div",{className:"text-sm text-purple-700 mb-4",children:["Hi! I'm Stella. I can help create content for your ",a,", or you can create everything manually. Your choice!"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-purple-800 mb-2",children:"What would you like to communicate?"}),s.jsx("input",{type:"text",value:k,onChange:V=>C(V.target.value),placeholder:"e.g., Fall Festival this Saturday with games and food",className:"w-full p-3 border border-purple-200 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsx("button",{onClick:()=>L("subject",k),disabled:d||!k.trim(),className:"w-full p-3 text-left bg-white rounded-lg border border-purple-200 hover:bg-purple-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(d6,{className:"w-4 h-4 text-purple-600"}),s.jsx("span",{className:"font-medium",children:"Let Stella Write Subject"})]})}),s.jsx("button",{onClick:()=>L("content",k),disabled:d||!k.trim(),className:"w-full p-3 text-left bg-white rounded-lg border border-purple-200 hover:bg-purple-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Al,{className:"w-4 h-4 text-purple-600"}),s.jsx("span",{className:"font-medium",children:"Let Stella Write Content"})]})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-purple-800 mb-2",children:"Quick Suggestions"}),s.jsx("div",{className:"grid grid-cols-1 gap-2",children:R.map((V,F)=>s.jsx("button",{onClick:()=>L("content",V.context),disabled:d,className:"text-left p-2 bg-white rounded border border-purple-200 hover:bg-purple-50 disabled:opacity-50 text-sm transition-colors",children:V.label},F))})]}),d&&s.jsxs("div",{className:"flex items-center space-x-2 text-purple-700",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-purple-600"}),s.jsx("span",{className:"text-sm",children:"Stella is creating your content..."})]})]})]})},_=k=>({[ds.EMAIL]:{title:"Email Campaign",icon:Al,color:"blue",placeholder:"Write your email content here...",maxLength:null,showSubject:!0,showRecipients:!0},[ds.SMS]:{title:"SMS Message",icon:La,color:"green",placeholder:"Write your SMS message here (160 characters max)...",maxLength:160,showSubject:!1,showRecipients:!0},[ds.SOCIAL]:{title:"Social Media Post",icon:gS,color:"purple",placeholder:"Create your social media post...",maxLength:280,showSubject:!1,showRecipients:!1}})[k],w=_(a),S=w.icon,P=(k,C)=>{l(L=>({...L,[k]:C}))},O=async()=>{try{const{data:{session:k}}=await We.auth.getSession();if(!k){ot.error("Please log in to save drafts");return}const C={id:Date.now(),mode:a,content:o,createdAt:new Date().toISOString(),title:o.subject||o.body.substring(0,50)+"..."},L=JSON.parse(localStorage.getItem("ptoCommunicationDrafts")||"[]");L.unshift(C),localStorage.setItem("ptoCommunicationDrafts",JSON.stringify(L.slice(0,10))),g(L),ot.success("Draft saved successfully!")}catch(k){console.error("Save draft error:",k),ot.error("Failed to save draft")}};$.useEffect(()=>{const k=JSON.parse(localStorage.getItem("ptoCommunicationDrafts")||"[]");g(k),n==="auto"&&setTimeout(()=>{T()},1e3)},[]);const T=async()=>{f(!0);try{const k=e.get("type")||"general";let C="";switch(k){case"newsletter":C="Monthly PTO newsletter with updates and announcements";break;default:C="PTO communication to members"}if(a===ds.EMAIL){const R=await ys.generateContent("subject",`Create an engaging email subject for: ${C}`,{mode:a,organization:"PTO"});R!=null&&R.content&&l(V=>({...V,subject:R.content}))}const L=await ys.generateContent("content",`Write ${a} content for: ${C}`,{mode:a,organization:"PTO"});L!=null&&L.content&&l(R=>({...R,body:L.content})),ot.success("âœ¨ Stella has auto-generated your content! Review and customize as needed.")}catch(k){console.error("Auto-generation error:",k),ot.info("Stella is ready to help when you need content assistance!")}finally{f(!1)}},I=async()=>{if(!o.body.trim()){ot.error("Please add some content before sending");return}if(a===ds.EMAIL&&!o.subject.trim()){ot.error("Please add a subject line for your email");return}try{const{data:{session:k}}=await We.auth.getSession();if(!k){ot.error("Please log in to send communications");return}ot.success(`${w.title} scheduled for sending!`),l({subject:"",body:"",recipients:[],scheduledFor:null})}catch(k){console.error("Send error:",k),ot.error("Failed to send communication")}};return s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("button",{onClick:()=>t("/communications"),className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",children:s.jsx(c6,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Communication Composer"}),s.jsx("p",{className:"text-gray-600",children:"Create engaging communications with Stella's help"})]})]}),s.jsx("div",{className:"flex items-center space-x-3",children:s.jsxs("button",{onClick:()=>u(!c),className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors ${c?"bg-purple-100 text-purple-700 border border-purple-200":"bg-white text-gray-700 border border-gray-200 hover:bg-gray-50"}`,children:[s.jsx(Ar,{className:"w-4 h-4"}),s.jsx("span",{children:"Stella Assistant"})]})})]}),s.jsx("div",{className:"bg-white rounded-lg p-4 mb-6 shadow-sm",children:s.jsx("div",{className:"flex items-center space-x-1",children:Object.entries(ds).map(([k,C])=>{const L=_(C),R=L.icon,V=a===C;return s.jsxs("button",{onClick:()=>i(C),className:`flex items-center space-x-2 px-6 py-3 rounded-lg font-medium transition-all ${V?`bg-${L.color}-100 text-${L.color}-700 border border-${L.color}-200`:"text-gray-600 hover:bg-gray-50"}`,children:[s.jsx(R,{className:"w-5 h-5"}),s.jsx("span",{children:L.title})]},k)})})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[c&&s.jsx(N,{}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[s.jsx(S,{className:`w-6 h-6 text-${w.color}-600`}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:w.title})]}),s.jsxs("div",{className:"space-y-6",children:[w.showSubject&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject Line"}),s.jsx("input",{type:"text",value:o.subject,onChange:k=>P("subject",k.target.value),placeholder:"Enter your email subject...",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),w.showRecipients&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Recipients"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(la,{className:"w-5 h-5 text-gray-400"}),s.jsxs("select",{className:"flex-1 p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{children:"All PTO Members"}),s.jsx("option",{children:"Board Members Only"}),s.jsx("option",{children:"Volunteers"}),s.jsx("option",{children:"Parents"}),s.jsx("option",{children:"Teachers"}),s.jsx("option",{children:"Custom List..."})]})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Message Content",w.maxLength&&s.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["(",o.body.length,"/",w.maxLength," characters)"]})]}),s.jsx("textarea",{ref:y,value:o.body,onChange:k=>P("body",k.target.value),placeholder:w.placeholder,maxLength:w.maxLength,rows:a===ds.SMS?4:12,className:"w-full p-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]})]})]}),s.jsx("div",{className:"border-t border-gray-200 p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("button",{onClick:O,className:"flex items-center space-x-2 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:[s.jsx(u6,{className:"w-4 h-4"}),s.jsx("span",{children:"Save Draft"})]}),s.jsxs("button",{onClick:()=>b(!x),className:"flex items-center space-x-2 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:[s.jsx(zl,{className:"w-4 h-4"}),s.jsx("span",{children:"Preview"})]})]}),s.jsxs("button",{onClick:I,disabled:!o.body.trim()||w.showSubject&&!o.subject.trim(),className:`flex items-center space-x-2 px-6 py-2 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${w.color==="blue"?"bg-blue-600 hover:bg-blue-700":w.color==="green"?"bg-green-600 hover:bg-green-700":"bg-purple-600 hover:bg-purple-700"} text-white`,children:[s.jsx(mS,{className:"w-4 h-4"}),s.jsxs("span",{children:["Send ",w.title]})]})]})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Drafts"}),v.length>0?s.jsx("div",{className:"space-y-3",children:v.slice(0,5).map(k=>s.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>{i(k.mode),l(k.content)},children:[s.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:k.title}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:new Date(k.createdAt).toLocaleDateString()})]},k.id))}):s.jsx("p",{className:"text-gray-500 text-sm",children:"No drafts saved yet"})]}),s.jsxs("div",{className:"bg-blue-50 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"ðŸ’¡ Communication Tips"}),s.jsxs("ul",{className:"text-sm text-blue-800 space-y-2",children:[s.jsx("li",{children:"â€¢ Keep subject lines clear and engaging"}),s.jsx("li",{children:"â€¢ Include a clear call-to-action"}),s.jsx("li",{children:"â€¢ Use Stella for content inspiration"}),s.jsx("li",{children:"â€¢ Preview before sending"}),s.jsx("li",{children:"â€¢ Consider your audience's preferences"})]})]})]})]}),x&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"text-lg font-semibold",children:["Preview: ",w.title]}),s.jsx("button",{onClick:()=>b(!1),className:"text-gray-500 hover:text-gray-700",children:"âœ•"})]}),s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[w.showSubject&&s.jsxs("div",{className:"mb-4",children:[s.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Subject:"}),s.jsx("div",{className:"font-semibold",children:o.subject||"No subject"})]}),s.jsx("div",{className:"whitespace-pre-wrap",children:o.body||"No content"})]})]})})})]})})};function Lfe(){const[e,t]=$.useState([]),[r,n]=$.useState("");return $.useEffect(()=>{async function a(){const{data:{session:i}}=await We.auth.getSession();if(!(i!=null&&i.access_token)){n("Authentication required.");return}try{const o=await fetch("/api/teacher-requests",{headers:{Authorization:`Bearer ${i.access_token}`}}),l=await o.json();o.ok?t(l):n(l.error||"Failed to load teacher requests.")}catch(o){console.error("Fetch error:",o),n("Error connecting to server.")}}a()},[]),s.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Teacher Requests"}),s.jsx(_c,{to:"/teacher-requests/create",className:"bg-blue-600 text-white px-4 py-2 rounded",children:"+ New Request"})]}),r&&s.jsx("p",{className:"text-red-600",children:r}),e.length===0&&!r&&s.jsx("p",{children:"No teacher requests found."}),s.jsx("ul",{className:"space-y-4",children:e.map(a=>s.jsxs("li",{className:"border p-4 rounded shadow-sm bg-white",children:[s.jsx("h2",{className:"text-xl font-semibold",children:a.title}),s.jsxs("p",{className:"text-sm text-gray-500",children:["By ",a.teacher_name," (",a.grade_or_subject,")"]}),s.jsx("p",{className:"mt-2",children:a.description}),a.amount_requested&&s.jsxs("p",{className:"mt-2 text-blue-800 font-semibold",children:["Requested: $",parseFloat(a.amount_requested).toFixed(2)]})]},a.id))})]})}function Mfe(){const[e,t]=$.useState({title:"",description:"",amount_requested:"",teacher_name:"",grade_or_subject:""}),[r,n]=$.useState(""),[a,i]=$.useState(""),o=c=>{const{name:u,value:d}=c.target;t(f=>({...f,[u]:d}))},l=async c=>{c.preventDefault();const{data:{session:u}}=await We.auth.getSession();if(!(u!=null&&u.access_token)){i("You must be logged in to submit a request.");return}try{const d=await fetch("/api/teacher-requests",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u.access_token}`},body:JSON.stringify(e)}),f=await d.json();d.ok?(n("Request submitted successfully!"),i(""),t({})):(i(f.error||"Failed to submit request"),n(""))}catch(d){console.error("Submit error:",d),i("Network error or server unavailable")}};return s.jsxs("div",{className:"max-w-xl mx-auto p-4",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Submit Teacher Request"}),s.jsxs("form",{onSubmit:l,className:"space-y-4",children:[s.jsx("input",{name:"title",value:e.title||"",onChange:o,placeholder:"Title",className:"w-full border p-2",required:!0}),s.jsx("textarea",{name:"description",value:e.description||"",onChange:o,placeholder:"Description",className:"w-full border p-2"}),s.jsx("input",{type:"number",name:"amount_requested",value:e.amount_requested||"",onChange:o,placeholder:"Amount Requested",className:"w-full border p-2"}),s.jsx("input",{name:"teacher_name",value:e.teacher_name||"",onChange:o,placeholder:"Teacher Name",className:"w-full border p-2"}),s.jsx("input",{name:"grade_or_subject",value:e.grade_or_subject||"",onChange:o,placeholder:"Grade or Subject",className:"w-full border p-2"}),s.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded",type:"submit",children:"Submit"}),r&&s.jsx("p",{className:"text-green-600",children:r}),a&&s.jsx("p",{className:"text-red-600",children:a})]})]})}function Dfe(){const[e,t]=$.useState(!1),[r,n]=$.useState(""),[a,i]=$.useState("monthly"),o=async()=>{var l;t(!0),n("");try{const u=(l=(await We.auth.getSession()).data.session)==null?void 0:l.access_token;if(!u){n("User session not found."),t(!1);return}const d=await fetch("https://api.ptoconnect.com/api/api/stripe/create-checkout-session",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`},body:JSON.stringify({plan:a})});if(!d.ok){const h=await d.text();throw console.error("Stripe error response:",h),new Error("Stripe request failed.")}const f=await d.json();f!=null&&f.url?window.location.href=f.url:n("Checkout session failed to start.")}catch(c){console.error("Checkout error:",c),n("An error occurred during checkout.")}finally{t(!1)}};return s.jsxs("div",{className:"max-w-xl mx-auto p-6",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Start Your PTO Connect Subscription"}),s.jsx("p",{className:"mb-4",children:"Subscribe now to unlock all features for your PTO group."}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block font-medium mb-1",children:"Choose a plan:"}),s.jsxs("select",{className:"border p-2 rounded w-full",value:a,onChange:l=>i(l.target.value),children:[s.jsx("option",{value:"monthly",children:"Monthly - $29/month"}),s.jsx("option",{value:"annual",children:"Annual - $299/year"})]})]}),s.jsx("button",{onClick:o,disabled:e,className:"bg-blue-600 text-white px-4 py-2 rounded",children:e?"Redirectingâ€¦":"Subscribe Now"}),r&&s.jsx("p",{className:"text-red-600 mt-4",children:r})]})}function $fe(){return s.jsxs("div",{className:"max-w-xl mx-auto p-6 text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-green-600 mb-4",children:"Subscription Successful!"}),s.jsx("p",{className:"text-gray-700",children:"Thank you for subscribing to PTO Connect. Your account is now active."})]})}function Ife(){return s.jsxs("div",{className:"max-w-xl mx-auto p-6 text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Checkout Canceled"}),s.jsx("p",{className:"text-gray-700",children:"You canceled the checkout process. No charges were made."})]})}function Rfe(){const[e,t]=$.useState(""),[r,n]=$.useState(""),[a,i]=$.useState(""),[o,l]=$.useState(""),c=pr(),u=()=>{if(l(""),!e||!r){l("PTO Name and School Name are required.");return}const d={ptoName:e,schoolName:r,districtName:a};sessionStorage.setItem("pendingPto",JSON.stringify(d)),c("/onboarding/pricing")};return s.jsxs("div",{className:"max-w-xl mx-auto p-6",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Create Your PTO"}),s.jsx("p",{className:"text-gray-700 mb-6",children:"Let's start by getting your organization set up. Enter your PTO's info below."}),s.jsx("input",{className:"border p-2 w-full mb-4",type:"text",placeholder:"PTO Name",value:e,onChange:d=>t(d.target.value)}),s.jsx("input",{className:"border p-2 w-full mb-4",type:"text",placeholder:"School Name",value:r,onChange:d=>n(d.target.value)}),s.jsx("input",{className:"border p-2 w-full mb-4",type:"text",placeholder:"District Name (optional)",value:a,onChange:d=>i(d.target.value)}),s.jsx("button",{onClick:u,className:"bg-blue-600 text-white px-4 py-2 rounded w-full",children:"Continue to Plan Selection"}),o&&s.jsx("p",{className:"text-red-600 mt-4",children:o})]})}function Ffe(){const[e,t]=$.useState(null),[r,n]=$.useState([]),[a,i]=$.useState("");pr(),$.useEffect(()=>{const l=sessionStorage.getItem("pendingPto");l?t(JSON.parse(l)):i("Missing PTO info. Please start again."),fetch("/api/stripe/get-prices").then(c=>c.json()).then(n).catch(()=>i("Could not load pricing. Please try again."))},[]);const o=async(l,c)=>{try{const d=await(await fetch("/api/stripe/create-checkout-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({priceId:l,ptoMetadata:e,plan:c==="annual_plan"?"annual":"monthly"})})).json();d.url?window.location.href=d.url:i("Unable to start checkout session.")}catch{i("Stripe checkout error.")}};return s.jsxs("div",{className:"max-w-xl mx-auto p-6",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Choose Your Plan"}),a&&s.jsx("p",{className:"text-red-600 mb-4",children:a}),s.jsx("div",{className:"space-y-4",children:r.map(l=>s.jsxs("button",{onClick:()=>o(l.id,l.lookup_key),className:"w-full py-3 rounded bg-blue-600 text-white hover:bg-blue-700",children:[l.nickname||l.lookup_key," â€“ $",l.amount,"/",l.interval]},l.id))})]})}function Bfe(){const[e]=xS(),t=pr(),[r,n]=$.useState({adminName:"",adminEmail:"",adminPassword:"",confirmPassword:""}),[a,i]=$.useState(null),[o,l]=$.useState(!1),[c,u]=$.useState("");$.useEffect(()=>{const h=e.get("session_id"),p=sessionStorage.getItem("pendingPto");if(!p){u("Missing PTO information. Please start the signup process again.");return}i(JSON.parse(p)),h&&sessionStorage.setItem("stripeSessionId",h)},[e]);const d=h=>{n({...r,[h.target.name]:h.target.value})},f=async h=>{if(h.preventDefault(),u(""),l(!0),!r.adminName||!r.adminEmail||!r.adminPassword){u("All fields are required."),l(!1);return}if(r.adminPassword!==r.confirmPassword){u("Passwords do not match."),l(!1);return}if(r.adminPassword.length<6){u("Password must be at least 6 characters."),l(!1);return}try{const p=sessionStorage.getItem("stripeSessionId"),v=await Ot.post("/signup/complete",{ptoName:a.ptoName,schoolName:a.schoolName,adminName:r.adminName,adminEmail:r.adminEmail,adminPassword:r.adminPassword,stripeSessionId:p});v.success?(sessionStorage.removeItem("pendingPto"),sessionStorage.removeItem("stripeSessionId"),t("/onboarding/next-steps",{state:{organization:v.organization}})):u(v.error||"Failed to create account.")}catch(p){console.error("Signup error:",p),u("Failed to create account. Please try again.")}finally{l(!1)}};return a?s.jsxs("div",{className:"max-w-md mx-auto p-6",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Complete Your Setup"}),s.jsxs("p",{className:"text-gray-600",children:["Creating ",s.jsx("strong",{children:a.ptoName})," at ",a.schoolName]})]}),s.jsxs("form",{onSubmit:f,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Full Name"}),s.jsx("input",{type:"text",name:"adminName",value:r.adminName,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your full name",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),s.jsx("input",{type:"email",name:"adminEmail",value:r.adminEmail,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your email",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),s.jsx("input",{type:"password",name:"adminPassword",value:r.adminPassword,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Create a password",minLength:"6",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),s.jsx("input",{type:"password",name:"confirmPassword",value:r.confirmPassword,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Confirm your password",minLength:"6",required:!0})]}),c&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:c}),s.jsx("button",{type:"submit",disabled:o,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Creating Account...":"Complete Setup"})]}),s.jsx("div",{className:"mt-6 text-center text-sm text-gray-500",children:s.jsx("p",{children:"By creating an account, you agree to our Terms of Service and Privacy Policy."})})]}):s.jsxs("div",{className:"max-w-md mx-auto p-6 text-center",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4 text-red-600",children:"Setup Error"}),s.jsx("p",{className:"text-gray-700 mb-4",children:"Missing PTO information. Please start the signup process again."}),s.jsx("button",{onClick:()=>t("/onboarding/create-pto"),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Start Over"})]})}function zfe(){const e=pr(),[t,r]=$.useState({ptoName:"",schoolName:"",adminName:"",adminEmail:"",adminPassword:"",confirmPassword:""}),[n,a]=$.useState(!1),[i,o]=$.useState(""),[l,c]=$.useState(null),u=f=>{r({...t,[f.target.name]:f.target.value})},d=async f=>{var h;if(f.preventDefault(),o(""),a(!0),!t.ptoName||!t.schoolName||!t.adminName||!t.adminEmail||!t.adminPassword){o("All fields are required."),a(!1);return}if(t.adminPassword!==t.confirmPassword){o("Passwords do not match."),a(!1);return}if(t.adminPassword.length<6){o("Password must be at least 6 characters."),a(!1);return}try{const p=await Ot.post("/signup/complete",{ptoName:t.ptoName,schoolName:t.schoolName,adminName:t.adminName,adminEmail:t.adminEmail,adminPassword:t.adminPassword});p.data&&p.data.success?(c(p.data.organization),o("")):o(((h=p.data)==null?void 0:h.error)||"Failed to create account.")}catch(p){console.error("Signup error:",p),o("Failed to create account. Please try again.")}finally{a(!1)}};return l?s.jsxs("div",{className:"max-w-md mx-auto p-6 text-center",children:[s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6 mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-green-800 mb-4",children:"Success! ðŸŽ‰"}),s.jsxs("p",{className:"text-green-700 mb-4",children:["Your organization ",s.jsx("strong",{children:l.name})," has been created successfully!"]}),s.jsxs("div",{className:"bg-white border border-green-300 rounded p-4 mb-4",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Your signup code:"}),s.jsx("p",{className:"text-lg font-mono font-bold text-green-800",children:l.signup_code})]}),s.jsx("p",{className:"text-sm text-green-600",children:"Share this code with other members to join your organization."})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("button",{onClick:()=>e("/login"),className:"w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700",children:"Go to Login"}),s.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-gray-200 text-gray-800 py-2 px-4 rounded hover:bg-gray-300",children:"Create Another Organization"})]})]}):s.jsxs("div",{className:"max-w-md mx-auto p-6",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Create Your PTO Organization"}),s.jsx("p",{className:"text-gray-600",children:"Set up your PTO and create your admin account"})]}),s.jsxs("form",{onSubmit:d,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"PTO Name"}),s.jsx("input",{type:"text",name:"ptoName",value:t.ptoName,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Lincoln Elementary PTO",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"School Name"}),s.jsx("input",{type:"text",name:"schoolName",value:t.schoolName,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Lincoln Elementary School",required:!0})]}),s.jsx("hr",{className:"my-4"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Full Name"}),s.jsx("input",{type:"text",name:"adminName",value:t.adminName,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your full name",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),s.jsx("input",{type:"email",name:"adminEmail",value:t.adminEmail,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your email",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),s.jsx("input",{type:"password",name:"adminPassword",value:t.adminPassword,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Create a password",minLength:"6",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),s.jsx("input",{type:"password",name:"confirmPassword",value:t.confirmPassword,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Confirm your password",minLength:"6",required:!0})]}),i&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:i}),s.jsx("button",{type:"submit",disabled:n,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Creating Organization...":"Create Organization"})]}),s.jsxs("div",{className:"mt-6 text-center text-sm text-gray-500",children:[s.jsx("p",{children:"This will create a trial organization (14 days)"}),s.jsxs("p",{className:"mt-2",children:["Already have an account? ",s.jsx("a",{href:"/login",className:"text-blue-600 hover:underline",children:"Login here"})]})]})]})}function qfe(){var o;const e=yS(),t=pr(),[r,n]=$.useState(!1),a=(o=e.state)==null?void 0:o.organization,i=()=>{a!=null&&a.signup_code&&(navigator.clipboard.writeText(a.signup_code),n(!0),setTimeout(()=>n(!1),2e3))};return a?s.jsxs("div",{className:"max-w-2xl mx-auto p-6",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx(Ur,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome to PTO Connect!"}),s.jsxs("p",{className:"text-lg text-gray-600",children:["Your organization ",s.jsx("strong",{children:a.name})," has been successfully created."]})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold text-blue-900 mb-4",children:"Your Organization Details"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-blue-800",children:"Organization Name:"}),s.jsx("span",{className:"ml-2 text-blue-700",children:a.name})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-blue-800",children:"Organization ID:"}),s.jsx("span",{className:"ml-2 text-blue-700 font-mono text-sm",children:a.slug})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"font-medium text-blue-800",children:"Signup Code:"}),s.jsx("span",{className:"ml-2 text-blue-700 font-mono text-lg font-bold",children:a.signup_code}),s.jsx("button",{onClick:i,className:"ml-2 p-1 text-blue-600 hover:text-blue-800",title:"Copy signup code",children:s.jsx(hS,{className:"w-4 h-4"})}),r&&s.jsx("span",{className:"ml-2 text-green-600 text-sm",children:"Copied!"})]})]})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Next Steps to Get Started"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-gray-50 rounded-lg",children:[s.jsx(la,{className:"w-6 h-6 text-blue-600 mt-1"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Invite Your Team"}),s.jsxs("p",{className:"text-gray-600 text-sm",children:["Share your signup code ",s.jsx("strong",{children:a.signup_code})," with other PTO members, teachers, and parents so they can join your organization."]})]})]}),s.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-gray-50 rounded-lg",children:[s.jsx(vS,{className:"w-6 h-6 text-blue-600 mt-1"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Configure Your Settings"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Set up your organization preferences, communication settings, and user roles."})]})]}),s.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-gray-50 rounded-lg",children:[s.jsx(Lr,{className:"w-6 h-6 text-blue-600 mt-1"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Create Your First Event"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Start engaging your community by creating your first PTO event or meeting."})]})]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsx("button",{onClick:()=>t("/login"),className:"flex-1 bg-blue-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"Go to Dashboard"}),s.jsx("button",{onClick:()=>t("/onboarding/create-pto"),className:"flex-1 bg-gray-200 text-gray-800 py-3 px-6 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Create Another PTO"})]}),s.jsxs("div",{className:"mt-8 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[s.jsx("h3",{className:"font-semibold text-yellow-800 mb-2",children:"Need Help?"}),s.jsx("p",{className:"text-yellow-700 text-sm",children:"Check out our getting started guide or contact support if you need assistance setting up your PTO organization."})]})]}):s.jsxs("div",{className:"max-w-md mx-auto p-6 text-center",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4 text-red-600",children:"Setup Error"}),s.jsx("p",{className:"text-gray-700 mb-4",children:"Missing organization information. Please complete the signup process."}),s.jsx("button",{onClick:()=>t("/onboarding/create-pto"),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Start Setup"})]})}function Ufe(){return s.jsxs(h6,{children:[s.jsx(qe,{path:"/",element:s.jsx(L1,{})}),s.jsx(qe,{path:"/login",element:s.jsx(L1,{})}),s.jsx(qe,{path:"/signup",element:s.jsx(W6,{})}),s.jsx(qe,{path:"/unauthorized",element:s.jsx(H6,{})}),s.jsx(qe,{path:"/onboarding/create-pto",element:s.jsx(Rfe,{})}),s.jsx(qe,{path:"/onboarding/pricing",element:s.jsx(Ffe,{})}),s.jsx(qe,{path:"/onboarding/complete-signup",element:s.jsx(Bfe,{})}),s.jsx(qe,{path:"/onboarding/simple-signup",element:s.jsx(zfe,{})}),s.jsx(qe,{path:"/onboarding/next-steps",element:s.jsx(qfe,{})}),s.jsx(qe,{path:"/billing/success",element:s.jsx($fe,{})}),s.jsx(qe,{path:"/billing/cancel",element:s.jsx(Ife,{})}),s.jsx(qe,{element:s.jsx(Gs,{allowedRoles:["admin","board_member","committee_lead","volunteer","parent_member","teacher"]}),children:s.jsx(qe,{element:s.jsx(Vs,{}),children:s.jsx(qe,{path:"/dashboard",element:s.jsx(Y6,{})})})}),s.jsx(qe,{element:s.jsx(Gs,{allowedRoles:["admin"]}),children:s.jsxs(qe,{element:s.jsx(Vs,{}),children:[s.jsx(qe,{path:"/dashboard/admin",element:s.jsx(ov,{})}),s.jsx(qe,{path:"/admin/permissions",element:s.jsx(aE,{})}),s.jsx(qe,{path:"/admin/users",element:s.jsx(ov,{})}),s.jsx(qe,{path:"/admin/settings",element:s.jsx(ov,{})}),s.jsx(qe,{path:"/billing",element:s.jsx(Dfe,{})}),s.jsx(qe,{path:"/events",element:s.jsx(gw,{})}),s.jsx(qe,{path:"/events/legacy",element:s.jsx(gw,{})}),s.jsx(qe,{path:"/events/create",element:s.jsx(FG,{})}),s.jsx(qe,{path:"/events/create-enhanced",element:s.jsx(WG,{})}),s.jsx(qe,{path:"/events/:eventId/workflow",element:s.jsx(HG,{})}),s.jsx(qe,{path:"/events/:eventId/project-management",element:s.jsx(sV,{})}),s.jsx(qe,{path:"/events/edit/:id",element:s.jsx(GG,{})}),s.jsx(qe,{path:"/events/calendar",element:s.jsx(KG,{})}),s.jsx(qe,{path:"/events/detail/:id",element:s.jsx(XG,{})}),s.jsx(qe,{path:"/fundraisers",element:s.jsx(Yue,{})}),s.jsx(qe,{path:"/fundraisers/create",element:s.jsx(rP,{})}),s.jsx(qe,{path:"/fundraisers/:id/edit",element:s.jsx(Kue,{})}),s.jsx(qe,{path:"/fundraisers/:id/analytics",element:s.jsx(tP,{})}),s.jsx(qe,{path:"/budget",element:s.jsx(Jue,{})}),s.jsx(qe,{path:"/budget/legacy",element:s.jsx(Xue,{})}),s.jsx(qe,{path:"/budget/create",element:s.jsx(Zue,{})}),s.jsx(qe,{path:"/budget/reconciliation",element:s.jsx(Que,{})}),s.jsx(qe,{path:"/budget/reconciliation/new",element:s.jsx(gfe,{})}),s.jsx(qe,{path:"/budget/reconciliation/:id",element:s.jsx(lP,{})}),s.jsx(qe,{path:"/communications",element:s.jsx(xfe,{})}),s.jsx(qe,{path:"/communications/legacy",element:s.jsx(bfe,{})}),s.jsx(qe,{path:"/communications/create",element:s.jsx(wfe,{})}),s.jsx(qe,{path:"/communications/email",element:s.jsx(kh,{})}),s.jsx(qe,{path:"/communications/sms",element:s.jsx(jfe,{})}),s.jsx(qe,{path:"/communications/social",element:s.jsx(Nfe,{})}),s.jsx(qe,{path:"/communications/ai",element:s.jsx(kh,{})}),s.jsx(qe,{path:"/communications/design-studio",element:s.jsx(kh,{})}),s.jsx(qe,{path:"/communications/template-builder",element:s.jsx(kh,{})}),s.jsx(qe,{path:"/documents",element:s.jsx(_fe,{})}),s.jsx(qe,{path:"/documents/upload",element:s.jsx(Ofe,{})}),s.jsx(qe,{path:"/shared-library",element:s.jsx(Efe,{})}),s.jsx(qe,{path:"/ai-event-ideas",element:s.jsx(kfe,{})}),s.jsx(qe,{path:"/ai-workflow-orchestrator",element:s.jsx(Tfe,{})})]})}),s.jsx(qe,{element:s.jsx(Gs,{allowedRoles:["teacher"]}),children:s.jsxs(qe,{element:s.jsx(Vs,{}),children:[s.jsx(qe,{path:"/dashboard/teacher",element:s.jsx(cE,{})}),s.jsx(qe,{path:"/teacher-requests",element:s.jsx(Lfe,{})}),s.jsx(qe,{path:"/teacher-requests/create",element:s.jsx(Mfe,{})})]})}),s.jsx(qe,{element:s.jsx(Gs,{allowedRoles:["board_member"]}),children:s.jsx(qe,{element:s.jsx(Vs,{}),children:s.jsx(qe,{path:"/dashboard/board",element:s.jsx(iE,{})})})}),s.jsx(qe,{element:s.jsx(Gs,{allowedRoles:["committee_lead"]}),children:s.jsx(qe,{element:s.jsx(Vs,{}),children:s.jsx(qe,{path:"/dashboard/committee",element:s.jsx(sE,{})})})}),s.jsx(qe,{element:s.jsx(Gs,{allowedRoles:["volunteer"]}),children:s.jsx(qe,{element:s.jsx(Vs,{}),children:s.jsx(qe,{path:"/dashboard/volunteer",element:s.jsx(oE,{})})})}),s.jsx(qe,{element:s.jsx(Gs,{allowedRoles:["parent_member"]}),children:s.jsx(qe,{element:s.jsx(Vs,{}),children:s.jsx(qe,{path:"/dashboard/parent",element:s.jsx(lE,{})})})})]})}a0.createRoot(document.getElementById("root")).render(s.jsx(U.StrictMode,{children:s.jsx(p6,{children:s.jsx(Ufe,{})})}));export{no as _};
//# sourceMappingURL=index-BFaq-Kyy.js.map
