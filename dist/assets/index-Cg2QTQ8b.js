const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index.es-r9Qi19nm.js","assets/react-vendor-Bt2U2SF_.js","assets/ui-vendor-CF03phdt.js","assets/supabase-rDwCGHvF.js","assets/data-vendor-DspDHpPd.js"])))=>i.map(i=>d[i]);
import{j as l,L as AP,B as OP,P as Se,S as wr,C as ri,U as ka,E as Il,a as _a,T as PP,A as Rp,b as Kn,c as EP,d as YN,D as Za,Z as Bv,e as KN,f as Mu,M as lo,g as Wy,h as s1,i as zv,k as kP,F as TP,l as CP,m as LP,n as MP,o as XN,p as $P,q as JN,r as DP,s as IP,t as RP,u as FP,v as BP,w as l1,x as Si,y as zP,G as qP,z as UP,H as jl,I as WP,J as c1,K as u1,N as ZN,O as QN,Q as HP,R as eS,V as GP,W as VP,X as YP}from"./ui-vendor-CF03phdt.js";import{b as KP,r as R,N as Wg,O as Hy,u as mr,d as tS,L as mc,g as wt,e as U,c as Zn,f as rS,h as Es,i as nS,j as XP,k as Ue,B as JP}from"./react-vendor-Bt2U2SF_.js";import{c as ZP,_ as qv}from"./supabase-rDwCGHvF.js";import{a as Ja}from"./data-vendor-DspDHpPd.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Uv={},d1=KP;Uv.createRoot=d1.createRoot,Uv.hydrateRoot=d1.hydrateRoot;const QP="https://dakyetfomciihdiuwrbx.supabase.co",e6="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRha3lldGZvbWNpaWhkaXV3cmJ4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwODgzNDYsImV4cCI6MjA2MzY2NDM0Nn0.ylHsHeu-XoB2SRA4YDCLThjFk-Lq8jyK2RnsWk1JBiw",We=ZP(QP,e6);function wo(){const[e,t]=R.useState(null),[r,n]=R.useState(null),[a,i]=R.useState(!0),[o,s]=R.useState(null);return R.useEffect(()=>{const h=async()=>{try{i(!0),s(null);const{data:{user:g},error:j}=await We.auth.getUser();if(j)throw j;if(!g){t(null),n(null),i(!1);return}const{data:x,error:b}=await We.from("profiles").select("*").eq("id",g.id).single();if(b)throw b;t(x);let N=null;if(x!=null&&x.org_id){const{data:_,error:w}=await We.from("organizations").select("*").eq("id",x.org_id).single();w||(N=_)}n(N)}catch(g){console.error("Error fetching user profile:",g),s(g.message)}finally{i(!1)}};h();const{data:{subscription:v}}=We.auth.onAuthStateChange((g,j)=>{g==="SIGNED_OUT"?(t(null),n(null)):g==="SIGNED_IN"&&j&&h()});return()=>v.unsubscribe()},[]),{profile:e,organization:r,loading:a,error:o,updateProfile:async h=>{try{const{data:v,error:g}=await We.from("profiles").update(h).eq("id",e.id).select().single();if(g)throw g;return t(j=>({...j,...v})),{data:v,error:null}}catch(v){return console.error("Error updating profile:",v),{data:null,error:v.message}}},hasRole:h=>(e==null?void 0:e.role)===h,hasAnyRole:h=>h.includes(e==null?void 0:e.role),isSubscriptionActive:()=>{if(!r)return!1;const{subscription_status:h,trial_ends_at:v}=r;return h==="active"||h==="trial"&&v&&new Date(v)>new Date},showRenewalBanner:()=>{if(!r)return!1;const{plan_type:h,subscription_status:v,cancel_at_period_end:g,current_period_end:j}=r;return!!(h==="annual"&&v==="active"&&g&&j&&new Date(j)-new Date<15*24*60*60*1e3)},isAuthenticated:!!e}}function Gy({size:e="default",className:t=""}){const r={small:"h-4 w-4",default:"h-6 w-6",large:"h-8 w-8"};return l.jsx("div",{className:"flex items-center justify-center",children:l.jsx(AP,{className:`animate-spin text-blue-600 ${r[e]} ${t}`})})}function zo({allowedRoles:e}){const{profile:t,loading:r,isAuthenticated:n,isSubscriptionActive:a}=wo();return r?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx(Gy,{size:"xl"})}):n?e&&!e.includes(t.role)?l.jsx(Wg,{to:"/unauthorized",replace:!0}):!a()&&window.location.pathname!=="/billing"?l.jsx(Wg,{to:"/billing",replace:!0}):l.jsx(Hy,{}):l.jsx(Wg,{to:"/login",replace:!0})}const Tu="production",Wv=Tu==="preview",f1={development:{apiUrl:"http://localhost:3000/api",clientUrl:"http://localhost:5173",supabaseUrl:"https://dakyetfomciihdiuwrbx.supabase.co",supabaseAnonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRha3lldGZvbWNpaWhkaXV3cmJ4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwODgzNDYsImV4cCI6MjA2MzY2NDM0Nn0.ylHsHeu-XoB2SRA4YDCLThjFk-Lq8jyK2RnsWk1JBiw",stripePublishableKey:"pk_test_your_stripe_publishable_key_here"},preview:{apiUrl:"https://preview-api.ptoconnect.com/api",clientUrl:"https://preview.ptoconnect.com",supabaseUrl:"https://dakyetfomciihdiuwrbx.supabase.co",supabaseAnonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRha3lldGZvbWNpaWhkaXV3cmJ4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwODgzNDYsImV4cCI6MjA2MzY2NDM0Nn0.ylHsHeu-XoB2SRA4YDCLThjFk-Lq8jyK2RnsWk1JBiw",stripePublishableKey:"pk_test_your_stripe_publishable_key_here"},production:{apiUrl:"https://api.ptoconnect.com/api",clientUrl:"https://app.ptoconnect.com",supabaseUrl:"https://dakyetfomciihdiuwrbx.supabase.co",supabaseAnonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRha3lldGZvbWNpaWhkaXV3cmJ4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwODgzNDYsImV4cCI6MjA2MzY2NDM0Nn0.ylHsHeu-XoB2SRA4YDCLThjFk-Lq8jyK2RnsWk1JBiw",stripePublishableKey:"pk_test_your_stripe_publishable_key_here"}},t6=()=>({...f1[Tu]||f1.development,isPreview:Wv,isProduction:Tu==="production",isDevelopment:Tu==="development",environment:Tu}),r6=()=>({baseURL:t6().apiUrl,timeout:3e4,headers:{"Content-Type":"application/json"}}),n6=()=>({level:"info",enableConsoleLogs:Wv,enableNetworkLogs:Wv,enablePerformanceLogs:!0}),aS=r6(),Hg=n6();console.log("[DEBUG] Environment config:",{apiUrl:aS.baseURL,environment:"production",isPreview:!1});const ln=Ja.create(aS);ln.interceptors.request.use(async e=>{try{const{data:{session:t}}=await We.auth.getSession();Hg.enableNetworkLogs,t!=null&&t.access_token&&(e.headers.Authorization=`Bearer ${t.access_token}`),Hg.enableNetworkLogs}catch(t){console.error("âŒ [FRONTEND DEBUG] Error getting session:",t)}return e},e=>(console.error("âŒ [FRONTEND DEBUG] Request interceptor error:",e),Promise.reject(e)));ln.interceptors.response.use(e=>e,e=>{var t,r,n,a,i;return console.error("âŒ [FRONTEND DEBUG] API Response error:",{url:(t=e.config)==null?void 0:t.url,status:(r=e.response)==null?void 0:r.status,statusText:(n=e.response)==null?void 0:n.statusText,errorData:(a=e.response)==null?void 0:a.data,errorMessage:e.message}),((i=e.response)==null?void 0:i.status)===401&&(console.warn("ðŸš« [FRONTEND DEBUG] Unauthorized - redirecting to login"),window.location.href="/login"),Promise.reject(e)});const mt=async(e,t,r=null,n={})=>{var a,i;try{return{data:(await ln({method:e,url:t,data:r,...n})).data,error:null}}catch(o){return console.error(`API Error (${e} ${t}):`,o),{data:null,error:((i=(a=o.response)==null?void 0:a.data)==null?void 0:i.message)||o.message||"An error occurred"}}},a6={getEvents:()=>mt("GET","/event"),getEvent:e=>mt("GET",`/event/${e}`),createEvent:e=>mt("POST","/event",e),updateEvent:(e,t)=>mt("PUT",`/event/${e}`,t),deleteEvent:e=>mt("DELETE",`/event/${e}`),rsvpEvent:(e,t)=>mt("POST",`/event/${e}/rsvp`,{status:t}),getEventRSVPs:e=>mt("GET",`/event/${e}/rsvps`)},Oa={getFundraisers:()=>mt("GET","/fundraiser"),getFundraiser:e=>mt("GET",`/fundraiser/${e}`),createFundraiser:e=>mt("POST","/fundraiser",e),updateFundraiser:(e,t)=>mt("PUT",`/fundraiser/${e}`,t),deleteFundraiser:e=>mt("DELETE",`/fundraiser/${e}`),getDonations:e=>mt("GET",`/fundraiser/${e}/donations`),getFundraiserAnalytics:(e,t)=>mt("GET",`/fundraiser/${e}/analytics${t?`?${new URLSearchParams(t)}`:""}`),getAllFundraisersAnalytics:e=>mt("GET",`/fundraiser/analytics${e?`?${new URLSearchParams(e)}`:""}`),getAnalyticsOverview:e=>mt("GET",`/fundraiser/analytics/overview${e?`?${new URLSearchParams(e)}`:""}`),getAnalyticsTrends:e=>mt("GET",`/fundraiser/analytics/trends${e?`?${new URLSearchParams(e)}`:""}`),getAnalyticsDonorRetention:e=>mt("GET",`/fundraiser/analytics/donor-retention${e?`?${new URLSearchParams(e)}`:""}`),getAnalyticsCampaigns:e=>mt("GET",`/fundraiser/analytics/campaigns${e?`?${new URLSearchParams(e)}`:""}`),addDonation:(e,t)=>mt("POST","/fundraiser/analytics/donations",{...t,fundraiser_id:e}),getFundraiserTopDonor:e=>mt("GET",`/fundraiser/${e}/top-donor`),getDonationTiers:e=>mt("GET",`/fundraiser/${e}/tiers`),createDonationTier:(e,t)=>mt("POST",`/fundraiser/${e}/tiers`,t),updateDonationTier:(e,t,r)=>mt("PUT",`/fundraiser/${e}/tiers/${t}`,r),deleteDonationTier:(e,t)=>mt("DELETE",`/fundraiser/${e}/tiers/${t}`),getAnalyticsYears:()=>mt("GET","/fundraiser/analytics/years"),getDonorYears:()=>mt("GET","/fundraiser/donors/years"),getDonorData:(e,t,r,n)=>mt("GET",`/fundraiser/donors${t||r||n?`?${new URLSearchParams({year:t,fundraiserId:r,type:n})}`:""}`),getDonorTypes:()=>mt("GET","/fundraiser/donor-types")},po={generateEventIdeas:e=>mt("POST","/event-ideas",{prompt:e}),generateContent:(e,t,r,n=!1)=>mt("POST","/ai/generate",{type:e,prompt:t,context:r,includeRecommendations:n}),analyzeContext:(e,t="general")=>mt("POST","/ai/analyze-context",{orgId:e,analysisType:t}),analyzeEventWorkflow:(e,t)=>mt("POST","/ai/analyze-event-workflow",{eventData:e,orgId:t}),analyzeDocument:e=>mt("POST",`/ai/analyze-document/${e}`),chatWithDocuments:e=>mt("POST","/ai/chat",{query:e}),generateComprehensiveWorkflow:async(e,t,r)=>{try{console.log("ðŸŒŸ [API] Generating comprehensive workflow..."),console.log("ðŸ“Š [API] Event data:",e),console.log("ðŸŽ¯ [API] Stella context:",t),console.log("ðŸ”§ [API] Module integrations:",r);const n=await mt("POST","/stella/generate-comprehensive-workflow",{eventData:e,stellaContext:t,moduleIntegrations:r});return console.log("âœ… [API] Workflow generation response:",n),n}catch(n){throw console.error("âŒ [API] Workflow generation failed:",n),n}},getWorkflowDetails:e=>mt("GET",`/stella/workflow/${e}`),listWorkflows:()=>mt("GET","/stella/workflows")};function iS(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=iS(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function gt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=iS(e))&&(n&&(n+=" "),n+=t);return n}function i6(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}i6(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Vy=e=>typeof e=="number"&&!isNaN(e),Wu=e=>typeof e=="string",oS=e=>typeof e=="function",o6=e=>Wu(e)||Vy(e),s6=e=>R.isValidElement(e)||Wu(e)||oS(e)||Vy(e),l6=1,sS=()=>`${l6++}`,ni=new Map,Hv=[],h1=new Set,lS=()=>ni.size>0,c6=(e,{containerId:t})=>{var r;return(r=ni.get(t||1))==null?void 0:r.toasts.get(e)};function u6(e,t){var r;if(t)return!!((r=ni.get(t))!=null&&r.isToastActive(e));let n=!1;return ni.forEach(a=>{a.isToastActive(e)&&(n=!0)}),n}function d6(e){if(!lS()){Hv=Hv.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||o6(e))ni.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=ni.get(e.containerId);t?t.removeToast(e.id):ni.forEach(r=>{r.removeToast(e.id)})}}var f6=(e={})=>{ni.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function h6(e,t){s6(e)&&(lS()||Hv.push({content:e,options:t}),ni.forEach(r=>{r.buildToast(e,t)}))}function cS(e,t){ni.forEach(r=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===r.id)&&r.toggle(e,t==null?void 0:t.id)})}function p6(e){return h1.add(e),()=>{h1.delete(e)}}function m6(e){return e&&(Wu(e.toastId)||Vy(e.toastId))?e.toastId:sS()}function qd(e,t){return h6(e,t),t.toastId}function Fp(e,t){return{...t,type:t&&t.type||e,toastId:m6(t)}}function Bp(e){return(t,r)=>qd(t,Fp(e,r))}function ot(e,t){return qd(e,Fp("default",t))}ot.loading=(e,t)=>qd(e,Fp("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function g6(e,{pending:t,error:r,success:n},a){let i;t&&(i=Wu(t)?ot.loading(t,a):ot.loading(t.render,{...a,...t}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},s=(u,d,f)=>{if(d==null){ot.dismiss(i);return}let p={type:u,...o,...a,data:f},h=Wu(d)?{render:d}:d;return i?ot.update(i,{...p,...h}):ot(h.render,{...p,...h}),f},c=oS(e)?e():e;return c.then(u=>s("success",n,u)).catch(u=>s("error",r,u)),c}ot.promise=g6;ot.success=Bp("success");ot.info=Bp("info");ot.error=Bp("error");ot.warning=Bp("warning");ot.warn=ot.warning;ot.dark=(e,t)=>qd(e,Fp("default",{theme:"dark",...t}));function v6(e){d6(e)}ot.dismiss=v6;ot.clearWaitingQueue=f6;ot.isActive=u6;ot.update=(e,t={})=>{let r=c6(e,t);if(r){let{props:n,content:a}=r,i={delay:100,...n,...t,toastId:t.toastId||e,updateId:sS()};i.toastId!==e&&(i.staleId=e);let o=i.render||a;delete i.render,qd(o,i)}};ot.done=e=>{ot.update(e,{progress:1})};ot.onChange=p6;ot.play=e=>cS(!0,e);ot.pause=e=>cS(!1,e);const Pa=(e,t="An error occurred")=>(console.error("Error:",e),ot.error(t),!1),fs=(e="Operation successful")=>(ot.success(e),!0);function y6(){const[e,t]=R.useState([]),[r,n]=R.useState(!1),[a,i]=R.useState(null),[o,s]=R.useState(!1),c=async()=>{try{n(!0);const{data:f}=await ln.get("/notifications");t(f),i(null)}catch(f){i("Failed to fetch notifications"),Pa(f,"Failed to fetch notifications")}finally{n(!1)}},u=async f=>{try{n(!0),await ln.put(`/notifications/${f}/read`),t(e.map(p=>p.id===f?{...p,read:!0}:p)),fs("Notification marked as read")}catch(p){Pa(p,"Failed to update notification")}finally{n(!1)}},d=async()=>{try{n(!0),await ln.delete("/notifications/clear-all"),t([]),fs("All notifications cleared")}catch(f){Pa(f,"Failed to clear notifications")}finally{n(!1)}};return R.useEffect(()=>{c()},[]),r?l.jsx(Gy,{size:"sm"}):l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>s(!o),className:"p-2 rounded-full hover:bg-gray-100 focus:outline-none",children:[l.jsx(OP,{className:"h-6 w-6 text-gray-600"}),e.length>0&&l.jsx("span",{className:"absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white transform translate-x-1/2 -translate-y-1/2 bg-red-500 rounded-full",children:e.length})]}),o&&l.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg z-50",children:[l.jsx("div",{className:"p-4 border-b",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Notifications"}),e.length>0&&l.jsx("button",{onClick:d,className:"text-sm text-gray-500 hover:text-gray-700",children:"Clear all"})]})}),l.jsx("div",{className:"max-h-96 overflow-y-auto",children:e.length===0?l.jsx("div",{className:"p-4 text-center text-gray-500",children:"No notifications"}):e.map(f=>l.jsxs("div",{className:`p-4 border-b hover:bg-gray-50 cursor-pointer ${f.read?"":"bg-blue-50"}`,onClick:()=>u(f.id),children:[l.jsx("p",{className:"text-sm",children:f.message}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(f.created_at).toLocaleString()})]},f.id))})]})]})}function b6(){const e=mr(),t=async()=>{await We.auth.signOut(),localStorage.removeItem("access_token"),e("/login")};return l.jsx("button",{onClick:t,className:"text-sm bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded",children:"Logout"})}const x6=[{to:"/dashboard/admin",label:"Dashboard",roles:["admin"]},{to:"/events",label:"Events",roles:["admin","teacher","parent_member"]},{to:"/fundraisers",label:"Fundraisers",roles:["admin","treasurer"]},{to:"/budget",label:"Budget",roles:["admin","treasurer"]},{to:"/communications",label:"Communications",roles:["admin","committee_lead","teacher"]},{to:"/teacher-requests",label:"Teacher Requests",roles:["admin","teacher"]},{to:"/billing",label:"Billing",roles:["admin"]}];function w6({role:e}){const t=tS(),r=x6.filter(n=>n.roles.includes(e));return l.jsx("aside",{className:"w-64 bg-white border-r shadow-sm hidden md:block",children:l.jsx("nav",{className:"px-4 py-6 space-y-2",children:r.map(n=>l.jsx(mc,{to:n.to,className:`block px-3 py-2 rounded text-sm font-medium ${t.pathname===n.to?"bg-blue-100 text-blue-700":"text-gray-700 hover:bg-gray-100"}`,children:n.label},n.to))})})}function j6(){return l.jsxs("footer",{className:"text-xs text-gray-500 text-center py-4 border-t bg-white",children:["PTO Connect Â© ",new Date().getFullYear()," â€” Need help? Visit our support page."]})}function N6(){const{showRenewalBanner:e,organization:t}=wo();return e()?l.jsxs("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-800 p-4 mb-4 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("strong",{children:"Annual Subscription Expiring Soon:"})," Your annual subscription will expire on"," ",l.jsx("span",{className:"font-semibold",children:t!=null&&t.current_period_end?new Date(t.current_period_end).toLocaleDateString():"soon"}),". Please renew to avoid interruption."]}),l.jsx("a",{href:"/billing",className:"ml-4 px-4 py-2 bg-yellow-500 text-white rounded hover:bg-yellow-600 transition-colors",children:"Renew Now"})]}):null}function qo(){const[e,t]=R.useState(null),[r,n]=R.useState(null);return R.useEffect(()=>{async function a(){const{data:{user:i}}=await We.auth.getUser();t(i);const{data:o}=await We.from("profiles").select("role").eq("id",i.id).single();n(o==null?void 0:o.role)}a()},[]),!e||!r?null:l.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[l.jsxs("header",{className:"bg-white shadow-sm px-6 py-4 flex justify-between items-center w-full",children:[l.jsx("span",{className:"text-xl font-bold text-blue-700",children:"PTO Connect"}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(y6,{}),l.jsx(b6,{})]})]}),l.jsx(N6,{}),l.jsxs("div",{className:"flex flex-1",children:[l.jsx(w6,{role:r}),l.jsx("main",{className:"flex-1 p-6",children:l.jsx(Hy,{})})]}),l.jsx(j6,{})]})}const S6={admin:"/dashboard/admin",board_member:"/dashboard/board",committee_lead:"/dashboard/committee",volunteer:"/dashboard/volunteer",parent_member:"/dashboard/parent",teacher:"/dashboard/teacher"},_6=e=>S6[e]||"/dashboard";function p1(){const[e,t]=R.useState(""),[r,n]=R.useState(""),[a,i]=R.useState(""),[o,s]=R.useState(!1),c=mr(),u=async d=>{if(d&&d.preventDefault(),console.log("ðŸ” [LOGIN DEBUG] Login attempt started"),console.log("ðŸ” [LOGIN DEBUG] Email:",e),s(!0),i(""),!e||!r){console.log("âŒ [LOGIN DEBUG] Missing email or password"),i("Email and password are required."),s(!1);return}console.log("ðŸ” [LOGIN DEBUG] Calling Supabase signInWithPassword...");const{data:f,error:p}=await We.auth.signInWithPassword({email:e,password:r});if(console.log("ðŸ” [LOGIN DEBUG] Supabase response:",{user:!!(f!=null&&f.user),session:!!(f!=null&&f.session),error:p}),p||!(f!=null&&f.user)){console.error("âŒ [LOGIN DEBUG] Login error:",p),i((p==null?void 0:p.message)||"Login failed."),s(!1);return}const h=f.user;console.log("ðŸ” [LOGIN DEBUG] User authenticated:",{id:h.id,email:h.email,user_metadata:h.user_metadata}),console.log("ðŸ” [LOGIN DEBUG] Fetching user profile...");const{data:v,error:g}=await We.from("profiles").select("role, org_id, approved").eq("id",h.id).single();if(console.log("ðŸ” [LOGIN DEBUG] Profile query result:",{profile:v,profileError:g}),g||!v){console.error("âŒ [LOGIN DEBUG] Profile fetch error:",g),i("Unable to load user profile. Please contact support."),s(!1);return}if(!v.approved){console.log("âŒ [LOGIN DEBUG] User not approved"),i("Your account is pending approval. Please contact an administrator."),s(!1);return}const j=v.role;if(console.log("ðŸ” [LOGIN DEBUG] User role:",j),!j){console.log("âŒ [LOGIN DEBUG] No role assigned"),i("Your account does not have a role assigned."),s(!1);return}console.log("ðŸ” [LOGIN DEBUG] Getting dashboard route for role:",j);const x=_6(j);console.log("ðŸ” [LOGIN DEBUG] Navigating to:",x),c(x),s(!1)};return l.jsxs("div",{className:"p-6 max-w-md mx-auto",children:[l.jsx("h1",{className:"text-xl font-bold mb-4",children:"Log In"}),l.jsxs("form",{onSubmit:u,className:"space-y-4",children:[l.jsx("input",{className:"border p-2 w-full rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",type:"email",value:e,onChange:d=>t(d.target.value),placeholder:"Email",required:!0,disabled:o,autoComplete:"email"}),l.jsx("input",{className:"border p-2 w-full rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",type:"password",value:r,onChange:d=>n(d.target.value),placeholder:"Password",required:!0,disabled:o,autoComplete:"current-password"}),l.jsx("button",{type:"submit",disabled:o,className:"bg-blue-600 text-white px-4 py-2 rounded w-full hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o?"Logging in...":"Log In"}),a&&l.jsx("p",{className:"text-red-500 mt-2",children:a})]})]})}const A6=["admin","treasurer","board_member"];function O6(){const[e,t]=R.useState(""),[r,n]=R.useState(""),[a,i]=R.useState(""),[o,s]=R.useState("parent_member"),[c,u]=R.useState(""),[d,f]=R.useState(""),p=async()=>{if(u(""),f(""),!e||!r||!a||!o){u("All fields are required.");return}const{data:h,error:v}=await We.from("organizations").select("id").ilike("signup_code",a).single();if(v||!(h!=null&&h.id)){console.error("PTO code lookup failed:",v),u("Invalid PTO code. Please check with your organization.");return}const g=h.id,{data:j,error:x}=await We.auth.signUp({email:e,password:r,options:{data:{org_id:g,role:o}}});if(x||!(j!=null&&j.user)){console.error("Signup error:",x),u((x==null?void 0:x.message)||"Signup failed.");return}const b=j.user,N=!A6.includes(o),{data:_}=await We.from("profiles").select("id").eq("id",b.id).maybeSingle();if(_){console.warn("Profile already exists, skipping insert."),f("Signup successful! You can now log in.");return}const{error:w}=await We.from("profiles").insert([{id:b.id,email:e,org_id:g,role:o,approved:N}]);w?(console.error("Profile insert error:",w),u("Signup successful, but failed to save profile.")):(f(N?"Signup successful! You can now log in.":"Signup submitted. An admin must approve your role before you can access the system."),t(""),n(""),i(""),s("parent_member"))};return l.jsxs("div",{className:"p-6 max-w-md mx-auto",children:[l.jsx("h1",{className:"text-xl font-bold mb-4",children:"Sign Up"}),l.jsx("input",{className:"border p-2 w-full mb-2",type:"email",value:e,onChange:h=>t(h.target.value),placeholder:"Email",required:!0}),l.jsx("input",{className:"border p-2 w-full mb-2",type:"password",value:r,onChange:h=>n(h.target.value),placeholder:"Password",required:!0}),l.jsx("input",{className:"border p-2 w-full mb-2",type:"text",value:a,onChange:h=>i(h.target.value),placeholder:"PTO Code (e.g. abc123xy)",required:!0}),l.jsxs("select",{className:"border p-2 w-full mb-4",value:o,onChange:h=>s(h.target.value),required:!0,children:[l.jsx("option",{value:"parent_member",children:"Parent Member"}),l.jsx("option",{value:"teacher",children:"Teacher"}),l.jsx("option",{value:"volunteer",children:"Volunteer"}),l.jsx("option",{value:"committee_lead",children:"Committee Lead"}),l.jsx("option",{value:"board_member",children:"Board Member"}),l.jsx("option",{value:"treasurer",children:"Treasurer"}),l.jsx("option",{value:"admin",children:"Admin"})]}),l.jsx("button",{onClick:p,className:"bg-green-600 text-white px-4 py-2 rounded w-full",children:"Sign Up"}),c&&l.jsx("p",{className:"text-red-500 mt-2",children:c}),d&&l.jsx("p",{className:"text-green-600 mt-2",children:d})]})}function P6(){return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 p-6",children:l.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-8 max-w-md text-center",children:[l.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Access Denied"}),l.jsx("p",{className:"text-gray-700 mb-6",children:"You donâ€™t have permission to view this page."}),l.jsx(mc,{to:"/",className:"inline-block bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Return to Home"})]})})}const E6=()=>{var N,_,w,A;const{userProfile:e}=wo(),[t,r]=R.useState("membership"),[n,a]=R.useState("6months"),[i,o]=R.useState({membership:[],events:[],financial:[],engagement:[]}),[s,c]=R.useState(!0);R.useEffect(()=>{e!=null&&e.org_id&&u()},[e,n]);const u=async()=>{try{c(!0);const O=new Date,E=new Date;switch(n){case"3months":E.setMonth(O.getMonth()-3);break;case"6months":E.setMonth(O.getMonth()-6);break;case"1year":E.setFullYear(O.getFullYear()-1);break;default:E.setMonth(O.getMonth()-6)}const[C,D,k,T]=await Promise.all([d(E,O),f(E,O),p(E,O),h(E,O)]);o({membership:C,events:D,financial:k,engagement:T})}catch(O){console.error("Error fetching chart data:",O)}finally{c(!1)}},d=async(O,E)=>{const C=[],D=new Date(O);for(;D<=E;){const k=new Date(D.getFullYear(),D.getMonth(),1),T=new Date(D.getFullYear(),D.getMonth()+1,0),{count:$}=await We.from("profiles").select("*",{count:"exact",head:!0}).eq("org_id",e.org_id).lte("created_at",T.toISOString());C.push({month:k.toLocaleDateString("en-US",{month:"short"}),value:$||0,date:k}),D.setMonth(D.getMonth()+1)}return C},f=async(O,E)=>{const{data:C}=await We.from("events").select("event_date, title, status").eq("org_id",e.org_id).gte("event_date",O.toISOString()).lte("event_date",E.toISOString()).order("event_date"),D={};return C==null||C.forEach(k=>{const T=new Date(k.event_date).toLocaleDateString("en-US",{month:"short"});D[T]||(D[T]={total:0,completed:0}),D[T].total++,k.status==="completed"&&D[T].completed++}),Object.entries(D).map(([k,T])=>({month:k,total:T.total,completed:T.completed,success_rate:T.total>0?Math.round(T.completed/T.total*100):0}))},p=async(O,E)=>{const{data:C}=await We.from("budget_entries").select("amount, type, category, created_at").eq("org_id",e.org_id).gte("created_at",O.toISOString()).lte("created_at",E.toISOString()),D={};return C==null||C.forEach(k=>{D[k.category]||(D[k.category]={income:0,expenses:0}),k.type==="income"?D[k.category].income+=k.amount:D[k.category].expenses+=k.amount}),Object.entries(D).map(([k,T])=>({category:k,income:T.income,expenses:T.expenses,net:T.income-T.expenses}))},h=async(O,E)=>{const C=[],D=new Date(O);for(;D<=E;){const k=D.toLocaleDateString("en-US",{month:"short"}),T=65,$=Math.random()*20-10,I=Math.max(0,Math.min(100,T+$));C.push({month:k,engagement:Math.round(I),email_opens:Math.round(I*.8),event_attendance:Math.round(I*.6),volunteer_participation:Math.round(I*.4)}),D.setMonth(D.getMonth()+1)}return C},v=(O,E,C="#3B82F6")=>{if(!O||O.length===0)return null;const D=Math.max(...O.map(I=>I[E]||0)),k=Math.min(...O.map(I=>I[E]||0)),T=D-k||1,$=O.map((I,V)=>{const F=V/(O.length-1)*100,B=100-((I[E]||0)-k)/T*80-10;return`${F},${B}`}).join(" ");return l.jsxs("div",{className:"relative h-64 bg-gray-50 rounded-lg p-4",children:[l.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[l.jsx("polyline",{fill:"none",stroke:C,strokeWidth:"0.5",points:$}),O.map((I,V)=>{const F=V/(O.length-1)*100,B=100-((I[E]||0)-k)/T*80-10;return l.jsx("circle",{cx:F,cy:B,r:"1",fill:C},V)})]}),l.jsx("div",{className:"absolute bottom-0 left-0 right-0 flex justify-between text-xs text-gray-500 px-4",children:O.map((I,V)=>l.jsx("span",{children:I.month},V))}),l.jsxs("div",{className:"absolute left-0 top-0 bottom-0 flex flex-col justify-between text-xs text-gray-500 py-4",children:[l.jsx("span",{children:D}),l.jsx("span",{children:Math.round((D+k)/2)}),l.jsx("span",{children:k})]})]})},g=(O,E,C="#10B981")=>{if(!O||O.length===0)return null;const D=Math.max(...O.map(k=>k[E]||0));return l.jsx("div",{className:"relative h-64 bg-gray-50 rounded-lg p-4",children:l.jsx("div",{className:"flex items-end justify-between h-full space-x-2",children:O.map((k,T)=>{const $=D>0?(k[E]||0)/D*100:0;return l.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[l.jsx("div",{className:"w-full rounded-t",style:{height:`${$}%`,backgroundColor:C,minHeight:$>0?"4px":"0"}}),l.jsx("span",{className:"text-xs text-gray-500 mt-2",children:k.month})]},T)})})})},j=O=>{if(!O||O.length===0)return null;const E=O.reduce((k,T)=>k+Math.abs(T.net||0),0);let C=0;const D=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6"];return l.jsxs("div",{className:"relative h-64 flex items-center justify-center",children:[l.jsxs("svg",{className:"w-48 h-48",viewBox:"0 0 100 100",children:[O.map((k,T)=>{const I=(E>0?Math.abs(k.net||0)/E:0)*360,V=C,F=C+I,B=50+35*Math.cos(V*Math.PI/180),X=50+35*Math.sin(V*Math.PI/180),Y=50+35*Math.cos(F*Math.PI/180),Z=50+35*Math.sin(F*Math.PI/180),ae=I>180?1:0,M=["M 50 50",`L ${B} ${X}`,`A 35 35 0 ${ae} 1 ${Y} ${Z}`,"Z"].join(" ");return C+=I,l.jsx("path",{d:M,fill:D[T%D.length],opacity:.8},T)}),l.jsx("circle",{cx:"50",cy:"50",r:"20",fill:"white"})]}),l.jsx("div",{className:"absolute right-0 top-0 space-y-2",children:O.map((k,T)=>l.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[l.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:D[T%D.length]}}),l.jsx("span",{className:"text-gray-700",children:k.category})]},T))})]})},x=()=>{const O=i[t],E="data:text/csv;charset=utf-8,"+Object.keys(O[0]||{}).join(",")+`
`+O.map(k=>Object.values(k).join(",")).join(`
`),C=encodeURI(E),D=document.createElement("a");D.setAttribute("href",C),D.setAttribute("download",`${t}_analytics.csv`),document.body.appendChild(D),D.click(),document.body.removeChild(D)},b={membership:{title:"Membership Growth",description:"Track member acquisition and retention over time",dataKey:"value",color:"#3B82F6"},events:{title:"Event Performance",description:"Monitor event frequency and success rates",dataKey:"total",color:"#10B981"},financial:{title:"Financial Distribution",description:"Analyze income and expenses by category",dataKey:"net",color:"#F59E0B"},engagement:{title:"Member Engagement",description:"Measure community participation and activity",dataKey:"engagement",color:"#8B5CF6"}};return s?l.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:l.jsxs("div",{className:"animate-pulse",children:[l.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-4"}),l.jsx("div",{className:"h-64 bg-gray-200 rounded"})]})}):l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[l.jsxs("div",{className:"p-6 border-b border-gray-200",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Analytics Dashboard"}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("select",{value:n,onChange:O=>a(O.target.value),className:"px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"3months",children:"Last 3 Months"}),l.jsx("option",{value:"6months",children:"Last 6 Months"}),l.jsx("option",{value:"1year",children:"Last Year"})]}),l.jsx("button",{onClick:x,className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm hover:bg-blue-700 transition-colors",children:"Export CSV"})]})]}),l.jsx("div",{className:"flex space-x-1 bg-gray-100 rounded-lg p-1",children:Object.entries(b).map(([O,E])=>l.jsx("button",{onClick:()=>r(O),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${t===O?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:E.title},O))})]}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:b[t].title}),l.jsx("p",{className:"text-sm text-gray-600",children:b[t].description})]}),l.jsxs("div",{className:"mb-6",children:[t==="membership"&&v(i.membership,b.membership.dataKey,b.membership.color),t==="events"&&g(i.events,b.events.dataKey,b.events.color),t==="financial"&&j(i.financial),t==="engagement"&&v(i.engagement,b.engagement.dataKey,b.engagement.color)]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 pt-4 border-t border-gray-200",children:[t==="membership"&&i.membership.length>0&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-blue-600",children:((N=i.membership[i.membership.length-1])==null?void 0:N.value)||0}),l.jsx("p",{className:"text-sm text-gray-600",children:"Current Members"})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["+",i.membership.length>1?(((_=i.membership[i.membership.length-1])==null?void 0:_.value)||0)-(((w=i.membership[0])==null?void 0:w.value)||0):0]}),l.jsx("p",{className:"text-sm text-gray-600",children:"Growth"})]})]}),t==="events"&&i.events.length>0&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-green-600",children:i.events.reduce((O,E)=>O+E.total,0)}),l.jsx("p",{className:"text-sm text-gray-600",children:"Total Events"})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[i.events.length>0?Math.round(i.events.reduce((O,E)=>O+E.success_rate,0)/i.events.length):0,"%"]}),l.jsx("p",{className:"text-sm text-gray-600",children:"Avg Success Rate"})]})]}),t==="financial"&&i.financial.length>0&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"text-center",children:[l.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["$",i.financial.reduce((O,E)=>O+E.income,0).toLocaleString()]}),l.jsx("p",{className:"text-sm text-gray-600",children:"Total Income"})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("p",{className:"text-2xl font-bold text-red-600",children:["$",i.financial.reduce((O,E)=>O+E.expenses,0).toLocaleString()]}),l.jsx("p",{className:"text-sm text-gray-600",children:"Total Expenses"})]})]}),t==="engagement"&&i.engagement.length>0&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"text-center",children:[l.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[((A=i.engagement[i.engagement.length-1])==null?void 0:A.engagement)||0,"%"]}),l.jsx("p",{className:"text-sm text-gray-600",children:"Current Engagement"})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[i.engagement.length>0?Math.round(i.engagement.reduce((O,E)=>O+E.email_opens,0)/i.engagement.length):0,"%"]}),l.jsx("p",{className:"text-sm text-gray-600",children:"Avg Email Opens"})]})]})]})]})]})},k6=()=>{const{userProfile:e}=wo(),[t,r]=R.useState([]),[n,a]=R.useState("all"),[i,o]=R.useState(!0);R.useEffect(()=>{e!=null&&e.org_id&&s()},[e]);const s=async()=>{try{o(!0);const b=[],N=await c();b.push(...N);const _=await u();b.push(..._);const w=await d();b.push(...w);const A=await f();b.push(...A),b.sort((O,E)=>{const C={high:3,medium:2,low:1};return C[O.priority]!==C[E.priority]?C[E.priority]-C[O.priority]:new Date(E.timestamp)-new Date(O.timestamp)}),r(b)}catch(b){console.error("Error generating smart notifications:",b)}finally{o(!1)}},c=async()=>{const b=[];try{const{data:N}=await We.from("budget_entries").select("amount, category, type").eq("org_id",e.org_id);if(N&&N.length>0){const _=N.filter(E=>E.type==="income").reduce((E,C)=>E+C.amount,0),w=N.filter(E=>E.type==="expense").reduce((E,C)=>E+C.amount,0),A=_>0?w/_*100:0;A>80?b.push({id:"budget-alert-1",type:"budget",priority:"high",title:"Budget Alert: Events Category",message:`Events budget is ${Math.round(A)}% spent with 3 months remaining. Consider reviewing upcoming event costs.`,timestamp:new Date().toISOString(),actionable:!0,actions:[{label:"Review Budget",action:"review_budget"},{label:"View Details",action:"view_details"}]}):A>60&&b.push({id:"budget-alert-2",type:"budget",priority:"medium",title:"Budget Tracking",message:`Budget is ${Math.round(A)}% utilized. On track for current period.`,timestamp:new Date().toISOString(),actionable:!1,actions:[]});const O=N.reduce((E,C)=>(E[C.category]||(E[C.category]={income:0,expenses:0}),C.type==="income"?E[C.category].income+=C.amount:E[C.category].expenses+=C.amount,E),{});Object.entries(O).forEach(([E,C])=>{const D=C.income>0?C.expenses/C.income*100:0;D>90&&b.push({id:`budget-category-${E}`,type:"budget",priority:"high",title:`${E} Budget Alert`,message:`${E} category is ${Math.round(D)}% spent. Immediate attention required.`,timestamp:new Date().toISOString(),actionable:!0,actions:[{label:"Review Category",action:"review_category"},{label:"Adjust Budget",action:"adjust_budget"}]})})}}catch(N){console.error("Error generating budget alerts:",N)}return b},u=async()=>{const b=[];try{const N=new Date;N.setDate(N.getDate()-30);const{count:_}=await We.from("profiles").select("*",{count:"exact",head:!0}).eq("org_id",e.org_id).gte("created_at",N.toISOString()),{count:w}=await We.from("profiles").select("*",{count:"exact",head:!0}).eq("org_id",e.org_id),A=w>0?_/w*100:0;A<5?b.push({id:"membership-growth-1",type:"membership",priority:"medium",title:"Membership Growth Trending Down",message:"New member registrations have decreased by 15% this month. Consider launching a recruitment campaign.",timestamp:new Date().toISOString(),actionable:!0,actions:[{label:"Start Campaign",action:"start_campaign"},{label:"View Analytics",action:"view_analytics"}]}):A>15&&b.push({id:"membership-growth-2",type:"membership",priority:"low",title:"Excellent Membership Growth",message:`Outstanding! New member registrations increased by ${Math.round(A)}% this month.`,timestamp:new Date().toISOString(),actionable:!1,actions:[]});const{count:O}=await We.from("profiles").select("*",{count:"exact",head:!0}).eq("org_id",e.org_id).gte("last_sign_in_at",N.toISOString()),E=w>0?O/w*100:0;E<40&&b.push({id:"engagement-alert-1",type:"engagement",priority:"medium",title:"Low Member Engagement",message:`Only ${Math.round(E)}% of members were active this month. Consider increasing communication frequency.`,timestamp:new Date().toISOString(),actionable:!0,actions:[{label:"Send Newsletter",action:"send_newsletter"},{label:"Plan Event",action:"plan_event"}]})}catch(N){console.error("Error generating membership insights:",N)}return b},d=async()=>{const b=[];try{const N=new Date;N.setDate(N.getDate()+7);const{data:_}=await We.from("events").select("id, title, event_date, volunteer_slots_needed, volunteer_slots_filled").eq("org_id",e.org_id).gte("event_date",new Date().toISOString()).lte("event_date",N.toISOString());_==null||_.forEach(O=>{const E=Math.ceil((new Date(O.event_date)-new Date)/864e5),C=(O.volunteer_slots_needed||0)-(O.volunteer_slots_filled||0);E<=3&&C>0?b.push({id:`event-volunteer-${O.id}`,type:"events",priority:"high",title:`Volunteer Shortage: ${O.title}`,message:`${O.title} in ${E} days needs ${C} more volunteers.`,timestamp:new Date().toISOString(),actionable:!0,actions:[{label:"Send Reminder",action:"send_reminder"},{label:"View Event",action:"view_event"}]}):E<=7&&b.push({id:`event-reminder-${O.id}`,type:"events",priority:"low",title:`Upcoming Event: ${O.title}`,message:`${O.title} is coming up in ${E} days. All preparations on track.`,timestamp:new Date().toISOString(),actionable:!1,actions:[]})});const{data:w}=await We.from("events").select("id, title, event_date, updated_at").eq("org_id",e.org_id).gte("event_date",new Date().toISOString()),A=new Date;A.setDate(A.getDate()-14),w==null||w.forEach(O=>{new Date(O.updated_at)<A&&b.push({id:`event-stale-${O.id}`,type:"events",priority:"medium",title:`Event Needs Attention: ${O.title}`,message:`${O.title} hasn't been updated in 2 weeks. Consider reviewing event details.`,timestamp:new Date().toISOString(),actionable:!0,actions:[{label:"Update Event",action:"update_event"},{label:"View Details",action:"view_details"}]})})}catch(N){console.error("Error generating event alerts:",N)}return b},f=async()=>{const b=[];b.push({id:"goal-achievement-1",type:"goals",priority:"low",title:"Goal Achievement: Volunteer Hours",message:"Congratulations! Volunteer hours goal exceeded by 104% this quarter.",timestamp:new Date().toISOString(),actionable:!1,actions:[]});const N=new Date().getMonth();return N>=8&&N<=10&&b.push({id:"seasonal-insight-1",type:"seasonal",priority:"medium",title:"Fall Fundraising Opportunity",message:"Fall is peak fundraising season. Consider launching a major campaign now.",timestamp:new Date().toISOString(),actionable:!0,actions:[{label:"Create Campaign",action:"create_campaign"},{label:"View Templates",action:"view_templates"}]}),b.push({id:"communication-insight-1",type:"communication",priority:"low",title:"Communication Performance",message:"Email open rates increased by 8% this month. Great job on engaging content!",timestamp:new Date().toISOString(),actionable:!1,actions:[]}),b},p=(b,N)=>{switch(console.log(`Executing action: ${b} for notification: ${N}`),b){case"review_budget":break;case"start_campaign":break;case"send_reminder":break;case"view_analytics":break;default:console.log("Action not implemented:",b)}},h=b=>{r(N=>N.filter(_=>_.id!==b))},v=t.filter(b=>n==="all"?!0:n==="actionable"?b.actionable:b.type===n),g=b=>{switch(b){case"high":return"border-red-200 bg-red-50";case"medium":return"border-yellow-200 bg-yellow-50";case"low":return"border-blue-200 bg-blue-50";default:return"border-gray-200 bg-gray-50"}},j=b=>{switch(b){case"high":return l.jsx("svg",{className:"w-5 h-5 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})});case"medium":return l.jsx("svg",{className:"w-5 h-5 text-yellow-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})});case"low":return l.jsx("svg",{className:"w-5 h-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})});default:return null}},x=b=>{switch(b){case"budget":return l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})});case"membership":return l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})});case"events":return l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})});case"engagement":return l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})});default:return l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5 5v-5zM4 19h5v-5H4v5zM13 13h5V8h-5v5zM4 8h5V3H4v5z"})})}};return i?l.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:l.jsxs("div",{className:"animate-pulse",children:[l.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/2 mb-4"}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"h-16 bg-gray-200 rounded"}),l.jsx("div",{className:"h-16 bg-gray-200 rounded"}),l.jsx("div",{className:"h-16 bg-gray-200 rounded"})]})]})}):l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[l.jsxs("div",{className:"p-6 border-b border-gray-200",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:l.jsx("svg",{className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5 5v-5zM4 19h5v-5H4v5zM13 13h5V8h-5v5zM4 8h5V3H4v5z"})})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Smart Notifications"}),l.jsx("p",{className:"text-sm text-gray-600",children:"AI-powered insights and alerts"})]})]}),l.jsx("button",{className:"text-blue-600 text-sm font-medium hover:text-blue-700",children:"View All"})]}),l.jsx("div",{className:"flex space-x-1 bg-gray-100 rounded-lg p-1",children:[{key:"all",label:"All"},{key:"actionable",label:"Actionable"},{key:"budget",label:"Budget"},{key:"events",label:"Events"},{key:"membership",label:"Members"}].map(({key:b,label:N})=>l.jsx("button",{onClick:()=>a(b),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${n===b?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:N},b))})]}),l.jsx("div",{className:"p-6",children:l.jsx("div",{className:"space-y-4",children:v.length===0?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("svg",{className:"w-12 h-12 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsx("p",{className:"text-gray-500",children:"No notifications to display"})]}):v.map(b=>l.jsx("div",{className:`border rounded-lg p-4 ${g(b.priority)}`,children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[j(b.priority),l.jsx("div",{className:"text-gray-500",children:x(b.type)})]}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h4",{className:"font-medium text-gray-900",children:b.title}),l.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${b.priority==="high"?"bg-red-100 text-red-800":b.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:[b.priority," priority"]})]}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:b.message}),l.jsx("p",{className:"text-xs text-gray-500 mt-2",children:new Date(b.timestamp).toLocaleString()}),b.actions.length>0&&l.jsx("div",{className:"flex items-center space-x-2 mt-3",children:b.actions.map((N,_)=>l.jsx("button",{onClick:()=>p(N.action,b.id),className:"px-3 py-1 bg-blue-600 text-white text-xs rounded hover:bg-blue-700 transition-colors",children:N.label},_))})]})]}),l.jsx("button",{onClick:()=>h(b.id),className:"text-gray-400 hover:text-gray-600 ml-2",children:l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})},b.id))})})]})},T6=()=>{const{userProfile:e,loading:t}=wo(),[r,n]=R.useState({metrics:{totalMembers:0,activeEvents:0,budgetUsed:0,engagementRate:0},recentActivity:[],upcomingEvents:[],pendingTasks:[],financialSummary:{totalBudget:0,spent:0,remaining:0,categories:[]}}),[a,i]=R.useState(!0);R.useEffect(()=>{e!=null&&e.org_id&&o()},[e]);const o=async()=>{try{i(!0);const x=[s(),c(),u(),d()],[b,N,_,w]=await Promise.all(x),[A,O,E]=await Promise.all([f(),p(),h()]);n({metrics:{totalMembers:b,activeEvents:N,budgetUsed:_.percentUsed,engagementRate:w},recentActivity:A,upcomingEvents:O,pendingTasks:E,financialSummary:_})}catch(x){console.error("Error fetching dashboard data:",x)}finally{i(!1)}},s=async()=>{const{count:x}=await We.from("profiles").select("*",{count:"exact",head:!0}).eq("org_id",e.org_id);return x||0},c=async()=>{const{count:x}=await We.from("events").select("*",{count:"exact",head:!0}).eq("org_id",e.org_id).gte("event_date",new Date().toISOString());return x||0},u=async()=>{const{data:x}=await We.from("budget_entries").select("amount, category, type").eq("org_id",e.org_id);if(!x)return{percentUsed:0,totalBudget:0,spent:0,remaining:0,categories:[]};const b=x.filter(w=>w.type==="income").reduce((w,A)=>w+A.amount,0),N=x.filter(w=>w.type==="expense").reduce((w,A)=>w+A.amount,0),_=x.reduce((w,A)=>(w[A.category]||(w[A.category]={income:0,expenses:0}),A.type==="income"?w[A.category].income+=A.amount:w[A.category].expenses+=A.amount,w),{});return{totalBudget:b,spent:N,remaining:b-N,percentUsed:b>0?Math.round(N/b*100):0,categories:Object.entries(_).map(([w,A])=>({name:w,...A,net:A.income-A.expenses}))}},d=async()=>{const x=new Date;x.setDate(x.getDate()-30);const{count:b}=await We.from("profiles").select("*",{count:"exact",head:!0}).eq("org_id",e.org_id).gte("last_sign_in_at",x.toISOString()),{count:N}=await We.from("profiles").select("*",{count:"exact",head:!0}).eq("org_id",e.org_id);return N>0?Math.round(b/N*100):0},f=async()=>{const{data:x}=await We.from("events").select("title, created_at, created_by").eq("org_id",e.org_id).order("created_at",{ascending:!1}).limit(5),{data:b}=await We.from("profiles").select("first_name, last_name, created_at").eq("org_id",e.org_id).order("created_at",{ascending:!1}).limit(3),N=[];return x&&x.forEach(_=>{N.push({type:"event_created",title:`New event: ${_.title}`,timestamp:_.created_at,user:"System"})}),b&&b.forEach(_=>{N.push({type:"user_joined",title:`${_.first_name} ${_.last_name} joined`,timestamp:_.created_at,user:`${_.first_name} ${_.last_name}`})}),N.sort((_,w)=>new Date(w.timestamp)-new Date(_.timestamp)).slice(0,8)},p=async()=>{const{data:x}=await We.from("events").select("id, title, event_date, location, status").eq("org_id",e.org_id).gte("event_date",new Date().toISOString()).order("event_date",{ascending:!0}).limit(5);return x||[]},h=async()=>{const x=[];return(e.role==="admin"||e.role==="board_member")&&x.push({id:1,title:"Review budget proposal",priority:"high",dueDate:"2025-06-10"},{id:2,title:"Approve volunteer applications",priority:"medium",dueDate:"2025-06-12"},{id:3,title:"Update event calendar",priority:"low",dueDate:"2025-06-15"}),x},v=x=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(x),g=x=>new Date(x).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),j=x=>{const b=new Date,N=new Date(x),_=Math.floor((b-N)/(1e3*60*60));if(_<1)return"Just now";if(_<24)return`${_}h ago`;const w=Math.floor(_/24);return w<7?`${w}d ago`:g(x)};return t||a?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):l.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["Welcome back, ",e==null?void 0:e.first_name,"!"]}),l.jsx("p",{className:"text-gray-600 mt-2",children:"Here's what's happening with your PTO today"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Members"}),l.jsx("p",{className:"text-3xl font-bold text-gray-900",children:r.metrics.totalMembers})]}),l.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:l.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})})]}),l.jsx("div",{className:"mt-4",children:l.jsx("span",{className:"text-sm text-green-600",children:"+12% from last month"})})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Events"}),l.jsx("p",{className:"text-3xl font-bold text-gray-900",children:r.metrics.activeEvents})]}),l.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:l.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})]}),l.jsx("div",{className:"mt-4",children:l.jsx("span",{className:"text-sm text-blue-600",children:"3 this month"})})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Budget Used"}),l.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[r.metrics.budgetUsed,"%"]})]}),l.jsx("div",{className:"p-3 bg-yellow-100 rounded-full",children:l.jsx("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})})]}),l.jsx("div",{className:"mt-4",children:l.jsxs("span",{className:"text-sm text-gray-600",children:[v(r.financialSummary.remaining)," remaining"]})})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Engagement Rate"}),l.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[r.metrics.engagementRate,"%"]})]}),l.jsx("div",{className:"p-3 bg-purple-100 rounded-full",children:l.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})})]}),l.jsx("div",{className:"mt-4",children:l.jsx("span",{className:"text-sm text-green-600",children:"+5% from last month"})})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[l.jsx("div",{className:"p-6 border-b border-gray-200",children:l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Recent Activity"})}),l.jsx("div",{className:"p-6",children:l.jsx("div",{className:"space-y-4",children:r.recentActivity.map((x,b)=>l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${x.type==="event_created"?"bg-blue-500":"bg-green-500"}`})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:x.title}),l.jsx("p",{className:"text-sm text-gray-500",children:j(x.timestamp)})]})]},b))})})]}),l.jsx(E6,{})]}),l.jsxs("div",{className:"space-y-8",children:[l.jsx(k6,{}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[l.jsx("div",{className:"p-6 border-b border-gray-200",children:l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Upcoming Events"})}),l.jsx("div",{className:"p-6",children:l.jsxs("div",{className:"space-y-4",children:[r.upcomingEvents.map(x=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-900",children:x.title}),l.jsx("p",{className:"text-sm text-gray-600",children:g(x.event_date)}),x.location&&l.jsx("p",{className:"text-sm text-gray-500",children:x.location})]}),l.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${x.status==="confirmed"?"bg-green-100 text-green-800":x.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:x.status})]},x.id)),r.upcomingEvents.length===0&&l.jsx("p",{className:"text-gray-500 text-center py-4",children:"No upcoming events"})]})})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[l.jsx("div",{className:"p-6 border-b border-gray-200",children:l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Quick Actions"})}),l.jsx("div",{className:"p-6",children:l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("button",{className:"flex flex-col items-center p-4 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors",children:[l.jsx("svg",{className:"w-6 h-6 text-blue-600 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),l.jsx("span",{className:"text-sm font-medium text-blue-900",children:"New Event"})]}),l.jsxs("button",{className:"flex flex-col items-center p-4 bg-green-50 rounded-lg hover:bg-green-100 transition-colors",children:[l.jsx("svg",{className:"w-6 h-6 text-green-600 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),l.jsx("span",{className:"text-sm font-medium text-green-900",children:"Send Message"})]}),l.jsxs("button",{className:"flex flex-col items-center p-4 bg-purple-50 rounded-lg hover:bg-purple-100 transition-colors",children:[l.jsx("svg",{className:"w-6 h-6 text-purple-600 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),l.jsx("span",{className:"text-sm font-medium text-purple-900",children:"Add Member"})]}),l.jsxs("button",{className:"flex flex-col items-center p-4 bg-yellow-50 rounded-lg hover:bg-yellow-100 transition-colors",children:[l.jsx("svg",{className:"w-6 h-6 text-yellow-600 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),l.jsx("span",{className:"text-sm font-medium text-yellow-900",children:"New Report"})]})]})})]}),r.pendingTasks.length>0&&l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[l.jsx("div",{className:"p-6 border-b border-gray-200",children:l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Pending Tasks"})}),l.jsx("div",{className:"p-6",children:l.jsx("div",{className:"space-y-3",children:r.pendingTasks.map(x=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-900",children:x.title}),l.jsxs("p",{className:"text-sm text-gray-600",children:["Due: ",g(x.dueDate)]})]}),l.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${x.priority==="high"?"bg-red-100 text-red-800":x.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:x.priority})]},x.id))})})]})]})]})]})})},C6=[{value:"",label:"All Roles"},{value:"admin",label:"Admin"},{value:"board_member",label:"Board Member"},{value:"committee_lead",label:"Committee Lead"},{value:"volunteer",label:"Volunteer"},{value:"parent_member",label:"Parent Member"},{value:"teacher",label:"Teacher"}];function L6(){const[e,t]=R.useState([]),[r,n]=R.useState([]),[a,i]=R.useState({}),[o,s]=R.useState(!0),[c,u]=R.useState(""),[d,f]=R.useState(!1),[p,h]=R.useState(!1),[v,g]=R.useState(""),[j,x]=R.useState({});if(R.useEffect(()=>{async function O(){var V,F,B;s(!0),u("");const[{data:E,error:C},{data:D,error:k}]=await Promise.all([mt("GET","/admin/organization-permissions"),mt("GET","/admin-users")]);if(console.log("[PermissionsConsole] /admin/organization-permissions response:",E),console.log("[PermissionsConsole] /admin-users response:",D),C||k){u("Failed to load permissions or users."),s(!1);return}const T=(V=E==null?void 0:E.data)==null?void 0:V.permissions,$=(F=E==null?void 0:E.data)==null?void 0:F.grouped;n(Array.isArray(T)?T:[]),i($&&typeof $=="object"?$:{});const I=((B=D==null?void 0:D.data)==null?void 0:B.profiles)||(D==null?void 0:D.profiles)||(Array.isArray(D==null?void 0:D.data)?D.data:[]);t(I),s(!1)}O()},[]),o)return l.jsx("div",{className:"py-8 text-center text-gray-500",children:"Loading permissions..."});if(c)return l.jsx("div",{className:"py-8 text-center text-red-600",children:c});if(!Array.isArray(r)||!a||typeof a!="object")return l.jsx("div",{className:"py-8 text-center text-red-600",children:"Permissions data is unavailable or malformed."});const b=v?e.filter(O=>O.role===v):e,N=r.map(O=>({key:O.permission_key,name:O.permission_name,module:O.module_name,defaultEnabled:O.is_enabled,minRole:O.current_min_role})),_=(O,E,C)=>{x(D=>({...D,[O]:{...D[O]||{},[E]:C}})),h(!0)},w=(O,E)=>{b.forEach(C=>{_(C.id,O,E)})},A=async()=>{f(!0),u("");const O=Object.entries(j).flatMap(([C,D])=>Object.entries(D).map(([k,T])=>({user_id:C,permission_key:k,is_enabled:T}))),{error:E}=await mt("POST","/admin/organization-permissions/user-overrides",{overrides:O});E?u("Failed to save changes."):h(!1),f(!1)};return l.jsxs("div",{className:"bg-white rounded shadow p-4",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Permissions Management"}),l.jsxs("div",{className:"mb-4 flex gap-4 items-center",children:[l.jsx("label",{className:"font-medium",children:"Filter by Role:"}),l.jsx("select",{className:"border rounded px-2 py-1",value:v,onChange:O=>g(O.target.value),children:C6.map(O=>l.jsx("option",{value:O.value,children:O.label},O.value))})]}),l.jsx("div",{className:"overflow-x-auto",children:Object.keys(a).length===0?l.jsx("div",{className:"text-gray-500 text-center py-8",children:"No permissions found."}):l.jsxs("table",{className:"w-full table-auto border mb-2",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-gray-100",children:[l.jsx("th",{className:"p-2 border",children:"Name"}),l.jsx("th",{className:"p-2 border",children:"Email"}),l.jsx("th",{className:"p-2 border",children:"Role"}),N.map(O=>l.jsx("th",{className:"p-2 border",children:l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("span",{children:O.name}),l.jsx("button",{className:"text-xs text-blue-600 underline mt-1",onClick:()=>w(O.key,!0),title:"Enable for all filtered users",children:"Enable All"}),l.jsx("button",{className:"text-xs text-red-600 underline",onClick:()=>w(O.key,!1),title:"Disable for all filtered users",children:"Disable All"})]})},O.key))]})}),l.jsx("tbody",{children:b.map(O=>l.jsxs("tr",{className:"border-b",children:[l.jsx("td",{className:"p-2 border font-medium",children:O.full_name||O.email}),l.jsx("td",{className:"p-2 border",children:O.email}),l.jsx("td",{className:"p-2 border capitalize",children:O.role}),N.map(E=>{var k;const C=(k=j[O.id])==null?void 0:k[E.key],D=C!==void 0?C:E.defaultEnabled;return l.jsx("td",{className:"p-2 border text-center",children:l.jsx("input",{type:"checkbox",checked:D,onChange:T=>_(O.id,E.key,T.target.checked),className:"w-5 h-5 accent-blue-600"})},E.key)})]},O.id))})]})}),l.jsxs("div",{className:"flex gap-4 items-center mt-4",children:[l.jsx("button",{className:`px-4 py-2 rounded bg-blue-600 text-white font-semibold ${!p||d?"opacity-50 cursor-not-allowed":""}`,onClick:A,disabled:!p||d,children:d?"Saving...":"Save Changes"}),p&&!d&&l.jsx("span",{className:"text-yellow-600",children:"Unsaved changes"})]})]})}function M6(){return l.jsxs("div",{className:"bg-white rounded shadow p-6",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Organization Info"}),l.jsxs("div",{className:"flex items-center gap-6 mb-6",children:[l.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-full flex items-center justify-center text-3xl text-gray-400",children:"Logo"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-bold text-lg mb-1",children:"[Organization Name]"}),l.jsx("div",{className:"text-gray-500",children:"[School/Year/Timezone]"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Contact Email"}),l.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"contact@email.com",disabled:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Address"}),l.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"123 Main St",disabled:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Phone"}),l.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"(555) 555-5555",disabled:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Timezone"}),l.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"America/Chicago",disabled:!0})]})]}),l.jsx("div",{className:"mt-6 text-gray-400 italic",children:"[Organization editing coming soon]"})]})}function $6(){return l.jsxs("div",{className:"bg-white rounded shadow p-6",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Email Settings (SMTP)"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"SMTP Host"}),l.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"smtp.example.com",disabled:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"SMTP Port"}),l.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"587",disabled:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Username"}),l.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"user@example.com",disabled:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Password"}),l.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",type:"password",disabled:!0})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Sender Name/Email"}),l.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"PTO Connect <noreply@ptoconnect.com>",disabled:!0})]})]}),l.jsxs("div",{className:"mt-6 flex gap-4 items-center",children:[l.jsx("button",{className:"px-4 py-2 rounded bg-blue-600 text-white font-semibold opacity-50 cursor-not-allowed",disabled:!0,children:"Test Connection"}),l.jsx("span",{className:"text-gray-400",children:"[SMTP editing & testing coming soon]"})]})]})}function D6(){return l.jsxs("div",{className:"bg-white rounded shadow p-6",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Subscription"}),l.jsxs("div",{className:"mb-4",children:[l.jsx("div",{className:"font-bold",children:"Current Plan:"}),l.jsx("div",{className:"text-gray-600",children:"[Plan Name]"})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("div",{className:"font-bold",children:"Renewal Date:"}),l.jsx("div",{className:"text-gray-600",children:"[2025-12-31]"})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("div",{className:"font-bold",children:"Payment Method:"}),l.jsx("div",{className:"text-gray-600",children:"[Visa â€¢â€¢â€¢â€¢ 1234]"})]}),l.jsx("button",{className:"px-4 py-2 rounded bg-blue-600 text-white font-semibold opacity-50 cursor-not-allowed",disabled:!0,children:"Manage Subscription"}),l.jsx("div",{className:"mt-6 text-gray-400 italic",children:"[Subscription management coming soon]"})]})}function I6(){return l.jsxs("div",{className:"bg-white rounded shadow p-6",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"API Keys"}),l.jsxs("table",{className:"w-full table-auto border mb-4",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-gray-100",children:[l.jsx("th",{className:"p-2 border",children:"Key Name"}),l.jsx("th",{className:"p-2 border",children:"Permissions"}),l.jsx("th",{className:"p-2 border",children:"Status"}),l.jsx("th",{className:"p-2 border",children:"Actions"})]})}),l.jsxs("tbody",{children:[l.jsxs("tr",{children:[l.jsx("td",{className:"p-2 border",children:"[Key 1]"}),l.jsx("td",{className:"p-2 border",children:"[Read, Write]"}),l.jsx("td",{className:"p-2 border",children:"Active"}),l.jsx("td",{className:"p-2 border",children:l.jsx("button",{className:"px-2 py-1 bg-blue-600 text-white rounded opacity-50 cursor-not-allowed",disabled:!0,children:"Edit"})})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"p-2 border",children:"[Key 2]"}),l.jsx("td",{className:"p-2 border",children:"[Read]"}),l.jsx("td",{className:"p-2 border",children:"Inactive"}),l.jsx("td",{className:"p-2 border",children:l.jsx("button",{className:"px-2 py-1 bg-blue-600 text-white rounded opacity-50 cursor-not-allowed",disabled:!0,children:"Edit"})})]})]})]}),l.jsx("button",{className:"px-4 py-2 rounded bg-blue-600 text-white font-semibold opacity-50 cursor-not-allowed",disabled:!0,children:"Create New API Key"}),l.jsx("div",{className:"mt-6 text-gray-400 italic",children:"[API key management coming soon]"})]})}const R6=[{key:"org",label:"Organization Info"},{key:"permissions",label:"Permissions"},{key:"email",label:"Email Settings"},{key:"subscription",label:"Subscription"},{key:"apikeys",label:"API Keys"}];function Gg(){const[e,t]=R.useState("org");return l.jsxs("div",{className:"max-w-5xl mx-auto p-4",children:[l.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Admin Dashboard"}),l.jsx("div",{className:"border-b border-gray-200 mb-6",children:l.jsx("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:R6.map(r=>l.jsx("button",{className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${e===r.key?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>t(r.key),children:r.label},r.key))})}),l.jsxs("div",{children:[e==="org"&&l.jsx(M6,{}),e==="permissions"&&l.jsx(L6,{}),e==="email"&&l.jsx($6,{}),e==="subscription"&&l.jsx(D6,{}),e==="apikeys"&&l.jsx(I6,{})]})]})}const dl="https://api.ptoconnect.com/api";function F6(){const{profile:e,loading:t}=wo(),[r,n]=R.useState([]),[a,i]=R.useState([]),[o,s]=R.useState(!0),[c,u]=R.useState(null),[d,f]=R.useState(!1),p=(e==null?void 0:e.role)==="admin",h=R.useCallback(async()=>{if(!(e!=null&&e.user_id)||t||!p){s(!1);return}try{s(!0),u(null);const{data:{session:O}}=await We.auth.getSession();if(!(O!=null&&O.access_token))throw new Error("No authentication token available");const[E,C]=await Promise.all([Ja.get(`${dl}/api/admin/organization-permissions/templates`,{headers:{Authorization:`Bearer ${O.access_token}`}}),Ja.get(`${dl}/api/admin/organization-permissions`,{headers:{Authorization:`Bearer ${O.access_token}`}})]);n(E.data.templates||[]),i(C.data.permissions||[])}catch(O){console.error("Error fetching permission data:",O.message),u(O.message)}finally{s(!1)}},[e==null?void 0:e.user_id,t,p]);R.useEffect(()=>{h()},[h]);const v=R.useCallback(async(O,E)=>{var C,D;if(!p)throw new Error("Only administrators can modify permissions");try{f(!0),u(null);const{data:{session:k}}=await We.auth.getSession();if(!(k!=null&&k.access_token))throw new Error("No authentication token available");const T=await Ja.put(`${dl}/api/admin/organization-permissions/${O}`,E,{headers:{Authorization:`Bearer ${k.access_token}`}});return await h(),T.data}catch(k){throw console.error(`Error updating permission ${O}:`,k.message),u(((D=(C=k.response)==null?void 0:C.data)==null?void 0:D.error)||k.message),k}finally{f(!1)}},[p,h]),g=R.useCallback(async O=>{var E,C;if(!p)throw new Error("Only administrators can modify permissions");try{f(!0),u(null);const{data:{session:D}}=await We.auth.getSession();if(!(D!=null&&D.access_token))throw new Error("No authentication token available");const k=await Ja.post(`${dl}/api/admin/organization-permissions/bulk-update`,{permissions:O},{headers:{Authorization:`Bearer ${D.access_token}`}});return await h(),k.data}catch(D){throw console.error("Error bulk updating permissions:",D.message),u(((C=(E=D.response)==null?void 0:E.data)==null?void 0:C.error)||D.message),D}finally{f(!1)}},[p,h]),j=R.useCallback(async O=>{var E,C;if(!p)throw new Error("Only administrators can modify permissions");try{f(!0),u(null);const{data:{session:D}}=await We.auth.getSession();if(!(D!=null&&D.access_token))throw new Error("No authentication token available");const k=await Ja.delete(`${dl}/api/admin/organization-permissions/${O}`,{headers:{Authorization:`Bearer ${D.access_token}`}});return await h(),k.data}catch(D){throw console.error(`Error resetting permission ${O}:`,D.message),u(((C=(E=D.response)==null?void 0:E.data)==null?void 0:C.error)||D.message),D}finally{f(!1)}},[p,h]),x=R.useCallback(async O=>{if(!p)throw new Error("Only administrators can view user permissions");try{const{data:{session:E}}=await We.auth.getSession();if(!(E!=null&&E.access_token))throw new Error("No authentication token available");return(await Ja.get(`${dl}/api/admin/organization-permissions/user/${O}`,{headers:{Authorization:`Bearer ${E.access_token}`}})).data}catch(E){throw console.error(`Error fetching permissions for user ${O}:`,E.message),E}},[p]),b=R.useCallback(()=>{const O={};return a.forEach(E=>{const C=E.module_name;O[C]||(O[C]=[]),O[C].push(E)}),O},[a]),N=R.useCallback(O=>r.find(E=>E.permission_key===O)||null,[r]),_=R.useCallback(O=>{const E=a.find(C=>C.permission_key===O);return!!(E!=null&&E.has_custom_setting)},[a]),w=R.useCallback(O=>{const E=a.find(D=>D.permission_key===O),C=N(O);return C?{permission_key:O,module_name:C.module_name,permission_name:C.permission_name,permission_description:C.permission_description,current_min_role:(E==null?void 0:E.current_min_role)||C.default_min_role,specific_users:(E==null?void 0:E.specific_users)||[],is_enabled:(E==null?void 0:E.is_enabled)!==void 0?E.is_enabled:!0,is_customized:!!(E!=null&&E.has_custom_setting),default_min_role:C.default_min_role}:null},[a,N]),A=R.useCallback(()=>{h()},[h]);return{templates:r,orgPermissions:a,loading:o,error:c,saving:d,isAdmin:p,updatePermission:v,bulkUpdatePermissions:g,resetPermission:j,getUserPermissions:x,refreshPermissions:A,getPermissionsByModule:b,getPermissionTemplate:N,isPermissionCustomized:_,getEffectivePermission:w,userId:e==null?void 0:e.user_id,orgId:e==null?void 0:e.org_id,userRole:e==null?void 0:e.role}}function B6(){const{profile:e,organization:t,loading:r}=wo(),n={admin:5,board_member:4,committee_lead:3,volunteer:2,parent_member:1,teacher:1},a=w=>e!=null&&e.role?n[e.role]>=n[w]:!1,i=w=>e!=null&&e.role?w.includes(e.role):!1,o=w=>(e==null?void 0:e.role)===w,s=()=>a("admin"),c=()=>a("committee_lead"),u=()=>a("committee_lead"),d=()=>a("committee_lead");return{hasRole:a,hasAnyRole:i,hasExactRole:o,canAccessAdminFeatures:s,canManageEvents:c,canManageBudget:u,canManageCommunications:d,canManageUsers:()=>a("admin"),canViewReports:()=>a("board_member"),canCreateEvents:()=>a("volunteer"),canVolunteer:()=>a("parent_member"),isInOrganization:()=>!!(e!=null&&e.org_id)&&!!t,getOrganizationId:()=>e==null?void 0:e.org_id,getOrganizationName:()=>t==null?void 0:t.name,getRoleDisplayName:(w=e==null?void 0:e.role)=>({admin:"Administrator",board_member:"Board Member",committee_lead:"Committee Lead",volunteer:"Volunteer",parent_member:"Parent Member",teacher:"Teacher"})[w]||"Unknown Role",getRoleColor:(w=e==null?void 0:e.role)=>({admin:"bg-red-100 text-red-800",board_member:"bg-purple-100 text-purple-800",committee_lead:"bg-blue-100 text-blue-800",volunteer:"bg-green-100 text-green-800",parent_member:"bg-yellow-100 text-yellow-800",teacher:"bg-indigo-100 text-indigo-800"})[w]||"bg-gray-100 text-gray-800",canAccessRoute:w=>({"/dashboard/admin":s(),"/dashboard/board":a("board_member"),"/dashboard/committee":a("committee_lead"),"/dashboard/volunteer":a("volunteer"),"/dashboard/parent":a("parent_member"),"/dashboard/teacher":o("teacher"),"/events":c(),"/budget":u(),"/communications":d(),"/billing":s(),"/shared-library":a("volunteer"),"/teacher-requests":o("teacher")})[w]??!1,currentRole:e==null?void 0:e.role,currentUserId:e==null?void 0:e.id,loading:r}}function z6(){const{canAccessAdminFeatures:e}=B6(),{templates:t,loading:r,error:n,saving:a,isAdmin:i,updatePermission:o,bulkUpdatePermissions:s,resetPermission:c,getEffectivePermission:u,isPermissionCustomized:d,refreshPermissions:f}=F6(),[p,h]=R.useState("all"),[v,g]=R.useState({}),[j,x]=R.useState(!1),[b,N]=R.useState(!1),_=[{value:"volunteer",label:"Volunteer",color:"bg-green-100 text-green-800"},{value:"committee_lead",label:"Committee Lead",color:"bg-blue-100 text-blue-800"},{value:"board_member",label:"Board Member",color:"bg-purple-100 text-purple-800"},{value:"admin",label:"Administrator",color:"bg-red-100 text-red-800"}],w=[...new Set(t.map($=>$.module_name))].sort(),O=(p==="all"?t:t.filter($=>$.module_name===p)).reduce(($,I)=>{const V=I.module_name;return $[V]||($[V]=[]),$[V].push(I),$},{}),E=($,I,V)=>{g(F=>({...F,[$]:{...F[$],[I]:V}}))},C=async $=>{const I=v[$];if(I)try{const V=u($),F={min_role_required:I.min_role_required||V.current_min_role,specific_users:I.specific_users||V.specific_users,is_enabled:I.is_enabled!==void 0?I.is_enabled:V.is_enabled};await o($,F),g(B=>{const X={...B};return delete X[$],X}),alert(`Permission "${$}" updated successfully!`)}catch(V){alert(`Failed to update permission: ${V.message}`)}},D=async()=>{if(Object.keys(v).length!==0)try{const $=Object.entries(v).map(([I,V])=>{const F=u(I);return{permission_key:I,min_role_required:V.min_role_required||F.current_min_role,specific_users:V.specific_users||F.specific_users,is_enabled:V.is_enabled!==void 0?V.is_enabled:F.is_enabled}});await s($),g({}),alert(`Successfully updated ${$.length} permissions!`)}catch($){alert(`Failed to save changes: ${$.message}`)}},k=async $=>{if(confirm(`Reset "${$}" to default settings?`))try{await c($),g(I=>{const V={...I};return delete V[$],V}),alert(`Permission "${$}" reset to default!`)}catch(I){alert(`Failed to reset permission: ${I.message}`)}},T=$=>{const I=u($),V=v[$];return V?{...I,current_min_role:V.min_role_required||I.current_min_role,specific_users:V.specific_users||I.specific_users,is_enabled:V.is_enabled!==void 0?V.is_enabled:I.is_enabled}:I};return!e||!i?l.jsx("div",{className:"max-w-4xl mx-auto p-6",children:l.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[l.jsx("h2",{className:"text-lg font-semibold text-red-800 mb-2",children:"Access Denied"}),l.jsx("p",{className:"text-red-600",children:"Only administrators can access permission management."})]})}):r?l.jsx("div",{className:"max-w-6xl mx-auto p-6",children:l.jsxs("div",{className:"animate-pulse",children:[l.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-6"}),l.jsx("div",{className:"space-y-4",children:[1,2,3].map($=>l.jsx("div",{className:"h-20 bg-gray-200 rounded"},$))})]})}):n?l.jsx("div",{className:"max-w-4xl mx-auto p-6",children:l.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[l.jsx("h2",{className:"text-lg font-semibold text-red-800 mb-2",children:"Error Loading Permissions"}),l.jsx("p",{className:"text-red-600 mb-4",children:n}),l.jsx("button",{onClick:f,className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700",children:"Retry"})]})}):l.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Permission Management"}),l.jsx("p",{className:"text-gray-600",children:"Customize which roles can perform specific actions in your organization."})]}),l.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Module:"}),l.jsxs("select",{value:p,onChange:$=>h($.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm",children:[l.jsx("option",{value:"all",children:"All Modules"}),w.map($=>l.jsx("option",{value:$,children:$.charAt(0).toUpperCase()+$.slice(1).replace("_"," ")},$))]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>N(!b),className:`px-4 py-2 rounded-md text-sm font-medium ${b?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:b?"Exit Bulk Mode":"Bulk Edit"}),Object.keys(v).length>0&&l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>x(!j),className:"px-4 py-2 bg-yellow-100 text-yellow-800 rounded-md text-sm font-medium hover:bg-yellow-200",children:["Preview Changes (",Object.keys(v).length,")"]}),l.jsx("button",{onClick:D,disabled:a,className:"px-4 py-2 bg-green-600 text-white rounded-md text-sm font-medium hover:bg-green-700 disabled:opacity-50",children:a?"Saving...":"Save All Changes"})]})]})]})}),j&&Object.keys(v).length>0&&l.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:[l.jsx("h3",{className:"font-semibold text-yellow-800 mb-2",children:"Pending Changes"}),l.jsx("div",{className:"space-y-2",children:Object.entries(v).map(([$,I])=>l.jsxs("div",{className:"text-sm text-yellow-700",children:[l.jsxs("span",{className:"font-medium",children:[$,":"]}),I.min_role_required&&l.jsxs("span",{className:"ml-2",children:["Role â†’ ",I.min_role_required]}),I.is_enabled!==void 0&&l.jsxs("span",{className:"ml-2",children:["Enabled â†’ ",I.is_enabled?"Yes":"No"]})]},$))})]}),l.jsx("div",{className:"space-y-8",children:Object.entries(O).map(([$,I])=>l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[l.jsx("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("h2",{className:"text-xl font-semibold text-gray-900 capitalize",children:[$.replace("_"," ")," Module"]}),l.jsxs("span",{className:"text-sm text-gray-500",children:[I.length," permissions"]})]})}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Permission"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Minimum Role"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:I.map(V=>{const F=T(V.permission_key),B=v[V.permission_key],X=d(V.permission_key);return l.jsxs("tr",{className:B?"bg-yellow-50":"",children:[l.jsx("td",{className:"px-6 py-4",children:l.jsxs("div",{children:[l.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[F.permission_name,X&&l.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:"Custom"}),B&&l.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-yellow-100 text-yellow-800",children:"Modified"})]}),l.jsx("div",{className:"text-sm text-gray-500",children:F.permission_description})]})}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("select",{value:F.current_min_role,onChange:Y=>E(V.permission_key,"min_role_required",Y.target.value),className:"border border-gray-300 rounded-md px-3 py-1 text-sm",children:_.map(Y=>l.jsx("option",{value:Y.value,children:Y.label},Y.value))})}),l.jsx("td",{className:"px-6 py-4",children:l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",checked:F.is_enabled,onChange:Y=>E(V.permission_key,"is_enabled",Y.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),l.jsx("span",{className:"ml-2 text-sm text-gray-700",children:F.is_enabled?"Enabled":"Disabled"})]})}),l.jsx("td",{className:"px-6 py-4",children:l.jsxs("div",{className:"flex items-center gap-2",children:[B&&l.jsx("button",{onClick:()=>C(V.permission_key),disabled:a,className:"text-green-600 hover:text-green-800 text-sm font-medium",children:"Save"}),X&&l.jsx("button",{onClick:()=>k(V.permission_key),disabled:a,className:"text-gray-600 hover:text-gray-800 text-sm font-medium",children:"Reset"})]})})]},V.permission_key)})})]})})]},$))}),l.jsxs("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[l.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:"Permission Management Guide"}),l.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[l.jsxs("li",{children:["â€¢ ",l.jsx("strong",{children:"Minimum Role:"})," The lowest role level that can perform this action"]}),l.jsxs("li",{children:["â€¢ ",l.jsx("strong",{children:"Custom:"})," Permission has been modified from the default setting"]}),l.jsxs("li",{children:["â€¢ ",l.jsx("strong",{children:"Modified:"})," Permission has unsaved changes"]}),l.jsxs("li",{children:["â€¢ ",l.jsx("strong",{children:"Reset:"})," Restore permission to its default setting"]}),l.jsx("li",{children:"â€¢ Changes take effect immediately for all users in your organization"})]})]})]})}function q6(){return l.jsxs("div",{className:"p-6",children:[l.jsx("h1",{className:"text-2xl font-bold text-blue-600",children:"Welcome to the Board Dashboard"}),l.jsx("p",{className:"mt-4 text-gray-700",children:"This is a placeholder for the Board dashboard."})]})}function U6(){return l.jsxs("div",{className:"p-6",children:[l.jsx("h1",{className:"text-2xl font-bold text-blue-600",children:"Welcome to the Committee Dashboard"}),l.jsx("p",{className:"mt-4 text-gray-700",children:"This is a placeholder for the Committee dashboard."})]})}function W6(){return l.jsxs("div",{className:"p-6",children:[l.jsx("h1",{className:"text-2xl font-bold text-blue-600",children:"Welcome to the Volunteer Dashboard"}),l.jsx("p",{className:"mt-4 text-gray-700",children:"This is a placeholder for the Volunteer dashboard."})]})}function H6(){return l.jsxs("div",{className:"p-6",children:[l.jsx("h1",{className:"text-2xl font-bold text-blue-600",children:"Welcome to the Parent Dashboard"}),l.jsx("p",{className:"mt-4 text-gray-700",children:"This is a placeholder for the Parent dashboard."})]})}function G6(){return l.jsxs("div",{className:"p-6",children:[l.jsx("h1",{className:"text-2xl font-bold text-blue-600",children:"Welcome to the Teacher Dashboard"}),l.jsx("p",{className:"mt-4 text-gray-700",children:"This is a placeholder for the Teacher dashboard."})]})}function xt(e){"@babel/helpers - typeof";return xt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xt(e)}function V6(e,t){if(xt(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xt(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uS(e){var t=V6(e,"string");return xt(t)=="symbol"?t:t+""}function Zo(e,t,r){return(t=uS(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m1(Object(r),!0).forEach(function(n){Zo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zp(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ci(e,t){if(e==null)return{};var r,n,a=zp(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Pr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uS(n.key),n)}}function Er(e,t,r){return t&&g1(e.prototype,t),r&&g1(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ph(e){return Ph=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ph(e)}function dS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dS=function(){return!!e})()}function Y6(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K6(e,t){if(t&&(xt(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y6(e)}function en(e,t,r){return t=Ph(t),K6(e,dS()?Reflect.construct(t,r||[],Ph(e).constructor):t.apply(e,r))}function Eh(e,t){return Eh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Eh(e,t)}function tn(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Eh(e,t)}function fS(e){if(Array.isArray(e))return e}function X6(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function Gv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Yy(e,t){if(e){if(typeof e=="string")return Gv(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Gv(e,t):void 0}}function hS(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hs(e,t){return fS(e)||X6(e,t)||Yy(e,t)||hS()}function pS(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=pS(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function lr(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=pS(e))&&(n&&(n+=" "),n+=t);return n}function or(){return or=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},or.apply(null,arguments)}var J6=function(e,t,r,n,a,i,o,s){if(!e){var c;if(t===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,n,a,i,o,s],d=0;c=new Error(t.replace(/%s/g,function(){return u[d++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}},Z6=J6;const Hu=wt(Z6);var Q6=function(){};function eE(e,t){var r={};return Object.keys(e).forEach(function(n){r[vh(n)]=Q6}),r}function v1(e,t){return e[t]!==void 0}function vh(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function tE(e){return!!e&&(typeof e!="function"||e.prototype&&e.prototype.isReactComponent)}function rE(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Eh(e,t)}function mS(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function gS(e){function t(r){var n=this.constructor.getDerivedStateFromProps(e,r);return n??null}this.setState(t.bind(this))}function vS(e,t){try{var r=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}mS.__suppressDeprecationWarning=!0;gS.__suppressDeprecationWarning=!0;vS.__suppressDeprecationWarning=!0;function nE(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var r=null,n=null,a=null;if(typeof t.componentWillMount=="function"?r="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(r="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?n="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(n="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?a="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(a="UNSAFE_componentWillUpdate"),r!==null||n!==null||a!==null){var i=e.displayName||e.name,o=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+i+" uses "+o+" but also contains the following legacy lifecycles:"+(r!==null?`
  `+r:"")+(n!==null?`
  `+n:"")+(a!==null?`
  `+a:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=mS,t.componentWillReceiveProps=gS),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=vS;var s=t.componentDidUpdate;t.componentDidUpdate=function(u,d,f){var p=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:f;s.call(this,u,d,p)}}return e}var aE="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function yS(e,t,r){r===void 0&&(r=[]);var n=e.displayName||e.name||"Component",a=tE(e),i=Object.keys(t),o=i.map(vh);a||!r.length||Hu(!1);var s=function(u){rE(d,u);function d(){for(var p,h=arguments.length,v=new Array(h),g=0;g<h;g++)v[g]=arguments[g];p=u.call.apply(u,[this].concat(v))||this,p.handlers=Object.create(null),i.forEach(function(x){var b=t[x],N=function(w){if(p.props[b]){var A;p._notifying=!0;for(var O=arguments.length,E=new Array(O>1?O-1:0),C=1;C<O;C++)E[C-1]=arguments[C];(A=p.props)[b].apply(A,[w].concat(E)),p._notifying=!1}p.unmounted||p.setState(function(D){var k,T=D.values;return{values:or(Object.create(null),T,(k={},k[x]=w,k))}})};p.handlers[b]=N}),r.length&&(p.attachRef=function(x){p.inner=x});var j=Object.create(null);return i.forEach(function(x){j[x]=p.props[vh(x)]}),p.state={values:j,prevProps:{}},p}var f=d.prototype;return f.shouldComponentUpdate=function(){return!this._notifying},d.getDerivedStateFromProps=function(h,v){var g=v.values,j=v.prevProps,x={values:or(Object.create(null),g),prevProps:{}};return i.forEach(function(b){x.prevProps[b]=h[b],!v1(h,b)&&v1(j,b)&&(x.values[b]=h[vh(b)])}),x},f.componentWillUnmount=function(){this.unmounted=!0},f.render=function(){var h=this,v=this.props,g=v.innerRef,j=zp(v,["innerRef"]);o.forEach(function(b){delete j[b]});var x={};return i.forEach(function(b){var N=h.props[b];x[b]=N!==void 0?N:h.state.values[b]}),U.createElement(e,or({},j,x,this.handlers,{ref:g||this.attachRef}))},d}(U.Component);nE(s),s.displayName="Uncontrolled("+n+")",s.propTypes=or({innerRef:function(){}},eE(t)),r.forEach(function(u){s.prototype[u]=function(){var f;return(f=this.inner)[u].apply(f,arguments)}});var c=s;return U.forwardRef&&(c=U.forwardRef(function(u,d){return U.createElement(s,or({},u,{innerRef:d,__source:{fileName:aE,lineNumber:128},__self:this}))}),c.propTypes=s.propTypes),c.ControlledComponent=e,c.deferControlTo=function(u,d,f){return d===void 0&&(d={}),yS(u,or({},t,d),f)},c}var kh="milliseconds",Gu="seconds",Vu="minutes",Yu="hours",ps="day",Rl="week",Ku="month",ms="year",gs="decade",vs="century",bS={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:60*60*1e3,day:24*60*60*1e3,week:7*24*60*60*1e3},iE={month:1,year:12,decade:10*12,century:100*12};function oE(e){return[31,sE(e),31,30,31,30,31,31,30,31,30,31]}function sE(e){return e%4===0&&e%100!==0||e%400===0?29:28}function Ta(e,t,r){switch(e=new Date(e),r){case kh:case Gu:case Vu:case Yu:case ps:case Rl:return lE(e,t*bS[r]);case Ku:case ms:case gs:case vs:return cE(e,t*iE[r])}throw new TypeError('Invalid units: "'+r+'"')}function lE(e,t){var r=new Date(+e+t);return uE(e,r)}function cE(e,t){var r=e.getFullYear(),n=e.getMonth(),a=e.getDate(),i=r*12+n+t,o=Math.trunc(i/12),s=i%12,c=Math.min(a,oE(o)[s]),u=new Date(e);return u.setFullYear(o),u.setDate(1),u.setMonth(s),u.setDate(c),u}function uE(e,t){var r=e.getTimezoneOffset(),n=t.getTimezoneOffset(),a=n-r;return new Date(+t+a*bS.minutes)}function Xu(e,t,r){return Ta(e,-t,r)}function qr(e,t,r){switch(e=new Date(e),t){case vs:case gs:case ms:e=Ch(e,0);case Ku:e=SS(e,1);case Rl:case ps:e=Qu(e,0);case Yu:e=Fl(e,0);case Vu:e=Zu(e,0);case Gu:e=Ju(e,0)}return t===gs&&(e=Xu(e,ys(e)%10,"year")),t===vs&&(e=Xu(e,ys(e)%100,"year")),t===Rl&&(e=_S(e,0,r)),e}function Th(e,t,r){switch(e=new Date(e),e=qr(e,t,r),t){case vs:case gs:case ms:case Ku:case Rl:e=Ta(e,1,t),e=Xu(e,1,ps),e.setHours(23,59,59,999);break;case ps:e.setHours(23,59,59,999);break;case Yu:case Vu:case Gu:e=Ta(e,1,t),e=Xu(e,1,kh)}return e}var gc=yc(function(e,t){return e===t}),Ky=yc(function(e,t){return e!==t}),qp=yc(function(e,t){return e>t}),Ud=yc(function(e,t){return e>=t}),Xy=yc(function(e,t){return e<t}),vc=yc(function(e,t){return e<=t});function xS(){return new Date(Math.min.apply(Math,arguments))}function wS(){return new Date(Math.max.apply(Math,arguments))}function jS(e,t,r,n){return n=n||"day",(!t||Ud(e,t,n))&&(!r||vc(e,r,n))}var Ju=jo("Milliseconds"),Zu=jo("Seconds"),Fl=jo("Minutes"),Qu=jo("Hours"),NS=jo("Day"),SS=jo("Date"),Ch=jo("Month"),ys=jo("FullYear");function dE(e,t){return t===void 0?ys(qr(e,gs)):Ta(e,t+10,ms)}function fE(e,t){return t===void 0?ys(qr(e,vs)):Ta(e,t+100,ms)}function _S(e,t,r){var n=(NS(e)+7-(r||0))%7;return t===void 0?n:Ta(e,t-n,ps)}function hE(e,t,r,n){var a,i,o;switch(r){case kh:case Gu:case Vu:case Yu:case ps:case Rl:a=t.getTime()-e.getTime();break;case Ku:case ms:case gs:case vs:a=(ys(t)-ys(e))*12+Ch(t)-Ch(e);break;default:throw new TypeError('Invalid units: "'+r+'"')}switch(r){case kh:i=1;break;case Gu:i=1e3;break;case Vu:i=1e3*60;break;case Yu:i=1e3*60*60;break;case ps:i=1e3*60*60*24;break;case Rl:i=1e3*60*60*24*7;break;case Ku:i=1;break;case ms:i=12;break;case gs:i=120;break;case vs:i=1200;break;default:throw new TypeError('Invalid units: "'+r+'"')}return o=a/i,n?o:Math.round(o)}function jo(e){var t=function(r){switch(r){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(e);return function(r,n){if(n===void 0)return r["get"+e]();var a=new Date(r);return a["set"+e](n),t&&a["get"+e]()!=n&&(e==="Hours"||n>=t&&a.getHours()-r.getHours()<Math.floor(n/t))&&a["set"+e](n+t),a}}function yc(e){return function(t,r,n){return e(+qr(t,n),+qr(r,n))}}const y1=Object.freeze(Object.defineProperty({__proto__:null,add:Ta,century:fE,date:SS,day:NS,decade:dE,diff:hE,endOf:Th,eq:gc,gt:qp,gte:Ud,hours:Qu,inRange:jS,lt:Xy,lte:vc,max:wS,milliseconds:Ju,min:xS,minutes:Fl,month:Ch,neq:Ky,seconds:Zu,startOf:qr,subtract:Xu,weekday:_S,year:ys},Symbol.toStringTag,{value:"Module"}));function pE(e){if(Array.isArray(e))return Gv(e)}function AS(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function mE(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yh(e){return pE(e)||AS(e)||Yy(e)||mE()}function gE(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var Jy=gE;function vE(e,t){return e===t||e!==e&&t!==t}var Wd=vE,yE=typeof Zn=="object"&&Zn&&Zn.Object===Object&&Zn,OS=yE,bE=OS,xE=typeof self=="object"&&self&&self.Object===Object&&self,wE=bE||xE||Function("return this")(),Ca=wE,jE=Ca,NE=jE.Symbol,bc=NE,b1=bc,PS=Object.prototype,SE=PS.hasOwnProperty,_E=PS.toString,mu=b1?b1.toStringTag:void 0;function AE(e){var t=SE.call(e,mu),r=e[mu];try{e[mu]=void 0;var n=!0}catch{}var a=_E.call(e);return n&&(t?e[mu]=r:delete e[mu]),a}var OE=AE,PE=Object.prototype,EE=PE.toString;function kE(e){return EE.call(e)}var TE=kE,x1=bc,CE=OE,LE=TE,ME="[object Null]",$E="[object Undefined]",w1=x1?x1.toStringTag:void 0;function DE(e){return e==null?e===void 0?$E:ME:w1&&w1 in Object(e)?CE(e):LE(e)}var Fi=DE;function IE(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var aa=IE;const xc=wt(aa);var RE=Fi,FE=aa,BE="[object AsyncFunction]",zE="[object Function]",qE="[object GeneratorFunction]",UE="[object Proxy]";function WE(e){if(!FE(e))return!1;var t=RE(e);return t==zE||t==qE||t==BE||t==UE}var Up=WE;const nt=wt(Up);var HE=9007199254740991;function GE(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=HE}var Zy=GE,VE=Up,YE=Zy;function KE(e){return e!=null&&YE(e.length)&&!VE(e)}var wc=KE,XE=9007199254740991,JE=/^(?:0|[1-9]\d*)$/;function ZE(e,t){var r=typeof e;return t=t??XE,!!t&&(r=="number"||r!="symbol"&&JE.test(e))&&e>-1&&e%1==0&&e<t}var Qy=ZE,QE=Wd,ek=wc,tk=Qy,rk=aa;function nk(e,t,r){if(!rk(r))return!1;var n=typeof t;return(n=="number"?ek(r)&&tk(t,r.length):n=="string"&&t in r)?QE(r[t],e):!1}var jc=nk,ak=/\s/;function ik(e){for(var t=e.length;t--&&ak.test(e.charAt(t)););return t}var ok=ik,sk=ok,lk=/^\s+/;function ck(e){return e&&e.slice(0,sk(e)+1).replace(lk,"")}var uk=ck;function dk(e){return e!=null&&typeof e=="object"}var La=dk,fk=Fi,hk=La,pk="[object Symbol]";function mk(e){return typeof e=="symbol"||hk(e)&&fk(e)==pk}var Nc=mk,gk=uk,j1=aa,vk=Nc,N1=NaN,yk=/^[-+]0x[0-9a-f]+$/i,bk=/^0b[01]+$/i,xk=/^0o[0-7]+$/i,wk=parseInt;function jk(e){if(typeof e=="number")return e;if(vk(e))return N1;if(j1(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=j1(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=gk(e);var r=bk.test(e);return r||xk.test(e)?wk(e.slice(2),r?2:8):yk.test(e)?N1:+e}var ES=jk,Nk=ES,S1=1/0,Sk=17976931348623157e292;function _k(e){if(!e)return e===0?e:0;if(e=Nk(e),e===S1||e===-S1){var t=e<0?-1:1;return t*Sk}return e===e?e:0}var kS=_k,Ak=kS;function Ok(e){var t=Ak(e),r=t%1;return t===t?r?t-r:t:0}var TS=Ok,Pk=Jy,Ek=jc,kk=TS,Tk=Math.ceil,Ck=Math.max;function Lk(e,t,r){(r?Ek(e,t,r):t===void 0)?t=1:t=Ck(kk(t),0);var n=e==null?0:e.length;if(!n||t<1)return[];for(var a=0,i=0,o=Array(Tk(n/t));a<n;)o[i++]=Pk(e,a,a+=t);return o}var Mk=Lk;const $k=wt(Mk);function Hd(e){return e&&e.ownerDocument||document}function Dk(e){var t=Hd(e);return t&&t.defaultView||window}function Ik(e,t){return Dk(e).getComputedStyle(e,t)}var Rk=/([A-Z])/g;function Fk(e){return e.replace(Rk,"-$1").toLowerCase()}var Bk=/^ms-/;function Vf(e){return Fk(e).replace(Bk,"-ms-")}var zk=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function qk(e){return!!(e&&zk.test(e))}function bl(e,t){var r="",n="";if(typeof t=="string")return e.style.getPropertyValue(Vf(t))||Ik(e).getPropertyValue(Vf(t));Object.keys(t).forEach(function(a){var i=t[a];!i&&i!==0?e.style.removeProperty(Vf(a)):qk(a)?n+=a+"("+i+") ":r+=Vf(a)+": "+i+";"}),n&&(r+="transform: "+n+";"),e.style.cssText+=";"+r}function ed(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}function Uk(e){return"nodeType"in e&&e.nodeType===document.DOCUMENT_NODE}function eb(e){return"window"in e&&e.window===e?e:Uk(e)&&e.defaultView||!1}function CS(e){var t=e==="pageXOffset"?"scrollLeft":"scrollTop";function r(n,a){var i=eb(n);if(a===void 0)return i?i[e]:n[t];i?i.scrollTo(i[e],a):n[t]=a}return r}const LS=CS("pageXOffset"),MS=CS("pageYOffset");function os(e){var t=Hd(e),r={top:0,left:0,height:0,width:0},n=t&&t.documentElement;return!n||!ed(n,e)||(e.getBoundingClientRect!==void 0&&(r=e.getBoundingClientRect()),r={top:r.top+MS(n)-(n.clientTop||0),left:r.left+LS(n)-(n.clientLeft||0),width:r.width,height:r.height}),r}var Wk=function(t){return!!t&&"offsetParent"in t};function Hk(e){for(var t=Hd(e),r=e&&e.offsetParent;Wk(r)&&r.nodeName!=="HTML"&&bl(r,"position")==="static";)r=r.offsetParent;return r||t.documentElement}var Gk=function(t){return t.nodeName&&t.nodeName.toLowerCase()};function $S(e,t){var r={top:0,left:0},n;if(bl(e,"position")==="fixed")n=e.getBoundingClientRect();else{var a=t||Hk(e);n=os(e),Gk(a)!=="html"&&(r=os(a));var i=String(bl(a,"borderTopWidth")||0);r.top+=parseInt(i,10)-MS(a)||0;var o=String(bl(a,"borderLeftWidth")||0);r.left+=parseInt(o,10)-LS(a)||0}var s=String(bl(e,"marginTop")||0),c=String(bl(e,"marginLeft")||0);return or({},n,{top:n.top-r.top-(parseInt(s,10)||0),left:n.left-r.left-(parseInt(c,10)||0)})}const tb=!!(typeof window<"u"&&window.document&&window.document.createElement);var _1=new Date().getTime();function Vk(e){var t=new Date().getTime(),r=Math.max(0,16-(t-_1)),n=setTimeout(e,r);return _1=t,n}var Yk=["","webkit","moz","o","ms"],Vv="clearTimeout",Yv=Vk,A1=function(t,r){return t+(t?r[0].toUpperCase()+r.substr(1):r)+"AnimationFrame"};tb&&Yk.some(function(e){var t=A1(e,"request");return t in window&&(Vv=A1(e,"cancel"),Yv=function(n){return window[t](n)}),!!Yv});var O1=function(t){typeof window[Vv]=="function"&&window[Vv](t)},DS=Yv,Vg;function Kk(e,t){if(!Vg){var r=document.body,n=r.matches||r.matchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector;Vg=function(i,o){return n.call(i,o)}}return Vg(e,t)}var Xk=Function.prototype.bind.call(Function.prototype.call,[].slice);function Jk(e,t){return Xk(e.querySelectorAll(t))}var Kv=!1,Xv=!1;try{var Yg={get passive(){return Kv=!0},get once(){return Xv=Kv=!0}};tb&&(window.addEventListener("test",Yg,Yg),window.removeEventListener("test",Yg,!0))}catch{}function Zk(e,t,r,n){if(n&&typeof n!="boolean"&&!Xv){var a=n.once,i=n.capture,o=r;!Xv&&a&&(o=r.__once||function s(c){this.removeEventListener(t,s,i),r.call(this,c)},r.__once=o),e.addEventListener(t,o,Kv?n:i)}e.addEventListener(t,r,n)}function Qk(e){const t=R.useRef(e);return R.useEffect(()=>{t.current=e},[e]),t}function P1(e){const t=Qk(e);return R.useCallback(function(...r){return t.current&&t.current(...r)},[t])}function E1(){return R.useState(null)}function eT(){const e=R.useRef(!0),t=R.useRef(()=>e.current);return R.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function tT(e){const t=eT();return[e[0],R.useCallback(r=>{if(t())return e[1](r)},[t,e[1]])]}var jn="top",ta="bottom",ra="right",Nn="left",rb="auto",Gd=[jn,ta,ra,Nn],Bl="start",td="end",rT="clippingParents",IS="viewport",gu="popper",nT="reference",k1=Gd.reduce(function(e,t){return e.concat([t+"-"+Bl,t+"-"+td])},[]),nb=[].concat(Gd,[rb]).reduce(function(e,t){return e.concat([t,t+"-"+Bl,t+"-"+td])},[]),aT="beforeRead",iT="read",oT="afterRead",sT="beforeMain",lT="main",cT="afterMain",uT="beforeWrite",dT="write",fT="afterWrite",hT=[aT,iT,oT,sT,lT,cT,uT,dT,fT];function ai(e){return e.split("-")[0]}function In(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function bs(e){var t=In(e).Element;return e instanceof t||e instanceof Element}function ii(e){var t=In(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function ab(e){if(typeof ShadowRoot>"u")return!1;var t=In(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}var ss=Math.max,Lh=Math.min,zl=Math.round;function Jv(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function RS(){return!/^((?!chrome|android).)*safari/i.test(Jv())}function ql(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var n=e.getBoundingClientRect(),a=1,i=1;t&&ii(e)&&(a=e.offsetWidth>0&&zl(n.width)/e.offsetWidth||1,i=e.offsetHeight>0&&zl(n.height)/e.offsetHeight||1);var o=bs(e)?In(e):window,s=o.visualViewport,c=!RS()&&r,u=(n.left+(c&&s?s.offsetLeft:0))/a,d=(n.top+(c&&s?s.offsetTop:0))/i,f=n.width/a,p=n.height/i;return{width:f,height:p,top:d,right:u+f,bottom:d+p,left:u,x:u,y:d}}function ib(e){var t=ql(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function FS(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&ab(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function go(e){return e?(e.nodeName||"").toLowerCase():null}function $i(e){return In(e).getComputedStyle(e)}function pT(e){return["table","td","th"].indexOf(go(e))>=0}function No(e){return((bs(e)?e.ownerDocument:e.document)||window.document).documentElement}function Wp(e){return go(e)==="html"?e:e.assignedSlot||e.parentNode||(ab(e)?e.host:null)||No(e)}function T1(e){return!ii(e)||$i(e).position==="fixed"?null:e.offsetParent}function mT(e){var t=/firefox/i.test(Jv()),r=/Trident/i.test(Jv());if(r&&ii(e)){var n=$i(e);if(n.position==="fixed")return null}var a=Wp(e);for(ab(a)&&(a=a.host);ii(a)&&["html","body"].indexOf(go(a))<0;){var i=$i(a);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||t&&i.willChange==="filter"||t&&i.filter&&i.filter!=="none")return a;a=a.parentNode}return null}function Vd(e){for(var t=In(e),r=T1(e);r&&pT(r)&&$i(r).position==="static";)r=T1(r);return r&&(go(r)==="html"||go(r)==="body"&&$i(r).position==="static")?t:r||mT(e)||t}function ob(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function $u(e,t,r){return ss(e,Lh(t,r))}function gT(e,t,r){var n=$u(e,t,r);return n>r?r:n}function BS(){return{top:0,right:0,bottom:0,left:0}}function zS(e){return Object.assign({},BS(),e)}function qS(e,t){return t.reduce(function(r,n){return r[n]=e,r},{})}var vT=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,zS(typeof t!="number"?t:qS(t,Gd))};function yT(e){var t,r=e.state,n=e.name,a=e.options,i=r.elements.arrow,o=r.modifiersData.popperOffsets,s=ai(r.placement),c=ob(s),u=[Nn,ra].indexOf(s)>=0,d=u?"height":"width";if(!(!i||!o)){var f=vT(a.padding,r),p=ib(i),h=c==="y"?jn:Nn,v=c==="y"?ta:ra,g=r.rects.reference[d]+r.rects.reference[c]-o[c]-r.rects.popper[d],j=o[c]-r.rects.reference[c],x=Vd(i),b=x?c==="y"?x.clientHeight||0:x.clientWidth||0:0,N=g/2-j/2,_=f[h],w=b-p[d]-f[v],A=b/2-p[d]/2+N,O=$u(_,A,w),E=c;r.modifiersData[n]=(t={},t[E]=O,t.centerOffset=O-A,t)}}function bT(e){var t=e.state,r=e.options,n=r.element,a=n===void 0?"[data-popper-arrow]":n;a!=null&&(typeof a=="string"&&(a=t.elements.popper.querySelector(a),!a)||FS(t.elements.popper,a)&&(t.elements.arrow=a))}const xT={name:"arrow",enabled:!0,phase:"main",fn:yT,effect:bT,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ul(e){return e.split("-")[1]}var wT={top:"auto",right:"auto",bottom:"auto",left:"auto"};function jT(e,t){var r=e.x,n=e.y,a=t.devicePixelRatio||1;return{x:zl(r*a)/a||0,y:zl(n*a)/a||0}}function C1(e){var t,r=e.popper,n=e.popperRect,a=e.placement,i=e.variation,o=e.offsets,s=e.position,c=e.gpuAcceleration,u=e.adaptive,d=e.roundOffsets,f=e.isFixed,p=o.x,h=p===void 0?0:p,v=o.y,g=v===void 0?0:v,j=typeof d=="function"?d({x:h,y:g}):{x:h,y:g};h=j.x,g=j.y;var x=o.hasOwnProperty("x"),b=o.hasOwnProperty("y"),N=Nn,_=jn,w=window;if(u){var A=Vd(r),O="clientHeight",E="clientWidth";if(A===In(r)&&(A=No(r),$i(A).position!=="static"&&s==="absolute"&&(O="scrollHeight",E="scrollWidth")),A=A,a===jn||(a===Nn||a===ra)&&i===td){_=ta;var C=f&&A===w&&w.visualViewport?w.visualViewport.height:A[O];g-=C-n.height,g*=c?1:-1}if(a===Nn||(a===jn||a===ta)&&i===td){N=ra;var D=f&&A===w&&w.visualViewport?w.visualViewport.width:A[E];h-=D-n.width,h*=c?1:-1}}var k=Object.assign({position:s},u&&wT),T=d===!0?jT({x:h,y:g},In(r)):{x:h,y:g};if(h=T.x,g=T.y,c){var $;return Object.assign({},k,($={},$[_]=b?"0":"",$[N]=x?"0":"",$.transform=(w.devicePixelRatio||1)<=1?"translate("+h+"px, "+g+"px)":"translate3d("+h+"px, "+g+"px, 0)",$))}return Object.assign({},k,(t={},t[_]=b?g+"px":"",t[N]=x?h+"px":"",t.transform="",t))}function NT(e){var t=e.state,r=e.options,n=r.gpuAcceleration,a=n===void 0?!0:n,i=r.adaptive,o=i===void 0?!0:i,s=r.roundOffsets,c=s===void 0?!0:s,u={placement:ai(t.placement),variation:Ul(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,C1(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:c})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,C1(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const ST={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:NT,data:{}};var Yf={passive:!0};function _T(e){var t=e.state,r=e.instance,n=e.options,a=n.scroll,i=a===void 0?!0:a,o=n.resize,s=o===void 0?!0:o,c=In(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&u.forEach(function(d){d.addEventListener("scroll",r.update,Yf)}),s&&c.addEventListener("resize",r.update,Yf),function(){i&&u.forEach(function(d){d.removeEventListener("scroll",r.update,Yf)}),s&&c.removeEventListener("resize",r.update,Yf)}}const AT={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:_T,data:{}};var OT={left:"right",right:"left",bottom:"top",top:"bottom"};function bh(e){return e.replace(/left|right|bottom|top/g,function(t){return OT[t]})}var PT={start:"end",end:"start"};function L1(e){return e.replace(/start|end/g,function(t){return PT[t]})}function sb(e){var t=In(e),r=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:r,scrollTop:n}}function lb(e){return ql(No(e)).left+sb(e).scrollLeft}function ET(e,t){var r=In(e),n=No(e),a=r.visualViewport,i=n.clientWidth,o=n.clientHeight,s=0,c=0;if(a){i=a.width,o=a.height;var u=RS();(u||!u&&t==="fixed")&&(s=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:s+lb(e),y:c}}function kT(e){var t,r=No(e),n=sb(e),a=(t=e.ownerDocument)==null?void 0:t.body,i=ss(r.scrollWidth,r.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),o=ss(r.scrollHeight,r.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),s=-n.scrollLeft+lb(e),c=-n.scrollTop;return $i(a||r).direction==="rtl"&&(s+=ss(r.clientWidth,a?a.clientWidth:0)-i),{width:i,height:o,x:s,y:c}}function cb(e){var t=$i(e),r=t.overflow,n=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+a+n)}function US(e){return["html","body","#document"].indexOf(go(e))>=0?e.ownerDocument.body:ii(e)&&cb(e)?e:US(Wp(e))}function Du(e,t){var r;t===void 0&&(t=[]);var n=US(e),a=n===((r=e.ownerDocument)==null?void 0:r.body),i=In(n),o=a?[i].concat(i.visualViewport||[],cb(n)?n:[]):n,s=t.concat(o);return a?s:s.concat(Du(Wp(o)))}function Zv(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function TT(e,t){var r=ql(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function M1(e,t,r){return t===IS?Zv(ET(e,r)):bs(t)?TT(t,r):Zv(kT(No(e)))}function CT(e){var t=Du(Wp(e)),r=["absolute","fixed"].indexOf($i(e).position)>=0,n=r&&ii(e)?Vd(e):e;return bs(n)?t.filter(function(a){return bs(a)&&FS(a,n)&&go(a)!=="body"}):[]}function LT(e,t,r,n){var a=t==="clippingParents"?CT(e):[].concat(t),i=[].concat(a,[r]),o=i[0],s=i.reduce(function(c,u){var d=M1(e,u,n);return c.top=ss(d.top,c.top),c.right=Lh(d.right,c.right),c.bottom=Lh(d.bottom,c.bottom),c.left=ss(d.left,c.left),c},M1(e,o,n));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function WS(e){var t=e.reference,r=e.element,n=e.placement,a=n?ai(n):null,i=n?Ul(n):null,o=t.x+t.width/2-r.width/2,s=t.y+t.height/2-r.height/2,c;switch(a){case jn:c={x:o,y:t.y-r.height};break;case ta:c={x:o,y:t.y+t.height};break;case ra:c={x:t.x+t.width,y:s};break;case Nn:c={x:t.x-r.width,y:s};break;default:c={x:t.x,y:t.y}}var u=a?ob(a):null;if(u!=null){var d=u==="y"?"height":"width";switch(i){case Bl:c[u]=c[u]-(t[d]/2-r[d]/2);break;case td:c[u]=c[u]+(t[d]/2-r[d]/2);break}}return c}function rd(e,t){t===void 0&&(t={});var r=t,n=r.placement,a=n===void 0?e.placement:n,i=r.strategy,o=i===void 0?e.strategy:i,s=r.boundary,c=s===void 0?rT:s,u=r.rootBoundary,d=u===void 0?IS:u,f=r.elementContext,p=f===void 0?gu:f,h=r.altBoundary,v=h===void 0?!1:h,g=r.padding,j=g===void 0?0:g,x=zS(typeof j!="number"?j:qS(j,Gd)),b=p===gu?nT:gu,N=e.rects.popper,_=e.elements[v?b:p],w=LT(bs(_)?_:_.contextElement||No(e.elements.popper),c,d,o),A=ql(e.elements.reference),O=WS({reference:A,element:N,placement:a}),E=Zv(Object.assign({},N,O)),C=p===gu?E:A,D={top:w.top-C.top+x.top,bottom:C.bottom-w.bottom+x.bottom,left:w.left-C.left+x.left,right:C.right-w.right+x.right},k=e.modifiersData.offset;if(p===gu&&k){var T=k[a];Object.keys(D).forEach(function($){var I=[ra,ta].indexOf($)>=0?1:-1,V=[jn,ta].indexOf($)>=0?"y":"x";D[$]+=T[V]*I})}return D}function MT(e,t){t===void 0&&(t={});var r=t,n=r.placement,a=r.boundary,i=r.rootBoundary,o=r.padding,s=r.flipVariations,c=r.allowedAutoPlacements,u=c===void 0?nb:c,d=Ul(n),f=d?s?k1:k1.filter(function(v){return Ul(v)===d}):Gd,p=f.filter(function(v){return u.indexOf(v)>=0});p.length===0&&(p=f);var h=p.reduce(function(v,g){return v[g]=rd(e,{placement:g,boundary:a,rootBoundary:i,padding:o})[ai(g)],v},{});return Object.keys(h).sort(function(v,g){return h[v]-h[g]})}function $T(e){if(ai(e)===rb)return[];var t=bh(e);return[L1(e),t,L1(t)]}function DT(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var a=r.mainAxis,i=a===void 0?!0:a,o=r.altAxis,s=o===void 0?!0:o,c=r.fallbackPlacements,u=r.padding,d=r.boundary,f=r.rootBoundary,p=r.altBoundary,h=r.flipVariations,v=h===void 0?!0:h,g=r.allowedAutoPlacements,j=t.options.placement,x=ai(j),b=x===j,N=c||(b||!v?[bh(j)]:$T(j)),_=[j].concat(N).reduce(function(Q,ne){return Q.concat(ai(ne)===rb?MT(t,{placement:ne,boundary:d,rootBoundary:f,padding:u,flipVariations:v,allowedAutoPlacements:g}):ne)},[]),w=t.rects.reference,A=t.rects.popper,O=new Map,E=!0,C=_[0],D=0;D<_.length;D++){var k=_[D],T=ai(k),$=Ul(k)===Bl,I=[jn,ta].indexOf(T)>=0,V=I?"width":"height",F=rd(t,{placement:k,boundary:d,rootBoundary:f,altBoundary:p,padding:u}),B=I?$?ra:Nn:$?ta:jn;w[V]>A[V]&&(B=bh(B));var X=bh(B),Y=[];if(i&&Y.push(F[T]<=0),s&&Y.push(F[B]<=0,F[X]<=0),Y.every(function(Q){return Q})){C=k,E=!1;break}O.set(k,Y)}if(E)for(var Z=v?3:1,ae=function(ne){var oe=_.find(function(he){var de=O.get(he);if(de)return de.slice(0,ne).every(function(ie){return ie})});if(oe)return C=oe,"break"},M=Z;M>0;M--){var W=ae(M);if(W==="break")break}t.placement!==C&&(t.modifiersData[n]._skip=!0,t.placement=C,t.reset=!0)}}const IT={name:"flip",enabled:!0,phase:"main",fn:DT,requiresIfExists:["offset"],data:{_skip:!1}};function $1(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function D1(e){return[jn,ra,ta,Nn].some(function(t){return e[t]>=0})}function RT(e){var t=e.state,r=e.name,n=t.rects.reference,a=t.rects.popper,i=t.modifiersData.preventOverflow,o=rd(t,{elementContext:"reference"}),s=rd(t,{altBoundary:!0}),c=$1(o,n),u=$1(s,a,i),d=D1(c),f=D1(u);t.modifiersData[r]={referenceClippingOffsets:c,popperEscapeOffsets:u,isReferenceHidden:d,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":f})}const FT={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:RT};function BT(e,t,r){var n=ai(e),a=[Nn,jn].indexOf(n)>=0?-1:1,i=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,o=i[0],s=i[1];return o=o||0,s=(s||0)*a,[Nn,ra].indexOf(n)>=0?{x:s,y:o}:{x:o,y:s}}function zT(e){var t=e.state,r=e.options,n=e.name,a=r.offset,i=a===void 0?[0,0]:a,o=nb.reduce(function(d,f){return d[f]=BT(f,t.rects,i),d},{}),s=o[t.placement],c=s.x,u=s.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=u),t.modifiersData[n]=o}const qT={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:zT};function UT(e){var t=e.state,r=e.name;t.modifiersData[r]=WS({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const WT={name:"popperOffsets",enabled:!0,phase:"read",fn:UT,data:{}};function HT(e){return e==="x"?"y":"x"}function GT(e){var t=e.state,r=e.options,n=e.name,a=r.mainAxis,i=a===void 0?!0:a,o=r.altAxis,s=o===void 0?!1:o,c=r.boundary,u=r.rootBoundary,d=r.altBoundary,f=r.padding,p=r.tether,h=p===void 0?!0:p,v=r.tetherOffset,g=v===void 0?0:v,j=rd(t,{boundary:c,rootBoundary:u,padding:f,altBoundary:d}),x=ai(t.placement),b=Ul(t.placement),N=!b,_=ob(x),w=HT(_),A=t.modifiersData.popperOffsets,O=t.rects.reference,E=t.rects.popper,C=typeof g=="function"?g(Object.assign({},t.rects,{placement:t.placement})):g,D=typeof C=="number"?{mainAxis:C,altAxis:C}:Object.assign({mainAxis:0,altAxis:0},C),k=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,T={x:0,y:0};if(A){if(i){var $,I=_==="y"?jn:Nn,V=_==="y"?ta:ra,F=_==="y"?"height":"width",B=A[_],X=B+j[I],Y=B-j[V],Z=h?-E[F]/2:0,ae=b===Bl?O[F]:E[F],M=b===Bl?-E[F]:-O[F],W=t.elements.arrow,Q=h&&W?ib(W):{width:0,height:0},ne=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:BS(),oe=ne[I],he=ne[V],de=$u(0,O[F],Q[F]),ie=N?O[F]/2-Z-de-oe-D.mainAxis:ae-de-oe-D.mainAxis,xe=N?-O[F]/2+Z+de+he+D.mainAxis:M+de+he+D.mainAxis,be=t.elements.arrow&&Vd(t.elements.arrow),pe=be?_==="y"?be.clientTop||0:be.clientLeft||0:0,Ee=($=k==null?void 0:k[_])!=null?$:0,$e=B+ie-Ee-pe,ye=B+xe-Ee,re=$u(h?Lh(X,$e):X,B,h?ss(Y,ye):Y);A[_]=re,T[_]=re-B}if(s){var Ye,Be=_==="x"?jn:Nn,ke=_==="x"?ta:ra,Ce=A[w],De=w==="y"?"height":"width",Me=Ce+j[Be],Ve=Ce-j[ke],Ze=[jn,Nn].indexOf(x)!==-1,at=(Ye=k==null?void 0:k[w])!=null?Ye:0,pt=Ze?Me:Ce-O[De]-E[De]-at+D.altAxis,yt=Ze?Ce+O[De]+E[De]-at-D.altAxis:Ve,Ot=h&&Ze?gT(pt,Ce,yt):$u(h?pt:Me,Ce,h?yt:Ve);A[w]=Ot,T[w]=Ot-Ce}t.modifiersData[n]=T}}const VT={name:"preventOverflow",enabled:!0,phase:"main",fn:GT,requiresIfExists:["offset"]};function YT(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function KT(e){return e===In(e)||!ii(e)?sb(e):YT(e)}function XT(e){var t=e.getBoundingClientRect(),r=zl(t.width)/e.offsetWidth||1,n=zl(t.height)/e.offsetHeight||1;return r!==1||n!==1}function JT(e,t,r){r===void 0&&(r=!1);var n=ii(t),a=ii(t)&&XT(t),i=No(t),o=ql(e,a,r),s={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(n||!n&&!r)&&((go(t)!=="body"||cb(i))&&(s=KT(t)),ii(t)?(c=ql(t,!0),c.x+=t.clientLeft,c.y+=t.clientTop):i&&(c.x=lb(i))),{x:o.left+s.scrollLeft-c.x,y:o.top+s.scrollTop-c.y,width:o.width,height:o.height}}function ZT(e){var t=new Map,r=new Set,n=[];e.forEach(function(i){t.set(i.name,i)});function a(i){r.add(i.name);var o=[].concat(i.requires||[],i.requiresIfExists||[]);o.forEach(function(s){if(!r.has(s)){var c=t.get(s);c&&a(c)}}),n.push(i)}return e.forEach(function(i){r.has(i.name)||a(i)}),n}function QT(e){var t=ZT(e);return hT.reduce(function(r,n){return r.concat(t.filter(function(a){return a.phase===n}))},[])}function eC(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function tC(e){var t=e.reduce(function(r,n){var a=r[n.name];return r[n.name]=a?Object.assign({},a,n,{options:Object.assign({},a.options,n.options),data:Object.assign({},a.data,n.data)}):n,r},{});return Object.keys(t).map(function(r){return t[r]})}var I1={placement:"bottom",modifiers:[],strategy:"absolute"};function R1(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function rC(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,n=r===void 0?[]:r,a=t.defaultOptions,i=a===void 0?I1:a;return function(s,c,u){u===void 0&&(u=i);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},I1,i),modifiersData:{},elements:{reference:s,popper:c},attributes:{},styles:{}},f=[],p=!1,h={state:d,setOptions:function(x){var b=typeof x=="function"?x(d.options):x;g(),d.options=Object.assign({},i,d.options,b),d.scrollParents={reference:bs(s)?Du(s):s.contextElement?Du(s.contextElement):[],popper:Du(c)};var N=QT(tC([].concat(n,d.options.modifiers)));return d.orderedModifiers=N.filter(function(_){return _.enabled}),v(),h.update()},forceUpdate:function(){if(!p){var x=d.elements,b=x.reference,N=x.popper;if(R1(b,N)){d.rects={reference:JT(b,Vd(N),d.options.strategy==="fixed"),popper:ib(N)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(D){return d.modifiersData[D.name]=Object.assign({},D.data)});for(var _=0;_<d.orderedModifiers.length;_++){if(d.reset===!0){d.reset=!1,_=-1;continue}var w=d.orderedModifiers[_],A=w.fn,O=w.options,E=O===void 0?{}:O,C=w.name;typeof A=="function"&&(d=A({state:d,options:E,name:C,instance:h})||d)}}}},update:eC(function(){return new Promise(function(j){h.forceUpdate(),j(d)})}),destroy:function(){g(),p=!0}};if(!R1(s,c))return h;h.setOptions(u).then(function(j){!p&&u.onFirstUpdate&&u.onFirstUpdate(j)});function v(){d.orderedModifiers.forEach(function(j){var x=j.name,b=j.options,N=b===void 0?{}:b,_=j.effect;if(typeof _=="function"){var w=_({state:d,name:x,instance:h,options:N}),A=function(){};f.push(w||A)}})}function g(){f.forEach(function(j){return j()}),f=[]}return h}}var nC=rC({defaultModifiers:[FT,WT,ST,AT,qT,IT,VT,xT]}),F1=function(t){return{position:t,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},aC={name:"applyStyles",enabled:!1},iC={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(t){var r=t.state;return function(){var n=r.elements,a=n.reference,i=n.popper;if("removeAttribute"in a){var o=(a.getAttribute("aria-describedby")||"").split(",").filter(function(s){return s.trim()!==i.id});o.length?a.setAttribute("aria-describedby",o.join(",")):a.removeAttribute("aria-describedby")}}},fn:function(t){var r,n=t.state,a=n.elements,i=a.popper,o=a.reference,s=(r=i.getAttribute("role"))==null?void 0:r.toLowerCase();if(i.id&&s==="tooltip"&&"setAttribute"in o){var c=o.getAttribute("aria-describedby");if(c&&c.split(",").indexOf(i.id)!==-1)return;o.setAttribute("aria-describedby",c?c+","+i.id:i.id)}}},oC=[];function sC(e,t,r){var n=r===void 0?{}:r,a=n.enabled,i=a===void 0?!0:a,o=n.placement,s=o===void 0?"bottom":o,c=n.strategy,u=c===void 0?"absolute":c,d=n.modifiers,f=d===void 0?oC:d,p=zp(n,["enabled","placement","strategy","modifiers"]),h=R.useRef(),v=R.useCallback(function(){var _;(_=h.current)==null||_.update()},[]),g=R.useCallback(function(){var _;(_=h.current)==null||_.forceUpdate()},[]),j=tT(R.useState({placement:s,update:v,forceUpdate:g,attributes:{},styles:{popper:F1(u),arrow:{}}})),x=j[0],b=j[1],N=R.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(w){var A=w.state,O={},E={};Object.keys(A.elements).forEach(function(C){O[C]=A.styles[C],E[C]=A.attributes[C]}),b({state:A,styles:O,attributes:E,update:v,forceUpdate:g,placement:A.placement})}}},[v,g,b]);return R.useEffect(function(){!h.current||!i||h.current.setOptions({placement:s,strategy:u,modifiers:[].concat(f,[N,aC])})},[u,s,N,i]),R.useEffect(function(){if(!(!i||e==null||t==null))return h.current=nC(e,t,or({},p,{placement:s,strategy:u,modifiers:[].concat(f,[iC,N])})),function(){h.current!=null&&(h.current.destroy(),h.current=void 0,b(function(_){return or({},_,{attributes:{},styles:{popper:F1(u)}})}))}},[i,e,t]),x}function lC(e,t,r,n){var a=n&&typeof n!="boolean"?n.capture:n;e.removeEventListener(t,r,a),r.__once&&e.removeEventListener(t,r.__once,a)}function Cu(e,t,r,n){return Zk(e,t,r,n),function(){lC(e,t,r,n)}}var cC=function(){},uC=cC;const dC=wt(uC);function fC(e){return e&&"setState"in e?rS.findDOMNode(e):e??null}const hC=function(e){return Hd(fC(e))};var pC=27,B1=function(){};function mC(e){return e.button===0}function gC(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var z1=function(t){return t&&("current"in t?t.current:t)};function vC(e,t,r){var n=r===void 0?{}:r,a=n.disabled,i=n.clickTrigger,o=i===void 0?"click":i,s=R.useRef(!1),c=t||B1,u=R.useCallback(function(p){var h,v=z1(e);dC(!!v,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),s.current=!v||gC(p)||!mC(p)||!!ed(v,(h=p.composedPath==null?void 0:p.composedPath()[0])!=null?h:p.target)},[e]),d=P1(function(p){s.current||c(p)}),f=P1(function(p){p.keyCode===pC&&c(p)});R.useEffect(function(){if(!(a||e==null)){var p=window.event,h=hC(z1(e)),v=Cu(h,o,u,!0),g=Cu(h,o,function(b){if(b===p){p=void 0;return}d(b)}),j=Cu(h,"keyup",function(b){if(b===p){p=void 0;return}f(b)}),x=[];return"ontouchstart"in h.documentElement&&(x=[].slice.call(h.body.children).map(function(b){return Cu(b,"mousemove",B1)})),function(){v(),g(),j(),x.forEach(function(b){return b()})}}},[e,a,o,u,d,f])}function yC(e){var t={};return Array.isArray(e)?(e==null||e.forEach(function(r){t[r.name]=r}),t):e||t}function bC(e){return e===void 0&&(e={}),Array.isArray(e)?e:Object.keys(e).map(function(t){return e[t].name=t,e[t]})}function xC(e){var t,r,n,a,i=e.enabled,o=e.enableEvents,s=e.placement,c=e.flip,u=e.offset,d=e.fixed,f=e.containerPadding,p=e.arrowElement,h=e.popperConfig,v=h===void 0?{}:h,g=yC(v.modifiers);return or({},v,{placement:s,enabled:i,strategy:d?"fixed":v.strategy,modifiers:bC(or({},g,{eventListeners:{enabled:o},preventOverflow:or({},g.preventOverflow,{options:f?or({padding:f},(t=g.preventOverflow)==null?void 0:t.options):(r=g.preventOverflow)==null?void 0:r.options}),offset:{options:or({offset:u},(n=g.offset)==null?void 0:n.options)},arrow:or({},g.arrow,{enabled:!!p,options:or({},(a=g.arrow)==null?void 0:a.options,{element:p})}),flip:or({enabled:!!c},g.flip)}))})}function wC(e,t){return e.classList?e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function jC(e,t){e.classList?e.classList.add(t):wC(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function q1(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function NC(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=q1(e.className,t):e.setAttribute("class",q1(e.className&&e.className.baseVal||"",t))}var Kf;function ub(e){if((!Kf&&Kf!==0||e)&&tb){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),Kf=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return Kf}var Kg=function(t){var r;return typeof document>"u"?null:t==null?Hd().body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),(r=t)!=null&&r.nodeType&&t||null)};function U1(e,t){var r=R.useState(function(){return Kg(e)}),n=r[0],a=r[1];if(!n){var i=Kg(e);i&&a(i)}return R.useEffect(function(){},[t,n]),R.useEffect(function(){var o=Kg(e);o!==n&&a(o)},[e,n]),n}const W1=e=>!e||typeof e=="function"?e:t=>{e.current=t};function SC(e,t){const r=W1(e),n=W1(t);return a=>{r&&r(a),n&&n(a)}}function _C(e,t){return R.useMemo(()=>SC(e,t),[e,t])}var db=U.forwardRef(function(e,t){var r=e.flip,n=e.offset,a=e.placement,i=e.containerPadding,o=i===void 0?5:i,s=e.popperConfig,c=s===void 0?{}:s,u=e.transition,d=E1(),f=d[0],p=d[1],h=E1(),v=h[0],g=h[1],j=_C(p,t),x=U1(e.container),b=U1(e.target),N=R.useState(!e.show),_=N[0],w=N[1],A=sC(b,f,xC({placement:a,enableEvents:!!e.show,containerPadding:o||5,flip:r,offset:n,arrowElement:v,popperConfig:c})),O=A.styles,E=A.attributes,C=zp(A,["styles","attributes"]);e.show?_&&w(!1):!e.transition&&!_&&w(!0);var D=function(){w(!0),e.onExited&&e.onExited.apply(e,arguments)},k=e.show||u&&!_;if(vC(f,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!k)return null;var T=e.children(or({},C,{show:!!e.show,props:or({},E.popper,{style:O.popper,ref:j}),arrowProps:or({},E.arrow,{style:O.arrow,ref:g})}));if(u){var $=e.onExit,I=e.onExiting,V=e.onEnter,F=e.onEntering,B=e.onEntered;T=U.createElement(u,{in:e.show,appear:!0,onExit:$,onExiting:I,onExited:D,onEnter:V,onEntering:F,onEntered:B},T)}return x?rS.createPortal(T,x):null});db.displayName="Overlay";db.propTypes={show:Se.bool,placement:Se.oneOf(nb),target:Se.any,container:Se.any,flip:Se.bool,children:Se.func.isRequired,containerPadding:Se.number,popperConfig:Se.object,rootClose:Se.bool,rootCloseEvent:Se.oneOf(["click","mousedown"]),rootCloseDisabled:Se.bool,onHide:function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];if(t.rootClose){var i;return(i=Se.func).isRequired.apply(i,[t].concat(n))}return Se.func.apply(Se,[t].concat(n))},transition:Se.elementType,onEnter:Se.func,onEntering:Se.func,onEntered:Se.func,onExit:Se.func,onExiting:Se.func,onExited:Se.func};function AC(){this.__data__=[],this.size=0}var OC=AC,PC=Wd;function EC(e,t){for(var r=e.length;r--;)if(PC(e[r][0],t))return r;return-1}var Hp=EC,kC=Hp,TC=Array.prototype,CC=TC.splice;function LC(e){var t=this.__data__,r=kC(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():CC.call(t,r,1),--this.size,!0}var MC=LC,$C=Hp;function DC(e){var t=this.__data__,r=$C(t,e);return r<0?void 0:t[r][1]}var IC=DC,RC=Hp;function FC(e){return RC(this.__data__,e)>-1}var BC=FC,zC=Hp;function qC(e,t){var r=this.__data__,n=zC(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var UC=qC,WC=OC,HC=MC,GC=IC,VC=BC,YC=UC;function Sc(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Sc.prototype.clear=WC;Sc.prototype.delete=HC;Sc.prototype.get=GC;Sc.prototype.has=VC;Sc.prototype.set=YC;var Gp=Sc,KC=Gp;function XC(){this.__data__=new KC,this.size=0}var JC=XC;function ZC(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var QC=ZC;function eL(e){return this.__data__.get(e)}var tL=eL;function rL(e){return this.__data__.has(e)}var nL=rL,aL=Ca,iL=aL["__core-js_shared__"],oL=iL,Xg=oL,H1=function(){var e=/[^.]+$/.exec(Xg&&Xg.keys&&Xg.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function sL(e){return!!H1&&H1 in e}var lL=sL,cL=Function.prototype,uL=cL.toString;function dL(e){if(e!=null){try{return uL.call(e)}catch{}try{return e+""}catch{}}return""}var HS=dL,fL=Up,hL=lL,pL=aa,mL=HS,gL=/[\\^$.*+?()[\]{}|]/g,vL=/^\[object .+?Constructor\]$/,yL=Function.prototype,bL=Object.prototype,xL=yL.toString,wL=bL.hasOwnProperty,jL=RegExp("^"+xL.call(wL).replace(gL,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function NL(e){if(!pL(e)||hL(e))return!1;var t=fL(e)?jL:vL;return t.test(mL(e))}var SL=NL;function _L(e,t){return e==null?void 0:e[t]}var AL=_L,OL=SL,PL=AL;function EL(e,t){var r=PL(e,t);return OL(r)?r:void 0}var ks=EL,kL=ks,TL=Ca,CL=kL(TL,"Map"),fb=CL,LL=ks,ML=LL(Object,"create"),Vp=ML,G1=Vp;function $L(){this.__data__=G1?G1(null):{},this.size=0}var DL=$L;function IL(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var RL=IL,FL=Vp,BL="__lodash_hash_undefined__",zL=Object.prototype,qL=zL.hasOwnProperty;function UL(e){var t=this.__data__;if(FL){var r=t[e];return r===BL?void 0:r}return qL.call(t,e)?t[e]:void 0}var WL=UL,HL=Vp,GL=Object.prototype,VL=GL.hasOwnProperty;function YL(e){var t=this.__data__;return HL?t[e]!==void 0:VL.call(t,e)}var KL=YL,XL=Vp,JL="__lodash_hash_undefined__";function ZL(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=XL&&t===void 0?JL:t,this}var QL=ZL,eM=DL,tM=RL,rM=WL,nM=KL,aM=QL;function _c(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}_c.prototype.clear=eM;_c.prototype.delete=tM;_c.prototype.get=rM;_c.prototype.has=nM;_c.prototype.set=aM;var iM=_c,V1=iM,oM=Gp,sM=fb;function lM(){this.size=0,this.__data__={hash:new V1,map:new(sM||oM),string:new V1}}var cM=lM;function uM(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var dM=uM,fM=dM;function hM(e,t){var r=e.__data__;return fM(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Yp=hM,pM=Yp;function mM(e){var t=pM(this,e).delete(e);return this.size-=t?1:0,t}var gM=mM,vM=Yp;function yM(e){return vM(this,e).get(e)}var bM=yM,xM=Yp;function wM(e){return xM(this,e).has(e)}var jM=wM,NM=Yp;function SM(e,t){var r=NM(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var _M=SM,AM=cM,OM=gM,PM=bM,EM=jM,kM=_M;function Ac(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ac.prototype.clear=AM;Ac.prototype.delete=OM;Ac.prototype.get=PM;Ac.prototype.has=EM;Ac.prototype.set=kM;var hb=Ac,TM=Gp,CM=fb,LM=hb,MM=200;function $M(e,t){var r=this.__data__;if(r instanceof TM){var n=r.__data__;if(!CM||n.length<MM-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new LM(n)}return r.set(e,t),this.size=r.size,this}var DM=$M,IM=Gp,RM=JC,FM=QC,BM=tL,zM=nL,qM=DM;function Oc(e){var t=this.__data__=new IM(e);this.size=t.size}Oc.prototype.clear=RM;Oc.prototype.delete=FM;Oc.prototype.get=BM;Oc.prototype.has=zM;Oc.prototype.set=qM;var pb=Oc,UM="__lodash_hash_undefined__";function WM(e){return this.__data__.set(e,UM),this}var HM=WM;function GM(e){return this.__data__.has(e)}var VM=GM,YM=hb,KM=HM,XM=VM;function Mh(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new YM;++t<r;)this.add(e[t])}Mh.prototype.add=Mh.prototype.push=KM;Mh.prototype.has=XM;var GS=Mh;function JM(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var VS=JM;function ZM(e,t){return e.has(t)}var YS=ZM,QM=GS,e$=VS,t$=YS,r$=1,n$=2;function a$(e,t,r,n,a,i){var o=r&r$,s=e.length,c=t.length;if(s!=c&&!(o&&c>s))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,p=!0,h=r&n$?new QM:void 0;for(i.set(e,t),i.set(t,e);++f<s;){var v=e[f],g=t[f];if(n)var j=o?n(g,v,f,t,e,i):n(v,g,f,e,t,i);if(j!==void 0){if(j)continue;p=!1;break}if(h){if(!e$(t,function(x,b){if(!t$(h,b)&&(v===x||a(v,x,r,n,i)))return h.push(b)})){p=!1;break}}else if(!(v===g||a(v,g,r,n,i))){p=!1;break}}return i.delete(e),i.delete(t),p}var KS=a$,i$=Ca,o$=i$.Uint8Array,XS=o$;function s$(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var l$=s$;function c$(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var mb=c$,Y1=bc,K1=XS,u$=Wd,d$=KS,f$=l$,h$=mb,p$=1,m$=2,g$="[object Boolean]",v$="[object Date]",y$="[object Error]",b$="[object Map]",x$="[object Number]",w$="[object RegExp]",j$="[object Set]",N$="[object String]",S$="[object Symbol]",_$="[object ArrayBuffer]",A$="[object DataView]",X1=Y1?Y1.prototype:void 0,Jg=X1?X1.valueOf:void 0;function O$(e,t,r,n,a,i,o){switch(r){case A$:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case _$:return!(e.byteLength!=t.byteLength||!i(new K1(e),new K1(t)));case g$:case v$:case x$:return u$(+e,+t);case y$:return e.name==t.name&&e.message==t.message;case w$:case N$:return e==t+"";case b$:var s=f$;case j$:var c=n&p$;if(s||(s=h$),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=m$,o.set(e,t);var d=d$(s(e),s(t),n,a,i,o);return o.delete(e),d;case S$:if(Jg)return Jg.call(e)==Jg.call(t)}return!1}var P$=O$;function E$(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var gb=E$,k$=Array.isArray,rn=k$,T$=gb,C$=rn;function L$(e,t,r){var n=t(e);return C$(e)?n:T$(n,r(e))}var JS=L$;function M$(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}var $$=M$;function D$(){return[]}var ZS=D$,I$=$$,R$=ZS,F$=Object.prototype,B$=F$.propertyIsEnumerable,J1=Object.getOwnPropertySymbols,z$=J1?function(e){return e==null?[]:(e=Object(e),I$(J1(e),function(t){return B$.call(e,t)}))}:R$,vb=z$;function q$(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var U$=q$,W$=Fi,H$=La,G$="[object Arguments]";function V$(e){return H$(e)&&W$(e)==G$}var Y$=V$,Z1=Y$,K$=La,QS=Object.prototype,X$=QS.hasOwnProperty,J$=QS.propertyIsEnumerable,Z$=Z1(function(){return arguments}())?Z1:function(e){return K$(e)&&X$.call(e,"callee")&&!J$.call(e,"callee")},yb=Z$,$h={exports:{}};function Q$(){return!1}var e8=Q$;$h.exports;(function(e,t){var r=Ca,n=e8,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,s=o?r.Buffer:void 0,c=s?s.isBuffer:void 0,u=c||n;e.exports=u})($h,$h.exports);var Kp=$h.exports,t8=Fi,r8=Zy,n8=La,a8="[object Arguments]",i8="[object Array]",o8="[object Boolean]",s8="[object Date]",l8="[object Error]",c8="[object Function]",u8="[object Map]",d8="[object Number]",f8="[object Object]",h8="[object RegExp]",p8="[object Set]",m8="[object String]",g8="[object WeakMap]",v8="[object ArrayBuffer]",y8="[object DataView]",b8="[object Float32Array]",x8="[object Float64Array]",w8="[object Int8Array]",j8="[object Int16Array]",N8="[object Int32Array]",S8="[object Uint8Array]",_8="[object Uint8ClampedArray]",A8="[object Uint16Array]",O8="[object Uint32Array]",Yt={};Yt[b8]=Yt[x8]=Yt[w8]=Yt[j8]=Yt[N8]=Yt[S8]=Yt[_8]=Yt[A8]=Yt[O8]=!0;Yt[a8]=Yt[i8]=Yt[v8]=Yt[o8]=Yt[y8]=Yt[s8]=Yt[l8]=Yt[c8]=Yt[u8]=Yt[d8]=Yt[f8]=Yt[h8]=Yt[p8]=Yt[m8]=Yt[g8]=!1;function P8(e){return n8(e)&&r8(e.length)&&!!Yt[t8(e)]}var E8=P8;function k8(e){return function(t){return e(t)}}var Xp=k8,Dh={exports:{}};Dh.exports;(function(e,t){var r=OS,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,o=i&&r.process,s=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=s})(Dh,Dh.exports);var bb=Dh.exports,T8=E8,C8=Xp,Q1=bb,e2=Q1&&Q1.isTypedArray,L8=e2?C8(e2):T8,xb=L8,M8=U$,$8=yb,D8=rn,I8=Kp,R8=Qy,F8=xb,B8=Object.prototype,z8=B8.hasOwnProperty;function q8(e,t){var r=D8(e),n=!r&&$8(e),a=!r&&!n&&I8(e),i=!r&&!n&&!a&&F8(e),o=r||n||a||i,s=o?M8(e.length,String):[],c=s.length;for(var u in e)(t||z8.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||R8(u,c)))&&s.push(u);return s}var e_=q8,U8=Object.prototype;function W8(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||U8;return e===r}var wb=W8;function H8(e,t){return function(r){return e(t(r))}}var t_=H8,G8=t_,V8=G8(Object.keys,Object),Y8=V8,K8=wb,X8=Y8,J8=Object.prototype,Z8=J8.hasOwnProperty;function Q8(e){if(!K8(e))return X8(e);var t=[];for(var r in Object(e))Z8.call(e,r)&&r!="constructor"&&t.push(r);return t}var eD=Q8,tD=e_,rD=eD,nD=wc;function aD(e){return nD(e)?tD(e):rD(e)}var Pc=aD,iD=JS,oD=vb,sD=Pc;function lD(e){return iD(e,sD,oD)}var r_=lD,t2=r_,cD=1,uD=Object.prototype,dD=uD.hasOwnProperty;function fD(e,t,r,n,a,i){var o=r&cD,s=t2(e),c=s.length,u=t2(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var p=s[f];if(!(o?p in t:dD.call(t,p)))return!1}var h=i.get(e),v=i.get(t);if(h&&v)return h==t&&v==e;var g=!0;i.set(e,t),i.set(t,e);for(var j=o;++f<c;){p=s[f];var x=e[p],b=t[p];if(n)var N=o?n(b,x,p,t,e,i):n(x,b,p,e,t,i);if(!(N===void 0?x===b||a(x,b,r,n,i):N)){g=!1;break}j||(j=p=="constructor")}if(g&&!j){var _=e.constructor,w=t.constructor;_!=w&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof w=="function"&&w instanceof w)&&(g=!1)}return i.delete(e),i.delete(t),g}var hD=fD,pD=ks,mD=Ca,gD=pD(mD,"DataView"),vD=gD,yD=ks,bD=Ca,xD=yD(bD,"Promise"),wD=xD,jD=ks,ND=Ca,SD=jD(ND,"Set"),n_=SD,_D=ks,AD=Ca,OD=_D(AD,"WeakMap"),PD=OD,Qv=vD,e0=fb,t0=wD,r0=n_,n0=PD,a_=Fi,Ec=HS,r2="[object Map]",ED="[object Object]",n2="[object Promise]",a2="[object Set]",i2="[object WeakMap]",o2="[object DataView]",kD=Ec(Qv),TD=Ec(e0),CD=Ec(t0),LD=Ec(r0),MD=Ec(n0),Vo=a_;(Qv&&Vo(new Qv(new ArrayBuffer(1)))!=o2||e0&&Vo(new e0)!=r2||t0&&Vo(t0.resolve())!=n2||r0&&Vo(new r0)!=a2||n0&&Vo(new n0)!=i2)&&(Vo=function(e){var t=a_(e),r=t==ED?e.constructor:void 0,n=r?Ec(r):"";if(n)switch(n){case kD:return o2;case TD:return r2;case CD:return n2;case LD:return a2;case MD:return i2}return t});var Jp=Vo,Zg=pb,$D=KS,DD=P$,ID=hD,s2=Jp,l2=rn,c2=Kp,RD=xb,FD=1,u2="[object Arguments]",d2="[object Array]",Xf="[object Object]",BD=Object.prototype,f2=BD.hasOwnProperty;function zD(e,t,r,n,a,i){var o=l2(e),s=l2(t),c=o?d2:s2(e),u=s?d2:s2(t);c=c==u2?Xf:c,u=u==u2?Xf:u;var d=c==Xf,f=u==Xf,p=c==u;if(p&&c2(e)){if(!c2(t))return!1;o=!0,d=!1}if(p&&!d)return i||(i=new Zg),o||RD(e)?$D(e,t,r,n,a,i):DD(e,t,c,r,n,a,i);if(!(r&FD)){var h=d&&f2.call(e,"__wrapped__"),v=f&&f2.call(t,"__wrapped__");if(h||v){var g=h?e.value():e,j=v?t.value():t;return i||(i=new Zg),a(g,j,r,n,i)}}return p?(i||(i=new Zg),ID(e,t,r,n,a,i)):!1}var qD=zD,UD=qD,h2=La;function i_(e,t,r,n,a){return e===t?!0:e==null||t==null||!h2(e)&&!h2(t)?e!==e&&t!==t:UD(e,t,r,n,i_,a)}var jb=i_,WD=jb;function HD(e,t){return WD(e,t)}var GD=HD;const xs=wt(GD);function Qg(e,t){var r=eb(e);return r?r.innerHeight:os(e).height}function o_(e,t,r){e.closest&&!r&&e.closest(t);var n=e;do{if(Kk(n,t))return n;n=n.parentElement}while(n&&n!==r&&n.nodeType===document.ELEMENT_NODE);return null}function VD(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var s_=VD,YD=pb,KD=jb,XD=1,JD=2;function ZD(e,t,r,n){var a=r.length,i=a,o=!n;if(e==null)return!i;for(e=Object(e);a--;){var s=r[a];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<i;){s=r[a];var c=s[0],u=e[c],d=s[1];if(o&&s[2]){if(u===void 0&&!(c in e))return!1}else{var f=new YD;if(n)var p=n(u,d,c,e,t,f);if(!(p===void 0?KD(d,u,XD|JD,n,f):p))return!1}}return!0}var QD=ZD,eI=aa;function tI(e){return e===e&&!eI(e)}var l_=tI,rI=l_,nI=Pc;function aI(e){for(var t=nI(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,rI(a)]}return t}var iI=aI;function oI(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var c_=oI,sI=QD,lI=iI,cI=c_;function uI(e){var t=lI(e);return t.length==1&&t[0][2]?cI(t[0][0],t[0][1]):function(r){return r===e||sI(r,e,t)}}var dI=uI,fI=rn,hI=Nc,pI=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,mI=/^\w*$/;function gI(e,t){if(fI(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||hI(e)?!0:mI.test(e)||!pI.test(e)||t!=null&&e in Object(t)}var Nb=gI,u_=hb,vI="Expected a function";function Sb(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(vI);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(Sb.Cache||u_),r}Sb.Cache=u_;var d_=Sb;const yI=wt(d_);var bI=d_,xI=500;function wI(e){var t=bI(e,function(n){return r.size===xI&&r.clear(),n}),r=t.cache;return t}var jI=wI,NI=jI,SI=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_I=/\\(\\)?/g,AI=NI(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(SI,function(r,n,a,i){t.push(a?i.replace(_I,"$1"):n||r)}),t}),OI=AI;function PI(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var Zp=PI,p2=bc,EI=Zp,kI=rn,TI=Nc,m2=p2?p2.prototype:void 0,g2=m2?m2.toString:void 0;function f_(e){if(typeof e=="string")return e;if(kI(e))return EI(e,f_)+"";if(TI(e))return g2?g2.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var CI=f_,LI=CI;function MI(e){return e==null?"":LI(e)}var h_=MI,$I=rn,DI=Nb,II=OI,RI=h_;function FI(e,t){return $I(e)?e:DI(e,t)?[e]:II(RI(e))}var Qp=FI,BI=Nc;function zI(e){if(typeof e=="string"||BI(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Yd=zI,qI=Qp,UI=Yd;function WI(e,t){t=qI(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[UI(t[r++])];return r&&r==n?e:void 0}var em=WI,HI=em;function GI(e,t,r){var n=e==null?void 0:HI(e,t);return n===void 0?r:n}var p_=GI;const Dn=wt(p_);function VI(e,t){return e!=null&&t in Object(e)}var YI=VI,KI=Qp,XI=yb,JI=rn,ZI=Qy,QI=Zy,e7=Yd;function t7(e,t,r){t=KI(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var o=e7(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&QI(a)&&ZI(o,a)&&(JI(e)||XI(e)))}var r7=t7,n7=YI,a7=r7;function i7(e,t){return e!=null&&a7(e,t,n7)}var o7=i7,s7=jb,l7=p_,c7=o7,u7=Nb,d7=l_,f7=c_,h7=Yd,p7=1,m7=2;function g7(e,t){return u7(e)&&d7(t)?f7(h7(e),t):function(r){var n=l7(r,e);return n===void 0&&n===t?c7(r,e):s7(t,n,p7|m7)}}var v7=g7;function y7(e){return e}var kc=y7;function b7(e){return function(t){return t==null?void 0:t[e]}}var x7=b7,w7=em;function j7(e){return function(t){return w7(t,e)}}var N7=j7,S7=x7,_7=N7,A7=Nb,O7=Yd;function P7(e){return A7(e)?S7(O7(e)):_7(e)}var E7=P7,k7=dI,T7=v7,C7=kc,L7=rn,M7=E7;function $7(e){return typeof e=="function"?e:e==null?C7:typeof e=="object"?L7(e)?T7(e[0],e[1]):k7(e):M7(e)}var Ma=$7,D7=s_,I7=Ma,R7=TS,F7=Math.max;function B7(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:R7(r);return a<0&&(a=F7(n+a,0)),D7(e,I7(t),a)}var m_=B7;const z7=wt(m_);var q7=Math.ceil,U7=Math.max;function W7(e,t,r,n){for(var a=-1,i=U7(q7((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++a]=e,e+=r;return o}var H7=W7,G7=H7,V7=jc,ev=kS;function Y7(e){return function(t,r,n){return n&&typeof n!="number"&&V7(t,r,n)&&(r=n=void 0),t=ev(t),r===void 0?(r=t,t=0):r=ev(r),n=n===void 0?t<r?1:-1:ev(n),G7(t,r,n,e)}}var K7=Y7,X7=K7,J7=X7(),Z7=J7;const nd=wt(Z7);var v2=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function Q7(e,t){return!!(e===t||v2(e)&&v2(t))}function eR(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!Q7(e[r],t[r]))return!1;return!0}function g_(e,t){t===void 0&&(t=eR);var r=null;function n(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];if(r&&r.lastThis===this&&t(a,r.lastArgs))return r.lastResult;var o=e.apply(this,a);return r={lastResult:o,lastArgs:a,lastThis:this},o}return n.clear=function(){r=null},n}function a0(e,t){var r=eb(e);return r?r.innerWidth:os(e).width}var y2=bc,tR=yb,rR=rn,b2=y2?y2.isConcatSpreadable:void 0;function nR(e){return rR(e)||tR(e)||!!(b2&&e&&e[b2])}var aR=nR,iR=gb,oR=aR;function v_(e,t,r,n,a){var i=-1,o=e.length;for(r||(r=oR),a||(a=[]);++i<o;){var s=e[i];t>0&&r(s)?t>1?v_(s,t-1,r,n,a):iR(a,s):n||(a[a.length]=s)}return a}var _b=v_;function sR(e){return function(t,r,n){for(var a=-1,i=Object(t),o=n(t),s=o.length;s--;){var c=o[e?s:++a];if(r(i[c],c,i)===!1)break}return t}}var lR=sR,cR=lR,uR=cR(),dR=uR,fR=dR,hR=Pc;function pR(e,t){return e&&fR(e,t,hR)}var Ab=pR,mR=wc;function gR(e,t){return function(r,n){if(r==null)return r;if(!mR(r))return e(r,n);for(var a=r.length,i=t?a:-1,o=Object(r);(t?i--:++i<a)&&n(o[i],i,o)!==!1;);return r}}var vR=gR,yR=Ab,bR=vR,xR=bR(yR),Ob=xR,wR=Ob,jR=wc;function NR(e,t){var r=-1,n=jR(e)?Array(e.length):[];return wR(e,function(a,i,o){n[++r]=t(a,i,o)}),n}var y_=NR;function SR(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var _R=SR,x2=Nc;function AR(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=x2(e),o=t!==void 0,s=t===null,c=t===t,u=x2(t);if(!s&&!u&&!i&&e>t||i&&o&&c&&!s&&!u||n&&o&&c||!r&&c||!a)return 1;if(!n&&!i&&!u&&e<t||u&&r&&a&&!n&&!i||s&&r&&a||!o&&a||!c)return-1}return 0}var OR=AR,PR=OR;function ER(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,o=a.length,s=r.length;++n<o;){var c=PR(a[n],i[n]);if(c){if(n>=s)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var kR=ER,tv=Zp,TR=em,CR=Ma,LR=y_,MR=_R,$R=Xp,DR=kR,IR=kc,RR=rn;function FR(e,t,r){t.length?t=tv(t,function(i){return RR(i)?function(o){return TR(o,i.length===1?i[0]:i)}:i}):t=[IR];var n=-1;t=tv(t,$R(CR));var a=LR(e,function(i,o,s){var c=tv(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return MR(a,function(i,o){return DR(i,o,r)})}var BR=FR;function zR(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var qR=zR,UR=qR,w2=Math.max;function WR(e,t,r){return t=w2(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=w2(n.length-t,0),o=Array(i);++a<i;)o[a]=n[t+a];a=-1;for(var s=Array(t+1);++a<t;)s[a]=n[a];return s[t]=r(o),UR(e,this,s)}}var b_=WR;function HR(e){return function(){return e}}var GR=HR,VR=ks,YR=function(){try{var e=VR(Object,"defineProperty");return e({},"",{}),e}catch{}}(),x_=YR,KR=GR,j2=x_,XR=kc,JR=j2?function(e,t){return j2(e,"toString",{configurable:!0,enumerable:!1,value:KR(t),writable:!0})}:XR,ZR=JR,QR=800,eF=16,tF=Date.now;function rF(e){var t=0,r=0;return function(){var n=tF(),a=eF-(n-r);if(r=n,a>0){if(++t>=QR)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var nF=rF,aF=ZR,iF=nF,oF=iF(aF),w_=oF,sF=kc,lF=b_,cF=w_;function uF(e,t){return cF(lF(e,t,sF),e+"")}var j_=uF,dF=_b,fF=BR,hF=j_,N2=jc,pF=hF(function(e,t){if(e==null)return[];var r=t.length;return r>1&&N2(e,t[0],t[1])?t=[]:r>2&&N2(t[0],t[1],t[2])&&(t=[t[0]]),fF(e,dF(t,1),[])}),mF=pF;const tm=wt(mF);function N_(e){return fS(e)||AS(e)||Yy(e)||hS()}function gF(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var vF=gF,yF=aa,bF=wb,xF=vF,wF=Object.prototype,jF=wF.hasOwnProperty;function NF(e){if(!yF(e))return xF(e);var t=bF(e),r=[];for(var n in e)n=="constructor"&&(t||!jF.call(e,n))||r.push(n);return r}var SF=NF,_F=e_,AF=SF,OF=wc;function PF(e){return OF(e)?_F(e,!0):AF(e)}var rm=PF,EF=j_,kF=Wd,TF=jc,CF=rm,S_=Object.prototype,LF=S_.hasOwnProperty,MF=EF(function(e,t){e=Object(e);var r=-1,n=t.length,a=n>2?t[2]:void 0;for(a&&TF(t[0],t[1],a)&&(n=1);++r<n;)for(var i=t[r],o=CF(i),s=-1,c=o.length;++s<c;){var u=o[s],d=e[u];(d===void 0||kF(d,S_[u])&&!LF.call(e,u))&&(e[u]=i[u])}return e}),$F=MF;const DF=wt($F);var S2=x_;function IF(e,t,r){t=="__proto__"&&S2?S2(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var Pb=IF,RF=Pb,FF=Ab,BF=Ma;function zF(e,t){var r={};return t=BF(t),FF(e,function(n,a,i){RF(r,a,t(n,a,i))}),r}var qF=zF;const __=wt(qF);function UF(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var A_=UF,WF=Pb,HF=Wd,GF=Object.prototype,VF=GF.hasOwnProperty;function YF(e,t,r){var n=e[t];(!(VF.call(e,t)&&HF(n,r))||r===void 0&&!(t in e))&&WF(e,t,r)}var O_=YF,KF=O_,XF=Pb;function JF(e,t,r,n){var a=!r;r||(r={});for(var i=-1,o=t.length;++i<o;){var s=t[i],c=n?n(r[s],e[s],s,r,e):void 0;c===void 0&&(c=e[s]),a?XF(r,s,c):KF(r,s,c)}return r}var Kd=JF,ZF=Kd,QF=Pc;function eB(e,t){return e&&ZF(t,QF(t),e)}var tB=eB,rB=Kd,nB=rm;function aB(e,t){return e&&rB(t,nB(t),e)}var iB=aB,Ih={exports:{}};Ih.exports;(function(e,t){var r=Ca,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,o=i?r.Buffer:void 0,s=o?o.allocUnsafe:void 0;function c(u,d){if(d)return u.slice();var f=u.length,p=s?s(f):new u.constructor(f);return u.copy(p),p}e.exports=c})(Ih,Ih.exports);var oB=Ih.exports;function sB(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var lB=sB,cB=Kd,uB=vb;function dB(e,t){return cB(e,uB(e),t)}var fB=dB,hB=t_,pB=hB(Object.getPrototypeOf,Object),nm=pB,mB=gb,gB=nm,vB=vb,yB=ZS,bB=Object.getOwnPropertySymbols,xB=bB?function(e){for(var t=[];e;)mB(t,vB(e)),e=gB(e);return t}:yB,P_=xB,wB=Kd,jB=P_;function NB(e,t){return wB(e,jB(e),t)}var SB=NB,_B=JS,AB=P_,OB=rm;function PB(e){return _B(e,OB,AB)}var E_=PB,EB=Object.prototype,kB=EB.hasOwnProperty;function TB(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&kB.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var CB=TB,_2=XS;function LB(e){var t=new e.constructor(e.byteLength);return new _2(t).set(new _2(e)),t}var Eb=LB,MB=Eb;function $B(e,t){var r=t?MB(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var DB=$B,IB=/\w*$/;function RB(e){var t=new e.constructor(e.source,IB.exec(e));return t.lastIndex=e.lastIndex,t}var FB=RB,A2=bc,O2=A2?A2.prototype:void 0,P2=O2?O2.valueOf:void 0;function BB(e){return P2?Object(P2.call(e)):{}}var zB=BB,qB=Eb;function UB(e,t){var r=t?qB(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var WB=UB,HB=Eb,GB=DB,VB=FB,YB=zB,KB=WB,XB="[object Boolean]",JB="[object Date]",ZB="[object Map]",QB="[object Number]",e9="[object RegExp]",t9="[object Set]",r9="[object String]",n9="[object Symbol]",a9="[object ArrayBuffer]",i9="[object DataView]",o9="[object Float32Array]",s9="[object Float64Array]",l9="[object Int8Array]",c9="[object Int16Array]",u9="[object Int32Array]",d9="[object Uint8Array]",f9="[object Uint8ClampedArray]",h9="[object Uint16Array]",p9="[object Uint32Array]";function m9(e,t,r){var n=e.constructor;switch(t){case a9:return HB(e);case XB:case JB:return new n(+e);case i9:return GB(e,r);case o9:case s9:case l9:case c9:case u9:case d9:case f9:case h9:case p9:return KB(e,r);case ZB:return new n;case QB:case r9:return new n(e);case e9:return VB(e);case t9:return new n;case n9:return YB(e)}}var g9=m9,v9=aa,E2=Object.create,y9=function(){function e(){}return function(t){if(!v9(t))return{};if(E2)return E2(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),k_=y9,b9=k_,x9=nm,w9=wb;function j9(e){return typeof e.constructor=="function"&&!w9(e)?b9(x9(e)):{}}var N9=j9,S9=Jp,_9=La,A9="[object Map]";function O9(e){return _9(e)&&S9(e)==A9}var P9=O9,E9=P9,k9=Xp,k2=bb,T2=k2&&k2.isMap,T9=T2?k9(T2):E9,C9=T9,L9=Jp,M9=La,$9="[object Set]";function D9(e){return M9(e)&&L9(e)==$9}var I9=D9,R9=I9,F9=Xp,C2=bb,L2=C2&&C2.isSet,B9=L2?F9(L2):R9,z9=B9,q9=pb,U9=A_,W9=O_,H9=tB,G9=iB,V9=oB,Y9=lB,K9=fB,X9=SB,J9=r_,Z9=E_,Q9=Jp,ez=CB,tz=g9,rz=N9,nz=rn,az=Kp,iz=C9,oz=aa,sz=z9,lz=Pc,cz=rm,uz=1,dz=2,fz=4,T_="[object Arguments]",hz="[object Array]",pz="[object Boolean]",mz="[object Date]",gz="[object Error]",C_="[object Function]",vz="[object GeneratorFunction]",yz="[object Map]",bz="[object Number]",L_="[object Object]",xz="[object RegExp]",wz="[object Set]",jz="[object String]",Nz="[object Symbol]",Sz="[object WeakMap]",_z="[object ArrayBuffer]",Az="[object DataView]",Oz="[object Float32Array]",Pz="[object Float64Array]",Ez="[object Int8Array]",kz="[object Int16Array]",Tz="[object Int32Array]",Cz="[object Uint8Array]",Lz="[object Uint8ClampedArray]",Mz="[object Uint16Array]",$z="[object Uint32Array]",Wt={};Wt[T_]=Wt[hz]=Wt[_z]=Wt[Az]=Wt[pz]=Wt[mz]=Wt[Oz]=Wt[Pz]=Wt[Ez]=Wt[kz]=Wt[Tz]=Wt[yz]=Wt[bz]=Wt[L_]=Wt[xz]=Wt[wz]=Wt[jz]=Wt[Nz]=Wt[Cz]=Wt[Lz]=Wt[Mz]=Wt[$z]=!0;Wt[gz]=Wt[C_]=Wt[Sz]=!1;function xh(e,t,r,n,a,i){var o,s=t&uz,c=t&dz,u=t&fz;if(r&&(o=a?r(e,n,a,i):r(e)),o!==void 0)return o;if(!oz(e))return e;var d=nz(e);if(d){if(o=ez(e),!s)return Y9(e,o)}else{var f=Q9(e),p=f==C_||f==vz;if(az(e))return V9(e,s);if(f==L_||f==T_||p&&!a){if(o=c||p?{}:rz(e),!s)return c?X9(e,G9(o,e)):K9(e,H9(o,e))}else{if(!Wt[f])return a?e:{};o=tz(e,f,s)}}i||(i=new q9);var h=i.get(e);if(h)return h;i.set(e,o),sz(e)?e.forEach(function(j){o.add(xh(j,t,r,j,e,i))}):iz(e)&&e.forEach(function(j,x){o.set(x,xh(j,t,r,x,e,i))});var v=u?c?Z9:J9:c?cz:lz,g=d?void 0:v(e);return U9(g||e,function(j,x){g&&(x=j,j=e[x]),W9(o,x,xh(j,t,r,x,e,i))}),o}var Dz=xh;function Iz(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var M_=Iz;const Rz=wt(M_);var Fz=em,Bz=Jy;function zz(e,t){return t.length<2?e:Fz(e,Bz(t,0,-1))}var qz=zz,Uz=Qp,Wz=M_,Hz=qz,Gz=Yd;function Vz(e,t){return t=Uz(t,e),e=Hz(e,t),e==null||delete e[Gz(Wz(t))]}var Yz=Vz,Kz=Fi,Xz=nm,Jz=La,Zz="[object Object]",Qz=Function.prototype,eq=Object.prototype,$_=Qz.toString,tq=eq.hasOwnProperty,rq=$_.call(Object);function nq(e){if(!Jz(e)||Kz(e)!=Zz)return!1;var t=Xz(e);if(t===null)return!0;var r=tq.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&$_.call(r)==rq}var D_=nq;const aq=wt(D_);var iq=D_;function oq(e){return iq(e)?void 0:e}var sq=oq,lq=_b;function cq(e){var t=e==null?0:e.length;return t?lq(e,1):[]}var uq=cq,dq=uq,fq=b_,hq=w_;function pq(e){return hq(fq(e,void 0,dq),e+"")}var mq=pq,gq=Zp,vq=Dz,yq=Yz,bq=Qp,xq=Kd,wq=sq,jq=mq,Nq=E_,Sq=1,_q=2,Aq=4,Oq=jq(function(e,t){var r={};if(e==null)return r;var n=!1;t=gq(t,function(i){return i=bq(i,e),n||(n=i.length>1),i}),xq(e,Nq(e),r),n&&(r=vq(r,Sq|_q|Aq,wq));for(var a=t.length;a--;)yq(r,t[a]);return r}),Pq=Oq;const Eq=wt(Pq);var kq=A_,Tq=k_,Cq=Ab,Lq=Ma,Mq=nm,$q=rn,Dq=Kp,Iq=Up,Rq=aa,Fq=xb;function Bq(e,t,r){var n=$q(e),a=n||Dq(e)||Fq(e);if(t=Lq(t),r==null){var i=e&&e.constructor;a?r=n?new i:[]:Rq(e)?r=Iq(i)?Tq(Mq(e)):{}:r={}}return(a?kq:Cq)(e,function(o,s,c){return t(r,o,s,c)}),r}var zq=Bq;const qq=wt(zq);var Uq={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Zn,function(){return function(r,n,a){n.prototype.isBetween=function(i,o,s,c){var u=a(i),d=a(o),f=(c=c||"()")[0]==="(",p=c[1]===")";return(f?this.isAfter(u,s):!this.isBefore(u,s))&&(p?this.isBefore(d,s):!this.isAfter(d,s))||(f?this.isBefore(u,s):!this.isAfter(u,s))&&(p?this.isAfter(d,s):!this.isBefore(d,s))}}})})(Uq);var Wq={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Zn,function(){return function(r,n){n.prototype.isSameOrAfter=function(a,i){return this.isSame(a,i)||this.isAfter(a,i)}}})})(Wq);var Hq={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Zn,function(){return function(r,n){n.prototype.isSameOrBefore=function(a,i){return this.isSame(a,i)||this.isBefore(a,i)}}})})(Hq);var Gq={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Zn,function(){return function(r,n,a){var i=n.prototype,o=function(f){return f&&(f.indexOf?f:f.s)},s=function(f,p,h,v,g){var j=f.name?f:f.$locale(),x=o(j[p]),b=o(j[h]),N=x||b.map(function(w){return w.slice(0,v)});if(!g)return N;var _=j.weekStart;return N.map(function(w,A){return N[(A+(_||0))%7]})},c=function(){return a.Ls[a.locale()]},u=function(f,p){return f.formats[p]||function(h){return h.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(v,g,j){return g||j.slice(1)})}(f.formats[p.toUpperCase()])},d=function(){var f=this;return{months:function(p){return p?p.format("MMMM"):s(f,"months")},monthsShort:function(p){return p?p.format("MMM"):s(f,"monthsShort","months",3)},firstDayOfWeek:function(){return f.$locale().weekStart||0},weekdays:function(p){return p?p.format("dddd"):s(f,"weekdays")},weekdaysMin:function(p){return p?p.format("dd"):s(f,"weekdaysMin","weekdays",2)},weekdaysShort:function(p){return p?p.format("ddd"):s(f,"weekdaysShort","weekdays",3)},longDateFormat:function(p){return u(f.$locale(),p)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};i.localeData=function(){return d.bind(this)()},a.localeData=function(){var f=c();return{firstDayOfWeek:function(){return f.weekStart||0},weekdays:function(){return a.weekdays()},weekdaysShort:function(){return a.weekdaysShort()},weekdaysMin:function(){return a.weekdaysMin()},months:function(){return a.months()},monthsShort:function(){return a.monthsShort()},longDateFormat:function(p){return u(f,p)},meridiem:f.meridiem,ordinal:f.ordinal}},a.months=function(){return s(c(),"months")},a.monthsShort=function(){return s(c(),"monthsShort","months",3)},a.weekdays=function(f){return s(c(),"weekdays",null,null,f)},a.weekdaysShort=function(f){return s(c(),"weekdaysShort","weekdays",3,f)},a.weekdaysMin=function(f){return s(c(),"weekdaysMin","weekdays",2,f)}}})})(Gq);var Vq={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Zn,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(n,a,i){var o=a.prototype,s=o.format;i.en.formats=r,o.format=function(c){c===void 0&&(c="YYYY-MM-DDTHH:mm:ssZ");var u=this.$locale().formats,d=function(f,p){return f.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(h,v,g){var j=g&&g.toUpperCase();return v||p[g]||r[g]||p[j].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(x,b,N){return b||N.slice(1)})})}(c,u===void 0?{}:u);return s.call(this,d)}}})})(Vq);var Yq={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Zn,function(){return function(r,n,a){var i=function(o,s){if(!s||!s.length||s.length===1&&!s[0]||s.length===1&&Array.isArray(s[0])&&!s[0].length)return null;var c;s.length===1&&s[0].length>0&&(s=s[0]),c=(s=s.filter(function(d){return d}))[0];for(var u=1;u<s.length;u+=1)s[u].isValid()&&!s[u][o](c)||(c=s[u]);return c};a.max=function(){var o=[].slice.call(arguments,0);return i("isAfter",o)},a.min=function(){var o=[].slice.call(arguments,0);return i("isBefore",o)}}})})(Yq);var Kq={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Zn,function(){var r="minute",n=/[+-]\d\d(?::?\d\d)?/g,a=/([+-]|\d\d)/g;return function(i,o,s){var c=o.prototype;s.utc=function(g){var j={date:g,utc:!0,args:arguments};return new o(j)},c.utc=function(g){var j=s(this.toDate(),{locale:this.$L,utc:!0});return g?j.add(this.utcOffset(),r):j},c.local=function(){return s(this.toDate(),{locale:this.$L,utc:!1})};var u=c.parse;c.parse=function(g){g.utc&&(this.$u=!0),this.$utils().u(g.$offset)||(this.$offset=g.$offset),u.call(this,g)};var d=c.init;c.init=function(){if(this.$u){var g=this.$d;this.$y=g.getUTCFullYear(),this.$M=g.getUTCMonth(),this.$D=g.getUTCDate(),this.$W=g.getUTCDay(),this.$H=g.getUTCHours(),this.$m=g.getUTCMinutes(),this.$s=g.getUTCSeconds(),this.$ms=g.getUTCMilliseconds()}else d.call(this)};var f=c.utcOffset;c.utcOffset=function(g,j){var x=this.$utils().u;if(x(g))return this.$u?0:x(this.$offset)?f.call(this):this.$offset;if(typeof g=="string"&&(g=function(w){w===void 0&&(w="");var A=w.match(n);if(!A)return null;var O=(""+A[0]).match(a)||["-",0,0],E=O[0],C=60*+O[1]+ +O[2];return C===0?0:E==="+"?C:-C}(g),g===null))return this;var b=Math.abs(g)<=16?60*g:g,N=this;if(j)return N.$offset=b,N.$u=g===0,N;if(g!==0){var _=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(N=this.local().add(b+_,r)).$offset=b,N.$x.$localOffset=_}else N=this.utc();return N};var p=c.format;c.format=function(g){var j=g||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return p.call(this,j)},c.valueOf=function(){var g=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*g},c.isUTC=function(){return!!this.$u},c.toISOString=function(){return this.toDate().toISOString()},c.toString=function(){return this.toDate().toUTCString()};var h=c.toDate;c.toDate=function(g){return g==="s"&&this.$offset?s(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():h.call(this)};var v=c.diff;c.diff=function(g,j,x){if(g&&this.$u===g.$u)return v.call(this,g,j,x);var b=this.local(),N=s(g).local();return v.call(b,N,j,x)}}})})(Kq);var Xq={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Zn,function(){return function(r,n){n.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}})})(Xq);function Xa(e){return e.children}var Sn={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},cn={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},M2=Object.keys(cn).map(function(e){return cn[e]});Se.oneOfType([Se.string,Se.func]);Se.any;Se.func;Se.oneOfType([Se.arrayOf(Se.oneOf(M2)),Se.objectOf(function(e,t){var r=M2.indexOf(t)!==-1&&typeof e[t]=="boolean";if(r)return null;for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];return Se.elementType.apply(Se,[e,t].concat(a))})]);Se.oneOfType([Se.oneOf(["overlap","no-overlap"]),Se.func]);var $2={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function I_(e,t){var r=qr(e,"month");return qr(r,"week",t.startOfWeek())}function R_(e,t){var r=Th(e,"month");return Th(r,"week",t.startOfWeek())}function Jq(e,t){for(var r=I_(e,t),n=R_(e,t),a=[];vc(r,n,"day");)a.push(r),r=Ta(r,1,"day");return a}function Zq(e,t){var r=qr(e,t);return gc(r,e)?r:Ta(r,1,t)}function Qq(e,t){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",n=e,a=[];vc(n,t,r);)a.push(n),n=Ta(n,1,r);return a}function eU(e,t){return t==null&&e==null?null:(t==null&&(t=new Date),e==null&&(e=new Date),e=qr(e,"day"),e=Qu(e,Qu(t)),e=Fl(e,Fl(t)),e=Zu(e,Zu(t)),Ju(e,Ju(t)))}function D2(e){return Qu(e)===0&&Fl(e)===0&&Zu(e)===0&&Ju(e)===0}function tU(e,t,r,n){return r==="day"&&(r="date"),Math.abs(y1[r](e,void 0,n)-y1[r](t,void 0,n))}function kb(e,t,r){return!r||r==="milliseconds"?Math.abs(+e-+t):Math.round(Math.abs(+qr(e,r)/$2[r]-+qr(t,r)/$2[r]))}var rU=Se.oneOfType([Se.string,Se.func]);function nU(e,t,r,n,a){var i=typeof n=="function"?n(r,a,e):t.call(e,r,n,a);return Hu(i==null||typeof i=="string","`localizer format(..)` must return a string, null, or undefined"),i}function aU(e,t,r){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,t+r,0,0)}function Tb(e,t){return e.getTimezoneOffset()-t.getTimezoneOffset()}function iU(e,t){return kb(e,t,"minutes")+Tb(e,t)}function oU(e){var t=qr(e,"day");return kb(t,e,"minutes")+Tb(t,e)}function sU(e,t){return Xy(e,t,"day")}function lU(e,t,r){var n=gc(e,t,"minutes");return n?Ud(t,r,"minutes"):qp(t,r,"minutes")}function i0(e,t){return tU(e,t,"day")}function cU(e){var t=e.evtA,r=t.start,n=t.end,a=t.allDay,i=e.evtB,o=i.start,s=i.end,c=i.allDay,u=+qr(r,"day")-+qr(o,"day"),d=i0(r,n),f=i0(o,s);return u||f-d||!!c-!!a||+r-+o||+n-+s}function uU(e){var t=e.event,r=t.start,n=t.end,a=e.range,i=a.start,o=a.end,s=qr(r,"day"),c=vc(s,o,"day"),u=Ky(s,n,"minutes"),d=u?qp(n,i,"minutes"):Ud(n,i,"minutes");return c&&d}function dU(e,t){return gc(e,t,"day")}function fU(e,t){return D2(e)&&D2(t)}var hU=Er(function e(t){var r=this;Pr(this,e),Hu(typeof t.format=="function","date localizer `format(..)` must be a function"),Hu(typeof t.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=t.propType||rU,this.formats=t.formats,this.format=function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return nU.apply(void 0,[r,t.format].concat(a))},this.startOfWeek=t.firstOfWeek,this.merge=t.merge||eU,this.inRange=t.inRange||jS,this.lt=t.lt||Xy,this.lte=t.lte||vc,this.gt=t.gt||qp,this.gte=t.gte||Ud,this.eq=t.eq||gc,this.neq=t.neq||Ky,this.startOf=t.startOf||qr,this.endOf=t.endOf||Th,this.add=t.add||Ta,this.range=t.range||Qq,this.diff=t.diff||kb,this.ceil=t.ceil||Zq,this.min=t.min||xS,this.max=t.max||wS,this.minutes=t.minutes||Fl,this.daySpan=t.daySpan||i0,this.firstVisibleDay=t.firstVisibleDay||I_,this.lastVisibleDay=t.lastVisibleDay||R_,this.visibleDays=t.visibleDays||Jq,this.getSlotDate=t.getSlotDate||aU,this.getTimezoneOffset=t.getTimezoneOffset||function(n){return n.getTimezoneOffset()},this.getDstOffset=t.getDstOffset||Tb,this.getTotalMin=t.getTotalMin||iU,this.getMinutesFromMidnight=t.getMinutesFromMidnight||oU,this.continuesPrior=t.continuesPrior||sU,this.continuesAfter=t.continuesAfter||lU,this.sortEvents=t.sortEvents||cU,this.inEventRange=t.inEventRange||uU,this.isSameDate=t.isSameDate||dU,this.startAndEndAreDateOnly=t.startAndEndAreDateOnly||fU,this.segmentOffset=t.browserTZOffset?t.browserTZOffset():0});function pU(e,t,r,n){var a=Bt(Bt({},e.formats),r);return Bt(Bt({},e),{},{messages:n,startOfWeek:function(){return e.startOfWeek(t)},format:function(o,s){return e.format(o,a[s]||s,t)}})}var mU=function(e){function t(){var r;Pr(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=en(this,t,[].concat(a)),r.navigate=function(o){r.props.onNavigate(o)},r.view=function(o){r.props.onView(o)},r}return tn(t,e),Er(t,[{key:"render",value:function(){var n=this.props,a=n.localizer.messages,i=n.label;return U.createElement("div",{className:"rbc-toolbar"},U.createElement("span",{className:"rbc-btn-group"},U.createElement("button",{type:"button",onClick:this.navigate.bind(null,Sn.TODAY)},a.today),U.createElement("button",{type:"button",onClick:this.navigate.bind(null,Sn.PREVIOUS)},a.previous),U.createElement("button",{type:"button",onClick:this.navigate.bind(null,Sn.NEXT)},a.next)),U.createElement("span",{className:"rbc-toolbar-label"},i),U.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(a)))}},{key:"viewNamesGroup",value:function(n){var a=this,i=this.props.views,o=this.props.view;if(i.length>1)return i.map(function(s){return U.createElement("button",{type:"button",key:s,className:lr({"rbc-active":o===s}),onClick:a.view.bind(null,s)},n[s])})}}])}(U.Component);function Xt(e,t){e&&e.apply(null,[].concat(t))}var gU={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(t){return"+".concat(t," more")}};function vU(e){return Bt(Bt({},gU),e)}function yU(e){var t=e.ref,r=e.callback;R.useEffect(function(){var n=function(i){t.current&&!t.current.contains(i.target)&&r()};return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}},[t,r])}var bU=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],F_=function(e){function t(){return Pr(this,t),en(this,t,arguments)}return tn(t,e),Er(t,[{key:"render",value:function(){var n=this.props,a=n.style,i=n.className,o=n.event,s=n.selected,c=n.isAllDay,u=n.onSelect,d=n.onDoubleClick,f=n.onKeyPress,p=n.localizer,h=n.continuesPrior,v=n.continuesAfter,g=n.accessors,j=n.getters,x=n.children,b=n.components,N=b.event,_=b.eventWrapper,w=n.slotStart,A=n.slotEnd,O=ci(n,bU);delete O.resizable;var E=g.title(o),C=g.tooltip(o),D=g.end(o),k=g.start(o),T=g.allDay(o),$=c||T||p.diff(k,p.ceil(D,"day"),"day")>1,I=j.eventProp(o,k,D,s),V=U.createElement("div",{className:"rbc-event-content",title:C||void 0},N?U.createElement(N,{event:o,continuesPrior:h,continuesAfter:v,title:E,isAllDay:T,localizer:p,slotStart:w,slotEnd:A}):E);return U.createElement(_,Object.assign({},this.props,{type:"date"}),U.createElement("div",Object.assign({},O,{style:Bt(Bt({},I.style),a),className:lr("rbc-event",i,I.className,{"rbc-selected":s,"rbc-event-allday":$,"rbc-event-continues-prior":h,"rbc-event-continues-after":v}),onClick:function(B){return u&&u(o,B)},onDoubleClick:function(B){return d&&d(o,B)},onKeyDown:function(B){return f&&f(o,B)}}),typeof x=="function"?x(V):V))}}])}(U.Component);function am(e,t){return!e||t==null?!1:xs(e,t)}function B_(e,t){var r=e.right-e.left,n=r/t;return n}function z_(e,t,r,n){var a=B_(e,n);return r?n-1-Math.floor((t-e.left)/a):Math.floor((t-e.left)/a)}function xU(e,t){var r=t.x,n=t.y;return n>=e.top&&n<=e.bottom&&r>=e.left&&r<=e.right}function wU(e,t,r,n,a){var i=-1,o=-1,s=n-1,c=B_(t,n),u=z_(t,r.x,a,n),d=t.top<r.y&&t.bottom>r.y,f=t.top<e.y&&t.bottom>e.y,p=e.y>t.bottom,h=t.top>e.y,v=r.top<t.top&&r.bottom>t.bottom;return v&&(i=0,o=s),d&&(h?(i=0,o=u):p&&(i=u,o=s)),f&&(i=o=a?s-Math.floor((e.x-t.left)/c):Math.floor((e.x-t.left)/c),d?u<i?i=u:o=u:e.y<r.y?o=s:i=0),{startIdx:i,endIdx:o}}function jU(e){var t=e.target,r=e.offset,n=e.container,a=e.box,i=os(t),o=i.top,s=i.left,c=i.width,u=i.height,d=os(n),f=d.top,p=d.left,h=d.width,v=d.height,g=os(a),j=g.width,x=g.height,b=f+v,N=p+h,_=o+x,w=s+j,A=r.x,O=r.y,E=_>b?o-x-O:o+O+u,C=w>N?s+A-j+c:s+A;return{topOffset:E,leftOffset:C}}function NU(e){var t=e.containerRef,r=e.accessors,n=e.getters,a=e.selected,i=e.components,o=e.localizer,s=e.position,c=e.show,u=e.events,d=e.slotStart,f=e.slotEnd,p=e.onSelect,h=e.onDoubleClick,v=e.onKeyPress,g=e.handleDragStart,j=e.popperRef,x=e.target,b=e.offset;yU({ref:j,callback:c}),R.useLayoutEffect(function(){var w=jU({target:x,offset:b,container:t.current,box:j.current}),A=w.topOffset,O=w.leftOffset;j.current.style.top="".concat(A,"px"),j.current.style.left="".concat(O,"px")},[b.x,b.y,x]);var N=s.width,_={minWidth:N+N/2};return U.createElement("div",{style:_,className:"rbc-overlay",ref:j},U.createElement("div",{className:"rbc-overlay-header"},o.format(d,"dayHeaderFormat")),u.map(function(w,A){return U.createElement(F_,{key:A,type:"popup",localizer:o,event:w,getters:n,onSelect:p,accessors:r,components:i,onDoubleClick:h,onKeyPress:v,continuesPrior:o.lt(r.end(w),d,"day"),continuesAfter:o.gte(r.start(w),f,"day"),slotStart:d,slotEnd:f,selected:am(w,a),draggable:!0,onDragStart:function(){return g(w)},onDragEnd:function(){return c()}})}))}var q_=U.forwardRef(function(e,t){return U.createElement(NU,Object.assign({},e,{popperRef:t}))});q_.propTypes={accessors:Se.object.isRequired,getters:Se.object.isRequired,selected:Se.object,components:Se.object.isRequired,localizer:Se.object.isRequired,position:Se.object.isRequired,show:Se.func.isRequired,events:Se.array.isRequired,slotStart:Se.instanceOf(Date).isRequired,slotEnd:Se.instanceOf(Date),onSelect:Se.func,onDoubleClick:Se.func,onKeyPress:Se.func,handleDragStart:Se.func,style:Se.object,offset:Se.shape({x:Se.number,y:Se.number})};function SU(e){var t=e.containerRef,r=e.popupOffset,n=r===void 0?5:r,a=e.overlay,i=e.accessors,o=e.localizer,s=e.components,c=e.getters,u=e.selected,d=e.handleSelectEvent,f=e.handleDoubleClickEvent,p=e.handleKeyPressEvent,h=e.handleDragStart,v=e.onHide,g=e.overlayDisplay,j=R.useRef(null);if(!a.position)return null;var x=n;isNaN(n)||(x={x:n,y:n});var b=a.position,N=a.events,_=a.date,w=a.end;return U.createElement(db,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:v,target:a.target},function(A){var O=A.props;return U.createElement(q_,Object.assign({},O,{containerRef:t,ref:j,target:a.target,offset:x,accessors:i,getters:c,selected:u,components:s,localizer:o,position:b,show:g,events:N,slotStart:_,slotEnd:w,onSelect:d,onDoubleClick:f,onKeyPress:p,handleDragStart:h}))})}var Cb=U.forwardRef(function(e,t){return U.createElement(SU,Object.assign({},e,{containerRef:t}))});Cb.propTypes={popupOffset:Se.oneOfType([Se.number,Se.shape({x:Se.number,y:Se.number})]),overlay:Se.shape({position:Se.object,events:Se.array,date:Se.instanceOf(Date),end:Se.instanceOf(Date)}),accessors:Se.object.isRequired,localizer:Se.object.isRequired,components:Se.object.isRequired,getters:Se.object.isRequired,selected:Se.object,handleSelectEvent:Se.func,handleDoubleClickEvent:Se.func,handleKeyPressEvent:Se.func,handleDragStart:Se.func,onHide:Se.func,overlayDisplay:Se.func};function Gr(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return Cu(r,e,t,{passive:!1})}function _U(e,t,r){return!e||ed(e,document.elementFromPoint(t,r))}function AU(e,t){var r=t.clientX,n=t.clientY,a=document.elementFromPoint(r,n);return o_(a,".rbc-event",e)}function OU(e,t){var r=t.clientX,n=t.clientY,a=document.elementFromPoint(r,n);return o_(a,".rbc-show-more",e)}function Rh(e,t){return!!AU(e,t)}function PU(e,t){return!!OU(e,t)}function vu(e){var t=e;return e.touches&&e.touches.length&&(t=e.touches[0]),{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}var I2=5,EU=250,U_=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.global,a=n===void 0?!1:n,i=r.longPressThreshold,o=i===void 0?250:i,s=r.validContainers,c=s===void 0?[]:s;Pr(this,e),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=t,this.globalMouse=!t||a,this.longPressThreshold=o,this.validContainers=c,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=Gr("touchmove",function(){},window),this._removeKeyDownListener=Gr("keydown",this._keyListener),this._removeKeyUpListener=Gr("keyup",this._keyListener),this._removeDropFromOutsideListener=Gr("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=Gr("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return Er(e,[{key:"on",value:function(r,n){var a=this._listeners[r]||(this._listeners[r]=[]);return a.push(n),{remove:function(){var o=a.indexOf(n);o!==-1&&a.splice(o,1)}}}},{key:"emit",value:function(r){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];var o,s=this._listeners[r]||[];return s.forEach(function(c){o===void 0&&(o=c.apply(void 0,a))}),o}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(r){var n=this._selectRect;return!n||!this.selecting?!1:R2(n,ws(r))}},{key:"filter",value:function(r){var n=this._selectRect;return!n||!this.selecting?[]:r.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(r,n){var a=this,i=null,o=null,s=null,c=function(p){i=setTimeout(function(){d(),r(p)},a.longPressThreshold),o=Gr("touchmove",function(){return d()}),s=Gr("touchend",function(){return d()})},u=Gr("touchstart",c),d=function(){i&&clearTimeout(i),o&&o(),s&&s(),i=null,o=null,s=null};return n&&c(n),function(){d(),u()}}},{key:"_addInitialEventListener",value:function(){var r=this,n=Gr("mousedown",function(i){r._removeInitialEventListener(),r._handleInitialEvent(i),r._removeInitialEventListener=Gr("mousedown",r._handleInitialEvent)}),a=Gr("touchstart",function(i){r._removeInitialEventListener(),r._removeInitialEventListener=r._addLongPressListener(r._handleInitialEvent,i)});this._removeInitialEventListener=function(){n(),a()}}},{key:"_dropFromOutsideListener",value:function(r){var n=vu(r),a=n.pageX,i=n.pageY,o=n.clientX,s=n.clientY;this.emit("dropFromOutside",{x:a,y:i,clientX:o,clientY:s}),r.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(r){var n=vu(r),a=n.pageX,i=n.pageY,o=n.clientX,s=n.clientY;this.emit("dragOverFromOutside",{x:a,y:i,clientX:o,clientY:s}),r.preventDefault()}},{key:"_handleInitialEvent",value:function(r){if(this._initialEvent=r,!this.isDetached){var n=vu(r),a=n.clientX,i=n.clientY,o=n.pageX,s=n.pageY,c=this.container(),u,d;if(!(r.which===3||r.button===2||!_U(c,a,i))){if(!this.globalMouse&&c&&!ed(c,r.target)){var f=kU(0),p=f.top,h=f.left,v=f.bottom,g=f.right;if(d=ws(c),u=R2({top:d.top-p,left:d.left-h,bottom:d.bottom+v,right:d.right+g},{top:s,left:o}),!u)return}var j=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(r.type),x:o,y:s,clientX:a,clientY:i});if(j!==!1)switch(r.type){case"mousedown":this._removeEndListener=Gr("mouseup",this._handleTerminatingEvent),this._onEscListener=Gr("keydown",this._handleTerminatingEvent),this._removeMoveListener=Gr("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(r),this._removeEndListener=Gr("touchend",this._handleTerminatingEvent),this._removeMoveListener=Gr("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(r){var n=r.target,a=this.validContainers;return!a||!a.length||!n?!0:a.some(function(i){return!!n.closest(i)})}},{key:"_handleTerminatingEvent",value:function(r){var n=this.selecting,a=this._selectRect;if(!n&&r.type.includes("key")&&(r=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!r){var i=!this.container||ed(this.container(),r.target),o=this._isWithinValidContainer(r);return r.key==="Escape"||!o?this.emit("reset"):!n&&i?this._handleClickEvent(r):n?this.emit("select",a):this.emit("reset")}}},{key:"_handleClickEvent",value:function(r){var n=vu(r),a=n.pageX,i=n.pageY,o=n.clientX,s=n.clientY,c=new Date().getTime();return this._lastClickData&&c-this._lastClickData.timestamp<EU?(this._lastClickData=null,this.emit("doubleClick",{x:a,y:i,clientX:o,clientY:s})):(this._lastClickData={timestamp:c},this.emit("click",{x:a,y:i,clientX:o,clientY:s}))}},{key:"_handleMoveEvent",value:function(r){if(!(this._initialEventData===null||this.isDetached)){var n=this._initialEventData,a=n.x,i=n.y,o=vu(r),s=o.pageX,c=o.pageY,u=Math.abs(a-s),d=Math.abs(i-c),f=Math.min(s,a),p=Math.min(c,i),h=this.selecting,v=this.isClick(s,c);v&&!h&&!(u||d)||(!h&&!v&&this.emit("selectStart",this._initialEventData),v||(this.selecting=!0,this._selectRect={top:p,left:f,x:s,y:c,right:f+u,bottom:p+d},this.emit("selecting",this._selectRect)),r.preventDefault())}}},{key:"_keyListener",value:function(r){this.ctrl=r.metaKey||r.ctrlKey}},{key:"isClick",value:function(r,n){var a=this._initialEventData,i=a.x,o=a.y,s=a.isTouch;return!s&&Math.abs(r-i)<=I2&&Math.abs(n-o)<=I2}}])}();function kU(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return xt(e)!=="object"&&(e={top:e,left:e,right:e,bottom:e}),e}function R2(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=ws(e),a=n.top,i=n.left,o=n.right,s=o===void 0?i:o,c=n.bottom,u=c===void 0?a:c,d=ws(t),f=d.top,p=d.left,h=d.right,v=h===void 0?p:h,g=d.bottom,j=g===void 0?f:g;return!(u-r<f||a+r>j||s-r<p||i+r>v)}function ws(e){if(!e.getBoundingClientRect)return e;var t=e.getBoundingClientRect(),r=t.left+F2("left"),n=t.top+F2("top");return{top:n,left:r,right:(e.offsetWidth||0)+r,bottom:(e.offsetHeight||0)+n}}function F2(e){if(e==="left")return window.pageXOffset||document.body.scrollLeft||0;if(e==="top")return window.pageYOffset||document.body.scrollTop||0}var TU=function(e){function t(r,n){var a;return Pr(this,t),a=en(this,t,[r,n]),a.state={selecting:!1},a.containerRef=R.createRef(),a}return tn(t,e),Er(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(n){!n.selectable&&this.props.selectable&&this._selectable(),n.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var n=this.props,a=n.range,i=n.getNow,o=n.getters,s=n.date,c=n.components.dateCellWrapper,u=n.localizer,d=this.state,f=d.selecting,p=d.startIdx,h=d.endIdx,v=i();return U.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},a.map(function(g,j){var x=f&&j>=p&&j<=h,b=o.dayProp(g),N=b.className,_=b.style;return U.createElement(c,{key:j,value:g,range:a},U.createElement("div",{style:_,className:lr("rbc-day-bg",N,x&&"rbc-selected-cell",u.isSameDate(g,v)&&"rbc-today",s&&u.neq(s,g,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var n=this,a=this.containerRef.current,i=this._selector=new U_(this.props.container,{longPressThreshold:this.props.longPressThreshold}),o=function(c,u){if(!Rh(a,c)&&!PU(a,c)){var d=ws(a),f=n.props,p=f.range,h=f.rtl;if(xU(d,c)){var v=z_(d,c.x,h,p.length);n._selectSlot({startIdx:v,endIdx:v,action:u,box:c})}}n._initial={},n.setState({selecting:!1})};i.on("selecting",function(s){var c=n.props,u=c.range,d=c.rtl,f=-1,p=-1;if(n.state.selecting||(Xt(n.props.onSelectStart,[s]),n._initial={x:s.x,y:s.y}),i.isSelected(a)){var h=ws(a),v=wU(n._initial,h,s,u.length,d);f=v.startIdx,p=v.endIdx}n.setState({selecting:!0,startIdx:f,endIdx:p})}),i.on("beforeSelect",function(s){if(n.props.selectable==="ignoreEvents")return!Rh(n.containerRef.current,s)}),i.on("click",function(s){return o(s,"click")}),i.on("doubleClick",function(s){return o(s,"doubleClick")}),i.on("select",function(s){n._selectSlot(Bt(Bt({},n.state),{},{action:"select",bounds:s})),n._initial={},n.setState({selecting:!1}),Xt(n.props.onSelectEnd,[n.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(n){var a=n.endIdx,i=n.startIdx,o=n.action,s=n.bounds,c=n.box;a!==-1&&i!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:i,end:a,action:o,bounds:s,box:c,resourceId:this.props.resourceId})}}])}(U.Component),Xn={propTypes:{slotMetrics:Se.object.isRequired,selected:Se.object,isAllDay:Se.bool,accessors:Se.object.isRequired,localizer:Se.object.isRequired,components:Se.object.isRequired,getters:Se.object.isRequired,onSelect:Se.func,onDoubleClick:Se.func,onKeyPress:Se.func},defaultProps:{segments:[],selected:{}},renderEvent:function(t,r){var n=t.selected;t.isAllDay;var a=t.accessors,i=t.getters,o=t.onSelect,s=t.onDoubleClick,c=t.onKeyPress,u=t.localizer,d=t.slotMetrics,f=t.components,p=t.resizable,h=d.continuesPrior(r),v=d.continuesAfter(r);return U.createElement(F_,{event:r,getters:i,localizer:u,accessors:a,components:f,onSelect:o,onDoubleClick:s,onKeyPress:c,continuesPrior:h,continuesAfter:v,slotStart:d.first,slotEnd:d.last,selected:am(r,n),resizable:p})},renderSpan:function(t,r,n){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",i=Math.abs(r)/t*100+"%";return U.createElement("div",{key:n,className:"rbc-row-segment",style:{WebkitFlexBasis:i,flexBasis:i,maxWidth:i}},a)}},W_=function(e){function t(){return Pr(this,t),en(this,t,arguments)}return tn(t,e),Er(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.segments,o=a.slotMetrics.slots,s=a.className,c=1;return U.createElement("div",{className:lr(s,"rbc-row")},i.reduce(function(u,d,f){var p=d.event,h=d.left,v=d.right,g=d.span,j="_lvl_"+f,x=h-c,b=Xn.renderEvent(n.props,p);return x&&u.push(Xn.renderSpan(o,x,"".concat(j,"_gap"))),u.push(Xn.renderSpan(o,g,j,b)),c=v+1,u},[]))}}])}(U.Component);W_.defaultProps=Bt({},Xn.defaultProps);function H_(e){var t=e.dateRange,r=e.unit,n=r===void 0?"day":r,a=e.localizer;return{first:t[0],last:a.add(t[t.length-1],1,n)}}function CU(e,t,r,n){var a=H_({dateRange:t,localizer:n}),i=a.first,o=a.last,s=n.diff(i,o,"day"),c=n.max(n.startOf(r.start(e),"day"),i),u=n.min(n.ceil(r.end(e),"day"),o),d=z7(t,function(p){return n.isSameDate(p,c)}),f=n.diff(c,u,"day");return f=Math.min(f,s),f=Math.max(f-n.segmentOffset,1),{event:e,span:f,left:d+1,right:Math.max(d+f,1)}}function o0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,r,n,a,i=[],o=[];for(r=0;r<e.length;r++){for(a=e[r],n=0;n<i.length&&LU(a,i[n]);n++);n>=t?o.push(a):(i[n]||(i[n]=[])).push(a)}for(r=0;r<i.length;r++)i[r].sort(function(s,c){return s.left-c.left});return{levels:i,extra:o}}function ad(e,t,r,n,a){var i={start:n.start(e),end:n.end(e)},o={start:t,end:r};return a.inEventRange({event:i,range:o})}function LU(e,t){return t.some(function(r){return r.left<=e.right&&r.right>=e.left})}function MU(e,t,r){var n=yh(e),a=[],i=[];n.forEach(function(c){var u=t.start(c),d=t.end(c);r.daySpan(u,d)>1?a.push(c):i.push(c)});var o=a.sort(function(c,u){return s0(c,u,t,r)}),s=i.sort(function(c,u){return s0(c,u,t,r)});return[].concat(yh(o),yh(s))}function s0(e,t,r,n){var a={start:r.start(e),end:r.end(e),allDay:r.allDay(e)},i={start:r.start(t),end:r.end(t),allDay:r.allDay(t)};return n.sortEvents({evtA:a,evtB:i})}var l0=function(t,r){return t.left<=r&&t.right>=r},rv=function(t,r){return t.filter(function(n){return l0(n,r)}).map(function(n){return n.event})},G_=function(e){function t(){return Pr(this,t),en(this,t,arguments)}return tn(t,e),Er(t,[{key:"render",value:function(){for(var n=this.props,a=n.segments,i=n.slotMetrics.slots,o=o0(a).levels[0],s=1,c=1,u=[];s<=i;){var d="_lvl_"+s,f=o.filter(function(_){return l0(_,s)})[0]||{},p=f.event,h=f.left,v=f.right,g=f.span;if(!p){var j=this.getHiddenEventsForSlot(a,s);if(j.length>0){var x=s-c;x&&u.push(Xn.renderSpan(i,x,d+"_gap")),u.push(Xn.renderSpan(i,1,d,this.renderShowMore(a,s))),c=s=s+1;continue}s++;continue}var b=Math.max(0,h-c);if(this.canRenderSlotEvent(h,g)){var N=Xn.renderEvent(this.props,p);b&&u.push(Xn.renderSpan(i,b,d+"_gap")),u.push(Xn.renderSpan(i,g,d,N)),c=s=v+1}else b&&u.push(Xn.renderSpan(i,b,d+"_gap")),u.push(Xn.renderSpan(i,1,d,this.renderShowMore(a,s))),c=s=s+1}return U.createElement("div",{className:"rbc-row"},u)}},{key:"getHiddenEventsForSlot",value:function(n,a){var i=rv(n,a),o=o0(n).levels[0],s=o.filter(function(c){return l0(c,a)}).map(function(c){return c.event});return i.filter(function(c){return!s.some(function(u){return u===c})})}},{key:"canRenderSlotEvent",value:function(n,a){var i=this.props.segments;return nd(n,n+a).every(function(o){var s=rv(i,o).length;return s===1})}},{key:"renderShowMore",value:function(n,a){var i=this,o=this.props,s=o.localizer,c=o.slotMetrics,u=o.components,d=c.getEventsForSlot(a),f=rv(n,a),p=f.length;if(u!=null&&u.showMore){var h=u.showMore,v=c.getDateForSlot(a-1);return p?U.createElement(h,{localizer:s,slotDate:v,slot:a,count:p,events:d,remainingEvents:f}):!1}return p?U.createElement("button",{type:"button",key:"sm_"+a,className:lr("rbc-button-link","rbc-show-more"),onClick:function(j){return i.showMore(a,j)}},s.messages.showMore(p,f,d)):!1}},{key:"showMore",value:function(n,a){a.preventDefault(),a.stopPropagation(),this.props.onShowMore(n,a.target)}}])}(U.Component);G_.defaultProps=Bt({},Xn.defaultProps);var $U=function(t){var r=t.children;return U.createElement("div",{className:"rbc-row-content-scroll-container"},r)},DU=function(t,r){return t.left<=r&&t.right>=r},IU=function(t,r){return t[0].range===r[0].range&&t[0].events===r[0].events};function V_(){return g_(function(e){for(var t=e.range,r=e.events,n=e.maxRows,a=e.minRows,i=e.accessors,o=e.localizer,s=H_({dateRange:t,localizer:o}),c=s.first,u=s.last,d=r.map(function(g){return CU(g,t,i,o)}),f=o0(d,Math.max(n-1,1)),p=f.levels,h=f.extra,v=h.length>0?a-1:a;p.length<v;)p.push([]);return{first:c,last:u,levels:p,extra:h,range:t,slots:t.length,clone:function(j){var x=V_();return x(Bt(Bt({},e),j))},getDateForSlot:function(j){return t[j]},getSlotForDate:function(j){return t.find(function(x){return o.isSameDate(x,j)})},getEventsForSlot:function(j){return d.filter(function(x){return DU(x,j)}).map(function(x){return x.event})},continuesPrior:function(j){return o.continuesPrior(i.start(j),c)},continuesAfter:function(j){var x=i.start(j),b=i.end(j);return o.continuesAfter(x,b,u)}}},IU)}var id=function(e){function t(){var r;Pr(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=en(this,t,[].concat(a)),r.handleSelectSlot=function(o){var s=r.props,c=s.range,u=s.onSelectSlot;u(c.slice(o.start,o.end+1),o)},r.handleShowMore=function(o,s){var c=r.props,u=c.range,d=c.onShowMore,f=r.slotMetrics(r.props),p=Jk(r.containerRef.current,".rbc-row-bg")[0],h;p&&(h=p.children[o-1]);var v=f.getEventsForSlot(o);d(v,u[o-1],h,o,s)},r.getContainer=function(){var o=r.props.container;return o?o():r.containerRef.current},r.renderHeadingCell=function(o,s){var c=r.props,u=c.renderHeader,d=c.getNow,f=c.localizer;return u({date:o,key:"header_".concat(s),className:lr("rbc-date-cell",f.isSameDate(o,d())&&"rbc-now")})},r.renderDummy=function(){var o=r.props,s=o.className,c=o.range,u=o.renderHeader,d=o.showAllEvents;return U.createElement("div",{className:s,ref:r.containerRef},U.createElement("div",{className:lr("rbc-row-content",d&&"rbc-row-content-scrollable")},u&&U.createElement("div",{className:"rbc-row",ref:r.headingRowRef},c.map(r.renderHeadingCell)),U.createElement("div",{className:"rbc-row",ref:r.eventRowRef},U.createElement("div",{className:"rbc-row-segment"},U.createElement("div",{className:"rbc-event"},U.createElement("div",{className:"rbc-event-content"},"Â "))))))},r.containerRef=R.createRef(),r.headingRowRef=R.createRef(),r.eventRowRef=R.createRef(),r.slotMetrics=V_(),r}return tn(t,e),Er(t,[{key:"getRowLimit",value:function(){var n,a=Qg(this.eventRowRef.current),i=(n=this.headingRowRef)!==null&&n!==void 0&&n.current?Qg(this.headingRowRef.current):0,o=Qg(this.containerRef.current)-i;return Math.max(Math.floor(o/a),1)}},{key:"render",value:function(){var n=this.props,a=n.date,i=n.rtl,o=n.range,s=n.className,c=n.selected,u=n.selectable,d=n.renderForMeasure,f=n.accessors,p=n.getters,h=n.components,v=n.getNow,g=n.renderHeader,j=n.onSelect,x=n.localizer,b=n.onSelectStart,N=n.onSelectEnd,_=n.onDoubleClick,w=n.onKeyPress,A=n.resourceId,O=n.longPressThreshold,E=n.isAllDay,C=n.resizable,D=n.showAllEvents;if(d)return this.renderDummy();var k=this.slotMetrics(this.props),T=k.levels,$=k.extra,I=D?$U:Xa,V=h.weekWrapper,F={selected:c,accessors:f,getters:p,localizer:x,components:h,onSelect:j,onDoubleClick:_,onKeyPress:w,resourceId:A,slotMetrics:k,resizable:C};return U.createElement("div",{className:s,role:"rowgroup",ref:this.containerRef},U.createElement(TU,{localizer:x,date:a,getNow:v,rtl:i,range:o,selectable:u,container:this.getContainer,getters:p,onSelectStart:b,onSelectEnd:N,onSelectSlot:this.handleSelectSlot,components:h,longPressThreshold:O,resourceId:A}),U.createElement("div",{className:lr("rbc-row-content",D&&"rbc-row-content-scrollable"),role:"row"},g&&U.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},o.map(this.renderHeadingCell)),U.createElement(I,null,U.createElement(V,Object.assign({isAllDay:E},F,{rtl:this.props.rtl}),T.map(function(B,X){return U.createElement(W_,Object.assign({key:X,segments:B},F))}),!!$.length&&U.createElement(G_,Object.assign({segments:$,onShowMore:this.handleShowMore},F))))))}}])}(U.Component);id.defaultProps={minRows:0,maxRows:1/0};var Lb=function(t){var r=t.label;return U.createElement("span",{role:"columnheader","aria-sort":"none"},r)},RU=function(t){var r=t.label,n=t.drilldownView,a=t.onDrillDown;return n?U.createElement("button",{type:"button",className:"rbc-button-link",onClick:a},r):U.createElement("span",null,r)},FU=["date","className"],BU=function(t,r,n,a,i){return t.filter(function(o){return ad(o,r,n,a,i)})},im=function(e){function t(){var r;Pr(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=en(this,t,[].concat(a)),r.getContainer=function(){return r.containerRef.current},r.renderWeek=function(o,s){var c=r.props,u=c.events,d=c.components,f=c.selectable,p=c.getNow,h=c.selected,v=c.date,g=c.localizer,j=c.longPressThreshold,x=c.accessors,b=c.getters,N=c.showAllEvents,_=r.state,w=_.needLimitMeasure,A=_.rowLimit,O=BU(yh(u),o[0],o[o.length-1],x,g),E=MU(O,x,g);return U.createElement(id,{key:s,ref:s===0?r.slotRowRef:void 0,container:r.getContainer,className:"rbc-month-row",getNow:p,date:v,range:o,events:E,maxRows:N?1/0:A,selected:h,selectable:f,components:d,accessors:x,getters:b,localizer:g,renderHeader:r.readerDateHeading,renderForMeasure:w,onShowMore:r.handleShowMore,onSelect:r.handleSelectEvent,onDoubleClick:r.handleDoubleClickEvent,onKeyPress:r.handleKeyPressEvent,onSelectSlot:r.handleSelectSlot,longPressThreshold:j,rtl:r.props.rtl,resizable:r.props.resizable,showAllEvents:N})},r.readerDateHeading=function(o){var s=o.date,c=o.className,u=ci(o,FU),d=r.props,f=d.date,p=d.getDrilldownView,h=d.localizer,v=h.neq(f,s,"month"),g=h.isSameDate(s,f),j=p(s),x=h.format(s,"dateFormat"),b=r.props.components.dateHeader||RU;return U.createElement("div",Object.assign({},u,{className:lr(c,v&&"rbc-off-range",g&&"rbc-current"),role:"cell"}),U.createElement(b,{label:x,date:s,drilldownView:j,isOffRange:v,onDrillDown:function(_){return r.handleHeadingClick(s,j,_)}}))},r.handleSelectSlot=function(o,s){r._pendingSelection=r._pendingSelection.concat(o),clearTimeout(r._selectTimer),r._selectTimer=setTimeout(function(){return r.selectDates(s)})},r.handleHeadingClick=function(o,s,c){c.preventDefault(),r.clearSelection(),Xt(r.props.onDrillDown,[o,s])},r.handleSelectEvent=function(){r.clearSelection();for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];Xt(r.props.onSelectEvent,s)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];Xt(r.props.onDoubleClickEvent,s)},r.handleKeyPressEvent=function(){r.clearSelection();for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];Xt(r.props.onKeyPressEvent,s)},r.handleShowMore=function(o,s,c,u,d){var f=r.props,p=f.popup,h=f.onDrillDown,v=f.onShowMore,g=f.getDrilldownView,j=f.doShowMoreDrillDown;if(r.clearSelection(),p){var x=$S(c,r.containerRef.current);r.setState({overlay:{date:s,events:o,position:x,target:d}})}else j&&Xt(h,[s,g(s)||cn.DAY]);Xt(v,[o,s,u])},r.overlayDisplay=function(){r.setState({overlay:null})},r.state={rowLimit:5,needLimitMeasure:!0,date:null},r.containerRef=R.createRef(),r.slotRowRef=R.createRef(),r._bgRows=[],r._pendingSelection=[],r}return tn(t,e),Er(t,[{key:"componentDidMount",value:function(){var n=this,a;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){a||DS(function(){a=!1,n.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var n=this.props,a=n.date,i=n.localizer,o=n.className,s=i.visibleDays(a,i),c=$k(s,7);return this._weekCount=c.length,U.createElement("div",{className:lr("rbc-month-view",o),role:"table","aria-label":"Month View",ref:this.containerRef},U.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(c[0])),c.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(n){var a=this.props,i=a.localizer,o=a.components,s=n[0],c=n[n.length-1],u=o.header||Lb;return i.range(s,c,"day").map(function(d,f){return U.createElement("div",{key:"header_"+f,className:"rbc-header"},U.createElement(u,{date:d,localizer:i,label:i.format(d,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var n,a,i=this,o=(n=(a=this.state)===null||a===void 0?void 0:a.overlay)!==null&&n!==void 0?n:{},s=this.props,c=s.accessors,u=s.localizer,d=s.components,f=s.getters,p=s.selected,h=s.popupOffset,v=s.handleDragStart,g=function(){return i.setState({overlay:null})};return U.createElement(Cb,{overlay:o,accessors:c,localizer:u,components:d,getters:f,selected:p,popupOffset:h,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:v,show:!!o.position,overlayDisplay:this.overlayDisplay,onHide:g})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(n){var a=this._pendingSelection.slice();this._pendingSelection=[],a.sort(function(s,c){return+s-+c});var i=new Date(a[0]),o=new Date(a[a.length-1]);o.setDate(a[a.length-1].getDate()+1),Xt(this.props.onSelectSlot,{slots:a,start:i,end:o,action:n.action,bounds:n.bounds,box:n.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(n,a){var i=n.date,o=n.localizer;return{date:i,needLimitMeasure:o.neq(i,a.date,"month")}}}])}(U.Component);im.range=function(e,t){var r=t.localizer,n=r.firstVisibleDay(e,r),a=r.lastVisibleDay(e,r);return{start:n,end:a}};im.navigate=function(e,t,r){var n=r.localizer;switch(t){case Sn.PREVIOUS:return n.add(e,-1,"month");case Sn.NEXT:return n.add(e,1,"month");default:return e}};im.title=function(e,t){var r=t.localizer;return r.format(e,"monthHeaderFormat")};var B2=function(t){var r=t.min,n=t.max,a=t.step,i=t.slots,o=t.localizer;return"".concat(+o.startOf(r,"minutes"))+"".concat(+o.startOf(n,"minutes"))+"".concat(a,"-").concat(i)};function Mb(e){for(var t=e.min,r=e.max,n=e.step,a=e.timeslots,i=e.localizer,o=B2({step:n,localizer:i}),s=1+i.getTotalMin(t,r),c=i.getMinutesFromMidnight(t),u=Math.ceil((s-1)/(n*a)),d=u*a,f=new Array(u),p=new Array(d),h=0;h<u;h++){f[h]=new Array(a);for(var v=0;v<a;v++){var g=h*a+v,j=g*n;p[g]=f[h][v]=i.getSlotDate(t,c,j)}}var x=p.length*n;p.push(i.getSlotDate(t,c,x));function b(N){var _=i.diff(t,N,"minutes")+i.getDstOffset(t,N);return Math.min(_,s)}return{groups:f,update:function(_){return B2(_)!==o?Mb(_):this},dateIsInGroup:function(_,w){var A=f[w+1];return i.inRange(_,f[w][0],A?A[0]:r,"minutes")},nextSlot:function(_){var w=p[Math.min(p.findIndex(function(A){return A===_||i.eq(A,_)})+1,p.length-1)];return i.eq(w,_)&&(w=i.add(_,n,"minutes")),w},closestSlotToPosition:function(_){var w=Math.min(p.length-1,Math.max(0,Math.floor(_*d)));return p[w]},closestSlotFromPoint:function(_,w){var A=Math.abs(w.top-w.bottom);return this.closestSlotToPosition((_.y-w.top)/A)},closestSlotFromDate:function(_){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(i.lt(_,t,"minutes"))return p[0];if(i.gt(_,r,"minutes"))return p[p.length-1];var A=i.diff(t,_,"minutes");return p[(A-A%n)/n+w]},startsBeforeDay:function(_){return i.lt(_,t,"day")},startsAfterDay:function(_){return i.gt(_,r,"day")},startsBefore:function(_){return i.lt(i.merge(t,_),t,"minutes")},startsAfter:function(_){return i.gt(i.merge(r,_),r,"minutes")},getRange:function(_,w,A,O){A||(_=i.min(r,i.max(t,_))),O||(w=i.min(r,i.max(t,w)));var E=b(_),C=b(w),D=C>n*d&&!i.eq(r,w)?(E-n)/(n*d)*100:E/(n*d)*100;return{top:D,height:C/(n*d)*100-D,start:b(_),startDate:_,end:b(w),endDate:w}},getCurrentTimePosition:function(_){var w=b(_),A=w/(n*d)*100;return A}}}var zU=function(){function e(t,r){var n=r.accessors,a=r.slotMetrics;Pr(this,e);var i=a.getRange(n.start(t),n.end(t)),o=i.start,s=i.startDate,c=i.end,u=i.endDate,d=i.top,f=i.height;this.start=o,this.end=c,this.startMs=+s,this.endMs=+u,this.top=d,this.height=f,this.data=t}return Er(e,[{key:"_width",get:function(){if(this.rows){var r=this.rows.reduce(function(a,i){return Math.max(a,i.leaves.length+1)},0)+1;return 100/r}if(this.leaves){var n=100-this.container._width;return n/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var r=this._width,n=Math.min(100,this._width*1.7);if(this.rows)return n;if(this.leaves)return this.leaves.length>0?n:r;var a=this.row.leaves,i=a.indexOf(this);return i===a.length-1?r:n}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var r=this.row,n=r.leaves,a=r.xOffset,i=r._width,o=n.indexOf(this)+1;return a+o*i}}])}();function qU(e,t,r){return Math.abs(t.start-e.start)<r||t.start>e.start&&t.start<e.end}function UU(e){for(var t=tm(e,["startMs",function(s){return-s.endMs}]),r=[];t.length>0;){var n=t.shift();r.push(n);for(var a=0;a<t.length;a++){var i=t[a];if(!(n.endMs>i.startMs)){if(a>0){var o=t.splice(a,1)[0];r.push(o)}break}}}return r}function Y_(e){for(var t=e.events,r=e.minimumStartDifference,n=e.slotMetrics,a=e.accessors,i=t.map(function(d){return new zU(d,{slotMetrics:n,accessors:a})}),o=UU(i),s=[],c=function(){var f=o[u],p=s.find(function(g){return g.end>f.start||Math.abs(f.start-g.start)<r});if(!p)return f.rows=[],s.push(f),1;f.container=p;for(var h=null,v=p.rows.length-1;!h&&v>=0;v--)qU(p.rows[v],f,r)&&(h=p.rows[v]);h?(h.leaves.push(f),f.row=h):(f.leaves=[],p.rows.push(f))},u=0;u<o.length;u++)c();return o.map(function(d){return{event:d.data,style:{top:d.top,height:d.height,width:d.width,xOffset:Math.max(0,d.xOffset)}}})}function K_(e,t,r){for(var n=0;n<e.friends.length;++n)if(!(r.indexOf(e.friends[n])>-1)){t=t>e.friends[n].idx?t:e.friends[n].idx,r.push(e.friends[n]);var a=K_(e.friends[n],t,r);t=t>a?t:a}return t}function WU(e){var t=e.events,r=e.minimumStartDifference,n=e.slotMetrics,a=e.accessors,i=Y_({events:t,minimumStartDifference:r,slotMetrics:n,accessors:a});i.sort(function(V,F){return V=V.style,F=F.style,V.top!==F.top?V.top>F.top?1:-1:V.height!==F.height?V.top+V.height<F.top+F.height?1:-1:0});for(var o=0;o<i.length;++o)i[o].friends=[],delete i[o].style.left,delete i[o].style.left,delete i[o].idx,delete i[o].size;for(var s=0;s<i.length-1;++s)for(var c=i[s],u=c.style.top,d=c.style.top+c.style.height,f=s+1;f<i.length;++f){var p=i[f],h=p.style.top,v=p.style.top+p.style.height;(h>=u&&v<=d||v>u&&v<=d||h>=u&&h<d)&&(c.friends.push(p),p.friends.push(c))}for(var g=0;g<i.length;++g){for(var j=i[g],x=[],b=0;b<100;++b)x.push(1);for(var N=0;N<j.friends.length;++N)j.friends[N].idx!==void 0&&(x[j.friends[N].idx]=0);j.idx=x.indexOf(1)}for(var _=0;_<i.length;++_){var w=0;if(!i[_].size){var A=[],O=K_(i[_],0,A);w=100/(O+1),i[_].size=w;for(var E=0;E<A.length;++E)A[E].size=w}}for(var C=0;C<i.length;++C){var D=i[C];D.style.left=D.idx*D.size;for(var k=0,T=0;T<D.friends.length;++T){var $=D.friends[T].idx;k=k>$?k:$}k<=D.idx&&(D.size=100-D.idx*D.size);var I=D.idx===0?0:3;D.style.width="calc(".concat(D.size,"% - ").concat(I,"px)"),D.style.height="calc(".concat(D.style.height,"% - 2px)"),D.style.xOffset="calc(".concat(D.style.left,"% + ").concat(I,"px)")}return i}var z2={overlap:Y_,"no-overlap":WU};function HU(e){return!!(e&&e.constructor&&e.call&&e.apply)}function GU(e){e.events,e.minimumStartDifference,e.slotMetrics,e.accessors;var t=e.dayLayoutAlgorithm,r=t;return t in z2&&(r=z2[t]),HU(r)?r.apply(this,arguments):[]}var X_=function(e){function t(){return Pr(this,t),en(this,t,arguments)}return tn(t,e),Er(t,[{key:"render",value:function(){var n=this.props,a=n.renderSlot,i=n.resource,o=n.group,s=n.getters,c=n.components,u=c===void 0?{}:c,d=u.timeSlotWrapper,f=d===void 0?Xa:d,p=s?s.slotGroupProp(o):{};return U.createElement("div",Object.assign({className:"rbc-timeslot-group"},p),o.map(function(h,v){var g=s?s.slotProp(h,i):{};return U.createElement(f,{key:v,value:h,resource:i},U.createElement("div",Object.assign({},g,{className:lr("rbc-time-slot",g.className)}),a&&a(h,v)))}))}}])}(R.Component);function Jf(e){return typeof e=="string"?e:e+"%"}function VU(e){var t=e.style,r=e.className,n=e.event,a=e.accessors,i=e.rtl,o=e.selected,s=e.label,c=e.continuesPrior,u=e.continuesAfter,d=e.getters,f=e.onClick,p=e.onDoubleClick,h=e.isBackgroundEvent,v=e.onKeyPress,g=e.components,j=g.event,x=g.eventWrapper,b=a.title(n),N=a.tooltip(n),_=a.end(n),w=a.start(n),A=d.eventProp(n,w,_,o),O=[U.createElement("div",{key:"1",className:"rbc-event-label"},s),U.createElement("div",{key:"2",className:"rbc-event-content"},j?U.createElement(j,{event:n,title:b}):b)],E=t.height,C=t.top,D=t.width,k=t.xOffset,T=Bt(Bt({},A.style),{},Zo({top:Jf(C),height:Jf(E),width:Jf(D)},i?"right":"left",Jf(k)));return U.createElement(x,Object.assign({type:"time"},e),U.createElement("div",{role:"button",tabIndex:0,onClick:f,onDoubleClick:p,style:T,onKeyDown:v,title:N?(typeof s=="string"?s+": ":"")+N:void 0,className:lr(h?"rbc-background-event":"rbc-event",r,A.className,{"rbc-selected":o,"rbc-event-continues-earlier":c,"rbc-event-continues-later":u})},O))}var YU=function(t){var r=t.children,n=t.className,a=t.style,i=t.innerRef;return U.createElement("div",{className:n,style:a,ref:i},r)},KU=U.forwardRef(function(e,t){return U.createElement(YU,Object.assign({},e,{innerRef:t}))}),XU=["dayProp"],JU=["eventContainerWrapper","timeIndicatorWrapper"],J_=function(e){function t(){var r;Pr(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=en(this,t,[].concat(a)),r.state={selecting:!1,timeIndicatorPosition:null},r.intervalTriggered=!1,r.renderEvents=function(o){var s=o.events,c=o.isBackgroundEvent,u=r.props,d=u.rtl,f=u.selected,p=u.accessors,h=u.localizer,v=u.getters,g=u.components,j=u.step,x=u.timeslots,b=u.dayLayoutAlgorithm,N=u.resizable,_=r,w=_.slotMetrics,A=h.messages,O=GU({events:s,accessors:p,slotMetrics:w,minimumStartDifference:Math.ceil(j*x/2),dayLayoutAlgorithm:b});return O.map(function(E,C){var D,k=E.event,T=E.style,$=p.end(k),I=p.start(k),V=(D=p.eventId(k))!==null&&D!==void 0?D:"evt_"+C,F="eventTimeRangeFormat",B,X=w.startsBeforeDay(I),Y=w.startsAfterDay($);X?F="eventTimeRangeEndFormat":Y&&(F="eventTimeRangeStartFormat"),X&&Y?B=A.allDay:B=h.format({start:I,end:$},F);var Z=X||w.startsBefore(I),ae=Y||w.startsAfter($);return U.createElement(VU,{style:T,event:k,label:B,key:V,getters:v,rtl:d,components:g,continuesPrior:Z,continuesAfter:ae,accessors:p,resource:r.props.resource,selected:am(k,f),onClick:function(W){return r._select(Bt(Bt(Bt({},k),r.props.resource&&{sourceResource:r.props.resource}),c&&{isBackgroundEvent:!0}),W)},onDoubleClick:function(W){return r._doubleClick(k,W)},isBackgroundEvent:c,onKeyPress:function(W){return r._keyPress(k,W)},resizable:N})})},r._selectable=function(){var o=r.containerRef.current,s=r.props,c=s.longPressThreshold,u=s.localizer,d=r._selector=new U_(function(){return o},{longPressThreshold:c}),f=function(g){var j=r.props.onSelecting,x=r.state||{},b=p(g),N=b.startDate,_=b.endDate;j&&(u.eq(x.startDate,N,"minutes")&&u.eq(x.endDate,_,"minutes")||j({start:N,end:_,resourceId:r.props.resource})===!1)||(r.state.start!==b.start||r.state.end!==b.end||r.state.selecting!==b.selecting)&&r.setState(b)},p=function(g){var j=r.slotMetrics.closestSlotFromPoint(g,ws(o));r.state.selecting||(r._initialSlot=j);var x=r._initialSlot;u.lte(x,j)?j=r.slotMetrics.nextSlot(j):u.gt(x,j)&&(x=r.slotMetrics.nextSlot(x));var b=r.slotMetrics.getRange(u.min(x,j),u.max(x,j));return Bt(Bt({},b),{},{selecting:!0,top:"".concat(b.top,"%"),height:"".concat(b.height,"%")})},h=function(g,j){if(!Rh(r.containerRef.current,g)){var x=p(g),b=x.startDate,N=x.endDate;r._selectSlot({startDate:b,endDate:N,action:j,box:g})}r.setState({selecting:!1})};d.on("selecting",f),d.on("selectStart",f),d.on("beforeSelect",function(v){if(r.props.selectable==="ignoreEvents")return!Rh(r.containerRef.current,v)}),d.on("click",function(v){return h(v,"click")}),d.on("doubleClick",function(v){return h(v,"doubleClick")}),d.on("select",function(v){r.state.selecting&&(r._selectSlot(Bt(Bt({},r.state),{},{action:"select",bounds:v})),r.setState({selecting:!1}))}),d.on("reset",function(){r.state.selecting&&r.setState({selecting:!1})})},r._teardownSelectable=function(){r._selector&&(r._selector.teardown(),r._selector=null)},r._selectSlot=function(o){for(var s=o.startDate,c=o.endDate,u=o.action,d=o.bounds,f=o.box,p=s,h=[];r.props.localizer.lte(p,c);)h.push(p),p=new Date(+p+r.props.step*60*1e3);Xt(r.props.onSelectSlot,{slots:h,start:s,end:c,resourceId:r.props.resource,action:u,bounds:d,box:f})},r._select=function(){for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];Xt(r.props.onSelectEvent,s)},r._doubleClick=function(){for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];Xt(r.props.onDoubleClickEvent,s)},r._keyPress=function(){for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];Xt(r.props.onKeyPressEvent,s)},r.slotMetrics=Mb(r.props),r.containerRef=R.createRef(),r}return tn(t,e),Er(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(n,a){this.props.selectable&&!n.selectable&&this._selectable(),!this.props.selectable&&n.selectable&&this._teardownSelectable();var i=this.props,o=i.getNow,s=i.isNow,c=i.localizer,u=i.date,d=i.min,f=i.max,p=c.neq(n.getNow(),o(),"minutes");if(n.isNow!==s||p){if(this.clearTimeIndicatorInterval(),s){var h=!p&&c.eq(n.date,u,"minutes")&&a.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(h)}}else s&&(c.neq(n.min,d,"minutes")||c.neq(n.max,f,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var n=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!a&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){n.intervalTriggered=!0,n.positionTimeIndicator(),n.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var n=this.props,a=n.min,i=n.max,o=n.getNow,s=o();if(s>=a&&s<=i){var c=this.slotMetrics.getCurrentTimePosition(s);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:c})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var n=this.props,a=n.date,i=n.max,o=n.rtl,s=n.isNow,c=n.resource,u=n.accessors,d=n.localizer,f=n.getters,p=f.dayProp,h=ci(f,XU),v=n.components,g=v.eventContainerWrapper,j=v.timeIndicatorWrapper,x=ci(v,JU);this.slotMetrics=this.slotMetrics.update(this.props);var b=this.slotMetrics,N=this.state,_=N.selecting,w=N.top,A=N.height,O=N.startDate,E=N.endDate,C={start:O,end:E},D=p(i,c),k=D.className,T=D.style,$={className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}},I=x.dayColumnWrapper||KU;return U.createElement(I,{ref:this.containerRef,date:a,style:T,className:lr(k,"rbc-day-slot","rbc-time-column",s&&"rbc-now",s&&"rbc-today",_&&"rbc-slot-selecting"),slotMetrics:b,resource:c},b.groups.map(function(V,F){return U.createElement(X_,{key:F,group:V,resource:c,getters:h,components:x})}),U.createElement(g,{localizer:d,resource:c,accessors:u,getters:h,components:x,slotMetrics:b},U.createElement("div",{className:lr("rbc-events-container",o&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),_&&U.createElement("div",{className:"rbc-slot-selection",style:{top:w,height:A}},U.createElement("span",null,d.format(C,"selectRangeFormat"))),s&&this.intervalTriggered&&U.createElement(j,$,U.createElement("div",$)))}}])}(U.Component);J_.defaultProps={dragThroughEvents:!0,timeslots:2};var Z_=function(t){var r=t.label;return U.createElement(U.Fragment,null,r)},ZU=function(e){function t(){var r;Pr(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=en(this,t,[].concat(a)),r.handleHeaderClick=function(o,s,c){c.preventDefault(),Xt(r.props.onDrillDown,[o,s])},r.renderRow=function(o){var s=r.props,c=s.events,u=s.rtl,d=s.selectable,f=s.getNow,p=s.range,h=s.getters,v=s.localizer,g=s.accessors,j=s.components,x=s.resizable,b=g.resourceId(o),N=o?c.filter(function(_){return g.resource(_)===b}):c;return U.createElement(id,{isAllDay:!0,rtl:u,getNow:f,minRows:2,maxRows:r.props.allDayMaxRows+1,range:p,events:N,resourceId:b,className:"rbc-allday-cell",selectable:d,selected:r.props.selected,components:j,accessors:g,getters:h,localizer:v,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyPress:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:x})},r}return tn(t,e),Er(t,[{key:"renderHeaderCells",value:function(n){var a=this,i=this.props,o=i.localizer,s=i.getDrilldownView,c=i.getNow,u=i.getters.dayProp,d=i.components.header,f=d===void 0?Lb:d,p=c();return n.map(function(h,v){var g=s(h),j=o.format(h,"dayFormat"),x=u(h),b=x.className,N=x.style,_=U.createElement(f,{date:h,label:j,localizer:o});return U.createElement("div",{key:v,style:N,className:lr("rbc-header",b,o.isSameDate(h,p)&&"rbc-today")},g?U.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(A){return a.handleHeaderClick(h,g,A)}},_):U.createElement("span",null,_))})}},{key:"render",value:function(){var n=this,a=this.props,i=a.width,o=a.rtl,s=a.resources,c=a.range,u=a.events,d=a.getNow,f=a.accessors,p=a.selectable,h=a.components,v=a.getters,g=a.scrollRef,j=a.localizer,x=a.isOverflowing,b=a.components,N=b.timeGutterHeader,_=b.resourceHeader,w=_===void 0?Z_:_,A=a.resizable,O={};x&&(O[o?"marginLeft":"marginRight"]="".concat(ub()-1,"px"));var E=s.groupEvents(u);return U.createElement("div",{style:O,ref:g,className:lr("rbc-time-header",x&&"rbc-overflowing")},U.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:i,minWidth:i,maxWidth:i}},N&&U.createElement(N,null)),s.map(function(C,D){var k=hs(C,2),T=k[0],$=k[1];return U.createElement("div",{className:"rbc-time-header-content",key:T||D},$&&U.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(D)},U.createElement("div",{className:"rbc-header"},U.createElement(w,{index:D,label:f.resourceTitle($),resource:$}))),U.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(c.length<=1?" rbc-time-header-cell-single-day":"")},n.renderHeaderCells(c)),U.createElement(id,{isAllDay:!0,rtl:o,getNow:d,minRows:2,maxRows:n.props.allDayMaxRows+1,range:c,events:E.get(T)||[],resourceId:$&&T,className:"rbc-allday-cell",selectable:p,selected:n.props.selected,components:h,accessors:f,getters:v,localizer:j,onSelect:n.props.onSelectEvent,onShowMore:n.props.onShowMore,onDoubleClick:n.props.onDoubleClickEvent,onKeyDown:n.props.onKeyPressEvent,onSelectSlot:n.props.onSelectSlot,longPressThreshold:n.props.longPressThreshold,resizable:A}))}))}}])}(U.Component),QU=function(e){function t(){var r;Pr(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=en(this,t,[].concat(a)),r.handleHeaderClick=function(o,s,c){c.preventDefault(),Xt(r.props.onDrillDown,[o,s])},r}return tn(t,e),Er(t,[{key:"renderHeaderCells",value:function(n){var a=this,i=this.props,o=i.localizer,s=i.getDrilldownView,c=i.getNow,u=i.getters.dayProp,d=i.components,f=d.header,p=f===void 0?Lb:f,h=d.resourceHeader,v=h===void 0?Z_:h,g=i.resources,j=i.accessors,x=i.events,b=i.rtl,N=i.selectable,_=i.components,w=i.getters,A=i.resizable,O=c(),E=g.groupEvents(x);return n.map(function(C,D){var k=s(C),T=o.format(C,"dayFormat"),$=u(C),I=$.className,V=$.style,F=U.createElement(p,{date:C,label:T,localizer:o});return U.createElement("div",{key:D,className:"rbc-time-header-content rbc-resource-grouping"},U.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(n.length<=1?" rbc-time-header-cell-single-day":"")},U.createElement("div",{style:V,className:lr("rbc-header",I,o.isSameDate(C,O)&&"rbc-today")},k?U.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(X){return a.handleHeaderClick(C,k,X)}},F):U.createElement("span",null,F))),U.createElement("div",{className:"rbc-row"},g.map(function(B,X){var Y=hs(B,2),Z=Y[0],ae=Y[1];return U.createElement("div",{key:"resource_".concat(Z,"_").concat(X),className:lr("rbc-header",I,o.isSameDate(C,O)&&"rbc-today")},U.createElement(v,{index:X,label:j.resourceTitle(ae),resource:ae}))})),U.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},g.map(function(B,X){var Y=hs(B,2),Z=Y[0],ae=Y[1],M=(E.get(Z)||[]).filter(function(W){return o.isSameDate(W.start,C)||o.isSameDate(W.end,C)});return U.createElement(id,{key:"resource_".concat(Z,"_").concat(X),isAllDay:!0,rtl:b,getNow:c,minRows:2,maxRows:a.props.allDayMaxRows+1,range:[C],events:M,resourceId:ae&&Z,className:"rbc-allday-cell",selectable:N,selected:a.props.selected,components:_,accessors:j,getters:w,localizer:o,onSelect:a.props.onSelectEvent,onShowMore:a.props.onShowMore,onDoubleClick:a.props.onDoubleClickEvent,onKeyDown:a.props.onKeyPressEvent,onSelectSlot:a.props.onSelectSlot,longPressThreshold:a.props.longPressThreshold,resizable:A})})))})}},{key:"render",value:function(){var n=this.props,a=n.width,i=n.rtl,o=n.range,s=n.scrollRef,c=n.isOverflowing,u=n.components.timeGutterHeader,d={};return c&&(d[i?"marginLeft":"marginRight"]="".concat(ub()-1,"px")),U.createElement("div",{style:d,ref:s,className:lr("rbc-time-header",c&&"rbc-overflowing")},U.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:a,minWidth:a,maxWidth:a}},u&&U.createElement(u,null)),this.renderHeaderCells(o))}}])}(U.Component);function eW(e){var t=e.min,r=e.max,n=e.localizer;return n.getTimezoneOffset(t)!==n.getTimezoneOffset(r)?{start:n.add(t,-1,"day"),end:n.add(r,-1,"day")}:{start:t,end:r}}var tW=function(t){var r=t.min,n=t.max,a=t.timeslots,i=t.step,o=t.localizer,s=t.getNow,c=t.resource,u=t.components,d=t.getters,f=t.gutterRef,p=u.timeGutterWrapper,h=R.useMemo(function(){return eW({min:r,max:n,localizer:o})},[r==null?void 0:r.toISOString(),n==null?void 0:n.toISOString(),o]),v=h.start,g=h.end,j=R.useState(Mb({min:v,max:g,timeslots:a,step:i,localizer:o})),x=hs(j,2),b=x[0],N=x[1];R.useEffect(function(){b&&N(b.update({min:v,max:g,timeslots:a,step:i,localizer:o}))},[v==null?void 0:v.toISOString(),g==null?void 0:g.toISOString(),a,i]);var _=R.useCallback(function(w,A){if(A)return null;var O=b.dateIsInGroup(s(),A);return U.createElement("span",{className:lr("rbc-label",O&&"rbc-now")},o.format(w,"timeGutterFormat"))},[b,o,s]);return U.createElement(p,{slotMetrics:b},U.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:f},b.groups.map(function(w,A){return U.createElement(X_,{key:A,group:w,resource:c,components:u,renderSlot:_,getters:d})})))},rW=U.forwardRef(function(e,t){return U.createElement(tW,Object.assign({gutterRef:t},e))}),nv={};function nW(e,t){return{map:function(n){return e?e.map(function(a,i){return n([t.resourceId(a),a],i)}):[n([nv,null],0)]},groupEvents:function(n){var a=new Map;return e?(n.forEach(function(i){var o=t.resource(i)||nv;if(Array.isArray(o))o.forEach(function(c){var u=a.get(c)||[];u.push(i),a.set(c,u)});else{var s=a.get(o)||[];s.push(i),a.set(o,s)}}),a):(a.set(nv,n),a)}}}var Tc=function(e){function t(r){var n;return Pr(this,t),n=en(this,t,[r]),n.handleScroll=function(a){n.scrollRef.current&&(n.scrollRef.current.scrollLeft=a.target.scrollLeft)},n.handleResize=function(){O1(n.rafHandle),n.rafHandle=DS(n.checkOverflow)},n.handleKeyPressEvent=function(){n.clearSelection();for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];Xt(n.props.onKeyPressEvent,i)},n.handleSelectEvent=function(){n.clearSelection();for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];Xt(n.props.onSelectEvent,i)},n.handleDoubleClickEvent=function(){n.clearSelection();for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];Xt(n.props.onDoubleClickEvent,i)},n.handleShowMore=function(a,i,o,s,c){var u=n.props,d=u.popup,f=u.onDrillDown,p=u.onShowMore,h=u.getDrilldownView,v=u.doShowMoreDrillDown;if(n.clearSelection(),d){var g=$S(o,n.containerRef.current);n.setState({overlay:{date:i,events:a,position:Bt(Bt({},g),{},{width:"200px"}),target:c}})}else v&&Xt(f,[i,h(i)||cn.DAY]);Xt(p,[a,i,s])},n.handleSelectAllDaySlot=function(a,i){var o=n.props.onSelectSlot,s=new Date(a[0]),c=new Date(a[a.length-1]);c.setDate(a[a.length-1].getDate()+1),Xt(o,{slots:a,start:s,end:c,action:i.action,resourceId:i.resourceId})},n.overlayDisplay=function(){n.setState({overlay:null})},n.checkOverflow=function(){if(!n._updatingOverflow){var a=n.contentRef.current;if(a!=null&&a.scrollHeight){var i=a.scrollHeight>a.clientHeight;n.state.isOverflowing!==i&&(n._updatingOverflow=!0,n.setState({isOverflowing:i},function(){n._updatingOverflow=!1}))}}},n.memoizedResources=g_(function(a,i){return nW(a,i)}),n.state={gutterWidth:void 0,isOverflowing:null},n.scrollRef=U.createRef(),n.contentRef=U.createRef(),n.containerRef=U.createRef(),n._scrollRatio=null,n.gutterRef=R.createRef(),n}return tn(t,e),Er(t,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),O1(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(n,a,i,o,s,c,u,d,f,p){var h=this.props,v=h.min,g=h.max,j=(o.get(a)||[]).filter(function(b){return c.inRange(n,u.start(b),u.end(b),"day")}),x=(s.get(a)||[]).filter(function(b){return c.inRange(n,u.start(b),u.end(b),"day")});return U.createElement(J_,Object.assign({},this.props,{localizer:c,min:c.merge(n,v),max:c.merge(n,g),resource:i&&a,components:d,isNow:c.isSameDate(n,p),key:"".concat(a,"-").concat(n),date:n,events:j,backgroundEvents:x,dayLayoutAlgorithm:f}))}},{key:"renderResourcesFirst",value:function(n,a,i,o,s,c,u,d,f){var p=this;return a.map(function(h){var v=hs(h,2),g=v[0],j=v[1];return n.map(function(x){return p.renderDayColumn(x,g,j,i,o,s,c,d,f,u)})})}},{key:"renderRangeFirst",value:function(n,a,i,o,s,c,u,d,f){var p=this;return n.map(function(h){return U.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:h},a.map(function(v){var g=hs(v,2),j=g[0],x=g[1];return U.createElement("div",{style:{flex:1},key:c.resourceId(x)},p.renderDayColumn(h,j,x,i,o,s,c,d,f,u))}))})}},{key:"renderEvents",value:function(n,a,i,o){var s=this.props,c=s.accessors,u=s.localizer,d=s.resourceGroupingLayout,f=s.components,p=s.dayLayoutAlgorithm,h=this.memoizedResources(this.props.resources,c),v=h.groupEvents(a),g=h.groupEvents(i);return d?this.renderRangeFirst(n,h,v,g,u,c,o,f,p):this.renderResourcesFirst(n,h,v,g,u,c,o,f,p)}},{key:"render",value:function(){var n,a=this.props,i=a.events,o=a.backgroundEvents,s=a.range,c=a.width,u=a.rtl,d=a.selected,f=a.getNow,p=a.resources,h=a.components,v=a.accessors,g=a.getters,j=a.localizer,x=a.min,b=a.max,N=a.showMultiDayTimes,_=a.longPressThreshold,w=a.resizable,A=a.resourceGroupingLayout;c=c||this.state.gutterWidth;var O=s[0],E=s[s.length-1];this.slots=s.length;var C=[],D=[],k=[];i.forEach(function($){if(ad($,O,E,v,j)){var I=v.start($),V=v.end($);v.allDay($)||j.startAndEndAreDateOnly(I,V)||!N&&!j.isSameDate(I,V)?C.push($):D.push($)}}),o.forEach(function($){ad($,O,E,v,j)&&k.push($)}),C.sort(function($,I){return s0($,I,v,j)});var T={range:s,events:C,width:c,rtl:u,getNow:f,localizer:j,selected:d,allDayMaxRows:this.props.showAllEvents?1/0:(n=this.props.allDayMaxRows)!==null&&n!==void 0?n:1/0,resources:this.memoizedResources(p,v),selectable:this.props.selectable,accessors:v,getters:g,components:h,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:_,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:w};return U.createElement("div",{className:lr("rbc-time-view",p&&"rbc-time-view-resources"),ref:this.containerRef},p&&p.length>1&&A?U.createElement(QU,T):U.createElement(ZU,T),this.props.popup&&this.renderOverlay(),U.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},U.createElement(rW,{date:O,ref:this.gutterRef,localizer:j,min:j.merge(O,x),max:j.merge(O,b),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:h,className:"rbc-time-gutter",getters:g}),this.renderEvents(s,D,k,f())))}},{key:"renderOverlay",value:function(){var n,a,i=this,o=(n=(a=this.state)===null||a===void 0?void 0:a.overlay)!==null&&n!==void 0?n:{},s=this.props,c=s.accessors,u=s.localizer,d=s.components,f=s.getters,p=s.selected,h=s.popupOffset,v=s.handleDragStart,g=function(){return i.setState({overlay:null})};return U.createElement(Cb,{overlay:o,accessors:c,localizer:u,components:d,getters:f,selected:p,popupOffset:h,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:v,show:!!o.position,overlayDisplay:this.overlayDisplay,onHide:g})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var n=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var a,i=(a=n.gutterRef)!==null&&a!==void 0&&a.current?a0(n.gutterRef.current):void 0;i&&n.state.gutterWidth!==i&&n.setState({gutterWidth:i})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var n=this.contentRef.current;n.scrollTop=n.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,a=n.min,i=n.max,o=n.scrollToTime,s=n.localizer,c=s.diff(s.merge(o,a),o,"milliseconds"),u=s.diff(a,i,"milliseconds");this._scrollRatio=c/u}}])}(R.Component);Tc.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var aW=["date","localizer","min","max","scrollToTime","enableAutoScroll"],om=function(e){function t(){return Pr(this,t),en(this,t,arguments)}return tn(t,e),Er(t,[{key:"render",value:function(){var n=this.props,a=n.date,i=n.localizer,o=n.min,s=o===void 0?i.startOf(new Date,"day"):o,c=n.max,u=c===void 0?i.endOf(new Date,"day"):c,d=n.scrollToTime,f=d===void 0?i.startOf(new Date,"day"):d,p=n.enableAutoScroll,h=p===void 0?!0:p,v=ci(n,aW),g=t.range(a,{localizer:i});return U.createElement(Tc,Object.assign({},v,{range:g,eventOffset:10,localizer:i,min:s,max:u,scrollToTime:f,enableAutoScroll:h}))}}])}(U.Component);om.range=function(e,t){var r=t.localizer;return[r.startOf(e,"day")]};om.navigate=function(e,t,r){var n=r.localizer;switch(t){case Sn.PREVIOUS:return n.add(e,-1,"day");case Sn.NEXT:return n.add(e,1,"day");default:return e}};om.title=function(e,t){var r=t.localizer;return r.format(e,"dayHeaderFormat")};var iW=["date","localizer","min","max","scrollToTime","enableAutoScroll"],vo=function(e){function t(){return Pr(this,t),en(this,t,arguments)}return tn(t,e),Er(t,[{key:"render",value:function(){var n=this.props,a=n.date,i=n.localizer,o=n.min,s=o===void 0?i.startOf(new Date,"day"):o,c=n.max,u=c===void 0?i.endOf(new Date,"day"):c,d=n.scrollToTime,f=d===void 0?i.startOf(new Date,"day"):d,p=n.enableAutoScroll,h=p===void 0?!0:p,v=ci(n,iW),g=t.range(a,this.props);return U.createElement(Tc,Object.assign({},v,{range:g,eventOffset:15,localizer:i,min:s,max:u,scrollToTime:f,enableAutoScroll:h}))}}])}(U.Component);vo.defaultProps=Tc.defaultProps;vo.navigate=function(e,t,r){var n=r.localizer;switch(t){case Sn.PREVIOUS:return n.add(e,-1,"week");case Sn.NEXT:return n.add(e,1,"week");default:return e}};vo.range=function(e,t){var r=t.localizer,n=r.startOfWeek(),a=r.startOf(e,"week",n),i=r.endOf(e,"week",n);return r.range(a,i)};vo.title=function(e,t){var r=t.localizer,n=vo.range(e,{localizer:r}),a=N_(n),i=a[0],o=a.slice(1);return r.format({start:i,end:o.pop()},"dayRangeHeaderFormat")};var oW=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function $b(e,t){return vo.range(e,t).filter(function(r){return[6,0].indexOf(r.getDay())===-1})}var Xd=function(e){function t(){return Pr(this,t),en(this,t,arguments)}return tn(t,e),Er(t,[{key:"render",value:function(){var n=this.props,a=n.date,i=n.localizer,o=n.min,s=o===void 0?i.startOf(new Date,"day"):o,c=n.max,u=c===void 0?i.endOf(new Date,"day"):c,d=n.scrollToTime,f=d===void 0?i.startOf(new Date,"day"):d,p=n.enableAutoScroll,h=p===void 0?!0:p,v=ci(n,oW),g=$b(a,this.props);return U.createElement(Tc,Object.assign({},v,{range:g,eventOffset:15,localizer:i,min:s,max:u,scrollToTime:f,enableAutoScroll:h}))}}])}(U.Component);Xd.defaultProps=Tc.defaultProps;Xd.range=$b;Xd.navigate=vo.navigate;Xd.title=function(e,t){var r=t.localizer,n=$b(e,{localizer:r}),a=N_(n),i=a[0],o=a.slice(1);return r.format({start:i,end:o.pop()},"dayRangeHeaderFormat")};var sm=30;function lm(e){var t=e.accessors,r=e.components,n=e.date,a=e.events,i=e.getters,o=e.length,s=o===void 0?sm:o,c=e.localizer,u=e.onDoubleClickEvent,d=e.onSelectEvent,f=e.selected,p=R.useRef(null),h=R.useRef(null),v=R.useRef(null),g=R.useRef(null),j=R.useRef(null);R.useEffect(function(){N()});var x=function(E,C,D){var k=r.event,T=r.date;return C=C.filter(function($){return ad($,c.startOf(E,"day"),c.endOf(E,"day"),t,c)}),C.map(function($,I){var V=t.title($),F=t.end($),B=t.start($),X=i.eventProp($,B,F,am($,f)),Y=I===0&&c.format(E,"agendaDateFormat"),Z=I===0?U.createElement("td",{rowSpan:C.length,className:"rbc-agenda-date-cell"},T?U.createElement(T,{day:E,label:Y}):Y):!1;return U.createElement("tr",{key:D+"_"+I,className:X.className,style:X.style},Z,U.createElement("td",{className:"rbc-agenda-time-cell"},b(E,$)),U.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(M){return d&&d($,M)},onDoubleClick:function(M){return u&&u($,M)}},k?U.createElement(k,{event:$,title:V}):V))},[])},b=function(E,C){var D="",k=r.time,T=c.messages.allDay,$=t.end(C),I=t.start(C);return t.allDay(C)||(c.eq(I,$)?T=c.format(I,"agendaTimeFormat"):c.isSameDate(I,$)?T=c.format({start:I,end:$},"agendaTimeRangeFormat"):c.isSameDate(E,I)?T=c.format(I,"agendaTimeFormat"):c.isSameDate(E,$)&&(T=c.format($,"agendaTimeFormat"))),c.gt(E,I,"day")&&(D="rbc-continues-prior"),c.lt(E,$,"day")&&(D+=" rbc-continues-after"),U.createElement("span",{className:D.trim()},k?U.createElement(k,{event:C,day:E,label:T}):T)},N=function(){if(j.current){var E=p.current,C=j.current.firstChild;if(C){var D=g.current.scrollHeight>g.current.clientHeight,k=[],T=k;k=[a0(C.children[0]),a0(C.children[1])],(T[0]!==k[0]||T[1]!==k[1])&&(h.current.style.width=k[0]+"px",v.current.style.width=k[1]+"px"),D?(jC(E,"rbc-header-overflowing"),E.style.marginRight=ub()+"px"):NC(E,"rbc-header-overflowing")}}},_=c.messages,w=c.add(n,s,"day"),A=c.range(n,w,"day");return a=a.filter(function(O){return ad(O,c.startOf(n,"day"),c.endOf(w,"day"),t,c)}),a.sort(function(O,E){return+t.start(O)-+t.start(E)}),U.createElement("div",{className:"rbc-agenda-view"},a.length!==0?U.createElement(U.Fragment,null,U.createElement("table",{ref:p,className:"rbc-agenda-table"},U.createElement("thead",null,U.createElement("tr",null,U.createElement("th",{className:"rbc-header",ref:h},_.date),U.createElement("th",{className:"rbc-header",ref:v},_.time),U.createElement("th",{className:"rbc-header"},_.event)))),U.createElement("div",{className:"rbc-agenda-content",ref:g},U.createElement("table",{className:"rbc-agenda-table"},U.createElement("tbody",{ref:j},A.map(function(O,E){return x(O,a,E)}))))):U.createElement("span",{className:"rbc-agenda-empty"},_.noEventsInRange))}lm.range=function(e,t){var r=t.length,n=r===void 0?sm:r,a=t.localizer,i=a.add(e,n,"day");return{start:e,end:i}};lm.navigate=function(e,t,r){var n=r.length,a=n===void 0?sm:n,i=r.localizer;switch(t){case Sn.PREVIOUS:return i.add(e,-a,"day");case Sn.NEXT:return i.add(e,a,"day");default:return e}};lm.title=function(e,t){var r=t.length,n=r===void 0?sm:r,a=t.localizer,i=a.add(e,n,"day");return a.format({start:e,end:i},"agendaHeaderFormat")};var wh=Zo(Zo(Zo(Zo(Zo({},cn.MONTH,im),cn.WEEK,vo),cn.WORK_WEEK,Xd),cn.DAY,om),cn.AGENDA,lm),sW=["action","date","today"];function lW(e,t){var r=t.action,n=t.date,a=t.today,i=ci(t,sW);switch(e=typeof e=="string"?wh[e]:e,r){case Sn.TODAY:n=a||new Date;break;case Sn.DATE:break;default:Hu(e&&typeof e.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),n=e.navigate(n,r,i)}return n}function cW(e,t){var r=null;return typeof t=="function"?r=t(e):typeof t=="string"&&xt(e)==="object"&&e!=null&&t in e&&(r=e[t]),r}var _i=function(t){return function(r){return cW(r,t)}},uW=["view","date","getNow","onNavigate"],dW=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function Q_(e){if(Array.isArray(e))return e;for(var t=[],r=0,n=Object.entries(e);r<n.length;r++){var a=hs(n[r],2),i=a[0],o=a[1];o&&t.push(i)}return t}function fW(e,t){var r=t.views,n=Q_(r);return n.indexOf(e)!==-1}var eA=function(e){function t(){var r;Pr(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=en(this,t,[].concat(a)),r.getViews=function(){var o=r.props.views;return Array.isArray(o)?qq(o,function(s,c){return s[c]=wh[c]},{}):xt(o)==="object"?__(o,function(s,c){return s===!0?wh[c]:s}):wh},r.getView=function(){var o=r.getViews();return o[r.props.view]},r.getDrilldownView=function(o){var s=r.props,c=s.view,u=s.drilldownView,d=s.getDrilldownView;return d?d(o,c,Object.keys(r.getViews())):u},r.handleRangeChange=function(o,s,c){var u=r.props,d=u.onRangeChange,f=u.localizer;d&&s.range&&d(s.range(o,{localizer:f}),c)},r.handleNavigate=function(o,s){var c=r.props,u=c.view,d=c.date,f=c.getNow,p=c.onNavigate,h=ci(c,uW),v=r.getView(),g=f();d=lW(v,Bt(Bt({},h),{},{action:o,date:s||d||g,today:g})),p(d,u,o),r.handleRangeChange(d,v)},r.handleViewChange=function(o){o!==r.props.view&&fW(o,r.props)&&r.props.onView(o);var s=r.getViews();r.handleRangeChange(r.props.date||r.props.getNow(),s[o],o)},r.handleSelectEvent=function(){for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];Xt(r.props.onSelectEvent,s)},r.handleDoubleClickEvent=function(){for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];Xt(r.props.onDoubleClickEvent,s)},r.handleKeyPressEvent=function(){for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];Xt(r.props.onKeyPressEvent,s)},r.handleSelectSlot=function(o){Xt(r.props.onSelectSlot,o)},r.handleDrillDown=function(o,s){var c=r.props.onDrillDown;if(c){c(o,s,r.drilldownView);return}s&&r.handleViewChange(s),r.handleNavigate(Sn.DATE,o)},r.state={context:t.getContext(r.props)},r}return tn(t,e),Er(t,[{key:"render",value:function(){var n=this.props,a=n.view,i=n.toolbar,o=n.events,s=n.backgroundEvents,c=n.resourceGroupingLayout,u=n.style,d=n.className,f=n.elementProps,p=n.date,h=n.getNow,v=n.length,g=n.showMultiDayTimes,j=n.onShowMore,x=n.doShowMoreDrillDown;n.components,n.formats,n.messages,n.culture;var b=ci(n,dW);p=p||h();var N=this.getView(),_=this.state.context,w=_.accessors,A=_.components,O=_.getters,E=_.localizer,C=_.viewNames,D=A.toolbar||mU,k=N.title(p,{localizer:E,length:v});return U.createElement("div",Object.assign({},f,{className:lr(d,"rbc-calendar",b.rtl&&"rbc-rtl"),style:u}),i&&U.createElement(D,{date:p,view:a,views:C,label:k,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:E}),U.createElement(N,Object.assign({},b,{events:o,backgroundEvents:s,date:p,getNow:h,length:v,localizer:E,getters:O,components:A,accessors:w,showMultiDayTimes:g,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:j,doShowMoreDrillDown:x,resourceGroupingLayout:c})))}}],[{key:"getDerivedStateFromProps",value:function(n){return{context:t.getContext(n)}}},{key:"getContext",value:function(n){var a=n.startAccessor,i=n.endAccessor,o=n.allDayAccessor,s=n.tooltipAccessor,c=n.titleAccessor,u=n.resourceAccessor,d=n.resourceIdAccessor,f=n.resourceTitleAccessor,p=n.eventIdAccessor,h=n.eventPropGetter,v=n.backgroundEventPropGetter,g=n.slotPropGetter,j=n.slotGroupPropGetter,x=n.dayPropGetter,b=n.view,N=n.views,_=n.localizer,w=n.culture,A=n.messages,O=A===void 0?{}:A,E=n.components,C=E===void 0?{}:E,D=n.formats,k=D===void 0?{}:D,T=Q_(N),$=vU(O);return{viewNames:T,localizer:pU(_,w,k,$),getters:{eventProp:function(){return h&&h.apply(void 0,arguments)||{}},backgroundEventProp:function(){return v&&v.apply(void 0,arguments)||{}},slotProp:function(){return g&&g.apply(void 0,arguments)||{}},slotGroupProp:function(){return j&&j.apply(void 0,arguments)||{}},dayProp:function(){return x&&x.apply(void 0,arguments)||{}}},components:DF(C[b]||{},Eq(C,T),{eventWrapper:Xa,backgroundEventWrapper:Xa,eventContainerWrapper:Xa,dateCellWrapper:Xa,weekWrapper:Xa,timeSlotWrapper:Xa,timeGutterWrapper:Xa,timeIndicatorWrapper:Xa}),accessors:{start:_i(a),end:_i(i),allDay:_i(o),tooltip:_i(s),title:_i(c),resource:_i(u),resourceId:_i(d),resourceTitle:_i(f),eventId:_i(p)}}}}])}(U.Component);eA.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:cn.MONTH,views:[cn.MONTH,cn.WEEK,cn.DAY,cn.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:cn.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var tA=yS(eA,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),hW=function(t,r,n){var a=t.start,i=t.end;return"".concat(n.format(a,"P",r)," â€“ ").concat(n.format(i,"P",r))},av=function(t,r,n){var a=t.start,i=t.end;return"".concat(n.format(a,"p",r)," â€“ ").concat(n.format(i,"p",r))},pW=function(t,r,n){var a=t.start;return"".concat(n.format(a,"h:mma",r)," â€“ ")},mW=function(t,r,n){var a=t.end;return" â€“ ".concat(n.format(a,"h:mma",r))},gW=function(t,r,n){var a=t.start,i=t.end;return"".concat(n.format(a,"MMMM dd",r)," â€“ ").concat(n.format(i,gc(a,i,"month")?"dd":"MMMM dd",r))},vW={dateFormat:"dd",dayFormat:"dd eee",weekdayFormat:"ccc",selectRangeFormat:av,eventTimeRangeFormat:av,eventTimeRangeStartFormat:pW,eventTimeRangeEndFormat:mW,timeGutterFormat:"p",monthHeaderFormat:"MMMM yyyy",dayHeaderFormat:"cccc MMM dd",dayRangeHeaderFormat:gW,agendaHeaderFormat:hW,agendaDateFormat:"ccc MMM dd",agendaTimeFormat:"p",agendaTimeRangeFormat:av},rA=function(t){var r=t.startOfWeek,n=t.getDay,a=t.format,i=t.locales;return new hU({formats:vW,firstOfWeek:function(s){return n(r(new Date,{locale:i[s]}))},format:function(s,c,u){return a(new Date(s),c,{locale:i[u]})}})};const yW={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},bW=(e,t,r)=>{let n;const a=yW[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function iv(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const xW={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},wW={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},jW={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},NW={date:iv({formats:xW,defaultWidth:"full"}),time:iv({formats:wW,defaultWidth:"full"}),dateTime:iv({formats:jW,defaultWidth:"full"})},SW={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},_W=(e,t,r,n)=>SW[e];function yu(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,s=r!=null&&r.width?String(r.width):o;a=e.formattingValues[s]||e.formattingValues[o]}else{const o=e.defaultWidth,s=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[s]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const AW={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},OW={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},PW={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},EW={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},kW={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},TW={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},CW=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},LW={ordinalNumber:CW,era:yu({values:AW,defaultWidth:"wide"}),quarter:yu({values:OW,defaultWidth:"wide",argumentCallback:e=>e-1}),month:yu({values:PW,defaultWidth:"wide"}),day:yu({values:EW,defaultWidth:"wide"}),dayPeriod:yu({values:kW,defaultWidth:"wide",formattingValues:TW,defaultFormattingWidth:"wide"})};function bu(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],s=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(s)?$W(s,f=>f.test(o)):MW(s,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function MW(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function $W(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function DW(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const s=t.slice(a.length);return{value:o,rest:s}}}const IW=/^(\d+)(th|st|nd|rd)?/i,RW=/\d+/i,FW={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},BW={any:[/^b/i,/^(a|c)/i]},zW={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},qW={any:[/1/i,/2/i,/3/i,/4/i]},UW={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},WW={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},HW={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},GW={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},VW={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},YW={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},KW={ordinalNumber:DW({matchPattern:IW,parsePattern:RW,valueCallback:e=>parseInt(e,10)}),era:bu({matchPatterns:FW,defaultMatchWidth:"wide",parsePatterns:BW,defaultParseWidth:"any"}),quarter:bu({matchPatterns:zW,defaultMatchWidth:"wide",parsePatterns:qW,defaultParseWidth:"any",valueCallback:e=>e+1}),month:bu({matchPatterns:UW,defaultMatchWidth:"wide",parsePatterns:WW,defaultParseWidth:"any"}),day:bu({matchPatterns:HW,defaultMatchWidth:"wide",parsePatterns:GW,defaultParseWidth:"any"}),dayPeriod:bu({matchPatterns:VW,defaultMatchWidth:"any",parsePatterns:YW,defaultParseWidth:"any"})},Db={code:"en-US",formatDistance:bW,formatLong:NW,formatRelative:_W,localize:LW,match:KW,options:{weekStartsOn:0,firstWeekContainsDate:1}};let XW={};function cm(){return XW}const nA=6048e5,JW=864e5,q2=Symbol.for("constructDateFrom");function yo(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&q2 in e?e[q2](t):e instanceof Date?new e.constructor(t):new Date(t)}function ia(e,t){return yo(t||e,e)}function U2(e){const t=ia(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function ZW(e,...t){const r=yo.bind(null,t.find(n=>typeof n=="object"));return t.map(r)}function W2(e,t){const r=ia(e,t==null?void 0:t.in);return r.setHours(0,0,0,0),r}function QW(e,t,r){const[n,a]=ZW(r==null?void 0:r.in,e,t),i=W2(n),o=W2(a),s=+i-U2(i),c=+o-U2(o);return Math.round((s-c)/JW)}function eH(e,t){const r=ia(e,t==null?void 0:t.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function tH(e,t){const r=ia(e,t==null?void 0:t.in);return QW(r,eH(r))+1}function js(e,t){var s,c,u,d;const r=cm(),n=(t==null?void 0:t.weekStartsOn)??((c=(s=t==null?void 0:t.locale)==null?void 0:s.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=ia(e,t==null?void 0:t.in),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Fh(e,t){return js(e,{...t,weekStartsOn:1})}function aA(e,t){const r=ia(e,t==null?void 0:t.in),n=r.getFullYear(),a=yo(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const i=Fh(a),o=yo(r,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const s=Fh(o);return r.getTime()>=i.getTime()?n+1:r.getTime()>=s.getTime()?n:n-1}function rH(e,t){const r=aA(e,t),n=yo(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Fh(n)}function nH(e,t){const r=ia(e,t==null?void 0:t.in),n=+Fh(r)-+rH(r);return Math.round(n/nA)+1}function iA(e,t){var d,f,p,h;const r=ia(e,t==null?void 0:t.in),n=r.getFullYear(),a=cm(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((h=(p=a.locale)==null?void 0:p.options)==null?void 0:h.firstWeekContainsDate)??1,o=yo((t==null?void 0:t.in)||e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const s=js(o,t),c=yo((t==null?void 0:t.in)||e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=js(c,t);return+r>=+s?n+1:+r>=+u?n:n-1}function aH(e,t){var s,c,u,d;const r=cm(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(s=t==null?void 0:t.locale)==null?void 0:s.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=iA(e,t),i=yo((t==null?void 0:t.in)||e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),js(i,t)}function iH(e,t){const r=ia(e,t==null?void 0:t.in),n=+js(r,t)-+aH(r,t);return Math.round(n/nA)+1}function Lt(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const ro={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Lt(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Lt(r+1,2)},d(e,t){return Lt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Lt(e.getHours()%12||12,t.length)},H(e,t){return Lt(e.getHours(),t.length)},m(e,t){return Lt(e.getMinutes(),t.length)},s(e,t){return Lt(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Lt(a,t.length)}},fl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},H2={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return ro.y(e,t)},Y:function(e,t,r,n){const a=iA(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return Lt(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Lt(i,t.length)},R:function(e,t){const r=aA(e);return Lt(r,t.length)},u:function(e,t){const r=e.getFullYear();return Lt(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Lt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Lt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return ro.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Lt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=iH(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Lt(a,t.length)},I:function(e,t,r){const n=nH(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Lt(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):ro.d(e,t)},D:function(e,t,r){const n=tH(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Lt(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Lt(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Lt(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return Lt(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=fl.noon:n===0?a=fl.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=fl.evening:n>=12?a=fl.afternoon:n>=4?a=fl.morning:a=fl.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return ro.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):ro.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Lt(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Lt(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):ro.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):ro.s(e,t)},S:function(e,t){return ro.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return V2(n);case"XXXX":case"XX":return Yo(n);case"XXXXX":case"XXX":default:return Yo(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return V2(n);case"xxxx":case"xx":return Yo(n);case"xxxxx":case"xxx":default:return Yo(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+G2(n,":");case"OOOO":default:return"GMT"+Yo(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+G2(n,":");case"zzzz":default:return"GMT"+Yo(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return Lt(n,t.length)},T:function(e,t,r){return Lt(+e,t.length)}};function G2(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+Lt(i,2)}function V2(e,t){return e%60===0?(e>0?"-":"+")+Lt(Math.abs(e)/60,2):Yo(e,t)}function Yo(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Lt(Math.trunc(n/60),2),i=Lt(n%60,2);return r+a+t+i}const Y2=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},oA=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},oH=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return Y2(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",Y2(n,t)).replace("{{time}}",oA(a,t))},sH={p:oA,P:oH},lH=/^D+$/,cH=/^Y+$/,uH=["D","DD","YY","YYYY"];function dH(e){return lH.test(e)}function fH(e){return cH.test(e)}function hH(e,t,r){const n=pH(e,t,r);if(console.warn(n),uH.includes(e))throw new RangeError(n)}function pH(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}function mH(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function gH(e){return!(!mH(e)&&typeof e!="number"||isNaN(+ia(e)))}const vH=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,yH=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,bH=/^'([^]*?)'?$/,xH=/''/g,wH=/[a-zA-Z]/;function um(e,t,r){var d,f,p,h,v,g,j,x;const n=cm(),a=(r==null?void 0:r.locale)??n.locale??Db,i=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(p=n.locale)==null?void 0:p.options)==null?void 0:h.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((g=(v=r==null?void 0:r.locale)==null?void 0:v.options)==null?void 0:g.weekStartsOn)??n.weekStartsOn??((x=(j=n.locale)==null?void 0:j.options)==null?void 0:x.weekStartsOn)??0,s=ia(e,r==null?void 0:r.in);if(!gH(s))throw new RangeError("Invalid time value");let c=t.match(yH).map(b=>{const N=b[0];if(N==="p"||N==="P"){const _=sH[N];return _(b,a.formatLong)}return b}).join("").match(vH).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const N=b[0];if(N==="'")return{isToken:!1,value:jH(b)};if(H2[N])return{isToken:!0,value:b};if(N.match(wH))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");return{isToken:!1,value:b}});a.localize.preprocessor&&(c=a.localize.preprocessor(s,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(b=>{if(!b.isToken)return b.value;const N=b.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&fH(N)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&dH(N))&&hH(N,t,String(e));const _=H2[N[0]];return _(s,N,a.localize,u)}).join("")}function jH(e){const t=e.match(bH);return t?t[1].replace(xH,"'"):e}function sA(e,t){return ia(e,t==null?void 0:t.in).getDay()}const NH={"en-US":Db},SH=rA({format:um,startOfWeek:js,getDay:sA,locales:NH}),K2="bg-white bg-opacity-80 rounded-2xl shadow-lg border border-purple-100",X2=["Leverage student leadership: Assign older students as event ambassadors to boost peer engagement and reduce adult volunteer burnout.","Use QR codes at events for instant feedback or sign-upsâ€”capture data while excitement is high.","Partner with local media or school journalism clubs to document and promote your event, increasing community reach.",`Schedule a "debrief" meeting after each event to document what worked, what didn't, and ideas for next yearâ€”build institutional memory.`,"Offer tiered volunteer roles (short shifts, behind-the-scenes, remote tasks) to include parents with limited availability.",'Create a "Volunteer Wall of Fame" at school or online to recognize and celebrate contributorsâ€”public recognition increases future engagement.',"Bundle events with other school activities (e.g., parent-teacher conferences) to maximize turnout and convenience.","Use a digital sign-up tool with automatic reminders to reduce no-shows and last-minute cancellations.","Survey families after each event to gather actionable feedback and new ideasâ€”share results at PTO meetings.","Develop a sponsorship package and approach local businesses for recurring annual support, not just one-off donations."],J2=()=>{const e=mr(),[t,r]=R.useState("grid"),[n,a]=R.useState("manual"),[i,o]=R.useState(""),[s,c]=R.useState("all"),[u,d]=R.useState([]),[f,p]=R.useState(!0),[h,v]=R.useState(null),[g,j]=R.useState([]),[x,b]=R.useState(!0),[N,_]=R.useState(null),w="pto_events_dashboard_cache_v1";R.useEffect(()=>{async function B(){var Y,Z;p(!0),v(null);const X=localStorage.getItem(w);if(X)try{const ae=JSON.parse(X);d(ae.events||[]),p(!1)}catch{}try{const{data:{user:ae},error:M}=await We.auth.getUser();if(M||!ae){v("User not authenticated"),p(!1);return}const W=((Y=ae==null?void 0:ae.user_metadata)==null?void 0:Y.org_id)||((Z=ae==null?void 0:ae.app_metadata)==null?void 0:Z.org_id);if(!W){v("Missing org_id in user metadata."),p(!1);return}const{data:Q,error:ne}=await We.from("events").select("*").eq("org_id",W).order("event_date",{ascending:!0});ne?v("Error loading events: "+ne.message):(d(Q||[]),localStorage.setItem(w,JSON.stringify({events:Q,ts:Date.now()})))}catch(ae){v("Unexpected error: "+ae.message)}finally{p(!1)}}B()},[]),R.useEffect(()=>{async function B(){b(!0),_(null);try{j(X2.sort(()=>.5-Math.random()).slice(0,3))}catch{_("Could not load Stella Insights."),j(X2.slice(0,3))}finally{b(!1)}}B()},[]);const A=()=>{e("/events/create")},O=B=>{e(`/events/detail/${B}`)},E=B=>{e(`/events/edit/${B}`)},C=B=>{window.confirm("Are you sure you want to delete this event?")&&console.log("Deleting event:",B)},D=u.map(B=>({id:B.id,title:B.title,start:new Date(B.event_date),end:new Date(B.event_date),allDay:!0})),k=new Date;[...u].filter(B=>new Date(B.event_date)>=k).sort((B,X)=>new Date(B.event_date)-new Date(X.event_date)).slice(0,3);const T=()=>{e("/events/calendar")},$=B=>{e(`/events/detail/${B.id}`)},I=B=>{const X={draft:"bg-gray-100 text-gray-800",planning:"bg-blue-100 text-blue-800",active:"bg-green-100 text-green-800",completed:"bg-purple-100 text-purple-800",cancelled:"bg-red-100 text-red-800"};return X[B]||X.draft},V=({event:B})=>l.jsx("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 hover:shadow-lg transition-shadow",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:B.title}),B.type==="stella-generated"&&l.jsx(wr,{className:"w-4 h-4 text-purple-500",title:"Stella Generated"})]}),l.jsx("p",{className:"text-sm text-gray-600 mb-3",children:B.description}),l.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(ri,{className:"w-4 h-4"}),l.jsx("span",{children:new Date(B.event_date).toLocaleDateString()})]}),l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(ka,{className:"w-4 h-4"}),l.jsxs("span",{children:[B.attendees," expected"]})]})]})]}),l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${I(B.status)}`,children:B.status.charAt(0).toUpperCase()+B.status.slice(1)})]}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[l.jsx("span",{className:"text-gray-600",children:"Progress"}),l.jsxs("span",{className:"font-medium text-gray-900",children:[B.progress,"%"]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${B.progress}%`}})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[l.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[l.jsx("div",{className:"text-sm text-gray-600",children:"Budget"}),l.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["$",B.estimated_budget||"N/A"]})]}),l.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[l.jsx("div",{className:"text-sm text-green-600",children:"Projected Profit"}),l.jsxs("div",{className:"text-lg font-semibold text-green-700",children:["$",B.profit]})]})]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsxs("button",{onClick:()=>O(B.id),className:"flex-1 flex items-center justify-center px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx(Il,{className:"w-4 h-4 mr-2"}),"View"]}),l.jsxs("button",{onClick:()=>E(B.id),className:"flex-1 flex items-center justify-center px-3 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[l.jsx(_a,{className:"w-4 h-4 mr-2"}),"Edit"]})]})]})}),F=({event:B})=>l.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-4 flex-1",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("h3",{className:"font-medium text-gray-900",children:B.title}),B.type==="stella-generated"&&l.jsx(wr,{className:"w-4 h-4 text-purple-500"}),l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${I(B.status)}`,children:B.status})]}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:B.description})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-sm text-gray-500",children:"Date"}),l.jsx("div",{className:"font-medium",children:new Date(B.event_date).toLocaleDateString()})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-sm text-gray-500",children:"Attendees"}),l.jsx("div",{className:"font-medium",children:B.attendees})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-sm text-gray-500",children:"Budget"}),l.jsxs("div",{className:"font-medium",children:["$",B.estimated_budget||"N/A"]})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-sm text-gray-500",children:"Progress"}),l.jsxs("div",{className:"font-medium",children:[B.progress,"%"]})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{onClick:()=>O(B.id),className:"p-2 text-blue-600 hover:bg-blue-50 rounded",children:l.jsx(Il,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>E(B.id),className:"p-2 text-gray-600 hover:bg-gray-50 rounded",children:l.jsx(_a,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>C(B.id),className:"p-2 text-red-600 hover:bg-red-50 rounded",children:l.jsx(PP,{className:"w-4 h-4"})})]})]})});return l.jsxs("div",{className:"flex flex-col gap-8 p-6 max-w-7xl mx-auto",children:[l.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[l.jsxs("div",{className:"flex flex-col gap-4 md:w-1/2 max-w-md",children:[l.jsxs("div",{className:`${K2} p-6 min-h-[320px] flex flex-col justify-between`,children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("span",{className:"text-purple-600 text-xl",children:"âœ¨"}),l.jsx("span",{className:"font-bold text-lg text-purple-700",children:"Stella's Event Insights"})]}),x?l.jsx("div",{className:"text-gray-500",children:"Loading tips..."}):N?l.jsx("div",{className:"text-red-500",children:N}):l.jsx("ul",{className:"list-disc pl-5 text-purple-900 space-y-2",children:g.map((B,X)=>l.jsx("li",{children:B},X))}),l.jsx("div",{className:"mt-4 text-xs text-purple-400",children:"Tips powered by Stella AI"})]}),l.jsx("button",{onClick:A,className:"w-full py-3 rounded-xl font-semibold text-white bg-gradient-to-r from-pink-400 via-purple-400 to-teal-400 shadow hover:from-pink-500 hover:to-teal-500 transition",children:"+ Create Event"})]}),l.jsx("div",{className:"flex-1",children:l.jsxs("div",{className:`${K2} p-4`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h2",{className:"text-lg font-semibold text-purple-700",children:"Calendar"}),l.jsx("button",{onClick:T,className:"text-purple-600 hover:underline text-sm",children:"View Full Calendar"})]}),l.jsx("div",{className:"cursor-pointer",onClick:T,children:l.jsx(tA,{localizer:SH,events:D.map(B=>({...B,resource:{dotColor:"#a78bfa"}})),startAccessor:"start",endAccessor:"end",views:["month"],style:{height:300},toolbar:!1,selectable:!1,popup:!1,onSelectEvent:$,eventPropGetter:B=>({style:{backgroundColor:"transparent",color:"#a78bfa",border:"none",position:"relative"},className:"calendar-event-dot"}),components:{event:({event:B})=>{var X;return l.jsx("span",{style:{display:"inline-block",width:8,height:8,borderRadius:"50%",backgroundColor:((X=B.resource)==null?void 0:X.dotColor)||"#a78bfa",margin:2}})}}})})]})})]}),l.jsx("div",{className:t==="grid"?"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6 mt-8":"space-y-4 mt-8",children:f?l.jsx("div",{className:"text-gray-500 py-8 text-center text-base col-span-full",children:"Loading events..."}):h?l.jsx("div",{className:"text-red-500 py-8 text-center text-base col-span-full",children:h}):u.map(B=>t==="grid"?l.jsx(V,{event:B},B.id):l.jsx(F,{event:B},B.id))})]})};var Qr=Uint8Array,$n=Uint16Array,Ib=Int32Array,dm=new Qr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),fm=new Qr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),c0=new Qr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),lA=function(e,t){for(var r=new $n(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new Ib(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},cA=lA(dm,2),uA=cA.b,u0=cA.r;uA[28]=258,u0[258]=28;var dA=lA(fm,0),_H=dA.b,Z2=dA.r,d0=new $n(32768);for(var Jt=0;Jt<32768;++Jt){var no=(Jt&43690)>>1|(Jt&21845)<<1;no=(no&52428)>>2|(no&13107)<<2,no=(no&61680)>>4|(no&3855)<<4,d0[Jt]=((no&65280)>>8|(no&255)<<8)>>1}var oi=function(e,t,r){for(var n=e.length,a=0,i=new $n(t);a<n;++a)e[a]&&++i[e[a]-1];var o=new $n(t);for(a=1;a<t;++a)o[a]=o[a-1]+i[a-1]<<1;var s;if(r){s=new $n(1<<t);var c=15-t;for(a=0;a<n;++a)if(e[a])for(var u=a<<4|e[a],d=t-e[a],f=o[e[a]-1]++<<d,p=f|(1<<d)-1;f<=p;++f)s[d0[f]>>c]=u}else for(s=new $n(n),a=0;a<n;++a)e[a]&&(s[a]=d0[o[e[a]-1]++]>>15-e[a]);return s},bo=new Qr(288);for(var Jt=0;Jt<144;++Jt)bo[Jt]=8;for(var Jt=144;Jt<256;++Jt)bo[Jt]=9;for(var Jt=256;Jt<280;++Jt)bo[Jt]=7;for(var Jt=280;Jt<288;++Jt)bo[Jt]=8;var od=new Qr(32);for(var Jt=0;Jt<32;++Jt)od[Jt]=5;var AH=oi(bo,9,0),OH=oi(bo,9,1),PH=oi(od,5,0),EH=oi(od,5,1),ov=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},ba=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},sv=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},Rb=function(e){return(e+7)/8|0},fA=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Qr(e.subarray(t,r))},kH=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ja=function(e,t,r){var n=new Error(t||kH[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,ja),!r)throw n;return n},TH=function(e,t,r,n){var a=e.length,i=0;if(!a||t.f&&!t.l)return r||new Qr(0);var o=!r,s=o||t.i!=2,c=t.i;o&&(r=new Qr(a*3));var u=function(be){var pe=r.length;if(be>pe){var Ee=new Qr(Math.max(pe*2,be));Ee.set(r),r=Ee}},d=t.f||0,f=t.p||0,p=t.b||0,h=t.l,v=t.d,g=t.m,j=t.n,x=a*8;do{if(!h){d=ba(e,f,1);var b=ba(e,f+1,3);if(f+=3,b)if(b==1)h=OH,v=EH,g=9,j=5;else if(b==2){var A=ba(e,f,31)+257,O=ba(e,f+10,15)+4,E=A+ba(e,f+5,31)+1;f+=14;for(var C=new Qr(E),D=new Qr(19),k=0;k<O;++k)D[c0[k]]=ba(e,f+k*3,7);f+=O*3;for(var T=ov(D),$=(1<<T)-1,I=oi(D,T,1),k=0;k<E;){var V=I[ba(e,f,$)];f+=V&15;var N=V>>4;if(N<16)C[k++]=N;else{var F=0,B=0;for(N==16?(B=3+ba(e,f,3),f+=2,F=C[k-1]):N==17?(B=3+ba(e,f,7),f+=3):N==18&&(B=11+ba(e,f,127),f+=7);B--;)C[k++]=F}}var X=C.subarray(0,A),Y=C.subarray(A);g=ov(X),j=ov(Y),h=oi(X,g,1),v=oi(Y,j,1)}else ja(1);else{var N=Rb(f)+4,_=e[N-4]|e[N-3]<<8,w=N+_;if(w>a){c&&ja(0);break}s&&u(p+_),r.set(e.subarray(N,w),p),t.b=p+=_,t.p=f=w*8,t.f=d;continue}if(f>x){c&&ja(0);break}}s&&u(p+131072);for(var Z=(1<<g)-1,ae=(1<<j)-1,M=f;;M=f){var F=h[sv(e,f)&Z],W=F>>4;if(f+=F&15,f>x){c&&ja(0);break}if(F||ja(2),W<256)r[p++]=W;else if(W==256){M=f,h=null;break}else{var Q=W-254;if(W>264){var k=W-257,ne=dm[k];Q=ba(e,f,(1<<ne)-1)+uA[k],f+=ne}var oe=v[sv(e,f)&ae],he=oe>>4;oe||ja(3),f+=oe&15;var Y=_H[he];if(he>3){var ne=fm[he];Y+=sv(e,f)&(1<<ne)-1,f+=ne}if(f>x){c&&ja(0);break}s&&u(p+131072);var de=p+Q;if(p<Y){var ie=i-Y,xe=Math.min(Y,de);for(ie+p<0&&ja(3);p<xe;++p)r[p]=n[ie+p]}for(;p<de;++p)r[p]=r[p-Y]}}t.l=h,t.p=M,t.b=p,t.f=d,h&&(d=1,t.m=g,t.d=v,t.n=j)}while(!d);return p!=r.length&&o?fA(r,0,p):r.subarray(0,p)},Ai=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},xu=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},lv=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,i=r.slice();if(!a)return{t:pA,l:0};if(a==1){var o=new Qr(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(w,A){return w.f-A.f}),r.push({s:-1,f:25001});var s=r[0],c=r[1],u=0,d=1,f=2;for(r[0]={s:-1,f:s.f+c.f,l:s,r:c};d!=a-1;)s=r[r[u].f<r[f].f?u++:f++],c=r[u!=d&&r[u].f<r[f].f?u++:f++],r[d++]={s:-1,f:s.f+c.f,l:s,r:c};for(var p=i[0].s,n=1;n<a;++n)i[n].s>p&&(p=i[n].s);var h=new $n(p+1),v=f0(r[d-1],h,0);if(v>t){var n=0,g=0,j=v-t,x=1<<j;for(i.sort(function(A,O){return h[O.s]-h[A.s]||A.f-O.f});n<a;++n){var b=i[n].s;if(h[b]>t)g+=x-(1<<v-h[b]),h[b]=t;else break}for(g>>=j;g>0;){var N=i[n].s;h[N]<t?g-=1<<t-h[N]++-1:++n}for(;n>=0&&g;--n){var _=i[n].s;h[_]==t&&(--h[_],++g)}v=t}return{t:new Qr(h),l:v}},f0=function(e,t,r){return e.s==-1?Math.max(f0(e.l,t,r+1),f0(e.r,t,r+1)):t[e.s]=r},Q2=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new $n(++t),n=0,a=e[0],i=1,o=function(c){r[n++]=c},s=1;s<=t;++s)if(e[s]==a&&s!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(a),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(a);i=1,a=e[s]}return{c:r.subarray(0,n),n:t}},wu=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},hA=function(e,t,r){var n=r.length,a=Rb(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<n;++i)e[a+i+4]=r[i];return(a+4+n)*8},ew=function(e,t,r,n,a,i,o,s,c,u,d){Ai(t,d++,r),++a[256];for(var f=lv(a,15),p=f.t,h=f.l,v=lv(i,15),g=v.t,j=v.l,x=Q2(p),b=x.c,N=x.n,_=Q2(g),w=_.c,A=_.n,O=new $n(19),E=0;E<b.length;++E)++O[b[E]&31];for(var E=0;E<w.length;++E)++O[w[E]&31];for(var C=lv(O,7),D=C.t,k=C.l,T=19;T>4&&!D[c0[T-1]];--T);var $=u+5<<3,I=wu(a,bo)+wu(i,od)+o,V=wu(a,p)+wu(i,g)+o+14+3*T+wu(O,D)+2*O[16]+3*O[17]+7*O[18];if(c>=0&&$<=I&&$<=V)return hA(t,d,e.subarray(c,c+u));var F,B,X,Y;if(Ai(t,d,1+(V<I)),d+=2,V<I){F=oi(p,h,0),B=p,X=oi(g,j,0),Y=g;var Z=oi(D,k,0);Ai(t,d,N-257),Ai(t,d+5,A-1),Ai(t,d+10,T-4),d+=14;for(var E=0;E<T;++E)Ai(t,d+3*E,D[c0[E]]);d+=3*T;for(var ae=[b,w],M=0;M<2;++M)for(var W=ae[M],E=0;E<W.length;++E){var Q=W[E]&31;Ai(t,d,Z[Q]),d+=D[Q],Q>15&&(Ai(t,d,W[E]>>5&127),d+=W[E]>>12)}}else F=AH,B=bo,X=PH,Y=od;for(var E=0;E<s;++E){var ne=n[E];if(ne>255){var Q=ne>>18&31;xu(t,d,F[Q+257]),d+=B[Q+257],Q>7&&(Ai(t,d,ne>>23&31),d+=dm[Q]);var oe=ne&31;xu(t,d,X[oe]),d+=Y[oe],oe>3&&(xu(t,d,ne>>5&8191),d+=fm[oe])}else xu(t,d,F[ne]),d+=B[ne]}return xu(t,d,F[256]),d+B[256]},CH=new Ib([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),pA=new Qr(0),LH=function(e,t,r,n,a,i){var o=i.z||e.length,s=new Qr(n+o+5*(1+Math.ceil(o/7e3))+a),c=s.subarray(n,s.length-a),u=i.l,d=(i.r||0)&7;if(t){d&&(c[0]=i.r>>3);for(var f=CH[t-1],p=f>>13,h=f&8191,v=(1<<r)-1,g=i.p||new $n(32768),j=i.h||new $n(v+1),x=Math.ceil(r/3),b=2*x,N=function($e){return(e[$e]^e[$e+1]<<x^e[$e+2]<<b)&v},_=new Ib(25e3),w=new $n(288),A=new $n(32),O=0,E=0,C=i.i||0,D=0,k=i.w||0,T=0;C+2<o;++C){var $=N(C),I=C&32767,V=j[$];if(g[I]=V,j[$]=I,k<=C){var F=o-C;if((O>7e3||D>24576)&&(F>423||!u)){d=ew(e,c,0,_,w,A,E,D,T,C-T,d),D=O=E=0,T=C;for(var B=0;B<286;++B)w[B]=0;for(var B=0;B<30;++B)A[B]=0}var X=2,Y=0,Z=h,ae=I-V&32767;if(F>2&&$==N(C-ae))for(var M=Math.min(p,F)-1,W=Math.min(32767,C),Q=Math.min(258,F);ae<=W&&--Z&&I!=V;){if(e[C+X]==e[C+X-ae]){for(var ne=0;ne<Q&&e[C+ne]==e[C+ne-ae];++ne);if(ne>X){if(X=ne,Y=ae,ne>M)break;for(var oe=Math.min(ae,ne-2),he=0,B=0;B<oe;++B){var de=C-ae+B&32767,ie=g[de],xe=de-ie&32767;xe>he&&(he=xe,V=de)}}}I=V,V=g[I],ae+=I-V&32767}if(Y){_[D++]=268435456|u0[X]<<18|Z2[Y];var be=u0[X]&31,pe=Z2[Y]&31;E+=dm[be]+fm[pe],++w[257+be],++A[pe],k=C+X,++O}else _[D++]=e[C],++w[e[C]]}}for(C=Math.max(C,k);C<o;++C)_[D++]=e[C],++w[e[C]];d=ew(e,c,u,_,w,A,E,D,T,C-T,d),u||(i.r=d&7|c[d/8|0]<<3,d-=7,i.h=j,i.p=g,i.i=C,i.w=k)}else{for(var C=i.w||0;C<o+u;C+=65535){var Ee=C+65535;Ee>=o&&(c[d/8|0]=u,Ee=o),d=hA(c,d+1,e.subarray(C,Ee))}i.i=o}return fA(s,0,n+Rb(d)+a)},mA=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,i=r.length|0,o=0;o!=i;){for(var s=Math.min(o+2655,i);o<s;++o)a+=n+=r[o];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},MH=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),o=new Qr(i.length+e.length);o.set(i),o.set(e,i.length),e=o,a.w=i.length}return LH(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},gA=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},$H=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=mA();a.p(t.dictionary),gA(e,2,a.d())}},DH=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&ja(6,"invalid zlib data"),(e[1]>>5&1)==1&&ja(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function h0(e,t){t||(t={});var r=mA();r.p(e);var n=MH(e,t,t.dictionary?6:2,4);return $H(n,t),gA(n,n.length-4,r.d()),n}function IH(e,t){return TH(e.subarray(DH(e),-4),{i:2},t,t)}var RH=typeof TextDecoder<"u"&&new TextDecoder,FH=0;try{RH.decode(pA,{stream:!0}),FH=1}catch{}var rt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function cv(){rt.console&&typeof rt.console.log=="function"&&rt.console.log.apply(rt.console,arguments)}var Ft={log:cv,warn:function(e){rt.console&&(typeof rt.console.warn=="function"?rt.console.warn.apply(rt.console,arguments):cv.call(null,arguments))},error:function(e){rt.console&&(typeof rt.console.error=="function"?rt.console.error.apply(rt.console,arguments):cv(e))}};function uv(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){Ko(n.response,t,r)},n.onerror=function(){Ft.error("could not download file")},n.send()}function tw(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Zf(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Iu,p0,Ko=rt.saveAs||((typeof window>"u"?"undefined":xt(window))!=="object"||window!==rt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=rt.URL||rt.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?tw(a.href)?uv(e,t,r):Zf(a,a.target="_blank"):Zf(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){Zf(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(tw(e))uv(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){Zf(n)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:xt(i)!=="object"&&(Ft.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return uv(e,t,r);var a=e.type==="application/octet-stream",i=/constructor/i.test(rt.HTMLElement)||rt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||a&&i)&&(typeof FileReader>"u"?"undefined":xt(FileReader))==="object"){var s=new FileReader;s.onloadend=function(){var d=s.result;d=o?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},s.readAsDataURL(e)}else{var c=rt.URL||rt.webkitURL,u=c.createObjectURL(e);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function vA(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(s){return[parseInt(s[1]),parseInt(s[2]),parseInt(s[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(s){return[parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(s){return[parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16),parseInt(s[3]+s[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,o=a.exec(e);o&&(t=i(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var s=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return s.length==1&&(s="0"+s),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+s+c+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function dv(e,t){var r=e[0],n=e[1],a=e[2],i=e[3];r=Vr(r,n,a,i,t[0],7,-680876936),i=Vr(i,r,n,a,t[1],12,-389564586),a=Vr(a,i,r,n,t[2],17,606105819),n=Vr(n,a,i,r,t[3],22,-1044525330),r=Vr(r,n,a,i,t[4],7,-176418897),i=Vr(i,r,n,a,t[5],12,1200080426),a=Vr(a,i,r,n,t[6],17,-1473231341),n=Vr(n,a,i,r,t[7],22,-45705983),r=Vr(r,n,a,i,t[8],7,1770035416),i=Vr(i,r,n,a,t[9],12,-1958414417),a=Vr(a,i,r,n,t[10],17,-42063),n=Vr(n,a,i,r,t[11],22,-1990404162),r=Vr(r,n,a,i,t[12],7,1804603682),i=Vr(i,r,n,a,t[13],12,-40341101),a=Vr(a,i,r,n,t[14],17,-1502002290),r=Yr(r,n=Vr(n,a,i,r,t[15],22,1236535329),a,i,t[1],5,-165796510),i=Yr(i,r,n,a,t[6],9,-1069501632),a=Yr(a,i,r,n,t[11],14,643717713),n=Yr(n,a,i,r,t[0],20,-373897302),r=Yr(r,n,a,i,t[5],5,-701558691),i=Yr(i,r,n,a,t[10],9,38016083),a=Yr(a,i,r,n,t[15],14,-660478335),n=Yr(n,a,i,r,t[4],20,-405537848),r=Yr(r,n,a,i,t[9],5,568446438),i=Yr(i,r,n,a,t[14],9,-1019803690),a=Yr(a,i,r,n,t[3],14,-187363961),n=Yr(n,a,i,r,t[8],20,1163531501),r=Yr(r,n,a,i,t[13],5,-1444681467),i=Yr(i,r,n,a,t[2],9,-51403784),a=Yr(a,i,r,n,t[7],14,1735328473),r=Kr(r,n=Yr(n,a,i,r,t[12],20,-1926607734),a,i,t[5],4,-378558),i=Kr(i,r,n,a,t[8],11,-2022574463),a=Kr(a,i,r,n,t[11],16,1839030562),n=Kr(n,a,i,r,t[14],23,-35309556),r=Kr(r,n,a,i,t[1],4,-1530992060),i=Kr(i,r,n,a,t[4],11,1272893353),a=Kr(a,i,r,n,t[7],16,-155497632),n=Kr(n,a,i,r,t[10],23,-1094730640),r=Kr(r,n,a,i,t[13],4,681279174),i=Kr(i,r,n,a,t[0],11,-358537222),a=Kr(a,i,r,n,t[3],16,-722521979),n=Kr(n,a,i,r,t[6],23,76029189),r=Kr(r,n,a,i,t[9],4,-640364487),i=Kr(i,r,n,a,t[12],11,-421815835),a=Kr(a,i,r,n,t[15],16,530742520),r=Xr(r,n=Kr(n,a,i,r,t[2],23,-995338651),a,i,t[0],6,-198630844),i=Xr(i,r,n,a,t[7],10,1126891415),a=Xr(a,i,r,n,t[14],15,-1416354905),n=Xr(n,a,i,r,t[5],21,-57434055),r=Xr(r,n,a,i,t[12],6,1700485571),i=Xr(i,r,n,a,t[3],10,-1894986606),a=Xr(a,i,r,n,t[10],15,-1051523),n=Xr(n,a,i,r,t[1],21,-2054922799),r=Xr(r,n,a,i,t[8],6,1873313359),i=Xr(i,r,n,a,t[15],10,-30611744),a=Xr(a,i,r,n,t[6],15,-1560198380),n=Xr(n,a,i,r,t[13],21,1309151649),r=Xr(r,n,a,i,t[4],6,-145523070),i=Xr(i,r,n,a,t[11],10,-1120210379),a=Xr(a,i,r,n,t[2],15,718787259),n=Xr(n,a,i,r,t[9],21,-343485551),e[0]=uo(r,e[0]),e[1]=uo(n,e[1]),e[2]=uo(a,e[2]),e[3]=uo(i,e[3])}function hm(e,t,r,n,a,i){return t=uo(uo(t,e),uo(n,i)),uo(t<<a|t>>>32-a,r)}function Vr(e,t,r,n,a,i,o){return hm(t&r|~t&n,e,t,a,i,o)}function Yr(e,t,r,n,a,i,o){return hm(t&n|r&~n,e,t,a,i,o)}function Kr(e,t,r,n,a,i,o){return hm(t^r^n,e,t,a,i,o)}function Xr(e,t,r,n,a,i,o){return hm(r^(t|~n),e,t,a,i,o)}function yA(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)dv(n,BH(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(dv(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,dv(n,a),n}function BH(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}Iu=rt.atob.bind(rt),p0=rt.btoa.bind(rt);var rw="0123456789abcdef".split("");function zH(e){for(var t="",r=0;r<4;r++)t+=rw[e>>8*r+4&15]+rw[e>>8*r&15];return t}function qH(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function m0(e){return yA(e).map(qH).join("")}var UH=function(e){for(var t=0;t<e.length;t++)e[t]=zH(e[t]);return e.join("")}(yA("hello"))!="5d41402abc4b2a76b9719d911017c592";function uo(e,t){if(UH){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function g0(e,t){var r,n,a,i;if(e!==r){for(var o=(a=e,i=1+(256/e.length>>0),new Array(i+1).join(a)),s=[],c=0;c<256;c++)s[c]=c;var u=0;for(c=0;c<256;c++){var d=s[c];u=(u+d+o.charCodeAt(c))%256,s[c]=s[u],s[u]=d}r=e,n=s}else s=n;var f=t.length,p=0,h=0,v="";for(c=0;c<f;c++)h=(h+(d=s[p=(p+1)%256]))%256,s[p]=s[h],s[h]=d,o=s[(s[p]+s[h])%256],v+=String.fromCharCode(t.charCodeAt(c)^o);return v}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var nw={print:4,modify:8,copy:16,"annot-forms":32};function xl(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(s){if(nw.perm!==void 0)throw new Error("Invalid permission: "+s);a+=nw[s]}),this.padding="(Â¿N^NuÂŠAd\0NVÃ¿Ãº\b..\0Â¶Ãh>Â€/\fÂ©Ã¾dSiz";var i=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^a)),this.encryptionKey=m0(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=g0(this.encryptionKey,this.padding)}function wl(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?t+="#"+("0"+a.toString(16)).slice(-2):t+=e[n]}return t}function aw(e){if(xt(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[r]){var o=t[r][i];try{o[0].apply(e,n)}catch(s){rt.console&&Ft.error("jsPDF PubSub Error",s.message,s)}o[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Bh(e){if(!(this instanceof Bh))return new Bh(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function bA(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Qo(e,t,r,n,a){if(!(this instanceof Qo))return new Qo(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,bA.call(this,n,a)}function Nl(e,t,r,n,a){if(!(this instanceof Nl))return new Nl(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,bA.call(this,n,a)}function tt(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],o=[],s=1,c=16,u="S",d=null;xt(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,i=e.compress||e.compressPdf||i,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),s=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),u=e.defaultPathOperation||"S"),o=e.filters||(i===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,p={},h={internal:{},__private__:{}};h.__private__.PubSub=aw;var v="1.3",g=h.__private__.getPdfVersion=function(){return v};h.__private__.setPdfVersion=function(S){v=S};var j={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return j};var x=h.__private__.getPageFormat=function(S){return j[S]};a=a||"a4";var b={COMPAT:"compat",ADVANCED:"advanced"},N=b.COMPAT;function _(){this.saveGraphicsState(),re(new Qe(Fe,0,0,-Fe,0,Wi()*Fe).toString()+" cm"),this.setFontSize(this.getFontSize()/Fe),u="n",N=b.ADVANCED}function w(){this.restoreGraphicsState(),u="S",N=b.COMPAT}var A=h.__private__.combineFontStyleAndFontWeight=function(S,q){if(S=="bold"&&q=="normal"||S=="bold"&&q==400||S=="normal"&&q=="italic"||S=="bold"&&q=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return q&&(S=q==400||q==="normal"?S==="italic"?"italic":"normal":q!=700&&q!=="bold"||S!=="normal"?(q==700?"bold":q)+""+S:"bold"),S};h.advancedAPI=function(S){var q=N===b.COMPAT;return q&&_.call(this),typeof S!="function"||(S(this),q&&w.call(this)),this},h.compatAPI=function(S){var q=N===b.ADVANCED;return q&&w.call(this),typeof S!="function"||(S(this),q&&_.call(this)),this},h.isAdvancedAPI=function(){return N===b.ADVANCED};var O,E=function(S){if(N!==b.ADVANCED)throw new Error(S+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},C=h.roundToPrecision=h.__private__.roundToPrecision=function(S,q){var te=t||q;if(isNaN(S)||isNaN(te))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return S.toFixed(te).replace(/0+$/,"")};O=h.hpf=h.__private__.hpf=typeof c=="number"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return C(S,c)}:c==="smart"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return C(S,S>-1&&S<1?16:5)}:function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return C(S,16)};var D=h.f2=h.__private__.f2=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f2");return C(S,2)},k=h.__private__.f3=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f3");return C(S,3)},T=h.scale=h.__private__.scale=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.scale");return N===b.COMPAT?S*Fe:N===b.ADVANCED?S:void 0},$=function(S){return N===b.COMPAT?Wi()-S:N===b.ADVANCED?S:void 0},I=function(S){return T($(S))};h.__private__.setPrecision=h.setPrecision=function(S){typeof parseInt(S,10)=="number"&&(t=parseInt(S,10))};var V,F="00000000000000000000000000000000",B=h.__private__.getFileId=function(){return F},X=h.__private__.setFileId=function(S){return F=S!==void 0&&/^[a-fA-F0-9]{32}$/.test(S)?S.toUpperCase():F.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Wr=new xl(d.userPermissions,d.userPassword,d.ownerPassword,F)),F};h.setFileId=function(S){return X(S),this},h.getFileId=function(){return B()};var Y=h.__private__.convertDateToPDFDate=function(S){var q=S.getTimezoneOffset(),te=q<0?"+":"-",se=Math.floor(Math.abs(q/60)),me=Math.abs(q%60),je=[te,Q(se),"'",Q(me),"'"].join("");return["D:",S.getFullYear(),Q(S.getMonth()+1),Q(S.getDate()),Q(S.getHours()),Q(S.getMinutes()),Q(S.getSeconds()),je].join("")},Z=h.__private__.convertPDFDateToDate=function(S){var q=parseInt(S.substr(2,4),10),te=parseInt(S.substr(6,2),10)-1,se=parseInt(S.substr(8,2),10),me=parseInt(S.substr(10,2),10),je=parseInt(S.substr(12,2),10),Te=parseInt(S.substr(14,2),10);return new Date(q,te,se,me,je,Te,0)},ae=h.__private__.setCreationDate=function(S){var q;if(S===void 0&&(S=new Date),S instanceof Date)q=Y(S);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(S))throw new Error("Invalid argument passed to jsPDF.setCreationDate");q=S}return V=q},M=h.__private__.getCreationDate=function(S){var q=V;return S==="jsDate"&&(q=Z(V)),q};h.setCreationDate=function(S){return ae(S),this},h.getCreationDate=function(S){return M(S)};var W,Q=h.__private__.padd2=function(S){return("0"+parseInt(S)).slice(-2)},ne=h.__private__.padd2Hex=function(S){return("00"+(S=S.toString())).substr(S.length)},oe=0,he=[],de=[],ie=0,xe=[],be=[],pe=!1,Ee=de,$e=function(){oe=0,ie=0,de=[],he=[],xe=[],pi=gr(),da=gr()};h.__private__.setCustomOutputDestination=function(S){pe=!0,Ee=S};var ye=function(S){pe||(Ee=S)};h.__private__.resetCustomOutputDestination=function(){pe=!1,Ee=de};var re=h.__private__.out=function(S){return S=S.toString(),ie+=S.length+1,Ee.push(S),Ee},Ye=h.__private__.write=function(S){return re(arguments.length===1?S.toString():Array.prototype.join.call(arguments," "))},Be=h.__private__.getArrayBuffer=function(S){for(var q=S.length,te=new ArrayBuffer(q),se=new Uint8Array(te);q--;)se[q]=S.charCodeAt(q);return te},ke=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return ke};var Ce=e.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(S){return Ce=N===b.ADVANCED?S/Fe:S,this};var De,Me=h.__private__.getFontSize=h.getFontSize=function(){return N===b.COMPAT?Ce:Ce*Fe},Ve=e.R2L||!1;h.__private__.setR2L=h.setR2L=function(S){return Ve=S,this},h.__private__.getR2L=h.getR2L=function(){return Ve};var Ze,at=h.__private__.setZoomMode=function(S){var q=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(S))De=S;else if(isNaN(S)){if(q.indexOf(S)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+S+'" is not recognized.');De=S}else De=parseInt(S,10)};h.__private__.getZoomMode=function(){return De};var pt,yt=h.__private__.setPageMode=function(S){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(S)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+S+'" is not recognized.');Ze=S};h.__private__.getPageMode=function(){return Ze};var Ot=h.__private__.setLayoutMode=function(S){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(S)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+S+'" is not recognized.');pt=S};h.__private__.getLayoutMode=function(){return pt},h.__private__.setDisplayMode=h.setDisplayMode=function(S,q,te){return at(S),Ot(q),yt(te),this};var it={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(S){if(Object.keys(it).indexOf(S)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return it[S]},h.__private__.getDocumentProperties=function(){return it},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(S){for(var q in it)it.hasOwnProperty(q)&&S[q]&&(it[q]=S[q]);return this},h.__private__.setDocumentProperty=function(S,q){if(Object.keys(it).indexOf(S)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return it[S]=q};var vt,Fe,Ur,_t,la,It={},Zt={},Ra=[],Et={},Po={},tr={},ca={},hi=null,rr=0,lt=[],kt=new aw(h),Eo=e.hotfixes||[],Rr={},Fa={},Ba=[],Qe=function S(q,te,se,me,je,Te){if(!(this instanceof S))return new S(q,te,se,me,je,Te);isNaN(q)&&(q=1),isNaN(te)&&(te=0),isNaN(se)&&(se=0),isNaN(me)&&(me=1),isNaN(je)&&(je=0),isNaN(Te)&&(Te=0),this._matrix=[q,te,se,me,je,Te]};Object.defineProperty(Qe.prototype,"sx",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(Qe.prototype,"shy",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(Qe.prototype,"shx",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(Qe.prototype,"sy",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(Qe.prototype,"tx",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(Qe.prototype,"ty",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(Qe.prototype,"a",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(Qe.prototype,"b",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(Qe.prototype,"c",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(Qe.prototype,"d",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(Qe.prototype,"e",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(Qe.prototype,"f",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(Qe.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Qe.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Qe.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Qe.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Qe.prototype.join=function(S){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(O).join(S)},Qe.prototype.multiply=function(S){var q=S.sx*this.sx+S.shy*this.shx,te=S.sx*this.shy+S.shy*this.sy,se=S.shx*this.sx+S.sy*this.shx,me=S.shx*this.shy+S.sy*this.sy,je=S.tx*this.sx+S.ty*this.shx+this.tx,Te=S.tx*this.shy+S.ty*this.sy+this.ty;return new Qe(q,te,se,me,je,Te)},Qe.prototype.decompose=function(){var S=this.sx,q=this.shy,te=this.shx,se=this.sy,me=this.tx,je=this.ty,Te=Math.sqrt(S*S+q*q),ze=(S/=Te)*te+(q/=Te)*se;te-=S*ze,se-=q*ze;var Ke=Math.sqrt(te*te+se*se);return ze/=Ke,S*(se/=Ke)<q*(te/=Ke)&&(S=-S,q=-q,ze=-ze,Te=-Te),{scale:new Qe(Te,0,0,Ke,0,0),translate:new Qe(1,0,0,1,me,je),rotate:new Qe(S,q,-q,S,0,0),skew:new Qe(1,0,ze,1,0,0)}},Qe.prototype.toString=function(S){return this.join(" ")},Qe.prototype.inversed=function(){var S=this.sx,q=this.shy,te=this.shx,se=this.sy,me=this.tx,je=this.ty,Te=1/(S*se-q*te),ze=se*Te,Ke=-q*Te,dt=-te*Te,ct=S*Te;return new Qe(ze,Ke,dt,ct,-ze*me-dt*je,-Ke*me-ct*je)},Qe.prototype.applyToPoint=function(S){var q=S.x*this.sx+S.y*this.shx+this.tx,te=S.x*this.shy+S.y*this.sy+this.ty;return new Ks(q,te)},Qe.prototype.applyToRectangle=function(S){var q=this.applyToPoint(S),te=this.applyToPoint(new Ks(S.x+S.w,S.y+S.h));return new Kc(q.x,q.y,te.x-q.x,te.y-q.y)},Qe.prototype.clone=function(){var S=this.sx,q=this.shy,te=this.shx,se=this.sy,me=this.tx,je=this.ty;return new Qe(S,q,te,se,me,je)},h.Matrix=Qe;var ua=h.matrixMult=function(S,q){return q.multiply(S)},za=new Qe(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=za;var hn=function(S,q){if(!Po[S]){var te=(q instanceof Qo?"Sh":"P")+(Object.keys(Et).length+1).toString(10);q.id=te,Po[S]=te,Et[te]=q,kt.publish("addPattern",q)}};h.ShadingPattern=Qo,h.TilingPattern=Nl,h.addShadingPattern=function(S,q){return E("addShadingPattern()"),hn(S,q),this},h.beginTilingPattern=function(S){E("beginTilingPattern()"),wf(S.boundingBox[0],S.boundingBox[1],S.boundingBox[2]-S.boundingBox[0],S.boundingBox[3]-S.boundingBox[1],S.matrix)},h.endTilingPattern=function(S,q){E("endTilingPattern()"),q.stream=be[W].join(`
`),hn(S,q),kt.publish("endTilingPattern",q),Ba.pop().restore()};var Nr=h.__private__.newObject=function(){var S=gr();return An(S,!0),S},gr=h.__private__.newObjectDeferred=function(){return oe++,he[oe]=function(){return ie},oe},An=function(S,q){return q=typeof q=="boolean"&&q,he[S]=ie,q&&re(S+" 0 obj"),S},Ds=h.__private__.newAdditionalObject=function(){var S={objId:gr(),content:""};return xe.push(S),S},pi=gr(),da=gr(),fa=h.__private__.decodeColorString=function(S){var q=S.split(" ");if(q.length!==2||q[1]!=="g"&&q[1]!=="G")q.length===5&&(q[4]==="k"||q[4]==="K")&&(q=[(1-q[0])*(1-q[3]),(1-q[1])*(1-q[3]),(1-q[2])*(1-q[3]),"r"]);else{var te=parseFloat(q[0]);q=[te,te,te,"r"]}for(var se="#",me=0;me<3;me++)se+=("0"+Math.floor(255*parseFloat(q[me])).toString(16)).slice(-2);return se},ha=h.__private__.encodeColorString=function(S){var q;typeof S=="string"&&(S={ch1:S});var te=S.ch1,se=S.ch2,me=S.ch3,je=S.ch4,Te=S.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof te=="string"&&te.charAt(0)!=="#"){var ze=new vA(te);if(ze.ok)te=ze.toHex();else if(!/^\d*\.?\d*$/.test(te))throw new Error('Invalid color "'+te+'" passed to jsPDF.encodeColorString.')}if(typeof te=="string"&&/^#[0-9A-Fa-f]{3}$/.test(te)&&(te="#"+te[1]+te[1]+te[2]+te[2]+te[3]+te[3]),typeof te=="string"&&/^#[0-9A-Fa-f]{6}$/.test(te)){var Ke=parseInt(te.substr(1),16);te=Ke>>16&255,se=Ke>>8&255,me=255&Ke}if(se===void 0||je===void 0&&te===se&&se===me)if(typeof te=="string")q=te+" "+Te[0];else switch(S.precision){case 2:q=D(te/255)+" "+Te[0];break;case 3:default:q=k(te/255)+" "+Te[0]}else if(je===void 0||xt(je)==="object"){if(je&&!isNaN(je.a)&&je.a===0)return q=["1.","1.","1.",Te[1]].join(" ");if(typeof te=="string")q=[te,se,me,Te[1]].join(" ");else switch(S.precision){case 2:q=[D(te/255),D(se/255),D(me/255),Te[1]].join(" ");break;default:case 3:q=[k(te/255),k(se/255),k(me/255),Te[1]].join(" ")}}else if(typeof te=="string")q=[te,se,me,je,Te[2]].join(" ");else switch(S.precision){case 2:q=[D(te),D(se),D(me),D(je),Te[2]].join(" ");break;case 3:default:q=[k(te),k(se),k(me),k(je),Te[2]].join(" ")}return q},qa=h.__private__.getFilters=function(){return o},Rn=h.__private__.putStream=function(S){var q=(S=S||{}).data||"",te=S.filters||qa(),se=S.alreadyAppliedFilters||[],me=S.addLength1||!1,je=q.length,Te=S.objectId,ze=function(Hr){return Hr};if(d!==null&&Te===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(ze=Wr.encryptor(Te,0));var Ke={};te===!0&&(te=["FlateEncode"]);var dt=S.additionalKeyValues||[],ct=(Ke=tt.API.processDataByFilters!==void 0?tt.API.processDataByFilters(q,te):{data:q,reverseChain:[]}).reverseChain+(Array.isArray(se)?se.join(" "):se.toString());if(Ke.data.length!==0&&(dt.push({key:"Length",value:Ke.data.length}),me===!0&&dt.push({key:"Length1",value:je})),ct.length!=0)if(ct.split("/").length-1==1)dt.push({key:"Filter",value:ct});else{dt.push({key:"Filter",value:"["+ct+"]"});for(var jt=0;jt<dt.length;jt+=1)if(dt[jt].key==="DecodeParms"){for(var er=[],nr=0;nr<Ke.reverseChain.split("/").length-1;nr+=1)er.push("null");er.push(dt[jt].value),dt[jt].value="["+er.join(" ")+"]"}}re("<<");for(var vr=0;vr<dt.length;vr++)re("/"+dt[vr].key+" "+dt[vr].value);re(">>"),Ke.data.length!==0&&(re("stream"),re(ze(Ke.data)),re("endstream"))},Ua=h.__private__.putPage=function(S){var q=S.number,te=S.data,se=S.objId,me=S.contentsObjId;An(se,!0),re("<</Type /Page"),re("/Parent "+S.rootDictionaryObjId+" 0 R"),re("/Resources "+S.resourceDictionaryObjId+" 0 R"),re("/MediaBox ["+parseFloat(O(S.mediaBox.bottomLeftX))+" "+parseFloat(O(S.mediaBox.bottomLeftY))+" "+O(S.mediaBox.topRightX)+" "+O(S.mediaBox.topRightY)+"]"),S.cropBox!==null&&re("/CropBox ["+O(S.cropBox.bottomLeftX)+" "+O(S.cropBox.bottomLeftY)+" "+O(S.cropBox.topRightX)+" "+O(S.cropBox.topRightY)+"]"),S.bleedBox!==null&&re("/BleedBox ["+O(S.bleedBox.bottomLeftX)+" "+O(S.bleedBox.bottomLeftY)+" "+O(S.bleedBox.topRightX)+" "+O(S.bleedBox.topRightY)+"]"),S.trimBox!==null&&re("/TrimBox ["+O(S.trimBox.bottomLeftX)+" "+O(S.trimBox.bottomLeftY)+" "+O(S.trimBox.topRightX)+" "+O(S.trimBox.topRightY)+"]"),S.artBox!==null&&re("/ArtBox ["+O(S.artBox.bottomLeftX)+" "+O(S.artBox.bottomLeftY)+" "+O(S.artBox.topRightX)+" "+O(S.artBox.topRightY)+"]"),typeof S.userUnit=="number"&&S.userUnit!==1&&re("/UserUnit "+S.userUnit),kt.publish("putPage",{objId:se,pageContext:lt[q],pageNumber:q,page:te}),re("/Contents "+me+" 0 R"),re(">>"),re("endobj");var je=te.join(`
`);return N===b.ADVANCED&&(je+=`
Q`),An(me,!0),Rn({data:je,filters:qa(),objectId:me}),re("endobj"),se},ko=h.__private__.putPages=function(){var S,q,te=[];for(S=1;S<=rr;S++)lt[S].objId=gr(),lt[S].contentsObjId=gr();for(S=1;S<=rr;S++)te.push(Ua({number:S,data:be[S],objId:lt[S].objId,contentsObjId:lt[S].contentsObjId,mediaBox:lt[S].mediaBox,cropBox:lt[S].cropBox,bleedBox:lt[S].bleedBox,trimBox:lt[S].trimBox,artBox:lt[S].artBox,userUnit:lt[S].userUnit,rootDictionaryObjId:pi,resourceDictionaryObjId:da}));An(pi,!0),re("<</Type /Pages");var se="/Kids [";for(q=0;q<rr;q++)se+=te[q]+" 0 R ";re(se+"]"),re("/Count "+rr),re(">>"),re("endobj"),kt.publish("postPutPages")},Is=function(S){kt.publish("putFont",{font:S,out:re,newObject:Nr,putStream:Rn}),S.isAlreadyPutted!==!0&&(S.objectNumber=Nr(),re("<<"),re("/Type /Font"),re("/BaseFont /"+wl(S.postScriptName)),re("/Subtype /Type1"),typeof S.encoding=="string"&&re("/Encoding /"+S.encoding),re("/FirstChar 32"),re("/LastChar 255"),re(">>"),re("endobj"))},Rs=function(){for(var S in It)It.hasOwnProperty(S)&&(f===!1||f===!0&&p.hasOwnProperty(S))&&Is(It[S])},Fs=function(S){S.objectNumber=Nr();var q=[];q.push({key:"Type",value:"/XObject"}),q.push({key:"Subtype",value:"/Form"}),q.push({key:"BBox",value:"["+[O(S.x),O(S.y),O(S.x+S.width),O(S.y+S.height)].join(" ")+"]"}),q.push({key:"Matrix",value:"["+S.matrix.toString()+"]"});var te=S.pages[1].join(`
`);Rn({data:te,additionalKeyValues:q,objectId:S.objectNumber}),re("endobj")},Bs=function(){for(var S in Rr)Rr.hasOwnProperty(S)&&Fs(Rr[S])},rf=function(S,q){var te,se=[],me=1/(q-1);for(te=0;te<1;te+=me)se.push(te);if(se.push(1),S[0].offset!=0){var je={offset:0,color:S[0].color};S.unshift(je)}if(S[S.length-1].offset!=1){var Te={offset:1,color:S[S.length-1].color};S.push(Te)}for(var ze="",Ke=0,dt=0;dt<se.length;dt++){for(te=se[dt];te>S[Ke+1].offset;)Ke++;var ct=S[Ke].offset,jt=(te-ct)/(S[Ke+1].offset-ct),er=S[Ke].color,nr=S[Ke+1].color;ze+=ne(Math.round((1-jt)*er[0]+jt*nr[0]).toString(16))+ne(Math.round((1-jt)*er[1]+jt*nr[1]).toString(16))+ne(Math.round((1-jt)*er[2]+jt*nr[2]).toString(16))}return ze.trim()},rg=function(S,q){q||(q=21);var te=Nr(),se=rf(S.colors,q),me=[];me.push({key:"FunctionType",value:"0"}),me.push({key:"Domain",value:"[0.0 1.0]"}),me.push({key:"Size",value:"["+q+"]"}),me.push({key:"BitsPerSample",value:"8"}),me.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),me.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Rn({data:se,additionalKeyValues:me,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:te}),re("endobj"),S.objectNumber=Nr(),re("<< /ShadingType "+S.type),re("/ColorSpace /DeviceRGB");var je="/Coords ["+O(parseFloat(S.coords[0]))+" "+O(parseFloat(S.coords[1]))+" ";S.type===2?je+=O(parseFloat(S.coords[2]))+" "+O(parseFloat(S.coords[3])):je+=O(parseFloat(S.coords[2]))+" "+O(parseFloat(S.coords[3]))+" "+O(parseFloat(S.coords[4]))+" "+O(parseFloat(S.coords[5])),re(je+="]"),S.matrix&&re("/Matrix ["+S.matrix.toString()+"]"),re("/Function "+te+" 0 R"),re("/Extend [true true]"),re(">>"),re("endobj")},ng=function(S,q){var te=gr(),se=Nr();q.push({resourcesOid:te,objectOid:se}),S.objectNumber=se;var me=[];me.push({key:"Type",value:"/Pattern"}),me.push({key:"PatternType",value:"1"}),me.push({key:"PaintType",value:"1"}),me.push({key:"TilingType",value:"1"}),me.push({key:"BBox",value:"["+S.boundingBox.map(O).join(" ")+"]"}),me.push({key:"XStep",value:O(S.xStep)}),me.push({key:"YStep",value:O(S.yStep)}),me.push({key:"Resources",value:te+" 0 R"}),S.matrix&&me.push({key:"Matrix",value:"["+S.matrix.toString()+"]"}),Rn({data:S.stream,additionalKeyValues:me,objectId:S.objectNumber}),re("endobj")},zs=function(S){var q;for(q in Et)Et.hasOwnProperty(q)&&(Et[q]instanceof Qo?rg(Et[q]):Et[q]instanceof Nl&&ng(Et[q],S))},nf=function(S){for(var q in S.objectNumber=Nr(),re("<<"),S)switch(q){case"opacity":re("/ca "+D(S[q]));break;case"stroke-opacity":re("/CA "+D(S[q]))}re(">>"),re("endobj")},ag=function(){var S;for(S in tr)tr.hasOwnProperty(S)&&nf(tr[S])},Fc=function(){for(var S in re("/XObject <<"),Rr)Rr.hasOwnProperty(S)&&Rr[S].objectNumber>=0&&re("/"+S+" "+Rr[S].objectNumber+" 0 R");kt.publish("putXobjectDict"),re(">>")},ig=function(){Wr.oid=Nr(),re("<<"),re("/Filter /Standard"),re("/V "+Wr.v),re("/R "+Wr.r),re("/U <"+Wr.toHexString(Wr.U)+">"),re("/O <"+Wr.toHexString(Wr.O)+">"),re("/P "+Wr.P),re(">>"),re("endobj")},af=function(){for(var S in re("/Font <<"),It)It.hasOwnProperty(S)&&(f===!1||f===!0&&p.hasOwnProperty(S))&&re("/"+S+" "+It[S].objectNumber+" 0 R");re(">>")},og=function(){if(Object.keys(Et).length>0){for(var S in re("/Shading <<"),Et)Et.hasOwnProperty(S)&&Et[S]instanceof Qo&&Et[S].objectNumber>=0&&re("/"+S+" "+Et[S].objectNumber+" 0 R");kt.publish("putShadingPatternDict"),re(">>")}},qs=function(S){if(Object.keys(Et).length>0){for(var q in re("/Pattern <<"),Et)Et.hasOwnProperty(q)&&Et[q]instanceof h.TilingPattern&&Et[q].objectNumber>=0&&Et[q].objectNumber<S&&re("/"+q+" "+Et[q].objectNumber+" 0 R");kt.publish("putTilingPatternDict"),re(">>")}},sg=function(){if(Object.keys(tr).length>0){var S;for(S in re("/ExtGState <<"),tr)tr.hasOwnProperty(S)&&tr[S].objectNumber>=0&&re("/"+S+" "+tr[S].objectNumber+" 0 R");kt.publish("putGStateDict"),re(">>")}},cr=function(S){An(S.resourcesOid,!0),re("<<"),re("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),af(),og(),qs(S.objectOid),sg(),Fc(),re(">>"),re("endobj")},of=function(){var S=[];Rs(),ag(),Bs(),zs(S),kt.publish("putResources"),S.forEach(cr),cr({resourcesOid:da,objectOid:Number.MAX_SAFE_INTEGER}),kt.publish("postPutResources")},sf=function(){kt.publish("putAdditionalObjects");for(var S=0;S<xe.length;S++){var q=xe[S];An(q.objId,!0),re(q.content),re("endobj")}kt.publish("postPutAdditionalObjects")},lf=function(S){Zt[S.fontName]=Zt[S.fontName]||{},Zt[S.fontName][S.fontStyle]=S.id},Bc=function(S,q,te,se,me){var je={id:"F"+(Object.keys(It).length+1).toString(10),postScriptName:S,fontName:q,fontStyle:te,encoding:se,isStandardFont:me||!1,metadata:{}};return kt.publish("addFont",{font:je,instance:this}),It[je.id]=je,lf(je),je.id},lg=function(S){for(var q=0,te=ke.length;q<te;q++){var se=Bc.call(this,S[q][0],S[q][1],S[q][2],ke[q][3],!0);f===!1&&(p[se]=!0);var me=S[q][0].split("-");lf({id:se,fontName:me[0],fontStyle:me[1]||""})}kt.publish("addFonts",{fonts:It,dictionary:Zt})},pa=function(S){return S.foo=function(){try{return S.apply(this,arguments)}catch(se){var q=se.stack||"";~q.indexOf(" at ")&&(q=q.split(" at ")[1]);var te="Error in function "+q.split(`
`)[0].split("<")[0]+": "+se.message;if(!rt.console)throw new Error(te);rt.console.error(te,se),rt.alert&&alert(te)}},S.foo.bar=S,S.foo},Us=function(S,q){var te,se,me,je,Te,ze,Ke,dt,ct;if(me=(q=q||{}).sourceEncoding||"Unicode",Te=q.outputEncoding,(q.autoencode||Te)&&It[vt].metadata&&It[vt].metadata[me]&&It[vt].metadata[me].encoding&&(je=It[vt].metadata[me].encoding,!Te&&It[vt].encoding&&(Te=It[vt].encoding),!Te&&je.codePages&&(Te=je.codePages[0]),typeof Te=="string"&&(Te=je[Te]),Te)){for(Ke=!1,ze=[],te=0,se=S.length;te<se;te++)(dt=Te[S.charCodeAt(te)])?ze.push(String.fromCharCode(dt)):ze.push(S[te]),ze[te].charCodeAt(0)>>8&&(Ke=!0);S=ze.join("")}for(te=S.length;Ke===void 0&&te!==0;)S.charCodeAt(te-1)>>8&&(Ke=!0),te--;if(!Ke)return S;for(ze=q.noBOM?[]:[254,255],te=0,se=S.length;te<se;te++){if((ct=(dt=S.charCodeAt(te))>>8)>>8)throw new Error("Character at position "+te+" of string '"+S+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ze.push(ct),ze.push(dt-(ct<<8))}return String.fromCharCode.apply(void 0,ze)},pn=h.__private__.pdfEscape=h.pdfEscape=function(S,q){return Us(S,q).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},zc=h.__private__.beginPage=function(S){be[++rr]=[],lt[rr]={objId:0,contentsObjId:0,userUnit:Number(s),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(S[0]),topRightY:Number(S[1])}},uf(rr),ye(be[W])},cf=function(S,q){var te,se,me;switch(r=q||r,typeof S=="string"&&(te=x(S.toLowerCase()),Array.isArray(te)&&(se=te[0],me=te[1])),Array.isArray(S)&&(se=S[0]*Fe,me=S[1]*Fe),isNaN(se)&&(se=a[0],me=a[1]),(se>14400||me>14400)&&(Ft.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),se=Math.min(14400,se),me=Math.min(14400,me)),a=[se,me],r.substr(0,1)){case"l":me>se&&(a=[me,se]);break;case"p":se>me&&(a=[me,se])}zc(a),gf(Hc),re(ma),Vc!==0&&re(Vc+" J"),Yc!==0&&re(Yc+" j"),kt.publish("addPage",{pageNumber:rr})},cg=function(S){S>0&&S<=rr&&(be.splice(S,1),lt.splice(S,1),rr--,W>rr&&(W=rr),this.setPage(W))},uf=function(S){S>0&&S<=rr&&(W=S)},ug=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return be.length-1},df=function(S,q,te){var se,me=void 0;return te=te||{},S=S!==void 0?S:It[vt].fontName,q=q!==void 0?q:It[vt].fontStyle,se=S.toLowerCase(),Zt[se]!==void 0&&Zt[se][q]!==void 0?me=Zt[se][q]:Zt[S]!==void 0&&Zt[S][q]!==void 0?me=Zt[S][q]:te.disableWarning===!1&&Ft.warn("Unable to look up font label for font '"+S+"', '"+q+"'. Refer to getFontList() for available fonts."),me||te.noFallback||(me=Zt.times[q])==null&&(me=Zt.times.normal),me},dg=h.__private__.putInfo=function(){var S=Nr(),q=function(se){return se};for(var te in d!==null&&(q=Wr.encryptor(S,0)),re("<<"),re("/Producer ("+pn(q("jsPDF "+tt.version))+")"),it)it.hasOwnProperty(te)&&it[te]&&re("/"+te.substr(0,1).toUpperCase()+te.substr(1)+" ("+pn(q(it[te]))+")");re("/CreationDate ("+pn(q(V))+")"),re(">>"),re("endobj")},qc=h.__private__.putCatalog=function(S){var q=(S=S||{}).rootDictionaryObjId||pi;switch(Nr(),re("<<"),re("/Type /Catalog"),re("/Pages "+q+" 0 R"),De||(De="fullwidth"),De){case"fullwidth":re("/OpenAction [3 0 R /FitH null]");break;case"fullheight":re("/OpenAction [3 0 R /FitV null]");break;case"fullpage":re("/OpenAction [3 0 R /Fit]");break;case"original":re("/OpenAction [3 0 R /XYZ null null 1]");break;default:var te=""+De;te.substr(te.length-1)==="%"&&(De=parseInt(De)/100),typeof De=="number"&&re("/OpenAction [3 0 R /XYZ null null "+D(De)+"]")}switch(pt||(pt="continuous"),pt){case"continuous":re("/PageLayout /OneColumn");break;case"single":re("/PageLayout /SinglePage");break;case"two":case"twoleft":re("/PageLayout /TwoColumnLeft");break;case"tworight":re("/PageLayout /TwoColumnRight")}Ze&&re("/PageMode /"+Ze),kt.publish("putCatalog"),re(">>"),re("endobj")},fg=h.__private__.putTrailer=function(){re("trailer"),re("<<"),re("/Size "+(oe+1)),re("/Root "+oe+" 0 R"),re("/Info "+(oe-1)+" 0 R"),d!==null&&re("/Encrypt "+Wr.oid+" 0 R"),re("/ID [ <"+F+"> <"+F+"> ]"),re(">>")},hg=h.__private__.putHeader=function(){re("%PDF-"+v),re("%ÂºÃŸÂ¬Ã ")},pg=h.__private__.putXRef=function(){var S="0000000000";re("xref"),re("0 "+(oe+1)),re("0000000000 65535 f ");for(var q=1;q<=oe;q++)typeof he[q]=="function"?re((S+he[q]()).slice(-10)+" 00000 n "):he[q]!==void 0?re((S+he[q]).slice(-10)+" 00000 n "):re("0000000000 00000 n ")},mi=h.__private__.buildDocument=function(){$e(),ye(de),kt.publish("buildDocument"),hg(),ko(),sf(),of(),d!==null&&ig(),dg(),qc();var S=ie;return pg(),fg(),re("startxref"),re(""+S),re("%%EOF"),ye(be[W]),de.join(`
`)},Ws=h.__private__.getBlob=function(S){return new Blob([Be(S)],{type:"application/pdf"})},Hs=h.output=h.__private__.output=pa(function(S,q){switch(typeof(q=q||{})=="string"?q={filename:q}:q.filename=q.filename||"generated.pdf",S){case void 0:return mi();case"save":h.save(q.filename);break;case"arraybuffer":return Be(mi());case"blob":return Ws(mi());case"bloburi":case"bloburl":if(rt.URL!==void 0&&typeof rt.URL.createObjectURL=="function")return rt.URL&&rt.URL.createObjectURL(Ws(mi()))||void 0;Ft.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var te="",se=mi();try{te=p0(se)}catch{te=p0(unescape(encodeURIComponent(se)))}return"data:application/pdf;filename="+q.filename+";base64,"+te;case"pdfobjectnewwindow":if(Object.prototype.toString.call(rt)==="[object Window]"){var me="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",je=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';q.pdfObjectUrl&&(me=q.pdfObjectUrl,je="");var Te='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+me+'"'+je+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(q)+");<\/script></body></html>",ze=rt.open();return ze!==null&&ze.document.write(Te),ze}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(rt)==="[object Window]"){var Ke='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(q.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+q.filename+'" width="500px" height="400px" /></body></html>',dt=rt.open();if(dt!==null){dt.document.write(Ke);var ct=this;dt.document.documentElement.querySelector("#pdfViewer").onload=function(){dt.document.title=q.filename,dt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ct.output("bloburl"))}}return dt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(rt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var jt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",q)+'"></iframe></body></html>',er=rt.open();if(er!==null&&(er.document.write(jt),er.document.title=q.filename),er||typeof safari>"u")return er;break;case"datauri":case"dataurl":return rt.document.location.href=this.output("datauristring",q);default:return null}}),ff=function(S){return Array.isArray(Eo)===!0&&Eo.indexOf(S)>-1};switch(n){case"pt":Fe=1;break;case"mm":Fe=72/25.4;break;case"cm":Fe=72/2.54;break;case"in":Fe=72;break;case"px":Fe=ff("px_scaling")==1?.75:96/72;break;case"pc":case"em":Fe=12;break;case"ex":Fe=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Fe=n}var Wr=null;ae(),X();var mg=function(S){return d!==null?Wr.encryptor(S,0):function(q){return q}},hf=h.__private__.getPageInfo=h.getPageInfo=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:lt[S].objId,pageNumber:S,pageContext:lt[S]}},st=h.__private__.getPageInfoByObjId=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var q in lt)if(lt[q].objId===S)break;return hf(q)},gg=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:lt[W].objId,pageNumber:W,pageContext:lt[W]}};h.addPage=function(){return cf.apply(this,arguments),this},h.setPage=function(){return uf.apply(this,arguments),ye.call(this,be[W]),this},h.insertPage=function(S){return this.addPage(),this.movePage(W,S),this},h.movePage=function(S,q){var te,se;if(S>q){te=be[S],se=lt[S];for(var me=S;me>q;me--)be[me]=be[me-1],lt[me]=lt[me-1];be[q]=te,lt[q]=se,this.setPage(q)}else if(S<q){te=be[S],se=lt[S];for(var je=S;je<q;je++)be[je]=be[je+1],lt[je]=lt[je+1];be[q]=te,lt[q]=se,this.setPage(q)}return this},h.deletePage=function(){return cg.apply(this,arguments),this},h.__private__.text=h.text=function(S,q,te,se,me){var je,Te,ze,Ke,dt,ct,jt,er,nr,vr=(se=se||{}).scope||this;if(typeof S=="number"&&typeof q=="number"&&(typeof te=="string"||Array.isArray(te))){var Hr=te;te=q,q=S,S=Hr}if(arguments[3]instanceof Qe?(E("The transform parameter of text() with a Matrix value"),nr=me):(ze=arguments[4],Ke=arguments[5],xt(jt=arguments[3])==="object"&&jt!==null||(typeof ze=="string"&&(Ke=ze,ze=null),typeof jt=="string"&&(Ke=jt,jt=null),typeof jt=="number"&&(ze=jt,jt=null),se={flags:jt,angle:ze,align:Ke})),isNaN(q)||isNaN(te)||S==null)throw new Error("Invalid arguments passed to jsPDF.text");if(S.length===0)return vr;var Tr="",ga=!1,On=typeof se.lineHeightFactor=="number"?se.lineHeightFactor:Co,Ga=vr.internal.scaleFactor;function jf(qt){return qt=qt.split("	").join(Array(se.TabLen||9).join(" ")),pn(qt,jt)}function Qc(qt){for(var Ut,dr=qt.concat(),Sr=[],xi=dr.length;xi--;)typeof(Ut=dr.shift())=="string"?Sr.push(Ut):Array.isArray(qt)&&(Ut.length===1||Ut[1]===void 0&&Ut[2]===void 0)?Sr.push(Ut[0]):Sr.push([Ut[0],Ut[1],Ut[2]]);return Sr}function eu(qt,Ut){var dr;if(typeof qt=="string")dr=Ut(qt)[0];else if(Array.isArray(qt)){for(var Sr,xi,lu=qt.concat(),ol=[],Of=lu.length;Of--;)typeof(Sr=lu.shift())=="string"?ol.push(Ut(Sr)[0]):Array.isArray(Sr)&&typeof Sr[0]=="string"&&(xi=Ut(Sr[0],Sr[1],Sr[2]),ol.push([xi[0],xi[1],xi[2]]));dr=ol}return dr}var Js=!1,tu=!0;if(typeof S=="string")Js=!0;else if(Array.isArray(S)){var ru=S.concat();Te=[];for(var Zs,Fr=ru.length;Fr--;)(typeof(Zs=ru.shift())!="string"||Array.isArray(Zs)&&typeof Zs[0]!="string")&&(tu=!1);Js=tu}if(Js===!1)throw new Error('Type of text must be string or Array. "'+S+'" is not recognized.');typeof S=="string"&&(S=S.match(/[\r?\n]/)?S.split(/\r\n|\r|\n/g):[S]);var Qs=Ce/vr.internal.scaleFactor,el=Qs*(On-1);switch(se.baseline){case"bottom":te-=el;break;case"top":te+=Qs-el;break;case"hanging":te+=Qs-2*el;break;case"middle":te+=Qs/2-el}if((ct=se.maxWidth||0)>0&&(typeof S=="string"?S=vr.splitTextToSize(S,ct):Object.prototype.toString.call(S)==="[object Array]"&&(S=S.reduce(function(qt,Ut){return qt.concat(vr.splitTextToSize(Ut,ct))},[]))),je={text:S,x:q,y:te,options:se,mutex:{pdfEscape:pn,activeFontKey:vt,fonts:It,activeFontSize:Ce}},kt.publish("preProcessText",je),S=je.text,ze=(se=je.options).angle,!(nr instanceof Qe)&&ze&&typeof ze=="number"){ze*=Math.PI/180,se.rotationDirection===0&&(ze=-ze),N===b.ADVANCED&&(ze=-ze);var tl=Math.cos(ze),nu=Math.sin(ze);nr=new Qe(tl,nu,-nu,tl,0,0)}else ze&&ze instanceof Qe&&(nr=ze);N!==b.ADVANCED||nr||(nr=za),(dt=se.charSpace||Ys)!==void 0&&(Tr+=O(T(dt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(er=se.horizontalScale)!==void 0&&(Tr+=O(100*er)+` Tz
`),se.lang;var mn=-1,Ag=se.renderingMode!==void 0?se.renderingMode:se.stroke,au=vr.internal.getCurrentPageInfo().pageContext;switch(Ag){case 0:case!1:case"fill":mn=0;break;case 1:case!0:case"stroke":mn=1;break;case 2:case"fillThenStroke":mn=2;break;case 3:case"invisible":mn=3;break;case 4:case"fillAndAddForClipping":mn=4;break;case 5:case"strokeAndAddPathForClipping":mn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":mn=6;break;case 7:case"addToPathForClipping":mn=7}var Nf=au.usedRenderingMode!==void 0?au.usedRenderingMode:-1;mn!==-1?Tr+=mn+` Tr
`:Nf!==-1&&(Tr+=`0 Tr
`),mn!==-1&&(au.usedRenderingMode=mn),Ke=se.align||"left";var Fn,rl=Ce*On,Sf=vr.internal.pageSize.getWidth(),_f=It[vt];dt=se.charSpace||Ys,ct=se.maxWidth||0,jt=Object.assign({autoencode:!0,noBOM:!0},se.flags);var Hi=[],$o=function(qt){return vr.getStringUnitWidth(qt,{font:_f,charSpace:dt,fontSize:Ce,doKerning:!1})*Ce/Ga};if(Object.prototype.toString.call(S)==="[object Array]"){var gn;Te=Qc(S),Ke!=="left"&&(Fn=Te.map($o));var nn,Gi=0;if(Ke==="right"){q-=Fn[0],S=[],Fr=Te.length;for(var vi=0;vi<Fr;vi++)vi===0?(nn=Ha(q),gn=gi(te)):(nn=T(Gi-Fn[vi]),gn=-rl),S.push([Te[vi],nn,gn]),Gi=Fn[vi]}else if(Ke==="center"){q-=Fn[0]/2,S=[],Fr=Te.length;for(var yi=0;yi<Fr;yi++)yi===0?(nn=Ha(q),gn=gi(te)):(nn=T((Gi-Fn[yi])/2),gn=-rl),S.push([Te[yi],nn,gn]),Gi=Fn[yi]}else if(Ke==="left"){S=[],Fr=Te.length;for(var nl=0;nl<Fr;nl++)S.push(Te[nl])}else if(Ke==="justify"&&_f.encoding==="Identity-H"){S=[],Fr=Te.length,ct=ct!==0?ct:Sf;for(var bi=0,ur=0;ur<Fr;ur++)if(gn=ur===0?gi(te):-rl,nn=ur===0?Ha(q):bi,ur<Fr-1){var iu=T((ct-Fn[ur])/(Te[ur].split(" ").length-1)),an=Te[ur].split(" ");S.push([an[0]+" ",nn,gn]),bi=0;for(var Bn=1;Bn<an.length;Bn++){var al=($o(an[Bn-1]+" "+an[Bn])-$o(an[Bn]))*Ga+iu;Bn==an.length-1?S.push([an[Bn],al,0]):S.push([an[Bn]+" ",al,0]),bi-=al}}else S.push([Te[ur],nn,gn]);S.push(["",bi,0])}else{if(Ke!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(S=[],Fr=Te.length,ct=ct!==0?ct:Sf,ur=0;ur<Fr;ur++)gn=ur===0?gi(te):-rl,nn=ur===0?Ha(q):0,ur<Fr-1?Hi.push(O(T((ct-Fn[ur])/(Te[ur].split(" ").length-1)))):Hi.push(0),S.push([Te[ur],nn,gn])}}var Af=typeof se.R2L=="boolean"?se.R2L:Ve;Af===!0&&(S=eu(S,function(qt,Ut,dr){return[qt.split("").reverse().join(""),Ut,dr]})),je={text:S,x:q,y:te,options:se,mutex:{pdfEscape:pn,activeFontKey:vt,fonts:It,activeFontSize:Ce}},kt.publish("postProcessText",je),S=je.text,ga=je.mutex.isHex||!1;var ou=It[vt].encoding;ou!=="WinAnsiEncoding"&&ou!=="StandardEncoding"||(S=eu(S,function(qt,Ut,dr){return[jf(qt),Ut,dr]})),Te=Qc(S),S=[];for(var Do,Io,Vi,Ro=0,il=1,Fo=Array.isArray(Te[0])?il:Ro,Yi="",su=function(qt,Ut,dr){var Sr="";return dr instanceof Qe?(dr=typeof se.angle=="number"?ua(dr,new Qe(1,0,0,1,qt,Ut)):ua(new Qe(1,0,0,1,qt,Ut),dr),N===b.ADVANCED&&(dr=ua(new Qe(1,0,0,-1,0,0),dr)),Sr=dr.join(" ")+` Tm
`):Sr=O(qt)+" "+O(Ut)+` Td
`,Sr},zn=0;zn<Te.length;zn++){switch(Yi="",Fo){case il:Vi=(ga?"<":"(")+Te[zn][0]+(ga?">":")"),Do=parseFloat(Te[zn][1]),Io=parseFloat(Te[zn][2]);break;case Ro:Vi=(ga?"<":"(")+Te[zn]+(ga?">":")"),Do=Ha(q),Io=gi(te)}Hi!==void 0&&Hi[zn]!==void 0&&(Yi=Hi[zn]+` Tw
`),zn===0?S.push(Yi+su(Do,Io,nr)+Vi):Fo===Ro?S.push(Yi+Vi):Fo===il&&S.push(Yi+su(Do,Io,nr)+Vi)}S=Fo===Ro?S.join(` Tj
T* `):S.join(` Tj
`),S+=` Tj
`;var qn=`BT
/`;return qn+=vt+" "+Ce+` Tf
`,qn+=O(Ce*On)+` TL
`,qn+=Lo+`
`,qn+=Tr,qn+=S,re(qn+="ET"),p[vt]=!0,vr};var vg=h.__private__.clip=h.clip=function(S){return re(S==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return vg("evenodd")},h.__private__.discardPath=h.discardPath=function(){return re("n"),this};var Wa=h.__private__.isValidStyle=function(S){var q=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(S)!==-1&&(q=!0),q};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(S){return Wa(S)&&(u=S),this};var pf=h.__private__.getStyle=h.getStyle=function(S){var q=u;switch(S){case"D":case"S":q="S";break;case"F":q="f";break;case"FD":case"DF":q="B";break;case"f":case"f*":case"B":case"B*":q=S}return q},mf=h.close=function(){return re("h"),this};h.stroke=function(){return re("S"),this},h.fill=function(S){return Gs("f",S),this},h.fillEvenOdd=function(S){return Gs("f*",S),this},h.fillStroke=function(S){return Gs("B",S),this},h.fillStrokeEvenOdd=function(S){return Gs("B*",S),this};var Gs=function(S,q){xt(q)==="object"?bg(q,S):re(S)},Uc=function(S){S===null||N===b.ADVANCED&&S===void 0||(S=pf(S),re(S))};function yg(S,q,te,se,me){var je=new Nl(q||this.boundingBox,te||this.xStep,se||this.yStep,this.gState,me||this.matrix);je.stream=this.stream;var Te=S+"$$"+this.cloneIndex+++"$$";return hn(Te,je),je}var bg=function(S,q){var te=Po[S.key],se=Et[te];if(se instanceof Qo)re("q"),re(xg(q)),se.gState&&h.setGState(se.gState),re(S.matrix.toString()+" cm"),re("/"+te+" sh"),re("Q");else if(se instanceof Nl){var me=new Qe(1,0,0,-1,0,Wi());S.matrix&&(me=me.multiply(S.matrix||za),te=yg.call(se,S.key,S.boundingBox,S.xStep,S.yStep,me).id),re("q"),re("/Pattern cs"),re("/"+te+" scn"),se.gState&&h.setGState(se.gState),re(q),re("Q")}},xg=function(S){switch(S){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Wc=h.moveTo=function(S,q){return re(O(T(S))+" "+O(I(q))+" m"),this},To=h.lineTo=function(S,q){return re(O(T(S))+" "+O(I(q))+" l"),this},qi=h.curveTo=function(S,q,te,se,me,je){return re([O(T(S)),O(I(q)),O(T(te)),O(I(se)),O(T(me)),O(I(je)),"c"].join(" ")),this};h.__private__.line=h.line=function(S,q,te,se,me){if(isNaN(S)||isNaN(q)||isNaN(te)||isNaN(se)||!Wa(me))throw new Error("Invalid arguments passed to jsPDF.line");return N===b.COMPAT?this.lines([[te-S,se-q]],S,q,[1,1],me||"S"):this.lines([[te-S,se-q]],S,q,[1,1]).stroke()},h.__private__.lines=h.lines=function(S,q,te,se,me,je){var Te,ze,Ke,dt,ct,jt,er,nr,vr,Hr,Tr,ga;if(typeof S=="number"&&(ga=te,te=q,q=S,S=ga),se=se||[1,1],je=je||!1,isNaN(q)||isNaN(te)||!Array.isArray(S)||!Array.isArray(se)||!Wa(me)||typeof je!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Wc(q,te),Te=se[0],ze=se[1],dt=S.length,Hr=q,Tr=te,Ke=0;Ke<dt;Ke++)(ct=S[Ke]).length===2?(Hr=ct[0]*Te+Hr,Tr=ct[1]*ze+Tr,To(Hr,Tr)):(jt=ct[0]*Te+Hr,er=ct[1]*ze+Tr,nr=ct[2]*Te+Hr,vr=ct[3]*ze+Tr,Hr=ct[4]*Te+Hr,Tr=ct[5]*ze+Tr,qi(jt,er,nr,vr,Hr,Tr));return je&&mf(),Uc(me),this},h.path=function(S){for(var q=0;q<S.length;q++){var te=S[q],se=te.c;switch(te.op){case"m":Wc(se[0],se[1]);break;case"l":To(se[0],se[1]);break;case"c":qi.apply(this,se);break;case"h":mf()}}return this},h.__private__.rect=h.rect=function(S,q,te,se,me){if(isNaN(S)||isNaN(q)||isNaN(te)||isNaN(se)||!Wa(me))throw new Error("Invalid arguments passed to jsPDF.rect");return N===b.COMPAT&&(se=-se),re([O(T(S)),O(I(q)),O(T(te)),O(T(se)),"re"].join(" ")),Uc(me),this},h.__private__.triangle=h.triangle=function(S,q,te,se,me,je,Te){if(isNaN(S)||isNaN(q)||isNaN(te)||isNaN(se)||isNaN(me)||isNaN(je)||!Wa(Te))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[te-S,se-q],[me-te,je-se],[S-me,q-je]],S,q,[1,1],Te,!0),this},h.__private__.roundedRect=h.roundedRect=function(S,q,te,se,me,je,Te){if(isNaN(S)||isNaN(q)||isNaN(te)||isNaN(se)||isNaN(me)||isNaN(je)||!Wa(Te))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ze=4/3*(Math.SQRT2-1);return me=Math.min(me,.5*te),je=Math.min(je,.5*se),this.lines([[te-2*me,0],[me*ze,0,me,je-je*ze,me,je],[0,se-2*je],[0,je*ze,-me*ze,je,-me,je],[2*me-te,0],[-me*ze,0,-me,-je*ze,-me,-je],[0,2*je-se],[0,-je*ze,me*ze,-je,me,-je]],S+me,q,[1,1],Te,!0),this},h.__private__.ellipse=h.ellipse=function(S,q,te,se,me){if(isNaN(S)||isNaN(q)||isNaN(te)||isNaN(se)||!Wa(me))throw new Error("Invalid arguments passed to jsPDF.ellipse");var je=4/3*(Math.SQRT2-1)*te,Te=4/3*(Math.SQRT2-1)*se;return Wc(S+te,q),qi(S+te,q-Te,S+je,q-se,S,q-se),qi(S-je,q-se,S-te,q-Te,S-te,q),qi(S-te,q+Te,S-je,q+se,S,q+se),qi(S+je,q+se,S+te,q+Te,S+te,q),Uc(me),this},h.__private__.circle=h.circle=function(S,q,te,se){if(isNaN(S)||isNaN(q)||isNaN(te)||!Wa(se))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(S,q,te,te,se)},h.setFont=function(S,q,te){return te&&(q=A(q,te)),vt=df(S,q,{disableWarning:!1}),this};var wg=h.__private__.getFont=h.getFont=function(){return It[df.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var S,q,te={};for(S in Zt)if(Zt.hasOwnProperty(S))for(q in te[S]=[],Zt[S])Zt[S].hasOwnProperty(q)&&te[S].push(q);return te},h.addFont=function(S,q,te,se,me){var je=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&je.indexOf(arguments[3])!==-1?me=arguments[3]:arguments[3]&&je.indexOf(arguments[3])==-1&&(te=A(te,se)),me=me||"Identity-H",Bc.call(this,S,q,te,me)};var Co,Hc=e.lineWidth||.200025,Vs=h.__private__.getLineWidth=h.getLineWidth=function(){return Hc},gf=h.__private__.setLineWidth=h.setLineWidth=function(S){return Hc=S,re(O(T(S))+" w"),this};h.__private__.setLineDash=tt.API.setLineDash=tt.API.setLineDashPattern=function(S,q){if(S=S||[],q=q||0,isNaN(q)||!Array.isArray(S))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return S=S.map(function(te){return O(T(te))}).join(" "),q=O(T(q)),re("["+S+"] "+q+" d"),this};var vf=h.__private__.getLineHeight=h.getLineHeight=function(){return Ce*Co};h.__private__.getLineHeight=h.getLineHeight=function(){return Ce*Co};var yf=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(S){return typeof(S=S||1.15)=="number"&&(Co=S),this},bf=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return Co};yf(e.lineHeight);var Ha=h.__private__.getHorizontalCoordinate=function(S){return T(S)},gi=h.__private__.getVerticalCoordinate=function(S){return N===b.ADVANCED?S:lt[W].mediaBox.topRightY-lt[W].mediaBox.bottomLeftY-T(S)},jg=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(S){return O(Ha(S))},Ui=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(S){return O(gi(S))},ma=e.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return fa(ma)},h.__private__.setStrokeColor=h.setDrawColor=function(S,q,te,se){return ma=ha({ch1:S,ch2:q,ch3:te,ch4:se,pdfColorType:"draw",precision:2}),re(ma),this};var Gc=e.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return fa(Gc)},h.__private__.setFillColor=h.setFillColor=function(S,q,te,se){return Gc=ha({ch1:S,ch2:q,ch3:te,ch4:se,pdfColorType:"fill",precision:2}),re(Gc),this};var Lo=e.textColor||"0 g",Ng=h.__private__.getTextColor=h.getTextColor=function(){return fa(Lo)};h.__private__.setTextColor=h.setTextColor=function(S,q,te,se){return Lo=ha({ch1:S,ch2:q,ch3:te,ch4:se,pdfColorType:"text",precision:3}),this};var Ys=e.charSpace,Sg=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(Ys||0)};h.__private__.setCharSpace=h.setCharSpace=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ys=S,this};var Vc=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(S){var q=h.CapJoinStyles[S];if(q===void 0)throw new Error("Line cap style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Vc=q,re(q+" J"),this};var Yc=0;h.__private__.setLineJoin=h.setLineJoin=function(S){var q=h.CapJoinStyles[S];if(q===void 0)throw new Error("Line join style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Yc=q,re(q+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(S){if(S=S||0,isNaN(S))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return re(O(T(S))+" M"),this},h.GState=Bh,h.setGState=function(S){(S=typeof S=="string"?tr[ca[S]]:xf(null,S)).equals(hi)||(re("/"+S.id+" gs"),hi=S)};var xf=function(S,q){if(!S||!ca[S]){var te=!1;for(var se in tr)if(tr.hasOwnProperty(se)&&tr[se].equals(q)){te=!0;break}if(te)q=tr[se];else{var me="GS"+(Object.keys(tr).length+1).toString(10);tr[me]=q,q.id=me}return S&&(ca[S]=q.id),kt.publish("addGState",q),q}};h.addGState=function(S,q){return xf(S,q),this},h.saveGraphicsState=function(){return re("q"),Ra.push({key:vt,size:Ce,color:Lo}),this},h.restoreGraphicsState=function(){re("Q");var S=Ra.pop();return vt=S.key,Ce=S.size,Lo=S.color,hi=null,this},h.setCurrentTransformationMatrix=function(S){return re(S.toString()+" cm"),this},h.comment=function(S){return re("#"+S),this};var Ks=function(S,q){var te=S||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return te},set:function(je){isNaN(je)||(te=parseFloat(je))}});var se=q||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return se},set:function(je){isNaN(je)||(se=parseFloat(je))}});var me="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return me},set:function(je){me=je.toString()}}),this},Kc=function(S,q,te,se){Ks.call(this,S,q),this.type="rect";var me=te||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return me},set:function(Te){isNaN(Te)||(me=parseFloat(Te))}});var je=se||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return je},set:function(Te){isNaN(Te)||(je=parseFloat(Te))}}),this},Xc=function(){this.page=rr,this.currentPage=W,this.pages=be.slice(0),this.pagesContext=lt.slice(0),this.x=Ur,this.y=_t,this.matrix=la,this.width=Mo(W),this.height=Wi(W),this.outputDestination=Ee,this.id="",this.objectNumber=-1};Xc.prototype.restore=function(){rr=this.page,W=this.currentPage,lt=this.pagesContext,be=this.pages,Ur=this.x,_t=this.y,la=this.matrix,Jc(W,this.width),Zc(W,this.height),Ee=this.outputDestination};var wf=function(S,q,te,se,me){Ba.push(new Xc),rr=W=0,be=[],Ur=S,_t=q,la=me,zc([te,se])},_g=function(S){if(Fa[S])Ba.pop().restore();else{var q=new Xc,te="Xo"+(Object.keys(Rr).length+1).toString(10);q.id=te,Fa[S]=te,Rr[te]=q,kt.publish("addFormObject",q),Ba.pop().restore()}};for(var Xs in h.beginFormObject=function(S,q,te,se,me){return wf(S,q,te,se,me),this},h.endFormObject=function(S){return _g(S),this},h.doFormObject=function(S,q){var te=Rr[Fa[S]];return re("q"),re(q.toString()+" cm"),re("/"+te.id+" Do"),re("Q"),this},h.getFormObject=function(S){var q=Rr[Fa[S]];return{x:q.x,y:q.y,width:q.width,height:q.height,matrix:q.matrix}},h.save=function(S,q){return S=S||"generated.pdf",(q=q||{}).returnPromise=q.returnPromise||!1,q.returnPromise===!1?(Ko(Ws(mi()),S),typeof Ko.unload=="function"&&rt.setTimeout&&setTimeout(Ko.unload,911),this):new Promise(function(te,se){try{var me=Ko(Ws(mi()),S);typeof Ko.unload=="function"&&rt.setTimeout&&setTimeout(Ko.unload,911),te(me)}catch(je){se(je.message)}})},tt.API)tt.API.hasOwnProperty(Xs)&&(Xs==="events"&&tt.API.events.length?function(S,q){var te,se,me;for(me=q.length-1;me!==-1;me--)te=q[me][0],se=q[me][1],S.subscribe.apply(S,[te].concat(typeof se=="function"?[se]:se))}(kt,tt.API.events):h[Xs]=tt.API[Xs]);var Mo=h.getPageWidth=function(S){return(lt[S=S||W].mediaBox.topRightX-lt[S].mediaBox.bottomLeftX)/Fe},Jc=h.setPageWidth=function(S,q){lt[S].mediaBox.topRightX=q*Fe+lt[S].mediaBox.bottomLeftX},Wi=h.getPageHeight=function(S){return(lt[S=S||W].mediaBox.topRightY-lt[S].mediaBox.bottomLeftY)/Fe},Zc=h.setPageHeight=function(S,q){lt[S].mediaBox.topRightY=q*Fe+lt[S].mediaBox.bottomLeftY};return h.internal={pdfEscape:pn,getStyle:pf,getFont:wg,getFontSize:Me,getCharSpace:Sg,getTextColor:Ng,getLineHeight:vf,getLineHeightFactor:bf,getLineWidth:Vs,write:Ye,getHorizontalCoordinate:Ha,getVerticalCoordinate:gi,getCoordinateString:jg,getVerticalCoordinateString:Ui,collections:{},newObject:Nr,newAdditionalObject:Ds,newObjectDeferred:gr,newObjectDeferredBegin:An,getFilters:qa,putStream:Rn,events:kt,scaleFactor:Fe,pageSize:{getWidth:function(){return Mo(W)},setWidth:function(S){Jc(W,S)},getHeight:function(){return Wi(W)},setHeight:function(S){Zc(W,S)}},encryptionOptions:d,encryption:Wr,getEncryptor:mg,output:Hs,getNumberOfPages:ug,pages:be,out:re,f2:D,f3:k,getPageInfo:hf,getPageInfoByObjId:st,getCurrentPageInfo:gg,getPDFVersion:g,Point:Ks,Rectangle:Kc,Matrix:Qe,hasHotfix:ff},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return Mo(W)},set:function(S){Jc(W,S)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return Wi(W)},set:function(S){Zc(W,S)},enumerable:!0,configurable:!0}),lg.call(h,ke),vt="F1",cf(a,r),kt.publish("initialized"),h}xl.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},xl.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},xl.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},xl.prototype.processOwnerPassword=function(e,t){return g0(m0(t).substr(0,5),e)},xl.prototype.encryptor=function(e,t){var r=m0(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return g0(r,n)}},Bh.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||xt(e)!==xt(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},tt.API={events:[]},tt.version="3.0.1";var ir=tt.API,Fb=1,Ts=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},hl=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ut=function(e){return e.toFixed(2)},ao=function(e){return e.toFixed(5)};ir.__acroform__={};var _n=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},iw=function(e){return e*Fb},Ka=function(e){var t=new wA,r=Ge.internal.getHeight(e)||0,n=Ge.internal.getWidth(e)||0;return t.BBox=[0,0,Number(ut(n)),Number(ut(r))],t},WH=ir.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},HH=ir.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},GH=ir.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},fr=ir.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return GH(e,t-1)},hr=ir.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return WH(e,t-1)},pr=ir.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return HH(e,t-1)},VH=ir.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],i=e[1],o=e[2],s=e[3],c={};return c.lowerLeft_X=r(a)||0,c.lowerLeft_Y=n(i+s)||0,c.upperRight_X=r(a+o)||0,c.upperRight_Y=n(i)||0,[Number(ut(c.lowerLeft_X)),Number(ut(c.lowerLeft_Y)),Number(ut(c.upperRight_X)),Number(ut(c.upperRight_Y))]},YH=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=v0(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+ut(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=Ka(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},v0=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(k){return k.split(`
`)}):a.map(function(k){return[k]});var i=r,o=Ge.internal.getHeight(e)||0;o=o<0?-o:o;var s=Ge.internal.getWidth(e)||0;s=s<0?-s:s;var c=function(k,T,$){if(k+1<a.length){var I=T+" "+a[k+1][0];return Qf(I,e,$).width<=s-4}return!1};i++;e:for(;i>0;){t="",i--;var u,d,f=Qf("3",e,i).height,p=e.multiline?o-i:(o-f)/2,h=p+=2,v=0,g=0,j=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+Qf(t,e,i=12).width+", FieldWidth:"+s+`
`;break}for(var x="",b=0,N=0;N<a.length;N++)if(a.hasOwnProperty(N)){var _=!1;if(a[N].length!==1&&j!==a[N].length-1){if((f+2)*(b+2)+2>o)continue e;x+=a[N][j],_=!0,g=N,N--}else{x=(x+=a[N][j]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var w=parseInt(N),A=c(w,x,i),O=N>=a.length-1;if(A&&!O){x+=" ",j=0;continue}if(A||O){if(O)g=w;else if(e.multiline&&(f+2)*(b+2)+2>o)continue e}else{if(!e.multiline||(f+2)*(b+2)+2>o)continue e;g=w}}for(var E="",C=v;C<=g;C++){var D=a[C];if(e.multiline){if(C===g){E+=D[j]+" ",j=(j+1)%D.length;continue}if(C===v){E+=D[D.length-1]+" ";continue}}E+=D[0]+" "}switch(E=E.substr(E.length-1)==" "?E.substr(0,E.length-1):E,d=Qf(E,e,i).width,e.textAlign){case"right":u=s-d-2;break;case"center":u=(s-d)/2;break;case"left":default:u=2}t+=ut(u)+" "+ut(h)+` Td
`,t+="("+Ts(E)+`) Tj
`,t+=-ut(u)+` 0 Td
`,h=-(i+2),d=0,v=_?g:g+1,b++,x=""}break}return n.text=t,n.fontSize=i,n},Qf=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},KH={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},XH=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},JH=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,a=e[r];t.internal.newObjectDeferredBegin(a.objId,!0),xt(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete e[n]}},ZH=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if($a.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(KH)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Fb=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new jA,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&XH(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var o in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var s=n[o],c=[],u=s.Rect;if(s.Rect&&(s.Rect=VH(s.Rect,a)),a.internal.newObjectDeferredBegin(s.objId,!0),s.DA=Ge.createDefaultAppearanceStream(s),xt(s)==="object"&&typeof s.getKeyValueListForStream=="function"&&(c=s.getKeyValueListForStream()),s.Rect=u,s.hasAppearanceStream&&!s.appearanceStreamContent){var d=YH(s);c.push({key:"AP",value:"<</N "+d+">>"}),a.internal.acroformPlugin.xForms.push(d)}if(s.appearanceStreamContent){var f="";for(var p in s.appearanceStreamContent)if(s.appearanceStreamContent.hasOwnProperty(p)){var h=s.appearanceStreamContent[p];if(f+="/"+p+" ",f+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var o in h)if(h.hasOwnProperty(o)){var v=h[o];typeof v=="function"&&(v=v.call(a,s)),f+="/"+o+" "+v+" ",a.internal.acroformPlugin.xForms.indexOf(v)>=0||a.internal.acroformPlugin.xForms.push(v)}}else typeof(v=h)=="function"&&(v=v.call(a,s)),f+="/"+o+" "+v,a.internal.acroformPlugin.xForms.indexOf(v)>=0||a.internal.acroformPlugin.xForms.push(v);f+=">>"}c.push({key:"AP",value:`<<
`+f+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:s.objId}),a.internal.out("endobj")}i&&JH(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},xA=ir.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(o){return o};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(i!==0&&(a+=" "),xt(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+Ts(n(e[i].toString()))+")"):a+=e[i].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},fv=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+Ts(n(e))+")"},Qa=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Qa.prototype.toString=function(){return this.objId+" 0 R"},Qa.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Qa.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:xA(a,this.objId,this.scope)}):a instanceof Qa?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var wA=function(){Qa.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};_n(wA,Qa);var jA=function(){Qa.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Ts(r(e))+")"}},set:function(r){e=r}})};_n(jA,Qa);var $a=function e(){Qa.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');t=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!fr(t,3)},set:function(x){x?this.F=hr(t,3):this.F=pr(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');r=x}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(x){n=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(x){n[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(x){n[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(x){n[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(x){n[3]=x}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof zh)return;i="FieldObject"+e.FieldNum++}var x=function(b){return b};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+Ts(x(i))+")"},set:function(x){i=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(x){i=x}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(x){o=x}});var s="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return s},set:function(x){s=x}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(x){c=x}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/Fb:u},set:function(x){u=x}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(x){d=x}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof zh||this instanceof ls))return fv(f,this.objId,this.scope)},set:function(x){x=x.toString(),f=x}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof $r?p:fv(p,this.objId,this.scope)},set:function(x){x=x.toString(),p=this instanceof $r?x:x.substr(0,1)==="("?hl(x.substr(1,x.length-2)):hl(x)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof $r?hl(p.substr(1,p.length-1)):p},set:function(x){x=x.toString(),p=this instanceof $r?"/"+x:x}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof $r?h:fv(h,this.objId,this.scope)},set:function(x){x=x.toString(),h=this instanceof $r?x:x.substr(0,1)==="("?hl(x.substr(1,x.length-2)):hl(x)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof $r?hl(h.substr(1,h.length-1)):h},set:function(x){x=x.toString(),h=this instanceof $r?"/"+x:x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(x){x=!!x,g=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(x){v=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,1)},set:function(x){x?this.Ff=hr(this.Ff,1):this.Ff=pr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,2)},set:function(x){x?this.Ff=hr(this.Ff,2):this.Ff=pr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,3)},set:function(x){x?this.Ff=hr(this.Ff,3):this.Ff=pr(this.Ff,3)}});var j=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(j!==null)return j},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');j=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(j){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:j=2;break;case"center":case 1:j=1;break;case"left":case 0:default:j=0}}})};_n($a,Qa);var El=function(){$a.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return xA(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(i,o,s){s||(s=1);for(var c,u=[];c=o.exec(i);)u.push(c[s]);return u}(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,18)},set:function(r){r?this.Ff=hr(this.Ff,18):this.Ff=pr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=hr(this.Ff,19):this.Ff=pr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,20)},set:function(r){r?(this.Ff=hr(this.Ff,20),t.sort()):this.Ff=pr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,22)},set:function(r){r?this.Ff=hr(this.Ff,22):this.Ff=pr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,23)},set:function(r){r?this.Ff=hr(this.Ff,23):this.Ff=pr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,27)},set:function(r){r?this.Ff=hr(this.Ff,27):this.Ff=pr(this.Ff,27)}}),this.hasAppearanceStream=!1};_n(El,$a);var kl=function(){El.call(this),this.fontName="helvetica",this.combo=!1};_n(kl,El);var Tl=function(){kl.call(this),this.combo=!0};_n(Tl,kl);var jh=function(){Tl.call(this),this.edit=!0};_n(jh,Tl);var $r=function(){$a.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,15)},set:function(r){r?this.Ff=hr(this.Ff,15):this.Ff=pr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,16)},set:function(r){r?this.Ff=hr(this.Ff,16):this.Ff=pr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,17)},set:function(r){r?this.Ff=hr(this.Ff,17):this.Ff=pr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,26)},set:function(r){r?this.Ff=hr(this.Ff,26):this.Ff=pr(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+Ts(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){xt(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};_n($r,$a);var Nh=function(){$r.call(this),this.pushButton=!0};_n(Nh,$r);var Cl=function(){$r.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};_n(Cl,$r);var zh=function(){var e,t;$a.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(s){return s};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),n)o.push("/"+i+" ("+Ts(a(n[i]))+")");return o.push(">>"),o.join(`
`)},set:function(a){xt(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ge.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};_n(zh,$a),Cl.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Cl.prototype.createOption=function(e){var t=new zh;return t.Parent=this,t.optionName=e,this.Kids.push(t),QH.call(this.scope,t),t};var Sh=function(){$r.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ge.CheckBox.createAppearanceStream()};_n(Sh,$r);var ls=function(){$a.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,13)},set:function(t){t?this.Ff=hr(this.Ff,13):this.Ff=pr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,21)},set:function(t){t?this.Ff=hr(this.Ff,21):this.Ff=pr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,23)},set:function(t){t?this.Ff=hr(this.Ff,23):this.Ff=pr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,24)},set:function(t){t?this.Ff=hr(this.Ff,24):this.Ff=pr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,25)},set:function(t){t?this.Ff=hr(this.Ff,25):this.Ff=pr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,26)},set:function(t){t?this.Ff=hr(this.Ff,26):this.Ff=pr(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};_n(ls,$a);var _h=function(){ls.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,14)},set:function(e){e?this.Ff=hr(this.Ff,14):this.Ff=pr(this.Ff,14)}}),this.password=!0};_n(_h,ls);var Ge={CheckBox:{createAppearanceStream:function(){return{N:{On:Ge.CheckBox.YesNormal},D:{On:Ge.CheckBox.YesPushDown,Off:Ge.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Ka(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=v0(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+ut(Ge.internal.getWidth(e))+" "+ut(Ge.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+ut(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Ka(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],i=Ge.internal.getHeight(e),o=Ge.internal.getWidth(e),s=v0(e,e.caption);return a.push("1 g"),a.push("0 0 "+ut(o)+" "+ut(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+ut(o-1)+" "+ut(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+ut(s.fontSize)+" Tf "+n),a.push(s.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=Ka(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+ut(Ge.internal.getWidth(e))+" "+ut(Ge.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Ge.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Ge.RadioButton.Circle.YesNormal,t.D[e]=Ge.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Ka(e);t.scope=e.scope;var r=[],n=Ge.internal.getWidth(e)<=Ge.internal.getHeight(e)?Ge.internal.getWidth(e)/4:Ge.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Ge.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+ao(Ge.internal.getWidth(e)/2)+" "+ao(Ge.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Ka(e);t.scope=e.scope;var r=[],n=Ge.internal.getWidth(e)<=Ge.internal.getHeight(e)?Ge.internal.getWidth(e)/4:Ge.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Ge.internal.Bezier_C).toFixed(5)),o=Number((n*Ge.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+ao(Ge.internal.getWidth(e)/2)+" "+ao(Ge.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+ao(Ge.internal.getWidth(e)/2)+" "+ao(Ge.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Ka(e);t.scope=e.scope;var r=[],n=Ge.internal.getWidth(e)<=Ge.internal.getHeight(e)?Ge.internal.getWidth(e)/4:Ge.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Ge.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+ao(Ge.internal.getWidth(e)/2)+" "+ao(Ge.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Ge.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Ge.RadioButton.Cross.YesNormal,t.D[e]=Ge.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Ka(e);t.scope=e.scope;var r=[],n=Ge.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+ut(Ge.internal.getWidth(e)-2)+" "+ut(Ge.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(ut(n.x1.x)+" "+ut(n.x1.y)+" m"),r.push(ut(n.x2.x)+" "+ut(n.x2.y)+" l"),r.push(ut(n.x4.x)+" "+ut(n.x4.y)+" m"),r.push(ut(n.x3.x)+" "+ut(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Ka(e);t.scope=e.scope;var r=Ge.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+ut(Ge.internal.getWidth(e))+" "+ut(Ge.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+ut(Ge.internal.getWidth(e)-2)+" "+ut(Ge.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(ut(r.x1.x)+" "+ut(r.x1.y)+" m"),n.push(ut(r.x2.x)+" "+ut(r.x2.y)+" l"),n.push(ut(r.x4.x)+" "+ut(r.x4.y)+" m"),n.push(ut(r.x3.x)+" "+ut(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Ka(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+ut(Ge.internal.getWidth(e))+" "+ut(Ge.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Ge.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Ge.internal.getWidth(e),r=Ge.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},Ge.internal.getWidth=function(e){var t=0;return xt(e)==="object"&&(t=iw(e.Rect[2])),t},Ge.internal.getHeight=function(e){var t=0;return xt(e)==="object"&&(t=iw(e.Rect[3])),t};var QH=ir.addField=function(e){if(ZH(this,e),!(e instanceof $a))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};ir.AcroFormChoiceField=El,ir.AcroFormListBox=kl,ir.AcroFormComboBox=Tl,ir.AcroFormEditBox=jh,ir.AcroFormButton=$r,ir.AcroFormPushButton=Nh,ir.AcroFormRadioButton=Cl,ir.AcroFormCheckBox=Sh,ir.AcroFormTextField=ls,ir.AcroFormPasswordField=_h,ir.AcroFormAppearance=Ge,ir.AcroForm={ChoiceField:El,ListBox:kl,ComboBox:Tl,EditBox:jh,Button:$r,PushButton:Nh,RadioButton:Cl,CheckBox:Sh,TextField:ls,PasswordField:_h,Appearance:Ge},tt.AcroForm={ChoiceField:El,ListBox:kl,ComboBox:Tl,EditBox:jh,Button:$r,PushButton:Nh,RadioButton:Cl,CheckBox:Sh,TextField:ls,PasswordField:_h,Appearance:Ge};tt.AcroForm;function NA(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(k,T){var $,I,V,F,B,X=t;if((T=T||t)==="RGBA"||k.data!==void 0&&k.data instanceof Uint8ClampedArray&&"height"in k&&"width"in k)return"RGBA";if(A(k))for(B in r)for(V=r[B],$=0;$<V.length;$+=1){for(F=!0,I=0;I<V[$].length;I+=1)if(V[$][I]!==void 0&&V[$][I]!==k[I]){F=!1;break}if(F===!0){X=B;break}}else for(B in r)for(V=r[B],$=0;$<V.length;$+=1){for(F=!0,I=0;I<V[$].length;I+=1)if(V[$][I]!==void 0&&V[$][I]!==k.charCodeAt(I)){F=!1;break}if(F===!0){X=B;break}}return X===t&&T!==t&&(X=T),X},a=function k(T){for(var $=this.internal.write,I=this.internal.putStream,V=(0,this.internal.getFilters)();V.indexOf("FlateEncode")!==-1;)V.splice(V.indexOf("FlateEncode"),1);T.objectId=this.internal.newObject();var F=[];if(F.push({key:"Type",value:"/XObject"}),F.push({key:"Subtype",value:"/Image"}),F.push({key:"Width",value:T.width}),F.push({key:"Height",value:T.height}),T.colorSpace===j.INDEXED?F.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(T.palette.length/3-1)+" "+("sMask"in T&&T.sMask!==void 0?T.objectId+2:T.objectId+1)+" 0 R]"}):(F.push({key:"ColorSpace",value:"/"+T.colorSpace}),T.colorSpace===j.DEVICE_CMYK&&F.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),F.push({key:"BitsPerComponent",value:T.bitsPerComponent}),"decodeParameters"in T&&T.decodeParameters!==void 0&&F.push({key:"DecodeParms",value:"<<"+T.decodeParameters+">>"}),"transparency"in T&&Array.isArray(T.transparency)){for(var B="",X=0,Y=T.transparency.length;X<Y;X++)B+=T.transparency[X]+" "+T.transparency[X]+" ";F.push({key:"Mask",value:"["+B+"]"})}T.sMask!==void 0&&F.push({key:"SMask",value:T.objectId+1+" 0 R"});var Z=T.filter!==void 0?["/"+T.filter]:void 0;if(I({data:T.data,additionalKeyValues:F,alreadyAppliedFilters:Z,objectId:T.objectId}),$("endobj"),"sMask"in T&&T.sMask!==void 0){var ae="/Predictor "+T.predictor+" /Colors 1 /BitsPerComponent "+T.bitsPerComponent+" /Columns "+T.width,M={width:T.width,height:T.height,colorSpace:"DeviceGray",bitsPerComponent:T.bitsPerComponent,decodeParameters:ae,data:T.sMask};"filter"in T&&(M.filter=T.filter),k.call(this,M)}if(T.colorSpace===j.INDEXED){var W=this.internal.newObject();I({data:E(new Uint8Array(T.palette)),objectId:W}),$("endobj")}},i=function(){var k=this.internal.collections.addImage_images;for(var T in k)a.call(this,k[T])},o=function(){var k,T=this.internal.collections.addImage_images,$=this.internal.write;for(var I in T)$("/I"+(k=T[I]).index,k.objectId,"0","R")},s=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var k=this.internal.collections.addImage_images;return s.call(this),k},u=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(k){return typeof e["process"+k.toUpperCase()]=="function"},f=function(k){return xt(k)==="object"&&k.nodeType===1},p=function(k,T){if(k.nodeName==="IMG"&&k.hasAttribute("src")){var $=""+k.getAttribute("src");if($.indexOf("data:image/")===0)return Iu(unescape($).split("base64,").pop());var I=e.loadFile($,!0);if(I!==void 0)return I}if(k.nodeName==="CANVAS"){if(k.width===0||k.height===0)throw new Error("Given canvas must have data. Canvas width: "+k.width+", height: "+k.height);var V;switch(T){case"PNG":V="image/png";break;case"WEBP":V="image/webp";break;case"JPEG":case"JPG":default:V="image/jpeg"}return Iu(k.toDataURL(V,1).split("base64,").pop())}},h=function(k){var T=this.internal.collections.addImage_images;if(T){for(var $ in T)if(k===T[$].alias)return T[$]}},v=function(k,T,$){return k||T||(k=-96,T=-96),k<0&&(k=-1*$.width*72/k/this.internal.scaleFactor),T<0&&(T=-1*$.height*72/T/this.internal.scaleFactor),k===0&&(k=T*$.width/$.height),T===0&&(T=k*$.height/$.width),[k,T]},g=function(k,T,$,I,V,F){var B=v.call(this,$,I,V),X=this.internal.getCoordinateString,Y=this.internal.getVerticalCoordinateString,Z=c.call(this);if($=B[0],I=B[1],Z[V.index]=V,F){F*=Math.PI/180;var ae=Math.cos(F),M=Math.sin(F),W=function(ne){return ne.toFixed(4)},Q=[W(ae),W(M),W(-1*M),W(ae),0,0,"cm"]}this.internal.write("q"),F?(this.internal.write([1,"0","0",1,X(k),Y(T+I),"cm"].join(" ")),this.internal.write(Q.join(" ")),this.internal.write([X($),"0","0",X(I),"0","0","cm"].join(" "))):this.internal.write([X($),"0","0",X(I),X(k),Y(T+I),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+V.index+" Do"),this.internal.write("Q")},j=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var x=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=e.__addimage__.sHashCode=function(k){var T,$,I=0;if(typeof k=="string")for($=k.length,T=0;T<$;T++)I=(I<<5)-I+k.charCodeAt(T),I|=0;else if(A(k))for($=k.byteLength/2,T=0;T<$;T++)I=(I<<5)-I+k[T],I|=0;return I},N=e.__addimage__.validateStringAsBase64=function(k){(k=k||"").toString().trim();var T=!0;return k.length===0&&(T=!1),k.length%4!=0&&(T=!1),/^[A-Za-z0-9+/]+$/.test(k.substr(0,k.length-2))===!1&&(T=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(k.substr(-2))===!1&&(T=!1),T},_=e.__addimage__.extractImageFromDataUrl=function(k){if(k==null||!(k=k.trim()).startsWith("data:"))return null;var T=k.indexOf(",");return T<0?null:k.substring(0,T).trim().endsWith("base64")?k.substring(T+1):null},w=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(k){return w()&&k instanceof ArrayBuffer};var A=e.__addimage__.isArrayBufferView=function(k){return w()&&typeof Uint32Array<"u"&&(k instanceof Int8Array||k instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&k instanceof Uint8ClampedArray||k instanceof Int16Array||k instanceof Uint16Array||k instanceof Int32Array||k instanceof Uint32Array||k instanceof Float32Array||k instanceof Float64Array)},O=e.__addimage__.binaryStringToUint8Array=function(k){for(var T=k.length,$=new Uint8Array(T),I=0;I<T;I++)$[I]=k.charCodeAt(I);return $},E=e.__addimage__.arrayBufferToBinaryString=function(k){for(var T="",$=A(k)?k:new Uint8Array(k),I=0;I<$.length;I+=8192)T+=String.fromCharCode.apply(null,$.subarray(I,I+8192));return T};e.addImage=function(){var k,T,$,I,V,F,B,X,Y;if(typeof arguments[1]=="number"?(T=t,$=arguments[1],I=arguments[2],V=arguments[3],F=arguments[4],B=arguments[5],X=arguments[6],Y=arguments[7]):(T=arguments[1],$=arguments[2],I=arguments[3],V=arguments[4],F=arguments[5],B=arguments[6],X=arguments[7],Y=arguments[8]),xt(k=arguments[0])==="object"&&!f(k)&&"imageData"in k){var Z=k;k=Z.imageData,T=Z.format||T||t,$=Z.x||$||0,I=Z.y||I||0,V=Z.w||Z.width||V,F=Z.h||Z.height||F,B=Z.alias||B,X=Z.compression||X,Y=Z.rotation||Z.angle||Y}var ae=this.internal.getFilters();if(X===void 0&&ae.indexOf("FlateEncode")!==-1&&(X="SLOW"),isNaN($)||isNaN(I))throw new Error("Invalid coordinates passed to jsPDF.addImage");s.call(this);var M=C.call(this,k,T,B,X);return g.call(this,$,I,V,F,M,Y),this};var C=function(k,T,$,I){var V,F,B;if(typeof k=="string"&&n(k)===t){k=unescape(k);var X=D(k,!1);(X!==""||(X=e.loadFile(k,!0))!==void 0)&&(k=X)}if(f(k)&&(k=p(k,T)),T=n(k,T),!d(T))throw new Error("addImage does not support files of type '"+T+"', please ensure that a plugin for '"+T+"' support is added.");if(((B=$)==null||B.length===0)&&($=function(Y){return typeof Y=="string"||A(Y)?b(Y):A(Y.data)?b(Y.data):null}(k)),(V=h.call(this,$))||(w()&&(k instanceof Uint8Array||T==="RGBA"||(F=k,k=O(k))),V=this["process"+T.toUpperCase()](k,u.call(this),$,function(Y){return Y&&typeof Y=="string"&&(Y=Y.toUpperCase()),Y in e.image_compression?Y:x.NONE}(I),F)),!V)throw new Error("An unknown error occurred whilst processing the image.");return V},D=e.__addimage__.convertBase64ToBinaryString=function(k,T){T=typeof T!="boolean"||T;var $,I="";if(typeof k=="string"){var V;$=(V=_(k))!==null&&V!==void 0?V:k;try{I=Iu($)}catch(F){if(T)throw N($)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+F.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return I};e.getImageProperties=function(k){var T,$,I="";if(f(k)&&(k=p(k)),typeof k=="string"&&n(k)===t&&((I=D(k,!1))===""&&(I=e.loadFile(k)||""),k=I),$=n(k),!d($))throw new Error("addImage does not support files of type '"+$+"', please ensure that a plugin for '"+$+"' support is added.");if(!w()||k instanceof Uint8Array||(k=O(k)),!(T=this["process"+$.toUpperCase()](k)))throw new Error("An unknown error occurred whilst processing the image");return T.fileType=$,T}})(tt.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};tt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,i,o=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,d=!1,f=0;f<u.length&&!d;f++)switch((n=u[f]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var p=0;p<u.length;p++){n=u[p];var h=this.internal.pdfEscape,v=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),j=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(g.objId),b=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+o(n.bounds.x)+" "+s(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+s(n.bounds.y)+"] ")+"/Contents ("+h(x(n.contents))+")",i+=" /Popup "+j.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+h(x(b))+") >>",g.content=i;var N=g.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+o(n.bounds.x+30)+" "+s(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+s(n.bounds.y)+"] ")+" /Parent "+N,n.open&&(i+=" /Open true"),i+=" >>",j.content=i,this.internal.write(g.objId,"0 R",j.objId,"0 R");break;case"freetext":a="/Rect ["+o(n.bounds.x)+" "+s(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+s(n.bounds.y+n.bounds.h)+"] ";var _=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+h(v(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+_+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var w=this.annotations._nameMap[n.options.name];n.options.pageNumber=w.page,n.options.top=w.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+h(v(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var A=s(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+A+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,i,o){var s=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;s.pageContext.annotations.push({finalBounds:{x:c(r),y:u(n),w:c(r+a),h:u(n+i)},options:o,type:"link"})},e.textWithLink=function(r,n,a,i){var o,s,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){s=i.maxWidth;var d=this.splitTextToSize(r,s).length;o=Math.ceil(u*d)}else s=c,o=u;return this.text(r,n,a,i),a+=.2*u,i.align==="center"&&(n-=c/2),i.align==="right"&&(n-=c),this.link(n,a-u,s,o,i),c},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(tt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(g){return t[g.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},s=e.__arabicParser__.isArabicEndLetter=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(g){return o(g)&&a.indexOf(g.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(g){var j=0,x=r,b="",N=0;for(j=0;j<g.length;j+=1)x[g.charCodeAt(j)]!==void 0?(N++,typeof(x=x[g.charCodeAt(j)])=="number"&&(b+=String.fromCharCode(x),x=r,N=0),j===g.length-1&&(x=r,b+=g.charAt(j-(N-1)),j-=N-1,N=0)):(x=r,b+=g.charAt(j-N),j-=N,N=0);return b};e.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&n[g.charCodeAt(0)]!==void 0};var p=e.__arabicParser__.getCorrectForm=function(g,j,x){return o(g)?i(g)===!1?-1:!u(g)||!o(j)&&!o(x)||!o(x)&&s(j)||s(g)&&!o(j)||s(g)&&c(j)||s(g)&&s(j)?0:d(g)&&o(j)&&!s(j)&&o(x)&&u(x)?3:s(g)||!o(x)?1:2:-1},h=function(g){var j=0,x=0,b=0,N="",_="",w="",A=(g=g||"").split("\\s+"),O=[];for(j=0;j<A.length;j+=1){for(O.push(""),x=0;x<A[j].length;x+=1)N=A[j][x],_=A[j][x-1],w=A[j][x+1],o(N)?(b=p(N,_,w),O[j]+=b!==-1?String.fromCharCode(t[N.charCodeAt(0)][b]):N):O[j]+=N;O[j]=f(O[j])}return O.join(" ")},v=e.__arabicParser__.processArabic=e.processArabic=function(){var g,j=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(j)){var b=0;for(x=[],b=0;b<j.length;b+=1)Array.isArray(j[b])?x.push([h(j[b][0]),j[b][1],j[b][2]]):x.push([h(j[b])]);g=x}else g=h(j);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};e.events.push(["preProcessText",v])}(tt.API),tt.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(s){r=s}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(s){n=isNaN(s)||Number.isInteger(s)===!1||s<0?150:s,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(s){a=isNaN(s)||Number.isInteger(s)===!1||s<0?300:s,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(s){i=s}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(s){o=s}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(tt.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(g){p=g}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(g){v=g}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,u){n.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),p=u.scaleFactor||this.internal.scaleFactor,h=0,v=0,g=0,j=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var x=u.maxWidth;x>0?typeof c=="string"?c=this.splitTextToSize(c,x):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(N,_){return N.concat(j.splitTextToSize(_,x))},[])):c=Array.isArray(c)?c:[c];for(var b=0;b<c.length;b++)h<(g=this.getStringUnitWidth(c[b],{font:f})*d)&&(h=g);return h!==0&&(v=c.length),{w:h/=p,h:Math.max((v*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/p,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,p=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=f.top,h&&p&&(this.printHeaderRow(c.lineNumber,!0),c.y+=p[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};e.table=function(c,u,d,f,p){if(n.call(this),!d)throw new Error("No data for PDF table.");var h,v,g,j,x=[],b=[],N=[],_={},w={},A=[],O=[],E=(p=p||{}).autoSize||!1,C=p.printHeaders!==!1,D=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,k=p.margins||Object.assign({width:this.getPageWidth()},t),T=typeof p.padding=="number"?p.padding:3,$=p.headerBackgroundColor||"#c8c8c8",I=p.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=C,this.internal.__cell__.margins=k,this.internal.__cell__.table_font_size=D,this.internal.__cell__.padding=T,this.internal.__cell__.headerBackgroundColor=$,this.internal.__cell__.headerTextColor=I,this.setFontSize(D),f==null)b=x=Object.keys(d[0]),N=x.map(function(){return"left"});else if(Array.isArray(f)&&xt(f[0])==="object")for(x=f.map(function(Z){return Z.name}),b=f.map(function(Z){return Z.prompt||Z.name||""}),N=f.map(function(Z){return Z.align||"left"}),h=0;h<f.length;h+=1)w[f[h].name]=f[h].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(b=x=f,N=x.map(function(){return"left"}));if(E||Array.isArray(f)&&typeof f[0]=="string")for(h=0;h<x.length;h+=1){for(_[j=x[h]]=d.map(function(Z){return Z[j]}),this.setFont(void 0,"bold"),A.push(this.getTextDimensions(b[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=_[j],this.setFont(void 0,"normal"),g=0;g<v.length;g+=1)A.push(this.getTextDimensions(v[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);w[j]=Math.max.apply(null,A)+T+T,A=[]}if(C){var V={};for(h=0;h<x.length;h+=1)V[x[h]]={},V[x[h]].text=b[h],V[x[h]].align=N[h];var F=s.call(this,V,w);O=x.map(function(Z){return new i(c,u,w[Z],F,V[Z].text,void 0,V[Z].align)}),this.setTableHeaderRow(O),this.printHeaderRow(1,!1)}var B=f.reduce(function(Z,ae){return Z[ae.name]=ae.align,Z},{});for(h=0;h<d.length;h+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:h,data:d[h]},this);var X=s.call(this,d[h],w);for(g=0;g<x.length;g+=1){var Y=d[h][x[g]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:h,col:g,data:Y},this),o.call(this,new i(c,u,w[x[g]],X,Y,h+2,B[x[g]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var s=function(c,u){var d=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(c).map(function(h){var v=c[h];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,u[h]-d-d)},this).map(function(h){return this.getLineHeightFactor()*h.length*f/p+d+d},this).reduce(function(h,v){return Math.max(h,v)},0)};e.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){d=this.internal.__cell__.tableHeaderRow[h].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,p.push(d)),d.lineNumber=c;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,d),this.setTextColor(v)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),r=!1}}(tt.API);var SA={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},_A=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],y0=NA(_A),AA=[100,200,300,400,500,600,700,800,900],eG=NA(AA);function b0(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return SA[i=i||"normal"]?i:"normal"}(e.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(e.weight),a=function(i){return typeof y0[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function ow(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var tG={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},sw={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function lw(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function rG(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},tG,r.genericFontFamilies||{}),i=null,o=null,s=0;s<t.length;++s)if(a[(i=b0(t[s])).family]&&(i.family=a[i.family]),e.hasOwnProperty(i.family)){o=e[i.family];break}if(!(o=o||e[n]))throw new Error("Could not find a font-family for the rule '"+lw(i)+"' and default family '"+n+"'.");if(o=function(c,u){if(u[c])return u[c];var d=y0[c],f=d<=y0.normal?-1:1,p=ow(u,_A,d,f);if(!p)throw new Error("Could not find a matching font-stretch value for "+c);return p}(i.stretch,o),o=function(c,u){if(u[c])return u[c];for(var d=SA[c],f=0;f<d.length;++f)if(u[d[f]])return u[d[f]];throw new Error("Could not find a matching font-style for "+c)}(i.style,o),!(o=function(c,u){if(u[c])return u[c];if(c===400&&u[500])return u[500];if(c===500&&u[400])return u[400];var d=eG[c],f=ow(u,AA,d,c<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+c);return f}(i.weight,o)))throw new Error("Failed to resolve a font for the rule '"+lw(i)+"'.");return o}function cw(e){return e.trimLeft()}function nG(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function aG(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var eh,uw,dw,hv=["times"];(function(e){var t,r,n,a,i,o,s,c,u,d=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new c,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new o,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new o,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,s=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var f=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var W=M;Object.defineProperty(this,"pdf",{get:function(){return W}});var Q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Q},set:function(ye){Q=!!ye}});var ne=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ne},set:function(ye){ne=!!ye}});var oe=0;Object.defineProperty(this,"posX",{get:function(){return oe},set:function(ye){isNaN(ye)||(oe=ye)}});var he=0;Object.defineProperty(this,"posY",{get:function(){return he},set:function(ye){isNaN(ye)||(he=ye)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(ye){var re;typeof ye=="number"?re=[ye,ye,ye,ye]:((re=new Array(4))[0]=ye[0],re[1]=ye.length>=2?ye[1]:re[0],re[2]=ye.length>=3?ye[2]:re[0],re[3]=ye.length>=4?ye[3]:re[1]),u.margin=re}});var de=!1;Object.defineProperty(this,"autoPaging",{get:function(){return de},set:function(ye){de=ye}});var ie=0;Object.defineProperty(this,"lastBreak",{get:function(){return ie},set:function(ye){ie=ye}});var xe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return xe},set:function(ye){xe=ye}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(ye){ye instanceof d&&(u=ye)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(ye){u.path=ye}});var be=[];Object.defineProperty(this,"ctxStack",{get:function(){return be},set:function(ye){be=ye}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ye){var re;re=p(ye),this.ctx.fillStyle=re.style,this.ctx.isFillTransparent=re.a===0,this.ctx.fillOpacity=re.a,this.pdf.setFillColor(re.r,re.g,re.b,{a:re.a}),this.pdf.setTextColor(re.r,re.g,re.b,{a:re.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ye){var re=p(ye);this.ctx.strokeStyle=re.style,this.ctx.isStrokeTransparent=re.a===0,this.ctx.strokeOpacity=re.a,re.a===0?this.pdf.setDrawColor(255,255,255):(re.a,this.pdf.setDrawColor(re.r,re.g,re.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ye){["butt","round","square"].indexOf(ye)!==-1&&(this.ctx.lineCap=ye,this.pdf.setLineCap(ye))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ye){isNaN(ye)||(this.ctx.lineWidth=ye,this.pdf.setLineWidth(ye))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ye){["bevel","round","miter"].indexOf(ye)!==-1&&(this.ctx.lineJoin=ye,this.pdf.setLineJoin(ye))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ye){isNaN(ye)||(this.ctx.miterLimit=ye,this.pdf.setMiterLimit(ye))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ye){this.ctx.textBaseline=ye}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ye){["right","end","center","left","start"].indexOf(ye)!==-1&&(this.ctx.textAlign=ye)}});var pe=null;function Ee(ye,re){if(pe===null){var Ye=function(Be){var ke=[];return Object.keys(Be).forEach(function(Ce){Be[Ce].forEach(function(De){var Me=null;switch(De){case"bold":Me={family:Ce,weight:"bold"};break;case"italic":Me={family:Ce,style:"italic"};break;case"bolditalic":Me={family:Ce,weight:"bold",style:"italic"};break;case"":case"normal":Me={family:Ce}}Me!==null&&(Me.ref={name:Ce,style:De},ke.push(Me))})}),ke}(ye.getFontList());pe=function(Be){for(var ke={},Ce=0;Ce<Be.length;++Ce){var De=b0(Be[Ce]),Me=De.family,Ve=De.stretch,Ze=De.style,at=De.weight;ke[Me]=ke[Me]||{},ke[Me][Ve]=ke[Me][Ve]||{},ke[Me][Ve][Ze]=ke[Me][Ve][Ze]||{},ke[Me][Ve][Ze][at]=De}return ke}(Ye.concat(re))}return pe}var $e=null;Object.defineProperty(this,"fontFaces",{get:function(){return $e},set:function(ye){pe=null,$e=ye}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ye){var re;if(this.ctx.font=ye,(re=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ye))!==null){var Ye=re[1];re[2];var Be=re[3],ke=re[4];re[5];var Ce=re[6],De=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ke)[2];ke=Math.floor(De==="px"?parseFloat(ke)*this.pdf.internal.scaleFactor:De==="em"?parseFloat(ke)*this.pdf.getFontSize():parseFloat(ke)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ke);var Me=function(it){var vt,Fe,Ur=[],_t=it.trim();if(_t==="")return hv;if(_t in sw)return[sw[_t]];for(;_t!=="";){switch(Fe=null,vt=(_t=cw(_t)).charAt(0)){case'"':case"'":Fe=nG(_t.substring(1),vt);break;default:Fe=aG(_t)}if(Fe===null||(Ur.push(Fe[0]),(_t=cw(Fe[1]))!==""&&_t.charAt(0)!==","))return hv;_t=_t.replace(/^,/,"")}return Ur}(Ce);if(this.fontFaces){var Ve=rG(Ee(this.pdf,this.fontFaces),Me.map(function(it){return{family:it,stretch:"normal",weight:Be,style:Ye}}));this.pdf.setFont(Ve.ref.name,Ve.ref.style)}else{var Ze="";(Be==="bold"||parseInt(Be,10)>=700||Ye==="bold")&&(Ze="bold"),Ye==="italic"&&(Ze+="italic"),Ze.length===0&&(Ze="normal");for(var at="",pt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},yt=0;yt<Me.length;yt++){if(this.pdf.internal.getFont(Me[yt],Ze,{noFallback:!0,disableWarning:!0})!==void 0){at=Me[yt];break}if(Ze==="bolditalic"&&this.pdf.internal.getFont(Me[yt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)at=Me[yt],Ze="bold";else if(this.pdf.internal.getFont(Me[yt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){at=Me[yt],Ze="normal";break}}if(at===""){for(var Ot=0;Ot<Me.length;Ot++)if(pt[Me[Ot]]){at=pt[Me[Ot]];break}}at=at===""?"Times":at,this.pdf.setFont(at,Ze)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ye){this.ctx.globalCompositeOperation=ye}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ye){this.ctx.globalAlpha=ye}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ye){this.ctx.lineDashOffset=ye,ae.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ye){this.ctx.lineDash=ye,ae.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ye){this.ctx.ignoreClearRect=!!ye}})};f.prototype.setLineDash=function(M){this.lineDash=M},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){_.call(this,"fill",!1)},f.prototype.stroke=function(){_.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(M,W){if(isNaN(M)||isNaN(W))throw Ft.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Q=this.ctx.transform.applyToPoint(new o(M,W));this.path.push({type:"mt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(M,W)},f.prototype.closePath=function(){var M=new o(0,0),W=0;for(W=this.path.length-1;W!==-1;W--)if(this.path[W].type==="begin"&&xt(this.path[W+1])==="object"&&typeof this.path[W+1].x=="number"){M=new o(this.path[W+1].x,this.path[W+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(M.x,M.y)},f.prototype.lineTo=function(M,W){if(isNaN(M)||isNaN(W))throw Ft.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Q=this.ctx.transform.applyToPoint(new o(M,W));this.path.push({type:"lt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(Q.x,Q.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),_.call(this,null,!0)},f.prototype.quadraticCurveTo=function(M,W,Q,ne){if(isNaN(Q)||isNaN(ne)||isNaN(M)||isNaN(W))throw Ft.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var oe=this.ctx.transform.applyToPoint(new o(Q,ne)),he=this.ctx.transform.applyToPoint(new o(M,W));this.path.push({type:"qct",x1:he.x,y1:he.y,x:oe.x,y:oe.y}),this.ctx.lastPoint=new o(oe.x,oe.y)},f.prototype.bezierCurveTo=function(M,W,Q,ne,oe,he){if(isNaN(oe)||isNaN(he)||isNaN(M)||isNaN(W)||isNaN(Q)||isNaN(ne))throw Ft.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var de=this.ctx.transform.applyToPoint(new o(oe,he)),ie=this.ctx.transform.applyToPoint(new o(M,W)),xe=this.ctx.transform.applyToPoint(new o(Q,ne));this.path.push({type:"bct",x1:ie.x,y1:ie.y,x2:xe.x,y2:xe.y,x:de.x,y:de.y}),this.ctx.lastPoint=new o(de.x,de.y)},f.prototype.arc=function(M,W,Q,ne,oe,he){if(isNaN(M)||isNaN(W)||isNaN(Q)||isNaN(ne)||isNaN(oe))throw Ft.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(he=!!he,!this.ctx.transform.isIdentity){var de=this.ctx.transform.applyToPoint(new o(M,W));M=de.x,W=de.y;var ie=this.ctx.transform.applyToPoint(new o(0,Q)),xe=this.ctx.transform.applyToPoint(new o(0,0));Q=Math.sqrt(Math.pow(ie.x-xe.x,2)+Math.pow(ie.y-xe.y,2))}Math.abs(oe-ne)>=2*Math.PI&&(ne=0,oe=2*Math.PI),this.path.push({type:"arc",x:M,y:W,radius:Q,startAngle:ne,endAngle:oe,counterclockwise:he})},f.prototype.arcTo=function(M,W,Q,ne,oe){throw new Error("arcTo not implemented.")},f.prototype.rect=function(M,W,Q,ne){if(isNaN(M)||isNaN(W)||isNaN(Q)||isNaN(ne))throw Ft.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,W),this.lineTo(M+Q,W),this.lineTo(M+Q,W+ne),this.lineTo(M,W+ne),this.lineTo(M,W),this.lineTo(M+Q,W),this.lineTo(M,W)},f.prototype.fillRect=function(M,W,Q,ne){if(isNaN(M)||isNaN(W)||isNaN(Q)||isNaN(ne))throw Ft.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var oe={};this.lineCap!=="butt"&&(oe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(oe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,W,Q,ne),this.fill(),oe.hasOwnProperty("lineCap")&&(this.lineCap=oe.lineCap),oe.hasOwnProperty("lineJoin")&&(this.lineJoin=oe.lineJoin)}},f.prototype.strokeRect=function(M,W,Q,ne){if(isNaN(M)||isNaN(W)||isNaN(Q)||isNaN(ne))throw Ft.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(M,W,Q,ne),this.stroke())},f.prototype.clearRect=function(M,W,Q,ne){if(isNaN(M)||isNaN(W)||isNaN(Q)||isNaN(ne))throw Ft.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,W,Q,ne))},f.prototype.save=function(M){M=typeof M!="boolean"||M;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("q");if(this.pdf.setPage(W),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var ne=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ne}},f.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("Q");this.pdf.setPage(W),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(M){var W,Q,ne,oe;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))W=0,Q=0,ne=0,oe=0;else{var he=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(he!==null)W=parseInt(he[1]),Q=parseInt(he[2]),ne=parseInt(he[3]),oe=1;else if((he=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)W=parseInt(he[1]),Q=parseInt(he[2]),ne=parseInt(he[3]),oe=parseFloat(he[4]);else{if(oe=1,typeof M=="string"&&M.charAt(0)!=="#"){var de=new vA(M);M=de.ok?de.toHex():"#000000"}M.length===4?(W=M.substring(1,2),W+=W,Q=M.substring(2,3),Q+=Q,ne=M.substring(3,4),ne+=ne):(W=M.substring(1,3),Q=M.substring(3,5),ne=M.substring(5,7)),W=parseInt(W,16),Q=parseInt(Q,16),ne=parseInt(ne,16)}}return{r:W,g:Q,b:ne,a:oe,style:M}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(M,W,Q,ne){if(isNaN(W)||isNaN(Q)||typeof M!="string")throw Ft.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ne=isNaN(ne)?void 0:ne,!h.call(this)){var oe=X(this.ctx.transform.rotation),he=this.ctx.transform.scaleX;T.call(this,{text:M,x:W,y:Q,scale:he,angle:oe,align:this.textAlign,maxWidth:ne})}},f.prototype.strokeText=function(M,W,Q,ne){if(isNaN(W)||isNaN(Q)||typeof M!="string")throw Ft.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){ne=isNaN(ne)?void 0:ne;var oe=X(this.ctx.transform.rotation),he=this.ctx.transform.scaleX;T.call(this,{text:M,x:W,y:Q,scale:he,renderingMode:"stroke",angle:oe,align:this.textAlign,maxWidth:ne})}},f.prototype.measureText=function(M){if(typeof M!="string")throw Ft.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var W=this.pdf,Q=this.pdf.internal.scaleFactor,ne=W.internal.getFontSize(),oe=W.getStringUnitWidth(M)*ne/W.internal.scaleFactor,he=function(de){var ie=(de=de||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ie}}),this};return new he({width:oe*=Math.round(96*Q/72*1e4)/1e4})},f.prototype.scale=function(M,W){if(isNaN(M)||isNaN(W))throw Ft.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Q=new c(M,0,0,W,0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},f.prototype.rotate=function(M){if(isNaN(M))throw Ft.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var W=new c(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply(W)},f.prototype.translate=function(M,W){if(isNaN(M)||isNaN(W))throw Ft.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Q=new c(1,0,0,1,M,W);this.ctx.transform=this.ctx.transform.multiply(Q)},f.prototype.transform=function(M,W,Q,ne,oe,he){if(isNaN(M)||isNaN(W)||isNaN(Q)||isNaN(ne)||isNaN(oe)||isNaN(he))throw Ft.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var de=new c(M,W,Q,ne,oe,he);this.ctx.transform=this.ctx.transform.multiply(de)},f.prototype.setTransform=function(M,W,Q,ne,oe,he){M=isNaN(M)?1:M,W=isNaN(W)?0:W,Q=isNaN(Q)?0:Q,ne=isNaN(ne)?1:ne,oe=isNaN(oe)?0:oe,he=isNaN(he)?0:he,this.ctx.transform=new c(M,W,Q,ne,oe,he)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(M,W,Q,ne,oe,he,de,ie,xe){var be=this.pdf.getImageProperties(M),pe=1,Ee=1,$e=1,ye=1;ne!==void 0&&ie!==void 0&&($e=ie/ne,ye=xe/oe,pe=be.width/ne*ie/ne,Ee=be.height/oe*xe/oe),he===void 0&&(he=W,de=Q,W=0,Q=0),ne!==void 0&&ie===void 0&&(ie=ne,xe=oe),ne===void 0&&ie===void 0&&(ie=be.width,xe=be.height);for(var re,Ye=this.ctx.transform.decompose(),Be=X(Ye.rotate.shx),ke=new c,Ce=(ke=(ke=(ke=ke.multiply(Ye.translate)).multiply(Ye.skew)).multiply(Ye.scale)).applyToRectangle(new s(he-W*$e,de-Q*ye,ne*pe,oe*Ee)),De=j.call(this,Ce),Me=[],Ve=0;Ve<De.length;Ve+=1)Me.indexOf(De[Ve])===-1&&Me.push(De[Ve]);if(N(Me),this.autoPaging)for(var Ze=Me[0],at=Me[Me.length-1],pt=Ze;pt<at+1;pt++){this.pdf.setPage(pt);var yt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ot=pt===1?this.posY+this.margin[0]:this.margin[0],it=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],vt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Fe=pt===1?0:it+(pt-2)*vt;if(this.ctx.clip_path.length!==0){var Ur=this.path;re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(re,this.posX+this.margin[3],-Fe+Ot+this.ctx.prevPageLastElemOffset),w.call(this,"fill",!0),this.path=Ur}var _t=JSON.parse(JSON.stringify(Ce));_t=b([_t],this.posX+this.margin[3],-Fe+Ot+this.ctx.prevPageLastElemOffset)[0];var la=(pt>Ze||pt<at)&&g.call(this);la&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],yt,vt,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",_t.x,_t.y,_t.w,_t.h,null,null,Be),la&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(M,"JPEG",Ce.x,Ce.y,Ce.w,Ce.h,null,null,Be)};var j=function(M,W,Q){var ne=[];W=W||this.pdf.internal.pageSize.width,Q=Q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var oe=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":ne.push(Math.floor((M.y+oe)/Q)+1);break;case"arc":ne.push(Math.floor((M.y+oe-M.radius)/Q)+1),ne.push(Math.floor((M.y+oe+M.radius)/Q)+1);break;case"qct":var he=Y(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);ne.push(Math.floor((he.y+oe)/Q)+1),ne.push(Math.floor((he.y+he.h+oe)/Q)+1);break;case"bct":var de=Z(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);ne.push(Math.floor((de.y+oe)/Q)+1),ne.push(Math.floor((de.y+de.h+oe)/Q)+1);break;case"rect":ne.push(Math.floor((M.y+oe)/Q)+1),ne.push(Math.floor((M.y+M.h+oe)/Q)+1)}for(var ie=0;ie<ne.length;ie+=1)for(;this.pdf.internal.getNumberOfPages()<ne[ie];)x.call(this);return ne},x=function(){var M=this.fillStyle,W=this.strokeStyle,Q=this.font,ne=this.lineCap,oe=this.lineWidth,he=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=W,this.font=Q,this.lineCap=ne,this.lineWidth=oe,this.lineJoin=he},b=function(M,W,Q){for(var ne=0;ne<M.length;ne++)switch(M[ne].type){case"bct":M[ne].x2+=W,M[ne].y2+=Q;case"qct":M[ne].x1+=W,M[ne].y1+=Q;case"mt":case"lt":case"arc":default:M[ne].x+=W,M[ne].y+=Q}return M},N=function(M){return M.sort(function(W,Q){return W-Q})},_=function(M,W){for(var Q,ne,oe=this.fillStyle,he=this.strokeStyle,de=this.lineCap,ie=this.lineWidth,xe=Math.abs(ie*this.ctx.transform.scaleX),be=this.lineJoin,pe=JSON.parse(JSON.stringify(this.path)),Ee=JSON.parse(JSON.stringify(this.path)),$e=[],ye=0;ye<Ee.length;ye++)if(Ee[ye].x!==void 0)for(var re=j.call(this,Ee[ye]),Ye=0;Ye<re.length;Ye+=1)$e.indexOf(re[Ye])===-1&&$e.push(re[Ye]);for(var Be=0;Be<$e.length;Be++)for(;this.pdf.internal.getNumberOfPages()<$e[Be];)x.call(this);if(N($e),this.autoPaging)for(var ke=$e[0],Ce=$e[$e.length-1],De=ke;De<Ce+1;De++){this.pdf.setPage(De),this.fillStyle=oe,this.strokeStyle=he,this.lineCap=de,this.lineWidth=xe,this.lineJoin=be;var Me=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ve=De===1?this.posY+this.margin[0]:this.margin[0],Ze=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],at=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],pt=De===1?0:Ze+(De-2)*at;if(this.ctx.clip_path.length!==0){var yt=this.path;Q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(Q,this.posX+this.margin[3],-pt+Ve+this.ctx.prevPageLastElemOffset),w.call(this,M,!0),this.path=yt}if(ne=JSON.parse(JSON.stringify(pe)),this.path=b(ne,this.posX+this.margin[3],-pt+Ve+this.ctx.prevPageLastElemOffset),W===!1||De===0){var Ot=(De>ke||De<Ce)&&g.call(this);Ot&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Me,at,null).clip().discardPath()),w.call(this,M,W),Ot&&this.pdf.restoreGraphicsState()}this.lineWidth=ie}else this.lineWidth=xe,w.call(this,M,W),this.lineWidth=ie;this.path=pe},w=function(M,W){if((M!=="stroke"||W||!v.call(this))&&(M==="stroke"||W||!h.call(this))){for(var Q,ne,oe=[],he=this.path,de=0;de<he.length;de++){var ie=he[de];switch(ie.type){case"begin":oe.push({begin:!0});break;case"close":oe.push({close:!0});break;case"mt":oe.push({start:ie,deltas:[],abs:[]});break;case"lt":var xe=oe.length;if(he[de-1]&&!isNaN(he[de-1].x)&&(Q=[ie.x-he[de-1].x,ie.y-he[de-1].y],xe>0)){for(;xe>=0;xe--)if(oe[xe-1].close!==!0&&oe[xe-1].begin!==!0){oe[xe-1].deltas.push(Q),oe[xe-1].abs.push(ie);break}}break;case"bct":Q=[ie.x1-he[de-1].x,ie.y1-he[de-1].y,ie.x2-he[de-1].x,ie.y2-he[de-1].y,ie.x-he[de-1].x,ie.y-he[de-1].y],oe[oe.length-1].deltas.push(Q);break;case"qct":var be=he[de-1].x+2/3*(ie.x1-he[de-1].x),pe=he[de-1].y+2/3*(ie.y1-he[de-1].y),Ee=ie.x+2/3*(ie.x1-ie.x),$e=ie.y+2/3*(ie.y1-ie.y),ye=ie.x,re=ie.y;Q=[be-he[de-1].x,pe-he[de-1].y,Ee-he[de-1].x,$e-he[de-1].y,ye-he[de-1].x,re-he[de-1].y],oe[oe.length-1].deltas.push(Q);break;case"arc":oe.push({deltas:[],abs:[],arc:!0}),Array.isArray(oe[oe.length-1].abs)&&oe[oe.length-1].abs.push(ie)}}ne=W?null:M==="stroke"?"stroke":"fill";for(var Ye=!1,Be=0;Be<oe.length;Be++)if(oe[Be].arc)for(var ke=oe[Be].abs,Ce=0;Ce<ke.length;Ce++){var De=ke[Ce];De.type==="arc"?E.call(this,De.x,De.y,De.radius,De.startAngle,De.endAngle,De.counterclockwise,void 0,W,!Ye):$.call(this,De.x,De.y),Ye=!0}else if(oe[Be].close===!0)this.pdf.internal.out("h"),Ye=!1;else if(oe[Be].begin!==!0){var Me=oe[Be].start.x,Ve=oe[Be].start.y;I.call(this,oe[Be].deltas,Me,Ve),Ye=!0}ne&&C.call(this,ne),W&&D.call(this)}},A=function(M){var W=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Q=W*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-Q;case"top":return M+W-Q;case"hanging":return M+W-2*Q;case"middle":return M+W/2-Q;case"ideographic":return M;case"alphabetic":default:return M}},O=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function(W,Q){this.colorStops.push([W,Q])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var E=function(M,W,Q,ne,oe,he,de,ie,xe){for(var be=F.call(this,Q,ne,oe,he),pe=0;pe<be.length;pe++){var Ee=be[pe];pe===0&&(xe?k.call(this,Ee.x1+M,Ee.y1+W):$.call(this,Ee.x1+M,Ee.y1+W)),V.call(this,M,W,Ee.x2,Ee.y2,Ee.x3,Ee.y3,Ee.x4,Ee.y4)}ie?D.call(this):C.call(this,de)},C=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},D=function(){this.pdf.clip(),this.pdf.discardPath()},k=function(M,W){this.pdf.internal.out(r(M)+" "+n(W)+" m")},T=function(M){var W;switch(M.align){case"right":case"end":W="right";break;case"center":W="center";break;case"left":case"start":default:W="left"}var Q=this.pdf.getTextDimensions(M.text),ne=A.call(this,M.y),oe=O.call(this,ne)-Q.h,he=this.ctx.transform.applyToPoint(new o(M.x,ne)),de=this.ctx.transform.decompose(),ie=new c;ie=(ie=(ie=ie.multiply(de.translate)).multiply(de.skew)).multiply(de.scale);for(var xe,be,pe,Ee=this.ctx.transform.applyToRectangle(new s(M.x,ne,Q.w,Q.h)),$e=ie.applyToRectangle(new s(M.x,oe,Q.w,Q.h)),ye=j.call(this,$e),re=[],Ye=0;Ye<ye.length;Ye+=1)re.indexOf(ye[Ye])===-1&&re.push(ye[Ye]);if(N(re),this.autoPaging)for(var Be=re[0],ke=re[re.length-1],Ce=Be;Ce<ke+1;Ce++){this.pdf.setPage(Ce);var De=Ce===1?this.posY+this.margin[0]:this.margin[0],Me=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ve=this.pdf.internal.pageSize.height-this.margin[2],Ze=Ve-this.margin[0],at=this.pdf.internal.pageSize.width-this.margin[1],pt=at-this.margin[3],yt=Ce===1?0:Me+(Ce-2)*Ze;if(this.ctx.clip_path.length!==0){var Ot=this.path;xe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(xe,this.posX+this.margin[3],-1*yt+De),w.call(this,"fill",!0),this.path=Ot}var it=b([JSON.parse(JSON.stringify($e))],this.posX+this.margin[3],-yt+De+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(be=this.pdf.internal.getFontSize(),this.pdf.setFontSize(be*M.scale),pe=this.lineWidth,this.lineWidth=pe*M.scale);var vt=this.autoPaging!=="text";if(vt||it.y+it.h<=Ve){if(vt||it.y>=De&&it.x<=at){var Fe=vt?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||at-it.x)[0],Ur=b([JSON.parse(JSON.stringify(Ee))],this.posX+this.margin[3],-yt+De+this.ctx.prevPageLastElemOffset)[0],_t=vt&&(Ce>Be||Ce<ke)&&g.call(this);_t&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],pt,Ze,null).clip().discardPath()),this.pdf.text(Fe,Ur.x,Ur.y,{angle:M.angle,align:W,renderingMode:M.renderingMode}),_t&&this.pdf.restoreGraphicsState()}}else it.y<Ve&&(this.ctx.prevPageLastElemOffset+=Ve-it.y);M.scale>=.01&&(this.pdf.setFontSize(be),this.lineWidth=pe)}else M.scale>=.01&&(be=this.pdf.internal.getFontSize(),this.pdf.setFontSize(be*M.scale),pe=this.lineWidth,this.lineWidth=pe*M.scale),this.pdf.text(M.text,he.x+this.posX,he.y+this.posY,{angle:M.angle,align:W,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(be),this.lineWidth=pe)},$=function(M,W,Q,ne){Q=Q||0,ne=ne||0,this.pdf.internal.out(r(M+Q)+" "+n(W+ne)+" l")},I=function(M,W,Q){return this.pdf.lines(M,W,Q,null,null)},V=function(M,W,Q,ne,oe,he,de,ie){this.pdf.internal.out([t(a(Q+M)),t(i(ne+W)),t(a(oe+M)),t(i(he+W)),t(a(de+M)),t(i(ie+W)),"c"].join(" "))},F=function(M,W,Q,ne){for(var oe=2*Math.PI,he=Math.PI/2;W>Q;)W-=oe;var de=Math.abs(Q-W);de<oe&&ne&&(de=oe-de);for(var ie=[],xe=ne?-1:1,be=W;de>1e-5;){var pe=be+xe*Math.min(de,he);ie.push(B.call(this,M,be,pe)),de-=Math.abs(pe-be),be=pe}return ie},B=function(M,W,Q){var ne=(Q-W)/2,oe=M*Math.cos(ne),he=M*Math.sin(ne),de=oe,ie=-he,xe=de*de+ie*ie,be=xe+de*oe+ie*he,pe=4/3*(Math.sqrt(2*xe*be)-be)/(de*he-ie*oe),Ee=de-pe*ie,$e=ie+pe*de,ye=Ee,re=-$e,Ye=ne+W,Be=Math.cos(Ye),ke=Math.sin(Ye);return{x1:M*Math.cos(W),y1:M*Math.sin(W),x2:Ee*Be-$e*ke,y2:Ee*ke+$e*Be,x3:ye*Be-re*ke,y3:ye*ke+re*Be,x4:M*Math.cos(Q),y4:M*Math.sin(Q)}},X=function(M){return 180*M/Math.PI},Y=function(M,W,Q,ne,oe,he){var de=M+.5*(Q-M),ie=W+.5*(ne-W),xe=oe+.5*(Q-oe),be=he+.5*(ne-he),pe=Math.min(M,oe,de,xe),Ee=Math.max(M,oe,de,xe),$e=Math.min(W,he,ie,be),ye=Math.max(W,he,ie,be);return new s(pe,$e,Ee-pe,ye-$e)},Z=function(M,W,Q,ne,oe,he,de,ie){var xe,be,pe,Ee,$e,ye,re,Ye,Be,ke,Ce,De,Me,Ve,Ze=Q-M,at=ne-W,pt=oe-Q,yt=he-ne,Ot=de-oe,it=ie-he;for(be=0;be<41;be++)Be=(re=(pe=M+(xe=be/40)*Ze)+xe*(($e=Q+xe*pt)-pe))+xe*($e+xe*(oe+xe*Ot-$e)-re),ke=(Ye=(Ee=W+xe*at)+xe*((ye=ne+xe*yt)-Ee))+xe*(ye+xe*(he+xe*it-ye)-Ye),be==0?(Ce=Be,De=ke,Me=Be,Ve=ke):(Ce=Math.min(Ce,Be),De=Math.min(De,ke),Me=Math.max(Me,Be),Ve=Math.max(Ve,ke));return new s(Math.round(Ce),Math.round(De),Math.round(Me-Ce),Math.round(Ve-De))},ae=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,W,Q=(M=this.ctx.lineDash,W=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:W}));this.prevLineDash!==Q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Q)}}})(tt.API),function(e){var t=function(i){var o,s,c,u,d,f,p,h,v,g;for(s=[],c=0,u=(i+=o="\0\0\0\0".slice(i.length%4||4)).length;u>c;c+=4)(d=(i.charCodeAt(c)<<24)+(i.charCodeAt(c+1)<<16)+(i.charCodeAt(c+2)<<8)+i.charCodeAt(c+3))!==0?(f=(d=((d=((d=((d=(d-(g=d%85))/85)-(v=d%85))/85)-(h=d%85))/85)-(p=d%85))/85)%85,s.push(f+33,p+33,h+33,v+33,g+33)):s.push(122);return function(j,x){for(var b=x;b>0;b--)j.pop()}(s,o.length),String.fromCharCode.apply(String,s)+"~>"},r=function(i){var o,s,c,u,d,f=String,p="length",h=255,v="charCodeAt",g="slice",j="replace";for(i[g](-2),i=i[g](0,-2)[j](/\s/g,"")[j]("z","!!!!!"),c=[],u=0,d=(i+=o="uuuuu"[g](i[p]%5||5))[p];d>u;u+=5)s=52200625*(i[v](u)-33)+614125*(i[v](u+1)-33)+7225*(i[v](u+2)-33)+85*(i[v](u+3)-33)+(i[v](u+4)-33),c.push(h&s>>24,h&s>>16,h&s>>8,h&s);return function(x,b){for(var N=b;N>0;N--)x.pop()}(c,o[p]),f.fromCharCode.apply(f,c)},n=function(i){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),o.test(i)===!1)return"";for(var s="",c=0;c<i.length;c+=2)s+=String.fromCharCode("0x"+(i[c]+i[c+1]));return s},a=function(i){for(var o=new Uint8Array(i.length),s=i.length;s--;)o[s]=i.charCodeAt(s);return i=(o=h0(o)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};e.processDataByFilters=function(i,o){var s=0,c=i||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),s=0;s<o.length;s+=1)switch(o[s]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=a(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[s]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(tt.API),function(e){e.loadFile=function(t,r,n){return function(a,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var s=void 0;try{s=function(c,u,d){var f=new XMLHttpRequest,p=0,h=function(v){var g=v.length,j=[],x=String.fromCharCode;for(p=0;p<g;p+=1)j.push(x(255&v.charCodeAt(p)));return j.join("")};if(f.open("GET",c,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?d(h(this.responseText)):d(void 0)}),f.send(null),u&&f.status===200)return h(f.responseText)}(a,i,o)}catch{}return s}(t,r,n)},e.loadImageFile=e.loadFile}(tt.API),function(e){function t(){return(rt.html2canvas?Promise.resolve(rt.html2canvas):qv(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(rt.DOMPurify?Promise.resolve(rt.DOMPurify):qv(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var s=xt(o);return s==="undefined"?"undefined":s==="string"||o instanceof String?"string":s==="number"||o instanceof Number?"number":s==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":s==="object"?"object":"unknown"},a=function(o,s){var c=document.createElement(o);for(var u in s.className&&(c.className=s.className),s.innerHTML&&s.dompurify&&(c.innerHTML=s.dompurify.sanitize(s.innerHTML)),s.style)c.style[u]=s.style[u];return c},i=function o(s){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),c);return u=(u=u.setProgress(1,o,1,[o])).set(s)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(o,s){return o.__proto__=s||i.prototype,o},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(o,s){return this.then(function(){switch(s=s||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(r).then(function(c){return this.set({src:a("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},i.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},s=function c(u,d){for(var f=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),p=u.firstChild;p;p=p.nextSibling)d!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||f.appendChild(c(p,d));return u.nodeType===1&&(u.nodeName==="CANVAS"?(f.width=u.width,f.height=u.height,f.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(f.value=u.value),f.addEventListener("load",function(){f.scrollTop=u.scrollTop,f.scrollLeft=u.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);s.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(s),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(s){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,s(this.prop.container,c)}).then(function(s){(this.opt.html2canvas.onrendered||function(){})(s),this.prop.canvas=s,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(s){var c=this.opt.jsPDF,u=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var p=0;p<u.length;++p){var h=u[p],v=h.src.find(function(g){return g.format==="truetype"});v&&c.addFont(v.url,h.ref.name,h.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,c.context2d.save(!0),s(this.prop.container,f)}).then(function(s){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(s),this.prop.canvas=s,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(o,s,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,s):this.outputPdf(o,s)},i.prototype.outputPdf=function(o,s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,s)})},i.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},i.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(o){if(n(o)!=="object")return this;var s=Object.keys(o||{}).map(function(c){if(c in i.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(s)})},i.prototype.get=function(o,s){return this.then(function(){var c=o in i.template.prop?this.prop[o]:this.opt[o];return s?s(c):c})},i.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},i.prototype.setPageSize=function(o){function s(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(o=o||tt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:s(o.inner.width,o.k),height:s(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},i.prototype.setProgress=function(o,s,c,u){return o!=null&&(this.progress.val=o),s!=null&&(this.progress.state=s),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(o,s,c,u){return this.setProgress(o?this.progress.val+o:null,s||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},i.prototype.then=function(o,s){var c=this;return this.thenCore(o,s,function(u,d){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(f){return c.updateProgress(null,u),f}).then(u,d).then(function(f){return c.updateProgress(1),f})})},i.prototype.thenCore=function(o,s,c){c=c||Promise.prototype.then,o&&(o=o.bind(this)),s&&(s=s.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),d=c.call(u,o,s);return i.convert(d,this.__proto__)},i.prototype.thenExternal=function(o,s){return Promise.prototype.then.call(this,o,s)},i.prototype.thenList=function(o){var s=this;return o.forEach(function(c){s=s.thenCore(c)}),s},i.prototype.catch=function(o){o&&(o=o.bind(this));var s=Promise.prototype.catch.call(this,o);return i.convert(s,this)},i.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},i.prototype.error=function(o){return this.then(function(){throw new Error(o)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,tt.getPageSize=function(o,s,c){if(xt(o)==="object"){var u=o;o=u.orientation,s=u.unit||s,c=u.format||c}s=s||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var d,f=(""+c).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(s){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+s}var h,v=0,g=0;if(p.hasOwnProperty(f))v=p[f][1]/d,g=p[f][0]/d;else try{v=c[1],g=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",g>v&&(h=g,g=v,v=h);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",v>g&&(h=g,g=v,v=h)}return{width:g,height:v,unit:s,k:d,orientation:o}},e.html=function(o,s){(s=s||{}).callback=s.callback||function(){},s.html2canvas=s.html2canvas||{},s.html2canvas.canvas=s.html2canvas.canvas||this.canvas,s.jsPDF=s.jsPDF||this,s.fontFaces=s.fontFaces?s.fontFaces.map(b0):null;var c=new i(s);return s.worker?c:c.from(o).doCallback()}}(tt.API),tt.API.addJS=function(e){return dw=e,this.internal.events.subscribe("postPutResources",function(){eh=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(eh+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),uw=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+dw+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){eh!==void 0&&uw!==void 0&&this.internal.out("/Names <</JavaScript "+eh+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var o=a[i],s=n.exec(o);if(s!=null){var c=s[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(i=0;i<u;i++){var f=r.internal.newObject();d.push(f);var p=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var h=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<d.length;i++)r.internal.write("(page_"+(i+1)+")"+d[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+h+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var o={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var o=n.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var s=this.count=this.count_r({count:0},o);if(s>0&&this.line("/Count "+s),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])}(tt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,i,o,s){var c,u=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(c=function(f){for(var p,h=256*f.charCodeAt(4)+f.charCodeAt(5),v=f.length,g={width:0,height:0,numcomponents:1},j=4;j<v;j+=2){if(j+=h,t.indexOf(f.charCodeAt(j+1))!==-1){p=256*f.charCodeAt(j+5)+f.charCodeAt(j+6),g={width:256*f.charCodeAt(j+7)+f.charCodeAt(j+8),height:p,numcomponents:f.charCodeAt(j+9)};break}h=256*f.charCodeAt(j+2)+f.charCodeAt(j+3)}return g}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:s=this.color_spaces.DEVICE_GRAY;break;case 4:s=this.color_spaces.DEVICE_CMYK;break;case 3:s=this.color_spaces.DEVICE_RGB}d={data:r,width:c.width,height:c.height,colorSpace:s,bitsPerComponent:8,filter:u,index:n,alias:a}}return d}}(tt.API);var pl,th,fw,hw,pw,iG=function(){var e,t,r;function n(i){var o,s,c,u,d,f,p,h,v,g,j,x,b,N;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(o=this.readUInt32(),v=(function(){var _,w;for(w=[],_=0;_<4;++_)w.push(String.fromCharCode(this.data[this.pos++]));return w}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),u=this.readUInt16()||100,f.delay=1e3*d/u,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(v==="fdAT"&&(this.pos+=4,o-=4),i=(f!=null?f.data:void 0)||this.imgData,x=0;0<=o?x<o:x>o;0<=o?++x:--x)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((g=c-this.transparency.indexed.length)>0)for(b=0;0<=g?b<g:b>g;0<=g?++b:--b)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":p=(j=this.read(o)).indexOf(0),h=String.fromCharCode.apply(String,j.slice(0,p)),this.text[h]=String.fromCharCode.apply(String,j.slice(p+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(N=this.colorType)===4||N===6,s=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*s,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var o,s;for(s=[],o=0;0<=i?o<i:o>i;0<=i?++o:--o)s.push(this.data[this.pos++]);return s},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var o=this.pixelBitlength/8,s=new Uint8Array(this.width*this.height*o),c=0,u=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function d(f,p,h,v){var g,j,x,b,N,_,w,A,O,E,C,D,k,T,$,I,V,F,B,X,Y,Z=Math.ceil((u.width-f)/h),ae=Math.ceil((u.height-p)/v),M=u.width==Z&&u.height==ae;for(T=o*Z,D=M?s:new Uint8Array(T*ae),_=i.length,k=0,j=0;k<ae&&c<_;){switch(i[c++]){case 0:for(b=V=0;V<T;b=V+=1)D[j++]=i[c++];break;case 1:for(b=F=0;F<T;b=F+=1)g=i[c++],N=b<o?0:D[j-o],D[j++]=(g+N)%256;break;case 2:for(b=B=0;B<T;b=B+=1)g=i[c++],x=(b-b%o)/o,$=k&&D[(k-1)*T+x*o+b%o],D[j++]=($+g)%256;break;case 3:for(b=X=0;X<T;b=X+=1)g=i[c++],x=(b-b%o)/o,N=b<o?0:D[j-o],$=k&&D[(k-1)*T+x*o+b%o],D[j++]=(g+Math.floor((N+$)/2))%256;break;case 4:for(b=Y=0;Y<T;b=Y+=1)g=i[c++],x=(b-b%o)/o,N=b<o?0:D[j-o],k===0?$=I=0:($=D[(k-1)*T+x*o+b%o],I=x&&D[(k-1)*T+(x-1)*o+b%o]),w=N+$-I,A=Math.abs(w-N),E=Math.abs(w-$),C=Math.abs(w-I),O=A<=E&&A<=C?N:E<=C?$:I,D[j++]=(g+O)%256;break;default:throw new Error("Invalid filter algorithm: "+i[c-1])}if(!M){var W=((p+k*v)*u.width+f)*o,Q=k*T;for(b=0;b<Z;b+=1){for(var ne=0;ne<o;ne+=1)s[W++]=D[Q++];W+=(h-1)*o}}k++}}return i=IH(i),u.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),s},n.prototype.decodePalette=function(){var i,o,s,c,u,d,f,p,h;for(s=this.palette,d=this.transparency.indexed||[],u=new Uint8Array((d.length||0)+s.length),c=0,i=0,o=f=0,p=s.length;f<p;o=f+=3)u[c++]=s[o],u[c++]=s[o+1],u[c++]=s[o+2],u[c++]=(h=d[i++])!=null?h:255;return u},n.prototype.copyToImageData=function(i,o){var s,c,u,d,f,p,h,v,g,j,x;if(c=this.colors,g=null,s=this.hasAlphaChannel,this.palette.length&&(g=(x=this._decodedPalette)!=null?x:this._decodedPalette=this.decodePalette(),c=4,s=!0),v=(u=i.data||i).length,f=g||o,d=p=0,c===1)for(;d<v;)h=g?4*o[d/4]:p,j=f[h++],u[d++]=j,u[d++]=j,u[d++]=j,u[d++]=s?f[h++]:255,p=h;else for(;d<v;)h=g?4*o[d/4]:p,u[d++]=f[h++],u[d++]=f[h++],u[d++]=f[h++],u[d++]=s?f[h++]:255,p=h},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var a=function(){if(Object.prototype.toString.call(rt)==="[object Window]"){try{t=rt.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return a(),e=function(i){var o;if(a()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var o,s,c,u,d,f,p,h;if(this.animation){for(h=[],s=d=0,f=(p=this.animation.frames).length;d<f;s=++d)o=p[s],c=i.createImageData(o.width,o.height),u=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(c,u),o.imageData=c,h.push(o.image=e(c));return h}},n.prototype.renderFrame=function(i,o){var s,c,u;return s=(c=this.animation.frames)[o],u=c[o-1],o===0&&i.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?i.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&i.putImageData(u.imageData,u.xOffset,u.yOffset),s.blendOp===0&&i.clearRect(s.xOffset,s.yOffset,s.width,s.height),i.drawImage(s.image,s.xOffset,s.yOffset)},n.prototype.animate=function(i){var o,s,c,u,d,f,p=this;return s=0,f=this.animation,u=f.numFrames,c=f.frames,d=f.numPlays,(o=function(){var h,v;if(h=s++%u,v=c[h],p.renderFrame(i,h),u>1&&s/u<d)return p.animation._timeout=setTimeout(o,v.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var o,s;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,o=i.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(s=o.createImageData(this.width,this.height),this.copyToImageData(s,this.decodePixels()),o.putImageData(s,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function oG(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,o=1<<(7&a)+1;e[t++],e[t++];var s=null,c=null;i&&(s=t,c=o,t+=3*o);var u=!0,d=[],f=0,p=null,h=0,v=null;for(this.width=r,this.height=n;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,v=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((k=e[t++])>=0))throw Error("Invalid block size");if(k===0)break;t+=k}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var g=e[t++];f=e[t++]|e[t++]<<8,p=e[t++],!(1&g)&&(p=null),h=g>>2&7,t++;break;case 254:for(;;){if(!((k=e[t++])>=0))throw Error("Invalid block size");if(k===0)break;t+=k}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var j=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,N=e[t++]|e[t++]<<8,_=e[t++],w=_>>6&1,A=1<<(7&_)+1,O=s,E=c,C=!1;_>>7&&(C=!0,O=t,E=A,t+=3*A);var D=t;for(t++;;){var k;if(!((k=e[t++])>=0))throw Error("Invalid block size");if(k===0)break;t+=k}d.push({x:j,y:x,width:b,height:N,has_local_palette:C,palette_offset:O,palette_size:E,data_offset:D,data_length:t-D,transparent_index:p,interlaced:!!w,delay:f,disposal:h});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return v},this.frameInfo=function(T){if(T<0||T>=d.length)throw new Error("Frame index out of range.");return d[T]},this.decodeAndBlitFrameBGRA=function(T,$){var I=this.frameInfo(T),V=I.width*I.height,F=new Uint8Array(V);mw(e,I.data_offset,F,V);var B=I.palette_offset,X=I.transparent_index;X===null&&(X=256);var Y=I.width,Z=r-Y,ae=Y,M=4*(I.y*r+I.x),W=4*((I.y+I.height)*r+I.x),Q=M,ne=4*Z;I.interlaced===!0&&(ne+=4*r*7);for(var oe=8,he=0,de=F.length;he<de;++he){var ie=F[he];if(ae===0&&(ae=Y,(Q+=ne)>=W&&(ne=4*Z+4*r*(oe-1),Q=M+(Y+Z)*(oe<<1),oe>>=1)),ie===X)Q+=4;else{var xe=e[B+3*ie],be=e[B+3*ie+1],pe=e[B+3*ie+2];$[Q++]=pe,$[Q++]=be,$[Q++]=xe,$[Q++]=255}--ae}},this.decodeAndBlitFrameRGBA=function(T,$){var I=this.frameInfo(T),V=I.width*I.height,F=new Uint8Array(V);mw(e,I.data_offset,F,V);var B=I.palette_offset,X=I.transparent_index;X===null&&(X=256);var Y=I.width,Z=r-Y,ae=Y,M=4*(I.y*r+I.x),W=4*((I.y+I.height)*r+I.x),Q=M,ne=4*Z;I.interlaced===!0&&(ne+=4*r*7);for(var oe=8,he=0,de=F.length;he<de;++he){var ie=F[he];if(ae===0&&(ae=Y,(Q+=ne)>=W&&(ne=4*Z+4*r*(oe-1),Q=M+(Y+Z)*(oe<<1),oe>>=1)),ie===X)Q+=4;else{var xe=e[B+3*ie],be=e[B+3*ie+1],pe=e[B+3*ie+2];$[Q++]=xe,$[Q++]=be,$[Q++]=pe,$[Q++]=255}--ae}}}function mw(e,t,r,n){for(var a=e[t++],i=1<<a,o=i+1,s=o+1,c=a+1,u=(1<<c)-1,d=0,f=0,p=0,h=e[t++],v=new Int32Array(4096),g=null;;){for(;d<16&&h!==0;)f|=e[t++]<<d,d+=8,h===1?h=e[t++]:--h;if(d<c)break;var j=f&u;if(f>>=c,d-=c,j!==i){if(j===o)break;for(var x=j<s?j:g,b=0,N=x;N>i;)N=v[N]>>8,++b;var _=N;if(p+b+(x!==j?1:0)>n)return void Ft.log("Warning, gif stream longer than expected.");r[p++]=_;var w=p+=b;for(x!==j&&(r[p++]=_),N=x;b--;)N=v[N],r[--w]=255&N,N>>=8;g!==null&&s<4096&&(v[s++]=g<<8|_,s>=u+1&&c<12&&(++c,u=u<<1|1)),g=j}else s=o+1,u=(1<<(c=a+1))-1,g=null}return p!==n&&Ft.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function pv(e){var t,r,n,a,i,o=Math.floor,s=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),f=new Array(65535),p=new Array(65535),h=new Array(64),v=new Array(64),g=[],j=0,x=7,b=new Array(64),N=new Array(64),_=new Array(64),w=new Array(256),A=new Array(2048),O=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],E=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],C=[0,1,2,3,4,5,6,7,8,9,10,11],D=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],k=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],T=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],$=[0,1,2,3,4,5,6,7,8,9,10,11],I=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],V=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function F(M,W){for(var Q=0,ne=0,oe=new Array,he=1;he<=16;he++){for(var de=1;de<=M[he];de++)oe[W[ne]]=[],oe[W[ne]][0]=Q,oe[W[ne]][1]=he,ne++,Q++;Q*=2}return oe}function B(M){for(var W=M[0],Q=M[1]-1;Q>=0;)W&1<<Q&&(j|=1<<x),Q--,--x<0&&(j==255?(X(255),X(0)):X(j),x=7,j=0)}function X(M){g.push(M)}function Y(M){X(M>>8&255),X(255&M)}function Z(M,W,Q,ne,oe){for(var he,de=oe[0],ie=oe[240],xe=function(ke,Ce){var De,Me,Ve,Ze,at,pt,yt,Ot,it,vt,Fe=0;for(it=0;it<8;++it){De=ke[Fe],Me=ke[Fe+1],Ve=ke[Fe+2],Ze=ke[Fe+3],at=ke[Fe+4],pt=ke[Fe+5],yt=ke[Fe+6];var Ur=De+(Ot=ke[Fe+7]),_t=De-Ot,la=Me+yt,It=Me-yt,Zt=Ve+pt,Ra=Ve-pt,Et=Ze+at,Po=Ze-at,tr=Ur+Et,ca=Ur-Et,hi=la+Zt,rr=la-Zt;ke[Fe]=tr+hi,ke[Fe+4]=tr-hi;var lt=.707106781*(rr+ca);ke[Fe+2]=ca+lt,ke[Fe+6]=ca-lt;var kt=.382683433*((tr=Po+Ra)-(rr=It+_t)),Eo=.5411961*tr+kt,Rr=1.306562965*rr+kt,Fa=.707106781*(hi=Ra+It),Ba=_t+Fa,Qe=_t-Fa;ke[Fe+5]=Qe+Eo,ke[Fe+3]=Qe-Eo,ke[Fe+1]=Ba+Rr,ke[Fe+7]=Ba-Rr,Fe+=8}for(Fe=0,it=0;it<8;++it){De=ke[Fe],Me=ke[Fe+8],Ve=ke[Fe+16],Ze=ke[Fe+24],at=ke[Fe+32],pt=ke[Fe+40],yt=ke[Fe+48];var ua=De+(Ot=ke[Fe+56]),za=De-Ot,hn=Me+yt,Nr=Me-yt,gr=Ve+pt,An=Ve-pt,Ds=Ze+at,pi=Ze-at,da=ua+Ds,fa=ua-Ds,ha=hn+gr,qa=hn-gr;ke[Fe]=da+ha,ke[Fe+32]=da-ha;var Rn=.707106781*(qa+fa);ke[Fe+16]=fa+Rn,ke[Fe+48]=fa-Rn;var Ua=.382683433*((da=pi+An)-(qa=Nr+za)),ko=.5411961*da+Ua,Is=1.306562965*qa+Ua,Rs=.707106781*(ha=An+Nr),Fs=za+Rs,Bs=za-Rs;ke[Fe+40]=Bs+ko,ke[Fe+24]=Bs-ko,ke[Fe+8]=Fs+Is,ke[Fe+56]=Fs-Is,Fe++}for(it=0;it<64;++it)vt=ke[it]*Ce[it],h[it]=vt>0?vt+.5|0:vt-.5|0;return h}(M,W),be=0;be<64;++be)v[O[be]]=xe[be];var pe=v[0]-Q;Q=v[0],pe==0?B(ne[0]):(B(ne[p[he=32767+pe]]),B(f[he]));for(var Ee=63;Ee>0&&v[Ee]==0;)Ee--;if(Ee==0)return B(de),Q;for(var $e,ye=1;ye<=Ee;){for(var re=ye;v[ye]==0&&ye<=Ee;)++ye;var Ye=ye-re;if(Ye>=16){$e=Ye>>4;for(var Be=1;Be<=$e;++Be)B(ie);Ye&=15}he=32767+v[ye],B(oe[(Ye<<4)+p[he]]),B(f[he]),ye++}return Ee!=63&&B(de),Q}function ae(M){M=Math.min(Math.max(M,1),100),i!=M&&(function(W){for(var Q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ne=0;ne<64;ne++){var oe=o((Q[ne]*W+50)/100);oe=Math.min(Math.max(oe,1),255),s[O[ne]]=oe}for(var he=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],de=0;de<64;de++){var ie=o((he[de]*W+50)/100);ie=Math.min(Math.max(ie,1),255),c[O[de]]=ie}for(var xe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],be=0,pe=0;pe<8;pe++)for(var Ee=0;Ee<8;Ee++)u[be]=1/(s[O[be]]*xe[pe]*xe[Ee]*8),d[be]=1/(c[O[be]]*xe[pe]*xe[Ee]*8),be++}(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),i=M)}this.encode=function(M,W){W&&ae(W),g=new Array,j=0,x=7,Y(65496),Y(65504),Y(16),X(74),X(70),X(73),X(70),X(0),X(1),X(1),X(0),Y(1),Y(1),X(0),X(0),function(){Y(65499),Y(132),X(0);for(var Me=0;Me<64;Me++)X(s[Me]);X(1);for(var Ve=0;Ve<64;Ve++)X(c[Ve])}(),function(Me,Ve){Y(65472),Y(17),X(8),Y(Ve),Y(Me),X(3),X(1),X(17),X(0),X(2),X(17),X(1),X(3),X(17),X(1)}(M.width,M.height),function(){Y(65476),Y(418),X(0);for(var Me=0;Me<16;Me++)X(E[Me+1]);for(var Ve=0;Ve<=11;Ve++)X(C[Ve]);X(16);for(var Ze=0;Ze<16;Ze++)X(D[Ze+1]);for(var at=0;at<=161;at++)X(k[at]);X(1);for(var pt=0;pt<16;pt++)X(T[pt+1]);for(var yt=0;yt<=11;yt++)X($[yt]);X(17);for(var Ot=0;Ot<16;Ot++)X(I[Ot+1]);for(var it=0;it<=161;it++)X(V[it])}(),Y(65498),Y(12),X(3),X(1),X(0),X(2),X(17),X(3),X(17),X(0),X(63),X(0);var Q=0,ne=0,oe=0;j=0,x=7,this.encode.displayName="_encode_";for(var he,de,ie,xe,be,pe,Ee,$e,ye,re=M.data,Ye=M.width,Be=M.height,ke=4*Ye,Ce=0;Ce<Be;){for(he=0;he<ke;){for(be=ke*Ce+he,Ee=-1,$e=0,ye=0;ye<64;ye++)pe=be+($e=ye>>3)*ke+(Ee=4*(7&ye)),Ce+$e>=Be&&(pe-=ke*(Ce+1+$e-Be)),he+Ee>=ke&&(pe-=he+Ee-ke+4),de=re[pe++],ie=re[pe++],xe=re[pe++],b[ye]=(A[de]+A[ie+256>>0]+A[xe+512>>0]>>16)-128,N[ye]=(A[de+768>>0]+A[ie+1024>>0]+A[xe+1280>>0]>>16)-128,_[ye]=(A[de+1280>>0]+A[ie+1536>>0]+A[xe+1792>>0]>>16)-128;Q=Z(b,u,Q,t,n),ne=Z(N,d,ne,r,a),oe=Z(_,d,oe,r,a),he+=32}Ce+=8}if(x>=0){var De=[];De[1]=x+1,De[0]=(1<<x+1)-1,B(De)}return Y(65497),new Uint8Array(g)},e=e||50,function(){for(var M=String.fromCharCode,W=0;W<256;W++)w[W]=M(W)}(),t=F(E,C),r=F(T,$),n=F(D,k),a=F(I,V),function(){for(var M=1,W=2,Q=1;Q<=15;Q++){for(var ne=M;ne<W;ne++)p[32767+ne]=Q,f[32767+ne]=[],f[32767+ne][1]=Q,f[32767+ne][0]=ne;for(var oe=-(W-1);oe<=-M;oe++)p[32767+oe]=Q,f[32767+oe]=[],f[32767+oe][1]=Q,f[32767+oe][0]=W-1+oe;M<<=1,W<<=1}}(),function(){for(var M=0;M<256;M++)A[M]=19595*M,A[M+256>>0]=38470*M,A[M+512>>0]=7471*M+32768,A[M+768>>0]=-11059*M,A[M+1024>>0]=-21709*M,A[M+1280>>0]=32768*M+8421375,A[M+1536>>0]=-27439*M,A[M+1792>>0]=-5329*M}(),ae(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function xa(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function gw(e){function t(E){if(!E)throw Error("assert :P")}function r(E,C,D){for(var k=0;4>k;k++)if(E[C+k]!=D.charCodeAt(k))return!0;return!1}function n(E,C,D,k,T){for(var $=0;$<T;$++)E[C+$]=D[k+$]}function a(E,C,D,k){for(var T=0;T<k;T++)E[C+T]=D}function i(E){return new Int32Array(E)}function o(E,C){for(var D=[],k=0;k<E;k++)D.push(new C);return D}function s(E,C){var D=[];return function k(T,$,I){for(var V=I[$],F=0;F<V&&(T.push(I.length>$+1?[]:new C),!(I.length<$+1));F++)k(T[F],$+1,I)}(D,0,E),D}var c=function(){var E=this;function C(m,y){for(var P=1<<y-1>>>0;m&P;)P>>>=1;return P?(m&P-1)+P:m}function D(m,y,P,L,z){t(!(L%P));do m[y+(L-=P)]=z;while(0<L)}function k(m,y,P,L,z){if(t(2328>=z),512>=z)var H=i(512);else if((H=i(z))==null)return 0;return function(G,K,J,ee,le,ge){var ve,fe,Oe=K,we=1<<J,ce=i(16),ue=i(16);for(t(le!=0),t(ee!=null),t(G!=null),t(0<J),fe=0;fe<le;++fe){if(15<ee[fe])return 0;++ce[ee[fe]]}if(ce[0]==le)return 0;for(ue[1]=0,ve=1;15>ve;++ve){if(ce[ve]>1<<ve)return 0;ue[ve+1]=ue[ve]+ce[ve]}for(fe=0;fe<le;++fe)ve=ee[fe],0<ee[fe]&&(ge[ue[ve]++]=fe);if(ue[15]==1)return(ee=new T).g=0,ee.value=ge[0],D(G,Oe,1,we,ee),we;var _e,Pe=-1,Ae=we-1,qe=0,Ie=1,Je=1,Re=1<<J;for(fe=0,ve=1,le=2;ve<=J;++ve,le<<=1){if(Ie+=Je<<=1,0>(Je-=ce[ve]))return 0;for(;0<ce[ve];--ce[ve])(ee=new T).g=ve,ee.value=ge[fe++],D(G,Oe+qe,le,Re,ee),qe=C(qe,ve)}for(ve=J+1,le=2;15>=ve;++ve,le<<=1){if(Ie+=Je<<=1,0>(Je-=ce[ve]))return 0;for(;0<ce[ve];--ce[ve]){if(ee=new T,(qe&Ae)!=Pe){for(Oe+=Re,_e=1<<(Pe=ve)-J;15>Pe&&!(0>=(_e-=ce[Pe]));)++Pe,_e<<=1;we+=Re=1<<(_e=Pe-J),G[K+(Pe=qe&Ae)].g=_e+J,G[K+Pe].value=Oe-K-Pe}ee.g=ve-J,ee.value=ge[fe++],D(G,Oe+(qe>>J),le,Re,ee),qe=C(qe,ve)}}return Ie!=2*ue[15]-1?0:we}(m,y,P,L,z,H)}function T(){this.value=this.g=0}function $(){this.value=this.g=0}function I(){this.G=o(5,T),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Fr,$)}function V(m,y,P,L){t(m!=null),t(y!=null),t(2147483648>L),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=y,m.pa=P,m.Jd=y,m.Yc=P+L,m.Zc=4<=L?P+L-4+1:P,he(m)}function F(m,y){for(var P=0;0<y--;)P|=ie(m,128)<<y;return P}function B(m,y){var P=F(m,y);return de(m)?-P:P}function X(m,y,P,L){var z,H=0;for(t(m!=null),t(y!=null),t(4294967288>L),m.Sb=L,m.Ra=0,m.u=0,m.h=0,4<L&&(L=4),z=0;z<L;++z)H+=y[P+z]<<8*z;m.Ra=H,m.bb=L,m.oa=y,m.pa=P}function Y(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<tl-8>>>0,++m.bb,m.u-=8;Q(m)&&(m.h=1,m.u=0)}function Z(m,y){if(t(0<=y),!m.h&&y<=el){var P=W(m)&Qs[y];return m.u+=y,Y(m),P}return m.h=1,m.u=0}function ae(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function M(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function W(m){return m.Ra>>>(m.u&tl-1)>>>0}function Q(m){return t(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>tl}function ne(m,y){m.u=y,m.h=Q(m)}function oe(m){m.u>=nu&&(t(m.u>=nu),Y(m))}function he(m){t(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(t(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function de(m){return F(m,1)}function ie(m,y){var P=m.Ca;0>m.b&&he(m);var L=m.b,z=P*y>>>8,H=(m.I>>>L>z)+0;for(H?(P-=z,m.I-=z+1<<L>>>0):P=z+1,L=P,z=0;256<=L;)z+=8,L>>=8;return L=7^z+mn[L],m.b-=L,m.Ca=(P<<L)-1,H}function xe(m,y,P){m[y+0]=P>>24&255,m[y+1]=P>>16&255,m[y+2]=P>>8&255,m[y+3]=P>>0&255}function be(m,y){return m[y+0]<<0|m[y+1]<<8}function pe(m,y){return be(m,y)|m[y+2]<<16}function Ee(m,y){return be(m,y)|be(m,y+2)<<16}function $e(m,y){var P=1<<y;return t(m!=null),t(0<y),m.X=i(P),m.X==null?0:(m.Mb=32-y,m.Xa=y,1)}function ye(m,y){t(m!=null),t(y!=null),t(m.Xa==y.Xa),n(y.X,0,m.X,0,1<<y.Xa)}function re(){this.X=[],this.Xa=this.Mb=0}function Ye(m,y,P,L){t(P!=null),t(L!=null);var z=P[0],H=L[0];return z==0&&(z=(m*H+y/2)/y),H==0&&(H=(y*z+m/2)/m),0>=z||0>=H?0:(P[0]=z,L[0]=H,1)}function Be(m,y){return m+(1<<y)-1>>>y}function ke(m,y){return((4278255360&m)+(4278255360&y)>>>0&4278255360)+((16711935&m)+(16711935&y)>>>0&16711935)>>>0}function Ce(m,y){E[y]=function(P,L,z,H,G,K,J){var ee;for(ee=0;ee<G;++ee){var le=E[m](K[J+ee-1],z,H+ee);K[J+ee]=ke(P[L+ee],le)}}}function De(){this.ud=this.hd=this.jd=0}function Me(m,y){return((4278124286&(m^y))>>>1)+(m&y)>>>0}function Ve(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function Ze(m,y){return Ve(m+(m-y+.5>>1))}function at(m,y,P){return Math.abs(y-P)-Math.abs(m-P)}function pt(m,y,P,L,z,H,G){for(L=H[G-1],P=0;P<z;++P)H[G+P]=L=ke(m[y+P],L)}function yt(m,y,P,L,z){var H;for(H=0;H<P;++H){var G=m[y+H],K=G>>8&255,J=16711935&(J=(J=16711935&G)+((K<<16)+K));L[z+H]=(4278255360&G)+J>>>0}}function Ot(m,y){y.jd=m>>0&255,y.hd=m>>8&255,y.ud=m>>16&255}function it(m,y,P,L,z,H){var G;for(G=0;G<L;++G){var K=y[P+G],J=K>>>8,ee=K,le=255&(le=(le=K>>>16)+((m.jd<<24>>24)*(J<<24>>24)>>>5));ee=255&(ee=(ee=ee+((m.hd<<24>>24)*(J<<24>>24)>>>5))+((m.ud<<24>>24)*(le<<24>>24)>>>5)),z[H+G]=(4278255360&K)+(le<<16)+ee}}function vt(m,y,P,L,z){E[y]=function(H,G,K,J,ee,le,ge,ve,fe){for(J=ge;J<ve;++J)for(ge=0;ge<fe;++ge)ee[le++]=z(K[L(H[G++])])},E[m]=function(H,G,K,J,ee,le,ge){var ve=8>>H.b,fe=H.Ea,Oe=H.K[0],we=H.w;if(8>ve)for(H=(1<<H.b)-1,we=(1<<ve)-1;G<K;++G){var ce,ue=0;for(ce=0;ce<fe;++ce)ce&H||(ue=L(J[ee++])),le[ge++]=z(Oe[ue&we]),ue>>=ve}else E["VP8LMapColor"+P](J,ee,Oe,we,le,ge,G,K,fe)}}function Fe(m,y,P,L,z){for(P=y+P;y<P;){var H=m[y++];L[z++]=H>>16&255,L[z++]=H>>8&255,L[z++]=H>>0&255}}function Ur(m,y,P,L,z){for(P=y+P;y<P;){var H=m[y++];L[z++]=H>>16&255,L[z++]=H>>8&255,L[z++]=H>>0&255,L[z++]=H>>24&255}}function _t(m,y,P,L,z){for(P=y+P;y<P;){var H=(G=m[y++])>>16&240|G>>12&15,G=G>>0&240|G>>28&15;L[z++]=H,L[z++]=G}}function la(m,y,P,L,z){for(P=y+P;y<P;){var H=(G=m[y++])>>16&248|G>>13&7,G=G>>5&224|G>>3&31;L[z++]=H,L[z++]=G}}function It(m,y,P,L,z){for(P=y+P;y<P;){var H=m[y++];L[z++]=H>>0&255,L[z++]=H>>8&255,L[z++]=H>>16&255}}function Zt(m,y,P,L,z,H){if(H==0)for(P=y+P;y<P;)xe(L,((H=m[y++])[0]>>24|H[1]>>8&65280|H[2]<<8&16711680|H[3]<<24)>>>0),z+=32;else n(L,z,m,y,P)}function Ra(m,y){E[y][0]=E[m+"0"],E[y][1]=E[m+"1"],E[y][2]=E[m+"2"],E[y][3]=E[m+"3"],E[y][4]=E[m+"4"],E[y][5]=E[m+"5"],E[y][6]=E[m+"6"],E[y][7]=E[m+"7"],E[y][8]=E[m+"8"],E[y][9]=E[m+"9"],E[y][10]=E[m+"10"],E[y][11]=E[m+"11"],E[y][12]=E[m+"12"],E[y][13]=E[m+"13"],E[y][14]=E[m+"0"],E[y][15]=E[m+"0"]}function Et(m){return m==Eg||m==kg||m==Lf||m==Tg}function Po(){this.eb=[],this.size=this.A=this.fb=0}function tr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ca(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Po,this.f.kb=new tr,this.sd=null}function hi(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function rr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function lt(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function kt(m,y){var P=m.T,L=y.ba.f.RGBA,z=L.eb,H=L.fb+m.ka*L.A,G=Wn[y.ba.S],K=m.y,J=m.O,ee=m.f,le=m.N,ge=m.ea,ve=m.W,fe=y.cc,Oe=y.dc,we=y.Mc,ce=y.Nc,ue=m.ka,_e=m.ka+m.T,Pe=m.U,Ae=Pe+1>>1;for(ue==0?G(K,J,null,null,ee,le,ge,ve,ee,le,ge,ve,z,H,null,null,Pe):(G(y.ec,y.fc,K,J,fe,Oe,we,ce,ee,le,ge,ve,z,H-L.A,z,H,Pe),++P);ue+2<_e;ue+=2)fe=ee,Oe=le,we=ge,ce=ve,le+=m.Rc,ve+=m.Rc,H+=2*L.A,G(K,(J+=2*m.fa)-m.fa,K,J,fe,Oe,we,ce,ee,le,ge,ve,z,H-L.A,z,H,Pe);return J+=m.fa,m.j+_e<m.o?(n(y.ec,y.fc,K,J,Pe),n(y.cc,y.dc,ee,le,Ae),n(y.Mc,y.Nc,ge,ve,Ae),P--):1&_e||G(K,J,null,null,ee,le,ge,ve,ee,le,ge,ve,z,H+L.A,null,null,Pe),P}function Eo(m,y,P){var L=m.F,z=[m.J];if(L!=null){var H=m.U,G=y.ba.S,K=G==Cf||G==Lf;y=y.ba.f.RGBA;var J=[0],ee=m.ka;J[0]=m.T,m.Kb&&(ee==0?--J[0]:(--ee,z[0]-=m.width),m.j+m.ka+m.T==m.o&&(J[0]=m.o-m.j-ee));var le=y.eb;ee=y.fb+ee*y.A,m=Ut(L,z[0],m.width,H,J,le,ee+(K?0:3),y.A),t(P==J),m&&Et(G)&&qn(le,ee,K,H,J,y.A)}return 0}function Rr(m){var y=m.ma,P=y.ba.S,L=11>P,z=P==kf||P==Tf||P==Cf||P==Pg||P==12||Et(P);if(y.memory=null,y.Ib=null,y.Jb=null,y.Nd=null,!tu(y.Oa,m,z?11:12))return 0;if(z&&Et(P)&&Te(),m.da)alert("todo:use_scaling");else{if(L){if(y.Ib=lt,m.Kb){if(P=m.U+1>>1,y.memory=i(m.U+2*P),y.memory==null)return 0;y.ec=y.memory,y.fc=0,y.cc=y.ec,y.dc=y.fc+m.U,y.Mc=y.cc,y.Nc=y.dc+P,y.Ib=kt,Te()}}else alert("todo:EmitYUV");z&&(y.Jb=Eo,L&&me())}if(L&&!Ux){for(m=0;256>m;++m)sP[m]=89858*(m-128)+$f>>Mf,uP[m]=-22014*(m-128)+$f,cP[m]=-45773*(m-128),lP[m]=113618*(m-128)+$f>>Mf;for(m=uu;m<Mg;++m)y=76283*(m-16)+$f>>Mf,dP[m-uu]=On(y,255),fP[m-uu]=On(y+8>>4,15);Ux=1}return 1}function Fa(m){var y=m.ma,P=m.U,L=m.T;return t(!(1&m.ka)),0>=P||0>=L?0:(P=y.Ib(m,y),y.Jb!=null&&y.Jb(m,y,P),y.Dc+=P,1)}function Ba(m){m.ma.memory=null}function Qe(m,y,P,L){return Z(m,8)!=47?0:(y[0]=Z(m,14)+1,P[0]=Z(m,14)+1,L[0]=Z(m,1),Z(m,3)!=0?0:!m.h)}function ua(m,y){if(4>m)return m+1;var P=m-2>>1;return(2+(1&m)<<P)+Z(y,P)+1}function za(m,y){return 120<y?y-120:1<=(P=((P=VO[y-1])>>4)*m+(8-(15&P)))?P:1;var P}function hn(m,y,P){var L=W(P),z=m[y+=255&L].g-8;return 0<z&&(ne(P,P.u+8),L=W(P),y+=m[y].value,y+=L&(1<<z)-1),ne(P,P.u+m[y].g),m[y].value}function Nr(m,y,P){return P.g+=m.g,P.value+=m.value<<y>>>0,t(8>=P.g),m.g}function gr(m,y,P){var L=m.xc;return t((y=L==0?0:m.vc[m.md*(P>>L)+(y>>L)])<m.Wb),m.Ya[y]}function An(m,y,P,L){var z=m.ab,H=m.c*y,G=m.C;y=G+y;var K=P,J=L;for(L=m.Ta,P=m.Ua;0<z--;){var ee=m.gc[z],le=G,ge=y,ve=K,fe=J,Oe=(J=L,K=P,ee.Ea);switch(t(le<ge),t(ge<=ee.nc),ee.hc){case 2:Nf(ve,fe,(ge-le)*Oe,J,K);break;case 0:var we=le,ce=ge,ue=J,_e=K,Pe=(Re=ee).Ea;we==0&&(Ag(ve,fe,null,null,1,ue,_e),pt(ve,fe+1,0,0,Pe-1,ue,_e+1),fe+=Pe,_e+=Pe,++we);for(var Ae=1<<Re.b,qe=Ae-1,Ie=Be(Pe,Re.b),Je=Re.K,Re=Re.w+(we>>Re.b)*Ie;we<ce;){var Pt=Je,Tt=Re,St=1;for(au(ve,fe,ue,_e-Pe,1,ue,_e);St<Pe;){var bt=(St&~qe)+Ae;bt>Pe&&(bt=Pe),(0,Hi[Pt[Tt++]>>8&15])(ve,fe+ +St,ue,_e+St-Pe,bt-St,ue,_e+St),St=bt}fe+=Pe,_e+=Pe,++we&qe||(Re+=Ie)}ge!=ee.nc&&n(J,K-Oe,J,K+(ge-le-1)*Oe,Oe);break;case 1:for(Oe=ve,ce=fe,Pe=(ve=ee.Ea)-(_e=ve&~(ue=(fe=1<<ee.b)-1)),we=Be(ve,ee.b),Ae=ee.K,ee=ee.w+(le>>ee.b)*we;le<ge;){for(qe=Ae,Ie=ee,Je=new De,Re=ce+_e,Pt=ce+ve;ce<Re;)Ot(qe[Ie++],Je),$o(Je,Oe,ce,fe,J,K),ce+=fe,K+=fe;ce<Pt&&(Ot(qe[Ie++],Je),$o(Je,Oe,ce,Pe,J,K),ce+=Pe,K+=Pe),++le&ue||(ee+=we)}break;case 3:if(ve==J&&fe==K&&0<ee.b){for(ce=J,ve=Oe=K+(ge-le)*Oe-(_e=(ge-le)*Be(ee.Ea,ee.b)),fe=J,ue=K,we=[],_e=(Pe=_e)-1;0<=_e;--_e)we[_e]=fe[ue+_e];for(_e=Pe-1;0<=_e;--_e)ce[ve+_e]=we[_e];Fn(ee,le,ge,J,Oe,J,K)}else Fn(ee,le,ge,ve,fe,J,K)}K=L,J=P}J!=P&&n(L,P,K,J,H)}function Ds(m,y){var P=m.V,L=m.Ba+m.c*m.C,z=y-m.C;if(t(y<=m.l.o),t(16>=z),0<z){var H=m.l,G=m.Ta,K=m.Ua,J=H.width;if(An(m,z,P,L),z=K=[K],t((P=m.C)<(L=y)),t(H.v<H.va),L>H.o&&(L=H.o),P<H.j){var ee=H.j-P;P=H.j,z[0]+=ee*J}if(P>=L?P=0:(z[0]+=4*H.v,H.ka=P-H.j,H.U=H.va-H.v,H.T=L-P,P=1),P){if(K=K[0],11>(P=m.ca).S){var le=P.f.RGBA,ge=(L=P.S,z=H.U,H=H.T,ee=le.eb,le.A),ve=H;for(le=le.fb+m.Ma*le.A;0<ve--;){var fe=G,Oe=K,we=z,ce=ee,ue=le;switch(L){case Ef:gn(fe,Oe,we,ce,ue);break;case kf:nn(fe,Oe,we,ce,ue);break;case Eg:nn(fe,Oe,we,ce,ue),qn(ce,ue,0,we,1,0);break;case Mx:yi(fe,Oe,we,ce,ue);break;case Tf:Zt(fe,Oe,we,ce,ue,1);break;case kg:Zt(fe,Oe,we,ce,ue,1),qn(ce,ue,0,we,1,0);break;case Cf:Zt(fe,Oe,we,ce,ue,0);break;case Lf:Zt(fe,Oe,we,ce,ue,0),qn(ce,ue,1,we,1,0);break;case Pg:Gi(fe,Oe,we,ce,ue);break;case Tg:Gi(fe,Oe,we,ce,ue),qt(ce,ue,we,1,0);break;case $x:vi(fe,Oe,we,ce,ue);break;default:t(0)}K+=J,le+=ge}m.Ma+=H}else alert("todo:EmitRescaledRowsYUVA");t(m.Ma<=P.height)}}m.C=y,t(m.C<=m.i)}function pi(m){var y;if(0<m.ua)return 0;for(y=0;y<m.Wb;++y){var P=m.Ya[y].G,L=m.Ya[y].H;if(0<P[1][L[1]+0].g||0<P[2][L[2]+0].g||0<P[3][L[3]+0].g)return 0}return 1}function da(m,y,P,L,z,H){if(m.Z!=0){var G=m.qd,K=m.rd;for(t(Xi[m.Z]!=null);y<P;++y)Xi[m.Z](G,K,L,z,L,z,H),G=L,K=z,z+=H;m.qd=G,m.rd=K}}function fa(m,y){var P=m.l.ma,L=P.Z==0||P.Z==1?m.l.j:m.C;if(L=m.C<L?L:m.C,t(y<=m.l.o),y>L){var z=m.l.width,H=P.ca,G=P.tb+z*L,K=m.V,J=m.Ba+m.c*L,ee=m.gc;t(m.ab==1),t(ee[0].hc==3),Sf(ee[0],L,y,K,J,H,G),da(P,L,y,H,G,z)}m.C=m.Ma=y}function ha(m,y,P,L,z,H,G){var K=m.$/L,J=m.$%L,ee=m.m,le=m.s,ge=P+m.$,ve=ge;z=P+L*z;var fe=P+L*H,Oe=280+le.ua,we=m.Pb?K:16777216,ce=0<le.ua?le.Wa:null,ue=le.wc,_e=ge<fe?gr(le,J,K):null;t(m.C<H),t(fe<=z);var Pe=!1;e:for(;;){for(;Pe||ge<fe;){var Ae=0;if(K>=we){var qe=ge-P;t((we=m).Pb),we.wd=we.m,we.xd=qe,0<we.s.ua&&ye(we.s.Wa,we.s.vb),we=K+KO}if(J&ue||(_e=gr(le,J,K)),t(_e!=null),_e.Qb&&(y[ge]=_e.qb,Pe=!0),!Pe)if(oe(ee),_e.jc){Ae=ee,qe=y;var Ie=ge,Je=_e.pd[W(Ae)&Fr-1];t(_e.jc),256>Je.g?(ne(Ae,Ae.u+Je.g),qe[Ie]=Je.value,Ae=0):(ne(Ae,Ae.u+Je.g-256),t(256<=Je.value),Ae=Je.value),Ae==0&&(Pe=!0)}else Ae=hn(_e.G[0],_e.H[0],ee);if(ee.h)break;if(Pe||256>Ae){if(!Pe)if(_e.nd)y[ge]=(_e.qb|Ae<<8)>>>0;else{if(oe(ee),Pe=hn(_e.G[1],_e.H[1],ee),oe(ee),qe=hn(_e.G[2],_e.H[2],ee),Ie=hn(_e.G[3],_e.H[3],ee),ee.h)break;y[ge]=(Ie<<24|Pe<<16|Ae<<8|qe)>>>0}if(Pe=!1,++ge,++J>=L&&(J=0,++K,G!=null&&K<=H&&!(K%16)&&G(m,K),ce!=null))for(;ve<ge;)Ae=y[ve++],ce.X[(506832829*Ae&4294967295)>>>ce.Mb]=Ae}else if(280>Ae){if(Ae=ua(Ae-256,ee),qe=hn(_e.G[4],_e.H[4],ee),oe(ee),qe=za(L,qe=ua(qe,ee)),ee.h)break;if(ge-P<qe||z-ge<Ae)break e;for(Ie=0;Ie<Ae;++Ie)y[ge+Ie]=y[ge+Ie-qe];for(ge+=Ae,J+=Ae;J>=L;)J-=L,++K,G!=null&&K<=H&&!(K%16)&&G(m,K);if(t(ge<=z),J&ue&&(_e=gr(le,J,K)),ce!=null)for(;ve<ge;)Ae=y[ve++],ce.X[(506832829*Ae&4294967295)>>>ce.Mb]=Ae}else{if(!(Ae<Oe))break e;for(Pe=Ae-280,t(ce!=null);ve<ge;)Ae=y[ve++],ce.X[(506832829*Ae&4294967295)>>>ce.Mb]=Ae;Ae=ge,t(!(Pe>>>(qe=ce).Xa)),y[Ae]=qe.X[Pe],Pe=!0}Pe||t(ee.h==Q(ee))}if(m.Pb&&ee.h&&ge<z)t(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&ye(m.s.vb,m.s.Wa);else{if(ee.h)break e;G!=null&&G(m,K>H?H:K),m.a=0,m.$=ge-P}return 1}return m.a=3,0}function qa(m){t(m!=null),m.vc=null,m.yc=null,m.Ya=null;var y=m.Wa;y!=null&&(y.X=null),m.vb=null,t(m!=null)}function Rn(){var m=new _g;return m==null?null:(m.a=0,m.xb=Rx,Ra("Predictor","VP8LPredictors"),Ra("Predictor","VP8LPredictors_C"),Ra("PredictorAdd","VP8LPredictorsAdd"),Ra("PredictorAdd","VP8LPredictorsAdd_C"),Nf=yt,$o=it,gn=Fe,nn=Ur,Gi=_t,vi=la,yi=It,E.VP8LMapColor32b=rl,E.VP8LMapColor8b=_f,m)}function Ua(m,y,P,L,z){var H=1,G=[m],K=[y],J=L.m,ee=L.s,le=null,ge=0;e:for(;;){if(P)for(;H&&Z(J,1);){var ve=G,fe=K,Oe=L,we=1,ce=Oe.m,ue=Oe.gc[Oe.ab],_e=Z(ce,2);if(Oe.Oc&1<<_e)H=0;else{switch(Oe.Oc|=1<<_e,ue.hc=_e,ue.Ea=ve[0],ue.nc=fe[0],ue.K=[null],++Oe.ab,t(4>=Oe.ab),_e){case 0:case 1:ue.b=Z(ce,3)+2,we=Ua(Be(ue.Ea,ue.b),Be(ue.nc,ue.b),0,Oe,ue.K),ue.K=ue.K[0];break;case 3:var Pe,Ae=Z(ce,8)+1,qe=16<Ae?0:4<Ae?1:2<Ae?2:3;if(ve[0]=Be(ue.Ea,qe),ue.b=qe,Pe=we=Ua(Ae,1,0,Oe,ue.K)){var Ie,Je=Ae,Re=ue,Pt=1<<(8>>Re.b),Tt=i(Pt);if(Tt==null)Pe=0;else{var St=Re.K[0],bt=Re.w;for(Tt[0]=Re.K[0][0],Ie=1;Ie<1*Je;++Ie)Tt[Ie]=ke(St[bt+Ie],Tt[Ie-1]);for(;Ie<4*Pt;++Ie)Tt[Ie]=0;Re.K[0]=null,Re.K[0]=Tt,Pe=1}}we=Pe;break;case 2:break;default:t(0)}H=we}}if(G=G[0],K=K[0],H&&Z(J,1)&&!(H=1<=(ge=Z(J,4))&&11>=ge)){L.a=3;break e}var Rt;if(Rt=H)t:{var $t,ft,yr,vn=L,br=G,yn=K,Ct=ge,En=P,kn=vn.m,Cr=vn.s,Br=[null],on=1,Hn=0,Va=YO[Ct];r:for(;;){if(En&&Z(kn,1)){var Lr=Z(kn,3)+2,ji=Be(br,Lr),Bo=Be(yn,Lr),sl=ji*Bo;if(!Ua(ji,Bo,0,vn,Br))break r;for(Br=Br[0],Cr.xc=Lr,$t=0;$t<sl;++$t){var Ji=Br[$t]>>8&65535;Br[$t]=Ji,Ji>=on&&(on=Ji+1)}}if(kn.h)break r;for(ft=0;5>ft;++ft){var ar=Dx[ft];!ft&&0<Ct&&(ar+=1<<Ct),Hn<ar&&(Hn=ar)}var $g=o(on*Va,T),Gx=on,Vx=o(Gx,I);if(Vx==null)var If=null;else t(65536>=Gx),If=Vx;var du=i(Hn);if(If==null||du==null||$g==null){vn.a=1;break r}var Rf=$g;for($t=yr=0;$t<on;++$t){var ya=If[$t],ll=ya.G,cl=ya.H,Yx=0,Ff=1,Kx=0;for(ft=0;5>ft;++ft){ar=Dx[ft],ll[ft]=Rf,cl[ft]=yr,!ft&&0<Ct&&(ar+=1<<Ct);a:{var Bf,Dg=ar,zf=vn,fu=du,mP=Rf,gP=yr,Ig=0,Zi=zf.m,vP=Z(Zi,1);if(a(fu,0,0,Dg),vP){var yP=Z(Zi,1)+1,bP=Z(Zi,1),Xx=Z(Zi,bP==0?1:8);fu[Xx]=1,yP==2&&(fu[Xx=Z(Zi,8)]=1);var qf=1}else{var Jx=i(19),Zx=Z(Zi,4)+4;if(19<Zx){zf.a=3;var Uf=0;break a}for(Bf=0;Bf<Zx;++Bf)Jx[GO[Bf]]=Z(Zi,3);var Rg=void 0,hu=void 0,Qx=zf,xP=Jx,Wf=Dg,e1=fu,Fg=0,Qi=Qx.m,t1=8,r1=o(128,T);n:for(;k(r1,0,7,xP,19);){if(Z(Qi,1)){var wP=2+2*Z(Qi,3);if((Rg=2+Z(Qi,wP))>Wf)break n}else Rg=Wf;for(hu=0;hu<Wf&&Rg--;){oe(Qi);var n1=r1[0+(127&W(Qi))];ne(Qi,Qi.u+n1.g);var ul=n1.value;if(16>ul)e1[hu++]=ul,ul!=0&&(t1=ul);else{var jP=ul==16,a1=ul-16,NP=WO[a1],i1=Z(Qi,UO[a1])+NP;if(hu+i1>Wf)break n;for(var SP=jP?t1:0;0<i1--;)e1[hu++]=SP}}Fg=1;break n}Fg||(Qx.a=3),qf=Fg}(qf=qf&&!Zi.h)&&(Ig=k(mP,gP,8,fu,Dg)),qf&&Ig!=0?Uf=Ig:(zf.a=3,Uf=0)}if(Uf==0)break r;if(Ff&&HO[ft]==1&&(Ff=Rf[yr].g==0),Yx+=Rf[yr].g,yr+=Uf,3>=ft){var pu,Bg=du[0];for(pu=1;pu<ar;++pu)du[pu]>Bg&&(Bg=du[pu]);Kx+=Bg}}if(ya.nd=Ff,ya.Qb=0,Ff&&(ya.qb=(ll[3][cl[3]+0].value<<24|ll[1][cl[1]+0].value<<16|ll[2][cl[2]+0].value)>>>0,Yx==0&&256>ll[0][cl[0]+0].value&&(ya.Qb=1,ya.qb+=ll[0][cl[0]+0].value<<8)),ya.jc=!ya.Qb&&6>Kx,ya.jc){var Hf,Ni=ya;for(Hf=0;Hf<Fr;++Hf){var eo=Hf,to=Ni.pd[eo],Gf=Ni.G[0][Ni.H[0]+eo];256<=Gf.value?(to.g=Gf.g+256,to.value=Gf.value):(to.g=0,to.value=0,eo>>=Nr(Gf,8,to),eo>>=Nr(Ni.G[1][Ni.H[1]+eo],16,to),eo>>=Nr(Ni.G[2][Ni.H[2]+eo],0,to),Nr(Ni.G[3][Ni.H[3]+eo],24,to))}}}Cr.vc=Br,Cr.Wb=on,Cr.Ya=If,Cr.yc=$g,Rt=1;break t}Rt=0}if(!(H=Rt)){L.a=3;break e}if(0<ge){if(ee.ua=1<<ge,!$e(ee.Wa,ge)){L.a=1,H=0;break e}}else ee.ua=0;var zg=L,o1=G,_P=K,qg=zg.s,Ug=qg.xc;if(zg.c=o1,zg.i=_P,qg.md=Be(o1,Ug),qg.wc=Ug==0?-1:(1<<Ug)-1,P){L.xb=rP;break e}if((le=i(G*K))==null){L.a=1,H=0;break e}H=(H=ha(L,le,0,G,K,K,null))&&!J.h;break e}return H?(z!=null?z[0]=le:(t(le==null),t(P)),L.$=0,P||qa(ee)):qa(ee),H}function ko(m,y){var P=m.c*m.i,L=P+y+16*y;return t(m.c<=y),m.V=i(L),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+P+y,1)}function Is(m,y){var P=m.C,L=y-P,z=m.V,H=m.Ba+m.c*P;for(t(y<=m.l.o);0<L;){var G=16<L?16:L,K=m.l.ma,J=m.l.width,ee=J*G,le=K.ca,ge=K.tb+J*P,ve=m.Ta,fe=m.Ua;An(m,G,z,H),dr(ve,fe,le,ge,ee),da(K,P,P+G,le,ge,J),L-=G,z+=G*m.c,P+=G}t(P==y),m.C=m.Ma=y}function Rs(){this.ub=this.yd=this.td=this.Rb=0}function Fs(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Bs(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function rf(){this.Yb=function(){var m=[];return function y(P,L,z){for(var H=z[L],G=0;G<H&&(P.push(z.length>L+1?[]:0),!(z.length<L+1));G++)y(P[G],L+1,z)}(m,0,[3,11]),m}()}function rg(){this.jb=i(3),this.Wc=s([4,8],rf),this.Xc=s([4,17],rf)}function ng(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function zs(){this.ld=this.La=this.dd=this.tc=0}function nf(){this.Na=this.la=0}function ag(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Fc(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ig(){this.uc=this.M=this.Nb=0,this.wa=Array(new zs),this.Y=0,this.ya=Array(new Fc),this.aa=0,this.l=new qs}function af(){this.y=i(16),this.f=i(8),this.ea=i(8)}function og(){this.cb=this.a=0,this.sc="",this.m=new ae,this.Od=new Rs,this.Kc=new Fs,this.ed=new ng,this.Qa=new Bs,this.Ic=this.$c=this.Aa=0,this.D=new ig,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,ae),this.ia=0,this.pb=o(4,ag),this.Pa=new rg,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new af),this.Hd=0,this.rb=Array(new nf),this.sb=0,this.wa=Array(new zs),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Fc),this.L=this.aa=0,this.gd=s([4,2],zs),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function qs(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function sg(){var m=new og;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,cu||(cu=lf)),m}function cr(m,y,P){return m.a==0&&(m.a=y,m.sc=P,m.cb=0),0}function of(m,y,P){return 3<=P&&m[y+0]==157&&m[y+1]==1&&m[y+2]==42}function sf(m,y){if(m==null)return 0;if(m.a=0,m.sc="OK",y==null)return cr(m,2,"null VP8Io passed to VP8GetHeaders()");var P=y.data,L=y.w,z=y.ha;if(4>z)return cr(m,7,"Truncated header.");var H=P[L+0]|P[L+1]<<8|P[L+2]<<16,G=m.Od;if(G.Rb=!(1&H),G.td=H>>1&7,G.yd=H>>4&1,G.ub=H>>5,3<G.td)return cr(m,3,"Incorrect keyframe parameters.");if(!G.yd)return cr(m,4,"Frame not displayable.");L+=3,z-=3;var K=m.Kc;if(G.Rb){if(7>z)return cr(m,7,"cannot parse picture header");if(!of(P,L,z))return cr(m,3,"Bad code word");K.c=16383&(P[L+4]<<8|P[L+3]),K.Td=P[L+4]>>6,K.i=16383&(P[L+6]<<8|P[L+5]),K.Ud=P[L+6]>>6,L+=7,z-=7,m.za=K.c+15>>4,m.Ub=K.i+15>>4,y.width=K.c,y.height=K.i,y.Da=0,y.j=0,y.v=0,y.va=y.width,y.o=y.height,y.da=0,y.ib=y.width,y.hb=y.height,y.U=y.width,y.T=y.height,a((H=m.Pa).jb,0,255,H.jb.length),t((H=m.Qa)!=null),H.Cb=0,H.Bb=0,H.Fb=1,a(H.Zb,0,0,H.Zb.length),a(H.Lb,0,0,H.Lb)}if(G.ub>z)return cr(m,7,"bad partition length");V(H=m.m,P,L,G.ub),L+=G.ub,z-=G.ub,G.Rb&&(K.Ld=de(H),K.Kd=de(H)),K=m.Qa;var J,ee=m.Pa;if(t(H!=null),t(K!=null),K.Cb=de(H),K.Cb){if(K.Bb=de(H),de(H)){for(K.Fb=de(H),J=0;4>J;++J)K.Zb[J]=de(H)?B(H,7):0;for(J=0;4>J;++J)K.Lb[J]=de(H)?B(H,6):0}if(K.Bb)for(J=0;3>J;++J)ee.jb[J]=de(H)?F(H,8):255}else K.Bb=0;if(H.Ka)return cr(m,3,"cannot parse segment header");if((K=m.ed).zd=de(H),K.Tb=F(H,6),K.wb=F(H,3),K.Pc=de(H),K.Pc&&de(H)){for(ee=0;4>ee;++ee)de(H)&&(K.vd[ee]=B(H,6));for(ee=0;4>ee;++ee)de(H)&&(K.od[ee]=B(H,6))}if(m.L=K.Tb==0?0:K.zd?1:2,H.Ka)return cr(m,3,"cannot parse filter header");var le=z;if(z=J=L,L=J+le,K=le,m.Xb=(1<<F(m.m,2))-1,le<3*(ee=m.Xb))P=7;else{for(J+=3*ee,K-=3*ee,le=0;le<ee;++le){var ge=P[z+0]|P[z+1]<<8|P[z+2]<<16;ge>K&&(ge=K),V(m.Jc[+le],P,J,ge),J+=ge,K-=ge,z+=3}V(m.Jc[+ee],P,J,K),P=J<L?0:5}if(P!=0)return cr(m,P,"cannot parse partitions");for(P=F(J=m.m,7),z=de(J)?B(J,4):0,L=de(J)?B(J,4):0,K=de(J)?B(J,4):0,ee=de(J)?B(J,4):0,J=de(J)?B(J,4):0,le=m.Qa,ge=0;4>ge;++ge){if(le.Cb){var ve=le.Zb[ge];le.Fb||(ve+=P)}else{if(0<ge){m.pb[ge]=m.pb[0];continue}ve=P}var fe=m.pb[ge];fe.Sc[0]=Cg[On(ve+z,127)],fe.Sc[1]=Lg[On(ve+0,127)],fe.Eb[0]=2*Cg[On(ve+L,127)],fe.Eb[1]=101581*Lg[On(ve+K,127)]>>16,8>fe.Eb[1]&&(fe.Eb[1]=8),fe.Qc[0]=Cg[On(ve+ee,117)],fe.Qc[1]=Lg[On(ve+J,127)],fe.lc=ve+J}if(!G.Rb)return cr(m,4,"Not a key frame.");for(de(H),G=m.Pa,P=0;4>P;++P){for(z=0;8>z;++z)for(L=0;3>L;++L)for(K=0;11>K;++K)ee=ie(H,eP[P][z][L][K])?F(H,8):ZO[P][z][L][K],G.Wc[P][z].Yb[L][K]=ee;for(z=0;17>z;++z)G.Xc[P][z]=G.Wc[P][tP[z]]}return m.kc=de(H),m.kc&&(m.Bd=F(H,8)),m.cb=1}function lf(m,y,P,L,z,H,G){var K=y[z].Yb[P];for(P=0;16>z;++z){if(!ie(m,K[P+0]))return z;for(;!ie(m,K[P+1]);)if(K=y[++z].Yb[0],P=0,z==16)return 16;var J=y[z+1].Yb;if(ie(m,K[P+2])){var ee=m,le=0;if(ie(ee,(ve=K)[(ge=P)+3]))if(ie(ee,ve[ge+6])){for(K=0,ge=2*(le=ie(ee,ve[ge+8]))+(ve=ie(ee,ve[ge+9+le])),le=0,ve=XO[ge];ve[K];++K)le+=le+ie(ee,ve[K]);le+=3+(8<<ge)}else ie(ee,ve[ge+7])?(le=7+2*ie(ee,165),le+=ie(ee,145)):le=5+ie(ee,159);else le=ie(ee,ve[ge+4])?3+ie(ee,ve[ge+5]):2;K=J[2]}else le=1,K=J[1];J=G+JO[z],0>(ee=m).b&&he(ee);var ge,ve=ee.b,fe=(ge=ee.Ca>>1)-(ee.I>>ve)>>31;--ee.b,ee.Ca+=fe,ee.Ca|=1,ee.I-=(ge+1&fe)<<ve,H[J]=((le^fe)-fe)*L[(0<z)+0]}return 16}function Bc(m){var y=m.rb[m.sb-1];y.la=0,y.Na=0,a(m.zc,0,0,m.zc.length),m.ja=0}function lg(m,y){if(m==null)return 0;if(y==null)return cr(m,2,"NULL VP8Io parameter in VP8Decode().");if(!m.cb&&!sf(m,y))return 0;if(t(m.cb),y.ac==null||y.ac(y)){y.ob&&(m.L=0);var P=Df[m.L];if(m.L==2?(m.yb=0,m.zb=0):(m.yb=y.v-P>>4,m.zb=y.j-P>>4,0>m.yb&&(m.yb=0),0>m.zb&&(m.zb=0)),m.Va=y.o+15+P>>4,m.Hb=y.va+15+P>>4,m.Hb>m.za&&(m.Hb=m.za),m.Va>m.Ub&&(m.Va=m.Ub),0<m.L){var L=m.ed;for(P=0;4>P;++P){var z;if(m.Qa.Cb){var H=m.Qa.Lb[P];m.Qa.Fb||(H+=L.Tb)}else H=L.Tb;for(z=0;1>=z;++z){var G=m.gd[P][z],K=H;if(L.Pc&&(K+=L.vd[0],z&&(K+=L.od[0])),0<(K=0>K?0:63<K?63:K)){var J=K;0<L.wb&&(J=4<L.wb?J>>2:J>>1)>9-L.wb&&(J=9-L.wb),1>J&&(J=1),G.dd=J,G.tc=2*K+J,G.ld=40<=K?2:15<=K?1:0}else G.tc=0;G.La=z}}}P=0}else cr(m,6,"Frame setup failed"),P=m.a;if(P=P==0){if(P){m.$c=0,0<m.Aa||(m.Ic=pP);e:{P=m.Ic,L=4*(J=m.za);var ee=32*J,le=J+1,ge=0<m.L?J*(0<m.Aa?2:1):0,ve=(m.Aa==2?2:1)*J;if((G=L+832+(z=3*(16*P+Df[m.L])/2*ee)+(H=m.Fa!=null&&0<m.Fa.length?m.Kc.c*m.Kc.i:0))!=G)P=0;else{if(G>m.Vb){if(m.Vb=0,m.Ec=i(G),m.Fc=0,m.Ec==null){P=cr(m,1,"no memory during frame initialization.");break e}m.Vb=G}G=m.Ec,K=m.Fc,m.Ac=G,m.Bc=K,K+=L,m.Gd=o(ee,af),m.Hd=0,m.rb=o(le+1,nf),m.sb=1,m.wa=ge?o(ge,zs):null,m.Y=0,m.D.Nb=0,m.D.wa=m.wa,m.D.Y=m.Y,0<m.Aa&&(m.D.Y+=J),t(!0),m.oc=G,m.pc=K,K+=832,m.ya=o(ve,Fc),m.aa=0,m.D.ya=m.ya,m.D.aa=m.aa,m.Aa==2&&(m.D.aa+=J),m.R=16*J,m.B=8*J,J=(ee=Df[m.L])*m.R,ee=ee/2*m.B,m.sa=G,m.ta=K+J,m.qa=m.sa,m.ra=m.ta+16*P*m.R+ee,m.Ha=m.qa,m.Ia=m.ra+8*P*m.B+ee,m.$c=0,K+=z,m.mb=H?G:null,m.nb=H?K:null,t(K+H<=m.Fc+m.Vb),Bc(m),a(m.Ac,m.Bc,0,L),P=1}}if(P){if(y.ka=0,y.y=m.sa,y.O=m.ta,y.f=m.qa,y.N=m.ra,y.ea=m.Ha,y.Vd=m.Ia,y.fa=m.R,y.Rc=m.B,y.F=null,y.J=0,!Of){for(P=-255;255>=P;++P)Sr[255+P]=0>P?-P:P;for(P=-1020;1020>=P;++P)xi[1020+P]=-128>P?-128:127<P?127:P;for(P=-112;112>=P;++P)lu[112+P]=-16>P?-16:15<P?15:P;for(P=-255;510>=P;++P)ol[255+P]=0>P?0:255<P?255:P;Of=1}nl=dg,bi=cg,iu=uf,an=ug,Bn=df,ur=cf,al=Gc,Af=Lo,ou=Sg,Do=Vc,Io=Ng,Vi=Ys,Ro=Yc,il=xf,Fo=bf,Yi=Ha,su=gi,zn=jg,va[0]=Wa,va[1]=fg,va[2]=gg,va[3]=vg,va[4]=pf,va[5]=Gs,va[6]=mf,va[7]=Uc,va[8]=bg,va[9]=yg,Ki[0]=ff,Ki[1]=pg,Ki[2]=mi,Ki[3]=Ws,Ki[4]=Wr,Ki[5]=mg,Ki[6]=hf,wi[0]=qi,wi[1]=hg,wi[2]=xg,wi[3]=Wc,wi[4]=Co,wi[5]=wg,wi[6]=Hc,P=1}else P=0}P&&(P=function(fe,Oe){for(fe.M=0;fe.M<fe.Va;++fe.M){var we,ce=fe.Jc[fe.M&fe.Xb],ue=fe.m,_e=fe;for(we=0;we<_e.za;++we){var Pe=ue,Ae=_e,qe=Ae.Ac,Ie=Ae.Bc+4*we,Je=Ae.zc,Re=Ae.ya[Ae.aa+we];if(Ae.Qa.Bb?Re.$b=ie(Pe,Ae.Pa.jb[0])?2+ie(Pe,Ae.Pa.jb[2]):ie(Pe,Ae.Pa.jb[1]):Re.$b=0,Ae.kc&&(Re.Ad=ie(Pe,Ae.Bd)),Re.Za=!ie(Pe,145)+0,Re.Za){var Pt=Re.Ob,Tt=0;for(Ae=0;4>Ae;++Ae){var St,bt=Je[0+Ae];for(St=0;4>St;++St){bt=QO[qe[Ie+St]][bt];for(var Rt=Ix[ie(Pe,bt[0])];0<Rt;)Rt=Ix[2*Rt+ie(Pe,bt[Rt])];bt=-Rt,qe[Ie+St]=bt}n(Pt,Tt,qe,Ie,4),Tt+=4,Je[0+Ae]=bt}}else bt=ie(Pe,156)?ie(Pe,128)?1:3:ie(Pe,163)?2:0,Re.Ob[0]=bt,a(qe,Ie,bt,4),a(Je,0,bt,4);Re.Dd=ie(Pe,142)?ie(Pe,114)?ie(Pe,183)?1:3:2:0}if(_e.m.Ka)return cr(fe,7,"Premature end-of-partition0 encountered.");for(;fe.ja<fe.za;++fe.ja){if(_e=ce,Pe=(ue=fe).rb[ue.sb-1],qe=ue.rb[ue.sb+ue.ja],we=ue.ya[ue.aa+ue.ja],Ie=ue.kc?we.Ad:0)Pe.la=qe.la=0,we.Za||(Pe.Na=qe.Na=0),we.Hc=0,we.Gc=0,we.ia=0;else{var $t,ft;if(Pe=qe,qe=_e,Ie=ue.Pa.Xc,Je=ue.ya[ue.aa+ue.ja],Re=ue.pb[Je.$b],Ae=Je.ad,Pt=0,Tt=ue.rb[ue.sb-1],bt=St=0,a(Ae,Pt,0,384),Je.Za)var yr=0,vn=Ie[3];else{Rt=i(16);var br=Pe.Na+Tt.Na;if(br=cu(qe,Ie[1],br,Re.Eb,0,Rt,0),Pe.Na=Tt.Na=(0<br)+0,1<br)nl(Rt,0,Ae,Pt);else{var yn=Rt[0]+3>>3;for(Rt=0;256>Rt;Rt+=16)Ae[Pt+Rt]=yn}yr=1,vn=Ie[0]}var Ct=15&Pe.la,En=15&Tt.la;for(Rt=0;4>Rt;++Rt){var kn=1&En;for(yn=ft=0;4>yn;++yn)Ct=Ct>>1|(kn=(br=cu(qe,vn,br=kn+(1&Ct),Re.Sc,yr,Ae,Pt))>yr)<<7,ft=ft<<2|(3<br?3:1<br?2:Ae[Pt+0]!=0),Pt+=16;Ct>>=4,En=En>>1|kn<<7,St=(St<<8|ft)>>>0}for(vn=Ct,yr=En>>4,$t=0;4>$t;$t+=2){for(ft=0,Ct=Pe.la>>4+$t,En=Tt.la>>4+$t,Rt=0;2>Rt;++Rt){for(kn=1&En,yn=0;2>yn;++yn)br=kn+(1&Ct),Ct=Ct>>1|(kn=0<(br=cu(qe,Ie[2],br,Re.Qc,0,Ae,Pt)))<<3,ft=ft<<2|(3<br?3:1<br?2:Ae[Pt+0]!=0),Pt+=16;Ct>>=2,En=En>>1|kn<<5}bt|=ft<<4*$t,vn|=Ct<<4<<$t,yr|=(240&En)<<$t}Pe.la=vn,Tt.la=yr,Je.Hc=St,Je.Gc=bt,Je.ia=43690&bt?0:Re.ia,Ie=!(St|bt)}if(0<ue.L&&(ue.wa[ue.Y+ue.ja]=ue.gd[we.$b][we.Za],ue.wa[ue.Y+ue.ja].La|=!Ie),_e.Ka)return cr(fe,7,"Premature end-of-file encountered.")}if(Bc(fe),ue=Oe,_e=1,we=(ce=fe).D,Pe=0<ce.L&&ce.M>=ce.zb&&ce.M<=ce.Va,ce.Aa==0)e:{if(we.M=ce.M,we.uc=Pe,eu(ce,we),_e=1,we=(ft=ce.D).Nb,Pe=(bt=Df[ce.L])*ce.R,qe=bt/2*ce.B,Rt=16*we*ce.R,yn=8*we*ce.B,Ie=ce.sa,Je=ce.ta-Pe+Rt,Re=ce.qa,Ae=ce.ra-qe+yn,Pt=ce.Ha,Tt=ce.Ia-qe+yn,En=(Ct=ft.M)==0,St=Ct>=ce.Va-1,ce.Aa==2&&eu(ce,ft),ft.uc)for(kn=(br=ce).D.M,t(br.D.uc),ft=br.yb;ft<br.Hb;++ft){yr=ft,vn=kn;var Cr=(Br=(ar=br).D).Nb;$t=ar.R;var Br=Br.wa[Br.Y+yr],on=ar.sa,Hn=ar.ta+16*Cr*$t+16*yr,Va=Br.dd,Lr=Br.tc;if(Lr!=0)if(t(3<=Lr),ar.L==1)0<yr&&Yi(on,Hn,$t,Lr+4),Br.La&&zn(on,Hn,$t,Lr),0<vn&&Fo(on,Hn,$t,Lr+4),Br.La&&su(on,Hn,$t,Lr);else{var ji=ar.B,Bo=ar.qa,sl=ar.ra+8*Cr*ji+8*yr,Ji=ar.Ha,ar=ar.Ia+8*Cr*ji+8*yr;Cr=Br.ld,0<yr&&(Af(on,Hn,$t,Lr+4,Va,Cr),Do(Bo,sl,Ji,ar,ji,Lr+4,Va,Cr)),Br.La&&(Vi(on,Hn,$t,Lr,Va,Cr),il(Bo,sl,Ji,ar,ji,Lr,Va,Cr)),0<vn&&(al(on,Hn,$t,Lr+4,Va,Cr),ou(Bo,sl,Ji,ar,ji,Lr+4,Va,Cr)),Br.La&&(Io(on,Hn,$t,Lr,Va,Cr),Ro(Bo,sl,Ji,ar,ji,Lr,Va,Cr))}}if(ce.ia&&alert("todo:DitherRow"),ue.put!=null){if(ft=16*Ct,Ct=16*(Ct+1),En?(ue.y=ce.sa,ue.O=ce.ta+Rt,ue.f=ce.qa,ue.N=ce.ra+yn,ue.ea=ce.Ha,ue.W=ce.Ia+yn):(ft-=bt,ue.y=Ie,ue.O=Je,ue.f=Re,ue.N=Ae,ue.ea=Pt,ue.W=Tt),St||(Ct-=bt),Ct>ue.o&&(Ct=ue.o),ue.F=null,ue.J=null,ce.Fa!=null&&0<ce.Fa.length&&ft<Ct&&(ue.J=Zc(ce,ue,ft,Ct-ft),ue.F=ce.mb,ue.F==null&&ue.F.length==0)){_e=cr(ce,3,"Could not decode alpha data.");break e}ft<ue.j&&(bt=ue.j-ft,ft=ue.j,t(!(1&bt)),ue.O+=ce.R*bt,ue.N+=ce.B*(bt>>1),ue.W+=ce.B*(bt>>1),ue.F!=null&&(ue.J+=ue.width*bt)),ft<Ct&&(ue.O+=ue.v,ue.N+=ue.v>>1,ue.W+=ue.v>>1,ue.F!=null&&(ue.J+=ue.v),ue.ka=ft-ue.j,ue.U=ue.va-ue.v,ue.T=Ct-ft,_e=ue.put(ue))}we+1!=ce.Ic||St||(n(ce.sa,ce.ta-Pe,Ie,Je+16*ce.R,Pe),n(ce.qa,ce.ra-qe,Re,Ae+8*ce.B,qe),n(ce.Ha,ce.Ia-qe,Pt,Tt+8*ce.B,qe))}if(!_e)return cr(fe,6,"Output aborted.")}return 1}(m,y)),y.bc!=null&&y.bc(y),P&=1}return P?(m.cb=0,P):0}function pa(m,y,P,L,z){z=m[y+P+32*L]+(z>>3),m[y+P+32*L]=-256&z?0>z?0:255:z}function Us(m,y,P,L,z,H){pa(m,y,0,P,L+z),pa(m,y,1,P,L+H),pa(m,y,2,P,L-H),pa(m,y,3,P,L-z)}function pn(m){return(20091*m>>16)+m}function zc(m,y,P,L){var z,H=0,G=i(16);for(z=0;4>z;++z){var K=m[y+0]+m[y+8],J=m[y+0]-m[y+8],ee=(35468*m[y+4]>>16)-pn(m[y+12]),le=pn(m[y+4])+(35468*m[y+12]>>16);G[H+0]=K+le,G[H+1]=J+ee,G[H+2]=J-ee,G[H+3]=K-le,H+=4,y++}for(z=H=0;4>z;++z)K=(m=G[H+0]+4)+G[H+8],J=m-G[H+8],ee=(35468*G[H+4]>>16)-pn(G[H+12]),pa(P,L,0,0,K+(le=pn(G[H+4])+(35468*G[H+12]>>16))),pa(P,L,1,0,J+ee),pa(P,L,2,0,J-ee),pa(P,L,3,0,K-le),H++,L+=32}function cf(m,y,P,L){var z=m[y+0]+4,H=35468*m[y+4]>>16,G=pn(m[y+4]),K=35468*m[y+1]>>16;Us(P,L,0,z+G,m=pn(m[y+1]),K),Us(P,L,1,z+H,m,K),Us(P,L,2,z-H,m,K),Us(P,L,3,z-G,m,K)}function cg(m,y,P,L,z){zc(m,y,P,L),z&&zc(m,y+16,P,L+4)}function uf(m,y,P,L){bi(m,y+0,P,L,1),bi(m,y+32,P,L+128,1)}function ug(m,y,P,L){var z;for(m=m[y+0]+4,z=0;4>z;++z)for(y=0;4>y;++y)pa(P,L,y,z,m)}function df(m,y,P,L){m[y+0]&&an(m,y+0,P,L),m[y+16]&&an(m,y+16,P,L+4),m[y+32]&&an(m,y+32,P,L+128),m[y+48]&&an(m,y+48,P,L+128+4)}function dg(m,y,P,L){var z,H=i(16);for(z=0;4>z;++z){var G=m[y+0+z]+m[y+12+z],K=m[y+4+z]+m[y+8+z],J=m[y+4+z]-m[y+8+z],ee=m[y+0+z]-m[y+12+z];H[0+z]=G+K,H[8+z]=G-K,H[4+z]=ee+J,H[12+z]=ee-J}for(z=0;4>z;++z)G=(m=H[0+4*z]+3)+H[3+4*z],K=H[1+4*z]+H[2+4*z],J=H[1+4*z]-H[2+4*z],ee=m-H[3+4*z],P[L+0]=G+K>>3,P[L+16]=ee+J>>3,P[L+32]=G-K>>3,P[L+48]=ee-J>>3,L+=64}function qc(m,y,P){var L,z=y-32,H=Pn,G=255-m[z-1];for(L=0;L<P;++L){var K,J=H,ee=G+m[y-1];for(K=0;K<P;++K)m[y+K]=J[ee+m[z+K]];y+=32}}function fg(m,y){qc(m,y,4)}function hg(m,y){qc(m,y,8)}function pg(m,y){qc(m,y,16)}function mi(m,y){var P;for(P=0;16>P;++P)n(m,y+32*P,m,y-32,16)}function Ws(m,y){var P;for(P=16;0<P;--P)a(m,y,m[y-1],16),y+=32}function Hs(m,y,P){var L;for(L=0;16>L;++L)a(y,P+32*L,m,16)}function ff(m,y){var P,L=16;for(P=0;16>P;++P)L+=m[y-1+32*P]+m[y+P-32];Hs(L>>5,m,y)}function Wr(m,y){var P,L=8;for(P=0;16>P;++P)L+=m[y-1+32*P];Hs(L>>4,m,y)}function mg(m,y){var P,L=8;for(P=0;16>P;++P)L+=m[y+P-32];Hs(L>>4,m,y)}function hf(m,y){Hs(128,m,y)}function st(m,y,P){return m+2*y+P+2>>2}function gg(m,y){var P,L=y-32;for(L=new Uint8Array([st(m[L-1],m[L+0],m[L+1]),st(m[L+0],m[L+1],m[L+2]),st(m[L+1],m[L+2],m[L+3]),st(m[L+2],m[L+3],m[L+4])]),P=0;4>P;++P)n(m,y+32*P,L,0,L.length)}function vg(m,y){var P=m[y-1],L=m[y-1+32],z=m[y-1+64],H=m[y-1+96];xe(m,y+0,16843009*st(m[y-1-32],P,L)),xe(m,y+32,16843009*st(P,L,z)),xe(m,y+64,16843009*st(L,z,H)),xe(m,y+96,16843009*st(z,H,H))}function Wa(m,y){var P,L=4;for(P=0;4>P;++P)L+=m[y+P-32]+m[y-1+32*P];for(L>>=3,P=0;4>P;++P)a(m,y+32*P,L,4)}function pf(m,y){var P=m[y-1+0],L=m[y-1+32],z=m[y-1+64],H=m[y-1-32],G=m[y+0-32],K=m[y+1-32],J=m[y+2-32],ee=m[y+3-32];m[y+0+96]=st(L,z,m[y-1+96]),m[y+1+96]=m[y+0+64]=st(P,L,z),m[y+2+96]=m[y+1+64]=m[y+0+32]=st(H,P,L),m[y+3+96]=m[y+2+64]=m[y+1+32]=m[y+0+0]=st(G,H,P),m[y+3+64]=m[y+2+32]=m[y+1+0]=st(K,G,H),m[y+3+32]=m[y+2+0]=st(J,K,G),m[y+3+0]=st(ee,J,K)}function mf(m,y){var P=m[y+1-32],L=m[y+2-32],z=m[y+3-32],H=m[y+4-32],G=m[y+5-32],K=m[y+6-32],J=m[y+7-32];m[y+0+0]=st(m[y+0-32],P,L),m[y+1+0]=m[y+0+32]=st(P,L,z),m[y+2+0]=m[y+1+32]=m[y+0+64]=st(L,z,H),m[y+3+0]=m[y+2+32]=m[y+1+64]=m[y+0+96]=st(z,H,G),m[y+3+32]=m[y+2+64]=m[y+1+96]=st(H,G,K),m[y+3+64]=m[y+2+96]=st(G,K,J),m[y+3+96]=st(K,J,J)}function Gs(m,y){var P=m[y-1+0],L=m[y-1+32],z=m[y-1+64],H=m[y-1-32],G=m[y+0-32],K=m[y+1-32],J=m[y+2-32],ee=m[y+3-32];m[y+0+0]=m[y+1+64]=H+G+1>>1,m[y+1+0]=m[y+2+64]=G+K+1>>1,m[y+2+0]=m[y+3+64]=K+J+1>>1,m[y+3+0]=J+ee+1>>1,m[y+0+96]=st(z,L,P),m[y+0+64]=st(L,P,H),m[y+0+32]=m[y+1+96]=st(P,H,G),m[y+1+32]=m[y+2+96]=st(H,G,K),m[y+2+32]=m[y+3+96]=st(G,K,J),m[y+3+32]=st(K,J,ee)}function Uc(m,y){var P=m[y+0-32],L=m[y+1-32],z=m[y+2-32],H=m[y+3-32],G=m[y+4-32],K=m[y+5-32],J=m[y+6-32],ee=m[y+7-32];m[y+0+0]=P+L+1>>1,m[y+1+0]=m[y+0+64]=L+z+1>>1,m[y+2+0]=m[y+1+64]=z+H+1>>1,m[y+3+0]=m[y+2+64]=H+G+1>>1,m[y+0+32]=st(P,L,z),m[y+1+32]=m[y+0+96]=st(L,z,H),m[y+2+32]=m[y+1+96]=st(z,H,G),m[y+3+32]=m[y+2+96]=st(H,G,K),m[y+3+64]=st(G,K,J),m[y+3+96]=st(K,J,ee)}function yg(m,y){var P=m[y-1+0],L=m[y-1+32],z=m[y-1+64],H=m[y-1+96];m[y+0+0]=P+L+1>>1,m[y+2+0]=m[y+0+32]=L+z+1>>1,m[y+2+32]=m[y+0+64]=z+H+1>>1,m[y+1+0]=st(P,L,z),m[y+3+0]=m[y+1+32]=st(L,z,H),m[y+3+32]=m[y+1+64]=st(z,H,H),m[y+3+64]=m[y+2+64]=m[y+0+96]=m[y+1+96]=m[y+2+96]=m[y+3+96]=H}function bg(m,y){var P=m[y-1+0],L=m[y-1+32],z=m[y-1+64],H=m[y-1+96],G=m[y-1-32],K=m[y+0-32],J=m[y+1-32],ee=m[y+2-32];m[y+0+0]=m[y+2+32]=P+G+1>>1,m[y+0+32]=m[y+2+64]=L+P+1>>1,m[y+0+64]=m[y+2+96]=z+L+1>>1,m[y+0+96]=H+z+1>>1,m[y+3+0]=st(K,J,ee),m[y+2+0]=st(G,K,J),m[y+1+0]=m[y+3+32]=st(P,G,K),m[y+1+32]=m[y+3+64]=st(L,P,G),m[y+1+64]=m[y+3+96]=st(z,L,P),m[y+1+96]=st(H,z,L)}function xg(m,y){var P;for(P=0;8>P;++P)n(m,y+32*P,m,y-32,8)}function Wc(m,y){var P;for(P=0;8>P;++P)a(m,y,m[y-1],8),y+=32}function To(m,y,P){var L;for(L=0;8>L;++L)a(y,P+32*L,m,8)}function qi(m,y){var P,L=8;for(P=0;8>P;++P)L+=m[y+P-32]+m[y-1+32*P];To(L>>4,m,y)}function wg(m,y){var P,L=4;for(P=0;8>P;++P)L+=m[y+P-32];To(L>>3,m,y)}function Co(m,y){var P,L=4;for(P=0;8>P;++P)L+=m[y-1+32*P];To(L>>3,m,y)}function Hc(m,y){To(128,m,y)}function Vs(m,y,P){var L=m[y-P],z=m[y+0],H=3*(z-L)+Og[1020+m[y-2*P]-m[y+P]],G=Pf[112+(H+4>>3)];m[y-P]=Pn[255+L+Pf[112+(H+3>>3)]],m[y+0]=Pn[255+z-G]}function gf(m,y,P,L){var z=m[y+0],H=m[y+P];return Un[255+m[y-2*P]-m[y-P]]>L||Un[255+H-z]>L}function vf(m,y,P,L){return 4*Un[255+m[y-P]-m[y+0]]+Un[255+m[y-2*P]-m[y+P]]<=L}function yf(m,y,P,L,z){var H=m[y-3*P],G=m[y-2*P],K=m[y-P],J=m[y+0],ee=m[y+P],le=m[y+2*P],ge=m[y+3*P];return 4*Un[255+K-J]+Un[255+G-ee]>L?0:Un[255+m[y-4*P]-H]<=z&&Un[255+H-G]<=z&&Un[255+G-K]<=z&&Un[255+ge-le]<=z&&Un[255+le-ee]<=z&&Un[255+ee-J]<=z}function bf(m,y,P,L){var z=2*L+1;for(L=0;16>L;++L)vf(m,y+L,P,z)&&Vs(m,y+L,P)}function Ha(m,y,P,L){var z=2*L+1;for(L=0;16>L;++L)vf(m,y+L*P,1,z)&&Vs(m,y+L*P,1)}function gi(m,y,P,L){var z;for(z=3;0<z;--z)bf(m,y+=4*P,P,L)}function jg(m,y,P,L){var z;for(z=3;0<z;--z)Ha(m,y+=4,P,L)}function Ui(m,y,P,L,z,H,G,K){for(H=2*H+1;0<z--;){if(yf(m,y,P,H,G))if(gf(m,y,P,K))Vs(m,y,P);else{var J=m,ee=y,le=P,ge=J[ee-2*le],ve=J[ee-le],fe=J[ee+0],Oe=J[ee+le],we=J[ee+2*le],ce=27*(_e=Og[1020+3*(fe-ve)+Og[1020+ge-Oe]])+63>>7,ue=18*_e+63>>7,_e=9*_e+63>>7;J[ee-3*le]=Pn[255+J[ee-3*le]+_e],J[ee-2*le]=Pn[255+ge+ue],J[ee-le]=Pn[255+ve+ce],J[ee+0]=Pn[255+fe-ce],J[ee+le]=Pn[255+Oe-ue],J[ee+2*le]=Pn[255+we-_e]}y+=L}}function ma(m,y,P,L,z,H,G,K){for(H=2*H+1;0<z--;){if(yf(m,y,P,H,G))if(gf(m,y,P,K))Vs(m,y,P);else{var J=m,ee=y,le=P,ge=J[ee-le],ve=J[ee+0],fe=J[ee+le],Oe=Pf[112+((we=3*(ve-ge))+4>>3)],we=Pf[112+(we+3>>3)],ce=Oe+1>>1;J[ee-2*le]=Pn[255+J[ee-2*le]+ce],J[ee-le]=Pn[255+ge+we],J[ee+0]=Pn[255+ve-Oe],J[ee+le]=Pn[255+fe-ce]}y+=L}}function Gc(m,y,P,L,z,H){Ui(m,y,P,1,16,L,z,H)}function Lo(m,y,P,L,z,H){Ui(m,y,1,P,16,L,z,H)}function Ng(m,y,P,L,z,H){var G;for(G=3;0<G;--G)ma(m,y+=4*P,P,1,16,L,z,H)}function Ys(m,y,P,L,z,H){var G;for(G=3;0<G;--G)ma(m,y+=4,1,P,16,L,z,H)}function Sg(m,y,P,L,z,H,G,K){Ui(m,y,z,1,8,H,G,K),Ui(P,L,z,1,8,H,G,K)}function Vc(m,y,P,L,z,H,G,K){Ui(m,y,1,z,8,H,G,K),Ui(P,L,1,z,8,H,G,K)}function Yc(m,y,P,L,z,H,G,K){ma(m,y+4*z,z,1,8,H,G,K),ma(P,L+4*z,z,1,8,H,G,K)}function xf(m,y,P,L,z,H,G,K){ma(m,y+4,1,z,8,H,G,K),ma(P,L+4,1,z,8,H,G,K)}function Ks(){this.ba=new ca,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new rr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Kc(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Xc(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function wf(){this.ua=0,this.Wa=new re,this.vb=new re,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new I,this.yc=new T}function _g(){this.xb=this.a=0,this.l=new qs,this.ca=new ca,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new M,this.Pb=0,this.wd=new M,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new wf,this.ab=0,this.gc=o(4,Xc),this.Oc=0}function Xs(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new qs,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Mo(m,y,P,L,z,H,G){for(m=m==null?0:m[y+0],y=0;y<G;++y)z[H+y]=m+P[L+y]&255,m=z[H+y]}function Jc(m,y,P,L,z,H,G){var K;if(m==null)Mo(null,null,P,L,z,H,G);else for(K=0;K<G;++K)z[H+K]=m[y+K]+P[L+K]&255}function Wi(m,y,P,L,z,H,G){if(m==null)Mo(null,null,P,L,z,H,G);else{var K,J=m[y+0],ee=J,le=J;for(K=0;K<G;++K)ee=le+(J=m[y+K])-ee,le=P[L+K]+(-256&ee?0>ee?0:255:ee)&255,ee=J,z[H+K]=le}}function Zc(m,y,P,L){var z=y.width,H=y.o;if(t(m!=null&&y!=null),0>P||0>=L||P+L>H)return null;if(!m.Cc){if(m.ga==null){var G;if(m.ga=new Xs,(G=m.ga==null)||(G=y.width*y.o,t(m.Gb.length==0),m.Gb=i(G),m.Uc=0,m.Gb==null?G=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,G=1),G=!G),!G){G=m.ga;var K=m.Fa,J=m.P,ee=m.qc,le=m.mb,ge=m.nb,ve=J+1,fe=ee-1,Oe=G.l;if(t(K!=null&&le!=null&&y!=null),Xi[0]=null,Xi[1]=Mo,Xi[2]=Jc,Xi[3]=Wi,G.ca=le,G.tb=ge,G.c=y.width,G.i=y.height,t(0<G.c&&0<G.i),1>=ee)y=0;else if(G.$a=K[J+0]>>0&3,G.Z=K[J+0]>>2&3,G.Lc=K[J+0]>>4&3,J=K[J+0]>>6&3,0>G.$a||1<G.$a||4<=G.Z||1<G.Lc||J)y=0;else if(Oe.put=Fa,Oe.ac=Rr,Oe.bc=Ba,Oe.ma=G,Oe.width=y.width,Oe.height=y.height,Oe.Da=y.Da,Oe.v=y.v,Oe.va=y.va,Oe.j=y.j,Oe.o=y.o,G.$a)e:{t(G.$a==1),y=Rn();t:for(;;){if(y==null){y=0;break e}if(t(G!=null),G.mc=y,y.c=G.c,y.i=G.i,y.l=G.l,y.l.ma=G,y.l.width=G.c,y.l.height=G.i,y.a=0,X(y.m,K,ve,fe),!Ua(G.c,G.i,1,y,null)||(y.ab==1&&y.gc[0].hc==3&&pi(y.s)?(G.ic=1,K=y.c*y.i,y.Ta=null,y.Ua=0,y.V=i(K),y.Ba=0,y.V==null?(y.a=1,y=0):y=1):(G.ic=0,y=ko(y,G.c)),!y))break t;y=1;break e}G.mc=null,y=0}else y=fe>=G.c*G.i;G=!y}if(G)return null;m.ga.Lc!=1?m.Ga=0:L=H-P}t(m.ga!=null),t(P+L<=H);e:{if(y=(K=m.ga).c,H=K.l.o,K.$a==0){if(ve=m.rc,fe=m.Vc,Oe=m.Fa,J=m.P+1+P*y,ee=m.mb,le=m.nb+P*y,t(J<=m.P+m.qc),K.Z!=0)for(t(Xi[K.Z]!=null),G=0;G<L;++G)Xi[K.Z](ve,fe,Oe,J,ee,le,y),ve=ee,fe=le,le+=y,J+=y;else for(G=0;G<L;++G)n(ee,le,Oe,J,y),ve=ee,fe=le,le+=y,J+=y;m.rc=ve,m.Vc=fe}else{if(t(K.mc!=null),y=P+L,t((G=K.mc)!=null),t(y<=G.i),G.C>=y)y=1;else if(K.ic||me(),K.ic){K=G.V,ve=G.Ba,fe=G.c;var we=G.i,ce=(Oe=1,J=G.$/fe,ee=G.$%fe,le=G.m,ge=G.s,G.$),ue=fe*we,_e=fe*y,Pe=ge.wc,Ae=ce<_e?gr(ge,ee,J):null;t(ce<=ue),t(y<=we),t(pi(ge));t:for(;;){for(;!le.h&&ce<_e;){if(ee&Pe||(Ae=gr(ge,ee,J)),t(Ae!=null),oe(le),256>(we=hn(Ae.G[0],Ae.H[0],le)))K[ve+ce]=we,++ce,++ee>=fe&&(ee=0,++J<=y&&!(J%16)&&fa(G,J));else{if(!(280>we)){Oe=0;break t}we=ua(we-256,le);var qe,Ie=hn(Ae.G[4],Ae.H[4],le);if(oe(le),!(ce>=(Ie=za(fe,Ie=ua(Ie,le)))&&ue-ce>=we)){Oe=0;break t}for(qe=0;qe<we;++qe)K[ve+ce+qe]=K[ve+ce+qe-Ie];for(ce+=we,ee+=we;ee>=fe;)ee-=fe,++J<=y&&!(J%16)&&fa(G,J);ce<_e&&ee&Pe&&(Ae=gr(ge,ee,J))}t(le.h==Q(le))}fa(G,J>y?y:J);break t}!Oe||le.h&&ce<ue?(Oe=0,G.a=le.h?5:3):G.$=ce,y=Oe}else y=ha(G,G.V,G.Ba,G.c,G.i,y,Is);if(!y){L=0;break e}}P+L>=H&&(m.Cc=1),L=1}if(!L)return null;if(m.Cc&&((L=m.ga)!=null&&(L.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+P*z}function S(m,y,P,L,z,H){for(;0<z--;){var G,K=m,J=y+(P?1:0),ee=m,le=y+(P?0:3);for(G=0;G<L;++G){var ge=ee[le+4*G];ge!=255&&(ge*=32897,K[J+4*G+0]=K[J+4*G+0]*ge>>23,K[J+4*G+1]=K[J+4*G+1]*ge>>23,K[J+4*G+2]=K[J+4*G+2]*ge>>23)}y+=H}}function q(m,y,P,L,z){for(;0<L--;){var H;for(H=0;H<P;++H){var G=m[y+2*H+0],K=15&(ee=m[y+2*H+1]),J=4369*K,ee=(240&ee|ee>>4)*J>>16;m[y+2*H+0]=(240&G|G>>4)*J>>16&240|(15&G|G<<4)*J>>16>>4&15,m[y+2*H+1]=240&ee|K}y+=z}}function te(m,y,P,L,z,H,G,K){var J,ee,le=255;for(ee=0;ee<z;++ee){for(J=0;J<L;++J){var ge=m[y+J];H[G+4*J]=ge,le&=ge}y+=P,G+=K}return le!=255}function se(m,y,P,L,z){var H;for(H=0;H<z;++H)P[L+H]=m[y+H]>>8}function me(){qn=S,qt=q,Ut=te,dr=se}function je(m,y,P){E[m]=function(L,z,H,G,K,J,ee,le,ge,ve,fe,Oe,we,ce,ue,_e,Pe){var Ae,qe=Pe-1>>1,Ie=K[J+0]|ee[le+0]<<16,Je=ge[ve+0]|fe[Oe+0]<<16;t(L!=null);var Re=3*Ie+Je+131074>>2;for(y(L[z+0],255&Re,Re>>16,we,ce),H!=null&&(Re=3*Je+Ie+131074>>2,y(H[G+0],255&Re,Re>>16,ue,_e)),Ae=1;Ae<=qe;++Ae){var Pt=K[J+Ae]|ee[le+Ae]<<16,Tt=ge[ve+Ae]|fe[Oe+Ae]<<16,St=Ie+Pt+Je+Tt+524296,bt=St+2*(Pt+Je)>>3;Re=bt+Ie>>1,Ie=(St=St+2*(Ie+Tt)>>3)+Pt>>1,y(L[z+2*Ae-1],255&Re,Re>>16,we,ce+(2*Ae-1)*P),y(L[z+2*Ae-0],255&Ie,Ie>>16,we,ce+(2*Ae-0)*P),H!=null&&(Re=St+Je>>1,Ie=bt+Tt>>1,y(H[G+2*Ae-1],255&Re,Re>>16,ue,_e+(2*Ae-1)*P),y(H[G+2*Ae+0],255&Ie,Ie>>16,ue,_e+(2*Ae+0)*P)),Ie=Pt,Je=Tt}1&Pe||(Re=3*Ie+Je+131074>>2,y(L[z+Pe-1],255&Re,Re>>16,we,ce+(Pe-1)*P),H!=null&&(Re=3*Je+Ie+131074>>2,y(H[G+Pe-1],255&Re,Re>>16,ue,_e+(Pe-1)*P)))}}function Te(){Wn[Ef]=nP,Wn[kf]=Fx,Wn[Mx]=aP,Wn[Tf]=Bx,Wn[Cf]=zx,Wn[Pg]=qx,Wn[$x]=iP,Wn[Eg]=Fx,Wn[kg]=Bx,Wn[Lf]=zx,Wn[Tg]=qx}function ze(m){return m&-16384?0>m?0:255:m>>oP}function Ke(m,y){return ze((19077*m>>8)+(26149*y>>8)-14234)}function dt(m,y,P){return ze((19077*m>>8)-(6419*y>>8)-(13320*P>>8)+8708)}function ct(m,y){return ze((19077*m>>8)+(33050*y>>8)-17685)}function jt(m,y,P,L,z){L[z+0]=Ke(m,P),L[z+1]=dt(m,y,P),L[z+2]=ct(m,y)}function er(m,y,P,L,z){L[z+0]=ct(m,y),L[z+1]=dt(m,y,P),L[z+2]=Ke(m,P)}function nr(m,y,P,L,z){var H=dt(m,y,P);y=H<<3&224|ct(m,y)>>3,L[z+0]=248&Ke(m,P)|H>>5,L[z+1]=y}function vr(m,y,P,L,z){var H=240&ct(m,y)|15;L[z+0]=240&Ke(m,P)|dt(m,y,P)>>4,L[z+1]=H}function Hr(m,y,P,L,z){L[z+0]=255,jt(m,y,P,L,z+1)}function Tr(m,y,P,L,z){er(m,y,P,L,z),L[z+3]=255}function ga(m,y,P,L,z){jt(m,y,P,L,z),L[z+3]=255}function On(m,y){return 0>m?0:m>y?y:m}function Ga(m,y,P){E[m]=function(L,z,H,G,K,J,ee,le,ge){for(var ve=le+(-2&ge)*P;le!=ve;)y(L[z+0],H[G+0],K[J+0],ee,le),y(L[z+1],H[G+0],K[J+0],ee,le+P),z+=2,++G,++J,le+=2*P;1&ge&&y(L[z+0],H[G+0],K[J+0],ee,le)}}function jf(m,y,P){return P==0?m==0?y==0?6:5:y==0?4:0:P}function Qc(m,y,P,L,z){switch(m>>>30){case 3:bi(y,P,L,z,0);break;case 2:ur(y,P,L,z);break;case 1:an(y,P,L,z)}}function eu(m,y){var P,L,z=y.M,H=y.Nb,G=m.oc,K=m.pc+40,J=m.oc,ee=m.pc+584,le=m.oc,ge=m.pc+600;for(P=0;16>P;++P)G[K+32*P-1]=129;for(P=0;8>P;++P)J[ee+32*P-1]=129,le[ge+32*P-1]=129;for(0<z?G[K-1-32]=J[ee-1-32]=le[ge-1-32]=129:(a(G,K-32-1,127,21),a(J,ee-32-1,127,9),a(le,ge-32-1,127,9)),L=0;L<m.za;++L){var ve=y.ya[y.aa+L];if(0<L){for(P=-1;16>P;++P)n(G,K+32*P-4,G,K+32*P+12,4);for(P=-1;8>P;++P)n(J,ee+32*P-4,J,ee+32*P+4,4),n(le,ge+32*P-4,le,ge+32*P+4,4)}var fe=m.Gd,Oe=m.Hd+L,we=ve.ad,ce=ve.Hc;if(0<z&&(n(G,K-32,fe[Oe].y,0,16),n(J,ee-32,fe[Oe].f,0,8),n(le,ge-32,fe[Oe].ea,0,8)),ve.Za){var ue=G,_e=K-32+16;for(0<z&&(L>=m.za-1?a(ue,_e,fe[Oe].y[15],4):n(ue,_e,fe[Oe+1].y,0,4)),P=0;4>P;P++)ue[_e+128+P]=ue[_e+256+P]=ue[_e+384+P]=ue[_e+0+P];for(P=0;16>P;++P,ce<<=2)ue=G,_e=K+Wx[P],va[ve.Ob[P]](ue,_e),Qc(ce,we,16*+P,ue,_e)}else if(ue=jf(L,z,ve.Ob[0]),Ki[ue](G,K),ce!=0)for(P=0;16>P;++P,ce<<=2)Qc(ce,we,16*+P,G,K+Wx[P]);for(P=ve.Gc,ue=jf(L,z,ve.Dd),wi[ue](J,ee),wi[ue](le,ge),ce=we,ue=J,_e=ee,255&(ve=P>>0)&&(170&ve?iu(ce,256,ue,_e):Bn(ce,256,ue,_e)),ve=le,ce=ge,255&(P>>=8)&&(170&P?iu(we,320,ve,ce):Bn(we,320,ve,ce)),z<m.Ub-1&&(n(fe[Oe].y,0,G,K+480,16),n(fe[Oe].f,0,J,ee+224,8),n(fe[Oe].ea,0,le,ge+224,8)),P=8*H*m.B,fe=m.sa,Oe=m.ta+16*L+16*H*m.R,we=m.qa,ve=m.ra+8*L+P,ce=m.Ha,ue=m.Ia+8*L+P,P=0;16>P;++P)n(fe,Oe+P*m.R,G,K+32*P,16);for(P=0;8>P;++P)n(we,ve+P*m.B,J,ee+32*P,8),n(ce,ue+P*m.B,le,ge+32*P,8)}}function Js(m,y,P,L,z,H,G,K,J){var ee=[0],le=[0],ge=0,ve=J!=null?J.kd:0,fe=J??new Kc;if(m==null||12>P)return 7;fe.data=m,fe.w=y,fe.ha=P,y=[y],P=[P],fe.gb=[fe.gb];e:{var Oe=y,we=P,ce=fe.gb;if(t(m!=null),t(we!=null),t(ce!=null),ce[0]=0,12<=we[0]&&!r(m,Oe[0],"RIFF")){if(r(m,Oe[0]+8,"WEBP")){ce=3;break e}var ue=Ee(m,Oe[0]+4);if(12>ue||4294967286<ue){ce=3;break e}if(ve&&ue>we[0]-8){ce=7;break e}ce[0]=ue,Oe[0]+=12,we[0]-=12}ce=0}if(ce!=0)return ce;for(ue=0<fe.gb[0],P=P[0];;){e:{var _e=m;we=y,ce=P;var Pe=ee,Ae=le,qe=Oe=[0];if((Re=ge=[ge])[0]=0,8>ce[0])ce=7;else{if(!r(_e,we[0],"VP8X")){if(Ee(_e,we[0]+4)!=10){ce=3;break e}if(18>ce[0]){ce=7;break e}var Ie=Ee(_e,we[0]+8),Je=1+pe(_e,we[0]+12);if(2147483648<=Je*(_e=1+pe(_e,we[0]+15))){ce=3;break e}qe!=null&&(qe[0]=Ie),Pe!=null&&(Pe[0]=Je),Ae!=null&&(Ae[0]=_e),we[0]+=18,ce[0]-=18,Re[0]=1}ce=0}}if(ge=ge[0],Oe=Oe[0],ce!=0)return ce;if(we=!!(2&Oe),!ue&&ge)return 3;if(H!=null&&(H[0]=!!(16&Oe)),G!=null&&(G[0]=we),K!=null&&(K[0]=0),G=ee[0],Oe=le[0],ge&&we&&J==null){ce=0;break}if(4>P){ce=7;break}if(ue&&ge||!ue&&!ge&&!r(m,y[0],"ALPH")){P=[P],fe.na=[fe.na],fe.P=[fe.P],fe.Sa=[fe.Sa];e:{Ie=m,ce=y,ue=P;var Re=fe.gb;Pe=fe.na,Ae=fe.P,qe=fe.Sa,Je=22,t(Ie!=null),t(ue!=null),_e=ce[0];var Pt=ue[0];for(t(Pe!=null),t(qe!=null),Pe[0]=null,Ae[0]=null,qe[0]=0;;){if(ce[0]=_e,ue[0]=Pt,8>Pt){ce=7;break e}var Tt=Ee(Ie,_e+4);if(4294967286<Tt){ce=3;break e}var St=8+Tt+1&-2;if(Je+=St,0<Re&&Je>Re){ce=3;break e}if(!r(Ie,_e,"VP8 ")||!r(Ie,_e,"VP8L")){ce=0;break e}if(Pt[0]<St){ce=7;break e}r(Ie,_e,"ALPH")||(Pe[0]=Ie,Ae[0]=_e+8,qe[0]=Tt),_e+=St,Pt-=St}}if(P=P[0],fe.na=fe.na[0],fe.P=fe.P[0],fe.Sa=fe.Sa[0],ce!=0)break}P=[P],fe.Ja=[fe.Ja],fe.xa=[fe.xa];e:if(Re=m,ce=y,ue=P,Pe=fe.gb[0],Ae=fe.Ja,qe=fe.xa,Ie=ce[0],_e=!r(Re,Ie,"VP8 "),Je=!r(Re,Ie,"VP8L"),t(Re!=null),t(ue!=null),t(Ae!=null),t(qe!=null),8>ue[0])ce=7;else{if(_e||Je){if(Re=Ee(Re,Ie+4),12<=Pe&&Re>Pe-12){ce=3;break e}if(ve&&Re>ue[0]-8){ce=7;break e}Ae[0]=Re,ce[0]+=8,ue[0]-=8,qe[0]=Je}else qe[0]=5<=ue[0]&&Re[Ie+0]==47&&!(Re[Ie+4]>>5),Ae[0]=ue[0];ce=0}if(P=P[0],fe.Ja=fe.Ja[0],fe.xa=fe.xa[0],y=y[0],ce!=0)break;if(4294967286<fe.Ja)return 3;if(K==null||we||(K[0]=fe.xa?2:1),G=[G],Oe=[Oe],fe.xa){if(5>P){ce=7;break}K=G,ve=Oe,we=H,m==null||5>P?m=0:5<=P&&m[y+0]==47&&!(m[y+4]>>5)?(ue=[0],Re=[0],Pe=[0],X(Ae=new M,m,y,P),Qe(Ae,ue,Re,Pe)?(K!=null&&(K[0]=ue[0]),ve!=null&&(ve[0]=Re[0]),we!=null&&(we[0]=Pe[0]),m=1):m=0):m=0}else{if(10>P){ce=7;break}K=Oe,m==null||10>P||!of(m,y+3,P-3)?m=0:(ve=m[y+0]|m[y+1]<<8|m[y+2]<<16,we=16383&(m[y+7]<<8|m[y+6]),m=16383&(m[y+9]<<8|m[y+8]),1&ve||3<(ve>>1&7)||!(ve>>4&1)||ve>>5>=fe.Ja||!we||!m?m=0:(G&&(G[0]=we),K&&(K[0]=m),m=1))}if(!m||(G=G[0],Oe=Oe[0],ge&&(ee[0]!=G||le[0]!=Oe)))return 3;J!=null&&(J[0]=fe,J.offset=y-J.w,t(4294967286>y-J.w),t(J.offset==J.ha-P));break}return ce==0||ce==7&&ge&&J==null?(H!=null&&(H[0]|=fe.na!=null&&0<fe.na.length),L!=null&&(L[0]=G),z!=null&&(z[0]=Oe),0):ce}function tu(m,y,P){var L=y.width,z=y.height,H=0,G=0,K=L,J=z;if(y.Da=m!=null&&0<m.Da,y.Da&&(K=m.cd,J=m.bd,H=m.v,G=m.j,11>P||(H&=-2,G&=-2),0>H||0>G||0>=K||0>=J||H+K>L||G+J>z))return 0;if(y.v=H,y.j=G,y.va=H+K,y.o=G+J,y.U=K,y.T=J,y.da=m!=null&&0<m.da,y.da){if(!Ye(K,J,P=[m.ib],H=[m.hb]))return 0;y.ib=P[0],y.hb=H[0]}return y.ob=m!=null&&m.ob,y.Kb=m==null||!m.Sd,y.da&&(y.ob=y.ib<3*L/4&&y.hb<3*z/4,y.Kb=0),1}function ru(m){if(m==null)return 2;if(11>m.S){var y=m.f.RGBA;y.fb+=(m.height-1)*y.A,y.A=-y.A}else y=m.f.kb,m=m.height,y.O+=(m-1)*y.fa,y.fa=-y.fa,y.N+=(m-1>>1)*y.Ab,y.Ab=-y.Ab,y.W+=(m-1>>1)*y.Db,y.Db=-y.Db,y.F!=null&&(y.J+=(m-1)*y.lb,y.lb=-y.lb);return 0}function Zs(m,y,P,L){if(L==null||0>=m||0>=y)return 2;if(P!=null){if(P.Da){var z=P.cd,H=P.bd,G=-2&P.v,K=-2&P.j;if(0>G||0>K||0>=z||0>=H||G+z>m||K+H>y)return 2;m=z,y=H}if(P.da){if(!Ye(m,y,z=[P.ib],H=[P.hb]))return 2;m=z[0],y=H[0]}}L.width=m,L.height=y;e:{var J=L.width,ee=L.height;if(m=L.S,0>=J||0>=ee||!(m>=Ef&&13>m))m=2;else{if(0>=L.Rd&&L.sd==null){G=H=z=y=0;var le=(K=J*Hx[m])*ee;if(11>m||(H=(ee+1)/2*(y=(J+1)/2),m==12&&(G=(z=J)*ee)),(ee=i(le+2*H+G))==null){m=1;break e}L.sd=ee,11>m?((J=L.f.RGBA).eb=ee,J.fb=0,J.A=K,J.size=le):((J=L.f.kb).y=ee,J.O=0,J.fa=K,J.Fd=le,J.f=ee,J.N=0+le,J.Ab=y,J.Cd=H,J.ea=ee,J.W=0+le+H,J.Db=y,J.Ed=H,m==12&&(J.F=ee,J.J=0+le+2*H),J.Tc=G,J.lb=z)}if(y=1,z=L.S,H=L.width,G=L.height,z>=Ef&&13>z)if(11>z)m=L.f.RGBA,y&=(K=Math.abs(m.A))*(G-1)+H<=m.size,y&=K>=H*Hx[z],y&=m.eb!=null;else{m=L.f.kb,K=(H+1)/2,le=(G+1)/2,J=Math.abs(m.fa),ee=Math.abs(m.Ab);var ge=Math.abs(m.Db),ve=Math.abs(m.lb),fe=ve*(G-1)+H;y&=J*(G-1)+H<=m.Fd,y&=ee*(le-1)+K<=m.Cd,y=(y&=ge*(le-1)+K<=m.Ed)&J>=H&ee>=K&ge>=K,y&=m.y!=null,y&=m.f!=null,y&=m.ea!=null,z==12&&(y&=ve>=H,y&=fe<=m.Tc,y&=m.F!=null)}else y=0;m=y?0:2}}return m!=0||P!=null&&P.fd&&(m=ru(L)),m}var Fr=64,Qs=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],el=24,tl=32,nu=8,mn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ce("Predictor0","PredictorAdd0"),E.Predictor0=function(){return 4278190080},E.Predictor1=function(m){return m},E.Predictor2=function(m,y,P){return y[P+0]},E.Predictor3=function(m,y,P){return y[P+1]},E.Predictor4=function(m,y,P){return y[P-1]},E.Predictor5=function(m,y,P){return Me(Me(m,y[P+1]),y[P+0])},E.Predictor6=function(m,y,P){return Me(m,y[P-1])},E.Predictor7=function(m,y,P){return Me(m,y[P+0])},E.Predictor8=function(m,y,P){return Me(y[P-1],y[P+0])},E.Predictor9=function(m,y,P){return Me(y[P+0],y[P+1])},E.Predictor10=function(m,y,P){return Me(Me(m,y[P-1]),Me(y[P+0],y[P+1]))},E.Predictor11=function(m,y,P){var L=y[P+0];return 0>=at(L>>24&255,m>>24&255,(y=y[P-1])>>24&255)+at(L>>16&255,m>>16&255,y>>16&255)+at(L>>8&255,m>>8&255,y>>8&255)+at(255&L,255&m,255&y)?L:m},E.Predictor12=function(m,y,P){var L=y[P+0];return(Ve((m>>24&255)+(L>>24&255)-((y=y[P-1])>>24&255))<<24|Ve((m>>16&255)+(L>>16&255)-(y>>16&255))<<16|Ve((m>>8&255)+(L>>8&255)-(y>>8&255))<<8|Ve((255&m)+(255&L)-(255&y)))>>>0},E.Predictor13=function(m,y,P){var L=y[P-1];return(Ze((m=Me(m,y[P+0]))>>24&255,L>>24&255)<<24|Ze(m>>16&255,L>>16&255)<<16|Ze(m>>8&255,L>>8&255)<<8|Ze(m>>0&255,L>>0&255))>>>0};var Ag=E.PredictorAdd0;E.PredictorAdd1=pt,Ce("Predictor2","PredictorAdd2"),Ce("Predictor3","PredictorAdd3"),Ce("Predictor4","PredictorAdd4"),Ce("Predictor5","PredictorAdd5"),Ce("Predictor6","PredictorAdd6"),Ce("Predictor7","PredictorAdd7"),Ce("Predictor8","PredictorAdd8"),Ce("Predictor9","PredictorAdd9"),Ce("Predictor10","PredictorAdd10"),Ce("Predictor11","PredictorAdd11"),Ce("Predictor12","PredictorAdd12"),Ce("Predictor13","PredictorAdd13");var au=E.PredictorAdd2;vt("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),vt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var Nf,Fn=E.ColorIndexInverseTransform,rl=E.MapARGB,Sf=E.VP8LColorIndexInverseTransformAlpha,_f=E.MapAlpha,Hi=E.VP8LPredictorsAdd=[];Hi.length=16,(E.VP8LPredictors=[]).length=16,(E.VP8LPredictorsAdd_C=[]).length=16,(E.VP8LPredictors_C=[]).length=16;var $o,gn,nn,Gi,vi,yi,nl,bi,ur,iu,an,Bn,al,Af,ou,Do,Io,Vi,Ro,il,Fo,Yi,su,zn,qn,qt,Ut,dr,Sr=i(511),xi=i(2041),lu=i(225),ol=i(767),Of=0,Og=xi,Pf=lu,Pn=ol,Un=Sr,Ef=0,kf=1,Mx=2,Tf=3,Cf=4,Pg=5,$x=6,Eg=7,kg=8,Lf=9,Tg=10,UO=[2,3,7],WO=[3,3,11],Dx=[280,256,256,256,40],HO=[0,1,1,1,0],GO=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],VO=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],YO=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],KO=8,Cg=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Lg=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],cu=null,XO=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],JO=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Ix=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],ZO=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],QO=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],eP=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],tP=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ki=[],va=[],wi=[],rP=1,Rx=2,Xi=[],Wn=[];je("UpsampleRgbLinePair",jt,3),je("UpsampleBgrLinePair",er,3),je("UpsampleRgbaLinePair",ga,4),je("UpsampleBgraLinePair",Tr,4),je("UpsampleArgbLinePair",Hr,4),je("UpsampleRgba4444LinePair",vr,2),je("UpsampleRgb565LinePair",nr,2);var nP=E.UpsampleRgbLinePair,aP=E.UpsampleBgrLinePair,Fx=E.UpsampleRgbaLinePair,Bx=E.UpsampleBgraLinePair,zx=E.UpsampleArgbLinePair,qx=E.UpsampleRgba4444LinePair,iP=E.UpsampleRgb565LinePair,Mf=16,$f=1<<Mf-1,uu=-227,Mg=482,oP=6,Ux=0,sP=i(256),lP=i(256),cP=i(256),uP=i(256),dP=i(Mg-uu),fP=i(Mg-uu);Ga("YuvToRgbRow",jt,3),Ga("YuvToBgrRow",er,3),Ga("YuvToRgbaRow",ga,4),Ga("YuvToBgraRow",Tr,4),Ga("YuvToArgbRow",Hr,4),Ga("YuvToRgba4444Row",vr,2),Ga("YuvToRgb565Row",nr,2);var Wx=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Df=[0,2,8],hP=[8,7,6,4,4,2,2,2,1,1,1,1],pP=1;this.WebPDecodeRGBA=function(m,y,P,L,z){var H=kf,G=new Ks,K=new ca;G.ba=K,K.S=H,K.width=[K.width],K.height=[K.height];var J=K.width,ee=K.height,le=new hi;if(le==null||m==null)var ge=2;else t(le!=null),ge=Js(m,y,P,le.width,le.height,le.Pd,le.Qd,le.format,null);if(ge!=0?J=0:(J!=null&&(J[0]=le.width[0]),ee!=null&&(ee[0]=le.height[0]),J=1),J){K.width=K.width[0],K.height=K.height[0],L!=null&&(L[0]=K.width),z!=null&&(z[0]=K.height);e:{if(L=new qs,(z=new Kc).data=m,z.w=y,z.ha=P,z.kd=1,y=[0],t(z!=null),((m=Js(z.data,z.w,z.ha,null,null,null,y,null,z))==0||m==7)&&y[0]&&(m=4),(y=m)==0){if(t(G!=null),L.data=z.data,L.w=z.w+z.offset,L.ha=z.ha-z.offset,L.put=Fa,L.ac=Rr,L.bc=Ba,L.ma=G,z.xa){if((m=Rn())==null){G=1;break e}if(function(ve,fe){var Oe=[0],we=[0],ce=[0];t:for(;;){if(ve==null)return 0;if(fe==null)return ve.a=2,0;if(ve.l=fe,ve.a=0,X(ve.m,fe.data,fe.w,fe.ha),!Qe(ve.m,Oe,we,ce)){ve.a=3;break t}if(ve.xb=Rx,fe.width=Oe[0],fe.height=we[0],!Ua(Oe[0],we[0],1,ve,null))break t;return 1}return t(ve.a!=0),0}(m,L)){if(L=(y=Zs(L.width,L.height,G.Oa,G.ba))==0){t:{L=m;r:for(;;){if(L==null){L=0;break t}if(t(L.s.yc!=null),t(L.s.Ya!=null),t(0<L.s.Wb),t((P=L.l)!=null),t((z=P.ma)!=null),L.xb!=0){if(L.ca=z.ba,L.tb=z.tb,t(L.ca!=null),!tu(z.Oa,P,Tf)){L.a=2;break r}if(!ko(L,P.width)||P.da)break r;if((P.da||Et(L.ca.S))&&me(),11>L.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),L.ca.f.kb.F!=null&&me()),L.Pb&&0<L.s.ua&&L.s.vb.X==null&&!$e(L.s.vb,L.s.Wa.Xa)){L.a=1;break r}L.xb=0}if(!ha(L,L.V,L.Ba,L.c,L.i,P.o,Ds))break r;z.Dc=L.Ma,L=1;break t}t(L.a!=0),L=0}L=!L}L&&(y=m.a)}else y=m.a}else{if((m=new sg)==null){G=1;break e}if(m.Fa=z.na,m.P=z.P,m.qc=z.Sa,sf(m,L)){if((y=Zs(L.width,L.height,G.Oa,G.ba))==0){if(m.Aa=0,P=G.Oa,t((z=m)!=null),P!=null){if(0<(J=0>(J=P.Md)?0:100<J?255:255*J/100)){for(ee=le=0;4>ee;++ee)12>(ge=z.pb[ee]).lc&&(ge.ia=J*hP[0>ge.lc?0:ge.lc]>>3),le|=ge.ia;le&&(alert("todo:VP8InitRandom"),z.ia=1)}z.Ga=P.Id,100<z.Ga?z.Ga=100:0>z.Ga&&(z.Ga=0)}lg(m,L)||(y=m.a)}}else y=m.a}y==0&&G.Oa!=null&&G.Oa.fd&&(y=ru(G.ba))}G=y}H=G!=0?null:11>H?K.f.RGBA.eb:K.f.kb.y}else H=null;return H};var Hx=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(E,C){for(var D="",k=0;k<4;k++)D+=String.fromCharCode(E[C++]);return D}function d(E,C){return(E[C+0]<<0|E[C+1]<<8|E[C+2]<<16)>>>0}function f(E,C){return(E[C+0]<<0|E[C+1]<<8|E[C+2]<<16|E[C+3]<<24)>>>0}new c;var p=[0],h=[0],v=[],g=new c,j=e,x=function(E,C){var D={},k=0,T=!1,$=0,I=0;if(D.frames=[],!function(W,Q,ne,oe){for(var he=0;he<oe;he++)if(W[Q+he]!=ne.charCodeAt(he))return!0;return!1}(E,C,"RIFF",4)){for(f(E,C+=4),C+=8;C<E.length;){var V=u(E,C),F=f(E,C+=4);C+=4;var B=F+(1&F);switch(V){case"VP8 ":case"VP8L":D.frames[k]===void 0&&(D.frames[k]={}),(Z=D.frames[k]).src_off=T?I:C-8,Z.src_size=$+F+8,k++,T&&(T=!1,$=0,I=0);break;case"VP8X":(Z=D.header={}).feature_flags=E[C];var X=C+4;Z.canvas_width=1+d(E,X),X+=3,Z.canvas_height=1+d(E,X),X+=3;break;case"ALPH":T=!0,$=B+8,I=C-8;break;case"ANIM":(Z=D.header).bgcolor=f(E,C),X=C+4,Z.loop_count=(ae=E)[(M=X)+0]<<0|ae[M+1]<<8,X+=2;break;case"ANMF":var Y,Z;(Z=D.frames[k]={}).offset_x=2*d(E,C),C+=3,Z.offset_y=2*d(E,C),C+=3,Z.width=1+d(E,C),C+=3,Z.height=1+d(E,C),C+=3,Z.duration=d(E,C),C+=3,Y=E[C++],Z.dispose=1&Y,Z.blend=Y>>1&1}V!="ANMF"&&(C+=B)}var ae,M;return D}}(j,0);x.response=j,x.rgbaoutput=!0,x.dataurl=!1;var b=x.header?x.header:null,N=x.frames?x.frames:null;if(b){b.loop_counter=b.loop_count,p=[b.canvas_height],h=[b.canvas_width];for(var _=0;_<N.length&&N[_].blend!=0;_++);}var w=N[0],A=g.WebPDecodeRGBA(j,w.src_off,w.src_size,h,p);w.rgba=A,w.imgwidth=h[0],w.imgheight=p[0];for(var O=0;O<h[0]*p[0]*4;O++)v[O]=A[O];return this.width=h,this.height=p,this.data=v,this}(function(e){var t=function(){return typeof h0=="function"},r=function(p,h,v,g){var j=4,x=o;switch(g){case e.image_compression.FAST:j=1,x=i;break;case e.image_compression.MEDIUM:j=6,x=s;break;case e.image_compression.SLOW:j=9,x=c}p=n(p,h,v,x);var b=h0(p,{level:j});return e.__addimage__.arrayBufferToBinaryString(b)},n=function(p,h,v,g){for(var j,x,b,N=p.length/h,_=new Uint8Array(p.length+N),w=d(),A=0;A<N;A+=1){if(b=A*h,j=p.subarray(b,b+h),g)_.set(g(j,v,x),b+A);else{for(var O,E=w.length,C=[];O<E;O+=1)C[O]=w[O](j,v,x);var D=f(C.concat());_.set(C[D],b+A)}x=j}return _},a=function(p){var h=Array.apply([],p);return h.unshift(0),h},i=function(p,h){var v,g=[],j=p.length;g[0]=1;for(var x=0;x<j;x+=1)v=p[x-h]||0,g[x+1]=p[x]-v+256&255;return g},o=function(p,h,v){var g,j=[],x=p.length;j[0]=2;for(var b=0;b<x;b+=1)g=v&&v[b]||0,j[b+1]=p[b]-g+256&255;return j},s=function(p,h,v){var g,j,x=[],b=p.length;x[0]=3;for(var N=0;N<b;N+=1)g=p[N-h]||0,j=v&&v[N]||0,x[N+1]=p[N]+256-(g+j>>>1)&255;return x},c=function(p,h,v){var g,j,x,b,N=[],_=p.length;N[0]=4;for(var w=0;w<_;w+=1)g=p[w-h]||0,j=v&&v[w]||0,x=v&&v[w-h]||0,b=u(g,j,x),N[w+1]=p[w]-b+256&255;return N},u=function(p,h,v){if(p===h&&h===v)return p;var g=Math.abs(h-v),j=Math.abs(p-v),x=Math.abs(p+h-v-v);return g<=j&&g<=x?p:j<=x?h:v},d=function(){return[a,i,o,s,c]},f=function(p){var h=p.map(function(v){return v.reduce(function(g,j){return g+Math.abs(j)},0)});return h.indexOf(Math.min.apply(null,h))};e.processPNG=function(p,h,v,g){var j,x,b,N,_,w,A,O,E,C,D,k,T,$,I,V=this.decode.FLATE_DECODE,F="";if(this.__addimage__.isArrayBuffer(p)&&(p=new Uint8Array(p)),this.__addimage__.isArrayBufferView(p)){if(p=(b=new iG(p)).imgData,x=b.bits,j=b.colorSpace,_=b.colors,[4,6].indexOf(b.colorType)!==-1){if(b.bits===8){E=(O=b.pixelBitlength==32?new Uint32Array(b.decodePixels().buffer):b.pixelBitlength==16?new Uint16Array(b.decodePixels().buffer):new Uint8Array(b.decodePixels().buffer)).length,D=new Uint8Array(E*b.colors),C=new Uint8Array(E);var B,X=b.pixelBitlength-b.bits;for($=0,I=0;$<E;$++){for(T=O[$],B=0;B<X;)D[I++]=T>>>B&255,B+=b.bits;C[$]=T>>>B&255}}if(b.bits===16){E=(O=new Uint32Array(b.decodePixels().buffer)).length,D=new Uint8Array(E*(32/b.pixelBitlength)*b.colors),C=new Uint8Array(E*(32/b.pixelBitlength)),k=b.colors>1,$=0,I=0;for(var Y=0;$<E;)T=O[$++],D[I++]=T>>>0&255,k&&(D[I++]=T>>>16&255,T=O[$++],D[I++]=T>>>0&255),C[Y++]=T>>>16&255;x=8}g!==e.image_compression.NONE&&t()?(p=r(D,b.width*b.colors,b.colors,g),A=r(C,b.width,1,g)):(p=D,A=C,V=void 0)}if(b.colorType===3&&(j=this.color_spaces.INDEXED,w=b.palette,b.transparency.indexed)){var Z=b.transparency.indexed,ae=0;for($=0,E=Z.length;$<E;++$)ae+=Z[$];if((ae/=255)===E-1&&Z.indexOf(0)!==-1)N=[Z.indexOf(0)];else if(ae!==E){for(O=b.decodePixels(),C=new Uint8Array(O.length),$=0,E=O.length;$<E;$++)C[$]=Z[O[$]];A=r(C,b.width,1)}}var M=function(W){var Q;switch(W){case e.image_compression.FAST:Q=11;break;case e.image_compression.MEDIUM:Q=13;break;case e.image_compression.SLOW:Q=14;break;default:Q=12}return Q}(g);return V===this.decode.FLATE_DECODE&&(F="/Predictor "+M+" "),F+="/Colors "+_+" /BitsPerComponent "+x+" /Columns "+b.width,(this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),(A&&this.__addimage__.isArrayBuffer(A)||this.__addimage__.isArrayBufferView(A))&&(A=this.__addimage__.arrayBufferToBinaryString(A)),{alias:v,data:p,index:h,filter:V,decodeParameters:F,transparency:N,palette:w,sMask:A,predictor:M,width:b.width,height:b.height,bitsPerComponent:x,colorSpace:j}}}})(tt.API),function(e){e.processGIF89A=function(t,r,n,a){var i=new oG(t),o=i.width,s=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:o,height:s},d=new pv(100).encode(u,100);return e.processJPEG.call(this,d,r,n,a)},e.processGIF87A=e.processGIF89A}(tt.API),xa.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},xa.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Ft.log("bit decode error:"+r)}},xa.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*a*4,s=0;s<8&&8*a+s<this.width;s++){var c=this.palette[i>>7-s&1];this.data[o+4*s]=c.blue,this.data[o+4*s+1]=c.green,this.data[o+4*s+2]=c.red,this.data[o+4*s+3]=255}r!==0&&(this.pos+=4-r)}},xa.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*a*4,s=i>>4,c=15&i,u=this.palette[s];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*a+1>=this.width)break;u=this.palette[c],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},xa.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var o=this.palette[a];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},xa.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,s=(i>>5&t)/t*255|0,c=(i>>10&t)/t*255|0,u=i>>15?255:0,d=n*this.width*4+4*a;this.data[d]=c,this.data[d+1]=s,this.data[d+2]=o,this.data[d+3]=u}this.pos+=e}},xa.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&t)/t*255|0,c=(o>>5&r)/r*255|0,u=(o>>11)/t*255|0,d=a*this.width*4+4*i;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=s,this.data[d+3]=255}this.pos+=e}},xa.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},xa.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;this.data[s]=i,this.data[s+1]=a,this.data[s+2]=n,this.data[s+3]=o}},xa.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,a){var i=new xa(t,!1),o=i.width,s=i.height,c={data:i.getData(),width:o,height:s},u=new pv(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)}}(tt.API),gw.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,a){var i=new gw(t),o=i.width,s=i.height,c={data:i.getData(),width:o,height:s},u=new pv(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)}}(tt.API),tt.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,i=new Uint8Array(a/4*3),o=new Uint8Array(a/4),s=0,c=0,u=0;u<a;u+=4){var d=n[u],f=n[u+1],p=n[u+2],h=n[u+3];i[s++]=d,i[s++]=f,i[s++]=p,o[c++]=h}var v=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:v,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},tt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},pl=tt.API,th=pl.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),s=t.widths?t.widths:a.metadata.Unicode.widths,c=s.fof?s.fof:1,u=t.kerning?t.kerning:a.metadata.Unicode.kerning,d=u.fof?u.fof:1,f=t.doKerning!==!1,p=0,h=e.length,v=0,g=s[0]||c,j=[];for(r=0;r<h;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?j.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+o*(1e3/i)||0)/1e3):(p=f&&xt(u[n])==="object"&&!isNaN(parseInt(u[n][v],10))?u[n][v]/d:0,j.push((s[n]||g)/c+p)),v=n;return j},fw=pl.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return pl.processArabic&&(e=pl.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:th.apply(this,arguments).reduce(function(i,o){return i+o},0)},hw=function(e,t,r,n){for(var a=[],i=0,o=e.length,s=0;i!==o&&s+t[i]<r;)s+=t[i],i++;a.push(e.slice(0,i));var c=i;for(s=0;i!==o;)s+t[i]>n&&(a.push(e.slice(c,i)),s=0,c=i),s+=t[i],i++;return c!==i&&a.push(e.slice(c,i)),a},pw=function(e,t,r){r||(r={});var n,a,i,o,s,c,u,d=[],f=[d],p=r.textIndent||0,h=0,v=0,g=e.split(" "),j=th.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?g[0].length+2:r.lineIndent||0){var x=Array(c).join(" "),b=[];g.map(function(_){(_=_.split(/\s*\n/)).length>1?b=b.concat(_.map(function(w,A){return(A&&w.length?`
`:"")+w})):b.push(_[0])}),g=b,c=fw.apply(this,[x,r])}for(i=0,o=g.length;i<o;i++){var N=0;if(n=g[i],c&&n[0]==`
`&&(n=n.substr(1),N=1),p+h+(v=(a=th.apply(this,[n,r])).reduce(function(_,w){return _+w},0))>t||N){if(v>t){for(s=hw.apply(this,[n,a,t-(p+h),t]),d.push(s.shift()),d=[s.pop()];s.length;)f.push([s.shift()]);v=a.slice(n.length-(d[0]?d[0].length:0)).reduce(function(_,w){return _+w},0)}else d=[n];f.push(d),p=v+c,h=j}else d.push(n),p+=h+v,h=j}return u=c?function(_,w){return(w?x:"")+_.join(" ")}:function(_){return _.join(" ")},f.map(u)},pl.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var f=this.internal.getFont(d.fontName,d.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var s,c,u=[];for(s=0,c=n.length;s<c;s++)u=u.concat(pw.apply(this,[n[s],o,i]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},a=0;a<t.length;a++)r[t[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=t[a];var i=function(f){return"0x"+parseInt(f,10).toString(16)},o=e.__fontmetrics__.compress=function(f){var p,h,v,g,j=["{"];for(var x in f){if(p=f[x],isNaN(parseInt(x,10))?h="'"+x+"'":(x=parseInt(x,10),h=(h=i(x).slice(2)).slice(0,-1)+n[h.slice(-1)]),typeof p=="number")p<0?(v=i(p).slice(3),g="-"):(v=i(p).slice(2),g=""),v=g+v.slice(0,-1)+n[v.slice(-1)];else{if(xt(p)!=="object")throw new Error("Don't know what to do with value type "+xt(p)+".");v=o(p)}j.push(h+v)}return j.push("}"),j.join("")},s=e.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,h,v,g,j={},x=1,b=j,N=[],_="",w="",A=f.length-1,O=1;O<A;O+=1)(g=f[O])=="'"?p?(v=p.join(""),p=void 0):p=[]:p?p.push(g):g=="{"?(N.push([b,v]),b={},v=void 0):g=="}"?((h=N.pop())[0][h[1]]=b,v=void 0,b=h[0]):g=="-"?x=-1:v===void 0?r.hasOwnProperty(g)?(_+=r[g],v=parseInt(_,16)*x,x=1,_=""):_+=g:r.hasOwnProperty(g)?(w+=r[g],b[v]=parseInt(w,16)*x,x=1,v=void 0,w=""):w+=g;return j},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:s("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},d={Unicode:{"Courier-Oblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":s("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":s("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:s("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:s("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":s("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":s("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(f){var p=f.font,h=d.Unicode[p.postScriptName];h&&(p.metadata.Unicode={},p.metadata.Unicode.widths=h.widths,p.metadata.Unicode.kerning=h.kerning);var v=u.Unicode[p.postScriptName];v&&(p.metadata.Unicode.encoding=v,p.encoding=v.codePages[0])}])}(tt.API),function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(o,s){s=/^\x00\x01\x00\x00/.test(s)?t(s):t(Iu(s)),o.metadata=e.API.TTFFont.open(s),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(a,n)}}])}(tt),function(e){function t(){return(rt.canvg?Promise.resolve(rt.canvg):qv(()=>import("./index.es-r9Qi19nm.js"),__vite__mapDeps([0,1,2,3,4]))).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}tt.API.addSvgAsImage=function(r,n,a,i,o,s,c,u){if(isNaN(n)||isNaN(a))throw Ft.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(o))throw Ft.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=i,d.height=o;var f=d.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,d.width,d.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return t().then(function(v){return v.fromString(f,r,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(v){return v.render(p)}).then(function(){h.addImage(d.toDataURL("image/jpeg",1),n,a,i,o,c,u)})}}(),tt.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},tt.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},s=Object.keys(o),c=[],u=0,d=0,f=0;function p(v,g){var j,x=!1;for(j=0;j<v.length;j+=1)v[j]===g&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var h=s.length;for(f=0;f<h;f+=1)r[s[f]].value=r[s[f]].defaultValue,r[s[f]].explicitSet=!1}if(xt(e)==="object"){for(a in e)if(i=e[a],p(s,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&p(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(u=0;u<i.length;u+=1)if(n=!0,i[u].length===1&&typeof i[u][0]=="number")c.push(String(i[u]-1));else if(i[u].length>1){for(d=0;d<i[u].length;d+=1)typeof i[u][d]!="number"&&(n=!1);n===!0&&c.push([i[u][0]-1,i[u][1]-1].join(" "))}r[a].value="["+c.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,g=[];for(v in r)r[v].explicitSet===!0&&(r[v].type==="name"?g.push("/"+v+" /"+r[v].value):g.push("/"+v+" "+r[v].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),s=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=i.length+o.length+s.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(a+i+o+s+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(tt.API),function(e){var t=e.API,r=t.pdfEscape16=function(i,o){for(var s,c=o.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],f=0,p=i.length;f<p;++f){if(s=o.metadata.characterToGlyph(i.charCodeAt(f)),o.metadata.glyIdsUsed.push(s),o.metadata.toUnicode[s]=i.charCodeAt(f),c.indexOf(s)==-1&&(c.push(s),c.push([parseInt(o.metadata.widthOfGlyph(s),10)])),s=="0")return d.join("");s=s.toString(16),d.push(u[4-s.length],s)}return d.join("")},n=function(i){var o,s,c,u,d,f,p;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],f=0,p=(s=Object.keys(i).sort(function(h,v){return h-v})).length;f<p;f++)o=s[f],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(u=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(o){var s=o.font,c=o.out,u=o.newObject,d=o.putStream;if(s.metadata instanceof e.API.TTFFont&&s.encoding==="Identity-H"){for(var f=s.metadata.Unicode.widths,p=s.metadata.subset.encode(s.metadata.glyIdsUsed,1),h="",v=0;v<p.length;v++)h+=String.fromCharCode(p[v]);var g=u();d({data:h,addLength1:!0,objectId:g}),c("endobj");var j=u();d({data:n(s.metadata.toUnicode),addLength1:!0,objectId:j}),c("endobj");var x=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+wl(s.fontName)),c("/FontFile2 "+g+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(s.metadata.bbox)),c("/Flags "+s.metadata.flags),c("/StemV "+s.metadata.stemV),c("/ItalicAngle "+s.metadata.italicAngle),c("/Ascent "+s.metadata.ascender),c("/Descent "+s.metadata.decender),c("/CapHeight "+s.metadata.capHeight),c(">>"),c("endobj");var b=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+wl(s.fontName)),c("/FontDescriptor "+x+" 0 R"),c("/W "+e.API.PDFObject.convert(f)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+s.encoding+")"),c(">>"),c(">>"),c("endobj"),s.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+j+" 0 R"),c("/BaseFont /"+wl(s.fontName)),c("/Encoding /"+s.encoding),c("/DescendantFonts ["+b+" 0 R]"),c(">>"),c("endobj"),s.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(o){var s=o.font,c=o.out,u=o.newObject,d=o.putStream;if(s.metadata instanceof e.API.TTFFont&&s.encoding==="WinAnsiEncoding"){for(var f=s.metadata.rawData,p="",h=0;h<f.length;h++)p+=String.fromCharCode(f[h]);var v=u();d({data:p,addLength1:!0,objectId:v}),c("endobj");var g=u();d({data:n(s.metadata.toUnicode),addLength1:!0,objectId:g}),c("endobj");var j=u();c("<<"),c("/Descent "+s.metadata.decender),c("/CapHeight "+s.metadata.capHeight),c("/StemV "+s.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+v+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(s.metadata.bbox)),c("/FontName /"+wl(s.fontName)),c("/ItalicAngle "+s.metadata.italicAngle),c("/Ascent "+s.metadata.ascender),c(">>"),c("endobj"),s.objectNumber=u();for(var x=0;x<s.metadata.hmtx.widths.length;x++)s.metadata.hmtx.widths[x]=parseInt(s.metadata.hmtx.widths[x]*(1e3/s.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+wl(s.fontName)+"/FontDescriptor "+j+" 0 R/Encoding/"+s.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(s.metadata.hmtx.widths)+">>"),c("endobj"),s.isAlreadyPutted=!0}})(i)}]);var a=function(i){var o,s=i.text||"",c=i.x,u=i.y,d=i.options||{},f=i.mutex||{},p=f.pdfEscape,h=f.activeFontKey,v=f.fonts,g=h,j="",x=0,b="",N=v[g].encoding;if(v[g].encoding!=="Identity-H")return{text:s,x:c,y:u,options:d,mutex:f};for(b=s,g=h,Array.isArray(s)&&(b=s[0]),x=0;x<b.length;x+=1)v[g].metadata.hasOwnProperty("cmap")&&(o=v[g].metadata.cmap.unicode.codeMap[b[x].charCodeAt(0)]),o||b[x].charCodeAt(0)<256&&v[g].metadata.hasOwnProperty("Unicode")?j+=b[x]:j+="";var _="";return parseInt(g.slice(1))<14||N==="WinAnsiEncoding"?_=p(j,g).split("").map(function(w){return w.charCodeAt(0).toString(16)}).join(""):N==="Identity-H"&&(_=r(j,v[g])),f.isHex=!0,{text:_,x:c,y:u,options:d,mutex:f}};t.events.push(["postProcessText",function(i){var o=i.text||"",s=[],c={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?s.push([a(Object.assign({},c,{text:o[u][0]})).text,o[u][1],o[u][2]]):s.push(a(Object.assign({},c,{text:o[u]})).text);i.text=s}else i.text=a(Object.assign({},c,{text:o})).text}])}(tt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(tt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,i,o,s,c,u,d,f=t,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},j=["(",")","(","<",">","<","[","]","[","{","}","{","Â«","Â»","Â«","â€¹","â€º","â€¹","â…","â†","â…","â½","â¾","â½","â‚","â‚Ž","â‚","â‰¤","â‰¥","â‰¤","âŒ©","âŒª","âŒ©","ï¹™","ï¹š","ï¹™","ï¹›","ï¹œ","ï¹›","ï¹","ï¹ž","ï¹","ï¹¤","ï¹¥","ï¹¤"],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,N=0;this.__bidiEngine__={};var _=function(k){var T=k.charCodeAt(),$=T>>8,I=g[$];return I!==void 0?f[256*I+(255&T)]:$===252||$===253?"AL":x.test($)?"L":$===8?"R":"N"},w=function(k){for(var T,$=0;$<k.length;$++){if((T=_(k.charAt($)))==="L")return!1;if(T==="R")return!0}return!1},A=function(k,T,$,I){var V,F,B,X,Y=T[I];switch(Y){case"L":case"R":b=!1;break;case"N":case"AN":break;case"EN":b&&(Y="AN");break;case"AL":b=!0,Y="R";break;case"WS":Y="N";break;case"CS":I<1||I+1>=T.length||(V=$[I-1])!=="EN"&&V!=="AN"||(F=T[I+1])!=="EN"&&F!=="AN"?Y="N":b&&(F="AN"),Y=F===V?F:"N";break;case"ES":Y=(V=I>0?$[I-1]:"B")==="EN"&&I+1<T.length&&T[I+1]==="EN"?"EN":"N";break;case"ET":if(I>0&&$[I-1]==="EN"){Y="EN";break}if(b){Y="N";break}for(B=I+1,X=T.length;B<X&&T[B]==="ET";)B++;Y=B<X&&T[B]==="EN"?"EN":"N";break;case"NSM":if(o&&!s){for(X=T.length,B=I+1;B<X&&T[B]==="NSM";)B++;if(B<X){var Z=k[I],ae=Z>=1425&&Z<=2303||Z===64286;if(V=T[B],ae&&(V==="R"||V==="AL")){Y="R";break}}}Y=I<1||(V=T[I-1])==="B"?"N":$[I-1];break;case"B":b=!1,a=!0,Y=N;break;case"S":i=!0,Y="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"BN":Y="N"}return Y},O=function(k,T,$){var I=k.split("");return $&&E(I,$,{hiLevel:N}),I.reverse(),T&&T.reverse(),I.join("")},E=function(k,T,$){var I,V,F,B,X,Y=-1,Z=k.length,ae=0,M=[],W=N?h:p,Q=[];for(b=!1,a=!1,i=!1,V=0;V<Z;V++)Q[V]=_(k[V]);for(F=0;F<Z;F++){if(X=ae,M[F]=A(k,Q,M,F),I=240&(ae=W[X][v[M[F]]]),ae&=15,T[F]=B=W[ae][5],I>0)if(I===16){for(V=Y;V<F;V++)T[V]=1;Y=-1}else Y=-1;if(W[ae][6])Y===-1&&(Y=F);else if(Y>-1){for(V=Y;V<F;V++)T[V]=B;Y=-1}Q[F]==="B"&&(T[F]=0),$.hiLevel|=B}i&&function(ne,oe,he){for(var de=0;de<he;de++)if(ne[de]==="S"){oe[de]=N;for(var ie=de-1;ie>=0&&ne[ie]==="WS";ie--)oe[ie]=N}}(Q,T,Z)},C=function(k,T,$,I,V){if(!(V.hiLevel<k)){if(k===1&&N===1&&!a)return T.reverse(),void($&&$.reverse());for(var F,B,X,Y,Z=T.length,ae=0;ae<Z;){if(I[ae]>=k){for(X=ae+1;X<Z&&I[X]>=k;)X++;for(Y=ae,B=X-1;Y<B;Y++,B--)F=T[Y],T[Y]=T[B],T[B]=F,$&&(F=$[Y],$[Y]=$[B],$[B]=F);ae=X}ae++}}},D=function(k,T,$){var I=k.split(""),V={hiLevel:N};return $||($=[]),E(I,$,V),function(F,B,X){if(X.hiLevel!==0&&d)for(var Y,Z=0;Z<F.length;Z++)B[Z]===1&&(Y=j.indexOf(F[Z]))>=0&&(F[Z]=j[Y+1])}(I,$,V),C(2,I,T,$,V),C(1,I,T,$,V),I.join("")};return this.__bidiEngine__.doBidiReorder=function(k,T,$){if(function(V,F){if(F)for(var B=0;B<V.length;B++)F[B]=B;s===void 0&&(s=w(V)),u===void 0&&(u=w(V))}(k,T),o||!c||u)if(o&&c&&s^u)N=s?1:0,k=O(k,T,$);else if(!o&&c&&u)N=s?1:0,k=D(k,T,$),k=O(k,T);else if(!o||s||c||u){if(o&&!c&&s^u)k=O(k,T),s?(N=0,k=D(k,T,$)):(N=1,k=D(k,T,$),k=O(k,T));else if(o&&s&&!c&&u)N=1,k=D(k,T,$),k=O(k,T);else if(!o&&!c&&s^u){var I=d;s?(N=1,k=D(k,T,$),N=0,d=!1,k=D(k,T,$),d=I):(N=0,k=D(k,T,$),k=O(k,T),N=1,d=!1,k=D(k,T,$),d=I,k=O(k,T))}}else N=0,k=D(k,T,$);else N=s?1:0,k=D(k,T,$);return k},this.__bidiEngine__.setOptions=function(k){k&&(o=k.isInputVisual,c=k.isOutputVisual,s=k.isInputRtl,u=k.isOutputRtl,d=k.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var o=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var s=0;for(o=[],s=0;s<a.length;s+=1)Object.prototype.toString.call(a[s])==="[object Array]"?o.push([r.doBidiReorder(a[s][0]),a[s][1],a[s][2]]):o.push([r.doBidiReorder(a[s])]);n.text=o}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(tt),tt.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new xo(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new wG(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new sG(this.contents),this.head=new cG(this),this.name=new pG(this),this.cmap=new OA(this),this.toUnicode={},this.hhea=new uG(this),this.maxp=new mG(this),this.hmtx=new gG(this),this.post=new fG(this),this.os2=new dG(this),this.loca=new xG(this),this.glyf=new vG(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,s,c,u;for(u=[],o=0,s=(c=this.bbox).length;o<s;o++)t=c[o],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,i,o,s;for(o=0,i=0,s=(t=""+t).length;0<=s?i<s:i>s;i=0<=s?++i:--i)a=t.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var Da,xo=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,i,o,s,c;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),o=this.readByte(),s=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^o)+256*(255^s)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*o+256*s+c},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,i;for(i=[],n=0,a=t.length;n<a;n++)r=t[n],i.push(this.writeByte(r));return i},e}(),sG=function(){var e;function t(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,i,o,s,c,u,d,f,p,h,v,g;for(g in h=Object.keys(r).length,c=Math.log(2),f=16*Math.floor(Math.log(h)/c),o=Math.floor(f/c),d=16*h-f,(a=new xo).writeInt(this.scalarType),a.writeShort(h),a.writeShort(f),a.writeShort(o),a.writeShort(d),i=16*h,u=a.pos+i,s=null,v=[],r)for(p=r[g],a.writeString(g),a.writeInt(e(p)),a.writeInt(u),a.writeInt(p.length),v=v.concat(p),g==="head"&&(s=u),u+=p.length;u%4;)v.push(0),u++;return a.write(v),n=2981146554-e(a.data),a.pos=s+8,a.writeUInt32(n),a.data},e=function(r){var n,a,i,o;for(r=PA.call(r);r.length%4;)r.push(0);for(i=new xo(r),a=0,n=0,o=r.length;n<o;n=n+=4)a+=i.readUInt32();return 4294967295&a},t}(),lG={}.hasOwnProperty,fi=function(e,t){for(var r in t)lG.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};Da=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var cG=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return fi(t,Da),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new xo).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t}(),vw=function(){function e(t,r){var n,a,i,o,s,c,u,d,f,p,h,v,g,j,x,b,N;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(h=t.readUInt16(),p=h/2,t.pos+=6,i=function(){var _,w;for(w=[],c=_=0;0<=p?_<p:_>p;c=0<=p?++_:--_)w.push(t.readUInt16());return w}(),t.pos+=2,g=function(){var _,w;for(w=[],c=_=0;0<=p?_<p:_>p;c=0<=p?++_:--_)w.push(t.readUInt16());return w}(),u=function(){var _,w;for(w=[],c=_=0;0<=p?_<p:_>p;c=0<=p?++_:--_)w.push(t.readUInt16());return w}(),d=function(){var _,w;for(w=[],c=_=0;0<=p?_<p:_>p;c=0<=p?++_:--_)w.push(t.readUInt16());return w}(),a=(this.length-t.pos+this.offset)/2,s=function(){var _,w;for(w=[],c=_=0;0<=a?_<a:_>a;c=0<=a?++_:--_)w.push(t.readUInt16());return w}(),c=x=0,N=i.length;x<N;c=++x)for(j=i[c],n=b=v=g[c];v<=j?b<=j:b>=j;n=v<=j?++b:--b)d[c]===0?o=n+u[c]:(o=s[d[c]/2+(n-v)-(p-c)]||0)!==0&&(o+=u[c]),this.codeMap[n]=65535&o}t.pos=f}return e.encode=function(t,r){var n,a,i,o,s,c,u,d,f,p,h,v,g,j,x,b,N,_,w,A,O,E,C,D,k,T,$,I,V,F,B,X,Y,Z,ae,M,W,Q,ne,oe,he,de,ie,xe,be,pe;switch(I=new xo,o=Object.keys(t).sort(function(Ee,$e){return Ee-$e}),r){case"macroman":for(g=0,j=function(){var Ee=[];for(v=0;v<256;++v)Ee.push(0);return Ee}(),b={0:0},i={},V=0,Y=o.length;V<Y;V++)b[ie=t[a=o[V]]]==null&&(b[ie]=++g),i[a]={old:t[a],new:b[t[a]]},j[a]=b[t[a]];return I.writeUInt16(1),I.writeUInt16(0),I.writeUInt32(12),I.writeUInt16(0),I.writeUInt16(262),I.writeUInt16(0),I.write(j),{charMap:i,subtable:I.data,maxGlyphID:g+1};case"unicode":for(T=[],f=[],N=0,b={},n={},x=u=null,F=0,Z=o.length;F<Z;F++)b[w=t[a=o[F]]]==null&&(b[w]=++N),n[a]={old:w,new:b[w]},s=b[w]-a,x!=null&&s===u||(x&&f.push(x),T.push(a),u=s),x=a;for(x&&f.push(x),f.push(65535),T.push(65535),D=2*(C=T.length),E=2*Math.pow(Math.log(C)/Math.LN2,2),p=Math.log(E/2)/Math.LN2,O=2*C-E,c=[],A=[],h=[],v=B=0,ae=T.length;B<ae;v=++B){if(k=T[v],d=f[v],k===65535){c.push(0),A.push(0);break}if(k-($=n[k].new)>=32768)for(c.push(0),A.push(2*(h.length+C-v)),a=X=k;k<=d?X<=d:X>=d;a=k<=d?++X:--X)h.push(n[a].new);else c.push($-k),A.push(0)}for(I.writeUInt16(3),I.writeUInt16(1),I.writeUInt32(12),I.writeUInt16(4),I.writeUInt16(16+8*C+2*h.length),I.writeUInt16(0),I.writeUInt16(D),I.writeUInt16(E),I.writeUInt16(p),I.writeUInt16(O),he=0,M=f.length;he<M;he++)a=f[he],I.writeUInt16(a);for(I.writeUInt16(0),de=0,W=T.length;de<W;de++)a=T[de],I.writeUInt16(a);for(xe=0,Q=c.length;xe<Q;xe++)s=c[xe],I.writeUInt16(s);for(be=0,ne=A.length;be<ne;be++)_=A[be],I.writeUInt16(_);for(pe=0,oe=h.length;pe<oe;pe++)g=h[pe],I.writeUInt16(g);return{charMap:n,subtable:I.data,maxGlyphID:N+1}}},e}(),OA=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return fi(t,Da),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,a,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)n=new vw(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var a,i;return n==null&&(n="macroman"),a=vw.encode(r,n),(i=new xo).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},t}(),uG=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return fi(t,Da),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),dG=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return fi(t,Da),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),fG=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return fi(t,Da),t.prototype.tag="post",t.prototype.parse=function(r){var n,a,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var o;for(a=r.readUInt16(),this.glyphNameIndex=[],o=0;0<=a?o<a:o>a;o=0<=a?++o:--o)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var s,c,u;for(u=[],o=s=0,c=this.file.maxp.numGlyphs;0<=c?s<c:s>c;o=0<=c?++s:--s)u.push(r.readUInt32());return u}).call(this)}},t}(),hG=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},pG=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return fi(t,Da),t.prototype.tag="name",t.prototype.parse=function(r){var n,a,i,o,s,c,u,d,f,p,h;for(r.pos=this.offset,r.readShort(),n=r.readShort(),c=r.readShort(),a=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+c+r.readShort()});for(u={},o=f=0,p=a.length;f<p;o=++f)i=a[o],r.pos=i.offset,d=r.readString(i.length),s=new hG(d,i),u[h=i.nameID]==null&&(u[h]=[]),u[i.nameID].push(s);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},t}(),mG=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return fi(t,Da),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),gG=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return fi(t,Da),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,a,i,o,s,c,u;for(r.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,f;for(f=[],n=d=0;0<=i?d<i:d>i;n=0<=i?++d:--d)f.push(r.readInt16());return f}(),this.widths=(function(){var d,f,p,h;for(h=[],d=0,f=(p=this.metrics).length;d<f;d++)o=p[d],h.push(o.advance);return h}).call(this),a=this.widths[this.widths.length-1],u=[],n=s=0;0<=i?s<i:s>i;n=0<=i?++s:--s)u.push(this.widths.push(a));return u},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),PA=[].slice,vG=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return fi(t,Da),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,a,i,o,s,c,u,d,f,p;return r in this.cache?this.cache[r]:(o=this.file.loca,n=this.file.contents,a=o.indexOf(r),(i=o.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,s=(c=new xo(n.read(i))).readShort(),d=c.readShort(),p=c.readShort(),u=c.readShort(),f=c.readShort(),this.cache[r]=s===-1?new bG(c,d,p,u,f):new yG(c,s,d,p,u,f),this.cache[r]))},t.prototype.encode=function(r,n,a){var i,o,s,c,u;for(s=[],o=[],c=0,u=n.length;c<u;c++)i=r[n[c]],o.push(s.length),i&&(s=s.concat(i.encode(a)));return o.push(s.length),{table:s,offsets:o}},t}(),yG=function(){function e(t,r,n,a,i,o){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),bG=function(){function e(t,r,n,a,i){var o,s;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;s=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&s;)o.pos+=1&s?4:2,128&s?o.pos+=8:64&s?o.pos+=4:8&s&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new xo(PA.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),xG=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return fi(t,Da),t.prototype.tag="loca",t.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,o;for(o=[],a=0,i=this.length;a<i;a+=2)o.push(2*r.readUInt16());return o}).call(this):(function(){var i,o;for(o=[],a=0,i=this.length;a<i;a+=4)o.push(r.readUInt32());return o}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),i=0,o=0,s=0;s<a.length;++s)if(a[s]=i,o<n.length&&n[o]==s){++o,a[s]=i;var c=this.offsets[s],u=this.offsets[s+1]-c;u>0&&(i+=u)}for(var d=new Array(4*a.length),f=0;f<a.length;++f)d[4*f+3]=255&a[f],d[4*f+2]=(65280&a[f])>>8,d[4*f+1]=(16711680&a[f])>>16,d[4*f]=(4278190080&a[f])>>24;return d},t}(),wG=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,i,o,s,c;for(a={},o=0,s=t.length;o<s;o++)a[i=t[o]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))n=c[i],a[i]=n;return a},e.prototype.encode=function(t,r){var n,a,i,o,s,c,u,d,f,p,h,v,g,j,x;for(a in n=OA.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),h={0:0},x=n.charMap)h[(c=x[a]).old]=c.new;for(v in p=n.maxGlyphID,o)v in h||(h[v]=p++);return d=function(b){var N,_;for(N in _={},b)_[b[N]]=N;return _}(h),f=Object.keys(d).sort(function(b,N){return b-N}),g=function(){var b,N,_;for(_=[],b=0,N=f.length;b<N;b++)s=f[b],_.push(d[s]);return _}(),i=this.font.glyf.encode(o,g,h),u=this.font.loca.encode(i.offsets,g),j={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(j["OS/2"]=this.font.os2.raw()),this.font.directory.encode(j)},e}();tt.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,i,o;if(Array.isArray(r))return"["+function(){var s,c,u;for(u=[],s=0,c=r.length;s<c;s++)n=r[s],u.push(t.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)o=r[a],i.push("/"+a+" "+t.convert(o));return i.push(">>"),i.join(`
`)}return""+r},t}();const yw="https://api.ptoconnect.com/api";function jG(){const[e,t]=R.useState({title:"",description:"",event_date:"",start_time:"",end_time:"",location:"",school_level:"elementary",category:"",visibility:"public",estimated_budget:"",share_public:!1}),[r,n]=R.useState(""),[a,i]=R.useState(""),[o,s]=R.useState(!1),[c,u]=R.useState({type:"",season:"",audience:"",theme:"",goal:""}),[d,f]=R.useState(""),p=b=>{const{name:N,value:_,type:w,checked:A}=b.target;t(O=>({...O,[N]:w==="checkbox"?A:_}))},h=async b=>{b.preventDefault(),n(""),i("");const{data:{session:N},error:_}=await We.auth.getSession();if(_||!(N!=null&&N.access_token)){i("Authentication error. Please log in again.");return}try{const w=await fetch(`${yw}/api/events`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${N.access_token}`},body:JSON.stringify(e)}),A=await w.json();if(!w.ok){i(A.error||"Failed to create event");return}n("Event created successfully!"),t({title:"",description:"",event_date:"",start_time:"",end_time:"",location:"",school_level:"elementary",category:"",visibility:"public",estimated_budget:"",share_public:!1})}catch(w){i("Failed to connect to server."),console.error("Submit error:",w)}},v=b=>{const{name:N,value:_}=b.target;u(w=>({...w,[N]:_}))},g=async()=>{f("Generating...");try{const{data:{session:b},error:N}=await We.auth.getSession();if(N||!(b!=null&&b.access_token)){f("Authentication error. Please log in again.");return}const _=await fetch(`${yw}/api/ai/generate-event`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${b.access_token}`},body:JSON.stringify(c)});if(!_.ok)throw new Error(`API request failed: ${_.status}`);const w=await _.json();f(w.result)}catch(b){console.error("AI generation error:",b),f("AI generation failed. Please try again.")}},j=()=>{try{const b=JSON.parse(d);t(N=>({...N,title:b.title||"",description:b.description||"",event_date:b.event_date||"",category:b.category||"",school_level:b.school_level||"",location:b.location||"",estimated_budget:b.estimated_budget||""}))}catch(b){alert("Failed to parse AI response. Please review the output and enter manually."),console.error("Parse error:",b)}},x=()=>{try{const b=JSON.parse(d),N=new tt;N.setFontSize(14),N.text(b.title||"Event Summary",10,20),N.setFontSize(10),N.text(`Date: ${b.event_date||"TBD"}`,10,30),N.text(`Category: ${b.category||"N/A"}`,10,36),N.text(`School Level: ${b.school_level||"N/A"}`,10,42),N.setFontSize(12),N.text("Description:",10,52),N.setFontSize(10),N.text(N.splitTextToSize(b.description||"",180),10,58),N.setFontSize(12),N.text("Planning Tasks:",10,100),(b.tasks||[]).forEach((w,A)=>{N.text(`- ${w}`,10,106+A*6)}),N.save(`${b.title||"event-summary"}.pdf`)}catch(b){alert("Unable to print. Please check that the AI returned a valid result."),console.error("Print error:",b)}};return l.jsxs("div",{className:"max-w-2xl mx-auto p-6 space-y-6",children:[l.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Create New Event"}),l.jsxs("form",{onSubmit:h,className:"space-y-4",children:[l.jsx("input",{name:"title",value:e.title,onChange:p,placeholder:"Event Title",className:"w-full border p-2",required:!0}),l.jsx("textarea",{name:"description",value:e.description,onChange:p,placeholder:"Description",className:"w-full border p-2"}),l.jsx("input",{type:"date",name:"event_date",value:e.event_date,onChange:p,className:"w-full border p-2",required:!0}),l.jsx("input",{type:"time",name:"start_time",value:e.start_time,onChange:p,className:"w-full border p-2"}),l.jsx("input",{type:"time",name:"end_time",value:e.end_time,onChange:p,className:"w-full border p-2"}),l.jsx("input",{name:"location",value:e.location,onChange:p,placeholder:"Location",className:"w-full border p-2"}),l.jsxs("select",{name:"school_level",value:e.school_level,onChange:p,className:"w-full border p-2",children:[l.jsx("option",{value:"elementary",children:"Elementary"}),l.jsx("option",{value:"upper_elementary",children:"Upper Elementary"}),l.jsx("option",{value:"middle",children:"Middle"}),l.jsx("option",{value:"junior_high",children:"Junior High"}),l.jsx("option",{value:"high",children:"High School"})]}),l.jsx("input",{name:"category",value:e.category,onChange:p,placeholder:"Category (e.g., Fundraiser)",className:"w-full border p-2"}),l.jsx("input",{name:"estimated_budget",value:e.estimated_budget,onChange:p,placeholder:"Estimated Budget",className:"w-full border p-2"}),l.jsxs("select",{name:"visibility",value:e.visibility,onChange:p,className:"w-full border p-2",children:[l.jsx("option",{value:"public",children:"Public"}),l.jsx("option",{value:"private",children:"Private"})]}),l.jsxs("label",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",name:"share_public",checked:e.share_public,onChange:p}),l.jsx("span",{children:"Share this event to the PTO Connect Idea Library"})]}),l.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded",type:"submit",children:"Create Event"}),r&&l.jsx("p",{className:"text-green-600",children:r}),a&&l.jsx("p",{className:"text-red-600",children:a})]}),l.jsxs("div",{className:"border-t pt-6",children:[l.jsx("button",{onClick:()=>s(!o),className:"text-blue-600 underline",children:o?"Hide AI Event Assistant":"Use AI Event Assistant"}),o&&l.jsxs("div",{className:"mt-4 space-y-3",children:[l.jsx("h2",{className:"text-xl font-semibold",children:"AI Event Assistant"}),l.jsx("input",{type:"text",name:"type",placeholder:"Event Type",value:c.type,onChange:v,className:"w-full border p-2"}),l.jsx("input",{type:"text",name:"season",placeholder:"Season or Month",value:c.season,onChange:v,className:"w-full border p-2"}),l.jsx("input",{type:"text",name:"audience",placeholder:"Audience (e.g. families, teachers)",value:c.audience,onChange:v,className:"w-full border p-2"}),l.jsx("input",{type:"text",name:"theme",placeholder:"Theme (e.g. fall festival)",value:c.theme,onChange:v,className:"w-full border p-2"}),l.jsx("input",{type:"text",name:"goal",placeholder:"Goal (e.g. raise funds for library)",value:c.goal,onChange:v,className:"w-full border p-2"}),l.jsx("button",{onClick:g,className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",children:"Generate Event Idea"}),d&&l.jsxs("div",{className:"border p-4 mt-4 bg-gray-50 rounded",children:[l.jsx("pre",{className:"whitespace-pre-wrap text-sm",children:d}),l.jsxs("div",{className:"flex gap-2 mt-2",children:[l.jsx("button",{onClick:j,className:"bg-blue-500 text-white px-3 py-1 rounded hover:bg-blue-600",children:"Use This Event"}),l.jsx("button",{onClick:x,className:"bg-gray-600 text-white px-3 py-1 rounded hover:bg-gray-700",children:"Print Summary"})]})]})]})]})]})}const NG=({eventData:e,setEventData:t})=>l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Tell Stella About Your Event"}),l.jsx("p",{className:"text-gray-600",children:"Provide basic information about the event you want to create"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Title"}),l.jsx("input",{type:"text",value:e.title,onChange:r=>t(n=>({...n,title:r.target.value})),placeholder:"e.g., Fall Festival 2025",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Date"}),l.jsx("input",{type:"date",value:e.event_date,onChange:r=>t(n=>({...n,event_date:r.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expected Attendance"}),l.jsx("input",{type:"number",value:e.expected_attendance,onChange:r=>t(n=>({...n,expected_attendance:parseInt(r.target.value,10)||0})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estimated Budget"}),l.jsx("input",{type:"number",value:e.estimated_budget,onChange:r=>t(n=>({...n,estimated_budget:parseInt(r.target.value,10)||0})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),l.jsx("textarea",{value:e.description,onChange:r=>t(n=>({...n,description:r.target.value})),rows:"3",placeholder:"Brief description of your event...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]}),SG=({stellaContext:e,handleStellaContextChange:t,handleAdditionalGoalsChange:r,handleResourcesChange:n,handleConstraintsChange:a})=>{const i=["Fall Festival","Spring Carnival","Book Fair","Science Night","Art Show","Talent Show","Movie Night","Game Night","Teacher Appreciation","Volunteer Recognition","Board Meeting","Fundraiser","Auction","Walk-a-thon","Bake Sale"],o=["Community Building","Fundraising","Educational Enhancement","Volunteer Appreciation","Student Recognition","Family Engagement","School Support","Cultural Celebration"],s=["All Families","Parents Only","Students & Families","Community Members","Teachers & Staff","Volunteers","Board Members","Local Businesses"],c=["Raise funds for specific programs","Showcase student work","Build community relationships","Recruit new volunteers","Celebrate achievements","Educate about school programs","Support teachers and staff","Create lasting memories"],u=["Dedicated parent volunteers","School facilities access","Local business partnerships","Previous event materials","Social media presence","Email communication list","Equipment and supplies","Budget for materials"],d=["Limited budget","Time constraints","Venue limitations","Weather dependent","Need school approval","Limited volunteers","Scheduling conflicts","Safety requirements"];return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Help Stella Understand Your Goals"}),l.jsx("p",{className:"text-gray-600",children:"This information helps Stella create the perfect workflow for your event"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Type"}),l.jsx("select",{value:e.eventType,onChange:f=>t("eventType",f.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:i.map(f=>l.jsx("option",{value:f,children:f},f))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Primary Goal"}),l.jsx("select",{value:e.primaryGoal,onChange:f=>t("primaryGoal",f.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:o.map(f=>l.jsx("option",{value:f,children:f},f))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Target Audience"}),l.jsx("select",{value:e.targetAudience,onChange:f=>t("targetAudience",f.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:s.map(f=>l.jsx("option",{value:f,children:f},f))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Goals"}),l.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto p-2 border rounded-md",children:c.map(f=>l.jsxs("label",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",checked:e.additionalGoals.includes(f),onChange:p=>r(f,p.target.checked),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),l.jsx("span",{className:"text-sm text-gray-700",children:f})]},f))})]}),l.jsxs("div",{className:"md:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Available Resources"}),l.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto p-2 border rounded-md",children:u.map(f=>l.jsxs("label",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",checked:e.availableResources.includes(f),onChange:p=>n(f,p.target.checked),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),l.jsx("span",{className:"text-sm text-gray-700",children:f})]},f))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Constraints"}),l.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto p-2 border rounded-md",children:d.map(f=>l.jsxs("label",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",checked:e.constraints.includes(f),onChange:p=>a(f,p.target.checked),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),l.jsx("span",{className:"text-sm text-gray-700",children:f})]},f))})]})]})]})]})},_G=({progressUpdates:e})=>l.jsxs("div",{className:"text-center py-16",children:[l.jsxs("div",{className:"inline-block relative",children:[l.jsx(wr,{className:"text-purple-500 w-24 h-24 animate-pulse"}),l.jsx("div",{className:"absolute top-0 left-0 w-full h-full flex items-center justify-center",children:l.jsx("div",{className:"w-20 h-20 bg-purple-100 rounded-full animate-ping"})})]}),l.jsx("h2",{className:"text-2xl font-bold mt-8",children:"Stella is working her magic..."}),l.jsx("p",{className:"text-gray-600 mt-2",children:"Generating your comprehensive event workflow."}),l.jsx("div",{className:"mt-8 w-full max-w-md mx-auto",children:e.map((t,r)=>l.jsxs("div",{className:"flex items-center space-x-4 p-2",children:[l.jsx(t.icon,{className:`w-5 h-5 ${t.status==="complete"?"text-green-500":"text-gray-400 animate-pulse"}`}),l.jsx("span",{className:`text-sm ${t.status==="complete"?"text-gray-800":"text-gray-500"}`,children:t.text})]},r))})]}),AG=({workflowData:e})=>{var a,i,o;if(!e)return l.jsxs("div",{className:"text-center py-16",children:[l.jsx(YN,{className:"mx-auto w-12 h-12 text-red-500"}),l.jsx("h2",{className:"mt-4 text-xl font-bold",children:"Failed to Generate Workflow"}),l.jsx("p",{className:"mt-2 text-gray-600",children:"There was an issue generating the workflow. Please try again."}),l.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-6 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-100",children:"Back"})]});const t=((a=e.event)==null?void 0:a.title)||"Your Event",r=e.components_created||{},n=Object.values(r).filter(Boolean).length;return l.jsxs("div",{className:"p-4 sm:p-6 bg-white",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h2",{className:"text-3xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-indigo-600",children:"Your Workflow is Ready!"}),l.jsxs("p",{className:"mt-2 text-lg text-gray-600",children:['Stella has created a comprehensive plan for "',t,'".']})]}),l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 text-center mb-8",children:[l.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[l.jsx(Kn,{className:"w-8 h-8 text-green-500 mx-auto mb-2"}),l.jsx("p",{className:"font-bold text-xl",children:n}),l.jsx("p",{className:"text-sm text-gray-600",children:"Modules Integrated"})]}),l.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[l.jsx(Rp,{className:"w-8 h-8 text-blue-500 mx-auto mb-2"}),l.jsx("p",{className:"font-bold text-xl",children:"Active"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Workflow Status"})]}),l.jsxs("div",{className:"bg-indigo-50 p-4 rounded-lg",children:[l.jsx(ka,{className:"w-8 h-8 text-indigo-500 mx-auto mb-2"}),l.jsx("p",{className:"font-bold text-xl",children:((i=e.event)==null?void 0:i.expected_attendance)||"N/A"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Expected Guests"})]}),l.jsxs("div",{className:"bg-pink-50 p-4 rounded-lg",children:[l.jsx(Za,{className:"w-8 h-8 text-pink-500 mx-auto mb-2"}),l.jsxs("p",{className:"font-bold text-xl",children:["$",((o=e.event)==null?void 0:o.estimated_budget)||"0"]}),l.jsx("p",{className:"text-sm text-gray-600",children:"Est. Budget"})]})]}),l.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[l.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center",children:[l.jsx(Bv,{className:"w-6 h-6 mr-2 text-yellow-500"}),"Next Steps"]}),l.jsxs("ol",{className:"list-decimal list-inside space-y-3 text-gray-700",children:[l.jsx("li",{children:"Review the generated budget and adjust line items as needed."}),l.jsx("li",{children:"Confirm volunteer roles and begin recruitment."}),l.jsx("li",{children:"Schedule communication campaigns for optimal timing."}),l.jsx("li",{children:"Set up project milestones and task assignments."}),l.jsx("li",{children:"Begin vendor outreach and facility reservations."})]})]})]})},OG=()=>{const[e,t]=R.useState(0),[r,n]=R.useState(!1),[a,i]=R.useState(null),[o,s]=R.useState([]);mr();const[c,u]=R.useState({title:"Teacher appreciation - backend test",description:"Teacher appreciation event honoring the teachers each day for 5 days with small tokens like a coffee bar day or lunch catered , etc",event_date:"2025-07-07",start_time:"09:00",end_time:"15:00",location:"School Campus",expected_attendance:100,estimated_budget:2e3,category:"celebration"}),[d,f]=R.useState({eventType:"Teacher Appreciation",primaryGoal:"School Support",targetAudience:"Teachers & Staff",additionalGoals:["Build community relationships"],availableResources:["Dedicated parent volunteers","Local business partnerships","Previous event materials"],constraints:["Time constraints"],pastEventExperiences:"Previous TA experience"}),[p,h]=R.useState({createBudget:!0,generateTimeline:!0,setupCommunications:!0,createVolunteerRoles:!0,planMaterials:!0,scheduleReminders:!0,trackProgress:!0,generateReports:!0}),v=(w,A)=>f(O=>({...O,[w]:A})),g=(w,A,O)=>{f(E=>{const C=E[w]||[],D=O?[...C,A]:C.filter(k=>k!==A);return{...E,[w]:D}})},j=(w,A)=>g("additionalGoals",w,A),x=(w,A)=>g("availableResources",w,A),b=(w,A)=>g("constraints",w,A),N=async()=>{n(!0),t(2),s([{text:"Initializing workflow generation...",status:"in-progress",icon:Rp}]);try{console.log("Submitting to API:",{eventData:c,stellaContext:d,moduleIntegrations:p});const w=await po.generateComprehensiveWorkflow(c,d,p);if(w&&w.data&&w.data.success){i(w.data);const A=w.data.components_created||{},O=[{text:"Event created",status:"complete",icon:Kn},{text:"Timeline generation",status:A.timeline?"complete":"skipped",icon:A.timeline?Kn:_a},{text:"Budget planning",status:A.budget?"complete":"skipped",icon:A.budget?Kn:_a},{text:"Communications setup",status:A.communications?"complete":"skipped",icon:A.communications?Kn:_a},{text:"Volunteer roles",status:A.volunteers?"complete":"skipped",icon:A.volunteers?Kn:_a},{text:"Materials & Resources",status:A.materials?"complete":"skipped",icon:A.materials?Kn:_a},{text:"Reminders & Notifications",status:A.reminders?"complete":"skipped",icon:A.reminders?Kn:_a},{text:"Workflow ready!",status:"complete",icon:EP}];s(O),t(3),ot.success("ðŸŽ‰ Comprehensive workflow created successfully!")}else{const A=(w==null?void 0:w.error)||"Workflow generation failed: An unknown error occurred.";ot.error(A),i(null),t(3)}}catch(w){const A=w.message||"An unexpected error occurred.";ot.error(`Error: ${A}`),i(null),t(3)}finally{n(!1)}},_=[{name:"Event Details",component:l.jsx(NG,{eventData:c,setEventData:u})},{name:"Stella Context",component:l.jsx(SG,{stellaContext:d,handleStellaContextChange:v,handleAdditionalGoalsChange:j,handleResourcesChange:x,handleConstraintsChange:b})},{name:"Generation",component:l.jsx(_G,{progressUpdates:o})},{name:"Results",component:l.jsx(AG,{workflowData:a})}];return l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"w-full max-w-4xl bg-white rounded-2xl shadow-xl p-8 space-y-8",children:[l.jsx("nav",{"aria-label":"Progress",children:l.jsx("ol",{role:"list",className:"space-y-4 md:flex md:space-x-8 md:space-y-0",children:_.slice(0,2).map((w,A)=>l.jsx("li",{className:"md:flex-1",children:e>A?l.jsxs("a",{href:"#",className:"group flex w-full flex-col border-l-4 border-purple-600 py-2 pl-4 transition-colors hover:border-purple-800 md:border-l-0 md:border-t-4 md:pb-0 md:pl-0 md:pt-4",children:[l.jsx("span",{className:"text-sm font-medium text-purple-600 transition-colors group-hover:text-purple-800",children:`Step ${A+1}`}),l.jsx("span",{className:"text-sm font-medium",children:w.name})]}):e===A?l.jsxs("a",{href:"#",className:"flex w-full flex-col border-l-4 border-purple-600 py-2 pl-4 md:border-l-0 md:border-t-4 md:pb-0 md:pl-0 md:pt-4","aria-current":"step",children:[l.jsx("span",{className:"text-sm font-medium text-purple-600",children:`Step ${A+1}`}),l.jsx("span",{className:"text-sm font-medium",children:w.name})]}):l.jsxs("a",{href:"#",className:"group flex w-full flex-col border-l-4 border-gray-200 py-2 pl-4 transition-colors hover:border-gray-300 md:border-l-0 md:border-t-4 md:pb-0 md:pl-0 md:pt-4",children:[l.jsx("span",{className:"text-sm font-medium text-gray-500 transition-colors group-hover:text-gray-700",children:`Step ${A+1}`}),l.jsx("span",{className:"text-sm font-medium",children:w.name})]})},w.name))})}),l.jsx("div",{children:_[e].component}),l.jsxs("div",{className:"flex justify-between pt-4 border-t",children:[l.jsx("button",{onClick:()=>t(w=>Math.max(0,w-1)),disabled:e===0||r||e>1,className:"px-6 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-100 disabled:opacity-50",children:"Back"}),e<1&&l.jsx("button",{onClick:()=>t(w=>w+1),className:"px-6 py-2 bg-purple-600 text-white rounded-md text-sm font-medium hover:bg-purple-700",children:"Next"}),e===1&&l.jsxs("button",{onClick:N,disabled:r,className:"px-6 py-2 bg-green-600 text-white rounded-md text-sm font-medium hover:bg-green-700 disabled:opacity-50 flex items-center",children:[r?"Generating...":"Create Workflow",!r&&l.jsx(wr,{className:"w-4 h-4 ml-2"})]})]})]})})},PG=()=>{const{eventId:e}=Es(),t=mr(),[r,n]=R.useState(null),[a,i]=R.useState(null),[o,s]=R.useState(null),[c,u]=R.useState("overview"),[d,f]=R.useState(!0);if(R.useEffect(()=>{e&&(async()=>{try{const{data:{session:b}}=await We.auth.getSession();if(b!=null&&b.user){const{data:N}=await We.from("profiles").select("*").eq("id",b.user.id).single();s(N);const _=await a6.getEvent(e);if(_.data){n(_.data);const w=await po.analyzeEventWorkflow(_.data,N.org_id);i(w)}}}catch(b){console.error("Error fetching event and workflow:",b),ot.error("Failed to load event workflow")}finally{f(!1)}})()},[e]),d)return l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-600 border-t-transparent"})});if(!r||!a)return l.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-8 text-center",children:[l.jsx(YN,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Event Not Found"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"The event workflow could not be loaded."}),l.jsx("button",{onClick:()=>t("/events"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Back to Events"})]});const p=()=>{var x,b,N,_,w,A,O,E;return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-6",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:r.title}),l.jsx("p",{className:"text-gray-600 mb-4",children:r.description}),l.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-600",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(ri,{className:"w-4 h-4"}),l.jsx("span",{children:new Date(r.event_date).toLocaleDateString()})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(ka,{className:"w-4 h-4"}),l.jsxs("span",{children:[r.expected_attendance||"TBD"," expected"]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Za,{className:"w-4 h-4"}),l.jsxs("span",{children:["$",r.estimated_budget||0," budget"]})]})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(wr,{className:"w-5 h-5 text-purple-600"}),l.jsx("span",{className:"text-sm font-medium text-purple-700",children:"Stella Workflow"})]})]})}),a.eventComplexity&&l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Event Complexity Analysis"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[l.jsx("div",{className:`text-2xl font-bold mb-1 ${a.eventComplexity.complexity==="complex"?"text-red-600":a.eventComplexity.complexity==="moderate"?"text-yellow-600":"text-green-600"}`,children:a.eventComplexity.complexity.toUpperCase()}),l.jsx("div",{className:"text-sm text-gray-600",children:"Complexity Level"})]}),l.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[l.jsxs("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:[a.eventComplexity.score,"/10"]}),l.jsx("div",{className:"text-sm text-gray-600",children:"Complexity Score"})]}),l.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[l.jsx(Mu,{className:"w-8 h-8 text-purple-600 mx-auto mb-2"}),l.jsxs("div",{className:"text-sm text-gray-600",children:[((x=a.workflowPlan)==null?void 0:x.recommendedTimeline)||"6-8 weeks"," Timeline"]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-4 text-center",children:[l.jsx(Wy,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),l.jsx("div",{className:"text-lg font-semibold text-gray-900",children:((N=(b=a.workflowPlan)==null?void 0:b.keyMilestones)==null?void 0:N.length)||0}),l.jsx("div",{className:"text-sm text-gray-600",children:"Milestones"})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-4 text-center",children:[l.jsx(ka,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),l.jsx("div",{className:"text-lg font-semibold text-gray-900",children:((w=(_=a.workflowPlan)==null?void 0:_.volunteerNeeds)==null?void 0:w.totalVolunteers)||0}),l.jsx("div",{className:"text-sm text-gray-600",children:"Volunteers Needed"})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-4 text-center",children:[l.jsx(lo,{className:"w-8 h-8 text-purple-600 mx-auto mb-2"}),l.jsx("div",{className:"text-lg font-semibold text-gray-900",children:Object.keys(((A=a.workflowPlan)==null?void 0:A.communicationPlan)||{}).length}),l.jsx("div",{className:"text-sm text-gray-600",children:"Communication Phases"})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-4 text-center",children:[l.jsx(Za,{className:"w-8 h-8 text-yellow-600 mx-auto mb-2"}),l.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["$",((E=(O=a.workflowPlan)==null?void 0:O.budgetRecommendations)==null?void 0:E.suggestedBudget)||r.estimated_budget||0]}),l.jsx("div",{className:"text-sm text-gray-600",children:"Recommended Budget"})]})]})]})},h=()=>{var x;return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Project Timeline"}),l.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[l.jsx(s1,{className:"w-4 h-4"}),l.jsx("span",{children:"Add Milestone"})]})]}),(x=a.workflowPlan)!=null&&x.keyMilestones?l.jsx("div",{className:"space-y-4",children:a.workflowPlan.keyMilestones.map((b,N)=>l.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex items-start space-x-4",children:[l.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-bold ${N===0?"bg-green-600":"bg-blue-600"}`,children:b.week}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:b.milestone}),l.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:["Week ",b.week," milestone"]}),b.tasks&&l.jsx("ul",{className:"space-y-1",children:b.tasks.map((_,w)=>l.jsxs("li",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[l.jsx(Kn,{className:"w-4 h-4 text-green-500"}),l.jsx("span",{children:_})]},w))})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600",children:l.jsx(_a,{className:"w-4 h-4"})}),l.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600",children:l.jsx(Il,{className:"w-4 h-4"})})]})]})},N))}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx(Mu,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500",children:"No timeline generated yet"})]})]})},v=()=>{var x;return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Budget Planning"}),l.jsxs("button",{onClick:()=>t("/budget/create"),className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[l.jsx(s1,{className:"w-4 h-4"}),l.jsx("span",{children:"Create Budget"})]})]}),(x=a.workflowPlan)!=null&&x.budgetRecommendations?l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[l.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Recommended Budget"}),l.jsxs("div",{className:"text-3xl font-bold text-green-600 mb-2",children:["$",a.workflowPlan.budgetRecommendations.suggestedBudget]}),l.jsx("p",{className:"text-sm text-gray-600",children:"Total recommended amount"})]}),a.workflowPlan.budgetRecommendations.breakdown&&l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[l.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Budget Breakdown"}),l.jsx("div",{className:"space-y-3",children:Object.entries(a.workflowPlan.budgetRecommendations.breakdown).map(([b,N])=>l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"capitalize text-gray-700",children:b}),l.jsxs("span",{className:"font-medium text-gray-900",children:["$",N]})]},b))})]})]}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx(Za,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500",children:"No budget recommendations generated yet"})]})]})},g=()=>{var x;return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Communication Campaign"}),l.jsxs("button",{onClick:()=>t("/communications/compose"),className:"flex items-center space-x-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:[l.jsx(lo,{className:"w-4 h-4"}),l.jsx("span",{children:"Create Campaign"})]})]}),(x=a.workflowPlan)!=null&&x.communicationPlan?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.entries(a.workflowPlan.communicationPlan).map(([b,N])=>l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[l.jsx(lo,{className:"w-5 h-5 text-purple-600"}),l.jsx("h4",{className:"font-semibold text-gray-900 capitalize",children:b.replace(/([A-Z])/g," $1")})]}),l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:N}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-md text-sm hover:bg-purple-200",children:"Create Email"}),l.jsx("button",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-md text-sm hover:bg-blue-200",children:"Schedule SMS"})]})]},b))}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx(lo,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500",children:"No communication plan generated yet"})]})]})},j=[{id:"overview",label:"Overview",icon:Rp},{id:"timeline",label:"Timeline",icon:Mu},{id:"budget",label:"Budget",icon:Za},{id:"communications",label:"Communications",icon:lo}];return l.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-8",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Event Workflow"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Comprehensive event management powered by Stella AI"})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("button",{onClick:()=>t(`/events/${e}`),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"View Event"}),l.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center space-x-2",children:[l.jsx(KN,{className:"w-4 h-4"}),l.jsx("span",{children:"Export Workflow"})]})]})]}),l.jsx("div",{className:"border-b border-gray-200 mb-8",children:l.jsx("nav",{className:"-mb-px flex space-x-8",children:j.map(x=>{const b=x.icon;return l.jsxs("button",{onClick:()=>u(x.id),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ${c===x.id?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[l.jsx(b,{className:"w-4 h-4"}),l.jsx("span",{children:x.label})]},x.id)})})}),l.jsxs("div",{children:[c==="overview"&&l.jsx(p,{}),c==="timeline"&&l.jsx(h,{}),c==="budget"&&l.jsx(v,{}),c==="communications"&&l.jsx(g,{})]})]})};function EG(){const[e,t]=R.useState(null),[r,n]=R.useState(""),a=mr(),{id:i}=Es();R.useEffect(()=>{async function c(){const{data:u,error:d}=await We.from("events").select("*").eq("id",i).single();d?(n("Failed to load event."),console.error(d)):t(u)}c()},[i]);const o=c=>{const{name:u,value:d,type:f,checked:p}=c.target;t(h=>({...h,[u]:f==="checkbox"?p:d}))},s=async c=>{c.preventDefault();const{error:u}=await We.from("events").update({title:e.title,event_date:e.event_date,category:e.category,school_level:e.school_level,share_public:e.share_public}).eq("id",i);u?(n("Update failed."),console.error(u)):a("/events")};return e?l.jsxs("div",{className:"max-w-xl mx-auto mt-8 p-6 bg-white shadow rounded",children:[l.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Edit Event"}),r&&l.jsx("p",{className:"text-red-500 mb-2",children:r}),l.jsxs("form",{onSubmit:s,className:"space-y-4",children:[l.jsx("input",{type:"text",name:"title",value:e.title,onChange:o,className:"w-full border p-2 rounded",required:!0}),l.jsx("input",{type:"date",name:"event_date",value:e.event_date,onChange:o,className:"w-full border p-2 rounded",required:!0}),l.jsxs("select",{name:"category",value:e.category,onChange:o,className:"w-full border p-2 rounded",required:!0,children:[l.jsx("option",{value:"Fundraiser",children:"Fundraiser"}),l.jsx("option",{value:"Meeting",children:"Meeting"}),l.jsx("option",{value:"Celebration",children:"Celebration"}),l.jsx("option",{value:"Other",children:"Other"})]}),l.jsxs("select",{name:"school_level",value:e.school_level,onChange:o,className:"w-full border p-2 rounded",required:!0,children:[l.jsx("option",{value:"Elementary",children:"Elementary"}),l.jsx("option",{value:"Middle",children:"Middle"}),l.jsx("option",{value:"High",children:"High"})]}),l.jsxs("label",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",name:"share_public",checked:e.share_public,onChange:o}),l.jsx("span",{children:"Share Publicly"})]}),l.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700",children:"Save Changes"})]})]}):l.jsx("p",{className:"p-4",children:"Loading event..."})}const kG={"en-US":Db},TG=rA({format:um,startOfWeek:js,getDay:sA,locales:kG});function CG(){const[e,t]=R.useState([]);return R.useEffect(()=>{async function r(){var c,u;const{data:{user:n},error:a}=await We.auth.getUser();if(a||!n){console.error("User error:",a);return}const i=((c=n==null?void 0:n.user_metadata)==null?void 0:c.org_id)||((u=n==null?void 0:n.app_metadata)==null?void 0:u.org_id);if(!i){console.error("Missing org_id in user metadata.");return}const{data:o,error:s}=await We.from("events").select("*").eq("org_id",i);if(s)console.error("Error loading events:",s);else{const d=o.map(f=>({id:f.id,title:f.title,start:new Date(f.event_date),end:new Date(f.event_date)}));t(d)}}r()},[]),l.jsxs("div",{className:"p-6 max-w-5xl mx-auto",children:[l.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Event Calendar"}),l.jsx(tA,{localizer:TG,events:e,startAccessor:"start",endAccessor:"end",style:{height:600}})]})}const bw=[{key:"overview",label:"Overview"},{key:"budget",label:"Budget"},{key:"communications",label:"Communications"},{key:"fundraising",label:"Fundraising"},{key:"volunteers",label:"Volunteers"},{key:"files",label:"Files/Docs"}],xw=["Review your volunteer assignments to ensure all roles are filled.","Schedule a reminder email 3 days before the event for maximum turnout.","Check your budget for unallocated funds that could enhance the event experience."],ww="bg-white bg-opacity-80 rounded-2xl shadow-lg border border-purple-100",LG=()=>{const{eventId:e}=Es(),t={overview:R.useRef(null),budget:R.useRef(null),communications:R.useRef(null),fundraising:R.useRef(null),volunteers:R.useRef(null),files:R.useRef(null)},[r,n]=R.useState("overview"),[a,i]=R.useState(!1),[o,s]=R.useState(null),[c,u]=R.useState(!0),[d,f]=R.useState(null),[p,h]=R.useState([]),[v,g]=R.useState(!0),[j,x]=R.useState(null),[b,N]=R.useState([]),[_,w]=R.useState(!0),[A,O]=R.useState(null),[E,C]=R.useState([]),[D,k]=R.useState(!0),[T,$]=R.useState(null);R.useEffect(()=>{async function F(){u(!0),f(null);try{const{data:B,error:X}=await We.from("events").select("*").eq("id",e).single();X?f("Event not found."):s(B)}catch{f("Error loading event.")}finally{u(!1)}}e&&F()},[e]),R.useEffect(()=>{async function F(){if(e){g(!0),x(null);try{const{data:B,error:X}=await We.from("expense_submissions").select("*").eq("event_id",e).order("expense_date",{ascending:!1});X?x("Could not load expenses."):h(B||[])}catch{x("Error loading expenses.")}finally{g(!1)}}}F()},[e]),R.useEffect(()=>{async function F(){if(e){w(!0),O(null);try{const[B,X,Y]=await Promise.all([We.from("email_campaigns").select("*").eq("org_id",o==null?void 0:o.org_id).order("created_at",{ascending:!1}),We.from("sms_campaigns").select("*").eq("org_id",o==null?void 0:o.org_id).order("created_at",{ascending:!1}),We.from("social_posts").select("*").eq("org_id",o==null?void 0:o.org_id).order("created_at",{ascending:!1})]);if(B.error||X.error||Y.error)O("Could not load communications.");else{const Z=[...(B.data||[]).map(ae=>({...ae,type:"email",campaign_name:ae.subject})),...(X.data||[]).map(ae=>({...ae,type:"sms",campaign_name:ae.name})),...(Y.data||[]).map(ae=>{var M;return{...ae,type:"social",campaign_name:((M=ae.content)==null?void 0:M.substring(0,50))+"..."}})];N(Z)}}catch{O("Error loading communications.")}finally{w(!1)}}}F()},[e,o==null?void 0:o.org_id]),R.useEffect(()=>{async function F(){if(e){k(!0),$(null);try{const{data:B,error:X}=await We.from("fundraising_campaigns").select("*").eq("org_id",o==null?void 0:o.org_id).order("created_at",{ascending:!1});X?$("Could not load fundraising campaigns."):C(B||[])}catch{$("Error loading fundraising campaigns.")}finally{k(!1)}}}F()},[e,o==null?void 0:o.org_id]);const I=F=>{var B;(B=t[F].current)==null||B.scrollIntoView({behavior:"smooth",block:"start"})};R.useEffect(()=>{const F=()=>{const B=window.scrollY;let X="overview";for(const Y of bw){const Z=t[Y.key].current;Z&&Z.offsetTop-80<=B&&(X=Y.key)}n(X),i(B>300)};return window.addEventListener("scroll",F),()=>window.removeEventListener("scroll",F)},[]);const V=()=>{window.scrollTo({top:0,behavior:"smooth"})};return l.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8 flex flex-col lg:flex-row gap-8",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"sticky top-0 z-10 bg-white bg-opacity-90 pt-2 pb-1 mb-6 border-b flex gap-2",style:{backdropFilter:"blur(4px)"},children:bw.map(F=>l.jsx("button",{onClick:()=>I(F.key),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors ${r===F.key?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:F.label},F.key))}),l.jsxs("section",{ref:t.overview,id:"overview",className:"mb-12 scroll-mt-24",children:[l.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Event Overview"}),c?l.jsx("div",{className:"bg-white rounded-xl shadow p-6 text-gray-500",children:"Loading event..."}):d?l.jsx("div",{className:"bg-white rounded-xl shadow p-6 text-red-500",children:d}):o?l.jsxs("div",{className:"bg-white rounded-xl shadow p-6 mb-4",children:[l.jsxs("div",{className:"mb-2 flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:o.title}),l.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-700 capitalize",children:o.status})]}),l.jsx("div",{className:"text-gray-600 mb-2",children:o.description}),l.jsxs("div",{className:"flex flex-wrap gap-6 text-sm text-gray-500 mb-2",children:[l.jsxs("div",{children:[l.jsx("strong",{children:"Date:"})," ",o.event_date?new Date(o.event_date).toLocaleDateString():"N/A"]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Location:"})," ",o.location||"N/A"]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Progress:"})," ",o.progress?`${o.progress}%`:"N/A"]})]})]}):null,l.jsx("div",{className:"block lg:hidden mb-6",children:l.jsxs("div",{className:`${ww} p-6 min-h-[180px]`,children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("span",{className:"text-purple-600 text-xl",children:"âœ¨"}),l.jsx("span",{className:"font-bold text-lg text-purple-700",children:"Stella's Event Insights"})]}),l.jsx("ul",{className:"list-disc pl-5 text-purple-900 space-y-2",children:xw.map((F,B)=>l.jsx("li",{children:F},B))}),l.jsx("div",{className:"mt-4 text-xs text-purple-400",children:"Tips powered by Stella AI"})]})})]}),l.jsxs("section",{ref:t.budget,id:"budget",className:"mb-12 scroll-mt-24",children:[l.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Budget"}),v?l.jsx("div",{className:"bg-white rounded-xl shadow p-6 text-gray-500",children:"Loading expenses..."}):j?l.jsx("div",{className:"bg-white rounded-xl shadow p-6 text-red-500",children:j}):l.jsxs("div",{className:"bg-white rounded-xl shadow p-6",children:[l.jsxs("div",{className:"mb-4 flex flex-wrap gap-8 items-center",children:[l.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["Total Spent: ",l.jsxs("span",{className:"text-blue-700",children:["$",p.reduce((F,B)=>F+(parseFloat(B.amount)||0),0).toFixed(2)]})]}),l.jsxs("div",{className:"text-gray-600",children:[p.length," expense",p.length!==1?"s":""]})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full text-sm border",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-gray-50",children:[l.jsx("th",{className:"px-3 py-2 border-b text-left",children:"Date"}),l.jsx("th",{className:"px-3 py-2 border-b text-left",children:"Category"}),l.jsx("th",{className:"px-3 py-2 border-b text-left",children:"Vendor"}),l.jsx("th",{className:"px-3 py-2 border-b text-right",children:"Amount"}),l.jsx("th",{className:"px-3 py-2 border-b text-left",children:"Status"}),l.jsx("th",{className:"px-3 py-2 border-b text-left",children:"Description"})]})}),l.jsx("tbody",{children:p.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"text-center py-4 text-gray-400",children:"No expenses submitted for this event."})}):p.map(F=>l.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[l.jsx("td",{className:"px-3 py-2",children:F.expense_date?new Date(F.expense_date).toLocaleDateString():""}),l.jsx("td",{className:"px-3 py-2",children:F.category_id||"-"}),l.jsx("td",{className:"px-3 py-2",children:F.vendor_name||"-"}),l.jsxs("td",{className:"px-3 py-2 text-right",children:["$",parseFloat(F.amount).toFixed(2)]}),l.jsx("td",{className:"px-3 py-2 capitalize",children:F.status}),l.jsx("td",{className:"px-3 py-2",children:F.description||"-"})]},F.id))})]})})]})]}),l.jsxs("section",{ref:t.communications,id:"communications",className:"mb-12 scroll-mt-24",children:[l.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Communications"}),_?l.jsx("div",{className:"bg-white rounded-xl shadow p-6 text-gray-500",children:"Loading communications..."}):A?l.jsx("div",{className:"bg-white rounded-xl shadow p-6 text-red-500",children:A}):l.jsxs("div",{className:"bg-white rounded-xl shadow p-6",children:[l.jsxs("div",{className:"mb-4 flex flex-wrap gap-8 items-center",children:[l.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["Total Campaigns: ",l.jsx("span",{className:"text-blue-700",children:b.length})]}),l.jsxs("div",{className:"text-gray-600",children:[b.filter(F=>F.type==="email").length," Email, "," ",b.filter(F=>F.type==="sms").length," SMS, "," ",b.filter(F=>F.type==="social").length," Social"]})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full text-sm border",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-gray-50",children:[l.jsx("th",{className:"px-3 py-2 border-b text-left",children:"Type"}),l.jsx("th",{className:"px-3 py-2 border-b text-left",children:"Campaign"}),l.jsx("th",{className:"px-3 py-2 border-b text-left",children:"Status"}),l.jsx("th",{className:"px-3 py-2 border-b text-left",children:"Date"}),l.jsx("th",{className:"px-3 py-2 border-b text-right",children:"Recipients"})]})}),l.jsx("tbody",{children:b.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:5,className:"text-center py-4 text-gray-400",children:"No communications sent for this event."})}):b.map(F=>l.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[l.jsx("td",{className:"px-3 py-2",children:l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${F.type==="email"?"bg-blue-100 text-blue-800":F.type==="sms"?"bg-green-100 text-green-800":"bg-purple-100 text-purple-800"}`,children:F.type.toUpperCase()})}),l.jsx("td",{className:"px-3 py-2",children:F.campaign_name||"-"}),l.jsx("td",{className:"px-3 py-2 capitalize",children:F.status}),l.jsx("td",{className:"px-3 py-2",children:F.sent_at?new Date(F.sent_at).toLocaleDateString():F.scheduled_for?new Date(F.scheduled_for).toLocaleDateString():new Date(F.created_at).toLocaleDateString()}),l.jsx("td",{className:"px-3 py-2 text-right",children:F.recipient_count||F.sent_count||"-"})]},F.id))})]})})]})]}),l.jsxs("section",{ref:t.fundraising,id:"fundraising",className:"mb-12 scroll-mt-24",children:[l.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Fundraising"}),D?l.jsx("div",{className:"bg-white rounded-xl shadow p-6 text-gray-500",children:"Loading fundraising campaigns..."}):T?l.jsx("div",{className:"bg-white rounded-xl shadow p-6 text-red-500",children:T}):l.jsxs("div",{className:"bg-white rounded-xl shadow p-6",children:[l.jsxs("div",{className:"mb-4 flex flex-wrap gap-8 items-center",children:[l.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["Total Raised: ",l.jsxs("span",{className:"text-green-700",children:["$",E.reduce((F,B)=>F+(parseFloat(B.raised_amount)||0),0).toFixed(2)]})]}),l.jsxs("div",{className:"text-gray-600",children:[E.length," campaign",E.length!==1?"s":""]})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full text-sm border",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-gray-50",children:[l.jsx("th",{className:"px-3 py-2 border-b text-left",children:"Campaign"}),l.jsx("th",{className:"px-3 py-2 border-b text-left",children:"Type"}),l.jsx("th",{className:"px-3 py-2 border-b text-right",children:"Goal"}),l.jsx("th",{className:"px-3 py-2 border-b text-right",children:"Raised"}),l.jsx("th",{className:"px-3 py-2 border-b text-center",children:"Progress"}),l.jsx("th",{className:"px-3 py-2 border-b text-left",children:"Status"}),l.jsx("th",{className:"px-3 py-2 border-b text-left",children:"Dates"})]})}),l.jsx("tbody",{children:E.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:7,className:"text-center py-4 text-gray-400",children:"No fundraising campaigns for this event."})}):E.map(F=>{const B=F.goal_amount>0?F.raised_amount/F.goal_amount*100:0;return l.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[l.jsx("td",{className:"px-3 py-2 font-medium",children:F.name}),l.jsx("td",{className:"px-3 py-2 capitalize",children:F.campaign_type||"-"}),l.jsxs("td",{className:"px-3 py-2 text-right",children:["$",parseFloat(F.goal_amount).toFixed(2)]}),l.jsxs("td",{className:"px-3 py-2 text-right",children:["$",parseFloat(F.raised_amount).toFixed(2)]}),l.jsx("td",{className:"px-3 py-2",children:l.jsxs("div",{className:"flex items-center justify-center",children:[l.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2 mr-2",children:l.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${Math.min(B,100)}%`}})}),l.jsxs("span",{className:"text-xs text-gray-600",children:[B.toFixed(0),"%"]})]})}),l.jsx("td",{className:"px-3 py-2",children:l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${F.status==="active"?"bg-green-100 text-green-800":F.status==="completed"?"bg-blue-100 text-blue-800":F.status==="planning"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:F.status})}),l.jsxs("td",{className:"px-3 py-2 text-xs",children:[F.start_date?new Date(F.start_date).toLocaleDateString():""," - "," ",F.end_date?new Date(F.end_date).toLocaleDateString():""]})]},F.id)})})]})})]})]}),l.jsxs("section",{ref:t.volunteers,id:"volunteers",className:"mb-12 scroll-mt-24",children:[l.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Volunteers"}),l.jsx("div",{className:"bg-white rounded-xl shadow p-6 text-gray-500",children:"Volunteer assignments and signups coming soon."})]}),l.jsxs("section",{ref:t.files,id:"files",className:"mb-12 scroll-mt-24",children:[l.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Files & Documents"}),l.jsx("div",{className:"bg-white rounded-xl shadow p-6 text-gray-500",children:"Linked files, images, and forms coming soon."})]})]}),l.jsx("aside",{className:"hidden lg:block w-80 flex-shrink-0",children:l.jsxs("div",{className:`${ww} p-6 min-h-[220px] sticky top-24`,children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("span",{className:"text-purple-600 text-xl",children:"âœ¨"}),l.jsx("span",{className:"font-bold text-lg text-purple-700",children:"Stella's Event Insights"})]}),l.jsx("ul",{className:"list-disc pl-5 text-purple-900 space-y-2",children:xw.map((F,B)=>l.jsx("li",{children:F},B))}),l.jsx("div",{className:"mt-4 text-xs text-purple-400",children:"Tips powered by Stella AI"})]})}),a&&l.jsx("button",{onClick:V,className:"fixed bottom-8 right-8 z-50 bg-purple-500 text-white rounded-full shadow-lg p-3 hover:bg-purple-600 transition","aria-label":"Back to top",children:l.jsx(zv,{className:"w-6 h-6"})})]})};function Bb({title:e,loading:t=!1,error:r=null,children:n,className:a=""}){return t?l.jsx(Gy,{size:"lg"}):r?l.jsx("div",{className:"p-4 text-center text-red-600",children:r}):l.jsxs("div",{className:`p-6 ${a}`,children:[e&&l.jsx("div",{className:"mb-6",children:l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e})}),n||l.jsx(Hy,{})]})}function xn({children:e,variant:t="default",className:r="",disabled:n=!1,fullWidth:a=!1,...i}){let o="inline-flex items-center justify-center px-4 py-2 rounded font-medium focus:outline-none transition",s="";switch(t){case"outline":s="border border-blue-600 text-blue-600 bg-white hover:bg-blue-50";break;case"danger":s="bg-red-600 text-white hover:bg-red-700";break;default:s="bg-blue-600 text-white hover:bg-blue-700"}let c=n?"opacity-50 cursor-not-allowed":"",u=a?"w-full":"";return l.jsx("button",{className:`${o} ${s} ${c} ${u} ${r}`,disabled:n,...i,children:e})}function Ln({title:e,description:t,children:r,className:n="",...a}){return l.jsxs("div",{className:`
        bg-white rounded-lg shadow-md overflow-hidden
        ${n}
      `,...a,children:[(e||t)&&l.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[e&&l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e}),t&&l.jsx("p",{className:"mt-1 text-sm text-gray-600",children:t})]}),l.jsx("div",{className:"p-6",children:r})]})}function ml({label:e,error:t,as:r="input",className:n="",...a}){const i=r==="textarea"?"textarea":"input";return l.jsxs("div",{className:"space-y-1",children:[e&&l.jsx("label",{htmlFor:a.id,className:"block text-sm font-medium text-gray-700",children:e}),l.jsx(i,{className:`block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed ${t?"border-red-300 focus:border-red-500 focus:ring-red-500":""} ${n}`,...a}),t&&l.jsx("p",{className:"text-sm text-red-600",children:t})]})}function jw({label:e,error:t,options:r=[],className:n="",...a}){return l.jsxs("div",{className:"space-y-1",children:[e&&l.jsx("label",{htmlFor:a.id,className:"block text-sm font-medium text-gray-700",children:e}),l.jsx("select",{className:`
          block w-full rounded-lg
          border-gray-300 shadow-sm
          focus:border-blue-500 focus:ring-blue-500
          disabled:bg-gray-100 disabled:cursor-not-allowed
          ${t?"border-red-300 focus:border-red-500 focus:ring-red-500":""}
          ${n}
        `,...a,children:r.map(i=>l.jsx("option",{value:i.value,children:i.label},i.value))}),t&&l.jsx("p",{className:"text-sm text-red-600",children:t})]})}function MG(e){return e==null}var $G=MG;const ht=wt($G);var DG=Fi,IG=rn,RG=La,FG="[object String]";function BG(e){return typeof e=="string"||!IG(e)&&RG(e)&&DG(e)==FG}var zG=BG;const Ns=wt(zG);var EA={exports:{}},Mt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zb=Symbol.for("react.element"),qb=Symbol.for("react.portal"),pm=Symbol.for("react.fragment"),mm=Symbol.for("react.strict_mode"),gm=Symbol.for("react.profiler"),vm=Symbol.for("react.provider"),ym=Symbol.for("react.context"),qG=Symbol.for("react.server_context"),bm=Symbol.for("react.forward_ref"),xm=Symbol.for("react.suspense"),wm=Symbol.for("react.suspense_list"),jm=Symbol.for("react.memo"),Nm=Symbol.for("react.lazy"),UG=Symbol.for("react.offscreen"),kA;kA=Symbol.for("react.module.reference");function oa(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case zb:switch(e=e.type,e){case pm:case gm:case mm:case xm:case wm:return e;default:switch(e=e&&e.$$typeof,e){case qG:case ym:case bm:case Nm:case jm:case vm:return e;default:return t}}case qb:return t}}}Mt.ContextConsumer=ym;Mt.ContextProvider=vm;Mt.Element=zb;Mt.ForwardRef=bm;Mt.Fragment=pm;Mt.Lazy=Nm;Mt.Memo=jm;Mt.Portal=qb;Mt.Profiler=gm;Mt.StrictMode=mm;Mt.Suspense=xm;Mt.SuspenseList=wm;Mt.isAsyncMode=function(){return!1};Mt.isConcurrentMode=function(){return!1};Mt.isContextConsumer=function(e){return oa(e)===ym};Mt.isContextProvider=function(e){return oa(e)===vm};Mt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===zb};Mt.isForwardRef=function(e){return oa(e)===bm};Mt.isFragment=function(e){return oa(e)===pm};Mt.isLazy=function(e){return oa(e)===Nm};Mt.isMemo=function(e){return oa(e)===jm};Mt.isPortal=function(e){return oa(e)===qb};Mt.isProfiler=function(e){return oa(e)===gm};Mt.isStrictMode=function(e){return oa(e)===mm};Mt.isSuspense=function(e){return oa(e)===xm};Mt.isSuspenseList=function(e){return oa(e)===wm};Mt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===pm||e===gm||e===mm||e===xm||e===wm||e===UG||typeof e=="object"&&e!==null&&(e.$$typeof===Nm||e.$$typeof===jm||e.$$typeof===vm||e.$$typeof===ym||e.$$typeof===bm||e.$$typeof===kA||e.getModuleId!==void 0)};Mt.typeOf=oa;EA.exports=Mt;var WG=EA.exports,HG=Fi,GG=La,VG="[object Number]";function YG(e){return typeof e=="number"||GG(e)&&HG(e)==VG}var TA=YG;const KG=wt(TA);var XG=TA;function JG(e){return XG(e)&&e!=+e}var ZG=JG;const Cc=wt(ZG);var un=function(t){return t===0?0:t>0?1:-1},ts=function(t){return Ns(t)&&t.indexOf("%")===t.length-1},Le=function(t){return KG(t)&&!Cc(t)},Or=function(t){return Le(t)||Ns(t)},QG=0,Lc=function(t){var r=++QG;return"".concat(t||"").concat(r)},dn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Le(t)&&!Ns(t))return n;var i;if(ts(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Cc(i)&&(i=n),a&&i>r&&(i=r),i},co=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},eV=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},bn=function(t,r){return Le(t)&&Le(r)?function(n){return t+n*(r-t)}:function(){return r}};function qh(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Dn(n,t))===r})}var tV=function(t,r){return Le(t)&&Le(r)?t-r:Ns(t)&&Ns(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Ll(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function x0(e){"@babel/helpers - typeof";return x0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x0(e)}var rV=["viewBox","children"],nV=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Nw=["points","pathLength"],mv={svg:rV,polygon:Nw,polyline:Nw},Ub=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Uh=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(R.isValidElement(t)&&(n=t.props),!xc(n))return null;var a={};return Object.keys(n).forEach(function(i){Ub.includes(i)&&(a[i]=r||function(o){return n[i](n,o)})}),a},aV=function(t,r,n){return function(a){return t(r,n,a),null}},Ss=function(t,r,n){if(!xc(t)||x0(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];Ub.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=aV(o,r,n))}),a},iV=["children"],oV=["children"];function Sw(e,t){if(e==null)return{};var r=sV(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sV(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function w0(e){"@babel/helpers - typeof";return w0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w0(e)}var _w={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ci=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},Aw=null,gv=null,Wb=function e(t){if(t===Aw&&Array.isArray(gv))return gv;var r=[];return R.Children.forEach(t,function(n){ht(n)||(WG.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),gv=r,Aw=t,r};function ea(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return Ci(a)}):n=[Ci(t)],Wb(e).forEach(function(a){var i=Dn(a,"type.displayName")||Dn(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function Cn(e,t){var r=ea(e,t);return r&&r[0]}var Ow=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!Le(n)||n<=0||!Le(a)||a<=0)},lV=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],cV=function(t){return t&&t.type&&Ns(t.type)&&lV.indexOf(t.type)>=0},uV=function(t){return t&&w0(t)==="object"&&"clipDot"in t},dV=function(t,r,n,a){var i,o=(i=mv==null?void 0:mv[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!nt(t)&&(a&&o.includes(r)||nV.includes(r))||n&&Ub.includes(r)},Xe=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(R.isValidElement(t)&&(a=t.props),!xc(a))return null;var i={};return Object.keys(a).forEach(function(o){var s;dV((s=a)===null||s===void 0?void 0:s[o],o,r,n)&&(i[o]=a[o])}),i},j0=function e(t,r){if(t===r)return!0;var n=R.Children.count(t);if(n!==R.Children.count(r))return!1;if(n===0)return!0;if(n===1)return Pw(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!Pw(i,o))return!1}return!0},Pw=function(t,r){if(ht(t)&&ht(r))return!0;if(!ht(t)&&!ht(r)){var n=t.props||{},a=n.children,i=Sw(n,iV),o=r.props||{},s=o.children,c=Sw(o,oV);return a&&s?Ll(i,c)&&j0(a,s):!a&&!s?Ll(i,c):!1}return!1},Ew=function(t,r){var n=[],a={};return Wb(t).forEach(function(i,o){if(cV(i))n.push(i);else if(i){var s=Ci(i.type),c=r[s]||{},u=c.handler,d=c.once;if(u&&(!d||!a[s])){var f=u(i,s,o);n.push(f),a[s]=!0}}}),n},fV=function(t){var r=t&&t.type;return r&&_w[r]?_w[r]:null},hV=function(t,r){return Wb(r).indexOf(t)},pV=["children","width","height","viewBox","className","style","title","desc"];function N0(){return N0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N0.apply(this,arguments)}function mV(e,t){if(e==null)return{};var r=gV(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gV(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function S0(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,o=e.style,s=e.title,c=e.desc,u=mV(e,pV),d=a||{width:r,height:n,x:0,y:0},f=gt("recharts-surface",i);return U.createElement("svg",N0({},Xe(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),U.createElement("title",null,s),U.createElement("desc",null,c),t)}var vV=["children","className"];function _0(){return _0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_0.apply(this,arguments)}function yV(e,t){if(e==null)return{};var r=bV(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bV(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Nt=U.forwardRef(function(e,t){var r=e.children,n=e.className,a=yV(e,vV),i=gt("recharts-layer",n);return U.createElement("g",_0({className:i},Xe(a,!0),{ref:t}),r)}),Ea=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]},xV=Jy;function wV(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:xV(e,t,r)}var jV=wV,NV="\\ud800-\\udfff",SV="\\u0300-\\u036f",_V="\\ufe20-\\ufe2f",AV="\\u20d0-\\u20ff",OV=SV+_V+AV,PV="\\ufe0e\\ufe0f",EV="\\u200d",kV=RegExp("["+EV+NV+OV+PV+"]");function TV(e){return kV.test(e)}var CA=TV;function CV(e){return e.split("")}var LV=CV,LA="\\ud800-\\udfff",MV="\\u0300-\\u036f",$V="\\ufe20-\\ufe2f",DV="\\u20d0-\\u20ff",IV=MV+$V+DV,RV="\\ufe0e\\ufe0f",FV="["+LA+"]",A0="["+IV+"]",O0="\\ud83c[\\udffb-\\udfff]",BV="(?:"+A0+"|"+O0+")",MA="[^"+LA+"]",$A="(?:\\ud83c[\\udde6-\\uddff]){2}",DA="[\\ud800-\\udbff][\\udc00-\\udfff]",zV="\\u200d",IA=BV+"?",RA="["+RV+"]?",qV="(?:"+zV+"(?:"+[MA,$A,DA].join("|")+")"+RA+IA+")*",UV=RA+IA+qV,WV="(?:"+[MA+A0+"?",A0,$A,DA,FV].join("|")+")",HV=RegExp(O0+"(?="+O0+")|"+WV+UV,"g");function GV(e){return e.match(HV)||[]}var VV=GV,YV=LV,KV=CA,XV=VV;function JV(e){return KV(e)?XV(e):YV(e)}var ZV=JV,QV=jV,eY=CA,tY=ZV,rY=h_;function nY(e){return function(t){t=rY(t);var r=eY(t)?tY(t):void 0,n=r?r[0]:t.charAt(0),a=r?QV(r,1).join(""):t.slice(1);return n[e]()+a}}var aY=nY,iY=aY,oY=iY("toUpperCase"),sY=oY;const Sm=wt(sY);function Gt(e){return function(){return e}}const FA=Math.cos,Wh=Math.sin,Ia=Math.sqrt,Hh=Math.PI,_m=2*Hh,P0=Math.PI,E0=2*P0,Xo=1e-6,lY=E0-Xo;function BA(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function cY(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return BA;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class uY{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?BA:cY(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,s=this._y1,c=n-t,u=a-r,d=o-t,f=s-r,p=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(p>Xo)if(!(Math.abs(f*c-u*d)>Xo)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let h=n-o,v=a-s,g=c*c+u*u,j=h*h+v*v,x=Math.sqrt(g),b=Math.sqrt(p),N=i*Math.tan((P0-Math.acos((g+p-j)/(2*x*b)))/2),_=N/b,w=N/x;Math.abs(_-1)>Xo&&this._append`L${t+_*d},${r+_*f}`,this._append`A${i},${i},0,0,${+(f*h>d*v)},${this._x1=t+w*c},${this._y1=r+w*u}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(a),c=n*Math.sin(a),u=t+s,d=r+c,f=1^o,p=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Xo||Math.abs(this._y1-d)>Xo)&&this._append`L${u},${d}`,n&&(p<0&&(p=p%E0+E0),p>lY?this._append`A${n},${n},0,1,${f},${t-s},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:p>Xo&&this._append`A${n},${n},0,${+(p>=P0)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Hb(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new uY(t)}function Gb(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function zA(e){this._context=e}zA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Am(e){return new zA(e)}function qA(e){return e[0]}function UA(e){return e[1]}function WA(e,t){var r=Gt(!0),n=null,a=Am,i=null,o=Hb(s);e=typeof e=="function"?e:e===void 0?qA:Gt(e),t=typeof t=="function"?t:t===void 0?UA:Gt(t);function s(c){var u,d=(c=Gb(c)).length,f,p=!1,h;for(n==null&&(i=a(h=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+e(f,u,c),+t(f,u,c));if(h)return i=null,h+""||null}return s.x=function(c){return arguments.length?(e=typeof c=="function"?c:Gt(+c),s):e},s.y=function(c){return arguments.length?(t=typeof c=="function"?c:Gt(+c),s):t},s.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Gt(!!c),s):r},s.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),s):a},s.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),s):n},s}function rh(e,t,r){var n=null,a=Gt(!0),i=null,o=Am,s=null,c=Hb(u);e=typeof e=="function"?e:e===void 0?qA:Gt(+e),t=typeof t=="function"?t:Gt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?UA:Gt(+r);function u(f){var p,h,v,g=(f=Gb(f)).length,j,x=!1,b,N=new Array(g),_=new Array(g);for(i==null&&(s=o(b=c())),p=0;p<=g;++p){if(!(p<g&&a(j=f[p],p,f))===x)if(x=!x)h=p,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),v=p-1;v>=h;--v)s.point(N[v],_[v]);s.lineEnd(),s.areaEnd()}x&&(N[p]=+e(j,p,f),_[p]=+t(j,p,f),s.point(n?+n(j,p,f):N[p],r?+r(j,p,f):_[p]))}if(b)return s=null,b+""||null}function d(){return WA().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Gt(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Gt(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Gt(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Gt(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Gt(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Gt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Gt(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(s=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=s=null:s=o(i=f),u):i},u}class HA{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function dY(e){return new HA(e,!0)}function fY(e){return new HA(e,!1)}const Vb={draw(e,t){const r=Ia(t/Hh);e.moveTo(r,0),e.arc(0,0,r,0,_m)}},hY={draw(e,t){const r=Ia(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},GA=Ia(1/3),pY=GA*2,mY={draw(e,t){const r=Ia(t/pY),n=r*GA;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},gY={draw(e,t){const r=Ia(t),n=-r/2;e.rect(n,n,r,r)}},vY=.8908130915292852,VA=Wh(Hh/10)/Wh(7*Hh/10),yY=Wh(_m/10)*VA,bY=-FA(_m/10)*VA,xY={draw(e,t){const r=Ia(t*vY),n=yY*r,a=bY*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=_m*i/5,s=FA(o),c=Wh(o);e.lineTo(c*r,-s*r),e.lineTo(s*n-c*a,c*n+s*a)}e.closePath()}},vv=Ia(3),wY={draw(e,t){const r=-Ia(t/(vv*3));e.moveTo(0,r*2),e.lineTo(-vv*r,-r),e.lineTo(vv*r,-r),e.closePath()}},Gn=-.5,Vn=Ia(3)/2,k0=1/Ia(12),jY=(k0/2+1)*3,NY={draw(e,t){const r=Ia(t/jY),n=r/2,a=r*k0,i=n,o=r*k0+r,s=-i,c=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(s,c),e.lineTo(Gn*n-Vn*a,Vn*n+Gn*a),e.lineTo(Gn*i-Vn*o,Vn*i+Gn*o),e.lineTo(Gn*s-Vn*c,Vn*s+Gn*c),e.lineTo(Gn*n+Vn*a,Gn*a-Vn*n),e.lineTo(Gn*i+Vn*o,Gn*o-Vn*i),e.lineTo(Gn*s+Vn*c,Gn*c-Vn*s),e.closePath()}};function SY(e,t){let r=null,n=Hb(a);e=typeof e=="function"?e:Gt(e||Vb),t=typeof t=="function"?t:Gt(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Gt(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Gt(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Gh(){}function Vh(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function YA(e){this._context=e}YA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Vh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Vh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function _Y(e){return new YA(e)}function KA(e){this._context=e}KA.prototype={areaStart:Gh,areaEnd:Gh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Vh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function AY(e){return new KA(e)}function XA(e){this._context=e}XA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Vh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function OY(e){return new XA(e)}function JA(e){this._context=e}JA.prototype={areaStart:Gh,areaEnd:Gh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function PY(e){return new JA(e)}function kw(e){return e<0?-1:1}function Tw(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),s=(i*a+o*n)/(n+a);return(kw(i)+kw(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(s))||0}function Cw(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function yv(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,s=(i-n)/3;e._context.bezierCurveTo(n+s,a+s*t,i-s,o-s*r,i,o)}function Yh(e){this._context=e}Yh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:yv(this,this._t0,Cw(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,yv(this,Cw(this,r=Tw(this,e,t)),r);break;default:yv(this,this._t0,r=Tw(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function ZA(e){this._context=new QA(e)}(ZA.prototype=Object.create(Yh.prototype)).point=function(e,t){Yh.prototype.point.call(this,t,e)};function QA(e){this._context=e}QA.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function EY(e){return new Yh(e)}function kY(e){return new ZA(e)}function e3(e){this._context=e}e3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Lw(e),a=Lw(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Lw(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function TY(e){return new e3(e)}function Om(e,t){this._context=e,this._t=t}Om.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function CY(e){return new Om(e,.5)}function LY(e){return new Om(e,0)}function MY(e){return new Om(e,1)}function Wl(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,s=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<s;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function T0(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function $Y(e,t){return e[t]}function DY(e){const t=[];return t.key=e,t}function IY(){var e=Gt([]),t=T0,r=Wl,n=$Y;function a(i){var o=Array.from(e.apply(this,arguments),DY),s,c=o.length,u=-1,d;for(const f of i)for(s=0,++u;s<c;++s)(o[s][u]=[0,+n(f,o[s].key,u,i)]).data=f;for(s=0,d=Gb(t(o));s<c;++s)o[d[s]].index=s;return r(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Gt(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Gt(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?T0:typeof i=="function"?i:Gt(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Wl,a):r},a}function RY(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}Wl(e,t)}}function FY(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,s=0;o<a;++o)s+=e[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}Wl(e,t)}}function BY(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var s=0,c=0,u=0;s<o;++s){for(var d=e[t[s]],f=d[n][1]||0,p=d[n-1][1]||0,h=(f-p)/2,v=0;v<s;++v){var g=e[t[v]],j=g[n][1]||0,x=g[n-1][1]||0;h+=j-x}c+=f,u+=h*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Wl(e,t)}}function sd(e){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sd(e)}var zY=["type","size","sizeType"];function C0(){return C0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},C0.apply(this,arguments)}function Mw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $w(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mw(Object(r),!0).forEach(function(n){qY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qY(e,t,r){return t=UY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UY(e){var t=WY(e,"string");return sd(t)=="symbol"?t:t+""}function WY(e,t){if(sd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HY(e,t){if(e==null)return{};var r=GY(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function GY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var t3={symbolCircle:Vb,symbolCross:hY,symbolDiamond:mY,symbolSquare:gY,symbolStar:xY,symbolTriangle:wY,symbolWye:NY},VY=Math.PI/180,YY=function(t){var r="symbol".concat(Sm(t));return t3[r]||Vb},KY=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*VY;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},XY=function(t,r){t3["symbol".concat(Sm(t))]=r},Yb=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,o=t.sizeType,s=o===void 0?"area":o,c=HY(t,zY),u=$w($w({},c),{},{type:n,size:i,sizeType:s}),d=function(){var j=YY(n),x=SY().type(j).size(KY(i,s,n));return x()},f=u.className,p=u.cx,h=u.cy,v=Xe(u,!0);return p===+p&&h===+h&&i===+i?U.createElement("path",C0({},v,{className:gt("recharts-symbols",f),transform:"translate(".concat(p,", ").concat(h,")"),d:d()})):null};Yb.registerSymbol=XY;function Hl(e){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hl(e)}function L0(){return L0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},L0.apply(this,arguments)}function Dw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function JY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dw(Object(r),!0).forEach(function(n){ld(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n3(n.key),n)}}function eK(e,t,r){return t&&QY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tK(e,t,r){return t=Kh(t),rK(e,r3()?Reflect.construct(t,r||[],Kh(e).constructor):t.apply(e,r))}function rK(e,t){if(t&&(Hl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nK(e)}function nK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function r3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r3=function(){return!!e})()}function Kh(e){return Kh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kh(e)}function aK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M0(e,t)}function M0(e,t){return M0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},M0(e,t)}function ld(e,t,r){return t=n3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n3(e){var t=iK(e,"string");return Hl(t)=="symbol"?t:t+""}function iK(e,t){if(Hl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Yn=32,Kb=function(e){function t(){return ZY(this,t),tK(this,t,arguments)}return aK(t,e),eK(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=Yn/2,o=Yn/6,s=Yn/3,c=n.inactive?a:n.color;if(n.type==="plainline")return U.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Yn,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return U.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(Yn,"M").concat(2*s,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return U.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Yn/8,"h").concat(Yn,"v").concat(Yn*3/4,"h").concat(-Yn,"z"),className:"recharts-legend-icon"});if(U.isValidElement(n.legendIcon)){var u=JY({},n);return delete u.legendIcon,U.cloneElement(n.legendIcon,u)}return U.createElement(Yb,{fill:c,cx:i,cy:i,size:Yn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,o=a.iconSize,s=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:Yn,height:Yn},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(h,v){var g=h.formatter||c,j=gt(ld(ld({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",h.inactive));if(h.type==="none")return null;var x=nt(h.value)?null:h.value;Ea(!nt(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=h.inactive?u:h.color;return U.createElement("li",L0({className:j,style:f,key:"legend-item-".concat(v)},Ss(n.props,h,v)),U.createElement(S0,{width:o,height:o,viewBox:d,style:p},n.renderIcon(h)),U.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},g?g(x,h,v):x))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,o=n.align;if(!a||!a.length)return null;var s={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return U.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(R.PureComponent);ld(Kb,"displayName","Legend");ld(Kb,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});function oK(e){return e!==e}var sK=oK;function lK(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var cK=lK,uK=s_,dK=sK,fK=cK;function hK(e,t,r){return t===t?fK(e,t,r):uK(e,dK,r)}var pK=hK,mK=pK;function gK(e,t){var r=e==null?0:e.length;return!!r&&mK(e,t,0)>-1}var vK=gK;function yK(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var bK=yK;function xK(){}var wK=xK,bv=n_,jK=wK,NK=mb,SK=1/0,_K=bv&&1/NK(new bv([,-0]))[1]==SK?function(e){return new bv(e)}:jK,AK=_K,OK=GS,PK=vK,EK=bK,kK=YS,TK=AK,CK=mb,LK=200;function MK(e,t,r){var n=-1,a=PK,i=e.length,o=!0,s=[],c=s;if(r)o=!1,a=EK;else if(i>=LK){var u=t?null:TK(e);if(u)return CK(u);o=!1,a=kK,c=new OK}else c=t?[]:s;e:for(;++n<i;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var p=c.length;p--;)if(c[p]===f)continue e;t&&c.push(f),s.push(d)}else a(c,f,r)||(c!==s&&c.push(f),s.push(d))}return s}var $K=MK,DK=Ma,IK=$K;function RK(e,t){return e&&e.length?IK(e,DK(t)):[]}var FK=RK;const Iw=wt(FK);function a3(e,t,r){return t===!0?Iw(e,r):nt(t)?Iw(e,t):e}function Gl(e){"@babel/helpers - typeof";return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gl(e)}var BK=["ref"];function Rw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Oi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rw(Object(r),!0).forEach(function(n){Pm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o3(n.key),n)}}function qK(e,t,r){return t&&Fw(e.prototype,t),r&&Fw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function UK(e,t,r){return t=Xh(t),WK(e,i3()?Reflect.construct(t,r||[],Xh(e).constructor):t.apply(e,r))}function WK(e,t){if(t&&(Gl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HK(e)}function HK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i3=function(){return!!e})()}function Xh(e){return Xh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xh(e)}function GK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$0(e,t)}function $0(e,t){return $0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},$0(e,t)}function Pm(e,t,r){return t=o3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o3(e){var t=VK(e,"string");return Gl(t)=="symbol"?t:t+""}function VK(e,t){if(Gl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function YK(e,t){if(e==null)return{};var r=KK(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function KK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function XK(e){return e.value}function JK(e,t){if(U.isValidElement(e))return U.cloneElement(e,t);if(typeof e=="function")return U.createElement(e,t);t.ref;var r=YK(t,BK);return U.createElement(Kb,r)}var Bw=1,cs=function(e){function t(){var r;zK(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=UK(this,t,[].concat(a)),Pm(r,"lastBoundingBox",{width:-1,height:-1}),r}return GK(t,e),qK(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>Bw||Math.abs(a.height-this.lastBoundingBox.height)>Bw)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Oi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,o=a.align,s=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,p;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var h=this.getBBoxSnapshot();f={left:((u||0)-h.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var v=this.getBBoxSnapshot();p={top:((d||0)-v.height)/2}}else p=s==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Oi(Oi({},f),p)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,o=a.width,s=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=Oi(Oi({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(c)),c);return U.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(h){n.wrapperNode=h}},JK(i,Oi(Oi({},this.props),{},{payload:a3(d,u,XK)})))}}],[{key:"getWithHeight",value:function(n,a){var i=Oi(Oi({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&Le(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(R.PureComponent);Pm(cs,"displayName","Legend");Pm(cs,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});function cd(e){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cd(e)}function D0(){return D0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},D0.apply(this,arguments)}function ZK(e,t){return rX(e)||tX(e,t)||eX(e,t)||QK()}function QK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eX(e,t){if(e){if(typeof e=="string")return zw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zw(e,t)}}function zw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tX(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function rX(e){if(Array.isArray(e))return e}function qw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qw(Object(r),!0).forEach(function(n){nX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nX(e,t,r){return t=aX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aX(e){var t=iX(e,"string");return cd(t)=="symbol"?t:t+""}function iX(e,t){if(cd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oX(e){return Array.isArray(e)&&Or(e[0])&&Or(e[1])?e.join(" ~ "):e}var sX=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,s=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,p=t.itemSorter,h=t.wrapperClassName,v=t.labelClassName,g=t.label,j=t.labelFormatter,x=t.accessibilityLayer,b=x===void 0?!1:x,N=function(){if(d&&d.length){var T={padding:0,margin:0},$=(p?tm(d,p):d).map(function(I,V){if(I.type==="none")return null;var F=xv({display:"block",paddingTop:4,paddingBottom:4,color:I.color||"#000"},s),B=I.formatter||f||oX,X=I.value,Y=I.name,Z=X,ae=Y;if(B&&Z!=null&&ae!=null){var M=B(X,Y,I,V,d);if(Array.isArray(M)){var W=ZK(M,2);Z=W[0],ae=W[1]}else Z=M}return U.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(V),style:F},Or(ae)?U.createElement("span",{className:"recharts-tooltip-item-name"},ae):null,Or(ae)?U.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,U.createElement("span",{className:"recharts-tooltip-item-value"},Z),U.createElement("span",{className:"recharts-tooltip-item-unit"},I.unit||""))});return U.createElement("ul",{className:"recharts-tooltip-item-list",style:T},$)}return null},_=xv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),w=xv({margin:0},u),A=!ht(g),O=A?g:"",E=gt("recharts-default-tooltip",h),C=gt("recharts-tooltip-label",v);A&&j&&d!==void 0&&d!==null&&(O=j(g,d));var D=b?{role:"status","aria-live":"assertive"}:{};return U.createElement("div",D0({className:E,style:_},D),U.createElement("p",{className:C,style:w},U.isValidElement(O)?O:"".concat(O)),N())};function ud(e){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ud(e)}function nh(e,t,r){return t=lX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lX(e){var t=cX(e,"string");return ud(t)=="symbol"?t:t+""}function cX(e,t){if(ud(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ud(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ju="recharts-tooltip-wrapper",uX={visibility:"hidden"};function dX(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return gt(ju,nh(nh(nh(nh({},"".concat(ju,"-right"),Le(r)&&t&&Le(t.x)&&r>=t.x),"".concat(ju,"-left"),Le(r)&&t&&Le(t.x)&&r<t.x),"".concat(ju,"-bottom"),Le(n)&&t&&Le(t.y)&&n>=t.y),"".concat(ju,"-top"),Le(n)&&t&&Le(t.y)&&n<t.y))}function Uw(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,s=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&Le(i[n]))return i[n];var d=r[n]-s-a,f=r[n]+a;if(t[n])return o[n]?d:f;if(o[n]){var p=d,h=c[n];return p<h?Math.max(f,c[n]):Math.max(d,c[n])}var v=f+s,g=c[n]+u;return v>g?Math.max(d,c[n]):Math.max(f,c[n])}function fX(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function hX(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,s=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=Uw({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=Uw({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=fX({translateX:d,translateY:f,useTranslate3d:s})):u=uX,{cssProperties:u,cssClasses:dX({translateX:d,translateY:f,coordinate:r})}}function Vl(e){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vl(e)}function Ww(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ww(Object(r),!0).forEach(function(n){R0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ww(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l3(n.key),n)}}function gX(e,t,r){return t&&mX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function vX(e,t,r){return t=Jh(t),yX(e,s3()?Reflect.construct(t,r||[],Jh(e).constructor):t.apply(e,r))}function yX(e,t){if(t&&(Vl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bX(e)}function bX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s3=function(){return!!e})()}function Jh(e){return Jh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jh(e)}function xX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I0(e,t)}function I0(e,t){return I0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},I0(e,t)}function R0(e,t,r){return t=l3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l3(e){var t=wX(e,"string");return Vl(t)=="symbol"?t:t+""}function wX(e,t){if(Vl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Gw=1,jX=function(e){function t(){var r;pX(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=vX(this,t,[].concat(a)),R0(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),R0(r,"handleKeyDown",function(o){if(o.key==="Escape"){var s,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&s!==void 0?s:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return xX(t,e),gX(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>Gw||Math.abs(n.height-this.state.lastBoundingBox.height)>Gw)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,s=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,p=a.isAnimationActive,h=a.offset,v=a.position,g=a.reverseDirection,j=a.useTranslate3d,x=a.viewBox,b=a.wrapperStyle,N=hX({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:h,position:v,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:j,viewBox:x}),_=N.cssClasses,w=N.cssProperties,A=Hw(Hw({transition:p&&i?"transform ".concat(s,"ms ").concat(c):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return U.createElement("div",{tabIndex:-1,className:_,style:A,ref:function(E){n.wrapperNode=E}},u)}}])}(R.PureComponent),NX=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Cs={isSsr:NX()};function Yl(e){"@babel/helpers - typeof";return Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yl(e)}function Vw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vw(Object(r),!0).forEach(function(n){Xb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _X(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u3(n.key),n)}}function AX(e,t,r){return t&&_X(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function OX(e,t,r){return t=Zh(t),PX(e,c3()?Reflect.construct(t,r||[],Zh(e).constructor):t.apply(e,r))}function PX(e,t){if(t&&(Yl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EX(e)}function EX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c3=function(){return!!e})()}function Zh(e){return Zh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zh(e)}function kX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&F0(e,t)}function F0(e,t){return F0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},F0(e,t)}function Xb(e,t,r){return t=u3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u3(e){var t=TX(e,"string");return Yl(t)=="symbol"?t:t+""}function TX(e,t){if(Yl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function CX(e){return e.dataKey}function LX(e,t){return U.isValidElement(e)?U.cloneElement(e,t):typeof e=="function"?U.createElement(e,t):U.createElement(sX,t)}var Na=function(e){function t(){return SX(this,t),OX(this,t,arguments)}return kX(t,e),AX(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,s=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,p=a.isAnimationActive,h=a.offset,v=a.payload,g=a.payloadUniqBy,j=a.position,x=a.reverseDirection,b=a.useTranslate3d,N=a.viewBox,_=a.wrapperStyle,w=v??[];f&&w.length&&(w=a3(v.filter(function(O){return O.value!=null&&(O.hide!==!0||n.props.includeHidden)}),g,CX));var A=w.length>0;return U.createElement(jX,{allowEscapeViewBox:o,animationDuration:s,animationEasing:c,isAnimationActive:p,active:i,coordinate:d,hasPayload:A,offset:h,position:j,reverseDirection:x,useTranslate3d:b,viewBox:N,wrapperStyle:_},LX(u,Yw(Yw({},this.props),{},{payload:w})))}}])}(R.PureComponent);Xb(Na,"displayName","Tooltip");Xb(Na,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Cs.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var MX=Ca,$X=function(){return MX.Date.now()},DX=$X,IX=aa,wv=DX,Kw=ES,RX="Expected a function",FX=Math.max,BX=Math.min;function zX(e,t,r){var n,a,i,o,s,c,u=0,d=!1,f=!1,p=!0;if(typeof e!="function")throw new TypeError(RX);t=Kw(t)||0,IX(r)&&(d=!!r.leading,f="maxWait"in r,i=f?FX(Kw(r.maxWait)||0,t):i,p="trailing"in r?!!r.trailing:p);function h(A){var O=n,E=a;return n=a=void 0,u=A,o=e.apply(E,O),o}function v(A){return u=A,s=setTimeout(x,t),d?h(A):o}function g(A){var O=A-c,E=A-u,C=t-O;return f?BX(C,i-E):C}function j(A){var O=A-c,E=A-u;return c===void 0||O>=t||O<0||f&&E>=i}function x(){var A=wv();if(j(A))return b(A);s=setTimeout(x,g(A))}function b(A){return s=void 0,p&&n?h(A):(n=a=void 0,o)}function N(){s!==void 0&&clearTimeout(s),u=0,n=c=a=s=void 0}function _(){return s===void 0?o:b(wv())}function w(){var A=wv(),O=j(A);if(n=arguments,a=this,c=A,O){if(s===void 0)return v(c);if(f)return clearTimeout(s),s=setTimeout(x,t),h(c)}return s===void 0&&(s=setTimeout(x,t)),o}return w.cancel=N,w.flush=_,w}var qX=zX,UX=qX,WX=aa,HX="Expected a function";function GX(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(HX);return WX(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),UX(e,t,{leading:n,maxWait:t,trailing:a})}var VX=GX;const d3=wt(VX);function dd(e){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dd(e)}function Xw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ah(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xw(Object(r),!0).forEach(function(n){YX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YX(e,t,r){return t=KX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KX(e){var t=XX(e,"string");return dd(t)=="symbol"?t:t+""}function XX(e,t){if(dd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JX(e,t){return tJ(e)||eJ(e,t)||QX(e,t)||ZX()}function ZX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QX(e,t){if(e){if(typeof e=="string")return Jw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jw(e,t)}}function Jw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eJ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function tJ(e){if(Array.isArray(e))return e}var Zw=R.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,s=e.height,c=s===void 0?"100%":s,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,p=e.maxHeight,h=e.children,v=e.debounce,g=v===void 0?0:v,j=e.id,x=e.className,b=e.onResize,N=e.style,_=N===void 0?{}:N,w=R.useRef(null),A=R.useRef();A.current=b,R.useImperativeHandle(t,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var O=R.useState({containerWidth:a.width,containerHeight:a.height}),E=JX(O,2),C=E[0],D=E[1],k=R.useCallback(function($,I){D(function(V){var F=Math.round($),B=Math.round(I);return V.containerWidth===F&&V.containerHeight===B?V:{containerWidth:F,containerHeight:B}})},[]);R.useEffect(function(){var $=function(Y){var Z,ae=Y[0].contentRect,M=ae.width,W=ae.height;k(M,W),(Z=A.current)===null||Z===void 0||Z.call(A,M,W)};g>0&&($=d3($,g,{trailing:!0,leading:!1}));var I=new ResizeObserver($),V=w.current.getBoundingClientRect(),F=V.width,B=V.height;return k(F,B),I.observe(w.current),function(){I.disconnect()}},[k,g]);var T=R.useMemo(function(){var $=C.containerWidth,I=C.containerHeight;if($<0||I<0)return null;Ea(ts(o)||ts(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Ea(!r||r>0,"The aspect(%s) must be greater than zero.",r);var V=ts(o)?$:o,F=ts(c)?I:c;r&&r>0&&(V?F=V/r:F&&(V=F*r),p&&F>p&&(F=p)),Ea(V>0||F>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,V,F,o,c,d,f,r);var B=!Array.isArray(h)&&Ci(h.type).endsWith("Chart");return U.Children.map(h,function(X){return U.isValidElement(X)?R.cloneElement(X,ah({width:V,height:F},B?{style:ah({height:"100%",width:"100%",maxHeight:F,maxWidth:V},X.props.style)}:{})):X})},[r,h,c,p,f,d,C,o]);return U.createElement("div",{id:j?"".concat(j):void 0,className:gt("recharts-responsive-container",x),style:ah(ah({},_),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:p}),ref:w},T)}),Em=function(t){return null};Em.displayName="Cell";function fd(e){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fd(e)}function Qw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function B0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qw(Object(r),!0).forEach(function(n){rJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rJ(e,t,r){return t=nJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nJ(e){var t=aJ(e,"string");return fd(t)=="symbol"?t:t+""}function aJ(e,t){if(fd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gl={widthCache:{},cacheCount:0},iJ=2e3,oJ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},e5="recharts_measurement_span";function sJ(e){var t=B0({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Ru=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Cs.isSsr)return{width:0,height:0};var n=sJ(r),a=JSON.stringify({text:t,copyStyle:n});if(gl.widthCache[a])return gl.widthCache[a];try{var i=document.getElementById(e5);i||(i=document.createElement("span"),i.setAttribute("id",e5),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=B0(B0({},oJ),n);Object.assign(i.style,o),i.textContent="".concat(t);var s=i.getBoundingClientRect(),c={width:s.width,height:s.height};return gl.widthCache[a]=c,++gl.cacheCount>iJ&&(gl.cacheCount=0,gl.widthCache={}),c}catch{return{width:0,height:0}}},lJ=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function hd(e){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hd(e)}function Qh(e,t){return fJ(e)||dJ(e,t)||uJ(e,t)||cJ()}function cJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uJ(e,t){if(e){if(typeof e=="string")return t5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t5(e,t)}}function t5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dJ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function fJ(e){if(Array.isArray(e))return e}function hJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mJ(n.key),n)}}function pJ(e,t,r){return t&&r5(e.prototype,t),r&&r5(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function mJ(e){var t=gJ(e,"string");return hd(t)=="symbol"?t:t+""}function gJ(e,t){if(hd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var n5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,a5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,vJ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,yJ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,f3={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},bJ=Object.keys(f3),Sl="NaN";function xJ(e,t){return e*f3[t]}var ih=function(){function e(t,r){hJ(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!vJ.test(r)&&(this.num=NaN,this.unit=""),bJ.includes(r)&&(this.num=xJ(t,r),this.unit="px")}return pJ(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=yJ.exec(r))!==null&&n!==void 0?n:[],i=Qh(a,3),o=i[1],s=i[2];return new e(parseFloat(o),s??"")}}])}();function h3(e){if(e.includes(Sl))return Sl;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=n5.exec(t))!==null&&r!==void 0?r:[],a=Qh(n,4),i=a[1],o=a[2],s=a[3],c=ih.parse(i??""),u=ih.parse(s??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Sl;t=t.replace(n5,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,p=(f=a5.exec(t))!==null&&f!==void 0?f:[],h=Qh(p,4),v=h[1],g=h[2],j=h[3],x=ih.parse(v??""),b=ih.parse(j??""),N=g==="+"?x.add(b):x.subtract(b);if(N.isNaN())return Sl;t=t.replace(a5,N.toString())}return t}var i5=/\(([^()]*)\)/;function wJ(e){for(var t=e;t.includes("(");){var r=i5.exec(t),n=Qh(r,2),a=n[1];t=t.replace(i5,h3(a))}return t}function jJ(e){var t=e.replace(/\s+/g,"");return t=wJ(t),t=h3(t),t}function NJ(e){try{return jJ(e)}catch{return Sl}}function jv(e){var t=NJ(e.slice(5,-1));return t===Sl?"":t}var SJ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],_J=["dx","dy","angle","className","breakAll"];function z0(){return z0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},z0.apply(this,arguments)}function o5(e,t){if(e==null)return{};var r=AJ(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function AJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function s5(e,t){return kJ(e)||EJ(e,t)||PJ(e,t)||OJ()}function OJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PJ(e,t){if(e){if(typeof e=="string")return l5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l5(e,t)}}function l5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function EJ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function kJ(e){if(Array.isArray(e))return e}var p3=/[ \f\n\r\t\v\u2028\u2029]+/,m3=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];ht(r)||(n?i=r.toString().split(""):i=r.toString().split(p3));var o=i.map(function(c){return{word:c,width:Ru(c,a).width}}),s=n?0:Ru("Â ",a).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},TJ=function(t,r,n,a,i){var o=t.maxLines,s=t.children,c=t.style,u=t.breakAll,d=Le(o),f=s,p=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return V.reduce(function(F,B){var X=B.word,Y=B.width,Z=F[F.length-1];if(Z&&(a==null||i||Z.width+Y+n<Number(a)))Z.words.push(X),Z.width+=Y+n;else{var ae={words:[X],width:Y};F.push(ae)}return F},[])},h=p(r),v=function(V){return V.reduce(function(F,B){return F.width>B.width?F:B})};if(!d)return h;for(var g="â€¦",j=function(V){var F=f.slice(0,V),B=m3({breakAll:u,style:c,children:F+g}).wordsWithComputedWidth,X=p(B),Y=X.length>o||v(X).width>Number(a);return[Y,X]},x=0,b=f.length-1,N=0,_;x<=b&&N<=f.length-1;){var w=Math.floor((x+b)/2),A=w-1,O=j(A),E=s5(O,2),C=E[0],D=E[1],k=j(w),T=s5(k,1),$=T[0];if(!C&&!$&&(x=w+1),C&&$&&(b=w-1),!C&&$){_=D;break}N++}return _||h},c5=function(t){var r=ht(t)?[]:t.toString().split(p3);return[{words:r}]},CJ=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,s=t.maxLines;if((r||n)&&!Cs.isSsr){var c,u,d=m3({breakAll:o,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,p=d.spaceWidth;c=f,u=p}else return c5(a);return TJ({breakAll:o,children:a,maxLines:s,style:i},c,u,r,n)}return c5(a)},u5="#808080",_s=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.lineHeight,s=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,p=t.textAnchor,h=p===void 0?"start":p,v=t.verticalAnchor,g=v===void 0?"end":v,j=t.fill,x=j===void 0?u5:j,b=o5(t,SJ),N=R.useMemo(function(){return CJ({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),_=b.dx,w=b.dy,A=b.angle,O=b.className,E=b.breakAll,C=o5(b,_J);if(!Or(n)||!Or(i))return null;var D=n+(Le(_)?_:0),k=i+(Le(w)?w:0),T;switch(g){case"start":T=jv("calc(".concat(u,")"));break;case"middle":T=jv("calc(".concat((N.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:T=jv("calc(".concat(N.length-1," * -").concat(s,")"));break}var $=[];if(f){var I=N[0].width,V=b.width;$.push("scale(".concat((Le(V)?V/I:1)/I,")"))}return A&&$.push("rotate(".concat(A,", ").concat(D,", ").concat(k,")")),$.length&&(C.transform=$.join(" ")),U.createElement("text",z0({},Xe(C,!0),{x:D,y:k,className:gt("recharts-text",O),textAnchor:h,fill:x.includes("url")?u5:x}),N.map(function(F,B){var X=F.words.join(E?"":" ");return U.createElement("tspan",{x:D,dy:B===0?T:s,key:"".concat(X,"-").concat(B)},X)}))};function mo(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function LJ(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Jb(e){let t,r,n;e.length!==2?(t=mo,r=(s,c)=>mo(e(s),c),n=(s,c)=>e(s)-c):(t=e===mo||e===LJ?e:MJ,r=e,n=e);function a(s,c,u=0,d=s.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(s[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(s,c,u=0,d=s.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(s[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(s,c,u=0,d=s.length){const f=a(s,c,u,d-1);return f>u&&n(s[f-1],c)>-n(s[f],c)?f-1:f}return{left:a,center:o,right:i}}function MJ(){return 0}function g3(e){return e===null?NaN:+e}function*$J(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const DJ=Jb(mo),Jd=DJ.right;Jb(g3).center;class d5 extends Map{constructor(t,r=FJ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(f5(this,t))}has(t){return super.has(f5(this,t))}set(t,r){return super.set(IJ(this,t),r)}delete(t){return super.delete(RJ(this,t))}}function f5({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function IJ({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function RJ({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function FJ(e){return e!==null&&typeof e=="object"?e.valueOf():e}function BJ(e=mo){if(e===mo)return v3;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function v3(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const zJ=Math.sqrt(50),qJ=Math.sqrt(10),UJ=Math.sqrt(2);function ep(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=zJ?10:i>=qJ?5:i>=UJ?2:1;let s,c,u;return a<0?(u=Math.pow(10,-a)/o,s=Math.round(e*u),c=Math.round(t*u),s/u<e&&++s,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,s=Math.round(e/u),c=Math.round(t/u),s*u<e&&++s,c*u>t&&--c),c<s&&.5<=r&&r<2?ep(e,t,r*2):[s,c,u]}function q0(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?ep(t,e,r):ep(e,t,r);if(!(i>=a))return[];const s=i-a+1,c=new Array(s);if(n)if(o<0)for(let u=0;u<s;++u)c[u]=(i-u)/-o;else for(let u=0;u<s;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<s;++u)c[u]=(a+u)/-o;else for(let u=0;u<s;++u)c[u]=(a+u)*o;return c}function U0(e,t,r){return t=+t,e=+e,r=+r,ep(e,t,r)[2]}function W0(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?U0(t,e,r):U0(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function h5(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function p5(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function y3(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?v3:BJ(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),p=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),h=Math.max(r,Math.floor(t-u*f/c+p)),v=Math.min(n,Math.floor(t+(c-u)*f/c+p));y3(e,t,h,v,a)}const i=e[t];let o=r,s=n;for(Nu(e,r,t),a(e[n],i)>0&&Nu(e,r,n);o<s;){for(Nu(e,o,s),++o,--s;a(e[o],i)<0;)++o;for(;a(e[s],i)>0;)--s}a(e[r],i)===0?Nu(e,r,s):(++s,Nu(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function Nu(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function WJ(e,t,r){if(e=Float64Array.from($J(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return p5(e);if(t>=1)return h5(e);var n,a=(n-1)*t,i=Math.floor(a),o=h5(y3(e,i).subarray(0,i+1)),s=p5(e.subarray(i+1));return o+(s-o)*(a-i)}}function HJ(e,t,r=g3){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),s=+r(e[i+1],i+1,e);return o+(s-o)*(a-i)}}function GJ(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function sa(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Bi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const H0=Symbol("implicit");function Zb(){var e=new d5,t=[],r=[],n=H0;function a(i){let o=e.get(i);if(o===void 0){if(n!==H0)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new d5;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return Zb(t,r).unknown(n)},sa.apply(a,arguments),a}function pd(){var e=Zb().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,s=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var p=t().length,h=a<n,v=h?a:n,g=h?n:a;i=(g-v)/Math.max(1,p-c+u*2),s&&(i=Math.floor(i)),v+=(g-v-i*(p-c))*d,o=i*(1-c),s&&(v=Math.round(v),o=Math.round(o));var j=GJ(p).map(function(x){return v+i*x});return r(h?j.reverse():j)}return e.domain=function(p){return arguments.length?(t(p),f()):t()},e.range=function(p){return arguments.length?([n,a]=p,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(p){return[n,a]=p,n=+n,a=+a,s=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(p){return arguments.length?(s=!!p,f()):s},e.padding=function(p){return arguments.length?(c=Math.min(1,u=+p),f()):c},e.paddingInner=function(p){return arguments.length?(c=Math.min(1,p),f()):c},e.paddingOuter=function(p){return arguments.length?(u=+p,f()):u},e.align=function(p){return arguments.length?(d=Math.max(0,Math.min(1,p)),f()):d},e.copy=function(){return pd(t(),[n,a]).round(s).paddingInner(c).paddingOuter(u).align(d)},sa.apply(f(),arguments)}function b3(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return b3(t())},e}function Fu(){return b3(pd.apply(null,arguments).paddingInner(1))}function Qb(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function x3(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Zd(){}var md=.7,tp=1/md,Ml="\\s*([+-]?\\d+)\\s*",gd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",si="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",VJ=/^#([0-9a-f]{3,8})$/,YJ=new RegExp(`^rgb\\(${Ml},${Ml},${Ml}\\)$`),KJ=new RegExp(`^rgb\\(${si},${si},${si}\\)$`),XJ=new RegExp(`^rgba\\(${Ml},${Ml},${Ml},${gd}\\)$`),JJ=new RegExp(`^rgba\\(${si},${si},${si},${gd}\\)$`),ZJ=new RegExp(`^hsl\\(${gd},${si},${si}\\)$`),QJ=new RegExp(`^hsla\\(${gd},${si},${si},${gd}\\)$`),m5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Qb(Zd,vd,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:g5,formatHex:g5,formatHex8:eZ,formatHsl:tZ,formatRgb:v5,toString:v5});function g5(){return this.rgb().formatHex()}function eZ(){return this.rgb().formatHex8()}function tZ(){return w3(this).formatHsl()}function v5(){return this.rgb().formatRgb()}function vd(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=VJ.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?y5(t):r===3?new wn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?oh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?oh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=YJ.exec(e))?new wn(t[1],t[2],t[3],1):(t=KJ.exec(e))?new wn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=XJ.exec(e))?oh(t[1],t[2],t[3],t[4]):(t=JJ.exec(e))?oh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=ZJ.exec(e))?w5(t[1],t[2]/100,t[3]/100,1):(t=QJ.exec(e))?w5(t[1],t[2]/100,t[3]/100,t[4]):m5.hasOwnProperty(e)?y5(m5[e]):e==="transparent"?new wn(NaN,NaN,NaN,0):null}function y5(e){return new wn(e>>16&255,e>>8&255,e&255,1)}function oh(e,t,r,n){return n<=0&&(e=t=r=NaN),new wn(e,t,r,n)}function rZ(e){return e instanceof Zd||(e=vd(e)),e?(e=e.rgb(),new wn(e.r,e.g,e.b,e.opacity)):new wn}function G0(e,t,r,n){return arguments.length===1?rZ(e):new wn(e,t,r,n??1)}function wn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Qb(wn,G0,x3(Zd,{brighter(e){return e=e==null?tp:Math.pow(tp,e),new wn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?md:Math.pow(md,e),new wn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new wn(us(this.r),us(this.g),us(this.b),rp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:b5,formatHex:b5,formatHex8:nZ,formatRgb:x5,toString:x5}));function b5(){return`#${rs(this.r)}${rs(this.g)}${rs(this.b)}`}function nZ(){return`#${rs(this.r)}${rs(this.g)}${rs(this.b)}${rs((isNaN(this.opacity)?1:this.opacity)*255)}`}function x5(){const e=rp(this.opacity);return`${e===1?"rgb(":"rgba("}${us(this.r)}, ${us(this.g)}, ${us(this.b)}${e===1?")":`, ${e})`}`}function rp(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function us(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function rs(e){return e=us(e),(e<16?"0":"")+e.toString(16)}function w5(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Aa(e,t,r,n)}function w3(e){if(e instanceof Aa)return new Aa(e.h,e.s,e.l,e.opacity);if(e instanceof Zd||(e=vd(e)),!e)return new Aa;if(e instanceof Aa)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,s=i-a,c=(i+a)/2;return s?(t===i?o=(r-n)/s+(r<n)*6:r===i?o=(n-t)/s+2:o=(t-r)/s+4,s/=c<.5?i+a:2-i-a,o*=60):s=c>0&&c<1?0:o,new Aa(o,s,c,e.opacity)}function aZ(e,t,r,n){return arguments.length===1?w3(e):new Aa(e,t,r,n??1)}function Aa(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Qb(Aa,aZ,x3(Zd,{brighter(e){return e=e==null?tp:Math.pow(tp,e),new Aa(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?md:Math.pow(md,e),new Aa(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new wn(Nv(e>=240?e-240:e+120,a,n),Nv(e,a,n),Nv(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Aa(j5(this.h),sh(this.s),sh(this.l),rp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=rp(this.opacity);return`${e===1?"hsl(":"hsla("}${j5(this.h)}, ${sh(this.s)*100}%, ${sh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function j5(e){return e=(e||0)%360,e<0?e+360:e}function sh(e){return Math.max(0,Math.min(1,e||0))}function Nv(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const ex=e=>()=>e;function iZ(e,t){return function(r){return e+r*t}}function oZ(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function sZ(e){return(e=+e)==1?j3:function(t,r){return r-t?oZ(t,r,e):ex(isNaN(t)?r:t)}}function j3(e,t){var r=t-e;return r?iZ(e,r):ex(isNaN(e)?t:e)}const N5=function e(t){var r=sZ(t);function n(a,i){var o=r((a=G0(a)).r,(i=G0(i)).r),s=r(a.g,i.g),c=r(a.b,i.b),u=j3(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=s(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function lZ(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function cZ(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function uZ(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=Mc(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(s){for(o=0;o<n;++o)i[o]=a[o](s);return i}}function dZ(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function np(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function fZ(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Mc(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var V0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Sv=new RegExp(V0.source,"g");function hZ(e){return function(){return e}}function pZ(e){return function(t){return e(t)+""}}function mZ(e,t){var r=V0.lastIndex=Sv.lastIndex=0,n,a,i,o=-1,s=[],c=[];for(e=e+"",t=t+"";(n=V0.exec(e))&&(a=Sv.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(a=a[0])?s[o]?s[o]+=a:s[++o]=a:(s[++o]=null,c.push({i:o,x:np(n,a)})),r=Sv.lastIndex;return r<t.length&&(i=t.slice(r),s[o]?s[o]+=i:s[++o]=i),s.length<2?c[0]?pZ(c[0].x):hZ(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)s[(f=c[d]).i]=f.x(u);return s.join("")})}function Mc(e,t){var r=typeof t,n;return t==null||r==="boolean"?ex(t):(r==="number"?np:r==="string"?(n=vd(t))?(t=n,N5):mZ:t instanceof vd?N5:t instanceof Date?dZ:cZ(t)?lZ:Array.isArray(t)?uZ:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?fZ:np)(e,t)}function tx(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function gZ(e,t){t===void 0&&(t=e,e=Mc);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[s](o-s)}}function vZ(e){return function(){return e}}function ap(e){return+e}var S5=[0,1];function fn(e){return e}function Y0(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:vZ(isNaN(t)?NaN:.5)}function yZ(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function bZ(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=Y0(a,n),i=r(o,i)):(n=Y0(n,a),i=r(i,o)),function(s){return i(n(s))}}function xZ(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=Y0(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(s){var c=Jd(e,s,1,n)-1;return i[c](a[c](s))}}function Qd(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function km(){var e=S5,t=S5,r=Mc,n,a,i,o=fn,s,c,u;function d(){var p=Math.min(e.length,t.length);return o!==fn&&(o=yZ(e[0],e[p-1])),s=p>2?xZ:bZ,c=u=null,f}function f(p){return p==null||isNaN(p=+p)?i:(c||(c=s(e.map(n),t,r)))(n(o(p)))}return f.invert=function(p){return o(a((u||(u=s(t,e.map(n),np)))(p)))},f.domain=function(p){return arguments.length?(e=Array.from(p,ap),d()):e.slice()},f.range=function(p){return arguments.length?(t=Array.from(p),d()):t.slice()},f.rangeRound=function(p){return t=Array.from(p),r=tx,d()},f.clamp=function(p){return arguments.length?(o=p?!0:fn,d()):o!==fn},f.interpolate=function(p){return arguments.length?(r=p,d()):r},f.unknown=function(p){return arguments.length?(i=p,f):i},function(p,h){return n=p,a=h,d()}}function rx(){return km()(fn,fn)}function wZ(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ip(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Kl(e){return e=ip(Math.abs(e)),e?e[1]:NaN}function jZ(e,t){return function(r,n){for(var a=r.length,i=[],o=0,s=e[0],c=0;a>0&&s>0&&(c+s+1>n&&(s=Math.max(1,n-c)),i.push(r.substring(a-=s,a+s)),!((c+=s+1)>n));)s=e[o=(o+1)%e.length];return i.reverse().join(t)}}function NZ(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var SZ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function yd(e){if(!(t=SZ.exec(e)))throw new Error("invalid format: "+e);var t;return new nx({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}yd.prototype=nx.prototype;function nx(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}nx.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function _Z(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var N3;function AZ(e,t){var r=ip(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(N3=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+ip(e,Math.max(0,t+i-1))[0]}function _5(e,t){var r=ip(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const A5={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:wZ,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>_5(e*100,t),r:_5,s:AZ,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function O5(e){return e}var P5=Array.prototype.map,E5=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function OZ(e){var t=e.grouping===void 0||e.thousands===void 0?O5:jZ(P5.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?O5:NZ(P5.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"âˆ’":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=yd(f);var p=f.fill,h=f.align,v=f.sign,g=f.symbol,j=f.zero,x=f.width,b=f.comma,N=f.precision,_=f.trim,w=f.type;w==="n"?(b=!0,w="g"):A5[w]||(N===void 0&&(N=12),_=!0,w="g"),(j||p==="0"&&h==="=")&&(j=!0,p="0",h="=");var A=g==="$"?r:g==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",O=g==="$"?n:/[%p]/.test(w)?o:"",E=A5[w],C=/[defgprs%]/.test(w);N=N===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function D(k){var T=A,$=O,I,V,F;if(w==="c")$=E(k)+$,k="";else{k=+k;var B=k<0||1/k<0;if(k=isNaN(k)?c:E(Math.abs(k),N),_&&(k=_Z(k)),B&&+k==0&&v!=="+"&&(B=!1),T=(B?v==="("?v:s:v==="-"||v==="("?"":v)+T,$=(w==="s"?E5[8+N3/3]:"")+$+(B&&v==="("?")":""),C){for(I=-1,V=k.length;++I<V;)if(F=k.charCodeAt(I),48>F||F>57){$=(F===46?a+k.slice(I+1):k.slice(I))+$,k=k.slice(0,I);break}}}b&&!j&&(k=t(k,1/0));var X=T.length+k.length+$.length,Y=X<x?new Array(x-X+1).join(p):"";switch(b&&j&&(k=t(Y+k,Y.length?x-$.length:1/0),Y=""),h){case"<":k=T+k+$+Y;break;case"=":k=T+Y+k+$;break;case"^":k=Y.slice(0,X=Y.length>>1)+T+k+$+Y.slice(X);break;default:k=Y+T+k+$;break}return i(k)}return D.toString=function(){return f+""},D}function d(f,p){var h=u((f=yd(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(Kl(p)/3)))*3,g=Math.pow(10,-v),j=E5[8+v/3];return function(x){return h(g*x)+j}}return{format:u,formatPrefix:d}}var lh,ax,S3;PZ({thousands:",",grouping:[3],currency:["$",""]});function PZ(e){return lh=OZ(e),ax=lh.format,S3=lh.formatPrefix,lh}function EZ(e){return Math.max(0,-Kl(Math.abs(e)))}function kZ(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Kl(t)/3)))*3-Kl(Math.abs(e)))}function TZ(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Kl(t)-Kl(e))+1}function _3(e,t,r,n){var a=W0(e,t,r),i;switch(n=yd(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=kZ(a,o))&&(n.precision=i),S3(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=TZ(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=EZ(a))&&(n.precision=i-(n.type==="%")*2);break}}return ax(n)}function So(e){var t=e.domain;return e.ticks=function(r){var n=t();return q0(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return _3(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],s=n[i],c,u,d=10;for(s<o&&(u=o,o=s,s=u,u=a,a=i,i=u);d-- >0;){if(u=U0(o,s,r),u===c)return n[a]=o,n[i]=s,t(n);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;c=u}return e},e}function op(){var e=rx();return e.copy=function(){return Qd(e,op())},sa.apply(e,arguments),So(e)}function A3(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,ap),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return A3(e).unknown(t)},e=arguments.length?Array.from(e,ap):[0,1],So(r)}function O3(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function k5(e){return Math.log(e)}function T5(e){return Math.exp(e)}function CZ(e){return-Math.log(-e)}function LZ(e){return-Math.exp(-e)}function MZ(e){return isFinite(e)?+("1e"+e):e<0?0:e}function $Z(e){return e===10?MZ:e===Math.E?Math.exp:t=>Math.pow(e,t)}function DZ(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function C5(e){return(t,r)=>-e(-t,r)}function ix(e){const t=e(k5,T5),r=t.domain;let n=10,a,i;function o(){return a=DZ(n),i=$Z(n),r()[0]<0?(a=C5(a),i=C5(i),e(CZ,LZ)):e(k5,T5),t}return t.base=function(s){return arguments.length?(n=+s,o()):n},t.domain=function(s){return arguments.length?(r(s),o()):r()},t.ticks=s=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let p=a(u),h=a(d),v,g;const j=s==null?10:+s;let x=[];if(!(n%1)&&h-p<j){if(p=Math.floor(p),h=Math.ceil(h),u>0){for(;p<=h;++p)for(v=1;v<n;++v)if(g=p<0?v/i(-p):v*i(p),!(g<u)){if(g>d)break;x.push(g)}}else for(;p<=h;++p)for(v=n-1;v>=1;--v)if(g=p>0?v/i(-p):v*i(p),!(g<u)){if(g>d)break;x.push(g)}x.length*2<j&&(x=q0(u,d,j))}else x=q0(p,h,Math.min(h-p,j)).map(i);return f?x.reverse():x},t.tickFormat=(s,c)=>{if(s==null&&(s=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=yd(c)).precision==null&&(c.trim=!0),c=ax(c)),s===1/0)return c;const u=Math.max(1,n*s/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(O3(r(),{floor:s=>i(Math.floor(a(s))),ceil:s=>i(Math.ceil(a(s)))})),t}function P3(){const e=ix(km()).domain([1,10]);return e.copy=()=>Qd(e,P3()).base(e.base()),sa.apply(e,arguments),e}function L5(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function M5(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function ox(e){var t=1,r=e(L5(t),M5(t));return r.constant=function(n){return arguments.length?e(L5(t=+n),M5(t)):t},So(r)}function E3(){var e=ox(km());return e.copy=function(){return Qd(e,E3()).constant(e.constant())},sa.apply(e,arguments)}function $5(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function IZ(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function RZ(e){return e<0?-e*e:e*e}function sx(e){var t=e(fn,fn),r=1;function n(){return r===1?e(fn,fn):r===.5?e(IZ,RZ):e($5(r),$5(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},So(t)}function lx(){var e=sx(km());return e.copy=function(){return Qd(e,lx()).exponent(e.exponent())},sa.apply(e,arguments),e}function FZ(){return lx.apply(null,arguments).exponent(.5)}function D5(e){return Math.sign(e)*e*e}function BZ(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function k3(){var e=rx(),t=[0,1],r=!1,n;function a(i){var o=BZ(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(D5(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,ap)).map(D5)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return k3(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},sa.apply(a,arguments),So(a)}function T3(){var e=[],t=[],r=[],n;function a(){var o=0,s=Math.max(1,t.length);for(r=new Array(s-1);++o<s;)r[o-1]=HJ(e,o/s);return i}function i(o){return o==null||isNaN(o=+o)?n:t[Jd(r,o)]}return i.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(mo),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return T3().domain(e).range(t).unknown(n)},sa.apply(i,arguments)}function C3(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[Jd(n,c,0,r)]:i}function s(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,s()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,s()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return C3().domain([e,t]).range(a).unknown(i)},sa.apply(So(o),arguments)}function L3(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[Jd(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return L3().domain(e).range(t).unknown(r)},sa.apply(a,arguments)}const _v=new Date,Av=new Date;function kr(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),s=a.ceil(i);return i-o<s-i?o:s},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,s)=>{const c=[];if(i=a.ceil(i),s=s==null?1:Math.floor(s),!(i<o)||!(s>0))return c;let u;do c.push(u=new Date(+i)),t(i,s),e(i);while(u<i&&i<o);return c},a.filter=i=>kr(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!i(o););else for(;--s>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(_v.setTime(+i),Av.setTime(+o),e(_v),e(Av),Math.floor(r(_v,Av))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const sp=kr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);sp.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?kr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):sp);sp.range;const Ei=1e3,Qn=Ei*60,ki=Qn*60,Di=ki*24,cx=Di*7,I5=Di*30,Ov=Di*365,ns=kr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ei)},(e,t)=>(t-e)/Ei,e=>e.getUTCSeconds());ns.range;const ux=kr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ei)},(e,t)=>{e.setTime(+e+t*Qn)},(e,t)=>(t-e)/Qn,e=>e.getMinutes());ux.range;const dx=kr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Qn)},(e,t)=>(t-e)/Qn,e=>e.getUTCMinutes());dx.range;const fx=kr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ei-e.getMinutes()*Qn)},(e,t)=>{e.setTime(+e+t*ki)},(e,t)=>(t-e)/ki,e=>e.getHours());fx.range;const hx=kr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ki)},(e,t)=>(t-e)/ki,e=>e.getUTCHours());hx.range;const ef=kr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Qn)/Di,e=>e.getDate()-1);ef.range;const Tm=kr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Di,e=>e.getUTCDate()-1);Tm.range;const M3=kr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Di,e=>Math.floor(e/Di));M3.range;function Ls(e){return kr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Qn)/cx)}const Cm=Ls(0),lp=Ls(1),zZ=Ls(2),qZ=Ls(3),Xl=Ls(4),UZ=Ls(5),WZ=Ls(6);Cm.range;lp.range;zZ.range;qZ.range;Xl.range;UZ.range;WZ.range;function Ms(e){return kr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/cx)}const Lm=Ms(0),cp=Ms(1),HZ=Ms(2),GZ=Ms(3),Jl=Ms(4),VZ=Ms(5),YZ=Ms(6);Lm.range;cp.range;HZ.range;GZ.range;Jl.range;VZ.range;YZ.range;const px=kr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());px.range;const mx=kr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());mx.range;const Ii=kr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ii.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:kr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ii.range;const Ri=kr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ri.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:kr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Ri.range;function $3(e,t,r,n,a,i){const o=[[ns,1,Ei],[ns,5,5*Ei],[ns,15,15*Ei],[ns,30,30*Ei],[i,1,Qn],[i,5,5*Qn],[i,15,15*Qn],[i,30,30*Qn],[a,1,ki],[a,3,3*ki],[a,6,6*ki],[a,12,12*ki],[n,1,Di],[n,2,2*Di],[r,1,cx],[t,1,I5],[t,3,3*I5],[e,1,Ov]];function s(u,d,f){const p=d<u;p&&([u,d]=[d,u]);const h=f&&typeof f.range=="function"?f:c(u,d,f),v=h?h.range(u,+d+1):[];return p?v.reverse():v}function c(u,d,f){const p=Math.abs(d-u)/f,h=Jb(([,,j])=>j).right(o,p);if(h===o.length)return e.every(W0(u/Ov,d/Ov,f));if(h===0)return sp.every(Math.max(W0(u,d,f),1));const[v,g]=o[p/o[h-1][2]<o[h][2]/p?h-1:h];return v.every(g)}return[s,c]}const[KZ,XZ]=$3(Ri,mx,Lm,M3,hx,dx),[JZ,ZZ]=$3(Ii,px,Cm,ef,fx,ux);function Pv(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ev(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Su(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function QZ(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,s=e.months,c=e.shortMonths,u=_u(a),d=Au(a),f=_u(i),p=Au(i),h=_u(o),v=Au(o),g=_u(s),j=Au(s),x=_u(c),b=Au(c),N={a:B,A:X,b:Y,B:Z,c:null,d:U5,e:U5,f:jQ,g:CQ,G:MQ,H:bQ,I:xQ,j:wQ,L:D3,m:NQ,M:SQ,p:ae,q:M,Q:G5,s:V5,S:_Q,u:AQ,U:OQ,V:PQ,w:EQ,W:kQ,x:null,X:null,y:TQ,Y:LQ,Z:$Q,"%":H5},_={a:W,A:Q,b:ne,B:oe,c:null,d:W5,e:W5,f:FQ,g:KQ,G:JQ,H:DQ,I:IQ,j:RQ,L:R3,m:BQ,M:zQ,p:he,q:de,Q:G5,s:V5,S:qQ,u:UQ,U:WQ,V:HQ,w:GQ,W:VQ,x:null,X:null,y:YQ,Y:XQ,Z:ZQ,"%":H5},w={a:D,A:k,b:T,B:$,c:I,d:z5,e:z5,f:mQ,g:B5,G:F5,H:q5,I:q5,j:dQ,L:pQ,m:uQ,M:fQ,p:C,q:cQ,Q:vQ,s:yQ,S:hQ,u:aQ,U:iQ,V:oQ,w:nQ,W:sQ,x:V,X:F,y:B5,Y:F5,Z:lQ,"%":gQ};N.x=A(r,N),N.X=A(n,N),N.c=A(t,N),_.x=A(r,_),_.X=A(n,_),_.c=A(t,_);function A(ie,xe){return function(be){var pe=[],Ee=-1,$e=0,ye=ie.length,re,Ye,Be;for(be instanceof Date||(be=new Date(+be));++Ee<ye;)ie.charCodeAt(Ee)===37&&(pe.push(ie.slice($e,Ee)),(Ye=R5[re=ie.charAt(++Ee)])!=null?re=ie.charAt(++Ee):Ye=re==="e"?" ":"0",(Be=xe[re])&&(re=Be(be,Ye)),pe.push(re),$e=Ee+1);return pe.push(ie.slice($e,Ee)),pe.join("")}}function O(ie,xe){return function(be){var pe=Su(1900,void 0,1),Ee=E(pe,ie,be+="",0),$e,ye;if(Ee!=be.length)return null;if("Q"in pe)return new Date(pe.Q);if("s"in pe)return new Date(pe.s*1e3+("L"in pe?pe.L:0));if(xe&&!("Z"in pe)&&(pe.Z=0),"p"in pe&&(pe.H=pe.H%12+pe.p*12),pe.m===void 0&&(pe.m="q"in pe?pe.q:0),"V"in pe){if(pe.V<1||pe.V>53)return null;"w"in pe||(pe.w=1),"Z"in pe?($e=Ev(Su(pe.y,0,1)),ye=$e.getUTCDay(),$e=ye>4||ye===0?cp.ceil($e):cp($e),$e=Tm.offset($e,(pe.V-1)*7),pe.y=$e.getUTCFullYear(),pe.m=$e.getUTCMonth(),pe.d=$e.getUTCDate()+(pe.w+6)%7):($e=Pv(Su(pe.y,0,1)),ye=$e.getDay(),$e=ye>4||ye===0?lp.ceil($e):lp($e),$e=ef.offset($e,(pe.V-1)*7),pe.y=$e.getFullYear(),pe.m=$e.getMonth(),pe.d=$e.getDate()+(pe.w+6)%7)}else("W"in pe||"U"in pe)&&("w"in pe||(pe.w="u"in pe?pe.u%7:"W"in pe?1:0),ye="Z"in pe?Ev(Su(pe.y,0,1)).getUTCDay():Pv(Su(pe.y,0,1)).getDay(),pe.m=0,pe.d="W"in pe?(pe.w+6)%7+pe.W*7-(ye+5)%7:pe.w+pe.U*7-(ye+6)%7);return"Z"in pe?(pe.H+=pe.Z/100|0,pe.M+=pe.Z%100,Ev(pe)):Pv(pe)}}function E(ie,xe,be,pe){for(var Ee=0,$e=xe.length,ye=be.length,re,Ye;Ee<$e;){if(pe>=ye)return-1;if(re=xe.charCodeAt(Ee++),re===37){if(re=xe.charAt(Ee++),Ye=w[re in R5?xe.charAt(Ee++):re],!Ye||(pe=Ye(ie,be,pe))<0)return-1}else if(re!=be.charCodeAt(pe++))return-1}return pe}function C(ie,xe,be){var pe=u.exec(xe.slice(be));return pe?(ie.p=d.get(pe[0].toLowerCase()),be+pe[0].length):-1}function D(ie,xe,be){var pe=h.exec(xe.slice(be));return pe?(ie.w=v.get(pe[0].toLowerCase()),be+pe[0].length):-1}function k(ie,xe,be){var pe=f.exec(xe.slice(be));return pe?(ie.w=p.get(pe[0].toLowerCase()),be+pe[0].length):-1}function T(ie,xe,be){var pe=x.exec(xe.slice(be));return pe?(ie.m=b.get(pe[0].toLowerCase()),be+pe[0].length):-1}function $(ie,xe,be){var pe=g.exec(xe.slice(be));return pe?(ie.m=j.get(pe[0].toLowerCase()),be+pe[0].length):-1}function I(ie,xe,be){return E(ie,t,xe,be)}function V(ie,xe,be){return E(ie,r,xe,be)}function F(ie,xe,be){return E(ie,n,xe,be)}function B(ie){return o[ie.getDay()]}function X(ie){return i[ie.getDay()]}function Y(ie){return c[ie.getMonth()]}function Z(ie){return s[ie.getMonth()]}function ae(ie){return a[+(ie.getHours()>=12)]}function M(ie){return 1+~~(ie.getMonth()/3)}function W(ie){return o[ie.getUTCDay()]}function Q(ie){return i[ie.getUTCDay()]}function ne(ie){return c[ie.getUTCMonth()]}function oe(ie){return s[ie.getUTCMonth()]}function he(ie){return a[+(ie.getUTCHours()>=12)]}function de(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var xe=A(ie+="",N);return xe.toString=function(){return ie},xe},parse:function(ie){var xe=O(ie+="",!1);return xe.toString=function(){return ie},xe},utcFormat:function(ie){var xe=A(ie+="",_);return xe.toString=function(){return ie},xe},utcParse:function(ie){var xe=O(ie+="",!0);return xe.toString=function(){return ie},xe}}}var R5={"-":"",_:" ",0:"0"},Ir=/^\s*\d+/,eQ=/^%/,tQ=/[\\^$*+?|[\]().{}]/g;function At(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function rQ(e){return e.replace(tQ,"\\$&")}function _u(e){return new RegExp("^(?:"+e.map(rQ).join("|")+")","i")}function Au(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function nQ(e,t,r){var n=Ir.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function aQ(e,t,r){var n=Ir.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function iQ(e,t,r){var n=Ir.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function oQ(e,t,r){var n=Ir.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function sQ(e,t,r){var n=Ir.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function F5(e,t,r){var n=Ir.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function B5(e,t,r){var n=Ir.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function lQ(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function cQ(e,t,r){var n=Ir.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function uQ(e,t,r){var n=Ir.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function z5(e,t,r){var n=Ir.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function dQ(e,t,r){var n=Ir.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function q5(e,t,r){var n=Ir.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function fQ(e,t,r){var n=Ir.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function hQ(e,t,r){var n=Ir.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function pQ(e,t,r){var n=Ir.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function mQ(e,t,r){var n=Ir.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function gQ(e,t,r){var n=eQ.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function vQ(e,t,r){var n=Ir.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function yQ(e,t,r){var n=Ir.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function U5(e,t){return At(e.getDate(),t,2)}function bQ(e,t){return At(e.getHours(),t,2)}function xQ(e,t){return At(e.getHours()%12||12,t,2)}function wQ(e,t){return At(1+ef.count(Ii(e),e),t,3)}function D3(e,t){return At(e.getMilliseconds(),t,3)}function jQ(e,t){return D3(e,t)+"000"}function NQ(e,t){return At(e.getMonth()+1,t,2)}function SQ(e,t){return At(e.getMinutes(),t,2)}function _Q(e,t){return At(e.getSeconds(),t,2)}function AQ(e){var t=e.getDay();return t===0?7:t}function OQ(e,t){return At(Cm.count(Ii(e)-1,e),t,2)}function I3(e){var t=e.getDay();return t>=4||t===0?Xl(e):Xl.ceil(e)}function PQ(e,t){return e=I3(e),At(Xl.count(Ii(e),e)+(Ii(e).getDay()===4),t,2)}function EQ(e){return e.getDay()}function kQ(e,t){return At(lp.count(Ii(e)-1,e),t,2)}function TQ(e,t){return At(e.getFullYear()%100,t,2)}function CQ(e,t){return e=I3(e),At(e.getFullYear()%100,t,2)}function LQ(e,t){return At(e.getFullYear()%1e4,t,4)}function MQ(e,t){var r=e.getDay();return e=r>=4||r===0?Xl(e):Xl.ceil(e),At(e.getFullYear()%1e4,t,4)}function $Q(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+At(t/60|0,"0",2)+At(t%60,"0",2)}function W5(e,t){return At(e.getUTCDate(),t,2)}function DQ(e,t){return At(e.getUTCHours(),t,2)}function IQ(e,t){return At(e.getUTCHours()%12||12,t,2)}function RQ(e,t){return At(1+Tm.count(Ri(e),e),t,3)}function R3(e,t){return At(e.getUTCMilliseconds(),t,3)}function FQ(e,t){return R3(e,t)+"000"}function BQ(e,t){return At(e.getUTCMonth()+1,t,2)}function zQ(e,t){return At(e.getUTCMinutes(),t,2)}function qQ(e,t){return At(e.getUTCSeconds(),t,2)}function UQ(e){var t=e.getUTCDay();return t===0?7:t}function WQ(e,t){return At(Lm.count(Ri(e)-1,e),t,2)}function F3(e){var t=e.getUTCDay();return t>=4||t===0?Jl(e):Jl.ceil(e)}function HQ(e,t){return e=F3(e),At(Jl.count(Ri(e),e)+(Ri(e).getUTCDay()===4),t,2)}function GQ(e){return e.getUTCDay()}function VQ(e,t){return At(cp.count(Ri(e)-1,e),t,2)}function YQ(e,t){return At(e.getUTCFullYear()%100,t,2)}function KQ(e,t){return e=F3(e),At(e.getUTCFullYear()%100,t,2)}function XQ(e,t){return At(e.getUTCFullYear()%1e4,t,4)}function JQ(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Jl(e):Jl.ceil(e),At(e.getUTCFullYear()%1e4,t,4)}function ZQ(){return"+0000"}function H5(){return"%"}function G5(e){return+e}function V5(e){return Math.floor(+e/1e3)}var vl,B3,z3;QQ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function QQ(e){return vl=QZ(e),B3=vl.format,vl.parse,z3=vl.utcFormat,vl.utcParse,vl}function eee(e){return new Date(e)}function tee(e){return e instanceof Date?+e:+new Date(+e)}function gx(e,t,r,n,a,i,o,s,c,u){var d=rx(),f=d.invert,p=d.domain,h=u(".%L"),v=u(":%S"),g=u("%I:%M"),j=u("%I %p"),x=u("%a %d"),b=u("%b %d"),N=u("%B"),_=u("%Y");function w(A){return(c(A)<A?h:s(A)<A?v:o(A)<A?g:i(A)<A?j:n(A)<A?a(A)<A?x:b:r(A)<A?N:_)(A)}return d.invert=function(A){return new Date(f(A))},d.domain=function(A){return arguments.length?p(Array.from(A,tee)):p().map(eee)},d.ticks=function(A){var O=p();return e(O[0],O[O.length-1],A??10)},d.tickFormat=function(A,O){return O==null?w:u(O)},d.nice=function(A){var O=p();return(!A||typeof A.range!="function")&&(A=t(O[0],O[O.length-1],A??10)),A?p(O3(O,A)):d},d.copy=function(){return Qd(d,gx(e,t,r,n,a,i,o,s,c,u))},d}function ree(){return sa.apply(gx(JZ,ZZ,Ii,px,Cm,ef,fx,ux,ns,B3).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function nee(){return sa.apply(gx(KZ,XZ,Ri,mx,Lm,Tm,hx,dx,ns,z3).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Mm(){var e=0,t=1,r,n,a,i,o=fn,s=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(i(f)-r)*a,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(p){var h,v;return arguments.length?([h,v]=p,o=f(h,v),u):[o(0),o(1)]}}return u.range=d(Mc),u.rangeRound=d(tx),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function _o(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function q3(){var e=So(Mm()(fn));return e.copy=function(){return _o(e,q3())},Bi.apply(e,arguments)}function U3(){var e=ix(Mm()).domain([1,10]);return e.copy=function(){return _o(e,U3()).base(e.base())},Bi.apply(e,arguments)}function W3(){var e=ox(Mm());return e.copy=function(){return _o(e,W3()).constant(e.constant())},Bi.apply(e,arguments)}function vx(){var e=sx(Mm());return e.copy=function(){return _o(e,vx()).exponent(e.exponent())},Bi.apply(e,arguments)}function aee(){return vx.apply(null,arguments).exponent(.5)}function H3(){var e=[],t=fn;function r(n){if(n!=null&&!isNaN(n=+n))return t((Jd(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(mo),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>WJ(e,i/n))},r.copy=function(){return H3(t).domain(e)},Bi.apply(r,arguments)}function $m(){var e=0,t=.5,r=1,n=1,a,i,o,s,c,u=fn,d,f=!1,p;function h(g){return isNaN(g=+g)?p:(g=.5+((g=+d(g))-i)*(n*g<n*i?s:c),u(f?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([e,t,r]=g,a=d(e=+e),i=d(t=+t),o=d(r=+r),s=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,h):[e,t,r]},h.clamp=function(g){return arguments.length?(f=!!g,h):f},h.interpolator=function(g){return arguments.length?(u=g,h):u};function v(g){return function(j){var x,b,N;return arguments.length?([x,b,N]=j,u=gZ(g,[x,b,N]),h):[u(0),u(.5),u(1)]}}return h.range=v(Mc),h.rangeRound=v(tx),h.unknown=function(g){return arguments.length?(p=g,h):p},function(g){return d=g,a=g(e),i=g(t),o=g(r),s=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,h}}function G3(){var e=So($m()(fn));return e.copy=function(){return _o(e,G3())},Bi.apply(e,arguments)}function V3(){var e=ix($m()).domain([.1,1,10]);return e.copy=function(){return _o(e,V3()).base(e.base())},Bi.apply(e,arguments)}function Y3(){var e=ox($m());return e.copy=function(){return _o(e,Y3()).constant(e.constant())},Bi.apply(e,arguments)}function yx(){var e=sx($m());return e.copy=function(){return _o(e,yx()).exponent(e.exponent())},Bi.apply(e,arguments)}function iee(){return yx.apply(null,arguments).exponent(.5)}const Y5=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:pd,scaleDiverging:G3,scaleDivergingLog:V3,scaleDivergingPow:yx,scaleDivergingSqrt:iee,scaleDivergingSymlog:Y3,scaleIdentity:A3,scaleImplicit:H0,scaleLinear:op,scaleLog:P3,scaleOrdinal:Zb,scalePoint:Fu,scalePow:lx,scaleQuantile:T3,scaleQuantize:C3,scaleRadial:k3,scaleSequential:q3,scaleSequentialLog:U3,scaleSequentialPow:vx,scaleSequentialQuantile:H3,scaleSequentialSqrt:aee,scaleSequentialSymlog:W3,scaleSqrt:FZ,scaleSymlog:E3,scaleThreshold:L3,scaleTime:ree,scaleUtc:nee,tickFormat:_3},Symbol.toStringTag,{value:"Module"}));var oee=Nc;function see(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],o=t(i);if(o!=null&&(s===void 0?o===o&&!oee(o):r(o,s)))var s=o,c=i}return c}var Dm=see;function lee(e,t){return e>t}var K3=lee,cee=Dm,uee=K3,dee=kc;function fee(e){return e&&e.length?cee(e,dee,uee):void 0}var hee=fee;const fo=wt(hee);function pee(e,t){return e<t}var X3=pee,mee=Dm,gee=X3,vee=kc;function yee(e){return e&&e.length?mee(e,vee,gee):void 0}var bee=yee;const Im=wt(bee);var xee=Zp,wee=Ma,jee=y_,Nee=rn;function See(e,t){var r=Nee(e)?xee:jee;return r(e,wee(t))}var _ee=See,Aee=_b,Oee=_ee;function Pee(e,t){return Aee(Oee(e,t),1)}var Eee=Pee;const kee=wt(Eee);var $c=1e9,Tee={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},xx,Qt=!0,na="[DecimalError] ",ds=na+"Invalid argument: ",bx=na+"Exponent out of range: ",Dc=Math.floor,Jo=Math.pow,Cee=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Mn,Mr=1e7,Kt=7,J3=9007199254740991,up=Dc(J3/Kt),He={};He.absoluteValue=He.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};He.comparedTo=He.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};He.decimalPlaces=He.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Kt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};He.dividedBy=He.div=function(e){return Li(this,new this.constructor(e))};He.dividedToIntegerBy=He.idiv=function(e){var t=this,r=t.constructor;return zt(Li(t,new r(e),0,1),r.precision)};He.equals=He.eq=function(e){return!this.cmp(e)};He.exponent=function(){return jr(this)};He.greaterThan=He.gt=function(e){return this.cmp(e)>0};He.greaterThanOrEqualTo=He.gte=function(e){return this.cmp(e)>=0};He.isInteger=He.isint=function(){return this.e>this.d.length-2};He.isNegative=He.isneg=function(){return this.s<0};He.isPositive=He.ispos=function(){return this.s>0};He.isZero=function(){return this.s===0};He.lessThan=He.lt=function(e){return this.cmp(e)<0};He.lessThanOrEqualTo=He.lte=function(e){return this.cmp(e)<1};He.logarithm=He.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Mn))throw Error(na+"NaN");if(r.s<1)throw Error(na+(r.s?"NaN":"-Infinity"));return r.eq(Mn)?new n(0):(Qt=!1,t=Li(bd(r,i),bd(e,i),i),Qt=!0,zt(t,a))};He.minus=He.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?e4(t,e):Z3(t,(e.s=-e.s,e))};He.modulo=He.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(na+"NaN");return r.s?(Qt=!1,t=Li(r,e,0,1).times(e),Qt=!0,r.minus(t)):zt(new n(r),a)};He.naturalExponential=He.exp=function(){return Q3(this)};He.naturalLogarithm=He.ln=function(){return bd(this)};He.negated=He.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};He.plus=He.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Z3(t,e):e4(t,(e.s=-e.s,e))};He.precision=He.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ds+e);if(t=jr(a)+1,n=a.d.length-1,r=n*Kt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};He.squareRoot=He.sqrt=function(){var e,t,r,n,a,i,o,s=this,c=s.constructor;if(s.s<1){if(!s.s)return new c(0);throw Error(na+"NaN")}for(e=jr(s),Qt=!1,a=Math.sqrt(+s),a==0||a==1/0?(t=ei(s.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Dc((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(Li(s,i,o+2)).times(.5),ei(i.d).slice(0,o)===(t=ei(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(zt(i,r+1,0),i.times(i).eq(s)){n=i;break}}else if(t!="9999")break;o+=4}return Qt=!0,zt(n,r)};He.times=He.mul=function(e){var t,r,n,a,i,o,s,c,u,d=this,f=d.constructor,p=d.d,h=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=p.length,u=h.length,c<u&&(i=p,p=h,h=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)s=i[a]+h[n]*p[a-n-1]+t,i[a--]=s%Mr|0,t=s/Mr|0;i[a]=(i[a]+t)%Mr|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Qt?zt(e,f.precision):e};He.toDecimalPlaces=He.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(ui(e,0,$c),t===void 0?t=n.rounding:ui(t,0,8),zt(r,e+jr(r)+1,t))};He.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=As(n,!0):(ui(e,0,$c),t===void 0?t=a.rounding:ui(t,0,8),n=zt(new a(n),e+1,t),r=As(n,!0,e+1)),r};He.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?As(a):(ui(e,0,$c),t===void 0?t=i.rounding:ui(t,0,8),n=zt(new i(a),e+jr(a)+1,t),r=As(n.abs(),!1,e+jr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};He.toInteger=He.toint=function(){var e=this,t=e.constructor;return zt(new t(e),jr(e)+1,t.rounding)};He.toNumber=function(){return+this};He.toPower=He.pow=function(e){var t,r,n,a,i,o,s=this,c=s.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Mn);if(s=new c(s),!s.s){if(e.s<1)throw Error(na+"Infinity");return s}if(s.eq(Mn))return s;if(n=c.precision,e.eq(Mn))return zt(s,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=s.s,o){if((r=d<0?-d:d)<=J3){for(a=new c(Mn),t=Math.ceil(n/Kt+4),Qt=!1;r%2&&(a=a.times(s),X5(a.d,t)),r=Dc(r/2),r!==0;)s=s.times(s),X5(s.d,t);return Qt=!0,e.s<0?new c(Mn).div(a):zt(a,n)}}else if(i<0)throw Error(na+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,Qt=!1,a=e.times(bd(s,n+u)),Qt=!0,a=Q3(a),a.s=i,a};He.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=jr(a),n=As(a,r<=i.toExpNeg||r>=i.toExpPos)):(ui(e,1,$c),t===void 0?t=i.rounding:ui(t,0,8),a=zt(new i(a),e,t),r=jr(a),n=As(a,e<=r||r<=i.toExpNeg,e)),n};He.toSignificantDigits=He.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(ui(e,1,$c),t===void 0?t=n.rounding:ui(t,0,8)),zt(new n(r),e,t)};He.toString=He.valueOf=He.val=He.toJSON=He[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=jr(e),r=e.constructor;return As(e,t<=r.toExpNeg||t>=r.toExpPos)};function Z3(e,t){var r,n,a,i,o,s,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Qt?zt(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,s=u.length):(n=u,a=o,s=c.length),o=Math.ceil(f/Kt),s=o>s?o+1:s+1,i>s&&(i=s,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(s=c.length,i=u.length,s-i<0&&(i=s,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/Mr|0,c[i]%=Mr;for(r&&(c.unshift(r),++a),s=c.length;c[--s]==0;)c.pop();return t.d=c,t.e=a,Qt?zt(t,f):t}function ui(e,t,r){if(e!==~~e||e<t||e>r)throw Error(ds+e)}function ei(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=Kt-n.length,r&&(i+=so(r)),i+=n;o=e[t],n=o+"",r=Kt-n.length,r&&(i+=so(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Li=function(){function e(n,a){var i,o=0,s=n.length;for(n=n.slice();s--;)i=n[s]*a+o,n[s]=i%Mr|0,o=i/Mr|0;return o&&n.unshift(o),n}function t(n,a,i,o){var s,c;if(i!=o)c=i>o?1:-1;else for(s=c=0;s<i;s++)if(n[s]!=a[s]){c=n[s]>a[s]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*Mr+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var s,c,u,d,f,p,h,v,g,j,x,b,N,_,w,A,O,E,C=n.constructor,D=n.s==a.s?1:-1,k=n.d,T=a.d;if(!n.s)return new C(n);if(!a.s)throw Error(na+"Division by zero");for(c=n.e-a.e,O=T.length,w=k.length,h=new C(D),v=h.d=[],u=0;T[u]==(k[u]||0);)++u;if(T[u]>(k[u]||0)&&--c,i==null?b=i=C.precision:o?b=i+(jr(n)-jr(a))+1:b=i,b<0)return new C(0);if(b=b/Kt+2|0,u=0,O==1)for(d=0,T=T[0],b++;(u<w||d)&&b--;u++)N=d*Mr+(k[u]||0),v[u]=N/T|0,d=N%T|0;else{for(d=Mr/(T[0]+1)|0,d>1&&(T=e(T,d),k=e(k,d),O=T.length,w=k.length),_=O,g=k.slice(0,O),j=g.length;j<O;)g[j++]=0;E=T.slice(),E.unshift(0),A=T[0],T[1]>=Mr/2&&++A;do d=0,s=t(T,g,O,j),s<0?(x=g[0],O!=j&&(x=x*Mr+(g[1]||0)),d=x/A|0,d>1?(d>=Mr&&(d=Mr-1),f=e(T,d),p=f.length,j=g.length,s=t(f,g,p,j),s==1&&(d--,r(f,O<p?E:T,p))):(d==0&&(s=d=1),f=T.slice()),p=f.length,p<j&&f.unshift(0),r(g,f,j),s==-1&&(j=g.length,s=t(T,g,O,j),s<1&&(d++,r(g,O<j?E:T,j))),j=g.length):s===0&&(d++,g=[0]),v[u++]=d,s&&g[0]?g[j++]=k[_]||0:(g=[k[_]],j=1);while((_++<w||g[0]!==void 0)&&b--)}return v[0]||v.shift(),h.e=c,zt(h,o?i+jr(h)+1:i)}}();function Q3(e,t){var r,n,a,i,o,s,c=0,u=0,d=e.constructor,f=d.precision;if(jr(e)>16)throw Error(bx+jr(e));if(!e.s)return new d(Mn);for(Qt=!1,s=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(Jo(2,u))/Math.LN10*2+5|0,s+=n,r=a=i=new d(Mn),d.precision=s;;){if(a=zt(a.times(e),s),r=r.times(++c),o=i.plus(Li(a,r,s)),ei(o.d).slice(0,s)===ei(i.d).slice(0,s)){for(;u--;)i=zt(i.times(i),s);return d.precision=f,t==null?(Qt=!0,zt(i,f)):i}i=o}}function jr(e){for(var t=e.e*Kt,r=e.d[0];r>=10;r/=10)t++;return t}function kv(e,t,r){if(t>e.LN10.sd())throw Qt=!0,r&&(e.precision=r),Error(na+"LN10 precision limit exceeded");return zt(new e(e.LN10),t)}function so(e){for(var t="";e--;)t+="0";return t}function bd(e,t){var r,n,a,i,o,s,c,u,d,f=1,p=10,h=e,v=h.d,g=h.constructor,j=g.precision;if(h.s<1)throw Error(na+(h.s?"NaN":"-Infinity"));if(h.eq(Mn))return new g(0);if(t==null?(Qt=!1,u=j):u=t,h.eq(10))return t==null&&(Qt=!0),kv(g,u);if(u+=p,g.precision=u,r=ei(v),n=r.charAt(0),i=jr(h),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(e),r=ei(h.d),n=r.charAt(0),f++;i=jr(h),n>1?(h=new g("0."+r),i++):h=new g(n+"."+r.slice(1))}else return c=kv(g,u+2,j).times(i+""),h=bd(new g(n+"."+r.slice(1)),u-p).plus(c),g.precision=j,t==null?(Qt=!0,zt(h,j)):h;for(s=o=h=Li(h.minus(Mn),h.plus(Mn),u),d=zt(h.times(h),u),a=3;;){if(o=zt(o.times(d),u),c=s.plus(Li(o,new g(a),u)),ei(c.d).slice(0,u)===ei(s.d).slice(0,u))return s=s.times(2),i!==0&&(s=s.plus(kv(g,u+2,j).times(i+""))),s=Li(s,new g(f),u),g.precision=j,t==null?(Qt=!0,zt(s,j)):s;s=c,a+=2}}function K5(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Dc(r/Kt),e.d=[],n=(r+1)%Kt,r<0&&(n+=Kt),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Kt;n<a;)e.d.push(+t.slice(n,n+=Kt));t=t.slice(n),n=Kt-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Qt&&(e.e>up||e.e<-up))throw Error(bx+r)}else e.s=0,e.e=0,e.d=[0];return e}function zt(e,t,r){var n,a,i,o,s,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Kt,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Kt),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=Kt,a=n-Kt+o}if(r!==void 0&&(i=Jo(10,o-a-1),s=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(s||c)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||c||r==6&&(n>0?a>0?u/Jo(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=jr(e),f.length=1,t=t-i-1,f[0]=Jo(10,(Kt-t%Kt)%Kt),e.e=Dc(-t/Kt)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=Jo(10,Kt-n),f[d]=a>0?(u/Jo(10,o-a)%Jo(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==Mr&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=Mr)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(Qt&&(e.e>up||e.e<-up))throw Error(bx+jr(e));return e}function e4(e,t){var r,n,a,i,o,s,c,u,d,f,p=e.constructor,h=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),Qt?zt(t,h):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,s=f.length):(r=f,n=u,s=c.length),a=Math.max(Math.ceil(h/Kt),s)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,s=f.length,d=a<s,d&&(s=a),a=0;a<s;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),s=c.length,a=f.length-s;a>0;--a)c[s++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=Mr-1;--c[i],c[a]+=Mr}c[a]-=f[a]}for(;c[--s]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Qt?zt(t,h):t):new p(0)}function As(e,t,r){var n,a=jr(e),i=ei(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+so(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+so(-a-1)+i,r&&(n=r-o)>0&&(i+=so(n))):a>=o?(i+=so(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+so(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=so(n))),e.s<0?"-"+i:i}function X5(e,t){if(e.length>t)return e.length=t,!0}function t4(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(ds+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return K5(o,i.toString())}else if(typeof i!="string")throw Error(ds+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,Cee.test(i))K5(o,i);else throw Error(ds+i)}if(a.prototype=He,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=t4,a.config=a.set=Lee,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function Lee(e){if(!e||typeof e!="object")throw Error(na+"Object expected");var t,r,n,a=["precision",1,$c,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Dc(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(ds+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(ds+r+": "+n);return this}var xx=t4(Tee);Mn=new xx(1);const Dt=xx;function Mee(e){return Ree(e)||Iee(e)||Dee(e)||$ee()}function $ee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dee(e,t){if(e){if(typeof e=="string")return K0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return K0(e,t)}}function Iee(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Ree(e){if(Array.isArray(e))return K0(e)}function K0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Fee=function(t){return t},r4={},n4=function(t){return t===r4},J5=function(t){return function r(){return arguments.length===0||arguments.length===1&&n4(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},Bee=function e(t,r){return t===1?r:J5(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(s){return s!==r4}).length;return o>=t?r.apply(void 0,a):e(t-o,J5(function(){for(var s=arguments.length,c=new Array(s),u=0;u<s;u++)c[u]=arguments[u];var d=a.map(function(f){return n4(f)?c.shift():f});return r.apply(void 0,Mee(d).concat(c))}))})},Rm=function(t){return Bee(t.length,t)},X0=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},zee=Rm(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),qee=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return Fee;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(s,c){return c(s)},i.apply(void 0,arguments))}},J0=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},a4=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(s,c){return s===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function Uee(e){var t;return e===0?t=1:t=Math.floor(new Dt(e).abs().log(10).toNumber())+1,t}function Wee(e,t,r){for(var n=new Dt(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var Hee=Rm(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),Gee=Rm(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),Vee=Rm(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Fm={rangeStep:Wee,getDigitCount:Uee,interpolateNumber:Hee,uninterpolateNumber:Gee,uninterpolateTruncation:Vee};function Z0(e){return Xee(e)||Kee(e)||i4(e)||Yee()}function Yee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kee(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Xee(e){if(Array.isArray(e))return Q0(e)}function xd(e,t){return Qee(e)||Zee(e,t)||i4(e,t)||Jee()}function Jee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i4(e,t){if(e){if(typeof e=="string")return Q0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q0(e,t)}}function Q0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Zee(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),s;!(n=(s=o.next()).done)&&(r.push(s.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function Qee(e){if(Array.isArray(e))return e}function o4(e){var t=xd(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function s4(e,t,r){if(e.lte(0))return new Dt(0);var n=Fm.getDigitCount(e.toNumber()),a=new Dt(10).pow(n),i=e.div(a),o=n!==1?.05:.1,s=new Dt(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=s.mul(a);return t?c:new Dt(Math.ceil(c))}function ete(e,t,r){var n=1,a=new Dt(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Dt(10).pow(Fm.getDigitCount(e)-1),a=new Dt(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Dt(Math.floor(e)))}else e===0?a=new Dt(Math.floor((t-1)/2)):r||(a=new Dt(Math.floor(e)));var o=Math.floor((t-1)/2),s=qee(zee(function(c){return a.add(new Dt(c-o).mul(n)).toNumber()}),X0);return s(0,t)}function l4(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Dt(0),tickMin:new Dt(0),tickMax:new Dt(0)};var i=s4(new Dt(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new Dt(0):(o=new Dt(e).add(t).div(2),o=o.sub(new Dt(o).mod(i)));var s=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new Dt(t).sub(o).div(i).toNumber()),u=s+c+1;return u>r?l4(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,s=t>0?s:s+(r-u)),{step:i,tickMin:o.sub(new Dt(s).mul(i)),tickMax:o.add(new Dt(c).mul(i))})}function tte(e){var t=xd(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),s=o4([r,n]),c=xd(s,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(Z0(X0(0,a-1).map(function(){return 1/0}))):[].concat(Z0(X0(0,a-1).map(function(){return-1/0})),[d]);return r>n?J0(f):f}if(u===d)return ete(u,a,i);var p=l4(u,d,o,i),h=p.step,v=p.tickMin,g=p.tickMax,j=Fm.rangeStep(v,g.add(new Dt(.1).mul(h)),h);return r>n?J0(j):j}function rte(e,t){var r=xd(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=o4([n,a]),s=xd(o,2),c=s[0],u=s[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=s4(new Dt(u).sub(c).div(d-1),i,0),p=[].concat(Z0(Fm.rangeStep(new Dt(c),new Dt(u).sub(new Dt(.99).mul(f)),f)),[u]);return n>a?J0(p):p}var nte=a4(tte),ate=a4(rte),ite="Invariant failed";function Os(e,t){throw new Error(ite)}var ote=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Zl(e){"@babel/helpers - typeof";return Zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zl(e)}function dp(){return dp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dp.apply(this,arguments)}function ste(e,t){return dte(e)||ute(e,t)||cte(e,t)||lte()}function lte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cte(e,t){if(e){if(typeof e=="string")return Z5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z5(e,t)}}function Z5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ute(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function dte(e){if(Array.isArray(e))return e}function fte(e,t){if(e==null)return{};var r=hte(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hte(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function pte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mte(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d4(n.key),n)}}function gte(e,t,r){return t&&mte(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function vte(e,t,r){return t=fp(t),yte(e,c4()?Reflect.construct(t,r||[],fp(e).constructor):t.apply(e,r))}function yte(e,t){if(t&&(Zl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bte(e)}function bte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c4=function(){return!!e})()}function fp(e){return fp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fp(e)}function xte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ey(e,t)}function ey(e,t){return ey=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ey(e,t)}function u4(e,t,r){return t=d4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d4(e){var t=wte(e,"string");return Zl(t)=="symbol"?t:t+""}function wte(e,t){if(Zl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Bm=function(e){function t(){return pte(this,t),vte(this,t,arguments)}return xte(t,e),gte(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,o=n.width,s=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,p=fte(n,ote),h=Xe(p,!1);this.props.direction==="x"&&d.type!=="number"&&Os();var v=c.map(function(g){var j=u(g,s),x=j.x,b=j.y,N=j.value,_=j.errorVal;if(!_)return null;var w=[],A,O;if(Array.isArray(_)){var E=ste(_,2);A=E[0],O=E[1]}else A=O=_;if(i==="vertical"){var C=d.scale,D=b+a,k=D+o,T=D-o,$=C(N-A),I=C(N+O);w.push({x1:I,y1:k,x2:I,y2:T}),w.push({x1:$,y1:D,x2:I,y2:D}),w.push({x1:$,y1:k,x2:$,y2:T})}else if(i==="horizontal"){var V=f.scale,F=x+a,B=F-o,X=F+o,Y=V(N-A),Z=V(N+O);w.push({x1:B,y1:Z,x2:X,y2:Z}),w.push({x1:F,y1:Y,x2:F,y2:Z}),w.push({x1:B,y1:Y,x2:X,y2:Y})}return U.createElement(Nt,dp({className:"recharts-errorBar",key:"bar-".concat(w.map(function(ae){return"".concat(ae.x1,"-").concat(ae.x2,"-").concat(ae.y1,"-").concat(ae.y2)}))},h),w.map(function(ae){return U.createElement("line",dp({},ae,{key:"line-".concat(ae.x1,"-").concat(ae.x2,"-").concat(ae.y1,"-").concat(ae.y2)}))}))});return U.createElement(Nt,{className:"recharts-errorBars"},v)}}])}(U.Component);u4(Bm,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});u4(Bm,"displayName","ErrorBar");function wd(e){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wd(e)}function Q5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Uo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q5(Object(r),!0).forEach(function(n){jte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jte(e,t,r){return t=Nte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nte(e){var t=Ste(e,"string");return wd(t)=="symbol"?t:t+""}function Ste(e,t){if(wd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var f4=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=Cn(r,cs);if(!o)return null;var s=cs.defaultProps,c=s!==void 0?Uo(Uo({},s),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var p=f.item,h=f.props,v=h.sectors||h.data||[];return d.concat(v.map(function(g){return{type:o.props.iconType||p.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(n||[]).map(function(d){var f=d.item,p=f.type.defaultProps,h=p!==void 0?Uo(Uo({},p),f.props):{},v=h.dataKey,g=h.name,j=h.legendType,x=h.hide;return{inactive:x,dataKey:v,type:c.iconType||j||"square",color:wx(f),value:g||v,payload:h}}),Uo(Uo(Uo({},c),cs.getWithHeight(o,a)),{},{payload:u,item:o})};function jd(e){"@babel/helpers - typeof";return jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jd(e)}function ej(e){return Pte(e)||Ote(e)||Ate(e)||_te()}function _te(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ate(e,t){if(e){if(typeof e=="string")return ty(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ty(e,t)}}function Ote(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Pte(e){if(Array.isArray(e))return ty(e)}function ty(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tj(Object(r),!0).forEach(function(n){$l(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $l(e,t,r){return t=Ete(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ete(e){var t=kte(e,"string");return jd(t)=="symbol"?t:t+""}function kte(e,t){if(jd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ar(e,t,r){return ht(e)||ht(t)?r:Or(t)?Dn(e,t,r):nt(t)?t(e):r}function Bu(e,t,r,n){var a=kee(e,function(s){return Ar(s,t)});if(r==="number"){var i=a.filter(function(s){return Le(s)||parseFloat(s)});return i.length?[Im(i),fo(i)]:[1/0,-1/0]}var o=n?a.filter(function(s){return!ht(s)}):a;return o.map(function(s){return Or(s)||s instanceof Date?s:""})}var Tte=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,s=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<s;u++){var d=u>0?a[u-1].coordinate:a[s-1].coordinate,f=a[u].coordinate,p=u>=s-1?a[0].coordinate:a[u+1].coordinate,h=void 0;if(un(f-d)!==un(p-f)){var v=[];if(un(p-f)===un(c[1]-c[0])){h=p;var g=f+c[1]-c[0];v[0]=Math.min(g,(g+d)/2),v[1]=Math.max(g,(g+d)/2)}else{h=d;var j=p+c[1]-c[0];v[0]=Math.min(f,(j+f)/2),v[1]=Math.max(f,(j+f)/2)}var x=[Math.min(f,(h+f)/2),Math.max(f,(h+f)/2)];if(t>x[0]&&t<=x[1]||t>=v[0]&&t<=v[1]){o=a[u].index;break}}else{var b=Math.min(d,p),N=Math.max(d,p);if(t>(b+f)/2&&t<=(N+f)/2){o=a[u].index;break}}}else for(var _=0;_<s;_++)if(_===0&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<s-1&&t>(n[_].coordinate+n[_-1].coordinate)/2&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_===s-1&&t>(n[_].coordinate+n[_-1].coordinate)/2){o=n[_].index;break}return o},wx=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?sr(sr({},t.type.defaultProps),t.props):t.props,o=i.stroke,s=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:s;break;default:c=s;break}return c},Cte=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},s=Object.keys(i),c=0,u=s.length;c<u;c++)for(var d=i[s[c]].stackGroups,f=Object.keys(d),p=0,h=f.length;p<h;p++){var v=d[f[p]],g=v.items,j=v.cateAxisId,x=g.filter(function(O){return Ci(O.type).indexOf("Bar")>=0});if(x&&x.length){var b=x[0].type.defaultProps,N=b!==void 0?sr(sr({},b),x[0].props):x[0].props,_=N.barSize,w=N[j];o[w]||(o[w]=[]);var A=ht(_)?r:_;o[w].push({item:x[0],stackList:x.slice(1),barSize:ht(A)?void 0:dn(A,n,0)})}}return o},Lte=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,s=t.maxBarSize,c=o.length;if(c<1)return null;var u=dn(r,a,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var p=!1,h=a/c,v=o.reduce(function(_,w){return _+w.barSize||0},0);v+=(c-1)*u,v>=a&&(v-=(c-1)*u,u=0),v>=a&&h>0&&(p=!0,h*=.9,v=c*h);var g=(a-v)/2>>0,j={offset:g-u,size:0};d=o.reduce(function(_,w){var A={item:w.item,position:{offset:j.offset+j.size+u,size:p?h:w.barSize}},O=[].concat(ej(_),[A]);return j=O[O.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(E){O.push({item:E,position:j})}),O},f)}else{var x=dn(n,a,0,!0);a-2*x-(c-1)*u<=0&&(u=0);var b=(a-2*x-(c-1)*u)/c;b>1&&(b>>=0);var N=s===+s?Math.min(b,s):b;d=o.reduce(function(_,w,A){var O=[].concat(ej(_),[{item:w.item,position:{offset:x+(b+u)*A+(b-N)/2,size:N}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(E){O.push({item:E,position:O[O.length-1].position})}),O},f)}return d},Mte=function(t,r,n,a){var i=n.children,o=n.width,s=n.margin,c=o-(s.left||0)-(s.right||0),u=f4({children:i,legendWidth:c});if(u){var d=a||{},f=d.width,p=d.height,h=u.align,v=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&v==="middle")&&h!=="center"&&Le(t[h]))return sr(sr({},t),{},$l({},h,t[h]+(f||0)));if((g==="horizontal"||g==="vertical"&&h==="center")&&v!=="middle"&&Le(t[v]))return sr(sr({},t),{},$l({},v,t[v]+(p||0)))}return t},$te=function(t,r,n){return ht(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},h4=function(t,r,n,a,i){var o=r.props.children,s=ea(o,Bm).filter(function(u){return $te(a,i,u.props.direction)});if(s&&s.length){var c=s.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=Ar(d,n);if(ht(f))return u;var p=Array.isArray(f)?[Im(f),fo(f)]:[f,f],h=c.reduce(function(v,g){var j=Ar(d,g,0),x=p[0]-Math.abs(Array.isArray(j)?j[0]:j),b=p[1]+Math.abs(Array.isArray(j)?j[1]:j);return[Math.min(x,v[0]),Math.max(b,v[1])]},[1/0,-1/0]);return[Math.min(h[0],u[0]),Math.max(h[1],u[1])]},[1/0,-1/0])}return null},Dte=function(t,r,n,a,i){var o=r.map(function(s){return h4(t,s,n,i,a)}).filter(function(s){return!ht(s)});return o&&o.length?o.reduce(function(s,c){return[Math.min(s[0],c[0]),Math.max(s[1],c[1])]},[1/0,-1/0]):null},p4=function(t,r,n,a,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&h4(t,c,u,a)||Bu(t,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var s={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)s[u[d]]||(s[u[d]]=!0,c.push(u[d]));return c},[])},m4=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},g4=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var i,o,s=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||s.push(r),o||s.push(n),s},Ti=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,s=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?un(s[0]-s[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var p=i?i.indexOf(f):f;return{coordinate:a(p)+u,value:f,offset:u}});return d.filter(function(f){return!Cc(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,p){return{coordinate:a(f)+u,value:f,index:p,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,p){return{coordinate:a(f)+u,value:i?i[f]:f,index:p,offset:u}})},Tv=new WeakMap,ch=function(t,r){if(typeof r!="function")return t;Tv.has(t)||Tv.set(t,new WeakMap);var n=Tv.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},v4=function(t,r,n){var a=t.scale,i=t.type,o=t.layout,s=t.axisType;if(a==="auto")return o==="radial"&&s==="radiusAxis"?{scale:pd(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:op(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Fu(),realScaleType:"point"}:i==="category"?{scale:pd(),realScaleType:"band"}:{scale:op(),realScaleType:"linear"};if(Ns(a)){var c="scale".concat(Sm(a));return{scale:(Y5[c]||Fu)(),realScaleType:Y5[c]?c:"point"}}return nt(a)?{scale:a}:{scale:Fu(),realScaleType:"point"}},rj=1e-4,y4=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-rj,o=Math.max(a[0],a[1])+rj,s=t(r[0]),c=t(r[n-1]);(s<i||s>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},Ite=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},Rte=function(t,r){if(!r||r.length!==2||!Le(r[0])||!Le(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!Le(t[0])||t[0]<n)&&(i[0]=n),(!Le(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},Fte=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0,s=0;s<r;++s){var c=Cc(t[s][n][1])?t[s][n][0]:t[s][n][1];c>=0?(t[s][n][0]=i,t[s][n][1]=i+c,i=t[s][n][1]):(t[s][n][0]=o,t[s][n][1]=o+c,o=t[s][n][1])}},Bte=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0;o<r;++o){var s=Cc(t[o][n][1])?t[o][n][0]:t[o][n][1];s>=0?(t[o][n][0]=i,t[o][n][1]=i+s,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},zte={sign:Fte,expand:RY,none:Wl,silhouette:FY,wiggle:BY,positive:Bte},qte=function(t,r,n){var a=r.map(function(s){return s.props.dataKey}),i=zte[n],o=IY().keys(a).value(function(s,c){return+Ar(s,c,0)}).order(T0).offset(i);return o(t)},Ute=function(t,r,n,a,i,o){if(!t)return null;var s=o?r.reverse():r,c={},u=s.reduce(function(f,p){var h,v=(h=p.type)!==null&&h!==void 0&&h.defaultProps?sr(sr({},p.type.defaultProps),p.props):p.props,g=v.stackId,j=v.hide;if(j)return f;var x=v[n],b=f[x]||{hasStack:!1,stackGroups:{}};if(Or(g)){var N=b.stackGroups[g]||{numericAxisId:n,cateAxisId:a,items:[]};N.items.push(p),b.hasStack=!0,b.stackGroups[g]=N}else b.stackGroups[Lc("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[p]};return sr(sr({},f),{},$l({},x,b))},c),d={};return Object.keys(u).reduce(function(f,p){var h=u[p];if(h.hasStack){var v={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(g,j){var x=h.stackGroups[j];return sr(sr({},g),{},$l({},j,{numericAxisId:n,cateAxisId:a,items:x.items,stackedData:qte(t,x.items,i)}))},v)}return sr(sr({},f),{},$l({},p,h))},d)},b4=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,s=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=nte(u,i,s);return t.domain([Im(d),fo(d)]),{niceTicks:d}}if(i&&a==="number"){var f=t.domain(),p=ate(f,i,s);return{niceTicks:p}}return null};function nj(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!ht(a[t.dataKey])){var s=qh(r,"value",a[t.dataKey]);if(s)return s.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=Ar(a,ht(o)?t.dataKey:o);return ht(c)?null:t.scale(c)}var aj=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,s=t.index;if(r.type==="category")return n[s]?n[s].coordinate+a:null;var c=Ar(o,r.dataKey,r.domain[s]);return ht(c)?null:r.scale(c)-i/2+a},Wte=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},Hte=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?sr(sr({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(Or(i)){var o=r[i];if(o){var s=o.items.indexOf(t);return s>=0?o.stackedData[s]:null}}return null},Gte=function(t){return t.reduce(function(r,n){return[Im(n.concat([r[0]]).filter(Le)),fo(n.concat([r[1]]).filter(Le))]},[1/0,-1/0])},x4=function(t,r,n){return Object.keys(t).reduce(function(a,i){var o=t[i],s=o.stackedData,c=s.reduce(function(u,d){var f=Gte(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},ij=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,oj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ry=function(t,r,n){if(nt(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(Le(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(ij.test(t[0])){var i=+ij.exec(t[0])[1];a[0]=r[0]-i}else nt(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(Le(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(oj.test(t[1])){var o=+oj.exec(t[1])[1];a[1]=r[1]+o}else nt(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},hp=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=tm(r,function(f){return f.coordinate}),o=1/0,s=1,c=i.length;s<c;s++){var u=i[s],d=i[s-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},sj=function(t,r,n){return!t||!t.length||xs(t,Dn(n,"type.defaultProps.domain"))?r:t},w4=function(t,r){var n=t.type.defaultProps?sr(sr({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,o=n.unit,s=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return sr(sr({},Xe(t,!1)),{},{dataKey:a,unit:o,formatter:s,name:i||a,color:wx(t),value:Ar(r,a),type:c,payload:r,chartType:u,hide:d})};function Nd(e){"@babel/helpers - typeof";return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nd(e)}function lj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lj(Object(r),!0).forEach(function(n){j4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function j4(e,t,r){return t=Vte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vte(e){var t=Yte(e,"string");return Nd(t)=="symbol"?t:t+""}function Yte(e,t){if(Nd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kte(e,t){return Qte(e)||Zte(e,t)||Jte(e,t)||Xte()}function Xte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jte(e,t){if(e){if(typeof e=="string")return cj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cj(e,t)}}function cj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Zte(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function Qte(e){if(Array.isArray(e))return e}var pp=Math.PI/180,ere=function(t){return t*180/Math.PI},Vt=function(t,r,n,a){return{x:t+Math.cos(-pp*a)*n,y:r+Math.sin(-pp*a)*n}},N4=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},tre=function(t,r,n,a,i){var o=t.width,s=t.height,c=t.startAngle,u=t.endAngle,d=dn(t.cx,o,o/2),f=dn(t.cy,s,s/2),p=N4(o,s,n),h=dn(t.innerRadius,p,0),v=dn(t.outerRadius,p,p*.8),g=Object.keys(r);return g.reduce(function(j,x){var b=r[x],N=b.domain,_=b.reversed,w;if(ht(b.range))a==="angleAxis"?w=[c,u]:a==="radiusAxis"&&(w=[h,v]),_&&(w=[w[1],w[0]]);else{w=b.range;var A=w,O=Kte(A,2);c=O[0],u=O[1]}var E=v4(b,i),C=E.realScaleType,D=E.scale;D.domain(N).range(w),y4(D);var k=b4(D,Pi(Pi({},b),{},{realScaleType:C})),T=Pi(Pi(Pi({},b),k),{},{range:w,radius:v,realScaleType:C,scale:D,cx:d,cy:f,innerRadius:h,outerRadius:v,startAngle:c,endAngle:u});return Pi(Pi({},j),{},j4({},x,T))},{})},rre=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-o,2))},nre=function(t,r){var n=t.x,a=t.y,i=r.cx,o=r.cy,s=rre({x:n,y:a},{x:i,y:o});if(s<=0)return{radius:s};var c=(n-i)/s,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:s,angle:ere(u),angleInRadian:u}},are=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:n-o*360}},ire=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),o=Math.floor(a/360),s=Math.min(i,o);return t+s*360},uj=function(t,r){var n=t.x,a=t.y,i=nre({x:n,y:a},r),o=i.radius,s=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=are(r),f=d.startAngle,p=d.endAngle,h=s,v;if(f<=p){for(;h>p;)h-=360;for(;h<f;)h+=360;v=h>=f&&h<=p}else{for(;h>f;)h-=360;for(;h<p;)h+=360;v=h>=p&&h<=f}return v?Pi(Pi({},r),{},{radius:o,angle:ire(h,r)}):null},S4=function(t){return!R.isValidElement(t)&&!nt(t)&&typeof t!="boolean"?t.className:""};function Sd(e){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sd(e)}var ore=["offset"];function sre(e){return dre(e)||ure(e)||cre(e)||lre()}function lre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cre(e,t){if(e){if(typeof e=="string")return ny(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ny(e,t)}}function ure(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dre(e){if(Array.isArray(e))return ny(e)}function ny(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fre(e,t){if(e==null)return{};var r=hre(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hre(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function dj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dj(Object(r),!0).forEach(function(n){pre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pre(e,t,r){return t=mre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mre(e){var t=gre(e,"string");return Sd(t)=="symbol"?t:t+""}function gre(e,t){if(Sd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _d(){return _d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_d.apply(this,arguments)}var vre=function(t){var r=t.value,n=t.formatter,a=ht(t.children)?r:t.children;return nt(n)?n(a):a},yre=function(t,r){var n=un(r-t),a=Math.min(Math.abs(r-t),360);return n*a},bre=function(t,r,n){var a=t.position,i=t.viewBox,o=t.offset,s=t.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,p=c.outerRadius,h=c.startAngle,v=c.endAngle,g=c.clockWise,j=(f+p)/2,x=yre(h,v),b=x>=0?1:-1,N,_;a==="insideStart"?(N=h+b*o,_=g):a==="insideEnd"?(N=v-b*o,_=!g):a==="end"&&(N=v+b*o,_=g),_=x<=0?_:!_;var w=Vt(u,d,j,N),A=Vt(u,d,j,N+(_?1:-1)*359),O="M".concat(w.x,",").concat(w.y,`
    A`).concat(j,",").concat(j,",0,1,").concat(_?0:1,`,
    `).concat(A.x,",").concat(A.y),E=ht(t.id)?Lc("recharts-radial-line-"):t.id;return U.createElement("text",_d({},n,{dominantBaseline:"central",className:gt("recharts-radial-bar-label",s)}),U.createElement("defs",null,U.createElement("path",{id:E,d:O})),U.createElement("textPath",{xlinkHref:"#".concat(E)},r))},xre=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,o=i.cx,s=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,p=(d+f)/2;if(a==="outside"){var h=Vt(o,s,u+n,p),v=h.x,g=h.y;return{x:v,y:g,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var j=(c+u)/2,x=Vt(o,s,j,p),b=x.x,N=x.y;return{x:b,y:N,textAnchor:"middle",verticalAnchor:"middle"}},wre=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,o=r,s=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,p=f*a,h=f>0?"end":"start",v=f>0?"start":"end",g=u>=0?1:-1,j=g*a,x=g>0?"end":"start",b=g>0?"start":"end";if(i==="top"){var N={x:s+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:h};return _r(_r({},N),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var _={x:s+u/2,y:c+d+p,textAnchor:"middle",verticalAnchor:v};return _r(_r({},_),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var w={x:s-j,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return _r(_r({},w),n?{width:Math.max(w.x-n.x,0),height:d}:{})}if(i==="right"){var A={x:s+u+j,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return _r(_r({},A),n?{width:Math.max(n.x+n.width-A.x,0),height:d}:{})}var O=n?{width:u,height:d}:{};return i==="insideLeft"?_r({x:s+j,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},O):i==="insideRight"?_r({x:s+u-j,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},O):i==="insideTop"?_r({x:s+u/2,y:c+p,textAnchor:"middle",verticalAnchor:v},O):i==="insideBottom"?_r({x:s+u/2,y:c+d-p,textAnchor:"middle",verticalAnchor:h},O):i==="insideTopLeft"?_r({x:s+j,y:c+p,textAnchor:b,verticalAnchor:v},O):i==="insideTopRight"?_r({x:s+u-j,y:c+p,textAnchor:x,verticalAnchor:v},O):i==="insideBottomLeft"?_r({x:s+j,y:c+d-p,textAnchor:b,verticalAnchor:h},O):i==="insideBottomRight"?_r({x:s+u-j,y:c+d-p,textAnchor:x,verticalAnchor:h},O):xc(i)&&(Le(i.x)||ts(i.x))&&(Le(i.y)||ts(i.y))?_r({x:s+dn(i.x,u),y:c+dn(i.y,d),textAnchor:"end",verticalAnchor:"end"},O):_r({x:s+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},O)},jre=function(t){return"cx"in t&&Le(t.cx)};function Dr(e){var t=e.offset,r=t===void 0?5:t,n=fre(e,ore),a=_r({offset:r},n),i=a.viewBox,o=a.position,s=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,p=a.textBreakAll;if(!i||ht(s)&&ht(c)&&!R.isValidElement(u)&&!nt(u))return null;if(R.isValidElement(u))return R.cloneElement(u,a);var h;if(nt(u)){if(h=R.createElement(u,a),R.isValidElement(h))return h}else h=vre(a);var v=jre(i),g=Xe(a,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return bre(a,h,g);var j=v?xre(a):wre(a);return U.createElement(_s,_d({className:gt("recharts-label",f)},g,j,{breakAll:p}),h)}Dr.displayName="Label";var _4=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,s=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,p=t.y,h=t.top,v=t.left,g=t.width,j=t.height,x=t.clockWise,b=t.labelViewBox;if(b)return b;if(Le(g)&&Le(j)){if(Le(f)&&Le(p))return{x:f,y:p,width:g,height:j};if(Le(h)&&Le(v))return{x:h,y:v,width:g,height:j}}return Le(f)&&Le(p)?{x:f,y:p,width:0,height:0}:Le(r)&&Le(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||c||s||0,clockWise:x}:t.viewBox?t.viewBox:{}},Nre=function(t,r){return t?t===!0?U.createElement(Dr,{key:"label-implicit",viewBox:r}):Or(t)?U.createElement(Dr,{key:"label-implicit",viewBox:r,value:t}):R.isValidElement(t)?t.type===Dr?R.cloneElement(t,{key:"label-implicit",viewBox:r}):U.createElement(Dr,{key:"label-implicit",content:t,viewBox:r}):nt(t)?U.createElement(Dr,{key:"label-implicit",content:t,viewBox:r}):xc(t)?U.createElement(Dr,_d({viewBox:r},t,{key:"label-implicit"})):null:null},Sre=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=_4(t),o=ea(a,Dr).map(function(c,u){return R.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var s=Nre(t.label,r||i);return[s].concat(sre(o))};Dr.parseViewBox=_4;Dr.renderCallByParent=Sre;function Ad(e){"@babel/helpers - typeof";return Ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ad(e)}var _re=["valueAccessor"],Are=["data","dataKey","clockWise","id","textBreakAll"];function Ore(e){return Tre(e)||kre(e)||Ere(e)||Pre()}function Pre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ere(e,t){if(e){if(typeof e=="string")return ay(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ay(e,t)}}function kre(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Tre(e){if(Array.isArray(e))return ay(e)}function ay(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mp(){return mp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mp.apply(this,arguments)}function fj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fj(Object(r),!0).forEach(function(n){Cre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cre(e,t,r){return t=Lre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lre(e){var t=Mre(e,"string");return Ad(t)=="symbol"?t:t+""}function Mre(e,t){if(Ad(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ad(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pj(e,t){if(e==null)return{};var r=$re(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $re(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Dre=function(t){return Array.isArray(t.value)?Rz(t.value):t.value};function Mi(e){var t=e.valueAccessor,r=t===void 0?Dre:t,n=pj(e,_re),a=n.data,i=n.dataKey,o=n.clockWise,s=n.id,c=n.textBreakAll,u=pj(n,Are);return!a||!a.length?null:U.createElement(Nt,{className:"recharts-label-list"},a.map(function(d,f){var p=ht(i)?r(d,f):Ar(d&&d.payload,i),h=ht(s)?{}:{id:"".concat(s,"-").concat(f)};return U.createElement(Dr,mp({},Xe(d,!0),u,h,{parentViewBox:d.parentViewBox,value:p,textBreakAll:c,viewBox:Dr.parseViewBox(ht(o)?d:hj(hj({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Mi.displayName="LabelList";function Ire(e,t){return e?e===!0?U.createElement(Mi,{key:"labelList-implicit",data:t}):U.isValidElement(e)||nt(e)?U.createElement(Mi,{key:"labelList-implicit",data:t,content:e}):xc(e)?U.createElement(Mi,mp({data:t},e,{key:"labelList-implicit"})):null:null}function Rre(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=ea(n,Mi).map(function(o,s){return R.cloneElement(o,{data:t,key:"labelList-".concat(s)})});if(!r)return a;var i=Ire(e.label,t);return[i].concat(Ore(a))}Mi.renderCallByParent=Rre;function Od(e){"@babel/helpers - typeof";return Od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Od(e)}function iy(){return iy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iy.apply(this,arguments)}function mj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mj(Object(r),!0).forEach(function(n){Fre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fre(e,t,r){return t=Bre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bre(e){var t=zre(e,"string");return Od(t)=="symbol"?t:t+""}function zre(e,t){if(Od(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Od(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qre=function(t,r){var n=un(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},uh=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,o=t.sign,s=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(s?1:-1)+a,f=Math.asin(c/d)/pp,p=u?i:i+o*f,h=Vt(r,n,d,p),v=Vt(r,n,a,p),g=u?i-o*f:i,j=Vt(r,n,d*Math.cos(f*pp),g);return{center:h,circleTangency:v,lineTangency:j,theta:f}},A4=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,s=t.endAngle,c=qre(o,s),u=o+c,d=Vt(r,n,i,o),f=Vt(r,n,i,u),p="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var h=Vt(r,n,a,o),v=Vt(r,n,a,u);p+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(h.x,",").concat(h.y," Z")}else p+="L ".concat(r,",").concat(n," Z");return p},Ure=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,s=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=un(d-u),p=uh({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),h=p.circleTangency,v=p.lineTangency,g=p.theta,j=uh({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),x=j.circleTangency,b=j.lineTangency,N=j.theta,_=c?Math.abs(u-d):Math.abs(u-d)-g-N;if(_<0)return s?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):A4({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var w="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(a>0){var A=uh({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),O=A.circleTangency,E=A.lineTangency,C=A.theta,D=uh({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),k=D.circleTangency,T=D.lineTangency,$=D.theta,I=c?Math.abs(u-d):Math.abs(u-d)-C-$;if(I<0&&o===0)return"".concat(w,"L").concat(r,",").concat(n,"Z");w+="L".concat(T.x,",").concat(T.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(I>180),",").concat(+(f>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,"Z")}else w+="L".concat(r,",").concat(n,"Z");return w},Wre={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},O4=function(t){var r=gj(gj({},Wre),t),n=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,s=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,p=r.className;if(o<i||d===f)return null;var h=gt("recharts-sector",p),v=o-i,g=dn(s,v,0,!0),j;return g>0&&Math.abs(d-f)<360?j=Ure({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(g,v/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):j=A4({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),U.createElement("path",iy({},Xe(r,!0),{className:h,d:j,role:"img"}))};function Pd(e){"@babel/helpers - typeof";return Pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pd(e)}function oy(){return oy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oy.apply(this,arguments)}function vj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vj(Object(r),!0).forEach(function(n){Hre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hre(e,t,r){return t=Gre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gre(e){var t=Vre(e,"string");return Pd(t)=="symbol"?t:t+""}function Vre(e,t){if(Pd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bj={curveBasisClosed:AY,curveBasisOpen:OY,curveBasis:_Y,curveBumpX:dY,curveBumpY:fY,curveLinearClosed:PY,curveLinear:Am,curveMonotoneX:EY,curveMonotoneY:kY,curveNatural:TY,curveStep:CY,curveStepAfter:MY,curveStepBefore:LY},dh=function(t){return t.x===+t.x&&t.y===+t.y},Ou=function(t){return t.x},Pu=function(t){return t.y},Yre=function(t,r){if(nt(t))return t;var n="curve".concat(Sm(t));return(n==="curveMonotone"||n==="curveBump")&&r?bj["".concat(n).concat(r==="vertical"?"Y":"X")]:bj[n]||Am},Kre=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,o=t.baseLine,s=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=Yre(n,s),f=u?i.filter(function(g){return dh(g)}):i,p;if(Array.isArray(o)){var h=u?o.filter(function(g){return dh(g)}):o,v=f.map(function(g,j){return yj(yj({},g),{},{base:h[j]})});return s==="vertical"?p=rh().y(Pu).x1(Ou).x0(function(g){return g.base.x}):p=rh().x(Ou).y1(Pu).y0(function(g){return g.base.y}),p.defined(dh).curve(d),p(v)}return s==="vertical"&&Le(o)?p=rh().y(Pu).x1(Ou).x0(o):Le(o)?p=rh().x(Ou).y1(Pu).y0(o):p=WA().x(Ou).y(Pu),p.defined(dh).curve(d),p(f)},Dl=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?Kre(t):a;return U.createElement("path",oy({},Xe(t,!1),Uh(t),{className:gt("recharts-curve",r),d:o,ref:i}))},Xre=Object.getOwnPropertyNames,Jre=Object.getOwnPropertySymbols,Zre=Object.prototype.hasOwnProperty;function xj(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function fh(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,o=i.get(r),s=i.get(n);if(o&&s)return o===n&&s===r;i.set(r,n),i.set(n,r);var c=e(r,n,a);return i.delete(r),i.delete(n),c}}function wj(e){return Xre(e).concat(Jre(e))}var Qre=Object.hasOwn||function(e,t){return Zre.call(e,t)};function $s(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var ene="__v",tne="__o",rne="_owner",jj=Object.getOwnPropertyDescriptor,Nj=Object.keys;function nne(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function ane(e,t){return $s(e.getTime(),t.getTime())}function ine(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function one(e,t){return e===t}function Sj(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),o,s,c=0;(o=i.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(s=u.next())&&!s.done;){if(a[f]){f++;continue}var p=o.value,h=s.value;if(r.equals(p[0],h[0],c,f,e,t,r)&&r.equals(p[1],h[1],p[0],h[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var sne=$s;function lne(e,t,r){var n=Nj(e),a=n.length;if(Nj(t).length!==a)return!1;for(;a-- >0;)if(!P4(e,t,r,n[a]))return!1;return!0}function Eu(e,t,r){var n=wj(e),a=n.length;if(wj(t).length!==a)return!1;for(var i,o,s;a-- >0;)if(i=n[a],!P4(e,t,r,i)||(o=jj(e,i),s=jj(t,i),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function cne(e,t){return $s(e.valueOf(),t.valueOf())}function une(e,t){return e.source===t.source&&e.flags===t.flags}function _j(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),o,s;(o=i.next())&&!o.done;){for(var c=t.values(),u=!1,d=0;(s=c.next())&&!s.done;){if(!a[d]&&r.equals(o.value,s.value,o.value,s.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function dne(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function fne(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function P4(e,t,r,n){return(n===rne||n===tne||n===ene)&&(e.$$typeof||t.$$typeof)?!0:Qre(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var hne="[object Arguments]",pne="[object Boolean]",mne="[object Date]",gne="[object Error]",vne="[object Map]",yne="[object Number]",bne="[object Object]",xne="[object RegExp]",wne="[object Set]",jne="[object String]",Nne="[object URL]",Sne=Array.isArray,Aj=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,Oj=Object.assign,_ne=Object.prototype.toString.call.bind(Object.prototype.toString);function Ane(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,s=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,p=e.areUrlsEqual;return function(v,g,j){if(v===g)return!0;if(v==null||g==null)return!1;var x=typeof v;if(x!==typeof g)return!1;if(x!=="object")return x==="number"?o(v,g,j):x==="function"?a(v,g,j):!1;var b=v.constructor;if(b!==g.constructor)return!1;if(b===Object)return s(v,g,j);if(Sne(v))return t(v,g,j);if(Aj!=null&&Aj(v))return f(v,g,j);if(b===Date)return r(v,g,j);if(b===RegExp)return u(v,g,j);if(b===Map)return i(v,g,j);if(b===Set)return d(v,g,j);var N=_ne(v);return N===mne?r(v,g,j):N===xne?u(v,g,j):N===vne?i(v,g,j):N===wne?d(v,g,j):N===bne?typeof v.then!="function"&&typeof g.then!="function"&&s(v,g,j):N===Nne?p(v,g,j):N===gne?n(v,g,j):N===hne?s(v,g,j):N===pne||N===yne||N===jne?c(v,g,j):!1}}function One(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?Eu:nne,areDatesEqual:ane,areErrorsEqual:ine,areFunctionsEqual:one,areMapsEqual:n?xj(Sj,Eu):Sj,areNumbersEqual:sne,areObjectsEqual:n?Eu:lne,arePrimitiveWrappersEqual:cne,areRegExpsEqual:une,areSetsEqual:n?xj(_j,Eu):_j,areTypedArraysEqual:n?Eu:dne,areUrlsEqual:fne};if(r&&(a=Oj({},a,r(a))),t){var i=fh(a.areArraysEqual),o=fh(a.areMapsEqual),s=fh(a.areObjectsEqual),c=fh(a.areSetsEqual);a=Oj({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:c})}return a}function Pne(e){return function(t,r,n,a,i,o,s){return e(t,r,s)}}function Ene(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,p=f===void 0?t?new WeakMap:void 0:f,h=d.meta;return r(c,u,{cache:p,equals:a,meta:h,strict:i})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,u){return r(c,u,o)}}var kne=Ao();Ao({strict:!0});Ao({circular:!0});Ao({circular:!0,strict:!0});Ao({createInternalComparator:function(){return $s}});Ao({strict:!0,createInternalComparator:function(){return $s}});Ao({circular:!0,createInternalComparator:function(){return $s}});Ao({circular:!0,createInternalComparator:function(){return $s},strict:!0});function Ao(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,s=One(e),c=Ane(s),u=n?n(c):Pne(c);return Ene({circular:r,comparator:c,createState:a,equals:u,strict:o})}function Tne(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function Pj(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):Tne(a)};requestAnimationFrame(n)}function sy(e){"@babel/helpers - typeof";return sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sy(e)}function Cne(e){return Dne(e)||$ne(e)||Mne(e)||Lne()}function Lne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mne(e,t){if(e){if(typeof e=="string")return Ej(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ej(e,t)}}function Ej(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $ne(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Dne(e){if(Array.isArray(e))return e}function Ine(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,s=Cne(o),c=s[0],u=s.slice(1);if(typeof c=="number"){Pj(a.bind(null,u),c);return}a(c),Pj(a.bind(null,u));return}sy(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Ed(e){"@babel/helpers - typeof";return Ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ed(e)}function kj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kj(Object(r),!0).forEach(function(n){E4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function E4(e,t,r){return t=Rne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rne(e){var t=Fne(e,"string");return Ed(t)==="symbol"?t:String(t)}function Fne(e,t){if(Ed(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ed(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bne=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},zne=function(t){return t},qne=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},zu=function(t,r){return Object.keys(r).reduce(function(n,a){return Tj(Tj({},n),{},E4({},a,t(a,r[a])))},{})},Cj=function(t,r,n){return t.map(function(a){return"".concat(qne(a)," ").concat(r,"ms ").concat(n)}).join(",")};function Une(e,t){return Gne(e)||Hne(e,t)||k4(e,t)||Wne()}function Wne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hne(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function Gne(e){if(Array.isArray(e))return e}function Vne(e){return Xne(e)||Kne(e)||k4(e)||Yne()}function Yne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k4(e,t){if(e){if(typeof e=="string")return ly(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ly(e,t)}}function Kne(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Xne(e){if(Array.isArray(e))return ly(e)}function ly(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var gp=1e-4,T4=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},C4=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},Lj=function(t,r){return function(n){var a=T4(t,r);return C4(a,n)}},Jne=function(t,r){return function(n){var a=T4(t,r),i=[].concat(Vne(a.map(function(o,s){return o*s}).slice(1)),[0]);return C4(i,n)}},Mj=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],o=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,s=1;break;case"ease":a=.25,i=.1,o=.25,s=1;break;case"ease-in":a=.42,i=0,o=1,s=1;break;case"ease-out":a=.42,i=0,o=.58,s=1;break;case"ease-in-out":a=0,i=0,o=.58,s=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(j){return parseFloat(j)}),d=Une(u,4);a=d[0],i=d[1],o=d[2],s=d[3]}}}var f=Lj(a,o),p=Lj(i,s),h=Jne(a,o),v=function(x){return x>1?1:x<0?0:x},g=function(x){for(var b=x>1?1:x,N=b,_=0;_<8;++_){var w=f(N)-b,A=h(N);if(Math.abs(w-b)<gp||A<gp)return p(N);N=v(N-w/A)}return p(N)};return g.isStepper=!1,g},Zne=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,o=t.dt,s=o===void 0?17:o,c=function(d,f,p){var h=-(d-f)*n,v=p*i,g=p+(h-v)*s/1e3,j=p*s/1e3+d;return Math.abs(j-f)<gp&&Math.abs(g)<gp?[f,0]:[j,g]};return c.isStepper=!0,c.dt=s,c},Qne=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Mj(a);case"spring":return Zne();default:if(a.split("(")[0]==="cubic-bezier")return Mj(a)}return typeof a=="function"?a:null};function kd(e){"@babel/helpers - typeof";return kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kd(e)}function $j(e){return rae(e)||tae(e)||L4(e)||eae()}function eae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tae(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rae(e){if(Array.isArray(e))return uy(e)}function Dj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dj(Object(r),!0).forEach(function(n){cy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cy(e,t,r){return t=nae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nae(e){var t=aae(e,"string");return kd(t)==="symbol"?t:String(t)}function aae(e,t){if(kd(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iae(e,t){return lae(e)||sae(e,t)||L4(e,t)||oae()}function oae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L4(e,t){if(e){if(typeof e=="string")return uy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uy(e,t)}}function uy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sae(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function lae(e){if(Array.isArray(e))return e}var vp=function(t,r,n){return t+(r-t)*n},dy=function(t){var r=t.from,n=t.to;return r!==n},cae=function e(t,r,n){var a=zu(function(i,o){if(dy(o)){var s=t(o.from,o.to,o.velocity),c=iae(s,2),u=c[0],d=c[1];return zr(zr({},o),{},{from:u,velocity:d})}return o},r);return n<1?zu(function(i,o){return dy(o)?zr(zr({},o),{},{velocity:vp(o.velocity,a[i].velocity,n),from:vp(o.from,a[i].from,n)}):o},r):e(t,a,n-1)};const uae=function(e,t,r,n,a){var i=Bne(e,t),o=i.reduce(function(j,x){return zr(zr({},j),{},cy({},x,[e[x],t[x]]))},{}),s=i.reduce(function(j,x){return zr(zr({},j),{},cy({},x,{from:e[x],velocity:0,to:t[x]}))},{}),c=-1,u,d,f=function(){return null},p=function(){return zu(function(x,b){return b.from},s)},h=function(){return!Object.values(s).filter(dy).length},v=function(x){u||(u=x);var b=x-u,N=b/r.dt;s=cae(r,s,N),a(zr(zr(zr({},e),t),p())),u=x,h()||(c=requestAnimationFrame(f))},g=function(x){d||(d=x);var b=(x-d)/n,N=zu(function(w,A){return vp.apply(void 0,$j(A).concat([r(b)]))},o);if(a(zr(zr(zr({},e),t),N)),b<1)c=requestAnimationFrame(f);else{var _=zu(function(w,A){return vp.apply(void 0,$j(A).concat([r(1)]))},o);a(zr(zr(zr({},e),t),_))}};return f=r.isStepper?v:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Ql(e){"@babel/helpers - typeof";return Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ql(e)}var dae=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function fae(e,t){if(e==null)return{};var r=hae(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hae(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Cv(e){return vae(e)||gae(e)||mae(e)||pae()}function pae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mae(e,t){if(e){if(typeof e=="string")return fy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fy(e,t)}}function gae(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vae(e){if(Array.isArray(e))return fy(e)}function fy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ij(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ij(Object(r),!0).forEach(function(n){Lu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ij(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lu(e,t,r){return t=M4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bae(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,M4(n.key),n)}}function xae(e,t,r){return t&&bae(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function M4(e){var t=wae(e,"string");return Ql(t)==="symbol"?t:String(t)}function wae(e,t){if(Ql(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ql(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hy(e,t)}function hy(e,t){return hy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},hy(e,t)}function Nae(e){var t=Sae();return function(){var n=yp(e),a;if(t){var i=yp(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return py(this,a)}}function py(e,t){if(t&&(Ql(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return my(e)}function my(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sae(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function yp(e){return yp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yp(e)}var di=function(e){jae(r,e);var t=Nae(r);function r(n,a){var i;yae(this,r),i=t.call(this,n,a);var o=i.props,s=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,p=o.children,h=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(my(i)),i.changeStyle=i.changeStyle.bind(my(i)),!s||h<=0)return i.state={style:{}},typeof p=="function"&&(i.state={style:d}),py(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof p=="function")return i.state={style:u},py(i);i.state={style:c?Lu({},c,u):u}}else i.state={style:{}};return i}return xae(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,s=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,p=this.state.style;if(s){if(!o){var h={style:c?Lu({},c,d):d};this.state&&p&&(c&&p[c]!==d||!c&&p!==d)&&this.setState(h);return}if(!(kne(a.to,d)&&a.canBegin&&a.isActive)){var v=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=v||u?f:a.to;if(this.state&&p){var j={style:c?Lu({},c,g):g};(c&&p[c]!==g||!c&&p!==g)&&this.setState(j)}this.runAnimation(wa(wa({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,s=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,p=a.onAnimationStart,h=uae(o,s,Qne(u),c,this.changeStyle),v=function(){i.stopJSAnimation=h()};this.manager.start([p,d,v,c,f])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,s=a.begin,c=a.onAnimationStart,u=o[0],d=u.style,f=u.duration,p=f===void 0?0:f,h=function(g,j,x){if(x===0)return g;var b=j.duration,N=j.easing,_=N===void 0?"ease":N,w=j.style,A=j.properties,O=j.onAnimationEnd,E=x>0?o[x-1]:j,C=A||Object.keys(w);if(typeof _=="function"||_==="spring")return[].concat(Cv(g),[i.runJSAnimation.bind(i,{from:E.style,to:w,duration:b,easing:_}),b]);var D=Cj(C,b,_),k=wa(wa(wa({},E.style),w),{},{transition:D});return[].concat(Cv(g),[k,b,O]).filter(zne)};return this.manager.start([c].concat(Cv(o.reduce(h,[d,Math.max(p,s)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=Ine());var i=a.begin,o=a.duration,s=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,p=a.steps,h=a.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof h=="function"||u==="spring"){this.runJSAnimation(a);return}if(p.length>1){this.runStepAnimation(a);return}var g=s?Lu({},s,c):c,j=Cj(Object.keys(g),o,u);v.start([d,i,wa(wa({},g),{},{transition:j}),o,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var s=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=fae(a,dae),u=R.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!s||u===0||o<=0)return i;var f=function(h){var v=h.props,g=v.style,j=g===void 0?{}:g,x=v.className,b=R.cloneElement(h,wa(wa({},c),{},{style:wa(wa({},j),d),className:x}));return b};return u===1?f(R.Children.only(i)):U.createElement("div",null,R.Children.map(i,function(p){return f(p)}))}}]),r}(R.PureComponent);di.displayName="Animate";di.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};di.propTypes={from:Se.oneOfType([Se.object,Se.string]),to:Se.oneOfType([Se.object,Se.string]),attributeName:Se.string,duration:Se.number,begin:Se.number,easing:Se.oneOfType([Se.string,Se.func]),steps:Se.arrayOf(Se.shape({duration:Se.number.isRequired,style:Se.object.isRequired,easing:Se.oneOfType([Se.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Se.func]),properties:Se.arrayOf("string"),onAnimationEnd:Se.func})),children:Se.oneOfType([Se.node,Se.func]),isActive:Se.bool,canBegin:Se.bool,onAnimationEnd:Se.func,shouldReAnimate:Se.bool,onAnimationStart:Se.func,onAnimationReStart:Se.func};function Td(e){"@babel/helpers - typeof";return Td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Td(e)}function bp(){return bp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bp.apply(this,arguments)}function _ae(e,t){return Eae(e)||Pae(e,t)||Oae(e,t)||Aae()}function Aae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oae(e,t){if(e){if(typeof e=="string")return Rj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Rj(e,t)}}function Rj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Pae(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function Eae(e){if(Array.isArray(e))return e}function Fj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fj(Object(r),!0).forEach(function(n){kae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kae(e,t,r){return t=Tae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tae(e){var t=Cae(e,"string");return Td(t)=="symbol"?t:t+""}function Cae(e,t){if(Td(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Td(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zj=function(t,r,n,a,i){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),s=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],p=0,h=4;p<h;p++)f[p]=i[p]>o?o:i[p];d="M".concat(t,",").concat(r+s*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+s*f[1])),d+="L ".concat(t+n,",").concat(r+a-s*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-s*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var v=Math.min(o,i);d="M ".concat(t,",").concat(r+s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+c*v,",").concat(r,`
            L `).concat(t+n-c*v,",").concat(r,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n,",").concat(r+s*v,`
            L `).concat(t+n,",").concat(r+a-s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n-c*v,",").concat(r+a,`
            L `).concat(t+c*v,",").concat(r+a,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t,",").concat(r+a-s*v," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},Lae=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,o=r.y,s=r.width,c=r.height;if(Math.abs(s)>0&&Math.abs(c)>0){var u=Math.min(i,i+s),d=Math.max(i,i+s),f=Math.min(o,o+c),p=Math.max(o,o+c);return n>=u&&n<=d&&a>=f&&a<=p}return!1},Mae={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},jx=function(t){var r=Bj(Bj({},Mae),t),n=R.useRef(),a=R.useState(-1),i=_ae(a,2),o=i[0],s=i[1];R.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&s(_)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,p=r.radius,h=r.className,v=r.animationEasing,g=r.animationDuration,j=r.animationBegin,x=r.isAnimationActive,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var N=gt("recharts-rectangle",h);return b?U.createElement(di,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:g,animationEasing:v,isActive:b},function(_){var w=_.width,A=_.height,O=_.x,E=_.y;return U.createElement(di,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:j,duration:g,isActive:x,easing:v},U.createElement("path",bp({},Xe(r,!0),{className:N,d:zj(O,E,w,A,p),ref:n})))}):U.createElement("path",bp({},Xe(r,!0),{className:N,d:zj(c,u,d,f,p)}))},$ae=["points","className","baseLinePoints","connectNulls"];function _l(){return _l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_l.apply(this,arguments)}function Dae(e,t){if(e==null)return{};var r=Iae(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Iae(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function qj(e){return zae(e)||Bae(e)||Fae(e)||Rae()}function Rae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fae(e,t){if(e){if(typeof e=="string")return gy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gy(e,t)}}function Bae(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zae(e){if(Array.isArray(e))return gy(e)}function gy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Uj=function(t){return t&&t.x===+t.x&&t.y===+t.y},qae=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){Uj(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),Uj(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},qu=function(t,r){var n=qae(t);r&&(n=[n.reduce(function(i,o){return[].concat(qj(i),qj(o))},[])]);var a=n.map(function(i){return i.reduce(function(o,s,c){return"".concat(o).concat(c===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},Uae=function(t,r,n){var a=qu(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(qu(r.reverse(),n).slice(1))},Wae=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,i=t.connectNulls,o=Dae(t,$ae);if(!r||!r.length)return null;var s=gt("recharts-polygon",n);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",u=Uae(r,a,i);return U.createElement("g",{className:s},U.createElement("path",_l({},Xe(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?U.createElement("path",_l({},Xe(o,!0),{fill:"none",d:qu(r,i)})):null,c?U.createElement("path",_l({},Xe(o,!0),{fill:"none",d:qu(a,i)})):null)}var d=qu(r,i);return U.createElement("path",_l({},Xe(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:s,d}))};function vy(){return vy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vy.apply(this,arguments)}var zm=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,o=gt("recharts-dot",i);return r===+r&&n===+n&&a===+a?U.createElement("circle",vy({},Xe(t,!1),Uh(t),{className:o,cx:r,cy:n,r:a})):null};function Cd(e){"@babel/helpers - typeof";return Cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cd(e)}var Hae=["x","y","top","left","width","height","className"];function yy(){return yy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yy.apply(this,arguments)}function Wj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gae(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wj(Object(r),!0).forEach(function(n){Vae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vae(e,t,r){return t=Yae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yae(e){var t=Kae(e,"string");return Cd(t)=="symbol"?t:t+""}function Kae(e,t){if(Cd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xae(e,t){if(e==null)return{};var r=Jae(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Jae(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Zae=function(t,r,n,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},Qae=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.top,s=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,p=t.height,h=p===void 0?0:p,v=t.className,g=Xae(t,Hae),j=Gae({x:n,y:i,top:s,left:u,width:f,height:h},g);return!Le(n)||!Le(i)||!Le(f)||!Le(h)||!Le(s)||!Le(u)?null:U.createElement("path",yy({},Xe(j,!0),{className:gt("recharts-cross",v),d:Zae(n,i,f,h,s,u)}))},eie=Dm,tie=K3,rie=Ma;function nie(e,t){return e&&e.length?eie(e,rie(t),tie):void 0}var aie=nie;const iie=wt(aie);var oie=Dm,sie=Ma,lie=X3;function cie(e,t){return e&&e.length?oie(e,sie(t),lie):void 0}var uie=cie;const die=wt(uie);var fie=["cx","cy","angle","ticks","axisLine"],hie=["ticks","tick","angle","tickFormatter","stroke"];function ec(e){"@babel/helpers - typeof";return ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ec(e)}function Uu(){return Uu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uu.apply(this,arguments)}function Hj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hj(Object(r),!0).forEach(function(n){qm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gj(e,t){if(e==null)return{};var r=pie(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function pie(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function mie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,D4(n.key),n)}}function gie(e,t,r){return t&&Vj(e.prototype,t),r&&Vj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function vie(e,t,r){return t=xp(t),yie(e,$4()?Reflect.construct(t,r||[],xp(e).constructor):t.apply(e,r))}function yie(e,t){if(t&&(ec(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bie(e)}function bie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($4=function(){return!!e})()}function xp(e){return xp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xp(e)}function xie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&by(e,t)}function by(e,t){return by=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},by(e,t)}function qm(e,t,r){return t=D4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D4(e){var t=wie(e,"string");return ec(t)=="symbol"?t:t+""}function wie(e,t){if(ec(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ec(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Um=function(e){function t(){return mie(this,t),vie(this,t,arguments)}return xie(t,e),gie(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,o=i.angle,s=i.cx,c=i.cy;return Vt(s,c,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,s=n.ticks,c=iie(s,function(d){return d.coordinate||0}),u=die(s,function(d){return d.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,s=n.ticks,c=n.axisLine,u=Gj(n,fie),d=s.reduce(function(v,g){return[Math.min(v[0],g.coordinate),Math.max(v[1],g.coordinate)]},[1/0,-1/0]),f=Vt(a,i,d[0],o),p=Vt(a,i,d[1],o),h=Wo(Wo(Wo({},Xe(u,!1)),{},{fill:"none"},Xe(c,!1)),{},{x1:f.x,y1:f.y,x2:p.x,y2:p.y});return U.createElement("line",Uu({className:"recharts-polar-radius-axis-line"},h))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,s=a.angle,c=a.tickFormatter,u=a.stroke,d=Gj(a,hie),f=this.getTickTextAnchor(),p=Xe(d,!1),h=Xe(o,!1),v=i.map(function(g,j){var x=n.getTickValueCoord(g),b=Wo(Wo(Wo(Wo({textAnchor:f,transform:"rotate(".concat(90-s,", ").concat(x.x,", ").concat(x.y,")")},p),{},{stroke:"none",fill:u},h),{},{index:j},x),{},{payload:g});return U.createElement(Nt,Uu({className:gt("recharts-polar-radius-axis-tick",S4(o)),key:"tick-".concat(g.coordinate)},Ss(n.props,g,j)),t.renderTickItem(o,b,c?c(g.value,j):g.value))});return U.createElement(Nt,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,o=n.tick;return!a||!a.length?null:U.createElement(Nt,{className:gt("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),Dr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return U.isValidElement(n)?o=U.cloneElement(n,a):nt(n)?o=n(a):o=U.createElement(_s,Uu({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(R.PureComponent);qm(Um,"displayName","PolarRadiusAxis");qm(Um,"axisType","radiusAxis");qm(Um,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function tc(e){"@babel/helpers - typeof";return tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tc(e)}function es(){return es=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},es.apply(this,arguments)}function Yj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ho(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yj(Object(r),!0).forEach(function(n){Wm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,R4(n.key),n)}}function Nie(e,t,r){return t&&Kj(e.prototype,t),r&&Kj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Sie(e,t,r){return t=wp(t),_ie(e,I4()?Reflect.construct(t,r||[],wp(e).constructor):t.apply(e,r))}function _ie(e,t){if(t&&(tc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Aie(e)}function Aie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I4=function(){return!!e})()}function wp(e){return wp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wp(e)}function Oie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xy(e,t)}function xy(e,t){return xy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},xy(e,t)}function Wm(e,t,r){return t=R4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R4(e){var t=Pie(e,"string");return tc(t)=="symbol"?t:t+""}function Pie(e,t){if(tc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Eie=Math.PI/180,Xj=1e-5,Hm=function(e){function t(){return jie(this,t),Sie(this,t,arguments)}return Oie(t,e),Nie(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,o=a.cy,s=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=Vt(i,o,s,n.coordinate),p=Vt(i,o,s+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:p.x,y2:p.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*Eie),o;return i>Xj?o=a==="outer"?"start":"end":i<-Xj?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.radius,s=n.axisLine,c=n.axisLineType,u=Ho(Ho({},Xe(this.props,!1)),{},{fill:"none"},Xe(s,!1));if(c==="circle")return U.createElement(zm,es({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:o}));var d=this.props.ticks,f=d.map(function(p){return Vt(a,i,o,p.coordinate)});return U.createElement(Wae,es({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,s=a.tickLine,c=a.tickFormatter,u=a.stroke,d=Xe(this.props,!1),f=Xe(o,!1),p=Ho(Ho({},d),{},{fill:"none"},Xe(s,!1)),h=i.map(function(v,g){var j=n.getTickLineCoord(v),x=n.getTickTextAnchor(v),b=Ho(Ho(Ho({textAnchor:x},d),{},{stroke:"none",fill:u},f),{},{index:g,payload:v,x:j.x2,y:j.y2});return U.createElement(Nt,es({className:gt("recharts-polar-angle-axis-tick",S4(o)),key:"tick-".concat(v.coordinate)},Ss(n.props,v,g)),s&&U.createElement("line",es({className:"recharts-polar-angle-axis-tick-line"},p,j)),o&&t.renderTickItem(o,b,c?c(v.value,g):v.value))});return U.createElement(Nt,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!a||!a.length?null:U.createElement(Nt,{className:gt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var o;return U.isValidElement(n)?o=U.cloneElement(n,a):nt(n)?o=n(a):o=U.createElement(_s,es({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(R.PureComponent);Wm(Hm,"displayName","PolarAngleAxis");Wm(Hm,"axisType","angleAxis");Wm(Hm,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var kie=Fi,Tie=La,Cie="[object Boolean]";function Lie(e){return e===!0||e===!1||Tie(e)&&kie(e)==Cie}var Mie=Lie;const $ie=wt(Mie);function Ld(e){"@babel/helpers - typeof";return Ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ld(e)}function jp(){return jp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jp.apply(this,arguments)}function Die(e,t){return Bie(e)||Fie(e,t)||Rie(e,t)||Iie()}function Iie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rie(e,t){if(e){if(typeof e=="string")return Jj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jj(e,t)}}function Jj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Fie(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function Bie(e){if(Array.isArray(e))return e}function Zj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zj(Object(r),!0).forEach(function(n){zie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zie(e,t,r){return t=qie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qie(e){var t=Uie(e,"string");return Ld(t)=="symbol"?t:t+""}function Uie(e,t){if(Ld(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eN=function(t,r,n,a,i){var o=n-a,s;return s="M ".concat(t,",").concat(r),s+="L ".concat(t+n,",").concat(r),s+="L ".concat(t+n-o/2,",").concat(r+i),s+="L ".concat(t+n-o/2-a,",").concat(r+i),s+="L ".concat(t,",").concat(r," Z"),s},Wie={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Hie=function(t){var r=Qj(Qj({},Wie),t),n=R.useRef(),a=R.useState(-1),i=Die(a,2),o=i[0],s=i[1];R.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var N=n.current.getTotalLength();N&&s(N)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,p=r.height,h=r.className,v=r.animationEasing,g=r.animationDuration,j=r.animationBegin,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||p!==+p||d===0&&f===0||p===0)return null;var b=gt("recharts-trapezoid",h);return x?U.createElement(di,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:p,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:p,x:c,y:u},duration:g,animationEasing:v,isActive:x},function(N){var _=N.upperWidth,w=N.lowerWidth,A=N.height,O=N.x,E=N.y;return U.createElement(di,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:j,duration:g,easing:v},U.createElement("path",jp({},Xe(r,!0),{className:b,d:eN(O,E,_,w,A),ref:n})))}):U.createElement("g",null,U.createElement("path",jp({},Xe(r,!0),{className:b,d:eN(c,u,d,f,p)})))},Gie=["option","shapeType","propTransformer","activeClassName","isActive"];function Md(e){"@babel/helpers - typeof";return Md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Md(e)}function Vie(e,t){if(e==null)return{};var r=Yie(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Yie(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function tN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Np(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tN(Object(r),!0).forEach(function(n){Kie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kie(e,t,r){return t=Xie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xie(e){var t=Jie(e,"string");return Md(t)=="symbol"?t:t+""}function Jie(e,t){if(Md(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Md(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zie(e,t){return Np(Np({},t),e)}function Qie(e,t){return e==="symbols"}function rN(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return U.createElement(jx,r);case"trapezoid":return U.createElement(Hie,r);case"sector":return U.createElement(O4,r);case"symbols":if(Qie(t))return U.createElement(Yb,r);break;default:return null}}function eoe(e){return R.isValidElement(e)?e.props:e}function F4(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?Zie:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,s=e.isActive,c=Vie(e,Gie),u;if(R.isValidElement(t))u=R.cloneElement(t,Np(Np({},c),eoe(t)));else if(nt(t))u=t(c);else if(aq(t)&&!$ie(t)){var d=a(t,c);u=U.createElement(rN,{shapeType:r,elementProps:d})}else{var f=c;u=U.createElement(rN,{shapeType:r,elementProps:f})}return s?U.createElement(Nt,{className:o},u):u}function Gm(e,t){return t!=null&&"trapezoids"in e.props}function Vm(e,t){return t!=null&&"sectors"in e.props}function $d(e,t){return t!=null&&"points"in e.props}function toe(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function roe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function noe(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function aoe(e,t){var r;return Gm(e,t)?r=toe:Vm(e,t)?r=roe:$d(e,t)&&(r=noe),r}function ioe(e,t){var r;return Gm(e,t)?r="trapezoids":Vm(e,t)?r="sectors":$d(e,t)&&(r="points"),r}function ooe(e,t){if(Gm(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Vm(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return $d(e,t)?t.payload:{}}function soe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=ioe(r,t),i=ooe(r,t),o=n.filter(function(c,u){var d=xs(i,c),f=r.props[a].filter(function(v){var g=aoe(r,t);return g(v,t)}),p=r.props[a].indexOf(f[f.length-1]),h=u===p;return d&&h}),s=n.indexOf(o[o.length-1]);return s}var Ah;function rc(e){"@babel/helpers - typeof";return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rc(e)}function Al(){return Al=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Al.apply(this,arguments)}function nN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ht(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nN(Object(r),!0).forEach(function(n){Jn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function loe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,z4(n.key),n)}}function coe(e,t,r){return t&&aN(e.prototype,t),r&&aN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function uoe(e,t,r){return t=Sp(t),doe(e,B4()?Reflect.construct(t,r||[],Sp(e).constructor):t.apply(e,r))}function doe(e,t){if(t&&(rc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return foe(e)}function foe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B4=function(){return!!e})()}function Sp(e){return Sp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sp(e)}function hoe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wy(e,t)}function wy(e,t){return wy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},wy(e,t)}function Jn(e,t,r){return t=z4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z4(e){var t=poe(e,"string");return rc(t)=="symbol"?t:t+""}function poe(e,t){if(rc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var zi=function(e){function t(r){var n;return loe(this,t),n=uoe(this,t,[r]),Jn(n,"pieRef",null),Jn(n,"sectorRefs",[]),Jn(n,"id",Lc("recharts-pie-")),Jn(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),nt(a)&&a()}),Jn(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),nt(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return hoe(t,e),coe(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,s=i.labelLine,c=i.dataKey,u=i.valueKey,d=Xe(this.props,!1),f=Xe(o,!1),p=Xe(s,!1),h=o&&o.offsetRadius||20,v=n.map(function(g,j){var x=(g.startAngle+g.endAngle)/2,b=Vt(g.cx,g.cy,g.outerRadius+h,x),N=Ht(Ht(Ht(Ht({},d),g),{},{stroke:"none"},f),{},{index:j,textAnchor:t.getTextAnchor(b.x,g.cx)},b),_=Ht(Ht(Ht(Ht({},d),g),{},{fill:"none",stroke:g.fill},p),{},{index:j,points:[Vt(g.cx,g.cy,g.outerRadius,x),b]}),w=c;return ht(c)&&ht(u)?w="value":ht(c)&&(w=u),U.createElement(Nt,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(j)},s&&t.renderLabelLineItem(s,_,"line"),t.renderLabelItem(o,N,Ar(g,w)))});return U.createElement(Nt,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,o=i.activeShape,s=i.blendStroke,c=i.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),p=c&&a.hasActiveIndex()?c:null,h=f?o:p,v=Ht(Ht({},u),{},{stroke:s?u.fill:u.stroke,tabIndex:-1});return U.createElement(Nt,Al({ref:function(j){j&&!a.sectorRefs.includes(j)&&a.sectorRefs.push(j)},tabIndex:-1,className:"recharts-pie-sector"},Ss(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),U.createElement(F4,Al({option:h,isActive:f,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,o=a.isAnimationActive,s=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,p=f.prevSectors,h=f.prevIsAnimationActive;return U.createElement(di,{begin:s,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(h),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var g=v.t,j=[],x=i&&i[0],b=x.startAngle;return i.forEach(function(N,_){var w=p&&p[_],A=_>0?Dn(N,"paddingAngle",0):0;if(w){var O=bn(w.endAngle-w.startAngle,N.endAngle-N.startAngle),E=Ht(Ht({},N),{},{startAngle:b+A,endAngle:b+O(g)+A});j.push(E),b=E.endAngle}else{var C=N.endAngle,D=N.startAngle,k=bn(0,C-D),T=k(g),$=Ht(Ht({},N),{},{startAngle:b+A,endAngle:b+T+A});j.push($),b=$.endAngle}}),U.createElement(Nt,null,n.renderSectorsStatically(j))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var s=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[s].focus(),a.setState({sectorToFocus:s});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!xs(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,o=a.sectors,s=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,p=a.outerRadius,h=a.isAnimationActive,v=this.state.isAnimationFinished;if(i||!o||!o.length||!Le(u)||!Le(d)||!Le(f)||!Le(p))return null;var g=gt("recharts-pie",s);return U.createElement(Nt,{tabIndex:this.props.rootTabIndex,className:g,ref:function(x){n.pieRef=x}},this.renderSectors(),c&&this.renderLabels(o),Dr.renderCallByParent(this.props,null,!1),(!h||v)&&Mi.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(U.isValidElement(n))return U.cloneElement(n,a);if(nt(n))return n(a);var o=gt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return U.createElement(Dl,Al({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,a,i){if(U.isValidElement(n))return U.cloneElement(n,a);var o=i;if(nt(n)&&(o=n(a),U.isValidElement(o)))return o;var s=gt("recharts-pie-label-text",typeof n!="boolean"&&!nt(n)?n.className:"");return U.createElement(_s,Al({},a,{alignmentBaseline:"middle",className:s}),o)}}])}(R.PureComponent);Ah=zi;Jn(zi,"displayName","Pie");Jn(zi,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Cs.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Jn(zi,"parseDeltaAngle",function(e,t){var r=un(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Jn(zi,"getRealPieData",function(e){var t=e.data,r=e.children,n=Xe(e,!1),a=ea(r,Em);return t&&t.length?t.map(function(i,o){return Ht(Ht(Ht({payload:i},n),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return Ht(Ht({},n),i.props)}):[]});Jn(zi,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,o=N4(a,i),s=n+dn(e.cx,a,a/2),c=r+dn(e.cy,i,i/2),u=dn(e.innerRadius,o,0),d=dn(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:s,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Jn(zi,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Ht(Ht({},t.type.defaultProps),t.props):t.props,a=Ah.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,o=n.startAngle,s=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,p=n.tooltipType,h=Math.abs(n.minAngle),v=Ah.parseCoordinateOfPie(n,r),g=Ah.parseDeltaAngle(o,s),j=Math.abs(g),x=u;ht(u)&&ht(f)?(Ea(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x="value"):ht(u)&&(Ea(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x=f);var b=a.filter(function(E){return Ar(E,x,0)!==0}).length,N=(j>=360?b:b-1)*c,_=j-b*h-N,w=a.reduce(function(E,C){var D=Ar(C,x,0);return E+(Le(D)?D:0)},0),A;if(w>0){var O;A=a.map(function(E,C){var D=Ar(E,x,0),k=Ar(E,d,C),T=(Le(D)?D:0)/w,$;C?$=O.endAngle+un(g)*c*(D!==0?1:0):$=o;var I=$+un(g)*((D!==0?h:0)+T*_),V=($+I)/2,F=(v.innerRadius+v.outerRadius)/2,B=[{name:k,value:D,payload:E,dataKey:x,type:p}],X=Vt(v.cx,v.cy,F,V);return O=Ht(Ht(Ht({percent:T,cornerRadius:i,name:k,tooltipPayload:B,midAngle:V,middleRadius:F,tooltipPosition:X},E),v),{},{value:Ar(E,x),startAngle:$,endAngle:I,payload:E,paddingAngle:un(g)*c}),O})}return Ht(Ht({},v),{},{sectors:A,data:a})});function Dd(e){"@babel/helpers - typeof";return Dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dd(e)}function iN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iN(Object(r),!0).forEach(function(n){q4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q4(e,t,r){return t=moe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function moe(e){var t=goe(e,"string");return Dd(t)=="symbol"?t:t+""}function goe(e,t){if(Dd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var voe=["Webkit","Moz","O","ms"],yoe=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=voe.reduce(function(i,o){return oN(oN({},i),{},q4({},o+n,r))},{});return a[t]=r,a};function nc(e){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nc(e)}function _p(){return _p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_p.apply(this,arguments)}function sN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sN(Object(r),!0).forEach(function(n){Tn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function boe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,W4(n.key),n)}}function xoe(e,t,r){return t&&lN(e.prototype,t),r&&lN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function woe(e,t,r){return t=Ap(t),joe(e,U4()?Reflect.construct(t,r||[],Ap(e).constructor):t.apply(e,r))}function joe(e,t){if(t&&(nc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Noe(e)}function Noe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(U4=function(){return!!e})()}function Ap(e){return Ap=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ap(e)}function Soe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jy(e,t)}function jy(e,t){return jy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},jy(e,t)}function Tn(e,t,r){return t=W4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W4(e){var t=_oe(e,"string");return nc(t)=="symbol"?t:t+""}function _oe(e,t){if(nc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Aoe=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,o=t.width,s=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Fu().domain(nd(0,c)).range([i,i+o-s]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},cN=function(t){return t.changedTouches&&!!t.changedTouches.length},ac=function(e){function t(r){var n;return boe(this,t),n=woe(this,t,[r]),Tn(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Tn(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Tn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,s=a.startIndex;o==null||o({endIndex:i,startIndex:s})}),n.detachDragEndListener()}),Tn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Tn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Tn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Tn(n,"handleSlideDragStart",function(a){var i=cN(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Soe(t,e),xoe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,o=this.state.scaleValues,s=this.props,c=s.gap,u=s.data,d=u.length-1,f=Math.min(a,i),p=Math.max(a,i),h=t.getIndexInRange(o,f),v=t.getIndexInRange(o,p);return{startIndex:h-h%c,endIndex:v===d?d:v-v%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,o=a.tickFormatter,s=a.dataKey,c=Ar(i[n],s,n);return nt(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,o=a.startX,s=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,p=c.startIndex,h=c.endIndex,v=c.onChange,g=n.pageX-i;g>0?g=Math.min(g,u+d-f-s,u+d-f-o):g<0&&(g=Math.max(g,u-o,u-s));var j=this.getIndex({startX:o+g,endX:s+g});(j.startIndex!==p||j.endIndex!==h)&&v&&v(j),this.setState({startX:o+g,endX:s+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=cN(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,s=a.endX,c=a.startX,u=this.state[o],d=this.props,f=d.x,p=d.width,h=d.travellerWidth,v=d.onChange,g=d.gap,j=d.data,x={startX:this.state.startX,endX:this.state.endX},b=n.pageX-i;b>0?b=Math.min(b,f+p-h-u):b<0&&(b=Math.max(b,f-u)),x[o]=u+b;var N=this.getIndex(x),_=N.startIndex,w=N.endIndex,A=function(){var E=j.length-1;return o==="startX"&&(s>c?_%g===0:w%g===0)||s<c&&w===E||o==="endX"&&(s>c?w%g===0:_%g===0)||s>c&&w===E};this.setState(Tn(Tn({},o,u+b),"brushMoveStartX",n.pageX),function(){v&&A()&&v(N)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,o=this.state,s=o.scaleValues,c=o.startX,u=o.endX,d=this.state[a],f=s.indexOf(d);if(f!==-1){var p=f+n;if(!(p===-1||p>=s.length)){var h=s[p];a==="startX"&&h>=u||a==="endX"&&h<=c||this.setState(Tn({},a,h),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,s=n.height,c=n.fill,u=n.stroke;return U.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:o,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,s=n.height,c=n.data,u=n.children,d=n.padding,f=R.Children.only(u);return f?U.cloneElement(f,{x:a,y:i,width:o,height:s,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,o,s=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,p=c.traveller,h=c.ariaLabel,v=c.data,g=c.startIndex,j=c.endIndex,x=Math.max(n,this.props.x),b=Lv(Lv({},Xe(this.props,!1)),{},{x,y:u,width:d,height:f}),N=h||"Min value: ".concat((i=v[g])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=v[j])===null||o===void 0?void 0:o.name);return U.createElement(Nt,{tabIndex:0,role:"slider","aria-label":N,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),s.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,a))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(p,b))}},{key:"renderSlide",value:function(n,a){var i=this.props,o=i.y,s=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return U.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:s})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,o=n.y,s=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,p=d.endX,h=5,v={pointerEvents:"none",fill:u};return U.createElement(Nt,{className:"recharts-brush-texts"},U.createElement(_s,_p({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,p)-h,y:o+s/2},v),this.getTextOfTick(a)),U.createElement(_s,_p({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,p)+c+h,y:o+s/2},v),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,o=n.children,s=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,p=this.state,h=p.startX,v=p.endX,g=p.isTextActive,j=p.isSlideMoving,x=p.isTravellerMoving,b=p.isTravellerFocused;if(!a||!a.length||!Le(s)||!Le(c)||!Le(u)||!Le(d)||u<=0||d<=0)return null;var N=gt("recharts-brush",i),_=U.Children.count(o)===1,w=yoe("userSelect","none");return U.createElement(Nt,{className:N,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(h,v),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(v,"endX"),(g||j||x||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,o=n.width,s=n.height,c=n.stroke,u=Math.floor(i+s/2)-1;return U.createElement(U.Fragment,null,U.createElement("rect",{x:a,y:i,width:o,height:s,fill:c,stroke:"none"}),U.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),U.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return U.isValidElement(n)?i=U.cloneElement(n,a):nt(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,o=n.width,s=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return Lv({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:s,prevWidth:o},i&&i.length?Aoe({data:i,width:o,x:s,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||s!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([s,s+o-c]);var p=a.scale.domain().map(function(h){return a.scale(h)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:s,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,o=0,s=i-1;s-o>1;){var c=Math.floor((o+s)/2);n[c]>a?s=c:o=c}return a>=n[s]?s:o}}])}(R.PureComponent);Tn(ac,"displayName","Brush");Tn(ac,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Ooe=Ob;function Poe(e,t){var r;return Ooe(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var Eoe=Poe,koe=VS,Toe=Ma,Coe=Eoe,Loe=rn,Moe=jc;function $oe(e,t,r){var n=Loe(e)?koe:Coe;return r&&Moe(e,t,r)&&(t=void 0),n(e,Toe(t))}var Doe=$oe;const Ioe=wt(Doe);var li=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r};function Roe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var Foe=Roe,Boe=Ob;function zoe(e,t){var r=!0;return Boe(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var qoe=zoe,Uoe=Foe,Woe=qoe,Hoe=Ma,Goe=rn,Voe=jc;function Yoe(e,t,r){var n=Goe(e)?Uoe:Woe;return r&&Voe(e,t,r)&&(t=void 0),n(e,Hoe(t))}var Koe=Yoe;const H4=wt(Koe);var Xoe=["x","y"];function Id(e){"@babel/helpers - typeof";return Id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Id(e)}function Ny(){return Ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ny.apply(this,arguments)}function uN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ku(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uN(Object(r),!0).forEach(function(n){Joe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Joe(e,t,r){return t=Zoe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zoe(e){var t=Qoe(e,"string");return Id(t)=="symbol"?t:t+""}function Qoe(e,t){if(Id(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Id(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ese(e,t){if(e==null)return{};var r=tse(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tse(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function rse(e,t){var r=e.x,n=e.y,a=ese(e,Xoe),i="".concat(r),o=parseInt(i,10),s="".concat(n),c=parseInt(s,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),p=parseInt(f,10);return ku(ku(ku(ku(ku({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:p,name:t.name,radius:t.radius})}function dN(e){return U.createElement(F4,Ny({shapeType:"rectangle",propTransformer:rse,activeClassName:"recharts-active-bar"},e))}var nse=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=typeof n=="number";return i?t(n,a):(i||Os(),r)}},ase=["value","background"],G4;function ic(e){"@babel/helpers - typeof";return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ic(e)}function ise(e,t){if(e==null)return{};var r=ose(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ose(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Op(){return Op=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Op.apply(this,arguments)}function fN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fN(Object(r),!0).forEach(function(n){ho(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Y4(n.key),n)}}function lse(e,t,r){return t&&hN(e.prototype,t),r&&hN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function cse(e,t,r){return t=Pp(t),use(e,V4()?Reflect.construct(t,r||[],Pp(e).constructor):t.apply(e,r))}function use(e,t){if(t&&(ic(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dse(e)}function dse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V4=function(){return!!e})()}function Pp(e){return Pp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pp(e)}function fse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sy(e,t)}function Sy(e,t){return Sy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Sy(e,t)}function ho(e,t,r){return t=Y4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y4(e){var t=hse(e,"string");return ic(t)=="symbol"?t:t+""}function hse(e,t){if(ic(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ic(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var tf=function(e){function t(){var r;sse(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=cse(this,t,[].concat(a)),ho(r,"state",{isAnimationFinished:!1}),ho(r,"id",Lc("recharts-bar-")),ho(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),ho(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return fse(t,e),lse(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,o=i.shape,s=i.dataKey,c=i.activeIndex,u=i.activeBar,d=Xe(this.props,!1);return n&&n.map(function(f,p){var h=p===c,v=h?u:o,g=xr(xr(xr({},d),f),{},{isActive:h,option:v,index:p,dataKey:s,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return U.createElement(Nt,Op({className:"recharts-bar-rectangle"},Ss(a.props,f,p),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(p)}),U.createElement(dN,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,o=a.layout,s=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,p=this.state.prevData;return U.createElement(di,{begin:c,duration:u,isActive:s,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var v=h.t,g=i.map(function(j,x){var b=p&&p[x];if(b){var N=bn(b.x,j.x),_=bn(b.y,j.y),w=bn(b.width,j.width),A=bn(b.height,j.height);return xr(xr({},j),{},{x:N(v),y:_(v),width:w(v),height:A(v)})}if(o==="horizontal"){var O=bn(0,j.height),E=O(v);return xr(xr({},j),{},{y:j.y+j.height-E,height:E})}var C=bn(0,j.width),D=C(v);return xr(xr({},j),{},{width:D})});return U.createElement(Nt,null,n.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!xs(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,o=a.dataKey,s=a.activeIndex,c=Xe(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,p=ise(u,ase);if(!f)return null;var h=xr(xr(xr(xr(xr({},p),{},{fill:"#eee"},f),c),Ss(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return U.createElement(dN,Op({key:"background-bar-".concat(d),option:n.props.background,isActive:d===s},h))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,s=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=ea(d,Bm);if(!f)return null;var p=u==="vertical"?o[0].height/2:o[0].width/2,h=function(j,x){var b=Array.isArray(j.value)?j.value[1]:j.value;return{x:j.x,y:j.y,value:b,errorVal:Ar(j,x)}},v={clipPath:n?"url(#clipPath-".concat(a,")"):null};return U.createElement(Nt,v,f.map(function(g){return U.cloneElement(g,{key:"error-bar-".concat(a,"-").concat(g.props.dataKey),data:o,xAxis:s,yAxis:c,layout:u,offset:p,dataPointFormatter:h})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,o=n.className,s=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,p=n.height,h=n.isAnimationActive,v=n.background,g=n.id;if(a||!i||!i.length)return null;var j=this.state.isAnimationFinished,x=gt("recharts-bar",o),b=s&&s.allowDataOverflow,N=c&&c.allowDataOverflow,_=b||N,w=ht(g)?this.id:g;return U.createElement(Nt,{className:x},b||N?U.createElement("defs",null,U.createElement("clipPath",{id:"clipPath-".concat(w)},U.createElement("rect",{x:b?u:u-f/2,y:N?d:d-p/2,width:b?f:f*2,height:N?p:p*2}))):null,U.createElement(Nt,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(w,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,w),(!h||j)&&Mi.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(R.PureComponent);G4=tf;ho(tf,"displayName","Bar");ho(tf,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Cs.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ho(tf,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,s=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,p=e.offset,h=Ite(n,r);if(!h)return null;var v=t.layout,g=r.type.defaultProps,j=g!==void 0?xr(xr({},g),r.props):r.props,x=j.dataKey,b=j.children,N=j.minPointSize,_=v==="horizontal"?o:i,w=u?_.scale.domain():null,A=Wte({numericAxis:_}),O=ea(b,Em),E=f.map(function(C,D){var k,T,$,I,V,F;u?k=Rte(u[d+D],w):(k=Ar(C,x),Array.isArray(k)||(k=[A,k]));var B=nse(N,G4.defaultProps.minPointSize)(k[1],D);if(v==="horizontal"){var X,Y=[o.scale(k[0]),o.scale(k[1])],Z=Y[0],ae=Y[1];T=aj({axis:i,ticks:s,bandSize:a,offset:h.offset,entry:C,index:D}),$=(X=ae??Z)!==null&&X!==void 0?X:void 0,I=h.size;var M=Z-ae;if(V=Number.isNaN(M)?0:M,F={x:T,y:o.y,width:I,height:o.height},Math.abs(B)>0&&Math.abs(V)<Math.abs(B)){var W=un(V||B)*(Math.abs(B)-Math.abs(V));$-=W,V+=W}}else{var Q=[i.scale(k[0]),i.scale(k[1])],ne=Q[0],oe=Q[1];if(T=ne,$=aj({axis:o,ticks:c,bandSize:a,offset:h.offset,entry:C,index:D}),I=oe-ne,V=h.size,F={x:i.x,y:$,width:i.width,height:V},Math.abs(B)>0&&Math.abs(I)<Math.abs(B)){var he=un(I||B)*(Math.abs(B)-Math.abs(I));I+=he}}return xr(xr(xr({},C),{},{x:T,y:$,width:I,height:V,value:u?k:k[1],payload:C,background:F},O&&O[D]&&O[D].props),{},{tooltipPayload:[w4(r,C)],tooltipPosition:{x:T+I/2,y:$+V/2}})});return xr({data:E,layout:v},p)});function Rd(e){"@babel/helpers - typeof";return Rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rd(e)}function pse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,K4(n.key),n)}}function mse(e,t,r){return t&&pN(e.prototype,t),r&&pN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function mN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mN(Object(r),!0).forEach(function(n){Ym(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ym(e,t,r){return t=K4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K4(e){var t=gse(e,"string");return Rd(t)=="symbol"?t:t+""}function gse(e,t){if(Rd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vse=function(t,r,n,a,i){var o=t.width,s=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},p=!!Cn(u,tf);return d.reduce(function(h,v){var g=r[v],j=g.orientation,x=g.domain,b=g.padding,N=b===void 0?{}:b,_=g.mirror,w=g.reversed,A="".concat(j).concat(_?"Mirror":""),O,E,C,D,k;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var T=x[1]-x[0],$=1/0,I=g.categoricalDomain.sort(tV);if(I.forEach(function(Q,ne){ne>0&&($=Math.min((Q||0)-(I[ne-1]||0),$))}),Number.isFinite($)){var V=$/T,F=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(O=V*F/2),g.padding==="no-gap"){var B=dn(t.barCategoryGap,V*F),X=V*F/2;O=X-B-(X-B)/F*B}}}a==="xAxis"?E=[n.left+(N.left||0)+(O||0),n.left+n.width-(N.right||0)-(O||0)]:a==="yAxis"?E=c==="horizontal"?[n.top+n.height-(N.bottom||0),n.top+(N.top||0)]:[n.top+(N.top||0)+(O||0),n.top+n.height-(N.bottom||0)-(O||0)]:E=g.range,w&&(E=[E[1],E[0]]);var Y=v4(g,i,p),Z=Y.scale,ae=Y.realScaleType;Z.domain(x).range(E),y4(Z);var M=b4(Z,Sa(Sa({},g),{},{realScaleType:ae}));a==="xAxis"?(k=j==="top"&&!_||j==="bottom"&&_,C=n.left,D=f[A]-k*g.height):a==="yAxis"&&(k=j==="left"&&!_||j==="right"&&_,C=f[A]-k*g.width,D=n.top);var W=Sa(Sa(Sa({},g),M),{},{realScaleType:ae,x:C,y:D,scale:Z,width:a==="xAxis"?n.width:g.width,height:a==="yAxis"?n.height:g.height});return W.bandSize=hp(W,M),!g.hide&&a==="xAxis"?f[A]+=(k?-1:1)*W.height:g.hide||(f[A]+=(k?-1:1)*W.width),Sa(Sa({},h),{},Ym({},v,W))},{})},X4=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(a,o),width:Math.abs(i-n),height:Math.abs(o-a)}},yse=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return X4({x:r,y:n},{x:a,y:i})},J4=function(){function e(t){pse(this,e),this.scale=t}return mse(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();Ym(J4,"EPS",1e-4);var Nx=function(t){var r=Object.keys(t).reduce(function(n,a){return Sa(Sa({},n),{},Ym({},a,J4.create(t[a])))},{});return Sa(Sa({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,s=i.position;return __(a,function(c,u){return r[u].apply(c,{bandAware:o,position:s})})},isInRange:function(a){return H4(a,function(i,o){return r[o].isInRange(i)})}})};function bse(e){return(e%180+180)%180}var xse=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=bse(a),o=i*Math.PI/180,s=Math.atan(n/r),c=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},wse=Ma,jse=wc,Nse=Pc;function Sse(e){return function(t,r,n){var a=Object(t);if(!jse(t)){var i=wse(r);t=Nse(t),r=function(s){return i(a[s],s,a)}}var o=e(t,r,n);return o>-1?a[i?t[o]:o]:void 0}}var _se=Sse,Ase=_se,Ose=m_,Pse=Ase(Ose),Ese=Pse;const kse=wt(Ese);var Tse=yI(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),Sx=R.createContext(void 0),_x=R.createContext(void 0),Z4=R.createContext(void 0),Q4=R.createContext({}),eO=R.createContext(void 0),tO=R.createContext(0),rO=R.createContext(0),gN=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=t.clipPathId,s=t.children,c=t.width,u=t.height,d=Tse(i);return U.createElement(Sx.Provider,{value:n},U.createElement(_x.Provider,{value:a},U.createElement(Q4.Provider,{value:i},U.createElement(Z4.Provider,{value:d},U.createElement(eO.Provider,{value:o},U.createElement(tO.Provider,{value:u},U.createElement(rO.Provider,{value:c},s)))))))},Cse=function(){return R.useContext(eO)},nO=function(t){var r=R.useContext(Sx);r==null&&Os();var n=r[t];return n==null&&Os(),n},Lse=function(){var t=R.useContext(Sx);return co(t)},Mse=function(){var t=R.useContext(_x),r=kse(t,function(n){return H4(n.domain,Number.isFinite)});return r||co(t)},aO=function(t){var r=R.useContext(_x);r==null&&Os();var n=r[t];return n==null&&Os(),n},$se=function(){var t=R.useContext(Z4);return t},Dse=function(){return R.useContext(Q4)},Ax=function(){return R.useContext(rO)},Ox=function(){return R.useContext(tO)};function oc(e){"@babel/helpers - typeof";return oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oc(e)}function Ise(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rse(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oO(n.key),n)}}function Fse(e,t,r){return t&&Rse(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bse(e,t,r){return t=Ep(t),zse(e,iO()?Reflect.construct(t,r||[],Ep(e).constructor):t.apply(e,r))}function zse(e,t){if(t&&(oc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qse(e)}function qse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iO=function(){return!!e})()}function Ep(e){return Ep=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ep(e)}function Use(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_y(e,t)}function _y(e,t){return _y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},_y(e,t)}function vN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vN(Object(r),!0).forEach(function(n){Px(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Px(e,t,r){return t=oO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oO(e){var t=Wse(e,"string");return oc(t)=="symbol"?t:t+""}function Wse(e,t){if(oc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(oc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Hse(e,t){return Kse(e)||Yse(e,t)||Vse(e,t)||Gse()}function Gse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vse(e,t){if(e){if(typeof e=="string")return bN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bN(e,t)}}function bN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Yse(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function Kse(e){if(Array.isArray(e))return e}function Ay(){return Ay=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ay.apply(this,arguments)}var Xse=function(t,r){var n;return U.isValidElement(t)?n=U.cloneElement(t,r):nt(t)?n=t(r):n=U.createElement("line",Ay({},r,{className:"recharts-reference-line-line"})),n},Jse=function(t,r,n,a,i,o,s,c,u){var d=i.x,f=i.y,p=i.width,h=i.height;if(n){var v=u.y,g=t.y.apply(v,{position:o});if(li(u,"discard")&&!t.y.isInRange(g))return null;var j=[{x:d+p,y:g},{x:d,y:g}];return c==="left"?j.reverse():j}if(r){var x=u.x,b=t.x.apply(x,{position:o});if(li(u,"discard")&&!t.x.isInRange(b))return null;var N=[{x:b,y:f+h},{x:b,y:f}];return s==="top"?N.reverse():N}if(a){var _=u.segment,w=_.map(function(A){return t.apply(A,{position:o})});return li(u,"discard")&&Ioe(w,function(A){return!t.isInRange(A)})?null:w}return null};function Zse(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,s=e.className,c=e.alwaysShow,u=Cse(),d=nO(a),f=aO(i),p=$se();if(!u||!p)return null;Ea(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=Nx({x:d.scale,y:f.scale}),v=Or(t),g=Or(r),j=n&&n.length===2,x=Jse(h,v,g,j,p,e.position,d.orientation,f.orientation,e);if(!x)return null;var b=Hse(x,2),N=b[0],_=N.x,w=N.y,A=b[1],O=A.x,E=A.y,C=li(e,"hidden")?"url(#".concat(u,")"):void 0,D=yN(yN({clipPath:C},Xe(e,!0)),{},{x1:_,y1:w,x2:O,y2:E});return U.createElement(Nt,{className:gt("recharts-reference-line",s)},Xse(o,D),Dr.renderCallByParent(e,yse({x1:_,y1:w,x2:O,y2:E})))}var Ex=function(e){function t(){return Ise(this,t),Bse(this,t,arguments)}return Use(t,e),Fse(t,[{key:"render",value:function(){return U.createElement(Zse,this.props)}}])}(U.Component);Px(Ex,"displayName","ReferenceLine");Px(Ex,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Oy(){return Oy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oy.apply(this,arguments)}function sc(e){"@babel/helpers - typeof";return sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sc(e)}function xN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xN(Object(r),!0).forEach(function(n){Km(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ele(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lO(n.key),n)}}function tle(e,t,r){return t&&ele(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rle(e,t,r){return t=kp(t),nle(e,sO()?Reflect.construct(t,r||[],kp(e).constructor):t.apply(e,r))}function nle(e,t){if(t&&(sc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ale(e)}function ale(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sO=function(){return!!e})()}function kp(e){return kp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kp(e)}function ile(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Py(e,t)}function Py(e,t){return Py=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Py(e,t)}function Km(e,t,r){return t=lO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lO(e){var t=ole(e,"string");return sc(t)=="symbol"?t:t+""}function ole(e,t){if(sc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var sle=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,o=Nx({x:a.scale,y:i.scale}),s=o.apply({x:r,y:n},{bandAware:!0});return li(t,"discard")&&!o.isInRange(s)?null:s},Xm=function(e){function t(){return Qse(this,t),rle(this,t,arguments)}return ile(t,e),tle(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,o=n.r,s=n.alwaysShow,c=n.clipPathId,u=Or(a),d=Or(i);if(Ea(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=sle(this.props);if(!f)return null;var p=f.x,h=f.y,v=this.props,g=v.shape,j=v.className,x=li(this.props,"hidden")?"url(#".concat(c,")"):void 0,b=wN(wN({clipPath:x},Xe(this.props,!0)),{},{cx:p,cy:h});return U.createElement(Nt,{className:gt("recharts-reference-dot",j)},t.renderDot(g,b),Dr.renderCallByParent(this.props,{x:p-o,y:h-o,width:2*o,height:2*o}))}}])}(U.Component);Km(Xm,"displayName","ReferenceDot");Km(Xm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Km(Xm,"renderDot",function(e,t){var r;return U.isValidElement(e)?r=U.cloneElement(e,t):nt(e)?r=e(t):r=U.createElement(zm,Oy({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Ey(){return Ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ey.apply(this,arguments)}function lc(e){"@babel/helpers - typeof";return lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lc(e)}function jN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function NN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jN(Object(r),!0).forEach(function(n){Jm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cle(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uO(n.key),n)}}function ule(e,t,r){return t&&cle(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function dle(e,t,r){return t=Tp(t),fle(e,cO()?Reflect.construct(t,r||[],Tp(e).constructor):t.apply(e,r))}function fle(e,t){if(t&&(lc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hle(e)}function hle(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cO=function(){return!!e})()}function Tp(e){return Tp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tp(e)}function ple(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ky(e,t)}function ky(e,t){return ky=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ky(e,t)}function Jm(e,t,r){return t=uO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uO(e){var t=mle(e,"string");return lc(t)=="symbol"?t:t+""}function mle(e,t){if(lc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var gle=function(t,r,n,a,i){var o=i.x1,s=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var p=Nx({x:d.scale,y:f.scale}),h={x:t?p.x.apply(o,{position:"start"}):p.x.rangeMin,y:n?p.y.apply(c,{position:"start"}):p.y.rangeMin},v={x:r?p.x.apply(s,{position:"end"}):p.x.rangeMax,y:a?p.y.apply(u,{position:"end"}):p.y.rangeMax};return li(i,"discard")&&(!p.isInRange(h)||!p.isInRange(v))?null:X4(h,v)},Zm=function(e){function t(){return lle(this,t),dle(this,t,arguments)}return ple(t,e),ule(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,o=n.y1,s=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;Ea(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Or(a),p=Or(i),h=Or(o),v=Or(s),g=this.props.shape;if(!f&&!p&&!h&&!v&&!g)return null;var j=gle(f,p,h,v,this.props);if(!j&&!g)return null;var x=li(this.props,"hidden")?"url(#".concat(d,")"):void 0;return U.createElement(Nt,{className:gt("recharts-reference-area",c)},t.renderRect(g,NN(NN({clipPath:x},Xe(this.props,!0)),j)),Dr.renderCallByParent(this.props,j))}}])}(U.Component);Jm(Zm,"displayName","ReferenceArea");Jm(Zm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Jm(Zm,"renderRect",function(e,t){var r;return U.isValidElement(e)?r=U.cloneElement(e,t):nt(e)?r=e(t):r=U.createElement(jx,Ey({},t,{className:"recharts-reference-area-rect"})),r});function dO(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function vle(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return xse(n,r)}function yle(e,t,r){var n=r==="width",a=e.x,i=e.y,o=e.width,s=e.height;return t===1?{start:n?a:i,end:n?a+o:i+s}:{start:n?a+o:i+s,end:n?a:i}}function Cp(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function ble(e,t){return dO(e,t+1)}function xle(e,t,r,n,a){for(var i=(n||[]).slice(),o=t.start,s=t.end,c=0,u=1,d=o,f=function(){var v=n==null?void 0:n[c];if(v===void 0)return{v:dO(n,u)};var g=c,j,x=function(){return j===void 0&&(j=r(v,g)),j},b=v.coordinate,N=c===0||Cp(e,b,x,d,s);N||(c=0,d=o,u+=1),N&&(d=b+e*(x()/2+a),c+=u)},p;u<=i.length;)if(p=f(),p)return p.v;return[]}function Fd(e){"@babel/helpers - typeof";return Fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fd(e)}function SN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SN(Object(r),!0).forEach(function(n){wle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wle(e,t,r){return t=jle(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jle(e){var t=Nle(e,"string");return Fd(t)=="symbol"?t:t+""}function Nle(e,t){if(Fd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sle(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,s=t.start,c=t.end,u=function(p){var h=i[p],v,g=function(){return v===void 0&&(v=r(h,p)),v};if(p===o-1){var j=e*(h.coordinate+e*g()/2-c);i[p]=h=Jr(Jr({},h),{},{tickCoord:j>0?h.coordinate-j*e:h.coordinate})}else i[p]=h=Jr(Jr({},h),{},{tickCoord:h.coordinate});var x=Cp(e,h.tickCoord,g,s,c);x&&(c=h.tickCoord-e*(g()/2+a),i[p]=Jr(Jr({},h),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function _le(e,t,r,n,a,i){var o=(n||[]).slice(),s=o.length,c=t.start,u=t.end;if(i){var d=n[s-1],f=r(d,s-1),p=e*(d.coordinate+e*f/2-u);o[s-1]=d=Jr(Jr({},d),{},{tickCoord:p>0?d.coordinate-p*e:d.coordinate});var h=Cp(e,d.tickCoord,function(){return f},c,u);h&&(u=d.tickCoord-e*(f/2+a),o[s-1]=Jr(Jr({},d),{},{isShow:!0}))}for(var v=i?s-1:s,g=function(b){var N=o[b],_,w=function(){return _===void 0&&(_=r(N,b)),_};if(b===0){var A=e*(N.coordinate-e*w()/2-c);o[b]=N=Jr(Jr({},N),{},{tickCoord:A<0?N.coordinate-A*e:N.coordinate})}else o[b]=N=Jr(Jr({},N),{},{tickCoord:N.coordinate});var O=Cp(e,N.tickCoord,w,c,u);O&&(c=N.tickCoord+e*(w()/2+a),o[b]=Jr(Jr({},N),{},{isShow:!0}))},j=0;j<v;j++)g(j);return o}function kx(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,s=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(Le(c)||Cs.isSsr)return ble(a,typeof c=="number"&&Le(c)?c:0);var p=[],h=s==="top"||s==="bottom"?"width":"height",v=d&&h==="width"?Ru(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},g=function(N,_){var w=nt(u)?u(N.value,_):N.value;return h==="width"?vle(Ru(w,{fontSize:t,letterSpacing:r}),v,f):Ru(w,{fontSize:t,letterSpacing:r})[h]},j=a.length>=2?un(a[1].coordinate-a[0].coordinate):1,x=yle(i,j,h);return c==="equidistantPreserveStart"?xle(j,x,g,a,o):(c==="preserveStart"||c==="preserveStartEnd"?p=_le(j,x,g,a,o,c==="preserveStartEnd"):p=Sle(j,x,g,a,o),p.filter(function(b){return b.isShow}))}var Ale=["viewBox"],Ole=["viewBox"],Ple=["ticks"];function cc(e){"@babel/helpers - typeof";return cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cc(e)}function Ol(){return Ol=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ol.apply(this,arguments)}function _N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_N(Object(r),!0).forEach(function(n){Tx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_N(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mv(e,t){if(e==null)return{};var r=Ele(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ele(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function kle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hO(n.key),n)}}function Tle(e,t,r){return t&&AN(e.prototype,t),r&&AN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cle(e,t,r){return t=Lp(t),Lle(e,fO()?Reflect.construct(t,r||[],Lp(e).constructor):t.apply(e,r))}function Lle(e,t){if(t&&(cc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mle(e)}function Mle(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fO=function(){return!!e})()}function Lp(e){return Lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lp(e)}function $le(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ty(e,t)}function Ty(e,t){return Ty=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ty(e,t)}function Tx(e,t,r){return t=hO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hO(e){var t=Dle(e,"string");return cc(t)=="symbol"?t:t+""}function Dle(e,t){if(cc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ic=function(e){function t(r){var n;return kle(this,t),n=Cle(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return $le(t,e),Tle(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,o=Mv(n,Ale),s=this.props,c=s.viewBox,u=Mv(s,Ole);return!Ll(i,c)||!Ll(o,u)||!Ll(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,o=a.y,s=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,p=a.tickMargin,h,v,g,j,x,b,N=f?-1:1,_=n.tickSize||d,w=Le(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":h=v=n.coordinate,j=o+ +!f*c,g=j-N*_,b=g-N*p,x=w;break;case"left":g=j=n.coordinate,v=i+ +!f*s,h=v-N*_,x=h-N*p,b=w;break;case"right":g=j=n.coordinate,v=i+ +f*s,h=v+N*_,x=h+N*p,b=w;break;default:h=v=n.coordinate,j=o+ +f*c,g=j+N*_,b=g+N*p,x=w;break}return{line:{x1:h,y1:g,x2:v,y2:j},tick:{x,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,s=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=sn(sn(sn({},Xe(this.props,!1)),Xe(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var p=+(c==="top"&&!u||c==="bottom"&&u);f=sn(sn({},f),{},{x1:a,y1:i+p*s,x2:a+o,y2:i+p*s})}else{var h=+(c==="left"&&!u||c==="right"&&u);f=sn(sn({},f),{},{x1:a+h*o,y1:i,x2:a+h*o,y2:i+s})}return U.createElement("line",Ol({},f,{className:gt("recharts-cartesian-axis-line",Dn(d,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var o=this,s=this.props,c=s.tickLine,u=s.stroke,d=s.tick,f=s.tickFormatter,p=s.unit,h=kx(sn(sn({},this.props),{},{ticks:n}),a,i),v=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),j=Xe(this.props,!1),x=Xe(d,!1),b=sn(sn({},j),{},{fill:"none"},Xe(c,!1)),N=h.map(function(_,w){var A=o.getTickLineCoord(_),O=A.line,E=A.tick,C=sn(sn(sn(sn({textAnchor:v,verticalAnchor:g},j),{},{stroke:"none",fill:u},x),E),{},{index:w,payload:_,visibleTicksCount:h.length,tickFormatter:f});return U.createElement(Nt,Ol({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},Ss(o.props,_,w)),c&&U.createElement("line",Ol({},b,O,{className:gt("recharts-cartesian-axis-tick-line",Dn(c,"className"))})),d&&t.renderTickItem(d,C,"".concat(nt(f)?f(_.value,w):_.value).concat(p||"")))});return U.createElement("g",{className:"recharts-cartesian-axis-ticks"},N)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,o=a.width,s=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,p=f.ticks,h=Mv(f,Ple),v=p;return nt(c)&&(v=p&&p.length>0?c(this.props):c(h)),o<=0||s<=0||!v||!v.length?null:U.createElement(Nt,{className:gt("recharts-cartesian-axis",u),ref:function(j){n.layerReference=j}},i&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Dr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return U.isValidElement(n)?o=U.cloneElement(n,a):nt(n)?o=n(a):o=U.createElement(_s,Ol({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(R.Component);Tx(Ic,"displayName","CartesianAxis");Tx(Ic,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Ile=["x1","y1","x2","y2","key"],Rle=["offset"];function Ps(e){"@babel/helpers - typeof";return Ps=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ps(e)}function ON(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ON(Object(r),!0).forEach(function(n){Fle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ON(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fle(e,t,r){return t=Ble(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ble(e){var t=zle(e,"string");return Ps(t)=="symbol"?t:t+""}function zle(e,t){if(Ps(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ps(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function as(){return as=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},as.apply(this,arguments)}function PN(e,t){if(e==null)return{};var r=qle(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qle(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Ule=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,o=t.width,s=t.height,c=t.ry;return U.createElement("rect",{x:a,y:i,ry:c,width:o,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function pO(e,t){var r;if(U.isValidElement(e))r=U.cloneElement(e,t);else if(nt(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,o=t.y2,s=t.key,c=PN(t,Ile),u=Xe(c,!1);u.offset;var d=PN(u,Rle);r=U.createElement("line",as({},d,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:s}))}return r}function Wle(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(s,c){var u=Zr(Zr({},e),{},{x1:t,y1:s,x2:t+r,y2:s,key:"line-".concat(c),index:c});return pO(a,u)});return U.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Hle(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(s,c){var u=Zr(Zr({},e),{},{x1:s,y1:t,x2:s,y2:t+r,key:"line-".concat(c),index:c});return pO(a,u)});return U.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Gle(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,o=e.height,s=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=s.map(function(p){return Math.round(p+a-a)}).sort(function(p,h){return p-h});a!==d[0]&&d.unshift(0);var f=d.map(function(p,h){var v=!d[h+1],g=v?a+o-p:d[h+1]-p;if(g<=0)return null;var j=h%t.length;return U.createElement("rect",{key:"react-".concat(h),y:p,x:n,height:g,width:i,stroke:"none",fill:t[j],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return U.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Vle(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,s=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(p){return Math.round(p+i-i)}).sort(function(p,h){return p-h});i!==d[0]&&d.unshift(0);var f=d.map(function(p,h){var v=!d[h+1],g=v?i+s-p:d[h+1]-p;if(g<=0)return null;var j=h%n.length;return U.createElement("rect",{key:"react-".concat(h),x:p,y:o,width:g,height:c,stroke:"none",fill:n[j],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return U.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Yle=function(t,r){var n=t.xAxis,a=t.width,i=t.height,o=t.offset;return g4(kx(Zr(Zr(Zr({},Ic.defaultProps),n),{},{ticks:Ti(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},Kle=function(t,r){var n=t.yAxis,a=t.width,i=t.height,o=t.offset;return g4(kx(Zr(Zr(Zr({},Ic.defaultProps),n),{},{ticks:Ti(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},yl={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function mO(e){var t,r,n,a,i,o,s=Ax(),c=Ox(),u=Dse(),d=Zr(Zr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:yl.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:yl.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:yl.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:yl.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:yl.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:yl.verticalFill,x:Le(e.x)?e.x:u.left,y:Le(e.y)?e.y:u.top,width:Le(e.width)?e.width:u.width,height:Le(e.height)?e.height:u.height}),f=d.x,p=d.y,h=d.width,v=d.height,g=d.syncWithTicks,j=d.horizontalValues,x=d.verticalValues,b=Lse(),N=Mse();if(!Le(h)||h<=0||!Le(v)||v<=0||!Le(f)||f!==+f||!Le(p)||p!==+p)return null;var _=d.verticalCoordinatesGenerator||Yle,w=d.horizontalCoordinatesGenerator||Kle,A=d.horizontalPoints,O=d.verticalPoints;if((!A||!A.length)&&nt(w)){var E=j&&j.length,C=w({yAxis:N?Zr(Zr({},N),{},{ticks:E?j:N.ticks}):void 0,width:s,height:c,offset:u},E?!0:g);Ea(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ps(C),"]")),Array.isArray(C)&&(A=C)}if((!O||!O.length)&&nt(_)){var D=x&&x.length,k=_({xAxis:b?Zr(Zr({},b),{},{ticks:D?x:b.ticks}):void 0,width:s,height:c,offset:u},D?!0:g);Ea(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ps(k),"]")),Array.isArray(k)&&(O=k)}return U.createElement("g",{className:"recharts-cartesian-grid"},U.createElement(Ule,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),U.createElement(Wle,as({},d,{offset:u,horizontalPoints:A,xAxis:b,yAxis:N})),U.createElement(Hle,as({},d,{offset:u,verticalPoints:O,xAxis:b,yAxis:N})),U.createElement(Gle,as({},d,{horizontalPoints:A})),U.createElement(Vle,as({},d,{verticalPoints:O})))}mO.displayName="CartesianGrid";var Xle=["layout","type","stroke","connectNulls","isRange","ref"],Jle=["key"],gO;function uc(e){"@babel/helpers - typeof";return uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uc(e)}function vO(e,t){if(e==null)return{};var r=Zle(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Zle(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function is(){return is=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},is.apply(this,arguments)}function EN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EN(Object(r),!0).forEach(function(n){ti(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bO(n.key),n)}}function ece(e,t,r){return t&&kN(e.prototype,t),r&&kN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function tce(e,t,r){return t=Mp(t),rce(e,yO()?Reflect.construct(t,r||[],Mp(e).constructor):t.apply(e,r))}function rce(e,t){if(t&&(uc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nce(e)}function nce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yO=function(){return!!e})()}function Mp(e){return Mp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mp(e)}function ace(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cy(e,t)}function Cy(e,t){return Cy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Cy(e,t)}function ti(e,t,r){return t=bO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bO(e){var t=ice(e,"string");return uc(t)=="symbol"?t:t+""}function ice(e,t){if(uc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Oo=function(e){function t(){var r;Qle(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=tce(this,t,[].concat(a)),ti(r,"state",{isAnimationFinished:!0}),ti(r,"id",Lc("recharts-area-")),ti(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),nt(o)&&o()}),ti(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),nt(o)&&o()}),r}return ace(t,e),ece(t,[{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(o&&!s)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,p=Xe(this.props,!1),h=Xe(u,!0),v=d.map(function(j,x){var b=oo(oo(oo({key:"dot-".concat(x),r:3},p),h),{},{index:x,cx:j.x,cy:j.y,dataKey:f,value:j.value,payload:j.payload,points:d});return t.renderDotItem(u,b)}),g={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return U.createElement(Nt,is({className:"recharts-area-dots"},g),v)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,i=a.baseLine,o=a.points,s=a.strokeWidth,c=o[0].x,u=o[o.length-1].x,d=n*Math.abs(c-u),f=fo(o.map(function(p){return p.y||0}));return Le(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(fo(i.map(function(p){return p.y||0})),f)),Le(f)?U.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,i=a.baseLine,o=a.points,s=a.strokeWidth,c=o[0].y,u=o[o.length-1].y,d=n*Math.abs(c-u),f=fo(o.map(function(p){return p.x||0}));return Le(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(fo(i.map(function(p){return p.x||0})),f)),Le(f)?U.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(s?parseInt("".concat(s),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,i,o){var s=this.props,c=s.layout,u=s.type,d=s.stroke,f=s.connectNulls,p=s.isRange;s.ref;var h=vO(s,Xle);return U.createElement(Nt,{clipPath:i?"url(#clipPath-".concat(o,")"):null},U.createElement(Dl,is({},Xe(h,!0),{points:n,connectNulls:f,type:u,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&U.createElement(Dl,is({},Xe(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:n})),d!=="none"&&p&&U.createElement(Dl,is({},Xe(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var i=this,o=this.props,s=o.points,c=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,p=o.animationEasing,h=o.animationId,v=this.state,g=v.prevPoints,j=v.prevBaseLine;return U.createElement(di,{begin:d,duration:f,isActive:u,easing:p,from:{t:0},to:{t:1},key:"area-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var b=x.t;if(g){var N=g.length/s.length,_=s.map(function(E,C){var D=Math.floor(C*N);if(g[D]){var k=g[D],T=bn(k.x,E.x),$=bn(k.y,E.y);return oo(oo({},E),{},{x:T(b),y:$(b)})}return E}),w;if(Le(c)&&typeof c=="number"){var A=bn(j,c);w=A(b)}else if(ht(c)||Cc(c)){var O=bn(j,0);w=O(b)}else w=c.map(function(E,C){var D=Math.floor(C*N);if(j[D]){var k=j[D],T=bn(k.x,E.x),$=bn(k.y,E.y);return oo(oo({},E),{},{x:T(b),y:$(b)})}return E});return i.renderAreaStatically(_,w,n,a)}return U.createElement(Nt,null,U.createElement("defs",null,U.createElement("clipPath",{id:"animationClipPath-".concat(a)},i.renderClipRect(b))),U.createElement(Nt,{clipPath:"url(#animationClipPath-".concat(a,")")},i.renderAreaStatically(s,c,n,a)))})}},{key:"renderArea",value:function(n,a){var i=this.props,o=i.points,s=i.baseLine,c=i.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,p=u.totalLength;return c&&o&&o.length&&(!d&&p>0||!xs(d,o)||!xs(f,s))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(o,s,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,s=a.points,c=a.className,u=a.top,d=a.left,f=a.xAxis,p=a.yAxis,h=a.width,v=a.height,g=a.isAnimationActive,j=a.id;if(i||!s||!s.length)return null;var x=this.state.isAnimationFinished,b=s.length===1,N=gt("recharts-area",c),_=f&&f.allowDataOverflow,w=p&&p.allowDataOverflow,A=_||w,O=ht(j)?this.id:j,E=(n=Xe(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},C=E.r,D=C===void 0?3:C,k=E.strokeWidth,T=k===void 0?2:k,$=uV(o)?o:{},I=$.clipDot,V=I===void 0?!0:I,F=D*2+T;return U.createElement(Nt,{className:N},_||w?U.createElement("defs",null,U.createElement("clipPath",{id:"clipPath-".concat(O)},U.createElement("rect",{x:_?d:d-h/2,y:w?u:u-v/2,width:_?h:h*2,height:w?v:v*2})),!V&&U.createElement("clipPath",{id:"clipPath-dots-".concat(O)},U.createElement("rect",{x:d-F/2,y:u-F/2,width:h+F,height:v+F}))):null,b?null:this.renderArea(A,O),(o||b)&&this.renderDots(A,V,O),(!g||x)&&Mi.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(R.PureComponent);gO=Oo;ti(Oo,"displayName","Area");ti(Oo,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Cs.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});ti(Oo,"getBaseValue",function(e,t,r,n){var a=e.layout,i=e.baseValue,o=t.props.baseValue,s=o??i;if(Le(s)&&typeof s=="number")return s;var c=a==="horizontal"?n:r,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return s==="dataMin"?f:s==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return s==="dataMin"?u[0]:s==="dataMax"?u[1]:u[0]});ti(Oo,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,a=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,s=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,p=e.offset,h=t.layout,v=u&&u.length,g=gO.getBaseValue(t,r,n,a),j=h==="horizontal",x=!1,b=f.map(function(_,w){var A;v?A=u[d+w]:(A=Ar(_,c),Array.isArray(A)?x=!0:A=[g,A]);var O=A[1]==null||v&&Ar(_,c)==null;return j?{x:nj({axis:n,ticks:i,bandSize:s,entry:_,index:w}),y:O?null:a.scale(A[1]),value:A,payload:_}:{x:O?null:n.scale(A[1]),y:nj({axis:a,ticks:o,bandSize:s,entry:_,index:w}),value:A,payload:_}}),N;return v||x?N=b.map(function(_){var w=Array.isArray(_.value)?_.value[0]:null;return j?{x:_.x,y:w!=null&&_.y!=null?a.scale(w):null}:{x:w!=null?n.scale(w):null,y:_.y}}):N=j?a.scale(g):n.scale(g),oo({points:b,baseLine:N,layout:h,isRange:x},p)});ti(Oo,"renderDotItem",function(e,t){var r;if(U.isValidElement(e))r=U.cloneElement(e,t);else if(nt(e))r=e(t);else{var n=gt("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,i=vO(t,Jle);r=U.createElement(zm,is({},i,{key:a,className:n}))}return r});function dc(e){"@babel/helpers - typeof";return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dc(e)}function oce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sce(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jO(n.key),n)}}function lce(e,t,r){return t&&sce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cce(e,t,r){return t=$p(t),uce(e,xO()?Reflect.construct(t,r||[],$p(e).constructor):t.apply(e,r))}function uce(e,t){if(t&&(dc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dce(e)}function dce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xO=function(){return!!e})()}function $p(e){return $p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$p(e)}function fce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ly(e,t)}function Ly(e,t){return Ly=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ly(e,t)}function wO(e,t,r){return t=jO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jO(e){var t=hce(e,"string");return dc(t)=="symbol"?t:t+""}function hce(e,t){if(dc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function My(){return My=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},My.apply(this,arguments)}function pce(e){var t=e.xAxisId,r=Ax(),n=Ox(),a=nO(t);return a==null?null:U.createElement(Ic,My({},a,{className:gt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Ti(o,!0)}}))}var Qm=function(e){function t(){return oce(this,t),cce(this,t,arguments)}return fce(t,e),lce(t,[{key:"render",value:function(){return U.createElement(pce,this.props)}}])}(U.Component);wO(Qm,"displayName","XAxis");wO(Qm,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function fc(e){"@babel/helpers - typeof";return fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fc(e)}function mce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gce(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_O(n.key),n)}}function vce(e,t,r){return t&&gce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yce(e,t,r){return t=Dp(t),bce(e,NO()?Reflect.construct(t,r||[],Dp(e).constructor):t.apply(e,r))}function bce(e,t){if(t&&(fc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xce(e)}function xce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NO=function(){return!!e})()}function Dp(e){return Dp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dp(e)}function wce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$y(e,t)}function $y(e,t){return $y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},$y(e,t)}function SO(e,t,r){return t=_O(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _O(e){var t=jce(e,"string");return fc(t)=="symbol"?t:t+""}function jce(e,t){if(fc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Dy(){return Dy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dy.apply(this,arguments)}var Nce=function(t){var r=t.yAxisId,n=Ax(),a=Ox(),i=aO(r);return i==null?null:U.createElement(Ic,Dy({},i,{className:gt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(s){return Ti(s,!0)}}))},eg=function(e){function t(){return mce(this,t),yce(this,t,arguments)}return wce(t,e),vce(t,[{key:"render",value:function(){return U.createElement(Nce,this.props)}}])}(U.Component);SO(eg,"displayName","YAxis");SO(eg,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function TN(e){return Oce(e)||Ace(e)||_ce(e)||Sce()}function Sce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ce(e,t){if(e){if(typeof e=="string")return Iy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Iy(e,t)}}function Ace(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Oce(e){if(Array.isArray(e))return Iy(e)}function Iy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ry=function(t,r,n,a,i){var o=ea(t,Ex),s=ea(t,Xm),c=[].concat(TN(o),TN(s)),u=ea(t,Zm),d="".concat(a,"Id"),f=a[0],p=r;if(c.length&&(p=c.reduce(function(g,j){if(j.props[d]===n&&li(j.props,"extendDomain")&&Le(j.props[f])){var x=j.props[f];return[Math.min(g[0],x),Math.max(g[1],x)]}return g},p)),u.length){var h="".concat(f,"1"),v="".concat(f,"2");p=u.reduce(function(g,j){if(j.props[d]===n&&li(j.props,"extendDomain")&&Le(j.props[h])&&Le(j.props[v])){var x=j.props[h],b=j.props[v];return[Math.min(g[0],x,b),Math.max(g[1],x,b)]}return g},p)}return i&&i.length&&(p=i.reduce(function(g,j){return Le(j)?[Math.min(g[0],j),Math.max(g[1],j)]:g},p)),p},AO={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var h=new a(d,f||c,p),v=r?r+u:u;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],h]:c._events[v].push(h):(c._events[v]=h,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},s.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,h=f.length,v=new Array(h);p<h;p++)v[p]=f[p].fn;return v},s.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,d,f,p,h,v){var g=r?r+u:u;if(!this._events[g])return!1;var j=this._events[g],x=arguments.length,b,N;if(j.fn){switch(j.once&&this.removeListener(u,j.fn,void 0,!0),x){case 1:return j.fn.call(j.context),!0;case 2:return j.fn.call(j.context,d),!0;case 3:return j.fn.call(j.context,d,f),!0;case 4:return j.fn.call(j.context,d,f,p),!0;case 5:return j.fn.call(j.context,d,f,p,h),!0;case 6:return j.fn.call(j.context,d,f,p,h,v),!0}for(N=1,b=new Array(x-1);N<x;N++)b[N-1]=arguments[N];j.fn.apply(j.context,b)}else{var _=j.length,w;for(N=0;N<_;N++)switch(j[N].once&&this.removeListener(u,j[N].fn,void 0,!0),x){case 1:j[N].fn.call(j[N].context);break;case 2:j[N].fn.call(j[N].context,d);break;case 3:j[N].fn.call(j[N].context,d,f);break;case 4:j[N].fn.call(j[N].context,d,f,p);break;default:if(!b)for(w=1,b=new Array(x-1);w<x;w++)b[w-1]=arguments[w];j[N].fn.apply(j[N].context,b)}}return!0},s.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},s.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},s.prototype.removeListener=function(u,d,f,p){var h=r?r+u:u;if(!this._events[h])return this;if(!d)return o(this,h),this;var v=this._events[h];if(v.fn)v.fn===d&&(!p||v.once)&&(!f||v.context===f)&&o(this,h);else{for(var g=0,j=[],x=v.length;g<x;g++)(v[g].fn!==d||p&&!v[g].once||f&&v[g].context!==f)&&j.push(v[g]);j.length?this._events[h]=j.length===1?j[0]:j:o(this,h)}return this},s.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(AO);var Pce=AO.exports;const Ece=wt(Pce);var $v=new Ece,Dv="recharts.syncMouseEvents";function Bd(e){"@babel/helpers - typeof";return Bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bd(e)}function kce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tce(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,OO(n.key),n)}}function Cce(e,t,r){return t&&Tce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Iv(e,t,r){return t=OO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OO(e){var t=Lce(e,"string");return Bd(t)=="symbol"?t:t+""}function Lce(e,t){if(Bd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Mce=function(){function e(){kce(this,e),Iv(this,"activeIndex",0),Iv(this,"coordinateList",[]),Iv(this,"layout","horizontal")}return Cce(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,o=r.container,s=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,p=r.mouseHandlerCallback,h=p===void 0?null:p;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,s=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,p=o+this.offset.top+s/2+d;this.mouseHandlerCallback({pageX:f,pageY:p})}}}])}();function $ce(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&Le(n)&&Le(a))return!0}return!1}function Dce(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function PO(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,o=Vt(t,r,n,a),s=Vt(t,r,n,i);return{points:[o,s],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function Ice(e,t,r){var n,a,i,o;if(e==="horizontal")n=t.x,i=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var s=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,p=Vt(s,c,u,f),h=Vt(s,c,d,f);n=p.x,a=p.y,i=h.x,o=h.y}else return PO(t);return[{x:n,y:a},{x:i,y:o}]}function zd(e){"@babel/helpers - typeof";return zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zd(e)}function CN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CN(Object(r),!0).forEach(function(n){Rce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rce(e,t,r){return t=Fce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fce(e){var t=Bce(e,"string");return zd(t)=="symbol"?t:t+""}function Bce(e,t){if(zd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zce(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,s=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,p=e.chartName,h=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!h||!i||!o||p!=="ScatterChart"&&a!=="axis")return null;var v,g=Dl;if(p==="ScatterChart")v=o,g=Qae;else if(p==="BarChart")v=Dce(f,o,c,d),g=jx;else if(f==="radial"){var j=PO(o),x=j.cx,b=j.cy,N=j.radius,_=j.startAngle,w=j.endAngle;v={cx:x,cy:b,startAngle:_,endAngle:w,innerRadius:N,outerRadius:N},g=O4}else v={points:Ice(f,o,c)},g=Dl;var A=hh(hh(hh(hh({stroke:"#ccc",pointerEvents:"none"},c),v),Xe(h,!1)),{},{payload:s,payloadIndex:u,className:gt("recharts-tooltip-cursor",h.className)});return R.isValidElement(h)?R.cloneElement(h,A):R.createElement(g,A)}var qce=["item"],Uce=["children","className","width","height","style","compact","title","desc"];function hc(e){"@babel/helpers - typeof";return hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hc(e)}function Pl(){return Pl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pl.apply(this,arguments)}function LN(e,t){return Gce(e)||Hce(e,t)||kO(e,t)||Wce()}function Wce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hce(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function Gce(e){if(Array.isArray(e))return e}function MN(e,t){if(e==null)return{};var r=Vce(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Vce(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Yce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kce(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,TO(n.key),n)}}function Xce(e,t,r){return t&&Kce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Jce(e,t,r){return t=Ip(t),Zce(e,EO()?Reflect.construct(t,r||[],Ip(e).constructor):t.apply(e,r))}function Zce(e,t){if(t&&(hc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qce(e)}function Qce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EO=function(){return!!e})()}function Ip(e){return Ip=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ip(e)}function eue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fy(e,t)}function Fy(e,t){return Fy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Fy(e,t)}function pc(e){return nue(e)||rue(e)||kO(e)||tue()}function tue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kO(e,t){if(e){if(typeof e=="string")return By(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return By(e,t)}}function rue(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nue(e){if(Array.isArray(e))return By(e)}function By(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ne(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$N(Object(r),!0).forEach(function(n){et(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$N(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function et(e,t,r){return t=TO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TO(e){var t=aue(e,"string");return hc(t)=="symbol"?t:t+""}function aue(e,t){if(hc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iue={xAxis:["bottom","top"],yAxis:["left","right"]},oue={width:"100%",height:"100%"},CO={x:0,y:0};function ph(e){return e}var sue=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},lue=function(t,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,s=a.radius;return Ne(Ne(Ne({},a),Vt(a.cx,a.cy,s,o)),{},{angle:o,radius:s})}var c=i.coordinate,u=a.angle;return Ne(Ne(Ne({},a),Vt(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return CO},tg=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(s,c){var u=c.props.data;return u&&u.length?[].concat(pc(s),pc(u)):s},[]);return o.length>0?o:t&&t.length&&Le(a)&&Le(i)?t.slice(a,i+1):[]};function LO(e){return e==="number"?[0,"auto"]:void 0}var zy=function(t,r,n,a){var i=t.graphicalItems,o=t.tooltipAxis,s=tg(r,t);return n<0||!i||!i.length||n>=s.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var p;if(o.dataKey&&!o.allowDuplicatedCategory){var h=f===void 0?s:f;p=qh(h,o.dataKey,a)}else p=f&&f[n]||s[n];return p?[].concat(pc(c),[w4(u,p)]):c},[])},DN=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},o=sue(i,n),s=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=Tte(o,s,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,p=zy(t,r,d,f),h=lue(n,s,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:p,activeCoordinate:h}}return null},cue=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,s=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,p=t.stackOffset,h=m4(d,i);return n.reduce(function(v,g){var j,x=g.type.defaultProps!==void 0?Ne(Ne({},g.type.defaultProps),g.props):g.props,b=x.type,N=x.dataKey,_=x.allowDataOverflow,w=x.allowDuplicatedCategory,A=x.scale,O=x.ticks,E=x.includeHidden,C=x[o];if(v[C])return v;var D=tg(t.data,{graphicalItems:a.filter(function(M){var W,Q=o in M.props?M.props[o]:(W=M.type.defaultProps)===null||W===void 0?void 0:W[o];return Q===C}),dataStartIndex:c,dataEndIndex:u}),k=D.length,T,$,I;$ce(x.domain,_,b)&&(T=ry(x.domain,null,_),h&&(b==="number"||A!=="auto")&&(I=Bu(D,N,"category")));var V=LO(b);if(!T||T.length===0){var F,B=(F=x.domain)!==null&&F!==void 0?F:V;if(N){if(T=Bu(D,N,b),b==="category"&&h){var X=eV(T);w&&X?($=T,T=nd(0,k)):w||(T=sj(B,T,g).reduce(function(M,W){return M.indexOf(W)>=0?M:[].concat(pc(M),[W])},[]))}else if(b==="category")w?T=T.filter(function(M){return M!==""&&!ht(M)}):T=sj(B,T,g).reduce(function(M,W){return M.indexOf(W)>=0||W===""||ht(W)?M:[].concat(pc(M),[W])},[]);else if(b==="number"){var Y=Dte(D,a.filter(function(M){var W,Q,ne=o in M.props?M.props[o]:(W=M.type.defaultProps)===null||W===void 0?void 0:W[o],oe="hide"in M.props?M.props.hide:(Q=M.type.defaultProps)===null||Q===void 0?void 0:Q.hide;return ne===C&&(E||!oe)}),N,i,d);Y&&(T=Y)}h&&(b==="number"||A!=="auto")&&(I=Bu(D,N,"category"))}else h?T=nd(0,k):s&&s[C]&&s[C].hasStack&&b==="number"?T=p==="expand"?[0,1]:x4(s[C].stackGroups,c,u):T=p4(D,a.filter(function(M){var W=o in M.props?M.props[o]:M.type.defaultProps[o],Q="hide"in M.props?M.props.hide:M.type.defaultProps.hide;return W===C&&(E||!Q)}),b,d,!0);if(b==="number")T=Ry(f,T,C,i,O),B&&(T=ry(B,T,_));else if(b==="category"&&B){var Z=B,ae=T.every(function(M){return Z.indexOf(M)>=0});ae&&(T=Z)}}return Ne(Ne({},v),{},et({},C,Ne(Ne({},x),{},{axisType:i,domain:T,categoricalDomain:I,duplicateDomain:$,originalDomain:(j=x.domain)!==null&&j!==void 0?j:V,isCategorical:h,layout:d})))},{})},uue=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,s=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,p=tg(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),h=p.length,v=m4(d,i),g=-1;return n.reduce(function(j,x){var b=x.type.defaultProps!==void 0?Ne(Ne({},x.type.defaultProps),x.props):x.props,N=b[o],_=LO("number");if(!j[N]){g++;var w;return v?w=nd(0,h):s&&s[N]&&s[N].hasStack?(w=x4(s[N].stackGroups,c,u),w=Ry(f,w,N,i)):(w=ry(_,p4(p,n.filter(function(A){var O,E,C=o in A.props?A.props[o]:(O=A.type.defaultProps)===null||O===void 0?void 0:O[o],D="hide"in A.props?A.props.hide:(E=A.type.defaultProps)===null||E===void 0?void 0:E.hide;return C===N&&!D}),"number",d),a.defaultProps.allowDataOverflow),w=Ry(f,w,N,i)),Ne(Ne({},j),{},et({},N,Ne(Ne({axisType:i},a.defaultProps),{},{hide:!0,orientation:Dn(iue,"".concat(i,".").concat(g%2),null),domain:w,originalDomain:_,isCategorical:v,layout:d})))}return j},{})},due=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,s=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),p=ea(d,i),h={};return p&&p.length?h=cue(t,{axes:p,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:s,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(h=uue(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:s,dataStartIndex:c,dataEndIndex:u})),h},fue=function(t){var r=co(t),n=Ti(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:tm(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:hp(r,n)}},IN=function(t){var r=t.children,n=t.defaultShowTooltip,a=Cn(r,ac),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},hue=function(t){return!t||!t.length?!1:t.some(function(r){var n=Ci(r&&r.type);return n&&n.indexOf("Bar")>=0})},RN=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},pue=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,s=t.yAxisMap,c=s===void 0?{}:s,u=n.width,d=n.height,f=n.children,p=n.margin||{},h=Cn(f,ac),v=Cn(f,cs),g=Object.keys(c).reduce(function(w,A){var O=c[A],E=O.orientation;return!O.mirror&&!O.hide?Ne(Ne({},w),{},et({},E,w[E]+O.width)):w},{left:p.left||0,right:p.right||0}),j=Object.keys(o).reduce(function(w,A){var O=o[A],E=O.orientation;return!O.mirror&&!O.hide?Ne(Ne({},w),{},et({},E,Dn(w,"".concat(E))+O.height)):w},{top:p.top||0,bottom:p.bottom||0}),x=Ne(Ne({},j),g),b=x.bottom;h&&(x.bottom+=h.props.height||ac.defaultProps.height),v&&r&&(x=Mte(x,a,n,r));var N=u-x.left-x.right,_=d-x.top-x.bottom;return Ne(Ne({brushBottom:b},x),{},{width:Math.max(N,0),height:Math.max(_,0)})},mue=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},MO=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,s=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,p=function(x,b){var N=b.graphicalItems,_=b.stackGroups,w=b.offset,A=b.updateId,O=b.dataStartIndex,E=b.dataEndIndex,C=x.barSize,D=x.layout,k=x.barGap,T=x.barCategoryGap,$=x.maxBarSize,I=RN(D),V=I.numericAxisName,F=I.cateAxisName,B=hue(N),X=[];return N.forEach(function(Y,Z){var ae=tg(x.data,{graphicalItems:[Y],dataStartIndex:O,dataEndIndex:E}),M=Y.type.defaultProps!==void 0?Ne(Ne({},Y.type.defaultProps),Y.props):Y.props,W=M.dataKey,Q=M.maxBarSize,ne=M["".concat(V,"Id")],oe=M["".concat(F,"Id")],he={},de=c.reduce(function(De,Me){var Ve=b["".concat(Me.axisType,"Map")],Ze=M["".concat(Me.axisType,"Id")];Ve&&Ve[Ze]||Me.axisType==="zAxis"||Os();var at=Ve[Ze];return Ne(Ne({},De),{},et(et({},Me.axisType,at),"".concat(Me.axisType,"Ticks"),Ti(at)))},he),ie=de[F],xe=de["".concat(F,"Ticks")],be=_&&_[ne]&&_[ne].hasStack&&Hte(Y,_[ne].stackGroups),pe=Ci(Y.type).indexOf("Bar")>=0,Ee=hp(ie,xe),$e=[],ye=B&&Cte({barSize:C,stackGroups:_,totalSize:mue(de,F)});if(pe){var re,Ye,Be=ht(Q)?$:Q,ke=(re=(Ye=hp(ie,xe,!0))!==null&&Ye!==void 0?Ye:Be)!==null&&re!==void 0?re:0;$e=Lte({barGap:k,barCategoryGap:T,bandSize:ke!==Ee?ke:Ee,sizeList:ye[oe],maxBarSize:Be}),ke!==Ee&&($e=$e.map(function(De){return Ne(Ne({},De),{},{position:Ne(Ne({},De.position),{},{offset:De.position.offset-ke/2})})}))}var Ce=Y&&Y.type&&Y.type.getComposedData;Ce&&X.push({props:Ne(Ne({},Ce(Ne(Ne({},de),{},{displayedData:ae,props:x,dataKey:W,item:Y,bandSize:Ee,barPosition:$e,offset:w,stackedData:be,layout:D,dataStartIndex:O,dataEndIndex:E}))),{},et(et(et({key:Y.key||"item-".concat(Z)},V,de[V]),F,de[F]),"animationId",A)),childIndex:hV(Y,x.children),item:Y})}),X},h=function(x,b){var N=x.props,_=x.dataStartIndex,w=x.dataEndIndex,A=x.updateId;if(!Ow({props:N}))return null;var O=N.children,E=N.layout,C=N.stackOffset,D=N.data,k=N.reverseStackOrder,T=RN(E),$=T.numericAxisName,I=T.cateAxisName,V=ea(O,n),F=Ute(D,V,"".concat($,"Id"),"".concat(I,"Id"),C,k),B=c.reduce(function(M,W){var Q="".concat(W.axisType,"Map");return Ne(Ne({},M),{},et({},Q,due(N,Ne(Ne({},W),{},{graphicalItems:V,stackGroups:W.axisType===$&&F,dataStartIndex:_,dataEndIndex:w}))))},{}),X=pue(Ne(Ne({},B),{},{props:N,graphicalItems:V}),b==null?void 0:b.legendBBox);Object.keys(B).forEach(function(M){B[M]=d(N,B[M],X,M.replace("Map",""),r)});var Y=B["".concat(I,"Map")],Z=fue(Y),ae=p(N,Ne(Ne({},B),{},{dataStartIndex:_,dataEndIndex:w,updateId:A,graphicalItems:V,stackGroups:F,offset:X}));return Ne(Ne({formattedGraphicalItems:ae,graphicalItems:V,offset:X,stackGroups:F},Z),B)},v=function(j){function x(b){var N,_,w;return Yce(this,x),w=Jce(this,x,[b]),et(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),et(w,"accessibilityManager",new Mce),et(w,"handleLegendBBoxUpdate",function(A){if(A){var O=w.state,E=O.dataStartIndex,C=O.dataEndIndex,D=O.updateId;w.setState(Ne({legendBBox:A},h({props:w.props,dataStartIndex:E,dataEndIndex:C,updateId:D},Ne(Ne({},w.state),{},{legendBBox:A}))))}}),et(w,"handleReceiveSyncEvent",function(A,O,E){if(w.props.syncId===A){if(E===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(O)}}),et(w,"handleBrushChange",function(A){var O=A.startIndex,E=A.endIndex;if(O!==w.state.dataStartIndex||E!==w.state.dataEndIndex){var C=w.state.updateId;w.setState(function(){return Ne({dataStartIndex:O,dataEndIndex:E},h({props:w.props,dataStartIndex:O,dataEndIndex:E,updateId:C},w.state))}),w.triggerSyncEvent({dataStartIndex:O,dataEndIndex:E})}}),et(w,"handleMouseEnter",function(A){var O=w.getMouseInfo(A);if(O){var E=Ne(Ne({},O),{},{isTooltipActive:!0});w.setState(E),w.triggerSyncEvent(E);var C=w.props.onMouseEnter;nt(C)&&C(E,A)}}),et(w,"triggeredAfterMouseMove",function(A){var O=w.getMouseInfo(A),E=O?Ne(Ne({},O),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(E),w.triggerSyncEvent(E);var C=w.props.onMouseMove;nt(C)&&C(E,A)}),et(w,"handleItemMouseEnter",function(A){w.setState(function(){return{isTooltipActive:!0,activeItem:A,activePayload:A.tooltipPayload,activeCoordinate:A.tooltipPosition||{x:A.cx,y:A.cy}}})}),et(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),et(w,"handleMouseMove",function(A){A.persist(),w.throttleTriggeredAfterMouseMove(A)}),et(w,"handleMouseLeave",function(A){w.throttleTriggeredAfterMouseMove.cancel();var O={isTooltipActive:!1};w.setState(O),w.triggerSyncEvent(O);var E=w.props.onMouseLeave;nt(E)&&E(O,A)}),et(w,"handleOuterEvent",function(A){var O=fV(A),E=Dn(w.props,"".concat(O));if(O&&nt(E)){var C,D;/.*touch.*/i.test(O)?D=w.getMouseInfo(A.changedTouches[0]):D=w.getMouseInfo(A),E((C=D)!==null&&C!==void 0?C:{},A)}}),et(w,"handleClick",function(A){var O=w.getMouseInfo(A);if(O){var E=Ne(Ne({},O),{},{isTooltipActive:!0});w.setState(E),w.triggerSyncEvent(E);var C=w.props.onClick;nt(C)&&C(E,A)}}),et(w,"handleMouseDown",function(A){var O=w.props.onMouseDown;if(nt(O)){var E=w.getMouseInfo(A);O(E,A)}}),et(w,"handleMouseUp",function(A){var O=w.props.onMouseUp;if(nt(O)){var E=w.getMouseInfo(A);O(E,A)}}),et(w,"handleTouchMove",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(A.changedTouches[0])}),et(w,"handleTouchStart",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&w.handleMouseDown(A.changedTouches[0])}),et(w,"handleTouchEnd",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&w.handleMouseUp(A.changedTouches[0])}),et(w,"handleDoubleClick",function(A){var O=w.props.onDoubleClick;if(nt(O)){var E=w.getMouseInfo(A);O(E,A)}}),et(w,"handleContextMenu",function(A){var O=w.props.onContextMenu;if(nt(O)){var E=w.getMouseInfo(A);O(E,A)}}),et(w,"triggerSyncEvent",function(A){w.props.syncId!==void 0&&$v.emit(Dv,w.props.syncId,A,w.eventEmitterSymbol)}),et(w,"applySyncEvent",function(A){var O=w.props,E=O.layout,C=O.syncMethod,D=w.state.updateId,k=A.dataStartIndex,T=A.dataEndIndex;if(A.dataStartIndex!==void 0||A.dataEndIndex!==void 0)w.setState(Ne({dataStartIndex:k,dataEndIndex:T},h({props:w.props,dataStartIndex:k,dataEndIndex:T,updateId:D},w.state)));else if(A.activeTooltipIndex!==void 0){var $=A.chartX,I=A.chartY,V=A.activeTooltipIndex,F=w.state,B=F.offset,X=F.tooltipTicks;if(!B)return;if(typeof C=="function")V=C(X,A);else if(C==="value"){V=-1;for(var Y=0;Y<X.length;Y++)if(X[Y].value===A.activeLabel){V=Y;break}}var Z=Ne(Ne({},B),{},{x:B.left,y:B.top}),ae=Math.min($,Z.x+Z.width),M=Math.min(I,Z.y+Z.height),W=X[V]&&X[V].value,Q=zy(w.state,w.props.data,V),ne=X[V]?{x:E==="horizontal"?X[V].coordinate:ae,y:E==="horizontal"?M:X[V].coordinate}:CO;w.setState(Ne(Ne({},A),{},{activeLabel:W,activeCoordinate:ne,activePayload:Q,activeTooltipIndex:V}))}else w.setState(A)}),et(w,"renderCursor",function(A){var O,E=w.state,C=E.isTooltipActive,D=E.activeCoordinate,k=E.activePayload,T=E.offset,$=E.activeTooltipIndex,I=E.tooltipAxisBandSize,V=w.getTooltipEventType(),F=(O=A.props.active)!==null&&O!==void 0?O:C,B=w.props.layout,X=A.key||"_recharts-cursor";return U.createElement(zce,{key:X,activeCoordinate:D,activePayload:k,activeTooltipIndex:$,chartName:r,element:A,isActive:F,layout:B,offset:T,tooltipAxisBandSize:I,tooltipEventType:V})}),et(w,"renderPolarAxis",function(A,O,E){var C=Dn(A,"type.axisType"),D=Dn(w.state,"".concat(C,"Map")),k=A.type.defaultProps,T=k!==void 0?Ne(Ne({},k),A.props):A.props,$=D&&D[T["".concat(C,"Id")]];return R.cloneElement(A,Ne(Ne({},$),{},{className:gt(C,$.className),key:A.key||"".concat(O,"-").concat(E),ticks:Ti($,!0)}))}),et(w,"renderPolarGrid",function(A){var O=A.props,E=O.radialLines,C=O.polarAngles,D=O.polarRadius,k=w.state,T=k.radiusAxisMap,$=k.angleAxisMap,I=co(T),V=co($),F=V.cx,B=V.cy,X=V.innerRadius,Y=V.outerRadius;return R.cloneElement(A,{polarAngles:Array.isArray(C)?C:Ti(V,!0).map(function(Z){return Z.coordinate}),polarRadius:Array.isArray(D)?D:Ti(I,!0).map(function(Z){return Z.coordinate}),cx:F,cy:B,innerRadius:X,outerRadius:Y,key:A.key||"polar-grid",radialLines:E})}),et(w,"renderLegend",function(){var A=w.state.formattedGraphicalItems,O=w.props,E=O.children,C=O.width,D=O.height,k=w.props.margin||{},T=C-(k.left||0)-(k.right||0),$=f4({children:E,formattedGraphicalItems:A,legendWidth:T,legendContent:u});if(!$)return null;var I=$.item,V=MN($,qce);return R.cloneElement(I,Ne(Ne({},V),{},{chartWidth:C,chartHeight:D,margin:k,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),et(w,"renderTooltip",function(){var A,O=w.props,E=O.children,C=O.accessibilityLayer,D=Cn(E,Na);if(!D)return null;var k=w.state,T=k.isTooltipActive,$=k.activeCoordinate,I=k.activePayload,V=k.activeLabel,F=k.offset,B=(A=D.props.active)!==null&&A!==void 0?A:T;return R.cloneElement(D,{viewBox:Ne(Ne({},F),{},{x:F.left,y:F.top}),active:B,label:V,payload:B?I:[],coordinate:$,accessibilityLayer:C})}),et(w,"renderBrush",function(A){var O=w.props,E=O.margin,C=O.data,D=w.state,k=D.offset,T=D.dataStartIndex,$=D.dataEndIndex,I=D.updateId;return R.cloneElement(A,{key:A.key||"_recharts-brush",onChange:ch(w.handleBrushChange,A.props.onChange),data:C,x:Le(A.props.x)?A.props.x:k.left,y:Le(A.props.y)?A.props.y:k.top+k.height+k.brushBottom-(E.bottom||0),width:Le(A.props.width)?A.props.width:k.width,startIndex:T,endIndex:$,updateId:"brush-".concat(I)})}),et(w,"renderReferenceElement",function(A,O,E){if(!A)return null;var C=w,D=C.clipPathId,k=w.state,T=k.xAxisMap,$=k.yAxisMap,I=k.offset,V=A.type.defaultProps||{},F=A.props,B=F.xAxisId,X=B===void 0?V.xAxisId:B,Y=F.yAxisId,Z=Y===void 0?V.yAxisId:Y;return R.cloneElement(A,{key:A.key||"".concat(O,"-").concat(E),xAxis:T[X],yAxis:$[Z],viewBox:{x:I.left,y:I.top,width:I.width,height:I.height},clipPathId:D})}),et(w,"renderActivePoints",function(A){var O=A.item,E=A.activePoint,C=A.basePoint,D=A.childIndex,k=A.isRange,T=[],$=O.props.key,I=O.item.type.defaultProps!==void 0?Ne(Ne({},O.item.type.defaultProps),O.item.props):O.item.props,V=I.activeDot,F=I.dataKey,B=Ne(Ne({index:D,dataKey:F,cx:E.x,cy:E.y,r:4,fill:wx(O.item),strokeWidth:2,stroke:"#fff",payload:E.payload,value:E.value},Xe(V,!1)),Uh(V));return T.push(x.renderActiveDot(V,B,"".concat($,"-activePoint-").concat(D))),C?T.push(x.renderActiveDot(V,Ne(Ne({},B),{},{cx:C.x,cy:C.y}),"".concat($,"-basePoint-").concat(D))):k&&T.push(null),T}),et(w,"renderGraphicChild",function(A,O,E){var C=w.filterFormatItem(A,O,E);if(!C)return null;var D=w.getTooltipEventType(),k=w.state,T=k.isTooltipActive,$=k.tooltipAxis,I=k.activeTooltipIndex,V=k.activeLabel,F=w.props.children,B=Cn(F,Na),X=C.props,Y=X.points,Z=X.isRange,ae=X.baseLine,M=C.item.type.defaultProps!==void 0?Ne(Ne({},C.item.type.defaultProps),C.item.props):C.item.props,W=M.activeDot,Q=M.hide,ne=M.activeBar,oe=M.activeShape,he=!!(!Q&&T&&B&&(W||ne||oe)),de={};D!=="axis"&&B&&B.props.trigger==="click"?de={onClick:ch(w.handleItemMouseEnter,A.props.onClick)}:D!=="axis"&&(de={onMouseLeave:ch(w.handleItemMouseLeave,A.props.onMouseLeave),onMouseEnter:ch(w.handleItemMouseEnter,A.props.onMouseEnter)});var ie=R.cloneElement(A,Ne(Ne({},C.props),de));function xe(Me){return typeof $.dataKey=="function"?$.dataKey(Me.payload):null}if(he)if(I>=0){var be,pe;if($.dataKey&&!$.allowDuplicatedCategory){var Ee=typeof $.dataKey=="function"?xe:"payload.".concat($.dataKey.toString());be=qh(Y,Ee,V),pe=Z&&ae&&qh(ae,Ee,V)}else be=Y==null?void 0:Y[I],pe=Z&&ae&&ae[I];if(oe||ne){var $e=A.props.activeIndex!==void 0?A.props.activeIndex:I;return[R.cloneElement(A,Ne(Ne(Ne({},C.props),de),{},{activeIndex:$e})),null,null]}if(!ht(be))return[ie].concat(pc(w.renderActivePoints({item:C,activePoint:be,basePoint:pe,childIndex:I,isRange:Z})))}else{var ye,re=(ye=w.getItemByXY(w.state.activeCoordinate))!==null&&ye!==void 0?ye:{graphicalItem:ie},Ye=re.graphicalItem,Be=Ye.item,ke=Be===void 0?A:Be,Ce=Ye.childIndex,De=Ne(Ne(Ne({},C.props),de),{},{activeIndex:Ce});return[R.cloneElement(ke,De),null,null]}return Z?[ie,null,null]:[ie,null]}),et(w,"renderCustomized",function(A,O,E){return R.cloneElement(A,Ne(Ne({key:"recharts-customized-".concat(E)},w.props),w.state))}),et(w,"renderMap",{CartesianGrid:{handler:ph,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:ph},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:ph},YAxis:{handler:ph},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((N=b.id)!==null&&N!==void 0?N:Lc("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=d3(w.triggeredAfterMouseMove,(_=b.throttleDelay)!==null&&_!==void 0?_:1e3/60),w.state={},w}return eue(x,j),Xce(x,[{key:"componentDidMount",value:function(){var N,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var N=this.props,_=N.children,w=N.data,A=N.height,O=N.layout,E=Cn(_,Na);if(E){var C=E.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var D=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,k=zy(this.state,w,C,D),T=this.state.tooltipTicks[C].coordinate,$=(this.state.offset.top+A)/2,I=O==="horizontal",V=I?{x:T,y:$}:{y:T,x:$},F=this.state.formattedGraphicalItems.find(function(X){var Y=X.item;return Y.type.name==="Scatter"});F&&(V=Ne(Ne({},V),F.props.points[C].tooltipPosition),k=F.props.points[C].tooltipPayload);var B={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:D,activePayload:k,activeCoordinate:V};this.setState(B),this.renderCursor(E),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(N,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==N.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==N.margin){var w,A;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0}})}return null}},{key:"componentDidUpdate",value:function(N){j0([Cn(N.children,Na)],[Cn(this.props.children,Na)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var N=Cn(this.props.children,Na);if(N&&typeof N.props.shared=="boolean"){var _=N.props.shared?"axis":"item";return s.indexOf(_)>=0?_:i}return i}},{key:"getMouseInfo",value:function(N){if(!this.container)return null;var _=this.container,w=_.getBoundingClientRect(),A=lJ(w),O={chartX:Math.round(N.pageX-A.left),chartY:Math.round(N.pageY-A.top)},E=w.width/_.offsetWidth||1,C=this.inRange(O.chartX,O.chartY,E);if(!C)return null;var D=this.state,k=D.xAxisMap,T=D.yAxisMap,$=this.getTooltipEventType(),I=DN(this.state,this.props.data,this.props.layout,C);if($!=="axis"&&k&&T){var V=co(k).scale,F=co(T).scale,B=V&&V.invert?V.invert(O.chartX):null,X=F&&F.invert?F.invert(O.chartY):null;return Ne(Ne({},O),{},{xValue:B,yValue:X},I)}return I?Ne(Ne({},O),I):null}},{key:"inRange",value:function(N,_){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=this.props.layout,O=N/w,E=_/w;if(A==="horizontal"||A==="vertical"){var C=this.state.offset,D=O>=C.left&&O<=C.left+C.width&&E>=C.top&&E<=C.top+C.height;return D?{x:O,y:E}:null}var k=this.state,T=k.angleAxisMap,$=k.radiusAxisMap;if(T&&$){var I=co(T);return uj({x:O,y:E},I)}return null}},{key:"parseEventsOfWrapper",value:function(){var N=this.props.children,_=this.getTooltipEventType(),w=Cn(N,Na),A={};w&&_==="axis"&&(w.props.trigger==="click"?A={onClick:this.handleClick}:A={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var O=Uh(this.props,this.handleOuterEvent);return Ne(Ne({},O),A)}},{key:"addListener",value:function(){$v.on(Dv,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){$v.removeListener(Dv,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(N,_,w){for(var A=this.state.formattedGraphicalItems,O=0,E=A.length;O<E;O++){var C=A[O];if(C.item===N||C.props.key===N.key||_===Ci(C.item.type)&&w===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var N=this.clipPathId,_=this.state.offset,w=_.left,A=_.top,O=_.height,E=_.width;return U.createElement("defs",null,U.createElement("clipPath",{id:N},U.createElement("rect",{x:w,y:A,height:O,width:E})))}},{key:"getXScales",value:function(){var N=this.state.xAxisMap;return N?Object.entries(N).reduce(function(_,w){var A=LN(w,2),O=A[0],E=A[1];return Ne(Ne({},_),{},et({},O,E.scale))},{}):null}},{key:"getYScales",value:function(){var N=this.state.yAxisMap;return N?Object.entries(N).reduce(function(_,w){var A=LN(w,2),O=A[0],E=A[1];return Ne(Ne({},_),{},et({},O,E.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(N){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[N])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(N){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[N])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(N){var _=this.state,w=_.formattedGraphicalItems,A=_.activeItem;if(w&&w.length)for(var O=0,E=w.length;O<E;O++){var C=w[O],D=C.props,k=C.item,T=k.type.defaultProps!==void 0?Ne(Ne({},k.type.defaultProps),k.props):k.props,$=Ci(k.type);if($==="Bar"){var I=(D.data||[]).find(function(X){return Lae(N,X)});if(I)return{graphicalItem:C,payload:I}}else if($==="RadialBar"){var V=(D.data||[]).find(function(X){return uj(N,X)});if(V)return{graphicalItem:C,payload:V}}else if(Gm(C,A)||Vm(C,A)||$d(C,A)){var F=soe({graphicalItem:C,activeTooltipItem:A,itemData:T.data}),B=T.activeIndex===void 0?F:T.activeIndex;return{graphicalItem:Ne(Ne({},C),{},{childIndex:B}),payload:$d(C,A)?T.data[F]:C.props.data[F]}}}return null}},{key:"render",value:function(){var N=this;if(!Ow(this))return null;var _=this.props,w=_.children,A=_.className,O=_.width,E=_.height,C=_.style,D=_.compact,k=_.title,T=_.desc,$=MN(_,Uce),I=Xe($,!1);if(D)return U.createElement(gN,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},U.createElement(S0,Pl({},I,{width:O,height:E,title:k,desc:T}),this.renderClipPath(),Ew(w,this.renderMap)));if(this.props.accessibilityLayer){var V,F;I.tabIndex=(V=this.props.tabIndex)!==null&&V!==void 0?V:0,I.role=(F=this.props.role)!==null&&F!==void 0?F:"application",I.onKeyDown=function(X){N.accessibilityManager.keyboardEvent(X)},I.onFocus=function(){N.accessibilityManager.focus()}}var B=this.parseEventsOfWrapper();return U.createElement(gN,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},U.createElement("div",Pl({className:gt("recharts-wrapper",A),style:Ne({position:"relative",cursor:"default",width:O,height:E},C)},B,{ref:function(Y){N.container=Y}}),U.createElement(S0,Pl({},I,{width:O,height:E,title:k,desc:T,style:oue}),this.renderClipPath(),Ew(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(R.Component);et(v,"displayName",r),et(v,"defaultProps",Ne({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),et(v,"getDerivedStateFromProps",function(j,x){var b=j.dataKey,N=j.data,_=j.children,w=j.width,A=j.height,O=j.layout,E=j.stackOffset,C=j.margin,D=x.dataStartIndex,k=x.dataEndIndex;if(x.updateId===void 0){var T=IN(j);return Ne(Ne(Ne({},T),{},{updateId:0},h(Ne(Ne({props:j},T),{},{updateId:0}),x)),{},{prevDataKey:b,prevData:N,prevWidth:w,prevHeight:A,prevLayout:O,prevStackOffset:E,prevMargin:C,prevChildren:_})}if(b!==x.prevDataKey||N!==x.prevData||w!==x.prevWidth||A!==x.prevHeight||O!==x.prevLayout||E!==x.prevStackOffset||!Ll(C,x.prevMargin)){var $=IN(j),I={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},V=Ne(Ne({},DN(x,N,O)),{},{updateId:x.updateId+1}),F=Ne(Ne(Ne({},$),I),V);return Ne(Ne(Ne({},F),h(Ne({props:j},F),x)),{},{prevDataKey:b,prevData:N,prevWidth:w,prevHeight:A,prevLayout:O,prevStackOffset:E,prevMargin:C,prevChildren:_})}if(!j0(_,x.prevChildren)){var B,X,Y,Z,ae=Cn(_,ac),M=ae&&(B=(X=ae.props)===null||X===void 0?void 0:X.startIndex)!==null&&B!==void 0?B:D,W=ae&&(Y=(Z=ae.props)===null||Z===void 0?void 0:Z.endIndex)!==null&&Y!==void 0?Y:k,Q=M!==D||W!==k,ne=!ht(N),oe=ne&&!Q?x.updateId:x.updateId+1;return Ne(Ne({updateId:oe},h(Ne(Ne({props:j},x),{},{updateId:oe,dataStartIndex:M,dataEndIndex:W}),x)),{},{prevChildren:_,dataStartIndex:M,dataEndIndex:W})}return null}),et(v,"renderActiveDot",function(j,x,b){var N;return R.isValidElement(j)?N=R.cloneElement(j,x):nt(j)?N=j(x):N=U.createElement(zm,x),U.createElement(Nt,{className:"recharts-active-dot",key:b},N)});var g=R.forwardRef(function(x,b){return U.createElement(v,Pl({},x,{ref:b}))});return g.displayName=v.displayName,g},gue=MO({chartName:"PieChart",GraphicalChild:zi,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Hm},{axisType:"radiusAxis",AxisComp:Um}],formatAxisMap:tre,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),vue=MO({chartName:"AreaChart",GraphicalChild:Oo,axisComponents:[{axisType:"xAxis",AxisComp:Qm},{axisType:"yAxis",AxisComp:eg}],formatAxisMap:vse});const FN=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8"];function $O(){const{id:e}=Es(),{profile:t,loading:r}=wo(),n=t==null?void 0:t.org_id,[a,i]=R.useState(!0),[o,s]=R.useState(null),[c,u]=R.useState("overview"),[d,f]=R.useState("6m"),[p,h]=R.useState({total_donations:0,total_donors:0,average_donation:0,progress:0,top_donor:null,monetary_donations:0,time_donations:0,supply_donations:0,donor_retention_rate:0,recurring_donors:0,campaign_efficiency:0,volunteer_hours:0,supply_value:0,monthly_trends:[],donor_demographics:[],campaign_performance:[],volunteer_metrics:[],supply_categories:[],donors:[],top_donors:[],recurring_donor_list:[],donor_retention:[]}),[v,g]=R.useState({type:"monetary",amount:"",description:"",date:um(new Date,"yyyy-MM-dd"),donor_name:"",donor_email:"",donor_phone:"",is_recurring:!1,frequency:"monthly",category:"",payment_method:"credit_card"});R.useEffect(()=>{if(!r){if(!e&&!n){s("No fundraiser or organization context found."),i(!1);return}x()}},[e,d,n,r]);const j=N=>({...p,...N,monthly_trends:Array.isArray(N==null?void 0:N.monthly_trends)?N.monthly_trends:[],donor_demographics:Array.isArray(N==null?void 0:N.donor_demographics)?N.donor_demographics:[],campaign_performance:Array.isArray(N==null?void 0:N.campaign_performance)?N.campaign_performance:[],volunteer_metrics:Array.isArray(N==null?void 0:N.volunteer_metrics)?N.volunteer_metrics:[],supply_categories:Array.isArray(N==null?void 0:N.supply_categories)?N.supply_categories:[],donors:Array.isArray(N==null?void 0:N.donors)?N.donors:[],top_donors:Array.isArray(N==null?void 0:N.top_donors)?N.top_donors:[],recurring_donor_list:Array.isArray(N==null?void 0:N.recurring_donor_list)?N.recurring_donor_list:[],donor_retention:Array.isArray(N==null?void 0:N.donor_retention)?N.donor_retention:[]}),x=async()=>{var N,_,w,A,O,E,C,D,k,T,$,I,V;try{i(!0);const[F,B,X,Y]=await Promise.all([Oa.getAnalyticsOverview({dateRange:d}),Oa.getAnalyticsTrends({dateRange:d}),Oa.getAnalyticsDonorRetention({dateRange:d}),Oa.getAnalyticsCampaigns({dateRange:d})]);console.log("Analytics API responses:",{overview:F,trends:B,retention:X,campaigns:Y});const Z={total_donations:((_=(N=F==null?void 0:F.data)==null?void 0:N.data)==null?void 0:_.total_donations)||0,total_donors:((A=(w=F==null?void 0:F.data)==null?void 0:w.data)==null?void 0:A.total_donors)||0,volunteer_hours:((E=(O=F==null?void 0:F.data)==null?void 0:O.data)==null?void 0:E.total_volunteer_hours)||0,supply_value:((D=(C=F==null?void 0:F.data)==null?void 0:C.data)==null?void 0:D.total_supply_value)||0,active_campaigns:((T=(k=F==null?void 0:F.data)==null?void 0:k.data)==null?void 0:T.active_campaigns)||0,monthly_trends:(($=B==null?void 0:B.data)==null?void 0:$.data)||[],donor_retention:((I=X==null?void 0:X.data)==null?void 0:I.data)||[],campaign_performance:((V=Y==null?void 0:Y.data)==null?void 0:V.data)||[]};h(j(Z)),s(null)}catch(F){const B="Failed to fetch fundraiser analytics";s(B),Pa(F,B),console.error("Analytics fetch error:",F)}finally{i(!1)}},b=N=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(N);return o?l.jsx("div",{className:"text-red-500 text-center mt-8",children:o}):a?l.jsx("div",{className:"text-center py-12",children:"Loading analytics..."}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsx(Ln,{children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:l.jsx(Za,{className:"h-6 w-6 text-blue-600"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Donations"}),l.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:b(p.total_donations)})]})]})}),l.jsx(Ln,{children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:l.jsx(ka,{className:"h-6 w-6 text-green-600"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Donors"}),l.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:p.total_donors})]})]})}),l.jsx(Ln,{children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"p-3 bg-purple-100 rounded-full",children:l.jsx(Mu,{className:"h-6 w-6 text-purple-600"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Volunteer Hours"}),l.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:p.volunteer_hours})]})]})}),l.jsx(Ln,{children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"p-3 bg-yellow-100 rounded-full",children:l.jsx(kP,{className:"h-6 w-6 text-yellow-600"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Supply Value"}),l.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:b(p.supply_value)})]})]})})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs(Ln,{children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Donation Trends"}),l.jsx("div",{className:"h-80",children:l.jsx(Zw,{width:"100%",height:"100%",children:l.jsxs(vue,{data:p.monthly_trends,children:[l.jsx(mO,{strokeDasharray:"3 3"}),l.jsx(Qm,{dataKey:"date"}),l.jsx(eg,{}),l.jsx(Na,{formatter:N=>b(N)}),l.jsx(Oo,{type:"monotone",dataKey:"amount",stroke:"#2563eb",fill:"#93c5fd"})]})})})]}),l.jsxs(Ln,{children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Donation Types"}),l.jsx("div",{className:"h-80",children:l.jsx(Zw,{width:"100%",height:"100%",children:l.jsxs(gue,{children:[l.jsx(zi,{data:p.supply_categories,dataKey:"value",nameKey:"category",cx:"50%",cy:"50%",outerRadius:80,fill:"#2563eb",label:!0,children:p.supply_categories.map((N,_)=>l.jsx(Em,{fill:FN[_%FN.length]},`cell-${_}`))}),l.jsx(Na,{}),l.jsx(cs,{})]})})})]})]})]})}function yue(){const{id:e}=Es(),[t,r]=R.useState(!0),[n,a]=R.useState(null),[i,o]=R.useState(null),[s,c]=R.useState(!1);R.useEffect(()=>{if(!e){a("No fundraiser selected. Please select a fundraiser to share."),r(!1);return}u()},[e]);const u=async()=>{if(e)try{r(!0);const{data:p,error:h}=await Oa.getFundraiser(e);if(h)throw new Error(h);o(p),a(null)}catch(p){const h="Failed to fetch fundraiser details";a(h),Pa(p,h)}finally{r(!1)}},d=async p=>{const h=`${window.location.origin}/fundraisers/${e}`,v=`Support ${i.title} - ${i.description}`;try{switch(p){case"facebook":window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(h)}`,"_blank");break;case"twitter":window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(v)}&url=${encodeURIComponent(h)}`,"_blank");break;case"linkedin":window.open(`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(h)}`,"_blank");break;default:break}fs("Shared successfully")}catch(g){Pa(g,"Failed to share")}},f=async()=>{const p=`${window.location.origin}/fundraisers/${e}`;try{await navigator.clipboard.writeText(p),c(!0),fs("Link copied to clipboard"),setTimeout(()=>c(!1),2e3)}catch(h){Pa(h,"Failed to copy link")}};return n?l.jsx("div",{className:"text-red-500 text-center mt-8",children:n}):i?l.jsx(Bb,{title:"Share Fundraiser",loading:t,error:n,children:l.jsx("div",{className:"max-w-2xl mx-auto space-y-6",children:l.jsx(Ln,{title:i.title,description:i.description,children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[l.jsxs(xn,{onClick:()=>d("facebook"),className:"flex items-center space-x-2",children:[l.jsx(TP,{className:"h-5 w-5"}),l.jsx("span",{children:"Share on Facebook"})]}),l.jsxs(xn,{onClick:()=>d("twitter"),className:"flex items-center space-x-2",children:[l.jsx(CP,{className:"h-5 w-5"}),l.jsx("span",{children:"Share on Twitter"})]}),l.jsxs(xn,{onClick:()=>d("linkedin"),className:"flex items-center space-x-2",children:[l.jsx(LP,{className:"h-5 w-5"}),l.jsx("span",{children:"Share on LinkedIn"})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"flex-1 p-2 bg-gray-50 rounded-lg border border-gray-200 text-sm text-gray-600 truncate",children:`${window.location.origin}/fundraisers/${e}`}),l.jsx(xn,{onClick:f,variant:"outline",className:"flex items-center space-x-2",children:s?l.jsxs(l.Fragment,{children:[l.jsx(MP,{className:"h-5 w-5 text-green-500"}),l.jsx("span",{children:"Copied!"})]}):l.jsxs(l.Fragment,{children:[l.jsx(XN,{className:"h-5 w-5"}),l.jsx("span",{children:"Copy"})]})})]})]})})})}):null}function bue(){const e=mr(),[t,r]=R.useState(!0),[n,a]=R.useState(null),[i,o]=R.useState({donors:[],top_donors:[],recurring_donor_list:[],donor_retention:[]});R.useEffect(()=>{s()},[]);const s=async()=>{var d;try{r(!0);const f=await Oa.getAnalyticsDonorRetention();console.log("Donor retention response:",f);const p=(d=f==null?void 0:f.data)==null?void 0:d.data;let h=[];Array.isArray(p)?h=p:p&&typeof p=="object"&&(h=p.donors||p.retention||[]),Array.isArray(h)||(h=[]),console.log("Processed donor data:",h),o({donors:h,top_donors:h.slice(0,10),recurring_donor_list:h.filter(v=>v.months_active>1),donor_retention:h}),a(null)}catch(f){a("Failed to fetch donor analytics"),console.error("Donor analytics fetch error:",f)}finally{r(!1)}},c=d=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(d),u=d=>um(new Date(d),"MMM d, yyyy");return n?l.jsx("div",{className:"text-red-500 text-center mt-8",children:n}):t?l.jsx("div",{className:"text-center py-12",children:"Loading donors..."}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Donor Analytics"}),l.jsx(xn,{variant:"outline",onClick:()=>e("/fundraisers/record-donation"),children:"Add Donation"})]}),l.jsxs(Ln,{children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Donor List"}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Email"}),l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Total Donated"}),l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Last Donation"}),l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Recurring"})]})}),l.jsx("tbody",{children:i.donors&&i.donors.length>0?i.donors.map((d,f)=>l.jsxs("tr",{className:"bg-white even:bg-gray-50",children:[l.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:(d==null?void 0:d.donor_email)||`Donor ${f+1}`}),l.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:(d==null?void 0:d.donor_email)||"N/A"}),l.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:c((d==null?void 0:d.total_donated)||0)}),l.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:d!=null&&d.last_donation?u(d.last_donation):"N/A"}),l.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:((d==null?void 0:d.months_active)||0)>1?"Yes":"No"})]},f)):l.jsx("tr",{children:l.jsx("td",{colSpan:5,className:"text-center py-4 text-gray-500",children:"No donors found."})})})]})})]}),l.jsxs(Ln,{children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Top Donors"}),l.jsx("ul",{className:"divide-y divide-gray-200",children:i.top_donors&&i.top_donors.length>0?i.top_donors.map((d,f)=>l.jsxs("li",{className:"py-2 flex justify-between",children:[l.jsx("span",{children:(d==null?void 0:d.donor_email)||`Donor ${f+1}`}),l.jsx("span",{className:"font-semibold",children:c((d==null?void 0:d.total_donated)||0)})]},f)):l.jsx("li",{className:"text-center py-4 text-gray-500",children:"No top donors found."})})]}),l.jsxs(Ln,{children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recurring Donors"}),l.jsx("ul",{className:"divide-y divide-gray-200",children:i.recurring_donor_list&&i.recurring_donor_list.length>0?i.recurring_donor_list.map((d,f)=>l.jsxs("li",{className:"py-2 flex justify-between",children:[l.jsx("span",{children:(d==null?void 0:d.donor_email)||`Donor ${f+1}`}),l.jsx("span",{className:"font-semibold",children:c((d==null?void 0:d.total_donated)||0)})]},f)):l.jsx("li",{className:"text-center py-4 text-gray-500",children:"No recurring donors found."})})]}),l.jsxs(Ln,{children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Donor Retention"}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Donor"}),l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Months Active"}),l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"First Donation"}),l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Last Donation"}),l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Total Donated"})]})}),l.jsx("tbody",{children:i.donor_retention&&i.donor_retention.length>0?i.donor_retention.map((d,f)=>l.jsxs("tr",{className:"bg-white even:bg-gray-50",children:[l.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:(d==null?void 0:d.donor_email)||`Donor ${f+1}`}),l.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:(d==null?void 0:d.months_active)||0}),l.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:d!=null&&d.first_donation?u(d.first_donation):"N/A"}),l.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:d!=null&&d.last_donation?u(d.last_donation):"N/A"}),l.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:c((d==null?void 0:d.total_donated)||0)})]},f)):l.jsx("tr",{children:l.jsx("td",{colSpan:5,className:"text-center py-4 text-gray-500",children:"No donor retention data found."})})})]})})]})]})}const BN=[{value:"monetary",label:"Monetary Donations"},{value:"volunteer",label:"Volunteer Hours"},{value:"supplies",label:"Supply Donations"},{value:"top_donors",label:"Top Donors"},{value:"recurring",label:"Recurring Donors"},{value:"retention",label:"Donor Retention"},{value:"campaign",label:"Campaign Performance"},{value:"year_over_year",label:"Year-over-Year Comparison"}];function xue(){var h;const[e,t]=R.useState("monetary"),[r,n]=R.useState("6m"),[a,i]=R.useState(!1),[o,s]=R.useState([]),[c,u]=R.useState(null),d=()=>{i(!0),setTimeout(()=>{s([{name:"John Smith",value:1500,date:"2024-01-15"},{name:"Sarah Johnson",value:2500,date:"2024-03-01"},{name:"Mike Brown",value:500,date:"2024-02-01"}]),i(!1),u(null)},1e3)},f=()=>{alert("PDF export coming soon!")},p=()=>{alert("XLSX export coming soon!")};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[l.jsx("select",{className:"px-4 py-2 h-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:e,onChange:v=>t(v.target.value),children:BN.map(v=>l.jsx("option",{value:v.value,children:v.label},v.value))}),l.jsxs("select",{className:"px-4 py-2 h-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:r,onChange:v=>n(v.target.value),children:[l.jsx("option",{value:"6m",children:"Last 6 Months"}),l.jsx("option",{value:"1y",children:"Last Year"}),l.jsx("option",{value:"all",children:"All Time"})]}),l.jsx(xn,{variant:"outline",onClick:d,disabled:a,children:"Generate Report"})]}),l.jsxs(Ln,{children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:[(h=BN.find(v=>v.value===e))==null?void 0:h.label," Report"]}),l.jsxs("div",{className:"space-x-2",children:[l.jsx(xn,{variant:"outline",onClick:f,children:"Export as PDF"}),l.jsx(xn,{variant:"outline",onClick:p,children:"Export as XLSX"})]})]}),c&&l.jsx("div",{className:"text-red-500 mb-4",children:c}),a?l.jsx("div",{className:"text-center py-12",children:"Generating report..."}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Value"}),l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"})]})}),l.jsx("tbody",{children:o.length>0?o.map((v,g)=>l.jsxs("tr",{className:"bg-white even:bg-gray-50",children:[l.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:v.name}),l.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:v.value}),l.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:v.date})]},g)):l.jsx("tr",{children:l.jsx("td",{colSpan:3,className:"text-center py-4 text-gray-500",children:"No data to display."})})})]})})]})]})}function DO({fundraiserId:e,onCancel:t,onSave:r,embedded:n=!1}){const a=mr(),{id:i}=Es(),o=e||i,[s,c]=R.useState(!0),[u,d]=R.useState(null),[f,p]=R.useState({title:"",description:"",goal_amount:"",category_id:"",start_date:"",end_date:"",status:"draft",visibility:"organization"}),h=[{value:"draft",label:"Draft"},{value:"active",label:"Active"},{value:"paused",label:"Paused"},{value:"completed",label:"Completed"}],v=[{value:"public",label:"Public"},{value:"private",label:"Private"},{value:"organization",label:"Organization Only"}];R.useEffect(()=>{o?g():c(!1)},[o]);const g=async()=>{var N;if(o)try{c(!0);const _=await Oa.getFundraiser(o);console.log("Raw API response:",_);const w=((N=_.data)==null?void 0:N.data)||_.data||_;if(console.log("Extracted fundraiser data:",w),console.log("Fundraiser data keys:",w?Object.keys(w):"no data"),_.error)throw new Error(_.error);if(!w)throw new Error("No fundraiser found with this ID.");const A={title:w.title||"",description:w.description||"",goal_amount:w.goal_amount||w.goal||"",category_id:w.category_id||w.category||"",start_date:w.start_date?w.start_date.split("T")[0]:"",end_date:w.end_date?w.end_date.split("T")[0]:"",status:w.status||"draft",visibility:w.visibility||"organization"};console.log("Individual field values:"),console.log("fundraiserData.title:",w.title),console.log("fundraiserData.goal:",w.goal),console.log("fundraiserData.start_date:",w.start_date),console.log("Transformed data for form:",A),p(A),d(null)}catch(_){const w="Failed to fetch fundraiser details";d(_.message||w),Pa(_,w)}finally{c(!1)}},j=async N=>{N.preventDefault();try{c(!0);const _={title:f.title,description:f.description,goal_amount:f.goal_amount,start_date:f.start_date,end_date:f.end_date,status:f.status,visibility:f.visibility,category:f.category_id};if(o){const{error:w}=await Oa.updateFundraiser(o,_);if(w)throw new Error(w);fs("Fundraiser updated successfully"),n&&r?r():a("/fundraisers")}else{const{error:w}=await Oa.createFundraiser(_);if(w)throw new Error(w);fs("Fundraiser created successfully"),n&&r?r():a("/fundraisers")}}catch(_){Pa(_,o?"Failed to update fundraiser":"Failed to create fundraiser")}finally{c(!1)}},x=N=>{const{name:_,value:w}=N.target;p(A=>({...A,[_]:w}))};if(s)return l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("span",{className:"text-blue-600 text-lg",children:"Loading fundraiser details..."})});if(u)return l.jsx("div",{className:"text-red-500 text-center mt-8",children:u});if(!o&&(window.location.pathname.includes("edit")||n))return l.jsx("div",{className:"text-red-500 text-center mt-8",children:"No fundraiser selected. Please select a fundraiser to edit."});const b=l.jsxs("form",{onSubmit:j,className:"max-w-2xl mx-auto space-y-6",children:[l.jsx(ml,{label:"Title",id:"title",name:"title",value:f.title,onChange:x,required:!0}),l.jsx(ml,{label:"Description",id:"description",name:"description",value:f.description,onChange:x,required:!0,as:"textarea",rows:4}),l.jsx(ml,{label:"Goal Amount",id:"goal_amount",name:"goal_amount",type:"number",value:f.goal_amount,onChange:x,required:!0,min:"0",step:"0.01"}),l.jsx(ml,{label:"Category",id:"category_id",name:"category_id",value:f.category_id,onChange:x}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsx(ml,{label:"Start Date",id:"start_date",name:"start_date",type:"date",value:f.start_date,onChange:x,required:!0}),l.jsx(ml,{label:"End Date",id:"end_date",name:"end_date",type:"date",value:f.end_date,onChange:x,required:!0})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsx(jw,{label:"Status",id:"status",name:"status",value:f.status,onChange:x,required:!0,options:h}),l.jsx(jw,{label:"Visibility",id:"visibility",name:"visibility",value:f.visibility,onChange:x,required:!0,options:v})]}),l.jsxs("div",{className:"flex justify-end space-x-4",children:[l.jsx(xn,{type:"button",variant:"outline",onClick:n&&t?t:()=>a("/fundraisers"),children:"Cancel"}),l.jsxs(xn,{type:"submit",isLoading:s,children:[o?"Update":"Create"," Fundraiser"]})]})]});return n?b:l.jsx(Bb,{title:o?"Edit Fundraiser":"Create Fundraiser",loading:s,error:u,children:b})}function wue(){const e=mr(),[t,r]=R.useState(!0),[n,a]=R.useState(null),[i,o]=R.useState([]),[s,c]=R.useState(""),[u,d]=R.useState("all"),[f,p]=R.useState(null),[h,v]=R.useState("fundraisers"),[g,j]=R.useState(null);R.useEffect(()=>{x();const C=sessionStorage.getItem("editFundraiserId");C&&(j(C),sessionStorage.removeItem("editFundraiserId"))},[]);const x=async()=>{try{r(!0);const{data:C,error:D}=await Oa.getFundraisers();if(D)throw new Error(D);o((C==null?void 0:C.data)||[]),a(null)}catch(C){const D="Failed to fetch fundraisers";a(D),Pa(C,D)}finally{r(!1)}},b=async C=>{if(window.confirm("Are you sure you want to delete this fundraiser?"))try{r(!0);const{error:D}=await Oa.deleteFundraiser(C);if(D)throw new Error(D);fs("Fundraiser deleted successfully"),x()}catch(D){Pa(D,"Failed to delete fundraiser")}finally{r(!1)}},N=C=>new Date(C).toLocaleDateString(),_=C=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(C),w=C=>{j(C)},A=()=>{j(null)},O=()=>{j(null),x()},E=i.filter(C=>{const D=C.title.toLowerCase().includes(s.toLowerCase())||C.description.toLowerCase().includes(s.toLowerCase()),k=u==="all"||C.status===u;return D&&k});return l.jsxs(Bb,{title:"Fundraiser Manager",loading:t,error:n,children:[l.jsx("div",{className:"border-b border-gray-200 mb-6",children:l.jsxs("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:[l.jsx("button",{className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${h==="fundraisers"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>v("fundraisers"),children:"Active Fundraisers"}),l.jsx("button",{className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${h==="analytics"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>v("analytics"),children:"Analytics"}),l.jsx("button",{className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${h==="donors"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>v("donors"),children:"Donors"}),l.jsx("button",{className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${h==="reports"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>v("reports"),children:"Reports"}),l.jsx("button",{className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${h==="share"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>v("share"),children:"Share"})]})}),h==="fundraisers"&&!g&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Active Fundraisers"}),l.jsx(xn,{variant:"outline",onClick:()=>e("/fundraisers/create"),children:"Create New Fundraiser"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:E.map(C=>l.jsx(Ln,{title:C.title,description:C.description,children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-500",children:"Goal:"}),l.jsx("span",{className:"font-medium",children:_(C.goal_amount)})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-500",children:"Status:"}),l.jsx("span",{className:`font-medium ${C.status==="active"?"text-green-600":C.status==="completed"?"text-blue-600":"text-gray-600"}`,children:C.status.charAt(0).toUpperCase()+C.status.slice(1)})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-500",children:"Dates:"}),l.jsxs("span",{className:"font-medium",children:[N(C.start_date)," - ",N(C.end_date)]})]}),l.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[l.jsx(xn,{variant:"outline",onClick:()=>w(C.id),children:"Edit"}),l.jsx(xn,{variant:"danger",onClick:()=>b(C.id),children:"Delete"})]})]})},C.id))}),E.length===0&&!t&&l.jsx("div",{className:"text-center py-12",children:l.jsx("p",{className:"text-gray-500",children:"No fundraisers found"})})]}),h==="fundraisers"&&g&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Edit Fundraiser"}),l.jsx(xn,{variant:"outline",onClick:A,children:"â† Back to Fundraisers"})]}),l.jsx(DO,{fundraiserId:g,onCancel:A,onSave:O,embedded:!0})]}),h==="analytics"&&l.jsx("div",{className:"mt-8",children:l.jsx($O,{})}),h==="donors"&&l.jsx("div",{className:"mt-8",children:l.jsx(bue,{})}),h==="reports"&&l.jsx("div",{className:"mt-8",children:l.jsx(xue,{})}),h==="share"&&l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{htmlFor:"fundraiser-select",className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Fundraiser to Share"}),l.jsxs("select",{id:"fundraiser-select",className:"block w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-base",value:f?f.id:"",onChange:C=>{const D=i.find(k=>k.id===C.target.value);p(D||null)},children:[l.jsx("option",{value:"",children:"-- Select a Fundraiser --"}),i.map(C=>l.jsx("option",{value:C.id,children:C.title},C.id))]})]}),h==="share"&&l.jsx(yue,{fundraiserId:f?f.id:null})]})}function jue(){const{id:e}=Es(),t=mr();return R.useEffect(()=>{e?(sessionStorage.setItem("editFundraiserId",e),t("/fundraisers",{replace:!0})):t("/fundraisers",{replace:!0})},[e,t]),l.jsx("div",{className:"flex justify-center items-center min-h-screen",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"Redirecting to fundraiser editor..."})]})})}function Nue(){const[e,t]=R.useState([]),[r,n]=R.useState("");R.useEffect(()=>{async function s(){const{data:{session:c}}=await We.auth.getSession();if(!(c!=null&&c.access_token)){n("Authentication required.");return}try{const u=await fetch("/api/budgets",{headers:{Authorization:`Bearer ${c.access_token}`}}),d=await u.json();u.ok?t(d):n(d.error||"Failed to load transactions.")}catch(u){console.error("Budget fetch error:",u),n("Error connecting to the server.")}}s()},[]);const a=e.filter(s=>s.type==="income").reduce((s,c)=>s+parseFloat(c.amount||0),0),i=e.filter(s=>s.type==="expense").reduce((s,c)=>s+parseFloat(c.amount||0),0),o=a-i;return l.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h1",{className:"text-2xl font-bold",children:"PTO Budget Overview"}),l.jsx(mc,{to:"/budget/create",className:"bg-blue-600 text-white px-4 py-2 rounded",children:"+ Add Entry"})]}),l.jsxs("div",{className:"mb-6 p-4 border rounded bg-gray-100",children:[l.jsxs("p",{className:"text-lg font-semibold",children:["Current Balance: $",o.toFixed(2)]}),l.jsxs("p",{className:"text-sm text-green-700",children:["Total Income: $",a.toFixed(2)]}),l.jsxs("p",{className:"text-sm text-red-700",children:["Total Expenses: $",i.toFixed(2)]})]}),r&&l.jsx("p",{className:"text-red-600",children:r}),e.length===0&&!r&&l.jsx("p",{children:"No budget entries found."}),l.jsx("ul",{className:"space-y-4",children:e.map(s=>l.jsxs("li",{className:"border p-4 rounded shadow-sm bg-white",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("h2",{className:"text-lg font-semibold",children:s.label}),l.jsxs("span",{className:s.type==="income"?"text-green-600":"text-red-600",children:[s.type==="income"?"+":"-","$",parseFloat(s.amount).toFixed(2)]})]}),l.jsx("p",{className:"text-sm text-gray-500",children:s.category||"Uncategorized"}),s.related_event_id&&l.jsxs("p",{className:"text-sm text-blue-700 mt-1",children:["Event ID: ",s.related_event_id]})]},s.id))})]})}const Sue=()=>{const e=mr(),[t,r]=R.useState("overview"),[n,a]=R.useState("manual"),[i,o]=R.useState("current"),s={totalBudget:45e3,totalSpent:28500,totalRemaining:16500,projectedIncome:52e3,categories:[{id:1,name:"Events & Programs",budgeted:15e3,spent:8500,remaining:6500,percentage:57,trend:"up",createdBy:"stella",subcategories:[{name:"Fall Festival",budgeted:5e3,spent:3200},{name:"Science Night",budgeted:3e3,spent:1800},{name:"Book Fair",budgeted:4e3,spent:2500},{name:"Art Show",budgeted:3e3,spent:1e3}]},{id:2,name:"Educational Support",budgeted:12e3,spent:7200,remaining:4800,percentage:60,trend:"stable",createdBy:"manual",subcategories:[{name:"Classroom Supplies",budgeted:6e3,spent:4200},{name:"Technology",budgeted:4e3,spent:2e3},{name:"Library Books",budgeted:2e3,spent:1e3}]},{id:3,name:"Communications",budgeted:3e3,spent:1800,remaining:1200,percentage:60,trend:"down",createdBy:"stella",subcategories:[{name:"Website & Digital",budgeted:1500,spent:800},{name:"Print Materials",budgeted:1e3,spent:700},{name:"Social Media",budgeted:500,spent:300}]},{id:4,name:"Administrative",budgeted:5e3,spent:3200,remaining:1800,percentage:64,trend:"up",createdBy:"manual",subcategories:[{name:"Insurance",budgeted:2e3,spent:2e3},{name:"Banking & Fees",budgeted:1e3,spent:600},{name:"Office Supplies",budgeted:2e3,spent:600}]}],recentTransactions:[{id:1,date:"2024-10-15",description:"Fall Festival Decorations",category:"Events & Programs",amount:-450,type:"expense",createdBy:"stella"},{id:2,date:"2024-10-14",description:"Book Fair Revenue",category:"Events & Programs",amount:2800,type:"income",createdBy:"manual"},{id:3,date:"2024-10-12",description:"Classroom Technology",category:"Educational Support",amount:-1200,type:"expense",createdBy:"manual"}]},c=()=>{e("/budget/create")},u=()=>{e("/communications/ai?context=budget&mode=assisted")},d=()=>{e("/ai-workflow-orchestrator?context=budget&mode=automated")},f=w=>{e(`/budget/create?category=${w}&mode=view`)},p=w=>{e(`/budget/create?category=${w}&mode=edit`)},h=w=>{e(`/budget/create?category=${w}&mode=optimize`)},v=()=>{e("/budget/create?mode=reallocation")},g=()=>l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[l.jsx("div",{className:"flex items-center justify-between mb-4",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Za,{className:"w-6 h-6 text-blue-600"}),l.jsx("h3",{className:"font-semibold text-gray-900",children:"Total Budget"})]})}),l.jsxs("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:["$",s.totalBudget.toLocaleString()]}),l.jsx("div",{className:"text-sm text-gray-600",children:"For current fiscal year"})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[l.jsx("div",{className:"flex items-center justify-between mb-4",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx($P,{className:"w-6 h-6 text-red-600"}),l.jsx("h3",{className:"font-semibold text-gray-900",children:"Total Spent"})]})}),l.jsxs("div",{className:"text-3xl font-bold text-red-600 mb-2",children:["$",s.totalSpent.toLocaleString()]}),l.jsxs("div",{className:"text-sm text-gray-600",children:[Math.round(s.totalSpent/s.totalBudget*100),"% of budget used"]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[l.jsx("div",{className:"flex items-center justify-between mb-4",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(JN,{className:"w-6 h-6 text-green-600"}),l.jsx("h3",{className:"font-semibold text-gray-900",children:"Remaining"})]})}),l.jsxs("div",{className:"text-3xl font-bold text-green-600 mb-2",children:["$",s.totalRemaining.toLocaleString()]}),l.jsx("div",{className:"text-sm text-gray-600",children:"Available for spending"})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[l.jsx("div",{className:"flex items-center justify-between mb-4",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Wy,{className:"w-6 h-6 text-purple-600"}),l.jsx("h3",{className:"font-semibold text-gray-900",children:"Projected Income"})]})}),l.jsxs("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:["$",s.projectedIncome.toLocaleString()]}),l.jsx("div",{className:"text-sm text-gray-600",children:"Expected total revenue"})]})]}),j=()=>l.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg p-6 mb-8",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(wr,{className:"w-6 h-6 text-purple-600"}),l.jsx("h3",{className:"text-lg font-semibold text-purple-900",children:"Stella's Budget Insights"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[l.jsxs("div",{className:"bg-white rounded-lg p-4",children:[l.jsx("div",{className:"text-sm text-purple-600 mb-1",children:"Budget Health"}),l.jsx("div",{className:"text-lg font-semibold text-green-700",children:"Excellent"}),l.jsx("div",{className:"text-xs text-purple-700",children:"On track for surplus"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-4",children:[l.jsx("div",{className:"text-sm text-purple-600 mb-1",children:"Biggest Opportunity"}),l.jsx("div",{className:"text-lg font-semibold text-purple-900",children:"Fall Festival"}),l.jsx("div",{className:"text-xs text-purple-700",children:"Could generate $2K more"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-4",children:[l.jsx("div",{className:"text-sm text-purple-600 mb-1",children:"Cost Savings"}),l.jsx("div",{className:"text-lg font-semibold text-purple-900",children:"$1,200 Found"}),l.jsx("div",{className:"text-xs text-purple-700",children:"In administrative costs"})]})]}),l.jsxs("div",{className:"bg-white rounded-lg p-4",children:[l.jsx("div",{className:"text-sm text-purple-900 font-medium mb-2",children:"ðŸ’¡ Stella's Recommendation"}),l.jsx("div",{className:"text-sm text-purple-800",children:'"Your Events & Programs category is performing well! Consider reallocating $1,000 from Administrative to Educational Support to maximize impact on students. I can create a reallocation plan for you."'}),l.jsx("button",{onClick:v,className:"mt-3 px-4 py-2 bg-purple-600 text-white rounded-lg text-sm hover:bg-purple-700 transition-colors",children:"Let Stella Create Reallocation Plan"})]})]}),x=()=>l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Budget Categories"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:"Manual Entry"}),l.jsx("button",{className:"px-4 py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors text-sm",children:"Ask Stella"})]})]}),l.jsx("div",{className:"space-y-6",children:s.categories.map(w=>{const A=w.spent/w.budgeted*100,O=A>100;return l.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("h4",{className:"font-semibold text-gray-900",children:w.name}),w.createdBy==="stella"&&l.jsx(wr,{className:"w-4 h-4 text-purple-500",title:"Optimized by Stella"}),l.jsxs("div",{className:`flex items-center space-x-1 text-sm ${w.trend==="up"?"text-green-600":w.trend==="down"?"text-red-600":"text-gray-600"}`,children:[w.trend==="up"&&l.jsx(zv,{className:"w-4 h-4"}),w.trend==="down"&&l.jsx(l1,{className:"w-4 h-4"}),l.jsx("span",{className:"capitalize",children:w.trend})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["$",w.spent.toLocaleString()," / $",w.budgeted.toLocaleString()]}),l.jsxs("div",{className:"text-sm text-gray-600",children:["$",w.remaining.toLocaleString()," remaining"]})]})]}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[l.jsx("span",{className:"text-gray-600",children:"Progress"}),l.jsxs("span",{className:`font-medium ${O?"text-red-600":"text-gray-900"}`,children:[Math.round(A),"%"]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:l.jsx("div",{className:`h-3 rounded-full transition-all duration-300 ${O?"bg-red-500":"bg-blue-600"}`,style:{width:`${Math.min(A,100)}%`}})})]}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:w.subcategories.map((E,C)=>l.jsxs("div",{className:"bg-gray-50 rounded p-3",children:[l.jsx("div",{className:"text-sm font-medium text-gray-900",children:E.name}),l.jsxs("div",{className:"text-xs text-gray-600",children:["$",E.spent.toLocaleString()," / $",E.budgeted.toLocaleString()]})]},C))}),l.jsxs("div",{className:"flex space-x-2 mt-4",children:[l.jsxs("button",{onClick:()=>f(w.id),className:"flex items-center px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[l.jsx(Il,{className:"w-4 h-4 mr-2"}),"View Details"]}),l.jsxs("button",{onClick:()=>p(w.id),className:"flex items-center px-3 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors text-sm",children:[l.jsx(_a,{className:"w-4 h-4 mr-2"}),"Edit"]}),w.createdBy==="manual"&&l.jsxs("button",{onClick:()=>h(w.id),className:"flex items-center px-3 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors text-sm",children:[l.jsx(wr,{className:"w-4 h-4 mr-2"}),"Ask Stella to Optimize"]})]})]},w.id)})})]}),b=()=>l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(DP,{className:"w-6 h-6 text-indigo-600"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Monthly Reconciliation"})]}),l.jsxs("button",{onClick:()=>e("/budget/reconciliation"),className:"flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:[l.jsx(IP,{className:"w-4 h-4 mr-2"}),"View All Reconciliations"]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"border-2 border-indigo-200 rounded-lg p-6 hover:border-indigo-400 transition-colors bg-indigo-50",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(RP,{className:"w-8 h-8 text-indigo-600"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-indigo-900",children:"Start New Reconciliation"}),l.jsx("p",{className:"text-sm text-indigo-700",children:"Upload bank statement and reconcile transactions"})]})]}),l.jsxs("ul",{className:"text-sm text-indigo-700 space-y-2 mb-4",children:[l.jsx("li",{children:"â€¢ OCR bank statement processing"}),l.jsx("li",{children:"â€¢ Smart transaction matching"}),l.jsx("li",{children:"â€¢ Automated discrepancy detection"}),l.jsx("li",{children:"â€¢ Generate reconciliation reports"})]}),l.jsx("button",{onClick:()=>e("/budget/reconciliation/new"),className:"w-full py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:"Start Reconciliation"})]}),l.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[l.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Recent Reconciliations"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-green-900",children:"October 2024"}),l.jsx("div",{className:"text-sm text-green-700",children:"Completed â€¢ 98% match rate"})]}),l.jsx(Kn,{className:"w-5 h-5 text-green-600"})]}),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-yellow-50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-yellow-900",children:"November 2024"}),l.jsx("div",{className:"text-sm text-yellow-700",children:"In Progress â€¢ 3 discrepancies"})]}),l.jsx(FP,{className:"w-5 h-5 text-yellow-600"})]}),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900",children:"December 2024"}),l.jsx("div",{className:"text-sm text-gray-700",children:"Pending â€¢ Not started"})]}),l.jsx(ri,{className:"w-5 h-5 text-gray-600"})]})]}),l.jsx("button",{onClick:()=>e("/budget/reconciliation"),className:"w-full mt-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors text-sm",children:"View Reconciliation History"})]})]}),l.jsxs("div",{className:"mt-6 bg-gradient-to-r from-indigo-50 to-purple-50 rounded-lg p-4",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[l.jsx(wr,{className:"w-5 h-5 text-indigo-600"}),l.jsx("span",{className:"font-medium text-indigo-900",children:"Reconciliation Insights"})]}),l.jsx("div",{className:"text-sm text-indigo-800",children:"Your reconciliation accuracy has improved by 15% this quarter. Consider setting up automated monthly reconciliations to maintain financial accuracy and save time."})]})]}),N=()=>l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-8",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Create New Budget Item"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-6 hover:border-blue-300 transition-colors",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(BP,{className:"w-8 h-8 text-gray-600"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-gray-900",children:"Manual Entry"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Full control over details"})]})]}),l.jsxs("ul",{className:"text-sm text-gray-600 space-y-2 mb-4",children:[l.jsx("li",{children:"â€¢ Custom categories"}),l.jsx("li",{children:"â€¢ Detailed line items"}),l.jsx("li",{children:"â€¢ Manual calculations"})]}),l.jsx("button",{onClick:c,className:"w-full py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Create Manually"})]}),l.jsxs("div",{className:"border-2 border-blue-200 rounded-lg p-6 hover:border-blue-400 transition-colors bg-blue-50",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(wr,{className:"w-8 h-8 text-blue-600"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-blue-900",children:"Stella Assisted"}),l.jsx("p",{className:"text-sm text-blue-700",children:"Smart suggestions & validation"})]})]}),l.jsxs("ul",{className:"text-sm text-blue-700 space-y-2 mb-4",children:[l.jsx("li",{children:"â€¢ Budget recommendations"}),l.jsx("li",{children:"â€¢ Historical comparisons"}),l.jsx("li",{children:"â€¢ Optimization suggestions"})]}),l.jsx("button",{onClick:u,className:"w-full py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Get Stella's Help"})]}),l.jsxs("div",{className:"border-2 border-purple-200 rounded-lg p-6 hover:border-purple-400 transition-colors bg-purple-50",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(wr,{className:"w-8 h-8 text-purple-600"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-purple-900",children:"Stella Auto-Generate"}),l.jsx("p",{className:"text-sm text-purple-700",children:"Complete budget creation"})]})]}),l.jsxs("ul",{className:"text-sm text-purple-700 space-y-2 mb-4",children:[l.jsx("li",{children:"â€¢ AI-powered allocations"}),l.jsx("li",{children:"â€¢ Predictive modeling"}),l.jsx("li",{children:"â€¢ Optimization algorithms"})]}),l.jsx("button",{onClick:d,className:"w-full py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Let Stella Generate"})]})]})]}),_=()=>l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Recent Transactions"}),l.jsxs("button",{className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx(KN,{className:"w-4 h-4 mr-2"}),"Export"]})]}),l.jsx("div",{className:"space-y-4",children:s.recentTransactions.map(w=>l.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${w.type==="income"?"bg-green-100":"bg-red-100"}`,children:w.type==="income"?l.jsx(zv,{className:"w-5 h-5 text-green-600"}):l.jsx(l1,{className:"w-5 h-5 text-red-600"})}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("h4",{className:"font-medium text-gray-900",children:w.description}),w.createdBy==="stella"&&l.jsx(wr,{className:"w-4 h-4 text-purple-500",title:"Processed by Stella"})]}),l.jsxs("div",{className:"text-sm text-gray-600",children:[w.category," â€¢ ",new Date(w.date).toLocaleDateString()]})]})]}),l.jsxs("div",{className:`text-lg font-semibold ${w.type==="income"?"text-green-600":"text-red-600"}`,children:[w.type==="income"?"+":"","$",Math.abs(w.amount).toLocaleString()]})]},w.id))})]});return l.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Budget Dashboard"}),l.jsx("p",{className:"text-gray-600",children:"Manage your PTO finances with Stella's intelligent insights"})]}),l.jsx("div",{className:"flex items-center space-x-3",children:l.jsxs("select",{value:i,onChange:w=>o(w.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[l.jsx("option",{value:"current",children:"Current Year"}),l.jsx("option",{value:"previous",children:"Previous Year"}),l.jsx("option",{value:"quarter",children:"This Quarter"})]})})]}),l.jsx(g,{}),l.jsx(j,{}),l.jsx(b,{}),l.jsx(N,{}),l.jsx(x,{}),l.jsx(_,{})]})})};function _ue(){const[e,t]=R.useState({label:"",amount:"",category:"",type:"expense",related_event_id:""}),[r,n]=R.useState(""),[a,i]=R.useState(""),o=c=>{const{name:u,value:d}=c.target;t(f=>({...f,[u]:d}))},s=async c=>{c.preventDefault(),i(""),n("");const{data:{session:u}}=await We.auth.getSession();if(!(u!=null&&u.access_token)){i("Authentication required.");return}try{const d=await fetch("/api/budgets",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u.access_token}`},body:JSON.stringify(e)}),f=await d.json();d.ok?(n("Budget entry added successfully!"),t({label:"",amount:"",category:"",type:"expense",related_event_id:""})):i(f.error||"Submission failed.")}catch(d){console.error("Budget entry error:",d),i("Server error. Please try again.")}};return l.jsxs("div",{className:"max-w-xl mx-auto p-4",children:[l.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Add Budget Entry"}),l.jsxs("form",{onSubmit:s,className:"space-y-4",children:[l.jsx("input",{name:"label",value:e.label,onChange:o,placeholder:"Label",className:"w-full border p-2",required:!0}),l.jsx("input",{type:"number",name:"amount",value:e.amount,onChange:o,placeholder:"Amount",className:"w-full border p-2",required:!0}),l.jsx("input",{name:"category",value:e.category,onChange:o,placeholder:"Category (e.g., supplies, venue)",className:"w-full border p-2"}),l.jsxs("select",{name:"type",value:e.type,onChange:o,className:"w-full border p-2",children:[l.jsx("option",{value:"expense",children:"Expense"}),l.jsx("option",{value:"income",children:"Income"})]}),l.jsx("input",{name:"related_event_id",value:e.related_event_id,onChange:o,placeholder:"Related Event ID (optional)",className:"w-full border p-2"}),l.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded",type:"submit",children:"Save Entry"}),r&&l.jsx("p",{className:"text-green-600",children:r}),a&&l.jsx("p",{className:"text-red-600",children:a})]})]})}const Aue=()=>l.jsxs("div",{children:[l.jsx("h1",{children:"Reconciliation Dashboard"}),l.jsx("p",{children:"This is a placeholder for the Reconciliation Dashboard."})]});function Oue({title:e,titleId:t,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?R.createElement("title",{id:t},e):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"}))}const Pue=R.forwardRef(Oue);function Eue({title:e,titleId:t,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?R.createElement("title",{id:t},e):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 21 3 16.5m0 0L7.5 12M3 16.5h13.5m0-13.5L21 7.5m0 0L16.5 12M21 7.5H7.5"}))}const zN=R.forwardRef(Eue);function kue({title:e,titleId:t,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?R.createElement("title",{id:t},e):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const qy=R.forwardRef(kue);function Tue({title:e,titleId:t,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?R.createElement("title",{id:t},e):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const Cue=R.forwardRef(Tue);function Lue({title:e,titleId:t,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?R.createElement("title",{id:t},e):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const Mue=R.forwardRef(Lue);function $ue({title:e,titleId:t,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?R.createElement("title",{id:t},e):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const Due=R.forwardRef($ue);function Iue({title:e,titleId:t,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?R.createElement("title",{id:t},e):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const Rue=R.forwardRef(Iue);function Fue({title:e,titleId:t,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?R.createElement("title",{id:t},e):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Bue=R.forwardRef(Fue);function zue({title:e,titleId:t,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?R.createElement("title",{id:t},e):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"}))}const que=R.forwardRef(zue);function Uue({title:e,titleId:t,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?R.createElement("title",{id:t},e):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const IO=R.forwardRef(Uue),Oh={startReconciliation:async e=>{var t,r,n,a,i,o,s,c,u,d;console.log("ðŸ” [FRONTEND DEBUG] startReconciliation called with data:",e);try{console.log("ðŸ” [FRONTEND DEBUG] Making API call to /budget/reconciliation/start");const f=await ln.post("/budget/reconciliation/start",e);console.log("ðŸ” [FRONTEND DEBUG] API response received:",{status:f.status,statusText:f.statusText,data:f.data});const p={success:f.data.success,data:f.data.data,error:((r=(t=f.data.errors)==null?void 0:t[0])==null?void 0:r.message)||null};return console.log("ðŸ” [FRONTEND DEBUG] Processed result:",p),p}catch(f){console.error("âŒ [FRONTEND DEBUG] Error starting reconciliation:",f),console.error("âŒ [FRONTEND DEBUG] Error response:",f.response),console.error("âŒ [FRONTEND DEBUG] Error response data:",(n=f.response)==null?void 0:n.data),console.error("âŒ [FRONTEND DEBUG] Error response status:",(a=f.response)==null?void 0:a.status);const p=((c=(s=(o=(i=f.response)==null?void 0:i.data)==null?void 0:o.errors)==null?void 0:s[0])==null?void 0:c.message)||((d=(u=f.response)==null?void 0:u.data)==null?void 0:d.error)||f.message;return console.error("âŒ [FRONTEND DEBUG] Final error message:",p),{success:!1,error:p}}},getReconciliations:async()=>{var e,t,r,n,a,i;try{const o=await ln.get("/budget/reconciliation");return{success:o.data.success,data:o.data.data,error:((t=(e=o.data.errors)==null?void 0:e[0])==null?void 0:t.message)||null}}catch(o){return console.error("Error fetching reconciliations:",o),{success:!1,error:((i=(a=(n=(r=o.response)==null?void 0:r.data)==null?void 0:n.errors)==null?void 0:a[0])==null?void 0:i.message)||o.message}}},uploadStatement:async(e,t)=>{var r,n,a,i,o,s;try{const c=await ln.post(`/budget/reconciliation/${e}/upload`,t);return{success:c.data.success,data:c.data.data,error:((n=(r=c.data.errors)==null?void 0:r[0])==null?void 0:n.message)||null}}catch(c){return console.error("Error uploading statement:",c),{success:!1,error:((s=(o=(i=(a=c.response)==null?void 0:a.data)==null?void 0:i.errors)==null?void 0:o[0])==null?void 0:s.message)||c.message}}},getTransactions:async e=>{var t,r,n,a,i,o;try{const s=await ln.get(`/budget/reconciliation/${e}/transactions`);return{success:s.data.success,data:s.data.data,error:((r=(t=s.data.errors)==null?void 0:t[0])==null?void 0:r.message)||null}}catch(s){return console.error("Error fetching transactions:",s),{success:!1,error:((o=(i=(a=(n=s.response)==null?void 0:n.data)==null?void 0:a.errors)==null?void 0:i[0])==null?void 0:o.message)||s.message}}},matchTransaction:async(e,t)=>{var r,n,a,i,o,s;try{const c=await ln.post(`/budget/reconciliation/${e}/match`,{bank_transaction_id:t.bankTransactionId,expense_id:t.expenseId});return{success:c.data.success,data:c.data.data,error:((n=(r=c.data.errors)==null?void 0:r[0])==null?void 0:n.message)||null}}catch(c){return console.error("Error matching transaction:",c),{success:!1,error:((s=(o=(i=(a=c.response)==null?void 0:a.data)==null?void 0:i.errors)==null?void 0:o[0])==null?void 0:s.message)||c.message}}},completeReconciliation:async e=>{var t,r,n,a,i,o;try{const s=await ln.post(`/budget/reconciliation/${e}/complete`);return{success:s.data.success,data:s.data.data,error:((r=(t=s.data.errors)==null?void 0:t[0])==null?void 0:r.message)||null}}catch(s){return console.error("Error completing reconciliation:",s),{success:!1,error:((o=(i=(a=(n=s.response)==null?void 0:n.data)==null?void 0:a.errors)==null?void 0:i[0])==null?void 0:o.message)||s.message}}},generateReport:async e=>{var t,r,n,a,i,o;try{const s=await ln.get(`/budget/reconciliation/${e}/report`);return{success:s.data.success,data:s.data.data,error:((r=(t=s.data.errors)==null?void 0:t[0])==null?void 0:r.message)||null}}catch(s){return console.error("Error generating report:",s),{success:!1,error:((o=(i=(a=(n=s.response)==null?void 0:n.data)==null?void 0:a.errors)==null?void 0:i[0])==null?void 0:o.message)||s.message}}}};var Wue={exports:{}};(function(e){var t=function(r){var n=Object.prototype,a=n.hasOwnProperty,i=Object.defineProperty||function(Y,Z,ae){Y[Z]=ae.value},o,s=typeof Symbol=="function"?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",d=s.toStringTag||"@@toStringTag";function f(Y,Z,ae){return Object.defineProperty(Y,Z,{value:ae,enumerable:!0,configurable:!0,writable:!0}),Y[Z]}try{f({},"")}catch{f=function(Z,ae,M){return Z[ae]=M}}function p(Y,Z,ae,M){var W=Z&&Z.prototype instanceof N?Z:N,Q=Object.create(W.prototype),ne=new F(M||[]);return i(Q,"_invoke",{value:T(Y,ae,ne)}),Q}r.wrap=p;function h(Y,Z,ae){try{return{type:"normal",arg:Y.call(Z,ae)}}catch(M){return{type:"throw",arg:M}}}var v="suspendedStart",g="suspendedYield",j="executing",x="completed",b={};function N(){}function _(){}function w(){}var A={};f(A,c,function(){return this});var O=Object.getPrototypeOf,E=O&&O(O(B([])));E&&E!==n&&a.call(E,c)&&(A=E);var C=w.prototype=N.prototype=Object.create(A);_.prototype=w,i(C,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:_,configurable:!0}),_.displayName=f(w,d,"GeneratorFunction");function D(Y){["next","throw","return"].forEach(function(Z){f(Y,Z,function(ae){return this._invoke(Z,ae)})})}r.isGeneratorFunction=function(Y){var Z=typeof Y=="function"&&Y.constructor;return Z?Z===_||(Z.displayName||Z.name)==="GeneratorFunction":!1},r.mark=function(Y){return Object.setPrototypeOf?Object.setPrototypeOf(Y,w):(Y.__proto__=w,f(Y,d,"GeneratorFunction")),Y.prototype=Object.create(C),Y},r.awrap=function(Y){return{__await:Y}};function k(Y,Z){function ae(Q,ne,oe,he){var de=h(Y[Q],Y,ne);if(de.type==="throw")he(de.arg);else{var ie=de.arg,xe=ie.value;return xe&&typeof xe=="object"&&a.call(xe,"__await")?Z.resolve(xe.__await).then(function(be){ae("next",be,oe,he)},function(be){ae("throw",be,oe,he)}):Z.resolve(xe).then(function(be){ie.value=be,oe(ie)},function(be){return ae("throw",be,oe,he)})}}var M;function W(Q,ne){function oe(){return new Z(function(he,de){ae(Q,ne,he,de)})}return M=M?M.then(oe,oe):oe()}i(this,"_invoke",{value:W})}D(k.prototype),f(k.prototype,u,function(){return this}),r.AsyncIterator=k,r.async=function(Y,Z,ae,M,W){W===void 0&&(W=Promise);var Q=new k(p(Y,Z,ae,M),W);return r.isGeneratorFunction(Z)?Q:Q.next().then(function(ne){return ne.done?ne.value:Q.next()})};function T(Y,Z,ae){var M=v;return function(Q,ne){if(M===j)throw new Error("Generator is already running");if(M===x){if(Q==="throw")throw ne;return X()}for(ae.method=Q,ae.arg=ne;;){var oe=ae.delegate;if(oe){var he=$(oe,ae);if(he){if(he===b)continue;return he}}if(ae.method==="next")ae.sent=ae._sent=ae.arg;else if(ae.method==="throw"){if(M===v)throw M=x,ae.arg;ae.dispatchException(ae.arg)}else ae.method==="return"&&ae.abrupt("return",ae.arg);M=j;var de=h(Y,Z,ae);if(de.type==="normal"){if(M=ae.done?x:g,de.arg===b)continue;return{value:de.arg,done:ae.done}}else de.type==="throw"&&(M=x,ae.method="throw",ae.arg=de.arg)}}}function $(Y,Z){var ae=Z.method,M=Y.iterator[ae];if(M===o)return Z.delegate=null,ae==="throw"&&Y.iterator.return&&(Z.method="return",Z.arg=o,$(Y,Z),Z.method==="throw")||ae!=="return"&&(Z.method="throw",Z.arg=new TypeError("The iterator does not provide a '"+ae+"' method")),b;var W=h(M,Y.iterator,Z.arg);if(W.type==="throw")return Z.method="throw",Z.arg=W.arg,Z.delegate=null,b;var Q=W.arg;if(!Q)return Z.method="throw",Z.arg=new TypeError("iterator result is not an object"),Z.delegate=null,b;if(Q.done)Z[Y.resultName]=Q.value,Z.next=Y.nextLoc,Z.method!=="return"&&(Z.method="next",Z.arg=o);else return Q;return Z.delegate=null,b}D(C),f(C,d,"Generator"),f(C,c,function(){return this}),f(C,"toString",function(){return"[object Generator]"});function I(Y){var Z={tryLoc:Y[0]};1 in Y&&(Z.catchLoc=Y[1]),2 in Y&&(Z.finallyLoc=Y[2],Z.afterLoc=Y[3]),this.tryEntries.push(Z)}function V(Y){var Z=Y.completion||{};Z.type="normal",delete Z.arg,Y.completion=Z}function F(Y){this.tryEntries=[{tryLoc:"root"}],Y.forEach(I,this),this.reset(!0)}r.keys=function(Y){var Z=Object(Y),ae=[];for(var M in Z)ae.push(M);return ae.reverse(),function W(){for(;ae.length;){var Q=ae.pop();if(Q in Z)return W.value=Q,W.done=!1,W}return W.done=!0,W}};function B(Y){if(Y){var Z=Y[c];if(Z)return Z.call(Y);if(typeof Y.next=="function")return Y;if(!isNaN(Y.length)){var ae=-1,M=function W(){for(;++ae<Y.length;)if(a.call(Y,ae))return W.value=Y[ae],W.done=!1,W;return W.value=o,W.done=!0,W};return M.next=M}}return{next:X}}r.values=B;function X(){return{value:o,done:!0}}return F.prototype={constructor:F,reset:function(Y){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(V),!Y)for(var Z in this)Z.charAt(0)==="t"&&a.call(this,Z)&&!isNaN(+Z.slice(1))&&(this[Z]=o)},stop:function(){this.done=!0;var Y=this.tryEntries[0],Z=Y.completion;if(Z.type==="throw")throw Z.arg;return this.rval},dispatchException:function(Y){if(this.done)throw Y;var Z=this;function ae(he,de){return Q.type="throw",Q.arg=Y,Z.next=he,de&&(Z.method="next",Z.arg=o),!!de}for(var M=this.tryEntries.length-1;M>=0;--M){var W=this.tryEntries[M],Q=W.completion;if(W.tryLoc==="root")return ae("end");if(W.tryLoc<=this.prev){var ne=a.call(W,"catchLoc"),oe=a.call(W,"finallyLoc");if(ne&&oe){if(this.prev<W.catchLoc)return ae(W.catchLoc,!0);if(this.prev<W.finallyLoc)return ae(W.finallyLoc)}else if(ne){if(this.prev<W.catchLoc)return ae(W.catchLoc,!0)}else if(oe){if(this.prev<W.finallyLoc)return ae(W.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(Y,Z){for(var ae=this.tryEntries.length-1;ae>=0;--ae){var M=this.tryEntries[ae];if(M.tryLoc<=this.prev&&a.call(M,"finallyLoc")&&this.prev<M.finallyLoc){var W=M;break}}W&&(Y==="break"||Y==="continue")&&W.tryLoc<=Z&&Z<=W.finallyLoc&&(W=null);var Q=W?W.completion:{};return Q.type=Y,Q.arg=Z,W?(this.method="next",this.next=W.finallyLoc,b):this.complete(Q)},complete:function(Y,Z){if(Y.type==="throw")throw Y.arg;return Y.type==="break"||Y.type==="continue"?this.next=Y.arg:Y.type==="return"?(this.rval=this.arg=Y.arg,this.method="return",this.next="end"):Y.type==="normal"&&Z&&(this.next=Z),b},finish:function(Y){for(var Z=this.tryEntries.length-1;Z>=0;--Z){var ae=this.tryEntries[Z];if(ae.finallyLoc===Y)return this.complete(ae.completion,ae.afterLoc),V(ae),b}},catch:function(Y){for(var Z=this.tryEntries.length-1;Z>=0;--Z){var ae=this.tryEntries[Z];if(ae.tryLoc===Y){var M=ae.completion;if(M.type==="throw"){var W=M.arg;V(ae)}return W}}throw new Error("illegal catch attempt")},delegateYield:function(Y,Z,ae){return this.delegate={iterator:B(Y),resultName:Z,nextLoc:ae},this.method==="next"&&(this.arg=o),b}},r}(e.exports);try{regeneratorRuntime=t}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}})(Wue);var Cx=(e,t)=>`${e}-${t}-${Math.random().toString(16).slice(3,8)}`;const Hue=Cx;let qN=0;var RO=({id:e,action:t,payload:r={}})=>{let n=e;return typeof n>"u"&&(n=Hue("Job",qN),qN+=1),{id:n,action:t,payload:r}},Rc={};let Lx=!1;Rc.logging=Lx;Rc.setLogging=e=>{Lx=e};Rc.log=(...e)=>Lx?console.log.apply(void 0,e):null;const Gue=RO,{log:mh}=Rc,Vue=Cx;let UN=0;var Yue=()=>{const e=Vue("Scheduler",UN),t={},r={};let n=[];UN+=1;const a=()=>n.length,i=()=>Object.keys(t).length,o=()=>{if(n.length!==0){const f=Object.keys(t);for(let p=0;p<f.length;p+=1)if(typeof r[f[p]]>"u"){n[0](t[f[p]]);break}}},s=(f,p)=>new Promise((h,v)=>{const g=Gue({action:f,payload:p});n.push(async j=>{n.shift(),r[j.id]=g;try{h(await j[f].apply(void 0,[...p,g.id]))}catch(x){v(x)}finally{delete r[j.id],o()}}),mh(`[${e}]: Add ${g.id} to JobQueue`),mh(`[${e}]: JobQueue length=${n.length}`),o()});return{addWorker:f=>(t[f.id]=f,mh(`[${e}]: Add ${f.id}`),mh(`[${e}]: Number of workers=${i()}`),o(),f.id),addJob:async(f,...p)=>{if(i()===0)throw Error(`[${e}]: You need to have at least one worker before adding jobs`);return s(f,p)},terminate:async()=>{Object.keys(t).forEach(async f=>{await t[f].terminate()}),n=[]},getQueueLen:a,getNumWorkers:i}};function Kue(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Xue=e=>{const t={};return typeof WorkerGlobalScope<"u"?t.type="webworker":typeof document=="object"?t.type="browser":typeof process=="object"&&typeof Kue=="function"&&(t.type="node"),typeof e>"u"?t:t[e]};const Jue=Xue("type")==="browser",Zue=Jue?e=>new URL(e,window.location.href).href:e=>e;var Que=e=>{const t={...e};return["corePath","workerPath","langPath"].forEach(r=>{e[r]&&(t[r]=Zue(t[r]))}),t},FO={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3};const ede="6.0.1",tde={version:ede};var rde={workerBlobURL:!0,logger:()=>{}};const nde=tde.version,ade=rde;var ide={...ade,workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${nde}/dist/worker.min.js`},ode=({workerPath:e,workerBlobURL:t})=>{let r;if(Blob&&URL&&t){const n=new Blob([`importScripts("${e}");`],{type:"application/javascript"});r=new Worker(URL.createObjectURL(n))}else r=new Worker(e);return r},sde=e=>{e.terminate()},lde=(e,t)=>{e.onmessage=({data:r})=>{t(r)}},cde=async(e,t)=>{e.postMessage(t)};const Rv=e=>new Promise((t,r)=>{const n=new FileReader;n.onload=()=>{t(n.result)},n.onerror=({target:{error:{code:a}}})=>{r(Error(`File could not be read! Code=${a}`))},n.readAsArrayBuffer(e)}),Uy=async e=>{let t=e;if(typeof e>"u")return"undefined";if(typeof e=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(e)?t=atob(e.split(",")[1]).split("").map(r=>r.charCodeAt(0)):t=await(await fetch(e)).arrayBuffer();else if(typeof HTMLElement<"u"&&e instanceof HTMLElement)e.tagName==="IMG"&&(t=await Uy(e.src)),e.tagName==="VIDEO"&&(t=await Uy(e.poster)),e.tagName==="CANVAS"&&await new Promise(r=>{e.toBlob(async n=>{t=await Rv(n),r()})});else if(typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas){const r=await e.convertToBlob();t=await Rv(r)}else(e instanceof File||e instanceof Blob)&&(t=await Rv(e));return new Uint8Array(t)};var ude=Uy;const dde=ide,fde=ode,hde=sde,pde=lde,mde=cde,gde=ude;var vde={defaultOptions:dde,spawnWorker:fde,terminateWorker:hde,onMessage:pde,send:mde,loadImage:gde};const yde=Que,Ya=RO,{log:WN}=Rc,bde=Cx,Go=FO,{defaultOptions:xde,spawnWorker:wde,terminateWorker:jde,onMessage:Nde,loadImage:HN,send:Sde}=vde;let GN=0;var BO=async(e="eng",t=Go.LSTM_ONLY,r={},n={})=>{const a=bde("Worker",GN),{logger:i,errorHandler:o,...s}=yde({...xde,...r}),c={},u=typeof e=="string"?e.split("+"):e;let d=t,f=n;const p=[Go.DEFAULT,Go.LSTM_ONLY].includes(t)&&!s.legacyCore;let h,v;const g=new Promise((B,X)=>{v=B,h=X}),j=B=>{h(B.message)};let x=wde(s);x.onerror=j,GN+=1;const b=({id:B,action:X,payload:Y})=>new Promise((Z,ae)=>{WN(`[${a}]: Start ${B}, action=${X}`);const M=`${X}-${B}`;c[M]={resolve:Z,reject:ae},Sde(x,{workerId:a,jobId:B,action:X,payload:Y})}),N=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),_=B=>b(Ya({id:B,action:"load",payload:{options:{lstmOnly:p,corePath:s.corePath,logging:s.logging}}})),w=(B,X,Y)=>b(Ya({id:Y,action:"FS",payload:{method:"writeFile",args:[B,X]}})),A=(B,X)=>b(Ya({id:X,action:"FS",payload:{method:"readFile",args:[B,{encoding:"utf8"}]}})),O=(B,X)=>b(Ya({id:X,action:"FS",payload:{method:"unlink",args:[B]}})),E=(B,X,Y)=>b(Ya({id:Y,action:"FS",payload:{method:B,args:X}})),C=(B,X)=>b(Ya({id:X,action:"loadLanguage",payload:{langs:B,options:{langPath:s.langPath,dataPath:s.dataPath,cachePath:s.cachePath,cacheMethod:s.cacheMethod,gzip:s.gzip,lstmOnly:[Go.DEFAULT,Go.LSTM_ONLY].includes(d)&&!s.legacyLang}}})),D=(B,X,Y,Z)=>b(Ya({id:Z,action:"initialize",payload:{langs:B,oem:X,config:Y}})),k=(B="eng",X,Y,Z)=>{if(p&&[Go.TESSERACT_ONLY,Go.TESSERACT_LSTM_COMBINED].includes(X))throw Error("Legacy model requested but code missing.");const ae=X||d;d=ae;const M=Y||f;f=M;const Q=(typeof B=="string"?B.split("+"):B).filter(ne=>!u.includes(ne));return u.push(...Q),Q.length>0?C(Q,Z).then(()=>D(B,ae,M,Z)):D(B,ae,M,Z)},T=(B={},X)=>b(Ya({id:X,action:"setParameters",payload:{params:B}})),$=async(B,X={},Y={text:!0},Z)=>b(Ya({id:Z,action:"recognize",payload:{image:await HN(B),options:X,output:Y}})),I=async(B,X)=>{if(p)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return b(Ya({id:X,action:"detect",payload:{image:await HN(B)}}))},V=async()=>(x!==null&&(jde(x),x=null),Promise.resolve());Nde(x,({workerId:B,jobId:X,status:Y,action:Z,data:ae})=>{const M=`${Z}-${X}`;if(Y==="resolve")WN(`[${B}]: Complete ${X}`),c[M].resolve({jobId:X,data:ae}),delete c[M];else if(Y==="reject")if(c[M].reject(ae),delete c[M],Z==="load"&&h(ae),o)o(ae);else throw Error(ae);else Y==="progress"&&i({...ae,userJobId:X})});const F={id:a,worker:x,load:N,writeText:w,readText:A,removeFile:O,FS:E,reinitialize:k,setParameters:T,recognize:$,detect:I,terminate:V};return _().then(()=>C(e)).then(()=>D(e,t,n)).then(()=>v(F)).catch(()=>{}),g};const zO=BO,_de=async(e,t,r)=>{const n=await zO(t,1,r);return n.recognize(e).finally(async()=>{await n.terminate()})},Ade=async(e,t)=>{const r=await zO("osd",0,t);return r.detect(e).finally(async()=>{await r.terminate()})};var Ode={recognize:_de,detect:Ade},Pde={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"},Ede={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"};const kde=Yue,Tde=BO,Cde=Ode,Lde=Pde,Mde=FO,$de=Ede,{setLogging:Dde}=Rc;var Ide={languages:Lde,OEM:Mde,PSM:$de,createScheduler:kde,createWorker:Tde,setLogging:Dde,...Cde};const Rde=wt(Ide);class Fde{constructor(){this.worker=null,this.isInitialized=!1}async initialize(){if(!this.isInitialized)try{this.worker=await Rde.createWorker("eng"),this.isInitialized=!0,console.log("OCR Worker initialized successfully")}catch(t){throw console.error("Failed to initialize OCR worker:",t),new Error("OCR initialization failed")}}async processImage(t,r=null){this.isInitialized||await this.initialize();try{const n=await this.worker.recognize(t,{logger:r?a=>{a.status==="recognizing text"&&r(Math.round(a.progress*100))}:void 0});return{success:!0,text:n.data.text,confidence:n.data.confidence,words:n.data.words,lines:n.data.lines}}catch(n){return console.error("OCR processing failed:",n),{success:!1,error:n.message}}}async processBankStatement(t,r=null){const n=await this.processImage(t,r);if(!n.success)return n;const a=this.parseTransactions(n.text);return{success:!0,rawText:n.text,confidence:n.confidence,transactions:a,metadata:{totalTransactions:a.length,processingDate:new Date().toISOString()}}}parseTransactions(t){const r=[],n=t.split(`
`).filter(i=>i.trim().length>0),a={date:/(\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4})/,amount:/[\$\-]?(\d{1,3}(?:,\d{3})*\.?\d{0,2})/,debitCredit:/(DEBIT|CREDIT|DR|CR|WITHDRAWAL|DEPOSIT)/i};for(let i=0;i<n.length;i++){const o=n[i].trim();if(this.isHeaderLine(o)||o.length<10)continue;const s=o.match(a.date),c=o.match(new RegExp(a.amount.source,"g"));if(s&&c){const u=c.map(d=>{const f=d.replace(/[\$,]/g,"");return parseFloat(f)}).filter(d=>!isNaN(d)&&d>0);if(u.length>0){const d=Math.max(...u);let f=o.replace(a.date,"").replace(new RegExp(a.amount.source,"g"),"").replace(a.debitCredit,"").trim().replace(/\s+/g," ");f=this.cleanDescription(f),f.length>3&&r.push({id:`ocr_${Date.now()}_${i}`,date:this.parseDate(s[1]),description:f,amount:d,type:this.determineTransactionType(o),rawLine:o,confidence:this.calculateLineConfidence(o)})}}}return r.sort((i,o)=>new Date(o.date)-new Date(i.date))}isHeaderLine(t){const r=["STATEMENT","ACCOUNT","BALANCE","DATE","DESCRIPTION","AMOUNT","TRANSACTION","BEGINNING","ENDING","TOTAL","PAGE","BANK","CREDIT UNION"],n=t.toUpperCase();return r.some(a=>n.includes(a))&&!t.match(/\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}/)}cleanDescription(t){return t.replace(/\b(POS|ATM|ACH|CHK|DEP|WD|TFR|FEE)\b/gi,"").replace(/\b\d{4,}\b/g,"").replace(/[#*]+/g,"").replace(/\s+/g," ").trim()}parseDate(t){const r=[/(\d{1,2})\/(\d{1,2})\/(\d{2,4})/,/(\d{1,2})-(\d{1,2})-(\d{2,4})/];for(const n of r){const a=t.match(n);if(a){let[,i,o,s]=a;return s.length===2&&(s=parseInt(s)>50?`19${s}`:`20${s}`),`${s}-${i.padStart(2,"0")}-${o.padStart(2,"0")}`}}return t}determineTransactionType(t){const r=t.toUpperCase();return r.includes("DEBIT")||r.includes("WITHDRAWAL")||r.includes("DR")||r.includes("WD")?"debit":r.includes("CREDIT")||r.includes("DEPOSIT")||r.includes("CR")||r.includes("DEP")?"credit":"debit"}calculateLineConfidence(t){let r=.5;return t.match(/\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}/)&&(r+=.2),t.match(/\$?\d+\.\d{2}/)&&(r+=.2),t.length>20&&t.length<100&&(r+=.1),Math.min(r,1)}async terminate(){this.worker&&(await this.worker.terminate(),this.worker=null,this.isInitialized=!1)}validateTransactions(t){return t.filter(r=>r.date&&r.description&&r.description.length>2&&r.amount&&r.amount>0&&!isNaN(r.amount))}suggestCorrections(t){return t.map(r=>{const n=[];return r.description.includes("0")&&r.description.includes("O")&&n.push("Check if O should be 0 or vice versa"),r.description.includes("1")&&r.description.includes("l")&&n.push("Check if l should be 1 or vice versa"),r.amount>1e4&&n.push("Verify large amount - possible OCR error"),{...r,suggestions:n}})}}const Fv=new Fde,Bde=({onUpload:e})=>{const[t,r]=R.useState(null),[n,a]=R.useState(!1),[i,o]=R.useState(0),[s,c]=R.useState(null),[u,d]=R.useState(!1),[f,p]=R.useState(!1),h=w=>{w.preventDefault(),w.stopPropagation(),w.type==="dragenter"||w.type==="dragover"?p(!0):w.type==="dragleave"&&p(!1)},v=w=>{w.preventDefault(),w.stopPropagation(),p(!1),w.dataTransfer.files&&w.dataTransfer.files[0]&&j(w.dataTransfer.files[0])},g=w=>{w.target.files&&w.target.files[0]&&j(w.target.files[0])},j=w=>{if(!["image/jpeg","image/png","image/jpg","application/pdf"].includes(w.type)){alert("Please upload a valid image (JPG, PNG) or PDF file.");return}if(w.size>10*1024*1024){alert("File size must be less than 10MB.");return}r(w),c(null),o(0)},x=async()=>{if(t){a(!0),o(0);try{if(t.type==="application/pdf"){alert("PDF processing will be implemented in the next update. Please use an image file for now."),a(!1);return}const w=await Fv.processBankStatement(t,A=>{o(A)});if(w.success){const A=Fv.validateTransactions(w.transactions),O=Fv.suggestCorrections(A);c({...w,transactions:O})}else alert(`OCR processing failed: ${w.error}`)}catch(w){console.error("OCR processing error:",w),alert("Failed to process the bank statement. Please try again.")}finally{a(!1),o(0)}}},b=()=>{s&&s.transactions.length>0&&e({file:t,ocrResult:s,transactions:s.transactions})},N=(w,A,O)=>{const E=[...s.transactions];E[w]={...E[w],[A]:A==="amount"?parseFloat(O)||0:O},c({...s,transactions:E})},_=w=>{const A=s.transactions.filter((O,E)=>E!==w);c({...s,transactions:A})};return l.jsxs("div",{className:"space-y-6",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Upload Bank Statement"}),l.jsxs("div",{className:`relative border-2 border-dashed rounded-lg p-8 text-center transition-colors ${f?"border-blue-400 bg-blue-50":"border-gray-300"} ${n?"opacity-50 pointer-events-none":""}`,onDragEnter:h,onDragLeave:h,onDragOver:h,onDrop:v,children:[l.jsx(Pue,{className:"mx-auto h-12 w-12 text-gray-400"}),l.jsx("h4",{className:"mt-2 text-sm font-medium text-gray-900",children:n?"Processing...":"Upload your bank statement"}),l.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Drag and drop or click to select. Supports JPG, PNG, and PDF files up to 10MB."}),l.jsxs("div",{className:"mt-6",children:[l.jsx("input",{type:"file",id:"file-upload",className:"sr-only",onChange:g,accept:".pdf,.png,.jpg,.jpeg",disabled:n}),l.jsx("label",{htmlFor:"file-upload",className:"cursor-pointer inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Select a file"})]}),t&&l.jsx("div",{className:"mt-4 p-3 bg-gray-50 rounded-md",children:l.jsxs("p",{className:"text-sm text-gray-600",children:[l.jsx("strong",{children:"Selected:"})," ",t.name," (",(t.size/1024/1024).toFixed(2)," MB)"]})}),n&&l.jsxs("div",{className:"mt-4",children:[l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${i}%`}})}),l.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Processing: ",i,"%"]})]})]}),t&&!s&&!n&&l.jsx("div",{className:"text-center",children:l.jsxs("button",{onClick:x,className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700",children:[l.jsx(Bue,{className:"h-5 w-5 mr-2"}),"Extract Transactions with OCR"]})}),s&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-md p-4",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(qy,{className:"h-5 w-5 text-green-400 mr-2"}),l.jsx("h4",{className:"text-sm font-medium text-green-800",children:"OCR Processing Complete"})]}),l.jsxs("p",{className:"mt-1 text-sm text-green-700",children:["Extracted ",s.transactions.length," transactions with ",Math.round(s.confidence),"% confidence."]})]}),l.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg",children:[l.jsxs("div",{className:"px-4 py-3 border-b border-gray-200",children:[l.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"Review Extracted Transactions"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Please review and edit the transactions below before proceeding."})]}),l.jsx("div",{className:"divide-y divide-gray-200 max-h-96 overflow-y-auto",children:s.transactions.map((w,A)=>l.jsxs("div",{className:"p-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Date"}),l.jsx("input",{type:"date",value:w.date,onChange:O=>N(A,"date",O.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Description"}),l.jsx("input",{type:"text",value:w.description,onChange:O=>N(A,"description",O.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})]}),l.jsxs("div",{className:"flex items-end space-x-2",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Amount"}),l.jsx("input",{type:"number",step:"0.01",value:w.amount,onChange:O=>N(A,"amount",O.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})]}),l.jsx("button",{onClick:()=>_(A),className:"px-2 py-1 text-red-600 hover:text-red-800 text-sm",title:"Remove transaction",children:"âœ•"})]})]}),w.suggestions&&w.suggestions.length>0&&l.jsx("div",{className:"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded",children:l.jsxs("div",{className:"flex items-start",children:[l.jsx(Rue,{className:"h-4 w-4 text-yellow-400 mr-1 mt-0.5"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-medium text-yellow-800",children:"Suggestions:"}),l.jsx("ul",{className:"text-xs text-yellow-700 list-disc list-inside",children:w.suggestions.map((O,E)=>l.jsx("li",{children:O},E))})]})]})}),l.jsxs("div",{className:"mt-2 flex items-center text-xs text-gray-500",children:[l.jsxs("span",{children:["Confidence: ",Math.round(w.confidence*100),"%"]}),l.jsx("div",{className:"ml-2 flex-1 bg-gray-200 rounded-full h-1",children:l.jsx("div",{className:"bg-blue-600 h-1 rounded-full",style:{width:`${w.confidence*100}%`}})})]})]},w.id))}),l.jsx("div",{className:"px-4 py-3 border-t border-gray-200 text-center",children:l.jsxs("button",{onClick:b,disabled:s.transactions.length===0,className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 disabled:opacity-50",children:[l.jsx(qy,{className:"h-5 w-5 mr-2"}),"Confirm ",s.transactions.length," Transactions"]})})]})]})]})};class zde{constructor(){this.config={autoMatchThreshold:.85,suggestMatchThreshold:.6,weights:{amount:.4,description:.3,date:.2,vendor:.1},amountTolerance:.01,dateWindow:7,fuzzyThreshold:.6}}findMatches(t,r){const n=[];for(const a of t){const i=this.findSuggestionsForTransaction(a,r);n.push({bankTransaction:a,suggestions:i,bestMatch:i.length>0?i[0]:null,autoMatch:i.length>0&&i[0].confidence>=this.config.autoMatchThreshold,isMatched:!1})}return n}findSuggestionsForTransaction(t,r){const n=[];for(const a of r){const i=this.calculateMatchScore(t,a);i.totalScore>=this.config.suggestMatchThreshold&&n.push({expense:a,confidence:i.totalScore,matchReasons:i.reasons,scoreBreakdown:i.breakdown})}return n.sort((a,i)=>i.confidence-a.confidence)}calculateMatchScore(t,r){const n={amount:this.calculateAmountScore(t.amount,r.amount),description:this.calculateDescriptionScore(t.description,r.description||r.vendor),date:this.calculateDateScore(t.date,r.expense_date||r.date),vendor:this.calculateVendorScore(t.description,r.vendor)},a=Object.keys(n).reduce((o,s)=>o+n[s]*this.config.weights[s],0),i=this.generateMatchReasons(n,t,r);return{totalScore:Math.min(a,1),breakdown:n,reasons:i}}calculateAmountScore(t,r){const n=Math.abs(t-r);if(n<=this.config.amountTolerance)return 1;const a=n/Math.max(t,r);return a<=.01?.95:a<=.05?.85:a<=.1?.7:a<=.2?.5:0}calculateDescriptionScore(t,r){if(!t||!r)return 0;const n=this.normalizeDescription(t),a=this.normalizeDescription(r),i=this.calculateStringSimilarity(n,a),o=this.calculateWordMatchBoost(n,a);return Math.min(i+o,1)}calculateDateScore(t,r){if(!t||!r)return 0;const n=new Date(t),a=new Date(r),i=Math.abs((n-a)/(1e3*60*60*24));return i===0?1:i<=1?.9:i<=3?.8:i<=7?.6:i<=14?.4:i<=30?.2:0}calculateVendorScore(t,r){if(!r)return 0;const n=this.normalizeDescription(t),a=this.normalizeDescription(r);if(n.includes(a))return 1;const i=a.split(" ").filter(s=>s.length>2);return i.filter(s=>n.includes(s)).length/i.length}normalizeDescription(t){return t.toLowerCase().replace(/[^\w\s]/g," ").replace(/\b(pos|atm|ach|chk|dep|wd|tfr|fee)\b/g,"").replace(/\b\d+\b/g,"").replace(/\s+/g," ").trim()}calculateStringSimilarity(t,r){const n=[],a=t.length,i=r.length;for(let c=0;c<=a;c++)n[c]=[c];for(let c=0;c<=i;c++)n[0][c]=c;for(let c=1;c<=a;c++)for(let u=1;u<=i;u++){const d=t[c-1]===r[u-1]?0:1;n[c][u]=Math.min(n[c-1][u]+1,n[c][u-1]+1,n[c-1][u-1]+d)}const o=n[a][i],s=Math.max(a,i);return s===0?1:1-o/s}calculateWordMatchBoost(t,r){const n=t.split(" ").filter(s=>s.length>2),a=r.split(" ").filter(s=>s.length>2);return n.length===0||a.length===0?0:n.filter(s=>a.includes(s)).length/Math.max(n.length,a.length)*.2}generateMatchReasons(t,r,n){const a=[];return t.amount>=.95?a.push("Exact amount match"):t.amount>=.8?a.push("Very close amount"):t.amount>=.6&&a.push("Similar amount"),t.description>=.8?a.push("Strong description match"):t.description>=.6&&a.push("Similar description"),t.date>=.9?a.push("Same/next day"):t.date>=.6&&a.push("Within a week"),t.vendor>=.8&&a.push("Vendor name match"),a.length===0&&a.push("Potential match"),a}performAutoMatching(t){const r=[];for(const n of t)n.autoMatch&&n.bestMatch&&(n.isMatched=!0,n.matchedExpense=n.bestMatch.expense,r.push(n));return r}updateConfig(t){this.config={...this.config,...t}}getMatchingStats(t){return{total:t.length,withSuggestions:t.filter(r=>r.suggestions.length>0).length,autoMatched:t.filter(r=>r.autoMatch).length,highConfidence:t.filter(r=>r.bestMatch&&r.bestMatch.confidence>=.8).length,mediumConfidence:t.filter(r=>r.bestMatch&&r.bestMatch.confidence>=.6&&r.bestMatch.confidence<.8).length,lowConfidence:t.filter(r=>r.bestMatch&&r.bestMatch.confidence<.6).length,noMatches:t.filter(r=>r.suggestions.length===0).length}}}const VN=new zde,qde=({reconciliationId:e,bankTransactions:t=[],systemExpenses:r=[]})=>{const[n,a]=R.useState([]),[i,o]=R.useState(null),[s,c]=R.useState(null),[u,d]=R.useState(!1),[f,p]=R.useState(!0),[h,v]=R.useState({total:0,matched:0,autoMatched:0,unmatched:0});R.useEffect(()=>{t.length>0&&r.length>0&&g()},[t,r]);const g=()=>{d(!0);try{const _=VN.findMatches(t,r);a(_);const w={total:t.length,matched:_.filter(A=>A.bestMatch).length,autoMatched:_.filter(A=>A.autoMatch).length,unmatched:_.filter(A=>!A.bestMatch).length};if(v(w),f){const A=VN.performAutoMatching(_);console.log(`Auto-matched ${A.length} transactions`)}}catch(_){console.error("Matching failed:",_)}finally{d(!1)}},j=async(_,w)=>{try{if((await Oh.matchTransaction(e,{bankTransactionId:_.id,expenseId:w.id})).success){const O=n.map(E=>E.bankTransaction.id===_.id?{...E,isMatched:!0,matchedExpense:w}:E);a(O),o(null),c(null)}}catch(A){console.error("Failed to match transaction:",A),alert("Failed to match transaction. Please try again.")}},x=async _=>{_.bestMatch&&await j(_.bankTransaction,_.bestMatch.expense)},b=_=>_>=.8?"text-green-600 bg-green-100":_>=.6?"text-yellow-600 bg-yellow-100":"text-red-600 bg-red-100",N=_=>_>=.8?"High":_>=.6?"Medium":"Low";return u?l.jsxs("div",{className:"flex items-center justify-center p-8",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),l.jsx("span",{className:"ml-2",children:"Analyzing transactions..."})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Smart Transaction Matching"}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",checked:f,onChange:_=>p(_.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),l.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Auto-match high confidence"})]}),l.jsx("button",{onClick:g,className:"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700",children:"Re-analyze"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-blue-600",children:h.total}),l.jsx("div",{className:"text-sm text-blue-800",children:"Total Transactions"})]}),l.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-green-600",children:h.matched}),l.jsx("div",{className:"text-sm text-green-800",children:"Potential Matches"})]}),l.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-purple-600",children:h.autoMatched}),l.jsx("div",{className:"text-sm text-purple-800",children:"Auto-Matched"})]}),l.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-red-600",children:h.unmatched}),l.jsx("div",{className:"text-sm text-red-800",children:"Unmatched"})]})]}),l.jsx("div",{className:"space-y-4",children:n.map((_,w)=>l.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("div",{className:"flex-1",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"font-medium text-gray-900",children:_.bankTransaction.description}),l.jsxs("div",{className:"font-bold text-lg",children:["$",_.bankTransaction.amount.toFixed(2)]}),l.jsx("div",{className:"text-sm text-gray-500",children:_.bankTransaction.date})]})}),_.isMatched&&l.jsxs("div",{className:"flex items-center text-green-600",children:[l.jsx(qy,{className:"h-5 w-5 mr-1"}),l.jsx("span",{className:"text-sm font-medium",children:"Matched"})]})]}),_.suggestions.length>0&&!_.isMatched&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-2",children:[l.jsx(que,{className:"h-4 w-4 mr-1"}),l.jsx("span",{children:"Suggested matches:"})]}),_.suggestions.slice(0,3).map((A,O)=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded border hover:bg-gray-100 cursor-pointer",onClick:()=>x({..._,bestMatch:A}),children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"font-medium",children:A.expense.vendor||A.expense.description}),l.jsxs("div",{className:"font-bold",children:["$",A.expense.amount.toFixed(2)]}),l.jsx("div",{className:"text-sm text-gray-500",children:A.expense.date})]}),l.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:A.matchReasons.map((E,C)=>l.jsx("span",{className:"inline-block px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded",children:E},C))})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded ${b(A.confidence)}`,children:[N(A.confidence)," (",Math.round(A.confidence*100),"%)"]}),l.jsx("button",{className:"p-1 text-green-600 hover:text-green-800",children:l.jsx(zN,{className:"h-4 w-4"})})]})]},A.expense.id)),_.suggestions.length>3&&l.jsxs("div",{className:"text-sm text-gray-500 text-center",children:["+",_.suggestions.length-3," more potential matches"]})]}),_.suggestions.length===0&&!_.isMatched&&l.jsxs("div",{className:"flex items-center justify-center p-4 bg-red-50 rounded border border-red-200",children:[l.jsx(IO,{className:"h-5 w-5 text-red-500 mr-2"}),l.jsx("span",{className:"text-red-700",children:"No potential matches found"}),l.jsx("button",{className:"ml-4 px-3 py-1 text-sm bg-red-600 text-white rounded hover:bg-red-700",children:"Create New Expense"})]})]},_.bankTransaction.id))}),l.jsxs("div",{className:"border-t pt-6",children:[l.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Manual Matching"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("h5",{className:"font-medium text-gray-800 mb-3",children:"Unmatched Bank Transactions"}),l.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:n.filter(_=>!_.isMatched).map(_=>l.jsxs("div",{onClick:()=>o(_.bankTransaction),className:`p-3 rounded border cursor-pointer ${(i==null?void 0:i.id)===_.bankTransaction.id?"bg-blue-100 border-blue-400":"bg-white hover:bg-gray-50"}`,children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"font-medium",children:_.bankTransaction.description}),l.jsxs("span",{className:"font-bold",children:["$",_.bankTransaction.amount.toFixed(2)]})]}),l.jsx("div",{className:"text-sm text-gray-500",children:_.bankTransaction.date})]},_.bankTransaction.id))})]}),l.jsxs("div",{children:[l.jsx("h5",{className:"font-medium text-gray-800 mb-3",children:"Unmatched System Expenses"}),l.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:r.filter(_=>!_.is_matched).map(_=>l.jsxs("div",{onClick:()=>c(_),className:`p-3 rounded border cursor-pointer ${(s==null?void 0:s.id)===_.id?"bg-green-100 border-green-400":"bg-white hover:bg-gray-50"}`,children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"font-medium",children:_.vendor||_.description}),l.jsxs("span",{className:"font-bold",children:["$",_.amount.toFixed(2)]})]}),l.jsx("div",{className:"text-sm text-gray-500",children:_.date})]},_.id))})]})]}),i&&s&&l.jsx("div",{className:"mt-4 text-center",children:l.jsxs("button",{onClick:()=>j(i,s),className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700",children:[l.jsx(zN,{className:"h-5 w-5 mr-2"}),"Match Selected Transactions"]})})]})]})},qO=()=>l.jsxs("div",{children:[l.jsx("h1",{children:"Reconciliation Report"}),l.jsx("p",{children:"This is a placeholder for the Reconciliation Report."})]}),Ude=({onComplete:e,onCancel:t})=>{const[r,n]=R.useState(1),[a,i]=R.useState({id:null,month:new Date().getMonth()+1,year:new Date().getFullYear(),bankStatement:null,bankTransactions:[],systemExpenses:[]}),[o,s]=R.useState(!1),c=[{id:1,name:"Period Selection",description:"Select reconciliation period"},{id:2,name:"Upload Statement",description:"Upload bank statement"},{id:3,name:"Match Transactions",description:"Review and match transactions"},{id:4,name:"Finalize Report",description:"Complete reconciliation"}],u=(v,g)=>{i(j=>({...j,[v]:g}))},d=async v=>{s(!0);try{const g=await Oh.uploadStatement(a.id,{transactions:v.transactions});if(g.success){const j=await Oh.getTransactions(a.id);j.success&&(i(x=>({...x,bankStatement:v.file,bankTransactions:j.data.bankTransactions,systemExpenses:j.data.systemExpenses})),n(r+1))}else alert("Failed to upload transactions: "+g.error)}catch(g){console.error("Failed to upload statement:",g),alert("Failed to upload statement. Please try again.")}finally{s(!1)}},f=async()=>{if(console.log("ðŸ” [FRONTEND DEBUG] nextStep called, currentStep:",r),r===1){console.log("ðŸ” [FRONTEND DEBUG] Starting reconciliation process"),console.log("ðŸ” [FRONTEND DEBUG] Reconciliation data:",{month:a.month,year:a.year}),s(!0);try{console.log("ðŸ” [FRONTEND DEBUG] Calling reconciliationAPI.startReconciliation");const v=await Oh.startReconciliation({month:a.month,year:a.year});console.log("ðŸ” [FRONTEND DEBUG] startReconciliation response:",v),v.success?(console.log("âœ… [FRONTEND DEBUG] Reconciliation started successfully, ID:",v.data.id),i(g=>({...g,id:v.data.id})),n(r+1)):(console.error("âŒ [FRONTEND DEBUG] Failed to start reconciliation:",v.error),alert("Failed to start reconciliation: "+v.error))}catch(v){console.error("âŒ [FRONTEND DEBUG] Exception in nextStep:",v),alert("Failed to start reconciliation. Please try again.")}finally{console.log("ðŸ” [FRONTEND DEBUG] Setting loading to false"),s(!1)}}else r<c.length&&(console.log("ðŸ” [FRONTEND DEBUG] Moving to next step:",r+1),n(r+1))},p=()=>{r>1&&n(r-1)},h=()=>{switch(r){case 1:return l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Select Reconciliation Period"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Month"}),l.jsx("select",{value:a.month,onChange:v=>u("month",parseInt(v.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:Array.from({length:12},(v,g)=>l.jsx("option",{value:g+1,children:new Date(0,g).toLocaleString("default",{month:"long"})},g+1))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Year"}),l.jsx("input",{type:"number",value:a.year,onChange:v=>u("year",parseInt(v.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]})]})]});case 2:return l.jsx(Bde,{onUpload:d});case 3:return l.jsx(qde,{reconciliationId:a.id,bankTransactions:a.bankTransactions,systemExpenses:a.systemExpenses});case 4:return l.jsx(qO,{reconciliation:a});default:return l.jsxs("div",{children:["Step ",r]})}};return l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Monthly Reconciliation"}),l.jsx("button",{onClick:t,className:"inline-flex items-center p-2 border border-gray-300 rounded-md text-gray-400 hover:text-gray-500 hover:border-gray-400",children:l.jsx(IO,{className:"h-5 w-5"})})]}),l.jsx("div",{className:"mb-8",children:l.jsx("div",{className:"flex items-center justify-between",children:c.map((v,g)=>l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full border-2 ${r>=v.id?"bg-blue-600 border-blue-600 text-white":"border-gray-300 text-gray-500"}`,children:r>v.id?l.jsx(Cue,{className:"h-5 w-5"}):l.jsx("span",{className:"text-sm font-medium",children:v.id})}),l.jsxs("div",{className:"ml-3",children:[l.jsx("div",{className:`text-sm font-medium ${r>=v.id?"text-blue-600":"text-gray-500"}`,children:v.name}),l.jsx("div",{className:"text-xs text-gray-500",children:v.description})]}),g<c.length-1&&l.jsx("div",{className:`flex-1 h-0.5 mx-4 ${r>v.id?"bg-blue-600":"bg-gray-300"}`})]},v.id))})}),l.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:h()}),l.jsxs("div",{className:"flex justify-between",children:[l.jsxs("button",{onClick:p,disabled:r===1,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx(Mue,{className:"h-4 w-4 mr-2"}),"Previous"]}),r<c.length?l.jsxs("button",{onClick:f,disabled:o||r===2&&!a.bankStatement,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[o?"Starting...":"Next",l.jsx(Due,{className:"h-4 w-4 ml-2"})]}):l.jsx("button",{onClick:()=>e(a),className:"inline-flex items-center px-6 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700",children:"Complete Reconciliation"})]})]})},Wde=[{id:1,subject:"Back-to-School Picnic",type:"event",status:"draft",updated_at:"2025-06-01"},{id:2,subject:"Fundraiser Reminder",type:"fundraiser",status:"draft",updated_at:"2025-06-02"}],Hde={draft:"bg-gray-200 text-gray-800",scheduled:"bg-yellow-100 text-yellow-800",sent:"bg-green-100 text-green-800",failed:"bg-red-100 text-red-800"};function Gde(){const[e,t]=R.useState("drafts"),r=n=>n.length===0?l.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"No communications found."}):l.jsx("ul",{className:"space-y-3 mt-4",children:n.map(a=>l.jsxs("li",{className:"p-4 bg-white border rounded shadow flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold",children:a.subject}),l.jsxs("p",{className:"text-xs text-gray-500",children:["Type: ",a.type," â€¢ Last updated: ",a.updated_at]})]}),l.jsx("span",{className:`text-xs px-2 py-1 rounded ${Hde[a.status]}`,children:a.status})]},a.id))});return l.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-8",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h1",{className:"text-2xl font-bold",children:"Communications"}),l.jsx(mc,{to:"/communications/create",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"+ New"})]}),l.jsxs(Si.Tabs,{value:e,onChange:n=>t(n),children:[l.jsxs(Si.TabsHeader,{children:[l.jsx(Si.Tab,{value:"drafts",children:"Drafts"}),l.jsx(Si.Tab,{value:"scheduled",children:"Scheduled"}),l.jsx(Si.Tab,{value:"sent",children:"Sent"})]}),l.jsxs(Si.TabsBody,{children:[l.jsx(Si.TabPanel,{value:"drafts",children:r(Wde)}),l.jsx(Si.TabPanel,{value:"scheduled",children:r([])}),l.jsx(Si.TabPanel,{value:"sent",children:r([])})]})]})]})}const Vde=()=>{const e=mr(),[t,r]=R.useState("grid"),[n,a]=R.useState("manual"),[i,o]=R.useState(""),[s,c]=R.useState("all"),u=[{id:1,title:"Fall Festival Announcement",type:"email",status:"sent",audience:"All Families",sentDate:"2024-10-01",openRate:78,clickRate:12,createdBy:"stella",description:"Exciting announcement about our upcoming Fall Festival"},{id:2,title:"Volunteer Recruitment Drive",type:"social",status:"scheduled",audience:"Facebook & Instagram",scheduledDate:"2024-10-05",engagement:0,createdBy:"manual",description:"Call for volunteers for upcoming events"},{id:3,title:"Book Fair Reminder",type:"sms",status:"draft",audience:"Parent Contacts",deliveryRate:0,createdBy:"stella",description:"Reminder about the upcoming book fair"},{id:4,title:"Monthly Newsletter",type:"newsletter",status:"in_progress",audience:"All Subscribers",progress:65,createdBy:"manual",description:"October newsletter with updates and events"}],d=T=>{e(`/communications/compose?mode=email&ai=${T}`)},f=T=>{e(`/communications/compose?mode=social&ai=${T}`)},p=T=>{e(`/communications/compose?mode=sms&ai=${T}`)},h=T=>{e(`/communications/compose?mode=email&type=newsletter&ai=${T}`)},v=T=>{e(`/communications/create?view=${T}`)},g=T=>{e(`/communications/create?edit=${T}`)},j=T=>{console.log("Sending communication:",T)},x=()=>{e("/communications/ai")},b=()=>{e("/communications/create?tab=analytics")},N=()=>{e("/communications/create?tab=schedule")},_=()=>{e("/communications/create?tab=audiences")},w=()=>{e("/communications/create")},A=T=>{const $={draft:"bg-gray-100 text-gray-800",in_progress:"bg-blue-100 text-blue-800",scheduled:"bg-yellow-100 text-yellow-800",sent:"bg-green-100 text-green-800",failed:"bg-red-100 text-red-800"};return $[T]||$.draft},O=T=>({email:jl,sms:u1,social:c1,newsletter:ri})[T]||jl,E=({communication:T})=>{const $=O(T.type);return l.jsx("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 hover:shadow-lg transition-shadow",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[l.jsx($,{className:"w-5 h-5 text-blue-600"}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:T.title}),T.createdBy==="stella"&&l.jsx(wr,{className:"w-4 h-4 text-purple-500",title:"Created by Stella"})]}),l.jsx("p",{className:"text-sm text-gray-600 mb-3",children:T.description}),l.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(ka,{className:"w-4 h-4"}),l.jsx("span",{children:T.audience})]}),T.sentDate&&l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(ri,{className:"w-4 h-4"}),l.jsx("span",{children:new Date(T.sentDate).toLocaleDateString()})]})]})]}),l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${A(T.status)}`,children:T.status.replace("_"," ").charAt(0).toUpperCase()+T.status.replace("_"," ").slice(1)})]}),T.status==="sent"&&l.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[l.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[l.jsx("div",{className:"text-sm text-green-600",children:"Open Rate"}),l.jsxs("div",{className:"text-lg font-semibold text-green-700",children:[T.openRate,"%"]})]}),l.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[l.jsx("div",{className:"text-sm text-blue-600",children:"Click Rate"}),l.jsxs("div",{className:"text-lg font-semibold text-blue-700",children:[T.clickRate,"%"]})]})]}),T.status==="in_progress"&&l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[l.jsx("span",{className:"text-gray-600",children:"Progress"}),l.jsxs("span",{className:"font-medium text-gray-900",children:[T.progress,"%"]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${T.progress}%`}})})]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsxs("button",{onClick:()=>v(T.id),className:"flex-1 flex items-center justify-center px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx(Il,{className:"w-4 h-4 mr-2"}),"View"]}),l.jsxs("button",{onClick:()=>g(T.id),className:"flex-1 flex items-center justify-center px-3 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[l.jsx(_a,{className:"w-4 h-4 mr-2"}),"Edit"]}),T.status==="draft"&&l.jsxs("button",{onClick:()=>j(T.id),className:"flex-1 flex items-center justify-center px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[l.jsx(ZN,{className:"w-4 h-4 mr-2"}),"Send"]})]})]})})},C=()=>l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Create New Communication"}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-4 gap-6",children:[l.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-6 hover:border-blue-300 transition-colors",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(jl,{className:"w-8 h-8 text-blue-600"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:"Email Campaign"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Reach all families"})]})]}),l.jsxs("div",{className:"space-y-3 mb-4",children:[l.jsx("button",{onClick:()=>d("manual"),className:"w-full py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:"Manual Creation"}),l.jsx("button",{onClick:()=>d("assisted"),className:"w-full py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm",children:"Let Stella Help"}),l.jsx("button",{onClick:()=>d("automated"),className:"w-full py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors text-sm",children:"Stella Auto-Generate"})]})]}),l.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-6 hover:border-green-300 transition-colors",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(c1,{className:"w-8 h-8 text-green-600"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:"Social Media"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Facebook & Instagram"})]})]}),l.jsxs("div",{className:"space-y-3 mb-4",children:[l.jsx("button",{onClick:()=>f("manual"),className:"w-full py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:"Manual Creation"}),l.jsx("button",{onClick:()=>f("assisted"),className:"w-full py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm",children:"Let Stella Help"}),l.jsx("button",{onClick:()=>f("automated"),className:"w-full py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors text-sm",children:"Stella Auto-Generate"})]})]}),l.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-6 hover:border-yellow-300 transition-colors",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(u1,{className:"w-8 h-8 text-yellow-600"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:"SMS Campaign"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Direct text messages"})]})]}),l.jsxs("div",{className:"space-y-3 mb-4",children:[l.jsx("button",{onClick:()=>p("manual"),className:"w-full py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:"Manual Creation"}),l.jsx("button",{onClick:()=>p("assisted"),className:"w-full py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm",children:"Let Stella Help"}),l.jsx("button",{onClick:()=>p("automated"),className:"w-full py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors text-sm",children:"Stella Auto-Generate"})]})]}),l.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-6 hover:border-purple-300 transition-colors",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(ri,{className:"w-8 h-8 text-purple-600"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:"Newsletter"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Monthly updates"})]})]}),l.jsxs("div",{className:"space-y-3 mb-4",children:[l.jsx("button",{onClick:()=>h("manual"),className:"w-full py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:"Manual Creation"}),l.jsx("button",{onClick:()=>h("assisted"),className:"w-full py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm",children:"Let Stella Help"}),l.jsx("button",{onClick:()=>h("automated"),className:"w-full py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors text-sm",children:"Stella Auto-Generate"})]})]})]})]}),D=()=>l.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg p-6 mb-6",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(wr,{className:"w-6 h-6 text-purple-600"}),l.jsx("h3",{className:"text-lg font-semibold text-purple-900",children:"Stella's Communication Insights"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"bg-white rounded-lg p-4",children:[l.jsx("div",{className:"text-sm text-purple-600 mb-1",children:"Best Send Time"}),l.jsx("div",{className:"text-lg font-semibold text-purple-900",children:"Tuesday 10 AM"}),l.jsx("div",{className:"text-xs text-purple-700",children:"Based on your audience engagement"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-4",children:[l.jsx("div",{className:"text-sm text-purple-600 mb-1",children:"Top Performing Subject"}),l.jsx("div",{className:"text-lg font-semibold text-purple-900",children:"Event Announcements"}),l.jsx("div",{className:"text-xs text-purple-700",children:"85% average open rate"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-4",children:[l.jsx("div",{className:"text-sm text-purple-600 mb-1",children:"Stella's Suggestion"}),l.jsx("div",{className:"text-lg font-semibold text-purple-900",children:"Add Volunteer Call"}),l.jsx("div",{className:"text-xs text-purple-700",children:"Include in next newsletter"})]})]}),l.jsxs("div",{className:"mt-4 p-3 bg-white rounded-lg",children:[l.jsx("div",{className:"text-sm text-purple-900 font-medium mb-2",children:"ðŸ’¡ Stella's Tip of the Day"}),l.jsx("div",{className:"text-sm text-purple-800",children:'"Your Fall Festival emails get 23% higher engagement when sent on weekday mornings. Want me to schedule your next announcement for optimal timing?"'})]})]}),k=()=>l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsxs("button",{onClick:x,className:"flex flex-col items-center p-4 border border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 transition-colors",children:[l.jsx(wr,{className:"w-6 h-6 text-purple-600 mb-2"}),l.jsx("span",{className:"text-sm font-medium",children:"Ask Stella"}),l.jsx("span",{className:"text-xs text-gray-500",children:"Get content ideas"})]}),l.jsxs("button",{onClick:b,className:"flex flex-col items-center p-4 border border-gray-200 rounded-lg hover:border-green-300 hover:bg-green-50 transition-colors",children:[l.jsx(WP,{className:"w-6 h-6 text-green-600 mb-2"}),l.jsx("span",{className:"text-sm font-medium",children:"Analytics"}),l.jsx("span",{className:"text-xs text-gray-500",children:"View performance"})]}),l.jsxs("button",{onClick:N,className:"flex flex-col items-center p-4 border border-gray-200 rounded-lg hover:border-yellow-300 hover:bg-yellow-50 transition-colors",children:[l.jsx(Mu,{className:"w-6 h-6 text-yellow-600 mb-2"}),l.jsx("span",{className:"text-sm font-medium",children:"Schedule"}),l.jsx("span",{className:"text-xs text-gray-500",children:"Plan campaigns"})]}),l.jsxs("button",{onClick:_,className:"flex flex-col items-center p-4 border border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 transition-colors",children:[l.jsx(ka,{className:"w-6 h-6 text-blue-600 mb-2"}),l.jsx("span",{className:"text-sm font-medium",children:"Audiences"}),l.jsx("span",{className:"text-xs text-gray-500",children:"Manage lists"})]})]})]});return l.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Communications Dashboard"}),l.jsx("p",{className:"text-gray-600",children:"Manage all your PTO communications with Stella's help or manual control"})]}),l.jsx("div",{className:"flex items-center space-x-3",children:l.jsx("button",{onClick:()=>r(t==="grid"?"list":"grid"),className:"p-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:t==="grid"?l.jsx(zP,{className:"w-5 h-5"}):l.jsx(qP,{className:"w-5 h-5"})})})]}),l.jsx(D,{}),l.jsx(k,{}),l.jsx(C,{}),l.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(UP,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"Search communications...",value:i,onChange:T=>o(T.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),l.jsxs("select",{value:s,onChange:T=>c(T.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[l.jsx("option",{value:"all",children:"All Types"}),l.jsx("option",{value:"email",children:"Email"}),l.jsx("option",{value:"sms",children:"SMS"}),l.jsx("option",{value:"social",children:"Social Media"}),l.jsx("option",{value:"newsletter",children:"Newsletter"})]})]})}),l.jsx("div",{className:t==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:u.map(T=>l.jsx(E,{communication:T},T.id))}),u.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx(jl,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No communications found"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Get started by creating your first communication"}),l.jsx("button",{onClick:w,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Create Your First Communication"})]})]})})};function Yde(){const[e,t]=R.useState({subject:"",body:"",send_as:"email"}),[r,n]=R.useState(""),[a,i]=R.useState(""),o=c=>{const{name:u,value:d}=c.target;t(f=>({...f,[u]:d}))},s=async c=>{c.preventDefault(),i(""),n("");const{data:{session:u}}=await We.auth.getSession();if(!(u!=null&&u.access_token)){i("Authentication required.");return}try{const d=await fetch("/api/messages",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u.access_token}`},body:JSON.stringify(e)}),f=await d.json();d.ok?(n("Message created successfully!"),t({subject:"",body:"",send_as:"email"})):i(f.error||"Failed to send message.")}catch(d){console.error("Submit error:",d),i("Server error. Please try again.")}};return l.jsxs("div",{className:"max-w-xl mx-auto p-4",children:[l.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Create Message"}),l.jsxs("form",{onSubmit:s,className:"space-y-4",children:[l.jsx("input",{name:"subject",value:e.subject,onChange:o,placeholder:"Subject",className:"w-full border p-2",required:!0}),l.jsx("textarea",{name:"body",value:e.body,onChange:o,placeholder:"Message Body",className:"w-full border p-2",required:!0}),l.jsxs("select",{name:"send_as",value:e.send_as,onChange:o,className:"w-full border p-2",children:[l.jsx("option",{value:"email",children:"Email"}),l.jsx("option",{value:"sms",children:"SMS"}),l.jsx("option",{value:"in_app",children:"In-App"})]}),l.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded",type:"submit",children:"Send Message"}),r&&l.jsx("p",{className:"text-green-600",children:r}),a&&l.jsx("p",{className:"text-red-600",children:a})]})]})}function Kde(){const e=mr();return R.useEffect(()=>{e("/communications/compose?mode=sms")},[e]),l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsx("div",{className:"bg-white rounded-lg shadow-sm p-8 max-w-md w-full mx-4",children:l.jsxs("div",{className:"text-center",children:[l.jsx(lo,{className:"w-12 h-12 text-green-600 mx-auto mb-4"}),l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"SMS Composer"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Redirecting to the unified communication composer for SMS messages..."}),l.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-green-600 mx-auto"})]})})})}function Xde(){const e=mr();return R.useEffect(()=>{e("/communications/compose?mode=social")},[e]),l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsx("div",{className:"bg-white rounded-lg shadow-sm p-8 max-w-md w-full mx-4",children:l.jsxs("div",{className:"text-center",children:[l.jsx(QN,{className:"w-12 h-12 text-purple-600 mx-auto mb-4"}),l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Social Media Composer"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Redirecting to the unified communication composer for social media posts..."}),l.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-purple-600 mx-auto"})]})})})}const Jde="https://api.ptoconnect.com/api";function Zde(){const[e,t]=R.useState([]),[r,n]=R.useState("");R.useEffect(()=>{async function i(){const{data:{session:o}}=await We.auth.getSession(),s=o==null?void 0:o.access_token;if(!s)return n("Not authenticated.");try{const c=await Ja.get(`${Jde}/api/documents`,{headers:{Authorization:`Bearer ${s}`}});t(c.data)}catch(c){n("Failed to load documents."),console.error(c)}}i()},[]);const a=i=>{const{data:o}=We.storage.from("documents").getPublicUrl(i);return o==null?void 0:o.publicUrl};return l.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h1",{className:"text-2xl font-bold",children:"PTO Documents"}),l.jsx(mc,{to:"/documents/upload",className:"bg-blue-600 text-white px-4 py-2 rounded",children:"+ Upload Document"})]}),r&&l.jsx("p",{className:"text-red-600",children:r}),e.length===0&&!r&&l.jsx("p",{children:"No documents found."}),l.jsx("ul",{className:"space-y-4",children:e.map(i=>l.jsxs("li",{className:"border p-4 rounded shadow-sm bg-white",children:[l.jsx("h2",{className:"text-lg font-semibold",children:i.title}),l.jsx("a",{href:a(i.file_path),target:"_blank",rel:"noopener noreferrer",className:"text-blue-700 underline text-sm",children:"View / Download"})]},i.id))})]})}const Qde="https://api.ptoconnect.com/api";function efe(){const[e,t]=R.useState(""),[r,n]=R.useState(null),[a,i]=R.useState(""),[o,s]=R.useState(""),c=async u=>{if(u.preventDefault(),!r||!e)return s("Title and file are required.");const{data:{session:d}}=await We.auth.getSession(),f=d==null?void 0:d.access_token;if(!f)return s("User not authenticated.");const p=new FormData;p.append("title",e),p.append("file",r);try{await Ja.post(`${Qde}/api/documents`,p,{headers:{Authorization:`Bearer ${f}`,"Content-Type":"multipart/form-data"}}),i("Document uploaded successfully."),t(""),n(null)}catch(h){s("Upload failed. Check console."),console.error(h)}};return l.jsxs("div",{className:"max-w-xl mx-auto p-4",children:[l.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Upload Document"}),l.jsxs("form",{onSubmit:c,className:"space-y-4",children:[l.jsx("input",{type:"text",placeholder:"Document Title",value:e,onChange:u=>t(u.target.value),className:"w-full border p-2",required:!0}),l.jsx("input",{type:"file",accept:".pdf,.doc,.docx,.xls,.xlsx,.png,.jpg,.jpeg",onChange:u=>n(u.target.files[0]),className:"w-full border p-2",required:!0}),l.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded",children:"Upload"}),a&&l.jsx("p",{className:"text-green-600",children:a}),o&&l.jsx("p",{className:"text-red-600",children:o})]})]})}const tfe="https://api.ptoconnect.com/api";function rfe(){const[e,t]=R.useState([]),[r,n]=R.useState("");return R.useEffect(()=>{async function a(){const{data:{session:i}}=await We.auth.getSession(),o=i==null?void 0:i.access_token;if(!o){n("Not authenticated.");return}try{const s=await Ja.get(`${tfe}/api/shared-library`,{headers:{Authorization:`Bearer ${o}`}});t(s.data)}catch(s){console.error(s),n("Failed to load shared library items.")}}a()},[]),l.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[l.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Shared PTO Library"}),r&&l.jsx("p",{className:"text-red-600",children:r}),e.length===0&&!r&&l.jsx("p",{children:"No shared events or fundraisers yet."}),l.jsx("ul",{className:"space-y-4",children:e.map(a=>{var i;return l.jsxs("li",{className:"border p-4 rounded shadow-sm bg-white",children:[l.jsx("h2",{className:"text-xl font-semibold",children:a.title}),l.jsx("p",{className:"text-sm text-gray-500",children:a.description}),l.jsxs("p",{className:"text-sm text-blue-700 mt-1",children:["Type: ",((i=a.type)==null?void 0:i.toUpperCase())||"N/A"," â€¢ Shared by another PTO"]})]},a.id)})})]})}function nfe(){const[e,t]=R.useState({type:"",season:"",audience:"",theme:"",goal:""}),[r,n]=R.useState([]),[a,i]=R.useState(!1),[o,s]=R.useState(null),c=d=>{const{name:f,value:p}=d.target;t(h=>({...h,[f]:p}))},u=async()=>{i(!0),s(null),n([]);const{data:{session:d},error:f}=await We.auth.getSession();if(f||!(d!=null&&d.access_token)){s("Authentication required."),i(!1);return}try{const h=await(await fetch("/api/ai/generate-event",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${d.access_token}`},body:JSON.stringify(e)})).json();if(h.result){const v=h.result.split(/\n?\d+\.\s/).filter(Boolean).map(g=>g.trim().replace(/^\*\*/,"").replace(/\*\*$/,""));n(v)}else s("No ideas returned.")}catch(p){console.error(p),s("Error contacting the backend")}finally{i(!1)}};return l.jsxs("div",{className:"p-6 max-w-2xl mx-auto",children:[l.jsx("h1",{className:"text-2xl font-bold mb-4",children:"AI Event Idea Generator"}),l.jsxs("div",{className:"grid gap-4 mb-4",children:[l.jsx("input",{name:"type",value:e.type,onChange:c,placeholder:"Event Type (e.g. Family Night)",className:"w-full border p-2 rounded"}),l.jsx("input",{name:"season",value:e.season,onChange:c,placeholder:"Season or Month (e.g. Spring, October)",className:"w-full border p-2 rounded"}),l.jsx("input",{name:"audience",value:e.audience,onChange:c,placeholder:"Audience (e.g. students, families)",className:"w-full border p-2 rounded"}),l.jsx("input",{name:"theme",value:e.theme,onChange:c,placeholder:"Theme (e.g. carnival, STEM)",className:"w-full border p-2 rounded"}),l.jsx("input",{name:"goal",value:e.goal,onChange:c,placeholder:"Goal (e.g. raise funds, build community)",className:"w-full border p-2 rounded"})]}),l.jsx("button",{onClick:u,disabled:a,className:"bg-blue-600 text-white px-4 py-2 rounded",children:a?"Generating...":"Generate Ideas"}),o&&l.jsx("p",{className:"text-red-500 mt-4",children:o}),r.length>0&&l.jsx("ul",{className:"mt-6 space-y-2",children:r.map((d,f)=>l.jsx("li",{className:"border p-3 rounded bg-gray-50",children:d},f))})]})}const afe=()=>{const e=mr(),[t,r]=R.useState(null),[n,a]=R.useState(null),[i,o]=R.useState(null),[s,c]=R.useState({isGenerating:!1,currentStep:"",progress:0}),[u,d]=R.useState(null),[f,p]=R.useState(""),[h,v]=R.useState("assisted");R.useEffect(()=>{(async()=>{try{const{data:{session:w}}=await We.auth.getSession();if(w!=null&&w.user){const{data:A}=await We.from("profiles").select("*").eq("id",w.user.id).single();if(r(A),A!=null&&A.org_id){const O=await po.analyzeContext(A.org_id,"general");o(O),a(O.context)}}}catch(w){console.error("Error fetching user context:",w)}})()},[]);const g=async()=>{if(!f.trim()){ot.error("Please enter an event idea first");return}if(!(t!=null&&t.org_id)){ot.error("Organization context required");return}c({isGenerating:!0,currentStep:"Initializing Stella...",progress:10});try{c({isGenerating:!0,currentStep:"Stella is analyzing your event idea...",progress:25}),await new Promise(E=>setTimeout(E,1500));const _={title:f,category:"Event",estimated_budget:2e3,expected_attendance:100,description:`${f} for our school community`};c({isGenerating:!0,currentStep:"Calculating event complexity and requirements...",progress:50});const w=await po.analyzeEventWorkflow(_,t.org_id);c({isGenerating:!0,currentStep:"Creating your complete event workflow...",progress:75}),await new Promise(E=>setTimeout(E,2e3)),c({isGenerating:!0,currentStep:"Adding Stella's intelligent recommendations...",progress:90});const A=await po.generateContent("content",`Event planning recommendations for ${f}`,{orgId:t.org_id,mode:"recommendations"},!0);c({isGenerating:!0,currentStep:"Finalizing your workflow...",progress:100}),await new Promise(E=>setTimeout(E,1e3));const O={event:_,complexity:w.eventComplexity,workflow:w.workflowPlan,recommendations:A.recommendations||[],orgInsights:w.orgContext,createdAt:new Date().toISOString(),createdBy:"Stella AI Assistant"};d(O),c({isGenerating:!1,currentStep:"",progress:0}),ot.success("âœ¨ Stella has created your complete event workflow!")}catch(_){console.error("Workflow generation error:",_),ot.error("Stella encountered an issue creating your workflow. Please try again."),c({isGenerating:!1,currentStep:"",progress:0})}},j=()=>l.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg p-6 mb-8",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Choose Your Workflow Experience"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[{mode:"manual",title:"Manual Control",description:"I prefer to plan everything myself",icon:eS,color:"gray"},{mode:"assisted",title:"Stella Assisted",description:"I want Stella's help with suggestions",icon:wr,color:"purple"},{mode:"automated",title:"Fully Automated",description:"Let Stella create the complete workflow",icon:Bv,color:"blue"}].map(_=>{const w=_.icon,A=h===_.mode;return l.jsxs("button",{onClick:()=>v(_.mode),className:`p-4 rounded-lg border-2 transition-all ${A?`border-${_.color}-500 bg-${_.color}-50`:"border-gray-200 hover:border-gray-300"}`,children:[l.jsx(w,{className:`w-6 h-6 mx-auto mb-2 ${A?`text-${_.color}-600`:"text-gray-400"}`}),l.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:_.title}),l.jsx("p",{className:"text-sm text-gray-600",children:_.description})]},_.mode)})})]}),x=()=>{if(!i)return null;const{analysis:_}=i,w=_.organizationHealth;return l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-8",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(Rp,{className:"w-6 h-6 text-blue-600"}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Stella's Organization Insights"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[l.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[l.jsx(ka,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),l.jsx("div",{className:"text-2xl font-bold text-blue-600",children:_.keyMetrics.totalMembers}),l.jsx("div",{className:"text-sm text-gray-600",children:"Active Members"}),l.jsxs("div",{className:`text-xs mt-1 ${w.memberEngagement==="high"?"text-green-600":w.memberEngagement==="moderate"?"text-yellow-600":"text-red-600"}`,children:[w.memberEngagement.toUpperCase()," Engagement"]})]}),l.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[l.jsx(ri,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),l.jsx("div",{className:"text-2xl font-bold text-green-600",children:_.keyMetrics.activeEvents}),l.jsx("div",{className:"text-sm text-gray-600",children:"Active Events"}),l.jsxs("div",{className:`text-xs mt-1 ${w.eventActivity==="high"?"text-green-600":w.eventActivity==="moderate"?"text-yellow-600":"text-red-600"}`,children:[w.eventActivity.toUpperCase()," Activity"]})]}),l.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[l.jsx(Za,{className:"w-8 h-8 text-purple-600 mx-auto mb-2"}),l.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:["$",_.keyMetrics.totalBudget.toLocaleString()]}),l.jsx("div",{className:"text-sm text-gray-600",children:"Total Budget"}),l.jsx("div",{className:`text-xs mt-1 ${w.financialHealth==="excellent"?"text-green-600":w.financialHealth==="good"?"text-yellow-600":"text-red-600"}`,children:w.financialHealth.toUpperCase()})]})]}),_.recommendations&&_.recommendations.length>0&&l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"ðŸŒŸ Stella's Top Recommendations"}),l.jsx("div",{className:"space-y-2",children:_.recommendations.slice(0,3).map((A,O)=>l.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-gray-50 rounded-lg",children:[l.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${A.priority==="high"?"bg-red-500":A.priority==="medium"?"bg-yellow-500":"bg-green-500"}`}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-sm text-gray-900",children:A.title}),l.jsx("div",{className:"text-xs text-gray-600",children:A.description})]})]},O))})]})]})},b=()=>s.isGenerating?l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-8",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-purple-600"}),l.jsx("h3",{className:"text-lg font-semibold text-purple-900",children:"Stella is Working on Your Workflow"})]}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[l.jsx("span",{children:s.currentStep}),l.jsxs("span",{children:[s.progress,"%"]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"bg-purple-600 h-2 rounded-full transition-all duration-500",style:{width:`${s.progress}%`}})})]}),l.jsx("div",{className:"text-sm text-gray-600",children:"Stella is analyzing your organization's context, past events, and best practices to create the perfect workflow for your event."})]}):null,N=()=>{var C,D;if(!u)return null;const{event:_,complexity:w,workflow:A,recommendations:O,orgInsights:E}=u;return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:_.title}),l.jsxs("div",{className:`px-3 py-1 rounded-full text-sm ${w.complexity==="complex"?"bg-red-100 text-red-800":w.complexity==="moderate"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:[w.complexity.toUpperCase()," Event"]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[l.jsx(ri,{className:"w-6 h-6 text-blue-600 mx-auto mb-1"}),l.jsx("div",{className:"text-sm font-medium",children:"Timeline"}),l.jsx("div",{className:"text-xs text-gray-600",children:(A==null?void 0:A.recommendedTimeline)||"6-8 weeks"})]}),l.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[l.jsx(Za,{className:"w-6 h-6 text-green-600 mx-auto mb-1"}),l.jsx("div",{className:"text-sm font-medium",children:"Budget"}),l.jsxs("div",{className:"text-xs text-gray-600",children:["$",((C=A==null?void 0:A.budgetRecommendations)==null?void 0:C.suggestedBudget)||_.estimated_budget]})]}),l.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[l.jsx(ka,{className:"w-6 h-6 text-purple-600 mx-auto mb-1"}),l.jsx("div",{className:"text-sm font-medium",children:"Volunteers"}),l.jsx("div",{className:"text-xs text-gray-600",children:((D=A==null?void 0:A.volunteerNeeds)==null?void 0:D.totalVolunteers)||8})]}),l.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[l.jsx(JN,{className:"w-6 h-6 text-orange-600 mx-auto mb-1"}),l.jsx("div",{className:"text-sm font-medium",children:"Complexity"}),l.jsxs("div",{className:"text-xs text-gray-600",children:["Score: ",w.score,"/10"]})]})]})]}),(A==null?void 0:A.keyMilestones)&&l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[l.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"ðŸ“… Project Timeline"}),l.jsx("div",{className:"space-y-4",children:A.keyMilestones.map((k,T)=>l.jsxs("div",{className:"flex items-start space-x-4 p-4 border-l-4 border-blue-500 bg-blue-50",children:[l.jsxs("div",{className:"bg-blue-500 text-white text-sm font-medium px-2 py-1 rounded",children:["Week ",k.week]}),l.jsxs("div",{children:[l.jsx("h5",{className:"font-medium text-gray-900",children:k.milestone}),k.tasks&&l.jsx("ul",{className:"text-sm text-gray-600 mt-1",children:k.tasks.map(($,I)=>l.jsxs("li",{className:"flex items-center space-x-2",children:[l.jsx(Kn,{className:"w-3 h-3 text-green-500"}),l.jsx("span",{children:$})]},I))})]})]},T))})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[l.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"ðŸš€ Next Steps"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsxs("button",{onClick:()=>e("/events/create"),className:"flex items-center justify-center space-x-2 p-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx(ri,{className:"w-5 h-5"}),l.jsx("span",{children:"Create Event"})]}),l.jsxs("button",{onClick:()=>e("/budget"),className:"flex items-center justify-center space-x-2 p-4 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[l.jsx(Za,{className:"w-5 h-5"}),l.jsx("span",{children:"Setup Budget"})]}),l.jsxs("button",{onClick:()=>e("/communications/compose?ai=auto"),className:"flex items-center justify-center space-x-2 p-4 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[l.jsx(lo,{className:"w-5 h-5"}),l.jsx("span",{children:"Start Communications"})]}),l.jsxs("button",{onClick:()=>ot.info("Project management coming in Phase 2!"),className:"flex items-center justify-center space-x-2 p-4 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:[l.jsx(Wy,{className:"w-5 h-5"}),l.jsx("span",{children:"Manage Tasks"})]})]})]})]})};return l.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(wr,{className:"w-8 h-8 text-purple-600"}),l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Meet Stella - Your AI Event Assistant"})]}),l.jsx("p",{className:"text-lg text-gray-600",children:"Hi! I'm Stella, your PTO planning assistant. I can generate complete event workflows with integrated project management, budgeting, communications, and volunteer coordination - or help with just the parts you need!"})]}),l.jsx(x,{}),l.jsx(j,{}),l.jsx(b,{}),u?l.jsx(N,{}):l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8",children:[l.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Let Stella Create Your Event Workflow"}),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"What type of event would you like Stella to help you create?"}),l.jsx("input",{type:"text",value:f,onChange:_=>p(_.target.value),placeholder:"e.g., Fall Festival, Book Fair, Science Night, Teacher Appreciation...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),l.jsx("div",{className:"flex justify-center",children:l.jsxs("button",{onClick:g,disabled:!f.trim()||s.isGenerating,className:"flex items-center space-x-3 px-8 py-4 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:[l.jsx(wr,{className:"w-6 h-6"}),l.jsx("span",{className:"text-lg font-medium",children:s.isGenerating?"Stella is Working...":"Generate Complete Workflow"}),l.jsx(HP,{className:"w-6 h-6"})]})}),h==="automated"&&l.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(Bv,{className:"w-5 h-5 text-blue-600 mt-0.5"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-blue-900",children:"Fully Automated Mode"}),l.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Stella will create a complete workflow with project timeline, budget planning, communication campaigns, and volunteer coordination. You can review and adjust everything."})]})]})})]})]})})},ife=()=>l.jsx(afe,{}),io={EMAIL:"email",SMS:"sms",SOCIAL:"social"},gh=()=>{const[e]=nS(),t=mr(),r=e.get("mode")||io.EMAIL,n=e.get("ai"),[a,i]=R.useState(r),[o,s]=R.useState({subject:"",body:"",recipients:[],scheduledFor:null}),[c,u]=R.useState(n==="assisted"||n==="auto"),[d,f]=R.useState(!1),[p,h]=R.useState(null),[v,g]=R.useState([]),[j,x]=R.useState(!1),b=R.useRef(null),N=()=>{const[k,T]=R.useState(""),$=async(V,F="")=>{f(!0);try{let B="";switch(V){case"subject":B=`Create an engaging ${a} subject line for: ${F||k}`;break;case"content":B=`Write ${a} content for: ${F||k}. ${p?`Event: ${p.title}, Date: ${p.date}`:""}`;break;case"social":B=`Create a social media post for: ${F||k}. Include relevant hashtags and emojis.`;break;case"sms":B=`Write a concise SMS message for: ${F||k}. Keep it under 160 characters.`;break}const X=await po.generateContent(V,B,{mode:a,eventContext:p,organization:"PTO"});X!=null&&X.content&&(s(V==="subject"?Y=>({...Y,subject:X.content}):Y=>({...Y,body:X.content})),ot.success("âœ¨ Stella has generated your content!"))}catch(B){console.error("Stella generation error:",B),ot.error("Stella encountered an issue. Please try again.")}finally{f(!1)}},I=[{label:"Fall Festival Announcement",context:"Fall Festival event with activities and food"},{label:"Volunteer Recruitment",context:"Need volunteers for upcoming PTO events"},{label:"Meeting Reminder",context:"Monthly PTO meeting reminder"},{label:"Fundraiser Update",context:"Update on current fundraising campaign progress"},{label:"Thank You Message",context:"Thank you to volunteers and supporters"}];return l.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg p-6 mb-6",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(wr,{className:"w-6 h-6 text-purple-600"}),l.jsx("h3",{className:"text-lg font-semibold text-purple-900",children:"Stella's Content Assistant"})]}),l.jsxs("div",{className:"text-sm text-purple-700 mb-4",children:["Hi! I'm Stella. I can help create content for your ",a,", or you can create everything manually. Your choice!"]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-purple-800 mb-2",children:"What would you like to communicate?"}),l.jsx("input",{type:"text",value:k,onChange:V=>T(V.target.value),placeholder:"e.g., Fall Festival this Saturday with games and food",className:"w-full p-3 border border-purple-200 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[l.jsx("button",{onClick:()=>$("subject",k),disabled:d||!k.trim(),className:"w-full p-3 text-left bg-white rounded-lg border border-purple-200 hover:bg-purple-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(YP,{className:"w-4 h-4 text-purple-600"}),l.jsx("span",{className:"font-medium",children:"Let Stella Write Subject"})]})}),l.jsx("button",{onClick:()=>$("content",k),disabled:d||!k.trim(),className:"w-full p-3 text-left bg-white rounded-lg border border-purple-200 hover:bg-purple-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(jl,{className:"w-4 h-4 text-purple-600"}),l.jsx("span",{className:"font-medium",children:"Let Stella Write Content"})]})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-purple-800 mb-2",children:"Quick Suggestions"}),l.jsx("div",{className:"grid grid-cols-1 gap-2",children:I.map((V,F)=>l.jsx("button",{onClick:()=>$("content",V.context),disabled:d,className:"text-left p-2 bg-white rounded border border-purple-200 hover:bg-purple-50 disabled:opacity-50 text-sm transition-colors",children:V.label},F))})]}),d&&l.jsxs("div",{className:"flex items-center space-x-2 text-purple-700",children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-purple-600"}),l.jsx("span",{className:"text-sm",children:"Stella is creating your content..."})]})]})]})},_=k=>({[io.EMAIL]:{title:"Email Campaign",icon:jl,color:"blue",placeholder:"Write your email content here...",maxLength:null,showSubject:!0,showRecipients:!0},[io.SMS]:{title:"SMS Message",icon:lo,color:"green",placeholder:"Write your SMS message here (160 characters max)...",maxLength:160,showSubject:!1,showRecipients:!0},[io.SOCIAL]:{title:"Social Media Post",icon:QN,color:"purple",placeholder:"Create your social media post...",maxLength:280,showSubject:!1,showRecipients:!1}})[k],w=_(a),A=w.icon,O=(k,T)=>{s($=>({...$,[k]:T}))},E=async()=>{try{const{data:{session:k}}=await We.auth.getSession();if(!k){ot.error("Please log in to save drafts");return}const T={id:Date.now(),mode:a,content:o,createdAt:new Date().toISOString(),title:o.subject||o.body.substring(0,50)+"..."},$=JSON.parse(localStorage.getItem("ptoCommunicationDrafts")||"[]");$.unshift(T),localStorage.setItem("ptoCommunicationDrafts",JSON.stringify($.slice(0,10))),g($),ot.success("Draft saved successfully!")}catch(k){console.error("Save draft error:",k),ot.error("Failed to save draft")}};R.useEffect(()=>{const k=JSON.parse(localStorage.getItem("ptoCommunicationDrafts")||"[]");g(k),n==="auto"&&setTimeout(()=>{C()},1e3)},[]);const C=async()=>{f(!0);try{const k=e.get("type")||"general";let T="";switch(k){case"newsletter":T="Monthly PTO newsletter with updates and announcements";break;default:T="PTO communication to members"}if(a===io.EMAIL){const I=await po.generateContent("subject",`Create an engaging email subject for: ${T}`,{mode:a,organization:"PTO"});I!=null&&I.content&&s(V=>({...V,subject:I.content}))}const $=await po.generateContent("content",`Write ${a} content for: ${T}`,{mode:a,organization:"PTO"});$!=null&&$.content&&s(I=>({...I,body:$.content})),ot.success("âœ¨ Stella has auto-generated your content! Review and customize as needed.")}catch(k){console.error("Auto-generation error:",k),ot.info("Stella is ready to help when you need content assistance!")}finally{f(!1)}},D=async()=>{if(!o.body.trim()){ot.error("Please add some content before sending");return}if(a===io.EMAIL&&!o.subject.trim()){ot.error("Please add a subject line for your email");return}try{const{data:{session:k}}=await We.auth.getSession();if(!k){ot.error("Please log in to send communications");return}ot.success(`${w.title} scheduled for sending!`),s({subject:"",body:"",recipients:[],scheduledFor:null})}catch(k){console.error("Send error:",k),ot.error("Failed to send communication")}};return l.jsx("div",{className:"min-h-screen bg-gray-50",children:l.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("button",{onClick:()=>t("/communications"),className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",children:l.jsx(GP,{className:"w-5 h-5"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Communication Composer"}),l.jsx("p",{className:"text-gray-600",children:"Create engaging communications with Stella's help"})]})]}),l.jsx("div",{className:"flex items-center space-x-3",children:l.jsxs("button",{onClick:()=>u(!c),className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors ${c?"bg-purple-100 text-purple-700 border border-purple-200":"bg-white text-gray-700 border border-gray-200 hover:bg-gray-50"}`,children:[l.jsx(wr,{className:"w-4 h-4"}),l.jsx("span",{children:"Stella Assistant"})]})})]}),l.jsx("div",{className:"bg-white rounded-lg p-4 mb-6 shadow-sm",children:l.jsx("div",{className:"flex items-center space-x-1",children:Object.entries(io).map(([k,T])=>{const $=_(T),I=$.icon,V=a===T;return l.jsxs("button",{onClick:()=>i(T),className:`flex items-center space-x-2 px-6 py-3 rounded-lg font-medium transition-all ${V?`bg-${$.color}-100 text-${$.color}-700 border border-${$.color}-200`:"text-gray-600 hover:bg-gray-50"}`,children:[l.jsx(I,{className:"w-5 h-5"}),l.jsx("span",{children:$.title})]},k)})})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[c&&l.jsx(N,{}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[l.jsx(A,{className:`w-6 h-6 text-${w.color}-600`}),l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:w.title})]}),l.jsxs("div",{className:"space-y-6",children:[w.showSubject&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject Line"}),l.jsx("input",{type:"text",value:o.subject,onChange:k=>O("subject",k.target.value),placeholder:"Enter your email subject...",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),w.showRecipients&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Recipients"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(ka,{className:"w-5 h-5 text-gray-400"}),l.jsxs("select",{className:"flex-1 p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[l.jsx("option",{children:"All PTO Members"}),l.jsx("option",{children:"Board Members Only"}),l.jsx("option",{children:"Volunteers"}),l.jsx("option",{children:"Parents"}),l.jsx("option",{children:"Teachers"}),l.jsx("option",{children:"Custom List..."})]})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Message Content",w.maxLength&&l.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["(",o.body.length,"/",w.maxLength," characters)"]})]}),l.jsx("textarea",{ref:b,value:o.body,onChange:k=>O("body",k.target.value),placeholder:w.placeholder,maxLength:w.maxLength,rows:a===io.SMS?4:12,className:"w-full p-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]})]})]}),l.jsx("div",{className:"border-t border-gray-200 p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsxs("button",{onClick:E,className:"flex items-center space-x-2 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:[l.jsx(VP,{className:"w-4 h-4"}),l.jsx("span",{children:"Save Draft"})]}),l.jsxs("button",{onClick:()=>x(!j),className:"flex items-center space-x-2 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:[l.jsx(Il,{className:"w-4 h-4"}),l.jsx("span",{children:"Preview"})]})]}),l.jsxs("button",{onClick:D,disabled:!o.body.trim()||w.showSubject&&!o.subject.trim(),className:`flex items-center space-x-2 px-6 py-2 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${w.color==="blue"?"bg-blue-600 hover:bg-blue-700":w.color==="green"?"bg-green-600 hover:bg-green-700":"bg-purple-600 hover:bg-purple-700"} text-white`,children:[l.jsx(ZN,{className:"w-4 h-4"}),l.jsxs("span",{children:["Send ",w.title]})]})]})})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Drafts"}),v.length>0?l.jsx("div",{className:"space-y-3",children:v.slice(0,5).map(k=>l.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>{i(k.mode),s(k.content)},children:[l.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:k.title}),l.jsx("div",{className:"text-xs text-gray-500 mt-1",children:new Date(k.createdAt).toLocaleDateString()})]},k.id))}):l.jsx("p",{className:"text-gray-500 text-sm",children:"No drafts saved yet"})]}),l.jsxs("div",{className:"bg-blue-50 rounded-lg p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"ðŸ’¡ Communication Tips"}),l.jsxs("ul",{className:"text-sm text-blue-800 space-y-2",children:[l.jsx("li",{children:"â€¢ Keep subject lines clear and engaging"}),l.jsx("li",{children:"â€¢ Include a clear call-to-action"}),l.jsx("li",{children:"â€¢ Use Stella for content inspiration"}),l.jsx("li",{children:"â€¢ Preview before sending"}),l.jsx("li",{children:"â€¢ Consider your audience's preferences"})]})]})]})]}),j&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h3",{className:"text-lg font-semibold",children:["Preview: ",w.title]}),l.jsx("button",{onClick:()=>x(!1),className:"text-gray-500 hover:text-gray-700",children:"âœ•"})]}),l.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[w.showSubject&&l.jsxs("div",{className:"mb-4",children:[l.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Subject:"}),l.jsx("div",{className:"font-semibold",children:o.subject||"No subject"})]}),l.jsx("div",{className:"whitespace-pre-wrap",children:o.body||"No content"})]})]})})})]})})};function ofe(){const[e,t]=R.useState([]),[r,n]=R.useState("");return R.useEffect(()=>{async function a(){const{data:{session:i}}=await We.auth.getSession();if(!(i!=null&&i.access_token)){n("Authentication required.");return}try{const o=await fetch("/api/teacher-requests",{headers:{Authorization:`Bearer ${i.access_token}`}}),s=await o.json();o.ok?t(s):n(s.error||"Failed to load teacher requests.")}catch(o){console.error("Fetch error:",o),n("Error connecting to server.")}}a()},[]),l.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h1",{className:"text-2xl font-bold",children:"Teacher Requests"}),l.jsx(mc,{to:"/teacher-requests/create",className:"bg-blue-600 text-white px-4 py-2 rounded",children:"+ New Request"})]}),r&&l.jsx("p",{className:"text-red-600",children:r}),e.length===0&&!r&&l.jsx("p",{children:"No teacher requests found."}),l.jsx("ul",{className:"space-y-4",children:e.map(a=>l.jsxs("li",{className:"border p-4 rounded shadow-sm bg-white",children:[l.jsx("h2",{className:"text-xl font-semibold",children:a.title}),l.jsxs("p",{className:"text-sm text-gray-500",children:["By ",a.teacher_name," (",a.grade_or_subject,")"]}),l.jsx("p",{className:"mt-2",children:a.description}),a.amount_requested&&l.jsxs("p",{className:"mt-2 text-blue-800 font-semibold",children:["Requested: $",parseFloat(a.amount_requested).toFixed(2)]})]},a.id))})]})}function sfe(){const[e,t]=R.useState({title:"",description:"",amount_requested:"",teacher_name:"",grade_or_subject:""}),[r,n]=R.useState(""),[a,i]=R.useState(""),o=c=>{const{name:u,value:d}=c.target;t(f=>({...f,[u]:d}))},s=async c=>{c.preventDefault();const{data:{session:u}}=await We.auth.getSession();if(!(u!=null&&u.access_token)){i("You must be logged in to submit a request.");return}try{const d=await fetch("/api/teacher-requests",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u.access_token}`},body:JSON.stringify(e)}),f=await d.json();d.ok?(n("Request submitted successfully!"),i(""),t({})):(i(f.error||"Failed to submit request"),n(""))}catch(d){console.error("Submit error:",d),i("Network error or server unavailable")}};return l.jsxs("div",{className:"max-w-xl mx-auto p-4",children:[l.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Submit Teacher Request"}),l.jsxs("form",{onSubmit:s,className:"space-y-4",children:[l.jsx("input",{name:"title",value:e.title||"",onChange:o,placeholder:"Title",className:"w-full border p-2",required:!0}),l.jsx("textarea",{name:"description",value:e.description||"",onChange:o,placeholder:"Description",className:"w-full border p-2"}),l.jsx("input",{type:"number",name:"amount_requested",value:e.amount_requested||"",onChange:o,placeholder:"Amount Requested",className:"w-full border p-2"}),l.jsx("input",{name:"teacher_name",value:e.teacher_name||"",onChange:o,placeholder:"Teacher Name",className:"w-full border p-2"}),l.jsx("input",{name:"grade_or_subject",value:e.grade_or_subject||"",onChange:o,placeholder:"Grade or Subject",className:"w-full border p-2"}),l.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded",type:"submit",children:"Submit"}),r&&l.jsx("p",{className:"text-green-600",children:r}),a&&l.jsx("p",{className:"text-red-600",children:a})]})]})}function lfe(){const[e,t]=R.useState(!1),[r,n]=R.useState(""),[a,i]=R.useState("monthly"),o=async()=>{var s;t(!0),n("");try{const u=(s=(await We.auth.getSession()).data.session)==null?void 0:s.access_token;if(!u){n("User session not found."),t(!1);return}const d=await fetch("https://api.ptoconnect.com/api/api/stripe/create-checkout-session",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`},body:JSON.stringify({plan:a})});if(!d.ok){const p=await d.text();throw console.error("Stripe error response:",p),new Error("Stripe request failed.")}const f=await d.json();f!=null&&f.url?window.location.href=f.url:n("Checkout session failed to start.")}catch(c){console.error("Checkout error:",c),n("An error occurred during checkout.")}finally{t(!1)}};return l.jsxs("div",{className:"max-w-xl mx-auto p-6",children:[l.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Start Your PTO Connect Subscription"}),l.jsx("p",{className:"mb-4",children:"Subscribe now to unlock all features for your PTO group."}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block font-medium mb-1",children:"Choose a plan:"}),l.jsxs("select",{className:"border p-2 rounded w-full",value:a,onChange:s=>i(s.target.value),children:[l.jsx("option",{value:"monthly",children:"Monthly - $29/month"}),l.jsx("option",{value:"annual",children:"Annual - $299/year"})]})]}),l.jsx("button",{onClick:o,disabled:e,className:"bg-blue-600 text-white px-4 py-2 rounded",children:e?"Redirectingâ€¦":"Subscribe Now"}),r&&l.jsx("p",{className:"text-red-600 mt-4",children:r})]})}function cfe(){return l.jsxs("div",{className:"max-w-xl mx-auto p-6 text-center",children:[l.jsx("h1",{className:"text-2xl font-bold text-green-600 mb-4",children:"Subscription Successful!"}),l.jsx("p",{className:"text-gray-700",children:"Thank you for subscribing to PTO Connect. Your account is now active."})]})}function ufe(){return l.jsxs("div",{className:"max-w-xl mx-auto p-6 text-center",children:[l.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Checkout Canceled"}),l.jsx("p",{className:"text-gray-700",children:"You canceled the checkout process. No charges were made."})]})}function dfe(){const[e,t]=R.useState(""),[r,n]=R.useState(""),[a,i]=R.useState(""),[o,s]=R.useState(""),c=mr(),u=()=>{if(s(""),!e||!r){s("PTO Name and School Name are required.");return}const d={ptoName:e,schoolName:r,districtName:a};sessionStorage.setItem("pendingPto",JSON.stringify(d)),c("/onboarding/pricing")};return l.jsxs("div",{className:"max-w-xl mx-auto p-6",children:[l.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Create Your PTO"}),l.jsx("p",{className:"text-gray-700 mb-6",children:"Let's start by getting your organization set up. Enter your PTO's info below."}),l.jsx("input",{className:"border p-2 w-full mb-4",type:"text",placeholder:"PTO Name",value:e,onChange:d=>t(d.target.value)}),l.jsx("input",{className:"border p-2 w-full mb-4",type:"text",placeholder:"School Name",value:r,onChange:d=>n(d.target.value)}),l.jsx("input",{className:"border p-2 w-full mb-4",type:"text",placeholder:"District Name (optional)",value:a,onChange:d=>i(d.target.value)}),l.jsx("button",{onClick:u,className:"bg-blue-600 text-white px-4 py-2 rounded w-full",children:"Continue to Plan Selection"}),o&&l.jsx("p",{className:"text-red-600 mt-4",children:o})]})}function ffe(){const[e,t]=R.useState(null),[r,n]=R.useState([]),[a,i]=R.useState("");mr(),R.useEffect(()=>{const s=sessionStorage.getItem("pendingPto");s?t(JSON.parse(s)):i("Missing PTO info. Please start again."),fetch("/api/stripe/get-prices").then(c=>c.json()).then(n).catch(()=>i("Could not load pricing. Please try again."))},[]);const o=async(s,c)=>{try{const d=await(await fetch("/api/stripe/create-checkout-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({priceId:s,ptoMetadata:e,plan:c==="annual_plan"?"annual":"monthly"})})).json();d.url?window.location.href=d.url:i("Unable to start checkout session.")}catch{i("Stripe checkout error.")}};return l.jsxs("div",{className:"max-w-xl mx-auto p-6",children:[l.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Choose Your Plan"}),a&&l.jsx("p",{className:"text-red-600 mb-4",children:a}),l.jsx("div",{className:"space-y-4",children:r.map(s=>l.jsxs("button",{onClick:()=>o(s.id,s.lookup_key),className:"w-full py-3 rounded bg-blue-600 text-white hover:bg-blue-700",children:[s.nickname||s.lookup_key," â€“ $",s.amount,"/",s.interval]},s.id))})]})}function hfe(){const[e]=nS(),t=mr(),[r,n]=R.useState({adminName:"",adminEmail:"",adminPassword:"",confirmPassword:""}),[a,i]=R.useState(null),[o,s]=R.useState(!1),[c,u]=R.useState("");R.useEffect(()=>{const p=e.get("session_id"),h=sessionStorage.getItem("pendingPto");if(!h){u("Missing PTO information. Please start the signup process again.");return}i(JSON.parse(h)),p&&sessionStorage.setItem("stripeSessionId",p)},[e]);const d=p=>{n({...r,[p.target.name]:p.target.value})},f=async p=>{if(p.preventDefault(),u(""),s(!0),!r.adminName||!r.adminEmail||!r.adminPassword){u("All fields are required."),s(!1);return}if(r.adminPassword!==r.confirmPassword){u("Passwords do not match."),s(!1);return}if(r.adminPassword.length<6){u("Password must be at least 6 characters."),s(!1);return}try{const h=sessionStorage.getItem("stripeSessionId"),v=await ln.post("/signup/complete",{ptoName:a.ptoName,schoolName:a.schoolName,adminName:r.adminName,adminEmail:r.adminEmail,adminPassword:r.adminPassword,stripeSessionId:h});v.success?(sessionStorage.removeItem("pendingPto"),sessionStorage.removeItem("stripeSessionId"),t("/onboarding/next-steps",{state:{organization:v.organization}})):u(v.error||"Failed to create account.")}catch(h){console.error("Signup error:",h),u("Failed to create account. Please try again.")}finally{s(!1)}};return a?l.jsxs("div",{className:"max-w-md mx-auto p-6",children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Complete Your Setup"}),l.jsxs("p",{className:"text-gray-600",children:["Creating ",l.jsx("strong",{children:a.ptoName})," at ",a.schoolName]})]}),l.jsxs("form",{onSubmit:f,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Full Name"}),l.jsx("input",{type:"text",name:"adminName",value:r.adminName,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your full name",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),l.jsx("input",{type:"email",name:"adminEmail",value:r.adminEmail,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your email",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),l.jsx("input",{type:"password",name:"adminPassword",value:r.adminPassword,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Create a password",minLength:"6",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),l.jsx("input",{type:"password",name:"confirmPassword",value:r.confirmPassword,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Confirm your password",minLength:"6",required:!0})]}),c&&l.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:c}),l.jsx("button",{type:"submit",disabled:o,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Creating Account...":"Complete Setup"})]}),l.jsx("div",{className:"mt-6 text-center text-sm text-gray-500",children:l.jsx("p",{children:"By creating an account, you agree to our Terms of Service and Privacy Policy."})})]}):l.jsxs("div",{className:"max-w-md mx-auto p-6 text-center",children:[l.jsx("h1",{className:"text-2xl font-bold mb-4 text-red-600",children:"Setup Error"}),l.jsx("p",{className:"text-gray-700 mb-4",children:"Missing PTO information. Please start the signup process again."}),l.jsx("button",{onClick:()=>t("/onboarding/create-pto"),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Start Over"})]})}function pfe(){const e=mr(),[t,r]=R.useState({ptoName:"",schoolName:"",adminName:"",adminEmail:"",adminPassword:"",confirmPassword:""}),[n,a]=R.useState(!1),[i,o]=R.useState(""),[s,c]=R.useState(null),u=f=>{r({...t,[f.target.name]:f.target.value})},d=async f=>{var p;if(f.preventDefault(),o(""),a(!0),!t.ptoName||!t.schoolName||!t.adminName||!t.adminEmail||!t.adminPassword){o("All fields are required."),a(!1);return}if(t.adminPassword!==t.confirmPassword){o("Passwords do not match."),a(!1);return}if(t.adminPassword.length<6){o("Password must be at least 6 characters."),a(!1);return}try{const h=await ln.post("/signup/complete",{ptoName:t.ptoName,schoolName:t.schoolName,adminName:t.adminName,adminEmail:t.adminEmail,adminPassword:t.adminPassword});h.data&&h.data.success?(c(h.data.organization),o("")):o(((p=h.data)==null?void 0:p.error)||"Failed to create account.")}catch(h){console.error("Signup error:",h),o("Failed to create account. Please try again.")}finally{a(!1)}};return s?l.jsxs("div",{className:"max-w-md mx-auto p-6 text-center",children:[l.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6 mb-6",children:[l.jsx("h1",{className:"text-2xl font-bold text-green-800 mb-4",children:"Success! ðŸŽ‰"}),l.jsxs("p",{className:"text-green-700 mb-4",children:["Your organization ",l.jsx("strong",{children:s.name})," has been created successfully!"]}),l.jsxs("div",{className:"bg-white border border-green-300 rounded p-4 mb-4",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Your signup code:"}),l.jsx("p",{className:"text-lg font-mono font-bold text-green-800",children:s.signup_code})]}),l.jsx("p",{className:"text-sm text-green-600",children:"Share this code with other members to join your organization."})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("button",{onClick:()=>e("/login"),className:"w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700",children:"Go to Login"}),l.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-gray-200 text-gray-800 py-2 px-4 rounded hover:bg-gray-300",children:"Create Another Organization"})]})]}):l.jsxs("div",{className:"max-w-md mx-auto p-6",children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Create Your PTO Organization"}),l.jsx("p",{className:"text-gray-600",children:"Set up your PTO and create your admin account"})]}),l.jsxs("form",{onSubmit:d,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"PTO Name"}),l.jsx("input",{type:"text",name:"ptoName",value:t.ptoName,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Lincoln Elementary PTO",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"School Name"}),l.jsx("input",{type:"text",name:"schoolName",value:t.schoolName,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Lincoln Elementary School",required:!0})]}),l.jsx("hr",{className:"my-4"}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Full Name"}),l.jsx("input",{type:"text",name:"adminName",value:t.adminName,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your full name",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),l.jsx("input",{type:"email",name:"adminEmail",value:t.adminEmail,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your email",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),l.jsx("input",{type:"password",name:"adminPassword",value:t.adminPassword,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Create a password",minLength:"6",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),l.jsx("input",{type:"password",name:"confirmPassword",value:t.confirmPassword,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Confirm your password",minLength:"6",required:!0})]}),i&&l.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:i}),l.jsx("button",{type:"submit",disabled:n,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Creating Organization...":"Create Organization"})]}),l.jsxs("div",{className:"mt-6 text-center text-sm text-gray-500",children:[l.jsx("p",{children:"This will create a trial organization (14 days)"}),l.jsxs("p",{className:"mt-2",children:["Already have an account? ",l.jsx("a",{href:"/login",className:"text-blue-600 hover:underline",children:"Login here"})]})]})]})}function mfe(){var o;const e=tS(),t=mr(),[r,n]=R.useState(!1),a=(o=e.state)==null?void 0:o.organization,i=()=>{a!=null&&a.signup_code&&(navigator.clipboard.writeText(a.signup_code),n(!0),setTimeout(()=>n(!1),2e3))};return a?l.jsxs("div",{className:"max-w-2xl mx-auto p-6",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx(Kn,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome to PTO Connect!"}),l.jsxs("p",{className:"text-lg text-gray-600",children:["Your organization ",l.jsx("strong",{children:a.name})," has been successfully created."]})]}),l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-8",children:[l.jsx("h2",{className:"text-xl font-semibold text-blue-900 mb-4",children:"Your Organization Details"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-blue-800",children:"Organization Name:"}),l.jsx("span",{className:"ml-2 text-blue-700",children:a.name})]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-blue-800",children:"Organization ID:"}),l.jsx("span",{className:"ml-2 text-blue-700 font-mono text-sm",children:a.slug})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:"font-medium text-blue-800",children:"Signup Code:"}),l.jsx("span",{className:"ml-2 text-blue-700 font-mono text-lg font-bold",children:a.signup_code}),l.jsx("button",{onClick:i,className:"ml-2 p-1 text-blue-600 hover:text-blue-800",title:"Copy signup code",children:l.jsx(XN,{className:"w-4 h-4"})}),r&&l.jsx("span",{className:"ml-2 text-green-600 text-sm",children:"Copied!"})]})]})]}),l.jsxs("div",{className:"mb-8",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Next Steps to Get Started"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-gray-50 rounded-lg",children:[l.jsx(ka,{className:"w-6 h-6 text-blue-600 mt-1"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:"Invite Your Team"}),l.jsxs("p",{className:"text-gray-600 text-sm",children:["Share your signup code ",l.jsx("strong",{children:a.signup_code})," with other PTO members, teachers, and parents so they can join your organization."]})]})]}),l.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-gray-50 rounded-lg",children:[l.jsx(eS,{className:"w-6 h-6 text-blue-600 mt-1"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:"Configure Your Settings"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"Set up your organization preferences, communication settings, and user roles."})]})]}),l.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-gray-50 rounded-lg",children:[l.jsx(ri,{className:"w-6 h-6 text-blue-600 mt-1"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:"Create Your First Event"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"Start engaging your community by creating your first PTO event or meeting."})]})]})]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[l.jsx("button",{onClick:()=>t("/login"),className:"flex-1 bg-blue-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"Go to Dashboard"}),l.jsx("button",{onClick:()=>t("/onboarding/create-pto"),className:"flex-1 bg-gray-200 text-gray-800 py-3 px-6 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Create Another PTO"})]}),l.jsxs("div",{className:"mt-8 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[l.jsx("h3",{className:"font-semibold text-yellow-800 mb-2",children:"Need Help?"}),l.jsx("p",{className:"text-yellow-700 text-sm",children:"Check out our getting started guide or contact support if you need assistance setting up your PTO organization."})]})]}):l.jsxs("div",{className:"max-w-md mx-auto p-6 text-center",children:[l.jsx("h1",{className:"text-2xl font-bold mb-4 text-red-600",children:"Setup Error"}),l.jsx("p",{className:"text-gray-700 mb-4",children:"Missing organization information. Please complete the signup process."}),l.jsx("button",{onClick:()=>t("/onboarding/create-pto"),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Start Setup"})]})}function gfe(){return l.jsxs(XP,{children:[l.jsx(Ue,{path:"/",element:l.jsx(p1,{})}),l.jsx(Ue,{path:"/login",element:l.jsx(p1,{})}),l.jsx(Ue,{path:"/signup",element:l.jsx(O6,{})}),l.jsx(Ue,{path:"/unauthorized",element:l.jsx(P6,{})}),l.jsx(Ue,{path:"/onboarding/create-pto",element:l.jsx(dfe,{})}),l.jsx(Ue,{path:"/onboarding/pricing",element:l.jsx(ffe,{})}),l.jsx(Ue,{path:"/onboarding/complete-signup",element:l.jsx(hfe,{})}),l.jsx(Ue,{path:"/onboarding/simple-signup",element:l.jsx(pfe,{})}),l.jsx(Ue,{path:"/onboarding/next-steps",element:l.jsx(mfe,{})}),l.jsx(Ue,{path:"/billing/success",element:l.jsx(cfe,{})}),l.jsx(Ue,{path:"/billing/cancel",element:l.jsx(ufe,{})}),l.jsx(Ue,{element:l.jsx(zo,{allowedRoles:["admin","board_member","committee_lead","volunteer","parent_member","teacher"]}),children:l.jsx(Ue,{element:l.jsx(qo,{}),children:l.jsx(Ue,{path:"/dashboard",element:l.jsx(T6,{})})})}),l.jsx(Ue,{element:l.jsx(zo,{allowedRoles:["admin"]}),children:l.jsxs(Ue,{element:l.jsx(qo,{}),children:[l.jsx(Ue,{path:"/dashboard/admin",element:l.jsx(Gg,{})}),l.jsx(Ue,{path:"/admin/permissions",element:l.jsx(z6,{})}),l.jsx(Ue,{path:"/admin/users",element:l.jsx(Gg,{})}),l.jsx(Ue,{path:"/admin/settings",element:l.jsx(Gg,{})}),l.jsx(Ue,{path:"/billing",element:l.jsx(lfe,{})}),l.jsx(Ue,{path:"/events",element:l.jsx(J2,{})}),l.jsx(Ue,{path:"/events/legacy",element:l.jsx(J2,{})}),l.jsx(Ue,{path:"/events/create",element:l.jsx(jG,{})}),l.jsx(Ue,{path:"/events/create-enhanced",element:l.jsx(OG,{})}),l.jsx(Ue,{path:"/events/:eventId/workflow",element:l.jsx(PG,{})}),l.jsx(Ue,{path:"/events/edit/:id",element:l.jsx(EG,{})}),l.jsx(Ue,{path:"/events/calendar",element:l.jsx(CG,{})}),l.jsx(Ue,{path:"/events/detail/:id",element:l.jsx(LG,{})}),l.jsx(Ue,{path:"/fundraisers",element:l.jsx(wue,{})}),l.jsx(Ue,{path:"/fundraisers/create",element:l.jsx(DO,{})}),l.jsx(Ue,{path:"/fundraisers/:id/edit",element:l.jsx(jue,{})}),l.jsx(Ue,{path:"/fundraisers/:id/analytics",element:l.jsx($O,{})}),l.jsx(Ue,{path:"/budget",element:l.jsx(Sue,{})}),l.jsx(Ue,{path:"/budget/legacy",element:l.jsx(Nue,{})}),l.jsx(Ue,{path:"/budget/create",element:l.jsx(_ue,{})}),l.jsx(Ue,{path:"/budget/reconciliation",element:l.jsx(Aue,{})}),l.jsx(Ue,{path:"/budget/reconciliation/new",element:l.jsx(Ude,{})}),l.jsx(Ue,{path:"/budget/reconciliation/:id",element:l.jsx(qO,{})}),l.jsx(Ue,{path:"/communications",element:l.jsx(Vde,{})}),l.jsx(Ue,{path:"/communications/legacy",element:l.jsx(Gde,{})}),l.jsx(Ue,{path:"/communications/create",element:l.jsx(Yde,{})}),l.jsx(Ue,{path:"/communications/email",element:l.jsx(gh,{})}),l.jsx(Ue,{path:"/communications/sms",element:l.jsx(Kde,{})}),l.jsx(Ue,{path:"/communications/social",element:l.jsx(Xde,{})}),l.jsx(Ue,{path:"/communications/ai",element:l.jsx(gh,{})}),l.jsx(Ue,{path:"/communications/design-studio",element:l.jsx(gh,{})}),l.jsx(Ue,{path:"/communications/template-builder",element:l.jsx(gh,{})}),l.jsx(Ue,{path:"/documents",element:l.jsx(Zde,{})}),l.jsx(Ue,{path:"/documents/upload",element:l.jsx(efe,{})}),l.jsx(Ue,{path:"/shared-library",element:l.jsx(rfe,{})}),l.jsx(Ue,{path:"/ai-event-ideas",element:l.jsx(nfe,{})}),l.jsx(Ue,{path:"/ai-workflow-orchestrator",element:l.jsx(ife,{})})]})}),l.jsx(Ue,{element:l.jsx(zo,{allowedRoles:["teacher"]}),children:l.jsxs(Ue,{element:l.jsx(qo,{}),children:[l.jsx(Ue,{path:"/dashboard/teacher",element:l.jsx(G6,{})}),l.jsx(Ue,{path:"/teacher-requests",element:l.jsx(ofe,{})}),l.jsx(Ue,{path:"/teacher-requests/create",element:l.jsx(sfe,{})})]})}),l.jsx(Ue,{element:l.jsx(zo,{allowedRoles:["board_member"]}),children:l.jsx(Ue,{element:l.jsx(qo,{}),children:l.jsx(Ue,{path:"/dashboard/board",element:l.jsx(q6,{})})})}),l.jsx(Ue,{element:l.jsx(zo,{allowedRoles:["committee_lead"]}),children:l.jsx(Ue,{element:l.jsx(qo,{}),children:l.jsx(Ue,{path:"/dashboard/committee",element:l.jsx(U6,{})})})}),l.jsx(Ue,{element:l.jsx(zo,{allowedRoles:["volunteer"]}),children:l.jsx(Ue,{element:l.jsx(qo,{}),children:l.jsx(Ue,{path:"/dashboard/volunteer",element:l.jsx(W6,{})})})}),l.jsx(Ue,{element:l.jsx(zo,{allowedRoles:["parent_member"]}),children:l.jsx(Ue,{element:l.jsx(qo,{}),children:l.jsx(Ue,{path:"/dashboard/parent",element:l.jsx(H6,{})})})})]})}Uv.createRoot(document.getElementById("root")).render(l.jsx(U.StrictMode,{children:l.jsx(JP,{children:l.jsx(gfe,{})})}));export{Zo as _};
//# sourceMappingURL=index-Cg2QTQ8b.js.map
