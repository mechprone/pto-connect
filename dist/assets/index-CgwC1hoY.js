const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index.es-BNzm45uB.js","assets/react-vendor-Cx5d5nzo.js","assets/ui-vendor-CIKkj9b7.js","assets/supabase-BqcIUn8s.js","assets/data-vendor-Dw5CpOuB.js"])))=>i.map(i=>d[i]);
import{j as l,L as vP,B as yP,C as jn,S as Vt,Z as Iv,a as Fy,U as ra,D as Zn,b as FN,G as BN,c as qN,d as bP,E as ds,e as zu,T as xP,R as n1,M as Qa,f as Uu,g as Ol,h as By,i as zN,k as Dl,A as UN,l as wP,m as WN,n as GN,P as a1,o as Se,p as jP,F as NP,q as SP,r as _P,s as AP,t as HN,u as OP,v as PP,w as EP,x as kP,y as TP,z as CP,H as i1,I as o1,J as Si,K as xl,N as s1,O as l1,Q as VN,V as YN,W as LP,X as MP,Y as $P}from"./ui-vendor-CIKkj9b7.js";import{b as DP,r as F,N as zg,O as qy,u as gr,d as KN,L as Oa,e as mc,g as wt,f as q,c as Qn,h as XN,i as JN,j as IP,k as Ue,B as RP}from"./react-vendor-Cx5d5nzo.js";import{c as FP,_ as Rv}from"./supabase-BqcIUn8s.js";import{a as Za}from"./data-vendor-Dw5CpOuB.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Fv={},c1=DP;Fv.createRoot=c1.createRoot,Fv.hydrateRoot=c1.hydrateRoot;const BP="https://dakyetfomciihdiuwrbx.supabase.co",qP="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRha3lldGZvbWNpaWhkaXV3cmJ4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwODgzNDYsImV4cCI6MjA2MzY2NDM0Nn0.ylHsHeu-XoB2SRA4YDCLThjFk-Lq8jyK2RnsWk1JBiw",He=FP(BP,qP);function xo(){const[e,t]=F.useState(null),[r,n]=F.useState(null),[a,i]=F.useState(!0),[o,s]=F.useState(null);return F.useEffect(()=>{const h=async()=>{try{i(!0),s(null);const{data:{user:g},error:y}=await He.auth.getUser();if(y)throw y;if(!g){t(null),n(null),i(!1);return}const{data:x,error:w}=await He.from("profiles").select("*").eq("id",g.id).single();if(w)throw w;t(x);let N=null;if(x!=null&&x.org_id){const{data:_,error:b}=await He.from("organizations").select("*").eq("id",x.org_id).single();b||(N=_)}n(N)}catch(g){console.error("Error fetching user profile:",g),s(g.message)}finally{i(!1)}};h();const{data:{subscription:v}}=He.auth.onAuthStateChange((g,y)=>{g==="SIGNED_OUT"?(t(null),n(null)):g==="SIGNED_IN"&&y&&h()});return()=>v.unsubscribe()},[]),{profile:e,organization:r,loading:a,error:o,updateProfile:async h=>{try{const{data:v,error:g}=await He.from("profiles").update(h).eq("id",e.id).select().single();if(g)throw g;return t(y=>({...y,...v})),{data:v,error:null}}catch(v){return console.error("Error updating profile:",v),{data:null,error:v.message}}},hasRole:h=>(e==null?void 0:e.role)===h,hasAnyRole:h=>h.includes(e==null?void 0:e.role),isSubscriptionActive:()=>{if(!r)return!1;const{subscription_status:h,trial_ends_at:v}=r;return h==="active"||h==="trial"&&v&&new Date(v)>new Date},showRenewalBanner:()=>{if(!r)return!1;const{plan_type:h,subscription_status:v,cancel_at_period_end:g,current_period_end:y}=r;return!!(h==="annual"&&v==="active"&&g&&y&&new Date(y)-new Date<15*24*60*60*1e3)},isAuthenticated:!!e}}function zy({size:e="default",className:t=""}){const r={small:"h-4 w-4",default:"h-6 w-6",large:"h-8 w-8"};return l.jsx("div",{className:"flex items-center justify-center",children:l.jsx(vP,{className:`animate-spin text-blue-600 ${r[e]} ${t}`})})}function Bo({allowedRoles:e}){const{profile:t,loading:r,isAuthenticated:n,isSubscriptionActive:a}=xo();return r?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx(zy,{size:"xl"})}):n?e&&!e.includes(t.role)?l.jsx(zg,{to:"/unauthorized",replace:!0}):!a()&&window.location.pathname!=="/billing"?l.jsx(zg,{to:"/billing",replace:!0}):l.jsx(qy,{}):l.jsx(zg,{to:"/login",replace:!0})}const ln=Za.create({baseURL:"https://api.ptoconnect.com/api",timeout:3e4,headers:{"Content-Type":"application/json"}});ln.interceptors.request.use(async e=>{console.log("🔍 [FRONTEND DEBUG] API Request interceptor started"),console.log("🔍 [FRONTEND DEBUG] Request URL:",e.url),console.log("🔍 [FRONTEND DEBUG] Request method:",e.method);try{const{data:{session:t}}=await He.auth.getSession();console.log("🔍 [FRONTEND DEBUG] Session retrieved:",!!t),console.log("🔍 [FRONTEND DEBUG] Access token present:",!!(t!=null&&t.access_token)),t!=null&&t.access_token?(e.headers.Authorization=`Bearer ${t.access_token}`,console.log("🔍 [FRONTEND DEBUG] Auth header set, token length:",t.access_token.length)):console.warn("⚠️ [FRONTEND DEBUG] No access token found in session")}catch(t){console.error("❌ [FRONTEND DEBUG] Error getting session:",t)}return console.log("🔍 [FRONTEND DEBUG] Final request headers:",e.headers),e},e=>(console.error("❌ [FRONTEND DEBUG] Request interceptor error:",e),Promise.reject(e)));ln.interceptors.response.use(e=>(console.log("✅ [FRONTEND DEBUG] API Response received:",{url:e.config.url,status:e.status,statusText:e.statusText,dataKeys:Object.keys(e.data||{})}),e),e=>{var t,r,n,a,i;return console.error("❌ [FRONTEND DEBUG] API Response error:",{url:(t=e.config)==null?void 0:t.url,status:(r=e.response)==null?void 0:r.status,statusText:(n=e.response)==null?void 0:n.statusText,errorData:(a=e.response)==null?void 0:a.data,errorMessage:e.message}),((i=e.response)==null?void 0:i.status)===401&&(console.warn("🚫 [FRONTEND DEBUG] Unauthorized - redirecting to login"),window.location.href="/login"),Promise.reject(e)});const mt=async(e,t,r=null,n={})=>{var a,i;try{return{data:(await ln({method:e,url:t,data:r,...n})).data,error:null}}catch(o){return console.error(`API Error (${e} ${t}):`,o),{data:null,error:((i=(a=o.response)==null?void 0:a.data)==null?void 0:i.message)||o.message||"An error occurred"}}},zP={getEvents:()=>mt("GET","/event"),getEvent:e=>mt("GET",`/event/${e}`),createEvent:e=>mt("POST","/event",e),updateEvent:(e,t)=>mt("PUT",`/event/${e}`,t),deleteEvent:e=>mt("DELETE",`/event/${e}`),rsvpEvent:(e,t)=>mt("POST",`/event/${e}/rsvp`,{status:t}),getEventRSVPs:e=>mt("GET",`/event/${e}/rsvps`)},Ea={getFundraisers:()=>mt("GET","/fundraiser"),getFundraiser:e=>mt("GET",`/fundraiser/${e}`),createFundraiser:e=>mt("POST","/fundraiser",e),updateFundraiser:(e,t)=>mt("PUT",`/fundraiser/${e}`,t),deleteFundraiser:e=>mt("DELETE",`/fundraiser/${e}`),getDonations:e=>mt("GET",`/fundraiser/${e}/donations`),getFundraiserAnalytics:(e,t)=>mt("GET",`/fundraiser/${e}/analytics${t?`?${new URLSearchParams(t)}`:""}`),getAllFundraisersAnalytics:e=>mt("GET",`/fundraiser/analytics${e?`?${new URLSearchParams(e)}`:""}`),getAnalyticsOverview:e=>mt("GET",`/fundraiser/analytics/overview${e?`?${new URLSearchParams(e)}`:""}`),getAnalyticsTrends:e=>mt("GET",`/fundraiser/analytics/trends${e?`?${new URLSearchParams(e)}`:""}`),getAnalyticsDonorRetention:e=>mt("GET",`/fundraiser/analytics/donor-retention${e?`?${new URLSearchParams(e)}`:""}`),getAnalyticsCampaigns:e=>mt("GET",`/fundraiser/analytics/campaigns${e?`?${new URLSearchParams(e)}`:""}`),addDonation:(e,t)=>mt("POST","/fundraiser/analytics/donations",{...t,fundraiser_id:e}),getFundraiserTopDonor:e=>mt("GET",`/fundraiser/${e}/top-donor`),getDonationTiers:e=>mt("GET",`/fundraiser/${e}/tiers`),createDonationTier:(e,t)=>mt("POST",`/fundraiser/${e}/tiers`,t),updateDonationTier:(e,t,r)=>mt("PUT",`/fundraiser/${e}/tiers/${t}`,r),deleteDonationTier:(e,t)=>mt("DELETE",`/fundraiser/${e}/tiers/${t}`),getAnalyticsYears:()=>mt("GET","/fundraiser/analytics/years"),getDonorYears:()=>mt("GET","/fundraiser/donors/years"),getDonorData:(e,t,r,n)=>mt("GET",`/fundraiser/donors${t||r||n?`?${new URLSearchParams({year:t,fundraiserId:r,type:n})}`:""}`),getDonorTypes:()=>mt("GET","/fundraiser/donor-types")},ho={generateEventIdeas:e=>mt("POST","/event-ideas",{prompt:e}),generateContent:(e,t,r,n=!1)=>mt("POST","/ai/generate",{type:e,prompt:t,context:r,includeRecommendations:n}),analyzeContext:(e,t="general")=>mt("POST","/ai/analyze-context",{orgId:e,analysisType:t}),analyzeEventWorkflow:(e,t)=>mt("POST","/ai/analyze-event-workflow",{eventData:e,orgId:t}),analyzeDocument:e=>mt("POST",`/ai/analyze-document/${e}`),chatWithDocuments:e=>mt("POST","/ai/chat",{query:e}),generateComprehensiveWorkflow:(e,t,r)=>mt("POST","/stella/generate-comprehensive-workflow",{eventData:e,stellaContext:t,moduleIntegrations:r}),getWorkflowDetails:e=>mt("GET",`/stella/workflow/${e}`),listWorkflows:()=>mt("GET","/stella/workflows")};function ZN(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=ZN(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function gt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=ZN(e))&&(n&&(n+=" "),n+=t);return n}function UP(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}UP(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Uy=e=>typeof e=="number"&&!isNaN(e),Wu=e=>typeof e=="string",QN=e=>typeof e=="function",WP=e=>Wu(e)||Uy(e),GP=e=>F.isValidElement(e)||Wu(e)||QN(e)||Uy(e),HP=1,eS=()=>`${HP++}`,ni=new Map,Bv=[],u1=new Set,tS=()=>ni.size>0,VP=(e,{containerId:t})=>{var r;return(r=ni.get(t||1))==null?void 0:r.toasts.get(e)};function YP(e,t){var r;if(t)return!!((r=ni.get(t))!=null&&r.isToastActive(e));let n=!1;return ni.forEach(a=>{a.isToastActive(e)&&(n=!0)}),n}function KP(e){if(!tS()){Bv=Bv.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||WP(e))ni.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=ni.get(e.containerId);t?t.removeToast(e.id):ni.forEach(r=>{r.removeToast(e.id)})}}var XP=(e={})=>{ni.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function JP(e,t){GP(e)&&(tS()||Bv.push({content:e,options:t}),ni.forEach(r=>{r.buildToast(e,t)}))}function rS(e,t){ni.forEach(r=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===r.id)&&r.toggle(e,t==null?void 0:t.id)})}function ZP(e){return u1.add(e),()=>{u1.delete(e)}}function QP(e){return e&&(Wu(e.toastId)||Uy(e.toastId))?e.toastId:eS()}function zd(e,t){return JP(e,t),t.toastId}function Rp(e,t){return{...t,type:t&&t.type||e,toastId:QP(t)}}function Fp(e){return(t,r)=>zd(t,Rp(e,r))}function nt(e,t){return zd(e,Rp("default",t))}nt.loading=(e,t)=>zd(e,Rp("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function e6(e,{pending:t,error:r,success:n},a){let i;t&&(i=Wu(t)?nt.loading(t,a):nt.loading(t.render,{...a,...t}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},s=(u,d,f)=>{if(d==null){nt.dismiss(i);return}let p={type:u,...o,...a,data:f},h=Wu(d)?{render:d}:d;return i?nt.update(i,{...p,...h}):nt(h.render,{...p,...h}),f},c=QN(e)?e():e;return c.then(u=>s("success",n,u)).catch(u=>s("error",r,u)),c}nt.promise=e6;nt.success=Fp("success");nt.info=Fp("info");nt.error=Fp("error");nt.warning=Fp("warning");nt.warn=nt.warning;nt.dark=(e,t)=>zd(e,Rp("default",{theme:"dark",...t}));function t6(e){KP(e)}nt.dismiss=t6;nt.clearWaitingQueue=XP;nt.isActive=YP;nt.update=(e,t={})=>{let r=VP(e,t);if(r){let{props:n,content:a}=r,i={delay:100,...n,...t,toastId:t.toastId||e,updateId:eS()};i.toastId!==e&&(i.staleId=e);let o=i.render||a;delete i.render,zd(o,i)}};nt.done=e=>{nt.update(e,{progress:1})};nt.onChange=ZP;nt.play=e=>rS(!0,e);nt.pause=e=>rS(!1,e);const ka=(e,t="An error occurred")=>(console.error("Error:",e),nt.error(t),!1),fs=(e="Operation successful")=>(nt.success(e),!0);function r6(){const[e,t]=F.useState([]),[r,n]=F.useState(!1),[a,i]=F.useState(null),[o,s]=F.useState(!1),c=async()=>{try{n(!0);const{data:f}=await ln.get("/notifications");t(f),i(null)}catch(f){i("Failed to fetch notifications"),ka(f,"Failed to fetch notifications")}finally{n(!1)}},u=async f=>{try{n(!0),await ln.put(`/notifications/${f}/read`),t(e.map(p=>p.id===f?{...p,read:!0}:p)),fs("Notification marked as read")}catch(p){ka(p,"Failed to update notification")}finally{n(!1)}},d=async()=>{try{n(!0),await ln.delete("/notifications/clear-all"),t([]),fs("All notifications cleared")}catch(f){ka(f,"Failed to clear notifications")}finally{n(!1)}};return F.useEffect(()=>{c()},[]),r?l.jsx(zy,{size:"sm"}):l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>s(!o),className:"p-2 rounded-full hover:bg-gray-100 focus:outline-none",children:[l.jsx(yP,{className:"h-6 w-6 text-gray-600"}),e.length>0&&l.jsx("span",{className:"absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white transform translate-x-1/2 -translate-y-1/2 bg-red-500 rounded-full",children:e.length})]}),o&&l.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg z-50",children:[l.jsx("div",{className:"p-4 border-b",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Notifications"}),e.length>0&&l.jsx("button",{onClick:d,className:"text-sm text-gray-500 hover:text-gray-700",children:"Clear all"})]})}),l.jsx("div",{className:"max-h-96 overflow-y-auto",children:e.length===0?l.jsx("div",{className:"p-4 text-center text-gray-500",children:"No notifications"}):e.map(f=>l.jsxs("div",{className:`p-4 border-b hover:bg-gray-50 cursor-pointer ${f.read?"":"bg-blue-50"}`,onClick:()=>u(f.id),children:[l.jsx("p",{className:"text-sm",children:f.message}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(f.created_at).toLocaleString()})]},f.id))})]})]})}function n6(){const e=gr(),t=async()=>{await He.auth.signOut(),localStorage.removeItem("access_token"),e("/login")};return l.jsx("button",{onClick:t,className:"text-sm bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded",children:"Logout"})}const a6=[{to:"/dashboard/admin",label:"Dashboard",roles:["admin"]},{to:"/events",label:"Events",roles:["admin","teacher","parent_member"]},{to:"/fundraisers",label:"Fundraisers",roles:["admin","treasurer"]},{to:"/budget",label:"Budget",roles:["admin","treasurer"]},{to:"/communications",label:"Communications",roles:["admin","committee_lead","teacher"]},{to:"/teacher-requests",label:"Teacher Requests",roles:["admin","teacher"]},{to:"/billing",label:"Billing",roles:["admin"]}];function i6({role:e}){const t=KN(),r=a6.filter(n=>n.roles.includes(e));return l.jsx("aside",{className:"w-64 bg-white border-r shadow-sm hidden md:block",children:l.jsx("nav",{className:"px-4 py-6 space-y-2",children:r.map(n=>l.jsx(Oa,{to:n.to,className:`block px-3 py-2 rounded text-sm font-medium ${t.pathname===n.to?"bg-blue-100 text-blue-700":"text-gray-700 hover:bg-gray-100"}`,children:n.label},n.to))})})}function o6(){return l.jsxs("footer",{className:"text-xs text-gray-500 text-center py-4 border-t bg-white",children:["PTO Connect © ",new Date().getFullYear()," — Need help? Visit our support page."]})}function s6(){const{showRenewalBanner:e,organization:t}=xo();return e()?l.jsxs("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-800 p-4 mb-4 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("strong",{children:"Annual Subscription Expiring Soon:"})," Your annual subscription will expire on"," ",l.jsx("span",{className:"font-semibold",children:t!=null&&t.current_period_end?new Date(t.current_period_end).toLocaleDateString():"soon"}),". Please renew to avoid interruption."]}),l.jsx("a",{href:"/billing",className:"ml-4 px-4 py-2 bg-yellow-500 text-white rounded hover:bg-yellow-600 transition-colors",children:"Renew Now"})]}):null}function qo(){const[e,t]=F.useState(null),[r,n]=F.useState(null);return F.useEffect(()=>{async function a(){const{data:{user:i}}=await He.auth.getUser();t(i);const{data:o}=await He.from("profiles").select("role").eq("id",i.id).single();n(o==null?void 0:o.role)}a()},[]),!e||!r?null:l.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[l.jsxs("header",{className:"bg-white shadow-sm px-6 py-4 flex justify-between items-center w-full",children:[l.jsx("span",{className:"text-xl font-bold text-blue-700",children:"PTO Connect"}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(r6,{}),l.jsx(n6,{})]})]}),l.jsx(s6,{}),l.jsxs("div",{className:"flex flex-1",children:[l.jsx(i6,{role:r}),l.jsx("main",{className:"flex-1 p-6",children:l.jsx(qy,{})})]}),l.jsx(o6,{})]})}const l6={admin:"/dashboard/admin",board_member:"/dashboard/board",committee_lead:"/dashboard/committee",volunteer:"/dashboard/volunteer",parent_member:"/dashboard/parent",teacher:"/dashboard/teacher"},c6=e=>l6[e]||"/dashboard";function d1(){const[e,t]=F.useState(""),[r,n]=F.useState(""),[a,i]=F.useState(""),[o,s]=F.useState(!1),c=gr(),u=async d=>{if(d&&d.preventDefault(),console.log("🔍 [LOGIN DEBUG] Login attempt started"),console.log("🔍 [LOGIN DEBUG] Email:",e),s(!0),i(""),!e||!r){console.log("❌ [LOGIN DEBUG] Missing email or password"),i("Email and password are required."),s(!1);return}console.log("🔍 [LOGIN DEBUG] Calling Supabase signInWithPassword...");const{data:f,error:p}=await He.auth.signInWithPassword({email:e,password:r});if(console.log("🔍 [LOGIN DEBUG] Supabase response:",{user:!!(f!=null&&f.user),session:!!(f!=null&&f.session),error:p}),p||!(f!=null&&f.user)){console.error("❌ [LOGIN DEBUG] Login error:",p),i((p==null?void 0:p.message)||"Login failed."),s(!1);return}const h=f.user;console.log("🔍 [LOGIN DEBUG] User authenticated:",{id:h.id,email:h.email,user_metadata:h.user_metadata}),console.log("🔍 [LOGIN DEBUG] Fetching user profile...");const{data:v,error:g}=await He.from("profiles").select("role, org_id, approved").eq("id",h.id).single();if(console.log("🔍 [LOGIN DEBUG] Profile query result:",{profile:v,profileError:g}),g||!v){console.error("❌ [LOGIN DEBUG] Profile fetch error:",g),i("Unable to load user profile. Please contact support."),s(!1);return}if(!v.approved){console.log("❌ [LOGIN DEBUG] User not approved"),i("Your account is pending approval. Please contact an administrator."),s(!1);return}const y=v.role;if(console.log("🔍 [LOGIN DEBUG] User role:",y),!y){console.log("❌ [LOGIN DEBUG] No role assigned"),i("Your account does not have a role assigned."),s(!1);return}console.log("🔍 [LOGIN DEBUG] Getting dashboard route for role:",y);const x=c6(y);console.log("🔍 [LOGIN DEBUG] Navigating to:",x),c(x),s(!1)};return l.jsxs("div",{className:"p-6 max-w-md mx-auto",children:[l.jsx("h1",{className:"text-xl font-bold mb-4",children:"Log In"}),l.jsxs("form",{onSubmit:u,className:"space-y-4",children:[l.jsx("input",{className:"border p-2 w-full rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",type:"email",value:e,onChange:d=>t(d.target.value),placeholder:"Email",required:!0,disabled:o,autoComplete:"email"}),l.jsx("input",{className:"border p-2 w-full rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",type:"password",value:r,onChange:d=>n(d.target.value),placeholder:"Password",required:!0,disabled:o,autoComplete:"current-password"}),l.jsx("button",{type:"submit",disabled:o,className:"bg-blue-600 text-white px-4 py-2 rounded w-full hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o?"Logging in...":"Log In"}),a&&l.jsx("p",{className:"text-red-500 mt-2",children:a})]})]})}const u6=["admin","treasurer","board_member"];function d6(){const[e,t]=F.useState(""),[r,n]=F.useState(""),[a,i]=F.useState(""),[o,s]=F.useState("parent_member"),[c,u]=F.useState(""),[d,f]=F.useState(""),p=async()=>{if(u(""),f(""),!e||!r||!a||!o){u("All fields are required.");return}const{data:h,error:v}=await He.from("organizations").select("id").ilike("signup_code",a).single();if(v||!(h!=null&&h.id)){console.error("PTO code lookup failed:",v),u("Invalid PTO code. Please check with your organization.");return}const g=h.id,{data:y,error:x}=await He.auth.signUp({email:e,password:r,options:{data:{org_id:g,role:o}}});if(x||!(y!=null&&y.user)){console.error("Signup error:",x),u((x==null?void 0:x.message)||"Signup failed.");return}const w=y.user,N=!u6.includes(o),{data:_}=await He.from("profiles").select("id").eq("id",w.id).maybeSingle();if(_){console.warn("Profile already exists, skipping insert."),f("Signup successful! You can now log in.");return}const{error:b}=await He.from("profiles").insert([{id:w.id,email:e,org_id:g,role:o,approved:N}]);b?(console.error("Profile insert error:",b),u("Signup successful, but failed to save profile.")):(f(N?"Signup successful! You can now log in.":"Signup submitted. An admin must approve your role before you can access the system."),t(""),n(""),i(""),s("parent_member"))};return l.jsxs("div",{className:"p-6 max-w-md mx-auto",children:[l.jsx("h1",{className:"text-xl font-bold mb-4",children:"Sign Up"}),l.jsx("input",{className:"border p-2 w-full mb-2",type:"email",value:e,onChange:h=>t(h.target.value),placeholder:"Email",required:!0}),l.jsx("input",{className:"border p-2 w-full mb-2",type:"password",value:r,onChange:h=>n(h.target.value),placeholder:"Password",required:!0}),l.jsx("input",{className:"border p-2 w-full mb-2",type:"text",value:a,onChange:h=>i(h.target.value),placeholder:"PTO Code (e.g. abc123xy)",required:!0}),l.jsxs("select",{className:"border p-2 w-full mb-4",value:o,onChange:h=>s(h.target.value),required:!0,children:[l.jsx("option",{value:"parent_member",children:"Parent Member"}),l.jsx("option",{value:"teacher",children:"Teacher"}),l.jsx("option",{value:"volunteer",children:"Volunteer"}),l.jsx("option",{value:"committee_lead",children:"Committee Lead"}),l.jsx("option",{value:"board_member",children:"Board Member"}),l.jsx("option",{value:"treasurer",children:"Treasurer"}),l.jsx("option",{value:"admin",children:"Admin"})]}),l.jsx("button",{onClick:p,className:"bg-green-600 text-white px-4 py-2 rounded w-full",children:"Sign Up"}),c&&l.jsx("p",{className:"text-red-500 mt-2",children:c}),d&&l.jsx("p",{className:"text-green-600 mt-2",children:d})]})}function f6(){return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 p-6",children:l.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-8 max-w-md text-center",children:[l.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Access Denied"}),l.jsx("p",{className:"text-gray-700 mb-6",children:"You don’t have permission to view this page."}),l.jsx(Oa,{to:"/",className:"inline-block bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Return to Home"})]})})}const h6=()=>{var N,_,b,A;const{userProfile:e}=xo(),[t,r]=F.useState("membership"),[n,a]=F.useState("6months"),[i,o]=F.useState({membership:[],events:[],financial:[],engagement:[]}),[s,c]=F.useState(!0);F.useEffect(()=>{e!=null&&e.org_id&&u()},[e,n]);const u=async()=>{try{c(!0);const O=new Date,E=new Date;switch(n){case"3months":E.setMonth(O.getMonth()-3);break;case"6months":E.setMonth(O.getMonth()-6);break;case"1year":E.setFullYear(O.getFullYear()-1);break;default:E.setMonth(O.getMonth()-6)}const[C,D,k,T]=await Promise.all([d(E,O),f(E,O),p(E,O),h(E,O)]);o({membership:C,events:D,financial:k,engagement:T})}catch(O){console.error("Error fetching chart data:",O)}finally{c(!1)}},d=async(O,E)=>{const C=[],D=new Date(O);for(;D<=E;){const k=new Date(D.getFullYear(),D.getMonth(),1),T=new Date(D.getFullYear(),D.getMonth()+1,0),{count:$}=await He.from("profiles").select("*",{count:"exact",head:!0}).eq("org_id",e.org_id).lte("created_at",T.toISOString());C.push({month:k.toLocaleDateString("en-US",{month:"short"}),value:$||0,date:k}),D.setMonth(D.getMonth()+1)}return C},f=async(O,E)=>{const{data:C}=await He.from("events").select("event_date, title, status").eq("org_id",e.org_id).gte("event_date",O.toISOString()).lte("event_date",E.toISOString()).order("event_date"),D={};return C==null||C.forEach(k=>{const T=new Date(k.event_date).toLocaleDateString("en-US",{month:"short"});D[T]||(D[T]={total:0,completed:0}),D[T].total++,k.status==="completed"&&D[T].completed++}),Object.entries(D).map(([k,T])=>({month:k,total:T.total,completed:T.completed,success_rate:T.total>0?Math.round(T.completed/T.total*100):0}))},p=async(O,E)=>{const{data:C}=await He.from("budget_entries").select("amount, type, category, created_at").eq("org_id",e.org_id).gte("created_at",O.toISOString()).lte("created_at",E.toISOString()),D={};return C==null||C.forEach(k=>{D[k.category]||(D[k.category]={income:0,expenses:0}),k.type==="income"?D[k.category].income+=k.amount:D[k.category].expenses+=k.amount}),Object.entries(D).map(([k,T])=>({category:k,income:T.income,expenses:T.expenses,net:T.income-T.expenses}))},h=async(O,E)=>{const C=[],D=new Date(O);for(;D<=E;){const k=D.toLocaleDateString("en-US",{month:"short"}),T=65,$=Math.random()*20-10,I=Math.max(0,Math.min(100,T+$));C.push({month:k,engagement:Math.round(I),email_opens:Math.round(I*.8),event_attendance:Math.round(I*.6),volunteer_participation:Math.round(I*.4)}),D.setMonth(D.getMonth()+1)}return C},v=(O,E,C="#3B82F6")=>{if(!O||O.length===0)return null;const D=Math.max(...O.map(I=>I[E]||0)),k=Math.min(...O.map(I=>I[E]||0)),T=D-k||1,$=O.map((I,H)=>{const V=H/(O.length-1)*100,X=100-((I[E]||0)-k)/T*80-10;return`${V},${X}`}).join(" ");return l.jsxs("div",{className:"relative h-64 bg-gray-50 rounded-lg p-4",children:[l.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[l.jsx("polyline",{fill:"none",stroke:C,strokeWidth:"0.5",points:$}),O.map((I,H)=>{const V=H/(O.length-1)*100,X=100-((I[E]||0)-k)/T*80-10;return l.jsx("circle",{cx:V,cy:X,r:"1",fill:C},H)})]}),l.jsx("div",{className:"absolute bottom-0 left-0 right-0 flex justify-between text-xs text-gray-500 px-4",children:O.map((I,H)=>l.jsx("span",{children:I.month},H))}),l.jsxs("div",{className:"absolute left-0 top-0 bottom-0 flex flex-col justify-between text-xs text-gray-500 py-4",children:[l.jsx("span",{children:D}),l.jsx("span",{children:Math.round((D+k)/2)}),l.jsx("span",{children:k})]})]})},g=(O,E,C="#10B981")=>{if(!O||O.length===0)return null;const D=Math.max(...O.map(k=>k[E]||0));return l.jsx("div",{className:"relative h-64 bg-gray-50 rounded-lg p-4",children:l.jsx("div",{className:"flex items-end justify-between h-full space-x-2",children:O.map((k,T)=>{const $=D>0?(k[E]||0)/D*100:0;return l.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[l.jsx("div",{className:"w-full rounded-t",style:{height:`${$}%`,backgroundColor:C,minHeight:$>0?"4px":"0"}}),l.jsx("span",{className:"text-xs text-gray-500 mt-2",children:k.month})]},T)})})})},y=O=>{if(!O||O.length===0)return null;const E=O.reduce((k,T)=>k+Math.abs(T.net||0),0);let C=0;const D=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6"];return l.jsxs("div",{className:"relative h-64 flex items-center justify-center",children:[l.jsxs("svg",{className:"w-48 h-48",viewBox:"0 0 100 100",children:[O.map((k,T)=>{const I=(E>0?Math.abs(k.net||0)/E:0)*360,H=C,V=C+I,X=50+35*Math.cos(H*Math.PI/180),Q=50+35*Math.sin(H*Math.PI/180),Y=50+35*Math.cos(V*Math.PI/180),G=50+35*Math.sin(V*Math.PI/180),ae=I>180?1:0,M=["M 50 50",`L ${X} ${Q}`,`A 35 35 0 ${ae} 1 ${Y} ${G}`,"Z"].join(" ");return C+=I,l.jsx("path",{d:M,fill:D[T%D.length],opacity:.8},T)}),l.jsx("circle",{cx:"50",cy:"50",r:"20",fill:"white"})]}),l.jsx("div",{className:"absolute right-0 top-0 space-y-2",children:O.map((k,T)=>l.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[l.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:D[T%D.length]}}),l.jsx("span",{className:"text-gray-700",children:k.category})]},T))})]})},x=()=>{const O=i[t],E="data:text/csv;charset=utf-8,"+Object.keys(O[0]||{}).join(",")+`
`+O.map(k=>Object.values(k).join(",")).join(`
`),C=encodeURI(E),D=document.createElement("a");D.setAttribute("href",C),D.setAttribute("download",`${t}_analytics.csv`),document.body.appendChild(D),D.click(),document.body.removeChild(D)},w={membership:{title:"Membership Growth",description:"Track member acquisition and retention over time",dataKey:"value",color:"#3B82F6"},events:{title:"Event Performance",description:"Monitor event frequency and success rates",dataKey:"total",color:"#10B981"},financial:{title:"Financial Distribution",description:"Analyze income and expenses by category",dataKey:"net",color:"#F59E0B"},engagement:{title:"Member Engagement",description:"Measure community participation and activity",dataKey:"engagement",color:"#8B5CF6"}};return s?l.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:l.jsxs("div",{className:"animate-pulse",children:[l.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-4"}),l.jsx("div",{className:"h-64 bg-gray-200 rounded"})]})}):l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[l.jsxs("div",{className:"p-6 border-b border-gray-200",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Analytics Dashboard"}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("select",{value:n,onChange:O=>a(O.target.value),className:"px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"3months",children:"Last 3 Months"}),l.jsx("option",{value:"6months",children:"Last 6 Months"}),l.jsx("option",{value:"1year",children:"Last Year"})]}),l.jsx("button",{onClick:x,className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm hover:bg-blue-700 transition-colors",children:"Export CSV"})]})]}),l.jsx("div",{className:"flex space-x-1 bg-gray-100 rounded-lg p-1",children:Object.entries(w).map(([O,E])=>l.jsx("button",{onClick:()=>r(O),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${t===O?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:E.title},O))})]}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:w[t].title}),l.jsx("p",{className:"text-sm text-gray-600",children:w[t].description})]}),l.jsxs("div",{className:"mb-6",children:[t==="membership"&&v(i.membership,w.membership.dataKey,w.membership.color),t==="events"&&g(i.events,w.events.dataKey,w.events.color),t==="financial"&&y(i.financial),t==="engagement"&&v(i.engagement,w.engagement.dataKey,w.engagement.color)]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 pt-4 border-t border-gray-200",children:[t==="membership"&&i.membership.length>0&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-blue-600",children:((N=i.membership[i.membership.length-1])==null?void 0:N.value)||0}),l.jsx("p",{className:"text-sm text-gray-600",children:"Current Members"})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["+",i.membership.length>1?(((_=i.membership[i.membership.length-1])==null?void 0:_.value)||0)-(((b=i.membership[0])==null?void 0:b.value)||0):0]}),l.jsx("p",{className:"text-sm text-gray-600",children:"Growth"})]})]}),t==="events"&&i.events.length>0&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-green-600",children:i.events.reduce((O,E)=>O+E.total,0)}),l.jsx("p",{className:"text-sm text-gray-600",children:"Total Events"})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[i.events.length>0?Math.round(i.events.reduce((O,E)=>O+E.success_rate,0)/i.events.length):0,"%"]}),l.jsx("p",{className:"text-sm text-gray-600",children:"Avg Success Rate"})]})]}),t==="financial"&&i.financial.length>0&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"text-center",children:[l.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["$",i.financial.reduce((O,E)=>O+E.income,0).toLocaleString()]}),l.jsx("p",{className:"text-sm text-gray-600",children:"Total Income"})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("p",{className:"text-2xl font-bold text-red-600",children:["$",i.financial.reduce((O,E)=>O+E.expenses,0).toLocaleString()]}),l.jsx("p",{className:"text-sm text-gray-600",children:"Total Expenses"})]})]}),t==="engagement"&&i.engagement.length>0&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"text-center",children:[l.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[((A=i.engagement[i.engagement.length-1])==null?void 0:A.engagement)||0,"%"]}),l.jsx("p",{className:"text-sm text-gray-600",children:"Current Engagement"})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[i.engagement.length>0?Math.round(i.engagement.reduce((O,E)=>O+E.email_opens,0)/i.engagement.length):0,"%"]}),l.jsx("p",{className:"text-sm text-gray-600",children:"Avg Email Opens"})]})]})]})]})]})},p6=()=>{const{userProfile:e}=xo(),[t,r]=F.useState([]),[n,a]=F.useState("all"),[i,o]=F.useState(!0);F.useEffect(()=>{e!=null&&e.org_id&&s()},[e]);const s=async()=>{try{o(!0);const w=[],N=await c();w.push(...N);const _=await u();w.push(..._);const b=await d();w.push(...b);const A=await f();w.push(...A),w.sort((O,E)=>{const C={high:3,medium:2,low:1};return C[O.priority]!==C[E.priority]?C[E.priority]-C[O.priority]:new Date(E.timestamp)-new Date(O.timestamp)}),r(w)}catch(w){console.error("Error generating smart notifications:",w)}finally{o(!1)}},c=async()=>{const w=[];try{const{data:N}=await He.from("budget_entries").select("amount, category, type").eq("org_id",e.org_id);if(N&&N.length>0){const _=N.filter(E=>E.type==="income").reduce((E,C)=>E+C.amount,0),b=N.filter(E=>E.type==="expense").reduce((E,C)=>E+C.amount,0),A=_>0?b/_*100:0;A>80?w.push({id:"budget-alert-1",type:"budget",priority:"high",title:"Budget Alert: Events Category",message:`Events budget is ${Math.round(A)}% spent with 3 months remaining. Consider reviewing upcoming event costs.`,timestamp:new Date().toISOString(),actionable:!0,actions:[{label:"Review Budget",action:"review_budget"},{label:"View Details",action:"view_details"}]}):A>60&&w.push({id:"budget-alert-2",type:"budget",priority:"medium",title:"Budget Tracking",message:`Budget is ${Math.round(A)}% utilized. On track for current period.`,timestamp:new Date().toISOString(),actionable:!1,actions:[]});const O=N.reduce((E,C)=>(E[C.category]||(E[C.category]={income:0,expenses:0}),C.type==="income"?E[C.category].income+=C.amount:E[C.category].expenses+=C.amount,E),{});Object.entries(O).forEach(([E,C])=>{const D=C.income>0?C.expenses/C.income*100:0;D>90&&w.push({id:`budget-category-${E}`,type:"budget",priority:"high",title:`${E} Budget Alert`,message:`${E} category is ${Math.round(D)}% spent. Immediate attention required.`,timestamp:new Date().toISOString(),actionable:!0,actions:[{label:"Review Category",action:"review_category"},{label:"Adjust Budget",action:"adjust_budget"}]})})}}catch(N){console.error("Error generating budget alerts:",N)}return w},u=async()=>{const w=[];try{const N=new Date;N.setDate(N.getDate()-30);const{count:_}=await He.from("profiles").select("*",{count:"exact",head:!0}).eq("org_id",e.org_id).gte("created_at",N.toISOString()),{count:b}=await He.from("profiles").select("*",{count:"exact",head:!0}).eq("org_id",e.org_id),A=b>0?_/b*100:0;A<5?w.push({id:"membership-growth-1",type:"membership",priority:"medium",title:"Membership Growth Trending Down",message:"New member registrations have decreased by 15% this month. Consider launching a recruitment campaign.",timestamp:new Date().toISOString(),actionable:!0,actions:[{label:"Start Campaign",action:"start_campaign"},{label:"View Analytics",action:"view_analytics"}]}):A>15&&w.push({id:"membership-growth-2",type:"membership",priority:"low",title:"Excellent Membership Growth",message:`Outstanding! New member registrations increased by ${Math.round(A)}% this month.`,timestamp:new Date().toISOString(),actionable:!1,actions:[]});const{count:O}=await He.from("profiles").select("*",{count:"exact",head:!0}).eq("org_id",e.org_id).gte("last_sign_in_at",N.toISOString()),E=b>0?O/b*100:0;E<40&&w.push({id:"engagement-alert-1",type:"engagement",priority:"medium",title:"Low Member Engagement",message:`Only ${Math.round(E)}% of members were active this month. Consider increasing communication frequency.`,timestamp:new Date().toISOString(),actionable:!0,actions:[{label:"Send Newsletter",action:"send_newsletter"},{label:"Plan Event",action:"plan_event"}]})}catch(N){console.error("Error generating membership insights:",N)}return w},d=async()=>{const w=[];try{const N=new Date;N.setDate(N.getDate()+7);const{data:_}=await He.from("events").select("id, title, event_date, volunteer_slots_needed, volunteer_slots_filled").eq("org_id",e.org_id).gte("event_date",new Date().toISOString()).lte("event_date",N.toISOString());_==null||_.forEach(O=>{const E=Math.ceil((new Date(O.event_date)-new Date)/864e5),C=(O.volunteer_slots_needed||0)-(O.volunteer_slots_filled||0);E<=3&&C>0?w.push({id:`event-volunteer-${O.id}`,type:"events",priority:"high",title:`Volunteer Shortage: ${O.title}`,message:`${O.title} in ${E} days needs ${C} more volunteers.`,timestamp:new Date().toISOString(),actionable:!0,actions:[{label:"Send Reminder",action:"send_reminder"},{label:"View Event",action:"view_event"}]}):E<=7&&w.push({id:`event-reminder-${O.id}`,type:"events",priority:"low",title:`Upcoming Event: ${O.title}`,message:`${O.title} is coming up in ${E} days. All preparations on track.`,timestamp:new Date().toISOString(),actionable:!1,actions:[]})});const{data:b}=await He.from("events").select("id, title, event_date, updated_at").eq("org_id",e.org_id).gte("event_date",new Date().toISOString()),A=new Date;A.setDate(A.getDate()-14),b==null||b.forEach(O=>{new Date(O.updated_at)<A&&w.push({id:`event-stale-${O.id}`,type:"events",priority:"medium",title:`Event Needs Attention: ${O.title}`,message:`${O.title} hasn't been updated in 2 weeks. Consider reviewing event details.`,timestamp:new Date().toISOString(),actionable:!0,actions:[{label:"Update Event",action:"update_event"},{label:"View Details",action:"view_details"}]})})}catch(N){console.error("Error generating event alerts:",N)}return w},f=async()=>{const w=[];w.push({id:"goal-achievement-1",type:"goals",priority:"low",title:"Goal Achievement: Volunteer Hours",message:"Congratulations! Volunteer hours goal exceeded by 104% this quarter.",timestamp:new Date().toISOString(),actionable:!1,actions:[]});const N=new Date().getMonth();return N>=8&&N<=10&&w.push({id:"seasonal-insight-1",type:"seasonal",priority:"medium",title:"Fall Fundraising Opportunity",message:"Fall is peak fundraising season. Consider launching a major campaign now.",timestamp:new Date().toISOString(),actionable:!0,actions:[{label:"Create Campaign",action:"create_campaign"},{label:"View Templates",action:"view_templates"}]}),w.push({id:"communication-insight-1",type:"communication",priority:"low",title:"Communication Performance",message:"Email open rates increased by 8% this month. Great job on engaging content!",timestamp:new Date().toISOString(),actionable:!1,actions:[]}),w},p=(w,N)=>{switch(console.log(`Executing action: ${w} for notification: ${N}`),w){case"review_budget":break;case"start_campaign":break;case"send_reminder":break;case"view_analytics":break;default:console.log("Action not implemented:",w)}},h=w=>{r(N=>N.filter(_=>_.id!==w))},v=t.filter(w=>n==="all"?!0:n==="actionable"?w.actionable:w.type===n),g=w=>{switch(w){case"high":return"border-red-200 bg-red-50";case"medium":return"border-yellow-200 bg-yellow-50";case"low":return"border-blue-200 bg-blue-50";default:return"border-gray-200 bg-gray-50"}},y=w=>{switch(w){case"high":return l.jsx("svg",{className:"w-5 h-5 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})});case"medium":return l.jsx("svg",{className:"w-5 h-5 text-yellow-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})});case"low":return l.jsx("svg",{className:"w-5 h-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})});default:return null}},x=w=>{switch(w){case"budget":return l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})});case"membership":return l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})});case"events":return l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})});case"engagement":return l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})});default:return l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5 5v-5zM4 19h5v-5H4v5zM13 13h5V8h-5v5zM4 8h5V3H4v5z"})})}};return i?l.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:l.jsxs("div",{className:"animate-pulse",children:[l.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/2 mb-4"}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"h-16 bg-gray-200 rounded"}),l.jsx("div",{className:"h-16 bg-gray-200 rounded"}),l.jsx("div",{className:"h-16 bg-gray-200 rounded"})]})]})}):l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[l.jsxs("div",{className:"p-6 border-b border-gray-200",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:l.jsx("svg",{className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5 5v-5zM4 19h5v-5H4v5zM13 13h5V8h-5v5zM4 8h5V3H4v5z"})})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Smart Notifications"}),l.jsx("p",{className:"text-sm text-gray-600",children:"AI-powered insights and alerts"})]})]}),l.jsx("button",{className:"text-blue-600 text-sm font-medium hover:text-blue-700",children:"View All"})]}),l.jsx("div",{className:"flex space-x-1 bg-gray-100 rounded-lg p-1",children:[{key:"all",label:"All"},{key:"actionable",label:"Actionable"},{key:"budget",label:"Budget"},{key:"events",label:"Events"},{key:"membership",label:"Members"}].map(({key:w,label:N})=>l.jsx("button",{onClick:()=>a(w),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${n===w?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:N},w))})]}),l.jsx("div",{className:"p-6",children:l.jsx("div",{className:"space-y-4",children:v.length===0?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("svg",{className:"w-12 h-12 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsx("p",{className:"text-gray-500",children:"No notifications to display"})]}):v.map(w=>l.jsx("div",{className:`border rounded-lg p-4 ${g(w.priority)}`,children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[y(w.priority),l.jsx("div",{className:"text-gray-500",children:x(w.type)})]}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h4",{className:"font-medium text-gray-900",children:w.title}),l.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${w.priority==="high"?"bg-red-100 text-red-800":w.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:[w.priority," priority"]})]}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:w.message}),l.jsx("p",{className:"text-xs text-gray-500 mt-2",children:new Date(w.timestamp).toLocaleString()}),w.actions.length>0&&l.jsx("div",{className:"flex items-center space-x-2 mt-3",children:w.actions.map((N,_)=>l.jsx("button",{onClick:()=>p(N.action,w.id),className:"px-3 py-1 bg-blue-600 text-white text-xs rounded hover:bg-blue-700 transition-colors",children:N.label},_))})]})]}),l.jsx("button",{onClick:()=>h(w.id),className:"text-gray-400 hover:text-gray-600 ml-2",children:l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})},w.id))})})]})},m6=()=>{const{userProfile:e,loading:t}=xo(),[r,n]=F.useState({metrics:{totalMembers:0,activeEvents:0,budgetUsed:0,engagementRate:0},recentActivity:[],upcomingEvents:[],pendingTasks:[],financialSummary:{totalBudget:0,spent:0,remaining:0,categories:[]}}),[a,i]=F.useState(!0);F.useEffect(()=>{e!=null&&e.org_id&&o()},[e]);const o=async()=>{try{i(!0);const x=[s(),c(),u(),d()],[w,N,_,b]=await Promise.all(x),[A,O,E]=await Promise.all([f(),p(),h()]);n({metrics:{totalMembers:w,activeEvents:N,budgetUsed:_.percentUsed,engagementRate:b},recentActivity:A,upcomingEvents:O,pendingTasks:E,financialSummary:_})}catch(x){console.error("Error fetching dashboard data:",x)}finally{i(!1)}},s=async()=>{const{count:x}=await He.from("profiles").select("*",{count:"exact",head:!0}).eq("org_id",e.org_id);return x||0},c=async()=>{const{count:x}=await He.from("events").select("*",{count:"exact",head:!0}).eq("org_id",e.org_id).gte("event_date",new Date().toISOString());return x||0},u=async()=>{const{data:x}=await He.from("budget_entries").select("amount, category, type").eq("org_id",e.org_id);if(!x)return{percentUsed:0,totalBudget:0,spent:0,remaining:0,categories:[]};const w=x.filter(b=>b.type==="income").reduce((b,A)=>b+A.amount,0),N=x.filter(b=>b.type==="expense").reduce((b,A)=>b+A.amount,0),_=x.reduce((b,A)=>(b[A.category]||(b[A.category]={income:0,expenses:0}),A.type==="income"?b[A.category].income+=A.amount:b[A.category].expenses+=A.amount,b),{});return{totalBudget:w,spent:N,remaining:w-N,percentUsed:w>0?Math.round(N/w*100):0,categories:Object.entries(_).map(([b,A])=>({name:b,...A,net:A.income-A.expenses}))}},d=async()=>{const x=new Date;x.setDate(x.getDate()-30);const{count:w}=await He.from("profiles").select("*",{count:"exact",head:!0}).eq("org_id",e.org_id).gte("last_sign_in_at",x.toISOString()),{count:N}=await He.from("profiles").select("*",{count:"exact",head:!0}).eq("org_id",e.org_id);return N>0?Math.round(w/N*100):0},f=async()=>{const{data:x}=await He.from("events").select("title, created_at, created_by").eq("org_id",e.org_id).order("created_at",{ascending:!1}).limit(5),{data:w}=await He.from("profiles").select("first_name, last_name, created_at").eq("org_id",e.org_id).order("created_at",{ascending:!1}).limit(3),N=[];return x&&x.forEach(_=>{N.push({type:"event_created",title:`New event: ${_.title}`,timestamp:_.created_at,user:"System"})}),w&&w.forEach(_=>{N.push({type:"user_joined",title:`${_.first_name} ${_.last_name} joined`,timestamp:_.created_at,user:`${_.first_name} ${_.last_name}`})}),N.sort((_,b)=>new Date(b.timestamp)-new Date(_.timestamp)).slice(0,8)},p=async()=>{const{data:x}=await He.from("events").select("id, title, event_date, location, status").eq("org_id",e.org_id).gte("event_date",new Date().toISOString()).order("event_date",{ascending:!0}).limit(5);return x||[]},h=async()=>{const x=[];return(e.role==="admin"||e.role==="board_member")&&x.push({id:1,title:"Review budget proposal",priority:"high",dueDate:"2025-06-10"},{id:2,title:"Approve volunteer applications",priority:"medium",dueDate:"2025-06-12"},{id:3,title:"Update event calendar",priority:"low",dueDate:"2025-06-15"}),x},v=x=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(x),g=x=>new Date(x).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),y=x=>{const w=new Date,N=new Date(x),_=Math.floor((w-N)/(1e3*60*60));if(_<1)return"Just now";if(_<24)return`${_}h ago`;const b=Math.floor(_/24);return b<7?`${b}d ago`:g(x)};return t||a?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):l.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["Welcome back, ",e==null?void 0:e.first_name,"!"]}),l.jsx("p",{className:"text-gray-600 mt-2",children:"Here's what's happening with your PTO today"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Members"}),l.jsx("p",{className:"text-3xl font-bold text-gray-900",children:r.metrics.totalMembers})]}),l.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:l.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})})]}),l.jsx("div",{className:"mt-4",children:l.jsx("span",{className:"text-sm text-green-600",children:"+12% from last month"})})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Events"}),l.jsx("p",{className:"text-3xl font-bold text-gray-900",children:r.metrics.activeEvents})]}),l.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:l.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})]}),l.jsx("div",{className:"mt-4",children:l.jsx("span",{className:"text-sm text-blue-600",children:"3 this month"})})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Budget Used"}),l.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[r.metrics.budgetUsed,"%"]})]}),l.jsx("div",{className:"p-3 bg-yellow-100 rounded-full",children:l.jsx("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})})]}),l.jsx("div",{className:"mt-4",children:l.jsxs("span",{className:"text-sm text-gray-600",children:[v(r.financialSummary.remaining)," remaining"]})})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Engagement Rate"}),l.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[r.metrics.engagementRate,"%"]})]}),l.jsx("div",{className:"p-3 bg-purple-100 rounded-full",children:l.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})})]}),l.jsx("div",{className:"mt-4",children:l.jsx("span",{className:"text-sm text-green-600",children:"+5% from last month"})})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[l.jsx("div",{className:"p-6 border-b border-gray-200",children:l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Recent Activity"})}),l.jsx("div",{className:"p-6",children:l.jsx("div",{className:"space-y-4",children:r.recentActivity.map((x,w)=>l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${x.type==="event_created"?"bg-blue-500":"bg-green-500"}`})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:x.title}),l.jsx("p",{className:"text-sm text-gray-500",children:y(x.timestamp)})]})]},w))})})]}),l.jsx(h6,{})]}),l.jsxs("div",{className:"space-y-8",children:[l.jsx(p6,{}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[l.jsx("div",{className:"p-6 border-b border-gray-200",children:l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Upcoming Events"})}),l.jsx("div",{className:"p-6",children:l.jsxs("div",{className:"space-y-4",children:[r.upcomingEvents.map(x=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-900",children:x.title}),l.jsx("p",{className:"text-sm text-gray-600",children:g(x.event_date)}),x.location&&l.jsx("p",{className:"text-sm text-gray-500",children:x.location})]}),l.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${x.status==="confirmed"?"bg-green-100 text-green-800":x.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:x.status})]},x.id)),r.upcomingEvents.length===0&&l.jsx("p",{className:"text-gray-500 text-center py-4",children:"No upcoming events"})]})})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[l.jsx("div",{className:"p-6 border-b border-gray-200",children:l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Quick Actions"})}),l.jsx("div",{className:"p-6",children:l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("button",{className:"flex flex-col items-center p-4 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors",children:[l.jsx("svg",{className:"w-6 h-6 text-blue-600 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),l.jsx("span",{className:"text-sm font-medium text-blue-900",children:"New Event"})]}),l.jsxs("button",{className:"flex flex-col items-center p-4 bg-green-50 rounded-lg hover:bg-green-100 transition-colors",children:[l.jsx("svg",{className:"w-6 h-6 text-green-600 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),l.jsx("span",{className:"text-sm font-medium text-green-900",children:"Send Message"})]}),l.jsxs("button",{className:"flex flex-col items-center p-4 bg-purple-50 rounded-lg hover:bg-purple-100 transition-colors",children:[l.jsx("svg",{className:"w-6 h-6 text-purple-600 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),l.jsx("span",{className:"text-sm font-medium text-purple-900",children:"Add Member"})]}),l.jsxs("button",{className:"flex flex-col items-center p-4 bg-yellow-50 rounded-lg hover:bg-yellow-100 transition-colors",children:[l.jsx("svg",{className:"w-6 h-6 text-yellow-600 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),l.jsx("span",{className:"text-sm font-medium text-yellow-900",children:"New Report"})]})]})})]}),r.pendingTasks.length>0&&l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[l.jsx("div",{className:"p-6 border-b border-gray-200",children:l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Pending Tasks"})}),l.jsx("div",{className:"p-6",children:l.jsx("div",{className:"space-y-3",children:r.pendingTasks.map(x=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-900",children:x.title}),l.jsxs("p",{className:"text-sm text-gray-600",children:["Due: ",g(x.dueDate)]})]}),l.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${x.priority==="high"?"bg-red-100 text-red-800":x.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:x.priority})]},x.id))})})]})]})]})]})})},g6=[{value:"",label:"All Roles"},{value:"admin",label:"Admin"},{value:"board_member",label:"Board Member"},{value:"committee_lead",label:"Committee Lead"},{value:"volunteer",label:"Volunteer"},{value:"parent_member",label:"Parent Member"},{value:"teacher",label:"Teacher"}];function v6(){const[e,t]=F.useState([]),[r,n]=F.useState([]),[a,i]=F.useState({}),[o,s]=F.useState(!0),[c,u]=F.useState(""),[d,f]=F.useState(!1),[p,h]=F.useState(!1),[v,g]=F.useState(""),[y,x]=F.useState({});if(F.useEffect(()=>{async function O(){var H,V,X;s(!0),u("");const[{data:E,error:C},{data:D,error:k}]=await Promise.all([mt("GET","/admin/organization-permissions"),mt("GET","/admin-users")]);if(console.log("[PermissionsConsole] /admin/organization-permissions response:",E),console.log("[PermissionsConsole] /admin-users response:",D),C||k){u("Failed to load permissions or users."),s(!1);return}const T=(H=E==null?void 0:E.data)==null?void 0:H.permissions,$=(V=E==null?void 0:E.data)==null?void 0:V.grouped;n(Array.isArray(T)?T:[]),i($&&typeof $=="object"?$:{});const I=((X=D==null?void 0:D.data)==null?void 0:X.profiles)||(D==null?void 0:D.profiles)||(Array.isArray(D==null?void 0:D.data)?D.data:[]);t(I),s(!1)}O()},[]),o)return l.jsx("div",{className:"py-8 text-center text-gray-500",children:"Loading permissions..."});if(c)return l.jsx("div",{className:"py-8 text-center text-red-600",children:c});if(!Array.isArray(r)||!a||typeof a!="object")return l.jsx("div",{className:"py-8 text-center text-red-600",children:"Permissions data is unavailable or malformed."});const w=v?e.filter(O=>O.role===v):e,N=r.map(O=>({key:O.permission_key,name:O.permission_name,module:O.module_name,defaultEnabled:O.is_enabled,minRole:O.current_min_role})),_=(O,E,C)=>{x(D=>({...D,[O]:{...D[O]||{},[E]:C}})),h(!0)},b=(O,E)=>{w.forEach(C=>{_(C.id,O,E)})},A=async()=>{f(!0),u("");const O=Object.entries(y).flatMap(([C,D])=>Object.entries(D).map(([k,T])=>({user_id:C,permission_key:k,is_enabled:T}))),{error:E}=await mt("POST","/admin/organization-permissions/user-overrides",{overrides:O});E?u("Failed to save changes."):h(!1),f(!1)};return l.jsxs("div",{className:"bg-white rounded shadow p-4",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Permissions Management"}),l.jsxs("div",{className:"mb-4 flex gap-4 items-center",children:[l.jsx("label",{className:"font-medium",children:"Filter by Role:"}),l.jsx("select",{className:"border rounded px-2 py-1",value:v,onChange:O=>g(O.target.value),children:g6.map(O=>l.jsx("option",{value:O.value,children:O.label},O.value))})]}),l.jsx("div",{className:"overflow-x-auto",children:Object.keys(a).length===0?l.jsx("div",{className:"text-gray-500 text-center py-8",children:"No permissions found."}):l.jsxs("table",{className:"w-full table-auto border mb-2",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-gray-100",children:[l.jsx("th",{className:"p-2 border",children:"Name"}),l.jsx("th",{className:"p-2 border",children:"Email"}),l.jsx("th",{className:"p-2 border",children:"Role"}),N.map(O=>l.jsx("th",{className:"p-2 border",children:l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("span",{children:O.name}),l.jsx("button",{className:"text-xs text-blue-600 underline mt-1",onClick:()=>b(O.key,!0),title:"Enable for all filtered users",children:"Enable All"}),l.jsx("button",{className:"text-xs text-red-600 underline",onClick:()=>b(O.key,!1),title:"Disable for all filtered users",children:"Disable All"})]})},O.key))]})}),l.jsx("tbody",{children:w.map(O=>l.jsxs("tr",{className:"border-b",children:[l.jsx("td",{className:"p-2 border font-medium",children:O.full_name||O.email}),l.jsx("td",{className:"p-2 border",children:O.email}),l.jsx("td",{className:"p-2 border capitalize",children:O.role}),N.map(E=>{var k;const C=(k=y[O.id])==null?void 0:k[E.key],D=C!==void 0?C:E.defaultEnabled;return l.jsx("td",{className:"p-2 border text-center",children:l.jsx("input",{type:"checkbox",checked:D,onChange:T=>_(O.id,E.key,T.target.checked),className:"w-5 h-5 accent-blue-600"})},E.key)})]},O.id))})]})}),l.jsxs("div",{className:"flex gap-4 items-center mt-4",children:[l.jsx("button",{className:`px-4 py-2 rounded bg-blue-600 text-white font-semibold ${!p||d?"opacity-50 cursor-not-allowed":""}`,onClick:A,disabled:!p||d,children:d?"Saving...":"Save Changes"}),p&&!d&&l.jsx("span",{className:"text-yellow-600",children:"Unsaved changes"})]})]})}function y6(){return l.jsxs("div",{className:"bg-white rounded shadow p-6",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Organization Info"}),l.jsxs("div",{className:"flex items-center gap-6 mb-6",children:[l.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-full flex items-center justify-center text-3xl text-gray-400",children:"Logo"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-bold text-lg mb-1",children:"[Organization Name]"}),l.jsx("div",{className:"text-gray-500",children:"[School/Year/Timezone]"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Contact Email"}),l.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"contact@email.com",disabled:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Address"}),l.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"123 Main St",disabled:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Phone"}),l.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"(555) 555-5555",disabled:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Timezone"}),l.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"America/Chicago",disabled:!0})]})]}),l.jsx("div",{className:"mt-6 text-gray-400 italic",children:"[Organization editing coming soon]"})]})}function b6(){return l.jsxs("div",{className:"bg-white rounded shadow p-6",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Email Settings (SMTP)"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"SMTP Host"}),l.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"smtp.example.com",disabled:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"SMTP Port"}),l.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"587",disabled:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Username"}),l.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"user@example.com",disabled:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Password"}),l.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"••••••••",type:"password",disabled:!0})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Sender Name/Email"}),l.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"PTO Connect <noreply@ptoconnect.com>",disabled:!0})]})]}),l.jsxs("div",{className:"mt-6 flex gap-4 items-center",children:[l.jsx("button",{className:"px-4 py-2 rounded bg-blue-600 text-white font-semibold opacity-50 cursor-not-allowed",disabled:!0,children:"Test Connection"}),l.jsx("span",{className:"text-gray-400",children:"[SMTP editing & testing coming soon]"})]})]})}function x6(){return l.jsxs("div",{className:"bg-white rounded shadow p-6",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Subscription"}),l.jsxs("div",{className:"mb-4",children:[l.jsx("div",{className:"font-bold",children:"Current Plan:"}),l.jsx("div",{className:"text-gray-600",children:"[Plan Name]"})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("div",{className:"font-bold",children:"Renewal Date:"}),l.jsx("div",{className:"text-gray-600",children:"[2025-12-31]"})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("div",{className:"font-bold",children:"Payment Method:"}),l.jsx("div",{className:"text-gray-600",children:"[Visa •••• 1234]"})]}),l.jsx("button",{className:"px-4 py-2 rounded bg-blue-600 text-white font-semibold opacity-50 cursor-not-allowed",disabled:!0,children:"Manage Subscription"}),l.jsx("div",{className:"mt-6 text-gray-400 italic",children:"[Subscription management coming soon]"})]})}function w6(){return l.jsxs("div",{className:"bg-white rounded shadow p-6",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"API Keys"}),l.jsxs("table",{className:"w-full table-auto border mb-4",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-gray-100",children:[l.jsx("th",{className:"p-2 border",children:"Key Name"}),l.jsx("th",{className:"p-2 border",children:"Permissions"}),l.jsx("th",{className:"p-2 border",children:"Status"}),l.jsx("th",{className:"p-2 border",children:"Actions"})]})}),l.jsxs("tbody",{children:[l.jsxs("tr",{children:[l.jsx("td",{className:"p-2 border",children:"[Key 1]"}),l.jsx("td",{className:"p-2 border",children:"[Read, Write]"}),l.jsx("td",{className:"p-2 border",children:"Active"}),l.jsx("td",{className:"p-2 border",children:l.jsx("button",{className:"px-2 py-1 bg-blue-600 text-white rounded opacity-50 cursor-not-allowed",disabled:!0,children:"Edit"})})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"p-2 border",children:"[Key 2]"}),l.jsx("td",{className:"p-2 border",children:"[Read]"}),l.jsx("td",{className:"p-2 border",children:"Inactive"}),l.jsx("td",{className:"p-2 border",children:l.jsx("button",{className:"px-2 py-1 bg-blue-600 text-white rounded opacity-50 cursor-not-allowed",disabled:!0,children:"Edit"})})]})]})]}),l.jsx("button",{className:"px-4 py-2 rounded bg-blue-600 text-white font-semibold opacity-50 cursor-not-allowed",disabled:!0,children:"Create New API Key"}),l.jsx("div",{className:"mt-6 text-gray-400 italic",children:"[API key management coming soon]"})]})}const j6=[{key:"org",label:"Organization Info"},{key:"permissions",label:"Permissions"},{key:"email",label:"Email Settings"},{key:"subscription",label:"Subscription"},{key:"apikeys",label:"API Keys"}];function Ug(){const[e,t]=F.useState("org");return l.jsxs("div",{className:"max-w-5xl mx-auto p-4",children:[l.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Admin Dashboard"}),l.jsx("div",{className:"border-b border-gray-200 mb-6",children:l.jsx("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:j6.map(r=>l.jsx("button",{className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${e===r.key?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>t(r.key),children:r.label},r.key))})}),l.jsxs("div",{children:[e==="org"&&l.jsx(y6,{}),e==="permissions"&&l.jsx(v6,{}),e==="email"&&l.jsx(b6,{}),e==="subscription"&&l.jsx(x6,{}),e==="apikeys"&&l.jsx(w6,{})]})]})}const cl="https://api.ptoconnect.com";function N6(){const{profile:e,loading:t}=xo(),[r,n]=F.useState([]),[a,i]=F.useState([]),[o,s]=F.useState(!0),[c,u]=F.useState(null),[d,f]=F.useState(!1),p=(e==null?void 0:e.role)==="admin",h=F.useCallback(async()=>{if(!(e!=null&&e.user_id)||t||!p){s(!1);return}try{s(!0),u(null);const{data:{session:O}}=await He.auth.getSession();if(!(O!=null&&O.access_token))throw new Error("No authentication token available");const[E,C]=await Promise.all([Za.get(`${cl}/api/admin/organization-permissions/templates`,{headers:{Authorization:`Bearer ${O.access_token}`}}),Za.get(`${cl}/api/admin/organization-permissions`,{headers:{Authorization:`Bearer ${O.access_token}`}})]);n(E.data.templates||[]),i(C.data.permissions||[])}catch(O){console.error("Error fetching permission data:",O.message),u(O.message)}finally{s(!1)}},[e==null?void 0:e.user_id,t,p]);F.useEffect(()=>{h()},[h]);const v=F.useCallback(async(O,E)=>{var C,D;if(!p)throw new Error("Only administrators can modify permissions");try{f(!0),u(null);const{data:{session:k}}=await He.auth.getSession();if(!(k!=null&&k.access_token))throw new Error("No authentication token available");const T=await Za.put(`${cl}/api/admin/organization-permissions/${O}`,E,{headers:{Authorization:`Bearer ${k.access_token}`}});return await h(),T.data}catch(k){throw console.error(`Error updating permission ${O}:`,k.message),u(((D=(C=k.response)==null?void 0:C.data)==null?void 0:D.error)||k.message),k}finally{f(!1)}},[p,h]),g=F.useCallback(async O=>{var E,C;if(!p)throw new Error("Only administrators can modify permissions");try{f(!0),u(null);const{data:{session:D}}=await He.auth.getSession();if(!(D!=null&&D.access_token))throw new Error("No authentication token available");const k=await Za.post(`${cl}/api/admin/organization-permissions/bulk-update`,{permissions:O},{headers:{Authorization:`Bearer ${D.access_token}`}});return await h(),k.data}catch(D){throw console.error("Error bulk updating permissions:",D.message),u(((C=(E=D.response)==null?void 0:E.data)==null?void 0:C.error)||D.message),D}finally{f(!1)}},[p,h]),y=F.useCallback(async O=>{var E,C;if(!p)throw new Error("Only administrators can modify permissions");try{f(!0),u(null);const{data:{session:D}}=await He.auth.getSession();if(!(D!=null&&D.access_token))throw new Error("No authentication token available");const k=await Za.delete(`${cl}/api/admin/organization-permissions/${O}`,{headers:{Authorization:`Bearer ${D.access_token}`}});return await h(),k.data}catch(D){throw console.error(`Error resetting permission ${O}:`,D.message),u(((C=(E=D.response)==null?void 0:E.data)==null?void 0:C.error)||D.message),D}finally{f(!1)}},[p,h]),x=F.useCallback(async O=>{if(!p)throw new Error("Only administrators can view user permissions");try{const{data:{session:E}}=await He.auth.getSession();if(!(E!=null&&E.access_token))throw new Error("No authentication token available");return(await Za.get(`${cl}/api/admin/organization-permissions/user/${O}`,{headers:{Authorization:`Bearer ${E.access_token}`}})).data}catch(E){throw console.error(`Error fetching permissions for user ${O}:`,E.message),E}},[p]),w=F.useCallback(()=>{const O={};return a.forEach(E=>{const C=E.module_name;O[C]||(O[C]=[]),O[C].push(E)}),O},[a]),N=F.useCallback(O=>r.find(E=>E.permission_key===O)||null,[r]),_=F.useCallback(O=>{const E=a.find(C=>C.permission_key===O);return!!(E!=null&&E.has_custom_setting)},[a]),b=F.useCallback(O=>{const E=a.find(D=>D.permission_key===O),C=N(O);return C?{permission_key:O,module_name:C.module_name,permission_name:C.permission_name,permission_description:C.permission_description,current_min_role:(E==null?void 0:E.current_min_role)||C.default_min_role,specific_users:(E==null?void 0:E.specific_users)||[],is_enabled:(E==null?void 0:E.is_enabled)!==void 0?E.is_enabled:!0,is_customized:!!(E!=null&&E.has_custom_setting),default_min_role:C.default_min_role}:null},[a,N]),A=F.useCallback(()=>{h()},[h]);return{templates:r,orgPermissions:a,loading:o,error:c,saving:d,isAdmin:p,updatePermission:v,bulkUpdatePermissions:g,resetPermission:y,getUserPermissions:x,refreshPermissions:A,getPermissionsByModule:w,getPermissionTemplate:N,isPermissionCustomized:_,getEffectivePermission:b,userId:e==null?void 0:e.user_id,orgId:e==null?void 0:e.org_id,userRole:e==null?void 0:e.role}}function S6(){const{profile:e,organization:t,loading:r}=xo(),n={admin:5,board_member:4,committee_lead:3,volunteer:2,parent_member:1,teacher:1},a=b=>e!=null&&e.role?n[e.role]>=n[b]:!1,i=b=>e!=null&&e.role?b.includes(e.role):!1,o=b=>(e==null?void 0:e.role)===b,s=()=>a("admin"),c=()=>a("committee_lead"),u=()=>a("committee_lead"),d=()=>a("committee_lead");return{hasRole:a,hasAnyRole:i,hasExactRole:o,canAccessAdminFeatures:s,canManageEvents:c,canManageBudget:u,canManageCommunications:d,canManageUsers:()=>a("admin"),canViewReports:()=>a("board_member"),canCreateEvents:()=>a("volunteer"),canVolunteer:()=>a("parent_member"),isInOrganization:()=>!!(e!=null&&e.org_id)&&!!t,getOrganizationId:()=>e==null?void 0:e.org_id,getOrganizationName:()=>t==null?void 0:t.name,getRoleDisplayName:(b=e==null?void 0:e.role)=>({admin:"Administrator",board_member:"Board Member",committee_lead:"Committee Lead",volunteer:"Volunteer",parent_member:"Parent Member",teacher:"Teacher"})[b]||"Unknown Role",getRoleColor:(b=e==null?void 0:e.role)=>({admin:"bg-red-100 text-red-800",board_member:"bg-purple-100 text-purple-800",committee_lead:"bg-blue-100 text-blue-800",volunteer:"bg-green-100 text-green-800",parent_member:"bg-yellow-100 text-yellow-800",teacher:"bg-indigo-100 text-indigo-800"})[b]||"bg-gray-100 text-gray-800",canAccessRoute:b=>({"/dashboard/admin":s(),"/dashboard/board":a("board_member"),"/dashboard/committee":a("committee_lead"),"/dashboard/volunteer":a("volunteer"),"/dashboard/parent":a("parent_member"),"/dashboard/teacher":o("teacher"),"/events":c(),"/budget":u(),"/communications":d(),"/billing":s(),"/shared-library":a("volunteer"),"/teacher-requests":o("teacher")})[b]??!1,currentRole:e==null?void 0:e.role,currentUserId:e==null?void 0:e.id,loading:r}}function _6(){const{canAccessAdminFeatures:e}=S6(),{templates:t,loading:r,error:n,saving:a,isAdmin:i,updatePermission:o,bulkUpdatePermissions:s,resetPermission:c,getEffectivePermission:u,isPermissionCustomized:d,refreshPermissions:f}=N6(),[p,h]=F.useState("all"),[v,g]=F.useState({}),[y,x]=F.useState(!1),[w,N]=F.useState(!1),_=[{value:"volunteer",label:"Volunteer",color:"bg-green-100 text-green-800"},{value:"committee_lead",label:"Committee Lead",color:"bg-blue-100 text-blue-800"},{value:"board_member",label:"Board Member",color:"bg-purple-100 text-purple-800"},{value:"admin",label:"Administrator",color:"bg-red-100 text-red-800"}],b=[...new Set(t.map($=>$.module_name))].sort(),O=(p==="all"?t:t.filter($=>$.module_name===p)).reduce(($,I)=>{const H=I.module_name;return $[H]||($[H]=[]),$[H].push(I),$},{}),E=($,I,H)=>{g(V=>({...V,[$]:{...V[$],[I]:H}}))},C=async $=>{const I=v[$];if(I)try{const H=u($),V={min_role_required:I.min_role_required||H.current_min_role,specific_users:I.specific_users||H.specific_users,is_enabled:I.is_enabled!==void 0?I.is_enabled:H.is_enabled};await o($,V),g(X=>{const Q={...X};return delete Q[$],Q}),alert(`Permission "${$}" updated successfully!`)}catch(H){alert(`Failed to update permission: ${H.message}`)}},D=async()=>{if(Object.keys(v).length!==0)try{const $=Object.entries(v).map(([I,H])=>{const V=u(I);return{permission_key:I,min_role_required:H.min_role_required||V.current_min_role,specific_users:H.specific_users||V.specific_users,is_enabled:H.is_enabled!==void 0?H.is_enabled:V.is_enabled}});await s($),g({}),alert(`Successfully updated ${$.length} permissions!`)}catch($){alert(`Failed to save changes: ${$.message}`)}},k=async $=>{if(confirm(`Reset "${$}" to default settings?`))try{await c($),g(I=>{const H={...I};return delete H[$],H}),alert(`Permission "${$}" reset to default!`)}catch(I){alert(`Failed to reset permission: ${I.message}`)}},T=$=>{const I=u($),H=v[$];return H?{...I,current_min_role:H.min_role_required||I.current_min_role,specific_users:H.specific_users||I.specific_users,is_enabled:H.is_enabled!==void 0?H.is_enabled:I.is_enabled}:I};return!e||!i?l.jsx("div",{className:"max-w-4xl mx-auto p-6",children:l.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[l.jsx("h2",{className:"text-lg font-semibold text-red-800 mb-2",children:"Access Denied"}),l.jsx("p",{className:"text-red-600",children:"Only administrators can access permission management."})]})}):r?l.jsx("div",{className:"max-w-6xl mx-auto p-6",children:l.jsxs("div",{className:"animate-pulse",children:[l.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-6"}),l.jsx("div",{className:"space-y-4",children:[1,2,3].map($=>l.jsx("div",{className:"h-20 bg-gray-200 rounded"},$))})]})}):n?l.jsx("div",{className:"max-w-4xl mx-auto p-6",children:l.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[l.jsx("h2",{className:"text-lg font-semibold text-red-800 mb-2",children:"Error Loading Permissions"}),l.jsx("p",{className:"text-red-600 mb-4",children:n}),l.jsx("button",{onClick:f,className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700",children:"Retry"})]})}):l.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Permission Management"}),l.jsx("p",{className:"text-gray-600",children:"Customize which roles can perform specific actions in your organization."})]}),l.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Module:"}),l.jsxs("select",{value:p,onChange:$=>h($.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm",children:[l.jsx("option",{value:"all",children:"All Modules"}),b.map($=>l.jsx("option",{value:$,children:$.charAt(0).toUpperCase()+$.slice(1).replace("_"," ")},$))]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>N(!w),className:`px-4 py-2 rounded-md text-sm font-medium ${w?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:w?"Exit Bulk Mode":"Bulk Edit"}),Object.keys(v).length>0&&l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>x(!y),className:"px-4 py-2 bg-yellow-100 text-yellow-800 rounded-md text-sm font-medium hover:bg-yellow-200",children:["Preview Changes (",Object.keys(v).length,")"]}),l.jsx("button",{onClick:D,disabled:a,className:"px-4 py-2 bg-green-600 text-white rounded-md text-sm font-medium hover:bg-green-700 disabled:opacity-50",children:a?"Saving...":"Save All Changes"})]})]})]})}),y&&Object.keys(v).length>0&&l.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:[l.jsx("h3",{className:"font-semibold text-yellow-800 mb-2",children:"Pending Changes"}),l.jsx("div",{className:"space-y-2",children:Object.entries(v).map(([$,I])=>l.jsxs("div",{className:"text-sm text-yellow-700",children:[l.jsxs("span",{className:"font-medium",children:[$,":"]}),I.min_role_required&&l.jsxs("span",{className:"ml-2",children:["Role → ",I.min_role_required]}),I.is_enabled!==void 0&&l.jsxs("span",{className:"ml-2",children:["Enabled → ",I.is_enabled?"Yes":"No"]})]},$))})]}),l.jsx("div",{className:"space-y-8",children:Object.entries(O).map(([$,I])=>l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[l.jsx("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("h2",{className:"text-xl font-semibold text-gray-900 capitalize",children:[$.replace("_"," ")," Module"]}),l.jsxs("span",{className:"text-sm text-gray-500",children:[I.length," permissions"]})]})}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Permission"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Minimum Role"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:I.map(H=>{const V=T(H.permission_key),X=v[H.permission_key],Q=d(H.permission_key);return l.jsxs("tr",{className:X?"bg-yellow-50":"",children:[l.jsx("td",{className:"px-6 py-4",children:l.jsxs("div",{children:[l.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[V.permission_name,Q&&l.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:"Custom"}),X&&l.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-yellow-100 text-yellow-800",children:"Modified"})]}),l.jsx("div",{className:"text-sm text-gray-500",children:V.permission_description})]})}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("select",{value:V.current_min_role,onChange:Y=>E(H.permission_key,"min_role_required",Y.target.value),className:"border border-gray-300 rounded-md px-3 py-1 text-sm",children:_.map(Y=>l.jsx("option",{value:Y.value,children:Y.label},Y.value))})}),l.jsx("td",{className:"px-6 py-4",children:l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",checked:V.is_enabled,onChange:Y=>E(H.permission_key,"is_enabled",Y.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),l.jsx("span",{className:"ml-2 text-sm text-gray-700",children:V.is_enabled?"Enabled":"Disabled"})]})}),l.jsx("td",{className:"px-6 py-4",children:l.jsxs("div",{className:"flex items-center gap-2",children:[X&&l.jsx("button",{onClick:()=>C(H.permission_key),disabled:a,className:"text-green-600 hover:text-green-800 text-sm font-medium",children:"Save"}),Q&&l.jsx("button",{onClick:()=>k(H.permission_key),disabled:a,className:"text-gray-600 hover:text-gray-800 text-sm font-medium",children:"Reset"})]})})]},H.permission_key)})})]})})]},$))}),l.jsxs("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[l.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:"Permission Management Guide"}),l.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[l.jsxs("li",{children:["• ",l.jsx("strong",{children:"Minimum Role:"})," The lowest role level that can perform this action"]}),l.jsxs("li",{children:["• ",l.jsx("strong",{children:"Custom:"})," Permission has been modified from the default setting"]}),l.jsxs("li",{children:["• ",l.jsx("strong",{children:"Modified:"})," Permission has unsaved changes"]}),l.jsxs("li",{children:["• ",l.jsx("strong",{children:"Reset:"})," Restore permission to its default setting"]}),l.jsx("li",{children:"• Changes take effect immediately for all users in your organization"})]})]})]})}function A6(){return l.jsxs("div",{className:"p-6",children:[l.jsx("h1",{className:"text-2xl font-bold text-blue-600",children:"Welcome to the Board Dashboard"}),l.jsx("p",{className:"mt-4 text-gray-700",children:"This is a placeholder for the Board dashboard."})]})}function O6(){return l.jsxs("div",{className:"p-6",children:[l.jsx("h1",{className:"text-2xl font-bold text-blue-600",children:"Welcome to the Committee Dashboard"}),l.jsx("p",{className:"mt-4 text-gray-700",children:"This is a placeholder for the Committee dashboard."})]})}function P6(){return l.jsxs("div",{className:"p-6",children:[l.jsx("h1",{className:"text-2xl font-bold text-blue-600",children:"Welcome to the Volunteer Dashboard"}),l.jsx("p",{className:"mt-4 text-gray-700",children:"This is a placeholder for the Volunteer dashboard."})]})}function E6(){return l.jsxs("div",{className:"p-6",children:[l.jsx("h1",{className:"text-2xl font-bold text-blue-600",children:"Welcome to the Parent Dashboard"}),l.jsx("p",{className:"mt-4 text-gray-700",children:"This is a placeholder for the Parent dashboard."})]})}function k6(){return l.jsxs("div",{className:"p-6",children:[l.jsx("h1",{className:"text-2xl font-bold text-blue-600",children:"Welcome to the Teacher Dashboard"}),l.jsx("p",{className:"mt-4 text-gray-700",children:"This is a placeholder for the Teacher dashboard."})]})}function T6(){const[e,t]=F.useState([]),[r,n]=F.useState("");F.useEffect(()=>{async function i(){const{data:{session:o},error:s}=await He.auth.getSession();if(s||!(o!=null&&o.access_token)){n("Authentication error. Please log in again.");return}try{const c=await fetch("/api/events",{headers:{Authorization:`Bearer ${o.access_token}`}}),u=await c.json();c.ok?t(u):n(u.error||"Failed to load events")}catch(c){console.error("Fetch error:",c),n("Failed to connect to server.")}}i()},[]);const a=async i=>{if(!window.confirm("Are you sure you want to delete this event?"))return;const{data:{session:s}}=await He.auth.getSession();if(!(s!=null&&s.access_token)){alert("You must be logged in to delete events.");return}const c=await fetch(`/api/events/${i}`,{method:"DELETE",headers:{Authorization:`Bearer ${s.access_token}`}});c.ok?t(u=>u.filter(d=>d.id!==i)):(alert("Failed to delete event."),console.error("Delete error:",await c.text()))};return l.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 mb-8",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Events Dashboard"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your PTO events with Stella's assistance"})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsxs(Oa,{to:"/events/calendar",className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:[l.jsx(jn,{className:"w-4 h-4"}),l.jsx("span",{children:"Calendar View"})]}),l.jsxs(Oa,{to:"/events/create-enhanced",className:"flex items-center space-x-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[l.jsx(Vt,{className:"w-4 h-4"}),l.jsx("span",{children:"Create Event with Stella"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[l.jsx(Oa,{to:"/events/create-enhanced",className:"p-6 bg-gradient-to-br from-blue-50 to-purple-50 rounded-lg border border-purple-200 hover:shadow-lg transition-all group",children:l.jsxs("div",{className:"flex items-start space-x-4",children:[l.jsx("div",{className:"p-2 bg-blue-600 rounded-lg",children:l.jsx(Iv,{className:"w-6 h-6 text-white"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900 group-hover:text-blue-600",children:"Stella-Powered Event Creation"}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Let Stella create complete event workflows automatically"}),l.jsxs("div",{className:"flex items-center space-x-1 mt-2 text-xs text-purple-600",children:[l.jsx(Vt,{className:"w-3 h-3"}),l.jsx("span",{children:"Full workflow automation"})]})]})]})}),l.jsx(Oa,{to:"/ai-workflow-orchestrator",className:"p-6 bg-gradient-to-br from-purple-50 to-pink-50 rounded-lg border border-pink-200 hover:shadow-lg transition-all group",children:l.jsxs("div",{className:"flex items-start space-x-4",children:[l.jsx("div",{className:"p-2 bg-purple-600 rounded-lg",children:l.jsx(Fy,{className:"w-6 h-6 text-white"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900 group-hover:text-purple-600",children:"Workflow Orchestrator"}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage and optimize your event workflows"}),l.jsxs("div",{className:"flex items-center space-x-1 mt-2 text-xs text-purple-600",children:[l.jsx(ra,{className:"w-3 h-3"}),l.jsx("span",{children:"Advanced management"})]})]})]})}),l.jsx("div",{className:"p-6 bg-gradient-to-br from-green-50 to-blue-50 rounded-lg border border-green-200",children:l.jsxs("div",{className:"flex items-start space-x-4",children:[l.jsx("div",{className:"p-2 bg-green-600 rounded-lg",children:l.jsx(Zn,{className:"w-6 h-6 text-white"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:"Event Insights"}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Stella-powered analytics and recommendations"}),l.jsx("div",{className:"text-xs text-green-600 mt-2",children:"Coming soon in Phase 2.1"})]})]})})]}),r&&l.jsx("p",{className:"text-red-600 mb-4",children:r}),e.length===0&&!r&&l.jsx("p",{children:"No events created yet."}),l.jsx("ul",{className:"space-y-4",children:e.map(i=>l.jsxs("li",{className:"border p-4 rounded shadow-sm bg-white",children:[l.jsxs("div",{className:"flex justify-between items-center mb-1",children:[l.jsx("h2",{className:"text-xl font-semibold",children:i.title}),l.jsxs("div",{className:"flex gap-2 text-sm",children:[l.jsx(Oa,{to:`/events/edit/${i.id}`,className:"text-blue-600 hover:underline",children:"✏️ Edit"}),l.jsx("button",{onClick:()=>a(i.id),className:"text-red-600 hover:underline",children:"🗑️ Delete"})]})]}),l.jsxs("p",{className:"text-sm text-gray-500",children:[new Date(i.event_date).toLocaleDateString()," • ",i.school_level," • ",i.category]}),l.jsx("p",{className:"mt-2",children:i.description}),i.share_public&&l.jsx("span",{className:"text-xs inline-block mt-2 px-2 py-1 bg-green-100 text-green-800 rounded",children:"Shared to Library"})]},i.id))})]})}const C6=()=>{const e=gr(),[t,r]=F.useState("grid"),[n,a]=F.useState("manual"),[i,o]=F.useState(""),[s,c]=F.useState("all"),u=()=>{e("/events/create")},d=()=>{e("/events/create-enhanced")},f=()=>{e("/events/create-enhanced")},p=b=>{e(`/events/${b}`)},h=b=>{e(`/events/${b}/edit`)},v=b=>{window.confirm("Are you sure you want to delete this event?")&&console.log("Deleting event:",b)},g=()=>{e("/events/create")},y=[{id:1,name:"Fall Festival 2024",date:"2024-10-15",status:"planning",attendees:300,budget:3e3,profit:1800,progress:65,type:"stella-generated",description:"Community celebration with games, food, and family fun"},{id:2,name:"Book Fair",date:"2024-11-20",status:"active",attendees:150,budget:1500,profit:800,progress:85,type:"manual",description:"Annual book fair to promote reading"},{id:3,name:"Science Night",date:"2024-12-05",status:"draft",attendees:200,budget:2e3,profit:1200,progress:25,type:"manual",description:"Interactive science demonstrations and experiments"}],x=b=>{const A={draft:"bg-gray-100 text-gray-800",planning:"bg-blue-100 text-blue-800",active:"bg-green-100 text-green-800",completed:"bg-purple-100 text-purple-800",cancelled:"bg-red-100 text-red-800"};return A[b]||A.draft},w=({event:b})=>l.jsx("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 hover:shadow-lg transition-shadow",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:b.name}),b.type==="stella-generated"&&l.jsx(Vt,{className:"w-4 h-4 text-purple-500",title:"Stella Generated"})]}),l.jsx("p",{className:"text-sm text-gray-600 mb-3",children:b.description}),l.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(jn,{className:"w-4 h-4"}),l.jsx("span",{children:new Date(b.date).toLocaleDateString()})]}),l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(ra,{className:"w-4 h-4"}),l.jsxs("span",{children:[b.attendees," expected"]})]})]})]}),l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${x(b.status)}`,children:b.status.charAt(0).toUpperCase()+b.status.slice(1)})]}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[l.jsx("span",{className:"text-gray-600",children:"Progress"}),l.jsxs("span",{className:"font-medium text-gray-900",children:[b.progress,"%"]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${b.progress}%`}})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[l.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[l.jsx("div",{className:"text-sm text-gray-600",children:"Budget"}),l.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["$",b.budget]})]}),l.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[l.jsx("div",{className:"text-sm text-green-600",children:"Projected Profit"}),l.jsxs("div",{className:"text-lg font-semibold text-green-700",children:["$",b.profit]})]})]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsxs("button",{onClick:()=>p(b.id),className:"flex-1 flex items-center justify-center px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx(ds,{className:"w-4 h-4 mr-2"}),"View"]}),l.jsxs("button",{onClick:()=>h(b.id),className:"flex-1 flex items-center justify-center px-3 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[l.jsx(zu,{className:"w-4 h-4 mr-2"}),"Edit"]})]})]})}),N=({event:b})=>l.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-4 flex-1",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("h3",{className:"font-medium text-gray-900",children:b.name}),b.type==="stella-generated"&&l.jsx(Vt,{className:"w-4 h-4 text-purple-500"}),l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${x(b.status)}`,children:b.status})]}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:b.description})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-sm text-gray-500",children:"Date"}),l.jsx("div",{className:"font-medium",children:new Date(b.date).toLocaleDateString()})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-sm text-gray-500",children:"Attendees"}),l.jsx("div",{className:"font-medium",children:b.attendees})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-sm text-gray-500",children:"Budget"}),l.jsxs("div",{className:"font-medium",children:["$",b.budget]})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-sm text-gray-500",children:"Progress"}),l.jsxs("div",{className:"font-medium",children:[b.progress,"%"]})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{onClick:()=>p(b.id),className:"p-2 text-blue-600 hover:bg-blue-50 rounded",children:l.jsx(ds,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>h(b.id),className:"p-2 text-gray-600 hover:bg-gray-50 rounded",children:l.jsx(zu,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>v(b.id),className:"p-2 text-red-600 hover:bg-red-50 rounded",children:l.jsx(xP,{className:"w-4 h-4"})})]})]})}),_=()=>l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Create New Event"}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-6 hover:border-blue-300 transition-colors",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(bP,{className:"w-8 h-8 text-gray-600"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:"Manual Creation"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Full control over every detail"})]})]}),l.jsxs("ul",{className:"text-sm text-gray-600 space-y-2 mb-4",children:[l.jsx("li",{children:"• Step-by-step event setup"}),l.jsx("li",{children:"• Custom timeline creation"}),l.jsx("li",{children:"• Manual budget planning"}),l.jsx("li",{children:"• Individual task assignment"})]}),l.jsx("button",{onClick:u,className:"w-full py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Create Manually"})]}),l.jsxs("div",{className:"border-2 border-purple-200 rounded-lg p-6 hover:border-purple-400 transition-colors bg-purple-50",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(Vt,{className:"w-8 h-8 text-purple-600"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-purple-900",children:"Stella Assisted"}),l.jsx("p",{className:"text-sm text-purple-700",children:"Stella's suggestions with your control"})]})]}),l.jsxs("ul",{className:"text-sm text-purple-700 space-y-2 mb-4",children:[l.jsx("li",{children:"• Stella-generated suggestions"}),l.jsx("li",{children:"• Smart template recommendations"}),l.jsx("li",{children:"• Automated task suggestions"}),l.jsx("li",{children:"• Budget estimation help"})]}),l.jsx("button",{onClick:d,className:"w-full py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Create with Stella's Help"})]}),l.jsxs("div",{className:"border-2 border-pink-200 rounded-lg p-6 hover:border-pink-400 transition-colors bg-pink-50",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(Vt,{className:"w-8 h-8 text-pink-600"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-pink-900",children:"Stella Automated"}),l.jsx("p",{className:"text-sm text-pink-700",children:"Complete workflow generation"})]})]}),l.jsxs("ul",{className:"text-sm text-pink-700 space-y-2 mb-4",children:[l.jsx("li",{children:"• Complete workflow creation"}),l.jsx("li",{children:"• Automated timeline & tasks"}),l.jsx("li",{children:"• Budget & profit projections"}),l.jsx("li",{children:"• Communication campaigns"})]}),l.jsx("button",{onClick:f,className:"w-full py-2 bg-pink-600 text-white rounded-lg hover:bg-pink-700 transition-colors",children:"Generate Full Workflow"})]})]})]});return l.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Events Dashboard"}),l.jsx("p",{className:"text-gray-600",children:"Manage your PTO events with manual control or Stella's assistance"})]}),l.jsx("div",{className:"flex items-center space-x-3",children:l.jsx("button",{onClick:()=>r(t==="grid"?"list":"grid"),className:"p-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:t==="grid"?l.jsx(FN,{className:"w-5 h-5"}):l.jsx(BN,{className:"w-5 h-5"})})})]}),l.jsx(_,{}),l.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(qN,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"Search events...",value:i,onChange:b=>o(b.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),l.jsxs("select",{value:s,onChange:b=>c(b.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[l.jsx("option",{value:"all",children:"All Status"}),l.jsx("option",{value:"draft",children:"Draft"}),l.jsx("option",{value:"planning",children:"Planning"}),l.jsx("option",{value:"active",children:"Active"}),l.jsx("option",{value:"completed",children:"Completed"})]})]})}),l.jsx("div",{className:t==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:y.map(b=>t==="grid"?l.jsx(w,{event:b},b.id):l.jsx(N,{event:b},b.id))}),y.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx(jn,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No events found"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Get started by creating your first event"}),l.jsx("button",{onClick:g,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Create Your First Event"})]})]})})};function xt(e){"@babel/helpers - typeof";return xt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xt(e)}var Qr=Uint8Array,Dn=Uint16Array,Wy=Int32Array,Bp=new Qr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),qp=new Qr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),qv=new Qr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),nS=function(e,t){for(var r=new Dn(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new Wy(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},aS=nS(Bp,2),iS=aS.b,zv=aS.r;iS[28]=258,zv[258]=28;var oS=nS(qp,0),L6=oS.b,f1=oS.r,Uv=new Dn(32768);for(var Zt=0;Zt<32768;++Zt){var ro=(Zt&43690)>>1|(Zt&21845)<<1;ro=(ro&52428)>>2|(ro&13107)<<2,ro=(ro&61680)>>4|(ro&3855)<<4,Uv[Zt]=((ro&65280)>>8|(ro&255)<<8)>>1}var ai=function(e,t,r){for(var n=e.length,a=0,i=new Dn(t);a<n;++a)e[a]&&++i[e[a]-1];var o=new Dn(t);for(a=1;a<t;++a)o[a]=o[a-1]+i[a-1]<<1;var s;if(r){s=new Dn(1<<t);var c=15-t;for(a=0;a<n;++a)if(e[a])for(var u=a<<4|e[a],d=t-e[a],f=o[e[a]-1]++<<d,p=f|(1<<d)-1;f<=p;++f)s[Uv[f]>>c]=u}else for(s=new Dn(n),a=0;a<n;++a)e[a]&&(s[a]=Uv[o[e[a]-1]++]>>15-e[a]);return s},mo=new Qr(288);for(var Zt=0;Zt<144;++Zt)mo[Zt]=8;for(var Zt=144;Zt<256;++Zt)mo[Zt]=9;for(var Zt=256;Zt<280;++Zt)mo[Zt]=7;for(var Zt=280;Zt<288;++Zt)mo[Zt]=8;var Gu=new Qr(32);for(var Zt=0;Zt<32;++Zt)Gu[Zt]=5;var M6=ai(mo,9,0),$6=ai(mo,9,1),D6=ai(Gu,5,0),I6=ai(Gu,5,1),Wg=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},wa=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},Gg=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},Gy=function(e){return(e+7)/8|0},sS=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Qr(e.subarray(t,r))},R6=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Sa=function(e,t,r){var n=new Error(t||R6[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,Sa),!r)throw n;return n},F6=function(e,t,r,n){var a=e.length,i=0;if(!a||t.f&&!t.l)return r||new Qr(0);var o=!r,s=o||t.i!=2,c=t.i;o&&(r=new Qr(a*3));var u=function(be){var pe=r.length;if(be>pe){var Ee=new Qr(Math.max(pe*2,be));Ee.set(r),r=Ee}},d=t.f||0,f=t.p||0,p=t.b||0,h=t.l,v=t.d,g=t.m,y=t.n,x=a*8;do{if(!h){d=wa(e,f,1);var w=wa(e,f+1,3);if(f+=3,w)if(w==1)h=$6,v=I6,g=9,y=5;else if(w==2){var A=wa(e,f,31)+257,O=wa(e,f+10,15)+4,E=A+wa(e,f+5,31)+1;f+=14;for(var C=new Qr(E),D=new Qr(19),k=0;k<O;++k)D[qv[k]]=wa(e,f+k*3,7);f+=O*3;for(var T=Wg(D),$=(1<<T)-1,I=ai(D,T,1),k=0;k<E;){var H=I[wa(e,f,$)];f+=H&15;var N=H>>4;if(N<16)C[k++]=N;else{var V=0,X=0;for(N==16?(X=3+wa(e,f,3),f+=2,V=C[k-1]):N==17?(X=3+wa(e,f,7),f+=3):N==18&&(X=11+wa(e,f,127),f+=7);X--;)C[k++]=V}}var Q=C.subarray(0,A),Y=C.subarray(A);g=Wg(Q),y=Wg(Y),h=ai(Q,g,1),v=ai(Y,y,1)}else Sa(1);else{var N=Gy(f)+4,_=e[N-4]|e[N-3]<<8,b=N+_;if(b>a){c&&Sa(0);break}s&&u(p+_),r.set(e.subarray(N,b),p),t.b=p+=_,t.p=f=b*8,t.f=d;continue}if(f>x){c&&Sa(0);break}}s&&u(p+131072);for(var G=(1<<g)-1,ae=(1<<y)-1,M=f;;M=f){var V=h[Gg(e,f)&G],z=V>>4;if(f+=V&15,f>x){c&&Sa(0);break}if(V||Sa(2),z<256)r[p++]=z;else if(z==256){M=f,h=null;break}else{var Z=z-254;if(z>264){var k=z-257,te=Bp[k];Z=wa(e,f,(1<<te)-1)+iS[k],f+=te}var ie=v[Gg(e,f)&ae],fe=ie>>4;ie||Sa(3),f+=ie&15;var Y=L6[fe];if(fe>3){var te=qp[fe];Y+=Gg(e,f)&(1<<te)-1,f+=te}if(f>x){c&&Sa(0);break}s&&u(p+131072);var de=p+Z;if(p<Y){var oe=i-Y,xe=Math.min(Y,de);for(oe+p<0&&Sa(3);p<xe;++p)r[p]=n[oe+p]}for(;p<de;++p)r[p]=r[p-Y]}}t.l=h,t.p=M,t.b=p,t.f=d,h&&(d=1,t.m=g,t.d=v,t.n=y)}while(!d);return p!=r.length&&o?sS(r,0,p):r.subarray(0,p)},_i=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},mu=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},Hg=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,i=r.slice();if(!a)return{t:cS,l:0};if(a==1){var o=new Qr(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(b,A){return b.f-A.f}),r.push({s:-1,f:25001});var s=r[0],c=r[1],u=0,d=1,f=2;for(r[0]={s:-1,f:s.f+c.f,l:s,r:c};d!=a-1;)s=r[r[u].f<r[f].f?u++:f++],c=r[u!=d&&r[u].f<r[f].f?u++:f++],r[d++]={s:-1,f:s.f+c.f,l:s,r:c};for(var p=i[0].s,n=1;n<a;++n)i[n].s>p&&(p=i[n].s);var h=new Dn(p+1),v=Wv(r[d-1],h,0);if(v>t){var n=0,g=0,y=v-t,x=1<<y;for(i.sort(function(A,O){return h[O.s]-h[A.s]||A.f-O.f});n<a;++n){var w=i[n].s;if(h[w]>t)g+=x-(1<<v-h[w]),h[w]=t;else break}for(g>>=y;g>0;){var N=i[n].s;h[N]<t?g-=1<<t-h[N]++-1:++n}for(;n>=0&&g;--n){var _=i[n].s;h[_]==t&&(--h[_],++g)}v=t}return{t:new Qr(h),l:v}},Wv=function(e,t,r){return e.s==-1?Math.max(Wv(e.l,t,r+1),Wv(e.r,t,r+1)):t[e.s]=r},h1=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Dn(++t),n=0,a=e[0],i=1,o=function(c){r[n++]=c},s=1;s<=t;++s)if(e[s]==a&&s!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(a),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(a);i=1,a=e[s]}return{c:r.subarray(0,n),n:t}},gu=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},lS=function(e,t,r){var n=r.length,a=Gy(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<n;++i)e[a+i+4]=r[i];return(a+4+n)*8},p1=function(e,t,r,n,a,i,o,s,c,u,d){_i(t,d++,r),++a[256];for(var f=Hg(a,15),p=f.t,h=f.l,v=Hg(i,15),g=v.t,y=v.l,x=h1(p),w=x.c,N=x.n,_=h1(g),b=_.c,A=_.n,O=new Dn(19),E=0;E<w.length;++E)++O[w[E]&31];for(var E=0;E<b.length;++E)++O[b[E]&31];for(var C=Hg(O,7),D=C.t,k=C.l,T=19;T>4&&!D[qv[T-1]];--T);var $=u+5<<3,I=gu(a,mo)+gu(i,Gu)+o,H=gu(a,p)+gu(i,g)+o+14+3*T+gu(O,D)+2*O[16]+3*O[17]+7*O[18];if(c>=0&&$<=I&&$<=H)return lS(t,d,e.subarray(c,c+u));var V,X,Q,Y;if(_i(t,d,1+(H<I)),d+=2,H<I){V=ai(p,h,0),X=p,Q=ai(g,y,0),Y=g;var G=ai(D,k,0);_i(t,d,N-257),_i(t,d+5,A-1),_i(t,d+10,T-4),d+=14;for(var E=0;E<T;++E)_i(t,d+3*E,D[qv[E]]);d+=3*T;for(var ae=[w,b],M=0;M<2;++M)for(var z=ae[M],E=0;E<z.length;++E){var Z=z[E]&31;_i(t,d,G[Z]),d+=D[Z],Z>15&&(_i(t,d,z[E]>>5&127),d+=z[E]>>12)}}else V=M6,X=mo,Q=D6,Y=Gu;for(var E=0;E<s;++E){var te=n[E];if(te>255){var Z=te>>18&31;mu(t,d,V[Z+257]),d+=X[Z+257],Z>7&&(_i(t,d,te>>23&31),d+=Bp[Z]);var ie=te&31;mu(t,d,Q[ie]),d+=Y[ie],ie>3&&(mu(t,d,te>>5&8191),d+=qp[ie])}else mu(t,d,V[te]),d+=X[te]}return mu(t,d,V[256]),d+X[256]},B6=new Wy([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),cS=new Qr(0),q6=function(e,t,r,n,a,i){var o=i.z||e.length,s=new Qr(n+o+5*(1+Math.ceil(o/7e3))+a),c=s.subarray(n,s.length-a),u=i.l,d=(i.r||0)&7;if(t){d&&(c[0]=i.r>>3);for(var f=B6[t-1],p=f>>13,h=f&8191,v=(1<<r)-1,g=i.p||new Dn(32768),y=i.h||new Dn(v+1),x=Math.ceil(r/3),w=2*x,N=function($e){return(e[$e]^e[$e+1]<<x^e[$e+2]<<w)&v},_=new Wy(25e3),b=new Dn(288),A=new Dn(32),O=0,E=0,C=i.i||0,D=0,k=i.w||0,T=0;C+2<o;++C){var $=N(C),I=C&32767,H=y[$];if(g[I]=H,y[$]=I,k<=C){var V=o-C;if((O>7e3||D>24576)&&(V>423||!u)){d=p1(e,c,0,_,b,A,E,D,T,C-T,d),D=O=E=0,T=C;for(var X=0;X<286;++X)b[X]=0;for(var X=0;X<30;++X)A[X]=0}var Q=2,Y=0,G=h,ae=I-H&32767;if(V>2&&$==N(C-ae))for(var M=Math.min(p,V)-1,z=Math.min(32767,C),Z=Math.min(258,V);ae<=z&&--G&&I!=H;){if(e[C+Q]==e[C+Q-ae]){for(var te=0;te<Z&&e[C+te]==e[C+te-ae];++te);if(te>Q){if(Q=te,Y=ae,te>M)break;for(var ie=Math.min(ae,te-2),fe=0,X=0;X<ie;++X){var de=C-ae+X&32767,oe=g[de],xe=de-oe&32767;xe>fe&&(fe=xe,H=de)}}}I=H,H=g[I],ae+=I-H&32767}if(Y){_[D++]=268435456|zv[Q]<<18|f1[Y];var be=zv[Q]&31,pe=f1[Y]&31;E+=Bp[be]+qp[pe],++b[257+be],++A[pe],k=C+Q,++O}else _[D++]=e[C],++b[e[C]]}}for(C=Math.max(C,k);C<o;++C)_[D++]=e[C],++b[e[C]];d=p1(e,c,u,_,b,A,E,D,T,C-T,d),u||(i.r=d&7|c[d/8|0]<<3,d-=7,i.h=y,i.p=g,i.i=C,i.w=k)}else{for(var C=i.w||0;C<o+u;C+=65535){var Ee=C+65535;Ee>=o&&(c[d/8|0]=u,Ee=o),d=lS(c,d+1,e.subarray(C,Ee))}i.i=o}return sS(s,0,n+Gy(d)+a)},uS=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,i=r.length|0,o=0;o!=i;){for(var s=Math.min(o+2655,i);o<s;++o)a+=n+=r[o];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},z6=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),o=new Qr(i.length+e.length);o.set(i),o.set(e,i.length),e=o,a.w=i.length}return q6(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},dS=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},U6=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=uS();a.p(t.dictionary),dS(e,2,a.d())}},W6=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&Sa(6,"invalid zlib data"),(e[1]>>5&1)==1&&Sa(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function Gv(e,t){t||(t={});var r=uS();r.p(e);var n=z6(e,t,t.dictionary?6:2,4);return U6(n,t),dS(n,n.length-4,r.d()),n}function G6(e,t){return F6(e.subarray(W6(e),-4),{i:2},t,t)}var H6=typeof TextDecoder<"u"&&new TextDecoder,V6=0;try{H6.decode(cS,{stream:!0}),V6=1}catch{}var rt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Vg(){rt.console&&typeof rt.console.log=="function"&&rt.console.log.apply(rt.console,arguments)}var Ft={log:Vg,warn:function(e){rt.console&&(typeof rt.console.warn=="function"?rt.console.warn.apply(rt.console,arguments):Vg.call(null,arguments))},error:function(e){rt.console&&(typeof rt.console.error=="function"?rt.console.error.apply(rt.console,arguments):Vg(e))}};function Yg(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){Ho(n.response,t,r)},n.onerror=function(){Ft.error("could not download file")},n.send()}function m1(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Vf(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Lu,Hv,Ho=rt.saveAs||((typeof window>"u"?"undefined":xt(window))!=="object"||window!==rt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=rt.URL||rt.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?m1(a.href)?Yg(e,t,r):Vf(a,a.target="_blank"):Vf(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){Vf(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(m1(e))Yg(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){Vf(n)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:xt(i)!=="object"&&(Ft.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return Yg(e,t,r);var a=e.type==="application/octet-stream",i=/constructor/i.test(rt.HTMLElement)||rt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||a&&i)&&(typeof FileReader>"u"?"undefined":xt(FileReader))==="object"){var s=new FileReader;s.onloadend=function(){var d=s.result;d=o?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},s.readAsDataURL(e)}else{var c=rt.URL||rt.webkitURL,u=c.createObjectURL(e);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function fS(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(s){return[parseInt(s[1]),parseInt(s[2]),parseInt(s[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(s){return[parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(s){return[parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16),parseInt(s[3]+s[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,o=a.exec(e);o&&(t=i(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var s=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return s.length==1&&(s="0"+s),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+s+c+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Kg(e,t){var r=e[0],n=e[1],a=e[2],i=e[3];r=Hr(r,n,a,i,t[0],7,-680876936),i=Hr(i,r,n,a,t[1],12,-389564586),a=Hr(a,i,r,n,t[2],17,606105819),n=Hr(n,a,i,r,t[3],22,-1044525330),r=Hr(r,n,a,i,t[4],7,-176418897),i=Hr(i,r,n,a,t[5],12,1200080426),a=Hr(a,i,r,n,t[6],17,-1473231341),n=Hr(n,a,i,r,t[7],22,-45705983),r=Hr(r,n,a,i,t[8],7,1770035416),i=Hr(i,r,n,a,t[9],12,-1958414417),a=Hr(a,i,r,n,t[10],17,-42063),n=Hr(n,a,i,r,t[11],22,-1990404162),r=Hr(r,n,a,i,t[12],7,1804603682),i=Hr(i,r,n,a,t[13],12,-40341101),a=Hr(a,i,r,n,t[14],17,-1502002290),r=Vr(r,n=Hr(n,a,i,r,t[15],22,1236535329),a,i,t[1],5,-165796510),i=Vr(i,r,n,a,t[6],9,-1069501632),a=Vr(a,i,r,n,t[11],14,643717713),n=Vr(n,a,i,r,t[0],20,-373897302),r=Vr(r,n,a,i,t[5],5,-701558691),i=Vr(i,r,n,a,t[10],9,38016083),a=Vr(a,i,r,n,t[15],14,-660478335),n=Vr(n,a,i,r,t[4],20,-405537848),r=Vr(r,n,a,i,t[9],5,568446438),i=Vr(i,r,n,a,t[14],9,-1019803690),a=Vr(a,i,r,n,t[3],14,-187363961),n=Vr(n,a,i,r,t[8],20,1163531501),r=Vr(r,n,a,i,t[13],5,-1444681467),i=Vr(i,r,n,a,t[2],9,-51403784),a=Vr(a,i,r,n,t[7],14,1735328473),r=Yr(r,n=Vr(n,a,i,r,t[12],20,-1926607734),a,i,t[5],4,-378558),i=Yr(i,r,n,a,t[8],11,-2022574463),a=Yr(a,i,r,n,t[11],16,1839030562),n=Yr(n,a,i,r,t[14],23,-35309556),r=Yr(r,n,a,i,t[1],4,-1530992060),i=Yr(i,r,n,a,t[4],11,1272893353),a=Yr(a,i,r,n,t[7],16,-155497632),n=Yr(n,a,i,r,t[10],23,-1094730640),r=Yr(r,n,a,i,t[13],4,681279174),i=Yr(i,r,n,a,t[0],11,-358537222),a=Yr(a,i,r,n,t[3],16,-722521979),n=Yr(n,a,i,r,t[6],23,76029189),r=Yr(r,n,a,i,t[9],4,-640364487),i=Yr(i,r,n,a,t[12],11,-421815835),a=Yr(a,i,r,n,t[15],16,530742520),r=Kr(r,n=Yr(n,a,i,r,t[2],23,-995338651),a,i,t[0],6,-198630844),i=Kr(i,r,n,a,t[7],10,1126891415),a=Kr(a,i,r,n,t[14],15,-1416354905),n=Kr(n,a,i,r,t[5],21,-57434055),r=Kr(r,n,a,i,t[12],6,1700485571),i=Kr(i,r,n,a,t[3],10,-1894986606),a=Kr(a,i,r,n,t[10],15,-1051523),n=Kr(n,a,i,r,t[1],21,-2054922799),r=Kr(r,n,a,i,t[8],6,1873313359),i=Kr(i,r,n,a,t[15],10,-30611744),a=Kr(a,i,r,n,t[6],15,-1560198380),n=Kr(n,a,i,r,t[13],21,1309151649),r=Kr(r,n,a,i,t[4],6,-145523070),i=Kr(i,r,n,a,t[11],10,-1120210379),a=Kr(a,i,r,n,t[2],15,718787259),n=Kr(n,a,i,r,t[9],21,-343485551),e[0]=co(r,e[0]),e[1]=co(n,e[1]),e[2]=co(a,e[2]),e[3]=co(i,e[3])}function zp(e,t,r,n,a,i){return t=co(co(t,e),co(n,i)),co(t<<a|t>>>32-a,r)}function Hr(e,t,r,n,a,i,o){return zp(t&r|~t&n,e,t,a,i,o)}function Vr(e,t,r,n,a,i,o){return zp(t&n|r&~n,e,t,a,i,o)}function Yr(e,t,r,n,a,i,o){return zp(t^r^n,e,t,a,i,o)}function Kr(e,t,r,n,a,i,o){return zp(r^(t|~n),e,t,a,i,o)}function hS(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Kg(n,Y6(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(Kg(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,Kg(n,a),n}function Y6(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}Lu=rt.atob.bind(rt),Hv=rt.btoa.bind(rt);var g1="0123456789abcdef".split("");function K6(e){for(var t="",r=0;r<4;r++)t+=g1[e>>8*r+4&15]+g1[e>>8*r&15];return t}function X6(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Vv(e){return hS(e).map(X6).join("")}var J6=function(e){for(var t=0;t<e.length;t++)e[t]=K6(e[t]);return e.join("")}(hS("hello"))!="5d41402abc4b2a76b9719d911017c592";function co(e,t){if(J6){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Yv(e,t){var r,n,a,i;if(e!==r){for(var o=(a=e,i=1+(256/e.length>>0),new Array(i+1).join(a)),s=[],c=0;c<256;c++)s[c]=c;var u=0;for(c=0;c<256;c++){var d=s[c];u=(u+d+o.charCodeAt(c))%256,s[c]=s[u],s[u]=d}r=e,n=s}else s=n;var f=t.length,p=0,h=0,v="";for(c=0;c<f;c++)h=(h+(d=s[p=(p+1)%256]))%256,s[p]=s[h],s[h]=d,o=s[(s[p]+s[h])%256],v+=String.fromCharCode(t.charCodeAt(c)^o);return v}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var v1={print:4,modify:8,copy:16,"annot-forms":32};function vl(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(s){if(v1.perm!==void 0)throw new Error("Invalid permission: "+s);a+=v1[s]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var i=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^a)),this.encryptionKey=Vv(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Yv(this.encryptionKey,this.padding)}function yl(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?t+="#"+("0"+a.toString(16)).slice(-2):t+=e[n]}return t}function y1(e){if(xt(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[r]){var o=t[r][i];try{o[0].apply(e,n)}catch(s){rt.console&&Ft.error("jsPDF PubSub Error",s.message,s)}o[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Ph(e){if(!(this instanceof Ph))return new Ph(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function pS(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Jo(e,t,r,n,a){if(!(this instanceof Jo))return new Jo(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,pS.call(this,n,a)}function wl(e,t,r,n,a){if(!(this instanceof wl))return new wl(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,pS.call(this,n,a)}function tt(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],o=[],s=1,c=16,u="S",d=null;xt(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,i=e.compress||e.compressPdf||i,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),s=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),u=e.defaultPathOperation||"S"),o=e.filters||(i===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,p={},h={internal:{},__private__:{}};h.__private__.PubSub=y1;var v="1.3",g=h.__private__.getPdfVersion=function(){return v};h.__private__.setPdfVersion=function(S){v=S};var y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return y};var x=h.__private__.getPageFormat=function(S){return y[S]};a=a||"a4";var w={COMPAT:"compat",ADVANCED:"advanced"},N=w.COMPAT;function _(){this.saveGraphicsState(),ne(new Qe(Fe,0,0,-Fe,0,Wi()*Fe).toString()+" cm"),this.setFontSize(this.getFontSize()/Fe),u="n",N=w.ADVANCED}function b(){this.restoreGraphicsState(),u="S",N=w.COMPAT}var A=h.__private__.combineFontStyleAndFontWeight=function(S,B){if(S=="bold"&&B=="normal"||S=="bold"&&B==400||S=="normal"&&B=="italic"||S=="bold"&&B=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return B&&(S=B==400||B==="normal"?S==="italic"?"italic":"normal":B!=700&&B!=="bold"||S!=="normal"?(B==700?"bold":B)+""+S:"bold"),S};h.advancedAPI=function(S){var B=N===w.COMPAT;return B&&_.call(this),typeof S!="function"||(S(this),B&&b.call(this)),this},h.compatAPI=function(S){var B=N===w.ADVANCED;return B&&b.call(this),typeof S!="function"||(S(this),B&&_.call(this)),this},h.isAdvancedAPI=function(){return N===w.ADVANCED};var O,E=function(S){if(N!==w.ADVANCED)throw new Error(S+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},C=h.roundToPrecision=h.__private__.roundToPrecision=function(S,B){var re=t||B;if(isNaN(S)||isNaN(re))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return S.toFixed(re).replace(/0+$/,"")};O=h.hpf=h.__private__.hpf=typeof c=="number"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return C(S,c)}:c==="smart"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return C(S,S>-1&&S<1?16:5)}:function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return C(S,16)};var D=h.f2=h.__private__.f2=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f2");return C(S,2)},k=h.__private__.f3=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f3");return C(S,3)},T=h.scale=h.__private__.scale=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.scale");return N===w.COMPAT?S*Fe:N===w.ADVANCED?S:void 0},$=function(S){return N===w.COMPAT?Wi()-S:N===w.ADVANCED?S:void 0},I=function(S){return T($(S))};h.__private__.setPrecision=h.setPrecision=function(S){typeof parseInt(S,10)=="number"&&(t=parseInt(S,10))};var H,V="00000000000000000000000000000000",X=h.__private__.getFileId=function(){return V},Q=h.__private__.setFileId=function(S){return V=S!==void 0&&/^[a-fA-F0-9]{32}$/.test(S)?S.toUpperCase():V.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Wr=new vl(d.userPermissions,d.userPassword,d.ownerPassword,V)),V};h.setFileId=function(S){return Q(S),this},h.getFileId=function(){return X()};var Y=h.__private__.convertDateToPDFDate=function(S){var B=S.getTimezoneOffset(),re=B<0?"+":"-",se=Math.floor(Math.abs(B/60)),me=Math.abs(B%60),je=[re,Z(se),"'",Z(me),"'"].join("");return["D:",S.getFullYear(),Z(S.getMonth()+1),Z(S.getDate()),Z(S.getHours()),Z(S.getMinutes()),Z(S.getSeconds()),je].join("")},G=h.__private__.convertPDFDateToDate=function(S){var B=parseInt(S.substr(2,4),10),re=parseInt(S.substr(6,2),10)-1,se=parseInt(S.substr(8,2),10),me=parseInt(S.substr(10,2),10),je=parseInt(S.substr(12,2),10),Te=parseInt(S.substr(14,2),10);return new Date(B,re,se,me,je,Te,0)},ae=h.__private__.setCreationDate=function(S){var B;if(S===void 0&&(S=new Date),S instanceof Date)B=Y(S);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(S))throw new Error("Invalid argument passed to jsPDF.setCreationDate");B=S}return H=B},M=h.__private__.getCreationDate=function(S){var B=H;return S==="jsDate"&&(B=G(H)),B};h.setCreationDate=function(S){return ae(S),this},h.getCreationDate=function(S){return M(S)};var z,Z=h.__private__.padd2=function(S){return("0"+parseInt(S)).slice(-2)},te=h.__private__.padd2Hex=function(S){return("00"+(S=S.toString())).substr(S.length)},ie=0,fe=[],de=[],oe=0,xe=[],be=[],pe=!1,Ee=de,$e=function(){ie=0,oe=0,de=[],fe=[],xe=[],pi=vr(),ha=vr()};h.__private__.setCustomOutputDestination=function(S){pe=!0,Ee=S};var ye=function(S){pe||(Ee=S)};h.__private__.resetCustomOutputDestination=function(){pe=!1,Ee=de};var ne=h.__private__.out=function(S){return S=S.toString(),oe+=S.length+1,Ee.push(S),Ee},Ye=h.__private__.write=function(S){return ne(arguments.length===1?S.toString():Array.prototype.join.call(arguments," "))},Be=h.__private__.getArrayBuffer=function(S){for(var B=S.length,re=new ArrayBuffer(B),se=new Uint8Array(re);B--;)se[B]=S.charCodeAt(B);return re},ke=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return ke};var Ce=e.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(S){return Ce=N===w.ADVANCED?S/Fe:S,this};var De,Me=h.__private__.getFontSize=h.getFontSize=function(){return N===w.COMPAT?Ce:Ce*Fe},Ve=e.R2L||!1;h.__private__.setR2L=h.setR2L=function(S){return Ve=S,this},h.__private__.getR2L=h.getR2L=function(){return Ve};var Ze,it=h.__private__.setZoomMode=function(S){var B=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(S))De=S;else if(isNaN(S)){if(B.indexOf(S)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+S+'" is not recognized.');De=S}else De=parseInt(S,10)};h.__private__.getZoomMode=function(){return De};var pt,yt=h.__private__.setPageMode=function(S){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(S)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+S+'" is not recognized.');Ze=S};h.__private__.getPageMode=function(){return Ze};var Ot=h.__private__.setLayoutMode=function(S){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(S)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+S+'" is not recognized.');pt=S};h.__private__.getLayoutMode=function(){return pt},h.__private__.setDisplayMode=h.setDisplayMode=function(S,B,re){return it(S),Ot(B),yt(re),this};var ot={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(S){if(Object.keys(ot).indexOf(S)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ot[S]},h.__private__.getDocumentProperties=function(){return ot},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(S){for(var B in ot)ot.hasOwnProperty(B)&&S[B]&&(ot[B]=S[B]);return this},h.__private__.setDocumentProperty=function(S,B){if(Object.keys(ot).indexOf(S)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ot[S]=B};var vt,Fe,Ur,_t,ua,It={},Qt={},Fa=[],Et={},Oo={},rr={},da={},hi=null,nr=0,lt=[],kt=new y1(h),Po=e.hotfixes||[],Rr={},Ba={},qa=[],Qe=function S(B,re,se,me,je,Te){if(!(this instanceof S))return new S(B,re,se,me,je,Te);isNaN(B)&&(B=1),isNaN(re)&&(re=0),isNaN(se)&&(se=0),isNaN(me)&&(me=1),isNaN(je)&&(je=0),isNaN(Te)&&(Te=0),this._matrix=[B,re,se,me,je,Te]};Object.defineProperty(Qe.prototype,"sx",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(Qe.prototype,"shy",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(Qe.prototype,"shx",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(Qe.prototype,"sy",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(Qe.prototype,"tx",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(Qe.prototype,"ty",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(Qe.prototype,"a",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(Qe.prototype,"b",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(Qe.prototype,"c",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(Qe.prototype,"d",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(Qe.prototype,"e",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(Qe.prototype,"f",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(Qe.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Qe.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Qe.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Qe.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Qe.prototype.join=function(S){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(O).join(S)},Qe.prototype.multiply=function(S){var B=S.sx*this.sx+S.shy*this.shx,re=S.sx*this.shy+S.shy*this.sy,se=S.shx*this.sx+S.sy*this.shx,me=S.shx*this.shy+S.sy*this.sy,je=S.tx*this.sx+S.ty*this.shx+this.tx,Te=S.tx*this.shy+S.ty*this.sy+this.ty;return new Qe(B,re,se,me,je,Te)},Qe.prototype.decompose=function(){var S=this.sx,B=this.shy,re=this.shx,se=this.sy,me=this.tx,je=this.ty,Te=Math.sqrt(S*S+B*B),qe=(S/=Te)*re+(B/=Te)*se;re-=S*qe,se-=B*qe;var Ke=Math.sqrt(re*re+se*se);return qe/=Ke,S*(se/=Ke)<B*(re/=Ke)&&(S=-S,B=-B,qe=-qe,Te=-Te),{scale:new Qe(Te,0,0,Ke,0,0),translate:new Qe(1,0,0,1,me,je),rotate:new Qe(S,B,-B,S,0,0),skew:new Qe(1,0,qe,1,0,0)}},Qe.prototype.toString=function(S){return this.join(" ")},Qe.prototype.inversed=function(){var S=this.sx,B=this.shy,re=this.shx,se=this.sy,me=this.tx,je=this.ty,Te=1/(S*se-B*re),qe=se*Te,Ke=-B*Te,dt=-re*Te,ct=S*Te;return new Qe(qe,Ke,dt,ct,-qe*me-dt*je,-Ke*me-ct*je)},Qe.prototype.applyToPoint=function(S){var B=S.x*this.sx+S.y*this.shx+this.tx,re=S.x*this.shy+S.y*this.sy+this.ty;return new Vs(B,re)},Qe.prototype.applyToRectangle=function(S){var B=this.applyToPoint(S),re=this.applyToPoint(new Vs(S.x+S.w,S.y+S.h));return new Kc(B.x,B.y,re.x-B.x,re.y-B.y)},Qe.prototype.clone=function(){var S=this.sx,B=this.shy,re=this.shx,se=this.sy,me=this.tx,je=this.ty;return new Qe(S,B,re,se,me,je)},h.Matrix=Qe;var fa=h.matrixMult=function(S,B){return B.multiply(S)},za=new Qe(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=za;var hn=function(S,B){if(!Oo[S]){var re=(B instanceof Jo?"Sh":"P")+(Object.keys(Et).length+1).toString(10);B.id=re,Oo[S]=re,Et[re]=B,kt.publish("addPattern",B)}};h.ShadingPattern=Jo,h.TilingPattern=wl,h.addShadingPattern=function(S,B){return E("addShadingPattern()"),hn(S,B),this},h.beginTilingPattern=function(S){E("beginTilingPattern()"),wf(S.boundingBox[0],S.boundingBox[1],S.boundingBox[2]-S.boundingBox[0],S.boundingBox[3]-S.boundingBox[1],S.matrix)},h.endTilingPattern=function(S,B){E("endTilingPattern()"),B.stream=be[z].join(`
`),hn(S,B),kt.publish("endTilingPattern",B),qa.pop().restore()};var Nr=h.__private__.newObject=function(){var S=vr();return On(S,!0),S},vr=h.__private__.newObjectDeferred=function(){return ie++,fe[ie]=function(){return oe},ie},On=function(S,B){return B=typeof B=="boolean"&&B,fe[S]=oe,B&&ne(S+" 0 obj"),S},Ms=h.__private__.newAdditionalObject=function(){var S={objId:vr(),content:""};return xe.push(S),S},pi=vr(),ha=vr(),pa=h.__private__.decodeColorString=function(S){var B=S.split(" ");if(B.length!==2||B[1]!=="g"&&B[1]!=="G")B.length===5&&(B[4]==="k"||B[4]==="K")&&(B=[(1-B[0])*(1-B[3]),(1-B[1])*(1-B[3]),(1-B[2])*(1-B[3]),"r"]);else{var re=parseFloat(B[0]);B=[re,re,re,"r"]}for(var se="#",me=0;me<3;me++)se+=("0"+Math.floor(255*parseFloat(B[me])).toString(16)).slice(-2);return se},ma=h.__private__.encodeColorString=function(S){var B;typeof S=="string"&&(S={ch1:S});var re=S.ch1,se=S.ch2,me=S.ch3,je=S.ch4,Te=S.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof re=="string"&&re.charAt(0)!=="#"){var qe=new fS(re);if(qe.ok)re=qe.toHex();else if(!/^\d*\.?\d*$/.test(re))throw new Error('Invalid color "'+re+'" passed to jsPDF.encodeColorString.')}if(typeof re=="string"&&/^#[0-9A-Fa-f]{3}$/.test(re)&&(re="#"+re[1]+re[1]+re[2]+re[2]+re[3]+re[3]),typeof re=="string"&&/^#[0-9A-Fa-f]{6}$/.test(re)){var Ke=parseInt(re.substr(1),16);re=Ke>>16&255,se=Ke>>8&255,me=255&Ke}if(se===void 0||je===void 0&&re===se&&se===me)if(typeof re=="string")B=re+" "+Te[0];else switch(S.precision){case 2:B=D(re/255)+" "+Te[0];break;case 3:default:B=k(re/255)+" "+Te[0]}else if(je===void 0||xt(je)==="object"){if(je&&!isNaN(je.a)&&je.a===0)return B=["1.","1.","1.",Te[1]].join(" ");if(typeof re=="string")B=[re,se,me,Te[1]].join(" ");else switch(S.precision){case 2:B=[D(re/255),D(se/255),D(me/255),Te[1]].join(" ");break;default:case 3:B=[k(re/255),k(se/255),k(me/255),Te[1]].join(" ")}}else if(typeof re=="string")B=[re,se,me,je,Te[2]].join(" ");else switch(S.precision){case 2:B=[D(re),D(se),D(me),D(je),Te[2]].join(" ");break;case 3:default:B=[k(re),k(se),k(me),k(je),Te[2]].join(" ")}return B},Ua=h.__private__.getFilters=function(){return o},Fn=h.__private__.putStream=function(S){var B=(S=S||{}).data||"",re=S.filters||Ua(),se=S.alreadyAppliedFilters||[],me=S.addLength1||!1,je=B.length,Te=S.objectId,qe=function(Gr){return Gr};if(d!==null&&Te===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(qe=Wr.encryptor(Te,0));var Ke={};re===!0&&(re=["FlateEncode"]);var dt=S.additionalKeyValues||[],ct=(Ke=tt.API.processDataByFilters!==void 0?tt.API.processDataByFilters(B,re):{data:B,reverseChain:[]}).reverseChain+(Array.isArray(se)?se.join(" "):se.toString());if(Ke.data.length!==0&&(dt.push({key:"Length",value:Ke.data.length}),me===!0&&dt.push({key:"Length1",value:je})),ct.length!=0)if(ct.split("/").length-1==1)dt.push({key:"Filter",value:ct});else{dt.push({key:"Filter",value:"["+ct+"]"});for(var jt=0;jt<dt.length;jt+=1)if(dt[jt].key==="DecodeParms"){for(var tr=[],ar=0;ar<Ke.reverseChain.split("/").length-1;ar+=1)tr.push("null");tr.push(dt[jt].value),dt[jt].value="["+tr.join(" ")+"]"}}ne("<<");for(var yr=0;yr<dt.length;yr++)ne("/"+dt[yr].key+" "+dt[yr].value);ne(">>"),Ke.data.length!==0&&(ne("stream"),ne(qe(Ke.data)),ne("endstream"))},Wa=h.__private__.putPage=function(S){var B=S.number,re=S.data,se=S.objId,me=S.contentsObjId;On(se,!0),ne("<</Type /Page"),ne("/Parent "+S.rootDictionaryObjId+" 0 R"),ne("/Resources "+S.resourceDictionaryObjId+" 0 R"),ne("/MediaBox ["+parseFloat(O(S.mediaBox.bottomLeftX))+" "+parseFloat(O(S.mediaBox.bottomLeftY))+" "+O(S.mediaBox.topRightX)+" "+O(S.mediaBox.topRightY)+"]"),S.cropBox!==null&&ne("/CropBox ["+O(S.cropBox.bottomLeftX)+" "+O(S.cropBox.bottomLeftY)+" "+O(S.cropBox.topRightX)+" "+O(S.cropBox.topRightY)+"]"),S.bleedBox!==null&&ne("/BleedBox ["+O(S.bleedBox.bottomLeftX)+" "+O(S.bleedBox.bottomLeftY)+" "+O(S.bleedBox.topRightX)+" "+O(S.bleedBox.topRightY)+"]"),S.trimBox!==null&&ne("/TrimBox ["+O(S.trimBox.bottomLeftX)+" "+O(S.trimBox.bottomLeftY)+" "+O(S.trimBox.topRightX)+" "+O(S.trimBox.topRightY)+"]"),S.artBox!==null&&ne("/ArtBox ["+O(S.artBox.bottomLeftX)+" "+O(S.artBox.bottomLeftY)+" "+O(S.artBox.topRightX)+" "+O(S.artBox.topRightY)+"]"),typeof S.userUnit=="number"&&S.userUnit!==1&&ne("/UserUnit "+S.userUnit),kt.publish("putPage",{objId:se,pageContext:lt[B],pageNumber:B,page:re}),ne("/Contents "+me+" 0 R"),ne(">>"),ne("endobj");var je=re.join(`
`);return N===w.ADVANCED&&(je+=`
Q`),On(me,!0),Fn({data:je,filters:Ua(),objectId:me}),ne("endobj"),se},Eo=h.__private__.putPages=function(){var S,B,re=[];for(S=1;S<=nr;S++)lt[S].objId=vr(),lt[S].contentsObjId=vr();for(S=1;S<=nr;S++)re.push(Wa({number:S,data:be[S],objId:lt[S].objId,contentsObjId:lt[S].contentsObjId,mediaBox:lt[S].mediaBox,cropBox:lt[S].cropBox,bleedBox:lt[S].bleedBox,trimBox:lt[S].trimBox,artBox:lt[S].artBox,userUnit:lt[S].userUnit,rootDictionaryObjId:pi,resourceDictionaryObjId:ha}));On(pi,!0),ne("<</Type /Pages");var se="/Kids [";for(B=0;B<nr;B++)se+=re[B]+" 0 R ";ne(se+"]"),ne("/Count "+nr),ne(">>"),ne("endobj"),kt.publish("postPutPages")},$s=function(S){kt.publish("putFont",{font:S,out:ne,newObject:Nr,putStream:Fn}),S.isAlreadyPutted!==!0&&(S.objectNumber=Nr(),ne("<<"),ne("/Type /Font"),ne("/BaseFont /"+yl(S.postScriptName)),ne("/Subtype /Type1"),typeof S.encoding=="string"&&ne("/Encoding /"+S.encoding),ne("/FirstChar 32"),ne("/LastChar 255"),ne(">>"),ne("endobj"))},Ds=function(){for(var S in It)It.hasOwnProperty(S)&&(f===!1||f===!0&&p.hasOwnProperty(S))&&$s(It[S])},Is=function(S){S.objectNumber=Nr();var B=[];B.push({key:"Type",value:"/XObject"}),B.push({key:"Subtype",value:"/Form"}),B.push({key:"BBox",value:"["+[O(S.x),O(S.y),O(S.x+S.width),O(S.y+S.height)].join(" ")+"]"}),B.push({key:"Matrix",value:"["+S.matrix.toString()+"]"});var re=S.pages[1].join(`
`);Fn({data:re,additionalKeyValues:B,objectId:S.objectNumber}),ne("endobj")},Rs=function(){for(var S in Rr)Rr.hasOwnProperty(S)&&Is(Rr[S])},rf=function(S,B){var re,se=[],me=1/(B-1);for(re=0;re<1;re+=me)se.push(re);if(se.push(1),S[0].offset!=0){var je={offset:0,color:S[0].color};S.unshift(je)}if(S[S.length-1].offset!=1){var Te={offset:1,color:S[S.length-1].color};S.push(Te)}for(var qe="",Ke=0,dt=0;dt<se.length;dt++){for(re=se[dt];re>S[Ke+1].offset;)Ke++;var ct=S[Ke].offset,jt=(re-ct)/(S[Ke+1].offset-ct),tr=S[Ke].color,ar=S[Ke+1].color;qe+=te(Math.round((1-jt)*tr[0]+jt*ar[0]).toString(16))+te(Math.round((1-jt)*tr[1]+jt*ar[1]).toString(16))+te(Math.round((1-jt)*tr[2]+jt*ar[2]).toString(16))}return qe.trim()},eg=function(S,B){B||(B=21);var re=Nr(),se=rf(S.colors,B),me=[];me.push({key:"FunctionType",value:"0"}),me.push({key:"Domain",value:"[0.0 1.0]"}),me.push({key:"Size",value:"["+B+"]"}),me.push({key:"BitsPerSample",value:"8"}),me.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),me.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Fn({data:se,additionalKeyValues:me,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:re}),ne("endobj"),S.objectNumber=Nr(),ne("<< /ShadingType "+S.type),ne("/ColorSpace /DeviceRGB");var je="/Coords ["+O(parseFloat(S.coords[0]))+" "+O(parseFloat(S.coords[1]))+" ";S.type===2?je+=O(parseFloat(S.coords[2]))+" "+O(parseFloat(S.coords[3])):je+=O(parseFloat(S.coords[2]))+" "+O(parseFloat(S.coords[3]))+" "+O(parseFloat(S.coords[4]))+" "+O(parseFloat(S.coords[5])),ne(je+="]"),S.matrix&&ne("/Matrix ["+S.matrix.toString()+"]"),ne("/Function "+re+" 0 R"),ne("/Extend [true true]"),ne(">>"),ne("endobj")},tg=function(S,B){var re=vr(),se=Nr();B.push({resourcesOid:re,objectOid:se}),S.objectNumber=se;var me=[];me.push({key:"Type",value:"/Pattern"}),me.push({key:"PatternType",value:"1"}),me.push({key:"PaintType",value:"1"}),me.push({key:"TilingType",value:"1"}),me.push({key:"BBox",value:"["+S.boundingBox.map(O).join(" ")+"]"}),me.push({key:"XStep",value:O(S.xStep)}),me.push({key:"YStep",value:O(S.yStep)}),me.push({key:"Resources",value:re+" 0 R"}),S.matrix&&me.push({key:"Matrix",value:"["+S.matrix.toString()+"]"}),Fn({data:S.stream,additionalKeyValues:me,objectId:S.objectNumber}),ne("endobj")},Fs=function(S){var B;for(B in Et)Et.hasOwnProperty(B)&&(Et[B]instanceof Jo?eg(Et[B]):Et[B]instanceof wl&&tg(Et[B],S))},nf=function(S){for(var B in S.objectNumber=Nr(),ne("<<"),S)switch(B){case"opacity":ne("/ca "+D(S[B]));break;case"stroke-opacity":ne("/CA "+D(S[B]))}ne(">>"),ne("endobj")},rg=function(){var S;for(S in rr)rr.hasOwnProperty(S)&&nf(rr[S])},Fc=function(){for(var S in ne("/XObject <<"),Rr)Rr.hasOwnProperty(S)&&Rr[S].objectNumber>=0&&ne("/"+S+" "+Rr[S].objectNumber+" 0 R");kt.publish("putXobjectDict"),ne(">>")},ng=function(){Wr.oid=Nr(),ne("<<"),ne("/Filter /Standard"),ne("/V "+Wr.v),ne("/R "+Wr.r),ne("/U <"+Wr.toHexString(Wr.U)+">"),ne("/O <"+Wr.toHexString(Wr.O)+">"),ne("/P "+Wr.P),ne(">>"),ne("endobj")},af=function(){for(var S in ne("/Font <<"),It)It.hasOwnProperty(S)&&(f===!1||f===!0&&p.hasOwnProperty(S))&&ne("/"+S+" "+It[S].objectNumber+" 0 R");ne(">>")},ag=function(){if(Object.keys(Et).length>0){for(var S in ne("/Shading <<"),Et)Et.hasOwnProperty(S)&&Et[S]instanceof Jo&&Et[S].objectNumber>=0&&ne("/"+S+" "+Et[S].objectNumber+" 0 R");kt.publish("putShadingPatternDict"),ne(">>")}},Bs=function(S){if(Object.keys(Et).length>0){for(var B in ne("/Pattern <<"),Et)Et.hasOwnProperty(B)&&Et[B]instanceof h.TilingPattern&&Et[B].objectNumber>=0&&Et[B].objectNumber<S&&ne("/"+B+" "+Et[B].objectNumber+" 0 R");kt.publish("putTilingPatternDict"),ne(">>")}},ig=function(){if(Object.keys(rr).length>0){var S;for(S in ne("/ExtGState <<"),rr)rr.hasOwnProperty(S)&&rr[S].objectNumber>=0&&ne("/"+S+" "+rr[S].objectNumber+" 0 R");kt.publish("putGStateDict"),ne(">>")}},ur=function(S){On(S.resourcesOid,!0),ne("<<"),ne("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),af(),ag(),Bs(S.objectOid),ig(),Fc(),ne(">>"),ne("endobj")},of=function(){var S=[];Ds(),rg(),Rs(),Fs(S),kt.publish("putResources"),S.forEach(ur),ur({resourcesOid:ha,objectOid:Number.MAX_SAFE_INTEGER}),kt.publish("postPutResources")},sf=function(){kt.publish("putAdditionalObjects");for(var S=0;S<xe.length;S++){var B=xe[S];On(B.objId,!0),ne(B.content),ne("endobj")}kt.publish("postPutAdditionalObjects")},lf=function(S){Qt[S.fontName]=Qt[S.fontName]||{},Qt[S.fontName][S.fontStyle]=S.id},Bc=function(S,B,re,se,me){var je={id:"F"+(Object.keys(It).length+1).toString(10),postScriptName:S,fontName:B,fontStyle:re,encoding:se,isStandardFont:me||!1,metadata:{}};return kt.publish("addFont",{font:je,instance:this}),It[je.id]=je,lf(je),je.id},og=function(S){for(var B=0,re=ke.length;B<re;B++){var se=Bc.call(this,S[B][0],S[B][1],S[B][2],ke[B][3],!0);f===!1&&(p[se]=!0);var me=S[B][0].split("-");lf({id:se,fontName:me[0],fontStyle:me[1]||""})}kt.publish("addFonts",{fonts:It,dictionary:Qt})},ga=function(S){return S.foo=function(){try{return S.apply(this,arguments)}catch(se){var B=se.stack||"";~B.indexOf(" at ")&&(B=B.split(" at ")[1]);var re="Error in function "+B.split(`
`)[0].split("<")[0]+": "+se.message;if(!rt.console)throw new Error(re);rt.console.error(re,se),rt.alert&&alert(re)}},S.foo.bar=S,S.foo},qs=function(S,B){var re,se,me,je,Te,qe,Ke,dt,ct;if(me=(B=B||{}).sourceEncoding||"Unicode",Te=B.outputEncoding,(B.autoencode||Te)&&It[vt].metadata&&It[vt].metadata[me]&&It[vt].metadata[me].encoding&&(je=It[vt].metadata[me].encoding,!Te&&It[vt].encoding&&(Te=It[vt].encoding),!Te&&je.codePages&&(Te=je.codePages[0]),typeof Te=="string"&&(Te=je[Te]),Te)){for(Ke=!1,qe=[],re=0,se=S.length;re<se;re++)(dt=Te[S.charCodeAt(re)])?qe.push(String.fromCharCode(dt)):qe.push(S[re]),qe[re].charCodeAt(0)>>8&&(Ke=!0);S=qe.join("")}for(re=S.length;Ke===void 0&&re!==0;)S.charCodeAt(re-1)>>8&&(Ke=!0),re--;if(!Ke)return S;for(qe=B.noBOM?[]:[254,255],re=0,se=S.length;re<se;re++){if((ct=(dt=S.charCodeAt(re))>>8)>>8)throw new Error("Character at position "+re+" of string '"+S+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");qe.push(ct),qe.push(dt-(ct<<8))}return String.fromCharCode.apply(void 0,qe)},pn=h.__private__.pdfEscape=h.pdfEscape=function(S,B){return qs(S,B).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},qc=h.__private__.beginPage=function(S){be[++nr]=[],lt[nr]={objId:0,contentsObjId:0,userUnit:Number(s),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(S[0]),topRightY:Number(S[1])}},uf(nr),ye(be[z])},cf=function(S,B){var re,se,me;switch(r=B||r,typeof S=="string"&&(re=x(S.toLowerCase()),Array.isArray(re)&&(se=re[0],me=re[1])),Array.isArray(S)&&(se=S[0]*Fe,me=S[1]*Fe),isNaN(se)&&(se=a[0],me=a[1]),(se>14400||me>14400)&&(Ft.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),se=Math.min(14400,se),me=Math.min(14400,me)),a=[se,me],r.substr(0,1)){case"l":me>se&&(a=[me,se]);break;case"p":se>me&&(a=[me,se])}qc(a),gf(Gc),ne(va),Vc!==0&&ne(Vc+" J"),Yc!==0&&ne(Yc+" j"),kt.publish("addPage",{pageNumber:nr})},sg=function(S){S>0&&S<=nr&&(be.splice(S,1),lt.splice(S,1),nr--,z>nr&&(z=nr),this.setPage(z))},uf=function(S){S>0&&S<=nr&&(z=S)},lg=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return be.length-1},df=function(S,B,re){var se,me=void 0;return re=re||{},S=S!==void 0?S:It[vt].fontName,B=B!==void 0?B:It[vt].fontStyle,se=S.toLowerCase(),Qt[se]!==void 0&&Qt[se][B]!==void 0?me=Qt[se][B]:Qt[S]!==void 0&&Qt[S][B]!==void 0?me=Qt[S][B]:re.disableWarning===!1&&Ft.warn("Unable to look up font label for font '"+S+"', '"+B+"'. Refer to getFontList() for available fonts."),me||re.noFallback||(me=Qt.times[B])==null&&(me=Qt.times.normal),me},cg=h.__private__.putInfo=function(){var S=Nr(),B=function(se){return se};for(var re in d!==null&&(B=Wr.encryptor(S,0)),ne("<<"),ne("/Producer ("+pn(B("jsPDF "+tt.version))+")"),ot)ot.hasOwnProperty(re)&&ot[re]&&ne("/"+re.substr(0,1).toUpperCase()+re.substr(1)+" ("+pn(B(ot[re]))+")");ne("/CreationDate ("+pn(B(H))+")"),ne(">>"),ne("endobj")},zc=h.__private__.putCatalog=function(S){var B=(S=S||{}).rootDictionaryObjId||pi;switch(Nr(),ne("<<"),ne("/Type /Catalog"),ne("/Pages "+B+" 0 R"),De||(De="fullwidth"),De){case"fullwidth":ne("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ne("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ne("/OpenAction [3 0 R /Fit]");break;case"original":ne("/OpenAction [3 0 R /XYZ null null 1]");break;default:var re=""+De;re.substr(re.length-1)==="%"&&(De=parseInt(De)/100),typeof De=="number"&&ne("/OpenAction [3 0 R /XYZ null null "+D(De)+"]")}switch(pt||(pt="continuous"),pt){case"continuous":ne("/PageLayout /OneColumn");break;case"single":ne("/PageLayout /SinglePage");break;case"two":case"twoleft":ne("/PageLayout /TwoColumnLeft");break;case"tworight":ne("/PageLayout /TwoColumnRight")}Ze&&ne("/PageMode /"+Ze),kt.publish("putCatalog"),ne(">>"),ne("endobj")},ug=h.__private__.putTrailer=function(){ne("trailer"),ne("<<"),ne("/Size "+(ie+1)),ne("/Root "+ie+" 0 R"),ne("/Info "+(ie-1)+" 0 R"),d!==null&&ne("/Encrypt "+Wr.oid+" 0 R"),ne("/ID [ <"+V+"> <"+V+"> ]"),ne(">>")},dg=h.__private__.putHeader=function(){ne("%PDF-"+v),ne("%ºß¬à")},fg=h.__private__.putXRef=function(){var S="0000000000";ne("xref"),ne("0 "+(ie+1)),ne("0000000000 65535 f ");for(var B=1;B<=ie;B++)typeof fe[B]=="function"?ne((S+fe[B]()).slice(-10)+" 00000 n "):fe[B]!==void 0?ne((S+fe[B]).slice(-10)+" 00000 n "):ne("0000000000 00000 n ")},mi=h.__private__.buildDocument=function(){$e(),ye(de),kt.publish("buildDocument"),dg(),Eo(),sf(),of(),d!==null&&ng(),cg(),zc();var S=oe;return fg(),ug(),ne("startxref"),ne(""+S),ne("%%EOF"),ye(be[z]),de.join(`
`)},zs=h.__private__.getBlob=function(S){return new Blob([Be(S)],{type:"application/pdf"})},Us=h.output=h.__private__.output=ga(function(S,B){switch(typeof(B=B||{})=="string"?B={filename:B}:B.filename=B.filename||"generated.pdf",S){case void 0:return mi();case"save":h.save(B.filename);break;case"arraybuffer":return Be(mi());case"blob":return zs(mi());case"bloburi":case"bloburl":if(rt.URL!==void 0&&typeof rt.URL.createObjectURL=="function")return rt.URL&&rt.URL.createObjectURL(zs(mi()))||void 0;Ft.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var re="",se=mi();try{re=Hv(se)}catch{re=Hv(unescape(encodeURIComponent(se)))}return"data:application/pdf;filename="+B.filename+";base64,"+re;case"pdfobjectnewwindow":if(Object.prototype.toString.call(rt)==="[object Window]"){var me="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",je=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';B.pdfObjectUrl&&(me=B.pdfObjectUrl,je="");var Te='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+me+'"'+je+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(B)+");<\/script></body></html>",qe=rt.open();return qe!==null&&qe.document.write(Te),qe}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(rt)==="[object Window]"){var Ke='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(B.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+B.filename+'" width="500px" height="400px" /></body></html>',dt=rt.open();if(dt!==null){dt.document.write(Ke);var ct=this;dt.document.documentElement.querySelector("#pdfViewer").onload=function(){dt.document.title=B.filename,dt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ct.output("bloburl"))}}return dt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(rt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var jt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",B)+'"></iframe></body></html>',tr=rt.open();if(tr!==null&&(tr.document.write(jt),tr.document.title=B.filename),tr||typeof safari>"u")return tr;break;case"datauri":case"dataurl":return rt.document.location.href=this.output("datauristring",B);default:return null}}),ff=function(S){return Array.isArray(Po)===!0&&Po.indexOf(S)>-1};switch(n){case"pt":Fe=1;break;case"mm":Fe=72/25.4;break;case"cm":Fe=72/2.54;break;case"in":Fe=72;break;case"px":Fe=ff("px_scaling")==1?.75:96/72;break;case"pc":case"em":Fe=12;break;case"ex":Fe=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Fe=n}var Wr=null;ae(),Q();var hg=function(S){return d!==null?Wr.encryptor(S,0):function(B){return B}},hf=h.__private__.getPageInfo=h.getPageInfo=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:lt[S].objId,pageNumber:S,pageContext:lt[S]}},st=h.__private__.getPageInfoByObjId=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var B in lt)if(lt[B].objId===S)break;return hf(B)},pg=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:lt[z].objId,pageNumber:z,pageContext:lt[z]}};h.addPage=function(){return cf.apply(this,arguments),this},h.setPage=function(){return uf.apply(this,arguments),ye.call(this,be[z]),this},h.insertPage=function(S){return this.addPage(),this.movePage(z,S),this},h.movePage=function(S,B){var re,se;if(S>B){re=be[S],se=lt[S];for(var me=S;me>B;me--)be[me]=be[me-1],lt[me]=lt[me-1];be[B]=re,lt[B]=se,this.setPage(B)}else if(S<B){re=be[S],se=lt[S];for(var je=S;je<B;je++)be[je]=be[je+1],lt[je]=lt[je+1];be[B]=re,lt[B]=se,this.setPage(B)}return this},h.deletePage=function(){return sg.apply(this,arguments),this},h.__private__.text=h.text=function(S,B,re,se,me){var je,Te,qe,Ke,dt,ct,jt,tr,ar,yr=(se=se||{}).scope||this;if(typeof S=="number"&&typeof B=="number"&&(typeof re=="string"||Array.isArray(re))){var Gr=re;re=B,B=S,S=Gr}if(arguments[3]instanceof Qe?(E("The transform parameter of text() with a Matrix value"),ar=me):(qe=arguments[4],Ke=arguments[5],xt(jt=arguments[3])==="object"&&jt!==null||(typeof qe=="string"&&(Ke=qe,qe=null),typeof jt=="string"&&(Ke=jt,jt=null),typeof jt=="number"&&(qe=jt,jt=null),se={flags:jt,angle:qe,align:Ke})),isNaN(B)||isNaN(re)||S==null)throw new Error("Invalid arguments passed to jsPDF.text");if(S.length===0)return yr;var Tr="",ya=!1,Pn=typeof se.lineHeightFactor=="number"?se.lineHeightFactor:To,Va=yr.internal.scaleFactor;function jf(zt){return zt=zt.split("	").join(Array(se.TabLen||9).join(" ")),pn(zt,jt)}function Qc(zt){for(var Ut,fr=zt.concat(),Sr=[],xi=fr.length;xi--;)typeof(Ut=fr.shift())=="string"?Sr.push(Ut):Array.isArray(zt)&&(Ut.length===1||Ut[1]===void 0&&Ut[2]===void 0)?Sr.push(Ut[0]):Sr.push([Ut[0],Ut[1],Ut[2]]);return Sr}function eu(zt,Ut){var fr;if(typeof zt=="string")fr=Ut(zt)[0];else if(Array.isArray(zt)){for(var Sr,xi,lu=zt.concat(),al=[],Of=lu.length;Of--;)typeof(Sr=lu.shift())=="string"?al.push(Ut(Sr)[0]):Array.isArray(Sr)&&typeof Sr[0]=="string"&&(xi=Ut(Sr[0],Sr[1],Sr[2]),al.push([xi[0],xi[1],xi[2]]));fr=al}return fr}var Ks=!1,tu=!0;if(typeof S=="string")Ks=!0;else if(Array.isArray(S)){var ru=S.concat();Te=[];for(var Xs,Fr=ru.length;Fr--;)(typeof(Xs=ru.shift())!="string"||Array.isArray(Xs)&&typeof Xs[0]!="string")&&(tu=!1);Ks=tu}if(Ks===!1)throw new Error('Type of text must be string or Array. "'+S+'" is not recognized.');typeof S=="string"&&(S=S.match(/[\r?\n]/)?S.split(/\r\n|\r|\n/g):[S]);var Js=Ce/yr.internal.scaleFactor,Zs=Js*(Pn-1);switch(se.baseline){case"bottom":re-=Zs;break;case"top":re+=Js-Zs;break;case"hanging":re+=Js-2*Zs;break;case"middle":re+=Js/2-Zs}if((ct=se.maxWidth||0)>0&&(typeof S=="string"?S=yr.splitTextToSize(S,ct):Object.prototype.toString.call(S)==="[object Array]"&&(S=S.reduce(function(zt,Ut){return zt.concat(yr.splitTextToSize(Ut,ct))},[]))),je={text:S,x:B,y:re,options:se,mutex:{pdfEscape:pn,activeFontKey:vt,fonts:It,activeFontSize:Ce}},kt.publish("preProcessText",je),S=je.text,qe=(se=je.options).angle,!(ar instanceof Qe)&&qe&&typeof qe=="number"){qe*=Math.PI/180,se.rotationDirection===0&&(qe=-qe),N===w.ADVANCED&&(qe=-qe);var Qs=Math.cos(qe),nu=Math.sin(qe);ar=new Qe(Qs,nu,-nu,Qs,0,0)}else qe&&qe instanceof Qe&&(ar=qe);N!==w.ADVANCED||ar||(ar=za),(dt=se.charSpace||Hs)!==void 0&&(Tr+=O(T(dt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(tr=se.horizontalScale)!==void 0&&(Tr+=O(100*tr)+` Tz
`),se.lang;var mn=-1,Sg=se.renderingMode!==void 0?se.renderingMode:se.stroke,au=yr.internal.getCurrentPageInfo().pageContext;switch(Sg){case 0:case!1:case"fill":mn=0;break;case 1:case!0:case"stroke":mn=1;break;case 2:case"fillThenStroke":mn=2;break;case 3:case"invisible":mn=3;break;case 4:case"fillAndAddForClipping":mn=4;break;case 5:case"strokeAndAddPathForClipping":mn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":mn=6;break;case 7:case"addToPathForClipping":mn=7}var Nf=au.usedRenderingMode!==void 0?au.usedRenderingMode:-1;mn!==-1?Tr+=mn+` Tr
`:Nf!==-1&&(Tr+=`0 Tr
`),mn!==-1&&(au.usedRenderingMode=mn),Ke=se.align||"left";var Bn,el=Ce*Pn,Sf=yr.internal.pageSize.getWidth(),_f=It[vt];dt=se.charSpace||Hs,ct=se.maxWidth||0,jt=Object.assign({autoencode:!0,noBOM:!0},se.flags);var Gi=[],Mo=function(zt){return yr.getStringUnitWidth(zt,{font:_f,charSpace:dt,fontSize:Ce,doKerning:!1})*Ce/Va};if(Object.prototype.toString.call(S)==="[object Array]"){var gn;Te=Qc(S),Ke!=="left"&&(Bn=Te.map(Mo));var nn,Hi=0;if(Ke==="right"){B-=Bn[0],S=[],Fr=Te.length;for(var vi=0;vi<Fr;vi++)vi===0?(nn=Ha(B),gn=gi(re)):(nn=T(Hi-Bn[vi]),gn=-el),S.push([Te[vi],nn,gn]),Hi=Bn[vi]}else if(Ke==="center"){B-=Bn[0]/2,S=[],Fr=Te.length;for(var yi=0;yi<Fr;yi++)yi===0?(nn=Ha(B),gn=gi(re)):(nn=T((Hi-Bn[yi])/2),gn=-el),S.push([Te[yi],nn,gn]),Hi=Bn[yi]}else if(Ke==="left"){S=[],Fr=Te.length;for(var tl=0;tl<Fr;tl++)S.push(Te[tl])}else if(Ke==="justify"&&_f.encoding==="Identity-H"){S=[],Fr=Te.length,ct=ct!==0?ct:Sf;for(var bi=0,dr=0;dr<Fr;dr++)if(gn=dr===0?gi(re):-el,nn=dr===0?Ha(B):bi,dr<Fr-1){var iu=T((ct-Bn[dr])/(Te[dr].split(" ").length-1)),an=Te[dr].split(" ");S.push([an[0]+" ",nn,gn]),bi=0;for(var qn=1;qn<an.length;qn++){var rl=(Mo(an[qn-1]+" "+an[qn])-Mo(an[qn]))*Va+iu;qn==an.length-1?S.push([an[qn],rl,0]):S.push([an[qn]+" ",rl,0]),bi-=rl}}else S.push([Te[dr],nn,gn]);S.push(["",bi,0])}else{if(Ke!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(S=[],Fr=Te.length,ct=ct!==0?ct:Sf,dr=0;dr<Fr;dr++)gn=dr===0?gi(re):-el,nn=dr===0?Ha(B):0,dr<Fr-1?Gi.push(O(T((ct-Bn[dr])/(Te[dr].split(" ").length-1)))):Gi.push(0),S.push([Te[dr],nn,gn])}}var Af=typeof se.R2L=="boolean"?se.R2L:Ve;Af===!0&&(S=eu(S,function(zt,Ut,fr){return[zt.split("").reverse().join(""),Ut,fr]})),je={text:S,x:B,y:re,options:se,mutex:{pdfEscape:pn,activeFontKey:vt,fonts:It,activeFontSize:Ce}},kt.publish("postProcessText",je),S=je.text,ya=je.mutex.isHex||!1;var ou=It[vt].encoding;ou!=="WinAnsiEncoding"&&ou!=="StandardEncoding"||(S=eu(S,function(zt,Ut,fr){return[jf(zt),Ut,fr]})),Te=Qc(S),S=[];for(var $o,Do,Vi,Io=0,nl=1,Ro=Array.isArray(Te[0])?nl:Io,Yi="",su=function(zt,Ut,fr){var Sr="";return fr instanceof Qe?(fr=typeof se.angle=="number"?fa(fr,new Qe(1,0,0,1,zt,Ut)):fa(new Qe(1,0,0,1,zt,Ut),fr),N===w.ADVANCED&&(fr=fa(new Qe(1,0,0,-1,0,0),fr)),Sr=fr.join(" ")+` Tm
`):Sr=O(zt)+" "+O(Ut)+` Td
`,Sr},zn=0;zn<Te.length;zn++){switch(Yi="",Ro){case nl:Vi=(ya?"<":"(")+Te[zn][0]+(ya?">":")"),$o=parseFloat(Te[zn][1]),Do=parseFloat(Te[zn][2]);break;case Io:Vi=(ya?"<":"(")+Te[zn]+(ya?">":")"),$o=Ha(B),Do=gi(re)}Gi!==void 0&&Gi[zn]!==void 0&&(Yi=Gi[zn]+` Tw
`),zn===0?S.push(Yi+su($o,Do,ar)+Vi):Ro===Io?S.push(Yi+Vi):Ro===nl&&S.push(Yi+su($o,Do,ar)+Vi)}S=Ro===Io?S.join(` Tj
T* `):S.join(` Tj
`),S+=` Tj
`;var Un=`BT
/`;return Un+=vt+" "+Ce+` Tf
`,Un+=O(Ce*Pn)+` TL
`,Un+=Co+`
`,Un+=Tr,Un+=S,ne(Un+="ET"),p[vt]=!0,yr};var mg=h.__private__.clip=h.clip=function(S){return ne(S==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return mg("evenodd")},h.__private__.discardPath=h.discardPath=function(){return ne("n"),this};var Ga=h.__private__.isValidStyle=function(S){var B=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(S)!==-1&&(B=!0),B};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(S){return Ga(S)&&(u=S),this};var pf=h.__private__.getStyle=h.getStyle=function(S){var B=u;switch(S){case"D":case"S":B="S";break;case"F":B="f";break;case"FD":case"DF":B="B";break;case"f":case"f*":case"B":case"B*":B=S}return B},mf=h.close=function(){return ne("h"),this};h.stroke=function(){return ne("S"),this},h.fill=function(S){return Ws("f",S),this},h.fillEvenOdd=function(S){return Ws("f*",S),this},h.fillStroke=function(S){return Ws("B",S),this},h.fillStrokeEvenOdd=function(S){return Ws("B*",S),this};var Ws=function(S,B){xt(B)==="object"?vg(B,S):ne(S)},Uc=function(S){S===null||N===w.ADVANCED&&S===void 0||(S=pf(S),ne(S))};function gg(S,B,re,se,me){var je=new wl(B||this.boundingBox,re||this.xStep,se||this.yStep,this.gState,me||this.matrix);je.stream=this.stream;var Te=S+"$$"+this.cloneIndex+++"$$";return hn(Te,je),je}var vg=function(S,B){var re=Oo[S.key],se=Et[re];if(se instanceof Jo)ne("q"),ne(yg(B)),se.gState&&h.setGState(se.gState),ne(S.matrix.toString()+" cm"),ne("/"+re+" sh"),ne("Q");else if(se instanceof wl){var me=new Qe(1,0,0,-1,0,Wi());S.matrix&&(me=me.multiply(S.matrix||za),re=gg.call(se,S.key,S.boundingBox,S.xStep,S.yStep,me).id),ne("q"),ne("/Pattern cs"),ne("/"+re+" scn"),se.gState&&h.setGState(se.gState),ne(B),ne("Q")}},yg=function(S){switch(S){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Wc=h.moveTo=function(S,B){return ne(O(T(S))+" "+O(I(B))+" m"),this},ko=h.lineTo=function(S,B){return ne(O(T(S))+" "+O(I(B))+" l"),this},zi=h.curveTo=function(S,B,re,se,me,je){return ne([O(T(S)),O(I(B)),O(T(re)),O(I(se)),O(T(me)),O(I(je)),"c"].join(" ")),this};h.__private__.line=h.line=function(S,B,re,se,me){if(isNaN(S)||isNaN(B)||isNaN(re)||isNaN(se)||!Ga(me))throw new Error("Invalid arguments passed to jsPDF.line");return N===w.COMPAT?this.lines([[re-S,se-B]],S,B,[1,1],me||"S"):this.lines([[re-S,se-B]],S,B,[1,1]).stroke()},h.__private__.lines=h.lines=function(S,B,re,se,me,je){var Te,qe,Ke,dt,ct,jt,tr,ar,yr,Gr,Tr,ya;if(typeof S=="number"&&(ya=re,re=B,B=S,S=ya),se=se||[1,1],je=je||!1,isNaN(B)||isNaN(re)||!Array.isArray(S)||!Array.isArray(se)||!Ga(me)||typeof je!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Wc(B,re),Te=se[0],qe=se[1],dt=S.length,Gr=B,Tr=re,Ke=0;Ke<dt;Ke++)(ct=S[Ke]).length===2?(Gr=ct[0]*Te+Gr,Tr=ct[1]*qe+Tr,ko(Gr,Tr)):(jt=ct[0]*Te+Gr,tr=ct[1]*qe+Tr,ar=ct[2]*Te+Gr,yr=ct[3]*qe+Tr,Gr=ct[4]*Te+Gr,Tr=ct[5]*qe+Tr,zi(jt,tr,ar,yr,Gr,Tr));return je&&mf(),Uc(me),this},h.path=function(S){for(var B=0;B<S.length;B++){var re=S[B],se=re.c;switch(re.op){case"m":Wc(se[0],se[1]);break;case"l":ko(se[0],se[1]);break;case"c":zi.apply(this,se);break;case"h":mf()}}return this},h.__private__.rect=h.rect=function(S,B,re,se,me){if(isNaN(S)||isNaN(B)||isNaN(re)||isNaN(se)||!Ga(me))throw new Error("Invalid arguments passed to jsPDF.rect");return N===w.COMPAT&&(se=-se),ne([O(T(S)),O(I(B)),O(T(re)),O(T(se)),"re"].join(" ")),Uc(me),this},h.__private__.triangle=h.triangle=function(S,B,re,se,me,je,Te){if(isNaN(S)||isNaN(B)||isNaN(re)||isNaN(se)||isNaN(me)||isNaN(je)||!Ga(Te))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[re-S,se-B],[me-re,je-se],[S-me,B-je]],S,B,[1,1],Te,!0),this},h.__private__.roundedRect=h.roundedRect=function(S,B,re,se,me,je,Te){if(isNaN(S)||isNaN(B)||isNaN(re)||isNaN(se)||isNaN(me)||isNaN(je)||!Ga(Te))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var qe=4/3*(Math.SQRT2-1);return me=Math.min(me,.5*re),je=Math.min(je,.5*se),this.lines([[re-2*me,0],[me*qe,0,me,je-je*qe,me,je],[0,se-2*je],[0,je*qe,-me*qe,je,-me,je],[2*me-re,0],[-me*qe,0,-me,-je*qe,-me,-je],[0,2*je-se],[0,-je*qe,me*qe,-je,me,-je]],S+me,B,[1,1],Te,!0),this},h.__private__.ellipse=h.ellipse=function(S,B,re,se,me){if(isNaN(S)||isNaN(B)||isNaN(re)||isNaN(se)||!Ga(me))throw new Error("Invalid arguments passed to jsPDF.ellipse");var je=4/3*(Math.SQRT2-1)*re,Te=4/3*(Math.SQRT2-1)*se;return Wc(S+re,B),zi(S+re,B-Te,S+je,B-se,S,B-se),zi(S-je,B-se,S-re,B-Te,S-re,B),zi(S-re,B+Te,S-je,B+se,S,B+se),zi(S+je,B+se,S+re,B+Te,S+re,B),Uc(me),this},h.__private__.circle=h.circle=function(S,B,re,se){if(isNaN(S)||isNaN(B)||isNaN(re)||!Ga(se))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(S,B,re,re,se)},h.setFont=function(S,B,re){return re&&(B=A(B,re)),vt=df(S,B,{disableWarning:!1}),this};var bg=h.__private__.getFont=h.getFont=function(){return It[df.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var S,B,re={};for(S in Qt)if(Qt.hasOwnProperty(S))for(B in re[S]=[],Qt[S])Qt[S].hasOwnProperty(B)&&re[S].push(B);return re},h.addFont=function(S,B,re,se,me){var je=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&je.indexOf(arguments[3])!==-1?me=arguments[3]:arguments[3]&&je.indexOf(arguments[3])==-1&&(re=A(re,se)),me=me||"Identity-H",Bc.call(this,S,B,re,me)};var To,Gc=e.lineWidth||.200025,Gs=h.__private__.getLineWidth=h.getLineWidth=function(){return Gc},gf=h.__private__.setLineWidth=h.setLineWidth=function(S){return Gc=S,ne(O(T(S))+" w"),this};h.__private__.setLineDash=tt.API.setLineDash=tt.API.setLineDashPattern=function(S,B){if(S=S||[],B=B||0,isNaN(B)||!Array.isArray(S))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return S=S.map(function(re){return O(T(re))}).join(" "),B=O(T(B)),ne("["+S+"] "+B+" d"),this};var vf=h.__private__.getLineHeight=h.getLineHeight=function(){return Ce*To};h.__private__.getLineHeight=h.getLineHeight=function(){return Ce*To};var yf=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(S){return typeof(S=S||1.15)=="number"&&(To=S),this},bf=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return To};yf(e.lineHeight);var Ha=h.__private__.getHorizontalCoordinate=function(S){return T(S)},gi=h.__private__.getVerticalCoordinate=function(S){return N===w.ADVANCED?S:lt[z].mediaBox.topRightY-lt[z].mediaBox.bottomLeftY-T(S)},xg=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(S){return O(Ha(S))},Ui=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(S){return O(gi(S))},va=e.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return pa(va)},h.__private__.setStrokeColor=h.setDrawColor=function(S,B,re,se){return va=ma({ch1:S,ch2:B,ch3:re,ch4:se,pdfColorType:"draw",precision:2}),ne(va),this};var Hc=e.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return pa(Hc)},h.__private__.setFillColor=h.setFillColor=function(S,B,re,se){return Hc=ma({ch1:S,ch2:B,ch3:re,ch4:se,pdfColorType:"fill",precision:2}),ne(Hc),this};var Co=e.textColor||"0 g",wg=h.__private__.getTextColor=h.getTextColor=function(){return pa(Co)};h.__private__.setTextColor=h.setTextColor=function(S,B,re,se){return Co=ma({ch1:S,ch2:B,ch3:re,ch4:se,pdfColorType:"text",precision:3}),this};var Hs=e.charSpace,jg=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(Hs||0)};h.__private__.setCharSpace=h.setCharSpace=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Hs=S,this};var Vc=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(S){var B=h.CapJoinStyles[S];if(B===void 0)throw new Error("Line cap style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Vc=B,ne(B+" J"),this};var Yc=0;h.__private__.setLineJoin=h.setLineJoin=function(S){var B=h.CapJoinStyles[S];if(B===void 0)throw new Error("Line join style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Yc=B,ne(B+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(S){if(S=S||0,isNaN(S))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ne(O(T(S))+" M"),this},h.GState=Ph,h.setGState=function(S){(S=typeof S=="string"?rr[da[S]]:xf(null,S)).equals(hi)||(ne("/"+S.id+" gs"),hi=S)};var xf=function(S,B){if(!S||!da[S]){var re=!1;for(var se in rr)if(rr.hasOwnProperty(se)&&rr[se].equals(B)){re=!0;break}if(re)B=rr[se];else{var me="GS"+(Object.keys(rr).length+1).toString(10);rr[me]=B,B.id=me}return S&&(da[S]=B.id),kt.publish("addGState",B),B}};h.addGState=function(S,B){return xf(S,B),this},h.saveGraphicsState=function(){return ne("q"),Fa.push({key:vt,size:Ce,color:Co}),this},h.restoreGraphicsState=function(){ne("Q");var S=Fa.pop();return vt=S.key,Ce=S.size,Co=S.color,hi=null,this},h.setCurrentTransformationMatrix=function(S){return ne(S.toString()+" cm"),this},h.comment=function(S){return ne("#"+S),this};var Vs=function(S,B){var re=S||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return re},set:function(je){isNaN(je)||(re=parseFloat(je))}});var se=B||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return se},set:function(je){isNaN(je)||(se=parseFloat(je))}});var me="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return me},set:function(je){me=je.toString()}}),this},Kc=function(S,B,re,se){Vs.call(this,S,B),this.type="rect";var me=re||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return me},set:function(Te){isNaN(Te)||(me=parseFloat(Te))}});var je=se||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return je},set:function(Te){isNaN(Te)||(je=parseFloat(Te))}}),this},Xc=function(){this.page=nr,this.currentPage=z,this.pages=be.slice(0),this.pagesContext=lt.slice(0),this.x=Ur,this.y=_t,this.matrix=ua,this.width=Lo(z),this.height=Wi(z),this.outputDestination=Ee,this.id="",this.objectNumber=-1};Xc.prototype.restore=function(){nr=this.page,z=this.currentPage,lt=this.pagesContext,be=this.pages,Ur=this.x,_t=this.y,ua=this.matrix,Jc(z,this.width),Zc(z,this.height),Ee=this.outputDestination};var wf=function(S,B,re,se,me){qa.push(new Xc),nr=z=0,be=[],Ur=S,_t=B,ua=me,qc([re,se])},Ng=function(S){if(Ba[S])qa.pop().restore();else{var B=new Xc,re="Xo"+(Object.keys(Rr).length+1).toString(10);B.id=re,Ba[S]=re,Rr[re]=B,kt.publish("addFormObject",B),qa.pop().restore()}};for(var Ys in h.beginFormObject=function(S,B,re,se,me){return wf(S,B,re,se,me),this},h.endFormObject=function(S){return Ng(S),this},h.doFormObject=function(S,B){var re=Rr[Ba[S]];return ne("q"),ne(B.toString()+" cm"),ne("/"+re.id+" Do"),ne("Q"),this},h.getFormObject=function(S){var B=Rr[Ba[S]];return{x:B.x,y:B.y,width:B.width,height:B.height,matrix:B.matrix}},h.save=function(S,B){return S=S||"generated.pdf",(B=B||{}).returnPromise=B.returnPromise||!1,B.returnPromise===!1?(Ho(zs(mi()),S),typeof Ho.unload=="function"&&rt.setTimeout&&setTimeout(Ho.unload,911),this):new Promise(function(re,se){try{var me=Ho(zs(mi()),S);typeof Ho.unload=="function"&&rt.setTimeout&&setTimeout(Ho.unload,911),re(me)}catch(je){se(je.message)}})},tt.API)tt.API.hasOwnProperty(Ys)&&(Ys==="events"&&tt.API.events.length?function(S,B){var re,se,me;for(me=B.length-1;me!==-1;me--)re=B[me][0],se=B[me][1],S.subscribe.apply(S,[re].concat(typeof se=="function"?[se]:se))}(kt,tt.API.events):h[Ys]=tt.API[Ys]);var Lo=h.getPageWidth=function(S){return(lt[S=S||z].mediaBox.topRightX-lt[S].mediaBox.bottomLeftX)/Fe},Jc=h.setPageWidth=function(S,B){lt[S].mediaBox.topRightX=B*Fe+lt[S].mediaBox.bottomLeftX},Wi=h.getPageHeight=function(S){return(lt[S=S||z].mediaBox.topRightY-lt[S].mediaBox.bottomLeftY)/Fe},Zc=h.setPageHeight=function(S,B){lt[S].mediaBox.topRightY=B*Fe+lt[S].mediaBox.bottomLeftY};return h.internal={pdfEscape:pn,getStyle:pf,getFont:bg,getFontSize:Me,getCharSpace:jg,getTextColor:wg,getLineHeight:vf,getLineHeightFactor:bf,getLineWidth:Gs,write:Ye,getHorizontalCoordinate:Ha,getVerticalCoordinate:gi,getCoordinateString:xg,getVerticalCoordinateString:Ui,collections:{},newObject:Nr,newAdditionalObject:Ms,newObjectDeferred:vr,newObjectDeferredBegin:On,getFilters:Ua,putStream:Fn,events:kt,scaleFactor:Fe,pageSize:{getWidth:function(){return Lo(z)},setWidth:function(S){Jc(z,S)},getHeight:function(){return Wi(z)},setHeight:function(S){Zc(z,S)}},encryptionOptions:d,encryption:Wr,getEncryptor:hg,output:Us,getNumberOfPages:lg,pages:be,out:ne,f2:D,f3:k,getPageInfo:hf,getPageInfoByObjId:st,getCurrentPageInfo:pg,getPDFVersion:g,Point:Vs,Rectangle:Kc,Matrix:Qe,hasHotfix:ff},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return Lo(z)},set:function(S){Jc(z,S)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return Wi(z)},set:function(S){Zc(z,S)},enumerable:!0,configurable:!0}),og.call(h,ke),vt="F1",cf(a,r),kt.publish("initialized"),h}vl.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},vl.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},vl.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},vl.prototype.processOwnerPassword=function(e,t){return Yv(Vv(t).substr(0,5),e)},vl.prototype.encryptor=function(e,t){var r=Vv(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return Yv(r,n)}},Ph.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||xt(e)!==xt(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},tt.API={events:[]},tt.version="3.0.1";var or=tt.API,Hy=1,Ps=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ul=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ut=function(e){return e.toFixed(2)},no=function(e){return e.toFixed(5)};or.__acroform__={};var An=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},b1=function(e){return e*Hy},Xa=function(e){var t=new gS,r=Ge.internal.getHeight(e)||0,n=Ge.internal.getWidth(e)||0;return t.BBox=[0,0,Number(ut(n)),Number(ut(r))],t},Z6=or.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},Q6=or.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},eE=or.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},hr=or.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return eE(e,t-1)},pr=or.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Z6(e,t-1)},mr=or.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Q6(e,t-1)},tE=or.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],i=e[1],o=e[2],s=e[3],c={};return c.lowerLeft_X=r(a)||0,c.lowerLeft_Y=n(i+s)||0,c.upperRight_X=r(a+o)||0,c.upperRight_Y=n(i)||0,[Number(ut(c.lowerLeft_X)),Number(ut(c.lowerLeft_Y)),Number(ut(c.upperRight_X)),Number(ut(c.upperRight_Y))]},rE=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=Kv(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+ut(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=Xa(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},Kv=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(k){return k.split(`
`)}):a.map(function(k){return[k]});var i=r,o=Ge.internal.getHeight(e)||0;o=o<0?-o:o;var s=Ge.internal.getWidth(e)||0;s=s<0?-s:s;var c=function(k,T,$){if(k+1<a.length){var I=T+" "+a[k+1][0];return Yf(I,e,$).width<=s-4}return!1};i++;e:for(;i>0;){t="",i--;var u,d,f=Yf("3",e,i).height,p=e.multiline?o-i:(o-f)/2,h=p+=2,v=0,g=0,y=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+Yf(t,e,i=12).width+", FieldWidth:"+s+`
`;break}for(var x="",w=0,N=0;N<a.length;N++)if(a.hasOwnProperty(N)){var _=!1;if(a[N].length!==1&&y!==a[N].length-1){if((f+2)*(w+2)+2>o)continue e;x+=a[N][y],_=!0,g=N,N--}else{x=(x+=a[N][y]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var b=parseInt(N),A=c(b,x,i),O=N>=a.length-1;if(A&&!O){x+=" ",y=0;continue}if(A||O){if(O)g=b;else if(e.multiline&&(f+2)*(w+2)+2>o)continue e}else{if(!e.multiline||(f+2)*(w+2)+2>o)continue e;g=b}}for(var E="",C=v;C<=g;C++){var D=a[C];if(e.multiline){if(C===g){E+=D[y]+" ",y=(y+1)%D.length;continue}if(C===v){E+=D[D.length-1]+" ";continue}}E+=D[0]+" "}switch(E=E.substr(E.length-1)==" "?E.substr(0,E.length-1):E,d=Yf(E,e,i).width,e.textAlign){case"right":u=s-d-2;break;case"center":u=(s-d)/2;break;case"left":default:u=2}t+=ut(u)+" "+ut(h)+` Td
`,t+="("+Ps(E)+`) Tj
`,t+=-ut(u)+` 0 Td
`,h=-(i+2),d=0,v=_?g:g+1,w++,x=""}break}return n.text=t,n.fontSize=i,n},Yf=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},nE={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},aE=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},iE=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,a=e[r];t.internal.newObjectDeferredBegin(a.objId,!0),xt(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete e[n]}},oE=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(La.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(nE)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Hy=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new vS,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&aE(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var o in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var s=n[o],c=[],u=s.Rect;if(s.Rect&&(s.Rect=tE(s.Rect,a)),a.internal.newObjectDeferredBegin(s.objId,!0),s.DA=Ge.createDefaultAppearanceStream(s),xt(s)==="object"&&typeof s.getKeyValueListForStream=="function"&&(c=s.getKeyValueListForStream()),s.Rect=u,s.hasAppearanceStream&&!s.appearanceStreamContent){var d=rE(s);c.push({key:"AP",value:"<</N "+d+">>"}),a.internal.acroformPlugin.xForms.push(d)}if(s.appearanceStreamContent){var f="";for(var p in s.appearanceStreamContent)if(s.appearanceStreamContent.hasOwnProperty(p)){var h=s.appearanceStreamContent[p];if(f+="/"+p+" ",f+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var o in h)if(h.hasOwnProperty(o)){var v=h[o];typeof v=="function"&&(v=v.call(a,s)),f+="/"+o+" "+v+" ",a.internal.acroformPlugin.xForms.indexOf(v)>=0||a.internal.acroformPlugin.xForms.push(v)}}else typeof(v=h)=="function"&&(v=v.call(a,s)),f+="/"+o+" "+v,a.internal.acroformPlugin.xForms.indexOf(v)>=0||a.internal.acroformPlugin.xForms.push(v);f+=">>"}c.push({key:"AP",value:`<<
`+f+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:s.objId}),a.internal.out("endobj")}i&&iE(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},mS=or.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(o){return o};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(i!==0&&(a+=" "),xt(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+Ps(n(e[i].toString()))+")"):a+=e[i].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Xg=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+Ps(n(e))+")"},ei=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ei.prototype.toString=function(){return this.objId+" 0 R"},ei.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},ei.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:mS(a,this.objId,this.scope)}):a instanceof ei?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var gS=function(){ei.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};An(gS,ei);var vS=function(){ei.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Ps(r(e))+")"}},set:function(r){e=r}})};An(vS,ei);var La=function e(){ei.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');t=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!hr(t,3)},set:function(x){x?this.F=pr(t,3):this.F=mr(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');r=x}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(x){n=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(x){n[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(x){n[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(x){n[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(x){n[3]=x}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Eh)return;i="FieldObject"+e.FieldNum++}var x=function(w){return w};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+Ps(x(i))+")"},set:function(x){i=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(x){i=x}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(x){o=x}});var s="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return s},set:function(x){s=x}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(x){c=x}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/Hy:u},set:function(x){u=x}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(x){d=x}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof Eh||this instanceof is))return Xg(f,this.objId,this.scope)},set:function(x){x=x.toString(),f=x}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof $r?p:Xg(p,this.objId,this.scope)},set:function(x){x=x.toString(),p=this instanceof $r?x:x.substr(0,1)==="("?ul(x.substr(1,x.length-2)):ul(x)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof $r?ul(p.substr(1,p.length-1)):p},set:function(x){x=x.toString(),p=this instanceof $r?"/"+x:x}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof $r?h:Xg(h,this.objId,this.scope)},set:function(x){x=x.toString(),h=this instanceof $r?x:x.substr(0,1)==="("?ul(x.substr(1,x.length-2)):ul(x)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof $r?ul(h.substr(1,h.length-1)):h},set:function(x){x=x.toString(),h=this instanceof $r?"/"+x:x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(x){x=!!x,g=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(x){v=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,1)},set:function(x){x?this.Ff=pr(this.Ff,1):this.Ff=mr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,2)},set:function(x){x?this.Ff=pr(this.Ff,2):this.Ff=mr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,3)},set:function(x){x?this.Ff=pr(this.Ff,3):this.Ff=mr(this.Ff,3)}});var y=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(y!==null)return y},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');y=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(y){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:y=2;break;case"center":case 1:y=1;break;case"left":case 0:default:y=0}}})};An(La,ei);var Pl=function(){La.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return mS(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(i,o,s){s||(s=1);for(var c,u=[];c=o.exec(i);)u.push(c[s]);return u}(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,18)},set:function(r){r?this.Ff=pr(this.Ff,18):this.Ff=mr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=pr(this.Ff,19):this.Ff=mr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,20)},set:function(r){r?(this.Ff=pr(this.Ff,20),t.sort()):this.Ff=mr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,22)},set:function(r){r?this.Ff=pr(this.Ff,22):this.Ff=mr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,23)},set:function(r){r?this.Ff=pr(this.Ff,23):this.Ff=mr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,27)},set:function(r){r?this.Ff=pr(this.Ff,27):this.Ff=mr(this.Ff,27)}}),this.hasAppearanceStream=!1};An(Pl,La);var El=function(){Pl.call(this),this.fontName="helvetica",this.combo=!1};An(El,Pl);var kl=function(){El.call(this),this.combo=!0};An(kl,El);var vh=function(){kl.call(this),this.edit=!0};An(vh,kl);var $r=function(){La.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,15)},set:function(r){r?this.Ff=pr(this.Ff,15):this.Ff=mr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,16)},set:function(r){r?this.Ff=pr(this.Ff,16):this.Ff=mr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,17)},set:function(r){r?this.Ff=pr(this.Ff,17):this.Ff=mr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,26)},set:function(r){r?this.Ff=pr(this.Ff,26):this.Ff=mr(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+Ps(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){xt(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};An($r,La);var yh=function(){$r.call(this),this.pushButton=!0};An(yh,$r);var Tl=function(){$r.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};An(Tl,$r);var Eh=function(){var e,t;La.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(s){return s};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),n)o.push("/"+i+" ("+Ps(a(n[i]))+")");return o.push(">>"),o.join(`
`)},set:function(a){xt(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ge.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};An(Eh,La),Tl.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Tl.prototype.createOption=function(e){var t=new Eh;return t.Parent=this,t.optionName=e,this.Kids.push(t),sE.call(this.scope,t),t};var bh=function(){$r.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ge.CheckBox.createAppearanceStream()};An(bh,$r);var is=function(){La.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,13)},set:function(t){t?this.Ff=pr(this.Ff,13):this.Ff=mr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,21)},set:function(t){t?this.Ff=pr(this.Ff,21):this.Ff=mr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,23)},set:function(t){t?this.Ff=pr(this.Ff,23):this.Ff=mr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,24)},set:function(t){t?this.Ff=pr(this.Ff,24):this.Ff=mr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,25)},set:function(t){t?this.Ff=pr(this.Ff,25):this.Ff=mr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,26)},set:function(t){t?this.Ff=pr(this.Ff,26):this.Ff=mr(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};An(is,La);var xh=function(){is.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,14)},set:function(e){e?this.Ff=pr(this.Ff,14):this.Ff=mr(this.Ff,14)}}),this.password=!0};An(xh,is);var Ge={CheckBox:{createAppearanceStream:function(){return{N:{On:Ge.CheckBox.YesNormal},D:{On:Ge.CheckBox.YesPushDown,Off:Ge.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Xa(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=Kv(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+ut(Ge.internal.getWidth(e))+" "+ut(Ge.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+ut(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Xa(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],i=Ge.internal.getHeight(e),o=Ge.internal.getWidth(e),s=Kv(e,e.caption);return a.push("1 g"),a.push("0 0 "+ut(o)+" "+ut(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+ut(o-1)+" "+ut(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+ut(s.fontSize)+" Tf "+n),a.push(s.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=Xa(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+ut(Ge.internal.getWidth(e))+" "+ut(Ge.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Ge.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Ge.RadioButton.Circle.YesNormal,t.D[e]=Ge.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Xa(e);t.scope=e.scope;var r=[],n=Ge.internal.getWidth(e)<=Ge.internal.getHeight(e)?Ge.internal.getWidth(e)/4:Ge.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Ge.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+no(Ge.internal.getWidth(e)/2)+" "+no(Ge.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Xa(e);t.scope=e.scope;var r=[],n=Ge.internal.getWidth(e)<=Ge.internal.getHeight(e)?Ge.internal.getWidth(e)/4:Ge.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Ge.internal.Bezier_C).toFixed(5)),o=Number((n*Ge.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+no(Ge.internal.getWidth(e)/2)+" "+no(Ge.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+no(Ge.internal.getWidth(e)/2)+" "+no(Ge.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Xa(e);t.scope=e.scope;var r=[],n=Ge.internal.getWidth(e)<=Ge.internal.getHeight(e)?Ge.internal.getWidth(e)/4:Ge.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Ge.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+no(Ge.internal.getWidth(e)/2)+" "+no(Ge.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Ge.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Ge.RadioButton.Cross.YesNormal,t.D[e]=Ge.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Xa(e);t.scope=e.scope;var r=[],n=Ge.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+ut(Ge.internal.getWidth(e)-2)+" "+ut(Ge.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(ut(n.x1.x)+" "+ut(n.x1.y)+" m"),r.push(ut(n.x2.x)+" "+ut(n.x2.y)+" l"),r.push(ut(n.x4.x)+" "+ut(n.x4.y)+" m"),r.push(ut(n.x3.x)+" "+ut(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Xa(e);t.scope=e.scope;var r=Ge.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+ut(Ge.internal.getWidth(e))+" "+ut(Ge.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+ut(Ge.internal.getWidth(e)-2)+" "+ut(Ge.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(ut(r.x1.x)+" "+ut(r.x1.y)+" m"),n.push(ut(r.x2.x)+" "+ut(r.x2.y)+" l"),n.push(ut(r.x4.x)+" "+ut(r.x4.y)+" m"),n.push(ut(r.x3.x)+" "+ut(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Xa(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+ut(Ge.internal.getWidth(e))+" "+ut(Ge.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Ge.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Ge.internal.getWidth(e),r=Ge.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},Ge.internal.getWidth=function(e){var t=0;return xt(e)==="object"&&(t=b1(e.Rect[2])),t},Ge.internal.getHeight=function(e){var t=0;return xt(e)==="object"&&(t=b1(e.Rect[3])),t};var sE=or.addField=function(e){if(oE(this,e),!(e instanceof La))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};or.AcroFormChoiceField=Pl,or.AcroFormListBox=El,or.AcroFormComboBox=kl,or.AcroFormEditBox=vh,or.AcroFormButton=$r,or.AcroFormPushButton=yh,or.AcroFormRadioButton=Tl,or.AcroFormCheckBox=bh,or.AcroFormTextField=is,or.AcroFormPasswordField=xh,or.AcroFormAppearance=Ge,or.AcroForm={ChoiceField:Pl,ListBox:El,ComboBox:kl,EditBox:vh,Button:$r,PushButton:yh,RadioButton:Tl,CheckBox:bh,TextField:is,PasswordField:xh,Appearance:Ge},tt.AcroForm={ChoiceField:Pl,ListBox:El,ComboBox:kl,EditBox:vh,Button:$r,PushButton:yh,RadioButton:Tl,CheckBox:bh,TextField:is,PasswordField:xh,Appearance:Ge};tt.AcroForm;function yS(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(k,T){var $,I,H,V,X,Q=t;if((T=T||t)==="RGBA"||k.data!==void 0&&k.data instanceof Uint8ClampedArray&&"height"in k&&"width"in k)return"RGBA";if(A(k))for(X in r)for(H=r[X],$=0;$<H.length;$+=1){for(V=!0,I=0;I<H[$].length;I+=1)if(H[$][I]!==void 0&&H[$][I]!==k[I]){V=!1;break}if(V===!0){Q=X;break}}else for(X in r)for(H=r[X],$=0;$<H.length;$+=1){for(V=!0,I=0;I<H[$].length;I+=1)if(H[$][I]!==void 0&&H[$][I]!==k.charCodeAt(I)){V=!1;break}if(V===!0){Q=X;break}}return Q===t&&T!==t&&(Q=T),Q},a=function k(T){for(var $=this.internal.write,I=this.internal.putStream,H=(0,this.internal.getFilters)();H.indexOf("FlateEncode")!==-1;)H.splice(H.indexOf("FlateEncode"),1);T.objectId=this.internal.newObject();var V=[];if(V.push({key:"Type",value:"/XObject"}),V.push({key:"Subtype",value:"/Image"}),V.push({key:"Width",value:T.width}),V.push({key:"Height",value:T.height}),T.colorSpace===y.INDEXED?V.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(T.palette.length/3-1)+" "+("sMask"in T&&T.sMask!==void 0?T.objectId+2:T.objectId+1)+" 0 R]"}):(V.push({key:"ColorSpace",value:"/"+T.colorSpace}),T.colorSpace===y.DEVICE_CMYK&&V.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),V.push({key:"BitsPerComponent",value:T.bitsPerComponent}),"decodeParameters"in T&&T.decodeParameters!==void 0&&V.push({key:"DecodeParms",value:"<<"+T.decodeParameters+">>"}),"transparency"in T&&Array.isArray(T.transparency)){for(var X="",Q=0,Y=T.transparency.length;Q<Y;Q++)X+=T.transparency[Q]+" "+T.transparency[Q]+" ";V.push({key:"Mask",value:"["+X+"]"})}T.sMask!==void 0&&V.push({key:"SMask",value:T.objectId+1+" 0 R"});var G=T.filter!==void 0?["/"+T.filter]:void 0;if(I({data:T.data,additionalKeyValues:V,alreadyAppliedFilters:G,objectId:T.objectId}),$("endobj"),"sMask"in T&&T.sMask!==void 0){var ae="/Predictor "+T.predictor+" /Colors 1 /BitsPerComponent "+T.bitsPerComponent+" /Columns "+T.width,M={width:T.width,height:T.height,colorSpace:"DeviceGray",bitsPerComponent:T.bitsPerComponent,decodeParameters:ae,data:T.sMask};"filter"in T&&(M.filter=T.filter),k.call(this,M)}if(T.colorSpace===y.INDEXED){var z=this.internal.newObject();I({data:E(new Uint8Array(T.palette)),objectId:z}),$("endobj")}},i=function(){var k=this.internal.collections.addImage_images;for(var T in k)a.call(this,k[T])},o=function(){var k,T=this.internal.collections.addImage_images,$=this.internal.write;for(var I in T)$("/I"+(k=T[I]).index,k.objectId,"0","R")},s=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var k=this.internal.collections.addImage_images;return s.call(this),k},u=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(k){return typeof e["process"+k.toUpperCase()]=="function"},f=function(k){return xt(k)==="object"&&k.nodeType===1},p=function(k,T){if(k.nodeName==="IMG"&&k.hasAttribute("src")){var $=""+k.getAttribute("src");if($.indexOf("data:image/")===0)return Lu(unescape($).split("base64,").pop());var I=e.loadFile($,!0);if(I!==void 0)return I}if(k.nodeName==="CANVAS"){if(k.width===0||k.height===0)throw new Error("Given canvas must have data. Canvas width: "+k.width+", height: "+k.height);var H;switch(T){case"PNG":H="image/png";break;case"WEBP":H="image/webp";break;case"JPEG":case"JPG":default:H="image/jpeg"}return Lu(k.toDataURL(H,1).split("base64,").pop())}},h=function(k){var T=this.internal.collections.addImage_images;if(T){for(var $ in T)if(k===T[$].alias)return T[$]}},v=function(k,T,$){return k||T||(k=-96,T=-96),k<0&&(k=-1*$.width*72/k/this.internal.scaleFactor),T<0&&(T=-1*$.height*72/T/this.internal.scaleFactor),k===0&&(k=T*$.width/$.height),T===0&&(T=k*$.height/$.width),[k,T]},g=function(k,T,$,I,H,V){var X=v.call(this,$,I,H),Q=this.internal.getCoordinateString,Y=this.internal.getVerticalCoordinateString,G=c.call(this);if($=X[0],I=X[1],G[H.index]=H,V){V*=Math.PI/180;var ae=Math.cos(V),M=Math.sin(V),z=function(te){return te.toFixed(4)},Z=[z(ae),z(M),z(-1*M),z(ae),0,0,"cm"]}this.internal.write("q"),V?(this.internal.write([1,"0","0",1,Q(k),Y(T+I),"cm"].join(" ")),this.internal.write(Z.join(" ")),this.internal.write([Q($),"0","0",Q(I),"0","0","cm"].join(" "))):this.internal.write([Q($),"0","0",Q(I),Q(k),Y(T+I),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+H.index+" Do"),this.internal.write("Q")},y=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var x=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=e.__addimage__.sHashCode=function(k){var T,$,I=0;if(typeof k=="string")for($=k.length,T=0;T<$;T++)I=(I<<5)-I+k.charCodeAt(T),I|=0;else if(A(k))for($=k.byteLength/2,T=0;T<$;T++)I=(I<<5)-I+k[T],I|=0;return I},N=e.__addimage__.validateStringAsBase64=function(k){(k=k||"").toString().trim();var T=!0;return k.length===0&&(T=!1),k.length%4!=0&&(T=!1),/^[A-Za-z0-9+/]+$/.test(k.substr(0,k.length-2))===!1&&(T=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(k.substr(-2))===!1&&(T=!1),T},_=e.__addimage__.extractImageFromDataUrl=function(k){if(k==null||!(k=k.trim()).startsWith("data:"))return null;var T=k.indexOf(",");return T<0?null:k.substring(0,T).trim().endsWith("base64")?k.substring(T+1):null},b=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(k){return b()&&k instanceof ArrayBuffer};var A=e.__addimage__.isArrayBufferView=function(k){return b()&&typeof Uint32Array<"u"&&(k instanceof Int8Array||k instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&k instanceof Uint8ClampedArray||k instanceof Int16Array||k instanceof Uint16Array||k instanceof Int32Array||k instanceof Uint32Array||k instanceof Float32Array||k instanceof Float64Array)},O=e.__addimage__.binaryStringToUint8Array=function(k){for(var T=k.length,$=new Uint8Array(T),I=0;I<T;I++)$[I]=k.charCodeAt(I);return $},E=e.__addimage__.arrayBufferToBinaryString=function(k){for(var T="",$=A(k)?k:new Uint8Array(k),I=0;I<$.length;I+=8192)T+=String.fromCharCode.apply(null,$.subarray(I,I+8192));return T};e.addImage=function(){var k,T,$,I,H,V,X,Q,Y;if(typeof arguments[1]=="number"?(T=t,$=arguments[1],I=arguments[2],H=arguments[3],V=arguments[4],X=arguments[5],Q=arguments[6],Y=arguments[7]):(T=arguments[1],$=arguments[2],I=arguments[3],H=arguments[4],V=arguments[5],X=arguments[6],Q=arguments[7],Y=arguments[8]),xt(k=arguments[0])==="object"&&!f(k)&&"imageData"in k){var G=k;k=G.imageData,T=G.format||T||t,$=G.x||$||0,I=G.y||I||0,H=G.w||G.width||H,V=G.h||G.height||V,X=G.alias||X,Q=G.compression||Q,Y=G.rotation||G.angle||Y}var ae=this.internal.getFilters();if(Q===void 0&&ae.indexOf("FlateEncode")!==-1&&(Q="SLOW"),isNaN($)||isNaN(I))throw new Error("Invalid coordinates passed to jsPDF.addImage");s.call(this);var M=C.call(this,k,T,X,Q);return g.call(this,$,I,H,V,M,Y),this};var C=function(k,T,$,I){var H,V,X;if(typeof k=="string"&&n(k)===t){k=unescape(k);var Q=D(k,!1);(Q!==""||(Q=e.loadFile(k,!0))!==void 0)&&(k=Q)}if(f(k)&&(k=p(k,T)),T=n(k,T),!d(T))throw new Error("addImage does not support files of type '"+T+"', please ensure that a plugin for '"+T+"' support is added.");if(((X=$)==null||X.length===0)&&($=function(Y){return typeof Y=="string"||A(Y)?w(Y):A(Y.data)?w(Y.data):null}(k)),(H=h.call(this,$))||(b()&&(k instanceof Uint8Array||T==="RGBA"||(V=k,k=O(k))),H=this["process"+T.toUpperCase()](k,u.call(this),$,function(Y){return Y&&typeof Y=="string"&&(Y=Y.toUpperCase()),Y in e.image_compression?Y:x.NONE}(I),V)),!H)throw new Error("An unknown error occurred whilst processing the image.");return H},D=e.__addimage__.convertBase64ToBinaryString=function(k,T){T=typeof T!="boolean"||T;var $,I="";if(typeof k=="string"){var H;$=(H=_(k))!==null&&H!==void 0?H:k;try{I=Lu($)}catch(V){if(T)throw N($)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+V.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return I};e.getImageProperties=function(k){var T,$,I="";if(f(k)&&(k=p(k)),typeof k=="string"&&n(k)===t&&((I=D(k,!1))===""&&(I=e.loadFile(k)||""),k=I),$=n(k),!d($))throw new Error("addImage does not support files of type '"+$+"', please ensure that a plugin for '"+$+"' support is added.");if(!b()||k instanceof Uint8Array||(k=O(k)),!(T=this["process"+$.toUpperCase()](k)))throw new Error("An unknown error occurred whilst processing the image");return T.fileType=$,T}})(tt.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};tt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,i,o=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,d=!1,f=0;f<u.length&&!d;f++)switch((n=u[f]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var p=0;p<u.length;p++){n=u[p];var h=this.internal.pdfEscape,v=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),y=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(g.objId),w=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+o(n.bounds.x)+" "+s(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+s(n.bounds.y)+"] ")+"/Contents ("+h(x(n.contents))+")",i+=" /Popup "+y.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+h(x(w))+") >>",g.content=i;var N=g.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+o(n.bounds.x+30)+" "+s(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+s(n.bounds.y)+"] ")+" /Parent "+N,n.open&&(i+=" /Open true"),i+=" >>",y.content=i,this.internal.write(g.objId,"0 R",y.objId,"0 R");break;case"freetext":a="/Rect ["+o(n.bounds.x)+" "+s(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+s(n.bounds.y+n.bounds.h)+"] ";var _=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+h(v(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+_+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var b=this.annotations._nameMap[n.options.name];n.options.pageNumber=b.page,n.options.top=b.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+h(v(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var A=s(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+A+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,i,o){var s=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;s.pageContext.annotations.push({finalBounds:{x:c(r),y:u(n),w:c(r+a),h:u(n+i)},options:o,type:"link"})},e.textWithLink=function(r,n,a,i){var o,s,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){s=i.maxWidth;var d=this.splitTextToSize(r,s).length;o=Math.ceil(u*d)}else s=c,o=u;return this.text(r,n,a,i),a+=.2*u,i.align==="center"&&(n-=c/2),i.align==="right"&&(n-=c),this.link(n,a-u,s,o,i),c},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(tt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(g){return t[g.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},s=e.__arabicParser__.isArabicEndLetter=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(g){return o(g)&&a.indexOf(g.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(g){var y=0,x=r,w="",N=0;for(y=0;y<g.length;y+=1)x[g.charCodeAt(y)]!==void 0?(N++,typeof(x=x[g.charCodeAt(y)])=="number"&&(w+=String.fromCharCode(x),x=r,N=0),y===g.length-1&&(x=r,w+=g.charAt(y-(N-1)),y-=N-1,N=0)):(x=r,w+=g.charAt(y-N),y-=N,N=0);return w};e.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&n[g.charCodeAt(0)]!==void 0};var p=e.__arabicParser__.getCorrectForm=function(g,y,x){return o(g)?i(g)===!1?-1:!u(g)||!o(y)&&!o(x)||!o(x)&&s(y)||s(g)&&!o(y)||s(g)&&c(y)||s(g)&&s(y)?0:d(g)&&o(y)&&!s(y)&&o(x)&&u(x)?3:s(g)||!o(x)?1:2:-1},h=function(g){var y=0,x=0,w=0,N="",_="",b="",A=(g=g||"").split("\\s+"),O=[];for(y=0;y<A.length;y+=1){for(O.push(""),x=0;x<A[y].length;x+=1)N=A[y][x],_=A[y][x-1],b=A[y][x+1],o(N)?(w=p(N,_,b),O[y]+=w!==-1?String.fromCharCode(t[N.charCodeAt(0)][w]):N):O[y]+=N;O[y]=f(O[y])}return O.join(" ")},v=e.__arabicParser__.processArabic=e.processArabic=function(){var g,y=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(y)){var w=0;for(x=[],w=0;w<y.length;w+=1)Array.isArray(y[w])?x.push([h(y[w][0]),y[w][1],y[w][2]]):x.push([h(y[w])]);g=x}else g=h(y);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};e.events.push(["preProcessText",v])}(tt.API),tt.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(s){r=s}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(s){n=isNaN(s)||Number.isInteger(s)===!1||s<0?150:s,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(s){a=isNaN(s)||Number.isInteger(s)===!1||s<0?300:s,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(s){i=s}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(s){o=s}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(tt.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(g){p=g}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(g){v=g}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,u){n.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),p=u.scaleFactor||this.internal.scaleFactor,h=0,v=0,g=0,y=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var x=u.maxWidth;x>0?typeof c=="string"?c=this.splitTextToSize(c,x):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(N,_){return N.concat(y.splitTextToSize(_,x))},[])):c=Array.isArray(c)?c:[c];for(var w=0;w<c.length;w++)h<(g=this.getStringUnitWidth(c[w],{font:f})*d)&&(h=g);return h!==0&&(v=c.length),{w:h/=p,h:Math.max((v*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/p,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,p=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=f.top,h&&p&&(this.printHeaderRow(c.lineNumber,!0),c.y+=p[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};e.table=function(c,u,d,f,p){if(n.call(this),!d)throw new Error("No data for PDF table.");var h,v,g,y,x=[],w=[],N=[],_={},b={},A=[],O=[],E=(p=p||{}).autoSize||!1,C=p.printHeaders!==!1,D=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,k=p.margins||Object.assign({width:this.getPageWidth()},t),T=typeof p.padding=="number"?p.padding:3,$=p.headerBackgroundColor||"#c8c8c8",I=p.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=C,this.internal.__cell__.margins=k,this.internal.__cell__.table_font_size=D,this.internal.__cell__.padding=T,this.internal.__cell__.headerBackgroundColor=$,this.internal.__cell__.headerTextColor=I,this.setFontSize(D),f==null)w=x=Object.keys(d[0]),N=x.map(function(){return"left"});else if(Array.isArray(f)&&xt(f[0])==="object")for(x=f.map(function(G){return G.name}),w=f.map(function(G){return G.prompt||G.name||""}),N=f.map(function(G){return G.align||"left"}),h=0;h<f.length;h+=1)b[f[h].name]=f[h].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(w=x=f,N=x.map(function(){return"left"}));if(E||Array.isArray(f)&&typeof f[0]=="string")for(h=0;h<x.length;h+=1){for(_[y=x[h]]=d.map(function(G){return G[y]}),this.setFont(void 0,"bold"),A.push(this.getTextDimensions(w[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=_[y],this.setFont(void 0,"normal"),g=0;g<v.length;g+=1)A.push(this.getTextDimensions(v[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);b[y]=Math.max.apply(null,A)+T+T,A=[]}if(C){var H={};for(h=0;h<x.length;h+=1)H[x[h]]={},H[x[h]].text=w[h],H[x[h]].align=N[h];var V=s.call(this,H,b);O=x.map(function(G){return new i(c,u,b[G],V,H[G].text,void 0,H[G].align)}),this.setTableHeaderRow(O),this.printHeaderRow(1,!1)}var X=f.reduce(function(G,ae){return G[ae.name]=ae.align,G},{});for(h=0;h<d.length;h+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:h,data:d[h]},this);var Q=s.call(this,d[h],b);for(g=0;g<x.length;g+=1){var Y=d[h][x[g]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:h,col:g,data:Y},this),o.call(this,new i(c,u,b[x[g]],Q,Y,h+2,X[x[g]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var s=function(c,u){var d=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(c).map(function(h){var v=c[h];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,u[h]-d-d)},this).map(function(h){return this.getLineHeightFactor()*h.length*f/p+d+d},this).reduce(function(h,v){return Math.max(h,v)},0)};e.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){d=this.internal.__cell__.tableHeaderRow[h].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,p.push(d)),d.lineNumber=c;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,d),this.setTextColor(v)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),r=!1}}(tt.API);var bS={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},xS=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Xv=yS(xS),wS=[100,200,300,400,500,600,700,800,900],lE=yS(wS);function Jv(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return bS[i=i||"normal"]?i:"normal"}(e.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(e.weight),a=function(i){return typeof Xv[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function x1(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var cE={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},w1={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function j1(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function uE(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},cE,r.genericFontFamilies||{}),i=null,o=null,s=0;s<t.length;++s)if(a[(i=Jv(t[s])).family]&&(i.family=a[i.family]),e.hasOwnProperty(i.family)){o=e[i.family];break}if(!(o=o||e[n]))throw new Error("Could not find a font-family for the rule '"+j1(i)+"' and default family '"+n+"'.");if(o=function(c,u){if(u[c])return u[c];var d=Xv[c],f=d<=Xv.normal?-1:1,p=x1(u,xS,d,f);if(!p)throw new Error("Could not find a matching font-stretch value for "+c);return p}(i.stretch,o),o=function(c,u){if(u[c])return u[c];for(var d=bS[c],f=0;f<d.length;++f)if(u[d[f]])return u[d[f]];throw new Error("Could not find a matching font-style for "+c)}(i.style,o),!(o=function(c,u){if(u[c])return u[c];if(c===400&&u[500])return u[500];if(c===500&&u[400])return u[400];var d=lE[c],f=x1(u,wS,d,c<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+c);return f}(i.weight,o)))throw new Error("Failed to resolve a font for the rule '"+j1(i)+"'.");return o}function N1(e){return e.trimLeft()}function dE(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function fE(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Kf,S1,_1,Jg=["times"];(function(e){var t,r,n,a,i,o,s,c,u,d=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new c,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new o,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new o,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,s=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var f=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var z=M;Object.defineProperty(this,"pdf",{get:function(){return z}});var Z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Z},set:function(ye){Z=!!ye}});var te=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return te},set:function(ye){te=!!ye}});var ie=0;Object.defineProperty(this,"posX",{get:function(){return ie},set:function(ye){isNaN(ye)||(ie=ye)}});var fe=0;Object.defineProperty(this,"posY",{get:function(){return fe},set:function(ye){isNaN(ye)||(fe=ye)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(ye){var ne;typeof ye=="number"?ne=[ye,ye,ye,ye]:((ne=new Array(4))[0]=ye[0],ne[1]=ye.length>=2?ye[1]:ne[0],ne[2]=ye.length>=3?ye[2]:ne[0],ne[3]=ye.length>=4?ye[3]:ne[1]),u.margin=ne}});var de=!1;Object.defineProperty(this,"autoPaging",{get:function(){return de},set:function(ye){de=ye}});var oe=0;Object.defineProperty(this,"lastBreak",{get:function(){return oe},set:function(ye){oe=ye}});var xe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return xe},set:function(ye){xe=ye}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(ye){ye instanceof d&&(u=ye)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(ye){u.path=ye}});var be=[];Object.defineProperty(this,"ctxStack",{get:function(){return be},set:function(ye){be=ye}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ye){var ne;ne=p(ye),this.ctx.fillStyle=ne.style,this.ctx.isFillTransparent=ne.a===0,this.ctx.fillOpacity=ne.a,this.pdf.setFillColor(ne.r,ne.g,ne.b,{a:ne.a}),this.pdf.setTextColor(ne.r,ne.g,ne.b,{a:ne.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ye){var ne=p(ye);this.ctx.strokeStyle=ne.style,this.ctx.isStrokeTransparent=ne.a===0,this.ctx.strokeOpacity=ne.a,ne.a===0?this.pdf.setDrawColor(255,255,255):(ne.a,this.pdf.setDrawColor(ne.r,ne.g,ne.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ye){["butt","round","square"].indexOf(ye)!==-1&&(this.ctx.lineCap=ye,this.pdf.setLineCap(ye))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ye){isNaN(ye)||(this.ctx.lineWidth=ye,this.pdf.setLineWidth(ye))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ye){["bevel","round","miter"].indexOf(ye)!==-1&&(this.ctx.lineJoin=ye,this.pdf.setLineJoin(ye))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ye){isNaN(ye)||(this.ctx.miterLimit=ye,this.pdf.setMiterLimit(ye))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ye){this.ctx.textBaseline=ye}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ye){["right","end","center","left","start"].indexOf(ye)!==-1&&(this.ctx.textAlign=ye)}});var pe=null;function Ee(ye,ne){if(pe===null){var Ye=function(Be){var ke=[];return Object.keys(Be).forEach(function(Ce){Be[Ce].forEach(function(De){var Me=null;switch(De){case"bold":Me={family:Ce,weight:"bold"};break;case"italic":Me={family:Ce,style:"italic"};break;case"bolditalic":Me={family:Ce,weight:"bold",style:"italic"};break;case"":case"normal":Me={family:Ce}}Me!==null&&(Me.ref={name:Ce,style:De},ke.push(Me))})}),ke}(ye.getFontList());pe=function(Be){for(var ke={},Ce=0;Ce<Be.length;++Ce){var De=Jv(Be[Ce]),Me=De.family,Ve=De.stretch,Ze=De.style,it=De.weight;ke[Me]=ke[Me]||{},ke[Me][Ve]=ke[Me][Ve]||{},ke[Me][Ve][Ze]=ke[Me][Ve][Ze]||{},ke[Me][Ve][Ze][it]=De}return ke}(Ye.concat(ne))}return pe}var $e=null;Object.defineProperty(this,"fontFaces",{get:function(){return $e},set:function(ye){pe=null,$e=ye}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ye){var ne;if(this.ctx.font=ye,(ne=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ye))!==null){var Ye=ne[1];ne[2];var Be=ne[3],ke=ne[4];ne[5];var Ce=ne[6],De=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ke)[2];ke=Math.floor(De==="px"?parseFloat(ke)*this.pdf.internal.scaleFactor:De==="em"?parseFloat(ke)*this.pdf.getFontSize():parseFloat(ke)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ke);var Me=function(ot){var vt,Fe,Ur=[],_t=ot.trim();if(_t==="")return Jg;if(_t in w1)return[w1[_t]];for(;_t!=="";){switch(Fe=null,vt=(_t=N1(_t)).charAt(0)){case'"':case"'":Fe=dE(_t.substring(1),vt);break;default:Fe=fE(_t)}if(Fe===null||(Ur.push(Fe[0]),(_t=N1(Fe[1]))!==""&&_t.charAt(0)!==","))return Jg;_t=_t.replace(/^,/,"")}return Ur}(Ce);if(this.fontFaces){var Ve=uE(Ee(this.pdf,this.fontFaces),Me.map(function(ot){return{family:ot,stretch:"normal",weight:Be,style:Ye}}));this.pdf.setFont(Ve.ref.name,Ve.ref.style)}else{var Ze="";(Be==="bold"||parseInt(Be,10)>=700||Ye==="bold")&&(Ze="bold"),Ye==="italic"&&(Ze+="italic"),Ze.length===0&&(Ze="normal");for(var it="",pt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},yt=0;yt<Me.length;yt++){if(this.pdf.internal.getFont(Me[yt],Ze,{noFallback:!0,disableWarning:!0})!==void 0){it=Me[yt];break}if(Ze==="bolditalic"&&this.pdf.internal.getFont(Me[yt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)it=Me[yt],Ze="bold";else if(this.pdf.internal.getFont(Me[yt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){it=Me[yt],Ze="normal";break}}if(it===""){for(var Ot=0;Ot<Me.length;Ot++)if(pt[Me[Ot]]){it=pt[Me[Ot]];break}}it=it===""?"Times":it,this.pdf.setFont(it,Ze)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ye){this.ctx.globalCompositeOperation=ye}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ye){this.ctx.globalAlpha=ye}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ye){this.ctx.lineDashOffset=ye,ae.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ye){this.ctx.lineDash=ye,ae.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ye){this.ctx.ignoreClearRect=!!ye}})};f.prototype.setLineDash=function(M){this.lineDash=M},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){_.call(this,"fill",!1)},f.prototype.stroke=function(){_.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(M,z){if(isNaN(M)||isNaN(z))throw Ft.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Z=this.ctx.transform.applyToPoint(new o(M,z));this.path.push({type:"mt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new o(M,z)},f.prototype.closePath=function(){var M=new o(0,0),z=0;for(z=this.path.length-1;z!==-1;z--)if(this.path[z].type==="begin"&&xt(this.path[z+1])==="object"&&typeof this.path[z+1].x=="number"){M=new o(this.path[z+1].x,this.path[z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(M.x,M.y)},f.prototype.lineTo=function(M,z){if(isNaN(M)||isNaN(z))throw Ft.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Z=this.ctx.transform.applyToPoint(new o(M,z));this.path.push({type:"lt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new o(Z.x,Z.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),_.call(this,null,!0)},f.prototype.quadraticCurveTo=function(M,z,Z,te){if(isNaN(Z)||isNaN(te)||isNaN(M)||isNaN(z))throw Ft.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ie=this.ctx.transform.applyToPoint(new o(Z,te)),fe=this.ctx.transform.applyToPoint(new o(M,z));this.path.push({type:"qct",x1:fe.x,y1:fe.y,x:ie.x,y:ie.y}),this.ctx.lastPoint=new o(ie.x,ie.y)},f.prototype.bezierCurveTo=function(M,z,Z,te,ie,fe){if(isNaN(ie)||isNaN(fe)||isNaN(M)||isNaN(z)||isNaN(Z)||isNaN(te))throw Ft.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var de=this.ctx.transform.applyToPoint(new o(ie,fe)),oe=this.ctx.transform.applyToPoint(new o(M,z)),xe=this.ctx.transform.applyToPoint(new o(Z,te));this.path.push({type:"bct",x1:oe.x,y1:oe.y,x2:xe.x,y2:xe.y,x:de.x,y:de.y}),this.ctx.lastPoint=new o(de.x,de.y)},f.prototype.arc=function(M,z,Z,te,ie,fe){if(isNaN(M)||isNaN(z)||isNaN(Z)||isNaN(te)||isNaN(ie))throw Ft.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(fe=!!fe,!this.ctx.transform.isIdentity){var de=this.ctx.transform.applyToPoint(new o(M,z));M=de.x,z=de.y;var oe=this.ctx.transform.applyToPoint(new o(0,Z)),xe=this.ctx.transform.applyToPoint(new o(0,0));Z=Math.sqrt(Math.pow(oe.x-xe.x,2)+Math.pow(oe.y-xe.y,2))}Math.abs(ie-te)>=2*Math.PI&&(te=0,ie=2*Math.PI),this.path.push({type:"arc",x:M,y:z,radius:Z,startAngle:te,endAngle:ie,counterclockwise:fe})},f.prototype.arcTo=function(M,z,Z,te,ie){throw new Error("arcTo not implemented.")},f.prototype.rect=function(M,z,Z,te){if(isNaN(M)||isNaN(z)||isNaN(Z)||isNaN(te))throw Ft.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,z),this.lineTo(M+Z,z),this.lineTo(M+Z,z+te),this.lineTo(M,z+te),this.lineTo(M,z),this.lineTo(M+Z,z),this.lineTo(M,z)},f.prototype.fillRect=function(M,z,Z,te){if(isNaN(M)||isNaN(z)||isNaN(Z)||isNaN(te))throw Ft.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var ie={};this.lineCap!=="butt"&&(ie.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ie.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,z,Z,te),this.fill(),ie.hasOwnProperty("lineCap")&&(this.lineCap=ie.lineCap),ie.hasOwnProperty("lineJoin")&&(this.lineJoin=ie.lineJoin)}},f.prototype.strokeRect=function(M,z,Z,te){if(isNaN(M)||isNaN(z)||isNaN(Z)||isNaN(te))throw Ft.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(M,z,Z,te),this.stroke())},f.prototype.clearRect=function(M,z,Z,te){if(isNaN(M)||isNaN(z)||isNaN(Z)||isNaN(te))throw Ft.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,z,Z,te))},f.prototype.save=function(M){M=typeof M!="boolean"||M;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("q");if(this.pdf.setPage(z),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var te=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=te}},f.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("Q");this.pdf.setPage(z),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(M){var z,Z,te,ie;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))z=0,Z=0,te=0,ie=0;else{var fe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(fe!==null)z=parseInt(fe[1]),Z=parseInt(fe[2]),te=parseInt(fe[3]),ie=1;else if((fe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)z=parseInt(fe[1]),Z=parseInt(fe[2]),te=parseInt(fe[3]),ie=parseFloat(fe[4]);else{if(ie=1,typeof M=="string"&&M.charAt(0)!=="#"){var de=new fS(M);M=de.ok?de.toHex():"#000000"}M.length===4?(z=M.substring(1,2),z+=z,Z=M.substring(2,3),Z+=Z,te=M.substring(3,4),te+=te):(z=M.substring(1,3),Z=M.substring(3,5),te=M.substring(5,7)),z=parseInt(z,16),Z=parseInt(Z,16),te=parseInt(te,16)}}return{r:z,g:Z,b:te,a:ie,style:M}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(M,z,Z,te){if(isNaN(z)||isNaN(Z)||typeof M!="string")throw Ft.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(te=isNaN(te)?void 0:te,!h.call(this)){var ie=Q(this.ctx.transform.rotation),fe=this.ctx.transform.scaleX;T.call(this,{text:M,x:z,y:Z,scale:fe,angle:ie,align:this.textAlign,maxWidth:te})}},f.prototype.strokeText=function(M,z,Z,te){if(isNaN(z)||isNaN(Z)||typeof M!="string")throw Ft.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){te=isNaN(te)?void 0:te;var ie=Q(this.ctx.transform.rotation),fe=this.ctx.transform.scaleX;T.call(this,{text:M,x:z,y:Z,scale:fe,renderingMode:"stroke",angle:ie,align:this.textAlign,maxWidth:te})}},f.prototype.measureText=function(M){if(typeof M!="string")throw Ft.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var z=this.pdf,Z=this.pdf.internal.scaleFactor,te=z.internal.getFontSize(),ie=z.getStringUnitWidth(M)*te/z.internal.scaleFactor,fe=function(de){var oe=(de=de||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return oe}}),this};return new fe({width:ie*=Math.round(96*Z/72*1e4)/1e4})},f.prototype.scale=function(M,z){if(isNaN(M)||isNaN(z))throw Ft.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Z=new c(M,0,0,z,0,0);this.ctx.transform=this.ctx.transform.multiply(Z)},f.prototype.rotate=function(M){if(isNaN(M))throw Ft.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var z=new c(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply(z)},f.prototype.translate=function(M,z){if(isNaN(M)||isNaN(z))throw Ft.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Z=new c(1,0,0,1,M,z);this.ctx.transform=this.ctx.transform.multiply(Z)},f.prototype.transform=function(M,z,Z,te,ie,fe){if(isNaN(M)||isNaN(z)||isNaN(Z)||isNaN(te)||isNaN(ie)||isNaN(fe))throw Ft.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var de=new c(M,z,Z,te,ie,fe);this.ctx.transform=this.ctx.transform.multiply(de)},f.prototype.setTransform=function(M,z,Z,te,ie,fe){M=isNaN(M)?1:M,z=isNaN(z)?0:z,Z=isNaN(Z)?0:Z,te=isNaN(te)?1:te,ie=isNaN(ie)?0:ie,fe=isNaN(fe)?0:fe,this.ctx.transform=new c(M,z,Z,te,ie,fe)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(M,z,Z,te,ie,fe,de,oe,xe){var be=this.pdf.getImageProperties(M),pe=1,Ee=1,$e=1,ye=1;te!==void 0&&oe!==void 0&&($e=oe/te,ye=xe/ie,pe=be.width/te*oe/te,Ee=be.height/ie*xe/ie),fe===void 0&&(fe=z,de=Z,z=0,Z=0),te!==void 0&&oe===void 0&&(oe=te,xe=ie),te===void 0&&oe===void 0&&(oe=be.width,xe=be.height);for(var ne,Ye=this.ctx.transform.decompose(),Be=Q(Ye.rotate.shx),ke=new c,Ce=(ke=(ke=(ke=ke.multiply(Ye.translate)).multiply(Ye.skew)).multiply(Ye.scale)).applyToRectangle(new s(fe-z*$e,de-Z*ye,te*pe,ie*Ee)),De=y.call(this,Ce),Me=[],Ve=0;Ve<De.length;Ve+=1)Me.indexOf(De[Ve])===-1&&Me.push(De[Ve]);if(N(Me),this.autoPaging)for(var Ze=Me[0],it=Me[Me.length-1],pt=Ze;pt<it+1;pt++){this.pdf.setPage(pt);var yt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ot=pt===1?this.posY+this.margin[0]:this.margin[0],ot=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],vt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Fe=pt===1?0:ot+(pt-2)*vt;if(this.ctx.clip_path.length!==0){var Ur=this.path;ne=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(ne,this.posX+this.margin[3],-Fe+Ot+this.ctx.prevPageLastElemOffset),b.call(this,"fill",!0),this.path=Ur}var _t=JSON.parse(JSON.stringify(Ce));_t=w([_t],this.posX+this.margin[3],-Fe+Ot+this.ctx.prevPageLastElemOffset)[0];var ua=(pt>Ze||pt<it)&&g.call(this);ua&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],yt,vt,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",_t.x,_t.y,_t.w,_t.h,null,null,Be),ua&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(M,"JPEG",Ce.x,Ce.y,Ce.w,Ce.h,null,null,Be)};var y=function(M,z,Z){var te=[];z=z||this.pdf.internal.pageSize.width,Z=Z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ie=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":te.push(Math.floor((M.y+ie)/Z)+1);break;case"arc":te.push(Math.floor((M.y+ie-M.radius)/Z)+1),te.push(Math.floor((M.y+ie+M.radius)/Z)+1);break;case"qct":var fe=Y(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);te.push(Math.floor((fe.y+ie)/Z)+1),te.push(Math.floor((fe.y+fe.h+ie)/Z)+1);break;case"bct":var de=G(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);te.push(Math.floor((de.y+ie)/Z)+1),te.push(Math.floor((de.y+de.h+ie)/Z)+1);break;case"rect":te.push(Math.floor((M.y+ie)/Z)+1),te.push(Math.floor((M.y+M.h+ie)/Z)+1)}for(var oe=0;oe<te.length;oe+=1)for(;this.pdf.internal.getNumberOfPages()<te[oe];)x.call(this);return te},x=function(){var M=this.fillStyle,z=this.strokeStyle,Z=this.font,te=this.lineCap,ie=this.lineWidth,fe=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=z,this.font=Z,this.lineCap=te,this.lineWidth=ie,this.lineJoin=fe},w=function(M,z,Z){for(var te=0;te<M.length;te++)switch(M[te].type){case"bct":M[te].x2+=z,M[te].y2+=Z;case"qct":M[te].x1+=z,M[te].y1+=Z;case"mt":case"lt":case"arc":default:M[te].x+=z,M[te].y+=Z}return M},N=function(M){return M.sort(function(z,Z){return z-Z})},_=function(M,z){for(var Z,te,ie=this.fillStyle,fe=this.strokeStyle,de=this.lineCap,oe=this.lineWidth,xe=Math.abs(oe*this.ctx.transform.scaleX),be=this.lineJoin,pe=JSON.parse(JSON.stringify(this.path)),Ee=JSON.parse(JSON.stringify(this.path)),$e=[],ye=0;ye<Ee.length;ye++)if(Ee[ye].x!==void 0)for(var ne=y.call(this,Ee[ye]),Ye=0;Ye<ne.length;Ye+=1)$e.indexOf(ne[Ye])===-1&&$e.push(ne[Ye]);for(var Be=0;Be<$e.length;Be++)for(;this.pdf.internal.getNumberOfPages()<$e[Be];)x.call(this);if(N($e),this.autoPaging)for(var ke=$e[0],Ce=$e[$e.length-1],De=ke;De<Ce+1;De++){this.pdf.setPage(De),this.fillStyle=ie,this.strokeStyle=fe,this.lineCap=de,this.lineWidth=xe,this.lineJoin=be;var Me=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ve=De===1?this.posY+this.margin[0]:this.margin[0],Ze=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],it=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],pt=De===1?0:Ze+(De-2)*it;if(this.ctx.clip_path.length!==0){var yt=this.path;Z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(Z,this.posX+this.margin[3],-pt+Ve+this.ctx.prevPageLastElemOffset),b.call(this,M,!0),this.path=yt}if(te=JSON.parse(JSON.stringify(pe)),this.path=w(te,this.posX+this.margin[3],-pt+Ve+this.ctx.prevPageLastElemOffset),z===!1||De===0){var Ot=(De>ke||De<Ce)&&g.call(this);Ot&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Me,it,null).clip().discardPath()),b.call(this,M,z),Ot&&this.pdf.restoreGraphicsState()}this.lineWidth=oe}else this.lineWidth=xe,b.call(this,M,z),this.lineWidth=oe;this.path=pe},b=function(M,z){if((M!=="stroke"||z||!v.call(this))&&(M==="stroke"||z||!h.call(this))){for(var Z,te,ie=[],fe=this.path,de=0;de<fe.length;de++){var oe=fe[de];switch(oe.type){case"begin":ie.push({begin:!0});break;case"close":ie.push({close:!0});break;case"mt":ie.push({start:oe,deltas:[],abs:[]});break;case"lt":var xe=ie.length;if(fe[de-1]&&!isNaN(fe[de-1].x)&&(Z=[oe.x-fe[de-1].x,oe.y-fe[de-1].y],xe>0)){for(;xe>=0;xe--)if(ie[xe-1].close!==!0&&ie[xe-1].begin!==!0){ie[xe-1].deltas.push(Z),ie[xe-1].abs.push(oe);break}}break;case"bct":Z=[oe.x1-fe[de-1].x,oe.y1-fe[de-1].y,oe.x2-fe[de-1].x,oe.y2-fe[de-1].y,oe.x-fe[de-1].x,oe.y-fe[de-1].y],ie[ie.length-1].deltas.push(Z);break;case"qct":var be=fe[de-1].x+2/3*(oe.x1-fe[de-1].x),pe=fe[de-1].y+2/3*(oe.y1-fe[de-1].y),Ee=oe.x+2/3*(oe.x1-oe.x),$e=oe.y+2/3*(oe.y1-oe.y),ye=oe.x,ne=oe.y;Z=[be-fe[de-1].x,pe-fe[de-1].y,Ee-fe[de-1].x,$e-fe[de-1].y,ye-fe[de-1].x,ne-fe[de-1].y],ie[ie.length-1].deltas.push(Z);break;case"arc":ie.push({deltas:[],abs:[],arc:!0}),Array.isArray(ie[ie.length-1].abs)&&ie[ie.length-1].abs.push(oe)}}te=z?null:M==="stroke"?"stroke":"fill";for(var Ye=!1,Be=0;Be<ie.length;Be++)if(ie[Be].arc)for(var ke=ie[Be].abs,Ce=0;Ce<ke.length;Ce++){var De=ke[Ce];De.type==="arc"?E.call(this,De.x,De.y,De.radius,De.startAngle,De.endAngle,De.counterclockwise,void 0,z,!Ye):$.call(this,De.x,De.y),Ye=!0}else if(ie[Be].close===!0)this.pdf.internal.out("h"),Ye=!1;else if(ie[Be].begin!==!0){var Me=ie[Be].start.x,Ve=ie[Be].start.y;I.call(this,ie[Be].deltas,Me,Ve),Ye=!0}te&&C.call(this,te),z&&D.call(this)}},A=function(M){var z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Z=z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-Z;case"top":return M+z-Z;case"hanging":return M+z-2*Z;case"middle":return M+z/2-Z;case"ideographic":return M;case"alphabetic":default:return M}},O=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function(z,Z){this.colorStops.push([z,Z])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var E=function(M,z,Z,te,ie,fe,de,oe,xe){for(var be=V.call(this,Z,te,ie,fe),pe=0;pe<be.length;pe++){var Ee=be[pe];pe===0&&(xe?k.call(this,Ee.x1+M,Ee.y1+z):$.call(this,Ee.x1+M,Ee.y1+z)),H.call(this,M,z,Ee.x2,Ee.y2,Ee.x3,Ee.y3,Ee.x4,Ee.y4)}oe?D.call(this):C.call(this,de)},C=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},D=function(){this.pdf.clip(),this.pdf.discardPath()},k=function(M,z){this.pdf.internal.out(r(M)+" "+n(z)+" m")},T=function(M){var z;switch(M.align){case"right":case"end":z="right";break;case"center":z="center";break;case"left":case"start":default:z="left"}var Z=this.pdf.getTextDimensions(M.text),te=A.call(this,M.y),ie=O.call(this,te)-Z.h,fe=this.ctx.transform.applyToPoint(new o(M.x,te)),de=this.ctx.transform.decompose(),oe=new c;oe=(oe=(oe=oe.multiply(de.translate)).multiply(de.skew)).multiply(de.scale);for(var xe,be,pe,Ee=this.ctx.transform.applyToRectangle(new s(M.x,te,Z.w,Z.h)),$e=oe.applyToRectangle(new s(M.x,ie,Z.w,Z.h)),ye=y.call(this,$e),ne=[],Ye=0;Ye<ye.length;Ye+=1)ne.indexOf(ye[Ye])===-1&&ne.push(ye[Ye]);if(N(ne),this.autoPaging)for(var Be=ne[0],ke=ne[ne.length-1],Ce=Be;Ce<ke+1;Ce++){this.pdf.setPage(Ce);var De=Ce===1?this.posY+this.margin[0]:this.margin[0],Me=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ve=this.pdf.internal.pageSize.height-this.margin[2],Ze=Ve-this.margin[0],it=this.pdf.internal.pageSize.width-this.margin[1],pt=it-this.margin[3],yt=Ce===1?0:Me+(Ce-2)*Ze;if(this.ctx.clip_path.length!==0){var Ot=this.path;xe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(xe,this.posX+this.margin[3],-1*yt+De),b.call(this,"fill",!0),this.path=Ot}var ot=w([JSON.parse(JSON.stringify($e))],this.posX+this.margin[3],-yt+De+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(be=this.pdf.internal.getFontSize(),this.pdf.setFontSize(be*M.scale),pe=this.lineWidth,this.lineWidth=pe*M.scale);var vt=this.autoPaging!=="text";if(vt||ot.y+ot.h<=Ve){if(vt||ot.y>=De&&ot.x<=it){var Fe=vt?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||it-ot.x)[0],Ur=w([JSON.parse(JSON.stringify(Ee))],this.posX+this.margin[3],-yt+De+this.ctx.prevPageLastElemOffset)[0],_t=vt&&(Ce>Be||Ce<ke)&&g.call(this);_t&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],pt,Ze,null).clip().discardPath()),this.pdf.text(Fe,Ur.x,Ur.y,{angle:M.angle,align:z,renderingMode:M.renderingMode}),_t&&this.pdf.restoreGraphicsState()}}else ot.y<Ve&&(this.ctx.prevPageLastElemOffset+=Ve-ot.y);M.scale>=.01&&(this.pdf.setFontSize(be),this.lineWidth=pe)}else M.scale>=.01&&(be=this.pdf.internal.getFontSize(),this.pdf.setFontSize(be*M.scale),pe=this.lineWidth,this.lineWidth=pe*M.scale),this.pdf.text(M.text,fe.x+this.posX,fe.y+this.posY,{angle:M.angle,align:z,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(be),this.lineWidth=pe)},$=function(M,z,Z,te){Z=Z||0,te=te||0,this.pdf.internal.out(r(M+Z)+" "+n(z+te)+" l")},I=function(M,z,Z){return this.pdf.lines(M,z,Z,null,null)},H=function(M,z,Z,te,ie,fe,de,oe){this.pdf.internal.out([t(a(Z+M)),t(i(te+z)),t(a(ie+M)),t(i(fe+z)),t(a(de+M)),t(i(oe+z)),"c"].join(" "))},V=function(M,z,Z,te){for(var ie=2*Math.PI,fe=Math.PI/2;z>Z;)z-=ie;var de=Math.abs(Z-z);de<ie&&te&&(de=ie-de);for(var oe=[],xe=te?-1:1,be=z;de>1e-5;){var pe=be+xe*Math.min(de,fe);oe.push(X.call(this,M,be,pe)),de-=Math.abs(pe-be),be=pe}return oe},X=function(M,z,Z){var te=(Z-z)/2,ie=M*Math.cos(te),fe=M*Math.sin(te),de=ie,oe=-fe,xe=de*de+oe*oe,be=xe+de*ie+oe*fe,pe=4/3*(Math.sqrt(2*xe*be)-be)/(de*fe-oe*ie),Ee=de-pe*oe,$e=oe+pe*de,ye=Ee,ne=-$e,Ye=te+z,Be=Math.cos(Ye),ke=Math.sin(Ye);return{x1:M*Math.cos(z),y1:M*Math.sin(z),x2:Ee*Be-$e*ke,y2:Ee*ke+$e*Be,x3:ye*Be-ne*ke,y3:ye*ke+ne*Be,x4:M*Math.cos(Z),y4:M*Math.sin(Z)}},Q=function(M){return 180*M/Math.PI},Y=function(M,z,Z,te,ie,fe){var de=M+.5*(Z-M),oe=z+.5*(te-z),xe=ie+.5*(Z-ie),be=fe+.5*(te-fe),pe=Math.min(M,ie,de,xe),Ee=Math.max(M,ie,de,xe),$e=Math.min(z,fe,oe,be),ye=Math.max(z,fe,oe,be);return new s(pe,$e,Ee-pe,ye-$e)},G=function(M,z,Z,te,ie,fe,de,oe){var xe,be,pe,Ee,$e,ye,ne,Ye,Be,ke,Ce,De,Me,Ve,Ze=Z-M,it=te-z,pt=ie-Z,yt=fe-te,Ot=de-ie,ot=oe-fe;for(be=0;be<41;be++)Be=(ne=(pe=M+(xe=be/40)*Ze)+xe*(($e=Z+xe*pt)-pe))+xe*($e+xe*(ie+xe*Ot-$e)-ne),ke=(Ye=(Ee=z+xe*it)+xe*((ye=te+xe*yt)-Ee))+xe*(ye+xe*(fe+xe*ot-ye)-Ye),be==0?(Ce=Be,De=ke,Me=Be,Ve=ke):(Ce=Math.min(Ce,Be),De=Math.min(De,ke),Me=Math.max(Me,Be),Ve=Math.max(Ve,ke));return new s(Math.round(Ce),Math.round(De),Math.round(Me-Ce),Math.round(Ve-De))},ae=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,z,Z=(M=this.ctx.lineDash,z=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:z}));this.prevLineDash!==Z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Z)}}})(tt.API),function(e){var t=function(i){var o,s,c,u,d,f,p,h,v,g;for(s=[],c=0,u=(i+=o="\0\0\0\0".slice(i.length%4||4)).length;u>c;c+=4)(d=(i.charCodeAt(c)<<24)+(i.charCodeAt(c+1)<<16)+(i.charCodeAt(c+2)<<8)+i.charCodeAt(c+3))!==0?(f=(d=((d=((d=((d=(d-(g=d%85))/85)-(v=d%85))/85)-(h=d%85))/85)-(p=d%85))/85)%85,s.push(f+33,p+33,h+33,v+33,g+33)):s.push(122);return function(y,x){for(var w=x;w>0;w--)y.pop()}(s,o.length),String.fromCharCode.apply(String,s)+"~>"},r=function(i){var o,s,c,u,d,f=String,p="length",h=255,v="charCodeAt",g="slice",y="replace";for(i[g](-2),i=i[g](0,-2)[y](/\s/g,"")[y]("z","!!!!!"),c=[],u=0,d=(i+=o="uuuuu"[g](i[p]%5||5))[p];d>u;u+=5)s=52200625*(i[v](u)-33)+614125*(i[v](u+1)-33)+7225*(i[v](u+2)-33)+85*(i[v](u+3)-33)+(i[v](u+4)-33),c.push(h&s>>24,h&s>>16,h&s>>8,h&s);return function(x,w){for(var N=w;N>0;N--)x.pop()}(c,o[p]),f.fromCharCode.apply(f,c)},n=function(i){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),o.test(i)===!1)return"";for(var s="",c=0;c<i.length;c+=2)s+=String.fromCharCode("0x"+(i[c]+i[c+1]));return s},a=function(i){for(var o=new Uint8Array(i.length),s=i.length;s--;)o[s]=i.charCodeAt(s);return i=(o=Gv(o)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};e.processDataByFilters=function(i,o){var s=0,c=i||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),s=0;s<o.length;s+=1)switch(o[s]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=a(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[s]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(tt.API),function(e){e.loadFile=function(t,r,n){return function(a,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var s=void 0;try{s=function(c,u,d){var f=new XMLHttpRequest,p=0,h=function(v){var g=v.length,y=[],x=String.fromCharCode;for(p=0;p<g;p+=1)y.push(x(255&v.charCodeAt(p)));return y.join("")};if(f.open("GET",c,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?d(h(this.responseText)):d(void 0)}),f.send(null),u&&f.status===200)return h(f.responseText)}(a,i,o)}catch{}return s}(t,r,n)},e.loadImageFile=e.loadFile}(tt.API),function(e){function t(){return(rt.html2canvas?Promise.resolve(rt.html2canvas):Rv(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(rt.DOMPurify?Promise.resolve(rt.DOMPurify):Rv(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var s=xt(o);return s==="undefined"?"undefined":s==="string"||o instanceof String?"string":s==="number"||o instanceof Number?"number":s==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":s==="object"?"object":"unknown"},a=function(o,s){var c=document.createElement(o);for(var u in s.className&&(c.className=s.className),s.innerHTML&&s.dompurify&&(c.innerHTML=s.dompurify.sanitize(s.innerHTML)),s.style)c.style[u]=s.style[u];return c},i=function o(s){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),c);return u=(u=u.setProgress(1,o,1,[o])).set(s)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(o,s){return o.__proto__=s||i.prototype,o},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(o,s){return this.then(function(){switch(s=s||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(r).then(function(c){return this.set({src:a("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},i.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},s=function c(u,d){for(var f=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),p=u.firstChild;p;p=p.nextSibling)d!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||f.appendChild(c(p,d));return u.nodeType===1&&(u.nodeName==="CANVAS"?(f.width=u.width,f.height=u.height,f.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(f.value=u.value),f.addEventListener("load",function(){f.scrollTop=u.scrollTop,f.scrollLeft=u.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);s.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(s),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(s){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,s(this.prop.container,c)}).then(function(s){(this.opt.html2canvas.onrendered||function(){})(s),this.prop.canvas=s,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(s){var c=this.opt.jsPDF,u=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var p=0;p<u.length;++p){var h=u[p],v=h.src.find(function(g){return g.format==="truetype"});v&&c.addFont(v.url,h.ref.name,h.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,c.context2d.save(!0),s(this.prop.container,f)}).then(function(s){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(s),this.prop.canvas=s,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(o,s,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,s):this.outputPdf(o,s)},i.prototype.outputPdf=function(o,s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,s)})},i.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},i.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(o){if(n(o)!=="object")return this;var s=Object.keys(o||{}).map(function(c){if(c in i.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(s)})},i.prototype.get=function(o,s){return this.then(function(){var c=o in i.template.prop?this.prop[o]:this.opt[o];return s?s(c):c})},i.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},i.prototype.setPageSize=function(o){function s(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(o=o||tt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:s(o.inner.width,o.k),height:s(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},i.prototype.setProgress=function(o,s,c,u){return o!=null&&(this.progress.val=o),s!=null&&(this.progress.state=s),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(o,s,c,u){return this.setProgress(o?this.progress.val+o:null,s||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},i.prototype.then=function(o,s){var c=this;return this.thenCore(o,s,function(u,d){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(f){return c.updateProgress(null,u),f}).then(u,d).then(function(f){return c.updateProgress(1),f})})},i.prototype.thenCore=function(o,s,c){c=c||Promise.prototype.then,o&&(o=o.bind(this)),s&&(s=s.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),d=c.call(u,o,s);return i.convert(d,this.__proto__)},i.prototype.thenExternal=function(o,s){return Promise.prototype.then.call(this,o,s)},i.prototype.thenList=function(o){var s=this;return o.forEach(function(c){s=s.thenCore(c)}),s},i.prototype.catch=function(o){o&&(o=o.bind(this));var s=Promise.prototype.catch.call(this,o);return i.convert(s,this)},i.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},i.prototype.error=function(o){return this.then(function(){throw new Error(o)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,tt.getPageSize=function(o,s,c){if(xt(o)==="object"){var u=o;o=u.orientation,s=u.unit||s,c=u.format||c}s=s||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var d,f=(""+c).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(s){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+s}var h,v=0,g=0;if(p.hasOwnProperty(f))v=p[f][1]/d,g=p[f][0]/d;else try{v=c[1],g=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",g>v&&(h=g,g=v,v=h);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",v>g&&(h=g,g=v,v=h)}return{width:g,height:v,unit:s,k:d,orientation:o}},e.html=function(o,s){(s=s||{}).callback=s.callback||function(){},s.html2canvas=s.html2canvas||{},s.html2canvas.canvas=s.html2canvas.canvas||this.canvas,s.jsPDF=s.jsPDF||this,s.fontFaces=s.fontFaces?s.fontFaces.map(Jv):null;var c=new i(s);return s.worker?c:c.from(o).doCallback()}}(tt.API),tt.API.addJS=function(e){return _1=e,this.internal.events.subscribe("postPutResources",function(){Kf=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Kf+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),S1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+_1+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Kf!==void 0&&S1!==void 0&&this.internal.out("/Names <</JavaScript "+Kf+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var o=a[i],s=n.exec(o);if(s!=null){var c=s[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(i=0;i<u;i++){var f=r.internal.newObject();d.push(f);var p=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var h=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<d.length;i++)r.internal.write("(page_"+(i+1)+")"+d[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+h+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var o={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var o=n.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var s=this.count=this.count_r({count:0},o);if(s>0&&this.line("/Count "+s),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])}(tt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,i,o,s){var c,u=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(c=function(f){for(var p,h=256*f.charCodeAt(4)+f.charCodeAt(5),v=f.length,g={width:0,height:0,numcomponents:1},y=4;y<v;y+=2){if(y+=h,t.indexOf(f.charCodeAt(y+1))!==-1){p=256*f.charCodeAt(y+5)+f.charCodeAt(y+6),g={width:256*f.charCodeAt(y+7)+f.charCodeAt(y+8),height:p,numcomponents:f.charCodeAt(y+9)};break}h=256*f.charCodeAt(y+2)+f.charCodeAt(y+3)}return g}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:s=this.color_spaces.DEVICE_GRAY;break;case 4:s=this.color_spaces.DEVICE_CMYK;break;case 3:s=this.color_spaces.DEVICE_RGB}d={data:r,width:c.width,height:c.height,colorSpace:s,bitsPerComponent:8,filter:u,index:n,alias:a}}return d}}(tt.API);var dl,Xf,A1,O1,P1,hE=function(){var e,t,r;function n(i){var o,s,c,u,d,f,p,h,v,g,y,x,w,N;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(o=this.readUInt32(),v=(function(){var _,b;for(b=[],_=0;_<4;++_)b.push(String.fromCharCode(this.data[this.pos++]));return b}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),u=this.readUInt16()||100,f.delay=1e3*d/u,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(v==="fdAT"&&(this.pos+=4,o-=4),i=(f!=null?f.data:void 0)||this.imgData,x=0;0<=o?x<o:x>o;0<=o?++x:--x)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((g=c-this.transparency.indexed.length)>0)for(w=0;0<=g?w<g:w>g;0<=g?++w:--w)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":p=(y=this.read(o)).indexOf(0),h=String.fromCharCode.apply(String,y.slice(0,p)),this.text[h]=String.fromCharCode.apply(String,y.slice(p+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(N=this.colorType)===4||N===6,s=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*s,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var o,s;for(s=[],o=0;0<=i?o<i:o>i;0<=i?++o:--o)s.push(this.data[this.pos++]);return s},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var o=this.pixelBitlength/8,s=new Uint8Array(this.width*this.height*o),c=0,u=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function d(f,p,h,v){var g,y,x,w,N,_,b,A,O,E,C,D,k,T,$,I,H,V,X,Q,Y,G=Math.ceil((u.width-f)/h),ae=Math.ceil((u.height-p)/v),M=u.width==G&&u.height==ae;for(T=o*G,D=M?s:new Uint8Array(T*ae),_=i.length,k=0,y=0;k<ae&&c<_;){switch(i[c++]){case 0:for(w=H=0;H<T;w=H+=1)D[y++]=i[c++];break;case 1:for(w=V=0;V<T;w=V+=1)g=i[c++],N=w<o?0:D[y-o],D[y++]=(g+N)%256;break;case 2:for(w=X=0;X<T;w=X+=1)g=i[c++],x=(w-w%o)/o,$=k&&D[(k-1)*T+x*o+w%o],D[y++]=($+g)%256;break;case 3:for(w=Q=0;Q<T;w=Q+=1)g=i[c++],x=(w-w%o)/o,N=w<o?0:D[y-o],$=k&&D[(k-1)*T+x*o+w%o],D[y++]=(g+Math.floor((N+$)/2))%256;break;case 4:for(w=Y=0;Y<T;w=Y+=1)g=i[c++],x=(w-w%o)/o,N=w<o?0:D[y-o],k===0?$=I=0:($=D[(k-1)*T+x*o+w%o],I=x&&D[(k-1)*T+(x-1)*o+w%o]),b=N+$-I,A=Math.abs(b-N),E=Math.abs(b-$),C=Math.abs(b-I),O=A<=E&&A<=C?N:E<=C?$:I,D[y++]=(g+O)%256;break;default:throw new Error("Invalid filter algorithm: "+i[c-1])}if(!M){var z=((p+k*v)*u.width+f)*o,Z=k*T;for(w=0;w<G;w+=1){for(var te=0;te<o;te+=1)s[z++]=D[Z++];z+=(h-1)*o}}k++}}return i=G6(i),u.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),s},n.prototype.decodePalette=function(){var i,o,s,c,u,d,f,p,h;for(s=this.palette,d=this.transparency.indexed||[],u=new Uint8Array((d.length||0)+s.length),c=0,i=0,o=f=0,p=s.length;f<p;o=f+=3)u[c++]=s[o],u[c++]=s[o+1],u[c++]=s[o+2],u[c++]=(h=d[i++])!=null?h:255;return u},n.prototype.copyToImageData=function(i,o){var s,c,u,d,f,p,h,v,g,y,x;if(c=this.colors,g=null,s=this.hasAlphaChannel,this.palette.length&&(g=(x=this._decodedPalette)!=null?x:this._decodedPalette=this.decodePalette(),c=4,s=!0),v=(u=i.data||i).length,f=g||o,d=p=0,c===1)for(;d<v;)h=g?4*o[d/4]:p,y=f[h++],u[d++]=y,u[d++]=y,u[d++]=y,u[d++]=s?f[h++]:255,p=h;else for(;d<v;)h=g?4*o[d/4]:p,u[d++]=f[h++],u[d++]=f[h++],u[d++]=f[h++],u[d++]=s?f[h++]:255,p=h},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var a=function(){if(Object.prototype.toString.call(rt)==="[object Window]"){try{t=rt.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return a(),e=function(i){var o;if(a()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var o,s,c,u,d,f,p,h;if(this.animation){for(h=[],s=d=0,f=(p=this.animation.frames).length;d<f;s=++d)o=p[s],c=i.createImageData(o.width,o.height),u=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(c,u),o.imageData=c,h.push(o.image=e(c));return h}},n.prototype.renderFrame=function(i,o){var s,c,u;return s=(c=this.animation.frames)[o],u=c[o-1],o===0&&i.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?i.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&i.putImageData(u.imageData,u.xOffset,u.yOffset),s.blendOp===0&&i.clearRect(s.xOffset,s.yOffset,s.width,s.height),i.drawImage(s.image,s.xOffset,s.yOffset)},n.prototype.animate=function(i){var o,s,c,u,d,f,p=this;return s=0,f=this.animation,u=f.numFrames,c=f.frames,d=f.numPlays,(o=function(){var h,v;if(h=s++%u,v=c[h],p.renderFrame(i,h),u>1&&s/u<d)return p.animation._timeout=setTimeout(o,v.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var o,s;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,o=i.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(s=o.createImageData(this.width,this.height),this.copyToImageData(s,this.decodePixels()),o.putImageData(s,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function pE(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,o=1<<(7&a)+1;e[t++],e[t++];var s=null,c=null;i&&(s=t,c=o,t+=3*o);var u=!0,d=[],f=0,p=null,h=0,v=null;for(this.width=r,this.height=n;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,v=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((k=e[t++])>=0))throw Error("Invalid block size");if(k===0)break;t+=k}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var g=e[t++];f=e[t++]|e[t++]<<8,p=e[t++],!(1&g)&&(p=null),h=g>>2&7,t++;break;case 254:for(;;){if(!((k=e[t++])>=0))throw Error("Invalid block size");if(k===0)break;t+=k}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var y=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,N=e[t++]|e[t++]<<8,_=e[t++],b=_>>6&1,A=1<<(7&_)+1,O=s,E=c,C=!1;_>>7&&(C=!0,O=t,E=A,t+=3*A);var D=t;for(t++;;){var k;if(!((k=e[t++])>=0))throw Error("Invalid block size");if(k===0)break;t+=k}d.push({x:y,y:x,width:w,height:N,has_local_palette:C,palette_offset:O,palette_size:E,data_offset:D,data_length:t-D,transparent_index:p,interlaced:!!b,delay:f,disposal:h});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return v},this.frameInfo=function(T){if(T<0||T>=d.length)throw new Error("Frame index out of range.");return d[T]},this.decodeAndBlitFrameBGRA=function(T,$){var I=this.frameInfo(T),H=I.width*I.height,V=new Uint8Array(H);E1(e,I.data_offset,V,H);var X=I.palette_offset,Q=I.transparent_index;Q===null&&(Q=256);var Y=I.width,G=r-Y,ae=Y,M=4*(I.y*r+I.x),z=4*((I.y+I.height)*r+I.x),Z=M,te=4*G;I.interlaced===!0&&(te+=4*r*7);for(var ie=8,fe=0,de=V.length;fe<de;++fe){var oe=V[fe];if(ae===0&&(ae=Y,(Z+=te)>=z&&(te=4*G+4*r*(ie-1),Z=M+(Y+G)*(ie<<1),ie>>=1)),oe===Q)Z+=4;else{var xe=e[X+3*oe],be=e[X+3*oe+1],pe=e[X+3*oe+2];$[Z++]=pe,$[Z++]=be,$[Z++]=xe,$[Z++]=255}--ae}},this.decodeAndBlitFrameRGBA=function(T,$){var I=this.frameInfo(T),H=I.width*I.height,V=new Uint8Array(H);E1(e,I.data_offset,V,H);var X=I.palette_offset,Q=I.transparent_index;Q===null&&(Q=256);var Y=I.width,G=r-Y,ae=Y,M=4*(I.y*r+I.x),z=4*((I.y+I.height)*r+I.x),Z=M,te=4*G;I.interlaced===!0&&(te+=4*r*7);for(var ie=8,fe=0,de=V.length;fe<de;++fe){var oe=V[fe];if(ae===0&&(ae=Y,(Z+=te)>=z&&(te=4*G+4*r*(ie-1),Z=M+(Y+G)*(ie<<1),ie>>=1)),oe===Q)Z+=4;else{var xe=e[X+3*oe],be=e[X+3*oe+1],pe=e[X+3*oe+2];$[Z++]=xe,$[Z++]=be,$[Z++]=pe,$[Z++]=255}--ae}}}function E1(e,t,r,n){for(var a=e[t++],i=1<<a,o=i+1,s=o+1,c=a+1,u=(1<<c)-1,d=0,f=0,p=0,h=e[t++],v=new Int32Array(4096),g=null;;){for(;d<16&&h!==0;)f|=e[t++]<<d,d+=8,h===1?h=e[t++]:--h;if(d<c)break;var y=f&u;if(f>>=c,d-=c,y!==i){if(y===o)break;for(var x=y<s?y:g,w=0,N=x;N>i;)N=v[N]>>8,++w;var _=N;if(p+w+(x!==y?1:0)>n)return void Ft.log("Warning, gif stream longer than expected.");r[p++]=_;var b=p+=w;for(x!==y&&(r[p++]=_),N=x;w--;)N=v[N],r[--b]=255&N,N>>=8;g!==null&&s<4096&&(v[s++]=g<<8|_,s>=u+1&&c<12&&(++c,u=u<<1|1)),g=y}else s=o+1,u=(1<<(c=a+1))-1,g=null}return p!==n&&Ft.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Zg(e){var t,r,n,a,i,o=Math.floor,s=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),f=new Array(65535),p=new Array(65535),h=new Array(64),v=new Array(64),g=[],y=0,x=7,w=new Array(64),N=new Array(64),_=new Array(64),b=new Array(256),A=new Array(2048),O=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],E=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],C=[0,1,2,3,4,5,6,7,8,9,10,11],D=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],k=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],T=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],$=[0,1,2,3,4,5,6,7,8,9,10,11],I=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],H=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function V(M,z){for(var Z=0,te=0,ie=new Array,fe=1;fe<=16;fe++){for(var de=1;de<=M[fe];de++)ie[z[te]]=[],ie[z[te]][0]=Z,ie[z[te]][1]=fe,te++,Z++;Z*=2}return ie}function X(M){for(var z=M[0],Z=M[1]-1;Z>=0;)z&1<<Z&&(y|=1<<x),Z--,--x<0&&(y==255?(Q(255),Q(0)):Q(y),x=7,y=0)}function Q(M){g.push(M)}function Y(M){Q(M>>8&255),Q(255&M)}function G(M,z,Z,te,ie){for(var fe,de=ie[0],oe=ie[240],xe=function(ke,Ce){var De,Me,Ve,Ze,it,pt,yt,Ot,ot,vt,Fe=0;for(ot=0;ot<8;++ot){De=ke[Fe],Me=ke[Fe+1],Ve=ke[Fe+2],Ze=ke[Fe+3],it=ke[Fe+4],pt=ke[Fe+5],yt=ke[Fe+6];var Ur=De+(Ot=ke[Fe+7]),_t=De-Ot,ua=Me+yt,It=Me-yt,Qt=Ve+pt,Fa=Ve-pt,Et=Ze+it,Oo=Ze-it,rr=Ur+Et,da=Ur-Et,hi=ua+Qt,nr=ua-Qt;ke[Fe]=rr+hi,ke[Fe+4]=rr-hi;var lt=.707106781*(nr+da);ke[Fe+2]=da+lt,ke[Fe+6]=da-lt;var kt=.382683433*((rr=Oo+Fa)-(nr=It+_t)),Po=.5411961*rr+kt,Rr=1.306562965*nr+kt,Ba=.707106781*(hi=Fa+It),qa=_t+Ba,Qe=_t-Ba;ke[Fe+5]=Qe+Po,ke[Fe+3]=Qe-Po,ke[Fe+1]=qa+Rr,ke[Fe+7]=qa-Rr,Fe+=8}for(Fe=0,ot=0;ot<8;++ot){De=ke[Fe],Me=ke[Fe+8],Ve=ke[Fe+16],Ze=ke[Fe+24],it=ke[Fe+32],pt=ke[Fe+40],yt=ke[Fe+48];var fa=De+(Ot=ke[Fe+56]),za=De-Ot,hn=Me+yt,Nr=Me-yt,vr=Ve+pt,On=Ve-pt,Ms=Ze+it,pi=Ze-it,ha=fa+Ms,pa=fa-Ms,ma=hn+vr,Ua=hn-vr;ke[Fe]=ha+ma,ke[Fe+32]=ha-ma;var Fn=.707106781*(Ua+pa);ke[Fe+16]=pa+Fn,ke[Fe+48]=pa-Fn;var Wa=.382683433*((ha=pi+On)-(Ua=Nr+za)),Eo=.5411961*ha+Wa,$s=1.306562965*Ua+Wa,Ds=.707106781*(ma=On+Nr),Is=za+Ds,Rs=za-Ds;ke[Fe+40]=Rs+Eo,ke[Fe+24]=Rs-Eo,ke[Fe+8]=Is+$s,ke[Fe+56]=Is-$s,Fe++}for(ot=0;ot<64;++ot)vt=ke[ot]*Ce[ot],h[ot]=vt>0?vt+.5|0:vt-.5|0;return h}(M,z),be=0;be<64;++be)v[O[be]]=xe[be];var pe=v[0]-Z;Z=v[0],pe==0?X(te[0]):(X(te[p[fe=32767+pe]]),X(f[fe]));for(var Ee=63;Ee>0&&v[Ee]==0;)Ee--;if(Ee==0)return X(de),Z;for(var $e,ye=1;ye<=Ee;){for(var ne=ye;v[ye]==0&&ye<=Ee;)++ye;var Ye=ye-ne;if(Ye>=16){$e=Ye>>4;for(var Be=1;Be<=$e;++Be)X(oe);Ye&=15}fe=32767+v[ye],X(ie[(Ye<<4)+p[fe]]),X(f[fe]),ye++}return Ee!=63&&X(de),Z}function ae(M){M=Math.min(Math.max(M,1),100),i!=M&&(function(z){for(var Z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],te=0;te<64;te++){var ie=o((Z[te]*z+50)/100);ie=Math.min(Math.max(ie,1),255),s[O[te]]=ie}for(var fe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],de=0;de<64;de++){var oe=o((fe[de]*z+50)/100);oe=Math.min(Math.max(oe,1),255),c[O[de]]=oe}for(var xe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],be=0,pe=0;pe<8;pe++)for(var Ee=0;Ee<8;Ee++)u[be]=1/(s[O[be]]*xe[pe]*xe[Ee]*8),d[be]=1/(c[O[be]]*xe[pe]*xe[Ee]*8),be++}(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),i=M)}this.encode=function(M,z){z&&ae(z),g=new Array,y=0,x=7,Y(65496),Y(65504),Y(16),Q(74),Q(70),Q(73),Q(70),Q(0),Q(1),Q(1),Q(0),Y(1),Y(1),Q(0),Q(0),function(){Y(65499),Y(132),Q(0);for(var Me=0;Me<64;Me++)Q(s[Me]);Q(1);for(var Ve=0;Ve<64;Ve++)Q(c[Ve])}(),function(Me,Ve){Y(65472),Y(17),Q(8),Y(Ve),Y(Me),Q(3),Q(1),Q(17),Q(0),Q(2),Q(17),Q(1),Q(3),Q(17),Q(1)}(M.width,M.height),function(){Y(65476),Y(418),Q(0);for(var Me=0;Me<16;Me++)Q(E[Me+1]);for(var Ve=0;Ve<=11;Ve++)Q(C[Ve]);Q(16);for(var Ze=0;Ze<16;Ze++)Q(D[Ze+1]);for(var it=0;it<=161;it++)Q(k[it]);Q(1);for(var pt=0;pt<16;pt++)Q(T[pt+1]);for(var yt=0;yt<=11;yt++)Q($[yt]);Q(17);for(var Ot=0;Ot<16;Ot++)Q(I[Ot+1]);for(var ot=0;ot<=161;ot++)Q(H[ot])}(),Y(65498),Y(12),Q(3),Q(1),Q(0),Q(2),Q(17),Q(3),Q(17),Q(0),Q(63),Q(0);var Z=0,te=0,ie=0;y=0,x=7,this.encode.displayName="_encode_";for(var fe,de,oe,xe,be,pe,Ee,$e,ye,ne=M.data,Ye=M.width,Be=M.height,ke=4*Ye,Ce=0;Ce<Be;){for(fe=0;fe<ke;){for(be=ke*Ce+fe,Ee=-1,$e=0,ye=0;ye<64;ye++)pe=be+($e=ye>>3)*ke+(Ee=4*(7&ye)),Ce+$e>=Be&&(pe-=ke*(Ce+1+$e-Be)),fe+Ee>=ke&&(pe-=fe+Ee-ke+4),de=ne[pe++],oe=ne[pe++],xe=ne[pe++],w[ye]=(A[de]+A[oe+256>>0]+A[xe+512>>0]>>16)-128,N[ye]=(A[de+768>>0]+A[oe+1024>>0]+A[xe+1280>>0]>>16)-128,_[ye]=(A[de+1280>>0]+A[oe+1536>>0]+A[xe+1792>>0]>>16)-128;Z=G(w,u,Z,t,n),te=G(N,d,te,r,a),ie=G(_,d,ie,r,a),fe+=32}Ce+=8}if(x>=0){var De=[];De[1]=x+1,De[0]=(1<<x+1)-1,X(De)}return Y(65497),new Uint8Array(g)},e=e||50,function(){for(var M=String.fromCharCode,z=0;z<256;z++)b[z]=M(z)}(),t=V(E,C),r=V(T,$),n=V(D,k),a=V(I,H),function(){for(var M=1,z=2,Z=1;Z<=15;Z++){for(var te=M;te<z;te++)p[32767+te]=Z,f[32767+te]=[],f[32767+te][1]=Z,f[32767+te][0]=te;for(var ie=-(z-1);ie<=-M;ie++)p[32767+ie]=Z,f[32767+ie]=[],f[32767+ie][1]=Z,f[32767+ie][0]=z-1+ie;M<<=1,z<<=1}}(),function(){for(var M=0;M<256;M++)A[M]=19595*M,A[M+256>>0]=38470*M,A[M+512>>0]=7471*M+32768,A[M+768>>0]=-11059*M,A[M+1024>>0]=-21709*M,A[M+1280>>0]=32768*M+8421375,A[M+1536>>0]=-27439*M,A[M+1792>>0]=-5329*M}(),ae(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ja(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function k1(e){function t(E){if(!E)throw Error("assert :P")}function r(E,C,D){for(var k=0;4>k;k++)if(E[C+k]!=D.charCodeAt(k))return!0;return!1}function n(E,C,D,k,T){for(var $=0;$<T;$++)E[C+$]=D[k+$]}function a(E,C,D,k){for(var T=0;T<k;T++)E[C+T]=D}function i(E){return new Int32Array(E)}function o(E,C){for(var D=[],k=0;k<E;k++)D.push(new C);return D}function s(E,C){var D=[];return function k(T,$,I){for(var H=I[$],V=0;V<H&&(T.push(I.length>$+1?[]:new C),!(I.length<$+1));V++)k(T[V],$+1,I)}(D,0,E),D}var c=function(){var E=this;function C(m,j){for(var P=1<<j-1>>>0;m&P;)P>>>=1;return P?(m&P-1)+P:m}function D(m,j,P,L,R){t(!(L%P));do m[j+(L-=P)]=R;while(0<L)}function k(m,j,P,L,R){if(t(2328>=R),512>=R)var U=i(512);else if((U=i(R))==null)return 0;return function(W,K,J,ee,le,ge){var ve,he,Oe=K,we=1<<J,ce=i(16),ue=i(16);for(t(le!=0),t(ee!=null),t(W!=null),t(0<J),he=0;he<le;++he){if(15<ee[he])return 0;++ce[ee[he]]}if(ce[0]==le)return 0;for(ue[1]=0,ve=1;15>ve;++ve){if(ce[ve]>1<<ve)return 0;ue[ve+1]=ue[ve]+ce[ve]}for(he=0;he<le;++he)ve=ee[he],0<ee[he]&&(ge[ue[ve]++]=he);if(ue[15]==1)return(ee=new T).g=0,ee.value=ge[0],D(W,Oe,1,we,ee),we;var _e,Pe=-1,Ae=we-1,ze=0,Ie=1,Je=1,Re=1<<J;for(he=0,ve=1,le=2;ve<=J;++ve,le<<=1){if(Ie+=Je<<=1,0>(Je-=ce[ve]))return 0;for(;0<ce[ve];--ce[ve])(ee=new T).g=ve,ee.value=ge[he++],D(W,Oe+ze,le,Re,ee),ze=C(ze,ve)}for(ve=J+1,le=2;15>=ve;++ve,le<<=1){if(Ie+=Je<<=1,0>(Je-=ce[ve]))return 0;for(;0<ce[ve];--ce[ve]){if(ee=new T,(ze&Ae)!=Pe){for(Oe+=Re,_e=1<<(Pe=ve)-J;15>Pe&&!(0>=(_e-=ce[Pe]));)++Pe,_e<<=1;we+=Re=1<<(_e=Pe-J),W[K+(Pe=ze&Ae)].g=_e+J,W[K+Pe].value=Oe-K-Pe}ee.g=ve-J,ee.value=ge[he++],D(W,Oe+(ze>>J),le,Re,ee),ze=C(ze,ve)}}return Ie!=2*ue[15]-1?0:we}(m,j,P,L,R,U)}function T(){this.value=this.g=0}function $(){this.value=this.g=0}function I(){this.G=o(5,T),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Fr,$)}function H(m,j,P,L){t(m!=null),t(j!=null),t(2147483648>L),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=j,m.pa=P,m.Jd=j,m.Yc=P+L,m.Zc=4<=L?P+L-4+1:P,fe(m)}function V(m,j){for(var P=0;0<j--;)P|=oe(m,128)<<j;return P}function X(m,j){var P=V(m,j);return de(m)?-P:P}function Q(m,j,P,L){var R,U=0;for(t(m!=null),t(j!=null),t(4294967288>L),m.Sb=L,m.Ra=0,m.u=0,m.h=0,4<L&&(L=4),R=0;R<L;++R)U+=j[P+R]<<8*R;m.Ra=U,m.bb=L,m.oa=j,m.pa=P}function Y(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<Qs-8>>>0,++m.bb,m.u-=8;Z(m)&&(m.h=1,m.u=0)}function G(m,j){if(t(0<=j),!m.h&&j<=Zs){var P=z(m)&Js[j];return m.u+=j,Y(m),P}return m.h=1,m.u=0}function ae(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function M(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function z(m){return m.Ra>>>(m.u&Qs-1)>>>0}function Z(m){return t(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>Qs}function te(m,j){m.u=j,m.h=Z(m)}function ie(m){m.u>=nu&&(t(m.u>=nu),Y(m))}function fe(m){t(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(t(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function de(m){return V(m,1)}function oe(m,j){var P=m.Ca;0>m.b&&fe(m);var L=m.b,R=P*j>>>8,U=(m.I>>>L>R)+0;for(U?(P-=R,m.I-=R+1<<L>>>0):P=R+1,L=P,R=0;256<=L;)R+=8,L>>=8;return L=7^R+mn[L],m.b-=L,m.Ca=(P<<L)-1,U}function xe(m,j,P){m[j+0]=P>>24&255,m[j+1]=P>>16&255,m[j+2]=P>>8&255,m[j+3]=P>>0&255}function be(m,j){return m[j+0]<<0|m[j+1]<<8}function pe(m,j){return be(m,j)|m[j+2]<<16}function Ee(m,j){return be(m,j)|be(m,j+2)<<16}function $e(m,j){var P=1<<j;return t(m!=null),t(0<j),m.X=i(P),m.X==null?0:(m.Mb=32-j,m.Xa=j,1)}function ye(m,j){t(m!=null),t(j!=null),t(m.Xa==j.Xa),n(j.X,0,m.X,0,1<<j.Xa)}function ne(){this.X=[],this.Xa=this.Mb=0}function Ye(m,j,P,L){t(P!=null),t(L!=null);var R=P[0],U=L[0];return R==0&&(R=(m*U+j/2)/j),U==0&&(U=(j*R+m/2)/m),0>=R||0>=U?0:(P[0]=R,L[0]=U,1)}function Be(m,j){return m+(1<<j)-1>>>j}function ke(m,j){return((4278255360&m)+(4278255360&j)>>>0&4278255360)+((16711935&m)+(16711935&j)>>>0&16711935)>>>0}function Ce(m,j){E[j]=function(P,L,R,U,W,K,J){var ee;for(ee=0;ee<W;++ee){var le=E[m](K[J+ee-1],R,U+ee);K[J+ee]=ke(P[L+ee],le)}}}function De(){this.ud=this.hd=this.jd=0}function Me(m,j){return((4278124286&(m^j))>>>1)+(m&j)>>>0}function Ve(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function Ze(m,j){return Ve(m+(m-j+.5>>1))}function it(m,j,P){return Math.abs(j-P)-Math.abs(m-P)}function pt(m,j,P,L,R,U,W){for(L=U[W-1],P=0;P<R;++P)U[W+P]=L=ke(m[j+P],L)}function yt(m,j,P,L,R){var U;for(U=0;U<P;++U){var W=m[j+U],K=W>>8&255,J=16711935&(J=(J=16711935&W)+((K<<16)+K));L[R+U]=(4278255360&W)+J>>>0}}function Ot(m,j){j.jd=m>>0&255,j.hd=m>>8&255,j.ud=m>>16&255}function ot(m,j,P,L,R,U){var W;for(W=0;W<L;++W){var K=j[P+W],J=K>>>8,ee=K,le=255&(le=(le=K>>>16)+((m.jd<<24>>24)*(J<<24>>24)>>>5));ee=255&(ee=(ee=ee+((m.hd<<24>>24)*(J<<24>>24)>>>5))+((m.ud<<24>>24)*(le<<24>>24)>>>5)),R[U+W]=(4278255360&K)+(le<<16)+ee}}function vt(m,j,P,L,R){E[j]=function(U,W,K,J,ee,le,ge,ve,he){for(J=ge;J<ve;++J)for(ge=0;ge<he;++ge)ee[le++]=R(K[L(U[W++])])},E[m]=function(U,W,K,J,ee,le,ge){var ve=8>>U.b,he=U.Ea,Oe=U.K[0],we=U.w;if(8>ve)for(U=(1<<U.b)-1,we=(1<<ve)-1;W<K;++W){var ce,ue=0;for(ce=0;ce<he;++ce)ce&U||(ue=L(J[ee++])),le[ge++]=R(Oe[ue&we]),ue>>=ve}else E["VP8LMapColor"+P](J,ee,Oe,we,le,ge,W,K,he)}}function Fe(m,j,P,L,R){for(P=j+P;j<P;){var U=m[j++];L[R++]=U>>16&255,L[R++]=U>>8&255,L[R++]=U>>0&255}}function Ur(m,j,P,L,R){for(P=j+P;j<P;){var U=m[j++];L[R++]=U>>16&255,L[R++]=U>>8&255,L[R++]=U>>0&255,L[R++]=U>>24&255}}function _t(m,j,P,L,R){for(P=j+P;j<P;){var U=(W=m[j++])>>16&240|W>>12&15,W=W>>0&240|W>>28&15;L[R++]=U,L[R++]=W}}function ua(m,j,P,L,R){for(P=j+P;j<P;){var U=(W=m[j++])>>16&248|W>>13&7,W=W>>5&224|W>>3&31;L[R++]=U,L[R++]=W}}function It(m,j,P,L,R){for(P=j+P;j<P;){var U=m[j++];L[R++]=U>>0&255,L[R++]=U>>8&255,L[R++]=U>>16&255}}function Qt(m,j,P,L,R,U){if(U==0)for(P=j+P;j<P;)xe(L,((U=m[j++])[0]>>24|U[1]>>8&65280|U[2]<<8&16711680|U[3]<<24)>>>0),R+=32;else n(L,R,m,j,P)}function Fa(m,j){E[j][0]=E[m+"0"],E[j][1]=E[m+"1"],E[j][2]=E[m+"2"],E[j][3]=E[m+"3"],E[j][4]=E[m+"4"],E[j][5]=E[m+"5"],E[j][6]=E[m+"6"],E[j][7]=E[m+"7"],E[j][8]=E[m+"8"],E[j][9]=E[m+"9"],E[j][10]=E[m+"10"],E[j][11]=E[m+"11"],E[j][12]=E[m+"12"],E[j][13]=E[m+"13"],E[j][14]=E[m+"0"],E[j][15]=E[m+"0"]}function Et(m){return m==Og||m==Pg||m==Lf||m==Eg}function Oo(){this.eb=[],this.size=this.A=this.fb=0}function rr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function da(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Oo,this.f.kb=new rr,this.sd=null}function hi(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function nr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function lt(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function kt(m,j){var P=m.T,L=j.ba.f.RGBA,R=L.eb,U=L.fb+m.ka*L.A,W=Gn[j.ba.S],K=m.y,J=m.O,ee=m.f,le=m.N,ge=m.ea,ve=m.W,he=j.cc,Oe=j.dc,we=j.Mc,ce=j.Nc,ue=m.ka,_e=m.ka+m.T,Pe=m.U,Ae=Pe+1>>1;for(ue==0?W(K,J,null,null,ee,le,ge,ve,ee,le,ge,ve,R,U,null,null,Pe):(W(j.ec,j.fc,K,J,he,Oe,we,ce,ee,le,ge,ve,R,U-L.A,R,U,Pe),++P);ue+2<_e;ue+=2)he=ee,Oe=le,we=ge,ce=ve,le+=m.Rc,ve+=m.Rc,U+=2*L.A,W(K,(J+=2*m.fa)-m.fa,K,J,he,Oe,we,ce,ee,le,ge,ve,R,U-L.A,R,U,Pe);return J+=m.fa,m.j+_e<m.o?(n(j.ec,j.fc,K,J,Pe),n(j.cc,j.dc,ee,le,Ae),n(j.Mc,j.Nc,ge,ve,Ae),P--):1&_e||W(K,J,null,null,ee,le,ge,ve,ee,le,ge,ve,R,U+L.A,null,null,Pe),P}function Po(m,j,P){var L=m.F,R=[m.J];if(L!=null){var U=m.U,W=j.ba.S,K=W==Cf||W==Lf;j=j.ba.f.RGBA;var J=[0],ee=m.ka;J[0]=m.T,m.Kb&&(ee==0?--J[0]:(--ee,R[0]-=m.width),m.j+m.ka+m.T==m.o&&(J[0]=m.o-m.j-ee));var le=j.eb;ee=j.fb+ee*j.A,m=Ut(L,R[0],m.width,U,J,le,ee+(K?0:3),j.A),t(P==J),m&&Et(W)&&Un(le,ee,K,U,J,j.A)}return 0}function Rr(m){var j=m.ma,P=j.ba.S,L=11>P,R=P==kf||P==Tf||P==Cf||P==Ag||P==12||Et(P);if(j.memory=null,j.Ib=null,j.Jb=null,j.Nd=null,!tu(j.Oa,m,R?11:12))return 0;if(R&&Et(P)&&Te(),m.da)alert("todo:use_scaling");else{if(L){if(j.Ib=lt,m.Kb){if(P=m.U+1>>1,j.memory=i(m.U+2*P),j.memory==null)return 0;j.ec=j.memory,j.fc=0,j.cc=j.ec,j.dc=j.fc+m.U,j.Mc=j.cc,j.Nc=j.dc+P,j.Ib=kt,Te()}}else alert("todo:EmitYUV");R&&(j.Jb=Po,L&&me())}if(L&&!Fx){for(m=0;256>m;++m)ZO[m]=89858*(m-128)+$f>>Mf,tP[m]=-22014*(m-128)+$f,eP[m]=-45773*(m-128),QO[m]=113618*(m-128)+$f>>Mf;for(m=uu;m<Cg;++m)j=76283*(m-16)+$f>>Mf,rP[m-uu]=Pn(j,255),nP[m-uu]=Pn(j+8>>4,15);Fx=1}return 1}function Ba(m){var j=m.ma,P=m.U,L=m.T;return t(!(1&m.ka)),0>=P||0>=L?0:(P=j.Ib(m,j),j.Jb!=null&&j.Jb(m,j,P),j.Dc+=P,1)}function qa(m){m.ma.memory=null}function Qe(m,j,P,L){return G(m,8)!=47?0:(j[0]=G(m,14)+1,P[0]=G(m,14)+1,L[0]=G(m,1),G(m,3)!=0?0:!m.h)}function fa(m,j){if(4>m)return m+1;var P=m-2>>1;return(2+(1&m)<<P)+G(j,P)+1}function za(m,j){return 120<j?j-120:1<=(P=((P=RO[j-1])>>4)*m+(8-(15&P)))?P:1;var P}function hn(m,j,P){var L=z(P),R=m[j+=255&L].g-8;return 0<R&&(te(P,P.u+8),L=z(P),j+=m[j].value,j+=L&(1<<R)-1),te(P,P.u+m[j].g),m[j].value}function Nr(m,j,P){return P.g+=m.g,P.value+=m.value<<j>>>0,t(8>=P.g),m.g}function vr(m,j,P){var L=m.xc;return t((j=L==0?0:m.vc[m.md*(P>>L)+(j>>L)])<m.Wb),m.Ya[j]}function On(m,j,P,L){var R=m.ab,U=m.c*j,W=m.C;j=W+j;var K=P,J=L;for(L=m.Ta,P=m.Ua;0<R--;){var ee=m.gc[R],le=W,ge=j,ve=K,he=J,Oe=(J=L,K=P,ee.Ea);switch(t(le<ge),t(ge<=ee.nc),ee.hc){case 2:Nf(ve,he,(ge-le)*Oe,J,K);break;case 0:var we=le,ce=ge,ue=J,_e=K,Pe=(Re=ee).Ea;we==0&&(Sg(ve,he,null,null,1,ue,_e),pt(ve,he+1,0,0,Pe-1,ue,_e+1),he+=Pe,_e+=Pe,++we);for(var Ae=1<<Re.b,ze=Ae-1,Ie=Be(Pe,Re.b),Je=Re.K,Re=Re.w+(we>>Re.b)*Ie;we<ce;){var Pt=Je,Tt=Re,St=1;for(au(ve,he,ue,_e-Pe,1,ue,_e);St<Pe;){var bt=(St&~ze)+Ae;bt>Pe&&(bt=Pe),(0,Gi[Pt[Tt++]>>8&15])(ve,he+ +St,ue,_e+St-Pe,bt-St,ue,_e+St),St=bt}he+=Pe,_e+=Pe,++we&ze||(Re+=Ie)}ge!=ee.nc&&n(J,K-Oe,J,K+(ge-le-1)*Oe,Oe);break;case 1:for(Oe=ve,ce=he,Pe=(ve=ee.Ea)-(_e=ve&~(ue=(he=1<<ee.b)-1)),we=Be(ve,ee.b),Ae=ee.K,ee=ee.w+(le>>ee.b)*we;le<ge;){for(ze=Ae,Ie=ee,Je=new De,Re=ce+_e,Pt=ce+ve;ce<Re;)Ot(ze[Ie++],Je),Mo(Je,Oe,ce,he,J,K),ce+=he,K+=he;ce<Pt&&(Ot(ze[Ie++],Je),Mo(Je,Oe,ce,Pe,J,K),ce+=Pe,K+=Pe),++le&ue||(ee+=we)}break;case 3:if(ve==J&&he==K&&0<ee.b){for(ce=J,ve=Oe=K+(ge-le)*Oe-(_e=(ge-le)*Be(ee.Ea,ee.b)),he=J,ue=K,we=[],_e=(Pe=_e)-1;0<=_e;--_e)we[_e]=he[ue+_e];for(_e=Pe-1;0<=_e;--_e)ce[ve+_e]=we[_e];Bn(ee,le,ge,J,Oe,J,K)}else Bn(ee,le,ge,ve,he,J,K)}K=L,J=P}J!=P&&n(L,P,K,J,U)}function Ms(m,j){var P=m.V,L=m.Ba+m.c*m.C,R=j-m.C;if(t(j<=m.l.o),t(16>=R),0<R){var U=m.l,W=m.Ta,K=m.Ua,J=U.width;if(On(m,R,P,L),R=K=[K],t((P=m.C)<(L=j)),t(U.v<U.va),L>U.o&&(L=U.o),P<U.j){var ee=U.j-P;P=U.j,R[0]+=ee*J}if(P>=L?P=0:(R[0]+=4*U.v,U.ka=P-U.j,U.U=U.va-U.v,U.T=L-P,P=1),P){if(K=K[0],11>(P=m.ca).S){var le=P.f.RGBA,ge=(L=P.S,R=U.U,U=U.T,ee=le.eb,le.A),ve=U;for(le=le.fb+m.Ma*le.A;0<ve--;){var he=W,Oe=K,we=R,ce=ee,ue=le;switch(L){case Ef:gn(he,Oe,we,ce,ue);break;case kf:nn(he,Oe,we,ce,ue);break;case Og:nn(he,Oe,we,ce,ue),Un(ce,ue,0,we,1,0);break;case kx:yi(he,Oe,we,ce,ue);break;case Tf:Qt(he,Oe,we,ce,ue,1);break;case Pg:Qt(he,Oe,we,ce,ue,1),Un(ce,ue,0,we,1,0);break;case Cf:Qt(he,Oe,we,ce,ue,0);break;case Lf:Qt(he,Oe,we,ce,ue,0),Un(ce,ue,1,we,1,0);break;case Ag:Hi(he,Oe,we,ce,ue);break;case Eg:Hi(he,Oe,we,ce,ue),zt(ce,ue,we,1,0);break;case Tx:vi(he,Oe,we,ce,ue);break;default:t(0)}K+=J,le+=ge}m.Ma+=U}else alert("todo:EmitRescaledRowsYUVA");t(m.Ma<=P.height)}}m.C=j,t(m.C<=m.i)}function pi(m){var j;if(0<m.ua)return 0;for(j=0;j<m.Wb;++j){var P=m.Ya[j].G,L=m.Ya[j].H;if(0<P[1][L[1]+0].g||0<P[2][L[2]+0].g||0<P[3][L[3]+0].g)return 0}return 1}function ha(m,j,P,L,R,U){if(m.Z!=0){var W=m.qd,K=m.rd;for(t(Xi[m.Z]!=null);j<P;++j)Xi[m.Z](W,K,L,R,L,R,U),W=L,K=R,R+=U;m.qd=W,m.rd=K}}function pa(m,j){var P=m.l.ma,L=P.Z==0||P.Z==1?m.l.j:m.C;if(L=m.C<L?L:m.C,t(j<=m.l.o),j>L){var R=m.l.width,U=P.ca,W=P.tb+R*L,K=m.V,J=m.Ba+m.c*L,ee=m.gc;t(m.ab==1),t(ee[0].hc==3),Sf(ee[0],L,j,K,J,U,W),ha(P,L,j,U,W,R)}m.C=m.Ma=j}function ma(m,j,P,L,R,U,W){var K=m.$/L,J=m.$%L,ee=m.m,le=m.s,ge=P+m.$,ve=ge;R=P+L*R;var he=P+L*U,Oe=280+le.ua,we=m.Pb?K:16777216,ce=0<le.ua?le.Wa:null,ue=le.wc,_e=ge<he?vr(le,J,K):null;t(m.C<U),t(he<=R);var Pe=!1;e:for(;;){for(;Pe||ge<he;){var Ae=0;if(K>=we){var ze=ge-P;t((we=m).Pb),we.wd=we.m,we.xd=ze,0<we.s.ua&&ye(we.s.Wa,we.s.vb),we=K+BO}if(J&ue||(_e=vr(le,J,K)),t(_e!=null),_e.Qb&&(j[ge]=_e.qb,Pe=!0),!Pe)if(ie(ee),_e.jc){Ae=ee,ze=j;var Ie=ge,Je=_e.pd[z(Ae)&Fr-1];t(_e.jc),256>Je.g?(te(Ae,Ae.u+Je.g),ze[Ie]=Je.value,Ae=0):(te(Ae,Ae.u+Je.g-256),t(256<=Je.value),Ae=Je.value),Ae==0&&(Pe=!0)}else Ae=hn(_e.G[0],_e.H[0],ee);if(ee.h)break;if(Pe||256>Ae){if(!Pe)if(_e.nd)j[ge]=(_e.qb|Ae<<8)>>>0;else{if(ie(ee),Pe=hn(_e.G[1],_e.H[1],ee),ie(ee),ze=hn(_e.G[2],_e.H[2],ee),Ie=hn(_e.G[3],_e.H[3],ee),ee.h)break;j[ge]=(Ie<<24|Pe<<16|Ae<<8|ze)>>>0}if(Pe=!1,++ge,++J>=L&&(J=0,++K,W!=null&&K<=U&&!(K%16)&&W(m,K),ce!=null))for(;ve<ge;)Ae=j[ve++],ce.X[(506832829*Ae&4294967295)>>>ce.Mb]=Ae}else if(280>Ae){if(Ae=fa(Ae-256,ee),ze=hn(_e.G[4],_e.H[4],ee),ie(ee),ze=za(L,ze=fa(ze,ee)),ee.h)break;if(ge-P<ze||R-ge<Ae)break e;for(Ie=0;Ie<Ae;++Ie)j[ge+Ie]=j[ge+Ie-ze];for(ge+=Ae,J+=Ae;J>=L;)J-=L,++K,W!=null&&K<=U&&!(K%16)&&W(m,K);if(t(ge<=R),J&ue&&(_e=vr(le,J,K)),ce!=null)for(;ve<ge;)Ae=j[ve++],ce.X[(506832829*Ae&4294967295)>>>ce.Mb]=Ae}else{if(!(Ae<Oe))break e;for(Pe=Ae-280,t(ce!=null);ve<ge;)Ae=j[ve++],ce.X[(506832829*Ae&4294967295)>>>ce.Mb]=Ae;Ae=ge,t(!(Pe>>>(ze=ce).Xa)),j[Ae]=ze.X[Pe],Pe=!0}Pe||t(ee.h==Z(ee))}if(m.Pb&&ee.h&&ge<R)t(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&ye(m.s.vb,m.s.Wa);else{if(ee.h)break e;W!=null&&W(m,K>U?U:K),m.a=0,m.$=ge-P}return 1}return m.a=3,0}function Ua(m){t(m!=null),m.vc=null,m.yc=null,m.Ya=null;var j=m.Wa;j!=null&&(j.X=null),m.vb=null,t(m!=null)}function Fn(){var m=new Ng;return m==null?null:(m.a=0,m.xb=Mx,Fa("Predictor","VP8LPredictors"),Fa("Predictor","VP8LPredictors_C"),Fa("PredictorAdd","VP8LPredictorsAdd"),Fa("PredictorAdd","VP8LPredictorsAdd_C"),Nf=yt,Mo=ot,gn=Fe,nn=Ur,Hi=_t,vi=ua,yi=It,E.VP8LMapColor32b=el,E.VP8LMapColor8b=_f,m)}function Wa(m,j,P,L,R){var U=1,W=[m],K=[j],J=L.m,ee=L.s,le=null,ge=0;e:for(;;){if(P)for(;U&&G(J,1);){var ve=W,he=K,Oe=L,we=1,ce=Oe.m,ue=Oe.gc[Oe.ab],_e=G(ce,2);if(Oe.Oc&1<<_e)U=0;else{switch(Oe.Oc|=1<<_e,ue.hc=_e,ue.Ea=ve[0],ue.nc=he[0],ue.K=[null],++Oe.ab,t(4>=Oe.ab),_e){case 0:case 1:ue.b=G(ce,3)+2,we=Wa(Be(ue.Ea,ue.b),Be(ue.nc,ue.b),0,Oe,ue.K),ue.K=ue.K[0];break;case 3:var Pe,Ae=G(ce,8)+1,ze=16<Ae?0:4<Ae?1:2<Ae?2:3;if(ve[0]=Be(ue.Ea,ze),ue.b=ze,Pe=we=Wa(Ae,1,0,Oe,ue.K)){var Ie,Je=Ae,Re=ue,Pt=1<<(8>>Re.b),Tt=i(Pt);if(Tt==null)Pe=0;else{var St=Re.K[0],bt=Re.w;for(Tt[0]=Re.K[0][0],Ie=1;Ie<1*Je;++Ie)Tt[Ie]=ke(St[bt+Ie],Tt[Ie-1]);for(;Ie<4*Pt;++Ie)Tt[Ie]=0;Re.K[0]=null,Re.K[0]=Tt,Pe=1}}we=Pe;break;case 2:break;default:t(0)}U=we}}if(W=W[0],K=K[0],U&&G(J,1)&&!(U=1<=(ge=G(J,4))&&11>=ge)){L.a=3;break e}var Rt;if(Rt=U)t:{var $t,ft,br,vn=L,xr=W,yn=K,Ct=ge,kn=P,Tn=vn.m,Cr=vn.s,Br=[null],on=1,Hn=0,Ya=FO[Ct];r:for(;;){if(kn&&G(Tn,1)){var Lr=G(Tn,3)+2,ji=Be(xr,Lr),Fo=Be(yn,Lr),il=ji*Fo;if(!Wa(ji,Fo,0,vn,Br))break r;for(Br=Br[0],Cr.xc=Lr,$t=0;$t<il;++$t){var Ji=Br[$t]>>8&65535;Br[$t]=Ji,Ji>=on&&(on=Ji+1)}}if(Tn.h)break r;for(ft=0;5>ft;++ft){var ir=Cx[ft];!ft&&0<Ct&&(ir+=1<<Ct),Hn<ir&&(Hn=ir)}var Lg=o(on*Ya,T),zx=on,Ux=o(zx,I);if(Ux==null)var If=null;else t(65536>=zx),If=Ux;var du=i(Hn);if(If==null||du==null||Lg==null){vn.a=1;break r}var Rf=Lg;for($t=br=0;$t<on;++$t){var xa=If[$t],ol=xa.G,sl=xa.H,Wx=0,Ff=1,Gx=0;for(ft=0;5>ft;++ft){ir=Cx[ft],ol[ft]=Rf,sl[ft]=br,!ft&&0<Ct&&(ir+=1<<Ct);a:{var Bf,Mg=ir,qf=vn,fu=du,oP=Rf,sP=br,$g=0,Zi=qf.m,lP=G(Zi,1);if(a(fu,0,0,Mg),lP){var cP=G(Zi,1)+1,uP=G(Zi,1),Hx=G(Zi,uP==0?1:8);fu[Hx]=1,cP==2&&(fu[Hx=G(Zi,8)]=1);var zf=1}else{var Vx=i(19),Yx=G(Zi,4)+4;if(19<Yx){qf.a=3;var Uf=0;break a}for(Bf=0;Bf<Yx;++Bf)Vx[IO[Bf]]=G(Zi,3);var Dg=void 0,hu=void 0,Kx=qf,dP=Vx,Wf=Mg,Xx=fu,Ig=0,Qi=Kx.m,Jx=8,Zx=o(128,T);n:for(;k(Zx,0,7,dP,19);){if(G(Qi,1)){var fP=2+2*G(Qi,3);if((Dg=2+G(Qi,fP))>Wf)break n}else Dg=Wf;for(hu=0;hu<Wf&&Dg--;){ie(Qi);var Qx=Zx[0+(127&z(Qi))];te(Qi,Qi.u+Qx.g);var ll=Qx.value;if(16>ll)Xx[hu++]=ll,ll!=0&&(Jx=ll);else{var hP=ll==16,e1=ll-16,pP=$O[e1],t1=G(Qi,MO[e1])+pP;if(hu+t1>Wf)break n;for(var mP=hP?Jx:0;0<t1--;)Xx[hu++]=mP}}Ig=1;break n}Ig||(Kx.a=3),zf=Ig}(zf=zf&&!Zi.h)&&($g=k(oP,sP,8,fu,Mg)),zf&&$g!=0?Uf=$g:(qf.a=3,Uf=0)}if(Uf==0)break r;if(Ff&&DO[ft]==1&&(Ff=Rf[br].g==0),Wx+=Rf[br].g,br+=Uf,3>=ft){var pu,Rg=du[0];for(pu=1;pu<ir;++pu)du[pu]>Rg&&(Rg=du[pu]);Gx+=Rg}}if(xa.nd=Ff,xa.Qb=0,Ff&&(xa.qb=(ol[3][sl[3]+0].value<<24|ol[1][sl[1]+0].value<<16|ol[2][sl[2]+0].value)>>>0,Wx==0&&256>ol[0][sl[0]+0].value&&(xa.Qb=1,xa.qb+=ol[0][sl[0]+0].value<<8)),xa.jc=!xa.Qb&&6>Gx,xa.jc){var Gf,Ni=xa;for(Gf=0;Gf<Fr;++Gf){var eo=Gf,to=Ni.pd[eo],Hf=Ni.G[0][Ni.H[0]+eo];256<=Hf.value?(to.g=Hf.g+256,to.value=Hf.value):(to.g=0,to.value=0,eo>>=Nr(Hf,8,to),eo>>=Nr(Ni.G[1][Ni.H[1]+eo],16,to),eo>>=Nr(Ni.G[2][Ni.H[2]+eo],0,to),Nr(Ni.G[3][Ni.H[3]+eo],24,to))}}}Cr.vc=Br,Cr.Wb=on,Cr.Ya=If,Cr.yc=Lg,Rt=1;break t}Rt=0}if(!(U=Rt)){L.a=3;break e}if(0<ge){if(ee.ua=1<<ge,!$e(ee.Wa,ge)){L.a=1,U=0;break e}}else ee.ua=0;var Fg=L,r1=W,gP=K,Bg=Fg.s,qg=Bg.xc;if(Fg.c=r1,Fg.i=gP,Bg.md=Be(r1,qg),Bg.wc=qg==0?-1:(1<<qg)-1,P){L.xb=VO;break e}if((le=i(W*K))==null){L.a=1,U=0;break e}U=(U=ma(L,le,0,W,K,K,null))&&!J.h;break e}return U?(R!=null?R[0]=le:(t(le==null),t(P)),L.$=0,P||Ua(ee)):Ua(ee),U}function Eo(m,j){var P=m.c*m.i,L=P+j+16*j;return t(m.c<=j),m.V=i(L),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+P+j,1)}function $s(m,j){var P=m.C,L=j-P,R=m.V,U=m.Ba+m.c*P;for(t(j<=m.l.o);0<L;){var W=16<L?16:L,K=m.l.ma,J=m.l.width,ee=J*W,le=K.ca,ge=K.tb+J*P,ve=m.Ta,he=m.Ua;On(m,W,R,U),fr(ve,he,le,ge,ee),ha(K,P,P+W,le,ge,J),L-=W,R+=W*m.c,P+=W}t(P==j),m.C=m.Ma=j}function Ds(){this.ub=this.yd=this.td=this.Rb=0}function Is(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Rs(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function rf(){this.Yb=function(){var m=[];return function j(P,L,R){for(var U=R[L],W=0;W<U&&(P.push(R.length>L+1?[]:0),!(R.length<L+1));W++)j(P[W],L+1,R)}(m,0,[3,11]),m}()}function eg(){this.jb=i(3),this.Wc=s([4,8],rf),this.Xc=s([4,17],rf)}function tg(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Fs(){this.ld=this.La=this.dd=this.tc=0}function nf(){this.Na=this.la=0}function rg(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Fc(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ng(){this.uc=this.M=this.Nb=0,this.wa=Array(new Fs),this.Y=0,this.ya=Array(new Fc),this.aa=0,this.l=new Bs}function af(){this.y=i(16),this.f=i(8),this.ea=i(8)}function ag(){this.cb=this.a=0,this.sc="",this.m=new ae,this.Od=new Ds,this.Kc=new Is,this.ed=new tg,this.Qa=new Rs,this.Ic=this.$c=this.Aa=0,this.D=new ng,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,ae),this.ia=0,this.pb=o(4,rg),this.Pa=new eg,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new af),this.Hd=0,this.rb=Array(new nf),this.sb=0,this.wa=Array(new Fs),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Fc),this.L=this.aa=0,this.gd=s([4,2],Fs),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Bs(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ig(){var m=new ag;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,cu||(cu=lf)),m}function ur(m,j,P){return m.a==0&&(m.a=j,m.sc=P,m.cb=0),0}function of(m,j,P){return 3<=P&&m[j+0]==157&&m[j+1]==1&&m[j+2]==42}function sf(m,j){if(m==null)return 0;if(m.a=0,m.sc="OK",j==null)return ur(m,2,"null VP8Io passed to VP8GetHeaders()");var P=j.data,L=j.w,R=j.ha;if(4>R)return ur(m,7,"Truncated header.");var U=P[L+0]|P[L+1]<<8|P[L+2]<<16,W=m.Od;if(W.Rb=!(1&U),W.td=U>>1&7,W.yd=U>>4&1,W.ub=U>>5,3<W.td)return ur(m,3,"Incorrect keyframe parameters.");if(!W.yd)return ur(m,4,"Frame not displayable.");L+=3,R-=3;var K=m.Kc;if(W.Rb){if(7>R)return ur(m,7,"cannot parse picture header");if(!of(P,L,R))return ur(m,3,"Bad code word");K.c=16383&(P[L+4]<<8|P[L+3]),K.Td=P[L+4]>>6,K.i=16383&(P[L+6]<<8|P[L+5]),K.Ud=P[L+6]>>6,L+=7,R-=7,m.za=K.c+15>>4,m.Ub=K.i+15>>4,j.width=K.c,j.height=K.i,j.Da=0,j.j=0,j.v=0,j.va=j.width,j.o=j.height,j.da=0,j.ib=j.width,j.hb=j.height,j.U=j.width,j.T=j.height,a((U=m.Pa).jb,0,255,U.jb.length),t((U=m.Qa)!=null),U.Cb=0,U.Bb=0,U.Fb=1,a(U.Zb,0,0,U.Zb.length),a(U.Lb,0,0,U.Lb)}if(W.ub>R)return ur(m,7,"bad partition length");H(U=m.m,P,L,W.ub),L+=W.ub,R-=W.ub,W.Rb&&(K.Ld=de(U),K.Kd=de(U)),K=m.Qa;var J,ee=m.Pa;if(t(U!=null),t(K!=null),K.Cb=de(U),K.Cb){if(K.Bb=de(U),de(U)){for(K.Fb=de(U),J=0;4>J;++J)K.Zb[J]=de(U)?X(U,7):0;for(J=0;4>J;++J)K.Lb[J]=de(U)?X(U,6):0}if(K.Bb)for(J=0;3>J;++J)ee.jb[J]=de(U)?V(U,8):255}else K.Bb=0;if(U.Ka)return ur(m,3,"cannot parse segment header");if((K=m.ed).zd=de(U),K.Tb=V(U,6),K.wb=V(U,3),K.Pc=de(U),K.Pc&&de(U)){for(ee=0;4>ee;++ee)de(U)&&(K.vd[ee]=X(U,6));for(ee=0;4>ee;++ee)de(U)&&(K.od[ee]=X(U,6))}if(m.L=K.Tb==0?0:K.zd?1:2,U.Ka)return ur(m,3,"cannot parse filter header");var le=R;if(R=J=L,L=J+le,K=le,m.Xb=(1<<V(m.m,2))-1,le<3*(ee=m.Xb))P=7;else{for(J+=3*ee,K-=3*ee,le=0;le<ee;++le){var ge=P[R+0]|P[R+1]<<8|P[R+2]<<16;ge>K&&(ge=K),H(m.Jc[+le],P,J,ge),J+=ge,K-=ge,R+=3}H(m.Jc[+ee],P,J,K),P=J<L?0:5}if(P!=0)return ur(m,P,"cannot parse partitions");for(P=V(J=m.m,7),R=de(J)?X(J,4):0,L=de(J)?X(J,4):0,K=de(J)?X(J,4):0,ee=de(J)?X(J,4):0,J=de(J)?X(J,4):0,le=m.Qa,ge=0;4>ge;++ge){if(le.Cb){var ve=le.Zb[ge];le.Fb||(ve+=P)}else{if(0<ge){m.pb[ge]=m.pb[0];continue}ve=P}var he=m.pb[ge];he.Sc[0]=kg[Pn(ve+R,127)],he.Sc[1]=Tg[Pn(ve+0,127)],he.Eb[0]=2*kg[Pn(ve+L,127)],he.Eb[1]=101581*Tg[Pn(ve+K,127)]>>16,8>he.Eb[1]&&(he.Eb[1]=8),he.Qc[0]=kg[Pn(ve+ee,117)],he.Qc[1]=Tg[Pn(ve+J,127)],he.lc=ve+J}if(!W.Rb)return ur(m,4,"Not a key frame.");for(de(U),W=m.Pa,P=0;4>P;++P){for(R=0;8>R;++R)for(L=0;3>L;++L)for(K=0;11>K;++K)ee=oe(U,GO[P][R][L][K])?V(U,8):UO[P][R][L][K],W.Wc[P][R].Yb[L][K]=ee;for(R=0;17>R;++R)W.Xc[P][R]=W.Wc[P][HO[R]]}return m.kc=de(U),m.kc&&(m.Bd=V(U,8)),m.cb=1}function lf(m,j,P,L,R,U,W){var K=j[R].Yb[P];for(P=0;16>R;++R){if(!oe(m,K[P+0]))return R;for(;!oe(m,K[P+1]);)if(K=j[++R].Yb[0],P=0,R==16)return 16;var J=j[R+1].Yb;if(oe(m,K[P+2])){var ee=m,le=0;if(oe(ee,(ve=K)[(ge=P)+3]))if(oe(ee,ve[ge+6])){for(K=0,ge=2*(le=oe(ee,ve[ge+8]))+(ve=oe(ee,ve[ge+9+le])),le=0,ve=qO[ge];ve[K];++K)le+=le+oe(ee,ve[K]);le+=3+(8<<ge)}else oe(ee,ve[ge+7])?(le=7+2*oe(ee,165),le+=oe(ee,145)):le=5+oe(ee,159);else le=oe(ee,ve[ge+4])?3+oe(ee,ve[ge+5]):2;K=J[2]}else le=1,K=J[1];J=W+zO[R],0>(ee=m).b&&fe(ee);var ge,ve=ee.b,he=(ge=ee.Ca>>1)-(ee.I>>ve)>>31;--ee.b,ee.Ca+=he,ee.Ca|=1,ee.I-=(ge+1&he)<<ve,U[J]=((le^he)-he)*L[(0<R)+0]}return 16}function Bc(m){var j=m.rb[m.sb-1];j.la=0,j.Na=0,a(m.zc,0,0,m.zc.length),m.ja=0}function og(m,j){if(m==null)return 0;if(j==null)return ur(m,2,"NULL VP8Io parameter in VP8Decode().");if(!m.cb&&!sf(m,j))return 0;if(t(m.cb),j.ac==null||j.ac(j)){j.ob&&(m.L=0);var P=Df[m.L];if(m.L==2?(m.yb=0,m.zb=0):(m.yb=j.v-P>>4,m.zb=j.j-P>>4,0>m.yb&&(m.yb=0),0>m.zb&&(m.zb=0)),m.Va=j.o+15+P>>4,m.Hb=j.va+15+P>>4,m.Hb>m.za&&(m.Hb=m.za),m.Va>m.Ub&&(m.Va=m.Ub),0<m.L){var L=m.ed;for(P=0;4>P;++P){var R;if(m.Qa.Cb){var U=m.Qa.Lb[P];m.Qa.Fb||(U+=L.Tb)}else U=L.Tb;for(R=0;1>=R;++R){var W=m.gd[P][R],K=U;if(L.Pc&&(K+=L.vd[0],R&&(K+=L.od[0])),0<(K=0>K?0:63<K?63:K)){var J=K;0<L.wb&&(J=4<L.wb?J>>2:J>>1)>9-L.wb&&(J=9-L.wb),1>J&&(J=1),W.dd=J,W.tc=2*K+J,W.ld=40<=K?2:15<=K?1:0}else W.tc=0;W.La=R}}}P=0}else ur(m,6,"Frame setup failed"),P=m.a;if(P=P==0){if(P){m.$c=0,0<m.Aa||(m.Ic=iP);e:{P=m.Ic,L=4*(J=m.za);var ee=32*J,le=J+1,ge=0<m.L?J*(0<m.Aa?2:1):0,ve=(m.Aa==2?2:1)*J;if((W=L+832+(R=3*(16*P+Df[m.L])/2*ee)+(U=m.Fa!=null&&0<m.Fa.length?m.Kc.c*m.Kc.i:0))!=W)P=0;else{if(W>m.Vb){if(m.Vb=0,m.Ec=i(W),m.Fc=0,m.Ec==null){P=ur(m,1,"no memory during frame initialization.");break e}m.Vb=W}W=m.Ec,K=m.Fc,m.Ac=W,m.Bc=K,K+=L,m.Gd=o(ee,af),m.Hd=0,m.rb=o(le+1,nf),m.sb=1,m.wa=ge?o(ge,Fs):null,m.Y=0,m.D.Nb=0,m.D.wa=m.wa,m.D.Y=m.Y,0<m.Aa&&(m.D.Y+=J),t(!0),m.oc=W,m.pc=K,K+=832,m.ya=o(ve,Fc),m.aa=0,m.D.ya=m.ya,m.D.aa=m.aa,m.Aa==2&&(m.D.aa+=J),m.R=16*J,m.B=8*J,J=(ee=Df[m.L])*m.R,ee=ee/2*m.B,m.sa=W,m.ta=K+J,m.qa=m.sa,m.ra=m.ta+16*P*m.R+ee,m.Ha=m.qa,m.Ia=m.ra+8*P*m.B+ee,m.$c=0,K+=R,m.mb=U?W:null,m.nb=U?K:null,t(K+U<=m.Fc+m.Vb),Bc(m),a(m.Ac,m.Bc,0,L),P=1}}if(P){if(j.ka=0,j.y=m.sa,j.O=m.ta,j.f=m.qa,j.N=m.ra,j.ea=m.Ha,j.Vd=m.Ia,j.fa=m.R,j.Rc=m.B,j.F=null,j.J=0,!Of){for(P=-255;255>=P;++P)Sr[255+P]=0>P?-P:P;for(P=-1020;1020>=P;++P)xi[1020+P]=-128>P?-128:127<P?127:P;for(P=-112;112>=P;++P)lu[112+P]=-16>P?-16:15<P?15:P;for(P=-255;510>=P;++P)al[255+P]=0>P?0:255<P?255:P;Of=1}tl=cg,bi=sg,iu=uf,an=lg,qn=df,dr=cf,rl=Hc,Af=Co,ou=jg,$o=Vc,Do=wg,Vi=Hs,Io=Yc,nl=xf,Ro=bf,Yi=Ha,su=gi,zn=xg,ba[0]=Ga,ba[1]=ug,ba[2]=pg,ba[3]=mg,ba[4]=pf,ba[5]=Ws,ba[6]=mf,ba[7]=Uc,ba[8]=vg,ba[9]=gg,Ki[0]=ff,Ki[1]=fg,Ki[2]=mi,Ki[3]=zs,Ki[4]=Wr,Ki[5]=hg,Ki[6]=hf,wi[0]=zi,wi[1]=dg,wi[2]=yg,wi[3]=Wc,wi[4]=To,wi[5]=bg,wi[6]=Gc,P=1}else P=0}P&&(P=function(he,Oe){for(he.M=0;he.M<he.Va;++he.M){var we,ce=he.Jc[he.M&he.Xb],ue=he.m,_e=he;for(we=0;we<_e.za;++we){var Pe=ue,Ae=_e,ze=Ae.Ac,Ie=Ae.Bc+4*we,Je=Ae.zc,Re=Ae.ya[Ae.aa+we];if(Ae.Qa.Bb?Re.$b=oe(Pe,Ae.Pa.jb[0])?2+oe(Pe,Ae.Pa.jb[2]):oe(Pe,Ae.Pa.jb[1]):Re.$b=0,Ae.kc&&(Re.Ad=oe(Pe,Ae.Bd)),Re.Za=!oe(Pe,145)+0,Re.Za){var Pt=Re.Ob,Tt=0;for(Ae=0;4>Ae;++Ae){var St,bt=Je[0+Ae];for(St=0;4>St;++St){bt=WO[ze[Ie+St]][bt];for(var Rt=Lx[oe(Pe,bt[0])];0<Rt;)Rt=Lx[2*Rt+oe(Pe,bt[Rt])];bt=-Rt,ze[Ie+St]=bt}n(Pt,Tt,ze,Ie,4),Tt+=4,Je[0+Ae]=bt}}else bt=oe(Pe,156)?oe(Pe,128)?1:3:oe(Pe,163)?2:0,Re.Ob[0]=bt,a(ze,Ie,bt,4),a(Je,0,bt,4);Re.Dd=oe(Pe,142)?oe(Pe,114)?oe(Pe,183)?1:3:2:0}if(_e.m.Ka)return ur(he,7,"Premature end-of-partition0 encountered.");for(;he.ja<he.za;++he.ja){if(_e=ce,Pe=(ue=he).rb[ue.sb-1],ze=ue.rb[ue.sb+ue.ja],we=ue.ya[ue.aa+ue.ja],Ie=ue.kc?we.Ad:0)Pe.la=ze.la=0,we.Za||(Pe.Na=ze.Na=0),we.Hc=0,we.Gc=0,we.ia=0;else{var $t,ft;if(Pe=ze,ze=_e,Ie=ue.Pa.Xc,Je=ue.ya[ue.aa+ue.ja],Re=ue.pb[Je.$b],Ae=Je.ad,Pt=0,Tt=ue.rb[ue.sb-1],bt=St=0,a(Ae,Pt,0,384),Je.Za)var br=0,vn=Ie[3];else{Rt=i(16);var xr=Pe.Na+Tt.Na;if(xr=cu(ze,Ie[1],xr,Re.Eb,0,Rt,0),Pe.Na=Tt.Na=(0<xr)+0,1<xr)tl(Rt,0,Ae,Pt);else{var yn=Rt[0]+3>>3;for(Rt=0;256>Rt;Rt+=16)Ae[Pt+Rt]=yn}br=1,vn=Ie[0]}var Ct=15&Pe.la,kn=15&Tt.la;for(Rt=0;4>Rt;++Rt){var Tn=1&kn;for(yn=ft=0;4>yn;++yn)Ct=Ct>>1|(Tn=(xr=cu(ze,vn,xr=Tn+(1&Ct),Re.Sc,br,Ae,Pt))>br)<<7,ft=ft<<2|(3<xr?3:1<xr?2:Ae[Pt+0]!=0),Pt+=16;Ct>>=4,kn=kn>>1|Tn<<7,St=(St<<8|ft)>>>0}for(vn=Ct,br=kn>>4,$t=0;4>$t;$t+=2){for(ft=0,Ct=Pe.la>>4+$t,kn=Tt.la>>4+$t,Rt=0;2>Rt;++Rt){for(Tn=1&kn,yn=0;2>yn;++yn)xr=Tn+(1&Ct),Ct=Ct>>1|(Tn=0<(xr=cu(ze,Ie[2],xr,Re.Qc,0,Ae,Pt)))<<3,ft=ft<<2|(3<xr?3:1<xr?2:Ae[Pt+0]!=0),Pt+=16;Ct>>=2,kn=kn>>1|Tn<<5}bt|=ft<<4*$t,vn|=Ct<<4<<$t,br|=(240&kn)<<$t}Pe.la=vn,Tt.la=br,Je.Hc=St,Je.Gc=bt,Je.ia=43690&bt?0:Re.ia,Ie=!(St|bt)}if(0<ue.L&&(ue.wa[ue.Y+ue.ja]=ue.gd[we.$b][we.Za],ue.wa[ue.Y+ue.ja].La|=!Ie),_e.Ka)return ur(he,7,"Premature end-of-file encountered.")}if(Bc(he),ue=Oe,_e=1,we=(ce=he).D,Pe=0<ce.L&&ce.M>=ce.zb&&ce.M<=ce.Va,ce.Aa==0)e:{if(we.M=ce.M,we.uc=Pe,eu(ce,we),_e=1,we=(ft=ce.D).Nb,Pe=(bt=Df[ce.L])*ce.R,ze=bt/2*ce.B,Rt=16*we*ce.R,yn=8*we*ce.B,Ie=ce.sa,Je=ce.ta-Pe+Rt,Re=ce.qa,Ae=ce.ra-ze+yn,Pt=ce.Ha,Tt=ce.Ia-ze+yn,kn=(Ct=ft.M)==0,St=Ct>=ce.Va-1,ce.Aa==2&&eu(ce,ft),ft.uc)for(Tn=(xr=ce).D.M,t(xr.D.uc),ft=xr.yb;ft<xr.Hb;++ft){br=ft,vn=Tn;var Cr=(Br=(ir=xr).D).Nb;$t=ir.R;var Br=Br.wa[Br.Y+br],on=ir.sa,Hn=ir.ta+16*Cr*$t+16*br,Ya=Br.dd,Lr=Br.tc;if(Lr!=0)if(t(3<=Lr),ir.L==1)0<br&&Yi(on,Hn,$t,Lr+4),Br.La&&zn(on,Hn,$t,Lr),0<vn&&Ro(on,Hn,$t,Lr+4),Br.La&&su(on,Hn,$t,Lr);else{var ji=ir.B,Fo=ir.qa,il=ir.ra+8*Cr*ji+8*br,Ji=ir.Ha,ir=ir.Ia+8*Cr*ji+8*br;Cr=Br.ld,0<br&&(Af(on,Hn,$t,Lr+4,Ya,Cr),$o(Fo,il,Ji,ir,ji,Lr+4,Ya,Cr)),Br.La&&(Vi(on,Hn,$t,Lr,Ya,Cr),nl(Fo,il,Ji,ir,ji,Lr,Ya,Cr)),0<vn&&(rl(on,Hn,$t,Lr+4,Ya,Cr),ou(Fo,il,Ji,ir,ji,Lr+4,Ya,Cr)),Br.La&&(Do(on,Hn,$t,Lr,Ya,Cr),Io(Fo,il,Ji,ir,ji,Lr,Ya,Cr))}}if(ce.ia&&alert("todo:DitherRow"),ue.put!=null){if(ft=16*Ct,Ct=16*(Ct+1),kn?(ue.y=ce.sa,ue.O=ce.ta+Rt,ue.f=ce.qa,ue.N=ce.ra+yn,ue.ea=ce.Ha,ue.W=ce.Ia+yn):(ft-=bt,ue.y=Ie,ue.O=Je,ue.f=Re,ue.N=Ae,ue.ea=Pt,ue.W=Tt),St||(Ct-=bt),Ct>ue.o&&(Ct=ue.o),ue.F=null,ue.J=null,ce.Fa!=null&&0<ce.Fa.length&&ft<Ct&&(ue.J=Zc(ce,ue,ft,Ct-ft),ue.F=ce.mb,ue.F==null&&ue.F.length==0)){_e=ur(ce,3,"Could not decode alpha data.");break e}ft<ue.j&&(bt=ue.j-ft,ft=ue.j,t(!(1&bt)),ue.O+=ce.R*bt,ue.N+=ce.B*(bt>>1),ue.W+=ce.B*(bt>>1),ue.F!=null&&(ue.J+=ue.width*bt)),ft<Ct&&(ue.O+=ue.v,ue.N+=ue.v>>1,ue.W+=ue.v>>1,ue.F!=null&&(ue.J+=ue.v),ue.ka=ft-ue.j,ue.U=ue.va-ue.v,ue.T=Ct-ft,_e=ue.put(ue))}we+1!=ce.Ic||St||(n(ce.sa,ce.ta-Pe,Ie,Je+16*ce.R,Pe),n(ce.qa,ce.ra-ze,Re,Ae+8*ce.B,ze),n(ce.Ha,ce.Ia-ze,Pt,Tt+8*ce.B,ze))}if(!_e)return ur(he,6,"Output aborted.")}return 1}(m,j)),j.bc!=null&&j.bc(j),P&=1}return P?(m.cb=0,P):0}function ga(m,j,P,L,R){R=m[j+P+32*L]+(R>>3),m[j+P+32*L]=-256&R?0>R?0:255:R}function qs(m,j,P,L,R,U){ga(m,j,0,P,L+R),ga(m,j,1,P,L+U),ga(m,j,2,P,L-U),ga(m,j,3,P,L-R)}function pn(m){return(20091*m>>16)+m}function qc(m,j,P,L){var R,U=0,W=i(16);for(R=0;4>R;++R){var K=m[j+0]+m[j+8],J=m[j+0]-m[j+8],ee=(35468*m[j+4]>>16)-pn(m[j+12]),le=pn(m[j+4])+(35468*m[j+12]>>16);W[U+0]=K+le,W[U+1]=J+ee,W[U+2]=J-ee,W[U+3]=K-le,U+=4,j++}for(R=U=0;4>R;++R)K=(m=W[U+0]+4)+W[U+8],J=m-W[U+8],ee=(35468*W[U+4]>>16)-pn(W[U+12]),ga(P,L,0,0,K+(le=pn(W[U+4])+(35468*W[U+12]>>16))),ga(P,L,1,0,J+ee),ga(P,L,2,0,J-ee),ga(P,L,3,0,K-le),U++,L+=32}function cf(m,j,P,L){var R=m[j+0]+4,U=35468*m[j+4]>>16,W=pn(m[j+4]),K=35468*m[j+1]>>16;qs(P,L,0,R+W,m=pn(m[j+1]),K),qs(P,L,1,R+U,m,K),qs(P,L,2,R-U,m,K),qs(P,L,3,R-W,m,K)}function sg(m,j,P,L,R){qc(m,j,P,L),R&&qc(m,j+16,P,L+4)}function uf(m,j,P,L){bi(m,j+0,P,L,1),bi(m,j+32,P,L+128,1)}function lg(m,j,P,L){var R;for(m=m[j+0]+4,R=0;4>R;++R)for(j=0;4>j;++j)ga(P,L,j,R,m)}function df(m,j,P,L){m[j+0]&&an(m,j+0,P,L),m[j+16]&&an(m,j+16,P,L+4),m[j+32]&&an(m,j+32,P,L+128),m[j+48]&&an(m,j+48,P,L+128+4)}function cg(m,j,P,L){var R,U=i(16);for(R=0;4>R;++R){var W=m[j+0+R]+m[j+12+R],K=m[j+4+R]+m[j+8+R],J=m[j+4+R]-m[j+8+R],ee=m[j+0+R]-m[j+12+R];U[0+R]=W+K,U[8+R]=W-K,U[4+R]=ee+J,U[12+R]=ee-J}for(R=0;4>R;++R)W=(m=U[0+4*R]+3)+U[3+4*R],K=U[1+4*R]+U[2+4*R],J=U[1+4*R]-U[2+4*R],ee=m-U[3+4*R],P[L+0]=W+K>>3,P[L+16]=ee+J>>3,P[L+32]=W-K>>3,P[L+48]=ee-J>>3,L+=64}function zc(m,j,P){var L,R=j-32,U=En,W=255-m[R-1];for(L=0;L<P;++L){var K,J=U,ee=W+m[j-1];for(K=0;K<P;++K)m[j+K]=J[ee+m[R+K]];j+=32}}function ug(m,j){zc(m,j,4)}function dg(m,j){zc(m,j,8)}function fg(m,j){zc(m,j,16)}function mi(m,j){var P;for(P=0;16>P;++P)n(m,j+32*P,m,j-32,16)}function zs(m,j){var P;for(P=16;0<P;--P)a(m,j,m[j-1],16),j+=32}function Us(m,j,P){var L;for(L=0;16>L;++L)a(j,P+32*L,m,16)}function ff(m,j){var P,L=16;for(P=0;16>P;++P)L+=m[j-1+32*P]+m[j+P-32];Us(L>>5,m,j)}function Wr(m,j){var P,L=8;for(P=0;16>P;++P)L+=m[j-1+32*P];Us(L>>4,m,j)}function hg(m,j){var P,L=8;for(P=0;16>P;++P)L+=m[j+P-32];Us(L>>4,m,j)}function hf(m,j){Us(128,m,j)}function st(m,j,P){return m+2*j+P+2>>2}function pg(m,j){var P,L=j-32;for(L=new Uint8Array([st(m[L-1],m[L+0],m[L+1]),st(m[L+0],m[L+1],m[L+2]),st(m[L+1],m[L+2],m[L+3]),st(m[L+2],m[L+3],m[L+4])]),P=0;4>P;++P)n(m,j+32*P,L,0,L.length)}function mg(m,j){var P=m[j-1],L=m[j-1+32],R=m[j-1+64],U=m[j-1+96];xe(m,j+0,16843009*st(m[j-1-32],P,L)),xe(m,j+32,16843009*st(P,L,R)),xe(m,j+64,16843009*st(L,R,U)),xe(m,j+96,16843009*st(R,U,U))}function Ga(m,j){var P,L=4;for(P=0;4>P;++P)L+=m[j+P-32]+m[j-1+32*P];for(L>>=3,P=0;4>P;++P)a(m,j+32*P,L,4)}function pf(m,j){var P=m[j-1+0],L=m[j-1+32],R=m[j-1+64],U=m[j-1-32],W=m[j+0-32],K=m[j+1-32],J=m[j+2-32],ee=m[j+3-32];m[j+0+96]=st(L,R,m[j-1+96]),m[j+1+96]=m[j+0+64]=st(P,L,R),m[j+2+96]=m[j+1+64]=m[j+0+32]=st(U,P,L),m[j+3+96]=m[j+2+64]=m[j+1+32]=m[j+0+0]=st(W,U,P),m[j+3+64]=m[j+2+32]=m[j+1+0]=st(K,W,U),m[j+3+32]=m[j+2+0]=st(J,K,W),m[j+3+0]=st(ee,J,K)}function mf(m,j){var P=m[j+1-32],L=m[j+2-32],R=m[j+3-32],U=m[j+4-32],W=m[j+5-32],K=m[j+6-32],J=m[j+7-32];m[j+0+0]=st(m[j+0-32],P,L),m[j+1+0]=m[j+0+32]=st(P,L,R),m[j+2+0]=m[j+1+32]=m[j+0+64]=st(L,R,U),m[j+3+0]=m[j+2+32]=m[j+1+64]=m[j+0+96]=st(R,U,W),m[j+3+32]=m[j+2+64]=m[j+1+96]=st(U,W,K),m[j+3+64]=m[j+2+96]=st(W,K,J),m[j+3+96]=st(K,J,J)}function Ws(m,j){var P=m[j-1+0],L=m[j-1+32],R=m[j-1+64],U=m[j-1-32],W=m[j+0-32],K=m[j+1-32],J=m[j+2-32],ee=m[j+3-32];m[j+0+0]=m[j+1+64]=U+W+1>>1,m[j+1+0]=m[j+2+64]=W+K+1>>1,m[j+2+0]=m[j+3+64]=K+J+1>>1,m[j+3+0]=J+ee+1>>1,m[j+0+96]=st(R,L,P),m[j+0+64]=st(L,P,U),m[j+0+32]=m[j+1+96]=st(P,U,W),m[j+1+32]=m[j+2+96]=st(U,W,K),m[j+2+32]=m[j+3+96]=st(W,K,J),m[j+3+32]=st(K,J,ee)}function Uc(m,j){var P=m[j+0-32],L=m[j+1-32],R=m[j+2-32],U=m[j+3-32],W=m[j+4-32],K=m[j+5-32],J=m[j+6-32],ee=m[j+7-32];m[j+0+0]=P+L+1>>1,m[j+1+0]=m[j+0+64]=L+R+1>>1,m[j+2+0]=m[j+1+64]=R+U+1>>1,m[j+3+0]=m[j+2+64]=U+W+1>>1,m[j+0+32]=st(P,L,R),m[j+1+32]=m[j+0+96]=st(L,R,U),m[j+2+32]=m[j+1+96]=st(R,U,W),m[j+3+32]=m[j+2+96]=st(U,W,K),m[j+3+64]=st(W,K,J),m[j+3+96]=st(K,J,ee)}function gg(m,j){var P=m[j-1+0],L=m[j-1+32],R=m[j-1+64],U=m[j-1+96];m[j+0+0]=P+L+1>>1,m[j+2+0]=m[j+0+32]=L+R+1>>1,m[j+2+32]=m[j+0+64]=R+U+1>>1,m[j+1+0]=st(P,L,R),m[j+3+0]=m[j+1+32]=st(L,R,U),m[j+3+32]=m[j+1+64]=st(R,U,U),m[j+3+64]=m[j+2+64]=m[j+0+96]=m[j+1+96]=m[j+2+96]=m[j+3+96]=U}function vg(m,j){var P=m[j-1+0],L=m[j-1+32],R=m[j-1+64],U=m[j-1+96],W=m[j-1-32],K=m[j+0-32],J=m[j+1-32],ee=m[j+2-32];m[j+0+0]=m[j+2+32]=P+W+1>>1,m[j+0+32]=m[j+2+64]=L+P+1>>1,m[j+0+64]=m[j+2+96]=R+L+1>>1,m[j+0+96]=U+R+1>>1,m[j+3+0]=st(K,J,ee),m[j+2+0]=st(W,K,J),m[j+1+0]=m[j+3+32]=st(P,W,K),m[j+1+32]=m[j+3+64]=st(L,P,W),m[j+1+64]=m[j+3+96]=st(R,L,P),m[j+1+96]=st(U,R,L)}function yg(m,j){var P;for(P=0;8>P;++P)n(m,j+32*P,m,j-32,8)}function Wc(m,j){var P;for(P=0;8>P;++P)a(m,j,m[j-1],8),j+=32}function ko(m,j,P){var L;for(L=0;8>L;++L)a(j,P+32*L,m,8)}function zi(m,j){var P,L=8;for(P=0;8>P;++P)L+=m[j+P-32]+m[j-1+32*P];ko(L>>4,m,j)}function bg(m,j){var P,L=4;for(P=0;8>P;++P)L+=m[j+P-32];ko(L>>3,m,j)}function To(m,j){var P,L=4;for(P=0;8>P;++P)L+=m[j-1+32*P];ko(L>>3,m,j)}function Gc(m,j){ko(128,m,j)}function Gs(m,j,P){var L=m[j-P],R=m[j+0],U=3*(R-L)+_g[1020+m[j-2*P]-m[j+P]],W=Pf[112+(U+4>>3)];m[j-P]=En[255+L+Pf[112+(U+3>>3)]],m[j+0]=En[255+R-W]}function gf(m,j,P,L){var R=m[j+0],U=m[j+P];return Wn[255+m[j-2*P]-m[j-P]]>L||Wn[255+U-R]>L}function vf(m,j,P,L){return 4*Wn[255+m[j-P]-m[j+0]]+Wn[255+m[j-2*P]-m[j+P]]<=L}function yf(m,j,P,L,R){var U=m[j-3*P],W=m[j-2*P],K=m[j-P],J=m[j+0],ee=m[j+P],le=m[j+2*P],ge=m[j+3*P];return 4*Wn[255+K-J]+Wn[255+W-ee]>L?0:Wn[255+m[j-4*P]-U]<=R&&Wn[255+U-W]<=R&&Wn[255+W-K]<=R&&Wn[255+ge-le]<=R&&Wn[255+le-ee]<=R&&Wn[255+ee-J]<=R}function bf(m,j,P,L){var R=2*L+1;for(L=0;16>L;++L)vf(m,j+L,P,R)&&Gs(m,j+L,P)}function Ha(m,j,P,L){var R=2*L+1;for(L=0;16>L;++L)vf(m,j+L*P,1,R)&&Gs(m,j+L*P,1)}function gi(m,j,P,L){var R;for(R=3;0<R;--R)bf(m,j+=4*P,P,L)}function xg(m,j,P,L){var R;for(R=3;0<R;--R)Ha(m,j+=4,P,L)}function Ui(m,j,P,L,R,U,W,K){for(U=2*U+1;0<R--;){if(yf(m,j,P,U,W))if(gf(m,j,P,K))Gs(m,j,P);else{var J=m,ee=j,le=P,ge=J[ee-2*le],ve=J[ee-le],he=J[ee+0],Oe=J[ee+le],we=J[ee+2*le],ce=27*(_e=_g[1020+3*(he-ve)+_g[1020+ge-Oe]])+63>>7,ue=18*_e+63>>7,_e=9*_e+63>>7;J[ee-3*le]=En[255+J[ee-3*le]+_e],J[ee-2*le]=En[255+ge+ue],J[ee-le]=En[255+ve+ce],J[ee+0]=En[255+he-ce],J[ee+le]=En[255+Oe-ue],J[ee+2*le]=En[255+we-_e]}j+=L}}function va(m,j,P,L,R,U,W,K){for(U=2*U+1;0<R--;){if(yf(m,j,P,U,W))if(gf(m,j,P,K))Gs(m,j,P);else{var J=m,ee=j,le=P,ge=J[ee-le],ve=J[ee+0],he=J[ee+le],Oe=Pf[112+((we=3*(ve-ge))+4>>3)],we=Pf[112+(we+3>>3)],ce=Oe+1>>1;J[ee-2*le]=En[255+J[ee-2*le]+ce],J[ee-le]=En[255+ge+we],J[ee+0]=En[255+ve-Oe],J[ee+le]=En[255+he-ce]}j+=L}}function Hc(m,j,P,L,R,U){Ui(m,j,P,1,16,L,R,U)}function Co(m,j,P,L,R,U){Ui(m,j,1,P,16,L,R,U)}function wg(m,j,P,L,R,U){var W;for(W=3;0<W;--W)va(m,j+=4*P,P,1,16,L,R,U)}function Hs(m,j,P,L,R,U){var W;for(W=3;0<W;--W)va(m,j+=4,1,P,16,L,R,U)}function jg(m,j,P,L,R,U,W,K){Ui(m,j,R,1,8,U,W,K),Ui(P,L,R,1,8,U,W,K)}function Vc(m,j,P,L,R,U,W,K){Ui(m,j,1,R,8,U,W,K),Ui(P,L,1,R,8,U,W,K)}function Yc(m,j,P,L,R,U,W,K){va(m,j+4*R,R,1,8,U,W,K),va(P,L+4*R,R,1,8,U,W,K)}function xf(m,j,P,L,R,U,W,K){va(m,j+4,1,R,8,U,W,K),va(P,L+4,1,R,8,U,W,K)}function Vs(){this.ba=new da,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new nr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Kc(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Xc(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function wf(){this.ua=0,this.Wa=new ne,this.vb=new ne,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new I,this.yc=new T}function Ng(){this.xb=this.a=0,this.l=new Bs,this.ca=new da,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new M,this.Pb=0,this.wd=new M,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new wf,this.ab=0,this.gc=o(4,Xc),this.Oc=0}function Ys(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Bs,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Lo(m,j,P,L,R,U,W){for(m=m==null?0:m[j+0],j=0;j<W;++j)R[U+j]=m+P[L+j]&255,m=R[U+j]}function Jc(m,j,P,L,R,U,W){var K;if(m==null)Lo(null,null,P,L,R,U,W);else for(K=0;K<W;++K)R[U+K]=m[j+K]+P[L+K]&255}function Wi(m,j,P,L,R,U,W){if(m==null)Lo(null,null,P,L,R,U,W);else{var K,J=m[j+0],ee=J,le=J;for(K=0;K<W;++K)ee=le+(J=m[j+K])-ee,le=P[L+K]+(-256&ee?0>ee?0:255:ee)&255,ee=J,R[U+K]=le}}function Zc(m,j,P,L){var R=j.width,U=j.o;if(t(m!=null&&j!=null),0>P||0>=L||P+L>U)return null;if(!m.Cc){if(m.ga==null){var W;if(m.ga=new Ys,(W=m.ga==null)||(W=j.width*j.o,t(m.Gb.length==0),m.Gb=i(W),m.Uc=0,m.Gb==null?W=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,W=1),W=!W),!W){W=m.ga;var K=m.Fa,J=m.P,ee=m.qc,le=m.mb,ge=m.nb,ve=J+1,he=ee-1,Oe=W.l;if(t(K!=null&&le!=null&&j!=null),Xi[0]=null,Xi[1]=Lo,Xi[2]=Jc,Xi[3]=Wi,W.ca=le,W.tb=ge,W.c=j.width,W.i=j.height,t(0<W.c&&0<W.i),1>=ee)j=0;else if(W.$a=K[J+0]>>0&3,W.Z=K[J+0]>>2&3,W.Lc=K[J+0]>>4&3,J=K[J+0]>>6&3,0>W.$a||1<W.$a||4<=W.Z||1<W.Lc||J)j=0;else if(Oe.put=Ba,Oe.ac=Rr,Oe.bc=qa,Oe.ma=W,Oe.width=j.width,Oe.height=j.height,Oe.Da=j.Da,Oe.v=j.v,Oe.va=j.va,Oe.j=j.j,Oe.o=j.o,W.$a)e:{t(W.$a==1),j=Fn();t:for(;;){if(j==null){j=0;break e}if(t(W!=null),W.mc=j,j.c=W.c,j.i=W.i,j.l=W.l,j.l.ma=W,j.l.width=W.c,j.l.height=W.i,j.a=0,Q(j.m,K,ve,he),!Wa(W.c,W.i,1,j,null)||(j.ab==1&&j.gc[0].hc==3&&pi(j.s)?(W.ic=1,K=j.c*j.i,j.Ta=null,j.Ua=0,j.V=i(K),j.Ba=0,j.V==null?(j.a=1,j=0):j=1):(W.ic=0,j=Eo(j,W.c)),!j))break t;j=1;break e}W.mc=null,j=0}else j=he>=W.c*W.i;W=!j}if(W)return null;m.ga.Lc!=1?m.Ga=0:L=U-P}t(m.ga!=null),t(P+L<=U);e:{if(j=(K=m.ga).c,U=K.l.o,K.$a==0){if(ve=m.rc,he=m.Vc,Oe=m.Fa,J=m.P+1+P*j,ee=m.mb,le=m.nb+P*j,t(J<=m.P+m.qc),K.Z!=0)for(t(Xi[K.Z]!=null),W=0;W<L;++W)Xi[K.Z](ve,he,Oe,J,ee,le,j),ve=ee,he=le,le+=j,J+=j;else for(W=0;W<L;++W)n(ee,le,Oe,J,j),ve=ee,he=le,le+=j,J+=j;m.rc=ve,m.Vc=he}else{if(t(K.mc!=null),j=P+L,t((W=K.mc)!=null),t(j<=W.i),W.C>=j)j=1;else if(K.ic||me(),K.ic){K=W.V,ve=W.Ba,he=W.c;var we=W.i,ce=(Oe=1,J=W.$/he,ee=W.$%he,le=W.m,ge=W.s,W.$),ue=he*we,_e=he*j,Pe=ge.wc,Ae=ce<_e?vr(ge,ee,J):null;t(ce<=ue),t(j<=we),t(pi(ge));t:for(;;){for(;!le.h&&ce<_e;){if(ee&Pe||(Ae=vr(ge,ee,J)),t(Ae!=null),ie(le),256>(we=hn(Ae.G[0],Ae.H[0],le)))K[ve+ce]=we,++ce,++ee>=he&&(ee=0,++J<=j&&!(J%16)&&pa(W,J));else{if(!(280>we)){Oe=0;break t}we=fa(we-256,le);var ze,Ie=hn(Ae.G[4],Ae.H[4],le);if(ie(le),!(ce>=(Ie=za(he,Ie=fa(Ie,le)))&&ue-ce>=we)){Oe=0;break t}for(ze=0;ze<we;++ze)K[ve+ce+ze]=K[ve+ce+ze-Ie];for(ce+=we,ee+=we;ee>=he;)ee-=he,++J<=j&&!(J%16)&&pa(W,J);ce<_e&&ee&Pe&&(Ae=vr(ge,ee,J))}t(le.h==Z(le))}pa(W,J>j?j:J);break t}!Oe||le.h&&ce<ue?(Oe=0,W.a=le.h?5:3):W.$=ce,j=Oe}else j=ma(W,W.V,W.Ba,W.c,W.i,j,$s);if(!j){L=0;break e}}P+L>=U&&(m.Cc=1),L=1}if(!L)return null;if(m.Cc&&((L=m.ga)!=null&&(L.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+P*R}function S(m,j,P,L,R,U){for(;0<R--;){var W,K=m,J=j+(P?1:0),ee=m,le=j+(P?0:3);for(W=0;W<L;++W){var ge=ee[le+4*W];ge!=255&&(ge*=32897,K[J+4*W+0]=K[J+4*W+0]*ge>>23,K[J+4*W+1]=K[J+4*W+1]*ge>>23,K[J+4*W+2]=K[J+4*W+2]*ge>>23)}j+=U}}function B(m,j,P,L,R){for(;0<L--;){var U;for(U=0;U<P;++U){var W=m[j+2*U+0],K=15&(ee=m[j+2*U+1]),J=4369*K,ee=(240&ee|ee>>4)*J>>16;m[j+2*U+0]=(240&W|W>>4)*J>>16&240|(15&W|W<<4)*J>>16>>4&15,m[j+2*U+1]=240&ee|K}j+=R}}function re(m,j,P,L,R,U,W,K){var J,ee,le=255;for(ee=0;ee<R;++ee){for(J=0;J<L;++J){var ge=m[j+J];U[W+4*J]=ge,le&=ge}j+=P,W+=K}return le!=255}function se(m,j,P,L,R){var U;for(U=0;U<R;++U)P[L+U]=m[j+U]>>8}function me(){Un=S,zt=B,Ut=re,fr=se}function je(m,j,P){E[m]=function(L,R,U,W,K,J,ee,le,ge,ve,he,Oe,we,ce,ue,_e,Pe){var Ae,ze=Pe-1>>1,Ie=K[J+0]|ee[le+0]<<16,Je=ge[ve+0]|he[Oe+0]<<16;t(L!=null);var Re=3*Ie+Je+131074>>2;for(j(L[R+0],255&Re,Re>>16,we,ce),U!=null&&(Re=3*Je+Ie+131074>>2,j(U[W+0],255&Re,Re>>16,ue,_e)),Ae=1;Ae<=ze;++Ae){var Pt=K[J+Ae]|ee[le+Ae]<<16,Tt=ge[ve+Ae]|he[Oe+Ae]<<16,St=Ie+Pt+Je+Tt+524296,bt=St+2*(Pt+Je)>>3;Re=bt+Ie>>1,Ie=(St=St+2*(Ie+Tt)>>3)+Pt>>1,j(L[R+2*Ae-1],255&Re,Re>>16,we,ce+(2*Ae-1)*P),j(L[R+2*Ae-0],255&Ie,Ie>>16,we,ce+(2*Ae-0)*P),U!=null&&(Re=St+Je>>1,Ie=bt+Tt>>1,j(U[W+2*Ae-1],255&Re,Re>>16,ue,_e+(2*Ae-1)*P),j(U[W+2*Ae+0],255&Ie,Ie>>16,ue,_e+(2*Ae+0)*P)),Ie=Pt,Je=Tt}1&Pe||(Re=3*Ie+Je+131074>>2,j(L[R+Pe-1],255&Re,Re>>16,we,ce+(Pe-1)*P),U!=null&&(Re=3*Je+Ie+131074>>2,j(U[W+Pe-1],255&Re,Re>>16,ue,_e+(Pe-1)*P)))}}function Te(){Gn[Ef]=YO,Gn[kf]=$x,Gn[kx]=KO,Gn[Tf]=Dx,Gn[Cf]=Ix,Gn[Ag]=Rx,Gn[Tx]=XO,Gn[Og]=$x,Gn[Pg]=Dx,Gn[Lf]=Ix,Gn[Eg]=Rx}function qe(m){return m&-16384?0>m?0:255:m>>JO}function Ke(m,j){return qe((19077*m>>8)+(26149*j>>8)-14234)}function dt(m,j,P){return qe((19077*m>>8)-(6419*j>>8)-(13320*P>>8)+8708)}function ct(m,j){return qe((19077*m>>8)+(33050*j>>8)-17685)}function jt(m,j,P,L,R){L[R+0]=Ke(m,P),L[R+1]=dt(m,j,P),L[R+2]=ct(m,j)}function tr(m,j,P,L,R){L[R+0]=ct(m,j),L[R+1]=dt(m,j,P),L[R+2]=Ke(m,P)}function ar(m,j,P,L,R){var U=dt(m,j,P);j=U<<3&224|ct(m,j)>>3,L[R+0]=248&Ke(m,P)|U>>5,L[R+1]=j}function yr(m,j,P,L,R){var U=240&ct(m,j)|15;L[R+0]=240&Ke(m,P)|dt(m,j,P)>>4,L[R+1]=U}function Gr(m,j,P,L,R){L[R+0]=255,jt(m,j,P,L,R+1)}function Tr(m,j,P,L,R){tr(m,j,P,L,R),L[R+3]=255}function ya(m,j,P,L,R){jt(m,j,P,L,R),L[R+3]=255}function Pn(m,j){return 0>m?0:m>j?j:m}function Va(m,j,P){E[m]=function(L,R,U,W,K,J,ee,le,ge){for(var ve=le+(-2&ge)*P;le!=ve;)j(L[R+0],U[W+0],K[J+0],ee,le),j(L[R+1],U[W+0],K[J+0],ee,le+P),R+=2,++W,++J,le+=2*P;1&ge&&j(L[R+0],U[W+0],K[J+0],ee,le)}}function jf(m,j,P){return P==0?m==0?j==0?6:5:j==0?4:0:P}function Qc(m,j,P,L,R){switch(m>>>30){case 3:bi(j,P,L,R,0);break;case 2:dr(j,P,L,R);break;case 1:an(j,P,L,R)}}function eu(m,j){var P,L,R=j.M,U=j.Nb,W=m.oc,K=m.pc+40,J=m.oc,ee=m.pc+584,le=m.oc,ge=m.pc+600;for(P=0;16>P;++P)W[K+32*P-1]=129;for(P=0;8>P;++P)J[ee+32*P-1]=129,le[ge+32*P-1]=129;for(0<R?W[K-1-32]=J[ee-1-32]=le[ge-1-32]=129:(a(W,K-32-1,127,21),a(J,ee-32-1,127,9),a(le,ge-32-1,127,9)),L=0;L<m.za;++L){var ve=j.ya[j.aa+L];if(0<L){for(P=-1;16>P;++P)n(W,K+32*P-4,W,K+32*P+12,4);for(P=-1;8>P;++P)n(J,ee+32*P-4,J,ee+32*P+4,4),n(le,ge+32*P-4,le,ge+32*P+4,4)}var he=m.Gd,Oe=m.Hd+L,we=ve.ad,ce=ve.Hc;if(0<R&&(n(W,K-32,he[Oe].y,0,16),n(J,ee-32,he[Oe].f,0,8),n(le,ge-32,he[Oe].ea,0,8)),ve.Za){var ue=W,_e=K-32+16;for(0<R&&(L>=m.za-1?a(ue,_e,he[Oe].y[15],4):n(ue,_e,he[Oe+1].y,0,4)),P=0;4>P;P++)ue[_e+128+P]=ue[_e+256+P]=ue[_e+384+P]=ue[_e+0+P];for(P=0;16>P;++P,ce<<=2)ue=W,_e=K+Bx[P],ba[ve.Ob[P]](ue,_e),Qc(ce,we,16*+P,ue,_e)}else if(ue=jf(L,R,ve.Ob[0]),Ki[ue](W,K),ce!=0)for(P=0;16>P;++P,ce<<=2)Qc(ce,we,16*+P,W,K+Bx[P]);for(P=ve.Gc,ue=jf(L,R,ve.Dd),wi[ue](J,ee),wi[ue](le,ge),ce=we,ue=J,_e=ee,255&(ve=P>>0)&&(170&ve?iu(ce,256,ue,_e):qn(ce,256,ue,_e)),ve=le,ce=ge,255&(P>>=8)&&(170&P?iu(we,320,ve,ce):qn(we,320,ve,ce)),R<m.Ub-1&&(n(he[Oe].y,0,W,K+480,16),n(he[Oe].f,0,J,ee+224,8),n(he[Oe].ea,0,le,ge+224,8)),P=8*U*m.B,he=m.sa,Oe=m.ta+16*L+16*U*m.R,we=m.qa,ve=m.ra+8*L+P,ce=m.Ha,ue=m.Ia+8*L+P,P=0;16>P;++P)n(he,Oe+P*m.R,W,K+32*P,16);for(P=0;8>P;++P)n(we,ve+P*m.B,J,ee+32*P,8),n(ce,ue+P*m.B,le,ge+32*P,8)}}function Ks(m,j,P,L,R,U,W,K,J){var ee=[0],le=[0],ge=0,ve=J!=null?J.kd:0,he=J??new Kc;if(m==null||12>P)return 7;he.data=m,he.w=j,he.ha=P,j=[j],P=[P],he.gb=[he.gb];e:{var Oe=j,we=P,ce=he.gb;if(t(m!=null),t(we!=null),t(ce!=null),ce[0]=0,12<=we[0]&&!r(m,Oe[0],"RIFF")){if(r(m,Oe[0]+8,"WEBP")){ce=3;break e}var ue=Ee(m,Oe[0]+4);if(12>ue||4294967286<ue){ce=3;break e}if(ve&&ue>we[0]-8){ce=7;break e}ce[0]=ue,Oe[0]+=12,we[0]-=12}ce=0}if(ce!=0)return ce;for(ue=0<he.gb[0],P=P[0];;){e:{var _e=m;we=j,ce=P;var Pe=ee,Ae=le,ze=Oe=[0];if((Re=ge=[ge])[0]=0,8>ce[0])ce=7;else{if(!r(_e,we[0],"VP8X")){if(Ee(_e,we[0]+4)!=10){ce=3;break e}if(18>ce[0]){ce=7;break e}var Ie=Ee(_e,we[0]+8),Je=1+pe(_e,we[0]+12);if(2147483648<=Je*(_e=1+pe(_e,we[0]+15))){ce=3;break e}ze!=null&&(ze[0]=Ie),Pe!=null&&(Pe[0]=Je),Ae!=null&&(Ae[0]=_e),we[0]+=18,ce[0]-=18,Re[0]=1}ce=0}}if(ge=ge[0],Oe=Oe[0],ce!=0)return ce;if(we=!!(2&Oe),!ue&&ge)return 3;if(U!=null&&(U[0]=!!(16&Oe)),W!=null&&(W[0]=we),K!=null&&(K[0]=0),W=ee[0],Oe=le[0],ge&&we&&J==null){ce=0;break}if(4>P){ce=7;break}if(ue&&ge||!ue&&!ge&&!r(m,j[0],"ALPH")){P=[P],he.na=[he.na],he.P=[he.P],he.Sa=[he.Sa];e:{Ie=m,ce=j,ue=P;var Re=he.gb;Pe=he.na,Ae=he.P,ze=he.Sa,Je=22,t(Ie!=null),t(ue!=null),_e=ce[0];var Pt=ue[0];for(t(Pe!=null),t(ze!=null),Pe[0]=null,Ae[0]=null,ze[0]=0;;){if(ce[0]=_e,ue[0]=Pt,8>Pt){ce=7;break e}var Tt=Ee(Ie,_e+4);if(4294967286<Tt){ce=3;break e}var St=8+Tt+1&-2;if(Je+=St,0<Re&&Je>Re){ce=3;break e}if(!r(Ie,_e,"VP8 ")||!r(Ie,_e,"VP8L")){ce=0;break e}if(Pt[0]<St){ce=7;break e}r(Ie,_e,"ALPH")||(Pe[0]=Ie,Ae[0]=_e+8,ze[0]=Tt),_e+=St,Pt-=St}}if(P=P[0],he.na=he.na[0],he.P=he.P[0],he.Sa=he.Sa[0],ce!=0)break}P=[P],he.Ja=[he.Ja],he.xa=[he.xa];e:if(Re=m,ce=j,ue=P,Pe=he.gb[0],Ae=he.Ja,ze=he.xa,Ie=ce[0],_e=!r(Re,Ie,"VP8 "),Je=!r(Re,Ie,"VP8L"),t(Re!=null),t(ue!=null),t(Ae!=null),t(ze!=null),8>ue[0])ce=7;else{if(_e||Je){if(Re=Ee(Re,Ie+4),12<=Pe&&Re>Pe-12){ce=3;break e}if(ve&&Re>ue[0]-8){ce=7;break e}Ae[0]=Re,ce[0]+=8,ue[0]-=8,ze[0]=Je}else ze[0]=5<=ue[0]&&Re[Ie+0]==47&&!(Re[Ie+4]>>5),Ae[0]=ue[0];ce=0}if(P=P[0],he.Ja=he.Ja[0],he.xa=he.xa[0],j=j[0],ce!=0)break;if(4294967286<he.Ja)return 3;if(K==null||we||(K[0]=he.xa?2:1),W=[W],Oe=[Oe],he.xa){if(5>P){ce=7;break}K=W,ve=Oe,we=U,m==null||5>P?m=0:5<=P&&m[j+0]==47&&!(m[j+4]>>5)?(ue=[0],Re=[0],Pe=[0],Q(Ae=new M,m,j,P),Qe(Ae,ue,Re,Pe)?(K!=null&&(K[0]=ue[0]),ve!=null&&(ve[0]=Re[0]),we!=null&&(we[0]=Pe[0]),m=1):m=0):m=0}else{if(10>P){ce=7;break}K=Oe,m==null||10>P||!of(m,j+3,P-3)?m=0:(ve=m[j+0]|m[j+1]<<8|m[j+2]<<16,we=16383&(m[j+7]<<8|m[j+6]),m=16383&(m[j+9]<<8|m[j+8]),1&ve||3<(ve>>1&7)||!(ve>>4&1)||ve>>5>=he.Ja||!we||!m?m=0:(W&&(W[0]=we),K&&(K[0]=m),m=1))}if(!m||(W=W[0],Oe=Oe[0],ge&&(ee[0]!=W||le[0]!=Oe)))return 3;J!=null&&(J[0]=he,J.offset=j-J.w,t(4294967286>j-J.w),t(J.offset==J.ha-P));break}return ce==0||ce==7&&ge&&J==null?(U!=null&&(U[0]|=he.na!=null&&0<he.na.length),L!=null&&(L[0]=W),R!=null&&(R[0]=Oe),0):ce}function tu(m,j,P){var L=j.width,R=j.height,U=0,W=0,K=L,J=R;if(j.Da=m!=null&&0<m.Da,j.Da&&(K=m.cd,J=m.bd,U=m.v,W=m.j,11>P||(U&=-2,W&=-2),0>U||0>W||0>=K||0>=J||U+K>L||W+J>R))return 0;if(j.v=U,j.j=W,j.va=U+K,j.o=W+J,j.U=K,j.T=J,j.da=m!=null&&0<m.da,j.da){if(!Ye(K,J,P=[m.ib],U=[m.hb]))return 0;j.ib=P[0],j.hb=U[0]}return j.ob=m!=null&&m.ob,j.Kb=m==null||!m.Sd,j.da&&(j.ob=j.ib<3*L/4&&j.hb<3*R/4,j.Kb=0),1}function ru(m){if(m==null)return 2;if(11>m.S){var j=m.f.RGBA;j.fb+=(m.height-1)*j.A,j.A=-j.A}else j=m.f.kb,m=m.height,j.O+=(m-1)*j.fa,j.fa=-j.fa,j.N+=(m-1>>1)*j.Ab,j.Ab=-j.Ab,j.W+=(m-1>>1)*j.Db,j.Db=-j.Db,j.F!=null&&(j.J+=(m-1)*j.lb,j.lb=-j.lb);return 0}function Xs(m,j,P,L){if(L==null||0>=m||0>=j)return 2;if(P!=null){if(P.Da){var R=P.cd,U=P.bd,W=-2&P.v,K=-2&P.j;if(0>W||0>K||0>=R||0>=U||W+R>m||K+U>j)return 2;m=R,j=U}if(P.da){if(!Ye(m,j,R=[P.ib],U=[P.hb]))return 2;m=R[0],j=U[0]}}L.width=m,L.height=j;e:{var J=L.width,ee=L.height;if(m=L.S,0>=J||0>=ee||!(m>=Ef&&13>m))m=2;else{if(0>=L.Rd&&L.sd==null){W=U=R=j=0;var le=(K=J*qx[m])*ee;if(11>m||(U=(ee+1)/2*(j=(J+1)/2),m==12&&(W=(R=J)*ee)),(ee=i(le+2*U+W))==null){m=1;break e}L.sd=ee,11>m?((J=L.f.RGBA).eb=ee,J.fb=0,J.A=K,J.size=le):((J=L.f.kb).y=ee,J.O=0,J.fa=K,J.Fd=le,J.f=ee,J.N=0+le,J.Ab=j,J.Cd=U,J.ea=ee,J.W=0+le+U,J.Db=j,J.Ed=U,m==12&&(J.F=ee,J.J=0+le+2*U),J.Tc=W,J.lb=R)}if(j=1,R=L.S,U=L.width,W=L.height,R>=Ef&&13>R)if(11>R)m=L.f.RGBA,j&=(K=Math.abs(m.A))*(W-1)+U<=m.size,j&=K>=U*qx[R],j&=m.eb!=null;else{m=L.f.kb,K=(U+1)/2,le=(W+1)/2,J=Math.abs(m.fa),ee=Math.abs(m.Ab);var ge=Math.abs(m.Db),ve=Math.abs(m.lb),he=ve*(W-1)+U;j&=J*(W-1)+U<=m.Fd,j&=ee*(le-1)+K<=m.Cd,j=(j&=ge*(le-1)+K<=m.Ed)&J>=U&ee>=K&ge>=K,j&=m.y!=null,j&=m.f!=null,j&=m.ea!=null,R==12&&(j&=ve>=U,j&=he<=m.Tc,j&=m.F!=null)}else j=0;m=j?0:2}}return m!=0||P!=null&&P.fd&&(m=ru(L)),m}var Fr=64,Js=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Zs=24,Qs=32,nu=8,mn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ce("Predictor0","PredictorAdd0"),E.Predictor0=function(){return 4278190080},E.Predictor1=function(m){return m},E.Predictor2=function(m,j,P){return j[P+0]},E.Predictor3=function(m,j,P){return j[P+1]},E.Predictor4=function(m,j,P){return j[P-1]},E.Predictor5=function(m,j,P){return Me(Me(m,j[P+1]),j[P+0])},E.Predictor6=function(m,j,P){return Me(m,j[P-1])},E.Predictor7=function(m,j,P){return Me(m,j[P+0])},E.Predictor8=function(m,j,P){return Me(j[P-1],j[P+0])},E.Predictor9=function(m,j,P){return Me(j[P+0],j[P+1])},E.Predictor10=function(m,j,P){return Me(Me(m,j[P-1]),Me(j[P+0],j[P+1]))},E.Predictor11=function(m,j,P){var L=j[P+0];return 0>=it(L>>24&255,m>>24&255,(j=j[P-1])>>24&255)+it(L>>16&255,m>>16&255,j>>16&255)+it(L>>8&255,m>>8&255,j>>8&255)+it(255&L,255&m,255&j)?L:m},E.Predictor12=function(m,j,P){var L=j[P+0];return(Ve((m>>24&255)+(L>>24&255)-((j=j[P-1])>>24&255))<<24|Ve((m>>16&255)+(L>>16&255)-(j>>16&255))<<16|Ve((m>>8&255)+(L>>8&255)-(j>>8&255))<<8|Ve((255&m)+(255&L)-(255&j)))>>>0},E.Predictor13=function(m,j,P){var L=j[P-1];return(Ze((m=Me(m,j[P+0]))>>24&255,L>>24&255)<<24|Ze(m>>16&255,L>>16&255)<<16|Ze(m>>8&255,L>>8&255)<<8|Ze(m>>0&255,L>>0&255))>>>0};var Sg=E.PredictorAdd0;E.PredictorAdd1=pt,Ce("Predictor2","PredictorAdd2"),Ce("Predictor3","PredictorAdd3"),Ce("Predictor4","PredictorAdd4"),Ce("Predictor5","PredictorAdd5"),Ce("Predictor6","PredictorAdd6"),Ce("Predictor7","PredictorAdd7"),Ce("Predictor8","PredictorAdd8"),Ce("Predictor9","PredictorAdd9"),Ce("Predictor10","PredictorAdd10"),Ce("Predictor11","PredictorAdd11"),Ce("Predictor12","PredictorAdd12"),Ce("Predictor13","PredictorAdd13");var au=E.PredictorAdd2;vt("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),vt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var Nf,Bn=E.ColorIndexInverseTransform,el=E.MapARGB,Sf=E.VP8LColorIndexInverseTransformAlpha,_f=E.MapAlpha,Gi=E.VP8LPredictorsAdd=[];Gi.length=16,(E.VP8LPredictors=[]).length=16,(E.VP8LPredictorsAdd_C=[]).length=16,(E.VP8LPredictors_C=[]).length=16;var Mo,gn,nn,Hi,vi,yi,tl,bi,dr,iu,an,qn,rl,Af,ou,$o,Do,Vi,Io,nl,Ro,Yi,su,zn,Un,zt,Ut,fr,Sr=i(511),xi=i(2041),lu=i(225),al=i(767),Of=0,_g=xi,Pf=lu,En=al,Wn=Sr,Ef=0,kf=1,kx=2,Tf=3,Cf=4,Ag=5,Tx=6,Og=7,Pg=8,Lf=9,Eg=10,MO=[2,3,7],$O=[3,3,11],Cx=[280,256,256,256,40],DO=[0,1,1,1,0],IO=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],RO=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],FO=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],BO=8,kg=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Tg=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],cu=null,qO=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],zO=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Lx=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],UO=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],WO=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],GO=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],HO=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ki=[],ba=[],wi=[],VO=1,Mx=2,Xi=[],Gn=[];je("UpsampleRgbLinePair",jt,3),je("UpsampleBgrLinePair",tr,3),je("UpsampleRgbaLinePair",ya,4),je("UpsampleBgraLinePair",Tr,4),je("UpsampleArgbLinePair",Gr,4),je("UpsampleRgba4444LinePair",yr,2),je("UpsampleRgb565LinePair",ar,2);var YO=E.UpsampleRgbLinePair,KO=E.UpsampleBgrLinePair,$x=E.UpsampleRgbaLinePair,Dx=E.UpsampleBgraLinePair,Ix=E.UpsampleArgbLinePair,Rx=E.UpsampleRgba4444LinePair,XO=E.UpsampleRgb565LinePair,Mf=16,$f=1<<Mf-1,uu=-227,Cg=482,JO=6,Fx=0,ZO=i(256),QO=i(256),eP=i(256),tP=i(256),rP=i(Cg-uu),nP=i(Cg-uu);Va("YuvToRgbRow",jt,3),Va("YuvToBgrRow",tr,3),Va("YuvToRgbaRow",ya,4),Va("YuvToBgraRow",Tr,4),Va("YuvToArgbRow",Gr,4),Va("YuvToRgba4444Row",yr,2),Va("YuvToRgb565Row",ar,2);var Bx=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Df=[0,2,8],aP=[8,7,6,4,4,2,2,2,1,1,1,1],iP=1;this.WebPDecodeRGBA=function(m,j,P,L,R){var U=kf,W=new Vs,K=new da;W.ba=K,K.S=U,K.width=[K.width],K.height=[K.height];var J=K.width,ee=K.height,le=new hi;if(le==null||m==null)var ge=2;else t(le!=null),ge=Ks(m,j,P,le.width,le.height,le.Pd,le.Qd,le.format,null);if(ge!=0?J=0:(J!=null&&(J[0]=le.width[0]),ee!=null&&(ee[0]=le.height[0]),J=1),J){K.width=K.width[0],K.height=K.height[0],L!=null&&(L[0]=K.width),R!=null&&(R[0]=K.height);e:{if(L=new Bs,(R=new Kc).data=m,R.w=j,R.ha=P,R.kd=1,j=[0],t(R!=null),((m=Ks(R.data,R.w,R.ha,null,null,null,j,null,R))==0||m==7)&&j[0]&&(m=4),(j=m)==0){if(t(W!=null),L.data=R.data,L.w=R.w+R.offset,L.ha=R.ha-R.offset,L.put=Ba,L.ac=Rr,L.bc=qa,L.ma=W,R.xa){if((m=Fn())==null){W=1;break e}if(function(ve,he){var Oe=[0],we=[0],ce=[0];t:for(;;){if(ve==null)return 0;if(he==null)return ve.a=2,0;if(ve.l=he,ve.a=0,Q(ve.m,he.data,he.w,he.ha),!Qe(ve.m,Oe,we,ce)){ve.a=3;break t}if(ve.xb=Mx,he.width=Oe[0],he.height=we[0],!Wa(Oe[0],we[0],1,ve,null))break t;return 1}return t(ve.a!=0),0}(m,L)){if(L=(j=Xs(L.width,L.height,W.Oa,W.ba))==0){t:{L=m;r:for(;;){if(L==null){L=0;break t}if(t(L.s.yc!=null),t(L.s.Ya!=null),t(0<L.s.Wb),t((P=L.l)!=null),t((R=P.ma)!=null),L.xb!=0){if(L.ca=R.ba,L.tb=R.tb,t(L.ca!=null),!tu(R.Oa,P,Tf)){L.a=2;break r}if(!Eo(L,P.width)||P.da)break r;if((P.da||Et(L.ca.S))&&me(),11>L.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),L.ca.f.kb.F!=null&&me()),L.Pb&&0<L.s.ua&&L.s.vb.X==null&&!$e(L.s.vb,L.s.Wa.Xa)){L.a=1;break r}L.xb=0}if(!ma(L,L.V,L.Ba,L.c,L.i,P.o,Ms))break r;R.Dc=L.Ma,L=1;break t}t(L.a!=0),L=0}L=!L}L&&(j=m.a)}else j=m.a}else{if((m=new ig)==null){W=1;break e}if(m.Fa=R.na,m.P=R.P,m.qc=R.Sa,sf(m,L)){if((j=Xs(L.width,L.height,W.Oa,W.ba))==0){if(m.Aa=0,P=W.Oa,t((R=m)!=null),P!=null){if(0<(J=0>(J=P.Md)?0:100<J?255:255*J/100)){for(ee=le=0;4>ee;++ee)12>(ge=R.pb[ee]).lc&&(ge.ia=J*aP[0>ge.lc?0:ge.lc]>>3),le|=ge.ia;le&&(alert("todo:VP8InitRandom"),R.ia=1)}R.Ga=P.Id,100<R.Ga?R.Ga=100:0>R.Ga&&(R.Ga=0)}og(m,L)||(j=m.a)}}else j=m.a}j==0&&W.Oa!=null&&W.Oa.fd&&(j=ru(W.ba))}W=j}U=W!=0?null:11>U?K.f.RGBA.eb:K.f.kb.y}else U=null;return U};var qx=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(E,C){for(var D="",k=0;k<4;k++)D+=String.fromCharCode(E[C++]);return D}function d(E,C){return(E[C+0]<<0|E[C+1]<<8|E[C+2]<<16)>>>0}function f(E,C){return(E[C+0]<<0|E[C+1]<<8|E[C+2]<<16|E[C+3]<<24)>>>0}new c;var p=[0],h=[0],v=[],g=new c,y=e,x=function(E,C){var D={},k=0,T=!1,$=0,I=0;if(D.frames=[],!function(z,Z,te,ie){for(var fe=0;fe<ie;fe++)if(z[Z+fe]!=te.charCodeAt(fe))return!0;return!1}(E,C,"RIFF",4)){for(f(E,C+=4),C+=8;C<E.length;){var H=u(E,C),V=f(E,C+=4);C+=4;var X=V+(1&V);switch(H){case"VP8 ":case"VP8L":D.frames[k]===void 0&&(D.frames[k]={}),(G=D.frames[k]).src_off=T?I:C-8,G.src_size=$+V+8,k++,T&&(T=!1,$=0,I=0);break;case"VP8X":(G=D.header={}).feature_flags=E[C];var Q=C+4;G.canvas_width=1+d(E,Q),Q+=3,G.canvas_height=1+d(E,Q),Q+=3;break;case"ALPH":T=!0,$=X+8,I=C-8;break;case"ANIM":(G=D.header).bgcolor=f(E,C),Q=C+4,G.loop_count=(ae=E)[(M=Q)+0]<<0|ae[M+1]<<8,Q+=2;break;case"ANMF":var Y,G;(G=D.frames[k]={}).offset_x=2*d(E,C),C+=3,G.offset_y=2*d(E,C),C+=3,G.width=1+d(E,C),C+=3,G.height=1+d(E,C),C+=3,G.duration=d(E,C),C+=3,Y=E[C++],G.dispose=1&Y,G.blend=Y>>1&1}H!="ANMF"&&(C+=X)}var ae,M;return D}}(y,0);x.response=y,x.rgbaoutput=!0,x.dataurl=!1;var w=x.header?x.header:null,N=x.frames?x.frames:null;if(w){w.loop_counter=w.loop_count,p=[w.canvas_height],h=[w.canvas_width];for(var _=0;_<N.length&&N[_].blend!=0;_++);}var b=N[0],A=g.WebPDecodeRGBA(y,b.src_off,b.src_size,h,p);b.rgba=A,b.imgwidth=h[0],b.imgheight=p[0];for(var O=0;O<h[0]*p[0]*4;O++)v[O]=A[O];return this.width=h,this.height=p,this.data=v,this}(function(e){var t=function(){return typeof Gv=="function"},r=function(p,h,v,g){var y=4,x=o;switch(g){case e.image_compression.FAST:y=1,x=i;break;case e.image_compression.MEDIUM:y=6,x=s;break;case e.image_compression.SLOW:y=9,x=c}p=n(p,h,v,x);var w=Gv(p,{level:y});return e.__addimage__.arrayBufferToBinaryString(w)},n=function(p,h,v,g){for(var y,x,w,N=p.length/h,_=new Uint8Array(p.length+N),b=d(),A=0;A<N;A+=1){if(w=A*h,y=p.subarray(w,w+h),g)_.set(g(y,v,x),w+A);else{for(var O,E=b.length,C=[];O<E;O+=1)C[O]=b[O](y,v,x);var D=f(C.concat());_.set(C[D],w+A)}x=y}return _},a=function(p){var h=Array.apply([],p);return h.unshift(0),h},i=function(p,h){var v,g=[],y=p.length;g[0]=1;for(var x=0;x<y;x+=1)v=p[x-h]||0,g[x+1]=p[x]-v+256&255;return g},o=function(p,h,v){var g,y=[],x=p.length;y[0]=2;for(var w=0;w<x;w+=1)g=v&&v[w]||0,y[w+1]=p[w]-g+256&255;return y},s=function(p,h,v){var g,y,x=[],w=p.length;x[0]=3;for(var N=0;N<w;N+=1)g=p[N-h]||0,y=v&&v[N]||0,x[N+1]=p[N]+256-(g+y>>>1)&255;return x},c=function(p,h,v){var g,y,x,w,N=[],_=p.length;N[0]=4;for(var b=0;b<_;b+=1)g=p[b-h]||0,y=v&&v[b]||0,x=v&&v[b-h]||0,w=u(g,y,x),N[b+1]=p[b]-w+256&255;return N},u=function(p,h,v){if(p===h&&h===v)return p;var g=Math.abs(h-v),y=Math.abs(p-v),x=Math.abs(p+h-v-v);return g<=y&&g<=x?p:y<=x?h:v},d=function(){return[a,i,o,s,c]},f=function(p){var h=p.map(function(v){return v.reduce(function(g,y){return g+Math.abs(y)},0)});return h.indexOf(Math.min.apply(null,h))};e.processPNG=function(p,h,v,g){var y,x,w,N,_,b,A,O,E,C,D,k,T,$,I,H=this.decode.FLATE_DECODE,V="";if(this.__addimage__.isArrayBuffer(p)&&(p=new Uint8Array(p)),this.__addimage__.isArrayBufferView(p)){if(p=(w=new hE(p)).imgData,x=w.bits,y=w.colorSpace,_=w.colors,[4,6].indexOf(w.colorType)!==-1){if(w.bits===8){E=(O=w.pixelBitlength==32?new Uint32Array(w.decodePixels().buffer):w.pixelBitlength==16?new Uint16Array(w.decodePixels().buffer):new Uint8Array(w.decodePixels().buffer)).length,D=new Uint8Array(E*w.colors),C=new Uint8Array(E);var X,Q=w.pixelBitlength-w.bits;for($=0,I=0;$<E;$++){for(T=O[$],X=0;X<Q;)D[I++]=T>>>X&255,X+=w.bits;C[$]=T>>>X&255}}if(w.bits===16){E=(O=new Uint32Array(w.decodePixels().buffer)).length,D=new Uint8Array(E*(32/w.pixelBitlength)*w.colors),C=new Uint8Array(E*(32/w.pixelBitlength)),k=w.colors>1,$=0,I=0;for(var Y=0;$<E;)T=O[$++],D[I++]=T>>>0&255,k&&(D[I++]=T>>>16&255,T=O[$++],D[I++]=T>>>0&255),C[Y++]=T>>>16&255;x=8}g!==e.image_compression.NONE&&t()?(p=r(D,w.width*w.colors,w.colors,g),A=r(C,w.width,1,g)):(p=D,A=C,H=void 0)}if(w.colorType===3&&(y=this.color_spaces.INDEXED,b=w.palette,w.transparency.indexed)){var G=w.transparency.indexed,ae=0;for($=0,E=G.length;$<E;++$)ae+=G[$];if((ae/=255)===E-1&&G.indexOf(0)!==-1)N=[G.indexOf(0)];else if(ae!==E){for(O=w.decodePixels(),C=new Uint8Array(O.length),$=0,E=O.length;$<E;$++)C[$]=G[O[$]];A=r(C,w.width,1)}}var M=function(z){var Z;switch(z){case e.image_compression.FAST:Z=11;break;case e.image_compression.MEDIUM:Z=13;break;case e.image_compression.SLOW:Z=14;break;default:Z=12}return Z}(g);return H===this.decode.FLATE_DECODE&&(V="/Predictor "+M+" "),V+="/Colors "+_+" /BitsPerComponent "+x+" /Columns "+w.width,(this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),(A&&this.__addimage__.isArrayBuffer(A)||this.__addimage__.isArrayBufferView(A))&&(A=this.__addimage__.arrayBufferToBinaryString(A)),{alias:v,data:p,index:h,filter:H,decodeParameters:V,transparency:N,palette:b,sMask:A,predictor:M,width:w.width,height:w.height,bitsPerComponent:x,colorSpace:y}}}})(tt.API),function(e){e.processGIF89A=function(t,r,n,a){var i=new pE(t),o=i.width,s=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:o,height:s},d=new Zg(100).encode(u,100);return e.processJPEG.call(this,d,r,n,a)},e.processGIF87A=e.processGIF89A}(tt.API),ja.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ja.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Ft.log("bit decode error:"+r)}},ja.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*a*4,s=0;s<8&&8*a+s<this.width;s++){var c=this.palette[i>>7-s&1];this.data[o+4*s]=c.blue,this.data[o+4*s+1]=c.green,this.data[o+4*s+2]=c.red,this.data[o+4*s+3]=255}r!==0&&(this.pos+=4-r)}},ja.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*a*4,s=i>>4,c=15&i,u=this.palette[s];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*a+1>=this.width)break;u=this.palette[c],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},ja.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var o=this.palette[a];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},ja.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,s=(i>>5&t)/t*255|0,c=(i>>10&t)/t*255|0,u=i>>15?255:0,d=n*this.width*4+4*a;this.data[d]=c,this.data[d+1]=s,this.data[d+2]=o,this.data[d+3]=u}this.pos+=e}},ja.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&t)/t*255|0,c=(o>>5&r)/r*255|0,u=(o>>11)/t*255|0,d=a*this.width*4+4*i;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=s,this.data[d+3]=255}this.pos+=e}},ja.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},ja.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;this.data[s]=i,this.data[s+1]=a,this.data[s+2]=n,this.data[s+3]=o}},ja.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,a){var i=new ja(t,!1),o=i.width,s=i.height,c={data:i.getData(),width:o,height:s},u=new Zg(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)}}(tt.API),k1.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,a){var i=new k1(t),o=i.width,s=i.height,c={data:i.getData(),width:o,height:s},u=new Zg(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)}}(tt.API),tt.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,i=new Uint8Array(a/4*3),o=new Uint8Array(a/4),s=0,c=0,u=0;u<a;u+=4){var d=n[u],f=n[u+1],p=n[u+2],h=n[u+3];i[s++]=d,i[s++]=f,i[s++]=p,o[c++]=h}var v=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:v,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},tt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},dl=tt.API,Xf=dl.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),s=t.widths?t.widths:a.metadata.Unicode.widths,c=s.fof?s.fof:1,u=t.kerning?t.kerning:a.metadata.Unicode.kerning,d=u.fof?u.fof:1,f=t.doKerning!==!1,p=0,h=e.length,v=0,g=s[0]||c,y=[];for(r=0;r<h;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?y.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+o*(1e3/i)||0)/1e3):(p=f&&xt(u[n])==="object"&&!isNaN(parseInt(u[n][v],10))?u[n][v]/d:0,y.push((s[n]||g)/c+p)),v=n;return y},A1=dl.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return dl.processArabic&&(e=dl.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:Xf.apply(this,arguments).reduce(function(i,o){return i+o},0)},O1=function(e,t,r,n){for(var a=[],i=0,o=e.length,s=0;i!==o&&s+t[i]<r;)s+=t[i],i++;a.push(e.slice(0,i));var c=i;for(s=0;i!==o;)s+t[i]>n&&(a.push(e.slice(c,i)),s=0,c=i),s+=t[i],i++;return c!==i&&a.push(e.slice(c,i)),a},P1=function(e,t,r){r||(r={});var n,a,i,o,s,c,u,d=[],f=[d],p=r.textIndent||0,h=0,v=0,g=e.split(" "),y=Xf.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?g[0].length+2:r.lineIndent||0){var x=Array(c).join(" "),w=[];g.map(function(_){(_=_.split(/\s*\n/)).length>1?w=w.concat(_.map(function(b,A){return(A&&b.length?`
`:"")+b})):w.push(_[0])}),g=w,c=A1.apply(this,[x,r])}for(i=0,o=g.length;i<o;i++){var N=0;if(n=g[i],c&&n[0]==`
`&&(n=n.substr(1),N=1),p+h+(v=(a=Xf.apply(this,[n,r])).reduce(function(_,b){return _+b},0))>t||N){if(v>t){for(s=O1.apply(this,[n,a,t-(p+h),t]),d.push(s.shift()),d=[s.pop()];s.length;)f.push([s.shift()]);v=a.slice(n.length-(d[0]?d[0].length:0)).reduce(function(_,b){return _+b},0)}else d=[n];f.push(d),p=v+c,h=y}else d.push(n),p+=h+v,h=y}return u=c?function(_,b){return(b?x:"")+_.join(" ")}:function(_){return _.join(" ")},f.map(u)},dl.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var f=this.internal.getFont(d.fontName,d.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var s,c,u=[];for(s=0,c=n.length;s<c;s++)u=u.concat(P1.apply(this,[n[s],o,i]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},a=0;a<t.length;a++)r[t[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=t[a];var i=function(f){return"0x"+parseInt(f,10).toString(16)},o=e.__fontmetrics__.compress=function(f){var p,h,v,g,y=["{"];for(var x in f){if(p=f[x],isNaN(parseInt(x,10))?h="'"+x+"'":(x=parseInt(x,10),h=(h=i(x).slice(2)).slice(0,-1)+n[h.slice(-1)]),typeof p=="number")p<0?(v=i(p).slice(3),g="-"):(v=i(p).slice(2),g=""),v=g+v.slice(0,-1)+n[v.slice(-1)];else{if(xt(p)!=="object")throw new Error("Don't know what to do with value type "+xt(p)+".");v=o(p)}y.push(h+v)}return y.push("}"),y.join("")},s=e.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,h,v,g,y={},x=1,w=y,N=[],_="",b="",A=f.length-1,O=1;O<A;O+=1)(g=f[O])=="'"?p?(v=p.join(""),p=void 0):p=[]:p?p.push(g):g=="{"?(N.push([w,v]),w={},v=void 0):g=="}"?((h=N.pop())[0][h[1]]=w,v=void 0,w=h[0]):g=="-"?x=-1:v===void 0?r.hasOwnProperty(g)?(_+=r[g],v=parseInt(_,16)*x,x=1,_=""):_+=g:r.hasOwnProperty(g)?(b+=r[g],w[v]=parseInt(b,16)*x,x=1,v=void 0,b=""):b+=g;return y},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:s("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},d={Unicode:{"Courier-Oblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":s("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":s("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:s("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:s("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":s("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":s("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(f){var p=f.font,h=d.Unicode[p.postScriptName];h&&(p.metadata.Unicode={},p.metadata.Unicode.widths=h.widths,p.metadata.Unicode.kerning=h.kerning);var v=u.Unicode[p.postScriptName];v&&(p.metadata.Unicode.encoding=v,p.encoding=v.codePages[0])}])}(tt.API),function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(o,s){s=/^\x00\x01\x00\x00/.test(s)?t(s):t(Lu(s)),o.metadata=e.API.TTFFont.open(s),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(a,n)}}])}(tt),function(e){function t(){return(rt.canvg?Promise.resolve(rt.canvg):Rv(()=>import("./index.es-BNzm45uB.js"),__vite__mapDeps([0,1,2,3,4]))).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}tt.API.addSvgAsImage=function(r,n,a,i,o,s,c,u){if(isNaN(n)||isNaN(a))throw Ft.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(o))throw Ft.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=i,d.height=o;var f=d.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,d.width,d.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return t().then(function(v){return v.fromString(f,r,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(v){return v.render(p)}).then(function(){h.addImage(d.toDataURL("image/jpeg",1),n,a,i,o,c,u)})}}(),tt.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},tt.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},s=Object.keys(o),c=[],u=0,d=0,f=0;function p(v,g){var y,x=!1;for(y=0;y<v.length;y+=1)v[y]===g&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var h=s.length;for(f=0;f<h;f+=1)r[s[f]].value=r[s[f]].defaultValue,r[s[f]].explicitSet=!1}if(xt(e)==="object"){for(a in e)if(i=e[a],p(s,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&p(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(u=0;u<i.length;u+=1)if(n=!0,i[u].length===1&&typeof i[u][0]=="number")c.push(String(i[u]-1));else if(i[u].length>1){for(d=0;d<i[u].length;d+=1)typeof i[u][d]!="number"&&(n=!1);n===!0&&c.push([i[u][0]-1,i[u][1]-1].join(" "))}r[a].value="["+c.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,g=[];for(v in r)r[v].explicitSet===!0&&(r[v].type==="name"?g.push("/"+v+" /"+r[v].value):g.push("/"+v+" "+r[v].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),s=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=i.length+o.length+s.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(a+i+o+s+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(tt.API),function(e){var t=e.API,r=t.pdfEscape16=function(i,o){for(var s,c=o.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],f=0,p=i.length;f<p;++f){if(s=o.metadata.characterToGlyph(i.charCodeAt(f)),o.metadata.glyIdsUsed.push(s),o.metadata.toUnicode[s]=i.charCodeAt(f),c.indexOf(s)==-1&&(c.push(s),c.push([parseInt(o.metadata.widthOfGlyph(s),10)])),s=="0")return d.join("");s=s.toString(16),d.push(u[4-s.length],s)}return d.join("")},n=function(i){var o,s,c,u,d,f,p;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],f=0,p=(s=Object.keys(i).sort(function(h,v){return h-v})).length;f<p;f++)o=s[f],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(u=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(o){var s=o.font,c=o.out,u=o.newObject,d=o.putStream;if(s.metadata instanceof e.API.TTFFont&&s.encoding==="Identity-H"){for(var f=s.metadata.Unicode.widths,p=s.metadata.subset.encode(s.metadata.glyIdsUsed,1),h="",v=0;v<p.length;v++)h+=String.fromCharCode(p[v]);var g=u();d({data:h,addLength1:!0,objectId:g}),c("endobj");var y=u();d({data:n(s.metadata.toUnicode),addLength1:!0,objectId:y}),c("endobj");var x=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+yl(s.fontName)),c("/FontFile2 "+g+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(s.metadata.bbox)),c("/Flags "+s.metadata.flags),c("/StemV "+s.metadata.stemV),c("/ItalicAngle "+s.metadata.italicAngle),c("/Ascent "+s.metadata.ascender),c("/Descent "+s.metadata.decender),c("/CapHeight "+s.metadata.capHeight),c(">>"),c("endobj");var w=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+yl(s.fontName)),c("/FontDescriptor "+x+" 0 R"),c("/W "+e.API.PDFObject.convert(f)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+s.encoding+")"),c(">>"),c(">>"),c("endobj"),s.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+y+" 0 R"),c("/BaseFont /"+yl(s.fontName)),c("/Encoding /"+s.encoding),c("/DescendantFonts ["+w+" 0 R]"),c(">>"),c("endobj"),s.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(o){var s=o.font,c=o.out,u=o.newObject,d=o.putStream;if(s.metadata instanceof e.API.TTFFont&&s.encoding==="WinAnsiEncoding"){for(var f=s.metadata.rawData,p="",h=0;h<f.length;h++)p+=String.fromCharCode(f[h]);var v=u();d({data:p,addLength1:!0,objectId:v}),c("endobj");var g=u();d({data:n(s.metadata.toUnicode),addLength1:!0,objectId:g}),c("endobj");var y=u();c("<<"),c("/Descent "+s.metadata.decender),c("/CapHeight "+s.metadata.capHeight),c("/StemV "+s.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+v+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(s.metadata.bbox)),c("/FontName /"+yl(s.fontName)),c("/ItalicAngle "+s.metadata.italicAngle),c("/Ascent "+s.metadata.ascender),c(">>"),c("endobj"),s.objectNumber=u();for(var x=0;x<s.metadata.hmtx.widths.length;x++)s.metadata.hmtx.widths[x]=parseInt(s.metadata.hmtx.widths[x]*(1e3/s.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+yl(s.fontName)+"/FontDescriptor "+y+" 0 R/Encoding/"+s.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(s.metadata.hmtx.widths)+">>"),c("endobj"),s.isAlreadyPutted=!0}})(i)}]);var a=function(i){var o,s=i.text||"",c=i.x,u=i.y,d=i.options||{},f=i.mutex||{},p=f.pdfEscape,h=f.activeFontKey,v=f.fonts,g=h,y="",x=0,w="",N=v[g].encoding;if(v[g].encoding!=="Identity-H")return{text:s,x:c,y:u,options:d,mutex:f};for(w=s,g=h,Array.isArray(s)&&(w=s[0]),x=0;x<w.length;x+=1)v[g].metadata.hasOwnProperty("cmap")&&(o=v[g].metadata.cmap.unicode.codeMap[w[x].charCodeAt(0)]),o||w[x].charCodeAt(0)<256&&v[g].metadata.hasOwnProperty("Unicode")?y+=w[x]:y+="";var _="";return parseInt(g.slice(1))<14||N==="WinAnsiEncoding"?_=p(y,g).split("").map(function(b){return b.charCodeAt(0).toString(16)}).join(""):N==="Identity-H"&&(_=r(y,v[g])),f.isHex=!0,{text:_,x:c,y:u,options:d,mutex:f}};t.events.push(["postProcessText",function(i){var o=i.text||"",s=[],c={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?s.push([a(Object.assign({},c,{text:o[u][0]})).text,o[u][1],o[u][2]]):s.push(a(Object.assign({},c,{text:o[u]})).text);i.text=s}else i.text=a(Object.assign({},c,{text:o})).text}])}(tt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(tt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,i,o,s,c,u,d,f=t,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},y=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,N=0;this.__bidiEngine__={};var _=function(k){var T=k.charCodeAt(),$=T>>8,I=g[$];return I!==void 0?f[256*I+(255&T)]:$===252||$===253?"AL":x.test($)?"L":$===8?"R":"N"},b=function(k){for(var T,$=0;$<k.length;$++){if((T=_(k.charAt($)))==="L")return!1;if(T==="R")return!0}return!1},A=function(k,T,$,I){var H,V,X,Q,Y=T[I];switch(Y){case"L":case"R":w=!1;break;case"N":case"AN":break;case"EN":w&&(Y="AN");break;case"AL":w=!0,Y="R";break;case"WS":Y="N";break;case"CS":I<1||I+1>=T.length||(H=$[I-1])!=="EN"&&H!=="AN"||(V=T[I+1])!=="EN"&&V!=="AN"?Y="N":w&&(V="AN"),Y=V===H?V:"N";break;case"ES":Y=(H=I>0?$[I-1]:"B")==="EN"&&I+1<T.length&&T[I+1]==="EN"?"EN":"N";break;case"ET":if(I>0&&$[I-1]==="EN"){Y="EN";break}if(w){Y="N";break}for(X=I+1,Q=T.length;X<Q&&T[X]==="ET";)X++;Y=X<Q&&T[X]==="EN"?"EN":"N";break;case"NSM":if(o&&!s){for(Q=T.length,X=I+1;X<Q&&T[X]==="NSM";)X++;if(X<Q){var G=k[I],ae=G>=1425&&G<=2303||G===64286;if(H=T[X],ae&&(H==="R"||H==="AL")){Y="R";break}}}Y=I<1||(H=T[I-1])==="B"?"N":$[I-1];break;case"B":w=!1,a=!0,Y=N;break;case"S":i=!0,Y="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"BN":Y="N"}return Y},O=function(k,T,$){var I=k.split("");return $&&E(I,$,{hiLevel:N}),I.reverse(),T&&T.reverse(),I.join("")},E=function(k,T,$){var I,H,V,X,Q,Y=-1,G=k.length,ae=0,M=[],z=N?h:p,Z=[];for(w=!1,a=!1,i=!1,H=0;H<G;H++)Z[H]=_(k[H]);for(V=0;V<G;V++){if(Q=ae,M[V]=A(k,Z,M,V),I=240&(ae=z[Q][v[M[V]]]),ae&=15,T[V]=X=z[ae][5],I>0)if(I===16){for(H=Y;H<V;H++)T[H]=1;Y=-1}else Y=-1;if(z[ae][6])Y===-1&&(Y=V);else if(Y>-1){for(H=Y;H<V;H++)T[H]=X;Y=-1}Z[V]==="B"&&(T[V]=0),$.hiLevel|=X}i&&function(te,ie,fe){for(var de=0;de<fe;de++)if(te[de]==="S"){ie[de]=N;for(var oe=de-1;oe>=0&&te[oe]==="WS";oe--)ie[oe]=N}}(Z,T,G)},C=function(k,T,$,I,H){if(!(H.hiLevel<k)){if(k===1&&N===1&&!a)return T.reverse(),void($&&$.reverse());for(var V,X,Q,Y,G=T.length,ae=0;ae<G;){if(I[ae]>=k){for(Q=ae+1;Q<G&&I[Q]>=k;)Q++;for(Y=ae,X=Q-1;Y<X;Y++,X--)V=T[Y],T[Y]=T[X],T[X]=V,$&&(V=$[Y],$[Y]=$[X],$[X]=V);ae=Q}ae++}}},D=function(k,T,$){var I=k.split(""),H={hiLevel:N};return $||($=[]),E(I,$,H),function(V,X,Q){if(Q.hiLevel!==0&&d)for(var Y,G=0;G<V.length;G++)X[G]===1&&(Y=y.indexOf(V[G]))>=0&&(V[G]=y[Y+1])}(I,$,H),C(2,I,T,$,H),C(1,I,T,$,H),I.join("")};return this.__bidiEngine__.doBidiReorder=function(k,T,$){if(function(H,V){if(V)for(var X=0;X<H.length;X++)V[X]=X;s===void 0&&(s=b(H)),u===void 0&&(u=b(H))}(k,T),o||!c||u)if(o&&c&&s^u)N=s?1:0,k=O(k,T,$);else if(!o&&c&&u)N=s?1:0,k=D(k,T,$),k=O(k,T);else if(!o||s||c||u){if(o&&!c&&s^u)k=O(k,T),s?(N=0,k=D(k,T,$)):(N=1,k=D(k,T,$),k=O(k,T));else if(o&&s&&!c&&u)N=1,k=D(k,T,$),k=O(k,T);else if(!o&&!c&&s^u){var I=d;s?(N=1,k=D(k,T,$),N=0,d=!1,k=D(k,T,$),d=I):(N=0,k=D(k,T,$),k=O(k,T),N=1,d=!1,k=D(k,T,$),d=I,k=O(k,T))}}else N=0,k=D(k,T,$);else N=s?1:0,k=D(k,T,$);return k},this.__bidiEngine__.setOptions=function(k){k&&(o=k.isInputVisual,c=k.isOutputVisual,s=k.isInputRtl,u=k.isOutputRtl,d=k.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var o=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var s=0;for(o=[],s=0;s<a.length;s+=1)Object.prototype.toString.call(a[s])==="[object Array]"?o.push([r.doBidiReorder(a[s][0]),a[s][1],a[s][2]]):o.push([r.doBidiReorder(a[s])]);n.text=o}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(tt),tt.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new go(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new EE(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new mE(this.contents),this.head=new vE(this),this.name=new jE(this),this.cmap=new jS(this),this.toUnicode={},this.hhea=new yE(this),this.maxp=new NE(this),this.hmtx=new SE(this),this.post=new xE(this),this.os2=new bE(this),this.loca=new PE(this),this.glyf=new _E(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,s,c,u;for(u=[],o=0,s=(c=this.bbox).length;o<s;o++)t=c[o],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,i,o,s;for(o=0,i=0,s=(t=""+t).length;0<=s?i<s:i>s;i=0<=s?++i:--i)a=t.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var Ma,go=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,i,o,s,c;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),o=this.readByte(),s=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^o)+256*(255^s)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*o+256*s+c},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,i;for(i=[],n=0,a=t.length;n<a;n++)r=t[n],i.push(this.writeByte(r));return i},e}(),mE=function(){var e;function t(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,i,o,s,c,u,d,f,p,h,v,g;for(g in h=Object.keys(r).length,c=Math.log(2),f=16*Math.floor(Math.log(h)/c),o=Math.floor(f/c),d=16*h-f,(a=new go).writeInt(this.scalarType),a.writeShort(h),a.writeShort(f),a.writeShort(o),a.writeShort(d),i=16*h,u=a.pos+i,s=null,v=[],r)for(p=r[g],a.writeString(g),a.writeInt(e(p)),a.writeInt(u),a.writeInt(p.length),v=v.concat(p),g==="head"&&(s=u),u+=p.length;u%4;)v.push(0),u++;return a.write(v),n=2981146554-e(a.data),a.pos=s+8,a.writeUInt32(n),a.data},e=function(r){var n,a,i,o;for(r=NS.call(r);r.length%4;)r.push(0);for(i=new go(r),a=0,n=0,o=r.length;n<o;n=n+=4)a+=i.readUInt32();return 4294967295&a},t}(),gE={}.hasOwnProperty,fi=function(e,t){for(var r in t)gE.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};Ma=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var vE=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return fi(t,Ma),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new go).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t}(),T1=function(){function e(t,r){var n,a,i,o,s,c,u,d,f,p,h,v,g,y,x,w,N;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(h=t.readUInt16(),p=h/2,t.pos+=6,i=function(){var _,b;for(b=[],c=_=0;0<=p?_<p:_>p;c=0<=p?++_:--_)b.push(t.readUInt16());return b}(),t.pos+=2,g=function(){var _,b;for(b=[],c=_=0;0<=p?_<p:_>p;c=0<=p?++_:--_)b.push(t.readUInt16());return b}(),u=function(){var _,b;for(b=[],c=_=0;0<=p?_<p:_>p;c=0<=p?++_:--_)b.push(t.readUInt16());return b}(),d=function(){var _,b;for(b=[],c=_=0;0<=p?_<p:_>p;c=0<=p?++_:--_)b.push(t.readUInt16());return b}(),a=(this.length-t.pos+this.offset)/2,s=function(){var _,b;for(b=[],c=_=0;0<=a?_<a:_>a;c=0<=a?++_:--_)b.push(t.readUInt16());return b}(),c=x=0,N=i.length;x<N;c=++x)for(y=i[c],n=w=v=g[c];v<=y?w<=y:w>=y;n=v<=y?++w:--w)d[c]===0?o=n+u[c]:(o=s[d[c]/2+(n-v)-(p-c)]||0)!==0&&(o+=u[c]),this.codeMap[n]=65535&o}t.pos=f}return e.encode=function(t,r){var n,a,i,o,s,c,u,d,f,p,h,v,g,y,x,w,N,_,b,A,O,E,C,D,k,T,$,I,H,V,X,Q,Y,G,ae,M,z,Z,te,ie,fe,de,oe,xe,be,pe;switch(I=new go,o=Object.keys(t).sort(function(Ee,$e){return Ee-$e}),r){case"macroman":for(g=0,y=function(){var Ee=[];for(v=0;v<256;++v)Ee.push(0);return Ee}(),w={0:0},i={},H=0,Y=o.length;H<Y;H++)w[oe=t[a=o[H]]]==null&&(w[oe]=++g),i[a]={old:t[a],new:w[t[a]]},y[a]=w[t[a]];return I.writeUInt16(1),I.writeUInt16(0),I.writeUInt32(12),I.writeUInt16(0),I.writeUInt16(262),I.writeUInt16(0),I.write(y),{charMap:i,subtable:I.data,maxGlyphID:g+1};case"unicode":for(T=[],f=[],N=0,w={},n={},x=u=null,V=0,G=o.length;V<G;V++)w[b=t[a=o[V]]]==null&&(w[b]=++N),n[a]={old:b,new:w[b]},s=w[b]-a,x!=null&&s===u||(x&&f.push(x),T.push(a),u=s),x=a;for(x&&f.push(x),f.push(65535),T.push(65535),D=2*(C=T.length),E=2*Math.pow(Math.log(C)/Math.LN2,2),p=Math.log(E/2)/Math.LN2,O=2*C-E,c=[],A=[],h=[],v=X=0,ae=T.length;X<ae;v=++X){if(k=T[v],d=f[v],k===65535){c.push(0),A.push(0);break}if(k-($=n[k].new)>=32768)for(c.push(0),A.push(2*(h.length+C-v)),a=Q=k;k<=d?Q<=d:Q>=d;a=k<=d?++Q:--Q)h.push(n[a].new);else c.push($-k),A.push(0)}for(I.writeUInt16(3),I.writeUInt16(1),I.writeUInt32(12),I.writeUInt16(4),I.writeUInt16(16+8*C+2*h.length),I.writeUInt16(0),I.writeUInt16(D),I.writeUInt16(E),I.writeUInt16(p),I.writeUInt16(O),fe=0,M=f.length;fe<M;fe++)a=f[fe],I.writeUInt16(a);for(I.writeUInt16(0),de=0,z=T.length;de<z;de++)a=T[de],I.writeUInt16(a);for(xe=0,Z=c.length;xe<Z;xe++)s=c[xe],I.writeUInt16(s);for(be=0,te=A.length;be<te;be++)_=A[be],I.writeUInt16(_);for(pe=0,ie=h.length;pe<ie;pe++)g=h[pe],I.writeUInt16(g);return{charMap:n,subtable:I.data,maxGlyphID:N+1}}},e}(),jS=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return fi(t,Ma),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,a,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)n=new T1(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var a,i;return n==null&&(n="macroman"),a=T1.encode(r,n),(i=new go).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},t}(),yE=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return fi(t,Ma),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),bE=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return fi(t,Ma),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),xE=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return fi(t,Ma),t.prototype.tag="post",t.prototype.parse=function(r){var n,a,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var o;for(a=r.readUInt16(),this.glyphNameIndex=[],o=0;0<=a?o<a:o>a;o=0<=a?++o:--o)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var s,c,u;for(u=[],o=s=0,c=this.file.maxp.numGlyphs;0<=c?s<c:s>c;o=0<=c?++s:--s)u.push(r.readUInt32());return u}).call(this)}},t}(),wE=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},jE=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return fi(t,Ma),t.prototype.tag="name",t.prototype.parse=function(r){var n,a,i,o,s,c,u,d,f,p,h;for(r.pos=this.offset,r.readShort(),n=r.readShort(),c=r.readShort(),a=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+c+r.readShort()});for(u={},o=f=0,p=a.length;f<p;o=++f)i=a[o],r.pos=i.offset,d=r.readString(i.length),s=new wE(d,i),u[h=i.nameID]==null&&(u[h]=[]),u[i.nameID].push(s);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},t}(),NE=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return fi(t,Ma),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),SE=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return fi(t,Ma),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,a,i,o,s,c,u;for(r.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,f;for(f=[],n=d=0;0<=i?d<i:d>i;n=0<=i?++d:--d)f.push(r.readInt16());return f}(),this.widths=(function(){var d,f,p,h;for(h=[],d=0,f=(p=this.metrics).length;d<f;d++)o=p[d],h.push(o.advance);return h}).call(this),a=this.widths[this.widths.length-1],u=[],n=s=0;0<=i?s<i:s>i;n=0<=i?++s:--s)u.push(this.widths.push(a));return u},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),NS=[].slice,_E=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return fi(t,Ma),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,a,i,o,s,c,u,d,f,p;return r in this.cache?this.cache[r]:(o=this.file.loca,n=this.file.contents,a=o.indexOf(r),(i=o.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,s=(c=new go(n.read(i))).readShort(),d=c.readShort(),p=c.readShort(),u=c.readShort(),f=c.readShort(),this.cache[r]=s===-1?new OE(c,d,p,u,f):new AE(c,s,d,p,u,f),this.cache[r]))},t.prototype.encode=function(r,n,a){var i,o,s,c,u;for(s=[],o=[],c=0,u=n.length;c<u;c++)i=r[n[c]],o.push(s.length),i&&(s=s.concat(i.encode(a)));return o.push(s.length),{table:s,offsets:o}},t}(),AE=function(){function e(t,r,n,a,i,o){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),OE=function(){function e(t,r,n,a,i){var o,s;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;s=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&s;)o.pos+=1&s?4:2,128&s?o.pos+=8:64&s?o.pos+=4:8&s&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new go(NS.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),PE=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return fi(t,Ma),t.prototype.tag="loca",t.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,o;for(o=[],a=0,i=this.length;a<i;a+=2)o.push(2*r.readUInt16());return o}).call(this):(function(){var i,o;for(o=[],a=0,i=this.length;a<i;a+=4)o.push(r.readUInt32());return o}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),i=0,o=0,s=0;s<a.length;++s)if(a[s]=i,o<n.length&&n[o]==s){++o,a[s]=i;var c=this.offsets[s],u=this.offsets[s+1]-c;u>0&&(i+=u)}for(var d=new Array(4*a.length),f=0;f<a.length;++f)d[4*f+3]=255&a[f],d[4*f+2]=(65280&a[f])>>8,d[4*f+1]=(16711680&a[f])>>16,d[4*f]=(4278190080&a[f])>>24;return d},t}(),EE=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,i,o,s,c;for(a={},o=0,s=t.length;o<s;o++)a[i=t[o]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))n=c[i],a[i]=n;return a},e.prototype.encode=function(t,r){var n,a,i,o,s,c,u,d,f,p,h,v,g,y,x;for(a in n=jS.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),h={0:0},x=n.charMap)h[(c=x[a]).old]=c.new;for(v in p=n.maxGlyphID,o)v in h||(h[v]=p++);return d=function(w){var N,_;for(N in _={},w)_[w[N]]=N;return _}(h),f=Object.keys(d).sort(function(w,N){return w-N}),g=function(){var w,N,_;for(_=[],w=0,N=f.length;w<N;w++)s=f[w],_.push(d[s]);return _}(),i=this.font.glyf.encode(o,g,h),u=this.font.loca.encode(i.offsets,g),y={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(y["OS/2"]=this.font.os2.raw()),this.font.directory.encode(y)},e}();tt.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,i,o;if(Array.isArray(r))return"["+function(){var s,c,u;for(u=[],s=0,c=r.length;s<c;s++)n=r[s],u.push(t.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)o=r[a],i.push("/"+a+" "+t.convert(o));return i.push(">>"),i.join(`
`)}return""+r},t}();const C1="https://api.ptoconnect.com";function kE(){const[e,t]=F.useState({title:"",description:"",event_date:"",start_time:"",end_time:"",location:"",school_level:"elementary",category:"",visibility:"public",estimated_budget:"",share_public:!1}),[r,n]=F.useState(""),[a,i]=F.useState(""),[o,s]=F.useState(!1),[c,u]=F.useState({type:"",season:"",audience:"",theme:"",goal:""}),[d,f]=F.useState(""),p=w=>{const{name:N,value:_,type:b,checked:A}=w.target;t(O=>({...O,[N]:b==="checkbox"?A:_}))},h=async w=>{w.preventDefault(),n(""),i("");const{data:{session:N},error:_}=await He.auth.getSession();if(_||!(N!=null&&N.access_token)){i("Authentication error. Please log in again.");return}try{const b=await fetch(`${C1}/api/events`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${N.access_token}`},body:JSON.stringify(e)}),A=await b.json();if(!b.ok){i(A.error||"Failed to create event");return}n("Event created successfully!"),t({title:"",description:"",event_date:"",start_time:"",end_time:"",location:"",school_level:"elementary",category:"",visibility:"public",estimated_budget:"",share_public:!1})}catch(b){i("Failed to connect to server."),console.error("Submit error:",b)}},v=w=>{const{name:N,value:_}=w.target;u(b=>({...b,[N]:_}))},g=async()=>{f("Generating...");try{const{data:{session:w},error:N}=await He.auth.getSession();if(N||!(w!=null&&w.access_token)){f("Authentication error. Please log in again.");return}const _=await fetch(`${C1}/api/ai/generate-event`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${w.access_token}`},body:JSON.stringify(c)});if(!_.ok)throw new Error(`API request failed: ${_.status}`);const b=await _.json();f(b.result)}catch(w){console.error("AI generation error:",w),f("AI generation failed. Please try again.")}},y=()=>{try{const w=JSON.parse(d);t(N=>({...N,title:w.title||"",description:w.description||"",event_date:w.event_date||"",category:w.category||"",school_level:w.school_level||"",location:w.location||"",estimated_budget:w.estimated_budget||""}))}catch(w){alert("Failed to parse AI response. Please review the output and enter manually."),console.error("Parse error:",w)}},x=()=>{try{const w=JSON.parse(d),N=new tt;N.setFontSize(14),N.text(w.title||"Event Summary",10,20),N.setFontSize(10),N.text(`Date: ${w.event_date||"TBD"}`,10,30),N.text(`Category: ${w.category||"N/A"}`,10,36),N.text(`School Level: ${w.school_level||"N/A"}`,10,42),N.setFontSize(12),N.text("Description:",10,52),N.setFontSize(10),N.text(N.splitTextToSize(w.description||"",180),10,58),N.setFontSize(12),N.text("Planning Tasks:",10,100),(w.tasks||[]).forEach((b,A)=>{N.text(`- ${b}`,10,106+A*6)}),N.save(`${w.title||"event-summary"}.pdf`)}catch(w){alert("Unable to print. Please check that the AI returned a valid result."),console.error("Print error:",w)}};return l.jsxs("div",{className:"max-w-2xl mx-auto p-6 space-y-6",children:[l.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Create New Event"}),l.jsxs("form",{onSubmit:h,className:"space-y-4",children:[l.jsx("input",{name:"title",value:e.title,onChange:p,placeholder:"Event Title",className:"w-full border p-2",required:!0}),l.jsx("textarea",{name:"description",value:e.description,onChange:p,placeholder:"Description",className:"w-full border p-2"}),l.jsx("input",{type:"date",name:"event_date",value:e.event_date,onChange:p,className:"w-full border p-2",required:!0}),l.jsx("input",{type:"time",name:"start_time",value:e.start_time,onChange:p,className:"w-full border p-2"}),l.jsx("input",{type:"time",name:"end_time",value:e.end_time,onChange:p,className:"w-full border p-2"}),l.jsx("input",{name:"location",value:e.location,onChange:p,placeholder:"Location",className:"w-full border p-2"}),l.jsxs("select",{name:"school_level",value:e.school_level,onChange:p,className:"w-full border p-2",children:[l.jsx("option",{value:"elementary",children:"Elementary"}),l.jsx("option",{value:"upper_elementary",children:"Upper Elementary"}),l.jsx("option",{value:"middle",children:"Middle"}),l.jsx("option",{value:"junior_high",children:"Junior High"}),l.jsx("option",{value:"high",children:"High School"})]}),l.jsx("input",{name:"category",value:e.category,onChange:p,placeholder:"Category (e.g., Fundraiser)",className:"w-full border p-2"}),l.jsx("input",{name:"estimated_budget",value:e.estimated_budget,onChange:p,placeholder:"Estimated Budget",className:"w-full border p-2"}),l.jsxs("select",{name:"visibility",value:e.visibility,onChange:p,className:"w-full border p-2",children:[l.jsx("option",{value:"public",children:"Public"}),l.jsx("option",{value:"private",children:"Private"})]}),l.jsxs("label",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",name:"share_public",checked:e.share_public,onChange:p}),l.jsx("span",{children:"Share this event to the PTO Connect Idea Library"})]}),l.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded",type:"submit",children:"Create Event"}),r&&l.jsx("p",{className:"text-green-600",children:r}),a&&l.jsx("p",{className:"text-red-600",children:a})]}),l.jsxs("div",{className:"border-t pt-6",children:[l.jsx("button",{onClick:()=>s(!o),className:"text-blue-600 underline",children:o?"Hide AI Event Assistant":"Use AI Event Assistant"}),o&&l.jsxs("div",{className:"mt-4 space-y-3",children:[l.jsx("h2",{className:"text-xl font-semibold",children:"AI Event Assistant"}),l.jsx("input",{type:"text",name:"type",placeholder:"Event Type",value:c.type,onChange:v,className:"w-full border p-2"}),l.jsx("input",{type:"text",name:"season",placeholder:"Season or Month",value:c.season,onChange:v,className:"w-full border p-2"}),l.jsx("input",{type:"text",name:"audience",placeholder:"Audience (e.g. families, teachers)",value:c.audience,onChange:v,className:"w-full border p-2"}),l.jsx("input",{type:"text",name:"theme",placeholder:"Theme (e.g. fall festival)",value:c.theme,onChange:v,className:"w-full border p-2"}),l.jsx("input",{type:"text",name:"goal",placeholder:"Goal (e.g. raise funds for library)",value:c.goal,onChange:v,className:"w-full border p-2"}),l.jsx("button",{onClick:g,className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",children:"Generate Event Idea"}),d&&l.jsxs("div",{className:"border p-4 mt-4 bg-gray-50 rounded",children:[l.jsx("pre",{className:"whitespace-pre-wrap text-sm",children:d}),l.jsxs("div",{className:"flex gap-2 mt-2",children:[l.jsx("button",{onClick:y,className:"bg-blue-500 text-white px-3 py-1 rounded hover:bg-blue-600",children:"Use This Event"}),l.jsx("button",{onClick:x,className:"bg-gray-600 text-white px-3 py-1 rounded hover:bg-gray-700",children:"Print Summary"})]})]})]})]})]})}const TE=({eventData:e,setEventData:t})=>l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Tell Stella About Your Event"}),l.jsx("p",{className:"text-gray-600",children:"Provide basic information about the event you want to create"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Title"}),l.jsx("input",{type:"text",value:e.title,onChange:r=>t(n=>({...n,title:r.target.value})),placeholder:"e.g., Fall Festival 2025",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Date"}),l.jsx("input",{type:"date",value:e.event_date,onChange:r=>t(n=>({...n,event_date:r.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expected Attendance"}),l.jsx("input",{type:"number",value:e.expected_attendance,onChange:r=>t(n=>({...n,expected_attendance:r.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estimated Budget"}),l.jsx("input",{type:"number",value:e.estimated_budget,onChange:r=>t(n=>({...n,estimated_budget:r.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),l.jsx("textarea",{value:e.description,onChange:r=>t(n=>({...n,description:r.target.value})),rows:"3",placeholder:"Brief description of your event...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]}),CE=({stellaContext:e,setStellaContext:t,handleStellaContextChange:r,handleAdditionalGoalsChange:n,handleResourcesChange:a,handleConstraintsChange:i})=>{const o=F.useRef(null),s=F.useRef(null),c=F.useRef(null),u=(y,x)=>(...w)=>{var _;const N=((_=y.current)==null?void 0:_.scrollTop)||0;x(...w),setTimeout(()=>{y.current&&(y.current.scrollTop=N)},0)},d=["Fall Festival","Spring Carnival","Book Fair","Science Night","Art Show","Talent Show","Movie Night","Game Night","Teacher Appreciation","Volunteer Recognition","Board Meeting","Fundraiser","Auction","Walk-a-thon","Bake Sale"],f=["Community Building","Fundraising","Educational Enhancement","Volunteer Appreciation","Student Recognition","Family Engagement","School Support","Cultural Celebration"],p=["All Families","Parents Only","Students & Families","Community Members","Teachers & Staff","Volunteers","Board Members","Local Businesses"],h=["Raise funds for specific programs","Showcase student work","Build community relationships","Recruit new volunteers","Celebrate achievements","Educate about school programs","Support teachers and staff","Create lasting memories"],v=["Dedicated parent volunteers","School facilities access","Local business partnerships","Previous event materials","Social media presence","Email communication list","Equipment and supplies","Budget for materials"],g=["Limited budget","Time constraints","Venue limitations","Weather dependent","Need school approval","Limited volunteers","Scheduling conflicts","Safety requirements"];return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Help Stella Understand Your Goals"}),l.jsx("p",{className:"text-gray-600",children:"This information helps Stella create the perfect workflow for your event"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Type"}),l.jsx("select",{value:e.eventType,onChange:y=>r("eventType",y.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:d.map(y=>l.jsx("option",{value:y,children:y},y))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Primary Goal"}),l.jsx("select",{value:e.primaryGoal,onChange:y=>r("primaryGoal",y.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:f.map(y=>l.jsx("option",{value:y,children:y},y))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Target Audience"}),l.jsx("select",{value:e.targetAudience,onChange:y=>r("targetAudience",y.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:p.map(y=>l.jsx("option",{value:y,children:y},y))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Goals"}),l.jsx("div",{ref:o,className:"space-y-2 max-h-32 overflow-y-auto",children:h.map(y=>l.jsxs("label",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",checked:e.additionalGoals.includes(y),onChange:u(o,x=>n(y,x.target.checked)),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),l.jsx("span",{className:"text-sm text-gray-700",children:y})]},y))})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Available Resources"}),l.jsx("div",{ref:s,className:"space-y-2 max-h-32 overflow-y-auto",children:v.map(y=>l.jsxs("label",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",checked:e.availableResources.includes(y),onChange:u(s,x=>a(y,x.target.checked)),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),l.jsx("span",{className:"text-sm text-gray-700",children:y})]},y))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Constraints"}),l.jsx("div",{ref:c,className:"space-y-2 max-h-32 overflow-y-auto",children:g.map(y=>l.jsxs("label",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",checked:e.constraints.includes(y),onChange:u(c,x=>i(y,x.target.checked)),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),l.jsx("span",{className:"text-sm text-gray-700",children:y})]},y))})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Past Event Experience"}),l.jsx("textarea",{value:e.pastEventExperiences,onChange:y=>r("pastEventExperiences",y.target.value),rows:"3",placeholder:"Tell Stella about similar events you've organized before...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]})},LE=()=>{const e=gr(),t="stella-event-wizard-state",n=(()=>{try{const G=localStorage.getItem(t);if(G)return JSON.parse(G)}catch(G){console.warn("Failed to load persisted state:",G)}return null})(),[a,i]=F.useState(null),[o,s]=F.useState((n==null?void 0:n.currentStep)||1),[c,u]=F.useState((n==null?void 0:n.workflowMode)||"assisted"),[d,f]=F.useState(!1),[p,h]=F.useState(0),[v,g]=F.useState(""),[y,x]=F.useState((n==null?void 0:n.generatedWorkflow)||null),[w,N]=F.useState((n==null?void 0:n.eventData)||{title:"",description:"",event_date:"",expected_attendance:"100",estimated_budget:"2000",category:"Celebration"}),[_,b]=F.useState((n==null?void 0:n.stellaContext)||{eventType:"Fall Festival",primaryGoal:"Community Building",targetAudience:"All Families",additionalGoals:[],availableResources:[],constraints:[],specialConsiderations:"",pastEventExperiences:""}),[A,O]=F.useState((n==null?void 0:n.moduleIntegrations)||{createBudget:!0,generateTimeline:!0,setupCommunications:!0,createVolunteerRoles:!0,planMaterials:!0,scheduleReminders:!0,trackProgress:!0,generateReports:!0});F.useCallback((G,ae)=>{N(M=>({...M,[G]:ae}))},[]);const E=F.useCallback((G,ae)=>{b(M=>({...M,[G]:ae}))},[]),C=F.useCallback(G=>{O(ae=>({...ae,[G]:!ae[G]}))},[]),D=F.useCallback(()=>{try{localStorage.removeItem(t)}catch(G){console.warn("Failed to clear persisted state:",G)}},[t]),k=F.useCallback(()=>{s(1),u("assisted"),N({title:"",description:"",event_date:"",expected_attendance:"100",estimated_budget:"2000",category:"Celebration"}),b({eventType:"Fall Festival",primaryGoal:"Community Building",targetAudience:"All Families",additionalGoals:[],availableResources:[],constraints:[],specialConsiderations:"",pastEventExperiences:""}),O({createBudget:!0,generateTimeline:!0,setupCommunications:!0,createVolunteerRoles:!0,planMaterials:!0,scheduleReminders:!0,trackProgress:!0,generateReports:!0}),x(null),D(),nt.success("✨ Form cleared! Starting fresh.")},[D]),T=F.useCallback((G,ae)=>{b(M=>({...M,additionalGoals:ae?[...M.additionalGoals,G]:M.additionalGoals.filter(z=>z!==G)}))},[]),$=F.useCallback((G,ae)=>{b(M=>({...M,availableResources:ae?[...M.availableResources,G]:M.availableResources.filter(z=>z!==G)}))},[]),I=F.useCallback((G,ae)=>{b(M=>({...M,constraints:ae?[...M.constraints,G]:M.constraints.filter(z=>z!==G)}))},[]);F.useEffect(()=>{const G={currentStep:o,workflowMode:c,eventData:w,stellaContext:_,moduleIntegrations:A,generatedWorkflow:y};try{localStorage.setItem(t,JSON.stringify(G))}catch(ae){console.warn("Failed to persist state:",ae)}},[o,c,w,_,A,y]),F.useEffect(()=>{(async()=>{try{const{data:{session:ae}}=await He.auth.getSession();if(ae!=null&&ae.user){const{data:M}=await He.from("profiles").select("*").eq("id",ae.user.id).single();i(M)}}catch(ae){console.error("Error fetching user context:",ae)}})(),n&&(n.currentStep>1||n.eventData.title)&&nt.info("🔄 Your previous work has been restored!",{position:"top-right",autoClose:3e3})},[]);const H=async()=>{var G,ae,M,z;if(!w.title.trim()){nt.error("Please enter an event title");return}if(!(a!=null&&a.org_id)){nt.error("Organization context required");return}f(!0),h(0),g("Initializing Stella AI...");try{const Z=[{step:"Analyzing your event concept...",progress:15},{step:"Researching best practices...",progress:30},{step:"Creating project timeline...",progress:45},{step:"Generating budget recommendations...",progress:60},{step:"Planning communication strategy...",progress:75},{step:"Organizing volunteer roles...",progress:90},{step:"Finalizing your workflow...",progress:100}];for(let fe=0;fe<Z.length;fe++)g(Z[fe].step),h(Z[fe].progress),await new Promise(de=>setTimeout(de,1500));const te={...w,expected_attendance:parseInt(w.expected_attendance)||0,estimated_budget:parseInt(w.estimated_budget)||0};console.log("🚀 Sending workflow generation request:",{eventData:te,stellaContext:_,moduleIntegrations:A});const ie=await ho.generateComprehensiveWorkflow(te,_,A);if(console.log("📨 API Response:",ie),ie.error)throw console.error("❌ API returned error:",ie.error),new Error(ie.error);if(!ie.data)throw console.error("❌ No data in API response:",ie),new Error("No workflow data received from Stella");x(ie.data),nt.success("🌟 Stella has created your comprehensive event workflow!"),s(4)}catch(Z){console.error("❌ Workflow generation error:",Z);let te="Stella encountered an issue. Please try again.";(G=Z.message)!=null&&G.includes("ERR_SOCKET_NOT_CONNECTED")?te="🔌 Connection issue detected. Please check your internet connection and try again.":(ae=Z.message)!=null&&ae.includes("Network Error")?te="🌐 Network error. The backend service might be temporarily unavailable.":(M=Z.message)!=null&&M.includes("401")?te="🔐 Authentication error. Please refresh the page and try again.":(z=Z.message)!=null&&z.includes("500")?te="⚠️ Server error. Stella is having technical difficulties.":Z.message&&(te=`❌ ${Z.message}`),nt.error(te,{autoClose:5e3})}finally{f(!1),h(0),g("")}},V=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Choose Your Workflow Components"}),l.jsx("p",{className:"text-gray-600",children:"Select which modules Stella should include in your comprehensive workflow"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{key:"createBudget",title:"Budget Planning",icon:Zn,desc:"Automated budget creation with line items"},{key:"generateTimeline",title:"Project Timeline",icon:jn,desc:"Milestone-based project management"},{key:"setupCommunications",title:"Communications",icon:Qa,desc:"Multi-channel communication campaigns"},{key:"createVolunteerRoles",title:"Volunteer Roles",icon:ra,desc:"Volunteer coordination and assignments"},{key:"planMaterials",title:"Materials Planning",icon:Uu,desc:"Equipment and supply management"},{key:"scheduleReminders",title:"Reminders",icon:Ol,desc:"Automated reminder sequences"},{key:"trackProgress",title:"Progress Tracking",icon:By,desc:"Real-time progress monitoring"},{key:"generateReports",title:"Reporting",icon:zN,desc:"Comprehensive event analytics"}].map(G=>{const ae=G.icon;return l.jsx("div",{className:`p-4 border-2 rounded-lg cursor-pointer transition-all ${A[G.key]?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>C(G.key),children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(ae,{className:`w-6 h-6 ${A[G.key]?"text-purple-600":"text-gray-400"}`}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-gray-900",children:G.title}),l.jsx("p",{className:"text-sm text-gray-600",children:G.desc})]})]})},G.key)})})]}),X=()=>{var M,z,Z;if(!y)return null;const G=y.workflow,ae=Object.entries(A).filter(([te,ie])=>ie).map(([te,ie])=>te);return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[l.jsx(Vt,{className:"w-8 h-8 text-purple-600"}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Your Comprehensive Workflow is Ready!"})]}),l.jsxs("p",{className:"text-gray-600",children:["Stella has created a complete workflow with ",((M=G.components_created)==null?void 0:M.length)||0," integrated modules"]})]}),l.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(Dl,{className:"w-6 h-6 text-green-600 mt-0.5"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-green-900",children:"Workflow Created Successfully!"}),l.jsx("p",{className:"text-green-700 mt-1",children:G.message})]})]})}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"📊 Workflow Overview"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[l.jsx(jn,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),l.jsx("div",{className:"text-lg font-bold text-blue-600",children:G.event_title}),l.jsx("div",{className:"text-sm text-gray-600",children:"Event Created"})]}),l.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[l.jsx(Dl,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),l.jsx("div",{className:"text-lg font-bold text-green-600",children:((z=G.components_created)==null?void 0:z.length)||0}),l.jsx("div",{className:"text-sm text-gray-600",children:"Modules Integrated"})]}),l.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[l.jsx(Vt,{className:"w-8 h-8 text-purple-600 mx-auto mb-2"}),l.jsx("div",{className:"text-lg font-bold text-purple-600",children:"Active"}),l.jsx("div",{className:"text-sm text-gray-600",children:"Workflow Status"})]}),l.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[l.jsx(Uu,{className:"w-8 h-8 text-orange-600 mx-auto mb-2"}),l.jsx("div",{className:"text-lg font-bold text-orange-600",children:ae.length}),l.jsx("div",{className:"text-sm text-gray-600",children:"Selected Modules"})]})]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"🚀 Next Steps"}),l.jsx("div",{className:"space-y-3",children:(Z=G.next_steps)==null?void 0:Z.map((te,ie)=>l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx("div",{className:"bg-blue-100 text-blue-600 text-sm font-medium px-2 py-1 rounded",children:ie+1}),l.jsx("p",{className:"text-gray-700",children:te})]},ie))})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsxs("button",{onClick:()=>{D(),e("/events")},className:"flex items-center justify-center space-x-2 p-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx(ds,{className:"w-5 h-5"}),l.jsx("span",{children:"View Event Details"})]}),l.jsxs("button",{onClick:()=>{D(),e("/budget")},className:"flex items-center justify-center space-x-2 p-4 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[l.jsx(Zn,{className:"w-5 h-5"}),l.jsx("span",{children:"Review Budget"})]}),l.jsxs("button",{onClick:()=>{D(),e("/communications")},className:"flex items-center justify-center space-x-2 p-4 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[l.jsx(Qa,{className:"w-5 h-5"}),l.jsx("span",{children:"Start Communications"})]}),l.jsxs("button",{onClick:k,className:"flex items-center justify-center space-x-2 p-4 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[l.jsx(n1,{className:"w-5 h-5"}),l.jsx("span",{children:"Create Another Event"})]})]})]})},Q=()=>d?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"}),l.jsx("h2",{className:"text-2xl font-bold text-purple-900",children:"Stella is Creating Your Workflow"})]}),l.jsx("p",{className:"text-gray-600",children:"This may take a few moments as Stella analyzes your requirements"})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[l.jsx("span",{children:v}),l.jsxs("span",{children:[p,"%"]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:l.jsx("div",{className:"bg-purple-600 h-3 rounded-full transition-all duration-500",style:{width:`${p}%`}})})]}),l.jsx("div",{className:"text-sm text-gray-600 text-center",children:"Stella is analyzing your organization's context, past events, and best practices to create the perfect comprehensive workflow for your event."})]})]}):null,Y=()=>l.jsxs("div",{className:"flex justify-between pt-6",children:[l.jsx("button",{onClick:()=>s(Math.max(1,o-1)),disabled:o===1||d,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),o<3?l.jsx("button",{onClick:()=>s(o+1),disabled:d,className:"px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"}):o===3?l.jsxs("button",{onClick:H,disabled:d||!w.title.trim(),className:"flex items-center space-x-2 px-8 py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx(Vt,{className:"w-5 h-5"}),l.jsx("span",{children:"Generate Workflow"}),!d&&l.jsx(UN,{className:"w-5 h-5"})]}):l.jsx("button",{onClick:()=>e("/events"),className:"px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"View Events"})]});return l.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:l.jsxs("div",{className:"max-w-4xl mx-auto px-6",children:[l.jsxs("div",{className:"text-center mb-8 relative",children:[l.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[l.jsx(Vt,{className:"w-10 h-10 text-purple-600"}),l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Stella Event Workflow Wizard"})]}),l.jsx("p",{className:"text-lg text-gray-600",children:"Let Stella create a comprehensive workflow for your event with integrated project management, budgeting, communications, and volunteer coordination."}),(o>1||w.title||_.additionalGoals.length>0)&&l.jsxs("button",{onClick:k,className:"absolute top-0 right-0 flex items-center space-x-2 px-4 py-2 text-sm text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",title:"Clear all data and start over",children:[l.jsx(n1,{className:"w-4 h-4"}),l.jsx("span",{children:"Start Over"})]})]}),l.jsx("div",{className:"flex justify-center mb-8",children:l.jsx("div",{className:"flex items-center",children:[1,2,3,4].map(G=>l.jsxs("div",{className:"flex items-center",children:[l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${o>=G?"bg-purple-600 text-white":"bg-gray-200 text-gray-600"}`,children:G}),l.jsxs("div",{className:`text-sm mt-4 whitespace-nowrap ${o>=G?"text-purple-600 font-medium":"text-gray-500"}`,children:[G===1&&"Event Details",G===2&&"Context & Goals",G===3&&"Module Selection",G===4&&"Workflow Results"]})]}),G<4&&l.jsx("div",{className:`w-24 h-1 mx-6 ${o>G?"bg-purple-600":"bg-gray-200"}`})]},G))})}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-8",children:[d?l.jsx(Q,{}):l.jsxs(l.Fragment,{children:[o===1&&l.jsx(TE,{eventData:w,setEventData:N}),o===2&&l.jsx(CE,{stellaContext:_,setStellaContext:b,handleStellaContextChange:E,handleAdditionalGoalsChange:T,handleResourcesChange:$,handleConstraintsChange:I}),o===3&&l.jsx(V,{}),o===4&&l.jsx(X,{})]}),!d&&l.jsx(Y,{})]})]})})},ME=()=>{const{eventId:e}=mc(),t=gr(),[r,n]=F.useState(null),[a,i]=F.useState(null),[o,s]=F.useState(null),[c,u]=F.useState("overview"),[d,f]=F.useState(!0);if(F.useEffect(()=>{e&&(async()=>{try{const{data:{session:w}}=await He.auth.getSession();if(w!=null&&w.user){const{data:N}=await He.from("profiles").select("*").eq("id",w.user.id).single();s(N);const _=await zP.getEvent(e);if(_.data){n(_.data);const b=await ho.analyzeEventWorkflow(_.data,N.org_id);i(b)}}}catch(w){console.error("Error fetching event and workflow:",w),nt.error("Failed to load event workflow")}finally{f(!1)}})()},[e]),d)return l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-600 border-t-transparent"})});if(!r||!a)return l.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-8 text-center",children:[l.jsx(wP,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Event Not Found"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"The event workflow could not be loaded."}),l.jsx("button",{onClick:()=>t("/events"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Back to Events"})]});const p=()=>{var x,w,N,_,b,A,O,E;return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-6",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:r.title}),l.jsx("p",{className:"text-gray-600 mb-4",children:r.description}),l.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-600",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(jn,{className:"w-4 h-4"}),l.jsx("span",{children:new Date(r.event_date).toLocaleDateString()})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(ra,{className:"w-4 h-4"}),l.jsxs("span",{children:[r.expected_attendance||"TBD"," expected"]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Zn,{className:"w-4 h-4"}),l.jsxs("span",{children:["$",r.estimated_budget||0," budget"]})]})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Vt,{className:"w-5 h-5 text-purple-600"}),l.jsx("span",{className:"text-sm font-medium text-purple-700",children:"Stella Workflow"})]})]})}),a.eventComplexity&&l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Event Complexity Analysis"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[l.jsx("div",{className:`text-2xl font-bold mb-1 ${a.eventComplexity.complexity==="complex"?"text-red-600":a.eventComplexity.complexity==="moderate"?"text-yellow-600":"text-green-600"}`,children:a.eventComplexity.complexity.toUpperCase()}),l.jsx("div",{className:"text-sm text-gray-600",children:"Complexity Level"})]}),l.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[l.jsxs("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:[a.eventComplexity.score,"/10"]}),l.jsx("div",{className:"text-sm text-gray-600",children:"Complexity Score"})]}),l.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[l.jsx(Ol,{className:"w-8 h-8 text-purple-600 mx-auto mb-2"}),l.jsxs("div",{className:"text-sm text-gray-600",children:[((x=a.workflowPlan)==null?void 0:x.recommendedTimeline)||"6-8 weeks"," Timeline"]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-4 text-center",children:[l.jsx(Uu,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),l.jsx("div",{className:"text-lg font-semibold text-gray-900",children:((N=(w=a.workflowPlan)==null?void 0:w.keyMilestones)==null?void 0:N.length)||0}),l.jsx("div",{className:"text-sm text-gray-600",children:"Milestones"})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-4 text-center",children:[l.jsx(ra,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),l.jsx("div",{className:"text-lg font-semibold text-gray-900",children:((b=(_=a.workflowPlan)==null?void 0:_.volunteerNeeds)==null?void 0:b.totalVolunteers)||0}),l.jsx("div",{className:"text-sm text-gray-600",children:"Volunteers Needed"})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-4 text-center",children:[l.jsx(Qa,{className:"w-8 h-8 text-purple-600 mx-auto mb-2"}),l.jsx("div",{className:"text-lg font-semibold text-gray-900",children:Object.keys(((A=a.workflowPlan)==null?void 0:A.communicationPlan)||{}).length}),l.jsx("div",{className:"text-sm text-gray-600",children:"Communication Phases"})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-4 text-center",children:[l.jsx(Zn,{className:"w-8 h-8 text-yellow-600 mx-auto mb-2"}),l.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["$",((E=(O=a.workflowPlan)==null?void 0:O.budgetRecommendations)==null?void 0:E.suggestedBudget)||r.estimated_budget||0]}),l.jsx("div",{className:"text-sm text-gray-600",children:"Recommended Budget"})]})]})]})},h=()=>{var x;return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Project Timeline"}),l.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[l.jsx(a1,{className:"w-4 h-4"}),l.jsx("span",{children:"Add Milestone"})]})]}),(x=a.workflowPlan)!=null&&x.keyMilestones?l.jsx("div",{className:"space-y-4",children:a.workflowPlan.keyMilestones.map((w,N)=>l.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex items-start space-x-4",children:[l.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-bold ${N===0?"bg-green-600":"bg-blue-600"}`,children:w.week}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:w.milestone}),l.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:["Week ",w.week," milestone"]}),w.tasks&&l.jsx("ul",{className:"space-y-1",children:w.tasks.map((_,b)=>l.jsxs("li",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[l.jsx(Dl,{className:"w-4 h-4 text-green-500"}),l.jsx("span",{children:_})]},b))})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600",children:l.jsx(zu,{className:"w-4 h-4"})}),l.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600",children:l.jsx(ds,{className:"w-4 h-4"})})]})]})},N))}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx(Ol,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500",children:"No timeline generated yet"})]})]})},v=()=>{var x;return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Budget Planning"}),l.jsxs("button",{onClick:()=>t("/budget/create"),className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[l.jsx(a1,{className:"w-4 h-4"}),l.jsx("span",{children:"Create Budget"})]})]}),(x=a.workflowPlan)!=null&&x.budgetRecommendations?l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[l.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Recommended Budget"}),l.jsxs("div",{className:"text-3xl font-bold text-green-600 mb-2",children:["$",a.workflowPlan.budgetRecommendations.suggestedBudget]}),l.jsx("p",{className:"text-sm text-gray-600",children:"Total recommended amount"})]}),a.workflowPlan.budgetRecommendations.breakdown&&l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[l.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Budget Breakdown"}),l.jsx("div",{className:"space-y-3",children:Object.entries(a.workflowPlan.budgetRecommendations.breakdown).map(([w,N])=>l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"capitalize text-gray-700",children:w}),l.jsxs("span",{className:"font-medium text-gray-900",children:["$",N]})]},w))})]})]}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx(Zn,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500",children:"No budget recommendations generated yet"})]})]})},g=()=>{var x;return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Communication Campaign"}),l.jsxs("button",{onClick:()=>t("/communications/compose"),className:"flex items-center space-x-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:[l.jsx(Qa,{className:"w-4 h-4"}),l.jsx("span",{children:"Create Campaign"})]})]}),(x=a.workflowPlan)!=null&&x.communicationPlan?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.entries(a.workflowPlan.communicationPlan).map(([w,N])=>l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[l.jsx(Qa,{className:"w-5 h-5 text-purple-600"}),l.jsx("h4",{className:"font-semibold text-gray-900 capitalize",children:w.replace(/([A-Z])/g," $1")})]}),l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:N}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-md text-sm hover:bg-purple-200",children:"Create Email"}),l.jsx("button",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-md text-sm hover:bg-blue-200",children:"Schedule SMS"})]})]},w))}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx(Qa,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500",children:"No communication plan generated yet"})]})]})},y=[{id:"overview",label:"Overview",icon:GN},{id:"timeline",label:"Timeline",icon:Ol},{id:"budget",label:"Budget",icon:Zn},{id:"communications",label:"Communications",icon:Qa}];return l.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-8",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Event Workflow"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Comprehensive event management powered by Stella AI"})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("button",{onClick:()=>t(`/events/${e}`),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"View Event"}),l.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center space-x-2",children:[l.jsx(WN,{className:"w-4 h-4"}),l.jsx("span",{children:"Export Workflow"})]})]})]}),l.jsx("div",{className:"border-b border-gray-200 mb-8",children:l.jsx("nav",{className:"-mb-px flex space-x-8",children:y.map(x=>{const w=x.icon;return l.jsxs("button",{onClick:()=>u(x.id),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ${c===x.id?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[l.jsx(w,{className:"w-4 h-4"}),l.jsx("span",{children:x.label})]},x.id)})})}),l.jsxs("div",{children:[c==="overview"&&l.jsx(p,{}),c==="timeline"&&l.jsx(h,{}),c==="budget"&&l.jsx(v,{}),c==="communications"&&l.jsx(g,{})]})]})};function $E(){const[e,t]=F.useState(null),[r,n]=F.useState(""),a=gr(),{id:i}=mc();F.useEffect(()=>{async function c(){const{data:u,error:d}=await He.from("events").select("*").eq("id",i).single();d?(n("Failed to load event."),console.error(d)):t(u)}c()},[i]);const o=c=>{const{name:u,value:d,type:f,checked:p}=c.target;t(h=>({...h,[u]:f==="checkbox"?p:d}))},s=async c=>{c.preventDefault();const{error:u}=await He.from("events").update({title:e.title,event_date:e.event_date,category:e.category,school_level:e.school_level,share_public:e.share_public}).eq("id",i);u?(n("Update failed."),console.error(u)):a("/events")};return e?l.jsxs("div",{className:"max-w-xl mx-auto mt-8 p-6 bg-white shadow rounded",children:[l.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Edit Event"}),r&&l.jsx("p",{className:"text-red-500 mb-2",children:r}),l.jsxs("form",{onSubmit:s,className:"space-y-4",children:[l.jsx("input",{type:"text",name:"title",value:e.title,onChange:o,className:"w-full border p-2 rounded",required:!0}),l.jsx("input",{type:"date",name:"event_date",value:e.event_date,onChange:o,className:"w-full border p-2 rounded",required:!0}),l.jsxs("select",{name:"category",value:e.category,onChange:o,className:"w-full border p-2 rounded",required:!0,children:[l.jsx("option",{value:"Fundraiser",children:"Fundraiser"}),l.jsx("option",{value:"Meeting",children:"Meeting"}),l.jsx("option",{value:"Celebration",children:"Celebration"}),l.jsx("option",{value:"Other",children:"Other"})]}),l.jsxs("select",{name:"school_level",value:e.school_level,onChange:o,className:"w-full border p-2 rounded",required:!0,children:[l.jsx("option",{value:"Elementary",children:"Elementary"}),l.jsx("option",{value:"Middle",children:"Middle"}),l.jsx("option",{value:"High",children:"High"})]}),l.jsxs("label",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",name:"share_public",checked:e.share_public,onChange:o}),l.jsx("span",{children:"Share Publicly"})]}),l.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700",children:"Save Changes"})]})]}):l.jsx("p",{className:"p-4",children:"Loading event..."})}function DE(e,t){if(xt(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xt(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SS(e){var t=DE(e,"string");return xt(t)=="symbol"?t:t+""}function Zo(e,t,r){return(t=SS(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L1(Object(r),!0).forEach(function(n){Zo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Up(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ci(e,t){if(e==null)return{};var r,n,a=Up(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Pr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,SS(n.key),n)}}function Er(e,t,r){return t&&M1(e.prototype,t),r&&M1(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function kh(e){return kh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},kh(e)}function _S(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_S=function(){return!!e})()}function IE(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RE(e,t){if(t&&(xt(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IE(e)}function en(e,t,r){return t=kh(t),RE(e,_S()?Reflect.construct(t,r||[],kh(e).constructor):t.apply(e,r))}function Th(e,t){return Th=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Th(e,t)}function tn(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Th(e,t)}function AS(e){if(Array.isArray(e))return e}function FE(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function Zv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Vy(e,t){if(e){if(typeof e=="string")return Zv(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Zv(e,t):void 0}}function OS(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hs(e,t){return AS(e)||FE(e,t)||Vy(e,t)||OS()}function PS(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=PS(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function cr(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=PS(e))&&(n&&(n+=" "),n+=t);return n}function sr(){return sr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sr.apply(null,arguments)}var BE=function(e,t,r,n,a,i,o,s){if(!e){var c;if(t===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,n,a,i,o,s],d=0;c=new Error(t.replace(/%s/g,function(){return u[d++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}},qE=BE;const Hu=wt(qE);var zE=function(){};function UE(e,t){var r={};return Object.keys(e).forEach(function(n){r[wh(n)]=zE}),r}function $1(e,t){return e[t]!==void 0}function wh(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function WE(e){return!!e&&(typeof e!="function"||e.prototype&&e.prototype.isReactComponent)}function GE(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Th(e,t)}function ES(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function kS(e){function t(r){var n=this.constructor.getDerivedStateFromProps(e,r);return n??null}this.setState(t.bind(this))}function TS(e,t){try{var r=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}ES.__suppressDeprecationWarning=!0;kS.__suppressDeprecationWarning=!0;TS.__suppressDeprecationWarning=!0;function HE(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var r=null,n=null,a=null;if(typeof t.componentWillMount=="function"?r="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(r="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?n="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(n="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?a="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(a="UNSAFE_componentWillUpdate"),r!==null||n!==null||a!==null){var i=e.displayName||e.name,o=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+i+" uses "+o+" but also contains the following legacy lifecycles:"+(r!==null?`
  `+r:"")+(n!==null?`
  `+n:"")+(a!==null?`
  `+a:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=ES,t.componentWillReceiveProps=kS),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=TS;var s=t.componentDidUpdate;t.componentDidUpdate=function(u,d,f){var p=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:f;s.call(this,u,d,p)}}return e}var VE="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function CS(e,t,r){r===void 0&&(r=[]);var n=e.displayName||e.name||"Component",a=WE(e),i=Object.keys(t),o=i.map(wh);a||!r.length||Hu(!1);var s=function(u){GE(d,u);function d(){for(var p,h=arguments.length,v=new Array(h),g=0;g<h;g++)v[g]=arguments[g];p=u.call.apply(u,[this].concat(v))||this,p.handlers=Object.create(null),i.forEach(function(x){var w=t[x],N=function(b){if(p.props[w]){var A;p._notifying=!0;for(var O=arguments.length,E=new Array(O>1?O-1:0),C=1;C<O;C++)E[C-1]=arguments[C];(A=p.props)[w].apply(A,[b].concat(E)),p._notifying=!1}p.unmounted||p.setState(function(D){var k,T=D.values;return{values:sr(Object.create(null),T,(k={},k[x]=b,k))}})};p.handlers[w]=N}),r.length&&(p.attachRef=function(x){p.inner=x});var y=Object.create(null);return i.forEach(function(x){y[x]=p.props[wh(x)]}),p.state={values:y,prevProps:{}},p}var f=d.prototype;return f.shouldComponentUpdate=function(){return!this._notifying},d.getDerivedStateFromProps=function(h,v){var g=v.values,y=v.prevProps,x={values:sr(Object.create(null),g),prevProps:{}};return i.forEach(function(w){x.prevProps[w]=h[w],!$1(h,w)&&$1(y,w)&&(x.values[w]=h[wh(w)])}),x},f.componentWillUnmount=function(){this.unmounted=!0},f.render=function(){var h=this,v=this.props,g=v.innerRef,y=Up(v,["innerRef"]);o.forEach(function(w){delete y[w]});var x={};return i.forEach(function(w){var N=h.props[w];x[w]=N!==void 0?N:h.state.values[w]}),q.createElement(e,sr({},y,x,this.handlers,{ref:g||this.attachRef}))},d}(q.Component);HE(s),s.displayName="Uncontrolled("+n+")",s.propTypes=sr({innerRef:function(){}},UE(t)),r.forEach(function(u){s.prototype[u]=function(){var f;return(f=this.inner)[u].apply(f,arguments)}});var c=s;return q.forwardRef&&(c=q.forwardRef(function(u,d){return q.createElement(s,sr({},u,{innerRef:d,__source:{fileName:VE,lineNumber:128},__self:this}))}),c.propTypes=s.propTypes),c.ControlledComponent=e,c.deferControlTo=function(u,d,f){return d===void 0&&(d={}),CS(u,sr({},t,d),f)},c}var Ch="milliseconds",Vu="seconds",Yu="minutes",Ku="hours",ps="day",Il="week",Xu="month",ms="year",gs="decade",vs="century",LS={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:60*60*1e3,day:24*60*60*1e3,week:7*24*60*60*1e3},YE={month:1,year:12,decade:10*12,century:100*12};function KE(e){return[31,XE(e),31,30,31,30,31,31,30,31,30,31]}function XE(e){return e%4===0&&e%100!==0||e%400===0?29:28}function Ca(e,t,r){switch(e=new Date(e),r){case Ch:case Vu:case Yu:case Ku:case ps:case Il:return JE(e,t*LS[r]);case Xu:case ms:case gs:case vs:return ZE(e,t*YE[r])}throw new TypeError('Invalid units: "'+r+'"')}function JE(e,t){var r=new Date(+e+t);return QE(e,r)}function ZE(e,t){var r=e.getFullYear(),n=e.getMonth(),a=e.getDate(),i=r*12+n+t,o=Math.trunc(i/12),s=i%12,c=Math.min(a,KE(o)[s]),u=new Date(e);return u.setFullYear(o),u.setDate(1),u.setMonth(s),u.setDate(c),u}function QE(e,t){var r=e.getTimezoneOffset(),n=t.getTimezoneOffset(),a=n-r;return new Date(+t+a*LS.minutes)}function Ju(e,t,r){return Ca(e,-t,r)}function zr(e,t,r){switch(e=new Date(e),t){case vs:case gs:case ms:e=Mh(e,0);case Xu:e=RS(e,1);case Il:case ps:e=ed(e,0);case Ku:e=Rl(e,0);case Yu:e=Qu(e,0);case Vu:e=Zu(e,0)}return t===gs&&(e=Ju(e,ys(e)%10,"year")),t===vs&&(e=Ju(e,ys(e)%100,"year")),t===Il&&(e=FS(e,0,r)),e}function Lh(e,t,r){switch(e=new Date(e),e=zr(e,t,r),t){case vs:case gs:case ms:case Xu:case Il:e=Ca(e,1,t),e=Ju(e,1,ps),e.setHours(23,59,59,999);break;case ps:e.setHours(23,59,59,999);break;case Ku:case Yu:case Vu:e=Ca(e,1,t),e=Ju(e,1,Ch)}return e}var gc=yc(function(e,t){return e===t}),Yy=yc(function(e,t){return e!==t}),Wp=yc(function(e,t){return e>t}),Ud=yc(function(e,t){return e>=t}),Ky=yc(function(e,t){return e<t}),vc=yc(function(e,t){return e<=t});function MS(){return new Date(Math.min.apply(Math,arguments))}function $S(){return new Date(Math.max.apply(Math,arguments))}function DS(e,t,r,n){return n=n||"day",(!t||Ud(e,t,n))&&(!r||vc(e,r,n))}var Zu=wo("Milliseconds"),Qu=wo("Seconds"),Rl=wo("Minutes"),ed=wo("Hours"),IS=wo("Day"),RS=wo("Date"),Mh=wo("Month"),ys=wo("FullYear");function ek(e,t){return t===void 0?ys(zr(e,gs)):Ca(e,t+10,ms)}function tk(e,t){return t===void 0?ys(zr(e,vs)):Ca(e,t+100,ms)}function FS(e,t,r){var n=(IS(e)+7-(r||0))%7;return t===void 0?n:Ca(e,t-n,ps)}function rk(e,t,r,n){var a,i,o;switch(r){case Ch:case Vu:case Yu:case Ku:case ps:case Il:a=t.getTime()-e.getTime();break;case Xu:case ms:case gs:case vs:a=(ys(t)-ys(e))*12+Mh(t)-Mh(e);break;default:throw new TypeError('Invalid units: "'+r+'"')}switch(r){case Ch:i=1;break;case Vu:i=1e3;break;case Yu:i=1e3*60;break;case Ku:i=1e3*60*60;break;case ps:i=1e3*60*60*24;break;case Il:i=1e3*60*60*24*7;break;case Xu:i=1;break;case ms:i=12;break;case gs:i=120;break;case vs:i=1200;break;default:throw new TypeError('Invalid units: "'+r+'"')}return o=a/i,n?o:Math.round(o)}function wo(e){var t=function(r){switch(r){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(e);return function(r,n){if(n===void 0)return r["get"+e]();var a=new Date(r);return a["set"+e](n),t&&a["get"+e]()!=n&&(e==="Hours"||n>=t&&a.getHours()-r.getHours()<Math.floor(n/t))&&a["set"+e](n+t),a}}function yc(e){return function(t,r,n){return e(+zr(t,n),+zr(r,n))}}const D1=Object.freeze(Object.defineProperty({__proto__:null,add:Ca,century:tk,date:RS,day:IS,decade:ek,diff:rk,endOf:Lh,eq:gc,gt:Wp,gte:Ud,hours:ed,inRange:DS,lt:Ky,lte:vc,max:$S,milliseconds:Zu,min:MS,minutes:Rl,month:Mh,neq:Yy,seconds:Qu,startOf:zr,subtract:Ju,weekday:FS,year:ys},Symbol.toStringTag,{value:"Module"}));function nk(e){if(Array.isArray(e))return Zv(e)}function BS(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ak(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jh(e){return nk(e)||BS(e)||Vy(e)||ak()}function ik(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var Xy=ik;function ok(e,t){return e===t||e!==e&&t!==t}var Wd=ok,sk=typeof Qn=="object"&&Qn&&Qn.Object===Object&&Qn,qS=sk,lk=qS,ck=typeof self=="object"&&self&&self.Object===Object&&self,uk=lk||ck||Function("return this")(),$a=uk,dk=$a,fk=dk.Symbol,bc=fk,I1=bc,zS=Object.prototype,hk=zS.hasOwnProperty,pk=zS.toString,vu=I1?I1.toStringTag:void 0;function mk(e){var t=hk.call(e,vu),r=e[vu];try{e[vu]=void 0;var n=!0}catch{}var a=pk.call(e);return n&&(t?e[vu]=r:delete e[vu]),a}var gk=mk,vk=Object.prototype,yk=vk.toString;function bk(e){return yk.call(e)}var xk=bk,R1=bc,wk=gk,jk=xk,Nk="[object Null]",Sk="[object Undefined]",F1=R1?R1.toStringTag:void 0;function _k(e){return e==null?e===void 0?Sk:Nk:F1&&F1 in Object(e)?wk(e):jk(e)}var Fi=_k;function Ak(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var oa=Ak;const xc=wt(oa);var Ok=Fi,Pk=oa,Ek="[object AsyncFunction]",kk="[object Function]",Tk="[object GeneratorFunction]",Ck="[object Proxy]";function Lk(e){if(!Pk(e))return!1;var t=Ok(e);return t==kk||t==Tk||t==Ek||t==Ck}var Gp=Lk;const at=wt(Gp);var Mk=9007199254740991;function $k(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Mk}var Jy=$k,Dk=Gp,Ik=Jy;function Rk(e){return e!=null&&Ik(e.length)&&!Dk(e)}var wc=Rk,Fk=9007199254740991,Bk=/^(?:0|[1-9]\d*)$/;function qk(e,t){var r=typeof e;return t=t??Fk,!!t&&(r=="number"||r!="symbol"&&Bk.test(e))&&e>-1&&e%1==0&&e<t}var Zy=qk,zk=Wd,Uk=wc,Wk=Zy,Gk=oa;function Hk(e,t,r){if(!Gk(r))return!1;var n=typeof t;return(n=="number"?Uk(r)&&Wk(t,r.length):n=="string"&&t in r)?zk(r[t],e):!1}var jc=Hk,Vk=/\s/;function Yk(e){for(var t=e.length;t--&&Vk.test(e.charAt(t)););return t}var Kk=Yk,Xk=Kk,Jk=/^\s+/;function Zk(e){return e&&e.slice(0,Xk(e)+1).replace(Jk,"")}var Qk=Zk;function eT(e){return e!=null&&typeof e=="object"}var Da=eT,tT=Fi,rT=Da,nT="[object Symbol]";function aT(e){return typeof e=="symbol"||rT(e)&&tT(e)==nT}var Nc=aT,iT=Qk,B1=oa,oT=Nc,q1=NaN,sT=/^[-+]0x[0-9a-f]+$/i,lT=/^0b[01]+$/i,cT=/^0o[0-7]+$/i,uT=parseInt;function dT(e){if(typeof e=="number")return e;if(oT(e))return q1;if(B1(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=B1(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=iT(e);var r=lT.test(e);return r||cT.test(e)?uT(e.slice(2),r?2:8):sT.test(e)?q1:+e}var US=dT,fT=US,z1=1/0,hT=17976931348623157e292;function pT(e){if(!e)return e===0?e:0;if(e=fT(e),e===z1||e===-z1){var t=e<0?-1:1;return t*hT}return e===e?e:0}var WS=pT,mT=WS;function gT(e){var t=mT(e),r=t%1;return t===t?r?t-r:t:0}var GS=gT,vT=Xy,yT=jc,bT=GS,xT=Math.ceil,wT=Math.max;function jT(e,t,r){(r?yT(e,t,r):t===void 0)?t=1:t=wT(bT(t),0);var n=e==null?0:e.length;if(!n||t<1)return[];for(var a=0,i=0,o=Array(xT(n/t));a<n;)o[i++]=vT(e,a,a+=t);return o}var NT=jT;const ST=wt(NT);function Gd(e){return e&&e.ownerDocument||document}function _T(e){var t=Gd(e);return t&&t.defaultView||window}function AT(e,t){return _T(e).getComputedStyle(e,t)}var OT=/([A-Z])/g;function PT(e){return e.replace(OT,"-$1").toLowerCase()}var ET=/^ms-/;function Jf(e){return PT(e).replace(ET,"-ms-")}var kT=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function TT(e){return!!(e&&kT.test(e))}function bl(e,t){var r="",n="";if(typeof t=="string")return e.style.getPropertyValue(Jf(t))||AT(e).getPropertyValue(Jf(t));Object.keys(t).forEach(function(a){var i=t[a];!i&&i!==0?e.style.removeProperty(Jf(a)):TT(a)?n+=a+"("+i+") ":r+=Jf(a)+": "+i+";"}),n&&(r+="transform: "+n+";"),e.style.cssText+=";"+r}function td(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}function CT(e){return"nodeType"in e&&e.nodeType===document.DOCUMENT_NODE}function Qy(e){return"window"in e&&e.window===e?e:CT(e)&&e.defaultView||!1}function HS(e){var t=e==="pageXOffset"?"scrollLeft":"scrollTop";function r(n,a){var i=Qy(n);if(a===void 0)return i?i[e]:n[t];i?i.scrollTo(i[e],a):n[t]=a}return r}const VS=HS("pageXOffset"),YS=HS("pageYOffset");function os(e){var t=Gd(e),r={top:0,left:0,height:0,width:0},n=t&&t.documentElement;return!n||!td(n,e)||(e.getBoundingClientRect!==void 0&&(r=e.getBoundingClientRect()),r={top:r.top+YS(n)-(n.clientTop||0),left:r.left+VS(n)-(n.clientLeft||0),width:r.width,height:r.height}),r}var LT=function(t){return!!t&&"offsetParent"in t};function MT(e){for(var t=Gd(e),r=e&&e.offsetParent;LT(r)&&r.nodeName!=="HTML"&&bl(r,"position")==="static";)r=r.offsetParent;return r||t.documentElement}var $T=function(t){return t.nodeName&&t.nodeName.toLowerCase()};function KS(e,t){var r={top:0,left:0},n;if(bl(e,"position")==="fixed")n=e.getBoundingClientRect();else{var a=t||MT(e);n=os(e),$T(a)!=="html"&&(r=os(a));var i=String(bl(a,"borderTopWidth")||0);r.top+=parseInt(i,10)-YS(a)||0;var o=String(bl(a,"borderLeftWidth")||0);r.left+=parseInt(o,10)-VS(a)||0}var s=String(bl(e,"marginTop")||0),c=String(bl(e,"marginLeft")||0);return sr({},n,{top:n.top-r.top-(parseInt(s,10)||0),left:n.left-r.left-(parseInt(c,10)||0)})}const eb=!!(typeof window<"u"&&window.document&&window.document.createElement);var U1=new Date().getTime();function DT(e){var t=new Date().getTime(),r=Math.max(0,16-(t-U1)),n=setTimeout(e,r);return U1=t,n}var IT=["","webkit","moz","o","ms"],Qv="clearTimeout",e0=DT,W1=function(t,r){return t+(t?r[0].toUpperCase()+r.substr(1):r)+"AnimationFrame"};eb&&IT.some(function(e){var t=W1(e,"request");return t in window&&(Qv=W1(e,"cancel"),e0=function(n){return window[t](n)}),!!e0});var G1=function(t){typeof window[Qv]=="function"&&window[Qv](t)},XS=e0,Qg;function RT(e,t){if(!Qg){var r=document.body,n=r.matches||r.matchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector;Qg=function(i,o){return n.call(i,o)}}return Qg(e,t)}var FT=Function.prototype.bind.call(Function.prototype.call,[].slice);function BT(e,t){return FT(e.querySelectorAll(t))}var t0=!1,r0=!1;try{var ev={get passive(){return t0=!0},get once(){return r0=t0=!0}};eb&&(window.addEventListener("test",ev,ev),window.removeEventListener("test",ev,!0))}catch{}function qT(e,t,r,n){if(n&&typeof n!="boolean"&&!r0){var a=n.once,i=n.capture,o=r;!r0&&a&&(o=r.__once||function s(c){this.removeEventListener(t,s,i),r.call(this,c)},r.__once=o),e.addEventListener(t,o,t0?n:i)}e.addEventListener(t,r,n)}function zT(e){const t=F.useRef(e);return F.useEffect(()=>{t.current=e},[e]),t}function H1(e){const t=zT(e);return F.useCallback(function(...r){return t.current&&t.current(...r)},[t])}function V1(){return F.useState(null)}function UT(){const e=F.useRef(!0),t=F.useRef(()=>e.current);return F.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function WT(e){const t=UT();return[e[0],F.useCallback(r=>{if(t())return e[1](r)},[t,e[1]])]}var Nn="top",na="bottom",aa="right",Sn="left",tb="auto",Hd=[Nn,na,aa,Sn],Fl="start",rd="end",GT="clippingParents",JS="viewport",yu="popper",HT="reference",Y1=Hd.reduce(function(e,t){return e.concat([t+"-"+Fl,t+"-"+rd])},[]),rb=[].concat(Hd,[tb]).reduce(function(e,t){return e.concat([t,t+"-"+Fl,t+"-"+rd])},[]),VT="beforeRead",YT="read",KT="afterRead",XT="beforeMain",JT="main",ZT="afterMain",QT="beforeWrite",eC="write",tC="afterWrite",rC=[VT,YT,KT,XT,JT,ZT,QT,eC,tC];function ii(e){return e.split("-")[0]}function Rn(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function bs(e){var t=Rn(e).Element;return e instanceof t||e instanceof Element}function oi(e){var t=Rn(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function nb(e){if(typeof ShadowRoot>"u")return!1;var t=Rn(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}var ss=Math.max,$h=Math.min,Bl=Math.round;function n0(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function ZS(){return!/^((?!chrome|android).)*safari/i.test(n0())}function ql(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var n=e.getBoundingClientRect(),a=1,i=1;t&&oi(e)&&(a=e.offsetWidth>0&&Bl(n.width)/e.offsetWidth||1,i=e.offsetHeight>0&&Bl(n.height)/e.offsetHeight||1);var o=bs(e)?Rn(e):window,s=o.visualViewport,c=!ZS()&&r,u=(n.left+(c&&s?s.offsetLeft:0))/a,d=(n.top+(c&&s?s.offsetTop:0))/i,f=n.width/a,p=n.height/i;return{width:f,height:p,top:d,right:u+f,bottom:d+p,left:u,x:u,y:d}}function ab(e){var t=ql(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function QS(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&nb(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function vo(e){return e?(e.nodeName||"").toLowerCase():null}function $i(e){return Rn(e).getComputedStyle(e)}function nC(e){return["table","td","th"].indexOf(vo(e))>=0}function jo(e){return((bs(e)?e.ownerDocument:e.document)||window.document).documentElement}function Hp(e){return vo(e)==="html"?e:e.assignedSlot||e.parentNode||(nb(e)?e.host:null)||jo(e)}function K1(e){return!oi(e)||$i(e).position==="fixed"?null:e.offsetParent}function aC(e){var t=/firefox/i.test(n0()),r=/Trident/i.test(n0());if(r&&oi(e)){var n=$i(e);if(n.position==="fixed")return null}var a=Hp(e);for(nb(a)&&(a=a.host);oi(a)&&["html","body"].indexOf(vo(a))<0;){var i=$i(a);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||t&&i.willChange==="filter"||t&&i.filter&&i.filter!=="none")return a;a=a.parentNode}return null}function Vd(e){for(var t=Rn(e),r=K1(e);r&&nC(r)&&$i(r).position==="static";)r=K1(r);return r&&(vo(r)==="html"||vo(r)==="body"&&$i(r).position==="static")?t:r||aC(e)||t}function ib(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Mu(e,t,r){return ss(e,$h(t,r))}function iC(e,t,r){var n=Mu(e,t,r);return n>r?r:n}function e_(){return{top:0,right:0,bottom:0,left:0}}function t_(e){return Object.assign({},e_(),e)}function r_(e,t){return t.reduce(function(r,n){return r[n]=e,r},{})}var oC=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,t_(typeof t!="number"?t:r_(t,Hd))};function sC(e){var t,r=e.state,n=e.name,a=e.options,i=r.elements.arrow,o=r.modifiersData.popperOffsets,s=ii(r.placement),c=ib(s),u=[Sn,aa].indexOf(s)>=0,d=u?"height":"width";if(!(!i||!o)){var f=oC(a.padding,r),p=ab(i),h=c==="y"?Nn:Sn,v=c==="y"?na:aa,g=r.rects.reference[d]+r.rects.reference[c]-o[c]-r.rects.popper[d],y=o[c]-r.rects.reference[c],x=Vd(i),w=x?c==="y"?x.clientHeight||0:x.clientWidth||0:0,N=g/2-y/2,_=f[h],b=w-p[d]-f[v],A=w/2-p[d]/2+N,O=Mu(_,A,b),E=c;r.modifiersData[n]=(t={},t[E]=O,t.centerOffset=O-A,t)}}function lC(e){var t=e.state,r=e.options,n=r.element,a=n===void 0?"[data-popper-arrow]":n;a!=null&&(typeof a=="string"&&(a=t.elements.popper.querySelector(a),!a)||QS(t.elements.popper,a)&&(t.elements.arrow=a))}const cC={name:"arrow",enabled:!0,phase:"main",fn:sC,effect:lC,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function zl(e){return e.split("-")[1]}var uC={top:"auto",right:"auto",bottom:"auto",left:"auto"};function dC(e,t){var r=e.x,n=e.y,a=t.devicePixelRatio||1;return{x:Bl(r*a)/a||0,y:Bl(n*a)/a||0}}function X1(e){var t,r=e.popper,n=e.popperRect,a=e.placement,i=e.variation,o=e.offsets,s=e.position,c=e.gpuAcceleration,u=e.adaptive,d=e.roundOffsets,f=e.isFixed,p=o.x,h=p===void 0?0:p,v=o.y,g=v===void 0?0:v,y=typeof d=="function"?d({x:h,y:g}):{x:h,y:g};h=y.x,g=y.y;var x=o.hasOwnProperty("x"),w=o.hasOwnProperty("y"),N=Sn,_=Nn,b=window;if(u){var A=Vd(r),O="clientHeight",E="clientWidth";if(A===Rn(r)&&(A=jo(r),$i(A).position!=="static"&&s==="absolute"&&(O="scrollHeight",E="scrollWidth")),A=A,a===Nn||(a===Sn||a===aa)&&i===rd){_=na;var C=f&&A===b&&b.visualViewport?b.visualViewport.height:A[O];g-=C-n.height,g*=c?1:-1}if(a===Sn||(a===Nn||a===na)&&i===rd){N=aa;var D=f&&A===b&&b.visualViewport?b.visualViewport.width:A[E];h-=D-n.width,h*=c?1:-1}}var k=Object.assign({position:s},u&&uC),T=d===!0?dC({x:h,y:g},Rn(r)):{x:h,y:g};if(h=T.x,g=T.y,c){var $;return Object.assign({},k,($={},$[_]=w?"0":"",$[N]=x?"0":"",$.transform=(b.devicePixelRatio||1)<=1?"translate("+h+"px, "+g+"px)":"translate3d("+h+"px, "+g+"px, 0)",$))}return Object.assign({},k,(t={},t[_]=w?g+"px":"",t[N]=x?h+"px":"",t.transform="",t))}function fC(e){var t=e.state,r=e.options,n=r.gpuAcceleration,a=n===void 0?!0:n,i=r.adaptive,o=i===void 0?!0:i,s=r.roundOffsets,c=s===void 0?!0:s,u={placement:ii(t.placement),variation:zl(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,X1(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:c})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,X1(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const hC={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:fC,data:{}};var Zf={passive:!0};function pC(e){var t=e.state,r=e.instance,n=e.options,a=n.scroll,i=a===void 0?!0:a,o=n.resize,s=o===void 0?!0:o,c=Rn(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&u.forEach(function(d){d.addEventListener("scroll",r.update,Zf)}),s&&c.addEventListener("resize",r.update,Zf),function(){i&&u.forEach(function(d){d.removeEventListener("scroll",r.update,Zf)}),s&&c.removeEventListener("resize",r.update,Zf)}}const mC={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:pC,data:{}};var gC={left:"right",right:"left",bottom:"top",top:"bottom"};function Nh(e){return e.replace(/left|right|bottom|top/g,function(t){return gC[t]})}var vC={start:"end",end:"start"};function J1(e){return e.replace(/start|end/g,function(t){return vC[t]})}function ob(e){var t=Rn(e),r=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:r,scrollTop:n}}function sb(e){return ql(jo(e)).left+ob(e).scrollLeft}function yC(e,t){var r=Rn(e),n=jo(e),a=r.visualViewport,i=n.clientWidth,o=n.clientHeight,s=0,c=0;if(a){i=a.width,o=a.height;var u=ZS();(u||!u&&t==="fixed")&&(s=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:s+sb(e),y:c}}function bC(e){var t,r=jo(e),n=ob(e),a=(t=e.ownerDocument)==null?void 0:t.body,i=ss(r.scrollWidth,r.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),o=ss(r.scrollHeight,r.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),s=-n.scrollLeft+sb(e),c=-n.scrollTop;return $i(a||r).direction==="rtl"&&(s+=ss(r.clientWidth,a?a.clientWidth:0)-i),{width:i,height:o,x:s,y:c}}function lb(e){var t=$i(e),r=t.overflow,n=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+a+n)}function n_(e){return["html","body","#document"].indexOf(vo(e))>=0?e.ownerDocument.body:oi(e)&&lb(e)?e:n_(Hp(e))}function $u(e,t){var r;t===void 0&&(t=[]);var n=n_(e),a=n===((r=e.ownerDocument)==null?void 0:r.body),i=Rn(n),o=a?[i].concat(i.visualViewport||[],lb(n)?n:[]):n,s=t.concat(o);return a?s:s.concat($u(Hp(o)))}function a0(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function xC(e,t){var r=ql(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function Z1(e,t,r){return t===JS?a0(yC(e,r)):bs(t)?xC(t,r):a0(bC(jo(e)))}function wC(e){var t=$u(Hp(e)),r=["absolute","fixed"].indexOf($i(e).position)>=0,n=r&&oi(e)?Vd(e):e;return bs(n)?t.filter(function(a){return bs(a)&&QS(a,n)&&vo(a)!=="body"}):[]}function jC(e,t,r,n){var a=t==="clippingParents"?wC(e):[].concat(t),i=[].concat(a,[r]),o=i[0],s=i.reduce(function(c,u){var d=Z1(e,u,n);return c.top=ss(d.top,c.top),c.right=$h(d.right,c.right),c.bottom=$h(d.bottom,c.bottom),c.left=ss(d.left,c.left),c},Z1(e,o,n));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function a_(e){var t=e.reference,r=e.element,n=e.placement,a=n?ii(n):null,i=n?zl(n):null,o=t.x+t.width/2-r.width/2,s=t.y+t.height/2-r.height/2,c;switch(a){case Nn:c={x:o,y:t.y-r.height};break;case na:c={x:o,y:t.y+t.height};break;case aa:c={x:t.x+t.width,y:s};break;case Sn:c={x:t.x-r.width,y:s};break;default:c={x:t.x,y:t.y}}var u=a?ib(a):null;if(u!=null){var d=u==="y"?"height":"width";switch(i){case Fl:c[u]=c[u]-(t[d]/2-r[d]/2);break;case rd:c[u]=c[u]+(t[d]/2-r[d]/2);break}}return c}function nd(e,t){t===void 0&&(t={});var r=t,n=r.placement,a=n===void 0?e.placement:n,i=r.strategy,o=i===void 0?e.strategy:i,s=r.boundary,c=s===void 0?GT:s,u=r.rootBoundary,d=u===void 0?JS:u,f=r.elementContext,p=f===void 0?yu:f,h=r.altBoundary,v=h===void 0?!1:h,g=r.padding,y=g===void 0?0:g,x=t_(typeof y!="number"?y:r_(y,Hd)),w=p===yu?HT:yu,N=e.rects.popper,_=e.elements[v?w:p],b=jC(bs(_)?_:_.contextElement||jo(e.elements.popper),c,d,o),A=ql(e.elements.reference),O=a_({reference:A,element:N,placement:a}),E=a0(Object.assign({},N,O)),C=p===yu?E:A,D={top:b.top-C.top+x.top,bottom:C.bottom-b.bottom+x.bottom,left:b.left-C.left+x.left,right:C.right-b.right+x.right},k=e.modifiersData.offset;if(p===yu&&k){var T=k[a];Object.keys(D).forEach(function($){var I=[aa,na].indexOf($)>=0?1:-1,H=[Nn,na].indexOf($)>=0?"y":"x";D[$]+=T[H]*I})}return D}function NC(e,t){t===void 0&&(t={});var r=t,n=r.placement,a=r.boundary,i=r.rootBoundary,o=r.padding,s=r.flipVariations,c=r.allowedAutoPlacements,u=c===void 0?rb:c,d=zl(n),f=d?s?Y1:Y1.filter(function(v){return zl(v)===d}):Hd,p=f.filter(function(v){return u.indexOf(v)>=0});p.length===0&&(p=f);var h=p.reduce(function(v,g){return v[g]=nd(e,{placement:g,boundary:a,rootBoundary:i,padding:o})[ii(g)],v},{});return Object.keys(h).sort(function(v,g){return h[v]-h[g]})}function SC(e){if(ii(e)===tb)return[];var t=Nh(e);return[J1(e),t,J1(t)]}function _C(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var a=r.mainAxis,i=a===void 0?!0:a,o=r.altAxis,s=o===void 0?!0:o,c=r.fallbackPlacements,u=r.padding,d=r.boundary,f=r.rootBoundary,p=r.altBoundary,h=r.flipVariations,v=h===void 0?!0:h,g=r.allowedAutoPlacements,y=t.options.placement,x=ii(y),w=x===y,N=c||(w||!v?[Nh(y)]:SC(y)),_=[y].concat(N).reduce(function(Z,te){return Z.concat(ii(te)===tb?NC(t,{placement:te,boundary:d,rootBoundary:f,padding:u,flipVariations:v,allowedAutoPlacements:g}):te)},[]),b=t.rects.reference,A=t.rects.popper,O=new Map,E=!0,C=_[0],D=0;D<_.length;D++){var k=_[D],T=ii(k),$=zl(k)===Fl,I=[Nn,na].indexOf(T)>=0,H=I?"width":"height",V=nd(t,{placement:k,boundary:d,rootBoundary:f,altBoundary:p,padding:u}),X=I?$?aa:Sn:$?na:Nn;b[H]>A[H]&&(X=Nh(X));var Q=Nh(X),Y=[];if(i&&Y.push(V[T]<=0),s&&Y.push(V[X]<=0,V[Q]<=0),Y.every(function(Z){return Z})){C=k,E=!1;break}O.set(k,Y)}if(E)for(var G=v?3:1,ae=function(te){var ie=_.find(function(fe){var de=O.get(fe);if(de)return de.slice(0,te).every(function(oe){return oe})});if(ie)return C=ie,"break"},M=G;M>0;M--){var z=ae(M);if(z==="break")break}t.placement!==C&&(t.modifiersData[n]._skip=!0,t.placement=C,t.reset=!0)}}const AC={name:"flip",enabled:!0,phase:"main",fn:_C,requiresIfExists:["offset"],data:{_skip:!1}};function Q1(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function e2(e){return[Nn,aa,na,Sn].some(function(t){return e[t]>=0})}function OC(e){var t=e.state,r=e.name,n=t.rects.reference,a=t.rects.popper,i=t.modifiersData.preventOverflow,o=nd(t,{elementContext:"reference"}),s=nd(t,{altBoundary:!0}),c=Q1(o,n),u=Q1(s,a,i),d=e2(c),f=e2(u);t.modifiersData[r]={referenceClippingOffsets:c,popperEscapeOffsets:u,isReferenceHidden:d,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":f})}const PC={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:OC};function EC(e,t,r){var n=ii(e),a=[Sn,Nn].indexOf(n)>=0?-1:1,i=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,o=i[0],s=i[1];return o=o||0,s=(s||0)*a,[Sn,aa].indexOf(n)>=0?{x:s,y:o}:{x:o,y:s}}function kC(e){var t=e.state,r=e.options,n=e.name,a=r.offset,i=a===void 0?[0,0]:a,o=rb.reduce(function(d,f){return d[f]=EC(f,t.rects,i),d},{}),s=o[t.placement],c=s.x,u=s.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=u),t.modifiersData[n]=o}const TC={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:kC};function CC(e){var t=e.state,r=e.name;t.modifiersData[r]=a_({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const LC={name:"popperOffsets",enabled:!0,phase:"read",fn:CC,data:{}};function MC(e){return e==="x"?"y":"x"}function $C(e){var t=e.state,r=e.options,n=e.name,a=r.mainAxis,i=a===void 0?!0:a,o=r.altAxis,s=o===void 0?!1:o,c=r.boundary,u=r.rootBoundary,d=r.altBoundary,f=r.padding,p=r.tether,h=p===void 0?!0:p,v=r.tetherOffset,g=v===void 0?0:v,y=nd(t,{boundary:c,rootBoundary:u,padding:f,altBoundary:d}),x=ii(t.placement),w=zl(t.placement),N=!w,_=ib(x),b=MC(_),A=t.modifiersData.popperOffsets,O=t.rects.reference,E=t.rects.popper,C=typeof g=="function"?g(Object.assign({},t.rects,{placement:t.placement})):g,D=typeof C=="number"?{mainAxis:C,altAxis:C}:Object.assign({mainAxis:0,altAxis:0},C),k=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,T={x:0,y:0};if(A){if(i){var $,I=_==="y"?Nn:Sn,H=_==="y"?na:aa,V=_==="y"?"height":"width",X=A[_],Q=X+y[I],Y=X-y[H],G=h?-E[V]/2:0,ae=w===Fl?O[V]:E[V],M=w===Fl?-E[V]:-O[V],z=t.elements.arrow,Z=h&&z?ab(z):{width:0,height:0},te=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:e_(),ie=te[I],fe=te[H],de=Mu(0,O[V],Z[V]),oe=N?O[V]/2-G-de-ie-D.mainAxis:ae-de-ie-D.mainAxis,xe=N?-O[V]/2+G+de+fe+D.mainAxis:M+de+fe+D.mainAxis,be=t.elements.arrow&&Vd(t.elements.arrow),pe=be?_==="y"?be.clientTop||0:be.clientLeft||0:0,Ee=($=k==null?void 0:k[_])!=null?$:0,$e=X+oe-Ee-pe,ye=X+xe-Ee,ne=Mu(h?$h(Q,$e):Q,X,h?ss(Y,ye):Y);A[_]=ne,T[_]=ne-X}if(s){var Ye,Be=_==="x"?Nn:Sn,ke=_==="x"?na:aa,Ce=A[b],De=b==="y"?"height":"width",Me=Ce+y[Be],Ve=Ce-y[ke],Ze=[Nn,Sn].indexOf(x)!==-1,it=(Ye=k==null?void 0:k[b])!=null?Ye:0,pt=Ze?Me:Ce-O[De]-E[De]-it+D.altAxis,yt=Ze?Ce+O[De]+E[De]-it-D.altAxis:Ve,Ot=h&&Ze?iC(pt,Ce,yt):Mu(h?pt:Me,Ce,h?yt:Ve);A[b]=Ot,T[b]=Ot-Ce}t.modifiersData[n]=T}}const DC={name:"preventOverflow",enabled:!0,phase:"main",fn:$C,requiresIfExists:["offset"]};function IC(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function RC(e){return e===Rn(e)||!oi(e)?ob(e):IC(e)}function FC(e){var t=e.getBoundingClientRect(),r=Bl(t.width)/e.offsetWidth||1,n=Bl(t.height)/e.offsetHeight||1;return r!==1||n!==1}function BC(e,t,r){r===void 0&&(r=!1);var n=oi(t),a=oi(t)&&FC(t),i=jo(t),o=ql(e,a,r),s={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(n||!n&&!r)&&((vo(t)!=="body"||lb(i))&&(s=RC(t)),oi(t)?(c=ql(t,!0),c.x+=t.clientLeft,c.y+=t.clientTop):i&&(c.x=sb(i))),{x:o.left+s.scrollLeft-c.x,y:o.top+s.scrollTop-c.y,width:o.width,height:o.height}}function qC(e){var t=new Map,r=new Set,n=[];e.forEach(function(i){t.set(i.name,i)});function a(i){r.add(i.name);var o=[].concat(i.requires||[],i.requiresIfExists||[]);o.forEach(function(s){if(!r.has(s)){var c=t.get(s);c&&a(c)}}),n.push(i)}return e.forEach(function(i){r.has(i.name)||a(i)}),n}function zC(e){var t=qC(e);return rC.reduce(function(r,n){return r.concat(t.filter(function(a){return a.phase===n}))},[])}function UC(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function WC(e){var t=e.reduce(function(r,n){var a=r[n.name];return r[n.name]=a?Object.assign({},a,n,{options:Object.assign({},a.options,n.options),data:Object.assign({},a.data,n.data)}):n,r},{});return Object.keys(t).map(function(r){return t[r]})}var t2={placement:"bottom",modifiers:[],strategy:"absolute"};function r2(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function GC(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,n=r===void 0?[]:r,a=t.defaultOptions,i=a===void 0?t2:a;return function(s,c,u){u===void 0&&(u=i);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},t2,i),modifiersData:{},elements:{reference:s,popper:c},attributes:{},styles:{}},f=[],p=!1,h={state:d,setOptions:function(x){var w=typeof x=="function"?x(d.options):x;g(),d.options=Object.assign({},i,d.options,w),d.scrollParents={reference:bs(s)?$u(s):s.contextElement?$u(s.contextElement):[],popper:$u(c)};var N=zC(WC([].concat(n,d.options.modifiers)));return d.orderedModifiers=N.filter(function(_){return _.enabled}),v(),h.update()},forceUpdate:function(){if(!p){var x=d.elements,w=x.reference,N=x.popper;if(r2(w,N)){d.rects={reference:BC(w,Vd(N),d.options.strategy==="fixed"),popper:ab(N)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(D){return d.modifiersData[D.name]=Object.assign({},D.data)});for(var _=0;_<d.orderedModifiers.length;_++){if(d.reset===!0){d.reset=!1,_=-1;continue}var b=d.orderedModifiers[_],A=b.fn,O=b.options,E=O===void 0?{}:O,C=b.name;typeof A=="function"&&(d=A({state:d,options:E,name:C,instance:h})||d)}}}},update:UC(function(){return new Promise(function(y){h.forceUpdate(),y(d)})}),destroy:function(){g(),p=!0}};if(!r2(s,c))return h;h.setOptions(u).then(function(y){!p&&u.onFirstUpdate&&u.onFirstUpdate(y)});function v(){d.orderedModifiers.forEach(function(y){var x=y.name,w=y.options,N=w===void 0?{}:w,_=y.effect;if(typeof _=="function"){var b=_({state:d,name:x,instance:h,options:N}),A=function(){};f.push(b||A)}})}function g(){f.forEach(function(y){return y()}),f=[]}return h}}var HC=GC({defaultModifiers:[PC,LC,hC,mC,TC,AC,DC,cC]}),n2=function(t){return{position:t,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},VC={name:"applyStyles",enabled:!1},YC={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(t){var r=t.state;return function(){var n=r.elements,a=n.reference,i=n.popper;if("removeAttribute"in a){var o=(a.getAttribute("aria-describedby")||"").split(",").filter(function(s){return s.trim()!==i.id});o.length?a.setAttribute("aria-describedby",o.join(",")):a.removeAttribute("aria-describedby")}}},fn:function(t){var r,n=t.state,a=n.elements,i=a.popper,o=a.reference,s=(r=i.getAttribute("role"))==null?void 0:r.toLowerCase();if(i.id&&s==="tooltip"&&"setAttribute"in o){var c=o.getAttribute("aria-describedby");if(c&&c.split(",").indexOf(i.id)!==-1)return;o.setAttribute("aria-describedby",c?c+","+i.id:i.id)}}},KC=[];function XC(e,t,r){var n=r===void 0?{}:r,a=n.enabled,i=a===void 0?!0:a,o=n.placement,s=o===void 0?"bottom":o,c=n.strategy,u=c===void 0?"absolute":c,d=n.modifiers,f=d===void 0?KC:d,p=Up(n,["enabled","placement","strategy","modifiers"]),h=F.useRef(),v=F.useCallback(function(){var _;(_=h.current)==null||_.update()},[]),g=F.useCallback(function(){var _;(_=h.current)==null||_.forceUpdate()},[]),y=WT(F.useState({placement:s,update:v,forceUpdate:g,attributes:{},styles:{popper:n2(u),arrow:{}}})),x=y[0],w=y[1],N=F.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(b){var A=b.state,O={},E={};Object.keys(A.elements).forEach(function(C){O[C]=A.styles[C],E[C]=A.attributes[C]}),w({state:A,styles:O,attributes:E,update:v,forceUpdate:g,placement:A.placement})}}},[v,g,w]);return F.useEffect(function(){!h.current||!i||h.current.setOptions({placement:s,strategy:u,modifiers:[].concat(f,[N,VC])})},[u,s,N,i]),F.useEffect(function(){if(!(!i||e==null||t==null))return h.current=HC(e,t,sr({},p,{placement:s,strategy:u,modifiers:[].concat(f,[YC,N])})),function(){h.current!=null&&(h.current.destroy(),h.current=void 0,w(function(_){return sr({},_,{attributes:{},styles:{popper:n2(u)}})}))}},[i,e,t]),x}function JC(e,t,r,n){var a=n&&typeof n!="boolean"?n.capture:n;e.removeEventListener(t,r,a),r.__once&&e.removeEventListener(t,r.__once,a)}function Tu(e,t,r,n){return qT(e,t,r,n),function(){JC(e,t,r,n)}}var ZC=function(){},QC=ZC;const eL=wt(QC);function tL(e){return e&&"setState"in e?XN.findDOMNode(e):e??null}const rL=function(e){return Gd(tL(e))};var nL=27,a2=function(){};function aL(e){return e.button===0}function iL(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var i2=function(t){return t&&("current"in t?t.current:t)};function oL(e,t,r){var n=r===void 0?{}:r,a=n.disabled,i=n.clickTrigger,o=i===void 0?"click":i,s=F.useRef(!1),c=t||a2,u=F.useCallback(function(p){var h,v=i2(e);eL(!!v,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),s.current=!v||iL(p)||!aL(p)||!!td(v,(h=p.composedPath==null?void 0:p.composedPath()[0])!=null?h:p.target)},[e]),d=H1(function(p){s.current||c(p)}),f=H1(function(p){p.keyCode===nL&&c(p)});F.useEffect(function(){if(!(a||e==null)){var p=window.event,h=rL(i2(e)),v=Tu(h,o,u,!0),g=Tu(h,o,function(w){if(w===p){p=void 0;return}d(w)}),y=Tu(h,"keyup",function(w){if(w===p){p=void 0;return}f(w)}),x=[];return"ontouchstart"in h.documentElement&&(x=[].slice.call(h.body.children).map(function(w){return Tu(w,"mousemove",a2)})),function(){v(),g(),y(),x.forEach(function(w){return w()})}}},[e,a,o,u,d,f])}function sL(e){var t={};return Array.isArray(e)?(e==null||e.forEach(function(r){t[r.name]=r}),t):e||t}function lL(e){return e===void 0&&(e={}),Array.isArray(e)?e:Object.keys(e).map(function(t){return e[t].name=t,e[t]})}function cL(e){var t,r,n,a,i=e.enabled,o=e.enableEvents,s=e.placement,c=e.flip,u=e.offset,d=e.fixed,f=e.containerPadding,p=e.arrowElement,h=e.popperConfig,v=h===void 0?{}:h,g=sL(v.modifiers);return sr({},v,{placement:s,enabled:i,strategy:d?"fixed":v.strategy,modifiers:lL(sr({},g,{eventListeners:{enabled:o},preventOverflow:sr({},g.preventOverflow,{options:f?sr({padding:f},(t=g.preventOverflow)==null?void 0:t.options):(r=g.preventOverflow)==null?void 0:r.options}),offset:{options:sr({offset:u},(n=g.offset)==null?void 0:n.options)},arrow:sr({},g.arrow,{enabled:!!p,options:sr({},(a=g.arrow)==null?void 0:a.options,{element:p})}),flip:sr({enabled:!!c},g.flip)}))})}function uL(e,t){return e.classList?e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function dL(e,t){e.classList?e.classList.add(t):uL(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function o2(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function fL(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=o2(e.className,t):e.setAttribute("class",o2(e.className&&e.className.baseVal||"",t))}var Qf;function cb(e){if((!Qf&&Qf!==0||e)&&eb){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),Qf=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return Qf}var tv=function(t){var r;return typeof document>"u"?null:t==null?Gd().body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),(r=t)!=null&&r.nodeType&&t||null)};function s2(e,t){var r=F.useState(function(){return tv(e)}),n=r[0],a=r[1];if(!n){var i=tv(e);i&&a(i)}return F.useEffect(function(){},[t,n]),F.useEffect(function(){var o=tv(e);o!==n&&a(o)},[e,n]),n}const l2=e=>!e||typeof e=="function"?e:t=>{e.current=t};function hL(e,t){const r=l2(e),n=l2(t);return a=>{r&&r(a),n&&n(a)}}function pL(e,t){return F.useMemo(()=>hL(e,t),[e,t])}var ub=q.forwardRef(function(e,t){var r=e.flip,n=e.offset,a=e.placement,i=e.containerPadding,o=i===void 0?5:i,s=e.popperConfig,c=s===void 0?{}:s,u=e.transition,d=V1(),f=d[0],p=d[1],h=V1(),v=h[0],g=h[1],y=pL(p,t),x=s2(e.container),w=s2(e.target),N=F.useState(!e.show),_=N[0],b=N[1],A=XC(w,f,cL({placement:a,enableEvents:!!e.show,containerPadding:o||5,flip:r,offset:n,arrowElement:v,popperConfig:c})),O=A.styles,E=A.attributes,C=Up(A,["styles","attributes"]);e.show?_&&b(!1):!e.transition&&!_&&b(!0);var D=function(){b(!0),e.onExited&&e.onExited.apply(e,arguments)},k=e.show||u&&!_;if(oL(f,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!k)return null;var T=e.children(sr({},C,{show:!!e.show,props:sr({},E.popper,{style:O.popper,ref:y}),arrowProps:sr({},E.arrow,{style:O.arrow,ref:g})}));if(u){var $=e.onExit,I=e.onExiting,H=e.onEnter,V=e.onEntering,X=e.onEntered;T=q.createElement(u,{in:e.show,appear:!0,onExit:$,onExiting:I,onExited:D,onEnter:H,onEntering:V,onEntered:X},T)}return x?XN.createPortal(T,x):null});ub.displayName="Overlay";ub.propTypes={show:Se.bool,placement:Se.oneOf(rb),target:Se.any,container:Se.any,flip:Se.bool,children:Se.func.isRequired,containerPadding:Se.number,popperConfig:Se.object,rootClose:Se.bool,rootCloseEvent:Se.oneOf(["click","mousedown"]),rootCloseDisabled:Se.bool,onHide:function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];if(t.rootClose){var i;return(i=Se.func).isRequired.apply(i,[t].concat(n))}return Se.func.apply(Se,[t].concat(n))},transition:Se.elementType,onEnter:Se.func,onEntering:Se.func,onEntered:Se.func,onExit:Se.func,onExiting:Se.func,onExited:Se.func};function mL(){this.__data__=[],this.size=0}var gL=mL,vL=Wd;function yL(e,t){for(var r=e.length;r--;)if(vL(e[r][0],t))return r;return-1}var Vp=yL,bL=Vp,xL=Array.prototype,wL=xL.splice;function jL(e){var t=this.__data__,r=bL(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():wL.call(t,r,1),--this.size,!0}var NL=jL,SL=Vp;function _L(e){var t=this.__data__,r=SL(t,e);return r<0?void 0:t[r][1]}var AL=_L,OL=Vp;function PL(e){return OL(this.__data__,e)>-1}var EL=PL,kL=Vp;function TL(e,t){var r=this.__data__,n=kL(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var CL=TL,LL=gL,ML=NL,$L=AL,DL=EL,IL=CL;function Sc(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Sc.prototype.clear=LL;Sc.prototype.delete=ML;Sc.prototype.get=$L;Sc.prototype.has=DL;Sc.prototype.set=IL;var Yp=Sc,RL=Yp;function FL(){this.__data__=new RL,this.size=0}var BL=FL;function qL(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var zL=qL;function UL(e){return this.__data__.get(e)}var WL=UL;function GL(e){return this.__data__.has(e)}var HL=GL,VL=$a,YL=VL["__core-js_shared__"],KL=YL,rv=KL,c2=function(){var e=/[^.]+$/.exec(rv&&rv.keys&&rv.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function XL(e){return!!c2&&c2 in e}var JL=XL,ZL=Function.prototype,QL=ZL.toString;function eM(e){if(e!=null){try{return QL.call(e)}catch{}try{return e+""}catch{}}return""}var i_=eM,tM=Gp,rM=JL,nM=oa,aM=i_,iM=/[\\^$.*+?()[\]{}|]/g,oM=/^\[object .+?Constructor\]$/,sM=Function.prototype,lM=Object.prototype,cM=sM.toString,uM=lM.hasOwnProperty,dM=RegExp("^"+cM.call(uM).replace(iM,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function fM(e){if(!nM(e)||rM(e))return!1;var t=tM(e)?dM:oM;return t.test(aM(e))}var hM=fM;function pM(e,t){return e==null?void 0:e[t]}var mM=pM,gM=hM,vM=mM;function yM(e,t){var r=vM(e,t);return gM(r)?r:void 0}var Es=yM,bM=Es,xM=$a,wM=bM(xM,"Map"),db=wM,jM=Es,NM=jM(Object,"create"),Kp=NM,u2=Kp;function SM(){this.__data__=u2?u2(null):{},this.size=0}var _M=SM;function AM(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var OM=AM,PM=Kp,EM="__lodash_hash_undefined__",kM=Object.prototype,TM=kM.hasOwnProperty;function CM(e){var t=this.__data__;if(PM){var r=t[e];return r===EM?void 0:r}return TM.call(t,e)?t[e]:void 0}var LM=CM,MM=Kp,$M=Object.prototype,DM=$M.hasOwnProperty;function IM(e){var t=this.__data__;return MM?t[e]!==void 0:DM.call(t,e)}var RM=IM,FM=Kp,BM="__lodash_hash_undefined__";function qM(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=FM&&t===void 0?BM:t,this}var zM=qM,UM=_M,WM=OM,GM=LM,HM=RM,VM=zM;function _c(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}_c.prototype.clear=UM;_c.prototype.delete=WM;_c.prototype.get=GM;_c.prototype.has=HM;_c.prototype.set=VM;var YM=_c,d2=YM,KM=Yp,XM=db;function JM(){this.size=0,this.__data__={hash:new d2,map:new(XM||KM),string:new d2}}var ZM=JM;function QM(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var e$=QM,t$=e$;function r$(e,t){var r=e.__data__;return t$(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Xp=r$,n$=Xp;function a$(e){var t=n$(this,e).delete(e);return this.size-=t?1:0,t}var i$=a$,o$=Xp;function s$(e){return o$(this,e).get(e)}var l$=s$,c$=Xp;function u$(e){return c$(this,e).has(e)}var d$=u$,f$=Xp;function h$(e,t){var r=f$(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var p$=h$,m$=ZM,g$=i$,v$=l$,y$=d$,b$=p$;function Ac(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ac.prototype.clear=m$;Ac.prototype.delete=g$;Ac.prototype.get=v$;Ac.prototype.has=y$;Ac.prototype.set=b$;var fb=Ac,x$=Yp,w$=db,j$=fb,N$=200;function S$(e,t){var r=this.__data__;if(r instanceof x$){var n=r.__data__;if(!w$||n.length<N$-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new j$(n)}return r.set(e,t),this.size=r.size,this}var _$=S$,A$=Yp,O$=BL,P$=zL,E$=WL,k$=HL,T$=_$;function Oc(e){var t=this.__data__=new A$(e);this.size=t.size}Oc.prototype.clear=O$;Oc.prototype.delete=P$;Oc.prototype.get=E$;Oc.prototype.has=k$;Oc.prototype.set=T$;var hb=Oc,C$="__lodash_hash_undefined__";function L$(e){return this.__data__.set(e,C$),this}var M$=L$;function $$(e){return this.__data__.has(e)}var D$=$$,I$=fb,R$=M$,F$=D$;function Dh(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new I$;++t<r;)this.add(e[t])}Dh.prototype.add=Dh.prototype.push=R$;Dh.prototype.has=F$;var o_=Dh;function B$(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var s_=B$;function q$(e,t){return e.has(t)}var l_=q$,z$=o_,U$=s_,W$=l_,G$=1,H$=2;function V$(e,t,r,n,a,i){var o=r&G$,s=e.length,c=t.length;if(s!=c&&!(o&&c>s))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,p=!0,h=r&H$?new z$:void 0;for(i.set(e,t),i.set(t,e);++f<s;){var v=e[f],g=t[f];if(n)var y=o?n(g,v,f,t,e,i):n(v,g,f,e,t,i);if(y!==void 0){if(y)continue;p=!1;break}if(h){if(!U$(t,function(x,w){if(!W$(h,w)&&(v===x||a(v,x,r,n,i)))return h.push(w)})){p=!1;break}}else if(!(v===g||a(v,g,r,n,i))){p=!1;break}}return i.delete(e),i.delete(t),p}var c_=V$,Y$=$a,K$=Y$.Uint8Array,u_=K$;function X$(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var J$=X$;function Z$(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var pb=Z$,f2=bc,h2=u_,Q$=Wd,eD=c_,tD=J$,rD=pb,nD=1,aD=2,iD="[object Boolean]",oD="[object Date]",sD="[object Error]",lD="[object Map]",cD="[object Number]",uD="[object RegExp]",dD="[object Set]",fD="[object String]",hD="[object Symbol]",pD="[object ArrayBuffer]",mD="[object DataView]",p2=f2?f2.prototype:void 0,nv=p2?p2.valueOf:void 0;function gD(e,t,r,n,a,i,o){switch(r){case mD:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case pD:return!(e.byteLength!=t.byteLength||!i(new h2(e),new h2(t)));case iD:case oD:case cD:return Q$(+e,+t);case sD:return e.name==t.name&&e.message==t.message;case uD:case fD:return e==t+"";case lD:var s=tD;case dD:var c=n&nD;if(s||(s=rD),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=aD,o.set(e,t);var d=eD(s(e),s(t),n,a,i,o);return o.delete(e),d;case hD:if(nv)return nv.call(e)==nv.call(t)}return!1}var vD=gD;function yD(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var mb=yD,bD=Array.isArray,rn=bD,xD=mb,wD=rn;function jD(e,t,r){var n=t(e);return wD(e)?n:xD(n,r(e))}var d_=jD;function ND(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}var SD=ND;function _D(){return[]}var f_=_D,AD=SD,OD=f_,PD=Object.prototype,ED=PD.propertyIsEnumerable,m2=Object.getOwnPropertySymbols,kD=m2?function(e){return e==null?[]:(e=Object(e),AD(m2(e),function(t){return ED.call(e,t)}))}:OD,gb=kD;function TD(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var CD=TD,LD=Fi,MD=Da,$D="[object Arguments]";function DD(e){return MD(e)&&LD(e)==$D}var ID=DD,g2=ID,RD=Da,h_=Object.prototype,FD=h_.hasOwnProperty,BD=h_.propertyIsEnumerable,qD=g2(function(){return arguments}())?g2:function(e){return RD(e)&&FD.call(e,"callee")&&!BD.call(e,"callee")},vb=qD,Ih={exports:{}};function zD(){return!1}var UD=zD;Ih.exports;(function(e,t){var r=$a,n=UD,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,s=o?r.Buffer:void 0,c=s?s.isBuffer:void 0,u=c||n;e.exports=u})(Ih,Ih.exports);var Jp=Ih.exports,WD=Fi,GD=Jy,HD=Da,VD="[object Arguments]",YD="[object Array]",KD="[object Boolean]",XD="[object Date]",JD="[object Error]",ZD="[object Function]",QD="[object Map]",e8="[object Number]",t8="[object Object]",r8="[object RegExp]",n8="[object Set]",a8="[object String]",i8="[object WeakMap]",o8="[object ArrayBuffer]",s8="[object DataView]",l8="[object Float32Array]",c8="[object Float64Array]",u8="[object Int8Array]",d8="[object Int16Array]",f8="[object Int32Array]",h8="[object Uint8Array]",p8="[object Uint8ClampedArray]",m8="[object Uint16Array]",g8="[object Uint32Array]",Kt={};Kt[l8]=Kt[c8]=Kt[u8]=Kt[d8]=Kt[f8]=Kt[h8]=Kt[p8]=Kt[m8]=Kt[g8]=!0;Kt[VD]=Kt[YD]=Kt[o8]=Kt[KD]=Kt[s8]=Kt[XD]=Kt[JD]=Kt[ZD]=Kt[QD]=Kt[e8]=Kt[t8]=Kt[r8]=Kt[n8]=Kt[a8]=Kt[i8]=!1;function v8(e){return HD(e)&&GD(e.length)&&!!Kt[WD(e)]}var y8=v8;function b8(e){return function(t){return e(t)}}var Zp=b8,Rh={exports:{}};Rh.exports;(function(e,t){var r=qS,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,o=i&&r.process,s=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=s})(Rh,Rh.exports);var yb=Rh.exports,x8=y8,w8=Zp,v2=yb,y2=v2&&v2.isTypedArray,j8=y2?w8(y2):x8,bb=j8,N8=CD,S8=vb,_8=rn,A8=Jp,O8=Zy,P8=bb,E8=Object.prototype,k8=E8.hasOwnProperty;function T8(e,t){var r=_8(e),n=!r&&S8(e),a=!r&&!n&&A8(e),i=!r&&!n&&!a&&P8(e),o=r||n||a||i,s=o?N8(e.length,String):[],c=s.length;for(var u in e)(t||k8.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||O8(u,c)))&&s.push(u);return s}var p_=T8,C8=Object.prototype;function L8(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||C8;return e===r}var xb=L8;function M8(e,t){return function(r){return e(t(r))}}var m_=M8,$8=m_,D8=$8(Object.keys,Object),I8=D8,R8=xb,F8=I8,B8=Object.prototype,q8=B8.hasOwnProperty;function z8(e){if(!R8(e))return F8(e);var t=[];for(var r in Object(e))q8.call(e,r)&&r!="constructor"&&t.push(r);return t}var U8=z8,W8=p_,G8=U8,H8=wc;function V8(e){return H8(e)?W8(e):G8(e)}var Pc=V8,Y8=d_,K8=gb,X8=Pc;function J8(e){return Y8(e,X8,K8)}var g_=J8,b2=g_,Z8=1,Q8=Object.prototype,eI=Q8.hasOwnProperty;function tI(e,t,r,n,a,i){var o=r&Z8,s=b2(e),c=s.length,u=b2(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var p=s[f];if(!(o?p in t:eI.call(t,p)))return!1}var h=i.get(e),v=i.get(t);if(h&&v)return h==t&&v==e;var g=!0;i.set(e,t),i.set(t,e);for(var y=o;++f<c;){p=s[f];var x=e[p],w=t[p];if(n)var N=o?n(w,x,p,t,e,i):n(x,w,p,e,t,i);if(!(N===void 0?x===w||a(x,w,r,n,i):N)){g=!1;break}y||(y=p=="constructor")}if(g&&!y){var _=e.constructor,b=t.constructor;_!=b&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof b=="function"&&b instanceof b)&&(g=!1)}return i.delete(e),i.delete(t),g}var rI=tI,nI=Es,aI=$a,iI=nI(aI,"DataView"),oI=iI,sI=Es,lI=$a,cI=sI(lI,"Promise"),uI=cI,dI=Es,fI=$a,hI=dI(fI,"Set"),v_=hI,pI=Es,mI=$a,gI=pI(mI,"WeakMap"),vI=gI,i0=oI,o0=db,s0=uI,l0=v_,c0=vI,y_=Fi,Ec=i_,x2="[object Map]",yI="[object Object]",w2="[object Promise]",j2="[object Set]",N2="[object WeakMap]",S2="[object DataView]",bI=Ec(i0),xI=Ec(o0),wI=Ec(s0),jI=Ec(l0),NI=Ec(c0),Vo=y_;(i0&&Vo(new i0(new ArrayBuffer(1)))!=S2||o0&&Vo(new o0)!=x2||s0&&Vo(s0.resolve())!=w2||l0&&Vo(new l0)!=j2||c0&&Vo(new c0)!=N2)&&(Vo=function(e){var t=y_(e),r=t==yI?e.constructor:void 0,n=r?Ec(r):"";if(n)switch(n){case bI:return S2;case xI:return x2;case wI:return w2;case jI:return j2;case NI:return N2}return t});var Qp=Vo,av=hb,SI=c_,_I=vD,AI=rI,_2=Qp,A2=rn,O2=Jp,OI=bb,PI=1,P2="[object Arguments]",E2="[object Array]",eh="[object Object]",EI=Object.prototype,k2=EI.hasOwnProperty;function kI(e,t,r,n,a,i){var o=A2(e),s=A2(t),c=o?E2:_2(e),u=s?E2:_2(t);c=c==P2?eh:c,u=u==P2?eh:u;var d=c==eh,f=u==eh,p=c==u;if(p&&O2(e)){if(!O2(t))return!1;o=!0,d=!1}if(p&&!d)return i||(i=new av),o||OI(e)?SI(e,t,r,n,a,i):_I(e,t,c,r,n,a,i);if(!(r&PI)){var h=d&&k2.call(e,"__wrapped__"),v=f&&k2.call(t,"__wrapped__");if(h||v){var g=h?e.value():e,y=v?t.value():t;return i||(i=new av),a(g,y,r,n,i)}}return p?(i||(i=new av),AI(e,t,r,n,a,i)):!1}var TI=kI,CI=TI,T2=Da;function b_(e,t,r,n,a){return e===t?!0:e==null||t==null||!T2(e)&&!T2(t)?e!==e&&t!==t:CI(e,t,r,n,b_,a)}var wb=b_,LI=wb;function MI(e,t){return LI(e,t)}var $I=MI;const xs=wt($I);function iv(e,t){var r=Qy(e);return r?r.innerHeight:os(e).height}function x_(e,t,r){e.closest&&!r&&e.closest(t);var n=e;do{if(RT(n,t))return n;n=n.parentElement}while(n&&n!==r&&n.nodeType===document.ELEMENT_NODE);return null}function DI(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var w_=DI,II=hb,RI=wb,FI=1,BI=2;function qI(e,t,r,n){var a=r.length,i=a,o=!n;if(e==null)return!i;for(e=Object(e);a--;){var s=r[a];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<i;){s=r[a];var c=s[0],u=e[c],d=s[1];if(o&&s[2]){if(u===void 0&&!(c in e))return!1}else{var f=new II;if(n)var p=n(u,d,c,e,t,f);if(!(p===void 0?RI(d,u,FI|BI,n,f):p))return!1}}return!0}var zI=qI,UI=oa;function WI(e){return e===e&&!UI(e)}var j_=WI,GI=j_,HI=Pc;function VI(e){for(var t=HI(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,GI(a)]}return t}var YI=VI;function KI(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var N_=KI,XI=zI,JI=YI,ZI=N_;function QI(e){var t=JI(e);return t.length==1&&t[0][2]?ZI(t[0][0],t[0][1]):function(r){return r===e||XI(r,e,t)}}var e7=QI,t7=rn,r7=Nc,n7=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a7=/^\w*$/;function i7(e,t){if(t7(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||r7(e)?!0:a7.test(e)||!n7.test(e)||t!=null&&e in Object(t)}var jb=i7,S_=fb,o7="Expected a function";function Nb(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(o7);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(Nb.Cache||S_),r}Nb.Cache=S_;var __=Nb;const s7=wt(__);var l7=__,c7=500;function u7(e){var t=l7(e,function(n){return r.size===c7&&r.clear(),n}),r=t.cache;return t}var d7=u7,f7=d7,h7=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,p7=/\\(\\)?/g,m7=f7(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(h7,function(r,n,a,i){t.push(a?i.replace(p7,"$1"):n||r)}),t}),g7=m7;function v7(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var em=v7,C2=bc,y7=em,b7=rn,x7=Nc,L2=C2?C2.prototype:void 0,M2=L2?L2.toString:void 0;function A_(e){if(typeof e=="string")return e;if(b7(e))return y7(e,A_)+"";if(x7(e))return M2?M2.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var w7=A_,j7=w7;function N7(e){return e==null?"":j7(e)}var O_=N7,S7=rn,_7=jb,A7=g7,O7=O_;function P7(e,t){return S7(e)?e:_7(e,t)?[e]:A7(O7(e))}var tm=P7,E7=Nc;function k7(e){if(typeof e=="string"||E7(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Yd=k7,T7=tm,C7=Yd;function L7(e,t){t=T7(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[C7(t[r++])];return r&&r==n?e:void 0}var rm=L7,M7=rm;function $7(e,t,r){var n=e==null?void 0:M7(e,t);return n===void 0?r:n}var P_=$7;const In=wt(P_);function D7(e,t){return e!=null&&t in Object(e)}var I7=D7,R7=tm,F7=vb,B7=rn,q7=Zy,z7=Jy,U7=Yd;function W7(e,t,r){t=R7(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var o=U7(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&z7(a)&&q7(o,a)&&(B7(e)||F7(e)))}var G7=W7,H7=I7,V7=G7;function Y7(e,t){return e!=null&&V7(e,t,H7)}var K7=Y7,X7=wb,J7=P_,Z7=K7,Q7=jb,eR=j_,tR=N_,rR=Yd,nR=1,aR=2;function iR(e,t){return Q7(e)&&eR(t)?tR(rR(e),t):function(r){var n=J7(r,e);return n===void 0&&n===t?Z7(r,e):X7(t,n,nR|aR)}}var oR=iR;function sR(e){return e}var kc=sR;function lR(e){return function(t){return t==null?void 0:t[e]}}var cR=lR,uR=rm;function dR(e){return function(t){return uR(t,e)}}var fR=dR,hR=cR,pR=fR,mR=jb,gR=Yd;function vR(e){return mR(e)?hR(gR(e)):pR(e)}var yR=vR,bR=e7,xR=oR,wR=kc,jR=rn,NR=yR;function SR(e){return typeof e=="function"?e:e==null?wR:typeof e=="object"?jR(e)?xR(e[0],e[1]):bR(e):NR(e)}var Ia=SR,_R=w_,AR=Ia,OR=GS,PR=Math.max;function ER(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:OR(r);return a<0&&(a=PR(n+a,0)),_R(e,AR(t),a)}var E_=ER;const kR=wt(E_);var TR=Math.ceil,CR=Math.max;function LR(e,t,r,n){for(var a=-1,i=CR(TR((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++a]=e,e+=r;return o}var MR=LR,$R=MR,DR=jc,ov=WS;function IR(e){return function(t,r,n){return n&&typeof n!="number"&&DR(t,r,n)&&(r=n=void 0),t=ov(t),r===void 0?(r=t,t=0):r=ov(r),n=n===void 0?t<r?1:-1:ov(n),$R(t,r,n,e)}}var RR=IR,FR=RR,BR=FR(),qR=BR;const ad=wt(qR);var $2=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function zR(e,t){return!!(e===t||$2(e)&&$2(t))}function UR(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!zR(e[r],t[r]))return!1;return!0}function k_(e,t){t===void 0&&(t=UR);var r=null;function n(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];if(r&&r.lastThis===this&&t(a,r.lastArgs))return r.lastResult;var o=e.apply(this,a);return r={lastResult:o,lastArgs:a,lastThis:this},o}return n.clear=function(){r=null},n}function u0(e,t){var r=Qy(e);return r?r.innerWidth:os(e).width}var D2=bc,WR=vb,GR=rn,I2=D2?D2.isConcatSpreadable:void 0;function HR(e){return GR(e)||WR(e)||!!(I2&&e&&e[I2])}var VR=HR,YR=mb,KR=VR;function T_(e,t,r,n,a){var i=-1,o=e.length;for(r||(r=KR),a||(a=[]);++i<o;){var s=e[i];t>0&&r(s)?t>1?T_(s,t-1,r,n,a):YR(a,s):n||(a[a.length]=s)}return a}var Sb=T_;function XR(e){return function(t,r,n){for(var a=-1,i=Object(t),o=n(t),s=o.length;s--;){var c=o[e?s:++a];if(r(i[c],c,i)===!1)break}return t}}var JR=XR,ZR=JR,QR=ZR(),eF=QR,tF=eF,rF=Pc;function nF(e,t){return e&&tF(e,t,rF)}var _b=nF,aF=wc;function iF(e,t){return function(r,n){if(r==null)return r;if(!aF(r))return e(r,n);for(var a=r.length,i=t?a:-1,o=Object(r);(t?i--:++i<a)&&n(o[i],i,o)!==!1;);return r}}var oF=iF,sF=_b,lF=oF,cF=lF(sF),Ab=cF,uF=Ab,dF=wc;function fF(e,t){var r=-1,n=dF(e)?Array(e.length):[];return uF(e,function(a,i,o){n[++r]=t(a,i,o)}),n}var C_=fF;function hF(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var pF=hF,R2=Nc;function mF(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=R2(e),o=t!==void 0,s=t===null,c=t===t,u=R2(t);if(!s&&!u&&!i&&e>t||i&&o&&c&&!s&&!u||n&&o&&c||!r&&c||!a)return 1;if(!n&&!i&&!u&&e<t||u&&r&&a&&!n&&!i||s&&r&&a||!o&&a||!c)return-1}return 0}var gF=mF,vF=gF;function yF(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,o=a.length,s=r.length;++n<o;){var c=vF(a[n],i[n]);if(c){if(n>=s)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var bF=yF,sv=em,xF=rm,wF=Ia,jF=C_,NF=pF,SF=Zp,_F=bF,AF=kc,OF=rn;function PF(e,t,r){t.length?t=sv(t,function(i){return OF(i)?function(o){return xF(o,i.length===1?i[0]:i)}:i}):t=[AF];var n=-1;t=sv(t,SF(wF));var a=jF(e,function(i,o,s){var c=sv(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return NF(a,function(i,o){return _F(i,o,r)})}var EF=PF;function kF(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var TF=kF,CF=TF,F2=Math.max;function LF(e,t,r){return t=F2(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=F2(n.length-t,0),o=Array(i);++a<i;)o[a]=n[t+a];a=-1;for(var s=Array(t+1);++a<t;)s[a]=n[a];return s[t]=r(o),CF(e,this,s)}}var L_=LF;function MF(e){return function(){return e}}var $F=MF,DF=Es,IF=function(){try{var e=DF(Object,"defineProperty");return e({},"",{}),e}catch{}}(),M_=IF,RF=$F,B2=M_,FF=kc,BF=B2?function(e,t){return B2(e,"toString",{configurable:!0,enumerable:!1,value:RF(t),writable:!0})}:FF,qF=BF,zF=800,UF=16,WF=Date.now;function GF(e){var t=0,r=0;return function(){var n=WF(),a=UF-(n-r);if(r=n,a>0){if(++t>=zF)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var HF=GF,VF=qF,YF=HF,KF=YF(VF),$_=KF,XF=kc,JF=L_,ZF=$_;function QF(e,t){return ZF(JF(e,t,XF),e+"")}var D_=QF,eB=Sb,tB=EF,rB=D_,q2=jc,nB=rB(function(e,t){if(e==null)return[];var r=t.length;return r>1&&q2(e,t[0],t[1])?t=[]:r>2&&q2(t[0],t[1],t[2])&&(t=[t[0]]),tB(e,eB(t,1),[])}),aB=nB;const nm=wt(aB);function I_(e){return AS(e)||BS(e)||Vy(e)||OS()}function iB(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var oB=iB,sB=oa,lB=xb,cB=oB,uB=Object.prototype,dB=uB.hasOwnProperty;function fB(e){if(!sB(e))return cB(e);var t=lB(e),r=[];for(var n in e)n=="constructor"&&(t||!dB.call(e,n))||r.push(n);return r}var hB=fB,pB=p_,mB=hB,gB=wc;function vB(e){return gB(e)?pB(e,!0):mB(e)}var am=vB,yB=D_,bB=Wd,xB=jc,wB=am,R_=Object.prototype,jB=R_.hasOwnProperty,NB=yB(function(e,t){e=Object(e);var r=-1,n=t.length,a=n>2?t[2]:void 0;for(a&&xB(t[0],t[1],a)&&(n=1);++r<n;)for(var i=t[r],o=wB(i),s=-1,c=o.length;++s<c;){var u=o[s],d=e[u];(d===void 0||bB(d,R_[u])&&!jB.call(e,u))&&(e[u]=i[u])}return e}),SB=NB;const _B=wt(SB);var z2=M_;function AB(e,t,r){t=="__proto__"&&z2?z2(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var Ob=AB,OB=Ob,PB=_b,EB=Ia;function kB(e,t){var r={};return t=EB(t),PB(e,function(n,a,i){OB(r,a,t(n,a,i))}),r}var TB=kB;const F_=wt(TB);function CB(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var B_=CB,LB=Ob,MB=Wd,$B=Object.prototype,DB=$B.hasOwnProperty;function IB(e,t,r){var n=e[t];(!(DB.call(e,t)&&MB(n,r))||r===void 0&&!(t in e))&&LB(e,t,r)}var q_=IB,RB=q_,FB=Ob;function BB(e,t,r,n){var a=!r;r||(r={});for(var i=-1,o=t.length;++i<o;){var s=t[i],c=n?n(r[s],e[s],s,r,e):void 0;c===void 0&&(c=e[s]),a?FB(r,s,c):RB(r,s,c)}return r}var Kd=BB,qB=Kd,zB=Pc;function UB(e,t){return e&&qB(t,zB(t),e)}var WB=UB,GB=Kd,HB=am;function VB(e,t){return e&&GB(t,HB(t),e)}var YB=VB,Fh={exports:{}};Fh.exports;(function(e,t){var r=$a,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,o=i?r.Buffer:void 0,s=o?o.allocUnsafe:void 0;function c(u,d){if(d)return u.slice();var f=u.length,p=s?s(f):new u.constructor(f);return u.copy(p),p}e.exports=c})(Fh,Fh.exports);var KB=Fh.exports;function XB(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var JB=XB,ZB=Kd,QB=gb;function e9(e,t){return ZB(e,QB(e),t)}var t9=e9,r9=m_,n9=r9(Object.getPrototypeOf,Object),im=n9,a9=mb,i9=im,o9=gb,s9=f_,l9=Object.getOwnPropertySymbols,c9=l9?function(e){for(var t=[];e;)a9(t,o9(e)),e=i9(e);return t}:s9,z_=c9,u9=Kd,d9=z_;function f9(e,t){return u9(e,d9(e),t)}var h9=f9,p9=d_,m9=z_,g9=am;function v9(e){return p9(e,g9,m9)}var U_=v9,y9=Object.prototype,b9=y9.hasOwnProperty;function x9(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&b9.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var w9=x9,U2=u_;function j9(e){var t=new e.constructor(e.byteLength);return new U2(t).set(new U2(e)),t}var Pb=j9,N9=Pb;function S9(e,t){var r=t?N9(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var _9=S9,A9=/\w*$/;function O9(e){var t=new e.constructor(e.source,A9.exec(e));return t.lastIndex=e.lastIndex,t}var P9=O9,W2=bc,G2=W2?W2.prototype:void 0,H2=G2?G2.valueOf:void 0;function E9(e){return H2?Object(H2.call(e)):{}}var k9=E9,T9=Pb;function C9(e,t){var r=t?T9(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var L9=C9,M9=Pb,$9=_9,D9=P9,I9=k9,R9=L9,F9="[object Boolean]",B9="[object Date]",q9="[object Map]",z9="[object Number]",U9="[object RegExp]",W9="[object Set]",G9="[object String]",H9="[object Symbol]",V9="[object ArrayBuffer]",Y9="[object DataView]",K9="[object Float32Array]",X9="[object Float64Array]",J9="[object Int8Array]",Z9="[object Int16Array]",Q9="[object Int32Array]",eq="[object Uint8Array]",tq="[object Uint8ClampedArray]",rq="[object Uint16Array]",nq="[object Uint32Array]";function aq(e,t,r){var n=e.constructor;switch(t){case V9:return M9(e);case F9:case B9:return new n(+e);case Y9:return $9(e,r);case K9:case X9:case J9:case Z9:case Q9:case eq:case tq:case rq:case nq:return R9(e,r);case q9:return new n;case z9:case G9:return new n(e);case U9:return D9(e);case W9:return new n;case H9:return I9(e)}}var iq=aq,oq=oa,V2=Object.create,sq=function(){function e(){}return function(t){if(!oq(t))return{};if(V2)return V2(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),W_=sq,lq=W_,cq=im,uq=xb;function dq(e){return typeof e.constructor=="function"&&!uq(e)?lq(cq(e)):{}}var fq=dq,hq=Qp,pq=Da,mq="[object Map]";function gq(e){return pq(e)&&hq(e)==mq}var vq=gq,yq=vq,bq=Zp,Y2=yb,K2=Y2&&Y2.isMap,xq=K2?bq(K2):yq,wq=xq,jq=Qp,Nq=Da,Sq="[object Set]";function _q(e){return Nq(e)&&jq(e)==Sq}var Aq=_q,Oq=Aq,Pq=Zp,X2=yb,J2=X2&&X2.isSet,Eq=J2?Pq(J2):Oq,kq=Eq,Tq=hb,Cq=B_,Lq=q_,Mq=WB,$q=YB,Dq=KB,Iq=JB,Rq=t9,Fq=h9,Bq=g_,qq=U_,zq=Qp,Uq=w9,Wq=iq,Gq=fq,Hq=rn,Vq=Jp,Yq=wq,Kq=oa,Xq=kq,Jq=Pc,Zq=am,Qq=1,ez=2,tz=4,G_="[object Arguments]",rz="[object Array]",nz="[object Boolean]",az="[object Date]",iz="[object Error]",H_="[object Function]",oz="[object GeneratorFunction]",sz="[object Map]",lz="[object Number]",V_="[object Object]",cz="[object RegExp]",uz="[object Set]",dz="[object String]",fz="[object Symbol]",hz="[object WeakMap]",pz="[object ArrayBuffer]",mz="[object DataView]",gz="[object Float32Array]",vz="[object Float64Array]",yz="[object Int8Array]",bz="[object Int16Array]",xz="[object Int32Array]",wz="[object Uint8Array]",jz="[object Uint8ClampedArray]",Nz="[object Uint16Array]",Sz="[object Uint32Array]",Wt={};Wt[G_]=Wt[rz]=Wt[pz]=Wt[mz]=Wt[nz]=Wt[az]=Wt[gz]=Wt[vz]=Wt[yz]=Wt[bz]=Wt[xz]=Wt[sz]=Wt[lz]=Wt[V_]=Wt[cz]=Wt[uz]=Wt[dz]=Wt[fz]=Wt[wz]=Wt[jz]=Wt[Nz]=Wt[Sz]=!0;Wt[iz]=Wt[H_]=Wt[hz]=!1;function Sh(e,t,r,n,a,i){var o,s=t&Qq,c=t&ez,u=t&tz;if(r&&(o=a?r(e,n,a,i):r(e)),o!==void 0)return o;if(!Kq(e))return e;var d=Hq(e);if(d){if(o=Uq(e),!s)return Iq(e,o)}else{var f=zq(e),p=f==H_||f==oz;if(Vq(e))return Dq(e,s);if(f==V_||f==G_||p&&!a){if(o=c||p?{}:Gq(e),!s)return c?Fq(e,$q(o,e)):Rq(e,Mq(o,e))}else{if(!Wt[f])return a?e:{};o=Wq(e,f,s)}}i||(i=new Tq);var h=i.get(e);if(h)return h;i.set(e,o),Xq(e)?e.forEach(function(y){o.add(Sh(y,t,r,y,e,i))}):Yq(e)&&e.forEach(function(y,x){o.set(x,Sh(y,t,r,x,e,i))});var v=u?c?qq:Bq:c?Zq:Jq,g=d?void 0:v(e);return Cq(g||e,function(y,x){g&&(x=y,y=e[x]),Lq(o,x,Sh(y,t,r,x,e,i))}),o}var _z=Sh;function Az(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var Y_=Az;const Oz=wt(Y_);var Pz=rm,Ez=Xy;function kz(e,t){return t.length<2?e:Pz(e,Ez(t,0,-1))}var Tz=kz,Cz=tm,Lz=Y_,Mz=Tz,$z=Yd;function Dz(e,t){return t=Cz(t,e),e=Mz(e,t),e==null||delete e[$z(Lz(t))]}var Iz=Dz,Rz=Fi,Fz=im,Bz=Da,qz="[object Object]",zz=Function.prototype,Uz=Object.prototype,K_=zz.toString,Wz=Uz.hasOwnProperty,Gz=K_.call(Object);function Hz(e){if(!Bz(e)||Rz(e)!=qz)return!1;var t=Fz(e);if(t===null)return!0;var r=Wz.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&K_.call(r)==Gz}var X_=Hz;const Vz=wt(X_);var Yz=X_;function Kz(e){return Yz(e)?void 0:e}var Xz=Kz,Jz=Sb;function Zz(e){var t=e==null?0:e.length;return t?Jz(e,1):[]}var Qz=Zz,eU=Qz,tU=L_,rU=$_;function nU(e){return rU(tU(e,void 0,eU),e+"")}var aU=nU,iU=em,oU=_z,sU=Iz,lU=tm,cU=Kd,uU=Xz,dU=aU,fU=U_,hU=1,pU=2,mU=4,gU=dU(function(e,t){var r={};if(e==null)return r;var n=!1;t=iU(t,function(i){return i=lU(i,e),n||(n=i.length>1),i}),cU(e,fU(e),r),n&&(r=oU(r,hU|pU|mU,uU));for(var a=t.length;a--;)sU(r,t[a]);return r}),vU=gU;const yU=wt(vU);var bU=B_,xU=W_,wU=_b,jU=Ia,NU=im,SU=rn,_U=Jp,AU=Gp,OU=oa,PU=bb;function EU(e,t,r){var n=SU(e),a=n||_U(e)||PU(e);if(t=jU(t),r==null){var i=e&&e.constructor;a?r=n?new i:[]:OU(e)?r=AU(i)?xU(NU(e)):{}:r={}}return(a?bU:wU)(e,function(o,s,c){return t(r,o,s,c)}),r}var kU=EU;const TU=wt(kU);var CU={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Qn,function(){return function(r,n,a){n.prototype.isBetween=function(i,o,s,c){var u=a(i),d=a(o),f=(c=c||"()")[0]==="(",p=c[1]===")";return(f?this.isAfter(u,s):!this.isBefore(u,s))&&(p?this.isBefore(d,s):!this.isAfter(d,s))||(f?this.isBefore(u,s):!this.isAfter(u,s))&&(p?this.isAfter(d,s):!this.isBefore(d,s))}}})})(CU);var LU={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Qn,function(){return function(r,n){n.prototype.isSameOrAfter=function(a,i){return this.isSame(a,i)||this.isAfter(a,i)}}})})(LU);var MU={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Qn,function(){return function(r,n){n.prototype.isSameOrBefore=function(a,i){return this.isSame(a,i)||this.isBefore(a,i)}}})})(MU);var $U={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Qn,function(){return function(r,n,a){var i=n.prototype,o=function(f){return f&&(f.indexOf?f:f.s)},s=function(f,p,h,v,g){var y=f.name?f:f.$locale(),x=o(y[p]),w=o(y[h]),N=x||w.map(function(b){return b.slice(0,v)});if(!g)return N;var _=y.weekStart;return N.map(function(b,A){return N[(A+(_||0))%7]})},c=function(){return a.Ls[a.locale()]},u=function(f,p){return f.formats[p]||function(h){return h.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(v,g,y){return g||y.slice(1)})}(f.formats[p.toUpperCase()])},d=function(){var f=this;return{months:function(p){return p?p.format("MMMM"):s(f,"months")},monthsShort:function(p){return p?p.format("MMM"):s(f,"monthsShort","months",3)},firstDayOfWeek:function(){return f.$locale().weekStart||0},weekdays:function(p){return p?p.format("dddd"):s(f,"weekdays")},weekdaysMin:function(p){return p?p.format("dd"):s(f,"weekdaysMin","weekdays",2)},weekdaysShort:function(p){return p?p.format("ddd"):s(f,"weekdaysShort","weekdays",3)},longDateFormat:function(p){return u(f.$locale(),p)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};i.localeData=function(){return d.bind(this)()},a.localeData=function(){var f=c();return{firstDayOfWeek:function(){return f.weekStart||0},weekdays:function(){return a.weekdays()},weekdaysShort:function(){return a.weekdaysShort()},weekdaysMin:function(){return a.weekdaysMin()},months:function(){return a.months()},monthsShort:function(){return a.monthsShort()},longDateFormat:function(p){return u(f,p)},meridiem:f.meridiem,ordinal:f.ordinal}},a.months=function(){return s(c(),"months")},a.monthsShort=function(){return s(c(),"monthsShort","months",3)},a.weekdays=function(f){return s(c(),"weekdays",null,null,f)},a.weekdaysShort=function(f){return s(c(),"weekdaysShort","weekdays",3,f)},a.weekdaysMin=function(f){return s(c(),"weekdaysMin","weekdays",2,f)}}})})($U);var DU={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Qn,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(n,a,i){var o=a.prototype,s=o.format;i.en.formats=r,o.format=function(c){c===void 0&&(c="YYYY-MM-DDTHH:mm:ssZ");var u=this.$locale().formats,d=function(f,p){return f.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(h,v,g){var y=g&&g.toUpperCase();return v||p[g]||r[g]||p[y].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(x,w,N){return w||N.slice(1)})})}(c,u===void 0?{}:u);return s.call(this,d)}}})})(DU);var IU={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Qn,function(){return function(r,n,a){var i=function(o,s){if(!s||!s.length||s.length===1&&!s[0]||s.length===1&&Array.isArray(s[0])&&!s[0].length)return null;var c;s.length===1&&s[0].length>0&&(s=s[0]),c=(s=s.filter(function(d){return d}))[0];for(var u=1;u<s.length;u+=1)s[u].isValid()&&!s[u][o](c)||(c=s[u]);return c};a.max=function(){var o=[].slice.call(arguments,0);return i("isAfter",o)},a.min=function(){var o=[].slice.call(arguments,0);return i("isBefore",o)}}})})(IU);var RU={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Qn,function(){var r="minute",n=/[+-]\d\d(?::?\d\d)?/g,a=/([+-]|\d\d)/g;return function(i,o,s){var c=o.prototype;s.utc=function(g){var y={date:g,utc:!0,args:arguments};return new o(y)},c.utc=function(g){var y=s(this.toDate(),{locale:this.$L,utc:!0});return g?y.add(this.utcOffset(),r):y},c.local=function(){return s(this.toDate(),{locale:this.$L,utc:!1})};var u=c.parse;c.parse=function(g){g.utc&&(this.$u=!0),this.$utils().u(g.$offset)||(this.$offset=g.$offset),u.call(this,g)};var d=c.init;c.init=function(){if(this.$u){var g=this.$d;this.$y=g.getUTCFullYear(),this.$M=g.getUTCMonth(),this.$D=g.getUTCDate(),this.$W=g.getUTCDay(),this.$H=g.getUTCHours(),this.$m=g.getUTCMinutes(),this.$s=g.getUTCSeconds(),this.$ms=g.getUTCMilliseconds()}else d.call(this)};var f=c.utcOffset;c.utcOffset=function(g,y){var x=this.$utils().u;if(x(g))return this.$u?0:x(this.$offset)?f.call(this):this.$offset;if(typeof g=="string"&&(g=function(b){b===void 0&&(b="");var A=b.match(n);if(!A)return null;var O=(""+A[0]).match(a)||["-",0,0],E=O[0],C=60*+O[1]+ +O[2];return C===0?0:E==="+"?C:-C}(g),g===null))return this;var w=Math.abs(g)<=16?60*g:g,N=this;if(y)return N.$offset=w,N.$u=g===0,N;if(g!==0){var _=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(N=this.local().add(w+_,r)).$offset=w,N.$x.$localOffset=_}else N=this.utc();return N};var p=c.format;c.format=function(g){var y=g||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return p.call(this,y)},c.valueOf=function(){var g=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*g},c.isUTC=function(){return!!this.$u},c.toISOString=function(){return this.toDate().toISOString()},c.toString=function(){return this.toDate().toUTCString()};var h=c.toDate;c.toDate=function(g){return g==="s"&&this.$offset?s(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():h.call(this)};var v=c.diff;c.diff=function(g,y,x){if(g&&this.$u===g.$u)return v.call(this,g,y,x);var w=this.local(),N=s(g).local();return v.call(w,N,y,x)}}})})(RU);var FU={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Qn,function(){return function(r,n){n.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}})})(FU);function Ja(e){return e.children}var _n={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},cn={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},Z2=Object.keys(cn).map(function(e){return cn[e]});Se.oneOfType([Se.string,Se.func]);Se.any;Se.func;Se.oneOfType([Se.arrayOf(Se.oneOf(Z2)),Se.objectOf(function(e,t){var r=Z2.indexOf(t)!==-1&&typeof e[t]=="boolean";if(r)return null;for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];return Se.elementType.apply(Se,[e,t].concat(a))})]);Se.oneOfType([Se.oneOf(["overlap","no-overlap"]),Se.func]);var Q2={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function J_(e,t){var r=zr(e,"month");return zr(r,"week",t.startOfWeek())}function Z_(e,t){var r=Lh(e,"month");return Lh(r,"week",t.startOfWeek())}function BU(e,t){for(var r=J_(e,t),n=Z_(e,t),a=[];vc(r,n,"day");)a.push(r),r=Ca(r,1,"day");return a}function qU(e,t){var r=zr(e,t);return gc(r,e)?r:Ca(r,1,t)}function zU(e,t){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",n=e,a=[];vc(n,t,r);)a.push(n),n=Ca(n,1,r);return a}function UU(e,t){return t==null&&e==null?null:(t==null&&(t=new Date),e==null&&(e=new Date),e=zr(e,"day"),e=ed(e,ed(t)),e=Rl(e,Rl(t)),e=Qu(e,Qu(t)),Zu(e,Zu(t)))}function ew(e){return ed(e)===0&&Rl(e)===0&&Qu(e)===0&&Zu(e)===0}function WU(e,t,r,n){return r==="day"&&(r="date"),Math.abs(D1[r](e,void 0,n)-D1[r](t,void 0,n))}function Eb(e,t,r){return!r||r==="milliseconds"?Math.abs(+e-+t):Math.round(Math.abs(+zr(e,r)/Q2[r]-+zr(t,r)/Q2[r]))}var GU=Se.oneOfType([Se.string,Se.func]);function HU(e,t,r,n,a){var i=typeof n=="function"?n(r,a,e):t.call(e,r,n,a);return Hu(i==null||typeof i=="string","`localizer format(..)` must return a string, null, or undefined"),i}function VU(e,t,r){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,t+r,0,0)}function kb(e,t){return e.getTimezoneOffset()-t.getTimezoneOffset()}function YU(e,t){return Eb(e,t,"minutes")+kb(e,t)}function KU(e){var t=zr(e,"day");return Eb(t,e,"minutes")+kb(t,e)}function XU(e,t){return Ky(e,t,"day")}function JU(e,t,r){var n=gc(e,t,"minutes");return n?Ud(t,r,"minutes"):Wp(t,r,"minutes")}function d0(e,t){return WU(e,t,"day")}function ZU(e){var t=e.evtA,r=t.start,n=t.end,a=t.allDay,i=e.evtB,o=i.start,s=i.end,c=i.allDay,u=+zr(r,"day")-+zr(o,"day"),d=d0(r,n),f=d0(o,s);return u||f-d||!!c-!!a||+r-+o||+n-+s}function QU(e){var t=e.event,r=t.start,n=t.end,a=e.range,i=a.start,o=a.end,s=zr(r,"day"),c=vc(s,o,"day"),u=Yy(s,n,"minutes"),d=u?Wp(n,i,"minutes"):Ud(n,i,"minutes");return c&&d}function eW(e,t){return gc(e,t,"day")}function tW(e,t){return ew(e)&&ew(t)}var rW=Er(function e(t){var r=this;Pr(this,e),Hu(typeof t.format=="function","date localizer `format(..)` must be a function"),Hu(typeof t.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=t.propType||GU,this.formats=t.formats,this.format=function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return HU.apply(void 0,[r,t.format].concat(a))},this.startOfWeek=t.firstOfWeek,this.merge=t.merge||UU,this.inRange=t.inRange||DS,this.lt=t.lt||Ky,this.lte=t.lte||vc,this.gt=t.gt||Wp,this.gte=t.gte||Ud,this.eq=t.eq||gc,this.neq=t.neq||Yy,this.startOf=t.startOf||zr,this.endOf=t.endOf||Lh,this.add=t.add||Ca,this.range=t.range||zU,this.diff=t.diff||Eb,this.ceil=t.ceil||qU,this.min=t.min||MS,this.max=t.max||$S,this.minutes=t.minutes||Rl,this.daySpan=t.daySpan||d0,this.firstVisibleDay=t.firstVisibleDay||J_,this.lastVisibleDay=t.lastVisibleDay||Z_,this.visibleDays=t.visibleDays||BU,this.getSlotDate=t.getSlotDate||VU,this.getTimezoneOffset=t.getTimezoneOffset||function(n){return n.getTimezoneOffset()},this.getDstOffset=t.getDstOffset||kb,this.getTotalMin=t.getTotalMin||YU,this.getMinutesFromMidnight=t.getMinutesFromMidnight||KU,this.continuesPrior=t.continuesPrior||XU,this.continuesAfter=t.continuesAfter||JU,this.sortEvents=t.sortEvents||ZU,this.inEventRange=t.inEventRange||QU,this.isSameDate=t.isSameDate||eW,this.startAndEndAreDateOnly=t.startAndEndAreDateOnly||tW,this.segmentOffset=t.browserTZOffset?t.browserTZOffset():0});function nW(e,t,r,n){var a=Bt(Bt({},e.formats),r);return Bt(Bt({},e),{},{messages:n,startOfWeek:function(){return e.startOfWeek(t)},format:function(o,s){return e.format(o,a[s]||s,t)}})}var aW=function(e){function t(){var r;Pr(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=en(this,t,[].concat(a)),r.navigate=function(o){r.props.onNavigate(o)},r.view=function(o){r.props.onView(o)},r}return tn(t,e),Er(t,[{key:"render",value:function(){var n=this.props,a=n.localizer.messages,i=n.label;return q.createElement("div",{className:"rbc-toolbar"},q.createElement("span",{className:"rbc-btn-group"},q.createElement("button",{type:"button",onClick:this.navigate.bind(null,_n.TODAY)},a.today),q.createElement("button",{type:"button",onClick:this.navigate.bind(null,_n.PREVIOUS)},a.previous),q.createElement("button",{type:"button",onClick:this.navigate.bind(null,_n.NEXT)},a.next)),q.createElement("span",{className:"rbc-toolbar-label"},i),q.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(a)))}},{key:"viewNamesGroup",value:function(n){var a=this,i=this.props.views,o=this.props.view;if(i.length>1)return i.map(function(s){return q.createElement("button",{type:"button",key:s,className:cr({"rbc-active":o===s}),onClick:a.view.bind(null,s)},n[s])})}}])}(q.Component);function Jt(e,t){e&&e.apply(null,[].concat(t))}var iW={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(t){return"+".concat(t," more")}};function oW(e){return Bt(Bt({},iW),e)}function sW(e){var t=e.ref,r=e.callback;F.useEffect(function(){var n=function(i){t.current&&!t.current.contains(i.target)&&r()};return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}},[t,r])}var lW=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],Q_=function(e){function t(){return Pr(this,t),en(this,t,arguments)}return tn(t,e),Er(t,[{key:"render",value:function(){var n=this.props,a=n.style,i=n.className,o=n.event,s=n.selected,c=n.isAllDay,u=n.onSelect,d=n.onDoubleClick,f=n.onKeyPress,p=n.localizer,h=n.continuesPrior,v=n.continuesAfter,g=n.accessors,y=n.getters,x=n.children,w=n.components,N=w.event,_=w.eventWrapper,b=n.slotStart,A=n.slotEnd,O=ci(n,lW);delete O.resizable;var E=g.title(o),C=g.tooltip(o),D=g.end(o),k=g.start(o),T=g.allDay(o),$=c||T||p.diff(k,p.ceil(D,"day"),"day")>1,I=y.eventProp(o,k,D,s),H=q.createElement("div",{className:"rbc-event-content",title:C||void 0},N?q.createElement(N,{event:o,continuesPrior:h,continuesAfter:v,title:E,isAllDay:T,localizer:p,slotStart:b,slotEnd:A}):E);return q.createElement(_,Object.assign({},this.props,{type:"date"}),q.createElement("div",Object.assign({},O,{style:Bt(Bt({},I.style),a),className:cr("rbc-event",i,I.className,{"rbc-selected":s,"rbc-event-allday":$,"rbc-event-continues-prior":h,"rbc-event-continues-after":v}),onClick:function(X){return u&&u(o,X)},onDoubleClick:function(X){return d&&d(o,X)},onKeyDown:function(X){return f&&f(o,X)}}),typeof x=="function"?x(H):H))}}])}(q.Component);function om(e,t){return!e||t==null?!1:xs(e,t)}function eA(e,t){var r=e.right-e.left,n=r/t;return n}function tA(e,t,r,n){var a=eA(e,n);return r?n-1-Math.floor((t-e.left)/a):Math.floor((t-e.left)/a)}function cW(e,t){var r=t.x,n=t.y;return n>=e.top&&n<=e.bottom&&r>=e.left&&r<=e.right}function uW(e,t,r,n,a){var i=-1,o=-1,s=n-1,c=eA(t,n),u=tA(t,r.x,a,n),d=t.top<r.y&&t.bottom>r.y,f=t.top<e.y&&t.bottom>e.y,p=e.y>t.bottom,h=t.top>e.y,v=r.top<t.top&&r.bottom>t.bottom;return v&&(i=0,o=s),d&&(h?(i=0,o=u):p&&(i=u,o=s)),f&&(i=o=a?s-Math.floor((e.x-t.left)/c):Math.floor((e.x-t.left)/c),d?u<i?i=u:o=u:e.y<r.y?o=s:i=0),{startIdx:i,endIdx:o}}function dW(e){var t=e.target,r=e.offset,n=e.container,a=e.box,i=os(t),o=i.top,s=i.left,c=i.width,u=i.height,d=os(n),f=d.top,p=d.left,h=d.width,v=d.height,g=os(a),y=g.width,x=g.height,w=f+v,N=p+h,_=o+x,b=s+y,A=r.x,O=r.y,E=_>w?o-x-O:o+O+u,C=b>N?s+A-y+c:s+A;return{topOffset:E,leftOffset:C}}function fW(e){var t=e.containerRef,r=e.accessors,n=e.getters,a=e.selected,i=e.components,o=e.localizer,s=e.position,c=e.show,u=e.events,d=e.slotStart,f=e.slotEnd,p=e.onSelect,h=e.onDoubleClick,v=e.onKeyPress,g=e.handleDragStart,y=e.popperRef,x=e.target,w=e.offset;sW({ref:y,callback:c}),F.useLayoutEffect(function(){var b=dW({target:x,offset:w,container:t.current,box:y.current}),A=b.topOffset,O=b.leftOffset;y.current.style.top="".concat(A,"px"),y.current.style.left="".concat(O,"px")},[w.x,w.y,x]);var N=s.width,_={minWidth:N+N/2};return q.createElement("div",{style:_,className:"rbc-overlay",ref:y},q.createElement("div",{className:"rbc-overlay-header"},o.format(d,"dayHeaderFormat")),u.map(function(b,A){return q.createElement(Q_,{key:A,type:"popup",localizer:o,event:b,getters:n,onSelect:p,accessors:r,components:i,onDoubleClick:h,onKeyPress:v,continuesPrior:o.lt(r.end(b),d,"day"),continuesAfter:o.gte(r.start(b),f,"day"),slotStart:d,slotEnd:f,selected:om(b,a),draggable:!0,onDragStart:function(){return g(b)},onDragEnd:function(){return c()}})}))}var rA=q.forwardRef(function(e,t){return q.createElement(fW,Object.assign({},e,{popperRef:t}))});rA.propTypes={accessors:Se.object.isRequired,getters:Se.object.isRequired,selected:Se.object,components:Se.object.isRequired,localizer:Se.object.isRequired,position:Se.object.isRequired,show:Se.func.isRequired,events:Se.array.isRequired,slotStart:Se.instanceOf(Date).isRequired,slotEnd:Se.instanceOf(Date),onSelect:Se.func,onDoubleClick:Se.func,onKeyPress:Se.func,handleDragStart:Se.func,style:Se.object,offset:Se.shape({x:Se.number,y:Se.number})};function hW(e){var t=e.containerRef,r=e.popupOffset,n=r===void 0?5:r,a=e.overlay,i=e.accessors,o=e.localizer,s=e.components,c=e.getters,u=e.selected,d=e.handleSelectEvent,f=e.handleDoubleClickEvent,p=e.handleKeyPressEvent,h=e.handleDragStart,v=e.onHide,g=e.overlayDisplay,y=F.useRef(null);if(!a.position)return null;var x=n;isNaN(n)||(x={x:n,y:n});var w=a.position,N=a.events,_=a.date,b=a.end;return q.createElement(ub,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:v,target:a.target},function(A){var O=A.props;return q.createElement(rA,Object.assign({},O,{containerRef:t,ref:y,target:a.target,offset:x,accessors:i,getters:c,selected:u,components:s,localizer:o,position:w,show:g,events:N,slotStart:_,slotEnd:b,onSelect:d,onDoubleClick:f,onKeyPress:p,handleDragStart:h}))})}var Tb=q.forwardRef(function(e,t){return q.createElement(hW,Object.assign({},e,{containerRef:t}))});Tb.propTypes={popupOffset:Se.oneOfType([Se.number,Se.shape({x:Se.number,y:Se.number})]),overlay:Se.shape({position:Se.object,events:Se.array,date:Se.instanceOf(Date),end:Se.instanceOf(Date)}),accessors:Se.object.isRequired,localizer:Se.object.isRequired,components:Se.object.isRequired,getters:Se.object.isRequired,selected:Se.object,handleSelectEvent:Se.func,handleDoubleClickEvent:Se.func,handleKeyPressEvent:Se.func,handleDragStart:Se.func,onHide:Se.func,overlayDisplay:Se.func};function Xr(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return Tu(r,e,t,{passive:!1})}function pW(e,t,r){return!e||td(e,document.elementFromPoint(t,r))}function mW(e,t){var r=t.clientX,n=t.clientY,a=document.elementFromPoint(r,n);return x_(a,".rbc-event",e)}function gW(e,t){var r=t.clientX,n=t.clientY,a=document.elementFromPoint(r,n);return x_(a,".rbc-show-more",e)}function Bh(e,t){return!!mW(e,t)}function vW(e,t){return!!gW(e,t)}function bu(e){var t=e;return e.touches&&e.touches.length&&(t=e.touches[0]),{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}var tw=5,yW=250,nA=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.global,a=n===void 0?!1:n,i=r.longPressThreshold,o=i===void 0?250:i,s=r.validContainers,c=s===void 0?[]:s;Pr(this,e),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=t,this.globalMouse=!t||a,this.longPressThreshold=o,this.validContainers=c,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=Xr("touchmove",function(){},window),this._removeKeyDownListener=Xr("keydown",this._keyListener),this._removeKeyUpListener=Xr("keyup",this._keyListener),this._removeDropFromOutsideListener=Xr("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=Xr("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return Er(e,[{key:"on",value:function(r,n){var a=this._listeners[r]||(this._listeners[r]=[]);return a.push(n),{remove:function(){var o=a.indexOf(n);o!==-1&&a.splice(o,1)}}}},{key:"emit",value:function(r){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];var o,s=this._listeners[r]||[];return s.forEach(function(c){o===void 0&&(o=c.apply(void 0,a))}),o}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(r){var n=this._selectRect;return!n||!this.selecting?!1:rw(n,ws(r))}},{key:"filter",value:function(r){var n=this._selectRect;return!n||!this.selecting?[]:r.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(r,n){var a=this,i=null,o=null,s=null,c=function(p){i=setTimeout(function(){d(),r(p)},a.longPressThreshold),o=Xr("touchmove",function(){return d()}),s=Xr("touchend",function(){return d()})},u=Xr("touchstart",c),d=function(){i&&clearTimeout(i),o&&o(),s&&s(),i=null,o=null,s=null};return n&&c(n),function(){d(),u()}}},{key:"_addInitialEventListener",value:function(){var r=this,n=Xr("mousedown",function(i){r._removeInitialEventListener(),r._handleInitialEvent(i),r._removeInitialEventListener=Xr("mousedown",r._handleInitialEvent)}),a=Xr("touchstart",function(i){r._removeInitialEventListener(),r._removeInitialEventListener=r._addLongPressListener(r._handleInitialEvent,i)});this._removeInitialEventListener=function(){n(),a()}}},{key:"_dropFromOutsideListener",value:function(r){var n=bu(r),a=n.pageX,i=n.pageY,o=n.clientX,s=n.clientY;this.emit("dropFromOutside",{x:a,y:i,clientX:o,clientY:s}),r.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(r){var n=bu(r),a=n.pageX,i=n.pageY,o=n.clientX,s=n.clientY;this.emit("dragOverFromOutside",{x:a,y:i,clientX:o,clientY:s}),r.preventDefault()}},{key:"_handleInitialEvent",value:function(r){if(this._initialEvent=r,!this.isDetached){var n=bu(r),a=n.clientX,i=n.clientY,o=n.pageX,s=n.pageY,c=this.container(),u,d;if(!(r.which===3||r.button===2||!pW(c,a,i))){if(!this.globalMouse&&c&&!td(c,r.target)){var f=bW(0),p=f.top,h=f.left,v=f.bottom,g=f.right;if(d=ws(c),u=rw({top:d.top-p,left:d.left-h,bottom:d.bottom+v,right:d.right+g},{top:s,left:o}),!u)return}var y=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(r.type),x:o,y:s,clientX:a,clientY:i});if(y!==!1)switch(r.type){case"mousedown":this._removeEndListener=Xr("mouseup",this._handleTerminatingEvent),this._onEscListener=Xr("keydown",this._handleTerminatingEvent),this._removeMoveListener=Xr("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(r),this._removeEndListener=Xr("touchend",this._handleTerminatingEvent),this._removeMoveListener=Xr("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(r){var n=r.target,a=this.validContainers;return!a||!a.length||!n?!0:a.some(function(i){return!!n.closest(i)})}},{key:"_handleTerminatingEvent",value:function(r){var n=this.selecting,a=this._selectRect;if(!n&&r.type.includes("key")&&(r=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!r){var i=!this.container||td(this.container(),r.target),o=this._isWithinValidContainer(r);return r.key==="Escape"||!o?this.emit("reset"):!n&&i?this._handleClickEvent(r):n?this.emit("select",a):this.emit("reset")}}},{key:"_handleClickEvent",value:function(r){var n=bu(r),a=n.pageX,i=n.pageY,o=n.clientX,s=n.clientY,c=new Date().getTime();return this._lastClickData&&c-this._lastClickData.timestamp<yW?(this._lastClickData=null,this.emit("doubleClick",{x:a,y:i,clientX:o,clientY:s})):(this._lastClickData={timestamp:c},this.emit("click",{x:a,y:i,clientX:o,clientY:s}))}},{key:"_handleMoveEvent",value:function(r){if(!(this._initialEventData===null||this.isDetached)){var n=this._initialEventData,a=n.x,i=n.y,o=bu(r),s=o.pageX,c=o.pageY,u=Math.abs(a-s),d=Math.abs(i-c),f=Math.min(s,a),p=Math.min(c,i),h=this.selecting,v=this.isClick(s,c);v&&!h&&!(u||d)||(!h&&!v&&this.emit("selectStart",this._initialEventData),v||(this.selecting=!0,this._selectRect={top:p,left:f,x:s,y:c,right:f+u,bottom:p+d},this.emit("selecting",this._selectRect)),r.preventDefault())}}},{key:"_keyListener",value:function(r){this.ctrl=r.metaKey||r.ctrlKey}},{key:"isClick",value:function(r,n){var a=this._initialEventData,i=a.x,o=a.y,s=a.isTouch;return!s&&Math.abs(r-i)<=tw&&Math.abs(n-o)<=tw}}])}();function bW(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return xt(e)!=="object"&&(e={top:e,left:e,right:e,bottom:e}),e}function rw(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=ws(e),a=n.top,i=n.left,o=n.right,s=o===void 0?i:o,c=n.bottom,u=c===void 0?a:c,d=ws(t),f=d.top,p=d.left,h=d.right,v=h===void 0?p:h,g=d.bottom,y=g===void 0?f:g;return!(u-r<f||a+r>y||s-r<p||i+r>v)}function ws(e){if(!e.getBoundingClientRect)return e;var t=e.getBoundingClientRect(),r=t.left+nw("left"),n=t.top+nw("top");return{top:n,left:r,right:(e.offsetWidth||0)+r,bottom:(e.offsetHeight||0)+n}}function nw(e){if(e==="left")return window.pageXOffset||document.body.scrollLeft||0;if(e==="top")return window.pageYOffset||document.body.scrollTop||0}var xW=function(e){function t(r,n){var a;return Pr(this,t),a=en(this,t,[r,n]),a.state={selecting:!1},a.containerRef=F.createRef(),a}return tn(t,e),Er(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(n){!n.selectable&&this.props.selectable&&this._selectable(),n.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var n=this.props,a=n.range,i=n.getNow,o=n.getters,s=n.date,c=n.components.dateCellWrapper,u=n.localizer,d=this.state,f=d.selecting,p=d.startIdx,h=d.endIdx,v=i();return q.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},a.map(function(g,y){var x=f&&y>=p&&y<=h,w=o.dayProp(g),N=w.className,_=w.style;return q.createElement(c,{key:y,value:g,range:a},q.createElement("div",{style:_,className:cr("rbc-day-bg",N,x&&"rbc-selected-cell",u.isSameDate(g,v)&&"rbc-today",s&&u.neq(s,g,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var n=this,a=this.containerRef.current,i=this._selector=new nA(this.props.container,{longPressThreshold:this.props.longPressThreshold}),o=function(c,u){if(!Bh(a,c)&&!vW(a,c)){var d=ws(a),f=n.props,p=f.range,h=f.rtl;if(cW(d,c)){var v=tA(d,c.x,h,p.length);n._selectSlot({startIdx:v,endIdx:v,action:u,box:c})}}n._initial={},n.setState({selecting:!1})};i.on("selecting",function(s){var c=n.props,u=c.range,d=c.rtl,f=-1,p=-1;if(n.state.selecting||(Jt(n.props.onSelectStart,[s]),n._initial={x:s.x,y:s.y}),i.isSelected(a)){var h=ws(a),v=uW(n._initial,h,s,u.length,d);f=v.startIdx,p=v.endIdx}n.setState({selecting:!0,startIdx:f,endIdx:p})}),i.on("beforeSelect",function(s){if(n.props.selectable==="ignoreEvents")return!Bh(n.containerRef.current,s)}),i.on("click",function(s){return o(s,"click")}),i.on("doubleClick",function(s){return o(s,"doubleClick")}),i.on("select",function(s){n._selectSlot(Bt(Bt({},n.state),{},{action:"select",bounds:s})),n._initial={},n.setState({selecting:!1}),Jt(n.props.onSelectEnd,[n.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(n){var a=n.endIdx,i=n.startIdx,o=n.action,s=n.bounds,c=n.box;a!==-1&&i!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:i,end:a,action:o,bounds:s,box:c,resourceId:this.props.resourceId})}}])}(q.Component),Xn={propTypes:{slotMetrics:Se.object.isRequired,selected:Se.object,isAllDay:Se.bool,accessors:Se.object.isRequired,localizer:Se.object.isRequired,components:Se.object.isRequired,getters:Se.object.isRequired,onSelect:Se.func,onDoubleClick:Se.func,onKeyPress:Se.func},defaultProps:{segments:[],selected:{}},renderEvent:function(t,r){var n=t.selected;t.isAllDay;var a=t.accessors,i=t.getters,o=t.onSelect,s=t.onDoubleClick,c=t.onKeyPress,u=t.localizer,d=t.slotMetrics,f=t.components,p=t.resizable,h=d.continuesPrior(r),v=d.continuesAfter(r);return q.createElement(Q_,{event:r,getters:i,localizer:u,accessors:a,components:f,onSelect:o,onDoubleClick:s,onKeyPress:c,continuesPrior:h,continuesAfter:v,slotStart:d.first,slotEnd:d.last,selected:om(r,n),resizable:p})},renderSpan:function(t,r,n){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",i=Math.abs(r)/t*100+"%";return q.createElement("div",{key:n,className:"rbc-row-segment",style:{WebkitFlexBasis:i,flexBasis:i,maxWidth:i}},a)}},aA=function(e){function t(){return Pr(this,t),en(this,t,arguments)}return tn(t,e),Er(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.segments,o=a.slotMetrics.slots,s=a.className,c=1;return q.createElement("div",{className:cr(s,"rbc-row")},i.reduce(function(u,d,f){var p=d.event,h=d.left,v=d.right,g=d.span,y="_lvl_"+f,x=h-c,w=Xn.renderEvent(n.props,p);return x&&u.push(Xn.renderSpan(o,x,"".concat(y,"_gap"))),u.push(Xn.renderSpan(o,g,y,w)),c=v+1,u},[]))}}])}(q.Component);aA.defaultProps=Bt({},Xn.defaultProps);function iA(e){var t=e.dateRange,r=e.unit,n=r===void 0?"day":r,a=e.localizer;return{first:t[0],last:a.add(t[t.length-1],1,n)}}function wW(e,t,r,n){var a=iA({dateRange:t,localizer:n}),i=a.first,o=a.last,s=n.diff(i,o,"day"),c=n.max(n.startOf(r.start(e),"day"),i),u=n.min(n.ceil(r.end(e),"day"),o),d=kR(t,function(p){return n.isSameDate(p,c)}),f=n.diff(c,u,"day");return f=Math.min(f,s),f=Math.max(f-n.segmentOffset,1),{event:e,span:f,left:d+1,right:Math.max(d+f,1)}}function f0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,r,n,a,i=[],o=[];for(r=0;r<e.length;r++){for(a=e[r],n=0;n<i.length&&jW(a,i[n]);n++);n>=t?o.push(a):(i[n]||(i[n]=[])).push(a)}for(r=0;r<i.length;r++)i[r].sort(function(s,c){return s.left-c.left});return{levels:i,extra:o}}function id(e,t,r,n,a){var i={start:n.start(e),end:n.end(e)},o={start:t,end:r};return a.inEventRange({event:i,range:o})}function jW(e,t){return t.some(function(r){return r.left<=e.right&&r.right>=e.left})}function NW(e,t,r){var n=jh(e),a=[],i=[];n.forEach(function(c){var u=t.start(c),d=t.end(c);r.daySpan(u,d)>1?a.push(c):i.push(c)});var o=a.sort(function(c,u){return h0(c,u,t,r)}),s=i.sort(function(c,u){return h0(c,u,t,r)});return[].concat(jh(o),jh(s))}function h0(e,t,r,n){var a={start:r.start(e),end:r.end(e),allDay:r.allDay(e)},i={start:r.start(t),end:r.end(t),allDay:r.allDay(t)};return n.sortEvents({evtA:a,evtB:i})}var p0=function(t,r){return t.left<=r&&t.right>=r},lv=function(t,r){return t.filter(function(n){return p0(n,r)}).map(function(n){return n.event})},oA=function(e){function t(){return Pr(this,t),en(this,t,arguments)}return tn(t,e),Er(t,[{key:"render",value:function(){for(var n=this.props,a=n.segments,i=n.slotMetrics.slots,o=f0(a).levels[0],s=1,c=1,u=[];s<=i;){var d="_lvl_"+s,f=o.filter(function(_){return p0(_,s)})[0]||{},p=f.event,h=f.left,v=f.right,g=f.span;if(!p){var y=this.getHiddenEventsForSlot(a,s);if(y.length>0){var x=s-c;x&&u.push(Xn.renderSpan(i,x,d+"_gap")),u.push(Xn.renderSpan(i,1,d,this.renderShowMore(a,s))),c=s=s+1;continue}s++;continue}var w=Math.max(0,h-c);if(this.canRenderSlotEvent(h,g)){var N=Xn.renderEvent(this.props,p);w&&u.push(Xn.renderSpan(i,w,d+"_gap")),u.push(Xn.renderSpan(i,g,d,N)),c=s=v+1}else w&&u.push(Xn.renderSpan(i,w,d+"_gap")),u.push(Xn.renderSpan(i,1,d,this.renderShowMore(a,s))),c=s=s+1}return q.createElement("div",{className:"rbc-row"},u)}},{key:"getHiddenEventsForSlot",value:function(n,a){var i=lv(n,a),o=f0(n).levels[0],s=o.filter(function(c){return p0(c,a)}).map(function(c){return c.event});return i.filter(function(c){return!s.some(function(u){return u===c})})}},{key:"canRenderSlotEvent",value:function(n,a){var i=this.props.segments;return ad(n,n+a).every(function(o){var s=lv(i,o).length;return s===1})}},{key:"renderShowMore",value:function(n,a){var i=this,o=this.props,s=o.localizer,c=o.slotMetrics,u=o.components,d=c.getEventsForSlot(a),f=lv(n,a),p=f.length;if(u!=null&&u.showMore){var h=u.showMore,v=c.getDateForSlot(a-1);return p?q.createElement(h,{localizer:s,slotDate:v,slot:a,count:p,events:d,remainingEvents:f}):!1}return p?q.createElement("button",{type:"button",key:"sm_"+a,className:cr("rbc-button-link","rbc-show-more"),onClick:function(y){return i.showMore(a,y)}},s.messages.showMore(p,f,d)):!1}},{key:"showMore",value:function(n,a){a.preventDefault(),a.stopPropagation(),this.props.onShowMore(n,a.target)}}])}(q.Component);oA.defaultProps=Bt({},Xn.defaultProps);var SW=function(t){var r=t.children;return q.createElement("div",{className:"rbc-row-content-scroll-container"},r)},_W=function(t,r){return t.left<=r&&t.right>=r},AW=function(t,r){return t[0].range===r[0].range&&t[0].events===r[0].events};function sA(){return k_(function(e){for(var t=e.range,r=e.events,n=e.maxRows,a=e.minRows,i=e.accessors,o=e.localizer,s=iA({dateRange:t,localizer:o}),c=s.first,u=s.last,d=r.map(function(g){return wW(g,t,i,o)}),f=f0(d,Math.max(n-1,1)),p=f.levels,h=f.extra,v=h.length>0?a-1:a;p.length<v;)p.push([]);return{first:c,last:u,levels:p,extra:h,range:t,slots:t.length,clone:function(y){var x=sA();return x(Bt(Bt({},e),y))},getDateForSlot:function(y){return t[y]},getSlotForDate:function(y){return t.find(function(x){return o.isSameDate(x,y)})},getEventsForSlot:function(y){return d.filter(function(x){return _W(x,y)}).map(function(x){return x.event})},continuesPrior:function(y){return o.continuesPrior(i.start(y),c)},continuesAfter:function(y){var x=i.start(y),w=i.end(y);return o.continuesAfter(x,w,u)}}},AW)}var od=function(e){function t(){var r;Pr(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=en(this,t,[].concat(a)),r.handleSelectSlot=function(o){var s=r.props,c=s.range,u=s.onSelectSlot;u(c.slice(o.start,o.end+1),o)},r.handleShowMore=function(o,s){var c=r.props,u=c.range,d=c.onShowMore,f=r.slotMetrics(r.props),p=BT(r.containerRef.current,".rbc-row-bg")[0],h;p&&(h=p.children[o-1]);var v=f.getEventsForSlot(o);d(v,u[o-1],h,o,s)},r.getContainer=function(){var o=r.props.container;return o?o():r.containerRef.current},r.renderHeadingCell=function(o,s){var c=r.props,u=c.renderHeader,d=c.getNow,f=c.localizer;return u({date:o,key:"header_".concat(s),className:cr("rbc-date-cell",f.isSameDate(o,d())&&"rbc-now")})},r.renderDummy=function(){var o=r.props,s=o.className,c=o.range,u=o.renderHeader,d=o.showAllEvents;return q.createElement("div",{className:s,ref:r.containerRef},q.createElement("div",{className:cr("rbc-row-content",d&&"rbc-row-content-scrollable")},u&&q.createElement("div",{className:"rbc-row",ref:r.headingRowRef},c.map(r.renderHeadingCell)),q.createElement("div",{className:"rbc-row",ref:r.eventRowRef},q.createElement("div",{className:"rbc-row-segment"},q.createElement("div",{className:"rbc-event"},q.createElement("div",{className:"rbc-event-content"}," "))))))},r.containerRef=F.createRef(),r.headingRowRef=F.createRef(),r.eventRowRef=F.createRef(),r.slotMetrics=sA(),r}return tn(t,e),Er(t,[{key:"getRowLimit",value:function(){var n,a=iv(this.eventRowRef.current),i=(n=this.headingRowRef)!==null&&n!==void 0&&n.current?iv(this.headingRowRef.current):0,o=iv(this.containerRef.current)-i;return Math.max(Math.floor(o/a),1)}},{key:"render",value:function(){var n=this.props,a=n.date,i=n.rtl,o=n.range,s=n.className,c=n.selected,u=n.selectable,d=n.renderForMeasure,f=n.accessors,p=n.getters,h=n.components,v=n.getNow,g=n.renderHeader,y=n.onSelect,x=n.localizer,w=n.onSelectStart,N=n.onSelectEnd,_=n.onDoubleClick,b=n.onKeyPress,A=n.resourceId,O=n.longPressThreshold,E=n.isAllDay,C=n.resizable,D=n.showAllEvents;if(d)return this.renderDummy();var k=this.slotMetrics(this.props),T=k.levels,$=k.extra,I=D?SW:Ja,H=h.weekWrapper,V={selected:c,accessors:f,getters:p,localizer:x,components:h,onSelect:y,onDoubleClick:_,onKeyPress:b,resourceId:A,slotMetrics:k,resizable:C};return q.createElement("div",{className:s,role:"rowgroup",ref:this.containerRef},q.createElement(xW,{localizer:x,date:a,getNow:v,rtl:i,range:o,selectable:u,container:this.getContainer,getters:p,onSelectStart:w,onSelectEnd:N,onSelectSlot:this.handleSelectSlot,components:h,longPressThreshold:O,resourceId:A}),q.createElement("div",{className:cr("rbc-row-content",D&&"rbc-row-content-scrollable"),role:"row"},g&&q.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},o.map(this.renderHeadingCell)),q.createElement(I,null,q.createElement(H,Object.assign({isAllDay:E},V,{rtl:this.props.rtl}),T.map(function(X,Q){return q.createElement(aA,Object.assign({key:Q,segments:X},V))}),!!$.length&&q.createElement(oA,Object.assign({segments:$,onShowMore:this.handleShowMore},V))))))}}])}(q.Component);od.defaultProps={minRows:0,maxRows:1/0};var Cb=function(t){var r=t.label;return q.createElement("span",{role:"columnheader","aria-sort":"none"},r)},OW=function(t){var r=t.label,n=t.drilldownView,a=t.onDrillDown;return n?q.createElement("button",{type:"button",className:"rbc-button-link",onClick:a},r):q.createElement("span",null,r)},PW=["date","className"],EW=function(t,r,n,a,i){return t.filter(function(o){return id(o,r,n,a,i)})},sm=function(e){function t(){var r;Pr(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=en(this,t,[].concat(a)),r.getContainer=function(){return r.containerRef.current},r.renderWeek=function(o,s){var c=r.props,u=c.events,d=c.components,f=c.selectable,p=c.getNow,h=c.selected,v=c.date,g=c.localizer,y=c.longPressThreshold,x=c.accessors,w=c.getters,N=c.showAllEvents,_=r.state,b=_.needLimitMeasure,A=_.rowLimit,O=EW(jh(u),o[0],o[o.length-1],x,g),E=NW(O,x,g);return q.createElement(od,{key:s,ref:s===0?r.slotRowRef:void 0,container:r.getContainer,className:"rbc-month-row",getNow:p,date:v,range:o,events:E,maxRows:N?1/0:A,selected:h,selectable:f,components:d,accessors:x,getters:w,localizer:g,renderHeader:r.readerDateHeading,renderForMeasure:b,onShowMore:r.handleShowMore,onSelect:r.handleSelectEvent,onDoubleClick:r.handleDoubleClickEvent,onKeyPress:r.handleKeyPressEvent,onSelectSlot:r.handleSelectSlot,longPressThreshold:y,rtl:r.props.rtl,resizable:r.props.resizable,showAllEvents:N})},r.readerDateHeading=function(o){var s=o.date,c=o.className,u=ci(o,PW),d=r.props,f=d.date,p=d.getDrilldownView,h=d.localizer,v=h.neq(f,s,"month"),g=h.isSameDate(s,f),y=p(s),x=h.format(s,"dateFormat"),w=r.props.components.dateHeader||OW;return q.createElement("div",Object.assign({},u,{className:cr(c,v&&"rbc-off-range",g&&"rbc-current"),role:"cell"}),q.createElement(w,{label:x,date:s,drilldownView:y,isOffRange:v,onDrillDown:function(_){return r.handleHeadingClick(s,y,_)}}))},r.handleSelectSlot=function(o,s){r._pendingSelection=r._pendingSelection.concat(o),clearTimeout(r._selectTimer),r._selectTimer=setTimeout(function(){return r.selectDates(s)})},r.handleHeadingClick=function(o,s,c){c.preventDefault(),r.clearSelection(),Jt(r.props.onDrillDown,[o,s])},r.handleSelectEvent=function(){r.clearSelection();for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];Jt(r.props.onSelectEvent,s)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];Jt(r.props.onDoubleClickEvent,s)},r.handleKeyPressEvent=function(){r.clearSelection();for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];Jt(r.props.onKeyPressEvent,s)},r.handleShowMore=function(o,s,c,u,d){var f=r.props,p=f.popup,h=f.onDrillDown,v=f.onShowMore,g=f.getDrilldownView,y=f.doShowMoreDrillDown;if(r.clearSelection(),p){var x=KS(c,r.containerRef.current);r.setState({overlay:{date:s,events:o,position:x,target:d}})}else y&&Jt(h,[s,g(s)||cn.DAY]);Jt(v,[o,s,u])},r.overlayDisplay=function(){r.setState({overlay:null})},r.state={rowLimit:5,needLimitMeasure:!0,date:null},r.containerRef=F.createRef(),r.slotRowRef=F.createRef(),r._bgRows=[],r._pendingSelection=[],r}return tn(t,e),Er(t,[{key:"componentDidMount",value:function(){var n=this,a;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){a||XS(function(){a=!1,n.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var n=this.props,a=n.date,i=n.localizer,o=n.className,s=i.visibleDays(a,i),c=ST(s,7);return this._weekCount=c.length,q.createElement("div",{className:cr("rbc-month-view",o),role:"table","aria-label":"Month View",ref:this.containerRef},q.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(c[0])),c.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(n){var a=this.props,i=a.localizer,o=a.components,s=n[0],c=n[n.length-1],u=o.header||Cb;return i.range(s,c,"day").map(function(d,f){return q.createElement("div",{key:"header_"+f,className:"rbc-header"},q.createElement(u,{date:d,localizer:i,label:i.format(d,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var n,a,i=this,o=(n=(a=this.state)===null||a===void 0?void 0:a.overlay)!==null&&n!==void 0?n:{},s=this.props,c=s.accessors,u=s.localizer,d=s.components,f=s.getters,p=s.selected,h=s.popupOffset,v=s.handleDragStart,g=function(){return i.setState({overlay:null})};return q.createElement(Tb,{overlay:o,accessors:c,localizer:u,components:d,getters:f,selected:p,popupOffset:h,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:v,show:!!o.position,overlayDisplay:this.overlayDisplay,onHide:g})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(n){var a=this._pendingSelection.slice();this._pendingSelection=[],a.sort(function(s,c){return+s-+c});var i=new Date(a[0]),o=new Date(a[a.length-1]);o.setDate(a[a.length-1].getDate()+1),Jt(this.props.onSelectSlot,{slots:a,start:i,end:o,action:n.action,bounds:n.bounds,box:n.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(n,a){var i=n.date,o=n.localizer;return{date:i,needLimitMeasure:o.neq(i,a.date,"month")}}}])}(q.Component);sm.range=function(e,t){var r=t.localizer,n=r.firstVisibleDay(e,r),a=r.lastVisibleDay(e,r);return{start:n,end:a}};sm.navigate=function(e,t,r){var n=r.localizer;switch(t){case _n.PREVIOUS:return n.add(e,-1,"month");case _n.NEXT:return n.add(e,1,"month");default:return e}};sm.title=function(e,t){var r=t.localizer;return r.format(e,"monthHeaderFormat")};var aw=function(t){var r=t.min,n=t.max,a=t.step,i=t.slots,o=t.localizer;return"".concat(+o.startOf(r,"minutes"))+"".concat(+o.startOf(n,"minutes"))+"".concat(a,"-").concat(i)};function Lb(e){for(var t=e.min,r=e.max,n=e.step,a=e.timeslots,i=e.localizer,o=aw({step:n,localizer:i}),s=1+i.getTotalMin(t,r),c=i.getMinutesFromMidnight(t),u=Math.ceil((s-1)/(n*a)),d=u*a,f=new Array(u),p=new Array(d),h=0;h<u;h++){f[h]=new Array(a);for(var v=0;v<a;v++){var g=h*a+v,y=g*n;p[g]=f[h][v]=i.getSlotDate(t,c,y)}}var x=p.length*n;p.push(i.getSlotDate(t,c,x));function w(N){var _=i.diff(t,N,"minutes")+i.getDstOffset(t,N);return Math.min(_,s)}return{groups:f,update:function(_){return aw(_)!==o?Lb(_):this},dateIsInGroup:function(_,b){var A=f[b+1];return i.inRange(_,f[b][0],A?A[0]:r,"minutes")},nextSlot:function(_){var b=p[Math.min(p.findIndex(function(A){return A===_||i.eq(A,_)})+1,p.length-1)];return i.eq(b,_)&&(b=i.add(_,n,"minutes")),b},closestSlotToPosition:function(_){var b=Math.min(p.length-1,Math.max(0,Math.floor(_*d)));return p[b]},closestSlotFromPoint:function(_,b){var A=Math.abs(b.top-b.bottom);return this.closestSlotToPosition((_.y-b.top)/A)},closestSlotFromDate:function(_){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(i.lt(_,t,"minutes"))return p[0];if(i.gt(_,r,"minutes"))return p[p.length-1];var A=i.diff(t,_,"minutes");return p[(A-A%n)/n+b]},startsBeforeDay:function(_){return i.lt(_,t,"day")},startsAfterDay:function(_){return i.gt(_,r,"day")},startsBefore:function(_){return i.lt(i.merge(t,_),t,"minutes")},startsAfter:function(_){return i.gt(i.merge(r,_),r,"minutes")},getRange:function(_,b,A,O){A||(_=i.min(r,i.max(t,_))),O||(b=i.min(r,i.max(t,b)));var E=w(_),C=w(b),D=C>n*d&&!i.eq(r,b)?(E-n)/(n*d)*100:E/(n*d)*100;return{top:D,height:C/(n*d)*100-D,start:w(_),startDate:_,end:w(b),endDate:b}},getCurrentTimePosition:function(_){var b=w(_),A=b/(n*d)*100;return A}}}var kW=function(){function e(t,r){var n=r.accessors,a=r.slotMetrics;Pr(this,e);var i=a.getRange(n.start(t),n.end(t)),o=i.start,s=i.startDate,c=i.end,u=i.endDate,d=i.top,f=i.height;this.start=o,this.end=c,this.startMs=+s,this.endMs=+u,this.top=d,this.height=f,this.data=t}return Er(e,[{key:"_width",get:function(){if(this.rows){var r=this.rows.reduce(function(a,i){return Math.max(a,i.leaves.length+1)},0)+1;return 100/r}if(this.leaves){var n=100-this.container._width;return n/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var r=this._width,n=Math.min(100,this._width*1.7);if(this.rows)return n;if(this.leaves)return this.leaves.length>0?n:r;var a=this.row.leaves,i=a.indexOf(this);return i===a.length-1?r:n}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var r=this.row,n=r.leaves,a=r.xOffset,i=r._width,o=n.indexOf(this)+1;return a+o*i}}])}();function TW(e,t,r){return Math.abs(t.start-e.start)<r||t.start>e.start&&t.start<e.end}function CW(e){for(var t=nm(e,["startMs",function(s){return-s.endMs}]),r=[];t.length>0;){var n=t.shift();r.push(n);for(var a=0;a<t.length;a++){var i=t[a];if(!(n.endMs>i.startMs)){if(a>0){var o=t.splice(a,1)[0];r.push(o)}break}}}return r}function lA(e){for(var t=e.events,r=e.minimumStartDifference,n=e.slotMetrics,a=e.accessors,i=t.map(function(d){return new kW(d,{slotMetrics:n,accessors:a})}),o=CW(i),s=[],c=function(){var f=o[u],p=s.find(function(g){return g.end>f.start||Math.abs(f.start-g.start)<r});if(!p)return f.rows=[],s.push(f),1;f.container=p;for(var h=null,v=p.rows.length-1;!h&&v>=0;v--)TW(p.rows[v],f,r)&&(h=p.rows[v]);h?(h.leaves.push(f),f.row=h):(f.leaves=[],p.rows.push(f))},u=0;u<o.length;u++)c();return o.map(function(d){return{event:d.data,style:{top:d.top,height:d.height,width:d.width,xOffset:Math.max(0,d.xOffset)}}})}function cA(e,t,r){for(var n=0;n<e.friends.length;++n)if(!(r.indexOf(e.friends[n])>-1)){t=t>e.friends[n].idx?t:e.friends[n].idx,r.push(e.friends[n]);var a=cA(e.friends[n],t,r);t=t>a?t:a}return t}function LW(e){var t=e.events,r=e.minimumStartDifference,n=e.slotMetrics,a=e.accessors,i=lA({events:t,minimumStartDifference:r,slotMetrics:n,accessors:a});i.sort(function(H,V){return H=H.style,V=V.style,H.top!==V.top?H.top>V.top?1:-1:H.height!==V.height?H.top+H.height<V.top+V.height?1:-1:0});for(var o=0;o<i.length;++o)i[o].friends=[],delete i[o].style.left,delete i[o].style.left,delete i[o].idx,delete i[o].size;for(var s=0;s<i.length-1;++s)for(var c=i[s],u=c.style.top,d=c.style.top+c.style.height,f=s+1;f<i.length;++f){var p=i[f],h=p.style.top,v=p.style.top+p.style.height;(h>=u&&v<=d||v>u&&v<=d||h>=u&&h<d)&&(c.friends.push(p),p.friends.push(c))}for(var g=0;g<i.length;++g){for(var y=i[g],x=[],w=0;w<100;++w)x.push(1);for(var N=0;N<y.friends.length;++N)y.friends[N].idx!==void 0&&(x[y.friends[N].idx]=0);y.idx=x.indexOf(1)}for(var _=0;_<i.length;++_){var b=0;if(!i[_].size){var A=[],O=cA(i[_],0,A);b=100/(O+1),i[_].size=b;for(var E=0;E<A.length;++E)A[E].size=b}}for(var C=0;C<i.length;++C){var D=i[C];D.style.left=D.idx*D.size;for(var k=0,T=0;T<D.friends.length;++T){var $=D.friends[T].idx;k=k>$?k:$}k<=D.idx&&(D.size=100-D.idx*D.size);var I=D.idx===0?0:3;D.style.width="calc(".concat(D.size,"% - ").concat(I,"px)"),D.style.height="calc(".concat(D.style.height,"% - 2px)"),D.style.xOffset="calc(".concat(D.style.left,"% + ").concat(I,"px)")}return i}var iw={overlap:lA,"no-overlap":LW};function MW(e){return!!(e&&e.constructor&&e.call&&e.apply)}function $W(e){e.events,e.minimumStartDifference,e.slotMetrics,e.accessors;var t=e.dayLayoutAlgorithm,r=t;return t in iw&&(r=iw[t]),MW(r)?r.apply(this,arguments):[]}var uA=function(e){function t(){return Pr(this,t),en(this,t,arguments)}return tn(t,e),Er(t,[{key:"render",value:function(){var n=this.props,a=n.renderSlot,i=n.resource,o=n.group,s=n.getters,c=n.components,u=c===void 0?{}:c,d=u.timeSlotWrapper,f=d===void 0?Ja:d,p=s?s.slotGroupProp(o):{};return q.createElement("div",Object.assign({className:"rbc-timeslot-group"},p),o.map(function(h,v){var g=s?s.slotProp(h,i):{};return q.createElement(f,{key:v,value:h,resource:i},q.createElement("div",Object.assign({},g,{className:cr("rbc-time-slot",g.className)}),a&&a(h,v)))}))}}])}(F.Component);function th(e){return typeof e=="string"?e:e+"%"}function DW(e){var t=e.style,r=e.className,n=e.event,a=e.accessors,i=e.rtl,o=e.selected,s=e.label,c=e.continuesPrior,u=e.continuesAfter,d=e.getters,f=e.onClick,p=e.onDoubleClick,h=e.isBackgroundEvent,v=e.onKeyPress,g=e.components,y=g.event,x=g.eventWrapper,w=a.title(n),N=a.tooltip(n),_=a.end(n),b=a.start(n),A=d.eventProp(n,b,_,o),O=[q.createElement("div",{key:"1",className:"rbc-event-label"},s),q.createElement("div",{key:"2",className:"rbc-event-content"},y?q.createElement(y,{event:n,title:w}):w)],E=t.height,C=t.top,D=t.width,k=t.xOffset,T=Bt(Bt({},A.style),{},Zo({top:th(C),height:th(E),width:th(D)},i?"right":"left",th(k)));return q.createElement(x,Object.assign({type:"time"},e),q.createElement("div",{role:"button",tabIndex:0,onClick:f,onDoubleClick:p,style:T,onKeyDown:v,title:N?(typeof s=="string"?s+": ":"")+N:void 0,className:cr(h?"rbc-background-event":"rbc-event",r,A.className,{"rbc-selected":o,"rbc-event-continues-earlier":c,"rbc-event-continues-later":u})},O))}var IW=function(t){var r=t.children,n=t.className,a=t.style,i=t.innerRef;return q.createElement("div",{className:n,style:a,ref:i},r)},RW=q.forwardRef(function(e,t){return q.createElement(IW,Object.assign({},e,{innerRef:t}))}),FW=["dayProp"],BW=["eventContainerWrapper","timeIndicatorWrapper"],dA=function(e){function t(){var r;Pr(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=en(this,t,[].concat(a)),r.state={selecting:!1,timeIndicatorPosition:null},r.intervalTriggered=!1,r.renderEvents=function(o){var s=o.events,c=o.isBackgroundEvent,u=r.props,d=u.rtl,f=u.selected,p=u.accessors,h=u.localizer,v=u.getters,g=u.components,y=u.step,x=u.timeslots,w=u.dayLayoutAlgorithm,N=u.resizable,_=r,b=_.slotMetrics,A=h.messages,O=$W({events:s,accessors:p,slotMetrics:b,minimumStartDifference:Math.ceil(y*x/2),dayLayoutAlgorithm:w});return O.map(function(E,C){var D,k=E.event,T=E.style,$=p.end(k),I=p.start(k),H=(D=p.eventId(k))!==null&&D!==void 0?D:"evt_"+C,V="eventTimeRangeFormat",X,Q=b.startsBeforeDay(I),Y=b.startsAfterDay($);Q?V="eventTimeRangeEndFormat":Y&&(V="eventTimeRangeStartFormat"),Q&&Y?X=A.allDay:X=h.format({start:I,end:$},V);var G=Q||b.startsBefore(I),ae=Y||b.startsAfter($);return q.createElement(DW,{style:T,event:k,label:X,key:H,getters:v,rtl:d,components:g,continuesPrior:G,continuesAfter:ae,accessors:p,resource:r.props.resource,selected:om(k,f),onClick:function(z){return r._select(Bt(Bt(Bt({},k),r.props.resource&&{sourceResource:r.props.resource}),c&&{isBackgroundEvent:!0}),z)},onDoubleClick:function(z){return r._doubleClick(k,z)},isBackgroundEvent:c,onKeyPress:function(z){return r._keyPress(k,z)},resizable:N})})},r._selectable=function(){var o=r.containerRef.current,s=r.props,c=s.longPressThreshold,u=s.localizer,d=r._selector=new nA(function(){return o},{longPressThreshold:c}),f=function(g){var y=r.props.onSelecting,x=r.state||{},w=p(g),N=w.startDate,_=w.endDate;y&&(u.eq(x.startDate,N,"minutes")&&u.eq(x.endDate,_,"minutes")||y({start:N,end:_,resourceId:r.props.resource})===!1)||(r.state.start!==w.start||r.state.end!==w.end||r.state.selecting!==w.selecting)&&r.setState(w)},p=function(g){var y=r.slotMetrics.closestSlotFromPoint(g,ws(o));r.state.selecting||(r._initialSlot=y);var x=r._initialSlot;u.lte(x,y)?y=r.slotMetrics.nextSlot(y):u.gt(x,y)&&(x=r.slotMetrics.nextSlot(x));var w=r.slotMetrics.getRange(u.min(x,y),u.max(x,y));return Bt(Bt({},w),{},{selecting:!0,top:"".concat(w.top,"%"),height:"".concat(w.height,"%")})},h=function(g,y){if(!Bh(r.containerRef.current,g)){var x=p(g),w=x.startDate,N=x.endDate;r._selectSlot({startDate:w,endDate:N,action:y,box:g})}r.setState({selecting:!1})};d.on("selecting",f),d.on("selectStart",f),d.on("beforeSelect",function(v){if(r.props.selectable==="ignoreEvents")return!Bh(r.containerRef.current,v)}),d.on("click",function(v){return h(v,"click")}),d.on("doubleClick",function(v){return h(v,"doubleClick")}),d.on("select",function(v){r.state.selecting&&(r._selectSlot(Bt(Bt({},r.state),{},{action:"select",bounds:v})),r.setState({selecting:!1}))}),d.on("reset",function(){r.state.selecting&&r.setState({selecting:!1})})},r._teardownSelectable=function(){r._selector&&(r._selector.teardown(),r._selector=null)},r._selectSlot=function(o){for(var s=o.startDate,c=o.endDate,u=o.action,d=o.bounds,f=o.box,p=s,h=[];r.props.localizer.lte(p,c);)h.push(p),p=new Date(+p+r.props.step*60*1e3);Jt(r.props.onSelectSlot,{slots:h,start:s,end:c,resourceId:r.props.resource,action:u,bounds:d,box:f})},r._select=function(){for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];Jt(r.props.onSelectEvent,s)},r._doubleClick=function(){for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];Jt(r.props.onDoubleClickEvent,s)},r._keyPress=function(){for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];Jt(r.props.onKeyPressEvent,s)},r.slotMetrics=Lb(r.props),r.containerRef=F.createRef(),r}return tn(t,e),Er(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(n,a){this.props.selectable&&!n.selectable&&this._selectable(),!this.props.selectable&&n.selectable&&this._teardownSelectable();var i=this.props,o=i.getNow,s=i.isNow,c=i.localizer,u=i.date,d=i.min,f=i.max,p=c.neq(n.getNow(),o(),"minutes");if(n.isNow!==s||p){if(this.clearTimeIndicatorInterval(),s){var h=!p&&c.eq(n.date,u,"minutes")&&a.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(h)}}else s&&(c.neq(n.min,d,"minutes")||c.neq(n.max,f,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var n=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!a&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){n.intervalTriggered=!0,n.positionTimeIndicator(),n.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var n=this.props,a=n.min,i=n.max,o=n.getNow,s=o();if(s>=a&&s<=i){var c=this.slotMetrics.getCurrentTimePosition(s);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:c})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var n=this.props,a=n.date,i=n.max,o=n.rtl,s=n.isNow,c=n.resource,u=n.accessors,d=n.localizer,f=n.getters,p=f.dayProp,h=ci(f,FW),v=n.components,g=v.eventContainerWrapper,y=v.timeIndicatorWrapper,x=ci(v,BW);this.slotMetrics=this.slotMetrics.update(this.props);var w=this.slotMetrics,N=this.state,_=N.selecting,b=N.top,A=N.height,O=N.startDate,E=N.endDate,C={start:O,end:E},D=p(i,c),k=D.className,T=D.style,$={className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}},I=x.dayColumnWrapper||RW;return q.createElement(I,{ref:this.containerRef,date:a,style:T,className:cr(k,"rbc-day-slot","rbc-time-column",s&&"rbc-now",s&&"rbc-today",_&&"rbc-slot-selecting"),slotMetrics:w,resource:c},w.groups.map(function(H,V){return q.createElement(uA,{key:V,group:H,resource:c,getters:h,components:x})}),q.createElement(g,{localizer:d,resource:c,accessors:u,getters:h,components:x,slotMetrics:w},q.createElement("div",{className:cr("rbc-events-container",o&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),_&&q.createElement("div",{className:"rbc-slot-selection",style:{top:b,height:A}},q.createElement("span",null,d.format(C,"selectRangeFormat"))),s&&this.intervalTriggered&&q.createElement(y,$,q.createElement("div",$)))}}])}(q.Component);dA.defaultProps={dragThroughEvents:!0,timeslots:2};var fA=function(t){var r=t.label;return q.createElement(q.Fragment,null,r)},qW=function(e){function t(){var r;Pr(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=en(this,t,[].concat(a)),r.handleHeaderClick=function(o,s,c){c.preventDefault(),Jt(r.props.onDrillDown,[o,s])},r.renderRow=function(o){var s=r.props,c=s.events,u=s.rtl,d=s.selectable,f=s.getNow,p=s.range,h=s.getters,v=s.localizer,g=s.accessors,y=s.components,x=s.resizable,w=g.resourceId(o),N=o?c.filter(function(_){return g.resource(_)===w}):c;return q.createElement(od,{isAllDay:!0,rtl:u,getNow:f,minRows:2,maxRows:r.props.allDayMaxRows+1,range:p,events:N,resourceId:w,className:"rbc-allday-cell",selectable:d,selected:r.props.selected,components:y,accessors:g,getters:h,localizer:v,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyPress:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:x})},r}return tn(t,e),Er(t,[{key:"renderHeaderCells",value:function(n){var a=this,i=this.props,o=i.localizer,s=i.getDrilldownView,c=i.getNow,u=i.getters.dayProp,d=i.components.header,f=d===void 0?Cb:d,p=c();return n.map(function(h,v){var g=s(h),y=o.format(h,"dayFormat"),x=u(h),w=x.className,N=x.style,_=q.createElement(f,{date:h,label:y,localizer:o});return q.createElement("div",{key:v,style:N,className:cr("rbc-header",w,o.isSameDate(h,p)&&"rbc-today")},g?q.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(A){return a.handleHeaderClick(h,g,A)}},_):q.createElement("span",null,_))})}},{key:"render",value:function(){var n=this,a=this.props,i=a.width,o=a.rtl,s=a.resources,c=a.range,u=a.events,d=a.getNow,f=a.accessors,p=a.selectable,h=a.components,v=a.getters,g=a.scrollRef,y=a.localizer,x=a.isOverflowing,w=a.components,N=w.timeGutterHeader,_=w.resourceHeader,b=_===void 0?fA:_,A=a.resizable,O={};x&&(O[o?"marginLeft":"marginRight"]="".concat(cb()-1,"px"));var E=s.groupEvents(u);return q.createElement("div",{style:O,ref:g,className:cr("rbc-time-header",x&&"rbc-overflowing")},q.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:i,minWidth:i,maxWidth:i}},N&&q.createElement(N,null)),s.map(function(C,D){var k=hs(C,2),T=k[0],$=k[1];return q.createElement("div",{className:"rbc-time-header-content",key:T||D},$&&q.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(D)},q.createElement("div",{className:"rbc-header"},q.createElement(b,{index:D,label:f.resourceTitle($),resource:$}))),q.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(c.length<=1?" rbc-time-header-cell-single-day":"")},n.renderHeaderCells(c)),q.createElement(od,{isAllDay:!0,rtl:o,getNow:d,minRows:2,maxRows:n.props.allDayMaxRows+1,range:c,events:E.get(T)||[],resourceId:$&&T,className:"rbc-allday-cell",selectable:p,selected:n.props.selected,components:h,accessors:f,getters:v,localizer:y,onSelect:n.props.onSelectEvent,onShowMore:n.props.onShowMore,onDoubleClick:n.props.onDoubleClickEvent,onKeyDown:n.props.onKeyPressEvent,onSelectSlot:n.props.onSelectSlot,longPressThreshold:n.props.longPressThreshold,resizable:A}))}))}}])}(q.Component),zW=function(e){function t(){var r;Pr(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=en(this,t,[].concat(a)),r.handleHeaderClick=function(o,s,c){c.preventDefault(),Jt(r.props.onDrillDown,[o,s])},r}return tn(t,e),Er(t,[{key:"renderHeaderCells",value:function(n){var a=this,i=this.props,o=i.localizer,s=i.getDrilldownView,c=i.getNow,u=i.getters.dayProp,d=i.components,f=d.header,p=f===void 0?Cb:f,h=d.resourceHeader,v=h===void 0?fA:h,g=i.resources,y=i.accessors,x=i.events,w=i.rtl,N=i.selectable,_=i.components,b=i.getters,A=i.resizable,O=c(),E=g.groupEvents(x);return n.map(function(C,D){var k=s(C),T=o.format(C,"dayFormat"),$=u(C),I=$.className,H=$.style,V=q.createElement(p,{date:C,label:T,localizer:o});return q.createElement("div",{key:D,className:"rbc-time-header-content rbc-resource-grouping"},q.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(n.length<=1?" rbc-time-header-cell-single-day":"")},q.createElement("div",{style:H,className:cr("rbc-header",I,o.isSameDate(C,O)&&"rbc-today")},k?q.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(Q){return a.handleHeaderClick(C,k,Q)}},V):q.createElement("span",null,V))),q.createElement("div",{className:"rbc-row"},g.map(function(X,Q){var Y=hs(X,2),G=Y[0],ae=Y[1];return q.createElement("div",{key:"resource_".concat(G,"_").concat(Q),className:cr("rbc-header",I,o.isSameDate(C,O)&&"rbc-today")},q.createElement(v,{index:Q,label:y.resourceTitle(ae),resource:ae}))})),q.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},g.map(function(X,Q){var Y=hs(X,2),G=Y[0],ae=Y[1],M=(E.get(G)||[]).filter(function(z){return o.isSameDate(z.start,C)||o.isSameDate(z.end,C)});return q.createElement(od,{key:"resource_".concat(G,"_").concat(Q),isAllDay:!0,rtl:w,getNow:c,minRows:2,maxRows:a.props.allDayMaxRows+1,range:[C],events:M,resourceId:ae&&G,className:"rbc-allday-cell",selectable:N,selected:a.props.selected,components:_,accessors:y,getters:b,localizer:o,onSelect:a.props.onSelectEvent,onShowMore:a.props.onShowMore,onDoubleClick:a.props.onDoubleClickEvent,onKeyDown:a.props.onKeyPressEvent,onSelectSlot:a.props.onSelectSlot,longPressThreshold:a.props.longPressThreshold,resizable:A})})))})}},{key:"render",value:function(){var n=this.props,a=n.width,i=n.rtl,o=n.range,s=n.scrollRef,c=n.isOverflowing,u=n.components.timeGutterHeader,d={};return c&&(d[i?"marginLeft":"marginRight"]="".concat(cb()-1,"px")),q.createElement("div",{style:d,ref:s,className:cr("rbc-time-header",c&&"rbc-overflowing")},q.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:a,minWidth:a,maxWidth:a}},u&&q.createElement(u,null)),this.renderHeaderCells(o))}}])}(q.Component);function UW(e){var t=e.min,r=e.max,n=e.localizer;return n.getTimezoneOffset(t)!==n.getTimezoneOffset(r)?{start:n.add(t,-1,"day"),end:n.add(r,-1,"day")}:{start:t,end:r}}var WW=function(t){var r=t.min,n=t.max,a=t.timeslots,i=t.step,o=t.localizer,s=t.getNow,c=t.resource,u=t.components,d=t.getters,f=t.gutterRef,p=u.timeGutterWrapper,h=F.useMemo(function(){return UW({min:r,max:n,localizer:o})},[r==null?void 0:r.toISOString(),n==null?void 0:n.toISOString(),o]),v=h.start,g=h.end,y=F.useState(Lb({min:v,max:g,timeslots:a,step:i,localizer:o})),x=hs(y,2),w=x[0],N=x[1];F.useEffect(function(){w&&N(w.update({min:v,max:g,timeslots:a,step:i,localizer:o}))},[v==null?void 0:v.toISOString(),g==null?void 0:g.toISOString(),a,i]);var _=F.useCallback(function(b,A){if(A)return null;var O=w.dateIsInGroup(s(),A);return q.createElement("span",{className:cr("rbc-label",O&&"rbc-now")},o.format(b,"timeGutterFormat"))},[w,o,s]);return q.createElement(p,{slotMetrics:w},q.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:f},w.groups.map(function(b,A){return q.createElement(uA,{key:A,group:b,resource:c,components:u,renderSlot:_,getters:d})})))},GW=q.forwardRef(function(e,t){return q.createElement(WW,Object.assign({gutterRef:t},e))}),cv={};function HW(e,t){return{map:function(n){return e?e.map(function(a,i){return n([t.resourceId(a),a],i)}):[n([cv,null],0)]},groupEvents:function(n){var a=new Map;return e?(n.forEach(function(i){var o=t.resource(i)||cv;if(Array.isArray(o))o.forEach(function(c){var u=a.get(c)||[];u.push(i),a.set(c,u)});else{var s=a.get(o)||[];s.push(i),a.set(o,s)}}),a):(a.set(cv,n),a)}}}var Tc=function(e){function t(r){var n;return Pr(this,t),n=en(this,t,[r]),n.handleScroll=function(a){n.scrollRef.current&&(n.scrollRef.current.scrollLeft=a.target.scrollLeft)},n.handleResize=function(){G1(n.rafHandle),n.rafHandle=XS(n.checkOverflow)},n.handleKeyPressEvent=function(){n.clearSelection();for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];Jt(n.props.onKeyPressEvent,i)},n.handleSelectEvent=function(){n.clearSelection();for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];Jt(n.props.onSelectEvent,i)},n.handleDoubleClickEvent=function(){n.clearSelection();for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];Jt(n.props.onDoubleClickEvent,i)},n.handleShowMore=function(a,i,o,s,c){var u=n.props,d=u.popup,f=u.onDrillDown,p=u.onShowMore,h=u.getDrilldownView,v=u.doShowMoreDrillDown;if(n.clearSelection(),d){var g=KS(o,n.containerRef.current);n.setState({overlay:{date:i,events:a,position:Bt(Bt({},g),{},{width:"200px"}),target:c}})}else v&&Jt(f,[i,h(i)||cn.DAY]);Jt(p,[a,i,s])},n.handleSelectAllDaySlot=function(a,i){var o=n.props.onSelectSlot,s=new Date(a[0]),c=new Date(a[a.length-1]);c.setDate(a[a.length-1].getDate()+1),Jt(o,{slots:a,start:s,end:c,action:i.action,resourceId:i.resourceId})},n.overlayDisplay=function(){n.setState({overlay:null})},n.checkOverflow=function(){if(!n._updatingOverflow){var a=n.contentRef.current;if(a!=null&&a.scrollHeight){var i=a.scrollHeight>a.clientHeight;n.state.isOverflowing!==i&&(n._updatingOverflow=!0,n.setState({isOverflowing:i},function(){n._updatingOverflow=!1}))}}},n.memoizedResources=k_(function(a,i){return HW(a,i)}),n.state={gutterWidth:void 0,isOverflowing:null},n.scrollRef=q.createRef(),n.contentRef=q.createRef(),n.containerRef=q.createRef(),n._scrollRatio=null,n.gutterRef=F.createRef(),n}return tn(t,e),Er(t,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),G1(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(n,a,i,o,s,c,u,d,f,p){var h=this.props,v=h.min,g=h.max,y=(o.get(a)||[]).filter(function(w){return c.inRange(n,u.start(w),u.end(w),"day")}),x=(s.get(a)||[]).filter(function(w){return c.inRange(n,u.start(w),u.end(w),"day")});return q.createElement(dA,Object.assign({},this.props,{localizer:c,min:c.merge(n,v),max:c.merge(n,g),resource:i&&a,components:d,isNow:c.isSameDate(n,p),key:"".concat(a,"-").concat(n),date:n,events:y,backgroundEvents:x,dayLayoutAlgorithm:f}))}},{key:"renderResourcesFirst",value:function(n,a,i,o,s,c,u,d,f){var p=this;return a.map(function(h){var v=hs(h,2),g=v[0],y=v[1];return n.map(function(x){return p.renderDayColumn(x,g,y,i,o,s,c,d,f,u)})})}},{key:"renderRangeFirst",value:function(n,a,i,o,s,c,u,d,f){var p=this;return n.map(function(h){return q.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:h},a.map(function(v){var g=hs(v,2),y=g[0],x=g[1];return q.createElement("div",{style:{flex:1},key:c.resourceId(x)},p.renderDayColumn(h,y,x,i,o,s,c,d,f,u))}))})}},{key:"renderEvents",value:function(n,a,i,o){var s=this.props,c=s.accessors,u=s.localizer,d=s.resourceGroupingLayout,f=s.components,p=s.dayLayoutAlgorithm,h=this.memoizedResources(this.props.resources,c),v=h.groupEvents(a),g=h.groupEvents(i);return d?this.renderRangeFirst(n,h,v,g,u,c,o,f,p):this.renderResourcesFirst(n,h,v,g,u,c,o,f,p)}},{key:"render",value:function(){var n,a=this.props,i=a.events,o=a.backgroundEvents,s=a.range,c=a.width,u=a.rtl,d=a.selected,f=a.getNow,p=a.resources,h=a.components,v=a.accessors,g=a.getters,y=a.localizer,x=a.min,w=a.max,N=a.showMultiDayTimes,_=a.longPressThreshold,b=a.resizable,A=a.resourceGroupingLayout;c=c||this.state.gutterWidth;var O=s[0],E=s[s.length-1];this.slots=s.length;var C=[],D=[],k=[];i.forEach(function($){if(id($,O,E,v,y)){var I=v.start($),H=v.end($);v.allDay($)||y.startAndEndAreDateOnly(I,H)||!N&&!y.isSameDate(I,H)?C.push($):D.push($)}}),o.forEach(function($){id($,O,E,v,y)&&k.push($)}),C.sort(function($,I){return h0($,I,v,y)});var T={range:s,events:C,width:c,rtl:u,getNow:f,localizer:y,selected:d,allDayMaxRows:this.props.showAllEvents?1/0:(n=this.props.allDayMaxRows)!==null&&n!==void 0?n:1/0,resources:this.memoizedResources(p,v),selectable:this.props.selectable,accessors:v,getters:g,components:h,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:_,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:b};return q.createElement("div",{className:cr("rbc-time-view",p&&"rbc-time-view-resources"),ref:this.containerRef},p&&p.length>1&&A?q.createElement(zW,T):q.createElement(qW,T),this.props.popup&&this.renderOverlay(),q.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},q.createElement(GW,{date:O,ref:this.gutterRef,localizer:y,min:y.merge(O,x),max:y.merge(O,w),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:h,className:"rbc-time-gutter",getters:g}),this.renderEvents(s,D,k,f())))}},{key:"renderOverlay",value:function(){var n,a,i=this,o=(n=(a=this.state)===null||a===void 0?void 0:a.overlay)!==null&&n!==void 0?n:{},s=this.props,c=s.accessors,u=s.localizer,d=s.components,f=s.getters,p=s.selected,h=s.popupOffset,v=s.handleDragStart,g=function(){return i.setState({overlay:null})};return q.createElement(Tb,{overlay:o,accessors:c,localizer:u,components:d,getters:f,selected:p,popupOffset:h,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:v,show:!!o.position,overlayDisplay:this.overlayDisplay,onHide:g})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var n=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var a,i=(a=n.gutterRef)!==null&&a!==void 0&&a.current?u0(n.gutterRef.current):void 0;i&&n.state.gutterWidth!==i&&n.setState({gutterWidth:i})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var n=this.contentRef.current;n.scrollTop=n.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,a=n.min,i=n.max,o=n.scrollToTime,s=n.localizer,c=s.diff(s.merge(o,a),o,"milliseconds"),u=s.diff(a,i,"milliseconds");this._scrollRatio=c/u}}])}(F.Component);Tc.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var VW=["date","localizer","min","max","scrollToTime","enableAutoScroll"],lm=function(e){function t(){return Pr(this,t),en(this,t,arguments)}return tn(t,e),Er(t,[{key:"render",value:function(){var n=this.props,a=n.date,i=n.localizer,o=n.min,s=o===void 0?i.startOf(new Date,"day"):o,c=n.max,u=c===void 0?i.endOf(new Date,"day"):c,d=n.scrollToTime,f=d===void 0?i.startOf(new Date,"day"):d,p=n.enableAutoScroll,h=p===void 0?!0:p,v=ci(n,VW),g=t.range(a,{localizer:i});return q.createElement(Tc,Object.assign({},v,{range:g,eventOffset:10,localizer:i,min:s,max:u,scrollToTime:f,enableAutoScroll:h}))}}])}(q.Component);lm.range=function(e,t){var r=t.localizer;return[r.startOf(e,"day")]};lm.navigate=function(e,t,r){var n=r.localizer;switch(t){case _n.PREVIOUS:return n.add(e,-1,"day");case _n.NEXT:return n.add(e,1,"day");default:return e}};lm.title=function(e,t){var r=t.localizer;return r.format(e,"dayHeaderFormat")};var YW=["date","localizer","min","max","scrollToTime","enableAutoScroll"],yo=function(e){function t(){return Pr(this,t),en(this,t,arguments)}return tn(t,e),Er(t,[{key:"render",value:function(){var n=this.props,a=n.date,i=n.localizer,o=n.min,s=o===void 0?i.startOf(new Date,"day"):o,c=n.max,u=c===void 0?i.endOf(new Date,"day"):c,d=n.scrollToTime,f=d===void 0?i.startOf(new Date,"day"):d,p=n.enableAutoScroll,h=p===void 0?!0:p,v=ci(n,YW),g=t.range(a,this.props);return q.createElement(Tc,Object.assign({},v,{range:g,eventOffset:15,localizer:i,min:s,max:u,scrollToTime:f,enableAutoScroll:h}))}}])}(q.Component);yo.defaultProps=Tc.defaultProps;yo.navigate=function(e,t,r){var n=r.localizer;switch(t){case _n.PREVIOUS:return n.add(e,-1,"week");case _n.NEXT:return n.add(e,1,"week");default:return e}};yo.range=function(e,t){var r=t.localizer,n=r.startOfWeek(),a=r.startOf(e,"week",n),i=r.endOf(e,"week",n);return r.range(a,i)};yo.title=function(e,t){var r=t.localizer,n=yo.range(e,{localizer:r}),a=I_(n),i=a[0],o=a.slice(1);return r.format({start:i,end:o.pop()},"dayRangeHeaderFormat")};var KW=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function Mb(e,t){return yo.range(e,t).filter(function(r){return[6,0].indexOf(r.getDay())===-1})}var Xd=function(e){function t(){return Pr(this,t),en(this,t,arguments)}return tn(t,e),Er(t,[{key:"render",value:function(){var n=this.props,a=n.date,i=n.localizer,o=n.min,s=o===void 0?i.startOf(new Date,"day"):o,c=n.max,u=c===void 0?i.endOf(new Date,"day"):c,d=n.scrollToTime,f=d===void 0?i.startOf(new Date,"day"):d,p=n.enableAutoScroll,h=p===void 0?!0:p,v=ci(n,KW),g=Mb(a,this.props);return q.createElement(Tc,Object.assign({},v,{range:g,eventOffset:15,localizer:i,min:s,max:u,scrollToTime:f,enableAutoScroll:h}))}}])}(q.Component);Xd.defaultProps=Tc.defaultProps;Xd.range=Mb;Xd.navigate=yo.navigate;Xd.title=function(e,t){var r=t.localizer,n=Mb(e,{localizer:r}),a=I_(n),i=a[0],o=a.slice(1);return r.format({start:i,end:o.pop()},"dayRangeHeaderFormat")};var cm=30;function um(e){var t=e.accessors,r=e.components,n=e.date,a=e.events,i=e.getters,o=e.length,s=o===void 0?cm:o,c=e.localizer,u=e.onDoubleClickEvent,d=e.onSelectEvent,f=e.selected,p=F.useRef(null),h=F.useRef(null),v=F.useRef(null),g=F.useRef(null),y=F.useRef(null);F.useEffect(function(){N()});var x=function(E,C,D){var k=r.event,T=r.date;return C=C.filter(function($){return id($,c.startOf(E,"day"),c.endOf(E,"day"),t,c)}),C.map(function($,I){var H=t.title($),V=t.end($),X=t.start($),Q=i.eventProp($,X,V,om($,f)),Y=I===0&&c.format(E,"agendaDateFormat"),G=I===0?q.createElement("td",{rowSpan:C.length,className:"rbc-agenda-date-cell"},T?q.createElement(T,{day:E,label:Y}):Y):!1;return q.createElement("tr",{key:D+"_"+I,className:Q.className,style:Q.style},G,q.createElement("td",{className:"rbc-agenda-time-cell"},w(E,$)),q.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(M){return d&&d($,M)},onDoubleClick:function(M){return u&&u($,M)}},k?q.createElement(k,{event:$,title:H}):H))},[])},w=function(E,C){var D="",k=r.time,T=c.messages.allDay,$=t.end(C),I=t.start(C);return t.allDay(C)||(c.eq(I,$)?T=c.format(I,"agendaTimeFormat"):c.isSameDate(I,$)?T=c.format({start:I,end:$},"agendaTimeRangeFormat"):c.isSameDate(E,I)?T=c.format(I,"agendaTimeFormat"):c.isSameDate(E,$)&&(T=c.format($,"agendaTimeFormat"))),c.gt(E,I,"day")&&(D="rbc-continues-prior"),c.lt(E,$,"day")&&(D+=" rbc-continues-after"),q.createElement("span",{className:D.trim()},k?q.createElement(k,{event:C,day:E,label:T}):T)},N=function(){if(y.current){var E=p.current,C=y.current.firstChild;if(C){var D=g.current.scrollHeight>g.current.clientHeight,k=[],T=k;k=[u0(C.children[0]),u0(C.children[1])],(T[0]!==k[0]||T[1]!==k[1])&&(h.current.style.width=k[0]+"px",v.current.style.width=k[1]+"px"),D?(dL(E,"rbc-header-overflowing"),E.style.marginRight=cb()+"px"):fL(E,"rbc-header-overflowing")}}},_=c.messages,b=c.add(n,s,"day"),A=c.range(n,b,"day");return a=a.filter(function(O){return id(O,c.startOf(n,"day"),c.endOf(b,"day"),t,c)}),a.sort(function(O,E){return+t.start(O)-+t.start(E)}),q.createElement("div",{className:"rbc-agenda-view"},a.length!==0?q.createElement(q.Fragment,null,q.createElement("table",{ref:p,className:"rbc-agenda-table"},q.createElement("thead",null,q.createElement("tr",null,q.createElement("th",{className:"rbc-header",ref:h},_.date),q.createElement("th",{className:"rbc-header",ref:v},_.time),q.createElement("th",{className:"rbc-header"},_.event)))),q.createElement("div",{className:"rbc-agenda-content",ref:g},q.createElement("table",{className:"rbc-agenda-table"},q.createElement("tbody",{ref:y},A.map(function(O,E){return x(O,a,E)}))))):q.createElement("span",{className:"rbc-agenda-empty"},_.noEventsInRange))}um.range=function(e,t){var r=t.length,n=r===void 0?cm:r,a=t.localizer,i=a.add(e,n,"day");return{start:e,end:i}};um.navigate=function(e,t,r){var n=r.length,a=n===void 0?cm:n,i=r.localizer;switch(t){case _n.PREVIOUS:return i.add(e,-a,"day");case _n.NEXT:return i.add(e,a,"day");default:return e}};um.title=function(e,t){var r=t.length,n=r===void 0?cm:r,a=t.localizer,i=a.add(e,n,"day");return a.format({start:e,end:i},"agendaHeaderFormat")};var _h=Zo(Zo(Zo(Zo(Zo({},cn.MONTH,sm),cn.WEEK,yo),cn.WORK_WEEK,Xd),cn.DAY,lm),cn.AGENDA,um),XW=["action","date","today"];function JW(e,t){var r=t.action,n=t.date,a=t.today,i=ci(t,XW);switch(e=typeof e=="string"?_h[e]:e,r){case _n.TODAY:n=a||new Date;break;case _n.DATE:break;default:Hu(e&&typeof e.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),n=e.navigate(n,r,i)}return n}function ZW(e,t){var r=null;return typeof t=="function"?r=t(e):typeof t=="string"&&xt(e)==="object"&&e!=null&&t in e&&(r=e[t]),r}var Ai=function(t){return function(r){return ZW(r,t)}},QW=["view","date","getNow","onNavigate"],eG=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function hA(e){if(Array.isArray(e))return e;for(var t=[],r=0,n=Object.entries(e);r<n.length;r++){var a=hs(n[r],2),i=a[0],o=a[1];o&&t.push(i)}return t}function tG(e,t){var r=t.views,n=hA(r);return n.indexOf(e)!==-1}var pA=function(e){function t(){var r;Pr(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=en(this,t,[].concat(a)),r.getViews=function(){var o=r.props.views;return Array.isArray(o)?TU(o,function(s,c){return s[c]=_h[c]},{}):xt(o)==="object"?F_(o,function(s,c){return s===!0?_h[c]:s}):_h},r.getView=function(){var o=r.getViews();return o[r.props.view]},r.getDrilldownView=function(o){var s=r.props,c=s.view,u=s.drilldownView,d=s.getDrilldownView;return d?d(o,c,Object.keys(r.getViews())):u},r.handleRangeChange=function(o,s,c){var u=r.props,d=u.onRangeChange,f=u.localizer;d&&s.range&&d(s.range(o,{localizer:f}),c)},r.handleNavigate=function(o,s){var c=r.props,u=c.view,d=c.date,f=c.getNow,p=c.onNavigate,h=ci(c,QW),v=r.getView(),g=f();d=JW(v,Bt(Bt({},h),{},{action:o,date:s||d||g,today:g})),p(d,u,o),r.handleRangeChange(d,v)},r.handleViewChange=function(o){o!==r.props.view&&tG(o,r.props)&&r.props.onView(o);var s=r.getViews();r.handleRangeChange(r.props.date||r.props.getNow(),s[o],o)},r.handleSelectEvent=function(){for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];Jt(r.props.onSelectEvent,s)},r.handleDoubleClickEvent=function(){for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];Jt(r.props.onDoubleClickEvent,s)},r.handleKeyPressEvent=function(){for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];Jt(r.props.onKeyPressEvent,s)},r.handleSelectSlot=function(o){Jt(r.props.onSelectSlot,o)},r.handleDrillDown=function(o,s){var c=r.props.onDrillDown;if(c){c(o,s,r.drilldownView);return}s&&r.handleViewChange(s),r.handleNavigate(_n.DATE,o)},r.state={context:t.getContext(r.props)},r}return tn(t,e),Er(t,[{key:"render",value:function(){var n=this.props,a=n.view,i=n.toolbar,o=n.events,s=n.backgroundEvents,c=n.resourceGroupingLayout,u=n.style,d=n.className,f=n.elementProps,p=n.date,h=n.getNow,v=n.length,g=n.showMultiDayTimes,y=n.onShowMore,x=n.doShowMoreDrillDown;n.components,n.formats,n.messages,n.culture;var w=ci(n,eG);p=p||h();var N=this.getView(),_=this.state.context,b=_.accessors,A=_.components,O=_.getters,E=_.localizer,C=_.viewNames,D=A.toolbar||aW,k=N.title(p,{localizer:E,length:v});return q.createElement("div",Object.assign({},f,{className:cr(d,"rbc-calendar",w.rtl&&"rbc-rtl"),style:u}),i&&q.createElement(D,{date:p,view:a,views:C,label:k,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:E}),q.createElement(N,Object.assign({},w,{events:o,backgroundEvents:s,date:p,getNow:h,length:v,localizer:E,getters:O,components:A,accessors:b,showMultiDayTimes:g,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:y,doShowMoreDrillDown:x,resourceGroupingLayout:c})))}}],[{key:"getDerivedStateFromProps",value:function(n){return{context:t.getContext(n)}}},{key:"getContext",value:function(n){var a=n.startAccessor,i=n.endAccessor,o=n.allDayAccessor,s=n.tooltipAccessor,c=n.titleAccessor,u=n.resourceAccessor,d=n.resourceIdAccessor,f=n.resourceTitleAccessor,p=n.eventIdAccessor,h=n.eventPropGetter,v=n.backgroundEventPropGetter,g=n.slotPropGetter,y=n.slotGroupPropGetter,x=n.dayPropGetter,w=n.view,N=n.views,_=n.localizer,b=n.culture,A=n.messages,O=A===void 0?{}:A,E=n.components,C=E===void 0?{}:E,D=n.formats,k=D===void 0?{}:D,T=hA(N),$=oW(O);return{viewNames:T,localizer:nW(_,b,k,$),getters:{eventProp:function(){return h&&h.apply(void 0,arguments)||{}},backgroundEventProp:function(){return v&&v.apply(void 0,arguments)||{}},slotProp:function(){return g&&g.apply(void 0,arguments)||{}},slotGroupProp:function(){return y&&y.apply(void 0,arguments)||{}},dayProp:function(){return x&&x.apply(void 0,arguments)||{}}},components:_B(C[w]||{},yU(C,T),{eventWrapper:Ja,backgroundEventWrapper:Ja,eventContainerWrapper:Ja,dateCellWrapper:Ja,weekWrapper:Ja,timeSlotWrapper:Ja,timeGutterWrapper:Ja,timeIndicatorWrapper:Ja}),accessors:{start:Ai(a),end:Ai(i),allDay:Ai(o),tooltip:Ai(s),title:Ai(c),resource:Ai(u),resourceId:Ai(d),resourceTitle:Ai(f),eventId:Ai(p)}}}}])}(q.Component);pA.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:cn.MONTH,views:[cn.MONTH,cn.WEEK,cn.DAY,cn.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:cn.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var rG=CS(pA,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),nG=function(t,r,n){var a=t.start,i=t.end;return"".concat(n.format(a,"P",r)," – ").concat(n.format(i,"P",r))},uv=function(t,r,n){var a=t.start,i=t.end;return"".concat(n.format(a,"p",r)," – ").concat(n.format(i,"p",r))},aG=function(t,r,n){var a=t.start;return"".concat(n.format(a,"h:mma",r)," – ")},iG=function(t,r,n){var a=t.end;return" – ".concat(n.format(a,"h:mma",r))},oG=function(t,r,n){var a=t.start,i=t.end;return"".concat(n.format(a,"MMMM dd",r)," – ").concat(n.format(i,gc(a,i,"month")?"dd":"MMMM dd",r))},sG={dateFormat:"dd",dayFormat:"dd eee",weekdayFormat:"ccc",selectRangeFormat:uv,eventTimeRangeFormat:uv,eventTimeRangeStartFormat:aG,eventTimeRangeEndFormat:iG,timeGutterFormat:"p",monthHeaderFormat:"MMMM yyyy",dayHeaderFormat:"cccc MMM dd",dayRangeHeaderFormat:oG,agendaHeaderFormat:nG,agendaDateFormat:"ccc MMM dd",agendaTimeFormat:"p",agendaTimeRangeFormat:uv},lG=function(t){var r=t.startOfWeek,n=t.getDay,a=t.format,i=t.locales;return new rW({formats:sG,firstOfWeek:function(s){return n(r(new Date,{locale:i[s]}))},format:function(s,c,u){return a(new Date(s),c,{locale:i[u]})}})};const cG={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},uG=(e,t,r)=>{let n;const a=cG[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function dv(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const dG={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},fG={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},hG={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},pG={date:dv({formats:dG,defaultWidth:"full"}),time:dv({formats:fG,defaultWidth:"full"}),dateTime:dv({formats:hG,defaultWidth:"full"})},mG={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},gG=(e,t,r,n)=>mG[e];function xu(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,s=r!=null&&r.width?String(r.width):o;a=e.formattingValues[s]||e.formattingValues[o]}else{const o=e.defaultWidth,s=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[s]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const vG={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},yG={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},bG={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},xG={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},wG={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},jG={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},NG=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},SG={ordinalNumber:NG,era:xu({values:vG,defaultWidth:"wide"}),quarter:xu({values:yG,defaultWidth:"wide",argumentCallback:e=>e-1}),month:xu({values:bG,defaultWidth:"wide"}),day:xu({values:xG,defaultWidth:"wide"}),dayPeriod:xu({values:wG,defaultWidth:"wide",formattingValues:jG,defaultFormattingWidth:"wide"})};function wu(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],s=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(s)?AG(s,f=>f.test(o)):_G(s,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function _G(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function AG(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function OG(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const s=t.slice(a.length);return{value:o,rest:s}}}const PG=/^(\d+)(th|st|nd|rd)?/i,EG=/\d+/i,kG={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},TG={any:[/^b/i,/^(a|c)/i]},CG={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},LG={any:[/1/i,/2/i,/3/i,/4/i]},MG={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},$G={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},DG={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},IG={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},RG={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},FG={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},BG={ordinalNumber:OG({matchPattern:PG,parsePattern:EG,valueCallback:e=>parseInt(e,10)}),era:wu({matchPatterns:kG,defaultMatchWidth:"wide",parsePatterns:TG,defaultParseWidth:"any"}),quarter:wu({matchPatterns:CG,defaultMatchWidth:"wide",parsePatterns:LG,defaultParseWidth:"any",valueCallback:e=>e+1}),month:wu({matchPatterns:MG,defaultMatchWidth:"wide",parsePatterns:$G,defaultParseWidth:"any"}),day:wu({matchPatterns:DG,defaultMatchWidth:"wide",parsePatterns:IG,defaultParseWidth:"any"}),dayPeriod:wu({matchPatterns:RG,defaultMatchWidth:"any",parsePatterns:FG,defaultParseWidth:"any"})},mA={code:"en-US",formatDistance:uG,formatLong:pG,formatRelative:gG,localize:SG,match:BG,options:{weekStartsOn:0,firstWeekContainsDate:1}};let qG={};function dm(){return qG}const gA=6048e5,zG=864e5,ow=Symbol.for("constructDateFrom");function bo(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&ow in e?e[ow](t):e instanceof Date?new e.constructor(t):new Date(t)}function sa(e,t){return bo(t||e,e)}function sw(e){const t=sa(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function UG(e,...t){const r=bo.bind(null,t.find(n=>typeof n=="object"));return t.map(r)}function lw(e,t){const r=sa(e,t==null?void 0:t.in);return r.setHours(0,0,0,0),r}function WG(e,t,r){const[n,a]=UG(r==null?void 0:r.in,e,t),i=lw(n),o=lw(a),s=+i-sw(i),c=+o-sw(o);return Math.round((s-c)/zG)}function GG(e,t){const r=sa(e,t==null?void 0:t.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function HG(e,t){const r=sa(e,t==null?void 0:t.in);return WG(r,GG(r))+1}function Ul(e,t){var s,c,u,d;const r=dm(),n=(t==null?void 0:t.weekStartsOn)??((c=(s=t==null?void 0:t.locale)==null?void 0:s.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=sa(e,t==null?void 0:t.in),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function qh(e,t){return Ul(e,{...t,weekStartsOn:1})}function vA(e,t){const r=sa(e,t==null?void 0:t.in),n=r.getFullYear(),a=bo(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const i=qh(a),o=bo(r,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const s=qh(o);return r.getTime()>=i.getTime()?n+1:r.getTime()>=s.getTime()?n:n-1}function VG(e,t){const r=vA(e,t),n=bo(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),qh(n)}function YG(e,t){const r=sa(e,t==null?void 0:t.in),n=+qh(r)-+VG(r);return Math.round(n/gA)+1}function yA(e,t){var d,f,p,h;const r=sa(e,t==null?void 0:t.in),n=r.getFullYear(),a=dm(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((h=(p=a.locale)==null?void 0:p.options)==null?void 0:h.firstWeekContainsDate)??1,o=bo((t==null?void 0:t.in)||e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const s=Ul(o,t),c=bo((t==null?void 0:t.in)||e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=Ul(c,t);return+r>=+s?n+1:+r>=+u?n:n-1}function KG(e,t){var s,c,u,d;const r=dm(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(s=t==null?void 0:t.locale)==null?void 0:s.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=yA(e,t),i=bo((t==null?void 0:t.in)||e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),Ul(i,t)}function XG(e,t){const r=sa(e,t==null?void 0:t.in),n=+Ul(r,t)-+KG(r,t);return Math.round(n/gA)+1}function Lt(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const ao={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Lt(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Lt(r+1,2)},d(e,t){return Lt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Lt(e.getHours()%12||12,t.length)},H(e,t){return Lt(e.getHours(),t.length)},m(e,t){return Lt(e.getMinutes(),t.length)},s(e,t){return Lt(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Lt(a,t.length)}},fl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},cw={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return ao.y(e,t)},Y:function(e,t,r,n){const a=yA(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return Lt(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Lt(i,t.length)},R:function(e,t){const r=vA(e);return Lt(r,t.length)},u:function(e,t){const r=e.getFullYear();return Lt(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Lt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Lt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return ao.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Lt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=XG(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Lt(a,t.length)},I:function(e,t,r){const n=YG(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Lt(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):ao.d(e,t)},D:function(e,t,r){const n=HG(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Lt(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Lt(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Lt(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return Lt(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=fl.noon:n===0?a=fl.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=fl.evening:n>=12?a=fl.afternoon:n>=4?a=fl.morning:a=fl.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return ao.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):ao.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Lt(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Lt(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):ao.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):ao.s(e,t)},S:function(e,t){return ao.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return dw(n);case"XXXX":case"XX":return Yo(n);case"XXXXX":case"XXX":default:return Yo(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return dw(n);case"xxxx":case"xx":return Yo(n);case"xxxxx":case"xxx":default:return Yo(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+uw(n,":");case"OOOO":default:return"GMT"+Yo(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+uw(n,":");case"zzzz":default:return"GMT"+Yo(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return Lt(n,t.length)},T:function(e,t,r){return Lt(+e,t.length)}};function uw(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+Lt(i,2)}function dw(e,t){return e%60===0?(e>0?"-":"+")+Lt(Math.abs(e)/60,2):Yo(e,t)}function Yo(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Lt(Math.trunc(n/60),2),i=Lt(n%60,2);return r+a+t+i}const fw=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},bA=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},JG=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return fw(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",fw(n,t)).replace("{{time}}",bA(a,t))},ZG={p:bA,P:JG},QG=/^D+$/,eH=/^Y+$/,tH=["D","DD","YY","YYYY"];function rH(e){return QG.test(e)}function nH(e){return eH.test(e)}function aH(e,t,r){const n=iH(e,t,r);if(console.warn(n),tH.includes(e))throw new RangeError(n)}function iH(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}function oH(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function sH(e){return!(!oH(e)&&typeof e!="number"||isNaN(+sa(e)))}const lH=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,cH=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,uH=/^'([^]*?)'?$/,dH=/''/g,fH=/[a-zA-Z]/;function $b(e,t,r){var d,f,p,h,v,g,y,x;const n=dm(),a=(r==null?void 0:r.locale)??n.locale??mA,i=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(p=n.locale)==null?void 0:p.options)==null?void 0:h.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((g=(v=r==null?void 0:r.locale)==null?void 0:v.options)==null?void 0:g.weekStartsOn)??n.weekStartsOn??((x=(y=n.locale)==null?void 0:y.options)==null?void 0:x.weekStartsOn)??0,s=sa(e,r==null?void 0:r.in);if(!sH(s))throw new RangeError("Invalid time value");let c=t.match(cH).map(w=>{const N=w[0];if(N==="p"||N==="P"){const _=ZG[N];return _(w,a.formatLong)}return w}).join("").match(lH).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const N=w[0];if(N==="'")return{isToken:!1,value:hH(w)};if(cw[N])return{isToken:!0,value:w};if(N.match(fH))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");return{isToken:!1,value:w}});a.localize.preprocessor&&(c=a.localize.preprocessor(s,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(w=>{if(!w.isToken)return w.value;const N=w.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&nH(N)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&rH(N))&&aH(N,t,String(e));const _=cw[N[0]];return _(s,N,a.localize,u)}).join("")}function hH(e){const t=e.match(uH);return t?t[1].replace(dH,"'"):e}function pH(e,t){return sa(e,t==null?void 0:t.in).getDay()}const mH={"en-US":mA},gH=lG({format:$b,startOfWeek:Ul,getDay:pH,locales:mH});function vH(){const[e,t]=F.useState([]);return F.useEffect(()=>{async function r(){var c,u;const{data:{user:n},error:a}=await He.auth.getUser();if(a||!n){console.error("User error:",a);return}const i=((c=n==null?void 0:n.user_metadata)==null?void 0:c.org_id)||((u=n==null?void 0:n.app_metadata)==null?void 0:u.org_id);if(!i){console.error("Missing org_id in user metadata.");return}const{data:o,error:s}=await He.from("events").select("*").eq("org_id",i);if(s)console.error("Error loading events:",s);else{const d=o.map(f=>({id:f.id,title:f.title,start:new Date(f.event_date),end:new Date(f.event_date)}));t(d)}}r()},[]),l.jsxs("div",{className:"p-6 max-w-5xl mx-auto",children:[l.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Event Calendar"}),l.jsx(rG,{localizer:gH,events:e,startAccessor:"start",endAccessor:"end",style:{height:600}})]})}function Db({title:e,loading:t=!1,error:r=null,children:n,className:a=""}){return t?l.jsx(zy,{size:"lg"}):r?l.jsx("div",{className:"p-4 text-center text-red-600",children:r}):l.jsxs("div",{className:`p-6 ${a}`,children:[e&&l.jsx("div",{className:"mb-6",children:l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e})}),n||l.jsx(qy,{})]})}function xn({children:e,variant:t="default",className:r="",disabled:n=!1,fullWidth:a=!1,...i}){let o="inline-flex items-center justify-center px-4 py-2 rounded font-medium focus:outline-none transition",s="";switch(t){case"outline":s="border border-blue-600 text-blue-600 bg-white hover:bg-blue-50";break;case"danger":s="bg-red-600 text-white hover:bg-red-700";break;default:s="bg-blue-600 text-white hover:bg-blue-700"}let c=n?"opacity-50 cursor-not-allowed":"",u=a?"w-full":"";return l.jsx("button",{className:`${o} ${s} ${c} ${u} ${r}`,disabled:n,...i,children:e})}function Mn({title:e,description:t,children:r,className:n="",...a}){return l.jsxs("div",{className:`
        bg-white rounded-lg shadow-md overflow-hidden
        ${n}
      `,...a,children:[(e||t)&&l.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[e&&l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e}),t&&l.jsx("p",{className:"mt-1 text-sm text-gray-600",children:t})]}),l.jsx("div",{className:"p-6",children:r})]})}function hl({label:e,error:t,as:r="input",className:n="",...a}){const i=r==="textarea"?"textarea":"input";return l.jsxs("div",{className:"space-y-1",children:[e&&l.jsx("label",{htmlFor:a.id,className:"block text-sm font-medium text-gray-700",children:e}),l.jsx(i,{className:`block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed ${t?"border-red-300 focus:border-red-500 focus:ring-red-500":""} ${n}`,...a}),t&&l.jsx("p",{className:"text-sm text-red-600",children:t})]})}function hw({label:e,error:t,options:r=[],className:n="",...a}){return l.jsxs("div",{className:"space-y-1",children:[e&&l.jsx("label",{htmlFor:a.id,className:"block text-sm font-medium text-gray-700",children:e}),l.jsx("select",{className:`
          block w-full rounded-lg
          border-gray-300 shadow-sm
          focus:border-blue-500 focus:ring-blue-500
          disabled:bg-gray-100 disabled:cursor-not-allowed
          ${t?"border-red-300 focus:border-red-500 focus:ring-red-500":""}
          ${n}
        `,...a,children:r.map(i=>l.jsx("option",{value:i.value,children:i.label},i.value))}),t&&l.jsx("p",{className:"text-sm text-red-600",children:t})]})}function yH(e){return e==null}var bH=yH;const ht=wt(bH);var xH=Fi,wH=rn,jH=Da,NH="[object String]";function SH(e){return typeof e=="string"||!wH(e)&&jH(e)&&xH(e)==NH}var _H=SH;const js=wt(_H);var xA={exports:{}},Mt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ib=Symbol.for("react.element"),Rb=Symbol.for("react.portal"),fm=Symbol.for("react.fragment"),hm=Symbol.for("react.strict_mode"),pm=Symbol.for("react.profiler"),mm=Symbol.for("react.provider"),gm=Symbol.for("react.context"),AH=Symbol.for("react.server_context"),vm=Symbol.for("react.forward_ref"),ym=Symbol.for("react.suspense"),bm=Symbol.for("react.suspense_list"),xm=Symbol.for("react.memo"),wm=Symbol.for("react.lazy"),OH=Symbol.for("react.offscreen"),wA;wA=Symbol.for("react.module.reference");function la(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Ib:switch(e=e.type,e){case fm:case pm:case hm:case ym:case bm:return e;default:switch(e=e&&e.$$typeof,e){case AH:case gm:case vm:case wm:case xm:case mm:return e;default:return t}}case Rb:return t}}}Mt.ContextConsumer=gm;Mt.ContextProvider=mm;Mt.Element=Ib;Mt.ForwardRef=vm;Mt.Fragment=fm;Mt.Lazy=wm;Mt.Memo=xm;Mt.Portal=Rb;Mt.Profiler=pm;Mt.StrictMode=hm;Mt.Suspense=ym;Mt.SuspenseList=bm;Mt.isAsyncMode=function(){return!1};Mt.isConcurrentMode=function(){return!1};Mt.isContextConsumer=function(e){return la(e)===gm};Mt.isContextProvider=function(e){return la(e)===mm};Mt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ib};Mt.isForwardRef=function(e){return la(e)===vm};Mt.isFragment=function(e){return la(e)===fm};Mt.isLazy=function(e){return la(e)===wm};Mt.isMemo=function(e){return la(e)===xm};Mt.isPortal=function(e){return la(e)===Rb};Mt.isProfiler=function(e){return la(e)===pm};Mt.isStrictMode=function(e){return la(e)===hm};Mt.isSuspense=function(e){return la(e)===ym};Mt.isSuspenseList=function(e){return la(e)===bm};Mt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===fm||e===pm||e===hm||e===ym||e===bm||e===OH||typeof e=="object"&&e!==null&&(e.$$typeof===wm||e.$$typeof===xm||e.$$typeof===mm||e.$$typeof===gm||e.$$typeof===vm||e.$$typeof===wA||e.getModuleId!==void 0)};Mt.typeOf=la;xA.exports=Mt;var PH=xA.exports,EH=Fi,kH=Da,TH="[object Number]";function CH(e){return typeof e=="number"||kH(e)&&EH(e)==TH}var jA=CH;const LH=wt(jA);var MH=jA;function $H(e){return MH(e)&&e!=+e}var DH=$H;const Cc=wt(DH);var un=function(t){return t===0?0:t>0?1:-1},es=function(t){return js(t)&&t.indexOf("%")===t.length-1},Le=function(t){return LH(t)&&!Cc(t)},Or=function(t){return Le(t)||js(t)},IH=0,Lc=function(t){var r=++IH;return"".concat(t||"").concat(r)},dn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Le(t)&&!js(t))return n;var i;if(es(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Cc(i)&&(i=n),a&&i>r&&(i=r),i},lo=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},RH=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},bn=function(t,r){return Le(t)&&Le(r)?function(n){return t+n*(r-t)}:function(){return r}};function zh(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):In(n,t))===r})}var FH=function(t,r){return Le(t)&&Le(r)?t-r:js(t)&&js(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Cl(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function m0(e){"@babel/helpers - typeof";return m0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m0(e)}var BH=["viewBox","children"],qH=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],pw=["points","pathLength"],fv={svg:BH,polygon:pw,polyline:pw},Fb=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Uh=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(F.isValidElement(t)&&(n=t.props),!xc(n))return null;var a={};return Object.keys(n).forEach(function(i){Fb.includes(i)&&(a[i]=r||function(o){return n[i](n,o)})}),a},zH=function(t,r,n){return function(a){return t(r,n,a),null}},Ns=function(t,r,n){if(!xc(t)||m0(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];Fb.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=zH(o,r,n))}),a},UH=["children"],WH=["children"];function mw(e,t){if(e==null)return{};var r=GH(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function GH(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function g0(e){"@babel/helpers - typeof";return g0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g0(e)}var gw={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ci=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},vw=null,hv=null,Bb=function e(t){if(t===vw&&Array.isArray(hv))return hv;var r=[];return F.Children.forEach(t,function(n){ht(n)||(PH.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),hv=r,vw=t,r};function ta(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return Ci(a)}):n=[Ci(t)],Bb(e).forEach(function(a){var i=In(a,"type.displayName")||In(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function Ln(e,t){var r=ta(e,t);return r&&r[0]}var yw=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!Le(n)||n<=0||!Le(a)||a<=0)},HH=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],VH=function(t){return t&&t.type&&js(t.type)&&HH.indexOf(t.type)>=0},YH=function(t){return t&&g0(t)==="object"&&"clipDot"in t},KH=function(t,r,n,a){var i,o=(i=fv==null?void 0:fv[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!at(t)&&(a&&o.includes(r)||qH.includes(r))||n&&Fb.includes(r)},Xe=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(F.isValidElement(t)&&(a=t.props),!xc(a))return null;var i={};return Object.keys(a).forEach(function(o){var s;KH((s=a)===null||s===void 0?void 0:s[o],o,r,n)&&(i[o]=a[o])}),i},v0=function e(t,r){if(t===r)return!0;var n=F.Children.count(t);if(n!==F.Children.count(r))return!1;if(n===0)return!0;if(n===1)return bw(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!bw(i,o))return!1}return!0},bw=function(t,r){if(ht(t)&&ht(r))return!0;if(!ht(t)&&!ht(r)){var n=t.props||{},a=n.children,i=mw(n,UH),o=r.props||{},s=o.children,c=mw(o,WH);return a&&s?Cl(i,c)&&v0(a,s):!a&&!s?Cl(i,c):!1}return!1},xw=function(t,r){var n=[],a={};return Bb(t).forEach(function(i,o){if(VH(i))n.push(i);else if(i){var s=Ci(i.type),c=r[s]||{},u=c.handler,d=c.once;if(u&&(!d||!a[s])){var f=u(i,s,o);n.push(f),a[s]=!0}}}),n},XH=function(t){var r=t&&t.type;return r&&gw[r]?gw[r]:null},JH=function(t,r){return Bb(r).indexOf(t)},ZH=["children","width","height","viewBox","className","style","title","desc"];function y0(){return y0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},y0.apply(this,arguments)}function QH(e,t){if(e==null)return{};var r=eV(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function eV(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function b0(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,o=e.style,s=e.title,c=e.desc,u=QH(e,ZH),d=a||{width:r,height:n,x:0,y:0},f=gt("recharts-surface",i);return q.createElement("svg",y0({},Xe(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),q.createElement("title",null,s),q.createElement("desc",null,c),t)}var tV=["children","className"];function x0(){return x0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},x0.apply(this,arguments)}function rV(e,t){if(e==null)return{};var r=nV(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nV(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Nt=q.forwardRef(function(e,t){var r=e.children,n=e.className,a=rV(e,tV),i=gt("recharts-layer",n);return q.createElement("g",x0({className:i},Xe(a,!0),{ref:t}),r)}),Ta=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]},aV=Xy;function iV(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:aV(e,t,r)}var oV=iV,sV="\\ud800-\\udfff",lV="\\u0300-\\u036f",cV="\\ufe20-\\ufe2f",uV="\\u20d0-\\u20ff",dV=lV+cV+uV,fV="\\ufe0e\\ufe0f",hV="\\u200d",pV=RegExp("["+hV+sV+dV+fV+"]");function mV(e){return pV.test(e)}var NA=mV;function gV(e){return e.split("")}var vV=gV,SA="\\ud800-\\udfff",yV="\\u0300-\\u036f",bV="\\ufe20-\\ufe2f",xV="\\u20d0-\\u20ff",wV=yV+bV+xV,jV="\\ufe0e\\ufe0f",NV="["+SA+"]",w0="["+wV+"]",j0="\\ud83c[\\udffb-\\udfff]",SV="(?:"+w0+"|"+j0+")",_A="[^"+SA+"]",AA="(?:\\ud83c[\\udde6-\\uddff]){2}",OA="[\\ud800-\\udbff][\\udc00-\\udfff]",_V="\\u200d",PA=SV+"?",EA="["+jV+"]?",AV="(?:"+_V+"(?:"+[_A,AA,OA].join("|")+")"+EA+PA+")*",OV=EA+PA+AV,PV="(?:"+[_A+w0+"?",w0,AA,OA,NV].join("|")+")",EV=RegExp(j0+"(?="+j0+")|"+PV+OV,"g");function kV(e){return e.match(EV)||[]}var TV=kV,CV=vV,LV=NA,MV=TV;function $V(e){return LV(e)?MV(e):CV(e)}var DV=$V,IV=oV,RV=NA,FV=DV,BV=O_;function qV(e){return function(t){t=BV(t);var r=RV(t)?FV(t):void 0,n=r?r[0]:t.charAt(0),a=r?IV(r,1).join(""):t.slice(1);return n[e]()+a}}var zV=qV,UV=zV,WV=UV("toUpperCase"),GV=WV;const jm=wt(GV);function Ht(e){return function(){return e}}const kA=Math.cos,Wh=Math.sin,Ra=Math.sqrt,Gh=Math.PI,Nm=2*Gh,N0=Math.PI,S0=2*N0,Ko=1e-6,HV=S0-Ko;function TA(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function VV(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return TA;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class YV{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?TA:VV(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,s=this._y1,c=n-t,u=a-r,d=o-t,f=s-r,p=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(p>Ko)if(!(Math.abs(f*c-u*d)>Ko)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let h=n-o,v=a-s,g=c*c+u*u,y=h*h+v*v,x=Math.sqrt(g),w=Math.sqrt(p),N=i*Math.tan((N0-Math.acos((g+p-y)/(2*x*w)))/2),_=N/w,b=N/x;Math.abs(_-1)>Ko&&this._append`L${t+_*d},${r+_*f}`,this._append`A${i},${i},0,0,${+(f*h>d*v)},${this._x1=t+b*c},${this._y1=r+b*u}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(a),c=n*Math.sin(a),u=t+s,d=r+c,f=1^o,p=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Ko||Math.abs(this._y1-d)>Ko)&&this._append`L${u},${d}`,n&&(p<0&&(p=p%S0+S0),p>HV?this._append`A${n},${n},0,1,${f},${t-s},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:p>Ko&&this._append`A${n},${n},0,${+(p>=N0)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function qb(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new YV(t)}function zb(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function CA(e){this._context=e}CA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Sm(e){return new CA(e)}function LA(e){return e[0]}function MA(e){return e[1]}function $A(e,t){var r=Ht(!0),n=null,a=Sm,i=null,o=qb(s);e=typeof e=="function"?e:e===void 0?LA:Ht(e),t=typeof t=="function"?t:t===void 0?MA:Ht(t);function s(c){var u,d=(c=zb(c)).length,f,p=!1,h;for(n==null&&(i=a(h=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+e(f,u,c),+t(f,u,c));if(h)return i=null,h+""||null}return s.x=function(c){return arguments.length?(e=typeof c=="function"?c:Ht(+c),s):e},s.y=function(c){return arguments.length?(t=typeof c=="function"?c:Ht(+c),s):t},s.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Ht(!!c),s):r},s.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),s):a},s.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),s):n},s}function rh(e,t,r){var n=null,a=Ht(!0),i=null,o=Sm,s=null,c=qb(u);e=typeof e=="function"?e:e===void 0?LA:Ht(+e),t=typeof t=="function"?t:Ht(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?MA:Ht(+r);function u(f){var p,h,v,g=(f=zb(f)).length,y,x=!1,w,N=new Array(g),_=new Array(g);for(i==null&&(s=o(w=c())),p=0;p<=g;++p){if(!(p<g&&a(y=f[p],p,f))===x)if(x=!x)h=p,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),v=p-1;v>=h;--v)s.point(N[v],_[v]);s.lineEnd(),s.areaEnd()}x&&(N[p]=+e(y,p,f),_[p]=+t(y,p,f),s.point(n?+n(y,p,f):N[p],r?+r(y,p,f):_[p]))}if(w)return s=null,w+""||null}function d(){return $A().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Ht(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Ht(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ht(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Ht(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Ht(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ht(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Ht(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(s=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=s=null:s=o(i=f),u):i},u}class DA{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function KV(e){return new DA(e,!0)}function XV(e){return new DA(e,!1)}const Ub={draw(e,t){const r=Ra(t/Gh);e.moveTo(r,0),e.arc(0,0,r,0,Nm)}},JV={draw(e,t){const r=Ra(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},IA=Ra(1/3),ZV=IA*2,QV={draw(e,t){const r=Ra(t/ZV),n=r*IA;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},eY={draw(e,t){const r=Ra(t),n=-r/2;e.rect(n,n,r,r)}},tY=.8908130915292852,RA=Wh(Gh/10)/Wh(7*Gh/10),rY=Wh(Nm/10)*RA,nY=-kA(Nm/10)*RA,aY={draw(e,t){const r=Ra(t*tY),n=rY*r,a=nY*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=Nm*i/5,s=kA(o),c=Wh(o);e.lineTo(c*r,-s*r),e.lineTo(s*n-c*a,c*n+s*a)}e.closePath()}},pv=Ra(3),iY={draw(e,t){const r=-Ra(t/(pv*3));e.moveTo(0,r*2),e.lineTo(-pv*r,-r),e.lineTo(pv*r,-r),e.closePath()}},Vn=-.5,Yn=Ra(3)/2,_0=1/Ra(12),oY=(_0/2+1)*3,sY={draw(e,t){const r=Ra(t/oY),n=r/2,a=r*_0,i=n,o=r*_0+r,s=-i,c=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(s,c),e.lineTo(Vn*n-Yn*a,Yn*n+Vn*a),e.lineTo(Vn*i-Yn*o,Yn*i+Vn*o),e.lineTo(Vn*s-Yn*c,Yn*s+Vn*c),e.lineTo(Vn*n+Yn*a,Vn*a-Yn*n),e.lineTo(Vn*i+Yn*o,Vn*o-Yn*i),e.lineTo(Vn*s+Yn*c,Vn*c-Yn*s),e.closePath()}};function lY(e,t){let r=null,n=qb(a);e=typeof e=="function"?e:Ht(e||Ub),t=typeof t=="function"?t:Ht(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Ht(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Ht(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Hh(){}function Vh(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function FA(e){this._context=e}FA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Vh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Vh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function cY(e){return new FA(e)}function BA(e){this._context=e}BA.prototype={areaStart:Hh,areaEnd:Hh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Vh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function uY(e){return new BA(e)}function qA(e){this._context=e}qA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Vh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function dY(e){return new qA(e)}function zA(e){this._context=e}zA.prototype={areaStart:Hh,areaEnd:Hh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function fY(e){return new zA(e)}function ww(e){return e<0?-1:1}function jw(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),s=(i*a+o*n)/(n+a);return(ww(i)+ww(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(s))||0}function Nw(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function mv(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,s=(i-n)/3;e._context.bezierCurveTo(n+s,a+s*t,i-s,o-s*r,i,o)}function Yh(e){this._context=e}Yh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:mv(this,this._t0,Nw(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,mv(this,Nw(this,r=jw(this,e,t)),r);break;default:mv(this,this._t0,r=jw(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function UA(e){this._context=new WA(e)}(UA.prototype=Object.create(Yh.prototype)).point=function(e,t){Yh.prototype.point.call(this,t,e)};function WA(e){this._context=e}WA.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function hY(e){return new Yh(e)}function pY(e){return new UA(e)}function GA(e){this._context=e}GA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Sw(e),a=Sw(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Sw(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function mY(e){return new GA(e)}function _m(e,t){this._context=e,this._t=t}_m.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function gY(e){return new _m(e,.5)}function vY(e){return new _m(e,0)}function yY(e){return new _m(e,1)}function Wl(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,s=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<s;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function A0(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function bY(e,t){return e[t]}function xY(e){const t=[];return t.key=e,t}function wY(){var e=Ht([]),t=A0,r=Wl,n=bY;function a(i){var o=Array.from(e.apply(this,arguments),xY),s,c=o.length,u=-1,d;for(const f of i)for(s=0,++u;s<c;++s)(o[s][u]=[0,+n(f,o[s].key,u,i)]).data=f;for(s=0,d=zb(t(o));s<c;++s)o[d[s]].index=s;return r(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Ht(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Ht(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?A0:typeof i=="function"?i:Ht(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Wl,a):r},a}function jY(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}Wl(e,t)}}function NY(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,s=0;o<a;++o)s+=e[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}Wl(e,t)}}function SY(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var s=0,c=0,u=0;s<o;++s){for(var d=e[t[s]],f=d[n][1]||0,p=d[n-1][1]||0,h=(f-p)/2,v=0;v<s;++v){var g=e[t[v]],y=g[n][1]||0,x=g[n-1][1]||0;h+=y-x}c+=f,u+=h*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Wl(e,t)}}function sd(e){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sd(e)}var _Y=["type","size","sizeType"];function O0(){return O0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},O0.apply(this,arguments)}function _w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Aw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_w(Object(r),!0).forEach(function(n){AY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_w(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AY(e,t,r){return t=OY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OY(e){var t=PY(e,"string");return sd(t)=="symbol"?t:t+""}function PY(e,t){if(sd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EY(e,t){if(e==null)return{};var r=kY(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var HA={symbolCircle:Ub,symbolCross:JV,symbolDiamond:QV,symbolSquare:eY,symbolStar:aY,symbolTriangle:iY,symbolWye:sY},TY=Math.PI/180,CY=function(t){var r="symbol".concat(jm(t));return HA[r]||Ub},LY=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*TY;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},MY=function(t,r){HA["symbol".concat(jm(t))]=r},Wb=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,o=t.sizeType,s=o===void 0?"area":o,c=EY(t,_Y),u=Aw(Aw({},c),{},{type:n,size:i,sizeType:s}),d=function(){var y=CY(n),x=lY().type(y).size(LY(i,s,n));return x()},f=u.className,p=u.cx,h=u.cy,v=Xe(u,!0);return p===+p&&h===+h&&i===+i?q.createElement("path",O0({},v,{className:gt("recharts-symbols",f),transform:"translate(".concat(p,", ").concat(h,")"),d:d()})):null};Wb.registerSymbol=MY;function Gl(e){"@babel/helpers - typeof";return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gl(e)}function P0(){return P0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},P0.apply(this,arguments)}function Ow(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $Y(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ow(Object(r),!0).forEach(function(n){ld(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ow(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YA(n.key),n)}}function RY(e,t,r){return t&&IY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function FY(e,t,r){return t=Kh(t),BY(e,VA()?Reflect.construct(t,r||[],Kh(e).constructor):t.apply(e,r))}function BY(e,t){if(t&&(Gl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qY(e)}function qY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VA=function(){return!!e})()}function Kh(e){return Kh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kh(e)}function zY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E0(e,t)}function E0(e,t){return E0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},E0(e,t)}function ld(e,t,r){return t=YA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YA(e){var t=UY(e,"string");return Gl(t)=="symbol"?t:t+""}function UY(e,t){if(Gl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Kn=32,Gb=function(e){function t(){return DY(this,t),FY(this,t,arguments)}return zY(t,e),RY(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=Kn/2,o=Kn/6,s=Kn/3,c=n.inactive?a:n.color;if(n.type==="plainline")return q.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Kn,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return q.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(Kn,"M").concat(2*s,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return q.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Kn/8,"h").concat(Kn,"v").concat(Kn*3/4,"h").concat(-Kn,"z"),className:"recharts-legend-icon"});if(q.isValidElement(n.legendIcon)){var u=$Y({},n);return delete u.legendIcon,q.cloneElement(n.legendIcon,u)}return q.createElement(Wb,{fill:c,cx:i,cy:i,size:Kn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,o=a.iconSize,s=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:Kn,height:Kn},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(h,v){var g=h.formatter||c,y=gt(ld(ld({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",h.inactive));if(h.type==="none")return null;var x=at(h.value)?null:h.value;Ta(!at(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=h.inactive?u:h.color;return q.createElement("li",P0({className:y,style:f,key:"legend-item-".concat(v)},Ns(n.props,h,v)),q.createElement(b0,{width:o,height:o,viewBox:d,style:p},n.renderIcon(h)),q.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},g?g(x,h,v):x))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,o=n.align;if(!a||!a.length)return null;var s={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return q.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(F.PureComponent);ld(Gb,"displayName","Legend");ld(Gb,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});function WY(e){return e!==e}var GY=WY;function HY(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var VY=HY,YY=w_,KY=GY,XY=VY;function JY(e,t,r){return t===t?XY(e,t,r):YY(e,KY,r)}var ZY=JY,QY=ZY;function eK(e,t){var r=e==null?0:e.length;return!!r&&QY(e,t,0)>-1}var tK=eK;function rK(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var nK=rK;function aK(){}var iK=aK,gv=v_,oK=iK,sK=pb,lK=1/0,cK=gv&&1/sK(new gv([,-0]))[1]==lK?function(e){return new gv(e)}:oK,uK=cK,dK=o_,fK=tK,hK=nK,pK=l_,mK=uK,gK=pb,vK=200;function yK(e,t,r){var n=-1,a=fK,i=e.length,o=!0,s=[],c=s;if(r)o=!1,a=hK;else if(i>=vK){var u=t?null:mK(e);if(u)return gK(u);o=!1,a=pK,c=new dK}else c=t?[]:s;e:for(;++n<i;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var p=c.length;p--;)if(c[p]===f)continue e;t&&c.push(f),s.push(d)}else a(c,f,r)||(c!==s&&c.push(f),s.push(d))}return s}var bK=yK,xK=Ia,wK=bK;function jK(e,t){return e&&e.length?wK(e,xK(t)):[]}var NK=jK;const Pw=wt(NK);function KA(e,t,r){return t===!0?Pw(e,r):at(t)?Pw(e,t):e}function Hl(e){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hl(e)}var SK=["ref"];function Ew(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Oi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ew(Object(r),!0).forEach(function(n){Am(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ew(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _K(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JA(n.key),n)}}function AK(e,t,r){return t&&kw(e.prototype,t),r&&kw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function OK(e,t,r){return t=Xh(t),PK(e,XA()?Reflect.construct(t,r||[],Xh(e).constructor):t.apply(e,r))}function PK(e,t){if(t&&(Hl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EK(e)}function EK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XA=function(){return!!e})()}function Xh(e){return Xh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xh(e)}function kK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k0(e,t)}function k0(e,t){return k0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},k0(e,t)}function Am(e,t,r){return t=JA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JA(e){var t=TK(e,"string");return Hl(t)=="symbol"?t:t+""}function TK(e,t){if(Hl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function CK(e,t){if(e==null)return{};var r=LK(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function LK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function MK(e){return e.value}function $K(e,t){if(q.isValidElement(e))return q.cloneElement(e,t);if(typeof e=="function")return q.createElement(e,t);t.ref;var r=CK(t,SK);return q.createElement(Gb,r)}var Tw=1,ls=function(e){function t(){var r;_K(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=OK(this,t,[].concat(a)),Am(r,"lastBoundingBox",{width:-1,height:-1}),r}return kK(t,e),AK(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>Tw||Math.abs(a.height-this.lastBoundingBox.height)>Tw)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Oi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,o=a.align,s=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,p;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var h=this.getBBoxSnapshot();f={left:((u||0)-h.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var v=this.getBBoxSnapshot();p={top:((d||0)-v.height)/2}}else p=s==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Oi(Oi({},f),p)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,o=a.width,s=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=Oi(Oi({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(c)),c);return q.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(h){n.wrapperNode=h}},$K(i,Oi(Oi({},this.props),{},{payload:KA(d,u,MK)})))}}],[{key:"getWithHeight",value:function(n,a){var i=Oi(Oi({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&Le(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(F.PureComponent);Am(ls,"displayName","Legend");Am(ls,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});function cd(e){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cd(e)}function T0(){return T0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T0.apply(this,arguments)}function DK(e,t){return BK(e)||FK(e,t)||RK(e,t)||IK()}function IK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RK(e,t){if(e){if(typeof e=="string")return Cw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Cw(e,t)}}function Cw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function FK(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function BK(e){if(Array.isArray(e))return e}function Lw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lw(Object(r),!0).forEach(function(n){qK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qK(e,t,r){return t=zK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zK(e){var t=UK(e,"string");return cd(t)=="symbol"?t:t+""}function UK(e,t){if(cd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WK(e){return Array.isArray(e)&&Or(e[0])&&Or(e[1])?e.join(" ~ "):e}var GK=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,s=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,p=t.itemSorter,h=t.wrapperClassName,v=t.labelClassName,g=t.label,y=t.labelFormatter,x=t.accessibilityLayer,w=x===void 0?!1:x,N=function(){if(d&&d.length){var T={padding:0,margin:0},$=(p?nm(d,p):d).map(function(I,H){if(I.type==="none")return null;var V=vv({display:"block",paddingTop:4,paddingBottom:4,color:I.color||"#000"},s),X=I.formatter||f||WK,Q=I.value,Y=I.name,G=Q,ae=Y;if(X&&G!=null&&ae!=null){var M=X(Q,Y,I,H,d);if(Array.isArray(M)){var z=DK(M,2);G=z[0],ae=z[1]}else G=M}return q.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(H),style:V},Or(ae)?q.createElement("span",{className:"recharts-tooltip-item-name"},ae):null,Or(ae)?q.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,q.createElement("span",{className:"recharts-tooltip-item-value"},G),q.createElement("span",{className:"recharts-tooltip-item-unit"},I.unit||""))});return q.createElement("ul",{className:"recharts-tooltip-item-list",style:T},$)}return null},_=vv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),b=vv({margin:0},u),A=!ht(g),O=A?g:"",E=gt("recharts-default-tooltip",h),C=gt("recharts-tooltip-label",v);A&&y&&d!==void 0&&d!==null&&(O=y(g,d));var D=w?{role:"status","aria-live":"assertive"}:{};return q.createElement("div",T0({className:E,style:_},D),q.createElement("p",{className:C,style:b},q.isValidElement(O)?O:"".concat(O)),N())};function ud(e){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ud(e)}function nh(e,t,r){return t=HK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HK(e){var t=VK(e,"string");return ud(t)=="symbol"?t:t+""}function VK(e,t){if(ud(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ud(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ju="recharts-tooltip-wrapper",YK={visibility:"hidden"};function KK(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return gt(ju,nh(nh(nh(nh({},"".concat(ju,"-right"),Le(r)&&t&&Le(t.x)&&r>=t.x),"".concat(ju,"-left"),Le(r)&&t&&Le(t.x)&&r<t.x),"".concat(ju,"-bottom"),Le(n)&&t&&Le(t.y)&&n>=t.y),"".concat(ju,"-top"),Le(n)&&t&&Le(t.y)&&n<t.y))}function Mw(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,s=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&Le(i[n]))return i[n];var d=r[n]-s-a,f=r[n]+a;if(t[n])return o[n]?d:f;if(o[n]){var p=d,h=c[n];return p<h?Math.max(f,c[n]):Math.max(d,c[n])}var v=f+s,g=c[n]+u;return v>g?Math.max(d,c[n]):Math.max(f,c[n])}function XK(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function JK(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,s=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=Mw({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=Mw({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=XK({translateX:d,translateY:f,useTranslate3d:s})):u=YK,{cssProperties:u,cssClasses:KK({translateX:d,translateY:f,coordinate:r})}}function Vl(e){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vl(e)}function $w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$w(Object(r),!0).forEach(function(n){L0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$w(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QK(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,QA(n.key),n)}}function eX(e,t,r){return t&&QK(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tX(e,t,r){return t=Jh(t),rX(e,ZA()?Reflect.construct(t,r||[],Jh(e).constructor):t.apply(e,r))}function rX(e,t){if(t&&(Vl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nX(e)}function nX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZA=function(){return!!e})()}function Jh(e){return Jh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jh(e)}function aX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C0(e,t)}function C0(e,t){return C0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},C0(e,t)}function L0(e,t,r){return t=QA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QA(e){var t=iX(e,"string");return Vl(t)=="symbol"?t:t+""}function iX(e,t){if(Vl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Iw=1,oX=function(e){function t(){var r;ZK(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=tX(this,t,[].concat(a)),L0(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),L0(r,"handleKeyDown",function(o){if(o.key==="Escape"){var s,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&s!==void 0?s:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return aX(t,e),eX(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>Iw||Math.abs(n.height-this.state.lastBoundingBox.height)>Iw)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,s=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,p=a.isAnimationActive,h=a.offset,v=a.position,g=a.reverseDirection,y=a.useTranslate3d,x=a.viewBox,w=a.wrapperStyle,N=JK({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:h,position:v,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:x}),_=N.cssClasses,b=N.cssProperties,A=Dw(Dw({transition:p&&i?"transform ".concat(s,"ms ").concat(c):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},w);return q.createElement("div",{tabIndex:-1,className:_,style:A,ref:function(E){n.wrapperNode=E}},u)}}])}(F.PureComponent),sX=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ks={isSsr:sX()};function Yl(e){"@babel/helpers - typeof";return Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yl(e)}function Rw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rw(Object(r),!0).forEach(function(n){Hb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,t3(n.key),n)}}function uX(e,t,r){return t&&cX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function dX(e,t,r){return t=Zh(t),fX(e,e3()?Reflect.construct(t,r||[],Zh(e).constructor):t.apply(e,r))}function fX(e,t){if(t&&(Yl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hX(e)}function hX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function e3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e3=function(){return!!e})()}function Zh(e){return Zh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zh(e)}function pX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M0(e,t)}function M0(e,t){return M0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},M0(e,t)}function Hb(e,t,r){return t=t3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t3(e){var t=mX(e,"string");return Yl(t)=="symbol"?t:t+""}function mX(e,t){if(Yl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function gX(e){return e.dataKey}function vX(e,t){return q.isValidElement(e)?q.cloneElement(e,t):typeof e=="function"?q.createElement(e,t):q.createElement(GK,t)}var _a=function(e){function t(){return lX(this,t),dX(this,t,arguments)}return pX(t,e),uX(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,s=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,p=a.isAnimationActive,h=a.offset,v=a.payload,g=a.payloadUniqBy,y=a.position,x=a.reverseDirection,w=a.useTranslate3d,N=a.viewBox,_=a.wrapperStyle,b=v??[];f&&b.length&&(b=KA(v.filter(function(O){return O.value!=null&&(O.hide!==!0||n.props.includeHidden)}),g,gX));var A=b.length>0;return q.createElement(oX,{allowEscapeViewBox:o,animationDuration:s,animationEasing:c,isAnimationActive:p,active:i,coordinate:d,hasPayload:A,offset:h,position:y,reverseDirection:x,useTranslate3d:w,viewBox:N,wrapperStyle:_},vX(u,Fw(Fw({},this.props),{},{payload:b})))}}])}(F.PureComponent);Hb(_a,"displayName","Tooltip");Hb(_a,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ks.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var yX=$a,bX=function(){return yX.Date.now()},xX=bX,wX=oa,yv=xX,Bw=US,jX="Expected a function",NX=Math.max,SX=Math.min;function _X(e,t,r){var n,a,i,o,s,c,u=0,d=!1,f=!1,p=!0;if(typeof e!="function")throw new TypeError(jX);t=Bw(t)||0,wX(r)&&(d=!!r.leading,f="maxWait"in r,i=f?NX(Bw(r.maxWait)||0,t):i,p="trailing"in r?!!r.trailing:p);function h(A){var O=n,E=a;return n=a=void 0,u=A,o=e.apply(E,O),o}function v(A){return u=A,s=setTimeout(x,t),d?h(A):o}function g(A){var O=A-c,E=A-u,C=t-O;return f?SX(C,i-E):C}function y(A){var O=A-c,E=A-u;return c===void 0||O>=t||O<0||f&&E>=i}function x(){var A=yv();if(y(A))return w(A);s=setTimeout(x,g(A))}function w(A){return s=void 0,p&&n?h(A):(n=a=void 0,o)}function N(){s!==void 0&&clearTimeout(s),u=0,n=c=a=s=void 0}function _(){return s===void 0?o:w(yv())}function b(){var A=yv(),O=y(A);if(n=arguments,a=this,c=A,O){if(s===void 0)return v(c);if(f)return clearTimeout(s),s=setTimeout(x,t),h(c)}return s===void 0&&(s=setTimeout(x,t)),o}return b.cancel=N,b.flush=_,b}var AX=_X,OX=AX,PX=oa,EX="Expected a function";function kX(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(EX);return PX(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),OX(e,t,{leading:n,maxWait:t,trailing:a})}var TX=kX;const r3=wt(TX);function dd(e){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dd(e)}function qw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ah(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qw(Object(r),!0).forEach(function(n){CX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CX(e,t,r){return t=LX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LX(e){var t=MX(e,"string");return dd(t)=="symbol"?t:t+""}function MX(e,t){if(dd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $X(e,t){return FX(e)||RX(e,t)||IX(e,t)||DX()}function DX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IX(e,t){if(e){if(typeof e=="string")return zw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zw(e,t)}}function zw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function RX(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function FX(e){if(Array.isArray(e))return e}var Uw=F.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,s=e.height,c=s===void 0?"100%":s,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,p=e.maxHeight,h=e.children,v=e.debounce,g=v===void 0?0:v,y=e.id,x=e.className,w=e.onResize,N=e.style,_=N===void 0?{}:N,b=F.useRef(null),A=F.useRef();A.current=w,F.useImperativeHandle(t,function(){return Object.defineProperty(b.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),b.current},configurable:!0})});var O=F.useState({containerWidth:a.width,containerHeight:a.height}),E=$X(O,2),C=E[0],D=E[1],k=F.useCallback(function($,I){D(function(H){var V=Math.round($),X=Math.round(I);return H.containerWidth===V&&H.containerHeight===X?H:{containerWidth:V,containerHeight:X}})},[]);F.useEffect(function(){var $=function(Y){var G,ae=Y[0].contentRect,M=ae.width,z=ae.height;k(M,z),(G=A.current)===null||G===void 0||G.call(A,M,z)};g>0&&($=r3($,g,{trailing:!0,leading:!1}));var I=new ResizeObserver($),H=b.current.getBoundingClientRect(),V=H.width,X=H.height;return k(V,X),I.observe(b.current),function(){I.disconnect()}},[k,g]);var T=F.useMemo(function(){var $=C.containerWidth,I=C.containerHeight;if($<0||I<0)return null;Ta(es(o)||es(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Ta(!r||r>0,"The aspect(%s) must be greater than zero.",r);var H=es(o)?$:o,V=es(c)?I:c;r&&r>0&&(H?V=H/r:V&&(H=V*r),p&&V>p&&(V=p)),Ta(H>0||V>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,H,V,o,c,d,f,r);var X=!Array.isArray(h)&&Ci(h.type).endsWith("Chart");return q.Children.map(h,function(Q){return q.isValidElement(Q)?F.cloneElement(Q,ah({width:H,height:V},X?{style:ah({height:"100%",width:"100%",maxHeight:V,maxWidth:H},Q.props.style)}:{})):Q})},[r,h,c,p,f,d,C,o]);return q.createElement("div",{id:y?"".concat(y):void 0,className:gt("recharts-responsive-container",x),style:ah(ah({},_),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:p}),ref:b},T)}),Om=function(t){return null};Om.displayName="Cell";function fd(e){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fd(e)}function Ww(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ww(Object(r),!0).forEach(function(n){BX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ww(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BX(e,t,r){return t=qX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qX(e){var t=zX(e,"string");return fd(t)=="symbol"?t:t+""}function zX(e,t){if(fd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pl={widthCache:{},cacheCount:0},UX=2e3,WX={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Gw="recharts_measurement_span";function GX(e){var t=$0({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Du=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ks.isSsr)return{width:0,height:0};var n=GX(r),a=JSON.stringify({text:t,copyStyle:n});if(pl.widthCache[a])return pl.widthCache[a];try{var i=document.getElementById(Gw);i||(i=document.createElement("span"),i.setAttribute("id",Gw),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=$0($0({},WX),n);Object.assign(i.style,o),i.textContent="".concat(t);var s=i.getBoundingClientRect(),c={width:s.width,height:s.height};return pl.widthCache[a]=c,++pl.cacheCount>UX&&(pl.cacheCount=0,pl.widthCache={}),c}catch{return{width:0,height:0}}},HX=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function hd(e){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hd(e)}function Qh(e,t){return XX(e)||KX(e,t)||YX(e,t)||VX()}function VX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YX(e,t){if(e){if(typeof e=="string")return Hw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hw(e,t)}}function Hw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function KX(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function XX(e){if(Array.isArray(e))return e}function JX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,QX(n.key),n)}}function ZX(e,t,r){return t&&Vw(e.prototype,t),r&&Vw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function QX(e){var t=eJ(e,"string");return hd(t)=="symbol"?t:t+""}function eJ(e,t){if(hd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Yw=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Kw=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,tJ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,rJ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,n3={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},nJ=Object.keys(n3),jl="NaN";function aJ(e,t){return e*n3[t]}var ih=function(){function e(t,r){JX(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!tJ.test(r)&&(this.num=NaN,this.unit=""),nJ.includes(r)&&(this.num=aJ(t,r),this.unit="px")}return ZX(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=rJ.exec(r))!==null&&n!==void 0?n:[],i=Qh(a,3),o=i[1],s=i[2];return new e(parseFloat(o),s??"")}}])}();function a3(e){if(e.includes(jl))return jl;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=Yw.exec(t))!==null&&r!==void 0?r:[],a=Qh(n,4),i=a[1],o=a[2],s=a[3],c=ih.parse(i??""),u=ih.parse(s??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return jl;t=t.replace(Yw,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,p=(f=Kw.exec(t))!==null&&f!==void 0?f:[],h=Qh(p,4),v=h[1],g=h[2],y=h[3],x=ih.parse(v??""),w=ih.parse(y??""),N=g==="+"?x.add(w):x.subtract(w);if(N.isNaN())return jl;t=t.replace(Kw,N.toString())}return t}var Xw=/\(([^()]*)\)/;function iJ(e){for(var t=e;t.includes("(");){var r=Xw.exec(t),n=Qh(r,2),a=n[1];t=t.replace(Xw,a3(a))}return t}function oJ(e){var t=e.replace(/\s+/g,"");return t=iJ(t),t=a3(t),t}function sJ(e){try{return oJ(e)}catch{return jl}}function bv(e){var t=sJ(e.slice(5,-1));return t===jl?"":t}var lJ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],cJ=["dx","dy","angle","className","breakAll"];function D0(){return D0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},D0.apply(this,arguments)}function Jw(e,t){if(e==null)return{};var r=uJ(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function uJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Zw(e,t){return pJ(e)||hJ(e,t)||fJ(e,t)||dJ()}function dJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fJ(e,t){if(e){if(typeof e=="string")return Qw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qw(e,t)}}function Qw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hJ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function pJ(e){if(Array.isArray(e))return e}var i3=/[ \f\n\r\t\v\u2028\u2029]+/,o3=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];ht(r)||(n?i=r.toString().split(""):i=r.toString().split(i3));var o=i.map(function(c){return{word:c,width:Du(c,a).width}}),s=n?0:Du(" ",a).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},mJ=function(t,r,n,a,i){var o=t.maxLines,s=t.children,c=t.style,u=t.breakAll,d=Le(o),f=s,p=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return H.reduce(function(V,X){var Q=X.word,Y=X.width,G=V[V.length-1];if(G&&(a==null||i||G.width+Y+n<Number(a)))G.words.push(Q),G.width+=Y+n;else{var ae={words:[Q],width:Y};V.push(ae)}return V},[])},h=p(r),v=function(H){return H.reduce(function(V,X){return V.width>X.width?V:X})};if(!d)return h;for(var g="…",y=function(H){var V=f.slice(0,H),X=o3({breakAll:u,style:c,children:V+g}).wordsWithComputedWidth,Q=p(X),Y=Q.length>o||v(Q).width>Number(a);return[Y,Q]},x=0,w=f.length-1,N=0,_;x<=w&&N<=f.length-1;){var b=Math.floor((x+w)/2),A=b-1,O=y(A),E=Zw(O,2),C=E[0],D=E[1],k=y(b),T=Zw(k,1),$=T[0];if(!C&&!$&&(x=b+1),C&&$&&(w=b-1),!C&&$){_=D;break}N++}return _||h},e5=function(t){var r=ht(t)?[]:t.toString().split(i3);return[{words:r}]},gJ=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,s=t.maxLines;if((r||n)&&!ks.isSsr){var c,u,d=o3({breakAll:o,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,p=d.spaceWidth;c=f,u=p}else return e5(a);return mJ({breakAll:o,children:a,maxLines:s,style:i},c,u,r,n)}return e5(a)},t5="#808080",Ss=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.lineHeight,s=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,p=t.textAnchor,h=p===void 0?"start":p,v=t.verticalAnchor,g=v===void 0?"end":v,y=t.fill,x=y===void 0?t5:y,w=Jw(t,lJ),N=F.useMemo(function(){return gJ({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:f,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,f,w.style,w.width]),_=w.dx,b=w.dy,A=w.angle,O=w.className,E=w.breakAll,C=Jw(w,cJ);if(!Or(n)||!Or(i))return null;var D=n+(Le(_)?_:0),k=i+(Le(b)?b:0),T;switch(g){case"start":T=bv("calc(".concat(u,")"));break;case"middle":T=bv("calc(".concat((N.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:T=bv("calc(".concat(N.length-1," * -").concat(s,")"));break}var $=[];if(f){var I=N[0].width,H=w.width;$.push("scale(".concat((Le(H)?H/I:1)/I,")"))}return A&&$.push("rotate(".concat(A,", ").concat(D,", ").concat(k,")")),$.length&&(C.transform=$.join(" ")),q.createElement("text",D0({},Xe(C,!0),{x:D,y:k,className:gt("recharts-text",O),textAnchor:h,fill:x.includes("url")?t5:x}),N.map(function(V,X){var Q=V.words.join(E?"":" ");return q.createElement("tspan",{x:D,dy:X===0?T:s,key:"".concat(Q,"-").concat(X)},Q)}))};function po(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function vJ(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Vb(e){let t,r,n;e.length!==2?(t=po,r=(s,c)=>po(e(s),c),n=(s,c)=>e(s)-c):(t=e===po||e===vJ?e:yJ,r=e,n=e);function a(s,c,u=0,d=s.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(s[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(s,c,u=0,d=s.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(s[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(s,c,u=0,d=s.length){const f=a(s,c,u,d-1);return f>u&&n(s[f-1],c)>-n(s[f],c)?f-1:f}return{left:a,center:o,right:i}}function yJ(){return 0}function s3(e){return e===null?NaN:+e}function*bJ(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const xJ=Vb(po),Jd=xJ.right;Vb(s3).center;class r5 extends Map{constructor(t,r=NJ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(n5(this,t))}has(t){return super.has(n5(this,t))}set(t,r){return super.set(wJ(this,t),r)}delete(t){return super.delete(jJ(this,t))}}function n5({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function wJ({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function jJ({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function NJ(e){return e!==null&&typeof e=="object"?e.valueOf():e}function SJ(e=po){if(e===po)return l3;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function l3(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const _J=Math.sqrt(50),AJ=Math.sqrt(10),OJ=Math.sqrt(2);function ep(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=_J?10:i>=AJ?5:i>=OJ?2:1;let s,c,u;return a<0?(u=Math.pow(10,-a)/o,s=Math.round(e*u),c=Math.round(t*u),s/u<e&&++s,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,s=Math.round(e/u),c=Math.round(t/u),s*u<e&&++s,c*u>t&&--c),c<s&&.5<=r&&r<2?ep(e,t,r*2):[s,c,u]}function I0(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?ep(t,e,r):ep(e,t,r);if(!(i>=a))return[];const s=i-a+1,c=new Array(s);if(n)if(o<0)for(let u=0;u<s;++u)c[u]=(i-u)/-o;else for(let u=0;u<s;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<s;++u)c[u]=(a+u)/-o;else for(let u=0;u<s;++u)c[u]=(a+u)*o;return c}function R0(e,t,r){return t=+t,e=+e,r=+r,ep(e,t,r)[2]}function F0(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?R0(t,e,r):R0(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function a5(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function i5(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function c3(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?l3:SJ(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),p=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),h=Math.max(r,Math.floor(t-u*f/c+p)),v=Math.min(n,Math.floor(t+(c-u)*f/c+p));c3(e,t,h,v,a)}const i=e[t];let o=r,s=n;for(Nu(e,r,t),a(e[n],i)>0&&Nu(e,r,n);o<s;){for(Nu(e,o,s),++o,--s;a(e[o],i)<0;)++o;for(;a(e[s],i)>0;)--s}a(e[r],i)===0?Nu(e,r,s):(++s,Nu(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function Nu(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function PJ(e,t,r){if(e=Float64Array.from(bJ(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return i5(e);if(t>=1)return a5(e);var n,a=(n-1)*t,i=Math.floor(a),o=a5(c3(e,i).subarray(0,i+1)),s=i5(e.subarray(i+1));return o+(s-o)*(a-i)}}function EJ(e,t,r=s3){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),s=+r(e[i+1],i+1,e);return o+(s-o)*(a-i)}}function kJ(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function ca(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Bi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const B0=Symbol("implicit");function Yb(){var e=new r5,t=[],r=[],n=B0;function a(i){let o=e.get(i);if(o===void 0){if(n!==B0)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new r5;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return Yb(t,r).unknown(n)},ca.apply(a,arguments),a}function pd(){var e=Yb().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,s=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var p=t().length,h=a<n,v=h?a:n,g=h?n:a;i=(g-v)/Math.max(1,p-c+u*2),s&&(i=Math.floor(i)),v+=(g-v-i*(p-c))*d,o=i*(1-c),s&&(v=Math.round(v),o=Math.round(o));var y=kJ(p).map(function(x){return v+i*x});return r(h?y.reverse():y)}return e.domain=function(p){return arguments.length?(t(p),f()):t()},e.range=function(p){return arguments.length?([n,a]=p,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(p){return[n,a]=p,n=+n,a=+a,s=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(p){return arguments.length?(s=!!p,f()):s},e.padding=function(p){return arguments.length?(c=Math.min(1,u=+p),f()):c},e.paddingInner=function(p){return arguments.length?(c=Math.min(1,p),f()):c},e.paddingOuter=function(p){return arguments.length?(u=+p,f()):u},e.align=function(p){return arguments.length?(d=Math.max(0,Math.min(1,p)),f()):d},e.copy=function(){return pd(t(),[n,a]).round(s).paddingInner(c).paddingOuter(u).align(d)},ca.apply(f(),arguments)}function u3(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return u3(t())},e}function Iu(){return u3(pd.apply(null,arguments).paddingInner(1))}function Kb(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function d3(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Zd(){}var md=.7,tp=1/md,Ll="\\s*([+-]?\\d+)\\s*",gd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",si="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",TJ=/^#([0-9a-f]{3,8})$/,CJ=new RegExp(`^rgb\\(${Ll},${Ll},${Ll}\\)$`),LJ=new RegExp(`^rgb\\(${si},${si},${si}\\)$`),MJ=new RegExp(`^rgba\\(${Ll},${Ll},${Ll},${gd}\\)$`),$J=new RegExp(`^rgba\\(${si},${si},${si},${gd}\\)$`),DJ=new RegExp(`^hsl\\(${gd},${si},${si}\\)$`),IJ=new RegExp(`^hsla\\(${gd},${si},${si},${gd}\\)$`),o5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Kb(Zd,vd,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:s5,formatHex:s5,formatHex8:RJ,formatHsl:FJ,formatRgb:l5,toString:l5});function s5(){return this.rgb().formatHex()}function RJ(){return this.rgb().formatHex8()}function FJ(){return f3(this).formatHsl()}function l5(){return this.rgb().formatRgb()}function vd(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=TJ.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?c5(t):r===3?new wn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?oh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?oh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=CJ.exec(e))?new wn(t[1],t[2],t[3],1):(t=LJ.exec(e))?new wn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=MJ.exec(e))?oh(t[1],t[2],t[3],t[4]):(t=$J.exec(e))?oh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=DJ.exec(e))?f5(t[1],t[2]/100,t[3]/100,1):(t=IJ.exec(e))?f5(t[1],t[2]/100,t[3]/100,t[4]):o5.hasOwnProperty(e)?c5(o5[e]):e==="transparent"?new wn(NaN,NaN,NaN,0):null}function c5(e){return new wn(e>>16&255,e>>8&255,e&255,1)}function oh(e,t,r,n){return n<=0&&(e=t=r=NaN),new wn(e,t,r,n)}function BJ(e){return e instanceof Zd||(e=vd(e)),e?(e=e.rgb(),new wn(e.r,e.g,e.b,e.opacity)):new wn}function q0(e,t,r,n){return arguments.length===1?BJ(e):new wn(e,t,r,n??1)}function wn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Kb(wn,q0,d3(Zd,{brighter(e){return e=e==null?tp:Math.pow(tp,e),new wn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?md:Math.pow(md,e),new wn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new wn(cs(this.r),cs(this.g),cs(this.b),rp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:u5,formatHex:u5,formatHex8:qJ,formatRgb:d5,toString:d5}));function u5(){return`#${ts(this.r)}${ts(this.g)}${ts(this.b)}`}function qJ(){return`#${ts(this.r)}${ts(this.g)}${ts(this.b)}${ts((isNaN(this.opacity)?1:this.opacity)*255)}`}function d5(){const e=rp(this.opacity);return`${e===1?"rgb(":"rgba("}${cs(this.r)}, ${cs(this.g)}, ${cs(this.b)}${e===1?")":`, ${e})`}`}function rp(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function cs(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ts(e){return e=cs(e),(e<16?"0":"")+e.toString(16)}function f5(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Pa(e,t,r,n)}function f3(e){if(e instanceof Pa)return new Pa(e.h,e.s,e.l,e.opacity);if(e instanceof Zd||(e=vd(e)),!e)return new Pa;if(e instanceof Pa)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,s=i-a,c=(i+a)/2;return s?(t===i?o=(r-n)/s+(r<n)*6:r===i?o=(n-t)/s+2:o=(t-r)/s+4,s/=c<.5?i+a:2-i-a,o*=60):s=c>0&&c<1?0:o,new Pa(o,s,c,e.opacity)}function zJ(e,t,r,n){return arguments.length===1?f3(e):new Pa(e,t,r,n??1)}function Pa(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Kb(Pa,zJ,d3(Zd,{brighter(e){return e=e==null?tp:Math.pow(tp,e),new Pa(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?md:Math.pow(md,e),new Pa(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new wn(xv(e>=240?e-240:e+120,a,n),xv(e,a,n),xv(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Pa(h5(this.h),sh(this.s),sh(this.l),rp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=rp(this.opacity);return`${e===1?"hsl(":"hsla("}${h5(this.h)}, ${sh(this.s)*100}%, ${sh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function h5(e){return e=(e||0)%360,e<0?e+360:e}function sh(e){return Math.max(0,Math.min(1,e||0))}function xv(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Xb=e=>()=>e;function UJ(e,t){return function(r){return e+r*t}}function WJ(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function GJ(e){return(e=+e)==1?h3:function(t,r){return r-t?WJ(t,r,e):Xb(isNaN(t)?r:t)}}function h3(e,t){var r=t-e;return r?UJ(e,r):Xb(isNaN(e)?t:e)}const p5=function e(t){var r=GJ(t);function n(a,i){var o=r((a=q0(a)).r,(i=q0(i)).r),s=r(a.g,i.g),c=r(a.b,i.b),u=h3(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=s(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function HJ(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function VJ(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function YJ(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=Mc(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(s){for(o=0;o<n;++o)i[o]=a[o](s);return i}}function KJ(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function np(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function XJ(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Mc(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var z0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,wv=new RegExp(z0.source,"g");function JJ(e){return function(){return e}}function ZJ(e){return function(t){return e(t)+""}}function QJ(e,t){var r=z0.lastIndex=wv.lastIndex=0,n,a,i,o=-1,s=[],c=[];for(e=e+"",t=t+"";(n=z0.exec(e))&&(a=wv.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(a=a[0])?s[o]?s[o]+=a:s[++o]=a:(s[++o]=null,c.push({i:o,x:np(n,a)})),r=wv.lastIndex;return r<t.length&&(i=t.slice(r),s[o]?s[o]+=i:s[++o]=i),s.length<2?c[0]?ZJ(c[0].x):JJ(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)s[(f=c[d]).i]=f.x(u);return s.join("")})}function Mc(e,t){var r=typeof t,n;return t==null||r==="boolean"?Xb(t):(r==="number"?np:r==="string"?(n=vd(t))?(t=n,p5):QJ:t instanceof vd?p5:t instanceof Date?KJ:VJ(t)?HJ:Array.isArray(t)?YJ:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?XJ:np)(e,t)}function Jb(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function eZ(e,t){t===void 0&&(t=e,e=Mc);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[s](o-s)}}function tZ(e){return function(){return e}}function ap(e){return+e}var m5=[0,1];function fn(e){return e}function U0(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:tZ(isNaN(t)?NaN:.5)}function rZ(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function nZ(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=U0(a,n),i=r(o,i)):(n=U0(n,a),i=r(i,o)),function(s){return i(n(s))}}function aZ(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=U0(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(s){var c=Jd(e,s,1,n)-1;return i[c](a[c](s))}}function Qd(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Pm(){var e=m5,t=m5,r=Mc,n,a,i,o=fn,s,c,u;function d(){var p=Math.min(e.length,t.length);return o!==fn&&(o=rZ(e[0],e[p-1])),s=p>2?aZ:nZ,c=u=null,f}function f(p){return p==null||isNaN(p=+p)?i:(c||(c=s(e.map(n),t,r)))(n(o(p)))}return f.invert=function(p){return o(a((u||(u=s(t,e.map(n),np)))(p)))},f.domain=function(p){return arguments.length?(e=Array.from(p,ap),d()):e.slice()},f.range=function(p){return arguments.length?(t=Array.from(p),d()):t.slice()},f.rangeRound=function(p){return t=Array.from(p),r=Jb,d()},f.clamp=function(p){return arguments.length?(o=p?!0:fn,d()):o!==fn},f.interpolate=function(p){return arguments.length?(r=p,d()):r},f.unknown=function(p){return arguments.length?(i=p,f):i},function(p,h){return n=p,a=h,d()}}function Zb(){return Pm()(fn,fn)}function iZ(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ip(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Kl(e){return e=ip(Math.abs(e)),e?e[1]:NaN}function oZ(e,t){return function(r,n){for(var a=r.length,i=[],o=0,s=e[0],c=0;a>0&&s>0&&(c+s+1>n&&(s=Math.max(1,n-c)),i.push(r.substring(a-=s,a+s)),!((c+=s+1)>n));)s=e[o=(o+1)%e.length];return i.reverse().join(t)}}function sZ(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var lZ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function yd(e){if(!(t=lZ.exec(e)))throw new Error("invalid format: "+e);var t;return new Qb({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}yd.prototype=Qb.prototype;function Qb(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Qb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function cZ(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var p3;function uZ(e,t){var r=ip(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(p3=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+ip(e,Math.max(0,t+i-1))[0]}function g5(e,t){var r=ip(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const v5={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:iZ,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>g5(e*100,t),r:g5,s:uZ,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function y5(e){return e}var b5=Array.prototype.map,x5=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function dZ(e){var t=e.grouping===void 0||e.thousands===void 0?y5:oZ(b5.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?y5:sZ(b5.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=yd(f);var p=f.fill,h=f.align,v=f.sign,g=f.symbol,y=f.zero,x=f.width,w=f.comma,N=f.precision,_=f.trim,b=f.type;b==="n"?(w=!0,b="g"):v5[b]||(N===void 0&&(N=12),_=!0,b="g"),(y||p==="0"&&h==="=")&&(y=!0,p="0",h="=");var A=g==="$"?r:g==="#"&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",O=g==="$"?n:/[%p]/.test(b)?o:"",E=v5[b],C=/[defgprs%]/.test(b);N=N===void 0?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function D(k){var T=A,$=O,I,H,V;if(b==="c")$=E(k)+$,k="";else{k=+k;var X=k<0||1/k<0;if(k=isNaN(k)?c:E(Math.abs(k),N),_&&(k=cZ(k)),X&&+k==0&&v!=="+"&&(X=!1),T=(X?v==="("?v:s:v==="-"||v==="("?"":v)+T,$=(b==="s"?x5[8+p3/3]:"")+$+(X&&v==="("?")":""),C){for(I=-1,H=k.length;++I<H;)if(V=k.charCodeAt(I),48>V||V>57){$=(V===46?a+k.slice(I+1):k.slice(I))+$,k=k.slice(0,I);break}}}w&&!y&&(k=t(k,1/0));var Q=T.length+k.length+$.length,Y=Q<x?new Array(x-Q+1).join(p):"";switch(w&&y&&(k=t(Y+k,Y.length?x-$.length:1/0),Y=""),h){case"<":k=T+k+$+Y;break;case"=":k=T+Y+k+$;break;case"^":k=Y.slice(0,Q=Y.length>>1)+T+k+$+Y.slice(Q);break;default:k=Y+T+k+$;break}return i(k)}return D.toString=function(){return f+""},D}function d(f,p){var h=u((f=yd(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(Kl(p)/3)))*3,g=Math.pow(10,-v),y=x5[8+v/3];return function(x){return h(g*x)+y}}return{format:u,formatPrefix:d}}var lh,ex,m3;fZ({thousands:",",grouping:[3],currency:["$",""]});function fZ(e){return lh=dZ(e),ex=lh.format,m3=lh.formatPrefix,lh}function hZ(e){return Math.max(0,-Kl(Math.abs(e)))}function pZ(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Kl(t)/3)))*3-Kl(Math.abs(e)))}function mZ(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Kl(t)-Kl(e))+1}function g3(e,t,r,n){var a=F0(e,t,r),i;switch(n=yd(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=pZ(a,o))&&(n.precision=i),m3(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=mZ(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=hZ(a))&&(n.precision=i-(n.type==="%")*2);break}}return ex(n)}function No(e){var t=e.domain;return e.ticks=function(r){var n=t();return I0(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return g3(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],s=n[i],c,u,d=10;for(s<o&&(u=o,o=s,s=u,u=a,a=i,i=u);d-- >0;){if(u=R0(o,s,r),u===c)return n[a]=o,n[i]=s,t(n);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;c=u}return e},e}function op(){var e=Zb();return e.copy=function(){return Qd(e,op())},ca.apply(e,arguments),No(e)}function v3(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,ap),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return v3(e).unknown(t)},e=arguments.length?Array.from(e,ap):[0,1],No(r)}function y3(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function w5(e){return Math.log(e)}function j5(e){return Math.exp(e)}function gZ(e){return-Math.log(-e)}function vZ(e){return-Math.exp(-e)}function yZ(e){return isFinite(e)?+("1e"+e):e<0?0:e}function bZ(e){return e===10?yZ:e===Math.E?Math.exp:t=>Math.pow(e,t)}function xZ(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function N5(e){return(t,r)=>-e(-t,r)}function tx(e){const t=e(w5,j5),r=t.domain;let n=10,a,i;function o(){return a=xZ(n),i=bZ(n),r()[0]<0?(a=N5(a),i=N5(i),e(gZ,vZ)):e(w5,j5),t}return t.base=function(s){return arguments.length?(n=+s,o()):n},t.domain=function(s){return arguments.length?(r(s),o()):r()},t.ticks=s=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let p=a(u),h=a(d),v,g;const y=s==null?10:+s;let x=[];if(!(n%1)&&h-p<y){if(p=Math.floor(p),h=Math.ceil(h),u>0){for(;p<=h;++p)for(v=1;v<n;++v)if(g=p<0?v/i(-p):v*i(p),!(g<u)){if(g>d)break;x.push(g)}}else for(;p<=h;++p)for(v=n-1;v>=1;--v)if(g=p>0?v/i(-p):v*i(p),!(g<u)){if(g>d)break;x.push(g)}x.length*2<y&&(x=I0(u,d,y))}else x=I0(p,h,Math.min(h-p,y)).map(i);return f?x.reverse():x},t.tickFormat=(s,c)=>{if(s==null&&(s=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=yd(c)).precision==null&&(c.trim=!0),c=ex(c)),s===1/0)return c;const u=Math.max(1,n*s/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(y3(r(),{floor:s=>i(Math.floor(a(s))),ceil:s=>i(Math.ceil(a(s)))})),t}function b3(){const e=tx(Pm()).domain([1,10]);return e.copy=()=>Qd(e,b3()).base(e.base()),ca.apply(e,arguments),e}function S5(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function _5(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function rx(e){var t=1,r=e(S5(t),_5(t));return r.constant=function(n){return arguments.length?e(S5(t=+n),_5(t)):t},No(r)}function x3(){var e=rx(Pm());return e.copy=function(){return Qd(e,x3()).constant(e.constant())},ca.apply(e,arguments)}function A5(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function wZ(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function jZ(e){return e<0?-e*e:e*e}function nx(e){var t=e(fn,fn),r=1;function n(){return r===1?e(fn,fn):r===.5?e(wZ,jZ):e(A5(r),A5(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},No(t)}function ax(){var e=nx(Pm());return e.copy=function(){return Qd(e,ax()).exponent(e.exponent())},ca.apply(e,arguments),e}function NZ(){return ax.apply(null,arguments).exponent(.5)}function O5(e){return Math.sign(e)*e*e}function SZ(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function w3(){var e=Zb(),t=[0,1],r=!1,n;function a(i){var o=SZ(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(O5(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,ap)).map(O5)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return w3(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},ca.apply(a,arguments),No(a)}function j3(){var e=[],t=[],r=[],n;function a(){var o=0,s=Math.max(1,t.length);for(r=new Array(s-1);++o<s;)r[o-1]=EJ(e,o/s);return i}function i(o){return o==null||isNaN(o=+o)?n:t[Jd(r,o)]}return i.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(po),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return j3().domain(e).range(t).unknown(n)},ca.apply(i,arguments)}function N3(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[Jd(n,c,0,r)]:i}function s(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,s()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,s()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return N3().domain([e,t]).range(a).unknown(i)},ca.apply(No(o),arguments)}function S3(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[Jd(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return S3().domain(e).range(t).unknown(r)},ca.apply(a,arguments)}const jv=new Date,Nv=new Date;function kr(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),s=a.ceil(i);return i-o<s-i?o:s},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,s)=>{const c=[];if(i=a.ceil(i),s=s==null?1:Math.floor(s),!(i<o)||!(s>0))return c;let u;do c.push(u=new Date(+i)),t(i,s),e(i);while(u<i&&i<o);return c},a.filter=i=>kr(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!i(o););else for(;--s>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(jv.setTime(+i),Nv.setTime(+o),e(jv),e(Nv),Math.floor(r(jv,Nv))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const sp=kr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);sp.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?kr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):sp);sp.range;const Ei=1e3,ea=Ei*60,ki=ea*60,Di=ki*24,ix=Di*7,P5=Di*30,Sv=Di*365,rs=kr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ei)},(e,t)=>(t-e)/Ei,e=>e.getUTCSeconds());rs.range;const ox=kr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ei)},(e,t)=>{e.setTime(+e+t*ea)},(e,t)=>(t-e)/ea,e=>e.getMinutes());ox.range;const sx=kr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ea)},(e,t)=>(t-e)/ea,e=>e.getUTCMinutes());sx.range;const lx=kr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ei-e.getMinutes()*ea)},(e,t)=>{e.setTime(+e+t*ki)},(e,t)=>(t-e)/ki,e=>e.getHours());lx.range;const cx=kr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ki)},(e,t)=>(t-e)/ki,e=>e.getUTCHours());cx.range;const ef=kr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ea)/Di,e=>e.getDate()-1);ef.range;const Em=kr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Di,e=>e.getUTCDate()-1);Em.range;const _3=kr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Di,e=>Math.floor(e/Di));_3.range;function Ts(e){return kr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*ea)/ix)}const km=Ts(0),lp=Ts(1),_Z=Ts(2),AZ=Ts(3),Xl=Ts(4),OZ=Ts(5),PZ=Ts(6);km.range;lp.range;_Z.range;AZ.range;Xl.range;OZ.range;PZ.range;function Cs(e){return kr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/ix)}const Tm=Cs(0),cp=Cs(1),EZ=Cs(2),kZ=Cs(3),Jl=Cs(4),TZ=Cs(5),CZ=Cs(6);Tm.range;cp.range;EZ.range;kZ.range;Jl.range;TZ.range;CZ.range;const ux=kr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());ux.range;const dx=kr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());dx.range;const Ii=kr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ii.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:kr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ii.range;const Ri=kr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ri.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:kr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Ri.range;function A3(e,t,r,n,a,i){const o=[[rs,1,Ei],[rs,5,5*Ei],[rs,15,15*Ei],[rs,30,30*Ei],[i,1,ea],[i,5,5*ea],[i,15,15*ea],[i,30,30*ea],[a,1,ki],[a,3,3*ki],[a,6,6*ki],[a,12,12*ki],[n,1,Di],[n,2,2*Di],[r,1,ix],[t,1,P5],[t,3,3*P5],[e,1,Sv]];function s(u,d,f){const p=d<u;p&&([u,d]=[d,u]);const h=f&&typeof f.range=="function"?f:c(u,d,f),v=h?h.range(u,+d+1):[];return p?v.reverse():v}function c(u,d,f){const p=Math.abs(d-u)/f,h=Vb(([,,y])=>y).right(o,p);if(h===o.length)return e.every(F0(u/Sv,d/Sv,f));if(h===0)return sp.every(Math.max(F0(u,d,f),1));const[v,g]=o[p/o[h-1][2]<o[h][2]/p?h-1:h];return v.every(g)}return[s,c]}const[LZ,MZ]=A3(Ri,dx,Tm,_3,cx,sx),[$Z,DZ]=A3(Ii,ux,km,ef,lx,ox);function _v(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Av(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Su(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function IZ(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,s=e.months,c=e.shortMonths,u=_u(a),d=Au(a),f=_u(i),p=Au(i),h=_u(o),v=Au(o),g=_u(s),y=Au(s),x=_u(c),w=Au(c),N={a:X,A:Q,b:Y,B:G,c:null,d:M5,e:M5,f:oQ,g:gQ,G:yQ,H:nQ,I:aQ,j:iQ,L:O3,m:sQ,M:lQ,p:ae,q:M,Q:I5,s:R5,S:cQ,u:uQ,U:dQ,V:fQ,w:hQ,W:pQ,x:null,X:null,y:mQ,Y:vQ,Z:bQ,"%":D5},_={a:z,A:Z,b:te,B:ie,c:null,d:$5,e:$5,f:NQ,g:LQ,G:$Q,H:xQ,I:wQ,j:jQ,L:E3,m:SQ,M:_Q,p:fe,q:de,Q:I5,s:R5,S:AQ,u:OQ,U:PQ,V:EQ,w:kQ,W:TQ,x:null,X:null,y:CQ,Y:MQ,Z:DQ,"%":D5},b={a:D,A:k,b:T,B:$,c:I,d:C5,e:C5,f:QZ,g:T5,G:k5,H:L5,I:L5,j:KZ,L:ZZ,m:YZ,M:XZ,p:C,q:VZ,Q:tQ,s:rQ,S:JZ,u:zZ,U:UZ,V:WZ,w:qZ,W:GZ,x:H,X:V,y:T5,Y:k5,Z:HZ,"%":eQ};N.x=A(r,N),N.X=A(n,N),N.c=A(t,N),_.x=A(r,_),_.X=A(n,_),_.c=A(t,_);function A(oe,xe){return function(be){var pe=[],Ee=-1,$e=0,ye=oe.length,ne,Ye,Be;for(be instanceof Date||(be=new Date(+be));++Ee<ye;)oe.charCodeAt(Ee)===37&&(pe.push(oe.slice($e,Ee)),(Ye=E5[ne=oe.charAt(++Ee)])!=null?ne=oe.charAt(++Ee):Ye=ne==="e"?" ":"0",(Be=xe[ne])&&(ne=Be(be,Ye)),pe.push(ne),$e=Ee+1);return pe.push(oe.slice($e,Ee)),pe.join("")}}function O(oe,xe){return function(be){var pe=Su(1900,void 0,1),Ee=E(pe,oe,be+="",0),$e,ye;if(Ee!=be.length)return null;if("Q"in pe)return new Date(pe.Q);if("s"in pe)return new Date(pe.s*1e3+("L"in pe?pe.L:0));if(xe&&!("Z"in pe)&&(pe.Z=0),"p"in pe&&(pe.H=pe.H%12+pe.p*12),pe.m===void 0&&(pe.m="q"in pe?pe.q:0),"V"in pe){if(pe.V<1||pe.V>53)return null;"w"in pe||(pe.w=1),"Z"in pe?($e=Av(Su(pe.y,0,1)),ye=$e.getUTCDay(),$e=ye>4||ye===0?cp.ceil($e):cp($e),$e=Em.offset($e,(pe.V-1)*7),pe.y=$e.getUTCFullYear(),pe.m=$e.getUTCMonth(),pe.d=$e.getUTCDate()+(pe.w+6)%7):($e=_v(Su(pe.y,0,1)),ye=$e.getDay(),$e=ye>4||ye===0?lp.ceil($e):lp($e),$e=ef.offset($e,(pe.V-1)*7),pe.y=$e.getFullYear(),pe.m=$e.getMonth(),pe.d=$e.getDate()+(pe.w+6)%7)}else("W"in pe||"U"in pe)&&("w"in pe||(pe.w="u"in pe?pe.u%7:"W"in pe?1:0),ye="Z"in pe?Av(Su(pe.y,0,1)).getUTCDay():_v(Su(pe.y,0,1)).getDay(),pe.m=0,pe.d="W"in pe?(pe.w+6)%7+pe.W*7-(ye+5)%7:pe.w+pe.U*7-(ye+6)%7);return"Z"in pe?(pe.H+=pe.Z/100|0,pe.M+=pe.Z%100,Av(pe)):_v(pe)}}function E(oe,xe,be,pe){for(var Ee=0,$e=xe.length,ye=be.length,ne,Ye;Ee<$e;){if(pe>=ye)return-1;if(ne=xe.charCodeAt(Ee++),ne===37){if(ne=xe.charAt(Ee++),Ye=b[ne in E5?xe.charAt(Ee++):ne],!Ye||(pe=Ye(oe,be,pe))<0)return-1}else if(ne!=be.charCodeAt(pe++))return-1}return pe}function C(oe,xe,be){var pe=u.exec(xe.slice(be));return pe?(oe.p=d.get(pe[0].toLowerCase()),be+pe[0].length):-1}function D(oe,xe,be){var pe=h.exec(xe.slice(be));return pe?(oe.w=v.get(pe[0].toLowerCase()),be+pe[0].length):-1}function k(oe,xe,be){var pe=f.exec(xe.slice(be));return pe?(oe.w=p.get(pe[0].toLowerCase()),be+pe[0].length):-1}function T(oe,xe,be){var pe=x.exec(xe.slice(be));return pe?(oe.m=w.get(pe[0].toLowerCase()),be+pe[0].length):-1}function $(oe,xe,be){var pe=g.exec(xe.slice(be));return pe?(oe.m=y.get(pe[0].toLowerCase()),be+pe[0].length):-1}function I(oe,xe,be){return E(oe,t,xe,be)}function H(oe,xe,be){return E(oe,r,xe,be)}function V(oe,xe,be){return E(oe,n,xe,be)}function X(oe){return o[oe.getDay()]}function Q(oe){return i[oe.getDay()]}function Y(oe){return c[oe.getMonth()]}function G(oe){return s[oe.getMonth()]}function ae(oe){return a[+(oe.getHours()>=12)]}function M(oe){return 1+~~(oe.getMonth()/3)}function z(oe){return o[oe.getUTCDay()]}function Z(oe){return i[oe.getUTCDay()]}function te(oe){return c[oe.getUTCMonth()]}function ie(oe){return s[oe.getUTCMonth()]}function fe(oe){return a[+(oe.getUTCHours()>=12)]}function de(oe){return 1+~~(oe.getUTCMonth()/3)}return{format:function(oe){var xe=A(oe+="",N);return xe.toString=function(){return oe},xe},parse:function(oe){var xe=O(oe+="",!1);return xe.toString=function(){return oe},xe},utcFormat:function(oe){var xe=A(oe+="",_);return xe.toString=function(){return oe},xe},utcParse:function(oe){var xe=O(oe+="",!0);return xe.toString=function(){return oe},xe}}}var E5={"-":"",_:" ",0:"0"},Ir=/^\s*\d+/,RZ=/^%/,FZ=/[\\^$*+?|[\]().{}]/g;function At(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function BZ(e){return e.replace(FZ,"\\$&")}function _u(e){return new RegExp("^(?:"+e.map(BZ).join("|")+")","i")}function Au(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function qZ(e,t,r){var n=Ir.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function zZ(e,t,r){var n=Ir.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function UZ(e,t,r){var n=Ir.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function WZ(e,t,r){var n=Ir.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function GZ(e,t,r){var n=Ir.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function k5(e,t,r){var n=Ir.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function T5(e,t,r){var n=Ir.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function HZ(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function VZ(e,t,r){var n=Ir.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function YZ(e,t,r){var n=Ir.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function C5(e,t,r){var n=Ir.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function KZ(e,t,r){var n=Ir.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function L5(e,t,r){var n=Ir.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function XZ(e,t,r){var n=Ir.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function JZ(e,t,r){var n=Ir.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function ZZ(e,t,r){var n=Ir.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function QZ(e,t,r){var n=Ir.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function eQ(e,t,r){var n=RZ.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function tQ(e,t,r){var n=Ir.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function rQ(e,t,r){var n=Ir.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function M5(e,t){return At(e.getDate(),t,2)}function nQ(e,t){return At(e.getHours(),t,2)}function aQ(e,t){return At(e.getHours()%12||12,t,2)}function iQ(e,t){return At(1+ef.count(Ii(e),e),t,3)}function O3(e,t){return At(e.getMilliseconds(),t,3)}function oQ(e,t){return O3(e,t)+"000"}function sQ(e,t){return At(e.getMonth()+1,t,2)}function lQ(e,t){return At(e.getMinutes(),t,2)}function cQ(e,t){return At(e.getSeconds(),t,2)}function uQ(e){var t=e.getDay();return t===0?7:t}function dQ(e,t){return At(km.count(Ii(e)-1,e),t,2)}function P3(e){var t=e.getDay();return t>=4||t===0?Xl(e):Xl.ceil(e)}function fQ(e,t){return e=P3(e),At(Xl.count(Ii(e),e)+(Ii(e).getDay()===4),t,2)}function hQ(e){return e.getDay()}function pQ(e,t){return At(lp.count(Ii(e)-1,e),t,2)}function mQ(e,t){return At(e.getFullYear()%100,t,2)}function gQ(e,t){return e=P3(e),At(e.getFullYear()%100,t,2)}function vQ(e,t){return At(e.getFullYear()%1e4,t,4)}function yQ(e,t){var r=e.getDay();return e=r>=4||r===0?Xl(e):Xl.ceil(e),At(e.getFullYear()%1e4,t,4)}function bQ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+At(t/60|0,"0",2)+At(t%60,"0",2)}function $5(e,t){return At(e.getUTCDate(),t,2)}function xQ(e,t){return At(e.getUTCHours(),t,2)}function wQ(e,t){return At(e.getUTCHours()%12||12,t,2)}function jQ(e,t){return At(1+Em.count(Ri(e),e),t,3)}function E3(e,t){return At(e.getUTCMilliseconds(),t,3)}function NQ(e,t){return E3(e,t)+"000"}function SQ(e,t){return At(e.getUTCMonth()+1,t,2)}function _Q(e,t){return At(e.getUTCMinutes(),t,2)}function AQ(e,t){return At(e.getUTCSeconds(),t,2)}function OQ(e){var t=e.getUTCDay();return t===0?7:t}function PQ(e,t){return At(Tm.count(Ri(e)-1,e),t,2)}function k3(e){var t=e.getUTCDay();return t>=4||t===0?Jl(e):Jl.ceil(e)}function EQ(e,t){return e=k3(e),At(Jl.count(Ri(e),e)+(Ri(e).getUTCDay()===4),t,2)}function kQ(e){return e.getUTCDay()}function TQ(e,t){return At(cp.count(Ri(e)-1,e),t,2)}function CQ(e,t){return At(e.getUTCFullYear()%100,t,2)}function LQ(e,t){return e=k3(e),At(e.getUTCFullYear()%100,t,2)}function MQ(e,t){return At(e.getUTCFullYear()%1e4,t,4)}function $Q(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Jl(e):Jl.ceil(e),At(e.getUTCFullYear()%1e4,t,4)}function DQ(){return"+0000"}function D5(){return"%"}function I5(e){return+e}function R5(e){return Math.floor(+e/1e3)}var ml,T3,C3;IQ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function IQ(e){return ml=IZ(e),T3=ml.format,ml.parse,C3=ml.utcFormat,ml.utcParse,ml}function RQ(e){return new Date(e)}function FQ(e){return e instanceof Date?+e:+new Date(+e)}function fx(e,t,r,n,a,i,o,s,c,u){var d=Zb(),f=d.invert,p=d.domain,h=u(".%L"),v=u(":%S"),g=u("%I:%M"),y=u("%I %p"),x=u("%a %d"),w=u("%b %d"),N=u("%B"),_=u("%Y");function b(A){return(c(A)<A?h:s(A)<A?v:o(A)<A?g:i(A)<A?y:n(A)<A?a(A)<A?x:w:r(A)<A?N:_)(A)}return d.invert=function(A){return new Date(f(A))},d.domain=function(A){return arguments.length?p(Array.from(A,FQ)):p().map(RQ)},d.ticks=function(A){var O=p();return e(O[0],O[O.length-1],A??10)},d.tickFormat=function(A,O){return O==null?b:u(O)},d.nice=function(A){var O=p();return(!A||typeof A.range!="function")&&(A=t(O[0],O[O.length-1],A??10)),A?p(y3(O,A)):d},d.copy=function(){return Qd(d,fx(e,t,r,n,a,i,o,s,c,u))},d}function BQ(){return ca.apply(fx($Z,DZ,Ii,ux,km,ef,lx,ox,rs,T3).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function qQ(){return ca.apply(fx(LZ,MZ,Ri,dx,Tm,Em,cx,sx,rs,C3).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Cm(){var e=0,t=1,r,n,a,i,o=fn,s=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(i(f)-r)*a,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(p){var h,v;return arguments.length?([h,v]=p,o=f(h,v),u):[o(0),o(1)]}}return u.range=d(Mc),u.rangeRound=d(Jb),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function So(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function L3(){var e=No(Cm()(fn));return e.copy=function(){return So(e,L3())},Bi.apply(e,arguments)}function M3(){var e=tx(Cm()).domain([1,10]);return e.copy=function(){return So(e,M3()).base(e.base())},Bi.apply(e,arguments)}function $3(){var e=rx(Cm());return e.copy=function(){return So(e,$3()).constant(e.constant())},Bi.apply(e,arguments)}function hx(){var e=nx(Cm());return e.copy=function(){return So(e,hx()).exponent(e.exponent())},Bi.apply(e,arguments)}function zQ(){return hx.apply(null,arguments).exponent(.5)}function D3(){var e=[],t=fn;function r(n){if(n!=null&&!isNaN(n=+n))return t((Jd(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(po),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>PJ(e,i/n))},r.copy=function(){return D3(t).domain(e)},Bi.apply(r,arguments)}function Lm(){var e=0,t=.5,r=1,n=1,a,i,o,s,c,u=fn,d,f=!1,p;function h(g){return isNaN(g=+g)?p:(g=.5+((g=+d(g))-i)*(n*g<n*i?s:c),u(f?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([e,t,r]=g,a=d(e=+e),i=d(t=+t),o=d(r=+r),s=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,h):[e,t,r]},h.clamp=function(g){return arguments.length?(f=!!g,h):f},h.interpolator=function(g){return arguments.length?(u=g,h):u};function v(g){return function(y){var x,w,N;return arguments.length?([x,w,N]=y,u=eZ(g,[x,w,N]),h):[u(0),u(.5),u(1)]}}return h.range=v(Mc),h.rangeRound=v(Jb),h.unknown=function(g){return arguments.length?(p=g,h):p},function(g){return d=g,a=g(e),i=g(t),o=g(r),s=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,h}}function I3(){var e=No(Lm()(fn));return e.copy=function(){return So(e,I3())},Bi.apply(e,arguments)}function R3(){var e=tx(Lm()).domain([.1,1,10]);return e.copy=function(){return So(e,R3()).base(e.base())},Bi.apply(e,arguments)}function F3(){var e=rx(Lm());return e.copy=function(){return So(e,F3()).constant(e.constant())},Bi.apply(e,arguments)}function px(){var e=nx(Lm());return e.copy=function(){return So(e,px()).exponent(e.exponent())},Bi.apply(e,arguments)}function UQ(){return px.apply(null,arguments).exponent(.5)}const F5=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:pd,scaleDiverging:I3,scaleDivergingLog:R3,scaleDivergingPow:px,scaleDivergingSqrt:UQ,scaleDivergingSymlog:F3,scaleIdentity:v3,scaleImplicit:B0,scaleLinear:op,scaleLog:b3,scaleOrdinal:Yb,scalePoint:Iu,scalePow:ax,scaleQuantile:j3,scaleQuantize:N3,scaleRadial:w3,scaleSequential:L3,scaleSequentialLog:M3,scaleSequentialPow:hx,scaleSequentialQuantile:D3,scaleSequentialSqrt:zQ,scaleSequentialSymlog:$3,scaleSqrt:NZ,scaleSymlog:x3,scaleThreshold:S3,scaleTime:BQ,scaleUtc:qQ,tickFormat:g3},Symbol.toStringTag,{value:"Module"}));var WQ=Nc;function GQ(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],o=t(i);if(o!=null&&(s===void 0?o===o&&!WQ(o):r(o,s)))var s=o,c=i}return c}var Mm=GQ;function HQ(e,t){return e>t}var B3=HQ,VQ=Mm,YQ=B3,KQ=kc;function XQ(e){return e&&e.length?VQ(e,KQ,YQ):void 0}var JQ=XQ;const uo=wt(JQ);function ZQ(e,t){return e<t}var q3=ZQ,QQ=Mm,eee=q3,tee=kc;function ree(e){return e&&e.length?QQ(e,tee,eee):void 0}var nee=ree;const $m=wt(nee);var aee=em,iee=Ia,oee=C_,see=rn;function lee(e,t){var r=see(e)?aee:oee;return r(e,iee(t))}var cee=lee,uee=Sb,dee=cee;function fee(e,t){return uee(dee(e,t),1)}var hee=fee;const pee=wt(hee);var $c=1e9,mee={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},gx,er=!0,ia="[DecimalError] ",us=ia+"Invalid argument: ",mx=ia+"Exponent out of range: ",Dc=Math.floor,Xo=Math.pow,gee=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,$n,Mr=1e7,Xt=7,z3=9007199254740991,up=Dc(z3/Xt),We={};We.absoluteValue=We.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};We.comparedTo=We.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};We.decimalPlaces=We.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Xt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};We.dividedBy=We.div=function(e){return Li(this,new this.constructor(e))};We.dividedToIntegerBy=We.idiv=function(e){var t=this,r=t.constructor;return qt(Li(t,new r(e),0,1),r.precision)};We.equals=We.eq=function(e){return!this.cmp(e)};We.exponent=function(){return jr(this)};We.greaterThan=We.gt=function(e){return this.cmp(e)>0};We.greaterThanOrEqualTo=We.gte=function(e){return this.cmp(e)>=0};We.isInteger=We.isint=function(){return this.e>this.d.length-2};We.isNegative=We.isneg=function(){return this.s<0};We.isPositive=We.ispos=function(){return this.s>0};We.isZero=function(){return this.s===0};We.lessThan=We.lt=function(e){return this.cmp(e)<0};We.lessThanOrEqualTo=We.lte=function(e){return this.cmp(e)<1};We.logarithm=We.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq($n))throw Error(ia+"NaN");if(r.s<1)throw Error(ia+(r.s?"NaN":"-Infinity"));return r.eq($n)?new n(0):(er=!1,t=Li(bd(r,i),bd(e,i),i),er=!0,qt(t,a))};We.minus=We.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?G3(t,e):U3(t,(e.s=-e.s,e))};We.modulo=We.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(ia+"NaN");return r.s?(er=!1,t=Li(r,e,0,1).times(e),er=!0,r.minus(t)):qt(new n(r),a)};We.naturalExponential=We.exp=function(){return W3(this)};We.naturalLogarithm=We.ln=function(){return bd(this)};We.negated=We.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};We.plus=We.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?U3(t,e):G3(t,(e.s=-e.s,e))};We.precision=We.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(us+e);if(t=jr(a)+1,n=a.d.length-1,r=n*Xt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};We.squareRoot=We.sqrt=function(){var e,t,r,n,a,i,o,s=this,c=s.constructor;if(s.s<1){if(!s.s)return new c(0);throw Error(ia+"NaN")}for(e=jr(s),er=!1,a=Math.sqrt(+s),a==0||a==1/0?(t=ti(s.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Dc((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(Li(s,i,o+2)).times(.5),ti(i.d).slice(0,o)===(t=ti(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(qt(i,r+1,0),i.times(i).eq(s)){n=i;break}}else if(t!="9999")break;o+=4}return er=!0,qt(n,r)};We.times=We.mul=function(e){var t,r,n,a,i,o,s,c,u,d=this,f=d.constructor,p=d.d,h=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=p.length,u=h.length,c<u&&(i=p,p=h,h=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)s=i[a]+h[n]*p[a-n-1]+t,i[a--]=s%Mr|0,t=s/Mr|0;i[a]=(i[a]+t)%Mr|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,er?qt(e,f.precision):e};We.toDecimalPlaces=We.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(ui(e,0,$c),t===void 0?t=n.rounding:ui(t,0,8),qt(r,e+jr(r)+1,t))};We.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=_s(n,!0):(ui(e,0,$c),t===void 0?t=a.rounding:ui(t,0,8),n=qt(new a(n),e+1,t),r=_s(n,!0,e+1)),r};We.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?_s(a):(ui(e,0,$c),t===void 0?t=i.rounding:ui(t,0,8),n=qt(new i(a),e+jr(a)+1,t),r=_s(n.abs(),!1,e+jr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};We.toInteger=We.toint=function(){var e=this,t=e.constructor;return qt(new t(e),jr(e)+1,t.rounding)};We.toNumber=function(){return+this};We.toPower=We.pow=function(e){var t,r,n,a,i,o,s=this,c=s.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c($n);if(s=new c(s),!s.s){if(e.s<1)throw Error(ia+"Infinity");return s}if(s.eq($n))return s;if(n=c.precision,e.eq($n))return qt(s,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=s.s,o){if((r=d<0?-d:d)<=z3){for(a=new c($n),t=Math.ceil(n/Xt+4),er=!1;r%2&&(a=a.times(s),q5(a.d,t)),r=Dc(r/2),r!==0;)s=s.times(s),q5(s.d,t);return er=!0,e.s<0?new c($n).div(a):qt(a,n)}}else if(i<0)throw Error(ia+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,er=!1,a=e.times(bd(s,n+u)),er=!0,a=W3(a),a.s=i,a};We.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=jr(a),n=_s(a,r<=i.toExpNeg||r>=i.toExpPos)):(ui(e,1,$c),t===void 0?t=i.rounding:ui(t,0,8),a=qt(new i(a),e,t),r=jr(a),n=_s(a,e<=r||r<=i.toExpNeg,e)),n};We.toSignificantDigits=We.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(ui(e,1,$c),t===void 0?t=n.rounding:ui(t,0,8)),qt(new n(r),e,t)};We.toString=We.valueOf=We.val=We.toJSON=We[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=jr(e),r=e.constructor;return _s(e,t<=r.toExpNeg||t>=r.toExpPos)};function U3(e,t){var r,n,a,i,o,s,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),er?qt(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,s=u.length):(n=u,a=o,s=c.length),o=Math.ceil(f/Xt),s=o>s?o+1:s+1,i>s&&(i=s,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(s=c.length,i=u.length,s-i<0&&(i=s,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/Mr|0,c[i]%=Mr;for(r&&(c.unshift(r),++a),s=c.length;c[--s]==0;)c.pop();return t.d=c,t.e=a,er?qt(t,f):t}function ui(e,t,r){if(e!==~~e||e<t||e>r)throw Error(us+e)}function ti(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=Xt-n.length,r&&(i+=so(r)),i+=n;o=e[t],n=o+"",r=Xt-n.length,r&&(i+=so(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Li=function(){function e(n,a){var i,o=0,s=n.length;for(n=n.slice();s--;)i=n[s]*a+o,n[s]=i%Mr|0,o=i/Mr|0;return o&&n.unshift(o),n}function t(n,a,i,o){var s,c;if(i!=o)c=i>o?1:-1;else for(s=c=0;s<i;s++)if(n[s]!=a[s]){c=n[s]>a[s]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*Mr+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var s,c,u,d,f,p,h,v,g,y,x,w,N,_,b,A,O,E,C=n.constructor,D=n.s==a.s?1:-1,k=n.d,T=a.d;if(!n.s)return new C(n);if(!a.s)throw Error(ia+"Division by zero");for(c=n.e-a.e,O=T.length,b=k.length,h=new C(D),v=h.d=[],u=0;T[u]==(k[u]||0);)++u;if(T[u]>(k[u]||0)&&--c,i==null?w=i=C.precision:o?w=i+(jr(n)-jr(a))+1:w=i,w<0)return new C(0);if(w=w/Xt+2|0,u=0,O==1)for(d=0,T=T[0],w++;(u<b||d)&&w--;u++)N=d*Mr+(k[u]||0),v[u]=N/T|0,d=N%T|0;else{for(d=Mr/(T[0]+1)|0,d>1&&(T=e(T,d),k=e(k,d),O=T.length,b=k.length),_=O,g=k.slice(0,O),y=g.length;y<O;)g[y++]=0;E=T.slice(),E.unshift(0),A=T[0],T[1]>=Mr/2&&++A;do d=0,s=t(T,g,O,y),s<0?(x=g[0],O!=y&&(x=x*Mr+(g[1]||0)),d=x/A|0,d>1?(d>=Mr&&(d=Mr-1),f=e(T,d),p=f.length,y=g.length,s=t(f,g,p,y),s==1&&(d--,r(f,O<p?E:T,p))):(d==0&&(s=d=1),f=T.slice()),p=f.length,p<y&&f.unshift(0),r(g,f,y),s==-1&&(y=g.length,s=t(T,g,O,y),s<1&&(d++,r(g,O<y?E:T,y))),y=g.length):s===0&&(d++,g=[0]),v[u++]=d,s&&g[0]?g[y++]=k[_]||0:(g=[k[_]],y=1);while((_++<b||g[0]!==void 0)&&w--)}return v[0]||v.shift(),h.e=c,qt(h,o?i+jr(h)+1:i)}}();function W3(e,t){var r,n,a,i,o,s,c=0,u=0,d=e.constructor,f=d.precision;if(jr(e)>16)throw Error(mx+jr(e));if(!e.s)return new d($n);for(er=!1,s=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(Xo(2,u))/Math.LN10*2+5|0,s+=n,r=a=i=new d($n),d.precision=s;;){if(a=qt(a.times(e),s),r=r.times(++c),o=i.plus(Li(a,r,s)),ti(o.d).slice(0,s)===ti(i.d).slice(0,s)){for(;u--;)i=qt(i.times(i),s);return d.precision=f,t==null?(er=!0,qt(i,f)):i}i=o}}function jr(e){for(var t=e.e*Xt,r=e.d[0];r>=10;r/=10)t++;return t}function Ov(e,t,r){if(t>e.LN10.sd())throw er=!0,r&&(e.precision=r),Error(ia+"LN10 precision limit exceeded");return qt(new e(e.LN10),t)}function so(e){for(var t="";e--;)t+="0";return t}function bd(e,t){var r,n,a,i,o,s,c,u,d,f=1,p=10,h=e,v=h.d,g=h.constructor,y=g.precision;if(h.s<1)throw Error(ia+(h.s?"NaN":"-Infinity"));if(h.eq($n))return new g(0);if(t==null?(er=!1,u=y):u=t,h.eq(10))return t==null&&(er=!0),Ov(g,u);if(u+=p,g.precision=u,r=ti(v),n=r.charAt(0),i=jr(h),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(e),r=ti(h.d),n=r.charAt(0),f++;i=jr(h),n>1?(h=new g("0."+r),i++):h=new g(n+"."+r.slice(1))}else return c=Ov(g,u+2,y).times(i+""),h=bd(new g(n+"."+r.slice(1)),u-p).plus(c),g.precision=y,t==null?(er=!0,qt(h,y)):h;for(s=o=h=Li(h.minus($n),h.plus($n),u),d=qt(h.times(h),u),a=3;;){if(o=qt(o.times(d),u),c=s.plus(Li(o,new g(a),u)),ti(c.d).slice(0,u)===ti(s.d).slice(0,u))return s=s.times(2),i!==0&&(s=s.plus(Ov(g,u+2,y).times(i+""))),s=Li(s,new g(f),u),g.precision=y,t==null?(er=!0,qt(s,y)):s;s=c,a+=2}}function B5(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Dc(r/Xt),e.d=[],n=(r+1)%Xt,r<0&&(n+=Xt),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Xt;n<a;)e.d.push(+t.slice(n,n+=Xt));t=t.slice(n),n=Xt-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),er&&(e.e>up||e.e<-up))throw Error(mx+r)}else e.s=0,e.e=0,e.d=[0];return e}function qt(e,t,r){var n,a,i,o,s,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Xt,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Xt),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=Xt,a=n-Xt+o}if(r!==void 0&&(i=Xo(10,o-a-1),s=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(s||c)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||c||r==6&&(n>0?a>0?u/Xo(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=jr(e),f.length=1,t=t-i-1,f[0]=Xo(10,(Xt-t%Xt)%Xt),e.e=Dc(-t/Xt)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=Xo(10,Xt-n),f[d]=a>0?(u/Xo(10,o-a)%Xo(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==Mr&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=Mr)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(er&&(e.e>up||e.e<-up))throw Error(mx+jr(e));return e}function G3(e,t){var r,n,a,i,o,s,c,u,d,f,p=e.constructor,h=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),er?qt(t,h):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,s=f.length):(r=f,n=u,s=c.length),a=Math.max(Math.ceil(h/Xt),s)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,s=f.length,d=a<s,d&&(s=a),a=0;a<s;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),s=c.length,a=f.length-s;a>0;--a)c[s++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=Mr-1;--c[i],c[a]+=Mr}c[a]-=f[a]}for(;c[--s]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,er?qt(t,h):t):new p(0)}function _s(e,t,r){var n,a=jr(e),i=ti(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+so(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+so(-a-1)+i,r&&(n=r-o)>0&&(i+=so(n))):a>=o?(i+=so(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+so(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=so(n))),e.s<0?"-"+i:i}function q5(e,t){if(e.length>t)return e.length=t,!0}function H3(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(us+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return B5(o,i.toString())}else if(typeof i!="string")throw Error(us+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,gee.test(i))B5(o,i);else throw Error(us+i)}if(a.prototype=We,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=H3,a.config=a.set=vee,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function vee(e){if(!e||typeof e!="object")throw Error(ia+"Object expected");var t,r,n,a=["precision",1,$c,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Dc(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(us+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(us+r+": "+n);return this}var gx=H3(mee);$n=new gx(1);const Dt=gx;function yee(e){return jee(e)||wee(e)||xee(e)||bee()}function bee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xee(e,t){if(e){if(typeof e=="string")return W0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W0(e,t)}}function wee(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function jee(e){if(Array.isArray(e))return W0(e)}function W0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Nee=function(t){return t},V3={},Y3=function(t){return t===V3},z5=function(t){return function r(){return arguments.length===0||arguments.length===1&&Y3(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},See=function e(t,r){return t===1?r:z5(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(s){return s!==V3}).length;return o>=t?r.apply(void 0,a):e(t-o,z5(function(){for(var s=arguments.length,c=new Array(s),u=0;u<s;u++)c[u]=arguments[u];var d=a.map(function(f){return Y3(f)?c.shift():f});return r.apply(void 0,yee(d).concat(c))}))})},Dm=function(t){return See(t.length,t)},G0=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},_ee=Dm(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),Aee=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return Nee;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(s,c){return c(s)},i.apply(void 0,arguments))}},H0=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},K3=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(s,c){return s===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function Oee(e){var t;return e===0?t=1:t=Math.floor(new Dt(e).abs().log(10).toNumber())+1,t}function Pee(e,t,r){for(var n=new Dt(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var Eee=Dm(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),kee=Dm(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),Tee=Dm(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Im={rangeStep:Pee,getDigitCount:Oee,interpolateNumber:Eee,uninterpolateNumber:kee,uninterpolateTruncation:Tee};function V0(e){return Mee(e)||Lee(e)||X3(e)||Cee()}function Cee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lee(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Mee(e){if(Array.isArray(e))return Y0(e)}function xd(e,t){return Iee(e)||Dee(e,t)||X3(e,t)||$ee()}function $ee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X3(e,t){if(e){if(typeof e=="string")return Y0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y0(e,t)}}function Y0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Dee(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),s;!(n=(s=o.next()).done)&&(r.push(s.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function Iee(e){if(Array.isArray(e))return e}function J3(e){var t=xd(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function Z3(e,t,r){if(e.lte(0))return new Dt(0);var n=Im.getDigitCount(e.toNumber()),a=new Dt(10).pow(n),i=e.div(a),o=n!==1?.05:.1,s=new Dt(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=s.mul(a);return t?c:new Dt(Math.ceil(c))}function Ree(e,t,r){var n=1,a=new Dt(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Dt(10).pow(Im.getDigitCount(e)-1),a=new Dt(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Dt(Math.floor(e)))}else e===0?a=new Dt(Math.floor((t-1)/2)):r||(a=new Dt(Math.floor(e)));var o=Math.floor((t-1)/2),s=Aee(_ee(function(c){return a.add(new Dt(c-o).mul(n)).toNumber()}),G0);return s(0,t)}function Q3(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Dt(0),tickMin:new Dt(0),tickMax:new Dt(0)};var i=Z3(new Dt(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new Dt(0):(o=new Dt(e).add(t).div(2),o=o.sub(new Dt(o).mod(i)));var s=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new Dt(t).sub(o).div(i).toNumber()),u=s+c+1;return u>r?Q3(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,s=t>0?s:s+(r-u)),{step:i,tickMin:o.sub(new Dt(s).mul(i)),tickMax:o.add(new Dt(c).mul(i))})}function Fee(e){var t=xd(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),s=J3([r,n]),c=xd(s,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(V0(G0(0,a-1).map(function(){return 1/0}))):[].concat(V0(G0(0,a-1).map(function(){return-1/0})),[d]);return r>n?H0(f):f}if(u===d)return Ree(u,a,i);var p=Q3(u,d,o,i),h=p.step,v=p.tickMin,g=p.tickMax,y=Im.rangeStep(v,g.add(new Dt(.1).mul(h)),h);return r>n?H0(y):y}function Bee(e,t){var r=xd(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=J3([n,a]),s=xd(o,2),c=s[0],u=s[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=Z3(new Dt(u).sub(c).div(d-1),i,0),p=[].concat(V0(Im.rangeStep(new Dt(c),new Dt(u).sub(new Dt(.99).mul(f)),f)),[u]);return n>a?H0(p):p}var qee=K3(Fee),zee=K3(Bee),Uee="Invariant failed";function As(e,t){throw new Error(Uee)}var Wee=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Zl(e){"@babel/helpers - typeof";return Zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zl(e)}function dp(){return dp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dp.apply(this,arguments)}function Gee(e,t){return Kee(e)||Yee(e,t)||Vee(e,t)||Hee()}function Hee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vee(e,t){if(e){if(typeof e=="string")return U5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U5(e,t)}}function U5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Yee(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function Kee(e){if(Array.isArray(e))return e}function Xee(e,t){if(e==null)return{};var r=Jee(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Jee(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Zee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qee(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,r4(n.key),n)}}function ete(e,t,r){return t&&Qee(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tte(e,t,r){return t=fp(t),rte(e,e4()?Reflect.construct(t,r||[],fp(e).constructor):t.apply(e,r))}function rte(e,t){if(t&&(Zl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nte(e)}function nte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function e4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e4=function(){return!!e})()}function fp(e){return fp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fp(e)}function ate(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&K0(e,t)}function K0(e,t){return K0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},K0(e,t)}function t4(e,t,r){return t=r4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r4(e){var t=ite(e,"string");return Zl(t)=="symbol"?t:t+""}function ite(e,t){if(Zl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Rm=function(e){function t(){return Zee(this,t),tte(this,t,arguments)}return ate(t,e),ete(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,o=n.width,s=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,p=Xee(n,Wee),h=Xe(p,!1);this.props.direction==="x"&&d.type!=="number"&&As();var v=c.map(function(g){var y=u(g,s),x=y.x,w=y.y,N=y.value,_=y.errorVal;if(!_)return null;var b=[],A,O;if(Array.isArray(_)){var E=Gee(_,2);A=E[0],O=E[1]}else A=O=_;if(i==="vertical"){var C=d.scale,D=w+a,k=D+o,T=D-o,$=C(N-A),I=C(N+O);b.push({x1:I,y1:k,x2:I,y2:T}),b.push({x1:$,y1:D,x2:I,y2:D}),b.push({x1:$,y1:k,x2:$,y2:T})}else if(i==="horizontal"){var H=f.scale,V=x+a,X=V-o,Q=V+o,Y=H(N-A),G=H(N+O);b.push({x1:X,y1:G,x2:Q,y2:G}),b.push({x1:V,y1:Y,x2:V,y2:G}),b.push({x1:X,y1:Y,x2:Q,y2:Y})}return q.createElement(Nt,dp({className:"recharts-errorBar",key:"bar-".concat(b.map(function(ae){return"".concat(ae.x1,"-").concat(ae.x2,"-").concat(ae.y1,"-").concat(ae.y2)}))},h),b.map(function(ae){return q.createElement("line",dp({},ae,{key:"line-".concat(ae.x1,"-").concat(ae.x2,"-").concat(ae.y1,"-").concat(ae.y2)}))}))});return q.createElement(Nt,{className:"recharts-errorBars"},v)}}])}(q.Component);t4(Rm,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});t4(Rm,"displayName","ErrorBar");function wd(e){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wd(e)}function W5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W5(Object(r),!0).forEach(function(n){ote(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ote(e,t,r){return t=ste(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ste(e){var t=lte(e,"string");return wd(t)=="symbol"?t:t+""}function lte(e,t){if(wd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var n4=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=Ln(r,ls);if(!o)return null;var s=ls.defaultProps,c=s!==void 0?zo(zo({},s),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var p=f.item,h=f.props,v=h.sectors||h.data||[];return d.concat(v.map(function(g){return{type:o.props.iconType||p.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(n||[]).map(function(d){var f=d.item,p=f.type.defaultProps,h=p!==void 0?zo(zo({},p),f.props):{},v=h.dataKey,g=h.name,y=h.legendType,x=h.hide;return{inactive:x,dataKey:v,type:c.iconType||y||"square",color:vx(f),value:g||v,payload:h}}),zo(zo(zo({},c),ls.getWithHeight(o,a)),{},{payload:u,item:o})};function jd(e){"@babel/helpers - typeof";return jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jd(e)}function G5(e){return fte(e)||dte(e)||ute(e)||cte()}function cte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ute(e,t){if(e){if(typeof e=="string")return X0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return X0(e,t)}}function dte(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function fte(e){if(Array.isArray(e))return X0(e)}function X0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function H5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H5(Object(r),!0).forEach(function(n){Ml(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ml(e,t,r){return t=hte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hte(e){var t=pte(e,"string");return jd(t)=="symbol"?t:t+""}function pte(e,t){if(jd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ar(e,t,r){return ht(e)||ht(t)?r:Or(t)?In(e,t,r):at(t)?t(e):r}function Ru(e,t,r,n){var a=pee(e,function(s){return Ar(s,t)});if(r==="number"){var i=a.filter(function(s){return Le(s)||parseFloat(s)});return i.length?[$m(i),uo(i)]:[1/0,-1/0]}var o=n?a.filter(function(s){return!ht(s)}):a;return o.map(function(s){return Or(s)||s instanceof Date?s:""})}var mte=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,s=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<s;u++){var d=u>0?a[u-1].coordinate:a[s-1].coordinate,f=a[u].coordinate,p=u>=s-1?a[0].coordinate:a[u+1].coordinate,h=void 0;if(un(f-d)!==un(p-f)){var v=[];if(un(p-f)===un(c[1]-c[0])){h=p;var g=f+c[1]-c[0];v[0]=Math.min(g,(g+d)/2),v[1]=Math.max(g,(g+d)/2)}else{h=d;var y=p+c[1]-c[0];v[0]=Math.min(f,(y+f)/2),v[1]=Math.max(f,(y+f)/2)}var x=[Math.min(f,(h+f)/2),Math.max(f,(h+f)/2)];if(t>x[0]&&t<=x[1]||t>=v[0]&&t<=v[1]){o=a[u].index;break}}else{var w=Math.min(d,p),N=Math.max(d,p);if(t>(w+f)/2&&t<=(N+f)/2){o=a[u].index;break}}}else for(var _=0;_<s;_++)if(_===0&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<s-1&&t>(n[_].coordinate+n[_-1].coordinate)/2&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_===s-1&&t>(n[_].coordinate+n[_-1].coordinate)/2){o=n[_].index;break}return o},vx=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?lr(lr({},t.type.defaultProps),t.props):t.props,o=i.stroke,s=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:s;break;default:c=s;break}return c},gte=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},s=Object.keys(i),c=0,u=s.length;c<u;c++)for(var d=i[s[c]].stackGroups,f=Object.keys(d),p=0,h=f.length;p<h;p++){var v=d[f[p]],g=v.items,y=v.cateAxisId,x=g.filter(function(O){return Ci(O.type).indexOf("Bar")>=0});if(x&&x.length){var w=x[0].type.defaultProps,N=w!==void 0?lr(lr({},w),x[0].props):x[0].props,_=N.barSize,b=N[y];o[b]||(o[b]=[]);var A=ht(_)?r:_;o[b].push({item:x[0],stackList:x.slice(1),barSize:ht(A)?void 0:dn(A,n,0)})}}return o},vte=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,s=t.maxBarSize,c=o.length;if(c<1)return null;var u=dn(r,a,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var p=!1,h=a/c,v=o.reduce(function(_,b){return _+b.barSize||0},0);v+=(c-1)*u,v>=a&&(v-=(c-1)*u,u=0),v>=a&&h>0&&(p=!0,h*=.9,v=c*h);var g=(a-v)/2>>0,y={offset:g-u,size:0};d=o.reduce(function(_,b){var A={item:b.item,position:{offset:y.offset+y.size+u,size:p?h:b.barSize}},O=[].concat(G5(_),[A]);return y=O[O.length-1].position,b.stackList&&b.stackList.length&&b.stackList.forEach(function(E){O.push({item:E,position:y})}),O},f)}else{var x=dn(n,a,0,!0);a-2*x-(c-1)*u<=0&&(u=0);var w=(a-2*x-(c-1)*u)/c;w>1&&(w>>=0);var N=s===+s?Math.min(w,s):w;d=o.reduce(function(_,b,A){var O=[].concat(G5(_),[{item:b.item,position:{offset:x+(w+u)*A+(w-N)/2,size:N}}]);return b.stackList&&b.stackList.length&&b.stackList.forEach(function(E){O.push({item:E,position:O[O.length-1].position})}),O},f)}return d},yte=function(t,r,n,a){var i=n.children,o=n.width,s=n.margin,c=o-(s.left||0)-(s.right||0),u=n4({children:i,legendWidth:c});if(u){var d=a||{},f=d.width,p=d.height,h=u.align,v=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&v==="middle")&&h!=="center"&&Le(t[h]))return lr(lr({},t),{},Ml({},h,t[h]+(f||0)));if((g==="horizontal"||g==="vertical"&&h==="center")&&v!=="middle"&&Le(t[v]))return lr(lr({},t),{},Ml({},v,t[v]+(p||0)))}return t},bte=function(t,r,n){return ht(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},a4=function(t,r,n,a,i){var o=r.props.children,s=ta(o,Rm).filter(function(u){return bte(a,i,u.props.direction)});if(s&&s.length){var c=s.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=Ar(d,n);if(ht(f))return u;var p=Array.isArray(f)?[$m(f),uo(f)]:[f,f],h=c.reduce(function(v,g){var y=Ar(d,g,0),x=p[0]-Math.abs(Array.isArray(y)?y[0]:y),w=p[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(x,v[0]),Math.max(w,v[1])]},[1/0,-1/0]);return[Math.min(h[0],u[0]),Math.max(h[1],u[1])]},[1/0,-1/0])}return null},xte=function(t,r,n,a,i){var o=r.map(function(s){return a4(t,s,n,i,a)}).filter(function(s){return!ht(s)});return o&&o.length?o.reduce(function(s,c){return[Math.min(s[0],c[0]),Math.max(s[1],c[1])]},[1/0,-1/0]):null},i4=function(t,r,n,a,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&a4(t,c,u,a)||Ru(t,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var s={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)s[u[d]]||(s[u[d]]=!0,c.push(u[d]));return c},[])},o4=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},s4=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var i,o,s=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||s.push(r),o||s.push(n),s},Ti=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,s=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?un(s[0]-s[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var p=i?i.indexOf(f):f;return{coordinate:a(p)+u,value:f,offset:u}});return d.filter(function(f){return!Cc(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,p){return{coordinate:a(f)+u,value:f,index:p,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,p){return{coordinate:a(f)+u,value:i?i[f]:f,index:p,offset:u}})},Pv=new WeakMap,ch=function(t,r){if(typeof r!="function")return t;Pv.has(t)||Pv.set(t,new WeakMap);var n=Pv.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},l4=function(t,r,n){var a=t.scale,i=t.type,o=t.layout,s=t.axisType;if(a==="auto")return o==="radial"&&s==="radiusAxis"?{scale:pd(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:op(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Iu(),realScaleType:"point"}:i==="category"?{scale:pd(),realScaleType:"band"}:{scale:op(),realScaleType:"linear"};if(js(a)){var c="scale".concat(jm(a));return{scale:(F5[c]||Iu)(),realScaleType:F5[c]?c:"point"}}return at(a)?{scale:a}:{scale:Iu(),realScaleType:"point"}},V5=1e-4,c4=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-V5,o=Math.max(a[0],a[1])+V5,s=t(r[0]),c=t(r[n-1]);(s<i||s>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},wte=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},jte=function(t,r){if(!r||r.length!==2||!Le(r[0])||!Le(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!Le(t[0])||t[0]<n)&&(i[0]=n),(!Le(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},Nte=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0,s=0;s<r;++s){var c=Cc(t[s][n][1])?t[s][n][0]:t[s][n][1];c>=0?(t[s][n][0]=i,t[s][n][1]=i+c,i=t[s][n][1]):(t[s][n][0]=o,t[s][n][1]=o+c,o=t[s][n][1])}},Ste=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0;o<r;++o){var s=Cc(t[o][n][1])?t[o][n][0]:t[o][n][1];s>=0?(t[o][n][0]=i,t[o][n][1]=i+s,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},_te={sign:Nte,expand:jY,none:Wl,silhouette:NY,wiggle:SY,positive:Ste},Ate=function(t,r,n){var a=r.map(function(s){return s.props.dataKey}),i=_te[n],o=wY().keys(a).value(function(s,c){return+Ar(s,c,0)}).order(A0).offset(i);return o(t)},Ote=function(t,r,n,a,i,o){if(!t)return null;var s=o?r.reverse():r,c={},u=s.reduce(function(f,p){var h,v=(h=p.type)!==null&&h!==void 0&&h.defaultProps?lr(lr({},p.type.defaultProps),p.props):p.props,g=v.stackId,y=v.hide;if(y)return f;var x=v[n],w=f[x]||{hasStack:!1,stackGroups:{}};if(Or(g)){var N=w.stackGroups[g]||{numericAxisId:n,cateAxisId:a,items:[]};N.items.push(p),w.hasStack=!0,w.stackGroups[g]=N}else w.stackGroups[Lc("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[p]};return lr(lr({},f),{},Ml({},x,w))},c),d={};return Object.keys(u).reduce(function(f,p){var h=u[p];if(h.hasStack){var v={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(g,y){var x=h.stackGroups[y];return lr(lr({},g),{},Ml({},y,{numericAxisId:n,cateAxisId:a,items:x.items,stackedData:Ate(t,x.items,i)}))},v)}return lr(lr({},f),{},Ml({},p,h))},d)},u4=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,s=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=qee(u,i,s);return t.domain([$m(d),uo(d)]),{niceTicks:d}}if(i&&a==="number"){var f=t.domain(),p=zee(f,i,s);return{niceTicks:p}}return null};function Y5(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!ht(a[t.dataKey])){var s=zh(r,"value",a[t.dataKey]);if(s)return s.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=Ar(a,ht(o)?t.dataKey:o);return ht(c)?null:t.scale(c)}var K5=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,s=t.index;if(r.type==="category")return n[s]?n[s].coordinate+a:null;var c=Ar(o,r.dataKey,r.domain[s]);return ht(c)?null:r.scale(c)-i/2+a},Pte=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},Ete=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?lr(lr({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(Or(i)){var o=r[i];if(o){var s=o.items.indexOf(t);return s>=0?o.stackedData[s]:null}}return null},kte=function(t){return t.reduce(function(r,n){return[$m(n.concat([r[0]]).filter(Le)),uo(n.concat([r[1]]).filter(Le))]},[1/0,-1/0])},d4=function(t,r,n){return Object.keys(t).reduce(function(a,i){var o=t[i],s=o.stackedData,c=s.reduce(function(u,d){var f=kte(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},X5=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,J5=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,J0=function(t,r,n){if(at(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(Le(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(X5.test(t[0])){var i=+X5.exec(t[0])[1];a[0]=r[0]-i}else at(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(Le(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(J5.test(t[1])){var o=+J5.exec(t[1])[1];a[1]=r[1]+o}else at(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},hp=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=nm(r,function(f){return f.coordinate}),o=1/0,s=1,c=i.length;s<c;s++){var u=i[s],d=i[s-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},Z5=function(t,r,n){return!t||!t.length||xs(t,In(n,"type.defaultProps.domain"))?r:t},f4=function(t,r){var n=t.type.defaultProps?lr(lr({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,o=n.unit,s=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return lr(lr({},Xe(t,!1)),{},{dataKey:a,unit:o,formatter:s,name:i||a,color:vx(t),value:Ar(r,a),type:c,payload:r,chartType:u,hide:d})};function Nd(e){"@babel/helpers - typeof";return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nd(e)}function Q5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q5(Object(r),!0).forEach(function(n){h4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function h4(e,t,r){return t=Tte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tte(e){var t=Cte(e,"string");return Nd(t)=="symbol"?t:t+""}function Cte(e,t){if(Nd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lte(e,t){return Ite(e)||Dte(e,t)||$te(e,t)||Mte()}function Mte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $te(e,t){if(e){if(typeof e=="string")return ej(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ej(e,t)}}function ej(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Dte(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function Ite(e){if(Array.isArray(e))return e}var pp=Math.PI/180,Rte=function(t){return t*180/Math.PI},Yt=function(t,r,n,a){return{x:t+Math.cos(-pp*a)*n,y:r+Math.sin(-pp*a)*n}},p4=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Fte=function(t,r,n,a,i){var o=t.width,s=t.height,c=t.startAngle,u=t.endAngle,d=dn(t.cx,o,o/2),f=dn(t.cy,s,s/2),p=p4(o,s,n),h=dn(t.innerRadius,p,0),v=dn(t.outerRadius,p,p*.8),g=Object.keys(r);return g.reduce(function(y,x){var w=r[x],N=w.domain,_=w.reversed,b;if(ht(w.range))a==="angleAxis"?b=[c,u]:a==="radiusAxis"&&(b=[h,v]),_&&(b=[b[1],b[0]]);else{b=w.range;var A=b,O=Lte(A,2);c=O[0],u=O[1]}var E=l4(w,i),C=E.realScaleType,D=E.scale;D.domain(N).range(b),c4(D);var k=u4(D,Pi(Pi({},w),{},{realScaleType:C})),T=Pi(Pi(Pi({},w),k),{},{range:b,radius:v,realScaleType:C,scale:D,cx:d,cy:f,innerRadius:h,outerRadius:v,startAngle:c,endAngle:u});return Pi(Pi({},y),{},h4({},x,T))},{})},Bte=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-o,2))},qte=function(t,r){var n=t.x,a=t.y,i=r.cx,o=r.cy,s=Bte({x:n,y:a},{x:i,y:o});if(s<=0)return{radius:s};var c=(n-i)/s,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:s,angle:Rte(u),angleInRadian:u}},zte=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:n-o*360}},Ute=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),o=Math.floor(a/360),s=Math.min(i,o);return t+s*360},tj=function(t,r){var n=t.x,a=t.y,i=qte({x:n,y:a},r),o=i.radius,s=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=zte(r),f=d.startAngle,p=d.endAngle,h=s,v;if(f<=p){for(;h>p;)h-=360;for(;h<f;)h+=360;v=h>=f&&h<=p}else{for(;h>f;)h-=360;for(;h<p;)h+=360;v=h>=p&&h<=f}return v?Pi(Pi({},r),{},{radius:o,angle:Ute(h,r)}):null},m4=function(t){return!F.isValidElement(t)&&!at(t)&&typeof t!="boolean"?t.className:""};function Sd(e){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sd(e)}var Wte=["offset"];function Gte(e){return Kte(e)||Yte(e)||Vte(e)||Hte()}function Hte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vte(e,t){if(e){if(typeof e=="string")return Z0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z0(e,t)}}function Yte(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Kte(e){if(Array.isArray(e))return Z0(e)}function Z0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Xte(e,t){if(e==null)return{};var r=Jte(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Jte(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function rj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rj(Object(r),!0).forEach(function(n){Zte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zte(e,t,r){return t=Qte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qte(e){var t=ere(e,"string");return Sd(t)=="symbol"?t:t+""}function ere(e,t){if(Sd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _d(){return _d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_d.apply(this,arguments)}var tre=function(t){var r=t.value,n=t.formatter,a=ht(t.children)?r:t.children;return at(n)?n(a):a},rre=function(t,r){var n=un(r-t),a=Math.min(Math.abs(r-t),360);return n*a},nre=function(t,r,n){var a=t.position,i=t.viewBox,o=t.offset,s=t.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,p=c.outerRadius,h=c.startAngle,v=c.endAngle,g=c.clockWise,y=(f+p)/2,x=rre(h,v),w=x>=0?1:-1,N,_;a==="insideStart"?(N=h+w*o,_=g):a==="insideEnd"?(N=v-w*o,_=!g):a==="end"&&(N=v+w*o,_=g),_=x<=0?_:!_;var b=Yt(u,d,y,N),A=Yt(u,d,y,N+(_?1:-1)*359),O="M".concat(b.x,",").concat(b.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(_?0:1,`,
    `).concat(A.x,",").concat(A.y),E=ht(t.id)?Lc("recharts-radial-line-"):t.id;return q.createElement("text",_d({},n,{dominantBaseline:"central",className:gt("recharts-radial-bar-label",s)}),q.createElement("defs",null,q.createElement("path",{id:E,d:O})),q.createElement("textPath",{xlinkHref:"#".concat(E)},r))},are=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,o=i.cx,s=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,p=(d+f)/2;if(a==="outside"){var h=Yt(o,s,u+n,p),v=h.x,g=h.y;return{x:v,y:g,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var y=(c+u)/2,x=Yt(o,s,y,p),w=x.x,N=x.y;return{x:w,y:N,textAnchor:"middle",verticalAnchor:"middle"}},ire=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,o=r,s=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,p=f*a,h=f>0?"end":"start",v=f>0?"start":"end",g=u>=0?1:-1,y=g*a,x=g>0?"end":"start",w=g>0?"start":"end";if(i==="top"){var N={x:s+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:h};return _r(_r({},N),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var _={x:s+u/2,y:c+d+p,textAnchor:"middle",verticalAnchor:v};return _r(_r({},_),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var b={x:s-y,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return _r(_r({},b),n?{width:Math.max(b.x-n.x,0),height:d}:{})}if(i==="right"){var A={x:s+u+y,y:c+d/2,textAnchor:w,verticalAnchor:"middle"};return _r(_r({},A),n?{width:Math.max(n.x+n.width-A.x,0),height:d}:{})}var O=n?{width:u,height:d}:{};return i==="insideLeft"?_r({x:s+y,y:c+d/2,textAnchor:w,verticalAnchor:"middle"},O):i==="insideRight"?_r({x:s+u-y,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},O):i==="insideTop"?_r({x:s+u/2,y:c+p,textAnchor:"middle",verticalAnchor:v},O):i==="insideBottom"?_r({x:s+u/2,y:c+d-p,textAnchor:"middle",verticalAnchor:h},O):i==="insideTopLeft"?_r({x:s+y,y:c+p,textAnchor:w,verticalAnchor:v},O):i==="insideTopRight"?_r({x:s+u-y,y:c+p,textAnchor:x,verticalAnchor:v},O):i==="insideBottomLeft"?_r({x:s+y,y:c+d-p,textAnchor:w,verticalAnchor:h},O):i==="insideBottomRight"?_r({x:s+u-y,y:c+d-p,textAnchor:x,verticalAnchor:h},O):xc(i)&&(Le(i.x)||es(i.x))&&(Le(i.y)||es(i.y))?_r({x:s+dn(i.x,u),y:c+dn(i.y,d),textAnchor:"end",verticalAnchor:"end"},O):_r({x:s+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},O)},ore=function(t){return"cx"in t&&Le(t.cx)};function Dr(e){var t=e.offset,r=t===void 0?5:t,n=Xte(e,Wte),a=_r({offset:r},n),i=a.viewBox,o=a.position,s=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,p=a.textBreakAll;if(!i||ht(s)&&ht(c)&&!F.isValidElement(u)&&!at(u))return null;if(F.isValidElement(u))return F.cloneElement(u,a);var h;if(at(u)){if(h=F.createElement(u,a),F.isValidElement(h))return h}else h=tre(a);var v=ore(i),g=Xe(a,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return nre(a,h,g);var y=v?are(a):ire(a);return q.createElement(Ss,_d({className:gt("recharts-label",f)},g,y,{breakAll:p}),h)}Dr.displayName="Label";var g4=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,s=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,p=t.y,h=t.top,v=t.left,g=t.width,y=t.height,x=t.clockWise,w=t.labelViewBox;if(w)return w;if(Le(g)&&Le(y)){if(Le(f)&&Le(p))return{x:f,y:p,width:g,height:y};if(Le(h)&&Le(v))return{x:h,y:v,width:g,height:y}}return Le(f)&&Le(p)?{x:f,y:p,width:0,height:0}:Le(r)&&Le(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||c||s||0,clockWise:x}:t.viewBox?t.viewBox:{}},sre=function(t,r){return t?t===!0?q.createElement(Dr,{key:"label-implicit",viewBox:r}):Or(t)?q.createElement(Dr,{key:"label-implicit",viewBox:r,value:t}):F.isValidElement(t)?t.type===Dr?F.cloneElement(t,{key:"label-implicit",viewBox:r}):q.createElement(Dr,{key:"label-implicit",content:t,viewBox:r}):at(t)?q.createElement(Dr,{key:"label-implicit",content:t,viewBox:r}):xc(t)?q.createElement(Dr,_d({viewBox:r},t,{key:"label-implicit"})):null:null},lre=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=g4(t),o=ta(a,Dr).map(function(c,u){return F.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var s=sre(t.label,r||i);return[s].concat(Gte(o))};Dr.parseViewBox=g4;Dr.renderCallByParent=lre;function Ad(e){"@babel/helpers - typeof";return Ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ad(e)}var cre=["valueAccessor"],ure=["data","dataKey","clockWise","id","textBreakAll"];function dre(e){return mre(e)||pre(e)||hre(e)||fre()}function fre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hre(e,t){if(e){if(typeof e=="string")return Q0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q0(e,t)}}function pre(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function mre(e){if(Array.isArray(e))return Q0(e)}function Q0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mp(){return mp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mp.apply(this,arguments)}function nj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function aj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nj(Object(r),!0).forEach(function(n){gre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gre(e,t,r){return t=vre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vre(e){var t=yre(e,"string");return Ad(t)=="symbol"?t:t+""}function yre(e,t){if(Ad(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ad(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ij(e,t){if(e==null)return{};var r=bre(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bre(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var xre=function(t){return Array.isArray(t.value)?Oz(t.value):t.value};function Mi(e){var t=e.valueAccessor,r=t===void 0?xre:t,n=ij(e,cre),a=n.data,i=n.dataKey,o=n.clockWise,s=n.id,c=n.textBreakAll,u=ij(n,ure);return!a||!a.length?null:q.createElement(Nt,{className:"recharts-label-list"},a.map(function(d,f){var p=ht(i)?r(d,f):Ar(d&&d.payload,i),h=ht(s)?{}:{id:"".concat(s,"-").concat(f)};return q.createElement(Dr,mp({},Xe(d,!0),u,h,{parentViewBox:d.parentViewBox,value:p,textBreakAll:c,viewBox:Dr.parseViewBox(ht(o)?d:aj(aj({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Mi.displayName="LabelList";function wre(e,t){return e?e===!0?q.createElement(Mi,{key:"labelList-implicit",data:t}):q.isValidElement(e)||at(e)?q.createElement(Mi,{key:"labelList-implicit",data:t,content:e}):xc(e)?q.createElement(Mi,mp({data:t},e,{key:"labelList-implicit"})):null:null}function jre(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=ta(n,Mi).map(function(o,s){return F.cloneElement(o,{data:t,key:"labelList-".concat(s)})});if(!r)return a;var i=wre(e.label,t);return[i].concat(dre(a))}Mi.renderCallByParent=jre;function Od(e){"@babel/helpers - typeof";return Od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Od(e)}function ey(){return ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ey.apply(this,arguments)}function oj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oj(Object(r),!0).forEach(function(n){Nre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nre(e,t,r){return t=Sre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sre(e){var t=_re(e,"string");return Od(t)=="symbol"?t:t+""}function _re(e,t){if(Od(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Od(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Are=function(t,r){var n=un(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},uh=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,o=t.sign,s=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(s?1:-1)+a,f=Math.asin(c/d)/pp,p=u?i:i+o*f,h=Yt(r,n,d,p),v=Yt(r,n,a,p),g=u?i-o*f:i,y=Yt(r,n,d*Math.cos(f*pp),g);return{center:h,circleTangency:v,lineTangency:y,theta:f}},v4=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,s=t.endAngle,c=Are(o,s),u=o+c,d=Yt(r,n,i,o),f=Yt(r,n,i,u),p="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var h=Yt(r,n,a,o),v=Yt(r,n,a,u);p+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(h.x,",").concat(h.y," Z")}else p+="L ".concat(r,",").concat(n," Z");return p},Ore=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,s=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=un(d-u),p=uh({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),h=p.circleTangency,v=p.lineTangency,g=p.theta,y=uh({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),x=y.circleTangency,w=y.lineTangency,N=y.theta,_=c?Math.abs(u-d):Math.abs(u-d)-g-N;if(_<0)return s?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):v4({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var b="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
  `);if(a>0){var A=uh({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),O=A.circleTangency,E=A.lineTangency,C=A.theta,D=uh({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),k=D.circleTangency,T=D.lineTangency,$=D.theta,I=c?Math.abs(u-d):Math.abs(u-d)-C-$;if(I<0&&o===0)return"".concat(b,"L").concat(r,",").concat(n,"Z");b+="L".concat(T.x,",").concat(T.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(I>180),",").concat(+(f>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,"Z")}else b+="L".concat(r,",").concat(n,"Z");return b},Pre={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},y4=function(t){var r=sj(sj({},Pre),t),n=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,s=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,p=r.className;if(o<i||d===f)return null;var h=gt("recharts-sector",p),v=o-i,g=dn(s,v,0,!0),y;return g>0&&Math.abs(d-f)<360?y=Ore({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(g,v/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):y=v4({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),q.createElement("path",ey({},Xe(r,!0),{className:h,d:y,role:"img"}))};function Pd(e){"@babel/helpers - typeof";return Pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pd(e)}function ty(){return ty=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ty.apply(this,arguments)}function lj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lj(Object(r),!0).forEach(function(n){Ere(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ere(e,t,r){return t=kre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kre(e){var t=Tre(e,"string");return Pd(t)=="symbol"?t:t+""}function Tre(e,t){if(Pd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uj={curveBasisClosed:uY,curveBasisOpen:dY,curveBasis:cY,curveBumpX:KV,curveBumpY:XV,curveLinearClosed:fY,curveLinear:Sm,curveMonotoneX:hY,curveMonotoneY:pY,curveNatural:mY,curveStep:gY,curveStepAfter:yY,curveStepBefore:vY},dh=function(t){return t.x===+t.x&&t.y===+t.y},Ou=function(t){return t.x},Pu=function(t){return t.y},Cre=function(t,r){if(at(t))return t;var n="curve".concat(jm(t));return(n==="curveMonotone"||n==="curveBump")&&r?uj["".concat(n).concat(r==="vertical"?"Y":"X")]:uj[n]||Sm},Lre=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,o=t.baseLine,s=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=Cre(n,s),f=u?i.filter(function(g){return dh(g)}):i,p;if(Array.isArray(o)){var h=u?o.filter(function(g){return dh(g)}):o,v=f.map(function(g,y){return cj(cj({},g),{},{base:h[y]})});return s==="vertical"?p=rh().y(Pu).x1(Ou).x0(function(g){return g.base.x}):p=rh().x(Ou).y1(Pu).y0(function(g){return g.base.y}),p.defined(dh).curve(d),p(v)}return s==="vertical"&&Le(o)?p=rh().y(Pu).x1(Ou).x0(o):Le(o)?p=rh().x(Ou).y1(Pu).y0(o):p=$A().x(Ou).y(Pu),p.defined(dh).curve(d),p(f)},$l=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?Lre(t):a;return q.createElement("path",ty({},Xe(t,!1),Uh(t),{className:gt("recharts-curve",r),d:o,ref:i}))},Mre=Object.getOwnPropertyNames,$re=Object.getOwnPropertySymbols,Dre=Object.prototype.hasOwnProperty;function dj(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function fh(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,o=i.get(r),s=i.get(n);if(o&&s)return o===n&&s===r;i.set(r,n),i.set(n,r);var c=e(r,n,a);return i.delete(r),i.delete(n),c}}function fj(e){return Mre(e).concat($re(e))}var Ire=Object.hasOwn||function(e,t){return Dre.call(e,t)};function Ls(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var Rre="__v",Fre="__o",Bre="_owner",hj=Object.getOwnPropertyDescriptor,pj=Object.keys;function qre(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function zre(e,t){return Ls(e.getTime(),t.getTime())}function Ure(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Wre(e,t){return e===t}function mj(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),o,s,c=0;(o=i.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(s=u.next())&&!s.done;){if(a[f]){f++;continue}var p=o.value,h=s.value;if(r.equals(p[0],h[0],c,f,e,t,r)&&r.equals(p[1],h[1],p[0],h[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var Gre=Ls;function Hre(e,t,r){var n=pj(e),a=n.length;if(pj(t).length!==a)return!1;for(;a-- >0;)if(!b4(e,t,r,n[a]))return!1;return!0}function Eu(e,t,r){var n=fj(e),a=n.length;if(fj(t).length!==a)return!1;for(var i,o,s;a-- >0;)if(i=n[a],!b4(e,t,r,i)||(o=hj(e,i),s=hj(t,i),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function Vre(e,t){return Ls(e.valueOf(),t.valueOf())}function Yre(e,t){return e.source===t.source&&e.flags===t.flags}function gj(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),o,s;(o=i.next())&&!o.done;){for(var c=t.values(),u=!1,d=0;(s=c.next())&&!s.done;){if(!a[d]&&r.equals(o.value,s.value,o.value,s.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function Kre(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function Xre(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function b4(e,t,r,n){return(n===Bre||n===Fre||n===Rre)&&(e.$$typeof||t.$$typeof)?!0:Ire(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var Jre="[object Arguments]",Zre="[object Boolean]",Qre="[object Date]",ene="[object Error]",tne="[object Map]",rne="[object Number]",nne="[object Object]",ane="[object RegExp]",ine="[object Set]",one="[object String]",sne="[object URL]",lne=Array.isArray,vj=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,yj=Object.assign,cne=Object.prototype.toString.call.bind(Object.prototype.toString);function une(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,s=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,p=e.areUrlsEqual;return function(v,g,y){if(v===g)return!0;if(v==null||g==null)return!1;var x=typeof v;if(x!==typeof g)return!1;if(x!=="object")return x==="number"?o(v,g,y):x==="function"?a(v,g,y):!1;var w=v.constructor;if(w!==g.constructor)return!1;if(w===Object)return s(v,g,y);if(lne(v))return t(v,g,y);if(vj!=null&&vj(v))return f(v,g,y);if(w===Date)return r(v,g,y);if(w===RegExp)return u(v,g,y);if(w===Map)return i(v,g,y);if(w===Set)return d(v,g,y);var N=cne(v);return N===Qre?r(v,g,y):N===ane?u(v,g,y):N===tne?i(v,g,y):N===ine?d(v,g,y):N===nne?typeof v.then!="function"&&typeof g.then!="function"&&s(v,g,y):N===sne?p(v,g,y):N===ene?n(v,g,y):N===Jre?s(v,g,y):N===Zre||N===rne||N===one?c(v,g,y):!1}}function dne(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?Eu:qre,areDatesEqual:zre,areErrorsEqual:Ure,areFunctionsEqual:Wre,areMapsEqual:n?dj(mj,Eu):mj,areNumbersEqual:Gre,areObjectsEqual:n?Eu:Hre,arePrimitiveWrappersEqual:Vre,areRegExpsEqual:Yre,areSetsEqual:n?dj(gj,Eu):gj,areTypedArraysEqual:n?Eu:Kre,areUrlsEqual:Xre};if(r&&(a=yj({},a,r(a))),t){var i=fh(a.areArraysEqual),o=fh(a.areMapsEqual),s=fh(a.areObjectsEqual),c=fh(a.areSetsEqual);a=yj({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:c})}return a}function fne(e){return function(t,r,n,a,i,o,s){return e(t,r,s)}}function hne(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,p=f===void 0?t?new WeakMap:void 0:f,h=d.meta;return r(c,u,{cache:p,equals:a,meta:h,strict:i})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,u){return r(c,u,o)}}var pne=_o();_o({strict:!0});_o({circular:!0});_o({circular:!0,strict:!0});_o({createInternalComparator:function(){return Ls}});_o({strict:!0,createInternalComparator:function(){return Ls}});_o({circular:!0,createInternalComparator:function(){return Ls}});_o({circular:!0,createInternalComparator:function(){return Ls},strict:!0});function _o(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,s=dne(e),c=une(s),u=n?n(c):fne(c);return hne({circular:r,comparator:c,createState:a,equals:u,strict:o})}function mne(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function bj(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):mne(a)};requestAnimationFrame(n)}function ry(e){"@babel/helpers - typeof";return ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ry(e)}function gne(e){return xne(e)||bne(e)||yne(e)||vne()}function vne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yne(e,t){if(e){if(typeof e=="string")return xj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xj(e,t)}}function xj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bne(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xne(e){if(Array.isArray(e))return e}function wne(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,s=gne(o),c=s[0],u=s.slice(1);if(typeof c=="number"){bj(a.bind(null,u),c);return}a(c),bj(a.bind(null,u));return}ry(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Ed(e){"@babel/helpers - typeof";return Ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ed(e)}function wj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wj(Object(r),!0).forEach(function(n){x4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function x4(e,t,r){return t=jne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jne(e){var t=Nne(e,"string");return Ed(t)==="symbol"?t:String(t)}function Nne(e,t){if(Ed(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ed(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sne=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},_ne=function(t){return t},Ane=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Fu=function(t,r){return Object.keys(r).reduce(function(n,a){return jj(jj({},n),{},x4({},a,t(a,r[a])))},{})},Nj=function(t,r,n){return t.map(function(a){return"".concat(Ane(a)," ").concat(r,"ms ").concat(n)}).join(",")};function One(e,t){return kne(e)||Ene(e,t)||w4(e,t)||Pne()}function Pne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ene(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function kne(e){if(Array.isArray(e))return e}function Tne(e){return Mne(e)||Lne(e)||w4(e)||Cne()}function Cne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w4(e,t){if(e){if(typeof e=="string")return ny(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ny(e,t)}}function Lne(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Mne(e){if(Array.isArray(e))return ny(e)}function ny(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var gp=1e-4,j4=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},N4=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},Sj=function(t,r){return function(n){var a=j4(t,r);return N4(a,n)}},$ne=function(t,r){return function(n){var a=j4(t,r),i=[].concat(Tne(a.map(function(o,s){return o*s}).slice(1)),[0]);return N4(i,n)}},_j=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],o=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,s=1;break;case"ease":a=.25,i=.1,o=.25,s=1;break;case"ease-in":a=.42,i=0,o=1,s=1;break;case"ease-out":a=.42,i=0,o=.58,s=1;break;case"ease-in-out":a=0,i=0,o=.58,s=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),d=One(u,4);a=d[0],i=d[1],o=d[2],s=d[3]}}}var f=Sj(a,o),p=Sj(i,s),h=$ne(a,o),v=function(x){return x>1?1:x<0?0:x},g=function(x){for(var w=x>1?1:x,N=w,_=0;_<8;++_){var b=f(N)-w,A=h(N);if(Math.abs(b-w)<gp||A<gp)return p(N);N=v(N-b/A)}return p(N)};return g.isStepper=!1,g},Dne=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,o=t.dt,s=o===void 0?17:o,c=function(d,f,p){var h=-(d-f)*n,v=p*i,g=p+(h-v)*s/1e3,y=p*s/1e3+d;return Math.abs(y-f)<gp&&Math.abs(g)<gp?[f,0]:[y,g]};return c.isStepper=!0,c.dt=s,c},Ine=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return _j(a);case"spring":return Dne();default:if(a.split("(")[0]==="cubic-bezier")return _j(a)}return typeof a=="function"?a:null};function kd(e){"@babel/helpers - typeof";return kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kd(e)}function Aj(e){return Bne(e)||Fne(e)||S4(e)||Rne()}function Rne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fne(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Bne(e){if(Array.isArray(e))return iy(e)}function Oj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Oj(Object(r),!0).forEach(function(n){ay(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ay(e,t,r){return t=qne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qne(e){var t=zne(e,"string");return kd(t)==="symbol"?t:String(t)}function zne(e,t){if(kd(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Une(e,t){return Hne(e)||Gne(e,t)||S4(e,t)||Wne()}function Wne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S4(e,t){if(e){if(typeof e=="string")return iy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iy(e,t)}}function iy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Gne(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function Hne(e){if(Array.isArray(e))return e}var vp=function(t,r,n){return t+(r-t)*n},oy=function(t){var r=t.from,n=t.to;return r!==n},Vne=function e(t,r,n){var a=Fu(function(i,o){if(oy(o)){var s=t(o.from,o.to,o.velocity),c=Une(s,2),u=c[0],d=c[1];return qr(qr({},o),{},{from:u,velocity:d})}return o},r);return n<1?Fu(function(i,o){return oy(o)?qr(qr({},o),{},{velocity:vp(o.velocity,a[i].velocity,n),from:vp(o.from,a[i].from,n)}):o},r):e(t,a,n-1)};const Yne=function(e,t,r,n,a){var i=Sne(e,t),o=i.reduce(function(y,x){return qr(qr({},y),{},ay({},x,[e[x],t[x]]))},{}),s=i.reduce(function(y,x){return qr(qr({},y),{},ay({},x,{from:e[x],velocity:0,to:t[x]}))},{}),c=-1,u,d,f=function(){return null},p=function(){return Fu(function(x,w){return w.from},s)},h=function(){return!Object.values(s).filter(oy).length},v=function(x){u||(u=x);var w=x-u,N=w/r.dt;s=Vne(r,s,N),a(qr(qr(qr({},e),t),p())),u=x,h()||(c=requestAnimationFrame(f))},g=function(x){d||(d=x);var w=(x-d)/n,N=Fu(function(b,A){return vp.apply(void 0,Aj(A).concat([r(w)]))},o);if(a(qr(qr(qr({},e),t),N)),w<1)c=requestAnimationFrame(f);else{var _=Fu(function(b,A){return vp.apply(void 0,Aj(A).concat([r(1)]))},o);a(qr(qr(qr({},e),t),_))}};return f=r.isStepper?v:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Ql(e){"@babel/helpers - typeof";return Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ql(e)}var Kne=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Xne(e,t){if(e==null)return{};var r=Jne(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Jne(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Ev(e){return tae(e)||eae(e)||Qne(e)||Zne()}function Zne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qne(e,t){if(e){if(typeof e=="string")return sy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sy(e,t)}}function eae(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tae(e){if(Array.isArray(e))return sy(e)}function sy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Pj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Na(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pj(Object(r),!0).forEach(function(n){Cu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cu(e,t,r){return t=_4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nae(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_4(n.key),n)}}function aae(e,t,r){return t&&nae(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _4(e){var t=iae(e,"string");return Ql(t)==="symbol"?t:String(t)}function iae(e,t){if(Ql(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ql(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ly(e,t)}function ly(e,t){return ly=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ly(e,t)}function sae(e){var t=lae();return function(){var n=yp(e),a;if(t){var i=yp(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return cy(this,a)}}function cy(e,t){if(t&&(Ql(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uy(e)}function uy(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lae(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function yp(e){return yp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yp(e)}var di=function(e){oae(r,e);var t=sae(r);function r(n,a){var i;rae(this,r),i=t.call(this,n,a);var o=i.props,s=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,p=o.children,h=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(uy(i)),i.changeStyle=i.changeStyle.bind(uy(i)),!s||h<=0)return i.state={style:{}},typeof p=="function"&&(i.state={style:d}),cy(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof p=="function")return i.state={style:u},cy(i);i.state={style:c?Cu({},c,u):u}}else i.state={style:{}};return i}return aae(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,s=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,p=this.state.style;if(s){if(!o){var h={style:c?Cu({},c,d):d};this.state&&p&&(c&&p[c]!==d||!c&&p!==d)&&this.setState(h);return}if(!(pne(a.to,d)&&a.canBegin&&a.isActive)){var v=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=v||u?f:a.to;if(this.state&&p){var y={style:c?Cu({},c,g):g};(c&&p[c]!==g||!c&&p!==g)&&this.setState(y)}this.runAnimation(Na(Na({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,s=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,p=a.onAnimationStart,h=Yne(o,s,Ine(u),c,this.changeStyle),v=function(){i.stopJSAnimation=h()};this.manager.start([p,d,v,c,f])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,s=a.begin,c=a.onAnimationStart,u=o[0],d=u.style,f=u.duration,p=f===void 0?0:f,h=function(g,y,x){if(x===0)return g;var w=y.duration,N=y.easing,_=N===void 0?"ease":N,b=y.style,A=y.properties,O=y.onAnimationEnd,E=x>0?o[x-1]:y,C=A||Object.keys(b);if(typeof _=="function"||_==="spring")return[].concat(Ev(g),[i.runJSAnimation.bind(i,{from:E.style,to:b,duration:w,easing:_}),w]);var D=Nj(C,w,_),k=Na(Na(Na({},E.style),b),{},{transition:D});return[].concat(Ev(g),[k,w,O]).filter(_ne)};return this.manager.start([c].concat(Ev(o.reduce(h,[d,Math.max(p,s)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=wne());var i=a.begin,o=a.duration,s=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,p=a.steps,h=a.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof h=="function"||u==="spring"){this.runJSAnimation(a);return}if(p.length>1){this.runStepAnimation(a);return}var g=s?Cu({},s,c):c,y=Nj(Object.keys(g),o,u);v.start([d,i,Na(Na({},g),{},{transition:y}),o,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var s=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=Xne(a,Kne),u=F.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!s||u===0||o<=0)return i;var f=function(h){var v=h.props,g=v.style,y=g===void 0?{}:g,x=v.className,w=F.cloneElement(h,Na(Na({},c),{},{style:Na(Na({},y),d),className:x}));return w};return u===1?f(F.Children.only(i)):q.createElement("div",null,F.Children.map(i,function(p){return f(p)}))}}]),r}(F.PureComponent);di.displayName="Animate";di.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};di.propTypes={from:Se.oneOfType([Se.object,Se.string]),to:Se.oneOfType([Se.object,Se.string]),attributeName:Se.string,duration:Se.number,begin:Se.number,easing:Se.oneOfType([Se.string,Se.func]),steps:Se.arrayOf(Se.shape({duration:Se.number.isRequired,style:Se.object.isRequired,easing:Se.oneOfType([Se.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Se.func]),properties:Se.arrayOf("string"),onAnimationEnd:Se.func})),children:Se.oneOfType([Se.node,Se.func]),isActive:Se.bool,canBegin:Se.bool,onAnimationEnd:Se.func,shouldReAnimate:Se.bool,onAnimationStart:Se.func,onAnimationReStart:Se.func};function Td(e){"@babel/helpers - typeof";return Td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Td(e)}function bp(){return bp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bp.apply(this,arguments)}function cae(e,t){return hae(e)||fae(e,t)||dae(e,t)||uae()}function uae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dae(e,t){if(e){if(typeof e=="string")return Ej(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ej(e,t)}}function Ej(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fae(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function hae(e){if(Array.isArray(e))return e}function kj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kj(Object(r),!0).forEach(function(n){pae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pae(e,t,r){return t=mae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mae(e){var t=gae(e,"string");return Td(t)=="symbol"?t:t+""}function gae(e,t){if(Td(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Td(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cj=function(t,r,n,a,i){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),s=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],p=0,h=4;p<h;p++)f[p]=i[p]>o?o:i[p];d="M".concat(t,",").concat(r+s*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+s*f[1])),d+="L ".concat(t+n,",").concat(r+a-s*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-s*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var v=Math.min(o,i);d="M ".concat(t,",").concat(r+s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+c*v,",").concat(r,`
            L `).concat(t+n-c*v,",").concat(r,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n,",").concat(r+s*v,`
            L `).concat(t+n,",").concat(r+a-s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n-c*v,",").concat(r+a,`
            L `).concat(t+c*v,",").concat(r+a,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t,",").concat(r+a-s*v," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},vae=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,o=r.y,s=r.width,c=r.height;if(Math.abs(s)>0&&Math.abs(c)>0){var u=Math.min(i,i+s),d=Math.max(i,i+s),f=Math.min(o,o+c),p=Math.max(o,o+c);return n>=u&&n<=d&&a>=f&&a<=p}return!1},yae={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},yx=function(t){var r=Tj(Tj({},yae),t),n=F.useRef(),a=F.useState(-1),i=cae(a,2),o=i[0],s=i[1];F.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&s(_)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,p=r.radius,h=r.className,v=r.animationEasing,g=r.animationDuration,y=r.animationBegin,x=r.isAnimationActive,w=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var N=gt("recharts-rectangle",h);return w?q.createElement(di,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:g,animationEasing:v,isActive:w},function(_){var b=_.width,A=_.height,O=_.x,E=_.y;return q.createElement(di,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:g,isActive:x,easing:v},q.createElement("path",bp({},Xe(r,!0),{className:N,d:Cj(O,E,b,A,p),ref:n})))}):q.createElement("path",bp({},Xe(r,!0),{className:N,d:Cj(c,u,d,f,p)}))},bae=["points","className","baseLinePoints","connectNulls"];function Nl(){return Nl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nl.apply(this,arguments)}function xae(e,t){if(e==null)return{};var r=wae(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wae(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Lj(e){return _ae(e)||Sae(e)||Nae(e)||jae()}function jae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nae(e,t){if(e){if(typeof e=="string")return dy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dy(e,t)}}function Sae(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _ae(e){if(Array.isArray(e))return dy(e)}function dy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Mj=function(t){return t&&t.x===+t.x&&t.y===+t.y},Aae=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){Mj(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),Mj(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Bu=function(t,r){var n=Aae(t);r&&(n=[n.reduce(function(i,o){return[].concat(Lj(i),Lj(o))},[])]);var a=n.map(function(i){return i.reduce(function(o,s,c){return"".concat(o).concat(c===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},Oae=function(t,r,n){var a=Bu(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(Bu(r.reverse(),n).slice(1))},Pae=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,i=t.connectNulls,o=xae(t,bae);if(!r||!r.length)return null;var s=gt("recharts-polygon",n);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",u=Oae(r,a,i);return q.createElement("g",{className:s},q.createElement("path",Nl({},Xe(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?q.createElement("path",Nl({},Xe(o,!0),{fill:"none",d:Bu(r,i)})):null,c?q.createElement("path",Nl({},Xe(o,!0),{fill:"none",d:Bu(a,i)})):null)}var d=Bu(r,i);return q.createElement("path",Nl({},Xe(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:s,d}))};function fy(){return fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fy.apply(this,arguments)}var Fm=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,o=gt("recharts-dot",i);return r===+r&&n===+n&&a===+a?q.createElement("circle",fy({},Xe(t,!1),Uh(t),{className:o,cx:r,cy:n,r:a})):null};function Cd(e){"@babel/helpers - typeof";return Cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cd(e)}var Eae=["x","y","top","left","width","height","className"];function hy(){return hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hy.apply(this,arguments)}function $j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kae(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$j(Object(r),!0).forEach(function(n){Tae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$j(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tae(e,t,r){return t=Cae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cae(e){var t=Lae(e,"string");return Cd(t)=="symbol"?t:t+""}function Lae(e,t){if(Cd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mae(e,t){if(e==null)return{};var r=$ae(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $ae(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Dae=function(t,r,n,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},Iae=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.top,s=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,p=t.height,h=p===void 0?0:p,v=t.className,g=Mae(t,Eae),y=kae({x:n,y:i,top:s,left:u,width:f,height:h},g);return!Le(n)||!Le(i)||!Le(f)||!Le(h)||!Le(s)||!Le(u)?null:q.createElement("path",hy({},Xe(y,!0),{className:gt("recharts-cross",v),d:Dae(n,i,f,h,s,u)}))},Rae=Mm,Fae=B3,Bae=Ia;function qae(e,t){return e&&e.length?Rae(e,Bae(t),Fae):void 0}var zae=qae;const Uae=wt(zae);var Wae=Mm,Gae=Ia,Hae=q3;function Vae(e,t){return e&&e.length?Wae(e,Gae(t),Hae):void 0}var Yae=Vae;const Kae=wt(Yae);var Xae=["cx","cy","angle","ticks","axisLine"],Jae=["ticks","tick","angle","tickFormatter","stroke"];function ec(e){"@babel/helpers - typeof";return ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ec(e)}function qu(){return qu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qu.apply(this,arguments)}function Dj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Uo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dj(Object(r),!0).forEach(function(n){Bm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ij(e,t){if(e==null)return{};var r=Zae(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Zae(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Qae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,O4(n.key),n)}}function eie(e,t,r){return t&&Rj(e.prototype,t),r&&Rj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function tie(e,t,r){return t=xp(t),rie(e,A4()?Reflect.construct(t,r||[],xp(e).constructor):t.apply(e,r))}function rie(e,t){if(t&&(ec(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nie(e)}function nie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(A4=function(){return!!e})()}function xp(e){return xp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xp(e)}function aie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&py(e,t)}function py(e,t){return py=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},py(e,t)}function Bm(e,t,r){return t=O4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O4(e){var t=iie(e,"string");return ec(t)=="symbol"?t:t+""}function iie(e,t){if(ec(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ec(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var qm=function(e){function t(){return Qae(this,t),tie(this,t,arguments)}return aie(t,e),eie(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,o=i.angle,s=i.cx,c=i.cy;return Yt(s,c,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,s=n.ticks,c=Uae(s,function(d){return d.coordinate||0}),u=Kae(s,function(d){return d.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,s=n.ticks,c=n.axisLine,u=Ij(n,Xae),d=s.reduce(function(v,g){return[Math.min(v[0],g.coordinate),Math.max(v[1],g.coordinate)]},[1/0,-1/0]),f=Yt(a,i,d[0],o),p=Yt(a,i,d[1],o),h=Uo(Uo(Uo({},Xe(u,!1)),{},{fill:"none"},Xe(c,!1)),{},{x1:f.x,y1:f.y,x2:p.x,y2:p.y});return q.createElement("line",qu({className:"recharts-polar-radius-axis-line"},h))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,s=a.angle,c=a.tickFormatter,u=a.stroke,d=Ij(a,Jae),f=this.getTickTextAnchor(),p=Xe(d,!1),h=Xe(o,!1),v=i.map(function(g,y){var x=n.getTickValueCoord(g),w=Uo(Uo(Uo(Uo({textAnchor:f,transform:"rotate(".concat(90-s,", ").concat(x.x,", ").concat(x.y,")")},p),{},{stroke:"none",fill:u},h),{},{index:y},x),{},{payload:g});return q.createElement(Nt,qu({className:gt("recharts-polar-radius-axis-tick",m4(o)),key:"tick-".concat(g.coordinate)},Ns(n.props,g,y)),t.renderTickItem(o,w,c?c(g.value,y):g.value))});return q.createElement(Nt,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,o=n.tick;return!a||!a.length?null:q.createElement(Nt,{className:gt("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),Dr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return q.isValidElement(n)?o=q.cloneElement(n,a):at(n)?o=n(a):o=q.createElement(Ss,qu({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(F.PureComponent);Bm(qm,"displayName","PolarRadiusAxis");Bm(qm,"axisType","radiusAxis");Bm(qm,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function tc(e){"@babel/helpers - typeof";return tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tc(e)}function Qo(){return Qo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qo.apply(this,arguments)}function Fj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fj(Object(r),!0).forEach(function(n){zm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,E4(n.key),n)}}function sie(e,t,r){return t&&Bj(e.prototype,t),r&&Bj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function lie(e,t,r){return t=wp(t),cie(e,P4()?Reflect.construct(t,r||[],wp(e).constructor):t.apply(e,r))}function cie(e,t){if(t&&(tc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uie(e)}function uie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P4=function(){return!!e})()}function wp(e){return wp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wp(e)}function die(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&my(e,t)}function my(e,t){return my=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},my(e,t)}function zm(e,t,r){return t=E4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E4(e){var t=fie(e,"string");return tc(t)=="symbol"?t:t+""}function fie(e,t){if(tc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var hie=Math.PI/180,qj=1e-5,Um=function(e){function t(){return oie(this,t),lie(this,t,arguments)}return die(t,e),sie(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,o=a.cy,s=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=Yt(i,o,s,n.coordinate),p=Yt(i,o,s+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:p.x,y2:p.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*hie),o;return i>qj?o=a==="outer"?"start":"end":i<-qj?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.radius,s=n.axisLine,c=n.axisLineType,u=Wo(Wo({},Xe(this.props,!1)),{},{fill:"none"},Xe(s,!1));if(c==="circle")return q.createElement(Fm,Qo({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:o}));var d=this.props.ticks,f=d.map(function(p){return Yt(a,i,o,p.coordinate)});return q.createElement(Pae,Qo({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,s=a.tickLine,c=a.tickFormatter,u=a.stroke,d=Xe(this.props,!1),f=Xe(o,!1),p=Wo(Wo({},d),{},{fill:"none"},Xe(s,!1)),h=i.map(function(v,g){var y=n.getTickLineCoord(v),x=n.getTickTextAnchor(v),w=Wo(Wo(Wo({textAnchor:x},d),{},{stroke:"none",fill:u},f),{},{index:g,payload:v,x:y.x2,y:y.y2});return q.createElement(Nt,Qo({className:gt("recharts-polar-angle-axis-tick",m4(o)),key:"tick-".concat(v.coordinate)},Ns(n.props,v,g)),s&&q.createElement("line",Qo({className:"recharts-polar-angle-axis-tick-line"},p,y)),o&&t.renderTickItem(o,w,c?c(v.value,g):v.value))});return q.createElement(Nt,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!a||!a.length?null:q.createElement(Nt,{className:gt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var o;return q.isValidElement(n)?o=q.cloneElement(n,a):at(n)?o=n(a):o=q.createElement(Ss,Qo({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(F.PureComponent);zm(Um,"displayName","PolarAngleAxis");zm(Um,"axisType","angleAxis");zm(Um,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var pie=Fi,mie=Da,gie="[object Boolean]";function vie(e){return e===!0||e===!1||mie(e)&&pie(e)==gie}var yie=vie;const bie=wt(yie);function Ld(e){"@babel/helpers - typeof";return Ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ld(e)}function jp(){return jp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jp.apply(this,arguments)}function xie(e,t){return Sie(e)||Nie(e,t)||jie(e,t)||wie()}function wie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jie(e,t){if(e){if(typeof e=="string")return zj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zj(e,t)}}function zj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Nie(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function Sie(e){if(Array.isArray(e))return e}function Uj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Uj(Object(r),!0).forEach(function(n){_ie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _ie(e,t,r){return t=Aie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Aie(e){var t=Oie(e,"string");return Ld(t)=="symbol"?t:t+""}function Oie(e,t){if(Ld(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gj=function(t,r,n,a,i){var o=n-a,s;return s="M ".concat(t,",").concat(r),s+="L ".concat(t+n,",").concat(r),s+="L ".concat(t+n-o/2,",").concat(r+i),s+="L ".concat(t+n-o/2-a,",").concat(r+i),s+="L ".concat(t,",").concat(r," Z"),s},Pie={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Eie=function(t){var r=Wj(Wj({},Pie),t),n=F.useRef(),a=F.useState(-1),i=xie(a,2),o=i[0],s=i[1];F.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var N=n.current.getTotalLength();N&&s(N)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,p=r.height,h=r.className,v=r.animationEasing,g=r.animationDuration,y=r.animationBegin,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||p!==+p||d===0&&f===0||p===0)return null;var w=gt("recharts-trapezoid",h);return x?q.createElement(di,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:p,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:p,x:c,y:u},duration:g,animationEasing:v,isActive:x},function(N){var _=N.upperWidth,b=N.lowerWidth,A=N.height,O=N.x,E=N.y;return q.createElement(di,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:g,easing:v},q.createElement("path",jp({},Xe(r,!0),{className:w,d:Gj(O,E,_,b,A),ref:n})))}):q.createElement("g",null,q.createElement("path",jp({},Xe(r,!0),{className:w,d:Gj(c,u,d,f,p)})))},kie=["option","shapeType","propTransformer","activeClassName","isActive"];function Md(e){"@babel/helpers - typeof";return Md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Md(e)}function Tie(e,t){if(e==null)return{};var r=Cie(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Cie(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Hj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Np(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hj(Object(r),!0).forEach(function(n){Lie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lie(e,t,r){return t=Mie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mie(e){var t=$ie(e,"string");return Md(t)=="symbol"?t:t+""}function $ie(e,t){if(Md(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Md(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Die(e,t){return Np(Np({},t),e)}function Iie(e,t){return e==="symbols"}function Vj(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return q.createElement(yx,r);case"trapezoid":return q.createElement(Eie,r);case"sector":return q.createElement(y4,r);case"symbols":if(Iie(t))return q.createElement(Wb,r);break;default:return null}}function Rie(e){return F.isValidElement(e)?e.props:e}function k4(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?Die:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,s=e.isActive,c=Tie(e,kie),u;if(F.isValidElement(t))u=F.cloneElement(t,Np(Np({},c),Rie(t)));else if(at(t))u=t(c);else if(Vz(t)&&!bie(t)){var d=a(t,c);u=q.createElement(Vj,{shapeType:r,elementProps:d})}else{var f=c;u=q.createElement(Vj,{shapeType:r,elementProps:f})}return s?q.createElement(Nt,{className:o},u):u}function Wm(e,t){return t!=null&&"trapezoids"in e.props}function Gm(e,t){return t!=null&&"sectors"in e.props}function $d(e,t){return t!=null&&"points"in e.props}function Fie(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function Bie(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function qie(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function zie(e,t){var r;return Wm(e,t)?r=Fie:Gm(e,t)?r=Bie:$d(e,t)&&(r=qie),r}function Uie(e,t){var r;return Wm(e,t)?r="trapezoids":Gm(e,t)?r="sectors":$d(e,t)&&(r="points"),r}function Wie(e,t){if(Wm(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Gm(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return $d(e,t)?t.payload:{}}function Gie(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=Uie(r,t),i=Wie(r,t),o=n.filter(function(c,u){var d=xs(i,c),f=r.props[a].filter(function(v){var g=zie(r,t);return g(v,t)}),p=r.props[a].indexOf(f[f.length-1]),h=u===p;return d&&h}),s=n.indexOf(o[o.length-1]);return s}var Ah;function rc(e){"@babel/helpers - typeof";return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rc(e)}function Sl(){return Sl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sl.apply(this,arguments)}function Yj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yj(Object(r),!0).forEach(function(n){Jn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,C4(n.key),n)}}function Vie(e,t,r){return t&&Kj(e.prototype,t),r&&Kj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yie(e,t,r){return t=Sp(t),Kie(e,T4()?Reflect.construct(t,r||[],Sp(e).constructor):t.apply(e,r))}function Kie(e,t){if(t&&(rc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xie(e)}function Xie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T4=function(){return!!e})()}function Sp(e){return Sp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sp(e)}function Jie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gy(e,t)}function gy(e,t){return gy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},gy(e,t)}function Jn(e,t,r){return t=C4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C4(e){var t=Zie(e,"string");return rc(t)=="symbol"?t:t+""}function Zie(e,t){if(rc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var qi=function(e){function t(r){var n;return Hie(this,t),n=Yie(this,t,[r]),Jn(n,"pieRef",null),Jn(n,"sectorRefs",[]),Jn(n,"id",Lc("recharts-pie-")),Jn(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),at(a)&&a()}),Jn(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),at(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Jie(t,e),Vie(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,s=i.labelLine,c=i.dataKey,u=i.valueKey,d=Xe(this.props,!1),f=Xe(o,!1),p=Xe(s,!1),h=o&&o.offsetRadius||20,v=n.map(function(g,y){var x=(g.startAngle+g.endAngle)/2,w=Yt(g.cx,g.cy,g.outerRadius+h,x),N=Gt(Gt(Gt(Gt({},d),g),{},{stroke:"none"},f),{},{index:y,textAnchor:t.getTextAnchor(w.x,g.cx)},w),_=Gt(Gt(Gt(Gt({},d),g),{},{fill:"none",stroke:g.fill},p),{},{index:y,points:[Yt(g.cx,g.cy,g.outerRadius,x),w]}),b=c;return ht(c)&&ht(u)?b="value":ht(c)&&(b=u),q.createElement(Nt,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(y)},s&&t.renderLabelLineItem(s,_,"line"),t.renderLabelItem(o,N,Ar(g,b)))});return q.createElement(Nt,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,o=i.activeShape,s=i.blendStroke,c=i.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),p=c&&a.hasActiveIndex()?c:null,h=f?o:p,v=Gt(Gt({},u),{},{stroke:s?u.fill:u.stroke,tabIndex:-1});return q.createElement(Nt,Sl({ref:function(y){y&&!a.sectorRefs.includes(y)&&a.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},Ns(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),q.createElement(k4,Sl({option:h,isActive:f,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,o=a.isAnimationActive,s=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,p=f.prevSectors,h=f.prevIsAnimationActive;return q.createElement(di,{begin:s,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(h),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var g=v.t,y=[],x=i&&i[0],w=x.startAngle;return i.forEach(function(N,_){var b=p&&p[_],A=_>0?In(N,"paddingAngle",0):0;if(b){var O=bn(b.endAngle-b.startAngle,N.endAngle-N.startAngle),E=Gt(Gt({},N),{},{startAngle:w+A,endAngle:w+O(g)+A});y.push(E),w=E.endAngle}else{var C=N.endAngle,D=N.startAngle,k=bn(0,C-D),T=k(g),$=Gt(Gt({},N),{},{startAngle:w+A,endAngle:w+T+A});y.push($),w=$.endAngle}}),q.createElement(Nt,null,n.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var s=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[s].focus(),a.setState({sectorToFocus:s});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!xs(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,o=a.sectors,s=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,p=a.outerRadius,h=a.isAnimationActive,v=this.state.isAnimationFinished;if(i||!o||!o.length||!Le(u)||!Le(d)||!Le(f)||!Le(p))return null;var g=gt("recharts-pie",s);return q.createElement(Nt,{tabIndex:this.props.rootTabIndex,className:g,ref:function(x){n.pieRef=x}},this.renderSectors(),c&&this.renderLabels(o),Dr.renderCallByParent(this.props,null,!1),(!h||v)&&Mi.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(q.isValidElement(n))return q.cloneElement(n,a);if(at(n))return n(a);var o=gt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return q.createElement($l,Sl({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,a,i){if(q.isValidElement(n))return q.cloneElement(n,a);var o=i;if(at(n)&&(o=n(a),q.isValidElement(o)))return o;var s=gt("recharts-pie-label-text",typeof n!="boolean"&&!at(n)?n.className:"");return q.createElement(Ss,Sl({},a,{alignmentBaseline:"middle",className:s}),o)}}])}(F.PureComponent);Ah=qi;Jn(qi,"displayName","Pie");Jn(qi,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!ks.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Jn(qi,"parseDeltaAngle",function(e,t){var r=un(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Jn(qi,"getRealPieData",function(e){var t=e.data,r=e.children,n=Xe(e,!1),a=ta(r,Om);return t&&t.length?t.map(function(i,o){return Gt(Gt(Gt({payload:i},n),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return Gt(Gt({},n),i.props)}):[]});Jn(qi,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,o=p4(a,i),s=n+dn(e.cx,a,a/2),c=r+dn(e.cy,i,i/2),u=dn(e.innerRadius,o,0),d=dn(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:s,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Jn(qi,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Gt(Gt({},t.type.defaultProps),t.props):t.props,a=Ah.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,o=n.startAngle,s=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,p=n.tooltipType,h=Math.abs(n.minAngle),v=Ah.parseCoordinateOfPie(n,r),g=Ah.parseDeltaAngle(o,s),y=Math.abs(g),x=u;ht(u)&&ht(f)?(Ta(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x="value"):ht(u)&&(Ta(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x=f);var w=a.filter(function(E){return Ar(E,x,0)!==0}).length,N=(y>=360?w:w-1)*c,_=y-w*h-N,b=a.reduce(function(E,C){var D=Ar(C,x,0);return E+(Le(D)?D:0)},0),A;if(b>0){var O;A=a.map(function(E,C){var D=Ar(E,x,0),k=Ar(E,d,C),T=(Le(D)?D:0)/b,$;C?$=O.endAngle+un(g)*c*(D!==0?1:0):$=o;var I=$+un(g)*((D!==0?h:0)+T*_),H=($+I)/2,V=(v.innerRadius+v.outerRadius)/2,X=[{name:k,value:D,payload:E,dataKey:x,type:p}],Q=Yt(v.cx,v.cy,V,H);return O=Gt(Gt(Gt({percent:T,cornerRadius:i,name:k,tooltipPayload:X,midAngle:H,middleRadius:V,tooltipPosition:Q},E),v),{},{value:Ar(E,x),startAngle:$,endAngle:I,payload:E,paddingAngle:un(g)*c}),O})}return Gt(Gt({},v),{},{sectors:A,data:a})});function Dd(e){"@babel/helpers - typeof";return Dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dd(e)}function Xj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xj(Object(r),!0).forEach(function(n){L4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function L4(e,t,r){return t=Qie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qie(e){var t=eoe(e,"string");return Dd(t)=="symbol"?t:t+""}function eoe(e,t){if(Dd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var toe=["Webkit","Moz","O","ms"],roe=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=toe.reduce(function(i,o){return Jj(Jj({},i),{},L4({},o+n,r))},{});return a[t]=r,a};function nc(e){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nc(e)}function _p(){return _p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_p.apply(this,arguments)}function Zj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zj(Object(r),!0).forEach(function(n){Cn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function noe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$4(n.key),n)}}function aoe(e,t,r){return t&&Qj(e.prototype,t),r&&Qj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ioe(e,t,r){return t=Ap(t),ooe(e,M4()?Reflect.construct(t,r||[],Ap(e).constructor):t.apply(e,r))}function ooe(e,t){if(t&&(nc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return soe(e)}function soe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M4=function(){return!!e})()}function Ap(e){return Ap=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ap(e)}function loe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vy(e,t)}function vy(e,t){return vy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},vy(e,t)}function Cn(e,t,r){return t=$4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $4(e){var t=coe(e,"string");return nc(t)=="symbol"?t:t+""}function coe(e,t){if(nc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var uoe=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,o=t.width,s=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Iu().domain(ad(0,c)).range([i,i+o-s]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},eN=function(t){return t.changedTouches&&!!t.changedTouches.length},ac=function(e){function t(r){var n;return noe(this,t),n=ioe(this,t,[r]),Cn(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Cn(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Cn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,s=a.startIndex;o==null||o({endIndex:i,startIndex:s})}),n.detachDragEndListener()}),Cn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Cn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Cn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Cn(n,"handleSlideDragStart",function(a){var i=eN(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return loe(t,e),aoe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,o=this.state.scaleValues,s=this.props,c=s.gap,u=s.data,d=u.length-1,f=Math.min(a,i),p=Math.max(a,i),h=t.getIndexInRange(o,f),v=t.getIndexInRange(o,p);return{startIndex:h-h%c,endIndex:v===d?d:v-v%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,o=a.tickFormatter,s=a.dataKey,c=Ar(i[n],s,n);return at(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,o=a.startX,s=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,p=c.startIndex,h=c.endIndex,v=c.onChange,g=n.pageX-i;g>0?g=Math.min(g,u+d-f-s,u+d-f-o):g<0&&(g=Math.max(g,u-o,u-s));var y=this.getIndex({startX:o+g,endX:s+g});(y.startIndex!==p||y.endIndex!==h)&&v&&v(y),this.setState({startX:o+g,endX:s+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=eN(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,s=a.endX,c=a.startX,u=this.state[o],d=this.props,f=d.x,p=d.width,h=d.travellerWidth,v=d.onChange,g=d.gap,y=d.data,x={startX:this.state.startX,endX:this.state.endX},w=n.pageX-i;w>0?w=Math.min(w,f+p-h-u):w<0&&(w=Math.max(w,f-u)),x[o]=u+w;var N=this.getIndex(x),_=N.startIndex,b=N.endIndex,A=function(){var E=y.length-1;return o==="startX"&&(s>c?_%g===0:b%g===0)||s<c&&b===E||o==="endX"&&(s>c?b%g===0:_%g===0)||s>c&&b===E};this.setState(Cn(Cn({},o,u+w),"brushMoveStartX",n.pageX),function(){v&&A()&&v(N)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,o=this.state,s=o.scaleValues,c=o.startX,u=o.endX,d=this.state[a],f=s.indexOf(d);if(f!==-1){var p=f+n;if(!(p===-1||p>=s.length)){var h=s[p];a==="startX"&&h>=u||a==="endX"&&h<=c||this.setState(Cn({},a,h),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,s=n.height,c=n.fill,u=n.stroke;return q.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:o,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,s=n.height,c=n.data,u=n.children,d=n.padding,f=F.Children.only(u);return f?q.cloneElement(f,{x:a,y:i,width:o,height:s,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,o,s=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,p=c.traveller,h=c.ariaLabel,v=c.data,g=c.startIndex,y=c.endIndex,x=Math.max(n,this.props.x),w=kv(kv({},Xe(this.props,!1)),{},{x,y:u,width:d,height:f}),N=h||"Min value: ".concat((i=v[g])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=v[y])===null||o===void 0?void 0:o.name);return q.createElement(Nt,{tabIndex:0,role:"slider","aria-label":N,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(b){["ArrowLeft","ArrowRight"].includes(b.key)&&(b.preventDefault(),b.stopPropagation(),s.handleTravellerMoveKeyboard(b.key==="ArrowRight"?1:-1,a))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(p,w))}},{key:"renderSlide",value:function(n,a){var i=this.props,o=i.y,s=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return q.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:s})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,o=n.y,s=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,p=d.endX,h=5,v={pointerEvents:"none",fill:u};return q.createElement(Nt,{className:"recharts-brush-texts"},q.createElement(Ss,_p({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,p)-h,y:o+s/2},v),this.getTextOfTick(a)),q.createElement(Ss,_p({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,p)+c+h,y:o+s/2},v),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,o=n.children,s=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,p=this.state,h=p.startX,v=p.endX,g=p.isTextActive,y=p.isSlideMoving,x=p.isTravellerMoving,w=p.isTravellerFocused;if(!a||!a.length||!Le(s)||!Le(c)||!Le(u)||!Le(d)||u<=0||d<=0)return null;var N=gt("recharts-brush",i),_=q.Children.count(o)===1,b=roe("userSelect","none");return q.createElement(Nt,{className:N,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:b},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(h,v),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(v,"endX"),(g||y||x||w||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,o=n.width,s=n.height,c=n.stroke,u=Math.floor(i+s/2)-1;return q.createElement(q.Fragment,null,q.createElement("rect",{x:a,y:i,width:o,height:s,fill:c,stroke:"none"}),q.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),q.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return q.isValidElement(n)?i=q.cloneElement(n,a):at(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,o=n.width,s=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return kv({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:s,prevWidth:o},i&&i.length?uoe({data:i,width:o,x:s,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||s!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([s,s+o-c]);var p=a.scale.domain().map(function(h){return a.scale(h)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:s,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,o=0,s=i-1;s-o>1;){var c=Math.floor((o+s)/2);n[c]>a?s=c:o=c}return a>=n[s]?s:o}}])}(F.PureComponent);Cn(ac,"displayName","Brush");Cn(ac,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var doe=Ab;function foe(e,t){var r;return doe(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var hoe=foe,poe=s_,moe=Ia,goe=hoe,voe=rn,yoe=jc;function boe(e,t,r){var n=voe(e)?poe:goe;return r&&yoe(e,t,r)&&(t=void 0),n(e,moe(t))}var xoe=boe;const woe=wt(xoe);var li=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r};function joe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var Noe=joe,Soe=Ab;function _oe(e,t){var r=!0;return Soe(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var Aoe=_oe,Ooe=Noe,Poe=Aoe,Eoe=Ia,koe=rn,Toe=jc;function Coe(e,t,r){var n=koe(e)?Ooe:Poe;return r&&Toe(e,t,r)&&(t=void 0),n(e,Eoe(t))}var Loe=Coe;const D4=wt(Loe);var Moe=["x","y"];function Id(e){"@babel/helpers - typeof";return Id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Id(e)}function yy(){return yy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yy.apply(this,arguments)}function tN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ku(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tN(Object(r),!0).forEach(function(n){$oe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $oe(e,t,r){return t=Doe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Doe(e){var t=Ioe(e,"string");return Id(t)=="symbol"?t:t+""}function Ioe(e,t){if(Id(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Id(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Roe(e,t){if(e==null)return{};var r=Foe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Foe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Boe(e,t){var r=e.x,n=e.y,a=Roe(e,Moe),i="".concat(r),o=parseInt(i,10),s="".concat(n),c=parseInt(s,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),p=parseInt(f,10);return ku(ku(ku(ku(ku({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:p,name:t.name,radius:t.radius})}function rN(e){return q.createElement(k4,yy({shapeType:"rectangle",propTransformer:Boe,activeClassName:"recharts-active-bar"},e))}var qoe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=typeof n=="number";return i?t(n,a):(i||As(),r)}},zoe=["value","background"],I4;function ic(e){"@babel/helpers - typeof";return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ic(e)}function Uoe(e,t){if(e==null)return{};var r=Woe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Woe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Op(){return Op=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Op.apply(this,arguments)}function nN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nN(Object(r),!0).forEach(function(n){fo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Goe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,F4(n.key),n)}}function Hoe(e,t,r){return t&&aN(e.prototype,t),r&&aN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Voe(e,t,r){return t=Pp(t),Yoe(e,R4()?Reflect.construct(t,r||[],Pp(e).constructor):t.apply(e,r))}function Yoe(e,t){if(t&&(ic(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Koe(e)}function Koe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R4=function(){return!!e})()}function Pp(e){return Pp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pp(e)}function Xoe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&by(e,t)}function by(e,t){return by=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},by(e,t)}function fo(e,t,r){return t=F4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F4(e){var t=Joe(e,"string");return ic(t)=="symbol"?t:t+""}function Joe(e,t){if(ic(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ic(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var tf=function(e){function t(){var r;Goe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Voe(this,t,[].concat(a)),fo(r,"state",{isAnimationFinished:!1}),fo(r,"id",Lc("recharts-bar-")),fo(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),fo(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return Xoe(t,e),Hoe(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,o=i.shape,s=i.dataKey,c=i.activeIndex,u=i.activeBar,d=Xe(this.props,!1);return n&&n.map(function(f,p){var h=p===c,v=h?u:o,g=wr(wr(wr({},d),f),{},{isActive:h,option:v,index:p,dataKey:s,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return q.createElement(Nt,Op({className:"recharts-bar-rectangle"},Ns(a.props,f,p),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(p)}),q.createElement(rN,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,o=a.layout,s=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,p=this.state.prevData;return q.createElement(di,{begin:c,duration:u,isActive:s,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var v=h.t,g=i.map(function(y,x){var w=p&&p[x];if(w){var N=bn(w.x,y.x),_=bn(w.y,y.y),b=bn(w.width,y.width),A=bn(w.height,y.height);return wr(wr({},y),{},{x:N(v),y:_(v),width:b(v),height:A(v)})}if(o==="horizontal"){var O=bn(0,y.height),E=O(v);return wr(wr({},y),{},{y:y.y+y.height-E,height:E})}var C=bn(0,y.width),D=C(v);return wr(wr({},y),{},{width:D})});return q.createElement(Nt,null,n.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!xs(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,o=a.dataKey,s=a.activeIndex,c=Xe(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,p=Uoe(u,zoe);if(!f)return null;var h=wr(wr(wr(wr(wr({},p),{},{fill:"#eee"},f),c),Ns(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return q.createElement(rN,Op({key:"background-bar-".concat(d),option:n.props.background,isActive:d===s},h))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,s=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=ta(d,Rm);if(!f)return null;var p=u==="vertical"?o[0].height/2:o[0].width/2,h=function(y,x){var w=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:w,errorVal:Ar(y,x)}},v={clipPath:n?"url(#clipPath-".concat(a,")"):null};return q.createElement(Nt,v,f.map(function(g){return q.cloneElement(g,{key:"error-bar-".concat(a,"-").concat(g.props.dataKey),data:o,xAxis:s,yAxis:c,layout:u,offset:p,dataPointFormatter:h})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,o=n.className,s=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,p=n.height,h=n.isAnimationActive,v=n.background,g=n.id;if(a||!i||!i.length)return null;var y=this.state.isAnimationFinished,x=gt("recharts-bar",o),w=s&&s.allowDataOverflow,N=c&&c.allowDataOverflow,_=w||N,b=ht(g)?this.id:g;return q.createElement(Nt,{className:x},w||N?q.createElement("defs",null,q.createElement("clipPath",{id:"clipPath-".concat(b)},q.createElement("rect",{x:w?u:u-f/2,y:N?d:d-p/2,width:w?f:f*2,height:N?p:p*2}))):null,q.createElement(Nt,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(b,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,b),(!h||y)&&Mi.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(F.PureComponent);I4=tf;fo(tf,"displayName","Bar");fo(tf,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ks.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});fo(tf,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,s=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,p=e.offset,h=wte(n,r);if(!h)return null;var v=t.layout,g=r.type.defaultProps,y=g!==void 0?wr(wr({},g),r.props):r.props,x=y.dataKey,w=y.children,N=y.minPointSize,_=v==="horizontal"?o:i,b=u?_.scale.domain():null,A=Pte({numericAxis:_}),O=ta(w,Om),E=f.map(function(C,D){var k,T,$,I,H,V;u?k=jte(u[d+D],b):(k=Ar(C,x),Array.isArray(k)||(k=[A,k]));var X=qoe(N,I4.defaultProps.minPointSize)(k[1],D);if(v==="horizontal"){var Q,Y=[o.scale(k[0]),o.scale(k[1])],G=Y[0],ae=Y[1];T=K5({axis:i,ticks:s,bandSize:a,offset:h.offset,entry:C,index:D}),$=(Q=ae??G)!==null&&Q!==void 0?Q:void 0,I=h.size;var M=G-ae;if(H=Number.isNaN(M)?0:M,V={x:T,y:o.y,width:I,height:o.height},Math.abs(X)>0&&Math.abs(H)<Math.abs(X)){var z=un(H||X)*(Math.abs(X)-Math.abs(H));$-=z,H+=z}}else{var Z=[i.scale(k[0]),i.scale(k[1])],te=Z[0],ie=Z[1];if(T=te,$=K5({axis:o,ticks:c,bandSize:a,offset:h.offset,entry:C,index:D}),I=ie-te,H=h.size,V={x:i.x,y:$,width:i.width,height:H},Math.abs(X)>0&&Math.abs(I)<Math.abs(X)){var fe=un(I||X)*(Math.abs(X)-Math.abs(I));I+=fe}}return wr(wr(wr({},C),{},{x:T,y:$,width:I,height:H,value:u?k:k[1],payload:C,background:V},O&&O[D]&&O[D].props),{},{tooltipPayload:[f4(r,C)],tooltipPosition:{x:T+I/2,y:$+H/2}})});return wr({data:E,layout:v},p)});function Rd(e){"@babel/helpers - typeof";return Rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rd(e)}function Zoe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,B4(n.key),n)}}function Qoe(e,t,r){return t&&iN(e.prototype,t),r&&iN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function oN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Aa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oN(Object(r),!0).forEach(function(n){Hm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hm(e,t,r){return t=B4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B4(e){var t=ese(e,"string");return Rd(t)=="symbol"?t:t+""}function ese(e,t){if(Rd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tse=function(t,r,n,a,i){var o=t.width,s=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},p=!!Ln(u,tf);return d.reduce(function(h,v){var g=r[v],y=g.orientation,x=g.domain,w=g.padding,N=w===void 0?{}:w,_=g.mirror,b=g.reversed,A="".concat(y).concat(_?"Mirror":""),O,E,C,D,k;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var T=x[1]-x[0],$=1/0,I=g.categoricalDomain.sort(FH);if(I.forEach(function(Z,te){te>0&&($=Math.min((Z||0)-(I[te-1]||0),$))}),Number.isFinite($)){var H=$/T,V=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(O=H*V/2),g.padding==="no-gap"){var X=dn(t.barCategoryGap,H*V),Q=H*V/2;O=Q-X-(Q-X)/V*X}}}a==="xAxis"?E=[n.left+(N.left||0)+(O||0),n.left+n.width-(N.right||0)-(O||0)]:a==="yAxis"?E=c==="horizontal"?[n.top+n.height-(N.bottom||0),n.top+(N.top||0)]:[n.top+(N.top||0)+(O||0),n.top+n.height-(N.bottom||0)-(O||0)]:E=g.range,b&&(E=[E[1],E[0]]);var Y=l4(g,i,p),G=Y.scale,ae=Y.realScaleType;G.domain(x).range(E),c4(G);var M=u4(G,Aa(Aa({},g),{},{realScaleType:ae}));a==="xAxis"?(k=y==="top"&&!_||y==="bottom"&&_,C=n.left,D=f[A]-k*g.height):a==="yAxis"&&(k=y==="left"&&!_||y==="right"&&_,C=f[A]-k*g.width,D=n.top);var z=Aa(Aa(Aa({},g),M),{},{realScaleType:ae,x:C,y:D,scale:G,width:a==="xAxis"?n.width:g.width,height:a==="yAxis"?n.height:g.height});return z.bandSize=hp(z,M),!g.hide&&a==="xAxis"?f[A]+=(k?-1:1)*z.height:g.hide||(f[A]+=(k?-1:1)*z.width),Aa(Aa({},h),{},Hm({},v,z))},{})},q4=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(a,o),width:Math.abs(i-n),height:Math.abs(o-a)}},rse=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return q4({x:r,y:n},{x:a,y:i})},z4=function(){function e(t){Zoe(this,e),this.scale=t}return Qoe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();Hm(z4,"EPS",1e-4);var bx=function(t){var r=Object.keys(t).reduce(function(n,a){return Aa(Aa({},n),{},Hm({},a,z4.create(t[a])))},{});return Aa(Aa({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,s=i.position;return F_(a,function(c,u){return r[u].apply(c,{bandAware:o,position:s})})},isInRange:function(a){return D4(a,function(i,o){return r[o].isInRange(i)})}})};function nse(e){return(e%180+180)%180}var ase=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=nse(a),o=i*Math.PI/180,s=Math.atan(n/r),c=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},ise=Ia,ose=wc,sse=Pc;function lse(e){return function(t,r,n){var a=Object(t);if(!ose(t)){var i=ise(r);t=sse(t),r=function(s){return i(a[s],s,a)}}var o=e(t,r,n);return o>-1?a[i?t[o]:o]:void 0}}var cse=lse,use=cse,dse=E_,fse=use(dse),hse=fse;const pse=wt(hse);var mse=s7(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),xx=F.createContext(void 0),wx=F.createContext(void 0),U4=F.createContext(void 0),W4=F.createContext({}),G4=F.createContext(void 0),H4=F.createContext(0),V4=F.createContext(0),sN=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=t.clipPathId,s=t.children,c=t.width,u=t.height,d=mse(i);return q.createElement(xx.Provider,{value:n},q.createElement(wx.Provider,{value:a},q.createElement(W4.Provider,{value:i},q.createElement(U4.Provider,{value:d},q.createElement(G4.Provider,{value:o},q.createElement(H4.Provider,{value:u},q.createElement(V4.Provider,{value:c},s)))))))},gse=function(){return F.useContext(G4)},Y4=function(t){var r=F.useContext(xx);r==null&&As();var n=r[t];return n==null&&As(),n},vse=function(){var t=F.useContext(xx);return lo(t)},yse=function(){var t=F.useContext(wx),r=pse(t,function(n){return D4(n.domain,Number.isFinite)});return r||lo(t)},K4=function(t){var r=F.useContext(wx);r==null&&As();var n=r[t];return n==null&&As(),n},bse=function(){var t=F.useContext(U4);return t},xse=function(){return F.useContext(W4)},jx=function(){return F.useContext(V4)},Nx=function(){return F.useContext(H4)};function oc(e){"@babel/helpers - typeof";return oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oc(e)}function wse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jse(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,J4(n.key),n)}}function Nse(e,t,r){return t&&jse(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Sse(e,t,r){return t=Ep(t),_se(e,X4()?Reflect.construct(t,r||[],Ep(e).constructor):t.apply(e,r))}function _se(e,t){if(t&&(oc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ase(e)}function Ase(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(X4=function(){return!!e})()}function Ep(e){return Ep=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ep(e)}function Ose(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xy(e,t)}function xy(e,t){return xy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},xy(e,t)}function lN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lN(Object(r),!0).forEach(function(n){Sx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sx(e,t,r){return t=J4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J4(e){var t=Pse(e,"string");return oc(t)=="symbol"?t:t+""}function Pse(e,t){if(oc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(oc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Ese(e,t){return Lse(e)||Cse(e,t)||Tse(e,t)||kse()}function kse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tse(e,t){if(e){if(typeof e=="string")return uN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uN(e,t)}}function uN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Cse(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function Lse(e){if(Array.isArray(e))return e}function wy(){return wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wy.apply(this,arguments)}var Mse=function(t,r){var n;return q.isValidElement(t)?n=q.cloneElement(t,r):at(t)?n=t(r):n=q.createElement("line",wy({},r,{className:"recharts-reference-line-line"})),n},$se=function(t,r,n,a,i,o,s,c,u){var d=i.x,f=i.y,p=i.width,h=i.height;if(n){var v=u.y,g=t.y.apply(v,{position:o});if(li(u,"discard")&&!t.y.isInRange(g))return null;var y=[{x:d+p,y:g},{x:d,y:g}];return c==="left"?y.reverse():y}if(r){var x=u.x,w=t.x.apply(x,{position:o});if(li(u,"discard")&&!t.x.isInRange(w))return null;var N=[{x:w,y:f+h},{x:w,y:f}];return s==="top"?N.reverse():N}if(a){var _=u.segment,b=_.map(function(A){return t.apply(A,{position:o})});return li(u,"discard")&&woe(b,function(A){return!t.isInRange(A)})?null:b}return null};function Dse(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,s=e.className,c=e.alwaysShow,u=gse(),d=Y4(a),f=K4(i),p=bse();if(!u||!p)return null;Ta(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=bx({x:d.scale,y:f.scale}),v=Or(t),g=Or(r),y=n&&n.length===2,x=$se(h,v,g,y,p,e.position,d.orientation,f.orientation,e);if(!x)return null;var w=Ese(x,2),N=w[0],_=N.x,b=N.y,A=w[1],O=A.x,E=A.y,C=li(e,"hidden")?"url(#".concat(u,")"):void 0,D=cN(cN({clipPath:C},Xe(e,!0)),{},{x1:_,y1:b,x2:O,y2:E});return q.createElement(Nt,{className:gt("recharts-reference-line",s)},Mse(o,D),Dr.renderCallByParent(e,rse({x1:_,y1:b,x2:O,y2:E})))}var _x=function(e){function t(){return wse(this,t),Sse(this,t,arguments)}return Ose(t,e),Nse(t,[{key:"render",value:function(){return q.createElement(Dse,this.props)}}])}(q.Component);Sx(_x,"displayName","ReferenceLine");Sx(_x,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function jy(){return jy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jy.apply(this,arguments)}function sc(e){"@babel/helpers - typeof";return sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sc(e)}function dN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dN(Object(r),!0).forEach(function(n){Vm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ise(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rse(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Q4(n.key),n)}}function Fse(e,t,r){return t&&Rse(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bse(e,t,r){return t=kp(t),qse(e,Z4()?Reflect.construct(t,r||[],kp(e).constructor):t.apply(e,r))}function qse(e,t){if(t&&(sc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zse(e)}function zse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Z4=function(){return!!e})()}function kp(e){return kp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kp(e)}function Use(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ny(e,t)}function Ny(e,t){return Ny=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ny(e,t)}function Vm(e,t,r){return t=Q4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q4(e){var t=Wse(e,"string");return sc(t)=="symbol"?t:t+""}function Wse(e,t){if(sc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Gse=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,o=bx({x:a.scale,y:i.scale}),s=o.apply({x:r,y:n},{bandAware:!0});return li(t,"discard")&&!o.isInRange(s)?null:s},Ym=function(e){function t(){return Ise(this,t),Bse(this,t,arguments)}return Use(t,e),Fse(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,o=n.r,s=n.alwaysShow,c=n.clipPathId,u=Or(a),d=Or(i);if(Ta(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=Gse(this.props);if(!f)return null;var p=f.x,h=f.y,v=this.props,g=v.shape,y=v.className,x=li(this.props,"hidden")?"url(#".concat(c,")"):void 0,w=fN(fN({clipPath:x},Xe(this.props,!0)),{},{cx:p,cy:h});return q.createElement(Nt,{className:gt("recharts-reference-dot",y)},t.renderDot(g,w),Dr.renderCallByParent(this.props,{x:p-o,y:h-o,width:2*o,height:2*o}))}}])}(q.Component);Vm(Ym,"displayName","ReferenceDot");Vm(Ym,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Vm(Ym,"renderDot",function(e,t){var r;return q.isValidElement(e)?r=q.cloneElement(e,t):at(e)?r=e(t):r=q.createElement(Fm,jy({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Sy(){return Sy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sy.apply(this,arguments)}function lc(e){"@babel/helpers - typeof";return lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lc(e)}function hN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hN(Object(r),!0).forEach(function(n){Km(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vse(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tO(n.key),n)}}function Yse(e,t,r){return t&&Vse(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kse(e,t,r){return t=Tp(t),Xse(e,eO()?Reflect.construct(t,r||[],Tp(e).constructor):t.apply(e,r))}function Xse(e,t){if(t&&(lc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jse(e)}function Jse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eO=function(){return!!e})()}function Tp(e){return Tp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tp(e)}function Zse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_y(e,t)}function _y(e,t){return _y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},_y(e,t)}function Km(e,t,r){return t=tO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tO(e){var t=Qse(e,"string");return lc(t)=="symbol"?t:t+""}function Qse(e,t){if(lc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ele=function(t,r,n,a,i){var o=i.x1,s=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var p=bx({x:d.scale,y:f.scale}),h={x:t?p.x.apply(o,{position:"start"}):p.x.rangeMin,y:n?p.y.apply(c,{position:"start"}):p.y.rangeMin},v={x:r?p.x.apply(s,{position:"end"}):p.x.rangeMax,y:a?p.y.apply(u,{position:"end"}):p.y.rangeMax};return li(i,"discard")&&(!p.isInRange(h)||!p.isInRange(v))?null:q4(h,v)},Xm=function(e){function t(){return Hse(this,t),Kse(this,t,arguments)}return Zse(t,e),Yse(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,o=n.y1,s=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;Ta(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Or(a),p=Or(i),h=Or(o),v=Or(s),g=this.props.shape;if(!f&&!p&&!h&&!v&&!g)return null;var y=ele(f,p,h,v,this.props);if(!y&&!g)return null;var x=li(this.props,"hidden")?"url(#".concat(d,")"):void 0;return q.createElement(Nt,{className:gt("recharts-reference-area",c)},t.renderRect(g,pN(pN({clipPath:x},Xe(this.props,!0)),y)),Dr.renderCallByParent(this.props,y))}}])}(q.Component);Km(Xm,"displayName","ReferenceArea");Km(Xm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Km(Xm,"renderRect",function(e,t){var r;return q.isValidElement(e)?r=q.cloneElement(e,t):at(e)?r=e(t):r=q.createElement(yx,Sy({},t,{className:"recharts-reference-area-rect"})),r});function rO(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function tle(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return ase(n,r)}function rle(e,t,r){var n=r==="width",a=e.x,i=e.y,o=e.width,s=e.height;return t===1?{start:n?a:i,end:n?a+o:i+s}:{start:n?a+o:i+s,end:n?a:i}}function Cp(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function nle(e,t){return rO(e,t+1)}function ale(e,t,r,n,a){for(var i=(n||[]).slice(),o=t.start,s=t.end,c=0,u=1,d=o,f=function(){var v=n==null?void 0:n[c];if(v===void 0)return{v:rO(n,u)};var g=c,y,x=function(){return y===void 0&&(y=r(v,g)),y},w=v.coordinate,N=c===0||Cp(e,w,x,d,s);N||(c=0,d=o,u+=1),N&&(d=w+e*(x()/2+a),c+=u)},p;u<=i.length;)if(p=f(),p)return p.v;return[]}function Fd(e){"@babel/helpers - typeof";return Fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fd(e)}function mN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mN(Object(r),!0).forEach(function(n){ile(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ile(e,t,r){return t=ole(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ole(e){var t=sle(e,"string");return Fd(t)=="symbol"?t:t+""}function sle(e,t){if(Fd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lle(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,s=t.start,c=t.end,u=function(p){var h=i[p],v,g=function(){return v===void 0&&(v=r(h,p)),v};if(p===o-1){var y=e*(h.coordinate+e*g()/2-c);i[p]=h=Jr(Jr({},h),{},{tickCoord:y>0?h.coordinate-y*e:h.coordinate})}else i[p]=h=Jr(Jr({},h),{},{tickCoord:h.coordinate});var x=Cp(e,h.tickCoord,g,s,c);x&&(c=h.tickCoord-e*(g()/2+a),i[p]=Jr(Jr({},h),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function cle(e,t,r,n,a,i){var o=(n||[]).slice(),s=o.length,c=t.start,u=t.end;if(i){var d=n[s-1],f=r(d,s-1),p=e*(d.coordinate+e*f/2-u);o[s-1]=d=Jr(Jr({},d),{},{tickCoord:p>0?d.coordinate-p*e:d.coordinate});var h=Cp(e,d.tickCoord,function(){return f},c,u);h&&(u=d.tickCoord-e*(f/2+a),o[s-1]=Jr(Jr({},d),{},{isShow:!0}))}for(var v=i?s-1:s,g=function(w){var N=o[w],_,b=function(){return _===void 0&&(_=r(N,w)),_};if(w===0){var A=e*(N.coordinate-e*b()/2-c);o[w]=N=Jr(Jr({},N),{},{tickCoord:A<0?N.coordinate-A*e:N.coordinate})}else o[w]=N=Jr(Jr({},N),{},{tickCoord:N.coordinate});var O=Cp(e,N.tickCoord,b,c,u);O&&(c=N.tickCoord+e*(b()/2+a),o[w]=Jr(Jr({},N),{},{isShow:!0}))},y=0;y<v;y++)g(y);return o}function Ax(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,s=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(Le(c)||ks.isSsr)return nle(a,typeof c=="number"&&Le(c)?c:0);var p=[],h=s==="top"||s==="bottom"?"width":"height",v=d&&h==="width"?Du(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},g=function(N,_){var b=at(u)?u(N.value,_):N.value;return h==="width"?tle(Du(b,{fontSize:t,letterSpacing:r}),v,f):Du(b,{fontSize:t,letterSpacing:r})[h]},y=a.length>=2?un(a[1].coordinate-a[0].coordinate):1,x=rle(i,y,h);return c==="equidistantPreserveStart"?ale(y,x,g,a,o):(c==="preserveStart"||c==="preserveStartEnd"?p=cle(y,x,g,a,o,c==="preserveStartEnd"):p=lle(y,x,g,a,o),p.filter(function(w){return w.isShow}))}var ule=["viewBox"],dle=["viewBox"],fle=["ticks"];function cc(e){"@babel/helpers - typeof";return cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cc(e)}function _l(){return _l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_l.apply(this,arguments)}function gN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gN(Object(r),!0).forEach(function(n){Ox(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tv(e,t){if(e==null)return{};var r=hle(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hle(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ple(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aO(n.key),n)}}function mle(e,t,r){return t&&vN(e.prototype,t),r&&vN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function gle(e,t,r){return t=Lp(t),vle(e,nO()?Reflect.construct(t,r||[],Lp(e).constructor):t.apply(e,r))}function vle(e,t){if(t&&(cc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yle(e)}function yle(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nO=function(){return!!e})()}function Lp(e){return Lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lp(e)}function ble(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ay(e,t)}function Ay(e,t){return Ay=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ay(e,t)}function Ox(e,t,r){return t=aO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aO(e){var t=xle(e,"string");return cc(t)=="symbol"?t:t+""}function xle(e,t){if(cc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ic=function(e){function t(r){var n;return ple(this,t),n=gle(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return ble(t,e),mle(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,o=Tv(n,ule),s=this.props,c=s.viewBox,u=Tv(s,dle);return!Cl(i,c)||!Cl(o,u)||!Cl(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,o=a.y,s=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,p=a.tickMargin,h,v,g,y,x,w,N=f?-1:1,_=n.tickSize||d,b=Le(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":h=v=n.coordinate,y=o+ +!f*c,g=y-N*_,w=g-N*p,x=b;break;case"left":g=y=n.coordinate,v=i+ +!f*s,h=v-N*_,x=h-N*p,w=b;break;case"right":g=y=n.coordinate,v=i+ +f*s,h=v+N*_,x=h+N*p,w=b;break;default:h=v=n.coordinate,y=o+ +f*c,g=y+N*_,w=g+N*p,x=b;break}return{line:{x1:h,y1:g,x2:v,y2:y},tick:{x,y:w}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,s=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=sn(sn(sn({},Xe(this.props,!1)),Xe(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var p=+(c==="top"&&!u||c==="bottom"&&u);f=sn(sn({},f),{},{x1:a,y1:i+p*s,x2:a+o,y2:i+p*s})}else{var h=+(c==="left"&&!u||c==="right"&&u);f=sn(sn({},f),{},{x1:a+h*o,y1:i,x2:a+h*o,y2:i+s})}return q.createElement("line",_l({},f,{className:gt("recharts-cartesian-axis-line",In(d,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var o=this,s=this.props,c=s.tickLine,u=s.stroke,d=s.tick,f=s.tickFormatter,p=s.unit,h=Ax(sn(sn({},this.props),{},{ticks:n}),a,i),v=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),y=Xe(this.props,!1),x=Xe(d,!1),w=sn(sn({},y),{},{fill:"none"},Xe(c,!1)),N=h.map(function(_,b){var A=o.getTickLineCoord(_),O=A.line,E=A.tick,C=sn(sn(sn(sn({textAnchor:v,verticalAnchor:g},y),{},{stroke:"none",fill:u},x),E),{},{index:b,payload:_,visibleTicksCount:h.length,tickFormatter:f});return q.createElement(Nt,_l({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},Ns(o.props,_,b)),c&&q.createElement("line",_l({},w,O,{className:gt("recharts-cartesian-axis-tick-line",In(c,"className"))})),d&&t.renderTickItem(d,C,"".concat(at(f)?f(_.value,b):_.value).concat(p||"")))});return q.createElement("g",{className:"recharts-cartesian-axis-ticks"},N)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,o=a.width,s=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,p=f.ticks,h=Tv(f,fle),v=p;return at(c)&&(v=p&&p.length>0?c(this.props):c(h)),o<=0||s<=0||!v||!v.length?null:q.createElement(Nt,{className:gt("recharts-cartesian-axis",u),ref:function(y){n.layerReference=y}},i&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Dr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return q.isValidElement(n)?o=q.cloneElement(n,a):at(n)?o=n(a):o=q.createElement(Ss,_l({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(F.Component);Ox(Ic,"displayName","CartesianAxis");Ox(Ic,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var wle=["x1","y1","x2","y2","key"],jle=["offset"];function Os(e){"@babel/helpers - typeof";return Os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Os(e)}function yN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yN(Object(r),!0).forEach(function(n){Nle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nle(e,t,r){return t=Sle(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sle(e){var t=_le(e,"string");return Os(t)=="symbol"?t:t+""}function _le(e,t){if(Os(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Os(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ns(){return ns=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ns.apply(this,arguments)}function bN(e,t){if(e==null)return{};var r=Ale(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ale(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Ole=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,o=t.width,s=t.height,c=t.ry;return q.createElement("rect",{x:a,y:i,ry:c,width:o,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function iO(e,t){var r;if(q.isValidElement(e))r=q.cloneElement(e,t);else if(at(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,o=t.y2,s=t.key,c=bN(t,wle),u=Xe(c,!1);u.offset;var d=bN(u,jle);r=q.createElement("line",ns({},d,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:s}))}return r}function Ple(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(s,c){var u=Zr(Zr({},e),{},{x1:t,y1:s,x2:t+r,y2:s,key:"line-".concat(c),index:c});return iO(a,u)});return q.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Ele(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(s,c){var u=Zr(Zr({},e),{},{x1:s,y1:t,x2:s,y2:t+r,key:"line-".concat(c),index:c});return iO(a,u)});return q.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function kle(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,o=e.height,s=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=s.map(function(p){return Math.round(p+a-a)}).sort(function(p,h){return p-h});a!==d[0]&&d.unshift(0);var f=d.map(function(p,h){var v=!d[h+1],g=v?a+o-p:d[h+1]-p;if(g<=0)return null;var y=h%t.length;return q.createElement("rect",{key:"react-".concat(h),y:p,x:n,height:g,width:i,stroke:"none",fill:t[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return q.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Tle(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,s=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(p){return Math.round(p+i-i)}).sort(function(p,h){return p-h});i!==d[0]&&d.unshift(0);var f=d.map(function(p,h){var v=!d[h+1],g=v?i+s-p:d[h+1]-p;if(g<=0)return null;var y=h%n.length;return q.createElement("rect",{key:"react-".concat(h),x:p,y:o,width:g,height:c,stroke:"none",fill:n[y],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return q.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Cle=function(t,r){var n=t.xAxis,a=t.width,i=t.height,o=t.offset;return s4(Ax(Zr(Zr(Zr({},Ic.defaultProps),n),{},{ticks:Ti(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},Lle=function(t,r){var n=t.yAxis,a=t.width,i=t.height,o=t.offset;return s4(Ax(Zr(Zr(Zr({},Ic.defaultProps),n),{},{ticks:Ti(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},gl={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function oO(e){var t,r,n,a,i,o,s=jx(),c=Nx(),u=xse(),d=Zr(Zr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:gl.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:gl.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:gl.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:gl.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:gl.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:gl.verticalFill,x:Le(e.x)?e.x:u.left,y:Le(e.y)?e.y:u.top,width:Le(e.width)?e.width:u.width,height:Le(e.height)?e.height:u.height}),f=d.x,p=d.y,h=d.width,v=d.height,g=d.syncWithTicks,y=d.horizontalValues,x=d.verticalValues,w=vse(),N=yse();if(!Le(h)||h<=0||!Le(v)||v<=0||!Le(f)||f!==+f||!Le(p)||p!==+p)return null;var _=d.verticalCoordinatesGenerator||Cle,b=d.horizontalCoordinatesGenerator||Lle,A=d.horizontalPoints,O=d.verticalPoints;if((!A||!A.length)&&at(b)){var E=y&&y.length,C=b({yAxis:N?Zr(Zr({},N),{},{ticks:E?y:N.ticks}):void 0,width:s,height:c,offset:u},E?!0:g);Ta(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Os(C),"]")),Array.isArray(C)&&(A=C)}if((!O||!O.length)&&at(_)){var D=x&&x.length,k=_({xAxis:w?Zr(Zr({},w),{},{ticks:D?x:w.ticks}):void 0,width:s,height:c,offset:u},D?!0:g);Ta(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Os(k),"]")),Array.isArray(k)&&(O=k)}return q.createElement("g",{className:"recharts-cartesian-grid"},q.createElement(Ole,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),q.createElement(Ple,ns({},d,{offset:u,horizontalPoints:A,xAxis:w,yAxis:N})),q.createElement(Ele,ns({},d,{offset:u,verticalPoints:O,xAxis:w,yAxis:N})),q.createElement(kle,ns({},d,{horizontalPoints:A})),q.createElement(Tle,ns({},d,{verticalPoints:O})))}oO.displayName="CartesianGrid";var Mle=["layout","type","stroke","connectNulls","isRange","ref"],$le=["key"],sO;function uc(e){"@babel/helpers - typeof";return uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uc(e)}function lO(e,t){if(e==null)return{};var r=Dle(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Dle(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function as(){return as=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},as.apply(this,arguments)}function xN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xN(Object(r),!0).forEach(function(n){ri(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ile(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uO(n.key),n)}}function Rle(e,t,r){return t&&wN(e.prototype,t),r&&wN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fle(e,t,r){return t=Mp(t),Ble(e,cO()?Reflect.construct(t,r||[],Mp(e).constructor):t.apply(e,r))}function Ble(e,t){if(t&&(uc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qle(e)}function qle(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cO=function(){return!!e})()}function Mp(e){return Mp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mp(e)}function zle(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Oy(e,t)}function Oy(e,t){return Oy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Oy(e,t)}function ri(e,t,r){return t=uO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uO(e){var t=Ule(e,"string");return uc(t)=="symbol"?t:t+""}function Ule(e,t){if(uc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ao=function(e){function t(){var r;Ile(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Fle(this,t,[].concat(a)),ri(r,"state",{isAnimationFinished:!0}),ri(r,"id",Lc("recharts-area-")),ri(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),at(o)&&o()}),ri(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),at(o)&&o()}),r}return zle(t,e),Rle(t,[{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(o&&!s)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,p=Xe(this.props,!1),h=Xe(u,!0),v=d.map(function(y,x){var w=oo(oo(oo({key:"dot-".concat(x),r:3},p),h),{},{index:x,cx:y.x,cy:y.y,dataKey:f,value:y.value,payload:y.payload,points:d});return t.renderDotItem(u,w)}),g={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return q.createElement(Nt,as({className:"recharts-area-dots"},g),v)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,i=a.baseLine,o=a.points,s=a.strokeWidth,c=o[0].x,u=o[o.length-1].x,d=n*Math.abs(c-u),f=uo(o.map(function(p){return p.y||0}));return Le(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(uo(i.map(function(p){return p.y||0})),f)),Le(f)?q.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,i=a.baseLine,o=a.points,s=a.strokeWidth,c=o[0].y,u=o[o.length-1].y,d=n*Math.abs(c-u),f=uo(o.map(function(p){return p.x||0}));return Le(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(uo(i.map(function(p){return p.x||0})),f)),Le(f)?q.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(s?parseInt("".concat(s),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,i,o){var s=this.props,c=s.layout,u=s.type,d=s.stroke,f=s.connectNulls,p=s.isRange;s.ref;var h=lO(s,Mle);return q.createElement(Nt,{clipPath:i?"url(#clipPath-".concat(o,")"):null},q.createElement($l,as({},Xe(h,!0),{points:n,connectNulls:f,type:u,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&q.createElement($l,as({},Xe(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:n})),d!=="none"&&p&&q.createElement($l,as({},Xe(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var i=this,o=this.props,s=o.points,c=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,p=o.animationEasing,h=o.animationId,v=this.state,g=v.prevPoints,y=v.prevBaseLine;return q.createElement(di,{begin:d,duration:f,isActive:u,easing:p,from:{t:0},to:{t:1},key:"area-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var w=x.t;if(g){var N=g.length/s.length,_=s.map(function(E,C){var D=Math.floor(C*N);if(g[D]){var k=g[D],T=bn(k.x,E.x),$=bn(k.y,E.y);return oo(oo({},E),{},{x:T(w),y:$(w)})}return E}),b;if(Le(c)&&typeof c=="number"){var A=bn(y,c);b=A(w)}else if(ht(c)||Cc(c)){var O=bn(y,0);b=O(w)}else b=c.map(function(E,C){var D=Math.floor(C*N);if(y[D]){var k=y[D],T=bn(k.x,E.x),$=bn(k.y,E.y);return oo(oo({},E),{},{x:T(w),y:$(w)})}return E});return i.renderAreaStatically(_,b,n,a)}return q.createElement(Nt,null,q.createElement("defs",null,q.createElement("clipPath",{id:"animationClipPath-".concat(a)},i.renderClipRect(w))),q.createElement(Nt,{clipPath:"url(#animationClipPath-".concat(a,")")},i.renderAreaStatically(s,c,n,a)))})}},{key:"renderArea",value:function(n,a){var i=this.props,o=i.points,s=i.baseLine,c=i.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,p=u.totalLength;return c&&o&&o.length&&(!d&&p>0||!xs(d,o)||!xs(f,s))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(o,s,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,s=a.points,c=a.className,u=a.top,d=a.left,f=a.xAxis,p=a.yAxis,h=a.width,v=a.height,g=a.isAnimationActive,y=a.id;if(i||!s||!s.length)return null;var x=this.state.isAnimationFinished,w=s.length===1,N=gt("recharts-area",c),_=f&&f.allowDataOverflow,b=p&&p.allowDataOverflow,A=_||b,O=ht(y)?this.id:y,E=(n=Xe(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},C=E.r,D=C===void 0?3:C,k=E.strokeWidth,T=k===void 0?2:k,$=YH(o)?o:{},I=$.clipDot,H=I===void 0?!0:I,V=D*2+T;return q.createElement(Nt,{className:N},_||b?q.createElement("defs",null,q.createElement("clipPath",{id:"clipPath-".concat(O)},q.createElement("rect",{x:_?d:d-h/2,y:b?u:u-v/2,width:_?h:h*2,height:b?v:v*2})),!H&&q.createElement("clipPath",{id:"clipPath-dots-".concat(O)},q.createElement("rect",{x:d-V/2,y:u-V/2,width:h+V,height:v+V}))):null,w?null:this.renderArea(A,O),(o||w)&&this.renderDots(A,H,O),(!g||x)&&Mi.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(F.PureComponent);sO=Ao;ri(Ao,"displayName","Area");ri(Ao,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!ks.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});ri(Ao,"getBaseValue",function(e,t,r,n){var a=e.layout,i=e.baseValue,o=t.props.baseValue,s=o??i;if(Le(s)&&typeof s=="number")return s;var c=a==="horizontal"?n:r,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return s==="dataMin"?f:s==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return s==="dataMin"?u[0]:s==="dataMax"?u[1]:u[0]});ri(Ao,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,a=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,s=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,p=e.offset,h=t.layout,v=u&&u.length,g=sO.getBaseValue(t,r,n,a),y=h==="horizontal",x=!1,w=f.map(function(_,b){var A;v?A=u[d+b]:(A=Ar(_,c),Array.isArray(A)?x=!0:A=[g,A]);var O=A[1]==null||v&&Ar(_,c)==null;return y?{x:Y5({axis:n,ticks:i,bandSize:s,entry:_,index:b}),y:O?null:a.scale(A[1]),value:A,payload:_}:{x:O?null:n.scale(A[1]),y:Y5({axis:a,ticks:o,bandSize:s,entry:_,index:b}),value:A,payload:_}}),N;return v||x?N=w.map(function(_){var b=Array.isArray(_.value)?_.value[0]:null;return y?{x:_.x,y:b!=null&&_.y!=null?a.scale(b):null}:{x:b!=null?n.scale(b):null,y:_.y}}):N=y?a.scale(g):n.scale(g),oo({points:w,baseLine:N,layout:h,isRange:x},p)});ri(Ao,"renderDotItem",function(e,t){var r;if(q.isValidElement(e))r=q.cloneElement(e,t);else if(at(e))r=e(t);else{var n=gt("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,i=lO(t,$le);r=q.createElement(Fm,as({},i,{key:a,className:n}))}return r});function dc(e){"@babel/helpers - typeof";return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dc(e)}function Wle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gle(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hO(n.key),n)}}function Hle(e,t,r){return t&&Gle(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vle(e,t,r){return t=$p(t),Yle(e,dO()?Reflect.construct(t,r||[],$p(e).constructor):t.apply(e,r))}function Yle(e,t){if(t&&(dc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kle(e)}function Kle(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dO=function(){return!!e})()}function $p(e){return $p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$p(e)}function Xle(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Py(e,t)}function Py(e,t){return Py=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Py(e,t)}function fO(e,t,r){return t=hO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hO(e){var t=Jle(e,"string");return dc(t)=="symbol"?t:t+""}function Jle(e,t){if(dc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Ey(){return Ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ey.apply(this,arguments)}function Zle(e){var t=e.xAxisId,r=jx(),n=Nx(),a=Y4(t);return a==null?null:q.createElement(Ic,Ey({},a,{className:gt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Ti(o,!0)}}))}var Jm=function(e){function t(){return Wle(this,t),Vle(this,t,arguments)}return Xle(t,e),Hle(t,[{key:"render",value:function(){return q.createElement(Zle,this.props)}}])}(q.Component);fO(Jm,"displayName","XAxis");fO(Jm,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function fc(e){"@babel/helpers - typeof";return fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fc(e)}function Qle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ece(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gO(n.key),n)}}function tce(e,t,r){return t&&ece(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rce(e,t,r){return t=Dp(t),nce(e,pO()?Reflect.construct(t,r||[],Dp(e).constructor):t.apply(e,r))}function nce(e,t){if(t&&(fc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ace(e)}function ace(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pO=function(){return!!e})()}function Dp(e){return Dp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dp(e)}function ice(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ky(e,t)}function ky(e,t){return ky=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ky(e,t)}function mO(e,t,r){return t=gO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gO(e){var t=oce(e,"string");return fc(t)=="symbol"?t:t+""}function oce(e,t){if(fc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Ty(){return Ty=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ty.apply(this,arguments)}var sce=function(t){var r=t.yAxisId,n=jx(),a=Nx(),i=K4(r);return i==null?null:q.createElement(Ic,Ty({},i,{className:gt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(s){return Ti(s,!0)}}))},Zm=function(e){function t(){return Qle(this,t),rce(this,t,arguments)}return ice(t,e),tce(t,[{key:"render",value:function(){return q.createElement(sce,this.props)}}])}(q.Component);mO(Zm,"displayName","YAxis");mO(Zm,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function jN(e){return dce(e)||uce(e)||cce(e)||lce()}function lce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cce(e,t){if(e){if(typeof e=="string")return Cy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Cy(e,t)}}function uce(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dce(e){if(Array.isArray(e))return Cy(e)}function Cy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ly=function(t,r,n,a,i){var o=ta(t,_x),s=ta(t,Ym),c=[].concat(jN(o),jN(s)),u=ta(t,Xm),d="".concat(a,"Id"),f=a[0],p=r;if(c.length&&(p=c.reduce(function(g,y){if(y.props[d]===n&&li(y.props,"extendDomain")&&Le(y.props[f])){var x=y.props[f];return[Math.min(g[0],x),Math.max(g[1],x)]}return g},p)),u.length){var h="".concat(f,"1"),v="".concat(f,"2");p=u.reduce(function(g,y){if(y.props[d]===n&&li(y.props,"extendDomain")&&Le(y.props[h])&&Le(y.props[v])){var x=y.props[h],w=y.props[v];return[Math.min(g[0],x,w),Math.max(g[1],x,w)]}return g},p)}return i&&i.length&&(p=i.reduce(function(g,y){return Le(y)?[Math.min(g[0],y),Math.max(g[1],y)]:g},p)),p},vO={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var h=new a(d,f||c,p),v=r?r+u:u;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],h]:c._events[v].push(h):(c._events[v]=h,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},s.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,h=f.length,v=new Array(h);p<h;p++)v[p]=f[p].fn;return v},s.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,d,f,p,h,v){var g=r?r+u:u;if(!this._events[g])return!1;var y=this._events[g],x=arguments.length,w,N;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),x){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,p),!0;case 5:return y.fn.call(y.context,d,f,p,h),!0;case 6:return y.fn.call(y.context,d,f,p,h,v),!0}for(N=1,w=new Array(x-1);N<x;N++)w[N-1]=arguments[N];y.fn.apply(y.context,w)}else{var _=y.length,b;for(N=0;N<_;N++)switch(y[N].once&&this.removeListener(u,y[N].fn,void 0,!0),x){case 1:y[N].fn.call(y[N].context);break;case 2:y[N].fn.call(y[N].context,d);break;case 3:y[N].fn.call(y[N].context,d,f);break;case 4:y[N].fn.call(y[N].context,d,f,p);break;default:if(!w)for(b=1,w=new Array(x-1);b<x;b++)w[b-1]=arguments[b];y[N].fn.apply(y[N].context,w)}}return!0},s.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},s.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},s.prototype.removeListener=function(u,d,f,p){var h=r?r+u:u;if(!this._events[h])return this;if(!d)return o(this,h),this;var v=this._events[h];if(v.fn)v.fn===d&&(!p||v.once)&&(!f||v.context===f)&&o(this,h);else{for(var g=0,y=[],x=v.length;g<x;g++)(v[g].fn!==d||p&&!v[g].once||f&&v[g].context!==f)&&y.push(v[g]);y.length?this._events[h]=y.length===1?y[0]:y:o(this,h)}return this},s.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(vO);var fce=vO.exports;const hce=wt(fce);var Cv=new hce,Lv="recharts.syncMouseEvents";function Bd(e){"@babel/helpers - typeof";return Bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bd(e)}function pce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mce(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yO(n.key),n)}}function gce(e,t,r){return t&&mce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mv(e,t,r){return t=yO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yO(e){var t=vce(e,"string");return Bd(t)=="symbol"?t:t+""}function vce(e,t){if(Bd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var yce=function(){function e(){pce(this,e),Mv(this,"activeIndex",0),Mv(this,"coordinateList",[]),Mv(this,"layout","horizontal")}return gce(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,o=r.container,s=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,p=r.mouseHandlerCallback,h=p===void 0?null:p;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,s=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,p=o+this.offset.top+s/2+d;this.mouseHandlerCallback({pageX:f,pageY:p})}}}])}();function bce(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&Le(n)&&Le(a))return!0}return!1}function xce(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function bO(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,o=Yt(t,r,n,a),s=Yt(t,r,n,i);return{points:[o,s],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function wce(e,t,r){var n,a,i,o;if(e==="horizontal")n=t.x,i=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var s=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,p=Yt(s,c,u,f),h=Yt(s,c,d,f);n=p.x,a=p.y,i=h.x,o=h.y}else return bO(t);return[{x:n,y:a},{x:i,y:o}]}function qd(e){"@babel/helpers - typeof";return qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qd(e)}function NN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NN(Object(r),!0).forEach(function(n){jce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jce(e,t,r){return t=Nce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nce(e){var t=Sce(e,"string");return qd(t)=="symbol"?t:t+""}function Sce(e,t){if(qd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _ce(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,s=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,p=e.chartName,h=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!h||!i||!o||p!=="ScatterChart"&&a!=="axis")return null;var v,g=$l;if(p==="ScatterChart")v=o,g=Iae;else if(p==="BarChart")v=xce(f,o,c,d),g=yx;else if(f==="radial"){var y=bO(o),x=y.cx,w=y.cy,N=y.radius,_=y.startAngle,b=y.endAngle;v={cx:x,cy:w,startAngle:_,endAngle:b,innerRadius:N,outerRadius:N},g=y4}else v={points:wce(f,o,c)},g=$l;var A=hh(hh(hh(hh({stroke:"#ccc",pointerEvents:"none"},c),v),Xe(h,!1)),{},{payload:s,payloadIndex:u,className:gt("recharts-tooltip-cursor",h.className)});return F.isValidElement(h)?F.cloneElement(h,A):F.createElement(g,A)}var Ace=["item"],Oce=["children","className","width","height","style","compact","title","desc"];function hc(e){"@babel/helpers - typeof";return hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hc(e)}function Al(){return Al=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Al.apply(this,arguments)}function SN(e,t){return kce(e)||Ece(e,t)||wO(e,t)||Pce()}function Pce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ece(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function kce(e){if(Array.isArray(e))return e}function _N(e,t){if(e==null)return{};var r=Tce(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Tce(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Cce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lce(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jO(n.key),n)}}function Mce(e,t,r){return t&&Lce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $ce(e,t,r){return t=Ip(t),Dce(e,xO()?Reflect.construct(t,r||[],Ip(e).constructor):t.apply(e,r))}function Dce(e,t){if(t&&(hc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ice(e)}function Ice(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xO=function(){return!!e})()}function Ip(e){return Ip=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ip(e)}function Rce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&My(e,t)}function My(e,t){return My=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},My(e,t)}function pc(e){return qce(e)||Bce(e)||wO(e)||Fce()}function Fce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wO(e,t){if(e){if(typeof e=="string")return $y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $y(e,t)}}function Bce(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qce(e){if(Array.isArray(e))return $y(e)}function $y(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function AN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ne(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AN(Object(r),!0).forEach(function(n){et(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function et(e,t,r){return t=jO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jO(e){var t=zce(e,"string");return hc(t)=="symbol"?t:t+""}function zce(e,t){if(hc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Uce={xAxis:["bottom","top"],yAxis:["left","right"]},Wce={width:"100%",height:"100%"},NO={x:0,y:0};function ph(e){return e}var Gce=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},Hce=function(t,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,s=a.radius;return Ne(Ne(Ne({},a),Yt(a.cx,a.cy,s,o)),{},{angle:o,radius:s})}var c=i.coordinate,u=a.angle;return Ne(Ne(Ne({},a),Yt(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return NO},Qm=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(s,c){var u=c.props.data;return u&&u.length?[].concat(pc(s),pc(u)):s},[]);return o.length>0?o:t&&t.length&&Le(a)&&Le(i)?t.slice(a,i+1):[]};function SO(e){return e==="number"?[0,"auto"]:void 0}var Dy=function(t,r,n,a){var i=t.graphicalItems,o=t.tooltipAxis,s=Qm(r,t);return n<0||!i||!i.length||n>=s.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var p;if(o.dataKey&&!o.allowDuplicatedCategory){var h=f===void 0?s:f;p=zh(h,o.dataKey,a)}else p=f&&f[n]||s[n];return p?[].concat(pc(c),[f4(u,p)]):c},[])},ON=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},o=Gce(i,n),s=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=mte(o,s,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,p=Dy(t,r,d,f),h=Hce(n,s,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:p,activeCoordinate:h}}return null},Vce=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,s=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,p=t.stackOffset,h=o4(d,i);return n.reduce(function(v,g){var y,x=g.type.defaultProps!==void 0?Ne(Ne({},g.type.defaultProps),g.props):g.props,w=x.type,N=x.dataKey,_=x.allowDataOverflow,b=x.allowDuplicatedCategory,A=x.scale,O=x.ticks,E=x.includeHidden,C=x[o];if(v[C])return v;var D=Qm(t.data,{graphicalItems:a.filter(function(M){var z,Z=o in M.props?M.props[o]:(z=M.type.defaultProps)===null||z===void 0?void 0:z[o];return Z===C}),dataStartIndex:c,dataEndIndex:u}),k=D.length,T,$,I;bce(x.domain,_,w)&&(T=J0(x.domain,null,_),h&&(w==="number"||A!=="auto")&&(I=Ru(D,N,"category")));var H=SO(w);if(!T||T.length===0){var V,X=(V=x.domain)!==null&&V!==void 0?V:H;if(N){if(T=Ru(D,N,w),w==="category"&&h){var Q=RH(T);b&&Q?($=T,T=ad(0,k)):b||(T=Z5(X,T,g).reduce(function(M,z){return M.indexOf(z)>=0?M:[].concat(pc(M),[z])},[]))}else if(w==="category")b?T=T.filter(function(M){return M!==""&&!ht(M)}):T=Z5(X,T,g).reduce(function(M,z){return M.indexOf(z)>=0||z===""||ht(z)?M:[].concat(pc(M),[z])},[]);else if(w==="number"){var Y=xte(D,a.filter(function(M){var z,Z,te=o in M.props?M.props[o]:(z=M.type.defaultProps)===null||z===void 0?void 0:z[o],ie="hide"in M.props?M.props.hide:(Z=M.type.defaultProps)===null||Z===void 0?void 0:Z.hide;return te===C&&(E||!ie)}),N,i,d);Y&&(T=Y)}h&&(w==="number"||A!=="auto")&&(I=Ru(D,N,"category"))}else h?T=ad(0,k):s&&s[C]&&s[C].hasStack&&w==="number"?T=p==="expand"?[0,1]:d4(s[C].stackGroups,c,u):T=i4(D,a.filter(function(M){var z=o in M.props?M.props[o]:M.type.defaultProps[o],Z="hide"in M.props?M.props.hide:M.type.defaultProps.hide;return z===C&&(E||!Z)}),w,d,!0);if(w==="number")T=Ly(f,T,C,i,O),X&&(T=J0(X,T,_));else if(w==="category"&&X){var G=X,ae=T.every(function(M){return G.indexOf(M)>=0});ae&&(T=G)}}return Ne(Ne({},v),{},et({},C,Ne(Ne({},x),{},{axisType:i,domain:T,categoricalDomain:I,duplicateDomain:$,originalDomain:(y=x.domain)!==null&&y!==void 0?y:H,isCategorical:h,layout:d})))},{})},Yce=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,s=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,p=Qm(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),h=p.length,v=o4(d,i),g=-1;return n.reduce(function(y,x){var w=x.type.defaultProps!==void 0?Ne(Ne({},x.type.defaultProps),x.props):x.props,N=w[o],_=SO("number");if(!y[N]){g++;var b;return v?b=ad(0,h):s&&s[N]&&s[N].hasStack?(b=d4(s[N].stackGroups,c,u),b=Ly(f,b,N,i)):(b=J0(_,i4(p,n.filter(function(A){var O,E,C=o in A.props?A.props[o]:(O=A.type.defaultProps)===null||O===void 0?void 0:O[o],D="hide"in A.props?A.props.hide:(E=A.type.defaultProps)===null||E===void 0?void 0:E.hide;return C===N&&!D}),"number",d),a.defaultProps.allowDataOverflow),b=Ly(f,b,N,i)),Ne(Ne({},y),{},et({},N,Ne(Ne({axisType:i},a.defaultProps),{},{hide:!0,orientation:In(Uce,"".concat(i,".").concat(g%2),null),domain:b,originalDomain:_,isCategorical:v,layout:d})))}return y},{})},Kce=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,s=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),p=ta(d,i),h={};return p&&p.length?h=Vce(t,{axes:p,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:s,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(h=Yce(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:s,dataStartIndex:c,dataEndIndex:u})),h},Xce=function(t){var r=lo(t),n=Ti(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:nm(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:hp(r,n)}},PN=function(t){var r=t.children,n=t.defaultShowTooltip,a=Ln(r,ac),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},Jce=function(t){return!t||!t.length?!1:t.some(function(r){var n=Ci(r&&r.type);return n&&n.indexOf("Bar")>=0})},EN=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Zce=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,s=t.yAxisMap,c=s===void 0?{}:s,u=n.width,d=n.height,f=n.children,p=n.margin||{},h=Ln(f,ac),v=Ln(f,ls),g=Object.keys(c).reduce(function(b,A){var O=c[A],E=O.orientation;return!O.mirror&&!O.hide?Ne(Ne({},b),{},et({},E,b[E]+O.width)):b},{left:p.left||0,right:p.right||0}),y=Object.keys(o).reduce(function(b,A){var O=o[A],E=O.orientation;return!O.mirror&&!O.hide?Ne(Ne({},b),{},et({},E,In(b,"".concat(E))+O.height)):b},{top:p.top||0,bottom:p.bottom||0}),x=Ne(Ne({},y),g),w=x.bottom;h&&(x.bottom+=h.props.height||ac.defaultProps.height),v&&r&&(x=yte(x,a,n,r));var N=u-x.left-x.right,_=d-x.top-x.bottom;return Ne(Ne({brushBottom:w},x),{},{width:Math.max(N,0),height:Math.max(_,0)})},Qce=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},_O=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,s=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,p=function(x,w){var N=w.graphicalItems,_=w.stackGroups,b=w.offset,A=w.updateId,O=w.dataStartIndex,E=w.dataEndIndex,C=x.barSize,D=x.layout,k=x.barGap,T=x.barCategoryGap,$=x.maxBarSize,I=EN(D),H=I.numericAxisName,V=I.cateAxisName,X=Jce(N),Q=[];return N.forEach(function(Y,G){var ae=Qm(x.data,{graphicalItems:[Y],dataStartIndex:O,dataEndIndex:E}),M=Y.type.defaultProps!==void 0?Ne(Ne({},Y.type.defaultProps),Y.props):Y.props,z=M.dataKey,Z=M.maxBarSize,te=M["".concat(H,"Id")],ie=M["".concat(V,"Id")],fe={},de=c.reduce(function(De,Me){var Ve=w["".concat(Me.axisType,"Map")],Ze=M["".concat(Me.axisType,"Id")];Ve&&Ve[Ze]||Me.axisType==="zAxis"||As();var it=Ve[Ze];return Ne(Ne({},De),{},et(et({},Me.axisType,it),"".concat(Me.axisType,"Ticks"),Ti(it)))},fe),oe=de[V],xe=de["".concat(V,"Ticks")],be=_&&_[te]&&_[te].hasStack&&Ete(Y,_[te].stackGroups),pe=Ci(Y.type).indexOf("Bar")>=0,Ee=hp(oe,xe),$e=[],ye=X&&gte({barSize:C,stackGroups:_,totalSize:Qce(de,V)});if(pe){var ne,Ye,Be=ht(Z)?$:Z,ke=(ne=(Ye=hp(oe,xe,!0))!==null&&Ye!==void 0?Ye:Be)!==null&&ne!==void 0?ne:0;$e=vte({barGap:k,barCategoryGap:T,bandSize:ke!==Ee?ke:Ee,sizeList:ye[ie],maxBarSize:Be}),ke!==Ee&&($e=$e.map(function(De){return Ne(Ne({},De),{},{position:Ne(Ne({},De.position),{},{offset:De.position.offset-ke/2})})}))}var Ce=Y&&Y.type&&Y.type.getComposedData;Ce&&Q.push({props:Ne(Ne({},Ce(Ne(Ne({},de),{},{displayedData:ae,props:x,dataKey:z,item:Y,bandSize:Ee,barPosition:$e,offset:b,stackedData:be,layout:D,dataStartIndex:O,dataEndIndex:E}))),{},et(et(et({key:Y.key||"item-".concat(G)},H,de[H]),V,de[V]),"animationId",A)),childIndex:JH(Y,x.children),item:Y})}),Q},h=function(x,w){var N=x.props,_=x.dataStartIndex,b=x.dataEndIndex,A=x.updateId;if(!yw({props:N}))return null;var O=N.children,E=N.layout,C=N.stackOffset,D=N.data,k=N.reverseStackOrder,T=EN(E),$=T.numericAxisName,I=T.cateAxisName,H=ta(O,n),V=Ote(D,H,"".concat($,"Id"),"".concat(I,"Id"),C,k),X=c.reduce(function(M,z){var Z="".concat(z.axisType,"Map");return Ne(Ne({},M),{},et({},Z,Kce(N,Ne(Ne({},z),{},{graphicalItems:H,stackGroups:z.axisType===$&&V,dataStartIndex:_,dataEndIndex:b}))))},{}),Q=Zce(Ne(Ne({},X),{},{props:N,graphicalItems:H}),w==null?void 0:w.legendBBox);Object.keys(X).forEach(function(M){X[M]=d(N,X[M],Q,M.replace("Map",""),r)});var Y=X["".concat(I,"Map")],G=Xce(Y),ae=p(N,Ne(Ne({},X),{},{dataStartIndex:_,dataEndIndex:b,updateId:A,graphicalItems:H,stackGroups:V,offset:Q}));return Ne(Ne({formattedGraphicalItems:ae,graphicalItems:H,offset:Q,stackGroups:V},G),X)},v=function(y){function x(w){var N,_,b;return Cce(this,x),b=$ce(this,x,[w]),et(b,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),et(b,"accessibilityManager",new yce),et(b,"handleLegendBBoxUpdate",function(A){if(A){var O=b.state,E=O.dataStartIndex,C=O.dataEndIndex,D=O.updateId;b.setState(Ne({legendBBox:A},h({props:b.props,dataStartIndex:E,dataEndIndex:C,updateId:D},Ne(Ne({},b.state),{},{legendBBox:A}))))}}),et(b,"handleReceiveSyncEvent",function(A,O,E){if(b.props.syncId===A){if(E===b.eventEmitterSymbol&&typeof b.props.syncMethod!="function")return;b.applySyncEvent(O)}}),et(b,"handleBrushChange",function(A){var O=A.startIndex,E=A.endIndex;if(O!==b.state.dataStartIndex||E!==b.state.dataEndIndex){var C=b.state.updateId;b.setState(function(){return Ne({dataStartIndex:O,dataEndIndex:E},h({props:b.props,dataStartIndex:O,dataEndIndex:E,updateId:C},b.state))}),b.triggerSyncEvent({dataStartIndex:O,dataEndIndex:E})}}),et(b,"handleMouseEnter",function(A){var O=b.getMouseInfo(A);if(O){var E=Ne(Ne({},O),{},{isTooltipActive:!0});b.setState(E),b.triggerSyncEvent(E);var C=b.props.onMouseEnter;at(C)&&C(E,A)}}),et(b,"triggeredAfterMouseMove",function(A){var O=b.getMouseInfo(A),E=O?Ne(Ne({},O),{},{isTooltipActive:!0}):{isTooltipActive:!1};b.setState(E),b.triggerSyncEvent(E);var C=b.props.onMouseMove;at(C)&&C(E,A)}),et(b,"handleItemMouseEnter",function(A){b.setState(function(){return{isTooltipActive:!0,activeItem:A,activePayload:A.tooltipPayload,activeCoordinate:A.tooltipPosition||{x:A.cx,y:A.cy}}})}),et(b,"handleItemMouseLeave",function(){b.setState(function(){return{isTooltipActive:!1}})}),et(b,"handleMouseMove",function(A){A.persist(),b.throttleTriggeredAfterMouseMove(A)}),et(b,"handleMouseLeave",function(A){b.throttleTriggeredAfterMouseMove.cancel();var O={isTooltipActive:!1};b.setState(O),b.triggerSyncEvent(O);var E=b.props.onMouseLeave;at(E)&&E(O,A)}),et(b,"handleOuterEvent",function(A){var O=XH(A),E=In(b.props,"".concat(O));if(O&&at(E)){var C,D;/.*touch.*/i.test(O)?D=b.getMouseInfo(A.changedTouches[0]):D=b.getMouseInfo(A),E((C=D)!==null&&C!==void 0?C:{},A)}}),et(b,"handleClick",function(A){var O=b.getMouseInfo(A);if(O){var E=Ne(Ne({},O),{},{isTooltipActive:!0});b.setState(E),b.triggerSyncEvent(E);var C=b.props.onClick;at(C)&&C(E,A)}}),et(b,"handleMouseDown",function(A){var O=b.props.onMouseDown;if(at(O)){var E=b.getMouseInfo(A);O(E,A)}}),et(b,"handleMouseUp",function(A){var O=b.props.onMouseUp;if(at(O)){var E=b.getMouseInfo(A);O(E,A)}}),et(b,"handleTouchMove",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&b.throttleTriggeredAfterMouseMove(A.changedTouches[0])}),et(b,"handleTouchStart",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&b.handleMouseDown(A.changedTouches[0])}),et(b,"handleTouchEnd",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&b.handleMouseUp(A.changedTouches[0])}),et(b,"handleDoubleClick",function(A){var O=b.props.onDoubleClick;if(at(O)){var E=b.getMouseInfo(A);O(E,A)}}),et(b,"handleContextMenu",function(A){var O=b.props.onContextMenu;if(at(O)){var E=b.getMouseInfo(A);O(E,A)}}),et(b,"triggerSyncEvent",function(A){b.props.syncId!==void 0&&Cv.emit(Lv,b.props.syncId,A,b.eventEmitterSymbol)}),et(b,"applySyncEvent",function(A){var O=b.props,E=O.layout,C=O.syncMethod,D=b.state.updateId,k=A.dataStartIndex,T=A.dataEndIndex;if(A.dataStartIndex!==void 0||A.dataEndIndex!==void 0)b.setState(Ne({dataStartIndex:k,dataEndIndex:T},h({props:b.props,dataStartIndex:k,dataEndIndex:T,updateId:D},b.state)));else if(A.activeTooltipIndex!==void 0){var $=A.chartX,I=A.chartY,H=A.activeTooltipIndex,V=b.state,X=V.offset,Q=V.tooltipTicks;if(!X)return;if(typeof C=="function")H=C(Q,A);else if(C==="value"){H=-1;for(var Y=0;Y<Q.length;Y++)if(Q[Y].value===A.activeLabel){H=Y;break}}var G=Ne(Ne({},X),{},{x:X.left,y:X.top}),ae=Math.min($,G.x+G.width),M=Math.min(I,G.y+G.height),z=Q[H]&&Q[H].value,Z=Dy(b.state,b.props.data,H),te=Q[H]?{x:E==="horizontal"?Q[H].coordinate:ae,y:E==="horizontal"?M:Q[H].coordinate}:NO;b.setState(Ne(Ne({},A),{},{activeLabel:z,activeCoordinate:te,activePayload:Z,activeTooltipIndex:H}))}else b.setState(A)}),et(b,"renderCursor",function(A){var O,E=b.state,C=E.isTooltipActive,D=E.activeCoordinate,k=E.activePayload,T=E.offset,$=E.activeTooltipIndex,I=E.tooltipAxisBandSize,H=b.getTooltipEventType(),V=(O=A.props.active)!==null&&O!==void 0?O:C,X=b.props.layout,Q=A.key||"_recharts-cursor";return q.createElement(_ce,{key:Q,activeCoordinate:D,activePayload:k,activeTooltipIndex:$,chartName:r,element:A,isActive:V,layout:X,offset:T,tooltipAxisBandSize:I,tooltipEventType:H})}),et(b,"renderPolarAxis",function(A,O,E){var C=In(A,"type.axisType"),D=In(b.state,"".concat(C,"Map")),k=A.type.defaultProps,T=k!==void 0?Ne(Ne({},k),A.props):A.props,$=D&&D[T["".concat(C,"Id")]];return F.cloneElement(A,Ne(Ne({},$),{},{className:gt(C,$.className),key:A.key||"".concat(O,"-").concat(E),ticks:Ti($,!0)}))}),et(b,"renderPolarGrid",function(A){var O=A.props,E=O.radialLines,C=O.polarAngles,D=O.polarRadius,k=b.state,T=k.radiusAxisMap,$=k.angleAxisMap,I=lo(T),H=lo($),V=H.cx,X=H.cy,Q=H.innerRadius,Y=H.outerRadius;return F.cloneElement(A,{polarAngles:Array.isArray(C)?C:Ti(H,!0).map(function(G){return G.coordinate}),polarRadius:Array.isArray(D)?D:Ti(I,!0).map(function(G){return G.coordinate}),cx:V,cy:X,innerRadius:Q,outerRadius:Y,key:A.key||"polar-grid",radialLines:E})}),et(b,"renderLegend",function(){var A=b.state.formattedGraphicalItems,O=b.props,E=O.children,C=O.width,D=O.height,k=b.props.margin||{},T=C-(k.left||0)-(k.right||0),$=n4({children:E,formattedGraphicalItems:A,legendWidth:T,legendContent:u});if(!$)return null;var I=$.item,H=_N($,Ace);return F.cloneElement(I,Ne(Ne({},H),{},{chartWidth:C,chartHeight:D,margin:k,onBBoxUpdate:b.handleLegendBBoxUpdate}))}),et(b,"renderTooltip",function(){var A,O=b.props,E=O.children,C=O.accessibilityLayer,D=Ln(E,_a);if(!D)return null;var k=b.state,T=k.isTooltipActive,$=k.activeCoordinate,I=k.activePayload,H=k.activeLabel,V=k.offset,X=(A=D.props.active)!==null&&A!==void 0?A:T;return F.cloneElement(D,{viewBox:Ne(Ne({},V),{},{x:V.left,y:V.top}),active:X,label:H,payload:X?I:[],coordinate:$,accessibilityLayer:C})}),et(b,"renderBrush",function(A){var O=b.props,E=O.margin,C=O.data,D=b.state,k=D.offset,T=D.dataStartIndex,$=D.dataEndIndex,I=D.updateId;return F.cloneElement(A,{key:A.key||"_recharts-brush",onChange:ch(b.handleBrushChange,A.props.onChange),data:C,x:Le(A.props.x)?A.props.x:k.left,y:Le(A.props.y)?A.props.y:k.top+k.height+k.brushBottom-(E.bottom||0),width:Le(A.props.width)?A.props.width:k.width,startIndex:T,endIndex:$,updateId:"brush-".concat(I)})}),et(b,"renderReferenceElement",function(A,O,E){if(!A)return null;var C=b,D=C.clipPathId,k=b.state,T=k.xAxisMap,$=k.yAxisMap,I=k.offset,H=A.type.defaultProps||{},V=A.props,X=V.xAxisId,Q=X===void 0?H.xAxisId:X,Y=V.yAxisId,G=Y===void 0?H.yAxisId:Y;return F.cloneElement(A,{key:A.key||"".concat(O,"-").concat(E),xAxis:T[Q],yAxis:$[G],viewBox:{x:I.left,y:I.top,width:I.width,height:I.height},clipPathId:D})}),et(b,"renderActivePoints",function(A){var O=A.item,E=A.activePoint,C=A.basePoint,D=A.childIndex,k=A.isRange,T=[],$=O.props.key,I=O.item.type.defaultProps!==void 0?Ne(Ne({},O.item.type.defaultProps),O.item.props):O.item.props,H=I.activeDot,V=I.dataKey,X=Ne(Ne({index:D,dataKey:V,cx:E.x,cy:E.y,r:4,fill:vx(O.item),strokeWidth:2,stroke:"#fff",payload:E.payload,value:E.value},Xe(H,!1)),Uh(H));return T.push(x.renderActiveDot(H,X,"".concat($,"-activePoint-").concat(D))),C?T.push(x.renderActiveDot(H,Ne(Ne({},X),{},{cx:C.x,cy:C.y}),"".concat($,"-basePoint-").concat(D))):k&&T.push(null),T}),et(b,"renderGraphicChild",function(A,O,E){var C=b.filterFormatItem(A,O,E);if(!C)return null;var D=b.getTooltipEventType(),k=b.state,T=k.isTooltipActive,$=k.tooltipAxis,I=k.activeTooltipIndex,H=k.activeLabel,V=b.props.children,X=Ln(V,_a),Q=C.props,Y=Q.points,G=Q.isRange,ae=Q.baseLine,M=C.item.type.defaultProps!==void 0?Ne(Ne({},C.item.type.defaultProps),C.item.props):C.item.props,z=M.activeDot,Z=M.hide,te=M.activeBar,ie=M.activeShape,fe=!!(!Z&&T&&X&&(z||te||ie)),de={};D!=="axis"&&X&&X.props.trigger==="click"?de={onClick:ch(b.handleItemMouseEnter,A.props.onClick)}:D!=="axis"&&(de={onMouseLeave:ch(b.handleItemMouseLeave,A.props.onMouseLeave),onMouseEnter:ch(b.handleItemMouseEnter,A.props.onMouseEnter)});var oe=F.cloneElement(A,Ne(Ne({},C.props),de));function xe(Me){return typeof $.dataKey=="function"?$.dataKey(Me.payload):null}if(fe)if(I>=0){var be,pe;if($.dataKey&&!$.allowDuplicatedCategory){var Ee=typeof $.dataKey=="function"?xe:"payload.".concat($.dataKey.toString());be=zh(Y,Ee,H),pe=G&&ae&&zh(ae,Ee,H)}else be=Y==null?void 0:Y[I],pe=G&&ae&&ae[I];if(ie||te){var $e=A.props.activeIndex!==void 0?A.props.activeIndex:I;return[F.cloneElement(A,Ne(Ne(Ne({},C.props),de),{},{activeIndex:$e})),null,null]}if(!ht(be))return[oe].concat(pc(b.renderActivePoints({item:C,activePoint:be,basePoint:pe,childIndex:I,isRange:G})))}else{var ye,ne=(ye=b.getItemByXY(b.state.activeCoordinate))!==null&&ye!==void 0?ye:{graphicalItem:oe},Ye=ne.graphicalItem,Be=Ye.item,ke=Be===void 0?A:Be,Ce=Ye.childIndex,De=Ne(Ne(Ne({},C.props),de),{},{activeIndex:Ce});return[F.cloneElement(ke,De),null,null]}return G?[oe,null,null]:[oe,null]}),et(b,"renderCustomized",function(A,O,E){return F.cloneElement(A,Ne(Ne({key:"recharts-customized-".concat(E)},b.props),b.state))}),et(b,"renderMap",{CartesianGrid:{handler:ph,once:!0},ReferenceArea:{handler:b.renderReferenceElement},ReferenceLine:{handler:ph},ReferenceDot:{handler:b.renderReferenceElement},XAxis:{handler:ph},YAxis:{handler:ph},Brush:{handler:b.renderBrush,once:!0},Bar:{handler:b.renderGraphicChild},Line:{handler:b.renderGraphicChild},Area:{handler:b.renderGraphicChild},Radar:{handler:b.renderGraphicChild},RadialBar:{handler:b.renderGraphicChild},Scatter:{handler:b.renderGraphicChild},Pie:{handler:b.renderGraphicChild},Funnel:{handler:b.renderGraphicChild},Tooltip:{handler:b.renderCursor,once:!0},PolarGrid:{handler:b.renderPolarGrid,once:!0},PolarAngleAxis:{handler:b.renderPolarAxis},PolarRadiusAxis:{handler:b.renderPolarAxis},Customized:{handler:b.renderCustomized}}),b.clipPathId="".concat((N=w.id)!==null&&N!==void 0?N:Lc("recharts"),"-clip"),b.throttleTriggeredAfterMouseMove=r3(b.triggeredAfterMouseMove,(_=w.throttleDelay)!==null&&_!==void 0?_:1e3/60),b.state={},b}return Rce(x,y),Mce(x,[{key:"componentDidMount",value:function(){var N,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var N=this.props,_=N.children,b=N.data,A=N.height,O=N.layout,E=Ln(_,_a);if(E){var C=E.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var D=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,k=Dy(this.state,b,C,D),T=this.state.tooltipTicks[C].coordinate,$=(this.state.offset.top+A)/2,I=O==="horizontal",H=I?{x:T,y:$}:{y:T,x:$},V=this.state.formattedGraphicalItems.find(function(Q){var Y=Q.item;return Y.type.name==="Scatter"});V&&(H=Ne(Ne({},H),V.props.points[C].tooltipPosition),k=V.props.points[C].tooltipPayload);var X={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:D,activePayload:k,activeCoordinate:H};this.setState(X),this.renderCursor(E),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(N,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==N.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==N.margin){var b,A;this.accessibilityManager.setDetails({offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0}})}return null}},{key:"componentDidUpdate",value:function(N){v0([Ln(N.children,_a)],[Ln(this.props.children,_a)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var N=Ln(this.props.children,_a);if(N&&typeof N.props.shared=="boolean"){var _=N.props.shared?"axis":"item";return s.indexOf(_)>=0?_:i}return i}},{key:"getMouseInfo",value:function(N){if(!this.container)return null;var _=this.container,b=_.getBoundingClientRect(),A=HX(b),O={chartX:Math.round(N.pageX-A.left),chartY:Math.round(N.pageY-A.top)},E=b.width/_.offsetWidth||1,C=this.inRange(O.chartX,O.chartY,E);if(!C)return null;var D=this.state,k=D.xAxisMap,T=D.yAxisMap,$=this.getTooltipEventType(),I=ON(this.state,this.props.data,this.props.layout,C);if($!=="axis"&&k&&T){var H=lo(k).scale,V=lo(T).scale,X=H&&H.invert?H.invert(O.chartX):null,Q=V&&V.invert?V.invert(O.chartY):null;return Ne(Ne({},O),{},{xValue:X,yValue:Q},I)}return I?Ne(Ne({},O),I):null}},{key:"inRange",value:function(N,_){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=this.props.layout,O=N/b,E=_/b;if(A==="horizontal"||A==="vertical"){var C=this.state.offset,D=O>=C.left&&O<=C.left+C.width&&E>=C.top&&E<=C.top+C.height;return D?{x:O,y:E}:null}var k=this.state,T=k.angleAxisMap,$=k.radiusAxisMap;if(T&&$){var I=lo(T);return tj({x:O,y:E},I)}return null}},{key:"parseEventsOfWrapper",value:function(){var N=this.props.children,_=this.getTooltipEventType(),b=Ln(N,_a),A={};b&&_==="axis"&&(b.props.trigger==="click"?A={onClick:this.handleClick}:A={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var O=Uh(this.props,this.handleOuterEvent);return Ne(Ne({},O),A)}},{key:"addListener",value:function(){Cv.on(Lv,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Cv.removeListener(Lv,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(N,_,b){for(var A=this.state.formattedGraphicalItems,O=0,E=A.length;O<E;O++){var C=A[O];if(C.item===N||C.props.key===N.key||_===Ci(C.item.type)&&b===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var N=this.clipPathId,_=this.state.offset,b=_.left,A=_.top,O=_.height,E=_.width;return q.createElement("defs",null,q.createElement("clipPath",{id:N},q.createElement("rect",{x:b,y:A,height:O,width:E})))}},{key:"getXScales",value:function(){var N=this.state.xAxisMap;return N?Object.entries(N).reduce(function(_,b){var A=SN(b,2),O=A[0],E=A[1];return Ne(Ne({},_),{},et({},O,E.scale))},{}):null}},{key:"getYScales",value:function(){var N=this.state.yAxisMap;return N?Object.entries(N).reduce(function(_,b){var A=SN(b,2),O=A[0],E=A[1];return Ne(Ne({},_),{},et({},O,E.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(N){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[N])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(N){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[N])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(N){var _=this.state,b=_.formattedGraphicalItems,A=_.activeItem;if(b&&b.length)for(var O=0,E=b.length;O<E;O++){var C=b[O],D=C.props,k=C.item,T=k.type.defaultProps!==void 0?Ne(Ne({},k.type.defaultProps),k.props):k.props,$=Ci(k.type);if($==="Bar"){var I=(D.data||[]).find(function(Q){return vae(N,Q)});if(I)return{graphicalItem:C,payload:I}}else if($==="RadialBar"){var H=(D.data||[]).find(function(Q){return tj(N,Q)});if(H)return{graphicalItem:C,payload:H}}else if(Wm(C,A)||Gm(C,A)||$d(C,A)){var V=Gie({graphicalItem:C,activeTooltipItem:A,itemData:T.data}),X=T.activeIndex===void 0?V:T.activeIndex;return{graphicalItem:Ne(Ne({},C),{},{childIndex:X}),payload:$d(C,A)?T.data[V]:C.props.data[V]}}}return null}},{key:"render",value:function(){var N=this;if(!yw(this))return null;var _=this.props,b=_.children,A=_.className,O=_.width,E=_.height,C=_.style,D=_.compact,k=_.title,T=_.desc,$=_N(_,Oce),I=Xe($,!1);if(D)return q.createElement(sN,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},q.createElement(b0,Al({},I,{width:O,height:E,title:k,desc:T}),this.renderClipPath(),xw(b,this.renderMap)));if(this.props.accessibilityLayer){var H,V;I.tabIndex=(H=this.props.tabIndex)!==null&&H!==void 0?H:0,I.role=(V=this.props.role)!==null&&V!==void 0?V:"application",I.onKeyDown=function(Q){N.accessibilityManager.keyboardEvent(Q)},I.onFocus=function(){N.accessibilityManager.focus()}}var X=this.parseEventsOfWrapper();return q.createElement(sN,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},q.createElement("div",Al({className:gt("recharts-wrapper",A),style:Ne({position:"relative",cursor:"default",width:O,height:E},C)},X,{ref:function(Y){N.container=Y}}),q.createElement(b0,Al({},I,{width:O,height:E,title:k,desc:T,style:Wce}),this.renderClipPath(),xw(b,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(F.Component);et(v,"displayName",r),et(v,"defaultProps",Ne({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),et(v,"getDerivedStateFromProps",function(y,x){var w=y.dataKey,N=y.data,_=y.children,b=y.width,A=y.height,O=y.layout,E=y.stackOffset,C=y.margin,D=x.dataStartIndex,k=x.dataEndIndex;if(x.updateId===void 0){var T=PN(y);return Ne(Ne(Ne({},T),{},{updateId:0},h(Ne(Ne({props:y},T),{},{updateId:0}),x)),{},{prevDataKey:w,prevData:N,prevWidth:b,prevHeight:A,prevLayout:O,prevStackOffset:E,prevMargin:C,prevChildren:_})}if(w!==x.prevDataKey||N!==x.prevData||b!==x.prevWidth||A!==x.prevHeight||O!==x.prevLayout||E!==x.prevStackOffset||!Cl(C,x.prevMargin)){var $=PN(y),I={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},H=Ne(Ne({},ON(x,N,O)),{},{updateId:x.updateId+1}),V=Ne(Ne(Ne({},$),I),H);return Ne(Ne(Ne({},V),h(Ne({props:y},V),x)),{},{prevDataKey:w,prevData:N,prevWidth:b,prevHeight:A,prevLayout:O,prevStackOffset:E,prevMargin:C,prevChildren:_})}if(!v0(_,x.prevChildren)){var X,Q,Y,G,ae=Ln(_,ac),M=ae&&(X=(Q=ae.props)===null||Q===void 0?void 0:Q.startIndex)!==null&&X!==void 0?X:D,z=ae&&(Y=(G=ae.props)===null||G===void 0?void 0:G.endIndex)!==null&&Y!==void 0?Y:k,Z=M!==D||z!==k,te=!ht(N),ie=te&&!Z?x.updateId:x.updateId+1;return Ne(Ne({updateId:ie},h(Ne(Ne({props:y},x),{},{updateId:ie,dataStartIndex:M,dataEndIndex:z}),x)),{},{prevChildren:_,dataStartIndex:M,dataEndIndex:z})}return null}),et(v,"renderActiveDot",function(y,x,w){var N;return F.isValidElement(y)?N=F.cloneElement(y,x):at(y)?N=y(x):N=q.createElement(Fm,x),q.createElement(Nt,{className:"recharts-active-dot",key:w},N)});var g=F.forwardRef(function(x,w){return q.createElement(v,Al({},x,{ref:w}))});return g.displayName=v.displayName,g},eue=_O({chartName:"PieChart",GraphicalChild:qi,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Um},{axisType:"radiusAxis",AxisComp:qm}],formatAxisMap:Fte,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),tue=_O({chartName:"AreaChart",GraphicalChild:Ao,axisComponents:[{axisType:"xAxis",AxisComp:Jm},{axisType:"yAxis",AxisComp:Zm}],formatAxisMap:tse});const kN=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8"];function AO(){const{id:e}=mc(),{profile:t,loading:r}=xo(),n=t==null?void 0:t.org_id,[a,i]=F.useState(!0),[o,s]=F.useState(null),[c,u]=F.useState("overview"),[d,f]=F.useState("6m"),[p,h]=F.useState({total_donations:0,total_donors:0,average_donation:0,progress:0,top_donor:null,monetary_donations:0,time_donations:0,supply_donations:0,donor_retention_rate:0,recurring_donors:0,campaign_efficiency:0,volunteer_hours:0,supply_value:0,monthly_trends:[],donor_demographics:[],campaign_performance:[],volunteer_metrics:[],supply_categories:[],donors:[],top_donors:[],recurring_donor_list:[],donor_retention:[]}),[v,g]=F.useState({type:"monetary",amount:"",description:"",date:$b(new Date,"yyyy-MM-dd"),donor_name:"",donor_email:"",donor_phone:"",is_recurring:!1,frequency:"monthly",category:"",payment_method:"credit_card"});F.useEffect(()=>{if(!r){if(!e&&!n){s("No fundraiser or organization context found."),i(!1);return}x()}},[e,d,n,r]);const y=N=>({...p,...N,monthly_trends:Array.isArray(N==null?void 0:N.monthly_trends)?N.monthly_trends:[],donor_demographics:Array.isArray(N==null?void 0:N.donor_demographics)?N.donor_demographics:[],campaign_performance:Array.isArray(N==null?void 0:N.campaign_performance)?N.campaign_performance:[],volunteer_metrics:Array.isArray(N==null?void 0:N.volunteer_metrics)?N.volunteer_metrics:[],supply_categories:Array.isArray(N==null?void 0:N.supply_categories)?N.supply_categories:[],donors:Array.isArray(N==null?void 0:N.donors)?N.donors:[],top_donors:Array.isArray(N==null?void 0:N.top_donors)?N.top_donors:[],recurring_donor_list:Array.isArray(N==null?void 0:N.recurring_donor_list)?N.recurring_donor_list:[],donor_retention:Array.isArray(N==null?void 0:N.donor_retention)?N.donor_retention:[]}),x=async()=>{var N,_,b,A,O,E,C,D,k,T,$,I,H;try{i(!0);const[V,X,Q,Y]=await Promise.all([Ea.getAnalyticsOverview({dateRange:d}),Ea.getAnalyticsTrends({dateRange:d}),Ea.getAnalyticsDonorRetention({dateRange:d}),Ea.getAnalyticsCampaigns({dateRange:d})]);console.log("Analytics API responses:",{overview:V,trends:X,retention:Q,campaigns:Y});const G={total_donations:((_=(N=V==null?void 0:V.data)==null?void 0:N.data)==null?void 0:_.total_donations)||0,total_donors:((A=(b=V==null?void 0:V.data)==null?void 0:b.data)==null?void 0:A.total_donors)||0,volunteer_hours:((E=(O=V==null?void 0:V.data)==null?void 0:O.data)==null?void 0:E.total_volunteer_hours)||0,supply_value:((D=(C=V==null?void 0:V.data)==null?void 0:C.data)==null?void 0:D.total_supply_value)||0,active_campaigns:((T=(k=V==null?void 0:V.data)==null?void 0:k.data)==null?void 0:T.active_campaigns)||0,monthly_trends:(($=X==null?void 0:X.data)==null?void 0:$.data)||[],donor_retention:((I=Q==null?void 0:Q.data)==null?void 0:I.data)||[],campaign_performance:((H=Y==null?void 0:Y.data)==null?void 0:H.data)||[]};h(y(G)),s(null)}catch(V){const X="Failed to fetch fundraiser analytics";s(X),ka(V,X),console.error("Analytics fetch error:",V)}finally{i(!1)}},w=N=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(N);return o?l.jsx("div",{className:"text-red-500 text-center mt-8",children:o}):a?l.jsx("div",{className:"text-center py-12",children:"Loading analytics..."}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsx(Mn,{children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:l.jsx(Zn,{className:"h-6 w-6 text-blue-600"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Donations"}),l.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:w(p.total_donations)})]})]})}),l.jsx(Mn,{children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:l.jsx(ra,{className:"h-6 w-6 text-green-600"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Donors"}),l.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:p.total_donors})]})]})}),l.jsx(Mn,{children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"p-3 bg-purple-100 rounded-full",children:l.jsx(Ol,{className:"h-6 w-6 text-purple-600"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Volunteer Hours"}),l.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:p.volunteer_hours})]})]})}),l.jsx(Mn,{children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"p-3 bg-yellow-100 rounded-full",children:l.jsx(jP,{className:"h-6 w-6 text-yellow-600"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Supply Value"}),l.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:w(p.supply_value)})]})]})})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs(Mn,{children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Donation Trends"}),l.jsx("div",{className:"h-80",children:l.jsx(Uw,{width:"100%",height:"100%",children:l.jsxs(tue,{data:p.monthly_trends,children:[l.jsx(oO,{strokeDasharray:"3 3"}),l.jsx(Jm,{dataKey:"date"}),l.jsx(Zm,{}),l.jsx(_a,{formatter:N=>w(N)}),l.jsx(Ao,{type:"monotone",dataKey:"amount",stroke:"#2563eb",fill:"#93c5fd"})]})})})]}),l.jsxs(Mn,{children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Donation Types"}),l.jsx("div",{className:"h-80",children:l.jsx(Uw,{width:"100%",height:"100%",children:l.jsxs(eue,{children:[l.jsx(qi,{data:p.supply_categories,dataKey:"value",nameKey:"category",cx:"50%",cy:"50%",outerRadius:80,fill:"#2563eb",label:!0,children:p.supply_categories.map((N,_)=>l.jsx(Om,{fill:kN[_%kN.length]},`cell-${_}`))}),l.jsx(_a,{}),l.jsx(ls,{})]})})})]})]})]})}function rue(){const{id:e}=mc(),[t,r]=F.useState(!0),[n,a]=F.useState(null),[i,o]=F.useState(null),[s,c]=F.useState(!1);F.useEffect(()=>{if(!e){a("No fundraiser selected. Please select a fundraiser to share."),r(!1);return}u()},[e]);const u=async()=>{if(e)try{r(!0);const{data:p,error:h}=await Ea.getFundraiser(e);if(h)throw new Error(h);o(p),a(null)}catch(p){const h="Failed to fetch fundraiser details";a(h),ka(p,h)}finally{r(!1)}},d=async p=>{const h=`${window.location.origin}/fundraisers/${e}`,v=`Support ${i.title} - ${i.description}`;try{switch(p){case"facebook":window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(h)}`,"_blank");break;case"twitter":window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(v)}&url=${encodeURIComponent(h)}`,"_blank");break;case"linkedin":window.open(`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(h)}`,"_blank");break;default:break}fs("Shared successfully")}catch(g){ka(g,"Failed to share")}},f=async()=>{const p=`${window.location.origin}/fundraisers/${e}`;try{await navigator.clipboard.writeText(p),c(!0),fs("Link copied to clipboard"),setTimeout(()=>c(!1),2e3)}catch(h){ka(h,"Failed to copy link")}};return n?l.jsx("div",{className:"text-red-500 text-center mt-8",children:n}):i?l.jsx(Db,{title:"Share Fundraiser",loading:t,error:n,children:l.jsx("div",{className:"max-w-2xl mx-auto space-y-6",children:l.jsx(Mn,{title:i.title,description:i.description,children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[l.jsxs(xn,{onClick:()=>d("facebook"),className:"flex items-center space-x-2",children:[l.jsx(NP,{className:"h-5 w-5"}),l.jsx("span",{children:"Share on Facebook"})]}),l.jsxs(xn,{onClick:()=>d("twitter"),className:"flex items-center space-x-2",children:[l.jsx(SP,{className:"h-5 w-5"}),l.jsx("span",{children:"Share on Twitter"})]}),l.jsxs(xn,{onClick:()=>d("linkedin"),className:"flex items-center space-x-2",children:[l.jsx(_P,{className:"h-5 w-5"}),l.jsx("span",{children:"Share on LinkedIn"})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"flex-1 p-2 bg-gray-50 rounded-lg border border-gray-200 text-sm text-gray-600 truncate",children:`${window.location.origin}/fundraisers/${e}`}),l.jsx(xn,{onClick:f,variant:"outline",className:"flex items-center space-x-2",children:s?l.jsxs(l.Fragment,{children:[l.jsx(AP,{className:"h-5 w-5 text-green-500"}),l.jsx("span",{children:"Copied!"})]}):l.jsxs(l.Fragment,{children:[l.jsx(HN,{className:"h-5 w-5"}),l.jsx("span",{children:"Copy"})]})})]})]})})})}):null}function nue(){const e=gr(),[t,r]=F.useState(!0),[n,a]=F.useState(null),[i,o]=F.useState({donors:[],top_donors:[],recurring_donor_list:[],donor_retention:[]});F.useEffect(()=>{s()},[]);const s=async()=>{var d;try{r(!0);const f=await Ea.getAnalyticsDonorRetention();console.log("Donor retention response:",f);const p=(d=f==null?void 0:f.data)==null?void 0:d.data;let h=[];Array.isArray(p)?h=p:p&&typeof p=="object"&&(h=p.donors||p.retention||[]),Array.isArray(h)||(h=[]),console.log("Processed donor data:",h),o({donors:h,top_donors:h.slice(0,10),recurring_donor_list:h.filter(v=>v.months_active>1),donor_retention:h}),a(null)}catch(f){a("Failed to fetch donor analytics"),console.error("Donor analytics fetch error:",f)}finally{r(!1)}},c=d=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(d),u=d=>$b(new Date(d),"MMM d, yyyy");return n?l.jsx("div",{className:"text-red-500 text-center mt-8",children:n}):t?l.jsx("div",{className:"text-center py-12",children:"Loading donors..."}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Donor Analytics"}),l.jsx(xn,{variant:"outline",onClick:()=>e("/fundraisers/record-donation"),children:"Add Donation"})]}),l.jsxs(Mn,{children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Donor List"}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Email"}),l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Total Donated"}),l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Last Donation"}),l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Recurring"})]})}),l.jsx("tbody",{children:i.donors&&i.donors.length>0?i.donors.map((d,f)=>l.jsxs("tr",{className:"bg-white even:bg-gray-50",children:[l.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:(d==null?void 0:d.donor_email)||`Donor ${f+1}`}),l.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:(d==null?void 0:d.donor_email)||"N/A"}),l.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:c((d==null?void 0:d.total_donated)||0)}),l.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:d!=null&&d.last_donation?u(d.last_donation):"N/A"}),l.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:((d==null?void 0:d.months_active)||0)>1?"Yes":"No"})]},f)):l.jsx("tr",{children:l.jsx("td",{colSpan:5,className:"text-center py-4 text-gray-500",children:"No donors found."})})})]})})]}),l.jsxs(Mn,{children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Top Donors"}),l.jsx("ul",{className:"divide-y divide-gray-200",children:i.top_donors&&i.top_donors.length>0?i.top_donors.map((d,f)=>l.jsxs("li",{className:"py-2 flex justify-between",children:[l.jsx("span",{children:(d==null?void 0:d.donor_email)||`Donor ${f+1}`}),l.jsx("span",{className:"font-semibold",children:c((d==null?void 0:d.total_donated)||0)})]},f)):l.jsx("li",{className:"text-center py-4 text-gray-500",children:"No top donors found."})})]}),l.jsxs(Mn,{children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recurring Donors"}),l.jsx("ul",{className:"divide-y divide-gray-200",children:i.recurring_donor_list&&i.recurring_donor_list.length>0?i.recurring_donor_list.map((d,f)=>l.jsxs("li",{className:"py-2 flex justify-between",children:[l.jsx("span",{children:(d==null?void 0:d.donor_email)||`Donor ${f+1}`}),l.jsx("span",{className:"font-semibold",children:c((d==null?void 0:d.total_donated)||0)})]},f)):l.jsx("li",{className:"text-center py-4 text-gray-500",children:"No recurring donors found."})})]}),l.jsxs(Mn,{children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Donor Retention"}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Donor"}),l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Months Active"}),l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"First Donation"}),l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Last Donation"}),l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Total Donated"})]})}),l.jsx("tbody",{children:i.donor_retention&&i.donor_retention.length>0?i.donor_retention.map((d,f)=>l.jsxs("tr",{className:"bg-white even:bg-gray-50",children:[l.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:(d==null?void 0:d.donor_email)||`Donor ${f+1}`}),l.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:(d==null?void 0:d.months_active)||0}),l.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:d!=null&&d.first_donation?u(d.first_donation):"N/A"}),l.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:d!=null&&d.last_donation?u(d.last_donation):"N/A"}),l.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:c((d==null?void 0:d.total_donated)||0)})]},f)):l.jsx("tr",{children:l.jsx("td",{colSpan:5,className:"text-center py-4 text-gray-500",children:"No donor retention data found."})})})]})})]})]})}const TN=[{value:"monetary",label:"Monetary Donations"},{value:"volunteer",label:"Volunteer Hours"},{value:"supplies",label:"Supply Donations"},{value:"top_donors",label:"Top Donors"},{value:"recurring",label:"Recurring Donors"},{value:"retention",label:"Donor Retention"},{value:"campaign",label:"Campaign Performance"},{value:"year_over_year",label:"Year-over-Year Comparison"}];function aue(){var h;const[e,t]=F.useState("monetary"),[r,n]=F.useState("6m"),[a,i]=F.useState(!1),[o,s]=F.useState([]),[c,u]=F.useState(null),d=()=>{i(!0),setTimeout(()=>{s([{name:"John Smith",value:1500,date:"2024-01-15"},{name:"Sarah Johnson",value:2500,date:"2024-03-01"},{name:"Mike Brown",value:500,date:"2024-02-01"}]),i(!1),u(null)},1e3)},f=()=>{alert("PDF export coming soon!")},p=()=>{alert("XLSX export coming soon!")};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[l.jsx("select",{className:"px-4 py-2 h-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:e,onChange:v=>t(v.target.value),children:TN.map(v=>l.jsx("option",{value:v.value,children:v.label},v.value))}),l.jsxs("select",{className:"px-4 py-2 h-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:r,onChange:v=>n(v.target.value),children:[l.jsx("option",{value:"6m",children:"Last 6 Months"}),l.jsx("option",{value:"1y",children:"Last Year"}),l.jsx("option",{value:"all",children:"All Time"})]}),l.jsx(xn,{variant:"outline",onClick:d,disabled:a,children:"Generate Report"})]}),l.jsxs(Mn,{children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:[(h=TN.find(v=>v.value===e))==null?void 0:h.label," Report"]}),l.jsxs("div",{className:"space-x-2",children:[l.jsx(xn,{variant:"outline",onClick:f,children:"Export as PDF"}),l.jsx(xn,{variant:"outline",onClick:p,children:"Export as XLSX"})]})]}),c&&l.jsx("div",{className:"text-red-500 mb-4",children:c}),a?l.jsx("div",{className:"text-center py-12",children:"Generating report..."}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Value"}),l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"})]})}),l.jsx("tbody",{children:o.length>0?o.map((v,g)=>l.jsxs("tr",{className:"bg-white even:bg-gray-50",children:[l.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:v.name}),l.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:v.value}),l.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:v.date})]},g)):l.jsx("tr",{children:l.jsx("td",{colSpan:3,className:"text-center py-4 text-gray-500",children:"No data to display."})})})]})})]})]})}function OO({fundraiserId:e,onCancel:t,onSave:r,embedded:n=!1}){const a=gr(),{id:i}=mc(),o=e||i,[s,c]=F.useState(!0),[u,d]=F.useState(null),[f,p]=F.useState({title:"",description:"",goal_amount:"",category_id:"",start_date:"",end_date:"",status:"draft",visibility:"organization"}),h=[{value:"draft",label:"Draft"},{value:"active",label:"Active"},{value:"paused",label:"Paused"},{value:"completed",label:"Completed"}],v=[{value:"public",label:"Public"},{value:"private",label:"Private"},{value:"organization",label:"Organization Only"}];F.useEffect(()=>{o?g():c(!1)},[o]);const g=async()=>{var N;if(o)try{c(!0);const _=await Ea.getFundraiser(o);console.log("Raw API response:",_);const b=((N=_.data)==null?void 0:N.data)||_.data||_;if(console.log("Extracted fundraiser data:",b),console.log("Fundraiser data keys:",b?Object.keys(b):"no data"),_.error)throw new Error(_.error);if(!b)throw new Error("No fundraiser found with this ID.");const A={title:b.title||"",description:b.description||"",goal_amount:b.goal_amount||b.goal||"",category_id:b.category_id||b.category||"",start_date:b.start_date?b.start_date.split("T")[0]:"",end_date:b.end_date?b.end_date.split("T")[0]:"",status:b.status||"draft",visibility:b.visibility||"organization"};console.log("Individual field values:"),console.log("fundraiserData.title:",b.title),console.log("fundraiserData.goal:",b.goal),console.log("fundraiserData.start_date:",b.start_date),console.log("Transformed data for form:",A),p(A),d(null)}catch(_){const b="Failed to fetch fundraiser details";d(_.message||b),ka(_,b)}finally{c(!1)}},y=async N=>{N.preventDefault();try{c(!0);const _={title:f.title,description:f.description,goal_amount:f.goal_amount,start_date:f.start_date,end_date:f.end_date,status:f.status,visibility:f.visibility,category:f.category_id};if(o){const{error:b}=await Ea.updateFundraiser(o,_);if(b)throw new Error(b);fs("Fundraiser updated successfully"),n&&r?r():a("/fundraisers")}else{const{error:b}=await Ea.createFundraiser(_);if(b)throw new Error(b);fs("Fundraiser created successfully"),n&&r?r():a("/fundraisers")}}catch(_){ka(_,o?"Failed to update fundraiser":"Failed to create fundraiser")}finally{c(!1)}},x=N=>{const{name:_,value:b}=N.target;p(A=>({...A,[_]:b}))};if(s)return l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("span",{className:"text-blue-600 text-lg",children:"Loading fundraiser details..."})});if(u)return l.jsx("div",{className:"text-red-500 text-center mt-8",children:u});if(!o&&(window.location.pathname.includes("edit")||n))return l.jsx("div",{className:"text-red-500 text-center mt-8",children:"No fundraiser selected. Please select a fundraiser to edit."});const w=l.jsxs("form",{onSubmit:y,className:"max-w-2xl mx-auto space-y-6",children:[l.jsx(hl,{label:"Title",id:"title",name:"title",value:f.title,onChange:x,required:!0}),l.jsx(hl,{label:"Description",id:"description",name:"description",value:f.description,onChange:x,required:!0,as:"textarea",rows:4}),l.jsx(hl,{label:"Goal Amount",id:"goal_amount",name:"goal_amount",type:"number",value:f.goal_amount,onChange:x,required:!0,min:"0",step:"0.01"}),l.jsx(hl,{label:"Category",id:"category_id",name:"category_id",value:f.category_id,onChange:x}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsx(hl,{label:"Start Date",id:"start_date",name:"start_date",type:"date",value:f.start_date,onChange:x,required:!0}),l.jsx(hl,{label:"End Date",id:"end_date",name:"end_date",type:"date",value:f.end_date,onChange:x,required:!0})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsx(hw,{label:"Status",id:"status",name:"status",value:f.status,onChange:x,required:!0,options:h}),l.jsx(hw,{label:"Visibility",id:"visibility",name:"visibility",value:f.visibility,onChange:x,required:!0,options:v})]}),l.jsxs("div",{className:"flex justify-end space-x-4",children:[l.jsx(xn,{type:"button",variant:"outline",onClick:n&&t?t:()=>a("/fundraisers"),children:"Cancel"}),l.jsxs(xn,{type:"submit",isLoading:s,children:[o?"Update":"Create"," Fundraiser"]})]})]});return n?w:l.jsx(Db,{title:o?"Edit Fundraiser":"Create Fundraiser",loading:s,error:u,children:w})}function iue(){const e=gr(),[t,r]=F.useState(!0),[n,a]=F.useState(null),[i,o]=F.useState([]),[s,c]=F.useState(""),[u,d]=F.useState("all"),[f,p]=F.useState(null),[h,v]=F.useState("fundraisers"),[g,y]=F.useState(null);F.useEffect(()=>{x();const C=sessionStorage.getItem("editFundraiserId");C&&(y(C),sessionStorage.removeItem("editFundraiserId"))},[]);const x=async()=>{try{r(!0);const{data:C,error:D}=await Ea.getFundraisers();if(D)throw new Error(D);o((C==null?void 0:C.data)||[]),a(null)}catch(C){const D="Failed to fetch fundraisers";a(D),ka(C,D)}finally{r(!1)}},w=async C=>{if(window.confirm("Are you sure you want to delete this fundraiser?"))try{r(!0);const{error:D}=await Ea.deleteFundraiser(C);if(D)throw new Error(D);fs("Fundraiser deleted successfully"),x()}catch(D){ka(D,"Failed to delete fundraiser")}finally{r(!1)}},N=C=>new Date(C).toLocaleDateString(),_=C=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(C),b=C=>{y(C)},A=()=>{y(null)},O=()=>{y(null),x()},E=i.filter(C=>{const D=C.title.toLowerCase().includes(s.toLowerCase())||C.description.toLowerCase().includes(s.toLowerCase()),k=u==="all"||C.status===u;return D&&k});return l.jsxs(Db,{title:"Fundraiser Manager",loading:t,error:n,children:[l.jsx("div",{className:"border-b border-gray-200 mb-6",children:l.jsxs("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:[l.jsx("button",{className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${h==="fundraisers"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>v("fundraisers"),children:"Active Fundraisers"}),l.jsx("button",{className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${h==="analytics"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>v("analytics"),children:"Analytics"}),l.jsx("button",{className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${h==="donors"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>v("donors"),children:"Donors"}),l.jsx("button",{className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${h==="reports"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>v("reports"),children:"Reports"}),l.jsx("button",{className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${h==="share"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>v("share"),children:"Share"})]})}),h==="fundraisers"&&!g&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Active Fundraisers"}),l.jsx(xn,{variant:"outline",onClick:()=>e("/fundraisers/create"),children:"Create New Fundraiser"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:E.map(C=>l.jsx(Mn,{title:C.title,description:C.description,children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-500",children:"Goal:"}),l.jsx("span",{className:"font-medium",children:_(C.goal_amount)})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-500",children:"Status:"}),l.jsx("span",{className:`font-medium ${C.status==="active"?"text-green-600":C.status==="completed"?"text-blue-600":"text-gray-600"}`,children:C.status.charAt(0).toUpperCase()+C.status.slice(1)})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-500",children:"Dates:"}),l.jsxs("span",{className:"font-medium",children:[N(C.start_date)," - ",N(C.end_date)]})]}),l.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[l.jsx(xn,{variant:"outline",onClick:()=>b(C.id),children:"Edit"}),l.jsx(xn,{variant:"danger",onClick:()=>w(C.id),children:"Delete"})]})]})},C.id))}),E.length===0&&!t&&l.jsx("div",{className:"text-center py-12",children:l.jsx("p",{className:"text-gray-500",children:"No fundraisers found"})})]}),h==="fundraisers"&&g&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Edit Fundraiser"}),l.jsx(xn,{variant:"outline",onClick:A,children:"← Back to Fundraisers"})]}),l.jsx(OO,{fundraiserId:g,onCancel:A,onSave:O,embedded:!0})]}),h==="analytics"&&l.jsx("div",{className:"mt-8",children:l.jsx(AO,{})}),h==="donors"&&l.jsx("div",{className:"mt-8",children:l.jsx(nue,{})}),h==="reports"&&l.jsx("div",{className:"mt-8",children:l.jsx(aue,{})}),h==="share"&&l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{htmlFor:"fundraiser-select",className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Fundraiser to Share"}),l.jsxs("select",{id:"fundraiser-select",className:"block w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-base",value:f?f.id:"",onChange:C=>{const D=i.find(k=>k.id===C.target.value);p(D||null)},children:[l.jsx("option",{value:"",children:"-- Select a Fundraiser --"}),i.map(C=>l.jsx("option",{value:C.id,children:C.title},C.id))]})]}),h==="share"&&l.jsx(rue,{fundraiserId:f?f.id:null})]})}function oue(){const{id:e}=mc(),t=gr();return F.useEffect(()=>{e?(sessionStorage.setItem("editFundraiserId",e),t("/fundraisers",{replace:!0})):t("/fundraisers",{replace:!0})},[e,t]),l.jsx("div",{className:"flex justify-center items-center min-h-screen",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"Redirecting to fundraiser editor..."})]})})}function sue(){const[e,t]=F.useState([]),[r,n]=F.useState("");F.useEffect(()=>{async function s(){const{data:{session:c}}=await He.auth.getSession();if(!(c!=null&&c.access_token)){n("Authentication required.");return}try{const u=await fetch("/api/budgets",{headers:{Authorization:`Bearer ${c.access_token}`}}),d=await u.json();u.ok?t(d):n(d.error||"Failed to load transactions.")}catch(u){console.error("Budget fetch error:",u),n("Error connecting to the server.")}}s()},[]);const a=e.filter(s=>s.type==="income").reduce((s,c)=>s+parseFloat(c.amount||0),0),i=e.filter(s=>s.type==="expense").reduce((s,c)=>s+parseFloat(c.amount||0),0),o=a-i;return l.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h1",{className:"text-2xl font-bold",children:"PTO Budget Overview"}),l.jsx(Oa,{to:"/budget/create",className:"bg-blue-600 text-white px-4 py-2 rounded",children:"+ Add Entry"})]}),l.jsxs("div",{className:"mb-6 p-4 border rounded bg-gray-100",children:[l.jsxs("p",{className:"text-lg font-semibold",children:["Current Balance: $",o.toFixed(2)]}),l.jsxs("p",{className:"text-sm text-green-700",children:["Total Income: $",a.toFixed(2)]}),l.jsxs("p",{className:"text-sm text-red-700",children:["Total Expenses: $",i.toFixed(2)]})]}),r&&l.jsx("p",{className:"text-red-600",children:r}),e.length===0&&!r&&l.jsx("p",{children:"No budget entries found."}),l.jsx("ul",{className:"space-y-4",children:e.map(s=>l.jsxs("li",{className:"border p-4 rounded shadow-sm bg-white",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("h2",{className:"text-lg font-semibold",children:s.label}),l.jsxs("span",{className:s.type==="income"?"text-green-600":"text-red-600",children:[s.type==="income"?"+":"-","$",parseFloat(s.amount).toFixed(2)]})]}),l.jsx("p",{className:"text-sm text-gray-500",children:s.category||"Uncategorized"}),s.related_event_id&&l.jsxs("p",{className:"text-sm text-blue-700 mt-1",children:["Event ID: ",s.related_event_id]})]},s.id))})]})}const lue=()=>{const e=gr(),[t,r]=F.useState("overview"),[n,a]=F.useState("manual"),[i,o]=F.useState("current"),s={totalBudget:45e3,totalSpent:28500,totalRemaining:16500,projectedIncome:52e3,categories:[{id:1,name:"Events & Programs",budgeted:15e3,spent:8500,remaining:6500,percentage:57,trend:"up",createdBy:"stella",subcategories:[{name:"Fall Festival",budgeted:5e3,spent:3200},{name:"Science Night",budgeted:3e3,spent:1800},{name:"Book Fair",budgeted:4e3,spent:2500},{name:"Art Show",budgeted:3e3,spent:1e3}]},{id:2,name:"Educational Support",budgeted:12e3,spent:7200,remaining:4800,percentage:60,trend:"stable",createdBy:"manual",subcategories:[{name:"Classroom Supplies",budgeted:6e3,spent:4200},{name:"Technology",budgeted:4e3,spent:2e3},{name:"Library Books",budgeted:2e3,spent:1e3}]},{id:3,name:"Communications",budgeted:3e3,spent:1800,remaining:1200,percentage:60,trend:"down",createdBy:"stella",subcategories:[{name:"Website & Digital",budgeted:1500,spent:800},{name:"Print Materials",budgeted:1e3,spent:700},{name:"Social Media",budgeted:500,spent:300}]},{id:4,name:"Administrative",budgeted:5e3,spent:3200,remaining:1800,percentage:64,trend:"up",createdBy:"manual",subcategories:[{name:"Insurance",budgeted:2e3,spent:2e3},{name:"Banking & Fees",budgeted:1e3,spent:600},{name:"Office Supplies",budgeted:2e3,spent:600}]}],recentTransactions:[{id:1,date:"2024-10-15",description:"Fall Festival Decorations",category:"Events & Programs",amount:-450,type:"expense",createdBy:"stella"},{id:2,date:"2024-10-14",description:"Book Fair Revenue",category:"Events & Programs",amount:2800,type:"income",createdBy:"manual"},{id:3,date:"2024-10-12",description:"Classroom Technology",category:"Educational Support",amount:-1200,type:"expense",createdBy:"manual"}]},c=()=>{e("/budget/create")},u=()=>{e("/communications/ai?context=budget&mode=assisted")},d=()=>{e("/ai-workflow-orchestrator?context=budget&mode=automated")},f=b=>{e(`/budget/create?category=${b}&mode=view`)},p=b=>{e(`/budget/create?category=${b}&mode=edit`)},h=b=>{e(`/budget/create?category=${b}&mode=optimize`)},v=()=>{e("/budget/create?mode=reallocation")},g=()=>l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[l.jsx("div",{className:"flex items-center justify-between mb-4",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Zn,{className:"w-6 h-6 text-blue-600"}),l.jsx("h3",{className:"font-semibold text-gray-900",children:"Total Budget"})]})}),l.jsxs("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:["$",s.totalBudget.toLocaleString()]}),l.jsx("div",{className:"text-sm text-gray-600",children:"For current fiscal year"})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[l.jsx("div",{className:"flex items-center justify-between mb-4",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(OP,{className:"w-6 h-6 text-red-600"}),l.jsx("h3",{className:"font-semibold text-gray-900",children:"Total Spent"})]})}),l.jsxs("div",{className:"text-3xl font-bold text-red-600 mb-2",children:["$",s.totalSpent.toLocaleString()]}),l.jsxs("div",{className:"text-sm text-gray-600",children:[Math.round(s.totalSpent/s.totalBudget*100),"% of budget used"]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[l.jsx("div",{className:"flex items-center justify-between mb-4",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(By,{className:"w-6 h-6 text-green-600"}),l.jsx("h3",{className:"font-semibold text-gray-900",children:"Remaining"})]})}),l.jsxs("div",{className:"text-3xl font-bold text-green-600 mb-2",children:["$",s.totalRemaining.toLocaleString()]}),l.jsx("div",{className:"text-sm text-gray-600",children:"Available for spending"})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[l.jsx("div",{className:"flex items-center justify-between mb-4",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Uu,{className:"w-6 h-6 text-purple-600"}),l.jsx("h3",{className:"font-semibold text-gray-900",children:"Projected Income"})]})}),l.jsxs("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:["$",s.projectedIncome.toLocaleString()]}),l.jsx("div",{className:"text-sm text-gray-600",children:"Expected total revenue"})]})]}),y=()=>l.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg p-6 mb-8",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(Vt,{className:"w-6 h-6 text-purple-600"}),l.jsx("h3",{className:"text-lg font-semibold text-purple-900",children:"Stella's Budget Insights"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[l.jsxs("div",{className:"bg-white rounded-lg p-4",children:[l.jsx("div",{className:"text-sm text-purple-600 mb-1",children:"Budget Health"}),l.jsx("div",{className:"text-lg font-semibold text-green-700",children:"Excellent"}),l.jsx("div",{className:"text-xs text-purple-700",children:"On track for surplus"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-4",children:[l.jsx("div",{className:"text-sm text-purple-600 mb-1",children:"Biggest Opportunity"}),l.jsx("div",{className:"text-lg font-semibold text-purple-900",children:"Fall Festival"}),l.jsx("div",{className:"text-xs text-purple-700",children:"Could generate $2K more"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-4",children:[l.jsx("div",{className:"text-sm text-purple-600 mb-1",children:"Cost Savings"}),l.jsx("div",{className:"text-lg font-semibold text-purple-900",children:"$1,200 Found"}),l.jsx("div",{className:"text-xs text-purple-700",children:"In administrative costs"})]})]}),l.jsxs("div",{className:"bg-white rounded-lg p-4",children:[l.jsx("div",{className:"text-sm text-purple-900 font-medium mb-2",children:"💡 Stella's Recommendation"}),l.jsx("div",{className:"text-sm text-purple-800",children:'"Your Events & Programs category is performing well! Consider reallocating $1,000 from Administrative to Educational Support to maximize impact on students. I can create a reallocation plan for you."'}),l.jsx("button",{onClick:v,className:"mt-3 px-4 py-2 bg-purple-600 text-white rounded-lg text-sm hover:bg-purple-700 transition-colors",children:"Let Stella Create Reallocation Plan"})]})]}),x=()=>l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Budget Categories"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:"Manual Entry"}),l.jsx("button",{className:"px-4 py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors text-sm",children:"Ask Stella"})]})]}),l.jsx("div",{className:"space-y-6",children:s.categories.map(b=>{const A=b.spent/b.budgeted*100,O=A>100;return l.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("h4",{className:"font-semibold text-gray-900",children:b.name}),b.createdBy==="stella"&&l.jsx(Vt,{className:"w-4 h-4 text-purple-500",title:"Optimized by Stella"}),l.jsxs("div",{className:`flex items-center space-x-1 text-sm ${b.trend==="up"?"text-green-600":b.trend==="down"?"text-red-600":"text-gray-600"}`,children:[b.trend==="up"&&l.jsx(i1,{className:"w-4 h-4"}),b.trend==="down"&&l.jsx(o1,{className:"w-4 h-4"}),l.jsx("span",{className:"capitalize",children:b.trend})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["$",b.spent.toLocaleString()," / $",b.budgeted.toLocaleString()]}),l.jsxs("div",{className:"text-sm text-gray-600",children:["$",b.remaining.toLocaleString()," remaining"]})]})]}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[l.jsx("span",{className:"text-gray-600",children:"Progress"}),l.jsxs("span",{className:`font-medium ${O?"text-red-600":"text-gray-900"}`,children:[Math.round(A),"%"]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:l.jsx("div",{className:`h-3 rounded-full transition-all duration-300 ${O?"bg-red-500":"bg-blue-600"}`,style:{width:`${Math.min(A,100)}%`}})})]}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:b.subcategories.map((E,C)=>l.jsxs("div",{className:"bg-gray-50 rounded p-3",children:[l.jsx("div",{className:"text-sm font-medium text-gray-900",children:E.name}),l.jsxs("div",{className:"text-xs text-gray-600",children:["$",E.spent.toLocaleString()," / $",E.budgeted.toLocaleString()]})]},C))}),l.jsxs("div",{className:"flex space-x-2 mt-4",children:[l.jsxs("button",{onClick:()=>f(b.id),className:"flex items-center px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[l.jsx(ds,{className:"w-4 h-4 mr-2"}),"View Details"]}),l.jsxs("button",{onClick:()=>p(b.id),className:"flex items-center px-3 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors text-sm",children:[l.jsx(zu,{className:"w-4 h-4 mr-2"}),"Edit"]}),b.createdBy==="manual"&&l.jsxs("button",{onClick:()=>h(b.id),className:"flex items-center px-3 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors text-sm",children:[l.jsx(Vt,{className:"w-4 h-4 mr-2"}),"Ask Stella to Optimize"]})]})]},b.id)})})]}),w=()=>l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(PP,{className:"w-6 h-6 text-indigo-600"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Monthly Reconciliation"})]}),l.jsxs("button",{onClick:()=>e("/budget/reconciliation"),className:"flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:[l.jsx(EP,{className:"w-4 h-4 mr-2"}),"View All Reconciliations"]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"border-2 border-indigo-200 rounded-lg p-6 hover:border-indigo-400 transition-colors bg-indigo-50",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(kP,{className:"w-8 h-8 text-indigo-600"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-indigo-900",children:"Start New Reconciliation"}),l.jsx("p",{className:"text-sm text-indigo-700",children:"Upload bank statement and reconcile transactions"})]})]}),l.jsxs("ul",{className:"text-sm text-indigo-700 space-y-2 mb-4",children:[l.jsx("li",{children:"• OCR bank statement processing"}),l.jsx("li",{children:"• Smart transaction matching"}),l.jsx("li",{children:"• Automated discrepancy detection"}),l.jsx("li",{children:"• Generate reconciliation reports"})]}),l.jsx("button",{onClick:()=>e("/budget/reconciliation/new"),className:"w-full py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:"Start Reconciliation"})]}),l.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[l.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Recent Reconciliations"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-green-900",children:"October 2024"}),l.jsx("div",{className:"text-sm text-green-700",children:"Completed • 98% match rate"})]}),l.jsx(Dl,{className:"w-5 h-5 text-green-600"})]}),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-yellow-50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-yellow-900",children:"November 2024"}),l.jsx("div",{className:"text-sm text-yellow-700",children:"In Progress • 3 discrepancies"})]}),l.jsx(TP,{className:"w-5 h-5 text-yellow-600"})]}),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900",children:"December 2024"}),l.jsx("div",{className:"text-sm text-gray-700",children:"Pending • Not started"})]}),l.jsx(jn,{className:"w-5 h-5 text-gray-600"})]})]}),l.jsx("button",{onClick:()=>e("/budget/reconciliation"),className:"w-full mt-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors text-sm",children:"View Reconciliation History"})]})]}),l.jsxs("div",{className:"mt-6 bg-gradient-to-r from-indigo-50 to-purple-50 rounded-lg p-4",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[l.jsx(Vt,{className:"w-5 h-5 text-indigo-600"}),l.jsx("span",{className:"font-medium text-indigo-900",children:"Reconciliation Insights"})]}),l.jsx("div",{className:"text-sm text-indigo-800",children:"Your reconciliation accuracy has improved by 15% this quarter. Consider setting up automated monthly reconciliations to maintain financial accuracy and save time."})]})]}),N=()=>l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-8",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Create New Budget Item"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-6 hover:border-blue-300 transition-colors",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(CP,{className:"w-8 h-8 text-gray-600"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-gray-900",children:"Manual Entry"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Full control over details"})]})]}),l.jsxs("ul",{className:"text-sm text-gray-600 space-y-2 mb-4",children:[l.jsx("li",{children:"• Custom categories"}),l.jsx("li",{children:"• Detailed line items"}),l.jsx("li",{children:"• Manual calculations"})]}),l.jsx("button",{onClick:c,className:"w-full py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Create Manually"})]}),l.jsxs("div",{className:"border-2 border-blue-200 rounded-lg p-6 hover:border-blue-400 transition-colors bg-blue-50",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(Vt,{className:"w-8 h-8 text-blue-600"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-blue-900",children:"Stella Assisted"}),l.jsx("p",{className:"text-sm text-blue-700",children:"Smart suggestions & validation"})]})]}),l.jsxs("ul",{className:"text-sm text-blue-700 space-y-2 mb-4",children:[l.jsx("li",{children:"• Budget recommendations"}),l.jsx("li",{children:"• Historical comparisons"}),l.jsx("li",{children:"• Optimization suggestions"})]}),l.jsx("button",{onClick:u,className:"w-full py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Get Stella's Help"})]}),l.jsxs("div",{className:"border-2 border-purple-200 rounded-lg p-6 hover:border-purple-400 transition-colors bg-purple-50",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(Vt,{className:"w-8 h-8 text-purple-600"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-purple-900",children:"Stella Auto-Generate"}),l.jsx("p",{className:"text-sm text-purple-700",children:"Complete budget creation"})]})]}),l.jsxs("ul",{className:"text-sm text-purple-700 space-y-2 mb-4",children:[l.jsx("li",{children:"• AI-powered allocations"}),l.jsx("li",{children:"• Predictive modeling"}),l.jsx("li",{children:"• Optimization algorithms"})]}),l.jsx("button",{onClick:d,className:"w-full py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Let Stella Generate"})]})]})]}),_=()=>l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Recent Transactions"}),l.jsxs("button",{className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx(WN,{className:"w-4 h-4 mr-2"}),"Export"]})]}),l.jsx("div",{className:"space-y-4",children:s.recentTransactions.map(b=>l.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${b.type==="income"?"bg-green-100":"bg-red-100"}`,children:b.type==="income"?l.jsx(i1,{className:"w-5 h-5 text-green-600"}):l.jsx(o1,{className:"w-5 h-5 text-red-600"})}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("h4",{className:"font-medium text-gray-900",children:b.description}),b.createdBy==="stella"&&l.jsx(Vt,{className:"w-4 h-4 text-purple-500",title:"Processed by Stella"})]}),l.jsxs("div",{className:"text-sm text-gray-600",children:[b.category," • ",new Date(b.date).toLocaleDateString()]})]})]}),l.jsxs("div",{className:`text-lg font-semibold ${b.type==="income"?"text-green-600":"text-red-600"}`,children:[b.type==="income"?"+":"","$",Math.abs(b.amount).toLocaleString()]})]},b.id))})]});return l.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Budget Dashboard"}),l.jsx("p",{className:"text-gray-600",children:"Manage your PTO finances with Stella's intelligent insights"})]}),l.jsx("div",{className:"flex items-center space-x-3",children:l.jsxs("select",{value:i,onChange:b=>o(b.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[l.jsx("option",{value:"current",children:"Current Year"}),l.jsx("option",{value:"previous",children:"Previous Year"}),l.jsx("option",{value:"quarter",children:"This Quarter"})]})})]}),l.jsx(g,{}),l.jsx(y,{}),l.jsx(w,{}),l.jsx(N,{}),l.jsx(x,{}),l.jsx(_,{})]})})};function cue(){const[e,t]=F.useState({label:"",amount:"",category:"",type:"expense",related_event_id:""}),[r,n]=F.useState(""),[a,i]=F.useState(""),o=c=>{const{name:u,value:d}=c.target;t(f=>({...f,[u]:d}))},s=async c=>{c.preventDefault(),i(""),n("");const{data:{session:u}}=await He.auth.getSession();if(!(u!=null&&u.access_token)){i("Authentication required.");return}try{const d=await fetch("/api/budgets",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u.access_token}`},body:JSON.stringify(e)}),f=await d.json();d.ok?(n("Budget entry added successfully!"),t({label:"",amount:"",category:"",type:"expense",related_event_id:""})):i(f.error||"Submission failed.")}catch(d){console.error("Budget entry error:",d),i("Server error. Please try again.")}};return l.jsxs("div",{className:"max-w-xl mx-auto p-4",children:[l.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Add Budget Entry"}),l.jsxs("form",{onSubmit:s,className:"space-y-4",children:[l.jsx("input",{name:"label",value:e.label,onChange:o,placeholder:"Label",className:"w-full border p-2",required:!0}),l.jsx("input",{type:"number",name:"amount",value:e.amount,onChange:o,placeholder:"Amount",className:"w-full border p-2",required:!0}),l.jsx("input",{name:"category",value:e.category,onChange:o,placeholder:"Category (e.g., supplies, venue)",className:"w-full border p-2"}),l.jsxs("select",{name:"type",value:e.type,onChange:o,className:"w-full border p-2",children:[l.jsx("option",{value:"expense",children:"Expense"}),l.jsx("option",{value:"income",children:"Income"})]}),l.jsx("input",{name:"related_event_id",value:e.related_event_id,onChange:o,placeholder:"Related Event ID (optional)",className:"w-full border p-2"}),l.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded",type:"submit",children:"Save Entry"}),r&&l.jsx("p",{className:"text-green-600",children:r}),a&&l.jsx("p",{className:"text-red-600",children:a})]})]})}const uue=()=>l.jsxs("div",{children:[l.jsx("h1",{children:"Reconciliation Dashboard"}),l.jsx("p",{children:"This is a placeholder for the Reconciliation Dashboard."})]});function due({title:e,titleId:t,...r},n){return F.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?F.createElement("title",{id:t},e):null,F.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"}))}const fue=F.forwardRef(due);function hue({title:e,titleId:t,...r},n){return F.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?F.createElement("title",{id:t},e):null,F.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 21 3 16.5m0 0L7.5 12M3 16.5h13.5m0-13.5L21 7.5m0 0L16.5 12M21 7.5H7.5"}))}const CN=F.forwardRef(hue);function pue({title:e,titleId:t,...r},n){return F.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?F.createElement("title",{id:t},e):null,F.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Iy=F.forwardRef(pue);function mue({title:e,titleId:t,...r},n){return F.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?F.createElement("title",{id:t},e):null,F.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const gue=F.forwardRef(mue);function vue({title:e,titleId:t,...r},n){return F.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?F.createElement("title",{id:t},e):null,F.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const yue=F.forwardRef(vue);function bue({title:e,titleId:t,...r},n){return F.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?F.createElement("title",{id:t},e):null,F.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const xue=F.forwardRef(bue);function wue({title:e,titleId:t,...r},n){return F.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?F.createElement("title",{id:t},e):null,F.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const jue=F.forwardRef(wue);function Nue({title:e,titleId:t,...r},n){return F.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?F.createElement("title",{id:t},e):null,F.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),F.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Sue=F.forwardRef(Nue);function _ue({title:e,titleId:t,...r},n){return F.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?F.createElement("title",{id:t},e):null,F.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"}))}const Aue=F.forwardRef(_ue);function Oue({title:e,titleId:t,...r},n){return F.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?F.createElement("title",{id:t},e):null,F.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const PO=F.forwardRef(Oue),Oh={startReconciliation:async e=>{var t,r,n,a,i,o,s,c,u,d;console.log("🔍 [FRONTEND DEBUG] startReconciliation called with data:",e);try{console.log("🔍 [FRONTEND DEBUG] Making API call to /budget/reconciliation/start");const f=await ln.post("/budget/reconciliation/start",e);console.log("🔍 [FRONTEND DEBUG] API response received:",{status:f.status,statusText:f.statusText,data:f.data});const p={success:f.data.success,data:f.data.data,error:((r=(t=f.data.errors)==null?void 0:t[0])==null?void 0:r.message)||null};return console.log("🔍 [FRONTEND DEBUG] Processed result:",p),p}catch(f){console.error("❌ [FRONTEND DEBUG] Error starting reconciliation:",f),console.error("❌ [FRONTEND DEBUG] Error response:",f.response),console.error("❌ [FRONTEND DEBUG] Error response data:",(n=f.response)==null?void 0:n.data),console.error("❌ [FRONTEND DEBUG] Error response status:",(a=f.response)==null?void 0:a.status);const p=((c=(s=(o=(i=f.response)==null?void 0:i.data)==null?void 0:o.errors)==null?void 0:s[0])==null?void 0:c.message)||((d=(u=f.response)==null?void 0:u.data)==null?void 0:d.error)||f.message;return console.error("❌ [FRONTEND DEBUG] Final error message:",p),{success:!1,error:p}}},getReconciliations:async()=>{var e,t,r,n,a,i;try{const o=await ln.get("/budget/reconciliation");return{success:o.data.success,data:o.data.data,error:((t=(e=o.data.errors)==null?void 0:e[0])==null?void 0:t.message)||null}}catch(o){return console.error("Error fetching reconciliations:",o),{success:!1,error:((i=(a=(n=(r=o.response)==null?void 0:r.data)==null?void 0:n.errors)==null?void 0:a[0])==null?void 0:i.message)||o.message}}},uploadStatement:async(e,t)=>{var r,n,a,i,o,s;try{const c=await ln.post(`/budget/reconciliation/${e}/upload`,t);return{success:c.data.success,data:c.data.data,error:((n=(r=c.data.errors)==null?void 0:r[0])==null?void 0:n.message)||null}}catch(c){return console.error("Error uploading statement:",c),{success:!1,error:((s=(o=(i=(a=c.response)==null?void 0:a.data)==null?void 0:i.errors)==null?void 0:o[0])==null?void 0:s.message)||c.message}}},getTransactions:async e=>{var t,r,n,a,i,o;try{const s=await ln.get(`/budget/reconciliation/${e}/transactions`);return{success:s.data.success,data:s.data.data,error:((r=(t=s.data.errors)==null?void 0:t[0])==null?void 0:r.message)||null}}catch(s){return console.error("Error fetching transactions:",s),{success:!1,error:((o=(i=(a=(n=s.response)==null?void 0:n.data)==null?void 0:a.errors)==null?void 0:i[0])==null?void 0:o.message)||s.message}}},matchTransaction:async(e,t)=>{var r,n,a,i,o,s;try{const c=await ln.post(`/budget/reconciliation/${e}/match`,{bank_transaction_id:t.bankTransactionId,expense_id:t.expenseId});return{success:c.data.success,data:c.data.data,error:((n=(r=c.data.errors)==null?void 0:r[0])==null?void 0:n.message)||null}}catch(c){return console.error("Error matching transaction:",c),{success:!1,error:((s=(o=(i=(a=c.response)==null?void 0:a.data)==null?void 0:i.errors)==null?void 0:o[0])==null?void 0:s.message)||c.message}}},completeReconciliation:async e=>{var t,r,n,a,i,o;try{const s=await ln.post(`/budget/reconciliation/${e}/complete`);return{success:s.data.success,data:s.data.data,error:((r=(t=s.data.errors)==null?void 0:t[0])==null?void 0:r.message)||null}}catch(s){return console.error("Error completing reconciliation:",s),{success:!1,error:((o=(i=(a=(n=s.response)==null?void 0:n.data)==null?void 0:a.errors)==null?void 0:i[0])==null?void 0:o.message)||s.message}}},generateReport:async e=>{var t,r,n,a,i,o;try{const s=await ln.get(`/budget/reconciliation/${e}/report`);return{success:s.data.success,data:s.data.data,error:((r=(t=s.data.errors)==null?void 0:t[0])==null?void 0:r.message)||null}}catch(s){return console.error("Error generating report:",s),{success:!1,error:((o=(i=(a=(n=s.response)==null?void 0:n.data)==null?void 0:a.errors)==null?void 0:i[0])==null?void 0:o.message)||s.message}}}};var Pue={exports:{}};(function(e){var t=function(r){var n=Object.prototype,a=n.hasOwnProperty,i=Object.defineProperty||function(Y,G,ae){Y[G]=ae.value},o,s=typeof Symbol=="function"?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",d=s.toStringTag||"@@toStringTag";function f(Y,G,ae){return Object.defineProperty(Y,G,{value:ae,enumerable:!0,configurable:!0,writable:!0}),Y[G]}try{f({},"")}catch{f=function(G,ae,M){return G[ae]=M}}function p(Y,G,ae,M){var z=G&&G.prototype instanceof N?G:N,Z=Object.create(z.prototype),te=new V(M||[]);return i(Z,"_invoke",{value:T(Y,ae,te)}),Z}r.wrap=p;function h(Y,G,ae){try{return{type:"normal",arg:Y.call(G,ae)}}catch(M){return{type:"throw",arg:M}}}var v="suspendedStart",g="suspendedYield",y="executing",x="completed",w={};function N(){}function _(){}function b(){}var A={};f(A,c,function(){return this});var O=Object.getPrototypeOf,E=O&&O(O(X([])));E&&E!==n&&a.call(E,c)&&(A=E);var C=b.prototype=N.prototype=Object.create(A);_.prototype=b,i(C,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:_,configurable:!0}),_.displayName=f(b,d,"GeneratorFunction");function D(Y){["next","throw","return"].forEach(function(G){f(Y,G,function(ae){return this._invoke(G,ae)})})}r.isGeneratorFunction=function(Y){var G=typeof Y=="function"&&Y.constructor;return G?G===_||(G.displayName||G.name)==="GeneratorFunction":!1},r.mark=function(Y){return Object.setPrototypeOf?Object.setPrototypeOf(Y,b):(Y.__proto__=b,f(Y,d,"GeneratorFunction")),Y.prototype=Object.create(C),Y},r.awrap=function(Y){return{__await:Y}};function k(Y,G){function ae(Z,te,ie,fe){var de=h(Y[Z],Y,te);if(de.type==="throw")fe(de.arg);else{var oe=de.arg,xe=oe.value;return xe&&typeof xe=="object"&&a.call(xe,"__await")?G.resolve(xe.__await).then(function(be){ae("next",be,ie,fe)},function(be){ae("throw",be,ie,fe)}):G.resolve(xe).then(function(be){oe.value=be,ie(oe)},function(be){return ae("throw",be,ie,fe)})}}var M;function z(Z,te){function ie(){return new G(function(fe,de){ae(Z,te,fe,de)})}return M=M?M.then(ie,ie):ie()}i(this,"_invoke",{value:z})}D(k.prototype),f(k.prototype,u,function(){return this}),r.AsyncIterator=k,r.async=function(Y,G,ae,M,z){z===void 0&&(z=Promise);var Z=new k(p(Y,G,ae,M),z);return r.isGeneratorFunction(G)?Z:Z.next().then(function(te){return te.done?te.value:Z.next()})};function T(Y,G,ae){var M=v;return function(Z,te){if(M===y)throw new Error("Generator is already running");if(M===x){if(Z==="throw")throw te;return Q()}for(ae.method=Z,ae.arg=te;;){var ie=ae.delegate;if(ie){var fe=$(ie,ae);if(fe){if(fe===w)continue;return fe}}if(ae.method==="next")ae.sent=ae._sent=ae.arg;else if(ae.method==="throw"){if(M===v)throw M=x,ae.arg;ae.dispatchException(ae.arg)}else ae.method==="return"&&ae.abrupt("return",ae.arg);M=y;var de=h(Y,G,ae);if(de.type==="normal"){if(M=ae.done?x:g,de.arg===w)continue;return{value:de.arg,done:ae.done}}else de.type==="throw"&&(M=x,ae.method="throw",ae.arg=de.arg)}}}function $(Y,G){var ae=G.method,M=Y.iterator[ae];if(M===o)return G.delegate=null,ae==="throw"&&Y.iterator.return&&(G.method="return",G.arg=o,$(Y,G),G.method==="throw")||ae!=="return"&&(G.method="throw",G.arg=new TypeError("The iterator does not provide a '"+ae+"' method")),w;var z=h(M,Y.iterator,G.arg);if(z.type==="throw")return G.method="throw",G.arg=z.arg,G.delegate=null,w;var Z=z.arg;if(!Z)return G.method="throw",G.arg=new TypeError("iterator result is not an object"),G.delegate=null,w;if(Z.done)G[Y.resultName]=Z.value,G.next=Y.nextLoc,G.method!=="return"&&(G.method="next",G.arg=o);else return Z;return G.delegate=null,w}D(C),f(C,d,"Generator"),f(C,c,function(){return this}),f(C,"toString",function(){return"[object Generator]"});function I(Y){var G={tryLoc:Y[0]};1 in Y&&(G.catchLoc=Y[1]),2 in Y&&(G.finallyLoc=Y[2],G.afterLoc=Y[3]),this.tryEntries.push(G)}function H(Y){var G=Y.completion||{};G.type="normal",delete G.arg,Y.completion=G}function V(Y){this.tryEntries=[{tryLoc:"root"}],Y.forEach(I,this),this.reset(!0)}r.keys=function(Y){var G=Object(Y),ae=[];for(var M in G)ae.push(M);return ae.reverse(),function z(){for(;ae.length;){var Z=ae.pop();if(Z in G)return z.value=Z,z.done=!1,z}return z.done=!0,z}};function X(Y){if(Y){var G=Y[c];if(G)return G.call(Y);if(typeof Y.next=="function")return Y;if(!isNaN(Y.length)){var ae=-1,M=function z(){for(;++ae<Y.length;)if(a.call(Y,ae))return z.value=Y[ae],z.done=!1,z;return z.value=o,z.done=!0,z};return M.next=M}}return{next:Q}}r.values=X;function Q(){return{value:o,done:!0}}return V.prototype={constructor:V,reset:function(Y){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(H),!Y)for(var G in this)G.charAt(0)==="t"&&a.call(this,G)&&!isNaN(+G.slice(1))&&(this[G]=o)},stop:function(){this.done=!0;var Y=this.tryEntries[0],G=Y.completion;if(G.type==="throw")throw G.arg;return this.rval},dispatchException:function(Y){if(this.done)throw Y;var G=this;function ae(fe,de){return Z.type="throw",Z.arg=Y,G.next=fe,de&&(G.method="next",G.arg=o),!!de}for(var M=this.tryEntries.length-1;M>=0;--M){var z=this.tryEntries[M],Z=z.completion;if(z.tryLoc==="root")return ae("end");if(z.tryLoc<=this.prev){var te=a.call(z,"catchLoc"),ie=a.call(z,"finallyLoc");if(te&&ie){if(this.prev<z.catchLoc)return ae(z.catchLoc,!0);if(this.prev<z.finallyLoc)return ae(z.finallyLoc)}else if(te){if(this.prev<z.catchLoc)return ae(z.catchLoc,!0)}else if(ie){if(this.prev<z.finallyLoc)return ae(z.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(Y,G){for(var ae=this.tryEntries.length-1;ae>=0;--ae){var M=this.tryEntries[ae];if(M.tryLoc<=this.prev&&a.call(M,"finallyLoc")&&this.prev<M.finallyLoc){var z=M;break}}z&&(Y==="break"||Y==="continue")&&z.tryLoc<=G&&G<=z.finallyLoc&&(z=null);var Z=z?z.completion:{};return Z.type=Y,Z.arg=G,z?(this.method="next",this.next=z.finallyLoc,w):this.complete(Z)},complete:function(Y,G){if(Y.type==="throw")throw Y.arg;return Y.type==="break"||Y.type==="continue"?this.next=Y.arg:Y.type==="return"?(this.rval=this.arg=Y.arg,this.method="return",this.next="end"):Y.type==="normal"&&G&&(this.next=G),w},finish:function(Y){for(var G=this.tryEntries.length-1;G>=0;--G){var ae=this.tryEntries[G];if(ae.finallyLoc===Y)return this.complete(ae.completion,ae.afterLoc),H(ae),w}},catch:function(Y){for(var G=this.tryEntries.length-1;G>=0;--G){var ae=this.tryEntries[G];if(ae.tryLoc===Y){var M=ae.completion;if(M.type==="throw"){var z=M.arg;H(ae)}return z}}throw new Error("illegal catch attempt")},delegateYield:function(Y,G,ae){return this.delegate={iterator:X(Y),resultName:G,nextLoc:ae},this.method==="next"&&(this.arg=o),w}},r}(e.exports);try{regeneratorRuntime=t}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}})(Pue);var Px=(e,t)=>`${e}-${t}-${Math.random().toString(16).slice(3,8)}`;const Eue=Px;let LN=0;var EO=({id:e,action:t,payload:r={}})=>{let n=e;return typeof n>"u"&&(n=Eue("Job",LN),LN+=1),{id:n,action:t,payload:r}},Rc={};let Ex=!1;Rc.logging=Ex;Rc.setLogging=e=>{Ex=e};Rc.log=(...e)=>Ex?console.log.apply(void 0,e):null;const kue=EO,{log:mh}=Rc,Tue=Px;let MN=0;var Cue=()=>{const e=Tue("Scheduler",MN),t={},r={};let n=[];MN+=1;const a=()=>n.length,i=()=>Object.keys(t).length,o=()=>{if(n.length!==0){const f=Object.keys(t);for(let p=0;p<f.length;p+=1)if(typeof r[f[p]]>"u"){n[0](t[f[p]]);break}}},s=(f,p)=>new Promise((h,v)=>{const g=kue({action:f,payload:p});n.push(async y=>{n.shift(),r[y.id]=g;try{h(await y[f].apply(void 0,[...p,g.id]))}catch(x){v(x)}finally{delete r[y.id],o()}}),mh(`[${e}]: Add ${g.id} to JobQueue`),mh(`[${e}]: JobQueue length=${n.length}`),o()});return{addWorker:f=>(t[f.id]=f,mh(`[${e}]: Add ${f.id}`),mh(`[${e}]: Number of workers=${i()}`),o(),f.id),addJob:async(f,...p)=>{if(i()===0)throw Error(`[${e}]: You need to have at least one worker before adding jobs`);return s(f,p)},terminate:async()=>{Object.keys(t).forEach(async f=>{await t[f].terminate()}),n=[]},getQueueLen:a,getNumWorkers:i}};function Lue(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Mue=e=>{const t={};return typeof WorkerGlobalScope<"u"?t.type="webworker":typeof document=="object"?t.type="browser":typeof process=="object"&&typeof Lue=="function"&&(t.type="node"),typeof e>"u"?t:t[e]};const $ue=Mue("type")==="browser",Due=$ue?e=>new URL(e,window.location.href).href:e=>e;var Iue=e=>{const t={...e};return["corePath","workerPath","langPath"].forEach(r=>{e[r]&&(t[r]=Due(t[r]))}),t},kO={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3};const Rue="6.0.1",Fue={version:Rue};var Bue={workerBlobURL:!0,logger:()=>{}};const que=Fue.version,zue=Bue;var Uue={...zue,workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${que}/dist/worker.min.js`},Wue=({workerPath:e,workerBlobURL:t})=>{let r;if(Blob&&URL&&t){const n=new Blob([`importScripts("${e}");`],{type:"application/javascript"});r=new Worker(URL.createObjectURL(n))}else r=new Worker(e);return r},Gue=e=>{e.terminate()},Hue=(e,t)=>{e.onmessage=({data:r})=>{t(r)}},Vue=async(e,t)=>{e.postMessage(t)};const $v=e=>new Promise((t,r)=>{const n=new FileReader;n.onload=()=>{t(n.result)},n.onerror=({target:{error:{code:a}}})=>{r(Error(`File could not be read! Code=${a}`))},n.readAsArrayBuffer(e)}),Ry=async e=>{let t=e;if(typeof e>"u")return"undefined";if(typeof e=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(e)?t=atob(e.split(",")[1]).split("").map(r=>r.charCodeAt(0)):t=await(await fetch(e)).arrayBuffer();else if(typeof HTMLElement<"u"&&e instanceof HTMLElement)e.tagName==="IMG"&&(t=await Ry(e.src)),e.tagName==="VIDEO"&&(t=await Ry(e.poster)),e.tagName==="CANVAS"&&await new Promise(r=>{e.toBlob(async n=>{t=await $v(n),r()})});else if(typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas){const r=await e.convertToBlob();t=await $v(r)}else(e instanceof File||e instanceof Blob)&&(t=await $v(e));return new Uint8Array(t)};var Yue=Ry;const Kue=Uue,Xue=Wue,Jue=Gue,Zue=Hue,Que=Vue,ede=Yue;var tde={defaultOptions:Kue,spawnWorker:Xue,terminateWorker:Jue,onMessage:Zue,send:Que,loadImage:ede};const rde=Iue,Ka=EO,{log:$N}=Rc,nde=Px,Go=kO,{defaultOptions:ade,spawnWorker:ide,terminateWorker:ode,onMessage:sde,loadImage:DN,send:lde}=tde;let IN=0;var TO=async(e="eng",t=Go.LSTM_ONLY,r={},n={})=>{const a=nde("Worker",IN),{logger:i,errorHandler:o,...s}=rde({...ade,...r}),c={},u=typeof e=="string"?e.split("+"):e;let d=t,f=n;const p=[Go.DEFAULT,Go.LSTM_ONLY].includes(t)&&!s.legacyCore;let h,v;const g=new Promise((X,Q)=>{v=X,h=Q}),y=X=>{h(X.message)};let x=ide(s);x.onerror=y,IN+=1;const w=({id:X,action:Q,payload:Y})=>new Promise((G,ae)=>{$N(`[${a}]: Start ${X}, action=${Q}`);const M=`${Q}-${X}`;c[M]={resolve:G,reject:ae},lde(x,{workerId:a,jobId:X,action:Q,payload:Y})}),N=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),_=X=>w(Ka({id:X,action:"load",payload:{options:{lstmOnly:p,corePath:s.corePath,logging:s.logging}}})),b=(X,Q,Y)=>w(Ka({id:Y,action:"FS",payload:{method:"writeFile",args:[X,Q]}})),A=(X,Q)=>w(Ka({id:Q,action:"FS",payload:{method:"readFile",args:[X,{encoding:"utf8"}]}})),O=(X,Q)=>w(Ka({id:Q,action:"FS",payload:{method:"unlink",args:[X]}})),E=(X,Q,Y)=>w(Ka({id:Y,action:"FS",payload:{method:X,args:Q}})),C=(X,Q)=>w(Ka({id:Q,action:"loadLanguage",payload:{langs:X,options:{langPath:s.langPath,dataPath:s.dataPath,cachePath:s.cachePath,cacheMethod:s.cacheMethod,gzip:s.gzip,lstmOnly:[Go.DEFAULT,Go.LSTM_ONLY].includes(d)&&!s.legacyLang}}})),D=(X,Q,Y,G)=>w(Ka({id:G,action:"initialize",payload:{langs:X,oem:Q,config:Y}})),k=(X="eng",Q,Y,G)=>{if(p&&[Go.TESSERACT_ONLY,Go.TESSERACT_LSTM_COMBINED].includes(Q))throw Error("Legacy model requested but code missing.");const ae=Q||d;d=ae;const M=Y||f;f=M;const Z=(typeof X=="string"?X.split("+"):X).filter(te=>!u.includes(te));return u.push(...Z),Z.length>0?C(Z,G).then(()=>D(X,ae,M,G)):D(X,ae,M,G)},T=(X={},Q)=>w(Ka({id:Q,action:"setParameters",payload:{params:X}})),$=async(X,Q={},Y={text:!0},G)=>w(Ka({id:G,action:"recognize",payload:{image:await DN(X),options:Q,output:Y}})),I=async(X,Q)=>{if(p)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return w(Ka({id:Q,action:"detect",payload:{image:await DN(X)}}))},H=async()=>(x!==null&&(ode(x),x=null),Promise.resolve());sde(x,({workerId:X,jobId:Q,status:Y,action:G,data:ae})=>{const M=`${G}-${Q}`;if(Y==="resolve")$N(`[${X}]: Complete ${Q}`),c[M].resolve({jobId:Q,data:ae}),delete c[M];else if(Y==="reject")if(c[M].reject(ae),delete c[M],G==="load"&&h(ae),o)o(ae);else throw Error(ae);else Y==="progress"&&i({...ae,userJobId:Q})});const V={id:a,worker:x,load:N,writeText:b,readText:A,removeFile:O,FS:E,reinitialize:k,setParameters:T,recognize:$,detect:I,terminate:H};return _().then(()=>C(e)).then(()=>D(e,t,n)).then(()=>v(V)).catch(()=>{}),g};const CO=TO,cde=async(e,t,r)=>{const n=await CO(t,1,r);return n.recognize(e).finally(async()=>{await n.terminate()})},ude=async(e,t)=>{const r=await CO("osd",0,t);return r.detect(e).finally(async()=>{await r.terminate()})};var dde={recognize:cde,detect:ude},fde={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"},hde={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"};const pde=Cue,mde=TO,gde=dde,vde=fde,yde=kO,bde=hde,{setLogging:xde}=Rc;var wde={languages:vde,OEM:yde,PSM:bde,createScheduler:pde,createWorker:mde,setLogging:xde,...gde};const jde=wt(wde);class Nde{constructor(){this.worker=null,this.isInitialized=!1}async initialize(){if(!this.isInitialized)try{this.worker=await jde.createWorker("eng"),this.isInitialized=!0,console.log("OCR Worker initialized successfully")}catch(t){throw console.error("Failed to initialize OCR worker:",t),new Error("OCR initialization failed")}}async processImage(t,r=null){this.isInitialized||await this.initialize();try{const n=await this.worker.recognize(t,{logger:r?a=>{a.status==="recognizing text"&&r(Math.round(a.progress*100))}:void 0});return{success:!0,text:n.data.text,confidence:n.data.confidence,words:n.data.words,lines:n.data.lines}}catch(n){return console.error("OCR processing failed:",n),{success:!1,error:n.message}}}async processBankStatement(t,r=null){const n=await this.processImage(t,r);if(!n.success)return n;const a=this.parseTransactions(n.text);return{success:!0,rawText:n.text,confidence:n.confidence,transactions:a,metadata:{totalTransactions:a.length,processingDate:new Date().toISOString()}}}parseTransactions(t){const r=[],n=t.split(`
`).filter(i=>i.trim().length>0),a={date:/(\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4})/,amount:/[\$\-]?(\d{1,3}(?:,\d{3})*\.?\d{0,2})/,debitCredit:/(DEBIT|CREDIT|DR|CR|WITHDRAWAL|DEPOSIT)/i};for(let i=0;i<n.length;i++){const o=n[i].trim();if(this.isHeaderLine(o)||o.length<10)continue;const s=o.match(a.date),c=o.match(new RegExp(a.amount.source,"g"));if(s&&c){const u=c.map(d=>{const f=d.replace(/[\$,]/g,"");return parseFloat(f)}).filter(d=>!isNaN(d)&&d>0);if(u.length>0){const d=Math.max(...u);let f=o.replace(a.date,"").replace(new RegExp(a.amount.source,"g"),"").replace(a.debitCredit,"").trim().replace(/\s+/g," ");f=this.cleanDescription(f),f.length>3&&r.push({id:`ocr_${Date.now()}_${i}`,date:this.parseDate(s[1]),description:f,amount:d,type:this.determineTransactionType(o),rawLine:o,confidence:this.calculateLineConfidence(o)})}}}return r.sort((i,o)=>new Date(o.date)-new Date(i.date))}isHeaderLine(t){const r=["STATEMENT","ACCOUNT","BALANCE","DATE","DESCRIPTION","AMOUNT","TRANSACTION","BEGINNING","ENDING","TOTAL","PAGE","BANK","CREDIT UNION"],n=t.toUpperCase();return r.some(a=>n.includes(a))&&!t.match(/\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}/)}cleanDescription(t){return t.replace(/\b(POS|ATM|ACH|CHK|DEP|WD|TFR|FEE)\b/gi,"").replace(/\b\d{4,}\b/g,"").replace(/[#*]+/g,"").replace(/\s+/g," ").trim()}parseDate(t){const r=[/(\d{1,2})\/(\d{1,2})\/(\d{2,4})/,/(\d{1,2})-(\d{1,2})-(\d{2,4})/];for(const n of r){const a=t.match(n);if(a){let[,i,o,s]=a;return s.length===2&&(s=parseInt(s)>50?`19${s}`:`20${s}`),`${s}-${i.padStart(2,"0")}-${o.padStart(2,"0")}`}}return t}determineTransactionType(t){const r=t.toUpperCase();return r.includes("DEBIT")||r.includes("WITHDRAWAL")||r.includes("DR")||r.includes("WD")?"debit":r.includes("CREDIT")||r.includes("DEPOSIT")||r.includes("CR")||r.includes("DEP")?"credit":"debit"}calculateLineConfidence(t){let r=.5;return t.match(/\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}/)&&(r+=.2),t.match(/\$?\d+\.\d{2}/)&&(r+=.2),t.length>20&&t.length<100&&(r+=.1),Math.min(r,1)}async terminate(){this.worker&&(await this.worker.terminate(),this.worker=null,this.isInitialized=!1)}validateTransactions(t){return t.filter(r=>r.date&&r.description&&r.description.length>2&&r.amount&&r.amount>0&&!isNaN(r.amount))}suggestCorrections(t){return t.map(r=>{const n=[];return r.description.includes("0")&&r.description.includes("O")&&n.push("Check if O should be 0 or vice versa"),r.description.includes("1")&&r.description.includes("l")&&n.push("Check if l should be 1 or vice versa"),r.amount>1e4&&n.push("Verify large amount - possible OCR error"),{...r,suggestions:n}})}}const Dv=new Nde,Sde=({onUpload:e})=>{const[t,r]=F.useState(null),[n,a]=F.useState(!1),[i,o]=F.useState(0),[s,c]=F.useState(null),[u,d]=F.useState(!1),[f,p]=F.useState(!1),h=b=>{b.preventDefault(),b.stopPropagation(),b.type==="dragenter"||b.type==="dragover"?p(!0):b.type==="dragleave"&&p(!1)},v=b=>{b.preventDefault(),b.stopPropagation(),p(!1),b.dataTransfer.files&&b.dataTransfer.files[0]&&y(b.dataTransfer.files[0])},g=b=>{b.target.files&&b.target.files[0]&&y(b.target.files[0])},y=b=>{if(!["image/jpeg","image/png","image/jpg","application/pdf"].includes(b.type)){alert("Please upload a valid image (JPG, PNG) or PDF file.");return}if(b.size>10*1024*1024){alert("File size must be less than 10MB.");return}r(b),c(null),o(0)},x=async()=>{if(t){a(!0),o(0);try{if(t.type==="application/pdf"){alert("PDF processing will be implemented in the next update. Please use an image file for now."),a(!1);return}const b=await Dv.processBankStatement(t,A=>{o(A)});if(b.success){const A=Dv.validateTransactions(b.transactions),O=Dv.suggestCorrections(A);c({...b,transactions:O})}else alert(`OCR processing failed: ${b.error}`)}catch(b){console.error("OCR processing error:",b),alert("Failed to process the bank statement. Please try again.")}finally{a(!1),o(0)}}},w=()=>{s&&s.transactions.length>0&&e({file:t,ocrResult:s,transactions:s.transactions})},N=(b,A,O)=>{const E=[...s.transactions];E[b]={...E[b],[A]:A==="amount"?parseFloat(O)||0:O},c({...s,transactions:E})},_=b=>{const A=s.transactions.filter((O,E)=>E!==b);c({...s,transactions:A})};return l.jsxs("div",{className:"space-y-6",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Upload Bank Statement"}),l.jsxs("div",{className:`relative border-2 border-dashed rounded-lg p-8 text-center transition-colors ${f?"border-blue-400 bg-blue-50":"border-gray-300"} ${n?"opacity-50 pointer-events-none":""}`,onDragEnter:h,onDragLeave:h,onDragOver:h,onDrop:v,children:[l.jsx(fue,{className:"mx-auto h-12 w-12 text-gray-400"}),l.jsx("h4",{className:"mt-2 text-sm font-medium text-gray-900",children:n?"Processing...":"Upload your bank statement"}),l.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Drag and drop or click to select. Supports JPG, PNG, and PDF files up to 10MB."}),l.jsxs("div",{className:"mt-6",children:[l.jsx("input",{type:"file",id:"file-upload",className:"sr-only",onChange:g,accept:".pdf,.png,.jpg,.jpeg",disabled:n}),l.jsx("label",{htmlFor:"file-upload",className:"cursor-pointer inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Select a file"})]}),t&&l.jsx("div",{className:"mt-4 p-3 bg-gray-50 rounded-md",children:l.jsxs("p",{className:"text-sm text-gray-600",children:[l.jsx("strong",{children:"Selected:"})," ",t.name," (",(t.size/1024/1024).toFixed(2)," MB)"]})}),n&&l.jsxs("div",{className:"mt-4",children:[l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${i}%`}})}),l.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Processing: ",i,"%"]})]})]}),t&&!s&&!n&&l.jsx("div",{className:"text-center",children:l.jsxs("button",{onClick:x,className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700",children:[l.jsx(Sue,{className:"h-5 w-5 mr-2"}),"Extract Transactions with OCR"]})}),s&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-md p-4",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Iy,{className:"h-5 w-5 text-green-400 mr-2"}),l.jsx("h4",{className:"text-sm font-medium text-green-800",children:"OCR Processing Complete"})]}),l.jsxs("p",{className:"mt-1 text-sm text-green-700",children:["Extracted ",s.transactions.length," transactions with ",Math.round(s.confidence),"% confidence."]})]}),l.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg",children:[l.jsxs("div",{className:"px-4 py-3 border-b border-gray-200",children:[l.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"Review Extracted Transactions"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Please review and edit the transactions below before proceeding."})]}),l.jsx("div",{className:"divide-y divide-gray-200 max-h-96 overflow-y-auto",children:s.transactions.map((b,A)=>l.jsxs("div",{className:"p-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Date"}),l.jsx("input",{type:"date",value:b.date,onChange:O=>N(A,"date",O.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Description"}),l.jsx("input",{type:"text",value:b.description,onChange:O=>N(A,"description",O.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})]}),l.jsxs("div",{className:"flex items-end space-x-2",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Amount"}),l.jsx("input",{type:"number",step:"0.01",value:b.amount,onChange:O=>N(A,"amount",O.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})]}),l.jsx("button",{onClick:()=>_(A),className:"px-2 py-1 text-red-600 hover:text-red-800 text-sm",title:"Remove transaction",children:"✕"})]})]}),b.suggestions&&b.suggestions.length>0&&l.jsx("div",{className:"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded",children:l.jsxs("div",{className:"flex items-start",children:[l.jsx(jue,{className:"h-4 w-4 text-yellow-400 mr-1 mt-0.5"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-medium text-yellow-800",children:"Suggestions:"}),l.jsx("ul",{className:"text-xs text-yellow-700 list-disc list-inside",children:b.suggestions.map((O,E)=>l.jsx("li",{children:O},E))})]})]})}),l.jsxs("div",{className:"mt-2 flex items-center text-xs text-gray-500",children:[l.jsxs("span",{children:["Confidence: ",Math.round(b.confidence*100),"%"]}),l.jsx("div",{className:"ml-2 flex-1 bg-gray-200 rounded-full h-1",children:l.jsx("div",{className:"bg-blue-600 h-1 rounded-full",style:{width:`${b.confidence*100}%`}})})]})]},b.id))}),l.jsx("div",{className:"px-4 py-3 border-t border-gray-200 text-center",children:l.jsxs("button",{onClick:w,disabled:s.transactions.length===0,className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 disabled:opacity-50",children:[l.jsx(Iy,{className:"h-5 w-5 mr-2"}),"Confirm ",s.transactions.length," Transactions"]})})]})]})]})};class _de{constructor(){this.config={autoMatchThreshold:.85,suggestMatchThreshold:.6,weights:{amount:.4,description:.3,date:.2,vendor:.1},amountTolerance:.01,dateWindow:7,fuzzyThreshold:.6}}findMatches(t,r){const n=[];for(const a of t){const i=this.findSuggestionsForTransaction(a,r);n.push({bankTransaction:a,suggestions:i,bestMatch:i.length>0?i[0]:null,autoMatch:i.length>0&&i[0].confidence>=this.config.autoMatchThreshold,isMatched:!1})}return n}findSuggestionsForTransaction(t,r){const n=[];for(const a of r){const i=this.calculateMatchScore(t,a);i.totalScore>=this.config.suggestMatchThreshold&&n.push({expense:a,confidence:i.totalScore,matchReasons:i.reasons,scoreBreakdown:i.breakdown})}return n.sort((a,i)=>i.confidence-a.confidence)}calculateMatchScore(t,r){const n={amount:this.calculateAmountScore(t.amount,r.amount),description:this.calculateDescriptionScore(t.description,r.description||r.vendor),date:this.calculateDateScore(t.date,r.expense_date||r.date),vendor:this.calculateVendorScore(t.description,r.vendor)},a=Object.keys(n).reduce((o,s)=>o+n[s]*this.config.weights[s],0),i=this.generateMatchReasons(n,t,r);return{totalScore:Math.min(a,1),breakdown:n,reasons:i}}calculateAmountScore(t,r){const n=Math.abs(t-r);if(n<=this.config.amountTolerance)return 1;const a=n/Math.max(t,r);return a<=.01?.95:a<=.05?.85:a<=.1?.7:a<=.2?.5:0}calculateDescriptionScore(t,r){if(!t||!r)return 0;const n=this.normalizeDescription(t),a=this.normalizeDescription(r),i=this.calculateStringSimilarity(n,a),o=this.calculateWordMatchBoost(n,a);return Math.min(i+o,1)}calculateDateScore(t,r){if(!t||!r)return 0;const n=new Date(t),a=new Date(r),i=Math.abs((n-a)/(1e3*60*60*24));return i===0?1:i<=1?.9:i<=3?.8:i<=7?.6:i<=14?.4:i<=30?.2:0}calculateVendorScore(t,r){if(!r)return 0;const n=this.normalizeDescription(t),a=this.normalizeDescription(r);if(n.includes(a))return 1;const i=a.split(" ").filter(s=>s.length>2);return i.filter(s=>n.includes(s)).length/i.length}normalizeDescription(t){return t.toLowerCase().replace(/[^\w\s]/g," ").replace(/\b(pos|atm|ach|chk|dep|wd|tfr|fee)\b/g,"").replace(/\b\d+\b/g,"").replace(/\s+/g," ").trim()}calculateStringSimilarity(t,r){const n=[],a=t.length,i=r.length;for(let c=0;c<=a;c++)n[c]=[c];for(let c=0;c<=i;c++)n[0][c]=c;for(let c=1;c<=a;c++)for(let u=1;u<=i;u++){const d=t[c-1]===r[u-1]?0:1;n[c][u]=Math.min(n[c-1][u]+1,n[c][u-1]+1,n[c-1][u-1]+d)}const o=n[a][i],s=Math.max(a,i);return s===0?1:1-o/s}calculateWordMatchBoost(t,r){const n=t.split(" ").filter(s=>s.length>2),a=r.split(" ").filter(s=>s.length>2);return n.length===0||a.length===0?0:n.filter(s=>a.includes(s)).length/Math.max(n.length,a.length)*.2}generateMatchReasons(t,r,n){const a=[];return t.amount>=.95?a.push("Exact amount match"):t.amount>=.8?a.push("Very close amount"):t.amount>=.6&&a.push("Similar amount"),t.description>=.8?a.push("Strong description match"):t.description>=.6&&a.push("Similar description"),t.date>=.9?a.push("Same/next day"):t.date>=.6&&a.push("Within a week"),t.vendor>=.8&&a.push("Vendor name match"),a.length===0&&a.push("Potential match"),a}performAutoMatching(t){const r=[];for(const n of t)n.autoMatch&&n.bestMatch&&(n.isMatched=!0,n.matchedExpense=n.bestMatch.expense,r.push(n));return r}updateConfig(t){this.config={...this.config,...t}}getMatchingStats(t){return{total:t.length,withSuggestions:t.filter(r=>r.suggestions.length>0).length,autoMatched:t.filter(r=>r.autoMatch).length,highConfidence:t.filter(r=>r.bestMatch&&r.bestMatch.confidence>=.8).length,mediumConfidence:t.filter(r=>r.bestMatch&&r.bestMatch.confidence>=.6&&r.bestMatch.confidence<.8).length,lowConfidence:t.filter(r=>r.bestMatch&&r.bestMatch.confidence<.6).length,noMatches:t.filter(r=>r.suggestions.length===0).length}}}const RN=new _de,Ade=({reconciliationId:e,bankTransactions:t=[],systemExpenses:r=[]})=>{const[n,a]=F.useState([]),[i,o]=F.useState(null),[s,c]=F.useState(null),[u,d]=F.useState(!1),[f,p]=F.useState(!0),[h,v]=F.useState({total:0,matched:0,autoMatched:0,unmatched:0});F.useEffect(()=>{t.length>0&&r.length>0&&g()},[t,r]);const g=()=>{d(!0);try{const _=RN.findMatches(t,r);a(_);const b={total:t.length,matched:_.filter(A=>A.bestMatch).length,autoMatched:_.filter(A=>A.autoMatch).length,unmatched:_.filter(A=>!A.bestMatch).length};if(v(b),f){const A=RN.performAutoMatching(_);console.log(`Auto-matched ${A.length} transactions`)}}catch(_){console.error("Matching failed:",_)}finally{d(!1)}},y=async(_,b)=>{try{if((await Oh.matchTransaction(e,{bankTransactionId:_.id,expenseId:b.id})).success){const O=n.map(E=>E.bankTransaction.id===_.id?{...E,isMatched:!0,matchedExpense:b}:E);a(O),o(null),c(null)}}catch(A){console.error("Failed to match transaction:",A),alert("Failed to match transaction. Please try again.")}},x=async _=>{_.bestMatch&&await y(_.bankTransaction,_.bestMatch.expense)},w=_=>_>=.8?"text-green-600 bg-green-100":_>=.6?"text-yellow-600 bg-yellow-100":"text-red-600 bg-red-100",N=_=>_>=.8?"High":_>=.6?"Medium":"Low";return u?l.jsxs("div",{className:"flex items-center justify-center p-8",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),l.jsx("span",{className:"ml-2",children:"Analyzing transactions..."})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Smart Transaction Matching"}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",checked:f,onChange:_=>p(_.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),l.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Auto-match high confidence"})]}),l.jsx("button",{onClick:g,className:"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700",children:"Re-analyze"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-blue-600",children:h.total}),l.jsx("div",{className:"text-sm text-blue-800",children:"Total Transactions"})]}),l.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-green-600",children:h.matched}),l.jsx("div",{className:"text-sm text-green-800",children:"Potential Matches"})]}),l.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-purple-600",children:h.autoMatched}),l.jsx("div",{className:"text-sm text-purple-800",children:"Auto-Matched"})]}),l.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-red-600",children:h.unmatched}),l.jsx("div",{className:"text-sm text-red-800",children:"Unmatched"})]})]}),l.jsx("div",{className:"space-y-4",children:n.map((_,b)=>l.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("div",{className:"flex-1",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"font-medium text-gray-900",children:_.bankTransaction.description}),l.jsxs("div",{className:"font-bold text-lg",children:["$",_.bankTransaction.amount.toFixed(2)]}),l.jsx("div",{className:"text-sm text-gray-500",children:_.bankTransaction.date})]})}),_.isMatched&&l.jsxs("div",{className:"flex items-center text-green-600",children:[l.jsx(Iy,{className:"h-5 w-5 mr-1"}),l.jsx("span",{className:"text-sm font-medium",children:"Matched"})]})]}),_.suggestions.length>0&&!_.isMatched&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-2",children:[l.jsx(Aue,{className:"h-4 w-4 mr-1"}),l.jsx("span",{children:"Suggested matches:"})]}),_.suggestions.slice(0,3).map((A,O)=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded border hover:bg-gray-100 cursor-pointer",onClick:()=>x({..._,bestMatch:A}),children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"font-medium",children:A.expense.vendor||A.expense.description}),l.jsxs("div",{className:"font-bold",children:["$",A.expense.amount.toFixed(2)]}),l.jsx("div",{className:"text-sm text-gray-500",children:A.expense.date})]}),l.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:A.matchReasons.map((E,C)=>l.jsx("span",{className:"inline-block px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded",children:E},C))})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded ${w(A.confidence)}`,children:[N(A.confidence)," (",Math.round(A.confidence*100),"%)"]}),l.jsx("button",{className:"p-1 text-green-600 hover:text-green-800",children:l.jsx(CN,{className:"h-4 w-4"})})]})]},A.expense.id)),_.suggestions.length>3&&l.jsxs("div",{className:"text-sm text-gray-500 text-center",children:["+",_.suggestions.length-3," more potential matches"]})]}),_.suggestions.length===0&&!_.isMatched&&l.jsxs("div",{className:"flex items-center justify-center p-4 bg-red-50 rounded border border-red-200",children:[l.jsx(PO,{className:"h-5 w-5 text-red-500 mr-2"}),l.jsx("span",{className:"text-red-700",children:"No potential matches found"}),l.jsx("button",{className:"ml-4 px-3 py-1 text-sm bg-red-600 text-white rounded hover:bg-red-700",children:"Create New Expense"})]})]},_.bankTransaction.id))}),l.jsxs("div",{className:"border-t pt-6",children:[l.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Manual Matching"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("h5",{className:"font-medium text-gray-800 mb-3",children:"Unmatched Bank Transactions"}),l.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:n.filter(_=>!_.isMatched).map(_=>l.jsxs("div",{onClick:()=>o(_.bankTransaction),className:`p-3 rounded border cursor-pointer ${(i==null?void 0:i.id)===_.bankTransaction.id?"bg-blue-100 border-blue-400":"bg-white hover:bg-gray-50"}`,children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"font-medium",children:_.bankTransaction.description}),l.jsxs("span",{className:"font-bold",children:["$",_.bankTransaction.amount.toFixed(2)]})]}),l.jsx("div",{className:"text-sm text-gray-500",children:_.bankTransaction.date})]},_.bankTransaction.id))})]}),l.jsxs("div",{children:[l.jsx("h5",{className:"font-medium text-gray-800 mb-3",children:"Unmatched System Expenses"}),l.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:r.filter(_=>!_.is_matched).map(_=>l.jsxs("div",{onClick:()=>c(_),className:`p-3 rounded border cursor-pointer ${(s==null?void 0:s.id)===_.id?"bg-green-100 border-green-400":"bg-white hover:bg-gray-50"}`,children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"font-medium",children:_.vendor||_.description}),l.jsxs("span",{className:"font-bold",children:["$",_.amount.toFixed(2)]})]}),l.jsx("div",{className:"text-sm text-gray-500",children:_.date})]},_.id))})]})]}),i&&s&&l.jsx("div",{className:"mt-4 text-center",children:l.jsxs("button",{onClick:()=>y(i,s),className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700",children:[l.jsx(CN,{className:"h-5 w-5 mr-2"}),"Match Selected Transactions"]})})]})]})},LO=()=>l.jsxs("div",{children:[l.jsx("h1",{children:"Reconciliation Report"}),l.jsx("p",{children:"This is a placeholder for the Reconciliation Report."})]}),Ode=({onComplete:e,onCancel:t})=>{const[r,n]=F.useState(1),[a,i]=F.useState({id:null,month:new Date().getMonth()+1,year:new Date().getFullYear(),bankStatement:null,bankTransactions:[],systemExpenses:[]}),[o,s]=F.useState(!1),c=[{id:1,name:"Period Selection",description:"Select reconciliation period"},{id:2,name:"Upload Statement",description:"Upload bank statement"},{id:3,name:"Match Transactions",description:"Review and match transactions"},{id:4,name:"Finalize Report",description:"Complete reconciliation"}],u=(v,g)=>{i(y=>({...y,[v]:g}))},d=async v=>{s(!0);try{const g=await Oh.uploadStatement(a.id,{transactions:v.transactions});if(g.success){const y=await Oh.getTransactions(a.id);y.success&&(i(x=>({...x,bankStatement:v.file,bankTransactions:y.data.bankTransactions,systemExpenses:y.data.systemExpenses})),n(r+1))}else alert("Failed to upload transactions: "+g.error)}catch(g){console.error("Failed to upload statement:",g),alert("Failed to upload statement. Please try again.")}finally{s(!1)}},f=async()=>{if(console.log("🔍 [FRONTEND DEBUG] nextStep called, currentStep:",r),r===1){console.log("🔍 [FRONTEND DEBUG] Starting reconciliation process"),console.log("🔍 [FRONTEND DEBUG] Reconciliation data:",{month:a.month,year:a.year}),s(!0);try{console.log("🔍 [FRONTEND DEBUG] Calling reconciliationAPI.startReconciliation");const v=await Oh.startReconciliation({month:a.month,year:a.year});console.log("🔍 [FRONTEND DEBUG] startReconciliation response:",v),v.success?(console.log("✅ [FRONTEND DEBUG] Reconciliation started successfully, ID:",v.data.id),i(g=>({...g,id:v.data.id})),n(r+1)):(console.error("❌ [FRONTEND DEBUG] Failed to start reconciliation:",v.error),alert("Failed to start reconciliation: "+v.error))}catch(v){console.error("❌ [FRONTEND DEBUG] Exception in nextStep:",v),alert("Failed to start reconciliation. Please try again.")}finally{console.log("🔍 [FRONTEND DEBUG] Setting loading to false"),s(!1)}}else r<c.length&&(console.log("🔍 [FRONTEND DEBUG] Moving to next step:",r+1),n(r+1))},p=()=>{r>1&&n(r-1)},h=()=>{switch(r){case 1:return l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Select Reconciliation Period"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Month"}),l.jsx("select",{value:a.month,onChange:v=>u("month",parseInt(v.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:Array.from({length:12},(v,g)=>l.jsx("option",{value:g+1,children:new Date(0,g).toLocaleString("default",{month:"long"})},g+1))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Year"}),l.jsx("input",{type:"number",value:a.year,onChange:v=>u("year",parseInt(v.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]})]})]});case 2:return l.jsx(Sde,{onUpload:d});case 3:return l.jsx(Ade,{reconciliationId:a.id,bankTransactions:a.bankTransactions,systemExpenses:a.systemExpenses});case 4:return l.jsx(LO,{reconciliation:a});default:return l.jsxs("div",{children:["Step ",r]})}};return l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Monthly Reconciliation"}),l.jsx("button",{onClick:t,className:"inline-flex items-center p-2 border border-gray-300 rounded-md text-gray-400 hover:text-gray-500 hover:border-gray-400",children:l.jsx(PO,{className:"h-5 w-5"})})]}),l.jsx("div",{className:"mb-8",children:l.jsx("div",{className:"flex items-center justify-between",children:c.map((v,g)=>l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full border-2 ${r>=v.id?"bg-blue-600 border-blue-600 text-white":"border-gray-300 text-gray-500"}`,children:r>v.id?l.jsx(gue,{className:"h-5 w-5"}):l.jsx("span",{className:"text-sm font-medium",children:v.id})}),l.jsxs("div",{className:"ml-3",children:[l.jsx("div",{className:`text-sm font-medium ${r>=v.id?"text-blue-600":"text-gray-500"}`,children:v.name}),l.jsx("div",{className:"text-xs text-gray-500",children:v.description})]}),g<c.length-1&&l.jsx("div",{className:`flex-1 h-0.5 mx-4 ${r>v.id?"bg-blue-600":"bg-gray-300"}`})]},v.id))})}),l.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:h()}),l.jsxs("div",{className:"flex justify-between",children:[l.jsxs("button",{onClick:p,disabled:r===1,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx(yue,{className:"h-4 w-4 mr-2"}),"Previous"]}),r<c.length?l.jsxs("button",{onClick:f,disabled:o||r===2&&!a.bankStatement,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[o?"Starting...":"Next",l.jsx(xue,{className:"h-4 w-4 ml-2"})]}):l.jsx("button",{onClick:()=>e(a),className:"inline-flex items-center px-6 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700",children:"Complete Reconciliation"})]})]})},Pde=[{id:1,subject:"Back-to-School Picnic",type:"event",status:"draft",updated_at:"2025-06-01"},{id:2,subject:"Fundraiser Reminder",type:"fundraiser",status:"draft",updated_at:"2025-06-02"}],Ede={draft:"bg-gray-200 text-gray-800",scheduled:"bg-yellow-100 text-yellow-800",sent:"bg-green-100 text-green-800",failed:"bg-red-100 text-red-800"};function kde(){const[e,t]=F.useState("drafts"),r=n=>n.length===0?l.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"No communications found."}):l.jsx("ul",{className:"space-y-3 mt-4",children:n.map(a=>l.jsxs("li",{className:"p-4 bg-white border rounded shadow flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold",children:a.subject}),l.jsxs("p",{className:"text-xs text-gray-500",children:["Type: ",a.type," • Last updated: ",a.updated_at]})]}),l.jsx("span",{className:`text-xs px-2 py-1 rounded ${Ede[a.status]}`,children:a.status})]},a.id))});return l.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-8",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h1",{className:"text-2xl font-bold",children:"Communications"}),l.jsx(Oa,{to:"/communications/create",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"+ New"})]}),l.jsxs(Si.Tabs,{value:e,onChange:n=>t(n),children:[l.jsxs(Si.TabsHeader,{children:[l.jsx(Si.Tab,{value:"drafts",children:"Drafts"}),l.jsx(Si.Tab,{value:"scheduled",children:"Scheduled"}),l.jsx(Si.Tab,{value:"sent",children:"Sent"})]}),l.jsxs(Si.TabsBody,{children:[l.jsx(Si.TabPanel,{value:"drafts",children:r(Pde)}),l.jsx(Si.TabPanel,{value:"scheduled",children:r([])}),l.jsx(Si.TabPanel,{value:"sent",children:r([])})]})]})]})}const Tde=()=>{const e=gr(),[t,r]=F.useState("grid"),[n,a]=F.useState("manual"),[i,o]=F.useState(""),[s,c]=F.useState("all"),u=[{id:1,title:"Fall Festival Announcement",type:"email",status:"sent",audience:"All Families",sentDate:"2024-10-01",openRate:78,clickRate:12,createdBy:"stella",description:"Exciting announcement about our upcoming Fall Festival"},{id:2,title:"Volunteer Recruitment Drive",type:"social",status:"scheduled",audience:"Facebook & Instagram",scheduledDate:"2024-10-05",engagement:0,createdBy:"manual",description:"Call for volunteers for upcoming events"},{id:3,title:"Book Fair Reminder",type:"sms",status:"draft",audience:"Parent Contacts",deliveryRate:0,createdBy:"stella",description:"Reminder about the upcoming book fair"},{id:4,title:"Monthly Newsletter",type:"newsletter",status:"in_progress",audience:"All Subscribers",progress:65,createdBy:"manual",description:"October newsletter with updates and events"}],d=T=>{e(`/communications/compose?mode=email&ai=${T}`)},f=T=>{e(`/communications/compose?mode=social&ai=${T}`)},p=T=>{e(`/communications/compose?mode=sms&ai=${T}`)},h=T=>{e(`/communications/compose?mode=email&type=newsletter&ai=${T}`)},v=T=>{e(`/communications/create?view=${T}`)},g=T=>{e(`/communications/create?edit=${T}`)},y=T=>{console.log("Sending communication:",T)},x=()=>{e("/communications/ai")},w=()=>{e("/communications/create?tab=analytics")},N=()=>{e("/communications/create?tab=schedule")},_=()=>{e("/communications/create?tab=audiences")},b=()=>{e("/communications/create")},A=T=>{const $={draft:"bg-gray-100 text-gray-800",in_progress:"bg-blue-100 text-blue-800",scheduled:"bg-yellow-100 text-yellow-800",sent:"bg-green-100 text-green-800",failed:"bg-red-100 text-red-800"};return $[T]||$.draft},O=T=>({email:xl,sms:l1,social:s1,newsletter:jn})[T]||xl,E=({communication:T})=>{const $=O(T.type);return l.jsx("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 hover:shadow-lg transition-shadow",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[l.jsx($,{className:"w-5 h-5 text-blue-600"}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:T.title}),T.createdBy==="stella"&&l.jsx(Vt,{className:"w-4 h-4 text-purple-500",title:"Created by Stella"})]}),l.jsx("p",{className:"text-sm text-gray-600 mb-3",children:T.description}),l.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(ra,{className:"w-4 h-4"}),l.jsx("span",{children:T.audience})]}),T.sentDate&&l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(jn,{className:"w-4 h-4"}),l.jsx("span",{children:new Date(T.sentDate).toLocaleDateString()})]})]})]}),l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${A(T.status)}`,children:T.status.replace("_"," ").charAt(0).toUpperCase()+T.status.replace("_"," ").slice(1)})]}),T.status==="sent"&&l.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[l.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[l.jsx("div",{className:"text-sm text-green-600",children:"Open Rate"}),l.jsxs("div",{className:"text-lg font-semibold text-green-700",children:[T.openRate,"%"]})]}),l.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[l.jsx("div",{className:"text-sm text-blue-600",children:"Click Rate"}),l.jsxs("div",{className:"text-lg font-semibold text-blue-700",children:[T.clickRate,"%"]})]})]}),T.status==="in_progress"&&l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[l.jsx("span",{className:"text-gray-600",children:"Progress"}),l.jsxs("span",{className:"font-medium text-gray-900",children:[T.progress,"%"]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${T.progress}%`}})})]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsxs("button",{onClick:()=>v(T.id),className:"flex-1 flex items-center justify-center px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx(ds,{className:"w-4 h-4 mr-2"}),"View"]}),l.jsxs("button",{onClick:()=>g(T.id),className:"flex-1 flex items-center justify-center px-3 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[l.jsx(zu,{className:"w-4 h-4 mr-2"}),"Edit"]}),T.status==="draft"&&l.jsxs("button",{onClick:()=>y(T.id),className:"flex-1 flex items-center justify-center px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[l.jsx(VN,{className:"w-4 h-4 mr-2"}),"Send"]})]})]})})},C=()=>l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Create New Communication"}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-4 gap-6",children:[l.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-6 hover:border-blue-300 transition-colors",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(xl,{className:"w-8 h-8 text-blue-600"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:"Email Campaign"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Reach all families"})]})]}),l.jsxs("div",{className:"space-y-3 mb-4",children:[l.jsx("button",{onClick:()=>d("manual"),className:"w-full py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:"Manual Creation"}),l.jsx("button",{onClick:()=>d("assisted"),className:"w-full py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm",children:"Let Stella Help"}),l.jsx("button",{onClick:()=>d("automated"),className:"w-full py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors text-sm",children:"Stella Auto-Generate"})]})]}),l.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-6 hover:border-green-300 transition-colors",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(s1,{className:"w-8 h-8 text-green-600"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:"Social Media"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Facebook & Instagram"})]})]}),l.jsxs("div",{className:"space-y-3 mb-4",children:[l.jsx("button",{onClick:()=>f("manual"),className:"w-full py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:"Manual Creation"}),l.jsx("button",{onClick:()=>f("assisted"),className:"w-full py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm",children:"Let Stella Help"}),l.jsx("button",{onClick:()=>f("automated"),className:"w-full py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors text-sm",children:"Stella Auto-Generate"})]})]}),l.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-6 hover:border-yellow-300 transition-colors",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(l1,{className:"w-8 h-8 text-yellow-600"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:"SMS Campaign"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Direct text messages"})]})]}),l.jsxs("div",{className:"space-y-3 mb-4",children:[l.jsx("button",{onClick:()=>p("manual"),className:"w-full py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:"Manual Creation"}),l.jsx("button",{onClick:()=>p("assisted"),className:"w-full py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm",children:"Let Stella Help"}),l.jsx("button",{onClick:()=>p("automated"),className:"w-full py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors text-sm",children:"Stella Auto-Generate"})]})]}),l.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-6 hover:border-purple-300 transition-colors",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(jn,{className:"w-8 h-8 text-purple-600"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:"Newsletter"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Monthly updates"})]})]}),l.jsxs("div",{className:"space-y-3 mb-4",children:[l.jsx("button",{onClick:()=>h("manual"),className:"w-full py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:"Manual Creation"}),l.jsx("button",{onClick:()=>h("assisted"),className:"w-full py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm",children:"Let Stella Help"}),l.jsx("button",{onClick:()=>h("automated"),className:"w-full py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors text-sm",children:"Stella Auto-Generate"})]})]})]})]}),D=()=>l.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg p-6 mb-6",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(Vt,{className:"w-6 h-6 text-purple-600"}),l.jsx("h3",{className:"text-lg font-semibold text-purple-900",children:"Stella's Communication Insights"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"bg-white rounded-lg p-4",children:[l.jsx("div",{className:"text-sm text-purple-600 mb-1",children:"Best Send Time"}),l.jsx("div",{className:"text-lg font-semibold text-purple-900",children:"Tuesday 10 AM"}),l.jsx("div",{className:"text-xs text-purple-700",children:"Based on your audience engagement"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-4",children:[l.jsx("div",{className:"text-sm text-purple-600 mb-1",children:"Top Performing Subject"}),l.jsx("div",{className:"text-lg font-semibold text-purple-900",children:"Event Announcements"}),l.jsx("div",{className:"text-xs text-purple-700",children:"85% average open rate"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-4",children:[l.jsx("div",{className:"text-sm text-purple-600 mb-1",children:"Stella's Suggestion"}),l.jsx("div",{className:"text-lg font-semibold text-purple-900",children:"Add Volunteer Call"}),l.jsx("div",{className:"text-xs text-purple-700",children:"Include in next newsletter"})]})]}),l.jsxs("div",{className:"mt-4 p-3 bg-white rounded-lg",children:[l.jsx("div",{className:"text-sm text-purple-900 font-medium mb-2",children:"💡 Stella's Tip of the Day"}),l.jsx("div",{className:"text-sm text-purple-800",children:'"Your Fall Festival emails get 23% higher engagement when sent on weekday mornings. Want me to schedule your next announcement for optimal timing?"'})]})]}),k=()=>l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsxs("button",{onClick:x,className:"flex flex-col items-center p-4 border border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 transition-colors",children:[l.jsx(Vt,{className:"w-6 h-6 text-purple-600 mb-2"}),l.jsx("span",{className:"text-sm font-medium",children:"Ask Stella"}),l.jsx("span",{className:"text-xs text-gray-500",children:"Get content ideas"})]}),l.jsxs("button",{onClick:w,className:"flex flex-col items-center p-4 border border-gray-200 rounded-lg hover:border-green-300 hover:bg-green-50 transition-colors",children:[l.jsx(zN,{className:"w-6 h-6 text-green-600 mb-2"}),l.jsx("span",{className:"text-sm font-medium",children:"Analytics"}),l.jsx("span",{className:"text-xs text-gray-500",children:"View performance"})]}),l.jsxs("button",{onClick:N,className:"flex flex-col items-center p-4 border border-gray-200 rounded-lg hover:border-yellow-300 hover:bg-yellow-50 transition-colors",children:[l.jsx(Ol,{className:"w-6 h-6 text-yellow-600 mb-2"}),l.jsx("span",{className:"text-sm font-medium",children:"Schedule"}),l.jsx("span",{className:"text-xs text-gray-500",children:"Plan campaigns"})]}),l.jsxs("button",{onClick:_,className:"flex flex-col items-center p-4 border border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 transition-colors",children:[l.jsx(ra,{className:"w-6 h-6 text-blue-600 mb-2"}),l.jsx("span",{className:"text-sm font-medium",children:"Audiences"}),l.jsx("span",{className:"text-xs text-gray-500",children:"Manage lists"})]})]})]});return l.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Communications Dashboard"}),l.jsx("p",{className:"text-gray-600",children:"Manage all your PTO communications with Stella's help or manual control"})]}),l.jsx("div",{className:"flex items-center space-x-3",children:l.jsx("button",{onClick:()=>r(t==="grid"?"list":"grid"),className:"p-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:t==="grid"?l.jsx(FN,{className:"w-5 h-5"}):l.jsx(BN,{className:"w-5 h-5"})})})]}),l.jsx(D,{}),l.jsx(k,{}),l.jsx(C,{}),l.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(qN,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"Search communications...",value:i,onChange:T=>o(T.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),l.jsxs("select",{value:s,onChange:T=>c(T.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[l.jsx("option",{value:"all",children:"All Types"}),l.jsx("option",{value:"email",children:"Email"}),l.jsx("option",{value:"sms",children:"SMS"}),l.jsx("option",{value:"social",children:"Social Media"}),l.jsx("option",{value:"newsletter",children:"Newsletter"})]})]})}),l.jsx("div",{className:t==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:u.map(T=>l.jsx(E,{communication:T},T.id))}),u.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx(xl,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No communications found"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Get started by creating your first communication"}),l.jsx("button",{onClick:b,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Create Your First Communication"})]})]})})};function Cde(){const[e,t]=F.useState({subject:"",body:"",send_as:"email"}),[r,n]=F.useState(""),[a,i]=F.useState(""),o=c=>{const{name:u,value:d}=c.target;t(f=>({...f,[u]:d}))},s=async c=>{c.preventDefault(),i(""),n("");const{data:{session:u}}=await He.auth.getSession();if(!(u!=null&&u.access_token)){i("Authentication required.");return}try{const d=await fetch("/api/messages",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u.access_token}`},body:JSON.stringify(e)}),f=await d.json();d.ok?(n("Message created successfully!"),t({subject:"",body:"",send_as:"email"})):i(f.error||"Failed to send message.")}catch(d){console.error("Submit error:",d),i("Server error. Please try again.")}};return l.jsxs("div",{className:"max-w-xl mx-auto p-4",children:[l.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Create Message"}),l.jsxs("form",{onSubmit:s,className:"space-y-4",children:[l.jsx("input",{name:"subject",value:e.subject,onChange:o,placeholder:"Subject",className:"w-full border p-2",required:!0}),l.jsx("textarea",{name:"body",value:e.body,onChange:o,placeholder:"Message Body",className:"w-full border p-2",required:!0}),l.jsxs("select",{name:"send_as",value:e.send_as,onChange:o,className:"w-full border p-2",children:[l.jsx("option",{value:"email",children:"Email"}),l.jsx("option",{value:"sms",children:"SMS"}),l.jsx("option",{value:"in_app",children:"In-App"})]}),l.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded",type:"submit",children:"Send Message"}),r&&l.jsx("p",{className:"text-green-600",children:r}),a&&l.jsx("p",{className:"text-red-600",children:a})]})]})}function Lde(){const e=gr();return F.useEffect(()=>{e("/communications/compose?mode=sms")},[e]),l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsx("div",{className:"bg-white rounded-lg shadow-sm p-8 max-w-md w-full mx-4",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Qa,{className:"w-12 h-12 text-green-600 mx-auto mb-4"}),l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"SMS Composer"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Redirecting to the unified communication composer for SMS messages..."}),l.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-green-600 mx-auto"})]})})})}function Mde(){const e=gr();return F.useEffect(()=>{e("/communications/compose?mode=social")},[e]),l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsx("div",{className:"bg-white rounded-lg shadow-sm p-8 max-w-md w-full mx-4",children:l.jsxs("div",{className:"text-center",children:[l.jsx(YN,{className:"w-12 h-12 text-purple-600 mx-auto mb-4"}),l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Social Media Composer"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Redirecting to the unified communication composer for social media posts..."}),l.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-purple-600 mx-auto"})]})})})}const $de="https://api.ptoconnect.com";function Dde(){const[e,t]=F.useState([]),[r,n]=F.useState("");F.useEffect(()=>{async function i(){const{data:{session:o}}=await He.auth.getSession(),s=o==null?void 0:o.access_token;if(!s)return n("Not authenticated.");try{const c=await Za.get(`${$de}/api/documents`,{headers:{Authorization:`Bearer ${s}`}});t(c.data)}catch(c){n("Failed to load documents."),console.error(c)}}i()},[]);const a=i=>{const{data:o}=He.storage.from("documents").getPublicUrl(i);return o==null?void 0:o.publicUrl};return l.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h1",{className:"text-2xl font-bold",children:"PTO Documents"}),l.jsx(Oa,{to:"/documents/upload",className:"bg-blue-600 text-white px-4 py-2 rounded",children:"+ Upload Document"})]}),r&&l.jsx("p",{className:"text-red-600",children:r}),e.length===0&&!r&&l.jsx("p",{children:"No documents found."}),l.jsx("ul",{className:"space-y-4",children:e.map(i=>l.jsxs("li",{className:"border p-4 rounded shadow-sm bg-white",children:[l.jsx("h2",{className:"text-lg font-semibold",children:i.title}),l.jsx("a",{href:a(i.file_path),target:"_blank",rel:"noopener noreferrer",className:"text-blue-700 underline text-sm",children:"View / Download"})]},i.id))})]})}const Ide="https://api.ptoconnect.com";function Rde(){const[e,t]=F.useState(""),[r,n]=F.useState(null),[a,i]=F.useState(""),[o,s]=F.useState(""),c=async u=>{if(u.preventDefault(),!r||!e)return s("Title and file are required.");const{data:{session:d}}=await He.auth.getSession(),f=d==null?void 0:d.access_token;if(!f)return s("User not authenticated.");const p=new FormData;p.append("title",e),p.append("file",r);try{await Za.post(`${Ide}/api/documents`,p,{headers:{Authorization:`Bearer ${f}`,"Content-Type":"multipart/form-data"}}),i("Document uploaded successfully."),t(""),n(null)}catch(h){s("Upload failed. Check console."),console.error(h)}};return l.jsxs("div",{className:"max-w-xl mx-auto p-4",children:[l.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Upload Document"}),l.jsxs("form",{onSubmit:c,className:"space-y-4",children:[l.jsx("input",{type:"text",placeholder:"Document Title",value:e,onChange:u=>t(u.target.value),className:"w-full border p-2",required:!0}),l.jsx("input",{type:"file",accept:".pdf,.doc,.docx,.xls,.xlsx,.png,.jpg,.jpeg",onChange:u=>n(u.target.files[0]),className:"w-full border p-2",required:!0}),l.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded",children:"Upload"}),a&&l.jsx("p",{className:"text-green-600",children:a}),o&&l.jsx("p",{className:"text-red-600",children:o})]})]})}const Fde="https://api.ptoconnect.com";function Bde(){const[e,t]=F.useState([]),[r,n]=F.useState("");return F.useEffect(()=>{async function a(){const{data:{session:i}}=await He.auth.getSession(),o=i==null?void 0:i.access_token;if(!o){n("Not authenticated.");return}try{const s=await Za.get(`${Fde}/api/shared-library`,{headers:{Authorization:`Bearer ${o}`}});t(s.data)}catch(s){console.error(s),n("Failed to load shared library items.")}}a()},[]),l.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[l.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Shared PTO Library"}),r&&l.jsx("p",{className:"text-red-600",children:r}),e.length===0&&!r&&l.jsx("p",{children:"No shared events or fundraisers yet."}),l.jsx("ul",{className:"space-y-4",children:e.map(a=>{var i;return l.jsxs("li",{className:"border p-4 rounded shadow-sm bg-white",children:[l.jsx("h2",{className:"text-xl font-semibold",children:a.title}),l.jsx("p",{className:"text-sm text-gray-500",children:a.description}),l.jsxs("p",{className:"text-sm text-blue-700 mt-1",children:["Type: ",((i=a.type)==null?void 0:i.toUpperCase())||"N/A"," • Shared by another PTO"]})]},a.id)})})]})}function qde(){const[e,t]=F.useState({type:"",season:"",audience:"",theme:"",goal:""}),[r,n]=F.useState([]),[a,i]=F.useState(!1),[o,s]=F.useState(null),c=d=>{const{name:f,value:p}=d.target;t(h=>({...h,[f]:p}))},u=async()=>{i(!0),s(null),n([]);const{data:{session:d},error:f}=await He.auth.getSession();if(f||!(d!=null&&d.access_token)){s("Authentication required."),i(!1);return}try{const h=await(await fetch("/api/ai/generate-event",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${d.access_token}`},body:JSON.stringify(e)})).json();if(h.result){const v=h.result.split(/\n?\d+\.\s/).filter(Boolean).map(g=>g.trim().replace(/^\*\*/,"").replace(/\*\*$/,""));n(v)}else s("No ideas returned.")}catch(p){console.error(p),s("Error contacting the backend")}finally{i(!1)}};return l.jsxs("div",{className:"p-6 max-w-2xl mx-auto",children:[l.jsx("h1",{className:"text-2xl font-bold mb-4",children:"AI Event Idea Generator"}),l.jsxs("div",{className:"grid gap-4 mb-4",children:[l.jsx("input",{name:"type",value:e.type,onChange:c,placeholder:"Event Type (e.g. Family Night)",className:"w-full border p-2 rounded"}),l.jsx("input",{name:"season",value:e.season,onChange:c,placeholder:"Season or Month (e.g. Spring, October)",className:"w-full border p-2 rounded"}),l.jsx("input",{name:"audience",value:e.audience,onChange:c,placeholder:"Audience (e.g. students, families)",className:"w-full border p-2 rounded"}),l.jsx("input",{name:"theme",value:e.theme,onChange:c,placeholder:"Theme (e.g. carnival, STEM)",className:"w-full border p-2 rounded"}),l.jsx("input",{name:"goal",value:e.goal,onChange:c,placeholder:"Goal (e.g. raise funds, build community)",className:"w-full border p-2 rounded"})]}),l.jsx("button",{onClick:u,disabled:a,className:"bg-blue-600 text-white px-4 py-2 rounded",children:a?"Generating...":"Generate Ideas"}),o&&l.jsx("p",{className:"text-red-500 mt-4",children:o}),r.length>0&&l.jsx("ul",{className:"mt-6 space-y-2",children:r.map((d,f)=>l.jsx("li",{className:"border p-3 rounded bg-gray-50",children:d},f))})]})}const zde=()=>{const e=gr(),[t,r]=F.useState(null),[n,a]=F.useState(null),[i,o]=F.useState(null),[s,c]=F.useState({isGenerating:!1,currentStep:"",progress:0}),[u,d]=F.useState(null),[f,p]=F.useState(""),[h,v]=F.useState("assisted");F.useEffect(()=>{(async()=>{try{const{data:{session:b}}=await He.auth.getSession();if(b!=null&&b.user){const{data:A}=await He.from("profiles").select("*").eq("id",b.user.id).single();if(r(A),A!=null&&A.org_id){const O=await ho.analyzeContext(A.org_id,"general");o(O),a(O.context)}}}catch(b){console.error("Error fetching user context:",b)}})()},[]);const g=async()=>{if(!f.trim()){nt.error("Please enter an event idea first");return}if(!(t!=null&&t.org_id)){nt.error("Organization context required");return}c({isGenerating:!0,currentStep:"Initializing Stella...",progress:10});try{c({isGenerating:!0,currentStep:"Stella is analyzing your event idea...",progress:25}),await new Promise(E=>setTimeout(E,1500));const _={title:f,category:"Event",estimated_budget:2e3,expected_attendance:100,description:`${f} for our school community`};c({isGenerating:!0,currentStep:"Calculating event complexity and requirements...",progress:50});const b=await ho.analyzeEventWorkflow(_,t.org_id);c({isGenerating:!0,currentStep:"Creating your complete event workflow...",progress:75}),await new Promise(E=>setTimeout(E,2e3)),c({isGenerating:!0,currentStep:"Adding Stella's intelligent recommendations...",progress:90});const A=await ho.generateContent("content",`Event planning recommendations for ${f}`,{orgId:t.org_id,mode:"recommendations"},!0);c({isGenerating:!0,currentStep:"Finalizing your workflow...",progress:100}),await new Promise(E=>setTimeout(E,1e3));const O={event:_,complexity:b.eventComplexity,workflow:b.workflowPlan,recommendations:A.recommendations||[],orgInsights:b.orgContext,createdAt:new Date().toISOString(),createdBy:"Stella AI Assistant"};d(O),c({isGenerating:!1,currentStep:"",progress:0}),nt.success("✨ Stella has created your complete event workflow!")}catch(_){console.error("Workflow generation error:",_),nt.error("Stella encountered an issue creating your workflow. Please try again."),c({isGenerating:!1,currentStep:"",progress:0})}},y=()=>l.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg p-6 mb-8",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Choose Your Workflow Experience"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[{mode:"manual",title:"Manual Control",description:"I prefer to plan everything myself",icon:Fy,color:"gray"},{mode:"assisted",title:"Stella Assisted",description:"I want Stella's help with suggestions",icon:Vt,color:"purple"},{mode:"automated",title:"Fully Automated",description:"Let Stella create the complete workflow",icon:Iv,color:"blue"}].map(_=>{const b=_.icon,A=h===_.mode;return l.jsxs("button",{onClick:()=>v(_.mode),className:`p-4 rounded-lg border-2 transition-all ${A?`border-${_.color}-500 bg-${_.color}-50`:"border-gray-200 hover:border-gray-300"}`,children:[l.jsx(b,{className:`w-6 h-6 mx-auto mb-2 ${A?`text-${_.color}-600`:"text-gray-400"}`}),l.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:_.title}),l.jsx("p",{className:"text-sm text-gray-600",children:_.description})]},_.mode)})})]}),x=()=>{if(!i)return null;const{analysis:_}=i,b=_.organizationHealth;return l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-8",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(GN,{className:"w-6 h-6 text-blue-600"}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Stella's Organization Insights"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[l.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[l.jsx(ra,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),l.jsx("div",{className:"text-2xl font-bold text-blue-600",children:_.keyMetrics.totalMembers}),l.jsx("div",{className:"text-sm text-gray-600",children:"Active Members"}),l.jsxs("div",{className:`text-xs mt-1 ${b.memberEngagement==="high"?"text-green-600":b.memberEngagement==="moderate"?"text-yellow-600":"text-red-600"}`,children:[b.memberEngagement.toUpperCase()," Engagement"]})]}),l.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[l.jsx(jn,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),l.jsx("div",{className:"text-2xl font-bold text-green-600",children:_.keyMetrics.activeEvents}),l.jsx("div",{className:"text-sm text-gray-600",children:"Active Events"}),l.jsxs("div",{className:`text-xs mt-1 ${b.eventActivity==="high"?"text-green-600":b.eventActivity==="moderate"?"text-yellow-600":"text-red-600"}`,children:[b.eventActivity.toUpperCase()," Activity"]})]}),l.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[l.jsx(Zn,{className:"w-8 h-8 text-purple-600 mx-auto mb-2"}),l.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:["$",_.keyMetrics.totalBudget.toLocaleString()]}),l.jsx("div",{className:"text-sm text-gray-600",children:"Total Budget"}),l.jsx("div",{className:`text-xs mt-1 ${b.financialHealth==="excellent"?"text-green-600":b.financialHealth==="good"?"text-yellow-600":"text-red-600"}`,children:b.financialHealth.toUpperCase()})]})]}),_.recommendations&&_.recommendations.length>0&&l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"🌟 Stella's Top Recommendations"}),l.jsx("div",{className:"space-y-2",children:_.recommendations.slice(0,3).map((A,O)=>l.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-gray-50 rounded-lg",children:[l.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${A.priority==="high"?"bg-red-500":A.priority==="medium"?"bg-yellow-500":"bg-green-500"}`}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-sm text-gray-900",children:A.title}),l.jsx("div",{className:"text-xs text-gray-600",children:A.description})]})]},O))})]})]})},w=()=>s.isGenerating?l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-8",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-purple-600"}),l.jsx("h3",{className:"text-lg font-semibold text-purple-900",children:"Stella is Working on Your Workflow"})]}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[l.jsx("span",{children:s.currentStep}),l.jsxs("span",{children:[s.progress,"%"]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"bg-purple-600 h-2 rounded-full transition-all duration-500",style:{width:`${s.progress}%`}})})]}),l.jsx("div",{className:"text-sm text-gray-600",children:"Stella is analyzing your organization's context, past events, and best practices to create the perfect workflow for your event."})]}):null,N=()=>{var C,D;if(!u)return null;const{event:_,complexity:b,workflow:A,recommendations:O,orgInsights:E}=u;return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:_.title}),l.jsxs("div",{className:`px-3 py-1 rounded-full text-sm ${b.complexity==="complex"?"bg-red-100 text-red-800":b.complexity==="moderate"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:[b.complexity.toUpperCase()," Event"]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[l.jsx(jn,{className:"w-6 h-6 text-blue-600 mx-auto mb-1"}),l.jsx("div",{className:"text-sm font-medium",children:"Timeline"}),l.jsx("div",{className:"text-xs text-gray-600",children:(A==null?void 0:A.recommendedTimeline)||"6-8 weeks"})]}),l.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[l.jsx(Zn,{className:"w-6 h-6 text-green-600 mx-auto mb-1"}),l.jsx("div",{className:"text-sm font-medium",children:"Budget"}),l.jsxs("div",{className:"text-xs text-gray-600",children:["$",((C=A==null?void 0:A.budgetRecommendations)==null?void 0:C.suggestedBudget)||_.estimated_budget]})]}),l.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[l.jsx(ra,{className:"w-6 h-6 text-purple-600 mx-auto mb-1"}),l.jsx("div",{className:"text-sm font-medium",children:"Volunteers"}),l.jsx("div",{className:"text-xs text-gray-600",children:((D=A==null?void 0:A.volunteerNeeds)==null?void 0:D.totalVolunteers)||8})]}),l.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[l.jsx(By,{className:"w-6 h-6 text-orange-600 mx-auto mb-1"}),l.jsx("div",{className:"text-sm font-medium",children:"Complexity"}),l.jsxs("div",{className:"text-xs text-gray-600",children:["Score: ",b.score,"/10"]})]})]})]}),(A==null?void 0:A.keyMilestones)&&l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[l.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"📅 Project Timeline"}),l.jsx("div",{className:"space-y-4",children:A.keyMilestones.map((k,T)=>l.jsxs("div",{className:"flex items-start space-x-4 p-4 border-l-4 border-blue-500 bg-blue-50",children:[l.jsxs("div",{className:"bg-blue-500 text-white text-sm font-medium px-2 py-1 rounded",children:["Week ",k.week]}),l.jsxs("div",{children:[l.jsx("h5",{className:"font-medium text-gray-900",children:k.milestone}),k.tasks&&l.jsx("ul",{className:"text-sm text-gray-600 mt-1",children:k.tasks.map(($,I)=>l.jsxs("li",{className:"flex items-center space-x-2",children:[l.jsx(Dl,{className:"w-3 h-3 text-green-500"}),l.jsx("span",{children:$})]},I))})]})]},T))})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[l.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"🚀 Next Steps"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsxs("button",{onClick:()=>e("/events/create"),className:"flex items-center justify-center space-x-2 p-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx(jn,{className:"w-5 h-5"}),l.jsx("span",{children:"Create Event"})]}),l.jsxs("button",{onClick:()=>e("/budget"),className:"flex items-center justify-center space-x-2 p-4 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[l.jsx(Zn,{className:"w-5 h-5"}),l.jsx("span",{children:"Setup Budget"})]}),l.jsxs("button",{onClick:()=>e("/communications/compose?ai=auto"),className:"flex items-center justify-center space-x-2 p-4 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[l.jsx(Qa,{className:"w-5 h-5"}),l.jsx("span",{children:"Start Communications"})]}),l.jsxs("button",{onClick:()=>nt.info("Project management coming in Phase 2!"),className:"flex items-center justify-center space-x-2 p-4 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:[l.jsx(Uu,{className:"w-5 h-5"}),l.jsx("span",{children:"Manage Tasks"})]})]})]})]})};return l.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(Vt,{className:"w-8 h-8 text-purple-600"}),l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Meet Stella - Your AI Event Assistant"})]}),l.jsx("p",{className:"text-lg text-gray-600",children:"Hi! I'm Stella, your PTO planning assistant. I can generate complete event workflows with integrated project management, budgeting, communications, and volunteer coordination - or help with just the parts you need!"})]}),l.jsx(x,{}),l.jsx(y,{}),l.jsx(w,{}),u?l.jsx(N,{}):l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8",children:[l.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Let Stella Create Your Event Workflow"}),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"What type of event would you like Stella to help you create?"}),l.jsx("input",{type:"text",value:f,onChange:_=>p(_.target.value),placeholder:"e.g., Fall Festival, Book Fair, Science Night, Teacher Appreciation...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),l.jsx("div",{className:"flex justify-center",children:l.jsxs("button",{onClick:g,disabled:!f.trim()||s.isGenerating,className:"flex items-center space-x-3 px-8 py-4 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:[l.jsx(Vt,{className:"w-6 h-6"}),l.jsx("span",{className:"text-lg font-medium",children:s.isGenerating?"Stella is Working...":"Generate Complete Workflow"}),l.jsx(UN,{className:"w-6 h-6"})]})}),h==="automated"&&l.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(Iv,{className:"w-5 h-5 text-blue-600 mt-0.5"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-blue-900",children:"Fully Automated Mode"}),l.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Stella will create a complete workflow with project timeline, budget planning, communication campaigns, and volunteer coordination. You can review and adjust everything."})]})]})})]})]})})},Ude=()=>l.jsx(zde,{}),io={EMAIL:"email",SMS:"sms",SOCIAL:"social"},gh=()=>{const[e]=JN(),t=gr(),r=e.get("mode")||io.EMAIL,n=e.get("ai"),[a,i]=F.useState(r),[o,s]=F.useState({subject:"",body:"",recipients:[],scheduledFor:null}),[c,u]=F.useState(n==="assisted"||n==="auto"),[d,f]=F.useState(!1),[p,h]=F.useState(null),[v,g]=F.useState([]),[y,x]=F.useState(!1),w=F.useRef(null),N=()=>{const[k,T]=F.useState(""),$=async(H,V="")=>{f(!0);try{let X="";switch(H){case"subject":X=`Create an engaging ${a} subject line for: ${V||k}`;break;case"content":X=`Write ${a} content for: ${V||k}. ${p?`Event: ${p.title}, Date: ${p.date}`:""}`;break;case"social":X=`Create a social media post for: ${V||k}. Include relevant hashtags and emojis.`;break;case"sms":X=`Write a concise SMS message for: ${V||k}. Keep it under 160 characters.`;break}const Q=await ho.generateContent(H,X,{mode:a,eventContext:p,organization:"PTO"});Q!=null&&Q.content&&(s(H==="subject"?Y=>({...Y,subject:Q.content}):Y=>({...Y,body:Q.content})),nt.success("✨ Stella has generated your content!"))}catch(X){console.error("Stella generation error:",X),nt.error("Stella encountered an issue. Please try again.")}finally{f(!1)}},I=[{label:"Fall Festival Announcement",context:"Fall Festival event with activities and food"},{label:"Volunteer Recruitment",context:"Need volunteers for upcoming PTO events"},{label:"Meeting Reminder",context:"Monthly PTO meeting reminder"},{label:"Fundraiser Update",context:"Update on current fundraising campaign progress"},{label:"Thank You Message",context:"Thank you to volunteers and supporters"}];return l.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg p-6 mb-6",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(Vt,{className:"w-6 h-6 text-purple-600"}),l.jsx("h3",{className:"text-lg font-semibold text-purple-900",children:"Stella's Content Assistant"})]}),l.jsxs("div",{className:"text-sm text-purple-700 mb-4",children:["Hi! I'm Stella. I can help create content for your ",a,", or you can create everything manually. Your choice!"]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-purple-800 mb-2",children:"What would you like to communicate?"}),l.jsx("input",{type:"text",value:k,onChange:H=>T(H.target.value),placeholder:"e.g., Fall Festival this Saturday with games and food",className:"w-full p-3 border border-purple-200 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[l.jsx("button",{onClick:()=>$("subject",k),disabled:d||!k.trim(),className:"w-full p-3 text-left bg-white rounded-lg border border-purple-200 hover:bg-purple-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx($P,{className:"w-4 h-4 text-purple-600"}),l.jsx("span",{className:"font-medium",children:"Let Stella Write Subject"})]})}),l.jsx("button",{onClick:()=>$("content",k),disabled:d||!k.trim(),className:"w-full p-3 text-left bg-white rounded-lg border border-purple-200 hover:bg-purple-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(xl,{className:"w-4 h-4 text-purple-600"}),l.jsx("span",{className:"font-medium",children:"Let Stella Write Content"})]})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-purple-800 mb-2",children:"Quick Suggestions"}),l.jsx("div",{className:"grid grid-cols-1 gap-2",children:I.map((H,V)=>l.jsx("button",{onClick:()=>$("content",H.context),disabled:d,className:"text-left p-2 bg-white rounded border border-purple-200 hover:bg-purple-50 disabled:opacity-50 text-sm transition-colors",children:H.label},V))})]}),d&&l.jsxs("div",{className:"flex items-center space-x-2 text-purple-700",children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-purple-600"}),l.jsx("span",{className:"text-sm",children:"Stella is creating your content..."})]})]})]})},_=k=>({[io.EMAIL]:{title:"Email Campaign",icon:xl,color:"blue",placeholder:"Write your email content here...",maxLength:null,showSubject:!0,showRecipients:!0},[io.SMS]:{title:"SMS Message",icon:Qa,color:"green",placeholder:"Write your SMS message here (160 characters max)...",maxLength:160,showSubject:!1,showRecipients:!0},[io.SOCIAL]:{title:"Social Media Post",icon:YN,color:"purple",placeholder:"Create your social media post...",maxLength:280,showSubject:!1,showRecipients:!1}})[k],b=_(a),A=b.icon,O=(k,T)=>{s($=>({...$,[k]:T}))},E=async()=>{try{const{data:{session:k}}=await He.auth.getSession();if(!k){nt.error("Please log in to save drafts");return}const T={id:Date.now(),mode:a,content:o,createdAt:new Date().toISOString(),title:o.subject||o.body.substring(0,50)+"..."},$=JSON.parse(localStorage.getItem("ptoCommunicationDrafts")||"[]");$.unshift(T),localStorage.setItem("ptoCommunicationDrafts",JSON.stringify($.slice(0,10))),g($),nt.success("Draft saved successfully!")}catch(k){console.error("Save draft error:",k),nt.error("Failed to save draft")}};F.useEffect(()=>{const k=JSON.parse(localStorage.getItem("ptoCommunicationDrafts")||"[]");g(k),n==="auto"&&setTimeout(()=>{C()},1e3)},[]);const C=async()=>{f(!0);try{const k=e.get("type")||"general";let T="";switch(k){case"newsletter":T="Monthly PTO newsletter with updates and announcements";break;default:T="PTO communication to members"}if(a===io.EMAIL){const I=await ho.generateContent("subject",`Create an engaging email subject for: ${T}`,{mode:a,organization:"PTO"});I!=null&&I.content&&s(H=>({...H,subject:I.content}))}const $=await ho.generateContent("content",`Write ${a} content for: ${T}`,{mode:a,organization:"PTO"});$!=null&&$.content&&s(I=>({...I,body:$.content})),nt.success("✨ Stella has auto-generated your content! Review and customize as needed.")}catch(k){console.error("Auto-generation error:",k),nt.info("Stella is ready to help when you need content assistance!")}finally{f(!1)}},D=async()=>{if(!o.body.trim()){nt.error("Please add some content before sending");return}if(a===io.EMAIL&&!o.subject.trim()){nt.error("Please add a subject line for your email");return}try{const{data:{session:k}}=await He.auth.getSession();if(!k){nt.error("Please log in to send communications");return}nt.success(`${b.title} scheduled for sending!`),s({subject:"",body:"",recipients:[],scheduledFor:null})}catch(k){console.error("Send error:",k),nt.error("Failed to send communication")}};return l.jsx("div",{className:"min-h-screen bg-gray-50",children:l.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("button",{onClick:()=>t("/communications"),className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",children:l.jsx(LP,{className:"w-5 h-5"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Communication Composer"}),l.jsx("p",{className:"text-gray-600",children:"Create engaging communications with Stella's help"})]})]}),l.jsx("div",{className:"flex items-center space-x-3",children:l.jsxs("button",{onClick:()=>u(!c),className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors ${c?"bg-purple-100 text-purple-700 border border-purple-200":"bg-white text-gray-700 border border-gray-200 hover:bg-gray-50"}`,children:[l.jsx(Vt,{className:"w-4 h-4"}),l.jsx("span",{children:"Stella Assistant"})]})})]}),l.jsx("div",{className:"bg-white rounded-lg p-4 mb-6 shadow-sm",children:l.jsx("div",{className:"flex items-center space-x-1",children:Object.entries(io).map(([k,T])=>{const $=_(T),I=$.icon,H=a===T;return l.jsxs("button",{onClick:()=>i(T),className:`flex items-center space-x-2 px-6 py-3 rounded-lg font-medium transition-all ${H?`bg-${$.color}-100 text-${$.color}-700 border border-${$.color}-200`:"text-gray-600 hover:bg-gray-50"}`,children:[l.jsx(I,{className:"w-5 h-5"}),l.jsx("span",{children:$.title})]},k)})})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[c&&l.jsx(N,{}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[l.jsx(A,{className:`w-6 h-6 text-${b.color}-600`}),l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:b.title})]}),l.jsxs("div",{className:"space-y-6",children:[b.showSubject&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject Line"}),l.jsx("input",{type:"text",value:o.subject,onChange:k=>O("subject",k.target.value),placeholder:"Enter your email subject...",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),b.showRecipients&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Recipients"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(ra,{className:"w-5 h-5 text-gray-400"}),l.jsxs("select",{className:"flex-1 p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[l.jsx("option",{children:"All PTO Members"}),l.jsx("option",{children:"Board Members Only"}),l.jsx("option",{children:"Volunteers"}),l.jsx("option",{children:"Parents"}),l.jsx("option",{children:"Teachers"}),l.jsx("option",{children:"Custom List..."})]})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Message Content",b.maxLength&&l.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["(",o.body.length,"/",b.maxLength," characters)"]})]}),l.jsx("textarea",{ref:w,value:o.body,onChange:k=>O("body",k.target.value),placeholder:b.placeholder,maxLength:b.maxLength,rows:a===io.SMS?4:12,className:"w-full p-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]})]})]}),l.jsx("div",{className:"border-t border-gray-200 p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsxs("button",{onClick:E,className:"flex items-center space-x-2 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:[l.jsx(MP,{className:"w-4 h-4"}),l.jsx("span",{children:"Save Draft"})]}),l.jsxs("button",{onClick:()=>x(!y),className:"flex items-center space-x-2 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:[l.jsx(ds,{className:"w-4 h-4"}),l.jsx("span",{children:"Preview"})]})]}),l.jsxs("button",{onClick:D,disabled:!o.body.trim()||b.showSubject&&!o.subject.trim(),className:`flex items-center space-x-2 px-6 py-2 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${b.color==="blue"?"bg-blue-600 hover:bg-blue-700":b.color==="green"?"bg-green-600 hover:bg-green-700":"bg-purple-600 hover:bg-purple-700"} text-white`,children:[l.jsx(VN,{className:"w-4 h-4"}),l.jsxs("span",{children:["Send ",b.title]})]})]})})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Drafts"}),v.length>0?l.jsx("div",{className:"space-y-3",children:v.slice(0,5).map(k=>l.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>{i(k.mode),s(k.content)},children:[l.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:k.title}),l.jsx("div",{className:"text-xs text-gray-500 mt-1",children:new Date(k.createdAt).toLocaleDateString()})]},k.id))}):l.jsx("p",{className:"text-gray-500 text-sm",children:"No drafts saved yet"})]}),l.jsxs("div",{className:"bg-blue-50 rounded-lg p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"💡 Communication Tips"}),l.jsxs("ul",{className:"text-sm text-blue-800 space-y-2",children:[l.jsx("li",{children:"• Keep subject lines clear and engaging"}),l.jsx("li",{children:"• Include a clear call-to-action"}),l.jsx("li",{children:"• Use Stella for content inspiration"}),l.jsx("li",{children:"• Preview before sending"}),l.jsx("li",{children:"• Consider your audience's preferences"})]})]})]})]}),y&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h3",{className:"text-lg font-semibold",children:["Preview: ",b.title]}),l.jsx("button",{onClick:()=>x(!1),className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),l.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[b.showSubject&&l.jsxs("div",{className:"mb-4",children:[l.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Subject:"}),l.jsx("div",{className:"font-semibold",children:o.subject||"No subject"})]}),l.jsx("div",{className:"whitespace-pre-wrap",children:o.body||"No content"})]})]})})})]})})};function Wde(){const[e,t]=F.useState([]),[r,n]=F.useState("");return F.useEffect(()=>{async function a(){const{data:{session:i}}=await He.auth.getSession();if(!(i!=null&&i.access_token)){n("Authentication required.");return}try{const o=await fetch("/api/teacher-requests",{headers:{Authorization:`Bearer ${i.access_token}`}}),s=await o.json();o.ok?t(s):n(s.error||"Failed to load teacher requests.")}catch(o){console.error("Fetch error:",o),n("Error connecting to server.")}}a()},[]),l.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h1",{className:"text-2xl font-bold",children:"Teacher Requests"}),l.jsx(Oa,{to:"/teacher-requests/create",className:"bg-blue-600 text-white px-4 py-2 rounded",children:"+ New Request"})]}),r&&l.jsx("p",{className:"text-red-600",children:r}),e.length===0&&!r&&l.jsx("p",{children:"No teacher requests found."}),l.jsx("ul",{className:"space-y-4",children:e.map(a=>l.jsxs("li",{className:"border p-4 rounded shadow-sm bg-white",children:[l.jsx("h2",{className:"text-xl font-semibold",children:a.title}),l.jsxs("p",{className:"text-sm text-gray-500",children:["By ",a.teacher_name," (",a.grade_or_subject,")"]}),l.jsx("p",{className:"mt-2",children:a.description}),a.amount_requested&&l.jsxs("p",{className:"mt-2 text-blue-800 font-semibold",children:["Requested: $",parseFloat(a.amount_requested).toFixed(2)]})]},a.id))})]})}function Gde(){const[e,t]=F.useState({title:"",description:"",amount_requested:"",teacher_name:"",grade_or_subject:""}),[r,n]=F.useState(""),[a,i]=F.useState(""),o=c=>{const{name:u,value:d}=c.target;t(f=>({...f,[u]:d}))},s=async c=>{c.preventDefault();const{data:{session:u}}=await He.auth.getSession();if(!(u!=null&&u.access_token)){i("You must be logged in to submit a request.");return}try{const d=await fetch("/api/teacher-requests",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u.access_token}`},body:JSON.stringify(e)}),f=await d.json();d.ok?(n("Request submitted successfully!"),i(""),t({})):(i(f.error||"Failed to submit request"),n(""))}catch(d){console.error("Submit error:",d),i("Network error or server unavailable")}};return l.jsxs("div",{className:"max-w-xl mx-auto p-4",children:[l.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Submit Teacher Request"}),l.jsxs("form",{onSubmit:s,className:"space-y-4",children:[l.jsx("input",{name:"title",value:e.title||"",onChange:o,placeholder:"Title",className:"w-full border p-2",required:!0}),l.jsx("textarea",{name:"description",value:e.description||"",onChange:o,placeholder:"Description",className:"w-full border p-2"}),l.jsx("input",{type:"number",name:"amount_requested",value:e.amount_requested||"",onChange:o,placeholder:"Amount Requested",className:"w-full border p-2"}),l.jsx("input",{name:"teacher_name",value:e.teacher_name||"",onChange:o,placeholder:"Teacher Name",className:"w-full border p-2"}),l.jsx("input",{name:"grade_or_subject",value:e.grade_or_subject||"",onChange:o,placeholder:"Grade or Subject",className:"w-full border p-2"}),l.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded",type:"submit",children:"Submit"}),r&&l.jsx("p",{className:"text-green-600",children:r}),a&&l.jsx("p",{className:"text-red-600",children:a})]})]})}function Hde(){const[e,t]=F.useState(!1),[r,n]=F.useState(""),[a,i]=F.useState("monthly"),o=async()=>{var s;t(!0),n("");try{const u=(s=(await He.auth.getSession()).data.session)==null?void 0:s.access_token;if(!u){n("User session not found."),t(!1);return}const d=await fetch("https://api.ptoconnect.com/api/api/stripe/create-checkout-session",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`},body:JSON.stringify({plan:a})});if(!d.ok){const p=await d.text();throw console.error("Stripe error response:",p),new Error("Stripe request failed.")}const f=await d.json();f!=null&&f.url?window.location.href=f.url:n("Checkout session failed to start.")}catch(c){console.error("Checkout error:",c),n("An error occurred during checkout.")}finally{t(!1)}};return l.jsxs("div",{className:"max-w-xl mx-auto p-6",children:[l.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Start Your PTO Connect Subscription"}),l.jsx("p",{className:"mb-4",children:"Subscribe now to unlock all features for your PTO group."}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block font-medium mb-1",children:"Choose a plan:"}),l.jsxs("select",{className:"border p-2 rounded w-full",value:a,onChange:s=>i(s.target.value),children:[l.jsx("option",{value:"monthly",children:"Monthly - $29/month"}),l.jsx("option",{value:"annual",children:"Annual - $299/year"})]})]}),l.jsx("button",{onClick:o,disabled:e,className:"bg-blue-600 text-white px-4 py-2 rounded",children:e?"Redirecting…":"Subscribe Now"}),r&&l.jsx("p",{className:"text-red-600 mt-4",children:r})]})}function Vde(){return l.jsxs("div",{className:"max-w-xl mx-auto p-6 text-center",children:[l.jsx("h1",{className:"text-2xl font-bold text-green-600 mb-4",children:"Subscription Successful!"}),l.jsx("p",{className:"text-gray-700",children:"Thank you for subscribing to PTO Connect. Your account is now active."})]})}function Yde(){return l.jsxs("div",{className:"max-w-xl mx-auto p-6 text-center",children:[l.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Checkout Canceled"}),l.jsx("p",{className:"text-gray-700",children:"You canceled the checkout process. No charges were made."})]})}function Kde(){const[e,t]=F.useState(""),[r,n]=F.useState(""),[a,i]=F.useState(""),[o,s]=F.useState(""),c=gr(),u=()=>{if(s(""),!e||!r){s("PTO Name and School Name are required.");return}const d={ptoName:e,schoolName:r,districtName:a};sessionStorage.setItem("pendingPto",JSON.stringify(d)),c("/onboarding/pricing")};return l.jsxs("div",{className:"max-w-xl mx-auto p-6",children:[l.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Create Your PTO"}),l.jsx("p",{className:"text-gray-700 mb-6",children:"Let's start by getting your organization set up. Enter your PTO's info below."}),l.jsx("input",{className:"border p-2 w-full mb-4",type:"text",placeholder:"PTO Name",value:e,onChange:d=>t(d.target.value)}),l.jsx("input",{className:"border p-2 w-full mb-4",type:"text",placeholder:"School Name",value:r,onChange:d=>n(d.target.value)}),l.jsx("input",{className:"border p-2 w-full mb-4",type:"text",placeholder:"District Name (optional)",value:a,onChange:d=>i(d.target.value)}),l.jsx("button",{onClick:u,className:"bg-blue-600 text-white px-4 py-2 rounded w-full",children:"Continue to Plan Selection"}),o&&l.jsx("p",{className:"text-red-600 mt-4",children:o})]})}function Xde(){const[e,t]=F.useState(null),[r,n]=F.useState([]),[a,i]=F.useState("");gr(),F.useEffect(()=>{const s=sessionStorage.getItem("pendingPto");s?t(JSON.parse(s)):i("Missing PTO info. Please start again."),fetch("/api/stripe/get-prices").then(c=>c.json()).then(n).catch(()=>i("Could not load pricing. Please try again."))},[]);const o=async(s,c)=>{try{const d=await(await fetch("/api/stripe/create-checkout-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({priceId:s,ptoMetadata:e,plan:c==="annual_plan"?"annual":"monthly"})})).json();d.url?window.location.href=d.url:i("Unable to start checkout session.")}catch{i("Stripe checkout error.")}};return l.jsxs("div",{className:"max-w-xl mx-auto p-6",children:[l.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Choose Your Plan"}),a&&l.jsx("p",{className:"text-red-600 mb-4",children:a}),l.jsx("div",{className:"space-y-4",children:r.map(s=>l.jsxs("button",{onClick:()=>o(s.id,s.lookup_key),className:"w-full py-3 rounded bg-blue-600 text-white hover:bg-blue-700",children:[s.nickname||s.lookup_key," – $",s.amount,"/",s.interval]},s.id))})]})}function Jde(){const[e]=JN(),t=gr(),[r,n]=F.useState({adminName:"",adminEmail:"",adminPassword:"",confirmPassword:""}),[a,i]=F.useState(null),[o,s]=F.useState(!1),[c,u]=F.useState("");F.useEffect(()=>{const p=e.get("session_id"),h=sessionStorage.getItem("pendingPto");if(!h){u("Missing PTO information. Please start the signup process again.");return}i(JSON.parse(h)),p&&sessionStorage.setItem("stripeSessionId",p)},[e]);const d=p=>{n({...r,[p.target.name]:p.target.value})},f=async p=>{if(p.preventDefault(),u(""),s(!0),!r.adminName||!r.adminEmail||!r.adminPassword){u("All fields are required."),s(!1);return}if(r.adminPassword!==r.confirmPassword){u("Passwords do not match."),s(!1);return}if(r.adminPassword.length<6){u("Password must be at least 6 characters."),s(!1);return}try{const h=sessionStorage.getItem("stripeSessionId"),v=await ln.post("/signup/complete",{ptoName:a.ptoName,schoolName:a.schoolName,adminName:r.adminName,adminEmail:r.adminEmail,adminPassword:r.adminPassword,stripeSessionId:h});v.success?(sessionStorage.removeItem("pendingPto"),sessionStorage.removeItem("stripeSessionId"),t("/onboarding/next-steps",{state:{organization:v.organization}})):u(v.error||"Failed to create account.")}catch(h){console.error("Signup error:",h),u("Failed to create account. Please try again.")}finally{s(!1)}};return a?l.jsxs("div",{className:"max-w-md mx-auto p-6",children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Complete Your Setup"}),l.jsxs("p",{className:"text-gray-600",children:["Creating ",l.jsx("strong",{children:a.ptoName})," at ",a.schoolName]})]}),l.jsxs("form",{onSubmit:f,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Full Name"}),l.jsx("input",{type:"text",name:"adminName",value:r.adminName,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your full name",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),l.jsx("input",{type:"email",name:"adminEmail",value:r.adminEmail,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your email",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),l.jsx("input",{type:"password",name:"adminPassword",value:r.adminPassword,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Create a password",minLength:"6",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),l.jsx("input",{type:"password",name:"confirmPassword",value:r.confirmPassword,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Confirm your password",minLength:"6",required:!0})]}),c&&l.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:c}),l.jsx("button",{type:"submit",disabled:o,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Creating Account...":"Complete Setup"})]}),l.jsx("div",{className:"mt-6 text-center text-sm text-gray-500",children:l.jsx("p",{children:"By creating an account, you agree to our Terms of Service and Privacy Policy."})})]}):l.jsxs("div",{className:"max-w-md mx-auto p-6 text-center",children:[l.jsx("h1",{className:"text-2xl font-bold mb-4 text-red-600",children:"Setup Error"}),l.jsx("p",{className:"text-gray-700 mb-4",children:"Missing PTO information. Please start the signup process again."}),l.jsx("button",{onClick:()=>t("/onboarding/create-pto"),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Start Over"})]})}function Zde(){const e=gr(),[t,r]=F.useState({ptoName:"",schoolName:"",adminName:"",adminEmail:"",adminPassword:"",confirmPassword:""}),[n,a]=F.useState(!1),[i,o]=F.useState(""),[s,c]=F.useState(null),u=f=>{r({...t,[f.target.name]:f.target.value})},d=async f=>{var p;if(f.preventDefault(),o(""),a(!0),!t.ptoName||!t.schoolName||!t.adminName||!t.adminEmail||!t.adminPassword){o("All fields are required."),a(!1);return}if(t.adminPassword!==t.confirmPassword){o("Passwords do not match."),a(!1);return}if(t.adminPassword.length<6){o("Password must be at least 6 characters."),a(!1);return}try{const h=await ln.post("/signup/complete",{ptoName:t.ptoName,schoolName:t.schoolName,adminName:t.adminName,adminEmail:t.adminEmail,adminPassword:t.adminPassword});h.data&&h.data.success?(c(h.data.organization),o("")):o(((p=h.data)==null?void 0:p.error)||"Failed to create account.")}catch(h){console.error("Signup error:",h),o("Failed to create account. Please try again.")}finally{a(!1)}};return s?l.jsxs("div",{className:"max-w-md mx-auto p-6 text-center",children:[l.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6 mb-6",children:[l.jsx("h1",{className:"text-2xl font-bold text-green-800 mb-4",children:"Success! 🎉"}),l.jsxs("p",{className:"text-green-700 mb-4",children:["Your organization ",l.jsx("strong",{children:s.name})," has been created successfully!"]}),l.jsxs("div",{className:"bg-white border border-green-300 rounded p-4 mb-4",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Your signup code:"}),l.jsx("p",{className:"text-lg font-mono font-bold text-green-800",children:s.signup_code})]}),l.jsx("p",{className:"text-sm text-green-600",children:"Share this code with other members to join your organization."})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("button",{onClick:()=>e("/login"),className:"w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700",children:"Go to Login"}),l.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-gray-200 text-gray-800 py-2 px-4 rounded hover:bg-gray-300",children:"Create Another Organization"})]})]}):l.jsxs("div",{className:"max-w-md mx-auto p-6",children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Create Your PTO Organization"}),l.jsx("p",{className:"text-gray-600",children:"Set up your PTO and create your admin account"})]}),l.jsxs("form",{onSubmit:d,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"PTO Name"}),l.jsx("input",{type:"text",name:"ptoName",value:t.ptoName,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Lincoln Elementary PTO",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"School Name"}),l.jsx("input",{type:"text",name:"schoolName",value:t.schoolName,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Lincoln Elementary School",required:!0})]}),l.jsx("hr",{className:"my-4"}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Full Name"}),l.jsx("input",{type:"text",name:"adminName",value:t.adminName,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your full name",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),l.jsx("input",{type:"email",name:"adminEmail",value:t.adminEmail,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your email",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),l.jsx("input",{type:"password",name:"adminPassword",value:t.adminPassword,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Create a password",minLength:"6",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),l.jsx("input",{type:"password",name:"confirmPassword",value:t.confirmPassword,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Confirm your password",minLength:"6",required:!0})]}),i&&l.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:i}),l.jsx("button",{type:"submit",disabled:n,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Creating Organization...":"Create Organization"})]}),l.jsxs("div",{className:"mt-6 text-center text-sm text-gray-500",children:[l.jsx("p",{children:"This will create a trial organization (14 days)"}),l.jsxs("p",{className:"mt-2",children:["Already have an account? ",l.jsx("a",{href:"/login",className:"text-blue-600 hover:underline",children:"Login here"})]})]})]})}function Qde(){var o;const e=KN(),t=gr(),[r,n]=F.useState(!1),a=(o=e.state)==null?void 0:o.organization,i=()=>{a!=null&&a.signup_code&&(navigator.clipboard.writeText(a.signup_code),n(!0),setTimeout(()=>n(!1),2e3))};return a?l.jsxs("div",{className:"max-w-2xl mx-auto p-6",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx(Dl,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome to PTO Connect!"}),l.jsxs("p",{className:"text-lg text-gray-600",children:["Your organization ",l.jsx("strong",{children:a.name})," has been successfully created."]})]}),l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-8",children:[l.jsx("h2",{className:"text-xl font-semibold text-blue-900 mb-4",children:"Your Organization Details"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-blue-800",children:"Organization Name:"}),l.jsx("span",{className:"ml-2 text-blue-700",children:a.name})]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-blue-800",children:"Organization ID:"}),l.jsx("span",{className:"ml-2 text-blue-700 font-mono text-sm",children:a.slug})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:"font-medium text-blue-800",children:"Signup Code:"}),l.jsx("span",{className:"ml-2 text-blue-700 font-mono text-lg font-bold",children:a.signup_code}),l.jsx("button",{onClick:i,className:"ml-2 p-1 text-blue-600 hover:text-blue-800",title:"Copy signup code",children:l.jsx(HN,{className:"w-4 h-4"})}),r&&l.jsx("span",{className:"ml-2 text-green-600 text-sm",children:"Copied!"})]})]})]}),l.jsxs("div",{className:"mb-8",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Next Steps to Get Started"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-gray-50 rounded-lg",children:[l.jsx(ra,{className:"w-6 h-6 text-blue-600 mt-1"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:"Invite Your Team"}),l.jsxs("p",{className:"text-gray-600 text-sm",children:["Share your signup code ",l.jsx("strong",{children:a.signup_code})," with other PTO members, teachers, and parents so they can join your organization."]})]})]}),l.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-gray-50 rounded-lg",children:[l.jsx(Fy,{className:"w-6 h-6 text-blue-600 mt-1"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:"Configure Your Settings"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"Set up your organization preferences, communication settings, and user roles."})]})]}),l.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-gray-50 rounded-lg",children:[l.jsx(jn,{className:"w-6 h-6 text-blue-600 mt-1"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:"Create Your First Event"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"Start engaging your community by creating your first PTO event or meeting."})]})]})]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[l.jsx("button",{onClick:()=>t("/login"),className:"flex-1 bg-blue-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"Go to Dashboard"}),l.jsx("button",{onClick:()=>t("/onboarding/create-pto"),className:"flex-1 bg-gray-200 text-gray-800 py-3 px-6 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Create Another PTO"})]}),l.jsxs("div",{className:"mt-8 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[l.jsx("h3",{className:"font-semibold text-yellow-800 mb-2",children:"Need Help?"}),l.jsx("p",{className:"text-yellow-700 text-sm",children:"Check out our getting started guide or contact support if you need assistance setting up your PTO organization."})]})]}):l.jsxs("div",{className:"max-w-md mx-auto p-6 text-center",children:[l.jsx("h1",{className:"text-2xl font-bold mb-4 text-red-600",children:"Setup Error"}),l.jsx("p",{className:"text-gray-700 mb-4",children:"Missing organization information. Please complete the signup process."}),l.jsx("button",{onClick:()=>t("/onboarding/create-pto"),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Start Setup"})]})}function efe(){return l.jsxs(IP,{children:[l.jsx(Ue,{path:"/",element:l.jsx(d1,{})}),l.jsx(Ue,{path:"/login",element:l.jsx(d1,{})}),l.jsx(Ue,{path:"/signup",element:l.jsx(d6,{})}),l.jsx(Ue,{path:"/unauthorized",element:l.jsx(f6,{})}),l.jsx(Ue,{path:"/onboarding/create-pto",element:l.jsx(Kde,{})}),l.jsx(Ue,{path:"/onboarding/pricing",element:l.jsx(Xde,{})}),l.jsx(Ue,{path:"/onboarding/complete-signup",element:l.jsx(Jde,{})}),l.jsx(Ue,{path:"/onboarding/simple-signup",element:l.jsx(Zde,{})}),l.jsx(Ue,{path:"/onboarding/next-steps",element:l.jsx(Qde,{})}),l.jsx(Ue,{path:"/billing/success",element:l.jsx(Vde,{})}),l.jsx(Ue,{path:"/billing/cancel",element:l.jsx(Yde,{})}),l.jsx(Ue,{element:l.jsx(Bo,{allowedRoles:["admin","board_member","committee_lead","volunteer","parent_member","teacher"]}),children:l.jsx(Ue,{element:l.jsx(qo,{}),children:l.jsx(Ue,{path:"/dashboard",element:l.jsx(m6,{})})})}),l.jsx(Ue,{element:l.jsx(Bo,{allowedRoles:["admin"]}),children:l.jsxs(Ue,{element:l.jsx(qo,{}),children:[l.jsx(Ue,{path:"/dashboard/admin",element:l.jsx(Ug,{})}),l.jsx(Ue,{path:"/admin/permissions",element:l.jsx(_6,{})}),l.jsx(Ue,{path:"/admin/users",element:l.jsx(Ug,{})}),l.jsx(Ue,{path:"/admin/settings",element:l.jsx(Ug,{})}),l.jsx(Ue,{path:"/billing",element:l.jsx(Hde,{})}),l.jsx(Ue,{path:"/events",element:l.jsx(C6,{})}),l.jsx(Ue,{path:"/events/legacy",element:l.jsx(T6,{})}),l.jsx(Ue,{path:"/events/create",element:l.jsx(kE,{})}),l.jsx(Ue,{path:"/events/create-enhanced",element:l.jsx(LE,{})}),l.jsx(Ue,{path:"/events/:eventId/workflow",element:l.jsx(ME,{})}),l.jsx(Ue,{path:"/events/edit/:id",element:l.jsx($E,{})}),l.jsx(Ue,{path:"/events/calendar",element:l.jsx(vH,{})}),l.jsx(Ue,{path:"/fundraisers",element:l.jsx(iue,{})}),l.jsx(Ue,{path:"/fundraisers/create",element:l.jsx(OO,{})}),l.jsx(Ue,{path:"/fundraisers/:id/edit",element:l.jsx(oue,{})}),l.jsx(Ue,{path:"/fundraisers/:id/analytics",element:l.jsx(AO,{})}),l.jsx(Ue,{path:"/budget",element:l.jsx(lue,{})}),l.jsx(Ue,{path:"/budget/legacy",element:l.jsx(sue,{})}),l.jsx(Ue,{path:"/budget/create",element:l.jsx(cue,{})}),l.jsx(Ue,{path:"/budget/reconciliation",element:l.jsx(uue,{})}),l.jsx(Ue,{path:"/budget/reconciliation/new",element:l.jsx(Ode,{})}),l.jsx(Ue,{path:"/budget/reconciliation/:id",element:l.jsx(LO,{})}),l.jsx(Ue,{path:"/communications",element:l.jsx(Tde,{})}),l.jsx(Ue,{path:"/communications/legacy",element:l.jsx(kde,{})}),l.jsx(Ue,{path:"/communications/create",element:l.jsx(Cde,{})}),l.jsx(Ue,{path:"/communications/email",element:l.jsx(gh,{})}),l.jsx(Ue,{path:"/communications/sms",element:l.jsx(Lde,{})}),l.jsx(Ue,{path:"/communications/social",element:l.jsx(Mde,{})}),l.jsx(Ue,{path:"/communications/ai",element:l.jsx(gh,{})}),l.jsx(Ue,{path:"/communications/design-studio",element:l.jsx(gh,{})}),l.jsx(Ue,{path:"/communications/template-builder",element:l.jsx(gh,{})}),l.jsx(Ue,{path:"/documents",element:l.jsx(Dde,{})}),l.jsx(Ue,{path:"/documents/upload",element:l.jsx(Rde,{})}),l.jsx(Ue,{path:"/shared-library",element:l.jsx(Bde,{})}),l.jsx(Ue,{path:"/ai-event-ideas",element:l.jsx(qde,{})}),l.jsx(Ue,{path:"/ai-workflow-orchestrator",element:l.jsx(Ude,{})})]})}),l.jsx(Ue,{element:l.jsx(Bo,{allowedRoles:["teacher"]}),children:l.jsxs(Ue,{element:l.jsx(qo,{}),children:[l.jsx(Ue,{path:"/dashboard/teacher",element:l.jsx(k6,{})}),l.jsx(Ue,{path:"/teacher-requests",element:l.jsx(Wde,{})}),l.jsx(Ue,{path:"/teacher-requests/create",element:l.jsx(Gde,{})})]})}),l.jsx(Ue,{element:l.jsx(Bo,{allowedRoles:["board_member"]}),children:l.jsx(Ue,{element:l.jsx(qo,{}),children:l.jsx(Ue,{path:"/dashboard/board",element:l.jsx(A6,{})})})}),l.jsx(Ue,{element:l.jsx(Bo,{allowedRoles:["committee_lead"]}),children:l.jsx(Ue,{element:l.jsx(qo,{}),children:l.jsx(Ue,{path:"/dashboard/committee",element:l.jsx(O6,{})})})}),l.jsx(Ue,{element:l.jsx(Bo,{allowedRoles:["volunteer"]}),children:l.jsx(Ue,{element:l.jsx(qo,{}),children:l.jsx(Ue,{path:"/dashboard/volunteer",element:l.jsx(P6,{})})})}),l.jsx(Ue,{element:l.jsx(Bo,{allowedRoles:["parent_member"]}),children:l.jsx(Ue,{element:l.jsx(qo,{}),children:l.jsx(Ue,{path:"/dashboard/parent",element:l.jsx(E6,{})})})})]})}Fv.createRoot(document.getElementById("root")).render(l.jsx(q.StrictMode,{children:l.jsx(RP,{children:l.jsx(efe,{})})}));export{Zo as _};
//# sourceMappingURL=index-CgwC1hoY.js.map
