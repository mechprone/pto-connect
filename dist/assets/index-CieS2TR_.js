const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index.es-eBY9kHGs.js","assets/react-vendor-Bt2U2SF_.js","assets/ui-vendor-Cht5nVs-.js","assets/supabase-rDwCGHvF.js","assets/data-vendor-Dot7cACn.js"])))=>i.map(i=>d[i]);
import{j as l,L as ER,B as OR,P as _e,S as zr,C as ea,U as $a,E as du,a as Xn,T as Av,A as _v,b as In,c as CR,d as WC,D as Da,Z as ix,X as Ev,e as Wh,F as Pw,M as ui,f as yo,g as Mf,h as Dw,i as HC,k as Mw,l as sx,m as Rf,n as $S,o as qC,p as GC,q as TR,r as kR,_ as Rw,s as gi,t as Be,u as PR,v as DR,w as MR,x as RR,y as LR,z as VC,G as IR,H as YC,I as $R,J as FR,K as BR,N as FS,O as gs,Q as UR,R as zR,V as qc,W as WR,Y as BS,$ as US,a0 as KC,a1 as XC,a2 as HR,a3 as ZC,a4 as qR,a5 as GR}from"./ui-vendor-Cht5nVs-.js";import{b as Ym,r as R,N as H0,O as Lw,u as xr,d as QC,L as Yu,g as Ct,e as z,c as Ma,f as JC,h as To,i as eT,j as VR,k as We,B as YR}from"./react-vendor-Bt2U2SF_.js";import{c as KR,_ as ox}from"./supabase-rDwCGHvF.js";import{a as Ui}from"./data-vendor-Dot7cACn.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var lx={},zS=Ym;lx.createRoot=zS.createRoot,lx.hydrateRoot=zS.hydrateRoot;const XR={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_URL:void 0,VITE_IS_PREVIEW:void 0,VITE_SUPABASE_ANON_KEY:void 0,VITE_SUPABASE_URL:void 0},ZR=void 0,QR=void 0;console.error("âŒ VITE_SUPABASE_URL is missing or undefined"),console.log("Available env vars:",Object.keys(XR).filter(t=>t.startsWith("VITE_")));console.error("âŒ VITE_SUPABASE_ANON_KEY is missing or undefined");throw console.error("âŒ Cannot initialize Supabase client - missing environment variables"),console.log("supabaseUrl:","missing"),console.log("supabaseAnonKey:","missing"),new Error("Supabase configuration is incomplete. Check environment variables.");const Ge=KR(ZR,QR);function ko(){const[t,e]=R.useState(null),[r,n]=R.useState(null),[a,i]=R.useState(!0),[s,o]=R.useState(null);return R.useEffect(()=>{const p=async()=>{try{i(!0),o(null);const{data:{user:m},error:y}=await Ge.auth.getUser();if(y)throw y;if(!m){e(null),n(null),i(!1);return}const{data:b,error:x}=await Ge.from("profiles").select("*").eq("id",m.id).single();if(x)throw x;e(b);let N=null;if(b!=null&&b.org_id){const{data:A,error:w}=await Ge.from("organizations").select("*").eq("id",b.org_id).single();w||(N=A)}n(N)}catch(m){console.error("Error fetching user profile:",m),o(m.message)}finally{i(!1)}};p();const{data:{subscription:g}}=Ge.auth.onAuthStateChange((m,y)=>{m==="SIGNED_OUT"?(e(null),n(null)):m==="SIGNED_IN"&&y&&p()});return()=>g.unsubscribe()},[]),{profile:t,organization:r,loading:a,error:s,updateProfile:async p=>{try{const{data:g,error:m}=await Ge.from("profiles").update(p).eq("id",t.id).select().single();if(m)throw m;return e(y=>({...y,...g})),{data:g,error:null}}catch(g){return console.error("Error updating profile:",g),{data:null,error:g.message}}},hasRole:p=>(t==null?void 0:t.role)===p,hasAnyRole:p=>p.includes(t==null?void 0:t.role),isSubscriptionActive:()=>{if(!r)return!1;const{subscription_status:p,trial_ends_at:g}=r;return p==="active"||p==="trial"&&g&&new Date(g)>new Date},showRenewalBanner:()=>{if(!r)return!1;const{plan_type:p,subscription_status:g,cancel_at_period_end:m,current_period_end:y}=r;return!!(p==="annual"&&g==="active"&&m&&y&&new Date(y)-new Date<15*24*60*60*1e3)},isAuthenticated:!!t}}function Iw({size:t="default",className:e=""}){const r={small:"h-4 w-4",default:"h-6 w-6",large:"h-8 w-8"};return l.jsx("div",{className:"flex items-center justify-center",children:l.jsx(ER,{className:`animate-spin text-blue-600 ${r[t]} ${e}`})})}function Jo({allowedRoles:t}){const{profile:e,loading:r,isAuthenticated:n,isSubscriptionActive:a}=ko();return r?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx(Iw,{size:"xl"})}):n?t&&!t.includes(e.role)?l.jsx(H0,{to:"/unauthorized",replace:!0}):!a()&&window.location.pathname!=="/billing"?l.jsx(H0,{to:"/billing",replace:!0}):l.jsx(Lw,{}):l.jsx(H0,{to:"/login",replace:!0})}const mf="production",cx=mf==="preview",WS={development:{apiUrl:"http://localhost:3000",clientUrl:"http://localhost:5173",supabaseUrl:void 0,supabaseAnonKey:void 0,stripePublishableKey:void 0},preview:{apiUrl:"http://localhost:3000",clientUrl:"https://preview.ptoconnect.com",supabaseUrl:void 0,supabaseAnonKey:void 0,stripePublishableKey:void 0},production:{apiUrl:"http://localhost:3000",clientUrl:"https://app.ptoconnect.com",supabaseUrl:void 0,supabaseAnonKey:void 0,stripePublishableKey:void 0}},JR=()=>({...WS[mf]||WS.development,isPreview:cx,isProduction:mf==="production",isDevelopment:mf==="development",environment:mf}),eL=()=>({baseURL:JR().apiUrl,timeout:3e4,headers:{"Content-Type":"application/json"}}),tL=()=>({level:"info",enableConsoleLogs:cx,enableNetworkLogs:cx,enablePerformanceLogs:!0}),bf=eL(),q0=tL();console.log("[DEBUG] Environment config:",{apiUrl:bf.baseURL,environment:"production",isPreview:!1});if(!bf.baseURL)throw new Error("API URL is not configured! Please check your environment variables.");const Wr=Ui.create({baseURL:bf.baseURL,timeout:bf.timeout,headers:bf.headers});Wr.interceptors.request.use(async t=>{try{const{data:{session:e}}=await Ge.auth.getSession();q0.enableNetworkLogs,e!=null&&e.access_token&&(t.headers.Authorization=`Bearer ${e.access_token}`),q0.enableNetworkLogs}catch(e){console.error("âŒ [FRONTEND DEBUG] Error getting session:",e)}return t},t=>(console.error("âŒ [FRONTEND DEBUG] Request interceptor error:",t),Promise.reject(t)));Wr.interceptors.response.use(t=>t,t=>{var e,r,n,a,i;return console.error("âŒ [FRONTEND DEBUG] API Response error:",{url:(e=t.config)==null?void 0:e.url,status:(r=t.response)==null?void 0:r.status,statusText:(n=t.response)==null?void 0:n.statusText,errorData:(a=t.response)==null?void 0:a.data,errorMessage:t.message}),((i=t.response)==null?void 0:i.status)===401&&(console.warn("ðŸš« [FRONTEND DEBUG] Unauthorized - redirecting to login"),window.location.href="/login"),Promise.reject(t)});const Ye=async(t,e,r=null,n={})=>{var a,i,s,o,c,u,d;try{const f=await Wr({method:t,url:e,data:r,...n});return f.data&&typeof f.data=="object"&&"success"in f.data?f.data.success?{data:f.data.data,error:null}:{data:null,error:((i=(a=f.data.errors)==null?void 0:a[0])==null?void 0:i.message)||"An error occurred"}:{data:f.data,error:null}}catch(f){console.error(`API Error (${t} ${e}):`,f);let h="An error occurred";return(s=f.response)!=null&&s.data&&typeof f.response.data=="object"&&"success"in f.response.data?h=((c=(o=f.response.data.errors)==null?void 0:o[0])==null?void 0:c.message)||h:h=((d=(u=f.response)==null?void 0:u.data)==null?void 0:d.message)||f.message||h,{data:null,error:h}}},rL={getProfile:()=>Ye("GET","/api/profiles/me"),updateProfile:t=>Ye("PUT","/api/profiles/me",t),getUsers:()=>Ye("GET","/api/profiles"),createUser:t=>Ye("POST","/api/admin-users",t),updateUser:(t,e)=>Ye("PUT",`/api/admin-users/${t}`,e),deleteUser:t=>Ye("DELETE",`/api/admin-users/${t}`)},hn={getEvents:()=>Ye("GET","/api/event"),getEvent:t=>Ye("GET",`/api/event/${t}`),createEvent:t=>Ye("POST","/api/event",t),updateEvent:(t,e)=>Ye("PUT",`/api/event/${t}`,e),deleteEvent:t=>Ye("DELETE",`/api/event/${t}`),rsvpEvent:(t,e)=>Ye("POST",`/api/event/${t}/rsvp`,{status:e}),getEventRSVPs:t=>Ye("GET",`/api/event/${t}/rsvps`),getEventSummary:t=>Ye("GET",`/api/events/${t}/summary`),getEventTasks:t=>Ye("GET",`/api/events/${t}/tasks`),createTask:(t,e)=>Ye("POST",`/api/events/${t}/tasks`,e),updateTask:(t,e,r)=>Ye("PUT",`/api/events/${t}/tasks/${e}`,r),deleteTask:(t,e)=>Ye("DELETE",`/api/events/${t}/tasks/${e}`),getEventIssues:t=>Ye("GET",`/api/events/${t}/issues`),createIssue:(t,e)=>Ye("POST",`/api/events/${t}/issues`,e),updateIssue:(t,e,r)=>Ye("PUT",`/api/events/${t}/issues/${e}`,r),deleteIssue:(t,e)=>Ye("DELETE",`/api/events/${t}/issues/${e}`),getEventSponsorships:t=>Ye("GET",`/api/events/${t}/sponsorships`),createSponsorship:(t,e)=>Ye("POST",`/api/events/${t}/sponsorships`,e),updateSponsorship:(t,e,r)=>Ye("PUT",`/api/events/${t}/sponsorships/${e}`,r),deleteSponsorship:(t,e)=>Ye("DELETE",`/api/events/${t}/sponsorships/${e}`),getTaskDependencies:(t,e)=>Ye("GET",`/api/events/${t}/tasks/${e}/dependencies`),createTaskDependency:(t,e,r)=>Ye("POST",`/api/events/${t}/tasks/${e}/dependencies`,r),deleteTaskDependency:(t,e,r)=>Ye("DELETE",`/api/events/${t}/tasks/${e}/dependencies/${r}`),getTaskComments:(t,e)=>Ye("GET",`/api/events/${t}/tasks/${e}/comments`),createTaskComment:(t,e,r)=>Ye("POST",`/api/events/${t}/tasks/${e}/comments`,r),updateTaskComment:(t,e,r,n)=>Ye("PUT",`/api/events/${t}/tasks/${e}/comments/${r}`,n),deleteTaskComment:(t,e,r)=>Ye("DELETE",`/api/events/${t}/tasks/${e}/comments/${r}`)},fi={getFundraisers:()=>Ye("GET","/fundraiser"),getFundraiser:t=>Ye("GET",`/fundraiser/${t}`),createFundraiser:t=>Ye("POST","/fundraiser",t),updateFundraiser:(t,e)=>Ye("PUT",`/fundraiser/${t}`,e),deleteFundraiser:t=>Ye("DELETE",`/fundraiser/${t}`),getDonations:t=>Ye("GET",`/fundraiser/${t}/donations`),getFundraiserAnalytics:(t,e)=>Ye("GET",`/fundraiser/${t}/analytics${e?`?${new URLSearchParams(e)}`:""}`),getAllFundraisersAnalytics:t=>Ye("GET",`/fundraiser/analytics${t?`?${new URLSearchParams(t)}`:""}`),getAnalyticsOverview:t=>Ye("GET",`/fundraiser/analytics/overview${t?`?${new URLSearchParams(t)}`:""}`),getAnalyticsTrends:t=>Ye("GET",`/fundraiser/analytics/trends${t?`?${new URLSearchParams(t)}`:""}`),getAnalyticsDonorRetention:t=>Ye("GET",`/fundraiser/analytics/donor-retention${t?`?${new URLSearchParams(t)}`:""}`),getAnalyticsCampaigns:t=>Ye("GET",`/fundraiser/analytics/campaigns${t?`?${new URLSearchParams(t)}`:""}`),addDonation:(t,e)=>Ye("POST","/fundraiser/analytics/donations",{...e,fundraiser_id:t}),getFundraiserTopDonor:t=>Ye("GET",`/fundraiser/${t}/top-donor`),getDonationTiers:t=>Ye("GET",`/fundraiser/${t}/tiers`),createDonationTier:(t,e)=>Ye("POST",`/fundraiser/${t}/tiers`,e),updateDonationTier:(t,e,r)=>Ye("PUT",`/fundraiser/${t}/tiers/${e}`,r),deleteDonationTier:(t,e)=>Ye("DELETE",`/fundraiser/${t}/tiers/${e}`),getAnalyticsYears:()=>Ye("GET","/fundraiser/analytics/years"),getDonorYears:()=>Ye("GET","/fundraiser/donors/years"),getDonorData:(t,e,r,n)=>Ye("GET",`/fundraiser/donors${e||r||n?`?${new URLSearchParams({year:e,fundraiserId:r,type:n})}`:""}`),getDonorTypes:()=>Ye("GET","/fundraiser/donor-types")},bo={generateEventIdeas:t=>Ye("POST","/event-ideas",{prompt:t}),generateContent:(t,e,r,n=!1)=>Ye("POST","/ai/generate",{type:t,prompt:e,context:r,includeRecommendations:n}),analyzeContext:(t,e="general")=>Ye("POST","/ai/analyze-context",{orgId:t,analysisType:e}),analyzeEventWorkflow:(t,e)=>Ye("POST","/ai/analyze-event-workflow",{eventData:t,orgId:e}),analyzeDocument:t=>Ye("POST",`/ai/analyze-document/${t}`),chatWithDocuments:t=>Ye("POST","/ai/chat",{query:t}),generateComprehensiveWorkflow:async(t,e,r)=>{try{console.log("ðŸŒŸ [API] Generating comprehensive workflow..."),console.log("ðŸ“Š [API] Event data:",t),console.log("ðŸŽ¯ [API] Stella context:",e),console.log("ðŸ”§ [API] Module integrations:",r);const n=await Ye("POST","/stella/generate-comprehensive-workflow",{eventData:t,stellaContext:e,moduleIntegrations:r});return console.log("âœ… [API] Workflow generation response:",n),n}catch(n){throw console.error("âŒ [API] Workflow generation failed:",n),n}},getWorkflowDetails:t=>Ye("GET",`/stella/workflow/${t}`),listWorkflows:()=>Ye("GET","/stella/workflows")};function tT(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=tT(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Nt(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=tT(t))&&(n&&(n+=" "),n+=e);return n}function nL(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}nL(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var $w=t=>typeof t=="number"&&!isNaN(t),Lf=t=>typeof t=="string",rT=t=>typeof t=="function",aL=t=>Lf(t)||$w(t),iL=t=>R.isValidElement(t)||Lf(t)||rT(t)||$w(t),sL=1,nT=()=>`${sL++}`,Vi=new Map,ux=[],HS=new Set,aT=()=>Vi.size>0,oL=(t,{containerId:e})=>{var r;return(r=Vi.get(e||1))==null?void 0:r.toasts.get(t)};function lL(t,e){var r;if(e)return!!((r=Vi.get(e))!=null&&r.isToastActive(t));let n=!1;return Vi.forEach(a=>{a.isToastActive(t)&&(n=!0)}),n}function cL(t){if(!aT()){ux=ux.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||aL(t))Vi.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=Vi.get(t.containerId);e?e.removeToast(t.id):Vi.forEach(r=>{r.removeToast(t.id)})}}var uL=(t={})=>{Vi.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function dL(t,e){iL(t)&&(aT()||ux.push({content:t,options:e}),Vi.forEach(r=>{r.buildToast(t,e)}))}function iT(t,e){Vi.forEach(r=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===r.id)&&r.toggle(t,e==null?void 0:e.id)})}function fL(t){return HS.add(t),()=>{HS.delete(t)}}function hL(t){return t&&(Lf(t.toastId)||$w(t.toastId))?t.toastId:nT()}function Hh(t,e){return dL(t,e),e.toastId}function Ov(t,e){return{...e,type:e&&e.type||t,toastId:hL(e)}}function Cv(t){return(e,r)=>Hh(e,Ov(t,r))}function ut(t,e){return Hh(t,Ov("default",e))}ut.loading=(t,e)=>Hh(t,Ov("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function pL(t,{pending:e,error:r,success:n},a){let i;e&&(i=Lf(e)?ut.loading(e,a):ut.loading(e.render,{...a,...e}));let s={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},o=(u,d,f)=>{if(d==null){ut.dismiss(i);return}let h={type:u,...s,...a,data:f},p=Lf(d)?{render:d}:d;return i?ut.update(i,{...h,...p}):ut(p.render,{...h,...p}),f},c=rT(t)?t():t;return c.then(u=>o("success",n,u)).catch(u=>o("error",r,u)),c}ut.promise=pL;ut.success=Cv("success");ut.info=Cv("info");ut.error=Cv("error");ut.warning=Cv("warning");ut.warn=ut.warning;ut.dark=(t,e)=>Hh(t,Ov("default",{theme:"dark",...e}));function mL(t){cL(t)}ut.dismiss=mL;ut.clearWaitingQueue=uL;ut.isActive=lL;ut.update=(t,e={})=>{let r=oL(t,e);if(r){let{props:n,content:a}=r,i={delay:100,...n,...e,toastId:e.toastId||t,updateId:nT()};i.toastId!==t&&(i.staleId=t);let s=i.render||a;delete i.render,Hh(s,i)}};ut.done=t=>{ut.update(t,{progress:1})};ut.onChange=fL;ut.play=t=>iT(!0,t);ut.pause=t=>iT(!1,t);const pi=(t,e="An error occurred")=>(console.error("Error:",t),ut.error(e),!1),Cl=(t="Operation successful")=>(ut.success(t),!0);function gL(){const[t,e]=R.useState([]),[r,n]=R.useState(!1),[a,i]=R.useState(null),[s,o]=R.useState(!1),c=async()=>{try{n(!0);const{data:f}=await Wr.get("/api/notifications");e(f),i(null)}catch(f){i("Failed to fetch notifications"),pi(f,"Failed to fetch notifications")}finally{n(!1)}},u=async f=>{try{n(!0),await Wr.put(`/notifications/${f}/read`),e(t.map(h=>h.id===f?{...h,read:!0}:h)),Cl("Notification marked as read")}catch(h){pi(h,"Failed to update notification")}finally{n(!1)}},d=async()=>{try{n(!0),await Wr.delete("/notifications/clear-all"),e([]),Cl("All notifications cleared")}catch(f){pi(f,"Failed to clear notifications")}finally{n(!1)}};return R.useEffect(()=>{c()},[]),r?l.jsx(Iw,{size:"sm"}):l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>o(!s),className:"p-2 rounded-full hover:bg-gray-100 focus:outline-none",children:[l.jsx(OR,{className:"h-6 w-6 text-gray-600"}),t.length>0&&l.jsx("span",{className:"absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white transform translate-x-1/2 -translate-y-1/2 bg-red-500 rounded-full",children:t.length})]}),s&&l.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg z-50",children:[l.jsx("div",{className:"p-4 border-b",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Notifications"}),t.length>0&&l.jsx("button",{onClick:d,className:"text-sm text-gray-500 hover:text-gray-700",children:"Clear all"})]})}),l.jsx("div",{className:"max-h-96 overflow-y-auto",children:t.length===0?l.jsx("div",{className:"p-4 text-center text-gray-500",children:"No notifications"}):t.map(f=>l.jsxs("div",{className:`p-4 border-b hover:bg-gray-50 cursor-pointer ${f.read?"":"bg-blue-50"}`,onClick:()=>u(f.id),children:[l.jsx("p",{className:"text-sm",children:f.message}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(f.created_at).toLocaleString()})]},f.id))})]})]})}function vL(){const t=xr(),e=async()=>{await Ge.auth.signOut(),localStorage.removeItem("access_token"),t("/login")};return l.jsx("button",{onClick:e,className:"text-sm bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded",children:"Logout"})}const yL=[{to:"/dashboard/admin",label:"Dashboard",roles:["admin"]},{to:"/events",label:"Events",roles:["admin","teacher","parent_member"]},{to:"/calendar",label:"Calendar",roles:["admin","teacher","parent_member"]},{to:"/fundraisers",label:"Fundraisers",roles:["admin","treasurer"]},{to:"/budget",label:"Budget",roles:["admin","treasurer"]},{to:"/communications",label:"Communications",roles:["admin","committee_lead","teacher"]},{to:"/teacher-requests",label:"Teacher Requests",roles:["admin","teacher"]},{to:"/billing",label:"Billing",roles:["admin"]}];function bL({role:t}){const e=QC(),r=yL.filter(n=>n.roles.includes(t));return l.jsx("aside",{className:"w-64 bg-white border-r shadow-sm hidden md:block",children:l.jsx("nav",{className:"px-4 py-6 space-y-2",children:r.map(n=>l.jsx(Yu,{to:n.to,className:`block px-3 py-2 rounded text-sm font-medium ${e.pathname===n.to?"bg-blue-100 text-blue-700":"text-gray-700 hover:bg-gray-100"}`,children:n.label},n.to))})})}function xL(){return l.jsxs("footer",{className:"text-xs text-gray-500 text-center py-4 border-t bg-white",children:["PTO Connect Â© ",new Date().getFullYear()," â€” Need help? Visit our support page."]})}function wL(){const{showRenewalBanner:t,organization:e}=ko();return t()?l.jsxs("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-800 p-4 mb-4 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("strong",{children:"Annual Subscription Expiring Soon:"})," Your annual subscription will expire on"," ",l.jsx("span",{className:"font-semibold",children:e!=null&&e.current_period_end?new Date(e.current_period_end).toLocaleDateString():"soon"}),". Please renew to avoid interruption."]}),l.jsx("a",{href:"/billing",className:"ml-4 px-4 py-2 bg-yellow-500 text-white rounded hover:bg-yellow-600 transition-colors",children:"Renew Now"})]}):null}function el(){const[t,e]=R.useState(null),[r,n]=R.useState(null);return R.useEffect(()=>{async function a(){const{data:{user:i}}=await Ge.auth.getUser();e(i);const{data:s}=await Ge.from("profiles").select("role").eq("id",i.id).single();n(s==null?void 0:s.role)}a()},[]),!t||!r?null:l.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[l.jsxs("header",{className:"bg-white shadow-sm px-6 py-4 flex justify-between items-center w-full",children:[l.jsx("span",{className:"text-xl font-bold text-blue-700",children:"PTO Connect"}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(gL,{}),l.jsx(vL,{})]})]}),l.jsx(wL,{}),l.jsxs("div",{className:"flex flex-1",children:[l.jsx(bL,{role:r}),l.jsx("main",{className:"flex-1 p-6",children:l.jsx(Lw,{})})]}),l.jsx(xL,{})]})}const SL={admin:"/dashboard/admin",board_member:"/dashboard/board",committee_lead:"/dashboard/committee",volunteer:"/dashboard/volunteer",parent_member:"/dashboard/parent",teacher:"/dashboard/teacher"},NL=t=>SL[t]||"/dashboard";function qS(){const[t,e]=R.useState(""),[r,n]=R.useState(""),[a,i]=R.useState(""),[s,o]=R.useState(!1),c=xr(),u=async d=>{if(d&&d.preventDefault(),console.log("ðŸ” [LOGIN DEBUG] Login attempt started"),console.log("ðŸ” [LOGIN DEBUG] Email:",t),o(!0),i(""),!t||!r){console.log("âŒ [LOGIN DEBUG] Missing email or password"),i("Email and password are required."),o(!1);return}console.log("ðŸ” [LOGIN DEBUG] Calling Supabase signInWithPassword...");const{data:f,error:h}=await Ge.auth.signInWithPassword({email:t,password:r});if(console.log("ðŸ” [LOGIN DEBUG] Supabase response:",{user:!!(f!=null&&f.user),session:!!(f!=null&&f.session),error:h}),h||!(f!=null&&f.user)){console.error("âŒ [LOGIN DEBUG] Login error:",h),i((h==null?void 0:h.message)||"Login failed."),o(!1);return}const p=f.user;console.log("ðŸ” [LOGIN DEBUG] User authenticated:",{id:p.id,email:p.email,user_metadata:p.user_metadata}),console.log("ðŸ” [LOGIN DEBUG] Fetching user profile...");const{data:g,error:m}=await Ge.from("profiles").select("role, org_id, approved").eq("id",p.id).single();if(console.log("ðŸ” [LOGIN DEBUG] Profile query result:",{profile:g,profileError:m}),m||!g){console.error("âŒ [LOGIN DEBUG] Profile fetch error:",m),i("Unable to load user profile. Please contact support."),o(!1);return}if(!g.approved){console.log("âŒ [LOGIN DEBUG] User not approved"),i("Your account is pending approval. Please contact an administrator."),o(!1);return}const y=g.role;if(console.log("ðŸ” [LOGIN DEBUG] User role:",y),!y){console.log("âŒ [LOGIN DEBUG] No role assigned"),i("Your account does not have a role assigned."),o(!1);return}console.log("ðŸ” [LOGIN DEBUG] Getting dashboard route for role:",y);const b=NL(y);console.log("ðŸ” [LOGIN DEBUG] Navigating to:",b),c(b),o(!1)};return l.jsxs("div",{className:"p-6 max-w-md mx-auto",children:[l.jsx("h1",{className:"text-xl font-bold mb-4",children:"Log In"}),l.jsxs("form",{onSubmit:u,className:"space-y-4",children:[l.jsx("input",{className:"border p-2 w-full rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",type:"email",value:t,onChange:d=>e(d.target.value),placeholder:"Email",required:!0,disabled:s,autoComplete:"email"}),l.jsx("input",{className:"border p-2 w-full rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",type:"password",value:r,onChange:d=>n(d.target.value),placeholder:"Password",required:!0,disabled:s,autoComplete:"current-password"}),l.jsx("button",{type:"submit",disabled:s,className:"bg-blue-600 text-white px-4 py-2 rounded w-full hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s?"Logging in...":"Log In"}),a&&l.jsx("p",{className:"text-red-500 mt-2",children:a})]})]})}const jL=["admin","treasurer","board_member"];function AL(){const[t,e]=R.useState(""),[r,n]=R.useState(""),[a,i]=R.useState(""),[s,o]=R.useState("parent_member"),[c,u]=R.useState(""),[d,f]=R.useState(""),h=async()=>{if(u(""),f(""),!t||!r||!a||!s){u("All fields are required.");return}const{data:p,error:g}=await Ge.from("organizations").select("id").ilike("signup_code",a).single();if(g||!(p!=null&&p.id)){console.error("PTO code lookup failed:",g),u("Invalid PTO code. Please check with your organization.");return}const m=p.id,{data:y,error:b}=await Ge.auth.signUp({email:t,password:r,options:{data:{org_id:m,role:s}}});if(b||!(y!=null&&y.user)){console.error("Signup error:",b),u((b==null?void 0:b.message)||"Signup failed.");return}const x=y.user,N=!jL.includes(s),{data:A}=await Ge.from("profiles").select("id").eq("id",x.id).maybeSingle();if(A){console.warn("Profile already exists, skipping insert."),f("Signup successful! You can now log in.");return}const{error:w}=await Ge.from("profiles").insert([{id:x.id,email:t,org_id:m,role:s,approved:N}]);w?(console.error("Profile insert error:",w),u("Signup successful, but failed to save profile.")):(f(N?"Signup successful! You can now log in.":"Signup submitted. An admin must approve your role before you can access the system."),e(""),n(""),i(""),o("parent_member"))};return l.jsxs("div",{className:"p-6 max-w-md mx-auto",children:[l.jsx("h1",{className:"text-xl font-bold mb-4",children:"Sign Up"}),l.jsx("input",{className:"border p-2 w-full mb-2",type:"email",value:t,onChange:p=>e(p.target.value),placeholder:"Email",required:!0}),l.jsx("input",{className:"border p-2 w-full mb-2",type:"password",value:r,onChange:p=>n(p.target.value),placeholder:"Password",required:!0}),l.jsx("input",{className:"border p-2 w-full mb-2",type:"text",value:a,onChange:p=>i(p.target.value),placeholder:"PTO Code (e.g. abc123xy)",required:!0}),l.jsxs("select",{className:"border p-2 w-full mb-4",value:s,onChange:p=>o(p.target.value),required:!0,children:[l.jsx("option",{value:"parent_member",children:"Parent Member"}),l.jsx("option",{value:"teacher",children:"Teacher"}),l.jsx("option",{value:"volunteer",children:"Volunteer"}),l.jsx("option",{value:"committee_lead",children:"Committee Lead"}),l.jsx("option",{value:"board_member",children:"Board Member"}),l.jsx("option",{value:"treasurer",children:"Treasurer"}),l.jsx("option",{value:"admin",children:"Admin"})]}),l.jsx("button",{onClick:h,className:"bg-green-600 text-white px-4 py-2 rounded w-full",children:"Sign Up"}),c&&l.jsx("p",{className:"text-red-500 mt-2",children:c}),d&&l.jsx("p",{className:"text-green-600 mt-2",children:d})]})}function _L(){return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 p-6",children:l.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-8 max-w-md text-center",children:[l.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Access Denied"}),l.jsx("p",{className:"text-gray-700 mb-6",children:"You donâ€™t have permission to view this page."}),l.jsx(Yu,{to:"/",className:"inline-block bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Return to Home"})]})})}const EL=()=>{var N,A,w,j;const{userProfile:t}=ko(),[e,r]=R.useState("membership"),[n,a]=R.useState("6months"),[i,s]=R.useState({membership:[],events:[],financial:[],engagement:[]}),[o,c]=R.useState(!0);R.useEffect(()=>{t!=null&&t.org_id&&u()},[t,n]);const u=async()=>{try{c(!0);const E=new Date,O=new Date;switch(n){case"3months":O.setMonth(E.getMonth()-3);break;case"6months":O.setMonth(E.getMonth()-6);break;case"1year":O.setFullYear(E.getFullYear()-1);break;default:O.setMonth(E.getMonth()-6)}const[k,L,C,P]=await Promise.all([d(O,E),f(O,E),h(O,E),p(O,E)]);s({membership:k,events:L,financial:C,engagement:P})}catch(E){console.error("Error fetching chart data:",E)}finally{c(!1)}},d=async(E,O)=>{const k=[],L=new Date(E);for(;L<=O;){const C=new Date(L.getFullYear(),L.getMonth(),1),P=new Date(L.getFullYear(),L.getMonth()+1,0),{count:I}=await Ge.from("profiles").select("*",{count:"exact",head:!0}).eq("org_id",t.org_id).lte("created_at",P.toISOString());k.push({month:C.toLocaleDateString("en-US",{month:"short"}),value:I||0,date:C}),L.setMonth(L.getMonth()+1)}return k},f=async(E,O)=>{const{data:k}=await Ge.from("events").select("event_date, title, status").eq("org_id",t.org_id).gte("event_date",E.toISOString()).lte("event_date",O.toISOString()).order("event_date"),L={};return k==null||k.forEach(C=>{const P=new Date(C.event_date).toLocaleDateString("en-US",{month:"short"});L[P]||(L[P]={total:0,completed:0}),L[P].total++,C.status==="completed"&&L[P].completed++}),Object.entries(L).map(([C,P])=>({month:C,total:P.total,completed:P.completed,success_rate:P.total>0?Math.round(P.completed/P.total*100):0}))},h=async(E,O)=>{const{data:k}=await Ge.from("budget_entries").select("amount, type, category, created_at").eq("org_id",t.org_id).gte("created_at",E.toISOString()).lte("created_at",O.toISOString()),L={};return k==null||k.forEach(C=>{L[C.category]||(L[C.category]={income:0,expenses:0}),C.type==="income"?L[C.category].income+=C.amount:L[C.category].expenses+=C.amount}),Object.entries(L).map(([C,P])=>({category:C,income:P.income,expenses:P.expenses,net:P.income-P.expenses}))},p=async(E,O)=>{const k=[],L=new Date(E);for(;L<=O;){const C=L.toLocaleDateString("en-US",{month:"short"}),P=65,I=Math.random()*20-10,M=Math.max(0,Math.min(100,P+I));k.push({month:C,engagement:Math.round(M),email_opens:Math.round(M*.8),event_attendance:Math.round(M*.6),volunteer_participation:Math.round(M*.4)}),L.setMonth(L.getMonth()+1)}return k},g=(E,O,k="#3B82F6")=>{if(!E||E.length===0)return null;const L=Math.max(...E.map(M=>M[O]||0)),C=Math.min(...E.map(M=>M[O]||0)),P=L-C||1,I=E.map((M,H)=>{const V=H/(E.length-1)*100,F=100-((M[O]||0)-C)/P*80-10;return`${V},${F}`}).join(" ");return l.jsxs("div",{className:"relative h-64 bg-gray-50 rounded-lg p-4",children:[l.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[l.jsx("polyline",{fill:"none",stroke:k,strokeWidth:"0.5",points:I}),E.map((M,H)=>{const V=H/(E.length-1)*100,F=100-((M[O]||0)-C)/P*80-10;return l.jsx("circle",{cx:V,cy:F,r:"1",fill:k},H)})]}),l.jsx("div",{className:"absolute bottom-0 left-0 right-0 flex justify-between text-xs text-gray-500 px-4",children:E.map((M,H)=>l.jsx("span",{children:M.month},H))}),l.jsxs("div",{className:"absolute left-0 top-0 bottom-0 flex flex-col justify-between text-xs text-gray-500 py-4",children:[l.jsx("span",{children:L}),l.jsx("span",{children:Math.round((L+C)/2)}),l.jsx("span",{children:C})]})]})},m=(E,O,k="#10B981")=>{if(!E||E.length===0)return null;const L=Math.max(...E.map(C=>C[O]||0));return l.jsx("div",{className:"relative h-64 bg-gray-50 rounded-lg p-4",children:l.jsx("div",{className:"flex items-end justify-between h-full space-x-2",children:E.map((C,P)=>{const I=L>0?(C[O]||0)/L*100:0;return l.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[l.jsx("div",{className:"w-full rounded-t",style:{height:`${I}%`,backgroundColor:k,minHeight:I>0?"4px":"0"}}),l.jsx("span",{className:"text-xs text-gray-500 mt-2",children:C.month})]},P)})})})},y=E=>{if(!E||E.length===0)return null;const O=E.reduce((C,P)=>C+Math.abs(P.net||0),0);let k=0;const L=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6"];return l.jsxs("div",{className:"relative h-64 flex items-center justify-center",children:[l.jsxs("svg",{className:"w-48 h-48",viewBox:"0 0 100 100",children:[E.map((C,P)=>{const M=(O>0?Math.abs(C.net||0)/O:0)*360,H=k,V=k+M,F=50+35*Math.cos(H*Math.PI/180),X=50+35*Math.sin(H*Math.PI/180),Y=50+35*Math.cos(V*Math.PI/180),Q=50+35*Math.sin(V*Math.PI/180),se=M>180?1:0,$=["M 50 50",`L ${F} ${X}`,`A 35 35 0 ${se} 1 ${Y} ${Q}`,"Z"].join(" ");return k+=M,l.jsx("path",{d:$,fill:L[P%L.length],opacity:.8},P)}),l.jsx("circle",{cx:"50",cy:"50",r:"20",fill:"white"})]}),l.jsx("div",{className:"absolute right-0 top-0 space-y-2",children:E.map((C,P)=>l.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[l.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:L[P%L.length]}}),l.jsx("span",{className:"text-gray-700",children:C.category})]},P))})]})},b=()=>{const E=i[e],O="data:text/csv;charset=utf-8,"+Object.keys(E[0]||{}).join(",")+`
`+E.map(C=>Object.values(C).join(",")).join(`
`),k=encodeURI(O),L=document.createElement("a");L.setAttribute("href",k),L.setAttribute("download",`${e}_analytics.csv`),document.body.appendChild(L),L.click(),document.body.removeChild(L)},x={membership:{title:"Membership Growth",description:"Track member acquisition and retention over time",dataKey:"value",color:"#3B82F6"},events:{title:"Event Performance",description:"Monitor event frequency and success rates",dataKey:"total",color:"#10B981"},financial:{title:"Financial Distribution",description:"Analyze income and expenses by category",dataKey:"net",color:"#F59E0B"},engagement:{title:"Member Engagement",description:"Measure community participation and activity",dataKey:"engagement",color:"#8B5CF6"}};return o?l.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:l.jsxs("div",{className:"animate-pulse",children:[l.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-4"}),l.jsx("div",{className:"h-64 bg-gray-200 rounded"})]})}):l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[l.jsxs("div",{className:"p-6 border-b border-gray-200",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Analytics Dashboard"}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("select",{value:n,onChange:E=>a(E.target.value),className:"px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"3months",children:"Last 3 Months"}),l.jsx("option",{value:"6months",children:"Last 6 Months"}),l.jsx("option",{value:"1year",children:"Last Year"})]}),l.jsx("button",{onClick:b,className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm hover:bg-blue-700 transition-colors",children:"Export CSV"})]})]}),l.jsx("div",{className:"flex space-x-1 bg-gray-100 rounded-lg p-1",children:Object.entries(x).map(([E,O])=>l.jsx("button",{onClick:()=>r(E),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${e===E?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:O.title},E))})]}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:x[e].title}),l.jsx("p",{className:"text-sm text-gray-600",children:x[e].description})]}),l.jsxs("div",{className:"mb-6",children:[e==="membership"&&g(i.membership,x.membership.dataKey,x.membership.color),e==="events"&&m(i.events,x.events.dataKey,x.events.color),e==="financial"&&y(i.financial),e==="engagement"&&g(i.engagement,x.engagement.dataKey,x.engagement.color)]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 pt-4 border-t border-gray-200",children:[e==="membership"&&i.membership.length>0&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-blue-600",children:((N=i.membership[i.membership.length-1])==null?void 0:N.value)||0}),l.jsx("p",{className:"text-sm text-gray-600",children:"Current Members"})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["+",i.membership.length>1?(((A=i.membership[i.membership.length-1])==null?void 0:A.value)||0)-(((w=i.membership[0])==null?void 0:w.value)||0):0]}),l.jsx("p",{className:"text-sm text-gray-600",children:"Growth"})]})]}),e==="events"&&i.events.length>0&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-green-600",children:i.events.reduce((E,O)=>E+O.total,0)}),l.jsx("p",{className:"text-sm text-gray-600",children:"Total Events"})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[i.events.length>0?Math.round(i.events.reduce((E,O)=>E+O.success_rate,0)/i.events.length):0,"%"]}),l.jsx("p",{className:"text-sm text-gray-600",children:"Avg Success Rate"})]})]}),e==="financial"&&i.financial.length>0&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"text-center",children:[l.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["$",i.financial.reduce((E,O)=>E+O.income,0).toLocaleString()]}),l.jsx("p",{className:"text-sm text-gray-600",children:"Total Income"})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("p",{className:"text-2xl font-bold text-red-600",children:["$",i.financial.reduce((E,O)=>E+O.expenses,0).toLocaleString()]}),l.jsx("p",{className:"text-sm text-gray-600",children:"Total Expenses"})]})]}),e==="engagement"&&i.engagement.length>0&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"text-center",children:[l.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[((j=i.engagement[i.engagement.length-1])==null?void 0:j.engagement)||0,"%"]}),l.jsx("p",{className:"text-sm text-gray-600",children:"Current Engagement"})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[i.engagement.length>0?Math.round(i.engagement.reduce((E,O)=>E+O.email_opens,0)/i.engagement.length):0,"%"]}),l.jsx("p",{className:"text-sm text-gray-600",children:"Avg Email Opens"})]})]})]})]})]})},OL=()=>{const{userProfile:t}=ko(),[e,r]=R.useState([]),[n,a]=R.useState("all"),[i,s]=R.useState(!0);R.useEffect(()=>{t!=null&&t.org_id&&o()},[t]);const o=async()=>{try{s(!0);const x=[],N=await c();x.push(...N);const A=await u();x.push(...A);const w=await d();x.push(...w);const j=await f();x.push(...j),x.sort((E,O)=>{const k={high:3,medium:2,low:1};return k[E.priority]!==k[O.priority]?k[O.priority]-k[E.priority]:new Date(O.timestamp)-new Date(E.timestamp)}),r(x)}catch(x){console.error("Error generating smart notifications:",x)}finally{s(!1)}},c=async()=>{const x=[];try{const{data:N}=await Ge.from("budget_entries").select("amount, category, type").eq("org_id",t.org_id);if(N&&N.length>0){const A=N.filter(O=>O.type==="income").reduce((O,k)=>O+k.amount,0),w=N.filter(O=>O.type==="expense").reduce((O,k)=>O+k.amount,0),j=A>0?w/A*100:0;j>80?x.push({id:"budget-alert-1",type:"budget",priority:"high",title:"Budget Alert: Events Category",message:`Events budget is ${Math.round(j)}% spent with 3 months remaining. Consider reviewing upcoming event costs.`,timestamp:new Date().toISOString(),actionable:!0,actions:[{label:"Review Budget",action:"review_budget"},{label:"View Details",action:"view_details"}]}):j>60&&x.push({id:"budget-alert-2",type:"budget",priority:"medium",title:"Budget Tracking",message:`Budget is ${Math.round(j)}% utilized. On track for current period.`,timestamp:new Date().toISOString(),actionable:!1,actions:[]});const E=N.reduce((O,k)=>(O[k.category]||(O[k.category]={income:0,expenses:0}),k.type==="income"?O[k.category].income+=k.amount:O[k.category].expenses+=k.amount,O),{});Object.entries(E).forEach(([O,k])=>{const L=k.income>0?k.expenses/k.income*100:0;L>90&&x.push({id:`budget-category-${O}`,type:"budget",priority:"high",title:`${O} Budget Alert`,message:`${O} category is ${Math.round(L)}% spent. Immediate attention required.`,timestamp:new Date().toISOString(),actionable:!0,actions:[{label:"Review Category",action:"review_category"},{label:"Adjust Budget",action:"adjust_budget"}]})})}}catch(N){console.error("Error generating budget alerts:",N)}return x},u=async()=>{const x=[];try{const N=new Date;N.setDate(N.getDate()-30);const{count:A}=await Ge.from("profiles").select("*",{count:"exact",head:!0}).eq("org_id",t.org_id).gte("created_at",N.toISOString()),{count:w}=await Ge.from("profiles").select("*",{count:"exact",head:!0}).eq("org_id",t.org_id),j=w>0?A/w*100:0;j<5?x.push({id:"membership-growth-1",type:"membership",priority:"medium",title:"Membership Growth Trending Down",message:"New member registrations have decreased by 15% this month. Consider launching a recruitment campaign.",timestamp:new Date().toISOString(),actionable:!0,actions:[{label:"Start Campaign",action:"start_campaign"},{label:"View Analytics",action:"view_analytics"}]}):j>15&&x.push({id:"membership-growth-2",type:"membership",priority:"low",title:"Excellent Membership Growth",message:`Outstanding! New member registrations increased by ${Math.round(j)}% this month.`,timestamp:new Date().toISOString(),actionable:!1,actions:[]});const{count:E}=await Ge.from("profiles").select("*",{count:"exact",head:!0}).eq("org_id",t.org_id).gte("last_sign_in_at",N.toISOString()),O=w>0?E/w*100:0;O<40&&x.push({id:"engagement-alert-1",type:"engagement",priority:"medium",title:"Low Member Engagement",message:`Only ${Math.round(O)}% of members were active this month. Consider increasing communication frequency.`,timestamp:new Date().toISOString(),actionable:!0,actions:[{label:"Send Newsletter",action:"send_newsletter"},{label:"Plan Event",action:"plan_event"}]})}catch(N){console.error("Error generating membership insights:",N)}return x},d=async()=>{const x=[];try{const N=new Date;N.setDate(N.getDate()+7);const{data:A}=await Ge.from("events").select("id, title, event_date, volunteer_slots_needed, volunteer_slots_filled").eq("org_id",t.org_id).gte("event_date",new Date().toISOString()).lte("event_date",N.toISOString());A==null||A.forEach(E=>{const O=Math.ceil((new Date(E.event_date)-new Date)/864e5),k=(E.volunteer_slots_needed||0)-(E.volunteer_slots_filled||0);O<=3&&k>0?x.push({id:`event-volunteer-${E.id}`,type:"events",priority:"high",title:`Volunteer Shortage: ${E.title}`,message:`${E.title} in ${O} days needs ${k} more volunteers.`,timestamp:new Date().toISOString(),actionable:!0,actions:[{label:"Send Reminder",action:"send_reminder"},{label:"View Event",action:"view_event"}]}):O<=7&&x.push({id:`event-reminder-${E.id}`,type:"events",priority:"low",title:`Upcoming Event: ${E.title}`,message:`${E.title} is coming up in ${O} days. All preparations on track.`,timestamp:new Date().toISOString(),actionable:!1,actions:[]})});const{data:w}=await Ge.from("events").select("id, title, event_date, updated_at").eq("org_id",t.org_id).gte("event_date",new Date().toISOString()),j=new Date;j.setDate(j.getDate()-14),w==null||w.forEach(E=>{new Date(E.updated_at)<j&&x.push({id:`event-stale-${E.id}`,type:"events",priority:"medium",title:`Event Needs Attention: ${E.title}`,message:`${E.title} hasn't been updated in 2 weeks. Consider reviewing event details.`,timestamp:new Date().toISOString(),actionable:!0,actions:[{label:"Update Event",action:"update_event"},{label:"View Details",action:"view_details"}]})})}catch(N){console.error("Error generating event alerts:",N)}return x},f=async()=>{const x=[];x.push({id:"goal-achievement-1",type:"goals",priority:"low",title:"Goal Achievement: Volunteer Hours",message:"Congratulations! Volunteer hours goal exceeded by 104% this quarter.",timestamp:new Date().toISOString(),actionable:!1,actions:[]});const N=new Date().getMonth();return N>=8&&N<=10&&x.push({id:"seasonal-insight-1",type:"seasonal",priority:"medium",title:"Fall Fundraising Opportunity",message:"Fall is peak fundraising season. Consider launching a major campaign now.",timestamp:new Date().toISOString(),actionable:!0,actions:[{label:"Create Campaign",action:"create_campaign"},{label:"View Templates",action:"view_templates"}]}),x.push({id:"communication-insight-1",type:"communication",priority:"low",title:"Communication Performance",message:"Email open rates increased by 8% this month. Great job on engaging content!",timestamp:new Date().toISOString(),actionable:!1,actions:[]}),x},h=(x,N)=>{switch(console.log(`Executing action: ${x} for notification: ${N}`),x){case"review_budget":break;case"start_campaign":break;case"send_reminder":break;case"view_analytics":break;default:console.log("Action not implemented:",x)}},p=x=>{r(N=>N.filter(A=>A.id!==x))},g=e.filter(x=>n==="all"?!0:n==="actionable"?x.actionable:x.type===n),m=x=>{switch(x){case"high":return"border-red-200 bg-red-50";case"medium":return"border-yellow-200 bg-yellow-50";case"low":return"border-blue-200 bg-blue-50";default:return"border-gray-200 bg-gray-50"}},y=x=>{switch(x){case"high":return l.jsx("svg",{className:"w-5 h-5 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})});case"medium":return l.jsx("svg",{className:"w-5 h-5 text-yellow-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})});case"low":return l.jsx("svg",{className:"w-5 h-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})});default:return null}},b=x=>{switch(x){case"budget":return l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})});case"membership":return l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})});case"events":return l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})});case"engagement":return l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})});default:return l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5 5v-5zM4 19h5v-5H4v5zM13 13h5V8h-5v5zM4 8h5V3H4v5z"})})}};return i?l.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:l.jsxs("div",{className:"animate-pulse",children:[l.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/2 mb-4"}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"h-16 bg-gray-200 rounded"}),l.jsx("div",{className:"h-16 bg-gray-200 rounded"}),l.jsx("div",{className:"h-16 bg-gray-200 rounded"})]})]})}):l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[l.jsxs("div",{className:"p-6 border-b border-gray-200",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:l.jsx("svg",{className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5 5v-5zM4 19h5v-5H4v5zM13 13h5V8h-5v5zM4 8h5V3H4v5z"})})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Smart Notifications"}),l.jsx("p",{className:"text-sm text-gray-600",children:"AI-powered insights and alerts"})]})]}),l.jsx("button",{className:"text-blue-600 text-sm font-medium hover:text-blue-700",children:"View All"})]}),l.jsx("div",{className:"flex space-x-1 bg-gray-100 rounded-lg p-1",children:[{key:"all",label:"All"},{key:"actionable",label:"Actionable"},{key:"budget",label:"Budget"},{key:"events",label:"Events"},{key:"membership",label:"Members"}].map(({key:x,label:N})=>l.jsx("button",{onClick:()=>a(x),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${n===x?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:N},x))})]}),l.jsx("div",{className:"p-6",children:l.jsx("div",{className:"space-y-4",children:g.length===0?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("svg",{className:"w-12 h-12 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsx("p",{className:"text-gray-500",children:"No notifications to display"})]}):g.map(x=>l.jsx("div",{className:`border rounded-lg p-4 ${m(x.priority)}`,children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[y(x.priority),l.jsx("div",{className:"text-gray-500",children:b(x.type)})]}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h4",{className:"font-medium text-gray-900",children:x.title}),l.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${x.priority==="high"?"bg-red-100 text-red-800":x.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:[x.priority," priority"]})]}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:x.message}),l.jsx("p",{className:"text-xs text-gray-500 mt-2",children:new Date(x.timestamp).toLocaleString()}),x.actions.length>0&&l.jsx("div",{className:"flex items-center space-x-2 mt-3",children:x.actions.map((N,A)=>l.jsx("button",{onClick:()=>h(N.action,x.id),className:"px-3 py-1 bg-blue-600 text-white text-xs rounded hover:bg-blue-700 transition-colors",children:N.label},A))})]})]}),l.jsx("button",{onClick:()=>p(x.id),className:"text-gray-400 hover:text-gray-600 ml-2",children:l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})},x.id))})})]})},CL=()=>{const{userProfile:t,loading:e}=ko(),[r,n]=R.useState({metrics:{totalMembers:0,activeEvents:0,budgetUsed:0,engagementRate:0},recentActivity:[],upcomingEvents:[],pendingTasks:[],financialSummary:{totalBudget:0,spent:0,remaining:0,categories:[]}}),[a,i]=R.useState(!0);R.useEffect(()=>{t!=null&&t.org_id&&s()},[t]);const s=async()=>{try{i(!0);const b=[o(),c(),u(),d()],[x,N,A,w]=await Promise.all(b),[j,E,O]=await Promise.all([f(),h(),p()]);n({metrics:{totalMembers:x,activeEvents:N,budgetUsed:A.percentUsed,engagementRate:w},recentActivity:j,upcomingEvents:E,pendingTasks:O,financialSummary:A})}catch(b){console.error("Error fetching dashboard data:",b)}finally{i(!1)}},o=async()=>{const{count:b}=await Ge.from("profiles").select("*",{count:"exact",head:!0}).eq("org_id",t.org_id);return b||0},c=async()=>{const{count:b}=await Ge.from("events").select("*",{count:"exact",head:!0}).eq("org_id",t.org_id).gte("event_date",new Date().toISOString());return b||0},u=async()=>{const{data:b}=await Ge.from("budget_entries").select("amount, category, type").eq("org_id",t.org_id);if(!b)return{percentUsed:0,totalBudget:0,spent:0,remaining:0,categories:[]};const x=b.filter(w=>w.type==="income").reduce((w,j)=>w+j.amount,0),N=b.filter(w=>w.type==="expense").reduce((w,j)=>w+j.amount,0),A=b.reduce((w,j)=>(w[j.category]||(w[j.category]={income:0,expenses:0}),j.type==="income"?w[j.category].income+=j.amount:w[j.category].expenses+=j.amount,w),{});return{totalBudget:x,spent:N,remaining:x-N,percentUsed:x>0?Math.round(N/x*100):0,categories:Object.entries(A).map(([w,j])=>({name:w,...j,net:j.income-j.expenses}))}},d=async()=>{const b=new Date;b.setDate(b.getDate()-30);const{count:x}=await Ge.from("profiles").select("*",{count:"exact",head:!0}).eq("org_id",t.org_id).gte("last_sign_in_at",b.toISOString()),{count:N}=await Ge.from("profiles").select("*",{count:"exact",head:!0}).eq("org_id",t.org_id);return N>0?Math.round(x/N*100):0},f=async()=>{const{data:b}=await Ge.from("events").select("title, created_at, created_by").eq("org_id",t.org_id).order("created_at",{ascending:!1}).limit(5),{data:x}=await Ge.from("profiles").select("first_name, last_name, created_at").eq("org_id",t.org_id).order("created_at",{ascending:!1}).limit(3),N=[];return b&&b.forEach(A=>{N.push({type:"event_created",title:`New event: ${A.title}`,timestamp:A.created_at,user:"System"})}),x&&x.forEach(A=>{N.push({type:"user_joined",title:`${A.first_name} ${A.last_name} joined`,timestamp:A.created_at,user:`${A.first_name} ${A.last_name}`})}),N.sort((A,w)=>new Date(w.timestamp)-new Date(A.timestamp)).slice(0,8)},h=async()=>{const{data:b}=await Ge.from("events").select("id, title, event_date, location, status").eq("org_id",t.org_id).gte("event_date",new Date().toISOString()).order("event_date",{ascending:!0}).limit(5);return b||[]},p=async()=>{const b=[];return(t.role==="admin"||t.role==="board_member")&&b.push({id:1,title:"Review budget proposal",priority:"high",dueDate:"2025-06-10"},{id:2,title:"Approve volunteer applications",priority:"medium",dueDate:"2025-06-12"},{id:3,title:"Update event calendar",priority:"low",dueDate:"2025-06-15"}),b},g=b=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(b),m=b=>new Date(b).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),y=b=>{const x=new Date,N=new Date(b),A=Math.floor((x-N)/(1e3*60*60));if(A<1)return"Just now";if(A<24)return`${A}h ago`;const w=Math.floor(A/24);return w<7?`${w}d ago`:m(b)};return e||a?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):l.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["Welcome back, ",t==null?void 0:t.first_name,"!"]}),l.jsx("p",{className:"text-gray-600 mt-2",children:"Here's what's happening with your PTO today"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Members"}),l.jsx("p",{className:"text-3xl font-bold text-gray-900",children:r.metrics.totalMembers})]}),l.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:l.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})})]}),l.jsx("div",{className:"mt-4",children:l.jsx("span",{className:"text-sm text-green-600",children:"+12% from last month"})})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Events"}),l.jsx("p",{className:"text-3xl font-bold text-gray-900",children:r.metrics.activeEvents})]}),l.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:l.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})]}),l.jsx("div",{className:"mt-4",children:l.jsx("span",{className:"text-sm text-blue-600",children:"3 this month"})})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Budget Used"}),l.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[r.metrics.budgetUsed,"%"]})]}),l.jsx("div",{className:"p-3 bg-yellow-100 rounded-full",children:l.jsx("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})})]}),l.jsx("div",{className:"mt-4",children:l.jsxs("span",{className:"text-sm text-gray-600",children:[g(r.financialSummary.remaining)," remaining"]})})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Engagement Rate"}),l.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[r.metrics.engagementRate,"%"]})]}),l.jsx("div",{className:"p-3 bg-purple-100 rounded-full",children:l.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})})]}),l.jsx("div",{className:"mt-4",children:l.jsx("span",{className:"text-sm text-green-600",children:"+5% from last month"})})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[l.jsx("div",{className:"p-6 border-b border-gray-200",children:l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Recent Activity"})}),l.jsx("div",{className:"p-6",children:l.jsx("div",{className:"space-y-4",children:r.recentActivity.map((b,x)=>l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${b.type==="event_created"?"bg-blue-500":"bg-green-500"}`})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:b.title}),l.jsx("p",{className:"text-sm text-gray-500",children:y(b.timestamp)})]})]},x))})})]}),l.jsx(EL,{})]}),l.jsxs("div",{className:"space-y-8",children:[l.jsx(OL,{}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[l.jsx("div",{className:"p-6 border-b border-gray-200",children:l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Upcoming Events"})}),l.jsx("div",{className:"p-6",children:l.jsxs("div",{className:"space-y-4",children:[r.upcomingEvents.map(b=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-900",children:b.title}),l.jsx("p",{className:"text-sm text-gray-600",children:m(b.event_date)}),b.location&&l.jsx("p",{className:"text-sm text-gray-500",children:b.location})]}),l.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${b.status==="confirmed"?"bg-green-100 text-green-800":b.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:b.status})]},b.id)),r.upcomingEvents.length===0&&l.jsx("p",{className:"text-gray-500 text-center py-4",children:"No upcoming events"})]})})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[l.jsx("div",{className:"p-6 border-b border-gray-200",children:l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Quick Actions"})}),l.jsx("div",{className:"p-6",children:l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("button",{className:"flex flex-col items-center p-4 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors",children:[l.jsx("svg",{className:"w-6 h-6 text-blue-600 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),l.jsx("span",{className:"text-sm font-medium text-blue-900",children:"New Event"})]}),l.jsxs("button",{className:"flex flex-col items-center p-4 bg-green-50 rounded-lg hover:bg-green-100 transition-colors",children:[l.jsx("svg",{className:"w-6 h-6 text-green-600 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),l.jsx("span",{className:"text-sm font-medium text-green-900",children:"Send Message"})]}),l.jsxs("button",{className:"flex flex-col items-center p-4 bg-purple-50 rounded-lg hover:bg-purple-100 transition-colors",children:[l.jsx("svg",{className:"w-6 h-6 text-purple-600 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),l.jsx("span",{className:"text-sm font-medium text-purple-900",children:"Add Member"})]}),l.jsxs("button",{className:"flex flex-col items-center p-4 bg-yellow-50 rounded-lg hover:bg-yellow-100 transition-colors",children:[l.jsx("svg",{className:"w-6 h-6 text-yellow-600 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),l.jsx("span",{className:"text-sm font-medium text-yellow-900",children:"New Report"})]})]})})]}),r.pendingTasks.length>0&&l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[l.jsx("div",{className:"p-6 border-b border-gray-200",children:l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Pending Tasks"})}),l.jsx("div",{className:"p-6",children:l.jsx("div",{className:"space-y-3",children:r.pendingTasks.map(b=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-900",children:b.title}),l.jsxs("p",{className:"text-sm text-gray-600",children:["Due: ",m(b.dueDate)]})]}),l.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${b.priority==="high"?"bg-red-100 text-red-800":b.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:b.priority})]},b.id))})})]})]})]})]})})},TL=[{value:"",label:"All Roles"},{value:"admin",label:"Admin"},{value:"board_member",label:"Board Member"},{value:"committee_lead",label:"Committee Lead"},{value:"volunteer",label:"Volunteer"},{value:"parent_member",label:"Parent Member"},{value:"teacher",label:"Teacher"}];function kL(){const[t,e]=R.useState([]),[r,n]=R.useState([]),[a,i]=R.useState({}),[s,o]=R.useState(!0),[c,u]=R.useState(""),[d,f]=R.useState(!1),[h,p]=R.useState(!1),[g,m]=R.useState(""),[y,b]=R.useState({});if(R.useEffect(()=>{async function E(){var H,V,F;o(!0),u("");const[{data:O,error:k},{data:L,error:C}]=await Promise.all([Ye("GET","/api/admin/organization-permissions"),Ye("GET","/api/admin-users")]);if(console.log("[PermissionsConsole] /admin/organization-permissions response:",O),console.log("[PermissionsConsole] /admin-users response:",L),k||C){u("Failed to load permissions or users."),o(!1);return}const P=(H=O==null?void 0:O.data)==null?void 0:H.permissions,I=(V=O==null?void 0:O.data)==null?void 0:V.grouped;n(Array.isArray(P)?P:[]),i(I&&typeof I=="object"?I:{});const M=((F=L==null?void 0:L.data)==null?void 0:F.profiles)||(L==null?void 0:L.profiles)||(Array.isArray(L==null?void 0:L.data)?L.data:[]);e(M),o(!1)}E()},[]),s)return l.jsx("div",{className:"py-8 text-center text-gray-500",children:"Loading permissions..."});if(c)return l.jsx("div",{className:"py-8 text-center text-red-600",children:c});if(!Array.isArray(r)||!a||typeof a!="object")return l.jsx("div",{className:"py-8 text-center text-red-600",children:"Permissions data is unavailable or malformed."});const x=g?t.filter(E=>E.role===g):t,N=r.map(E=>({key:E.permission_key,name:E.permission_name,module:E.module_name,defaultEnabled:E.is_enabled,minRole:E.current_min_role})),A=(E,O,k)=>{b(L=>({...L,[E]:{...L[E]||{},[O]:k}})),p(!0)},w=(E,O)=>{x.forEach(k=>{A(k.id,E,O)})},j=async()=>{f(!0),u("");const E=Object.entries(y).flatMap(([k,L])=>Object.entries(L).map(([C,P])=>({user_id:k,permission_key:C,is_enabled:P}))),{error:O}=await Ye("POST","/admin/organization-permissions/user-overrides",{overrides:E});O?u("Failed to save changes."):p(!1),f(!1)};return l.jsxs("div",{className:"bg-white rounded shadow p-4",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Permissions Management"}),l.jsxs("div",{className:"mb-4 flex gap-4 items-center",children:[l.jsx("label",{className:"font-medium",children:"Filter by Role:"}),l.jsx("select",{className:"border rounded px-2 py-1",value:g,onChange:E=>m(E.target.value),children:TL.map(E=>l.jsx("option",{value:E.value,children:E.label},E.value))})]}),l.jsx("div",{className:"overflow-x-auto",children:Object.keys(a).length===0?l.jsx("div",{className:"text-gray-500 text-center py-8",children:"No permissions found."}):l.jsxs("table",{className:"w-full table-auto border mb-2",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-gray-100",children:[l.jsx("th",{className:"p-2 border",children:"Name"}),l.jsx("th",{className:"p-2 border",children:"Email"}),l.jsx("th",{className:"p-2 border",children:"Role"}),N.map(E=>l.jsx("th",{className:"p-2 border",children:l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("span",{children:E.name}),l.jsx("button",{className:"text-xs text-blue-600 underline mt-1",onClick:()=>w(E.key,!0),title:"Enable for all filtered users",children:"Enable All"}),l.jsx("button",{className:"text-xs text-red-600 underline",onClick:()=>w(E.key,!1),title:"Disable for all filtered users",children:"Disable All"})]})},E.key))]})}),l.jsx("tbody",{children:x.map(E=>l.jsxs("tr",{className:"border-b",children:[l.jsx("td",{className:"p-2 border font-medium",children:E.full_name||E.email}),l.jsx("td",{className:"p-2 border",children:E.email}),l.jsx("td",{className:"p-2 border capitalize",children:E.role}),N.map(O=>{var C;const k=(C=y[E.id])==null?void 0:C[O.key],L=k!==void 0?k:O.defaultEnabled;return l.jsx("td",{className:"p-2 border text-center",children:l.jsx("input",{type:"checkbox",checked:L,onChange:P=>A(E.id,O.key,P.target.checked),className:"w-5 h-5 accent-blue-600"})},O.key)})]},E.id))})]})}),l.jsxs("div",{className:"flex gap-4 items-center mt-4",children:[l.jsx("button",{className:`px-4 py-2 rounded bg-blue-600 text-white font-semibold ${!h||d?"opacity-50 cursor-not-allowed":""}`,onClick:j,disabled:!h||d,children:d?"Saving...":"Save Changes"}),h&&!d&&l.jsx("span",{className:"text-yellow-600",children:"Unsaved changes"})]})]})}function PL(){return l.jsxs("div",{className:"bg-white rounded shadow p-6",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Organization Info"}),l.jsxs("div",{className:"flex items-center gap-6 mb-6",children:[l.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-full flex items-center justify-center text-3xl text-gray-400",children:"Logo"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-bold text-lg mb-1",children:"[Organization Name]"}),l.jsx("div",{className:"text-gray-500",children:"[School/Year/Timezone]"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Contact Email"}),l.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"contact@email.com",disabled:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Address"}),l.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"123 Main St",disabled:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Phone"}),l.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"(555) 555-5555",disabled:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Timezone"}),l.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"America/Chicago",disabled:!0})]})]}),l.jsx("div",{className:"mt-6 text-gray-400 italic",children:"[Organization editing coming soon]"})]})}function DL(){return l.jsxs("div",{className:"bg-white rounded shadow p-6",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Email Settings (SMTP)"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"SMTP Host"}),l.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"smtp.example.com",disabled:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"SMTP Port"}),l.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"587",disabled:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Username"}),l.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"user@example.com",disabled:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Password"}),l.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",type:"password",disabled:!0})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Sender Name/Email"}),l.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"PTO Connect <noreply@ptoconnect.com>",disabled:!0})]})]}),l.jsxs("div",{className:"mt-6 flex gap-4 items-center",children:[l.jsx("button",{className:"px-4 py-2 rounded bg-blue-600 text-white font-semibold opacity-50 cursor-not-allowed",disabled:!0,children:"Test Connection"}),l.jsx("span",{className:"text-gray-400",children:"[SMTP editing & testing coming soon]"})]})]})}function ML(){return l.jsxs("div",{className:"bg-white rounded shadow p-6",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Subscription"}),l.jsxs("div",{className:"mb-4",children:[l.jsx("div",{className:"font-bold",children:"Current Plan:"}),l.jsx("div",{className:"text-gray-600",children:"[Plan Name]"})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("div",{className:"font-bold",children:"Renewal Date:"}),l.jsx("div",{className:"text-gray-600",children:"[2025-12-31]"})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("div",{className:"font-bold",children:"Payment Method:"}),l.jsx("div",{className:"text-gray-600",children:"[Visa â€¢â€¢â€¢â€¢ 1234]"})]}),l.jsx("button",{className:"px-4 py-2 rounded bg-blue-600 text-white font-semibold opacity-50 cursor-not-allowed",disabled:!0,children:"Manage Subscription"}),l.jsx("div",{className:"mt-6 text-gray-400 italic",children:"[Subscription management coming soon]"})]})}function RL(){return l.jsxs("div",{className:"bg-white rounded shadow p-6",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"API Keys"}),l.jsxs("table",{className:"w-full table-auto border mb-4",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-gray-100",children:[l.jsx("th",{className:"p-2 border",children:"Key Name"}),l.jsx("th",{className:"p-2 border",children:"Permissions"}),l.jsx("th",{className:"p-2 border",children:"Status"}),l.jsx("th",{className:"p-2 border",children:"Actions"})]})}),l.jsxs("tbody",{children:[l.jsxs("tr",{children:[l.jsx("td",{className:"p-2 border",children:"[Key 1]"}),l.jsx("td",{className:"p-2 border",children:"[Read, Write]"}),l.jsx("td",{className:"p-2 border",children:"Active"}),l.jsx("td",{className:"p-2 border",children:l.jsx("button",{className:"px-2 py-1 bg-blue-600 text-white rounded opacity-50 cursor-not-allowed",disabled:!0,children:"Edit"})})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"p-2 border",children:"[Key 2]"}),l.jsx("td",{className:"p-2 border",children:"[Read]"}),l.jsx("td",{className:"p-2 border",children:"Inactive"}),l.jsx("td",{className:"p-2 border",children:l.jsx("button",{className:"px-2 py-1 bg-blue-600 text-white rounded opacity-50 cursor-not-allowed",disabled:!0,children:"Edit"})})]})]})]}),l.jsx("button",{className:"px-4 py-2 rounded bg-blue-600 text-white font-semibold opacity-50 cursor-not-allowed",disabled:!0,children:"Create New API Key"}),l.jsx("div",{className:"mt-6 text-gray-400 italic",children:"[API key management coming soon]"})]})}const LL=[{key:"org",label:"Organization Info"},{key:"permissions",label:"Permissions"},{key:"email",label:"Email Settings"},{key:"subscription",label:"Subscription"},{key:"apikeys",label:"API Keys"}];function G0(){const[t,e]=R.useState("org");return l.jsxs("div",{className:"max-w-5xl mx-auto p-4",children:[l.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Admin Dashboard"}),l.jsx("div",{className:"border-b border-gray-200 mb-6",children:l.jsx("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:LL.map(r=>l.jsx("button",{className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${t===r.key?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>e(r.key),children:r.label},r.key))})}),l.jsxs("div",{children:[t==="org"&&l.jsx(PL,{}),t==="permissions"&&l.jsx(kL,{}),t==="email"&&l.jsx(DL,{}),t==="subscription"&&l.jsx(ML,{}),t==="apikeys"&&l.jsx(RL,{})]})]})}const Dc=void 0;function IL(){const{profile:t,loading:e}=ko(),[r,n]=R.useState([]),[a,i]=R.useState([]),[s,o]=R.useState(!0),[c,u]=R.useState(null),[d,f]=R.useState(!1),h=(t==null?void 0:t.role)==="admin",p=R.useCallback(async()=>{if(!(t!=null&&t.user_id)||e||!h){o(!1);return}try{o(!0),u(null);const{data:{session:E}}=await Ge.auth.getSession();if(!(E!=null&&E.access_token))throw new Error("No authentication token available");const[O,k]=await Promise.all([Ui.get(`${Dc}/api/admin/organization-permissions/templates`,{headers:{Authorization:`Bearer ${E.access_token}`}}),Ui.get(`${Dc}/api/admin/organization-permissions`,{headers:{Authorization:`Bearer ${E.access_token}`}})]);n(O.data.templates||[]),i(k.data.permissions||[])}catch(E){console.error("Error fetching permission data:",E.message),u(E.message)}finally{o(!1)}},[t==null?void 0:t.user_id,e,h]);R.useEffect(()=>{p()},[p]);const g=R.useCallback(async(E,O)=>{var k,L;if(!h)throw new Error("Only administrators can modify permissions");try{f(!0),u(null);const{data:{session:C}}=await Ge.auth.getSession();if(!(C!=null&&C.access_token))throw new Error("No authentication token available");const P=await Ui.put(`${Dc}/api/admin/organization-permissions/${E}`,O,{headers:{Authorization:`Bearer ${C.access_token}`}});return await p(),P.data}catch(C){throw console.error(`Error updating permission ${E}:`,C.message),u(((L=(k=C.response)==null?void 0:k.data)==null?void 0:L.error)||C.message),C}finally{f(!1)}},[h,p]),m=R.useCallback(async E=>{var O,k;if(!h)throw new Error("Only administrators can modify permissions");try{f(!0),u(null);const{data:{session:L}}=await Ge.auth.getSession();if(!(L!=null&&L.access_token))throw new Error("No authentication token available");const C=await Ui.post(`${Dc}/api/admin/organization-permissions/bulk-update`,{permissions:E},{headers:{Authorization:`Bearer ${L.access_token}`}});return await p(),C.data}catch(L){throw console.error("Error bulk updating permissions:",L.message),u(((k=(O=L.response)==null?void 0:O.data)==null?void 0:k.error)||L.message),L}finally{f(!1)}},[h,p]),y=R.useCallback(async E=>{var O,k;if(!h)throw new Error("Only administrators can modify permissions");try{f(!0),u(null);const{data:{session:L}}=await Ge.auth.getSession();if(!(L!=null&&L.access_token))throw new Error("No authentication token available");const C=await Ui.delete(`${Dc}/api/admin/organization-permissions/${E}`,{headers:{Authorization:`Bearer ${L.access_token}`}});return await p(),C.data}catch(L){throw console.error(`Error resetting permission ${E}:`,L.message),u(((k=(O=L.response)==null?void 0:O.data)==null?void 0:k.error)||L.message),L}finally{f(!1)}},[h,p]),b=R.useCallback(async E=>{if(!h)throw new Error("Only administrators can view user permissions");try{const{data:{session:O}}=await Ge.auth.getSession();if(!(O!=null&&O.access_token))throw new Error("No authentication token available");return(await Ui.get(`${Dc}/api/admin/organization-permissions/user/${E}`,{headers:{Authorization:`Bearer ${O.access_token}`}})).data}catch(O){throw console.error(`Error fetching permissions for user ${E}:`,O.message),O}},[h]),x=R.useCallback(()=>{const E={};return a.forEach(O=>{const k=O.module_name;E[k]||(E[k]=[]),E[k].push(O)}),E},[a]),N=R.useCallback(E=>r.find(O=>O.permission_key===E)||null,[r]),A=R.useCallback(E=>{const O=a.find(k=>k.permission_key===E);return!!(O!=null&&O.has_custom_setting)},[a]),w=R.useCallback(E=>{const O=a.find(L=>L.permission_key===E),k=N(E);return k?{permission_key:E,module_name:k.module_name,permission_name:k.permission_name,permission_description:k.permission_description,current_min_role:(O==null?void 0:O.current_min_role)||k.default_min_role,specific_users:(O==null?void 0:O.specific_users)||[],is_enabled:(O==null?void 0:O.is_enabled)!==void 0?O.is_enabled:!0,is_customized:!!(O!=null&&O.has_custom_setting),default_min_role:k.default_min_role}:null},[a,N]),j=R.useCallback(()=>{p()},[p]);return{templates:r,orgPermissions:a,loading:s,error:c,saving:d,isAdmin:h,updatePermission:g,bulkUpdatePermissions:m,resetPermission:y,getUserPermissions:b,refreshPermissions:j,getPermissionsByModule:x,getPermissionTemplate:N,isPermissionCustomized:A,getEffectivePermission:w,userId:t==null?void 0:t.user_id,orgId:t==null?void 0:t.org_id,userRole:t==null?void 0:t.role}}function $L(){const{profile:t,organization:e,loading:r}=ko(),n={admin:5,board_member:4,committee_lead:3,volunteer:2,parent_member:1,teacher:1},a=w=>t!=null&&t.role?n[t.role]>=n[w]:!1,i=w=>t!=null&&t.role?w.includes(t.role):!1,s=w=>(t==null?void 0:t.role)===w,o=()=>a("admin"),c=()=>a("committee_lead"),u=()=>a("committee_lead"),d=()=>a("committee_lead");return{hasRole:a,hasAnyRole:i,hasExactRole:s,canAccessAdminFeatures:o,canManageEvents:c,canManageBudget:u,canManageCommunications:d,canManageUsers:()=>a("admin"),canViewReports:()=>a("board_member"),canCreateEvents:()=>a("volunteer"),canVolunteer:()=>a("parent_member"),isInOrganization:()=>!!(t!=null&&t.org_id)&&!!e,getOrganizationId:()=>t==null?void 0:t.org_id,getOrganizationName:()=>e==null?void 0:e.name,getRoleDisplayName:(w=t==null?void 0:t.role)=>({admin:"Administrator",board_member:"Board Member",committee_lead:"Committee Lead",volunteer:"Volunteer",parent_member:"Parent Member",teacher:"Teacher"})[w]||"Unknown Role",getRoleColor:(w=t==null?void 0:t.role)=>({admin:"bg-red-100 text-red-800",board_member:"bg-purple-100 text-purple-800",committee_lead:"bg-blue-100 text-blue-800",volunteer:"bg-green-100 text-green-800",parent_member:"bg-yellow-100 text-yellow-800",teacher:"bg-indigo-100 text-indigo-800"})[w]||"bg-gray-100 text-gray-800",canAccessRoute:w=>({"/dashboard/admin":o(),"/dashboard/board":a("board_member"),"/dashboard/committee":a("committee_lead"),"/dashboard/volunteer":a("volunteer"),"/dashboard/parent":a("parent_member"),"/dashboard/teacher":s("teacher"),"/events":c(),"/budget":u(),"/communications":d(),"/billing":o(),"/shared-library":a("volunteer"),"/teacher-requests":s("teacher")})[w]??!1,currentRole:t==null?void 0:t.role,currentUserId:t==null?void 0:t.id,loading:r}}function FL(){const{canAccessAdminFeatures:t}=$L(),{templates:e,loading:r,error:n,saving:a,isAdmin:i,updatePermission:s,bulkUpdatePermissions:o,resetPermission:c,getEffectivePermission:u,isPermissionCustomized:d,refreshPermissions:f}=IL(),[h,p]=R.useState("all"),[g,m]=R.useState({}),[y,b]=R.useState(!1),[x,N]=R.useState(!1),A=[{value:"volunteer",label:"Volunteer",color:"bg-green-100 text-green-800"},{value:"committee_lead",label:"Committee Lead",color:"bg-blue-100 text-blue-800"},{value:"board_member",label:"Board Member",color:"bg-purple-100 text-purple-800"},{value:"admin",label:"Administrator",color:"bg-red-100 text-red-800"}],w=[...new Set(e.map(I=>I.module_name))].sort(),E=(h==="all"?e:e.filter(I=>I.module_name===h)).reduce((I,M)=>{const H=M.module_name;return I[H]||(I[H]=[]),I[H].push(M),I},{}),O=(I,M,H)=>{m(V=>({...V,[I]:{...V[I],[M]:H}}))},k=async I=>{const M=g[I];if(M)try{const H=u(I),V={min_role_required:M.min_role_required||H.current_min_role,specific_users:M.specific_users||H.specific_users,is_enabled:M.is_enabled!==void 0?M.is_enabled:H.is_enabled};await s(I,V),m(F=>{const X={...F};return delete X[I],X}),alert(`Permission "${I}" updated successfully!`)}catch(H){alert(`Failed to update permission: ${H.message}`)}},L=async()=>{if(Object.keys(g).length!==0)try{const I=Object.entries(g).map(([M,H])=>{const V=u(M);return{permission_key:M,min_role_required:H.min_role_required||V.current_min_role,specific_users:H.specific_users||V.specific_users,is_enabled:H.is_enabled!==void 0?H.is_enabled:V.is_enabled}});await o(I),m({}),alert(`Successfully updated ${I.length} permissions!`)}catch(I){alert(`Failed to save changes: ${I.message}`)}},C=async I=>{if(confirm(`Reset "${I}" to default settings?`))try{await c(I),m(M=>{const H={...M};return delete H[I],H}),alert(`Permission "${I}" reset to default!`)}catch(M){alert(`Failed to reset permission: ${M.message}`)}},P=I=>{const M=u(I),H=g[I];return H?{...M,current_min_role:H.min_role_required||M.current_min_role,specific_users:H.specific_users||M.specific_users,is_enabled:H.is_enabled!==void 0?H.is_enabled:M.is_enabled}:M};return!t||!i?l.jsx("div",{className:"max-w-4xl mx-auto p-6",children:l.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[l.jsx("h2",{className:"text-lg font-semibold text-red-800 mb-2",children:"Access Denied"}),l.jsx("p",{className:"text-red-600",children:"Only administrators can access permission management."})]})}):r?l.jsx("div",{className:"max-w-6xl mx-auto p-6",children:l.jsxs("div",{className:"animate-pulse",children:[l.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-6"}),l.jsx("div",{className:"space-y-4",children:[1,2,3].map(I=>l.jsx("div",{className:"h-20 bg-gray-200 rounded"},I))})]})}):n?l.jsx("div",{className:"max-w-4xl mx-auto p-6",children:l.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[l.jsx("h2",{className:"text-lg font-semibold text-red-800 mb-2",children:"Error Loading Permissions"}),l.jsx("p",{className:"text-red-600 mb-4",children:n}),l.jsx("button",{onClick:f,className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700",children:"Retry"})]})}):l.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Permission Management"}),l.jsx("p",{className:"text-gray-600",children:"Customize which roles can perform specific actions in your organization."})]}),l.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Module:"}),l.jsxs("select",{value:h,onChange:I=>p(I.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm",children:[l.jsx("option",{value:"all",children:"All Modules"}),w.map(I=>l.jsx("option",{value:I,children:I.charAt(0).toUpperCase()+I.slice(1).replace("_"," ")},I))]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>N(!x),className:`px-4 py-2 rounded-md text-sm font-medium ${x?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:x?"Exit Bulk Mode":"Bulk Edit"}),Object.keys(g).length>0&&l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>b(!y),className:"px-4 py-2 bg-yellow-100 text-yellow-800 rounded-md text-sm font-medium hover:bg-yellow-200",children:["Preview Changes (",Object.keys(g).length,")"]}),l.jsx("button",{onClick:L,disabled:a,className:"px-4 py-2 bg-green-600 text-white rounded-md text-sm font-medium hover:bg-green-700 disabled:opacity-50",children:a?"Saving...":"Save All Changes"})]})]})]})}),y&&Object.keys(g).length>0&&l.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:[l.jsx("h3",{className:"font-semibold text-yellow-800 mb-2",children:"Pending Changes"}),l.jsx("div",{className:"space-y-2",children:Object.entries(g).map(([I,M])=>l.jsxs("div",{className:"text-sm text-yellow-700",children:[l.jsxs("span",{className:"font-medium",children:[I,":"]}),M.min_role_required&&l.jsxs("span",{className:"ml-2",children:["Role â†’ ",M.min_role_required]}),M.is_enabled!==void 0&&l.jsxs("span",{className:"ml-2",children:["Enabled â†’ ",M.is_enabled?"Yes":"No"]})]},I))})]}),l.jsx("div",{className:"space-y-8",children:Object.entries(E).map(([I,M])=>l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[l.jsx("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("h2",{className:"text-xl font-semibold text-gray-900 capitalize",children:[I.replace("_"," ")," Module"]}),l.jsxs("span",{className:"text-sm text-gray-500",children:[M.length," permissions"]})]})}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Permission"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Minimum Role"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:M.map(H=>{const V=P(H.permission_key),F=g[H.permission_key],X=d(H.permission_key);return l.jsxs("tr",{className:F?"bg-yellow-50":"",children:[l.jsx("td",{className:"px-6 py-4",children:l.jsxs("div",{children:[l.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[V.permission_name,X&&l.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:"Custom"}),F&&l.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-yellow-100 text-yellow-800",children:"Modified"})]}),l.jsx("div",{className:"text-sm text-gray-500",children:V.permission_description})]})}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("select",{value:V.current_min_role,onChange:Y=>O(H.permission_key,"min_role_required",Y.target.value),className:"border border-gray-300 rounded-md px-3 py-1 text-sm",children:A.map(Y=>l.jsx("option",{value:Y.value,children:Y.label},Y.value))})}),l.jsx("td",{className:"px-6 py-4",children:l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",checked:V.is_enabled,onChange:Y=>O(H.permission_key,"is_enabled",Y.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),l.jsx("span",{className:"ml-2 text-sm text-gray-700",children:V.is_enabled?"Enabled":"Disabled"})]})}),l.jsx("td",{className:"px-6 py-4",children:l.jsxs("div",{className:"flex items-center gap-2",children:[F&&l.jsx("button",{onClick:()=>k(H.permission_key),disabled:a,className:"text-green-600 hover:text-green-800 text-sm font-medium",children:"Save"}),X&&l.jsx("button",{onClick:()=>C(H.permission_key),disabled:a,className:"text-gray-600 hover:text-gray-800 text-sm font-medium",children:"Reset"})]})})]},H.permission_key)})})]})})]},I))}),l.jsxs("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[l.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:"Permission Management Guide"}),l.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[l.jsxs("li",{children:["â€¢ ",l.jsx("strong",{children:"Minimum Role:"})," The lowest role level that can perform this action"]}),l.jsxs("li",{children:["â€¢ ",l.jsx("strong",{children:"Custom:"})," Permission has been modified from the default setting"]}),l.jsxs("li",{children:["â€¢ ",l.jsx("strong",{children:"Modified:"})," Permission has unsaved changes"]}),l.jsxs("li",{children:["â€¢ ",l.jsx("strong",{children:"Reset:"})," Restore permission to its default setting"]}),l.jsx("li",{children:"â€¢ Changes take effect immediately for all users in your organization"})]})]})]})}function BL(){return l.jsxs("div",{className:"p-6",children:[l.jsx("h1",{className:"text-2xl font-bold text-blue-600",children:"Welcome to the Board Dashboard"}),l.jsx("p",{className:"mt-4 text-gray-700",children:"This is a placeholder for the Board dashboard."})]})}function UL(){return l.jsxs("div",{className:"p-6",children:[l.jsx("h1",{className:"text-2xl font-bold text-blue-600",children:"Welcome to the Committee Dashboard"}),l.jsx("p",{className:"mt-4 text-gray-700",children:"This is a placeholder for the Committee dashboard."})]})}function zL(){return l.jsxs("div",{className:"p-6",children:[l.jsx("h1",{className:"text-2xl font-bold text-blue-600",children:"Welcome to the Volunteer Dashboard"}),l.jsx("p",{className:"mt-4 text-gray-700",children:"This is a placeholder for the Volunteer dashboard."})]})}function WL(){return l.jsxs("div",{className:"p-6",children:[l.jsx("h1",{className:"text-2xl font-bold text-blue-600",children:"Welcome to the Parent Dashboard"}),l.jsx("p",{className:"mt-4 text-gray-700",children:"This is a placeholder for the Parent dashboard."})]})}function HL(){return l.jsxs("div",{className:"p-6",children:[l.jsx("h1",{className:"text-2xl font-bold text-blue-600",children:"Welcome to the Teacher Dashboard"}),l.jsx("p",{className:"mt-4 text-gray-700",children:"This is a placeholder for the Teacher dashboard."})]})}function Ot(t){"@babel/helpers - typeof";return Ot=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ot(t)}function qL(t,e){if(Ot(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ot(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sT(t){var e=qL(t,"string");return Ot(e)=="symbol"?e:e+""}function fl(t,e,r){return(e=sT(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function tr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GS(Object(r),!0).forEach(function(n){fl(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Tv(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Ji(t,e){if(t==null)return{};var r,n,a=Tv(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function Zr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VS(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,sT(n.key),n)}}function Qr(t,e,r){return e&&VS(t.prototype,e),r&&VS(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Km(t){return Km=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Km(t)}function oT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oT=function(){return!!t})()}function GL(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VL(t,e){if(e&&(Ot(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GL(t)}function Cn(t,e,r){return e=Km(e),VL(t,oT()?Reflect.construct(e,r||[],Km(t).constructor):e.apply(t,r))}function Xm(t,e){return Xm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Xm(t,e)}function Tn(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xm(t,e)}function lT(t){if(Array.isArray(t))return t}function YL(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function dx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Fw(t,e){if(t){if(typeof t=="string")return dx(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?dx(t,e):void 0}}function cT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tl(t,e){return lT(t)||YL(t,e)||Fw(t,e)||cT()}function uT(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=uT(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function Cr(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=uT(t))&&(n&&(n+=" "),n+=e);return n}function _r(){return _r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_r.apply(null,arguments)}var KL=function(t,e,r,n,a,i,s,o){if(!t){var c;if(e===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,n,a,i,s,o],d=0;c=new Error(e.replace(/%s/g,function(){return u[d++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}},XL=KL;const If=Ct(XL);var ZL=function(){};function QL(t,e){var r={};return Object.keys(t).forEach(function(n){r[Pm(n)]=ZL}),r}function YS(t,e){return t[e]!==void 0}function Pm(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function JL(t){return!!t&&(typeof t!="function"||t.prototype&&t.prototype.isReactComponent)}function eI(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Xm(t,e)}function dT(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function fT(t){function e(r){var n=this.constructor.getDerivedStateFromProps(t,r);return n??null}this.setState(e.bind(this))}function hT(t,e){try{var r=this.props,n=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}dT.__suppressDeprecationWarning=!0;fT.__suppressDeprecationWarning=!0;hT.__suppressDeprecationWarning=!0;function tI(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var r=null,n=null,a=null;if(typeof e.componentWillMount=="function"?r="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(r="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?n="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(n="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?a="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(a="UNSAFE_componentWillUpdate"),r!==null||n!==null||a!==null){var i=t.displayName||t.name,s=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+i+" uses "+s+" but also contains the following legacy lifecycles:"+(r!==null?`
  `+r:"")+(n!==null?`
  `+n:"")+(a!==null?`
  `+a:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=dT,e.componentWillReceiveProps=fT),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=hT;var o=e.componentDidUpdate;e.componentDidUpdate=function(u,d,f){var h=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:f;o.call(this,u,d,h)}}return t}var rI="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function pT(t,e,r){r===void 0&&(r=[]);var n=t.displayName||t.name||"Component",a=JL(t),i=Object.keys(e),s=i.map(Pm);a||!r.length||If(!1);var o=function(u){eI(d,u);function d(){for(var h,p=arguments.length,g=new Array(p),m=0;m<p;m++)g[m]=arguments[m];h=u.call.apply(u,[this].concat(g))||this,h.handlers=Object.create(null),i.forEach(function(b){var x=e[b],N=function(w){if(h.props[x]){var j;h._notifying=!0;for(var E=arguments.length,O=new Array(E>1?E-1:0),k=1;k<E;k++)O[k-1]=arguments[k];(j=h.props)[x].apply(j,[w].concat(O)),h._notifying=!1}h.unmounted||h.setState(function(L){var C,P=L.values;return{values:_r(Object.create(null),P,(C={},C[b]=w,C))}})};h.handlers[x]=N}),r.length&&(h.attachRef=function(b){h.inner=b});var y=Object.create(null);return i.forEach(function(b){y[b]=h.props[Pm(b)]}),h.state={values:y,prevProps:{}},h}var f=d.prototype;return f.shouldComponentUpdate=function(){return!this._notifying},d.getDerivedStateFromProps=function(p,g){var m=g.values,y=g.prevProps,b={values:_r(Object.create(null),m),prevProps:{}};return i.forEach(function(x){b.prevProps[x]=p[x],!YS(p,x)&&YS(y,x)&&(b.values[x]=p[Pm(x)])}),b},f.componentWillUnmount=function(){this.unmounted=!0},f.render=function(){var p=this,g=this.props,m=g.innerRef,y=Tv(g,["innerRef"]);s.forEach(function(x){delete y[x]});var b={};return i.forEach(function(x){var N=p.props[x];b[x]=N!==void 0?N:p.state.values[x]}),z.createElement(t,_r({},y,b,this.handlers,{ref:m||this.attachRef}))},d}(z.Component);tI(o),o.displayName="Uncontrolled("+n+")",o.propTypes=_r({innerRef:function(){}},QL(e)),r.forEach(function(u){o.prototype[u]=function(){var f;return(f=this.inner)[u].apply(f,arguments)}});var c=o;return z.forwardRef&&(c=z.forwardRef(function(u,d){return z.createElement(o,_r({},u,{innerRef:d,__source:{fileName:rI,lineNumber:128},__self:this}))}),c.propTypes=o.propTypes),c.ControlledComponent=t,c.deferControlTo=function(u,d,f){return d===void 0&&(d={}),pT(u,_r({},e,d),f)},c}var Zm="milliseconds",$f="seconds",Ff="minutes",Bf="hours",kl="day",fu="week",Uf="month",Pl="year",Dl="decade",Ml="century",mT={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:60*60*1e3,day:24*60*60*1e3,week:7*24*60*60*1e3},nI={month:1,year:12,decade:10*12,century:100*12};function aI(t){return[31,iI(t),31,30,31,30,31,31,30,31,30,31]}function iI(t){return t%4===0&&t%100!==0||t%400===0?29:28}function vi(t,e,r){switch(t=new Date(t),r){case Zm:case $f:case Ff:case Bf:case kl:case fu:return sI(t,e*mT[r]);case Uf:case Pl:case Dl:case Ml:return oI(t,e*nI[r])}throw new TypeError('Invalid units: "'+r+'"')}function sI(t,e){var r=new Date(+t+e);return lI(t,r)}function oI(t,e){var r=t.getFullYear(),n=t.getMonth(),a=t.getDate(),i=r*12+n+e,s=Math.trunc(i/12),o=i%12,c=Math.min(a,aI(s)[o]),u=new Date(t);return u.setFullYear(s),u.setDate(1),u.setMonth(o),u.setDate(c),u}function lI(t,e){var r=t.getTimezoneOffset(),n=e.getTimezoneOffset(),a=n-r;return new Date(+e+a*mT.minutes)}function zf(t,e,r){return vi(t,-e,r)}function pn(t,e,r){switch(t=new Date(t),e){case Ml:case Dl:case Pl:t=Jm(t,0);case Uf:t=xT(t,1);case fu:case kl:t=qf(t,0);case Bf:t=hu(t,0);case Ff:t=Hf(t,0);case $f:t=Wf(t,0)}return e===Dl&&(t=zf(t,Rl(t)%10,"year")),e===Ml&&(t=zf(t,Rl(t)%100,"year")),e===fu&&(t=wT(t,0,r)),t}function Qm(t,e,r){switch(t=new Date(t),t=pn(t,e,r),e){case Ml:case Dl:case Pl:case Uf:case fu:t=vi(t,1,e),t=zf(t,1,kl),t.setHours(23,59,59,999);break;case kl:t.setHours(23,59,59,999);break;case Bf:case Ff:case $f:t=vi(t,1,e),t=zf(t,1,Zm)}return t}var Ku=Zu(function(t,e){return t===e}),Bw=Zu(function(t,e){return t!==e}),kv=Zu(function(t,e){return t>e}),qh=Zu(function(t,e){return t>=e}),Uw=Zu(function(t,e){return t<e}),Xu=Zu(function(t,e){return t<=e});function gT(){return new Date(Math.min.apply(Math,arguments))}function vT(){return new Date(Math.max.apply(Math,arguments))}function yT(t,e,r,n){return n=n||"day",(!e||qh(t,e,n))&&(!r||Xu(t,r,n))}var Wf=Po("Milliseconds"),Hf=Po("Seconds"),hu=Po("Minutes"),qf=Po("Hours"),bT=Po("Day"),xT=Po("Date"),Jm=Po("Month"),Rl=Po("FullYear");function cI(t,e){return e===void 0?Rl(pn(t,Dl)):vi(t,e+10,Pl)}function uI(t,e){return e===void 0?Rl(pn(t,Ml)):vi(t,e+100,Pl)}function wT(t,e,r){var n=(bT(t)+7-(r||0))%7;return e===void 0?n:vi(t,e-n,kl)}function dI(t,e,r,n){var a,i,s;switch(r){case Zm:case $f:case Ff:case Bf:case kl:case fu:a=e.getTime()-t.getTime();break;case Uf:case Pl:case Dl:case Ml:a=(Rl(e)-Rl(t))*12+Jm(e)-Jm(t);break;default:throw new TypeError('Invalid units: "'+r+'"')}switch(r){case Zm:i=1;break;case $f:i=1e3;break;case Ff:i=1e3*60;break;case Bf:i=1e3*60*60;break;case kl:i=1e3*60*60*24;break;case fu:i=1e3*60*60*24*7;break;case Uf:i=1;break;case Pl:i=12;break;case Dl:i=120;break;case Ml:i=1200;break;default:throw new TypeError('Invalid units: "'+r+'"')}return s=a/i,n?s:Math.round(s)}function Po(t){var e=function(r){switch(r){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(t);return function(r,n){if(n===void 0)return r["get"+t]();var a=new Date(r);return a["set"+t](n),e&&a["get"+t]()!=n&&(t==="Hours"||n>=e&&a.getHours()-r.getHours()<Math.floor(n/e))&&a["set"+t](n+e),a}}function Zu(t){return function(e,r,n){return t(+pn(e,n),+pn(r,n))}}const KS=Object.freeze(Object.defineProperty({__proto__:null,add:vi,century:uI,date:xT,day:bT,decade:cI,diff:dI,endOf:Qm,eq:Ku,gt:kv,gte:qh,hours:qf,inRange:yT,lt:Uw,lte:Xu,max:vT,milliseconds:Wf,min:gT,minutes:hu,month:Jm,neq:Bw,seconds:Hf,startOf:pn,subtract:zf,weekday:wT,year:Rl},Symbol.toStringTag,{value:"Module"}));function fI(t){if(Array.isArray(t))return dx(t)}function ST(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hI(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dm(t){return fI(t)||ST(t)||Fw(t)||hI()}function pI(t,e,r){var n=-1,a=t.length;e<0&&(e=-e>a?0:a+e),r=r>a?a:r,r<0&&(r+=a),a=e>r?0:r-e>>>0,e>>>=0;for(var i=Array(a);++n<a;)i[n]=t[n+e];return i}var zw=pI;function mI(t,e){return t===e||t!==t&&e!==e}var Gh=mI,gI=typeof Ma=="object"&&Ma&&Ma.Object===Object&&Ma,NT=gI,vI=NT,yI=typeof self=="object"&&self&&self.Object===Object&&self,bI=vI||yI||Function("return this")(),yi=bI,xI=yi,wI=xI.Symbol,Qu=wI,XS=Qu,jT=Object.prototype,SI=jT.hasOwnProperty,NI=jT.toString,Xd=XS?XS.toStringTag:void 0;function jI(t){var e=SI.call(t,Xd),r=t[Xd];try{t[Xd]=void 0;var n=!0}catch{}var a=NI.call(t);return n&&(e?t[Xd]=r:delete t[Xd]),a}var AI=jI,_I=Object.prototype,EI=_I.toString;function OI(t){return EI.call(t)}var CI=OI,ZS=Qu,TI=AI,kI=CI,PI="[object Null]",DI="[object Undefined]",QS=ZS?ZS.toStringTag:void 0;function MI(t){return t==null?t===void 0?DI:PI:QS&&QS in Object(t)?TI(t):kI(t)}var Is=MI;function RI(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var za=RI;const Ju=Ct(za);var LI=Is,II=za,$I="[object AsyncFunction]",FI="[object Function]",BI="[object GeneratorFunction]",UI="[object Proxy]";function zI(t){if(!II(t))return!1;var e=LI(t);return e==FI||e==BI||e==$I||e==UI}var Pv=zI;const dt=Ct(Pv);var WI=9007199254740991;function HI(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=WI}var Ww=HI,qI=Pv,GI=Ww;function VI(t){return t!=null&&GI(t.length)&&!qI(t)}var ed=VI,YI=9007199254740991,KI=/^(?:0|[1-9]\d*)$/;function XI(t,e){var r=typeof t;return e=e??YI,!!e&&(r=="number"||r!="symbol"&&KI.test(t))&&t>-1&&t%1==0&&t<e}var Hw=XI,ZI=Gh,QI=ed,JI=Hw,e$=za;function t$(t,e,r){if(!e$(r))return!1;var n=typeof e;return(n=="number"?QI(r)&&JI(e,r.length):n=="string"&&e in r)?ZI(r[e],t):!1}var td=t$,r$=/\s/;function n$(t){for(var e=t.length;e--&&r$.test(t.charAt(e)););return e}var a$=n$,i$=a$,s$=/^\s+/;function o$(t){return t&&t.slice(0,i$(t)+1).replace(s$,"")}var l$=o$;function c$(t){return t!=null&&typeof t=="object"}var bi=c$,u$=Is,d$=bi,f$="[object Symbol]";function h$(t){return typeof t=="symbol"||d$(t)&&u$(t)==f$}var rd=h$,p$=l$,JS=za,m$=rd,eN=NaN,g$=/^[-+]0x[0-9a-f]+$/i,v$=/^0b[01]+$/i,y$=/^0o[0-7]+$/i,b$=parseInt;function x$(t){if(typeof t=="number")return t;if(m$(t))return eN;if(JS(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=JS(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=p$(t);var r=v$.test(t);return r||y$.test(t)?b$(t.slice(2),r?2:8):g$.test(t)?eN:+t}var AT=x$,w$=AT,tN=1/0,S$=17976931348623157e292;function N$(t){if(!t)return t===0?t:0;if(t=w$(t),t===tN||t===-tN){var e=t<0?-1:1;return e*S$}return t===t?t:0}var _T=N$,j$=_T;function A$(t){var e=j$(t),r=e%1;return e===e?r?e-r:e:0}var ET=A$,_$=zw,E$=td,O$=ET,C$=Math.ceil,T$=Math.max;function k$(t,e,r){(r?E$(t,e,r):e===void 0)?e=1:e=T$(O$(e),0);var n=t==null?0:t.length;if(!n||e<1)return[];for(var a=0,i=0,s=Array(C$(n/e));a<n;)s[i++]=_$(t,a,a+=e);return s}var P$=k$;const D$=Ct(P$);function Vh(t){return t&&t.ownerDocument||document}function M$(t){var e=Vh(t);return e&&e.defaultView||window}function R$(t,e){return M$(t).getComputedStyle(t,e)}var L$=/([A-Z])/g;function I$(t){return t.replace(L$,"-$1").toLowerCase()}var $$=/^ms-/;function Qp(t){return I$(t).replace($$,"-ms-")}var F$=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function B$(t){return!!(t&&F$.test(t))}function Uc(t,e){var r="",n="";if(typeof e=="string")return t.style.getPropertyValue(Qp(e))||R$(t).getPropertyValue(Qp(e));Object.keys(e).forEach(function(a){var i=e[a];!i&&i!==0?t.style.removeProperty(Qp(a)):B$(a)?n+=a+"("+i+") ":r+=Qp(a)+": "+i+";"}),n&&(r+="transform: "+n+";"),t.style.cssText+=";"+r}function Gf(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}function U$(t){return"nodeType"in t&&t.nodeType===document.DOCUMENT_NODE}function qw(t){return"window"in t&&t.window===t?t:U$(t)&&t.defaultView||!1}function OT(t){var e=t==="pageXOffset"?"scrollLeft":"scrollTop";function r(n,a){var i=qw(n);if(a===void 0)return i?i[t]:n[e];i?i.scrollTo(i[t],a):n[e]=a}return r}const CT=OT("pageXOffset"),TT=OT("pageYOffset");function wl(t){var e=Vh(t),r={top:0,left:0,height:0,width:0},n=e&&e.documentElement;return!n||!Gf(n,t)||(t.getBoundingClientRect!==void 0&&(r=t.getBoundingClientRect()),r={top:r.top+TT(n)-(n.clientTop||0),left:r.left+CT(n)-(n.clientLeft||0),width:r.width,height:r.height}),r}var z$=function(e){return!!e&&"offsetParent"in e};function W$(t){for(var e=Vh(t),r=t&&t.offsetParent;z$(r)&&r.nodeName!=="HTML"&&Uc(r,"position")==="static";)r=r.offsetParent;return r||e.documentElement}var H$=function(e){return e.nodeName&&e.nodeName.toLowerCase()};function kT(t,e){var r={top:0,left:0},n;if(Uc(t,"position")==="fixed")n=t.getBoundingClientRect();else{var a=e||W$(t);n=wl(t),H$(a)!=="html"&&(r=wl(a));var i=String(Uc(a,"borderTopWidth")||0);r.top+=parseInt(i,10)-TT(a)||0;var s=String(Uc(a,"borderLeftWidth")||0);r.left+=parseInt(s,10)-CT(a)||0}var o=String(Uc(t,"marginTop")||0),c=String(Uc(t,"marginLeft")||0);return _r({},n,{top:n.top-r.top-(parseInt(o,10)||0),left:n.left-r.left-(parseInt(c,10)||0)})}const Gw=!!(typeof window<"u"&&window.document&&window.document.createElement);var rN=new Date().getTime();function q$(t){var e=new Date().getTime(),r=Math.max(0,16-(e-rN)),n=setTimeout(t,r);return rN=e,n}var G$=["","webkit","moz","o","ms"],fx="clearTimeout",hx=q$,nN=function(e,r){return e+(e?r[0].toUpperCase()+r.substr(1):r)+"AnimationFrame"};Gw&&G$.some(function(t){var e=nN(t,"request");return e in window&&(fx=nN(t,"cancel"),hx=function(n){return window[e](n)}),!!hx});var aN=function(e){typeof window[fx]=="function"&&window[fx](e)},PT=hx,V0;function V$(t,e){if(!V0){var r=document.body,n=r.matches||r.matchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector;V0=function(i,s){return n.call(i,s)}}return V0(t,e)}var Y$=Function.prototype.bind.call(Function.prototype.call,[].slice);function K$(t,e){return Y$(t.querySelectorAll(e))}var px=!1,mx=!1;try{var Y0={get passive(){return px=!0},get once(){return mx=px=!0}};Gw&&(window.addEventListener("test",Y0,Y0),window.removeEventListener("test",Y0,!0))}catch{}function X$(t,e,r,n){if(n&&typeof n!="boolean"&&!mx){var a=n.once,i=n.capture,s=r;!mx&&a&&(s=r.__once||function o(c){this.removeEventListener(e,o,i),r.call(this,c)},r.__once=s),t.addEventListener(e,s,px?n:i)}t.addEventListener(e,r,n)}function Z$(t){const e=R.useRef(t);return R.useEffect(()=>{e.current=t},[t]),e}function iN(t){const e=Z$(t);return R.useCallback(function(...r){return e.current&&e.current(...r)},[e])}function sN(){return R.useState(null)}function Q$(){const t=R.useRef(!0),e=R.useRef(()=>t.current);return R.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function J$(t){const e=Q$();return[t[0],R.useCallback(r=>{if(e())return t[1](r)},[e,t[1]])]}var ta="top",Fa="bottom",Ba="right",ra="left",Vw="auto",Yh=[ta,Fa,Ba,ra],pu="start",Vf="end",e8="clippingParents",DT="viewport",Zd="popper",t8="reference",oN=Yh.reduce(function(t,e){return t.concat([e+"-"+pu,e+"-"+Vf])},[]),Yw=[].concat(Yh,[Vw]).reduce(function(t,e){return t.concat([e,e+"-"+pu,e+"-"+Vf])},[]),r8="beforeRead",n8="read",a8="afterRead",i8="beforeMain",s8="main",o8="afterMain",l8="beforeWrite",c8="write",u8="afterWrite",d8=[r8,n8,a8,i8,s8,o8,l8,c8,u8];function Yi(t){return t.split("-")[0]}function ya(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Ll(t){var e=ya(t).Element;return t instanceof e||t instanceof Element}function Ki(t){var e=ya(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Kw(t){if(typeof ShadowRoot>"u")return!1;var e=ya(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}var Sl=Math.max,eg=Math.min,mu=Math.round;function gx(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function MT(){return!/^((?!chrome|android).)*safari/i.test(gx())}function gu(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);var n=t.getBoundingClientRect(),a=1,i=1;e&&Ki(t)&&(a=t.offsetWidth>0&&mu(n.width)/t.offsetWidth||1,i=t.offsetHeight>0&&mu(n.height)/t.offsetHeight||1);var s=Ll(t)?ya(t):window,o=s.visualViewport,c=!MT()&&r,u=(n.left+(c&&o?o.offsetLeft:0))/a,d=(n.top+(c&&o?o.offsetTop:0))/i,f=n.width/a,h=n.height/i;return{width:f,height:h,top:d,right:u+f,bottom:d+h,left:u,x:u,y:d}}function Xw(t){var e=gu(t),r=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:n}}function RT(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&Kw(r)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function So(t){return t?(t.nodeName||"").toLowerCase():null}function ks(t){return ya(t).getComputedStyle(t)}function f8(t){return["table","td","th"].indexOf(So(t))>=0}function Do(t){return((Ll(t)?t.ownerDocument:t.document)||window.document).documentElement}function Dv(t){return So(t)==="html"?t:t.assignedSlot||t.parentNode||(Kw(t)?t.host:null)||Do(t)}function lN(t){return!Ki(t)||ks(t).position==="fixed"?null:t.offsetParent}function h8(t){var e=/firefox/i.test(gx()),r=/Trident/i.test(gx());if(r&&Ki(t)){var n=ks(t);if(n.position==="fixed")return null}var a=Dv(t);for(Kw(a)&&(a=a.host);Ki(a)&&["html","body"].indexOf(So(a))<0;){var i=ks(a);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||e&&i.willChange==="filter"||e&&i.filter&&i.filter!=="none")return a;a=a.parentNode}return null}function Kh(t){for(var e=ya(t),r=lN(t);r&&f8(r)&&ks(r).position==="static";)r=lN(r);return r&&(So(r)==="html"||So(r)==="body"&&ks(r).position==="static")?e:r||h8(t)||e}function Zw(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function xf(t,e,r){return Sl(t,eg(e,r))}function p8(t,e,r){var n=xf(t,e,r);return n>r?r:n}function LT(){return{top:0,right:0,bottom:0,left:0}}function IT(t){return Object.assign({},LT(),t)}function $T(t,e){return e.reduce(function(r,n){return r[n]=t,r},{})}var m8=function(e,r){return e=typeof e=="function"?e(Object.assign({},r.rects,{placement:r.placement})):e,IT(typeof e!="number"?e:$T(e,Yh))};function g8(t){var e,r=t.state,n=t.name,a=t.options,i=r.elements.arrow,s=r.modifiersData.popperOffsets,o=Yi(r.placement),c=Zw(o),u=[ra,Ba].indexOf(o)>=0,d=u?"height":"width";if(!(!i||!s)){var f=m8(a.padding,r),h=Xw(i),p=c==="y"?ta:ra,g=c==="y"?Fa:Ba,m=r.rects.reference[d]+r.rects.reference[c]-s[c]-r.rects.popper[d],y=s[c]-r.rects.reference[c],b=Kh(i),x=b?c==="y"?b.clientHeight||0:b.clientWidth||0:0,N=m/2-y/2,A=f[p],w=x-h[d]-f[g],j=x/2-h[d]/2+N,E=xf(A,j,w),O=c;r.modifiersData[n]=(e={},e[O]=E,e.centerOffset=E-j,e)}}function v8(t){var e=t.state,r=t.options,n=r.element,a=n===void 0?"[data-popper-arrow]":n;a!=null&&(typeof a=="string"&&(a=e.elements.popper.querySelector(a),!a)||RT(e.elements.popper,a)&&(e.elements.arrow=a))}const y8={name:"arrow",enabled:!0,phase:"main",fn:g8,effect:v8,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function vu(t){return t.split("-")[1]}var b8={top:"auto",right:"auto",bottom:"auto",left:"auto"};function x8(t,e){var r=t.x,n=t.y,a=e.devicePixelRatio||1;return{x:mu(r*a)/a||0,y:mu(n*a)/a||0}}function cN(t){var e,r=t.popper,n=t.popperRect,a=t.placement,i=t.variation,s=t.offsets,o=t.position,c=t.gpuAcceleration,u=t.adaptive,d=t.roundOffsets,f=t.isFixed,h=s.x,p=h===void 0?0:h,g=s.y,m=g===void 0?0:g,y=typeof d=="function"?d({x:p,y:m}):{x:p,y:m};p=y.x,m=y.y;var b=s.hasOwnProperty("x"),x=s.hasOwnProperty("y"),N=ra,A=ta,w=window;if(u){var j=Kh(r),E="clientHeight",O="clientWidth";if(j===ya(r)&&(j=Do(r),ks(j).position!=="static"&&o==="absolute"&&(E="scrollHeight",O="scrollWidth")),j=j,a===ta||(a===ra||a===Ba)&&i===Vf){A=Fa;var k=f&&j===w&&w.visualViewport?w.visualViewport.height:j[E];m-=k-n.height,m*=c?1:-1}if(a===ra||(a===ta||a===Fa)&&i===Vf){N=Ba;var L=f&&j===w&&w.visualViewport?w.visualViewport.width:j[O];p-=L-n.width,p*=c?1:-1}}var C=Object.assign({position:o},u&&b8),P=d===!0?x8({x:p,y:m},ya(r)):{x:p,y:m};if(p=P.x,m=P.y,c){var I;return Object.assign({},C,(I={},I[A]=x?"0":"",I[N]=b?"0":"",I.transform=(w.devicePixelRatio||1)<=1?"translate("+p+"px, "+m+"px)":"translate3d("+p+"px, "+m+"px, 0)",I))}return Object.assign({},C,(e={},e[A]=x?m+"px":"",e[N]=b?p+"px":"",e.transform="",e))}function w8(t){var e=t.state,r=t.options,n=r.gpuAcceleration,a=n===void 0?!0:n,i=r.adaptive,s=i===void 0?!0:i,o=r.roundOffsets,c=o===void 0?!0:o,u={placement:Yi(e.placement),variation:vu(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:a,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,cN(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,cN(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const S8={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:w8,data:{}};var Jp={passive:!0};function N8(t){var e=t.state,r=t.instance,n=t.options,a=n.scroll,i=a===void 0?!0:a,s=n.resize,o=s===void 0?!0:s,c=ya(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return i&&u.forEach(function(d){d.addEventListener("scroll",r.update,Jp)}),o&&c.addEventListener("resize",r.update,Jp),function(){i&&u.forEach(function(d){d.removeEventListener("scroll",r.update,Jp)}),o&&c.removeEventListener("resize",r.update,Jp)}}const j8={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:N8,data:{}};var A8={left:"right",right:"left",bottom:"top",top:"bottom"};function Mm(t){return t.replace(/left|right|bottom|top/g,function(e){return A8[e]})}var _8={start:"end",end:"start"};function uN(t){return t.replace(/start|end/g,function(e){return _8[e]})}function Qw(t){var e=ya(t),r=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:r,scrollTop:n}}function Jw(t){return gu(Do(t)).left+Qw(t).scrollLeft}function E8(t,e){var r=ya(t),n=Do(t),a=r.visualViewport,i=n.clientWidth,s=n.clientHeight,o=0,c=0;if(a){i=a.width,s=a.height;var u=MT();(u||!u&&e==="fixed")&&(o=a.offsetLeft,c=a.offsetTop)}return{width:i,height:s,x:o+Jw(t),y:c}}function O8(t){var e,r=Do(t),n=Qw(t),a=(e=t.ownerDocument)==null?void 0:e.body,i=Sl(r.scrollWidth,r.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),s=Sl(r.scrollHeight,r.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),o=-n.scrollLeft+Jw(t),c=-n.scrollTop;return ks(a||r).direction==="rtl"&&(o+=Sl(r.clientWidth,a?a.clientWidth:0)-i),{width:i,height:s,x:o,y:c}}function e2(t){var e=ks(t),r=e.overflow,n=e.overflowX,a=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+a+n)}function FT(t){return["html","body","#document"].indexOf(So(t))>=0?t.ownerDocument.body:Ki(t)&&e2(t)?t:FT(Dv(t))}function wf(t,e){var r;e===void 0&&(e=[]);var n=FT(t),a=n===((r=t.ownerDocument)==null?void 0:r.body),i=ya(n),s=a?[i].concat(i.visualViewport||[],e2(n)?n:[]):n,o=e.concat(s);return a?o:o.concat(wf(Dv(s)))}function vx(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function C8(t,e){var r=gu(t,!1,e==="fixed");return r.top=r.top+t.clientTop,r.left=r.left+t.clientLeft,r.bottom=r.top+t.clientHeight,r.right=r.left+t.clientWidth,r.width=t.clientWidth,r.height=t.clientHeight,r.x=r.left,r.y=r.top,r}function dN(t,e,r){return e===DT?vx(E8(t,r)):Ll(e)?C8(e,r):vx(O8(Do(t)))}function T8(t){var e=wf(Dv(t)),r=["absolute","fixed"].indexOf(ks(t).position)>=0,n=r&&Ki(t)?Kh(t):t;return Ll(n)?e.filter(function(a){return Ll(a)&&RT(a,n)&&So(a)!=="body"}):[]}function k8(t,e,r,n){var a=e==="clippingParents"?T8(t):[].concat(e),i=[].concat(a,[r]),s=i[0],o=i.reduce(function(c,u){var d=dN(t,u,n);return c.top=Sl(d.top,c.top),c.right=eg(d.right,c.right),c.bottom=eg(d.bottom,c.bottom),c.left=Sl(d.left,c.left),c},dN(t,s,n));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function BT(t){var e=t.reference,r=t.element,n=t.placement,a=n?Yi(n):null,i=n?vu(n):null,s=e.x+e.width/2-r.width/2,o=e.y+e.height/2-r.height/2,c;switch(a){case ta:c={x:s,y:e.y-r.height};break;case Fa:c={x:s,y:e.y+e.height};break;case Ba:c={x:e.x+e.width,y:o};break;case ra:c={x:e.x-r.width,y:o};break;default:c={x:e.x,y:e.y}}var u=a?Zw(a):null;if(u!=null){var d=u==="y"?"height":"width";switch(i){case pu:c[u]=c[u]-(e[d]/2-r[d]/2);break;case Vf:c[u]=c[u]+(e[d]/2-r[d]/2);break}}return c}function Yf(t,e){e===void 0&&(e={});var r=e,n=r.placement,a=n===void 0?t.placement:n,i=r.strategy,s=i===void 0?t.strategy:i,o=r.boundary,c=o===void 0?e8:o,u=r.rootBoundary,d=u===void 0?DT:u,f=r.elementContext,h=f===void 0?Zd:f,p=r.altBoundary,g=p===void 0?!1:p,m=r.padding,y=m===void 0?0:m,b=IT(typeof y!="number"?y:$T(y,Yh)),x=h===Zd?t8:Zd,N=t.rects.popper,A=t.elements[g?x:h],w=k8(Ll(A)?A:A.contextElement||Do(t.elements.popper),c,d,s),j=gu(t.elements.reference),E=BT({reference:j,element:N,placement:a}),O=vx(Object.assign({},N,E)),k=h===Zd?O:j,L={top:w.top-k.top+b.top,bottom:k.bottom-w.bottom+b.bottom,left:w.left-k.left+b.left,right:k.right-w.right+b.right},C=t.modifiersData.offset;if(h===Zd&&C){var P=C[a];Object.keys(L).forEach(function(I){var M=[Ba,Fa].indexOf(I)>=0?1:-1,H=[ta,Fa].indexOf(I)>=0?"y":"x";L[I]+=P[H]*M})}return L}function P8(t,e){e===void 0&&(e={});var r=e,n=r.placement,a=r.boundary,i=r.rootBoundary,s=r.padding,o=r.flipVariations,c=r.allowedAutoPlacements,u=c===void 0?Yw:c,d=vu(n),f=d?o?oN:oN.filter(function(g){return vu(g)===d}):Yh,h=f.filter(function(g){return u.indexOf(g)>=0});h.length===0&&(h=f);var p=h.reduce(function(g,m){return g[m]=Yf(t,{placement:m,boundary:a,rootBoundary:i,padding:s})[Yi(m)],g},{});return Object.keys(p).sort(function(g,m){return p[g]-p[m]})}function D8(t){if(Yi(t)===Vw)return[];var e=Mm(t);return[uN(t),e,uN(e)]}function M8(t){var e=t.state,r=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var a=r.mainAxis,i=a===void 0?!0:a,s=r.altAxis,o=s===void 0?!0:s,c=r.fallbackPlacements,u=r.padding,d=r.boundary,f=r.rootBoundary,h=r.altBoundary,p=r.flipVariations,g=p===void 0?!0:p,m=r.allowedAutoPlacements,y=e.options.placement,b=Yi(y),x=b===y,N=c||(x||!g?[Mm(y)]:D8(y)),A=[y].concat(N).reduce(function(ee,ae){return ee.concat(Yi(ae)===Vw?P8(e,{placement:ae,boundary:d,rootBoundary:f,padding:u,flipVariations:g,allowedAutoPlacements:m}):ae)},[]),w=e.rects.reference,j=e.rects.popper,E=new Map,O=!0,k=A[0],L=0;L<A.length;L++){var C=A[L],P=Yi(C),I=vu(C)===pu,M=[ta,Fa].indexOf(P)>=0,H=M?"width":"height",V=Yf(e,{placement:C,boundary:d,rootBoundary:f,altBoundary:h,padding:u}),F=M?I?Ba:ra:I?Fa:ta;w[H]>j[H]&&(F=Mm(F));var X=Mm(F),Y=[];if(i&&Y.push(V[P]<=0),o&&Y.push(V[F]<=0,V[X]<=0),Y.every(function(ee){return ee})){k=C,O=!1;break}E.set(C,Y)}if(O)for(var Q=g?3:1,se=function(ae){var oe=A.find(function(me){var fe=E.get(me);if(fe)return fe.slice(0,ae).every(function(J){return J})});if(oe)return k=oe,"break"},$=Q;$>0;$--){var W=se($);if(W==="break")break}e.placement!==k&&(e.modifiersData[n]._skip=!0,e.placement=k,e.reset=!0)}}const R8={name:"flip",enabled:!0,phase:"main",fn:M8,requiresIfExists:["offset"],data:{_skip:!1}};function fN(t,e,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function hN(t){return[ta,Ba,Fa,ra].some(function(e){return t[e]>=0})}function L8(t){var e=t.state,r=t.name,n=e.rects.reference,a=e.rects.popper,i=e.modifiersData.preventOverflow,s=Yf(e,{elementContext:"reference"}),o=Yf(e,{altBoundary:!0}),c=fN(s,n),u=fN(o,a,i),d=hN(c),f=hN(u);e.modifiersData[r]={referenceClippingOffsets:c,popperEscapeOffsets:u,isReferenceHidden:d,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":f})}const I8={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:L8};function $8(t,e,r){var n=Yi(t),a=[ra,ta].indexOf(n)>=0?-1:1,i=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,s=i[0],o=i[1];return s=s||0,o=(o||0)*a,[ra,Ba].indexOf(n)>=0?{x:o,y:s}:{x:s,y:o}}function F8(t){var e=t.state,r=t.options,n=t.name,a=r.offset,i=a===void 0?[0,0]:a,s=Yw.reduce(function(d,f){return d[f]=$8(f,e.rects,i),d},{}),o=s[e.placement],c=o.x,u=o.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=u),e.modifiersData[n]=s}const B8={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:F8};function U8(t){var e=t.state,r=t.name;e.modifiersData[r]=BT({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const z8={name:"popperOffsets",enabled:!0,phase:"read",fn:U8,data:{}};function W8(t){return t==="x"?"y":"x"}function H8(t){var e=t.state,r=t.options,n=t.name,a=r.mainAxis,i=a===void 0?!0:a,s=r.altAxis,o=s===void 0?!1:s,c=r.boundary,u=r.rootBoundary,d=r.altBoundary,f=r.padding,h=r.tether,p=h===void 0?!0:h,g=r.tetherOffset,m=g===void 0?0:g,y=Yf(e,{boundary:c,rootBoundary:u,padding:f,altBoundary:d}),b=Yi(e.placement),x=vu(e.placement),N=!x,A=Zw(b),w=W8(A),j=e.modifiersData.popperOffsets,E=e.rects.reference,O=e.rects.popper,k=typeof m=="function"?m(Object.assign({},e.rects,{placement:e.placement})):m,L=typeof k=="number"?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),C=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,P={x:0,y:0};if(j){if(i){var I,M=A==="y"?ta:ra,H=A==="y"?Fa:Ba,V=A==="y"?"height":"width",F=j[A],X=F+y[M],Y=F-y[H],Q=p?-O[V]/2:0,se=x===pu?E[V]:O[V],$=x===pu?-O[V]:-E[V],W=e.elements.arrow,ee=p&&W?Xw(W):{width:0,height:0},ae=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:LT(),oe=ae[M],me=ae[H],fe=xf(0,E[V],ee[V]),J=N?E[V]/2-Q-fe-oe-L.mainAxis:se-fe-oe-L.mainAxis,ve=N?-E[V]/2+Q+fe+me+L.mainAxis:$+fe+me+L.mainAxis,xe=e.elements.arrow&&Kh(e.elements.arrow),pe=xe?A==="y"?xe.clientTop||0:xe.clientLeft||0:0,Te=(I=C==null?void 0:C[A])!=null?I:0,Me=F+J-Te-pe,we=F+ve-Te,ne=xf(p?eg(X,Me):X,F,p?Sl(Y,we):Y);j[A]=ne,P[A]=ne-F}if(o){var Qe,He=A==="x"?ta:ra,Pe=A==="x"?Fa:Ba,Re=j[w],$e=w==="y"?"height":"width",Ie=Re+y[He],Ze=Re-y[Pe],at=[ta,ra].indexOf(b)!==-1,ht=(Qe=C==null?void 0:C[w])!=null?Qe:0,St=at?Ie:Re-E[$e]-O[$e]-ht+L.altAxis,At=at?Re+E[$e]+O[$e]-ht-L.altAxis:Ze,Ft=p&&at?p8(St,Re,At):xf(p?St:Ie,Re,p?At:Ze);j[w]=Ft,P[w]=Ft-Re}e.modifiersData[n]=P}}const q8={name:"preventOverflow",enabled:!0,phase:"main",fn:H8,requiresIfExists:["offset"]};function G8(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function V8(t){return t===ya(t)||!Ki(t)?Qw(t):G8(t)}function Y8(t){var e=t.getBoundingClientRect(),r=mu(e.width)/t.offsetWidth||1,n=mu(e.height)/t.offsetHeight||1;return r!==1||n!==1}function K8(t,e,r){r===void 0&&(r=!1);var n=Ki(e),a=Ki(e)&&Y8(e),i=Do(e),s=gu(t,a,r),o={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(n||!n&&!r)&&((So(e)!=="body"||e2(i))&&(o=V8(e)),Ki(e)?(c=gu(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):i&&(c.x=Jw(i))),{x:s.left+o.scrollLeft-c.x,y:s.top+o.scrollTop-c.y,width:s.width,height:s.height}}function X8(t){var e=new Map,r=new Set,n=[];t.forEach(function(i){e.set(i.name,i)});function a(i){r.add(i.name);var s=[].concat(i.requires||[],i.requiresIfExists||[]);s.forEach(function(o){if(!r.has(o)){var c=e.get(o);c&&a(c)}}),n.push(i)}return t.forEach(function(i){r.has(i.name)||a(i)}),n}function Z8(t){var e=X8(t);return d8.reduce(function(r,n){return r.concat(e.filter(function(a){return a.phase===n}))},[])}function Q8(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}function J8(t){var e=t.reduce(function(r,n){var a=r[n.name];return r[n.name]=a?Object.assign({},a,n,{options:Object.assign({},a.options,n.options),data:Object.assign({},a.data,n.data)}):n,r},{});return Object.keys(e).map(function(r){return e[r]})}var pN={placement:"bottom",modifiers:[],strategy:"absolute"};function mN(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function e7(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,n=r===void 0?[]:r,a=e.defaultOptions,i=a===void 0?pN:a;return function(o,c,u){u===void 0&&(u=i);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},pN,i),modifiersData:{},elements:{reference:o,popper:c},attributes:{},styles:{}},f=[],h=!1,p={state:d,setOptions:function(b){var x=typeof b=="function"?b(d.options):b;m(),d.options=Object.assign({},i,d.options,x),d.scrollParents={reference:Ll(o)?wf(o):o.contextElement?wf(o.contextElement):[],popper:wf(c)};var N=Z8(J8([].concat(n,d.options.modifiers)));return d.orderedModifiers=N.filter(function(A){return A.enabled}),g(),p.update()},forceUpdate:function(){if(!h){var b=d.elements,x=b.reference,N=b.popper;if(mN(x,N)){d.rects={reference:K8(x,Kh(N),d.options.strategy==="fixed"),popper:Xw(N)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(L){return d.modifiersData[L.name]=Object.assign({},L.data)});for(var A=0;A<d.orderedModifiers.length;A++){if(d.reset===!0){d.reset=!1,A=-1;continue}var w=d.orderedModifiers[A],j=w.fn,E=w.options,O=E===void 0?{}:E,k=w.name;typeof j=="function"&&(d=j({state:d,options:O,name:k,instance:p})||d)}}}},update:Q8(function(){return new Promise(function(y){p.forceUpdate(),y(d)})}),destroy:function(){m(),h=!0}};if(!mN(o,c))return p;p.setOptions(u).then(function(y){!h&&u.onFirstUpdate&&u.onFirstUpdate(y)});function g(){d.orderedModifiers.forEach(function(y){var b=y.name,x=y.options,N=x===void 0?{}:x,A=y.effect;if(typeof A=="function"){var w=A({state:d,name:b,instance:p,options:N}),j=function(){};f.push(w||j)}})}function m(){f.forEach(function(y){return y()}),f=[]}return p}}var t7=e7({defaultModifiers:[I8,z8,S8,j8,B8,R8,q8,y8]}),gN=function(e){return{position:e,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},r7={name:"applyStyles",enabled:!1},n7={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var r=e.state;return function(){var n=r.elements,a=n.reference,i=n.popper;if("removeAttribute"in a){var s=(a.getAttribute("aria-describedby")||"").split(",").filter(function(o){return o.trim()!==i.id});s.length?a.setAttribute("aria-describedby",s.join(",")):a.removeAttribute("aria-describedby")}}},fn:function(e){var r,n=e.state,a=n.elements,i=a.popper,s=a.reference,o=(r=i.getAttribute("role"))==null?void 0:r.toLowerCase();if(i.id&&o==="tooltip"&&"setAttribute"in s){var c=s.getAttribute("aria-describedby");if(c&&c.split(",").indexOf(i.id)!==-1)return;s.setAttribute("aria-describedby",c?c+","+i.id:i.id)}}},a7=[];function i7(t,e,r){var n=r===void 0?{}:r,a=n.enabled,i=a===void 0?!0:a,s=n.placement,o=s===void 0?"bottom":s,c=n.strategy,u=c===void 0?"absolute":c,d=n.modifiers,f=d===void 0?a7:d,h=Tv(n,["enabled","placement","strategy","modifiers"]),p=R.useRef(),g=R.useCallback(function(){var A;(A=p.current)==null||A.update()},[]),m=R.useCallback(function(){var A;(A=p.current)==null||A.forceUpdate()},[]),y=J$(R.useState({placement:o,update:g,forceUpdate:m,attributes:{},styles:{popper:gN(u),arrow:{}}})),b=y[0],x=y[1],N=R.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(w){var j=w.state,E={},O={};Object.keys(j.elements).forEach(function(k){E[k]=j.styles[k],O[k]=j.attributes[k]}),x({state:j,styles:E,attributes:O,update:g,forceUpdate:m,placement:j.placement})}}},[g,m,x]);return R.useEffect(function(){!p.current||!i||p.current.setOptions({placement:o,strategy:u,modifiers:[].concat(f,[N,r7])})},[u,o,N,i]),R.useEffect(function(){if(!(!i||t==null||e==null))return p.current=t7(t,e,_r({},h,{placement:o,strategy:u,modifiers:[].concat(f,[n7,N])})),function(){p.current!=null&&(p.current.destroy(),p.current=void 0,x(function(A){return _r({},A,{attributes:{},styles:{popper:gN(u)}})}))}},[i,t,e]),b}function s7(t,e,r,n){var a=n&&typeof n!="boolean"?n.capture:n;t.removeEventListener(e,r,a),r.__once&&t.removeEventListener(e,r.__once,a)}function gf(t,e,r,n){return X$(t,e,r,n),function(){s7(t,e,r,n)}}var o7=function(){},l7=o7;const c7=Ct(l7);function u7(t){return t&&"setState"in t?JC.findDOMNode(t):t??null}const d7=function(t){return Vh(u7(t))};var f7=27,vN=function(){};function h7(t){return t.button===0}function p7(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}var yN=function(e){return e&&("current"in e?e.current:e)};function m7(t,e,r){var n=r===void 0?{}:r,a=n.disabled,i=n.clickTrigger,s=i===void 0?"click":i,o=R.useRef(!1),c=e||vN,u=R.useCallback(function(h){var p,g=yN(t);c7(!!g,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),o.current=!g||p7(h)||!h7(h)||!!Gf(g,(p=h.composedPath==null?void 0:h.composedPath()[0])!=null?p:h.target)},[t]),d=iN(function(h){o.current||c(h)}),f=iN(function(h){h.keyCode===f7&&c(h)});R.useEffect(function(){if(!(a||t==null)){var h=window.event,p=d7(yN(t)),g=gf(p,s,u,!0),m=gf(p,s,function(x){if(x===h){h=void 0;return}d(x)}),y=gf(p,"keyup",function(x){if(x===h){h=void 0;return}f(x)}),b=[];return"ontouchstart"in p.documentElement&&(b=[].slice.call(p.body.children).map(function(x){return gf(x,"mousemove",vN)})),function(){g(),m(),y(),b.forEach(function(x){return x()})}}},[t,a,s,u,d,f])}function g7(t){var e={};return Array.isArray(t)?(t==null||t.forEach(function(r){e[r.name]=r}),e):t||e}function v7(t){return t===void 0&&(t={}),Array.isArray(t)?t:Object.keys(t).map(function(e){return t[e].name=e,t[e]})}function y7(t){var e,r,n,a,i=t.enabled,s=t.enableEvents,o=t.placement,c=t.flip,u=t.offset,d=t.fixed,f=t.containerPadding,h=t.arrowElement,p=t.popperConfig,g=p===void 0?{}:p,m=g7(g.modifiers);return _r({},g,{placement:o,enabled:i,strategy:d?"fixed":g.strategy,modifiers:v7(_r({},m,{eventListeners:{enabled:s},preventOverflow:_r({},m.preventOverflow,{options:f?_r({padding:f},(e=m.preventOverflow)==null?void 0:e.options):(r=m.preventOverflow)==null?void 0:r.options}),offset:{options:_r({offset:u},(n=m.offset)==null?void 0:n.options)},arrow:_r({},m.arrow,{enabled:!!h,options:_r({},(a=m.arrow)==null?void 0:a.options,{element:h})}),flip:_r({enabled:!!c},m.flip)}))})}function b7(t,e){return t.classList?t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function x7(t,e){t.classList?t.classList.add(e):b7(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function bN(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function w7(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=bN(t.className,e):t.setAttribute("class",bN(t.className&&t.className.baseVal||"",e))}var em;function t2(t){if((!em&&em!==0||t)&&Gw){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),em=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return em}var K0=function(e){var r;return typeof document>"u"?null:e==null?Vh().body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),(r=e)!=null&&r.nodeType&&e||null)};function xN(t,e){var r=R.useState(function(){return K0(t)}),n=r[0],a=r[1];if(!n){var i=K0(t);i&&a(i)}return R.useEffect(function(){},[e,n]),R.useEffect(function(){var s=K0(t);s!==n&&a(s)},[t,n]),n}const wN=t=>!t||typeof t=="function"?t:e=>{t.current=e};function S7(t,e){const r=wN(t),n=wN(e);return a=>{r&&r(a),n&&n(a)}}function N7(t,e){return R.useMemo(()=>S7(t,e),[t,e])}var r2=z.forwardRef(function(t,e){var r=t.flip,n=t.offset,a=t.placement,i=t.containerPadding,s=i===void 0?5:i,o=t.popperConfig,c=o===void 0?{}:o,u=t.transition,d=sN(),f=d[0],h=d[1],p=sN(),g=p[0],m=p[1],y=N7(h,e),b=xN(t.container),x=xN(t.target),N=R.useState(!t.show),A=N[0],w=N[1],j=i7(x,f,y7({placement:a,enableEvents:!!t.show,containerPadding:s||5,flip:r,offset:n,arrowElement:g,popperConfig:c})),E=j.styles,O=j.attributes,k=Tv(j,["styles","attributes"]);t.show?A&&w(!1):!t.transition&&!A&&w(!0);var L=function(){w(!0),t.onExited&&t.onExited.apply(t,arguments)},C=t.show||u&&!A;if(m7(f,t.onHide,{disabled:!t.rootClose||t.rootCloseDisabled,clickTrigger:t.rootCloseEvent}),!C)return null;var P=t.children(_r({},k,{show:!!t.show,props:_r({},O.popper,{style:E.popper,ref:y}),arrowProps:_r({},O.arrow,{style:E.arrow,ref:m})}));if(u){var I=t.onExit,M=t.onExiting,H=t.onEnter,V=t.onEntering,F=t.onEntered;P=z.createElement(u,{in:t.show,appear:!0,onExit:I,onExiting:M,onExited:L,onEnter:H,onEntering:V,onEntered:F},P)}return b?JC.createPortal(P,b):null});r2.displayName="Overlay";r2.propTypes={show:_e.bool,placement:_e.oneOf(Yw),target:_e.any,container:_e.any,flip:_e.bool,children:_e.func.isRequired,containerPadding:_e.number,popperConfig:_e.object,rootClose:_e.bool,rootCloseEvent:_e.oneOf(["click","mousedown"]),rootCloseDisabled:_e.bool,onHide:function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];if(e.rootClose){var i;return(i=_e.func).isRequired.apply(i,[e].concat(n))}return _e.func.apply(_e,[e].concat(n))},transition:_e.elementType,onEnter:_e.func,onEntering:_e.func,onEntered:_e.func,onExit:_e.func,onExiting:_e.func,onExited:_e.func};function j7(){this.__data__=[],this.size=0}var A7=j7,_7=Gh;function E7(t,e){for(var r=t.length;r--;)if(_7(t[r][0],e))return r;return-1}var Mv=E7,O7=Mv,C7=Array.prototype,T7=C7.splice;function k7(t){var e=this.__data__,r=O7(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():T7.call(e,r,1),--this.size,!0}var P7=k7,D7=Mv;function M7(t){var e=this.__data__,r=D7(e,t);return r<0?void 0:e[r][1]}var R7=M7,L7=Mv;function I7(t){return L7(this.__data__,t)>-1}var $7=I7,F7=Mv;function B7(t,e){var r=this.__data__,n=F7(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var U7=B7,z7=A7,W7=P7,H7=R7,q7=$7,G7=U7;function nd(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}nd.prototype.clear=z7;nd.prototype.delete=W7;nd.prototype.get=H7;nd.prototype.has=q7;nd.prototype.set=G7;var Rv=nd,V7=Rv;function Y7(){this.__data__=new V7,this.size=0}var K7=Y7;function X7(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var Z7=X7;function Q7(t){return this.__data__.get(t)}var J7=Q7;function eF(t){return this.__data__.has(t)}var tF=eF,rF=yi,nF=rF["__core-js_shared__"],aF=nF,X0=aF,SN=function(){var t=/[^.]+$/.exec(X0&&X0.keys&&X0.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function iF(t){return!!SN&&SN in t}var sF=iF,oF=Function.prototype,lF=oF.toString;function cF(t){if(t!=null){try{return lF.call(t)}catch{}try{return t+""}catch{}}return""}var UT=cF,uF=Pv,dF=sF,fF=za,hF=UT,pF=/[\\^$.*+?()[\]{}|]/g,mF=/^\[object .+?Constructor\]$/,gF=Function.prototype,vF=Object.prototype,yF=gF.toString,bF=vF.hasOwnProperty,xF=RegExp("^"+yF.call(bF).replace(pF,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function wF(t){if(!fF(t)||dF(t))return!1;var e=uF(t)?xF:mF;return e.test(hF(t))}var SF=wF;function NF(t,e){return t==null?void 0:t[e]}var jF=NF,AF=SF,_F=jF;function EF(t,e){var r=_F(t,e);return AF(r)?r:void 0}var Kl=EF,OF=Kl,CF=yi,TF=OF(CF,"Map"),n2=TF,kF=Kl,PF=kF(Object,"create"),Lv=PF,NN=Lv;function DF(){this.__data__=NN?NN(null):{},this.size=0}var MF=DF;function RF(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var LF=RF,IF=Lv,$F="__lodash_hash_undefined__",FF=Object.prototype,BF=FF.hasOwnProperty;function UF(t){var e=this.__data__;if(IF){var r=e[t];return r===$F?void 0:r}return BF.call(e,t)?e[t]:void 0}var zF=UF,WF=Lv,HF=Object.prototype,qF=HF.hasOwnProperty;function GF(t){var e=this.__data__;return WF?e[t]!==void 0:qF.call(e,t)}var VF=GF,YF=Lv,KF="__lodash_hash_undefined__";function XF(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=YF&&e===void 0?KF:e,this}var ZF=XF,QF=MF,JF=LF,eB=zF,tB=VF,rB=ZF;function ad(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}ad.prototype.clear=QF;ad.prototype.delete=JF;ad.prototype.get=eB;ad.prototype.has=tB;ad.prototype.set=rB;var nB=ad,jN=nB,aB=Rv,iB=n2;function sB(){this.size=0,this.__data__={hash:new jN,map:new(iB||aB),string:new jN}}var oB=sB;function lB(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var cB=lB,uB=cB;function dB(t,e){var r=t.__data__;return uB(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Iv=dB,fB=Iv;function hB(t){var e=fB(this,t).delete(t);return this.size-=e?1:0,e}var pB=hB,mB=Iv;function gB(t){return mB(this,t).get(t)}var vB=gB,yB=Iv;function bB(t){return yB(this,t).has(t)}var xB=bB,wB=Iv;function SB(t,e){var r=wB(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var NB=SB,jB=oB,AB=pB,_B=vB,EB=xB,OB=NB;function id(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}id.prototype.clear=jB;id.prototype.delete=AB;id.prototype.get=_B;id.prototype.has=EB;id.prototype.set=OB;var a2=id,CB=Rv,TB=n2,kB=a2,PB=200;function DB(t,e){var r=this.__data__;if(r instanceof CB){var n=r.__data__;if(!TB||n.length<PB-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new kB(n)}return r.set(t,e),this.size=r.size,this}var MB=DB,RB=Rv,LB=K7,IB=Z7,$B=J7,FB=tF,BB=MB;function sd(t){var e=this.__data__=new RB(t);this.size=e.size}sd.prototype.clear=LB;sd.prototype.delete=IB;sd.prototype.get=$B;sd.prototype.has=FB;sd.prototype.set=BB;var i2=sd,UB="__lodash_hash_undefined__";function zB(t){return this.__data__.set(t,UB),this}var WB=zB;function HB(t){return this.__data__.has(t)}var qB=HB,GB=a2,VB=WB,YB=qB;function tg(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new GB;++e<r;)this.add(t[e])}tg.prototype.add=tg.prototype.push=VB;tg.prototype.has=YB;var zT=tg;function KB(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var WT=KB;function XB(t,e){return t.has(e)}var HT=XB,ZB=zT,QB=WT,JB=HT,eU=1,tU=2;function rU(t,e,r,n,a,i){var s=r&eU,o=t.length,c=e.length;if(o!=c&&!(s&&c>o))return!1;var u=i.get(t),d=i.get(e);if(u&&d)return u==e&&d==t;var f=-1,h=!0,p=r&tU?new ZB:void 0;for(i.set(t,e),i.set(e,t);++f<o;){var g=t[f],m=e[f];if(n)var y=s?n(m,g,f,e,t,i):n(g,m,f,t,e,i);if(y!==void 0){if(y)continue;h=!1;break}if(p){if(!QB(e,function(b,x){if(!JB(p,x)&&(g===b||a(g,b,r,n,i)))return p.push(x)})){h=!1;break}}else if(!(g===m||a(g,m,r,n,i))){h=!1;break}}return i.delete(t),i.delete(e),h}var qT=rU,nU=yi,aU=nU.Uint8Array,GT=aU;function iU(t){var e=-1,r=Array(t.size);return t.forEach(function(n,a){r[++e]=[a,n]}),r}var sU=iU;function oU(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var s2=oU,AN=Qu,_N=GT,lU=Gh,cU=qT,uU=sU,dU=s2,fU=1,hU=2,pU="[object Boolean]",mU="[object Date]",gU="[object Error]",vU="[object Map]",yU="[object Number]",bU="[object RegExp]",xU="[object Set]",wU="[object String]",SU="[object Symbol]",NU="[object ArrayBuffer]",jU="[object DataView]",EN=AN?AN.prototype:void 0,Z0=EN?EN.valueOf:void 0;function AU(t,e,r,n,a,i,s){switch(r){case jU:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case NU:return!(t.byteLength!=e.byteLength||!i(new _N(t),new _N(e)));case pU:case mU:case yU:return lU(+t,+e);case gU:return t.name==e.name&&t.message==e.message;case bU:case wU:return t==e+"";case vU:var o=uU;case xU:var c=n&fU;if(o||(o=dU),t.size!=e.size&&!c)return!1;var u=s.get(t);if(u)return u==e;n|=hU,s.set(t,e);var d=cU(o(t),o(e),n,a,i,s);return s.delete(t),d;case SU:if(Z0)return Z0.call(t)==Z0.call(e)}return!1}var _U=AU;function EU(t,e){for(var r=-1,n=e.length,a=t.length;++r<n;)t[a+r]=e[r];return t}var o2=EU,OU=Array.isArray,kn=OU,CU=o2,TU=kn;function kU(t,e,r){var n=e(t);return TU(t)?n:CU(n,r(t))}var VT=kU;function PU(t,e){for(var r=-1,n=t==null?0:t.length,a=0,i=[];++r<n;){var s=t[r];e(s,r,t)&&(i[a++]=s)}return i}var DU=PU;function MU(){return[]}var YT=MU,RU=DU,LU=YT,IU=Object.prototype,$U=IU.propertyIsEnumerable,ON=Object.getOwnPropertySymbols,FU=ON?function(t){return t==null?[]:(t=Object(t),RU(ON(t),function(e){return $U.call(t,e)}))}:LU,l2=FU;function BU(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var UU=BU,zU=Is,WU=bi,HU="[object Arguments]";function qU(t){return WU(t)&&zU(t)==HU}var GU=qU,CN=GU,VU=bi,KT=Object.prototype,YU=KT.hasOwnProperty,KU=KT.propertyIsEnumerable,XU=CN(function(){return arguments}())?CN:function(t){return VU(t)&&YU.call(t,"callee")&&!KU.call(t,"callee")},c2=XU,rg={exports:{}};function ZU(){return!1}var QU=ZU;rg.exports;(function(t,e){var r=yi,n=QU,a=e&&!e.nodeType&&e,i=a&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===a,o=s?r.Buffer:void 0,c=o?o.isBuffer:void 0,u=c||n;t.exports=u})(rg,rg.exports);var $v=rg.exports,JU=Is,e9=Ww,t9=bi,r9="[object Arguments]",n9="[object Array]",a9="[object Boolean]",i9="[object Date]",s9="[object Error]",o9="[object Function]",l9="[object Map]",c9="[object Number]",u9="[object Object]",d9="[object RegExp]",f9="[object Set]",h9="[object String]",p9="[object WeakMap]",m9="[object ArrayBuffer]",g9="[object DataView]",v9="[object Float32Array]",y9="[object Float64Array]",b9="[object Int8Array]",x9="[object Int16Array]",w9="[object Int32Array]",S9="[object Uint8Array]",N9="[object Uint8ClampedArray]",j9="[object Uint16Array]",A9="[object Uint32Array]",dr={};dr[v9]=dr[y9]=dr[b9]=dr[x9]=dr[w9]=dr[S9]=dr[N9]=dr[j9]=dr[A9]=!0;dr[r9]=dr[n9]=dr[m9]=dr[a9]=dr[g9]=dr[i9]=dr[s9]=dr[o9]=dr[l9]=dr[c9]=dr[u9]=dr[d9]=dr[f9]=dr[h9]=dr[p9]=!1;function _9(t){return t9(t)&&e9(t.length)&&!!dr[JU(t)]}var E9=_9;function O9(t){return function(e){return t(e)}}var Fv=O9,ng={exports:{}};ng.exports;(function(t,e){var r=NT,n=e&&!e.nodeType&&e,a=n&&!0&&t&&!t.nodeType&&t,i=a&&a.exports===n,s=i&&r.process,o=function(){try{var c=a&&a.require&&a.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();t.exports=o})(ng,ng.exports);var u2=ng.exports,C9=E9,T9=Fv,TN=u2,kN=TN&&TN.isTypedArray,k9=kN?T9(kN):C9,d2=k9,P9=UU,D9=c2,M9=kn,R9=$v,L9=Hw,I9=d2,$9=Object.prototype,F9=$9.hasOwnProperty;function B9(t,e){var r=M9(t),n=!r&&D9(t),a=!r&&!n&&R9(t),i=!r&&!n&&!a&&I9(t),s=r||n||a||i,o=s?P9(t.length,String):[],c=o.length;for(var u in t)(e||F9.call(t,u))&&!(s&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||L9(u,c)))&&o.push(u);return o}var XT=B9,U9=Object.prototype;function z9(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||U9;return t===r}var f2=z9;function W9(t,e){return function(r){return t(e(r))}}var ZT=W9,H9=ZT,q9=H9(Object.keys,Object),G9=q9,V9=f2,Y9=G9,K9=Object.prototype,X9=K9.hasOwnProperty;function Z9(t){if(!V9(t))return Y9(t);var e=[];for(var r in Object(t))X9.call(t,r)&&r!="constructor"&&e.push(r);return e}var Q9=Z9,J9=XT,ez=Q9,tz=ed;function rz(t){return tz(t)?J9(t):ez(t)}var od=rz,nz=VT,az=l2,iz=od;function sz(t){return nz(t,iz,az)}var QT=sz,PN=QT,oz=1,lz=Object.prototype,cz=lz.hasOwnProperty;function uz(t,e,r,n,a,i){var s=r&oz,o=PN(t),c=o.length,u=PN(e),d=u.length;if(c!=d&&!s)return!1;for(var f=c;f--;){var h=o[f];if(!(s?h in e:cz.call(e,h)))return!1}var p=i.get(t),g=i.get(e);if(p&&g)return p==e&&g==t;var m=!0;i.set(t,e),i.set(e,t);for(var y=s;++f<c;){h=o[f];var b=t[h],x=e[h];if(n)var N=s?n(x,b,h,e,t,i):n(b,x,h,t,e,i);if(!(N===void 0?b===x||a(b,x,r,n,i):N)){m=!1;break}y||(y=h=="constructor")}if(m&&!y){var A=t.constructor,w=e.constructor;A!=w&&"constructor"in t&&"constructor"in e&&!(typeof A=="function"&&A instanceof A&&typeof w=="function"&&w instanceof w)&&(m=!1)}return i.delete(t),i.delete(e),m}var dz=uz,fz=Kl,hz=yi,pz=fz(hz,"DataView"),mz=pz,gz=Kl,vz=yi,yz=gz(vz,"Promise"),bz=yz,xz=Kl,wz=yi,Sz=xz(wz,"Set"),JT=Sz,Nz=Kl,jz=yi,Az=Nz(jz,"WeakMap"),_z=Az,yx=mz,bx=n2,xx=bz,wx=JT,Sx=_z,ek=Is,ld=UT,DN="[object Map]",Ez="[object Object]",MN="[object Promise]",RN="[object Set]",LN="[object WeakMap]",IN="[object DataView]",Oz=ld(yx),Cz=ld(bx),Tz=ld(xx),kz=ld(wx),Pz=ld(Sx),il=ek;(yx&&il(new yx(new ArrayBuffer(1)))!=IN||bx&&il(new bx)!=DN||xx&&il(xx.resolve())!=MN||wx&&il(new wx)!=RN||Sx&&il(new Sx)!=LN)&&(il=function(t){var e=ek(t),r=e==Ez?t.constructor:void 0,n=r?ld(r):"";if(n)switch(n){case Oz:return IN;case Cz:return DN;case Tz:return MN;case kz:return RN;case Pz:return LN}return e});var Bv=il,Q0=i2,Dz=qT,Mz=_U,Rz=dz,$N=Bv,FN=kn,BN=$v,Lz=d2,Iz=1,UN="[object Arguments]",zN="[object Array]",tm="[object Object]",$z=Object.prototype,WN=$z.hasOwnProperty;function Fz(t,e,r,n,a,i){var s=FN(t),o=FN(e),c=s?zN:$N(t),u=o?zN:$N(e);c=c==UN?tm:c,u=u==UN?tm:u;var d=c==tm,f=u==tm,h=c==u;if(h&&BN(t)){if(!BN(e))return!1;s=!0,d=!1}if(h&&!d)return i||(i=new Q0),s||Lz(t)?Dz(t,e,r,n,a,i):Mz(t,e,c,r,n,a,i);if(!(r&Iz)){var p=d&&WN.call(t,"__wrapped__"),g=f&&WN.call(e,"__wrapped__");if(p||g){var m=p?t.value():t,y=g?e.value():e;return i||(i=new Q0),a(m,y,r,n,i)}}return h?(i||(i=new Q0),Rz(t,e,r,n,a,i)):!1}var Bz=Fz,Uz=Bz,HN=bi;function tk(t,e,r,n,a){return t===e?!0:t==null||e==null||!HN(t)&&!HN(e)?t!==t&&e!==e:Uz(t,e,r,n,tk,a)}var h2=tk,zz=h2;function Wz(t,e){return zz(t,e)}var Hz=Wz;const Il=Ct(Hz);function J0(t,e){var r=qw(t);return r?r.innerHeight:wl(t).height}function rk(t,e,r){t.closest&&!r&&t.closest(e);var n=t;do{if(V$(n,e))return n;n=n.parentElement}while(n&&n!==r&&n.nodeType===document.ELEMENT_NODE);return null}function qz(t,e,r,n){for(var a=t.length,i=r+(n?1:-1);n?i--:++i<a;)if(e(t[i],i,t))return i;return-1}var nk=qz,Gz=i2,Vz=h2,Yz=1,Kz=2;function Xz(t,e,r,n){var a=r.length,i=a,s=!n;if(t==null)return!i;for(t=Object(t);a--;){var o=r[a];if(s&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++a<i;){o=r[a];var c=o[0],u=t[c],d=o[1];if(s&&o[2]){if(u===void 0&&!(c in t))return!1}else{var f=new Gz;if(n)var h=n(u,d,c,t,e,f);if(!(h===void 0?Vz(d,u,Yz|Kz,n,f):h))return!1}}return!0}var Zz=Xz,Qz=za;function Jz(t){return t===t&&!Qz(t)}var ak=Jz,eW=ak,tW=od;function rW(t){for(var e=tW(t),r=e.length;r--;){var n=e[r],a=t[n];e[r]=[n,a,eW(a)]}return e}var nW=rW;function aW(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var ik=aW,iW=Zz,sW=nW,oW=ik;function lW(t){var e=sW(t);return e.length==1&&e[0][2]?oW(e[0][0],e[0][1]):function(r){return r===t||iW(r,t,e)}}var cW=lW,uW=kn,dW=rd,fW=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,hW=/^\w*$/;function pW(t,e){if(uW(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||dW(t)?!0:hW.test(t)||!fW.test(t)||e!=null&&t in Object(e)}var p2=pW,sk=a2,mW="Expected a function";function m2(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(mW);var r=function(){var n=arguments,a=e?e.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var s=t.apply(this,n);return r.cache=i.set(a,s)||i,s};return r.cache=new(m2.Cache||sk),r}m2.Cache=sk;var ok=m2;const gW=Ct(ok);var vW=ok,yW=500;function bW(t){var e=vW(t,function(n){return r.size===yW&&r.clear(),n}),r=e.cache;return e}var xW=bW,wW=xW,SW=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,NW=/\\(\\)?/g,jW=wW(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(SW,function(r,n,a,i){e.push(a?i.replace(NW,"$1"):n||r)}),e}),AW=jW;function _W(t,e){for(var r=-1,n=t==null?0:t.length,a=Array(n);++r<n;)a[r]=e(t[r],r,t);return a}var Uv=_W,qN=Qu,EW=Uv,OW=kn,CW=rd,GN=qN?qN.prototype:void 0,VN=GN?GN.toString:void 0;function lk(t){if(typeof t=="string")return t;if(OW(t))return EW(t,lk)+"";if(CW(t))return VN?VN.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var TW=lk,kW=TW;function PW(t){return t==null?"":kW(t)}var ck=PW,DW=kn,MW=p2,RW=AW,LW=ck;function IW(t,e){return DW(t)?t:MW(t,e)?[t]:RW(LW(t))}var zv=IW,$W=rd;function FW(t){if(typeof t=="string"||$W(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Xh=FW,BW=zv,UW=Xh;function zW(t,e){e=BW(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[UW(e[r++])];return r&&r==n?t:void 0}var Wv=zW,WW=Wv;function HW(t,e,r){var n=t==null?void 0:WW(t,e);return n===void 0?r:n}var uk=HW;const ma=Ct(uk);function qW(t,e){return t!=null&&e in Object(t)}var GW=qW,VW=zv,YW=c2,KW=kn,XW=Hw,ZW=Ww,QW=Xh;function JW(t,e,r){e=VW(e,t);for(var n=-1,a=e.length,i=!1;++n<a;){var s=QW(e[n]);if(!(i=t!=null&&r(t,s)))break;t=t[s]}return i||++n!=a?i:(a=t==null?0:t.length,!!a&&ZW(a)&&XW(s,a)&&(KW(t)||YW(t)))}var eH=JW,tH=GW,rH=eH;function nH(t,e){return t!=null&&rH(t,e,tH)}var aH=nH,iH=h2,sH=uk,oH=aH,lH=p2,cH=ak,uH=ik,dH=Xh,fH=1,hH=2;function pH(t,e){return lH(t)&&cH(e)?uH(dH(t),e):function(r){var n=sH(r,t);return n===void 0&&n===e?oH(r,t):iH(e,n,fH|hH)}}var mH=pH;function gH(t){return t}var cd=gH;function vH(t){return function(e){return e==null?void 0:e[t]}}var yH=vH,bH=Wv;function xH(t){return function(e){return bH(e,t)}}var wH=xH,SH=yH,NH=wH,jH=p2,AH=Xh;function _H(t){return jH(t)?SH(AH(t)):NH(t)}var EH=_H,OH=cW,CH=mH,TH=cd,kH=kn,PH=EH;function DH(t){return typeof t=="function"?t:t==null?TH:typeof t=="object"?kH(t)?CH(t[0],t[1]):OH(t):PH(t)}var xi=DH,MH=nk,RH=xi,LH=ET,IH=Math.max;function $H(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var a=r==null?0:LH(r);return a<0&&(a=IH(n+a,0)),MH(t,RH(e),a)}var dk=$H;const FH=Ct(dk);var BH=Math.ceil,UH=Math.max;function zH(t,e,r,n){for(var a=-1,i=UH(BH((e-t)/(r||1)),0),s=Array(i);i--;)s[n?i:++a]=t,t+=r;return s}var WH=zH,HH=WH,qH=td,eb=_T;function GH(t){return function(e,r,n){return n&&typeof n!="number"&&qH(e,r,n)&&(r=n=void 0),e=eb(e),r===void 0?(r=e,e=0):r=eb(r),n=n===void 0?e<r?1:-1:eb(n),HH(e,r,n,t)}}var VH=GH,YH=VH,KH=YH(),XH=KH;const Kf=Ct(XH);var YN=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function ZH(t,e){return!!(t===e||YN(t)&&YN(e))}function QH(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!ZH(t[r],e[r]))return!1;return!0}function fk(t,e){e===void 0&&(e=QH);var r=null;function n(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];if(r&&r.lastThis===this&&e(a,r.lastArgs))return r.lastResult;var s=t.apply(this,a);return r={lastResult:s,lastArgs:a,lastThis:this},s}return n.clear=function(){r=null},n}function Nx(t,e){var r=qw(t);return r?r.innerWidth:wl(t).width}var KN=Qu,JH=c2,eq=kn,XN=KN?KN.isConcatSpreadable:void 0;function tq(t){return eq(t)||JH(t)||!!(XN&&t&&t[XN])}var rq=tq,nq=o2,aq=rq;function hk(t,e,r,n,a){var i=-1,s=t.length;for(r||(r=aq),a||(a=[]);++i<s;){var o=t[i];e>0&&r(o)?e>1?hk(o,e-1,r,n,a):nq(a,o):n||(a[a.length]=o)}return a}var g2=hk;function iq(t){return function(e,r,n){for(var a=-1,i=Object(e),s=n(e),o=s.length;o--;){var c=s[t?o:++a];if(r(i[c],c,i)===!1)break}return e}}var sq=iq,oq=sq,lq=oq(),cq=lq,uq=cq,dq=od;function fq(t,e){return t&&uq(t,e,dq)}var v2=fq,hq=ed;function pq(t,e){return function(r,n){if(r==null)return r;if(!hq(r))return t(r,n);for(var a=r.length,i=e?a:-1,s=Object(r);(e?i--:++i<a)&&n(s[i],i,s)!==!1;);return r}}var mq=pq,gq=v2,vq=mq,yq=vq(gq),y2=yq,bq=y2,xq=ed;function wq(t,e){var r=-1,n=xq(t)?Array(t.length):[];return bq(t,function(a,i,s){n[++r]=e(a,i,s)}),n}var pk=wq;function Sq(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var Nq=Sq,ZN=rd;function jq(t,e){if(t!==e){var r=t!==void 0,n=t===null,a=t===t,i=ZN(t),s=e!==void 0,o=e===null,c=e===e,u=ZN(e);if(!o&&!u&&!i&&t>e||i&&s&&c&&!o&&!u||n&&s&&c||!r&&c||!a)return 1;if(!n&&!i&&!u&&t<e||u&&r&&a&&!n&&!i||o&&r&&a||!s&&a||!c)return-1}return 0}var Aq=jq,_q=Aq;function Eq(t,e,r){for(var n=-1,a=t.criteria,i=e.criteria,s=a.length,o=r.length;++n<s;){var c=_q(a[n],i[n]);if(c){if(n>=o)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return t.index-e.index}var Oq=Eq,tb=Uv,Cq=Wv,Tq=xi,kq=pk,Pq=Nq,Dq=Fv,Mq=Oq,Rq=cd,Lq=kn;function Iq(t,e,r){e.length?e=tb(e,function(i){return Lq(i)?function(s){return Cq(s,i.length===1?i[0]:i)}:i}):e=[Rq];var n=-1;e=tb(e,Dq(Tq));var a=kq(t,function(i,s,o){var c=tb(e,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return Pq(a,function(i,s){return Mq(i,s,r)})}var $q=Iq;function Fq(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var Bq=Fq,Uq=Bq,QN=Math.max;function zq(t,e,r){return e=QN(e===void 0?t.length-1:e,0),function(){for(var n=arguments,a=-1,i=QN(n.length-e,0),s=Array(i);++a<i;)s[a]=n[e+a];a=-1;for(var o=Array(e+1);++a<e;)o[a]=n[a];return o[e]=r(s),Uq(t,this,o)}}var mk=zq;function Wq(t){return function(){return t}}var Hq=Wq,qq=Kl,Gq=function(){try{var t=qq(Object,"defineProperty");return t({},"",{}),t}catch{}}(),gk=Gq,Vq=Hq,JN=gk,Yq=cd,Kq=JN?function(t,e){return JN(t,"toString",{configurable:!0,enumerable:!1,value:Vq(e),writable:!0})}:Yq,Xq=Kq,Zq=800,Qq=16,Jq=Date.now;function eG(t){var e=0,r=0;return function(){var n=Jq(),a=Qq-(n-r);if(r=n,a>0){if(++e>=Zq)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var tG=eG,rG=Xq,nG=tG,aG=nG(rG),vk=aG,iG=cd,sG=mk,oG=vk;function lG(t,e){return oG(sG(t,e,iG),t+"")}var yk=lG,cG=g2,uG=$q,dG=yk,ej=td,fG=dG(function(t,e){if(t==null)return[];var r=e.length;return r>1&&ej(t,e[0],e[1])?e=[]:r>2&&ej(e[0],e[1],e[2])&&(e=[e[0]]),uG(t,cG(e,1),[])}),hG=fG;const Hv=Ct(hG);function bk(t){return lT(t)||ST(t)||Fw(t)||cT()}function pG(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var mG=pG,gG=za,vG=f2,yG=mG,bG=Object.prototype,xG=bG.hasOwnProperty;function wG(t){if(!gG(t))return yG(t);var e=vG(t),r=[];for(var n in t)n=="constructor"&&(e||!xG.call(t,n))||r.push(n);return r}var SG=wG,NG=XT,jG=SG,AG=ed;function _G(t){return AG(t)?NG(t,!0):jG(t)}var qv=_G,EG=yk,OG=Gh,CG=td,TG=qv,xk=Object.prototype,kG=xk.hasOwnProperty,PG=EG(function(t,e){t=Object(t);var r=-1,n=e.length,a=n>2?e[2]:void 0;for(a&&CG(e[0],e[1],a)&&(n=1);++r<n;)for(var i=e[r],s=TG(i),o=-1,c=s.length;++o<c;){var u=s[o],d=t[u];(d===void 0||OG(d,xk[u])&&!kG.call(t,u))&&(t[u]=i[u])}return t}),DG=PG;const MG=Ct(DG);var tj=gk;function RG(t,e,r){e=="__proto__"&&tj?tj(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var b2=RG,LG=b2,IG=v2,$G=xi;function FG(t,e){var r={};return e=$G(e),IG(t,function(n,a,i){LG(r,a,e(n,a,i))}),r}var BG=FG;const wk=Ct(BG);function UG(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var Sk=UG,zG=b2,WG=Gh,HG=Object.prototype,qG=HG.hasOwnProperty;function GG(t,e,r){var n=t[e];(!(qG.call(t,e)&&WG(n,r))||r===void 0&&!(e in t))&&zG(t,e,r)}var Nk=GG,VG=Nk,YG=b2;function KG(t,e,r,n){var a=!r;r||(r={});for(var i=-1,s=e.length;++i<s;){var o=e[i],c=n?n(r[o],t[o],o,r,t):void 0;c===void 0&&(c=t[o]),a?YG(r,o,c):VG(r,o,c)}return r}var Zh=KG,XG=Zh,ZG=od;function QG(t,e){return t&&XG(e,ZG(e),t)}var JG=QG,eV=Zh,tV=qv;function rV(t,e){return t&&eV(e,tV(e),t)}var nV=rV,ag={exports:{}};ag.exports;(function(t,e){var r=yi,n=e&&!e.nodeType&&e,a=n&&!0&&t&&!t.nodeType&&t,i=a&&a.exports===n,s=i?r.Buffer:void 0,o=s?s.allocUnsafe:void 0;function c(u,d){if(d)return u.slice();var f=u.length,h=o?o(f):new u.constructor(f);return u.copy(h),h}t.exports=c})(ag,ag.exports);var aV=ag.exports;function iV(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var sV=iV,oV=Zh,lV=l2;function cV(t,e){return oV(t,lV(t),e)}var uV=cV,dV=ZT,fV=dV(Object.getPrototypeOf,Object),Gv=fV,hV=o2,pV=Gv,mV=l2,gV=YT,vV=Object.getOwnPropertySymbols,yV=vV?function(t){for(var e=[];t;)hV(e,mV(t)),t=pV(t);return e}:gV,jk=yV,bV=Zh,xV=jk;function wV(t,e){return bV(t,xV(t),e)}var SV=wV,NV=VT,jV=jk,AV=qv;function _V(t){return NV(t,AV,jV)}var Ak=_V,EV=Object.prototype,OV=EV.hasOwnProperty;function CV(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&OV.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var TV=CV,rj=GT;function kV(t){var e=new t.constructor(t.byteLength);return new rj(e).set(new rj(t)),e}var x2=kV,PV=x2;function DV(t,e){var r=e?PV(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var MV=DV,RV=/\w*$/;function LV(t){var e=new t.constructor(t.source,RV.exec(t));return e.lastIndex=t.lastIndex,e}var IV=LV,nj=Qu,aj=nj?nj.prototype:void 0,ij=aj?aj.valueOf:void 0;function $V(t){return ij?Object(ij.call(t)):{}}var FV=$V,BV=x2;function UV(t,e){var r=e?BV(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var zV=UV,WV=x2,HV=MV,qV=IV,GV=FV,VV=zV,YV="[object Boolean]",KV="[object Date]",XV="[object Map]",ZV="[object Number]",QV="[object RegExp]",JV="[object Set]",eY="[object String]",tY="[object Symbol]",rY="[object ArrayBuffer]",nY="[object DataView]",aY="[object Float32Array]",iY="[object Float64Array]",sY="[object Int8Array]",oY="[object Int16Array]",lY="[object Int32Array]",cY="[object Uint8Array]",uY="[object Uint8ClampedArray]",dY="[object Uint16Array]",fY="[object Uint32Array]";function hY(t,e,r){var n=t.constructor;switch(e){case rY:return WV(t);case YV:case KV:return new n(+t);case nY:return HV(t,r);case aY:case iY:case sY:case oY:case lY:case cY:case uY:case dY:case fY:return VV(t,r);case XV:return new n;case ZV:case eY:return new n(t);case QV:return qV(t);case JV:return new n;case tY:return GV(t)}}var pY=hY,mY=za,sj=Object.create,gY=function(){function t(){}return function(e){if(!mY(e))return{};if(sj)return sj(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}(),_k=gY,vY=_k,yY=Gv,bY=f2;function xY(t){return typeof t.constructor=="function"&&!bY(t)?vY(yY(t)):{}}var wY=xY,SY=Bv,NY=bi,jY="[object Map]";function AY(t){return NY(t)&&SY(t)==jY}var _Y=AY,EY=_Y,OY=Fv,oj=u2,lj=oj&&oj.isMap,CY=lj?OY(lj):EY,TY=CY,kY=Bv,PY=bi,DY="[object Set]";function MY(t){return PY(t)&&kY(t)==DY}var RY=MY,LY=RY,IY=Fv,cj=u2,uj=cj&&cj.isSet,$Y=uj?IY(uj):LY,FY=$Y,BY=i2,UY=Sk,zY=Nk,WY=JG,HY=nV,qY=aV,GY=sV,VY=uV,YY=SV,KY=QT,XY=Ak,ZY=Bv,QY=TV,JY=pY,eK=wY,tK=kn,rK=$v,nK=TY,aK=za,iK=FY,sK=od,oK=qv,lK=1,cK=2,uK=4,Ek="[object Arguments]",dK="[object Array]",fK="[object Boolean]",hK="[object Date]",pK="[object Error]",Ok="[object Function]",mK="[object GeneratorFunction]",gK="[object Map]",vK="[object Number]",Ck="[object Object]",yK="[object RegExp]",bK="[object Set]",xK="[object String]",wK="[object Symbol]",SK="[object WeakMap]",NK="[object ArrayBuffer]",jK="[object DataView]",AK="[object Float32Array]",_K="[object Float64Array]",EK="[object Int8Array]",OK="[object Int16Array]",CK="[object Int32Array]",TK="[object Uint8Array]",kK="[object Uint8ClampedArray]",PK="[object Uint16Array]",DK="[object Uint32Array]",sr={};sr[Ek]=sr[dK]=sr[NK]=sr[jK]=sr[fK]=sr[hK]=sr[AK]=sr[_K]=sr[EK]=sr[OK]=sr[CK]=sr[gK]=sr[vK]=sr[Ck]=sr[yK]=sr[bK]=sr[xK]=sr[wK]=sr[TK]=sr[kK]=sr[PK]=sr[DK]=!0;sr[pK]=sr[Ok]=sr[SK]=!1;function Rm(t,e,r,n,a,i){var s,o=e&lK,c=e&cK,u=e&uK;if(r&&(s=a?r(t,n,a,i):r(t)),s!==void 0)return s;if(!aK(t))return t;var d=tK(t);if(d){if(s=QY(t),!o)return GY(t,s)}else{var f=ZY(t),h=f==Ok||f==mK;if(rK(t))return qY(t,o);if(f==Ck||f==Ek||h&&!a){if(s=c||h?{}:eK(t),!o)return c?YY(t,HY(s,t)):VY(t,WY(s,t))}else{if(!sr[f])return a?t:{};s=JY(t,f,o)}}i||(i=new BY);var p=i.get(t);if(p)return p;i.set(t,s),iK(t)?t.forEach(function(y){s.add(Rm(y,e,r,y,t,i))}):nK(t)&&t.forEach(function(y,b){s.set(b,Rm(y,e,r,b,t,i))});var g=u?c?XY:KY:c?oK:sK,m=d?void 0:g(t);return UY(m||t,function(y,b){m&&(b=y,y=t[b]),zY(s,b,Rm(y,e,r,b,t,i))}),s}var MK=Rm;function RK(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Tk=RK;const LK=Ct(Tk);var IK=Wv,$K=zw;function FK(t,e){return e.length<2?t:IK(t,$K(e,0,-1))}var BK=FK,UK=zv,zK=Tk,WK=BK,HK=Xh;function qK(t,e){return e=UK(e,t),t=WK(t,e),t==null||delete t[HK(zK(e))]}var GK=qK,VK=Is,YK=Gv,KK=bi,XK="[object Object]",ZK=Function.prototype,QK=Object.prototype,kk=ZK.toString,JK=QK.hasOwnProperty,eX=kk.call(Object);function tX(t){if(!KK(t)||VK(t)!=XK)return!1;var e=YK(t);if(e===null)return!0;var r=JK.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&kk.call(r)==eX}var Pk=tX;const rX=Ct(Pk);var nX=Pk;function aX(t){return nX(t)?void 0:t}var iX=aX,sX=g2;function oX(t){var e=t==null?0:t.length;return e?sX(t,1):[]}var lX=oX,cX=lX,uX=mk,dX=vk;function fX(t){return dX(uX(t,void 0,cX),t+"")}var hX=fX,pX=Uv,mX=MK,gX=GK,vX=zv,yX=Zh,bX=iX,xX=hX,wX=Ak,SX=1,NX=2,jX=4,AX=xX(function(t,e){var r={};if(t==null)return r;var n=!1;e=pX(e,function(i){return i=vX(i,t),n||(n=i.length>1),i}),yX(t,wX(t),r),n&&(r=mX(r,SX|NX|jX,bX));for(var a=e.length;a--;)gX(r,e[a]);return r}),_X=AX;const EX=Ct(_X);var OX=Sk,CX=_k,TX=v2,kX=xi,PX=Gv,DX=kn,MX=$v,RX=Pv,LX=za,IX=d2;function $X(t,e,r){var n=DX(t),a=n||MX(t)||IX(t);if(e=kX(e),r==null){var i=t&&t.constructor;a?r=n?new i:[]:LX(t)?r=RX(i)?CX(PX(t)):{}:r={}}return(a?OX:TX)(t,function(s,o,c){return e(r,s,o,c)}),r}var FX=$X;const BX=Ct(FX);var UX={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(Ma,function(){return function(r,n,a){n.prototype.isBetween=function(i,s,o,c){var u=a(i),d=a(s),f=(c=c||"()")[0]==="(",h=c[1]===")";return(f?this.isAfter(u,o):!this.isBefore(u,o))&&(h?this.isBefore(d,o):!this.isAfter(d,o))||(f?this.isBefore(u,o):!this.isAfter(u,o))&&(h?this.isAfter(d,o):!this.isBefore(d,o))}}})})(UX);var zX={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(Ma,function(){return function(r,n){n.prototype.isSameOrAfter=function(a,i){return this.isSame(a,i)||this.isAfter(a,i)}}})})(zX);var WX={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(Ma,function(){return function(r,n){n.prototype.isSameOrBefore=function(a,i){return this.isSame(a,i)||this.isBefore(a,i)}}})})(WX);var HX={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(Ma,function(){return function(r,n,a){var i=n.prototype,s=function(f){return f&&(f.indexOf?f:f.s)},o=function(f,h,p,g,m){var y=f.name?f:f.$locale(),b=s(y[h]),x=s(y[p]),N=b||x.map(function(w){return w.slice(0,g)});if(!m)return N;var A=y.weekStart;return N.map(function(w,j){return N[(j+(A||0))%7]})},c=function(){return a.Ls[a.locale()]},u=function(f,h){return f.formats[h]||function(p){return p.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(g,m,y){return m||y.slice(1)})}(f.formats[h.toUpperCase()])},d=function(){var f=this;return{months:function(h){return h?h.format("MMMM"):o(f,"months")},monthsShort:function(h){return h?h.format("MMM"):o(f,"monthsShort","months",3)},firstDayOfWeek:function(){return f.$locale().weekStart||0},weekdays:function(h){return h?h.format("dddd"):o(f,"weekdays")},weekdaysMin:function(h){return h?h.format("dd"):o(f,"weekdaysMin","weekdays",2)},weekdaysShort:function(h){return h?h.format("ddd"):o(f,"weekdaysShort","weekdays",3)},longDateFormat:function(h){return u(f.$locale(),h)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};i.localeData=function(){return d.bind(this)()},a.localeData=function(){var f=c();return{firstDayOfWeek:function(){return f.weekStart||0},weekdays:function(){return a.weekdays()},weekdaysShort:function(){return a.weekdaysShort()},weekdaysMin:function(){return a.weekdaysMin()},months:function(){return a.months()},monthsShort:function(){return a.monthsShort()},longDateFormat:function(h){return u(f,h)},meridiem:f.meridiem,ordinal:f.ordinal}},a.months=function(){return o(c(),"months")},a.monthsShort=function(){return o(c(),"monthsShort","months",3)},a.weekdays=function(f){return o(c(),"weekdays",null,null,f)},a.weekdaysShort=function(f){return o(c(),"weekdaysShort","weekdays",3,f)},a.weekdaysMin=function(f){return o(c(),"weekdaysMin","weekdays",2,f)}}})})(HX);var qX={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(Ma,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(n,a,i){var s=a.prototype,o=s.format;i.en.formats=r,s.format=function(c){c===void 0&&(c="YYYY-MM-DDTHH:mm:ssZ");var u=this.$locale().formats,d=function(f,h){return f.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(p,g,m){var y=m&&m.toUpperCase();return g||h[m]||r[m]||h[y].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(b,x,N){return x||N.slice(1)})})}(c,u===void 0?{}:u);return o.call(this,d)}}})})(qX);var GX={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(Ma,function(){return function(r,n,a){var i=function(s,o){if(!o||!o.length||o.length===1&&!o[0]||o.length===1&&Array.isArray(o[0])&&!o[0].length)return null;var c;o.length===1&&o[0].length>0&&(o=o[0]),c=(o=o.filter(function(d){return d}))[0];for(var u=1;u<o.length;u+=1)o[u].isValid()&&!o[u][s](c)||(c=o[u]);return c};a.max=function(){var s=[].slice.call(arguments,0);return i("isAfter",s)},a.min=function(){var s=[].slice.call(arguments,0);return i("isBefore",s)}}})})(GX);var VX={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(Ma,function(){var r="minute",n=/[+-]\d\d(?::?\d\d)?/g,a=/([+-]|\d\d)/g;return function(i,s,o){var c=s.prototype;o.utc=function(m){var y={date:m,utc:!0,args:arguments};return new s(y)},c.utc=function(m){var y=o(this.toDate(),{locale:this.$L,utc:!0});return m?y.add(this.utcOffset(),r):y},c.local=function(){return o(this.toDate(),{locale:this.$L,utc:!1})};var u=c.parse;c.parse=function(m){m.utc&&(this.$u=!0),this.$utils().u(m.$offset)||(this.$offset=m.$offset),u.call(this,m)};var d=c.init;c.init=function(){if(this.$u){var m=this.$d;this.$y=m.getUTCFullYear(),this.$M=m.getUTCMonth(),this.$D=m.getUTCDate(),this.$W=m.getUTCDay(),this.$H=m.getUTCHours(),this.$m=m.getUTCMinutes(),this.$s=m.getUTCSeconds(),this.$ms=m.getUTCMilliseconds()}else d.call(this)};var f=c.utcOffset;c.utcOffset=function(m,y){var b=this.$utils().u;if(b(m))return this.$u?0:b(this.$offset)?f.call(this):this.$offset;if(typeof m=="string"&&(m=function(w){w===void 0&&(w="");var j=w.match(n);if(!j)return null;var E=(""+j[0]).match(a)||["-",0,0],O=E[0],k=60*+E[1]+ +E[2];return k===0?0:O==="+"?k:-k}(m),m===null))return this;var x=Math.abs(m)<=16?60*m:m,N=this;if(y)return N.$offset=x,N.$u=m===0,N;if(m!==0){var A=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(N=this.local().add(x+A,r)).$offset=x,N.$x.$localOffset=A}else N=this.utc();return N};var h=c.format;c.format=function(m){var y=m||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return h.call(this,y)},c.valueOf=function(){var m=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*m},c.isUTC=function(){return!!this.$u},c.toISOString=function(){return this.toDate().toISOString()},c.toString=function(){return this.toDate().toUTCString()};var p=c.toDate;c.toDate=function(m){return m==="s"&&this.$offset?o(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():p.call(this)};var g=c.diff;c.diff=function(m,y,b){if(m&&this.$u===m.$u)return g.call(this,m,y,b);var x=this.local(),N=o(m).local();return g.call(x,N,y,b)}}})})(VX);var YX={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(Ma,function(){return function(r,n){n.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}})})(YX);function Fi(t){return t.children}var na={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},Fn={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},dj=Object.keys(Fn).map(function(t){return Fn[t]});_e.oneOfType([_e.string,_e.func]);_e.any;_e.func;_e.oneOfType([_e.arrayOf(_e.oneOf(dj)),_e.objectOf(function(t,e){var r=dj.indexOf(e)!==-1&&typeof t[e]=="boolean";if(r)return null;for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];return _e.elementType.apply(_e,[t,e].concat(a))})]);_e.oneOfType([_e.oneOf(["overlap","no-overlap"]),_e.func]);var fj={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function Dk(t,e){var r=pn(t,"month");return pn(r,"week",e.startOfWeek())}function Mk(t,e){var r=Qm(t,"month");return Qm(r,"week",e.startOfWeek())}function KX(t,e){for(var r=Dk(t,e),n=Mk(t,e),a=[];Xu(r,n,"day");)a.push(r),r=vi(r,1,"day");return a}function XX(t,e){var r=pn(t,e);return Ku(r,t)?r:vi(r,1,e)}function ZX(t,e){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",n=t,a=[];Xu(n,e,r);)a.push(n),n=vi(n,1,r);return a}function QX(t,e){return e==null&&t==null?null:(e==null&&(e=new Date),t==null&&(t=new Date),t=pn(t,"day"),t=qf(t,qf(e)),t=hu(t,hu(e)),t=Hf(t,Hf(e)),Wf(t,Wf(e)))}function hj(t){return qf(t)===0&&hu(t)===0&&Hf(t)===0&&Wf(t)===0}function JX(t,e,r,n){return r==="day"&&(r="date"),Math.abs(KS[r](t,void 0,n)-KS[r](e,void 0,n))}function w2(t,e,r){return!r||r==="milliseconds"?Math.abs(+t-+e):Math.round(Math.abs(+pn(t,r)/fj[r]-+pn(e,r)/fj[r]))}var eZ=_e.oneOfType([_e.string,_e.func]);function tZ(t,e,r,n,a){var i=typeof n=="function"?n(r,a,t):e.call(t,r,n,a);return If(i==null||typeof i=="string","`localizer format(..)` must return a string, null, or undefined"),i}function rZ(t,e,r){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,e+r,0,0)}function S2(t,e){return t.getTimezoneOffset()-e.getTimezoneOffset()}function nZ(t,e){return w2(t,e,"minutes")+S2(t,e)}function aZ(t){var e=pn(t,"day");return w2(e,t,"minutes")+S2(e,t)}function iZ(t,e){return Uw(t,e,"day")}function sZ(t,e,r){var n=Ku(t,e,"minutes");return n?qh(e,r,"minutes"):kv(e,r,"minutes")}function jx(t,e){return JX(t,e,"day")}function oZ(t){var e=t.evtA,r=e.start,n=e.end,a=e.allDay,i=t.evtB,s=i.start,o=i.end,c=i.allDay,u=+pn(r,"day")-+pn(s,"day"),d=jx(r,n),f=jx(s,o);return u||f-d||!!c-!!a||+r-+s||+n-+o}function lZ(t){var e=t.event,r=e.start,n=e.end,a=t.range,i=a.start,s=a.end,o=pn(r,"day"),c=Xu(o,s,"day"),u=Bw(o,n,"minutes"),d=u?kv(n,i,"minutes"):qh(n,i,"minutes");return c&&d}function cZ(t,e){return Ku(t,e,"day")}function uZ(t,e){return hj(t)&&hj(e)}var dZ=Qr(function t(e){var r=this;Zr(this,t),If(typeof e.format=="function","date localizer `format(..)` must be a function"),If(typeof e.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=e.propType||eZ,this.formats=e.formats,this.format=function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return tZ.apply(void 0,[r,e.format].concat(a))},this.startOfWeek=e.firstOfWeek,this.merge=e.merge||QX,this.inRange=e.inRange||yT,this.lt=e.lt||Uw,this.lte=e.lte||Xu,this.gt=e.gt||kv,this.gte=e.gte||qh,this.eq=e.eq||Ku,this.neq=e.neq||Bw,this.startOf=e.startOf||pn,this.endOf=e.endOf||Qm,this.add=e.add||vi,this.range=e.range||ZX,this.diff=e.diff||w2,this.ceil=e.ceil||XX,this.min=e.min||gT,this.max=e.max||vT,this.minutes=e.minutes||hu,this.daySpan=e.daySpan||jx,this.firstVisibleDay=e.firstVisibleDay||Dk,this.lastVisibleDay=e.lastVisibleDay||Mk,this.visibleDays=e.visibleDays||KX,this.getSlotDate=e.getSlotDate||rZ,this.getTimezoneOffset=e.getTimezoneOffset||function(n){return n.getTimezoneOffset()},this.getDstOffset=e.getDstOffset||S2,this.getTotalMin=e.getTotalMin||nZ,this.getMinutesFromMidnight=e.getMinutesFromMidnight||aZ,this.continuesPrior=e.continuesPrior||iZ,this.continuesAfter=e.continuesAfter||sZ,this.sortEvents=e.sortEvents||oZ,this.inEventRange=e.inEventRange||lZ,this.isSameDate=e.isSameDate||cZ,this.startAndEndAreDateOnly=e.startAndEndAreDateOnly||uZ,this.segmentOffset=e.browserTZOffset?e.browserTZOffset():0});function fZ(t,e,r,n){var a=tr(tr({},t.formats),r);return tr(tr({},t),{},{messages:n,startOfWeek:function(){return t.startOfWeek(e)},format:function(s,o){return t.format(s,a[o]||o,e)}})}var hZ=function(t){function e(){var r;Zr(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Cn(this,e,[].concat(a)),r.navigate=function(s){r.props.onNavigate(s)},r.view=function(s){r.props.onView(s)},r}return Tn(e,t),Qr(e,[{key:"render",value:function(){var n=this.props,a=n.localizer.messages,i=n.label;return z.createElement("div",{className:"rbc-toolbar"},z.createElement("span",{className:"rbc-btn-group"},z.createElement("button",{type:"button",onClick:this.navigate.bind(null,na.TODAY)},a.today),z.createElement("button",{type:"button",onClick:this.navigate.bind(null,na.PREVIOUS)},a.previous),z.createElement("button",{type:"button",onClick:this.navigate.bind(null,na.NEXT)},a.next)),z.createElement("span",{className:"rbc-toolbar-label"},i),z.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(a)))}},{key:"viewNamesGroup",value:function(n){var a=this,i=this.props.views,s=this.props.view;if(i.length>1)return i.map(function(o){return z.createElement("button",{type:"button",key:o,className:Cr({"rbc-active":s===o}),onClick:a.view.bind(null,o)},n[o])})}}])}(z.Component);function hr(t,e){t&&t.apply(null,[].concat(e))}var pZ={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(e){return"+".concat(e," more")}};function mZ(t){return tr(tr({},pZ),t)}function gZ(t){var e=t.ref,r=t.callback;R.useEffect(function(){var n=function(i){e.current&&!e.current.contains(i.target)&&r()};return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}},[e,r])}var vZ=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],Rk=function(t){function e(){return Zr(this,e),Cn(this,e,arguments)}return Tn(e,t),Qr(e,[{key:"render",value:function(){var n=this.props,a=n.style,i=n.className,s=n.event,o=n.selected,c=n.isAllDay,u=n.onSelect,d=n.onDoubleClick,f=n.onKeyPress,h=n.localizer,p=n.continuesPrior,g=n.continuesAfter,m=n.accessors,y=n.getters,b=n.children,x=n.components,N=x.event,A=x.eventWrapper,w=n.slotStart,j=n.slotEnd,E=Ji(n,vZ);delete E.resizable;var O=m.title(s),k=m.tooltip(s),L=m.end(s),C=m.start(s),P=m.allDay(s),I=c||P||h.diff(C,h.ceil(L,"day"),"day")>1,M=y.eventProp(s,C,L,o),H=z.createElement("div",{className:"rbc-event-content",title:k||void 0},N?z.createElement(N,{event:s,continuesPrior:p,continuesAfter:g,title:O,isAllDay:P,localizer:h,slotStart:w,slotEnd:j}):O);return z.createElement(A,Object.assign({},this.props,{type:"date"}),z.createElement("div",Object.assign({},E,{style:tr(tr({},M.style),a),className:Cr("rbc-event",i,M.className,{"rbc-selected":o,"rbc-event-allday":I,"rbc-event-continues-prior":p,"rbc-event-continues-after":g}),onClick:function(F){return u&&u(s,F)},onDoubleClick:function(F){return d&&d(s,F)},onKeyDown:function(F){return f&&f(s,F)}}),typeof b=="function"?b(H):H))}}])}(z.Component);function Vv(t,e){return!t||e==null?!1:Il(t,e)}function Lk(t,e){var r=t.right-t.left,n=r/e;return n}function Ik(t,e,r,n){var a=Lk(t,n);return r?n-1-Math.floor((e-t.left)/a):Math.floor((e-t.left)/a)}function yZ(t,e){var r=e.x,n=e.y;return n>=t.top&&n<=t.bottom&&r>=t.left&&r<=t.right}function bZ(t,e,r,n,a){var i=-1,s=-1,o=n-1,c=Lk(e,n),u=Ik(e,r.x,a,n),d=e.top<r.y&&e.bottom>r.y,f=e.top<t.y&&e.bottom>t.y,h=t.y>e.bottom,p=e.top>t.y,g=r.top<e.top&&r.bottom>e.bottom;return g&&(i=0,s=o),d&&(p?(i=0,s=u):h&&(i=u,s=o)),f&&(i=s=a?o-Math.floor((t.x-e.left)/c):Math.floor((t.x-e.left)/c),d?u<i?i=u:s=u:t.y<r.y?s=o:i=0),{startIdx:i,endIdx:s}}function xZ(t){var e=t.target,r=t.offset,n=t.container,a=t.box,i=wl(e),s=i.top,o=i.left,c=i.width,u=i.height,d=wl(n),f=d.top,h=d.left,p=d.width,g=d.height,m=wl(a),y=m.width,b=m.height,x=f+g,N=h+p,A=s+b,w=o+y,j=r.x,E=r.y,O=A>x?s-b-E:s+E+u,k=w>N?o+j-y+c:o+j;return{topOffset:O,leftOffset:k}}function wZ(t){var e=t.containerRef,r=t.accessors,n=t.getters,a=t.selected,i=t.components,s=t.localizer,o=t.position,c=t.show,u=t.events,d=t.slotStart,f=t.slotEnd,h=t.onSelect,p=t.onDoubleClick,g=t.onKeyPress,m=t.handleDragStart,y=t.popperRef,b=t.target,x=t.offset;gZ({ref:y,callback:c}),R.useLayoutEffect(function(){var w=xZ({target:b,offset:x,container:e.current,box:y.current}),j=w.topOffset,E=w.leftOffset;y.current.style.top="".concat(j,"px"),y.current.style.left="".concat(E,"px")},[x.x,x.y,b]);var N=o.width,A={minWidth:N+N/2};return z.createElement("div",{style:A,className:"rbc-overlay",ref:y},z.createElement("div",{className:"rbc-overlay-header"},s.format(d,"dayHeaderFormat")),u.map(function(w,j){return z.createElement(Rk,{key:j,type:"popup",localizer:s,event:w,getters:n,onSelect:h,accessors:r,components:i,onDoubleClick:p,onKeyPress:g,continuesPrior:s.lt(r.end(w),d,"day"),continuesAfter:s.gte(r.start(w),f,"day"),slotStart:d,slotEnd:f,selected:Vv(w,a),draggable:!0,onDragStart:function(){return m(w)},onDragEnd:function(){return c()}})}))}var $k=z.forwardRef(function(t,e){return z.createElement(wZ,Object.assign({},t,{popperRef:e}))});$k.propTypes={accessors:_e.object.isRequired,getters:_e.object.isRequired,selected:_e.object,components:_e.object.isRequired,localizer:_e.object.isRequired,position:_e.object.isRequired,show:_e.func.isRequired,events:_e.array.isRequired,slotStart:_e.instanceOf(Date).isRequired,slotEnd:_e.instanceOf(Date),onSelect:_e.func,onDoubleClick:_e.func,onKeyPress:_e.func,handleDragStart:_e.func,style:_e.object,offset:_e.shape({x:_e.number,y:_e.number})};function SZ(t){var e=t.containerRef,r=t.popupOffset,n=r===void 0?5:r,a=t.overlay,i=t.accessors,s=t.localizer,o=t.components,c=t.getters,u=t.selected,d=t.handleSelectEvent,f=t.handleDoubleClickEvent,h=t.handleKeyPressEvent,p=t.handleDragStart,g=t.onHide,m=t.overlayDisplay,y=R.useRef(null);if(!a.position)return null;var b=n;isNaN(n)||(b={x:n,y:n});var x=a.position,N=a.events,A=a.date,w=a.end;return z.createElement(r2,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:g,target:a.target},function(j){var E=j.props;return z.createElement($k,Object.assign({},E,{containerRef:e,ref:y,target:a.target,offset:b,accessors:i,getters:c,selected:u,components:o,localizer:s,position:x,show:m,events:N,slotStart:A,slotEnd:w,onSelect:d,onDoubleClick:f,onKeyPress:h,handleDragStart:p}))})}var N2=z.forwardRef(function(t,e){return z.createElement(SZ,Object.assign({},t,{containerRef:e}))});N2.propTypes={popupOffset:_e.oneOfType([_e.number,_e.shape({x:_e.number,y:_e.number})]),overlay:_e.shape({position:_e.object,events:_e.array,date:_e.instanceOf(Date),end:_e.instanceOf(Date)}),accessors:_e.object.isRequired,localizer:_e.object.isRequired,components:_e.object.isRequired,getters:_e.object.isRequired,selected:_e.object,handleSelectEvent:_e.func,handleDoubleClickEvent:_e.func,handleKeyPressEvent:_e.func,handleDragStart:_e.func,onHide:_e.func,overlayDisplay:_e.func};function yn(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return gf(r,t,e,{passive:!1})}function NZ(t,e,r){return!t||Gf(t,document.elementFromPoint(e,r))}function jZ(t,e){var r=e.clientX,n=e.clientY,a=document.elementFromPoint(r,n);return rk(a,".rbc-event",t)}function AZ(t,e){var r=e.clientX,n=e.clientY,a=document.elementFromPoint(r,n);return rk(a,".rbc-show-more",t)}function ig(t,e){return!!jZ(t,e)}function _Z(t,e){return!!AZ(t,e)}function Qd(t){var e=t;return t.touches&&t.touches.length&&(e=t.touches[0]),{clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY}}var pj=5,EZ=250,Fk=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.global,a=n===void 0?!1:n,i=r.longPressThreshold,s=i===void 0?250:i,o=r.validContainers,c=o===void 0?[]:o;Zr(this,t),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=e,this.globalMouse=!e||a,this.longPressThreshold=s,this.validContainers=c,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=yn("touchmove",function(){},window),this._removeKeyDownListener=yn("keydown",this._keyListener),this._removeKeyUpListener=yn("keyup",this._keyListener),this._removeDropFromOutsideListener=yn("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=yn("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return Qr(t,[{key:"on",value:function(r,n){var a=this._listeners[r]||(this._listeners[r]=[]);return a.push(n),{remove:function(){var s=a.indexOf(n);s!==-1&&a.splice(s,1)}}}},{key:"emit",value:function(r){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];var s,o=this._listeners[r]||[];return o.forEach(function(c){s===void 0&&(s=c.apply(void 0,a))}),s}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(r){var n=this._selectRect;return!n||!this.selecting?!1:mj(n,$l(r))}},{key:"filter",value:function(r){var n=this._selectRect;return!n||!this.selecting?[]:r.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(r,n){var a=this,i=null,s=null,o=null,c=function(h){i=setTimeout(function(){d(),r(h)},a.longPressThreshold),s=yn("touchmove",function(){return d()}),o=yn("touchend",function(){return d()})},u=yn("touchstart",c),d=function(){i&&clearTimeout(i),s&&s(),o&&o(),i=null,s=null,o=null};return n&&c(n),function(){d(),u()}}},{key:"_addInitialEventListener",value:function(){var r=this,n=yn("mousedown",function(i){r._removeInitialEventListener(),r._handleInitialEvent(i),r._removeInitialEventListener=yn("mousedown",r._handleInitialEvent)}),a=yn("touchstart",function(i){r._removeInitialEventListener(),r._removeInitialEventListener=r._addLongPressListener(r._handleInitialEvent,i)});this._removeInitialEventListener=function(){n(),a()}}},{key:"_dropFromOutsideListener",value:function(r){var n=Qd(r),a=n.pageX,i=n.pageY,s=n.clientX,o=n.clientY;this.emit("dropFromOutside",{x:a,y:i,clientX:s,clientY:o}),r.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(r){var n=Qd(r),a=n.pageX,i=n.pageY,s=n.clientX,o=n.clientY;this.emit("dragOverFromOutside",{x:a,y:i,clientX:s,clientY:o}),r.preventDefault()}},{key:"_handleInitialEvent",value:function(r){if(this._initialEvent=r,!this.isDetached){var n=Qd(r),a=n.clientX,i=n.clientY,s=n.pageX,o=n.pageY,c=this.container(),u,d;if(!(r.which===3||r.button===2||!NZ(c,a,i))){if(!this.globalMouse&&c&&!Gf(c,r.target)){var f=OZ(0),h=f.top,p=f.left,g=f.bottom,m=f.right;if(d=$l(c),u=mj({top:d.top-h,left:d.left-p,bottom:d.bottom+g,right:d.right+m},{top:o,left:s}),!u)return}var y=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(r.type),x:s,y:o,clientX:a,clientY:i});if(y!==!1)switch(r.type){case"mousedown":this._removeEndListener=yn("mouseup",this._handleTerminatingEvent),this._onEscListener=yn("keydown",this._handleTerminatingEvent),this._removeMoveListener=yn("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(r),this._removeEndListener=yn("touchend",this._handleTerminatingEvent),this._removeMoveListener=yn("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(r){var n=r.target,a=this.validContainers;return!a||!a.length||!n?!0:a.some(function(i){return!!n.closest(i)})}},{key:"_handleTerminatingEvent",value:function(r){var n=this.selecting,a=this._selectRect;if(!n&&r.type.includes("key")&&(r=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!r){var i=!this.container||Gf(this.container(),r.target),s=this._isWithinValidContainer(r);return r.key==="Escape"||!s?this.emit("reset"):!n&&i?this._handleClickEvent(r):n?this.emit("select",a):this.emit("reset")}}},{key:"_handleClickEvent",value:function(r){var n=Qd(r),a=n.pageX,i=n.pageY,s=n.clientX,o=n.clientY,c=new Date().getTime();return this._lastClickData&&c-this._lastClickData.timestamp<EZ?(this._lastClickData=null,this.emit("doubleClick",{x:a,y:i,clientX:s,clientY:o})):(this._lastClickData={timestamp:c},this.emit("click",{x:a,y:i,clientX:s,clientY:o}))}},{key:"_handleMoveEvent",value:function(r){if(!(this._initialEventData===null||this.isDetached)){var n=this._initialEventData,a=n.x,i=n.y,s=Qd(r),o=s.pageX,c=s.pageY,u=Math.abs(a-o),d=Math.abs(i-c),f=Math.min(o,a),h=Math.min(c,i),p=this.selecting,g=this.isClick(o,c);g&&!p&&!(u||d)||(!p&&!g&&this.emit("selectStart",this._initialEventData),g||(this.selecting=!0,this._selectRect={top:h,left:f,x:o,y:c,right:f+u,bottom:h+d},this.emit("selecting",this._selectRect)),r.preventDefault())}}},{key:"_keyListener",value:function(r){this.ctrl=r.metaKey||r.ctrlKey}},{key:"isClick",value:function(r,n){var a=this._initialEventData,i=a.x,s=a.y,o=a.isTouch;return!o&&Math.abs(r-i)<=pj&&Math.abs(n-s)<=pj}}])}();function OZ(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return Ot(t)!=="object"&&(t={top:t,left:t,right:t,bottom:t}),t}function mj(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=$l(t),a=n.top,i=n.left,s=n.right,o=s===void 0?i:s,c=n.bottom,u=c===void 0?a:c,d=$l(e),f=d.top,h=d.left,p=d.right,g=p===void 0?h:p,m=d.bottom,y=m===void 0?f:m;return!(u-r<f||a+r>y||o-r<h||i+r>g)}function $l(t){if(!t.getBoundingClientRect)return t;var e=t.getBoundingClientRect(),r=e.left+gj("left"),n=e.top+gj("top");return{top:n,left:r,right:(t.offsetWidth||0)+r,bottom:(t.offsetHeight||0)+n}}function gj(t){if(t==="left")return window.pageXOffset||document.body.scrollLeft||0;if(t==="top")return window.pageYOffset||document.body.scrollTop||0}var CZ=function(t){function e(r,n){var a;return Zr(this,e),a=Cn(this,e,[r,n]),a.state={selecting:!1},a.containerRef=R.createRef(),a}return Tn(e,t),Qr(e,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(n){!n.selectable&&this.props.selectable&&this._selectable(),n.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var n=this.props,a=n.range,i=n.getNow,s=n.getters,o=n.date,c=n.components.dateCellWrapper,u=n.localizer,d=this.state,f=d.selecting,h=d.startIdx,p=d.endIdx,g=i();return z.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},a.map(function(m,y){var b=f&&y>=h&&y<=p,x=s.dayProp(m),N=x.className,A=x.style;return z.createElement(c,{key:y,value:m,range:a},z.createElement("div",{style:A,className:Cr("rbc-day-bg",N,b&&"rbc-selected-cell",u.isSameDate(m,g)&&"rbc-today",o&&u.neq(o,m,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var n=this,a=this.containerRef.current,i=this._selector=new Fk(this.props.container,{longPressThreshold:this.props.longPressThreshold}),s=function(c,u){if(!ig(a,c)&&!_Z(a,c)){var d=$l(a),f=n.props,h=f.range,p=f.rtl;if(yZ(d,c)){var g=Ik(d,c.x,p,h.length);n._selectSlot({startIdx:g,endIdx:g,action:u,box:c})}}n._initial={},n.setState({selecting:!1})};i.on("selecting",function(o){var c=n.props,u=c.range,d=c.rtl,f=-1,h=-1;if(n.state.selecting||(hr(n.props.onSelectStart,[o]),n._initial={x:o.x,y:o.y}),i.isSelected(a)){var p=$l(a),g=bZ(n._initial,p,o,u.length,d);f=g.startIdx,h=g.endIdx}n.setState({selecting:!0,startIdx:f,endIdx:h})}),i.on("beforeSelect",function(o){if(n.props.selectable==="ignoreEvents")return!ig(n.containerRef.current,o)}),i.on("click",function(o){return s(o,"click")}),i.on("doubleClick",function(o){return s(o,"doubleClick")}),i.on("select",function(o){n._selectSlot(tr(tr({},n.state),{},{action:"select",bounds:o})),n._initial={},n.setState({selecting:!1}),hr(n.props.onSelectEnd,[n.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(n){var a=n.endIdx,i=n.startIdx,s=n.action,o=n.bounds,c=n.box;a!==-1&&i!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:i,end:a,action:s,bounds:o,box:c,resourceId:this.props.resourceId})}}])}(z.Component),Ta={propTypes:{slotMetrics:_e.object.isRequired,selected:_e.object,isAllDay:_e.bool,accessors:_e.object.isRequired,localizer:_e.object.isRequired,components:_e.object.isRequired,getters:_e.object.isRequired,onSelect:_e.func,onDoubleClick:_e.func,onKeyPress:_e.func},defaultProps:{segments:[],selected:{}},renderEvent:function(e,r){var n=e.selected;e.isAllDay;var a=e.accessors,i=e.getters,s=e.onSelect,o=e.onDoubleClick,c=e.onKeyPress,u=e.localizer,d=e.slotMetrics,f=e.components,h=e.resizable,p=d.continuesPrior(r),g=d.continuesAfter(r);return z.createElement(Rk,{event:r,getters:i,localizer:u,accessors:a,components:f,onSelect:s,onDoubleClick:o,onKeyPress:c,continuesPrior:p,continuesAfter:g,slotStart:d.first,slotEnd:d.last,selected:Vv(r,n),resizable:h})},renderSpan:function(e,r,n){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",i=Math.abs(r)/e*100+"%";return z.createElement("div",{key:n,className:"rbc-row-segment",style:{WebkitFlexBasis:i,flexBasis:i,maxWidth:i}},a)}},Bk=function(t){function e(){return Zr(this,e),Cn(this,e,arguments)}return Tn(e,t),Qr(e,[{key:"render",value:function(){var n=this,a=this.props,i=a.segments,s=a.slotMetrics.slots,o=a.className,c=1;return z.createElement("div",{className:Cr(o,"rbc-row")},i.reduce(function(u,d,f){var h=d.event,p=d.left,g=d.right,m=d.span,y="_lvl_"+f,b=p-c,x=Ta.renderEvent(n.props,h);return b&&u.push(Ta.renderSpan(s,b,"".concat(y,"_gap"))),u.push(Ta.renderSpan(s,m,y,x)),c=g+1,u},[]))}}])}(z.Component);Bk.defaultProps=tr({},Ta.defaultProps);function Uk(t){var e=t.dateRange,r=t.unit,n=r===void 0?"day":r,a=t.localizer;return{first:e[0],last:a.add(e[e.length-1],1,n)}}function TZ(t,e,r,n){var a=Uk({dateRange:e,localizer:n}),i=a.first,s=a.last,o=n.diff(i,s,"day"),c=n.max(n.startOf(r.start(t),"day"),i),u=n.min(n.ceil(r.end(t),"day"),s),d=FH(e,function(h){return n.isSameDate(h,c)}),f=n.diff(c,u,"day");return f=Math.min(f,o),f=Math.max(f-n.segmentOffset,1),{event:t,span:f,left:d+1,right:Math.max(d+f,1)}}function Ax(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,r,n,a,i=[],s=[];for(r=0;r<t.length;r++){for(a=t[r],n=0;n<i.length&&kZ(a,i[n]);n++);n>=e?s.push(a):(i[n]||(i[n]=[])).push(a)}for(r=0;r<i.length;r++)i[r].sort(function(o,c){return o.left-c.left});return{levels:i,extra:s}}function Xf(t,e,r,n,a){var i={start:n.start(t),end:n.end(t)},s={start:e,end:r};return a.inEventRange({event:i,range:s})}function kZ(t,e){return e.some(function(r){return r.left<=t.right&&r.right>=t.left})}function PZ(t,e,r){var n=Dm(t),a=[],i=[];n.forEach(function(c){var u=e.start(c),d=e.end(c);r.daySpan(u,d)>1?a.push(c):i.push(c)});var s=a.sort(function(c,u){return _x(c,u,e,r)}),o=i.sort(function(c,u){return _x(c,u,e,r)});return[].concat(Dm(s),Dm(o))}function _x(t,e,r,n){var a={start:r.start(t),end:r.end(t),allDay:r.allDay(t)},i={start:r.start(e),end:r.end(e),allDay:r.allDay(e)};return n.sortEvents({evtA:a,evtB:i})}var Ex=function(e,r){return e.left<=r&&e.right>=r},rb=function(e,r){return e.filter(function(n){return Ex(n,r)}).map(function(n){return n.event})},zk=function(t){function e(){return Zr(this,e),Cn(this,e,arguments)}return Tn(e,t),Qr(e,[{key:"render",value:function(){for(var n=this.props,a=n.segments,i=n.slotMetrics.slots,s=Ax(a).levels[0],o=1,c=1,u=[];o<=i;){var d="_lvl_"+o,f=s.filter(function(A){return Ex(A,o)})[0]||{},h=f.event,p=f.left,g=f.right,m=f.span;if(!h){var y=this.getHiddenEventsForSlot(a,o);if(y.length>0){var b=o-c;b&&u.push(Ta.renderSpan(i,b,d+"_gap")),u.push(Ta.renderSpan(i,1,d,this.renderShowMore(a,o))),c=o=o+1;continue}o++;continue}var x=Math.max(0,p-c);if(this.canRenderSlotEvent(p,m)){var N=Ta.renderEvent(this.props,h);x&&u.push(Ta.renderSpan(i,x,d+"_gap")),u.push(Ta.renderSpan(i,m,d,N)),c=o=g+1}else x&&u.push(Ta.renderSpan(i,x,d+"_gap")),u.push(Ta.renderSpan(i,1,d,this.renderShowMore(a,o))),c=o=o+1}return z.createElement("div",{className:"rbc-row"},u)}},{key:"getHiddenEventsForSlot",value:function(n,a){var i=rb(n,a),s=Ax(n).levels[0],o=s.filter(function(c){return Ex(c,a)}).map(function(c){return c.event});return i.filter(function(c){return!o.some(function(u){return u===c})})}},{key:"canRenderSlotEvent",value:function(n,a){var i=this.props.segments;return Kf(n,n+a).every(function(s){var o=rb(i,s).length;return o===1})}},{key:"renderShowMore",value:function(n,a){var i=this,s=this.props,o=s.localizer,c=s.slotMetrics,u=s.components,d=c.getEventsForSlot(a),f=rb(n,a),h=f.length;if(u!=null&&u.showMore){var p=u.showMore,g=c.getDateForSlot(a-1);return h?z.createElement(p,{localizer:o,slotDate:g,slot:a,count:h,events:d,remainingEvents:f}):!1}return h?z.createElement("button",{type:"button",key:"sm_"+a,className:Cr("rbc-button-link","rbc-show-more"),onClick:function(y){return i.showMore(a,y)}},o.messages.showMore(h,f,d)):!1}},{key:"showMore",value:function(n,a){a.preventDefault(),a.stopPropagation(),this.props.onShowMore(n,a.target)}}])}(z.Component);zk.defaultProps=tr({},Ta.defaultProps);var DZ=function(e){var r=e.children;return z.createElement("div",{className:"rbc-row-content-scroll-container"},r)},MZ=function(e,r){return e.left<=r&&e.right>=r},RZ=function(e,r){return e[0].range===r[0].range&&e[0].events===r[0].events};function Wk(){return fk(function(t){for(var e=t.range,r=t.events,n=t.maxRows,a=t.minRows,i=t.accessors,s=t.localizer,o=Uk({dateRange:e,localizer:s}),c=o.first,u=o.last,d=r.map(function(m){return TZ(m,e,i,s)}),f=Ax(d,Math.max(n-1,1)),h=f.levels,p=f.extra,g=p.length>0?a-1:a;h.length<g;)h.push([]);return{first:c,last:u,levels:h,extra:p,range:e,slots:e.length,clone:function(y){var b=Wk();return b(tr(tr({},t),y))},getDateForSlot:function(y){return e[y]},getSlotForDate:function(y){return e.find(function(b){return s.isSameDate(b,y)})},getEventsForSlot:function(y){return d.filter(function(b){return MZ(b,y)}).map(function(b){return b.event})},continuesPrior:function(y){return s.continuesPrior(i.start(y),c)},continuesAfter:function(y){var b=i.start(y),x=i.end(y);return s.continuesAfter(b,x,u)}}},RZ)}var Zf=function(t){function e(){var r;Zr(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Cn(this,e,[].concat(a)),r.handleSelectSlot=function(s){var o=r.props,c=o.range,u=o.onSelectSlot;u(c.slice(s.start,s.end+1),s)},r.handleShowMore=function(s,o){var c=r.props,u=c.range,d=c.onShowMore,f=r.slotMetrics(r.props),h=K$(r.containerRef.current,".rbc-row-bg")[0],p;h&&(p=h.children[s-1]);var g=f.getEventsForSlot(s);d(g,u[s-1],p,s,o)},r.getContainer=function(){var s=r.props.container;return s?s():r.containerRef.current},r.renderHeadingCell=function(s,o){var c=r.props,u=c.renderHeader,d=c.getNow,f=c.localizer;return u({date:s,key:"header_".concat(o),className:Cr("rbc-date-cell",f.isSameDate(s,d())&&"rbc-now")})},r.renderDummy=function(){var s=r.props,o=s.className,c=s.range,u=s.renderHeader,d=s.showAllEvents;return z.createElement("div",{className:o,ref:r.containerRef},z.createElement("div",{className:Cr("rbc-row-content",d&&"rbc-row-content-scrollable")},u&&z.createElement("div",{className:"rbc-row",ref:r.headingRowRef},c.map(r.renderHeadingCell)),z.createElement("div",{className:"rbc-row",ref:r.eventRowRef},z.createElement("div",{className:"rbc-row-segment"},z.createElement("div",{className:"rbc-event"},z.createElement("div",{className:"rbc-event-content"},"Â "))))))},r.containerRef=R.createRef(),r.headingRowRef=R.createRef(),r.eventRowRef=R.createRef(),r.slotMetrics=Wk(),r}return Tn(e,t),Qr(e,[{key:"getRowLimit",value:function(){var n,a=J0(this.eventRowRef.current),i=(n=this.headingRowRef)!==null&&n!==void 0&&n.current?J0(this.headingRowRef.current):0,s=J0(this.containerRef.current)-i;return Math.max(Math.floor(s/a),1)}},{key:"render",value:function(){var n=this.props,a=n.date,i=n.rtl,s=n.range,o=n.className,c=n.selected,u=n.selectable,d=n.renderForMeasure,f=n.accessors,h=n.getters,p=n.components,g=n.getNow,m=n.renderHeader,y=n.onSelect,b=n.localizer,x=n.onSelectStart,N=n.onSelectEnd,A=n.onDoubleClick,w=n.onKeyPress,j=n.resourceId,E=n.longPressThreshold,O=n.isAllDay,k=n.resizable,L=n.showAllEvents;if(d)return this.renderDummy();var C=this.slotMetrics(this.props),P=C.levels,I=C.extra,M=L?DZ:Fi,H=p.weekWrapper,V={selected:c,accessors:f,getters:h,localizer:b,components:p,onSelect:y,onDoubleClick:A,onKeyPress:w,resourceId:j,slotMetrics:C,resizable:k};return z.createElement("div",{className:o,role:"rowgroup",ref:this.containerRef},z.createElement(CZ,{localizer:b,date:a,getNow:g,rtl:i,range:s,selectable:u,container:this.getContainer,getters:h,onSelectStart:x,onSelectEnd:N,onSelectSlot:this.handleSelectSlot,components:p,longPressThreshold:E,resourceId:j}),z.createElement("div",{className:Cr("rbc-row-content",L&&"rbc-row-content-scrollable"),role:"row"},m&&z.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},s.map(this.renderHeadingCell)),z.createElement(M,null,z.createElement(H,Object.assign({isAllDay:O},V,{rtl:this.props.rtl}),P.map(function(F,X){return z.createElement(Bk,Object.assign({key:X,segments:F},V))}),!!I.length&&z.createElement(zk,Object.assign({segments:I,onShowMore:this.handleShowMore},V))))))}}])}(z.Component);Zf.defaultProps={minRows:0,maxRows:1/0};var j2=function(e){var r=e.label;return z.createElement("span",{role:"columnheader","aria-sort":"none"},r)},LZ=function(e){var r=e.label,n=e.drilldownView,a=e.onDrillDown;return n?z.createElement("button",{type:"button",className:"rbc-button-link",onClick:a},r):z.createElement("span",null,r)},IZ=["date","className"],$Z=function(e,r,n,a,i){return e.filter(function(s){return Xf(s,r,n,a,i)})},Yv=function(t){function e(){var r;Zr(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Cn(this,e,[].concat(a)),r.getContainer=function(){return r.containerRef.current},r.renderWeek=function(s,o){var c=r.props,u=c.events,d=c.components,f=c.selectable,h=c.getNow,p=c.selected,g=c.date,m=c.localizer,y=c.longPressThreshold,b=c.accessors,x=c.getters,N=c.showAllEvents,A=r.state,w=A.needLimitMeasure,j=A.rowLimit,E=$Z(Dm(u),s[0],s[s.length-1],b,m),O=PZ(E,b,m);return z.createElement(Zf,{key:o,ref:o===0?r.slotRowRef:void 0,container:r.getContainer,className:"rbc-month-row",getNow:h,date:g,range:s,events:O,maxRows:N?1/0:j,selected:p,selectable:f,components:d,accessors:b,getters:x,localizer:m,renderHeader:r.readerDateHeading,renderForMeasure:w,onShowMore:r.handleShowMore,onSelect:r.handleSelectEvent,onDoubleClick:r.handleDoubleClickEvent,onKeyPress:r.handleKeyPressEvent,onSelectSlot:r.handleSelectSlot,longPressThreshold:y,rtl:r.props.rtl,resizable:r.props.resizable,showAllEvents:N})},r.readerDateHeading=function(s){var o=s.date,c=s.className,u=Ji(s,IZ),d=r.props,f=d.date,h=d.getDrilldownView,p=d.localizer,g=p.neq(f,o,"month"),m=p.isSameDate(o,f),y=h(o),b=p.format(o,"dateFormat"),x=r.props.components.dateHeader||LZ;return z.createElement("div",Object.assign({},u,{className:Cr(c,g&&"rbc-off-range",m&&"rbc-current"),role:"cell"}),z.createElement(x,{label:b,date:o,drilldownView:y,isOffRange:g,onDrillDown:function(A){return r.handleHeadingClick(o,y,A)}}))},r.handleSelectSlot=function(s,o){r._pendingSelection=r._pendingSelection.concat(s),clearTimeout(r._selectTimer),r._selectTimer=setTimeout(function(){return r.selectDates(o)})},r.handleHeadingClick=function(s,o,c){c.preventDefault(),r.clearSelection(),hr(r.props.onDrillDown,[s,o])},r.handleSelectEvent=function(){r.clearSelection();for(var s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];hr(r.props.onSelectEvent,o)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];hr(r.props.onDoubleClickEvent,o)},r.handleKeyPressEvent=function(){r.clearSelection();for(var s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];hr(r.props.onKeyPressEvent,o)},r.handleShowMore=function(s,o,c,u,d){var f=r.props,h=f.popup,p=f.onDrillDown,g=f.onShowMore,m=f.getDrilldownView,y=f.doShowMoreDrillDown;if(r.clearSelection(),h){var b=kT(c,r.containerRef.current);r.setState({overlay:{date:o,events:s,position:b,target:d}})}else y&&hr(p,[o,m(o)||Fn.DAY]);hr(g,[s,o,u])},r.overlayDisplay=function(){r.setState({overlay:null})},r.state={rowLimit:5,needLimitMeasure:!0,date:null},r.containerRef=R.createRef(),r.slotRowRef=R.createRef(),r._bgRows=[],r._pendingSelection=[],r}return Tn(e,t),Qr(e,[{key:"componentDidMount",value:function(){var n=this,a;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){a||PT(function(){a=!1,n.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var n=this.props,a=n.date,i=n.localizer,s=n.className,o=i.visibleDays(a,i),c=D$(o,7);return this._weekCount=c.length,z.createElement("div",{className:Cr("rbc-month-view",s),role:"table","aria-label":"Month View",ref:this.containerRef},z.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(c[0])),c.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(n){var a=this.props,i=a.localizer,s=a.components,o=n[0],c=n[n.length-1],u=s.header||j2;return i.range(o,c,"day").map(function(d,f){return z.createElement("div",{key:"header_"+f,className:"rbc-header"},z.createElement(u,{date:d,localizer:i,label:i.format(d,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var n,a,i=this,s=(n=(a=this.state)===null||a===void 0?void 0:a.overlay)!==null&&n!==void 0?n:{},o=this.props,c=o.accessors,u=o.localizer,d=o.components,f=o.getters,h=o.selected,p=o.popupOffset,g=o.handleDragStart,m=function(){return i.setState({overlay:null})};return z.createElement(N2,{overlay:s,accessors:c,localizer:u,components:d,getters:f,selected:h,popupOffset:p,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:g,show:!!s.position,overlayDisplay:this.overlayDisplay,onHide:m})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(n){var a=this._pendingSelection.slice();this._pendingSelection=[],a.sort(function(o,c){return+o-+c});var i=new Date(a[0]),s=new Date(a[a.length-1]);s.setDate(a[a.length-1].getDate()+1),hr(this.props.onSelectSlot,{slots:a,start:i,end:s,action:n.action,bounds:n.bounds,box:n.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(n,a){var i=n.date,s=n.localizer;return{date:i,needLimitMeasure:s.neq(i,a.date,"month")}}}])}(z.Component);Yv.range=function(t,e){var r=e.localizer,n=r.firstVisibleDay(t,r),a=r.lastVisibleDay(t,r);return{start:n,end:a}};Yv.navigate=function(t,e,r){var n=r.localizer;switch(e){case na.PREVIOUS:return n.add(t,-1,"month");case na.NEXT:return n.add(t,1,"month");default:return t}};Yv.title=function(t,e){var r=e.localizer;return r.format(t,"monthHeaderFormat")};var vj=function(e){var r=e.min,n=e.max,a=e.step,i=e.slots,s=e.localizer;return"".concat(+s.startOf(r,"minutes"))+"".concat(+s.startOf(n,"minutes"))+"".concat(a,"-").concat(i)};function A2(t){for(var e=t.min,r=t.max,n=t.step,a=t.timeslots,i=t.localizer,s=vj({step:n,localizer:i}),o=1+i.getTotalMin(e,r),c=i.getMinutesFromMidnight(e),u=Math.ceil((o-1)/(n*a)),d=u*a,f=new Array(u),h=new Array(d),p=0;p<u;p++){f[p]=new Array(a);for(var g=0;g<a;g++){var m=p*a+g,y=m*n;h[m]=f[p][g]=i.getSlotDate(e,c,y)}}var b=h.length*n;h.push(i.getSlotDate(e,c,b));function x(N){var A=i.diff(e,N,"minutes")+i.getDstOffset(e,N);return Math.min(A,o)}return{groups:f,update:function(A){return vj(A)!==s?A2(A):this},dateIsInGroup:function(A,w){var j=f[w+1];return i.inRange(A,f[w][0],j?j[0]:r,"minutes")},nextSlot:function(A){var w=h[Math.min(h.findIndex(function(j){return j===A||i.eq(j,A)})+1,h.length-1)];return i.eq(w,A)&&(w=i.add(A,n,"minutes")),w},closestSlotToPosition:function(A){var w=Math.min(h.length-1,Math.max(0,Math.floor(A*d)));return h[w]},closestSlotFromPoint:function(A,w){var j=Math.abs(w.top-w.bottom);return this.closestSlotToPosition((A.y-w.top)/j)},closestSlotFromDate:function(A){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(i.lt(A,e,"minutes"))return h[0];if(i.gt(A,r,"minutes"))return h[h.length-1];var j=i.diff(e,A,"minutes");return h[(j-j%n)/n+w]},startsBeforeDay:function(A){return i.lt(A,e,"day")},startsAfterDay:function(A){return i.gt(A,r,"day")},startsBefore:function(A){return i.lt(i.merge(e,A),e,"minutes")},startsAfter:function(A){return i.gt(i.merge(r,A),r,"minutes")},getRange:function(A,w,j,E){j||(A=i.min(r,i.max(e,A))),E||(w=i.min(r,i.max(e,w)));var O=x(A),k=x(w),L=k>n*d&&!i.eq(r,w)?(O-n)/(n*d)*100:O/(n*d)*100;return{top:L,height:k/(n*d)*100-L,start:x(A),startDate:A,end:x(w),endDate:w}},getCurrentTimePosition:function(A){var w=x(A),j=w/(n*d)*100;return j}}}var FZ=function(){function t(e,r){var n=r.accessors,a=r.slotMetrics;Zr(this,t);var i=a.getRange(n.start(e),n.end(e)),s=i.start,o=i.startDate,c=i.end,u=i.endDate,d=i.top,f=i.height;this.start=s,this.end=c,this.startMs=+o,this.endMs=+u,this.top=d,this.height=f,this.data=e}return Qr(t,[{key:"_width",get:function(){if(this.rows){var r=this.rows.reduce(function(a,i){return Math.max(a,i.leaves.length+1)},0)+1;return 100/r}if(this.leaves){var n=100-this.container._width;return n/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var r=this._width,n=Math.min(100,this._width*1.7);if(this.rows)return n;if(this.leaves)return this.leaves.length>0?n:r;var a=this.row.leaves,i=a.indexOf(this);return i===a.length-1?r:n}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var r=this.row,n=r.leaves,a=r.xOffset,i=r._width,s=n.indexOf(this)+1;return a+s*i}}])}();function BZ(t,e,r){return Math.abs(e.start-t.start)<r||e.start>t.start&&e.start<t.end}function UZ(t){for(var e=Hv(t,["startMs",function(o){return-o.endMs}]),r=[];e.length>0;){var n=e.shift();r.push(n);for(var a=0;a<e.length;a++){var i=e[a];if(!(n.endMs>i.startMs)){if(a>0){var s=e.splice(a,1)[0];r.push(s)}break}}}return r}function Hk(t){for(var e=t.events,r=t.minimumStartDifference,n=t.slotMetrics,a=t.accessors,i=e.map(function(d){return new FZ(d,{slotMetrics:n,accessors:a})}),s=UZ(i),o=[],c=function(){var f=s[u],h=o.find(function(m){return m.end>f.start||Math.abs(f.start-m.start)<r});if(!h)return f.rows=[],o.push(f),1;f.container=h;for(var p=null,g=h.rows.length-1;!p&&g>=0;g--)BZ(h.rows[g],f,r)&&(p=h.rows[g]);p?(p.leaves.push(f),f.row=p):(f.leaves=[],h.rows.push(f))},u=0;u<s.length;u++)c();return s.map(function(d){return{event:d.data,style:{top:d.top,height:d.height,width:d.width,xOffset:Math.max(0,d.xOffset)}}})}function qk(t,e,r){for(var n=0;n<t.friends.length;++n)if(!(r.indexOf(t.friends[n])>-1)){e=e>t.friends[n].idx?e:t.friends[n].idx,r.push(t.friends[n]);var a=qk(t.friends[n],e,r);e=e>a?e:a}return e}function zZ(t){var e=t.events,r=t.minimumStartDifference,n=t.slotMetrics,a=t.accessors,i=Hk({events:e,minimumStartDifference:r,slotMetrics:n,accessors:a});i.sort(function(H,V){return H=H.style,V=V.style,H.top!==V.top?H.top>V.top?1:-1:H.height!==V.height?H.top+H.height<V.top+V.height?1:-1:0});for(var s=0;s<i.length;++s)i[s].friends=[],delete i[s].style.left,delete i[s].style.left,delete i[s].idx,delete i[s].size;for(var o=0;o<i.length-1;++o)for(var c=i[o],u=c.style.top,d=c.style.top+c.style.height,f=o+1;f<i.length;++f){var h=i[f],p=h.style.top,g=h.style.top+h.style.height;(p>=u&&g<=d||g>u&&g<=d||p>=u&&p<d)&&(c.friends.push(h),h.friends.push(c))}for(var m=0;m<i.length;++m){for(var y=i[m],b=[],x=0;x<100;++x)b.push(1);for(var N=0;N<y.friends.length;++N)y.friends[N].idx!==void 0&&(b[y.friends[N].idx]=0);y.idx=b.indexOf(1)}for(var A=0;A<i.length;++A){var w=0;if(!i[A].size){var j=[],E=qk(i[A],0,j);w=100/(E+1),i[A].size=w;for(var O=0;O<j.length;++O)j[O].size=w}}for(var k=0;k<i.length;++k){var L=i[k];L.style.left=L.idx*L.size;for(var C=0,P=0;P<L.friends.length;++P){var I=L.friends[P].idx;C=C>I?C:I}C<=L.idx&&(L.size=100-L.idx*L.size);var M=L.idx===0?0:3;L.style.width="calc(".concat(L.size,"% - ").concat(M,"px)"),L.style.height="calc(".concat(L.style.height,"% - 2px)"),L.style.xOffset="calc(".concat(L.style.left,"% + ").concat(M,"px)")}return i}var yj={overlap:Hk,"no-overlap":zZ};function WZ(t){return!!(t&&t.constructor&&t.call&&t.apply)}function HZ(t){t.events,t.minimumStartDifference,t.slotMetrics,t.accessors;var e=t.dayLayoutAlgorithm,r=e;return e in yj&&(r=yj[e]),WZ(r)?r.apply(this,arguments):[]}var Gk=function(t){function e(){return Zr(this,e),Cn(this,e,arguments)}return Tn(e,t),Qr(e,[{key:"render",value:function(){var n=this.props,a=n.renderSlot,i=n.resource,s=n.group,o=n.getters,c=n.components,u=c===void 0?{}:c,d=u.timeSlotWrapper,f=d===void 0?Fi:d,h=o?o.slotGroupProp(s):{};return z.createElement("div",Object.assign({className:"rbc-timeslot-group"},h),s.map(function(p,g){var m=o?o.slotProp(p,i):{};return z.createElement(f,{key:g,value:p,resource:i},z.createElement("div",Object.assign({},m,{className:Cr("rbc-time-slot",m.className)}),a&&a(p,g)))}))}}])}(R.Component);function rm(t){return typeof t=="string"?t:t+"%"}function qZ(t){var e=t.style,r=t.className,n=t.event,a=t.accessors,i=t.rtl,s=t.selected,o=t.label,c=t.continuesPrior,u=t.continuesAfter,d=t.getters,f=t.onClick,h=t.onDoubleClick,p=t.isBackgroundEvent,g=t.onKeyPress,m=t.components,y=m.event,b=m.eventWrapper,x=a.title(n),N=a.tooltip(n),A=a.end(n),w=a.start(n),j=d.eventProp(n,w,A,s),E=[z.createElement("div",{key:"1",className:"rbc-event-label"},o),z.createElement("div",{key:"2",className:"rbc-event-content"},y?z.createElement(y,{event:n,title:x}):x)],O=e.height,k=e.top,L=e.width,C=e.xOffset,P=tr(tr({},j.style),{},fl({top:rm(k),height:rm(O),width:rm(L)},i?"right":"left",rm(C)));return z.createElement(b,Object.assign({type:"time"},t),z.createElement("div",{role:"button",tabIndex:0,onClick:f,onDoubleClick:h,style:P,onKeyDown:g,title:N?(typeof o=="string"?o+": ":"")+N:void 0,className:Cr(p?"rbc-background-event":"rbc-event",r,j.className,{"rbc-selected":s,"rbc-event-continues-earlier":c,"rbc-event-continues-later":u})},E))}var GZ=function(e){var r=e.children,n=e.className,a=e.style,i=e.innerRef;return z.createElement("div",{className:n,style:a,ref:i},r)},VZ=z.forwardRef(function(t,e){return z.createElement(GZ,Object.assign({},t,{innerRef:e}))}),YZ=["dayProp"],KZ=["eventContainerWrapper","timeIndicatorWrapper"],Vk=function(t){function e(){var r;Zr(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Cn(this,e,[].concat(a)),r.state={selecting:!1,timeIndicatorPosition:null},r.intervalTriggered=!1,r.renderEvents=function(s){var o=s.events,c=s.isBackgroundEvent,u=r.props,d=u.rtl,f=u.selected,h=u.accessors,p=u.localizer,g=u.getters,m=u.components,y=u.step,b=u.timeslots,x=u.dayLayoutAlgorithm,N=u.resizable,A=r,w=A.slotMetrics,j=p.messages,E=HZ({events:o,accessors:h,slotMetrics:w,minimumStartDifference:Math.ceil(y*b/2),dayLayoutAlgorithm:x});return E.map(function(O,k){var L,C=O.event,P=O.style,I=h.end(C),M=h.start(C),H=(L=h.eventId(C))!==null&&L!==void 0?L:"evt_"+k,V="eventTimeRangeFormat",F,X=w.startsBeforeDay(M),Y=w.startsAfterDay(I);X?V="eventTimeRangeEndFormat":Y&&(V="eventTimeRangeStartFormat"),X&&Y?F=j.allDay:F=p.format({start:M,end:I},V);var Q=X||w.startsBefore(M),se=Y||w.startsAfter(I);return z.createElement(qZ,{style:P,event:C,label:F,key:H,getters:g,rtl:d,components:m,continuesPrior:Q,continuesAfter:se,accessors:h,resource:r.props.resource,selected:Vv(C,f),onClick:function(W){return r._select(tr(tr(tr({},C),r.props.resource&&{sourceResource:r.props.resource}),c&&{isBackgroundEvent:!0}),W)},onDoubleClick:function(W){return r._doubleClick(C,W)},isBackgroundEvent:c,onKeyPress:function(W){return r._keyPress(C,W)},resizable:N})})},r._selectable=function(){var s=r.containerRef.current,o=r.props,c=o.longPressThreshold,u=o.localizer,d=r._selector=new Fk(function(){return s},{longPressThreshold:c}),f=function(m){var y=r.props.onSelecting,b=r.state||{},x=h(m),N=x.startDate,A=x.endDate;y&&(u.eq(b.startDate,N,"minutes")&&u.eq(b.endDate,A,"minutes")||y({start:N,end:A,resourceId:r.props.resource})===!1)||(r.state.start!==x.start||r.state.end!==x.end||r.state.selecting!==x.selecting)&&r.setState(x)},h=function(m){var y=r.slotMetrics.closestSlotFromPoint(m,$l(s));r.state.selecting||(r._initialSlot=y);var b=r._initialSlot;u.lte(b,y)?y=r.slotMetrics.nextSlot(y):u.gt(b,y)&&(b=r.slotMetrics.nextSlot(b));var x=r.slotMetrics.getRange(u.min(b,y),u.max(b,y));return tr(tr({},x),{},{selecting:!0,top:"".concat(x.top,"%"),height:"".concat(x.height,"%")})},p=function(m,y){if(!ig(r.containerRef.current,m)){var b=h(m),x=b.startDate,N=b.endDate;r._selectSlot({startDate:x,endDate:N,action:y,box:m})}r.setState({selecting:!1})};d.on("selecting",f),d.on("selectStart",f),d.on("beforeSelect",function(g){if(r.props.selectable==="ignoreEvents")return!ig(r.containerRef.current,g)}),d.on("click",function(g){return p(g,"click")}),d.on("doubleClick",function(g){return p(g,"doubleClick")}),d.on("select",function(g){r.state.selecting&&(r._selectSlot(tr(tr({},r.state),{},{action:"select",bounds:g})),r.setState({selecting:!1}))}),d.on("reset",function(){r.state.selecting&&r.setState({selecting:!1})})},r._teardownSelectable=function(){r._selector&&(r._selector.teardown(),r._selector=null)},r._selectSlot=function(s){for(var o=s.startDate,c=s.endDate,u=s.action,d=s.bounds,f=s.box,h=o,p=[];r.props.localizer.lte(h,c);)p.push(h),h=new Date(+h+r.props.step*60*1e3);hr(r.props.onSelectSlot,{slots:p,start:o,end:c,resourceId:r.props.resource,action:u,bounds:d,box:f})},r._select=function(){for(var s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];hr(r.props.onSelectEvent,o)},r._doubleClick=function(){for(var s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];hr(r.props.onDoubleClickEvent,o)},r._keyPress=function(){for(var s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];hr(r.props.onKeyPressEvent,o)},r.slotMetrics=A2(r.props),r.containerRef=R.createRef(),r}return Tn(e,t),Qr(e,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(n,a){this.props.selectable&&!n.selectable&&this._selectable(),!this.props.selectable&&n.selectable&&this._teardownSelectable();var i=this.props,s=i.getNow,o=i.isNow,c=i.localizer,u=i.date,d=i.min,f=i.max,h=c.neq(n.getNow(),s(),"minutes");if(n.isNow!==o||h){if(this.clearTimeIndicatorInterval(),o){var p=!h&&c.eq(n.date,u,"minutes")&&a.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(p)}}else o&&(c.neq(n.min,d,"minutes")||c.neq(n.max,f,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var n=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!a&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){n.intervalTriggered=!0,n.positionTimeIndicator(),n.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var n=this.props,a=n.min,i=n.max,s=n.getNow,o=s();if(o>=a&&o<=i){var c=this.slotMetrics.getCurrentTimePosition(o);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:c})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var n=this.props,a=n.date,i=n.max,s=n.rtl,o=n.isNow,c=n.resource,u=n.accessors,d=n.localizer,f=n.getters,h=f.dayProp,p=Ji(f,YZ),g=n.components,m=g.eventContainerWrapper,y=g.timeIndicatorWrapper,b=Ji(g,KZ);this.slotMetrics=this.slotMetrics.update(this.props);var x=this.slotMetrics,N=this.state,A=N.selecting,w=N.top,j=N.height,E=N.startDate,O=N.endDate,k={start:E,end:O},L=h(i,c),C=L.className,P=L.style,I={className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}},M=b.dayColumnWrapper||VZ;return z.createElement(M,{ref:this.containerRef,date:a,style:P,className:Cr(C,"rbc-day-slot","rbc-time-column",o&&"rbc-now",o&&"rbc-today",A&&"rbc-slot-selecting"),slotMetrics:x,resource:c},x.groups.map(function(H,V){return z.createElement(Gk,{key:V,group:H,resource:c,getters:p,components:b})}),z.createElement(m,{localizer:d,resource:c,accessors:u,getters:p,components:b,slotMetrics:x},z.createElement("div",{className:Cr("rbc-events-container",s&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),A&&z.createElement("div",{className:"rbc-slot-selection",style:{top:w,height:j}},z.createElement("span",null,d.format(k,"selectRangeFormat"))),o&&this.intervalTriggered&&z.createElement(y,I,z.createElement("div",I)))}}])}(z.Component);Vk.defaultProps={dragThroughEvents:!0,timeslots:2};var Yk=function(e){var r=e.label;return z.createElement(z.Fragment,null,r)},XZ=function(t){function e(){var r;Zr(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Cn(this,e,[].concat(a)),r.handleHeaderClick=function(s,o,c){c.preventDefault(),hr(r.props.onDrillDown,[s,o])},r.renderRow=function(s){var o=r.props,c=o.events,u=o.rtl,d=o.selectable,f=o.getNow,h=o.range,p=o.getters,g=o.localizer,m=o.accessors,y=o.components,b=o.resizable,x=m.resourceId(s),N=s?c.filter(function(A){return m.resource(A)===x}):c;return z.createElement(Zf,{isAllDay:!0,rtl:u,getNow:f,minRows:2,maxRows:r.props.allDayMaxRows+1,range:h,events:N,resourceId:x,className:"rbc-allday-cell",selectable:d,selected:r.props.selected,components:y,accessors:m,getters:p,localizer:g,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyPress:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:b})},r}return Tn(e,t),Qr(e,[{key:"renderHeaderCells",value:function(n){var a=this,i=this.props,s=i.localizer,o=i.getDrilldownView,c=i.getNow,u=i.getters.dayProp,d=i.components.header,f=d===void 0?j2:d,h=c();return n.map(function(p,g){var m=o(p),y=s.format(p,"dayFormat"),b=u(p),x=b.className,N=b.style,A=z.createElement(f,{date:p,label:y,localizer:s});return z.createElement("div",{key:g,style:N,className:Cr("rbc-header",x,s.isSameDate(p,h)&&"rbc-today")},m?z.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(j){return a.handleHeaderClick(p,m,j)}},A):z.createElement("span",null,A))})}},{key:"render",value:function(){var n=this,a=this.props,i=a.width,s=a.rtl,o=a.resources,c=a.range,u=a.events,d=a.getNow,f=a.accessors,h=a.selectable,p=a.components,g=a.getters,m=a.scrollRef,y=a.localizer,b=a.isOverflowing,x=a.components,N=x.timeGutterHeader,A=x.resourceHeader,w=A===void 0?Yk:A,j=a.resizable,E={};b&&(E[s?"marginLeft":"marginRight"]="".concat(t2()-1,"px"));var O=o.groupEvents(u);return z.createElement("div",{style:E,ref:m,className:Cr("rbc-time-header",b&&"rbc-overflowing")},z.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:i,minWidth:i,maxWidth:i}},N&&z.createElement(N,null)),o.map(function(k,L){var C=Tl(k,2),P=C[0],I=C[1];return z.createElement("div",{className:"rbc-time-header-content",key:P||L},I&&z.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(L)},z.createElement("div",{className:"rbc-header"},z.createElement(w,{index:L,label:f.resourceTitle(I),resource:I}))),z.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(c.length<=1?" rbc-time-header-cell-single-day":"")},n.renderHeaderCells(c)),z.createElement(Zf,{isAllDay:!0,rtl:s,getNow:d,minRows:2,maxRows:n.props.allDayMaxRows+1,range:c,events:O.get(P)||[],resourceId:I&&P,className:"rbc-allday-cell",selectable:h,selected:n.props.selected,components:p,accessors:f,getters:g,localizer:y,onSelect:n.props.onSelectEvent,onShowMore:n.props.onShowMore,onDoubleClick:n.props.onDoubleClickEvent,onKeyDown:n.props.onKeyPressEvent,onSelectSlot:n.props.onSelectSlot,longPressThreshold:n.props.longPressThreshold,resizable:j}))}))}}])}(z.Component),ZZ=function(t){function e(){var r;Zr(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Cn(this,e,[].concat(a)),r.handleHeaderClick=function(s,o,c){c.preventDefault(),hr(r.props.onDrillDown,[s,o])},r}return Tn(e,t),Qr(e,[{key:"renderHeaderCells",value:function(n){var a=this,i=this.props,s=i.localizer,o=i.getDrilldownView,c=i.getNow,u=i.getters.dayProp,d=i.components,f=d.header,h=f===void 0?j2:f,p=d.resourceHeader,g=p===void 0?Yk:p,m=i.resources,y=i.accessors,b=i.events,x=i.rtl,N=i.selectable,A=i.components,w=i.getters,j=i.resizable,E=c(),O=m.groupEvents(b);return n.map(function(k,L){var C=o(k),P=s.format(k,"dayFormat"),I=u(k),M=I.className,H=I.style,V=z.createElement(h,{date:k,label:P,localizer:s});return z.createElement("div",{key:L,className:"rbc-time-header-content rbc-resource-grouping"},z.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(n.length<=1?" rbc-time-header-cell-single-day":"")},z.createElement("div",{style:H,className:Cr("rbc-header",M,s.isSameDate(k,E)&&"rbc-today")},C?z.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(X){return a.handleHeaderClick(k,C,X)}},V):z.createElement("span",null,V))),z.createElement("div",{className:"rbc-row"},m.map(function(F,X){var Y=Tl(F,2),Q=Y[0],se=Y[1];return z.createElement("div",{key:"resource_".concat(Q,"_").concat(X),className:Cr("rbc-header",M,s.isSameDate(k,E)&&"rbc-today")},z.createElement(g,{index:X,label:y.resourceTitle(se),resource:se}))})),z.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},m.map(function(F,X){var Y=Tl(F,2),Q=Y[0],se=Y[1],$=(O.get(Q)||[]).filter(function(W){return s.isSameDate(W.start,k)||s.isSameDate(W.end,k)});return z.createElement(Zf,{key:"resource_".concat(Q,"_").concat(X),isAllDay:!0,rtl:x,getNow:c,minRows:2,maxRows:a.props.allDayMaxRows+1,range:[k],events:$,resourceId:se&&Q,className:"rbc-allday-cell",selectable:N,selected:a.props.selected,components:A,accessors:y,getters:w,localizer:s,onSelect:a.props.onSelectEvent,onShowMore:a.props.onShowMore,onDoubleClick:a.props.onDoubleClickEvent,onKeyDown:a.props.onKeyPressEvent,onSelectSlot:a.props.onSelectSlot,longPressThreshold:a.props.longPressThreshold,resizable:j})})))})}},{key:"render",value:function(){var n=this.props,a=n.width,i=n.rtl,s=n.range,o=n.scrollRef,c=n.isOverflowing,u=n.components.timeGutterHeader,d={};return c&&(d[i?"marginLeft":"marginRight"]="".concat(t2()-1,"px")),z.createElement("div",{style:d,ref:o,className:Cr("rbc-time-header",c&&"rbc-overflowing")},z.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:a,minWidth:a,maxWidth:a}},u&&z.createElement(u,null)),this.renderHeaderCells(s))}}])}(z.Component);function QZ(t){var e=t.min,r=t.max,n=t.localizer;return n.getTimezoneOffset(e)!==n.getTimezoneOffset(r)?{start:n.add(e,-1,"day"),end:n.add(r,-1,"day")}:{start:e,end:r}}var JZ=function(e){var r=e.min,n=e.max,a=e.timeslots,i=e.step,s=e.localizer,o=e.getNow,c=e.resource,u=e.components,d=e.getters,f=e.gutterRef,h=u.timeGutterWrapper,p=R.useMemo(function(){return QZ({min:r,max:n,localizer:s})},[r==null?void 0:r.toISOString(),n==null?void 0:n.toISOString(),s]),g=p.start,m=p.end,y=R.useState(A2({min:g,max:m,timeslots:a,step:i,localizer:s})),b=Tl(y,2),x=b[0],N=b[1];R.useEffect(function(){x&&N(x.update({min:g,max:m,timeslots:a,step:i,localizer:s}))},[g==null?void 0:g.toISOString(),m==null?void 0:m.toISOString(),a,i]);var A=R.useCallback(function(w,j){if(j)return null;var E=x.dateIsInGroup(o(),j);return z.createElement("span",{className:Cr("rbc-label",E&&"rbc-now")},s.format(w,"timeGutterFormat"))},[x,s,o]);return z.createElement(h,{slotMetrics:x},z.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:f},x.groups.map(function(w,j){return z.createElement(Gk,{key:j,group:w,resource:c,components:u,renderSlot:A,getters:d})})))},eQ=z.forwardRef(function(t,e){return z.createElement(JZ,Object.assign({gutterRef:e},t))}),nb={};function tQ(t,e){return{map:function(n){return t?t.map(function(a,i){return n([e.resourceId(a),a],i)}):[n([nb,null],0)]},groupEvents:function(n){var a=new Map;return t?(n.forEach(function(i){var s=e.resource(i)||nb;if(Array.isArray(s))s.forEach(function(c){var u=a.get(c)||[];u.push(i),a.set(c,u)});else{var o=a.get(s)||[];o.push(i),a.set(s,o)}}),a):(a.set(nb,n),a)}}}var ud=function(t){function e(r){var n;return Zr(this,e),n=Cn(this,e,[r]),n.handleScroll=function(a){n.scrollRef.current&&(n.scrollRef.current.scrollLeft=a.target.scrollLeft)},n.handleResize=function(){aN(n.rafHandle),n.rafHandle=PT(n.checkOverflow)},n.handleKeyPressEvent=function(){n.clearSelection();for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];hr(n.props.onKeyPressEvent,i)},n.handleSelectEvent=function(){n.clearSelection();for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];hr(n.props.onSelectEvent,i)},n.handleDoubleClickEvent=function(){n.clearSelection();for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];hr(n.props.onDoubleClickEvent,i)},n.handleShowMore=function(a,i,s,o,c){var u=n.props,d=u.popup,f=u.onDrillDown,h=u.onShowMore,p=u.getDrilldownView,g=u.doShowMoreDrillDown;if(n.clearSelection(),d){var m=kT(s,n.containerRef.current);n.setState({overlay:{date:i,events:a,position:tr(tr({},m),{},{width:"200px"}),target:c}})}else g&&hr(f,[i,p(i)||Fn.DAY]);hr(h,[a,i,o])},n.handleSelectAllDaySlot=function(a,i){var s=n.props.onSelectSlot,o=new Date(a[0]),c=new Date(a[a.length-1]);c.setDate(a[a.length-1].getDate()+1),hr(s,{slots:a,start:o,end:c,action:i.action,resourceId:i.resourceId})},n.overlayDisplay=function(){n.setState({overlay:null})},n.checkOverflow=function(){if(!n._updatingOverflow){var a=n.contentRef.current;if(a!=null&&a.scrollHeight){var i=a.scrollHeight>a.clientHeight;n.state.isOverflowing!==i&&(n._updatingOverflow=!0,n.setState({isOverflowing:i},function(){n._updatingOverflow=!1}))}}},n.memoizedResources=fk(function(a,i){return tQ(a,i)}),n.state={gutterWidth:void 0,isOverflowing:null},n.scrollRef=z.createRef(),n.contentRef=z.createRef(),n.containerRef=z.createRef(),n._scrollRatio=null,n.gutterRef=R.createRef(),n}return Tn(e,t),Qr(e,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),aN(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(n,a,i,s,o,c,u,d,f,h){var p=this.props,g=p.min,m=p.max,y=(s.get(a)||[]).filter(function(x){return c.inRange(n,u.start(x),u.end(x),"day")}),b=(o.get(a)||[]).filter(function(x){return c.inRange(n,u.start(x),u.end(x),"day")});return z.createElement(Vk,Object.assign({},this.props,{localizer:c,min:c.merge(n,g),max:c.merge(n,m),resource:i&&a,components:d,isNow:c.isSameDate(n,h),key:"".concat(a,"-").concat(n),date:n,events:y,backgroundEvents:b,dayLayoutAlgorithm:f}))}},{key:"renderResourcesFirst",value:function(n,a,i,s,o,c,u,d,f){var h=this;return a.map(function(p){var g=Tl(p,2),m=g[0],y=g[1];return n.map(function(b){return h.renderDayColumn(b,m,y,i,s,o,c,d,f,u)})})}},{key:"renderRangeFirst",value:function(n,a,i,s,o,c,u,d,f){var h=this;return n.map(function(p){return z.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:p},a.map(function(g){var m=Tl(g,2),y=m[0],b=m[1];return z.createElement("div",{style:{flex:1},key:c.resourceId(b)},h.renderDayColumn(p,y,b,i,s,o,c,d,f,u))}))})}},{key:"renderEvents",value:function(n,a,i,s){var o=this.props,c=o.accessors,u=o.localizer,d=o.resourceGroupingLayout,f=o.components,h=o.dayLayoutAlgorithm,p=this.memoizedResources(this.props.resources,c),g=p.groupEvents(a),m=p.groupEvents(i);return d?this.renderRangeFirst(n,p,g,m,u,c,s,f,h):this.renderResourcesFirst(n,p,g,m,u,c,s,f,h)}},{key:"render",value:function(){var n,a=this.props,i=a.events,s=a.backgroundEvents,o=a.range,c=a.width,u=a.rtl,d=a.selected,f=a.getNow,h=a.resources,p=a.components,g=a.accessors,m=a.getters,y=a.localizer,b=a.min,x=a.max,N=a.showMultiDayTimes,A=a.longPressThreshold,w=a.resizable,j=a.resourceGroupingLayout;c=c||this.state.gutterWidth;var E=o[0],O=o[o.length-1];this.slots=o.length;var k=[],L=[],C=[];i.forEach(function(I){if(Xf(I,E,O,g,y)){var M=g.start(I),H=g.end(I);g.allDay(I)||y.startAndEndAreDateOnly(M,H)||!N&&!y.isSameDate(M,H)?k.push(I):L.push(I)}}),s.forEach(function(I){Xf(I,E,O,g,y)&&C.push(I)}),k.sort(function(I,M){return _x(I,M,g,y)});var P={range:o,events:k,width:c,rtl:u,getNow:f,localizer:y,selected:d,allDayMaxRows:this.props.showAllEvents?1/0:(n=this.props.allDayMaxRows)!==null&&n!==void 0?n:1/0,resources:this.memoizedResources(h,g),selectable:this.props.selectable,accessors:g,getters:m,components:p,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:A,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:w};return z.createElement("div",{className:Cr("rbc-time-view",h&&"rbc-time-view-resources"),ref:this.containerRef},h&&h.length>1&&j?z.createElement(ZZ,P):z.createElement(XZ,P),this.props.popup&&this.renderOverlay(),z.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},z.createElement(eQ,{date:E,ref:this.gutterRef,localizer:y,min:y.merge(E,b),max:y.merge(E,x),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:p,className:"rbc-time-gutter",getters:m}),this.renderEvents(o,L,C,f())))}},{key:"renderOverlay",value:function(){var n,a,i=this,s=(n=(a=this.state)===null||a===void 0?void 0:a.overlay)!==null&&n!==void 0?n:{},o=this.props,c=o.accessors,u=o.localizer,d=o.components,f=o.getters,h=o.selected,p=o.popupOffset,g=o.handleDragStart,m=function(){return i.setState({overlay:null})};return z.createElement(N2,{overlay:s,accessors:c,localizer:u,components:d,getters:f,selected:h,popupOffset:p,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:g,show:!!s.position,overlayDisplay:this.overlayDisplay,onHide:m})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var n=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var a,i=(a=n.gutterRef)!==null&&a!==void 0&&a.current?Nx(n.gutterRef.current):void 0;i&&n.state.gutterWidth!==i&&n.setState({gutterWidth:i})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var n=this.contentRef.current;n.scrollTop=n.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,a=n.min,i=n.max,s=n.scrollToTime,o=n.localizer,c=o.diff(o.merge(s,a),s,"milliseconds"),u=o.diff(a,i,"milliseconds");this._scrollRatio=c/u}}])}(R.Component);ud.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var rQ=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Kv=function(t){function e(){return Zr(this,e),Cn(this,e,arguments)}return Tn(e,t),Qr(e,[{key:"render",value:function(){var n=this.props,a=n.date,i=n.localizer,s=n.min,o=s===void 0?i.startOf(new Date,"day"):s,c=n.max,u=c===void 0?i.endOf(new Date,"day"):c,d=n.scrollToTime,f=d===void 0?i.startOf(new Date,"day"):d,h=n.enableAutoScroll,p=h===void 0?!0:h,g=Ji(n,rQ),m=e.range(a,{localizer:i});return z.createElement(ud,Object.assign({},g,{range:m,eventOffset:10,localizer:i,min:o,max:u,scrollToTime:f,enableAutoScroll:p}))}}])}(z.Component);Kv.range=function(t,e){var r=e.localizer;return[r.startOf(t,"day")]};Kv.navigate=function(t,e,r){var n=r.localizer;switch(e){case na.PREVIOUS:return n.add(t,-1,"day");case na.NEXT:return n.add(t,1,"day");default:return t}};Kv.title=function(t,e){var r=e.localizer;return r.format(t,"dayHeaderFormat")};var nQ=["date","localizer","min","max","scrollToTime","enableAutoScroll"],No=function(t){function e(){return Zr(this,e),Cn(this,e,arguments)}return Tn(e,t),Qr(e,[{key:"render",value:function(){var n=this.props,a=n.date,i=n.localizer,s=n.min,o=s===void 0?i.startOf(new Date,"day"):s,c=n.max,u=c===void 0?i.endOf(new Date,"day"):c,d=n.scrollToTime,f=d===void 0?i.startOf(new Date,"day"):d,h=n.enableAutoScroll,p=h===void 0?!0:h,g=Ji(n,nQ),m=e.range(a,this.props);return z.createElement(ud,Object.assign({},g,{range:m,eventOffset:15,localizer:i,min:o,max:u,scrollToTime:f,enableAutoScroll:p}))}}])}(z.Component);No.defaultProps=ud.defaultProps;No.navigate=function(t,e,r){var n=r.localizer;switch(e){case na.PREVIOUS:return n.add(t,-1,"week");case na.NEXT:return n.add(t,1,"week");default:return t}};No.range=function(t,e){var r=e.localizer,n=r.startOfWeek(),a=r.startOf(t,"week",n),i=r.endOf(t,"week",n);return r.range(a,i)};No.title=function(t,e){var r=e.localizer,n=No.range(t,{localizer:r}),a=bk(n),i=a[0],s=a.slice(1);return r.format({start:i,end:s.pop()},"dayRangeHeaderFormat")};var aQ=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function _2(t,e){return No.range(t,e).filter(function(r){return[6,0].indexOf(r.getDay())===-1})}var Qh=function(t){function e(){return Zr(this,e),Cn(this,e,arguments)}return Tn(e,t),Qr(e,[{key:"render",value:function(){var n=this.props,a=n.date,i=n.localizer,s=n.min,o=s===void 0?i.startOf(new Date,"day"):s,c=n.max,u=c===void 0?i.endOf(new Date,"day"):c,d=n.scrollToTime,f=d===void 0?i.startOf(new Date,"day"):d,h=n.enableAutoScroll,p=h===void 0?!0:h,g=Ji(n,aQ),m=_2(a,this.props);return z.createElement(ud,Object.assign({},g,{range:m,eventOffset:15,localizer:i,min:o,max:u,scrollToTime:f,enableAutoScroll:p}))}}])}(z.Component);Qh.defaultProps=ud.defaultProps;Qh.range=_2;Qh.navigate=No.navigate;Qh.title=function(t,e){var r=e.localizer,n=_2(t,{localizer:r}),a=bk(n),i=a[0],s=a.slice(1);return r.format({start:i,end:s.pop()},"dayRangeHeaderFormat")};var Xv=30;function Zv(t){var e=t.accessors,r=t.components,n=t.date,a=t.events,i=t.getters,s=t.length,o=s===void 0?Xv:s,c=t.localizer,u=t.onDoubleClickEvent,d=t.onSelectEvent,f=t.selected,h=R.useRef(null),p=R.useRef(null),g=R.useRef(null),m=R.useRef(null),y=R.useRef(null);R.useEffect(function(){N()});var b=function(O,k,L){var C=r.event,P=r.date;return k=k.filter(function(I){return Xf(I,c.startOf(O,"day"),c.endOf(O,"day"),e,c)}),k.map(function(I,M){var H=e.title(I),V=e.end(I),F=e.start(I),X=i.eventProp(I,F,V,Vv(I,f)),Y=M===0&&c.format(O,"agendaDateFormat"),Q=M===0?z.createElement("td",{rowSpan:k.length,className:"rbc-agenda-date-cell"},P?z.createElement(P,{day:O,label:Y}):Y):!1;return z.createElement("tr",{key:L+"_"+M,className:X.className,style:X.style},Q,z.createElement("td",{className:"rbc-agenda-time-cell"},x(O,I)),z.createElement("td",{className:"rbc-agenda-event-cell",onClick:function($){return d&&d(I,$)},onDoubleClick:function($){return u&&u(I,$)}},C?z.createElement(C,{event:I,title:H}):H))},[])},x=function(O,k){var L="",C=r.time,P=c.messages.allDay,I=e.end(k),M=e.start(k);return e.allDay(k)||(c.eq(M,I)?P=c.format(M,"agendaTimeFormat"):c.isSameDate(M,I)?P=c.format({start:M,end:I},"agendaTimeRangeFormat"):c.isSameDate(O,M)?P=c.format(M,"agendaTimeFormat"):c.isSameDate(O,I)&&(P=c.format(I,"agendaTimeFormat"))),c.gt(O,M,"day")&&(L="rbc-continues-prior"),c.lt(O,I,"day")&&(L+=" rbc-continues-after"),z.createElement("span",{className:L.trim()},C?z.createElement(C,{event:k,day:O,label:P}):P)},N=function(){if(y.current){var O=h.current,k=y.current.firstChild;if(k){var L=m.current.scrollHeight>m.current.clientHeight,C=[],P=C;C=[Nx(k.children[0]),Nx(k.children[1])],(P[0]!==C[0]||P[1]!==C[1])&&(p.current.style.width=C[0]+"px",g.current.style.width=C[1]+"px"),L?(x7(O,"rbc-header-overflowing"),O.style.marginRight=t2()+"px"):w7(O,"rbc-header-overflowing")}}},A=c.messages,w=c.add(n,o,"day"),j=c.range(n,w,"day");return a=a.filter(function(E){return Xf(E,c.startOf(n,"day"),c.endOf(w,"day"),e,c)}),a.sort(function(E,O){return+e.start(E)-+e.start(O)}),z.createElement("div",{className:"rbc-agenda-view"},a.length!==0?z.createElement(z.Fragment,null,z.createElement("table",{ref:h,className:"rbc-agenda-table"},z.createElement("thead",null,z.createElement("tr",null,z.createElement("th",{className:"rbc-header",ref:p},A.date),z.createElement("th",{className:"rbc-header",ref:g},A.time),z.createElement("th",{className:"rbc-header"},A.event)))),z.createElement("div",{className:"rbc-agenda-content",ref:m},z.createElement("table",{className:"rbc-agenda-table"},z.createElement("tbody",{ref:y},j.map(function(E,O){return b(E,a,O)}))))):z.createElement("span",{className:"rbc-agenda-empty"},A.noEventsInRange))}Zv.range=function(t,e){var r=e.length,n=r===void 0?Xv:r,a=e.localizer,i=a.add(t,n,"day");return{start:t,end:i}};Zv.navigate=function(t,e,r){var n=r.length,a=n===void 0?Xv:n,i=r.localizer;switch(e){case na.PREVIOUS:return i.add(t,-a,"day");case na.NEXT:return i.add(t,a,"day");default:return t}};Zv.title=function(t,e){var r=e.length,n=r===void 0?Xv:r,a=e.localizer,i=a.add(t,n,"day");return a.format({start:t,end:i},"agendaHeaderFormat")};var Lm=fl(fl(fl(fl(fl({},Fn.MONTH,Yv),Fn.WEEK,No),Fn.WORK_WEEK,Qh),Fn.DAY,Kv),Fn.AGENDA,Zv),iQ=["action","date","today"];function sQ(t,e){var r=e.action,n=e.date,a=e.today,i=Ji(e,iQ);switch(t=typeof t=="string"?Lm[t]:t,r){case na.TODAY:n=a||new Date;break;case na.DATE:break;default:If(t&&typeof t.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),n=t.navigate(n,r,i)}return n}function oQ(t,e){var r=null;return typeof e=="function"?r=e(t):typeof e=="string"&&Ot(t)==="object"&&t!=null&&e in t&&(r=t[e]),r}var vs=function(e){return function(r){return oQ(r,e)}},lQ=["view","date","getNow","onNavigate"],cQ=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function Kk(t){if(Array.isArray(t))return t;for(var e=[],r=0,n=Object.entries(t);r<n.length;r++){var a=Tl(n[r],2),i=a[0],s=a[1];s&&e.push(i)}return e}function uQ(t,e){var r=e.views,n=Kk(r);return n.indexOf(t)!==-1}var Xk=function(t){function e(){var r;Zr(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Cn(this,e,[].concat(a)),r.getViews=function(){var s=r.props.views;return Array.isArray(s)?BX(s,function(o,c){return o[c]=Lm[c]},{}):Ot(s)==="object"?wk(s,function(o,c){return o===!0?Lm[c]:o}):Lm},r.getView=function(){var s=r.getViews();return s[r.props.view]},r.getDrilldownView=function(s){var o=r.props,c=o.view,u=o.drilldownView,d=o.getDrilldownView;return d?d(s,c,Object.keys(r.getViews())):u},r.handleRangeChange=function(s,o,c){var u=r.props,d=u.onRangeChange,f=u.localizer;d&&o.range&&d(o.range(s,{localizer:f}),c)},r.handleNavigate=function(s,o){var c=r.props,u=c.view,d=c.date,f=c.getNow,h=c.onNavigate,p=Ji(c,lQ),g=r.getView(),m=f();d=sQ(g,tr(tr({},p),{},{action:s,date:o||d||m,today:m})),h(d,u,s),r.handleRangeChange(d,g)},r.handleViewChange=function(s){s!==r.props.view&&uQ(s,r.props)&&r.props.onView(s);var o=r.getViews();r.handleRangeChange(r.props.date||r.props.getNow(),o[s],s)},r.handleSelectEvent=function(){for(var s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];hr(r.props.onSelectEvent,o)},r.handleDoubleClickEvent=function(){for(var s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];hr(r.props.onDoubleClickEvent,o)},r.handleKeyPressEvent=function(){for(var s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];hr(r.props.onKeyPressEvent,o)},r.handleSelectSlot=function(s){hr(r.props.onSelectSlot,s)},r.handleDrillDown=function(s,o){var c=r.props.onDrillDown;if(c){c(s,o,r.drilldownView);return}o&&r.handleViewChange(o),r.handleNavigate(na.DATE,s)},r.state={context:e.getContext(r.props)},r}return Tn(e,t),Qr(e,[{key:"render",value:function(){var n=this.props,a=n.view,i=n.toolbar,s=n.events,o=n.backgroundEvents,c=n.resourceGroupingLayout,u=n.style,d=n.className,f=n.elementProps,h=n.date,p=n.getNow,g=n.length,m=n.showMultiDayTimes,y=n.onShowMore,b=n.doShowMoreDrillDown;n.components,n.formats,n.messages,n.culture;var x=Ji(n,cQ);h=h||p();var N=this.getView(),A=this.state.context,w=A.accessors,j=A.components,E=A.getters,O=A.localizer,k=A.viewNames,L=j.toolbar||hZ,C=N.title(h,{localizer:O,length:g});return z.createElement("div",Object.assign({},f,{className:Cr(d,"rbc-calendar",x.rtl&&"rbc-rtl"),style:u}),i&&z.createElement(L,{date:h,view:a,views:k,label:C,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:O}),z.createElement(N,Object.assign({},x,{events:s,backgroundEvents:o,date:h,getNow:p,length:g,localizer:O,getters:E,components:j,accessors:w,showMultiDayTimes:m,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:y,doShowMoreDrillDown:b,resourceGroupingLayout:c})))}}],[{key:"getDerivedStateFromProps",value:function(n){return{context:e.getContext(n)}}},{key:"getContext",value:function(n){var a=n.startAccessor,i=n.endAccessor,s=n.allDayAccessor,o=n.tooltipAccessor,c=n.titleAccessor,u=n.resourceAccessor,d=n.resourceIdAccessor,f=n.resourceTitleAccessor,h=n.eventIdAccessor,p=n.eventPropGetter,g=n.backgroundEventPropGetter,m=n.slotPropGetter,y=n.slotGroupPropGetter,b=n.dayPropGetter,x=n.view,N=n.views,A=n.localizer,w=n.culture,j=n.messages,E=j===void 0?{}:j,O=n.components,k=O===void 0?{}:O,L=n.formats,C=L===void 0?{}:L,P=Kk(N),I=mZ(E);return{viewNames:P,localizer:fZ(A,w,C,I),getters:{eventProp:function(){return p&&p.apply(void 0,arguments)||{}},backgroundEventProp:function(){return g&&g.apply(void 0,arguments)||{}},slotProp:function(){return m&&m.apply(void 0,arguments)||{}},slotGroupProp:function(){return y&&y.apply(void 0,arguments)||{}},dayProp:function(){return b&&b.apply(void 0,arguments)||{}}},components:MG(k[x]||{},EX(k,P),{eventWrapper:Fi,backgroundEventWrapper:Fi,eventContainerWrapper:Fi,dateCellWrapper:Fi,weekWrapper:Fi,timeSlotWrapper:Fi,timeGutterWrapper:Fi,timeIndicatorWrapper:Fi}),accessors:{start:vs(a),end:vs(i),allDay:vs(s),tooltip:vs(o),title:vs(c),resource:vs(u),resourceId:vs(d),resourceTitle:vs(f),eventId:vs(h)}}}}])}(z.Component);Xk.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:Fn.MONTH,views:[Fn.MONTH,Fn.WEEK,Fn.DAY,Fn.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:Fn.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var Zk=pT(Xk,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),dQ=function(e,r,n){var a=e.start,i=e.end;return"".concat(n.format(a,"P",r)," â€“ ").concat(n.format(i,"P",r))},ab=function(e,r,n){var a=e.start,i=e.end;return"".concat(n.format(a,"p",r)," â€“ ").concat(n.format(i,"p",r))},fQ=function(e,r,n){var a=e.start;return"".concat(n.format(a,"h:mma",r)," â€“ ")},hQ=function(e,r,n){var a=e.end;return" â€“ ".concat(n.format(a,"h:mma",r))},pQ=function(e,r,n){var a=e.start,i=e.end;return"".concat(n.format(a,"MMMM dd",r)," â€“ ").concat(n.format(i,Ku(a,i,"month")?"dd":"MMMM dd",r))},mQ={dateFormat:"dd",dayFormat:"dd eee",weekdayFormat:"ccc",selectRangeFormat:ab,eventTimeRangeFormat:ab,eventTimeRangeStartFormat:fQ,eventTimeRangeEndFormat:hQ,timeGutterFormat:"p",monthHeaderFormat:"MMMM yyyy",dayHeaderFormat:"cccc MMM dd",dayRangeHeaderFormat:pQ,agendaHeaderFormat:dQ,agendaDateFormat:"ccc MMM dd",agendaTimeFormat:"p",agendaTimeRangeFormat:ab},Qk=function(e){var r=e.startOfWeek,n=e.getDay,a=e.format,i=e.locales;return new dZ({formats:mQ,firstOfWeek:function(o){return n(r(new Date,{locale:i[o]}))},format:function(o,c,u){return a(new Date(o),c,{locale:i[u]})}})};const gQ={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},vQ=(t,e,r)=>{let n;const a=gQ[t];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function ib(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const yQ={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},bQ={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},xQ={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},wQ={date:ib({formats:yQ,defaultWidth:"full"}),time:ib({formats:bQ,defaultWidth:"full"}),dateTime:ib({formats:xQ,defaultWidth:"full"})},SQ={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},NQ=(t,e,r,n)=>SQ[t];function Jd(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,o=r!=null&&r.width?String(r.width):s;a=t.formattingValues[o]||t.formattingValues[s]}else{const s=t.defaultWidth,o=r!=null&&r.width?String(r.width):t.defaultWidth;a=t.values[o]||t.values[s]}const i=t.argumentCallback?t.argumentCallback(e):e;return a[i]}}const jQ={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},AQ={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},_Q={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},EQ={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},OQ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},CQ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},TQ=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},kQ={ordinalNumber:TQ,era:Jd({values:jQ,defaultWidth:"wide"}),quarter:Jd({values:AQ,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Jd({values:_Q,defaultWidth:"wide"}),day:Jd({values:EQ,defaultWidth:"wide"}),dayPeriod:Jd({values:OQ,defaultWidth:"wide",formattingValues:CQ,defaultFormattingWidth:"wide"})};function ef(t){return(e,r={})=>{const n=r.width,a=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],i=e.match(a);if(!i)return null;const s=i[0],o=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(o)?DQ(o,f=>f.test(s)):PQ(o,f=>f.test(s));let u;u=t.valueCallback?t.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=e.slice(s.length);return{value:u,rest:d}}}function PQ(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function DQ(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function MQ(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const a=n[0],i=e.match(t.parsePattern);if(!i)return null;let s=t.valueCallback?t.valueCallback(i[0]):i[0];s=r.valueCallback?r.valueCallback(s):s;const o=e.slice(a.length);return{value:s,rest:o}}}const RQ=/^(\d+)(th|st|nd|rd)?/i,LQ=/\d+/i,IQ={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},$Q={any:[/^b/i,/^(a|c)/i]},FQ={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},BQ={any:[/1/i,/2/i,/3/i,/4/i]},UQ={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},zQ={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},WQ={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},HQ={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},qQ={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},GQ={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},VQ={ordinalNumber:MQ({matchPattern:RQ,parsePattern:LQ,valueCallback:t=>parseInt(t,10)}),era:ef({matchPatterns:IQ,defaultMatchWidth:"wide",parsePatterns:$Q,defaultParseWidth:"any"}),quarter:ef({matchPatterns:FQ,defaultMatchWidth:"wide",parsePatterns:BQ,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ef({matchPatterns:UQ,defaultMatchWidth:"wide",parsePatterns:zQ,defaultParseWidth:"any"}),day:ef({matchPatterns:WQ,defaultMatchWidth:"wide",parsePatterns:HQ,defaultParseWidth:"any"}),dayPeriod:ef({matchPatterns:qQ,defaultMatchWidth:"any",parsePatterns:GQ,defaultParseWidth:"any"})},E2={code:"en-US",formatDistance:vQ,formatLong:wQ,formatRelative:NQ,localize:kQ,match:VQ,options:{weekStartsOn:0,firstWeekContainsDate:1}};let YQ={};function Qv(){return YQ}const Jk=6048e5,KQ=864e5,bj=Symbol.for("constructDateFrom");function jo(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&bj in t?t[bj](e):t instanceof Date?new t.constructor(e):new Date(e)}function Wa(t,e){return jo(e||t,t)}function xj(t){const e=Wa(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function XQ(t,...e){const r=jo.bind(null,e.find(n=>typeof n=="object"));return e.map(r)}function wj(t,e){const r=Wa(t,e==null?void 0:e.in);return r.setHours(0,0,0,0),r}function ZQ(t,e,r){const[n,a]=XQ(r==null?void 0:r.in,t,e),i=wj(n),s=wj(a),o=+i-xj(i),c=+s-xj(s);return Math.round((o-c)/KQ)}function QQ(t,e){const r=Wa(t,e==null?void 0:e.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function JQ(t,e){const r=Wa(t,e==null?void 0:e.in);return ZQ(r,QQ(r))+1}function Fl(t,e){var o,c,u,d;const r=Qv(),n=(e==null?void 0:e.weekStartsOn)??((c=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Wa(t,e==null?void 0:e.in),i=a.getDay(),s=(i<n?7:0)+i-n;return a.setDate(a.getDate()-s),a.setHours(0,0,0,0),a}function sg(t,e){return Fl(t,{...e,weekStartsOn:1})}function eP(t,e){const r=Wa(t,e==null?void 0:e.in),n=r.getFullYear(),a=jo(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const i=sg(a),s=jo(r,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const o=sg(s);return r.getTime()>=i.getTime()?n+1:r.getTime()>=o.getTime()?n:n-1}function eJ(t,e){const r=eP(t,e),n=jo(t,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),sg(n)}function tJ(t,e){const r=Wa(t,e==null?void 0:e.in),n=+sg(r)-+eJ(r);return Math.round(n/Jk)+1}function tP(t,e){var d,f,h,p;const r=Wa(t,e==null?void 0:e.in),n=r.getFullYear(),a=Qv(),i=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(h=a.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,s=jo((e==null?void 0:e.in)||t,0);s.setFullYear(n+1,0,i),s.setHours(0,0,0,0);const o=Fl(s,e),c=jo((e==null?void 0:e.in)||t,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=Fl(c,e);return+r>=+o?n+1:+r>=+u?n:n-1}function rJ(t,e){var o,c,u,d;const r=Qv(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=tP(t,e),i=jo((e==null?void 0:e.in)||t,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),Fl(i,e)}function nJ(t,e){const r=Wa(t,e==null?void 0:e.in),n=+Fl(r,e)-+rJ(r,e);return Math.round(n/Jk)+1}function qt(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const ro={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return qt(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):qt(r+1,2)},d(t,e){return qt(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return qt(t.getHours()%12||12,e.length)},H(t,e){return qt(t.getHours(),e.length)},m(t,e){return qt(t.getMinutes(),e.length)},s(t,e){return qt(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return qt(a,e.length)}},Mc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Sj={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return ro.y(t,e)},Y:function(t,e,r,n){const a=tP(t,n),i=a>0?a:1-a;if(e==="YY"){const s=i%100;return qt(s,2)}return e==="Yo"?r.ordinalNumber(i,{unit:"year"}):qt(i,e.length)},R:function(t,e){const r=eP(t);return qt(r,e.length)},u:function(t,e){const r=t.getFullYear();return qt(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return qt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return qt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return ro.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return qt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const a=nJ(t,n);return e==="wo"?r.ordinalNumber(a,{unit:"week"}):qt(a,e.length)},I:function(t,e,r){const n=tJ(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):qt(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):ro.d(t,e)},D:function(t,e,r){const n=JQ(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):qt(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const a=t.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return qt(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const a=t.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return qt(i,e.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),a=n===0?7:n;switch(e){case"i":return String(a);case"ii":return qt(a,e.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let a;switch(n===12?a=Mc.noon:n===0?a=Mc.midnight:a=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let a;switch(n>=17?a=Mc.evening:n>=12?a=Mc.afternoon:n>=4?a=Mc.morning:a=Mc.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return ro.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):ro.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):qt(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):qt(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):ro.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):ro.s(t,e)},S:function(t,e){return ro.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return jj(n);case"XXXX":case"XX":return sl(n);case"XXXXX":case"XXX":default:return sl(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return jj(n);case"xxxx":case"xx":return sl(n);case"xxxxx":case"xxx":default:return sl(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Nj(n,":");case"OOOO":default:return"GMT"+sl(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Nj(n,":");case"zzzz":default:return"GMT"+sl(n,":")}},t:function(t,e,r){const n=Math.trunc(+t/1e3);return qt(n,e.length)},T:function(t,e,r){return qt(+t,e.length)}};function Nj(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+e+qt(i,2)}function jj(t,e){return t%60===0?(t>0?"-":"+")+qt(Math.abs(t)/60,2):sl(t,e)}function sl(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=qt(Math.trunc(n/60),2),i=qt(n%60,2);return r+a+e+i}const Aj=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},rP=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},aJ=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return Aj(t,e);let i;switch(n){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",Aj(n,e)).replace("{{time}}",rP(a,e))},iJ={p:rP,P:aJ},sJ=/^D+$/,oJ=/^Y+$/,lJ=["D","DD","YY","YYYY"];function cJ(t){return sJ.test(t)}function uJ(t){return oJ.test(t)}function dJ(t,e,r){const n=fJ(t,e,r);if(console.warn(n),lJ.includes(t))throw new RangeError(n)}function fJ(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}function hJ(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function pJ(t){return!(!hJ(t)&&typeof t!="number"||isNaN(+Wa(t)))}const mJ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,gJ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,vJ=/^'([^]*?)'?$/,yJ=/''/g,bJ=/[a-zA-Z]/;function Jv(t,e,r){var d,f,h,p,g,m,y,b;const n=Qv(),a=(r==null?void 0:r.locale)??n.locale??E2,i=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,s=(r==null?void 0:r.weekStartsOn)??((m=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((b=(y=n.locale)==null?void 0:y.options)==null?void 0:b.weekStartsOn)??0,o=Wa(t,r==null?void 0:r.in);if(!pJ(o))throw new RangeError("Invalid time value");let c=e.match(gJ).map(x=>{const N=x[0];if(N==="p"||N==="P"){const A=iJ[N];return A(x,a.formatLong)}return x}).join("").match(mJ).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const N=x[0];if(N==="'")return{isToken:!1,value:xJ(x)};if(Sj[N])return{isToken:!0,value:x};if(N.match(bJ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");return{isToken:!1,value:x}});a.localize.preprocessor&&(c=a.localize.preprocessor(o,c));const u={firstWeekContainsDate:i,weekStartsOn:s,locale:a};return c.map(x=>{if(!x.isToken)return x.value;const N=x.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&uJ(N)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&cJ(N))&&dJ(N,e,String(t));const A=Sj[N[0]];return A(o,N,a.localize,u)}).join("")}function xJ(t){const e=t.match(vJ);return e?e[1].replace(yJ,"'"):t}function nP(t,e){return Wa(t,e==null?void 0:e.in).getDay()}function ft({children:t,variant:e="default",className:r="",disabled:n=!1,fullWidth:a=!1,...i}){let s="inline-flex items-center justify-center px-4 py-2 rounded font-medium focus:outline-none transition",o="";switch(e){case"outline":o="border border-blue-600 text-blue-600 bg-white hover:bg-blue-50";break;case"danger":o="bg-red-600 text-white hover:bg-red-700";break;default:o="bg-blue-600 text-white hover:bg-blue-700"}let c=n?"opacity-50 cursor-not-allowed":"",u=a?"w-full":"";return l.jsx("button",{className:`${s} ${o} ${c} ${u} ${r}`,disabled:n,...i,children:t})}const wJ={"en-US":E2},SJ=Qk({format:Jv,startOfWeek:Fl,getDay:nP,locales:wJ}),_j="bg-white bg-opacity-80 rounded-2xl shadow-lg border border-purple-100",Ej=["Leverage student leadership: Assign older students as event ambassadors to boost peer engagement and reduce adult volunteer burnout.","Use QR codes at events for instant feedback or sign-upsâ€”capture data while excitement is high.","Partner with local media or school journalism clubs to document and promote your event, increasing community reach.",`Schedule a "debrief" meeting after each event to document what worked, what didn't, and ideas for next yearâ€”build institutional memory.`,"Offer tiered volunteer roles (short shifts, behind-the-scenes, remote tasks) to include parents with limited availability.",'Create a "Volunteer Wall of Fame" at school or online to recognize and celebrate contributorsâ€”public recognition increases future engagement.',"Bundle events with other school activities (e.g., parent-teacher conferences) to maximize turnout and convenience.","Use a digital sign-up tool with automatic reminders to reduce no-shows and last-minute cancellations.","Survey families after each event to gather actionable feedback and new ideasâ€”share results at PTO meetings.","Develop a sponsorship package and approach local businesses for recurring annual support, not just one-off donations."],Oj=()=>{const t=xr(),[e,r]=R.useState("grid"),[n,a]=R.useState("manual"),[i,s]=R.useState(""),[o,c]=R.useState("all"),[u,d]=R.useState([]),[f,h]=R.useState(!0),[p,g]=R.useState(null),[m,y]=R.useState([]),[b,x]=R.useState(!0),[N,A]=R.useState(null),w="pto_events_dashboard_cache_v1";R.useEffect(()=>{async function F(){var Y,Q;h(!0),g(null);const X=localStorage.getItem(w);if(X)try{const se=JSON.parse(X);d(se.events||[]),h(!1)}catch{}try{const{data:{user:se},error:$}=await Ge.auth.getUser();if($||!se){g("User not authenticated"),h(!1);return}const W=((Y=se==null?void 0:se.user_metadata)==null?void 0:Y.org_id)||((Q=se==null?void 0:se.app_metadata)==null?void 0:Q.org_id);if(!W){g("Missing org_id in user metadata."),h(!1);return}const{data:ee,error:ae}=await Ge.from("events").select("*").eq("org_id",W).order("event_date",{ascending:!0});ae?g("Error loading events: "+ae.message):(d(ee||[]),localStorage.setItem(w,JSON.stringify({events:ee,ts:Date.now()})))}catch(se){g("Unexpected error: "+se.message)}finally{h(!1)}}F()},[]),R.useEffect(()=>{async function F(){x(!0),A(null);try{y(Ej.sort(()=>.5-Math.random()).slice(0,3))}catch{A("Could not load Stella Insights."),y(Ej.slice(0,3))}finally{x(!1)}}F()},[]);const j=()=>{t("/events/create")},E=F=>{t(`/events/detail/${F}`)},O=F=>{t(`/events/edit/${F}`)},k=F=>{window.confirm("Are you sure you want to delete this event?")&&console.log("Deleting event:",F)},L=u.map(F=>({id:F.id,title:F.title,start:new Date(F.event_date),end:new Date(F.event_date),allDay:!0})),C=new Date;[...u].filter(F=>new Date(F.event_date)>=C).sort((F,X)=>new Date(F.event_date)-new Date(X.event_date)).slice(0,3);const P=()=>{t("/events/calendar")},I=F=>{t(`/events/detail/${F.id}`)},M=F=>{const X={draft:"bg-gray-100 text-gray-800",planning:"bg-blue-100 text-blue-800",active:"bg-green-100 text-green-800",completed:"bg-purple-100 text-purple-800",cancelled:"bg-red-100 text-red-800"};return X[F]||X.draft},H=({event:F})=>l.jsx("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 hover:shadow-lg transition-shadow",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:F.title}),F.type==="stella-generated"&&l.jsx(zr,{className:"w-4 h-4 text-purple-500",title:"Stella Generated"})]}),l.jsx("p",{className:"text-sm text-gray-600 mb-3",children:F.description}),l.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(ea,{className:"w-4 h-4"}),l.jsx("span",{children:new Date(F.event_date).toLocaleDateString()})]}),l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx($a,{className:"w-4 h-4"}),l.jsxs("span",{children:[F.attendees," expected"]})]})]})]}),l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${M(F.status)}`,children:F.status.charAt(0).toUpperCase()+F.status.slice(1)})]}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[l.jsx("span",{className:"text-gray-600",children:"Progress"}),l.jsxs("span",{className:"font-medium text-gray-900",children:[F.progress,"%"]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${F.progress}%`}})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[l.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[l.jsx("div",{className:"text-sm text-gray-600",children:"Budget"}),l.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["$",F.estimated_budget||"N/A"]})]}),l.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[l.jsx("div",{className:"text-sm text-green-600",children:"Projected Profit"}),l.jsxs("div",{className:"text-lg font-semibold text-green-700",children:["$",F.profit]})]})]}),l.jsxs("div",{className:"flex flex-col gap-2 mt-4",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(ft,{onClick:()=>E(F.id),className:"flex-1 flex items-center justify-center rounded-lg",variant:"default",children:[l.jsx(du,{className:"w-6 h-6 mr-2"}),"View"]}),l.jsxs(ft,{onClick:()=>O(F.id),className:"flex-1 flex items-center justify-center rounded-lg",variant:"outline",children:[l.jsx(Xn,{className:"w-6 h-6 mr-2"}),"Edit"]})]}),l.jsxs(ft,{onClick:()=>t(`/events/${F.id}/event-management`),className:"mt-2 flex items-center justify-center rounded-lg text-lg font-semibold bg-purple-600 hover:bg-purple-700",fullWidth:!0,children:[l.jsx($a,{className:"w-7 h-7 mr-3"}),"Event Management"]})]})]})}),V=({event:F})=>l.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-4 flex-1",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("h3",{className:"font-medium text-gray-900",children:F.title}),F.type==="stella-generated"&&l.jsx(zr,{className:"w-4 h-4 text-purple-500"}),l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${M(F.status)}`,children:F.status})]}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:F.description})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-sm text-gray-500",children:"Date"}),l.jsx("div",{className:"font-medium",children:new Date(F.event_date).toLocaleDateString()})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-sm text-gray-500",children:"Attendees"}),l.jsx("div",{className:"font-medium",children:F.attendees})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-sm text-gray-500",children:"Budget"}),l.jsxs("div",{className:"font-medium",children:["$",F.estimated_budget||"N/A"]})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-sm text-gray-500",children:"Progress"}),l.jsxs("div",{className:"font-medium",children:[F.progress,"%"]})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{onClick:()=>E(F.id),className:"p-2 text-blue-600 hover:bg-blue-50 rounded",children:l.jsx(du,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>O(F.id),className:"p-2 text-gray-600 hover:bg-gray-50 rounded",children:l.jsx(Xn,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>k(F.id),className:"p-2 text-red-600 hover:bg-red-50 rounded",children:l.jsx(Av,{className:"w-4 h-4"})})]})]})});return l.jsxs("div",{className:"flex flex-col gap-8 p-6 max-w-7xl mx-auto",children:[l.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[l.jsxs("div",{className:"flex flex-col gap-4 md:w-1/2 max-w-md",children:[l.jsxs("div",{className:`${_j} p-6 min-h-[320px] flex flex-col justify-between`,children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("span",{className:"text-purple-600 text-xl",children:"âœ¨"}),l.jsx("span",{className:"font-bold text-lg text-purple-700",children:"Stella's Event Insights"})]}),b?l.jsx("div",{className:"text-gray-500",children:"Loading tips..."}):N?l.jsx("div",{className:"text-red-500",children:N}):l.jsx("ul",{className:"list-disc pl-5 text-purple-900 space-y-2",children:m.map((F,X)=>l.jsx("li",{children:F},X))}),l.jsx("div",{className:"mt-4 text-xs text-purple-400",children:"Tips powered by Stella AI"})]}),l.jsx("button",{onClick:j,className:"w-full py-3 rounded-xl font-semibold text-white bg-gradient-to-r from-pink-400 via-purple-400 to-teal-400 shadow hover:from-pink-500 hover:to-teal-500 transition",children:"+ Create Event"})]}),l.jsx("div",{className:"flex-1",children:l.jsxs("div",{className:`${_j} p-4`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h2",{className:"text-lg font-semibold text-purple-700",children:"Calendar"}),l.jsx("button",{onClick:P,className:"text-purple-600 hover:underline text-sm",children:"View Full Calendar"})]}),l.jsx("div",{className:"cursor-pointer",onClick:P,children:l.jsx(Zk,{localizer:SJ,events:L.map(F=>({...F,resource:{dotColor:"#a78bfa"}})),startAccessor:"start",endAccessor:"end",views:["month"],style:{height:300},toolbar:!1,selectable:!1,popup:!1,onSelectEvent:I,eventPropGetter:F=>({style:{backgroundColor:"transparent",color:"#a78bfa",border:"none",position:"relative"},className:"calendar-event-dot"}),components:{event:({event:F})=>{var X;return l.jsx("span",{style:{display:"inline-block",width:8,height:8,borderRadius:"50%",backgroundColor:((X=F.resource)==null?void 0:X.dotColor)||"#a78bfa",margin:2}})}}})})]})})]}),l.jsx("div",{className:e==="grid"?"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6 mt-8":"space-y-4 mt-8",children:f?l.jsx("div",{className:"text-gray-500 py-8 text-center text-base col-span-full",children:"Loading events..."}):p?l.jsx("div",{className:"text-red-500 py-8 text-center text-base col-span-full",children:p}):u.map(F=>e==="grid"?l.jsx(H,{event:F},F.id):l.jsx(V,{event:F},F.id))})]})};var En=Uint8Array,ha=Uint16Array,O2=Int32Array,ey=new En([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ty=new En([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Ox=new En([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),aP=function(t,e){for(var r=new ha(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var a=new O2(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},iP=aP(ey,2),sP=iP.b,Cx=iP.r;sP[28]=258,Cx[258]=28;var oP=aP(ty,0),NJ=oP.b,Cj=oP.r,Tx=new ha(32768);for(var pr=0;pr<32768;++pr){var no=(pr&43690)>>1|(pr&21845)<<1;no=(no&52428)>>2|(no&13107)<<2,no=(no&61680)>>4|(no&3855)<<4,Tx[pr]=((no&65280)>>8|(no&255)<<8)>>1}var Xi=function(t,e,r){for(var n=t.length,a=0,i=new ha(e);a<n;++a)t[a]&&++i[t[a]-1];var s=new ha(e);for(a=1;a<e;++a)s[a]=s[a-1]+i[a-1]<<1;var o;if(r){o=new ha(1<<e);var c=15-e;for(a=0;a<n;++a)if(t[a])for(var u=a<<4|t[a],d=e-t[a],f=s[t[a]-1]++<<d,h=f|(1<<d)-1;f<=h;++f)o[Tx[f]>>c]=u}else for(o=new ha(n),a=0;a<n;++a)t[a]&&(o[a]=Tx[s[t[a]-1]++]>>15-t[a]);return o},Ao=new En(288);for(var pr=0;pr<144;++pr)Ao[pr]=8;for(var pr=144;pr<256;++pr)Ao[pr]=9;for(var pr=256;pr<280;++pr)Ao[pr]=7;for(var pr=280;pr<288;++pr)Ao[pr]=8;var Qf=new En(32);for(var pr=0;pr<32;++pr)Qf[pr]=5;var jJ=Xi(Ao,9,0),AJ=Xi(Ao,9,1),_J=Xi(Qf,5,0),EJ=Xi(Qf,5,1),sb=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},ni=function(t,e,r){var n=e/8|0;return(t[n]|t[n+1]<<8)>>(e&7)&r},ob=function(t,e){var r=e/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(e&7)},C2=function(t){return(t+7)/8|0},lP=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new En(t.subarray(e,r))},OJ=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],si=function(t,e,r){var n=new Error(e||OJ[t]);if(n.code=t,Error.captureStackTrace&&Error.captureStackTrace(n,si),!r)throw n;return n},CJ=function(t,e,r,n){var a=t.length,i=0;if(!a||e.f&&!e.l)return r||new En(0);var s=!r,o=s||e.i!=2,c=e.i;s&&(r=new En(a*3));var u=function(xe){var pe=r.length;if(xe>pe){var Te=new En(Math.max(pe*2,xe));Te.set(r),r=Te}},d=e.f||0,f=e.p||0,h=e.b||0,p=e.l,g=e.d,m=e.m,y=e.n,b=a*8;do{if(!p){d=ni(t,f,1);var x=ni(t,f+1,3);if(f+=3,x)if(x==1)p=AJ,g=EJ,m=9,y=5;else if(x==2){var j=ni(t,f,31)+257,E=ni(t,f+10,15)+4,O=j+ni(t,f+5,31)+1;f+=14;for(var k=new En(O),L=new En(19),C=0;C<E;++C)L[Ox[C]]=ni(t,f+C*3,7);f+=E*3;for(var P=sb(L),I=(1<<P)-1,M=Xi(L,P,1),C=0;C<O;){var H=M[ni(t,f,I)];f+=H&15;var N=H>>4;if(N<16)k[C++]=N;else{var V=0,F=0;for(N==16?(F=3+ni(t,f,3),f+=2,V=k[C-1]):N==17?(F=3+ni(t,f,7),f+=3):N==18&&(F=11+ni(t,f,127),f+=7);F--;)k[C++]=V}}var X=k.subarray(0,j),Y=k.subarray(j);m=sb(X),y=sb(Y),p=Xi(X,m,1),g=Xi(Y,y,1)}else si(1);else{var N=C2(f)+4,A=t[N-4]|t[N-3]<<8,w=N+A;if(w>a){c&&si(0);break}o&&u(h+A),r.set(t.subarray(N,w),h),e.b=h+=A,e.p=f=w*8,e.f=d;continue}if(f>b){c&&si(0);break}}o&&u(h+131072);for(var Q=(1<<m)-1,se=(1<<y)-1,$=f;;$=f){var V=p[ob(t,f)&Q],W=V>>4;if(f+=V&15,f>b){c&&si(0);break}if(V||si(2),W<256)r[h++]=W;else if(W==256){$=f,p=null;break}else{var ee=W-254;if(W>264){var C=W-257,ae=ey[C];ee=ni(t,f,(1<<ae)-1)+sP[C],f+=ae}var oe=g[ob(t,f)&se],me=oe>>4;oe||si(3),f+=oe&15;var Y=NJ[me];if(me>3){var ae=ty[me];Y+=ob(t,f)&(1<<ae)-1,f+=ae}if(f>b){c&&si(0);break}o&&u(h+131072);var fe=h+ee;if(h<Y){var J=i-Y,ve=Math.min(Y,fe);for(J+h<0&&si(3);h<ve;++h)r[h]=n[J+h]}for(;h<fe;++h)r[h]=r[h-Y]}}e.l=p,e.p=$,e.b=h,e.f=d,p&&(d=1,e.m=m,e.d=g,e.n=y)}while(!d);return h!=r.length&&s?lP(r,0,h):r.subarray(0,h)},ys=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},tf=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},lb=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var a=r.length,i=r.slice();if(!a)return{t:uP,l:0};if(a==1){var s=new En(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(w,j){return w.f-j.f}),r.push({s:-1,f:25001});var o=r[0],c=r[1],u=0,d=1,f=2;for(r[0]={s:-1,f:o.f+c.f,l:o,r:c};d!=a-1;)o=r[r[u].f<r[f].f?u++:f++],c=r[u!=d&&r[u].f<r[f].f?u++:f++],r[d++]={s:-1,f:o.f+c.f,l:o,r:c};for(var h=i[0].s,n=1;n<a;++n)i[n].s>h&&(h=i[n].s);var p=new ha(h+1),g=kx(r[d-1],p,0);if(g>e){var n=0,m=0,y=g-e,b=1<<y;for(i.sort(function(j,E){return p[E.s]-p[j.s]||j.f-E.f});n<a;++n){var x=i[n].s;if(p[x]>e)m+=b-(1<<g-p[x]),p[x]=e;else break}for(m>>=y;m>0;){var N=i[n].s;p[N]<e?m-=1<<e-p[N]++-1:++n}for(;n>=0&&m;--n){var A=i[n].s;p[A]==e&&(--p[A],++m)}g=e}return{t:new En(p),l:g}},kx=function(t,e,r){return t.s==-1?Math.max(kx(t.l,e,r+1),kx(t.r,e,r+1)):e[t.s]=r},Tj=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new ha(++e),n=0,a=t[0],i=1,s=function(c){r[n++]=c},o=1;o<=e;++o)if(t[o]==a&&o!=e)++i;else{if(!a&&i>2){for(;i>138;i-=138)s(32754);i>2&&(s(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(s(a),--i;i>6;i-=6)s(8304);i>2&&(s(i-3<<5|8208),i=0)}for(;i--;)s(a);i=1,a=t[o]}return{c:r.subarray(0,n),n:e}},rf=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},cP=function(t,e,r){var n=r.length,a=C2(e+2);t[a]=n&255,t[a+1]=n>>8,t[a+2]=t[a]^255,t[a+3]=t[a+1]^255;for(var i=0;i<n;++i)t[a+i+4]=r[i];return(a+4+n)*8},kj=function(t,e,r,n,a,i,s,o,c,u,d){ys(e,d++,r),++a[256];for(var f=lb(a,15),h=f.t,p=f.l,g=lb(i,15),m=g.t,y=g.l,b=Tj(h),x=b.c,N=b.n,A=Tj(m),w=A.c,j=A.n,E=new ha(19),O=0;O<x.length;++O)++E[x[O]&31];for(var O=0;O<w.length;++O)++E[w[O]&31];for(var k=lb(E,7),L=k.t,C=k.l,P=19;P>4&&!L[Ox[P-1]];--P);var I=u+5<<3,M=rf(a,Ao)+rf(i,Qf)+s,H=rf(a,h)+rf(i,m)+s+14+3*P+rf(E,L)+2*E[16]+3*E[17]+7*E[18];if(c>=0&&I<=M&&I<=H)return cP(e,d,t.subarray(c,c+u));var V,F,X,Y;if(ys(e,d,1+(H<M)),d+=2,H<M){V=Xi(h,p,0),F=h,X=Xi(m,y,0),Y=m;var Q=Xi(L,C,0);ys(e,d,N-257),ys(e,d+5,j-1),ys(e,d+10,P-4),d+=14;for(var O=0;O<P;++O)ys(e,d+3*O,L[Ox[O]]);d+=3*P;for(var se=[x,w],$=0;$<2;++$)for(var W=se[$],O=0;O<W.length;++O){var ee=W[O]&31;ys(e,d,Q[ee]),d+=L[ee],ee>15&&(ys(e,d,W[O]>>5&127),d+=W[O]>>12)}}else V=jJ,F=Ao,X=_J,Y=Qf;for(var O=0;O<o;++O){var ae=n[O];if(ae>255){var ee=ae>>18&31;tf(e,d,V[ee+257]),d+=F[ee+257],ee>7&&(ys(e,d,ae>>23&31),d+=ey[ee]);var oe=ae&31;tf(e,d,X[oe]),d+=Y[oe],oe>3&&(tf(e,d,ae>>5&8191),d+=ty[oe])}else tf(e,d,V[ae]),d+=F[ae]}return tf(e,d,V[256]),d+F[256]},TJ=new O2([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),uP=new En(0),kJ=function(t,e,r,n,a,i){var s=i.z||t.length,o=new En(n+s+5*(1+Math.ceil(s/7e3))+a),c=o.subarray(n,o.length-a),u=i.l,d=(i.r||0)&7;if(e){d&&(c[0]=i.r>>3);for(var f=TJ[e-1],h=f>>13,p=f&8191,g=(1<<r)-1,m=i.p||new ha(32768),y=i.h||new ha(g+1),b=Math.ceil(r/3),x=2*b,N=function(Me){return(t[Me]^t[Me+1]<<b^t[Me+2]<<x)&g},A=new O2(25e3),w=new ha(288),j=new ha(32),E=0,O=0,k=i.i||0,L=0,C=i.w||0,P=0;k+2<s;++k){var I=N(k),M=k&32767,H=y[I];if(m[M]=H,y[I]=M,C<=k){var V=s-k;if((E>7e3||L>24576)&&(V>423||!u)){d=kj(t,c,0,A,w,j,O,L,P,k-P,d),L=E=O=0,P=k;for(var F=0;F<286;++F)w[F]=0;for(var F=0;F<30;++F)j[F]=0}var X=2,Y=0,Q=p,se=M-H&32767;if(V>2&&I==N(k-se))for(var $=Math.min(h,V)-1,W=Math.min(32767,k),ee=Math.min(258,V);se<=W&&--Q&&M!=H;){if(t[k+X]==t[k+X-se]){for(var ae=0;ae<ee&&t[k+ae]==t[k+ae-se];++ae);if(ae>X){if(X=ae,Y=se,ae>$)break;for(var oe=Math.min(se,ae-2),me=0,F=0;F<oe;++F){var fe=k-se+F&32767,J=m[fe],ve=fe-J&32767;ve>me&&(me=ve,H=fe)}}}M=H,H=m[M],se+=M-H&32767}if(Y){A[L++]=268435456|Cx[X]<<18|Cj[Y];var xe=Cx[X]&31,pe=Cj[Y]&31;O+=ey[xe]+ty[pe],++w[257+xe],++j[pe],C=k+X,++E}else A[L++]=t[k],++w[t[k]]}}for(k=Math.max(k,C);k<s;++k)A[L++]=t[k],++w[t[k]];d=kj(t,c,u,A,w,j,O,L,P,k-P,d),u||(i.r=d&7|c[d/8|0]<<3,d-=7,i.h=y,i.p=m,i.i=k,i.w=C)}else{for(var k=i.w||0;k<s+u;k+=65535){var Te=k+65535;Te>=s&&(c[d/8|0]=u,Te=s),d=cP(c,d+1,t.subarray(k,Te))}i.i=s}return lP(o,0,n+C2(d)+a)},dP=function(){var t=1,e=0;return{p:function(r){for(var n=t,a=e,i=r.length|0,s=0;s!=i;){for(var o=Math.min(s+2655,i);s<o;++s)a+=n+=r[s];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}t=n,e=a},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},PJ=function(t,e,r,n,a){if(!a&&(a={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),s=new En(i.length+t.length);s.set(i),s.set(t,i.length),t=s,a.w=i.length}return kJ(t,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,a)},fP=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},DJ=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var a=dP();a.p(e.dictionary),fP(t,2,a.d())}},MJ=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&si(6,"invalid zlib data"),(t[1]>>5&1)==1&&si(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function Px(t,e){e||(e={});var r=dP();r.p(t);var n=PJ(t,e,e.dictionary?6:2,4);return DJ(n,e),fP(n,n.length-4,r.d()),n}function RJ(t,e){return CJ(t.subarray(MJ(t),-4),{i:2},e,e)}var LJ=typeof TextDecoder<"u"&&new TextDecoder,IJ=0;try{LJ.decode(uP,{stream:!0}),IJ=1}catch{}var ct=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function cb(){ct.console&&typeof ct.console.log=="function"&&ct.console.log.apply(ct.console,arguments)}var Jt={log:cb,warn:function(t){ct.console&&(typeof ct.console.warn=="function"?ct.console.warn.apply(ct.console,arguments):cb.call(null,arguments))},error:function(t){ct.console&&(typeof ct.console.error=="function"?ct.console.error.apply(ct.console,arguments):cb(t))}};function ub(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){ol(n.response,e,r)},n.onerror=function(){Jt.error("could not download file")},n.send()}function Pj(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function nm(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Sf,Dx,ol=ct.saveAs||((typeof window>"u"?"undefined":Ot(window))!=="object"||window!==ct?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=ct.URL||ct.webkitURL,a=document.createElement("a");e=e||t.name||"download",a.download=e,a.rel="noopener",typeof t=="string"?(a.href=t,a.origin!==location.origin?Pj(a.href)?ub(t,e,r):nm(a,a.target="_blank"):nm(a)):(a.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){nm(a)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(Pj(t))ub(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){nm(n)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:Ot(i)!=="object"&&(Jt.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return ub(t,e,r);var a=t.type==="application/octet-stream",i=/constructor/i.test(ct.HTMLElement)||ct.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||a&&i)&&(typeof FileReader>"u"?"undefined":Ot(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var d=o.result;d=s?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},o.readAsDataURL(t)}else{var c=ct.URL||ct.webkitURL,u=c.createObjectURL(t);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function hP(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,s=a.exec(t);s&&(e=i(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+o+c+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function db(t,e){var r=t[0],n=t[1],a=t[2],i=t[3];r=bn(r,n,a,i,e[0],7,-680876936),i=bn(i,r,n,a,e[1],12,-389564586),a=bn(a,i,r,n,e[2],17,606105819),n=bn(n,a,i,r,e[3],22,-1044525330),r=bn(r,n,a,i,e[4],7,-176418897),i=bn(i,r,n,a,e[5],12,1200080426),a=bn(a,i,r,n,e[6],17,-1473231341),n=bn(n,a,i,r,e[7],22,-45705983),r=bn(r,n,a,i,e[8],7,1770035416),i=bn(i,r,n,a,e[9],12,-1958414417),a=bn(a,i,r,n,e[10],17,-42063),n=bn(n,a,i,r,e[11],22,-1990404162),r=bn(r,n,a,i,e[12],7,1804603682),i=bn(i,r,n,a,e[13],12,-40341101),a=bn(a,i,r,n,e[14],17,-1502002290),r=xn(r,n=bn(n,a,i,r,e[15],22,1236535329),a,i,e[1],5,-165796510),i=xn(i,r,n,a,e[6],9,-1069501632),a=xn(a,i,r,n,e[11],14,643717713),n=xn(n,a,i,r,e[0],20,-373897302),r=xn(r,n,a,i,e[5],5,-701558691),i=xn(i,r,n,a,e[10],9,38016083),a=xn(a,i,r,n,e[15],14,-660478335),n=xn(n,a,i,r,e[4],20,-405537848),r=xn(r,n,a,i,e[9],5,568446438),i=xn(i,r,n,a,e[14],9,-1019803690),a=xn(a,i,r,n,e[3],14,-187363961),n=xn(n,a,i,r,e[8],20,1163531501),r=xn(r,n,a,i,e[13],5,-1444681467),i=xn(i,r,n,a,e[2],9,-51403784),a=xn(a,i,r,n,e[7],14,1735328473),r=wn(r,n=xn(n,a,i,r,e[12],20,-1926607734),a,i,e[5],4,-378558),i=wn(i,r,n,a,e[8],11,-2022574463),a=wn(a,i,r,n,e[11],16,1839030562),n=wn(n,a,i,r,e[14],23,-35309556),r=wn(r,n,a,i,e[1],4,-1530992060),i=wn(i,r,n,a,e[4],11,1272893353),a=wn(a,i,r,n,e[7],16,-155497632),n=wn(n,a,i,r,e[10],23,-1094730640),r=wn(r,n,a,i,e[13],4,681279174),i=wn(i,r,n,a,e[0],11,-358537222),a=wn(a,i,r,n,e[3],16,-722521979),n=wn(n,a,i,r,e[6],23,76029189),r=wn(r,n,a,i,e[9],4,-640364487),i=wn(i,r,n,a,e[12],11,-421815835),a=wn(a,i,r,n,e[15],16,530742520),r=Sn(r,n=wn(n,a,i,r,e[2],23,-995338651),a,i,e[0],6,-198630844),i=Sn(i,r,n,a,e[7],10,1126891415),a=Sn(a,i,r,n,e[14],15,-1416354905),n=Sn(n,a,i,r,e[5],21,-57434055),r=Sn(r,n,a,i,e[12],6,1700485571),i=Sn(i,r,n,a,e[3],10,-1894986606),a=Sn(a,i,r,n,e[10],15,-1051523),n=Sn(n,a,i,r,e[1],21,-2054922799),r=Sn(r,n,a,i,e[8],6,1873313359),i=Sn(i,r,n,a,e[15],10,-30611744),a=Sn(a,i,r,n,e[6],15,-1560198380),n=Sn(n,a,i,r,e[13],21,1309151649),r=Sn(r,n,a,i,e[4],6,-145523070),i=Sn(i,r,n,a,e[11],10,-1120210379),a=Sn(a,i,r,n,e[2],15,718787259),n=Sn(n,a,i,r,e[9],21,-343485551),t[0]=co(r,t[0]),t[1]=co(n,t[1]),t[2]=co(a,t[2]),t[3]=co(i,t[3])}function ry(t,e,r,n,a,i){return e=co(co(e,t),co(n,i)),co(e<<a|e>>>32-a,r)}function bn(t,e,r,n,a,i,s){return ry(e&r|~e&n,t,e,a,i,s)}function xn(t,e,r,n,a,i,s){return ry(e&n|r&~n,t,e,a,i,s)}function wn(t,e,r,n,a,i,s){return ry(e^r^n,t,e,a,i,s)}function Sn(t,e,r,n,a,i,s){return ry(r^(e|~n),t,e,a,i,s)}function pP(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)db(n,$J(t.substring(e-64,e)));t=t.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)a[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(db(n,a),e=0;e<16;e++)a[e]=0;return a[14]=8*r,db(n,a),n}function $J(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}Sf=ct.atob.bind(ct),Dx=ct.btoa.bind(ct);var Dj="0123456789abcdef".split("");function FJ(t){for(var e="",r=0;r<4;r++)e+=Dj[t>>8*r+4&15]+Dj[t>>8*r&15];return e}function BJ(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Mx(t){return pP(t).map(BJ).join("")}var UJ=function(t){for(var e=0;e<t.length;e++)t[e]=FJ(t[e]);return t.join("")}(pP("hello"))!="5d41402abc4b2a76b9719d911017c592";function co(t,e){if(UJ){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Rx(t,e){var r,n,a,i;if(t!==r){for(var s=(a=t,i=1+(256/t.length>>0),new Array(i+1).join(a)),o=[],c=0;c<256;c++)o[c]=c;var u=0;for(c=0;c<256;c++){var d=o[c];u=(u+d+s.charCodeAt(c))%256,o[c]=o[u],o[u]=d}r=t,n=o}else o=n;var f=e.length,h=0,p=0,g="";for(c=0;c<f;c++)p=(p+(d=o[h=(h+1)%256]))%256,o[h]=o[p],o[p]=d,s=o[(o[h]+o[p])%256],g+=String.fromCharCode(e.charCodeAt(c)^s);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Mj={print:4,modify:8,copy:16,"annot-forms":32};function zc(t,e,r,n){this.v=1,this.r=2;var a=192;t.forEach(function(o){if(Mj.perm!==void 0)throw new Error("Invalid permission: "+o);a+=Mj[o]}),this.padding="(Â¿N^NuÂŠAd\0NVÃ¿Ãº\b..\0Â¶Ãh>Â€/\fÂ©Ã¾dSiz";var i=(e+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,s),this.P=-(1+(255^a)),this.encryptionKey=Mx(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Rx(this.encryptionKey,this.padding)}function Wc(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var a=t.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?e+="#"+("0"+a.toString(16)).slice(-2):e+=t[n]}return e}function Rj(t){if(Ot(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var i=Math.random().toString(35);return e[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in e[r]){var s=e[r][i];try{s[0].apply(t,n)}catch(o){ct.console&&Jt.error("jsPDF PubSub Error",o.message,o)}s[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function og(t){if(!(this instanceof og))return new og(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function mP(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function hl(t,e,r,n,a){if(!(this instanceof hl))return new hl(t,e,r,n,a);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,mP.call(this,n,a)}function Gc(t,e,r,n,a){if(!(this instanceof Gc))return new Gc(t,e,r,n,a);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,mP.call(this,n,a)}function ot(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],s=[],o=1,c=16,u="S",d=null;Ot(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,a=t.format||a,i=t.compress||t.compressPdf||i,(d=t.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),u=t.defaultPathOperation||"S"),s=t.filters||(i===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=t.putOnlyUsedFonts||!1,h={},p={internal:{},__private__:{}};p.__private__.PubSub=Rj;var g="1.3",m=p.__private__.getPdfVersion=function(){return g};p.__private__.setPdfVersion=function(_){g=_};var y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return y};var b=p.__private__.getPageFormat=function(_){return y[_]};a=a||"a4";var x={COMPAT:"compat",ADVANCED:"advanced"},N=x.COMPAT;function A(){this.saveGraphicsState(),ne(new it(ze,0,0,-ze,0,Hs()*ze).toString()+" cm"),this.setFontSize(this.getFontSize()/ze),u="n",N=x.ADVANCED}function w(){this.restoreGraphicsState(),u="S",N=x.COMPAT}var j=p.__private__.combineFontStyleAndFontWeight=function(_,U){if(_=="bold"&&U=="normal"||_=="bold"&&U==400||_=="normal"&&U=="italic"||_=="bold"&&U=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return U&&(_=U==400||U==="normal"?_==="italic"?"italic":"normal":U!=700&&U!=="bold"||_!=="normal"?(U==700?"bold":U)+""+_:"bold"),_};p.advancedAPI=function(_){var U=N===x.COMPAT;return U&&A.call(this),typeof _!="function"||(_(this),U&&w.call(this)),this},p.compatAPI=function(_){var U=N===x.ADVANCED;return U&&w.call(this),typeof _!="function"||(_(this),U&&A.call(this)),this},p.isAdvancedAPI=function(){return N===x.ADVANCED};var E,O=function(_){if(N!==x.ADVANCED)throw new Error(_+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},k=p.roundToPrecision=p.__private__.roundToPrecision=function(_,U){var re=e||U;if(isNaN(_)||isNaN(re))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return _.toFixed(re).replace(/0+$/,"")};E=p.hpf=p.__private__.hpf=typeof c=="number"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return k(_,c)}:c==="smart"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return k(_,_>-1&&_<1?16:5)}:function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return k(_,16)};var L=p.f2=p.__private__.f2=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f2");return k(_,2)},C=p.__private__.f3=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f3");return k(_,3)},P=p.scale=p.__private__.scale=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.scale");return N===x.COMPAT?_*ze:N===x.ADVANCED?_:void 0},I=function(_){return N===x.COMPAT?Hs()-_:N===x.ADVANCED?_:void 0},M=function(_){return P(I(_))};p.__private__.setPrecision=p.setPrecision=function(_){typeof parseInt(_,10)=="number"&&(e=parseInt(_,10))};var H,V="00000000000000000000000000000000",F=p.__private__.getFileId=function(){return V},X=p.__private__.setFileId=function(_){return V=_!==void 0&&/^[a-fA-F0-9]{32}$/.test(_)?_.toUpperCase():V.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(gn=new zc(d.userPermissions,d.userPassword,d.ownerPassword,V)),V};p.setFileId=function(_){return X(_),this},p.getFileId=function(){return F()};var Y=p.__private__.convertDateToPDFDate=function(_){var U=_.getTimezoneOffset(),re=U<0?"+":"-",le=Math.floor(Math.abs(U/60)),ge=Math.abs(U%60),je=[re,ee(le),"'",ee(ge),"'"].join("");return["D:",_.getFullYear(),ee(_.getMonth()+1),ee(_.getDate()),ee(_.getHours()),ee(_.getMinutes()),ee(_.getSeconds()),je].join("")},Q=p.__private__.convertPDFDateToDate=function(_){var U=parseInt(_.substr(2,4),10),re=parseInt(_.substr(6,2),10)-1,le=parseInt(_.substr(8,2),10),ge=parseInt(_.substr(10,2),10),je=parseInt(_.substr(12,2),10),De=parseInt(_.substr(14,2),10);return new Date(U,re,le,ge,je,De,0)},se=p.__private__.setCreationDate=function(_){var U;if(_===void 0&&(_=new Date),_ instanceof Date)U=Y(_);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(_))throw new Error("Invalid argument passed to jsPDF.setCreationDate");U=_}return H=U},$=p.__private__.getCreationDate=function(_){var U=H;return _==="jsDate"&&(U=Q(H)),U};p.setCreationDate=function(_){return se(_),this},p.getCreationDate=function(_){return $(_)};var W,ee=p.__private__.padd2=function(_){return("0"+parseInt(_)).slice(-2)},ae=p.__private__.padd2Hex=function(_){return("00"+(_=_.toString())).substr(_.length)},oe=0,me=[],fe=[],J=0,ve=[],xe=[],pe=!1,Te=fe,Me=function(){oe=0,J=0,fe=[],me=[],ve=[],ss=Lr(),Ka=Lr()};p.__private__.setCustomOutputDestination=function(_){pe=!0,Te=_};var we=function(_){pe||(Te=_)};p.__private__.resetCustomOutputDestination=function(){pe=!1,Te=fe};var ne=p.__private__.out=function(_){return _=_.toString(),J+=_.length+1,Te.push(_),Te},Qe=p.__private__.write=function(_){return ne(arguments.length===1?_.toString():Array.prototype.join.call(arguments," "))},He=p.__private__.getArrayBuffer=function(_){for(var U=_.length,re=new ArrayBuffer(U),le=new Uint8Array(re);U--;)le[U]=_.charCodeAt(U);return re},Pe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Pe};var Re=t.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(_){return Re=N===x.ADVANCED?_/ze:_,this};var $e,Ie=p.__private__.getFontSize=p.getFontSize=function(){return N===x.COMPAT?Re:Re*ze},Ze=t.R2L||!1;p.__private__.setR2L=p.setR2L=function(_){return Ze=_,this},p.__private__.getR2L=p.getR2L=function(){return Ze};var at,ht=p.__private__.setZoomMode=function(_){var U=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(_))$e=_;else if(isNaN(_)){if(U.indexOf(_)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+_+'" is not recognized.');$e=_}else $e=parseInt(_,10)};p.__private__.getZoomMode=function(){return $e};var St,At=p.__private__.setPageMode=function(_){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(_)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+_+'" is not recognized.');at=_};p.__private__.getPageMode=function(){return at};var Ft=p.__private__.setLayoutMode=function(_){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(_)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+_+'" is not recognized.');St=_};p.__private__.getLayoutMode=function(){return St},p.__private__.setDisplayMode=p.setDisplayMode=function(_,U,re){return ht(_),Ft(U),At(re),this};var pt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(_){if(Object.keys(pt).indexOf(_)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return pt[_]},p.__private__.getDocumentProperties=function(){return pt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(_){for(var U in pt)pt.hasOwnProperty(U)&&_[U]&&(pt[U]=_[U]);return this},p.__private__.setDocumentProperty=function(_,U){if(Object.keys(pt).indexOf(_)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return pt[_]=U};var jt,ze,mn,Mt,Ga,Zt={},gr={},_i=[],Ut={},Bo={},wr={},Va={},is=null,Sr=0,gt=[],zt=new Rj(p),Uo=t.hotfixes||[],cn={},Ei={},Oi=[],it=function _(U,re,le,ge,je,De){if(!(this instanceof _))return new _(U,re,le,ge,je,De);isNaN(U)&&(U=1),isNaN(re)&&(re=0),isNaN(le)&&(le=0),isNaN(ge)&&(ge=1),isNaN(je)&&(je=0),isNaN(De)&&(De=0),this._matrix=[U,re,le,ge,je,De]};Object.defineProperty(it.prototype,"sx",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(it.prototype,"shy",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(it.prototype,"shx",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(it.prototype,"sy",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(it.prototype,"tx",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(it.prototype,"ty",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(it.prototype,"a",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(it.prototype,"b",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(it.prototype,"c",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(it.prototype,"d",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(it.prototype,"e",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(it.prototype,"f",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(it.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(it.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(it.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(it.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),it.prototype.join=function(_){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(E).join(_)},it.prototype.multiply=function(_){var U=_.sx*this.sx+_.shy*this.shx,re=_.sx*this.shy+_.shy*this.sy,le=_.shx*this.sx+_.sy*this.shx,ge=_.shx*this.shy+_.sy*this.sy,je=_.tx*this.sx+_.ty*this.shx+this.tx,De=_.tx*this.shy+_.ty*this.sy+this.ty;return new it(U,re,le,ge,je,De)},it.prototype.decompose=function(){var _=this.sx,U=this.shy,re=this.shx,le=this.sy,ge=this.tx,je=this.ty,De=Math.sqrt(_*_+U*U),qe=(_/=De)*re+(U/=De)*le;re-=_*qe,le-=U*qe;var Je=Math.sqrt(re*re+le*le);return qe/=Je,_*(le/=Je)<U*(re/=Je)&&(_=-_,U=-U,qe=-qe,De=-De),{scale:new it(De,0,0,Je,0,0),translate:new it(1,0,0,1,ge,je),rotate:new it(_,U,-U,_,0,0),skew:new it(1,0,qe,1,0,0)}},it.prototype.toString=function(_){return this.join(" ")},it.prototype.inversed=function(){var _=this.sx,U=this.shy,re=this.shx,le=this.sy,ge=this.tx,je=this.ty,De=1/(_*le-U*re),qe=le*De,Je=-U*De,bt=-re*De,vt=_*De;return new it(qe,Je,bt,vt,-qe*ge-bt*je,-Je*ge-vt*je)},it.prototype.applyToPoint=function(_){var U=_.x*this.sx+_.y*this.shx+this.tx,re=_.x*this.shy+_.y*this.sy+this.ty;return new vc(U,re)},it.prototype.applyToRectangle=function(_){var U=this.applyToPoint(_),re=this.applyToPoint(new vc(_.x+_.w,_.y+_.h));return new Td(U.x,U.y,re.x-U.x,re.y-U.y)},it.prototype.clone=function(){var _=this.sx,U=this.shy,re=this.shx,le=this.sy,ge=this.tx,je=this.ty;return new it(_,U,re,le,ge,je)},p.Matrix=it;var Ya=p.matrixMult=function(_,U){return U.multiply(_)},Ci=new it(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Ci;var Hn=function(_,U){if(!Bo[_]){var re=(U instanceof hl?"Sh":"P")+(Object.keys(Ut).length+1).toString(10);U.id=re,Bo[_]=re,Ut[re]=U,zt.publish("addPattern",U)}};p.ShadingPattern=hl,p.TilingPattern=Gc,p.addShadingPattern=function(_,U){return O("addShadingPattern()"),Hn(_,U),this},p.beginTilingPattern=function(_){O("beginTilingPattern()"),_p(_.boundingBox[0],_.boundingBox[1],_.boundingBox[2]-_.boundingBox[0],_.boundingBox[3]-_.boundingBox[1],_.matrix)},p.endTilingPattern=function(_,U){O("endTilingPattern()"),U.stream=xe[W].join(`
`),Hn(_,U),zt.publish("endTilingPattern",U),Oi.pop().restore()};var Gr=p.__private__.newObject=function(){var _=Lr();return ia(_,!0),_},Lr=p.__private__.newObjectDeferred=function(){return oe++,me[oe]=function(){return J},oe},ia=function(_,U){return U=typeof U=="boolean"&&U,me[_]=J,U&&ne(_+" 0 obj"),_},ac=p.__private__.newAdditionalObject=function(){var _={objId:Lr(),content:""};return ve.push(_),_},ss=Lr(),Ka=Lr(),Xa=p.__private__.decodeColorString=function(_){var U=_.split(" ");if(U.length!==2||U[1]!=="g"&&U[1]!=="G")U.length===5&&(U[4]==="k"||U[4]==="K")&&(U=[(1-U[0])*(1-U[3]),(1-U[1])*(1-U[3]),(1-U[2])*(1-U[3]),"r"]);else{var re=parseFloat(U[0]);U=[re,re,re,"r"]}for(var le="#",ge=0;ge<3;ge++)le+=("0"+Math.floor(255*parseFloat(U[ge])).toString(16)).slice(-2);return le},Za=p.__private__.encodeColorString=function(_){var U;typeof _=="string"&&(_={ch1:_});var re=_.ch1,le=_.ch2,ge=_.ch3,je=_.ch4,De=_.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof re=="string"&&re.charAt(0)!=="#"){var qe=new hP(re);if(qe.ok)re=qe.toHex();else if(!/^\d*\.?\d*$/.test(re))throw new Error('Invalid color "'+re+'" passed to jsPDF.encodeColorString.')}if(typeof re=="string"&&/^#[0-9A-Fa-f]{3}$/.test(re)&&(re="#"+re[1]+re[1]+re[2]+re[2]+re[3]+re[3]),typeof re=="string"&&/^#[0-9A-Fa-f]{6}$/.test(re)){var Je=parseInt(re.substr(1),16);re=Je>>16&255,le=Je>>8&255,ge=255&Je}if(le===void 0||je===void 0&&re===le&&le===ge)if(typeof re=="string")U=re+" "+De[0];else switch(_.precision){case 2:U=L(re/255)+" "+De[0];break;case 3:default:U=C(re/255)+" "+De[0]}else if(je===void 0||Ot(je)==="object"){if(je&&!isNaN(je.a)&&je.a===0)return U=["1.","1.","1.",De[1]].join(" ");if(typeof re=="string")U=[re,le,ge,De[1]].join(" ");else switch(_.precision){case 2:U=[L(re/255),L(le/255),L(ge/255),De[1]].join(" ");break;default:case 3:U=[C(re/255),C(le/255),C(ge/255),De[1]].join(" ")}}else if(typeof re=="string")U=[re,le,ge,je,De[2]].join(" ");else switch(_.precision){case 2:U=[L(re),L(le),L(ge),L(je),De[2]].join(" ");break;case 3:default:U=[C(re),C(le),C(ge),C(je),De[2]].join(" ")}return U},Ti=p.__private__.getFilters=function(){return s},ba=p.__private__.putStream=function(_){var U=(_=_||{}).data||"",re=_.filters||Ti(),le=_.alreadyAppliedFilters||[],ge=_.addLength1||!1,je=U.length,De=_.objectId,qe=function(vn){return vn};if(d!==null&&De===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(qe=gn.encryptor(De,0));var Je={};re===!0&&(re=["FlateEncode"]);var bt=_.additionalKeyValues||[],vt=(Je=ot.API.processDataByFilters!==void 0?ot.API.processDataByFilters(U,re):{data:U,reverseChain:[]}).reverseChain+(Array.isArray(le)?le.join(" "):le.toString());if(Je.data.length!==0&&(bt.push({key:"Length",value:Je.data.length}),ge===!0&&bt.push({key:"Length1",value:je})),vt.length!=0)if(vt.split("/").length-1==1)bt.push({key:"Filter",value:vt});else{bt.push({key:"Filter",value:"["+vt+"]"});for(var Tt=0;Tt<bt.length;Tt+=1)if(bt[Tt].key==="DecodeParms"){for(var br=[],Nr=0;Nr<Je.reverseChain.split("/").length-1;Nr+=1)br.push("null");br.push(bt[Tt].value),bt[Tt].value="["+br.join(" ")+"]"}}ne("<<");for(var Ir=0;Ir<bt.length;Ir++)ne("/"+bt[Ir].key+" "+bt[Ir].value);ne(">>"),Je.data.length!==0&&(ne("stream"),ne(qe(Je.data)),ne("endstream"))},ki=p.__private__.putPage=function(_){var U=_.number,re=_.data,le=_.objId,ge=_.contentsObjId;ia(le,!0),ne("<</Type /Page"),ne("/Parent "+_.rootDictionaryObjId+" 0 R"),ne("/Resources "+_.resourceDictionaryObjId+" 0 R"),ne("/MediaBox ["+parseFloat(E(_.mediaBox.bottomLeftX))+" "+parseFloat(E(_.mediaBox.bottomLeftY))+" "+E(_.mediaBox.topRightX)+" "+E(_.mediaBox.topRightY)+"]"),_.cropBox!==null&&ne("/CropBox ["+E(_.cropBox.bottomLeftX)+" "+E(_.cropBox.bottomLeftY)+" "+E(_.cropBox.topRightX)+" "+E(_.cropBox.topRightY)+"]"),_.bleedBox!==null&&ne("/BleedBox ["+E(_.bleedBox.bottomLeftX)+" "+E(_.bleedBox.bottomLeftY)+" "+E(_.bleedBox.topRightX)+" "+E(_.bleedBox.topRightY)+"]"),_.trimBox!==null&&ne("/TrimBox ["+E(_.trimBox.bottomLeftX)+" "+E(_.trimBox.bottomLeftY)+" "+E(_.trimBox.topRightX)+" "+E(_.trimBox.topRightY)+"]"),_.artBox!==null&&ne("/ArtBox ["+E(_.artBox.bottomLeftX)+" "+E(_.artBox.bottomLeftY)+" "+E(_.artBox.topRightX)+" "+E(_.artBox.topRightY)+"]"),typeof _.userUnit=="number"&&_.userUnit!==1&&ne("/UserUnit "+_.userUnit),zt.publish("putPage",{objId:le,pageContext:gt[U],pageNumber:U,page:re}),ne("/Contents "+ge+" 0 R"),ne(">>"),ne("endobj");var je=re.join(`
`);return N===x.ADVANCED&&(je+=`
Q`),ia(ge,!0),ba({data:je,filters:Ti(),objectId:ge}),ne("endobj"),le},zo=p.__private__.putPages=function(){var _,U,re=[];for(_=1;_<=Sr;_++)gt[_].objId=Lr(),gt[_].contentsObjId=Lr();for(_=1;_<=Sr;_++)re.push(ki({number:_,data:xe[_],objId:gt[_].objId,contentsObjId:gt[_].contentsObjId,mediaBox:gt[_].mediaBox,cropBox:gt[_].cropBox,bleedBox:gt[_].bleedBox,trimBox:gt[_].trimBox,artBox:gt[_].artBox,userUnit:gt[_].userUnit,rootDictionaryObjId:ss,resourceDictionaryObjId:Ka}));ia(ss,!0),ne("<</Type /Pages");var le="/Kids [";for(U=0;U<Sr;U++)le+=re[U]+" 0 R ";ne(le+"]"),ne("/Count "+Sr),ne(">>"),ne("endobj"),zt.publish("postPutPages")},ic=function(_){zt.publish("putFont",{font:_,out:ne,newObject:Gr,putStream:ba}),_.isAlreadyPutted!==!0&&(_.objectNumber=Gr(),ne("<<"),ne("/Type /Font"),ne("/BaseFont /"+Wc(_.postScriptName)),ne("/Subtype /Type1"),typeof _.encoding=="string"&&ne("/Encoding /"+_.encoding),ne("/FirstChar 32"),ne("/LastChar 255"),ne(">>"),ne("endobj"))},sc=function(){for(var _ in Zt)Zt.hasOwnProperty(_)&&(f===!1||f===!0&&h.hasOwnProperty(_))&&ic(Zt[_])},oc=function(_){_.objectNumber=Gr();var U=[];U.push({key:"Type",value:"/XObject"}),U.push({key:"Subtype",value:"/Form"}),U.push({key:"BBox",value:"["+[E(_.x),E(_.y),E(_.x+_.width),E(_.y+_.height)].join(" ")+"]"}),U.push({key:"Matrix",value:"["+_.matrix.toString()+"]"});var re=_.pages[1].join(`
`);ba({data:re,additionalKeyValues:U,objectId:_.objectNumber}),ne("endobj")},lc=function(){for(var _ in cn)cn.hasOwnProperty(_)&&oc(cn[_])},lp=function(_,U){var re,le=[],ge=1/(U-1);for(re=0;re<1;re+=ge)le.push(re);if(le.push(1),_[0].offset!=0){var je={offset:0,color:_[0].color};_.unshift(je)}if(_[_.length-1].offset!=1){var De={offset:1,color:_[_.length-1].color};_.push(De)}for(var qe="",Je=0,bt=0;bt<le.length;bt++){for(re=le[bt];re>_[Je+1].offset;)Je++;var vt=_[Je].offset,Tt=(re-vt)/(_[Je+1].offset-vt),br=_[Je].color,Nr=_[Je+1].color;qe+=ae(Math.round((1-Tt)*br[0]+Tt*Nr[0]).toString(16))+ae(Math.round((1-Tt)*br[1]+Tt*Nr[1]).toString(16))+ae(Math.round((1-Tt)*br[2]+Tt*Nr[2]).toString(16))}return qe.trim()},r0=function(_,U){U||(U=21);var re=Gr(),le=lp(_.colors,U),ge=[];ge.push({key:"FunctionType",value:"0"}),ge.push({key:"Domain",value:"[0.0 1.0]"}),ge.push({key:"Size",value:"["+U+"]"}),ge.push({key:"BitsPerSample",value:"8"}),ge.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ge.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ba({data:le,additionalKeyValues:ge,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:re}),ne("endobj"),_.objectNumber=Gr(),ne("<< /ShadingType "+_.type),ne("/ColorSpace /DeviceRGB");var je="/Coords ["+E(parseFloat(_.coords[0]))+" "+E(parseFloat(_.coords[1]))+" ";_.type===2?je+=E(parseFloat(_.coords[2]))+" "+E(parseFloat(_.coords[3])):je+=E(parseFloat(_.coords[2]))+" "+E(parseFloat(_.coords[3]))+" "+E(parseFloat(_.coords[4]))+" "+E(parseFloat(_.coords[5])),ne(je+="]"),_.matrix&&ne("/Matrix ["+_.matrix.toString()+"]"),ne("/Function "+re+" 0 R"),ne("/Extend [true true]"),ne(">>"),ne("endobj")},n0=function(_,U){var re=Lr(),le=Gr();U.push({resourcesOid:re,objectOid:le}),_.objectNumber=le;var ge=[];ge.push({key:"Type",value:"/Pattern"}),ge.push({key:"PatternType",value:"1"}),ge.push({key:"PaintType",value:"1"}),ge.push({key:"TilingType",value:"1"}),ge.push({key:"BBox",value:"["+_.boundingBox.map(E).join(" ")+"]"}),ge.push({key:"XStep",value:E(_.xStep)}),ge.push({key:"YStep",value:E(_.yStep)}),ge.push({key:"Resources",value:re+" 0 R"}),_.matrix&&ge.push({key:"Matrix",value:"["+_.matrix.toString()+"]"}),ba({data:_.stream,additionalKeyValues:ge,objectId:_.objectNumber}),ne("endobj")},cc=function(_){var U;for(U in Ut)Ut.hasOwnProperty(U)&&(Ut[U]instanceof hl?r0(Ut[U]):Ut[U]instanceof Gc&&n0(Ut[U],_))},cp=function(_){for(var U in _.objectNumber=Gr(),ne("<<"),_)switch(U){case"opacity":ne("/ca "+L(_[U]));break;case"stroke-opacity":ne("/CA "+L(_[U]))}ne(">>"),ne("endobj")},a0=function(){var _;for(_ in wr)wr.hasOwnProperty(_)&&cp(wr[_])},xd=function(){for(var _ in ne("/XObject <<"),cn)cn.hasOwnProperty(_)&&cn[_].objectNumber>=0&&ne("/"+_+" "+cn[_].objectNumber+" 0 R");zt.publish("putXobjectDict"),ne(">>")},i0=function(){gn.oid=Gr(),ne("<<"),ne("/Filter /Standard"),ne("/V "+gn.v),ne("/R "+gn.r),ne("/U <"+gn.toHexString(gn.U)+">"),ne("/O <"+gn.toHexString(gn.O)+">"),ne("/P "+gn.P),ne(">>"),ne("endobj")},up=function(){for(var _ in ne("/Font <<"),Zt)Zt.hasOwnProperty(_)&&(f===!1||f===!0&&h.hasOwnProperty(_))&&ne("/"+_+" "+Zt[_].objectNumber+" 0 R");ne(">>")},s0=function(){if(Object.keys(Ut).length>0){for(var _ in ne("/Shading <<"),Ut)Ut.hasOwnProperty(_)&&Ut[_]instanceof hl&&Ut[_].objectNumber>=0&&ne("/"+_+" "+Ut[_].objectNumber+" 0 R");zt.publish("putShadingPatternDict"),ne(">>")}},uc=function(_){if(Object.keys(Ut).length>0){for(var U in ne("/Pattern <<"),Ut)Ut.hasOwnProperty(U)&&Ut[U]instanceof p.TilingPattern&&Ut[U].objectNumber>=0&&Ut[U].objectNumber<_&&ne("/"+U+" "+Ut[U].objectNumber+" 0 R");zt.publish("putTilingPatternDict"),ne(">>")}},o0=function(){if(Object.keys(wr).length>0){var _;for(_ in ne("/ExtGState <<"),wr)wr.hasOwnProperty(_)&&wr[_].objectNumber>=0&&ne("/"+_+" "+wr[_].objectNumber+" 0 R");zt.publish("putGStateDict"),ne(">>")}},Tr=function(_){ia(_.resourcesOid,!0),ne("<<"),ne("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),up(),s0(),uc(_.objectOid),o0(),xd(),ne(">>"),ne("endobj")},dp=function(){var _=[];sc(),a0(),lc(),cc(_),zt.publish("putResources"),_.forEach(Tr),Tr({resourcesOid:Ka,objectOid:Number.MAX_SAFE_INTEGER}),zt.publish("postPutResources")},fp=function(){zt.publish("putAdditionalObjects");for(var _=0;_<ve.length;_++){var U=ve[_];ia(U.objId,!0),ne(U.content),ne("endobj")}zt.publish("postPutAdditionalObjects")},hp=function(_){gr[_.fontName]=gr[_.fontName]||{},gr[_.fontName][_.fontStyle]=_.id},wd=function(_,U,re,le,ge){var je={id:"F"+(Object.keys(Zt).length+1).toString(10),postScriptName:_,fontName:U,fontStyle:re,encoding:le,isStandardFont:ge||!1,metadata:{}};return zt.publish("addFont",{font:je,instance:this}),Zt[je.id]=je,hp(je),je.id},l0=function(_){for(var U=0,re=Pe.length;U<re;U++){var le=wd.call(this,_[U][0],_[U][1],_[U][2],Pe[U][3],!0);f===!1&&(h[le]=!0);var ge=_[U][0].split("-");hp({id:le,fontName:ge[0],fontStyle:ge[1]||""})}zt.publish("addFonts",{fonts:Zt,dictionary:gr})},Qa=function(_){return _.foo=function(){try{return _.apply(this,arguments)}catch(le){var U=le.stack||"";~U.indexOf(" at ")&&(U=U.split(" at ")[1]);var re="Error in function "+U.split(`
`)[0].split("<")[0]+": "+le.message;if(!ct.console)throw new Error(re);ct.console.error(re,le),ct.alert&&alert(re)}},_.foo.bar=_,_.foo},dc=function(_,U){var re,le,ge,je,De,qe,Je,bt,vt;if(ge=(U=U||{}).sourceEncoding||"Unicode",De=U.outputEncoding,(U.autoencode||De)&&Zt[jt].metadata&&Zt[jt].metadata[ge]&&Zt[jt].metadata[ge].encoding&&(je=Zt[jt].metadata[ge].encoding,!De&&Zt[jt].encoding&&(De=Zt[jt].encoding),!De&&je.codePages&&(De=je.codePages[0]),typeof De=="string"&&(De=je[De]),De)){for(Je=!1,qe=[],re=0,le=_.length;re<le;re++)(bt=De[_.charCodeAt(re)])?qe.push(String.fromCharCode(bt)):qe.push(_[re]),qe[re].charCodeAt(0)>>8&&(Je=!0);_=qe.join("")}for(re=_.length;Je===void 0&&re!==0;)_.charCodeAt(re-1)>>8&&(Je=!0),re--;if(!Je)return _;for(qe=U.noBOM?[]:[254,255],re=0,le=_.length;re<le;re++){if((vt=(bt=_.charCodeAt(re))>>8)>>8)throw new Error("Character at position "+re+" of string '"+_+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");qe.push(vt),qe.push(bt-(vt<<8))}return String.fromCharCode.apply(void 0,qe)},qn=p.__private__.pdfEscape=p.pdfEscape=function(_,U){return dc(_,U).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Sd=p.__private__.beginPage=function(_){xe[++Sr]=[],gt[Sr]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(_[0]),topRightY:Number(_[1])}},mp(Sr),we(xe[W])},pp=function(_,U){var re,le,ge;switch(r=U||r,typeof _=="string"&&(re=b(_.toLowerCase()),Array.isArray(re)&&(le=re[0],ge=re[1])),Array.isArray(_)&&(le=_[0]*ze,ge=_[1]*ze),isNaN(le)&&(le=a[0],ge=a[1]),(le>14400||ge>14400)&&(Jt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),le=Math.min(14400,le),ge=Math.min(14400,ge)),a=[le,ge],r.substr(0,1)){case"l":ge>le&&(a=[ge,le]);break;case"p":le>ge&&(a=[ge,le])}Sd(a),wp(_d),ne(Ja),Od!==0&&ne(Od+" J"),Cd!==0&&ne(Cd+" j"),zt.publish("addPage",{pageNumber:Sr})},c0=function(_){_>0&&_<=Sr&&(xe.splice(_,1),gt.splice(_,1),Sr--,W>Sr&&(W=Sr),this.setPage(W))},mp=function(_){_>0&&_<=Sr&&(W=_)},u0=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return xe.length-1},gp=function(_,U,re){var le,ge=void 0;return re=re||{},_=_!==void 0?_:Zt[jt].fontName,U=U!==void 0?U:Zt[jt].fontStyle,le=_.toLowerCase(),gr[le]!==void 0&&gr[le][U]!==void 0?ge=gr[le][U]:gr[_]!==void 0&&gr[_][U]!==void 0?ge=gr[_][U]:re.disableWarning===!1&&Jt.warn("Unable to look up font label for font '"+_+"', '"+U+"'. Refer to getFontList() for available fonts."),ge||re.noFallback||(ge=gr.times[U])==null&&(ge=gr.times.normal),ge},d0=p.__private__.putInfo=function(){var _=Gr(),U=function(le){return le};for(var re in d!==null&&(U=gn.encryptor(_,0)),ne("<<"),ne("/Producer ("+qn(U("jsPDF "+ot.version))+")"),pt)pt.hasOwnProperty(re)&&pt[re]&&ne("/"+re.substr(0,1).toUpperCase()+re.substr(1)+" ("+qn(U(pt[re]))+")");ne("/CreationDate ("+qn(U(H))+")"),ne(">>"),ne("endobj")},Nd=p.__private__.putCatalog=function(_){var U=(_=_||{}).rootDictionaryObjId||ss;switch(Gr(),ne("<<"),ne("/Type /Catalog"),ne("/Pages "+U+" 0 R"),$e||($e="fullwidth"),$e){case"fullwidth":ne("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ne("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ne("/OpenAction [3 0 R /Fit]");break;case"original":ne("/OpenAction [3 0 R /XYZ null null 1]");break;default:var re=""+$e;re.substr(re.length-1)==="%"&&($e=parseInt($e)/100),typeof $e=="number"&&ne("/OpenAction [3 0 R /XYZ null null "+L($e)+"]")}switch(St||(St="continuous"),St){case"continuous":ne("/PageLayout /OneColumn");break;case"single":ne("/PageLayout /SinglePage");break;case"two":case"twoleft":ne("/PageLayout /TwoColumnLeft");break;case"tworight":ne("/PageLayout /TwoColumnRight")}at&&ne("/PageMode /"+at),zt.publish("putCatalog"),ne(">>"),ne("endobj")},f0=p.__private__.putTrailer=function(){ne("trailer"),ne("<<"),ne("/Size "+(oe+1)),ne("/Root "+oe+" 0 R"),ne("/Info "+(oe-1)+" 0 R"),d!==null&&ne("/Encrypt "+gn.oid+" 0 R"),ne("/ID [ <"+V+"> <"+V+"> ]"),ne(">>")},h0=p.__private__.putHeader=function(){ne("%PDF-"+g),ne("%ÂºÃŸÂ¬Ã ")},p0=p.__private__.putXRef=function(){var _="0000000000";ne("xref"),ne("0 "+(oe+1)),ne("0000000000 65535 f ");for(var U=1;U<=oe;U++)typeof me[U]=="function"?ne((_+me[U]()).slice(-10)+" 00000 n "):me[U]!==void 0?ne((_+me[U]).slice(-10)+" 00000 n "):ne("0000000000 00000 n ")},os=p.__private__.buildDocument=function(){Me(),we(fe),zt.publish("buildDocument"),h0(),zo(),fp(),dp(),d!==null&&i0(),d0(),Nd();var _=J;return p0(),f0(),ne("startxref"),ne(""+_),ne("%%EOF"),we(xe[W]),fe.join(`
`)},fc=p.__private__.getBlob=function(_){return new Blob([He(_)],{type:"application/pdf"})},hc=p.output=p.__private__.output=Qa(function(_,U){switch(typeof(U=U||{})=="string"?U={filename:U}:U.filename=U.filename||"generated.pdf",_){case void 0:return os();case"save":p.save(U.filename);break;case"arraybuffer":return He(os());case"blob":return fc(os());case"bloburi":case"bloburl":if(ct.URL!==void 0&&typeof ct.URL.createObjectURL=="function")return ct.URL&&ct.URL.createObjectURL(fc(os()))||void 0;Jt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var re="",le=os();try{re=Dx(le)}catch{re=Dx(unescape(encodeURIComponent(le)))}return"data:application/pdf;filename="+U.filename+";base64,"+re;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ct)==="[object Window]"){var ge="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",je=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';U.pdfObjectUrl&&(ge=U.pdfObjectUrl,je="");var De='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ge+'"'+je+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(U)+");<\/script></body></html>",qe=ct.open();return qe!==null&&qe.document.write(De),qe}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ct)==="[object Window]"){var Je='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(U.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+U.filename+'" width="500px" height="400px" /></body></html>',bt=ct.open();if(bt!==null){bt.document.write(Je);var vt=this;bt.document.documentElement.querySelector("#pdfViewer").onload=function(){bt.document.title=U.filename,bt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(vt.output("bloburl"))}}return bt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ct)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Tt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",U)+'"></iframe></body></html>',br=ct.open();if(br!==null&&(br.document.write(Tt),br.document.title=U.filename),br||typeof safari>"u")return br;break;case"datauri":case"dataurl":return ct.document.location.href=this.output("datauristring",U);default:return null}}),vp=function(_){return Array.isArray(Uo)===!0&&Uo.indexOf(_)>-1};switch(n){case"pt":ze=1;break;case"mm":ze=72/25.4;break;case"cm":ze=72/2.54;break;case"in":ze=72;break;case"px":ze=vp("px_scaling")==1?.75:96/72;break;case"pc":case"em":ze=12;break;case"ex":ze=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);ze=n}var gn=null;se(),X();var m0=function(_){return d!==null?gn.encryptor(_,0):function(U){return U}},yp=p.__private__.getPageInfo=p.getPageInfo=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:gt[_].objId,pageNumber:_,pageContext:gt[_]}},mt=p.__private__.getPageInfoByObjId=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var U in gt)if(gt[U].objId===_)break;return yp(U)},g0=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:gt[W].objId,pageNumber:W,pageContext:gt[W]}};p.addPage=function(){return pp.apply(this,arguments),this},p.setPage=function(){return mp.apply(this,arguments),we.call(this,xe[W]),this},p.insertPage=function(_){return this.addPage(),this.movePage(W,_),this},p.movePage=function(_,U){var re,le;if(_>U){re=xe[_],le=gt[_];for(var ge=_;ge>U;ge--)xe[ge]=xe[ge-1],gt[ge]=gt[ge-1];xe[U]=re,gt[U]=le,this.setPage(U)}else if(_<U){re=xe[_],le=gt[_];for(var je=_;je<U;je++)xe[je]=xe[je+1],gt[je]=gt[je+1];xe[U]=re,gt[U]=le,this.setPage(U)}return this},p.deletePage=function(){return c0.apply(this,arguments),this},p.__private__.text=p.text=function(_,U,re,le,ge){var je,De,qe,Je,bt,vt,Tt,br,Nr,Ir=(le=le||{}).scope||this;if(typeof _=="number"&&typeof U=="number"&&(typeof re=="string"||Array.isArray(re))){var vn=re;re=U,U=_,_=vn}if(arguments[3]instanceof it?(O("The transform parameter of text() with a Matrix value"),Nr=ge):(qe=arguments[4],Je=arguments[5],Ot(Tt=arguments[3])==="object"&&Tt!==null||(typeof qe=="string"&&(Je=qe,qe=null),typeof Tt=="string"&&(Je=Tt,Tt=null),typeof Tt=="number"&&(qe=Tt,Tt=null),le={flags:Tt,angle:qe,align:Je})),isNaN(U)||isNaN(re)||_==null)throw new Error("Invalid arguments passed to jsPDF.text");if(_.length===0)return Ir;var en="",ei=!1,sa=typeof le.lineHeightFactor=="number"?le.lineHeightFactor:Ho,Mi=Ir.internal.scaleFactor;function Ep(ar){return ar=ar.split("	").join(Array(le.TabLen||9).join(" ")),qn(ar,Tt)}function Md(ar){for(var ir,Pr=ar.concat(),Vr=[],fs=Pr.length;fs--;)typeof(ir=Pr.shift())=="string"?Vr.push(ir):Array.isArray(ar)&&(ir.length===1||ir[1]===void 0&&ir[2]===void 0)?Vr.push(ir[0]):Vr.push([ir[0],ir[1],ir[2]]);return Vr}function Rd(ar,ir){var Pr;if(typeof ar=="string")Pr=ir(ar)[0];else if(Array.isArray(ar)){for(var Vr,fs,Wd=ar.concat(),Oc=[],Pp=Wd.length;Pp--;)typeof(Vr=Wd.shift())=="string"?Oc.push(ir(Vr)[0]):Array.isArray(Vr)&&typeof Vr[0]=="string"&&(fs=ir(Vr[0],Vr[1],Vr[2]),Oc.push([fs[0],fs[1],fs[2]]));Pr=Oc}return Pr}var bc=!1,Ld=!0;if(typeof _=="string")bc=!0;else if(Array.isArray(_)){var Id=_.concat();De=[];for(var xc,un=Id.length;un--;)(typeof(xc=Id.shift())!="string"||Array.isArray(xc)&&typeof xc[0]!="string")&&(Ld=!1);bc=Ld}if(bc===!1)throw new Error('Type of text must be string or Array. "'+_+'" is not recognized.');typeof _=="string"&&(_=_.match(/[\r?\n]/)?_.split(/\r\n|\r|\n/g):[_]);var wc=Re/Ir.internal.scaleFactor,Sc=wc*(sa-1);switch(le.baseline){case"bottom":re-=Sc;break;case"top":re+=wc-Sc;break;case"hanging":re+=wc-2*Sc;break;case"middle":re+=wc/2-Sc}if((vt=le.maxWidth||0)>0&&(typeof _=="string"?_=Ir.splitTextToSize(_,vt):Object.prototype.toString.call(_)==="[object Array]"&&(_=_.reduce(function(ar,ir){return ar.concat(Ir.splitTextToSize(ir,vt))},[]))),je={text:_,x:U,y:re,options:le,mutex:{pdfEscape:qn,activeFontKey:jt,fonts:Zt,activeFontSize:Re}},zt.publish("preProcessText",je),_=je.text,qe=(le=je.options).angle,!(Nr instanceof it)&&qe&&typeof qe=="number"){qe*=Math.PI/180,le.rotationDirection===0&&(qe=-qe),N===x.ADVANCED&&(qe=-qe);var Nc=Math.cos(qe),$d=Math.sin(qe);Nr=new it(Nc,$d,-$d,Nc,0,0)}else qe&&qe instanceof it&&(Nr=qe);N!==x.ADVANCED||Nr||(Nr=Ci),(bt=le.charSpace||gc)!==void 0&&(en+=E(P(bt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(br=le.horizontalScale)!==void 0&&(en+=E(100*br)+` Tz
`),le.lang;var Gn=-1,_0=le.renderingMode!==void 0?le.renderingMode:le.stroke,Fd=Ir.internal.getCurrentPageInfo().pageContext;switch(_0){case 0:case!1:case"fill":Gn=0;break;case 1:case!0:case"stroke":Gn=1;break;case 2:case"fillThenStroke":Gn=2;break;case 3:case"invisible":Gn=3;break;case 4:case"fillAndAddForClipping":Gn=4;break;case 5:case"strokeAndAddPathForClipping":Gn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Gn=6;break;case 7:case"addToPathForClipping":Gn=7}var Op=Fd.usedRenderingMode!==void 0?Fd.usedRenderingMode:-1;Gn!==-1?en+=Gn+` Tr
`:Op!==-1&&(en+=`0 Tr
`),Gn!==-1&&(Fd.usedRenderingMode=Gn),Je=le.align||"left";var xa,jc=Re*sa,Cp=Ir.internal.pageSize.getWidth(),Tp=Zt[jt];bt=le.charSpace||gc,vt=le.maxWidth||0,Tt=Object.assign({autoencode:!0,noBOM:!0},le.flags);var qs=[],Vo=function(ar){return Ir.getStringUnitWidth(ar,{font:Tp,charSpace:bt,fontSize:Re,doKerning:!1})*Re/Mi};if(Object.prototype.toString.call(_)==="[object Array]"){var Vn;De=Md(_),Je!=="left"&&(xa=De.map(Vo));var Dn,Gs=0;if(Je==="right"){U-=xa[0],_=[],un=De.length;for(var cs=0;cs<un;cs++)cs===0?(Dn=Di(U),Vn=ls(re)):(Dn=P(Gs-xa[cs]),Vn=-jc),_.push([De[cs],Dn,Vn]),Gs=xa[cs]}else if(Je==="center"){U-=xa[0]/2,_=[],un=De.length;for(var us=0;us<un;us++)us===0?(Dn=Di(U),Vn=ls(re)):(Dn=P((Gs-xa[us])/2),Vn=-jc),_.push([De[us],Dn,Vn]),Gs=xa[us]}else if(Je==="left"){_=[],un=De.length;for(var Ac=0;Ac<un;Ac++)_.push(De[Ac])}else if(Je==="justify"&&Tp.encoding==="Identity-H"){_=[],un=De.length,vt=vt!==0?vt:Cp;for(var ds=0,kr=0;kr<un;kr++)if(Vn=kr===0?ls(re):-jc,Dn=kr===0?Di(U):ds,kr<un-1){var Bd=P((vt-xa[kr])/(De[kr].split(" ").length-1)),Mn=De[kr].split(" ");_.push([Mn[0]+" ",Dn,Vn]),ds=0;for(var wa=1;wa<Mn.length;wa++){var _c=(Vo(Mn[wa-1]+" "+Mn[wa])-Vo(Mn[wa]))*Mi+Bd;wa==Mn.length-1?_.push([Mn[wa],_c,0]):_.push([Mn[wa]+" ",_c,0]),ds-=_c}}else _.push([De[kr],Dn,Vn]);_.push(["",ds,0])}else{if(Je!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(_=[],un=De.length,vt=vt!==0?vt:Cp,kr=0;kr<un;kr++)Vn=kr===0?ls(re):-jc,Dn=kr===0?Di(U):0,kr<un-1?qs.push(E(P((vt-xa[kr])/(De[kr].split(" ").length-1)))):qs.push(0),_.push([De[kr],Dn,Vn])}}var kp=typeof le.R2L=="boolean"?le.R2L:Ze;kp===!0&&(_=Rd(_,function(ar,ir,Pr){return[ar.split("").reverse().join(""),ir,Pr]})),je={text:_,x:U,y:re,options:le,mutex:{pdfEscape:qn,activeFontKey:jt,fonts:Zt,activeFontSize:Re}},zt.publish("postProcessText",je),_=je.text,ei=je.mutex.isHex||!1;var Ud=Zt[jt].encoding;Ud!=="WinAnsiEncoding"&&Ud!=="StandardEncoding"||(_=Rd(_,function(ar,ir,Pr){return[Ep(ar),ir,Pr]})),De=Md(_),_=[];for(var Yo,Ko,Vs,Xo=0,Ec=1,Zo=Array.isArray(De[0])?Ec:Xo,Ys="",zd=function(ar,ir,Pr){var Vr="";return Pr instanceof it?(Pr=typeof le.angle=="number"?Ya(Pr,new it(1,0,0,1,ar,ir)):Ya(new it(1,0,0,1,ar,ir),Pr),N===x.ADVANCED&&(Pr=Ya(new it(1,0,0,-1,0,0),Pr)),Vr=Pr.join(" ")+` Tm
`):Vr=E(ar)+" "+E(ir)+` Td
`,Vr},Sa=0;Sa<De.length;Sa++){switch(Ys="",Zo){case Ec:Vs=(ei?"<":"(")+De[Sa][0]+(ei?">":")"),Yo=parseFloat(De[Sa][1]),Ko=parseFloat(De[Sa][2]);break;case Xo:Vs=(ei?"<":"(")+De[Sa]+(ei?">":")"),Yo=Di(U),Ko=ls(re)}qs!==void 0&&qs[Sa]!==void 0&&(Ys=qs[Sa]+` Tw
`),Sa===0?_.push(Ys+zd(Yo,Ko,Nr)+Vs):Zo===Xo?_.push(Ys+Vs):Zo===Ec&&_.push(Ys+zd(Yo,Ko,Nr)+Vs)}_=Zo===Xo?_.join(` Tj
T* `):_.join(` Tj
`),_+=` Tj
`;var Na=`BT
/`;return Na+=jt+" "+Re+` Tf
`,Na+=E(Re*sa)+` TL
`,Na+=qo+`
`,Na+=en,Na+=_,ne(Na+="ET"),h[jt]=!0,Ir};var v0=p.__private__.clip=p.clip=function(_){return ne(_==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return v0("evenodd")},p.__private__.discardPath=p.discardPath=function(){return ne("n"),this};var Pi=p.__private__.isValidStyle=function(_){var U=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(_)!==-1&&(U=!0),U};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(_){return Pi(_)&&(u=_),this};var bp=p.__private__.getStyle=p.getStyle=function(_){var U=u;switch(_){case"D":case"S":U="S";break;case"F":U="f";break;case"FD":case"DF":U="B";break;case"f":case"f*":case"B":case"B*":U=_}return U},xp=p.close=function(){return ne("h"),this};p.stroke=function(){return ne("S"),this},p.fill=function(_){return pc("f",_),this},p.fillEvenOdd=function(_){return pc("f*",_),this},p.fillStroke=function(_){return pc("B",_),this},p.fillStrokeEvenOdd=function(_){return pc("B*",_),this};var pc=function(_,U){Ot(U)==="object"?b0(U,_):ne(_)},jd=function(_){_===null||N===x.ADVANCED&&_===void 0||(_=bp(_),ne(_))};function y0(_,U,re,le,ge){var je=new Gc(U||this.boundingBox,re||this.xStep,le||this.yStep,this.gState,ge||this.matrix);je.stream=this.stream;var De=_+"$$"+this.cloneIndex+++"$$";return Hn(De,je),je}var b0=function(_,U){var re=Bo[_.key],le=Ut[re];if(le instanceof hl)ne("q"),ne(x0(U)),le.gState&&p.setGState(le.gState),ne(_.matrix.toString()+" cm"),ne("/"+re+" sh"),ne("Q");else if(le instanceof Gc){var ge=new it(1,0,0,-1,0,Hs());_.matrix&&(ge=ge.multiply(_.matrix||Ci),re=y0.call(le,_.key,_.boundingBox,_.xStep,_.yStep,ge).id),ne("q"),ne("/Pattern cs"),ne("/"+re+" scn"),le.gState&&p.setGState(le.gState),ne(U),ne("Q")}},x0=function(_){switch(_){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Ad=p.moveTo=function(_,U){return ne(E(P(_))+" "+E(M(U))+" m"),this},Wo=p.lineTo=function(_,U){return ne(E(P(_))+" "+E(M(U))+" l"),this},zs=p.curveTo=function(_,U,re,le,ge,je){return ne([E(P(_)),E(M(U)),E(P(re)),E(M(le)),E(P(ge)),E(M(je)),"c"].join(" ")),this};p.__private__.line=p.line=function(_,U,re,le,ge){if(isNaN(_)||isNaN(U)||isNaN(re)||isNaN(le)||!Pi(ge))throw new Error("Invalid arguments passed to jsPDF.line");return N===x.COMPAT?this.lines([[re-_,le-U]],_,U,[1,1],ge||"S"):this.lines([[re-_,le-U]],_,U,[1,1]).stroke()},p.__private__.lines=p.lines=function(_,U,re,le,ge,je){var De,qe,Je,bt,vt,Tt,br,Nr,Ir,vn,en,ei;if(typeof _=="number"&&(ei=re,re=U,U=_,_=ei),le=le||[1,1],je=je||!1,isNaN(U)||isNaN(re)||!Array.isArray(_)||!Array.isArray(le)||!Pi(ge)||typeof je!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ad(U,re),De=le[0],qe=le[1],bt=_.length,vn=U,en=re,Je=0;Je<bt;Je++)(vt=_[Je]).length===2?(vn=vt[0]*De+vn,en=vt[1]*qe+en,Wo(vn,en)):(Tt=vt[0]*De+vn,br=vt[1]*qe+en,Nr=vt[2]*De+vn,Ir=vt[3]*qe+en,vn=vt[4]*De+vn,en=vt[5]*qe+en,zs(Tt,br,Nr,Ir,vn,en));return je&&xp(),jd(ge),this},p.path=function(_){for(var U=0;U<_.length;U++){var re=_[U],le=re.c;switch(re.op){case"m":Ad(le[0],le[1]);break;case"l":Wo(le[0],le[1]);break;case"c":zs.apply(this,le);break;case"h":xp()}}return this},p.__private__.rect=p.rect=function(_,U,re,le,ge){if(isNaN(_)||isNaN(U)||isNaN(re)||isNaN(le)||!Pi(ge))throw new Error("Invalid arguments passed to jsPDF.rect");return N===x.COMPAT&&(le=-le),ne([E(P(_)),E(M(U)),E(P(re)),E(P(le)),"re"].join(" ")),jd(ge),this},p.__private__.triangle=p.triangle=function(_,U,re,le,ge,je,De){if(isNaN(_)||isNaN(U)||isNaN(re)||isNaN(le)||isNaN(ge)||isNaN(je)||!Pi(De))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[re-_,le-U],[ge-re,je-le],[_-ge,U-je]],_,U,[1,1],De,!0),this},p.__private__.roundedRect=p.roundedRect=function(_,U,re,le,ge,je,De){if(isNaN(_)||isNaN(U)||isNaN(re)||isNaN(le)||isNaN(ge)||isNaN(je)||!Pi(De))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var qe=4/3*(Math.SQRT2-1);return ge=Math.min(ge,.5*re),je=Math.min(je,.5*le),this.lines([[re-2*ge,0],[ge*qe,0,ge,je-je*qe,ge,je],[0,le-2*je],[0,je*qe,-ge*qe,je,-ge,je],[2*ge-re,0],[-ge*qe,0,-ge,-je*qe,-ge,-je],[0,2*je-le],[0,-je*qe,ge*qe,-je,ge,-je]],_+ge,U,[1,1],De,!0),this},p.__private__.ellipse=p.ellipse=function(_,U,re,le,ge){if(isNaN(_)||isNaN(U)||isNaN(re)||isNaN(le)||!Pi(ge))throw new Error("Invalid arguments passed to jsPDF.ellipse");var je=4/3*(Math.SQRT2-1)*re,De=4/3*(Math.SQRT2-1)*le;return Ad(_+re,U),zs(_+re,U-De,_+je,U-le,_,U-le),zs(_-je,U-le,_-re,U-De,_-re,U),zs(_-re,U+De,_-je,U+le,_,U+le),zs(_+je,U+le,_+re,U+De,_+re,U),jd(ge),this},p.__private__.circle=p.circle=function(_,U,re,le){if(isNaN(_)||isNaN(U)||isNaN(re)||!Pi(le))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(_,U,re,re,le)},p.setFont=function(_,U,re){return re&&(U=j(U,re)),jt=gp(_,U,{disableWarning:!1}),this};var w0=p.__private__.getFont=p.getFont=function(){return Zt[gp.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var _,U,re={};for(_ in gr)if(gr.hasOwnProperty(_))for(U in re[_]=[],gr[_])gr[_].hasOwnProperty(U)&&re[_].push(U);return re},p.addFont=function(_,U,re,le,ge){var je=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&je.indexOf(arguments[3])!==-1?ge=arguments[3]:arguments[3]&&je.indexOf(arguments[3])==-1&&(re=j(re,le)),ge=ge||"Identity-H",wd.call(this,_,U,re,ge)};var Ho,_d=t.lineWidth||.200025,mc=p.__private__.getLineWidth=p.getLineWidth=function(){return _d},wp=p.__private__.setLineWidth=p.setLineWidth=function(_){return _d=_,ne(E(P(_))+" w"),this};p.__private__.setLineDash=ot.API.setLineDash=ot.API.setLineDashPattern=function(_,U){if(_=_||[],U=U||0,isNaN(U)||!Array.isArray(_))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return _=_.map(function(re){return E(P(re))}).join(" "),U=E(P(U)),ne("["+_+"] "+U+" d"),this};var Sp=p.__private__.getLineHeight=p.getLineHeight=function(){return Re*Ho};p.__private__.getLineHeight=p.getLineHeight=function(){return Re*Ho};var Np=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(_){return typeof(_=_||1.15)=="number"&&(Ho=_),this},jp=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Ho};Np(t.lineHeight);var Di=p.__private__.getHorizontalCoordinate=function(_){return P(_)},ls=p.__private__.getVerticalCoordinate=function(_){return N===x.ADVANCED?_:gt[W].mediaBox.topRightY-gt[W].mediaBox.bottomLeftY-P(_)},S0=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(_){return E(Di(_))},Ws=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(_){return E(ls(_))},Ja=t.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return Xa(Ja)},p.__private__.setStrokeColor=p.setDrawColor=function(_,U,re,le){return Ja=Za({ch1:_,ch2:U,ch3:re,ch4:le,pdfColorType:"draw",precision:2}),ne(Ja),this};var Ed=t.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return Xa(Ed)},p.__private__.setFillColor=p.setFillColor=function(_,U,re,le){return Ed=Za({ch1:_,ch2:U,ch3:re,ch4:le,pdfColorType:"fill",precision:2}),ne(Ed),this};var qo=t.textColor||"0 g",N0=p.__private__.getTextColor=p.getTextColor=function(){return Xa(qo)};p.__private__.setTextColor=p.setTextColor=function(_,U,re,le){return qo=Za({ch1:_,ch2:U,ch3:re,ch4:le,pdfColorType:"text",precision:3}),this};var gc=t.charSpace,j0=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(gc||0)};p.__private__.setCharSpace=p.setCharSpace=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return gc=_,this};var Od=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(_){var U=p.CapJoinStyles[_];if(U===void 0)throw new Error("Line cap style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Od=U,ne(U+" J"),this};var Cd=0;p.__private__.setLineJoin=p.setLineJoin=function(_){var U=p.CapJoinStyles[_];if(U===void 0)throw new Error("Line join style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Cd=U,ne(U+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(_){if(_=_||0,isNaN(_))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ne(E(P(_))+" M"),this},p.GState=og,p.setGState=function(_){(_=typeof _=="string"?wr[Va[_]]:Ap(null,_)).equals(is)||(ne("/"+_.id+" gs"),is=_)};var Ap=function(_,U){if(!_||!Va[_]){var re=!1;for(var le in wr)if(wr.hasOwnProperty(le)&&wr[le].equals(U)){re=!0;break}if(re)U=wr[le];else{var ge="GS"+(Object.keys(wr).length+1).toString(10);wr[ge]=U,U.id=ge}return _&&(Va[_]=U.id),zt.publish("addGState",U),U}};p.addGState=function(_,U){return Ap(_,U),this},p.saveGraphicsState=function(){return ne("q"),_i.push({key:jt,size:Re,color:qo}),this},p.restoreGraphicsState=function(){ne("Q");var _=_i.pop();return jt=_.key,Re=_.size,qo=_.color,is=null,this},p.setCurrentTransformationMatrix=function(_){return ne(_.toString()+" cm"),this},p.comment=function(_){return ne("#"+_),this};var vc=function(_,U){var re=_||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return re},set:function(je){isNaN(je)||(re=parseFloat(je))}});var le=U||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return le},set:function(je){isNaN(je)||(le=parseFloat(je))}});var ge="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ge},set:function(je){ge=je.toString()}}),this},Td=function(_,U,re,le){vc.call(this,_,U),this.type="rect";var ge=re||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ge},set:function(De){isNaN(De)||(ge=parseFloat(De))}});var je=le||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return je},set:function(De){isNaN(De)||(je=parseFloat(De))}}),this},kd=function(){this.page=Sr,this.currentPage=W,this.pages=xe.slice(0),this.pagesContext=gt.slice(0),this.x=mn,this.y=Mt,this.matrix=Ga,this.width=Go(W),this.height=Hs(W),this.outputDestination=Te,this.id="",this.objectNumber=-1};kd.prototype.restore=function(){Sr=this.page,W=this.currentPage,gt=this.pagesContext,xe=this.pages,mn=this.x,Mt=this.y,Ga=this.matrix,Pd(W,this.width),Dd(W,this.height),Te=this.outputDestination};var _p=function(_,U,re,le,ge){Oi.push(new kd),Sr=W=0,xe=[],mn=_,Mt=U,Ga=ge,Sd([re,le])},A0=function(_){if(Ei[_])Oi.pop().restore();else{var U=new kd,re="Xo"+(Object.keys(cn).length+1).toString(10);U.id=re,Ei[_]=re,cn[re]=U,zt.publish("addFormObject",U),Oi.pop().restore()}};for(var yc in p.beginFormObject=function(_,U,re,le,ge){return _p(_,U,re,le,ge),this},p.endFormObject=function(_){return A0(_),this},p.doFormObject=function(_,U){var re=cn[Ei[_]];return ne("q"),ne(U.toString()+" cm"),ne("/"+re.id+" Do"),ne("Q"),this},p.getFormObject=function(_){var U=cn[Ei[_]];return{x:U.x,y:U.y,width:U.width,height:U.height,matrix:U.matrix}},p.save=function(_,U){return _=_||"generated.pdf",(U=U||{}).returnPromise=U.returnPromise||!1,U.returnPromise===!1?(ol(fc(os()),_),typeof ol.unload=="function"&&ct.setTimeout&&setTimeout(ol.unload,911),this):new Promise(function(re,le){try{var ge=ol(fc(os()),_);typeof ol.unload=="function"&&ct.setTimeout&&setTimeout(ol.unload,911),re(ge)}catch(je){le(je.message)}})},ot.API)ot.API.hasOwnProperty(yc)&&(yc==="events"&&ot.API.events.length?function(_,U){var re,le,ge;for(ge=U.length-1;ge!==-1;ge--)re=U[ge][0],le=U[ge][1],_.subscribe.apply(_,[re].concat(typeof le=="function"?[le]:le))}(zt,ot.API.events):p[yc]=ot.API[yc]);var Go=p.getPageWidth=function(_){return(gt[_=_||W].mediaBox.topRightX-gt[_].mediaBox.bottomLeftX)/ze},Pd=p.setPageWidth=function(_,U){gt[_].mediaBox.topRightX=U*ze+gt[_].mediaBox.bottomLeftX},Hs=p.getPageHeight=function(_){return(gt[_=_||W].mediaBox.topRightY-gt[_].mediaBox.bottomLeftY)/ze},Dd=p.setPageHeight=function(_,U){gt[_].mediaBox.topRightY=U*ze+gt[_].mediaBox.bottomLeftY};return p.internal={pdfEscape:qn,getStyle:bp,getFont:w0,getFontSize:Ie,getCharSpace:j0,getTextColor:N0,getLineHeight:Sp,getLineHeightFactor:jp,getLineWidth:mc,write:Qe,getHorizontalCoordinate:Di,getVerticalCoordinate:ls,getCoordinateString:S0,getVerticalCoordinateString:Ws,collections:{},newObject:Gr,newAdditionalObject:ac,newObjectDeferred:Lr,newObjectDeferredBegin:ia,getFilters:Ti,putStream:ba,events:zt,scaleFactor:ze,pageSize:{getWidth:function(){return Go(W)},setWidth:function(_){Pd(W,_)},getHeight:function(){return Hs(W)},setHeight:function(_){Dd(W,_)}},encryptionOptions:d,encryption:gn,getEncryptor:m0,output:hc,getNumberOfPages:u0,pages:xe,out:ne,f2:L,f3:C,getPageInfo:yp,getPageInfoByObjId:mt,getCurrentPageInfo:g0,getPDFVersion:m,Point:vc,Rectangle:Td,Matrix:it,hasHotfix:vp},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Go(W)},set:function(_){Pd(W,_)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Hs(W)},set:function(_){Dd(W,_)},enumerable:!0,configurable:!0}),l0.call(p,Pe),jt="F1",pp(a,r),zt.publish("initialized"),p}zc.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},zc.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},zc.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},zc.prototype.processOwnerPassword=function(t,e){return Rx(Mx(e).substr(0,5),t)},zc.prototype.encryptor=function(t,e){var r=Mx(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return Rx(r,n)}},og.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||Ot(t)!==Ot(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},ot.API={events:[]},ot.version="3.0.1";var Ar=ot.API,T2=1,Xl=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Rc=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},yt=function(t){return t.toFixed(2)},ao=function(t){return t.toFixed(5)};Ar.__acroform__={};var aa=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},Lj=function(t){return t*T2},$i=function(t){var e=new vP,r=Xe.internal.getHeight(t)||0,n=Xe.internal.getWidth(t)||0;return e.BBox=[0,0,Number(yt(n)),Number(yt(r))],e},zJ=Ar.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},WJ=Ar.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},HJ=Ar.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Dr=Ar.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return HJ(t,e-1)},Mr=Ar.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return zJ(t,e-1)},Rr=Ar.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return WJ(t,e-1)},qJ=Ar.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,a=t[0],i=t[1],s=t[2],o=t[3],c={};return c.lowerLeft_X=r(a)||0,c.lowerLeft_Y=n(i+o)||0,c.upperRight_X=r(a+s)||0,c.upperRight_Y=n(i)||0,[Number(yt(c.lowerLeft_X)),Number(yt(c.lowerLeft_Y)),Number(yt(c.upperRight_X)),Number(yt(c.upperRight_Y))]},GJ=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=Lx(t,r),a=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+a+" "+yt(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=$i(t);return i.scope=t.scope,i.stream=e.join(`
`),i}},Lx=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=t.multiline?a.map(function(C){return C.split(`
`)}):a.map(function(C){return[C]});var i=r,s=Xe.internal.getHeight(t)||0;s=s<0?-s:s;var o=Xe.internal.getWidth(t)||0;o=o<0?-o:o;var c=function(C,P,I){if(C+1<a.length){var M=P+" "+a[C+1][0];return am(M,t,I).width<=o-4}return!1};i++;e:for(;i>0;){e="",i--;var u,d,f=am("3",t,i).height,h=t.multiline?s-i:(s-f)/2,p=h+=2,g=0,m=0,y=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+am(e,t,i=12).width+", FieldWidth:"+o+`
`;break}for(var b="",x=0,N=0;N<a.length;N++)if(a.hasOwnProperty(N)){var A=!1;if(a[N].length!==1&&y!==a[N].length-1){if((f+2)*(x+2)+2>s)continue e;b+=a[N][y],A=!0,m=N,N--}else{b=(b+=a[N][y]+" ").substr(b.length-1)==" "?b.substr(0,b.length-1):b;var w=parseInt(N),j=c(w,b,i),E=N>=a.length-1;if(j&&!E){b+=" ",y=0;continue}if(j||E){if(E)m=w;else if(t.multiline&&(f+2)*(x+2)+2>s)continue e}else{if(!t.multiline||(f+2)*(x+2)+2>s)continue e;m=w}}for(var O="",k=g;k<=m;k++){var L=a[k];if(t.multiline){if(k===m){O+=L[y]+" ",y=(y+1)%L.length;continue}if(k===g){O+=L[L.length-1]+" ";continue}}O+=L[0]+" "}switch(O=O.substr(O.length-1)==" "?O.substr(0,O.length-1):O,d=am(O,t,i).width,t.textAlign){case"right":u=o-d-2;break;case"center":u=(o-d)/2;break;case"left":default:u=2}e+=yt(u)+" "+yt(p)+` Td
`,e+="("+Xl(O)+`) Tj
`,e+=-yt(u)+` 0 Td
`,p=-(i+2),d=0,g=A?m:m+1,x++,b=""}break}return n.text=e,n.fontSize=i,n},am=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},VJ={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},YJ=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},KJ=function(t,e){for(var r in t)if(t.hasOwnProperty(r)){var n=r,a=t[r];e.internal.newObjectDeferredBegin(a.objId,!0),Ot(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete t[n]}},XJ=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(wi.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(VJ)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");T2=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new yP,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&YJ(i,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var s in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var o=n[s],c=[],u=o.Rect;if(o.Rect&&(o.Rect=qJ(o.Rect,a)),a.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Xe.createDefaultAppearanceStream(o),Ot(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(c=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var d=GJ(o);c.push({key:"AP",value:"<</N "+d+">>"}),a.internal.acroformPlugin.xForms.push(d)}if(o.appearanceStreamContent){var f="";for(var h in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(h)){var p=o.appearanceStreamContent[h];if(f+="/"+h+" ",f+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var s in p)if(p.hasOwnProperty(s)){var g=p[s];typeof g=="function"&&(g=g.call(a,o)),f+="/"+s+" "+g+" ",a.internal.acroformPlugin.xForms.indexOf(g)>=0||a.internal.acroformPlugin.xForms.push(g)}}else typeof(g=p)=="function"&&(g=g.call(a,o)),f+="/"+s+" "+g,a.internal.acroformPlugin.xForms.indexOf(g)>=0||a.internal.acroformPlugin.xForms.push(g);f+=">>"}c.push({key:"AP",value:`<<
`+f+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:o.objId}),a.internal.out("endobj")}i&&KJ(a.internal.acroformPlugin.xForms,a)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},gP=Ar.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(s){return s};if(Array.isArray(t)){for(var a="[",i=0;i<t.length;i++)switch(i!==0&&(a+=" "),Ot(t[i])){case"boolean":case"number":case"object":a+=t[i].toString();break;case"string":t[i].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),a+="("+Xl(n(t[i].toString()))+")"):a+=t[i].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},fb=function(t,e,r){var n=function(a){return a};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),t="("+Xl(n(t))+")"},Hi=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Hi.prototype.toString=function(){return this.objId+" 0 R"},Hi.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Hi.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],a=this[n];a&&(Array.isArray(a)?t.push({key:n,value:gP(a,this.objId,this.scope)}):a instanceof Hi?(a.scope=this.scope,t.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&t.push({key:n,value:a}))}return t};var vP=function(){Hi.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};aa(vP,Hi);var yP=function(){Hi.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Xl(r(t))+")"}},set:function(r){t=r}})};aa(yP,Hi);var wi=function t(){Hi.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute F supplied.');e=b}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Dr(e,3)},set:function(b){b?this.F=Mr(e,3):this.F=Rr(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute Ff supplied.');r=b}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(b){n=b!==void 0?b:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(b){n[0]=b}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(b){n[1]=b}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(b){n[2]=b}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(b){n[3]=b}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(b){switch(b){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=b;break;default:throw new Error('Invalid value "'+b+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof lg)return;i="FieldObject"+t.FieldNum++}var b=function(x){return x};return this.scope&&(b=this.scope.internal.getEncryptor(this.objId)),"("+Xl(b(i))+")"},set:function(b){i=b.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(b){i=b}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(b){s=b}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(b){o=b}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(b){c=b}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/T2:u},set:function(b){u=b}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(b){d=b}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof lg||this instanceof Nl))return fb(f,this.objId,this.scope)},set:function(b){b=b.toString(),f=b}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof an?h:fb(h,this.objId,this.scope)},set:function(b){b=b.toString(),h=this instanceof an?b:b.substr(0,1)==="("?Rc(b.substr(1,b.length-2)):Rc(b)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof an?Rc(h.substr(1,h.length-1)):h},set:function(b){b=b.toString(),h=this instanceof an?"/"+b:b}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(b){this.V=b}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof an?p:fb(p,this.objId,this.scope)},set:function(b){b=b.toString(),p=this instanceof an?b:b.substr(0,1)==="("?Rc(b.substr(1,b.length-2)):Rc(b)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof an?Rc(p.substr(1,p.length-1)):p},set:function(b){b=b.toString(),p=this instanceof an?"/"+b:b}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(b){b=!!b,m=b}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(b){g=b}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,1)},set:function(b){b?this.Ff=Mr(this.Ff,1):this.Ff=Rr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,2)},set:function(b){b?this.Ff=Mr(this.Ff,2):this.Ff=Rr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,3)},set:function(b){b?this.Ff=Mr(this.Ff,3):this.Ff=Rr(this.Ff,3)}});var y=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(y!==null)return y},set:function(b){if([0,1,2].indexOf(b)===-1)throw new Error('Invalid value "'+b+'" for attribute Q supplied.');y=b}}),Object.defineProperty(this,"textAlign",{get:function(){var b;switch(y){case 0:default:b="left";break;case 1:b="center";break;case 2:b="right"}return b},configurable:!0,enumerable:!0,set:function(b){switch(b){case"right":case 2:y=2;break;case"center":case 1:y=1;break;case"left":case 0:default:y=0}}})};aa(wi,Hi);var eu=function(){wi.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return gP(e,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(i,s,o){o||(o=1);for(var c,u=[];c=s.exec(i);)u.push(c[o]);return u}(n,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,18)},set:function(r){r?this.Ff=Mr(this.Ff,18):this.Ff=Rr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Mr(this.Ff,19):this.Ff=Rr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,20)},set:function(r){r?(this.Ff=Mr(this.Ff,20),e.sort()):this.Ff=Rr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,22)},set:function(r){r?this.Ff=Mr(this.Ff,22):this.Ff=Rr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,23)},set:function(r){r?this.Ff=Mr(this.Ff,23):this.Ff=Rr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,27)},set:function(r){r?this.Ff=Mr(this.Ff,27):this.Ff=Rr(this.Ff,27)}}),this.hasAppearanceStream=!1};aa(eu,wi);var tu=function(){eu.call(this),this.fontName="helvetica",this.combo=!1};aa(tu,eu);var ru=function(){tu.call(this),this.combo=!0};aa(ru,tu);var Im=function(){ru.call(this),this.edit=!0};aa(Im,ru);var an=function(){wi.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,15)},set:function(r){r?this.Ff=Mr(this.Ff,15):this.Ff=Rr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,16)},set:function(r){r?this.Ff=Mr(this.Ff,16):this.Ff=Rr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,17)},set:function(r){r?this.Ff=Mr(this.Ff,17):this.Ff=Rr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,26)},set:function(r){r?this.Ff=Mr(this.Ff,26):this.Ff=Rr(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,a=[];for(n in a.push("<<"),e)a.push("/"+n+" ("+Xl(r(e[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){Ot(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};aa(an,wi);var $m=function(){an.call(this),this.pushButton=!0};aa($m,an);var nu=function(){an.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};aa(nu,an);var lg=function(){var t,e;wi.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(o){return o};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,s=[];for(i in s.push("<<"),n)s.push("/"+i+" ("+Xl(a(n[i]))+")");return s.push(">>"),s.join(`
`)},set:function(a){Ot(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Xe.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};aa(lg,wi),nu.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},nu.prototype.createOption=function(t){var e=new lg;return e.Parent=this,e.optionName=t,this.Kids.push(e),ZJ.call(this.scope,e),e};var Fm=function(){an.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Xe.CheckBox.createAppearanceStream()};aa(Fm,an);var Nl=function(){wi.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,13)},set:function(e){e?this.Ff=Mr(this.Ff,13):this.Ff=Rr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,21)},set:function(e){e?this.Ff=Mr(this.Ff,21):this.Ff=Rr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,23)},set:function(e){e?this.Ff=Mr(this.Ff,23):this.Ff=Rr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,24)},set:function(e){e?this.Ff=Mr(this.Ff,24):this.Ff=Rr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,25)},set:function(e){e?this.Ff=Mr(this.Ff,25):this.Ff=Rr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,26)},set:function(e){e?this.Ff=Mr(this.Ff,26):this.Ff=Rr(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};aa(Nl,wi);var Bm=function(){Nl.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,14)},set:function(t){t?this.Ff=Mr(this.Ff,14):this.Ff=Rr(this.Ff,14)}}),this.password=!0};aa(Bm,Nl);var Xe={CheckBox:{createAppearanceStream:function(){return{N:{On:Xe.CheckBox.YesNormal},D:{On:Xe.CheckBox.YesPushDown,Off:Xe.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=$i(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color),i=Lx(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+yt(Xe.internal.getWidth(t))+" "+yt(Xe.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+yt(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=$i(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),a=[],i=Xe.internal.getHeight(t),s=Xe.internal.getWidth(t),o=Lx(t,t.caption);return a.push("1 g"),a.push("0 0 "+yt(s)+" "+yt(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+yt(s-1)+" "+yt(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+yt(o.fontSize)+" Tf "+n),a.push(o.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(t){var e=$i(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+yt(Xe.internal.getWidth(t))+" "+yt(Xe.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Xe.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Xe.RadioButton.Circle.YesNormal,e.D[t]=Xe.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=$i(t);e.scope=t.scope;var r=[],n=Xe.internal.getWidth(t)<=Xe.internal.getHeight(t)?Xe.internal.getWidth(t)/4:Xe.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Xe.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+ao(Xe.internal.getWidth(t)/2)+" "+ao(Xe.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=$i(t);e.scope=t.scope;var r=[],n=Xe.internal.getWidth(t)<=Xe.internal.getHeight(t)?Xe.internal.getWidth(t)/4:Xe.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Xe.internal.Bezier_C).toFixed(5)),s=Number((n*Xe.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+ao(Xe.internal.getWidth(t)/2)+" "+ao(Xe.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+ao(Xe.internal.getWidth(t)/2)+" "+ao(Xe.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=$i(t);e.scope=t.scope;var r=[],n=Xe.internal.getWidth(t)<=Xe.internal.getHeight(t)?Xe.internal.getWidth(t)/4:Xe.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Xe.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+ao(Xe.internal.getWidth(t)/2)+" "+ao(Xe.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Xe.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Xe.RadioButton.Cross.YesNormal,e.D[t]=Xe.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=$i(t);e.scope=t.scope;var r=[],n=Xe.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+yt(Xe.internal.getWidth(t)-2)+" "+yt(Xe.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(yt(n.x1.x)+" "+yt(n.x1.y)+" m"),r.push(yt(n.x2.x)+" "+yt(n.x2.y)+" l"),r.push(yt(n.x4.x)+" "+yt(n.x4.y)+" m"),r.push(yt(n.x3.x)+" "+yt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=$i(t);e.scope=t.scope;var r=Xe.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+yt(Xe.internal.getWidth(t))+" "+yt(Xe.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+yt(Xe.internal.getWidth(t)-2)+" "+yt(Xe.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(yt(r.x1.x)+" "+yt(r.x1.y)+" m"),n.push(yt(r.x2.x)+" "+yt(r.x2.y)+" l"),n.push(yt(r.x4.x)+" "+yt(r.x4.y)+" m"),n.push(yt(r.x3.x)+" "+yt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=$i(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+yt(Xe.internal.getWidth(t))+" "+yt(Xe.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};Xe.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Xe.internal.getWidth(t),r=Xe.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},Xe.internal.getWidth=function(t){var e=0;return Ot(t)==="object"&&(e=Lj(t.Rect[2])),e},Xe.internal.getHeight=function(t){var e=0;return Ot(t)==="object"&&(e=Lj(t.Rect[3])),e};var ZJ=Ar.addField=function(t){if(XJ(this,t),!(t instanceof wi))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Ar.AcroFormChoiceField=eu,Ar.AcroFormListBox=tu,Ar.AcroFormComboBox=ru,Ar.AcroFormEditBox=Im,Ar.AcroFormButton=an,Ar.AcroFormPushButton=$m,Ar.AcroFormRadioButton=nu,Ar.AcroFormCheckBox=Fm,Ar.AcroFormTextField=Nl,Ar.AcroFormPasswordField=Bm,Ar.AcroFormAppearance=Xe,Ar.AcroForm={ChoiceField:eu,ListBox:tu,ComboBox:ru,EditBox:Im,Button:an,PushButton:$m,RadioButton:nu,CheckBox:Fm,TextField:Nl,PasswordField:Bm,Appearance:Xe},ot.AcroForm={ChoiceField:eu,ListBox:tu,ComboBox:ru,EditBox:Im,Button:an,PushButton:$m,RadioButton:nu,CheckBox:Fm,TextField:Nl,PasswordField:Bm,Appearance:Xe};ot.AcroForm;function bP(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=t.__addimage__.getImageFileTypeByImageData=function(C,P){var I,M,H,V,F,X=e;if((P=P||e)==="RGBA"||C.data!==void 0&&C.data instanceof Uint8ClampedArray&&"height"in C&&"width"in C)return"RGBA";if(j(C))for(F in r)for(H=r[F],I=0;I<H.length;I+=1){for(V=!0,M=0;M<H[I].length;M+=1)if(H[I][M]!==void 0&&H[I][M]!==C[M]){V=!1;break}if(V===!0){X=F;break}}else for(F in r)for(H=r[F],I=0;I<H.length;I+=1){for(V=!0,M=0;M<H[I].length;M+=1)if(H[I][M]!==void 0&&H[I][M]!==C.charCodeAt(M)){V=!1;break}if(V===!0){X=F;break}}return X===e&&P!==e&&(X=P),X},a=function C(P){for(var I=this.internal.write,M=this.internal.putStream,H=(0,this.internal.getFilters)();H.indexOf("FlateEncode")!==-1;)H.splice(H.indexOf("FlateEncode"),1);P.objectId=this.internal.newObject();var V=[];if(V.push({key:"Type",value:"/XObject"}),V.push({key:"Subtype",value:"/Image"}),V.push({key:"Width",value:P.width}),V.push({key:"Height",value:P.height}),P.colorSpace===y.INDEXED?V.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(P.palette.length/3-1)+" "+("sMask"in P&&P.sMask!==void 0?P.objectId+2:P.objectId+1)+" 0 R]"}):(V.push({key:"ColorSpace",value:"/"+P.colorSpace}),P.colorSpace===y.DEVICE_CMYK&&V.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),V.push({key:"BitsPerComponent",value:P.bitsPerComponent}),"decodeParameters"in P&&P.decodeParameters!==void 0&&V.push({key:"DecodeParms",value:"<<"+P.decodeParameters+">>"}),"transparency"in P&&Array.isArray(P.transparency)){for(var F="",X=0,Y=P.transparency.length;X<Y;X++)F+=P.transparency[X]+" "+P.transparency[X]+" ";V.push({key:"Mask",value:"["+F+"]"})}P.sMask!==void 0&&V.push({key:"SMask",value:P.objectId+1+" 0 R"});var Q=P.filter!==void 0?["/"+P.filter]:void 0;if(M({data:P.data,additionalKeyValues:V,alreadyAppliedFilters:Q,objectId:P.objectId}),I("endobj"),"sMask"in P&&P.sMask!==void 0){var se="/Predictor "+P.predictor+" /Colors 1 /BitsPerComponent "+P.bitsPerComponent+" /Columns "+P.width,$={width:P.width,height:P.height,colorSpace:"DeviceGray",bitsPerComponent:P.bitsPerComponent,decodeParameters:se,data:P.sMask};"filter"in P&&($.filter=P.filter),C.call(this,$)}if(P.colorSpace===y.INDEXED){var W=this.internal.newObject();M({data:O(new Uint8Array(P.palette)),objectId:W}),I("endobj")}},i=function(){var C=this.internal.collections.addImage_images;for(var P in C)a.call(this,C[P])},s=function(){var C,P=this.internal.collections.addImage_images,I=this.internal.write;for(var M in P)I("/I"+(C=P[M]).index,C.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",s))},c=function(){var C=this.internal.collections.addImage_images;return o.call(this),C},u=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(C){return typeof t["process"+C.toUpperCase()]=="function"},f=function(C){return Ot(C)==="object"&&C.nodeType===1},h=function(C,P){if(C.nodeName==="IMG"&&C.hasAttribute("src")){var I=""+C.getAttribute("src");if(I.indexOf("data:image/")===0)return Sf(unescape(I).split("base64,").pop());var M=t.loadFile(I,!0);if(M!==void 0)return M}if(C.nodeName==="CANVAS"){if(C.width===0||C.height===0)throw new Error("Given canvas must have data. Canvas width: "+C.width+", height: "+C.height);var H;switch(P){case"PNG":H="image/png";break;case"WEBP":H="image/webp";break;case"JPEG":case"JPG":default:H="image/jpeg"}return Sf(C.toDataURL(H,1).split("base64,").pop())}},p=function(C){var P=this.internal.collections.addImage_images;if(P){for(var I in P)if(C===P[I].alias)return P[I]}},g=function(C,P,I){return C||P||(C=-96,P=-96),C<0&&(C=-1*I.width*72/C/this.internal.scaleFactor),P<0&&(P=-1*I.height*72/P/this.internal.scaleFactor),C===0&&(C=P*I.width/I.height),P===0&&(P=C*I.height/I.width),[C,P]},m=function(C,P,I,M,H,V){var F=g.call(this,I,M,H),X=this.internal.getCoordinateString,Y=this.internal.getVerticalCoordinateString,Q=c.call(this);if(I=F[0],M=F[1],Q[H.index]=H,V){V*=Math.PI/180;var se=Math.cos(V),$=Math.sin(V),W=function(ae){return ae.toFixed(4)},ee=[W(se),W($),W(-1*$),W(se),0,0,"cm"]}this.internal.write("q"),V?(this.internal.write([1,"0","0",1,X(C),Y(P+M),"cm"].join(" ")),this.internal.write(ee.join(" ")),this.internal.write([X(I),"0","0",X(M),"0","0","cm"].join(" "))):this.internal.write([X(I),"0","0",X(M),X(C),Y(P+M),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+H.index+" Do"),this.internal.write("Q")},y=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var b=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},x=t.__addimage__.sHashCode=function(C){var P,I,M=0;if(typeof C=="string")for(I=C.length,P=0;P<I;P++)M=(M<<5)-M+C.charCodeAt(P),M|=0;else if(j(C))for(I=C.byteLength/2,P=0;P<I;P++)M=(M<<5)-M+C[P],M|=0;return M},N=t.__addimage__.validateStringAsBase64=function(C){(C=C||"").toString().trim();var P=!0;return C.length===0&&(P=!1),C.length%4!=0&&(P=!1),/^[A-Za-z0-9+/]+$/.test(C.substr(0,C.length-2))===!1&&(P=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(C.substr(-2))===!1&&(P=!1),P},A=t.__addimage__.extractImageFromDataUrl=function(C){if(C==null||!(C=C.trim()).startsWith("data:"))return null;var P=C.indexOf(",");return P<0?null:C.substring(0,P).trim().endsWith("base64")?C.substring(P+1):null},w=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(C){return w()&&C instanceof ArrayBuffer};var j=t.__addimage__.isArrayBufferView=function(C){return w()&&typeof Uint32Array<"u"&&(C instanceof Int8Array||C instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&C instanceof Uint8ClampedArray||C instanceof Int16Array||C instanceof Uint16Array||C instanceof Int32Array||C instanceof Uint32Array||C instanceof Float32Array||C instanceof Float64Array)},E=t.__addimage__.binaryStringToUint8Array=function(C){for(var P=C.length,I=new Uint8Array(P),M=0;M<P;M++)I[M]=C.charCodeAt(M);return I},O=t.__addimage__.arrayBufferToBinaryString=function(C){for(var P="",I=j(C)?C:new Uint8Array(C),M=0;M<I.length;M+=8192)P+=String.fromCharCode.apply(null,I.subarray(M,M+8192));return P};t.addImage=function(){var C,P,I,M,H,V,F,X,Y;if(typeof arguments[1]=="number"?(P=e,I=arguments[1],M=arguments[2],H=arguments[3],V=arguments[4],F=arguments[5],X=arguments[6],Y=arguments[7]):(P=arguments[1],I=arguments[2],M=arguments[3],H=arguments[4],V=arguments[5],F=arguments[6],X=arguments[7],Y=arguments[8]),Ot(C=arguments[0])==="object"&&!f(C)&&"imageData"in C){var Q=C;C=Q.imageData,P=Q.format||P||e,I=Q.x||I||0,M=Q.y||M||0,H=Q.w||Q.width||H,V=Q.h||Q.height||V,F=Q.alias||F,X=Q.compression||X,Y=Q.rotation||Q.angle||Y}var se=this.internal.getFilters();if(X===void 0&&se.indexOf("FlateEncode")!==-1&&(X="SLOW"),isNaN(I)||isNaN(M))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var $=k.call(this,C,P,F,X);return m.call(this,I,M,H,V,$,Y),this};var k=function(C,P,I,M){var H,V,F;if(typeof C=="string"&&n(C)===e){C=unescape(C);var X=L(C,!1);(X!==""||(X=t.loadFile(C,!0))!==void 0)&&(C=X)}if(f(C)&&(C=h(C,P)),P=n(C,P),!d(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(((F=I)==null||F.length===0)&&(I=function(Y){return typeof Y=="string"||j(Y)?x(Y):j(Y.data)?x(Y.data):null}(C)),(H=p.call(this,I))||(w()&&(C instanceof Uint8Array||P==="RGBA"||(V=C,C=E(C))),H=this["process"+P.toUpperCase()](C,u.call(this),I,function(Y){return Y&&typeof Y=="string"&&(Y=Y.toUpperCase()),Y in t.image_compression?Y:b.NONE}(M),V)),!H)throw new Error("An unknown error occurred whilst processing the image.");return H},L=t.__addimage__.convertBase64ToBinaryString=function(C,P){P=typeof P!="boolean"||P;var I,M="";if(typeof C=="string"){var H;I=(H=A(C))!==null&&H!==void 0?H:C;try{M=Sf(I)}catch(V){if(P)throw N(I)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+V.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return M};t.getImageProperties=function(C){var P,I,M="";if(f(C)&&(C=h(C)),typeof C=="string"&&n(C)===e&&((M=L(C,!1))===""&&(M=t.loadFile(C)||""),C=M),I=n(C),!d(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(!w()||C instanceof Uint8Array||(C=E(C)),!(P=this["process"+I.toUpperCase()](C)))throw new Error("An unknown error occurred whilst processing the image");return P.fileType=I,P}})(ot.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};ot.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,a,i,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,d=!1,f=0;f<u.length&&!d;f++)switch((n=u[f]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var h=0;h<u.length;h++){n=u[h];var p=this.internal.pdfEscape,g=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var m=this.internal.newAdditionalObject(),y=this.internal.newAdditionalObject(),b=this.internal.getEncryptor(m.objId),x=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+p(b(n.contents))+")",i+=" /Popup "+y.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+p(b(x))+") >>",m.content=i;var N=m.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+s(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+N,n.open&&(i+=" /Open true"),i+=" >>",y.content=i,this.internal.write(m.objId,"0 R",y.objId,"0 R");break;case"freetext":a="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var A=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+p(g(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+A+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var w=this.annotations._nameMap[n.options.name];n.options.pageNumber=w.page,n.options.top=w.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+p(g(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var j=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+j+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,a,i,s){var o=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:c(r),y:u(n),w:c(r+a),h:u(n+i)},options:s,type:"link"})},t.textWithLink=function(r,n,a,i){var s,o,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){o=i.maxWidth;var d=this.splitTextToSize(r,o).length;s=Math.ceil(u*d)}else o=c,s=u;return this.text(r,n,a,i),a+=.2*u,i.align==="center"&&(n-=c/2),i.align==="right"&&(n-=c),this.link(n,a-u,o,s,i),c},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(ot.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];t.__arabicParser__={};var i=t.__arabicParser__.isInArabicSubstitutionA=function(m){return e[m.charCodeAt(0)]!==void 0},s=t.__arabicParser__.isArabicLetter=function(m){return typeof m=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(m)},o=t.__arabicParser__.isArabicEndLetter=function(m){return s(m)&&i(m)&&e[m.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(m){return s(m)&&a.indexOf(m.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(m){return s(m)&&i(m)&&e[m.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(m){return s(m)&&i(m)&&e[m.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(m){return s(m)&&i(m)&&e[m.charCodeAt(0)].length>=3};var d=t.__arabicParser__.arabicLetterHasMedialForm=function(m){return s(m)&&i(m)&&e[m.charCodeAt(0)].length==4},f=t.__arabicParser__.resolveLigatures=function(m){var y=0,b=r,x="",N=0;for(y=0;y<m.length;y+=1)b[m.charCodeAt(y)]!==void 0?(N++,typeof(b=b[m.charCodeAt(y)])=="number"&&(x+=String.fromCharCode(b),b=r,N=0),y===m.length-1&&(b=r,x+=m.charAt(y-(N-1)),y-=N-1,N=0)):(b=r,x+=m.charAt(y-N),y-=N,N=0);return x};t.__arabicParser__.isArabicDiacritic=function(m){return m!==void 0&&n[m.charCodeAt(0)]!==void 0};var h=t.__arabicParser__.getCorrectForm=function(m,y,b){return s(m)?i(m)===!1?-1:!u(m)||!s(y)&&!s(b)||!s(b)&&o(y)||o(m)&&!s(y)||o(m)&&c(y)||o(m)&&o(y)?0:d(m)&&s(y)&&!o(y)&&s(b)&&u(b)?3:o(m)||!s(b)?1:2:-1},p=function(m){var y=0,b=0,x=0,N="",A="",w="",j=(m=m||"").split("\\s+"),E=[];for(y=0;y<j.length;y+=1){for(E.push(""),b=0;b<j[y].length;b+=1)N=j[y][b],A=j[y][b-1],w=j[y][b+1],s(N)?(x=h(N,A,w),E[y]+=x!==-1?String.fromCharCode(e[N.charCodeAt(0)][x]):N):E[y]+=N;E[y]=f(E[y])}return E.join(" ")},g=t.__arabicParser__.processArabic=t.processArabic=function(){var m,y=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,b=[];if(Array.isArray(y)){var x=0;for(b=[],x=0;x<y.length;x+=1)Array.isArray(y[x])?b.push([p(y[x][0]),y[x][1],y[x][2]]):b.push([p(y[x])]);m=b}else m=p(y);return typeof arguments[0]=="string"?m:(arguments[0].text=m,arguments[0])};t.events.push(["preProcessText",g])}(ot.API),ot.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(o){a=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(o){i=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(ot.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(m){c=m}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(m){u=m}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(m){d=m}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(m){f=m}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(m){h=m}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(m){p=m}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(m){g=m}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,u){n.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),h=u.scaleFactor||this.internal.scaleFactor,p=0,g=0,m=0,y=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var b=u.maxWidth;b>0?typeof c=="string"?c=this.splitTextToSize(c,b):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(N,A){return N.concat(y.splitTextToSize(A,b))},[])):c=Array.isArray(c)?c:[c];for(var x=0;x<c.length;x++)p<(m=this.getStringUnitWidth(c[x],{font:f})*d)&&(p=m);return p!==0&&(g=c.length),{w:p/=h,h:Math.max((g*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/h,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=t.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,h=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=f.top,p&&h&&(this.printHeaderRow(c.lineNumber,!0),c.y+=h[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};t.table=function(c,u,d,f,h){if(n.call(this),!d)throw new Error("No data for PDF table.");var p,g,m,y,b=[],x=[],N=[],A={},w={},j=[],E=[],O=(h=h||{}).autoSize||!1,k=h.printHeaders!==!1,L=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,C=h.margins||Object.assign({width:this.getPageWidth()},e),P=typeof h.padding=="number"?h.padding:3,I=h.headerBackgroundColor||"#c8c8c8",M=h.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=k,this.internal.__cell__.margins=C,this.internal.__cell__.table_font_size=L,this.internal.__cell__.padding=P,this.internal.__cell__.headerBackgroundColor=I,this.internal.__cell__.headerTextColor=M,this.setFontSize(L),f==null)x=b=Object.keys(d[0]),N=b.map(function(){return"left"});else if(Array.isArray(f)&&Ot(f[0])==="object")for(b=f.map(function(Q){return Q.name}),x=f.map(function(Q){return Q.prompt||Q.name||""}),N=f.map(function(Q){return Q.align||"left"}),p=0;p<f.length;p+=1)w[f[p].name]=f[p].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(x=b=f,N=b.map(function(){return"left"}));if(O||Array.isArray(f)&&typeof f[0]=="string")for(p=0;p<b.length;p+=1){for(A[y=b[p]]=d.map(function(Q){return Q[y]}),this.setFont(void 0,"bold"),j.push(this.getTextDimensions(x[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=A[y],this.setFont(void 0,"normal"),m=0;m<g.length;m+=1)j.push(this.getTextDimensions(g[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);w[y]=Math.max.apply(null,j)+P+P,j=[]}if(k){var H={};for(p=0;p<b.length;p+=1)H[b[p]]={},H[b[p]].text=x[p],H[b[p]].align=N[p];var V=o.call(this,H,w);E=b.map(function(Q){return new i(c,u,w[Q],V,H[Q].text,void 0,H[Q].align)}),this.setTableHeaderRow(E),this.printHeaderRow(1,!1)}var F=f.reduce(function(Q,se){return Q[se.name]=se.align,Q},{});for(p=0;p<d.length;p+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:p,data:d[p]},this);var X=o.call(this,d[p],w);for(m=0;m<b.length;m+=1){var Y=d[p][b[m]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:p,col:m,data:Y},this),s.call(this,new i(c,u,w[b[m]],X,Y,p+2,F[b[m]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var o=function(c,u){var d=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(c).map(function(p){var g=c[p];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,u[p]-d-d)},this).map(function(p){return this.getLineHeightFactor()*p.length*f/h+d+d},this).reduce(function(p,g){return Math.max(p,g)},0)};t.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){d=this.internal.__cell__.tableHeaderRow[p].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,h.push(d)),d.lineNumber=c;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,d),this.setTextColor(g)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),r=!1}}(ot.API);var xP={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},wP=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Ix=bP(wP),SP=[100,200,300,400,500,600,700,800,900],QJ=bP(SP);function $x(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return xP[i=i||"normal"]?i:"normal"}(t.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(t.weight),a=function(i){return typeof Ix[i=i||"normal"]=="number"?i:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:a,src:t.src||[],ref:t.ref||{name:e,style:[a,r,n].join(" ")}}}function Ij(t,e,r,n){var a;for(a=r;a>=0&&a<e.length;a+=n)if(t[e[a]])return t[e[a]];for(a=r;a>=0&&a<e.length;a-=n)if(t[e[a]])return t[e[a]]}var JJ={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},$j={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Fj(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function eee(t,e,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},JJ,r.genericFontFamilies||{}),i=null,s=null,o=0;o<e.length;++o)if(a[(i=$x(e[o])).family]&&(i.family=a[i.family]),t.hasOwnProperty(i.family)){s=t[i.family];break}if(!(s=s||t[n]))throw new Error("Could not find a font-family for the rule '"+Fj(i)+"' and default family '"+n+"'.");if(s=function(c,u){if(u[c])return u[c];var d=Ix[c],f=d<=Ix.normal?-1:1,h=Ij(u,wP,d,f);if(!h)throw new Error("Could not find a matching font-stretch value for "+c);return h}(i.stretch,s),s=function(c,u){if(u[c])return u[c];for(var d=xP[c],f=0;f<d.length;++f)if(u[d[f]])return u[d[f]];throw new Error("Could not find a matching font-style for "+c)}(i.style,s),!(s=function(c,u){if(u[c])return u[c];if(c===400&&u[500])return u[500];if(c===500&&u[400])return u[400];var d=QJ[c],f=Ij(u,SP,d,c<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+c);return f}(i.weight,s)))throw new Error("Failed to resolve a font for the rule '"+Fj(i)+"'.");return s}function Bj(t){return t.trimLeft()}function tee(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function ree(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var im,Uj,zj,hb=["times"];(function(t){var e,r,n,a,i,s,o,c,u,d=function($){return $=$||{},this.isStrokeTransparent=$.isStrokeTransparent||!1,this.strokeOpacity=$.strokeOpacity||1,this.strokeStyle=$.strokeStyle||"#000000",this.fillStyle=$.fillStyle||"#000000",this.isFillTransparent=$.isFillTransparent||!1,this.fillOpacity=$.fillOpacity||1,this.font=$.font||"10px sans-serif",this.textBaseline=$.textBaseline||"alphabetic",this.textAlign=$.textAlign||"left",this.lineWidth=$.lineWidth||1,this.lineJoin=$.lineJoin||"miter",this.lineCap=$.lineCap||"butt",this.path=$.path||[],this.transform=$.transform!==void 0?$.transform.clone():new c,this.globalCompositeOperation=$.globalCompositeOperation||"normal",this.globalAlpha=$.globalAlpha||1,this.clip_path=$.clip_path||[],this.currentPoint=$.currentPoint||new s,this.miterLimit=$.miterLimit||10,this.lastPoint=$.lastPoint||new s,this.lineDashOffset=$.lineDashOffset||0,this.lineDash=$.lineDash||[],this.margin=$.margin||[0,0,0,0],this.prevPageLastElemOffset=$.prevPageLastElemOffset||0,this.ignoreClearRect=typeof $.ignoreClearRect!="boolean"||$.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var f=function($){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var W=$;Object.defineProperty(this,"pdf",{get:function(){return W}});var ee=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ee},set:function(we){ee=!!we}});var ae=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ae},set:function(we){ae=!!we}});var oe=0;Object.defineProperty(this,"posX",{get:function(){return oe},set:function(we){isNaN(we)||(oe=we)}});var me=0;Object.defineProperty(this,"posY",{get:function(){return me},set:function(we){isNaN(we)||(me=we)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(we){var ne;typeof we=="number"?ne=[we,we,we,we]:((ne=new Array(4))[0]=we[0],ne[1]=we.length>=2?we[1]:ne[0],ne[2]=we.length>=3?we[2]:ne[0],ne[3]=we.length>=4?we[3]:ne[1]),u.margin=ne}});var fe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return fe},set:function(we){fe=we}});var J=0;Object.defineProperty(this,"lastBreak",{get:function(){return J},set:function(we){J=we}});var ve=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ve},set:function(we){ve=we}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(we){we instanceof d&&(u=we)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(we){u.path=we}});var xe=[];Object.defineProperty(this,"ctxStack",{get:function(){return xe},set:function(we){xe=we}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(we){var ne;ne=h(we),this.ctx.fillStyle=ne.style,this.ctx.isFillTransparent=ne.a===0,this.ctx.fillOpacity=ne.a,this.pdf.setFillColor(ne.r,ne.g,ne.b,{a:ne.a}),this.pdf.setTextColor(ne.r,ne.g,ne.b,{a:ne.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(we){var ne=h(we);this.ctx.strokeStyle=ne.style,this.ctx.isStrokeTransparent=ne.a===0,this.ctx.strokeOpacity=ne.a,ne.a===0?this.pdf.setDrawColor(255,255,255):(ne.a,this.pdf.setDrawColor(ne.r,ne.g,ne.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(we){["butt","round","square"].indexOf(we)!==-1&&(this.ctx.lineCap=we,this.pdf.setLineCap(we))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(we){isNaN(we)||(this.ctx.lineWidth=we,this.pdf.setLineWidth(we))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(we){["bevel","round","miter"].indexOf(we)!==-1&&(this.ctx.lineJoin=we,this.pdf.setLineJoin(we))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(we){isNaN(we)||(this.ctx.miterLimit=we,this.pdf.setMiterLimit(we))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(we){this.ctx.textBaseline=we}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(we){["right","end","center","left","start"].indexOf(we)!==-1&&(this.ctx.textAlign=we)}});var pe=null;function Te(we,ne){if(pe===null){var Qe=function(He){var Pe=[];return Object.keys(He).forEach(function(Re){He[Re].forEach(function($e){var Ie=null;switch($e){case"bold":Ie={family:Re,weight:"bold"};break;case"italic":Ie={family:Re,style:"italic"};break;case"bolditalic":Ie={family:Re,weight:"bold",style:"italic"};break;case"":case"normal":Ie={family:Re}}Ie!==null&&(Ie.ref={name:Re,style:$e},Pe.push(Ie))})}),Pe}(we.getFontList());pe=function(He){for(var Pe={},Re=0;Re<He.length;++Re){var $e=$x(He[Re]),Ie=$e.family,Ze=$e.stretch,at=$e.style,ht=$e.weight;Pe[Ie]=Pe[Ie]||{},Pe[Ie][Ze]=Pe[Ie][Ze]||{},Pe[Ie][Ze][at]=Pe[Ie][Ze][at]||{},Pe[Ie][Ze][at][ht]=$e}return Pe}(Qe.concat(ne))}return pe}var Me=null;Object.defineProperty(this,"fontFaces",{get:function(){return Me},set:function(we){pe=null,Me=we}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(we){var ne;if(this.ctx.font=we,(ne=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(we))!==null){var Qe=ne[1];ne[2];var He=ne[3],Pe=ne[4];ne[5];var Re=ne[6],$e=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Pe)[2];Pe=Math.floor($e==="px"?parseFloat(Pe)*this.pdf.internal.scaleFactor:$e==="em"?parseFloat(Pe)*this.pdf.getFontSize():parseFloat(Pe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Pe);var Ie=function(pt){var jt,ze,mn=[],Mt=pt.trim();if(Mt==="")return hb;if(Mt in $j)return[$j[Mt]];for(;Mt!=="";){switch(ze=null,jt=(Mt=Bj(Mt)).charAt(0)){case'"':case"'":ze=tee(Mt.substring(1),jt);break;default:ze=ree(Mt)}if(ze===null||(mn.push(ze[0]),(Mt=Bj(ze[1]))!==""&&Mt.charAt(0)!==","))return hb;Mt=Mt.replace(/^,/,"")}return mn}(Re);if(this.fontFaces){var Ze=eee(Te(this.pdf,this.fontFaces),Ie.map(function(pt){return{family:pt,stretch:"normal",weight:He,style:Qe}}));this.pdf.setFont(Ze.ref.name,Ze.ref.style)}else{var at="";(He==="bold"||parseInt(He,10)>=700||Qe==="bold")&&(at="bold"),Qe==="italic"&&(at+="italic"),at.length===0&&(at="normal");for(var ht="",St={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},At=0;At<Ie.length;At++){if(this.pdf.internal.getFont(Ie[At],at,{noFallback:!0,disableWarning:!0})!==void 0){ht=Ie[At];break}if(at==="bolditalic"&&this.pdf.internal.getFont(Ie[At],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ht=Ie[At],at="bold";else if(this.pdf.internal.getFont(Ie[At],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ht=Ie[At],at="normal";break}}if(ht===""){for(var Ft=0;Ft<Ie.length;Ft++)if(St[Ie[Ft]]){ht=St[Ie[Ft]];break}}ht=ht===""?"Times":ht,this.pdf.setFont(ht,at)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(we){this.ctx.globalCompositeOperation=we}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(we){this.ctx.globalAlpha=we}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(we){this.ctx.lineDashOffset=we,se.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(we){this.ctx.lineDash=we,se.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(we){this.ctx.ignoreClearRect=!!we}})};f.prototype.setLineDash=function($){this.lineDash=$},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){A.call(this,"fill",!1)},f.prototype.stroke=function(){A.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function($,W){if(isNaN($)||isNaN(W))throw Jt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ee=this.ctx.transform.applyToPoint(new s($,W));this.path.push({type:"mt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new s($,W)},f.prototype.closePath=function(){var $=new s(0,0),W=0;for(W=this.path.length-1;W!==-1;W--)if(this.path[W].type==="begin"&&Ot(this.path[W+1])==="object"&&typeof this.path[W+1].x=="number"){$=new s(this.path[W+1].x,this.path[W+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s($.x,$.y)},f.prototype.lineTo=function($,W){if(isNaN($)||isNaN(W))throw Jt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ee=this.ctx.transform.applyToPoint(new s($,W));this.path.push({type:"lt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new s(ee.x,ee.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),A.call(this,null,!0)},f.prototype.quadraticCurveTo=function($,W,ee,ae){if(isNaN(ee)||isNaN(ae)||isNaN($)||isNaN(W))throw Jt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var oe=this.ctx.transform.applyToPoint(new s(ee,ae)),me=this.ctx.transform.applyToPoint(new s($,W));this.path.push({type:"qct",x1:me.x,y1:me.y,x:oe.x,y:oe.y}),this.ctx.lastPoint=new s(oe.x,oe.y)},f.prototype.bezierCurveTo=function($,W,ee,ae,oe,me){if(isNaN(oe)||isNaN(me)||isNaN($)||isNaN(W)||isNaN(ee)||isNaN(ae))throw Jt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var fe=this.ctx.transform.applyToPoint(new s(oe,me)),J=this.ctx.transform.applyToPoint(new s($,W)),ve=this.ctx.transform.applyToPoint(new s(ee,ae));this.path.push({type:"bct",x1:J.x,y1:J.y,x2:ve.x,y2:ve.y,x:fe.x,y:fe.y}),this.ctx.lastPoint=new s(fe.x,fe.y)},f.prototype.arc=function($,W,ee,ae,oe,me){if(isNaN($)||isNaN(W)||isNaN(ee)||isNaN(ae)||isNaN(oe))throw Jt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(me=!!me,!this.ctx.transform.isIdentity){var fe=this.ctx.transform.applyToPoint(new s($,W));$=fe.x,W=fe.y;var J=this.ctx.transform.applyToPoint(new s(0,ee)),ve=this.ctx.transform.applyToPoint(new s(0,0));ee=Math.sqrt(Math.pow(J.x-ve.x,2)+Math.pow(J.y-ve.y,2))}Math.abs(oe-ae)>=2*Math.PI&&(ae=0,oe=2*Math.PI),this.path.push({type:"arc",x:$,y:W,radius:ee,startAngle:ae,endAngle:oe,counterclockwise:me})},f.prototype.arcTo=function($,W,ee,ae,oe){throw new Error("arcTo not implemented.")},f.prototype.rect=function($,W,ee,ae){if(isNaN($)||isNaN(W)||isNaN(ee)||isNaN(ae))throw Jt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo($,W),this.lineTo($+ee,W),this.lineTo($+ee,W+ae),this.lineTo($,W+ae),this.lineTo($,W),this.lineTo($+ee,W),this.lineTo($,W)},f.prototype.fillRect=function($,W,ee,ae){if(isNaN($)||isNaN(W)||isNaN(ee)||isNaN(ae))throw Jt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var oe={};this.lineCap!=="butt"&&(oe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(oe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect($,W,ee,ae),this.fill(),oe.hasOwnProperty("lineCap")&&(this.lineCap=oe.lineCap),oe.hasOwnProperty("lineJoin")&&(this.lineJoin=oe.lineJoin)}},f.prototype.strokeRect=function($,W,ee,ae){if(isNaN($)||isNaN(W)||isNaN(ee)||isNaN(ae))throw Jt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect($,W,ee,ae),this.stroke())},f.prototype.clearRect=function($,W,ee,ae){if(isNaN($)||isNaN(W)||isNaN(ee)||isNaN(ae))throw Jt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect($,W,ee,ae))},f.prototype.save=function($){$=typeof $!="boolean"||$;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("q");if(this.pdf.setPage(W),$){this.ctx.fontSize=this.pdf.internal.getFontSize();var ae=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ae}},f.prototype.restore=function($){$=typeof $!="boolean"||$;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("Q");this.pdf.setPage(W),$&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function($){var W,ee,ae,oe;if($.isCanvasGradient===!0&&($=$.getColor()),!$)return{r:0,g:0,b:0,a:0,style:$};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test($))W=0,ee=0,ae=0,oe=0;else{var me=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec($);if(me!==null)W=parseInt(me[1]),ee=parseInt(me[2]),ae=parseInt(me[3]),oe=1;else if((me=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec($))!==null)W=parseInt(me[1]),ee=parseInt(me[2]),ae=parseInt(me[3]),oe=parseFloat(me[4]);else{if(oe=1,typeof $=="string"&&$.charAt(0)!=="#"){var fe=new hP($);$=fe.ok?fe.toHex():"#000000"}$.length===4?(W=$.substring(1,2),W+=W,ee=$.substring(2,3),ee+=ee,ae=$.substring(3,4),ae+=ae):(W=$.substring(1,3),ee=$.substring(3,5),ae=$.substring(5,7)),W=parseInt(W,16),ee=parseInt(ee,16),ae=parseInt(ae,16)}}return{r:W,g:ee,b:ae,a:oe,style:$}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function($,W,ee,ae){if(isNaN(W)||isNaN(ee)||typeof $!="string")throw Jt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ae=isNaN(ae)?void 0:ae,!p.call(this)){var oe=X(this.ctx.transform.rotation),me=this.ctx.transform.scaleX;P.call(this,{text:$,x:W,y:ee,scale:me,angle:oe,align:this.textAlign,maxWidth:ae})}},f.prototype.strokeText=function($,W,ee,ae){if(isNaN(W)||isNaN(ee)||typeof $!="string")throw Jt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){ae=isNaN(ae)?void 0:ae;var oe=X(this.ctx.transform.rotation),me=this.ctx.transform.scaleX;P.call(this,{text:$,x:W,y:ee,scale:me,renderingMode:"stroke",angle:oe,align:this.textAlign,maxWidth:ae})}},f.prototype.measureText=function($){if(typeof $!="string")throw Jt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var W=this.pdf,ee=this.pdf.internal.scaleFactor,ae=W.internal.getFontSize(),oe=W.getStringUnitWidth($)*ae/W.internal.scaleFactor,me=function(fe){var J=(fe=fe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return J}}),this};return new me({width:oe*=Math.round(96*ee/72*1e4)/1e4})},f.prototype.scale=function($,W){if(isNaN($)||isNaN(W))throw Jt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ee=new c($,0,0,W,0,0);this.ctx.transform=this.ctx.transform.multiply(ee)},f.prototype.rotate=function($){if(isNaN($))throw Jt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var W=new c(Math.cos($),Math.sin($),-Math.sin($),Math.cos($),0,0);this.ctx.transform=this.ctx.transform.multiply(W)},f.prototype.translate=function($,W){if(isNaN($)||isNaN(W))throw Jt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ee=new c(1,0,0,1,$,W);this.ctx.transform=this.ctx.transform.multiply(ee)},f.prototype.transform=function($,W,ee,ae,oe,me){if(isNaN($)||isNaN(W)||isNaN(ee)||isNaN(ae)||isNaN(oe)||isNaN(me))throw Jt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var fe=new c($,W,ee,ae,oe,me);this.ctx.transform=this.ctx.transform.multiply(fe)},f.prototype.setTransform=function($,W,ee,ae,oe,me){$=isNaN($)?1:$,W=isNaN(W)?0:W,ee=isNaN(ee)?0:ee,ae=isNaN(ae)?1:ae,oe=isNaN(oe)?0:oe,me=isNaN(me)?0:me,this.ctx.transform=new c($,W,ee,ae,oe,me)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function($,W,ee,ae,oe,me,fe,J,ve){var xe=this.pdf.getImageProperties($),pe=1,Te=1,Me=1,we=1;ae!==void 0&&J!==void 0&&(Me=J/ae,we=ve/oe,pe=xe.width/ae*J/ae,Te=xe.height/oe*ve/oe),me===void 0&&(me=W,fe=ee,W=0,ee=0),ae!==void 0&&J===void 0&&(J=ae,ve=oe),ae===void 0&&J===void 0&&(J=xe.width,ve=xe.height);for(var ne,Qe=this.ctx.transform.decompose(),He=X(Qe.rotate.shx),Pe=new c,Re=(Pe=(Pe=(Pe=Pe.multiply(Qe.translate)).multiply(Qe.skew)).multiply(Qe.scale)).applyToRectangle(new o(me-W*Me,fe-ee*we,ae*pe,oe*Te)),$e=y.call(this,Re),Ie=[],Ze=0;Ze<$e.length;Ze+=1)Ie.indexOf($e[Ze])===-1&&Ie.push($e[Ze]);if(N(Ie),this.autoPaging)for(var at=Ie[0],ht=Ie[Ie.length-1],St=at;St<ht+1;St++){this.pdf.setPage(St);var At=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ft=St===1?this.posY+this.margin[0]:this.margin[0],pt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],jt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ze=St===1?0:pt+(St-2)*jt;if(this.ctx.clip_path.length!==0){var mn=this.path;ne=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(ne,this.posX+this.margin[3],-ze+Ft+this.ctx.prevPageLastElemOffset),w.call(this,"fill",!0),this.path=mn}var Mt=JSON.parse(JSON.stringify(Re));Mt=x([Mt],this.posX+this.margin[3],-ze+Ft+this.ctx.prevPageLastElemOffset)[0];var Ga=(St>at||St<ht)&&m.call(this);Ga&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],At,jt,null).clip().discardPath()),this.pdf.addImage($,"JPEG",Mt.x,Mt.y,Mt.w,Mt.h,null,null,He),Ga&&this.pdf.restoreGraphicsState()}else this.pdf.addImage($,"JPEG",Re.x,Re.y,Re.w,Re.h,null,null,He)};var y=function($,W,ee){var ae=[];W=W||this.pdf.internal.pageSize.width,ee=ee||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var oe=this.posY+this.ctx.prevPageLastElemOffset;switch($.type){default:case"mt":case"lt":ae.push(Math.floor(($.y+oe)/ee)+1);break;case"arc":ae.push(Math.floor(($.y+oe-$.radius)/ee)+1),ae.push(Math.floor(($.y+oe+$.radius)/ee)+1);break;case"qct":var me=Y(this.ctx.lastPoint.x,this.ctx.lastPoint.y,$.x1,$.y1,$.x,$.y);ae.push(Math.floor((me.y+oe)/ee)+1),ae.push(Math.floor((me.y+me.h+oe)/ee)+1);break;case"bct":var fe=Q(this.ctx.lastPoint.x,this.ctx.lastPoint.y,$.x1,$.y1,$.x2,$.y2,$.x,$.y);ae.push(Math.floor((fe.y+oe)/ee)+1),ae.push(Math.floor((fe.y+fe.h+oe)/ee)+1);break;case"rect":ae.push(Math.floor(($.y+oe)/ee)+1),ae.push(Math.floor(($.y+$.h+oe)/ee)+1)}for(var J=0;J<ae.length;J+=1)for(;this.pdf.internal.getNumberOfPages()<ae[J];)b.call(this);return ae},b=function(){var $=this.fillStyle,W=this.strokeStyle,ee=this.font,ae=this.lineCap,oe=this.lineWidth,me=this.lineJoin;this.pdf.addPage(),this.fillStyle=$,this.strokeStyle=W,this.font=ee,this.lineCap=ae,this.lineWidth=oe,this.lineJoin=me},x=function($,W,ee){for(var ae=0;ae<$.length;ae++)switch($[ae].type){case"bct":$[ae].x2+=W,$[ae].y2+=ee;case"qct":$[ae].x1+=W,$[ae].y1+=ee;case"mt":case"lt":case"arc":default:$[ae].x+=W,$[ae].y+=ee}return $},N=function($){return $.sort(function(W,ee){return W-ee})},A=function($,W){for(var ee,ae,oe=this.fillStyle,me=this.strokeStyle,fe=this.lineCap,J=this.lineWidth,ve=Math.abs(J*this.ctx.transform.scaleX),xe=this.lineJoin,pe=JSON.parse(JSON.stringify(this.path)),Te=JSON.parse(JSON.stringify(this.path)),Me=[],we=0;we<Te.length;we++)if(Te[we].x!==void 0)for(var ne=y.call(this,Te[we]),Qe=0;Qe<ne.length;Qe+=1)Me.indexOf(ne[Qe])===-1&&Me.push(ne[Qe]);for(var He=0;He<Me.length;He++)for(;this.pdf.internal.getNumberOfPages()<Me[He];)b.call(this);if(N(Me),this.autoPaging)for(var Pe=Me[0],Re=Me[Me.length-1],$e=Pe;$e<Re+1;$e++){this.pdf.setPage($e),this.fillStyle=oe,this.strokeStyle=me,this.lineCap=fe,this.lineWidth=ve,this.lineJoin=xe;var Ie=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ze=$e===1?this.posY+this.margin[0]:this.margin[0],at=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ht=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],St=$e===1?0:at+($e-2)*ht;if(this.ctx.clip_path.length!==0){var At=this.path;ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(ee,this.posX+this.margin[3],-St+Ze+this.ctx.prevPageLastElemOffset),w.call(this,$,!0),this.path=At}if(ae=JSON.parse(JSON.stringify(pe)),this.path=x(ae,this.posX+this.margin[3],-St+Ze+this.ctx.prevPageLastElemOffset),W===!1||$e===0){var Ft=($e>Pe||$e<Re)&&m.call(this);Ft&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ie,ht,null).clip().discardPath()),w.call(this,$,W),Ft&&this.pdf.restoreGraphicsState()}this.lineWidth=J}else this.lineWidth=ve,w.call(this,$,W),this.lineWidth=J;this.path=pe},w=function($,W){if(($!=="stroke"||W||!g.call(this))&&($==="stroke"||W||!p.call(this))){for(var ee,ae,oe=[],me=this.path,fe=0;fe<me.length;fe++){var J=me[fe];switch(J.type){case"begin":oe.push({begin:!0});break;case"close":oe.push({close:!0});break;case"mt":oe.push({start:J,deltas:[],abs:[]});break;case"lt":var ve=oe.length;if(me[fe-1]&&!isNaN(me[fe-1].x)&&(ee=[J.x-me[fe-1].x,J.y-me[fe-1].y],ve>0)){for(;ve>=0;ve--)if(oe[ve-1].close!==!0&&oe[ve-1].begin!==!0){oe[ve-1].deltas.push(ee),oe[ve-1].abs.push(J);break}}break;case"bct":ee=[J.x1-me[fe-1].x,J.y1-me[fe-1].y,J.x2-me[fe-1].x,J.y2-me[fe-1].y,J.x-me[fe-1].x,J.y-me[fe-1].y],oe[oe.length-1].deltas.push(ee);break;case"qct":var xe=me[fe-1].x+2/3*(J.x1-me[fe-1].x),pe=me[fe-1].y+2/3*(J.y1-me[fe-1].y),Te=J.x+2/3*(J.x1-J.x),Me=J.y+2/3*(J.y1-J.y),we=J.x,ne=J.y;ee=[xe-me[fe-1].x,pe-me[fe-1].y,Te-me[fe-1].x,Me-me[fe-1].y,we-me[fe-1].x,ne-me[fe-1].y],oe[oe.length-1].deltas.push(ee);break;case"arc":oe.push({deltas:[],abs:[],arc:!0}),Array.isArray(oe[oe.length-1].abs)&&oe[oe.length-1].abs.push(J)}}ae=W?null:$==="stroke"?"stroke":"fill";for(var Qe=!1,He=0;He<oe.length;He++)if(oe[He].arc)for(var Pe=oe[He].abs,Re=0;Re<Pe.length;Re++){var $e=Pe[Re];$e.type==="arc"?O.call(this,$e.x,$e.y,$e.radius,$e.startAngle,$e.endAngle,$e.counterclockwise,void 0,W,!Qe):I.call(this,$e.x,$e.y),Qe=!0}else if(oe[He].close===!0)this.pdf.internal.out("h"),Qe=!1;else if(oe[He].begin!==!0){var Ie=oe[He].start.x,Ze=oe[He].start.y;M.call(this,oe[He].deltas,Ie,Ze),Qe=!0}ae&&k.call(this,ae),W&&L.call(this)}},j=function($){var W=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ee=W*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return $-ee;case"top":return $+W-ee;case"hanging":return $+W-2*ee;case"middle":return $+W/2-ee;case"ideographic":return $;case"alphabetic":default:return $}},E=function($){return $+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var $=function(){};return $.colorStops=[],$.addColorStop=function(W,ee){this.colorStops.push([W,ee])},$.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},$.isCanvasGradient=!0,$},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var O=function($,W,ee,ae,oe,me,fe,J,ve){for(var xe=V.call(this,ee,ae,oe,me),pe=0;pe<xe.length;pe++){var Te=xe[pe];pe===0&&(ve?C.call(this,Te.x1+$,Te.y1+W):I.call(this,Te.x1+$,Te.y1+W)),H.call(this,$,W,Te.x2,Te.y2,Te.x3,Te.y3,Te.x4,Te.y4)}J?L.call(this):k.call(this,fe)},k=function($){switch($){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},L=function(){this.pdf.clip(),this.pdf.discardPath()},C=function($,W){this.pdf.internal.out(r($)+" "+n(W)+" m")},P=function($){var W;switch($.align){case"right":case"end":W="right";break;case"center":W="center";break;case"left":case"start":default:W="left"}var ee=this.pdf.getTextDimensions($.text),ae=j.call(this,$.y),oe=E.call(this,ae)-ee.h,me=this.ctx.transform.applyToPoint(new s($.x,ae)),fe=this.ctx.transform.decompose(),J=new c;J=(J=(J=J.multiply(fe.translate)).multiply(fe.skew)).multiply(fe.scale);for(var ve,xe,pe,Te=this.ctx.transform.applyToRectangle(new o($.x,ae,ee.w,ee.h)),Me=J.applyToRectangle(new o($.x,oe,ee.w,ee.h)),we=y.call(this,Me),ne=[],Qe=0;Qe<we.length;Qe+=1)ne.indexOf(we[Qe])===-1&&ne.push(we[Qe]);if(N(ne),this.autoPaging)for(var He=ne[0],Pe=ne[ne.length-1],Re=He;Re<Pe+1;Re++){this.pdf.setPage(Re);var $e=Re===1?this.posY+this.margin[0]:this.margin[0],Ie=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ze=this.pdf.internal.pageSize.height-this.margin[2],at=Ze-this.margin[0],ht=this.pdf.internal.pageSize.width-this.margin[1],St=ht-this.margin[3],At=Re===1?0:Ie+(Re-2)*at;if(this.ctx.clip_path.length!==0){var Ft=this.path;ve=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(ve,this.posX+this.margin[3],-1*At+$e),w.call(this,"fill",!0),this.path=Ft}var pt=x([JSON.parse(JSON.stringify(Me))],this.posX+this.margin[3],-At+$e+this.ctx.prevPageLastElemOffset)[0];$.scale>=.01&&(xe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(xe*$.scale),pe=this.lineWidth,this.lineWidth=pe*$.scale);var jt=this.autoPaging!=="text";if(jt||pt.y+pt.h<=Ze){if(jt||pt.y>=$e&&pt.x<=ht){var ze=jt?$.text:this.pdf.splitTextToSize($.text,$.maxWidth||ht-pt.x)[0],mn=x([JSON.parse(JSON.stringify(Te))],this.posX+this.margin[3],-At+$e+this.ctx.prevPageLastElemOffset)[0],Mt=jt&&(Re>He||Re<Pe)&&m.call(this);Mt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],St,at,null).clip().discardPath()),this.pdf.text(ze,mn.x,mn.y,{angle:$.angle,align:W,renderingMode:$.renderingMode}),Mt&&this.pdf.restoreGraphicsState()}}else pt.y<Ze&&(this.ctx.prevPageLastElemOffset+=Ze-pt.y);$.scale>=.01&&(this.pdf.setFontSize(xe),this.lineWidth=pe)}else $.scale>=.01&&(xe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(xe*$.scale),pe=this.lineWidth,this.lineWidth=pe*$.scale),this.pdf.text($.text,me.x+this.posX,me.y+this.posY,{angle:$.angle,align:W,renderingMode:$.renderingMode,maxWidth:$.maxWidth}),$.scale>=.01&&(this.pdf.setFontSize(xe),this.lineWidth=pe)},I=function($,W,ee,ae){ee=ee||0,ae=ae||0,this.pdf.internal.out(r($+ee)+" "+n(W+ae)+" l")},M=function($,W,ee){return this.pdf.lines($,W,ee,null,null)},H=function($,W,ee,ae,oe,me,fe,J){this.pdf.internal.out([e(a(ee+$)),e(i(ae+W)),e(a(oe+$)),e(i(me+W)),e(a(fe+$)),e(i(J+W)),"c"].join(" "))},V=function($,W,ee,ae){for(var oe=2*Math.PI,me=Math.PI/2;W>ee;)W-=oe;var fe=Math.abs(ee-W);fe<oe&&ae&&(fe=oe-fe);for(var J=[],ve=ae?-1:1,xe=W;fe>1e-5;){var pe=xe+ve*Math.min(fe,me);J.push(F.call(this,$,xe,pe)),fe-=Math.abs(pe-xe),xe=pe}return J},F=function($,W,ee){var ae=(ee-W)/2,oe=$*Math.cos(ae),me=$*Math.sin(ae),fe=oe,J=-me,ve=fe*fe+J*J,xe=ve+fe*oe+J*me,pe=4/3*(Math.sqrt(2*ve*xe)-xe)/(fe*me-J*oe),Te=fe-pe*J,Me=J+pe*fe,we=Te,ne=-Me,Qe=ae+W,He=Math.cos(Qe),Pe=Math.sin(Qe);return{x1:$*Math.cos(W),y1:$*Math.sin(W),x2:Te*He-Me*Pe,y2:Te*Pe+Me*He,x3:we*He-ne*Pe,y3:we*Pe+ne*He,x4:$*Math.cos(ee),y4:$*Math.sin(ee)}},X=function($){return 180*$/Math.PI},Y=function($,W,ee,ae,oe,me){var fe=$+.5*(ee-$),J=W+.5*(ae-W),ve=oe+.5*(ee-oe),xe=me+.5*(ae-me),pe=Math.min($,oe,fe,ve),Te=Math.max($,oe,fe,ve),Me=Math.min(W,me,J,xe),we=Math.max(W,me,J,xe);return new o(pe,Me,Te-pe,we-Me)},Q=function($,W,ee,ae,oe,me,fe,J){var ve,xe,pe,Te,Me,we,ne,Qe,He,Pe,Re,$e,Ie,Ze,at=ee-$,ht=ae-W,St=oe-ee,At=me-ae,Ft=fe-oe,pt=J-me;for(xe=0;xe<41;xe++)He=(ne=(pe=$+(ve=xe/40)*at)+ve*((Me=ee+ve*St)-pe))+ve*(Me+ve*(oe+ve*Ft-Me)-ne),Pe=(Qe=(Te=W+ve*ht)+ve*((we=ae+ve*At)-Te))+ve*(we+ve*(me+ve*pt-we)-Qe),xe==0?(Re=He,$e=Pe,Ie=He,Ze=Pe):(Re=Math.min(Re,He),$e=Math.min($e,Pe),Ie=Math.max(Ie,He),Ze=Math.max(Ze,Pe));return new o(Math.round(Re),Math.round($e),Math.round(Ie-Re),Math.round(Ze-$e))},se=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var $,W,ee=($=this.ctx.lineDash,W=this.ctx.lineDashOffset,JSON.stringify({lineDash:$,lineDashOffset:W}));this.prevLineDash!==ee&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ee)}}})(ot.API),function(t){var e=function(i){var s,o,c,u,d,f,h,p,g,m;for(o=[],c=0,u=(i+=s="\0\0\0\0".slice(i.length%4||4)).length;u>c;c+=4)(d=(i.charCodeAt(c)<<24)+(i.charCodeAt(c+1)<<16)+(i.charCodeAt(c+2)<<8)+i.charCodeAt(c+3))!==0?(f=(d=((d=((d=((d=(d-(m=d%85))/85)-(g=d%85))/85)-(p=d%85))/85)-(h=d%85))/85)%85,o.push(f+33,h+33,p+33,g+33,m+33)):o.push(122);return function(y,b){for(var x=b;x>0;x--)y.pop()}(o,s.length),String.fromCharCode.apply(String,o)+"~>"},r=function(i){var s,o,c,u,d,f=String,h="length",p=255,g="charCodeAt",m="slice",y="replace";for(i[m](-2),i=i[m](0,-2)[y](/\s/g,"")[y]("z","!!!!!"),c=[],u=0,d=(i+=s="uuuuu"[m](i[h]%5||5))[h];d>u;u+=5)o=52200625*(i[g](u)-33)+614125*(i[g](u+1)-33)+7225*(i[g](u+2)-33)+85*(i[g](u+3)-33)+(i[g](u+4)-33),c.push(p&o>>24,p&o>>16,p&o>>8,p&o);return function(b,x){for(var N=x;N>0;N--)b.pop()}(c,s[h]),f.fromCharCode.apply(f,c)},n=function(i){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),s.test(i)===!1)return"";for(var o="",c=0;c<i.length;c+=2)o+=String.fromCharCode("0x"+(i[c]+i[c+1]));return o},a=function(i){for(var s=new Uint8Array(i.length),o=i.length;o--;)s[o]=i.charCodeAt(o);return i=(s=Px(s)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};t.processDataByFilters=function(i,s){var o=0,c=i||"",u=[];for(typeof(s=s||[])=="string"&&(s=[s]),o=0;o<s.length;o+=1)switch(s[o]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=a(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[o]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(ot.API),function(t){t.loadFile=function(e,r,n){return function(a,i,s){i=i!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=function(c,u,d){var f=new XMLHttpRequest,h=0,p=function(g){var m=g.length,y=[],b=String.fromCharCode;for(h=0;h<m;h+=1)y.push(b(255&g.charCodeAt(h)));return y.join("")};if(f.open("GET",c,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?d(p(this.responseText)):d(void 0)}),f.send(null),u&&f.status===200)return p(f.responseText)}(a,i,s)}catch{}return o}(e,r,n)},t.loadImageFile=t.loadFile}(ot.API),function(t){function e(){return(ct.html2canvas?Promise.resolve(ct.html2canvas):ox(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function r(){return(ct.DOMPurify?Promise.resolve(ct.DOMPurify):ox(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var n=function(s){var o=Ot(s);return o==="undefined"?"undefined":o==="string"||s instanceof String?"string":o==="number"||s instanceof Number?"number":o==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":o==="object"?"object":"unknown"},a=function(s,o){var c=document.createElement(s);for(var u in o.className&&(c.className=o.className),o.innerHTML&&o.dompurify&&(c.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)c.style[u]=o.style[u];return c},i=function s(o){var c=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),u=s.convert(Promise.resolve(),c);return u=(u=u.setProgress(1,s,1,[s])).set(o)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(s,o){return s.__proto__=o||i.prototype,s},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(s,o){return this.then(function(){switch(o=o||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s)){case"string":return this.then(r).then(function(c){return this.set({src:a("div",{innerHTML:s,dompurify:c})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},i.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function c(u,d){for(var f=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),h=u.firstChild;h;h=h.nextSibling)d!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||f.appendChild(c(h,d));return u.nodeType===1&&(u.nodeName==="CANVAS"?(f.width=u.width,f.height=u.height,f.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(f.value=u.value),f.addEventListener("load",function(){f.scrollTop=u.scrollTop,f.scrollLeft=u.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then(function(o){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,o(this.prop.container,c)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then(function(o){var c=this.opt.jsPDF,u=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var h=0;h<u.length;++h){var p=u[h],g=p.src.find(function(m){return m.format==="truetype"});g&&c.addFont(g.url,p.ref.name,p.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,c.context2d.save(!0),o(this.prop.container,f)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(s,o,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(s,o):this.outputPdf(s,o)},i.prototype.outputPdf=function(s,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,o)})},i.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},i.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(s){if(n(s)!=="object")return this;var o=Object.keys(s||{}).map(function(c){if(c in i.template.prop)return function(){this.prop[c]=s[c]};switch(c){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[c]=s[c]}}},this);return this.then(function(){return this.thenList(o)})},i.prototype.get=function(s,o){return this.then(function(){var c=s in i.template.prop?this.prop[s]:this.opt[s];return o?o(c):c})},i.prototype.setMargin=function(s){return this.then(function(){switch(n(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},i.prototype.setPageSize=function(s){function o(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(s=s||ot.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:o(s.inner.width,s.k),height:o(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},i.prototype.setProgress=function(s,o,c,u){return s!=null&&(this.progress.val=s),o!=null&&(this.progress.state=o),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(s,o,c,u){return this.setProgress(s?this.progress.val+s:null,o||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},i.prototype.then=function(s,o){var c=this;return this.thenCore(s,o,function(u,d){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(f){return c.updateProgress(null,u),f}).then(u,d).then(function(f){return c.updateProgress(1),f})})},i.prototype.thenCore=function(s,o,c){c=c||Promise.prototype.then,s&&(s=s.bind(this)),o&&(o=o.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),d=c.call(u,s,o);return i.convert(d,this.__proto__)},i.prototype.thenExternal=function(s,o){return Promise.prototype.then.call(this,s,o)},i.prototype.thenList=function(s){var o=this;return s.forEach(function(c){o=o.thenCore(c)}),o},i.prototype.catch=function(s){s&&(s=s.bind(this));var o=Promise.prototype.catch.call(this,s);return i.convert(o,this)},i.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},i.prototype.error=function(s){return this.then(function(){throw new Error(s)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,ot.getPageSize=function(s,o,c){if(Ot(s)==="object"){var u=s;s=u.orientation,o=u.unit||o,c=u.format||c}o=o||"mm",c=c||"a4",s=(""+(s||"P")).toLowerCase();var d,f=(""+c).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+o}var p,g=0,m=0;if(h.hasOwnProperty(f))g=h[f][1]/d,m=h[f][0]/d;else try{g=c[1],m=c[0]}catch{throw new Error("Invalid format: "+c)}if(s==="p"||s==="portrait")s="p",m>g&&(p=m,m=g,g=p);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",g>m&&(p=m,m=g,g=p)}return{width:m,height:g,unit:o,k:d,orientation:s}},t.html=function(s,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map($x):null;var c=new i(o);return o.worker?c:c.from(s).doCallback()}}(ot.API),ot.API.addJS=function(t){return zj=t,this.internal.events.subscribe("postPutResources",function(){im=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(im+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Uj=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+zj+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){im!==void 0&&Uj!==void 0&&this.internal.out("/Names <</JavaScript "+im+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var s=a[i],o=n.exec(s);if(o!=null){var c=o[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(i=0;i<u;i++){var f=r.internal.newObject();d.push(f);var h=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<d.length;i++)r.internal.write("(page_"+(i+1)+")"+d[i]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var s={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var s=n.children[i];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var c=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])}(ot.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,a,i,s,o){var c,u=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(c=function(f){for(var h,p=256*f.charCodeAt(4)+f.charCodeAt(5),g=f.length,m={width:0,height:0,numcomponents:1},y=4;y<g;y+=2){if(y+=p,e.indexOf(f.charCodeAt(y+1))!==-1){h=256*f.charCodeAt(y+5)+f.charCodeAt(y+6),m={width:256*f.charCodeAt(y+7)+f.charCodeAt(y+8),height:h,numcomponents:f.charCodeAt(y+9)};break}p=256*f.charCodeAt(y+2)+f.charCodeAt(y+3)}return m}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}d={data:r,width:c.width,height:c.height,colorSpace:o,bitsPerComponent:8,filter:u,index:n,alias:a}}return d}}(ot.API);var Lc,sm,Wj,Hj,qj,nee=function(){var t,e,r;function n(i){var s,o,c,u,d,f,h,p,g,m,y,b,x,N;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(s=this.readUInt32(),g=(function(){var A,w;for(w=[],A=0;A<4;++A)w.push(String.fromCharCode(this.data[this.pos++]));return w}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),u=this.readUInt16()||100,f.delay=1e3*d/u,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(g==="fdAT"&&(this.pos+=4,s-=4),i=(f!=null?f.data:void 0)||this.imgData,b=0;0<=s?b<s:b>s;0<=s?++b:--b)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((m=c-this.transparency.indexed.length)>0)for(x=0;0<=m?x<m:x>m;0<=m?++x:--x)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":h=(y=this.read(s)).indexOf(0),p=String.fromCharCode.apply(String,y.slice(0,h)),this.text[p]=String.fromCharCode.apply(String,y.slice(h+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(N=this.colorType)===4||N===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var s,o;for(o=[],s=0;0<=i?s<i:s>i;0<=i?++s:--s)o.push(this.data[this.pos++]);return o},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var s=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*s),c=0,u=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function d(f,h,p,g){var m,y,b,x,N,A,w,j,E,O,k,L,C,P,I,M,H,V,F,X,Y,Q=Math.ceil((u.width-f)/p),se=Math.ceil((u.height-h)/g),$=u.width==Q&&u.height==se;for(P=s*Q,L=$?o:new Uint8Array(P*se),A=i.length,C=0,y=0;C<se&&c<A;){switch(i[c++]){case 0:for(x=H=0;H<P;x=H+=1)L[y++]=i[c++];break;case 1:for(x=V=0;V<P;x=V+=1)m=i[c++],N=x<s?0:L[y-s],L[y++]=(m+N)%256;break;case 2:for(x=F=0;F<P;x=F+=1)m=i[c++],b=(x-x%s)/s,I=C&&L[(C-1)*P+b*s+x%s],L[y++]=(I+m)%256;break;case 3:for(x=X=0;X<P;x=X+=1)m=i[c++],b=(x-x%s)/s,N=x<s?0:L[y-s],I=C&&L[(C-1)*P+b*s+x%s],L[y++]=(m+Math.floor((N+I)/2))%256;break;case 4:for(x=Y=0;Y<P;x=Y+=1)m=i[c++],b=(x-x%s)/s,N=x<s?0:L[y-s],C===0?I=M=0:(I=L[(C-1)*P+b*s+x%s],M=b&&L[(C-1)*P+(b-1)*s+x%s]),w=N+I-M,j=Math.abs(w-N),O=Math.abs(w-I),k=Math.abs(w-M),E=j<=O&&j<=k?N:O<=k?I:M,L[y++]=(m+E)%256;break;default:throw new Error("Invalid filter algorithm: "+i[c-1])}if(!$){var W=((h+C*g)*u.width+f)*s,ee=C*P;for(x=0;x<Q;x+=1){for(var ae=0;ae<s;ae+=1)o[W++]=L[ee++];W+=(p-1)*s}}C++}}return i=RJ(i),u.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),o},n.prototype.decodePalette=function(){var i,s,o,c,u,d,f,h,p;for(o=this.palette,d=this.transparency.indexed||[],u=new Uint8Array((d.length||0)+o.length),c=0,i=0,s=f=0,h=o.length;f<h;s=f+=3)u[c++]=o[s],u[c++]=o[s+1],u[c++]=o[s+2],u[c++]=(p=d[i++])!=null?p:255;return u},n.prototype.copyToImageData=function(i,s){var o,c,u,d,f,h,p,g,m,y,b;if(c=this.colors,m=null,o=this.hasAlphaChannel,this.palette.length&&(m=(b=this._decodedPalette)!=null?b:this._decodedPalette=this.decodePalette(),c=4,o=!0),g=(u=i.data||i).length,f=m||s,d=h=0,c===1)for(;d<g;)p=m?4*s[d/4]:h,y=f[p++],u[d++]=y,u[d++]=y,u[d++]=y,u[d++]=o?f[p++]:255,h=p;else for(;d<g;)p=m?4*s[d/4]:h,u[d++]=f[p++],u[d++]=f[p++],u[d++]=f[p++],u[d++]=o?f[p++]:255,h=p},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var a=function(){if(Object.prototype.toString.call(ct)==="[object Window]"){try{e=ct.document.createElement("canvas"),r=e.getContext("2d")}catch{return!1}return!0}return!1};return a(),t=function(i){var s;if(a()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(s=new Image).src=e.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var s,o,c,u,d,f,h,p;if(this.animation){for(p=[],o=d=0,f=(h=this.animation.frames).length;d<f;o=++d)s=h[o],c=i.createImageData(s.width,s.height),u=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(c,u),s.imageData=c,p.push(s.image=t(c));return p}},n.prototype.renderFrame=function(i,s){var o,c,u;return o=(c=this.animation.frames)[s],u=c[s-1],s===0&&i.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?i.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&i.putImageData(u.imageData,u.xOffset,u.yOffset),o.blendOp===0&&i.clearRect(o.xOffset,o.yOffset,o.width,o.height),i.drawImage(o.image,o.xOffset,o.yOffset)},n.prototype.animate=function(i){var s,o,c,u,d,f,h=this;return o=0,f=this.animation,u=f.numFrames,c=f.frames,d=f.numPlays,(s=function(){var p,g;if(p=o++%u,g=c[p],h.renderFrame(i,p),u>1&&o/u<d)return h.animation._timeout=setTimeout(s,g.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var s,o;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,s=i.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(o=s.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),s.putImageData(o,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function aee(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,a=t[e++],i=a>>7,s=1<<(7&a)+1;t[e++],t[e++];var o=null,c=null;i&&(o=e,c=s,e+=3*s);var u=!0,d=[],f=0,h=null,p=0,g=null;for(this.width=r,this.height=n;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,g=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((C=t[e++])>=0))throw Error("Invalid block size");if(C===0)break;e+=C}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var m=t[e++];f=t[e++]|t[e++]<<8,h=t[e++],!(1&m)&&(h=null),p=m>>2&7,e++;break;case 254:for(;;){if(!((C=t[e++])>=0))throw Error("Invalid block size");if(C===0)break;e+=C}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var y=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,x=t[e++]|t[e++]<<8,N=t[e++]|t[e++]<<8,A=t[e++],w=A>>6&1,j=1<<(7&A)+1,E=o,O=c,k=!1;A>>7&&(k=!0,E=e,O=j,e+=3*j);var L=e;for(e++;;){var C;if(!((C=t[e++])>=0))throw Error("Invalid block size");if(C===0)break;e+=C}d.push({x:y,y:b,width:x,height:N,has_local_palette:k,palette_offset:E,palette_size:O,data_offset:L,data_length:e-L,transparent_index:h,interlaced:!!w,delay:f,disposal:p});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return g},this.frameInfo=function(P){if(P<0||P>=d.length)throw new Error("Frame index out of range.");return d[P]},this.decodeAndBlitFrameBGRA=function(P,I){var M=this.frameInfo(P),H=M.width*M.height,V=new Uint8Array(H);Gj(t,M.data_offset,V,H);var F=M.palette_offset,X=M.transparent_index;X===null&&(X=256);var Y=M.width,Q=r-Y,se=Y,$=4*(M.y*r+M.x),W=4*((M.y+M.height)*r+M.x),ee=$,ae=4*Q;M.interlaced===!0&&(ae+=4*r*7);for(var oe=8,me=0,fe=V.length;me<fe;++me){var J=V[me];if(se===0&&(se=Y,(ee+=ae)>=W&&(ae=4*Q+4*r*(oe-1),ee=$+(Y+Q)*(oe<<1),oe>>=1)),J===X)ee+=4;else{var ve=t[F+3*J],xe=t[F+3*J+1],pe=t[F+3*J+2];I[ee++]=pe,I[ee++]=xe,I[ee++]=ve,I[ee++]=255}--se}},this.decodeAndBlitFrameRGBA=function(P,I){var M=this.frameInfo(P),H=M.width*M.height,V=new Uint8Array(H);Gj(t,M.data_offset,V,H);var F=M.palette_offset,X=M.transparent_index;X===null&&(X=256);var Y=M.width,Q=r-Y,se=Y,$=4*(M.y*r+M.x),W=4*((M.y+M.height)*r+M.x),ee=$,ae=4*Q;M.interlaced===!0&&(ae+=4*r*7);for(var oe=8,me=0,fe=V.length;me<fe;++me){var J=V[me];if(se===0&&(se=Y,(ee+=ae)>=W&&(ae=4*Q+4*r*(oe-1),ee=$+(Y+Q)*(oe<<1),oe>>=1)),J===X)ee+=4;else{var ve=t[F+3*J],xe=t[F+3*J+1],pe=t[F+3*J+2];I[ee++]=ve,I[ee++]=xe,I[ee++]=pe,I[ee++]=255}--se}}}function Gj(t,e,r,n){for(var a=t[e++],i=1<<a,s=i+1,o=s+1,c=a+1,u=(1<<c)-1,d=0,f=0,h=0,p=t[e++],g=new Int32Array(4096),m=null;;){for(;d<16&&p!==0;)f|=t[e++]<<d,d+=8,p===1?p=t[e++]:--p;if(d<c)break;var y=f&u;if(f>>=c,d-=c,y!==i){if(y===s)break;for(var b=y<o?y:m,x=0,N=b;N>i;)N=g[N]>>8,++x;var A=N;if(h+x+(b!==y?1:0)>n)return void Jt.log("Warning, gif stream longer than expected.");r[h++]=A;var w=h+=x;for(b!==y&&(r[h++]=A),N=b;x--;)N=g[N],r[--w]=255&N,N>>=8;m!==null&&o<4096&&(g[o++]=m<<8|A,o>=u+1&&c<12&&(++c,u=u<<1|1)),m=y}else o=s+1,u=(1<<(c=a+1))-1,m=null}return h!==n&&Jt.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function pb(t){var e,r,n,a,i,s=Math.floor,o=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),f=new Array(65535),h=new Array(65535),p=new Array(64),g=new Array(64),m=[],y=0,b=7,x=new Array(64),N=new Array(64),A=new Array(64),w=new Array(256),j=new Array(2048),E=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],O=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],L=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],C=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],P=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],M=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],H=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function V($,W){for(var ee=0,ae=0,oe=new Array,me=1;me<=16;me++){for(var fe=1;fe<=$[me];fe++)oe[W[ae]]=[],oe[W[ae]][0]=ee,oe[W[ae]][1]=me,ae++,ee++;ee*=2}return oe}function F($){for(var W=$[0],ee=$[1]-1;ee>=0;)W&1<<ee&&(y|=1<<b),ee--,--b<0&&(y==255?(X(255),X(0)):X(y),b=7,y=0)}function X($){m.push($)}function Y($){X($>>8&255),X(255&$)}function Q($,W,ee,ae,oe){for(var me,fe=oe[0],J=oe[240],ve=function(Pe,Re){var $e,Ie,Ze,at,ht,St,At,Ft,pt,jt,ze=0;for(pt=0;pt<8;++pt){$e=Pe[ze],Ie=Pe[ze+1],Ze=Pe[ze+2],at=Pe[ze+3],ht=Pe[ze+4],St=Pe[ze+5],At=Pe[ze+6];var mn=$e+(Ft=Pe[ze+7]),Mt=$e-Ft,Ga=Ie+At,Zt=Ie-At,gr=Ze+St,_i=Ze-St,Ut=at+ht,Bo=at-ht,wr=mn+Ut,Va=mn-Ut,is=Ga+gr,Sr=Ga-gr;Pe[ze]=wr+is,Pe[ze+4]=wr-is;var gt=.707106781*(Sr+Va);Pe[ze+2]=Va+gt,Pe[ze+6]=Va-gt;var zt=.382683433*((wr=Bo+_i)-(Sr=Zt+Mt)),Uo=.5411961*wr+zt,cn=1.306562965*Sr+zt,Ei=.707106781*(is=_i+Zt),Oi=Mt+Ei,it=Mt-Ei;Pe[ze+5]=it+Uo,Pe[ze+3]=it-Uo,Pe[ze+1]=Oi+cn,Pe[ze+7]=Oi-cn,ze+=8}for(ze=0,pt=0;pt<8;++pt){$e=Pe[ze],Ie=Pe[ze+8],Ze=Pe[ze+16],at=Pe[ze+24],ht=Pe[ze+32],St=Pe[ze+40],At=Pe[ze+48];var Ya=$e+(Ft=Pe[ze+56]),Ci=$e-Ft,Hn=Ie+At,Gr=Ie-At,Lr=Ze+St,ia=Ze-St,ac=at+ht,ss=at-ht,Ka=Ya+ac,Xa=Ya-ac,Za=Hn+Lr,Ti=Hn-Lr;Pe[ze]=Ka+Za,Pe[ze+32]=Ka-Za;var ba=.707106781*(Ti+Xa);Pe[ze+16]=Xa+ba,Pe[ze+48]=Xa-ba;var ki=.382683433*((Ka=ss+ia)-(Ti=Gr+Ci)),zo=.5411961*Ka+ki,ic=1.306562965*Ti+ki,sc=.707106781*(Za=ia+Gr),oc=Ci+sc,lc=Ci-sc;Pe[ze+40]=lc+zo,Pe[ze+24]=lc-zo,Pe[ze+8]=oc+ic,Pe[ze+56]=oc-ic,ze++}for(pt=0;pt<64;++pt)jt=Pe[pt]*Re[pt],p[pt]=jt>0?jt+.5|0:jt-.5|0;return p}($,W),xe=0;xe<64;++xe)g[E[xe]]=ve[xe];var pe=g[0]-ee;ee=g[0],pe==0?F(ae[0]):(F(ae[h[me=32767+pe]]),F(f[me]));for(var Te=63;Te>0&&g[Te]==0;)Te--;if(Te==0)return F(fe),ee;for(var Me,we=1;we<=Te;){for(var ne=we;g[we]==0&&we<=Te;)++we;var Qe=we-ne;if(Qe>=16){Me=Qe>>4;for(var He=1;He<=Me;++He)F(J);Qe&=15}me=32767+g[we],F(oe[(Qe<<4)+h[me]]),F(f[me]),we++}return Te!=63&&F(fe),ee}function se($){$=Math.min(Math.max($,1),100),i!=$&&(function(W){for(var ee=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ae=0;ae<64;ae++){var oe=s((ee[ae]*W+50)/100);oe=Math.min(Math.max(oe,1),255),o[E[ae]]=oe}for(var me=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],fe=0;fe<64;fe++){var J=s((me[fe]*W+50)/100);J=Math.min(Math.max(J,1),255),c[E[fe]]=J}for(var ve=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],xe=0,pe=0;pe<8;pe++)for(var Te=0;Te<8;Te++)u[xe]=1/(o[E[xe]]*ve[pe]*ve[Te]*8),d[xe]=1/(c[E[xe]]*ve[pe]*ve[Te]*8),xe++}($<50?Math.floor(5e3/$):Math.floor(200-2*$)),i=$)}this.encode=function($,W){W&&se(W),m=new Array,y=0,b=7,Y(65496),Y(65504),Y(16),X(74),X(70),X(73),X(70),X(0),X(1),X(1),X(0),Y(1),Y(1),X(0),X(0),function(){Y(65499),Y(132),X(0);for(var Ie=0;Ie<64;Ie++)X(o[Ie]);X(1);for(var Ze=0;Ze<64;Ze++)X(c[Ze])}(),function(Ie,Ze){Y(65472),Y(17),X(8),Y(Ze),Y(Ie),X(3),X(1),X(17),X(0),X(2),X(17),X(1),X(3),X(17),X(1)}($.width,$.height),function(){Y(65476),Y(418),X(0);for(var Ie=0;Ie<16;Ie++)X(O[Ie+1]);for(var Ze=0;Ze<=11;Ze++)X(k[Ze]);X(16);for(var at=0;at<16;at++)X(L[at+1]);for(var ht=0;ht<=161;ht++)X(C[ht]);X(1);for(var St=0;St<16;St++)X(P[St+1]);for(var At=0;At<=11;At++)X(I[At]);X(17);for(var Ft=0;Ft<16;Ft++)X(M[Ft+1]);for(var pt=0;pt<=161;pt++)X(H[pt])}(),Y(65498),Y(12),X(3),X(1),X(0),X(2),X(17),X(3),X(17),X(0),X(63),X(0);var ee=0,ae=0,oe=0;y=0,b=7,this.encode.displayName="_encode_";for(var me,fe,J,ve,xe,pe,Te,Me,we,ne=$.data,Qe=$.width,He=$.height,Pe=4*Qe,Re=0;Re<He;){for(me=0;me<Pe;){for(xe=Pe*Re+me,Te=-1,Me=0,we=0;we<64;we++)pe=xe+(Me=we>>3)*Pe+(Te=4*(7&we)),Re+Me>=He&&(pe-=Pe*(Re+1+Me-He)),me+Te>=Pe&&(pe-=me+Te-Pe+4),fe=ne[pe++],J=ne[pe++],ve=ne[pe++],x[we]=(j[fe]+j[J+256>>0]+j[ve+512>>0]>>16)-128,N[we]=(j[fe+768>>0]+j[J+1024>>0]+j[ve+1280>>0]>>16)-128,A[we]=(j[fe+1280>>0]+j[J+1536>>0]+j[ve+1792>>0]>>16)-128;ee=Q(x,u,ee,e,n),ae=Q(N,d,ae,r,a),oe=Q(A,d,oe,r,a),me+=32}Re+=8}if(b>=0){var $e=[];$e[1]=b+1,$e[0]=(1<<b+1)-1,F($e)}return Y(65497),new Uint8Array(m)},t=t||50,function(){for(var $=String.fromCharCode,W=0;W<256;W++)w[W]=$(W)}(),e=V(O,k),r=V(P,I),n=V(L,C),a=V(M,H),function(){for(var $=1,W=2,ee=1;ee<=15;ee++){for(var ae=$;ae<W;ae++)h[32767+ae]=ee,f[32767+ae]=[],f[32767+ae][1]=ee,f[32767+ae][0]=ae;for(var oe=-(W-1);oe<=-$;oe++)h[32767+oe]=ee,f[32767+oe]=[],f[32767+oe][1]=ee,f[32767+oe][0]=W-1+oe;$<<=1,W<<=1}}(),function(){for(var $=0;$<256;$++)j[$]=19595*$,j[$+256>>0]=38470*$,j[$+512>>0]=7471*$+32768,j[$+768>>0]=-11059*$,j[$+1024>>0]=-21709*$,j[$+1280>>0]=32768*$+8421375,j[$+1536>>0]=-27439*$,j[$+1792>>0]=-5329*$}(),se(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ai(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Vj(t){function e(O){if(!O)throw Error("assert :P")}function r(O,k,L){for(var C=0;4>C;C++)if(O[k+C]!=L.charCodeAt(C))return!0;return!1}function n(O,k,L,C,P){for(var I=0;I<P;I++)O[k+I]=L[C+I]}function a(O,k,L,C){for(var P=0;P<C;P++)O[k+P]=L}function i(O){return new Int32Array(O)}function s(O,k){for(var L=[],C=0;C<O;C++)L.push(new k);return L}function o(O,k){var L=[];return function C(P,I,M){for(var H=M[I],V=0;V<H&&(P.push(M.length>I+1?[]:new k),!(M.length<I+1));V++)C(P[V],I+1,M)}(L,0,O),L}var c=function(){var O=this;function k(v,S){for(var T=1<<S-1>>>0;v&T;)T>>>=1;return T?(v&T-1)+T:v}function L(v,S,T,D,B){e(!(D%T));do v[S+(D-=T)]=B;while(0<D)}function C(v,S,T,D,B){if(e(2328>=B),512>=B)var q=i(512);else if((q=i(B))==null)return 0;return function(G,K,Z,te,ce,ye){var be,he,Ce=K,Ne=1<<Z,ue=i(16),de=i(16);for(e(ce!=0),e(te!=null),e(G!=null),e(0<Z),he=0;he<ce;++he){if(15<te[he])return 0;++ue[te[he]]}if(ue[0]==ce)return 0;for(de[1]=0,be=1;15>be;++be){if(ue[be]>1<<be)return 0;de[be+1]=de[be]+ue[be]}for(he=0;he<ce;++he)be=te[he],0<te[he]&&(ye[de[be]++]=he);if(de[15]==1)return(te=new P).g=0,te.value=ye[0],L(G,Ce,1,Ne,te),Ne;var Ee,ke=-1,Oe=Ne-1,Ve=0,Fe=1,tt=1,Ue=1<<Z;for(he=0,be=1,ce=2;be<=Z;++be,ce<<=1){if(Fe+=tt<<=1,0>(tt-=ue[be]))return 0;for(;0<ue[be];--ue[be])(te=new P).g=be,te.value=ye[he++],L(G,Ce+Ve,ce,Ue,te),Ve=k(Ve,be)}for(be=Z+1,ce=2;15>=be;++be,ce<<=1){if(Fe+=tt<<=1,0>(tt-=ue[be]))return 0;for(;0<ue[be];--ue[be]){if(te=new P,(Ve&Oe)!=ke){for(Ce+=Ue,Ee=1<<(ke=be)-Z;15>ke&&!(0>=(Ee-=ue[ke]));)++ke,Ee<<=1;Ne+=Ue=1<<(Ee=ke-Z),G[K+(ke=Ve&Oe)].g=Ee+Z,G[K+ke].value=Ce-K-ke}te.g=be-Z,te.value=ye[he++],L(G,Ce+(Ve>>Z),ce,Ue,te),Ve=k(Ve,be)}}return Fe!=2*de[15]-1?0:Ne}(v,S,T,D,B,q)}function P(){this.value=this.g=0}function I(){this.value=this.g=0}function M(){this.G=s(5,P),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(un,I)}function H(v,S,T,D){e(v!=null),e(S!=null),e(2147483648>D),v.Ca=254,v.I=0,v.b=-8,v.Ka=0,v.oa=S,v.pa=T,v.Jd=S,v.Yc=T+D,v.Zc=4<=D?T+D-4+1:T,me(v)}function V(v,S){for(var T=0;0<S--;)T|=J(v,128)<<S;return T}function F(v,S){var T=V(v,S);return fe(v)?-T:T}function X(v,S,T,D){var B,q=0;for(e(v!=null),e(S!=null),e(4294967288>D),v.Sb=D,v.Ra=0,v.u=0,v.h=0,4<D&&(D=4),B=0;B<D;++B)q+=S[T+B]<<8*B;v.Ra=q,v.bb=D,v.oa=S,v.pa=T}function Y(v){for(;8<=v.u&&v.bb<v.Sb;)v.Ra>>>=8,v.Ra+=v.oa[v.pa+v.bb]<<Nc-8>>>0,++v.bb,v.u-=8;ee(v)&&(v.h=1,v.u=0)}function Q(v,S){if(e(0<=S),!v.h&&S<=Sc){var T=W(v)&wc[S];return v.u+=S,Y(v),T}return v.h=1,v.u=0}function se(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function $(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function W(v){return v.Ra>>>(v.u&Nc-1)>>>0}function ee(v){return e(v.bb<=v.Sb),v.h||v.bb==v.Sb&&v.u>Nc}function ae(v,S){v.u=S,v.h=ee(v)}function oe(v){v.u>=$d&&(e(v.u>=$d),Y(v))}function me(v){e(v!=null&&v.oa!=null),v.pa<v.Zc?(v.I=(v.oa[v.pa++]|v.I<<8)>>>0,v.b+=8):(e(v!=null&&v.oa!=null),v.pa<v.Yc?(v.b+=8,v.I=v.oa[v.pa++]|v.I<<8):v.Ka?v.b=0:(v.I<<=8,v.b+=8,v.Ka=1))}function fe(v){return V(v,1)}function J(v,S){var T=v.Ca;0>v.b&&me(v);var D=v.b,B=T*S>>>8,q=(v.I>>>D>B)+0;for(q?(T-=B,v.I-=B+1<<D>>>0):T=B+1,D=T,B=0;256<=D;)B+=8,D>>=8;return D=7^B+Gn[D],v.b-=D,v.Ca=(T<<D)-1,q}function ve(v,S,T){v[S+0]=T>>24&255,v[S+1]=T>>16&255,v[S+2]=T>>8&255,v[S+3]=T>>0&255}function xe(v,S){return v[S+0]<<0|v[S+1]<<8}function pe(v,S){return xe(v,S)|v[S+2]<<16}function Te(v,S){return xe(v,S)|xe(v,S+2)<<16}function Me(v,S){var T=1<<S;return e(v!=null),e(0<S),v.X=i(T),v.X==null?0:(v.Mb=32-S,v.Xa=S,1)}function we(v,S){e(v!=null),e(S!=null),e(v.Xa==S.Xa),n(S.X,0,v.X,0,1<<S.Xa)}function ne(){this.X=[],this.Xa=this.Mb=0}function Qe(v,S,T,D){e(T!=null),e(D!=null);var B=T[0],q=D[0];return B==0&&(B=(v*q+S/2)/S),q==0&&(q=(S*B+v/2)/v),0>=B||0>=q?0:(T[0]=B,D[0]=q,1)}function He(v,S){return v+(1<<S)-1>>>S}function Pe(v,S){return((4278255360&v)+(4278255360&S)>>>0&4278255360)+((16711935&v)+(16711935&S)>>>0&16711935)>>>0}function Re(v,S){O[S]=function(T,D,B,q,G,K,Z){var te;for(te=0;te<G;++te){var ce=O[v](K[Z+te-1],B,q+te);K[Z+te]=Pe(T[D+te],ce)}}}function $e(){this.ud=this.hd=this.jd=0}function Ie(v,S){return((4278124286&(v^S))>>>1)+(v&S)>>>0}function Ze(v){return 0<=v&&256>v?v:0>v?0:255<v?255:void 0}function at(v,S){return Ze(v+(v-S+.5>>1))}function ht(v,S,T){return Math.abs(S-T)-Math.abs(v-T)}function St(v,S,T,D,B,q,G){for(D=q[G-1],T=0;T<B;++T)q[G+T]=D=Pe(v[S+T],D)}function At(v,S,T,D,B){var q;for(q=0;q<T;++q){var G=v[S+q],K=G>>8&255,Z=16711935&(Z=(Z=16711935&G)+((K<<16)+K));D[B+q]=(4278255360&G)+Z>>>0}}function Ft(v,S){S.jd=v>>0&255,S.hd=v>>8&255,S.ud=v>>16&255}function pt(v,S,T,D,B,q){var G;for(G=0;G<D;++G){var K=S[T+G],Z=K>>>8,te=K,ce=255&(ce=(ce=K>>>16)+((v.jd<<24>>24)*(Z<<24>>24)>>>5));te=255&(te=(te=te+((v.hd<<24>>24)*(Z<<24>>24)>>>5))+((v.ud<<24>>24)*(ce<<24>>24)>>>5)),B[q+G]=(4278255360&K)+(ce<<16)+te}}function jt(v,S,T,D,B){O[S]=function(q,G,K,Z,te,ce,ye,be,he){for(Z=ye;Z<be;++Z)for(ye=0;ye<he;++ye)te[ce++]=B(K[D(q[G++])])},O[v]=function(q,G,K,Z,te,ce,ye){var be=8>>q.b,he=q.Ea,Ce=q.K[0],Ne=q.w;if(8>be)for(q=(1<<q.b)-1,Ne=(1<<be)-1;G<K;++G){var ue,de=0;for(ue=0;ue<he;++ue)ue&q||(de=D(Z[te++])),ce[ye++]=B(Ce[de&Ne]),de>>=be}else O["VP8LMapColor"+T](Z,te,Ce,Ne,ce,ye,G,K,he)}}function ze(v,S,T,D,B){for(T=S+T;S<T;){var q=v[S++];D[B++]=q>>16&255,D[B++]=q>>8&255,D[B++]=q>>0&255}}function mn(v,S,T,D,B){for(T=S+T;S<T;){var q=v[S++];D[B++]=q>>16&255,D[B++]=q>>8&255,D[B++]=q>>0&255,D[B++]=q>>24&255}}function Mt(v,S,T,D,B){for(T=S+T;S<T;){var q=(G=v[S++])>>16&240|G>>12&15,G=G>>0&240|G>>28&15;D[B++]=q,D[B++]=G}}function Ga(v,S,T,D,B){for(T=S+T;S<T;){var q=(G=v[S++])>>16&248|G>>13&7,G=G>>5&224|G>>3&31;D[B++]=q,D[B++]=G}}function Zt(v,S,T,D,B){for(T=S+T;S<T;){var q=v[S++];D[B++]=q>>0&255,D[B++]=q>>8&255,D[B++]=q>>16&255}}function gr(v,S,T,D,B,q){if(q==0)for(T=S+T;S<T;)ve(D,((q=v[S++])[0]>>24|q[1]>>8&65280|q[2]<<8&16711680|q[3]<<24)>>>0),B+=32;else n(D,B,v,S,T)}function _i(v,S){O[S][0]=O[v+"0"],O[S][1]=O[v+"1"],O[S][2]=O[v+"2"],O[S][3]=O[v+"3"],O[S][4]=O[v+"4"],O[S][5]=O[v+"5"],O[S][6]=O[v+"6"],O[S][7]=O[v+"7"],O[S][8]=O[v+"8"],O[S][9]=O[v+"9"],O[S][10]=O[v+"10"],O[S][11]=O[v+"11"],O[S][12]=O[v+"12"],O[S][13]=O[v+"13"],O[S][14]=O[v+"0"],O[S][15]=O[v+"0"]}function Ut(v){return v==C0||v==T0||v==$p||v==k0}function Bo(){this.eb=[],this.size=this.A=this.fb=0}function wr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Va(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Bo,this.f.kb=new wr,this.sd=null}function is(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Sr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function gt(v){return alert("todo:WebPSamplerProcessPlane"),v.T}function zt(v,S){var T=v.T,D=S.ba.f.RGBA,B=D.eb,q=D.fb+v.ka*D.A,G=Aa[S.ba.S],K=v.y,Z=v.O,te=v.f,ce=v.N,ye=v.ea,be=v.W,he=S.cc,Ce=S.dc,Ne=S.Mc,ue=S.Nc,de=v.ka,Ee=v.ka+v.T,ke=v.U,Oe=ke+1>>1;for(de==0?G(K,Z,null,null,te,ce,ye,be,te,ce,ye,be,B,q,null,null,ke):(G(S.ec,S.fc,K,Z,he,Ce,Ne,ue,te,ce,ye,be,B,q-D.A,B,q,ke),++T);de+2<Ee;de+=2)he=te,Ce=ce,Ne=ye,ue=be,ce+=v.Rc,be+=v.Rc,q+=2*D.A,G(K,(Z+=2*v.fa)-v.fa,K,Z,he,Ce,Ne,ue,te,ce,ye,be,B,q-D.A,B,q,ke);return Z+=v.fa,v.j+Ee<v.o?(n(S.ec,S.fc,K,Z,ke),n(S.cc,S.dc,te,ce,Oe),n(S.Mc,S.Nc,ye,be,Oe),T--):1&Ee||G(K,Z,null,null,te,ce,ye,be,te,ce,ye,be,B,q+D.A,null,null,ke),T}function Uo(v,S,T){var D=v.F,B=[v.J];if(D!=null){var q=v.U,G=S.ba.S,K=G==Ip||G==$p;S=S.ba.f.RGBA;var Z=[0],te=v.ka;Z[0]=v.T,v.Kb&&(te==0?--Z[0]:(--te,B[0]-=v.width),v.j+v.ka+v.T==v.o&&(Z[0]=v.o-v.j-te));var ce=S.eb;te=S.fb+te*S.A,v=ir(D,B[0],v.width,q,Z,ce,te+(K?0:3),S.A),e(T==Z),v&&Ut(G)&&Na(ce,te,K,q,Z,S.A)}return 0}function cn(v){var S=v.ma,T=S.ba.S,D=11>T,B=T==Rp||T==Lp||T==Ip||T==O0||T==12||Ut(T);if(S.memory=null,S.Ib=null,S.Jb=null,S.Nd=null,!Ld(S.Oa,v,B?11:12))return 0;if(B&&Ut(T)&&De(),v.da)alert("todo:use_scaling");else{if(D){if(S.Ib=gt,v.Kb){if(T=v.U+1>>1,S.memory=i(v.U+2*T),S.memory==null)return 0;S.ec=S.memory,S.fc=0,S.cc=S.ec,S.dc=S.fc+v.U,S.Mc=S.cc,S.Nc=S.dc+T,S.Ib=zt,De()}}else alert("todo:EmitYUV");B&&(S.Jb=Uo,D&&ge())}if(D&&!xS){for(v=0;256>v;++v)lR[v]=89858*(v-128)+Bp>>Fp,dR[v]=-22014*(v-128)+Bp,uR[v]=-45773*(v-128),cR[v]=113618*(v-128)+Bp>>Fp;for(v=qd;v<M0;++v)S=76283*(v-16)+Bp>>Fp,fR[v-qd]=sa(S,255),hR[v-qd]=sa(S+8>>4,15);xS=1}return 1}function Ei(v){var S=v.ma,T=v.U,D=v.T;return e(!(1&v.ka)),0>=T||0>=D?0:(T=S.Ib(v,S),S.Jb!=null&&S.Jb(v,S,T),S.Dc+=T,1)}function Oi(v){v.ma.memory=null}function it(v,S,T,D){return Q(v,8)!=47?0:(S[0]=Q(v,14)+1,T[0]=Q(v,14)+1,D[0]=Q(v,1),Q(v,3)!=0?0:!v.h)}function Ya(v,S){if(4>v)return v+1;var T=v-2>>1;return(2+(1&v)<<T)+Q(S,T)+1}function Ci(v,S){return 120<S?S-120:1<=(T=((T=YM[S-1])>>4)*v+(8-(15&T)))?T:1;var T}function Hn(v,S,T){var D=W(T),B=v[S+=255&D].g-8;return 0<B&&(ae(T,T.u+8),D=W(T),S+=v[S].value,S+=D&(1<<B)-1),ae(T,T.u+v[S].g),v[S].value}function Gr(v,S,T){return T.g+=v.g,T.value+=v.value<<S>>>0,e(8>=T.g),v.g}function Lr(v,S,T){var D=v.xc;return e((S=D==0?0:v.vc[v.md*(T>>D)+(S>>D)])<v.Wb),v.Ya[S]}function ia(v,S,T,D){var B=v.ab,q=v.c*S,G=v.C;S=G+S;var K=T,Z=D;for(D=v.Ta,T=v.Ua;0<B--;){var te=v.gc[B],ce=G,ye=S,be=K,he=Z,Ce=(Z=D,K=T,te.Ea);switch(e(ce<ye),e(ye<=te.nc),te.hc){case 2:Op(be,he,(ye-ce)*Ce,Z,K);break;case 0:var Ne=ce,ue=ye,de=Z,Ee=K,ke=(Ue=te).Ea;Ne==0&&(_0(be,he,null,null,1,de,Ee),St(be,he+1,0,0,ke-1,de,Ee+1),he+=ke,Ee+=ke,++Ne);for(var Oe=1<<Ue.b,Ve=Oe-1,Fe=He(ke,Ue.b),tt=Ue.K,Ue=Ue.w+(Ne>>Ue.b)*Fe;Ne<ue;){var Bt=tt,Wt=Ue,Dt=1;for(Fd(be,he,de,Ee-ke,1,de,Ee);Dt<ke;){var _t=(Dt&~Ve)+Oe;_t>ke&&(_t=ke),(0,qs[Bt[Wt++]>>8&15])(be,he+ +Dt,de,Ee+Dt-ke,_t-Dt,de,Ee+Dt),Dt=_t}he+=ke,Ee+=ke,++Ne&Ve||(Ue+=Fe)}ye!=te.nc&&n(Z,K-Ce,Z,K+(ye-ce-1)*Ce,Ce);break;case 1:for(Ce=be,ue=he,ke=(be=te.Ea)-(Ee=be&~(de=(he=1<<te.b)-1)),Ne=He(be,te.b),Oe=te.K,te=te.w+(ce>>te.b)*Ne;ce<ye;){for(Ve=Oe,Fe=te,tt=new $e,Ue=ue+Ee,Bt=ue+be;ue<Ue;)Ft(Ve[Fe++],tt),Vo(tt,Ce,ue,he,Z,K),ue+=he,K+=he;ue<Bt&&(Ft(Ve[Fe++],tt),Vo(tt,Ce,ue,ke,Z,K),ue+=ke,K+=ke),++ce&de||(te+=Ne)}break;case 3:if(be==Z&&he==K&&0<te.b){for(ue=Z,be=Ce=K+(ye-ce)*Ce-(Ee=(ye-ce)*He(te.Ea,te.b)),he=Z,de=K,Ne=[],Ee=(ke=Ee)-1;0<=Ee;--Ee)Ne[Ee]=he[de+Ee];for(Ee=ke-1;0<=Ee;--Ee)ue[be+Ee]=Ne[Ee];xa(te,ce,ye,Z,Ce,Z,K)}else xa(te,ce,ye,be,he,Z,K)}K=D,Z=T}Z!=T&&n(D,T,K,Z,q)}function ac(v,S){var T=v.V,D=v.Ba+v.c*v.C,B=S-v.C;if(e(S<=v.l.o),e(16>=B),0<B){var q=v.l,G=v.Ta,K=v.Ua,Z=q.width;if(ia(v,B,T,D),B=K=[K],e((T=v.C)<(D=S)),e(q.v<q.va),D>q.o&&(D=q.o),T<q.j){var te=q.j-T;T=q.j,B[0]+=te*Z}if(T>=D?T=0:(B[0]+=4*q.v,q.ka=T-q.j,q.U=q.va-q.v,q.T=D-T,T=1),T){if(K=K[0],11>(T=v.ca).S){var ce=T.f.RGBA,ye=(D=T.S,B=q.U,q=q.T,te=ce.eb,ce.A),be=q;for(ce=ce.fb+v.Ma*ce.A;0<be--;){var he=G,Ce=K,Ne=B,ue=te,de=ce;switch(D){case Mp:Vn(he,Ce,Ne,ue,de);break;case Rp:Dn(he,Ce,Ne,ue,de);break;case C0:Dn(he,Ce,Ne,ue,de),Na(ue,de,0,Ne,1,0);break;case dS:us(he,Ce,Ne,ue,de);break;case Lp:gr(he,Ce,Ne,ue,de,1);break;case T0:gr(he,Ce,Ne,ue,de,1),Na(ue,de,0,Ne,1,0);break;case Ip:gr(he,Ce,Ne,ue,de,0);break;case $p:gr(he,Ce,Ne,ue,de,0),Na(ue,de,1,Ne,1,0);break;case O0:Gs(he,Ce,Ne,ue,de);break;case k0:Gs(he,Ce,Ne,ue,de),ar(ue,de,Ne,1,0);break;case fS:cs(he,Ce,Ne,ue,de);break;default:e(0)}K+=Z,ce+=ye}v.Ma+=q}else alert("todo:EmitRescaledRowsYUVA");e(v.Ma<=T.height)}}v.C=S,e(v.C<=v.i)}function ss(v){var S;if(0<v.ua)return 0;for(S=0;S<v.Wb;++S){var T=v.Ya[S].G,D=v.Ya[S].H;if(0<T[1][D[1]+0].g||0<T[2][D[2]+0].g||0<T[3][D[3]+0].g)return 0}return 1}function Ka(v,S,T,D,B,q){if(v.Z!=0){var G=v.qd,K=v.rd;for(e(Xs[v.Z]!=null);S<T;++S)Xs[v.Z](G,K,D,B,D,B,q),G=D,K=B,B+=q;v.qd=G,v.rd=K}}function Xa(v,S){var T=v.l.ma,D=T.Z==0||T.Z==1?v.l.j:v.C;if(D=v.C<D?D:v.C,e(S<=v.l.o),S>D){var B=v.l.width,q=T.ca,G=T.tb+B*D,K=v.V,Z=v.Ba+v.c*D,te=v.gc;e(v.ab==1),e(te[0].hc==3),Cp(te[0],D,S,K,Z,q,G),Ka(T,D,S,q,G,B)}v.C=v.Ma=S}function Za(v,S,T,D,B,q,G){var K=v.$/D,Z=v.$%D,te=v.m,ce=v.s,ye=T+v.$,be=ye;B=T+D*B;var he=T+D*q,Ce=280+ce.ua,Ne=v.Pb?K:16777216,ue=0<ce.ua?ce.Wa:null,de=ce.wc,Ee=ye<he?Lr(ce,Z,K):null;e(v.C<q),e(he<=B);var ke=!1;e:for(;;){for(;ke||ye<he;){var Oe=0;if(K>=Ne){var Ve=ye-T;e((Ne=v).Pb),Ne.wd=Ne.m,Ne.xd=Ve,0<Ne.s.ua&&we(Ne.s.Wa,Ne.s.vb),Ne=K+XM}if(Z&de||(Ee=Lr(ce,Z,K)),e(Ee!=null),Ee.Qb&&(S[ye]=Ee.qb,ke=!0),!ke)if(oe(te),Ee.jc){Oe=te,Ve=S;var Fe=ye,tt=Ee.pd[W(Oe)&un-1];e(Ee.jc),256>tt.g?(ae(Oe,Oe.u+tt.g),Ve[Fe]=tt.value,Oe=0):(ae(Oe,Oe.u+tt.g-256),e(256<=tt.value),Oe=tt.value),Oe==0&&(ke=!0)}else Oe=Hn(Ee.G[0],Ee.H[0],te);if(te.h)break;if(ke||256>Oe){if(!ke)if(Ee.nd)S[ye]=(Ee.qb|Oe<<8)>>>0;else{if(oe(te),ke=Hn(Ee.G[1],Ee.H[1],te),oe(te),Ve=Hn(Ee.G[2],Ee.H[2],te),Fe=Hn(Ee.G[3],Ee.H[3],te),te.h)break;S[ye]=(Fe<<24|ke<<16|Oe<<8|Ve)>>>0}if(ke=!1,++ye,++Z>=D&&(Z=0,++K,G!=null&&K<=q&&!(K%16)&&G(v,K),ue!=null))for(;be<ye;)Oe=S[be++],ue.X[(506832829*Oe&4294967295)>>>ue.Mb]=Oe}else if(280>Oe){if(Oe=Ya(Oe-256,te),Ve=Hn(Ee.G[4],Ee.H[4],te),oe(te),Ve=Ci(D,Ve=Ya(Ve,te)),te.h)break;if(ye-T<Ve||B-ye<Oe)break e;for(Fe=0;Fe<Oe;++Fe)S[ye+Fe]=S[ye+Fe-Ve];for(ye+=Oe,Z+=Oe;Z>=D;)Z-=D,++K,G!=null&&K<=q&&!(K%16)&&G(v,K);if(e(ye<=B),Z&de&&(Ee=Lr(ce,Z,K)),ue!=null)for(;be<ye;)Oe=S[be++],ue.X[(506832829*Oe&4294967295)>>>ue.Mb]=Oe}else{if(!(Oe<Ce))break e;for(ke=Oe-280,e(ue!=null);be<ye;)Oe=S[be++],ue.X[(506832829*Oe&4294967295)>>>ue.Mb]=Oe;Oe=ye,e(!(ke>>>(Ve=ue).Xa)),S[Oe]=Ve.X[ke],ke=!0}ke||e(te.h==ee(te))}if(v.Pb&&te.h&&ye<B)e(v.m.h),v.a=5,v.m=v.wd,v.$=v.xd,0<v.s.ua&&we(v.s.vb,v.s.Wa);else{if(te.h)break e;G!=null&&G(v,K>q?q:K),v.a=0,v.$=ye-T}return 1}return v.a=3,0}function Ti(v){e(v!=null),v.vc=null,v.yc=null,v.Ya=null;var S=v.Wa;S!=null&&(S.X=null),v.vb=null,e(v!=null)}function ba(){var v=new A0;return v==null?null:(v.a=0,v.xb=mS,_i("Predictor","VP8LPredictors"),_i("Predictor","VP8LPredictors_C"),_i("PredictorAdd","VP8LPredictorsAdd"),_i("PredictorAdd","VP8LPredictorsAdd_C"),Op=At,Vo=pt,Vn=ze,Dn=mn,Gs=Mt,cs=Ga,us=Zt,O.VP8LMapColor32b=jc,O.VP8LMapColor8b=Tp,v)}function ki(v,S,T,D,B){var q=1,G=[v],K=[S],Z=D.m,te=D.s,ce=null,ye=0;e:for(;;){if(T)for(;q&&Q(Z,1);){var be=G,he=K,Ce=D,Ne=1,ue=Ce.m,de=Ce.gc[Ce.ab],Ee=Q(ue,2);if(Ce.Oc&1<<Ee)q=0;else{switch(Ce.Oc|=1<<Ee,de.hc=Ee,de.Ea=be[0],de.nc=he[0],de.K=[null],++Ce.ab,e(4>=Ce.ab),Ee){case 0:case 1:de.b=Q(ue,3)+2,Ne=ki(He(de.Ea,de.b),He(de.nc,de.b),0,Ce,de.K),de.K=de.K[0];break;case 3:var ke,Oe=Q(ue,8)+1,Ve=16<Oe?0:4<Oe?1:2<Oe?2:3;if(be[0]=He(de.Ea,Ve),de.b=Ve,ke=Ne=ki(Oe,1,0,Ce,de.K)){var Fe,tt=Oe,Ue=de,Bt=1<<(8>>Ue.b),Wt=i(Bt);if(Wt==null)ke=0;else{var Dt=Ue.K[0],_t=Ue.w;for(Wt[0]=Ue.K[0][0],Fe=1;Fe<1*tt;++Fe)Wt[Fe]=Pe(Dt[_t+Fe],Wt[Fe-1]);for(;Fe<4*Bt;++Fe)Wt[Fe]=0;Ue.K[0]=null,Ue.K[0]=Wt,ke=1}}Ne=ke;break;case 2:break;default:e(0)}q=Ne}}if(G=G[0],K=K[0],q&&Q(Z,1)&&!(q=1<=(ye=Q(Z,4))&&11>=ye)){D.a=3;break e}var Qt;if(Qt=q)t:{var Vt,xt,$r,Yn=D,Fr=G,Kn=K,Ht=ye,la=T,ca=Yn.m,tn=Yn.s,dn=[null],Rn=1,_a=0,Ri=KM[Ht];r:for(;;){if(la&&Q(ca,1)){var rn=Q(ca,3)+2,ps=He(Fr,rn),Qo=He(Kn,rn),Cc=ps*Qo;if(!ki(ps,Qo,0,Yn,dn))break r;for(dn=dn[0],tn.xc=rn,Vt=0;Vt<Cc;++Vt){var Zs=dn[Vt]>>8&65535;dn[Vt]=Zs,Zs>=Rn&&(Rn=Zs+1)}}if(ca.h)break r;for(xt=0;5>xt;++xt){var jr=hS[xt];!xt&&0<Ht&&(jr+=1<<Ht),_a<jr&&(_a=jr)}var R0=s(Rn*Ri,P),NS=Rn,jS=s(NS,M);if(jS==null)var zp=null;else e(65536>=NS),zp=jS;var Gd=i(_a);if(zp==null||Gd==null||R0==null){Yn.a=1;break r}var Wp=R0;for(Vt=$r=0;Vt<Rn;++Vt){var ri=zp[Vt],Tc=ri.G,kc=ri.H,AS=0,Hp=1,_S=0;for(xt=0;5>xt;++xt){jr=hS[xt],Tc[xt]=Wp,kc[xt]=$r,!xt&&0<Ht&&(jr+=1<<Ht);a:{var qp,L0=jr,Gp=Yn,Vd=Gd,gR=Wp,vR=$r,I0=0,Qs=Gp.m,yR=Q(Qs,1);if(a(Vd,0,0,L0),yR){var bR=Q(Qs,1)+1,xR=Q(Qs,1),ES=Q(Qs,xR==0?1:8);Vd[ES]=1,bR==2&&(Vd[ES=Q(Qs,8)]=1);var Vp=1}else{var OS=i(19),CS=Q(Qs,4)+4;if(19<CS){Gp.a=3;var Yp=0;break a}for(qp=0;qp<CS;++qp)OS[VM[qp]]=Q(Qs,3);var $0=void 0,Yd=void 0,TS=Gp,wR=OS,Kp=L0,kS=Vd,F0=0,Js=TS.m,PS=8,DS=s(128,P);n:for(;C(DS,0,7,wR,19);){if(Q(Js,1)){var SR=2+2*Q(Js,3);if(($0=2+Q(Js,SR))>Kp)break n}else $0=Kp;for(Yd=0;Yd<Kp&&$0--;){oe(Js);var MS=DS[0+(127&W(Js))];ae(Js,Js.u+MS.g);var Pc=MS.value;if(16>Pc)kS[Yd++]=Pc,Pc!=0&&(PS=Pc);else{var NR=Pc==16,RS=Pc-16,jR=qM[RS],LS=Q(Js,HM[RS])+jR;if(Yd+LS>Kp)break n;for(var AR=NR?PS:0;0<LS--;)kS[Yd++]=AR}}F0=1;break n}F0||(TS.a=3),Vp=F0}(Vp=Vp&&!Qs.h)&&(I0=C(gR,vR,8,Vd,L0)),Vp&&I0!=0?Yp=I0:(Gp.a=3,Yp=0)}if(Yp==0)break r;if(Hp&&GM[xt]==1&&(Hp=Wp[$r].g==0),AS+=Wp[$r].g,$r+=Yp,3>=xt){var Kd,B0=Gd[0];for(Kd=1;Kd<jr;++Kd)Gd[Kd]>B0&&(B0=Gd[Kd]);_S+=B0}}if(ri.nd=Hp,ri.Qb=0,Hp&&(ri.qb=(Tc[3][kc[3]+0].value<<24|Tc[1][kc[1]+0].value<<16|Tc[2][kc[2]+0].value)>>>0,AS==0&&256>Tc[0][kc[0]+0].value&&(ri.Qb=1,ri.qb+=Tc[0][kc[0]+0].value<<8)),ri.jc=!ri.Qb&&6>_S,ri.jc){var Xp,ms=ri;for(Xp=0;Xp<un;++Xp){var eo=Xp,to=ms.pd[eo],Zp=ms.G[0][ms.H[0]+eo];256<=Zp.value?(to.g=Zp.g+256,to.value=Zp.value):(to.g=0,to.value=0,eo>>=Gr(Zp,8,to),eo>>=Gr(ms.G[1][ms.H[1]+eo],16,to),eo>>=Gr(ms.G[2][ms.H[2]+eo],0,to),Gr(ms.G[3][ms.H[3]+eo],24,to))}}}tn.vc=dn,tn.Wb=Rn,tn.Ya=zp,tn.yc=R0,Qt=1;break t}Qt=0}if(!(q=Qt)){D.a=3;break e}if(0<ye){if(te.ua=1<<ye,!Me(te.Wa,ye)){D.a=1,q=0;break e}}else te.ua=0;var U0=D,IS=G,_R=K,z0=U0.s,W0=z0.xc;if(U0.c=IS,U0.i=_R,z0.md=He(IS,W0),z0.wc=W0==0?-1:(1<<W0)-1,T){D.xb=nR;break e}if((ce=i(G*K))==null){D.a=1,q=0;break e}q=(q=Za(D,ce,0,G,K,K,null))&&!Z.h;break e}return q?(B!=null?B[0]=ce:(e(ce==null),e(T)),D.$=0,T||Ti(te)):Ti(te),q}function zo(v,S){var T=v.c*v.i,D=T+S+16*S;return e(v.c<=S),v.V=i(D),v.V==null?(v.Ta=null,v.Ua=0,v.a=1,0):(v.Ta=v.V,v.Ua=v.Ba+T+S,1)}function ic(v,S){var T=v.C,D=S-T,B=v.V,q=v.Ba+v.c*T;for(e(S<=v.l.o);0<D;){var G=16<D?16:D,K=v.l.ma,Z=v.l.width,te=Z*G,ce=K.ca,ye=K.tb+Z*T,be=v.Ta,he=v.Ua;ia(v,G,B,q),Pr(be,he,ce,ye,te),Ka(K,T,T+G,ce,ye,Z),D-=G,B+=G*v.c,T+=G}e(T==S),v.C=v.Ma=S}function sc(){this.ub=this.yd=this.td=this.Rb=0}function oc(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function lc(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function lp(){this.Yb=function(){var v=[];return function S(T,D,B){for(var q=B[D],G=0;G<q&&(T.push(B.length>D+1?[]:0),!(B.length<D+1));G++)S(T[G],D+1,B)}(v,0,[3,11]),v}()}function r0(){this.jb=i(3),this.Wc=o([4,8],lp),this.Xc=o([4,17],lp)}function n0(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function cc(){this.ld=this.La=this.dd=this.tc=0}function cp(){this.Na=this.la=0}function a0(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function xd(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function i0(){this.uc=this.M=this.Nb=0,this.wa=Array(new cc),this.Y=0,this.ya=Array(new xd),this.aa=0,this.l=new uc}function up(){this.y=i(16),this.f=i(8),this.ea=i(8)}function s0(){this.cb=this.a=0,this.sc="",this.m=new se,this.Od=new sc,this.Kc=new oc,this.ed=new n0,this.Qa=new lc,this.Ic=this.$c=this.Aa=0,this.D=new i0,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,se),this.ia=0,this.pb=s(4,a0),this.Pa=new r0,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new up),this.Hd=0,this.rb=Array(new cp),this.sb=0,this.wa=Array(new cc),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new xd),this.L=this.aa=0,this.gd=o([4,2],cc),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function uc(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function o0(){var v=new s0;return v!=null&&(v.a=0,v.sc="OK",v.cb=0,v.Xb=0,Hd||(Hd=hp)),v}function Tr(v,S,T){return v.a==0&&(v.a=S,v.sc=T,v.cb=0),0}function dp(v,S,T){return 3<=T&&v[S+0]==157&&v[S+1]==1&&v[S+2]==42}function fp(v,S){if(v==null)return 0;if(v.a=0,v.sc="OK",S==null)return Tr(v,2,"null VP8Io passed to VP8GetHeaders()");var T=S.data,D=S.w,B=S.ha;if(4>B)return Tr(v,7,"Truncated header.");var q=T[D+0]|T[D+1]<<8|T[D+2]<<16,G=v.Od;if(G.Rb=!(1&q),G.td=q>>1&7,G.yd=q>>4&1,G.ub=q>>5,3<G.td)return Tr(v,3,"Incorrect keyframe parameters.");if(!G.yd)return Tr(v,4,"Frame not displayable.");D+=3,B-=3;var K=v.Kc;if(G.Rb){if(7>B)return Tr(v,7,"cannot parse picture header");if(!dp(T,D,B))return Tr(v,3,"Bad code word");K.c=16383&(T[D+4]<<8|T[D+3]),K.Td=T[D+4]>>6,K.i=16383&(T[D+6]<<8|T[D+5]),K.Ud=T[D+6]>>6,D+=7,B-=7,v.za=K.c+15>>4,v.Ub=K.i+15>>4,S.width=K.c,S.height=K.i,S.Da=0,S.j=0,S.v=0,S.va=S.width,S.o=S.height,S.da=0,S.ib=S.width,S.hb=S.height,S.U=S.width,S.T=S.height,a((q=v.Pa).jb,0,255,q.jb.length),e((q=v.Qa)!=null),q.Cb=0,q.Bb=0,q.Fb=1,a(q.Zb,0,0,q.Zb.length),a(q.Lb,0,0,q.Lb)}if(G.ub>B)return Tr(v,7,"bad partition length");H(q=v.m,T,D,G.ub),D+=G.ub,B-=G.ub,G.Rb&&(K.Ld=fe(q),K.Kd=fe(q)),K=v.Qa;var Z,te=v.Pa;if(e(q!=null),e(K!=null),K.Cb=fe(q),K.Cb){if(K.Bb=fe(q),fe(q)){for(K.Fb=fe(q),Z=0;4>Z;++Z)K.Zb[Z]=fe(q)?F(q,7):0;for(Z=0;4>Z;++Z)K.Lb[Z]=fe(q)?F(q,6):0}if(K.Bb)for(Z=0;3>Z;++Z)te.jb[Z]=fe(q)?V(q,8):255}else K.Bb=0;if(q.Ka)return Tr(v,3,"cannot parse segment header");if((K=v.ed).zd=fe(q),K.Tb=V(q,6),K.wb=V(q,3),K.Pc=fe(q),K.Pc&&fe(q)){for(te=0;4>te;++te)fe(q)&&(K.vd[te]=F(q,6));for(te=0;4>te;++te)fe(q)&&(K.od[te]=F(q,6))}if(v.L=K.Tb==0?0:K.zd?1:2,q.Ka)return Tr(v,3,"cannot parse filter header");var ce=B;if(B=Z=D,D=Z+ce,K=ce,v.Xb=(1<<V(v.m,2))-1,ce<3*(te=v.Xb))T=7;else{for(Z+=3*te,K-=3*te,ce=0;ce<te;++ce){var ye=T[B+0]|T[B+1]<<8|T[B+2]<<16;ye>K&&(ye=K),H(v.Jc[+ce],T,Z,ye),Z+=ye,K-=ye,B+=3}H(v.Jc[+te],T,Z,K),T=Z<D?0:5}if(T!=0)return Tr(v,T,"cannot parse partitions");for(T=V(Z=v.m,7),B=fe(Z)?F(Z,4):0,D=fe(Z)?F(Z,4):0,K=fe(Z)?F(Z,4):0,te=fe(Z)?F(Z,4):0,Z=fe(Z)?F(Z,4):0,ce=v.Qa,ye=0;4>ye;++ye){if(ce.Cb){var be=ce.Zb[ye];ce.Fb||(be+=T)}else{if(0<ye){v.pb[ye]=v.pb[0];continue}be=T}var he=v.pb[ye];he.Sc[0]=P0[sa(be+B,127)],he.Sc[1]=D0[sa(be+0,127)],he.Eb[0]=2*P0[sa(be+D,127)],he.Eb[1]=101581*D0[sa(be+K,127)]>>16,8>he.Eb[1]&&(he.Eb[1]=8),he.Qc[0]=P0[sa(be+te,117)],he.Qc[1]=D0[sa(be+Z,127)],he.lc=be+Z}if(!G.Rb)return Tr(v,4,"Not a key frame.");for(fe(q),G=v.Pa,T=0;4>T;++T){for(B=0;8>B;++B)for(D=0;3>D;++D)for(K=0;11>K;++K)te=J(q,tR[T][B][D][K])?V(q,8):JM[T][B][D][K],G.Wc[T][B].Yb[D][K]=te;for(B=0;17>B;++B)G.Xc[T][B]=G.Wc[T][rR[B]]}return v.kc=fe(q),v.kc&&(v.Bd=V(q,8)),v.cb=1}function hp(v,S,T,D,B,q,G){var K=S[B].Yb[T];for(T=0;16>B;++B){if(!J(v,K[T+0]))return B;for(;!J(v,K[T+1]);)if(K=S[++B].Yb[0],T=0,B==16)return 16;var Z=S[B+1].Yb;if(J(v,K[T+2])){var te=v,ce=0;if(J(te,(be=K)[(ye=T)+3]))if(J(te,be[ye+6])){for(K=0,ye=2*(ce=J(te,be[ye+8]))+(be=J(te,be[ye+9+ce])),ce=0,be=ZM[ye];be[K];++K)ce+=ce+J(te,be[K]);ce+=3+(8<<ye)}else J(te,be[ye+7])?(ce=7+2*J(te,165),ce+=J(te,145)):ce=5+J(te,159);else ce=J(te,be[ye+4])?3+J(te,be[ye+5]):2;K=Z[2]}else ce=1,K=Z[1];Z=G+QM[B],0>(te=v).b&&me(te);var ye,be=te.b,he=(ye=te.Ca>>1)-(te.I>>be)>>31;--te.b,te.Ca+=he,te.Ca|=1,te.I-=(ye+1&he)<<be,q[Z]=((ce^he)-he)*D[(0<B)+0]}return 16}function wd(v){var S=v.rb[v.sb-1];S.la=0,S.Na=0,a(v.zc,0,0,v.zc.length),v.ja=0}function l0(v,S){if(v==null)return 0;if(S==null)return Tr(v,2,"NULL VP8Io parameter in VP8Decode().");if(!v.cb&&!fp(v,S))return 0;if(e(v.cb),S.ac==null||S.ac(S)){S.ob&&(v.L=0);var T=Up[v.L];if(v.L==2?(v.yb=0,v.zb=0):(v.yb=S.v-T>>4,v.zb=S.j-T>>4,0>v.yb&&(v.yb=0),0>v.zb&&(v.zb=0)),v.Va=S.o+15+T>>4,v.Hb=S.va+15+T>>4,v.Hb>v.za&&(v.Hb=v.za),v.Va>v.Ub&&(v.Va=v.Ub),0<v.L){var D=v.ed;for(T=0;4>T;++T){var B;if(v.Qa.Cb){var q=v.Qa.Lb[T];v.Qa.Fb||(q+=D.Tb)}else q=D.Tb;for(B=0;1>=B;++B){var G=v.gd[T][B],K=q;if(D.Pc&&(K+=D.vd[0],B&&(K+=D.od[0])),0<(K=0>K?0:63<K?63:K)){var Z=K;0<D.wb&&(Z=4<D.wb?Z>>2:Z>>1)>9-D.wb&&(Z=9-D.wb),1>Z&&(Z=1),G.dd=Z,G.tc=2*K+Z,G.ld=40<=K?2:15<=K?1:0}else G.tc=0;G.La=B}}}T=0}else Tr(v,6,"Frame setup failed"),T=v.a;if(T=T==0){if(T){v.$c=0,0<v.Aa||(v.Ic=mR);e:{T=v.Ic,D=4*(Z=v.za);var te=32*Z,ce=Z+1,ye=0<v.L?Z*(0<v.Aa?2:1):0,be=(v.Aa==2?2:1)*Z;if((G=D+832+(B=3*(16*T+Up[v.L])/2*te)+(q=v.Fa!=null&&0<v.Fa.length?v.Kc.c*v.Kc.i:0))!=G)T=0;else{if(G>v.Vb){if(v.Vb=0,v.Ec=i(G),v.Fc=0,v.Ec==null){T=Tr(v,1,"no memory during frame initialization.");break e}v.Vb=G}G=v.Ec,K=v.Fc,v.Ac=G,v.Bc=K,K+=D,v.Gd=s(te,up),v.Hd=0,v.rb=s(ce+1,cp),v.sb=1,v.wa=ye?s(ye,cc):null,v.Y=0,v.D.Nb=0,v.D.wa=v.wa,v.D.Y=v.Y,0<v.Aa&&(v.D.Y+=Z),e(!0),v.oc=G,v.pc=K,K+=832,v.ya=s(be,xd),v.aa=0,v.D.ya=v.ya,v.D.aa=v.aa,v.Aa==2&&(v.D.aa+=Z),v.R=16*Z,v.B=8*Z,Z=(te=Up[v.L])*v.R,te=te/2*v.B,v.sa=G,v.ta=K+Z,v.qa=v.sa,v.ra=v.ta+16*T*v.R+te,v.Ha=v.qa,v.Ia=v.ra+8*T*v.B+te,v.$c=0,K+=B,v.mb=q?G:null,v.nb=q?K:null,e(K+q<=v.Fc+v.Vb),wd(v),a(v.Ac,v.Bc,0,D),T=1}}if(T){if(S.ka=0,S.y=v.sa,S.O=v.ta,S.f=v.qa,S.N=v.ra,S.ea=v.Ha,S.Vd=v.Ia,S.fa=v.R,S.Rc=v.B,S.F=null,S.J=0,!Pp){for(T=-255;255>=T;++T)Vr[255+T]=0>T?-T:T;for(T=-1020;1020>=T;++T)fs[1020+T]=-128>T?-128:127<T?127:T;for(T=-112;112>=T;++T)Wd[112+T]=-16>T?-16:15<T?15:T;for(T=-255;510>=T;++T)Oc[255+T]=0>T?0:255<T?255:T;Pp=1}Ac=d0,ds=c0,Bd=mp,Mn=u0,wa=gp,kr=pp,_c=Ed,kp=qo,Ud=j0,Yo=Od,Ko=N0,Vs=gc,Xo=Cd,Ec=Ap,Zo=jp,Ys=Di,zd=ls,Sa=S0,ti[0]=Pi,ti[1]=f0,ti[2]=g0,ti[3]=v0,ti[4]=bp,ti[5]=pc,ti[6]=xp,ti[7]=jd,ti[8]=b0,ti[9]=y0,Ks[0]=vp,Ks[1]=p0,Ks[2]=os,Ks[3]=fc,Ks[4]=gn,Ks[5]=m0,Ks[6]=yp,hs[0]=zs,hs[1]=h0,hs[2]=x0,hs[3]=Ad,hs[4]=Ho,hs[5]=w0,hs[6]=_d,T=1}else T=0}T&&(T=function(he,Ce){for(he.M=0;he.M<he.Va;++he.M){var Ne,ue=he.Jc[he.M&he.Xb],de=he.m,Ee=he;for(Ne=0;Ne<Ee.za;++Ne){var ke=de,Oe=Ee,Ve=Oe.Ac,Fe=Oe.Bc+4*Ne,tt=Oe.zc,Ue=Oe.ya[Oe.aa+Ne];if(Oe.Qa.Bb?Ue.$b=J(ke,Oe.Pa.jb[0])?2+J(ke,Oe.Pa.jb[2]):J(ke,Oe.Pa.jb[1]):Ue.$b=0,Oe.kc&&(Ue.Ad=J(ke,Oe.Bd)),Ue.Za=!J(ke,145)+0,Ue.Za){var Bt=Ue.Ob,Wt=0;for(Oe=0;4>Oe;++Oe){var Dt,_t=tt[0+Oe];for(Dt=0;4>Dt;++Dt){_t=eR[Ve[Fe+Dt]][_t];for(var Qt=pS[J(ke,_t[0])];0<Qt;)Qt=pS[2*Qt+J(ke,_t[Qt])];_t=-Qt,Ve[Fe+Dt]=_t}n(Bt,Wt,Ve,Fe,4),Wt+=4,tt[0+Oe]=_t}}else _t=J(ke,156)?J(ke,128)?1:3:J(ke,163)?2:0,Ue.Ob[0]=_t,a(Ve,Fe,_t,4),a(tt,0,_t,4);Ue.Dd=J(ke,142)?J(ke,114)?J(ke,183)?1:3:2:0}if(Ee.m.Ka)return Tr(he,7,"Premature end-of-partition0 encountered.");for(;he.ja<he.za;++he.ja){if(Ee=ue,ke=(de=he).rb[de.sb-1],Ve=de.rb[de.sb+de.ja],Ne=de.ya[de.aa+de.ja],Fe=de.kc?Ne.Ad:0)ke.la=Ve.la=0,Ne.Za||(ke.Na=Ve.Na=0),Ne.Hc=0,Ne.Gc=0,Ne.ia=0;else{var Vt,xt;if(ke=Ve,Ve=Ee,Fe=de.Pa.Xc,tt=de.ya[de.aa+de.ja],Ue=de.pb[tt.$b],Oe=tt.ad,Bt=0,Wt=de.rb[de.sb-1],_t=Dt=0,a(Oe,Bt,0,384),tt.Za)var $r=0,Yn=Fe[3];else{Qt=i(16);var Fr=ke.Na+Wt.Na;if(Fr=Hd(Ve,Fe[1],Fr,Ue.Eb,0,Qt,0),ke.Na=Wt.Na=(0<Fr)+0,1<Fr)Ac(Qt,0,Oe,Bt);else{var Kn=Qt[0]+3>>3;for(Qt=0;256>Qt;Qt+=16)Oe[Bt+Qt]=Kn}$r=1,Yn=Fe[0]}var Ht=15&ke.la,la=15&Wt.la;for(Qt=0;4>Qt;++Qt){var ca=1&la;for(Kn=xt=0;4>Kn;++Kn)Ht=Ht>>1|(ca=(Fr=Hd(Ve,Yn,Fr=ca+(1&Ht),Ue.Sc,$r,Oe,Bt))>$r)<<7,xt=xt<<2|(3<Fr?3:1<Fr?2:Oe[Bt+0]!=0),Bt+=16;Ht>>=4,la=la>>1|ca<<7,Dt=(Dt<<8|xt)>>>0}for(Yn=Ht,$r=la>>4,Vt=0;4>Vt;Vt+=2){for(xt=0,Ht=ke.la>>4+Vt,la=Wt.la>>4+Vt,Qt=0;2>Qt;++Qt){for(ca=1&la,Kn=0;2>Kn;++Kn)Fr=ca+(1&Ht),Ht=Ht>>1|(ca=0<(Fr=Hd(Ve,Fe[2],Fr,Ue.Qc,0,Oe,Bt)))<<3,xt=xt<<2|(3<Fr?3:1<Fr?2:Oe[Bt+0]!=0),Bt+=16;Ht>>=2,la=la>>1|ca<<5}_t|=xt<<4*Vt,Yn|=Ht<<4<<Vt,$r|=(240&la)<<Vt}ke.la=Yn,Wt.la=$r,tt.Hc=Dt,tt.Gc=_t,tt.ia=43690&_t?0:Ue.ia,Fe=!(Dt|_t)}if(0<de.L&&(de.wa[de.Y+de.ja]=de.gd[Ne.$b][Ne.Za],de.wa[de.Y+de.ja].La|=!Fe),Ee.Ka)return Tr(he,7,"Premature end-of-file encountered.")}if(wd(he),de=Ce,Ee=1,Ne=(ue=he).D,ke=0<ue.L&&ue.M>=ue.zb&&ue.M<=ue.Va,ue.Aa==0)e:{if(Ne.M=ue.M,Ne.uc=ke,Rd(ue,Ne),Ee=1,Ne=(xt=ue.D).Nb,ke=(_t=Up[ue.L])*ue.R,Ve=_t/2*ue.B,Qt=16*Ne*ue.R,Kn=8*Ne*ue.B,Fe=ue.sa,tt=ue.ta-ke+Qt,Ue=ue.qa,Oe=ue.ra-Ve+Kn,Bt=ue.Ha,Wt=ue.Ia-Ve+Kn,la=(Ht=xt.M)==0,Dt=Ht>=ue.Va-1,ue.Aa==2&&Rd(ue,xt),xt.uc)for(ca=(Fr=ue).D.M,e(Fr.D.uc),xt=Fr.yb;xt<Fr.Hb;++xt){$r=xt,Yn=ca;var tn=(dn=(jr=Fr).D).Nb;Vt=jr.R;var dn=dn.wa[dn.Y+$r],Rn=jr.sa,_a=jr.ta+16*tn*Vt+16*$r,Ri=dn.dd,rn=dn.tc;if(rn!=0)if(e(3<=rn),jr.L==1)0<$r&&Ys(Rn,_a,Vt,rn+4),dn.La&&Sa(Rn,_a,Vt,rn),0<Yn&&Zo(Rn,_a,Vt,rn+4),dn.La&&zd(Rn,_a,Vt,rn);else{var ps=jr.B,Qo=jr.qa,Cc=jr.ra+8*tn*ps+8*$r,Zs=jr.Ha,jr=jr.Ia+8*tn*ps+8*$r;tn=dn.ld,0<$r&&(kp(Rn,_a,Vt,rn+4,Ri,tn),Yo(Qo,Cc,Zs,jr,ps,rn+4,Ri,tn)),dn.La&&(Vs(Rn,_a,Vt,rn,Ri,tn),Ec(Qo,Cc,Zs,jr,ps,rn,Ri,tn)),0<Yn&&(_c(Rn,_a,Vt,rn+4,Ri,tn),Ud(Qo,Cc,Zs,jr,ps,rn+4,Ri,tn)),dn.La&&(Ko(Rn,_a,Vt,rn,Ri,tn),Xo(Qo,Cc,Zs,jr,ps,rn,Ri,tn))}}if(ue.ia&&alert("todo:DitherRow"),de.put!=null){if(xt=16*Ht,Ht=16*(Ht+1),la?(de.y=ue.sa,de.O=ue.ta+Qt,de.f=ue.qa,de.N=ue.ra+Kn,de.ea=ue.Ha,de.W=ue.Ia+Kn):(xt-=_t,de.y=Fe,de.O=tt,de.f=Ue,de.N=Oe,de.ea=Bt,de.W=Wt),Dt||(Ht-=_t),Ht>de.o&&(Ht=de.o),de.F=null,de.J=null,ue.Fa!=null&&0<ue.Fa.length&&xt<Ht&&(de.J=Dd(ue,de,xt,Ht-xt),de.F=ue.mb,de.F==null&&de.F.length==0)){Ee=Tr(ue,3,"Could not decode alpha data.");break e}xt<de.j&&(_t=de.j-xt,xt=de.j,e(!(1&_t)),de.O+=ue.R*_t,de.N+=ue.B*(_t>>1),de.W+=ue.B*(_t>>1),de.F!=null&&(de.J+=de.width*_t)),xt<Ht&&(de.O+=de.v,de.N+=de.v>>1,de.W+=de.v>>1,de.F!=null&&(de.J+=de.v),de.ka=xt-de.j,de.U=de.va-de.v,de.T=Ht-xt,Ee=de.put(de))}Ne+1!=ue.Ic||Dt||(n(ue.sa,ue.ta-ke,Fe,tt+16*ue.R,ke),n(ue.qa,ue.ra-Ve,Ue,Oe+8*ue.B,Ve),n(ue.Ha,ue.Ia-Ve,Bt,Wt+8*ue.B,Ve))}if(!Ee)return Tr(he,6,"Output aborted.")}return 1}(v,S)),S.bc!=null&&S.bc(S),T&=1}return T?(v.cb=0,T):0}function Qa(v,S,T,D,B){B=v[S+T+32*D]+(B>>3),v[S+T+32*D]=-256&B?0>B?0:255:B}function dc(v,S,T,D,B,q){Qa(v,S,0,T,D+B),Qa(v,S,1,T,D+q),Qa(v,S,2,T,D-q),Qa(v,S,3,T,D-B)}function qn(v){return(20091*v>>16)+v}function Sd(v,S,T,D){var B,q=0,G=i(16);for(B=0;4>B;++B){var K=v[S+0]+v[S+8],Z=v[S+0]-v[S+8],te=(35468*v[S+4]>>16)-qn(v[S+12]),ce=qn(v[S+4])+(35468*v[S+12]>>16);G[q+0]=K+ce,G[q+1]=Z+te,G[q+2]=Z-te,G[q+3]=K-ce,q+=4,S++}for(B=q=0;4>B;++B)K=(v=G[q+0]+4)+G[q+8],Z=v-G[q+8],te=(35468*G[q+4]>>16)-qn(G[q+12]),Qa(T,D,0,0,K+(ce=qn(G[q+4])+(35468*G[q+12]>>16))),Qa(T,D,1,0,Z+te),Qa(T,D,2,0,Z-te),Qa(T,D,3,0,K-ce),q++,D+=32}function pp(v,S,T,D){var B=v[S+0]+4,q=35468*v[S+4]>>16,G=qn(v[S+4]),K=35468*v[S+1]>>16;dc(T,D,0,B+G,v=qn(v[S+1]),K),dc(T,D,1,B+q,v,K),dc(T,D,2,B-q,v,K),dc(T,D,3,B-G,v,K)}function c0(v,S,T,D,B){Sd(v,S,T,D),B&&Sd(v,S+16,T,D+4)}function mp(v,S,T,D){ds(v,S+0,T,D,1),ds(v,S+32,T,D+128,1)}function u0(v,S,T,D){var B;for(v=v[S+0]+4,B=0;4>B;++B)for(S=0;4>S;++S)Qa(T,D,S,B,v)}function gp(v,S,T,D){v[S+0]&&Mn(v,S+0,T,D),v[S+16]&&Mn(v,S+16,T,D+4),v[S+32]&&Mn(v,S+32,T,D+128),v[S+48]&&Mn(v,S+48,T,D+128+4)}function d0(v,S,T,D){var B,q=i(16);for(B=0;4>B;++B){var G=v[S+0+B]+v[S+12+B],K=v[S+4+B]+v[S+8+B],Z=v[S+4+B]-v[S+8+B],te=v[S+0+B]-v[S+12+B];q[0+B]=G+K,q[8+B]=G-K,q[4+B]=te+Z,q[12+B]=te-Z}for(B=0;4>B;++B)G=(v=q[0+4*B]+3)+q[3+4*B],K=q[1+4*B]+q[2+4*B],Z=q[1+4*B]-q[2+4*B],te=v-q[3+4*B],T[D+0]=G+K>>3,T[D+16]=te+Z>>3,T[D+32]=G-K>>3,T[D+48]=te-Z>>3,D+=64}function Nd(v,S,T){var D,B=S-32,q=oa,G=255-v[B-1];for(D=0;D<T;++D){var K,Z=q,te=G+v[S-1];for(K=0;K<T;++K)v[S+K]=Z[te+v[B+K]];S+=32}}function f0(v,S){Nd(v,S,4)}function h0(v,S){Nd(v,S,8)}function p0(v,S){Nd(v,S,16)}function os(v,S){var T;for(T=0;16>T;++T)n(v,S+32*T,v,S-32,16)}function fc(v,S){var T;for(T=16;0<T;--T)a(v,S,v[S-1],16),S+=32}function hc(v,S,T){var D;for(D=0;16>D;++D)a(S,T+32*D,v,16)}function vp(v,S){var T,D=16;for(T=0;16>T;++T)D+=v[S-1+32*T]+v[S+T-32];hc(D>>5,v,S)}function gn(v,S){var T,D=8;for(T=0;16>T;++T)D+=v[S-1+32*T];hc(D>>4,v,S)}function m0(v,S){var T,D=8;for(T=0;16>T;++T)D+=v[S+T-32];hc(D>>4,v,S)}function yp(v,S){hc(128,v,S)}function mt(v,S,T){return v+2*S+T+2>>2}function g0(v,S){var T,D=S-32;for(D=new Uint8Array([mt(v[D-1],v[D+0],v[D+1]),mt(v[D+0],v[D+1],v[D+2]),mt(v[D+1],v[D+2],v[D+3]),mt(v[D+2],v[D+3],v[D+4])]),T=0;4>T;++T)n(v,S+32*T,D,0,D.length)}function v0(v,S){var T=v[S-1],D=v[S-1+32],B=v[S-1+64],q=v[S-1+96];ve(v,S+0,16843009*mt(v[S-1-32],T,D)),ve(v,S+32,16843009*mt(T,D,B)),ve(v,S+64,16843009*mt(D,B,q)),ve(v,S+96,16843009*mt(B,q,q))}function Pi(v,S){var T,D=4;for(T=0;4>T;++T)D+=v[S+T-32]+v[S-1+32*T];for(D>>=3,T=0;4>T;++T)a(v,S+32*T,D,4)}function bp(v,S){var T=v[S-1+0],D=v[S-1+32],B=v[S-1+64],q=v[S-1-32],G=v[S+0-32],K=v[S+1-32],Z=v[S+2-32],te=v[S+3-32];v[S+0+96]=mt(D,B,v[S-1+96]),v[S+1+96]=v[S+0+64]=mt(T,D,B),v[S+2+96]=v[S+1+64]=v[S+0+32]=mt(q,T,D),v[S+3+96]=v[S+2+64]=v[S+1+32]=v[S+0+0]=mt(G,q,T),v[S+3+64]=v[S+2+32]=v[S+1+0]=mt(K,G,q),v[S+3+32]=v[S+2+0]=mt(Z,K,G),v[S+3+0]=mt(te,Z,K)}function xp(v,S){var T=v[S+1-32],D=v[S+2-32],B=v[S+3-32],q=v[S+4-32],G=v[S+5-32],K=v[S+6-32],Z=v[S+7-32];v[S+0+0]=mt(v[S+0-32],T,D),v[S+1+0]=v[S+0+32]=mt(T,D,B),v[S+2+0]=v[S+1+32]=v[S+0+64]=mt(D,B,q),v[S+3+0]=v[S+2+32]=v[S+1+64]=v[S+0+96]=mt(B,q,G),v[S+3+32]=v[S+2+64]=v[S+1+96]=mt(q,G,K),v[S+3+64]=v[S+2+96]=mt(G,K,Z),v[S+3+96]=mt(K,Z,Z)}function pc(v,S){var T=v[S-1+0],D=v[S-1+32],B=v[S-1+64],q=v[S-1-32],G=v[S+0-32],K=v[S+1-32],Z=v[S+2-32],te=v[S+3-32];v[S+0+0]=v[S+1+64]=q+G+1>>1,v[S+1+0]=v[S+2+64]=G+K+1>>1,v[S+2+0]=v[S+3+64]=K+Z+1>>1,v[S+3+0]=Z+te+1>>1,v[S+0+96]=mt(B,D,T),v[S+0+64]=mt(D,T,q),v[S+0+32]=v[S+1+96]=mt(T,q,G),v[S+1+32]=v[S+2+96]=mt(q,G,K),v[S+2+32]=v[S+3+96]=mt(G,K,Z),v[S+3+32]=mt(K,Z,te)}function jd(v,S){var T=v[S+0-32],D=v[S+1-32],B=v[S+2-32],q=v[S+3-32],G=v[S+4-32],K=v[S+5-32],Z=v[S+6-32],te=v[S+7-32];v[S+0+0]=T+D+1>>1,v[S+1+0]=v[S+0+64]=D+B+1>>1,v[S+2+0]=v[S+1+64]=B+q+1>>1,v[S+3+0]=v[S+2+64]=q+G+1>>1,v[S+0+32]=mt(T,D,B),v[S+1+32]=v[S+0+96]=mt(D,B,q),v[S+2+32]=v[S+1+96]=mt(B,q,G),v[S+3+32]=v[S+2+96]=mt(q,G,K),v[S+3+64]=mt(G,K,Z),v[S+3+96]=mt(K,Z,te)}function y0(v,S){var T=v[S-1+0],D=v[S-1+32],B=v[S-1+64],q=v[S-1+96];v[S+0+0]=T+D+1>>1,v[S+2+0]=v[S+0+32]=D+B+1>>1,v[S+2+32]=v[S+0+64]=B+q+1>>1,v[S+1+0]=mt(T,D,B),v[S+3+0]=v[S+1+32]=mt(D,B,q),v[S+3+32]=v[S+1+64]=mt(B,q,q),v[S+3+64]=v[S+2+64]=v[S+0+96]=v[S+1+96]=v[S+2+96]=v[S+3+96]=q}function b0(v,S){var T=v[S-1+0],D=v[S-1+32],B=v[S-1+64],q=v[S-1+96],G=v[S-1-32],K=v[S+0-32],Z=v[S+1-32],te=v[S+2-32];v[S+0+0]=v[S+2+32]=T+G+1>>1,v[S+0+32]=v[S+2+64]=D+T+1>>1,v[S+0+64]=v[S+2+96]=B+D+1>>1,v[S+0+96]=q+B+1>>1,v[S+3+0]=mt(K,Z,te),v[S+2+0]=mt(G,K,Z),v[S+1+0]=v[S+3+32]=mt(T,G,K),v[S+1+32]=v[S+3+64]=mt(D,T,G),v[S+1+64]=v[S+3+96]=mt(B,D,T),v[S+1+96]=mt(q,B,D)}function x0(v,S){var T;for(T=0;8>T;++T)n(v,S+32*T,v,S-32,8)}function Ad(v,S){var T;for(T=0;8>T;++T)a(v,S,v[S-1],8),S+=32}function Wo(v,S,T){var D;for(D=0;8>D;++D)a(S,T+32*D,v,8)}function zs(v,S){var T,D=8;for(T=0;8>T;++T)D+=v[S+T-32]+v[S-1+32*T];Wo(D>>4,v,S)}function w0(v,S){var T,D=4;for(T=0;8>T;++T)D+=v[S+T-32];Wo(D>>3,v,S)}function Ho(v,S){var T,D=4;for(T=0;8>T;++T)D+=v[S-1+32*T];Wo(D>>3,v,S)}function _d(v,S){Wo(128,v,S)}function mc(v,S,T){var D=v[S-T],B=v[S+0],q=3*(B-D)+E0[1020+v[S-2*T]-v[S+T]],G=Dp[112+(q+4>>3)];v[S-T]=oa[255+D+Dp[112+(q+3>>3)]],v[S+0]=oa[255+B-G]}function wp(v,S,T,D){var B=v[S+0],q=v[S+T];return ja[255+v[S-2*T]-v[S-T]]>D||ja[255+q-B]>D}function Sp(v,S,T,D){return 4*ja[255+v[S-T]-v[S+0]]+ja[255+v[S-2*T]-v[S+T]]<=D}function Np(v,S,T,D,B){var q=v[S-3*T],G=v[S-2*T],K=v[S-T],Z=v[S+0],te=v[S+T],ce=v[S+2*T],ye=v[S+3*T];return 4*ja[255+K-Z]+ja[255+G-te]>D?0:ja[255+v[S-4*T]-q]<=B&&ja[255+q-G]<=B&&ja[255+G-K]<=B&&ja[255+ye-ce]<=B&&ja[255+ce-te]<=B&&ja[255+te-Z]<=B}function jp(v,S,T,D){var B=2*D+1;for(D=0;16>D;++D)Sp(v,S+D,T,B)&&mc(v,S+D,T)}function Di(v,S,T,D){var B=2*D+1;for(D=0;16>D;++D)Sp(v,S+D*T,1,B)&&mc(v,S+D*T,1)}function ls(v,S,T,D){var B;for(B=3;0<B;--B)jp(v,S+=4*T,T,D)}function S0(v,S,T,D){var B;for(B=3;0<B;--B)Di(v,S+=4,T,D)}function Ws(v,S,T,D,B,q,G,K){for(q=2*q+1;0<B--;){if(Np(v,S,T,q,G))if(wp(v,S,T,K))mc(v,S,T);else{var Z=v,te=S,ce=T,ye=Z[te-2*ce],be=Z[te-ce],he=Z[te+0],Ce=Z[te+ce],Ne=Z[te+2*ce],ue=27*(Ee=E0[1020+3*(he-be)+E0[1020+ye-Ce]])+63>>7,de=18*Ee+63>>7,Ee=9*Ee+63>>7;Z[te-3*ce]=oa[255+Z[te-3*ce]+Ee],Z[te-2*ce]=oa[255+ye+de],Z[te-ce]=oa[255+be+ue],Z[te+0]=oa[255+he-ue],Z[te+ce]=oa[255+Ce-de],Z[te+2*ce]=oa[255+Ne-Ee]}S+=D}}function Ja(v,S,T,D,B,q,G,K){for(q=2*q+1;0<B--;){if(Np(v,S,T,q,G))if(wp(v,S,T,K))mc(v,S,T);else{var Z=v,te=S,ce=T,ye=Z[te-ce],be=Z[te+0],he=Z[te+ce],Ce=Dp[112+((Ne=3*(be-ye))+4>>3)],Ne=Dp[112+(Ne+3>>3)],ue=Ce+1>>1;Z[te-2*ce]=oa[255+Z[te-2*ce]+ue],Z[te-ce]=oa[255+ye+Ne],Z[te+0]=oa[255+be-Ce],Z[te+ce]=oa[255+he-ue]}S+=D}}function Ed(v,S,T,D,B,q){Ws(v,S,T,1,16,D,B,q)}function qo(v,S,T,D,B,q){Ws(v,S,1,T,16,D,B,q)}function N0(v,S,T,D,B,q){var G;for(G=3;0<G;--G)Ja(v,S+=4*T,T,1,16,D,B,q)}function gc(v,S,T,D,B,q){var G;for(G=3;0<G;--G)Ja(v,S+=4,1,T,16,D,B,q)}function j0(v,S,T,D,B,q,G,K){Ws(v,S,B,1,8,q,G,K),Ws(T,D,B,1,8,q,G,K)}function Od(v,S,T,D,B,q,G,K){Ws(v,S,1,B,8,q,G,K),Ws(T,D,1,B,8,q,G,K)}function Cd(v,S,T,D,B,q,G,K){Ja(v,S+4*B,B,1,8,q,G,K),Ja(T,D+4*B,B,1,8,q,G,K)}function Ap(v,S,T,D,B,q,G,K){Ja(v,S+4,1,B,8,q,G,K),Ja(T,D+4,1,B,8,q,G,K)}function vc(){this.ba=new Va,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Sr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Td(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function kd(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function _p(){this.ua=0,this.Wa=new ne,this.vb=new ne,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new M,this.yc=new P}function A0(){this.xb=this.a=0,this.l=new uc,this.ca=new Va,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new $,this.Pb=0,this.wd=new $,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new _p,this.ab=0,this.gc=s(4,kd),this.Oc=0}function yc(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new uc,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Go(v,S,T,D,B,q,G){for(v=v==null?0:v[S+0],S=0;S<G;++S)B[q+S]=v+T[D+S]&255,v=B[q+S]}function Pd(v,S,T,D,B,q,G){var K;if(v==null)Go(null,null,T,D,B,q,G);else for(K=0;K<G;++K)B[q+K]=v[S+K]+T[D+K]&255}function Hs(v,S,T,D,B,q,G){if(v==null)Go(null,null,T,D,B,q,G);else{var K,Z=v[S+0],te=Z,ce=Z;for(K=0;K<G;++K)te=ce+(Z=v[S+K])-te,ce=T[D+K]+(-256&te?0>te?0:255:te)&255,te=Z,B[q+K]=ce}}function Dd(v,S,T,D){var B=S.width,q=S.o;if(e(v!=null&&S!=null),0>T||0>=D||T+D>q)return null;if(!v.Cc){if(v.ga==null){var G;if(v.ga=new yc,(G=v.ga==null)||(G=S.width*S.o,e(v.Gb.length==0),v.Gb=i(G),v.Uc=0,v.Gb==null?G=0:(v.mb=v.Gb,v.nb=v.Uc,v.rc=null,G=1),G=!G),!G){G=v.ga;var K=v.Fa,Z=v.P,te=v.qc,ce=v.mb,ye=v.nb,be=Z+1,he=te-1,Ce=G.l;if(e(K!=null&&ce!=null&&S!=null),Xs[0]=null,Xs[1]=Go,Xs[2]=Pd,Xs[3]=Hs,G.ca=ce,G.tb=ye,G.c=S.width,G.i=S.height,e(0<G.c&&0<G.i),1>=te)S=0;else if(G.$a=K[Z+0]>>0&3,G.Z=K[Z+0]>>2&3,G.Lc=K[Z+0]>>4&3,Z=K[Z+0]>>6&3,0>G.$a||1<G.$a||4<=G.Z||1<G.Lc||Z)S=0;else if(Ce.put=Ei,Ce.ac=cn,Ce.bc=Oi,Ce.ma=G,Ce.width=S.width,Ce.height=S.height,Ce.Da=S.Da,Ce.v=S.v,Ce.va=S.va,Ce.j=S.j,Ce.o=S.o,G.$a)e:{e(G.$a==1),S=ba();t:for(;;){if(S==null){S=0;break e}if(e(G!=null),G.mc=S,S.c=G.c,S.i=G.i,S.l=G.l,S.l.ma=G,S.l.width=G.c,S.l.height=G.i,S.a=0,X(S.m,K,be,he),!ki(G.c,G.i,1,S,null)||(S.ab==1&&S.gc[0].hc==3&&ss(S.s)?(G.ic=1,K=S.c*S.i,S.Ta=null,S.Ua=0,S.V=i(K),S.Ba=0,S.V==null?(S.a=1,S=0):S=1):(G.ic=0,S=zo(S,G.c)),!S))break t;S=1;break e}G.mc=null,S=0}else S=he>=G.c*G.i;G=!S}if(G)return null;v.ga.Lc!=1?v.Ga=0:D=q-T}e(v.ga!=null),e(T+D<=q);e:{if(S=(K=v.ga).c,q=K.l.o,K.$a==0){if(be=v.rc,he=v.Vc,Ce=v.Fa,Z=v.P+1+T*S,te=v.mb,ce=v.nb+T*S,e(Z<=v.P+v.qc),K.Z!=0)for(e(Xs[K.Z]!=null),G=0;G<D;++G)Xs[K.Z](be,he,Ce,Z,te,ce,S),be=te,he=ce,ce+=S,Z+=S;else for(G=0;G<D;++G)n(te,ce,Ce,Z,S),be=te,he=ce,ce+=S,Z+=S;v.rc=be,v.Vc=he}else{if(e(K.mc!=null),S=T+D,e((G=K.mc)!=null),e(S<=G.i),G.C>=S)S=1;else if(K.ic||ge(),K.ic){K=G.V,be=G.Ba,he=G.c;var Ne=G.i,ue=(Ce=1,Z=G.$/he,te=G.$%he,ce=G.m,ye=G.s,G.$),de=he*Ne,Ee=he*S,ke=ye.wc,Oe=ue<Ee?Lr(ye,te,Z):null;e(ue<=de),e(S<=Ne),e(ss(ye));t:for(;;){for(;!ce.h&&ue<Ee;){if(te&ke||(Oe=Lr(ye,te,Z)),e(Oe!=null),oe(ce),256>(Ne=Hn(Oe.G[0],Oe.H[0],ce)))K[be+ue]=Ne,++ue,++te>=he&&(te=0,++Z<=S&&!(Z%16)&&Xa(G,Z));else{if(!(280>Ne)){Ce=0;break t}Ne=Ya(Ne-256,ce);var Ve,Fe=Hn(Oe.G[4],Oe.H[4],ce);if(oe(ce),!(ue>=(Fe=Ci(he,Fe=Ya(Fe,ce)))&&de-ue>=Ne)){Ce=0;break t}for(Ve=0;Ve<Ne;++Ve)K[be+ue+Ve]=K[be+ue+Ve-Fe];for(ue+=Ne,te+=Ne;te>=he;)te-=he,++Z<=S&&!(Z%16)&&Xa(G,Z);ue<Ee&&te&ke&&(Oe=Lr(ye,te,Z))}e(ce.h==ee(ce))}Xa(G,Z>S?S:Z);break t}!Ce||ce.h&&ue<de?(Ce=0,G.a=ce.h?5:3):G.$=ue,S=Ce}else S=Za(G,G.V,G.Ba,G.c,G.i,S,ic);if(!S){D=0;break e}}T+D>=q&&(v.Cc=1),D=1}if(!D)return null;if(v.Cc&&((D=v.ga)!=null&&(D.mc=null),v.ga=null,0<v.Ga))return alert("todo:WebPDequantizeLevels"),null}return v.nb+T*B}function _(v,S,T,D,B,q){for(;0<B--;){var G,K=v,Z=S+(T?1:0),te=v,ce=S+(T?0:3);for(G=0;G<D;++G){var ye=te[ce+4*G];ye!=255&&(ye*=32897,K[Z+4*G+0]=K[Z+4*G+0]*ye>>23,K[Z+4*G+1]=K[Z+4*G+1]*ye>>23,K[Z+4*G+2]=K[Z+4*G+2]*ye>>23)}S+=q}}function U(v,S,T,D,B){for(;0<D--;){var q;for(q=0;q<T;++q){var G=v[S+2*q+0],K=15&(te=v[S+2*q+1]),Z=4369*K,te=(240&te|te>>4)*Z>>16;v[S+2*q+0]=(240&G|G>>4)*Z>>16&240|(15&G|G<<4)*Z>>16>>4&15,v[S+2*q+1]=240&te|K}S+=B}}function re(v,S,T,D,B,q,G,K){var Z,te,ce=255;for(te=0;te<B;++te){for(Z=0;Z<D;++Z){var ye=v[S+Z];q[G+4*Z]=ye,ce&=ye}S+=T,G+=K}return ce!=255}function le(v,S,T,D,B){var q;for(q=0;q<B;++q)T[D+q]=v[S+q]>>8}function ge(){Na=_,ar=U,ir=re,Pr=le}function je(v,S,T){O[v]=function(D,B,q,G,K,Z,te,ce,ye,be,he,Ce,Ne,ue,de,Ee,ke){var Oe,Ve=ke-1>>1,Fe=K[Z+0]|te[ce+0]<<16,tt=ye[be+0]|he[Ce+0]<<16;e(D!=null);var Ue=3*Fe+tt+131074>>2;for(S(D[B+0],255&Ue,Ue>>16,Ne,ue),q!=null&&(Ue=3*tt+Fe+131074>>2,S(q[G+0],255&Ue,Ue>>16,de,Ee)),Oe=1;Oe<=Ve;++Oe){var Bt=K[Z+Oe]|te[ce+Oe]<<16,Wt=ye[be+Oe]|he[Ce+Oe]<<16,Dt=Fe+Bt+tt+Wt+524296,_t=Dt+2*(Bt+tt)>>3;Ue=_t+Fe>>1,Fe=(Dt=Dt+2*(Fe+Wt)>>3)+Bt>>1,S(D[B+2*Oe-1],255&Ue,Ue>>16,Ne,ue+(2*Oe-1)*T),S(D[B+2*Oe-0],255&Fe,Fe>>16,Ne,ue+(2*Oe-0)*T),q!=null&&(Ue=Dt+tt>>1,Fe=_t+Wt>>1,S(q[G+2*Oe-1],255&Ue,Ue>>16,de,Ee+(2*Oe-1)*T),S(q[G+2*Oe+0],255&Fe,Fe>>16,de,Ee+(2*Oe+0)*T)),Fe=Bt,tt=Wt}1&ke||(Ue=3*Fe+tt+131074>>2,S(D[B+ke-1],255&Ue,Ue>>16,Ne,ue+(ke-1)*T),q!=null&&(Ue=3*tt+Fe+131074>>2,S(q[G+ke-1],255&Ue,Ue>>16,de,Ee+(ke-1)*T)))}}function De(){Aa[Mp]=aR,Aa[Rp]=gS,Aa[dS]=iR,Aa[Lp]=vS,Aa[Ip]=yS,Aa[O0]=bS,Aa[fS]=sR,Aa[C0]=gS,Aa[T0]=vS,Aa[$p]=yS,Aa[k0]=bS}function qe(v){return v&-16384?0>v?0:255:v>>oR}function Je(v,S){return qe((19077*v>>8)+(26149*S>>8)-14234)}function bt(v,S,T){return qe((19077*v>>8)-(6419*S>>8)-(13320*T>>8)+8708)}function vt(v,S){return qe((19077*v>>8)+(33050*S>>8)-17685)}function Tt(v,S,T,D,B){D[B+0]=Je(v,T),D[B+1]=bt(v,S,T),D[B+2]=vt(v,S)}function br(v,S,T,D,B){D[B+0]=vt(v,S),D[B+1]=bt(v,S,T),D[B+2]=Je(v,T)}function Nr(v,S,T,D,B){var q=bt(v,S,T);S=q<<3&224|vt(v,S)>>3,D[B+0]=248&Je(v,T)|q>>5,D[B+1]=S}function Ir(v,S,T,D,B){var q=240&vt(v,S)|15;D[B+0]=240&Je(v,T)|bt(v,S,T)>>4,D[B+1]=q}function vn(v,S,T,D,B){D[B+0]=255,Tt(v,S,T,D,B+1)}function en(v,S,T,D,B){br(v,S,T,D,B),D[B+3]=255}function ei(v,S,T,D,B){Tt(v,S,T,D,B),D[B+3]=255}function sa(v,S){return 0>v?0:v>S?S:v}function Mi(v,S,T){O[v]=function(D,B,q,G,K,Z,te,ce,ye){for(var be=ce+(-2&ye)*T;ce!=be;)S(D[B+0],q[G+0],K[Z+0],te,ce),S(D[B+1],q[G+0],K[Z+0],te,ce+T),B+=2,++G,++Z,ce+=2*T;1&ye&&S(D[B+0],q[G+0],K[Z+0],te,ce)}}function Ep(v,S,T){return T==0?v==0?S==0?6:5:S==0?4:0:T}function Md(v,S,T,D,B){switch(v>>>30){case 3:ds(S,T,D,B,0);break;case 2:kr(S,T,D,B);break;case 1:Mn(S,T,D,B)}}function Rd(v,S){var T,D,B=S.M,q=S.Nb,G=v.oc,K=v.pc+40,Z=v.oc,te=v.pc+584,ce=v.oc,ye=v.pc+600;for(T=0;16>T;++T)G[K+32*T-1]=129;for(T=0;8>T;++T)Z[te+32*T-1]=129,ce[ye+32*T-1]=129;for(0<B?G[K-1-32]=Z[te-1-32]=ce[ye-1-32]=129:(a(G,K-32-1,127,21),a(Z,te-32-1,127,9),a(ce,ye-32-1,127,9)),D=0;D<v.za;++D){var be=S.ya[S.aa+D];if(0<D){for(T=-1;16>T;++T)n(G,K+32*T-4,G,K+32*T+12,4);for(T=-1;8>T;++T)n(Z,te+32*T-4,Z,te+32*T+4,4),n(ce,ye+32*T-4,ce,ye+32*T+4,4)}var he=v.Gd,Ce=v.Hd+D,Ne=be.ad,ue=be.Hc;if(0<B&&(n(G,K-32,he[Ce].y,0,16),n(Z,te-32,he[Ce].f,0,8),n(ce,ye-32,he[Ce].ea,0,8)),be.Za){var de=G,Ee=K-32+16;for(0<B&&(D>=v.za-1?a(de,Ee,he[Ce].y[15],4):n(de,Ee,he[Ce+1].y,0,4)),T=0;4>T;T++)de[Ee+128+T]=de[Ee+256+T]=de[Ee+384+T]=de[Ee+0+T];for(T=0;16>T;++T,ue<<=2)de=G,Ee=K+wS[T],ti[be.Ob[T]](de,Ee),Md(ue,Ne,16*+T,de,Ee)}else if(de=Ep(D,B,be.Ob[0]),Ks[de](G,K),ue!=0)for(T=0;16>T;++T,ue<<=2)Md(ue,Ne,16*+T,G,K+wS[T]);for(T=be.Gc,de=Ep(D,B,be.Dd),hs[de](Z,te),hs[de](ce,ye),ue=Ne,de=Z,Ee=te,255&(be=T>>0)&&(170&be?Bd(ue,256,de,Ee):wa(ue,256,de,Ee)),be=ce,ue=ye,255&(T>>=8)&&(170&T?Bd(Ne,320,be,ue):wa(Ne,320,be,ue)),B<v.Ub-1&&(n(he[Ce].y,0,G,K+480,16),n(he[Ce].f,0,Z,te+224,8),n(he[Ce].ea,0,ce,ye+224,8)),T=8*q*v.B,he=v.sa,Ce=v.ta+16*D+16*q*v.R,Ne=v.qa,be=v.ra+8*D+T,ue=v.Ha,de=v.Ia+8*D+T,T=0;16>T;++T)n(he,Ce+T*v.R,G,K+32*T,16);for(T=0;8>T;++T)n(Ne,be+T*v.B,Z,te+32*T,8),n(ue,de+T*v.B,ce,ye+32*T,8)}}function bc(v,S,T,D,B,q,G,K,Z){var te=[0],ce=[0],ye=0,be=Z!=null?Z.kd:0,he=Z??new Td;if(v==null||12>T)return 7;he.data=v,he.w=S,he.ha=T,S=[S],T=[T],he.gb=[he.gb];e:{var Ce=S,Ne=T,ue=he.gb;if(e(v!=null),e(Ne!=null),e(ue!=null),ue[0]=0,12<=Ne[0]&&!r(v,Ce[0],"RIFF")){if(r(v,Ce[0]+8,"WEBP")){ue=3;break e}var de=Te(v,Ce[0]+4);if(12>de||4294967286<de){ue=3;break e}if(be&&de>Ne[0]-8){ue=7;break e}ue[0]=de,Ce[0]+=12,Ne[0]-=12}ue=0}if(ue!=0)return ue;for(de=0<he.gb[0],T=T[0];;){e:{var Ee=v;Ne=S,ue=T;var ke=te,Oe=ce,Ve=Ce=[0];if((Ue=ye=[ye])[0]=0,8>ue[0])ue=7;else{if(!r(Ee,Ne[0],"VP8X")){if(Te(Ee,Ne[0]+4)!=10){ue=3;break e}if(18>ue[0]){ue=7;break e}var Fe=Te(Ee,Ne[0]+8),tt=1+pe(Ee,Ne[0]+12);if(2147483648<=tt*(Ee=1+pe(Ee,Ne[0]+15))){ue=3;break e}Ve!=null&&(Ve[0]=Fe),ke!=null&&(ke[0]=tt),Oe!=null&&(Oe[0]=Ee),Ne[0]+=18,ue[0]-=18,Ue[0]=1}ue=0}}if(ye=ye[0],Ce=Ce[0],ue!=0)return ue;if(Ne=!!(2&Ce),!de&&ye)return 3;if(q!=null&&(q[0]=!!(16&Ce)),G!=null&&(G[0]=Ne),K!=null&&(K[0]=0),G=te[0],Ce=ce[0],ye&&Ne&&Z==null){ue=0;break}if(4>T){ue=7;break}if(de&&ye||!de&&!ye&&!r(v,S[0],"ALPH")){T=[T],he.na=[he.na],he.P=[he.P],he.Sa=[he.Sa];e:{Fe=v,ue=S,de=T;var Ue=he.gb;ke=he.na,Oe=he.P,Ve=he.Sa,tt=22,e(Fe!=null),e(de!=null),Ee=ue[0];var Bt=de[0];for(e(ke!=null),e(Ve!=null),ke[0]=null,Oe[0]=null,Ve[0]=0;;){if(ue[0]=Ee,de[0]=Bt,8>Bt){ue=7;break e}var Wt=Te(Fe,Ee+4);if(4294967286<Wt){ue=3;break e}var Dt=8+Wt+1&-2;if(tt+=Dt,0<Ue&&tt>Ue){ue=3;break e}if(!r(Fe,Ee,"VP8 ")||!r(Fe,Ee,"VP8L")){ue=0;break e}if(Bt[0]<Dt){ue=7;break e}r(Fe,Ee,"ALPH")||(ke[0]=Fe,Oe[0]=Ee+8,Ve[0]=Wt),Ee+=Dt,Bt-=Dt}}if(T=T[0],he.na=he.na[0],he.P=he.P[0],he.Sa=he.Sa[0],ue!=0)break}T=[T],he.Ja=[he.Ja],he.xa=[he.xa];e:if(Ue=v,ue=S,de=T,ke=he.gb[0],Oe=he.Ja,Ve=he.xa,Fe=ue[0],Ee=!r(Ue,Fe,"VP8 "),tt=!r(Ue,Fe,"VP8L"),e(Ue!=null),e(de!=null),e(Oe!=null),e(Ve!=null),8>de[0])ue=7;else{if(Ee||tt){if(Ue=Te(Ue,Fe+4),12<=ke&&Ue>ke-12){ue=3;break e}if(be&&Ue>de[0]-8){ue=7;break e}Oe[0]=Ue,ue[0]+=8,de[0]-=8,Ve[0]=tt}else Ve[0]=5<=de[0]&&Ue[Fe+0]==47&&!(Ue[Fe+4]>>5),Oe[0]=de[0];ue=0}if(T=T[0],he.Ja=he.Ja[0],he.xa=he.xa[0],S=S[0],ue!=0)break;if(4294967286<he.Ja)return 3;if(K==null||Ne||(K[0]=he.xa?2:1),G=[G],Ce=[Ce],he.xa){if(5>T){ue=7;break}K=G,be=Ce,Ne=q,v==null||5>T?v=0:5<=T&&v[S+0]==47&&!(v[S+4]>>5)?(de=[0],Ue=[0],ke=[0],X(Oe=new $,v,S,T),it(Oe,de,Ue,ke)?(K!=null&&(K[0]=de[0]),be!=null&&(be[0]=Ue[0]),Ne!=null&&(Ne[0]=ke[0]),v=1):v=0):v=0}else{if(10>T){ue=7;break}K=Ce,v==null||10>T||!dp(v,S+3,T-3)?v=0:(be=v[S+0]|v[S+1]<<8|v[S+2]<<16,Ne=16383&(v[S+7]<<8|v[S+6]),v=16383&(v[S+9]<<8|v[S+8]),1&be||3<(be>>1&7)||!(be>>4&1)||be>>5>=he.Ja||!Ne||!v?v=0:(G&&(G[0]=Ne),K&&(K[0]=v),v=1))}if(!v||(G=G[0],Ce=Ce[0],ye&&(te[0]!=G||ce[0]!=Ce)))return 3;Z!=null&&(Z[0]=he,Z.offset=S-Z.w,e(4294967286>S-Z.w),e(Z.offset==Z.ha-T));break}return ue==0||ue==7&&ye&&Z==null?(q!=null&&(q[0]|=he.na!=null&&0<he.na.length),D!=null&&(D[0]=G),B!=null&&(B[0]=Ce),0):ue}function Ld(v,S,T){var D=S.width,B=S.height,q=0,G=0,K=D,Z=B;if(S.Da=v!=null&&0<v.Da,S.Da&&(K=v.cd,Z=v.bd,q=v.v,G=v.j,11>T||(q&=-2,G&=-2),0>q||0>G||0>=K||0>=Z||q+K>D||G+Z>B))return 0;if(S.v=q,S.j=G,S.va=q+K,S.o=G+Z,S.U=K,S.T=Z,S.da=v!=null&&0<v.da,S.da){if(!Qe(K,Z,T=[v.ib],q=[v.hb]))return 0;S.ib=T[0],S.hb=q[0]}return S.ob=v!=null&&v.ob,S.Kb=v==null||!v.Sd,S.da&&(S.ob=S.ib<3*D/4&&S.hb<3*B/4,S.Kb=0),1}function Id(v){if(v==null)return 2;if(11>v.S){var S=v.f.RGBA;S.fb+=(v.height-1)*S.A,S.A=-S.A}else S=v.f.kb,v=v.height,S.O+=(v-1)*S.fa,S.fa=-S.fa,S.N+=(v-1>>1)*S.Ab,S.Ab=-S.Ab,S.W+=(v-1>>1)*S.Db,S.Db=-S.Db,S.F!=null&&(S.J+=(v-1)*S.lb,S.lb=-S.lb);return 0}function xc(v,S,T,D){if(D==null||0>=v||0>=S)return 2;if(T!=null){if(T.Da){var B=T.cd,q=T.bd,G=-2&T.v,K=-2&T.j;if(0>G||0>K||0>=B||0>=q||G+B>v||K+q>S)return 2;v=B,S=q}if(T.da){if(!Qe(v,S,B=[T.ib],q=[T.hb]))return 2;v=B[0],S=q[0]}}D.width=v,D.height=S;e:{var Z=D.width,te=D.height;if(v=D.S,0>=Z||0>=te||!(v>=Mp&&13>v))v=2;else{if(0>=D.Rd&&D.sd==null){G=q=B=S=0;var ce=(K=Z*SS[v])*te;if(11>v||(q=(te+1)/2*(S=(Z+1)/2),v==12&&(G=(B=Z)*te)),(te=i(ce+2*q+G))==null){v=1;break e}D.sd=te,11>v?((Z=D.f.RGBA).eb=te,Z.fb=0,Z.A=K,Z.size=ce):((Z=D.f.kb).y=te,Z.O=0,Z.fa=K,Z.Fd=ce,Z.f=te,Z.N=0+ce,Z.Ab=S,Z.Cd=q,Z.ea=te,Z.W=0+ce+q,Z.Db=S,Z.Ed=q,v==12&&(Z.F=te,Z.J=0+ce+2*q),Z.Tc=G,Z.lb=B)}if(S=1,B=D.S,q=D.width,G=D.height,B>=Mp&&13>B)if(11>B)v=D.f.RGBA,S&=(K=Math.abs(v.A))*(G-1)+q<=v.size,S&=K>=q*SS[B],S&=v.eb!=null;else{v=D.f.kb,K=(q+1)/2,ce=(G+1)/2,Z=Math.abs(v.fa),te=Math.abs(v.Ab);var ye=Math.abs(v.Db),be=Math.abs(v.lb),he=be*(G-1)+q;S&=Z*(G-1)+q<=v.Fd,S&=te*(ce-1)+K<=v.Cd,S=(S&=ye*(ce-1)+K<=v.Ed)&Z>=q&te>=K&ye>=K,S&=v.y!=null,S&=v.f!=null,S&=v.ea!=null,B==12&&(S&=be>=q,S&=he<=v.Tc,S&=v.F!=null)}else S=0;v=S?0:2}}return v!=0||T!=null&&T.fd&&(v=Id(D)),v}var un=64,wc=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Sc=24,Nc=32,$d=8,Gn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Re("Predictor0","PredictorAdd0"),O.Predictor0=function(){return 4278190080},O.Predictor1=function(v){return v},O.Predictor2=function(v,S,T){return S[T+0]},O.Predictor3=function(v,S,T){return S[T+1]},O.Predictor4=function(v,S,T){return S[T-1]},O.Predictor5=function(v,S,T){return Ie(Ie(v,S[T+1]),S[T+0])},O.Predictor6=function(v,S,T){return Ie(v,S[T-1])},O.Predictor7=function(v,S,T){return Ie(v,S[T+0])},O.Predictor8=function(v,S,T){return Ie(S[T-1],S[T+0])},O.Predictor9=function(v,S,T){return Ie(S[T+0],S[T+1])},O.Predictor10=function(v,S,T){return Ie(Ie(v,S[T-1]),Ie(S[T+0],S[T+1]))},O.Predictor11=function(v,S,T){var D=S[T+0];return 0>=ht(D>>24&255,v>>24&255,(S=S[T-1])>>24&255)+ht(D>>16&255,v>>16&255,S>>16&255)+ht(D>>8&255,v>>8&255,S>>8&255)+ht(255&D,255&v,255&S)?D:v},O.Predictor12=function(v,S,T){var D=S[T+0];return(Ze((v>>24&255)+(D>>24&255)-((S=S[T-1])>>24&255))<<24|Ze((v>>16&255)+(D>>16&255)-(S>>16&255))<<16|Ze((v>>8&255)+(D>>8&255)-(S>>8&255))<<8|Ze((255&v)+(255&D)-(255&S)))>>>0},O.Predictor13=function(v,S,T){var D=S[T-1];return(at((v=Ie(v,S[T+0]))>>24&255,D>>24&255)<<24|at(v>>16&255,D>>16&255)<<16|at(v>>8&255,D>>8&255)<<8|at(v>>0&255,D>>0&255))>>>0};var _0=O.PredictorAdd0;O.PredictorAdd1=St,Re("Predictor2","PredictorAdd2"),Re("Predictor3","PredictorAdd3"),Re("Predictor4","PredictorAdd4"),Re("Predictor5","PredictorAdd5"),Re("Predictor6","PredictorAdd6"),Re("Predictor7","PredictorAdd7"),Re("Predictor8","PredictorAdd8"),Re("Predictor9","PredictorAdd9"),Re("Predictor10","PredictorAdd10"),Re("Predictor11","PredictorAdd11"),Re("Predictor12","PredictorAdd12"),Re("Predictor13","PredictorAdd13");var Fd=O.PredictorAdd2;jt("ColorIndexInverseTransform","MapARGB","32b",function(v){return v>>8&255},function(v){return v}),jt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(v){return v},function(v){return v>>8&255});var Op,xa=O.ColorIndexInverseTransform,jc=O.MapARGB,Cp=O.VP8LColorIndexInverseTransformAlpha,Tp=O.MapAlpha,qs=O.VP8LPredictorsAdd=[];qs.length=16,(O.VP8LPredictors=[]).length=16,(O.VP8LPredictorsAdd_C=[]).length=16,(O.VP8LPredictors_C=[]).length=16;var Vo,Vn,Dn,Gs,cs,us,Ac,ds,kr,Bd,Mn,wa,_c,kp,Ud,Yo,Ko,Vs,Xo,Ec,Zo,Ys,zd,Sa,Na,ar,ir,Pr,Vr=i(511),fs=i(2041),Wd=i(225),Oc=i(767),Pp=0,E0=fs,Dp=Wd,oa=Oc,ja=Vr,Mp=0,Rp=1,dS=2,Lp=3,Ip=4,O0=5,fS=6,C0=7,T0=8,$p=9,k0=10,HM=[2,3,7],qM=[3,3,11],hS=[280,256,256,256,40],GM=[0,1,1,1,0],VM=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],YM=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],KM=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],XM=8,P0=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],D0=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Hd=null,ZM=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],QM=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],pS=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],JM=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],eR=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],tR=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],rR=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ks=[],ti=[],hs=[],nR=1,mS=2,Xs=[],Aa=[];je("UpsampleRgbLinePair",Tt,3),je("UpsampleBgrLinePair",br,3),je("UpsampleRgbaLinePair",ei,4),je("UpsampleBgraLinePair",en,4),je("UpsampleArgbLinePair",vn,4),je("UpsampleRgba4444LinePair",Ir,2),je("UpsampleRgb565LinePair",Nr,2);var aR=O.UpsampleRgbLinePair,iR=O.UpsampleBgrLinePair,gS=O.UpsampleRgbaLinePair,vS=O.UpsampleBgraLinePair,yS=O.UpsampleArgbLinePair,bS=O.UpsampleRgba4444LinePair,sR=O.UpsampleRgb565LinePair,Fp=16,Bp=1<<Fp-1,qd=-227,M0=482,oR=6,xS=0,lR=i(256),cR=i(256),uR=i(256),dR=i(256),fR=i(M0-qd),hR=i(M0-qd);Mi("YuvToRgbRow",Tt,3),Mi("YuvToBgrRow",br,3),Mi("YuvToRgbaRow",ei,4),Mi("YuvToBgraRow",en,4),Mi("YuvToArgbRow",vn,4),Mi("YuvToRgba4444Row",Ir,2),Mi("YuvToRgb565Row",Nr,2);var wS=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Up=[0,2,8],pR=[8,7,6,4,4,2,2,2,1,1,1,1],mR=1;this.WebPDecodeRGBA=function(v,S,T,D,B){var q=Rp,G=new vc,K=new Va;G.ba=K,K.S=q,K.width=[K.width],K.height=[K.height];var Z=K.width,te=K.height,ce=new is;if(ce==null||v==null)var ye=2;else e(ce!=null),ye=bc(v,S,T,ce.width,ce.height,ce.Pd,ce.Qd,ce.format,null);if(ye!=0?Z=0:(Z!=null&&(Z[0]=ce.width[0]),te!=null&&(te[0]=ce.height[0]),Z=1),Z){K.width=K.width[0],K.height=K.height[0],D!=null&&(D[0]=K.width),B!=null&&(B[0]=K.height);e:{if(D=new uc,(B=new Td).data=v,B.w=S,B.ha=T,B.kd=1,S=[0],e(B!=null),((v=bc(B.data,B.w,B.ha,null,null,null,S,null,B))==0||v==7)&&S[0]&&(v=4),(S=v)==0){if(e(G!=null),D.data=B.data,D.w=B.w+B.offset,D.ha=B.ha-B.offset,D.put=Ei,D.ac=cn,D.bc=Oi,D.ma=G,B.xa){if((v=ba())==null){G=1;break e}if(function(be,he){var Ce=[0],Ne=[0],ue=[0];t:for(;;){if(be==null)return 0;if(he==null)return be.a=2,0;if(be.l=he,be.a=0,X(be.m,he.data,he.w,he.ha),!it(be.m,Ce,Ne,ue)){be.a=3;break t}if(be.xb=mS,he.width=Ce[0],he.height=Ne[0],!ki(Ce[0],Ne[0],1,be,null))break t;return 1}return e(be.a!=0),0}(v,D)){if(D=(S=xc(D.width,D.height,G.Oa,G.ba))==0){t:{D=v;r:for(;;){if(D==null){D=0;break t}if(e(D.s.yc!=null),e(D.s.Ya!=null),e(0<D.s.Wb),e((T=D.l)!=null),e((B=T.ma)!=null),D.xb!=0){if(D.ca=B.ba,D.tb=B.tb,e(D.ca!=null),!Ld(B.Oa,T,Lp)){D.a=2;break r}if(!zo(D,T.width)||T.da)break r;if((T.da||Ut(D.ca.S))&&ge(),11>D.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),D.ca.f.kb.F!=null&&ge()),D.Pb&&0<D.s.ua&&D.s.vb.X==null&&!Me(D.s.vb,D.s.Wa.Xa)){D.a=1;break r}D.xb=0}if(!Za(D,D.V,D.Ba,D.c,D.i,T.o,ac))break r;B.Dc=D.Ma,D=1;break t}e(D.a!=0),D=0}D=!D}D&&(S=v.a)}else S=v.a}else{if((v=new o0)==null){G=1;break e}if(v.Fa=B.na,v.P=B.P,v.qc=B.Sa,fp(v,D)){if((S=xc(D.width,D.height,G.Oa,G.ba))==0){if(v.Aa=0,T=G.Oa,e((B=v)!=null),T!=null){if(0<(Z=0>(Z=T.Md)?0:100<Z?255:255*Z/100)){for(te=ce=0;4>te;++te)12>(ye=B.pb[te]).lc&&(ye.ia=Z*pR[0>ye.lc?0:ye.lc]>>3),ce|=ye.ia;ce&&(alert("todo:VP8InitRandom"),B.ia=1)}B.Ga=T.Id,100<B.Ga?B.Ga=100:0>B.Ga&&(B.Ga=0)}l0(v,D)||(S=v.a)}}else S=v.a}S==0&&G.Oa!=null&&G.Oa.fd&&(S=Id(G.ba))}G=S}q=G!=0?null:11>q?K.f.RGBA.eb:K.f.kb.y}else q=null;return q};var SS=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(O,k){for(var L="",C=0;C<4;C++)L+=String.fromCharCode(O[k++]);return L}function d(O,k){return(O[k+0]<<0|O[k+1]<<8|O[k+2]<<16)>>>0}function f(O,k){return(O[k+0]<<0|O[k+1]<<8|O[k+2]<<16|O[k+3]<<24)>>>0}new c;var h=[0],p=[0],g=[],m=new c,y=t,b=function(O,k){var L={},C=0,P=!1,I=0,M=0;if(L.frames=[],!function(W,ee,ae,oe){for(var me=0;me<oe;me++)if(W[ee+me]!=ae.charCodeAt(me))return!0;return!1}(O,k,"RIFF",4)){for(f(O,k+=4),k+=8;k<O.length;){var H=u(O,k),V=f(O,k+=4);k+=4;var F=V+(1&V);switch(H){case"VP8 ":case"VP8L":L.frames[C]===void 0&&(L.frames[C]={}),(Q=L.frames[C]).src_off=P?M:k-8,Q.src_size=I+V+8,C++,P&&(P=!1,I=0,M=0);break;case"VP8X":(Q=L.header={}).feature_flags=O[k];var X=k+4;Q.canvas_width=1+d(O,X),X+=3,Q.canvas_height=1+d(O,X),X+=3;break;case"ALPH":P=!0,I=F+8,M=k-8;break;case"ANIM":(Q=L.header).bgcolor=f(O,k),X=k+4,Q.loop_count=(se=O)[($=X)+0]<<0|se[$+1]<<8,X+=2;break;case"ANMF":var Y,Q;(Q=L.frames[C]={}).offset_x=2*d(O,k),k+=3,Q.offset_y=2*d(O,k),k+=3,Q.width=1+d(O,k),k+=3,Q.height=1+d(O,k),k+=3,Q.duration=d(O,k),k+=3,Y=O[k++],Q.dispose=1&Y,Q.blend=Y>>1&1}H!="ANMF"&&(k+=F)}var se,$;return L}}(y,0);b.response=y,b.rgbaoutput=!0,b.dataurl=!1;var x=b.header?b.header:null,N=b.frames?b.frames:null;if(x){x.loop_counter=x.loop_count,h=[x.canvas_height],p=[x.canvas_width];for(var A=0;A<N.length&&N[A].blend!=0;A++);}var w=N[0],j=m.WebPDecodeRGBA(y,w.src_off,w.src_size,p,h);w.rgba=j,w.imgwidth=p[0],w.imgheight=h[0];for(var E=0;E<p[0]*h[0]*4;E++)g[E]=j[E];return this.width=p,this.height=h,this.data=g,this}(function(t){var e=function(){return typeof Px=="function"},r=function(h,p,g,m){var y=4,b=s;switch(m){case t.image_compression.FAST:y=1,b=i;break;case t.image_compression.MEDIUM:y=6,b=o;break;case t.image_compression.SLOW:y=9,b=c}h=n(h,p,g,b);var x=Px(h,{level:y});return t.__addimage__.arrayBufferToBinaryString(x)},n=function(h,p,g,m){for(var y,b,x,N=h.length/p,A=new Uint8Array(h.length+N),w=d(),j=0;j<N;j+=1){if(x=j*p,y=h.subarray(x,x+p),m)A.set(m(y,g,b),x+j);else{for(var E,O=w.length,k=[];E<O;E+=1)k[E]=w[E](y,g,b);var L=f(k.concat());A.set(k[L],x+j)}b=y}return A},a=function(h){var p=Array.apply([],h);return p.unshift(0),p},i=function(h,p){var g,m=[],y=h.length;m[0]=1;for(var b=0;b<y;b+=1)g=h[b-p]||0,m[b+1]=h[b]-g+256&255;return m},s=function(h,p,g){var m,y=[],b=h.length;y[0]=2;for(var x=0;x<b;x+=1)m=g&&g[x]||0,y[x+1]=h[x]-m+256&255;return y},o=function(h,p,g){var m,y,b=[],x=h.length;b[0]=3;for(var N=0;N<x;N+=1)m=h[N-p]||0,y=g&&g[N]||0,b[N+1]=h[N]+256-(m+y>>>1)&255;return b},c=function(h,p,g){var m,y,b,x,N=[],A=h.length;N[0]=4;for(var w=0;w<A;w+=1)m=h[w-p]||0,y=g&&g[w]||0,b=g&&g[w-p]||0,x=u(m,y,b),N[w+1]=h[w]-x+256&255;return N},u=function(h,p,g){if(h===p&&p===g)return h;var m=Math.abs(p-g),y=Math.abs(h-g),b=Math.abs(h+p-g-g);return m<=y&&m<=b?h:y<=b?p:g},d=function(){return[a,i,s,o,c]},f=function(h){var p=h.map(function(g){return g.reduce(function(m,y){return m+Math.abs(y)},0)});return p.indexOf(Math.min.apply(null,p))};t.processPNG=function(h,p,g,m){var y,b,x,N,A,w,j,E,O,k,L,C,P,I,M,H=this.decode.FLATE_DECODE,V="";if(this.__addimage__.isArrayBuffer(h)&&(h=new Uint8Array(h)),this.__addimage__.isArrayBufferView(h)){if(h=(x=new nee(h)).imgData,b=x.bits,y=x.colorSpace,A=x.colors,[4,6].indexOf(x.colorType)!==-1){if(x.bits===8){O=(E=x.pixelBitlength==32?new Uint32Array(x.decodePixels().buffer):x.pixelBitlength==16?new Uint16Array(x.decodePixels().buffer):new Uint8Array(x.decodePixels().buffer)).length,L=new Uint8Array(O*x.colors),k=new Uint8Array(O);var F,X=x.pixelBitlength-x.bits;for(I=0,M=0;I<O;I++){for(P=E[I],F=0;F<X;)L[M++]=P>>>F&255,F+=x.bits;k[I]=P>>>F&255}}if(x.bits===16){O=(E=new Uint32Array(x.decodePixels().buffer)).length,L=new Uint8Array(O*(32/x.pixelBitlength)*x.colors),k=new Uint8Array(O*(32/x.pixelBitlength)),C=x.colors>1,I=0,M=0;for(var Y=0;I<O;)P=E[I++],L[M++]=P>>>0&255,C&&(L[M++]=P>>>16&255,P=E[I++],L[M++]=P>>>0&255),k[Y++]=P>>>16&255;b=8}m!==t.image_compression.NONE&&e()?(h=r(L,x.width*x.colors,x.colors,m),j=r(k,x.width,1,m)):(h=L,j=k,H=void 0)}if(x.colorType===3&&(y=this.color_spaces.INDEXED,w=x.palette,x.transparency.indexed)){var Q=x.transparency.indexed,se=0;for(I=0,O=Q.length;I<O;++I)se+=Q[I];if((se/=255)===O-1&&Q.indexOf(0)!==-1)N=[Q.indexOf(0)];else if(se!==O){for(E=x.decodePixels(),k=new Uint8Array(E.length),I=0,O=E.length;I<O;I++)k[I]=Q[E[I]];j=r(k,x.width,1)}}var $=function(W){var ee;switch(W){case t.image_compression.FAST:ee=11;break;case t.image_compression.MEDIUM:ee=13;break;case t.image_compression.SLOW:ee=14;break;default:ee=12}return ee}(m);return H===this.decode.FLATE_DECODE&&(V="/Predictor "+$+" "),V+="/Colors "+A+" /BitsPerComponent "+b+" /Columns "+x.width,(this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),(j&&this.__addimage__.isArrayBuffer(j)||this.__addimage__.isArrayBufferView(j))&&(j=this.__addimage__.arrayBufferToBinaryString(j)),{alias:g,data:h,index:p,filter:H,decodeParameters:V,transparency:N,palette:w,sMask:j,predictor:$,width:x.width,height:x.height,bitsPerComponent:b,colorSpace:y}}}})(ot.API),function(t){t.processGIF89A=function(e,r,n,a){var i=new aee(e),s=i.width,o=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:s,height:o},d=new pb(100).encode(u,100);return t.processJPEG.call(this,d,r,n,a)},t.processGIF87A=t.processGIF89A}(ot.API),ai.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ai.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){Jt.log("bit decode error:"+r)}},ai.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,a=0;a<e;a++)for(var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*a*4,o=0;o<8&&8*a+o<this.width;o++){var c=this.palette[i>>7-o&1];this.data[s+4*o]=c.blue,this.data[s+4*o+1]=c.green,this.data[s+4*o+2]=c.red,this.data[s+4*o+3]=255}r!==0&&(this.pos+=4-r)}},ai.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<t;a++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*a*4,o=i>>4,c=15&i,u=this.palette[o];if(this.data[s]=u.blue,this.data[s+1]=u.green,this.data[s+2]=u.red,this.data[s+3]=255,2*a+1>=this.width)break;u=this.palette[c],this.data[s+4]=u.blue,this.data[s+4+1]=u.green,this.data[s+4+2]=u.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},ai.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var s=this.palette[a];this.data[i]=s.red,this.data[i+1]=s.green,this.data[i+2]=s.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}t!==0&&(this.pos+=4-t)}},ai.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(i&e)/e*255|0,o=(i>>5&e)/e*255|0,c=(i>>10&e)/e*255|0,u=i>>15?255:0,d=n*this.width*4+4*a;this.data[d]=c,this.data[d+1]=o,this.data[d+2]=s,this.data[d+3]=u}this.pos+=t}},ai.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,c=(s>>5&r)/r*255|0,u=(s>>11)/e*255|0,d=a*this.width*4+4*i;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=o,this.data[d+3]=255}this.pos+=t}},ai.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*r;this.data[s]=i,this.data[s+1]=a,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},ai.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=s}},ai.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,a){var i=new ai(e,!1),s=i.width,o=i.height,c={data:i.getData(),width:s,height:o},u=new pb(100).encode(c,100);return t.processJPEG.call(this,u,r,n,a)}}(ot.API),Vj.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,a){var i=new Vj(e),s=i.width,o=i.height,c={data:i.getData(),width:s,height:o},u=new pb(100).encode(c,100);return t.processJPEG.call(this,u,r,n,a)}}(ot.API),ot.API.processRGBA=function(t,e,r){for(var n=t.data,a=n.length,i=new Uint8Array(a/4*3),s=new Uint8Array(a/4),o=0,c=0,u=0;u<a;u+=4){var d=n[u],f=n[u+1],h=n[u+2],p=n[u+3];i[o++]=d,i[o++]=f,i[o++]=h,s[c++]=p}var g=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:g,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},ot.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Lc=ot.API,sm=Lc.getCharWidthsArray=function(t,e){var r,n,a=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:a.metadata.Unicode.widths,c=o.fof?o.fof:1,u=e.kerning?e.kerning:a.metadata.Unicode.kerning,d=u.fof?u.fof:1,f=e.doKerning!==!1,h=0,p=t.length,g=0,m=o[0]||c,y=[];for(r=0;r<p;r++)n=t.charCodeAt(r),typeof a.metadata.widthOfString=="function"?y.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+s*(1e3/i)||0)/1e3):(h=f&&Ot(u[n])==="object"&&!isNaN(parseInt(u[n][g],10))?u[n][g]/d:0,y.push((o[n]||m)/c+h)),g=n;return y},Wj=Lc.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return Lc.processArabic&&(t=Lc.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,a)/r:sm.apply(this,arguments).reduce(function(i,s){return i+s},0)},Hj=function(t,e,r,n){for(var a=[],i=0,s=t.length,o=0;i!==s&&o+e[i]<r;)o+=e[i],i++;a.push(t.slice(0,i));var c=i;for(o=0;i!==s;)o+e[i]>n&&(a.push(t.slice(c,i)),o=0,c=i),o+=e[i],i++;return c!==i&&a.push(t.slice(c,i)),a},qj=function(t,e,r){r||(r={});var n,a,i,s,o,c,u,d=[],f=[d],h=r.textIndent||0,p=0,g=0,m=t.split(" "),y=sm.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?m[0].length+2:r.lineIndent||0){var b=Array(c).join(" "),x=[];m.map(function(A){(A=A.split(/\s*\n/)).length>1?x=x.concat(A.map(function(w,j){return(j&&w.length?`
`:"")+w})):x.push(A[0])}),m=x,c=Wj.apply(this,[b,r])}for(i=0,s=m.length;i<s;i++){var N=0;if(n=m[i],c&&n[0]==`
`&&(n=n.substr(1),N=1),h+p+(g=(a=sm.apply(this,[n,r])).reduce(function(A,w){return A+w},0))>e||N){if(g>e){for(o=Hj.apply(this,[n,a,e-(h+p),e]),d.push(o.shift()),d=[o.pop()];o.length;)f.push([o.shift()]);g=a.slice(n.length-(d[0]?d[0].length:0)).reduce(function(A,w){return A+w},0)}else d=[n];f.push(d),h=g+c,p=y}else d.push(n),h+=p+g,p=y}return u=c?function(A,w){return(w?b:"")+A.join(" ")}:function(A){return A.join(" ")},f.map(u)},Lc.splitTextToSize=function(t,e,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var f=this.internal.getFont(d.fontName,d.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var o,c,u=[];for(o=0,c=n.length;o<c;o++)u=u.concat(qj.apply(this,[n[o],s,i]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",r={},n={},a=0;a<e.length;a++)r[e[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=e[a];var i=function(f){return"0x"+parseInt(f,10).toString(16)},s=t.__fontmetrics__.compress=function(f){var h,p,g,m,y=["{"];for(var b in f){if(h=f[b],isNaN(parseInt(b,10))?p="'"+b+"'":(b=parseInt(b,10),p=(p=i(b).slice(2)).slice(0,-1)+n[p.slice(-1)]),typeof h=="number")h<0?(g=i(h).slice(3),m="-"):(g=i(h).slice(2),m=""),g=m+g.slice(0,-1)+n[g.slice(-1)];else{if(Ot(h)!=="object")throw new Error("Don't know what to do with value type "+Ot(h)+".");g=s(h)}y.push(p+g)}return y.push("}"),y.join("")},o=t.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,p,g,m,y={},b=1,x=y,N=[],A="",w="",j=f.length-1,E=1;E<j;E+=1)(m=f[E])=="'"?h?(g=h.join(""),h=void 0):h=[]:h?h.push(m):m=="{"?(N.push([x,g]),x={},g=void 0):m=="}"?((p=N.pop())[0][p[1]]=x,g=void 0,x=p[0]):m=="-"?b=-1:g===void 0?r.hasOwnProperty(m)?(A+=r[m],g=parseInt(A,16)*b,b=1,A=""):A+=m:r.hasOwnProperty(m)?(w+=r[m],x[g]=parseInt(w,16)*b,b=1,g=void 0,w=""):w+=m;return y},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},d={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(f){var h=f.font,p=d.Unicode[h.postScriptName];p&&(h.metadata.Unicode={},h.metadata.Unicode.widths=p.widths,h.metadata.Unicode.kerning=p.kerning);var g=u.Unicode[h.postScriptName];g&&(h.metadata.Unicode.encoding=g,h.encoding=g.codePages[0])}])}(ot.API),function(t){var e=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};t.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(Sf(o)),s.metadata=t.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(a,n)}}])}(ot),function(t){function e(){return(ct.canvg?Promise.resolve(ct.canvg):ox(()=>import("./index.es-eBY9kHGs.js"),__vite__mapDeps([0,1,2,3,4]))).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}ot.API.addSvgAsImage=function(r,n,a,i,s,o,c,u){if(isNaN(n)||isNaN(a))throw Jt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(s))throw Jt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=i,d.height=s;var f=d.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,d.width,d.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return e().then(function(g){return g.fromString(f,r,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(h)}).then(function(){p.addImage(d.toDataURL("image/jpeg",1),n,a,i,s,c,u)})}}(),ot.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(e,r);return this},ot.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,a,i,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),c=[],u=0,d=0,f=0;function h(g,m){var y,b=!1;for(y=0;y<g.length;y+=1)g[y]===m&&(b=!0);return b}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var p=o.length;for(f=0;f<p;f+=1)r[o[f]].value=r[o[f]].defaultValue,r[o[f]].explicitSet=!1}if(Ot(t)==="object"){for(a in t)if(i=t[a],h(o,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&h(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(u=0;u<i.length;u+=1)if(n=!0,i[u].length===1&&typeof i[u][0]=="number")c.push(String(i[u]-1));else if(i[u].length>1){for(d=0;d<i[u].length;d+=1)typeof i[u][d]!="number"&&(n=!1);n===!0&&c.push([i[u][0]-1,i[u][1]-1].join(" "))}r[a].value="["+c.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,m=[];for(g in r)r[g].explicitSet===!0&&(r[g].type==="name"?m.push("/"+g+" /"+r[g].value):m.push("/"+g+" "+r[g].value));m.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+m.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=i.length+s.length+o.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(a+i+s+o+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(ot.API),function(t){var e=t.API,r=e.pdfEscape16=function(i,s){for(var o,c=s.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],f=0,h=i.length;f<h;++f){if(o=s.metadata.characterToGlyph(i.charCodeAt(f)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=i.charCodeAt(f),c.indexOf(o)==-1&&(c.push(o),c.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return d.join("");o=o.toString(16),d.push(u[4-o.length],o)}return d.join("")},n=function(i){var s,o,c,u,d,f,h;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],f=0,h=(o=Object.keys(i).sort(function(p,g){return p-g})).length;f<h;f++)s=o[f],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[s]!==void 0&&i[s]!==null&&typeof i[s].toString=="function"&&(u=("0000"+i[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),c.push("<"+s+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(s){var o=s.font,c=s.out,u=s.newObject,d=s.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,h=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),p="",g=0;g<h.length;g++)p+=String.fromCharCode(h[g]);var m=u();d({data:p,addLength1:!0,objectId:m}),c("endobj");var y=u();d({data:n(o.metadata.toUnicode),addLength1:!0,objectId:y}),c("endobj");var b=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Wc(o.fontName)),c("/FontFile2 "+m+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),c("/Flags "+o.metadata.flags),c("/StemV "+o.metadata.stemV),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c(">>"),c("endobj");var x=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+Wc(o.fontName)),c("/FontDescriptor "+b+" 0 R"),c("/W "+t.API.PDFObject.convert(f)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+o.encoding+")"),c(">>"),c(">>"),c("endobj"),o.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+y+" 0 R"),c("/BaseFont /"+Wc(o.fontName)),c("/Encoding /"+o.encoding),c("/DescendantFonts ["+x+" 0 R]"),c(">>"),c("endobj"),o.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(s){var o=s.font,c=s.out,u=s.newObject,d=s.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,h="",p=0;p<f.length;p++)h+=String.fromCharCode(f[p]);var g=u();d({data:h,addLength1:!0,objectId:g}),c("endobj");var m=u();d({data:n(o.metadata.toUnicode),addLength1:!0,objectId:m}),c("endobj");var y=u();c("<<"),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c("/StemV "+o.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+g+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),c("/FontName /"+Wc(o.fontName)),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c(">>"),c("endobj"),o.objectNumber=u();for(var b=0;b<o.metadata.hmtx.widths.length;b++)o.metadata.hmtx.widths[b]=parseInt(o.metadata.hmtx.widths[b]*(1e3/o.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+m+" 0 R/BaseFont/"+Wc(o.fontName)+"/FontDescriptor "+y+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),c("endobj"),o.isAlreadyPutted=!0}})(i)}]);var a=function(i){var s,o=i.text||"",c=i.x,u=i.y,d=i.options||{},f=i.mutex||{},h=f.pdfEscape,p=f.activeFontKey,g=f.fonts,m=p,y="",b=0,x="",N=g[m].encoding;if(g[m].encoding!=="Identity-H")return{text:o,x:c,y:u,options:d,mutex:f};for(x=o,m=p,Array.isArray(o)&&(x=o[0]),b=0;b<x.length;b+=1)g[m].metadata.hasOwnProperty("cmap")&&(s=g[m].metadata.cmap.unicode.codeMap[x[b].charCodeAt(0)]),s||x[b].charCodeAt(0)<256&&g[m].metadata.hasOwnProperty("Unicode")?y+=x[b]:y+="";var A="";return parseInt(m.slice(1))<14||N==="WinAnsiEncoding"?A=h(y,m).split("").map(function(w){return w.charCodeAt(0).toString(16)}).join(""):N==="Identity-H"&&(A=r(y,g[m])),f.isHex=!0,{text:A,x:c,y:u,options:d,mutex:f}};e.events.push(["postProcessText",function(i){var s=i.text||"",o=[],c={text:s,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(s)){var u=0;for(u=0;u<s.length;u+=1)Array.isArray(s[u])&&s[u].length===3?o.push([a(Object.assign({},c,{text:s[u][0]})).text,s[u][1],s[u][2]]):o.push(a(Object.assign({},c,{text:s[u]})).text);i.text=o}else i.text=a(Object.assign({},c,{text:s})).text}])}(ot),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(ot.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var a,i,s,o,c,u,d,f=e,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},m={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},y=["(",")","(","<",">","<","[","]","[","{","}","{","Â«","Â»","Â«","â€¹","â€º","â€¹","â…","â†","â…","â½","â¾","â½","â‚","â‚Ž","â‚","â‰¤","â‰¥","â‰¤","âŒ©","âŒª","âŒ©","ï¹™","ï¹š","ï¹™","ï¹›","ï¹œ","ï¹›","ï¹","ï¹ž","ï¹","ï¹¤","ï¹¥","ï¹¤"],b=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),x=!1,N=0;this.__bidiEngine__={};var A=function(C){var P=C.charCodeAt(),I=P>>8,M=m[I];return M!==void 0?f[256*M+(255&P)]:I===252||I===253?"AL":b.test(I)?"L":I===8?"R":"N"},w=function(C){for(var P,I=0;I<C.length;I++){if((P=A(C.charAt(I)))==="L")return!1;if(P==="R")return!0}return!1},j=function(C,P,I,M){var H,V,F,X,Y=P[M];switch(Y){case"L":case"R":x=!1;break;case"N":case"AN":break;case"EN":x&&(Y="AN");break;case"AL":x=!0,Y="R";break;case"WS":Y="N";break;case"CS":M<1||M+1>=P.length||(H=I[M-1])!=="EN"&&H!=="AN"||(V=P[M+1])!=="EN"&&V!=="AN"?Y="N":x&&(V="AN"),Y=V===H?V:"N";break;case"ES":Y=(H=M>0?I[M-1]:"B")==="EN"&&M+1<P.length&&P[M+1]==="EN"?"EN":"N";break;case"ET":if(M>0&&I[M-1]==="EN"){Y="EN";break}if(x){Y="N";break}for(F=M+1,X=P.length;F<X&&P[F]==="ET";)F++;Y=F<X&&P[F]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(X=P.length,F=M+1;F<X&&P[F]==="NSM";)F++;if(F<X){var Q=C[M],se=Q>=1425&&Q<=2303||Q===64286;if(H=P[F],se&&(H==="R"||H==="AL")){Y="R";break}}}Y=M<1||(H=P[M-1])==="B"?"N":I[M-1];break;case"B":x=!1,a=!0,Y=N;break;case"S":i=!0,Y="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":x=!1;break;case"BN":Y="N"}return Y},E=function(C,P,I){var M=C.split("");return I&&O(M,I,{hiLevel:N}),M.reverse(),P&&P.reverse(),M.join("")},O=function(C,P,I){var M,H,V,F,X,Y=-1,Q=C.length,se=0,$=[],W=N?p:h,ee=[];for(x=!1,a=!1,i=!1,H=0;H<Q;H++)ee[H]=A(C[H]);for(V=0;V<Q;V++){if(X=se,$[V]=j(C,ee,$,V),M=240&(se=W[X][g[$[V]]]),se&=15,P[V]=F=W[se][5],M>0)if(M===16){for(H=Y;H<V;H++)P[H]=1;Y=-1}else Y=-1;if(W[se][6])Y===-1&&(Y=V);else if(Y>-1){for(H=Y;H<V;H++)P[H]=F;Y=-1}ee[V]==="B"&&(P[V]=0),I.hiLevel|=F}i&&function(ae,oe,me){for(var fe=0;fe<me;fe++)if(ae[fe]==="S"){oe[fe]=N;for(var J=fe-1;J>=0&&ae[J]==="WS";J--)oe[J]=N}}(ee,P,Q)},k=function(C,P,I,M,H){if(!(H.hiLevel<C)){if(C===1&&N===1&&!a)return P.reverse(),void(I&&I.reverse());for(var V,F,X,Y,Q=P.length,se=0;se<Q;){if(M[se]>=C){for(X=se+1;X<Q&&M[X]>=C;)X++;for(Y=se,F=X-1;Y<F;Y++,F--)V=P[Y],P[Y]=P[F],P[F]=V,I&&(V=I[Y],I[Y]=I[F],I[F]=V);se=X}se++}}},L=function(C,P,I){var M=C.split(""),H={hiLevel:N};return I||(I=[]),O(M,I,H),function(V,F,X){if(X.hiLevel!==0&&d)for(var Y,Q=0;Q<V.length;Q++)F[Q]===1&&(Y=y.indexOf(V[Q]))>=0&&(V[Q]=y[Y+1])}(M,I,H),k(2,M,P,I,H),k(1,M,P,I,H),M.join("")};return this.__bidiEngine__.doBidiReorder=function(C,P,I){if(function(H,V){if(V)for(var F=0;F<H.length;F++)V[F]=F;o===void 0&&(o=w(H)),u===void 0&&(u=w(H))}(C,P),s||!c||u)if(s&&c&&o^u)N=o?1:0,C=E(C,P,I);else if(!s&&c&&u)N=o?1:0,C=L(C,P,I),C=E(C,P);else if(!s||o||c||u){if(s&&!c&&o^u)C=E(C,P),o?(N=0,C=L(C,P,I)):(N=1,C=L(C,P,I),C=E(C,P));else if(s&&o&&!c&&u)N=1,C=L(C,P,I),C=E(C,P);else if(!s&&!c&&o^u){var M=d;o?(N=1,C=L(C,P,I),N=0,d=!1,C=L(C,P,I),d=M):(N=0,C=L(C,P,I),C=E(C,P),N=1,d=!1,C=L(C,P,I),d=M,C=E(C,P))}}else N=0,C=L(C,P,I);else N=o?1:0,C=L(C,P,I);return C},this.__bidiEngine__.setOptions=function(C){C&&(s=C.isInputVisual,c=C.isOutputVisual,o=C.isInputRtl,u=C.isOutputRtl,d=C.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var s=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var o=0;for(s=[],o=0;o<a.length;o+=1)Object.prototype.toString.call(a[o])==="[object Array]"?s.push([r.doBidiReorder(a[o][0]),a[o][1],a[o][2]]):s.push([r.doBidiReorder(a[o])]);n.text=s}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(ot),ot.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new _o(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new bee(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new iee(this.contents),this.head=new oee(this),this.name=new fee(this),this.cmap=new NP(this),this.toUnicode={},this.hhea=new lee(this),this.maxp=new hee(this),this.hmtx=new pee(this),this.post=new uee(this),this.os2=new cee(this),this.loca=new yee(this),this.glyf=new mee(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,c,u;for(u=[],s=0,o=(c=this.bbox).length;s<o;s++)e=c[s],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var a,i,s,o;for(s=0,i=0,o=(e=""+e).length;0<=o?i<o:i>o;i=0<=o?++i:--i)a=e.charCodeAt(i),s+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return s*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var Si,_o=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,a;for(a=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(e.charCodeAt(r)));return a},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,a,i,s,o,c;return e=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^s)+256*(255^o)+(255^c)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*s+256*o+c},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,a,i;for(i=[],n=0,a=e.length;n<a;n++)r=e[n],i.push(this.writeByte(r));return i},t}(),iee=function(){var t;function e(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,a,i,s,o,c,u,d,f,h,p,g,m;for(m in p=Object.keys(r).length,c=Math.log(2),f=16*Math.floor(Math.log(p)/c),s=Math.floor(f/c),d=16*p-f,(a=new _o).writeInt(this.scalarType),a.writeShort(p),a.writeShort(f),a.writeShort(s),a.writeShort(d),i=16*p,u=a.pos+i,o=null,g=[],r)for(h=r[m],a.writeString(m),a.writeInt(t(h)),a.writeInt(u),a.writeInt(h.length),g=g.concat(h),m==="head"&&(o=u),u+=h.length;u%4;)g.push(0),u++;return a.write(g),n=2981146554-t(a.data),a.pos=o+8,a.writeUInt32(n),a.data},t=function(r){var n,a,i,s;for(r=jP.call(r);r.length%4;)r.push(0);for(i=new _o(r),a=0,n=0,s=r.length;n<s;n=n+=4)a+=i.readUInt32();return 4294967295&a},e}(),see={}.hasOwnProperty,ns=function(t,e){for(var r in e)see.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Si=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var oee=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ns(e,Si),e.prototype.tag="head",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},e.prototype.encode=function(r){var n;return(n=new _o).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},e}(),Yj=function(){function t(e,r){var n,a,i,s,o,c,u,d,f,h,p,g,m,y,b,x,N;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(p=e.readUInt16(),h=p/2,e.pos+=6,i=function(){var A,w;for(w=[],c=A=0;0<=h?A<h:A>h;c=0<=h?++A:--A)w.push(e.readUInt16());return w}(),e.pos+=2,m=function(){var A,w;for(w=[],c=A=0;0<=h?A<h:A>h;c=0<=h?++A:--A)w.push(e.readUInt16());return w}(),u=function(){var A,w;for(w=[],c=A=0;0<=h?A<h:A>h;c=0<=h?++A:--A)w.push(e.readUInt16());return w}(),d=function(){var A,w;for(w=[],c=A=0;0<=h?A<h:A>h;c=0<=h?++A:--A)w.push(e.readUInt16());return w}(),a=(this.length-e.pos+this.offset)/2,o=function(){var A,w;for(w=[],c=A=0;0<=a?A<a:A>a;c=0<=a?++A:--A)w.push(e.readUInt16());return w}(),c=b=0,N=i.length;b<N;c=++b)for(y=i[c],n=x=g=m[c];g<=y?x<=y:x>=y;n=g<=y?++x:--x)d[c]===0?s=n+u[c]:(s=o[d[c]/2+(n-g)-(h-c)]||0)!==0&&(s+=u[c]),this.codeMap[n]=65535&s}e.pos=f}return t.encode=function(e,r){var n,a,i,s,o,c,u,d,f,h,p,g,m,y,b,x,N,A,w,j,E,O,k,L,C,P,I,M,H,V,F,X,Y,Q,se,$,W,ee,ae,oe,me,fe,J,ve,xe,pe;switch(M=new _o,s=Object.keys(e).sort(function(Te,Me){return Te-Me}),r){case"macroman":for(m=0,y=function(){var Te=[];for(g=0;g<256;++g)Te.push(0);return Te}(),x={0:0},i={},H=0,Y=s.length;H<Y;H++)x[J=e[a=s[H]]]==null&&(x[J]=++m),i[a]={old:e[a],new:x[e[a]]},y[a]=x[e[a]];return M.writeUInt16(1),M.writeUInt16(0),M.writeUInt32(12),M.writeUInt16(0),M.writeUInt16(262),M.writeUInt16(0),M.write(y),{charMap:i,subtable:M.data,maxGlyphID:m+1};case"unicode":for(P=[],f=[],N=0,x={},n={},b=u=null,V=0,Q=s.length;V<Q;V++)x[w=e[a=s[V]]]==null&&(x[w]=++N),n[a]={old:w,new:x[w]},o=x[w]-a,b!=null&&o===u||(b&&f.push(b),P.push(a),u=o),b=a;for(b&&f.push(b),f.push(65535),P.push(65535),L=2*(k=P.length),O=2*Math.pow(Math.log(k)/Math.LN2,2),h=Math.log(O/2)/Math.LN2,E=2*k-O,c=[],j=[],p=[],g=F=0,se=P.length;F<se;g=++F){if(C=P[g],d=f[g],C===65535){c.push(0),j.push(0);break}if(C-(I=n[C].new)>=32768)for(c.push(0),j.push(2*(p.length+k-g)),a=X=C;C<=d?X<=d:X>=d;a=C<=d?++X:--X)p.push(n[a].new);else c.push(I-C),j.push(0)}for(M.writeUInt16(3),M.writeUInt16(1),M.writeUInt32(12),M.writeUInt16(4),M.writeUInt16(16+8*k+2*p.length),M.writeUInt16(0),M.writeUInt16(L),M.writeUInt16(O),M.writeUInt16(h),M.writeUInt16(E),me=0,$=f.length;me<$;me++)a=f[me],M.writeUInt16(a);for(M.writeUInt16(0),fe=0,W=P.length;fe<W;fe++)a=P[fe],M.writeUInt16(a);for(ve=0,ee=c.length;ve<ee;ve++)o=c[ve],M.writeUInt16(o);for(xe=0,ae=j.length;xe<ae;xe++)A=j[xe],M.writeUInt16(A);for(pe=0,oe=p.length;pe<oe;pe++)m=p[pe],M.writeUInt16(m);return{charMap:n,subtable:M.data,maxGlyphID:N+1}}},t}(),NP=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ns(e,Si),e.prototype.tag="cmap",e.prototype.parse=function(r){var n,a,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)n=new Yj(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(r,n){var a,i;return n==null&&(n="macroman"),a=Yj.encode(r,n),(i=new _o).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},e}(),lee=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ns(e,Si),e.prototype.tag="hhea",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},e}(),cee=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ns(e,Si),e.prototype.tag="OS/2",e.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},e}(),uee=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ns(e,Si),e.prototype.tag="post",e.prototype.parse=function(r){var n,a,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var s;for(a=r.readUInt16(),this.glyphNameIndex=[],s=0;0<=a?s<a:s>a;s=0<=a?++s:--s)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var o,c,u;for(u=[],s=o=0,c=this.file.maxp.numGlyphs;0<=c?o<c:o>c;s=0<=c?++o:--o)u.push(r.readUInt32());return u}).call(this)}},e}(),dee=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},fee=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ns(e,Si),e.prototype.tag="name",e.prototype.parse=function(r){var n,a,i,s,o,c,u,d,f,h,p;for(r.pos=this.offset,r.readShort(),n=r.readShort(),c=r.readShort(),a=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+c+r.readShort()});for(u={},s=f=0,h=a.length;f<h;s=++f)i=a[s],r.pos=i.offset,d=r.readString(i.length),o=new dee(d,i),u[p=i.nameID]==null&&(u[p]=[]),u[i.nameID].push(o);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},e}(),hee=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ns(e,Si),e.prototype.tag="maxp",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},e}(),pee=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ns(e,Si),e.prototype.tag="hmtx",e.prototype.parse=function(r){var n,a,i,s,o,c,u;for(r.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,f;for(f=[],n=d=0;0<=i?d<i:d>i;n=0<=i?++d:--d)f.push(r.readInt16());return f}(),this.widths=(function(){var d,f,h,p;for(p=[],d=0,f=(h=this.metrics).length;d<f;d++)s=h[d],p.push(s.advance);return p}).call(this),a=this.widths[this.widths.length-1],u=[],n=o=0;0<=i?o<i:o>i;n=0<=i?++o:--o)u.push(this.widths.push(a));return u},e.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},e}(),jP=[].slice,mee=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ns(e,Si),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(r){var n,a,i,s,o,c,u,d,f,h;return r in this.cache?this.cache[r]:(s=this.file.loca,n=this.file.contents,a=s.indexOf(r),(i=s.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,o=(c=new _o(n.read(i))).readShort(),d=c.readShort(),h=c.readShort(),u=c.readShort(),f=c.readShort(),this.cache[r]=o===-1?new vee(c,d,h,u,f):new gee(c,o,d,h,u,f),this.cache[r]))},e.prototype.encode=function(r,n,a){var i,s,o,c,u;for(o=[],s=[],c=0,u=n.length;c<u;c++)i=r[n[c]],s.push(o.length),i&&(o=o.concat(i.encode(a)));return s.push(o.length),{table:o,offsets:s}},e}(),gee=function(){function t(e,r,n,a,i,s){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),vee=function(){function t(e,r,n,a,i){var s,o;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new _o(jP.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),yee=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ns(e,Si),e.prototype.tag="loca",e.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,s;for(s=[],a=0,i=this.length;a<i;a+=2)s.push(2*r.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],a=0,i=this.length;a<i;a+=4)s.push(r.readUInt32());return s}).call(this)},e.prototype.indexOf=function(r){return this.offsets[r]},e.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},e.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),i=0,s=0,o=0;o<a.length;++o)if(a[o]=i,s<n.length&&n[s]==o){++s,a[o]=i;var c=this.offsets[o],u=this.offsets[o+1]-c;u>0&&(i+=u)}for(var d=new Array(4*a.length),f=0;f<a.length;++f)d[4*f+3]=255&a[f],d[4*f+2]=(65280&a[f])>>8,d[4*f+1]=(16711680&a[f])>>16,d[4*f]=(4278190080&a[f])>>24;return d},e}(),bee=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,e={},i=this.subset)n=i[r],e[r]=a[n];return e},t.prototype.glyphsFor=function(e){var r,n,a,i,s,o,c;for(a={},s=0,o=e.length;s<o;s++)a[i=e[s]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))n=c[i],a[i]=n;return a},t.prototype.encode=function(e,r){var n,a,i,s,o,c,u,d,f,h,p,g,m,y,b;for(a in n=NP.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),p={0:0},b=n.charMap)p[(c=b[a]).old]=c.new;for(g in h=n.maxGlyphID,s)g in p||(p[g]=h++);return d=function(x){var N,A;for(N in A={},x)A[x[N]]=N;return A}(p),f=Object.keys(d).sort(function(x,N){return x-N}),m=function(){var x,N,A;for(A=[],x=0,N=f.length;x<N;x++)o=f[x],A.push(d[o]);return A}(),i=this.font.glyf.encode(s,m,p),u=this.font.loca.encode(i.offsets,m),y={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(y["OS/2"]=this.font.os2.raw()),this.font.directory.encode(y)},t}();ot.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,a,i,s;if(Array.isArray(r))return"["+function(){var o,c,u;for(u=[],o=0,c=r.length;o<c;o++)n=r[o],u.push(e.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)s=r[a],i.push("/"+a+" "+e.convert(s));return i.push(">>"),i.join(`
`)}return""+r},e}();const Kj=void 0;function xee(){const[t,e]=R.useState({title:"",description:"",event_date:"",start_time:"",end_time:"",location:"",school_level:"elementary",category:"",visibility:"public",estimated_budget:"",share_public:!1}),[r,n]=R.useState(""),[a,i]=R.useState(""),[s,o]=R.useState(!1),[c,u]=R.useState({type:"",season:"",audience:"",theme:"",goal:""}),[d,f]=R.useState(""),h=x=>{const{name:N,value:A,type:w,checked:j}=x.target;e(E=>({...E,[N]:w==="checkbox"?j:A}))},p=async x=>{x.preventDefault(),n(""),i("");const{data:{session:N},error:A}=await Ge.auth.getSession();if(A||!(N!=null&&N.access_token)){i("Authentication error. Please log in again.");return}try{const w=await fetch(`${Kj}/api/events`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${N.access_token}`},body:JSON.stringify(t)}),j=await w.json();if(!w.ok){i(j.error||"Failed to create event");return}n("Event created successfully!"),e({title:"",description:"",event_date:"",start_time:"",end_time:"",location:"",school_level:"elementary",category:"",visibility:"public",estimated_budget:"",share_public:!1})}catch(w){i("Failed to connect to server."),console.error("Submit error:",w)}},g=x=>{const{name:N,value:A}=x.target;u(w=>({...w,[N]:A}))},m=async()=>{f("Generating...");try{const{data:{session:x},error:N}=await Ge.auth.getSession();if(N||!(x!=null&&x.access_token)){f("Authentication error. Please log in again.");return}const A=await fetch(`${Kj}/api/ai/generate-event`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${x.access_token}`},body:JSON.stringify(c)});if(!A.ok)throw new Error(`API request failed: ${A.status}`);const w=await A.json();f(w.result)}catch(x){console.error("AI generation error:",x),f("AI generation failed. Please try again.")}},y=()=>{try{const x=JSON.parse(d);e(N=>({...N,title:x.title||"",description:x.description||"",event_date:x.event_date||"",category:x.category||"",school_level:x.school_level||"",location:x.location||"",estimated_budget:x.estimated_budget||""}))}catch(x){alert("Failed to parse AI response. Please review the output and enter manually."),console.error("Parse error:",x)}},b=()=>{try{const x=JSON.parse(d),N=new ot;N.setFontSize(14),N.text(x.title||"Event Summary",10,20),N.setFontSize(10),N.text(`Date: ${x.event_date||"TBD"}`,10,30),N.text(`Category: ${x.category||"N/A"}`,10,36),N.text(`School Level: ${x.school_level||"N/A"}`,10,42),N.setFontSize(12),N.text("Description:",10,52),N.setFontSize(10),N.text(N.splitTextToSize(x.description||"",180),10,58),N.setFontSize(12),N.text("Planning Tasks:",10,100),(x.tasks||[]).forEach((w,j)=>{N.text(`- ${w}`,10,106+j*6)}),N.save(`${x.title||"event-summary"}.pdf`)}catch(x){alert("Unable to print. Please check that the AI returned a valid result."),console.error("Print error:",x)}};return l.jsxs("div",{className:"max-w-2xl mx-auto p-6 space-y-6",children:[l.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Create New Event"}),l.jsxs("form",{onSubmit:p,className:"space-y-4",children:[l.jsx("input",{name:"title",value:t.title,onChange:h,placeholder:"Event Title",className:"w-full border p-2",required:!0}),l.jsx("textarea",{name:"description",value:t.description,onChange:h,placeholder:"Description",className:"w-full border p-2"}),l.jsx("input",{type:"date",name:"event_date",value:t.event_date,onChange:h,className:"w-full border p-2",required:!0}),l.jsx("input",{type:"time",name:"start_time",value:t.start_time,onChange:h,className:"w-full border p-2"}),l.jsx("input",{type:"time",name:"end_time",value:t.end_time,onChange:h,className:"w-full border p-2"}),l.jsx("input",{name:"location",value:t.location,onChange:h,placeholder:"Location",className:"w-full border p-2"}),l.jsxs("select",{name:"school_level",value:t.school_level,onChange:h,className:"w-full border p-2",children:[l.jsx("option",{value:"elementary",children:"Elementary"}),l.jsx("option",{value:"upper_elementary",children:"Upper Elementary"}),l.jsx("option",{value:"middle",children:"Middle"}),l.jsx("option",{value:"junior_high",children:"Junior High"}),l.jsx("option",{value:"high",children:"High School"})]}),l.jsx("input",{name:"category",value:t.category,onChange:h,placeholder:"Category (e.g., Fundraiser)",className:"w-full border p-2"}),l.jsx("input",{name:"estimated_budget",value:t.estimated_budget,onChange:h,placeholder:"Estimated Budget",className:"w-full border p-2"}),l.jsxs("select",{name:"visibility",value:t.visibility,onChange:h,className:"w-full border p-2",children:[l.jsx("option",{value:"public",children:"Public"}),l.jsx("option",{value:"private",children:"Private"})]}),l.jsxs("label",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",name:"share_public",checked:t.share_public,onChange:h}),l.jsx("span",{children:"Share this event to the PTO Connect Idea Library"})]}),l.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded",type:"submit",children:"Create Event"}),r&&l.jsx("p",{className:"text-green-600",children:r}),a&&l.jsx("p",{className:"text-red-600",children:a})]}),l.jsxs("div",{className:"border-t pt-6",children:[l.jsx("button",{onClick:()=>o(!s),className:"text-blue-600 underline",children:s?"Hide AI Event Assistant":"Use AI Event Assistant"}),s&&l.jsxs("div",{className:"mt-4 space-y-3",children:[l.jsx("h2",{className:"text-xl font-semibold",children:"AI Event Assistant"}),l.jsx("input",{type:"text",name:"type",placeholder:"Event Type",value:c.type,onChange:g,className:"w-full border p-2"}),l.jsx("input",{type:"text",name:"season",placeholder:"Season or Month",value:c.season,onChange:g,className:"w-full border p-2"}),l.jsx("input",{type:"text",name:"audience",placeholder:"Audience (e.g. families, teachers)",value:c.audience,onChange:g,className:"w-full border p-2"}),l.jsx("input",{type:"text",name:"theme",placeholder:"Theme (e.g. fall festival)",value:c.theme,onChange:g,className:"w-full border p-2"}),l.jsx("input",{type:"text",name:"goal",placeholder:"Goal (e.g. raise funds for library)",value:c.goal,onChange:g,className:"w-full border p-2"}),l.jsx("button",{onClick:m,className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",children:"Generate Event Idea"}),d&&l.jsxs("div",{className:"border p-4 mt-4 bg-gray-50 rounded",children:[l.jsx("pre",{className:"whitespace-pre-wrap text-sm",children:d}),l.jsxs("div",{className:"flex gap-2 mt-2",children:[l.jsx("button",{onClick:y,className:"bg-blue-500 text-white px-3 py-1 rounded hover:bg-blue-600",children:"Use This Event"}),l.jsx("button",{onClick:b,className:"bg-gray-600 text-white px-3 py-1 rounded hover:bg-gray-700",children:"Print Summary"})]})]})]})]})]})}const wee=({eventData:t,setEventData:e})=>l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Tell Stella About Your Event"}),l.jsx("p",{className:"text-gray-600",children:"Provide basic information about the event you want to create"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Title"}),l.jsx("input",{type:"text",value:t.title,onChange:r=>e(n=>({...n,title:r.target.value})),placeholder:"e.g., Fall Festival 2025",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Date"}),l.jsx("input",{type:"date",value:t.event_date,onChange:r=>e(n=>({...n,event_date:r.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expected Attendance"}),l.jsx("input",{type:"number",value:t.expected_attendance,onChange:r=>e(n=>({...n,expected_attendance:parseInt(r.target.value,10)||0})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estimated Budget"}),l.jsx("input",{type:"number",value:t.estimated_budget,onChange:r=>e(n=>({...n,estimated_budget:parseInt(r.target.value,10)||0})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),l.jsx("textarea",{value:t.description,onChange:r=>e(n=>({...n,description:r.target.value})),rows:"3",placeholder:"Brief description of your event...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]}),See=({stellaContext:t,handleStellaContextChange:e,handleAdditionalGoalsChange:r,handleResourcesChange:n,handleConstraintsChange:a})=>{const i=["Fall Festival","Spring Carnival","Book Fair","Science Night","Art Show","Talent Show","Movie Night","Game Night","Teacher Appreciation","Volunteer Recognition","Board Meeting","Fundraiser","Auction","Walk-a-thon","Bake Sale"],s=["Community Building","Fundraising","Educational Enhancement","Volunteer Appreciation","Student Recognition","Family Engagement","School Support","Cultural Celebration"],o=["All Families","Parents Only","Students & Families","Community Members","Teachers & Staff","Volunteers","Board Members","Local Businesses"],c=["Raise funds for specific programs","Showcase student work","Build community relationships","Recruit new volunteers","Celebrate achievements","Educate about school programs","Support teachers and staff","Create lasting memories"],u=["Dedicated parent volunteers","School facilities access","Local business partnerships","Previous event materials","Social media presence","Email communication list","Equipment and supplies","Budget for materials"],d=["Limited budget","Time constraints","Venue limitations","Weather dependent","Need school approval","Limited volunteers","Scheduling conflicts","Safety requirements"];return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Help Stella Understand Your Goals"}),l.jsx("p",{className:"text-gray-600",children:"This information helps Stella create the perfect workflow for your event"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Type"}),l.jsx("select",{value:t.eventType,onChange:f=>e("eventType",f.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:i.map(f=>l.jsx("option",{value:f,children:f},f))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Primary Goal"}),l.jsx("select",{value:t.primaryGoal,onChange:f=>e("primaryGoal",f.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:s.map(f=>l.jsx("option",{value:f,children:f},f))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Target Audience"}),l.jsx("select",{value:t.targetAudience,onChange:f=>e("targetAudience",f.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:o.map(f=>l.jsx("option",{value:f,children:f},f))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Goals"}),l.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto p-2 border rounded-md",children:c.map(f=>l.jsxs("label",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",checked:t.additionalGoals.includes(f),onChange:h=>r(f,h.target.checked),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),l.jsx("span",{className:"text-sm text-gray-700",children:f})]},f))})]}),l.jsxs("div",{className:"md:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Available Resources"}),l.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto p-2 border rounded-md",children:u.map(f=>l.jsxs("label",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",checked:t.availableResources.includes(f),onChange:h=>n(f,h.target.checked),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),l.jsx("span",{className:"text-sm text-gray-700",children:f})]},f))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Constraints"}),l.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto p-2 border rounded-md",children:d.map(f=>l.jsxs("label",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",checked:t.constraints.includes(f),onChange:h=>a(f,h.target.checked),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),l.jsx("span",{className:"text-sm text-gray-700",children:f})]},f))})]})]})]})]})},Nee=({progressUpdates:t})=>l.jsxs("div",{className:"text-center py-16",children:[l.jsxs("div",{className:"inline-block relative",children:[l.jsx(zr,{className:"text-purple-500 w-24 h-24 animate-pulse"}),l.jsx("div",{className:"absolute top-0 left-0 w-full h-full flex items-center justify-center",children:l.jsx("div",{className:"w-20 h-20 bg-purple-100 rounded-full animate-ping"})})]}),l.jsx("h2",{className:"text-2xl font-bold mt-8",children:"Stella is working her magic..."}),l.jsx("p",{className:"text-gray-600 mt-2",children:"Generating your comprehensive event workflow."}),l.jsx("div",{className:"mt-8 w-full max-w-md mx-auto",children:t.map((e,r)=>l.jsxs("div",{className:"flex items-center space-x-4 p-2",children:[l.jsx(e.icon,{className:`w-5 h-5 ${e.status==="complete"?"text-green-500":"text-gray-400 animate-pulse"}`}),l.jsx("span",{className:`text-sm ${e.status==="complete"?"text-gray-800":"text-gray-500"}`,children:e.text})]},r))})]}),jee=({workflowData:t})=>{var a,i,s;if(!t)return l.jsxs("div",{className:"text-center py-16",children:[l.jsx(WC,{className:"mx-auto w-12 h-12 text-red-500"}),l.jsx("h2",{className:"mt-4 text-xl font-bold",children:"Failed to Generate Workflow"}),l.jsx("p",{className:"mt-2 text-gray-600",children:"There was an issue generating the workflow. Please try again."}),l.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-6 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-100",children:"Back"})]});const e=((a=t.event)==null?void 0:a.title)||"Your Event",r=t.components_created||{},n=Object.values(r).filter(Boolean).length;return l.jsxs("div",{className:"p-4 sm:p-6 bg-white",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h2",{className:"text-3xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-indigo-600",children:"Your Workflow is Ready!"}),l.jsxs("p",{className:"mt-2 text-lg text-gray-600",children:['Stella has created a comprehensive plan for "',e,'".']})]}),l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 text-center mb-8",children:[l.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[l.jsx(In,{className:"w-8 h-8 text-green-500 mx-auto mb-2"}),l.jsx("p",{className:"font-bold text-xl",children:n}),l.jsx("p",{className:"text-sm text-gray-600",children:"Modules Integrated"})]}),l.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[l.jsx(_v,{className:"w-8 h-8 text-blue-500 mx-auto mb-2"}),l.jsx("p",{className:"font-bold text-xl",children:"Active"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Workflow Status"})]}),l.jsxs("div",{className:"bg-indigo-50 p-4 rounded-lg",children:[l.jsx($a,{className:"w-8 h-8 text-indigo-500 mx-auto mb-2"}),l.jsx("p",{className:"font-bold text-xl",children:((i=t.event)==null?void 0:i.expected_attendance)||"N/A"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Expected Guests"})]}),l.jsxs("div",{className:"bg-pink-50 p-4 rounded-lg",children:[l.jsx(Da,{className:"w-8 h-8 text-pink-500 mx-auto mb-2"}),l.jsxs("p",{className:"font-bold text-xl",children:["$",((s=t.event)==null?void 0:s.estimated_budget)||"0"]}),l.jsx("p",{className:"text-sm text-gray-600",children:"Est. Budget"})]})]}),l.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[l.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center",children:[l.jsx(ix,{className:"w-6 h-6 mr-2 text-yellow-500"}),"Next Steps"]}),l.jsxs("ol",{className:"list-decimal list-inside space-y-3 text-gray-700",children:[l.jsx("li",{children:"Review the generated budget and adjust line items as needed."}),l.jsx("li",{children:"Confirm volunteer roles and begin recruitment."}),l.jsx("li",{children:"Schedule communication campaigns for optimal timing."}),l.jsx("li",{children:"Set up project milestones and task assignments."}),l.jsx("li",{children:"Begin vendor outreach and facility reservations."})]})]})]})},Aee=()=>{const[t,e]=R.useState(0),[r,n]=R.useState(!1),[a,i]=R.useState(null),[s,o]=R.useState([]);xr();const[c,u]=R.useState({title:"Teacher appreciation - backend test",description:"Teacher appreciation event honoring the teachers each day for 5 days with small tokens like a coffee bar day or lunch catered , etc",event_date:"2025-07-07",start_time:"09:00",end_time:"15:00",location:"School Campus",expected_attendance:100,estimated_budget:2e3,category:"celebration"}),[d,f]=R.useState({eventType:"Teacher Appreciation",primaryGoal:"School Support",targetAudience:"Teachers & Staff",additionalGoals:["Build community relationships"],availableResources:["Dedicated parent volunteers","Local business partnerships","Previous event materials"],constraints:["Time constraints"],pastEventExperiences:"Previous TA experience"}),[h,p]=R.useState({createBudget:!0,generateTimeline:!0,setupCommunications:!0,createVolunteerRoles:!0,planMaterials:!0,scheduleReminders:!0,trackProgress:!0,generateReports:!0}),g=(w,j)=>f(E=>({...E,[w]:j})),m=(w,j,E)=>{f(O=>{const k=O[w]||[],L=E?[...k,j]:k.filter(C=>C!==j);return{...O,[w]:L}})},y=(w,j)=>m("additionalGoals",w,j),b=(w,j)=>m("availableResources",w,j),x=(w,j)=>m("constraints",w,j),N=async()=>{n(!0),e(2),o([{text:"Initializing workflow generation...",status:"in-progress",icon:_v}]);try{console.log("Submitting to API:",{eventData:c,stellaContext:d,moduleIntegrations:h});const w=await bo.generateComprehensiveWorkflow(c,d,h);if(w&&w.data&&w.data.success){i(w.data);const j=w.data.components_created||{},E=[{text:"Event created",status:"complete",icon:In},{text:"Timeline generation",status:j.timeline?"complete":"skipped",icon:j.timeline?In:Xn},{text:"Budget planning",status:j.budget?"complete":"skipped",icon:j.budget?In:Xn},{text:"Communications setup",status:j.communications?"complete":"skipped",icon:j.communications?In:Xn},{text:"Volunteer roles",status:j.volunteers?"complete":"skipped",icon:j.volunteers?In:Xn},{text:"Materials & Resources",status:j.materials?"complete":"skipped",icon:j.materials?In:Xn},{text:"Reminders & Notifications",status:j.reminders?"complete":"skipped",icon:j.reminders?In:Xn},{text:"Workflow ready!",status:"complete",icon:CR}];o(E),e(3),ut.success("ðŸŽ‰ Comprehensive workflow created successfully!")}else{const j=(w==null?void 0:w.error)||"Workflow generation failed: An unknown error occurred.";ut.error(j),i(null),e(3)}}catch(w){const j=w.message||"An unexpected error occurred.";ut.error(`Error: ${j}`),i(null),e(3)}finally{n(!1)}},A=[{name:"Event Details",component:l.jsx(wee,{eventData:c,setEventData:u})},{name:"Stella Context",component:l.jsx(See,{stellaContext:d,handleStellaContextChange:g,handleAdditionalGoalsChange:y,handleResourcesChange:b,handleConstraintsChange:x})},{name:"Generation",component:l.jsx(Nee,{progressUpdates:s})},{name:"Results",component:l.jsx(jee,{workflowData:a})}];return l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"w-full max-w-4xl bg-white rounded-2xl shadow-xl p-8 space-y-8",children:[l.jsx("nav",{"aria-label":"Progress",children:l.jsx("ol",{role:"list",className:"space-y-4 md:flex md:space-x-8 md:space-y-0",children:A.slice(0,2).map((w,j)=>l.jsx("li",{className:"md:flex-1",children:t>j?l.jsxs("a",{href:"#",className:"group flex w-full flex-col border-l-4 border-purple-600 py-2 pl-4 transition-colors hover:border-purple-800 md:border-l-0 md:border-t-4 md:pb-0 md:pl-0 md:pt-4",children:[l.jsx("span",{className:"text-sm font-medium text-purple-600 transition-colors group-hover:text-purple-800",children:`Step ${j+1}`}),l.jsx("span",{className:"text-sm font-medium",children:w.name})]}):t===j?l.jsxs("a",{href:"#",className:"flex w-full flex-col border-l-4 border-purple-600 py-2 pl-4 md:border-l-0 md:border-t-4 md:pb-0 md:pl-0 md:pt-4","aria-current":"step",children:[l.jsx("span",{className:"text-sm font-medium text-purple-600",children:`Step ${j+1}`}),l.jsx("span",{className:"text-sm font-medium",children:w.name})]}):l.jsxs("a",{href:"#",className:"group flex w-full flex-col border-l-4 border-gray-200 py-2 pl-4 transition-colors hover:border-gray-300 md:border-l-0 md:border-t-4 md:pb-0 md:pl-0 md:pt-4",children:[l.jsx("span",{className:"text-sm font-medium text-gray-500 transition-colors group-hover:text-gray-700",children:`Step ${j+1}`}),l.jsx("span",{className:"text-sm font-medium",children:w.name})]})},w.name))})}),l.jsx("div",{children:A[t].component}),l.jsxs("div",{className:"flex justify-between pt-4 border-t",children:[l.jsx("button",{onClick:()=>e(w=>Math.max(0,w-1)),disabled:t===0||r||t>1,className:"px-6 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-100 disabled:opacity-50",children:"Back"}),t<1&&l.jsx("button",{onClick:()=>e(w=>w+1),className:"px-6 py-2 bg-purple-600 text-white rounded-md text-sm font-medium hover:bg-purple-700",children:"Next"}),t===1&&l.jsxs("button",{onClick:N,disabled:r,className:"px-6 py-2 bg-green-600 text-white rounded-md text-sm font-medium hover:bg-green-700 disabled:opacity-50 flex items-center",children:[r?"Generating...":"Create Workflow",!r&&l.jsx(zr,{className:"w-4 h-4 ml-2"})]})]})]})})};var ny,nt,AP,_P,yu,pl,Xj,EP,OP,cg={},CP=[],_ee=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function uo(t,e){for(var r in e)t[r]=e[r];return t}function TP(t){var e=t.parentNode;e&&e.removeChild(t)}function ie(t,e,r){var n,a,i,s={};for(i in e)i=="key"?n=e[i]:i=="ref"?a=e[i]:s[i]=e[i];if(arguments.length>2&&(s.children=arguments.length>3?ny.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(i in t.defaultProps)s[i]===void 0&&(s[i]=t.defaultProps[i]);return Um(t,s,n,a,null)}function Um(t,e,r,n,a){var i={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:a??++AP};return a==null&&nt.vnode!=null&&nt.vnode(i),i}function Wn(){return{current:null}}function Xt(t){return t.children}function Eee(t,e,r,n,a){var i;for(i in r)i==="children"||i==="key"||i in e||ug(t,i,null,r[i],n);for(i in e)a&&typeof e[i]!="function"||i==="children"||i==="key"||i==="value"||i==="checked"||r[i]===e[i]||ug(t,i,e[i],r[i],n)}function Zj(t,e,r){e[0]==="-"?t.setProperty(e,r??""):t[e]=r==null?"":typeof r!="number"||_ee.test(e)?r:r+"px"}function ug(t,e,r,n,a){var i;e:if(e==="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||Zj(t.style,e,"");if(r)for(e in r)n&&r[e]===n[e]||Zj(t.style,e,r[e])}else if(e[0]==="o"&&e[1]==="n")i=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+i]=r,r?n||t.addEventListener(e,i?Jj:Qj,i):t.removeEventListener(e,i?Jj:Qj,i);else if(e!=="dangerouslySetInnerHTML"){if(a)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&e.indexOf("-")==-1?t.removeAttribute(e):t.setAttribute(e,r))}}function Qj(t){yu=!0;try{return this.l[t.type+!1](nt.event?nt.event(t):t)}finally{yu=!1}}function Jj(t){yu=!0;try{return this.l[t.type+!0](nt.event?nt.event(t):t)}finally{yu=!1}}function ga(t,e){this.props=t,this.context=e}function Jf(t,e){if(e==null)return t.__?Jf(t.__,t.__.__k.indexOf(t)+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?Jf(t):null}function kP(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return kP(t)}}function Oee(t){yu?setTimeout(t):EP(t)}function Fx(t){(!t.__d&&(t.__d=!0)&&pl.push(t)&&!dg.__r++||Xj!==nt.debounceRendering)&&((Xj=nt.debounceRendering)||Oee)(dg)}function dg(){var t,e,r,n,a,i,s,o;for(pl.sort(function(c,u){return c.__v.__b-u.__v.__b});t=pl.shift();)t.__d&&(e=pl.length,n=void 0,a=void 0,s=(i=(r=t).__v).__e,(o=r.__P)&&(n=[],(a=uo({},i)).__v=i.__v+1,k2(o,i,a,r.__n,o.ownerSVGElement!==void 0,i.__h!=null?[s]:null,n,s??Jf(i),i.__h),LP(n,i),i.__e!=s&&kP(i)),pl.length>e&&pl.sort(function(c,u){return c.__v.__b-u.__v.__b}));dg.__r=0}function PP(t,e,r,n,a,i,s,o,c,u){var d,f,h,p,g,m,y,b=n&&n.__k||CP,x=b.length;for(r.__k=[],d=0;d<e.length;d++)if((p=r.__k[d]=(p=e[d])==null||typeof p=="boolean"?null:typeof p=="string"||typeof p=="number"||typeof p=="bigint"?Um(null,p,null,null,p):Array.isArray(p)?Um(Xt,{children:p},null,null,null):p.__b>0?Um(p.type,p.props,p.key,p.ref?p.ref:null,p.__v):p)!=null){if(p.__=r,p.__b=r.__b+1,(h=b[d])===null||h&&p.key==h.key&&p.type===h.type)b[d]=void 0;else for(f=0;f<x;f++){if((h=b[f])&&p.key==h.key&&p.type===h.type){b[f]=void 0;break}h=null}k2(t,p,h=h||cg,a,i,s,o,c,u),g=p.__e,(f=p.ref)&&h.ref!=f&&(y||(y=[]),h.ref&&y.push(h.ref,null,p),y.push(f,p.__c||g,p)),g!=null?(m==null&&(m=g),typeof p.type=="function"&&p.__k===h.__k?p.__d=c=DP(p,c,t):c=MP(t,p,h,b,g,c),typeof r.type=="function"&&(r.__d=c)):c&&h.__e==c&&c.parentNode!=t&&(c=Jf(h))}for(r.__e=m,d=x;d--;)b[d]!=null&&(typeof r.type=="function"&&b[d].__e!=null&&b[d].__e==r.__d&&(r.__d=RP(n).nextSibling),$P(b[d],b[d]));if(y)for(d=0;d<y.length;d++)IP(y[d],y[++d],y[++d])}function DP(t,e,r){for(var n,a=t.__k,i=0;a&&i<a.length;i++)(n=a[i])&&(n.__=t,e=typeof n.type=="function"?DP(n,e,r):MP(r,n,n,a,n.__e,e));return e}function fg(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(r){fg(r,e)}):e.push(t)),e}function MP(t,e,r,n,a,i){var s,o,c;if(e.__d!==void 0)s=e.__d,e.__d=void 0;else if(r==null||a!=i||a.parentNode==null)e:if(i==null||i.parentNode!==t)t.appendChild(a),s=null;else{for(o=i,c=0;(o=o.nextSibling)&&c<n.length;c+=1)if(o==a)break e;t.insertBefore(a,i),s=i}return s!==void 0?s:a.nextSibling}function RP(t){var e,r,n;if(t.type==null||typeof t.type=="string")return t.__e;if(t.__k){for(e=t.__k.length-1;e>=0;e--)if((r=t.__k[e])&&(n=RP(r)))return n}return null}function k2(t,e,r,n,a,i,s,o,c){var u,d,f,h,p,g,m,y,b,x,N,A,w,j,E,O=e.type;if(e.constructor!==void 0)return null;r.__h!=null&&(c=r.__h,o=e.__e=r.__e,e.__h=null,i=[o]),(u=nt.__b)&&u(e);try{e:if(typeof O=="function"){if(y=e.props,b=(u=O.contextType)&&n[u.__c],x=u?b?b.props.value:u.__:n,r.__c?m=(d=e.__c=r.__c).__=d.__E:("prototype"in O&&O.prototype.render?e.__c=d=new O(y,x):(e.__c=d=new ga(y,x),d.constructor=O,d.render=Tee),b&&b.sub(d),d.props=y,d.state||(d.state={}),d.context=x,d.__n=n,f=d.__d=!0,d.__h=[],d._sb=[]),d.__s==null&&(d.__s=d.state),O.getDerivedStateFromProps!=null&&(d.__s==d.state&&(d.__s=uo({},d.__s)),uo(d.__s,O.getDerivedStateFromProps(y,d.__s))),h=d.props,p=d.state,d.__v=e,f)O.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),d.componentDidMount!=null&&d.__h.push(d.componentDidMount);else{if(O.getDerivedStateFromProps==null&&y!==h&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(y,x),!d.__e&&d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(y,d.__s,x)===!1||e.__v===r.__v){for(e.__v!==r.__v&&(d.props=y,d.state=d.__s,d.__d=!1),e.__e=r.__e,e.__k=r.__k,e.__k.forEach(function(k){k&&(k.__=e)}),N=0;N<d._sb.length;N++)d.__h.push(d._sb[N]);d._sb=[],d.__h.length&&s.push(d);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(y,d.__s,x),d.componentDidUpdate!=null&&d.__h.push(function(){d.componentDidUpdate(h,p,g)})}if(d.context=x,d.props=y,d.__P=t,A=nt.__r,w=0,"prototype"in O&&O.prototype.render){for(d.state=d.__s,d.__d=!1,A&&A(e),u=d.render(d.props,d.state,d.context),j=0;j<d._sb.length;j++)d.__h.push(d._sb[j]);d._sb=[]}else do d.__d=!1,A&&A(e),u=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++w<25);d.state=d.__s,d.getChildContext!=null&&(n=uo(uo({},n),d.getChildContext())),f||d.getSnapshotBeforeUpdate==null||(g=d.getSnapshotBeforeUpdate(h,p)),E=u!=null&&u.type===Xt&&u.key==null?u.props.children:u,PP(t,Array.isArray(E)?E:[E],e,r,n,a,i,s,o,c),d.base=e.__e,e.__h=null,d.__h.length&&s.push(d),m&&(d.__E=d.__=null),d.__e=!1}else i==null&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=Cee(r.__e,e,r,n,a,i,s,c);(u=nt.diffed)&&u(e)}catch(k){e.__v=null,(c||i!=null)&&(e.__e=o,e.__h=!!c,i[i.indexOf(o)]=null),nt.__e(k,e,r)}}function LP(t,e){nt.__c&&nt.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(n){n.call(r)})}catch(n){nt.__e(n,r.__v)}})}function Cee(t,e,r,n,a,i,s,o){var c,u,d,f=r.props,h=e.props,p=e.type,g=0;if(p==="svg"&&(a=!0),i!=null){for(;g<i.length;g++)if((c=i[g])&&"setAttribute"in c==!!p&&(p?c.localName===p:c.nodeType===3)){t=c,i[g]=null;break}}if(t==null){if(p===null)return document.createTextNode(h);t=a?document.createElementNS("http://www.w3.org/2000/svg",p):document.createElement(p,h.is&&h),i=null,o=!1}if(p===null)f===h||o&&t.data===h||(t.data=h);else{if(i=i&&ny.call(t.childNodes),u=(f=r.props||cg).dangerouslySetInnerHTML,d=h.dangerouslySetInnerHTML,!o){if(i!=null)for(f={},g=0;g<t.attributes.length;g++)f[t.attributes[g].name]=t.attributes[g].value;(d||u)&&(d&&(u&&d.__html==u.__html||d.__html===t.innerHTML)||(t.innerHTML=d&&d.__html||""))}if(Eee(t,h,f,a,o),d)e.__k=[];else if(g=e.props.children,PP(t,Array.isArray(g)?g:[g],e,r,n,a&&p!=="foreignObject",i,s,i?i[0]:r.__k&&Jf(r,0),o),i!=null)for(g=i.length;g--;)i[g]!=null&&TP(i[g]);o||("value"in h&&(g=h.value)!==void 0&&(g!==t.value||p==="progress"&&!g||p==="option"&&g!==f.value)&&ug(t,"value",g,f.value,!1),"checked"in h&&(g=h.checked)!==void 0&&g!==t.checked&&ug(t,"checked",g,f.checked,!1))}return t}function IP(t,e,r){try{typeof t=="function"?t(e):t.current=e}catch(n){nt.__e(n,r)}}function $P(t,e,r){var n,a;if(nt.unmount&&nt.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||IP(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(i){nt.__e(i,e)}n.base=n.__P=null,t.__c=void 0}if(n=t.__k)for(a=0;a<n.length;a++)n[a]&&$P(n[a],e,r||typeof t.type!="function");r||t.__e==null||TP(t.__e),t.__=t.__e=t.__d=void 0}function Tee(t,e,r){return this.constructor(t,r)}function eh(t,e,r){var n,a,i;nt.__&&nt.__(t,e),a=(n=!1)?null:e.__k,i=[],k2(e,t=e.__k=ie(Xt,null,[t]),a||cg,cg,e.ownerSVGElement!==void 0,a?null:e.firstChild?ny.call(e.childNodes):null,i,a?a.__e:e.firstChild,n),LP(i,t)}function kee(t,e){var r={__c:e="__cC"+OP++,__:t,Consumer:function(n,a){return n.children(a)},Provider:function(n){var a,i;return this.getChildContext||(a=[],(i={})[e]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(s){this.props.value!==s.value&&a.some(function(o){o.__e=!0,Fx(o)})},this.sub=function(s){a.push(s);var o=s.componentWillUnmount;s.componentWillUnmount=function(){a.splice(a.indexOf(s),1),o&&o.call(s)}}),n.children}};return r.Provider.__=r.Consumer.contextType=r}ny=CP.slice,nt={__e:function(t,e,r,n){for(var a,i,s;e=e.__;)if((a=e.__c)&&!a.__)try{if((i=a.constructor)&&i.getDerivedStateFromError!=null&&(a.setState(i.getDerivedStateFromError(t)),s=a.__d),a.componentDidCatch!=null&&(a.componentDidCatch(t,n||{}),s=a.__d),s)return a.__E=a}catch(o){t=o}throw t}},AP=0,_P=function(t){return t!=null&&t.constructor===void 0},yu=!1,ga.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=uo({},this.state),typeof t=="function"&&(t=t(uo({},r),this.props)),t&&uo(r,t),t!=null&&this.__v&&(e&&this._sb.push(e),Fx(this))},ga.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Fx(this))},ga.prototype.render=Xt,pl=[],EP=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,dg.__r=0,OP=0;var zi,mb,eA,FP=[],gb=[],tA=nt.__b,rA=nt.__r,nA=nt.diffed,aA=nt.__c,iA=nt.unmount;function Pee(){for(var t;t=FP.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(zm),t.__H.__h.forEach(Bx),t.__H.__h=[]}catch(e){t.__H.__h=[],nt.__e(e,t.__v)}}nt.__b=function(t){zi=null,tA&&tA(t)},nt.__r=function(t){rA&&rA(t);var e=(zi=t.__c).__H;e&&(mb===zi?(e.__h=[],zi.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.__V=gb,r.__N=r.i=void 0})):(e.__h.forEach(zm),e.__h.forEach(Bx),e.__h=[])),mb=zi},nt.diffed=function(t){nA&&nA(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(FP.push(e)!==1&&eA===nt.requestAnimationFrame||((eA=nt.requestAnimationFrame)||Dee)(Pee)),e.__H.__.forEach(function(r){r.i&&(r.__H=r.i),r.__V!==gb&&(r.__=r.__V),r.i=void 0,r.__V=gb})),mb=zi=null},nt.__c=function(t,e){e.some(function(r){try{r.__h.forEach(zm),r.__h=r.__h.filter(function(n){return!n.__||Bx(n)})}catch(n){e.some(function(a){a.__h&&(a.__h=[])}),e=[],nt.__e(n,r.__v)}}),aA&&aA(t,e)},nt.unmount=function(t){iA&&iA(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{zm(n)}catch(a){e=a}}),r.__H=void 0,e&&nt.__e(e,r.__v))};var sA=typeof requestAnimationFrame=="function";function Dee(t){var e,r=function(){clearTimeout(n),sA&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,100);sA&&(e=requestAnimationFrame(r))}function zm(t){var e=zi,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),zi=e}function Bx(t){var e=zi;t.__c=t.__(),zi=e}function Mee(t,e){for(var r in e)t[r]=e[r];return t}function oA(t,e){for(var r in t)if(r!=="__source"&&!(r in e))return!0;for(var n in e)if(n!=="__source"&&t[n]!==e[n])return!0;return!1}function lA(t){this.props=t}(lA.prototype=new ga).isPureReactComponent=!0,lA.prototype.shouldComponentUpdate=function(t,e){return oA(this.props,t)||oA(this.state,e)};var cA=nt.__b;nt.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),cA&&cA(t)};var Ree=nt.__e;nt.__e=function(t,e,r,n){if(t.then){for(var a,i=e;i=i.__;)if((a=i.__c)&&a.__c)return e.__e==null&&(e.__e=r.__e,e.__k=r.__k),a.__c(t,e)}Ree(t,e,r,n)};var uA=nt.unmount;function BP(t,e,r){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(n){typeof n.__c=="function"&&n.__c()}),t.__c.__H=null),(t=Mee({},t)).__c!=null&&(t.__c.__P===r&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(n){return BP(n,e,r)})),t}function UP(t,e,r){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(n){return UP(n,e,r)}),t.__c&&t.__c.__P===e&&(t.__e&&r.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=r)),t}function vb(){this.__u=0,this.t=null,this.__b=null}function zP(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function om(){this.u=null,this.o=null}nt.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&t.__h===!0&&(t.type=null),uA&&uA(t)},(vb.prototype=new ga).__c=function(t,e){var r=e.__c,n=this;n.t==null&&(n.t=[]),n.t.push(r);var a=zP(n.__v),i=!1,s=function(){i||(i=!0,r.__R=null,a?a(o):o())};r.__R=s;var o=function(){if(!--n.__u){if(n.state.__a){var u=n.state.__a;n.__v.__k[0]=UP(u,u.__c.__P,u.__c.__O)}var d;for(n.setState({__a:n.__b=null});d=n.t.pop();)d.forceUpdate()}},c=e.__h===!0;n.__u++||c||n.setState({__a:n.__b=n.__v.__k[0]}),t.then(s,s)},vb.prototype.componentWillUnmount=function(){this.t=[]},vb.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var r=document.createElement("div"),n=this.__v.__k[0].__c;this.__v.__k[0]=BP(this.__b,r,n.__O=n.__P)}this.__b=null}var a=e.__a&&ie(Xt,null,t.fallback);return a&&(a.__h=null),[ie(Xt,null,e.__a?null:t.children),a]};var dA=function(t,e,r){if(++r[1]===r[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(r=t.u;r;){for(;r.length>3;)r.pop()();if(r[1]<r[0])break;t.u=r=r[2]}};function Lee(t){return this.getChildContext=function(){return t.context},t.children}function Iee(t){var e=this,r=t.i;e.componentWillUnmount=function(){eh(null,e.l),e.l=null,e.i=null},e.i&&e.i!==r&&e.componentWillUnmount(),t.__v?(e.l||(e.i=r,e.l={nodeType:1,parentNode:r,childNodes:[],appendChild:function(n){this.childNodes.push(n),e.i.appendChild(n)},insertBefore:function(n,a){this.childNodes.push(n),e.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),e.i.removeChild(n)}}),eh(ie(Lee,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}function $ee(t,e){var r=ie(Iee,{__v:t,i:e});return r.containerInfo=e,r}(om.prototype=new ga).__a=function(t){var e=this,r=zP(e.__v),n=e.o.get(t);return n[0]++,function(a){var i=function(){e.props.revealOrder?(n.push(a),dA(e,t,n)):a()};r?r(i):i()}},om.prototype.render=function(t){this.u=null,this.o=new Map;var e=fg(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var r=e.length;r--;)this.o.set(e[r],this.u=[1,0,this.u]);return t.children},om.prototype.componentDidUpdate=om.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,r){dA(t,r,e)})};var Fee=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Bee=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Uee=typeof document<"u",zee=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(t)};ga.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(ga.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var fA=nt.event;function Wee(){}function Hee(){return this.cancelBubble}function qee(){return this.defaultPrevented}nt.event=function(t){return fA&&(t=fA(t)),t.persist=Wee,t.isPropagationStopped=Hee,t.isDefaultPrevented=qee,t.nativeEvent=t};var hA={configurable:!0,get:function(){return this.class}},pA=nt.vnode;nt.vnode=function(t){var e=t.type,r=t.props,n=r;if(typeof e=="string"){var a=e.indexOf("-")===-1;for(var i in n={},r){var s=r[i];Uee&&i==="children"&&e==="noscript"||i==="value"&&"defaultValue"in r&&s==null||(i==="defaultValue"&&"value"in r&&r.value==null?i="value":i==="download"&&s===!0?s="":/ondoubleclick/i.test(i)?i="ondblclick":/^onchange(textarea|input)/i.test(i+e)&&!zee(r.type)?i="oninput":/^onfocus$/i.test(i)?i="onfocusin":/^onblur$/i.test(i)?i="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(i)?i=i.toLowerCase():a&&Bee.test(i)?i=i.replace(/[A-Z0-9]/g,"-$&").toLowerCase():s===null&&(s=void 0),/^oninput$/i.test(i)&&(i=i.toLowerCase(),n[i]&&(i="oninputCapture")),n[i]=s)}e=="select"&&n.multiple&&Array.isArray(n.value)&&(n.value=fg(r.children).forEach(function(o){o.props.selected=n.value.indexOf(o.props.value)!=-1})),e=="select"&&n.defaultValue!=null&&(n.value=fg(r.children).forEach(function(o){o.props.selected=n.multiple?n.defaultValue.indexOf(o.props.value)!=-1:n.defaultValue==o.props.value})),t.props=n,r.class!=r.className&&(hA.enumerable="className"in r,r.className!=null&&(n.class=r.className),Object.defineProperty(n,"className",hA))}t.$$typeof=Fee,pA&&pA(t)};var mA=nt.__r;nt.__r=function(t){mA&&mA(t),t.__c};const WP=[],Ux=new Map;function ay(t){WP.push(t),Ux.forEach(e=>{qP(e,t)})}function Gee(t){t.isConnected&&t.getRootNode&&HP(t.getRootNode())}function HP(t){let e=Ux.get(t);if(!e||!e.isConnected){if(e=t.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");const r=Yee();r&&(e.nonce=r);const n=t===document?document.head:t,a=t===document?n.querySelector("script,link[rel=stylesheet],link[as=style],style"):n.firstChild;n.insertBefore(e,a)}Ux.set(t,e),Vee(e)}}function Vee(t){for(const e of WP)qP(t,e)}function qP(t,e){const{sheet:r}=t,n=r.cssRules.length;e.split("}").forEach((a,i)=>{a=a.trim(),a&&r.insertRule(a+"}",n+i)})}let yb;function Yee(){return yb===void 0&&(yb=Kee()),yb}function Kee(){const t=document.querySelector('meta[name="csp-nonce"]');if(t&&t.hasAttribute("content"))return t.getAttribute("content");const e=document.querySelector("script[nonce]");return e&&e.nonce||""}typeof document<"u"&&HP(document);var Xee=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';ay(Xee);class P2{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:r}=this;r[e]=(r[e]||0)+1,this.clearTimeout()}resume(e="",r){let{pauseDepths:n}=this;e in n&&(r?delete n[e]:(n[e]-=1,n[e]<=0&&delete n[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function D2(t){t.parentNode&&t.parentNode.removeChild(t)}function On(t,e){if(t.closest)return t.closest(e);if(!document.documentElement.contains(t))return null;do{if(Zee(t,e))return t;t=t.parentElement||t.parentNode}while(t!==null&&t.nodeType===1);return null}function Zee(t,e){return(t.matches||t.matchesSelector||t.msMatchesSelector).call(t,e)}function Qee(t,e){let r=t instanceof HTMLElement?[t]:t,n=[];for(let a=0;a<r.length;a+=1){let i=r[a].querySelectorAll(e);for(let s=0;s<i.length;s+=1)n.push(i[s])}return n}const Jee=/(top|left|right|bottom|width|height)$/i;function Nf(t,e){for(let r in e)GP(t,r,e[r])}function GP(t,e,r){r==null?t.style[e]="":typeof r=="number"&&Jee.test(e)?t.style[e]=`${r}px`:t.style[e]=r}function VP(t){var e,r;return(r=(e=t.composedPath)===null||e===void 0?void 0:e.call(t)[0])!==null&&r!==void 0?r:t.target}let gA=0;function xo(){return gA+=1,"fc-dom-"+gA}function iy(t){t.preventDefault()}function ete(t,e){return r=>{let n=On(r.target,t);n&&e.call(n,r,n)}}function YP(t,e,r,n){let a=ete(r,n);return t.addEventListener(e,a),()=>{t.removeEventListener(e,a)}}function tte(t,e,r,n){let a;return YP(t,"mouseover",e,(i,s)=>{if(s!==a){a=s,r(i,s);let o=c=>{a=null,n(c,s),s.removeEventListener("mouseleave",o)};s.addEventListener("mouseleave",o)}})}const vA=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function rte(t,e){let r=n=>{e(n),vA.forEach(a=>{t.removeEventListener(a,r)})};vA.forEach(n=>{t.addEventListener(n,r)})}function KP(t){return Object.assign({onClick:t},XP(t))}function XP(t){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(t(e),e.preventDefault())}}}let yA=0;function Zl(){return yA+=1,String(yA)}function M2(){document.body.classList.add("fc-not-allowed")}function R2(){document.body.classList.remove("fc-not-allowed")}function nte(t){t.style.userSelect="none",t.style.webkitUserSelect="none",t.addEventListener("selectstart",iy)}function ate(t){t.style.userSelect="",t.style.webkitUserSelect="",t.removeEventListener("selectstart",iy)}function ite(t){t.addEventListener("contextmenu",iy)}function ste(t){t.removeEventListener("contextmenu",iy)}function ote(t){let e=[],r=[],n,a;for(typeof t=="string"?r=t.split(/\s*,\s*/):typeof t=="function"?r=[t]:Array.isArray(t)&&(r=t),n=0;n<r.length;n+=1)a=r[n],typeof a=="string"?e.push(a.charAt(0)==="-"?{field:a.substring(1),order:-1}:{field:a,order:1}):typeof a=="function"&&e.push({func:a});return e}function lte(t,e,r){let n,a;for(n=0;n<r.length;n+=1)if(a=cte(t,e,r[n]),a)return a;return 0}function cte(t,e,r){return r.func?r.func(t,e):ute(t[r.field],e[r.field])*(r.order||1)}function ute(t,e){return!t&&!e?0:e==null?-1:t==null?1:typeof t=="string"||typeof e=="string"?String(t).localeCompare(String(e)):t-e}function au(t,e){let r=String(t);return"000".substr(0,e-r.length)+r}function jf(t,e,r){return typeof t=="function"?t(...e):typeof t=="string"?e.reduce((n,a,i)=>n.replace("$"+i,a||""),t):r}function dte(t,e){return t-e}function Wm(t){return t%1===0}function fte(t){let e=t.querySelector(".fc-scrollgrid-shrink-frame"),r=t.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!r)throw new Error("needs fc-scrollgrid-shrink-cushion className");return t.getBoundingClientRect().width-e.getBoundingClientRect().width+r.getBoundingClientRect().width}const bA=["years","months","days","milliseconds"],hte=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function Et(t,e){return typeof t=="string"?pte(t):typeof t=="object"&&t?xA(t):typeof t=="number"?xA({[e||"milliseconds"]:t}):null}function pte(t){let e=hte.exec(t);if(e){let r=e[1]?-1:1;return{years:0,months:0,days:r*(e[2]?parseInt(e[2],10):0),milliseconds:r*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function xA(t){let e={years:t.years||t.year||0,months:t.months||t.month||0,days:t.days||t.day||0,milliseconds:(t.hours||t.hour||0)*60*60*1e3+(t.minutes||t.minute||0)*60*1e3+(t.seconds||t.second||0)*1e3+(t.milliseconds||t.millisecond||t.ms||0)},r=t.weeks||t.week;return r&&(e.days+=r*7,e.specifiedWeeks=!0),e}function mte(t,e){return t.years===e.years&&t.months===e.months&&t.days===e.days&&t.milliseconds===e.milliseconds}function zx(t,e){return{years:t.years+e.years,months:t.months+e.months,days:t.days+e.days,milliseconds:t.milliseconds+e.milliseconds}}function gte(t,e){return{years:t.years-e.years,months:t.months-e.months,days:t.days-e.days,milliseconds:t.milliseconds-e.milliseconds}}function vte(t,e){return{years:t.years*e,months:t.months*e,days:t.days*e,milliseconds:t.milliseconds*e}}function yte(t){return iu(t)/365}function bte(t){return iu(t)/30}function iu(t){return hi(t)/864e5}function hi(t){return t.years*(365*864e5)+t.months*(30*864e5)+t.days*864e5+t.milliseconds}function L2(t,e){let r=null;for(let n=0;n<bA.length;n+=1){let a=bA[n];if(e[a]){let i=t[a]/e[a];if(!Wm(i)||r!==null&&r!==i)return null;r=i}else if(t[a])return null}return r}function Wx(t){let e=t.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return t.days?t.specifiedWeeks&&t.days%7===0?{unit:"week",value:t.days/7}:{unit:"day",value:t.days}:t.months?{unit:"month",value:t.months}:t.years?{unit:"year",value:t.years}:{unit:"millisecond",value:0}}function Eo(t,e,r){if(t===e)return!0;let n=t.length,a;if(n!==e.length)return!1;for(a=0;a<n;a+=1)if(!(r?r(t[a],e[a]):t[a]===e[a]))return!1;return!0}const xte=["sun","mon","tue","wed","thu","fri","sat"];function wA(t,e){let r=fo(t);return r[2]+=e*7,Qn(r)}function Hr(t,e){let r=fo(t);return r[2]+=e,Qn(r)}function Oo(t,e){let r=fo(t);return r[6]+=e,Qn(r)}function wte(t,e){return Mo(t,e)/7}function Mo(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60*24)}function Ste(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60)}function Nte(t,e){return(e.valueOf()-t.valueOf())/(1e3*60)}function jte(t,e){return(e.valueOf()-t.valueOf())/1e3}function Ate(t,e){let r=rr(t),n=rr(e);return{years:0,months:0,days:Math.round(Mo(r,n)),milliseconds:e.valueOf()-n.valueOf()-(t.valueOf()-r.valueOf())}}function _te(t,e){let r=hg(t,e);return r!==null&&r%7===0?r/7:null}function hg(t,e){return ho(t)===ho(e)?Math.round(Mo(t,e)):null}function rr(t){return Qn([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()])}function Ete(t){return Qn([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours()])}function Ote(t){return Qn([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes()])}function Cte(t){return Qn([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds()])}function Tte(t,e,r){let n=t.getUTCFullYear(),a=bb(t,n,e,r);if(a<1)return bb(t,n-1,e,r);let i=bb(t,n+1,e,r);return i>=1?Math.min(a,i):a}function bb(t,e,r,n){let a=Qn([e,0,1+kte(e,r,n)]),i=rr(t),s=Math.round(Mo(a,i));return Math.floor(s/7)+1}function kte(t,e,r){let n=7+e-r;return-((7+Qn([t,0,n]).getUTCDay()-e)%7)+n-1}function SA(t){return[t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()]}function NA(t){return new Date(t[0],t[1]||0,t[2]==null?1:t[2],t[3]||0,t[4]||0,t[5]||0)}function fo(t){return[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()]}function Qn(t){return t.length===1&&(t=t.concat([0])),new Date(Date.UTC(...t))}function ZP(t){return!isNaN(t.valueOf())}function ho(t){return t.getUTCHours()*1e3*60*60+t.getUTCMinutes()*1e3*60+t.getUTCSeconds()*1e3+t.getUTCMilliseconds()}function QP(t,e,r=!1){let n=t.toISOString();return n=n.replace(".000",""),r&&(n=n.replace("T00:00:00Z","")),n.length>10&&(e==null?n=n.replace("Z",""):e!==0&&(n=n.replace("Z",I2(e,!0)))),n}function Jh(t){return t.toISOString().replace(/T.*$/,"")}function Pte(t){return t.toISOString().match(/^\d{4}-\d{2}/)[0]}function Dte(t){return au(t.getUTCHours(),2)+":"+au(t.getUTCMinutes(),2)+":"+au(t.getUTCSeconds(),2)}function I2(t,e=!1){let r=t<0?"-":"+",n=Math.abs(t),a=Math.floor(n/60),i=Math.round(n%60);return e?`${r+au(a,2)}:${au(i,2)}`:`GMT${r}${a}${i?`:${au(i,2)}`:""}`}function rt(t,e,r){let n,a;return function(...i){if(!n)a=t.apply(this,i);else if(!Eo(n,i)){let s=t.apply(this,i);(!e||!e(s,a))&&(a=s)}return n=i,a}}function Hm(t,e,r){let n,a;return i=>(n?es(n,i)||(a=t.call(this,i)):a=t.call(this,i),n=i,a)}const xb={week:3,separator:9,omitZeroMinute:9,meridiem:9,omitCommas:9},pg={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},lm=/\s*([ap])\.?m\.?/i,Mte=/,/g,Rte=/\s+/g,Lte=/\u200e/g,Ite=/UTC|GMT/;class $te{constructor(e){let r={},n={},a=9;for(let i in e)i in xb?(n[i]=e[i],xb[i]<9&&(a=Math.min(xb[i],a))):(r[i]=e[i],i in pg&&(a=Math.min(pg[i],a)));this.standardDateProps=r,this.extendedSettings=n,this.smallestUnitNum=a,this.buildFormattingFunc=rt(jA)}format(e,r){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,r)(e)}formatRange(e,r,n,a){let{standardDateProps:i,extendedSettings:s}=this,o=Hte(e.marker,r.marker,n.calendarSystem);if(!o)return this.format(e,n);let c=o;c>1&&(i.year==="numeric"||i.year==="2-digit")&&(i.month==="numeric"||i.month==="2-digit")&&(i.day==="numeric"||i.day==="2-digit")&&(c=1);let u=this.format(e,n),d=this.format(r,n);if(u===d)return u;let f=qte(i,c),h=jA(f,s,n),p=h(e),g=h(r),m=Gte(u,p,d,g),y=s.separator||a||n.defaultSeparator||"";return m?m.before+p+y+g+m.after:u+y+d}getSmallestUnit(){switch(this.smallestUnitNum){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function jA(t,e,r){let n=Object.keys(t).length;return n===1&&t.timeZoneName==="short"?a=>I2(a.timeZoneOffset):n===0&&e.week?a=>Wte(r.computeWeekNumber(a.marker),r.weekText,r.weekTextLong,r.locale,e.week):Fte(t,e,r)}function Fte(t,e,r){t=Object.assign({},t),e=Object.assign({},e),Bte(t,e),t.timeZone="UTC";let n=new Intl.DateTimeFormat(r.locale.codes,t),a;if(e.omitZeroMinute){let i=Object.assign({},t);delete i.minute,a=new Intl.DateTimeFormat(r.locale.codes,i)}return i=>{let{marker:s}=i,o;a&&!s.getUTCMinutes()?o=a:o=n;let c=o.format(s);return Ute(c,i,t,e,r)}}function Bte(t,e){t.timeZoneName&&(t.hour||(t.hour="2-digit"),t.minute||(t.minute="2-digit")),t.timeZoneName==="long"&&(t.timeZoneName="short"),e.omitZeroMinute&&(t.second||t.millisecond)&&delete e.omitZeroMinute}function Ute(t,e,r,n,a){return t=t.replace(Lte,""),r.timeZoneName==="short"&&(t=zte(t,a.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":I2(e.timeZoneOffset))),n.omitCommas&&(t=t.replace(Mte,"").trim()),n.omitZeroMinute&&(t=t.replace(":00","")),n.meridiem===!1?t=t.replace(lm,"").trim():n.meridiem==="narrow"?t=t.replace(lm,(i,s)=>s.toLocaleLowerCase()):n.meridiem==="short"?t=t.replace(lm,(i,s)=>`${s.toLocaleLowerCase()}m`):n.meridiem==="lowercase"&&(t=t.replace(lm,i=>i.toLocaleLowerCase())),t=t.replace(Rte," "),t=t.trim(),t}function zte(t,e){let r=!1;return t=t.replace(Ite,()=>(r=!0,e)),r||(t+=` ${e}`),t}function Wte(t,e,r,n,a){let i=[];return a==="long"?i.push(r):(a==="short"||a==="narrow")&&i.push(e),(a==="long"||a==="short")&&i.push(" "),i.push(n.simpleNumberFormat.format(t)),n.options.direction==="rtl"&&i.reverse(),i.join("")}function Hte(t,e,r){return r.getMarkerYear(t)!==r.getMarkerYear(e)?5:r.getMarkerMonth(t)!==r.getMarkerMonth(e)?4:r.getMarkerDay(t)!==r.getMarkerDay(e)?2:ho(t)!==ho(e)?1:0}function qte(t,e){let r={};for(let n in t)(!(n in pg)||pg[n]<=e)&&(r[n]=t[n]);return r}function Gte(t,e,r,n){let a=0;for(;a<t.length;){let i=t.indexOf(e,a);if(i===-1)break;let s=t.substr(0,i);a=i+e.length;let o=t.substr(a),c=0;for(;c<r.length;){let u=r.indexOf(n,c);if(u===-1)break;let d=r.substr(0,u);c=u+n.length;let f=r.substr(c);if(s===d&&o===f)return{before:s,after:o}}}return null}function AA(t,e){let r=e.markerToArray(t.marker);return{marker:t.marker,timeZoneOffset:t.timeZoneOffset,array:r,year:r[0],month:r[1],day:r[2],hour:r[3],minute:r[4],second:r[5],millisecond:r[6]}}function mg(t,e,r,n){let a=AA(t,r.calendarSystem),i=e?AA(e,r.calendarSystem):null;return{date:a,start:a,end:i,timeZone:r.timeZone,localeCodes:r.locale.codes,defaultSeparator:n||r.defaultSeparator}}class Vte{constructor(e){this.cmdStr=e}format(e,r,n){return r.cmdFormatter(this.cmdStr,mg(e,null,r,n))}formatRange(e,r,n,a){return n.cmdFormatter(this.cmdStr,mg(e,r,n,a))}}class Yte{constructor(e){this.func=e}format(e,r,n){return this.func(mg(e,null,r,n))}formatRange(e,r,n,a){return this.func(mg(e,r,n,a))}}function mr(t){return typeof t=="object"&&t?new $te(t):typeof t=="string"?new Vte(t):typeof t=="function"?new Yte(t):null}const _A={navLinkDayClick:Se,navLinkWeekClick:Se,duration:Et,bootstrapFontAwesome:Se,buttonIcons:Se,customButtons:Se,defaultAllDayEventDuration:Et,defaultTimedEventDuration:Et,nextDayThreshold:Et,scrollTime:Et,scrollTimeReset:Boolean,slotMinTime:Et,slotMaxTime:Et,dayPopoverFormat:mr,slotDuration:Et,snapDuration:Et,headerToolbar:Se,footerToolbar:Se,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:mr,dayHeaderClassNames:Se,dayHeaderContent:Se,dayHeaderDidMount:Se,dayHeaderWillUnmount:Se,dayCellClassNames:Se,dayCellContent:Se,dayCellDidMount:Se,dayCellWillUnmount:Se,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:Se,weekNumbers:Boolean,weekNumberClassNames:Se,weekNumberContent:Se,weekNumberDidMount:Se,weekNumberWillUnmount:Se,editable:Boolean,viewClassNames:Se,viewDidMount:Se,viewWillUnmount:Se,nowIndicator:Boolean,nowIndicatorClassNames:Se,nowIndicatorContent:Se,nowIndicatorDidMount:Se,nowIndicatorWillUnmount:Se,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:Se,locale:Se,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:Se,eventOrder:ote,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:Se,contentHeight:Se,direction:String,weekNumberFormat:mr,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:Se,initialDate:Se,now:Se,eventDataTransform:Se,stickyHeaderDates:Se,stickyFooterScrollbar:Se,viewHeight:Se,defaultAllDay:Boolean,eventSourceFailure:Se,eventSourceSuccess:Se,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:Se,eventConstraint:Se,eventAllow:Se,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:Se,eventContent:Se,eventDidMount:Se,eventWillUnmount:Se,selectConstraint:Se,selectOverlap:Se,selectAllow:Se,droppable:Boolean,unselectCancel:String,slotLabelFormat:Se,slotLaneClassNames:Se,slotLaneContent:Se,slotLaneDidMount:Se,slotLaneWillUnmount:Se,slotLabelClassNames:Se,slotLabelContent:Se,slotLabelDidMount:Se,slotLabelWillUnmount:Se,dayMaxEvents:Se,dayMaxEventRows:Se,dayMinWidth:Number,slotLabelInterval:Et,allDayText:String,allDayClassNames:Se,allDayContent:Se,allDayDidMount:Se,allDayWillUnmount:Se,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:mr,rerenderDelay:Number,moreLinkText:Se,moreLinkHint:Se,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:Se,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:Et,hiddenDays:Se,fixedWeekCount:Boolean,validRange:Se,visibleRange:Se,titleFormat:Se,eventInteractive:Boolean,noEventsText:String,viewHint:Se,navLinkHint:Se,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:Se,moreLinkClassNames:Se,moreLinkContent:Se,moreLinkDidMount:Se,moreLinkWillUnmount:Se,monthStartFormat:mr,handleCustomRendering:Se,customRenderingMetaMap:Se,customRenderingReplaces:Boolean},Af={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" â€“ ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"}},EA={datesSet:Se,eventsSet:Se,eventAdd:Se,eventChange:Se,eventRemove:Se,windowResize:Se,eventClick:Se,eventMouseEnter:Se,eventMouseLeave:Se,select:Se,unselect:Se,loading:Se,_unmount:Se,_beforeprint:Se,_afterprint:Se,_noEventDrop:Se,_noEventResize:Se,_resize:Se,_scrollRequest:Se},OA={buttonText:Se,buttonHints:Se,views:Se,plugins:Se,initialEvents:Se,events:Se,eventSources:Se},ll={headerToolbar:cl,footerToolbar:cl,buttonText:cl,buttonHints:cl,buttonIcons:cl,dateIncrement:cl,plugins:cm,events:cm,eventSources:cm,resources:cm};function cl(t,e){return typeof t=="object"&&typeof e=="object"&&t&&e?es(t,e):t===e}function cm(t,e){return Array.isArray(t)&&Array.isArray(e)?Eo(t,e):t===e}const Kte={type:String,component:Se,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:Se,usesMinMaxTime:Boolean,classNames:Se,content:Se,didMount:Se,willUnmount:Se};function wb(t){return F2(t,ll)}function $2(t,e){let r={},n={};for(let a in e)a in t&&(r[a]=e[a](t[a]));for(let a in t)a in e||(n[a]=t[a]);return{refined:r,extra:n}}function Se(t){return t}const{hasOwnProperty:gg}=Object.prototype;function F2(t,e){let r={};if(e){for(let n in e)if(e[n]===cl){let a=[];for(let i=t.length-1;i>=0;i-=1){let s=t[i][n];if(typeof s=="object"&&s)a.unshift(s);else if(s!==void 0){r[n]=s;break}}a.length&&(r[n]=F2(a))}}for(let n=t.length-1;n>=0;n-=1){let a=t[n];for(let i in a)i in r||(r[i]=a[i])}return r}function Bl(t,e){let r={};for(let n in t)e(t[n],n)&&(r[n]=t[n]);return r}function Ps(t,e){let r={};for(let n in t)r[n]=e(t[n],n);return r}function JP(t){let e={};for(let r of t)e[r]=!0;return e}function B2(t){let e=[];for(let r in t)e.push(t[r]);return e}function es(t,e){if(t===e)return!0;for(let r in t)if(gg.call(t,r)&&!(r in e))return!1;for(let r in e)if(gg.call(e,r)&&t[r]!==e[r])return!1;return!0}const Xte=/^on[A-Z]/;function Zte(t,e){const r=Hx(t,e);for(let n of r)if(!Xte.test(n))return!1;return!0}function Hx(t,e){let r=[];for(let n in t)gg.call(t,n)&&(n in e||r.push(n));for(let n in e)gg.call(e,n)&&t[n]!==e[n]&&r.push(n);return r}function Sb(t,e,r={}){if(t===e)return!0;for(let n in e)if(!(n in t&&Qte(t[n],e[n],r[n])))return!1;for(let n in t)if(!(n in e))return!1;return!0}function Qte(t,e,r){return t===e||r===!0?!0:r?r(t,e):!1}function Jte(t,e=0,r,n=1){let a=[];r==null&&(r=Object.keys(t).length);for(let i=e;i<r;i+=n){let s=t[i];s!==void 0&&a.push(s)}return a}let e3={};function ere(t,e){e3[t]=e}function tre(t){return new e3[t]}class rre{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return Qn(e)}markerToArray(e){return fo(e)}}ere("gregory",rre);const nre=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function sy(t){let e=nre.exec(t);if(e){let r=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?+`0.${e[12]}`*1e3:0));if(ZP(r)){let n=null;return e[13]&&(n=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:r,isTimeUnspecified:!e[6],timeZoneOffset:n}}}return null}class are{constructor(e){let r=this.timeZone=e.timeZone,n=r!=="local"&&r!=="UTC";e.namedTimeZoneImpl&&n&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(r)),this.canComputeOffset=!!(!n||this.namedTimeZoneImpl),this.calendarSystem=tre(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let r=this.createMarkerMeta(e);return r===null?null:r.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):Qn(SA(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let r=null;return typeof e=="number"?r=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(r=this.timestampToMarker(e))):Array.isArray(e)&&(r=Qn(e)),r===null||!ZP(r)?null:{marker:r,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let r=sy(e);if(r===null)return null;let{marker:n}=r,a=null;return r.timeZoneOffset!==null&&(this.canComputeOffset?n=this.timestampToMarker(n.valueOf()-r.timeZoneOffset*60*1e3):a=r.timeZoneOffset),{marker:n,isTimeUnspecified:r.isTimeUnspecified,forcedTzo:a}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,r){let n=this.calendarSystem.markerToArray(e);return n[0]+=r.years,n[1]+=r.months,n[2]+=r.days,n[6]+=r.milliseconds,this.calendarSystem.arrayToMarker(n)}subtract(e,r){let n=this.calendarSystem.markerToArray(e);return n[0]-=r.years,n[1]-=r.months,n[2]-=r.days,n[6]-=r.milliseconds,this.calendarSystem.arrayToMarker(n)}addYears(e,r){let n=this.calendarSystem.markerToArray(e);return n[0]+=r,this.calendarSystem.arrayToMarker(n)}addMonths(e,r){let n=this.calendarSystem.markerToArray(e);return n[1]+=r,this.calendarSystem.arrayToMarker(n)}diffWholeYears(e,r){let{calendarSystem:n}=this;return ho(e)===ho(r)&&n.getMarkerDay(e)===n.getMarkerDay(r)&&n.getMarkerMonth(e)===n.getMarkerMonth(r)?n.getMarkerYear(r)-n.getMarkerYear(e):null}diffWholeMonths(e,r){let{calendarSystem:n}=this;return ho(e)===ho(r)&&n.getMarkerDay(e)===n.getMarkerDay(r)?n.getMarkerMonth(r)-n.getMarkerMonth(e)+(n.getMarkerYear(r)-n.getMarkerYear(e))*12:null}greatestWholeUnit(e,r){let n=this.diffWholeYears(e,r);return n!==null?{unit:"year",value:n}:(n=this.diffWholeMonths(e,r),n!==null?{unit:"month",value:n}:(n=_te(e,r),n!==null?{unit:"week",value:n}:(n=hg(e,r),n!==null?{unit:"day",value:n}:(n=Ste(e,r),Wm(n)?{unit:"hour",value:n}:(n=Nte(e,r),Wm(n)?{unit:"minute",value:n}:(n=jte(e,r),Wm(n)?{unit:"second",value:n}:{unit:"millisecond",value:r.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,r,n){let a;return n.years&&(a=this.diffWholeYears(e,r),a!==null)?a/yte(n):n.months&&(a=this.diffWholeMonths(e,r),a!==null)?a/bte(n):n.days&&(a=hg(e,r),a!==null)?a/iu(n):(r.valueOf()-e.valueOf())/hi(n)}startOf(e,r){return r==="year"?this.startOfYear(e):r==="month"?this.startOfMonth(e):r==="week"?this.startOfWeek(e):r==="day"?rr(e):r==="hour"?Ete(e):r==="minute"?Ote(e):r==="second"?Cte(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):Tte(e,this.weekDow,this.weekDoy)}format(e,r,n={}){return r.format({marker:e,timeZoneOffset:n.forcedTzo!=null?n.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,r,n,a={}){return a.isEndExclusive&&(r=Oo(r,-1)),n.formatRange({marker:e,timeZoneOffset:a.forcedStartTzo!=null?a.forcedStartTzo:this.offsetForMarker(e)},{marker:r,timeZoneOffset:a.forcedEndTzo!=null?a.forcedEndTzo:this.offsetForMarker(r)},this,a.defaultSeparator)}formatIso(e,r={}){let n=null;return r.omitTimeZoneOffset||(r.forcedTzo!=null?n=r.forcedTzo:n=this.offsetForMarker(e)),QP(e,n,r.omitTime)}timestampToMarker(e){return this.timeZone==="local"?Qn(SA(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):Qn(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-NA(fo(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(fo(e)):null}toDate(e,r){return this.timeZone==="local"?NA(fo(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(fo(e))*1e3*60):new Date(e.valueOf()-(r||0))}}class ep{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let r,n;if(typeof e=="object"&&e){r=Object.assign({},this.iconClasses);for(n in e)r[n]=this.applyIconOverridePrefix(e[n]);this.iconClasses=r}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let r=this.iconOverridePrefix;return r&&e.indexOf(r)!==0&&(e=r+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,r){let n;return r&&this.rtlIconClasses?n=this.rtlIconClasses[e]||this.iconClasses[e]:n=this.iconClasses[e],n?`${this.baseIconClass} ${n}`:""}getCustomButtonIconClass(e){let r;return this.iconOverrideCustomButtonOption&&(r=e[this.iconOverrideCustomButtonOption],r)?`${this.baseIconClass} ${this.applyIconOverridePrefix(r)}`:""}}ep.prototype.classes={};ep.prototype.iconClasses={};ep.prototype.baseIconClass="";ep.prototype.iconOverridePrefix="";function vg(t){t();let e=nt.debounceRendering,r=[];function n(a){r.push(a)}for(nt.debounceRendering=n,eh(ie(ire,{}),document.createElement("div"));r.length;)r.shift()();nt.debounceRendering=e}class ire extends ga{render(){return ie("div",{})}componentDidMount(){this.setState({})}}function t3(t){let e=kee(t),r=e.Provider;return e.Provider=function(){let n=!this.getChildContext,a=r.apply(this,arguments);if(n){let i=[];this.shouldComponentUpdate=s=>{this.props.value!==s.value&&i.forEach(o=>{o.context=s.value,o.forceUpdate()})},this.sub=s=>{i.push(s);let o=s.componentWillUnmount;s.componentWillUnmount=()=>{i.splice(i.indexOf(s),1),o&&o.call(s)}}}return a},e}class sre{constructor(e,r,n,a){this.execFunc=e,this.emitter=r,this.scrollTime=n,this.scrollTimeReset=a,this.handleScrollRequest=i=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},i),this.drain()},r.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const $s=t3({});function ore(t,e,r,n,a,i,s,o,c,u,d,f,h,p){return{dateEnv:a,nowManager:i,options:r,pluginHooks:o,emitter:d,dispatch:c,getCurrentData:u,calendarApi:f,viewSpec:t,viewApi:e,dateProfileGenerator:n,theme:s,isRtl:r.direction==="rtl",addResizeHandler(g){d.on("_resize",g)},removeResizeHandler(g){d.off("_resize",g)},createScrollResponder(g){return new sre(g,d,Et(r.scrollTime),r.scrollTimeReset)},registerInteractiveComponent:h,unregisterInteractiveComponent:p}}class Ql extends ga{shouldComponentUpdate(e,r){return this.debug&&console.log(Hx(e,this.props),Hx(r,this.state)),!Sb(this.props,e,this.propEquality)||!Sb(this.state,r,this.stateEquality)}safeSetState(e){Sb(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}}Ql.addPropsEquality=lre;Ql.addStateEquality=cre;Ql.contextType=$s;Ql.prototype.propEquality={};Ql.prototype.stateEquality={};class $t extends Ql{}$t.contextType=$s;function lre(t){let e=Object.create(this.prototype.propEquality);Object.assign(e,t),this.prototype.propEquality=e}function cre(t){let e=Object.create(this.prototype.stateEquality);Object.assign(e,t),this.prototype.stateEquality=e}function Ds(t,e){typeof t=="function"?t(e):t&&(t.current=e)}class U2 extends $t{constructor(){super(...arguments),this.id=Zl(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{const{options:r}=this.context,{generatorName:n}=this.props;(!r.customRenderingReplaces||!qx(n,r))&&this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&Ds(this.props.elRef,e)}}render(){const{props:e,context:r}=this,{options:n}=r,{customGenerator:a,defaultGenerator:i,renderProps:s}=e,o=r3(e,[],this.handleEl);let c=!1,u,d=[],f;if(a!=null){const h=typeof a=="function"?a(s,ie):a;if(h===!0)c=!0;else{const p=h&&typeof h=="object";p&&"html"in h?o.dangerouslySetInnerHTML={__html:h.html}:p&&"domNodes"in h?d=Array.prototype.slice.call(h.domNodes):(p?_P(h):typeof h!="function")?u=h:f=h}}else c=!qx(e.generatorName,n);return c&&i&&(u=i(s)),this.queuedDomNodes=d,this.currentGeneratorMeta=f,ie(e.elTag,o,u)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var r;const{props:n,context:a}=this,{handleCustomRendering:i,customRenderingMetaMap:s}=a.options;if(i){const o=(r=this.currentGeneratorMeta)!==null&&r!==void 0?r:s==null?void 0:s[n.generatorName];o&&i(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:o},n),{elClasses:(n.elClasses||[]).filter(ure)}))}}applyQueueudDomNodes(){const{queuedDomNodes:e,currentDomNodes:r}=this,n=this.base;if(!Eo(e,r)){r.forEach(D2);for(let a of e)n.appendChild(a);this.currentDomNodes=e}}}U2.addPropsEquality({elClasses:Eo,elStyle:es,elAttrs:Zte,renderProps:es});function qx(t,e){var r;return!!(e.handleCustomRendering&&t&&(!((r=e.customRenderingMetaMap)===null||r===void 0)&&r[t]))}function r3(t,e,r){const n=Object.assign(Object.assign({},t.elAttrs),{ref:r});return(t.elClasses||e)&&(n.className=(t.elClasses||[]).concat(e||[]).concat(n.className||[]).filter(Boolean).join(" ")),t.elStyle&&(n.style=t.elStyle),n}function ure(t){return!!t}const n3=t3(0);class Pn extends ga{constructor(){super(...arguments),this.InnerContent=dre.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&(Ds(this.props.elRef,e),e&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:e}=this,r=fre(e.classNameGenerator,e.renderProps);if(e.children){const n=r3(e,r,this.handleEl),a=e.children(this.InnerContent,e.renderProps,n);return e.elTag?ie(e.elTag,n,a):a}else return ie(U2,Object.assign(Object.assign({},e),{elRef:this.handleEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(r),renderId:this.context}))}componentDidMount(){var e,r;this.el?(r=(e=this.props).didMount)===null||r===void 0||r.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var e,r;(r=(e=this.props).willUnmount)===null||r===void 0||r.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}Pn.contextType=n3;function dre(t,e){const r=t.props;return ie(U2,Object.assign({renderProps:r.renderProps,generatorName:r.generatorName,customGenerator:r.customGenerator,defaultGenerator:r.defaultGenerator,renderId:t.context},e))}function fre(t,e){const r=typeof t=="function"?t(e):t||[];return typeof r=="string"?[r]:r}class th extends $t{render(){let{props:e,context:r}=this,{options:n}=r,a={view:r.viewApi};return ie(Pn,Object.assign({},e,{elTag:e.elTag||"div",elClasses:[...a3(e.viewSpec),...e.elClasses||[]],renderProps:a,classNameGenerator:n.viewClassNames,generatorName:void 0,didMount:n.viewDidMount,willUnmount:n.viewWillUnmount}),()=>e.children)}}function a3(t){return[`fc-${t.type}-view`,"fc-view"]}function hre(t,e){let r=null,n=null;return t.start&&(r=e.createMarker(t.start)),t.end&&(n=e.createMarker(t.end)),!r&&!n||r&&n&&n<r?null:{start:r,end:n}}function CA(t,e){let r=[],{start:n}=e,a,i;for(t.sort(pre),a=0;a<t.length;a+=1)i=t[a],i.start>n&&r.push({start:n,end:i.start}),i.end>n&&(n=i.end);return n<e.end&&r.push({start:n,end:e.end}),r}function pre(t,e){return t.start.valueOf()-e.start.valueOf()}function Co(t,e){let{start:r,end:n}=t,a=null;return e.start!==null&&(r===null?r=e.start:r=new Date(Math.max(r.valueOf(),e.start.valueOf()))),e.end!=null&&(n===null?n=e.end:n=new Date(Math.min(n.valueOf(),e.end.valueOf()))),(r===null||n===null||r<n)&&(a={start:r,end:n}),a}function mre(t,e){return(t.start===null?null:t.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(t.end===null?null:t.end.valueOf())===(e.end===null?null:e.end.valueOf())}function z2(t,e){return(t.end===null||e.start===null||t.end>e.start)&&(t.start===null||e.end===null||t.start<e.end)}function oy(t,e){return(t.start===null||e.start!==null&&e.start>=t.start)&&(t.end===null||e.end!==null&&e.end<=t.end)}function _s(t,e){return(t.start===null||e>=t.start)&&(t.end===null||e<t.end)}function gre(t,e){return e.start!=null&&t<e.start?e.start:e.end!=null&&t>=e.end?new Date(e.end.valueOf()-1):t}function i3(t){let e=Math.floor(Mo(t.start,t.end))||1,r=rr(t.start),n=Hr(r,e);return{start:r,end:n}}function W2(t,e=Et(0)){let r=null,n=null;if(t.end){n=rr(t.end);let a=t.end.valueOf()-n.valueOf();a&&a>=hi(e)&&(n=Hr(n,1))}return t.start&&(r=rr(t.start),n&&n<=r&&(n=Hr(r,1))),{start:r,end:n}}function vre(t){let e=W2(t);return Mo(e.start,e.end)>1}function Vc(t,e,r,n){return n==="year"?Et(r.diffWholeYears(t,e),"year"):n==="month"?Et(r.diffWholeMonths(t,e),"month"):Ate(t,e)}class s3{constructor(e){this.props=e,this.initHiddenDays()}buildPrev(e,r,n){let{dateEnv:a}=this.props,i=a.subtract(a.startOf(r,e.currentRangeUnit),e.dateIncrement);return this.build(i,-1,n)}buildNext(e,r,n){let{dateEnv:a}=this.props,i=a.add(a.startOf(r,e.currentRangeUnit),e.dateIncrement);return this.build(i,1,n)}build(e,r,n=!0){let{props:a}=this,i,s,o,c,u,d;return i=this.buildValidRange(),i=this.trimHiddenDays(i),n&&(e=gre(e,i)),s=this.buildCurrentRangeInfo(e,r),o=/^(year|month|week|day)$/.test(s.unit),c=this.buildRenderRange(this.trimHiddenDays(s.range),s.unit,o),c=this.trimHiddenDays(c),u=c,a.showNonCurrentDates||(u=Co(u,s.range)),u=this.adjustActiveRange(u),u=Co(u,i),d=z2(s.range,i),_s(c,e)||(e=c.start),{currentDate:e,validRange:i,currentRange:s.range,currentRangeUnit:s.unit,isRangeAllDay:o,activeRange:u,renderRange:c,slotMinTime:a.slotMinTime,slotMaxTime:a.slotMaxTime,isValid:d,dateIncrement:this.buildDateIncrement(s.duration)}}buildValidRange(){let e=this.props.validRangeInput,r=typeof e=="function"?e.call(this.props.calendarApi,this.props.dateEnv.toDate(this.props.nowManager.getDateMarker())):e;return this.refineRange(r)||{start:null,end:null}}buildCurrentRangeInfo(e,r){let{props:n}=this,a=null,i=null,s=null,o;return n.duration?(a=n.duration,i=n.durationUnit,s=this.buildRangeFromDuration(e,r,a,i)):(o=this.props.dayCount)?(i="day",s=this.buildRangeFromDayCount(e,r,o)):(s=this.buildCustomVisibleRange(e))?i=n.dateEnv.greatestWholeUnit(s.start,s.end).unit:(a=this.getFallbackDuration(),i=Wx(a).unit,s=this.buildRangeFromDuration(e,r,a,i)),{duration:a,unit:i,range:s}}getFallbackDuration(){return Et({day:1})}adjustActiveRange(e){let{dateEnv:r,usesMinMaxTime:n,slotMinTime:a,slotMaxTime:i}=this.props,{start:s,end:o}=e;return n&&(iu(a)<0&&(s=rr(s),s=r.add(s,a)),iu(i)>1&&(o=rr(o),o=Hr(o,-1),o=r.add(o,i))),{start:s,end:o}}buildRangeFromDuration(e,r,n,a){let{dateEnv:i,dateAlignment:s}=this.props,o,c,u;if(!s){let{dateIncrement:f}=this.props;f&&hi(f)<hi(n)?s=Wx(f).unit:s=a}iu(n)<=1&&this.isHiddenDay(o)&&(o=this.skipHiddenDays(o,r),o=rr(o));function d(){o=i.startOf(e,s),c=i.add(o,n),u={start:o,end:c}}return d(),this.trimHiddenDays(u)||(e=this.skipHiddenDays(e,r),d()),u}buildRangeFromDayCount(e,r,n){let{dateEnv:a,dateAlignment:i}=this.props,s=0,o=e,c;i&&(o=a.startOf(o,i)),o=rr(o),o=this.skipHiddenDays(o,r),c=o;do c=Hr(c,1),this.isHiddenDay(c)||(s+=1);while(s<n);return{start:o,end:c}}buildCustomVisibleRange(e){let{props:r}=this,n=r.visibleRangeInput,a=typeof n=="function"?n.call(r.calendarApi,r.dateEnv.toDate(e)):n,i=this.refineRange(a);return i&&(i.start==null||i.end==null)?null:i}buildRenderRange(e,r,n){return e}buildDateIncrement(e){let{dateIncrement:r}=this.props,n;return r||((n=this.props.dateAlignment)?Et(1,n):e||Et({days:1}))}refineRange(e){if(e){let r=hre(e,this.props.dateEnv);return r&&(r=W2(r)),r}return null}initHiddenDays(){let e=this.props.hiddenDays||[],r=[],n=0,a;for(this.props.weekends===!1&&e.push(0,6),a=0;a<7;a+=1)(r[a]=e.indexOf(a)!==-1)||(n+=1);if(!n)throw new Error("invalid hiddenDays");this.isHiddenDayHash=r}trimHiddenDays(e){let{start:r,end:n}=e;return r&&(r=this.skipHiddenDays(r)),n&&(n=this.skipHiddenDays(n,-1,!0)),r==null||n==null||r<n?{start:r,end:n}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,r=1,n=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(n?r:0)+7)%7];)e=Hr(e,r);return e}}function H2(t,e,r,n){return{instanceId:Zl(),defId:t,range:e,forcedStartTzo:r??null,forcedEndTzo:n??null}}function yre(t,e,r,n){for(let a=0;a<n.length;a+=1){let i=n[a].parse(t,r);if(i){let{allDay:s}=t;return s==null&&(s=e,s==null&&(s=i.allDayGuess,s==null&&(s=!1))),{allDay:s,duration:i.duration,typeData:i.typeData,typeId:a}}}return null}function Ul(t,e,r){let{dateEnv:n,pluginHooks:a,options:i}=r,{defs:s,instances:o}=t;o=Bl(o,c=>!s[c.defId].recurringDef);for(let c in s){let u=s[c];if(u.recurringDef){let{duration:d}=u.recurringDef;d||(d=u.allDay?i.defaultAllDayEventDuration:i.defaultTimedEventDuration);let f=bre(u,d,e,n,a.recurringTypes);for(let h of f){let p=H2(c,{start:h,end:n.add(h,d)});o[p.instanceId]=p}}}return{defs:s,instances:o}}function bre(t,e,r,n,a){let s=a[t.recurringDef.typeId].expand(t.recurringDef.typeData,{start:n.subtract(r.start,e),end:r.end},n);return t.allDay&&(s=s.map(rr)),s}const qm={id:String,groupId:String,title:String,url:String,interactive:Boolean},o3={start:Se,end:Se,date:Se,allDay:Boolean},xre=Object.assign(Object.assign(Object.assign({},qm),o3),{extendedProps:Se});function l3(t,e,r,n,a=q2(r),i,s){let{refined:o,extra:c}=c3(t,r,a),u=Sre(e,r),d=yre(o,u,r.dateEnv,r.pluginHooks.recurringTypes);if(d){let h=Gx(o,c,e?e.sourceId:"",d.allDay,!!d.duration,r,i);return h.recurringDef={typeId:d.typeId,typeData:d.typeData,duration:d.duration},{def:h,instance:null}}let f=wre(o,u,r,n);if(f){let h=Gx(o,c,e?e.sourceId:"",f.allDay,f.hasEnd,r,i),p=H2(h.defId,f.range,f.forcedStartTzo,f.forcedEndTzo);return s&&h.publicId&&s[h.publicId]&&(p.instanceId=s[h.publicId]),{def:h,instance:p}}return null}function c3(t,e,r=q2(e)){return $2(t,r)}function q2(t){return Object.assign(Object.assign(Object.assign({},yg),xre),t.pluginHooks.eventRefiners)}function Gx(t,e,r,n,a,i,s){let o={title:t.title||"",groupId:t.groupId||"",publicId:t.id||"",url:t.url||"",recurringDef:null,defId:(s&&t.id?s[t.id]:"")||Zl(),sourceId:r,allDay:n,hasEnd:a,interactive:t.interactive,ui:bg(t,i),extendedProps:Object.assign(Object.assign({},t.extendedProps||{}),e)};for(let c of i.pluginHooks.eventDefMemberAdders)Object.assign(o,c(t));return Object.freeze(o.ui.classNames),Object.freeze(o.extendedProps),o}function wre(t,e,r,n){let{allDay:a}=t,i,s=null,o=!1,c,u=null,d=t.start!=null?t.start:t.date;if(i=r.dateEnv.createMarkerMeta(d),i)s=i.marker;else if(!n)return null;return t.end!=null&&(c=r.dateEnv.createMarkerMeta(t.end)),a==null&&(e!=null?a=e:a=(!i||i.isTimeUnspecified)&&(!c||c.isTimeUnspecified)),a&&s&&(s=rr(s)),c&&(u=c.marker,a&&(u=rr(u)),s&&u<=s&&(u=null)),u?o=!0:n||(o=r.options.forceEventDuration||!1,u=r.dateEnv.add(s,a?r.options.defaultAllDayEventDuration:r.options.defaultTimedEventDuration)),{allDay:a,hasEnd:o,range:{start:s,end:u},forcedStartTzo:i?i.forcedTzo:null,forcedEndTzo:c?c.forcedTzo:null}}function Sre(t,e){let r=null;return t&&(r=t.defaultAllDay),r==null&&(r=e.options.defaultAllDay),r}function rh(t,e,r,n,a,i){let s=va(),o=q2(r);for(let c of t){let u=l3(c,e,r,n,o,a,i);u&&Vx(u,s)}return s}function Vx(t,e=va()){return e.defs[t.def.defId]=t.def,t.instance&&(e.instances[t.instance.instanceId]=t.instance),e}function G2(t,e){let r=t.instances[e];if(r){let n=t.defs[r.defId],a=ly(t,i=>Nre(n,i));return a.defs[n.defId]=n,a.instances[r.instanceId]=r,a}return va()}function Nre(t,e){return!!(t.groupId&&t.groupId===e.groupId)}function va(){return{defs:{},instances:{}}}function V2(t,e){return{defs:Object.assign(Object.assign({},t.defs),e.defs),instances:Object.assign(Object.assign({},t.instances),e.instances)}}function ly(t,e){let r=Bl(t.defs,e),n=Bl(t.instances,a=>r[a.defId]);return{defs:r,instances:n}}function jre(t,e){let{defs:r,instances:n}=t,a={},i={};for(let s in r)e.defs[s]||(a[s]=r[s]);for(let s in n)!e.instances[s]&&a[n[s].defId]&&(i[s]=n[s]);return{defs:a,instances:i}}function Are(t,e){return Array.isArray(t)?rh(t,null,e,!0):typeof t=="object"&&t?rh([t],null,e,!0):t!=null?String(t):null}function TA(t){return Array.isArray(t)?t:typeof t=="string"?t.split(/\s+/):[]}const yg={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:Se,overlap:Se,allow:Se,className:TA,classNames:TA,color:String,backgroundColor:String,borderColor:String,textColor:String},_re={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function bg(t,e){let r=Are(t.constraint,e);return{display:t.display||null,startEditable:t.startEditable!=null?t.startEditable:t.editable,durationEditable:t.durationEditable!=null?t.durationEditable:t.editable,constraints:r!=null?[r]:[],overlap:t.overlap!=null?t.overlap:null,allows:t.allow!=null?[t.allow]:[],backgroundColor:t.backgroundColor||t.color||"",borderColor:t.borderColor||t.color||"",textColor:t.textColor||"",classNames:(t.className||[]).concat(t.classNames||[])}}function u3(t){return t.reduce(Ere,_re)}function Ere(t,e){return{display:e.display!=null?e.display:t.display,startEditable:e.startEditable!=null?e.startEditable:t.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:t.durationEditable,constraints:t.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:t.overlap,allows:t.allows.concat(e.allows),backgroundColor:e.backgroundColor||t.backgroundColor,borderColor:e.borderColor||t.borderColor,textColor:e.textColor||t.textColor,classNames:t.classNames.concat(e.classNames)}}const Ore={id:String,defaultAllDay:Boolean,url:String,format:String,events:Se,eventDataTransform:Se,success:Se,failure:Se};function d3(t,e,r=f3(e)){let n;if(typeof t=="string"?n={url:t}:typeof t=="function"||Array.isArray(t)?n={events:t}:typeof t=="object"&&t&&(n=t),n){let{refined:a,extra:i}=$2(n,r),s=Cre(a,e);if(s)return{_raw:t,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:a.defaultAllDay,eventDataTransform:a.eventDataTransform,success:a.success,failure:a.failure,publicId:a.id||"",sourceId:Zl(),sourceDefId:s.sourceDefId,meta:s.meta,ui:bg(a,e),extendedProps:i}}return null}function f3(t){return Object.assign(Object.assign(Object.assign({},yg),Ore),t.pluginHooks.eventSourceRefiners)}function Cre(t,e){let r=e.pluginHooks.eventSourceDefs;for(let n=r.length-1;n>=0;n-=1){let i=r[n].parseMeta(t);if(i)return{sourceDefId:n,meta:i}}return null}function Tre(t,e,r,n,a){switch(e.type){case"RECEIVE_EVENTS":return kre(t,r[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,a);case"RESET_RAW_EVENTS":return Pre(t,r[e.sourceId],e.rawEvents,n.activeRange,a);case"ADD_EVENTS":return Dre(t,e.eventStore,n?n.activeRange:null,a);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return V2(t,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?Ul(t,n.activeRange,a):t;case"REMOVE_EVENTS":return jre(t,e.eventStore);case"REMOVE_EVENT_SOURCE":return p3(t,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return ly(t,i=>!i.sourceId);case"REMOVE_ALL_EVENTS":return va();default:return t}}function kre(t,e,r,n,a,i){if(e&&r===e.latestFetchId){let s=rh(h3(a,e,i),e,i);return n&&(s=Ul(s,n,i)),V2(p3(t,e.sourceId),s)}return t}function Pre(t,e,r,n,a){const{defIdMap:i,instanceIdMap:s}=Rre(t);let o=rh(h3(r,e,a),e,a,!1,i,s);return Ul(o,n,a)}function h3(t,e,r){let n=r.options.eventDataTransform,a=e?e.eventDataTransform:null;return a&&(t=kA(t,a)),n&&(t=kA(t,n)),t}function kA(t,e){let r;if(!e)r=t;else{r=[];for(let n of t){let a=e(n);a?r.push(a):a==null&&r.push(n)}}return r}function Dre(t,e,r,n){return r&&(e=Ul(e,r,n)),V2(t,e)}function PA(t,e,r){let{defs:n}=t,a=Ps(t.instances,i=>n[i.defId].allDay?i:Object.assign(Object.assign({},i),{range:{start:r.createMarker(e.toDate(i.range.start,i.forcedStartTzo)),end:r.createMarker(e.toDate(i.range.end,i.forcedEndTzo))},forcedStartTzo:r.canComputeOffset?null:i.forcedStartTzo,forcedEndTzo:r.canComputeOffset?null:i.forcedEndTzo}));return{defs:n,instances:a}}function p3(t,e){return ly(t,r=>r.sourceId!==e)}function Mre(t,e){return{defs:t.defs,instances:Bl(t.instances,r=>!e[r.instanceId])}}function Rre(t){const{defs:e,instances:r}=t,n={},a={};for(let i in e){const s=e[i],{publicId:o}=s;o&&(n[o]=i)}for(let i in r){const s=r[i],o=e[s.defId],{publicId:c}=o;c&&(a[c]=i)}return{defIdMap:n,instanceIdMap:a}}class cy{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,r){Lre(this.handlers,e,r)}off(e,r){Ire(this.handlers,e,r)}trigger(e,...r){let n=this.handlers[e]||[],a=this.options&&this.options[e],i=[].concat(a||[],n);for(let s of i)s.apply(this.thisContext,r)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}function Lre(t,e,r){(t[e]||(t[e]=[])).push(r)}function Ire(t,e,r){r?t[e]&&(t[e]=t[e].filter(n=>n!==r)):delete t[e]}const $re={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function Fre(t,e){return rh(Bre(t),null,e)}function Bre(t){let e;return t===!0?e=[{}]:Array.isArray(t)?e=t.filter(r=>r.daysOfWeek):typeof t=="object"&&t?e=[t]:e=[],e=e.map(r=>Object.assign(Object.assign({},$re),r)),e}function m3(t,e,r){r.emitter.trigger("select",Object.assign(Object.assign({},Y2(t,r)),{jsEvent:e?e.origEvent:null,view:r.viewApi||r.calendarApi.view}))}function Ure(t,e){e.emitter.trigger("unselect",{jsEvent:t?t.origEvent:null,view:e.viewApi||e.calendarApi.view})}function Y2(t,e){let r={};for(let n of e.pluginHooks.dateSpanTransforms)Object.assign(r,n(t,e));return Object.assign(r,tne(t,e.dateEnv)),r}function DA(t,e,r){let{dateEnv:n,options:a}=r,i=e;return t?(i=rr(i),i=n.add(i,a.defaultAllDayEventDuration)):i=n.add(i,a.defaultTimedEventDuration),i}function K2(t,e,r,n){let a=xg(t.defs,e),i=va();for(let s in t.defs){let o=t.defs[s];i.defs[s]=zre(o,a[s],r,n)}for(let s in t.instances){let o=t.instances[s],c=i.defs[o.defId];i.instances[s]=Wre(o,c,a[o.defId],r,n)}return i}function zre(t,e,r,n){let a=r.standardProps||{};a.hasEnd==null&&e.durationEditable&&(r.startDelta||r.endDelta)&&(a.hasEnd=!0);let i=Object.assign(Object.assign(Object.assign({},t),a),{ui:Object.assign(Object.assign({},t.ui),a.ui)});r.extendedProps&&(i.extendedProps=Object.assign(Object.assign({},i.extendedProps),r.extendedProps));for(let s of n.pluginHooks.eventDefMutationAppliers)s(i,r,n);return!i.hasEnd&&n.options.forceEventDuration&&(i.hasEnd=!0),i}function Wre(t,e,r,n,a){let{dateEnv:i}=a,s=n.standardProps&&n.standardProps.allDay===!0,o=n.standardProps&&n.standardProps.hasEnd===!1,c=Object.assign({},t);return s&&(c.range=i3(c.range)),n.datesDelta&&r.startEditable&&(c.range={start:i.add(c.range.start,n.datesDelta),end:i.add(c.range.end,n.datesDelta)}),n.startDelta&&r.durationEditable&&(c.range={start:i.add(c.range.start,n.startDelta),end:c.range.end}),n.endDelta&&r.durationEditable&&(c.range={start:c.range.start,end:i.add(c.range.end,n.endDelta)}),o&&(c.range={start:c.range.start,end:DA(e.allDay,c.range.start,a)}),e.allDay&&(c.range={start:rr(c.range.start),end:rr(c.range.end)}),c.range.end<c.range.start&&(c.range.end=DA(e.allDay,c.range.start,a)),c}class Hc{constructor(e,r){this.context=e,this.internalEventSource=r}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class vr{constructor(e,r,n){this._context=e,this._def=r,this._instance=n||null}setProp(e,r){if(e in o3)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")r=qm[e](r),this.mutate({standardProps:{publicId:r}});else if(e in qm)r=qm[e](r),this.mutate({standardProps:{[e]:r}});else if(e in yg){let n=yg[e](r);e==="color"?n={backgroundColor:r,borderColor:r}:e==="editable"?n={startEditable:r,durationEditable:r}:n={[e]:r},this.mutate({standardProps:{ui:n}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,r){this.mutate({extendedProps:{[e]:r}})}setStart(e,r={}){let{dateEnv:n}=this._context,a=n.createMarker(e);if(a&&this._instance){let i=this._instance.range,s=Vc(i.start,a,n,r.granularity);r.maintainDuration?this.mutate({datesDelta:s}):this.mutate({startDelta:s})}}setEnd(e,r={}){let{dateEnv:n}=this._context,a;if(!(e!=null&&(a=n.createMarker(e),!a))&&this._instance)if(a){let i=Vc(this._instance.range.end,a,n,r.granularity);this.mutate({endDelta:i})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,r,n={}){let{dateEnv:a}=this._context,i={allDay:n.allDay},s=a.createMarker(e),o;if(s&&!(r!=null&&(o=a.createMarker(r),!o))&&this._instance){let c=this._instance.range;n.allDay===!0&&(c=i3(c));let u=Vc(c.start,s,a,n.granularity);if(o){let d=Vc(c.end,o,a,n.granularity);mte(u,d)?this.mutate({datesDelta:u,standardProps:i}):this.mutate({startDelta:u,endDelta:d,standardProps:i})}else i.hasEnd=!1,this.mutate({datesDelta:u,standardProps:i})}}moveStart(e){let r=Et(e);r&&this.mutate({startDelta:r})}moveEnd(e){let r=Et(e);r&&this.mutate({endDelta:r})}moveDates(e){let r=Et(e);r&&this.mutate({datesDelta:r})}setAllDay(e,r={}){let n={allDay:e},{maintainDuration:a}=r;a==null&&(a=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(n.hasEnd=a),this.mutate({standardProps:n})}formatRange(e){let{dateEnv:r}=this._context,n=this._instance,a=mr(e);return this._def.hasEnd?r.formatRange(n.range.start,n.range.end,a,{forcedStartTzo:n.forcedStartTzo,forcedEndTzo:n.forcedEndTzo}):r.format(n.range.start,a,{forcedTzo:n.forcedStartTzo})}mutate(e){let r=this._instance;if(r){let n=this._def,a=this._context,{eventStore:i}=a.getCurrentData(),s=G2(i,r.instanceId);s=K2(s,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,a);let c=new vr(a,n,r);this._def=s.defs[n.defId],this._instance=s.instances[r.instanceId],a.dispatch({type:"MERGE_EVENTS",eventStore:s}),a.emitter.trigger("eventChange",{oldEvent:c,event:this,relatedEvents:jl(s,a,r),revert(){a.dispatch({type:"RESET_EVENTS",eventStore:i})}})}}remove(){let e=this._context,r=g3(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:r}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:r})}})}get source(){let{sourceId:e}=this._def;return e?new Hc(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let r=this._def,{ui:n}=r,{startStr:a,endStr:i}=this,s={allDay:r.allDay};return r.title&&(s.title=r.title),a&&(s.start=a),i&&(s.end=i),r.publicId&&(s.id=r.publicId),r.groupId&&(s.groupId=r.groupId),r.url&&(s.url=r.url),n.display&&n.display!=="auto"&&(s.display=n.display),e.collapseColor&&n.backgroundColor&&n.backgroundColor===n.borderColor?s.color=n.backgroundColor:(n.backgroundColor&&(s.backgroundColor=n.backgroundColor),n.borderColor&&(s.borderColor=n.borderColor)),n.textColor&&(s.textColor=n.textColor),n.classNames.length&&(s.classNames=n.classNames),Object.keys(r.extendedProps).length&&(e.collapseExtendedProps?Object.assign(s,r.extendedProps):s.extendedProps=r.extendedProps),s}toJSON(){return this.toPlainObject()}}function g3(t){let e=t._def,r=t._instance;return{defs:{[e.defId]:e},instances:r?{[r.instanceId]:r}:{}}}function jl(t,e,r){let{defs:n,instances:a}=t,i=[],s=r?r.instanceId:"";for(let o in a){let c=a[o],u=n[c.defId];c.instanceId!==s&&i.push(new vr(e,u,c))}return i}function Yx(t,e,r,n){let a={},i={},s={},o=[],c=[],u=xg(t.defs,e);for(let d in t.defs){let f=t.defs[d];u[f.defId].display==="inverse-background"&&(f.groupId?(a[f.groupId]=[],s[f.groupId]||(s[f.groupId]=f)):i[d]=[])}for(let d in t.instances){let f=t.instances[d],h=t.defs[f.defId],p=u[h.defId],g=f.range,m=!h.allDay&&n?W2(g,n):g,y=Co(m,r);y&&(p.display==="inverse-background"?h.groupId?a[h.groupId].push(y):i[f.defId].push(y):p.display!=="none"&&(p.display==="background"?o:c).push({def:h,ui:p,instance:f,range:y,isStart:m.start&&m.start.valueOf()===y.start.valueOf(),isEnd:m.end&&m.end.valueOf()===y.end.valueOf()}))}for(let d in a){let f=a[d],h=CA(f,r);for(let p of h){let g=s[d],m=u[g.defId];o.push({def:g,ui:m,instance:null,range:p,isStart:!1,isEnd:!1})}}for(let d in i){let f=i[d],h=CA(f,r);for(let p of h)o.push({def:t.defs[d],ui:u[d],instance:null,range:p,isStart:!1,isEnd:!1})}return{bg:o,fg:c}}function Hre(t){return t.ui.display==="background"||t.ui.display==="inverse-background"}function MA(t,e){t.fcSeg=e}function bu(t){return t.fcSeg||t.parentNode.fcSeg||null}function xg(t,e){return Ps(t,r=>v3(r,e))}function v3(t,e){let r=[];return e[""]&&r.push(e[""]),e[t.defId]&&r.push(e[t.defId]),r.push(t.ui),u3(r)}function X2(t,e){let r=t.map(qre);return r.sort((n,a)=>lte(n,a,e)),r.map(n=>n._seg)}function qre(t){let{eventRange:e}=t,r=e.def,n=e.instance?e.instance.range:e.range,a=n.start?n.start.valueOf():0,i=n.end?n.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},r.extendedProps),r),{id:r.publicId,start:a,end:i,duration:i-a,allDay:Number(r.allDay),_seg:t})}function Gre(t,e){let{pluginHooks:r}=e,n=r.isDraggableTransformers,{def:a,ui:i}=t.eventRange,s=i.startEditable;for(let o of n)s=o(s,a,i,e);return s}function Vre(t,e){return t.isStart&&t.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function Yre(t,e){return t.isEnd&&t.eventRange.ui.durationEditable}function _f(t,e,r,n,a,i,s){let{dateEnv:o,options:c}=r,{displayEventTime:u,displayEventEnd:d}=c,f=t.eventRange.def,h=t.eventRange.instance;u==null&&(u=n!==!1),d==null&&(d=a!==!1);let p=h.range.start,g=h.range.end,m=i||t.start||t.eventRange.range.start,y=s||t.end||t.eventRange.range.end,b=rr(p).valueOf()===rr(m).valueOf(),x=rr(Oo(g,-1)).valueOf()===rr(Oo(y,-1)).valueOf();return u&&!f.allDay&&(b||x)?(m=b?p:m,y=x?g:y,d&&f.hasEnd?o.formatRange(m,y,e,{forcedStartTzo:i?null:h.forcedStartTzo,forcedEndTzo:s?null:h.forcedEndTzo}):o.format(m,e,{forcedTzo:i?null:h.forcedStartTzo})):""}function Es(t,e,r){let n=t.eventRange.range;return{isPast:n.end<=(r||e.start),isFuture:n.start>=(r||e.end),isToday:e&&_s(e,n.start)}}function Kre(t){let e=["fc-event"];return t.isMirror&&e.push("fc-event-mirror"),t.isDraggable&&e.push("fc-event-draggable"),(t.isStartResizable||t.isEndResizable)&&e.push("fc-event-resizable"),t.isDragging&&e.push("fc-event-dragging"),t.isResizing&&e.push("fc-event-resizing"),t.isSelected&&e.push("fc-event-selected"),t.isStart&&e.push("fc-event-start"),t.isEnd&&e.push("fc-event-end"),t.isPast&&e.push("fc-event-past"),t.isToday&&e.push("fc-event-today"),t.isFuture&&e.push("fc-event-future"),e}function y3(t){return t.instance?t.instance.instanceId:`${t.def.defId}:${t.range.start.toISOString()}`}function Z2(t,e){let{def:r,instance:n}=t.eventRange,{url:a}=r;if(a)return{href:a};let{emitter:i,options:s}=e,{eventInteractive:o}=s;return o==null&&(o=r.interactive,o==null&&(o=!!i.hasHandlers("eventClick"))),o?XP(c=>{i.trigger("eventClick",{el:c.target,event:new vr(e,r,n),jsEvent:c,view:e.viewApi})}):{}}const Xre={start:Se,end:Se,allDay:Boolean};function Zre(t,e,r){let n=Qre(t,e),{range:a}=n;if(!a.start)return null;if(!a.end){if(r==null)return null;a.end=e.add(a.start,r)}return n}function Qre(t,e){let{refined:r,extra:n}=$2(t,Xre),a=r.start?e.createMarkerMeta(r.start):null,i=r.end?e.createMarkerMeta(r.end):null,{allDay:s}=r;return s==null&&(s=a&&a.isTimeUnspecified&&(!i||i.isTimeUnspecified)),Object.assign({range:{start:a?a.marker:null,end:i?i.marker:null},allDay:s},n)}function Jre(t,e){return mre(t.range,e.range)&&t.allDay===e.allDay&&ene(t,e)}function ene(t,e){for(let r in e)if(r!=="range"&&r!=="allDay"&&t[r]!==e[r])return!1;for(let r in t)if(!(r in e))return!1;return!0}function tne(t,e){return Object.assign(Object.assign({},x3(t.range,e,t.allDay)),{allDay:t.allDay})}function b3(t,e,r){return Object.assign(Object.assign({},x3(t,e,r)),{timeZone:e.timeZone})}function x3(t,e,r){return{start:e.toDate(t.start),end:e.toDate(t.end),startStr:e.formatIso(t.start,{omitTime:r}),endStr:e.formatIso(t.end,{omitTime:r})}}function rne(t,e,r){let n=c3({editable:!1},r),a=Gx(n.refined,n.extra,"",t.allDay,!0,r);return{def:a,ui:v3(a,e),instance:H2(a.defId,t.range),range:t.range,isStart:!0,isEnd:!0}}function nne(t,e,r){let n=!1,a=function(o){n||(n=!0,e(o))},i=function(o){n||(n=!0,r(o))},s=t(a,i);s&&typeof s.then=="function"&&s.then(a,i)}class RA extends Error{constructor(e,r){super(e),this.response=r}}function ane(t,e,r){t=t.toUpperCase();const n={method:t};return t==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(r):(n.body=new URLSearchParams(r),n.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,n).then(a=>{if(a.ok)return a.json().then(i=>[i,a],()=>{throw new RA("Failure parsing JSON",a)});throw new RA("Request failed",a)})}let Nb;function w3(){return Nb==null&&(Nb=ine()),Nb}function ine(){if(typeof document>"u")return!0;let t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.innerHTML="<table><tr><td><div></div></td></tr></table>",t.querySelector("table").style.height="100px",t.querySelector("div").style.height="100%",document.body.appendChild(t);let r=t.querySelector("div").offsetHeight>0;return document.body.removeChild(t),r}class sne extends $t{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{vg(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{vg(()=>{this.setState({forPrint:!1})})}}render(){let{props:e}=this,{options:r}=e,{forPrint:n}=this.state,a=n||r.height==="auto"||r.contentHeight==="auto",i=!a&&r.height!=null?r.height:"",s=["fc",n?"fc-media-print":"fc-media-screen",`fc-direction-${r.direction}`,e.theme.getClass("root")];return w3()||s.push("fc-liquid-hack"),e.children(s,i,a,n)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}class dd{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}}function one(t,e){return{component:t,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function Q2(t){return{[t.component.uid]:t}}const Kx={};class Jl extends ga{constructor(e,r){super(e,r),this.handleRefresh=()=>{let n=this.computeTiming();n.state.nowDate.valueOf()!==this.state.nowDate.valueOf()&&this.setState(n.state),this.clearTimeout(),this.setTimeout(n.waitMs)},this.handleVisibilityChange=()=>{document.hidden||this.handleRefresh()},this.state=this.computeTiming().state}render(){let{props:e,state:r}=this;return e.children(r.nowDate,r.todayRange)}componentDidMount(){this.setTimeout(),this.context.nowManager.addResetListener(this.handleRefresh),document.addEventListener("visibilitychange",this.handleVisibilityChange)}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout(),this.context.nowManager.removeResetListener(this.handleRefresh),document.removeEventListener("visibilitychange",this.handleVisibilityChange)}computeTiming(){let{props:e,context:r}=this,n=r.nowManager.getDateMarker(),a=r.dateEnv.startOf(n,e.unit),s=r.dateEnv.add(a,Et(1,e.unit)).valueOf()-n.valueOf();return s=Math.min(1e3*60*60*24,s),{state:{nowDate:a,todayRange:lne(a)},waitMs:s}}setTimeout(e=this.computeTiming().waitMs){this.timeoutId=setTimeout(()=>{const r=this.computeTiming();this.setState(r.state,()=>{this.setTimeout(r.waitMs)})},e)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}Jl.contextType=$s;function lne(t){let e=rr(t),r=Hr(e,1);return{start:e,end:r}}class cne{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,r){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:r})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,r){let{currentDataManager:n}=this;n.currentCalendarOptionsRefiners[e]?n.emitter.on(e,r):console.warn(`Unknown listener name '${e}'`)}off(e,r){this.currentDataManager.emitter.off(e,r)}trigger(e,...r){this.currentDataManager.emitter.trigger(e,...r)}changeView(e,r){this.batchRendering(()=>{if(this.unselect(),r)if(r.start&&r.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:r});else{let{dateEnv:n}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:n.createMarker(r)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,r){let n=this.getCurrentData(),a;r=r||"day",a=n.viewSpecs[r]||this.getUnitViewSpec(r),this.unselect(),a?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:a.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:r,toolbarConfig:n}=this.getCurrentData(),a=[].concat(n.header?n.header.viewsWithButtons:[],n.footer?n.footer.viewsWithButtons:[]),i,s;for(let o in r)a.push(o);for(i=0;i<a.length;i+=1)if(s=r[a[i]],s&&s.singleUnit===e)return s;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.nowManager.getDateMarker()})}gotoDate(e){let r=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:r.dateEnv.createMarker(e)})}incrementDate(e){let r=this.getCurrentData(),n=Et(e);n&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:r.dateEnv.add(r.currentDate,n)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,r){let{dateEnv:n}=this.getCurrentData();return n.format(n.createMarker(e),mr(r))}formatRange(e,r,n){let{dateEnv:a}=this.getCurrentData();return a.formatRange(a.createMarker(e),a.createMarker(r),mr(n),n)}formatIso(e,r){let{dateEnv:n}=this.getCurrentData();return n.formatIso(n.createMarker(e),{omitTime:r})}select(e,r){let n;r==null?e.start!=null?n=e:n={start:e,end:null}:n={start:e,end:r};let a=this.getCurrentData(),i=Zre(n,a.dateEnv,Et({days:1}));i&&(this.dispatch({type:"SELECT_DATES",selection:i}),m3(i,null,a))}unselect(e){let r=this.getCurrentData();r.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),Ure(e,r))}addEvent(e,r){if(e instanceof vr){let s=e._def,o=e._instance;return this.getCurrentData().eventStore.defs[s.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:Vx({def:s,instance:o})}),this.triggerEventAdd(e)),e}let n=this.getCurrentData(),a;if(r instanceof Hc)a=r.internalEventSource;else if(typeof r=="boolean")r&&([a]=B2(n.eventSources));else if(r!=null){let s=this.getEventSourceById(r);if(!s)return console.warn(`Could not find an event source with ID "${r}"`),null;a=s.internalEventSource}let i=l3(e,a,n,!1);if(i){let s=new vr(n,i.def,i.def.recurringDef?null:i.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:Vx(i)}),this.triggerEventAdd(s),s}return null}triggerEventAdd(e){let{emitter:r}=this.getCurrentData();r.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:g3(e)})}})}getEventById(e){let r=this.getCurrentData(),{defs:n,instances:a}=r.eventStore;e=String(e);for(let i in n){let s=n[i];if(s.publicId===e){if(s.recurringDef)return new vr(r,s,null);for(let o in a){let c=a[o];if(c.defId===s.defId)return new vr(r,s,c)}}}return null}getEvents(){let e=this.getCurrentData();return jl(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),r=e.eventSources,n=[];for(let a in r)n.push(new Hc(e,r[a]));return n}getEventSourceById(e){let r=this.getCurrentData(),n=r.eventSources;e=String(e);for(let a in n)if(n[a].publicId===e)return new Hc(r,n[a]);return null}addEventSource(e){let r=this.getCurrentData();if(e instanceof Hc)return r.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let n=d3(e,r);return n?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[n]}),new Hc(r,n)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let r=Et(e);r&&this.trigger("_scrollRequest",{time:r})}}function une(t,e){return t.left>=e.left&&t.left<e.right&&t.top>=e.top&&t.top<e.bottom}function S3(t,e){let r={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)};return r.left<r.right&&r.top<r.bottom?r:!1}function dne(t,e){return{left:Math.min(Math.max(t.left,e.left),e.right),top:Math.min(Math.max(t.top,e.top),e.bottom)}}function fne(t){return{left:(t.left+t.right)/2,top:(t.top+t.bottom)/2}}function hne(t,e){return{left:t.left-e.left,top:t.top-e.top}}const jb=va();class pne{constructor(){this.getKeysForEventDefs=rt(this._getKeysForEventDefs),this.splitDateSelection=rt(this._splitDateSpan),this.splitEventStore=rt(this._splitEventStore),this.splitIndividualUi=rt(this._splitIndividualUi),this.splitEventDrag=rt(this._splitInteraction),this.splitEventResize=rt(this._splitInteraction),this.eventUiBuilders={}}splitProps(e){let r=this.getKeyInfo(e),n=this.getKeysForEventDefs(e.eventStore),a=this.splitDateSelection(e.dateSelection),i=this.splitIndividualUi(e.eventUiBases,n),s=this.splitEventStore(e.eventStore,n),o=this.splitEventDrag(e.eventDrag),c=this.splitEventResize(e.eventResize),u={};this.eventUiBuilders=Ps(r,(d,f)=>this.eventUiBuilders[f]||rt(mne));for(let d in r){let f=r[d],h=s[d]||jb,p=this.eventUiBuilders[d];u[d]={businessHours:f.businessHours||e.businessHours,dateSelection:a[d]||null,eventStore:h,eventUiBases:p(e.eventUiBases[""],f.ui,i[d]),eventSelection:h.instances[e.eventSelection]?e.eventSelection:"",eventDrag:o[d]||null,eventResize:c[d]||null}}return u}_splitDateSpan(e){let r={};if(e){let n=this.getKeysForDateSpan(e);for(let a of n)r[a]=e}return r}_getKeysForEventDefs(e){return Ps(e.defs,r=>this.getKeysForEventDef(r))}_splitEventStore(e,r){let{defs:n,instances:a}=e,i={};for(let s in n)for(let o of r[s])i[o]||(i[o]=va()),i[o].defs[s]=n[s];for(let s in a){let o=a[s];for(let c of r[o.defId])i[c]&&(i[c].instances[s]=o)}return i}_splitIndividualUi(e,r){let n={};for(let a in e)if(a)for(let i of r[a])n[i]||(n[i]={}),n[i][a]=e[a];return n}_splitInteraction(e){let r={};if(e){let n=this._splitEventStore(e.affectedEvents,this._getKeysForEventDefs(e.affectedEvents)),a=this._getKeysForEventDefs(e.mutatedEvents),i=this._splitEventStore(e.mutatedEvents,a),s=o=>{r[o]||(r[o]={affectedEvents:n[o]||jb,mutatedEvents:i[o]||jb,isEvent:e.isEvent})};for(let o in n)s(o);for(let o in i)s(o)}return r}}function mne(t,e,r){let n=[];t&&n.push(t),e&&n.push(e);let a={"":u3(n)};return r&&Object.assign(a,r),a}function J2(t,e,r,n){return{dow:t.getUTCDay(),isDisabled:!!(n&&(!n.activeRange||!_s(n.activeRange,t))),isOther:!!(n&&!_s(n.currentRange,t)),isToday:!!(e&&_s(e,t)),isPast:!!(r?t<r:e&&t<e.start),isFuture:!!(r?t>r:e&&t>=e.end)}}function uy(t,e){let r=["fc-day",`fc-day-${xte[t.dow]}`];return t.isDisabled?r.push("fc-day-disabled"):(t.isToday&&(r.push("fc-day-today"),r.push(e.getClass("today"))),t.isPast&&r.push("fc-day-past"),t.isFuture&&r.push("fc-day-future"),t.isOther&&r.push("fc-day-other")),r}const gne=mr({year:"numeric",month:"long",day:"numeric"}),vne=mr({week:"long"});function xu(t,e,r="day",n=!0){const{dateEnv:a,options:i,calendarApi:s}=t;let o=a.format(e,r==="week"?vne:gne);if(i.navLinks){let c=a.toDate(e);const u=d=>{let f=r==="day"?i.navLinkDayClick:r==="week"?i.navLinkWeekClick:null;typeof f=="function"?f.call(s,a.toDate(e),d):(typeof f=="string"&&(r=f),s.zoomTo(e,r))};return Object.assign({title:jf(i.navLinkHint,[o,c],o),"data-navlink":""},n?KP(u):{onClick:u})}return{"aria-label":o}}let Ab=null;function yne(){return Ab===null&&(Ab=bne()),Ab}function bne(){let t=document.createElement("div");Nf(t,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),t.innerHTML="<div></div>",document.body.appendChild(t);let r=t.firstChild.getBoundingClientRect().left>t.getBoundingClientRect().left;return D2(t),r}let _b;function xne(){return _b||(_b=wne()),_b}function wne(){let t=document.createElement("div");t.style.overflow="scroll",t.style.position="absolute",t.style.top="-9999px",t.style.left="-9999px",document.body.appendChild(t);let e=N3(t);return document.body.removeChild(t),e}function N3(t){return{x:t.offsetHeight-t.clientHeight,y:t.offsetWidth-t.clientWidth}}function Sne(t,e=!1){let r=window.getComputedStyle(t),n=parseInt(r.borderLeftWidth,10)||0,a=parseInt(r.borderRightWidth,10)||0,i=parseInt(r.borderTopWidth,10)||0,s=parseInt(r.borderBottomWidth,10)||0,o=N3(t),c=o.y-n-a,u=o.x-i-s,d={borderLeft:n,borderRight:a,borderTop:i,borderBottom:s,scrollbarBottom:u,scrollbarLeft:0,scrollbarRight:0};return yne()&&r.direction==="rtl"?d.scrollbarLeft=c:d.scrollbarRight=c,e&&(d.paddingLeft=parseInt(r.paddingLeft,10)||0,d.paddingRight=parseInt(r.paddingRight,10)||0,d.paddingTop=parseInt(r.paddingTop,10)||0,d.paddingBottom=parseInt(r.paddingBottom,10)||0),d}function Nne(t,e=!1,r){let n=e5(t),a=Sne(t,e),i={left:n.left+a.borderLeft+a.scrollbarLeft,right:n.right-a.borderRight-a.scrollbarRight,top:n.top+a.borderTop,bottom:n.bottom-a.borderBottom-a.scrollbarBottom};return e&&(i.left+=a.paddingLeft,i.right-=a.paddingRight,i.top+=a.paddingTop,i.bottom-=a.paddingBottom),i}function e5(t){let e=t.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY,right:e.right+window.scrollX,bottom:e.bottom+window.scrollY}}function jne(t){let e=j3(t),r=t.getBoundingClientRect();for(let n of e){let a=S3(r,n.getBoundingClientRect());if(a)r=a;else return null}return r}function j3(t){let e=[];for(;t instanceof HTMLElement;){let r=window.getComputedStyle(t);if(r.position==="fixed")break;/(auto|scroll)/.test(r.overflow+r.overflowY+r.overflowX)&&e.push(t),t=t.parentNode}return e}class wu{constructor(e,r,n,a){this.els=r;let i=this.originClientRect=e.getBoundingClientRect();n&&this.buildElHorizontals(i.left),a&&this.buildElVerticals(i.top)}buildElHorizontals(e){let r=[],n=[];for(let a of this.els){let i=a.getBoundingClientRect();r.push(i.left-e),n.push(i.right-e)}this.lefts=r,this.rights=n}buildElVerticals(e){let r=[],n=[];for(let a of this.els){let i=a.getBoundingClientRect();r.push(i.top-e),n.push(i.bottom-e)}this.tops=r,this.bottoms=n}leftToIndex(e){let{lefts:r,rights:n}=this,a=r.length,i;for(i=0;i<a;i+=1)if(e>=r[i]&&e<n[i])return i}topToIndex(e){let{tops:r,bottoms:n}=this,a=r.length,i;for(i=0;i<a;i+=1)if(e>=r[i]&&e<n[i])return i}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return um(this.tops||[],e.tops||[])&&um(this.bottoms||[],e.bottoms||[])&&um(this.lefts||[],e.lefts||[])&&um(this.rights||[],e.rights||[])}}function um(t,e){const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(Math.round(t[n])!==Math.round(e[n]))return!1;return!0}class t5{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class Ane extends t5{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class _ne extends t5{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class Ni extends $t{constructor(){super(...arguments),this.uid=Zl()}prepareHits(){}queryHit(e,r,n,a){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!On(e,".fc-event-mirror")}isValidDateDownEl(e){return!On(e,".fc-event:not(.fc-bg-event)")&&!On(e,".fc-more-link")&&!On(e,"a[data-navlink]")&&!On(e,".fc-popover")}}class A3{constructor(e=r=>r.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let r=[];for(let n of e)this.insertEntry(n,r);return r}insertEntry(e,r){let n=this.findInsertion(e);this.isInsertionValid(n,e)?this.insertEntryAt(e,n):this.handleInvalidInsertion(n,e,r)}isInsertionValid(e,r){return(this.maxCoord===-1||e.levelCoord+this.getEntryThickness(r)<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,r,n){if(this.allowReslicing&&e.touchingEntry){const a=Object.assign(Object.assign({},r),{span:r5(r.span,e.touchingEntry.span)});n.push(a),this.splitEntry(r,e.touchingEntry,n)}else n.push(r)}splitEntry(e,r,n){let a=e.span,i=r.span;a.start<i.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:a.start,end:i.start}},n),a.end>i.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:i.end,end:a.end}},n)}insertEntryAt(e,r){let{entriesByLevel:n,levelCoords:a}=this;r.lateral===-1?(Eb(a,r.level,r.levelCoord),Eb(n,r.level,[e])):Eb(n[r.level],r.lateral,e),this.stackCnts[Al(e)]=r.stackCnt}findInsertion(e){let{levelCoords:r,entriesByLevel:n,strictOrder:a,stackCnts:i}=this,s=r.length,o=0,c=-1,u=-1,d=null,f=0;for(let g=0;g<s;g+=1){const m=r[g];if(!a&&m>=o+this.getEntryThickness(e))break;let y=n[g],b,x=Zx(y,e.span.start,Xx),N=x[0]+x[1];for(;(b=y[N])&&b.span.start<e.span.end;){let A=m+this.getEntryThickness(b);A>o&&(o=A,d=b,c=g,u=N),A===o&&(f=Math.max(f,i[Al(b)]+1)),N+=1}}let h=0;if(d)for(h=c+1;h<s&&r[h]<o;)h+=1;let p=-1;return h<s&&r[h]===o&&(p=Zx(n[h],e.span.end,Xx)[0]),{touchingLevel:c,touchingLateral:u,touchingEntry:d,stackCnt:f,levelCoord:o,level:h,lateral:p}}toRects(){let{entriesByLevel:e,levelCoords:r}=this,n=e.length,a=[];for(let i=0;i<n;i+=1){let s=e[i],o=r[i];for(let c of s)a.push(Object.assign(Object.assign({},c),{thickness:this.getEntryThickness(c),levelCoord:o}))}return a}}function Xx(t){return t.span.end}function Al(t){return t.index+":"+t.span.start}function Ene(t){let e=[];for(let r of t){let n=[],a={span:r.span,entries:[r]};for(let i of e)r5(i.span,a.span)?a={entries:i.entries.concat(a.entries),span:One(i.span,a.span)}:n.push(i);n.push(a),e=n}return e}function One(t,e){return{start:Math.min(t.start,e.start),end:Math.max(t.end,e.end)}}function r5(t,e){let r=Math.max(t.start,e.start),n=Math.min(t.end,e.end);return r<n?{start:r,end:n}:null}function Eb(t,e,r){t.splice(e,0,r)}function Zx(t,e,r){let n=0,a=t.length;if(!a||e<r(t[n]))return[0,0];if(e>r(t[a-1]))return[a,0];for(;n<a;){let i=Math.floor(n+(a-n)/2),s=r(t[i]);if(e<s)a=i;else if(e>s)n=i+1;else return[i,1]}return[n,0]}class Cne{constructor(e,r){this.emitter=new cy}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}}const n5={};function Tne(t,e){return!t||e>10?mr({weekday:"short"}):e>1?mr({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):mr({weekday:"long"})}const _3="fc-col-header-cell";function E3(t){return t.text}class kne extends $t{render(){let{dateEnv:e,options:r,theme:n,viewApi:a}=this.context,{props:i}=this,{date:s,dateProfile:o}=i,c=J2(s,i.todayRange,null,o),u=[_3].concat(uy(c,n)),d=e.format(s,i.dayHeaderFormat),f=!c.isDisabled&&i.colCnt>1?xu(this.context,s):{},h=e.toDate(s);e.namedTimeZoneImpl&&(h=Oo(h,36e5));let p=Object.assign(Object.assign(Object.assign({date:h,view:a},i.extraRenderProps),{text:d}),c);return ie(Pn,{elTag:"th",elClasses:u,elAttrs:Object.assign({role:"columnheader",colSpan:i.colSpan,"data-date":c.isDisabled?void 0:Jh(s)},i.extraDataAttrs),renderProps:p,generatorName:"dayHeaderContent",customGenerator:r.dayHeaderContent,defaultGenerator:E3,classNameGenerator:r.dayHeaderClassNames,didMount:r.dayHeaderDidMount,willUnmount:r.dayHeaderWillUnmount},g=>ie("div",{className:"fc-scrollgrid-sync-inner"},!c.isDisabled&&ie(g,{elTag:"a",elAttrs:f,elClasses:["fc-col-header-cell-cushion",i.isSticky&&"fc-sticky"]})))}}const Pne=mr({weekday:"long"});class Dne extends $t{render(){let{props:e}=this,{dateEnv:r,theme:n,viewApi:a,options:i}=this.context,s=Hr(new Date(2592e5),e.dow),o={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},c=r.format(s,e.dayHeaderFormat),u=Object.assign(Object.assign(Object.assign(Object.assign({date:s},o),{view:a}),e.extraRenderProps),{text:c});return ie(Pn,{elTag:"th",elClasses:[_3,...uy(o,n),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:u,generatorName:"dayHeaderContent",customGenerator:i.dayHeaderContent,defaultGenerator:E3,classNameGenerator:i.dayHeaderClassNames,didMount:i.dayHeaderDidMount,willUnmount:i.dayHeaderWillUnmount},d=>ie("div",{className:"fc-scrollgrid-sync-inner"},ie(d,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":r.format(s,Pne)}})))}}class O3 extends $t{constructor(){super(...arguments),this.createDayHeaderFormatter=rt(Mne)}render(){let{context:e}=this,{dates:r,dateProfile:n,datesRepDistinctDays:a,renderIntro:i}=this.props,s=this.createDayHeaderFormatter(e.options.dayHeaderFormat,a,r.length);return ie(Jl,{unit:"day"},(o,c)=>ie("tr",{role:"row"},i&&i("day"),r.map(u=>a?ie(kne,{key:u.toISOString(),date:u,dateProfile:n,todayRange:c,colCnt:r.length,dayHeaderFormat:s}):ie(Dne,{key:u.getUTCDay(),dow:u.getUTCDay(),dayHeaderFormat:s}))))}}function Mne(t,e,r){return t||Tne(e,r)}class C3{constructor(e,r){let n=e.start,{end:a}=e,i=[],s=[],o=-1;for(;n<a;)r.isHiddenDay(n)?i.push(o+.5):(o+=1,i.push(o),s.push(n)),n=Hr(n,1);this.dates=s,this.indices=i,this.cnt=s.length}sliceRange(e){let r=this.getDateDayIndex(e.start),n=this.getDateDayIndex(Hr(e.end,-1)),a=Math.max(0,r),i=Math.min(this.cnt-1,n);return a=Math.ceil(a),i=Math.floor(i),a<=i?{firstIndex:a,lastIndex:i,isStart:r===a,isEnd:n===i}:null}getDateDayIndex(e){let{indices:r}=this,n=Math.floor(Mo(this.dates[0],e));return n<0?r[0]-1:n>=r.length?r[r.length-1]+1:r[n]}}class T3{constructor(e,r){let{dates:n}=e,a,i,s;if(r){for(i=n[0].getUTCDay(),a=1;a<n.length&&n[a].getUTCDay()!==i;a+=1);s=Math.ceil(n.length/a)}else s=1,a=n.length;this.rowCnt=s,this.colCnt=a,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let r=0;r<this.rowCnt;r+=1){let n=[];for(let a=0;a<this.colCnt;a+=1)n.push(this.buildCell(r,a));e.push(n)}return e}buildCell(e,r){let n=this.daySeries.dates[e*this.colCnt+r];return{key:n.toISOString(),date:n}}buildHeaderDates(){let e=[];for(let r=0;r<this.colCnt;r+=1)e.push(this.cells[0][r].date);return e}sliceRange(e){let{colCnt:r}=this,n=this.daySeries.sliceRange(e),a=[];if(n){let{firstIndex:i,lastIndex:s}=n,o=i;for(;o<=s;){let c=Math.floor(o/r),u=Math.min((c+1)*r,s+1);a.push({row:c,firstCol:o%r,lastCol:(u-1)%r,isStart:n.isStart&&o===i,isEnd:n.isEnd&&u-1===s}),o=u}}return a}}class k3{constructor(){this.sliceBusinessHours=rt(this._sliceBusinessHours),this.sliceDateSelection=rt(this._sliceDateSpan),this.sliceEventStore=rt(this._sliceEventStore),this.sliceEventDrag=rt(this._sliceInteraction),this.sliceEventResize=rt(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,r,n,a,...i){let{eventUiBases:s}=e,o=this.sliceEventStore(e.eventStore,s,r,n,...i);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,r,n,s,a,...i),businessHourSegs:this.sliceBusinessHours(e.businessHours,r,n,a,...i),fgEventSegs:o.fg,bgEventSegs:o.bg,eventDrag:this.sliceEventDrag(e.eventDrag,s,r,n,...i),eventResize:this.sliceEventResize(e.eventResize,s,r,n,...i),eventSelection:e.eventSelection}}sliceNowDate(e,r,n,a,...i){return this._sliceDateSpan({range:{start:e,end:Oo(e,1)},allDay:!1},r,n,{},a,...i)}_sliceBusinessHours(e,r,n,a,...i){return e?this._sliceEventStore(Ul(e,dm(r,!!n),a),{},r,n,...i).bg:[]}_sliceEventStore(e,r,n,a,...i){if(e){let s=Yx(e,r,dm(n,!!a),a);return{bg:this.sliceEventRanges(s.bg,i),fg:this.sliceEventRanges(s.fg,i)}}return{bg:[],fg:[]}}_sliceInteraction(e,r,n,a,...i){if(!e)return null;let s=Yx(e.mutatedEvents,r,dm(n,!!a),a);return{segs:this.sliceEventRanges(s.fg,i),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,r,n,a,i,...s){if(!e)return[];let o=dm(r,!!n),c=Co(e.range,o);if(c){e=Object.assign(Object.assign({},e),{range:c});let u=rne(e,a,i),d=this.sliceRange(e.range,...s);for(let f of d)f.eventRange=u;return d}return[]}sliceEventRanges(e,r){let n=[];for(let a of e)n.push(...this.sliceEventRange(a,r));return n}sliceEventRange(e,r){let n=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(n={start:n.start,end:Hr(n.start,1)});let a=this.sliceRange(n,...r);for(let i of a)i.eventRange=e,i.isStart=e.isStart&&i.isStart,i.isEnd=e.isEnd&&i.isEnd;return a}}function dm(t,e){let r=t.activeRange;return e?r:{start:Oo(r.start,t.slotMinTime.milliseconds),end:Oo(r.end,t.slotMaxTime.milliseconds-864e5)}}function P3(t,e,r){let{instances:n}=t.mutatedEvents;for(let a in n)if(!oy(e.validRange,n[a].range))return!1;return D3({eventDrag:t},r)}function Rne(t,e,r){return oy(e.validRange,t.range)?D3({dateSelection:t},r):!1}function D3(t,e){let r=e.getCurrentData(),n=Object.assign({businessHours:r.businessHours,dateSelection:"",eventStore:r.eventStore,eventUiBases:r.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},t);return(e.pluginHooks.isPropsValid||Lne)(n,e)}function Lne(t,e,r={},n){return!(t.eventDrag&&!Ine(t,e,r,n)||t.dateSelection&&!$ne(t,e,r,n))}function Ine(t,e,r,n){let a=e.getCurrentData(),i=t.eventDrag,s=i.mutatedEvents,o=s.defs,c=s.instances,u=xg(o,i.isEvent?t.eventUiBases:{"":a.selectionConfig});n&&(u=Ps(u,n));let d=Mre(t.eventStore,i.affectedEvents.instances),f=d.defs,h=d.instances,p=xg(f,t.eventUiBases);for(let g in c){let m=c[g],y=m.range,b=u[m.defId],x=o[m.defId];if(!M3(b.constraints,y,d,t.businessHours,e))return!1;let{eventOverlap:N}=e.options,A=typeof N=="function"?N:null;for(let j in h){let E=h[j];if(z2(y,E.range)&&(p[E.defId].overlap===!1&&i.isEvent||b.overlap===!1||A&&!A(new vr(e,f[E.defId],E),new vr(e,x,m))))return!1}let w=a.eventStore;for(let j of b.allows){let E=Object.assign(Object.assign({},r),{range:m.range,allDay:x.allDay}),O=w.defs[x.defId],k=w.instances[g],L;if(O?L=new vr(e,O,k):L=new vr(e,x),!j(Y2(E,e),L))return!1}}return!0}function $ne(t,e,r,n){let a=t.eventStore,i=a.defs,s=a.instances,o=t.dateSelection,c=o.range,{selectionConfig:u}=e.getCurrentData();if(n&&(u=n(u)),!M3(u.constraints,c,a,t.businessHours,e))return!1;let{selectOverlap:d}=e.options,f=typeof d=="function"?d:null;for(let h in s){let p=s[h];if(z2(c,p.range)&&(u.overlap===!1||f&&!f(new vr(e,i[p.defId],p),null)))return!1}for(let h of u.allows){let p=Object.assign(Object.assign({},r),o);if(!h(Y2(p,e),null))return!1}return!0}function M3(t,e,r,n,a){for(let i of t)if(!Bne(Fne(i,e,r,n,a),e))return!1;return!0}function Fne(t,e,r,n,a){return t==="businessHours"?Ob(Ul(n,e,a)):typeof t=="string"?Ob(ly(r,i=>i.groupId===t)):typeof t=="object"&&t?Ob(Ul(t,e,a)):[]}function Ob(t){let{instances:e}=t,r=[];for(let n in e)r.push(e[n].range);return r}function Bne(t,e){for(let r of t)if(oy(r,e))return!0;return!1}const fm=/^(visible|hidden)$/;class R3 extends $t{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,Ds(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:r,liquidIsAbsolute:n}=e,a=r&&n,i=["fc-scroller"];return r&&(n?i.push("fc-scroller-liquid-absolute"):i.push("fc-scroller-liquid")),ie("div",{ref:this.handleEl,className:i.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:a&&-(e.overcomeLeft||0)||"",right:a&&-(e.overcomeRight||0)||"",bottom:a&&-(e.overcomeBottom||0)||"",marginLeft:!a&&-(e.overcomeLeft||0)||"",marginRight:!a&&-(e.overcomeRight||0)||"",marginBottom:!a&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(fm.test(this.props.overflowX))return!1;let{el:e}=this,r=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:n}=e;for(let a=0;a<n.length;a+=1)if(n[a].getBoundingClientRect().width>r)return!0;return!1}needsYScrolling(){if(fm.test(this.props.overflowY))return!1;let{el:e}=this,r=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:n}=e;for(let a=0;a<n.length;a+=1)if(n[a].getBoundingClientRect().height>r)return!0;return!1}getXScrollbarWidth(){return fm.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return fm.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class Ss{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(r,n)=>{let{depths:a,currentMap:i}=this,s=!1,o=!1;r!==null?(s=n in i,i[n]=r,a[n]=(a[n]||0)+1,o=!0):(a[n]-=1,a[n]||(delete i[n],delete this.callbackMap[n],s=!0)),this.masterCallback&&(s&&this.masterCallback(null,String(n)),o&&this.masterCallback(r,String(n)))}}createRef(e){let r=this.callbackMap[e];return r||(r=this.callbackMap[e]=n=>{this.handleValue(n,String(e))}),r}collect(e,r,n){return Jte(this.currentMap,e,r,n)}getAll(){return B2(this.currentMap)}}function Une(t){let e=Qee(t,".fc-scrollgrid-shrink"),r=0;for(let n of e)r=Math.max(r,fte(n));return Math.ceil(r)}function L3(t,e){return t.liquid&&e.liquid}function zne(t,e){return e.maxHeight!=null||L3(t,e)}function Wne(t,e,r,n){let{expandRows:a}=r;return typeof e.content=="function"?e.content(r):ie("table",{role:"presentation",className:[e.tableClassName,t.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:r.tableMinWidth,width:r.clientWidth,height:a?r.clientHeight:""}},r.tableColGroupNode,ie(n?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(r):e.rowContent))}function Hne(t,e){return Eo(t,e,es)}function qne(t,e){let r=[];for(let n of t){let a=n.span||1;for(let i=0;i<a;i+=1)r.push(ie("col",{style:{width:n.width==="shrink"?Gne(e):n.width||"",minWidth:n.minWidth||""}}))}return ie("colgroup",{},...r)}function Gne(t){return t??4}function Vne(t){for(let e of t)if(e.width==="shrink")return!0;return!1}function Yne(t,e){let r=["fc-scrollgrid",e.theme.getClass("table")];return t&&r.push("fc-scrollgrid-liquid"),r}function Kne(t,e){let r=["fc-scrollgrid-section",`fc-scrollgrid-section-${t.type}`,t.className];return e&&t.liquid&&t.maxHeight==null&&r.push("fc-scrollgrid-section-liquid"),t.isSticky&&r.push("fc-scrollgrid-section-sticky"),r}function Qx(t){return ie("div",{className:"fc-scrollgrid-sticky-shim",style:{width:t.clientWidth,minWidth:t.tableMinWidth}})}function wg(t){let{stickyHeaderDates:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}function I3(t){let{stickyFooterScrollbar:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}class a5 extends $t{constructor(){super(...arguments),this.processCols=rt(e=>e,Hne),this.renderMicroColGroup=rt(qne),this.scrollerRefs=new Ss,this.scrollerElRefs=new Ss(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:r,context:n}=this,a=e.sections||[],i=this.processCols(e.cols),s=this.renderMicroColGroup(i,r.shrinkWidth),o=Yne(e.liquid,n);e.collapsibleWidth&&o.push("fc-scrollgrid-collapsible");let c=a.length,u=0,d,f=[],h=[],p=[];for(;u<c&&(d=a[u]).type==="header";)f.push(this.renderSection(d,s,!0)),u+=1;for(;u<c&&(d=a[u]).type==="body";)h.push(this.renderSection(d,s,!1)),u+=1;for(;u<c&&(d=a[u]).type==="footer";)p.push(this.renderSection(d,s,!0)),u+=1;let g=!w3();const m={role:"rowgroup"};return ie("table",{role:"grid",className:o.join(" "),style:{height:e.height}},!!(!g&&f.length)&&ie("thead",m,...f),!!(!g&&h.length)&&ie("tbody",m,...h),!!(!g&&p.length)&&ie("tfoot",m,...p),g&&ie("tbody",m,...f,...h,...p))}renderSection(e,r,n){return"outerContent"in e?ie(Xt,{key:e.key},e.outerContent):ie("tr",{key:e.key,role:"presentation",className:Kne(e,this.props.liquid).join(" ")},this.renderChunkTd(e,r,e.chunk,n))}renderChunkTd(e,r,n,a){if("outerContent"in n)return n.outerContent;let{props:i}=this,{forceYScrollbars:s,scrollerClientWidths:o,scrollerClientHeights:c}=this.state,u=zne(i,e),d=L3(i,e),f=i.liquid?s?"scroll":u?"auto":"hidden":"visible",h=e.key,p=Wne(e,n,{tableColGroupNode:r,tableMinWidth:"",clientWidth:!i.collapsibleWidth&&o[h]!==void 0?o[h]:null,clientHeight:c[h]!==void 0?c[h]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},a);return ie(a?"th":"td",{ref:n.elRef,role:"presentation"},ie("div",{className:`fc-scroller-harness${d?" fc-scroller-harness-liquid":""}`},ie(R3,{ref:this.scrollerRefs.createRef(h),elRef:this.scrollerElRefs.createRef(h),overflowY:f,overflowX:i.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:d,liquidIsAbsolute:!0},p)))}_handleScrollerEl(e,r){let n=Xne(this.props.sections,r);n&&Ds(n.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return Vne(this.props.cols)?Une(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=xne(),{scrollerRefs:r,scrollerElRefs:n}=this,a=!1,i={},s={};for(let o in r.currentMap){let c=r.currentMap[o];if(c&&c.needsYScrolling()){a=!0;break}}for(let o of this.props.sections){let c=o.key,u=n.currentMap[c];if(u){let d=u.parentNode;i[c]=Math.floor(d.getBoundingClientRect().width-(a?e.y:0)),s[c]=Math.floor(d.getBoundingClientRect().height)}}return{forceYScrollbars:a,scrollerClientWidths:i,scrollerClientHeights:s}}}a5.addStateEquality({scrollerClientWidths:es,scrollerClientHeights:es});function Xne(t,e){for(let r of t)if(r.key===e)return r;return null}class dy extends $t{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,e&&MA(e,this.props.seg)}}render(){const{props:e,context:r}=this,{options:n}=r,{seg:a}=e,{eventRange:i}=a,{ui:s}=i,o={event:new vr(r,i.def,i.instance),view:r.viewApi,timeText:e.timeText,textColor:s.textColor,backgroundColor:s.backgroundColor,borderColor:s.borderColor,isDraggable:!e.disableDragging&&Gre(a,r),isStartResizable:!e.disableResizing&&Vre(a,r),isEndResizable:!e.disableResizing&&Yre(a),isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!a.isStart,isEnd:!!a.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return ie(Pn,Object.assign({},e,{elRef:this.handleEl,elClasses:[...Kre(o),...a.eventRange.ui.classNames,...e.elClasses||[]],renderProps:o,generatorName:"eventContent",customGenerator:n.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:n.eventClassNames,didMount:n.eventDidMount,willUnmount:n.eventWillUnmount}))}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&MA(this.el,this.props.seg)}}class $3 extends $t{render(){let{props:e,context:r}=this,{options:n}=r,{seg:a}=e,{ui:i}=a.eventRange,s=n.eventTimeFormat||e.defaultTimeFormat,o=_f(a,s,r,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return ie(dy,Object.assign({},e,{elTag:"a",elStyle:{borderColor:i.borderColor,backgroundColor:i.backgroundColor},elAttrs:Z2(a,r),defaultGenerator:Zne,timeText:o}),(c,u)=>ie(Xt,null,ie(c,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:u.textColor}}),!!u.isStartResizable&&ie("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!u.isEndResizable&&ie("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}function Zne(t){return ie("div",{className:"fc-event-main-frame"},t.timeText&&ie("div",{className:"fc-event-time"},t.timeText),ie("div",{className:"fc-event-title-container"},ie("div",{className:"fc-event-title fc-sticky"},t.event.title||ie(Xt,null,"Â "))))}const i5=t=>ie($s.Consumer,null,e=>{let{options:r}=e,n={isAxis:t.isAxis,date:e.dateEnv.toDate(t.date),view:e.viewApi};return ie(Pn,Object.assign({},t,{elTag:t.elTag||"div",renderProps:n,generatorName:"nowIndicatorContent",customGenerator:r.nowIndicatorContent,classNameGenerator:r.nowIndicatorClassNames,didMount:r.nowIndicatorDidMount,willUnmount:r.nowIndicatorWillUnmount}))}),Qne=mr({day:"numeric"});class s5 extends $t{constructor(){super(...arguments),this.refineRenderProps=Hm(Jne)}render(){let{props:e,context:r}=this,{options:n}=r,a=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:r.viewApi,dateEnv:r.dateEnv,monthStartFormat:n.monthStartFormat});return ie(Pn,Object.assign({},e,{elClasses:[...uy(a,r.theme),...e.elClasses||[]],elAttrs:Object.assign(Object.assign({},e.elAttrs),a.isDisabled?{}:{"data-date":Jh(e.date)}),renderProps:a,generatorName:"dayCellContent",customGenerator:n.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:a.isDisabled?void 0:n.dayCellClassNames,didMount:n.dayCellDidMount,willUnmount:n.dayCellWillUnmount}))}}function o5(t){return!!(t.dayCellContent||qx("dayCellContent",t))}function Jne(t){let{date:e,dateEnv:r,dateProfile:n,isMonthStart:a}=t,i=J2(e,t.todayRange,null,n),s=t.showDayNumber?r.format(e,a?t.monthStartFormat:Qne):"";return Object.assign(Object.assign(Object.assign({date:r.toDate(e),view:t.viewApi},i),{isMonthStart:a,dayNumberText:s}),t.extraRenderProps)}class F3 extends $t{render(){let{props:e}=this,{seg:r}=e;return ie(dy,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:r.eventRange.ui.backgroundColor},defaultGenerator:eae,seg:r,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function eae(t){let{title:e}=t.event;return e&&ie("div",{className:"fc-event-title"},t.event.title)}function B3(t){return ie("div",{className:`fc-${t}`})}const U3=t=>ie($s.Consumer,null,e=>{let{dateEnv:r,options:n}=e,{date:a}=t,i=n.weekNumberFormat||t.defaultFormat,s=r.computeWeekNumber(a),o=r.format(a,i);return ie(Pn,Object.assign({},t,{renderProps:{num:s,text:o,date:a},generatorName:"weekNumberContent",customGenerator:n.weekNumberContent,defaultGenerator:tae,classNameGenerator:n.weekNumberClassNames,didMount:n.weekNumberDidMount,willUnmount:n.weekNumberWillUnmount}))});function tae(t){return t.text}const Cb=10;class rae extends $t{constructor(){super(...arguments),this.state={titleId:xo()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&Ds(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{const r=VP(e);this.rootEl.contains(r)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:r}=this.context,{props:n,state:a}=this,i=["fc-popover",e.getClass("popover")].concat(n.extraClassNames||[]);return $ee(ie("div",Object.assign({},n.extraAttrs,{id:n.id,className:i.join(" "),"aria-labelledby":a.titleId,ref:this.handleRootEl}),ie("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},ie("span",{className:"fc-popover-title",id:a.titleId},n.title),ie("span",{className:"fc-popover-close "+e.getIconClass("close"),title:r.closeHint,onClick:this.handleCloseClick})),ie("div",{className:"fc-popover-body "+e.getClass("popoverContent")},n.children)),n.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:r,alignGridTop:n}=this.props,{rootEl:a}=this,i=jne(r);if(i){let s=a.getBoundingClientRect(),o=n?On(r,".fc-scrollgrid").getBoundingClientRect().top:i.top,c=e?i.right-s.width:i.left;o=Math.max(o,Cb),c=Math.min(c,document.documentElement.clientWidth-Cb-s.width),c=Math.max(c,Cb);let u=a.offsetParent.getBoundingClientRect();Nf(a,{top:o-u.top,left:c-u.left})}}}class nae extends Ni{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:r}=this.context,{props:n}=this,{startDate:a,todayRange:i,dateProfile:s}=n,o=r.format(a,e.dayPopoverFormat);return ie(s5,{elRef:this.handleRootEl,date:a,dateProfile:s,todayRange:i},(c,u,d)=>ie(rae,{elRef:d.ref,id:n.id,title:o,extraClassNames:["fc-more-popover"].concat(d.className||[]),extraAttrs:d,parentEl:n.parentEl,alignmentEl:n.alignmentEl,alignGridTop:n.alignGridTop,onClose:n.onClose},o5(e)&&ie(c,{elTag:"div",elClasses:["fc-more-popover-misc"]}),n.children))}queryHit(e,r,n,a){let{rootEl:i,props:s}=this;return e>=0&&e<n&&r>=0&&r<a?{dateProfile:s.dateProfile,dateSpan:Object.assign({allDay:!s.forceTimed,range:{start:s.startDate,end:s.endDate}},s.extraDateSpan),dayEl:i,rect:{left:0,top:0,right:n,bottom:a},layer:1}:null}}class z3 extends $t{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:xo()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&Ds(this.props.elRef,e)},this.handleClick=e=>{let{props:r,context:n}=this,{moreLinkClick:a}=n.options,i=LA(r).start;function s(o){let{def:c,instance:u,range:d}=o.eventRange;return{event:new vr(n,c,u),start:n.dateEnv.toDate(d.start),end:n.dateEnv.toDate(d.end),isStart:o.isStart,isEnd:o.isEnd}}typeof a=="function"&&(a=a({date:i,allDay:!!r.allDayDate,allSegs:r.allSegs.map(s),hiddenSegs:r.hiddenSegs.map(s),jsEvent:e,view:n.viewApi})),!a||a==="popover"?this.setState({isPopoverOpen:!0}):typeof a=="string"&&n.calendarApi.zoomTo(i,a)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:r}=this;return ie($s.Consumer,null,n=>{let{viewApi:a,options:i,calendarApi:s}=n,{moreLinkText:o}=i,{moreCnt:c}=e,u=LA(e),d=typeof o=="function"?o.call(s,c):`+${c} ${o}`,f=jf(i.moreLinkHint,[c],d),h={num:c,shortText:`+${c}`,text:d,view:a};return ie(Xt,null,!!e.moreCnt&&ie(Pn,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),KP(this.handleClick)),{title:f,"aria-expanded":r.isPopoverOpen,"aria-controls":r.isPopoverOpen?r.popoverId:""}),renderProps:h,generatorName:"moreLinkContent",customGenerator:i.moreLinkContent,defaultGenerator:e.defaultGenerator||aae,classNameGenerator:i.moreLinkClassNames,didMount:i.moreLinkDidMount,willUnmount:i.moreLinkWillUnmount},e.children),r.isPopoverOpen&&ie(nae,{id:r.popoverId,startDate:u.start,endDate:u.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=On(this.linkEl,".fc-view-harness"))}}function aae(t){return t.text}function LA(t){if(t.allDayDate)return{start:t.allDayDate,end:Hr(t.allDayDate,1)};let{hiddenSegs:e}=t;return{start:W3(e),end:sae(e)}}function W3(t){return t.reduce(iae).eventRange.range.start}function iae(t,e){return t.eventRange.range.start<e.eventRange.range.start?t:e}function sae(t){return t.reduce(oae).eventRange.range.end}function oae(t,e){return t.eventRange.range.end>e.eventRange.range.end?t:e}class lae{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let r of this.handlers)r(e)}subscribe(e){this.handlers.push(e),this.currentValue!==void 0&&e(this.currentValue)}}class cae extends lae{constructor(){super(...arguments),this.map=new Map}handle(e){const{map:r}=this;let n=!1;e.isActive?(r.set(e.id,e),n=!0):r.has(e.id)&&(r.delete(e.id),n=!0),n&&this.set(r)}}const uae=[],H3={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},q3=Object.assign(Object.assign({},H3),{buttonHints:{prev:"Previous $0",next:"Next $0",today(t,e){return e==="day"?"Today":`This ${t}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(t){return`Show ${t} more event${t===1?"":"s"}`}});function dae(t){let e=t.length>0?t[0].code:"en",r=uae.concat(t),n={en:q3};for(let a of r)n[a.code]=a;return{map:n,defaultCode:e}}function G3(t,e){return typeof t=="object"&&!Array.isArray(t)?V3(t.code,[t.code],t):fae(t,e)}function fae(t,e){let r=[].concat(t||[]),n=hae(r,e)||q3;return V3(t,r,n)}function hae(t,e){for(let r=0;r<t.length;r+=1){let n=t[r].toLocaleLowerCase().split("-");for(let a=n.length;a>0;a-=1){let i=n.slice(0,a).join("-");if(e[i])return e[i]}}return null}function V3(t,e,r){let n=F2([H3,r],["buttonText"]);delete n.code;let{week:a}=n;return delete n.week,{codeArg:t,codes:e,week:a,simpleNumberFormat:new Intl.NumberFormat(t),options:n}}function ji(t){return{id:Zl(),name:t.name,premiumReleaseDate:t.premiumReleaseDate?new Date(t.premiumReleaseDate):void 0,deps:t.deps||[],reducers:t.reducers||[],isLoadingFuncs:t.isLoadingFuncs||[],contextInit:[].concat(t.contextInit||[]),eventRefiners:t.eventRefiners||{},eventDefMemberAdders:t.eventDefMemberAdders||[],eventSourceRefiners:t.eventSourceRefiners||{},isDraggableTransformers:t.isDraggableTransformers||[],eventDragMutationMassagers:t.eventDragMutationMassagers||[],eventDefMutationAppliers:t.eventDefMutationAppliers||[],dateSelectionTransformers:t.dateSelectionTransformers||[],datePointTransforms:t.datePointTransforms||[],dateSpanTransforms:t.dateSpanTransforms||[],views:t.views||{},viewPropsTransformers:t.viewPropsTransformers||[],isPropsValid:t.isPropsValid||null,externalDefTransforms:t.externalDefTransforms||[],viewContainerAppends:t.viewContainerAppends||[],eventDropTransformers:t.eventDropTransformers||[],componentInteractions:t.componentInteractions||[],calendarInteractions:t.calendarInteractions||[],themeClasses:t.themeClasses||{},eventSourceDefs:t.eventSourceDefs||[],cmdFormatter:t.cmdFormatter,recurringTypes:t.recurringTypes||[],namedTimeZonedImpl:t.namedTimeZonedImpl,initialView:t.initialView||"",elementDraggingImpl:t.elementDraggingImpl,optionChangeHandlers:t.optionChangeHandlers||{},scrollGridImpl:t.scrollGridImpl||null,listenerRefiners:t.listenerRefiners||{},optionRefiners:t.optionRefiners||{},propSetHandlers:t.propSetHandlers||{}}}function pae(t,e){let r={},n={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function a(i){for(let s of i){const o=s.name,c=r[o];c===void 0?(r[o]=s.id,a(s.deps),n=gae(n,s)):c!==s.id&&console.warn(`Duplicate plugin '${o}'`)}}return t&&a(t),a(e),n}function mae(){let t=[],e=[],r;return(n,a)=>((!r||!Eo(n,t)||!Eo(a,e))&&(r=pae(n,a)),t=n,e=a,r)}function gae(t,e){return{premiumReleaseDate:vae(t.premiumReleaseDate,e.premiumReleaseDate),reducers:t.reducers.concat(e.reducers),isLoadingFuncs:t.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:t.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},t.eventRefiners),e.eventRefiners),eventDefMemberAdders:t.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},t.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:t.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:t.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:t.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:t.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:t.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:t.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},t.views),e.views),viewPropsTransformers:t.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||t.isPropsValid,externalDefTransforms:t.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:t.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:t.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:t.calendarInteractions.concat(e.calendarInteractions),componentInteractions:t.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},t.themeClasses),e.themeClasses),eventSourceDefs:t.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||t.cmdFormatter,recurringTypes:t.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||t.namedTimeZonedImpl,initialView:t.initialView||e.initialView,elementDraggingImpl:t.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},t.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||t.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},t.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},t.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},t.propSetHandlers),e.propSetHandlers)}}function vae(t,e){return t===void 0?e:e===void 0?t:new Date(Math.max(t.valueOf(),e.valueOf()))}class Ro extends ep{}Ro.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};Ro.prototype.baseIconClass="fc-icon";Ro.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};Ro.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};Ro.prototype.iconOverrideOption="buttonIcons";Ro.prototype.iconOverrideCustomButtonOption="icon";Ro.prototype.iconOverridePrefix="fc-icon-";function yae(t,e){let r={},n;for(n in t)Jx(n,r,t,e);for(n in e)Jx(n,r,t,e);return r}function Jx(t,e,r,n){if(e[t])return e[t];let a=bae(t,e,r,n);return a&&(e[t]=a),a}function bae(t,e,r,n){let a=r[t],i=n[t],s=d=>a&&a[d]!==null?a[d]:i&&i[d]!==null?i[d]:null,o=s("component"),c=s("superType"),u=null;if(c){if(c===t)throw new Error("Can't have a custom view type that references itself");u=Jx(c,e,r,n)}return!o&&u&&(o=u.component),o?{type:t,component:o,defaults:Object.assign(Object.assign({},u?u.defaults:{}),a?a.rawOptions:{}),overrides:Object.assign(Object.assign({},u?u.overrides:{}),i?i.rawOptions:{})}:null}function IA(t){return Ps(t,xae)}function xae(t){let e=typeof t=="function"?{component:t}:t,{component:r}=e;return e.content?r=$A(e):r&&!(r.prototype instanceof $t)&&(r=$A(Object.assign(Object.assign({},e),{content:r}))),{superType:e.type,component:r,rawOptions:e}}function $A(t){return e=>ie($s.Consumer,null,r=>ie(Pn,{elTag:"div",elClasses:a3(r.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:r.options.nextDayThreshold}),generatorName:void 0,customGenerator:t.content,classNameGenerator:t.classNames,didMount:t.didMount,willUnmount:t.willUnmount}))}function wae(t,e,r,n){let a=IA(t),i=IA(e.views),s=yae(a,i);return Ps(s,o=>Sae(o,i,e,r,n))}function Sae(t,e,r,n,a){let i=t.overrides.duration||t.defaults.duration||n.duration||r.duration,s=null,o="",c="",u={};if(i&&(s=Nae(i),s)){let h=Wx(s);o=h.unit,h.value===1&&(c=o,u=e[o]?e[o].rawOptions:{})}let d=h=>{let p=h.buttonText||{},g=t.defaults.buttonTextKey;return g!=null&&p[g]!=null?p[g]:p[t.type]!=null?p[t.type]:p[c]!=null?p[c]:null},f=h=>{let p=h.buttonHints||{},g=t.defaults.buttonTextKey;return g!=null&&p[g]!=null?p[g]:p[t.type]!=null?p[t.type]:p[c]!=null?p[c]:null};return{type:t.type,component:t.component,duration:s,durationUnit:o,singleUnit:c,optionDefaults:t.defaults,optionOverrides:Object.assign(Object.assign({},u),t.overrides),buttonTextOverride:d(n)||d(r)||t.overrides.buttonText,buttonTextDefault:d(a)||t.defaults.buttonText||d(Af)||t.type,buttonTitleOverride:f(n)||f(r)||t.overrides.buttonHint,buttonTitleDefault:f(a)||t.defaults.buttonHint||f(Af)}}let FA={};function Nae(t){let e=JSON.stringify(t),r=FA[e];return r===void 0&&(r=Et(t),FA[e]=r),r}function jae(t,e){switch(e.type){case"CHANGE_VIEW_TYPE":t=e.viewType}return t}function Aae(t,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return t}}function _ae(t,e,r){let n=t.initialDate;return n!=null?e.createMarker(n):r.getDateMarker()}function Eae(t,e){switch(e.type){case"SET_OPTION":return Object.assign(Object.assign({},t),{[e.optionName]:e.rawOptionValue});default:return t}}function Oae(t,e,r,n){let a;switch(e.type){case"CHANGE_VIEW_TYPE":return n.build(e.dateMarker||r);case"CHANGE_DATE":return n.build(e.dateMarker);case"PREV":if(a=n.buildPrev(t,r),a.isValid)return a;break;case"NEXT":if(a=n.buildNext(t,r),a.isValid)return a;break}return t}function Cae(t,e,r){let n=e?e.activeRange:null;return K3({},Lae(t,r),n,r)}function Tae(t,e,r,n){let a=r?r.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return K3(t,e.sources,a,n);case"REMOVE_EVENT_SOURCE":return Pae(t,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return r?X3(t,a,n):t;case"FETCH_EVENT_SOURCES":return l5(t,e.sourceIds?JP(e.sourceIds):Z3(t,n),a,e.isRefetch||!1,n);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return Rae(t,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return t}}function kae(t,e,r){let n=e?e.activeRange:null;return l5(t,Z3(t,r),n,!0,r)}function Y3(t){for(let e in t)if(t[e].isFetching)return!0;return!1}function K3(t,e,r,n){let a={};for(let i of e)a[i.sourceId]=i;return r&&(a=X3(a,r,n)),Object.assign(Object.assign({},t),a)}function Pae(t,e){return Bl(t,r=>r.sourceId!==e)}function X3(t,e,r){return l5(t,Bl(t,n=>Dae(n,e,r)),e,!1,r)}function Dae(t,e,r){return Q3(t,r)?!r.options.lazyFetching||!t.fetchRange||t.isFetching||e.start<t.fetchRange.start||e.end>t.fetchRange.end:!t.latestFetchId}function l5(t,e,r,n,a){let i={};for(let s in t){let o=t[s];e[s]?i[s]=Mae(o,r,n,a):i[s]=o}return i}function Mae(t,e,r,n){let{options:a,calendarApi:i}=n,s=n.pluginHooks.eventSourceDefs[t.sourceDefId],o=Zl();return s.fetch({eventSource:t,range:e,isRefetch:r,context:n},c=>{let{rawEvents:u}=c;a.eventSourceSuccess&&(u=a.eventSourceSuccess.call(i,u,c.response)||u),t.success&&(u=t.success.call(i,u,c.response)||u),n.dispatch({type:"RECEIVE_EVENTS",sourceId:t.sourceId,fetchId:o,fetchRange:e,rawEvents:u})},c=>{let u=!1;a.eventSourceFailure&&(a.eventSourceFailure.call(i,c),u=!0),t.failure&&(t.failure(c),u=!0),u||console.warn(c.message,c),n.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:t.sourceId,fetchId:o,fetchRange:e,error:c})}),Object.assign(Object.assign({},t),{isFetching:!0,latestFetchId:o})}function Rae(t,e,r,n){let a=t[e];return a&&r===a.latestFetchId?Object.assign(Object.assign({},t),{[e]:Object.assign(Object.assign({},a),{isFetching:!1,fetchRange:n})}):t}function Z3(t,e){return Bl(t,r=>Q3(r,e))}function Lae(t,e){let r=f3(e),n=[].concat(t.eventSources||[]),a=[];t.initialEvents&&n.unshift(t.initialEvents),t.events&&n.unshift(t.events);for(let i of n){let s=d3(i,e,r);s&&a.push(s)}return a}function Q3(t,e){return!e.pluginHooks.eventSourceDefs[t.sourceDefId].ignoreRange}function Iae(t,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return t}}function $ae(t,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return t}}function Fae(t,e){let r;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return r=e.state,{affectedEvents:r.affectedEvents,mutatedEvents:r.mutatedEvents,isEvent:r.isEvent};default:return t}}function Bae(t,e){let r;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return r=e.state,{affectedEvents:r.affectedEvents,mutatedEvents:r.mutatedEvents,isEvent:r.isEvent};default:return t}}function Uae(t,e,r,n,a){let i=t.headerToolbar?BA(t.headerToolbar,t,e,r,n,a):null,s=t.footerToolbar?BA(t.footerToolbar,t,e,r,n,a):null;return{header:i,footer:s}}function BA(t,e,r,n,a,i){let s={},o=[],c=!1;for(let u in t){let d=t[u],f=zae(d,e,r,n,a,i);s[u]=f.widgets,o.push(...f.viewsWithButtons),c=c||f.hasTitle}return{sectionWidgets:s,viewsWithButtons:o,hasTitle:c}}function zae(t,e,r,n,a,i){let s=e.direction==="rtl",o=e.customButtons||{},c=r.buttonText||{},u=e.buttonText||{},d=r.buttonHints||{},f=e.buttonHints||{},h=t?t.split(" "):[],p=[],g=!1;return{widgets:h.map(y=>y.split(",").map(b=>{if(b==="title")return g=!0,{buttonName:b};let x,N,A,w,j,E;if(x=o[b])A=O=>{x.click&&x.click.call(O.target,O,O.target)},(w=n.getCustomButtonIconClass(x))||(w=n.getIconClass(b,s))||(j=x.text),E=x.hint||x.text;else if(N=a[b]){p.push(b),A=()=>{i.changeView(b)},(j=N.buttonTextOverride)||(w=n.getIconClass(b,s))||(j=N.buttonTextDefault);let O=N.buttonTextOverride||N.buttonTextDefault;E=jf(N.buttonTitleOverride||N.buttonTitleDefault||e.viewHint,[O,b],O)}else if(i[b])if(A=()=>{i[b]()},(j=c[b])||(w=n.getIconClass(b,s))||(j=u[b]),b==="prevYear"||b==="nextYear"){let O=b==="prevYear"?"prev":"next";E=jf(d[O]||f[O],[u.year||"year","year"],u[b])}else E=O=>jf(d[b]||f[b],[u[O]||O,O],u[b]);return{buttonName:b,buttonClick:A,buttonIcon:w,buttonText:j,buttonHint:E}})),viewsWithButtons:p,hasTitle:g}}class Wae{constructor(e,r,n){this.type=e,this.getCurrentData=r,this.dateEnv=n}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}let Hae={ignoreRange:!0,parseMeta(t){return Array.isArray(t.events)?t.events:null},fetch(t,e){e({rawEvents:t.eventSource.meta})}};const qae=ji({name:"array-event-source",eventSourceDefs:[Hae]});let Gae={parseMeta(t){return typeof t.events=="function"?t.events:null},fetch(t,e,r){const{dateEnv:n}=t.context,a=t.eventSource.meta;nne(a.bind(null,b3(t.range,n)),i=>e({rawEvents:i}),r)}};const Vae=ji({name:"func-event-source",eventSourceDefs:[Gae]}),Yae={method:String,extraParams:Se,startParam:String,endParam:String,timeZoneParam:String};let Kae={parseMeta(t){return t.url&&(t.format==="json"||!t.format)?{url:t.url,format:"json",method:(t.method||"GET").toUpperCase(),extraParams:t.extraParams,startParam:t.startParam,endParam:t.endParam,timeZoneParam:t.timeZoneParam}:null},fetch(t,e,r){const{meta:n}=t.eventSource,a=Zae(n,t.range,t.context);ane(n.method,n.url,a).then(([i,s])=>{e({rawEvents:i,response:s})},r)}};const Xae=ji({name:"json-event-source",eventSourceRefiners:Yae,eventSourceDefs:[Kae]});function Zae(t,e,r){let{dateEnv:n,options:a}=r,i,s,o,c,u={};return i=t.startParam,i==null&&(i=a.startParam),s=t.endParam,s==null&&(s=a.endParam),o=t.timeZoneParam,o==null&&(o=a.timeZoneParam),typeof t.extraParams=="function"?c=t.extraParams():c=t.extraParams||{},Object.assign(u,c),u[i]=n.formatIso(e.start),u[s]=n.formatIso(e.end),n.timeZone!=="local"&&(u[o]=n.timeZone),u}const Qae={daysOfWeek:Se,startTime:Et,endTime:Et,duration:Et,startRecur:Se,endRecur:Se};let Jae={parse(t,e){if(t.daysOfWeek||t.startTime||t.endTime||t.startRecur||t.endRecur){let r={daysOfWeek:t.daysOfWeek||null,startTime:t.startTime||null,endTime:t.endTime||null,startRecur:t.startRecur?e.createMarker(t.startRecur):null,endRecur:t.endRecur?e.createMarker(t.endRecur):null,dateEnv:e},n;return t.duration&&(n=t.duration),!n&&t.startTime&&t.endTime&&(n=gte(t.endTime,t.startTime)),{allDayGuess:!t.startTime&&!t.endTime,duration:n,typeData:r}}return null},expand(t,e,r){let n=Co(e,{start:t.startRecur,end:t.endRecur});return n?tie(t.daysOfWeek,t.startTime,t.dateEnv,r,n):[]}};const eie=ji({name:"simple-recurring-event",recurringTypes:[Jae],eventRefiners:Qae});function tie(t,e,r,n,a){let i=t?JP(t):null,s=rr(a.start),o=a.end,c=[];for(;s<o;){let u;(!i||i[s.getUTCDay()])&&(e?u=n.add(s,e):u=s,c.push(n.createMarker(r.toDate(u)))),s=Hr(s,1)}return c}const rie=ji({name:"change-handler",optionChangeHandlers:{events(t,e){UA([t],e)},eventSources:UA}});function UA(t,e){let r=B2(e.getCurrentData().eventSources);if(r.length===1&&t.length===1&&Array.isArray(r[0]._raw)&&Array.isArray(t[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:r[0].sourceId,rawEvents:t[0]});return}let n=[];for(let a of t){let i=!1;for(let s=0;s<r.length;s+=1)if(r[s]._raw===a){r.splice(s,1),i=!0;break}i||n.push(a)}for(let a of r)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:a.sourceId});for(let a of n)e.calendarApi.addEventSource(a)}function nie(t,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},b3(t.activeRange,e.dateEnv)),{view:e.viewApi}))}function aie(t,e){let{emitter:r}=e;r.hasHandlers("eventsSet")&&r.trigger("eventsSet",jl(t,e))}const iie=[qae,Vae,Xae,eie,rie,ji({name:"misc",isLoadingFuncs:[t=>Y3(t.eventSources)],propSetHandlers:{dateProfile:nie,eventStore:aie}})];class sie{constructor(e,r){this.runTaskOption=e,this.drainedOption=r,this.queue=[],this.delayedRunner=new P2(this.drain.bind(this))}request(e,r){this.queue.push(e),this.delayedRunner.request(r)}pause(e){this.delayedRunner.pause(e)}resume(e,r){this.delayedRunner.resume(e,r)}drain(){let{queue:e}=this;for(;e.length;){let r=[],n;for(;n=e.shift();)this.runTask(n),r.push(n);this.drained(r)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function oie(t,e,r){let n;return/^(year|month)$/.test(t.currentRangeUnit)?n=t.currentRange:n=t.activeRange,r.formatRange(n.start,n.end,mr(e.titleFormat||lie(t)),{isEndExclusive:t.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function lie(t){let{currentRangeUnit:e}=t;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let r=hg(t.currentRange.start,t.currentRange.end);return r!==null&&r>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}class zA{constructor(){this.resetListeners=new Set}handleInput(e,r){const n=this.dateEnv;if(e!==n&&(typeof r=="function"?this.nowFn=r:n||(this.nowAnchorDate=e.toDate(r?e.createMarker(r):e.createNowMarker()),this.nowAnchorQueried=Date.now()),this.dateEnv=e,n))for(const a of this.resetListeners.values())a()}getDateMarker(){return this.nowAnchorDate?this.dateEnv.timestampToMarker(this.nowAnchorDate.valueOf()+(Date.now()-this.nowAnchorQueried)):this.dateEnv.createMarker(this.nowFn())}addResetListener(e){this.resetListeners.add(e)}removeResetListener(e){this.resetListeners.delete(e)}}class cie{constructor(e){this.computeCurrentViewData=rt(this._computeCurrentViewData),this.organizeRawLocales=rt(dae),this.buildLocale=rt(G3),this.buildPluginHooks=mae(),this.buildDateEnv=rt(uie),this.buildTheme=rt(die),this.parseToolbars=rt(Uae),this.buildViewSpecs=rt(wae),this.buildDateProfileGenerator=Hm(fie),this.buildViewApi=rt(hie),this.buildViewUiProps=Hm(gie),this.buildEventUiBySource=rt(pie,es),this.buildEventUiBases=rt(mie),this.parseContextBusinessHours=Hm(vie),this.buildTitle=rt(oie),this.nowManager=new zA,this.emitter=new cy,this.actionRunner=new sie(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=h=>{this.actionRunner.request(h)},this.props=e,this.actionRunner.pause(),this.nowManager=new zA;let r={},n=this.computeOptionsData(e.optionOverrides,r,e.calendarApi),a=n.calendarOptions.initialView||n.pluginHooks.initialView,i=this.computeCurrentViewData(a,n,e.optionOverrides,r);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(i.options);let s={nowManager:this.nowManager,dateEnv:n.dateEnv,options:n.calendarOptions,pluginHooks:n.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},o=_ae(n.calendarOptions,n.dateEnv,this.nowManager),c=i.dateProfileGenerator.build(o);_s(c.activeRange,o)||(o=c.currentRange.start);for(let h of n.pluginHooks.contextInit)h(s);let u=Cae(n.calendarOptions,c,s),d={dynamicOptionOverrides:r,currentViewType:a,currentDate:o,dateProfile:c,businessHours:this.parseContextBusinessHours(s),eventSources:u,eventUiBases:{},eventStore:va(),renderableEventStore:va(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(s).selectionConfig},f=Object.assign(Object.assign({},s),d);for(let h of n.pluginHooks.reducers)Object.assign(d,h(null,null,f));Tb(d,s)&&this.emitter.trigger("loading",!0),this.state=d,this.updateData(),this.actionRunner.resume()}resetOptions(e,r){let{props:n}=this;r===void 0?n.optionOverrides=e:(n.optionOverrides=Object.assign(Object.assign({},n.optionOverrides||{}),e),this.optionsForRefining.push(...r)),(r===void 0||r.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:r,state:n,emitter:a}=this,i=Eae(n.dynamicOptionOverrides,e),s=this.computeOptionsData(r.optionOverrides,i,r.calendarApi),o=jae(n.currentViewType,e),c=this.computeCurrentViewData(o,s,r.optionOverrides,i);r.calendarApi.currentDataManager=this,a.setThisContext(r.calendarApi),a.setOptions(c.options);let u={nowManager:this.nowManager,dateEnv:s.dateEnv,options:s.calendarOptions,pluginHooks:s.pluginHooks,calendarApi:r.calendarApi,dispatch:this.dispatch,emitter:a,getCurrentData:this.getCurrentData},{currentDate:d,dateProfile:f}=n;this.data&&this.data.dateProfileGenerator!==c.dateProfileGenerator&&(f=c.dateProfileGenerator.build(d)),d=Aae(d,e),f=Oae(f,e,d,c.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!_s(f.currentRange,d))&&(d=f.currentRange.start);let h=Tae(n.eventSources,e,f,u),p=Tre(n.eventStore,e,h,f,u),m=Y3(h)&&!c.options.progressiveEventRendering&&n.renderableEventStore||p,{eventUiSingleBase:y,selectionConfig:b}=this.buildViewUiProps(u),x=this.buildEventUiBySource(h),N=this.buildEventUiBases(m.defs,y,x),A={dynamicOptionOverrides:i,currentViewType:o,currentDate:d,dateProfile:f,eventSources:h,eventStore:p,renderableEventStore:m,selectionConfig:b,eventUiBases:N,businessHours:this.parseContextBusinessHours(u),dateSelection:Iae(n.dateSelection,e),eventSelection:$ae(n.eventSelection,e),eventDrag:Fae(n.eventDrag,e),eventResize:Bae(n.eventResize,e)},w=Object.assign(Object.assign({},u),A);for(let O of s.pluginHooks.reducers)Object.assign(A,O(n,e,w));let j=Tb(n,u),E=Tb(A,u);!j&&E?a.trigger("loading",!0):j&&!E&&a.trigger("loading",!1),this.state=A,r.onAction&&r.onAction(e)}updateData(){let{props:e,state:r}=this,n=this.data,a=this.computeOptionsData(e.optionOverrides,r.dynamicOptionOverrides,e.calendarApi),i=this.computeCurrentViewData(r.currentViewType,a,e.optionOverrides,r.dynamicOptionOverrides),s=this.data=Object.assign(Object.assign(Object.assign({nowManager:this.nowManager,viewTitle:this.buildTitle(r.dateProfile,i.options,a.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},a),i),r),o=a.pluginHooks.optionChangeHandlers,c=n&&n.calendarOptions,u=a.calendarOptions;if(c&&c!==u){c.timeZone!==u.timeZone&&(r.eventSources=s.eventSources=kae(s.eventSources,r.dateProfile,s),r.eventStore=s.eventStore=PA(s.eventStore,n.dateEnv,s.dateEnv),r.renderableEventStore=s.renderableEventStore=PA(s.renderableEventStore,n.dateEnv,s.dateEnv));for(let d in o)(this.optionsForHandling.indexOf(d)!==-1||c[d]!==u[d])&&o[d](u[d],s)}this.optionsForHandling=[],e.onData&&e.onData(s)}computeOptionsData(e,r,n){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&r===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:a,pluginHooks:i,localeDefaults:s,availableLocaleData:o,extra:c}=this.processRawCalendarOptions(e,r);WA(c);let u=this.buildDateEnv(a.timeZone,a.locale,a.weekNumberCalculation,a.firstDay,a.weekText,i,o,a.defaultRangeSeparator),d=this.buildViewSpecs(i.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,s),f=this.buildTheme(a,i),h=this.parseToolbars(a,this.stableOptionOverrides,f,d,n);return this.stableCalendarOptionsData={calendarOptions:a,pluginHooks:i,dateEnv:u,viewSpecs:d,theme:f,toolbarConfig:h,localeDefaults:s,availableRawLocales:o.map}}processRawCalendarOptions(e,r){let{locales:n,locale:a}=wb([Af,e,r]),i=this.organizeRawLocales(n),s=i.map,o=this.buildLocale(a||i.defaultCode,s).options,c=this.buildPluginHooks(e.plugins||[],iie),u=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},_A),EA),OA),c.listenerRefiners),c.optionRefiners),d={},f=wb([Af,o,e,r]),h={},p=this.currentCalendarOptionsInput,g=this.currentCalendarOptionsRefined,m=!1;for(let y in f)this.optionsForRefining.indexOf(y)===-1&&(f[y]===p[y]||ll[y]&&y in p&&ll[y](p[y],f[y]))?h[y]=g[y]:u[y]?(h[y]=u[y](f[y]),m=!0):d[y]=p[y];return m&&(this.currentCalendarOptionsInput=f,this.currentCalendarOptionsRefined=h,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=r),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:c,availableLocaleData:i,localeDefaults:o,extra:d}}_computeCurrentViewData(e,r,n,a){let i=r.viewSpecs[e];if(!i)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:s,extra:o}=this.processRawViewOptions(i,r.pluginHooks,r.localeDefaults,n,a);WA(o),this.nowManager.handleInput(r.dateEnv,s.now);let c=this.buildDateProfileGenerator({dateProfileGeneratorClass:i.optionDefaults.dateProfileGeneratorClass,nowManager:this.nowManager,duration:i.duration,durationUnit:i.durationUnit,usesMinMaxTime:i.optionDefaults.usesMinMaxTime,dateEnv:r.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:s.slotMinTime,slotMaxTime:s.slotMaxTime,showNonCurrentDates:s.showNonCurrentDates,dayCount:s.dayCount,dateAlignment:s.dateAlignment,dateIncrement:s.dateIncrement,hiddenDays:s.hiddenDays,weekends:s.weekends,validRangeInput:s.validRange,visibleRangeInput:s.visibleRange,fixedWeekCount:s.fixedWeekCount}),u=this.buildViewApi(e,this.getCurrentData,r.dateEnv);return{viewSpec:i,options:s,dateProfileGenerator:c,viewApi:u}}processRawViewOptions(e,r,n,a,i){let s=wb([Af,e.optionDefaults,n,a,e.optionOverrides,i]),o=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},_A),EA),OA),Kte),r.listenerRefiners),r.optionRefiners),c={},u=this.currentViewOptionsInput,d=this.currentViewOptionsRefined,f=!1,h={};for(let p in s)s[p]===u[p]||ll[p]&&ll[p](s[p],u[p])?c[p]=d[p]:(s[p]===this.currentCalendarOptionsInput[p]||ll[p]&&ll[p](s[p],this.currentCalendarOptionsInput[p])?p in this.currentCalendarOptionsRefined&&(c[p]=this.currentCalendarOptionsRefined[p]):o[p]?c[p]=o[p](s[p]):h[p]=s[p],f=!0);return f&&(this.currentViewOptionsInput=s,this.currentViewOptionsRefined=c),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:h}}}function uie(t,e,r,n,a,i,s,o){let c=G3(e||s.defaultCode,s.map);return new are({calendarSystem:"gregory",timeZone:t,namedTimeZoneImpl:i.namedTimeZonedImpl,locale:c,weekNumberCalculation:r,firstDay:n,weekText:a,cmdFormatter:i.cmdFormatter,defaultSeparator:o})}function die(t,e){let r=e.themeClasses[t.themeSystem]||Ro;return new r(t)}function fie(t){let e=t.dateProfileGeneratorClass||s3;return new e(t)}function hie(t,e,r){return new Wae(t,e,r)}function pie(t){return Ps(t,e=>e.ui)}function mie(t,e,r){let n={"":e};for(let a in t){let i=t[a];i.sourceId&&r[i.sourceId]&&(n[a]=r[i.sourceId])}return n}function gie(t){let{options:e}=t;return{eventUiSingleBase:bg({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},t),selectionConfig:bg({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},t)}}function Tb(t,e){for(let r of e.pluginHooks.isLoadingFuncs)if(r(t))return!0;return!1}function vie(t){return Fre(t.options.businessHours,t)}function WA(t,e){for(let r in t)console.warn(`Unknown option '${r}'`)}class yie extends $t{render(){let e=this.props.widgetGroups.map(r=>this.renderWidgetGroup(r));return ie("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:r}=this,{theme:n}=this.context,a=[],i=!0;for(let s of e){let{buttonName:o,buttonClick:c,buttonText:u,buttonIcon:d,buttonHint:f}=s;if(o==="title")i=!1,a.push(ie("h2",{className:"fc-toolbar-title",id:r.titleId},r.title));else{let h=o===r.activeButton,p=!r.isTodayEnabled&&o==="today"||!r.isPrevEnabled&&o==="prev"||!r.isNextEnabled&&o==="next",g=[`fc-${o}-button`,n.getClass("button")];h&&g.push(n.getClass("buttonActive")),a.push(ie("button",{type:"button",title:typeof f=="function"?f(r.navUnit):f,disabled:p,"aria-pressed":h,className:g.join(" "),onClick:c},u||(d?ie("span",{className:d,role:"img"}):"")))}}if(a.length>1){let s=i&&n.getClass("buttonGroup")||"";return ie("div",{className:s},...a)}return a[0]}}class HA extends $t{render(){let{model:e,extraClassName:r}=this.props,n=!1,a,i,s=e.sectionWidgets,o=s.center;return s.left?(n=!0,a=s.left):a=s.start,s.right?(n=!0,i=s.right):i=s.end,ie("div",{className:[r||"","fc-toolbar",n?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",a||[]),this.renderSection("center",o||[]),this.renderSection("end",i||[]))}renderSection(e,r){let{props:n}=this;return ie(yie,{key:e,widgetGroups:r,title:n.title,navUnit:n.navUnit,activeButton:n.activeButton,isTodayEnabled:n.isTodayEnabled,isPrevEnabled:n.isPrevEnabled,isNextEnabled:n.isNextEnabled,titleId:n.titleId})}}class bie extends $t{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,Ds(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:r}=this,{aspectRatio:n}=e,a=["fc-view-harness",n||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],i="",s="";return n?r.availableWidth!==null?i=r.availableWidth/n:s=`${1/n*100}%`:i=e.height||"",ie("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:a.join(" "),style:{height:i,paddingBottom:s}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class xie extends dd{constructor(e){super(e),this.handleSegClick=(r,n)=>{let{component:a}=this,{context:i}=a,s=bu(n);if(s&&a.isValidSegDownEl(r.target)){let o=On(r.target,".fc-event-forced-url"),c=o?o.querySelector("a[href]").href:"";i.emitter.trigger("eventClick",{el:n,event:new vr(a.context,s.eventRange.def,s.eventRange.instance),jsEvent:r,view:i.viewApi}),c&&!r.defaultPrevented&&(window.location.href=c)}},this.destroy=YP(e.el,"click",".fc-event",this.handleSegClick)}}class wie extends dd{constructor(e){super(e),this.handleEventElRemove=r=>{r===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(r,n)=>{bu(n)&&(this.currentSegEl=n,this.triggerEvent("eventMouseEnter",r,n))},this.handleSegLeave=(r,n)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",r,n))},this.removeHoverListeners=tte(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,r,n){let{component:a}=this,{context:i}=a,s=bu(n);(!r||a.isValidSegDownEl(r.target))&&i.emitter.trigger(e,{el:n,event:new vr(i,s.eventRange.def,s.eventRange.instance),jsEvent:r,view:i.viewApi})}}class Sie extends Ql{constructor(){super(...arguments),this.buildViewContext=rt(ore),this.buildViewPropTransformers=rt(jie),this.buildToolbarProps=rt(Nie),this.headerRef=Wn(),this.footerRef=Wn(),this.interactionsStore={},this.state={viewLabelId:xo()},this.registerInteractiveComponent=(e,r)=>{let n=one(e,r),s=[xie,wie].concat(this.props.pluginHooks.componentInteractions).map(o=>new o(n));this.interactionsStore[e.uid]=s,Kx[e.uid]=n},this.unregisterInteractiveComponent=e=>{let r=this.interactionsStore[e.uid];if(r){for(let n of r)n.destroy();delete this.interactionsStore[e.uid]}delete Kx[e.uid]},this.resizeRunner=new P2(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:r}=this.props;r.handleWindowResize&&e.target===window&&this.resizeRunner.request(r.windowResizeDelay)}}render(){let{props:e}=this,{toolbarConfig:r,options:n}=e,a=!1,i="",s;e.isHeightAuto||e.forPrint?i="":n.height!=null?a=!0:n.contentHeight!=null?i=n.contentHeight:s=Math.max(n.aspectRatio,.5);let o=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.nowManager,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),c=r.header&&r.header.hasTitle?this.state.viewLabelId:void 0;return ie($s.Provider,{value:o},ie(Jl,{unit:"day"},u=>{let d=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,u,e.viewTitle);return ie(Xt,null,r.header&&ie(HA,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:r.header,titleId:c},d)),ie(bie,{liquid:a,height:i,aspectRatio:s,labeledById:c},this.renderView(e),this.buildAppendContent()),r.footer&&ie(HA,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:r.footer,titleId:""},d)))}))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(n=>new n(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:r}=e.pluginHooks;for(let n in r)r[n](e[n],e)}componentDidUpdate(e){let{props:r}=this,{propSetHandlers:n}=r.pluginHooks;for(let a in n)r[a]!==e[a]&&n[a](r[a],r)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,r=e.pluginHooks.viewContainerAppends.map(n=>n(e));return ie(Xt,{},...r)}renderView(e){let{pluginHooks:r}=e,{viewSpec:n}=e,a={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},i=this.buildViewPropTransformers(r.viewPropsTransformers);for(let o of i)Object.assign(a,o.transform(a,e));let s=n.component;return ie(s,Object.assign({},a))}}function Nie(t,e,r,n,a,i){let s=r.build(a,void 0,!1),o=r.buildPrev(e,n,!1),c=r.buildNext(e,n,!1);return{title:i,activeButton:t.type,navUnit:t.singleUnit,isTodayEnabled:s.isValid&&!_s(e.currentRange,a),isPrevEnabled:o.isValid,isNextEnabled:c.isValid}}function jie(t){return t.map(e=>new e)}class Aie extends cne{constructor(e,r={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=n=>{switch(n.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=n=>{this.currentData=n,this.renderRunner.request(n.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:n}=this;vg(()=>{eh(ie(sne,{options:n.calendarOptions,theme:n.theme,emitter:n.emitter},(a,i,s,o)=>(this.setClassNames(a),this.setHeight(i),ie(n3.Provider,{value:this.customContentRenderId},ie(Sie,Object.assign({isHeightAuto:s,forPrint:o},n))))),this.el)})}else this.isRendered&&(this.isRendered=!1,eh(null,this.el),this.setClassNames([]),this.setHeight(""))},Gee(e),this.el=e,this.renderRunner=new P2(this.handleRenderRequest),new cie({optionOverrides:r,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){vg(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,r){this.currentDataManager.resetOptions(e,r)}setClassNames(e){if(!Eo(e,this.currentClassNames)){let{classList:r}=this.el;for(let n of this.currentClassNames)r.remove(n);for(let n of e)r.add(n);this.currentClassNames=e}}setHeight(e){GP(this.el,"height",e)}}const _ie=parseInt(String(z.version).split(".")[0]),Eie=_ie<18;class c5 extends R.Component{constructor(){super(...arguments),this.elRef=R.createRef(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame(()=>{this.doResize()}))}}render(){const e=[];for(const r of this.state.customRenderingMap.values())e.push(z.createElement(Oie,{key:r.id,customRendering:r}));return z.createElement("div",{ref:this.elRef},e)}componentDidMount(){this.isUnmounting=!1;const e=new cae;this.handleCustomRendering=e.handle.bind(e),this.calendar=new Aie(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render(),this.calendar.on("_beforeprint",()=>{Ym.flushSync(()=>{})});let r;e.subscribe(n=>{const a=Date.now(),i=!r;(Eie||i||this.isUpdating||this.isUnmounting||a-r<100?J3:Ym.flushSync)(()=>{this.setState({customRenderingMap:n},()=>{r=a,i?this.doResize():this.requestResize()})})})}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){this.resizeId!==void 0&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}}c5.act=J3;class Oie extends R.PureComponent{render(){const{customRendering:e}=this.props,{generatorMeta:r}=e,n=typeof r=="function"?r(e.renderProps):r;return Ym.createPortal(n,e.containerEl)}}function J3(t){t()}class Cie extends Ni{constructor(){super(...arguments),this.headerElRef=Wn()}renderSimpleLayout(e,r){let{props:n,context:a}=this,i=[],s=wg(a.options);return e&&i.push({type:"header",key:"header",isSticky:s,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),i.push({type:"body",key:"body",liquid:!0,chunk:{content:r}}),ie(th,{elClasses:["fc-daygrid"],viewSpec:a.viewSpec},ie(a5,{liquid:!n.isHeightAuto&&!n.forPrint,collapsibleWidth:n.forPrint,cols:[],sections:i}))}renderHScrollLayout(e,r,n,a){let i=this.context.pluginHooks.scrollGridImpl;if(!i)throw new Error("No ScrollGrid implementation");let{props:s,context:o}=this,c=!s.forPrint&&wg(o.options),u=!s.forPrint&&I3(o.options),d=[];return e&&d.push({type:"header",key:"header",isSticky:c,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),d.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:r}]}),u&&d.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:Qx}]}),ie(th,{elClasses:["fc-daygrid"],viewSpec:o.viewSpec},ie(i,{liquid:!s.isHeightAuto&&!s.forPrint,forPrint:s.forPrint,collapsibleWidth:s.forPrint,colGroups:[{cols:[{span:n,minWidth:a}]}],sections:d}))}}function hm(t,e){let r=[];for(let n=0;n<e;n+=1)r[n]=[];for(let n of t)r[n.row].push(n);return r}function pm(t,e){let r=[];for(let n=0;n<e;n+=1)r[n]=[];for(let n of t)r[n.firstCol].push(n);return r}function qA(t,e){let r=[];if(t){for(let n=0;n<e;n+=1)r[n]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let n of t.segs)r[n.row].segs.push(n)}else for(let n=0;n<e;n+=1)r[n]=null;return r}const e4=mr({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function t4(t){let{display:e}=t.eventRange.ui;return e==="list-item"||e==="auto"&&!t.eventRange.def.allDay&&t.firstCol===t.lastCol&&t.isStart&&t.isEnd}class r4 extends $t{render(){let{props:e}=this;return ie($3,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:e4,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class n4 extends $t{render(){let{props:e,context:r}=this,{options:n}=r,{seg:a}=e,i=n.eventTimeFormat||e4,s=_f(a,i,r,!0,e.defaultDisplayEventEnd);return ie(dy,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:Z2(e.seg,r),defaultGenerator:Tie,timeText:s,isResizing:!1,isDateSelecting:!1}))}}function Tie(t){return ie(Xt,null,ie("div",{className:"fc-daygrid-event-dot",style:{borderColor:t.borderColor||t.backgroundColor}}),t.timeText&&ie("div",{className:"fc-event-time"},t.timeText),ie("div",{className:"fc-event-title"},t.event.title||ie(Xt,null,"Â ")))}class kie extends $t{constructor(){super(...arguments),this.compileSegs=rt(Pie)}render(){let{props:e}=this,{allSegs:r,invisibleSegs:n}=this.compileSegs(e.singlePlacements);return ie(z3,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:r,hiddenSegs:n,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let a=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return ie(Xt,null,r.map(i=>{let s=i.eventRange.instance.instanceId;return ie("div",{className:"fc-daygrid-event-harness",key:s,style:{visibility:a[s]?"hidden":""}},t4(i)?ie(n4,Object.assign({seg:i,isDragging:!1,isSelected:s===e.eventSelection,defaultDisplayEventEnd:!1},Es(i,e.todayRange))):ie(r4,Object.assign({seg:i,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:s===e.eventSelection,defaultDisplayEventEnd:!1},Es(i,e.todayRange))))}))}})}}function Pie(t){let e=[],r=[];for(let n of t)e.push(n.seg),n.isVisible||r.push(n.seg);return{allSegs:e,invisibleSegs:r}}const Die=mr({week:"narrow"});class Mie extends Ni{constructor(){super(...arguments),this.rootElRef=Wn(),this.state={dayNumberId:xo()},this.handleRootEl=e=>{Ds(this.rootElRef,e),Ds(this.props.elRef,e)}}render(){let{context:e,props:r,state:n,rootElRef:a}=this,{options:i,dateEnv:s}=e,{date:o,dateProfile:c}=r;const u=r.showDayNumber&&Lie(o,c.currentRange,s);return ie(s5,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...r.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},r.extraDataAttrs),r.showDayNumber?{"aria-labelledby":n.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:Rie,date:o,dateProfile:c,todayRange:r.todayRange,showDayNumber:r.showDayNumber,isMonthStart:u,extraRenderProps:r.extraRenderProps},(d,f)=>ie("div",{ref:r.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:r.minHeight}},r.showWeekNumber&&ie(U3,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:xu(e,o,"week"),date:o,defaultFormat:Die}),!f.isDisabled&&(r.showDayNumber||o5(i)||r.forceDayTop)?ie("div",{className:"fc-daygrid-day-top"},ie(d,{elTag:"a",elClasses:["fc-daygrid-day-number",u&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},xu(e,o)),{id:n.dayNumberId})})):r.showDayNumber?ie("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},ie("a",{className:"fc-daygrid-day-number"},"Â ")):void 0,ie("div",{className:"fc-daygrid-day-events",ref:r.fgContentElRef},r.fgContent,ie("div",{className:"fc-daygrid-day-bottom",style:{marginTop:r.moreMarginTop}},ie(kie,{allDayDate:o,singlePlacements:r.singlePlacements,moreCnt:r.moreCnt,alignmentElRef:a,alignGridTop:!r.showDayNumber,extraDateSpan:r.extraDateSpan,dateProfile:r.dateProfile,eventSelection:r.eventSelection,eventDrag:r.eventDrag,eventResize:r.eventResize,todayRange:r.todayRange}))),ie("div",{className:"fc-daygrid-day-bg"},r.bgContent)))}}function Rie(t){return t.dayNumberText||ie(Xt,null,"Â ")}function Lie(t,e,r){const{start:n,end:a}=e,i=Oo(a,-1),s=r.getYear(n),o=r.getMonth(n),c=r.getYear(i),u=r.getMonth(i);return!(s===c&&o===u)&&(t.valueOf()===n.valueOf()||r.getDay(t)===1&&t.valueOf()<a.valueOf())}function a4(t){return t.eventRange.instance.instanceId+":"+t.firstCol}function i4(t){return a4(t)+":"+t.lastCol}function Iie(t,e,r,n,a,i,s){let o=new Bie(b=>{let x=t[b.index].eventRange.instance.instanceId+":"+b.span.start+":"+(b.span.end-1);return a[x]||1});o.allowReslicing=!0,o.strictOrder=n,e===!0||r===!0?(o.maxCoord=i,o.hiddenConsumes=!0):typeof e=="number"?o.maxStackCnt=e:typeof r=="number"&&(o.maxStackCnt=r,o.hiddenConsumes=!0);let c=[],u=[];for(let b=0;b<t.length;b+=1){let x=t[b],N=i4(x);a[N]!=null?c.push({index:b,span:{start:x.firstCol,end:x.lastCol+1}}):u.push(x)}let d=o.addSegs(c),f=o.toRects(),{singleColPlacements:h,multiColPlacements:p,leftoverMargins:g}=$ie(f,t,s),m=[],y=[];for(let b of u){p[b.firstCol].push({seg:b,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let x=b.firstCol;x<=b.lastCol;x+=1)h[x].push({seg:su(b,x,x+1,s),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let b=0;b<s.length;b+=1)m.push(0);for(let b of d){let x=t[b.index],N=b.span;p[N.start].push({seg:su(x,N.start,N.end,s),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let A=N.start;A<N.end;A+=1)m[A]+=1,h[A].push({seg:su(x,A,A+1,s),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let b=0;b<s.length;b+=1)y.push(g[b]);return{singleColPlacements:h,multiColPlacements:p,moreCnts:m,moreMarginTops:y}}function $ie(t,e,r){let n=Fie(t,r.length),a=[],i=[],s=[];for(let o=0;o<r.length;o+=1){let c=n[o],u=[],d=0,f=0;for(let p of c){let g=e[p.index];u.push({seg:su(g,o,o+1,r),isVisible:!0,isAbsolute:!1,absoluteTop:p.levelCoord,marginTop:p.levelCoord-d}),d=p.levelCoord+p.thickness}let h=[];d=0,f=0;for(let p of c){let g=e[p.index],m=p.span.end-p.span.start>1,y=p.span.start===o;f+=p.levelCoord-d,d=p.levelCoord+p.thickness,m?(f+=p.thickness,y&&h.push({seg:su(g,p.span.start,p.span.end,r),isVisible:!0,isAbsolute:!0,absoluteTop:p.levelCoord,marginTop:0})):y&&(h.push({seg:su(g,p.span.start,p.span.end,r),isVisible:!0,isAbsolute:!1,absoluteTop:p.levelCoord,marginTop:f}),f=0)}a.push(u),i.push(h),s.push(f)}return{singleColPlacements:a,multiColPlacements:i,leftoverMargins:s}}function Fie(t,e){let r=[];for(let n=0;n<e;n+=1)r.push([]);for(let n of t)for(let a=n.span.start;a<n.span.end;a+=1)r[a].push(n);return r}function su(t,e,r,n){if(t.firstCol===e&&t.lastCol===r-1)return t;let a=t.eventRange,i=a.range,s=Co(i,{start:n[e].date,end:Hr(n[r-1].date,1)});return Object.assign(Object.assign({},t),{firstCol:e,lastCol:r-1,eventRange:{def:a.def,ui:Object.assign(Object.assign({},a.ui),{durationEditable:!1}),instance:a.instance,range:s},isStart:t.isStart&&s.start.valueOf()===i.start.valueOf(),isEnd:t.isEnd&&s.end.valueOf()===i.end.valueOf()})}class Bie extends A3{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){const r=super.addSegs(e),{entriesByLevel:n}=this,a=i=>!this.forceHidden[Al(i)];for(let i=0;i<n.length;i+=1)n[i]=n[i].filter(a);return r}handleInvalidInsertion(e,r,n){const{entriesByLevel:a,forceHidden:i}=this,{touchingEntry:s,touchingLevel:o,touchingLateral:c}=e;if(this.hiddenConsumes&&s){const u=Al(s);if(!i[u])if(this.allowReslicing){const d=Object.assign(Object.assign({},s),{span:r5(s.span,r.span)}),f=Al(d);i[f]=!0,a[o][c]=d,n.push(d),this.splitEntry(s,r,n)}else i[u]=!0,n.push(s)}super.handleInvalidInsertion(e,r,n)}}class s4 extends Ni{constructor(){super(...arguments),this.cellElRefs=new Ss,this.frameElRefs=new Ss,this.fgElRefs=new Ss,this.segHarnessRefs=new Ss,this.rootElRef=Wn(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:r,context:n}=this,{options:a}=n,i=e.cells.length,s=pm(e.businessHourSegs,i),o=pm(e.bgEventSegs,i),c=pm(this.getHighlightSegs(),i),u=pm(this.getMirrorSegs(),i),{singleColPlacements:d,multiColPlacements:f,moreCnts:h,moreMarginTops:p}=Iie(X2(e.fgEventSegs,a.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,a.eventOrderStrict,r.segHeights,r.maxContentHeight,e.cells),g=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return ie("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((m,y)=>{let b=this.renderFgSegs(y,e.forPrint?d[y]:f[y],e.todayRange,g),x=this.renderFgSegs(y,Uie(u[y],f),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return ie(Mie,{key:m.key,elRef:this.cellElRefs.createRef(m.key),innerElRef:this.frameElRefs.createRef(m.key),dateProfile:e.dateProfile,date:m.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&y===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:m.extraRenderProps,extraDataAttrs:m.extraDataAttrs,extraClassNames:m.extraClassNames,extraDateSpan:m.extraDateSpan,moreCnt:h[y],moreMarginTop:p[y],singlePlacements:d[y],fgContentElRef:this.fgElRefs.createRef(m.key),fgContent:ie(Xt,null,ie(Xt,null,b),ie(Xt,null,x)),bgContent:ie(Xt,null,this.renderFillSegs(c[y],"highlight"),this.renderFillSegs(s[y],"non-business"),this.renderFillSegs(o[y],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,r){let n=this.props;this.updateSizing(!es(e,n))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,r,n,a,i,s,o){let{context:c}=this,{eventSelection:u}=this.props,{framePositions:d}=this.state,f=this.props.cells.length===1,h=i||s||o,p=[];if(d)for(let g of r){let{seg:m}=g,{instanceId:y}=m.eventRange.instance,b=g.isVisible&&!a[y],x=g.isAbsolute,N="",A="";x&&(c.isRtl?(A=0,N=d.lefts[m.lastCol]-d.lefts[m.firstCol]):(N=0,A=d.rights[m.firstCol]-d.rights[m.lastCol])),p.push(ie("div",{className:"fc-daygrid-event-harness"+(x?" fc-daygrid-event-harness-abs":""),key:a4(m),ref:h?null:this.segHarnessRefs.createRef(i4(m)),style:{visibility:b?"":"hidden",marginTop:x?"":g.marginTop,top:x?g.absoluteTop:"",left:N,right:A}},t4(m)?ie(n4,Object.assign({seg:m,isDragging:i,isSelected:y===u,defaultDisplayEventEnd:f},Es(m,n))):ie(r4,Object.assign({seg:m,isDragging:i,isResizing:s,isDateSelecting:o,isSelected:y===u,defaultDisplayEventEnd:f},Es(m,n)))))}return p}renderFillSegs(e,r){let{isRtl:n}=this.context,{todayRange:a}=this.props,{framePositions:i}=this.state,s=[];if(i)for(let o of e){let c=n?{right:0,left:i.lefts[o.lastCol]-i.lefts[o.firstCol]}:{left:0,right:i.rights[o.firstCol]-i.rights[o.lastCol]};s.push(ie("div",{key:y3(o.eventRange),className:"fc-daygrid-bg-harness",style:c},r==="bg-event"?ie(F3,Object.assign({seg:o},Es(o,a))):B3(r)))}return ie(Xt,{},...s)}updateSizing(e){let{props:r,state:n,frameElRefs:a}=this;if(!r.forPrint&&r.clientWidth!==null){if(e){let c=r.cells.map(u=>a.currentMap[u.key]);if(c.length){let u=this.rootElRef.current,d=new wu(u,c,!0,!1);(!n.framePositions||!n.framePositions.similarTo(d))&&this.setState({framePositions:new wu(u,c,!0,!1)})}}const i=this.state.segHeights,s=this.querySegHeights(),o=r.dayMaxEvents===!0||r.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},i),s),maxContentHeight:o?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,r={};for(let n in e){let a=Math.round(e[n].getBoundingClientRect().height);r[n]=Math.max(r[n]||0,a)}return r}computeMaxContentHeight(){let e=this.props.cells[0].key,r=this.cellElRefs.currentMap[e],n=this.fgElRefs.currentMap[e];return r.getBoundingClientRect().bottom-n.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(r=>e[r.key])}}s4.addStateEquality({segHeights:es});function Uie(t,e){if(!t.length)return[];let r=zie(e);return t.map(n=>({seg:n,isVisible:!0,isAbsolute:!0,absoluteTop:r[n.eventRange.instance.instanceId],marginTop:0}))}function zie(t){let e={};for(let r of t)for(let n of r)e[n.seg.eventRange.instance.instanceId]=n.absoluteTop;return e}class Wie extends Ni{constructor(){super(...arguments),this.splitBusinessHourSegs=rt(hm),this.splitBgEventSegs=rt(hm),this.splitFgEventSegs=rt(hm),this.splitDateSelectionSegs=rt(hm),this.splitEventDrag=rt(qA),this.splitEventResize=rt(qA),this.rowRefs=new Ss}render(){let{props:e,context:r}=this,n=e.cells.length,a=this.splitBusinessHourSegs(e.businessHourSegs,n),i=this.splitBgEventSegs(e.bgEventSegs,n),s=this.splitFgEventSegs(e.fgEventSegs,n),o=this.splitDateSelectionSegs(e.dateSelectionSegs,n),c=this.splitEventDrag(e.eventDrag,n),u=this.splitEventResize(e.eventResize,n),d=n>=7&&e.clientWidth?e.clientWidth/r.options.aspectRatio/6:null;return ie(Jl,{unit:"day"},(f,h)=>ie(Xt,null,e.cells.map((p,g)=>ie(s4,{ref:this.rowRefs.createRef(g),key:p.length?p[0].date.toISOString():g,showDayNumbers:n>1,showWeekNumbers:e.showWeekNumbers,todayRange:h,dateProfile:e.dateProfile,cells:p,renderIntro:e.renderRowIntro,businessHourSegs:a[g],eventSelection:e.eventSelection,bgEventSegs:i[g].filter(Hie),fgEventSegs:s[g],dateSelectionSegs:o[g],eventDrag:c[g],eventResize:u[g],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:d,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const e=this.rowRefs.currentMap[0].getCellEls()[0],r=e?e.closest(".fc-daygrid-body"):null;r&&(this.rootEl=r,this.context.registerInteractiveComponent(this,{el:r,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new wu(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new wu(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,r){let{colPositions:n,rowPositions:a}=this,i=n.leftToIndex(e),s=a.topToIndex(r);if(s!=null&&i!=null){let o=this.props.cells[s][i];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(s,i),allDay:!0},o.extraDateSpan),dayEl:this.getCellEl(s,i),rect:{left:n.lefts[i],right:n.rights[i],top:a.tops[s],bottom:a.bottoms[s]},layer:0}}return null}getCellEl(e,r){return this.rowRefs.currentMap[e].getCellEls()[r]}getCellRange(e,r){let n=this.props.cells[e][r].date,a=Hr(n,1);return{start:n,end:a}}}function Hie(t){return t.eventRange.def.allDay}class qie extends Ni{constructor(){super(...arguments),this.elRef=Wn(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:r,dayMaxEvents:n,expandRows:a}=e,i=n===!0||r===!0;i&&!a&&(i=!1,r=null,n=null);let s=["fc-daygrid-body",i?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",a?"":"fc-daygrid-body-natural"];return ie("div",{ref:this.elRef,className:s.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},ie("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:a?e.clientHeight:""}},e.colGroupNode,ie("tbody",{role:"presentation"},ie(Wie,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:n,dayMaxEventRows:r,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const e=Gie(this.elRef.current,this.props.dateProfile);if(e){const r=e.closest(".fc-daygrid-body"),n=r.closest(".fc-scroller"),a=e.getBoundingClientRect().top-r.getBoundingClientRect().top;n.scrollTop=a?a+1:0}this.needsScrollReset=!1}}}function Gie(t,e){let r;return e.currentRangeUnit.match(/year|month/)&&(r=t.querySelector(`[data-date="${Pte(e.currentDate)}-01"]`)),r||(r=t.querySelector(`[data-date="${Jh(e.currentDate)}"]`)),r}class Vie extends k3{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,r){return r.sliceRange(e)}}class o4 extends Ni{constructor(){super(...arguments),this.slicer=new Vie,this.tableRef=Wn()}render(){let{props:e,context:r}=this;return ie(qie,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,r,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}class Yie extends Cie{constructor(){super(...arguments),this.buildDayTableModel=rt(Kie),this.headerRef=Wn(),this.tableRef=Wn()}render(){let{options:e,dateProfileGenerator:r}=this.context,{props:n}=this,a=this.buildDayTableModel(n.dateProfile,r),i=e.dayHeaders&&ie(O3,{ref:this.headerRef,dateProfile:n.dateProfile,dates:a.headerDates,datesRepDistinctDays:a.rowCnt===1}),s=o=>ie(o4,{ref:this.tableRef,dateProfile:n.dateProfile,dayTableModel:a,businessHours:n.businessHours,dateSelection:n.dateSelection,eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:o.tableColGroupNode,tableMinWidth:o.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!n.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:o.clientWidth,clientHeight:o.clientHeight,forPrint:n.forPrint});return e.dayMinWidth?this.renderHScrollLayout(i,s,a.colCnt,e.dayMinWidth):this.renderSimpleLayout(i,s)}}function Kie(t,e){let r=new C3(t.renderRange,e);return new T3(r,/year|month|week/.test(t.currentRangeUnit))}class Xie extends s3{buildRenderRange(e,r,n){let a=super.buildRenderRange(e,r,n),{props:i}=this;return Zie({currentRange:a,snapToWeek:/^(year|month)$/.test(r),fixedWeekCount:i.fixedWeekCount,dateEnv:i.dateEnv})}}function Zie(t){let{dateEnv:e,currentRange:r}=t,{start:n,end:a}=r,i;if(t.snapToWeek&&(n=e.startOfWeek(n),i=e.startOfWeek(a),i.valueOf()!==a.valueOf()&&(a=wA(i,1))),t.fixedWeekCount){let s=e.startOfWeek(e.startOfMonth(Hr(r.end,-1))),o=Math.ceil(wte(s,a));a=wA(a,6-o)}return{start:n,end:a}}var Qie=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';ay(Qie);var l4=ji({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:Yie,dateProfileGeneratorClass:Xie},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});n5.touchMouseIgnoreWait=500;let e1=0,Sg=0,t1=!1;class c4{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=r=>{if(!this.shouldIgnoreMouse()&&Jie(r)&&this.tryStart(r)){let n=this.createEventFromMouse(r,!0);this.emitter.trigger("pointerdown",n),this.initScrollWatch(n),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=r=>{let n=this.createEventFromMouse(r);this.recordCoords(n),this.emitter.trigger("pointermove",n)},this.handleMouseUp=r=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(r)),this.cleanup()},this.handleTouchStart=r=>{if(this.tryStart(r)){this.isTouchDragging=!0;let n=this.createEventFromTouch(r,!0);this.emitter.trigger("pointerdown",n),this.initScrollWatch(n);let a=r.target;this.shouldIgnoreMove||a.addEventListener("touchmove",this.handleTouchMove),a.addEventListener("touchend",this.handleTouchEnd),a.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=r=>{let n=this.createEventFromTouch(r);this.recordCoords(n),this.emitter.trigger("pointermove",n)},this.handleTouchEnd=r=>{if(this.isDragging){let n=r.target;n.removeEventListener("touchmove",this.handleTouchMove),n.removeEventListener("touchend",this.handleTouchEnd),n.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(r)),this.cleanup(),this.isTouchDragging=!1,ese()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=r=>{if(!this.shouldIgnoreMove){let n=window.scrollX-this.prevScrollX+this.prevPageX,a=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:r,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:n,pageY:a,deltaX:n-this.origPageX,deltaY:a-this.origPageY})}},this.containerEl=e,this.emitter=new cy,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),tse()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),rse()}tryStart(e){let r=this.querySubjectEl(e),n=e.target;return r&&(!this.handleSelector||On(n,this.handleSelector))?(this.subjectEl=r,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){t1=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?On(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return e1||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(t1=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,r){let n=0,a=0;return r?(this.origPageX=e.pageX,this.origPageY=e.pageY):(n=e.pageX-this.origPageX,a=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:n,deltaY:a}}createEventFromTouch(e,r){let n=e.touches,a,i,s=0,o=0;return n&&n.length?(a=n[0].pageX,i=n[0].pageY):(a=e.pageX,i=e.pageY),r?(this.origPageX=a,this.origPageY=i):(s=a-this.origPageX,o=i-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:a,pageY:i,deltaX:s,deltaY:o}}}function Jie(t){return t.button===0&&!t.ctrlKey}function ese(){e1+=1,setTimeout(()=>{e1-=1},n5.touchMouseIgnoreWait)}function tse(){Sg+=1,Sg===1&&window.addEventListener("touchmove",u4,{passive:!1})}function rse(){Sg-=1,Sg||window.removeEventListener("touchmove",u4,{passive:!1})}function u4(t){t1&&t.preventDefault()}class nse{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,r,n){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=r-window.scrollX,this.origScreenY=n-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,r){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=r-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,r){let n=()=>{this.cleanup(),r()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(n,this.revertDuration):setTimeout(n,0)}doRevertAnimation(e,r){let n=this.mirrorEl,a=this.sourceEl.getBoundingClientRect();n.style.transition="top "+r+"ms,left "+r+"ms",Nf(n,{left:a.left,top:a.top}),rte(n,()=>{n.style.transition="",e()})}cleanup(){this.mirrorEl&&(D2(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&Nf(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,r=this.mirrorEl;return r||(r=this.mirrorEl=this.sourceEl.cloneNode(!0),r.style.userSelect="none",r.style.webkitUserSelect="none",r.style.pointerEvents="none",r.classList.add("fc-event-dragging"),Nf(r,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(r)),r}}class d4 extends t5{constructor(e,r){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=r,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class f4 extends d4{constructor(e,r){super(new Ane(e),r)}getEventTarget(){return this.scrollController.el}computeClientRect(){return Nne(this.scrollController.el)}}class ase extends d4{constructor(e){super(new _ne,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const GA=typeof performance=="function"?performance.now:Date.now;class ise{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let r=GA();this.handleSide(e,(r-this.msSinceRequest)/1e3),this.requestAnimation(r)}else this.isAnimating=!1}}}start(e,r,n){this.isEnabled&&(this.scrollCaches=this.buildCaches(n),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,r))}handleMove(e,r){if(this.isEnabled){let n=e-window.scrollX,a=r-window.scrollY,i=this.pointerScreenY===null?0:a-this.pointerScreenY,s=this.pointerScreenX===null?0:n-this.pointerScreenX;i<0?this.everMovedUp=!0:i>0&&(this.everMovedDown=!0),s<0?this.everMovedLeft=!0:s>0&&(this.everMovedRight=!0),this.pointerScreenX=n,this.pointerScreenY=a,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(GA()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,r){let{scrollCache:n}=e,{edgeThreshold:a}=this,i=a-e.distance,s=i*i/(a*a)*this.maxVelocity*r,o=1;switch(e.name){case"left":o=-1;case"right":n.setScrollLeft(n.getScrollLeft()+s*o);break;case"top":o=-1;case"bottom":n.setScrollTop(n.getScrollTop()+s*o);break}}computeBestEdge(e,r){let{edgeThreshold:n}=this,a=null,i=this.scrollCaches||[];for(let s of i){let o=s.clientRect,c=e-o.left,u=o.right-e,d=r-o.top,f=o.bottom-r;c>=0&&u>=0&&d>=0&&f>=0&&(d<=n&&this.everMovedUp&&s.canScrollUp()&&(!a||a.distance>d)&&(a={scrollCache:s,name:"top",distance:d}),f<=n&&this.everMovedDown&&s.canScrollDown()&&(!a||a.distance>f)&&(a={scrollCache:s,name:"bottom",distance:f}),c<=n&&this.everMovedLeft&&s.canScrollLeft()&&(!a||a.distance>c)&&(a={scrollCache:s,name:"left",distance:c}),u<=n&&this.everMovedRight&&s.canScrollRight()&&(!a||a.distance>u)&&(a={scrollCache:s,name:"right",distance:u}))}return a}buildCaches(e){return this.queryScrollEls(e).map(r=>r===window?new ase(!1):new f4(r,!1))}queryScrollEls(e){let r=[];for(let n of this.scrollQuery)typeof n=="object"?r.push(n):r.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(n)));return r}}class tp extends Cne{constructor(e,r){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=a=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,nte(document.body),ite(document.body),a.isTouch||a.origEvent.preventDefault(),this.emitter.trigger("pointerdown",a),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(a.subjectEl,a.pageX,a.pageY),this.startDelay(a),this.minDistance||this.handleDistanceSurpassed(a)))},this.onPointerMove=a=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",a),!this.isDistanceSurpassed){let i=this.minDistance,s,{deltaX:o,deltaY:c}=a;s=o*o+c*c,s>=i*i&&this.handleDistanceSurpassed(a)}this.isDragging&&(a.origEvent.type!=="scroll"&&(this.mirror.handleMove(a.pageX,a.pageY),this.autoScroller.handleMove(a.pageX,a.pageY)),this.emitter.trigger("dragmove",a))}},this.onPointerUp=a=>{this.isInteracting&&(this.isInteracting=!1,ate(document.body),ste(document.body),this.emitter.trigger("pointerup",a),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(a)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let n=this.pointer=new c4(e);n.emitter.on("pointerdown",this.onPointerDown),n.emitter.on("pointermove",this.onPointerMove),n.emitter.on("pointerup",this.onPointerUp),r&&(n.selector=r),this.mirror=new nse,this.autoScroller=new ise}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class sse{constructor(e){this.el=e,this.origRect=e5(e),this.scrollCaches=j3(e).map(r=>new f4(r,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let r of this.scrollCaches)e+=r.origScrollLeft-r.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let r of this.scrollCaches)e+=r.origScrollTop-r.getScrollTop();return e}isWithinClipping(e,r){let n={left:e,top:r};for(let a of this.scrollCaches)if(!ose(a.getEventTarget())&&!une(n,a.clientRect))return!1;return!0}}function ose(t){let e=t.tagName;return e==="HTML"||e==="BODY"}class fy{constructor(e,r){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=n=>{let{dragging:a}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(n),this.initialHit||!this.requireInitial?(a.setIgnoreMove(!1),this.emitter.trigger("pointerdown",n)):a.setIgnoreMove(!0)},this.handleDragStart=n=>{this.emitter.trigger("dragstart",n),this.handleMove(n,!0)},this.handleDragMove=n=>{this.emitter.trigger("dragmove",n),this.handleMove(n)},this.handlePointerUp=n=>{this.releaseHits(),this.emitter.trigger("pointerup",n)},this.handleDragEnd=n=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,n),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",n)},this.droppableStore=r,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new cy}processFirstCoord(e){let r={left:e.pageX,top:e.pageY},n=r,a=e.subjectEl,i;a instanceof HTMLElement&&(i=e5(a),n=dne(n,i));let s=this.initialHit=this.queryHitForOffset(n.left,n.top);if(s){if(this.useSubjectCenter&&i){let o=S3(i,s.rect);o&&(n=fne(o))}this.coordAdjust=hne(n,r)}else this.coordAdjust={left:0,top:0}}handleMove(e,r){let n=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(r||!hy(this.movingHit,n))&&(this.movingHit=n,this.emitter.trigger("hitupdate",n,!1,e))}prepareHits(){this.offsetTrackers=Ps(this.droppableStore,e=>(e.component.prepareHits(),new sse(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let r in e)e[r].destroy();this.offsetTrackers={}}queryHitForOffset(e,r){let{droppableStore:n,offsetTrackers:a}=this,i=null;for(let s in n){let o=n[s].component,c=a[s];if(c&&c.isWithinClipping(e,r)){let u=c.computeLeft(),d=c.computeTop(),f=e-u,h=r-d,{origRect:p}=c,g=p.right-p.left,m=p.bottom-p.top;if(f>=0&&f<g&&h>=0&&h<m){let y=o.queryHit(f,h,g,m);y&&oy(y.dateProfile.activeRange,y.dateSpan.range)&&(this.disablePointCheck||c.el.contains(c.el.getRootNode().elementFromPoint(f+u-window.scrollX,h+d-window.scrollY)))&&(!i||y.layer>i.layer)&&(y.componentId=s,y.context=o.context,y.rect.left+=u,y.rect.right+=u,y.rect.top+=d,y.rect.bottom+=d,i=y)}}}return i}}function hy(t,e){return!t&&!e?!0:!!t!=!!e?!1:Jre(t.dateSpan,e.dateSpan)}function h4(t,e){let r={};for(let n of e.pluginHooks.datePointTransforms)Object.assign(r,n(t,e));return Object.assign(r,lse(t,e.dateEnv)),r}function lse(t,e){return{date:e.toDate(t.range.start),dateStr:e.formatIso(t.range.start,{omitTime:t.allDay}),allDay:t.allDay}}class cse extends dd{constructor(e){super(e),this.handlePointerDown=n=>{let{dragging:a}=this,i=n.origEvent.target;a.setIgnoreMove(!this.component.isValidDateDownEl(i))},this.handleDragEnd=n=>{let{component:a}=this,{pointer:i}=this.dragging;if(!i.wasTouchScroll){let{initialHit:s,finalHit:o}=this.hitDragging;if(s&&o&&hy(s,o)){let{context:c}=a,u=Object.assign(Object.assign({},h4(s.dateSpan,c)),{dayEl:s.dayEl,jsEvent:n.origEvent,view:c.viewApi||c.calendarApi.view});c.emitter.trigger("dateClick",u)}}},this.dragging=new tp(e.el),this.dragging.autoScroller.isEnabled=!1;let r=this.hitDragging=new fy(this.dragging,Q2(e));r.emitter.on("pointerdown",this.handlePointerDown),r.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class use extends dd{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=s=>{let{component:o,dragging:c}=this,{options:u}=o.context,d=u.selectable&&o.isValidDateDownEl(s.origEvent.target);c.setIgnoreMove(!d),c.delay=s.isTouch?dse(o):null},this.handleDragStart=s=>{this.component.context.calendarApi.unselect(s)},this.handleHitUpdate=(s,o)=>{let{context:c}=this.component,u=null,d=!1;if(s){let f=this.hitDragging.initialHit;s.componentId===f.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(f,s)||(u=fse(f,s,c.pluginHooks.dateSelectionTransformers)),(!u||!Rne(u,s.dateProfile,c))&&(d=!0,u=null)}u?c.dispatch({type:"SELECT_DATES",selection:u}):o||c.dispatch({type:"UNSELECT_DATES"}),d?M2():R2(),o||(this.dragSelection=u)},this.handlePointerUp=s=>{this.dragSelection&&(m3(this.dragSelection,s,this.component.context),this.dragSelection=null)};let{component:r}=e,{options:n}=r.context,a=this.dragging=new tp(e.el);a.touchScrollAllowed=!1,a.minDistance=n.selectMinDistance||0,a.autoScroller.isEnabled=n.dragScroll;let i=this.hitDragging=new fy(this.dragging,Q2(e));i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function dse(t){let{options:e}=t.context,r=e.selectLongPressDelay;return r==null&&(r=e.longPressDelay),r}function fse(t,e,r){let n=t.dateSpan,a=e.dateSpan,i=[n.range.start,n.range.end,a.range.start,a.range.end];i.sort(dte);let s={};for(let o of r){let c=o(t,e);if(c===!1)return null;c&&Object.assign(s,c)}return s.range={start:i[0],end:i[3]},s.allDay=n.allDay,s}class rp extends dd{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=s=>{let o=s.origEvent.target,{component:c,dragging:u}=this,{mirror:d}=u,{options:f}=c.context,h=c.context;this.subjectEl=s.subjectEl;let p=this.subjectSeg=bu(s.subjectEl),m=(this.eventRange=p.eventRange).instance.instanceId;this.relevantEvents=G2(h.getCurrentData().eventStore,m),u.minDistance=s.isTouch?0:f.eventDragMinDistance,u.delay=s.isTouch&&m!==c.props.eventSelection?pse(c):null,f.fixedMirrorParent?d.parentNode=f.fixedMirrorParent:d.parentNode=On(o,".fc"),d.revertDuration=f.dragRevertDuration;let y=c.isValidSegDownEl(o)&&!On(o,".fc-event-resizer");u.setIgnoreMove(!y),this.isDragging=y&&s.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=s=>{let o=this.component.context,c=this.eventRange,u=c.instance.instanceId;s.isTouch?u!==this.component.props.eventSelection&&o.dispatch({type:"SELECT_EVENT",eventInstanceId:u}):o.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(o.calendarApi.unselect(s),o.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new vr(o,c.def,c.instance),jsEvent:s.origEvent,view:o.viewApi}))},this.handleHitUpdate=(s,o)=>{if(!this.isDragging)return;let c=this.relevantEvents,u=this.hitDragging.initialHit,d=this.component.context,f=null,h=null,p=null,g=!1,m={affectedEvents:c,mutatedEvents:va(),isEvent:!0};if(s){f=s.context;let y=f.options;d===f||y.editable&&y.droppable?(h=hse(u,s,this.eventRange.instance.range.start,f.getCurrentData().pluginHooks.eventDragMutationMassagers),h&&(p=K2(c,f.getCurrentData().eventUiBases,h,f),m.mutatedEvents=p,P3(m,s.dateProfile,f)||(g=!0,h=null,p=null,m.mutatedEvents=va()))):f=null}this.displayDrag(f,m),g?M2():R2(),o||(d===f&&hy(u,s)&&(h=null),this.dragging.setMirrorNeedsRevert(!h),this.dragging.setMirrorIsVisible(!s||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=f,this.validMutation=h,this.mutatedRelevantEvents=p)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=s=>{if(this.isDragging){let o=this.component.context,c=o.viewApi,{receivingContext:u,validMutation:d}=this,f=this.eventRange.def,h=this.eventRange.instance,p=new vr(o,f,h),g=this.relevantEvents,m=this.mutatedRelevantEvents,{finalHit:y}=this.hitDragging;if(this.clearDrag(),o.emitter.trigger("eventDragStop",{el:this.subjectEl,event:p,jsEvent:s.origEvent,view:c}),d){if(u===o){let b=new vr(o,m.defs[f.defId],h?m.instances[h.instanceId]:null);o.dispatch({type:"MERGE_EVENTS",eventStore:m});let x={oldEvent:p,event:b,relatedEvents:jl(m,o,h),revert(){o.dispatch({type:"MERGE_EVENTS",eventStore:g})}},N={};for(let A of o.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(N,A(d,o));o.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},x),N),{el:s.subjectEl,delta:d.datesDelta,jsEvent:s.origEvent,view:c})),o.emitter.trigger("eventChange",x)}else if(u){let b={event:p,relatedEvents:jl(g,o,h),revert(){o.dispatch({type:"MERGE_EVENTS",eventStore:g})}};o.emitter.trigger("eventLeave",Object.assign(Object.assign({},b),{draggedEl:s.subjectEl,view:c})),o.dispatch({type:"REMOVE_EVENTS",eventStore:g}),o.emitter.trigger("eventRemove",b);let x=m.defs[f.defId],N=m.instances[h.instanceId],A=new vr(u,x,N);u.dispatch({type:"MERGE_EVENTS",eventStore:m});let w={event:A,relatedEvents:jl(m,u,N),revert(){u.dispatch({type:"REMOVE_EVENTS",eventStore:m})}};u.emitter.trigger("eventAdd",w),s.isTouch&&u.dispatch({type:"SELECT_EVENT",eventInstanceId:h.instanceId}),u.emitter.trigger("drop",Object.assign(Object.assign({},h4(y.dateSpan,u)),{draggedEl:s.subjectEl,jsEvent:s.origEvent,view:y.context.viewApi})),u.emitter.trigger("eventReceive",Object.assign(Object.assign({},w),{draggedEl:s.subjectEl,view:y.context.viewApi}))}}else o.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:r}=this,{options:n}=r.context,a=this.dragging=new tp(e.el);a.pointer.selector=rp.SELECTOR,a.touchScrollAllowed=!1,a.autoScroller.isEnabled=n.dragScroll;let i=this.hitDragging=new fy(this.dragging,Kx);i.useSubjectCenter=e.useEventCenter,i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("pointerup",this.handlePointerUp),i.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,r){let n=this.component.context,a=this.receivingContext;a&&a!==e&&(a===n?a.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:r.affectedEvents,mutatedEvents:va(),isEvent:!0}}):a.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:r})}clearDrag(){let e=this.component.context,{receivingContext:r}=this;r&&r.dispatch({type:"UNSET_EVENT_DRAG"}),e!==r&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}rp.SELECTOR=".fc-event-draggable, .fc-event-resizable";function hse(t,e,r,n){let a=t.dateSpan,i=e.dateSpan,s=a.range.start,o=i.range.start,c={};a.allDay!==i.allDay&&(c.allDay=i.allDay,c.hasEnd=e.context.options.allDayMaintainDuration,i.allDay?s=rr(r):s=r);let u=Vc(s,o,t.context.dateEnv,t.componentId===e.componentId?t.largeUnit:null);u.milliseconds&&(c.allDay=!1);let d={datesDelta:u,standardProps:c};for(let f of n)f(d,t,e);return d}function pse(t){let{options:e}=t.context,r=e.eventLongPressDelay;return r==null&&(r=e.longPressDelay),r}class mse extends dd{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=i=>{let{component:s}=this,o=this.querySegEl(i),c=bu(o),u=this.eventRange=c.eventRange;this.dragging.minDistance=s.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(i.origEvent.target)||i.isTouch&&this.component.props.eventSelection!==u.instance.instanceId)},this.handleDragStart=i=>{let{context:s}=this.component,o=this.eventRange;this.relevantEvents=G2(s.getCurrentData().eventStore,this.eventRange.instance.instanceId);let c=this.querySegEl(i);this.draggingSegEl=c,this.draggingSeg=bu(c),s.calendarApi.unselect(),s.emitter.trigger("eventResizeStart",{el:c,event:new vr(s,o.def,o.instance),jsEvent:i.origEvent,view:s.viewApi})},this.handleHitUpdate=(i,s,o)=>{let{context:c}=this.component,u=this.relevantEvents,d=this.hitDragging.initialHit,f=this.eventRange.instance,h=null,p=null,g=!1,m={affectedEvents:u,mutatedEvents:va(),isEvent:!0};i&&(i.componentId===d.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(d,i)||(h=gse(d,i,o.subjectEl.classList.contains("fc-event-resizer-start"),f.range))),h&&(p=K2(u,c.getCurrentData().eventUiBases,h,c),m.mutatedEvents=p,P3(m,i.dateProfile,c)||(g=!0,h=null,p=null,m.mutatedEvents=null)),p?c.dispatch({type:"SET_EVENT_RESIZE",state:m}):c.dispatch({type:"UNSET_EVENT_RESIZE"}),g?M2():R2(),s||(h&&hy(d,i)&&(h=null),this.validMutation=h,this.mutatedRelevantEvents=p)},this.handleDragEnd=i=>{let{context:s}=this.component,o=this.eventRange.def,c=this.eventRange.instance,u=new vr(s,o,c),d=this.relevantEvents,f=this.mutatedRelevantEvents;if(s.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:u,jsEvent:i.origEvent,view:s.viewApi}),this.validMutation){let h=new vr(s,f.defs[o.defId],c?f.instances[c.instanceId]:null);s.dispatch({type:"MERGE_EVENTS",eventStore:f});let p={oldEvent:u,event:h,relatedEvents:jl(f,s,c),revert(){s.dispatch({type:"MERGE_EVENTS",eventStore:d})}};s.emitter.trigger("eventResize",Object.assign(Object.assign({},p),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||Et(0),endDelta:this.validMutation.endDelta||Et(0),jsEvent:i.origEvent,view:s.viewApi})),s.emitter.trigger("eventChange",p)}else s.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:r}=e,n=this.dragging=new tp(e.el);n.pointer.selector=".fc-event-resizer",n.touchScrollAllowed=!1,n.autoScroller.isEnabled=r.context.options.dragScroll;let a=this.hitDragging=new fy(this.dragging,Q2(e));a.emitter.on("pointerdown",this.handlePointerDown),a.emitter.on("dragstart",this.handleDragStart),a.emitter.on("hitupdate",this.handleHitUpdate),a.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return On(e.subjectEl,".fc-event")}}function gse(t,e,r,n){let a=t.context.dateEnv,i=t.dateSpan.range.start,s=e.dateSpan.range.start,o=Vc(i,s,a,t.largeUnit);if(r){if(a.add(n.start,o)<n.end)return{startDelta:o}}else if(a.add(n.end,o)>n.start)return{endDelta:o};return null}class vse{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=n=>{n.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=n=>{let a=this.context.options.unselectCancel,i=VP(n.origEvent);this.matchesCancel=!!On(i,a),this.matchesEvent=!!On(i,rp.SELECTOR)},this.onDocumentPointerUp=n=>{let{context:a}=this,{documentPointer:i}=this,s=a.getCurrentData();if(!i.wasTouchScroll){if(s.dateSelection&&!this.isRecentPointerDateSelect){let o=a.options.unselectAuto;o&&(!o||!this.matchesCancel)&&a.calendarApi.unselect(n)}s.eventSelection&&!this.matchesEvent&&a.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let r=this.documentPointer=new c4(document);r.shouldIgnoreMove=!0,r.shouldWatchScroll=!1,r.emitter.on("pointerdown",this.onDocumentPointerDown),r.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const yse={fixedMirrorParent:Se},bse={dateClick:Se,eventDragStart:Se,eventDragStop:Se,eventDrop:Se,eventResizeStart:Se,eventResizeStop:Se,eventResize:Se,drop:Se,eventReceive:Se,eventLeave:Se};n5.dataAttrPrefix="";var p4=ji({name:"@fullcalendar/interaction",componentInteractions:[cse,use,rp,mse],calendarInteractions:[vse],elementDraggingImpl:tp,optionRefiners:yse,listenerRefiners:bse});function kt({title:t,description:e,children:r,className:n="",...a}){return l.jsxs("div",{className:`
        bg-white rounded-lg shadow-md overflow-hidden
        ${n}
      `,...a,children:[(t||e)&&l.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[t&&l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t}),e&&l.jsx("p",{className:"mt-1 text-sm text-gray-600",children:e})]}),l.jsx("div",{className:"p-6",children:r})]})}function cr({label:t,error:e,as:r="input",className:n="",...a}){const i=r==="textarea"?"textarea":"input";return l.jsxs("div",{className:"space-y-1",children:[t&&l.jsx("label",{htmlFor:a.id,className:"block text-sm font-medium text-gray-700",children:t}),l.jsx(i,{className:`block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed ${e?"border-red-300 focus:border-red-500 focus:ring-red-500":""} ${n}`,...a}),e&&l.jsx("p",{className:"text-sm text-red-600",children:e})]})}function Or({label:t,error:e,options:r=[],className:n="",...a}){return l.jsxs("div",{className:"space-y-1",children:[t&&l.jsx("label",{htmlFor:a.id,className:"block text-sm font-medium text-gray-700",children:t}),l.jsx("select",{className:`
          block w-full rounded-lg
          border-gray-300 shadow-sm
          focus:border-blue-500 focus:ring-blue-500
          disabled:bg-gray-100 disabled:cursor-not-allowed
          ${e?"border-red-300 focus:border-red-500 focus:ring-red-500":""}
          ${n}
        `,...a,children:r.map(i=>l.jsx("option",{value:i.value,children:i.label},i.value))}),e&&l.jsx("p",{className:"text-sm text-red-600",children:e})]})}const Ra=({children:t,className:e="",...r})=>l.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${e}`,...r,children:t}),xse=({value:t=0,className:e="",...r})=>l.jsx("div",{className:`w-full bg-gray-200 rounded-full h-2 ${e}`,...r,children:l.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(Math.max(t,0),100)}%`}})}),Ng=({className:t="",...e})=>l.jsx("textarea",{className:`w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ${t}`,...e}),Yt=({children:t,className:e="",...r})=>l.jsx("label",{className:`block text-sm font-medium text-gray-700 mb-1 ${e}`,...r,children:t}),u5=R.createContext(),wse=({value:t,onValueChange:e,children:r,className:n=""})=>l.jsx(u5.Provider,{value:{value:t,onValueChange:e},children:l.jsx("div",{className:n,children:r})}),Sse=({children:t,className:e=""})=>l.jsx("div",{className:`flex space-x-1 ${e}`,children:t}),mm=({value:t,children:e,className:r=""})=>{const{value:n,onValueChange:a}=R.useContext(u5),i=n===t;return l.jsx("button",{onClick:()=>a(t),className:`px-3 py-2 text-sm font-medium rounded-md transition-colors ${i?"bg-blue-100 text-blue-700 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"} ${r}`,children:e})},gm=({value:t,children:e,className:r=""})=>{const{value:n}=R.useContext(u5);return n!==t?null:l.jsx("div",{className:r,children:e})},Nse=R.createContext(),nh=({open:t,onOpenChange:e,children:r})=>t?l.jsx(Nse.Provider,{value:{open:t,onOpenChange:e},children:l.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:()=>e(!1)}),l.jsx("div",{className:"relative bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:r})]})}):null,ah=({children:t,className:e=""})=>l.jsx("div",{className:`p-6 ${e}`,children:t}),ih=({children:t,className:e=""})=>l.jsx("div",{className:`mb-4 ${e}`,children:t}),sh=({children:t,className:e=""})=>l.jsx("h2",{className:`text-lg font-semibold text-gray-900 ${e}`,children:t}),jse=[{value:"fundraiser",label:"Fundraiser"},{value:"meeting",label:"Meeting"},{value:"social",label:"Social"},{value:"other",label:"Other"}],Ase=[{value:"#f59e42",label:"Orange"},{value:"#2563eb",label:"Blue"},{value:"#10b981",label:"Green"},{value:"#a78bfa",label:"Purple"}],_se=[{value:"",label:"None"},{value:"daily",label:"Daily"},{value:"weekly",label:"Weekly"},{value:"monthly",label:"Monthly"}],m4=({open:t,onClose:e,onSave:r,initialEventData:n})=>{const[a,i]=R.useState({title:"",type:"other",start:"",end:"",allDay:!0,location:"",description:"",color:"#a78bfa",recurrence:"",rrule:"",...n}),[s,o]=R.useState("");R.useEffect(()=>{i({title:"",type:"other",start:"",end:"",allDay:!0,location:"",description:"",color:"#a78bfa",recurrence:"",rrule:"",...n})},[n,t]);const c=(f,h)=>{i(p=>({...p,[f]:h}))},u=f=>{if(c("recurrence",f),!f){c("rrule","");return}let h=`FREQ=${f.toUpperCase()}`;a.start&&(h+=`;DTSTART=${a.start.replace(/[-:]/g,"").slice(0,15)}`),c("rrule",h)},d=f=>{if(f.preventDefault(),o(""),!a.title||!a.start){o("Title and start date are required.");return}r(a)};return l.jsx(nh,{open:t,onOpenChange:e,children:l.jsxs(ah,{className:"max-w-xl max-h-[90vh] overflow-y-auto",children:[l.jsx(ih,{children:l.jsxs(sh,{className:"flex items-center justify-between",children:[l.jsx("span",{children:a.id?"Edit Event":"Create Event"}),l.jsx(ft,{variant:"ghost",size:"sm",onClick:e,children:l.jsx(Ev,{className:"h-4 w-4"})})]})}),l.jsxs("form",{onSubmit:d,className:"space-y-6",children:[s&&l.jsx("div",{className:"p-2 bg-red-50 border border-red-200 rounded text-red-600 text-sm",children:s}),l.jsxs("div",{children:[l.jsx(Yt,{htmlFor:"title",children:"Title *"}),l.jsx(cr,{id:"title",value:a.title,onChange:f=>c("title",f.target.value),required:!0})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(Yt,{htmlFor:"type",children:"Type"}),l.jsx(Or,{id:"type",value:a.type,onChange:f=>c("type",f.target.value),options:jse})]}),l.jsxs("div",{children:[l.jsx(Yt,{htmlFor:"color",children:"Color"}),l.jsx(Or,{id:"color",value:a.color,onChange:f=>c("color",f.target.value),options:Ase})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(Yt,{htmlFor:"start",children:"Start Date"}),l.jsx(cr,{id:"start",type:"datetime-local",value:a.start,onChange:f=>c("start",f.target.value),required:!0})]}),l.jsxs("div",{children:[l.jsx(Yt,{htmlFor:"end",children:"End Date"}),l.jsx(cr,{id:"end",type:"datetime-local",value:a.end,onChange:f=>c("end",f.target.value)})]})]}),l.jsxs("div",{children:[l.jsx(Yt,{htmlFor:"location",children:"Location"}),l.jsx(cr,{id:"location",value:a.location,onChange:f=>c("location",f.target.value)})]}),l.jsxs("div",{children:[l.jsx(Yt,{htmlFor:"description",children:"Description"}),l.jsx(Ng,{id:"description",value:a.description,onChange:f=>c("description",f.target.value),rows:3})]}),l.jsxs("div",{children:[l.jsx(Yt,{htmlFor:"recurrence",children:"Recurrence"}),l.jsx(Or,{id:"recurrence",value:a.recurrence,onChange:f=>u(f.target.value),options:_se})]}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[l.jsx(ft,{type:"button",variant:"outline",onClick:e,children:"Cancel"}),l.jsx(ft,{type:"submit",children:a.id?"Save Changes":"Create Event"})]})]})]})})},VA={fundraiser:"#f59e42",meeting:"#2563eb",social:"#10b981",other:"#a78bfa"},Ese=({onEventClick:t})=>{const[e,r]=R.useState([]),[n,a]=R.useState(null),[i,s]=R.useState(!1),[o,c]=R.useState(null),u=R.useRef();R.useEffect(()=>{async function g(){const m=await hn.getEvents(),y=(m.data||m).map(b=>({id:b.id,title:b.title,start:b.event_date,end:b.end_date||b.event_date,allDay:!0,color:VA[b.type]||VA.other,rrule:b.rrule||void 0,extendedProps:{...b}}));r(y)}g()},[]);const d=g=>{const{jsEvent:m,event:y}=g;a({x:m.clientX,y:m.clientY,content:l.jsxs("div",{style:{minWidth:180},children:[l.jsx("div",{className:"font-bold mb-1",children:y.title}),l.jsxs("div",{className:"text-xs mb-1",children:[y.extendedProps.type||"Other"," | ",y.startStr," ",y.endStr&&`- ${y.endStr}`]}),y.extendedProps.location&&l.jsxs("div",{className:"text-xs",children:["ðŸ“ ",y.extendedProps.location]}),y.extendedProps.description&&l.jsx("div",{className:"text-xs mt-1",children:y.extendedProps.description})]})})},f=()=>a(null),h=g=>{c({id:g.event.id,title:g.event.title,type:g.event.extendedProps.type,start:g.event.startStr,end:g.event.endStr,allDay:g.event.allDay,location:g.event.extendedProps.location,description:g.event.extendedProps.description,color:g.event.backgroundColor,recurrence:g.event.extendedProps.rrule?"custom":"",rrule:g.event.extendedProps.rrule||""}),s(!0)},p=async g=>{s(!1),c(null)};return R.useEffect(()=>{const g=m=>{u.current&&!u.current.contains(m.target)&&a(null)};return n&&document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[n]),l.jsxs("div",{className:"mini-calendar-container",style:{position:"relative"},children:[l.jsx(c5,{plugins:[l4,p4],initialView:"dayGridMonth",headerToolbar:!1,events:e,height:"auto",contentHeight:300,aspectRatio:1.2,eventClick:h,eventMouseEnter:d,eventMouseLeave:f,themeSystem:"journal"}),l.jsx(m4,{open:i,onClose:()=>{s(!1),c(null)},onSave:p,initialEventData:o}),n&&l.jsx("div",{ref:u,className:"fc-tooltip",style:{position:"fixed",left:n.x+12,top:n.y+12,zIndex:1e3},children:n.content})]})},Ose=({task:t,onClose:e,onTaskUpdated:r})=>{const[n,a]=R.useState(!1),[i,s]=R.useState({title:(t==null?void 0:t.title)||"",description:(t==null?void 0:t.description)||"",status:(t==null?void 0:t.status)||"pending",priority:(t==null?void 0:t.priority)||"medium",category:(t==null?void 0:t.category)||"other",assigned_to:(t==null?void 0:t.assigned_to)||"",due_date:(t==null?void 0:t.due_date)||"",estimated_hours:(t==null?void 0:t.estimated_hours)||"",estimated_cost:(t==null?void 0:t.estimated_cost)||""}),[o,c]=R.useState(!1),[u,d]=R.useState(null),[f,h]=R.useState([]),[p,g]=R.useState("");R.useEffect(()=>{t&&m()},[t]);const m=async()=>{try{const j=await Wr.get(`/tasks/${t.id}/comments`);h(j.data)}catch(j){console.error("Error loading comments:",j)}},y=(j,E)=>{s(O=>({...O,[j]:E}))},b=async j=>{var E,O;if(j.preventDefault(),!i.title.trim()){d("Task title is required");return}c(!0),d(null);try{const k={...i,estimated_hours:i.estimated_hours?parseFloat(i.estimated_hours):null,estimated_cost:i.estimated_cost?parseFloat(i.estimated_cost):null};await Wr.put(`/tasks/${t.id}`,k),a(!1),k.assigned_to&&ut.success(`Task assigned to ${k.assigned_to}`),r&&r()}catch(k){d(((O=(E=k.response)==null?void 0:E.data)==null?void 0:O.message)||"Failed to update task"),console.error("Error updating task:",k)}finally{c(!1)}},x=async()=>{if(confirm("Are you sure you want to delete this task?"))try{await Wr.delete(`/tasks/${t.id}`),e(),r&&r()}catch(j){d("Failed to delete task"),console.error("Error deleting task:",j)}},N=async()=>{if(p.trim())try{await Wr.post(`/tasks/${t.id}/comments`,{comment:p}),g(""),m()}catch(j){console.error("Error adding comment:",j)}},A=j=>{switch(j){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},w=j=>{switch(j){case"completed":return"bg-green-100 text-green-800";case"in_progress":return"bg-blue-100 text-blue-800";case"blocked":return"bg-red-100 text-red-800";case"pending":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return t?l.jsx(nh,{open:!0,onOpenChange:e,children:l.jsxs(ah,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[l.jsx(ih,{children:l.jsxs(sh,{className:"flex items-center justify-between",children:[l.jsx("span",{children:n?"Edit Task":"Task Details"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(ft,{variant:"ghost",size:"sm",onClick:()=>a(!n),disabled:o,children:l.jsx(Xn,{className:"h-4 w-4"})}),l.jsx(ft,{variant:"ghost",size:"sm",onClick:x,disabled:o,className:"text-red-600 hover:text-red-700",children:l.jsx(Av,{className:"h-4 w-4"})}),l.jsx(ft,{variant:"ghost",size:"sm",onClick:e,disabled:o,children:l.jsx(Ev,{className:"h-4 w-4"})})]})]})}),n?l.jsxs("form",{onSubmit:b,className:"space-y-6",children:[u&&l.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:l.jsx("p",{className:"text-red-600 text-sm",children:u})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(Yt,{htmlFor:"title",children:"Task Title *"}),l.jsx(cr,{id:"title",value:i.title,onChange:j=>y("title",j.target.value),placeholder:"Enter task title...",required:!0})]}),l.jsxs("div",{children:[l.jsx(Yt,{htmlFor:"status",children:"Status"}),l.jsx(Or,{value:i.status,onChange:j=>y("status",j.target.value),options:[{value:"pending",label:"Pending"},{value:"in_progress",label:"In Progress"},{value:"completed",label:"Completed"},{value:"blocked",label:"Blocked"}]})]}),l.jsxs("div",{children:[l.jsx(Yt,{htmlFor:"priority",children:"Priority"}),l.jsx(Or,{value:i.priority,onChange:j=>y("priority",j.target.value),options:[{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"}]})]}),l.jsxs("div",{children:[l.jsx(Yt,{htmlFor:"category",children:"Category"}),l.jsx(Or,{value:i.category,onChange:j=>y("category",j.target.value),options:[{value:"marketing",label:"Marketing"},{value:"volunteers",label:"Volunteers"},{value:"budget",label:"Budget"},{value:"logistics",label:"Logistics"},{value:"venue",label:"Venue"},{value:"supplies",label:"Supplies"},{value:"other",label:"Other"}]})]}),l.jsxs("div",{children:[l.jsx(Yt,{htmlFor:"assigned_to",children:"Assigned To"}),l.jsx(cr,{id:"assigned_to",value:i.assigned_to,onChange:j=>y("assigned_to",j.target.value),placeholder:"Enter assignee name..."})]}),l.jsxs("div",{children:[l.jsx(Yt,{htmlFor:"due_date",children:"Due Date"}),l.jsx(cr,{id:"due_date",type:"date",value:i.due_date,onChange:j=>y("due_date",j.target.value)})]}),l.jsxs("div",{children:[l.jsx(Yt,{htmlFor:"estimated_hours",children:"Estimated Hours"}),l.jsx(cr,{id:"estimated_hours",type:"number",step:"0.5",min:"0",value:i.estimated_hours,onChange:j=>y("estimated_hours",j.target.value),placeholder:"0.0"})]}),l.jsxs("div",{children:[l.jsx(Yt,{htmlFor:"estimated_cost",children:"Estimated Cost"}),l.jsx(cr,{id:"estimated_cost",type:"number",step:"0.01",min:"0",value:i.estimated_cost,onChange:j=>y("estimated_cost",j.target.value),placeholder:"0.00"})]})]}),l.jsxs("div",{children:[l.jsx(Yt,{htmlFor:"description",children:"Description"}),l.jsx(Ng,{id:"description",value:i.description,onChange:j=>y("description",j.target.value),placeholder:"Describe the task...",rows:4})]}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[l.jsx(ft,{type:"button",variant:"outline",onClick:()=>a(!1),disabled:o,children:"Cancel"}),l.jsx(ft,{type:"submit",disabled:o,children:o?"Saving...":"Save Changes"})]})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:t.title}),l.jsx("p",{className:"text-gray-600 mb-4",children:t.description}),l.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[l.jsx(Ra,{className:w(t.status),children:t.status.replace("_"," ")}),l.jsx(Ra,{className:A(t.priority),children:t.priority}),l.jsx(Ra,{className:"bg-blue-100 text-blue-800",children:t.category})]}),l.jsxs("div",{className:"space-y-2",children:[t.assigned_to&&l.jsxs("div",{className:"flex items-center",children:[l.jsx(Wh,{className:"h-4 w-4 text-gray-500 mr-2"}),l.jsxs("span",{className:"text-sm",children:["Assigned to: ",t.assigned_to]})]}),t.due_date&&l.jsxs("div",{className:"flex items-center",children:[l.jsx(ea,{className:"h-4 w-4 text-gray-500 mr-2"}),l.jsxs("span",{className:"text-sm",children:["Due: ",new Date(t.due_date).toLocaleDateString()]})]}),t.estimated_hours&&l.jsxs("div",{className:"flex items-center",children:[l.jsx(Clock,{className:"h-4 w-4 text-gray-500 mr-2"}),l.jsxs("span",{className:"text-sm",children:["Estimated: ",t.estimated_hours," hours"]})]}),t.estimated_cost&&l.jsxs("div",{className:"flex items-center",children:[l.jsx(Pw,{className:"h-4 w-4 text-gray-500 mr-2"}),l.jsxs("span",{className:"text-sm",children:["Cost: $",t.estimated_cost]})]})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold mb-3",children:"Task Progress"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Created"}),l.jsx("span",{className:"text-sm",children:new Date(t.created_at).toLocaleDateString()})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Last Updated"}),l.jsx("span",{className:"text-sm",children:new Date(t.updated_at).toLocaleDateString()})]}),t.completed_at&&l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Completed"}),l.jsx("span",{className:"text-sm",children:new Date(t.completed_at).toLocaleDateString()})]})]})]})]}),l.jsxs("div",{className:"border-t pt-6",children:[l.jsxs("h4",{className:"font-semibold mb-4 flex items-center",children:[l.jsx(ui,{className:"h-4 w-4 mr-2"}),"Comments (",f.length,")"]}),l.jsx("div",{className:"space-y-4 mb-4",children:f.map(j=>l.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"font-medium text-sm",children:j.user_name}),l.jsx("span",{className:"text-xs text-gray-500",children:new Date(j.created_at).toLocaleDateString()})]}),l.jsx("p",{className:"text-sm text-gray-700",children:j.comment})]},j.id))}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx(Ng,{value:p,onChange:j=>g(j.target.value),placeholder:"Add a comment...",rows:2,className:"flex-1"}),l.jsx(ft,{onClick:N,disabled:!p.trim(),children:"Add"})]})]})]})]})}):null},g4=({eventId:t,onClose:e,onTaskAdded:r})=>{const[n,a]=R.useState({title:"",description:"",assigned_to:"",assigned_to_external:"",due_date:"",priority:"medium",status:"pending",category:"other",estimated_hours:"",estimated_cost:"",parent_task_id:""}),[i,s]=R.useState(!1),[o,c]=R.useState(null),[u,d]=R.useState([]),[f,h]=R.useState([]);R.useEffect(()=>{p(),g()},[]);const p=async()=>{var x;try{console.log("ðŸ” [AddTaskModal] Loading users...");const N=await rL.getUsers();console.log("ðŸ“Š [AddTaskModal] Users response:",N);const A=Array.isArray((x=N.data)==null?void 0:x.profiles)?N.data.profiles:Array.isArray(N.data)?N.data:[];console.log("ðŸ‘¥ [AddTaskModal] User list:",A);const w=A.sort((j,E)=>{const O=j.full_name||(j.first_name&&j.last_name?`${j.first_name} ${j.last_name}`:j.email)||"",k=E.full_name||(E.first_name&&E.last_name?`${E.first_name} ${E.last_name}`:E.email)||"";return O.localeCompare(k)});console.log("âœ… [AddTaskModal] Sorted users:",w),d(w)}catch(N){console.error("âŒ [AddTaskModal] Error loading users:",N),d([])}},g=async()=>{try{const x=await hn.getEventTasks(t),N=Array.isArray(x.data)?x.data:[];h(N.filter(A=>A.status!=="completed"))}catch(x){console.error("Error loading parent tasks:",x),h([])}},m=(x,N)=>{a(A=>({...A,[x]:N}))},y=async x=>{var N,A;if(x.preventDefault(),!n.title.trim()){c("Task title is required");return}s(!0),c(null);try{const w={...n,estimated_hours:n.estimated_hours?parseFloat(n.estimated_hours):null,estimated_cost:n.estimated_cost?parseFloat(n.estimated_cost):null,assigned_to:n.assigned_to||null,parent_task_id:n.parent_task_id||null};await hn.createTask(t,w),w.assigned_to&&ut.success(`Task assigned to ${w.assigned_to}`),r()}catch(w){c(((A=(N=w.response)==null?void 0:N.data)==null?void 0:A.message)||"Failed to create task"),console.error("Error creating task:",w)}finally{s(!1)}},b=()=>{i||e()};return l.jsx(nh,{open:!0,onOpenChange:b,children:l.jsxs(ah,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[l.jsx(ih,{children:l.jsxs(sh,{className:"flex items-center justify-between",children:[l.jsx("span",{children:"Add New Task"}),l.jsx(ft,{variant:"ghost",size:"sm",onClick:b,disabled:i,children:l.jsx(Ev,{className:"h-4 w-4"})})]})}),l.jsxs("form",{onSubmit:y,className:"space-y-6",children:[o&&l.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:l.jsx("p",{className:"text-red-600 text-sm",children:o})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(Yt,{htmlFor:"title",className:"flex items-center",children:l.jsx("span",{className:"mr-2",children:"Task Title *"})}),l.jsx(cr,{id:"title",value:n.title,onChange:x=>m("title",x.target.value),placeholder:"Enter task title...",required:!0})]}),l.jsxs("div",{children:[l.jsx(Yt,{htmlFor:"description",children:"Description"}),l.jsx(Ng,{id:"description",value:n.description,onChange:x=>m("description",x.target.value),placeholder:"Describe the task...",rows:3})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs(Yt,{htmlFor:"assigned_to",className:"flex items-center",children:[l.jsx(Wh,{className:"h-4 w-4 mr-2"}),"Assign to Member"]}),l.jsx(Or,{value:n.assigned_to,onChange:x=>m("assigned_to",x.target.value),options:[{value:"",label:"Select a member..."},...u.map(x=>({value:x.id,label:x.full_name||(x.first_name&&x.last_name?`${x.first_name} ${x.last_name}`:x.email)}))]})]}),l.jsxs("div",{children:[l.jsx(Yt,{htmlFor:"assigned_to_external",children:"External Assignment"}),l.jsx(cr,{id:"assigned_to_external",value:n.assigned_to_external,onChange:x=>m("assigned_to_external",x.target.value),placeholder:"e.g., Principal, Facilities Manager"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs(Yt,{htmlFor:"priority",className:"flex items-center",children:[l.jsx(Pw,{className:"h-4 w-4 mr-2"}),"Priority"]}),l.jsx(Or,{value:n.priority,onChange:x=>m("priority",x.target.value),options:[{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"}]})]}),l.jsxs("div",{children:[l.jsx(Yt,{htmlFor:"status",children:"Status"}),l.jsx(Or,{value:n.status,onChange:x=>m("status",x.target.value),options:[{value:"pending",label:"Pending"},{value:"in_progress",label:"In Progress"},{value:"completed",label:"Completed"},{value:"blocked",label:"Blocked"}]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(Yt,{htmlFor:"category",children:"Category"}),l.jsx(Or,{value:n.category,onChange:x=>m("category",x.target.value),options:[{value:"marketing",label:"Marketing"},{value:"volunteers",label:"Volunteers"},{value:"budget",label:"Budget"},{value:"logistics",label:"Logistics"},{value:"venue",label:"Venue"},{value:"supplies",label:"Supplies"},{value:"other",label:"Other"}]})]}),l.jsxs("div",{children:[l.jsx(Yt,{htmlFor:"parent_task_id",children:"Parent Task (Optional)"}),l.jsx(Or,{value:n.parent_task_id,onChange:x=>m("parent_task_id",x.target.value),options:[{value:"",label:"No parent task"},...f.map(x=>({value:x.id,label:x.title}))]})]})]}),l.jsxs("div",{children:[l.jsxs(Yt,{htmlFor:"due_date",className:"flex items-center",children:[l.jsx(ea,{className:"h-4 w-4 mr-2"}),"Due Date"]}),l.jsx(cr,{id:"due_date",type:"date",value:n.due_date,onChange:x=>m("due_date",x.target.value)})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs(Yt,{htmlFor:"estimated_hours",className:"flex items-center",children:[l.jsx(yo,{className:"h-4 w-4 mr-2"}),"Estimated Hours"]}),l.jsx(cr,{id:"estimated_hours",type:"number",step:"0.5",min:"0",value:n.estimated_hours,onChange:x=>m("estimated_hours",x.target.value),placeholder:"0.0"})]}),l.jsxs("div",{children:[l.jsxs(Yt,{htmlFor:"estimated_cost",className:"flex items-center",children:[l.jsx(Da,{className:"h-4 w-4 mr-2"}),"Estimated Cost"]}),l.jsx(cr,{id:"estimated_cost",type:"number",step:"0.01",min:"0",value:n.estimated_cost,onChange:x=>m("estimated_cost",x.target.value),placeholder:"0.00"})]})]}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[l.jsx(ft,{type:"button",variant:"outline",onClick:b,disabled:i,children:"Cancel"}),l.jsx(ft,{type:"submit",disabled:i,children:i?"Creating...":"Create Task"})]})]})]})})},d5=({eventId:t,onTaskUpdated:e})=>{const[r,n]=R.useState([]),[a,i]=R.useState(!0),[s,o]=R.useState(null),[c,u]=R.useState({status:"all",priority:"all",category:"all",assigned:"all"}),[d,f]=R.useState(""),[h,p]=R.useState("due_date"),[g,m]=R.useState(!1),[y,b]=R.useState(!1),[x,N]=R.useState(null);R.useEffect(()=>{A()},[t]);const A=async()=>{var M,H,V;try{i(!0),o(null);const{data:{session:F},error:X}=await Ge.auth.getSession();if(console.log("ðŸ” [DEBUG] Session check before API call:",{hasSession:!!F,hasToken:!!(F!=null&&F.access_token),tokenLength:(M=F==null?void 0:F.access_token)==null?void 0:M.length,sessionError:X}),!(F!=null&&F.access_token)){console.warn("âš ï¸ [DEBUG] No valid session found, attempting refresh...");const{data:Q,error:se}=await Ge.auth.refreshSession();console.log("ðŸ” [DEBUG] Session refresh result:",{hasRefreshSession:!!(Q!=null&&Q.session),refreshError:se})}const Y=await hn.getEventTasks(t);n(Array.isArray(Y.data)?Y.data:[])}catch(F){console.error("âŒ [DEBUG] Full error details:",{message:F.message,response:(H=F.response)==null?void 0:H.data,status:(V=F.response)==null?void 0:V.status,stack:F.stack}),o("Failed to load tasks - Authentication issue. Please try refreshing the page."),n([])}finally{i(!1)}},w=M=>{N(M),m(!0)},j=()=>{m(!1),b(!1),A(),e&&e(),x&&x.assigned_to&&ut.success(`Task assigned to ${x.assigned_to}`)},E=async M=>{if(confirm("Are you sure you want to delete this task?"))try{await hn.deleteTask(t,M),A(),e&&e()}catch(H){console.error("Error deleting task:",H)}},O=M=>{switch(M){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},k=M=>{switch(M){case"completed":return"bg-green-100 text-green-800";case"in_progress":return"bg-blue-100 text-blue-800";case"blocked":return"bg-red-100 text-red-800";case"pending":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},L=M=>{switch(M){case"marketing":return"ðŸ“¢";case"volunteers":return"ðŸ‘¥";case"budget":return"ðŸ’°";case"logistics":return"ðŸ“¦";case"venue":return"ðŸ¢";case"supplies":return"ðŸ“‹";default:return"ðŸ“"}},C=Array.isArray(r)?r:[],P=C.filter(M=>{var Q;const H=M.title.toLowerCase().includes(d.toLowerCase())||((Q=M.description)==null?void 0:Q.toLowerCase().includes(d.toLowerCase())),V=c.status==="all"||M.status===c.status,F=c.priority==="all"||M.priority===c.priority,X=c.category==="all"||M.category===c.category,Y=c.assigned==="all"||c.assigned==="assigned"&&M.assigned_to||c.assigned==="unassigned"&&!M.assigned_to;return H&&V&&F&&X&&Y}),I=[...P].sort((M,H)=>{switch(h){case"due_date":return!M.due_date&&!H.due_date?0:M.due_date?H.due_date?new Date(M.due_date)-new Date(H.due_date):-1:1;case"priority":const V={high:3,medium:2,low:1};return V[H.priority]-V[M.priority];case"status":const F={pending:1,in_progress:2,completed:3,blocked:4};return F[M.status]-F[H.status];case"title":return M.title.localeCompare(H.title);default:return 0}});return a?l.jsx("div",{className:"flex items-center justify-center py-8",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):s?l.jsxs(kt,{className:"p-6 text-center",children:[l.jsx("p",{className:"text-red-600",children:s}),l.jsx(ft,{onClick:A,variant:"outline",className:"mt-4",children:"Retry"})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("h2",{className:"text-2xl font-bold",children:["Tasks (",C.length,")"]}),l.jsxs(ft,{onClick:()=>b(!0),className:"bg-blue-600 hover:bg-blue-700",children:[l.jsx(Mf,{className:"h-4 w-4 mr-2"}),"Add Task"]})]}),l.jsx(kt,{className:"p-4",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[l.jsx("div",{className:"md:col-span-2",children:l.jsxs("div",{className:"relative",children:[l.jsx(Dw,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),l.jsx(cr,{placeholder:"Search tasks...",value:d,onChange:M=>f(M.target.value),className:"pl-10"})]})}),l.jsx(Or,{value:c.status,onChange:M=>u({...c,status:M.target.value}),options:[{value:"all",label:"All Status"},{value:"pending",label:"Pending"},{value:"in_progress",label:"In Progress"},{value:"completed",label:"Completed"},{value:"blocked",label:"Blocked"}]}),l.jsx(Or,{value:c.priority,onChange:M=>u({...c,priority:M.target.value}),options:[{value:"all",label:"All Priorities"},{value:"high",label:"High"},{value:"medium",label:"Medium"},{value:"low",label:"Low"}]}),l.jsx(Or,{value:c.category,onChange:M=>u({...c,category:M.target.value}),options:[{value:"all",label:"All Categories"},{value:"marketing",label:"Marketing"},{value:"volunteers",label:"Volunteers"},{value:"budget",label:"Budget"},{value:"logistics",label:"Logistics"},{value:"venue",label:"Venue"},{value:"supplies",label:"Supplies"},{value:"other",label:"Other"}]}),l.jsx(Or,{value:c.assigned,onChange:M=>u({...c,assigned:M.target.value}),options:[{value:"all",label:"All Assignments"},{value:"assigned",label:"Assigned"},{value:"unassigned",label:"Unassigned"}]})]})}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Sort by:"}),l.jsx(Or,{value:h,onChange:M=>p(M.target.value),options:[{value:"due_date",label:"Due Date"},{value:"priority",label:"Priority"},{value:"status",label:"Status"},{value:"title",label:"Title"}]})]}),l.jsxs("span",{className:"text-sm text-gray-600",children:[P.length," of ",C.length," tasks"]})]}),l.jsx("div",{className:"space-y-3",children:I.length===0?l.jsxs(kt,{className:"p-8 text-center",children:[l.jsx("p",{className:"text-gray-600",children:"No tasks found matching your criteria."}),l.jsx(ft,{onClick:()=>b(!0),variant:"outline",className:"mt-4",children:"Add First Task"})]}):I.map(M=>l.jsx(kt,{className:"p-4 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>w(M),children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[l.jsx("span",{className:"text-lg",children:L(M.category)}),l.jsx("h3",{className:"font-semibold text-lg",children:M.title}),l.jsxs(Ra,{className:O(M.priority),children:[l.jsx(Pw,{className:"h-3 w-3 mr-1"}),M.priority]}),l.jsx(Ra,{className:k(M.status),children:M.status.replace("_"," ")})]}),M.description&&l.jsx("p",{className:"text-gray-600 mb-3 line-clamp-2",children:M.description}),l.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-500",children:[M.due_date&&l.jsxs("div",{className:"flex items-center",children:[l.jsx(ea,{className:"h-4 w-4 mr-1"}),new Date(M.due_date).toLocaleDateString()]}),M.assigned_to&&l.jsxs("div",{className:"flex items-center",children:[l.jsx(Wh,{className:"h-4 w-4 mr-1"}),"Assigned"]}),M.estimated_hours&&l.jsxs("div",{className:"flex items-center",children:[l.jsx(Clock,{className:"h-4 w-4 mr-1"}),M.estimated_hours,"h"]}),M.estimated_cost&&l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:"mr-1",children:"$"}),M.estimated_cost]})]})]}),l.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[l.jsx(ft,{size:"sm",variant:"ghost",onClick:H=>{H.stopPropagation(),w(M)},children:l.jsx(Xn,{className:"h-4 w-4"})}),l.jsx(ft,{size:"sm",variant:"ghost",onClick:H=>{H.stopPropagation(),E(M.id)},children:l.jsx(Av,{className:"h-4 w-4"})})]})]})},M.id))}),g&&x&&l.jsx(Ose,{task:x,onClose:()=>{m(!1),N(null)},onTaskUpdated:j}),y&&l.jsx(g4,{eventId:t,onClose:()=>b(!1),onTaskAdded:j})]})},Cse=()=>{const{eventId:t}=To(),e=xr(),[r,n]=R.useState(null),[a,i]=R.useState(null),[s,o]=R.useState(null),[c,u]=R.useState("overview"),[d,f]=R.useState(!0);if(R.useEffect(()=>{t&&(async()=>{try{const{data:{session:x}}=await Ge.auth.getSession();if(x!=null&&x.user){const{data:N}=await Ge.from("profiles").select("*").eq("id",x.user.id).single();o(N);const A=await hn.getEvent(t);if(A.data){n(A.data);const w=await bo.analyzeEventWorkflow(A.data,N.org_id);i(w)}}}catch(x){console.error("Error fetching event and workflow:",x),ut.error("Failed to load event workflow")}finally{f(!1)}})()},[t]),d)return l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-600 border-t-transparent"})});if(!r||!a)return l.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-8 text-center",children:[l.jsx(WC,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Event Not Found"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"The event workflow could not be loaded."}),l.jsx("button",{onClick:()=>e("/events"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Back to Events"})]});const h=()=>{var b,x,N,A,w,j,E,O;return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"mb-6",children:l.jsx(Ese,{})}),l.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-6",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:r.title}),l.jsx("p",{className:"text-gray-600 mb-4",children:r.description}),l.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-600",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(ea,{className:"w-4 h-4"}),l.jsx("span",{children:new Date(r.event_date).toLocaleDateString()})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx($a,{className:"w-4 h-4"}),l.jsxs("span",{children:[r.expected_attendance||"TBD"," expected"]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Da,{className:"w-4 h-4"}),l.jsxs("span",{children:["$",r.estimated_budget||0," budget"]})]})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(zr,{className:"w-5 h-5 text-purple-600"}),l.jsx("span",{className:"text-sm font-medium text-purple-700",children:"Stella Workflow"})]})]})}),l.jsx("div",{className:"mt-8",children:l.jsx(d5,{eventId:r.id})}),a.eventComplexity&&l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Event Complexity Analysis"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[l.jsx("div",{className:`text-2xl font-bold mb-1 ${a.eventComplexity.complexity==="complex"?"text-red-600":a.eventComplexity.complexity==="moderate"?"text-yellow-600":"text-green-600"}`,children:a.eventComplexity.complexity.toUpperCase()}),l.jsx("div",{className:"text-sm text-gray-600",children:"Complexity Level"})]}),l.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[l.jsxs("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:[a.eventComplexity.score,"/10"]}),l.jsx("div",{className:"text-sm text-gray-600",children:"Complexity Score"})]}),l.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[l.jsx(yo,{className:"w-8 h-8 text-purple-600 mx-auto mb-2"}),l.jsxs("div",{className:"text-sm text-gray-600",children:[((b=a.workflowPlan)==null?void 0:b.recommendedTimeline)||"6-8 weeks"," Timeline"]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-4 text-center",children:[l.jsx(Mw,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),l.jsx("div",{className:"text-lg font-semibold text-gray-900",children:((N=(x=a.workflowPlan)==null?void 0:x.keyMilestones)==null?void 0:N.length)||0}),l.jsx("div",{className:"text-sm text-gray-600",children:"Milestones"})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-4 text-center",children:[l.jsx($a,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),l.jsx("div",{className:"text-lg font-semibold text-gray-900",children:((w=(A=a.workflowPlan)==null?void 0:A.volunteerNeeds)==null?void 0:w.totalVolunteers)||0}),l.jsx("div",{className:"text-sm text-gray-600",children:"Volunteers Needed"})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-4 text-center",children:[l.jsx(ui,{className:"w-8 h-8 text-purple-600 mx-auto mb-2"}),l.jsx("div",{className:"text-lg font-semibold text-gray-900",children:Object.keys(((j=a.workflowPlan)==null?void 0:j.communicationPlan)||{}).length}),l.jsx("div",{className:"text-sm text-gray-600",children:"Communication Phases"})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-4 text-center",children:[l.jsx(Da,{className:"w-8 h-8 text-yellow-600 mx-auto mb-2"}),l.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["$",((O=(E=a.workflowPlan)==null?void 0:E.budgetRecommendations)==null?void 0:O.suggestedBudget)||r.estimated_budget||0]}),l.jsx("div",{className:"text-sm text-gray-600",children:"Recommended Budget"})]})]})]})},p=()=>{var b;return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Project Timeline"}),l.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[l.jsx(Mf,{className:"w-4 h-4"}),l.jsx("span",{children:"Add Milestone"})]})]}),(b=a.workflowPlan)!=null&&b.keyMilestones?l.jsx("div",{className:"space-y-4",children:a.workflowPlan.keyMilestones.map((x,N)=>l.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex items-start space-x-4",children:[l.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-bold ${N===0?"bg-green-600":"bg-blue-600"}`,children:x.week}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:x.milestone}),l.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:["Week ",x.week," milestone"]}),x.tasks&&l.jsx("ul",{className:"space-y-1",children:x.tasks.map((A,w)=>l.jsxs("li",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[l.jsx(In,{className:"w-4 h-4 text-green-500"}),l.jsx("span",{children:A})]},w))})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600",children:l.jsx(Xn,{className:"w-4 h-4"})}),l.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600",children:l.jsx(du,{className:"w-4 h-4"})})]})]})},N))}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx(yo,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500",children:"No timeline generated yet"})]})]})},g=()=>{var b;return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Budget Planning"}),l.jsxs("button",{onClick:()=>e("/budget/create"),className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[l.jsx(Mf,{className:"w-4 h-4"}),l.jsx("span",{children:"Create Budget"})]})]}),(b=a.workflowPlan)!=null&&b.budgetRecommendations?l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[l.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Recommended Budget"}),l.jsxs("div",{className:"text-3xl font-bold text-green-600 mb-2",children:["$",a.workflowPlan.budgetRecommendations.suggestedBudget]}),l.jsx("p",{className:"text-sm text-gray-600",children:"Total recommended amount"})]}),a.workflowPlan.budgetRecommendations.breakdown&&l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[l.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Budget Breakdown"}),l.jsx("div",{className:"space-y-3",children:Object.entries(a.workflowPlan.budgetRecommendations.breakdown).map(([x,N])=>l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"capitalize text-gray-700",children:x}),l.jsxs("span",{className:"font-medium text-gray-900",children:["$",N]})]},x))})]})]}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx(Da,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500",children:"No budget recommendations generated yet"})]})]})},m=()=>{var b;return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Communication Campaign"}),l.jsxs("button",{onClick:()=>e("/communications/compose"),className:"flex items-center space-x-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:[l.jsx(ui,{className:"w-4 h-4"}),l.jsx("span",{children:"Create Campaign"})]})]}),(b=a.workflowPlan)!=null&&b.communicationPlan?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.entries(a.workflowPlan.communicationPlan).map(([x,N])=>l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[l.jsx(ui,{className:"w-5 h-5 text-purple-600"}),l.jsx("h4",{className:"font-semibold text-gray-900 capitalize",children:x.replace(/([A-Z])/g," $1")})]}),l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:N}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-md text-sm hover:bg-purple-200",children:"Create Email"}),l.jsx("button",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-md text-sm hover:bg-blue-200",children:"Schedule SMS"})]})]},x))}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx(ui,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500",children:"No communication plan generated yet"})]})]})},y=[{id:"overview",label:"Overview",icon:_v},{id:"timeline",label:"Timeline",icon:yo},{id:"budget",label:"Budget",icon:Da},{id:"communications",label:"Communications",icon:ui}];return l.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-8",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Event Workflow"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Comprehensive event management powered by Stella AI"})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("button",{onClick:()=>e(`/events/${t}`),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"View Event"}),l.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center space-x-2",children:[l.jsx(HC,{className:"w-4 h-4"}),l.jsx("span",{children:"Export Workflow"})]})]})]}),l.jsx("div",{className:"border-b border-gray-200 mb-8",children:l.jsx("nav",{className:"-mb-px flex space-x-8",children:y.map(b=>{const x=b.icon;return l.jsxs("button",{onClick:()=>u(b.id),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ${c===b.id?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[l.jsx(x,{className:"w-4 h-4"}),l.jsx("span",{children:b.label})]},b.id)})})}),l.jsxs("div",{children:[c==="overview"&&l.jsx(h,{}),c==="timeline"&&l.jsx(p,{}),c==="budget"&&l.jsx(g,{}),c==="communications"&&l.jsx(m,{})]})]})};function Tse(){const[t,e]=R.useState({title:"",description:"",event_date:"",start_time:"",end_time:"",location:"",school_level:"elementary",category:"",visibility:"public",estimated_budget:"",share_public:!1}),[r,n]=R.useState(""),a=xr(),{id:i}=To();R.useEffect(()=>{async function c(){const{data:u,error:d}=await Ge.from("events").select("*").eq("id",i).single();d?(n("Failed to load event."),console.error(d)):u&&e({title:u.title||"",description:u.description||"",event_date:u.event_date||"",start_time:u.start_time||"",end_time:u.end_time||"",location:u.location||"",school_level:u.school_level||"elementary",category:u.category||"",visibility:u.visibility||"public",estimated_budget:u.estimated_budget||"",share_public:!!u.share_public})}c()},[i]);const s=c=>{const{name:u,value:d,type:f,checked:h}=c.target;e(p=>({...p,[u]:f==="checkbox"?h:d}))},o=async c=>{c.preventDefault(),n("");const{error:u}=await Ge.from("events").update({title:t.title,description:t.description,event_date:t.event_date,start_time:t.start_time,end_time:t.end_time,location:t.location,school_level:t.school_level,category:t.category,visibility:t.visibility,estimated_budget:t.estimated_budget,share_public:t.share_public}).eq("id",i);u?(n("Update failed."),console.error(u)):a("/events")};return!t.title&&!t.event_date?l.jsx("p",{className:"p-4",children:"Loading event..."}):l.jsxs("div",{className:"max-w-2xl mx-auto p-6 space-y-6",children:[l.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Edit Event"}),r&&l.jsx("p",{className:"text-red-500 mb-2",children:r}),l.jsxs("form",{onSubmit:o,className:"space-y-4",children:[l.jsx("input",{name:"title",value:t.title,onChange:s,placeholder:"Event Title",className:"w-full border p-2",required:!0}),l.jsx("textarea",{name:"description",value:t.description,onChange:s,placeholder:"Description",className:"w-full border p-2"}),l.jsx("input",{type:"date",name:"event_date",value:t.event_date,onChange:s,className:"w-full border p-2",required:!0}),l.jsx("input",{type:"time",name:"start_time",value:t.start_time,onChange:s,className:"w-full border p-2"}),l.jsx("input",{type:"time",name:"end_time",value:t.end_time,onChange:s,className:"w-full border p-2"}),l.jsx("input",{name:"location",value:t.location,onChange:s,placeholder:"Location",className:"w-full border p-2"}),l.jsxs("select",{name:"school_level",value:t.school_level,onChange:s,className:"w-full border p-2",children:[l.jsx("option",{value:"elementary",children:"Elementary"}),l.jsx("option",{value:"upper_elementary",children:"Upper Elementary"}),l.jsx("option",{value:"middle",children:"Middle"}),l.jsx("option",{value:"junior_high",children:"Junior High"}),l.jsx("option",{value:"high",children:"High School"})]}),l.jsx("input",{name:"category",value:t.category,onChange:s,placeholder:"Category",className:"w-full border p-2"}),l.jsxs("select",{name:"visibility",value:t.visibility,onChange:s,className:"w-full border p-2",children:[l.jsx("option",{value:"public",children:"Public"}),l.jsx("option",{value:"private",children:"Private"})]}),l.jsx("input",{name:"estimated_budget",value:t.estimated_budget,onChange:s,placeholder:"Estimated Budget",className:"w-full border p-2"}),l.jsxs("label",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",name:"share_public",checked:t.share_public,onChange:s}),l.jsx("span",{children:"Share Publicly"})]}),l.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700",children:"Save Changes"})]})]})}const kse={"en-US":E2},Pse=Qk({format:Jv,startOfWeek:Fl,getDay:nP,locales:kse});function Dse(){const[t,e]=R.useState([]);return R.useEffect(()=>{async function r(){var c,u;const{data:{user:n},error:a}=await Ge.auth.getUser();if(a||!n){console.error("User error:",a);return}const i=((c=n==null?void 0:n.user_metadata)==null?void 0:c.org_id)||((u=n==null?void 0:n.app_metadata)==null?void 0:u.org_id);if(!i){console.error("Missing org_id in user metadata.");return}const{data:s,error:o}=await Ge.from("events").select("*").eq("org_id",i);if(o)console.error("Error loading events:",o);else{const d=s.map(f=>({id:f.id,title:f.title,start:new Date(f.event_date),end:new Date(f.event_date)}));e(d)}}r()},[]),l.jsxs("div",{className:"p-6 max-w-5xl mx-auto",children:[l.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Event Calendar"}),l.jsx(Zk,{localizer:Pse,events:t,startAccessor:"start",endAccessor:"end",style:{height:600}})]})}const nf=[{key:"overview",label:"Overview"},{key:"budget",label:"Budget"},{key:"communications",label:"Communications"},{key:"fundraising",label:"Fundraising"},{key:"volunteers",label:"Volunteers"},{key:"project-management",label:"Event Management"},{key:"files",label:"Files/Docs"}],YA=["Review your volunteer assignments to ensure all roles are filled.","Schedule a reminder email 3 days before the event for maximum turnout.","Check your budget for unallocated funds that could enhance the event experience."],KA="bg-white bg-opacity-80 rounded-2xl shadow-lg border border-purple-100",Mse=()=>{const{id:t}=To(),e=xr(),r={overview:R.useRef(null),budget:R.useRef(null),communications:R.useRef(null),fundraising:R.useRef(null),volunteers:R.useRef(null),"project-management":R.useRef(null),files:R.useRef(null)},[n,a]=R.useState("overview"),[i,s]=R.useState(!1),[o,c]=R.useState(null),[u,d]=R.useState(!0),[f,h]=R.useState(null),[p,g]=R.useState([]),[m,y]=R.useState(!0),[b,x]=R.useState(null),[N,A]=R.useState([]),[w,j]=R.useState(!0),[E,O]=R.useState(null),[k,L]=R.useState([]),[C,P]=R.useState(!0),[I,M]=R.useState(null),[H,V]=R.useState(!1),[F,X]=R.useState(!1),[Y,Q]=R.useState(null),[se,$]=R.useState(!1);R.useEffect(()=>{async function J(){d(!0),h(null);try{const{data:ve,error:xe}=await Ge.from("events").select("*").eq("id",t).single();xe?h("Event not found."):c(ve)}catch{h("Error loading event.")}finally{d(!1)}}t&&J()},[t]),R.useEffect(()=>{async function J(){if(t){y(!0),x(null);try{const{data:ve,error:xe}=await Ge.from("expense_submissions").select("*").eq("event_id",t).order("expense_date",{ascending:!1});xe?x("Could not load expenses."):g(ve||[])}catch{x("Error loading expenses.")}finally{y(!1)}}}J()},[t]),R.useEffect(()=>{async function J(){if(t){j(!0),O(null);try{const[ve,xe,pe]=await Promise.all([Ge.from("email_campaigns").select("*").eq("org_id",o==null?void 0:o.org_id).order("created_at",{ascending:!1}),Ge.from("sms_campaigns").select("*").eq("org_id",o==null?void 0:o.org_id).order("created_at",{ascending:!1}),Ge.from("social_posts").select("*").eq("org_id",o==null?void 0:o.org_id).order("created_at",{ascending:!1})]);if(ve.error||xe.error||pe.error)O("Could not load communications.");else{const Te=[...(ve.data||[]).map(Me=>({...Me,type:"email",campaign_name:Me.subject})),...(xe.data||[]).map(Me=>({...Me,type:"sms",campaign_name:Me.name})),...(pe.data||[]).map(Me=>{var we;return{...Me,type:"social",campaign_name:((we=Me.content)==null?void 0:we.substring(0,50))+"..."}})];A(Te)}}catch{O("Error loading communications.")}finally{j(!1)}}}J()},[t,o==null?void 0:o.org_id]),R.useEffect(()=>{async function J(){if(t){P(!0),M(null);try{const{data:ve,error:xe}=await Ge.from("fundraising_campaigns").select("*").eq("org_id",o==null?void 0:o.org_id).order("created_at",{ascending:!1});xe?M("Could not load fundraising campaigns."):L(ve||[])}catch{M("Error loading fundraising campaigns.")}finally{P(!1)}}}J()},[t,o==null?void 0:o.org_id]);const W=J=>{var ve;(ve=r[J].current)==null||ve.scrollIntoView({behavior:"smooth",block:"start"})};R.useEffect(()=>{const J=()=>{let xe=nf[0].key;for(let pe=0;pe<nf.length;pe++){const Te=r[nf[pe].key].current;Te&&Te.getBoundingClientRect().top-100<=0&&(xe=nf[pe].key)}a(xe),s(window.scrollY>300)};return window.addEventListener("scroll",J),()=>window.removeEventListener("scroll",J)},[]);const ee=()=>{window.scrollTo({top:0,behavior:"smooth"})};R.useEffect(()=>{o&&localStorage.setItem(`event-detail-${o.id}`,JSON.stringify(o))},[o]),R.useEffect(()=>{const J=localStorage.getItem(`event-detail-${t}`);!o&&J&&(c(JSON.parse(J)),d(!1))},[t]);const ae=()=>{X(!0),Q(o)},oe=(J,ve)=>{Q(xe=>({...xe,[J]:ve}))},me=async()=>{$(!0);try{const{data:J,error:ve}=await Ge.from("events").update(Y).eq("id",o.id).single();ve?alert("Failed to save changes."):(c(J),X(!1))}catch{alert("Error saving changes.")}finally{$(!1)}},fe=()=>{Q(o),X(!1)};return l.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8 flex flex-col lg:flex-row gap-8",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"sticky top-0 z-10 bg-white bg-opacity-90 pt-2 pb-1 mb-6 border-b flex justify-evenly",style:{backdropFilter:"blur(4px)"},children:nf.map(J=>l.jsx("button",{onClick:()=>W(J.key),className:`flex-1 text-center whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors ${n===J.key?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:J.label},J.key))}),l.jsxs("section",{ref:r.overview,id:"overview",className:"mb-12 scroll-mt-24",children:[l.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Event Overview"}),u?l.jsx("div",{className:"bg-white rounded-xl shadow p-6 text-gray-500",children:"Loading event..."}):f?l.jsx("div",{className:"bg-white rounded-xl shadow p-6 text-red-500",children:f}):o?l.jsxs("div",{className:"bg-white rounded-xl shadow p-6 mb-4 flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"mb-2 flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[F?l.jsx("input",{className:"text-xl font-semibold text-gray-900 border-b border-blue-200 focus:outline-none focus:border-blue-500 bg-white px-2 py-1",value:Y.title,onChange:J=>oe("title",J.target.value)}):l.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:o.title}),l.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-700 capitalize",children:o.status})]}),H&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"mb-2",children:F?l.jsx("textarea",{className:"w-full text-gray-600 border border-gray-300 rounded-md p-2 resize-none bg-white",rows:2,value:Y.description,onChange:J=>oe("description",J.target.value),placeholder:"Event Description"}):l.jsx("div",{className:"text-gray-600 mb-2",children:o.description})}),l.jsxs("div",{className:"flex flex-wrap gap-6 text-sm text-gray-500 mb-2",children:[l.jsxs("div",{children:[l.jsx("strong",{children:"Date:"})," ",F?l.jsx("input",{type:"date",className:"border-b border-blue-200 focus:outline-none focus:border-blue-500 bg-white px-2 py-1",value:Y.event_date||"",onChange:J=>oe("event_date",J.target.value)}):o.event_date?new Date(o.event_date).toLocaleDateString():"N/A"]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Time:"})," ",F?l.jsx("input",{type:"time",className:"border-b border-blue-200 focus:outline-none focus:border-blue-500 bg-white px-2 py-1",value:Y.start_time||"",onChange:J=>oe("start_time",J.target.value)}):o.start_time||"N/A"]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Location:"})," ",F?l.jsx("input",{className:"border-b border-blue-200 focus:outline-none focus:border-blue-500 bg-white px-2 py-1",value:Y.location||"",onChange:J=>oe("location",J.target.value),placeholder:"Event Location"}):o.location||"N/A"]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Type:"})," ",F?l.jsxs("select",{className:"border-b border-blue-200 focus:outline-none focus:border-blue-500 bg-white px-2 py-1",value:Y.type||"",onChange:J=>oe("type",J.target.value),children:[l.jsx("option",{value:"",children:"Select Type"}),l.jsx("option",{value:"fundraiser",children:"Fundraiser"}),l.jsx("option",{value:"meeting",children:"Meeting"}),l.jsx("option",{value:"social",children:"Social"}),l.jsx("option",{value:"other",children:"Other"})]}):o.type||"N/A"]})]}),l.jsx("div",{className:"flex gap-2 mt-2",children:F?l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:me,className:"px-4 py-2 rounded-lg bg-green-600 text-white font-semibold shadow hover:bg-green-700 transition",disabled:se,children:se?"Saving...":"Save"}),l.jsx("button",{onClick:fe,className:"px-4 py-2 rounded-lg bg-gray-200 text-gray-700 font-semibold shadow hover:bg-gray-300 transition",disabled:se,children:"Cancel"})]}):l.jsxs("button",{onClick:ae,className:"px-3 py-2 rounded-lg bg-blue-100 text-blue-700 font-semibold shadow hover:bg-blue-200 transition flex items-center gap-1",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536M9 13h3l8-8a2.828 2.828 0 00-4-4l-8 8v3z"})}),"Edit"]})})]})]}),l.jsx("div",{className:"flex flex-col items-end",children:l.jsx("button",{onClick:()=>V(J=>!J),className:"px-2 py-1 text-xs text-blue-600 hover:underline",children:H?"Collapse Details":"Expand Details"})})]}):null,l.jsx("div",{className:"block lg:hidden mb-6",children:l.jsxs("div",{className:`${KA} p-6 min-h-[180px]`,children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("span",{className:"text-purple-600 text-xl",children:"âœ¨"}),l.jsx("span",{className:"font-bold text-lg text-purple-700",children:"Stella's Event Insights"})]}),l.jsx("ul",{className:"list-disc pl-5 text-purple-900 space-y-2",children:YA.map((J,ve)=>l.jsx("li",{children:J},ve))}),l.jsx("div",{className:"mt-4 text-xs text-purple-400",children:"Tips powered by Stella AI"})]})})]}),l.jsxs("section",{className:"mb-12 scroll-mt-24",children:[l.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Tasks"}),l.jsx("div",{className:"bg-white rounded-xl shadow p-6",children:l.jsx(d5,{eventId:o==null?void 0:o.id})})]}),l.jsxs("section",{ref:r.budget,id:"budget",className:"mb-12 scroll-mt-24",children:[l.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Budget"}),m?l.jsx("div",{className:"bg-white rounded-xl shadow p-6 text-gray-500",children:"Loading expenses..."}):b?l.jsx("div",{className:"bg-white rounded-xl shadow p-6 text-red-500",children:b}):l.jsxs("div",{className:"bg-white rounded-xl shadow p-6",children:[l.jsxs("div",{className:"mb-4 flex flex-wrap gap-8 items-center",children:[l.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["Total Spent: ",l.jsxs("span",{className:"text-blue-700",children:["$",p.reduce((J,ve)=>J+(parseFloat(ve.amount)||0),0).toFixed(2)]})]}),l.jsxs("div",{className:"text-gray-600",children:[p.length," expense",p.length!==1?"s":""]})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full text-sm border",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-gray-50",children:[l.jsx("th",{className:"px-3 py-2 border-b text-left",children:"Date"}),l.jsx("th",{className:"px-3 py-2 border-b text-left",children:"Category"}),l.jsx("th",{className:"px-3 py-2 border-b text-left",children:"Vendor"}),l.jsx("th",{className:"px-3 py-2 border-b text-right",children:"Amount"}),l.jsx("th",{className:"px-3 py-2 border-b text-left",children:"Status"}),l.jsx("th",{className:"px-3 py-2 border-b text-left",children:"Description"})]})}),l.jsx("tbody",{children:p.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"text-center py-4 text-gray-400",children:"No expenses submitted for this event."})}):p.map(J=>l.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[l.jsx("td",{className:"px-3 py-2",children:J.expense_date?new Date(J.expense_date).toLocaleDateString():""}),l.jsx("td",{className:"px-3 py-2",children:J.category_id||"-"}),l.jsx("td",{className:"px-3 py-2",children:J.vendor_name||"-"}),l.jsxs("td",{className:"px-3 py-2 text-right",children:["$",parseFloat(J.amount).toFixed(2)]}),l.jsx("td",{className:"px-3 py-2 capitalize",children:J.status}),l.jsx("td",{className:"px-3 py-2",children:J.description||"-"})]},J.id))})]})})]})]}),l.jsxs("section",{ref:r.communications,id:"communications",className:"mb-12 scroll-mt-24",children:[l.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Communications"}),w?l.jsx("div",{className:"bg-white rounded-xl shadow p-6 text-gray-500",children:"Loading communications..."}):E?l.jsx("div",{className:"bg-white rounded-xl shadow p-6 text-red-500",children:E}):l.jsxs("div",{className:"bg-white rounded-xl shadow p-6",children:[l.jsxs("div",{className:"mb-4 flex flex-wrap gap-8 items-center",children:[l.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["Total Campaigns: ",l.jsx("span",{className:"text-blue-700",children:N.length})]}),l.jsxs("div",{className:"text-gray-600",children:[N.filter(J=>J.type==="email").length," Email, "," ",N.filter(J=>J.type==="sms").length," SMS, "," ",N.filter(J=>J.type==="social").length," Social"]})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full text-sm border",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-gray-50",children:[l.jsx("th",{className:"px-3 py-2 border-b text-left",children:"Type"}),l.jsx("th",{className:"px-3 py-2 border-b text-left",children:"Campaign"}),l.jsx("th",{className:"px-3 py-2 border-b text-left",children:"Status"}),l.jsx("th",{className:"px-3 py-2 border-b text-left",children:"Date"}),l.jsx("th",{className:"px-3 py-2 border-b text-right",children:"Recipients"})]})}),l.jsx("tbody",{children:N.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:5,className:"text-center py-4 text-gray-400",children:"No communications sent for this event."})}):N.map(J=>l.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[l.jsx("td",{className:"px-3 py-2",children:l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${J.type==="email"?"bg-blue-100 text-blue-800":J.type==="sms"?"bg-green-100 text-green-800":"bg-purple-100 text-purple-800"}`,children:J.type.toUpperCase()})}),l.jsx("td",{className:"px-3 py-2",children:J.campaign_name||"-"}),l.jsx("td",{className:"px-3 py-2 capitalize",children:J.status}),l.jsx("td",{className:"px-3 py-2",children:J.sent_at?new Date(J.sent_at).toLocaleDateString():J.scheduled_for?new Date(J.scheduled_for).toLocaleDateString():new Date(J.created_at).toLocaleDateString()}),l.jsx("td",{className:"px-3 py-2 text-right",children:J.recipient_count||J.sent_count||"-"})]},J.id))})]})})]})]}),l.jsxs("section",{ref:r.fundraising,id:"fundraising",className:"mb-12 scroll-mt-24",children:[l.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Fundraising"}),C?l.jsx("div",{className:"bg-white rounded-xl shadow p-6 text-gray-500",children:"Loading fundraising campaigns..."}):I?l.jsx("div",{className:"bg-white rounded-xl shadow p-6 text-red-500",children:I}):l.jsxs("div",{className:"bg-white rounded-xl shadow p-6",children:[l.jsxs("div",{className:"mb-4 flex flex-wrap gap-8 items-center",children:[l.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["Total Raised: ",l.jsxs("span",{className:"text-green-700",children:["$",k.reduce((J,ve)=>J+(parseFloat(ve.raised_amount)||0),0).toFixed(2)]})]}),l.jsxs("div",{className:"text-gray-600",children:[k.length," campaign",k.length!==1?"s":""]})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full text-sm border",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-gray-50",children:[l.jsx("th",{className:"px-3 py-2 border-b text-left",children:"Campaign"}),l.jsx("th",{className:"px-3 py-2 border-b text-left",children:"Type"}),l.jsx("th",{className:"px-3 py-2 border-b text-right",children:"Goal"}),l.jsx("th",{className:"px-3 py-2 border-b text-right",children:"Raised"}),l.jsx("th",{className:"px-3 py-2 border-b text-center",children:"Progress"}),l.jsx("th",{className:"px-3 py-2 border-b text-left",children:"Status"}),l.jsx("th",{className:"px-3 py-2 border-b text-left",children:"Dates"})]})}),l.jsx("tbody",{children:k.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:7,className:"text-center py-4 text-gray-400",children:"No fundraising campaigns for this event."})}):k.map(J=>{const ve=J.goal_amount>0?J.raised_amount/J.goal_amount*100:0;return l.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[l.jsx("td",{className:"px-3 py-2 font-medium",children:J.name}),l.jsx("td",{className:"px-3 py-2 capitalize",children:J.campaign_type||"-"}),l.jsxs("td",{className:"px-3 py-2 text-right",children:["$",parseFloat(J.goal_amount).toFixed(2)]}),l.jsxs("td",{className:"px-3 py-2 text-right",children:["$",parseFloat(J.raised_amount).toFixed(2)]}),l.jsx("td",{className:"px-3 py-2",children:l.jsxs("div",{className:"flex items-center justify-center",children:[l.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2 mr-2",children:l.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${Math.min(ve,100)}%`}})}),l.jsxs("span",{className:"text-xs text-gray-600",children:[ve.toFixed(0),"%"]})]})}),l.jsx("td",{className:"px-3 py-2",children:l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${J.status==="active"?"bg-green-100 text-green-800":J.status==="completed"?"bg-blue-100 text-blue-800":J.status==="planning"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:J.status})}),l.jsxs("td",{className:"px-3 py-2 text-xs",children:[J.start_date?new Date(J.start_date).toLocaleDateString():""," - "," ",J.end_date?new Date(J.end_date).toLocaleDateString():""]})]},J.id)})})]})})]})]}),l.jsxs("section",{ref:r.volunteers,id:"volunteers",className:"mb-12 scroll-mt-24",children:[l.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Volunteers"}),l.jsx("div",{className:"bg-white rounded-xl shadow p-6 text-gray-500",children:"Volunteer assignments and signups coming soon."})]}),l.jsxs("section",{ref:r["project-management"],id:"project-management",className:"mb-12 scroll-mt-24",children:[l.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Event Management"}),l.jsx("div",{className:"bg-white rounded-xl shadow p-6",children:l.jsx("div",{className:"mb-4",children:l.jsx("button",{onClick:()=>e(`/events/${t}/event-management`),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Open Event Management"})})})]}),l.jsxs("section",{ref:r.files,id:"files",className:"mb-12 scroll-mt-24",children:[l.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Files & Documents"}),l.jsx("div",{className:"bg-white rounded-xl shadow p-6 text-gray-500",children:"Linked files, images, and forms coming soon."})]})]}),l.jsx("aside",{className:"hidden lg:block w-80 flex-shrink-0",children:l.jsxs("div",{className:`${KA} p-6 min-h-[220px] sticky top-24`,children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("span",{className:"text-purple-600 text-xl",children:"âœ¨"}),l.jsx("span",{className:"font-bold text-lg text-purple-700",children:"Stella's Event Insights"})]}),l.jsx("ul",{className:"list-disc pl-5 text-purple-900 space-y-2",children:YA.map((J,ve)=>l.jsx("li",{children:J},ve))}),l.jsx("div",{className:"mt-4 text-xs text-purple-400",children:"Tips powered by Stella AI"})]})}),i&&l.jsx("button",{onClick:ee,className:"fixed bottom-8 right-8 z-50 bg-purple-500 text-white rounded-full shadow-lg p-3 hover:bg-purple-600 transition","aria-label":"Back to top",children:l.jsx(sx,{className:"w-6 h-6"})})]})},Rse=({eventId:t,onIssueUpdated:e})=>{const[r,n]=R.useState([]),[a,i]=R.useState(!0),[s,o]=R.useState(null),[c,u]=R.useState({status:"all",priority:"all",type:"all"}),[d,f]=R.useState(""),[h,p]=R.useState(!1),[g,m]=R.useState(null);R.useEffect(()=>{y()},[t]);const y=async()=>{try{i(!0),o(null);const k=await hn.getEventIssues(t);n(Array.isArray(k.data)?k.data:[])}catch(k){o("Failed to load issues"),n([]),console.error("Error loading issues:",k)}finally{i(!1)}},b=k=>{m(k)},x=async k=>{if(confirm("Are you sure you want to delete this issue?"))try{await hn.deleteIssue(t,k),y(),e&&e()}catch(L){console.error("Error deleting issue:",L)}},N=k=>{switch(k){case"critical":return"bg-red-100 text-red-800";case"high":return"bg-orange-100 text-orange-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},A=k=>{switch(k){case"resolved":return"bg-green-100 text-green-800";case"in_progress":return"bg-blue-100 text-blue-800";case"open":return"bg-gray-100 text-gray-800";case"blocked":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},w=k=>{switch(k){case"blocker":return"ðŸš«";case"bug":return"ðŸ›";case"feature_request":return"ðŸ’¡";case"improvement":return"âš¡";case"question":return"â“";default:return"âš ï¸"}},j=Array.isArray(r)?r:[],O=[...j.filter(k=>{var M;const L=k.title.toLowerCase().includes(d.toLowerCase())||((M=k.description)==null?void 0:M.toLowerCase().includes(d.toLowerCase())),C=c.status==="all"||k.status===c.status,P=c.priority==="all"||k.priority===c.priority,I=c.type==="all"||k.type===c.type;return L&&C&&P&&I})].sort((k,L)=>{const C={critical:4,high:3,medium:2,low:1},P=C[L.priority]-C[k.priority];return P!==0?P:new Date(L.created_at)-new Date(k.created_at)});return a?l.jsx("div",{className:"flex items-center justify-center py-8",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):s?l.jsxs(kt,{className:"p-6 text-center",children:[l.jsx("p",{className:"text-red-600",children:s}),l.jsx(ft,{onClick:y,variant:"outline",className:"mt-4",children:"Retry"})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("h2",{className:"text-2xl font-bold",children:["Issues (",j.length,")"]}),l.jsxs(ft,{onClick:()=>p(!0),className:"bg-blue-600 hover:bg-blue-700",children:[l.jsx(Mf,{className:"h-4 w-4 mr-2"}),"Report Issue"]})]}),l.jsx(kt,{className:"p-4",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[l.jsx("div",{className:"md:col-span-2",children:l.jsxs("div",{className:"relative",children:[l.jsx(Dw,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),l.jsx(cr,{placeholder:"Search issues...",value:d,onChange:k=>f(k.target.value),className:"pl-10"})]})}),l.jsx(Or,{value:c.status,onChange:k=>u({...c,status:k.target.value}),options:[{value:"all",label:"All Status"},{value:"open",label:"Open"},{value:"in_progress",label:"In Progress"},{value:"resolved",label:"Resolved"},{value:"blocked",label:"Blocked"}]}),l.jsx(Or,{value:c.priority,onChange:k=>u({...c,priority:k.target.value}),options:[{value:"all",label:"All Priorities"},{value:"critical",label:"Critical"},{value:"high",label:"High"},{value:"medium",label:"Medium"},{value:"low",label:"Low"}]}),l.jsx(Or,{value:c.type,onChange:k=>u({...c,type:k.target.value}),options:[{value:"all",label:"All Types"},{value:"blocker",label:"Blocker"},{value:"bug",label:"Bug"},{value:"feature_request",label:"Feature Request"},{value:"improvement",label:"Improvement"},{value:"question",label:"Question"}]})]})}),l.jsx("div",{className:"space-y-3",children:O.length===0?l.jsxs(kt,{className:"p-8 text-center",children:[l.jsx(Rf,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"No issues found matching your criteria."}),l.jsx(ft,{onClick:()=>p(!0),variant:"outline",children:"Report First Issue"})]}):O.map(k=>l.jsx(kt,{className:"p-4 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>b(k),children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[l.jsx("span",{className:"text-lg",children:w(k.type)}),l.jsx("h3",{className:"font-semibold text-lg",children:k.title}),l.jsx(Ra,{className:N(k.priority),children:k.priority}),l.jsx(Ra,{className:A(k.status),children:k.status.replace("_"," ")})]}),k.description&&l.jsx("p",{className:"text-gray-600 mb-3 line-clamp-2",children:k.description}),l.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-500",children:[k.reported_by&&l.jsxs("div",{className:"flex items-center",children:[l.jsx(Wh,{className:"h-4 w-4 mr-1"}),k.reported_by]}),k.created_at&&l.jsxs("div",{className:"flex items-center",children:[l.jsx(yo,{className:"h-4 w-4 mr-1"}),new Date(k.created_at).toLocaleDateString()]}),k.resolved_at&&l.jsxs("div",{className:"flex items-center",children:[l.jsx(In,{className:"h-4 w-4 mr-1"}),"Resolved ",new Date(k.resolved_at).toLocaleDateString()]}),k.comments_count>0&&l.jsxs("div",{className:"flex items-center",children:[l.jsx(ui,{className:"h-4 w-4 mr-1"}),k.comments_count," comments"]})]})]}),l.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[l.jsx(ft,{size:"sm",variant:"ghost",onClick:L=>{L.stopPropagation(),b(k)},children:l.jsx(Xn,{className:"h-4 w-4"})}),l.jsx(ft,{size:"sm",variant:"ghost",onClick:L=>{L.stopPropagation(),x(k.id)},children:l.jsx(Av,{className:"h-4 w-4"})})]})]})},k.id))}),g&&l.jsx(nh,{open:!0,onOpenChange:()=>m(null),children:l.jsxs(ah,{className:"max-w-2xl",children:[l.jsx(ih,{children:l.jsxs(sh,{className:"flex items-center space-x-3",children:[l.jsx("span",{className:"text-lg",children:w(g.type)}),l.jsx("span",{children:"Issue Details"})]})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-lg",children:g.title}),l.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[l.jsx(Ra,{className:N(g.priority),children:g.priority}),l.jsx(Ra,{className:A(g.status),children:g.status.replace("_"," ")})]})]}),g.description&&l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium mb-2",children:"Description"}),l.jsx("p",{className:"text-gray-600",children:g.description})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.reported_by&&l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium mb-1",children:"Reported By"}),l.jsx("p",{className:"text-gray-600",children:g.reported_by})]}),g.assigned_to&&l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium mb-1",children:"Assigned To"}),l.jsx("p",{className:"text-gray-600",children:g.assigned_to})]}),g.created_at&&l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium mb-1",children:"Created"}),l.jsx("p",{className:"text-gray-600",children:new Date(g.created_at).toLocaleDateString()})]}),g.resolved_at&&l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium mb-1",children:"Resolved"}),l.jsx("p",{className:"text-gray-600",children:new Date(g.resolved_at).toLocaleDateString()})]})]}),g.resolution_notes&&l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium mb-2",children:"Resolution Notes"}),l.jsx("p",{className:"text-gray-600",children:g.resolution_notes})]})]})]})}),h&&l.jsx(nh,{open:!0,onOpenChange:()=>p(!1),children:l.jsxs(ah,{className:"max-w-2xl",children:[l.jsx(ih,{children:l.jsx(sh,{children:"Report New Issue"})}),l.jsxs("div",{className:"text-center py-8",children:[l.jsx(Rf,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"Issue reporting feature coming soon"})]})]})})]})},Lse=({eventId:t,onSponsorshipUpdated:e})=>{const[r,n]=R.useState([]),[a,i]=R.useState(!0),[s,o]=R.useState(null);R.useEffect(()=>{c()},[t]);const c=async()=>{try{i(!0),o(null);const h=await hn.getEventSponsorships(t);n(Array.isArray(h.data)?h.data:[])}catch(h){o("Failed to load sponsorships"),n([]),console.error("Error loading sponsorships:",h)}finally{i(!1)}},u=h=>{switch(h){case"confirmed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"declined":return"bg-red-100 text-red-800";case"negotiating":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},d=h=>{switch(h){case"platinum":return"bg-purple-100 text-purple-800";case"gold":return"bg-yellow-100 text-yellow-800";case"silver":return"bg-gray-100 text-gray-800";case"bronze":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}};if(a)return l.jsx("div",{className:"flex items-center justify-center py-8",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});if(s)return l.jsxs(kt,{className:"p-6 text-center",children:[l.jsx("p",{className:"text-red-600",children:s}),l.jsx(ft,{onClick:c,variant:"outline",className:"mt-4",children:"Retry"})]});const f=Array.isArray(r)?r:[];return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("h2",{className:"text-2xl font-bold",children:["Sponsorships (",f.length,")"]}),l.jsxs(ft,{className:"bg-blue-600 hover:bg-blue-700",children:[l.jsx(Mf,{className:"h-4 w-4 mr-2"}),"Add Sponsorship"]})]}),l.jsxs(kt,{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Sponsorship Summary"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"text-center",children:[l.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["$",f.reduce((h,p)=>h+(p.amount||0),0).toLocaleString()]}),l.jsx("p",{className:"text-sm text-gray-600",children:"Total Raised"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-blue-600",children:f.filter(h=>h.status==="confirmed").length}),l.jsx("p",{className:"text-sm text-gray-600",children:"Confirmed"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:f.filter(h=>h.status==="pending").length}),l.jsx("p",{className:"text-sm text-gray-600",children:"Pending"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-gray-600",children:f.length}),l.jsx("p",{className:"text-sm text-gray-600",children:"Total Sponsors"})]})]})]}),l.jsx("div",{className:"space-y-3",children:f.length===0?l.jsxs(kt,{className:"p-8 text-center",children:[l.jsx($S,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"No sponsorships found for this event."}),l.jsx(ft,{variant:"outline",children:"Add First Sponsorship"})]}):f.map(h=>l.jsx(kt,{className:"p-4 hover:shadow-md transition-shadow",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[l.jsx($S,{className:"h-5 w-5 text-gray-500"}),l.jsx("h3",{className:"font-semibold text-lg",children:h.sponsor_name}),l.jsx(Ra,{className:d(h.tier),children:h.tier}),l.jsx(Ra,{className:u(h.status),children:h.status})]}),h.description&&l.jsx("p",{className:"text-gray-600 mb-3",children:h.description}),l.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-500",children:[h.amount&&l.jsxs("div",{className:"flex items-center",children:[l.jsx(Da,{className:"h-4 w-4 mr-1"}),"$",h.amount.toLocaleString()]}),h.contact_person&&l.jsxs("div",{className:"flex items-center",children:[l.jsx(Wh,{className:"h-4 w-4 mr-1"}),h.contact_person]}),h.contact_email&&l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:"mr-1",children:"ðŸ“§"}),h.contact_email]}),h.contact_phone&&l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:"mr-1",children:"ðŸ“ž"}),h.contact_phone]})]}),h.benefits&&h.benefits.length>0&&l.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[l.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Benefits:"}),l.jsx("div",{className:"space-y-1",children:h.benefits.map((p,g)=>l.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[l.jsx(In,{className:"h-3 w-3 text-green-500"}),l.jsx("span",{children:p})]},g))})]})]}),l.jsx("div",{className:"flex items-center space-x-2 ml-4",children:l.jsx(ft,{size:"sm",variant:"outline",children:"Edit"})})]})},h.id))})]})},Ise=({eventId:t})=>{const[e,r]=R.useState(null),[n,a]=R.useState(!0),[i,s]=R.useState(null),[o,c]=R.useState("week");R.useEffect(()=>{u()},[t,o]);const u=async()=>{try{a(!0);const h=await Wr.get(`/api/events/${t}/task-progress?timeframe=${o}`);r(h.data)}catch(h){s("Failed to load chart data"),console.error("Error loading chart data:",h)}finally{a(!1)}};if(n)return l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});if(i)return l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("p",{className:"text-red-600",children:i})});if(!e||!e.data||e.data.length===0)return l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("p",{className:"text-gray-600",children:"No chart data available"})});const d=Math.max(...e.data.map(h=>h.completed_tasks)),f=200;return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Task Completion Trend"}),l.jsx(Or,{value:o,onChange:h=>c(h.target.value),options:[{value:"week",label:"Last Week"},{value:"month",label:"Last Month"},{value:"quarter",label:"Last Quarter"}]})]}),l.jsxs("div",{className:"relative h-64",children:[l.jsx("div",{className:"flex items-end justify-between h-full space-x-2",children:e.data.map((h,p)=>l.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[l.jsx("div",{className:"w-full bg-blue-500 rounded-t transition-all duration-300 hover:bg-blue-600",style:{height:`${h.completed_tasks/d*f}px`,minHeight:"4px"},title:`${h.date}: ${h.completed_tasks} tasks completed`}),l.jsx("div",{className:"text-xs text-gray-600 mt-2 text-center",children:new Date(h.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]},p))}),l.jsxs("div",{className:"absolute left-0 top-0 h-full flex flex-col justify-between text-xs text-gray-500",children:[l.jsx("span",{children:d}),l.jsx("span",{children:Math.round(d*.75)}),l.jsx("span",{children:Math.round(d*.5)}),l.jsx("span",{children:Math.round(d*.25)}),l.jsx("span",{children:"0"})]})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-4 border-t",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-blue-600",children:e.total_completed||0}),l.jsx("p",{className:"text-sm text-gray-600",children:"Total Completed"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-green-600",children:e.average_daily||0}),l.jsx("p",{className:"text-sm text-gray-600",children:"Avg Daily"})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[e.completion_rate||0,"%"]}),l.jsx("p",{className:"text-sm text-gray-600",children:"Completion Rate"})]})]})]})},$se=()=>{const{eventId:t}=To(),e=xr(),[r,n]=R.useState(()=>localStorage.getItem(`eventManagement_${t}_activeTab`)||"overview"),[a,i]=R.useState(null),[s,o]=R.useState(!0),[c,u]=R.useState(null),[d,f]=R.useState(!1),[h,p]=R.useState(!1),[g,m]=R.useState(null),[y,b]=R.useState(!1);R.useEffect(()=>{t&&!a&&x()},[t]),R.useEffect(()=>{const C=()=>{const P=localStorage.getItem(`eventManagement_${t}_lastLoad`),I=Date.now()-5*60*1e3;(!P||parseInt(P)<I)&&(console.log("ðŸ”„ Reloading stale event data on window focus"),x())};return window.addEventListener("focus",C),()=>window.removeEventListener("focus",C)},[t]),R.useEffect(()=>{localStorage.setItem(`eventManagement_${t}_activeTab`,r)},[r,t]);const x=async()=>{try{o(!0);const[C]=await Promise.all([hn.getEvent(t)]);i(C.data),m(C.data),localStorage.setItem(`eventManagement_${t}_lastLoad`,Date.now().toString())}catch(C){u("Failed to load event data"),console.error("Error loading event data:",C)}finally{o(!1)}},N=()=>{m({...a}),p(!0)},A=()=>{m({...a}),p(!1)},w=async()=>{try{b(!0),await hn.updateEvent(t,g),i(g),p(!1),x()}catch(C){console.error("Error saving event:",C),alert("Failed to save changes. Please try again.")}finally{b(!1)}},j=(C,P)=>{m(I=>({...I,[C]:P}))},E=C=>{n(C)},O=()=>{f(!1),x()};if(s)return l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})});if(c)return l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsxs(kt,{className:"p-8 text-center",children:[l.jsx(Rf,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),l.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Error Loading Event"}),l.jsx("p",{className:"text-gray-600 mb-4",children:c}),l.jsx(ft,{onClick:()=>e("/events"),variant:"outline",children:"Back to Events"})]})});if(!a)return l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsxs(kt,{className:"p-8 text-center",children:[l.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Event Not Found"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"The requested event could not be found."}),l.jsx(ft,{onClick:()=>e("/events"),variant:"outline",children:"Back to Events"})]})});const k=C=>{switch(C){case"completed":return"bg-green-100 text-green-800";case"in_progress":return"bg-blue-100 text-blue-800";case"blocked":return"bg-red-100 text-red-800";case"pending":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},L=h?g:a;return l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsx("div",{className:"mb-8 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-6 border border-blue-200",children:l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center mb-3",children:[l.jsx(qC,{className:"h-7 w-7 text-blue-600 mr-3"}),l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Event Management"})]}),h?l.jsx(cr,{value:g.title,onChange:C=>j("title",C.target.value),className:"text-2xl font-semibold text-blue-700 border-2 border-blue-300 mb-2 bg-white",placeholder:"Event Title"}):l.jsx("h2",{className:"text-2xl font-semibold text-blue-700 mb-2",children:(L==null?void 0:L.title)||"Loading event..."}),h?l.jsx("textarea",{value:g.description||"",onChange:C=>j("description",C.target.value),className:"w-full text-gray-600 border border-gray-300 rounded-md p-2 resize-none bg-white",rows:"2",placeholder:"Event Description"}):l.jsx("p",{className:"text-gray-600 text-lg",children:(L==null?void 0:L.description)||"No description available"})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-3 ml-6",children:[h?l.jsxs(l.Fragment,{children:[l.jsxs(ft,{onClick:w,disabled:y,className:"bg-green-600 hover:bg-green-700",children:[l.jsx(GC,{className:"h-4 w-4 mr-2"}),y?"Saving...":"Save"]}),l.jsxs(ft,{onClick:A,variant:"outline",children:[l.jsx(Ev,{className:"h-4 w-4 mr-2"}),"Cancel"]})]}):l.jsxs(ft,{onClick:N,variant:"outline",children:[l.jsx(TR,{className:"h-4 w-4 mr-2"}),"Edit Event"]}),l.jsx(ft,{onClick:()=>f(!0),className:"bg-blue-600 hover:bg-blue-700",children:"Add Task"})]})]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-8",children:[l.jsx(kt,{className:"p-4",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(ea,{className:"h-5 w-5 text-gray-500 mr-2"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Event Date"}),h?l.jsx(cr,{type:"date",value:g.event_date,onChange:C=>j("event_date",C.target.value),className:"font-semibold"}):l.jsx("p",{className:"font-semibold",children:L.event_date==="Invalid Date"||!L.event_date?"Invalid Date":new Date(L.event_date).toLocaleDateString()})]})]})}),l.jsx(kt,{className:"p-4",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(yo,{className:"h-5 w-5 text-gray-500 mr-2"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Start Time"}),h?l.jsx(cr,{type:"time",value:g.start_time||"",onChange:C=>j("start_time",C.target.value),className:"font-semibold"}):l.jsx("p",{className:"font-semibold",children:L.start_time||"TBD"})]})]})}),l.jsx(kt,{className:"p-4",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(kR,{className:"h-5 w-5 text-gray-500 mr-2"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Location"}),h?l.jsx(cr,{value:g.location||"",onChange:C=>j("location",C.target.value),className:"font-semibold",placeholder:"Event Location"}):l.jsx("p",{className:"font-semibold",children:L.location||"TBD"})]})]})}),l.jsx(kt,{className:"p-4",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(In,{className:"h-5 w-5 text-gray-500 mr-2"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Status"}),h?l.jsxs("select",{value:g.status,onChange:C=>j("status",C.target.value),className:"font-semibold border border-gray-300 rounded-md px-2 py-1",children:[l.jsx("option",{value:"planning",children:"Planning"}),l.jsx("option",{value:"in_progress",children:"In Progress"}),l.jsx("option",{value:"completed",children:"Completed"}),l.jsx("option",{value:"cancelled",children:"Cancelled"})]}):l.jsx(Ra,{className:k(L.status),children:L.status})]})]})})]}),l.jsxs(kt,{className:"p-6 mb-8",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Event Progress"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Overall Progress"}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(xse,{value:eventSummary.progress_percentage,className:"flex-1 mr-3"}),l.jsxs("span",{className:"text-lg font-semibold",children:[eventSummary.progress_percentage,"%"]})]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Tasks"}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("span",{className:"text-2xl font-bold text-green-600",children:eventSummary.completed_tasks}),l.jsx("span",{className:"text-gray-400",children:"/"}),l.jsx("span",{className:"text-2xl font-bold",children:eventSummary.total_tasks})]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Open Issues"}),l.jsx("div",{className:"flex items-center",children:l.jsx("span",{className:"text-2xl font-bold text-red-600",children:eventSummary.open_issues})})]})]})]}),l.jsxs(wse,{value:r,onValueChange:E,className:"space-y-6",children:[l.jsxs(Sse,{className:"flex flex-wrap gap-2 w-full justify-start border-b border-gray-200 mb-4 bg-white rounded-t-lg px-2 py-1",children:[l.jsx(mm,{value:"overview",children:"Overview"}),l.jsx(mm,{value:"tasks",children:"Tasks"}),l.jsx(mm,{value:"issues",children:"Issues"}),l.jsx(mm,{value:"sponsorships",children:"Sponsorships"})]}),l.jsx(gm,{value:"overview",className:"space-y-6",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs(kt,{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Task Progress Chart"}),l.jsx("div",{className:"min-h-[300px]",children:l.jsx(Ise,{eventId:t})})]}),l.jsxs(kt,{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Recent Activity"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[l.jsx(In,{className:"h-5 w-5 text-green-500"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Task completed"}),l.jsx("p",{className:"text-sm text-gray-600",children:'"Set up venue" marked as complete'})]})]}),l.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[l.jsx(ui,{className:"h-5 w-5 text-blue-500"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Comment added"}),l.jsx("p",{className:"text-sm text-gray-600",children:'New comment on "Order supplies" task'})]})]}),l.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[l.jsx(Rf,{className:"h-5 w-5 text-yellow-500"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Issue reported"}),l.jsx("p",{className:"text-sm text-gray-600",children:'"Venue availability" issue opened'})]})]})]})]})]})}),l.jsx(gm,{value:"tasks",className:"space-y-6",children:l.jsx("div",{className:"min-h-[400px]",children:l.jsx(d5,{eventId:t,onTaskUpdated:x},`tasks-${t}`)})}),l.jsx(gm,{value:"issues",className:"space-y-6",children:l.jsx("div",{className:"min-h-[400px]",children:l.jsx(Rse,{eventId:t,onIssueUpdated:x},`issues-${t}`)})}),l.jsx(gm,{value:"sponsorships",className:"space-y-6",children:l.jsx("div",{className:"min-h-[400px]",children:l.jsx(Lse,{eventId:t,onSponsorshipUpdated:x},`sponsorships-${t}`)})})]}),d&&l.jsx(g4,{eventId:t,onClose:()=>f(!1),onTaskAdded:O})]})};class Fse extends pne{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(e){return e.allDay?["allDay"]:["timed"]}getKeysForEventDef(e){return e.allDay?Hre(e)?["timed","allDay"]:["allDay"]:["timed"]}}const Bse=mr({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function v4(t){let e=["fc-timegrid-slot","fc-timegrid-slot-label",t.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return ie($s.Consumer,null,r=>{if(!t.isLabeled)return ie("td",{className:e.join(" "),"data-time":t.isoTimeStr});let{dateEnv:n,options:a,viewApi:i}=r,s=a.slotLabelFormat==null?Bse:Array.isArray(a.slotLabelFormat)?mr(a.slotLabelFormat[0]):mr(a.slotLabelFormat),o={level:0,time:t.time,date:n.toDate(t.date),view:i,text:n.format(t.date,s)};return ie(Pn,{elTag:"td",elClasses:e,elAttrs:{"data-time":t.isoTimeStr},renderProps:o,generatorName:"slotLabelContent",customGenerator:a.slotLabelContent,defaultGenerator:Use,classNameGenerator:a.slotLabelClassNames,didMount:a.slotLabelDidMount,willUnmount:a.slotLabelWillUnmount},c=>ie("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},ie(c,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]})))})}function Use(t){return t.text}class zse extends $t{render(){return this.props.slatMetas.map(e=>ie("tr",{key:e.key},ie(v4,Object.assign({},e))))}}const Wse=mr({week:"short"}),Hse=5;class qse extends Ni{constructor(){super(...arguments),this.allDaySplitter=new Fse,this.headerElRef=Wn(),this.rootElRef=Wn(),this.scrollerElRef=Wn(),this.state={slatCoords:null},this.handleScrollTopRequest=e=>{let r=this.scrollerElRef.current;r&&(r.scrollTop=e)},this.renderHeadAxis=(e,r="")=>{let{options:n}=this.context,{dateProfile:a}=this.props,i=a.renderRange,o=Mo(i.start,i.end)===1?xu(this.context,i.start,"week"):{};return n.weekNumbers&&e==="day"?ie(U3,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:i.start,defaultFormat:Wse},c=>ie("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:r}},ie(c,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:o}))):ie("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},ie("div",{className:"fc-timegrid-axis-frame",style:{height:r}}))},this.renderTableRowAxis=e=>{let{options:r,viewApi:n}=this.context,a={text:r.allDayText,view:n};return ie(Pn,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:a,generatorName:"allDayContent",customGenerator:r.allDayContent,defaultGenerator:Gse,classNameGenerator:r.allDayClassNames,didMount:r.allDayDidMount,willUnmount:r.allDayWillUnmount},i=>ie("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",e==null?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:e}},ie(i,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]})))},this.handleSlatCoords=e=>{this.setState({slatCoords:e})}}renderSimpleLayout(e,r,n){let{context:a,props:i}=this,s=[],o=wg(a.options);return e&&s.push({type:"header",key:"header",isSticky:o,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),r&&(s.push({type:"body",key:"all-day",chunk:{content:r}}),s.push({type:"body",key:"all-day-divider",outerContent:ie("tr",{role:"presentation",className:"fc-scrollgrid-section"},ie("td",{className:"fc-timegrid-divider "+a.theme.getClass("tableCellShaded")}))})),s.push({type:"body",key:"body",liquid:!0,expandRows:!!a.options.expandRows,chunk:{scrollerElRef:this.scrollerElRef,content:n}}),ie(th,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:a.viewSpec},ie(a5,{liquid:!i.isHeightAuto&&!i.forPrint,collapsibleWidth:i.forPrint,cols:[{width:"shrink"}],sections:s}))}renderHScrollLayout(e,r,n,a,i,s,o){let c=this.context.pluginHooks.scrollGridImpl;if(!c)throw new Error("No ScrollGrid implementation");let{context:u,props:d}=this,f=!d.forPrint&&wg(u.options),h=!d.forPrint&&I3(u.options),p=[];e&&p.push({type:"header",key:"header",isSticky:f,syncRowHeights:!0,chunks:[{key:"axis",rowContent:m=>ie("tr",{role:"presentation"},this.renderHeadAxis("day",m.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),r&&(p.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:m=>ie("tr",{role:"presentation"},this.renderTableRowAxis(m.rowSyncHeights[0]))},{key:"cols",content:r}]}),p.push({key:"all-day-divider",type:"body",outerContent:ie("tr",{role:"presentation",className:"fc-scrollgrid-section"},ie("td",{colSpan:2,className:"fc-timegrid-divider "+u.theme.getClass("tableCellShaded")}))}));let g=u.options.nowIndicator;return p.push({type:"body",key:"body",liquid:!0,expandRows:!!u.options.expandRows,chunks:[{key:"axis",content:m=>ie("div",{className:"fc-timegrid-axis-chunk"},ie("table",{"aria-hidden":!0,style:{height:m.expandRows?m.clientHeight:""}},m.tableColGroupNode,ie("tbody",null,ie(zse,{slatMetas:s}))),ie("div",{className:"fc-timegrid-now-indicator-container"},ie(Jl,{unit:g?"minute":"day"},y=>{let b=g&&o&&o.safeComputeTop(y);return typeof b=="number"?ie(i5,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:b},isAxis:!0,date:y}):null})))},{key:"cols",scrollerElRef:this.scrollerElRef,content:n}]}),h&&p.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:Qx},{key:"cols",content:Qx}]}),ie(th,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:u.viewSpec},ie(c,{liquid:!d.isHeightAuto&&!d.forPrint,forPrint:d.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:a,minWidth:i}]}],sections:p}))}getAllDayMaxEventProps(){let{dayMaxEvents:e,dayMaxEventRows:r}=this.context.options;return(e===!0||r===!0)&&(e=void 0,r=Hse),{dayMaxEvents:e,dayMaxEventRows:r}}}function Gse(t){return t.text}class Vse{constructor(e,r,n){this.positions=e,this.dateProfile=r,this.slotDuration=n}safeComputeTop(e){let{dateProfile:r}=this;if(_s(r.currentRange,e)){let n=rr(e),a=e.valueOf()-n.valueOf();if(a>=hi(r.slotMinTime)&&a<hi(r.slotMaxTime))return this.computeTimeTop(Et(a))}return null}computeDateTop(e,r){return r||(r=rr(e)),this.computeTimeTop(Et(e.valueOf()-r.valueOf()))}computeTimeTop(e){let{positions:r,dateProfile:n}=this,a=r.els.length,i=(e.milliseconds-hi(n.slotMinTime))/hi(this.slotDuration),s,o;return i=Math.max(0,i),i=Math.min(a,i),s=Math.floor(i),s=Math.min(s,a-1),o=i-s,r.tops[s]+r.getHeight(s)*o}}class Yse extends $t{render(){let{props:e,context:r}=this,{options:n}=r,{slatElRefs:a}=e;return ie("tbody",null,e.slatMetas.map((i,s)=>{let o={time:i.time,date:r.dateEnv.toDate(i.date),view:r.viewApi};return ie("tr",{key:i.key,ref:a.createRef(i.key)},e.axis&&ie(v4,Object.assign({},i)),ie(Pn,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!i.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":i.isoTimeStr},renderProps:o,generatorName:"slotLaneContent",customGenerator:n.slotLaneContent,classNameGenerator:n.slotLaneClassNames,didMount:n.slotLaneDidMount,willUnmount:n.slotLaneWillUnmount}))}))}}class Kse extends $t{constructor(){super(...arguments),this.rootElRef=Wn(),this.slatElRefs=new Ss}render(){let{props:e,context:r}=this;return ie("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},ie("table",{"aria-hidden":!0,className:r.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},e.tableColGroupNode,ie(Yse,{slatElRefs:this.slatElRefs,axis:e.axis,slatMetas:e.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context:e,props:r}=this;r.onCoords&&r.clientWidth!==null&&this.rootElRef.current.offsetHeight&&r.onCoords(new Vse(new wu(this.rootElRef.current,Xse(this.slatElRefs.currentMap,r.slatMetas),!1,!0),this.props.dateProfile,e.options.slotDuration))}}function Xse(t,e){return e.map(r=>t[r.key])}function af(t,e){let r=[],n;for(n=0;n<e;n+=1)r.push([]);if(t)for(n=0;n<t.length;n+=1)r[t[n].col].push(t[n]);return r}function XA(t,e){let r=[];if(t){for(let n=0;n<e;n+=1)r[n]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let n of t.segs)r[n.col].segs.push(n)}else for(let n=0;n<e;n+=1)r[n]=null;return r}class Zse extends $t{render(){let{props:e}=this;return ie(z3,{elClasses:["fc-timegrid-more-link"],elStyle:{top:e.top,bottom:e.bottom},allDayDate:null,moreCnt:e.hiddenSegs.length,allSegs:e.hiddenSegs,hiddenSegs:e.hiddenSegs,extraDateSpan:e.extraDateSpan,dateProfile:e.dateProfile,todayRange:e.todayRange,popoverContent:()=>b4(e.hiddenSegs,e),defaultGenerator:Qse,forceTimed:!0},r=>ie(r,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]}))}}function Qse(t){return t.shortText}function Jse(t,e,r){let n=new A3;e!=null&&(n.strictOrder=e),r!=null&&(n.maxStackCnt=r);let a=n.addSegs(t),i=Ene(a),s=eoe(n);return s=aoe(s,1),{segRects:ioe(s),hiddenGroups:i}}function eoe(t){const{entriesByLevel:e}=t,r=f5((n,a)=>n+":"+a,(n,a)=>{let i=noe(t,n,a),s=ZA(i,r),o=e[n][a];return[Object.assign(Object.assign({},o),{nextLevelNodes:s[0]}),o.thickness+s[1]]});return ZA(e.length?{level:0,lateralStart:0,lateralEnd:e[0].length}:null,r)[0]}function ZA(t,e){if(!t)return[[],0];let{level:r,lateralStart:n,lateralEnd:a}=t,i=n,s=[];for(;i<a;)s.push(e(r,i)),i+=1;return s.sort(toe),[s.map(roe),s[0][1]]}function toe(t,e){return e[1]-t[1]}function roe(t){return t[0]}function noe(t,e,r){let{levelCoords:n,entriesByLevel:a}=t,i=a[e][r],s=n[e]+i.thickness,o=n.length,c=e;for(;c<o&&n[c]<s;c+=1);for(;c<o;c+=1){let u=a[c],d,f=Zx(u,i.span.start,Xx),h=f[0]+f[1],p=h;for(;(d=u[p])&&d.span.start<i.span.end;)p+=1;if(h<p)return{level:c,lateralStart:h,lateralEnd:p}}return null}function aoe(t,e){const r=f5((n,a,i)=>Al(n),(n,a,i)=>{let{nextLevelNodes:s,thickness:o}=n,c=o+i,u=o/c,d,f=[];if(!s.length)d=e;else for(let p of s)if(d===void 0){let g=r(p,a,c);d=g[0],f.push(g[1])}else{let g=r(p,d,0);f.push(g[1])}let h=(d-a)*u;return[d-h,Object.assign(Object.assign({},n),{thickness:h,nextLevelNodes:f})]});return t.map(n=>r(n,0,0)[1])}function ioe(t){let e=[];const r=f5((a,i,s)=>Al(a),(a,i,s)=>{let o=Object.assign(Object.assign({},a),{levelCoord:i,stackDepth:s,stackForward:0});return e.push(o),o.stackForward=n(a.nextLevelNodes,i+a.thickness,s+1)+1});function n(a,i,s){let o=0;for(let c of a)o=Math.max(r(c,i,s),o);return o}return n(t,0,0),e}function f5(t,e){const r={};return(...n)=>{let a=t(...n);return a in r?r[a]:r[a]=e(...n)}}function QA(t,e,r=null,n=0){let a=[];if(r)for(let i=0;i<t.length;i+=1){let s=t[i],o=r.computeDateTop(s.start,e),c=Math.max(o+(n||0),r.computeDateTop(s.end,e));a.push({start:Math.round(o),end:Math.round(c)})}return a}function soe(t,e,r,n){let a=[],i=[];for(let u=0;u<t.length;u+=1){let d=e[u];d?a.push({index:u,thickness:1,span:d}):i.push(t[u])}let{segRects:s,hiddenGroups:o}=Jse(a,r,n),c=[];for(let u of s)c.push({seg:t[u.index],rect:u});for(let u of i)c.push({seg:u,rect:null});return{segPlacements:c,hiddenGroups:o}}const ooe=mr({hour:"numeric",minute:"2-digit",meridiem:!1});class y4 extends $t{render(){return ie($3,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:ooe}))}}class loe extends $t{constructor(){super(...arguments),this.sortEventSegs=rt(X2)}render(){let{props:e,context:r}=this,{options:n}=r,a=n.selectMirror,i=e.eventDrag&&e.eventDrag.segs||e.eventResize&&e.eventResize.segs||a&&e.dateSelectionSegs||[],s=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{},o=this.sortEventSegs(e.fgEventSegs,n.eventOrder);return ie(s5,{elTag:"td",elRef:e.elRef,elClasses:["fc-timegrid-col",...e.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},e.extraDataAttrs),date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,extraRenderProps:e.extraRenderProps},c=>ie("div",{className:"fc-timegrid-col-frame"},ie("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(e.businessHourSegs,"non-business"),this.renderFillSegs(e.bgEventSegs,"bg-event"),this.renderFillSegs(e.dateSelectionSegs,"highlight")),ie("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(o,s,!1,!1,!1)),ie("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(i,{},!!e.eventDrag,!!e.eventResize,!!a,"mirror")),ie("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(e.nowIndicatorSegs)),o5(n)&&ie(c,{elTag:"div",elClasses:["fc-timegrid-col-misc"]})))}renderFgSegs(e,r,n,a,i,s){let{props:o}=this;return o.forPrint?b4(e,o):this.renderPositionedFgSegs(e,r,n,a,i,s)}renderPositionedFgSegs(e,r,n,a,i,s){let{eventMaxStack:o,eventShortHeight:c,eventOrderStrict:u,eventMinHeight:d}=this.context.options,{date:f,slatCoords:h,eventSelection:p,todayRange:g,nowDate:m}=this.props,y=n||a||i,b=QA(e,f,h,d),{segPlacements:x,hiddenGroups:N}=soe(e,b,u,o);return ie(Xt,null,this.renderHiddenGroups(N,e),x.map(A=>{let{seg:w,rect:j}=A,E=w.eventRange.instance.instanceId,O=y||!!(!r[E]&&j),k=kb(j&&j.span),L=!y&&j?this.computeSegHStyle(j):{left:0,right:0},C=!!j&&j.stackForward>0,P=!!j&&j.span.end-j.span.start<c;return ie("div",{className:"fc-timegrid-event-harness"+(C?" fc-timegrid-event-harness-inset":""),key:s||E,style:Object.assign(Object.assign({visibility:O?"":"hidden"},k),L)},ie(y4,Object.assign({seg:w,isDragging:n,isResizing:a,isDateSelecting:i,isSelected:E===p,isShort:P},Es(w,g,m))))}))}renderHiddenGroups(e,r){let{extraDateSpan:n,dateProfile:a,todayRange:i,nowDate:s,eventSelection:o,eventDrag:c,eventResize:u}=this.props;return ie(Xt,null,e.map(d=>{let f=kb(d.span),h=coe(d.entries,r);return ie(Zse,{key:QP(W3(h)),hiddenSegs:h,top:f.top,bottom:f.bottom,extraDateSpan:n,dateProfile:a,todayRange:i,nowDate:s,eventSelection:o,eventDrag:c,eventResize:u})}))}renderFillSegs(e,r){let{props:n,context:a}=this,s=QA(e,n.date,n.slatCoords,a.options.eventMinHeight).map((o,c)=>{let u=e[c];return ie("div",{key:y3(u.eventRange),className:"fc-timegrid-bg-harness",style:kb(o)},r==="bg-event"?ie(F3,Object.assign({seg:u},Es(u,n.todayRange,n.nowDate))):B3(r))});return ie(Xt,null,s)}renderNowIndicator(e){let{slatCoords:r,date:n}=this.props;return r?e.map((a,i)=>ie(i5,{key:i,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:r.computeDateTop(a.start,n)},isAxis:!1,date:n})):null}computeSegHStyle(e){let{isRtl:r,options:n}=this.context,a=n.slotEventOverlap,i=e.levelCoord,s=e.levelCoord+e.thickness,o,c;a&&(s=Math.min(1,i+(s-i)*2)),r?(o=1-s,c=i):(o=i,c=1-s);let u={zIndex:e.stackDepth+1,left:o*100+"%",right:c*100+"%"};return a&&!e.stackForward&&(u[r?"marginLeft":"marginRight"]=10*2),u}}function b4(t,{todayRange:e,nowDate:r,eventSelection:n,eventDrag:a,eventResize:i}){let s=(a?a.affectedInstances:null)||(i?i.affectedInstances:null)||{};return ie(Xt,null,t.map(o=>{let c=o.eventRange.instance.instanceId;return ie("div",{key:c,style:{visibility:s[c]?"hidden":""}},ie(y4,Object.assign({seg:o,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:c===n,isShort:!1},Es(o,e,r))))}))}function kb(t){return t?{top:t.start,bottom:-t.end}:{top:"",bottom:""}}function coe(t,e){return t.map(r=>e[r.index])}class uoe extends $t{constructor(){super(...arguments),this.splitFgEventSegs=rt(af),this.splitBgEventSegs=rt(af),this.splitBusinessHourSegs=rt(af),this.splitNowIndicatorSegs=rt(af),this.splitDateSelectionSegs=rt(af),this.splitEventDrag=rt(XA),this.splitEventResize=rt(XA),this.rootElRef=Wn(),this.cellElRefs=new Ss}render(){let{props:e,context:r}=this,n=r.options.nowIndicator&&e.slatCoords&&e.slatCoords.safeComputeTop(e.nowDate),a=e.cells.length,i=this.splitFgEventSegs(e.fgEventSegs,a),s=this.splitBgEventSegs(e.bgEventSegs,a),o=this.splitBusinessHourSegs(e.businessHourSegs,a),c=this.splitNowIndicatorSegs(e.nowIndicatorSegs,a),u=this.splitDateSelectionSegs(e.dateSelectionSegs,a),d=this.splitEventDrag(e.eventDrag,a),f=this.splitEventResize(e.eventResize,a);return ie("div",{className:"fc-timegrid-cols",ref:this.rootElRef},ie("table",{role:"presentation",style:{minWidth:e.tableMinWidth,width:e.clientWidth}},e.tableColGroupNode,ie("tbody",{role:"presentation"},ie("tr",{role:"row"},e.axis&&ie("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},ie("div",{className:"fc-timegrid-col-frame"},ie("div",{className:"fc-timegrid-now-indicator-container"},typeof n=="number"&&ie(i5,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:n},isAxis:!0,date:e.nowDate})))),e.cells.map((h,p)=>ie(loe,{key:h.key,elRef:this.cellElRefs.createRef(h.key),dateProfile:e.dateProfile,date:h.date,nowDate:e.nowDate,todayRange:e.todayRange,extraRenderProps:h.extraRenderProps,extraDataAttrs:h.extraDataAttrs,extraClassNames:h.extraClassNames,extraDateSpan:h.extraDateSpan,fgEventSegs:i[p],bgEventSegs:s[p],businessHourSegs:o[p],nowIndicatorSegs:c[p],dateSelectionSegs:u[p],eventDrag:d[p],eventResize:f[p],slatCoords:e.slatCoords,eventSelection:e.eventSelection,forPrint:e.forPrint}))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props:e}=this;e.onColCoords&&e.clientWidth!==null&&e.onColCoords(new wu(this.rootElRef.current,doe(this.cellElRefs.currentMap,e.cells),!0,!1))}}function doe(t,e){return e.map(r=>t[r.key])}class foe extends Ni{constructor(){super(...arguments),this.processSlotOptions=rt(hoe),this.state={slatCoords:null},this.handleRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=e=>{let{onScrollTopRequest:r}=this.props,{slatCoords:n}=this.state;if(r&&n){if(e.time){let a=n.computeTimeTop(e.time);a=Math.ceil(a),a&&(a+=1),r(a)}return!0}return!1},this.handleColCoords=e=>{this.colCoords=e},this.handleSlatCoords=e=>{this.setState({slatCoords:e}),this.props.onSlatCoords&&this.props.onSlatCoords(e)}}render(){let{props:e,state:r}=this;return ie("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:e.clientWidth,minWidth:e.tableMinWidth}},ie(Kse,{axis:e.axis,dateProfile:e.dateProfile,slatMetas:e.slatMetas,clientWidth:e.clientWidth,minHeight:e.expandRows?e.clientHeight:"",tableMinWidth:e.tableMinWidth,tableColGroupNode:e.axis?e.tableColGroupNode:null,onCoords:this.handleSlatCoords}),ie(uoe,{cells:e.cells,axis:e.axis,dateProfile:e.dateProfile,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange,nowDate:e.nowDate,nowIndicatorSegs:e.nowIndicatorSegs,clientWidth:e.clientWidth,tableMinWidth:e.tableMinWidth,tableColGroupNode:e.tableColGroupNode,slatCoords:r.slatCoords,onColCoords:this.handleColCoords,forPrint:e.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(e){this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(e,r){let{dateEnv:n,options:a}=this.context,{colCoords:i}=this,{dateProfile:s}=this.props,{slatCoords:o}=this.state,{snapDuration:c,snapsPerSlot:u}=this.processSlotOptions(this.props.slotDuration,a.snapDuration),d=i.leftToIndex(e),f=o.positions.topToIndex(r);if(d!=null&&f!=null){let h=this.props.cells[d],p=o.positions.tops[f],g=o.positions.getHeight(f),m=(r-p)/g,y=Math.floor(m*u),b=f*u+y,x=this.props.cells[d].date,N=zx(s.slotMinTime,vte(c,b)),A=n.add(x,N),w=n.add(A,c);return{dateProfile:s,dateSpan:Object.assign({range:{start:A,end:w},allDay:!1},h.extraDateSpan),dayEl:i.els[d],rect:{left:i.lefts[d],right:i.rights[d],top:p,bottom:p+g},layer:0}}return null}}function hoe(t,e){let r=e||t,n=L2(t,r);return n===null&&(r=t,n=1),{snapDuration:r,snapsPerSlot:n}}class poe extends k3{sliceRange(e,r){let n=[];for(let a=0;a<r.length;a+=1){let i=Co(e,r[a]);i&&n.push({start:i.start,end:i.end,isStart:i.start.valueOf()===e.start.valueOf(),isEnd:i.end.valueOf()===e.end.valueOf(),col:a})}return n}}class moe extends Ni{constructor(){super(...arguments),this.buildDayRanges=rt(goe),this.slicer=new poe,this.timeColsRef=Wn()}render(){let{props:e,context:r}=this,{dateProfile:n,dayTableModel:a}=e,{nowIndicator:i,nextDayThreshold:s}=r.options,o=this.buildDayRanges(a,n,r.dateEnv);return ie(Jl,{unit:i?"minute":"day"},(c,u)=>ie(foe,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(e,n,null,r,o),{forPrint:e.forPrint,axis:e.axis,dateProfile:n,slatMetas:e.slatMetas,slotDuration:e.slotDuration,cells:a.cells[0],tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,clientWidth:e.clientWidth,clientHeight:e.clientHeight,expandRows:e.expandRows,nowDate:c,nowIndicatorSegs:i&&this.slicer.sliceNowDate(c,n,s,r,o),todayRange:u,onScrollTopRequest:e.onScrollTopRequest,onSlatCoords:e.onSlatCoords})))}}function goe(t,e,r){let n=[];for(let a of t.headerDates)n.push({start:r.add(a,e.slotMinTime),end:r.add(a,e.slotMaxTime)});return n}const JA=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function voe(t,e,r,n,a){let i=new Date(0),s=t,o=Et(0),c=r||yoe(n),u=[];for(;hi(s)<hi(e);){let d=a.add(i,s),f=L2(o,c)!==null;u.push({date:d,time:s,key:d.toISOString(),isoTimeStr:Dte(d),isLabeled:f}),s=zx(s,n),o=zx(o,n)}return u}function yoe(t){let e,r,n;for(e=JA.length-1;e>=0;e-=1)if(r=Et(JA[e]),n=L2(r,t),n!==null&&n>1)return r;return t}class boe extends qse{constructor(){super(...arguments),this.buildTimeColsModel=rt(xoe),this.buildSlatMetas=rt(voe)}render(){let{options:e,dateEnv:r,dateProfileGenerator:n}=this.context,{props:a}=this,{dateProfile:i}=a,s=this.buildTimeColsModel(i,n),o=this.allDaySplitter.splitProps(a),c=this.buildSlatMetas(i.slotMinTime,i.slotMaxTime,e.slotLabelInterval,e.slotDuration,r),{dayMinWidth:u}=e,d=!u,f=u,h=e.dayHeaders&&ie(O3,{dates:s.headerDates,dateProfile:i,datesRepDistinctDays:!0,renderIntro:d?this.renderHeadAxis:null}),p=e.allDaySlot!==!1&&(m=>ie(o4,Object.assign({},o.allDay,{dateProfile:i,dayTableModel:s,nextDayThreshold:e.nextDayThreshold,tableMinWidth:m.tableMinWidth,colGroupNode:m.tableColGroupNode,renderRowIntro:d?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:m.clientWidth,clientHeight:m.clientHeight,forPrint:a.forPrint},this.getAllDayMaxEventProps()))),g=m=>ie(moe,Object.assign({},o.timed,{dayTableModel:s,dateProfile:i,axis:d,slotDuration:e.slotDuration,slatMetas:c,forPrint:a.forPrint,tableColGroupNode:m.tableColGroupNode,tableMinWidth:m.tableMinWidth,clientWidth:m.clientWidth,clientHeight:m.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:m.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return f?this.renderHScrollLayout(h,p,g,s.colCnt,u,c,this.state.slatCoords):this.renderSimpleLayout(h,p,g)}}function xoe(t,e){let r=new C3(t.renderRange,e);return new T3(r,!1)}var woe='.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-arrow,.fc .fc-timegrid-now-indicator-line{pointer-events:none}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}';ay(woe);const Soe={allDaySlot:Boolean};var Noe=ji({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:Soe,views:{timeGrid:{component:boe,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}}),r1=["MO","TU","WE","TH","FR","SA","SU"],$n=function(){function t(e,r){if(r===0)throw new Error("Can't create weekday with n == 0");this.weekday=e,this.n=r}return t.fromStr=function(e){return new t(r1.indexOf(e))},t.prototype.nth=function(e){return this.n===e?this:new t(this.weekday,e)},t.prototype.equals=function(e){return this.weekday===e.weekday&&this.n===e.n},t.prototype.toString=function(){var e=r1[this.weekday];return this.n&&(e=(this.n>0?"+":"")+String(this.n)+e),e},t.prototype.getJsWeekday=function(){return this.weekday===6?0:this.weekday+1},t}(),Br=function(t){return t!=null},Bi=function(t){return typeof t=="number"},e_=function(t){return typeof t=="string"&&r1.includes(t)},pa=Array.isArray,as=function(t,e){e===void 0&&(e=t),arguments.length===1&&(e=t,t=0);for(var r=[],n=t;n<e;n++)r.push(n);return r},Rt=function(t,e){var r=0,n=[];if(pa(t))for(;r<e;r++)n[r]=[].concat(t);else for(;r<e;r++)n[r]=t;return n},joe=function(t){return pa(t)?t:[t]};function Ic(t,e,r){r===void 0&&(r=" ");var n=String(t);return e=e>>0,n.length>e?String(n):(e=e-n.length,e>r.length&&(r+=Rt(r,e/r.length)),r.slice(0,e)+String(n))}var Aoe=function(t,e,r){var n=t.split(e);return r?n.slice(0,r).concat([n.slice(r).join(e)]):n},ka=function(t,e){var r=t%e;return r*e<0?r+e:r},Pb=function(t,e){return{div:Math.floor(t/e),mod:ka(t,e)}},Wi=function(t){return!Br(t)||t.length===0},sn=function(t){return!Wi(t)},er=function(t,e){return sn(t)&&t.indexOf(e)!==-1},zl=function(t,e,r,n,a,i){return n===void 0&&(n=0),a===void 0&&(a=0),i===void 0&&(i=0),new Date(Date.UTC(t,e-1,r,n,a,i))},_oe=[31,28,31,30,31,30,31,31,30,31,30,31],x4=1e3*60*60*24,w4=9999,S4=zl(1970,1,1),Eoe=[6,0,1,2,3,4,5],Ef=function(t){return t%4===0&&t%100!==0||t%400===0},N4=function(t){return t instanceof Date},vf=function(t){return N4(t)&&!isNaN(t.getTime())},Ooe=function(t,e){var r=t.getTime(),n=e.getTime(),a=r-n;return Math.round(a/x4)},n1=function(t){return Ooe(t,S4)},j4=function(t){return new Date(S4.getTime()+t*x4)},Coe=function(t){var e=t.getUTCMonth();return e===1&&Ef(t.getUTCFullYear())?29:_oe[e]},Su=function(t){return Eoe[t.getUTCDay()]},t_=function(t,e){var r=zl(t,e+1,1);return[Su(r),Coe(r)]},A4=function(t,e){return e=e||t,new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()))},a1=function(t){var e=new Date(t.getTime());return e},r_=function(t){for(var e=[],r=0;r<t.length;r++)e.push(a1(t[r]));return e},oh=function(t){t.sort(function(e,r){return e.getTime()-r.getTime()})},h5=function(t,e){e===void 0&&(e=!0);var r=new Date(t);return[Ic(r.getUTCFullYear().toString(),4,"0"),Ic(r.getUTCMonth()+1,2,"0"),Ic(r.getUTCDate(),2,"0"),"T",Ic(r.getUTCHours(),2,"0"),Ic(r.getUTCMinutes(),2,"0"),Ic(r.getUTCSeconds(),2,"0"),e?"Z":""].join("")},p5=function(t){var e=/^(\d{4})(\d{2})(\d{2})(T(\d{2})(\d{2})(\d{2})Z?)?$/,r=e.exec(t);if(!r)throw new Error("Invalid UNTIL value: ".concat(t));return new Date(Date.UTC(parseInt(r[1],10),parseInt(r[2],10)-1,parseInt(r[3],10),parseInt(r[5],10)||0,parseInt(r[6],10)||0,parseInt(r[7],10)||0))},n_=function(t,e){var r=t.toLocaleString("sv-SE",{timeZone:e});return r.replace(" ","T")+"Z"},Toe=function(t,e){var r=Intl.DateTimeFormat().resolvedOptions().timeZone,n=new Date(n_(t,r)),a=new Date(n_(t,e??"UTC")),i=a.getTime()-n.getTime();return new Date(t.getTime()-i)},Yc=function(){function t(e,r){this.minDate=null,this.maxDate=null,this._result=[],this.total=0,this.method=e,this.args=r,e==="between"?(this.maxDate=r.inc?r.before:new Date(r.before.getTime()-1),this.minDate=r.inc?r.after:new Date(r.after.getTime()+1)):e==="before"?this.maxDate=r.inc?r.dt:new Date(r.dt.getTime()-1):e==="after"&&(this.minDate=r.inc?r.dt:new Date(r.dt.getTime()+1))}return t.prototype.accept=function(e){++this.total;var r=this.minDate&&e<this.minDate,n=this.maxDate&&e>this.maxDate;if(this.method==="between"){if(r)return!0;if(n)return!1}else if(this.method==="before"){if(n)return!1}else if(this.method==="after")return r?!0:(this.add(e),!1);return this.add(e)},t.prototype.add=function(e){return this._result.push(e),!0},t.prototype.getValue=function(){var e=this._result;switch(this.method){case"all":case"between":return e;case"before":case"after":default:return e.length?e[e.length-1]:null}},t.prototype.clone=function(){return new t(this.method,this.args)},t}(),a_=function(t){Rw(e,t);function e(r,n,a){var i=t.call(this,r,n)||this;return i.iterator=a,i}return e.prototype.add=function(r){return this.iterator(r,this._result.length)?(this._result.push(r),!0):!1},e}(Yc),jg={dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],tokens:{SKIP:/^[ \r\n\t]+|^\.$/,number:/^[1-9][0-9]*/,numberAsText:/^(one|two|three)/i,every:/^every/i,"day(s)":/^days?/i,"weekday(s)":/^weekdays?/i,"week(s)":/^weeks?/i,"hour(s)":/^hours?/i,"minute(s)":/^minutes?/i,"month(s)":/^months?/i,"year(s)":/^years?/i,on:/^(on|in)/i,at:/^(at)/i,the:/^the/i,first:/^first/i,second:/^second/i,third:/^third/i,nth:/^([1-9][0-9]*)(\.|th|nd|rd|st)/i,last:/^last/i,for:/^for/i,"time(s)":/^times?/i,until:/^(un)?til/i,monday:/^mo(n(day)?)?/i,tuesday:/^tu(e(s(day)?)?)?/i,wednesday:/^we(d(n(esday)?)?)?/i,thursday:/^th(u(r(sday)?)?)?/i,friday:/^fr(i(day)?)?/i,saturday:/^sa(t(urday)?)?/i,sunday:/^su(n(day)?)?/i,january:/^jan(uary)?/i,february:/^feb(ruary)?/i,march:/^mar(ch)?/i,april:/^apr(il)?/i,may:/^may/i,june:/^june?/i,july:/^july?/i,august:/^aug(ust)?/i,september:/^sep(t(ember)?)?/i,october:/^oct(ober)?/i,november:/^nov(ember)?/i,december:/^dec(ember)?/i,comma:/^(,\s*|(and|or)\s*)+/i}},i_=function(t,e){return t.indexOf(e)!==-1},koe=function(t){return t.toString()},Poe=function(t,e,r){return"".concat(e," ").concat(r,", ").concat(t)},Fs=function(){function t(e,r,n,a){if(r===void 0&&(r=koe),n===void 0&&(n=jg),a===void 0&&(a=Poe),this.text=[],this.language=n||jg,this.gettext=r,this.dateFormatter=a,this.rrule=e,this.options=e.options,this.origOptions=e.origOptions,this.origOptions.bymonthday){var i=[].concat(this.options.bymonthday),s=[].concat(this.options.bynmonthday);i.sort(function(d,f){return d-f}),s.sort(function(d,f){return f-d}),this.bymonthday=i.concat(s),this.bymonthday.length||(this.bymonthday=null)}if(Br(this.origOptions.byweekday)){var o=pa(this.origOptions.byweekday)?this.origOptions.byweekday:[this.origOptions.byweekday],c=String(o);this.byweekday={allWeeks:o.filter(function(d){return!d.n}),someWeeks:o.filter(function(d){return!!d.n}),isWeekdays:c.indexOf("MO")!==-1&&c.indexOf("TU")!==-1&&c.indexOf("WE")!==-1&&c.indexOf("TH")!==-1&&c.indexOf("FR")!==-1&&c.indexOf("SA")===-1&&c.indexOf("SU")===-1,isEveryDay:c.indexOf("MO")!==-1&&c.indexOf("TU")!==-1&&c.indexOf("WE")!==-1&&c.indexOf("TH")!==-1&&c.indexOf("FR")!==-1&&c.indexOf("SA")!==-1&&c.indexOf("SU")!==-1};var u=function(d,f){return d.weekday-f.weekday};this.byweekday.allWeeks.sort(u),this.byweekday.someWeeks.sort(u),this.byweekday.allWeeks.length||(this.byweekday.allWeeks=null),this.byweekday.someWeeks.length||(this.byweekday.someWeeks=null)}else this.byweekday=null}return t.isFullyConvertible=function(e){var r=!0;if(!(e.options.freq in t.IMPLEMENTED)||e.origOptions.until&&e.origOptions.count)return!1;for(var n in e.origOptions){if(i_(["dtstart","tzid","wkst","freq"],n))return!0;if(!i_(t.IMPLEMENTED[e.options.freq],n))return!1}return r},t.prototype.isFullyConvertible=function(){return t.isFullyConvertible(this.rrule)},t.prototype.toString=function(){var e=this.gettext;if(!(this.options.freq in t.IMPLEMENTED))return e("RRule error: Unable to fully convert this rrule to text");if(this.text=[e("every")],this[lt.FREQUENCIES[this.options.freq]](),this.options.until){this.add(e("until"));var r=this.options.until;this.add(this.dateFormatter(r.getUTCFullYear(),this.language.monthNames[r.getUTCMonth()],r.getUTCDate()))}else this.options.count&&this.add(e("for")).add(this.options.count.toString()).add(this.plural(this.options.count)?e("times"):e("time"));return this.isFullyConvertible()||this.add(e("(~ approximate)")),this.text.join("")},t.prototype.HOURLY=function(){var e=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("hours"):e("hour"))},t.prototype.MINUTELY=function(){var e=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("minutes"):e("minute"))},t.prototype.DAILY=function(){var e=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.byweekday&&this.byweekday.isWeekdays?this.add(this.plural(this.options.interval)?e("weekdays"):e("weekday")):this.add(this.plural(this.options.interval)?e("days"):e("day")),this.origOptions.bymonth&&(this.add(e("in")),this._bymonth()),this.bymonthday?this._bymonthday():this.byweekday?this._byweekday():this.origOptions.byhour&&this._byhour()},t.prototype.WEEKLY=function(){var e=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()).add(this.plural(this.options.interval)?e("weeks"):e("week")),this.byweekday&&this.byweekday.isWeekdays?this.options.interval===1?this.add(this.plural(this.options.interval)?e("weekdays"):e("weekday")):this.add(e("on")).add(e("weekdays")):this.byweekday&&this.byweekday.isEveryDay?this.add(this.plural(this.options.interval)?e("days"):e("day")):(this.options.interval===1&&this.add(e("week")),this.origOptions.bymonth&&(this.add(e("in")),this._bymonth()),this.bymonthday?this._bymonthday():this.byweekday&&this._byweekday(),this.origOptions.byhour&&this._byhour())},t.prototype.MONTHLY=function(){var e=this.gettext;this.origOptions.bymonth?(this.options.interval!==1&&(this.add(this.options.interval.toString()).add(e("months")),this.plural(this.options.interval)&&this.add(e("in"))),this._bymonth()):(this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("months"):e("month"))),this.bymonthday?this._bymonthday():this.byweekday&&this.byweekday.isWeekdays?this.add(e("on")).add(e("weekdays")):this.byweekday&&this._byweekday()},t.prototype.YEARLY=function(){var e=this.gettext;this.origOptions.bymonth?(this.options.interval!==1&&(this.add(this.options.interval.toString()),this.add(e("years"))),this._bymonth()):(this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("years"):e("year"))),this.bymonthday?this._bymonthday():this.byweekday&&this._byweekday(),this.options.byyearday&&this.add(e("on the")).add(this.list(this.options.byyearday,this.nth,e("and"))).add(e("day")),this.options.byweekno&&this.add(e("in")).add(this.plural(this.options.byweekno.length)?e("weeks"):e("week")).add(this.list(this.options.byweekno,void 0,e("and")))},t.prototype._bymonthday=function(){var e=this.gettext;this.byweekday&&this.byweekday.allWeeks?this.add(e("on")).add(this.list(this.byweekday.allWeeks,this.weekdaytext,e("or"))).add(e("the")).add(this.list(this.bymonthday,this.nth,e("or"))):this.add(e("on the")).add(this.list(this.bymonthday,this.nth,e("and")))},t.prototype._byweekday=function(){var e=this.gettext;this.byweekday.allWeeks&&!this.byweekday.isWeekdays&&this.add(e("on")).add(this.list(this.byweekday.allWeeks,this.weekdaytext)),this.byweekday.someWeeks&&(this.byweekday.allWeeks&&this.add(e("and")),this.add(e("on the")).add(this.list(this.byweekday.someWeeks,this.weekdaytext,e("and"))))},t.prototype._byhour=function(){var e=this.gettext;this.add(e("at")).add(this.list(this.origOptions.byhour,void 0,e("and")))},t.prototype._bymonth=function(){this.add(this.list(this.options.bymonth,this.monthtext,this.gettext("and")))},t.prototype.nth=function(e){e=parseInt(e.toString(),10);var r,n=this.gettext;if(e===-1)return n("last");var a=Math.abs(e);switch(a){case 1:case 21:case 31:r=a+n("st");break;case 2:case 22:r=a+n("nd");break;case 3:case 23:r=a+n("rd");break;default:r=a+n("th")}return e<0?r+" "+n("last"):r},t.prototype.monthtext=function(e){return this.language.monthNames[e-1]},t.prototype.weekdaytext=function(e){var r=Bi(e)?(e+1)%7:e.getJsWeekday();return(e.n?this.nth(e.n)+" ":"")+this.language.dayNames[r]},t.prototype.plural=function(e){return e%100!==1},t.prototype.add=function(e){return this.text.push(" "),this.text.push(e),this},t.prototype.list=function(e,r,n,a){var i=this;a===void 0&&(a=","),pa(e)||(e=[e]);var s=function(c,u,d){for(var f="",h=0;h<c.length;h++)h!==0&&(h===c.length-1?f+=" "+d+" ":f+=u+" "),f+=c[h];return f};r=r||function(c){return c.toString()};var o=function(c){return r&&r.call(i,c)};return n?s(e.map(o),a,n):e.map(o).join(a+" ")},t}(),Doe=function(){function t(e){this.done=!0,this.rules=e}return t.prototype.start=function(e){return this.text=e,this.done=!1,this.nextSymbol()},t.prototype.isDone=function(){return this.done&&this.symbol===null},t.prototype.nextSymbol=function(){var e,r;this.symbol=null,this.value=null;do{if(this.done)return!1;var n=void 0;e=null;for(var a in this.rules){n=this.rules[a];var i=n.exec(this.text);i&&(e===null||i[0].length>e[0].length)&&(e=i,r=a)}if(e!=null&&(this.text=this.text.substr(e[0].length),this.text===""&&(this.done=!0)),e==null){this.done=!0,this.symbol=null,this.value=null;return}}while(r==="SKIP");return this.symbol=r,this.value=e,!0},t.prototype.accept=function(e){if(this.symbol===e){if(this.value){var r=this.value;return this.nextSymbol(),r}return this.nextSymbol(),!0}return!1},t.prototype.acceptNumber=function(){return this.accept("number")},t.prototype.expect=function(e){if(this.accept(e))return!0;throw new Error("expected "+e+" but found "+this.symbol)},t}();function _4(t,e){e===void 0&&(e=jg);var r={},n=new Doe(e.tokens);if(!n.start(t))return null;return a(),r;function a(){n.expect("every");var h=n.acceptNumber();if(h&&(r.interval=parseInt(h[0],10)),n.isDone())throw new Error("Unexpected end");switch(n.symbol){case"day(s)":r.freq=lt.DAILY,n.nextSymbol()&&(s(),f());break;case"weekday(s)":r.freq=lt.WEEKLY,r.byweekday=[lt.MO,lt.TU,lt.WE,lt.TH,lt.FR],n.nextSymbol(),s(),f();break;case"week(s)":r.freq=lt.WEEKLY,n.nextSymbol()&&(i(),s(),f());break;case"hour(s)":r.freq=lt.HOURLY,n.nextSymbol()&&(i(),f());break;case"minute(s)":r.freq=lt.MINUTELY,n.nextSymbol()&&(i(),f());break;case"month(s)":r.freq=lt.MONTHLY,n.nextSymbol()&&(i(),f());break;case"year(s)":r.freq=lt.YEARLY,n.nextSymbol()&&(i(),f());break;case"monday":case"tuesday":case"wednesday":case"thursday":case"friday":case"saturday":case"sunday":r.freq=lt.WEEKLY;var p=n.symbol.substr(0,2).toUpperCase();if(r.byweekday=[lt[p]],!n.nextSymbol())return;for(;n.accept("comma");){if(n.isDone())throw new Error("Unexpected end");var g=c();if(!g)throw new Error("Unexpected symbol "+n.symbol+", expected weekday");r.byweekday.push(lt[g]),n.nextSymbol()}s(),d(),f();break;case"january":case"february":case"march":case"april":case"may":case"june":case"july":case"august":case"september":case"october":case"november":case"december":if(r.freq=lt.YEARLY,r.bymonth=[o()],!n.nextSymbol())return;for(;n.accept("comma");){if(n.isDone())throw new Error("Unexpected end");var m=o();if(!m)throw new Error("Unexpected symbol "+n.symbol+", expected month");r.bymonth.push(m),n.nextSymbol()}i(),f();break;default:throw new Error("Unknown symbol")}}function i(){var h=n.accept("on"),p=n.accept("the");if(h||p)do{var g=u(),m=c(),y=o();if(g)m?(n.nextSymbol(),r.byweekday||(r.byweekday=[]),r.byweekday.push(lt[m].nth(g))):(r.bymonthday||(r.bymonthday=[]),r.bymonthday.push(g),n.accept("day(s)"));else if(m)n.nextSymbol(),r.byweekday||(r.byweekday=[]),r.byweekday.push(lt[m]);else if(n.symbol==="weekday(s)")n.nextSymbol(),r.byweekday||(r.byweekday=[lt.MO,lt.TU,lt.WE,lt.TH,lt.FR]);else if(n.symbol==="week(s)"){n.nextSymbol();var b=n.acceptNumber();if(!b)throw new Error("Unexpected symbol "+n.symbol+", expected week number");for(r.byweekno=[parseInt(b[0],10)];n.accept("comma");){if(b=n.acceptNumber(),!b)throw new Error("Unexpected symbol "+n.symbol+"; expected monthday");r.byweekno.push(parseInt(b[0],10))}}else if(y)n.nextSymbol(),r.bymonth||(r.bymonth=[]),r.bymonth.push(y);else return}while(n.accept("comma")||n.accept("the")||n.accept("on"))}function s(){var h=n.accept("at");if(h)do{var p=n.acceptNumber();if(!p)throw new Error("Unexpected symbol "+n.symbol+", expected hour");for(r.byhour=[parseInt(p[0],10)];n.accept("comma");){if(p=n.acceptNumber(),!p)throw new Error("Unexpected symbol "+n.symbol+"; expected hour");r.byhour.push(parseInt(p[0],10))}}while(n.accept("comma")||n.accept("at"))}function o(){switch(n.symbol){case"january":return 1;case"february":return 2;case"march":return 3;case"april":return 4;case"may":return 5;case"june":return 6;case"july":return 7;case"august":return 8;case"september":return 9;case"october":return 10;case"november":return 11;case"december":return 12;default:return!1}}function c(){switch(n.symbol){case"monday":case"tuesday":case"wednesday":case"thursday":case"friday":case"saturday":case"sunday":return n.symbol.substr(0,2).toUpperCase();default:return!1}}function u(){switch(n.symbol){case"last":return n.nextSymbol(),-1;case"first":return n.nextSymbol(),1;case"second":return n.nextSymbol(),n.accept("last")?-2:2;case"third":return n.nextSymbol(),n.accept("last")?-3:3;case"nth":var h=parseInt(n.value[1],10);if(h<-366||h>366)throw new Error("Nth out of range: "+h);return n.nextSymbol(),n.accept("last")?-h:h;default:return!1}}function d(){n.accept("on"),n.accept("the");var h=u();if(h)for(r.bymonthday=[h],n.nextSymbol();n.accept("comma");){if(h=u(),!h)throw new Error("Unexpected symbol "+n.symbol+"; expected monthday");r.bymonthday.push(h),n.nextSymbol()}}function f(){if(n.symbol==="until"){var h=Date.parse(n.text);if(!h)throw new Error("Cannot parse until date:"+n.text);r.until=new Date(h)}else n.accept("for")&&(r.count=parseInt(n.value[0],10),n.expect("number"))}}var Lt;(function(t){t[t.YEARLY=0]="YEARLY",t[t.MONTHLY=1]="MONTHLY",t[t.WEEKLY=2]="WEEKLY",t[t.DAILY=3]="DAILY",t[t.HOURLY=4]="HOURLY",t[t.MINUTELY=5]="MINUTELY",t[t.SECONDLY=6]="SECONDLY"})(Lt||(Lt={}));function m5(t){return t<Lt.HOURLY}var Moe=function(t,e){return e===void 0&&(e=jg),new lt(_4(t,e)||void 0)},fd=["count","until","interval","byweekday","bymonthday","bymonth"];Fs.IMPLEMENTED=[];Fs.IMPLEMENTED[Lt.HOURLY]=fd;Fs.IMPLEMENTED[Lt.MINUTELY]=fd;Fs.IMPLEMENTED[Lt.DAILY]=["byhour"].concat(fd);Fs.IMPLEMENTED[Lt.WEEKLY]=fd;Fs.IMPLEMENTED[Lt.MONTHLY]=fd;Fs.IMPLEMENTED[Lt.YEARLY]=["byweekno","byyearday"].concat(fd);var Roe=function(t,e,r,n){return new Fs(t,e,r,n).toString()},Loe=Fs.isFullyConvertible,Ag=function(){function t(e,r,n,a){this.hour=e,this.minute=r,this.second=n,this.millisecond=a||0}return t.prototype.getHours=function(){return this.hour},t.prototype.getMinutes=function(){return this.minute},t.prototype.getSeconds=function(){return this.second},t.prototype.getMilliseconds=function(){return this.millisecond},t.prototype.getTime=function(){return(this.hour*60*60+this.minute*60+this.second)*1e3+this.millisecond},t}(),Ioe=function(t){Rw(e,t);function e(r,n,a,i,s,o,c){var u=t.call(this,i,s,o,c)||this;return u.year=r,u.month=n,u.day=a,u}return e.fromDate=function(r){return new this(r.getUTCFullYear(),r.getUTCMonth()+1,r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.valueOf()%1e3)},e.prototype.getWeekday=function(){return Su(new Date(this.getTime()))},e.prototype.getTime=function(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond)).getTime()},e.prototype.getDay=function(){return this.day},e.prototype.getMonth=function(){return this.month},e.prototype.getYear=function(){return this.year},e.prototype.addYears=function(r){this.year+=r},e.prototype.addMonths=function(r){if(this.month+=r,this.month>12){var n=Math.floor(this.month/12),a=ka(this.month,12);this.month=a,this.year+=n,this.month===0&&(this.month=12,--this.year)}},e.prototype.addWeekly=function(r,n){n>this.getWeekday()?this.day+=-(this.getWeekday()+1+(6-n))+r*7:this.day+=-(this.getWeekday()-n)+r*7,this.fixDay()},e.prototype.addDaily=function(r){this.day+=r,this.fixDay()},e.prototype.addHours=function(r,n,a){for(n&&(this.hour+=Math.floor((23-this.hour)/r)*r);;){this.hour+=r;var i=Pb(this.hour,24),s=i.div,o=i.mod;if(s&&(this.hour=o,this.addDaily(s)),Wi(a)||er(a,this.hour))break}},e.prototype.addMinutes=function(r,n,a,i){for(n&&(this.minute+=Math.floor((1439-(this.hour*60+this.minute))/r)*r);;){this.minute+=r;var s=Pb(this.minute,60),o=s.div,c=s.mod;if(o&&(this.minute=c,this.addHours(o,!1,a)),(Wi(a)||er(a,this.hour))&&(Wi(i)||er(i,this.minute)))break}},e.prototype.addSeconds=function(r,n,a,i,s){for(n&&(this.second+=Math.floor((86399-(this.hour*3600+this.minute*60+this.second))/r)*r);;){this.second+=r;var o=Pb(this.second,60),c=o.div,u=o.mod;if(c&&(this.second=u,this.addMinutes(c,!1,a,i)),(Wi(a)||er(a,this.hour))&&(Wi(i)||er(i,this.minute))&&(Wi(s)||er(s,this.second)))break}},e.prototype.fixDay=function(){if(!(this.day<=28)){var r=t_(this.year,this.month-1)[1];if(!(this.day<=r))for(;this.day>r;){if(this.day-=r,++this.month,this.month===13&&(this.month=1,++this.year,this.year>w4))return;r=t_(this.year,this.month-1)[1]}}},e.prototype.add=function(r,n){var a=r.freq,i=r.interval,s=r.wkst,o=r.byhour,c=r.byminute,u=r.bysecond;switch(a){case Lt.YEARLY:return this.addYears(i);case Lt.MONTHLY:return this.addMonths(i);case Lt.WEEKLY:return this.addWeekly(i,s);case Lt.DAILY:return this.addDaily(i);case Lt.HOURLY:return this.addHours(i,n,o);case Lt.MINUTELY:return this.addMinutes(i,n,o,c);case Lt.SECONDLY:return this.addSeconds(i,n,o,c,u)}},e}(Ag);function E4(t){for(var e=[],r=Object.keys(t),n=0,a=r;n<a.length;n++){var i=a[n];er(hle,i)||e.push(i),N4(t[i])&&!vf(t[i])&&e.push(i)}if(e.length)throw new Error("Invalid options: "+e.join(", "));return gi({},t)}function $oe(t){var e=gi(gi({},g5),E4(t));if(Br(e.byeaster)&&(e.freq=lt.YEARLY),!(Br(e.freq)&&lt.FREQUENCIES[e.freq]))throw new Error("Invalid frequency: ".concat(e.freq," ").concat(t.freq));if(e.dtstart||(e.dtstart=new Date(new Date().setMilliseconds(0))),Br(e.wkst)?Bi(e.wkst)||(e.wkst=e.wkst.weekday):e.wkst=lt.MO.weekday,Br(e.bysetpos)){Bi(e.bysetpos)&&(e.bysetpos=[e.bysetpos]);for(var r=0;r<e.bysetpos.length;r++){var n=e.bysetpos[r];if(n===0||!(n>=-366&&n<=366))throw new Error("bysetpos must be between 1 and 366, or between -366 and -1")}}if(!(e.byweekno||sn(e.byweekno)||sn(e.byyearday)||e.bymonthday||sn(e.bymonthday)||Br(e.byweekday)||Br(e.byeaster)))switch(e.freq){case lt.YEARLY:e.bymonth||(e.bymonth=e.dtstart.getUTCMonth()+1),e.bymonthday=e.dtstart.getUTCDate();break;case lt.MONTHLY:e.bymonthday=e.dtstart.getUTCDate();break;case lt.WEEKLY:e.byweekday=[Su(e.dtstart)];break}if(Br(e.bymonth)&&!pa(e.bymonth)&&(e.bymonth=[e.bymonth]),Br(e.byyearday)&&!pa(e.byyearday)&&Bi(e.byyearday)&&(e.byyearday=[e.byyearday]),!Br(e.bymonthday))e.bymonthday=[],e.bynmonthday=[];else if(pa(e.bymonthday)){for(var a=[],i=[],r=0;r<e.bymonthday.length;r++){var n=e.bymonthday[r];n>0?a.push(n):n<0&&i.push(n)}e.bymonthday=a,e.bynmonthday=i}else e.bymonthday<0?(e.bynmonthday=[e.bymonthday],e.bymonthday=[]):(e.bynmonthday=[],e.bymonthday=[e.bymonthday]);if(Br(e.byweekno)&&!pa(e.byweekno)&&(e.byweekno=[e.byweekno]),!Br(e.byweekday))e.bynweekday=null;else if(Bi(e.byweekday))e.byweekday=[e.byweekday],e.bynweekday=null;else if(e_(e.byweekday))e.byweekday=[$n.fromStr(e.byweekday).weekday],e.bynweekday=null;else if(e.byweekday instanceof $n)!e.byweekday.n||e.freq>lt.MONTHLY?(e.byweekday=[e.byweekday.weekday],e.bynweekday=null):(e.bynweekday=[[e.byweekday.weekday,e.byweekday.n]],e.byweekday=null);else{for(var s=[],o=[],r=0;r<e.byweekday.length;r++){var c=e.byweekday[r];if(Bi(c)){s.push(c);continue}else if(e_(c)){s.push($n.fromStr(c).weekday);continue}!c.n||e.freq>lt.MONTHLY?s.push(c.weekday):o.push([c.weekday,c.n])}e.byweekday=sn(s)?s:null,e.bynweekday=sn(o)?o:null}return Br(e.byhour)?Bi(e.byhour)&&(e.byhour=[e.byhour]):e.byhour=e.freq<lt.HOURLY?[e.dtstart.getUTCHours()]:null,Br(e.byminute)?Bi(e.byminute)&&(e.byminute=[e.byminute]):e.byminute=e.freq<lt.MINUTELY?[e.dtstart.getUTCMinutes()]:null,Br(e.bysecond)?Bi(e.bysecond)&&(e.bysecond=[e.bysecond]):e.bysecond=e.freq<lt.SECONDLY?[e.dtstart.getUTCSeconds()]:null,{parsedOptions:e}}function Foe(t){var e=t.dtstart.getTime()%1e3;if(!m5(t.freq))return[];var r=[];return t.byhour.forEach(function(n){t.byminute.forEach(function(a){t.bysecond.forEach(function(i){r.push(new Ag(n,a,i,e))})})}),r}function i1(t){var e=t.split(`
`).map(Boe).filter(function(r){return r!==null});return gi(gi({},e[0]),e[1])}function _g(t){var e={},r=/DTSTART(?:;TZID=([^:=]+?))?(?::|=)([^;\s]+)/i.exec(t);if(!r)return e;var n=r[1],a=r[2];return n&&(e.tzid=n),e.dtstart=p5(a),e}function Boe(t){if(t=t.replace(/^\s+|\s+$/,""),!t.length)return null;var e=/^([A-Z]+?)[:;]/.exec(t.toUpperCase());if(!e)return s_(t);var r=e[1];switch(r.toUpperCase()){case"RRULE":case"EXRULE":return s_(t);case"DTSTART":return _g(t);default:throw new Error("Unsupported RFC prop ".concat(r," in ").concat(t))}}function s_(t){var e=t.replace(/^RRULE:/i,""),r=_g(e),n=t.replace(/^(?:RRULE|EXRULE):/i,"").split(";");return n.forEach(function(a){var i=a.split("="),s=i[0],o=i[1];switch(s.toUpperCase()){case"FREQ":r.freq=Lt[o.toUpperCase()];break;case"WKST":r.wkst=oi[o.toUpperCase()];break;case"COUNT":case"INTERVAL":case"BYSETPOS":case"BYMONTH":case"BYMONTHDAY":case"BYYEARDAY":case"BYWEEKNO":case"BYHOUR":case"BYMINUTE":case"BYSECOND":var c=Uoe(o),u=s.toLowerCase();r[u]=c;break;case"BYWEEKDAY":case"BYDAY":r.byweekday=zoe(o);break;case"DTSTART":case"TZID":var d=_g(t);r.tzid=d.tzid,r.dtstart=d.dtstart;break;case"UNTIL":r.until=p5(o);break;case"BYEASTER":r.byeaster=Number(o);break;default:throw new Error("Unknown RRULE property '"+s+"'")}}),r}function Uoe(t){if(t.indexOf(",")!==-1){var e=t.split(",");return e.map(o_)}return o_(t)}function o_(t){return/^[+-]?\d+$/.test(t)?Number(t):t}function zoe(t){var e=t.split(",");return e.map(function(r){if(r.length===2)return oi[r];var n=r.match(/^([+-]?\d{1,2})([A-Z]{2})$/);if(!n||n.length<3)throw new SyntaxError("Invalid weekday string: ".concat(r));var a=Number(n[1]),i=n[2],s=oi[i].weekday;return new $n(s,a)})}var Eg=function(){function t(e,r){if(isNaN(e.getTime()))throw new RangeError("Invalid date passed to DateWithZone");this.date=e,this.tzid=r}return Object.defineProperty(t.prototype,"isUTC",{get:function(){return!this.tzid||this.tzid.toUpperCase()==="UTC"},enumerable:!1,configurable:!0}),t.prototype.toString=function(){var e=h5(this.date.getTime(),this.isUTC);return this.isUTC?":".concat(e):";TZID=".concat(this.tzid,":").concat(e)},t.prototype.getTime=function(){return this.date.getTime()},t.prototype.rezonedDate=function(){return this.isUTC?this.date:Toe(this.date,this.tzid)},t}();function s1(t){for(var e=[],r="",n=Object.keys(t),a=Object.keys(g5),i=0;i<n.length;i++)if(n[i]!=="tzid"&&er(a,n[i])){var s=n[i].toUpperCase(),o=t[n[i]],c="";if(!(!Br(o)||pa(o)&&!o.length)){switch(s){case"FREQ":c=lt.FREQUENCIES[t.freq];break;case"WKST":Bi(o)?c=new $n(o).toString():c=o.toString();break;case"BYWEEKDAY":s="BYDAY",c=joe(o).map(function(p){return p instanceof $n?p:pa(p)?new $n(p[0],p[1]):new $n(p)}).toString();break;case"DTSTART":r=Woe(o,t.tzid);break;case"UNTIL":c=h5(o,!t.tzid);break;default:if(pa(o)){for(var u=[],d=0;d<o.length;d++)u[d]=String(o[d]);c=u.toString()}else c=String(o)}c&&e.push([s,c])}}var f=e.map(function(p){var g=p[0],m=p[1];return"".concat(g,"=").concat(m.toString())}).join(";"),h="";return f!==""&&(h="RRULE:".concat(f)),[r,h].filter(function(p){return!!p}).join(`
`)}function Woe(t,e){return t?"DTSTART"+new Eg(new Date(t),e).toString():""}function Hoe(t,e){return Array.isArray(t)?!Array.isArray(e)||t.length!==e.length?!1:t.every(function(r,n){return r.getTime()===e[n].getTime()}):t instanceof Date?e instanceof Date&&t.getTime()===e.getTime():t===e}var qoe=function(){function t(){this.all=!1,this.before=[],this.after=[],this.between=[]}return t.prototype._cacheAdd=function(e,r,n){r&&(r=r instanceof Date?a1(r):r_(r)),e==="all"?this.all=r:(n._value=r,this[e].push(n))},t.prototype._cacheGet=function(e,r){var n=!1,a=r?Object.keys(r):[],i=function(d){for(var f=0;f<a.length;f++){var h=a[f];if(!Hoe(r[h],d[h]))return!0}return!1},s=this[e];if(e==="all")n=this.all;else if(pa(s))for(var o=0;o<s.length;o++){var c=s[o];if(!(a.length&&i(c))){n=c._value;break}}if(!n&&this.all){for(var u=new Yc(e,r),o=0;o<this.all.length&&u.accept(this.all[o]);o++);n=u.getValue(),this._cacheAdd(e,n,r)}return pa(n)?r_(n):n instanceof Date?a1(n):n},t}(),Goe=Be(Be(Be(Be(Be(Be(Be(Be(Be(Be(Be(Be(Be([],Rt(1,31),!0),Rt(2,28),!0),Rt(3,31),!0),Rt(4,30),!0),Rt(5,31),!0),Rt(6,30),!0),Rt(7,31),!0),Rt(8,31),!0),Rt(9,30),!0),Rt(10,31),!0),Rt(11,30),!0),Rt(12,31),!0),Rt(1,7),!0),Voe=Be(Be(Be(Be(Be(Be(Be(Be(Be(Be(Be(Be(Be([],Rt(1,31),!0),Rt(2,29),!0),Rt(3,31),!0),Rt(4,30),!0),Rt(5,31),!0),Rt(6,30),!0),Rt(7,31),!0),Rt(8,31),!0),Rt(9,30),!0),Rt(10,31),!0),Rt(11,30),!0),Rt(12,31),!0),Rt(1,7),!0),Yoe=as(1,29),Koe=as(1,30),po=as(1,31),jn=as(1,32),Xoe=Be(Be(Be(Be(Be(Be(Be(Be(Be(Be(Be(Be(Be([],jn,!0),Koe,!0),jn,!0),po,!0),jn,!0),po,!0),jn,!0),jn,!0),po,!0),jn,!0),po,!0),jn,!0),jn.slice(0,7),!0),Zoe=Be(Be(Be(Be(Be(Be(Be(Be(Be(Be(Be(Be(Be([],jn,!0),Yoe,!0),jn,!0),po,!0),jn,!0),po,!0),jn,!0),jn,!0),po,!0),jn,!0),po,!0),jn,!0),jn.slice(0,7),!0),Qoe=as(-28,0),Joe=as(-29,0),mo=as(-30,0),An=as(-31,0),ele=Be(Be(Be(Be(Be(Be(Be(Be(Be(Be(Be(Be(Be([],An,!0),Joe,!0),An,!0),mo,!0),An,!0),mo,!0),An,!0),An,!0),mo,!0),An,!0),mo,!0),An,!0),An.slice(0,7),!0),tle=Be(Be(Be(Be(Be(Be(Be(Be(Be(Be(Be(Be(Be([],An,!0),Qoe,!0),An,!0),mo,!0),An,!0),mo,!0),An,!0),An,!0),mo,!0),An,!0),mo,!0),An,!0),An.slice(0,7),!0),rle=[0,31,60,91,121,152,182,213,244,274,305,335,366],nle=[0,31,59,90,120,151,181,212,243,273,304,334,365],l_=function(){for(var t=[],e=0;e<55;e++)t=t.concat(as(7));return t}();function ale(t,e){var r=zl(t,1,1),n=Ef(t)?366:365,a=Ef(t+1)?366:365,i=n1(r),s=Su(r),o=gi(gi({yearlen:n,nextyearlen:a,yearordinal:i,yearweekday:s},ile(t)),{wnomask:null});if(Wi(e.byweekno))return o;o.wnomask=Rt(0,n+7);var c,u,d=c=ka(7-s+e.wkst,7);d>=4?(d=0,u=o.yearlen+ka(s-e.wkst,7)):u=n-d;for(var f=Math.floor(u/7),h=ka(u,7),p=Math.floor(f+h/4),g=0;g<e.byweekno.length;g++){var m=e.byweekno[g];if(m<0&&(m+=p+1),m>0&&m<=p){var y=void 0;m>1?(y=d+(m-1)*7,d!==c&&(y-=7-c)):y=d;for(var b=0;b<7&&(o.wnomask[y]=1,y++,o.wdaymask[y]!==e.wkst);b++);}}if(er(e.byweekno,1)){var y=d+p*7;if(d!==c&&(y-=7-c),y<n)for(var g=0;g<7&&(o.wnomask[y]=1,y+=1,o.wdaymask[y]!==e.wkst);g++);}if(d){var x=void 0;if(er(e.byweekno,-1))x=-1;else{var N=Su(zl(t-1,1,1)),A=ka(7-N.valueOf()+e.wkst,7),w=Ef(t-1)?366:365,j=void 0;A>=4?(A=0,j=w+ka(N-e.wkst,7)):j=n-d,x=Math.floor(52+ka(j,7)/4)}if(er(e.byweekno,x))for(var y=0;y<d;y++)o.wnomask[y]=1}return o}function ile(t){var e=Ef(t)?366:365,r=zl(t,1,1),n=Su(r);return e===365?{mmask:Goe,mdaymask:Zoe,nmdaymask:tle,wdaymask:l_.slice(n),mrange:nle}:{mmask:Voe,mdaymask:Xoe,nmdaymask:ele,wdaymask:l_.slice(n),mrange:rle}}function sle(t,e,r,n,a,i){var s={lastyear:t,lastmonth:e,nwdaymask:[]},o=[];if(i.freq===lt.YEARLY)if(Wi(i.bymonth))o=[[0,r]];else for(var c=0;c<i.bymonth.length;c++)e=i.bymonth[c],o.push(n.slice(e-1,e+1));else i.freq===lt.MONTHLY&&(o=[n.slice(e-1,e+1)]);if(Wi(o))return s;s.nwdaymask=Rt(0,r);for(var c=0;c<o.length;c++)for(var u=o[c],d=u[0],f=u[1]-1,h=0;h<i.bynweekday.length;h++){var p=void 0,g=i.bynweekday[h],m=g[0],y=g[1];y<0?(p=f+(y+1)*7,p-=ka(a[p]-m,7)):(p=d+(y-1)*7,p+=ka(7-a[p]+m,7)),d<=p&&p<=f&&(s.nwdaymask[p]=1)}return s}function ole(t,e){e===void 0&&(e=0);var r=t%19,n=Math.floor(t/100),a=t%100,i=Math.floor(n/4),s=n%4,o=Math.floor((n+8)/25),c=Math.floor((n-o+1)/3),u=Math.floor(19*r+n-i-c+15)%30,d=Math.floor(a/4),f=a%4,h=Math.floor(32+2*s+2*d-u-f)%7,p=Math.floor((r+11*u+22*h)/451),g=Math.floor((u+h-7*p+114)/31),m=(u+h-7*p+114)%31+1,y=Date.UTC(t,g-1,m+e),b=Date.UTC(t,0,1);return[Math.ceil((y-b)/(1e3*60*60*24))]}var lle=function(){function t(e){this.options=e}return t.prototype.rebuild=function(e,r){var n=this.options;if(e!==this.lastyear&&(this.yearinfo=ale(e,n)),sn(n.bynweekday)&&(r!==this.lastmonth||e!==this.lastyear)){var a=this.yearinfo,i=a.yearlen,s=a.mrange,o=a.wdaymask;this.monthinfo=sle(e,r,i,s,o,n)}Br(n.byeaster)&&(this.eastermask=ole(e,n.byeaster))},Object.defineProperty(t.prototype,"lastyear",{get:function(){return this.monthinfo?this.monthinfo.lastyear:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastmonth",{get:function(){return this.monthinfo?this.monthinfo.lastmonth:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"yearlen",{get:function(){return this.yearinfo.yearlen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"yearordinal",{get:function(){return this.yearinfo.yearordinal},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mrange",{get:function(){return this.yearinfo.mrange},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wdaymask",{get:function(){return this.yearinfo.wdaymask},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mmask",{get:function(){return this.yearinfo.mmask},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wnomask",{get:function(){return this.yearinfo.wnomask},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nwdaymask",{get:function(){return this.monthinfo?this.monthinfo.nwdaymask:[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextyearlen",{get:function(){return this.yearinfo.nextyearlen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mdaymask",{get:function(){return this.yearinfo.mdaymask},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nmdaymask",{get:function(){return this.yearinfo.nmdaymask},enumerable:!1,configurable:!0}),t.prototype.ydayset=function(){return[as(this.yearlen),0,this.yearlen]},t.prototype.mdayset=function(e,r){for(var n=this.mrange[r-1],a=this.mrange[r],i=Rt(null,this.yearlen),s=n;s<a;s++)i[s]=s;return[i,n,a]},t.prototype.wdayset=function(e,r,n){for(var a=Rt(null,this.yearlen+7),i=n1(zl(e,r,n))-this.yearordinal,s=i,o=0;o<7&&(a[i]=i,++i,this.wdaymask[i]!==this.options.wkst);o++);return[a,s,i]},t.prototype.ddayset=function(e,r,n){var a=Rt(null,this.yearlen),i=n1(zl(e,r,n))-this.yearordinal;return a[i]=i,[a,i,i+1]},t.prototype.htimeset=function(e,r,n,a){var i=this,s=[];return this.options.byminute.forEach(function(o){s=s.concat(i.mtimeset(e,o,n,a))}),oh(s),s},t.prototype.mtimeset=function(e,r,n,a){var i=this.options.bysecond.map(function(s){return new Ag(e,r,s,a)});return oh(i),i},t.prototype.stimeset=function(e,r,n,a){return[new Ag(e,r,n,a)]},t.prototype.getdayset=function(e){switch(e){case Lt.YEARLY:return this.ydayset.bind(this);case Lt.MONTHLY:return this.mdayset.bind(this);case Lt.WEEKLY:return this.wdayset.bind(this);case Lt.DAILY:return this.ddayset.bind(this);default:return this.ddayset.bind(this)}},t.prototype.gettimeset=function(e){switch(e){case Lt.HOURLY:return this.htimeset.bind(this);case Lt.MINUTELY:return this.mtimeset.bind(this);case Lt.SECONDLY:return this.stimeset.bind(this)}},t}();function cle(t,e,r,n,a,i){for(var s=[],o=0;o<t.length;o++){var c=void 0,u=void 0,d=t[o];d<0?(c=Math.floor(d/e.length),u=ka(d,e.length)):(c=Math.floor((d-1)/e.length),u=ka(d-1,e.length));for(var f=[],h=r;h<n;h++){var p=i[h];Br(p)&&f.push(p)}var g=void 0;c<0?g=f.slice(c)[0]:g=f[c];var m=e[u],y=j4(a.yearordinal+g),b=A4(y,m);er(s,b)||s.push(b)}return oh(s),s}function O4(t,e){var r=e.dtstart,n=e.freq,a=e.interval,i=e.until,s=e.bysetpos,o=e.count;if(o===0||a===0)return bs(t);var c=Ioe.fromDate(r),u=new lle(e);u.rebuild(c.year,c.month);for(var d=fle(u,c,e);;){var f=u.getdayset(n)(c.year,c.month,c.day),h=f[0],p=f[1],g=f[2],m=dle(h,p,g,u,e);if(sn(s))for(var y=cle(s,d,p,g,u,h),b=0;b<y.length;b++){var x=y[b];if(i&&x>i)return bs(t);if(x>=r){var N=c_(x,e);if(!t.accept(N)||o&&(--o,!o))return bs(t)}}else for(var b=p;b<g;b++){var A=h[b];if(Br(A))for(var w=j4(u.yearordinal+A),j=0;j<d.length;j++){var E=d[j],x=A4(w,E);if(i&&x>i)return bs(t);if(x>=r){var N=c_(x,e);if(!t.accept(N)||o&&(--o,!o))return bs(t)}}}if(e.interval===0||(c.add(e,m),c.year>w4))return bs(t);m5(n)||(d=u.gettimeset(n)(c.hour,c.minute,c.second,0)),u.rebuild(c.year,c.month)}}function ule(t,e,r){var n=r.bymonth,a=r.byweekno,i=r.byweekday,s=r.byeaster,o=r.bymonthday,c=r.bynmonthday,u=r.byyearday;return sn(n)&&!er(n,t.mmask[e])||sn(a)&&!t.wnomask[e]||sn(i)&&!er(i,t.wdaymask[e])||sn(t.nwdaymask)&&!t.nwdaymask[e]||s!==null&&!er(t.eastermask,e)||(sn(o)||sn(c))&&!er(o,t.mdaymask[e])&&!er(c,t.nmdaymask[e])||sn(u)&&(e<t.yearlen&&!er(u,e+1)&&!er(u,-t.yearlen+e)||e>=t.yearlen&&!er(u,e+1-t.yearlen)&&!er(u,-t.nextyearlen+e-t.yearlen))}function c_(t,e){return new Eg(t,e.tzid).rezonedDate()}function bs(t){return t.getValue()}function dle(t,e,r,n,a){for(var i=!1,s=e;s<r;s++){var o=t[s];i=ule(n,o,a),i&&(t[o]=null)}return i}function fle(t,e,r){var n=r.freq,a=r.byhour,i=r.byminute,s=r.bysecond;return m5(n)?Foe(r):n>=lt.HOURLY&&sn(a)&&!er(a,e.hour)||n>=lt.MINUTELY&&sn(i)&&!er(i,e.minute)||n>=lt.SECONDLY&&sn(s)&&!er(s,e.second)?[]:t.gettimeset(n)(e.hour,e.minute,e.second,e.millisecond)}var oi={MO:new $n(0),TU:new $n(1),WE:new $n(2),TH:new $n(3),FR:new $n(4),SA:new $n(5),SU:new $n(6)},g5={freq:Lt.YEARLY,dtstart:null,interval:1,wkst:oi.MO,count:null,until:null,tzid:null,bysetpos:null,bymonth:null,bymonthday:null,bynmonthday:null,byyearday:null,byweekno:null,byweekday:null,bynweekday:null,byhour:null,byminute:null,bysecond:null,byeaster:null},hle=Object.keys(g5),lt=function(){function t(e,r){e===void 0&&(e={}),r===void 0&&(r=!1),this._cache=r?null:new qoe,this.origOptions=E4(e);var n=$oe(e).parsedOptions;this.options=n}return t.parseText=function(e,r){return _4(e,r)},t.fromText=function(e,r){return Moe(e,r)},t.fromString=function(e){return new t(t.parseString(e)||void 0)},t.prototype._iter=function(e){return O4(e,this.options)},t.prototype._cacheGet=function(e,r){return this._cache?this._cache._cacheGet(e,r):!1},t.prototype._cacheAdd=function(e,r,n){if(this._cache)return this._cache._cacheAdd(e,r,n)},t.prototype.all=function(e){if(e)return this._iter(new a_("all",{},e));var r=this._cacheGet("all");return r===!1&&(r=this._iter(new Yc("all",{})),this._cacheAdd("all",r)),r},t.prototype.between=function(e,r,n,a){if(n===void 0&&(n=!1),!vf(e)||!vf(r))throw new Error("Invalid date passed in to RRule.between");var i={before:r,after:e,inc:n};if(a)return this._iter(new a_("between",i,a));var s=this._cacheGet("between",i);return s===!1&&(s=this._iter(new Yc("between",i)),this._cacheAdd("between",s,i)),s},t.prototype.before=function(e,r){if(r===void 0&&(r=!1),!vf(e))throw new Error("Invalid date passed in to RRule.before");var n={dt:e,inc:r},a=this._cacheGet("before",n);return a===!1&&(a=this._iter(new Yc("before",n)),this._cacheAdd("before",a,n)),a},t.prototype.after=function(e,r){if(r===void 0&&(r=!1),!vf(e))throw new Error("Invalid date passed in to RRule.after");var n={dt:e,inc:r},a=this._cacheGet("after",n);return a===!1&&(a=this._iter(new Yc("after",n)),this._cacheAdd("after",a,n)),a},t.prototype.count=function(){return this.all().length},t.prototype.toString=function(){return s1(this.origOptions)},t.prototype.toText=function(e,r,n){return Roe(this,e,r,n)},t.prototype.isFullyConvertibleToText=function(){return Loe(this)},t.prototype.clone=function(){return new t(this.origOptions)},t.FREQUENCIES=["YEARLY","MONTHLY","WEEKLY","DAILY","HOURLY","MINUTELY","SECONDLY"],t.YEARLY=Lt.YEARLY,t.MONTHLY=Lt.MONTHLY,t.WEEKLY=Lt.WEEKLY,t.DAILY=Lt.DAILY,t.HOURLY=Lt.HOURLY,t.MINUTELY=Lt.MINUTELY,t.SECONDLY=Lt.SECONDLY,t.MO=oi.MO,t.TU=oi.TU,t.WE=oi.WE,t.TH=oi.TH,t.FR=oi.FR,t.SA=oi.SA,t.SU=oi.SU,t.parseString=i1,t.optionsToString=s1,t}();function ple(t,e,r,n,a,i){var s={},o=t.accept;function c(h,p){r.forEach(function(g){g.between(h,p,!0).forEach(function(m){s[Number(m)]=!0})})}a.forEach(function(h){var p=new Eg(h,i).rezonedDate();s[Number(p)]=!0}),t.accept=function(h){var p=Number(h);return isNaN(p)?o.call(this,h):!s[p]&&(c(new Date(p-1),new Date(p+1)),!s[p])?(s[p]=!0,o.call(this,h)):!0},t.method==="between"&&(c(t.args.after,t.args.before),t.accept=function(h){var p=Number(h);return s[p]?!0:(s[p]=!0,o.call(this,h))});for(var u=0;u<n.length;u++){var d=new Eg(n[u],i).rezonedDate();if(!t.accept(new Date(d.getTime())))break}e.forEach(function(h){O4(t,h.options)});var f=t._result;switch(oh(f),t.method){case"all":case"between":return f;case"before":return f.length&&f[f.length-1]||null;case"after":default:return f.length&&f[0]||null}}var u_={dtstart:null,cache:!1,unfold:!1,forceset:!1,compatible:!1,tzid:null};function mle(t,e){var r=[],n=[],a=[],i=[],s=_g(t),o=s.dtstart,c=s.tzid,u=xle(t,e.unfold);return u.forEach(function(d){var f;if(d){var h=ble(d),p=h.name,g=h.parms,m=h.value;switch(p.toUpperCase()){case"RRULE":if(g.length)throw new Error("unsupported RRULE parm: ".concat(g.join(",")));r.push(i1(d));break;case"RDATE":var y=(f=/RDATE(?:;TZID=([^:=]+))?/i.exec(d))!==null&&f!==void 0?f:[],b=y[1];b&&!c&&(c=b),n=n.concat(d_(m,g));break;case"EXRULE":if(g.length)throw new Error("unsupported EXRULE parm: ".concat(g.join(",")));a.push(i1(m));break;case"EXDATE":i=i.concat(d_(m,g));break;case"DTSTART":break;default:throw new Error("unsupported property: "+p)}}}),{dtstart:o,tzid:c,rrulevals:r,rdatevals:n,exrulevals:a,exdatevals:i}}function gle(t,e){var r=mle(t,e),n=r.rrulevals,a=r.rdatevals,i=r.exrulevals,s=r.exdatevals,o=r.dtstart,c=r.tzid,u=e.cache===!1;if(e.compatible&&(e.forceset=!0,e.unfold=!0),e.forceset||n.length>1||a.length||i.length||s.length){var d=new C4(u);return d.dtstart(o),d.tzid(c||void 0),n.forEach(function(h){d.rrule(new lt(Db(h,o,c),u))}),a.forEach(function(h){d.rdate(h)}),i.forEach(function(h){d.exrule(new lt(Db(h,o,c),u))}),s.forEach(function(h){d.exdate(h)}),e.compatible&&e.dtstart&&d.rdate(o),d}var f=n[0]||{};return new lt(Db(f,f.dtstart||e.dtstart||o,f.tzid||e.tzid||c),u)}function o1(t,e){return e===void 0&&(e={}),gle(t,vle(e))}function Db(t,e,r){return gi(gi({},t),{dtstart:e,tzid:r})}function vle(t){var e=[],r=Object.keys(t),n=Object.keys(u_);if(r.forEach(function(a){er(n,a)||e.push(a)}),e.length)throw new Error("Invalid options: "+e.join(", "));return gi(gi({},u_),t)}function yle(t){if(t.indexOf(":")===-1)return{name:"RRULE",value:t};var e=Aoe(t,":",1),r=e[0],n=e[1];return{name:r,value:n}}function ble(t){var e=yle(t),r=e.name,n=e.value,a=r.split(";");if(!a)throw new Error("empty property name");return{name:a[0].toUpperCase(),parms:a.slice(1),value:n}}function xle(t,e){if(e===void 0&&(e=!1),t=t&&t.trim(),!t)throw new Error("Invalid empty string");if(!e)return t.split(/\s/);for(var r=t.split(`
`),n=0;n<r.length;){var a=r[n]=r[n].replace(/\s+$/g,"");a?n>0&&a[0]===" "?(r[n-1]+=a.slice(1),r.splice(n,1)):n+=1:r.splice(n,1)}return r}function wle(t){t.forEach(function(e){if(!/(VALUE=DATE(-TIME)?)|(TZID=)/.test(e))throw new Error("unsupported RDATE/EXDATE parm: "+e)})}function d_(t,e){return wle(e),t.split(",").map(function(r){return p5(r)})}function f_(t){var e=this;return function(r){if(r!==void 0&&(e["_".concat(t)]=r),e["_".concat(t)]!==void 0)return e["_".concat(t)];for(var n=0;n<e._rrule.length;n++){var a=e._rrule[n].origOptions[t];if(a)return a}}}var C4=function(t){Rw(e,t);function e(r){r===void 0&&(r=!1);var n=t.call(this,{},r)||this;return n.dtstart=f_.apply(n,["dtstart"]),n.tzid=f_.apply(n,["tzid"]),n._rrule=[],n._rdate=[],n._exrule=[],n._exdate=[],n}return e.prototype._iter=function(r){return ple(r,this._rrule,this._exrule,this._rdate,this._exdate,this.tzid())},e.prototype.rrule=function(r){h_(r,this._rrule)},e.prototype.exrule=function(r){h_(r,this._exrule)},e.prototype.rdate=function(r){p_(r,this._rdate)},e.prototype.exdate=function(r){p_(r,this._exdate)},e.prototype.rrules=function(){return this._rrule.map(function(r){return o1(r.toString())})},e.prototype.exrules=function(){return this._exrule.map(function(r){return o1(r.toString())})},e.prototype.rdates=function(){return this._rdate.map(function(r){return new Date(r.getTime())})},e.prototype.exdates=function(){return this._exdate.map(function(r){return new Date(r.getTime())})},e.prototype.valueOf=function(){var r=[];return!this._rrule.length&&this._dtstart&&(r=r.concat(s1({dtstart:this._dtstart}))),this._rrule.forEach(function(n){r=r.concat(n.toString().split(`
`))}),this._exrule.forEach(function(n){r=r.concat(n.toString().split(`
`).map(function(a){return a.replace(/^RRULE:/,"EXRULE:")}).filter(function(a){return!/^DTSTART/.test(a)}))}),this._rdate.length&&r.push(m_("RDATE",this._rdate,this.tzid())),this._exdate.length&&r.push(m_("EXDATE",this._exdate,this.tzid())),r},e.prototype.toString=function(){return this.valueOf().join(`
`)},e.prototype.clone=function(){var r=new e(!!this._cache);return this._rrule.forEach(function(n){return r.rrule(n.clone())}),this._exrule.forEach(function(n){return r.exrule(n.clone())}),this._rdate.forEach(function(n){return r.rdate(new Date(n.getTime()))}),this._exdate.forEach(function(n){return r.exdate(new Date(n.getTime()))}),r},e}(lt);function h_(t,e){if(!(t instanceof lt))throw new TypeError(String(t)+" is not RRule instance");er(e.map(String),String(t))||e.push(t)}function p_(t,e){if(!(t instanceof Date))throw new TypeError(String(t)+" is not Date instance");er(e.map(Number),Number(t))||(e.push(t),oh(e))}function m_(t,e,r){var n=!r||r.toUpperCase()==="UTC",a=n?"".concat(t,":"):"".concat(t,";TZID=").concat(r,":"),i=e.map(function(s){return h5(s.valueOf(),n)}).join(",");return"".concat(a).concat(i)}const Sle={parse(t,e){if(t.rrule!=null){let r=Nle(t,e);if(r)return{typeData:{rruleSet:r.rruleSet,dateEnv:r.isTimeZoneSpecified?void 0:e},allDayGuess:!r.isTimeSpecified,duration:t.duration}}return null},expand(t,e,r){return t.rruleSet.between(Hr(e.start,-1),Hr(e.end,1)).map(n=>r.createMarker(t.dateEnv?t.dateEnv.toDate(n):n))}};function Nle(t,e){let r,n=!1,a=!1;if(typeof t.rrule=="string"){let o=jle(t.rrule);r=o.rruleSet,n=o.isTimeSpecified,a=o.isTimeZoneSpecified}if(typeof t.rrule=="object"&&t.rrule){let o=g_(t.rrule,e);r=new C4,r.rrule(o.rrule),n=o.isTimeSpecified,a=o.isTimeZoneSpecified}let i=[].concat(t.exdate||[]),s=[].concat(t.exrule||[]);for(let o of i){let c=sy(o);n=n||!c.isTimeUnspecified,a=a||c.timeZoneOffset!==null,r.exdate(new Date(c.marker.valueOf()-(c.timeZoneOffset||0)*60*1e3))}for(let o of s){let c=g_(o,e);n=n||c.isTimeSpecified,a=a||c.isTimeZoneSpecified,r.exrule(c.rrule)}return{rruleSet:r,isTimeSpecified:n,isTimeZoneSpecified:a}}function g_(t,e){let r=!1,n=!1;function a(s){if(typeof s=="string"){let o=sy(s);return o?(r=r||!o.isTimeUnspecified,n=n||o.timeZoneOffset!==null,new Date(o.marker.valueOf()-(o.timeZoneOffset||0)*60*1e3)):null}return s}let i=Object.assign(Object.assign({},t),{dtstart:a(t.dtstart),until:a(t.until),freq:Og(t.freq),wkst:t.wkst==null?(e.weekDow-1+7)%7:Og(t.wkst),byweekday:_le(t.byweekday)});return{rrule:new lt(i),isTimeSpecified:r,isTimeZoneSpecified:n}}function jle(t){let e=o1(t,{forceset:!0}),r=Ale(t);return Object.assign({rruleSet:e},r)}function Ale(t){let e=!1,r=!1;function n(a,i,s){let o=sy(s);e=e||!o.isTimeUnspecified,r=r||o.timeZoneOffset!==null}return t.replace(/\b(DTSTART:)([^\n]*)/,n),t.replace(/\b(EXDATE:)([^\n]*)/,n),t.replace(/\b(UNTIL=)([^;\n]*)/,n),{isTimeSpecified:e,isTimeZoneSpecified:r}}function _le(t){return Array.isArray(t)?t.map(Og):Og(t)}function Og(t){return typeof t=="string"?lt[t.toUpperCase()]:t}const Ele={rrule:Se,exrule:Se,exdate:Se,duration:Et};var Ole=ji({name:"@fullcalendar/rrule",recurringTypes:[Sle],eventRefiners:Ele});class Cle extends $t{constructor(){super(...arguments),this.state={textId:xo()}}render(){let{theme:e,dateEnv:r,options:n,viewApi:a}=this.context,{cellId:i,dayDate:s,todayRange:o}=this.props,{textId:c}=this.state,u=J2(s,o),d=n.listDayFormat?r.format(s,n.listDayFormat):"",f=n.listDaySideFormat?r.format(s,n.listDaySideFormat):"",h=Object.assign({date:r.toDate(s),view:a,textId:c,text:d,sideText:f,navLinkAttrs:xu(this.context,s),sideNavLinkAttrs:xu(this.context,s,"day",!1)},u);return ie(Pn,{elTag:"tr",elClasses:["fc-list-day",...uy(u,e)],elAttrs:{"data-date":Jh(s)},renderProps:h,generatorName:"dayHeaderContent",customGenerator:n.dayHeaderContent,defaultGenerator:Tle,classNameGenerator:n.dayHeaderClassNames,didMount:n.dayHeaderDidMount,willUnmount:n.dayHeaderWillUnmount},p=>ie("th",{scope:"colgroup",colSpan:3,id:i,"aria-labelledby":c},ie(p,{elTag:"div",elClasses:["fc-list-day-cushion",e.getClass("tableCellShaded")]})))}}function Tle(t){return ie(Xt,null,t.text&&ie("a",Object.assign({id:t.textId,className:"fc-list-day-text"},t.navLinkAttrs),t.text),t.sideText&&ie("a",Object.assign({"aria-hidden":!0,className:"fc-list-day-side-text"},t.sideNavLinkAttrs),t.sideText))}const kle=mr({hour:"numeric",minute:"2-digit",meridiem:"short"});class Ple extends $t{render(){let{props:e,context:r}=this,{options:n}=r,{seg:a,timeHeaderId:i,eventHeaderId:s,dateHeaderId:o}=e,c=n.eventTimeFormat||kle;return ie(dy,Object.assign({},e,{elTag:"tr",elClasses:["fc-list-event",a.eventRange.def.url&&"fc-event-forced-url"],defaultGenerator:()=>Dle(a,r),seg:a,timeText:"",disableDragging:!0,disableResizing:!0}),(u,d)=>ie(Xt,null,Mle(a,c,r,i,o),ie("td",{"aria-hidden":!0,className:"fc-list-event-graphic"},ie("span",{className:"fc-list-event-dot",style:{borderColor:d.borderColor||d.backgroundColor}})),ie(u,{elTag:"td",elClasses:["fc-list-event-title"],elAttrs:{headers:`${s} ${o}`}})))}}function Dle(t,e){let r=Z2(t,e);return ie("a",Object.assign({},r),t.eventRange.def.title)}function Mle(t,e,r,n,a){let{options:i}=r;if(i.displayEventTime!==!1){let s=t.eventRange.def,o=t.eventRange.instance,c=!1,u;if(s.allDay?c=!0:vre(t.eventRange.range)?t.isStart?u=_f(t,e,r,null,null,o.range.start,t.end):t.isEnd?u=_f(t,e,r,null,null,t.start,o.range.end):c=!0:u=_f(t,e,r),c){let d={text:r.options.allDayText,view:r.viewApi};return ie(Pn,{elTag:"td",elClasses:["fc-list-event-time"],elAttrs:{headers:`${n} ${a}`},renderProps:d,generatorName:"allDayContent",customGenerator:i.allDayContent,defaultGenerator:Rle,classNameGenerator:i.allDayClassNames,didMount:i.allDayDidMount,willUnmount:i.allDayWillUnmount})}return ie("td",{className:"fc-list-event-time"},u)}return null}function Rle(t){return t.text}class Lle extends Ni{constructor(){super(...arguments),this.computeDateVars=rt($le),this.eventStoreToSegs=rt(this._eventStoreToSegs),this.state={timeHeaderId:xo(),eventHeaderId:xo(),dateHeaderIdRoot:xo()},this.setRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e}):this.context.unregisterInteractiveComponent(this)}}render(){let{props:e,context:r}=this,{dayDates:n,dayRanges:a}=this.computeDateVars(e.dateProfile),i=this.eventStoreToSegs(e.eventStore,e.eventUiBases,a);return ie(th,{elRef:this.setRootEl,elClasses:["fc-list",r.theme.getClass("table"),r.options.stickyHeaderDates!==!1?"fc-list-sticky":""],viewSpec:r.viewSpec},ie(R3,{liquid:!e.isHeightAuto,overflowX:e.isHeightAuto?"visible":"hidden",overflowY:e.isHeightAuto?"visible":"auto"},i.length>0?this.renderSegList(i,n):this.renderEmptyMessage()))}renderEmptyMessage(){let{options:e,viewApi:r}=this.context,n={text:e.noEventsText,view:r};return ie(Pn,{elTag:"div",elClasses:["fc-list-empty"],renderProps:n,generatorName:"noEventsContent",customGenerator:e.noEventsContent,defaultGenerator:Ile,classNameGenerator:e.noEventsClassNames,didMount:e.noEventsDidMount,willUnmount:e.noEventsWillUnmount},a=>ie(a,{elTag:"div",elClasses:["fc-list-empty-cushion"]}))}renderSegList(e,r){let{theme:n,options:a}=this.context,{timeHeaderId:i,eventHeaderId:s,dateHeaderIdRoot:o}=this.state,c=Fle(e);return ie(Jl,{unit:"day"},(u,d)=>{let f=[];for(let h=0;h<c.length;h+=1){let p=c[h];if(p){let g=Jh(r[h]),m=o+"-"+g;f.push(ie(Cle,{key:g,cellId:m,dayDate:r[h],todayRange:d})),p=X2(p,a.eventOrder);for(let y of p)f.push(ie(Ple,Object.assign({key:g+":"+y.eventRange.instance.instanceId,seg:y,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,timeHeaderId:i,eventHeaderId:s,dateHeaderId:m},Es(y,d,u))))}}return ie("table",{className:"fc-list-table "+n.getClass("table")},ie("thead",null,ie("tr",null,ie("th",{scope:"col",id:i},a.timeHint),ie("th",{scope:"col","aria-hidden":!0}),ie("th",{scope:"col",id:s},a.eventHint))),ie("tbody",null,f))})}_eventStoreToSegs(e,r,n){return this.eventRangesToSegs(Yx(e,r,this.props.dateProfile.activeRange,this.context.options.nextDayThreshold).fg,n)}eventRangesToSegs(e,r){let n=[];for(let a of e)n.push(...this.eventRangeToSegs(a,r));return n}eventRangeToSegs(e,r){let{dateEnv:n}=this.context,{nextDayThreshold:a}=this.context.options,i=e.range,s=e.def.allDay,o,c,u,d=[];for(o=0;o<r.length;o+=1)if(c=Co(i,r[o]),c&&(u={component:this,eventRange:e,start:c.start,end:c.end,isStart:e.isStart&&c.start.valueOf()===i.start.valueOf(),isEnd:e.isEnd&&c.end.valueOf()===i.end.valueOf(),dayIndex:o},d.push(u),!u.isEnd&&!s&&o+1<r.length&&i.end<n.add(r[o+1].start,a))){u.end=i.end,u.isEnd=!0;break}return d}}function Ile(t){return t.text}function $le(t){let e=rr(t.renderRange.start),r=t.renderRange.end,n=[],a=[];for(;e<r;)n.push(e),a.push({start:e,end:Hr(e,1)}),e=Hr(e,1);return{dayDates:n,dayRanges:a}}function Fle(t){let e=[],r,n;for(r=0;r<t.length;r+=1)n=t[r],(e[n.dayIndex]||(e[n.dayIndex]=[])).push(n);return e}var Ble=':root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid var(--fc-border-color)}.fc .fc-list-empty{align-items:center;background-color:var(--fc-neutral-bg-color);display:flex;height:100%;justify-content:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{border-style:hidden;width:100%}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{background:var(--fc-page-bg-color);position:sticky;top:0}.fc .fc-list-table thead{left:-10000px;position:absolute}.fc .fc-list-table tbody>tr:first-child th{border-top:0}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{clear:both;content:"";display:table}.fc-theme-standard .fc-list-day-cushion{background-color:var(--fc-neutral-bg-color)}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:var(--fc-list-event-hover-bg-color)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{border:calc(var(--fc-list-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-list-event-dot-width)/2);box-sizing:content-box;display:inline-block;height:0;width:0}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}';ay(Ble);const Ule={listDayFormat:v_,listDaySideFormat:v_,noEventsClassNames:Se,noEventsContent:Se,noEventsDidMount:Se,noEventsWillUnmount:Se};function v_(t){return t===!1?null:mr(t)}var zle=ji({name:"@fullcalendar/list",optionRefiners:Ule,views:{list:{component:Lle,buttonTextKey:"list",listDayFormat:{month:"long",day:"numeric",year:"numeric"}},listDay:{type:"list",duration:{days:1},listDayFormat:{weekday:"long"}},listWeek:{type:"list",duration:{weeks:1},listDayFormat:{weekday:"long"},listDaySideFormat:{month:"long",day:"numeric",year:"numeric"}},listMonth:{type:"list",duration:{month:1},listDaySideFormat:{weekday:"long"}},listYear:{type:"list",duration:{year:1},listDaySideFormat:{weekday:"long"}}}});const Li={fundraiser:"#f59e42",meeting:"#2563eb",social:"#10b981",other:"#a78bfa"},Wle=()=>{const[t,e]=R.useState([]),[r,n]=R.useState(null),[a,i]=R.useState(!1),[s,o]=R.useState(null),c=R.useRef();R.useEffect(()=>{async function m(){const y=await hn.getEvents(),b=(y.data||y).map(x=>({id:x.id,title:x.title,start:x.event_date,end:x.end_date||x.event_date,allDay:!0,color:Li[x.type]||Li.other,rrule:x.rrule||void 0,extendedProps:{...x}}));e(b)}m()},[]);const u=m=>{const{jsEvent:y,event:b}=m;n({x:y.clientX,y:y.clientY,content:l.jsxs("div",{style:{minWidth:200},children:[l.jsx("div",{className:"font-bold mb-1",children:b.title}),l.jsxs("div",{className:"text-xs mb-1",children:[b.extendedProps.type||"Other"," | ",b.startStr," ",b.endStr&&`- ${b.endStr}`]}),b.extendedProps.location&&l.jsxs("div",{className:"text-xs",children:["ðŸ“ ",b.extendedProps.location]}),b.extendedProps.description&&l.jsx("div",{className:"text-xs mt-1",children:b.extendedProps.description})]})})},d=()=>n(null),f=m=>{o({start:m.dateStr,end:m.dateStr}),i(!0)},h=m=>{o({id:m.event.id,title:m.event.title,type:m.event.extendedProps.type,start:m.event.startStr,end:m.event.endStr,allDay:m.event.allDay,location:m.event.extendedProps.location,description:m.event.extendedProps.description,color:m.event.backgroundColor,recurrence:m.event.extendedProps.rrule?"custom":"",rrule:m.event.extendedProps.rrule||""}),i(!0)},p=async m=>{try{const y={id:m.event.id,start:m.event.startStr,end:m.event.endStr};await hn.updateEvent(y.id,y);const b=await hn.getEvents(),x=(b.data||b).map(N=>({id:N.id,title:N.title,start:N.event_date,end:N.end_date||N.event_date,allDay:!0,color:Li[N.type]||Li.other,rrule:N.rrule||void 0,extendedProps:{...N}}));e(x)}catch(y){console.error("Error updating event:",y)}},g=async m=>{try{m.id?await hn.updateEvent(m.id,m):await hn.createEvent(m),i(!1),o(null);const y=await hn.getEvents(),b=(y.data||y).map(x=>({id:x.id,title:x.title,start:x.event_date,end:x.end_date||x.event_date,allDay:!0,color:Li[x.type]||Li.other,rrule:x.rrule||void 0,extendedProps:{...x}}));e(b)}catch(y){console.error("Error saving event:",y)}};return R.useEffect(()=>{const m=y=>{c.current&&!c.current.contains(y.target)&&n(null)};return r&&document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[r]),l.jsxs("div",{className:"calendar-page-container",style:{position:"relative"},children:[l.jsxs("div",{className:"flex gap-4 mb-4",children:[l.jsx("span",{className:"font-semibold",children:"Legend:"}),l.jsxs("span",{className:"inline-flex items-center gap-1",children:[l.jsx("span",{style:{background:Li.fundraiser,width:16,height:16,borderRadius:4,display:"inline-block"}}),"Fundraiser"]}),l.jsxs("span",{className:"inline-flex items-center gap-1",children:[l.jsx("span",{style:{background:Li.meeting,width:16,height:16,borderRadius:4,display:"inline-block"}}),"Meeting"]}),l.jsxs("span",{className:"inline-flex items-center gap-1",children:[l.jsx("span",{style:{background:Li.social,width:16,height:16,borderRadius:4,display:"inline-block"}}),"Social"]}),l.jsxs("span",{className:"inline-flex items-center gap-1",children:[l.jsx("span",{style:{background:Li.other,width:16,height:16,borderRadius:4,display:"inline-block"}}),"Other"]})]}),l.jsx(c5,{plugins:[l4,Noe,p4,Ole,zle],initialView:"dayGridMonth",headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listMonth"},events:t,height:"auto",themeSystem:"journal",eventMouseEnter:u,eventMouseLeave:d,eventClick:h,dateClick:f,editable:!0,eventDrop:p,eventResize:p}),l.jsx(m4,{open:a,onClose:()=>{i(!1),o(null)},onSave:g,initialEventData:s}),r&&l.jsx("div",{ref:c,className:"fc-tooltip",style:{position:"fixed",left:r.x+12,top:r.y+12,zIndex:1e3},children:r.content})]})};function v5({title:t,loading:e=!1,error:r=null,children:n,className:a=""}){return e?l.jsx(Iw,{size:"lg"}):r?l.jsx("div",{className:"p-4 text-center text-red-600",children:r}):l.jsxs("div",{className:`p-6 ${a}`,children:[t&&l.jsx("div",{className:"mb-6",children:l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t})}),n||l.jsx(Lw,{})]})}function Hle(t){return t==null}var qle=Hle;const wt=Ct(qle);var Gle=Is,Vle=kn,Yle=bi,Kle="[object String]";function Xle(t){return typeof t=="string"||!Vle(t)&&Yle(t)&&Gle(t)==Kle}var Zle=Xle;const Wl=Ct(Zle);var T4={exports:{}},Gt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y5=Symbol.for("react.element"),b5=Symbol.for("react.portal"),py=Symbol.for("react.fragment"),my=Symbol.for("react.strict_mode"),gy=Symbol.for("react.profiler"),vy=Symbol.for("react.provider"),yy=Symbol.for("react.context"),Qle=Symbol.for("react.server_context"),by=Symbol.for("react.forward_ref"),xy=Symbol.for("react.suspense"),wy=Symbol.for("react.suspense_list"),Sy=Symbol.for("react.memo"),Ny=Symbol.for("react.lazy"),Jle=Symbol.for("react.offscreen"),k4;k4=Symbol.for("react.module.reference");function Ha(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case y5:switch(t=t.type,t){case py:case gy:case my:case xy:case wy:return t;default:switch(t=t&&t.$$typeof,t){case Qle:case yy:case by:case Ny:case Sy:case vy:return t;default:return e}}case b5:return e}}}Gt.ContextConsumer=yy;Gt.ContextProvider=vy;Gt.Element=y5;Gt.ForwardRef=by;Gt.Fragment=py;Gt.Lazy=Ny;Gt.Memo=Sy;Gt.Portal=b5;Gt.Profiler=gy;Gt.StrictMode=my;Gt.Suspense=xy;Gt.SuspenseList=wy;Gt.isAsyncMode=function(){return!1};Gt.isConcurrentMode=function(){return!1};Gt.isContextConsumer=function(t){return Ha(t)===yy};Gt.isContextProvider=function(t){return Ha(t)===vy};Gt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===y5};Gt.isForwardRef=function(t){return Ha(t)===by};Gt.isFragment=function(t){return Ha(t)===py};Gt.isLazy=function(t){return Ha(t)===Ny};Gt.isMemo=function(t){return Ha(t)===Sy};Gt.isPortal=function(t){return Ha(t)===b5};Gt.isProfiler=function(t){return Ha(t)===gy};Gt.isStrictMode=function(t){return Ha(t)===my};Gt.isSuspense=function(t){return Ha(t)===xy};Gt.isSuspenseList=function(t){return Ha(t)===wy};Gt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===py||t===gy||t===my||t===xy||t===wy||t===Jle||typeof t=="object"&&t!==null&&(t.$$typeof===Ny||t.$$typeof===Sy||t.$$typeof===vy||t.$$typeof===yy||t.$$typeof===by||t.$$typeof===k4||t.getModuleId!==void 0)};Gt.typeOf=Ha;T4.exports=Gt;var ece=T4.exports,tce=Is,rce=bi,nce="[object Number]";function ace(t){return typeof t=="number"||rce(t)&&tce(t)==nce}var P4=ace;const ice=Ct(P4);var sce=P4;function oce(t){return sce(t)&&t!=+t}var lce=oce;const hd=Ct(lce);var Bn=function(e){return e===0?0:e>0?1:-1},gl=function(e){return Wl(e)&&e.indexOf("%")===e.length-1},Le=function(e){return ice(e)&&!hd(e)},Xr=function(e){return Le(e)||Wl(e)},cce=0,pd=function(e){var r=++cce;return"".concat(e||"").concat(r)},Un=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Le(e)&&!Wl(e))return n;var i;if(gl(e)){var s=e.indexOf("%");i=r*parseFloat(e.slice(0,s))/100}else i=+e;return hd(i)&&(i=n),a&&i>r&&(i=r),i},lo=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},uce=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},a=0;a<r;a++)if(!n[e[a]])n[e[a]]=!0;else return!0;return!1},Zn=function(e,r){return Le(e)&&Le(r)?function(n){return e+n*(r-e)}:function(){return r}};function Cg(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):ma(n,e))===r})}var dce=function(e,r){return Le(e)&&Le(r)?e-r:Wl(e)&&Wl(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function ou(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function l1(t){"@babel/helpers - typeof";return l1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l1(t)}var fce=["viewBox","children"],hce=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],y_=["points","pathLength"],Mb={svg:fce,polygon:y_,polyline:y_},x5=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Tg=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(R.isValidElement(e)&&(n=e.props),!Ju(n))return null;var a={};return Object.keys(n).forEach(function(i){x5.includes(i)&&(a[i]=r||function(s){return n[i](n,s)})}),a},pce=function(e,r,n){return function(a){return e(r,n,a),null}},Hl=function(e,r,n){if(!Ju(e)||l1(e)!=="object")return null;var a=null;return Object.keys(e).forEach(function(i){var s=e[i];x5.includes(i)&&typeof s=="function"&&(a||(a={}),a[i]=pce(s,r,n))}),a},mce=["children"],gce=["children"];function b_(t,e){if(t==null)return{};var r=vce(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function vce(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function c1(t){"@babel/helpers - typeof";return c1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c1(t)}var x_={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Os=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},w_=null,Rb=null,w5=function t(e){if(e===w_&&Array.isArray(Rb))return Rb;var r=[];return R.Children.forEach(e,function(n){wt(n)||(ece.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),Rb=r,w_=e,r};function Ia(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(a){return Os(a)}):n=[Os(e)],w5(t).forEach(function(a){var i=ma(a,"type.displayName")||ma(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function da(t,e){var r=Ia(t,e);return r&&r[0]}var S_=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,a=r.height;return!(!Le(n)||n<=0||!Le(a)||a<=0)},yce=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],bce=function(e){return e&&e.type&&Wl(e.type)&&yce.indexOf(e.type)>=0},xce=function(e){return e&&c1(e)==="object"&&"clipDot"in e},wce=function(e,r,n,a){var i,s=(i=Mb==null?void 0:Mb[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!dt(e)&&(a&&s.includes(r)||hce.includes(r))||n&&x5.includes(r)},et=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(R.isValidElement(e)&&(a=e.props),!Ju(a))return null;var i={};return Object.keys(a).forEach(function(s){var o;wce((o=a)===null||o===void 0?void 0:o[s],s,r,n)&&(i[s]=a[s])}),i},u1=function t(e,r){if(e===r)return!0;var n=R.Children.count(e);if(n!==R.Children.count(r))return!1;if(n===0)return!0;if(n===1)return N_(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=e[a],s=r[a];if(Array.isArray(i)||Array.isArray(s)){if(!t(i,s))return!1}else if(!N_(i,s))return!1}return!0},N_=function(e,r){if(wt(e)&&wt(r))return!0;if(!wt(e)&&!wt(r)){var n=e.props||{},a=n.children,i=b_(n,mce),s=r.props||{},o=s.children,c=b_(s,gce);return a&&o?ou(i,c)&&u1(a,o):!a&&!o?ou(i,c):!1}return!1},j_=function(e,r){var n=[],a={};return w5(e).forEach(function(i,s){if(bce(i))n.push(i);else if(i){var o=Os(i.type),c=r[o]||{},u=c.handler,d=c.once;if(u&&(!d||!a[o])){var f=u(i,o,s);n.push(f),a[o]=!0}}}),n},Sce=function(e){var r=e&&e.type;return r&&x_[r]?x_[r]:null},Nce=function(e,r){return w5(r).indexOf(e)},jce=["children","width","height","viewBox","className","style","title","desc"];function d1(){return d1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},d1.apply(this,arguments)}function Ace(t,e){if(t==null)return{};var r=_ce(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function _ce(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function f1(t){var e=t.children,r=t.width,n=t.height,a=t.viewBox,i=t.className,s=t.style,o=t.title,c=t.desc,u=Ace(t,jce),d=a||{width:r,height:n,x:0,y:0},f=Nt("recharts-surface",i);return z.createElement("svg",d1({},et(u,!0,"svg"),{className:f,width:r,height:n,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),z.createElement("title",null,o),z.createElement("desc",null,c),e)}var Ece=["children","className"];function h1(){return h1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},h1.apply(this,arguments)}function Oce(t,e){if(t==null)return{};var r=Cce(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Cce(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Pt=z.forwardRef(function(t,e){var r=t.children,n=t.className,a=Oce(t,Ece),i=Nt("recharts-layer",n);return z.createElement("g",h1({className:i},et(a,!0),{ref:e}),r)}),mi=function(e,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]},Tce=zw;function kce(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:Tce(t,e,r)}var Pce=kce,Dce="\\ud800-\\udfff",Mce="\\u0300-\\u036f",Rce="\\ufe20-\\ufe2f",Lce="\\u20d0-\\u20ff",Ice=Mce+Rce+Lce,$ce="\\ufe0e\\ufe0f",Fce="\\u200d",Bce=RegExp("["+Fce+Dce+Ice+$ce+"]");function Uce(t){return Bce.test(t)}var D4=Uce;function zce(t){return t.split("")}var Wce=zce,M4="\\ud800-\\udfff",Hce="\\u0300-\\u036f",qce="\\ufe20-\\ufe2f",Gce="\\u20d0-\\u20ff",Vce=Hce+qce+Gce,Yce="\\ufe0e\\ufe0f",Kce="["+M4+"]",p1="["+Vce+"]",m1="\\ud83c[\\udffb-\\udfff]",Xce="(?:"+p1+"|"+m1+")",R4="[^"+M4+"]",L4="(?:\\ud83c[\\udde6-\\uddff]){2}",I4="[\\ud800-\\udbff][\\udc00-\\udfff]",Zce="\\u200d",$4=Xce+"?",F4="["+Yce+"]?",Qce="(?:"+Zce+"(?:"+[R4,L4,I4].join("|")+")"+F4+$4+")*",Jce=F4+$4+Qce,eue="(?:"+[R4+p1+"?",p1,L4,I4,Kce].join("|")+")",tue=RegExp(m1+"(?="+m1+")|"+eue+Jce,"g");function rue(t){return t.match(tue)||[]}var nue=rue,aue=Wce,iue=D4,sue=nue;function oue(t){return iue(t)?sue(t):aue(t)}var lue=oue,cue=Pce,uue=D4,due=lue,fue=ck;function hue(t){return function(e){e=fue(e);var r=uue(e)?due(e):void 0,n=r?r[0]:e.charAt(0),a=r?cue(r,1).join(""):e.slice(1);return n[t]()+a}}var pue=hue,mue=pue,gue=mue("toUpperCase"),vue=gue;const jy=Ct(vue);function lr(t){return function(){return t}}const B4=Math.cos,kg=Math.sin,Ai=Math.sqrt,Pg=Math.PI,Ay=2*Pg,g1=Math.PI,v1=2*g1,ul=1e-6,yue=v1-ul;function U4(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function bue(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return U4;const r=10**e;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class xue{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?U4:bue(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,a){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(e,r,n,a,i,s){this._append`C${+e},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(e,r,n,a,i){if(e=+e,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,o=this._y1,c=n-e,u=a-r,d=s-e,f=o-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(h>ul)if(!(Math.abs(f*c-u*d)>ul)||!i)this._append`L${this._x1=e},${this._y1=r}`;else{let p=n-s,g=a-o,m=c*c+u*u,y=p*p+g*g,b=Math.sqrt(m),x=Math.sqrt(h),N=i*Math.tan((g1-Math.acos((m+h-y)/(2*b*x)))/2),A=N/x,w=N/b;Math.abs(A-1)>ul&&this._append`L${e+A*d},${r+A*f}`,this._append`A${i},${i},0,0,${+(f*p>d*g)},${this._x1=e+w*c},${this._y1=r+w*u}`}}arc(e,r,n,a,i,s){if(e=+e,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),c=n*Math.sin(a),u=e+o,d=r+c,f=1^s,h=s?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>ul||Math.abs(this._y1-d)>ul)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%v1+v1),h>yue?this._append`A${n},${n},0,1,${f},${e-o},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>ul&&this._append`A${n},${n},0,${+(h>=g1)},${f},${this._x1=e+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(e,r,n,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function S5(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new xue(e)}function N5(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function z4(t){this._context=t}z4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function _y(t){return new z4(t)}function W4(t){return t[0]}function H4(t){return t[1]}function q4(t,e){var r=lr(!0),n=null,a=_y,i=null,s=S5(o);t=typeof t=="function"?t:t===void 0?W4:lr(t),e=typeof e=="function"?e:e===void 0?H4:lr(e);function o(c){var u,d=(c=N5(c)).length,f,h=!1,p;for(n==null&&(i=a(p=s())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+t(f,u,c),+e(f,u,c));if(p)return i=null,p+""||null}return o.x=function(c){return arguments.length?(t=typeof c=="function"?c:lr(+c),o):t},o.y=function(c){return arguments.length?(e=typeof c=="function"?c:lr(+c),o):e},o.defined=function(c){return arguments.length?(r=typeof c=="function"?c:lr(!!c),o):r},o.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),o):a},o.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),o):n},o}function vm(t,e,r){var n=null,a=lr(!0),i=null,s=_y,o=null,c=S5(u);t=typeof t=="function"?t:t===void 0?W4:lr(+t),e=typeof e=="function"?e:lr(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?H4:lr(+r);function u(f){var h,p,g,m=(f=N5(f)).length,y,b=!1,x,N=new Array(m),A=new Array(m);for(i==null&&(o=s(x=c())),h=0;h<=m;++h){if(!(h<m&&a(y=f[h],h,f))===b)if(b=!b)p=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=h-1;g>=p;--g)o.point(N[g],A[g]);o.lineEnd(),o.areaEnd()}b&&(N[h]=+t(y,h,f),A[h]=+e(y,h,f),o.point(n?+n(y,h,f):N[h],r?+r(y,h,f):A[h]))}if(x)return o=null,x+""||null}function d(){return q4().defined(a).curve(s).context(i)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:lr(+f),n=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:lr(+f),u):t},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:lr(+f),u):n},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:lr(+f),r=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:lr(+f),u):e},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:lr(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(r)},u.lineX1=function(){return d().x(n).y(e)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:lr(!!f),u):a},u.curve=function(f){return arguments.length?(s=f,i!=null&&(o=s(i)),u):s},u.context=function(f){return arguments.length?(f==null?i=o=null:o=s(i=f),u):i},u}class G4{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function wue(t){return new G4(t,!0)}function Sue(t){return new G4(t,!1)}const j5={draw(t,e){const r=Ai(e/Pg);t.moveTo(r,0),t.arc(0,0,r,0,Ay)}},Nue={draw(t,e){const r=Ai(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},V4=Ai(1/3),jue=V4*2,Aue={draw(t,e){const r=Ai(e/jue),n=r*V4;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},_ue={draw(t,e){const r=Ai(e),n=-r/2;t.rect(n,n,r,r)}},Eue=.8908130915292852,Y4=kg(Pg/10)/kg(7*Pg/10),Oue=kg(Ay/10)*Y4,Cue=-B4(Ay/10)*Y4,Tue={draw(t,e){const r=Ai(e*Eue),n=Oue*r,a=Cue*r;t.moveTo(0,-r),t.lineTo(n,a);for(let i=1;i<5;++i){const s=Ay*i/5,o=B4(s),c=kg(s);t.lineTo(c*r,-o*r),t.lineTo(o*n-c*a,c*n+o*a)}t.closePath()}},Lb=Ai(3),kue={draw(t,e){const r=-Ai(e/(Lb*3));t.moveTo(0,r*2),t.lineTo(-Lb*r,-r),t.lineTo(Lb*r,-r),t.closePath()}},Ea=-.5,Oa=Ai(3)/2,y1=1/Ai(12),Pue=(y1/2+1)*3,Due={draw(t,e){const r=Ai(e/Pue),n=r/2,a=r*y1,i=n,s=r*y1+r,o=-i,c=s;t.moveTo(n,a),t.lineTo(i,s),t.lineTo(o,c),t.lineTo(Ea*n-Oa*a,Oa*n+Ea*a),t.lineTo(Ea*i-Oa*s,Oa*i+Ea*s),t.lineTo(Ea*o-Oa*c,Oa*o+Ea*c),t.lineTo(Ea*n+Oa*a,Ea*a-Oa*n),t.lineTo(Ea*i+Oa*s,Ea*s-Oa*i),t.lineTo(Ea*o+Oa*c,Ea*c-Oa*o),t.closePath()}};function Mue(t,e){let r=null,n=S5(a);t=typeof t=="function"?t:lr(t||j5),e=typeof e=="function"?e:lr(e===void 0?64:+e);function a(){let i;if(r||(r=i=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(t=typeof i=="function"?i:lr(i),a):t},a.size=function(i){return arguments.length?(e=typeof i=="function"?i:lr(+i),a):e},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Dg(){}function Mg(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function K4(t){this._context=t}K4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Mg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Mg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Rue(t){return new K4(t)}function X4(t){this._context=t}X4.prototype={areaStart:Dg,areaEnd:Dg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Mg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Lue(t){return new X4(t)}function Z4(t){this._context=t}Z4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Mg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Iue(t){return new Z4(t)}function Q4(t){this._context=t}Q4.prototype={areaStart:Dg,areaEnd:Dg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function $ue(t){return new Q4(t)}function A_(t){return t<0?-1:1}function __(t,e,r){var n=t._x1-t._x0,a=e-t._x1,i=(t._y1-t._y0)/(n||a<0&&-0),s=(r-t._y1)/(a||n<0&&-0),o=(i*a+s*n)/(n+a);return(A_(i)+A_(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(o))||0}function E_(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function Ib(t,e,r){var n=t._x0,a=t._y0,i=t._x1,s=t._y1,o=(i-n)/3;t._context.bezierCurveTo(n+o,a+o*e,i-o,s-o*r,i,s)}function Rg(t){this._context=t}Rg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ib(this,this._t0,E_(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Ib(this,E_(this,r=__(this,t,e)),r);break;default:Ib(this,this._t0,r=__(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function J4(t){this._context=new eD(t)}(J4.prototype=Object.create(Rg.prototype)).point=function(t,e){Rg.prototype.point.call(this,e,t)};function eD(t){this._context=t}eD.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,a,i){this._context.bezierCurveTo(e,t,n,r,i,a)}};function Fue(t){return new Rg(t)}function Bue(t){return new J4(t)}function tD(t){this._context=t}tD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=O_(t),a=O_(e),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],t[s],e[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function O_(t){var e,r=t.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)a[e]=1,i[e]=4,s[e]=4*t[e]+2*t[e+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=a[e]/i[e-1],i[e]-=n,s[e]-=n*s[e-1];for(a[r-1]=s[r-1]/i[r-1],e=r-2;e>=0;--e)a[e]=(s[e]-a[e+1])/i[e];for(i[r-1]=(t[r]+a[r-1])/2,e=0;e<r-1;++e)i[e]=2*t[e+1]-a[e+1];return[a,i]}function Uue(t){return new tD(t)}function Ey(t,e){this._context=t,this._t=e}Ey.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function zue(t){return new Ey(t,.5)}function Wue(t){return new Ey(t,0)}function Hue(t){return new Ey(t,1)}function Nu(t,e){if((s=t.length)>1)for(var r=1,n,a,i=t[e[0]],s,o=i.length;r<s;++r)for(a=i,i=t[e[r]],n=0;n<o;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function b1(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function que(t,e){return t[e]}function Gue(t){const e=[];return e.key=t,e}function Vue(){var t=lr([]),e=b1,r=Nu,n=que;function a(i){var s=Array.from(t.apply(this,arguments),Gue),o,c=s.length,u=-1,d;for(const f of i)for(o=0,++u;o<c;++o)(s[o][u]=[0,+n(f,s[o].key,u,i)]).data=f;for(o=0,d=N5(e(s));o<c;++o)s[d[o]].index=o;return r(s,d),s}return a.keys=function(i){return arguments.length?(t=typeof i=="function"?i:lr(Array.from(i)),a):t},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:lr(+i),a):n},a.order=function(i){return arguments.length?(e=i==null?b1:typeof i=="function"?i:lr(Array.from(i)),a):e},a.offset=function(i){return arguments.length?(r=i??Nu,a):r},a}function Yue(t,e){if((n=t.length)>0){for(var r,n,a=0,i=t[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=t[r][a][1]||0;if(s)for(r=0;r<n;++r)t[r][a][1]/=s}Nu(t,e)}}function Kue(t,e){if((a=t.length)>0){for(var r=0,n=t[e[0]],a,i=n.length;r<i;++r){for(var s=0,o=0;s<a;++s)o+=t[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}Nu(t,e)}}function Xue(t,e){if(!(!((s=t.length)>0)||!((i=(a=t[e[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var o=0,c=0,u=0;o<s;++o){for(var d=t[e[o]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,g=0;g<o;++g){var m=t[e[g]],y=m[n][1]||0,b=m[n-1][1]||0;p+=y-b}c+=f,u+=p*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Nu(t,e)}}function lh(t){"@babel/helpers - typeof";return lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lh(t)}var Zue=["type","size","sizeType"];function x1(){return x1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},x1.apply(this,arguments)}function C_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function T_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?C_(Object(r),!0).forEach(function(n){Que(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):C_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Que(t,e,r){return e=Jue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jue(t){var e=ede(t,"string");return lh(e)=="symbol"?e:e+""}function ede(t,e){if(lh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tde(t,e){if(t==null)return{};var r=rde(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function rde(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var rD={symbolCircle:j5,symbolCross:Nue,symbolDiamond:Aue,symbolSquare:_ue,symbolStar:Tue,symbolTriangle:kue,symbolWye:Due},nde=Math.PI/180,ade=function(e){var r="symbol".concat(jy(e));return rD[r]||j5},ide=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*nde;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},sde=function(e,r){rD["symbol".concat(jy(e))]=r},A5=function(e){var r=e.type,n=r===void 0?"circle":r,a=e.size,i=a===void 0?64:a,s=e.sizeType,o=s===void 0?"area":s,c=tde(e,Zue),u=T_(T_({},c),{},{type:n,size:i,sizeType:o}),d=function(){var y=ade(n),b=Mue().type(y).size(ide(i,o,n));return b()},f=u.className,h=u.cx,p=u.cy,g=et(u,!0);return h===+h&&p===+p&&i===+i?z.createElement("path",x1({},g,{className:Nt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};A5.registerSymbol=sde;function ju(t){"@babel/helpers - typeof";return ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ju(t)}function w1(){return w1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},w1.apply(this,arguments)}function k_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ode(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?k_(Object(r),!0).forEach(function(n){ch(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):k_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cde(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,aD(n.key),n)}}function ude(t,e,r){return e&&cde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dde(t,e,r){return e=Lg(e),fde(t,nD()?Reflect.construct(e,r||[],Lg(t).constructor):e.apply(t,r))}function fde(t,e){if(e&&(ju(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hde(t)}function hde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nD=function(){return!!t})()}function Lg(t){return Lg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lg(t)}function pde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S1(t,e)}function S1(t,e){return S1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},S1(t,e)}function ch(t,e,r){return e=aD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aD(t){var e=mde(t,"string");return ju(e)=="symbol"?e:e+""}function mde(t,e){if(ju(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ju(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ca=32,_5=function(t){function e(){return lde(this,e),dde(this,e,arguments)}return pde(e,t),ude(e,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=Ca/2,s=Ca/6,o=Ca/3,c=n.inactive?a:n.color;if(n.type==="plainline")return z.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Ca,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return z.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(Ca,"M").concat(2*o,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return z.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Ca/8,"h").concat(Ca,"v").concat(Ca*3/4,"h").concat(-Ca,"z"),className:"recharts-legend-icon"});if(z.isValidElement(n.legendIcon)){var u=ode({},n);return delete u.legendIcon,z.cloneElement(n.legendIcon,u)}return z.createElement(A5,{fill:c,cx:i,cy:i,size:Ca,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,s=a.iconSize,o=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:Ca,height:Ca},f={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,g){var m=p.formatter||c,y=Nt(ch(ch({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var b=dt(p.value)?null:p.value;mi(!dt(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=p.inactive?u:p.color;return z.createElement("li",w1({className:y,style:f,key:"legend-item-".concat(g)},Hl(n.props,p,g)),z.createElement(f1,{width:s,height:s,viewBox:d,style:h},n.renderIcon(p)),z.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},m?m(b,p,g):b))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,s=n.align;if(!a||!a.length)return null;var o={padding:0,margin:0,textAlign:i==="horizontal"?s:"left"};return z.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(R.PureComponent);ch(_5,"displayName","Legend");ch(_5,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});function gde(t){return t!==t}var vde=gde;function yde(t,e,r){for(var n=r-1,a=t.length;++n<a;)if(t[n]===e)return n;return-1}var bde=yde,xde=nk,wde=vde,Sde=bde;function Nde(t,e,r){return e===e?Sde(t,e,r):xde(t,wde,r)}var jde=Nde,Ade=jde;function _de(t,e){var r=t==null?0:t.length;return!!r&&Ade(t,e,0)>-1}var Ede=_de;function Ode(t,e,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(r(e,t[n]))return!0;return!1}var Cde=Ode;function Tde(){}var kde=Tde,$b=JT,Pde=kde,Dde=s2,Mde=1/0,Rde=$b&&1/Dde(new $b([,-0]))[1]==Mde?function(t){return new $b(t)}:Pde,Lde=Rde,Ide=zT,$de=Ede,Fde=Cde,Bde=HT,Ude=Lde,zde=s2,Wde=200;function Hde(t,e,r){var n=-1,a=$de,i=t.length,s=!0,o=[],c=o;if(r)s=!1,a=Fde;else if(i>=Wde){var u=e?null:Ude(t);if(u)return zde(u);s=!1,a=Bde,c=new Ide}else c=e?[]:o;e:for(;++n<i;){var d=t[n],f=e?e(d):d;if(d=r||d!==0?d:0,s&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;e&&c.push(f),o.push(d)}else a(c,f,r)||(c!==o&&c.push(f),o.push(d))}return o}var qde=Hde,Gde=xi,Vde=qde;function Yde(t,e){return t&&t.length?Vde(t,Gde(e)):[]}var Kde=Yde;const P_=Ct(Kde);function iD(t,e,r){return e===!0?P_(t,r):dt(e)?P_(t,e):t}function Au(t){"@babel/helpers - typeof";return Au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Au(t)}var Xde=["ref"];function D_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function xs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?D_(Object(r),!0).forEach(function(n){Oy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):D_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M_(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,oD(n.key),n)}}function Qde(t,e,r){return e&&M_(t.prototype,e),r&&M_(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jde(t,e,r){return e=Ig(e),efe(t,sD()?Reflect.construct(e,r||[],Ig(t).constructor):e.apply(t,r))}function efe(t,e){if(e&&(Au(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tfe(t)}function tfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sD=function(){return!!t})()}function Ig(t){return Ig=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ig(t)}function rfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&N1(t,e)}function N1(t,e){return N1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},N1(t,e)}function Oy(t,e,r){return e=oD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oD(t){var e=nfe(t,"string");return Au(e)=="symbol"?e:e+""}function nfe(t,e){if(Au(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Au(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function afe(t,e){if(t==null)return{};var r=ife(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ife(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function sfe(t){return t.value}function ofe(t,e){if(z.isValidElement(t))return z.cloneElement(t,e);if(typeof t=="function")return z.createElement(t,e);e.ref;var r=afe(e,Xde);return z.createElement(_5,r)}var R_=1,_l=function(t){function e(){var r;Zde(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Jde(this,e,[].concat(a)),Oy(r,"lastBoundingBox",{width:-1,height:-1}),r}return rfe(e,t),Qde(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>R_||Math.abs(a.height-this.lastBoundingBox.height)>R_)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?xs({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,s=a.align,o=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(o==="middle"){var g=this.getBBoxSnapshot();h={top:((d||0)-g.height)/2}}else h=o==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return xs(xs({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,s=a.width,o=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=xs(xs({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(c)),c);return z.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},ofe(i,xs(xs({},this.props),{},{payload:iD(d,u,sfe)})))}}],[{key:"getWithHeight",value:function(n,a){var i=xs(xs({},this.defaultProps),n.props),s=i.layout;return s==="vertical"&&Le(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||a}:null}}])}(R.PureComponent);Oy(_l,"displayName","Legend");Oy(_l,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});function uh(t){"@babel/helpers - typeof";return uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uh(t)}function j1(){return j1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},j1.apply(this,arguments)}function lfe(t,e){return ffe(t)||dfe(t,e)||ufe(t,e)||cfe()}function cfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ufe(t,e){if(t){if(typeof t=="string")return L_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L_(t,e)}}function L_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function dfe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function ffe(t){if(Array.isArray(t))return t}function I_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Fb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?I_(Object(r),!0).forEach(function(n){hfe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):I_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hfe(t,e,r){return e=pfe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pfe(t){var e=mfe(t,"string");return uh(e)=="symbol"?e:e+""}function mfe(t,e){if(uh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(uh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gfe(t){return Array.isArray(t)&&Xr(t[0])&&Xr(t[1])?t.join(" ~ "):t}var vfe=function(e){var r=e.separator,n=r===void 0?" : ":r,a=e.contentStyle,i=a===void 0?{}:a,s=e.itemStyle,o=s===void 0?{}:s,c=e.labelStyle,u=c===void 0?{}:c,d=e.payload,f=e.formatter,h=e.itemSorter,p=e.wrapperClassName,g=e.labelClassName,m=e.label,y=e.labelFormatter,b=e.accessibilityLayer,x=b===void 0?!1:b,N=function(){if(d&&d.length){var P={padding:0,margin:0},I=(h?Hv(d,h):d).map(function(M,H){if(M.type==="none")return null;var V=Fb({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},o),F=M.formatter||f||gfe,X=M.value,Y=M.name,Q=X,se=Y;if(F&&Q!=null&&se!=null){var $=F(X,Y,M,H,d);if(Array.isArray($)){var W=lfe($,2);Q=W[0],se=W[1]}else Q=$}return z.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(H),style:V},Xr(se)?z.createElement("span",{className:"recharts-tooltip-item-name"},se):null,Xr(se)?z.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,z.createElement("span",{className:"recharts-tooltip-item-value"},Q),z.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return z.createElement("ul",{className:"recharts-tooltip-item-list",style:P},I)}return null},A=Fb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),w=Fb({margin:0},u),j=!wt(m),E=j?m:"",O=Nt("recharts-default-tooltip",p),k=Nt("recharts-tooltip-label",g);j&&y&&d!==void 0&&d!==null&&(E=y(m,d));var L=x?{role:"status","aria-live":"assertive"}:{};return z.createElement("div",j1({className:O,style:A},L),z.createElement("p",{className:k,style:w},z.isValidElement(E)?E:"".concat(E)),N())};function dh(t){"@babel/helpers - typeof";return dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dh(t)}function ym(t,e,r){return e=yfe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yfe(t){var e=bfe(t,"string");return dh(e)=="symbol"?e:e+""}function bfe(t,e){if(dh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sf="recharts-tooltip-wrapper",xfe={visibility:"hidden"};function wfe(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Nt(sf,ym(ym(ym(ym({},"".concat(sf,"-right"),Le(r)&&e&&Le(e.x)&&r>=e.x),"".concat(sf,"-left"),Le(r)&&e&&Le(e.x)&&r<e.x),"".concat(sf,"-bottom"),Le(n)&&e&&Le(e.y)&&n>=e.y),"".concat(sf,"-top"),Le(n)&&e&&Le(e.y)&&n<e.y))}function $_(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,a=t.offsetTopLeft,i=t.position,s=t.reverseDirection,o=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(i&&Le(i[n]))return i[n];var d=r[n]-o-a,f=r[n]+a;if(e[n])return s[n]?d:f;if(s[n]){var h=d,p=c[n];return h<p?Math.max(f,c[n]):Math.max(d,c[n])}var g=f+o,m=c[n]+u;return g>m?Math.max(d,c[n]):Math.max(f,c[n])}function Sfe(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function Nfe(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,a=t.position,i=t.reverseDirection,s=t.tooltipBox,o=t.useTranslate3d,c=t.viewBox,u,d,f;return s.height>0&&s.width>0&&r?(d=$_({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),f=$_({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),u=Sfe({translateX:d,translateY:f,useTranslate3d:o})):u=xfe,{cssProperties:u,cssClasses:wfe({translateX:d,translateY:f,coordinate:r})}}function _u(t){"@babel/helpers - typeof";return _u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_u(t)}function F_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function B_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?F_(Object(r),!0).forEach(function(n){_1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):F_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Afe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,cD(n.key),n)}}function _fe(t,e,r){return e&&Afe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Efe(t,e,r){return e=$g(e),Ofe(t,lD()?Reflect.construct(e,r||[],$g(t).constructor):e.apply(t,r))}function Ofe(t,e){if(e&&(_u(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cfe(t)}function Cfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lD=function(){return!!t})()}function $g(t){return $g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$g(t)}function Tfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A1(t,e)}function A1(t,e){return A1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},A1(t,e)}function _1(t,e,r){return e=cD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cD(t){var e=kfe(t,"string");return _u(e)=="symbol"?e:e+""}function kfe(t,e){if(_u(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_u(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var U_=1,Pfe=function(t){function e(){var r;jfe(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Efe(this,e,[].concat(a)),_1(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),_1(r,"handleKeyDown",function(s){if(s.key==="Escape"){var o,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&o!==void 0?o:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return Tfe(e,t),_fe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>U_||Math.abs(n.height-this.state.lastBoundingBox.height)>U_)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,o=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,p=a.offset,g=a.position,m=a.reverseDirection,y=a.useTranslate3d,b=a.viewBox,x=a.wrapperStyle,N=Nfe({allowEscapeViewBox:s,coordinate:d,offsetTopLeft:p,position:g,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:b}),A=N.cssClasses,w=N.cssProperties,j=B_(B_({transition:h&&i?"transform ".concat(o,"ms ").concat(c):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},x);return z.createElement("div",{tabIndex:-1,className:A,style:j,ref:function(O){n.wrapperNode=O}},u)}}])}(R.PureComponent),Dfe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ec={isSsr:Dfe()};function Eu(t){"@babel/helpers - typeof";return Eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eu(t)}function z_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function W_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?z_(Object(r),!0).forEach(function(n){E5(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rfe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dD(n.key),n)}}function Lfe(t,e,r){return e&&Rfe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ife(t,e,r){return e=Fg(e),$fe(t,uD()?Reflect.construct(e,r||[],Fg(t).constructor):e.apply(t,r))}function $fe(t,e){if(e&&(Eu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ffe(t)}function Ffe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uD=function(){return!!t})()}function Fg(t){return Fg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fg(t)}function Bfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&E1(t,e)}function E1(t,e){return E1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},E1(t,e)}function E5(t,e,r){return e=dD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dD(t){var e=Ufe(t,"string");return Eu(e)=="symbol"?e:e+""}function Ufe(t,e){if(Eu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Eu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function zfe(t){return t.dataKey}function Wfe(t,e){return z.isValidElement(t)?z.cloneElement(t,e):typeof t=="function"?z.createElement(t,e):z.createElement(vfe,e)}var li=function(t){function e(){return Mfe(this,e),Ife(this,e,arguments)}return Bfe(e,t),Lfe(e,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,o=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,p=a.offset,g=a.payload,m=a.payloadUniqBy,y=a.position,b=a.reverseDirection,x=a.useTranslate3d,N=a.viewBox,A=a.wrapperStyle,w=g??[];f&&w.length&&(w=iD(g.filter(function(E){return E.value!=null&&(E.hide!==!0||n.props.includeHidden)}),m,zfe));var j=w.length>0;return z.createElement(Pfe,{allowEscapeViewBox:s,animationDuration:o,animationEasing:c,isAnimationActive:h,active:i,coordinate:d,hasPayload:j,offset:p,position:y,reverseDirection:b,useTranslate3d:x,viewBox:N,wrapperStyle:A},Wfe(u,W_(W_({},this.props),{},{payload:w})))}}])}(R.PureComponent);E5(li,"displayName","Tooltip");E5(li,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ec.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Hfe=yi,qfe=function(){return Hfe.Date.now()},Gfe=qfe,Vfe=za,Bb=Gfe,H_=AT,Yfe="Expected a function",Kfe=Math.max,Xfe=Math.min;function Zfe(t,e,r){var n,a,i,s,o,c,u=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(Yfe);e=H_(e)||0,Vfe(r)&&(d=!!r.leading,f="maxWait"in r,i=f?Kfe(H_(r.maxWait)||0,e):i,h="trailing"in r?!!r.trailing:h);function p(j){var E=n,O=a;return n=a=void 0,u=j,s=t.apply(O,E),s}function g(j){return u=j,o=setTimeout(b,e),d?p(j):s}function m(j){var E=j-c,O=j-u,k=e-E;return f?Xfe(k,i-O):k}function y(j){var E=j-c,O=j-u;return c===void 0||E>=e||E<0||f&&O>=i}function b(){var j=Bb();if(y(j))return x(j);o=setTimeout(b,m(j))}function x(j){return o=void 0,h&&n?p(j):(n=a=void 0,s)}function N(){o!==void 0&&clearTimeout(o),u=0,n=c=a=o=void 0}function A(){return o===void 0?s:x(Bb())}function w(){var j=Bb(),E=y(j);if(n=arguments,a=this,c=j,E){if(o===void 0)return g(c);if(f)return clearTimeout(o),o=setTimeout(b,e),p(c)}return o===void 0&&(o=setTimeout(b,e)),s}return w.cancel=N,w.flush=A,w}var Qfe=Zfe,Jfe=Qfe,ehe=za,the="Expected a function";function rhe(t,e,r){var n=!0,a=!0;if(typeof t!="function")throw new TypeError(the);return ehe(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),Jfe(t,e,{leading:n,maxWait:e,trailing:a})}var nhe=rhe;const fD=Ct(nhe);function fh(t){"@babel/helpers - typeof";return fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fh(t)}function q_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function bm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?q_(Object(r),!0).forEach(function(n){ahe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):q_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ahe(t,e,r){return e=ihe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ihe(t){var e=she(t,"string");return fh(e)=="symbol"?e:e+""}function she(t,e){if(fh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ohe(t,e){return dhe(t)||uhe(t,e)||che(t,e)||lhe()}function lhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function che(t,e){if(t){if(typeof t=="string")return G_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G_(t,e)}}function G_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function uhe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function dhe(t){if(Array.isArray(t))return t}var V_=R.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=t.width,s=i===void 0?"100%":i,o=t.height,c=o===void 0?"100%":o,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,p=t.children,g=t.debounce,m=g===void 0?0:g,y=t.id,b=t.className,x=t.onResize,N=t.style,A=N===void 0?{}:N,w=R.useRef(null),j=R.useRef();j.current=x,R.useImperativeHandle(e,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var E=R.useState({containerWidth:a.width,containerHeight:a.height}),O=ohe(E,2),k=O[0],L=O[1],C=R.useCallback(function(I,M){L(function(H){var V=Math.round(I),F=Math.round(M);return H.containerWidth===V&&H.containerHeight===F?H:{containerWidth:V,containerHeight:F}})},[]);R.useEffect(function(){var I=function(Y){var Q,se=Y[0].contentRect,$=se.width,W=se.height;C($,W),(Q=j.current)===null||Q===void 0||Q.call(j,$,W)};m>0&&(I=fD(I,m,{trailing:!0,leading:!1}));var M=new ResizeObserver(I),H=w.current.getBoundingClientRect(),V=H.width,F=H.height;return C(V,F),M.observe(w.current),function(){M.disconnect()}},[C,m]);var P=R.useMemo(function(){var I=k.containerWidth,M=k.containerHeight;if(I<0||M<0)return null;mi(gl(s)||gl(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),mi(!r||r>0,"The aspect(%s) must be greater than zero.",r);var H=gl(s)?I:s,V=gl(c)?M:c;r&&r>0&&(H?V=H/r:V&&(H=V*r),h&&V>h&&(V=h)),mi(H>0||V>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,H,V,s,c,d,f,r);var F=!Array.isArray(p)&&Os(p.type).endsWith("Chart");return z.Children.map(p,function(X){return z.isValidElement(X)?R.cloneElement(X,bm({width:H,height:V},F?{style:bm({height:"100%",width:"100%",maxHeight:V,maxWidth:H},X.props.style)}:{})):X})},[r,p,c,h,f,d,k,s]);return z.createElement("div",{id:y?"".concat(y):void 0,className:Nt("recharts-responsive-container",b),style:bm(bm({},A),{},{width:s,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:w},P)}),Cy=function(e){return null};Cy.displayName="Cell";function hh(t){"@babel/helpers - typeof";return hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hh(t)}function Y_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function O1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Y_(Object(r),!0).forEach(function(n){fhe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Y_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fhe(t,e,r){return e=hhe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hhe(t){var e=phe(t,"string");return hh(e)=="symbol"?e:e+""}function phe(t,e){if(hh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $c={widthCache:{},cacheCount:0},mhe=2e3,ghe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},K_="recharts_measurement_span";function vhe(t){var e=O1({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Of=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||ec.isSsr)return{width:0,height:0};var n=vhe(r),a=JSON.stringify({text:e,copyStyle:n});if($c.widthCache[a])return $c.widthCache[a];try{var i=document.getElementById(K_);i||(i=document.createElement("span"),i.setAttribute("id",K_),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var s=O1(O1({},ghe),n);Object.assign(i.style,s),i.textContent="".concat(e);var o=i.getBoundingClientRect(),c={width:o.width,height:o.height};return $c.widthCache[a]=c,++$c.cacheCount>mhe&&($c.cacheCount=0,$c.widthCache={}),c}catch{return{width:0,height:0}}},yhe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function ph(t){"@babel/helpers - typeof";return ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ph(t)}function Bg(t,e){return She(t)||whe(t,e)||xhe(t,e)||bhe()}function bhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xhe(t,e){if(t){if(typeof t=="string")return X_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return X_(t,e)}}function X_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function whe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function She(t){if(Array.isArray(t))return t}function Nhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z_(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ahe(n.key),n)}}function jhe(t,e,r){return e&&Z_(t.prototype,e),r&&Z_(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ahe(t){var e=_he(t,"string");return ph(e)=="symbol"?e:e+""}function _he(t,e){if(ph(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ph(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Q_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,J_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ehe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Ohe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,hD={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Che=Object.keys(hD),Kc="NaN";function The(t,e){return t*hD[e]}var xm=function(){function t(e,r){Nhe(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!Ehe.test(r)&&(this.num=NaN,this.unit=""),Che.includes(r)&&(this.num=The(e,r),this.unit="px")}return jhe(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=Ohe.exec(r))!==null&&n!==void 0?n:[],i=Bg(a,3),s=i[1],o=i[2];return new t(parseFloat(s),o??"")}}])}();function pD(t){if(t.includes(Kc))return Kc;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=Q_.exec(e))!==null&&r!==void 0?r:[],a=Bg(n,4),i=a[1],s=a[2],o=a[3],c=xm.parse(i??""),u=xm.parse(o??""),d=s==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Kc;e=e.replace(Q_,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=J_.exec(e))!==null&&f!==void 0?f:[],p=Bg(h,4),g=p[1],m=p[2],y=p[3],b=xm.parse(g??""),x=xm.parse(y??""),N=m==="+"?b.add(x):b.subtract(x);if(N.isNaN())return Kc;e=e.replace(J_,N.toString())}return e}var eE=/\(([^()]*)\)/;function khe(t){for(var e=t;e.includes("(");){var r=eE.exec(e),n=Bg(r,2),a=n[1];e=e.replace(eE,pD(a))}return e}function Phe(t){var e=t.replace(/\s+/g,"");return e=khe(e),e=pD(e),e}function Dhe(t){try{return Phe(t)}catch{return Kc}}function Ub(t){var e=Dhe(t.slice(5,-1));return e===Kc?"":e}var Mhe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Rhe=["dx","dy","angle","className","breakAll"];function C1(){return C1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},C1.apply(this,arguments)}function tE(t,e){if(t==null)return{};var r=Lhe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Lhe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function rE(t,e){return Bhe(t)||Fhe(t,e)||$he(t,e)||Ihe()}function Ihe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $he(t,e){if(t){if(typeof t=="string")return nE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nE(t,e)}}function nE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Fhe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function Bhe(t){if(Array.isArray(t))return t}var mD=/[ \f\n\r\t\v\u2028\u2029]+/,gD=function(e){var r=e.children,n=e.breakAll,a=e.style;try{var i=[];wt(r)||(n?i=r.toString().split(""):i=r.toString().split(mD));var s=i.map(function(c){return{word:c,width:Of(c,a).width}}),o=n?0:Of("Â ",a).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},Uhe=function(e,r,n,a,i){var s=e.maxLines,o=e.children,c=e.style,u=e.breakAll,d=Le(s),f=o,h=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return H.reduce(function(V,F){var X=F.word,Y=F.width,Q=V[V.length-1];if(Q&&(a==null||i||Q.width+Y+n<Number(a)))Q.words.push(X),Q.width+=Y+n;else{var se={words:[X],width:Y};V.push(se)}return V},[])},p=h(r),g=function(H){return H.reduce(function(V,F){return V.width>F.width?V:F})};if(!d)return p;for(var m="â€¦",y=function(H){var V=f.slice(0,H),F=gD({breakAll:u,style:c,children:V+m}).wordsWithComputedWidth,X=h(F),Y=X.length>s||g(X).width>Number(a);return[Y,X]},b=0,x=f.length-1,N=0,A;b<=x&&N<=f.length-1;){var w=Math.floor((b+x)/2),j=w-1,E=y(j),O=rE(E,2),k=O[0],L=O[1],C=y(w),P=rE(C,1),I=P[0];if(!k&&!I&&(b=w+1),k&&I&&(x=w-1),!k&&I){A=L;break}N++}return A||p},aE=function(e){var r=wt(e)?[]:e.toString().split(mD);return[{words:r}]},zhe=function(e){var r=e.width,n=e.scaleToFit,a=e.children,i=e.style,s=e.breakAll,o=e.maxLines;if((r||n)&&!ec.isSsr){var c,u,d=gD({breakAll:s,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return aE(a);return Uhe({breakAll:s,children:a,maxLines:o,style:i},c,u,r,n)}return aE(a)},iE="#808080",ql=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,i=a===void 0?0:a,s=e.lineHeight,o=s===void 0?"1em":s,c=e.capHeight,u=c===void 0?"0.71em":c,d=e.scaleToFit,f=d===void 0?!1:d,h=e.textAnchor,p=h===void 0?"start":h,g=e.verticalAnchor,m=g===void 0?"end":g,y=e.fill,b=y===void 0?iE:y,x=tE(e,Mhe),N=R.useMemo(function(){return zhe({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:f,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,f,x.style,x.width]),A=x.dx,w=x.dy,j=x.angle,E=x.className,O=x.breakAll,k=tE(x,Rhe);if(!Xr(n)||!Xr(i))return null;var L=n+(Le(A)?A:0),C=i+(Le(w)?w:0),P;switch(m){case"start":P=Ub("calc(".concat(u,")"));break;case"middle":P=Ub("calc(".concat((N.length-1)/2," * -").concat(o," + (").concat(u," / 2))"));break;default:P=Ub("calc(".concat(N.length-1," * -").concat(o,")"));break}var I=[];if(f){var M=N[0].width,H=x.width;I.push("scale(".concat((Le(H)?H/M:1)/M,")"))}return j&&I.push("rotate(".concat(j,", ").concat(L,", ").concat(C,")")),I.length&&(k.transform=I.join(" ")),z.createElement("text",C1({},et(k,!0),{x:L,y:C,className:Nt("recharts-text",E),textAnchor:p,fill:b.includes("url")?iE:b}),N.map(function(V,F){var X=V.words.join(O?"":" ");return z.createElement("tspan",{x:L,dy:F===0?P:o,key:"".concat(X,"-").concat(F)},X)}))};function wo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Whe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function O5(t){let e,r,n;t.length!==2?(e=wo,r=(o,c)=>wo(t(o),c),n=(o,c)=>t(o)-c):(e=t===wo||t===Whe?t:Hhe,r=t,n=t);function a(o,c,u=0,d=o.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;r(o[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(o,c,u=0,d=o.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;r(o[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function s(o,c,u=0,d=o.length){const f=a(o,c,u,d-1);return f>u&&n(o[f-1],c)>-n(o[f],c)?f-1:f}return{left:a,center:s,right:i}}function Hhe(){return 0}function vD(t){return t===null?NaN:+t}function*qhe(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const Ghe=O5(wo),np=Ghe.right;O5(vD).center;class sE extends Map{constructor(e,r=Khe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,a]of e)this.set(n,a)}get(e){return super.get(oE(this,e))}has(e){return super.has(oE(this,e))}set(e,r){return super.set(Vhe(this,e),r)}delete(e){return super.delete(Yhe(this,e))}}function oE({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function Vhe({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function Yhe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function Khe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Xhe(t=wo){if(t===wo)return yD;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function yD(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Zhe=Math.sqrt(50),Qhe=Math.sqrt(10),Jhe=Math.sqrt(2);function Ug(t,e,r){const n=(e-t)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=Zhe?10:i>=Qhe?5:i>=Jhe?2:1;let o,c,u;return a<0?(u=Math.pow(10,-a)/s,o=Math.round(t*u),c=Math.round(e*u),o/u<t&&++o,c/u>e&&--c,u=-u):(u=Math.pow(10,a)*s,o=Math.round(t/u),c=Math.round(e/u),o*u<t&&++o,c*u>e&&--c),c<o&&.5<=r&&r<2?Ug(t,e,r*2):[o,c,u]}function T1(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[a,i,s]=n?Ug(e,t,r):Ug(t,e,r);if(!(i>=a))return[];const o=i-a+1,c=new Array(o);if(n)if(s<0)for(let u=0;u<o;++u)c[u]=(i-u)/-s;else for(let u=0;u<o;++u)c[u]=(i-u)*s;else if(s<0)for(let u=0;u<o;++u)c[u]=(a+u)/-s;else for(let u=0;u<o;++u)c[u]=(a+u)*s;return c}function k1(t,e,r){return e=+e,t=+t,r=+r,Ug(t,e,r)[2]}function P1(t,e,r){e=+e,t=+t,r=+r;const n=e<t,a=n?k1(e,t,r):k1(t,e,r);return(n?-1:1)*(a<0?1/-a:a)}function lE(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function cE(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function bD(t,e,r=0,n=1/0,a){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(a=a===void 0?yD:Xhe(a);n>r;){if(n-r>600){const c=n-r+1,u=e-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(e-u*f/c+h)),g=Math.min(n,Math.floor(e+(c-u)*f/c+h));bD(t,e,p,g,a)}const i=t[e];let s=r,o=n;for(of(t,r,e),a(t[n],i)>0&&of(t,r,n);s<o;){for(of(t,s,o),++s,--o;a(t[s],i)<0;)++s;for(;a(t[o],i)>0;)--o}a(t[r],i)===0?of(t,r,o):(++o,of(t,o,n)),o<=e&&(r=o+1),e<=o&&(n=o-1)}return t}function of(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function epe(t,e,r){if(t=Float64Array.from(qhe(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return cE(t);if(e>=1)return lE(t);var n,a=(n-1)*e,i=Math.floor(a),s=lE(bD(t,i).subarray(0,i+1)),o=cE(t.subarray(i+1));return s+(o-s)*(a-i)}}function tpe(t,e,r=vD){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,a=(n-1)*e,i=Math.floor(a),s=+r(t[i],i,t),o=+r(t[i+1],i+1,t);return s+(o-s)*(a-i)}}function rpe(t,e,r){t=+t,e=+e,r=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((e-t)/r))|0,i=new Array(a);++n<a;)i[n]=t+n*r;return i}function qa(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Bs(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const D1=Symbol("implicit");function C5(){var t=new sE,e=[],r=[],n=D1;function a(i){let s=t.get(i);if(s===void 0){if(n!==D1)return n;t.set(i,s=e.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new sE;for(const s of i)t.has(s)||t.set(s,e.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return C5(e,r).unknown(n)},qa.apply(a,arguments),a}function mh(){var t=C5().unknown(void 0),e=t.domain,r=t.range,n=0,a=1,i,s,o=!1,c=0,u=0,d=.5;delete t.unknown;function f(){var h=e().length,p=a<n,g=p?a:n,m=p?n:a;i=(m-g)/Math.max(1,h-c+u*2),o&&(i=Math.floor(i)),g+=(m-g-i*(h-c))*d,s=i*(1-c),o&&(g=Math.round(g),s=Math.round(s));var y=rpe(h).map(function(b){return g+i*b});return r(p?y.reverse():y)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},t.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,o=!0,f()},t.bandwidth=function(){return s},t.step=function(){return i},t.round=function(h){return arguments.length?(o=!!h,f()):o},t.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},t.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},t.copy=function(){return mh(e(),[n,a]).round(o).paddingInner(c).paddingOuter(u).align(d)},qa.apply(f(),arguments)}function xD(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return xD(e())},t}function Cf(){return xD(mh.apply(null,arguments).paddingInner(1))}function T5(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function wD(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function ap(){}var gh=.7,zg=1/gh,lu="\\s*([+-]?\\d+)\\s*",vh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Zi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",npe=/^#([0-9a-f]{3,8})$/,ape=new RegExp(`^rgb\\(${lu},${lu},${lu}\\)$`),ipe=new RegExp(`^rgb\\(${Zi},${Zi},${Zi}\\)$`),spe=new RegExp(`^rgba\\(${lu},${lu},${lu},${vh}\\)$`),ope=new RegExp(`^rgba\\(${Zi},${Zi},${Zi},${vh}\\)$`),lpe=new RegExp(`^hsl\\(${vh},${Zi},${Zi}\\)$`),cpe=new RegExp(`^hsla\\(${vh},${Zi},${Zi},${vh}\\)$`),uE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};T5(ap,yh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:dE,formatHex:dE,formatHex8:upe,formatHsl:dpe,formatRgb:fE,toString:fE});function dE(){return this.rgb().formatHex()}function upe(){return this.rgb().formatHex8()}function dpe(){return SD(this).formatHsl()}function fE(){return this.rgb().formatRgb()}function yh(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=npe.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?hE(e):r===3?new Jn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?wm(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?wm(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=ape.exec(t))?new Jn(e[1],e[2],e[3],1):(e=ipe.exec(t))?new Jn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=spe.exec(t))?wm(e[1],e[2],e[3],e[4]):(e=ope.exec(t))?wm(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=lpe.exec(t))?gE(e[1],e[2]/100,e[3]/100,1):(e=cpe.exec(t))?gE(e[1],e[2]/100,e[3]/100,e[4]):uE.hasOwnProperty(t)?hE(uE[t]):t==="transparent"?new Jn(NaN,NaN,NaN,0):null}function hE(t){return new Jn(t>>16&255,t>>8&255,t&255,1)}function wm(t,e,r,n){return n<=0&&(t=e=r=NaN),new Jn(t,e,r,n)}function fpe(t){return t instanceof ap||(t=yh(t)),t?(t=t.rgb(),new Jn(t.r,t.g,t.b,t.opacity)):new Jn}function M1(t,e,r,n){return arguments.length===1?fpe(t):new Jn(t,e,r,n??1)}function Jn(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}T5(Jn,M1,wD(ap,{brighter(t){return t=t==null?zg:Math.pow(zg,t),new Jn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?gh:Math.pow(gh,t),new Jn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Jn(El(this.r),El(this.g),El(this.b),Wg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:pE,formatHex:pE,formatHex8:hpe,formatRgb:mE,toString:mE}));function pE(){return`#${vl(this.r)}${vl(this.g)}${vl(this.b)}`}function hpe(){return`#${vl(this.r)}${vl(this.g)}${vl(this.b)}${vl((isNaN(this.opacity)?1:this.opacity)*255)}`}function mE(){const t=Wg(this.opacity);return`${t===1?"rgb(":"rgba("}${El(this.r)}, ${El(this.g)}, ${El(this.b)}${t===1?")":`, ${t})`}`}function Wg(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function El(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function vl(t){return t=El(t),(t<16?"0":"")+t.toString(16)}function gE(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new di(t,e,r,n)}function SD(t){if(t instanceof di)return new di(t.h,t.s,t.l,t.opacity);if(t instanceof ap||(t=yh(t)),!t)return new di;if(t instanceof di)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,a=Math.min(e,r,n),i=Math.max(e,r,n),s=NaN,o=i-a,c=(i+a)/2;return o?(e===i?s=(r-n)/o+(r<n)*6:r===i?s=(n-e)/o+2:s=(e-r)/o+4,o/=c<.5?i+a:2-i-a,s*=60):o=c>0&&c<1?0:s,new di(s,o,c,t.opacity)}function ppe(t,e,r,n){return arguments.length===1?SD(t):new di(t,e,r,n??1)}function di(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}T5(di,ppe,wD(ap,{brighter(t){return t=t==null?zg:Math.pow(zg,t),new di(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?gh:Math.pow(gh,t),new di(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,a=2*r-n;return new Jn(zb(t>=240?t-240:t+120,a,n),zb(t,a,n),zb(t<120?t+240:t-120,a,n),this.opacity)},clamp(){return new di(vE(this.h),Sm(this.s),Sm(this.l),Wg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Wg(this.opacity);return`${t===1?"hsl(":"hsla("}${vE(this.h)}, ${Sm(this.s)*100}%, ${Sm(this.l)*100}%${t===1?")":`, ${t})`}`}}));function vE(t){return t=(t||0)%360,t<0?t+360:t}function Sm(t){return Math.max(0,Math.min(1,t||0))}function zb(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const k5=t=>()=>t;function mpe(t,e){return function(r){return t+r*e}}function gpe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function vpe(t){return(t=+t)==1?ND:function(e,r){return r-e?gpe(e,r,t):k5(isNaN(e)?r:e)}}function ND(t,e){var r=e-t;return r?mpe(t,r):k5(isNaN(t)?e:t)}const yE=function t(e){var r=vpe(e);function n(a,i){var s=r((a=M1(a)).r,(i=M1(i)).r),o=r(a.g,i.g),c=r(a.b,i.b),u=ND(a.opacity,i.opacity);return function(d){return a.r=s(d),a.g=o(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=t,n}(1);function ype(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=t[a]*(1-i)+e[a]*i;return n}}function bpe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function xpe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=md(t[s],e[s]);for(;s<r;++s)i[s]=e[s];return function(o){for(s=0;s<n;++s)i[s]=a[s](o);return i}}function wpe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Hg(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function Spe(t,e){var r={},n={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?r[a]=md(t[a],e[a]):n[a]=e[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var R1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Wb=new RegExp(R1.source,"g");function Npe(t){return function(){return t}}function jpe(t){return function(e){return t(e)+""}}function Ape(t,e){var r=R1.lastIndex=Wb.lastIndex=0,n,a,i,s=-1,o=[],c=[];for(t=t+"",e=e+"";(n=R1.exec(t))&&(a=Wb.exec(e));)(i=a.index)>r&&(i=e.slice(r,i),o[s]?o[s]+=i:o[++s]=i),(n=n[0])===(a=a[0])?o[s]?o[s]+=a:o[++s]=a:(o[++s]=null,c.push({i:s,x:Hg(n,a)})),r=Wb.lastIndex;return r<e.length&&(i=e.slice(r),o[s]?o[s]+=i:o[++s]=i),o.length<2?c[0]?jpe(c[0].x):Npe(e):(e=c.length,function(u){for(var d=0,f;d<e;++d)o[(f=c[d]).i]=f.x(u);return o.join("")})}function md(t,e){var r=typeof e,n;return e==null||r==="boolean"?k5(e):(r==="number"?Hg:r==="string"?(n=yh(e))?(e=n,yE):Ape:e instanceof yh?yE:e instanceof Date?wpe:bpe(e)?ype:Array.isArray(e)?xpe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Spe:Hg)(t,e)}function P5(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function _pe(t,e){e===void 0&&(e=t,t=md);for(var r=0,n=e.length-1,a=e[0],i=new Array(n<0?0:n);r<n;)i[r]=t(a,a=e[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[o](s-o)}}function Epe(t){return function(){return t}}function qg(t){return+t}var bE=[0,1];function zn(t){return t}function L1(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:Epe(isNaN(e)?NaN:.5)}function Ope(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function Cpe(t,e,r){var n=t[0],a=t[1],i=e[0],s=e[1];return a<n?(n=L1(a,n),i=r(s,i)):(n=L1(n,a),i=r(i,s)),function(o){return i(n(o))}}function Tpe(t,e,r){var n=Math.min(t.length,e.length)-1,a=new Array(n),i=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)a[s]=L1(t[s],t[s+1]),i[s]=r(e[s],e[s+1]);return function(o){var c=np(t,o,1,n)-1;return i[c](a[c](o))}}function ip(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ty(){var t=bE,e=bE,r=md,n,a,i,s=zn,o,c,u;function d(){var h=Math.min(t.length,e.length);return s!==zn&&(s=Ope(t[0],t[h-1])),o=h>2?Tpe:Cpe,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=o(t.map(n),e,r)))(n(s(h)))}return f.invert=function(h){return s(a((u||(u=o(e,t.map(n),Hg)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,qg),d()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),r=P5,d()},f.clamp=function(h){return arguments.length?(s=h?!0:zn,d()):s!==zn},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,p){return n=h,a=p,d()}}function D5(){return Ty()(zn,zn)}function kpe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Gg(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Ou(t){return t=Gg(Math.abs(t)),t?t[1]:NaN}function Ppe(t,e){return function(r,n){for(var a=r.length,i=[],s=0,o=t[0],c=0;a>0&&o>0&&(c+o+1>n&&(o=Math.max(1,n-c)),i.push(r.substring(a-=o,a+o)),!((c+=o+1)>n));)o=t[s=(s+1)%t.length];return i.reverse().join(e)}}function Dpe(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var Mpe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function bh(t){if(!(e=Mpe.exec(t)))throw new Error("invalid format: "+t);var e;return new M5({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}bh.prototype=M5.prototype;function M5(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}M5.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Rpe(t){e:for(var e=t.length,r=1,n=-1,a;r<e;++r)switch(t[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(a+1):t}var jD;function Lpe(t,e){var r=Gg(t,e);if(!r)return t+"";var n=r[0],a=r[1],i=a-(jD=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Gg(t,Math.max(0,e+i-1))[0]}function xE(t,e){var r=Gg(t,e);if(!r)return t+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const wE={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:kpe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>xE(t*100,e),r:xE,s:Lpe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function SE(t){return t}var NE=Array.prototype.map,jE=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function Ipe(t){var e=t.grouping===void 0||t.thousands===void 0?SE:Ppe(NE.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?SE:Dpe(NE.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"âˆ’":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(f){f=bh(f);var h=f.fill,p=f.align,g=f.sign,m=f.symbol,y=f.zero,b=f.width,x=f.comma,N=f.precision,A=f.trim,w=f.type;w==="n"?(x=!0,w="g"):wE[w]||(N===void 0&&(N=12),A=!0,w="g"),(y||h==="0"&&p==="=")&&(y=!0,h="0",p="=");var j=m==="$"?r:m==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",E=m==="$"?n:/[%p]/.test(w)?s:"",O=wE[w],k=/[defgprs%]/.test(w);N=N===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function L(C){var P=j,I=E,M,H,V;if(w==="c")I=O(C)+I,C="";else{C=+C;var F=C<0||1/C<0;if(C=isNaN(C)?c:O(Math.abs(C),N),A&&(C=Rpe(C)),F&&+C==0&&g!=="+"&&(F=!1),P=(F?g==="("?g:o:g==="-"||g==="("?"":g)+P,I=(w==="s"?jE[8+jD/3]:"")+I+(F&&g==="("?")":""),k){for(M=-1,H=C.length;++M<H;)if(V=C.charCodeAt(M),48>V||V>57){I=(V===46?a+C.slice(M+1):C.slice(M))+I,C=C.slice(0,M);break}}}x&&!y&&(C=e(C,1/0));var X=P.length+C.length+I.length,Y=X<b?new Array(b-X+1).join(h):"";switch(x&&y&&(C=e(Y+C,Y.length?b-I.length:1/0),Y=""),p){case"<":C=P+C+I+Y;break;case"=":C=P+Y+C+I;break;case"^":C=Y.slice(0,X=Y.length>>1)+P+C+I+Y.slice(X);break;default:C=Y+P+C+I;break}return i(C)}return L.toString=function(){return f+""},L}function d(f,h){var p=u((f=bh(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(Ou(h)/3)))*3,m=Math.pow(10,-g),y=jE[8+g/3];return function(b){return p(m*b)+y}}return{format:u,formatPrefix:d}}var Nm,R5,AD;$pe({thousands:",",grouping:[3],currency:["$",""]});function $pe(t){return Nm=Ipe(t),R5=Nm.format,AD=Nm.formatPrefix,Nm}function Fpe(t){return Math.max(0,-Ou(Math.abs(t)))}function Bpe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ou(e)/3)))*3-Ou(Math.abs(t)))}function Upe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ou(e)-Ou(t))+1}function _D(t,e,r,n){var a=P1(t,e,r),i;switch(n=bh(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(i=Bpe(a,s))&&(n.precision=i),AD(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=Upe(a,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=Fpe(a))&&(n.precision=i-(n.type==="%")*2);break}}return R5(n)}function Lo(t){var e=t.domain;return t.ticks=function(r){var n=e();return T1(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var a=e();return _D(a[0],a[a.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),a=0,i=n.length-1,s=n[a],o=n[i],c,u,d=10;for(o<s&&(u=s,s=o,o=u,u=a,a=i,i=u);d-- >0;){if(u=k1(s,o,r),u===c)return n[a]=s,n[i]=o,e(n);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;c=u}return t},t}function Vg(){var t=D5();return t.copy=function(){return ip(t,Vg())},qa.apply(t,arguments),Lo(t)}function ED(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,qg),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return ED(t).unknown(e)},t=arguments.length?Array.from(t,qg):[0,1],Lo(r)}function OD(t,e){t=t.slice();var r=0,n=t.length-1,a=t[r],i=t[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),t[r]=e.floor(a),t[n]=e.ceil(i),t}function AE(t){return Math.log(t)}function _E(t){return Math.exp(t)}function zpe(t){return-Math.log(-t)}function Wpe(t){return-Math.exp(-t)}function Hpe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function qpe(t){return t===10?Hpe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Gpe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function EE(t){return(e,r)=>-t(-e,r)}function L5(t){const e=t(AE,_E),r=e.domain;let n=10,a,i;function s(){return a=Gpe(n),i=qpe(n),r()[0]<0?(a=EE(a),i=EE(i),t(zpe,Wpe)):t(AE,_E),e}return e.base=function(o){return arguments.length?(n=+o,s()):n},e.domain=function(o){return arguments.length?(r(o),s()):r()},e.ticks=o=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),p=a(d),g,m;const y=o==null?10:+o;let b=[];if(!(n%1)&&p-h<y){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(g=1;g<n;++g)if(m=h<0?g/i(-h):g*i(h),!(m<u)){if(m>d)break;b.push(m)}}else for(;h<=p;++h)for(g=n-1;g>=1;--g)if(m=h>0?g/i(-h):g*i(h),!(m<u)){if(m>d)break;b.push(m)}b.length*2<y&&(b=T1(u,d,y))}else b=T1(h,p,Math.min(p-h,y)).map(i);return f?b.reverse():b},e.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=bh(c)).precision==null&&(c.trim=!0),c=R5(c)),o===1/0)return c;const u=Math.max(1,n*o/e.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},e.nice=()=>r(OD(r(),{floor:o=>i(Math.floor(a(o))),ceil:o=>i(Math.ceil(a(o)))})),e}function CD(){const t=L5(Ty()).domain([1,10]);return t.copy=()=>ip(t,CD()).base(t.base()),qa.apply(t,arguments),t}function OE(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function CE(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function I5(t){var e=1,r=t(OE(e),CE(e));return r.constant=function(n){return arguments.length?t(OE(e=+n),CE(e)):e},Lo(r)}function TD(){var t=I5(Ty());return t.copy=function(){return ip(t,TD()).constant(t.constant())},qa.apply(t,arguments)}function TE(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Vpe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Ype(t){return t<0?-t*t:t*t}function $5(t){var e=t(zn,zn),r=1;function n(){return r===1?t(zn,zn):r===.5?t(Vpe,Ype):t(TE(r),TE(1/r))}return e.exponent=function(a){return arguments.length?(r=+a,n()):r},Lo(e)}function F5(){var t=$5(Ty());return t.copy=function(){return ip(t,F5()).exponent(t.exponent())},qa.apply(t,arguments),t}function Kpe(){return F5.apply(null,arguments).exponent(.5)}function kE(t){return Math.sign(t)*t*t}function Xpe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function kD(){var t=D5(),e=[0,1],r=!1,n;function a(i){var s=Xpe(t(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return t.invert(kE(i))},a.domain=function(i){return arguments.length?(t.domain(i),a):t.domain()},a.range=function(i){return arguments.length?(t.range((e=Array.from(i,qg)).map(kE)),a):e.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(t.clamp(i),a):t.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return kD(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},qa.apply(a,arguments),Lo(a)}function PD(){var t=[],e=[],r=[],n;function a(){var s=0,o=Math.max(1,e.length);for(r=new Array(o-1);++s<o;)r[s-1]=tpe(t,s/o);return i}function i(s){return s==null||isNaN(s=+s)?n:e[np(r,s)]}return i.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:t[0],o<r.length?r[o]:t[t.length-1]]},i.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(wo),a()},i.range=function(s){return arguments.length?(e=Array.from(s),a()):e.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return PD().domain(t).range(e).unknown(n)},qa.apply(i,arguments)}function DD(){var t=0,e=1,r=1,n=[.5],a=[0,1],i;function s(c){return c!=null&&c<=c?a[np(n,c,0,r)]:i}function o(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return s}return s.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,o()):[t,e]},s.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,o()):a.slice()},s.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},s.unknown=function(c){return arguments.length&&(i=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return DD().domain([t,e]).range(a).unknown(i)},qa.apply(Lo(s),arguments)}function MD(){var t=[.5],e=[0,1],r,n=1;function a(i){return i!=null&&i<=i?e[np(t,i,0,n)]:r}return a.domain=function(i){return arguments.length?(t=Array.from(i),n=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(i){return arguments.length?(e=Array.from(i),n=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(i){var s=e.indexOf(i);return[t[s-1],t[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return MD().domain(t).range(e).unknown(r)},qa.apply(a,arguments)}const Hb=new Date,qb=new Date;function Jr(t,e,r,n){function a(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(t(i=new Date(+i)),i),a.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),a.round=i=>{const s=a(i),o=a.ceil(i);return i-s<o-i?s:o},a.offset=(i,s)=>(e(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,o)=>{const c=[];if(i=a.ceil(i),o=o==null?1:Math.floor(o),!(i<s)||!(o>0))return c;let u;do c.push(u=new Date(+i)),e(i,o),t(i);while(u<i&&i<s);return c},a.filter=i=>Jr(s=>{if(s>=s)for(;t(s),!i(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!i(s););else for(;--o>=0;)for(;e(s,1),!i(s););}),r&&(a.count=(i,s)=>(Hb.setTime(+i),qb.setTime(+s),t(Hb),t(qb),Math.floor(r(Hb,qb))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const Yg=Jr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Yg.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Jr(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Yg);Yg.range;const Ns=1e3,La=Ns*60,js=La*60,Ms=js*24,B5=Ms*7,PE=Ms*30,Gb=Ms*365,yl=Jr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ns)},(t,e)=>(e-t)/Ns,t=>t.getUTCSeconds());yl.range;const U5=Jr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ns)},(t,e)=>{t.setTime(+t+e*La)},(t,e)=>(e-t)/La,t=>t.getMinutes());U5.range;const z5=Jr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*La)},(t,e)=>(e-t)/La,t=>t.getUTCMinutes());z5.range;const W5=Jr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ns-t.getMinutes()*La)},(t,e)=>{t.setTime(+t+e*js)},(t,e)=>(e-t)/js,t=>t.getHours());W5.range;const H5=Jr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*js)},(t,e)=>(e-t)/js,t=>t.getUTCHours());H5.range;const sp=Jr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*La)/Ms,t=>t.getDate()-1);sp.range;const ky=Jr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ms,t=>t.getUTCDate()-1);ky.range;const RD=Jr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ms,t=>Math.floor(t/Ms));RD.range;function tc(t){return Jr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*La)/B5)}const Py=tc(0),Kg=tc(1),Zpe=tc(2),Qpe=tc(3),Cu=tc(4),Jpe=tc(5),eme=tc(6);Py.range;Kg.range;Zpe.range;Qpe.range;Cu.range;Jpe.range;eme.range;function rc(t){return Jr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/B5)}const Dy=rc(0),Xg=rc(1),tme=rc(2),rme=rc(3),Tu=rc(4),nme=rc(5),ame=rc(6);Dy.range;Xg.range;tme.range;rme.range;Tu.range;nme.range;ame.range;const q5=Jr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());q5.range;const G5=Jr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());G5.range;const Rs=Jr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Rs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Jr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Rs.range;const Ls=Jr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ls.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Jr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Ls.range;function LD(t,e,r,n,a,i){const s=[[yl,1,Ns],[yl,5,5*Ns],[yl,15,15*Ns],[yl,30,30*Ns],[i,1,La],[i,5,5*La],[i,15,15*La],[i,30,30*La],[a,1,js],[a,3,3*js],[a,6,6*js],[a,12,12*js],[n,1,Ms],[n,2,2*Ms],[r,1,B5],[e,1,PE],[e,3,3*PE],[t,1,Gb]];function o(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),g=p?p.range(u,+d+1):[];return h?g.reverse():g}function c(u,d,f){const h=Math.abs(d-u)/f,p=O5(([,,y])=>y).right(s,h);if(p===s.length)return t.every(P1(u/Gb,d/Gb,f));if(p===0)return Yg.every(Math.max(P1(u,d,f),1));const[g,m]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return g.every(m)}return[o,c]}const[ime,sme]=LD(Ls,G5,Dy,RD,H5,z5),[ome,lme]=LD(Rs,q5,Py,sp,W5,U5);function Vb(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Yb(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function lf(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function cme(t){var e=t.dateTime,r=t.date,n=t.time,a=t.periods,i=t.days,s=t.shortDays,o=t.months,c=t.shortMonths,u=cf(a),d=uf(a),f=cf(i),h=uf(i),p=cf(s),g=uf(s),m=cf(o),y=uf(o),b=cf(c),x=uf(c),N={a:F,A:X,b:Y,B:Q,c:null,d:$E,e:$E,f:Pme,g:zme,G:Hme,H:Cme,I:Tme,j:kme,L:ID,m:Dme,M:Mme,p:se,q:$,Q:UE,s:zE,S:Rme,u:Lme,U:Ime,V:$me,w:Fme,W:Bme,x:null,X:null,y:Ume,Y:Wme,Z:qme,"%":BE},A={a:W,A:ee,b:ae,B:oe,c:null,d:FE,e:FE,f:Kme,g:ige,G:oge,H:Gme,I:Vme,j:Yme,L:FD,m:Xme,M:Zme,p:me,q:fe,Q:UE,s:zE,S:Qme,u:Jme,U:ege,V:tge,w:rge,W:nge,x:null,X:null,y:age,Y:sge,Z:lge,"%":BE},w={a:L,A:C,b:P,B:I,c:M,d:LE,e:LE,f:Ame,g:RE,G:ME,H:IE,I:IE,j:wme,L:jme,m:xme,M:Sme,p:k,q:bme,Q:Eme,s:Ome,S:Nme,u:pme,U:mme,V:gme,w:hme,W:vme,x:H,X:V,y:RE,Y:ME,Z:yme,"%":_me};N.x=j(r,N),N.X=j(n,N),N.c=j(e,N),A.x=j(r,A),A.X=j(n,A),A.c=j(e,A);function j(J,ve){return function(xe){var pe=[],Te=-1,Me=0,we=J.length,ne,Qe,He;for(xe instanceof Date||(xe=new Date(+xe));++Te<we;)J.charCodeAt(Te)===37&&(pe.push(J.slice(Me,Te)),(Qe=DE[ne=J.charAt(++Te)])!=null?ne=J.charAt(++Te):Qe=ne==="e"?" ":"0",(He=ve[ne])&&(ne=He(xe,Qe)),pe.push(ne),Me=Te+1);return pe.push(J.slice(Me,Te)),pe.join("")}}function E(J,ve){return function(xe){var pe=lf(1900,void 0,1),Te=O(pe,J,xe+="",0),Me,we;if(Te!=xe.length)return null;if("Q"in pe)return new Date(pe.Q);if("s"in pe)return new Date(pe.s*1e3+("L"in pe?pe.L:0));if(ve&&!("Z"in pe)&&(pe.Z=0),"p"in pe&&(pe.H=pe.H%12+pe.p*12),pe.m===void 0&&(pe.m="q"in pe?pe.q:0),"V"in pe){if(pe.V<1||pe.V>53)return null;"w"in pe||(pe.w=1),"Z"in pe?(Me=Yb(lf(pe.y,0,1)),we=Me.getUTCDay(),Me=we>4||we===0?Xg.ceil(Me):Xg(Me),Me=ky.offset(Me,(pe.V-1)*7),pe.y=Me.getUTCFullYear(),pe.m=Me.getUTCMonth(),pe.d=Me.getUTCDate()+(pe.w+6)%7):(Me=Vb(lf(pe.y,0,1)),we=Me.getDay(),Me=we>4||we===0?Kg.ceil(Me):Kg(Me),Me=sp.offset(Me,(pe.V-1)*7),pe.y=Me.getFullYear(),pe.m=Me.getMonth(),pe.d=Me.getDate()+(pe.w+6)%7)}else("W"in pe||"U"in pe)&&("w"in pe||(pe.w="u"in pe?pe.u%7:"W"in pe?1:0),we="Z"in pe?Yb(lf(pe.y,0,1)).getUTCDay():Vb(lf(pe.y,0,1)).getDay(),pe.m=0,pe.d="W"in pe?(pe.w+6)%7+pe.W*7-(we+5)%7:pe.w+pe.U*7-(we+6)%7);return"Z"in pe?(pe.H+=pe.Z/100|0,pe.M+=pe.Z%100,Yb(pe)):Vb(pe)}}function O(J,ve,xe,pe){for(var Te=0,Me=ve.length,we=xe.length,ne,Qe;Te<Me;){if(pe>=we)return-1;if(ne=ve.charCodeAt(Te++),ne===37){if(ne=ve.charAt(Te++),Qe=w[ne in DE?ve.charAt(Te++):ne],!Qe||(pe=Qe(J,xe,pe))<0)return-1}else if(ne!=xe.charCodeAt(pe++))return-1}return pe}function k(J,ve,xe){var pe=u.exec(ve.slice(xe));return pe?(J.p=d.get(pe[0].toLowerCase()),xe+pe[0].length):-1}function L(J,ve,xe){var pe=p.exec(ve.slice(xe));return pe?(J.w=g.get(pe[0].toLowerCase()),xe+pe[0].length):-1}function C(J,ve,xe){var pe=f.exec(ve.slice(xe));return pe?(J.w=h.get(pe[0].toLowerCase()),xe+pe[0].length):-1}function P(J,ve,xe){var pe=b.exec(ve.slice(xe));return pe?(J.m=x.get(pe[0].toLowerCase()),xe+pe[0].length):-1}function I(J,ve,xe){var pe=m.exec(ve.slice(xe));return pe?(J.m=y.get(pe[0].toLowerCase()),xe+pe[0].length):-1}function M(J,ve,xe){return O(J,e,ve,xe)}function H(J,ve,xe){return O(J,r,ve,xe)}function V(J,ve,xe){return O(J,n,ve,xe)}function F(J){return s[J.getDay()]}function X(J){return i[J.getDay()]}function Y(J){return c[J.getMonth()]}function Q(J){return o[J.getMonth()]}function se(J){return a[+(J.getHours()>=12)]}function $(J){return 1+~~(J.getMonth()/3)}function W(J){return s[J.getUTCDay()]}function ee(J){return i[J.getUTCDay()]}function ae(J){return c[J.getUTCMonth()]}function oe(J){return o[J.getUTCMonth()]}function me(J){return a[+(J.getUTCHours()>=12)]}function fe(J){return 1+~~(J.getUTCMonth()/3)}return{format:function(J){var ve=j(J+="",N);return ve.toString=function(){return J},ve},parse:function(J){var ve=E(J+="",!1);return ve.toString=function(){return J},ve},utcFormat:function(J){var ve=j(J+="",A);return ve.toString=function(){return J},ve},utcParse:function(J){var ve=E(J+="",!0);return ve.toString=function(){return J},ve}}}var DE={"-":"",_:" ",0:"0"},ln=/^\s*\d+/,ume=/^%/,dme=/[\\^$*+?|[\]().{}]/g;function It(t,e,r){var n=t<0?"-":"",a=(n?-t:t)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(e)+a:a)}function fme(t){return t.replace(dme,"\\$&")}function cf(t){return new RegExp("^(?:"+t.map(fme).join("|")+")","i")}function uf(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function hme(t,e,r){var n=ln.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function pme(t,e,r){var n=ln.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function mme(t,e,r){var n=ln.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function gme(t,e,r){var n=ln.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function vme(t,e,r){var n=ln.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function ME(t,e,r){var n=ln.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function RE(t,e,r){var n=ln.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function yme(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function bme(t,e,r){var n=ln.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function xme(t,e,r){var n=ln.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function LE(t,e,r){var n=ln.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function wme(t,e,r){var n=ln.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function IE(t,e,r){var n=ln.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function Sme(t,e,r){var n=ln.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function Nme(t,e,r){var n=ln.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function jme(t,e,r){var n=ln.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function Ame(t,e,r){var n=ln.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function _me(t,e,r){var n=ume.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function Eme(t,e,r){var n=ln.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function Ome(t,e,r){var n=ln.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function $E(t,e){return It(t.getDate(),e,2)}function Cme(t,e){return It(t.getHours(),e,2)}function Tme(t,e){return It(t.getHours()%12||12,e,2)}function kme(t,e){return It(1+sp.count(Rs(t),t),e,3)}function ID(t,e){return It(t.getMilliseconds(),e,3)}function Pme(t,e){return ID(t,e)+"000"}function Dme(t,e){return It(t.getMonth()+1,e,2)}function Mme(t,e){return It(t.getMinutes(),e,2)}function Rme(t,e){return It(t.getSeconds(),e,2)}function Lme(t){var e=t.getDay();return e===0?7:e}function Ime(t,e){return It(Py.count(Rs(t)-1,t),e,2)}function $D(t){var e=t.getDay();return e>=4||e===0?Cu(t):Cu.ceil(t)}function $me(t,e){return t=$D(t),It(Cu.count(Rs(t),t)+(Rs(t).getDay()===4),e,2)}function Fme(t){return t.getDay()}function Bme(t,e){return It(Kg.count(Rs(t)-1,t),e,2)}function Ume(t,e){return It(t.getFullYear()%100,e,2)}function zme(t,e){return t=$D(t),It(t.getFullYear()%100,e,2)}function Wme(t,e){return It(t.getFullYear()%1e4,e,4)}function Hme(t,e){var r=t.getDay();return t=r>=4||r===0?Cu(t):Cu.ceil(t),It(t.getFullYear()%1e4,e,4)}function qme(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+It(e/60|0,"0",2)+It(e%60,"0",2)}function FE(t,e){return It(t.getUTCDate(),e,2)}function Gme(t,e){return It(t.getUTCHours(),e,2)}function Vme(t,e){return It(t.getUTCHours()%12||12,e,2)}function Yme(t,e){return It(1+ky.count(Ls(t),t),e,3)}function FD(t,e){return It(t.getUTCMilliseconds(),e,3)}function Kme(t,e){return FD(t,e)+"000"}function Xme(t,e){return It(t.getUTCMonth()+1,e,2)}function Zme(t,e){return It(t.getUTCMinutes(),e,2)}function Qme(t,e){return It(t.getUTCSeconds(),e,2)}function Jme(t){var e=t.getUTCDay();return e===0?7:e}function ege(t,e){return It(Dy.count(Ls(t)-1,t),e,2)}function BD(t){var e=t.getUTCDay();return e>=4||e===0?Tu(t):Tu.ceil(t)}function tge(t,e){return t=BD(t),It(Tu.count(Ls(t),t)+(Ls(t).getUTCDay()===4),e,2)}function rge(t){return t.getUTCDay()}function nge(t,e){return It(Xg.count(Ls(t)-1,t),e,2)}function age(t,e){return It(t.getUTCFullYear()%100,e,2)}function ige(t,e){return t=BD(t),It(t.getUTCFullYear()%100,e,2)}function sge(t,e){return It(t.getUTCFullYear()%1e4,e,4)}function oge(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Tu(t):Tu.ceil(t),It(t.getUTCFullYear()%1e4,e,4)}function lge(){return"+0000"}function BE(){return"%"}function UE(t){return+t}function zE(t){return Math.floor(+t/1e3)}var Fc,UD,zD;cge({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function cge(t){return Fc=cme(t),UD=Fc.format,Fc.parse,zD=Fc.utcFormat,Fc.utcParse,Fc}function uge(t){return new Date(t)}function dge(t){return t instanceof Date?+t:+new Date(+t)}function V5(t,e,r,n,a,i,s,o,c,u){var d=D5(),f=d.invert,h=d.domain,p=u(".%L"),g=u(":%S"),m=u("%I:%M"),y=u("%I %p"),b=u("%a %d"),x=u("%b %d"),N=u("%B"),A=u("%Y");function w(j){return(c(j)<j?p:o(j)<j?g:s(j)<j?m:i(j)<j?y:n(j)<j?a(j)<j?b:x:r(j)<j?N:A)(j)}return d.invert=function(j){return new Date(f(j))},d.domain=function(j){return arguments.length?h(Array.from(j,dge)):h().map(uge)},d.ticks=function(j){var E=h();return t(E[0],E[E.length-1],j??10)},d.tickFormat=function(j,E){return E==null?w:u(E)},d.nice=function(j){var E=h();return(!j||typeof j.range!="function")&&(j=e(E[0],E[E.length-1],j??10)),j?h(OD(E,j)):d},d.copy=function(){return ip(d,V5(t,e,r,n,a,i,s,o,c,u))},d}function fge(){return qa.apply(V5(ome,lme,Rs,q5,Py,sp,W5,U5,yl,UD).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function hge(){return qa.apply(V5(ime,sme,Ls,G5,Dy,ky,H5,z5,yl,zD).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function My(){var t=0,e=1,r,n,a,i,s=zn,o=!1,c;function u(f){return f==null||isNaN(f=+f)?c:s(a===0?.5:(f=(i(f)-r)*a,o?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,r=i(t=+t),n=i(e=+e),a=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(f){return arguments.length?(o=!!f,u):o},u.interpolator=function(f){return arguments.length?(s=f,u):s};function d(f){return function(h){var p,g;return arguments.length?([p,g]=h,s=f(p,g),u):[s(0),s(1)]}}return u.range=d(md),u.rangeRound=d(P5),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(t),n=f(e),a=r===n?0:1/(n-r),u}}function Io(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function WD(){var t=Lo(My()(zn));return t.copy=function(){return Io(t,WD())},Bs.apply(t,arguments)}function HD(){var t=L5(My()).domain([1,10]);return t.copy=function(){return Io(t,HD()).base(t.base())},Bs.apply(t,arguments)}function qD(){var t=I5(My());return t.copy=function(){return Io(t,qD()).constant(t.constant())},Bs.apply(t,arguments)}function Y5(){var t=$5(My());return t.copy=function(){return Io(t,Y5()).exponent(t.exponent())},Bs.apply(t,arguments)}function pge(){return Y5.apply(null,arguments).exponent(.5)}function GD(){var t=[],e=zn;function r(n){if(n!=null&&!isNaN(n=+n))return e((np(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let a of n)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(wo),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,a)=>e(a/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>epe(t,i/n))},r.copy=function(){return GD(e).domain(t)},Bs.apply(r,arguments)}function Ry(){var t=0,e=.5,r=1,n=1,a,i,s,o,c,u=zn,d,f=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+d(m))-i)*(n*m<n*i?o:c),u(f?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([t,e,r]=m,a=d(t=+t),i=d(e=+e),s=d(r=+r),o=a===i?0:.5/(i-a),c=i===s?0:.5/(s-i),n=i<a?-1:1,p):[t,e,r]},p.clamp=function(m){return arguments.length?(f=!!m,p):f},p.interpolator=function(m){return arguments.length?(u=m,p):u};function g(m){return function(y){var b,x,N;return arguments.length?([b,x,N]=y,u=_pe(m,[b,x,N]),p):[u(0),u(.5),u(1)]}}return p.range=g(md),p.rangeRound=g(P5),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return d=m,a=m(t),i=m(e),s=m(r),o=a===i?0:.5/(i-a),c=i===s?0:.5/(s-i),n=i<a?-1:1,p}}function VD(){var t=Lo(Ry()(zn));return t.copy=function(){return Io(t,VD())},Bs.apply(t,arguments)}function YD(){var t=L5(Ry()).domain([.1,1,10]);return t.copy=function(){return Io(t,YD()).base(t.base())},Bs.apply(t,arguments)}function KD(){var t=I5(Ry());return t.copy=function(){return Io(t,KD()).constant(t.constant())},Bs.apply(t,arguments)}function K5(){var t=$5(Ry());return t.copy=function(){return Io(t,K5()).exponent(t.exponent())},Bs.apply(t,arguments)}function mge(){return K5.apply(null,arguments).exponent(.5)}const WE=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:mh,scaleDiverging:VD,scaleDivergingLog:YD,scaleDivergingPow:K5,scaleDivergingSqrt:mge,scaleDivergingSymlog:KD,scaleIdentity:ED,scaleImplicit:D1,scaleLinear:Vg,scaleLog:CD,scaleOrdinal:C5,scalePoint:Cf,scalePow:F5,scaleQuantile:PD,scaleQuantize:DD,scaleRadial:kD,scaleSequential:WD,scaleSequentialLog:HD,scaleSequentialPow:Y5,scaleSequentialQuantile:GD,scaleSequentialSqrt:pge,scaleSequentialSymlog:qD,scaleSqrt:Kpe,scaleSymlog:TD,scaleThreshold:MD,scaleTime:fge,scaleUtc:hge,tickFormat:_D},Symbol.toStringTag,{value:"Module"}));var gge=rd;function vge(t,e,r){for(var n=-1,a=t.length;++n<a;){var i=t[n],s=e(i);if(s!=null&&(o===void 0?s===s&&!gge(s):r(s,o)))var o=s,c=i}return c}var Ly=vge;function yge(t,e){return t>e}var XD=yge,bge=Ly,xge=XD,wge=cd;function Sge(t){return t&&t.length?bge(t,wge,xge):void 0}var Nge=Sge;const go=Ct(Nge);function jge(t,e){return t<e}var ZD=jge,Age=Ly,_ge=ZD,Ege=cd;function Oge(t){return t&&t.length?Age(t,Ege,_ge):void 0}var Cge=Oge;const Iy=Ct(Cge);var Tge=Uv,kge=xi,Pge=pk,Dge=kn;function Mge(t,e){var r=Dge(t)?Tge:Pge;return r(t,kge(e))}var Rge=Mge,Lge=g2,Ige=Rge;function $ge(t,e){return Lge(Ige(t,e),1)}var Fge=$ge;const Bge=Ct(Fge);var gd=1e9,Uge={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Z5,yr=!0,Ua="[DecimalError] ",Ol=Ua+"Invalid argument: ",X5=Ua+"Exponent out of range: ",vd=Math.floor,dl=Math.pow,zge=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,fa,nn=1e7,fr=7,QD=9007199254740991,Zg=vd(QD/fr),Ke={};Ke.absoluteValue=Ke.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ke.comparedTo=Ke.cmp=function(t){var e,r,n,a,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(n=i.d.length,a=t.d.length,e=0,r=n<a?n:a;e<r;++e)if(i.d[e]!==t.d[e])return i.d[e]>t.d[e]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Ke.decimalPlaces=Ke.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*fr;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Ke.dividedBy=Ke.div=function(t){return Cs(this,new this.constructor(t))};Ke.dividedToIntegerBy=Ke.idiv=function(t){var e=this,r=e.constructor;return nr(Cs(e,new r(t),0,1),r.precision)};Ke.equals=Ke.eq=function(t){return!this.cmp(t)};Ke.exponent=function(){return qr(this)};Ke.greaterThan=Ke.gt=function(t){return this.cmp(t)>0};Ke.greaterThanOrEqualTo=Ke.gte=function(t){return this.cmp(t)>=0};Ke.isInteger=Ke.isint=function(){return this.e>this.d.length-2};Ke.isNegative=Ke.isneg=function(){return this.s<0};Ke.isPositive=Ke.ispos=function(){return this.s>0};Ke.isZero=function(){return this.s===0};Ke.lessThan=Ke.lt=function(t){return this.cmp(t)<0};Ke.lessThanOrEqualTo=Ke.lte=function(t){return this.cmp(t)<1};Ke.logarithm=Ke.log=function(t){var e,r=this,n=r.constructor,a=n.precision,i=a+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(fa))throw Error(Ua+"NaN");if(r.s<1)throw Error(Ua+(r.s?"NaN":"-Infinity"));return r.eq(fa)?new n(0):(yr=!1,e=Cs(xh(r,i),xh(t,i),i),yr=!0,nr(e,a))};Ke.minus=Ke.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?t6(e,t):JD(e,(t.s=-t.s,t))};Ke.modulo=Ke.mod=function(t){var e,r=this,n=r.constructor,a=n.precision;if(t=new n(t),!t.s)throw Error(Ua+"NaN");return r.s?(yr=!1,e=Cs(r,t,0,1).times(t),yr=!0,r.minus(e)):nr(new n(r),a)};Ke.naturalExponential=Ke.exp=function(){return e6(this)};Ke.naturalLogarithm=Ke.ln=function(){return xh(this)};Ke.negated=Ke.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ke.plus=Ke.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?JD(e,t):t6(e,(t.s=-t.s,t))};Ke.precision=Ke.sd=function(t){var e,r,n,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ol+t);if(e=qr(a)+1,n=a.d.length-1,r=n*fr+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Ke.squareRoot=Ke.sqrt=function(){var t,e,r,n,a,i,s,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error(Ua+"NaN")}for(t=qr(o),yr=!1,a=Math.sqrt(+o),a==0||a==1/0?(e=qi(o.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=vd((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(a.toString()),r=c.precision,a=s=r+3;;)if(i=n,n=i.plus(Cs(o,i,s+2)).times(.5),qi(i.d).slice(0,s)===(e=qi(n.d)).slice(0,s)){if(e=e.slice(s-3,s+1),a==s&&e=="4999"){if(nr(i,r+1,0),i.times(i).eq(o)){n=i;break}}else if(e!="9999")break;s+=4}return yr=!0,nr(n,r)};Ke.times=Ke.mul=function(t){var e,r,n,a,i,s,o,c,u,d=this,f=d.constructor,h=d.d,p=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,r=d.e+t.e,c=h.length,u=p.length,c<u&&(i=h,h=p,p=i,s=c,c=u,u=s),i=[],s=c+u,n=s;n--;)i.push(0);for(n=u;--n>=0;){for(e=0,a=c+n;a>n;)o=i[a]+p[n]*h[a-n-1]+e,i[a--]=o%nn|0,e=o/nn|0;i[a]=(i[a]+e)%nn|0}for(;!i[--s];)i.pop();return e?++r:i.shift(),t.d=i,t.e=r,yr?nr(t,f.precision):t};Ke.toDecimalPlaces=Ke.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(ts(t,0,gd),e===void 0?e=n.rounding:ts(e,0,8),nr(r,t+qr(r)+1,e))};Ke.toExponential=function(t,e){var r,n=this,a=n.constructor;return t===void 0?r=Gl(n,!0):(ts(t,0,gd),e===void 0?e=a.rounding:ts(e,0,8),n=nr(new a(n),t+1,e),r=Gl(n,!0,t+1)),r};Ke.toFixed=function(t,e){var r,n,a=this,i=a.constructor;return t===void 0?Gl(a):(ts(t,0,gd),e===void 0?e=i.rounding:ts(e,0,8),n=nr(new i(a),t+qr(a)+1,e),r=Gl(n.abs(),!1,t+qr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Ke.toInteger=Ke.toint=function(){var t=this,e=t.constructor;return nr(new e(t),qr(t)+1,e.rounding)};Ke.toNumber=function(){return+this};Ke.toPower=Ke.pow=function(t){var e,r,n,a,i,s,o=this,c=o.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c(fa);if(o=new c(o),!o.s){if(t.s<1)throw Error(Ua+"Infinity");return o}if(o.eq(fa))return o;if(n=c.precision,t.eq(fa))return nr(o,n);if(e=t.e,r=t.d.length-1,s=e>=r,i=o.s,s){if((r=d<0?-d:d)<=QD){for(a=new c(fa),e=Math.ceil(n/fr+4),yr=!1;r%2&&(a=a.times(o),qE(a.d,e)),r=vd(r/2),r!==0;)o=o.times(o),qE(o.d,e);return yr=!0,t.s<0?new c(fa).div(a):nr(a,n)}}else if(i<0)throw Error(Ua+"NaN");return i=i<0&&t.d[Math.max(e,r)]&1?-1:1,o.s=1,yr=!1,a=t.times(xh(o,n+u)),yr=!0,a=e6(a),a.s=i,a};Ke.toPrecision=function(t,e){var r,n,a=this,i=a.constructor;return t===void 0?(r=qr(a),n=Gl(a,r<=i.toExpNeg||r>=i.toExpPos)):(ts(t,1,gd),e===void 0?e=i.rounding:ts(e,0,8),a=nr(new i(a),t,e),r=qr(a),n=Gl(a,t<=r||r<=i.toExpNeg,t)),n};Ke.toSignificantDigits=Ke.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(ts(t,1,gd),e===void 0?e=n.rounding:ts(e,0,8)),nr(new n(r),t,e)};Ke.toString=Ke.valueOf=Ke.val=Ke.toJSON=Ke[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=qr(t),r=t.constructor;return Gl(t,e<=r.toExpNeg||e>=r.toExpPos)};function JD(t,e){var r,n,a,i,s,o,c,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),yr?nr(e,f):e;if(c=t.d,u=e.d,s=t.e,a=e.e,c=c.slice(),i=s-a,i){for(i<0?(n=c,i=-i,o=u.length):(n=u,a=s,o=c.length),s=Math.ceil(f/fr),o=s>o?s+1:o+1,i>o&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(o=c.length,i=u.length,o-i<0&&(i=o,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/nn|0,c[i]%=nn;for(r&&(c.unshift(r),++a),o=c.length;c[--o]==0;)c.pop();return e.d=c,e.e=a,yr?nr(e,f):e}function ts(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Ol+t)}function qi(t){var e,r,n,a=t.length-1,i="",s=t[0];if(a>0){for(i+=s,e=1;e<a;e++)n=t[e]+"",r=fr-n.length,r&&(i+=oo(r)),i+=n;s=t[e],n=s+"",r=fr-n.length,r&&(i+=oo(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var Cs=function(){function t(n,a){var i,s=0,o=n.length;for(n=n.slice();o--;)i=n[o]*a+s,n[o]=i%nn|0,s=i/nn|0;return s&&n.unshift(s),n}function e(n,a,i,s){var o,c;if(i!=s)c=i>s?1:-1;else for(o=c=0;o<i;o++)if(n[o]!=a[o]){c=n[o]>a[o]?1:-1;break}return c}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*nn+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var o,c,u,d,f,h,p,g,m,y,b,x,N,A,w,j,E,O,k=n.constructor,L=n.s==a.s?1:-1,C=n.d,P=a.d;if(!n.s)return new k(n);if(!a.s)throw Error(Ua+"Division by zero");for(c=n.e-a.e,E=P.length,w=C.length,p=new k(L),g=p.d=[],u=0;P[u]==(C[u]||0);)++u;if(P[u]>(C[u]||0)&&--c,i==null?x=i=k.precision:s?x=i+(qr(n)-qr(a))+1:x=i,x<0)return new k(0);if(x=x/fr+2|0,u=0,E==1)for(d=0,P=P[0],x++;(u<w||d)&&x--;u++)N=d*nn+(C[u]||0),g[u]=N/P|0,d=N%P|0;else{for(d=nn/(P[0]+1)|0,d>1&&(P=t(P,d),C=t(C,d),E=P.length,w=C.length),A=E,m=C.slice(0,E),y=m.length;y<E;)m[y++]=0;O=P.slice(),O.unshift(0),j=P[0],P[1]>=nn/2&&++j;do d=0,o=e(P,m,E,y),o<0?(b=m[0],E!=y&&(b=b*nn+(m[1]||0)),d=b/j|0,d>1?(d>=nn&&(d=nn-1),f=t(P,d),h=f.length,y=m.length,o=e(f,m,h,y),o==1&&(d--,r(f,E<h?O:P,h))):(d==0&&(o=d=1),f=P.slice()),h=f.length,h<y&&f.unshift(0),r(m,f,y),o==-1&&(y=m.length,o=e(P,m,E,y),o<1&&(d++,r(m,E<y?O:P,y))),y=m.length):o===0&&(d++,m=[0]),g[u++]=d,o&&m[0]?m[y++]=C[A]||0:(m=[C[A]],y=1);while((A++<w||m[0]!==void 0)&&x--)}return g[0]||g.shift(),p.e=c,nr(p,s?i+qr(p)+1:i)}}();function e6(t,e){var r,n,a,i,s,o,c=0,u=0,d=t.constructor,f=d.precision;if(qr(t)>16)throw Error(X5+qr(t));if(!t.s)return new d(fa);for(yr=!1,o=f,s=new d(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(n=Math.log(dl(2,u))/Math.LN10*2+5|0,o+=n,r=a=i=new d(fa),d.precision=o;;){if(a=nr(a.times(t),o),r=r.times(++c),s=i.plus(Cs(a,r,o)),qi(s.d).slice(0,o)===qi(i.d).slice(0,o)){for(;u--;)i=nr(i.times(i),o);return d.precision=f,e==null?(yr=!0,nr(i,f)):i}i=s}}function qr(t){for(var e=t.e*fr,r=t.d[0];r>=10;r/=10)e++;return e}function Kb(t,e,r){if(e>t.LN10.sd())throw yr=!0,r&&(t.precision=r),Error(Ua+"LN10 precision limit exceeded");return nr(new t(t.LN10),e)}function oo(t){for(var e="";t--;)e+="0";return e}function xh(t,e){var r,n,a,i,s,o,c,u,d,f=1,h=10,p=t,g=p.d,m=p.constructor,y=m.precision;if(p.s<1)throw Error(Ua+(p.s?"NaN":"-Infinity"));if(p.eq(fa))return new m(0);if(e==null?(yr=!1,u=y):u=e,p.eq(10))return e==null&&(yr=!0),Kb(m,u);if(u+=h,m.precision=u,r=qi(g),n=r.charAt(0),i=qr(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(t),r=qi(p.d),n=r.charAt(0),f++;i=qr(p),n>1?(p=new m("0."+r),i++):p=new m(n+"."+r.slice(1))}else return c=Kb(m,u+2,y).times(i+""),p=xh(new m(n+"."+r.slice(1)),u-h).plus(c),m.precision=y,e==null?(yr=!0,nr(p,y)):p;for(o=s=p=Cs(p.minus(fa),p.plus(fa),u),d=nr(p.times(p),u),a=3;;){if(s=nr(s.times(d),u),c=o.plus(Cs(s,new m(a),u)),qi(c.d).slice(0,u)===qi(o.d).slice(0,u))return o=o.times(2),i!==0&&(o=o.plus(Kb(m,u+2,y).times(i+""))),o=Cs(o,new m(f),u),m.precision=y,e==null?(yr=!0,nr(o,y)):o;o=c,a+=2}}function HE(t,e){var r,n,a;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(n,a),e){if(a-=n,r=r-n-1,t.e=vd(r/fr),t.d=[],n=(r+1)%fr,r<0&&(n+=fr),n<a){for(n&&t.d.push(+e.slice(0,n)),a-=fr;n<a;)t.d.push(+e.slice(n,n+=fr));e=e.slice(n),n=fr-e.length}else n-=a;for(;n--;)e+="0";if(t.d.push(+e),yr&&(t.e>Zg||t.e<-Zg))throw Error(X5+r)}else t.s=0,t.e=0,t.d=[0];return t}function nr(t,e,r){var n,a,i,s,o,c,u,d,f=t.d;for(s=1,i=f[0];i>=10;i/=10)s++;if(n=e-s,n<0)n+=fr,a=e,u=f[d=0];else{if(d=Math.ceil((n+1)/fr),i=f.length,d>=i)return t;for(u=i=f[d],s=1;i>=10;i/=10)s++;n%=fr,a=n-fr+s}if(r!==void 0&&(i=dl(10,s-a-1),o=u/i%10|0,c=e<0||f[d+1]!==void 0||u%i,c=r<4?(o||c)&&(r==0||r==(t.s<0?3:2)):o>5||o==5&&(r==4||c||r==6&&(n>0?a>0?u/dl(10,s-a):0:f[d-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return c?(i=qr(t),f.length=1,e=e-i-1,f[0]=dl(10,(fr-e%fr)%fr),t.e=vd(-e/fr)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=dl(10,fr-n),f[d]=a>0?(u/dl(10,s-a)%dl(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==nn&&(f[0]=1,++t.e);break}else{if(f[d]+=i,f[d]!=nn)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(yr&&(t.e>Zg||t.e<-Zg))throw Error(X5+qr(t));return t}function t6(t,e){var r,n,a,i,s,o,c,u,d,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),yr?nr(e,p):e;if(c=t.d,f=e.d,n=e.e,u=t.e,c=c.slice(),s=u-n,s){for(d=s<0,d?(r=c,s=-s,o=f.length):(r=f,n=u,o=c.length),a=Math.max(Math.ceil(p/fr),o)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=c.length,o=f.length,d=a<o,d&&(o=a),a=0;a<o;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}s=0}for(d&&(r=c,c=f,f=r,e.s=-e.s),o=c.length,a=f.length-o;a>0;--a)c[o++]=0;for(a=f.length;a>s;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=nn-1;--c[i],c[a]+=nn}c[a]-=f[a]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,yr?nr(e,p):e):new h(0)}function Gl(t,e,r){var n,a=qr(t),i=qi(t.d),s=i.length;return e?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+oo(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+oo(-a-1)+i,r&&(n=r-s)>0&&(i+=oo(n))):a>=s?(i+=oo(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+oo(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=oo(n))),t.s<0?"-"+i:i}function qE(t,e){if(t.length>e)return t.length=e,!0}function r6(t){var e,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Ol+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return HE(s,i.toString())}else if(typeof i!="string")throw Error(Ol+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,zge.test(i))HE(s,i);else throw Error(Ol+i)}if(a.prototype=Ke,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=r6,a.config=a.set=Wge,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return a.config(t),a}function Wge(t){if(!t||typeof t!="object")throw Error(Ua+"Object expected");var e,r,n,a=["precision",1,gd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((n=t[r=a[e]])!==void 0)if(vd(n)===n&&n>=a[e+1]&&n<=a[e+2])this[r]=n;else throw Error(Ol+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ol+r+": "+n);return this}var Z5=r6(Uge);fa=new Z5(1);const Kt=Z5;function Hge(t){return Yge(t)||Vge(t)||Gge(t)||qge()}function qge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gge(t,e){if(t){if(typeof t=="string")return I1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I1(t,e)}}function Vge(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Yge(t){if(Array.isArray(t))return I1(t)}function I1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Kge=function(e){return e},n6={},a6=function(e){return e===n6},GE=function(e){return function r(){return arguments.length===0||arguments.length===1&&a6(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},Xge=function t(e,r){return e===1?r:GE(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var s=a.filter(function(o){return o!==n6}).length;return s>=e?r.apply(void 0,a):t(e-s,GE(function(){for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];var d=a.map(function(f){return a6(f)?c.shift():f});return r.apply(void 0,Hge(d).concat(c))}))})},$y=function(e){return Xge(e.length,e)},$1=function(e,r){for(var n=[],a=e;a<r;++a)n[a-e]=a;return n},Zge=$y(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),Qge=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return Kge;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce(function(o,c){return c(o)},i.apply(void 0,arguments))}},F1=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},i6=function(e){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r&&i.every(function(o,c){return o===r[c]})||(r=i,n=e.apply(void 0,i)),n}};function Jge(t){var e;return t===0?e=1:e=Math.floor(new Kt(t).abs().log(10).toNumber())+1,e}function eve(t,e,r){for(var n=new Kt(t),a=0,i=[];n.lt(e)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var tve=$y(function(t,e,r){var n=+t,a=+e;return n+r*(a-n)}),rve=$y(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),nve=$y(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const Fy={rangeStep:eve,getDigitCount:Jge,interpolateNumber:tve,uninterpolateNumber:rve,uninterpolateTruncation:nve};function B1(t){return sve(t)||ive(t)||s6(t)||ave()}function ave(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ive(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function sve(t){if(Array.isArray(t))return U1(t)}function wh(t,e){return cve(t)||lve(t,e)||s6(t,e)||ove()}function ove(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s6(t,e){if(t){if(typeof t=="string")return U1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U1(t,e)}}function U1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function lve(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,a=!1,i=void 0;try{for(var s=t[Symbol.iterator](),o;!(n=(o=s.next()).done)&&(r.push(o.value),!(e&&r.length===e));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&s.return!=null&&s.return()}finally{if(a)throw i}}return r}}function cve(t){if(Array.isArray(t))return t}function o6(t){var e=wh(t,2),r=e[0],n=e[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function l6(t,e,r){if(t.lte(0))return new Kt(0);var n=Fy.getDigitCount(t.toNumber()),a=new Kt(10).pow(n),i=t.div(a),s=n!==1?.05:.1,o=new Kt(Math.ceil(i.div(s).toNumber())).add(r).mul(s),c=o.mul(a);return e?c:new Kt(Math.ceil(c))}function uve(t,e,r){var n=1,a=new Kt(t);if(!a.isint()&&r){var i=Math.abs(t);i<1?(n=new Kt(10).pow(Fy.getDigitCount(t)-1),a=new Kt(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Kt(Math.floor(t)))}else t===0?a=new Kt(Math.floor((e-1)/2)):r||(a=new Kt(Math.floor(t)));var s=Math.floor((e-1)/2),o=Qge(Zge(function(c){return a.add(new Kt(c-s).mul(n)).toNumber()}),$1);return o(0,e)}function c6(t,e,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Kt(0),tickMin:new Kt(0),tickMax:new Kt(0)};var i=l6(new Kt(e).sub(t).div(r-1),n,a),s;t<=0&&e>=0?s=new Kt(0):(s=new Kt(t).add(e).div(2),s=s.sub(new Kt(s).mod(i)));var o=Math.ceil(s.sub(t).div(i).toNumber()),c=Math.ceil(new Kt(e).sub(s).div(i).toNumber()),u=o+c+1;return u>r?c6(t,e,r,n,a+1):(u<r&&(c=e>0?c+(r-u):c,o=e>0?o:o+(r-u)),{step:i,tickMin:s.sub(new Kt(o).mul(i)),tickMax:s.add(new Kt(c).mul(i))})}function dve(t){var e=wh(t,2),r=e[0],n=e[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(a,2),o=o6([r,n]),c=wh(o,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(B1($1(0,a-1).map(function(){return 1/0}))):[].concat(B1($1(0,a-1).map(function(){return-1/0})),[d]);return r>n?F1(f):f}if(u===d)return uve(u,a,i);var h=c6(u,d,s,i),p=h.step,g=h.tickMin,m=h.tickMax,y=Fy.rangeStep(g,m.add(new Kt(.1).mul(p)),p);return r>n?F1(y):y}function fve(t,e){var r=wh(t,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=o6([n,a]),o=wh(s,2),c=o[0],u=o[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(e,2),f=l6(new Kt(u).sub(c).div(d-1),i,0),h=[].concat(B1(Fy.rangeStep(new Kt(c),new Kt(u).sub(new Kt(.99).mul(f)),f)),[u]);return n>a?F1(h):h}var hve=i6(dve),pve=i6(fve),mve="Invariant failed";function Vl(t,e){throw new Error(mve)}var gve=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function ku(t){"@babel/helpers - typeof";return ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ku(t)}function Qg(){return Qg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qg.apply(this,arguments)}function vve(t,e){return wve(t)||xve(t,e)||bve(t,e)||yve()}function yve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bve(t,e){if(t){if(typeof t=="string")return VE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VE(t,e)}}function VE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function xve(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function wve(t){if(Array.isArray(t))return t}function Sve(t,e){if(t==null)return{};var r=Nve(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Nve(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function jve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ave(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,f6(n.key),n)}}function _ve(t,e,r){return e&&Ave(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Eve(t,e,r){return e=Jg(e),Ove(t,u6()?Reflect.construct(e,r||[],Jg(t).constructor):e.apply(t,r))}function Ove(t,e){if(e&&(ku(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cve(t)}function Cve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u6=function(){return!!t})()}function Jg(t){return Jg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jg(t)}function Tve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&z1(t,e)}function z1(t,e){return z1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},z1(t,e)}function d6(t,e,r){return e=f6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function f6(t){var e=kve(t,"string");return ku(e)=="symbol"?e:e+""}function kve(t,e){if(ku(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ku(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var By=function(t){function e(){return jve(this,e),Eve(this,e,arguments)}return Tve(e,t),_ve(e,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,s=n.width,o=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=Sve(n,gve),p=et(h,!1);this.props.direction==="x"&&d.type!=="number"&&Vl();var g=c.map(function(m){var y=u(m,o),b=y.x,x=y.y,N=y.value,A=y.errorVal;if(!A)return null;var w=[],j,E;if(Array.isArray(A)){var O=vve(A,2);j=O[0],E=O[1]}else j=E=A;if(i==="vertical"){var k=d.scale,L=x+a,C=L+s,P=L-s,I=k(N-j),M=k(N+E);w.push({x1:M,y1:C,x2:M,y2:P}),w.push({x1:I,y1:L,x2:M,y2:L}),w.push({x1:I,y1:C,x2:I,y2:P})}else if(i==="horizontal"){var H=f.scale,V=b+a,F=V-s,X=V+s,Y=H(N-j),Q=H(N+E);w.push({x1:F,y1:Q,x2:X,y2:Q}),w.push({x1:V,y1:Y,x2:V,y2:Q}),w.push({x1:F,y1:Y,x2:X,y2:Y})}return z.createElement(Pt,Qg({className:"recharts-errorBar",key:"bar-".concat(w.map(function(se){return"".concat(se.x1,"-").concat(se.x2,"-").concat(se.y1,"-").concat(se.y2)}))},p),w.map(function(se){return z.createElement("line",Qg({},se,{key:"line-".concat(se.x1,"-").concat(se.x2,"-").concat(se.y1,"-").concat(se.y2)}))}))});return z.createElement(Pt,{className:"recharts-errorBars"},g)}}])}(z.Component);d6(By,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});d6(By,"displayName","ErrorBar");function Sh(t){"@babel/helpers - typeof";return Sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sh(t)}function YE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function tl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YE(Object(r),!0).forEach(function(n){Pve(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Pve(t,e,r){return e=Dve(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dve(t){var e=Mve(t,"string");return Sh(e)=="symbol"?e:e+""}function Mve(t,e){if(Sh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var h6=function(e){var r=e.children,n=e.formattedGraphicalItems,a=e.legendWidth,i=e.legendContent,s=da(r,_l);if(!s)return null;var o=_l.defaultProps,c=o!==void 0?tl(tl({},o),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,g=p.sectors||p.data||[];return d.concat(g.map(function(m){return{type:s.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?tl(tl({},h),f.props):{},g=p.dataKey,m=p.name,y=p.legendType,b=p.hide;return{inactive:b,dataKey:g,type:c.iconType||y||"square",color:Q5(f),value:m||g,payload:p}}),tl(tl(tl({},c),_l.getWithHeight(s,a)),{},{payload:u,item:s})};function Nh(t){"@babel/helpers - typeof";return Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nh(t)}function KE(t){return $ve(t)||Ive(t)||Lve(t)||Rve()}function Rve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lve(t,e){if(t){if(typeof t=="string")return W1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W1(t,e)}}function Ive(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $ve(t){if(Array.isArray(t))return W1(t)}function W1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function XE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Er(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XE(Object(r),!0).forEach(function(n){cu(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cu(t,e,r){return e=Fve(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fve(t){var e=Bve(t,"string");return Nh(e)=="symbol"?e:e+""}function Bve(t,e){if(Nh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kr(t,e,r){return wt(t)||wt(e)?r:Xr(e)?ma(t,e,r):dt(e)?e(t):r}function Tf(t,e,r,n){var a=Bge(t,function(o){return Kr(o,e)});if(r==="number"){var i=a.filter(function(o){return Le(o)||parseFloat(o)});return i.length?[Iy(i),go(i)]:[1/0,-1/0]}var s=n?a.filter(function(o){return!wt(o)}):a;return s.map(function(o){return Xr(o)||o instanceof Date?o:""})}var Uve=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=-1,o=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<o;u++){var d=u>0?a[u-1].coordinate:a[o-1].coordinate,f=a[u].coordinate,h=u>=o-1?a[0].coordinate:a[u+1].coordinate,p=void 0;if(Bn(f-d)!==Bn(h-f)){var g=[];if(Bn(h-f)===Bn(c[1]-c[0])){p=h;var m=f+c[1]-c[0];g[0]=Math.min(m,(m+d)/2),g[1]=Math.max(m,(m+d)/2)}else{p=d;var y=h+c[1]-c[0];g[0]=Math.min(f,(y+f)/2),g[1]=Math.max(f,(y+f)/2)}var b=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>b[0]&&e<=b[1]||e>=g[0]&&e<=g[1]){s=a[u].index;break}}else{var x=Math.min(d,h),N=Math.max(d,h);if(e>(x+f)/2&&e<=(N+f)/2){s=a[u].index;break}}}else for(var A=0;A<o;A++)if(A===0&&e<=(n[A].coordinate+n[A+1].coordinate)/2||A>0&&A<o-1&&e>(n[A].coordinate+n[A-1].coordinate)/2&&e<=(n[A].coordinate+n[A+1].coordinate)/2||A===o-1&&e>(n[A].coordinate+n[A-1].coordinate)/2){s=n[A].index;break}return s},Q5=function(e){var r,n=e,a=n.type.displayName,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Er(Er({},e.type.defaultProps),e.props):e.props,s=i.stroke,o=i.fill,c;switch(a){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:o;break;default:c=o;break}return c},zve=function(e){var r=e.barSize,n=e.totalSize,a=e.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var s={},o=Object.keys(i),c=0,u=o.length;c<u;c++)for(var d=i[o[c]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var g=d[f[h]],m=g.items,y=g.cateAxisId,b=m.filter(function(E){return Os(E.type).indexOf("Bar")>=0});if(b&&b.length){var x=b[0].type.defaultProps,N=x!==void 0?Er(Er({},x),b[0].props):b[0].props,A=N.barSize,w=N[y];s[w]||(s[w]=[]);var j=wt(A)?r:A;s[w].push({item:b[0],stackList:b.slice(1),barSize:wt(j)?void 0:Un(j,n,0)})}}return s},Wve=function(e){var r=e.barGap,n=e.barCategoryGap,a=e.bandSize,i=e.sizeList,s=i===void 0?[]:i,o=e.maxBarSize,c=s.length;if(c<1)return null;var u=Un(r,a,0,!0),d,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,p=a/c,g=s.reduce(function(A,w){return A+w.barSize||0},0);g+=(c-1)*u,g>=a&&(g-=(c-1)*u,u=0),g>=a&&p>0&&(h=!0,p*=.9,g=c*p);var m=(a-g)/2>>0,y={offset:m-u,size:0};d=s.reduce(function(A,w){var j={item:w.item,position:{offset:y.offset+y.size+u,size:h?p:w.barSize}},E=[].concat(KE(A),[j]);return y=E[E.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(O){E.push({item:O,position:y})}),E},f)}else{var b=Un(n,a,0,!0);a-2*b-(c-1)*u<=0&&(u=0);var x=(a-2*b-(c-1)*u)/c;x>1&&(x>>=0);var N=o===+o?Math.min(x,o):x;d=s.reduce(function(A,w,j){var E=[].concat(KE(A),[{item:w.item,position:{offset:b+(x+u)*j+(x-N)/2,size:N}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(O){E.push({item:O,position:E[E.length-1].position})}),E},f)}return d},Hve=function(e,r,n,a){var i=n.children,s=n.width,o=n.margin,c=s-(o.left||0)-(o.right||0),u=h6({children:i,legendWidth:c});if(u){var d=a||{},f=d.width,h=d.height,p=u.align,g=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&g==="middle")&&p!=="center"&&Le(e[p]))return Er(Er({},e),{},cu({},p,e[p]+(f||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&g!=="middle"&&Le(e[g]))return Er(Er({},e),{},cu({},g,e[g]+(h||0)))}return e},qve=function(e,r,n){return wt(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},p6=function(e,r,n,a,i){var s=r.props.children,o=Ia(s,By).filter(function(u){return qve(a,i,u.props.direction)});if(o&&o.length){var c=o.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=Kr(d,n);if(wt(f))return u;var h=Array.isArray(f)?[Iy(f),go(f)]:[f,f],p=c.reduce(function(g,m){var y=Kr(d,m,0),b=h[0]-Math.abs(Array.isArray(y)?y[0]:y),x=h[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(b,g[0]),Math.max(x,g[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},Gve=function(e,r,n,a,i){var s=r.map(function(o){return p6(e,o,n,i,a)}).filter(function(o){return!wt(o)});return s&&s.length?s.reduce(function(o,c){return[Math.min(o[0],c[0]),Math.max(o[1],c[1])]},[1/0,-1/0]):null},m6=function(e,r,n,a,i){var s=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&p6(e,c,u,a)||Tf(e,u,n,i)});if(n==="number")return s.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var o={};return s.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)o[u[d]]||(o[u[d]]=!0,c.push(u[d]));return c},[])},g6=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},v6=function(e,r,n,a){if(a)return e.map(function(c){return c.coordinate});var i,s,o=e.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(s=!0),c.coordinate});return i||o.push(r),s||o.push(n),o},As=function(e,r,n){if(!e)return null;var a=e.scale,i=e.duplicateDomain,s=e.type,o=e.range,c=e.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&s==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?Bn(o[0]-o[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!hd(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(e.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:i?i[f]:f,index:h,offset:u}})},Xb=new WeakMap,jm=function(e,r){if(typeof r!="function")return e;Xb.has(e)||Xb.set(e,new WeakMap);var n=Xb.get(e);if(n.has(r))return n.get(r);var a=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},y6=function(e,r,n){var a=e.scale,i=e.type,s=e.layout,o=e.axisType;if(a==="auto")return s==="radial"&&o==="radiusAxis"?{scale:mh(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:Vg(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Cf(),realScaleType:"point"}:i==="category"?{scale:mh(),realScaleType:"band"}:{scale:Vg(),realScaleType:"linear"};if(Wl(a)){var c="scale".concat(jy(a));return{scale:(WE[c]||Cf)(),realScaleType:WE[c]?c:"point"}}return dt(a)?{scale:a}:{scale:Cf(),realScaleType:"point"}},ZE=1e-4,b6=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,a=e.range(),i=Math.min(a[0],a[1])-ZE,s=Math.max(a[0],a[1])+ZE,o=e(r[0]),c=e(r[n-1]);(o<i||o>s||c<i||c>s)&&e.domain([r[0],r[n-1]])}},Vve=function(e,r){if(!e)return null;for(var n=0,a=e.length;n<a;n++)if(e[n].item===r)return e[n].position;return null},Yve=function(e,r){if(!r||r.length!==2||!Le(r[0])||!Le(r[1]))return e;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[e[0],e[1]];return(!Le(e[0])||e[0]<n)&&(i[0]=n),(!Le(e[1])||e[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},Kve=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var i=0,s=0,o=0;o<r;++o){var c=hd(e[o][n][1])?e[o][n][0]:e[o][n][1];c>=0?(e[o][n][0]=i,e[o][n][1]=i+c,i=e[o][n][1]):(e[o][n][0]=s,e[o][n][1]=s+c,s=e[o][n][1])}},Xve=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var i=0,s=0;s<r;++s){var o=hd(e[s][n][1])?e[s][n][0]:e[s][n][1];o>=0?(e[s][n][0]=i,e[s][n][1]=i+o,i=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},Zve={sign:Kve,expand:Yue,none:Nu,silhouette:Kue,wiggle:Xue,positive:Xve},Qve=function(e,r,n){var a=r.map(function(o){return o.props.dataKey}),i=Zve[n],s=Vue().keys(a).value(function(o,c){return+Kr(o,c,0)}).order(b1).offset(i);return s(e)},Jve=function(e,r,n,a,i,s){if(!e)return null;var o=s?r.reverse():r,c={},u=o.reduce(function(f,h){var p,g=(p=h.type)!==null&&p!==void 0&&p.defaultProps?Er(Er({},h.type.defaultProps),h.props):h.props,m=g.stackId,y=g.hide;if(y)return f;var b=g[n],x=f[b]||{hasStack:!1,stackGroups:{}};if(Xr(m)){var N=x.stackGroups[m]||{numericAxisId:n,cateAxisId:a,items:[]};N.items.push(h),x.hasStack=!0,x.stackGroups[m]=N}else x.stackGroups[pd("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return Er(Er({},f),{},cu({},b,x))},c),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,y){var b=p.stackGroups[y];return Er(Er({},m),{},cu({},y,{numericAxisId:n,cateAxisId:a,items:b.items,stackedData:Qve(e,b.items,i)}))},g)}return Er(Er({},f),{},cu({},h,p))},d)},x6=function(e,r){var n=r.realScaleType,a=r.type,i=r.tickCount,s=r.originalDomain,o=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=hve(u,i,o);return e.domain([Iy(d),go(d)]),{niceTicks:d}}if(i&&a==="number"){var f=e.domain(),h=pve(f,i,o);return{niceTicks:h}}return null};function QE(t){var e=t.axis,r=t.ticks,n=t.bandSize,a=t.entry,i=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!wt(a[e.dataKey])){var o=Cg(r,"value",a[e.dataKey]);if(o)return o.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=Kr(a,wt(s)?e.dataKey:s);return wt(c)?null:e.scale(c)}var JE=function(e){var r=e.axis,n=e.ticks,a=e.offset,i=e.bandSize,s=e.entry,o=e.index;if(r.type==="category")return n[o]?n[o].coordinate+a:null;var c=Kr(s,r.dataKey,r.domain[o]);return wt(c)?null:r.scale(c)-i/2+a},eye=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},tye=function(e,r){var n,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Er(Er({},e.type.defaultProps),e.props):e.props,i=a.stackId;if(Xr(i)){var s=r[i];if(s){var o=s.items.indexOf(e);return o>=0?s.stackedData[o]:null}}return null},rye=function(e){return e.reduce(function(r,n){return[Iy(n.concat([r[0]]).filter(Le)),go(n.concat([r[1]]).filter(Le))]},[1/0,-1/0])},w6=function(e,r,n){return Object.keys(e).reduce(function(a,i){var s=e[i],o=s.stackedData,c=o.reduce(function(u,d){var f=rye(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},eO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,tO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,H1=function(e,r,n){if(dt(e))return e(r,n);if(!Array.isArray(e))return r;var a=[];if(Le(e[0]))a[0]=n?e[0]:Math.min(e[0],r[0]);else if(eO.test(e[0])){var i=+eO.exec(e[0])[1];a[0]=r[0]-i}else dt(e[0])?a[0]=e[0](r[0]):a[0]=r[0];if(Le(e[1]))a[1]=n?e[1]:Math.max(e[1],r[1]);else if(tO.test(e[1])){var s=+tO.exec(e[1])[1];a[1]=r[1]+s}else dt(e[1])?a[1]=e[1](r[1]):a[1]=r[1];return a},ev=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!n||a>0)return a}if(e&&r&&r.length>=2){for(var i=Hv(r,function(f){return f.coordinate}),s=1/0,o=1,c=i.length;o<c;o++){var u=i[o],d=i[o-1];s=Math.min((u.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},rO=function(e,r,n){return!e||!e.length||Il(e,ma(n,"type.defaultProps.domain"))?r:e},S6=function(e,r){var n=e.type.defaultProps?Er(Er({},e.type.defaultProps),e.props):e.props,a=n.dataKey,i=n.name,s=n.unit,o=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Er(Er({},et(e,!1)),{},{dataKey:a,unit:s,formatter:o,name:i||a,color:Q5(e),value:Kr(r,a),type:c,payload:r,chartType:u,hide:d})};function jh(t){"@babel/helpers - typeof";return jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jh(t)}function nO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ws(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nO(Object(r),!0).forEach(function(n){N6(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function N6(t,e,r){return e=nye(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nye(t){var e=aye(t,"string");return jh(e)=="symbol"?e:e+""}function aye(t,e){if(jh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iye(t,e){return cye(t)||lye(t,e)||oye(t,e)||sye()}function sye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oye(t,e){if(t){if(typeof t=="string")return aO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aO(t,e)}}function aO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function lye(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function cye(t){if(Array.isArray(t))return t}var tv=Math.PI/180,uye=function(e){return e*180/Math.PI},ur=function(e,r,n,a){return{x:e+Math.cos(-tv*a)*n,y:r+Math.sin(-tv*a)*n}},j6=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},dye=function(e,r,n,a,i){var s=e.width,o=e.height,c=e.startAngle,u=e.endAngle,d=Un(e.cx,s,s/2),f=Un(e.cy,o,o/2),h=j6(s,o,n),p=Un(e.innerRadius,h,0),g=Un(e.outerRadius,h,h*.8),m=Object.keys(r);return m.reduce(function(y,b){var x=r[b],N=x.domain,A=x.reversed,w;if(wt(x.range))a==="angleAxis"?w=[c,u]:a==="radiusAxis"&&(w=[p,g]),A&&(w=[w[1],w[0]]);else{w=x.range;var j=w,E=iye(j,2);c=E[0],u=E[1]}var O=y6(x,i),k=O.realScaleType,L=O.scale;L.domain(N).range(w),b6(L);var C=x6(L,ws(ws({},x),{},{realScaleType:k})),P=ws(ws(ws({},x),C),{},{range:w,radius:g,realScaleType:k,scale:L,cx:d,cy:f,innerRadius:p,outerRadius:g,startAngle:c,endAngle:u});return ws(ws({},y),{},N6({},b,P))},{})},fye=function(e,r){var n=e.x,a=e.y,i=r.x,s=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-s,2))},hye=function(e,r){var n=e.x,a=e.y,i=r.cx,s=r.cy,o=fye({x:n,y:a},{x:i,y:s});if(o<=0)return{radius:o};var c=(n-i)/o,u=Math.acos(c);return a>s&&(u=2*Math.PI-u),{radius:o,angle:uye(u),angleInRadian:u}},pye=function(e){var r=e.startAngle,n=e.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return{startAngle:r-s*360,endAngle:n-s*360}},mye=function(e,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),s=Math.floor(a/360),o=Math.min(i,s);return e+o*360},iO=function(e,r){var n=e.x,a=e.y,i=hye({x:n,y:a},r),s=i.radius,o=i.angle,c=r.innerRadius,u=r.outerRadius;if(s<c||s>u)return!1;if(s===0)return!0;var d=pye(r),f=d.startAngle,h=d.endAngle,p=o,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?ws(ws({},r),{},{radius:s,angle:mye(p,r)}):null},A6=function(e){return!R.isValidElement(e)&&!dt(e)&&typeof e!="boolean"?e.className:""};function Ah(t){"@babel/helpers - typeof";return Ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ah(t)}var gye=["offset"];function vye(t){return wye(t)||xye(t)||bye(t)||yye()}function yye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bye(t,e){if(t){if(typeof t=="string")return q1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return q1(t,e)}}function xye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wye(t){if(Array.isArray(t))return q1(t)}function q1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Sye(t,e){if(t==null)return{};var r=Nye(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Nye(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function sO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Yr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sO(Object(r),!0).forEach(function(n){jye(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jye(t,e,r){return e=Aye(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Aye(t){var e=_ye(t,"string");return Ah(e)=="symbol"?e:e+""}function _ye(t,e){if(Ah(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ah(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _h(){return _h=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_h.apply(this,arguments)}var Eye=function(e){var r=e.value,n=e.formatter,a=wt(e.children)?r:e.children;return dt(n)?n(a):a},Oye=function(e,r){var n=Bn(r-e),a=Math.min(Math.abs(r-e),360);return n*a},Cye=function(e,r,n){var a=e.position,i=e.viewBox,s=e.offset,o=e.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,p=c.startAngle,g=c.endAngle,m=c.clockWise,y=(f+h)/2,b=Oye(p,g),x=b>=0?1:-1,N,A;a==="insideStart"?(N=p+x*s,A=m):a==="insideEnd"?(N=g-x*s,A=!m):a==="end"&&(N=g+x*s,A=m),A=b<=0?A:!A;var w=ur(u,d,y,N),j=ur(u,d,y,N+(A?1:-1)*359),E="M".concat(w.x,",").concat(w.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(A?0:1,`,
    `).concat(j.x,",").concat(j.y),O=wt(e.id)?pd("recharts-radial-line-"):e.id;return z.createElement("text",_h({},n,{dominantBaseline:"central",className:Nt("recharts-radial-bar-label",o)}),z.createElement("defs",null,z.createElement("path",{id:O,d:E})),z.createElement("textPath",{xlinkHref:"#".concat(O)},r))},Tye=function(e){var r=e.viewBox,n=e.offset,a=e.position,i=r,s=i.cx,o=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(a==="outside"){var p=ur(s,o,u+n,h),g=p.x,m=p.y;return{x:g,y:m,textAnchor:g>=s?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var y=(c+u)/2,b=ur(s,o,y,h),x=b.x,N=b.y;return{x,y:N,textAnchor:"middle",verticalAnchor:"middle"}},kye=function(e){var r=e.viewBox,n=e.parentViewBox,a=e.offset,i=e.position,s=r,o=s.x,c=s.y,u=s.width,d=s.height,f=d>=0?1:-1,h=f*a,p=f>0?"end":"start",g=f>0?"start":"end",m=u>=0?1:-1,y=m*a,b=m>0?"end":"start",x=m>0?"start":"end";if(i==="top"){var N={x:o+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:p};return Yr(Yr({},N),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var A={x:o+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:g};return Yr(Yr({},A),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var w={x:o-y,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return Yr(Yr({},w),n?{width:Math.max(w.x-n.x,0),height:d}:{})}if(i==="right"){var j={x:o+u+y,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return Yr(Yr({},j),n?{width:Math.max(n.x+n.width-j.x,0),height:d}:{})}var E=n?{width:u,height:d}:{};return i==="insideLeft"?Yr({x:o+y,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},E):i==="insideRight"?Yr({x:o+u-y,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},E):i==="insideTop"?Yr({x:o+u/2,y:c+h,textAnchor:"middle",verticalAnchor:g},E):i==="insideBottom"?Yr({x:o+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:p},E):i==="insideTopLeft"?Yr({x:o+y,y:c+h,textAnchor:x,verticalAnchor:g},E):i==="insideTopRight"?Yr({x:o+u-y,y:c+h,textAnchor:b,verticalAnchor:g},E):i==="insideBottomLeft"?Yr({x:o+y,y:c+d-h,textAnchor:x,verticalAnchor:p},E):i==="insideBottomRight"?Yr({x:o+u-y,y:c+d-h,textAnchor:b,verticalAnchor:p},E):Ju(i)&&(Le(i.x)||gl(i.x))&&(Le(i.y)||gl(i.y))?Yr({x:o+Un(i.x,u),y:c+Un(i.y,d),textAnchor:"end",verticalAnchor:"end"},E):Yr({x:o+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},E)},Pye=function(e){return"cx"in e&&Le(e.cx)};function on(t){var e=t.offset,r=e===void 0?5:e,n=Sye(t,gye),a=Yr({offset:r},n),i=a.viewBox,s=a.position,o=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!i||wt(o)&&wt(c)&&!R.isValidElement(u)&&!dt(u))return null;if(R.isValidElement(u))return R.cloneElement(u,a);var p;if(dt(u)){if(p=R.createElement(u,a),R.isValidElement(p))return p}else p=Eye(a);var g=Pye(i),m=et(a,!0);if(g&&(s==="insideStart"||s==="insideEnd"||s==="end"))return Cye(a,p,m);var y=g?Tye(a):kye(a);return z.createElement(ql,_h({className:Nt("recharts-label",f)},m,y,{breakAll:h}),p)}on.displayName="Label";var _6=function(e){var r=e.cx,n=e.cy,a=e.angle,i=e.startAngle,s=e.endAngle,o=e.r,c=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,h=e.y,p=e.top,g=e.left,m=e.width,y=e.height,b=e.clockWise,x=e.labelViewBox;if(x)return x;if(Le(m)&&Le(y)){if(Le(f)&&Le(h))return{x:f,y:h,width:m,height:y};if(Le(p)&&Le(g))return{x:p,y:g,width:m,height:y}}return Le(f)&&Le(h)?{x:f,y:h,width:0,height:0}:Le(r)&&Le(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:s||a||0,innerRadius:u||0,outerRadius:d||c||o||0,clockWise:b}:e.viewBox?e.viewBox:{}},Dye=function(e,r){return e?e===!0?z.createElement(on,{key:"label-implicit",viewBox:r}):Xr(e)?z.createElement(on,{key:"label-implicit",viewBox:r,value:e}):R.isValidElement(e)?e.type===on?R.cloneElement(e,{key:"label-implicit",viewBox:r}):z.createElement(on,{key:"label-implicit",content:e,viewBox:r}):dt(e)?z.createElement(on,{key:"label-implicit",content:e,viewBox:r}):Ju(e)?z.createElement(on,_h({viewBox:r},e,{key:"label-implicit"})):null:null},Mye=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var a=e.children,i=_6(e),s=Ia(a,on).map(function(c,u){return R.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return s;var o=Dye(e.label,r||i);return[o].concat(vye(s))};on.parseViewBox=_6;on.renderCallByParent=Mye;function Eh(t){"@babel/helpers - typeof";return Eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eh(t)}var Rye=["valueAccessor"],Lye=["data","dataKey","clockWise","id","textBreakAll"];function Iye(t){return Uye(t)||Bye(t)||Fye(t)||$ye()}function $ye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fye(t,e){if(t){if(typeof t=="string")return G1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G1(t,e)}}function Bye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Uye(t){if(Array.isArray(t))return G1(t)}function G1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function rv(){return rv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rv.apply(this,arguments)}function oO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function lO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oO(Object(r),!0).forEach(function(n){zye(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zye(t,e,r){return e=Wye(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wye(t){var e=Hye(t,"string");return Eh(e)=="symbol"?e:e+""}function Hye(t,e){if(Eh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Eh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cO(t,e){if(t==null)return{};var r=qye(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function qye(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Gye=function(e){return Array.isArray(e.value)?LK(e.value):e.value};function Ts(t){var e=t.valueAccessor,r=e===void 0?Gye:e,n=cO(t,Rye),a=n.data,i=n.dataKey,s=n.clockWise,o=n.id,c=n.textBreakAll,u=cO(n,Lye);return!a||!a.length?null:z.createElement(Pt,{className:"recharts-label-list"},a.map(function(d,f){var h=wt(i)?r(d,f):Kr(d&&d.payload,i),p=wt(o)?{}:{id:"".concat(o,"-").concat(f)};return z.createElement(on,rv({},et(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:on.parseViewBox(wt(s)?d:lO(lO({},d),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}Ts.displayName="LabelList";function Vye(t,e){return t?t===!0?z.createElement(Ts,{key:"labelList-implicit",data:e}):z.isValidElement(t)||dt(t)?z.createElement(Ts,{key:"labelList-implicit",data:e,content:t}):Ju(t)?z.createElement(Ts,rv({data:e},t,{key:"labelList-implicit"})):null:null}function Yye(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,a=Ia(n,Ts).map(function(s,o){return R.cloneElement(s,{data:e,key:"labelList-".concat(o)})});if(!r)return a;var i=Vye(t.label,e);return[i].concat(Iye(a))}Ts.renderCallByParent=Yye;function Oh(t){"@babel/helpers - typeof";return Oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oh(t)}function V1(){return V1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},V1.apply(this,arguments)}function uO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function dO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uO(Object(r),!0).forEach(function(n){Kye(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kye(t,e,r){return e=Xye(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xye(t){var e=Zye(t,"string");return Oh(e)=="symbol"?e:e+""}function Zye(t,e){if(Oh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Oh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qye=function(e,r){var n=Bn(r-e),a=Math.min(Math.abs(r-e),359.999);return n*a},Am=function(e){var r=e.cx,n=e.cy,a=e.radius,i=e.angle,s=e.sign,o=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,d=c*(o?1:-1)+a,f=Math.asin(c/d)/tv,h=u?i:i+s*f,p=ur(r,n,d,h),g=ur(r,n,a,h),m=u?i-s*f:i,y=ur(r,n,d*Math.cos(f*tv),m);return{center:p,circleTangency:g,lineTangency:y,theta:f}},E6=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,i=e.outerRadius,s=e.startAngle,o=e.endAngle,c=Qye(s,o),u=s+c,d=ur(r,n,i,s),f=ur(r,n,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var p=ur(r,n,a,s),g=ur(r,n,a,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},Jye=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,i=e.outerRadius,s=e.cornerRadius,o=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=Bn(d-u),h=Am({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:s,cornerIsExternal:c}),p=h.circleTangency,g=h.lineTangency,m=h.theta,y=Am({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:s,cornerIsExternal:c}),b=y.circleTangency,x=y.lineTangency,N=y.theta,A=c?Math.abs(u-d):Math.abs(u-d)-m-N;if(A<0)return o?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):E6({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var w="M ".concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(A>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
  `);if(a>0){var j=Am({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),E=j.circleTangency,O=j.lineTangency,k=j.theta,L=Am({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),C=L.circleTangency,P=L.lineTangency,I=L.theta,M=c?Math.abs(u-d):Math.abs(u-d)-k-I;if(M<0&&s===0)return"".concat(w,"L").concat(r,",").concat(n,"Z");w+="L".concat(P.x,",").concat(P.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(M>180),",").concat(+(f>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,"Z")}else w+="L".concat(r,",").concat(n,"Z");return w},e0e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},O6=function(e){var r=dO(dO({},e0e),e),n=r.cx,a=r.cy,i=r.innerRadius,s=r.outerRadius,o=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(s<i||d===f)return null;var p=Nt("recharts-sector",h),g=s-i,m=Un(o,g,0,!0),y;return m>0&&Math.abs(d-f)<360?y=Jye({cx:n,cy:a,innerRadius:i,outerRadius:s,cornerRadius:Math.min(m,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):y=E6({cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:d,endAngle:f}),z.createElement("path",V1({},et(r,!0),{className:p,d:y,role:"img"}))};function Ch(t){"@babel/helpers - typeof";return Ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ch(t)}function Y1(){return Y1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Y1.apply(this,arguments)}function fO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function hO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fO(Object(r),!0).forEach(function(n){t0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function t0e(t,e,r){return e=r0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function r0e(t){var e=n0e(t,"string");return Ch(e)=="symbol"?e:e+""}function n0e(t,e){if(Ch(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ch(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pO={curveBasisClosed:Lue,curveBasisOpen:Iue,curveBasis:Rue,curveBumpX:wue,curveBumpY:Sue,curveLinearClosed:$ue,curveLinear:_y,curveMonotoneX:Fue,curveMonotoneY:Bue,curveNatural:Uue,curveStep:zue,curveStepAfter:Hue,curveStepBefore:Wue},_m=function(e){return e.x===+e.x&&e.y===+e.y},df=function(e){return e.x},ff=function(e){return e.y},a0e=function(e,r){if(dt(e))return e;var n="curve".concat(jy(e));return(n==="curveMonotone"||n==="curveBump")&&r?pO["".concat(n).concat(r==="vertical"?"Y":"X")]:pO[n]||_y},i0e=function(e){var r=e.type,n=r===void 0?"linear":r,a=e.points,i=a===void 0?[]:a,s=e.baseLine,o=e.layout,c=e.connectNulls,u=c===void 0?!1:c,d=a0e(n,o),f=u?i.filter(function(m){return _m(m)}):i,h;if(Array.isArray(s)){var p=u?s.filter(function(m){return _m(m)}):s,g=f.map(function(m,y){return hO(hO({},m),{},{base:p[y]})});return o==="vertical"?h=vm().y(ff).x1(df).x0(function(m){return m.base.x}):h=vm().x(df).y1(ff).y0(function(m){return m.base.y}),h.defined(_m).curve(d),h(g)}return o==="vertical"&&Le(s)?h=vm().y(ff).x1(df).x0(s):Le(s)?h=vm().x(df).y1(ff).y0(s):h=q4().x(df).y(ff),h.defined(_m).curve(d),h(f)},uu=function(e){var r=e.className,n=e.points,a=e.path,i=e.pathRef;if((!n||!n.length)&&!a)return null;var s=n&&n.length?i0e(e):a;return z.createElement("path",Y1({},et(e,!1),Tg(e),{className:Nt("recharts-curve",r),d:s,ref:i}))},s0e=Object.getOwnPropertyNames,o0e=Object.getOwnPropertySymbols,l0e=Object.prototype.hasOwnProperty;function mO(t,e){return function(n,a,i){return t(n,a,i)&&e(n,a,i)}}function Em(t){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,a);var i=a.cache,s=i.get(r),o=i.get(n);if(s&&o)return s===n&&o===r;i.set(r,n),i.set(n,r);var c=t(r,n,a);return i.delete(r),i.delete(n),c}}function gO(t){return s0e(t).concat(o0e(t))}var c0e=Object.hasOwn||function(t,e){return l0e.call(t,e)};function nc(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var u0e="__v",d0e="__o",f0e="_owner",vO=Object.getOwnPropertyDescriptor,yO=Object.keys;function h0e(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function p0e(t,e){return nc(t.getTime(),e.getTime())}function m0e(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function g0e(t,e){return t===e}function bO(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),i=t.entries(),s,o,c=0;(s=i.next())&&!s.done;){for(var u=e.entries(),d=!1,f=0;(o=u.next())&&!o.done;){if(a[f]){f++;continue}var h=s.value,p=o.value;if(r.equals(h[0],p[0],c,f,t,e,r)&&r.equals(h[1],p[1],h[0],p[0],t,e,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var v0e=nc;function y0e(t,e,r){var n=yO(t),a=n.length;if(yO(e).length!==a)return!1;for(;a-- >0;)if(!C6(t,e,r,n[a]))return!1;return!0}function hf(t,e,r){var n=gO(t),a=n.length;if(gO(e).length!==a)return!1;for(var i,s,o;a-- >0;)if(i=n[a],!C6(t,e,r,i)||(s=vO(t,i),o=vO(e,i),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function b0e(t,e){return nc(t.valueOf(),e.valueOf())}function x0e(t,e){return t.source===e.source&&t.flags===e.flags}function xO(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),i=t.values(),s,o;(s=i.next())&&!s.done;){for(var c=e.values(),u=!1,d=0;(o=c.next())&&!o.done;){if(!a[d]&&r.equals(s.value,o.value,s.value,o.value,t,e,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function w0e(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function S0e(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function C6(t,e,r,n){return(n===f0e||n===d0e||n===u0e)&&(t.$$typeof||e.$$typeof)?!0:c0e(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var N0e="[object Arguments]",j0e="[object Boolean]",A0e="[object Date]",_0e="[object Error]",E0e="[object Map]",O0e="[object Number]",C0e="[object Object]",T0e="[object RegExp]",k0e="[object Set]",P0e="[object String]",D0e="[object URL]",M0e=Array.isArray,wO=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,SO=Object.assign,R0e=Object.prototype.toString.call.bind(Object.prototype.toString);function L0e(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,a=t.areFunctionsEqual,i=t.areMapsEqual,s=t.areNumbersEqual,o=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,f=t.areTypedArraysEqual,h=t.areUrlsEqual;return function(g,m,y){if(g===m)return!0;if(g==null||m==null)return!1;var b=typeof g;if(b!==typeof m)return!1;if(b!=="object")return b==="number"?s(g,m,y):b==="function"?a(g,m,y):!1;var x=g.constructor;if(x!==m.constructor)return!1;if(x===Object)return o(g,m,y);if(M0e(g))return e(g,m,y);if(wO!=null&&wO(g))return f(g,m,y);if(x===Date)return r(g,m,y);if(x===RegExp)return u(g,m,y);if(x===Map)return i(g,m,y);if(x===Set)return d(g,m,y);var N=R0e(g);return N===A0e?r(g,m,y):N===T0e?u(g,m,y):N===E0e?i(g,m,y):N===k0e?d(g,m,y):N===C0e?typeof g.then!="function"&&typeof m.then!="function"&&o(g,m,y):N===D0e?h(g,m,y):N===_0e?n(g,m,y):N===N0e?o(g,m,y):N===j0e||N===O0e||N===P0e?c(g,m,y):!1}}function I0e(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,a={areArraysEqual:n?hf:h0e,areDatesEqual:p0e,areErrorsEqual:m0e,areFunctionsEqual:g0e,areMapsEqual:n?mO(bO,hf):bO,areNumbersEqual:v0e,areObjectsEqual:n?hf:y0e,arePrimitiveWrappersEqual:b0e,areRegExpsEqual:x0e,areSetsEqual:n?mO(xO,hf):xO,areTypedArraysEqual:n?hf:w0e,areUrlsEqual:S0e};if(r&&(a=SO({},a,r(a))),e){var i=Em(a.areArraysEqual),s=Em(a.areMapsEqual),o=Em(a.areObjectsEqual),c=Em(a.areSetsEqual);a=SO({},a,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:c})}return a}function $0e(t){return function(e,r,n,a,i,s,o){return t(e,r,o)}}function F0e(t){var e=t.circular,r=t.comparator,n=t.createState,a=t.equals,i=t.strict;if(n)return function(c,u){var d=n(),f=d.cache,h=f===void 0?e?new WeakMap:void 0:f,p=d.meta;return r(c,u,{cache:h,equals:a,meta:p,strict:i})};if(e)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var s={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,u){return r(c,u,s)}}var B0e=$o();$o({strict:!0});$o({circular:!0});$o({circular:!0,strict:!0});$o({createInternalComparator:function(){return nc}});$o({strict:!0,createInternalComparator:function(){return nc}});$o({circular:!0,createInternalComparator:function(){return nc}});$o({circular:!0,createInternalComparator:function(){return nc},strict:!0});function $o(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,a=t.createState,i=t.strict,s=i===void 0?!1:i,o=I0e(t),c=L0e(o),u=n?n(c):$0e(c);return F0e({circular:r,comparator:c,createState:a,equals:u,strict:s})}function U0e(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function NO(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>e?(t(i),r=-1):U0e(a)};requestAnimationFrame(n)}function K1(t){"@babel/helpers - typeof";return K1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K1(t)}function z0e(t){return G0e(t)||q0e(t)||H0e(t)||W0e()}function W0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H0e(t,e){if(t){if(typeof t=="string")return jO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jO(t,e)}}function jO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function q0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function G0e(t){if(Array.isArray(t))return t}function V0e(){var t={},e=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var s=i,o=z0e(s),c=o[0],u=o.slice(1);if(typeof c=="number"){NO(a.bind(null,u),c);return}a(c),NO(a.bind(null,u));return}K1(i)==="object"&&(t=i,e(t)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return e=i,function(){e=function(){return null}}}}}function Th(t){"@babel/helpers - typeof";return Th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Th(t)}function AO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function _O(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AO(Object(r),!0).forEach(function(n){T6(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function T6(t,e,r){return e=Y0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Y0e(t){var e=K0e(t,"string");return Th(e)==="symbol"?e:String(e)}function K0e(t,e){if(Th(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Th(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var X0e=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},Z0e=function(e){return e},Q0e=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},kf=function(e,r){return Object.keys(r).reduce(function(n,a){return _O(_O({},n),{},T6({},a,e(a,r[a])))},{})},EO=function(e,r,n){return e.map(function(a){return"".concat(Q0e(a)," ").concat(r,"ms ").concat(n)}).join(",")};function J0e(t,e){return rbe(t)||tbe(t,e)||k6(t,e)||ebe()}function ebe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tbe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function rbe(t){if(Array.isArray(t))return t}function nbe(t){return sbe(t)||ibe(t)||k6(t)||abe()}function abe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k6(t,e){if(t){if(typeof t=="string")return X1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return X1(t,e)}}function ibe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function sbe(t){if(Array.isArray(t))return X1(t)}function X1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var nv=1e-4,P6=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},D6=function(e,r){return e.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},OO=function(e,r){return function(n){var a=P6(e,r);return D6(a,n)}},obe=function(e,r){return function(n){var a=P6(e,r),i=[].concat(nbe(a.map(function(s,o){return s*o}).slice(1)),[0]);return D6(i,n)}},CO=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0],i=r[1],s=r[2],o=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,s=1,o=1;break;case"ease":a=.25,i=.1,s=.25,o=1;break;case"ease-in":a=.42,i=0,s=1,o=1;break;case"ease-out":a=.42,i=0,s=.58,o=1;break;case"ease-in-out":a=0,i=0,s=.58,o=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),d=J0e(u,4);a=d[0],i=d[1],s=d[2],o=d[3]}}}var f=OO(a,s),h=OO(i,o),p=obe(a,s),g=function(b){return b>1?1:b<0?0:b},m=function(b){for(var x=b>1?1:b,N=x,A=0;A<8;++A){var w=f(N)-x,j=p(N);if(Math.abs(w-x)<nv||j<nv)return h(N);N=g(N-w/j)}return h(N)};return m.isStepper=!1,m},lbe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,a=e.damping,i=a===void 0?8:a,s=e.dt,o=s===void 0?17:s,c=function(d,f,h){var p=-(d-f)*n,g=h*i,m=h+(p-g)*o/1e3,y=h*o/1e3+d;return Math.abs(y-f)<nv&&Math.abs(m)<nv?[f,0]:[y,m]};return c.isStepper=!0,c.dt=o,c},cbe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return CO(a);case"spring":return lbe();default:if(a.split("(")[0]==="cubic-bezier")return CO(a)}return typeof a=="function"?a:null};function kh(t){"@babel/helpers - typeof";return kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kh(t)}function TO(t){return fbe(t)||dbe(t)||M6(t)||ube()}function ube(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fbe(t){if(Array.isArray(t))return Q1(t)}function kO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function fn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kO(Object(r),!0).forEach(function(n){Z1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Z1(t,e,r){return e=hbe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hbe(t){var e=pbe(t,"string");return kh(e)==="symbol"?e:String(e)}function pbe(t,e){if(kh(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mbe(t,e){return ybe(t)||vbe(t,e)||M6(t,e)||gbe()}function gbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M6(t,e){if(t){if(typeof t=="string")return Q1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q1(t,e)}}function Q1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function vbe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function ybe(t){if(Array.isArray(t))return t}var av=function(e,r,n){return e+(r-e)*n},J1=function(e){var r=e.from,n=e.to;return r!==n},bbe=function t(e,r,n){var a=kf(function(i,s){if(J1(s)){var o=e(s.from,s.to,s.velocity),c=mbe(o,2),u=c[0],d=c[1];return fn(fn({},s),{},{from:u,velocity:d})}return s},r);return n<1?kf(function(i,s){return J1(s)?fn(fn({},s),{},{velocity:av(s.velocity,a[i].velocity,n),from:av(s.from,a[i].from,n)}):s},r):t(e,a,n-1)};const xbe=function(t,e,r,n,a){var i=X0e(t,e),s=i.reduce(function(y,b){return fn(fn({},y),{},Z1({},b,[t[b],e[b]]))},{}),o=i.reduce(function(y,b){return fn(fn({},y),{},Z1({},b,{from:t[b],velocity:0,to:e[b]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return kf(function(b,x){return x.from},o)},p=function(){return!Object.values(o).filter(J1).length},g=function(b){u||(u=b);var x=b-u,N=x/r.dt;o=bbe(r,o,N),a(fn(fn(fn({},t),e),h())),u=b,p()||(c=requestAnimationFrame(f))},m=function(b){d||(d=b);var x=(b-d)/n,N=kf(function(w,j){return av.apply(void 0,TO(j).concat([r(x)]))},s);if(a(fn(fn(fn({},t),e),N)),x<1)c=requestAnimationFrame(f);else{var A=kf(function(w,j){return av.apply(void 0,TO(j).concat([r(1)]))},s);a(fn(fn(fn({},t),e),A))}};return f=r.isStepper?g:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Pu(t){"@babel/helpers - typeof";return Pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pu(t)}var wbe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Sbe(t,e){if(t==null)return{};var r=Nbe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Nbe(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,i;for(i=0;i<n.length;i++)a=n[i],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function Zb(t){return Ebe(t)||_be(t)||Abe(t)||jbe()}function jbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Abe(t,e){if(t){if(typeof t=="string")return ew(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ew(t,e)}}function _be(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ebe(t){if(Array.isArray(t))return ew(t)}function ew(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function PO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ii(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PO(Object(r),!0).forEach(function(n){yf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yf(t,e,r){return e=R6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Obe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cbe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,R6(n.key),n)}}function Tbe(t,e,r){return e&&Cbe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function R6(t){var e=kbe(t,"string");return Pu(e)==="symbol"?e:String(e)}function kbe(t,e){if(Pu(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tw(t,e)}function tw(t,e){return tw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},tw(t,e)}function Dbe(t){var e=Mbe();return function(){var n=iv(t),a;if(e){var i=iv(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return rw(this,a)}}function rw(t,e){if(e&&(Pu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nw(t)}function nw(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mbe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function iv(t){return iv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},iv(t)}var rs=function(t){Pbe(r,t);var e=Dbe(r);function r(n,a){var i;Obe(this,r),i=e.call(this,n,a);var s=i.props,o=s.isActive,c=s.attributeName,u=s.from,d=s.to,f=s.steps,h=s.children,p=s.duration;if(i.handleStyleChange=i.handleStyleChange.bind(nw(i)),i.changeStyle=i.changeStyle.bind(nw(i)),!o||p<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),rw(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},rw(i);i.state={style:c?yf({},c,u):u}}else i.state={style:{}};return i}return Tbe(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,s=a.canBegin;this.mounted=!0,!(!i||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,s=i.isActive,o=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(o){if(!s){var p={style:c?yf({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(p);return}if(!(B0e(a.to,d)&&a.canBegin&&a.isActive)){var g=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=g||u?f:a.to;if(this.state&&h){var y={style:c?yf({},c,m):m};(c&&h[c]!==m||!c&&h!==m)&&this.setState(y)}this.runAnimation(ii(ii({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,s=a.from,o=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,p=xbe(s,o,cbe(u),c,this.changeStyle),g=function(){i.stopJSAnimation=p()};this.manager.start([h,d,g,c,f])}},{key:"runStepAnimation",value:function(a){var i=this,s=a.steps,o=a.begin,c=a.onAnimationStart,u=s[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(m,y,b){if(b===0)return m;var x=y.duration,N=y.easing,A=N===void 0?"ease":N,w=y.style,j=y.properties,E=y.onAnimationEnd,O=b>0?s[b-1]:y,k=j||Object.keys(w);if(typeof A=="function"||A==="spring")return[].concat(Zb(m),[i.runJSAnimation.bind(i,{from:O.style,to:w,duration:x,easing:A}),x]);var L=EO(k,x,A),C=ii(ii(ii({},O.style),w),{},{transition:L});return[].concat(Zb(m),[C,x,E]).filter(Z0e)};return this.manager.start([c].concat(Zb(s.reduce(p,[d,Math.max(h,o)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=V0e());var i=a.begin,s=a.duration,o=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,p=a.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var m=o?yf({},o,c):c,y=EO(Object.keys(m),s,u);g.start([d,i,ii(ii({},m),{},{transition:y}),s,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var s=a.duration;a.attributeName,a.easing;var o=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=Sbe(a,wbe),u=R.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!o||u===0||s<=0)return i;var f=function(p){var g=p.props,m=g.style,y=m===void 0?{}:m,b=g.className,x=R.cloneElement(p,ii(ii({},c),{},{style:ii(ii({},y),d),className:b}));return x};return u===1?f(R.Children.only(i)):z.createElement("div",null,R.Children.map(i,function(h){return f(h)}))}}]),r}(R.PureComponent);rs.displayName="Animate";rs.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};rs.propTypes={from:_e.oneOfType([_e.object,_e.string]),to:_e.oneOfType([_e.object,_e.string]),attributeName:_e.string,duration:_e.number,begin:_e.number,easing:_e.oneOfType([_e.string,_e.func]),steps:_e.arrayOf(_e.shape({duration:_e.number.isRequired,style:_e.object.isRequired,easing:_e.oneOfType([_e.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),_e.func]),properties:_e.arrayOf("string"),onAnimationEnd:_e.func})),children:_e.oneOfType([_e.node,_e.func]),isActive:_e.bool,canBegin:_e.bool,onAnimationEnd:_e.func,shouldReAnimate:_e.bool,onAnimationStart:_e.func,onAnimationReStart:_e.func};function Ph(t){"@babel/helpers - typeof";return Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ph(t)}function sv(){return sv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sv.apply(this,arguments)}function Rbe(t,e){return Fbe(t)||$be(t,e)||Ibe(t,e)||Lbe()}function Lbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ibe(t,e){if(t){if(typeof t=="string")return DO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DO(t,e)}}function DO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $be(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function Fbe(t){if(Array.isArray(t))return t}function MO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function RO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MO(Object(r),!0).forEach(function(n){Bbe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Bbe(t,e,r){return e=Ube(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ube(t){var e=zbe(t,"string");return Ph(e)=="symbol"?e:e+""}function zbe(t,e){if(Ph(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ph(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var LO=function(e,r,n,a,i){var s=Math.min(Math.abs(n)/2,Math.abs(a)/2),o=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(s>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=i[h]>s?s:i[h];d="M".concat(e,",").concat(r+o*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+c*f[0],",").concat(r)),d+="L ".concat(e+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+o*f[1])),d+="L ".concat(e+n,",").concat(r+a-o*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+n-c*f[2],",").concat(r+a)),d+="L ".concat(e+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+a-o*f[3])),d+="Z"}else if(s>0&&i===+i&&i>0){var g=Math.min(s,i);d="M ".concat(e,",").concat(r+o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+c*g,",").concat(r,`
            L `).concat(e+n-c*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+n,",").concat(r+o*g,`
            L `).concat(e+n,",").concat(r+a-o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+n-c*g,",").concat(r+a,`
            L `).concat(e+c*g,",").concat(r+a,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e,",").concat(r+a-o*g," Z")}else d="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},Wbe=function(e,r){if(!e||!r)return!1;var n=e.x,a=e.y,i=r.x,s=r.y,o=r.width,c=r.height;if(Math.abs(o)>0&&Math.abs(c)>0){var u=Math.min(i,i+o),d=Math.max(i,i+o),f=Math.min(s,s+c),h=Math.max(s,s+c);return n>=u&&n<=d&&a>=f&&a<=h}return!1},Hbe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},J5=function(e){var r=RO(RO({},Hbe),e),n=R.useRef(),a=R.useState(-1),i=Rbe(a,2),s=i[0],o=i[1];R.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var A=n.current.getTotalLength();A&&o(A)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,g=r.animationEasing,m=r.animationDuration,y=r.animationBegin,b=r.isAnimationActive,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var N=Nt("recharts-rectangle",p);return x?z.createElement(rs,{canBegin:s>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:m,animationEasing:g,isActive:x},function(A){var w=A.width,j=A.height,E=A.x,O=A.y;return z.createElement(rs,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:m,isActive:b,easing:g},z.createElement("path",sv({},et(r,!0),{className:N,d:LO(E,O,w,j,h),ref:n})))}):z.createElement("path",sv({},et(r,!0),{className:N,d:LO(c,u,d,f,h)}))},qbe=["points","className","baseLinePoints","connectNulls"];function Xc(){return Xc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xc.apply(this,arguments)}function Gbe(t,e){if(t==null)return{};var r=Vbe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Vbe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function IO(t){return Zbe(t)||Xbe(t)||Kbe(t)||Ybe()}function Ybe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kbe(t,e){if(t){if(typeof t=="string")return aw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aw(t,e)}}function Xbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Zbe(t){if(Array.isArray(t))return aw(t)}function aw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var $O=function(e){return e&&e.x===+e.x&&e.y===+e.y},Qbe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){$O(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),$O(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Pf=function(e,r){var n=Qbe(e);r&&(n=[n.reduce(function(i,s){return[].concat(IO(i),IO(s))},[])]);var a=n.map(function(i){return i.reduce(function(s,o,c){return"".concat(s).concat(c===0?"M":"L").concat(o.x,",").concat(o.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},Jbe=function(e,r,n){var a=Pf(e,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(Pf(r.reverse(),n).slice(1))},exe=function(e){var r=e.points,n=e.className,a=e.baseLinePoints,i=e.connectNulls,s=Gbe(e,qbe);if(!r||!r.length)return null;var o=Nt("recharts-polygon",n);if(a&&a.length){var c=s.stroke&&s.stroke!=="none",u=Jbe(r,a,i);return z.createElement("g",{className:o},z.createElement("path",Xc({},et(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:u})),c?z.createElement("path",Xc({},et(s,!0),{fill:"none",d:Pf(r,i)})):null,c?z.createElement("path",Xc({},et(s,!0),{fill:"none",d:Pf(a,i)})):null)}var d=Pf(r,i);return z.createElement("path",Xc({},et(s,!0),{fill:d.slice(-1)==="Z"?s.fill:"none",className:o,d}))};function iw(){return iw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},iw.apply(this,arguments)}var Uy=function(e){var r=e.cx,n=e.cy,a=e.r,i=e.className,s=Nt("recharts-dot",i);return r===+r&&n===+n&&a===+a?z.createElement("circle",iw({},et(e,!1),Tg(e),{className:s,cx:r,cy:n,r:a})):null};function Dh(t){"@babel/helpers - typeof";return Dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dh(t)}var txe=["x","y","top","left","width","height","className"];function sw(){return sw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sw.apply(this,arguments)}function FO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function rxe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FO(Object(r),!0).forEach(function(n){nxe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nxe(t,e,r){return e=axe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function axe(t){var e=ixe(t,"string");return Dh(e)=="symbol"?e:e+""}function ixe(t,e){if(Dh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sxe(t,e){if(t==null)return{};var r=oxe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function oxe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var lxe=function(e,r,n,a,i,s){return"M".concat(e,",").concat(i,"v").concat(a,"M").concat(s,",").concat(r,"h").concat(n)},cxe=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,i=a===void 0?0:a,s=e.top,o=s===void 0?0:s,c=e.left,u=c===void 0?0:c,d=e.width,f=d===void 0?0:d,h=e.height,p=h===void 0?0:h,g=e.className,m=sxe(e,txe),y=rxe({x:n,y:i,top:o,left:u,width:f,height:p},m);return!Le(n)||!Le(i)||!Le(f)||!Le(p)||!Le(o)||!Le(u)?null:z.createElement("path",sw({},et(y,!0),{className:Nt("recharts-cross",g),d:lxe(n,i,f,p,o,u)}))},uxe=Ly,dxe=XD,fxe=xi;function hxe(t,e){return t&&t.length?uxe(t,fxe(e),dxe):void 0}var pxe=hxe;const mxe=Ct(pxe);var gxe=Ly,vxe=xi,yxe=ZD;function bxe(t,e){return t&&t.length?gxe(t,vxe(e),yxe):void 0}var xxe=bxe;const wxe=Ct(xxe);var Sxe=["cx","cy","angle","ticks","axisLine"],Nxe=["ticks","tick","angle","tickFormatter","stroke"];function Du(t){"@babel/helpers - typeof";return Du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Du(t)}function Df(){return Df=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Df.apply(this,arguments)}function BO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function rl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BO(Object(r),!0).forEach(function(n){zy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UO(t,e){if(t==null)return{};var r=jxe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function jxe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Axe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,I6(n.key),n)}}function _xe(t,e,r){return e&&zO(t.prototype,e),r&&zO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Exe(t,e,r){return e=ov(e),Oxe(t,L6()?Reflect.construct(e,r||[],ov(t).constructor):e.apply(t,r))}function Oxe(t,e){if(e&&(Du(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cxe(t)}function Cxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function L6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L6=function(){return!!t})()}function ov(t){return ov=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ov(t)}function Txe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ow(t,e)}function ow(t,e){return ow=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ow(t,e)}function zy(t,e,r){return e=I6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function I6(t){var e=kxe(t,"string");return Du(e)=="symbol"?e:e+""}function kxe(t,e){if(Du(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Du(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Wy=function(t){function e(){return Axe(this,e),Exe(this,e,arguments)}return Txe(e,t),_xe(e,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,s=i.angle,o=i.cx,c=i.cy;return ur(o,c,a,s)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.angle,o=n.ticks,c=mxe(o,function(d){return d.coordinate||0}),u=wxe(o,function(d){return d.coordinate||0});return{cx:a,cy:i,startAngle:s,endAngle:s,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.angle,o=n.ticks,c=n.axisLine,u=UO(n,Sxe),d=o.reduce(function(g,m){return[Math.min(g[0],m.coordinate),Math.max(g[1],m.coordinate)]},[1/0,-1/0]),f=ur(a,i,d[0],s),h=ur(a,i,d[1],s),p=rl(rl(rl({},et(u,!1)),{},{fill:"none"},et(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return z.createElement("line",Df({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,s=a.tick,o=a.angle,c=a.tickFormatter,u=a.stroke,d=UO(a,Nxe),f=this.getTickTextAnchor(),h=et(d,!1),p=et(s,!1),g=i.map(function(m,y){var b=n.getTickValueCoord(m),x=rl(rl(rl(rl({textAnchor:f,transform:"rotate(".concat(90-o,", ").concat(b.x,", ").concat(b.y,")")},h),{},{stroke:"none",fill:u},p),{},{index:y},b),{},{payload:m});return z.createElement(Pt,Df({className:Nt("recharts-polar-radius-axis-tick",A6(s)),key:"tick-".concat(m.coordinate)},Hl(n.props,m,y)),e.renderTickItem(s,x,c?c(m.value,y):m.value))});return z.createElement(Pt,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,s=n.tick;return!a||!a.length?null:z.createElement(Pt,{className:Nt("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),s&&this.renderTicks(),on.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var s;return z.isValidElement(n)?s=z.cloneElement(n,a):dt(n)?s=n(a):s=z.createElement(ql,Df({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),s}}])}(R.PureComponent);zy(Wy,"displayName","PolarRadiusAxis");zy(Wy,"axisType","radiusAxis");zy(Wy,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Mu(t){"@babel/helpers - typeof";return Mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mu(t)}function ml(){return ml=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ml.apply(this,arguments)}function WO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function nl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WO(Object(r),!0).forEach(function(n){Hy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Pxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,F6(n.key),n)}}function Dxe(t,e,r){return e&&HO(t.prototype,e),r&&HO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mxe(t,e,r){return e=lv(e),Rxe(t,$6()?Reflect.construct(e,r||[],lv(t).constructor):e.apply(t,r))}function Rxe(t,e){if(e&&(Mu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lxe(t)}function Lxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($6=function(){return!!t})()}function lv(t){return lv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lv(t)}function Ixe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lw(t,e)}function lw(t,e){return lw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},lw(t,e)}function Hy(t,e,r){return e=F6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function F6(t){var e=$xe(t,"string");return Mu(e)=="symbol"?e:e+""}function $xe(t,e){if(Mu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Fxe=Math.PI/180,qO=1e-5,qy=function(t){function e(){return Pxe(this,e),Mxe(this,e,arguments)}return Ixe(e,t),Dxe(e,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,s=a.cy,o=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=ur(i,s,o,n.coordinate),h=ur(i,s,o+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*Fxe),s;return i>qO?s=a==="outer"?"start":"end":i<-qO?s=a==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.radius,o=n.axisLine,c=n.axisLineType,u=nl(nl({},et(this.props,!1)),{},{fill:"none"},et(o,!1));if(c==="circle")return z.createElement(Uy,ml({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:s}));var d=this.props.ticks,f=d.map(function(h){return ur(a,i,s,h.coordinate)});return z.createElement(exe,ml({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,s=a.tick,o=a.tickLine,c=a.tickFormatter,u=a.stroke,d=et(this.props,!1),f=et(s,!1),h=nl(nl({},d),{},{fill:"none"},et(o,!1)),p=i.map(function(g,m){var y=n.getTickLineCoord(g),b=n.getTickTextAnchor(g),x=nl(nl(nl({textAnchor:b},d),{},{stroke:"none",fill:u},f),{},{index:m,payload:g,x:y.x2,y:y.y2});return z.createElement(Pt,ml({className:Nt("recharts-polar-angle-axis-tick",A6(s)),key:"tick-".concat(g.coordinate)},Hl(n.props,g,m)),o&&z.createElement("line",ml({className:"recharts-polar-angle-axis-tick-line"},h,y)),s&&e.renderTickItem(s,x,c?c(g.value,m):g.value))});return z.createElement(Pt,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,s=n.axisLine;return i<=0||!a||!a.length?null:z.createElement(Pt,{className:Nt("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var s;return z.isValidElement(n)?s=z.cloneElement(n,a):dt(n)?s=n(a):s=z.createElement(ql,ml({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),s}}])}(R.PureComponent);Hy(qy,"displayName","PolarAngleAxis");Hy(qy,"axisType","angleAxis");Hy(qy,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Bxe=Is,Uxe=bi,zxe="[object Boolean]";function Wxe(t){return t===!0||t===!1||Uxe(t)&&Bxe(t)==zxe}var Hxe=Wxe;const qxe=Ct(Hxe);function Mh(t){"@babel/helpers - typeof";return Mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mh(t)}function cv(){return cv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cv.apply(this,arguments)}function Gxe(t,e){return Xxe(t)||Kxe(t,e)||Yxe(t,e)||Vxe()}function Vxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yxe(t,e){if(t){if(typeof t=="string")return GO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GO(t,e)}}function GO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Kxe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function Xxe(t){if(Array.isArray(t))return t}function VO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function YO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VO(Object(r),!0).forEach(function(n){Zxe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zxe(t,e,r){return e=Qxe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qxe(t){var e=Jxe(t,"string");return Mh(e)=="symbol"?e:e+""}function Jxe(t,e){if(Mh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var KO=function(e,r,n,a,i){var s=n-a,o;return o="M ".concat(e,",").concat(r),o+="L ".concat(e+n,",").concat(r),o+="L ".concat(e+n-s/2,",").concat(r+i),o+="L ".concat(e+n-s/2-a,",").concat(r+i),o+="L ".concat(e,",").concat(r," Z"),o},e1e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},t1e=function(e){var r=YO(YO({},e1e),e),n=R.useRef(),a=R.useState(-1),i=Gxe(a,2),s=i[0],o=i[1];R.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var N=n.current.getTotalLength();N&&o(N)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,g=r.animationEasing,m=r.animationDuration,y=r.animationBegin,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var x=Nt("recharts-trapezoid",p);return b?z.createElement(rs,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:m,animationEasing:g,isActive:b},function(N){var A=N.upperWidth,w=N.lowerWidth,j=N.height,E=N.x,O=N.y;return z.createElement(rs,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:m,easing:g},z.createElement("path",cv({},et(r,!0),{className:x,d:KO(E,O,A,w,j),ref:n})))}):z.createElement("g",null,z.createElement("path",cv({},et(r,!0),{className:x,d:KO(c,u,d,f,h)})))},r1e=["option","shapeType","propTransformer","activeClassName","isActive"];function Rh(t){"@babel/helpers - typeof";return Rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rh(t)}function n1e(t,e){if(t==null)return{};var r=a1e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function a1e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function XO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function uv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XO(Object(r),!0).forEach(function(n){i1e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function i1e(t,e,r){return e=s1e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s1e(t){var e=o1e(t,"string");return Rh(e)=="symbol"?e:e+""}function o1e(t,e){if(Rh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function l1e(t,e){return uv(uv({},e),t)}function c1e(t,e){return t==="symbols"}function ZO(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return z.createElement(J5,r);case"trapezoid":return z.createElement(t1e,r);case"sector":return z.createElement(O6,r);case"symbols":if(c1e(e))return z.createElement(A5,r);break;default:return null}}function u1e(t){return R.isValidElement(t)?t.props:t}function B6(t){var e=t.option,r=t.shapeType,n=t.propTransformer,a=n===void 0?l1e:n,i=t.activeClassName,s=i===void 0?"recharts-active-shape":i,o=t.isActive,c=n1e(t,r1e),u;if(R.isValidElement(e))u=R.cloneElement(e,uv(uv({},c),u1e(e)));else if(dt(e))u=e(c);else if(rX(e)&&!qxe(e)){var d=a(e,c);u=z.createElement(ZO,{shapeType:r,elementProps:d})}else{var f=c;u=z.createElement(ZO,{shapeType:r,elementProps:f})}return o?z.createElement(Pt,{className:s},u):u}function Gy(t,e){return e!=null&&"trapezoids"in t.props}function Vy(t,e){return e!=null&&"sectors"in t.props}function Lh(t,e){return e!=null&&"points"in t.props}function d1e(t,e){var r,n,a=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,i=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return a&&i}function f1e(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function h1e(t,e){var r=t.x===e.x,n=t.y===e.y,a=t.z===e.z;return r&&n&&a}function p1e(t,e){var r;return Gy(t,e)?r=d1e:Vy(t,e)?r=f1e:Lh(t,e)&&(r=h1e),r}function m1e(t,e){var r;return Gy(t,e)?r="trapezoids":Vy(t,e)?r="sectors":Lh(t,e)&&(r="points"),r}function g1e(t,e){if(Gy(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Vy(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Lh(t,e)?e.payload:{}}function v1e(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,a=m1e(r,e),i=g1e(r,e),s=n.filter(function(c,u){var d=Il(i,c),f=r.props[a].filter(function(g){var m=p1e(r,e);return m(g,e)}),h=r.props[a].indexOf(f[f.length-1]),p=u===h;return d&&p}),o=n.indexOf(s[s.length-1]);return o}var Gm;function Ru(t){"@babel/helpers - typeof";return Ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ru(t)}function Zc(){return Zc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zc.apply(this,arguments)}function QO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function or(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QO(Object(r),!0).forEach(function(n){Pa(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function y1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,z6(n.key),n)}}function b1e(t,e,r){return e&&JO(t.prototype,e),r&&JO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function x1e(t,e,r){return e=dv(e),w1e(t,U6()?Reflect.construct(e,r||[],dv(t).constructor):e.apply(t,r))}function w1e(t,e){if(e&&(Ru(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S1e(t)}function S1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function U6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(U6=function(){return!!t})()}function dv(t){return dv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dv(t)}function N1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cw(t,e)}function cw(t,e){return cw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},cw(t,e)}function Pa(t,e,r){return e=z6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function z6(t){var e=j1e(t,"string");return Ru(e)=="symbol"?e:e+""}function j1e(t,e){if(Ru(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ru(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Us=function(t){function e(r){var n;return y1e(this,e),n=x1e(this,e,[r]),Pa(n,"pieRef",null),Pa(n,"sectorRefs",[]),Pa(n,"id",pd("recharts-pie-")),Pa(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),dt(a)&&a()}),Pa(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),dt(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return N1e(e,t),b1e(e,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.label,o=i.labelLine,c=i.dataKey,u=i.valueKey,d=et(this.props,!1),f=et(s,!1),h=et(o,!1),p=s&&s.offsetRadius||20,g=n.map(function(m,y){var b=(m.startAngle+m.endAngle)/2,x=ur(m.cx,m.cy,m.outerRadius+p,b),N=or(or(or(or({},d),m),{},{stroke:"none"},f),{},{index:y,textAnchor:e.getTextAnchor(x.x,m.cx)},x),A=or(or(or(or({},d),m),{},{fill:"none",stroke:m.fill},h),{},{index:y,points:[ur(m.cx,m.cy,m.outerRadius,b),x]}),w=c;return wt(c)&&wt(u)?w="value":wt(c)&&(w=u),z.createElement(Pt,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(y)},o&&e.renderLabelLineItem(o,A,"line"),e.renderLabelItem(s,N,Kr(m,w)))});return z.createElement(Pt,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,s=i.activeShape,o=i.blendStroke,c=i.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),h=c&&a.hasActiveIndex()?c:null,p=f?s:h,g=or(or({},u),{},{stroke:o?u.fill:u.stroke,tabIndex:-1});return z.createElement(Pt,Zc({ref:function(y){y&&!a.sectorRefs.includes(y)&&a.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},Hl(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),z.createElement(B6,Zc({option:p,isActive:f,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,s=a.isAnimationActive,o=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return z.createElement(rs,{begin:o,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var m=g.t,y=[],b=i&&i[0],x=b.startAngle;return i.forEach(function(N,A){var w=h&&h[A],j=A>0?ma(N,"paddingAngle",0):0;if(w){var E=Zn(w.endAngle-w.startAngle,N.endAngle-N.startAngle),O=or(or({},N),{},{startAngle:x+j,endAngle:x+E(m)+j});y.push(O),x=O.endAngle}else{var k=N.endAngle,L=N.startAngle,C=Zn(0,k-L),P=C(m),I=or(or({},N),{},{startAngle:x+j,endAngle:x+P+j});y.push(I),x=I.endAngle}}),z.createElement(Pt,null,n.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var s=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[s].focus(),a.setState({sectorToFocus:s});break}case"ArrowRight":{var o=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,s=this.state.prevSectors;return i&&a&&a.length&&(!s||!Il(s,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,s=a.sectors,o=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,h=a.outerRadius,p=a.isAnimationActive,g=this.state.isAnimationFinished;if(i||!s||!s.length||!Le(u)||!Le(d)||!Le(f)||!Le(h))return null;var m=Nt("recharts-pie",o);return z.createElement(Pt,{tabIndex:this.props.rootTabIndex,className:m,ref:function(b){n.pieRef=b}},this.renderSectors(),c&&this.renderLabels(s),on.renderCallByParent(this.props,null,!1),(!p||g)&&Ts.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(z.isValidElement(n))return z.cloneElement(n,a);if(dt(n))return n(a);var s=Nt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return z.createElement(uu,Zc({},a,{key:i,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(n,a,i){if(z.isValidElement(n))return z.cloneElement(n,a);var s=i;if(dt(n)&&(s=n(a),z.isValidElement(s)))return s;var o=Nt("recharts-pie-label-text",typeof n!="boolean"&&!dt(n)?n.className:"");return z.createElement(ql,Zc({},a,{alignmentBaseline:"middle",className:o}),s)}}])}(R.PureComponent);Gm=Us;Pa(Us,"displayName","Pie");Pa(Us,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!ec.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Pa(Us,"parseDeltaAngle",function(t,e){var r=Bn(e-t),n=Math.min(Math.abs(e-t),360);return r*n});Pa(Us,"getRealPieData",function(t){var e=t.data,r=t.children,n=et(t,!1),a=Ia(r,Cy);return e&&e.length?e.map(function(i,s){return or(or(or({payload:i},n),i),a&&a[s]&&a[s].props)}):a&&a.length?a.map(function(i){return or(or({},n),i.props)}):[]});Pa(Us,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,a=e.width,i=e.height,s=j6(a,i),o=n+Un(t.cx,a,a/2),c=r+Un(t.cy,i,i/2),u=Un(t.innerRadius,s,0),d=Un(t.outerRadius,s,s*.8),f=t.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:o,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Pa(Us,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?or(or({},e.type.defaultProps),e.props):e.props,a=Gm.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,s=n.startAngle,o=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,p=Math.abs(n.minAngle),g=Gm.parseCoordinateOfPie(n,r),m=Gm.parseDeltaAngle(s,o),y=Math.abs(m),b=u;wt(u)&&wt(f)?(mi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):wt(u)&&(mi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=f);var x=a.filter(function(O){return Kr(O,b,0)!==0}).length,N=(y>=360?x:x-1)*c,A=y-x*p-N,w=a.reduce(function(O,k){var L=Kr(k,b,0);return O+(Le(L)?L:0)},0),j;if(w>0){var E;j=a.map(function(O,k){var L=Kr(O,b,0),C=Kr(O,d,k),P=(Le(L)?L:0)/w,I;k?I=E.endAngle+Bn(m)*c*(L!==0?1:0):I=s;var M=I+Bn(m)*((L!==0?p:0)+P*A),H=(I+M)/2,V=(g.innerRadius+g.outerRadius)/2,F=[{name:C,value:L,payload:O,dataKey:b,type:h}],X=ur(g.cx,g.cy,V,H);return E=or(or(or({percent:P,cornerRadius:i,name:C,tooltipPayload:F,midAngle:H,middleRadius:V,tooltipPosition:X},O),g),{},{value:Kr(O,b),startAngle:I,endAngle:M,payload:O,paddingAngle:Bn(m)*c}),E})}return or(or({},g),{},{sectors:j,data:a})});function Ih(t){"@babel/helpers - typeof";return Ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ih(t)}function eC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function tC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eC(Object(r),!0).forEach(function(n){W6(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function W6(t,e,r){return e=A1e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function A1e(t){var e=_1e(t,"string");return Ih(e)=="symbol"?e:e+""}function _1e(t,e){if(Ih(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ih(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var E1e=["Webkit","Moz","O","ms"],O1e=function(e,r){var n=e.replace(/(\w)/,function(i){return i.toUpperCase()}),a=E1e.reduce(function(i,s){return tC(tC({},i),{},W6({},s+n,r))},{});return a[e]=r,a};function Lu(t){"@babel/helpers - typeof";return Lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lu(t)}function fv(){return fv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fv.apply(this,arguments)}function rC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Qb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rC(Object(r),!0).forEach(function(n){ua(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function C1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nC(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,q6(n.key),n)}}function T1e(t,e,r){return e&&nC(t.prototype,e),r&&nC(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function k1e(t,e,r){return e=hv(e),P1e(t,H6()?Reflect.construct(e,r||[],hv(t).constructor):e.apply(t,r))}function P1e(t,e){if(e&&(Lu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D1e(t)}function D1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function H6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H6=function(){return!!t})()}function hv(t){return hv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hv(t)}function M1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uw(t,e)}function uw(t,e){return uw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},uw(t,e)}function ua(t,e,r){return e=q6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function q6(t){var e=R1e(t,"string");return Lu(e)=="symbol"?e:e+""}function R1e(t,e){if(Lu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var L1e=function(e){var r=e.data,n=e.startIndex,a=e.endIndex,i=e.x,s=e.width,o=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Cf().domain(Kf(0,c)).range([i,i+s-o]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},aC=function(e){return e.changedTouches&&!!e.changedTouches.length},Iu=function(t){function e(r){var n;return C1e(this,e),n=k1e(this,e,[r]),ua(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),ua(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),ua(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,s=a.onDragEnd,o=a.startIndex;s==null||s({endIndex:i,startIndex:o})}),n.detachDragEndListener()}),ua(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),ua(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),ua(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),ua(n,"handleSlideDragStart",function(a){var i=aC(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return M1e(e,t),T1e(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,s=this.state.scaleValues,o=this.props,c=o.gap,u=o.data,d=u.length-1,f=Math.min(a,i),h=Math.max(a,i),p=e.getIndexInRange(s,f),g=e.getIndexInRange(s,h);return{startIndex:p-p%c,endIndex:g===d?d:g-g%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,s=a.tickFormatter,o=a.dataKey,c=Kr(i[n],o,n);return dt(s)?s(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,s=a.startX,o=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,p=c.endIndex,g=c.onChange,m=n.pageX-i;m>0?m=Math.min(m,u+d-f-o,u+d-f-s):m<0&&(m=Math.max(m,u-s,u-o));var y=this.getIndex({startX:s+m,endX:o+m});(y.startIndex!==h||y.endIndex!==p)&&g&&g(y),this.setState({startX:s+m,endX:o+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=aC(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,s=a.movingTravellerId,o=a.endX,c=a.startX,u=this.state[s],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,g=d.onChange,m=d.gap,y=d.data,b={startX:this.state.startX,endX:this.state.endX},x=n.pageX-i;x>0?x=Math.min(x,f+h-p-u):x<0&&(x=Math.max(x,f-u)),b[s]=u+x;var N=this.getIndex(b),A=N.startIndex,w=N.endIndex,j=function(){var O=y.length-1;return s==="startX"&&(o>c?A%m===0:w%m===0)||o<c&&w===O||s==="endX"&&(o>c?w%m===0:A%m===0)||o>c&&w===O};this.setState(ua(ua({},s,u+x),"brushMoveStartX",n.pageX),function(){g&&j()&&g(N)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,s=this.state,o=s.scaleValues,c=s.startX,u=s.endX,d=this.state[a],f=o.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=o.length)){var p=o[h];a==="startX"&&p>=u||a==="endX"&&p<=c||this.setState(ua({},a,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,c=n.fill,u=n.stroke;return z.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:s,height:o})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,c=n.data,u=n.children,d=n.padding,f=R.Children.only(u);return f?z.cloneElement(f,{x:a,y:i,width:s,height:o,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,s,o=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,p=c.ariaLabel,g=c.data,m=c.startIndex,y=c.endIndex,b=Math.max(n,this.props.x),x=Qb(Qb({},et(this.props,!1)),{},{x:b,y:u,width:d,height:f}),N=p||"Min value: ".concat((i=g[m])===null||i===void 0?void 0:i.name,", Max value: ").concat((s=g[y])===null||s===void 0?void 0:s.name);return z.createElement(Pt,{tabIndex:0,role:"slider","aria-label":N,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),o.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,a))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,x))}},{key:"renderSlide",value:function(n,a){var i=this.props,s=i.y,o=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return z.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:s,width:f,height:o})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,s=n.y,o=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,g={pointerEvents:"none",fill:u};return z.createElement(Pt,{className:"recharts-brush-texts"},z.createElement(ql,fv({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:s+o/2},g),this.getTextOfTick(a)),z.createElement(ql,fv({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+p,y:s+o/2},g),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,s=n.children,o=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,g=h.endX,m=h.isTextActive,y=h.isSlideMoving,b=h.isTravellerMoving,x=h.isTravellerFocused;if(!a||!a.length||!Le(o)||!Le(c)||!Le(u)||!Le(d)||u<=0||d<=0)return null;var N=Nt("recharts-brush",i),A=z.Children.count(s)===1,w=O1e("userSelect","none");return z.createElement(Pt,{className:N,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),A&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(m||y||b||x||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,s=n.width,o=n.height,c=n.stroke,u=Math.floor(i+o/2)-1;return z.createElement(z.Fragment,null,z.createElement("rect",{x:a,y:i,width:s,height:o,fill:c,stroke:"none"}),z.createElement("line",{x1:a+1,y1:u,x2:a+s-1,y2:u,fill:"none",stroke:"#fff"}),z.createElement("line",{x1:a+1,y1:u+2,x2:a+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return z.isValidElement(n)?i=z.cloneElement(n,a):dt(n)?i=n(a):i=e.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,s=n.width,o=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return Qb({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:o,prevWidth:s},i&&i.length?L1e({data:i,width:s,x:o,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(s!==a.prevWidth||o!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([o,o+s-c]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:o,prevWidth:s,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,s=0,o=i-1;o-s>1;){var c=Math.floor((s+o)/2);n[c]>a?o=c:s=c}return a>=n[o]?o:s}}])}(R.PureComponent);ua(Iu,"displayName","Brush");ua(Iu,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var I1e=y2;function $1e(t,e){var r;return I1e(t,function(n,a,i){return r=e(n,a,i),!r}),!!r}var F1e=$1e,B1e=WT,U1e=xi,z1e=F1e,W1e=kn,H1e=td;function q1e(t,e,r){var n=W1e(t)?B1e:z1e;return r&&H1e(t,e,r)&&(e=void 0),n(t,U1e(e))}var G1e=q1e;const V1e=Ct(G1e);var Qi=function(e,r){var n=e.alwaysShow,a=e.ifOverflow;return n&&(a="extendDomain"),a===r};function Y1e(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var K1e=Y1e,X1e=y2;function Z1e(t,e){var r=!0;return X1e(t,function(n,a,i){return r=!!e(n,a,i),r}),r}var Q1e=Z1e,J1e=K1e,ewe=Q1e,twe=xi,rwe=kn,nwe=td;function awe(t,e,r){var n=rwe(t)?J1e:ewe;return r&&nwe(t,e,r)&&(e=void 0),n(t,twe(e))}var iwe=awe;const G6=Ct(iwe);var swe=["x","y"];function $h(t){"@babel/helpers - typeof";return $h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$h(t)}function dw(){return dw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dw.apply(this,arguments)}function iC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function pf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iC(Object(r),!0).forEach(function(n){owe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function owe(t,e,r){return e=lwe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lwe(t){var e=cwe(t,"string");return $h(e)=="symbol"?e:e+""}function cwe(t,e){if($h(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($h(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uwe(t,e){if(t==null)return{};var r=dwe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dwe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function fwe(t,e){var r=t.x,n=t.y,a=uwe(t,swe),i="".concat(r),s=parseInt(i,10),o="".concat(n),c=parseInt(o,10),u="".concat(e.height||a.height),d=parseInt(u,10),f="".concat(e.width||a.width),h=parseInt(f,10);return pf(pf(pf(pf(pf({},e),a),s?{x:s}:{}),c?{y:c}:{}),{},{height:d,width:h,name:e.name,radius:e.radius})}function sC(t){return z.createElement(B6,dw({shapeType:"rectangle",propTransformer:fwe,activeClassName:"recharts-active-bar"},t))}var hwe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof e=="number")return e;var i=typeof n=="number";return i?e(n,a):(i||Vl(),r)}},pwe=["value","background"],V6;function $u(t){"@babel/helpers - typeof";return $u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$u(t)}function mwe(t,e){if(t==null)return{};var r=gwe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function gwe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function pv(){return pv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pv.apply(this,arguments)}function oC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ur(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oC(Object(r),!0).forEach(function(n){vo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lC(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,K6(n.key),n)}}function ywe(t,e,r){return e&&lC(t.prototype,e),r&&lC(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function bwe(t,e,r){return e=mv(e),xwe(t,Y6()?Reflect.construct(e,r||[],mv(t).constructor):e.apply(t,r))}function xwe(t,e){if(e&&($u(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wwe(t)}function wwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Y6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Y6=function(){return!!t})()}function mv(t){return mv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mv(t)}function Swe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fw(t,e)}function fw(t,e){return fw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},fw(t,e)}function vo(t,e,r){return e=K6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function K6(t){var e=Nwe(t,"string");return $u(e)=="symbol"?e:e+""}function Nwe(t,e){if($u(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($u(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var op=function(t){function e(){var r;vwe(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=bwe(this,e,[].concat(a)),vo(r,"state",{isAnimationFinished:!1}),vo(r,"id",pd("recharts-bar-")),vo(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),vo(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return Swe(e,t),ywe(e,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,s=i.shape,o=i.dataKey,c=i.activeIndex,u=i.activeBar,d=et(this.props,!1);return n&&n.map(function(f,h){var p=h===c,g=p?u:s,m=Ur(Ur(Ur({},d),f),{},{isActive:p,option:g,index:h,dataKey:o,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return z.createElement(Pt,pv({className:"recharts-bar-rectangle"},Hl(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),z.createElement(sC,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,s=a.layout,o=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return z.createElement(rs,{begin:c,duration:u,isActive:o,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,m=i.map(function(y,b){var x=h&&h[b];if(x){var N=Zn(x.x,y.x),A=Zn(x.y,y.y),w=Zn(x.width,y.width),j=Zn(x.height,y.height);return Ur(Ur({},y),{},{x:N(g),y:A(g),width:w(g),height:j(g)})}if(s==="horizontal"){var E=Zn(0,y.height),O=E(g);return Ur(Ur({},y),{},{y:y.y+y.height-O,height:O})}var k=Zn(0,y.width),L=k(g);return Ur(Ur({},y),{},{width:L})});return z.createElement(Pt,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,s=this.state.prevData;return i&&a&&a.length&&(!s||!Il(s,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,s=a.dataKey,o=a.activeIndex,c=et(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,h=mwe(u,pwe);if(!f)return null;var p=Ur(Ur(Ur(Ur(Ur({},h),{},{fill:"#eee"},f),c),Hl(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:d,className:"recharts-bar-background-rectangle"});return z.createElement(sC,pv({key:"background-bar-".concat(d),option:n.props.background,isActive:d===o},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.data,o=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=Ia(d,By);if(!f)return null;var h=u==="vertical"?s[0].height/2:s[0].width/2,p=function(y,b){var x=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:x,errorVal:Kr(y,b)}},g={clipPath:n?"url(#clipPath-".concat(a,")"):null};return z.createElement(Pt,g,f.map(function(m){return z.cloneElement(m,{key:"error-bar-".concat(a,"-").concat(m.props.dataKey),data:s,xAxis:o,yAxis:c,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,s=n.className,o=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,p=n.isAnimationActive,g=n.background,m=n.id;if(a||!i||!i.length)return null;var y=this.state.isAnimationFinished,b=Nt("recharts-bar",s),x=o&&o.allowDataOverflow,N=c&&c.allowDataOverflow,A=x||N,w=wt(m)?this.id:m;return z.createElement(Pt,{className:b},x||N?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(w)},z.createElement("rect",{x:x?u:u-f/2,y:N?d:d-h/2,width:x?f:f*2,height:N?h:h*2}))):null,z.createElement(Pt,{className:"recharts-bar-rectangles",clipPath:A?"url(#clipPath-".concat(w,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(A,w),(!p||y)&&Ts.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(R.PureComponent);V6=op;vo(op,"displayName","Bar");vo(op,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ec.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});vo(op,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,a=t.bandSize,i=t.xAxis,s=t.yAxis,o=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,p=Vve(n,r);if(!p)return null;var g=e.layout,m=r.type.defaultProps,y=m!==void 0?Ur(Ur({},m),r.props):r.props,b=y.dataKey,x=y.children,N=y.minPointSize,A=g==="horizontal"?s:i,w=u?A.scale.domain():null,j=eye({numericAxis:A}),E=Ia(x,Cy),O=f.map(function(k,L){var C,P,I,M,H,V;u?C=Yve(u[d+L],w):(C=Kr(k,b),Array.isArray(C)||(C=[j,C]));var F=hwe(N,V6.defaultProps.minPointSize)(C[1],L);if(g==="horizontal"){var X,Y=[s.scale(C[0]),s.scale(C[1])],Q=Y[0],se=Y[1];P=JE({axis:i,ticks:o,bandSize:a,offset:p.offset,entry:k,index:L}),I=(X=se??Q)!==null&&X!==void 0?X:void 0,M=p.size;var $=Q-se;if(H=Number.isNaN($)?0:$,V={x:P,y:s.y,width:M,height:s.height},Math.abs(F)>0&&Math.abs(H)<Math.abs(F)){var W=Bn(H||F)*(Math.abs(F)-Math.abs(H));I-=W,H+=W}}else{var ee=[i.scale(C[0]),i.scale(C[1])],ae=ee[0],oe=ee[1];if(P=ae,I=JE({axis:s,ticks:c,bandSize:a,offset:p.offset,entry:k,index:L}),M=oe-ae,H=p.size,V={x:i.x,y:I,width:i.width,height:H},Math.abs(F)>0&&Math.abs(M)<Math.abs(F)){var me=Bn(M||F)*(Math.abs(F)-Math.abs(M));M+=me}}return Ur(Ur(Ur({},k),{},{x:P,y:I,width:M,height:H,value:u?C:C[1],payload:k,background:V},E&&E[L]&&E[L].props),{},{tooltipPayload:[S6(r,k)],tooltipPosition:{x:P+M/2,y:I+H/2}})});return Ur({data:O,layout:g},h)});function Fh(t){"@babel/helpers - typeof";return Fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fh(t)}function jwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cC(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,X6(n.key),n)}}function Awe(t,e,r){return e&&cC(t.prototype,e),r&&cC(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function uC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ci(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uC(Object(r),!0).forEach(function(n){Yy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yy(t,e,r){return e=X6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function X6(t){var e=_we(t,"string");return Fh(e)=="symbol"?e:e+""}function _we(t,e){if(Fh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ewe=function(e,r,n,a,i){var s=e.width,o=e.height,c=e.layout,u=e.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},h=!!da(u,op);return d.reduce(function(p,g){var m=r[g],y=m.orientation,b=m.domain,x=m.padding,N=x===void 0?{}:x,A=m.mirror,w=m.reversed,j="".concat(y).concat(A?"Mirror":""),E,O,k,L,C;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var P=b[1]-b[0],I=1/0,M=m.categoricalDomain.sort(dce);if(M.forEach(function(ee,ae){ae>0&&(I=Math.min((ee||0)-(M[ae-1]||0),I))}),Number.isFinite(I)){var H=I/P,V=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(E=H*V/2),m.padding==="no-gap"){var F=Un(e.barCategoryGap,H*V),X=H*V/2;E=X-F-(X-F)/V*F}}}a==="xAxis"?O=[n.left+(N.left||0)+(E||0),n.left+n.width-(N.right||0)-(E||0)]:a==="yAxis"?O=c==="horizontal"?[n.top+n.height-(N.bottom||0),n.top+(N.top||0)]:[n.top+(N.top||0)+(E||0),n.top+n.height-(N.bottom||0)-(E||0)]:O=m.range,w&&(O=[O[1],O[0]]);var Y=y6(m,i,h),Q=Y.scale,se=Y.realScaleType;Q.domain(b).range(O),b6(Q);var $=x6(Q,ci(ci({},m),{},{realScaleType:se}));a==="xAxis"?(C=y==="top"&&!A||y==="bottom"&&A,k=n.left,L=f[j]-C*m.height):a==="yAxis"&&(C=y==="left"&&!A||y==="right"&&A,k=f[j]-C*m.width,L=n.top);var W=ci(ci(ci({},m),$),{},{realScaleType:se,x:k,y:L,scale:Q,width:a==="xAxis"?n.width:m.width,height:a==="yAxis"?n.height:m.height});return W.bandSize=ev(W,$),!m.hide&&a==="xAxis"?f[j]+=(C?-1:1)*W.height:m.hide||(f[j]+=(C?-1:1)*W.width),ci(ci({},p),{},Yy({},g,W))},{})},Z6=function(e,r){var n=e.x,a=e.y,i=r.x,s=r.y;return{x:Math.min(n,i),y:Math.min(a,s),width:Math.abs(i-n),height:Math.abs(s-a)}},Owe=function(e){var r=e.x1,n=e.y1,a=e.x2,i=e.y2;return Z6({x:r,y:n},{x:a,y:i})},Q6=function(){function t(e){jwe(this,t),this.scale=e}return Awe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new t(r)}}])}();Yy(Q6,"EPS",1e-4);var eS=function(e){var r=Object.keys(e).reduce(function(n,a){return ci(ci({},n),{},Yy({},a,Q6.create(e[a])))},{});return ci(ci({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.bandAware,o=i.position;return wk(a,function(c,u){return r[u].apply(c,{bandAware:s,position:o})})},isInRange:function(a){return G6(a,function(i,s){return r[s].isInRange(i)})}})};function Cwe(t){return(t%180+180)%180}var Twe=function(e){var r=e.width,n=e.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Cwe(a),s=i*Math.PI/180,o=Math.atan(n/r),c=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(c)},kwe=xi,Pwe=ed,Dwe=od;function Mwe(t){return function(e,r,n){var a=Object(e);if(!Pwe(e)){var i=kwe(r);e=Dwe(e),r=function(o){return i(a[o],o,a)}}var s=t(e,r,n);return s>-1?a[i?e[s]:s]:void 0}}var Rwe=Mwe,Lwe=Rwe,Iwe=dk,$we=Lwe(Iwe),Fwe=$we;const Bwe=Ct(Fwe);var Uwe=gW(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),tS=R.createContext(void 0),rS=R.createContext(void 0),J6=R.createContext(void 0),eM=R.createContext({}),tM=R.createContext(void 0),rM=R.createContext(0),nM=R.createContext(0),dC=function(e){var r=e.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,s=e.clipPathId,o=e.children,c=e.width,u=e.height,d=Uwe(i);return z.createElement(tS.Provider,{value:n},z.createElement(rS.Provider,{value:a},z.createElement(eM.Provider,{value:i},z.createElement(J6.Provider,{value:d},z.createElement(tM.Provider,{value:s},z.createElement(rM.Provider,{value:u},z.createElement(nM.Provider,{value:c},o)))))))},zwe=function(){return R.useContext(tM)},aM=function(e){var r=R.useContext(tS);r==null&&Vl();var n=r[e];return n==null&&Vl(),n},Wwe=function(){var e=R.useContext(tS);return lo(e)},Hwe=function(){var e=R.useContext(rS),r=Bwe(e,function(n){return G6(n.domain,Number.isFinite)});return r||lo(e)},iM=function(e){var r=R.useContext(rS);r==null&&Vl();var n=r[e];return n==null&&Vl(),n},qwe=function(){var e=R.useContext(J6);return e},Gwe=function(){return R.useContext(eM)},nS=function(){return R.useContext(nM)},aS=function(){return R.useContext(rM)};function Fu(t){"@babel/helpers - typeof";return Fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fu(t)}function Vwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ywe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,oM(n.key),n)}}function Kwe(t,e,r){return e&&Ywe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xwe(t,e,r){return e=gv(e),Zwe(t,sM()?Reflect.construct(e,r||[],gv(t).constructor):e.apply(t,r))}function Zwe(t,e){if(e&&(Fu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qwe(t)}function Qwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sM=function(){return!!t})()}function gv(t){return gv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gv(t)}function Jwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hw(t,e)}function hw(t,e){return hw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},hw(t,e)}function fC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function hC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fC(Object(r),!0).forEach(function(n){iS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iS(t,e,r){return e=oM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oM(t){var e=e2e(t,"string");return Fu(e)=="symbol"?e:e+""}function e2e(t,e){if(Fu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function t2e(t,e){return i2e(t)||a2e(t,e)||n2e(t,e)||r2e()}function r2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n2e(t,e){if(t){if(typeof t=="string")return pC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pC(t,e)}}function pC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function a2e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function i2e(t){if(Array.isArray(t))return t}function pw(){return pw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pw.apply(this,arguments)}var s2e=function(e,r){var n;return z.isValidElement(e)?n=z.cloneElement(e,r):dt(e)?n=e(r):n=z.createElement("line",pw({},r,{className:"recharts-reference-line-line"})),n},o2e=function(e,r,n,a,i,s,o,c,u){var d=i.x,f=i.y,h=i.width,p=i.height;if(n){var g=u.y,m=e.y.apply(g,{position:s});if(Qi(u,"discard")&&!e.y.isInRange(m))return null;var y=[{x:d+h,y:m},{x:d,y:m}];return c==="left"?y.reverse():y}if(r){var b=u.x,x=e.x.apply(b,{position:s});if(Qi(u,"discard")&&!e.x.isInRange(x))return null;var N=[{x,y:f+p},{x,y:f}];return o==="top"?N.reverse():N}if(a){var A=u.segment,w=A.map(function(j){return e.apply(j,{position:s})});return Qi(u,"discard")&&V1e(w,function(j){return!e.isInRange(j)})?null:w}return null};function l2e(t){var e=t.x,r=t.y,n=t.segment,a=t.xAxisId,i=t.yAxisId,s=t.shape,o=t.className,c=t.alwaysShow,u=zwe(),d=aM(a),f=iM(i),h=qwe();if(!u||!h)return null;mi(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=eS({x:d.scale,y:f.scale}),g=Xr(e),m=Xr(r),y=n&&n.length===2,b=o2e(p,g,m,y,h,t.position,d.orientation,f.orientation,t);if(!b)return null;var x=t2e(b,2),N=x[0],A=N.x,w=N.y,j=x[1],E=j.x,O=j.y,k=Qi(t,"hidden")?"url(#".concat(u,")"):void 0,L=hC(hC({clipPath:k},et(t,!0)),{},{x1:A,y1:w,x2:E,y2:O});return z.createElement(Pt,{className:Nt("recharts-reference-line",o)},s2e(s,L),on.renderCallByParent(t,Owe({x1:A,y1:w,x2:E,y2:O})))}var sS=function(t){function e(){return Vwe(this,e),Xwe(this,e,arguments)}return Jwe(e,t),Kwe(e,[{key:"render",value:function(){return z.createElement(l2e,this.props)}}])}(z.Component);iS(sS,"displayName","ReferenceLine");iS(sS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function mw(){return mw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mw.apply(this,arguments)}function Bu(t){"@babel/helpers - typeof";return Bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bu(t)}function mC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function gC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mC(Object(r),!0).forEach(function(n){Ky(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function c2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u2e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,cM(n.key),n)}}function d2e(t,e,r){return e&&u2e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function f2e(t,e,r){return e=vv(e),h2e(t,lM()?Reflect.construct(e,r||[],vv(t).constructor):e.apply(t,r))}function h2e(t,e){if(e&&(Bu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p2e(t)}function p2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lM=function(){return!!t})()}function vv(t){return vv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vv(t)}function m2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gw(t,e)}function gw(t,e){return gw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},gw(t,e)}function Ky(t,e,r){return e=cM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cM(t){var e=g2e(t,"string");return Bu(e)=="symbol"?e:e+""}function g2e(t,e){if(Bu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var v2e=function(e){var r=e.x,n=e.y,a=e.xAxis,i=e.yAxis,s=eS({x:a.scale,y:i.scale}),o=s.apply({x:r,y:n},{bandAware:!0});return Qi(e,"discard")&&!s.isInRange(o)?null:o},Xy=function(t){function e(){return c2e(this,e),f2e(this,e,arguments)}return m2e(e,t),d2e(e,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,s=n.r,o=n.alwaysShow,c=n.clipPathId,u=Xr(a),d=Xr(i);if(mi(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=v2e(this.props);if(!f)return null;var h=f.x,p=f.y,g=this.props,m=g.shape,y=g.className,b=Qi(this.props,"hidden")?"url(#".concat(c,")"):void 0,x=gC(gC({clipPath:b},et(this.props,!0)),{},{cx:h,cy:p});return z.createElement(Pt,{className:Nt("recharts-reference-dot",y)},e.renderDot(m,x),on.renderCallByParent(this.props,{x:h-s,y:p-s,width:2*s,height:2*s}))}}])}(z.Component);Ky(Xy,"displayName","ReferenceDot");Ky(Xy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Ky(Xy,"renderDot",function(t,e){var r;return z.isValidElement(t)?r=z.cloneElement(t,e):dt(t)?r=t(e):r=z.createElement(Uy,mw({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function vw(){return vw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vw.apply(this,arguments)}function Uu(t){"@babel/helpers - typeof";return Uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uu(t)}function vC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function yC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vC(Object(r),!0).forEach(function(n){Zy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function y2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b2e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dM(n.key),n)}}function x2e(t,e,r){return e&&b2e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function w2e(t,e,r){return e=yv(e),S2e(t,uM()?Reflect.construct(e,r||[],yv(t).constructor):e.apply(t,r))}function S2e(t,e){if(e&&(Uu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N2e(t)}function N2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uM=function(){return!!t})()}function yv(t){return yv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yv(t)}function j2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yw(t,e)}function yw(t,e){return yw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},yw(t,e)}function Zy(t,e,r){return e=dM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dM(t){var e=A2e(t,"string");return Uu(e)=="symbol"?e:e+""}function A2e(t,e){if(Uu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _2e=function(e,r,n,a,i){var s=i.x1,o=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=eS({x:d.scale,y:f.scale}),p={x:e?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Qi(i,"discard")&&(!h.isInRange(p)||!h.isInRange(g))?null:Z6(p,g)},Qy=function(t){function e(){return y2e(this,e),w2e(this,e,arguments)}return j2e(e,t),x2e(e,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,s=n.y1,o=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;mi(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Xr(a),h=Xr(i),p=Xr(s),g=Xr(o),m=this.props.shape;if(!f&&!h&&!p&&!g&&!m)return null;var y=_2e(f,h,p,g,this.props);if(!y&&!m)return null;var b=Qi(this.props,"hidden")?"url(#".concat(d,")"):void 0;return z.createElement(Pt,{className:Nt("recharts-reference-area",c)},e.renderRect(m,yC(yC({clipPath:b},et(this.props,!0)),y)),on.renderCallByParent(this.props,y))}}])}(z.Component);Zy(Qy,"displayName","ReferenceArea");Zy(Qy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Zy(Qy,"renderRect",function(t,e){var r;return z.isValidElement(t)?r=z.cloneElement(t,e):dt(t)?r=t(e):r=z.createElement(J5,vw({},e,{className:"recharts-reference-area-rect"})),r});function fM(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],a=0;a<t.length;a+=e)n.push(t[a]);return n}function E2e(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return Twe(n,r)}function O2e(t,e,r){var n=r==="width",a=t.x,i=t.y,s=t.width,o=t.height;return e===1?{start:n?a:i,end:n?a+s:i+o}:{start:n?a+s:i+o,end:n?a:i}}function bv(t,e,r,n,a){if(t*e<t*n||t*e>t*a)return!1;var i=r();return t*(e-t*i/2-n)>=0&&t*(e+t*i/2-a)<=0}function C2e(t,e){return fM(t,e+1)}function T2e(t,e,r,n,a){for(var i=(n||[]).slice(),s=e.start,o=e.end,c=0,u=1,d=s,f=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:fM(n,u)};var m=c,y,b=function(){return y===void 0&&(y=r(g,m)),y},x=g.coordinate,N=c===0||bv(t,x,b,d,o);N||(c=0,d=s,u+=1),N&&(d=x+t*(b()/2+a),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function Bh(t){"@babel/helpers - typeof";return Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bh(t)}function bC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Nn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bC(Object(r),!0).forEach(function(n){k2e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function k2e(t,e,r){return e=P2e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function P2e(t){var e=D2e(t,"string");return Bh(e)=="symbol"?e:e+""}function D2e(t,e){if(Bh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function M2e(t,e,r,n,a){for(var i=(n||[]).slice(),s=i.length,o=e.start,c=e.end,u=function(h){var p=i[h],g,m=function(){return g===void 0&&(g=r(p,h)),g};if(h===s-1){var y=t*(p.coordinate+t*m()/2-c);i[h]=p=Nn(Nn({},p),{},{tickCoord:y>0?p.coordinate-y*t:p.coordinate})}else i[h]=p=Nn(Nn({},p),{},{tickCoord:p.coordinate});var b=bv(t,p.tickCoord,m,o,c);b&&(c=p.tickCoord-t*(m()/2+a),i[h]=Nn(Nn({},p),{},{isShow:!0}))},d=s-1;d>=0;d--)u(d);return i}function R2e(t,e,r,n,a,i){var s=(n||[]).slice(),o=s.length,c=e.start,u=e.end;if(i){var d=n[o-1],f=r(d,o-1),h=t*(d.coordinate+t*f/2-u);s[o-1]=d=Nn(Nn({},d),{},{tickCoord:h>0?d.coordinate-h*t:d.coordinate});var p=bv(t,d.tickCoord,function(){return f},c,u);p&&(u=d.tickCoord-t*(f/2+a),s[o-1]=Nn(Nn({},d),{},{isShow:!0}))}for(var g=i?o-1:o,m=function(x){var N=s[x],A,w=function(){return A===void 0&&(A=r(N,x)),A};if(x===0){var j=t*(N.coordinate-t*w()/2-c);s[x]=N=Nn(Nn({},N),{},{tickCoord:j<0?N.coordinate-j*t:N.coordinate})}else s[x]=N=Nn(Nn({},N),{},{tickCoord:N.coordinate});var E=bv(t,N.tickCoord,w,c,u);E&&(c=N.tickCoord+t*(w()/2+a),s[x]=Nn(Nn({},N),{},{isShow:!0}))},y=0;y<g;y++)m(y);return s}function oS(t,e,r){var n=t.tick,a=t.ticks,i=t.viewBox,s=t.minTickGap,o=t.orientation,c=t.interval,u=t.tickFormatter,d=t.unit,f=t.angle;if(!a||!a.length||!n)return[];if(Le(c)||ec.isSsr)return C2e(a,typeof c=="number"&&Le(c)?c:0);var h=[],p=o==="top"||o==="bottom"?"width":"height",g=d&&p==="width"?Of(d,{fontSize:e,letterSpacing:r}):{width:0,height:0},m=function(N,A){var w=dt(u)?u(N.value,A):N.value;return p==="width"?E2e(Of(w,{fontSize:e,letterSpacing:r}),g,f):Of(w,{fontSize:e,letterSpacing:r})[p]},y=a.length>=2?Bn(a[1].coordinate-a[0].coordinate):1,b=O2e(i,y,p);return c==="equidistantPreserveStart"?T2e(y,b,m,a,s):(c==="preserveStart"||c==="preserveStartEnd"?h=R2e(y,b,m,a,s,c==="preserveStartEnd"):h=M2e(y,b,m,a,s),h.filter(function(x){return x.isShow}))}var L2e=["viewBox"],I2e=["viewBox"],$2e=["ticks"];function zu(t){"@babel/helpers - typeof";return zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zu(t)}function Qc(){return Qc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qc.apply(this,arguments)}function xC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ln(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xC(Object(r),!0).forEach(function(n){lS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jb(t,e){if(t==null)return{};var r=F2e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function F2e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function B2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wC(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pM(n.key),n)}}function U2e(t,e,r){return e&&wC(t.prototype,e),r&&wC(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function z2e(t,e,r){return e=xv(e),W2e(t,hM()?Reflect.construct(e,r||[],xv(t).constructor):e.apply(t,r))}function W2e(t,e){if(e&&(zu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return H2e(t)}function H2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hM=function(){return!!t})()}function xv(t){return xv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xv(t)}function q2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bw(t,e)}function bw(t,e){return bw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},bw(t,e)}function lS(t,e,r){return e=pM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pM(t){var e=G2e(t,"string");return zu(e)=="symbol"?e:e+""}function G2e(t,e){if(zu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var yd=function(t){function e(r){var n;return B2e(this,e),n=z2e(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return q2e(e,t),U2e(e,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,s=Jb(n,L2e),o=this.props,c=o.viewBox,u=Jb(o,I2e);return!ou(i,c)||!ou(s,u)||!ou(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,s=a.y,o=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,p,g,m,y,b,x,N=f?-1:1,A=n.tickSize||d,w=Le(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=g=n.coordinate,y=s+ +!f*c,m=y-N*A,x=m-N*h,b=w;break;case"left":m=y=n.coordinate,g=i+ +!f*o,p=g-N*A,b=p-N*h,x=w;break;case"right":m=y=n.coordinate,g=i+ +f*o,p=g+N*A,b=p+N*h,x=w;break;default:p=g=n.coordinate,y=s+ +f*c,m=y+N*A,x=m+N*h,b=w;break}return{line:{x1:p,y1:m,x2:g,y2:y},tick:{x:b,y:x}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s;switch(a){case"left":s=i?"start":"end";break;case"right":s=i?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s="end";switch(a){case"left":case"right":s="middle";break;case"top":s=i?"start":"end";break;default:s=i?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=Ln(Ln(Ln({},et(this.props,!1)),et(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=Ln(Ln({},f),{},{x1:a,y1:i+h*o,x2:a+s,y2:i+h*o})}else{var p=+(c==="left"&&!u||c==="right"&&u);f=Ln(Ln({},f),{},{x1:a+p*s,y1:i,x2:a+p*s,y2:i+o})}return z.createElement("line",Qc({},f,{className:Nt("recharts-cartesian-axis-line",ma(d,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var s=this,o=this.props,c=o.tickLine,u=o.stroke,d=o.tick,f=o.tickFormatter,h=o.unit,p=oS(Ln(Ln({},this.props),{},{ticks:n}),a,i),g=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),y=et(this.props,!1),b=et(d,!1),x=Ln(Ln({},y),{},{fill:"none"},et(c,!1)),N=p.map(function(A,w){var j=s.getTickLineCoord(A),E=j.line,O=j.tick,k=Ln(Ln(Ln(Ln({textAnchor:g,verticalAnchor:m},y),{},{stroke:"none",fill:u},b),O),{},{index:w,payload:A,visibleTicksCount:p.length,tickFormatter:f});return z.createElement(Pt,Qc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},Hl(s.props,A,w)),c&&z.createElement("line",Qc({},x,E,{className:Nt("recharts-cartesian-axis-tick-line",ma(c,"className"))})),d&&e.renderTickItem(d,k,"".concat(dt(f)?f(A.value,w):A.value).concat(h||"")))});return z.createElement("g",{className:"recharts-cartesian-axis-ticks"},N)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,s=a.width,o=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,p=Jb(f,$2e),g=h;return dt(c)&&(g=h&&h.length>0?c(this.props):c(p)),s<=0||o<=0||!g||!g.length?null:z.createElement(Pt,{className:Nt("recharts-cartesian-axis",u),ref:function(y){n.layerReference=y}},i&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),on.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var s;return z.isValidElement(n)?s=z.cloneElement(n,a):dt(n)?s=n(a):s=z.createElement(ql,Qc({},a,{className:"recharts-cartesian-axis-tick-value"}),i),s}}])}(R.Component);lS(yd,"displayName","CartesianAxis");lS(yd,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var V2e=["x1","y1","x2","y2","key"],Y2e=["offset"];function Yl(t){"@babel/helpers - typeof";return Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yl(t)}function SC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function _n(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SC(Object(r),!0).forEach(function(n){K2e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function K2e(t,e,r){return e=X2e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function X2e(t){var e=Z2e(t,"string");return Yl(e)=="symbol"?e:e+""}function Z2e(t,e){if(Yl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bl(){return bl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bl.apply(this,arguments)}function NC(t,e){if(t==null)return{};var r=Q2e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Q2e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var J2e=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,a=e.x,i=e.y,s=e.width,o=e.height,c=e.ry;return z.createElement("rect",{x:a,y:i,ry:c,width:s,height:o,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function mM(t,e){var r;if(z.isValidElement(t))r=z.cloneElement(t,e);else if(dt(t))r=t(e);else{var n=e.x1,a=e.y1,i=e.x2,s=e.y2,o=e.key,c=NC(e,V2e),u=et(c,!1);u.offset;var d=NC(u,Y2e);r=z.createElement("line",bl({},d,{x1:n,y1:a,x2:i,y2:s,fill:"none",key:o}))}return r}function e5e(t){var e=t.x,r=t.width,n=t.horizontal,a=n===void 0?!0:n,i=t.horizontalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(o,c){var u=_n(_n({},t),{},{x1:e,y1:o,x2:e+r,y2:o,key:"line-".concat(c),index:c});return mM(a,u)});return z.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function t5e(t){var e=t.y,r=t.height,n=t.vertical,a=n===void 0?!0:n,i=t.verticalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(o,c){var u=_n(_n({},t),{},{x1:o,y1:e,x2:o,y2:e+r,key:"line-".concat(c),index:c});return mM(a,u)});return z.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function r5e(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,a=t.y,i=t.width,s=t.height,o=t.horizontalPoints,c=t.horizontal,u=c===void 0?!0:c;if(!u||!e||!e.length)return null;var d=o.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var g=!d[p+1],m=g?a+s-h:d[p+1]-h;if(m<=0)return null;var y=p%e.length;return z.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:m,width:i,stroke:"none",fill:e[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function n5e(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,a=t.fillOpacity,i=t.x,s=t.y,o=t.width,c=t.height,u=t.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var g=!d[p+1],m=g?i+o-h:d[p+1]-h;if(m<=0)return null;var y=p%n.length;return z.createElement("rect",{key:"react-".concat(p),x:h,y:s,width:m,height:c,stroke:"none",fill:n[y],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var a5e=function(e,r){var n=e.xAxis,a=e.width,i=e.height,s=e.offset;return v6(oS(_n(_n(_n({},yd.defaultProps),n),{},{ticks:As(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.left,s.left+s.width,r)},i5e=function(e,r){var n=e.yAxis,a=e.width,i=e.height,s=e.offset;return v6(oS(_n(_n(_n({},yd.defaultProps),n),{},{ticks:As(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.top,s.top+s.height,r)},Bc={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function gM(t){var e,r,n,a,i,s,o=nS(),c=aS(),u=Gwe(),d=_n(_n({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Bc.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:Bc.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:Bc.horizontal,horizontalFill:(a=t.horizontalFill)!==null&&a!==void 0?a:Bc.horizontalFill,vertical:(i=t.vertical)!==null&&i!==void 0?i:Bc.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:Bc.verticalFill,x:Le(t.x)?t.x:u.left,y:Le(t.y)?t.y:u.top,width:Le(t.width)?t.width:u.width,height:Le(t.height)?t.height:u.height}),f=d.x,h=d.y,p=d.width,g=d.height,m=d.syncWithTicks,y=d.horizontalValues,b=d.verticalValues,x=Wwe(),N=Hwe();if(!Le(p)||p<=0||!Le(g)||g<=0||!Le(f)||f!==+f||!Le(h)||h!==+h)return null;var A=d.verticalCoordinatesGenerator||a5e,w=d.horizontalCoordinatesGenerator||i5e,j=d.horizontalPoints,E=d.verticalPoints;if((!j||!j.length)&&dt(w)){var O=y&&y.length,k=w({yAxis:N?_n(_n({},N),{},{ticks:O?y:N.ticks}):void 0,width:o,height:c,offset:u},O?!0:m);mi(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Yl(k),"]")),Array.isArray(k)&&(j=k)}if((!E||!E.length)&&dt(A)){var L=b&&b.length,C=A({xAxis:x?_n(_n({},x),{},{ticks:L?b:x.ticks}):void 0,width:o,height:c,offset:u},L?!0:m);mi(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Yl(C),"]")),Array.isArray(C)&&(E=C)}return z.createElement("g",{className:"recharts-cartesian-grid"},z.createElement(J2e,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),z.createElement(e5e,bl({},d,{offset:u,horizontalPoints:j,xAxis:x,yAxis:N})),z.createElement(t5e,bl({},d,{offset:u,verticalPoints:E,xAxis:x,yAxis:N})),z.createElement(r5e,bl({},d,{horizontalPoints:j})),z.createElement(n5e,bl({},d,{verticalPoints:E})))}gM.displayName="CartesianGrid";var s5e=["layout","type","stroke","connectNulls","isRange","ref"],o5e=["key"],vM;function Wu(t){"@babel/helpers - typeof";return Wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wu(t)}function yM(t,e){if(t==null)return{};var r=l5e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function l5e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function xl(){return xl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xl.apply(this,arguments)}function jC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function so(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jC(Object(r),!0).forEach(function(n){Gi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function c5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AC(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,xM(n.key),n)}}function u5e(t,e,r){return e&&AC(t.prototype,e),r&&AC(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function d5e(t,e,r){return e=wv(e),f5e(t,bM()?Reflect.construct(e,r||[],wv(t).constructor):e.apply(t,r))}function f5e(t,e){if(e&&(Wu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h5e(t)}function h5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bM=function(){return!!t})()}function wv(t){return wv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wv(t)}function p5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xw(t,e)}function xw(t,e){return xw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},xw(t,e)}function Gi(t,e,r){return e=xM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xM(t){var e=m5e(t,"string");return Wu(e)=="symbol"?e:e+""}function m5e(t,e){if(Wu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Fo=function(t){function e(){var r;c5e(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=d5e(this,e,[].concat(a)),Gi(r,"state",{isAnimationFinished:!0}),Gi(r,"id",pd("recharts-area-")),Gi(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),dt(s)&&s()}),Gi(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),dt(s)&&s()}),r}return p5e(e,t),u5e(e,[{key:"renderDots",value:function(n,a,i){var s=this.props.isAnimationActive,o=this.state.isAnimationFinished;if(s&&!o)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,h=et(this.props,!1),p=et(u,!0),g=d.map(function(y,b){var x=so(so(so({key:"dot-".concat(b),r:3},h),p),{},{index:b,cx:y.x,cy:y.y,dataKey:f,value:y.value,payload:y.payload,points:d});return e.renderDotItem(u,x)}),m={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return z.createElement(Pt,xl({className:"recharts-area-dots"},m),g)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,i=a.baseLine,s=a.points,o=a.strokeWidth,c=s[0].x,u=s[s.length-1].x,d=n*Math.abs(c-u),f=go(s.map(function(h){return h.y||0}));return Le(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(go(i.map(function(h){return h.y||0})),f)),Le(f)?z.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(o?parseInt("".concat(o),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,i=a.baseLine,s=a.points,o=a.strokeWidth,c=s[0].y,u=s[s.length-1].y,d=n*Math.abs(c-u),f=go(s.map(function(h){return h.x||0}));return Le(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(go(i.map(function(h){return h.x||0})),f)),Le(f)?z.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(o?parseInt("".concat(o),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,i,s){var o=this.props,c=o.layout,u=o.type,d=o.stroke,f=o.connectNulls,h=o.isRange;o.ref;var p=yM(o,s5e);return z.createElement(Pt,{clipPath:i?"url(#clipPath-".concat(s,")"):null},z.createElement(uu,xl({},et(p,!0),{points:n,connectNulls:f,type:u,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&z.createElement(uu,xl({},et(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:n})),d!=="none"&&h&&z.createElement(uu,xl({},et(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var i=this,s=this.props,o=s.points,c=s.baseLine,u=s.isAnimationActive,d=s.animationBegin,f=s.animationDuration,h=s.animationEasing,p=s.animationId,g=this.state,m=g.prevPoints,y=g.prevBaseLine;return z.createElement(rs,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var x=b.t;if(m){var N=m.length/o.length,A=o.map(function(O,k){var L=Math.floor(k*N);if(m[L]){var C=m[L],P=Zn(C.x,O.x),I=Zn(C.y,O.y);return so(so({},O),{},{x:P(x),y:I(x)})}return O}),w;if(Le(c)&&typeof c=="number"){var j=Zn(y,c);w=j(x)}else if(wt(c)||hd(c)){var E=Zn(y,0);w=E(x)}else w=c.map(function(O,k){var L=Math.floor(k*N);if(y[L]){var C=y[L],P=Zn(C.x,O.x),I=Zn(C.y,O.y);return so(so({},O),{},{x:P(x),y:I(x)})}return O});return i.renderAreaStatically(A,w,n,a)}return z.createElement(Pt,null,z.createElement("defs",null,z.createElement("clipPath",{id:"animationClipPath-".concat(a)},i.renderClipRect(x))),z.createElement(Pt,{clipPath:"url(#animationClipPath-".concat(a,")")},i.renderAreaStatically(o,c,n,a)))})}},{key:"renderArea",value:function(n,a){var i=this.props,s=i.points,o=i.baseLine,c=i.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return c&&s&&s.length&&(!d&&h>0||!Il(d,s)||!Il(f,o))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(s,o,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,s=a.dot,o=a.points,c=a.className,u=a.top,d=a.left,f=a.xAxis,h=a.yAxis,p=a.width,g=a.height,m=a.isAnimationActive,y=a.id;if(i||!o||!o.length)return null;var b=this.state.isAnimationFinished,x=o.length===1,N=Nt("recharts-area",c),A=f&&f.allowDataOverflow,w=h&&h.allowDataOverflow,j=A||w,E=wt(y)?this.id:y,O=(n=et(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},k=O.r,L=k===void 0?3:k,C=O.strokeWidth,P=C===void 0?2:C,I=xce(s)?s:{},M=I.clipDot,H=M===void 0?!0:M,V=L*2+P;return z.createElement(Pt,{className:N},A||w?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(E)},z.createElement("rect",{x:A?d:d-p/2,y:w?u:u-g/2,width:A?p:p*2,height:w?g:g*2})),!H&&z.createElement("clipPath",{id:"clipPath-dots-".concat(E)},z.createElement("rect",{x:d-V/2,y:u-V/2,width:p+V,height:g+V}))):null,x?null:this.renderArea(j,E),(s||x)&&this.renderDots(j,H,E),(!m||b)&&Ts.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(R.PureComponent);vM=Fo;Gi(Fo,"displayName","Area");Gi(Fo,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!ec.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Gi(Fo,"getBaseValue",function(t,e,r,n){var a=t.layout,i=t.baseValue,s=e.props.baseValue,o=s??i;if(Le(o)&&typeof o=="number")return o;var c=a==="horizontal"?n:r,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return o==="dataMin"?f:o==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return o==="dataMin"?u[0]:o==="dataMax"?u[1]:u[0]});Gi(Fo,"getComposedData",function(t){var e=t.props,r=t.item,n=t.xAxis,a=t.yAxis,i=t.xAxisTicks,s=t.yAxisTicks,o=t.bandSize,c=t.dataKey,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,p=e.layout,g=u&&u.length,m=vM.getBaseValue(e,r,n,a),y=p==="horizontal",b=!1,x=f.map(function(A,w){var j;g?j=u[d+w]:(j=Kr(A,c),Array.isArray(j)?b=!0:j=[m,j]);var E=j[1]==null||g&&Kr(A,c)==null;return y?{x:QE({axis:n,ticks:i,bandSize:o,entry:A,index:w}),y:E?null:a.scale(j[1]),value:j,payload:A}:{x:E?null:n.scale(j[1]),y:QE({axis:a,ticks:s,bandSize:o,entry:A,index:w}),value:j,payload:A}}),N;return g||b?N=x.map(function(A){var w=Array.isArray(A.value)?A.value[0]:null;return y?{x:A.x,y:w!=null&&A.y!=null?a.scale(w):null}:{x:w!=null?n.scale(w):null,y:A.y}}):N=y?a.scale(m):n.scale(m),so({points:x,baseLine:N,layout:p,isRange:b},h)});Gi(Fo,"renderDotItem",function(t,e){var r;if(z.isValidElement(t))r=z.cloneElement(t,e);else if(dt(t))r=t(e);else{var n=Nt("recharts-area-dot",typeof t!="boolean"?t.className:""),a=e.key,i=yM(e,o5e);r=z.createElement(Uy,xl({},i,{key:a,className:n}))}return r});function Hu(t){"@babel/helpers - typeof";return Hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hu(t)}function g5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v5e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,NM(n.key),n)}}function y5e(t,e,r){return e&&v5e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function b5e(t,e,r){return e=Sv(e),x5e(t,wM()?Reflect.construct(e,r||[],Sv(t).constructor):e.apply(t,r))}function x5e(t,e){if(e&&(Hu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w5e(t)}function w5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wM=function(){return!!t})()}function Sv(t){return Sv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sv(t)}function S5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ww(t,e)}function ww(t,e){return ww=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ww(t,e)}function SM(t,e,r){return e=NM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NM(t){var e=N5e(t,"string");return Hu(e)=="symbol"?e:e+""}function N5e(t,e){if(Hu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Sw(){return Sw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Sw.apply(this,arguments)}function j5e(t){var e=t.xAxisId,r=nS(),n=aS(),a=aM(e);return a==null?null:z.createElement(yd,Sw({},a,{className:Nt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return As(s,!0)}}))}var Jy=function(t){function e(){return g5e(this,e),b5e(this,e,arguments)}return S5e(e,t),y5e(e,[{key:"render",value:function(){return z.createElement(j5e,this.props)}}])}(z.Component);SM(Jy,"displayName","XAxis");SM(Jy,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function qu(t){"@babel/helpers - typeof";return qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qu(t)}function A5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _5e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_M(n.key),n)}}function E5e(t,e,r){return e&&_5e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function O5e(t,e,r){return e=Nv(e),C5e(t,jM()?Reflect.construct(e,r||[],Nv(t).constructor):e.apply(t,r))}function C5e(t,e){if(e&&(qu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T5e(t)}function T5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jM=function(){return!!t})()}function Nv(t){return Nv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nv(t)}function k5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nw(t,e)}function Nw(t,e){return Nw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Nw(t,e)}function AM(t,e,r){return e=_M(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _M(t){var e=P5e(t,"string");return qu(e)=="symbol"?e:e+""}function P5e(t,e){if(qu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function jw(){return jw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jw.apply(this,arguments)}var D5e=function(e){var r=e.yAxisId,n=nS(),a=aS(),i=iM(r);return i==null?null:z.createElement(yd,jw({},i,{className:Nt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(o){return As(o,!0)}}))},e0=function(t){function e(){return A5e(this,e),O5e(this,e,arguments)}return k5e(e,t),E5e(e,[{key:"render",value:function(){return z.createElement(D5e,this.props)}}])}(z.Component);AM(e0,"displayName","YAxis");AM(e0,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function _C(t){return I5e(t)||L5e(t)||R5e(t)||M5e()}function M5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R5e(t,e){if(t){if(typeof t=="string")return Aw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Aw(t,e)}}function L5e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function I5e(t){if(Array.isArray(t))return Aw(t)}function Aw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var _w=function(e,r,n,a,i){var s=Ia(e,sS),o=Ia(e,Xy),c=[].concat(_C(s),_C(o)),u=Ia(e,Qy),d="".concat(a,"Id"),f=a[0],h=r;if(c.length&&(h=c.reduce(function(m,y){if(y.props[d]===n&&Qi(y.props,"extendDomain")&&Le(y.props[f])){var b=y.props[f];return[Math.min(m[0],b),Math.max(m[1],b)]}return m},h)),u.length){var p="".concat(f,"1"),g="".concat(f,"2");h=u.reduce(function(m,y){if(y.props[d]===n&&Qi(y.props,"extendDomain")&&Le(y.props[p])&&Le(y.props[g])){var b=y.props[p],x=y.props[g];return[Math.min(m[0],b,x),Math.max(m[1],b,x)]}return m},h)}return i&&i.length&&(h=i.reduce(function(m,y){return Le(y)?[Math.min(m[0],y),Math.max(m[1],y)]:m},h)),h},EM={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new a(d,f||c,h),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],p]:c._events[g].push(p):(c._events[g]=p,c._eventsCount++),c}function s(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,g=new Array(p);h<p;h++)g[h]=f[h].fn;return g},o.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,d,f,h,p,g){var m=r?r+u:u;if(!this._events[m])return!1;var y=this._events[m],b=arguments.length,x,N;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),b){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,h),!0;case 5:return y.fn.call(y.context,d,f,h,p),!0;case 6:return y.fn.call(y.context,d,f,h,p,g),!0}for(N=1,x=new Array(b-1);N<b;N++)x[N-1]=arguments[N];y.fn.apply(y.context,x)}else{var A=y.length,w;for(N=0;N<A;N++)switch(y[N].once&&this.removeListener(u,y[N].fn,void 0,!0),b){case 1:y[N].fn.call(y[N].context);break;case 2:y[N].fn.call(y[N].context,d);break;case 3:y[N].fn.call(y[N].context,d,f);break;case 4:y[N].fn.call(y[N].context,d,f,h);break;default:if(!x)for(w=1,x=new Array(b-1);w<b;w++)x[w-1]=arguments[w];y[N].fn.apply(y[N].context,x)}}return!0},o.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},o.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},o.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return s(this,p),this;var g=this._events[p];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&s(this,p);else{for(var m=0,y=[],b=g.length;m<b;m++)(g[m].fn!==d||h&&!g[m].once||f&&g[m].context!==f)&&y.push(g[m]);y.length?this._events[p]=y.length===1?y[0]:y:s(this,p)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o})(EM);var $5e=EM.exports;const F5e=Ct($5e);var ex=new F5e,tx="recharts.syncMouseEvents";function Uh(t){"@babel/helpers - typeof";return Uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uh(t)}function B5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U5e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,OM(n.key),n)}}function z5e(t,e,r){return e&&U5e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function rx(t,e,r){return e=OM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OM(t){var e=W5e(t,"string");return Uh(e)=="symbol"?e:e+""}function W5e(t,e){if(Uh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var H5e=function(){function t(){B5e(this,t),rx(this,"activeIndex",0),rx(this,"coordinateList",[]),rx(this,"layout","horizontal")}return z5e(t,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,s=r.container,o=s===void 0?null:s,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=o??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,s=a.y,o=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,h=s+this.offset.top+o/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function q5e(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],a=t==null?void 0:t[1];if(n&&a&&Le(n)&&Le(a))return!0}return!1}function G5e(t,e,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-a,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function CM(t){var e=t.cx,r=t.cy,n=t.radius,a=t.startAngle,i=t.endAngle,s=ur(e,r,n,a),o=ur(e,r,n,i);return{points:[s,o],cx:e,cy:r,radius:n,startAngle:a,endAngle:i}}function V5e(t,e,r){var n,a,i,s;if(t==="horizontal")n=e.x,i=n,a=r.top,s=r.top+r.height;else if(t==="vertical")a=e.y,s=a,n=r.left,i=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,c=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,h=ur(o,c,u,f),p=ur(o,c,d,f);n=h.x,a=h.y,i=p.x,s=p.y}else return CM(e);return[{x:n,y:a},{x:i,y:s}]}function zh(t){"@babel/helpers - typeof";return zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zh(t)}function EC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Om(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EC(Object(r),!0).forEach(function(n){Y5e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Y5e(t,e,r){return e=K5e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function K5e(t){var e=X5e(t,"string");return zh(e)=="symbol"?e:e+""}function X5e(t,e){if(zh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Z5e(t){var e,r,n=t.element,a=t.tooltipEventType,i=t.isActive,s=t.activeCoordinate,o=t.activePayload,c=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,p=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!s||h!=="ScatterChart"&&a!=="axis")return null;var g,m=uu;if(h==="ScatterChart")g=s,m=cxe;else if(h==="BarChart")g=G5e(f,s,c,d),m=J5;else if(f==="radial"){var y=CM(s),b=y.cx,x=y.cy,N=y.radius,A=y.startAngle,w=y.endAngle;g={cx:b,cy:x,startAngle:A,endAngle:w,innerRadius:N,outerRadius:N},m=O6}else g={points:V5e(f,s,c)},m=uu;var j=Om(Om(Om(Om({stroke:"#ccc",pointerEvents:"none"},c),g),et(p,!1)),{},{payload:o,payloadIndex:u,className:Nt("recharts-tooltip-cursor",p.className)});return R.isValidElement(p)?R.cloneElement(p,j):R.createElement(m,j)}var Q5e=["item"],J5e=["children","className","width","height","style","compact","title","desc"];function Gu(t){"@babel/helpers - typeof";return Gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gu(t)}function Jc(){return Jc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jc.apply(this,arguments)}function OC(t,e){return rSe(t)||tSe(t,e)||kM(t,e)||eSe()}function eSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tSe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function rSe(t){if(Array.isArray(t))return t}function CC(t,e){if(t==null)return{};var r=nSe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function nSe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function aSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iSe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,PM(n.key),n)}}function sSe(t,e,r){return e&&iSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oSe(t,e,r){return e=jv(e),lSe(t,TM()?Reflect.construct(e,r||[],jv(t).constructor):e.apply(t,r))}function lSe(t,e){if(e&&(Gu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cSe(t)}function cSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TM=function(){return!!t})()}function jv(t){return jv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jv(t)}function uSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ew(t,e)}function Ew(t,e){return Ew=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ew(t,e)}function Vu(t){return hSe(t)||fSe(t)||kM(t)||dSe()}function dSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kM(t,e){if(t){if(typeof t=="string")return Ow(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ow(t,e)}}function fSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hSe(t){if(Array.isArray(t))return Ow(t)}function Ow(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function TC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ae(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TC(Object(r),!0).forEach(function(n){st(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function st(t,e,r){return e=PM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PM(t){var e=pSe(t,"string");return Gu(e)=="symbol"?e:e+""}function pSe(t,e){if(Gu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mSe={xAxis:["bottom","top"],yAxis:["left","right"]},gSe={width:"100%",height:"100%"},DM={x:0,y:0};function Cm(t){return t}var vSe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},ySe=function(e,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(e==="horizontal")return{x:i.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:i.coordinate};if(e==="centric"){var s=i.coordinate,o=a.radius;return Ae(Ae(Ae({},a),ur(a.cx,a.cy,o,s)),{},{angle:s,radius:o})}var c=i.coordinate,u=a.angle;return Ae(Ae(Ae({},a),ur(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return DM},t0=function(e,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,s=(n??[]).reduce(function(o,c){var u=c.props.data;return u&&u.length?[].concat(Vu(o),Vu(u)):o},[]);return s.length>0?s:e&&e.length&&Le(a)&&Le(i)?e.slice(a,i+1):[]};function MM(t){return t==="number"?[0,"auto"]:void 0}var Cw=function(e,r,n,a){var i=e.graphicalItems,s=e.tooltipAxis,o=t0(r,e);return n<0||!i||!i.length||n>=o.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var p=f===void 0?o:f;h=Cg(p,s.dataKey,a)}else h=f&&f[n]||o[n];return h?[].concat(Vu(c),[S6(u,h)]):c},[])},kC=function(e,r,n,a){var i=a||{x:e.chartX,y:e.chartY},s=vSe(i,n),o=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,d=Uve(s,o,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=Cw(e,r,d,f),p=ySe(n,o,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},bSe=function(e,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,s=r.axisIdKey,o=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,h=e.stackOffset,p=g6(d,i);return n.reduce(function(g,m){var y,b=m.type.defaultProps!==void 0?Ae(Ae({},m.type.defaultProps),m.props):m.props,x=b.type,N=b.dataKey,A=b.allowDataOverflow,w=b.allowDuplicatedCategory,j=b.scale,E=b.ticks,O=b.includeHidden,k=b[s];if(g[k])return g;var L=t0(e.data,{graphicalItems:a.filter(function($){var W,ee=s in $.props?$.props[s]:(W=$.type.defaultProps)===null||W===void 0?void 0:W[s];return ee===k}),dataStartIndex:c,dataEndIndex:u}),C=L.length,P,I,M;q5e(b.domain,A,x)&&(P=H1(b.domain,null,A),p&&(x==="number"||j!=="auto")&&(M=Tf(L,N,"category")));var H=MM(x);if(!P||P.length===0){var V,F=(V=b.domain)!==null&&V!==void 0?V:H;if(N){if(P=Tf(L,N,x),x==="category"&&p){var X=uce(P);w&&X?(I=P,P=Kf(0,C)):w||(P=rO(F,P,m).reduce(function($,W){return $.indexOf(W)>=0?$:[].concat(Vu($),[W])},[]))}else if(x==="category")w?P=P.filter(function($){return $!==""&&!wt($)}):P=rO(F,P,m).reduce(function($,W){return $.indexOf(W)>=0||W===""||wt(W)?$:[].concat(Vu($),[W])},[]);else if(x==="number"){var Y=Gve(L,a.filter(function($){var W,ee,ae=s in $.props?$.props[s]:(W=$.type.defaultProps)===null||W===void 0?void 0:W[s],oe="hide"in $.props?$.props.hide:(ee=$.type.defaultProps)===null||ee===void 0?void 0:ee.hide;return ae===k&&(O||!oe)}),N,i,d);Y&&(P=Y)}p&&(x==="number"||j!=="auto")&&(M=Tf(L,N,"category"))}else p?P=Kf(0,C):o&&o[k]&&o[k].hasStack&&x==="number"?P=h==="expand"?[0,1]:w6(o[k].stackGroups,c,u):P=m6(L,a.filter(function($){var W=s in $.props?$.props[s]:$.type.defaultProps[s],ee="hide"in $.props?$.props.hide:$.type.defaultProps.hide;return W===k&&(O||!ee)}),x,d,!0);if(x==="number")P=_w(f,P,k,i,E),F&&(P=H1(F,P,A));else if(x==="category"&&F){var Q=F,se=P.every(function($){return Q.indexOf($)>=0});se&&(P=Q)}}return Ae(Ae({},g),{},st({},k,Ae(Ae({},b),{},{axisType:i,domain:P,categoricalDomain:M,duplicateDomain:I,originalDomain:(y=b.domain)!==null&&y!==void 0?y:H,isCategorical:p,layout:d})))},{})},xSe=function(e,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,s=r.axisIdKey,o=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,h=t0(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=h.length,g=g6(d,i),m=-1;return n.reduce(function(y,b){var x=b.type.defaultProps!==void 0?Ae(Ae({},b.type.defaultProps),b.props):b.props,N=x[s],A=MM("number");if(!y[N]){m++;var w;return g?w=Kf(0,p):o&&o[N]&&o[N].hasStack?(w=w6(o[N].stackGroups,c,u),w=_w(f,w,N,i)):(w=H1(A,m6(h,n.filter(function(j){var E,O,k=s in j.props?j.props[s]:(E=j.type.defaultProps)===null||E===void 0?void 0:E[s],L="hide"in j.props?j.props.hide:(O=j.type.defaultProps)===null||O===void 0?void 0:O.hide;return k===N&&!L}),"number",d),a.defaultProps.allowDataOverflow),w=_w(f,w,N,i)),Ae(Ae({},y),{},st({},N,Ae(Ae({axisType:i},a.defaultProps),{},{hide:!0,orientation:ma(mSe,"".concat(i,".").concat(m%2),null),domain:w,originalDomain:A,isCategorical:g,layout:d})))}return y},{})},wSe=function(e,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,s=r.graphicalItems,o=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.children,f="".concat(a,"Id"),h=Ia(d,i),p={};return h&&h.length?p=bSe(e,{axes:h,graphicalItems:s,axisType:a,axisIdKey:f,stackGroups:o,dataStartIndex:c,dataEndIndex:u}):s&&s.length&&(p=xSe(e,{Axis:i,graphicalItems:s,axisType:a,axisIdKey:f,stackGroups:o,dataStartIndex:c,dataEndIndex:u})),p},SSe=function(e){var r=lo(e),n=As(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Hv(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:ev(r,n)}},PC=function(e){var r=e.children,n=e.defaultShowTooltip,a=da(r,Iu),i=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(s=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},NSe=function(e){return!e||!e.length?!1:e.some(function(r){var n=Os(r&&r.type);return n&&n.indexOf("Bar")>=0})},DC=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},jSe=function(e,r){var n=e.props,a=e.graphicalItems,i=e.xAxisMap,s=i===void 0?{}:i,o=e.yAxisMap,c=o===void 0?{}:o,u=n.width,d=n.height,f=n.children,h=n.margin||{},p=da(f,Iu),g=da(f,_l),m=Object.keys(c).reduce(function(w,j){var E=c[j],O=E.orientation;return!E.mirror&&!E.hide?Ae(Ae({},w),{},st({},O,w[O]+E.width)):w},{left:h.left||0,right:h.right||0}),y=Object.keys(s).reduce(function(w,j){var E=s[j],O=E.orientation;return!E.mirror&&!E.hide?Ae(Ae({},w),{},st({},O,ma(w,"".concat(O))+E.height)):w},{top:h.top||0,bottom:h.bottom||0}),b=Ae(Ae({},y),m),x=b.bottom;p&&(b.bottom+=p.props.height||Iu.defaultProps.height),g&&r&&(b=Hve(b,a,n,r));var N=u-b.left-b.right,A=d-b.top-b.bottom;return Ae(Ae({brushBottom:x},b),{},{width:Math.max(N,0),height:Math.max(A,0)})},ASe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},RM=function(e){var r=e.chartName,n=e.GraphicalChild,a=e.defaultTooltipEventType,i=a===void 0?"axis":a,s=e.validateTooltipEventTypes,o=s===void 0?["axis"]:s,c=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,h=function(b,x){var N=x.graphicalItems,A=x.stackGroups,w=x.offset,j=x.updateId,E=x.dataStartIndex,O=x.dataEndIndex,k=b.barSize,L=b.layout,C=b.barGap,P=b.barCategoryGap,I=b.maxBarSize,M=DC(L),H=M.numericAxisName,V=M.cateAxisName,F=NSe(N),X=[];return N.forEach(function(Y,Q){var se=t0(b.data,{graphicalItems:[Y],dataStartIndex:E,dataEndIndex:O}),$=Y.type.defaultProps!==void 0?Ae(Ae({},Y.type.defaultProps),Y.props):Y.props,W=$.dataKey,ee=$.maxBarSize,ae=$["".concat(H,"Id")],oe=$["".concat(V,"Id")],me={},fe=c.reduce(function($e,Ie){var Ze=x["".concat(Ie.axisType,"Map")],at=$["".concat(Ie.axisType,"Id")];Ze&&Ze[at]||Ie.axisType==="zAxis"||Vl();var ht=Ze[at];return Ae(Ae({},$e),{},st(st({},Ie.axisType,ht),"".concat(Ie.axisType,"Ticks"),As(ht)))},me),J=fe[V],ve=fe["".concat(V,"Ticks")],xe=A&&A[ae]&&A[ae].hasStack&&tye(Y,A[ae].stackGroups),pe=Os(Y.type).indexOf("Bar")>=0,Te=ev(J,ve),Me=[],we=F&&zve({barSize:k,stackGroups:A,totalSize:ASe(fe,V)});if(pe){var ne,Qe,He=wt(ee)?I:ee,Pe=(ne=(Qe=ev(J,ve,!0))!==null&&Qe!==void 0?Qe:He)!==null&&ne!==void 0?ne:0;Me=Wve({barGap:C,barCategoryGap:P,bandSize:Pe!==Te?Pe:Te,sizeList:we[oe],maxBarSize:He}),Pe!==Te&&(Me=Me.map(function($e){return Ae(Ae({},$e),{},{position:Ae(Ae({},$e.position),{},{offset:$e.position.offset-Pe/2})})}))}var Re=Y&&Y.type&&Y.type.getComposedData;Re&&X.push({props:Ae(Ae({},Re(Ae(Ae({},fe),{},{displayedData:se,props:b,dataKey:W,item:Y,bandSize:Te,barPosition:Me,offset:w,stackedData:xe,layout:L,dataStartIndex:E,dataEndIndex:O}))),{},st(st(st({key:Y.key||"item-".concat(Q)},H,fe[H]),V,fe[V]),"animationId",j)),childIndex:Nce(Y,b.children),item:Y})}),X},p=function(b,x){var N=b.props,A=b.dataStartIndex,w=b.dataEndIndex,j=b.updateId;if(!S_({props:N}))return null;var E=N.children,O=N.layout,k=N.stackOffset,L=N.data,C=N.reverseStackOrder,P=DC(O),I=P.numericAxisName,M=P.cateAxisName,H=Ia(E,n),V=Jve(L,H,"".concat(I,"Id"),"".concat(M,"Id"),k,C),F=c.reduce(function($,W){var ee="".concat(W.axisType,"Map");return Ae(Ae({},$),{},st({},ee,wSe(N,Ae(Ae({},W),{},{graphicalItems:H,stackGroups:W.axisType===I&&V,dataStartIndex:A,dataEndIndex:w}))))},{}),X=jSe(Ae(Ae({},F),{},{props:N,graphicalItems:H}),x==null?void 0:x.legendBBox);Object.keys(F).forEach(function($){F[$]=d(N,F[$],X,$.replace("Map",""),r)});var Y=F["".concat(M,"Map")],Q=SSe(Y),se=h(N,Ae(Ae({},F),{},{dataStartIndex:A,dataEndIndex:w,updateId:j,graphicalItems:H,stackGroups:V,offset:X}));return Ae(Ae({formattedGraphicalItems:se,graphicalItems:H,offset:X,stackGroups:V},Q),F)},g=function(y){function b(x){var N,A,w;return aSe(this,b),w=oSe(this,b,[x]),st(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),st(w,"accessibilityManager",new H5e),st(w,"handleLegendBBoxUpdate",function(j){if(j){var E=w.state,O=E.dataStartIndex,k=E.dataEndIndex,L=E.updateId;w.setState(Ae({legendBBox:j},p({props:w.props,dataStartIndex:O,dataEndIndex:k,updateId:L},Ae(Ae({},w.state),{},{legendBBox:j}))))}}),st(w,"handleReceiveSyncEvent",function(j,E,O){if(w.props.syncId===j){if(O===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(E)}}),st(w,"handleBrushChange",function(j){var E=j.startIndex,O=j.endIndex;if(E!==w.state.dataStartIndex||O!==w.state.dataEndIndex){var k=w.state.updateId;w.setState(function(){return Ae({dataStartIndex:E,dataEndIndex:O},p({props:w.props,dataStartIndex:E,dataEndIndex:O,updateId:k},w.state))}),w.triggerSyncEvent({dataStartIndex:E,dataEndIndex:O})}}),st(w,"handleMouseEnter",function(j){var E=w.getMouseInfo(j);if(E){var O=Ae(Ae({},E),{},{isTooltipActive:!0});w.setState(O),w.triggerSyncEvent(O);var k=w.props.onMouseEnter;dt(k)&&k(O,j)}}),st(w,"triggeredAfterMouseMove",function(j){var E=w.getMouseInfo(j),O=E?Ae(Ae({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(O),w.triggerSyncEvent(O);var k=w.props.onMouseMove;dt(k)&&k(O,j)}),st(w,"handleItemMouseEnter",function(j){w.setState(function(){return{isTooltipActive:!0,activeItem:j,activePayload:j.tooltipPayload,activeCoordinate:j.tooltipPosition||{x:j.cx,y:j.cy}}})}),st(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),st(w,"handleMouseMove",function(j){j.persist(),w.throttleTriggeredAfterMouseMove(j)}),st(w,"handleMouseLeave",function(j){w.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};w.setState(E),w.triggerSyncEvent(E);var O=w.props.onMouseLeave;dt(O)&&O(E,j)}),st(w,"handleOuterEvent",function(j){var E=Sce(j),O=ma(w.props,"".concat(E));if(E&&dt(O)){var k,L;/.*touch.*/i.test(E)?L=w.getMouseInfo(j.changedTouches[0]):L=w.getMouseInfo(j),O((k=L)!==null&&k!==void 0?k:{},j)}}),st(w,"handleClick",function(j){var E=w.getMouseInfo(j);if(E){var O=Ae(Ae({},E),{},{isTooltipActive:!0});w.setState(O),w.triggerSyncEvent(O);var k=w.props.onClick;dt(k)&&k(O,j)}}),st(w,"handleMouseDown",function(j){var E=w.props.onMouseDown;if(dt(E)){var O=w.getMouseInfo(j);E(O,j)}}),st(w,"handleMouseUp",function(j){var E=w.props.onMouseUp;if(dt(E)){var O=w.getMouseInfo(j);E(O,j)}}),st(w,"handleTouchMove",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(j.changedTouches[0])}),st(w,"handleTouchStart",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&w.handleMouseDown(j.changedTouches[0])}),st(w,"handleTouchEnd",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&w.handleMouseUp(j.changedTouches[0])}),st(w,"handleDoubleClick",function(j){var E=w.props.onDoubleClick;if(dt(E)){var O=w.getMouseInfo(j);E(O,j)}}),st(w,"handleContextMenu",function(j){var E=w.props.onContextMenu;if(dt(E)){var O=w.getMouseInfo(j);E(O,j)}}),st(w,"triggerSyncEvent",function(j){w.props.syncId!==void 0&&ex.emit(tx,w.props.syncId,j,w.eventEmitterSymbol)}),st(w,"applySyncEvent",function(j){var E=w.props,O=E.layout,k=E.syncMethod,L=w.state.updateId,C=j.dataStartIndex,P=j.dataEndIndex;if(j.dataStartIndex!==void 0||j.dataEndIndex!==void 0)w.setState(Ae({dataStartIndex:C,dataEndIndex:P},p({props:w.props,dataStartIndex:C,dataEndIndex:P,updateId:L},w.state)));else if(j.activeTooltipIndex!==void 0){var I=j.chartX,M=j.chartY,H=j.activeTooltipIndex,V=w.state,F=V.offset,X=V.tooltipTicks;if(!F)return;if(typeof k=="function")H=k(X,j);else if(k==="value"){H=-1;for(var Y=0;Y<X.length;Y++)if(X[Y].value===j.activeLabel){H=Y;break}}var Q=Ae(Ae({},F),{},{x:F.left,y:F.top}),se=Math.min(I,Q.x+Q.width),$=Math.min(M,Q.y+Q.height),W=X[H]&&X[H].value,ee=Cw(w.state,w.props.data,H),ae=X[H]?{x:O==="horizontal"?X[H].coordinate:se,y:O==="horizontal"?$:X[H].coordinate}:DM;w.setState(Ae(Ae({},j),{},{activeLabel:W,activeCoordinate:ae,activePayload:ee,activeTooltipIndex:H}))}else w.setState(j)}),st(w,"renderCursor",function(j){var E,O=w.state,k=O.isTooltipActive,L=O.activeCoordinate,C=O.activePayload,P=O.offset,I=O.activeTooltipIndex,M=O.tooltipAxisBandSize,H=w.getTooltipEventType(),V=(E=j.props.active)!==null&&E!==void 0?E:k,F=w.props.layout,X=j.key||"_recharts-cursor";return z.createElement(Z5e,{key:X,activeCoordinate:L,activePayload:C,activeTooltipIndex:I,chartName:r,element:j,isActive:V,layout:F,offset:P,tooltipAxisBandSize:M,tooltipEventType:H})}),st(w,"renderPolarAxis",function(j,E,O){var k=ma(j,"type.axisType"),L=ma(w.state,"".concat(k,"Map")),C=j.type.defaultProps,P=C!==void 0?Ae(Ae({},C),j.props):j.props,I=L&&L[P["".concat(k,"Id")]];return R.cloneElement(j,Ae(Ae({},I),{},{className:Nt(k,I.className),key:j.key||"".concat(E,"-").concat(O),ticks:As(I,!0)}))}),st(w,"renderPolarGrid",function(j){var E=j.props,O=E.radialLines,k=E.polarAngles,L=E.polarRadius,C=w.state,P=C.radiusAxisMap,I=C.angleAxisMap,M=lo(P),H=lo(I),V=H.cx,F=H.cy,X=H.innerRadius,Y=H.outerRadius;return R.cloneElement(j,{polarAngles:Array.isArray(k)?k:As(H,!0).map(function(Q){return Q.coordinate}),polarRadius:Array.isArray(L)?L:As(M,!0).map(function(Q){return Q.coordinate}),cx:V,cy:F,innerRadius:X,outerRadius:Y,key:j.key||"polar-grid",radialLines:O})}),st(w,"renderLegend",function(){var j=w.state.formattedGraphicalItems,E=w.props,O=E.children,k=E.width,L=E.height,C=w.props.margin||{},P=k-(C.left||0)-(C.right||0),I=h6({children:O,formattedGraphicalItems:j,legendWidth:P,legendContent:u});if(!I)return null;var M=I.item,H=CC(I,Q5e);return R.cloneElement(M,Ae(Ae({},H),{},{chartWidth:k,chartHeight:L,margin:C,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),st(w,"renderTooltip",function(){var j,E=w.props,O=E.children,k=E.accessibilityLayer,L=da(O,li);if(!L)return null;var C=w.state,P=C.isTooltipActive,I=C.activeCoordinate,M=C.activePayload,H=C.activeLabel,V=C.offset,F=(j=L.props.active)!==null&&j!==void 0?j:P;return R.cloneElement(L,{viewBox:Ae(Ae({},V),{},{x:V.left,y:V.top}),active:F,label:H,payload:F?M:[],coordinate:I,accessibilityLayer:k})}),st(w,"renderBrush",function(j){var E=w.props,O=E.margin,k=E.data,L=w.state,C=L.offset,P=L.dataStartIndex,I=L.dataEndIndex,M=L.updateId;return R.cloneElement(j,{key:j.key||"_recharts-brush",onChange:jm(w.handleBrushChange,j.props.onChange),data:k,x:Le(j.props.x)?j.props.x:C.left,y:Le(j.props.y)?j.props.y:C.top+C.height+C.brushBottom-(O.bottom||0),width:Le(j.props.width)?j.props.width:C.width,startIndex:P,endIndex:I,updateId:"brush-".concat(M)})}),st(w,"renderReferenceElement",function(j,E,O){if(!j)return null;var k=w,L=k.clipPathId,C=w.state,P=C.xAxisMap,I=C.yAxisMap,M=C.offset,H=j.type.defaultProps||{},V=j.props,F=V.xAxisId,X=F===void 0?H.xAxisId:F,Y=V.yAxisId,Q=Y===void 0?H.yAxisId:Y;return R.cloneElement(j,{key:j.key||"".concat(E,"-").concat(O),xAxis:P[X],yAxis:I[Q],viewBox:{x:M.left,y:M.top,width:M.width,height:M.height},clipPathId:L})}),st(w,"renderActivePoints",function(j){var E=j.item,O=j.activePoint,k=j.basePoint,L=j.childIndex,C=j.isRange,P=[],I=E.props.key,M=E.item.type.defaultProps!==void 0?Ae(Ae({},E.item.type.defaultProps),E.item.props):E.item.props,H=M.activeDot,V=M.dataKey,F=Ae(Ae({index:L,dataKey:V,cx:O.x,cy:O.y,r:4,fill:Q5(E.item),strokeWidth:2,stroke:"#fff",payload:O.payload,value:O.value},et(H,!1)),Tg(H));return P.push(b.renderActiveDot(H,F,"".concat(I,"-activePoint-").concat(L))),k?P.push(b.renderActiveDot(H,Ae(Ae({},F),{},{cx:k.x,cy:k.y}),"".concat(I,"-basePoint-").concat(L))):C&&P.push(null),P}),st(w,"renderGraphicChild",function(j,E,O){var k=w.filterFormatItem(j,E,O);if(!k)return null;var L=w.getTooltipEventType(),C=w.state,P=C.isTooltipActive,I=C.tooltipAxis,M=C.activeTooltipIndex,H=C.activeLabel,V=w.props.children,F=da(V,li),X=k.props,Y=X.points,Q=X.isRange,se=X.baseLine,$=k.item.type.defaultProps!==void 0?Ae(Ae({},k.item.type.defaultProps),k.item.props):k.item.props,W=$.activeDot,ee=$.hide,ae=$.activeBar,oe=$.activeShape,me=!!(!ee&&P&&F&&(W||ae||oe)),fe={};L!=="axis"&&F&&F.props.trigger==="click"?fe={onClick:jm(w.handleItemMouseEnter,j.props.onClick)}:L!=="axis"&&(fe={onMouseLeave:jm(w.handleItemMouseLeave,j.props.onMouseLeave),onMouseEnter:jm(w.handleItemMouseEnter,j.props.onMouseEnter)});var J=R.cloneElement(j,Ae(Ae({},k.props),fe));function ve(Ie){return typeof I.dataKey=="function"?I.dataKey(Ie.payload):null}if(me)if(M>=0){var xe,pe;if(I.dataKey&&!I.allowDuplicatedCategory){var Te=typeof I.dataKey=="function"?ve:"payload.".concat(I.dataKey.toString());xe=Cg(Y,Te,H),pe=Q&&se&&Cg(se,Te,H)}else xe=Y==null?void 0:Y[M],pe=Q&&se&&se[M];if(oe||ae){var Me=j.props.activeIndex!==void 0?j.props.activeIndex:M;return[R.cloneElement(j,Ae(Ae(Ae({},k.props),fe),{},{activeIndex:Me})),null,null]}if(!wt(xe))return[J].concat(Vu(w.renderActivePoints({item:k,activePoint:xe,basePoint:pe,childIndex:M,isRange:Q})))}else{var we,ne=(we=w.getItemByXY(w.state.activeCoordinate))!==null&&we!==void 0?we:{graphicalItem:J},Qe=ne.graphicalItem,He=Qe.item,Pe=He===void 0?j:He,Re=Qe.childIndex,$e=Ae(Ae(Ae({},k.props),fe),{},{activeIndex:Re});return[R.cloneElement(Pe,$e),null,null]}return Q?[J,null,null]:[J,null]}),st(w,"renderCustomized",function(j,E,O){return R.cloneElement(j,Ae(Ae({key:"recharts-customized-".concat(O)},w.props),w.state))}),st(w,"renderMap",{CartesianGrid:{handler:Cm,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:Cm},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:Cm},YAxis:{handler:Cm},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((N=x.id)!==null&&N!==void 0?N:pd("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=fD(w.triggeredAfterMouseMove,(A=x.throttleDelay)!==null&&A!==void 0?A:1e3/60),w.state={},w}return uSe(b,y),sSe(b,[{key:"componentDidMount",value:function(){var N,A;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var N=this.props,A=N.children,w=N.data,j=N.height,E=N.layout,O=da(A,li);if(O){var k=O.props.defaultIndex;if(!(typeof k!="number"||k<0||k>this.state.tooltipTicks.length-1)){var L=this.state.tooltipTicks[k]&&this.state.tooltipTicks[k].value,C=Cw(this.state,w,k,L),P=this.state.tooltipTicks[k].coordinate,I=(this.state.offset.top+j)/2,M=E==="horizontal",H=M?{x:P,y:I}:{y:P,x:I},V=this.state.formattedGraphicalItems.find(function(X){var Y=X.item;return Y.type.name==="Scatter"});V&&(H=Ae(Ae({},H),V.props.points[k].tooltipPosition),C=V.props.points[k].tooltipPayload);var F={activeTooltipIndex:k,isTooltipActive:!0,activeLabel:L,activePayload:C,activeCoordinate:H};this.setState(F),this.renderCursor(O),this.accessibilityManager.setIndex(k)}}}},{key:"getSnapshotBeforeUpdate",value:function(N,A){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==A.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==N.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==N.margin){var w,j;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0}})}return null}},{key:"componentDidUpdate",value:function(N){u1([da(N.children,li)],[da(this.props.children,li)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var N=da(this.props.children,li);if(N&&typeof N.props.shared=="boolean"){var A=N.props.shared?"axis":"item";return o.indexOf(A)>=0?A:i}return i}},{key:"getMouseInfo",value:function(N){if(!this.container)return null;var A=this.container,w=A.getBoundingClientRect(),j=yhe(w),E={chartX:Math.round(N.pageX-j.left),chartY:Math.round(N.pageY-j.top)},O=w.width/A.offsetWidth||1,k=this.inRange(E.chartX,E.chartY,O);if(!k)return null;var L=this.state,C=L.xAxisMap,P=L.yAxisMap,I=this.getTooltipEventType(),M=kC(this.state,this.props.data,this.props.layout,k);if(I!=="axis"&&C&&P){var H=lo(C).scale,V=lo(P).scale,F=H&&H.invert?H.invert(E.chartX):null,X=V&&V.invert?V.invert(E.chartY):null;return Ae(Ae({},E),{},{xValue:F,yValue:X},M)}return M?Ae(Ae({},E),M):null}},{key:"inRange",value:function(N,A){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,j=this.props.layout,E=N/w,O=A/w;if(j==="horizontal"||j==="vertical"){var k=this.state.offset,L=E>=k.left&&E<=k.left+k.width&&O>=k.top&&O<=k.top+k.height;return L?{x:E,y:O}:null}var C=this.state,P=C.angleAxisMap,I=C.radiusAxisMap;if(P&&I){var M=lo(P);return iO({x:E,y:O},M)}return null}},{key:"parseEventsOfWrapper",value:function(){var N=this.props.children,A=this.getTooltipEventType(),w=da(N,li),j={};w&&A==="axis"&&(w.props.trigger==="click"?j={onClick:this.handleClick}:j={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=Tg(this.props,this.handleOuterEvent);return Ae(Ae({},E),j)}},{key:"addListener",value:function(){ex.on(tx,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){ex.removeListener(tx,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(N,A,w){for(var j=this.state.formattedGraphicalItems,E=0,O=j.length;E<O;E++){var k=j[E];if(k.item===N||k.props.key===N.key||A===Os(k.item.type)&&w===k.childIndex)return k}return null}},{key:"renderClipPath",value:function(){var N=this.clipPathId,A=this.state.offset,w=A.left,j=A.top,E=A.height,O=A.width;return z.createElement("defs",null,z.createElement("clipPath",{id:N},z.createElement("rect",{x:w,y:j,height:E,width:O})))}},{key:"getXScales",value:function(){var N=this.state.xAxisMap;return N?Object.entries(N).reduce(function(A,w){var j=OC(w,2),E=j[0],O=j[1];return Ae(Ae({},A),{},st({},E,O.scale))},{}):null}},{key:"getYScales",value:function(){var N=this.state.yAxisMap;return N?Object.entries(N).reduce(function(A,w){var j=OC(w,2),E=j[0],O=j[1];return Ae(Ae({},A),{},st({},E,O.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(N){var A;return(A=this.state.xAxisMap)===null||A===void 0||(A=A[N])===null||A===void 0?void 0:A.scale}},{key:"getYScaleByAxisId",value:function(N){var A;return(A=this.state.yAxisMap)===null||A===void 0||(A=A[N])===null||A===void 0?void 0:A.scale}},{key:"getItemByXY",value:function(N){var A=this.state,w=A.formattedGraphicalItems,j=A.activeItem;if(w&&w.length)for(var E=0,O=w.length;E<O;E++){var k=w[E],L=k.props,C=k.item,P=C.type.defaultProps!==void 0?Ae(Ae({},C.type.defaultProps),C.props):C.props,I=Os(C.type);if(I==="Bar"){var M=(L.data||[]).find(function(X){return Wbe(N,X)});if(M)return{graphicalItem:k,payload:M}}else if(I==="RadialBar"){var H=(L.data||[]).find(function(X){return iO(N,X)});if(H)return{graphicalItem:k,payload:H}}else if(Gy(k,j)||Vy(k,j)||Lh(k,j)){var V=v1e({graphicalItem:k,activeTooltipItem:j,itemData:P.data}),F=P.activeIndex===void 0?V:P.activeIndex;return{graphicalItem:Ae(Ae({},k),{},{childIndex:F}),payload:Lh(k,j)?P.data[V]:k.props.data[V]}}}return null}},{key:"render",value:function(){var N=this;if(!S_(this))return null;var A=this.props,w=A.children,j=A.className,E=A.width,O=A.height,k=A.style,L=A.compact,C=A.title,P=A.desc,I=CC(A,J5e),M=et(I,!1);if(L)return z.createElement(dC,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement(f1,Jc({},M,{width:E,height:O,title:C,desc:P}),this.renderClipPath(),j_(w,this.renderMap)));if(this.props.accessibilityLayer){var H,V;M.tabIndex=(H=this.props.tabIndex)!==null&&H!==void 0?H:0,M.role=(V=this.props.role)!==null&&V!==void 0?V:"application",M.onKeyDown=function(X){N.accessibilityManager.keyboardEvent(X)},M.onFocus=function(){N.accessibilityManager.focus()}}var F=this.parseEventsOfWrapper();return z.createElement(dC,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement("div",Jc({className:Nt("recharts-wrapper",j),style:Ae({position:"relative",cursor:"default",width:E,height:O},k)},F,{ref:function(Y){N.container=Y}}),z.createElement(f1,Jc({},M,{width:E,height:O,title:C,desc:P,style:gSe}),this.renderClipPath(),j_(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(R.Component);st(g,"displayName",r),st(g,"defaultProps",Ae({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),st(g,"getDerivedStateFromProps",function(y,b){var x=y.dataKey,N=y.data,A=y.children,w=y.width,j=y.height,E=y.layout,O=y.stackOffset,k=y.margin,L=b.dataStartIndex,C=b.dataEndIndex;if(b.updateId===void 0){var P=PC(y);return Ae(Ae(Ae({},P),{},{updateId:0},p(Ae(Ae({props:y},P),{},{updateId:0}),b)),{},{prevDataKey:x,prevData:N,prevWidth:w,prevHeight:j,prevLayout:E,prevStackOffset:O,prevMargin:k,prevChildren:A})}if(x!==b.prevDataKey||N!==b.prevData||w!==b.prevWidth||j!==b.prevHeight||E!==b.prevLayout||O!==b.prevStackOffset||!ou(k,b.prevMargin)){var I=PC(y),M={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},H=Ae(Ae({},kC(b,N,E)),{},{updateId:b.updateId+1}),V=Ae(Ae(Ae({},I),M),H);return Ae(Ae(Ae({},V),p(Ae({props:y},V),b)),{},{prevDataKey:x,prevData:N,prevWidth:w,prevHeight:j,prevLayout:E,prevStackOffset:O,prevMargin:k,prevChildren:A})}if(!u1(A,b.prevChildren)){var F,X,Y,Q,se=da(A,Iu),$=se&&(F=(X=se.props)===null||X===void 0?void 0:X.startIndex)!==null&&F!==void 0?F:L,W=se&&(Y=(Q=se.props)===null||Q===void 0?void 0:Q.endIndex)!==null&&Y!==void 0?Y:C,ee=$!==L||W!==C,ae=!wt(N),oe=ae&&!ee?b.updateId:b.updateId+1;return Ae(Ae({updateId:oe},p(Ae(Ae({props:y},b),{},{updateId:oe,dataStartIndex:$,dataEndIndex:W}),b)),{},{prevChildren:A,dataStartIndex:$,dataEndIndex:W})}return null}),st(g,"renderActiveDot",function(y,b,x){var N;return R.isValidElement(y)?N=R.cloneElement(y,b):dt(y)?N=y(b):N=z.createElement(Uy,b),z.createElement(Pt,{className:"recharts-active-dot",key:x},N)});var m=R.forwardRef(function(b,x){return z.createElement(g,Jc({},b,{ref:x}))});return m.displayName=g.displayName,m},_Se=RM({chartName:"PieChart",GraphicalChild:Us,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:qy},{axisType:"radiusAxis",AxisComp:Wy}],formatAxisMap:dye,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),ESe=RM({chartName:"AreaChart",GraphicalChild:Fo,axisComponents:[{axisType:"xAxis",AxisComp:Jy},{axisType:"yAxis",AxisComp:e0}],formatAxisMap:Ewe});const MC=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8"];function LM(){const{id:t}=To(),{profile:e,loading:r}=ko(),n=e==null?void 0:e.org_id,[a,i]=R.useState(!0),[s,o]=R.useState(null),[c,u]=R.useState("overview"),[d,f]=R.useState("6m"),[h,p]=R.useState({total_donations:0,total_donors:0,average_donation:0,progress:0,top_donor:null,monetary_donations:0,time_donations:0,supply_donations:0,donor_retention_rate:0,recurring_donors:0,campaign_efficiency:0,volunteer_hours:0,supply_value:0,monthly_trends:[],donor_demographics:[],campaign_performance:[],volunteer_metrics:[],supply_categories:[],donors:[],top_donors:[],recurring_donor_list:[],donor_retention:[]}),[g,m]=R.useState({type:"monetary",amount:"",description:"",date:Jv(new Date,"yyyy-MM-dd"),donor_name:"",donor_email:"",donor_phone:"",is_recurring:!1,frequency:"monthly",category:"",payment_method:"credit_card"});R.useEffect(()=>{if(!r){if(!t&&!n){o("No fundraiser or organization context found."),i(!1);return}b()}},[t,d,n,r]);const y=N=>({...h,...N,monthly_trends:Array.isArray(N==null?void 0:N.monthly_trends)?N.monthly_trends:[],donor_demographics:Array.isArray(N==null?void 0:N.donor_demographics)?N.donor_demographics:[],campaign_performance:Array.isArray(N==null?void 0:N.campaign_performance)?N.campaign_performance:[],volunteer_metrics:Array.isArray(N==null?void 0:N.volunteer_metrics)?N.volunteer_metrics:[],supply_categories:Array.isArray(N==null?void 0:N.supply_categories)?N.supply_categories:[],donors:Array.isArray(N==null?void 0:N.donors)?N.donors:[],top_donors:Array.isArray(N==null?void 0:N.top_donors)?N.top_donors:[],recurring_donor_list:Array.isArray(N==null?void 0:N.recurring_donor_list)?N.recurring_donor_list:[],donor_retention:Array.isArray(N==null?void 0:N.donor_retention)?N.donor_retention:[]}),b=async()=>{var N,A,w,j,E,O,k,L,C,P,I,M,H;try{i(!0);const[V,F,X,Y]=await Promise.all([fi.getAnalyticsOverview({dateRange:d}),fi.getAnalyticsTrends({dateRange:d}),fi.getAnalyticsDonorRetention({dateRange:d}),fi.getAnalyticsCampaigns({dateRange:d})]);console.log("Analytics API responses:",{overview:V,trends:F,retention:X,campaigns:Y});const Q={total_donations:((A=(N=V==null?void 0:V.data)==null?void 0:N.data)==null?void 0:A.total_donations)||0,total_donors:((j=(w=V==null?void 0:V.data)==null?void 0:w.data)==null?void 0:j.total_donors)||0,volunteer_hours:((O=(E=V==null?void 0:V.data)==null?void 0:E.data)==null?void 0:O.total_volunteer_hours)||0,supply_value:((L=(k=V==null?void 0:V.data)==null?void 0:k.data)==null?void 0:L.total_supply_value)||0,active_campaigns:((P=(C=V==null?void 0:V.data)==null?void 0:C.data)==null?void 0:P.active_campaigns)||0,monthly_trends:((I=F==null?void 0:F.data)==null?void 0:I.data)||[],donor_retention:((M=X==null?void 0:X.data)==null?void 0:M.data)||[],campaign_performance:((H=Y==null?void 0:Y.data)==null?void 0:H.data)||[]};p(y(Q)),o(null)}catch(V){const F="Failed to fetch fundraiser analytics";o(F),pi(V,F),console.error("Analytics fetch error:",V)}finally{i(!1)}},x=N=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(N);return s?l.jsx("div",{className:"text-red-500 text-center mt-8",children:s}):a?l.jsx("div",{className:"text-center py-12",children:"Loading analytics..."}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsx(kt,{children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:l.jsx(Da,{className:"h-6 w-6 text-blue-600"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Donations"}),l.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:x(h.total_donations)})]})]})}),l.jsx(kt,{children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:l.jsx($a,{className:"h-6 w-6 text-green-600"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Donors"}),l.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:h.total_donors})]})]})}),l.jsx(kt,{children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"p-3 bg-purple-100 rounded-full",children:l.jsx(yo,{className:"h-6 w-6 text-purple-600"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Volunteer Hours"}),l.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:h.volunteer_hours})]})]})}),l.jsx(kt,{children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"p-3 bg-yellow-100 rounded-full",children:l.jsx(PR,{className:"h-6 w-6 text-yellow-600"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Supply Value"}),l.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:x(h.supply_value)})]})]})})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs(kt,{children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Donation Trends"}),l.jsx("div",{className:"h-80",children:l.jsx(V_,{width:"100%",height:"100%",children:l.jsxs(ESe,{data:h.monthly_trends,children:[l.jsx(gM,{strokeDasharray:"3 3"}),l.jsx(Jy,{dataKey:"date"}),l.jsx(e0,{}),l.jsx(li,{formatter:N=>x(N)}),l.jsx(Fo,{type:"monotone",dataKey:"amount",stroke:"#2563eb",fill:"#93c5fd"})]})})})]}),l.jsxs(kt,{children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Donation Types"}),l.jsx("div",{className:"h-80",children:l.jsx(V_,{width:"100%",height:"100%",children:l.jsxs(_Se,{children:[l.jsx(Us,{data:h.supply_categories,dataKey:"value",nameKey:"category",cx:"50%",cy:"50%",outerRadius:80,fill:"#2563eb",label:!0,children:h.supply_categories.map((N,A)=>l.jsx(Cy,{fill:MC[A%MC.length]},`cell-${A}`))}),l.jsx(li,{}),l.jsx(_l,{})]})})})]})]})]})}function OSe(){const{id:t}=To(),[e,r]=R.useState(!0),[n,a]=R.useState(null),[i,s]=R.useState(null),[o,c]=R.useState(!1);R.useEffect(()=>{if(!t){a("No fundraiser selected. Please select a fundraiser to share."),r(!1);return}u()},[t]);const u=async()=>{if(t)try{r(!0);const{data:h,error:p}=await fi.getFundraiser(t);if(p)throw new Error(p);s(h),a(null)}catch(h){const p="Failed to fetch fundraiser details";a(p),pi(h,p)}finally{r(!1)}},d=async h=>{const p=`${window.location.origin}/fundraisers/${t}`,g=`Support ${i.title} - ${i.description}`;try{switch(h){case"facebook":window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(p)}`,"_blank");break;case"twitter":window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(g)}&url=${encodeURIComponent(p)}`,"_blank");break;case"linkedin":window.open(`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(p)}`,"_blank");break;default:break}Cl("Shared successfully")}catch(m){pi(m,"Failed to share")}},f=async()=>{const h=`${window.location.origin}/fundraisers/${t}`;try{await navigator.clipboard.writeText(h),c(!0),Cl("Link copied to clipboard"),setTimeout(()=>c(!1),2e3)}catch(p){pi(p,"Failed to copy link")}};return n?l.jsx("div",{className:"text-red-500 text-center mt-8",children:n}):i?l.jsx(v5,{title:"Share Fundraiser",loading:e,error:n,children:l.jsx("div",{className:"max-w-2xl mx-auto space-y-6",children:l.jsx(kt,{title:i.title,description:i.description,children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[l.jsxs(ft,{onClick:()=>d("facebook"),className:"flex items-center space-x-2",children:[l.jsx(DR,{className:"h-5 w-5"}),l.jsx("span",{children:"Share on Facebook"})]}),l.jsxs(ft,{onClick:()=>d("twitter"),className:"flex items-center space-x-2",children:[l.jsx(MR,{className:"h-5 w-5"}),l.jsx("span",{children:"Share on Twitter"})]}),l.jsxs(ft,{onClick:()=>d("linkedin"),className:"flex items-center space-x-2",children:[l.jsx(RR,{className:"h-5 w-5"}),l.jsx("span",{children:"Share on LinkedIn"})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"flex-1 p-2 bg-gray-50 rounded-lg border border-gray-200 text-sm text-gray-600 truncate",children:`${window.location.origin}/fundraisers/${t}`}),l.jsx(ft,{onClick:f,variant:"outline",className:"flex items-center space-x-2",children:o?l.jsxs(l.Fragment,{children:[l.jsx(LR,{className:"h-5 w-5 text-green-500"}),l.jsx("span",{children:"Copied!"})]}):l.jsxs(l.Fragment,{children:[l.jsx(VC,{className:"h-5 w-5"}),l.jsx("span",{children:"Copy"})]})})]})]})})})}):null}function CSe(){const t=xr(),[e,r]=R.useState(!0),[n,a]=R.useState(null),[i,s]=R.useState({donors:[],top_donors:[],recurring_donor_list:[],donor_retention:[]});R.useEffect(()=>{o()},[]);const o=async()=>{var d;try{r(!0);const f=await fi.getAnalyticsDonorRetention();console.log("Donor retention response:",f);const h=(d=f==null?void 0:f.data)==null?void 0:d.data;let p=[];Array.isArray(h)?p=h:h&&typeof h=="object"&&(p=h.donors||h.retention||[]),Array.isArray(p)||(p=[]),console.log("Processed donor data:",p),s({donors:p,top_donors:p.slice(0,10),recurring_donor_list:p.filter(g=>g.months_active>1),donor_retention:p}),a(null)}catch(f){a("Failed to fetch donor analytics"),console.error("Donor analytics fetch error:",f)}finally{r(!1)}},c=d=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(d),u=d=>Jv(new Date(d),"MMM d, yyyy");return n?l.jsx("div",{className:"text-red-500 text-center mt-8",children:n}):e?l.jsx("div",{className:"text-center py-12",children:"Loading donors..."}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Donor Analytics"}),l.jsx(ft,{variant:"outline",onClick:()=>t("/fundraisers/record-donation"),children:"Add Donation"})]}),l.jsxs(kt,{children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Donor List"}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Email"}),l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Total Donated"}),l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Last Donation"}),l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Recurring"})]})}),l.jsx("tbody",{children:i.donors&&i.donors.length>0?i.donors.map((d,f)=>l.jsxs("tr",{className:"bg-white even:bg-gray-50",children:[l.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:(d==null?void 0:d.donor_email)||`Donor ${f+1}`}),l.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:(d==null?void 0:d.donor_email)||"N/A"}),l.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:c((d==null?void 0:d.total_donated)||0)}),l.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:d!=null&&d.last_donation?u(d.last_donation):"N/A"}),l.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:((d==null?void 0:d.months_active)||0)>1?"Yes":"No"})]},f)):l.jsx("tr",{children:l.jsx("td",{colSpan:5,className:"text-center py-4 text-gray-500",children:"No donors found."})})})]})})]}),l.jsxs(kt,{children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Top Donors"}),l.jsx("ul",{className:"divide-y divide-gray-200",children:i.top_donors&&i.top_donors.length>0?i.top_donors.map((d,f)=>l.jsxs("li",{className:"py-2 flex justify-between",children:[l.jsx("span",{children:(d==null?void 0:d.donor_email)||`Donor ${f+1}`}),l.jsx("span",{className:"font-semibold",children:c((d==null?void 0:d.total_donated)||0)})]},f)):l.jsx("li",{className:"text-center py-4 text-gray-500",children:"No top donors found."})})]}),l.jsxs(kt,{children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recurring Donors"}),l.jsx("ul",{className:"divide-y divide-gray-200",children:i.recurring_donor_list&&i.recurring_donor_list.length>0?i.recurring_donor_list.map((d,f)=>l.jsxs("li",{className:"py-2 flex justify-between",children:[l.jsx("span",{children:(d==null?void 0:d.donor_email)||`Donor ${f+1}`}),l.jsx("span",{className:"font-semibold",children:c((d==null?void 0:d.total_donated)||0)})]},f)):l.jsx("li",{className:"text-center py-4 text-gray-500",children:"No recurring donors found."})})]}),l.jsxs(kt,{children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Donor Retention"}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Donor"}),l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Months Active"}),l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"First Donation"}),l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Last Donation"}),l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Total Donated"})]})}),l.jsx("tbody",{children:i.donor_retention&&i.donor_retention.length>0?i.donor_retention.map((d,f)=>l.jsxs("tr",{className:"bg-white even:bg-gray-50",children:[l.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:(d==null?void 0:d.donor_email)||`Donor ${f+1}`}),l.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:(d==null?void 0:d.months_active)||0}),l.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:d!=null&&d.first_donation?u(d.first_donation):"N/A"}),l.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:d!=null&&d.last_donation?u(d.last_donation):"N/A"}),l.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:c((d==null?void 0:d.total_donated)||0)})]},f)):l.jsx("tr",{children:l.jsx("td",{colSpan:5,className:"text-center py-4 text-gray-500",children:"No donor retention data found."})})})]})})]})]})}const RC=[{value:"monetary",label:"Monetary Donations"},{value:"volunteer",label:"Volunteer Hours"},{value:"supplies",label:"Supply Donations"},{value:"top_donors",label:"Top Donors"},{value:"recurring",label:"Recurring Donors"},{value:"retention",label:"Donor Retention"},{value:"campaign",label:"Campaign Performance"},{value:"year_over_year",label:"Year-over-Year Comparison"}];function TSe(){var p;const[t,e]=R.useState("monetary"),[r,n]=R.useState("6m"),[a,i]=R.useState(!1),[s,o]=R.useState([]),[c,u]=R.useState(null),d=()=>{i(!0),setTimeout(()=>{o([{name:"John Smith",value:1500,date:"2024-01-15"},{name:"Sarah Johnson",value:2500,date:"2024-03-01"},{name:"Mike Brown",value:500,date:"2024-02-01"}]),i(!1),u(null)},1e3)},f=()=>{alert("PDF export coming soon!")},h=()=>{alert("XLSX export coming soon!")};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[l.jsx("select",{className:"px-4 py-2 h-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:t,onChange:g=>e(g.target.value),children:RC.map(g=>l.jsx("option",{value:g.value,children:g.label},g.value))}),l.jsxs("select",{className:"px-4 py-2 h-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:r,onChange:g=>n(g.target.value),children:[l.jsx("option",{value:"6m",children:"Last 6 Months"}),l.jsx("option",{value:"1y",children:"Last Year"}),l.jsx("option",{value:"all",children:"All Time"})]}),l.jsx(ft,{variant:"outline",onClick:d,disabled:a,children:"Generate Report"})]}),l.jsxs(kt,{children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:[(p=RC.find(g=>g.value===t))==null?void 0:p.label," Report"]}),l.jsxs("div",{className:"space-x-2",children:[l.jsx(ft,{variant:"outline",onClick:f,children:"Export as PDF"}),l.jsx(ft,{variant:"outline",onClick:h,children:"Export as XLSX"})]})]}),c&&l.jsx("div",{className:"text-red-500 mb-4",children:c}),a?l.jsx("div",{className:"text-center py-12",children:"Generating report..."}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Value"}),l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"})]})}),l.jsx("tbody",{children:s.length>0?s.map((g,m)=>l.jsxs("tr",{className:"bg-white even:bg-gray-50",children:[l.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:g.name}),l.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:g.value}),l.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:g.date})]},m)):l.jsx("tr",{children:l.jsx("td",{colSpan:3,className:"text-center py-4 text-gray-500",children:"No data to display."})})})]})})]})]})}function IM({fundraiserId:t,onCancel:e,onSave:r,embedded:n=!1}){const a=xr(),{id:i}=To(),s=t||i,[o,c]=R.useState(!0),[u,d]=R.useState(null),[f,h]=R.useState({title:"",description:"",goal_amount:"",category_id:"",start_date:"",end_date:"",status:"draft",visibility:"organization"}),p=[{value:"draft",label:"Draft"},{value:"active",label:"Active"},{value:"paused",label:"Paused"},{value:"completed",label:"Completed"}],g=[{value:"public",label:"Public"},{value:"private",label:"Private"},{value:"organization",label:"Organization Only"}];R.useEffect(()=>{s?m():c(!1)},[s]);const m=async()=>{var N;if(s)try{c(!0);const A=await fi.getFundraiser(s);console.log("Raw API response:",A);const w=((N=A.data)==null?void 0:N.data)||A.data||A;if(console.log("Extracted fundraiser data:",w),console.log("Fundraiser data keys:",w?Object.keys(w):"no data"),A.error)throw new Error(A.error);if(!w)throw new Error("No fundraiser found with this ID.");const j={title:w.title||"",description:w.description||"",goal_amount:w.goal_amount||w.goal||"",category_id:w.category_id||w.category||"",start_date:w.start_date?w.start_date.split("T")[0]:"",end_date:w.end_date?w.end_date.split("T")[0]:"",status:w.status||"draft",visibility:w.visibility||"organization"};console.log("Individual field values:"),console.log("fundraiserData.title:",w.title),console.log("fundraiserData.goal:",w.goal),console.log("fundraiserData.start_date:",w.start_date),console.log("Transformed data for form:",j),h(j),d(null)}catch(A){const w="Failed to fetch fundraiser details";d(A.message||w),pi(A,w)}finally{c(!1)}},y=async N=>{N.preventDefault();try{c(!0);const A={title:f.title,description:f.description,goal_amount:f.goal_amount,start_date:f.start_date,end_date:f.end_date,status:f.status,visibility:f.visibility,category:f.category_id};if(s){const{error:w}=await fi.updateFundraiser(s,A);if(w)throw new Error(w);Cl("Fundraiser updated successfully"),n&&r?r():a("/fundraisers")}else{const{error:w}=await fi.createFundraiser(A);if(w)throw new Error(w);Cl("Fundraiser created successfully"),n&&r?r():a("/fundraisers")}}catch(A){pi(A,s?"Failed to update fundraiser":"Failed to create fundraiser")}finally{c(!1)}},b=N=>{const{name:A,value:w}=N.target;h(j=>({...j,[A]:w}))};if(o)return l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("span",{className:"text-blue-600 text-lg",children:"Loading fundraiser details..."})});if(u)return l.jsx("div",{className:"text-red-500 text-center mt-8",children:u});if(!s&&(window.location.pathname.includes("edit")||n))return l.jsx("div",{className:"text-red-500 text-center mt-8",children:"No fundraiser selected. Please select a fundraiser to edit."});const x=l.jsxs("form",{onSubmit:y,className:"max-w-2xl mx-auto space-y-6",children:[l.jsx(cr,{label:"Title",id:"title",name:"title",value:f.title,onChange:b,required:!0}),l.jsx(cr,{label:"Description",id:"description",name:"description",value:f.description,onChange:b,required:!0,as:"textarea",rows:4}),l.jsx(cr,{label:"Goal Amount",id:"goal_amount",name:"goal_amount",type:"number",value:f.goal_amount,onChange:b,required:!0,min:"0",step:"0.01"}),l.jsx(cr,{label:"Category",id:"category_id",name:"category_id",value:f.category_id,onChange:b}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsx(cr,{label:"Start Date",id:"start_date",name:"start_date",type:"date",value:f.start_date,onChange:b,required:!0}),l.jsx(cr,{label:"End Date",id:"end_date",name:"end_date",type:"date",value:f.end_date,onChange:b,required:!0})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsx(Or,{label:"Status",id:"status",name:"status",value:f.status,onChange:b,required:!0,options:p}),l.jsx(Or,{label:"Visibility",id:"visibility",name:"visibility",value:f.visibility,onChange:b,required:!0,options:g})]}),l.jsxs("div",{className:"flex justify-end space-x-4",children:[l.jsx(ft,{type:"button",variant:"outline",onClick:n&&e?e:()=>a("/fundraisers"),children:"Cancel"}),l.jsxs(ft,{type:"submit",isLoading:o,children:[s?"Update":"Create"," Fundraiser"]})]})]});return n?x:l.jsx(v5,{title:s?"Edit Fundraiser":"Create Fundraiser",loading:o,error:u,children:x})}function kSe(){const t=xr(),[e,r]=R.useState(!0),[n,a]=R.useState(null),[i,s]=R.useState([]),[o,c]=R.useState(""),[u,d]=R.useState("all"),[f,h]=R.useState(null),[p,g]=R.useState("fundraisers"),[m,y]=R.useState(null);R.useEffect(()=>{b();const k=sessionStorage.getItem("editFundraiserId");k&&(y(k),sessionStorage.removeItem("editFundraiserId"))},[]);const b=async()=>{try{r(!0);const{data:k,error:L}=await fi.getFundraisers();if(L)throw new Error(L);s((k==null?void 0:k.data)||[]),a(null)}catch(k){const L="Failed to fetch fundraisers";a(L),pi(k,L)}finally{r(!1)}},x=async k=>{if(window.confirm("Are you sure you want to delete this fundraiser?"))try{r(!0);const{error:L}=await fi.deleteFundraiser(k);if(L)throw new Error(L);Cl("Fundraiser deleted successfully"),b()}catch(L){pi(L,"Failed to delete fundraiser")}finally{r(!1)}},N=k=>new Date(k).toLocaleDateString(),A=k=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(k),w=k=>{y(k)},j=()=>{y(null)},E=()=>{y(null),b()},O=i.filter(k=>{const L=k.title.toLowerCase().includes(o.toLowerCase())||k.description.toLowerCase().includes(o.toLowerCase()),C=u==="all"||k.status===u;return L&&C});return l.jsxs(v5,{title:"Fundraiser Manager",loading:e,error:n,children:[l.jsx("div",{className:"border-b border-gray-200 mb-6",children:l.jsxs("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:[l.jsx("button",{className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${p==="fundraisers"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>g("fundraisers"),children:"Active Fundraisers"}),l.jsx("button",{className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${p==="analytics"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>g("analytics"),children:"Analytics"}),l.jsx("button",{className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${p==="donors"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>g("donors"),children:"Donors"}),l.jsx("button",{className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${p==="reports"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>g("reports"),children:"Reports"}),l.jsx("button",{className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${p==="share"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>g("share"),children:"Share"})]})}),p==="fundraisers"&&!m&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Active Fundraisers"}),l.jsx(ft,{variant:"outline",onClick:()=>t("/fundraisers/create"),children:"Create New Fundraiser"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:O.map(k=>l.jsx(kt,{title:k.title,description:k.description,children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-500",children:"Goal:"}),l.jsx("span",{className:"font-medium",children:A(k.goal_amount)})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-500",children:"Status:"}),l.jsx("span",{className:`font-medium ${k.status==="active"?"text-green-600":k.status==="completed"?"text-blue-600":"text-gray-600"}`,children:k.status.charAt(0).toUpperCase()+k.status.slice(1)})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-500",children:"Dates:"}),l.jsxs("span",{className:"font-medium",children:[N(k.start_date)," - ",N(k.end_date)]})]}),l.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[l.jsx(ft,{variant:"outline",onClick:()=>w(k.id),children:"Edit"}),l.jsx(ft,{variant:"danger",onClick:()=>x(k.id),children:"Delete"})]})]})},k.id))}),O.length===0&&!e&&l.jsx("div",{className:"text-center py-12",children:l.jsx("p",{className:"text-gray-500",children:"No fundraisers found"})})]}),p==="fundraisers"&&m&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Edit Fundraiser"}),l.jsx(ft,{variant:"outline",onClick:j,children:"â† Back to Fundraisers"})]}),l.jsx(IM,{fundraiserId:m,onCancel:j,onSave:E,embedded:!0})]}),p==="analytics"&&l.jsx("div",{className:"mt-8",children:l.jsx(LM,{})}),p==="donors"&&l.jsx("div",{className:"mt-8",children:l.jsx(CSe,{})}),p==="reports"&&l.jsx("div",{className:"mt-8",children:l.jsx(TSe,{})}),p==="share"&&l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{htmlFor:"fundraiser-select",className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Fundraiser to Share"}),l.jsxs("select",{id:"fundraiser-select",className:"block w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-base",value:f?f.id:"",onChange:k=>{const L=i.find(C=>C.id===k.target.value);h(L||null)},children:[l.jsx("option",{value:"",children:"-- Select a Fundraiser --"}),i.map(k=>l.jsx("option",{value:k.id,children:k.title},k.id))]})]}),p==="share"&&l.jsx(OSe,{fundraiserId:f?f.id:null})]})}function PSe(){const{id:t}=To(),e=xr();return R.useEffect(()=>{t?(sessionStorage.setItem("editFundraiserId",t),e("/fundraisers",{replace:!0})):e("/fundraisers",{replace:!0})},[t,e]),l.jsx("div",{className:"flex justify-center items-center min-h-screen",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"Redirecting to fundraiser editor..."})]})})}function DSe(){const[t,e]=R.useState([]),[r,n]=R.useState("");R.useEffect(()=>{async function o(){const{data:{session:c}}=await Ge.auth.getSession();if(!(c!=null&&c.access_token)){n("Authentication required.");return}try{const u=await fetch("/api/budgets",{headers:{Authorization:`Bearer ${c.access_token}`}}),d=await u.json();u.ok?e(d):n(d.error||"Failed to load transactions.")}catch(u){console.error("Budget fetch error:",u),n("Error connecting to the server.")}}o()},[]);const a=t.filter(o=>o.type==="income").reduce((o,c)=>o+parseFloat(c.amount||0),0),i=t.filter(o=>o.type==="expense").reduce((o,c)=>o+parseFloat(c.amount||0),0),s=a-i;return l.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h1",{className:"text-2xl font-bold",children:"PTO Budget Overview"}),l.jsx(Yu,{to:"/budget/create",className:"bg-blue-600 text-white px-4 py-2 rounded",children:"+ Add Entry"})]}),l.jsxs("div",{className:"mb-6 p-4 border rounded bg-gray-100",children:[l.jsxs("p",{className:"text-lg font-semibold",children:["Current Balance: $",s.toFixed(2)]}),l.jsxs("p",{className:"text-sm text-green-700",children:["Total Income: $",a.toFixed(2)]}),l.jsxs("p",{className:"text-sm text-red-700",children:["Total Expenses: $",i.toFixed(2)]})]}),r&&l.jsx("p",{className:"text-red-600",children:r}),t.length===0&&!r&&l.jsx("p",{children:"No budget entries found."}),l.jsx("ul",{className:"space-y-4",children:t.map(o=>l.jsxs("li",{className:"border p-4 rounded shadow-sm bg-white",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("h2",{className:"text-lg font-semibold",children:o.label}),l.jsxs("span",{className:o.type==="income"?"text-green-600":"text-red-600",children:[o.type==="income"?"+":"-","$",parseFloat(o.amount).toFixed(2)]})]}),l.jsx("p",{className:"text-sm text-gray-500",children:o.category||"Uncategorized"}),o.related_event_id&&l.jsxs("p",{className:"text-sm text-blue-700 mt-1",children:["Event ID: ",o.related_event_id]})]},o.id))})]})}const MSe=()=>{const t=xr(),[e,r]=R.useState("overview"),[n,a]=R.useState("manual"),[i,s]=R.useState("current"),o={totalBudget:45e3,totalSpent:28500,totalRemaining:16500,projectedIncome:52e3,categories:[{id:1,name:"Events & Programs",budgeted:15e3,spent:8500,remaining:6500,percentage:57,trend:"up",createdBy:"stella",subcategories:[{name:"Fall Festival",budgeted:5e3,spent:3200},{name:"Science Night",budgeted:3e3,spent:1800},{name:"Book Fair",budgeted:4e3,spent:2500},{name:"Art Show",budgeted:3e3,spent:1e3}]},{id:2,name:"Educational Support",budgeted:12e3,spent:7200,remaining:4800,percentage:60,trend:"stable",createdBy:"manual",subcategories:[{name:"Classroom Supplies",budgeted:6e3,spent:4200},{name:"Technology",budgeted:4e3,spent:2e3},{name:"Library Books",budgeted:2e3,spent:1e3}]},{id:3,name:"Communications",budgeted:3e3,spent:1800,remaining:1200,percentage:60,trend:"down",createdBy:"stella",subcategories:[{name:"Website & Digital",budgeted:1500,spent:800},{name:"Print Materials",budgeted:1e3,spent:700},{name:"Social Media",budgeted:500,spent:300}]},{id:4,name:"Administrative",budgeted:5e3,spent:3200,remaining:1800,percentage:64,trend:"up",createdBy:"manual",subcategories:[{name:"Insurance",budgeted:2e3,spent:2e3},{name:"Banking & Fees",budgeted:1e3,spent:600},{name:"Office Supplies",budgeted:2e3,spent:600}]}],recentTransactions:[{id:1,date:"2024-10-15",description:"Fall Festival Decorations",category:"Events & Programs",amount:-450,type:"expense",createdBy:"stella"},{id:2,date:"2024-10-14",description:"Book Fair Revenue",category:"Events & Programs",amount:2800,type:"income",createdBy:"manual"},{id:3,date:"2024-10-12",description:"Classroom Technology",category:"Educational Support",amount:-1200,type:"expense",createdBy:"manual"}]},c=()=>{t("/budget/create")},u=()=>{t("/communications/ai?context=budget&mode=assisted")},d=()=>{t("/ai-workflow-orchestrator?context=budget&mode=automated")},f=w=>{t(`/budget/create?category=${w}&mode=view`)},h=w=>{t(`/budget/create?category=${w}&mode=edit`)},p=w=>{t(`/budget/create?category=${w}&mode=optimize`)},g=()=>{t("/budget/create?mode=reallocation")},m=()=>l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[l.jsx("div",{className:"flex items-center justify-between mb-4",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Da,{className:"w-6 h-6 text-blue-600"}),l.jsx("h3",{className:"font-semibold text-gray-900",children:"Total Budget"})]})}),l.jsxs("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:["$",o.totalBudget.toLocaleString()]}),l.jsx("div",{className:"text-sm text-gray-600",children:"For current fiscal year"})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[l.jsx("div",{className:"flex items-center justify-between mb-4",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(IR,{className:"w-6 h-6 text-red-600"}),l.jsx("h3",{className:"font-semibold text-gray-900",children:"Total Spent"})]})}),l.jsxs("div",{className:"text-3xl font-bold text-red-600 mb-2",children:["$",o.totalSpent.toLocaleString()]}),l.jsxs("div",{className:"text-sm text-gray-600",children:[Math.round(o.totalSpent/o.totalBudget*100),"% of budget used"]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[l.jsx("div",{className:"flex items-center justify-between mb-4",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(YC,{className:"w-6 h-6 text-green-600"}),l.jsx("h3",{className:"font-semibold text-gray-900",children:"Remaining"})]})}),l.jsxs("div",{className:"text-3xl font-bold text-green-600 mb-2",children:["$",o.totalRemaining.toLocaleString()]}),l.jsx("div",{className:"text-sm text-gray-600",children:"Available for spending"})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[l.jsx("div",{className:"flex items-center justify-between mb-4",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Mw,{className:"w-6 h-6 text-purple-600"}),l.jsx("h3",{className:"font-semibold text-gray-900",children:"Projected Income"})]})}),l.jsxs("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:["$",o.projectedIncome.toLocaleString()]}),l.jsx("div",{className:"text-sm text-gray-600",children:"Expected total revenue"})]})]}),y=()=>l.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg p-6 mb-8",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(zr,{className:"w-6 h-6 text-purple-600"}),l.jsx("h3",{className:"text-lg font-semibold text-purple-900",children:"Stella's Budget Insights"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[l.jsxs("div",{className:"bg-white rounded-lg p-4",children:[l.jsx("div",{className:"text-sm text-purple-600 mb-1",children:"Budget Health"}),l.jsx("div",{className:"text-lg font-semibold text-green-700",children:"Excellent"}),l.jsx("div",{className:"text-xs text-purple-700",children:"On track for surplus"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-4",children:[l.jsx("div",{className:"text-sm text-purple-600 mb-1",children:"Biggest Opportunity"}),l.jsx("div",{className:"text-lg font-semibold text-purple-900",children:"Fall Festival"}),l.jsx("div",{className:"text-xs text-purple-700",children:"Could generate $2K more"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-4",children:[l.jsx("div",{className:"text-sm text-purple-600 mb-1",children:"Cost Savings"}),l.jsx("div",{className:"text-lg font-semibold text-purple-900",children:"$1,200 Found"}),l.jsx("div",{className:"text-xs text-purple-700",children:"In administrative costs"})]})]}),l.jsxs("div",{className:"bg-white rounded-lg p-4",children:[l.jsx("div",{className:"text-sm text-purple-900 font-medium mb-2",children:"ðŸ’¡ Stella's Recommendation"}),l.jsx("div",{className:"text-sm text-purple-800",children:'"Your Events & Programs category is performing well! Consider reallocating $1,000 from Administrative to Educational Support to maximize impact on students. I can create a reallocation plan for you."'}),l.jsx("button",{onClick:g,className:"mt-3 px-4 py-2 bg-purple-600 text-white rounded-lg text-sm hover:bg-purple-700 transition-colors",children:"Let Stella Create Reallocation Plan"})]})]}),b=()=>l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Budget Categories"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:"Manual Entry"}),l.jsx("button",{className:"px-4 py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors text-sm",children:"Ask Stella"})]})]}),l.jsx("div",{className:"space-y-6",children:o.categories.map(w=>{const j=w.spent/w.budgeted*100,E=j>100;return l.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("h4",{className:"font-semibold text-gray-900",children:w.name}),w.createdBy==="stella"&&l.jsx(zr,{className:"w-4 h-4 text-purple-500",title:"Optimized by Stella"}),l.jsxs("div",{className:`flex items-center space-x-1 text-sm ${w.trend==="up"?"text-green-600":w.trend==="down"?"text-red-600":"text-gray-600"}`,children:[w.trend==="up"&&l.jsx(sx,{className:"w-4 h-4"}),w.trend==="down"&&l.jsx(FS,{className:"w-4 h-4"}),l.jsx("span",{className:"capitalize",children:w.trend})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["$",w.spent.toLocaleString()," / $",w.budgeted.toLocaleString()]}),l.jsxs("div",{className:"text-sm text-gray-600",children:["$",w.remaining.toLocaleString()," remaining"]})]})]}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[l.jsx("span",{className:"text-gray-600",children:"Progress"}),l.jsxs("span",{className:`font-medium ${E?"text-red-600":"text-gray-900"}`,children:[Math.round(j),"%"]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:l.jsx("div",{className:`h-3 rounded-full transition-all duration-300 ${E?"bg-red-500":"bg-blue-600"}`,style:{width:`${Math.min(j,100)}%`}})})]}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:w.subcategories.map((O,k)=>l.jsxs("div",{className:"bg-gray-50 rounded p-3",children:[l.jsx("div",{className:"text-sm font-medium text-gray-900",children:O.name}),l.jsxs("div",{className:"text-xs text-gray-600",children:["$",O.spent.toLocaleString()," / $",O.budgeted.toLocaleString()]})]},k))}),l.jsxs("div",{className:"flex space-x-2 mt-4",children:[l.jsxs("button",{onClick:()=>f(w.id),className:"flex items-center px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[l.jsx(du,{className:"w-4 h-4 mr-2"}),"View Details"]}),l.jsxs("button",{onClick:()=>h(w.id),className:"flex items-center px-3 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors text-sm",children:[l.jsx(Xn,{className:"w-4 h-4 mr-2"}),"Edit"]}),w.createdBy==="manual"&&l.jsxs("button",{onClick:()=>p(w.id),className:"flex items-center px-3 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors text-sm",children:[l.jsx(zr,{className:"w-4 h-4 mr-2"}),"Ask Stella to Optimize"]})]})]},w.id)})})]}),x=()=>l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx($R,{className:"w-6 h-6 text-indigo-600"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Monthly Reconciliation"})]}),l.jsxs("button",{onClick:()=>t("/budget/reconciliation"),className:"flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:[l.jsx(qC,{className:"w-4 h-4 mr-2"}),"View All Reconciliations"]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"border-2 border-indigo-200 rounded-lg p-6 hover:border-indigo-400 transition-colors bg-indigo-50",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(FR,{className:"w-8 h-8 text-indigo-600"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-indigo-900",children:"Start New Reconciliation"}),l.jsx("p",{className:"text-sm text-indigo-700",children:"Upload bank statement and reconcile transactions"})]})]}),l.jsxs("ul",{className:"text-sm text-indigo-700 space-y-2 mb-4",children:[l.jsx("li",{children:"â€¢ OCR bank statement processing"}),l.jsx("li",{children:"â€¢ Smart transaction matching"}),l.jsx("li",{children:"â€¢ Automated discrepancy detection"}),l.jsx("li",{children:"â€¢ Generate reconciliation reports"})]}),l.jsx("button",{onClick:()=>t("/budget/reconciliation/new"),className:"w-full py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:"Start Reconciliation"})]}),l.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[l.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Recent Reconciliations"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-green-900",children:"October 2024"}),l.jsx("div",{className:"text-sm text-green-700",children:"Completed â€¢ 98% match rate"})]}),l.jsx(In,{className:"w-5 h-5 text-green-600"})]}),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-yellow-50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-yellow-900",children:"November 2024"}),l.jsx("div",{className:"text-sm text-yellow-700",children:"In Progress â€¢ 3 discrepancies"})]}),l.jsx(Rf,{className:"w-5 h-5 text-yellow-600"})]}),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900",children:"December 2024"}),l.jsx("div",{className:"text-sm text-gray-700",children:"Pending â€¢ Not started"})]}),l.jsx(ea,{className:"w-5 h-5 text-gray-600"})]})]}),l.jsx("button",{onClick:()=>t("/budget/reconciliation"),className:"w-full mt-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors text-sm",children:"View Reconciliation History"})]})]}),l.jsxs("div",{className:"mt-6 bg-gradient-to-r from-indigo-50 to-purple-50 rounded-lg p-4",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[l.jsx(zr,{className:"w-5 h-5 text-indigo-600"}),l.jsx("span",{className:"font-medium text-indigo-900",children:"Reconciliation Insights"})]}),l.jsx("div",{className:"text-sm text-indigo-800",children:"Your reconciliation accuracy has improved by 15% this quarter. Consider setting up automated monthly reconciliations to maintain financial accuracy and save time."})]})]}),N=()=>l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-8",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Create New Budget Item"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-6 hover:border-blue-300 transition-colors",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(BR,{className:"w-8 h-8 text-gray-600"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-gray-900",children:"Manual Entry"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Full control over details"})]})]}),l.jsxs("ul",{className:"text-sm text-gray-600 space-y-2 mb-4",children:[l.jsx("li",{children:"â€¢ Custom categories"}),l.jsx("li",{children:"â€¢ Detailed line items"}),l.jsx("li",{children:"â€¢ Manual calculations"})]}),l.jsx("button",{onClick:c,className:"w-full py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Create Manually"})]}),l.jsxs("div",{className:"border-2 border-blue-200 rounded-lg p-6 hover:border-blue-400 transition-colors bg-blue-50",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(zr,{className:"w-8 h-8 text-blue-600"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-blue-900",children:"Stella Assisted"}),l.jsx("p",{className:"text-sm text-blue-700",children:"Smart suggestions & validation"})]})]}),l.jsxs("ul",{className:"text-sm text-blue-700 space-y-2 mb-4",children:[l.jsx("li",{children:"â€¢ Budget recommendations"}),l.jsx("li",{children:"â€¢ Historical comparisons"}),l.jsx("li",{children:"â€¢ Optimization suggestions"})]}),l.jsx("button",{onClick:u,className:"w-full py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Get Stella's Help"})]}),l.jsxs("div",{className:"border-2 border-purple-200 rounded-lg p-6 hover:border-purple-400 transition-colors bg-purple-50",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(zr,{className:"w-8 h-8 text-purple-600"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-purple-900",children:"Stella Auto-Generate"}),l.jsx("p",{className:"text-sm text-purple-700",children:"Complete budget creation"})]})]}),l.jsxs("ul",{className:"text-sm text-purple-700 space-y-2 mb-4",children:[l.jsx("li",{children:"â€¢ AI-powered allocations"}),l.jsx("li",{children:"â€¢ Predictive modeling"}),l.jsx("li",{children:"â€¢ Optimization algorithms"})]}),l.jsx("button",{onClick:d,className:"w-full py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Let Stella Generate"})]})]})]}),A=()=>l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Recent Transactions"}),l.jsxs("button",{className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx(HC,{className:"w-4 h-4 mr-2"}),"Export"]})]}),l.jsx("div",{className:"space-y-4",children:o.recentTransactions.map(w=>l.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${w.type==="income"?"bg-green-100":"bg-red-100"}`,children:w.type==="income"?l.jsx(sx,{className:"w-5 h-5 text-green-600"}):l.jsx(FS,{className:"w-5 h-5 text-red-600"})}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("h4",{className:"font-medium text-gray-900",children:w.description}),w.createdBy==="stella"&&l.jsx(zr,{className:"w-4 h-4 text-purple-500",title:"Processed by Stella"})]}),l.jsxs("div",{className:"text-sm text-gray-600",children:[w.category," â€¢ ",new Date(w.date).toLocaleDateString()]})]})]}),l.jsxs("div",{className:`text-lg font-semibold ${w.type==="income"?"text-green-600":"text-red-600"}`,children:[w.type==="income"?"+":"","$",Math.abs(w.amount).toLocaleString()]})]},w.id))})]});return l.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Budget Dashboard"}),l.jsx("p",{className:"text-gray-600",children:"Manage your PTO finances with Stella's intelligent insights"})]}),l.jsx("div",{className:"flex items-center space-x-3",children:l.jsxs("select",{value:i,onChange:w=>s(w.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[l.jsx("option",{value:"current",children:"Current Year"}),l.jsx("option",{value:"previous",children:"Previous Year"}),l.jsx("option",{value:"quarter",children:"This Quarter"})]})})]}),l.jsx(m,{}),l.jsx(y,{}),l.jsx(x,{}),l.jsx(N,{}),l.jsx(b,{}),l.jsx(A,{})]})})};function RSe(){const[t,e]=R.useState({label:"",amount:"",category:"",type:"expense",related_event_id:""}),[r,n]=R.useState(""),[a,i]=R.useState(""),s=c=>{const{name:u,value:d}=c.target;e(f=>({...f,[u]:d}))},o=async c=>{c.preventDefault(),i(""),n("");const{data:{session:u}}=await Ge.auth.getSession();if(!(u!=null&&u.access_token)){i("Authentication required.");return}try{const d=await fetch("/api/budgets",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u.access_token}`},body:JSON.stringify(t)}),f=await d.json();d.ok?(n("Budget entry added successfully!"),e({label:"",amount:"",category:"",type:"expense",related_event_id:""})):i(f.error||"Submission failed.")}catch(d){console.error("Budget entry error:",d),i("Server error. Please try again.")}};return l.jsxs("div",{className:"max-w-xl mx-auto p-4",children:[l.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Add Budget Entry"}),l.jsxs("form",{onSubmit:o,className:"space-y-4",children:[l.jsx("input",{name:"label",value:t.label,onChange:s,placeholder:"Label",className:"w-full border p-2",required:!0}),l.jsx("input",{type:"number",name:"amount",value:t.amount,onChange:s,placeholder:"Amount",className:"w-full border p-2",required:!0}),l.jsx("input",{name:"category",value:t.category,onChange:s,placeholder:"Category (e.g., supplies, venue)",className:"w-full border p-2"}),l.jsxs("select",{name:"type",value:t.type,onChange:s,className:"w-full border p-2",children:[l.jsx("option",{value:"expense",children:"Expense"}),l.jsx("option",{value:"income",children:"Income"})]}),l.jsx("input",{name:"related_event_id",value:t.related_event_id,onChange:s,placeholder:"Related Event ID (optional)",className:"w-full border p-2"}),l.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded",type:"submit",children:"Save Entry"}),r&&l.jsx("p",{className:"text-green-600",children:r}),a&&l.jsx("p",{className:"text-red-600",children:a})]})]})}const LSe=()=>l.jsxs("div",{children:[l.jsx("h1",{children:"Reconciliation Dashboard"}),l.jsx("p",{children:"This is a placeholder for the Reconciliation Dashboard."})]});function ISe({title:t,titleId:e,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"}))}const $Se=R.forwardRef(ISe);function FSe({title:t,titleId:e,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 21 3 16.5m0 0L7.5 12M3 16.5h13.5m0-13.5L21 7.5m0 0L16.5 12M21 7.5H7.5"}))}const LC=R.forwardRef(FSe);function BSe({title:t,titleId:e,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Tw=R.forwardRef(BSe);function USe({title:t,titleId:e,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const zSe=R.forwardRef(USe);function WSe({title:t,titleId:e,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const HSe=R.forwardRef(WSe);function qSe({title:t,titleId:e,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const GSe=R.forwardRef(qSe);function VSe({title:t,titleId:e,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const YSe=R.forwardRef(VSe);function KSe({title:t,titleId:e,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const XSe=R.forwardRef(KSe);function ZSe({title:t,titleId:e,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"}))}const QSe=R.forwardRef(ZSe);function JSe({title:t,titleId:e,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const $M=R.forwardRef(JSe),Vm={startReconciliation:async t=>{var e,r,n,a,i,s,o,c,u,d;console.log("ðŸ” [FRONTEND DEBUG] startReconciliation called with data:",t);try{console.log("ðŸ” [FRONTEND DEBUG] Making API call to /budget/reconciliation/start");const f=await Wr.post("/budget/reconciliation/start",t);console.log("ðŸ” [FRONTEND DEBUG] API response received:",{status:f.status,statusText:f.statusText,data:f.data});const h={success:f.data.success,data:f.data.data,error:((r=(e=f.data.errors)==null?void 0:e[0])==null?void 0:r.message)||null};return console.log("ðŸ” [FRONTEND DEBUG] Processed result:",h),h}catch(f){console.error("âŒ [FRONTEND DEBUG] Error starting reconciliation:",f),console.error("âŒ [FRONTEND DEBUG] Error response:",f.response),console.error("âŒ [FRONTEND DEBUG] Error response data:",(n=f.response)==null?void 0:n.data),console.error("âŒ [FRONTEND DEBUG] Error response status:",(a=f.response)==null?void 0:a.status);const h=((c=(o=(s=(i=f.response)==null?void 0:i.data)==null?void 0:s.errors)==null?void 0:o[0])==null?void 0:c.message)||((d=(u=f.response)==null?void 0:u.data)==null?void 0:d.error)||f.message;return console.error("âŒ [FRONTEND DEBUG] Final error message:",h),{success:!1,error:h}}},getReconciliations:async()=>{var t,e,r,n,a,i;try{const s=await Wr.get("/api/budget/reconciliation");return{success:s.data.success,data:s.data.data,error:((e=(t=s.data.errors)==null?void 0:t[0])==null?void 0:e.message)||null}}catch(s){return console.error("Error fetching reconciliations:",s),{success:!1,error:((i=(a=(n=(r=s.response)==null?void 0:r.data)==null?void 0:n.errors)==null?void 0:a[0])==null?void 0:i.message)||s.message}}},uploadStatement:async(t,e)=>{var r,n,a,i,s,o;try{const c=await Wr.post(`/budget/reconciliation/${t}/upload`,e);return{success:c.data.success,data:c.data.data,error:((n=(r=c.data.errors)==null?void 0:r[0])==null?void 0:n.message)||null}}catch(c){return console.error("Error uploading statement:",c),{success:!1,error:((o=(s=(i=(a=c.response)==null?void 0:a.data)==null?void 0:i.errors)==null?void 0:s[0])==null?void 0:o.message)||c.message}}},getTransactions:async t=>{var e,r,n,a,i,s;try{const o=await Wr.get(`/budget/reconciliation/${t}/transactions`);return{success:o.data.success,data:o.data.data,error:((r=(e=o.data.errors)==null?void 0:e[0])==null?void 0:r.message)||null}}catch(o){return console.error("Error fetching transactions:",o),{success:!1,error:((s=(i=(a=(n=o.response)==null?void 0:n.data)==null?void 0:a.errors)==null?void 0:i[0])==null?void 0:s.message)||o.message}}},matchTransaction:async(t,e)=>{var r,n,a,i,s,o;try{const c=await Wr.post(`/budget/reconciliation/${t}/match`,{bank_transaction_id:e.bankTransactionId,expense_id:e.expenseId});return{success:c.data.success,data:c.data.data,error:((n=(r=c.data.errors)==null?void 0:r[0])==null?void 0:n.message)||null}}catch(c){return console.error("Error matching transaction:",c),{success:!1,error:((o=(s=(i=(a=c.response)==null?void 0:a.data)==null?void 0:i.errors)==null?void 0:s[0])==null?void 0:o.message)||c.message}}},completeReconciliation:async t=>{var e,r,n,a,i,s;try{const o=await Wr.post(`/budget/reconciliation/${t}/complete`);return{success:o.data.success,data:o.data.data,error:((r=(e=o.data.errors)==null?void 0:e[0])==null?void 0:r.message)||null}}catch(o){return console.error("Error completing reconciliation:",o),{success:!1,error:((s=(i=(a=(n=o.response)==null?void 0:n.data)==null?void 0:a.errors)==null?void 0:i[0])==null?void 0:s.message)||o.message}}},generateReport:async t=>{var e,r,n,a,i,s;try{const o=await Wr.get(`/budget/reconciliation/${t}/report`);return{success:o.data.success,data:o.data.data,error:((r=(e=o.data.errors)==null?void 0:e[0])==null?void 0:r.message)||null}}catch(o){return console.error("Error generating report:",o),{success:!1,error:((s=(i=(a=(n=o.response)==null?void 0:n.data)==null?void 0:a.errors)==null?void 0:i[0])==null?void 0:s.message)||o.message}}}};var eNe={exports:{}};(function(t){var e=function(r){var n=Object.prototype,a=n.hasOwnProperty,i=Object.defineProperty||function(Y,Q,se){Y[Q]=se.value},s,o=typeof Symbol=="function"?Symbol:{},c=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",d=o.toStringTag||"@@toStringTag";function f(Y,Q,se){return Object.defineProperty(Y,Q,{value:se,enumerable:!0,configurable:!0,writable:!0}),Y[Q]}try{f({},"")}catch{f=function(Q,se,$){return Q[se]=$}}function h(Y,Q,se,$){var W=Q&&Q.prototype instanceof N?Q:N,ee=Object.create(W.prototype),ae=new V($||[]);return i(ee,"_invoke",{value:P(Y,se,ae)}),ee}r.wrap=h;function p(Y,Q,se){try{return{type:"normal",arg:Y.call(Q,se)}}catch($){return{type:"throw",arg:$}}}var g="suspendedStart",m="suspendedYield",y="executing",b="completed",x={};function N(){}function A(){}function w(){}var j={};f(j,c,function(){return this});var E=Object.getPrototypeOf,O=E&&E(E(F([])));O&&O!==n&&a.call(O,c)&&(j=O);var k=w.prototype=N.prototype=Object.create(j);A.prototype=w,i(k,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:A,configurable:!0}),A.displayName=f(w,d,"GeneratorFunction");function L(Y){["next","throw","return"].forEach(function(Q){f(Y,Q,function(se){return this._invoke(Q,se)})})}r.isGeneratorFunction=function(Y){var Q=typeof Y=="function"&&Y.constructor;return Q?Q===A||(Q.displayName||Q.name)==="GeneratorFunction":!1},r.mark=function(Y){return Object.setPrototypeOf?Object.setPrototypeOf(Y,w):(Y.__proto__=w,f(Y,d,"GeneratorFunction")),Y.prototype=Object.create(k),Y},r.awrap=function(Y){return{__await:Y}};function C(Y,Q){function se(ee,ae,oe,me){var fe=p(Y[ee],Y,ae);if(fe.type==="throw")me(fe.arg);else{var J=fe.arg,ve=J.value;return ve&&typeof ve=="object"&&a.call(ve,"__await")?Q.resolve(ve.__await).then(function(xe){se("next",xe,oe,me)},function(xe){se("throw",xe,oe,me)}):Q.resolve(ve).then(function(xe){J.value=xe,oe(J)},function(xe){return se("throw",xe,oe,me)})}}var $;function W(ee,ae){function oe(){return new Q(function(me,fe){se(ee,ae,me,fe)})}return $=$?$.then(oe,oe):oe()}i(this,"_invoke",{value:W})}L(C.prototype),f(C.prototype,u,function(){return this}),r.AsyncIterator=C,r.async=function(Y,Q,se,$,W){W===void 0&&(W=Promise);var ee=new C(h(Y,Q,se,$),W);return r.isGeneratorFunction(Q)?ee:ee.next().then(function(ae){return ae.done?ae.value:ee.next()})};function P(Y,Q,se){var $=g;return function(ee,ae){if($===y)throw new Error("Generator is already running");if($===b){if(ee==="throw")throw ae;return X()}for(se.method=ee,se.arg=ae;;){var oe=se.delegate;if(oe){var me=I(oe,se);if(me){if(me===x)continue;return me}}if(se.method==="next")se.sent=se._sent=se.arg;else if(se.method==="throw"){if($===g)throw $=b,se.arg;se.dispatchException(se.arg)}else se.method==="return"&&se.abrupt("return",se.arg);$=y;var fe=p(Y,Q,se);if(fe.type==="normal"){if($=se.done?b:m,fe.arg===x)continue;return{value:fe.arg,done:se.done}}else fe.type==="throw"&&($=b,se.method="throw",se.arg=fe.arg)}}}function I(Y,Q){var se=Q.method,$=Y.iterator[se];if($===s)return Q.delegate=null,se==="throw"&&Y.iterator.return&&(Q.method="return",Q.arg=s,I(Y,Q),Q.method==="throw")||se!=="return"&&(Q.method="throw",Q.arg=new TypeError("The iterator does not provide a '"+se+"' method")),x;var W=p($,Y.iterator,Q.arg);if(W.type==="throw")return Q.method="throw",Q.arg=W.arg,Q.delegate=null,x;var ee=W.arg;if(!ee)return Q.method="throw",Q.arg=new TypeError("iterator result is not an object"),Q.delegate=null,x;if(ee.done)Q[Y.resultName]=ee.value,Q.next=Y.nextLoc,Q.method!=="return"&&(Q.method="next",Q.arg=s);else return ee;return Q.delegate=null,x}L(k),f(k,d,"Generator"),f(k,c,function(){return this}),f(k,"toString",function(){return"[object Generator]"});function M(Y){var Q={tryLoc:Y[0]};1 in Y&&(Q.catchLoc=Y[1]),2 in Y&&(Q.finallyLoc=Y[2],Q.afterLoc=Y[3]),this.tryEntries.push(Q)}function H(Y){var Q=Y.completion||{};Q.type="normal",delete Q.arg,Y.completion=Q}function V(Y){this.tryEntries=[{tryLoc:"root"}],Y.forEach(M,this),this.reset(!0)}r.keys=function(Y){var Q=Object(Y),se=[];for(var $ in Q)se.push($);return se.reverse(),function W(){for(;se.length;){var ee=se.pop();if(ee in Q)return W.value=ee,W.done=!1,W}return W.done=!0,W}};function F(Y){if(Y){var Q=Y[c];if(Q)return Q.call(Y);if(typeof Y.next=="function")return Y;if(!isNaN(Y.length)){var se=-1,$=function W(){for(;++se<Y.length;)if(a.call(Y,se))return W.value=Y[se],W.done=!1,W;return W.value=s,W.done=!0,W};return $.next=$}}return{next:X}}r.values=F;function X(){return{value:s,done:!0}}return V.prototype={constructor:V,reset:function(Y){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(H),!Y)for(var Q in this)Q.charAt(0)==="t"&&a.call(this,Q)&&!isNaN(+Q.slice(1))&&(this[Q]=s)},stop:function(){this.done=!0;var Y=this.tryEntries[0],Q=Y.completion;if(Q.type==="throw")throw Q.arg;return this.rval},dispatchException:function(Y){if(this.done)throw Y;var Q=this;function se(me,fe){return ee.type="throw",ee.arg=Y,Q.next=me,fe&&(Q.method="next",Q.arg=s),!!fe}for(var $=this.tryEntries.length-1;$>=0;--$){var W=this.tryEntries[$],ee=W.completion;if(W.tryLoc==="root")return se("end");if(W.tryLoc<=this.prev){var ae=a.call(W,"catchLoc"),oe=a.call(W,"finallyLoc");if(ae&&oe){if(this.prev<W.catchLoc)return se(W.catchLoc,!0);if(this.prev<W.finallyLoc)return se(W.finallyLoc)}else if(ae){if(this.prev<W.catchLoc)return se(W.catchLoc,!0)}else if(oe){if(this.prev<W.finallyLoc)return se(W.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(Y,Q){for(var se=this.tryEntries.length-1;se>=0;--se){var $=this.tryEntries[se];if($.tryLoc<=this.prev&&a.call($,"finallyLoc")&&this.prev<$.finallyLoc){var W=$;break}}W&&(Y==="break"||Y==="continue")&&W.tryLoc<=Q&&Q<=W.finallyLoc&&(W=null);var ee=W?W.completion:{};return ee.type=Y,ee.arg=Q,W?(this.method="next",this.next=W.finallyLoc,x):this.complete(ee)},complete:function(Y,Q){if(Y.type==="throw")throw Y.arg;return Y.type==="break"||Y.type==="continue"?this.next=Y.arg:Y.type==="return"?(this.rval=this.arg=Y.arg,this.method="return",this.next="end"):Y.type==="normal"&&Q&&(this.next=Q),x},finish:function(Y){for(var Q=this.tryEntries.length-1;Q>=0;--Q){var se=this.tryEntries[Q];if(se.finallyLoc===Y)return this.complete(se.completion,se.afterLoc),H(se),x}},catch:function(Y){for(var Q=this.tryEntries.length-1;Q>=0;--Q){var se=this.tryEntries[Q];if(se.tryLoc===Y){var $=se.completion;if($.type==="throw"){var W=$.arg;H(se)}return W}}throw new Error("illegal catch attempt")},delegateYield:function(Y,Q,se){return this.delegate={iterator:F(Y),resultName:Q,nextLoc:se},this.method==="next"&&(this.arg=s),x}},r}(t.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})(eNe);var cS=(t,e)=>`${t}-${e}-${Math.random().toString(16).slice(3,8)}`;const tNe=cS;let IC=0;var FM=({id:t,action:e,payload:r={}})=>{let n=t;return typeof n>"u"&&(n=tNe("Job",IC),IC+=1),{id:n,action:e,payload:r}},bd={};let uS=!1;bd.logging=uS;bd.setLogging=t=>{uS=t};bd.log=(...t)=>uS?console.log.apply(void 0,t):null;const rNe=FM,{log:Tm}=bd,nNe=cS;let $C=0;var aNe=()=>{const t=nNe("Scheduler",$C),e={},r={};let n=[];$C+=1;const a=()=>n.length,i=()=>Object.keys(e).length,s=()=>{if(n.length!==0){const f=Object.keys(e);for(let h=0;h<f.length;h+=1)if(typeof r[f[h]]>"u"){n[0](e[f[h]]);break}}},o=(f,h)=>new Promise((p,g)=>{const m=rNe({action:f,payload:h});n.push(async y=>{n.shift(),r[y.id]=m;try{p(await y[f].apply(void 0,[...h,m.id]))}catch(b){g(b)}finally{delete r[y.id],s()}}),Tm(`[${t}]: Add ${m.id} to JobQueue`),Tm(`[${t}]: JobQueue length=${n.length}`),s()});return{addWorker:f=>(e[f.id]=f,Tm(`[${t}]: Add ${f.id}`),Tm(`[${t}]: Number of workers=${i()}`),s(),f.id),addJob:async(f,...h)=>{if(i()===0)throw Error(`[${t}]: You need to have at least one worker before adding jobs`);return o(f,h)},terminate:async()=>{Object.keys(e).forEach(async f=>{await e[f].terminate()}),n=[]},getQueueLen:a,getNumWorkers:i}};function iNe(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var sNe=t=>{const e={};return typeof WorkerGlobalScope<"u"?e.type="webworker":typeof document=="object"?e.type="browser":typeof process=="object"&&typeof iNe=="function"&&(e.type="node"),typeof t>"u"?e:e[t]};const oNe=sNe("type")==="browser",lNe=oNe?t=>new URL(t,window.location.href).href:t=>t;var cNe=t=>{const e={...t};return["corePath","workerPath","langPath"].forEach(r=>{t[r]&&(e[r]=lNe(e[r]))}),e},BM={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3};const uNe="6.0.1",dNe={version:uNe};var fNe={workerBlobURL:!0,logger:()=>{}};const hNe=dNe.version,pNe=fNe;var mNe={...pNe,workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${hNe}/dist/worker.min.js`},gNe=({workerPath:t,workerBlobURL:e})=>{let r;if(Blob&&URL&&e){const n=new Blob([`importScripts("${t}");`],{type:"application/javascript"});r=new Worker(URL.createObjectURL(n))}else r=new Worker(t);return r},vNe=t=>{t.terminate()},yNe=(t,e)=>{t.onmessage=({data:r})=>{e(r)}},bNe=async(t,e)=>{t.postMessage(e)};const nx=t=>new Promise((e,r)=>{const n=new FileReader;n.onload=()=>{e(n.result)},n.onerror=({target:{error:{code:a}}})=>{r(Error(`File could not be read! Code=${a}`))},n.readAsArrayBuffer(t)}),kw=async t=>{let e=t;if(typeof t>"u")return"undefined";if(typeof t=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(t)?e=atob(t.split(",")[1]).split("").map(r=>r.charCodeAt(0)):e=await(await fetch(t)).arrayBuffer();else if(typeof HTMLElement<"u"&&t instanceof HTMLElement)t.tagName==="IMG"&&(e=await kw(t.src)),t.tagName==="VIDEO"&&(e=await kw(t.poster)),t.tagName==="CANVAS"&&await new Promise(r=>{t.toBlob(async n=>{e=await nx(n),r()})});else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas){const r=await t.convertToBlob();e=await nx(r)}else(t instanceof File||t instanceof Blob)&&(e=await nx(t));return new Uint8Array(e)};var xNe=kw;const wNe=mNe,SNe=gNe,NNe=vNe,jNe=yNe,ANe=bNe,_Ne=xNe;var ENe={defaultOptions:wNe,spawnWorker:SNe,terminateWorker:NNe,onMessage:jNe,send:ANe,loadImage:_Ne};const ONe=cNe,Ii=FM,{log:FC}=bd,CNe=cS,al=BM,{defaultOptions:TNe,spawnWorker:kNe,terminateWorker:PNe,onMessage:DNe,loadImage:BC,send:MNe}=ENe;let UC=0;var UM=async(t="eng",e=al.LSTM_ONLY,r={},n={})=>{const a=CNe("Worker",UC),{logger:i,errorHandler:s,...o}=ONe({...TNe,...r}),c={},u=typeof t=="string"?t.split("+"):t;let d=e,f=n;const h=[al.DEFAULT,al.LSTM_ONLY].includes(e)&&!o.legacyCore;let p,g;const m=new Promise((F,X)=>{g=F,p=X}),y=F=>{p(F.message)};let b=kNe(o);b.onerror=y,UC+=1;const x=({id:F,action:X,payload:Y})=>new Promise((Q,se)=>{FC(`[${a}]: Start ${F}, action=${X}`);const $=`${X}-${F}`;c[$]={resolve:Q,reject:se},MNe(b,{workerId:a,jobId:F,action:X,payload:Y})}),N=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),A=F=>x(Ii({id:F,action:"load",payload:{options:{lstmOnly:h,corePath:o.corePath,logging:o.logging}}})),w=(F,X,Y)=>x(Ii({id:Y,action:"FS",payload:{method:"writeFile",args:[F,X]}})),j=(F,X)=>x(Ii({id:X,action:"FS",payload:{method:"readFile",args:[F,{encoding:"utf8"}]}})),E=(F,X)=>x(Ii({id:X,action:"FS",payload:{method:"unlink",args:[F]}})),O=(F,X,Y)=>x(Ii({id:Y,action:"FS",payload:{method:F,args:X}})),k=(F,X)=>x(Ii({id:X,action:"loadLanguage",payload:{langs:F,options:{langPath:o.langPath,dataPath:o.dataPath,cachePath:o.cachePath,cacheMethod:o.cacheMethod,gzip:o.gzip,lstmOnly:[al.DEFAULT,al.LSTM_ONLY].includes(d)&&!o.legacyLang}}})),L=(F,X,Y,Q)=>x(Ii({id:Q,action:"initialize",payload:{langs:F,oem:X,config:Y}})),C=(F="eng",X,Y,Q)=>{if(h&&[al.TESSERACT_ONLY,al.TESSERACT_LSTM_COMBINED].includes(X))throw Error("Legacy model requested but code missing.");const se=X||d;d=se;const $=Y||f;f=$;const ee=(typeof F=="string"?F.split("+"):F).filter(ae=>!u.includes(ae));return u.push(...ee),ee.length>0?k(ee,Q).then(()=>L(F,se,$,Q)):L(F,se,$,Q)},P=(F={},X)=>x(Ii({id:X,action:"setParameters",payload:{params:F}})),I=async(F,X={},Y={text:!0},Q)=>x(Ii({id:Q,action:"recognize",payload:{image:await BC(F),options:X,output:Y}})),M=async(F,X)=>{if(h)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return x(Ii({id:X,action:"detect",payload:{image:await BC(F)}}))},H=async()=>(b!==null&&(PNe(b),b=null),Promise.resolve());DNe(b,({workerId:F,jobId:X,status:Y,action:Q,data:se})=>{const $=`${Q}-${X}`;if(Y==="resolve")FC(`[${F}]: Complete ${X}`),c[$].resolve({jobId:X,data:se}),delete c[$];else if(Y==="reject")if(c[$].reject(se),delete c[$],Q==="load"&&p(se),s)s(se);else throw Error(se);else Y==="progress"&&i({...se,userJobId:X})});const V={id:a,worker:b,load:N,writeText:w,readText:j,removeFile:E,FS:O,reinitialize:C,setParameters:P,recognize:I,detect:M,terminate:H};return A().then(()=>k(t)).then(()=>L(t,e,n)).then(()=>g(V)).catch(()=>{}),m};const zM=UM,RNe=async(t,e,r)=>{const n=await zM(e,1,r);return n.recognize(t).finally(async()=>{await n.terminate()})},LNe=async(t,e)=>{const r=await zM("osd",0,e);return r.detect(t).finally(async()=>{await r.terminate()})};var INe={recognize:RNe,detect:LNe},$Ne={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"},FNe={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"};const BNe=aNe,UNe=UM,zNe=INe,WNe=$Ne,HNe=BM,qNe=FNe,{setLogging:GNe}=bd;var VNe={languages:WNe,OEM:HNe,PSM:qNe,createScheduler:BNe,createWorker:UNe,setLogging:GNe,...zNe};const YNe=Ct(VNe);class KNe{constructor(){this.worker=null,this.isInitialized=!1}async initialize(){if(!this.isInitialized)try{this.worker=await YNe.createWorker("eng"),this.isInitialized=!0,console.log("OCR Worker initialized successfully")}catch(e){throw console.error("Failed to initialize OCR worker:",e),new Error("OCR initialization failed")}}async processImage(e,r=null){this.isInitialized||await this.initialize();try{const n=await this.worker.recognize(e,{logger:r?a=>{a.status==="recognizing text"&&r(Math.round(a.progress*100))}:void 0});return{success:!0,text:n.data.text,confidence:n.data.confidence,words:n.data.words,lines:n.data.lines}}catch(n){return console.error("OCR processing failed:",n),{success:!1,error:n.message}}}async processBankStatement(e,r=null){const n=await this.processImage(e,r);if(!n.success)return n;const a=this.parseTransactions(n.text);return{success:!0,rawText:n.text,confidence:n.confidence,transactions:a,metadata:{totalTransactions:a.length,processingDate:new Date().toISOString()}}}parseTransactions(e){const r=[],n=e.split(`
`).filter(i=>i.trim().length>0),a={date:/(\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4})/,amount:/[\$\-]?(\d{1,3}(?:,\d{3})*\.?\d{0,2})/,debitCredit:/(DEBIT|CREDIT|DR|CR|WITHDRAWAL|DEPOSIT)/i};for(let i=0;i<n.length;i++){const s=n[i].trim();if(this.isHeaderLine(s)||s.length<10)continue;const o=s.match(a.date),c=s.match(new RegExp(a.amount.source,"g"));if(o&&c){const u=c.map(d=>{const f=d.replace(/[\$,]/g,"");return parseFloat(f)}).filter(d=>!isNaN(d)&&d>0);if(u.length>0){const d=Math.max(...u);let f=s.replace(a.date,"").replace(new RegExp(a.amount.source,"g"),"").replace(a.debitCredit,"").trim().replace(/\s+/g," ");f=this.cleanDescription(f),f.length>3&&r.push({id:`ocr_${Date.now()}_${i}`,date:this.parseDate(o[1]),description:f,amount:d,type:this.determineTransactionType(s),rawLine:s,confidence:this.calculateLineConfidence(s)})}}}return r.sort((i,s)=>new Date(s.date)-new Date(i.date))}isHeaderLine(e){const r=["STATEMENT","ACCOUNT","BALANCE","DATE","DESCRIPTION","AMOUNT","TRANSACTION","BEGINNING","ENDING","TOTAL","PAGE","BANK","CREDIT UNION"],n=e.toUpperCase();return r.some(a=>n.includes(a))&&!e.match(/\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}/)}cleanDescription(e){return e.replace(/\b(POS|ATM|ACH|CHK|DEP|WD|TFR|FEE)\b/gi,"").replace(/\b\d{4,}\b/g,"").replace(/[#*]+/g,"").replace(/\s+/g," ").trim()}parseDate(e){const r=[/(\d{1,2})\/(\d{1,2})\/(\d{2,4})/,/(\d{1,2})-(\d{1,2})-(\d{2,4})/];for(const n of r){const a=e.match(n);if(a){let[,i,s,o]=a;return o.length===2&&(o=parseInt(o)>50?`19${o}`:`20${o}`),`${o}-${i.padStart(2,"0")}-${s.padStart(2,"0")}`}}return e}determineTransactionType(e){const r=e.toUpperCase();return r.includes("DEBIT")||r.includes("WITHDRAWAL")||r.includes("DR")||r.includes("WD")?"debit":r.includes("CREDIT")||r.includes("DEPOSIT")||r.includes("CR")||r.includes("DEP")?"credit":"debit"}calculateLineConfidence(e){let r=.5;return e.match(/\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}/)&&(r+=.2),e.match(/\$?\d+\.\d{2}/)&&(r+=.2),e.length>20&&e.length<100&&(r+=.1),Math.min(r,1)}async terminate(){this.worker&&(await this.worker.terminate(),this.worker=null,this.isInitialized=!1)}validateTransactions(e){return e.filter(r=>r.date&&r.description&&r.description.length>2&&r.amount&&r.amount>0&&!isNaN(r.amount))}suggestCorrections(e){return e.map(r=>{const n=[];return r.description.includes("0")&&r.description.includes("O")&&n.push("Check if O should be 0 or vice versa"),r.description.includes("1")&&r.description.includes("l")&&n.push("Check if l should be 1 or vice versa"),r.amount>1e4&&n.push("Verify large amount - possible OCR error"),{...r,suggestions:n}})}}const ax=new KNe,XNe=({onUpload:t})=>{const[e,r]=R.useState(null),[n,a]=R.useState(!1),[i,s]=R.useState(0),[o,c]=R.useState(null),[u,d]=R.useState(!1),[f,h]=R.useState(!1),p=w=>{w.preventDefault(),w.stopPropagation(),w.type==="dragenter"||w.type==="dragover"?h(!0):w.type==="dragleave"&&h(!1)},g=w=>{w.preventDefault(),w.stopPropagation(),h(!1),w.dataTransfer.files&&w.dataTransfer.files[0]&&y(w.dataTransfer.files[0])},m=w=>{w.target.files&&w.target.files[0]&&y(w.target.files[0])},y=w=>{if(!["image/jpeg","image/png","image/jpg","application/pdf"].includes(w.type)){alert("Please upload a valid image (JPG, PNG) or PDF file.");return}if(w.size>10*1024*1024){alert("File size must be less than 10MB.");return}r(w),c(null),s(0)},b=async()=>{if(e){a(!0),s(0);try{if(e.type==="application/pdf"){alert("PDF processing will be implemented in the next update. Please use an image file for now."),a(!1);return}const w=await ax.processBankStatement(e,j=>{s(j)});if(w.success){const j=ax.validateTransactions(w.transactions),E=ax.suggestCorrections(j);c({...w,transactions:E})}else alert(`OCR processing failed: ${w.error}`)}catch(w){console.error("OCR processing error:",w),alert("Failed to process the bank statement. Please try again.")}finally{a(!1),s(0)}}},x=()=>{o&&o.transactions.length>0&&t({file:e,ocrResult:o,transactions:o.transactions})},N=(w,j,E)=>{const O=[...o.transactions];O[w]={...O[w],[j]:j==="amount"?parseFloat(E)||0:E},c({...o,transactions:O})},A=w=>{const j=o.transactions.filter((E,O)=>O!==w);c({...o,transactions:j})};return l.jsxs("div",{className:"space-y-6",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Upload Bank Statement"}),l.jsxs("div",{className:`relative border-2 border-dashed rounded-lg p-8 text-center transition-colors ${f?"border-blue-400 bg-blue-50":"border-gray-300"} ${n?"opacity-50 pointer-events-none":""}`,onDragEnter:p,onDragLeave:p,onDragOver:p,onDrop:g,children:[l.jsx($Se,{className:"mx-auto h-12 w-12 text-gray-400"}),l.jsx("h4",{className:"mt-2 text-sm font-medium text-gray-900",children:n?"Processing...":"Upload your bank statement"}),l.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Drag and drop or click to select. Supports JPG, PNG, and PDF files up to 10MB."}),l.jsxs("div",{className:"mt-6",children:[l.jsx("input",{type:"file",id:"file-upload",className:"sr-only",onChange:m,accept:".pdf,.png,.jpg,.jpeg",disabled:n}),l.jsx("label",{htmlFor:"file-upload",className:"cursor-pointer inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Select a file"})]}),e&&l.jsx("div",{className:"mt-4 p-3 bg-gray-50 rounded-md",children:l.jsxs("p",{className:"text-sm text-gray-600",children:[l.jsx("strong",{children:"Selected:"})," ",e.name," (",(e.size/1024/1024).toFixed(2)," MB)"]})}),n&&l.jsxs("div",{className:"mt-4",children:[l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${i}%`}})}),l.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Processing: ",i,"%"]})]})]}),e&&!o&&!n&&l.jsx("div",{className:"text-center",children:l.jsxs("button",{onClick:b,className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700",children:[l.jsx(XSe,{className:"h-5 w-5 mr-2"}),"Extract Transactions with OCR"]})}),o&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-md p-4",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Tw,{className:"h-5 w-5 text-green-400 mr-2"}),l.jsx("h4",{className:"text-sm font-medium text-green-800",children:"OCR Processing Complete"})]}),l.jsxs("p",{className:"mt-1 text-sm text-green-700",children:["Extracted ",o.transactions.length," transactions with ",Math.round(o.confidence),"% confidence."]})]}),l.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg",children:[l.jsxs("div",{className:"px-4 py-3 border-b border-gray-200",children:[l.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"Review Extracted Transactions"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Please review and edit the transactions below before proceeding."})]}),l.jsx("div",{className:"divide-y divide-gray-200 max-h-96 overflow-y-auto",children:o.transactions.map((w,j)=>l.jsxs("div",{className:"p-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Date"}),l.jsx("input",{type:"date",value:w.date,onChange:E=>N(j,"date",E.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Description"}),l.jsx("input",{type:"text",value:w.description,onChange:E=>N(j,"description",E.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})]}),l.jsxs("div",{className:"flex items-end space-x-2",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Amount"}),l.jsx("input",{type:"number",step:"0.01",value:w.amount,onChange:E=>N(j,"amount",E.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})]}),l.jsx("button",{onClick:()=>A(j),className:"px-2 py-1 text-red-600 hover:text-red-800 text-sm",title:"Remove transaction",children:"âœ•"})]})]}),w.suggestions&&w.suggestions.length>0&&l.jsx("div",{className:"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded",children:l.jsxs("div",{className:"flex items-start",children:[l.jsx(YSe,{className:"h-4 w-4 text-yellow-400 mr-1 mt-0.5"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-medium text-yellow-800",children:"Suggestions:"}),l.jsx("ul",{className:"text-xs text-yellow-700 list-disc list-inside",children:w.suggestions.map((E,O)=>l.jsx("li",{children:E},O))})]})]})}),l.jsxs("div",{className:"mt-2 flex items-center text-xs text-gray-500",children:[l.jsxs("span",{children:["Confidence: ",Math.round(w.confidence*100),"%"]}),l.jsx("div",{className:"ml-2 flex-1 bg-gray-200 rounded-full h-1",children:l.jsx("div",{className:"bg-blue-600 h-1 rounded-full",style:{width:`${w.confidence*100}%`}})})]})]},w.id))}),l.jsx("div",{className:"px-4 py-3 border-t border-gray-200 text-center",children:l.jsxs("button",{onClick:x,disabled:o.transactions.length===0,className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 disabled:opacity-50",children:[l.jsx(Tw,{className:"h-5 w-5 mr-2"}),"Confirm ",o.transactions.length," Transactions"]})})]})]})]})};class ZNe{constructor(){this.config={autoMatchThreshold:.85,suggestMatchThreshold:.6,weights:{amount:.4,description:.3,date:.2,vendor:.1},amountTolerance:.01,dateWindow:7,fuzzyThreshold:.6}}findMatches(e,r){const n=[];for(const a of e){const i=this.findSuggestionsForTransaction(a,r);n.push({bankTransaction:a,suggestions:i,bestMatch:i.length>0?i[0]:null,autoMatch:i.length>0&&i[0].confidence>=this.config.autoMatchThreshold,isMatched:!1})}return n}findSuggestionsForTransaction(e,r){const n=[];for(const a of r){const i=this.calculateMatchScore(e,a);i.totalScore>=this.config.suggestMatchThreshold&&n.push({expense:a,confidence:i.totalScore,matchReasons:i.reasons,scoreBreakdown:i.breakdown})}return n.sort((a,i)=>i.confidence-a.confidence)}calculateMatchScore(e,r){const n={amount:this.calculateAmountScore(e.amount,r.amount),description:this.calculateDescriptionScore(e.description,r.description||r.vendor),date:this.calculateDateScore(e.date,r.expense_date||r.date),vendor:this.calculateVendorScore(e.description,r.vendor)},a=Object.keys(n).reduce((s,o)=>s+n[o]*this.config.weights[o],0),i=this.generateMatchReasons(n,e,r);return{totalScore:Math.min(a,1),breakdown:n,reasons:i}}calculateAmountScore(e,r){const n=Math.abs(e-r);if(n<=this.config.amountTolerance)return 1;const a=n/Math.max(e,r);return a<=.01?.95:a<=.05?.85:a<=.1?.7:a<=.2?.5:0}calculateDescriptionScore(e,r){if(!e||!r)return 0;const n=this.normalizeDescription(e),a=this.normalizeDescription(r),i=this.calculateStringSimilarity(n,a),s=this.calculateWordMatchBoost(n,a);return Math.min(i+s,1)}calculateDateScore(e,r){if(!e||!r)return 0;const n=new Date(e),a=new Date(r),i=Math.abs((n-a)/(1e3*60*60*24));return i===0?1:i<=1?.9:i<=3?.8:i<=7?.6:i<=14?.4:i<=30?.2:0}calculateVendorScore(e,r){if(!r)return 0;const n=this.normalizeDescription(e),a=this.normalizeDescription(r);if(n.includes(a))return 1;const i=a.split(" ").filter(o=>o.length>2);return i.filter(o=>n.includes(o)).length/i.length}normalizeDescription(e){return e.toLowerCase().replace(/[^\w\s]/g," ").replace(/\b(pos|atm|ach|chk|dep|wd|tfr|fee)\b/g,"").replace(/\b\d+\b/g,"").replace(/\s+/g," ").trim()}calculateStringSimilarity(e,r){const n=[],a=e.length,i=r.length;for(let c=0;c<=a;c++)n[c]=[c];for(let c=0;c<=i;c++)n[0][c]=c;for(let c=1;c<=a;c++)for(let u=1;u<=i;u++){const d=e[c-1]===r[u-1]?0:1;n[c][u]=Math.min(n[c-1][u]+1,n[c][u-1]+1,n[c-1][u-1]+d)}const s=n[a][i],o=Math.max(a,i);return o===0?1:1-s/o}calculateWordMatchBoost(e,r){const n=e.split(" ").filter(o=>o.length>2),a=r.split(" ").filter(o=>o.length>2);return n.length===0||a.length===0?0:n.filter(o=>a.includes(o)).length/Math.max(n.length,a.length)*.2}generateMatchReasons(e,r,n){const a=[];return e.amount>=.95?a.push("Exact amount match"):e.amount>=.8?a.push("Very close amount"):e.amount>=.6&&a.push("Similar amount"),e.description>=.8?a.push("Strong description match"):e.description>=.6&&a.push("Similar description"),e.date>=.9?a.push("Same/next day"):e.date>=.6&&a.push("Within a week"),e.vendor>=.8&&a.push("Vendor name match"),a.length===0&&a.push("Potential match"),a}performAutoMatching(e){const r=[];for(const n of e)n.autoMatch&&n.bestMatch&&(n.isMatched=!0,n.matchedExpense=n.bestMatch.expense,r.push(n));return r}updateConfig(e){this.config={...this.config,...e}}getMatchingStats(e){return{total:e.length,withSuggestions:e.filter(r=>r.suggestions.length>0).length,autoMatched:e.filter(r=>r.autoMatch).length,highConfidence:e.filter(r=>r.bestMatch&&r.bestMatch.confidence>=.8).length,mediumConfidence:e.filter(r=>r.bestMatch&&r.bestMatch.confidence>=.6&&r.bestMatch.confidence<.8).length,lowConfidence:e.filter(r=>r.bestMatch&&r.bestMatch.confidence<.6).length,noMatches:e.filter(r=>r.suggestions.length===0).length}}}const zC=new ZNe,QNe=({reconciliationId:t,bankTransactions:e=[],systemExpenses:r=[]})=>{const[n,a]=R.useState([]),[i,s]=R.useState(null),[o,c]=R.useState(null),[u,d]=R.useState(!1),[f,h]=R.useState(!0),[p,g]=R.useState({total:0,matched:0,autoMatched:0,unmatched:0});R.useEffect(()=>{e.length>0&&r.length>0&&m()},[e,r]);const m=()=>{d(!0);try{const A=zC.findMatches(e,r);a(A);const w={total:e.length,matched:A.filter(j=>j.bestMatch).length,autoMatched:A.filter(j=>j.autoMatch).length,unmatched:A.filter(j=>!j.bestMatch).length};if(g(w),f){const j=zC.performAutoMatching(A);console.log(`Auto-matched ${j.length} transactions`)}}catch(A){console.error("Matching failed:",A)}finally{d(!1)}},y=async(A,w)=>{try{if((await Vm.matchTransaction(t,{bankTransactionId:A.id,expenseId:w.id})).success){const E=n.map(O=>O.bankTransaction.id===A.id?{...O,isMatched:!0,matchedExpense:w}:O);a(E),s(null),c(null)}}catch(j){console.error("Failed to match transaction:",j),alert("Failed to match transaction. Please try again.")}},b=async A=>{A.bestMatch&&await y(A.bankTransaction,A.bestMatch.expense)},x=A=>A>=.8?"text-green-600 bg-green-100":A>=.6?"text-yellow-600 bg-yellow-100":"text-red-600 bg-red-100",N=A=>A>=.8?"High":A>=.6?"Medium":"Low";return u?l.jsxs("div",{className:"flex items-center justify-center p-8",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),l.jsx("span",{className:"ml-2",children:"Analyzing transactions..."})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Smart Transaction Matching"}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",checked:f,onChange:A=>h(A.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),l.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Auto-match high confidence"})]}),l.jsx("button",{onClick:m,className:"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700",children:"Re-analyze"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-blue-600",children:p.total}),l.jsx("div",{className:"text-sm text-blue-800",children:"Total Transactions"})]}),l.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-green-600",children:p.matched}),l.jsx("div",{className:"text-sm text-green-800",children:"Potential Matches"})]}),l.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-purple-600",children:p.autoMatched}),l.jsx("div",{className:"text-sm text-purple-800",children:"Auto-Matched"})]}),l.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-red-600",children:p.unmatched}),l.jsx("div",{className:"text-sm text-red-800",children:"Unmatched"})]})]}),l.jsx("div",{className:"space-y-4",children:n.map((A,w)=>l.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("div",{className:"flex-1",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"font-medium text-gray-900",children:A.bankTransaction.description}),l.jsxs("div",{className:"font-bold text-lg",children:["$",A.bankTransaction.amount.toFixed(2)]}),l.jsx("div",{className:"text-sm text-gray-500",children:A.bankTransaction.date})]})}),A.isMatched&&l.jsxs("div",{className:"flex items-center text-green-600",children:[l.jsx(Tw,{className:"h-5 w-5 mr-1"}),l.jsx("span",{className:"text-sm font-medium",children:"Matched"})]})]}),A.suggestions.length>0&&!A.isMatched&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-2",children:[l.jsx(QSe,{className:"h-4 w-4 mr-1"}),l.jsx("span",{children:"Suggested matches:"})]}),A.suggestions.slice(0,3).map((j,E)=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded border hover:bg-gray-100 cursor-pointer",onClick:()=>b({...A,bestMatch:j}),children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"font-medium",children:j.expense.vendor||j.expense.description}),l.jsxs("div",{className:"font-bold",children:["$",j.expense.amount.toFixed(2)]}),l.jsx("div",{className:"text-sm text-gray-500",children:j.expense.date})]}),l.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:j.matchReasons.map((O,k)=>l.jsx("span",{className:"inline-block px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded",children:O},k))})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded ${x(j.confidence)}`,children:[N(j.confidence)," (",Math.round(j.confidence*100),"%)"]}),l.jsx("button",{className:"p-1 text-green-600 hover:text-green-800",children:l.jsx(LC,{className:"h-4 w-4"})})]})]},j.expense.id)),A.suggestions.length>3&&l.jsxs("div",{className:"text-sm text-gray-500 text-center",children:["+",A.suggestions.length-3," more potential matches"]})]}),A.suggestions.length===0&&!A.isMatched&&l.jsxs("div",{className:"flex items-center justify-center p-4 bg-red-50 rounded border border-red-200",children:[l.jsx($M,{className:"h-5 w-5 text-red-500 mr-2"}),l.jsx("span",{className:"text-red-700",children:"No potential matches found"}),l.jsx("button",{className:"ml-4 px-3 py-1 text-sm bg-red-600 text-white rounded hover:bg-red-700",children:"Create New Expense"})]})]},A.bankTransaction.id))}),l.jsxs("div",{className:"border-t pt-6",children:[l.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Manual Matching"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("h5",{className:"font-medium text-gray-800 mb-3",children:"Unmatched Bank Transactions"}),l.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:n.filter(A=>!A.isMatched).map(A=>l.jsxs("div",{onClick:()=>s(A.bankTransaction),className:`p-3 rounded border cursor-pointer ${(i==null?void 0:i.id)===A.bankTransaction.id?"bg-blue-100 border-blue-400":"bg-white hover:bg-gray-50"}`,children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"font-medium",children:A.bankTransaction.description}),l.jsxs("span",{className:"font-bold",children:["$",A.bankTransaction.amount.toFixed(2)]})]}),l.jsx("div",{className:"text-sm text-gray-500",children:A.bankTransaction.date})]},A.bankTransaction.id))})]}),l.jsxs("div",{children:[l.jsx("h5",{className:"font-medium text-gray-800 mb-3",children:"Unmatched System Expenses"}),l.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:r.filter(A=>!A.is_matched).map(A=>l.jsxs("div",{onClick:()=>c(A),className:`p-3 rounded border cursor-pointer ${(o==null?void 0:o.id)===A.id?"bg-green-100 border-green-400":"bg-white hover:bg-gray-50"}`,children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"font-medium",children:A.vendor||A.description}),l.jsxs("span",{className:"font-bold",children:["$",A.amount.toFixed(2)]})]}),l.jsx("div",{className:"text-sm text-gray-500",children:A.date})]},A.id))})]})]}),i&&o&&l.jsx("div",{className:"mt-4 text-center",children:l.jsxs("button",{onClick:()=>y(i,o),className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700",children:[l.jsx(LC,{className:"h-5 w-5 mr-2"}),"Match Selected Transactions"]})})]})]})},WM=()=>l.jsxs("div",{children:[l.jsx("h1",{children:"Reconciliation Report"}),l.jsx("p",{children:"This is a placeholder for the Reconciliation Report."})]}),JNe=({onComplete:t,onCancel:e})=>{const[r,n]=R.useState(1),[a,i]=R.useState({id:null,month:new Date().getMonth()+1,year:new Date().getFullYear(),bankStatement:null,bankTransactions:[],systemExpenses:[]}),[s,o]=R.useState(!1),c=[{id:1,name:"Period Selection",description:"Select reconciliation period"},{id:2,name:"Upload Statement",description:"Upload bank statement"},{id:3,name:"Match Transactions",description:"Review and match transactions"},{id:4,name:"Finalize Report",description:"Complete reconciliation"}],u=(g,m)=>{i(y=>({...y,[g]:m}))},d=async g=>{o(!0);try{const m=await Vm.uploadStatement(a.id,{transactions:g.transactions});if(m.success){const y=await Vm.getTransactions(a.id);y.success&&(i(b=>({...b,bankStatement:g.file,bankTransactions:y.data.bankTransactions,systemExpenses:y.data.systemExpenses})),n(r+1))}else alert("Failed to upload transactions: "+m.error)}catch(m){console.error("Failed to upload statement:",m),alert("Failed to upload statement. Please try again.")}finally{o(!1)}},f=async()=>{if(console.log("ðŸ” [FRONTEND DEBUG] nextStep called, currentStep:",r),r===1){console.log("ðŸ” [FRONTEND DEBUG] Starting reconciliation process"),console.log("ðŸ” [FRONTEND DEBUG] Reconciliation data:",{month:a.month,year:a.year}),o(!0);try{console.log("ðŸ” [FRONTEND DEBUG] Calling reconciliationAPI.startReconciliation");const g=await Vm.startReconciliation({month:a.month,year:a.year});console.log("ðŸ” [FRONTEND DEBUG] startReconciliation response:",g),g.success?(console.log("âœ… [FRONTEND DEBUG] Reconciliation started successfully, ID:",g.data.id),i(m=>({...m,id:g.data.id})),n(r+1)):(console.error("âŒ [FRONTEND DEBUG] Failed to start reconciliation:",g.error),alert("Failed to start reconciliation: "+g.error))}catch(g){console.error("âŒ [FRONTEND DEBUG] Exception in nextStep:",g),alert("Failed to start reconciliation. Please try again.")}finally{console.log("ðŸ” [FRONTEND DEBUG] Setting loading to false"),o(!1)}}else r<c.length&&(console.log("ðŸ” [FRONTEND DEBUG] Moving to next step:",r+1),n(r+1))},h=()=>{r>1&&n(r-1)},p=()=>{switch(r){case 1:return l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Select Reconciliation Period"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Month"}),l.jsx("select",{value:a.month,onChange:g=>u("month",parseInt(g.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:Array.from({length:12},(g,m)=>l.jsx("option",{value:m+1,children:new Date(0,m).toLocaleString("default",{month:"long"})},m+1))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Year"}),l.jsx("input",{type:"number",value:a.year,onChange:g=>u("year",parseInt(g.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]})]})]});case 2:return l.jsx(XNe,{onUpload:d});case 3:return l.jsx(QNe,{reconciliationId:a.id,bankTransactions:a.bankTransactions,systemExpenses:a.systemExpenses});case 4:return l.jsx(WM,{reconciliation:a});default:return l.jsxs("div",{children:["Step ",r]})}};return l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Monthly Reconciliation"}),l.jsx("button",{onClick:e,className:"inline-flex items-center p-2 border border-gray-300 rounded-md text-gray-400 hover:text-gray-500 hover:border-gray-400",children:l.jsx($M,{className:"h-5 w-5"})})]}),l.jsx("div",{className:"mb-8",children:l.jsx("div",{className:"flex items-center justify-between",children:c.map((g,m)=>l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full border-2 ${r>=g.id?"bg-blue-600 border-blue-600 text-white":"border-gray-300 text-gray-500"}`,children:r>g.id?l.jsx(zSe,{className:"h-5 w-5"}):l.jsx("span",{className:"text-sm font-medium",children:g.id})}),l.jsxs("div",{className:"ml-3",children:[l.jsx("div",{className:`text-sm font-medium ${r>=g.id?"text-blue-600":"text-gray-500"}`,children:g.name}),l.jsx("div",{className:"text-xs text-gray-500",children:g.description})]}),m<c.length-1&&l.jsx("div",{className:`flex-1 h-0.5 mx-4 ${r>g.id?"bg-blue-600":"bg-gray-300"}`})]},g.id))})}),l.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:p()}),l.jsxs("div",{className:"flex justify-between",children:[l.jsxs("button",{onClick:h,disabled:r===1,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx(HSe,{className:"h-4 w-4 mr-2"}),"Previous"]}),r<c.length?l.jsxs("button",{onClick:f,disabled:s||r===2&&!a.bankStatement,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[s?"Starting...":"Next",l.jsx(GSe,{className:"h-4 w-4 ml-2"})]}):l.jsx("button",{onClick:()=>t(a),className:"inline-flex items-center px-6 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700",children:"Complete Reconciliation"})]})]})},eje=[{id:1,subject:"Back-to-School Picnic",type:"event",status:"draft",updated_at:"2025-06-01"},{id:2,subject:"Fundraiser Reminder",type:"fundraiser",status:"draft",updated_at:"2025-06-02"}],tje={draft:"bg-gray-200 text-gray-800",scheduled:"bg-yellow-100 text-yellow-800",sent:"bg-green-100 text-green-800",failed:"bg-red-100 text-red-800"};function rje(){const[t,e]=R.useState("drafts"),r=n=>n.length===0?l.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"No communications found."}):l.jsx("ul",{className:"space-y-3 mt-4",children:n.map(a=>l.jsxs("li",{className:"p-4 bg-white border rounded shadow flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold",children:a.subject}),l.jsxs("p",{className:"text-xs text-gray-500",children:["Type: ",a.type," â€¢ Last updated: ",a.updated_at]})]}),l.jsx("span",{className:`text-xs px-2 py-1 rounded ${tje[a.status]}`,children:a.status})]},a.id))});return l.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-8",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h1",{className:"text-2xl font-bold",children:"Communications"}),l.jsx(Yu,{to:"/communications/create",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"+ New"})]}),l.jsxs(gs.Tabs,{value:t,onChange:n=>e(n),children:[l.jsxs(gs.TabsHeader,{children:[l.jsx(gs.Tab,{value:"drafts",children:"Drafts"}),l.jsx(gs.Tab,{value:"scheduled",children:"Scheduled"}),l.jsx(gs.Tab,{value:"sent",children:"Sent"})]}),l.jsxs(gs.TabsBody,{children:[l.jsx(gs.TabPanel,{value:"drafts",children:r(eje)}),l.jsx(gs.TabPanel,{value:"scheduled",children:r([])}),l.jsx(gs.TabPanel,{value:"sent",children:r([])})]})]})]})}const nje=()=>{const t=xr(),[e,r]=R.useState("grid"),[n,a]=R.useState("manual"),[i,s]=R.useState(""),[o,c]=R.useState("all"),u=[{id:1,title:"Fall Festival Announcement",type:"email",status:"sent",audience:"All Families",sentDate:"2024-10-01",openRate:78,clickRate:12,createdBy:"stella",description:"Exciting announcement about our upcoming Fall Festival"},{id:2,title:"Volunteer Recruitment Drive",type:"social",status:"scheduled",audience:"Facebook & Instagram",scheduledDate:"2024-10-05",engagement:0,createdBy:"manual",description:"Call for volunteers for upcoming events"},{id:3,title:"Book Fair Reminder",type:"sms",status:"draft",audience:"Parent Contacts",deliveryRate:0,createdBy:"stella",description:"Reminder about the upcoming book fair"},{id:4,title:"Monthly Newsletter",type:"newsletter",status:"in_progress",audience:"All Subscribers",progress:65,createdBy:"manual",description:"October newsletter with updates and events"}],d=P=>{t(`/communications/compose?mode=email&ai=${P}`)},f=P=>{t(`/communications/compose?mode=social&ai=${P}`)},h=P=>{t(`/communications/compose?mode=sms&ai=${P}`)},p=P=>{t(`/communications/compose?mode=email&type=newsletter&ai=${P}`)},g=P=>{t(`/communications/create?view=${P}`)},m=P=>{t(`/communications/create?edit=${P}`)},y=P=>{console.log("Sending communication:",P)},b=()=>{t("/communications/ai")},x=()=>{t("/communications/create?tab=analytics")},N=()=>{t("/communications/create?tab=schedule")},A=()=>{t("/communications/create?tab=audiences")},w=()=>{t("/communications/create")},j=P=>{const I={draft:"bg-gray-100 text-gray-800",in_progress:"bg-blue-100 text-blue-800",scheduled:"bg-yellow-100 text-yellow-800",sent:"bg-green-100 text-green-800",failed:"bg-red-100 text-red-800"};return I[P]||I.draft},E=P=>({email:qc,sms:US,social:BS,newsletter:ea})[P]||qc,O=({communication:P})=>{const I=E(P.type);return l.jsx("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 hover:shadow-lg transition-shadow",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[l.jsx(I,{className:"w-5 h-5 text-blue-600"}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:P.title}),P.createdBy==="stella"&&l.jsx(zr,{className:"w-4 h-4 text-purple-500",title:"Created by Stella"})]}),l.jsx("p",{className:"text-sm text-gray-600 mb-3",children:P.description}),l.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx($a,{className:"w-4 h-4"}),l.jsx("span",{children:P.audience})]}),P.sentDate&&l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(ea,{className:"w-4 h-4"}),l.jsx("span",{children:new Date(P.sentDate).toLocaleDateString()})]})]})]}),l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${j(P.status)}`,children:P.status.replace("_"," ").charAt(0).toUpperCase()+P.status.replace("_"," ").slice(1)})]}),P.status==="sent"&&l.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[l.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[l.jsx("div",{className:"text-sm text-green-600",children:"Open Rate"}),l.jsxs("div",{className:"text-lg font-semibold text-green-700",children:[P.openRate,"%"]})]}),l.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[l.jsx("div",{className:"text-sm text-blue-600",children:"Click Rate"}),l.jsxs("div",{className:"text-lg font-semibold text-blue-700",children:[P.clickRate,"%"]})]})]}),P.status==="in_progress"&&l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[l.jsx("span",{className:"text-gray-600",children:"Progress"}),l.jsxs("span",{className:"font-medium text-gray-900",children:[P.progress,"%"]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${P.progress}%`}})})]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsxs("button",{onClick:()=>g(P.id),className:"flex-1 flex items-center justify-center px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx(du,{className:"w-4 h-4 mr-2"}),"View"]}),l.jsxs("button",{onClick:()=>m(P.id),className:"flex-1 flex items-center justify-center px-3 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[l.jsx(Xn,{className:"w-4 h-4 mr-2"}),"Edit"]}),P.status==="draft"&&l.jsxs("button",{onClick:()=>y(P.id),className:"flex-1 flex items-center justify-center px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[l.jsx(KC,{className:"w-4 h-4 mr-2"}),"Send"]})]})]})})},k=()=>l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Create New Communication"}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-4 gap-6",children:[l.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-6 hover:border-blue-300 transition-colors",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(qc,{className:"w-8 h-8 text-blue-600"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:"Email Campaign"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Reach all families"})]})]}),l.jsxs("div",{className:"space-y-3 mb-4",children:[l.jsx("button",{onClick:()=>d("manual"),className:"w-full py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:"Manual Creation"}),l.jsx("button",{onClick:()=>d("assisted"),className:"w-full py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm",children:"Let Stella Help"}),l.jsx("button",{onClick:()=>d("automated"),className:"w-full py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors text-sm",children:"Stella Auto-Generate"})]})]}),l.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-6 hover:border-green-300 transition-colors",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(BS,{className:"w-8 h-8 text-green-600"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:"Social Media"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Facebook & Instagram"})]})]}),l.jsxs("div",{className:"space-y-3 mb-4",children:[l.jsx("button",{onClick:()=>f("manual"),className:"w-full py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:"Manual Creation"}),l.jsx("button",{onClick:()=>f("assisted"),className:"w-full py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm",children:"Let Stella Help"}),l.jsx("button",{onClick:()=>f("automated"),className:"w-full py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors text-sm",children:"Stella Auto-Generate"})]})]}),l.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-6 hover:border-yellow-300 transition-colors",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(US,{className:"w-8 h-8 text-yellow-600"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:"SMS Campaign"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Direct text messages"})]})]}),l.jsxs("div",{className:"space-y-3 mb-4",children:[l.jsx("button",{onClick:()=>h("manual"),className:"w-full py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:"Manual Creation"}),l.jsx("button",{onClick:()=>h("assisted"),className:"w-full py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm",children:"Let Stella Help"}),l.jsx("button",{onClick:()=>h("automated"),className:"w-full py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors text-sm",children:"Stella Auto-Generate"})]})]}),l.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-6 hover:border-purple-300 transition-colors",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(ea,{className:"w-8 h-8 text-purple-600"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:"Newsletter"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Monthly updates"})]})]}),l.jsxs("div",{className:"space-y-3 mb-4",children:[l.jsx("button",{onClick:()=>p("manual"),className:"w-full py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:"Manual Creation"}),l.jsx("button",{onClick:()=>p("assisted"),className:"w-full py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm",children:"Let Stella Help"}),l.jsx("button",{onClick:()=>p("automated"),className:"w-full py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors text-sm",children:"Stella Auto-Generate"})]})]})]})]}),L=()=>l.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg p-6 mb-6",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(zr,{className:"w-6 h-6 text-purple-600"}),l.jsx("h3",{className:"text-lg font-semibold text-purple-900",children:"Stella's Communication Insights"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"bg-white rounded-lg p-4",children:[l.jsx("div",{className:"text-sm text-purple-600 mb-1",children:"Best Send Time"}),l.jsx("div",{className:"text-lg font-semibold text-purple-900",children:"Tuesday 10 AM"}),l.jsx("div",{className:"text-xs text-purple-700",children:"Based on your audience engagement"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-4",children:[l.jsx("div",{className:"text-sm text-purple-600 mb-1",children:"Top Performing Subject"}),l.jsx("div",{className:"text-lg font-semibold text-purple-900",children:"Event Announcements"}),l.jsx("div",{className:"text-xs text-purple-700",children:"85% average open rate"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-4",children:[l.jsx("div",{className:"text-sm text-purple-600 mb-1",children:"Stella's Suggestion"}),l.jsx("div",{className:"text-lg font-semibold text-purple-900",children:"Add Volunteer Call"}),l.jsx("div",{className:"text-xs text-purple-700",children:"Include in next newsletter"})]})]}),l.jsxs("div",{className:"mt-4 p-3 bg-white rounded-lg",children:[l.jsx("div",{className:"text-sm text-purple-900 font-medium mb-2",children:"ðŸ’¡ Stella's Tip of the Day"}),l.jsx("div",{className:"text-sm text-purple-800",children:'"Your Fall Festival emails get 23% higher engagement when sent on weekday mornings. Want me to schedule your next announcement for optimal timing?"'})]})]}),C=()=>l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsxs("button",{onClick:b,className:"flex flex-col items-center p-4 border border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 transition-colors",children:[l.jsx(zr,{className:"w-6 h-6 text-purple-600 mb-2"}),l.jsx("span",{className:"text-sm font-medium",children:"Ask Stella"}),l.jsx("span",{className:"text-xs text-gray-500",children:"Get content ideas"})]}),l.jsxs("button",{onClick:x,className:"flex flex-col items-center p-4 border border-gray-200 rounded-lg hover:border-green-300 hover:bg-green-50 transition-colors",children:[l.jsx(WR,{className:"w-6 h-6 text-green-600 mb-2"}),l.jsx("span",{className:"text-sm font-medium",children:"Analytics"}),l.jsx("span",{className:"text-xs text-gray-500",children:"View performance"})]}),l.jsxs("button",{onClick:N,className:"flex flex-col items-center p-4 border border-gray-200 rounded-lg hover:border-yellow-300 hover:bg-yellow-50 transition-colors",children:[l.jsx(yo,{className:"w-6 h-6 text-yellow-600 mb-2"}),l.jsx("span",{className:"text-sm font-medium",children:"Schedule"}),l.jsx("span",{className:"text-xs text-gray-500",children:"Plan campaigns"})]}),l.jsxs("button",{onClick:A,className:"flex flex-col items-center p-4 border border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 transition-colors",children:[l.jsx($a,{className:"w-6 h-6 text-blue-600 mb-2"}),l.jsx("span",{className:"text-sm font-medium",children:"Audiences"}),l.jsx("span",{className:"text-xs text-gray-500",children:"Manage lists"})]})]})]});return l.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Communications Dashboard"}),l.jsx("p",{className:"text-gray-600",children:"Manage all your PTO communications with Stella's help or manual control"})]}),l.jsx("div",{className:"flex items-center space-x-3",children:l.jsx("button",{onClick:()=>r(e==="grid"?"list":"grid"),className:"p-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:e==="grid"?l.jsx(UR,{className:"w-5 h-5"}):l.jsx(zR,{className:"w-5 h-5"})})})]}),l.jsx(L,{}),l.jsx(C,{}),l.jsx(k,{}),l.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(Dw,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"Search communications...",value:i,onChange:P=>s(P.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),l.jsxs("select",{value:o,onChange:P=>c(P.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[l.jsx("option",{value:"all",children:"All Types"}),l.jsx("option",{value:"email",children:"Email"}),l.jsx("option",{value:"sms",children:"SMS"}),l.jsx("option",{value:"social",children:"Social Media"}),l.jsx("option",{value:"newsletter",children:"Newsletter"})]})]})}),l.jsx("div",{className:e==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:u.map(P=>l.jsx(O,{communication:P},P.id))}),u.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx(qc,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No communications found"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Get started by creating your first communication"}),l.jsx("button",{onClick:w,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Create Your First Communication"})]})]})})};function aje(){const[t,e]=R.useState({subject:"",body:"",send_as:"email"}),[r,n]=R.useState(""),[a,i]=R.useState(""),s=c=>{const{name:u,value:d}=c.target;e(f=>({...f,[u]:d}))},o=async c=>{c.preventDefault(),i(""),n("");const{data:{session:u}}=await Ge.auth.getSession();if(!(u!=null&&u.access_token)){i("Authentication required.");return}try{const d=await fetch("/api/messages",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u.access_token}`},body:JSON.stringify(t)}),f=await d.json();d.ok?(n("Message created successfully!"),e({subject:"",body:"",send_as:"email"})):i(f.error||"Failed to send message.")}catch(d){console.error("Submit error:",d),i("Server error. Please try again.")}};return l.jsxs("div",{className:"max-w-xl mx-auto p-4",children:[l.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Create Message"}),l.jsxs("form",{onSubmit:o,className:"space-y-4",children:[l.jsx("input",{name:"subject",value:t.subject,onChange:s,placeholder:"Subject",className:"w-full border p-2",required:!0}),l.jsx("textarea",{name:"body",value:t.body,onChange:s,placeholder:"Message Body",className:"w-full border p-2",required:!0}),l.jsxs("select",{name:"send_as",value:t.send_as,onChange:s,className:"w-full border p-2",children:[l.jsx("option",{value:"email",children:"Email"}),l.jsx("option",{value:"sms",children:"SMS"}),l.jsx("option",{value:"in_app",children:"In-App"})]}),l.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded",type:"submit",children:"Send Message"}),r&&l.jsx("p",{className:"text-green-600",children:r}),a&&l.jsx("p",{className:"text-red-600",children:a})]})]})}function ije(){const t=xr();return R.useEffect(()=>{t("/communications/compose?mode=sms")},[t]),l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsx("div",{className:"bg-white rounded-lg shadow-sm p-8 max-w-md w-full mx-4",children:l.jsxs("div",{className:"text-center",children:[l.jsx(ui,{className:"w-12 h-12 text-green-600 mx-auto mb-4"}),l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"SMS Composer"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Redirecting to the unified communication composer for SMS messages..."}),l.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-green-600 mx-auto"})]})})})}function sje(){const t=xr();return R.useEffect(()=>{t("/communications/compose?mode=social")},[t]),l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsx("div",{className:"bg-white rounded-lg shadow-sm p-8 max-w-md w-full mx-4",children:l.jsxs("div",{className:"text-center",children:[l.jsx(XC,{className:"w-12 h-12 text-purple-600 mx-auto mb-4"}),l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Social Media Composer"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Redirecting to the unified communication composer for social media posts..."}),l.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-purple-600 mx-auto"})]})})})}const oje=void 0;function lje(){const[t,e]=R.useState([]),[r,n]=R.useState("");R.useEffect(()=>{async function i(){const{data:{session:s}}=await Ge.auth.getSession(),o=s==null?void 0:s.access_token;if(!o)return n("Not authenticated.");try{const c=await Ui.get(`${oje}/api/documents`,{headers:{Authorization:`Bearer ${o}`}});e(c.data)}catch(c){n("Failed to load documents."),console.error(c)}}i()},[]);const a=i=>{const{data:s}=Ge.storage.from("documents").getPublicUrl(i);return s==null?void 0:s.publicUrl};return l.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h1",{className:"text-2xl font-bold",children:"PTO Documents"}),l.jsx(Yu,{to:"/documents/upload",className:"bg-blue-600 text-white px-4 py-2 rounded",children:"+ Upload Document"})]}),r&&l.jsx("p",{className:"text-red-600",children:r}),t.length===0&&!r&&l.jsx("p",{children:"No documents found."}),l.jsx("ul",{className:"space-y-4",children:t.map(i=>l.jsxs("li",{className:"border p-4 rounded shadow-sm bg-white",children:[l.jsx("h2",{className:"text-lg font-semibold",children:i.title}),l.jsx("a",{href:a(i.file_path),target:"_blank",rel:"noopener noreferrer",className:"text-blue-700 underline text-sm",children:"View / Download"})]},i.id))})]})}const cje=void 0;function uje(){const[t,e]=R.useState(""),[r,n]=R.useState(null),[a,i]=R.useState(""),[s,o]=R.useState(""),c=async u=>{if(u.preventDefault(),!r||!t)return o("Title and file are required.");const{data:{session:d}}=await Ge.auth.getSession(),f=d==null?void 0:d.access_token;if(!f)return o("User not authenticated.");const h=new FormData;h.append("title",t),h.append("file",r);try{await Ui.post(`${cje}/api/documents`,h,{headers:{Authorization:`Bearer ${f}`,"Content-Type":"multipart/form-data"}}),i("Document uploaded successfully."),e(""),n(null)}catch(p){o("Upload failed. Check console."),console.error(p)}};return l.jsxs("div",{className:"max-w-xl mx-auto p-4",children:[l.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Upload Document"}),l.jsxs("form",{onSubmit:c,className:"space-y-4",children:[l.jsx("input",{type:"text",placeholder:"Document Title",value:t,onChange:u=>e(u.target.value),className:"w-full border p-2",required:!0}),l.jsx("input",{type:"file",accept:".pdf,.doc,.docx,.xls,.xlsx,.png,.jpg,.jpeg",onChange:u=>n(u.target.files[0]),className:"w-full border p-2",required:!0}),l.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded",children:"Upload"}),a&&l.jsx("p",{className:"text-green-600",children:a}),s&&l.jsx("p",{className:"text-red-600",children:s})]})]})}const dje=void 0;function fje(){const[t,e]=R.useState([]),[r,n]=R.useState("");return R.useEffect(()=>{async function a(){const{data:{session:i}}=await Ge.auth.getSession(),s=i==null?void 0:i.access_token;if(!s){n("Not authenticated.");return}try{const o=await Ui.get(`${dje}/api/shared-library`,{headers:{Authorization:`Bearer ${s}`}});e(o.data)}catch(o){console.error(o),n("Failed to load shared library items.")}}a()},[]),l.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[l.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Shared PTO Library"}),r&&l.jsx("p",{className:"text-red-600",children:r}),t.length===0&&!r&&l.jsx("p",{children:"No shared events or fundraisers yet."}),l.jsx("ul",{className:"space-y-4",children:t.map(a=>{var i;return l.jsxs("li",{className:"border p-4 rounded shadow-sm bg-white",children:[l.jsx("h2",{className:"text-xl font-semibold",children:a.title}),l.jsx("p",{className:"text-sm text-gray-500",children:a.description}),l.jsxs("p",{className:"text-sm text-blue-700 mt-1",children:["Type: ",((i=a.type)==null?void 0:i.toUpperCase())||"N/A"," â€¢ Shared by another PTO"]})]},a.id)})})]})}function hje(){const[t,e]=R.useState({type:"",season:"",audience:"",theme:"",goal:""}),[r,n]=R.useState([]),[a,i]=R.useState(!1),[s,o]=R.useState(null),c=d=>{const{name:f,value:h}=d.target;e(p=>({...p,[f]:h}))},u=async()=>{i(!0),o(null),n([]);const{data:{session:d},error:f}=await Ge.auth.getSession();if(f||!(d!=null&&d.access_token)){o("Authentication required."),i(!1);return}try{const p=await(await fetch("/api/ai/generate-event",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${d.access_token}`},body:JSON.stringify(t)})).json();if(p.result){const g=p.result.split(/\n?\d+\.\s/).filter(Boolean).map(m=>m.trim().replace(/^\*\*/,"").replace(/\*\*$/,""));n(g)}else o("No ideas returned.")}catch(h){console.error(h),o("Error contacting the backend")}finally{i(!1)}};return l.jsxs("div",{className:"p-6 max-w-2xl mx-auto",children:[l.jsx("h1",{className:"text-2xl font-bold mb-4",children:"AI Event Idea Generator"}),l.jsxs("div",{className:"grid gap-4 mb-4",children:[l.jsx("input",{name:"type",value:t.type,onChange:c,placeholder:"Event Type (e.g. Family Night)",className:"w-full border p-2 rounded"}),l.jsx("input",{name:"season",value:t.season,onChange:c,placeholder:"Season or Month (e.g. Spring, October)",className:"w-full border p-2 rounded"}),l.jsx("input",{name:"audience",value:t.audience,onChange:c,placeholder:"Audience (e.g. students, families)",className:"w-full border p-2 rounded"}),l.jsx("input",{name:"theme",value:t.theme,onChange:c,placeholder:"Theme (e.g. carnival, STEM)",className:"w-full border p-2 rounded"}),l.jsx("input",{name:"goal",value:t.goal,onChange:c,placeholder:"Goal (e.g. raise funds, build community)",className:"w-full border p-2 rounded"})]}),l.jsx("button",{onClick:u,disabled:a,className:"bg-blue-600 text-white px-4 py-2 rounded",children:a?"Generating...":"Generate Ideas"}),s&&l.jsx("p",{className:"text-red-500 mt-4",children:s}),r.length>0&&l.jsx("ul",{className:"mt-6 space-y-2",children:r.map((d,f)=>l.jsx("li",{className:"border p-3 rounded bg-gray-50",children:d},f))})]})}const pje=()=>{const t=xr(),[e,r]=R.useState(null),[n,a]=R.useState(null),[i,s]=R.useState(null),[o,c]=R.useState({isGenerating:!1,currentStep:"",progress:0}),[u,d]=R.useState(null),[f,h]=R.useState(""),[p,g]=R.useState("assisted");R.useEffect(()=>{(async()=>{try{const{data:{session:w}}=await Ge.auth.getSession();if(w!=null&&w.user){const{data:j}=await Ge.from("profiles").select("*").eq("id",w.user.id).single();if(r(j),j!=null&&j.org_id){const E=await bo.analyzeContext(j.org_id,"general");s(E),a(E.context)}}}catch(w){console.error("Error fetching user context:",w)}})()},[]);const m=async()=>{if(!f.trim()){ut.error("Please enter an event idea first");return}if(!(e!=null&&e.org_id)){ut.error("Organization context required");return}c({isGenerating:!0,currentStep:"Initializing Stella...",progress:10});try{c({isGenerating:!0,currentStep:"Stella is analyzing your event idea...",progress:25}),await new Promise(O=>setTimeout(O,1500));const A={title:f,category:"Event",estimated_budget:2e3,expected_attendance:100,description:`${f} for our school community`};c({isGenerating:!0,currentStep:"Calculating event complexity and requirements...",progress:50});const w=await bo.analyzeEventWorkflow(A,e.org_id);c({isGenerating:!0,currentStep:"Creating your complete event workflow...",progress:75}),await new Promise(O=>setTimeout(O,2e3)),c({isGenerating:!0,currentStep:"Adding Stella's intelligent recommendations...",progress:90});const j=await bo.generateContent("content",`Event planning recommendations for ${f}`,{orgId:e.org_id,mode:"recommendations"},!0);c({isGenerating:!0,currentStep:"Finalizing your workflow...",progress:100}),await new Promise(O=>setTimeout(O,1e3));const E={event:A,complexity:w.eventComplexity,workflow:w.workflowPlan,recommendations:j.recommendations||[],orgInsights:w.orgContext,createdAt:new Date().toISOString(),createdBy:"Stella AI Assistant"};d(E),c({isGenerating:!1,currentStep:"",progress:0}),ut.success("âœ¨ Stella has created your complete event workflow!")}catch(A){console.error("Workflow generation error:",A),ut.error("Stella encountered an issue creating your workflow. Please try again."),c({isGenerating:!1,currentStep:"",progress:0})}},y=()=>l.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg p-6 mb-8",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Choose Your Workflow Experience"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[{mode:"manual",title:"Manual Control",description:"I prefer to plan everything myself",icon:ZC,color:"gray"},{mode:"assisted",title:"Stella Assisted",description:"I want Stella's help with suggestions",icon:zr,color:"purple"},{mode:"automated",title:"Fully Automated",description:"Let Stella create the complete workflow",icon:ix,color:"blue"}].map(A=>{const w=A.icon,j=p===A.mode;return l.jsxs("button",{onClick:()=>g(A.mode),className:`p-4 rounded-lg border-2 transition-all ${j?`border-${A.color}-500 bg-${A.color}-50`:"border-gray-200 hover:border-gray-300"}`,children:[l.jsx(w,{className:`w-6 h-6 mx-auto mb-2 ${j?`text-${A.color}-600`:"text-gray-400"}`}),l.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:A.title}),l.jsx("p",{className:"text-sm text-gray-600",children:A.description})]},A.mode)})})]}),b=()=>{if(!i)return null;const{analysis:A}=i,w=A.organizationHealth;return l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-8",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(_v,{className:"w-6 h-6 text-blue-600"}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Stella's Organization Insights"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[l.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[l.jsx($a,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),l.jsx("div",{className:"text-2xl font-bold text-blue-600",children:A.keyMetrics.totalMembers}),l.jsx("div",{className:"text-sm text-gray-600",children:"Active Members"}),l.jsxs("div",{className:`text-xs mt-1 ${w.memberEngagement==="high"?"text-green-600":w.memberEngagement==="moderate"?"text-yellow-600":"text-red-600"}`,children:[w.memberEngagement.toUpperCase()," Engagement"]})]}),l.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[l.jsx(ea,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),l.jsx("div",{className:"text-2xl font-bold text-green-600",children:A.keyMetrics.activeEvents}),l.jsx("div",{className:"text-sm text-gray-600",children:"Active Events"}),l.jsxs("div",{className:`text-xs mt-1 ${w.eventActivity==="high"?"text-green-600":w.eventActivity==="moderate"?"text-yellow-600":"text-red-600"}`,children:[w.eventActivity.toUpperCase()," Activity"]})]}),l.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[l.jsx(Da,{className:"w-8 h-8 text-purple-600 mx-auto mb-2"}),l.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:["$",A.keyMetrics.totalBudget.toLocaleString()]}),l.jsx("div",{className:"text-sm text-gray-600",children:"Total Budget"}),l.jsx("div",{className:`text-xs mt-1 ${w.financialHealth==="excellent"?"text-green-600":w.financialHealth==="good"?"text-yellow-600":"text-red-600"}`,children:w.financialHealth.toUpperCase()})]})]}),A.recommendations&&A.recommendations.length>0&&l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"ðŸŒŸ Stella's Top Recommendations"}),l.jsx("div",{className:"space-y-2",children:A.recommendations.slice(0,3).map((j,E)=>l.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-gray-50 rounded-lg",children:[l.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${j.priority==="high"?"bg-red-500":j.priority==="medium"?"bg-yellow-500":"bg-green-500"}`}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-sm text-gray-900",children:j.title}),l.jsx("div",{className:"text-xs text-gray-600",children:j.description})]})]},E))})]})]})},x=()=>o.isGenerating?l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-8",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-purple-600"}),l.jsx("h3",{className:"text-lg font-semibold text-purple-900",children:"Stella is Working on Your Workflow"})]}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[l.jsx("span",{children:o.currentStep}),l.jsxs("span",{children:[o.progress,"%"]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"bg-purple-600 h-2 rounded-full transition-all duration-500",style:{width:`${o.progress}%`}})})]}),l.jsx("div",{className:"text-sm text-gray-600",children:"Stella is analyzing your organization's context, past events, and best practices to create the perfect workflow for your event."})]}):null,N=()=>{var k,L;if(!u)return null;const{event:A,complexity:w,workflow:j,recommendations:E,orgInsights:O}=u;return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:A.title}),l.jsxs("div",{className:`px-3 py-1 rounded-full text-sm ${w.complexity==="complex"?"bg-red-100 text-red-800":w.complexity==="moderate"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:[w.complexity.toUpperCase()," Event"]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[l.jsx(ea,{className:"w-6 h-6 text-blue-600 mx-auto mb-1"}),l.jsx("div",{className:"text-sm font-medium",children:"Timeline"}),l.jsx("div",{className:"text-xs text-gray-600",children:(j==null?void 0:j.recommendedTimeline)||"6-8 weeks"})]}),l.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[l.jsx(Da,{className:"w-6 h-6 text-green-600 mx-auto mb-1"}),l.jsx("div",{className:"text-sm font-medium",children:"Budget"}),l.jsxs("div",{className:"text-xs text-gray-600",children:["$",((k=j==null?void 0:j.budgetRecommendations)==null?void 0:k.suggestedBudget)||A.estimated_budget]})]}),l.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[l.jsx($a,{className:"w-6 h-6 text-purple-600 mx-auto mb-1"}),l.jsx("div",{className:"text-sm font-medium",children:"Volunteers"}),l.jsx("div",{className:"text-xs text-gray-600",children:((L=j==null?void 0:j.volunteerNeeds)==null?void 0:L.totalVolunteers)||8})]}),l.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[l.jsx(YC,{className:"w-6 h-6 text-orange-600 mx-auto mb-1"}),l.jsx("div",{className:"text-sm font-medium",children:"Complexity"}),l.jsxs("div",{className:"text-xs text-gray-600",children:["Score: ",w.score,"/10"]})]})]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[l.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"ðŸš€ Next Steps"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsxs("button",{onClick:()=>t("/events/create"),className:"flex items-center justify-center space-x-2 p-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx(ea,{className:"w-5 h-5"}),l.jsx("span",{children:"Create Event"})]}),l.jsxs("button",{onClick:()=>t("/budget"),className:"flex items-center justify-center space-x-2 p-4 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[l.jsx(Da,{className:"w-5 h-5"}),l.jsx("span",{children:"Setup Budget"})]}),l.jsxs("button",{onClick:()=>t("/communications/compose?ai=auto"),className:"flex items-center justify-center space-x-2 p-4 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[l.jsx(ui,{className:"w-5 h-5"}),l.jsx("span",{children:"Start Communications"})]}),l.jsxs("button",{onClick:()=>ut.info("Project management coming in Phase 2!"),className:"flex items-center justify-center space-x-2 p-4 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:[l.jsx(Mw,{className:"w-5 h-5"}),l.jsx("span",{children:"Manage Tasks"})]})]})]})]})};return l.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(zr,{className:"w-8 h-8 text-purple-600"}),l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Meet Stella - Your AI Event Assistant"})]}),l.jsx("p",{className:"text-lg text-gray-600",children:"Hi! I'm Stella, your PTO planning assistant. I can generate complete event workflows with integrated project management, budgeting, communications, and volunteer coordination - or help with just the parts you need!"})]}),l.jsx(b,{}),l.jsx(y,{}),l.jsx(x,{}),u?l.jsx(N,{}):l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8",children:[l.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Let Stella Create Your Event Workflow"}),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"What type of event would you like Stella to help you create?"}),l.jsx("input",{type:"text",value:f,onChange:A=>h(A.target.value),placeholder:"e.g., Fall Festival, Book Fair, Science Night, Teacher Appreciation...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),l.jsx("div",{className:"flex justify-center",children:l.jsxs("button",{onClick:m,disabled:!f.trim()||o.isGenerating,className:"flex items-center space-x-3 px-8 py-4 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:[l.jsx(zr,{className:"w-6 h-6"}),l.jsx("span",{className:"text-lg font-medium",children:o.isGenerating?"Stella is Working...":"Generate Complete Workflow"}),l.jsx(HR,{className:"w-6 h-6"})]})}),p==="automated"&&l.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(ix,{className:"w-5 h-5 text-blue-600 mt-0.5"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-blue-900",children:"Fully Automated Mode"}),l.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Stella will create a complete workflow with project timeline, budget planning, communication campaigns, and volunteer coordination. You can review and adjust everything."})]})]})})]})]})})},mje=()=>l.jsx(pje,{}),io={EMAIL:"email",SMS:"sms",SOCIAL:"social"},km=()=>{const[t]=eT(),e=xr(),r=t.get("mode")||io.EMAIL,n=t.get("ai"),[a,i]=R.useState(r),[s,o]=R.useState({subject:"",body:"",recipients:[],scheduledFor:null}),[c,u]=R.useState(n==="assisted"||n==="auto"),[d,f]=R.useState(!1),[h,p]=R.useState(null),[g,m]=R.useState([]),[y,b]=R.useState(!1),x=R.useRef(null),N=()=>{const[C,P]=R.useState(""),I=async(H,V="")=>{f(!0);try{let F="";switch(H){case"subject":F=`Create an engaging ${a} subject line for: ${V||C}`;break;case"content":F=`Write ${a} content for: ${V||C}. ${h?`Event: ${h.title}, Date: ${h.date}`:""}`;break;case"social":F=`Create a social media post for: ${V||C}. Include relevant hashtags and emojis.`;break;case"sms":F=`Write a concise SMS message for: ${V||C}. Keep it under 160 characters.`;break}const X=await bo.generateContent(H,F,{mode:a,eventContext:h,organization:"PTO"});X!=null&&X.content&&(o(H==="subject"?Y=>({...Y,subject:X.content}):Y=>({...Y,body:X.content})),ut.success("âœ¨ Stella has generated your content!"))}catch(F){console.error("Stella generation error:",F),ut.error("Stella encountered an issue. Please try again.")}finally{f(!1)}},M=[{label:"Fall Festival Announcement",context:"Fall Festival event with activities and food"},{label:"Volunteer Recruitment",context:"Need volunteers for upcoming PTO events"},{label:"Meeting Reminder",context:"Monthly PTO meeting reminder"},{label:"Fundraiser Update",context:"Update on current fundraising campaign progress"},{label:"Thank You Message",context:"Thank you to volunteers and supporters"}];return l.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg p-6 mb-6",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(zr,{className:"w-6 h-6 text-purple-600"}),l.jsx("h3",{className:"text-lg font-semibold text-purple-900",children:"Stella's Content Assistant"})]}),l.jsxs("div",{className:"text-sm text-purple-700 mb-4",children:["Hi! I'm Stella. I can help create content for your ",a,", or you can create everything manually. Your choice!"]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-purple-800 mb-2",children:"What would you like to communicate?"}),l.jsx("input",{type:"text",value:C,onChange:H=>P(H.target.value),placeholder:"e.g., Fall Festival this Saturday with games and food",className:"w-full p-3 border border-purple-200 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[l.jsx("button",{onClick:()=>I("subject",C),disabled:d||!C.trim(),className:"w-full p-3 text-left bg-white rounded-lg border border-purple-200 hover:bg-purple-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(GR,{className:"w-4 h-4 text-purple-600"}),l.jsx("span",{className:"font-medium",children:"Let Stella Write Subject"})]})}),l.jsx("button",{onClick:()=>I("content",C),disabled:d||!C.trim(),className:"w-full p-3 text-left bg-white rounded-lg border border-purple-200 hover:bg-purple-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(qc,{className:"w-4 h-4 text-purple-600"}),l.jsx("span",{className:"font-medium",children:"Let Stella Write Content"})]})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-purple-800 mb-2",children:"Quick Suggestions"}),l.jsx("div",{className:"grid grid-cols-1 gap-2",children:M.map((H,V)=>l.jsx("button",{onClick:()=>I("content",H.context),disabled:d,className:"text-left p-2 bg-white rounded border border-purple-200 hover:bg-purple-50 disabled:opacity-50 text-sm transition-colors",children:H.label},V))})]}),d&&l.jsxs("div",{className:"flex items-center space-x-2 text-purple-700",children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-purple-600"}),l.jsx("span",{className:"text-sm",children:"Stella is creating your content..."})]})]})]})},A=C=>({[io.EMAIL]:{title:"Email Campaign",icon:qc,color:"blue",placeholder:"Write your email content here...",maxLength:null,showSubject:!0,showRecipients:!0},[io.SMS]:{title:"SMS Message",icon:ui,color:"green",placeholder:"Write your SMS message here (160 characters max)...",maxLength:160,showSubject:!1,showRecipients:!0},[io.SOCIAL]:{title:"Social Media Post",icon:XC,color:"purple",placeholder:"Create your social media post...",maxLength:280,showSubject:!1,showRecipients:!1}})[C],w=A(a),j=w.icon,E=(C,P)=>{o(I=>({...I,[C]:P}))},O=async()=>{try{const{data:{session:C}}=await Ge.auth.getSession();if(!C){ut.error("Please log in to save drafts");return}const P={id:Date.now(),mode:a,content:s,createdAt:new Date().toISOString(),title:s.subject||s.body.substring(0,50)+"..."},I=JSON.parse(localStorage.getItem("ptoCommunicationDrafts")||"[]");I.unshift(P),localStorage.setItem("ptoCommunicationDrafts",JSON.stringify(I.slice(0,10))),m(I),ut.success("Draft saved successfully!")}catch(C){console.error("Save draft error:",C),ut.error("Failed to save draft")}};R.useEffect(()=>{const C=JSON.parse(localStorage.getItem("ptoCommunicationDrafts")||"[]");m(C),n==="auto"&&setTimeout(()=>{k()},1e3)},[]);const k=async()=>{f(!0);try{const C=t.get("type")||"general";let P="";switch(C){case"newsletter":P="Monthly PTO newsletter with updates and announcements";break;default:P="PTO communication to members"}if(a===io.EMAIL){const M=await bo.generateContent("subject",`Create an engaging email subject for: ${P}`,{mode:a,organization:"PTO"});M!=null&&M.content&&o(H=>({...H,subject:M.content}))}const I=await bo.generateContent("content",`Write ${a} content for: ${P}`,{mode:a,organization:"PTO"});I!=null&&I.content&&o(M=>({...M,body:I.content})),ut.success("âœ¨ Stella has auto-generated your content! Review and customize as needed.")}catch(C){console.error("Auto-generation error:",C),ut.info("Stella is ready to help when you need content assistance!")}finally{f(!1)}},L=async()=>{if(!s.body.trim()){ut.error("Please add some content before sending");return}if(a===io.EMAIL&&!s.subject.trim()){ut.error("Please add a subject line for your email");return}try{const{data:{session:C}}=await Ge.auth.getSession();if(!C){ut.error("Please log in to send communications");return}ut.success(`${w.title} scheduled for sending!`),o({subject:"",body:"",recipients:[],scheduledFor:null})}catch(C){console.error("Send error:",C),ut.error("Failed to send communication")}};return l.jsx("div",{className:"min-h-screen bg-gray-50",children:l.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("button",{onClick:()=>e("/communications"),className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",children:l.jsx(qR,{className:"w-5 h-5"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Communication Composer"}),l.jsx("p",{className:"text-gray-600",children:"Create engaging communications with Stella's help"})]})]}),l.jsx("div",{className:"flex items-center space-x-3",children:l.jsxs("button",{onClick:()=>u(!c),className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors ${c?"bg-purple-100 text-purple-700 border border-purple-200":"bg-white text-gray-700 border border-gray-200 hover:bg-gray-50"}`,children:[l.jsx(zr,{className:"w-4 h-4"}),l.jsx("span",{children:"Stella Assistant"})]})})]}),l.jsx("div",{className:"bg-white rounded-lg p-4 mb-6 shadow-sm",children:l.jsx("div",{className:"flex items-center space-x-1",children:Object.entries(io).map(([C,P])=>{const I=A(P),M=I.icon,H=a===P;return l.jsxs("button",{onClick:()=>i(P),className:`flex items-center space-x-2 px-6 py-3 rounded-lg font-medium transition-all ${H?`bg-${I.color}-100 text-${I.color}-700 border border-${I.color}-200`:"text-gray-600 hover:bg-gray-50"}`,children:[l.jsx(M,{className:"w-5 h-5"}),l.jsx("span",{children:I.title})]},C)})})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[c&&l.jsx(N,{}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[l.jsx(j,{className:`w-6 h-6 text-${w.color}-600`}),l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:w.title})]}),l.jsxs("div",{className:"space-y-6",children:[w.showSubject&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject Line"}),l.jsx("input",{type:"text",value:s.subject,onChange:C=>E("subject",C.target.value),placeholder:"Enter your email subject...",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),w.showRecipients&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Recipients"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx($a,{className:"w-5 h-5 text-gray-400"}),l.jsxs("select",{className:"flex-1 p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[l.jsx("option",{children:"All PTO Members"}),l.jsx("option",{children:"Board Members Only"}),l.jsx("option",{children:"Volunteers"}),l.jsx("option",{children:"Parents"}),l.jsx("option",{children:"Teachers"}),l.jsx("option",{children:"Custom List..."})]})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Message Content",w.maxLength&&l.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["(",s.body.length,"/",w.maxLength," characters)"]})]}),l.jsx("textarea",{ref:x,value:s.body,onChange:C=>E("body",C.target.value),placeholder:w.placeholder,maxLength:w.maxLength,rows:a===io.SMS?4:12,className:"w-full p-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]})]})]}),l.jsx("div",{className:"border-t border-gray-200 p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsxs("button",{onClick:O,className:"flex items-center space-x-2 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:[l.jsx(GC,{className:"w-4 h-4"}),l.jsx("span",{children:"Save Draft"})]}),l.jsxs("button",{onClick:()=>b(!y),className:"flex items-center space-x-2 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:[l.jsx(du,{className:"w-4 h-4"}),l.jsx("span",{children:"Preview"})]})]}),l.jsxs("button",{onClick:L,disabled:!s.body.trim()||w.showSubject&&!s.subject.trim(),className:`flex items-center space-x-2 px-6 py-2 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${w.color==="blue"?"bg-blue-600 hover:bg-blue-700":w.color==="green"?"bg-green-600 hover:bg-green-700":"bg-purple-600 hover:bg-purple-700"} text-white`,children:[l.jsx(KC,{className:"w-4 h-4"}),l.jsxs("span",{children:["Send ",w.title]})]})]})})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Drafts"}),g.length>0?l.jsx("div",{className:"space-y-3",children:g.slice(0,5).map(C=>l.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>{i(C.mode),o(C.content)},children:[l.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:C.title}),l.jsx("div",{className:"text-xs text-gray-500 mt-1",children:new Date(C.createdAt).toLocaleDateString()})]},C.id))}):l.jsx("p",{className:"text-gray-500 text-sm",children:"No drafts saved yet"})]}),l.jsxs("div",{className:"bg-blue-50 rounded-lg p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"ðŸ’¡ Communication Tips"}),l.jsxs("ul",{className:"text-sm text-blue-800 space-y-2",children:[l.jsx("li",{children:"â€¢ Keep subject lines clear and engaging"}),l.jsx("li",{children:"â€¢ Include a clear call-to-action"}),l.jsx("li",{children:"â€¢ Use Stella for content inspiration"}),l.jsx("li",{children:"â€¢ Preview before sending"}),l.jsx("li",{children:"â€¢ Consider your audience's preferences"})]})]})]})]}),y&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h3",{className:"text-lg font-semibold",children:["Preview: ",w.title]}),l.jsx("button",{onClick:()=>b(!1),className:"text-gray-500 hover:text-gray-700",children:"âœ•"})]}),l.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[w.showSubject&&l.jsxs("div",{className:"mb-4",children:[l.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Subject:"}),l.jsx("div",{className:"font-semibold",children:s.subject||"No subject"})]}),l.jsx("div",{className:"whitespace-pre-wrap",children:s.body||"No content"})]})]})})})]})})};function gje(){const[t,e]=R.useState([]),[r,n]=R.useState("");return R.useEffect(()=>{async function a(){const{data:{session:i}}=await Ge.auth.getSession();if(!(i!=null&&i.access_token)){n("Authentication required.");return}try{const s=await fetch("/api/teacher-requests",{headers:{Authorization:`Bearer ${i.access_token}`}}),o=await s.json();s.ok?e(o):n(o.error||"Failed to load teacher requests.")}catch(s){console.error("Fetch error:",s),n("Error connecting to server.")}}a()},[]),l.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h1",{className:"text-2xl font-bold",children:"Teacher Requests"}),l.jsx(Yu,{to:"/teacher-requests/create",className:"bg-blue-600 text-white px-4 py-2 rounded",children:"+ New Request"})]}),r&&l.jsx("p",{className:"text-red-600",children:r}),t.length===0&&!r&&l.jsx("p",{children:"No teacher requests found."}),l.jsx("ul",{className:"space-y-4",children:t.map(a=>l.jsxs("li",{className:"border p-4 rounded shadow-sm bg-white",children:[l.jsx("h2",{className:"text-xl font-semibold",children:a.title}),l.jsxs("p",{className:"text-sm text-gray-500",children:["By ",a.teacher_name," (",a.grade_or_subject,")"]}),l.jsx("p",{className:"mt-2",children:a.description}),a.amount_requested&&l.jsxs("p",{className:"mt-2 text-blue-800 font-semibold",children:["Requested: $",parseFloat(a.amount_requested).toFixed(2)]})]},a.id))})]})}function vje(){const[t,e]=R.useState({title:"",description:"",amount_requested:"",teacher_name:"",grade_or_subject:""}),[r,n]=R.useState(""),[a,i]=R.useState(""),s=c=>{const{name:u,value:d}=c.target;e(f=>({...f,[u]:d}))},o=async c=>{c.preventDefault();const{data:{session:u}}=await Ge.auth.getSession();if(!(u!=null&&u.access_token)){i("You must be logged in to submit a request.");return}try{const d=await fetch("/api/teacher-requests",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u.access_token}`},body:JSON.stringify(t)}),f=await d.json();d.ok?(n("Request submitted successfully!"),i(""),e({})):(i(f.error||"Failed to submit request"),n(""))}catch(d){console.error("Submit error:",d),i("Network error or server unavailable")}};return l.jsxs("div",{className:"max-w-xl mx-auto p-4",children:[l.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Submit Teacher Request"}),l.jsxs("form",{onSubmit:o,className:"space-y-4",children:[l.jsx("input",{name:"title",value:t.title||"",onChange:s,placeholder:"Title",className:"w-full border p-2",required:!0}),l.jsx("textarea",{name:"description",value:t.description||"",onChange:s,placeholder:"Description",className:"w-full border p-2"}),l.jsx("input",{type:"number",name:"amount_requested",value:t.amount_requested||"",onChange:s,placeholder:"Amount Requested",className:"w-full border p-2"}),l.jsx("input",{name:"teacher_name",value:t.teacher_name||"",onChange:s,placeholder:"Teacher Name",className:"w-full border p-2"}),l.jsx("input",{name:"grade_or_subject",value:t.grade_or_subject||"",onChange:s,placeholder:"Grade or Subject",className:"w-full border p-2"}),l.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded",type:"submit",children:"Submit"}),r&&l.jsx("p",{className:"text-green-600",children:r}),a&&l.jsx("p",{className:"text-red-600",children:a})]})]})}function yje(){const[t,e]=R.useState(!1),[r,n]=R.useState(""),[a,i]=R.useState("monthly"),s=async()=>{var o;e(!0),n("");try{const u=(o=(await Ge.auth.getSession()).data.session)==null?void 0:o.access_token;if(!u){n("User session not found."),e(!1);return}const d=await fetch("undefined/api/stripe/create-checkout-session",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`},body:JSON.stringify({plan:a})});if(!d.ok){const h=await d.text();throw console.error("Stripe error response:",h),new Error("Stripe request failed.")}const f=await d.json();f!=null&&f.url?window.location.href=f.url:n("Checkout session failed to start.")}catch(c){console.error("Checkout error:",c),n("An error occurred during checkout.")}finally{e(!1)}};return l.jsxs("div",{className:"max-w-xl mx-auto p-6",children:[l.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Start Your PTO Connect Subscription"}),l.jsx("p",{className:"mb-4",children:"Subscribe now to unlock all features for your PTO group."}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block font-medium mb-1",children:"Choose a plan:"}),l.jsxs("select",{className:"border p-2 rounded w-full",value:a,onChange:o=>i(o.target.value),children:[l.jsx("option",{value:"monthly",children:"Monthly - $29/month"}),l.jsx("option",{value:"annual",children:"Annual - $299/year"})]})]}),l.jsx("button",{onClick:s,disabled:t,className:"bg-blue-600 text-white px-4 py-2 rounded",children:t?"Redirectingâ€¦":"Subscribe Now"}),r&&l.jsx("p",{className:"text-red-600 mt-4",children:r})]})}function bje(){return l.jsxs("div",{className:"max-w-xl mx-auto p-6 text-center",children:[l.jsx("h1",{className:"text-2xl font-bold text-green-600 mb-4",children:"Subscription Successful!"}),l.jsx("p",{className:"text-gray-700",children:"Thank you for subscribing to PTO Connect. Your account is now active."})]})}function xje(){return l.jsxs("div",{className:"max-w-xl mx-auto p-6 text-center",children:[l.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Checkout Canceled"}),l.jsx("p",{className:"text-gray-700",children:"You canceled the checkout process. No charges were made."})]})}function wje(){const[t,e]=R.useState(""),[r,n]=R.useState(""),[a,i]=R.useState(""),[s,o]=R.useState(""),c=xr(),u=()=>{if(o(""),!t||!r){o("PTO Name and School Name are required.");return}const d={ptoName:t,schoolName:r,districtName:a};sessionStorage.setItem("pendingPto",JSON.stringify(d)),c("/onboarding/pricing")};return l.jsxs("div",{className:"max-w-xl mx-auto p-6",children:[l.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Create Your PTO"}),l.jsx("p",{className:"text-gray-700 mb-6",children:"Let's start by getting your organization set up. Enter your PTO's info below."}),l.jsx("input",{className:"border p-2 w-full mb-4",type:"text",placeholder:"PTO Name",value:t,onChange:d=>e(d.target.value)}),l.jsx("input",{className:"border p-2 w-full mb-4",type:"text",placeholder:"School Name",value:r,onChange:d=>n(d.target.value)}),l.jsx("input",{className:"border p-2 w-full mb-4",type:"text",placeholder:"District Name (optional)",value:a,onChange:d=>i(d.target.value)}),l.jsx("button",{onClick:u,className:"bg-blue-600 text-white px-4 py-2 rounded w-full",children:"Continue to Plan Selection"}),s&&l.jsx("p",{className:"text-red-600 mt-4",children:s})]})}function Sje(){const[t,e]=R.useState(null),[r,n]=R.useState([]),[a,i]=R.useState("");xr(),R.useEffect(()=>{const o=sessionStorage.getItem("pendingPto");o?e(JSON.parse(o)):i("Missing PTO info. Please start again."),fetch("/api/stripe/get-prices").then(c=>c.json()).then(n).catch(()=>i("Could not load pricing. Please try again."))},[]);const s=async(o,c)=>{try{const d=await(await fetch("/api/stripe/create-checkout-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({priceId:o,ptoMetadata:t,plan:c==="annual_plan"?"annual":"monthly"})})).json();d.url?window.location.href=d.url:i("Unable to start checkout session.")}catch{i("Stripe checkout error.")}};return l.jsxs("div",{className:"max-w-xl mx-auto p-6",children:[l.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Choose Your Plan"}),a&&l.jsx("p",{className:"text-red-600 mb-4",children:a}),l.jsx("div",{className:"space-y-4",children:r.map(o=>l.jsxs("button",{onClick:()=>s(o.id,o.lookup_key),className:"w-full py-3 rounded bg-blue-600 text-white hover:bg-blue-700",children:[o.nickname||o.lookup_key," â€“ $",o.amount,"/",o.interval]},o.id))})]})}function Nje(){const[t]=eT(),e=xr(),[r,n]=R.useState({adminName:"",adminEmail:"",adminPassword:"",confirmPassword:""}),[a,i]=R.useState(null),[s,o]=R.useState(!1),[c,u]=R.useState("");R.useEffect(()=>{const h=t.get("session_id"),p=sessionStorage.getItem("pendingPto");if(!p){u("Missing PTO information. Please start the signup process again.");return}i(JSON.parse(p)),h&&sessionStorage.setItem("stripeSessionId",h)},[t]);const d=h=>{n({...r,[h.target.name]:h.target.value})},f=async h=>{if(h.preventDefault(),u(""),o(!0),!r.adminName||!r.adminEmail||!r.adminPassword){u("All fields are required."),o(!1);return}if(r.adminPassword!==r.confirmPassword){u("Passwords do not match."),o(!1);return}if(r.adminPassword.length<6){u("Password must be at least 6 characters."),o(!1);return}try{const p=sessionStorage.getItem("stripeSessionId"),g=await Wr.post("/signup/complete",{ptoName:a.ptoName,schoolName:a.schoolName,adminName:r.adminName,adminEmail:r.adminEmail,adminPassword:r.adminPassword,stripeSessionId:p});g.success?(sessionStorage.removeItem("pendingPto"),sessionStorage.removeItem("stripeSessionId"),e("/onboarding/next-steps",{state:{organization:g.organization}})):u(g.error||"Failed to create account.")}catch(p){console.error("Signup error:",p),u("Failed to create account. Please try again.")}finally{o(!1)}};return a?l.jsxs("div",{className:"max-w-md mx-auto p-6",children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Complete Your Setup"}),l.jsxs("p",{className:"text-gray-600",children:["Creating ",l.jsx("strong",{children:a.ptoName})," at ",a.schoolName]})]}),l.jsxs("form",{onSubmit:f,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Full Name"}),l.jsx("input",{type:"text",name:"adminName",value:r.adminName,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your full name",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),l.jsx("input",{type:"email",name:"adminEmail",value:r.adminEmail,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your email",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),l.jsx("input",{type:"password",name:"adminPassword",value:r.adminPassword,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Create a password",minLength:"6",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),l.jsx("input",{type:"password",name:"confirmPassword",value:r.confirmPassword,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Confirm your password",minLength:"6",required:!0})]}),c&&l.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:c}),l.jsx("button",{type:"submit",disabled:s,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Creating Account...":"Complete Setup"})]}),l.jsx("div",{className:"mt-6 text-center text-sm text-gray-500",children:l.jsx("p",{children:"By creating an account, you agree to our Terms of Service and Privacy Policy."})})]}):l.jsxs("div",{className:"max-w-md mx-auto p-6 text-center",children:[l.jsx("h1",{className:"text-2xl font-bold mb-4 text-red-600",children:"Setup Error"}),l.jsx("p",{className:"text-gray-700 mb-4",children:"Missing PTO information. Please start the signup process again."}),l.jsx("button",{onClick:()=>e("/onboarding/create-pto"),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Start Over"})]})}function jje(){const t=xr(),[e,r]=R.useState({ptoName:"",schoolName:"",adminName:"",adminEmail:"",adminPassword:"",confirmPassword:""}),[n,a]=R.useState(!1),[i,s]=R.useState(""),[o,c]=R.useState(null),u=f=>{r({...e,[f.target.name]:f.target.value})},d=async f=>{var h;if(f.preventDefault(),s(""),a(!0),!e.ptoName||!e.schoolName||!e.adminName||!e.adminEmail||!e.adminPassword){s("All fields are required."),a(!1);return}if(e.adminPassword!==e.confirmPassword){s("Passwords do not match."),a(!1);return}if(e.adminPassword.length<6){s("Password must be at least 6 characters."),a(!1);return}try{const p=await Wr.post("/signup/complete",{ptoName:e.ptoName,schoolName:e.schoolName,adminName:e.adminName,adminEmail:e.adminEmail,adminPassword:e.adminPassword});p.data&&p.data.success?(c(p.data.organization),s("")):s(((h=p.data)==null?void 0:h.error)||"Failed to create account.")}catch(p){console.error("Signup error:",p),s("Failed to create account. Please try again.")}finally{a(!1)}};return o?l.jsxs("div",{className:"max-w-md mx-auto p-6 text-center",children:[l.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6 mb-6",children:[l.jsx("h1",{className:"text-2xl font-bold text-green-800 mb-4",children:"Success! ðŸŽ‰"}),l.jsxs("p",{className:"text-green-700 mb-4",children:["Your organization ",l.jsx("strong",{children:o.name})," has been created successfully!"]}),l.jsxs("div",{className:"bg-white border border-green-300 rounded p-4 mb-4",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Your signup code:"}),l.jsx("p",{className:"text-lg font-mono font-bold text-green-800",children:o.signup_code})]}),l.jsx("p",{className:"text-sm text-green-600",children:"Share this code with other members to join your organization."})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("button",{onClick:()=>t("/login"),className:"w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700",children:"Go to Login"}),l.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-gray-200 text-gray-800 py-2 px-4 rounded hover:bg-gray-300",children:"Create Another Organization"})]})]}):l.jsxs("div",{className:"max-w-md mx-auto p-6",children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Create Your PTO Organization"}),l.jsx("p",{className:"text-gray-600",children:"Set up your PTO and create your admin account"})]}),l.jsxs("form",{onSubmit:d,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"PTO Name"}),l.jsx("input",{type:"text",name:"ptoName",value:e.ptoName,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Lincoln Elementary PTO",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"School Name"}),l.jsx("input",{type:"text",name:"schoolName",value:e.schoolName,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Lincoln Elementary School",required:!0})]}),l.jsx("hr",{className:"my-4"}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Full Name"}),l.jsx("input",{type:"text",name:"adminName",value:e.adminName,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your full name",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),l.jsx("input",{type:"email",name:"adminEmail",value:e.adminEmail,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your email",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),l.jsx("input",{type:"password",name:"adminPassword",value:e.adminPassword,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Create a password",minLength:"6",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),l.jsx("input",{type:"password",name:"confirmPassword",value:e.confirmPassword,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Confirm your password",minLength:"6",required:!0})]}),i&&l.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:i}),l.jsx("button",{type:"submit",disabled:n,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Creating Organization...":"Create Organization"})]}),l.jsxs("div",{className:"mt-6 text-center text-sm text-gray-500",children:[l.jsx("p",{children:"This will create a trial organization (14 days)"}),l.jsxs("p",{className:"mt-2",children:["Already have an account? ",l.jsx("a",{href:"/login",className:"text-blue-600 hover:underline",children:"Login here"})]})]})]})}function Aje(){var s;const t=QC(),e=xr(),[r,n]=R.useState(!1),a=(s=t.state)==null?void 0:s.organization,i=()=>{a!=null&&a.signup_code&&(navigator.clipboard.writeText(a.signup_code),n(!0),setTimeout(()=>n(!1),2e3))};return a?l.jsxs("div",{className:"max-w-2xl mx-auto p-6",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx(In,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome to PTO Connect!"}),l.jsxs("p",{className:"text-lg text-gray-600",children:["Your organization ",l.jsx("strong",{children:a.name})," has been successfully created."]})]}),l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-8",children:[l.jsx("h2",{className:"text-xl font-semibold text-blue-900 mb-4",children:"Your Organization Details"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-blue-800",children:"Organization Name:"}),l.jsx("span",{className:"ml-2 text-blue-700",children:a.name})]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-blue-800",children:"Organization ID:"}),l.jsx("span",{className:"ml-2 text-blue-700 font-mono text-sm",children:a.slug})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:"font-medium text-blue-800",children:"Signup Code:"}),l.jsx("span",{className:"ml-2 text-blue-700 font-mono text-lg font-bold",children:a.signup_code}),l.jsx("button",{onClick:i,className:"ml-2 p-1 text-blue-600 hover:text-blue-800",title:"Copy signup code",children:l.jsx(VC,{className:"w-4 h-4"})}),r&&l.jsx("span",{className:"ml-2 text-green-600 text-sm",children:"Copied!"})]})]})]}),l.jsxs("div",{className:"mb-8",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Next Steps to Get Started"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-gray-50 rounded-lg",children:[l.jsx($a,{className:"w-6 h-6 text-blue-600 mt-1"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:"Invite Your Team"}),l.jsxs("p",{className:"text-gray-600 text-sm",children:["Share your signup code ",l.jsx("strong",{children:a.signup_code})," with other PTO members, teachers, and parents so they can join your organization."]})]})]}),l.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-gray-50 rounded-lg",children:[l.jsx(ZC,{className:"w-6 h-6 text-blue-600 mt-1"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:"Configure Your Settings"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"Set up your organization preferences, communication settings, and user roles."})]})]}),l.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-gray-50 rounded-lg",children:[l.jsx(ea,{className:"w-6 h-6 text-blue-600 mt-1"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:"Create Your First Event"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"Start engaging your community by creating your first PTO event or meeting."})]})]})]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[l.jsx("button",{onClick:()=>e("/login"),className:"flex-1 bg-blue-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"Go to Dashboard"}),l.jsx("button",{onClick:()=>e("/onboarding/create-pto"),className:"flex-1 bg-gray-200 text-gray-800 py-3 px-6 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Create Another PTO"})]}),l.jsxs("div",{className:"mt-8 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[l.jsx("h3",{className:"font-semibold text-yellow-800 mb-2",children:"Need Help?"}),l.jsx("p",{className:"text-yellow-700 text-sm",children:"Check out our getting started guide or contact support if you need assistance setting up your PTO organization."})]})]}):l.jsxs("div",{className:"max-w-md mx-auto p-6 text-center",children:[l.jsx("h1",{className:"text-2xl font-bold mb-4 text-red-600",children:"Setup Error"}),l.jsx("p",{className:"text-gray-700 mb-4",children:"Missing organization information. Please complete the signup process."}),l.jsx("button",{onClick:()=>e("/onboarding/create-pto"),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Start Setup"})]})}function _je(){return l.jsxs(VR,{children:[l.jsx(We,{path:"/",element:l.jsx(qS,{})}),l.jsx(We,{path:"/login",element:l.jsx(qS,{})}),l.jsx(We,{path:"/signup",element:l.jsx(AL,{})}),l.jsx(We,{path:"/unauthorized",element:l.jsx(_L,{})}),l.jsx(We,{path:"/onboarding/create-pto",element:l.jsx(wje,{})}),l.jsx(We,{path:"/onboarding/pricing",element:l.jsx(Sje,{})}),l.jsx(We,{path:"/onboarding/complete-signup",element:l.jsx(Nje,{})}),l.jsx(We,{path:"/onboarding/simple-signup",element:l.jsx(jje,{})}),l.jsx(We,{path:"/onboarding/next-steps",element:l.jsx(Aje,{})}),l.jsx(We,{path:"/billing/success",element:l.jsx(bje,{})}),l.jsx(We,{path:"/billing/cancel",element:l.jsx(xje,{})}),l.jsx(We,{element:l.jsx(Jo,{allowedRoles:["admin","board_member","committee_lead","volunteer","parent_member","teacher"]}),children:l.jsx(We,{element:l.jsx(el,{}),children:l.jsx(We,{path:"/dashboard",element:l.jsx(CL,{})})})}),l.jsx(We,{element:l.jsx(Jo,{allowedRoles:["admin"]}),children:l.jsxs(We,{element:l.jsx(el,{}),children:[l.jsx(We,{path:"/dashboard/admin",element:l.jsx(G0,{})}),l.jsx(We,{path:"/admin/permissions",element:l.jsx(FL,{})}),l.jsx(We,{path:"/admin/users",element:l.jsx(G0,{})}),l.jsx(We,{path:"/admin/settings",element:l.jsx(G0,{})}),l.jsx(We,{path:"/billing",element:l.jsx(yje,{})}),l.jsx(We,{path:"/events",element:l.jsx(Oj,{})}),l.jsx(We,{path:"/events/legacy",element:l.jsx(Oj,{})}),l.jsx(We,{path:"/events/create",element:l.jsx(xee,{})}),l.jsx(We,{path:"/events/create-enhanced",element:l.jsx(Aee,{})}),l.jsx(We,{path:"/events/:eventId/workflow",element:l.jsx(Cse,{})}),l.jsx(We,{path:"/events/:eventId/event-management",element:l.jsx($se,{})}),l.jsx(We,{path:"/events/edit/:id",element:l.jsx(Tse,{})}),l.jsx(We,{path:"/events/calendar",element:l.jsx(Dse,{})}),l.jsx(We,{path:"/events/detail/:id",element:l.jsx(Mse,{})}),l.jsx(We,{path:"/calendar",element:l.jsx(Wle,{})}),l.jsx(We,{path:"/fundraisers",element:l.jsx(kSe,{})}),l.jsx(We,{path:"/fundraisers/create",element:l.jsx(IM,{})}),l.jsx(We,{path:"/fundraisers/:id/edit",element:l.jsx(PSe,{})}),l.jsx(We,{path:"/fundraisers/:id/analytics",element:l.jsx(LM,{})}),l.jsx(We,{path:"/budget",element:l.jsx(MSe,{})}),l.jsx(We,{path:"/budget/legacy",element:l.jsx(DSe,{})}),l.jsx(We,{path:"/budget/create",element:l.jsx(RSe,{})}),l.jsx(We,{path:"/budget/reconciliation",element:l.jsx(LSe,{})}),l.jsx(We,{path:"/budget/reconciliation/new",element:l.jsx(JNe,{})}),l.jsx(We,{path:"/budget/reconciliation/:id",element:l.jsx(WM,{})}),l.jsx(We,{path:"/communications",element:l.jsx(nje,{})}),l.jsx(We,{path:"/communications/legacy",element:l.jsx(rje,{})}),l.jsx(We,{path:"/communications/create",element:l.jsx(aje,{})}),l.jsx(We,{path:"/communications/email",element:l.jsx(km,{})}),l.jsx(We,{path:"/communications/sms",element:l.jsx(ije,{})}),l.jsx(We,{path:"/communications/social",element:l.jsx(sje,{})}),l.jsx(We,{path:"/communications/ai",element:l.jsx(km,{})}),l.jsx(We,{path:"/communications/design-studio",element:l.jsx(km,{})}),l.jsx(We,{path:"/communications/template-builder",element:l.jsx(km,{})}),l.jsx(We,{path:"/documents",element:l.jsx(lje,{})}),l.jsx(We,{path:"/documents/upload",element:l.jsx(uje,{})}),l.jsx(We,{path:"/shared-library",element:l.jsx(fje,{})}),l.jsx(We,{path:"/ai-event-ideas",element:l.jsx(hje,{})}),l.jsx(We,{path:"/ai-workflow-orchestrator",element:l.jsx(mje,{})})]})}),l.jsx(We,{element:l.jsx(Jo,{allowedRoles:["teacher"]}),children:l.jsxs(We,{element:l.jsx(el,{}),children:[l.jsx(We,{path:"/dashboard/teacher",element:l.jsx(HL,{})}),l.jsx(We,{path:"/teacher-requests",element:l.jsx(gje,{})}),l.jsx(We,{path:"/teacher-requests/create",element:l.jsx(vje,{})})]})}),l.jsx(We,{element:l.jsx(Jo,{allowedRoles:["board_member"]}),children:l.jsx(We,{element:l.jsx(el,{}),children:l.jsx(We,{path:"/dashboard/board",element:l.jsx(BL,{})})})}),l.jsx(We,{element:l.jsx(Jo,{allowedRoles:["committee_lead"]}),children:l.jsx(We,{element:l.jsx(el,{}),children:l.jsx(We,{path:"/dashboard/committee",element:l.jsx(UL,{})})})}),l.jsx(We,{element:l.jsx(Jo,{allowedRoles:["volunteer"]}),children:l.jsx(We,{element:l.jsx(el,{}),children:l.jsx(We,{path:"/dashboard/volunteer",element:l.jsx(zL,{})})})}),l.jsx(We,{element:l.jsx(Jo,{allowedRoles:["parent_member"]}),children:l.jsx(We,{element:l.jsx(el,{}),children:l.jsx(We,{path:"/dashboard/parent",element:l.jsx(WL,{})})})})]})}lx.createRoot(document.getElementById("root")).render(l.jsx(z.StrictMode,{children:l.jsx(YR,{children:l.jsx(_je,{})})}));export{fl as _};
//# sourceMappingURL=index-CieS2TR_.js.map
