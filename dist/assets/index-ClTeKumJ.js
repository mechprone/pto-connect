const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index.es-MyBatC76.js","assets/react-vendor-Cx5d5nzo.js","assets/ui-vendor-BN92Wxqi.js","assets/supabase-BqcIUn8s.js","assets/data-vendor-CNUbYe5o.js"])))=>i.map(i=>d[i]);
import{j as y,L as sI,B as lI,a as U8,G as V8,S as z8,C as sd,U as cI,b as Ua,c as hg,E as n0,d as i0,T as uI,P as Lt,D as W8,e as q8,f as fI,F as dI,g as hI,h as pI,i as vI,k as G8,l as gI,m as mI,n as yI,o as bI,p as xI,q as wI,r as K8,s as _I,t as SI,A as bC,u as xC,v as TI,w as zc,M as im,x as CI,y as wC,z as _C,H as EI,I as OI,J as AI,K as SC,N as NI,O as PI,Q as jI}from"./ui-vendor-BN92Wxqi.js";import{b as kI,r as ye,N as g2,O as HS,u as Oa,d as Y8,L as iu,e as m1,g as hn,f as Se,c as Ga,h as X8,i as MI,j as LI,k as ur,B as DI}from"./react-vendor-Cx5d5nzo.js";import{c as II,_ as Z5}from"./supabase-BqcIUn8s.js";import{a as Dl}from"./data-vendor-CNUbYe5o.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function e(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=e(i);fetch(i.href,o)}})();var J5={},TC=kI;J5.createRoot=TC.createRoot,J5.hydrateRoot=TC.hydrateRoot;const RI="https://dakyetfomciihdiuwrbx.supabase.co",FI="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRha3lldGZvbWNpaWhkaXV3cmJ4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwODgzNDYsImV4cCI6MjA2MzY2NDM0Nn0.ylHsHeu-XoB2SRA4YDCLThjFk-Lq8jyK2RnsWk1JBiw",jr=II(RI,FI);function tf(){const[n,t]=ye.useState(null),[e,r]=ye.useState(null),[i,o]=ye.useState(!0),[a,s]=ye.useState(null);return ye.useEffect(()=>{const d=async()=>{try{o(!0),s(null);const{data:{user:g},error:x}=await jr.auth.getUser();if(x)throw x;if(!g){t(null),r(null),o(!1);return}const{data:b,error:_}=await jr.from("profiles").select("*").eq("id",g.id).single();if(_)throw _;t(b);let S=null;if(b!=null&&b.org_id){const{data:T,error:C}=await jr.from("organizations").select("*").eq("id",b.org_id).single();C||(S=T)}r(S)}catch(g){console.error("Error fetching user profile:",g),s(g.message)}finally{o(!1)}};d();const{data:{subscription:m}}=jr.auth.onAuthStateChange((g,x)=>{g==="SIGNED_OUT"?(t(null),r(null)):g==="SIGNED_IN"&&x&&d()});return()=>m.unsubscribe()},[]),{profile:n,organization:e,loading:i,error:a,updateProfile:async d=>{try{const{data:m,error:g}=await jr.from("profiles").update(d).eq("id",n.id).select().single();if(g)throw g;return t(x=>({...x,...m})),{data:m,error:null}}catch(m){return console.error("Error updating profile:",m),{data:null,error:m.message}}},hasRole:d=>(n==null?void 0:n.role)===d,hasAnyRole:d=>d.includes(n==null?void 0:n.role),isSubscriptionActive:()=>{if(!e)return!1;const{subscription_status:d,trial_ends_at:m}=e;return d==="active"||d==="trial"&&m&&new Date(m)>new Date},showRenewalBanner:()=>{if(!e)return!1;const{plan_type:d,subscription_status:m,cancel_at_period_end:g,current_period_end:x}=e;return!!(d==="annual"&&m==="active"&&g&&x&&new Date(x)-new Date<15*24*60*60*1e3)},isAuthenticated:!!n}}function $S({size:n="default",className:t=""}){const e={small:"h-4 w-4",default:"h-6 w-6",large:"h-8 w-8"};return y.jsx("div",{className:"flex items-center justify-center",children:y.jsx(sI,{className:`animate-spin text-blue-600 ${e[n]} ${t}`})})}function Lf({allowedRoles:n}){const{profile:t,loading:e,isAuthenticated:r,isSubscriptionActive:i}=tf();return e?y.jsx("div",{className:"min-h-screen flex items-center justify-center",children:y.jsx($S,{size:"xl"})}):r?n&&!n.includes(t.role)?y.jsx(g2,{to:"/unauthorized",replace:!0}):!i()&&window.location.pathname!=="/billing"?y.jsx(g2,{to:"/billing",replace:!0}):y.jsx(HS,{}):y.jsx(g2,{to:"/login",replace:!0})}const oo=Dl.create({baseURL:"https://api.ptoconnect.com/api",timeout:3e4,headers:{"Content-Type":"application/json"}});oo.interceptors.request.use(async n=>{console.log("🔍 [FRONTEND DEBUG] API Request interceptor started"),console.log("🔍 [FRONTEND DEBUG] Request URL:",n.url),console.log("🔍 [FRONTEND DEBUG] Request method:",n.method);try{const{data:{session:t}}=await jr.auth.getSession();console.log("🔍 [FRONTEND DEBUG] Session retrieved:",!!t),console.log("🔍 [FRONTEND DEBUG] Access token present:",!!(t!=null&&t.access_token)),t!=null&&t.access_token?(n.headers.Authorization=`Bearer ${t.access_token}`,console.log("🔍 [FRONTEND DEBUG] Auth header set, token length:",t.access_token.length)):console.warn("⚠️ [FRONTEND DEBUG] No access token found in session")}catch(t){console.error("❌ [FRONTEND DEBUG] Error getting session:",t)}return console.log("🔍 [FRONTEND DEBUG] Final request headers:",n.headers),n},n=>(console.error("❌ [FRONTEND DEBUG] Request interceptor error:",n),Promise.reject(n)));oo.interceptors.response.use(n=>(console.log("✅ [FRONTEND DEBUG] API Response received:",{url:n.config.url,status:n.status,statusText:n.statusText,dataKeys:Object.keys(n.data||{})}),n),n=>{var t,e,r,i,o;return console.error("❌ [FRONTEND DEBUG] API Response error:",{url:(t=n.config)==null?void 0:t.url,status:(e=n.response)==null?void 0:e.status,statusText:(r=n.response)==null?void 0:r.statusText,errorData:(i=n.response)==null?void 0:i.data,errorMessage:n.message}),((o=n.response)==null?void 0:o.status)===401&&(console.warn("🚫 [FRONTEND DEBUG] Unauthorized - redirecting to login"),window.location.href="/login"),Promise.reject(n)});const si=async(n,t,e=null,r={})=>{var i,o;try{return{data:(await oo({method:n,url:t,data:e,...r})).data,error:null}}catch(a){return console.error(`API Error (${n} ${t}):`,a),{data:null,error:((o=(i=a.response)==null?void 0:i.data)==null?void 0:o.message)||a.message||"An error occurred"}}},Rl={getFundraisers:()=>si("GET","/fundraiser"),getFundraiser:n=>si("GET",`/fundraiser/${n}`),createFundraiser:n=>si("POST","/fundraiser",n),updateFundraiser:(n,t)=>si("PUT",`/fundraiser/${n}`,t),deleteFundraiser:n=>si("DELETE",`/fundraiser/${n}`),getDonations:n=>si("GET",`/fundraiser/${n}/donations`),getFundraiserAnalytics:(n,t)=>si("GET",`/fundraiser/${n}/analytics${t?`?${new URLSearchParams(t)}`:""}`),getAllFundraisersAnalytics:n=>si("GET",`/fundraiser/analytics${n?`?${new URLSearchParams(n)}`:""}`),getAnalyticsOverview:n=>si("GET",`/fundraiser/analytics/overview${n?`?${new URLSearchParams(n)}`:""}`),getAnalyticsTrends:n=>si("GET",`/fundraiser/analytics/trends${n?`?${new URLSearchParams(n)}`:""}`),getAnalyticsDonorRetention:n=>si("GET",`/fundraiser/analytics/donor-retention${n?`?${new URLSearchParams(n)}`:""}`),getAnalyticsCampaigns:n=>si("GET",`/fundraiser/analytics/campaigns${n?`?${new URLSearchParams(n)}`:""}`),addDonation:(n,t)=>si("POST","/fundraiser/analytics/donations",{...t,fundraiser_id:n}),getFundraiserTopDonor:n=>si("GET",`/fundraiser/${n}/top-donor`),getDonationTiers:n=>si("GET",`/fundraiser/${n}/tiers`),createDonationTier:(n,t)=>si("POST",`/fundraiser/${n}/tiers`,t),updateDonationTier:(n,t,e)=>si("PUT",`/fundraiser/${n}/tiers/${t}`,e),deleteDonationTier:(n,t)=>si("DELETE",`/fundraiser/${n}/tiers/${t}`),getAnalyticsYears:()=>si("GET","/fundraiser/analytics/years"),getDonorYears:()=>si("GET","/fundraiser/donors/years"),getDonorData:(n,t,e,r)=>si("GET",`/fundraiser/donors${t||e||r?`?${new URLSearchParams({year:t,fundraiserId:e,type:r})}`:""}`),getDonorTypes:()=>si("GET","/fundraiser/donor-types")};function Z8(n){var t,e,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(t=0;t<i;t++)n[t]&&(e=Z8(n[t]))&&(r&&(r+=" "),r+=e)}else for(e in n)n[e]&&(r&&(r+=" "),r+=e);return r}function cn(){for(var n,t,e=0,r="",i=arguments.length;e<i;e++)(n=arguments[e])&&(t=Z8(n))&&(r&&(r+=" "),r+=t);return r}function BI(n){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e),e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n))}BI(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var US=n=>typeof n=="number"&&!isNaN(n),pg=n=>typeof n=="string",J8=n=>typeof n=="function",HI=n=>pg(n)||US(n),$I=n=>ye.isValidElement(n)||pg(n)||J8(n)||US(n),UI=1,Q8=()=>`${UI++}`,gc=new Map,Q5=[],CC=new Set,eN=()=>gc.size>0,VI=(n,{containerId:t})=>{var e;return(e=gc.get(t||1))==null?void 0:e.toasts.get(n)};function zI(n,t){var e;if(t)return!!((e=gc.get(t))!=null&&e.isToastActive(n));let r=!1;return gc.forEach(i=>{i.isToastActive(n)&&(r=!0)}),r}function WI(n){if(!eN()){Q5=Q5.filter(t=>n!=null&&t.options.toastId!==n);return}if(n==null||HI(n))gc.forEach(t=>{t.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let t=gc.get(n.containerId);t?t.removeToast(n.id):gc.forEach(e=>{e.removeToast(n.id)})}}var qI=(n={})=>{gc.forEach(t=>{t.props.limit&&(!n.containerId||t.id===n.containerId)&&t.clearQueue()})};function GI(n,t){$I(n)&&(eN()||Q5.push({content:n,options:t}),gc.forEach(e=>{e.buildToast(n,t)}))}function tN(n,t){gc.forEach(e=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===e.id)&&e.toggle(n,t==null?void 0:t.id)})}function KI(n){return CC.add(n),()=>{CC.delete(n)}}function YI(n){return n&&(pg(n.toastId)||US(n.toastId))?n.toastId:Q8()}function y1(n,t){return GI(n,t),t.toastId}function Tb(n,t){return{...t,type:t&&t.type||n,toastId:YI(t)}}function Cb(n){return(t,e)=>y1(t,Tb(n,e))}function tn(n,t){return y1(n,Tb("default",t))}tn.loading=(n,t)=>y1(n,Tb("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function XI(n,{pending:t,error:e,success:r},i){let o;t&&(o=pg(t)?tn.loading(t,i):tn.loading(t.render,{...i,...t}));let a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},s=(c,u,f)=>{if(u==null){tn.dismiss(o);return}let h={type:c,...a,...i,data:f},d=pg(u)?{render:u}:u;return o?tn.update(o,{...h,...d}):tn(d.render,{...h,...d}),f},l=J8(n)?n():n;return l.then(c=>s("success",r,c)).catch(c=>s("error",e,c)),l}tn.promise=XI;tn.success=Cb("success");tn.info=Cb("info");tn.error=Cb("error");tn.warning=Cb("warning");tn.warn=tn.warning;tn.dark=(n,t)=>y1(n,Tb("default",{theme:"dark",...t}));function ZI(n){WI(n)}tn.dismiss=ZI;tn.clearWaitingQueue=qI;tn.isActive=zI;tn.update=(n,t={})=>{let e=VI(n,t);if(e){let{props:r,content:i}=e,o={delay:100,...r,...t,toastId:t.toastId||n,updateId:Q8()};o.toastId!==n&&(o.staleId=n);let a=o.render||i;delete o.render,y1(a,o)}};tn.done=n=>{tn.update(n,{progress:1})};tn.onChange=KI;tn.play=n=>tN(!0,n);tn.pause=n=>tN(!1,n);const Fl=(n,t="An error occurred")=>(console.error("Error:",n),tn.error(t),!1),pd=(n="Operation successful")=>(tn.success(n),!0);function JI(){const[n,t]=ye.useState([]),[e,r]=ye.useState(!1),[i,o]=ye.useState(null),[a,s]=ye.useState(!1),l=async()=>{try{r(!0);const{data:f}=await oo.get("/notifications");t(f),o(null)}catch(f){o("Failed to fetch notifications"),Fl(f,"Failed to fetch notifications")}finally{r(!1)}},c=async f=>{try{r(!0),await oo.put(`/notifications/${f}/read`),t(n.map(h=>h.id===f?{...h,read:!0}:h)),pd("Notification marked as read")}catch(h){Fl(h,"Failed to update notification")}finally{r(!1)}},u=async()=>{try{r(!0),await oo.delete("/notifications/clear-all"),t([]),pd("All notifications cleared")}catch(f){Fl(f,"Failed to clear notifications")}finally{r(!1)}};return ye.useEffect(()=>{l()},[]),e?y.jsx($S,{size:"sm"}):y.jsxs("div",{className:"relative",children:[y.jsxs("button",{onClick:()=>s(!a),className:"p-2 rounded-full hover:bg-gray-100 focus:outline-none",children:[y.jsx(lI,{className:"h-6 w-6 text-gray-600"}),n.length>0&&y.jsx("span",{className:"absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white transform translate-x-1/2 -translate-y-1/2 bg-red-500 rounded-full",children:n.length})]}),a&&y.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg z-50",children:[y.jsx("div",{className:"p-4 border-b",children:y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("h3",{className:"text-lg font-semibold",children:"Notifications"}),n.length>0&&y.jsx("button",{onClick:u,className:"text-sm text-gray-500 hover:text-gray-700",children:"Clear all"})]})}),y.jsx("div",{className:"max-h-96 overflow-y-auto",children:n.length===0?y.jsx("div",{className:"p-4 text-center text-gray-500",children:"No notifications"}):n.map(f=>y.jsxs("div",{className:`p-4 border-b hover:bg-gray-50 cursor-pointer ${f.read?"":"bg-blue-50"}`,onClick:()=>c(f.id),children:[y.jsx("p",{className:"text-sm",children:f.message}),y.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(f.created_at).toLocaleString()})]},f.id))})]})]})}function QI(){const n=Oa(),t=async()=>{await jr.auth.signOut(),localStorage.removeItem("access_token"),n("/login")};return y.jsx("button",{onClick:t,className:"text-sm bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded",children:"Logout"})}const eR=[{to:"/dashboard/admin",label:"Dashboard",roles:["admin"]},{to:"/events",label:"Events",roles:["admin","teacher","parent_member"]},{to:"/fundraisers",label:"Fundraisers",roles:["admin","treasurer"]},{to:"/budget",label:"Budget",roles:["admin","treasurer"]},{to:"/communications",label:"Communications",roles:["admin","committee_lead","teacher"]},{to:"/teacher-requests",label:"Teacher Requests",roles:["admin","teacher"]},{to:"/billing",label:"Billing",roles:["admin"]}];function tR({role:n}){const t=Y8(),e=eR.filter(r=>r.roles.includes(n));return y.jsx("aside",{className:"w-64 bg-white border-r shadow-sm hidden md:block",children:y.jsx("nav",{className:"px-4 py-6 space-y-2",children:e.map(r=>y.jsx(iu,{to:r.to,className:`block px-3 py-2 rounded text-sm font-medium ${t.pathname===r.to?"bg-blue-100 text-blue-700":"text-gray-700 hover:bg-gray-100"}`,children:r.label},r.to))})})}function rR(){return y.jsxs("footer",{className:"text-xs text-gray-500 text-center py-4 border-t bg-white",children:["PTO Connect © ",new Date().getFullYear()," — Need help? Visit our support page."]})}function nR(){const{showRenewalBanner:n,organization:t}=tf();return n()?y.jsxs("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-800 p-4 mb-4 flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("strong",{children:"Annual Subscription Expiring Soon:"})," Your annual subscription will expire on"," ",y.jsx("span",{className:"font-semibold",children:t!=null&&t.current_period_end?new Date(t.current_period_end).toLocaleDateString():"soon"}),". Please renew to avoid interruption."]}),y.jsx("a",{href:"/billing",className:"ml-4 px-4 py-2 bg-yellow-500 text-white rounded hover:bg-yellow-600 transition-colors",children:"Renew Now"})]}):null}function Df(){const[n,t]=ye.useState(null),[e,r]=ye.useState(null);return ye.useEffect(()=>{async function i(){const{data:{user:o}}=await jr.auth.getUser();t(o);const{data:a}=await jr.from("profiles").select("role").eq("id",o.id).single();r(a==null?void 0:a.role)}i()},[]),!n||!e?null:y.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[y.jsxs("header",{className:"bg-white shadow-sm px-6 py-4 flex justify-between items-center w-full",children:[y.jsx("span",{className:"text-xl font-bold text-blue-700",children:"PTO Connect"}),y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx(JI,{}),y.jsx(QI,{})]})]}),y.jsx(nR,{}),y.jsxs("div",{className:"flex flex-1",children:[y.jsx(tR,{role:e}),y.jsx("main",{className:"flex-1 p-6",children:y.jsx(HS,{})})]}),y.jsx(rR,{})]})}const iR={admin:"/dashboard/admin",board_member:"/dashboard/board",committee_lead:"/dashboard/committee",volunteer:"/dashboard/volunteer",parent_member:"/dashboard/parent",teacher:"/dashboard/teacher"},oR=n=>iR[n]||"/dashboard";function EC(){const[n,t]=ye.useState(""),[e,r]=ye.useState(""),[i,o]=ye.useState(""),[a,s]=ye.useState(!1),l=Oa(),c=async u=>{if(u&&u.preventDefault(),console.log("🔍 [LOGIN DEBUG] Login attempt started"),console.log("🔍 [LOGIN DEBUG] Email:",n),s(!0),o(""),!n||!e){console.log("❌ [LOGIN DEBUG] Missing email or password"),o("Email and password are required."),s(!1);return}console.log("🔍 [LOGIN DEBUG] Calling Supabase signInWithPassword...");const{data:f,error:h}=await jr.auth.signInWithPassword({email:n,password:e});if(console.log("🔍 [LOGIN DEBUG] Supabase response:",{user:!!(f!=null&&f.user),session:!!(f!=null&&f.session),error:h}),h||!(f!=null&&f.user)){console.error("❌ [LOGIN DEBUG] Login error:",h),o((h==null?void 0:h.message)||"Login failed."),s(!1);return}const d=f.user;console.log("🔍 [LOGIN DEBUG] User authenticated:",{id:d.id,email:d.email,user_metadata:d.user_metadata}),console.log("🔍 [LOGIN DEBUG] Fetching user profile...");const{data:m,error:g}=await jr.from("profiles").select("role, org_id, approved").eq("id",d.id).single();if(console.log("🔍 [LOGIN DEBUG] Profile query result:",{profile:m,profileError:g}),g||!m){console.error("❌ [LOGIN DEBUG] Profile fetch error:",g),o("Unable to load user profile. Please contact support."),s(!1);return}if(!m.approved){console.log("❌ [LOGIN DEBUG] User not approved"),o("Your account is pending approval. Please contact an administrator."),s(!1);return}const x=m.role;if(console.log("🔍 [LOGIN DEBUG] User role:",x),!x){console.log("❌ [LOGIN DEBUG] No role assigned"),o("Your account does not have a role assigned."),s(!1);return}console.log("🔍 [LOGIN DEBUG] Getting dashboard route for role:",x);const b=oR(x);console.log("🔍 [LOGIN DEBUG] Navigating to:",b),l(b),s(!1)};return y.jsxs("div",{className:"p-6 max-w-md mx-auto",children:[y.jsx("h1",{className:"text-xl font-bold mb-4",children:"Log In"}),y.jsxs("form",{onSubmit:c,className:"space-y-4",children:[y.jsx("input",{className:"border p-2 w-full rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",type:"email",value:n,onChange:u=>t(u.target.value),placeholder:"Email",required:!0,disabled:a,autoComplete:"email"}),y.jsx("input",{className:"border p-2 w-full rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",type:"password",value:e,onChange:u=>r(u.target.value),placeholder:"Password",required:!0,disabled:a,autoComplete:"current-password"}),y.jsx("button",{type:"submit",disabled:a,className:"bg-blue-600 text-white px-4 py-2 rounded w-full hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:a?"Logging in...":"Log In"}),i&&y.jsx("p",{className:"text-red-500 mt-2",children:i})]})]})}const aR=["admin","treasurer","board_member"];function sR(){const[n,t]=ye.useState(""),[e,r]=ye.useState(""),[i,o]=ye.useState(""),[a,s]=ye.useState("parent_member"),[l,c]=ye.useState(""),[u,f]=ye.useState(""),h=async()=>{if(c(""),f(""),!n||!e||!i||!a){c("All fields are required.");return}const{data:d,error:m}=await jr.from("organizations").select("id").ilike("signup_code",i).single();if(m||!(d!=null&&d.id)){console.error("PTO code lookup failed:",m),c("Invalid PTO code. Please check with your organization.");return}const g=d.id,{data:x,error:b}=await jr.auth.signUp({email:n,password:e,options:{data:{org_id:g,role:a}}});if(b||!(x!=null&&x.user)){console.error("Signup error:",b),c((b==null?void 0:b.message)||"Signup failed.");return}const _=x.user,S=!aR.includes(a),{data:T}=await jr.from("profiles").select("id").eq("id",_.id).maybeSingle();if(T){console.warn("Profile already exists, skipping insert."),f("Signup successful! You can now log in.");return}const{error:C}=await jr.from("profiles").insert([{id:_.id,email:n,org_id:g,role:a,approved:S}]);C?(console.error("Profile insert error:",C),c("Signup successful, but failed to save profile.")):(f(S?"Signup successful! You can now log in.":"Signup submitted. An admin must approve your role before you can access the system."),t(""),r(""),o(""),s("parent_member"))};return y.jsxs("div",{className:"p-6 max-w-md mx-auto",children:[y.jsx("h1",{className:"text-xl font-bold mb-4",children:"Sign Up"}),y.jsx("input",{className:"border p-2 w-full mb-2",type:"email",value:n,onChange:d=>t(d.target.value),placeholder:"Email",required:!0}),y.jsx("input",{className:"border p-2 w-full mb-2",type:"password",value:e,onChange:d=>r(d.target.value),placeholder:"Password",required:!0}),y.jsx("input",{className:"border p-2 w-full mb-2",type:"text",value:i,onChange:d=>o(d.target.value),placeholder:"PTO Code (e.g. abc123xy)",required:!0}),y.jsxs("select",{className:"border p-2 w-full mb-4",value:a,onChange:d=>s(d.target.value),required:!0,children:[y.jsx("option",{value:"parent_member",children:"Parent Member"}),y.jsx("option",{value:"teacher",children:"Teacher"}),y.jsx("option",{value:"volunteer",children:"Volunteer"}),y.jsx("option",{value:"committee_lead",children:"Committee Lead"}),y.jsx("option",{value:"board_member",children:"Board Member"}),y.jsx("option",{value:"treasurer",children:"Treasurer"}),y.jsx("option",{value:"admin",children:"Admin"})]}),y.jsx("button",{onClick:h,className:"bg-green-600 text-white px-4 py-2 rounded w-full",children:"Sign Up"}),l&&y.jsx("p",{className:"text-red-500 mt-2",children:l}),u&&y.jsx("p",{className:"text-green-600 mt-2",children:u})]})}function lR(){return y.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 p-6",children:y.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-8 max-w-md text-center",children:[y.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Access Denied"}),y.jsx("p",{className:"text-gray-700 mb-6",children:"You don’t have permission to view this page."}),y.jsx(iu,{to:"/",className:"inline-block bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Return to Home"})]})})}const cR=()=>{var S,T,C,w;const{userProfile:n}=tf(),[t,e]=ye.useState("membership"),[r,i]=ye.useState("6months"),[o,a]=ye.useState({membership:[],events:[],financial:[],engagement:[]}),[s,l]=ye.useState(!0);ye.useEffect(()=>{n!=null&&n.org_id&&c()},[n,r]);const c=async()=>{try{l(!0);const N=new Date,A=new Date;switch(r){case"3months":A.setMonth(N.getMonth()-3);break;case"6months":A.setMonth(N.getMonth()-6);break;case"1year":A.setFullYear(N.getFullYear()-1);break;default:A.setMonth(N.getMonth()-6)}const[j,R,L,M]=await Promise.all([u(A,N),f(A,N),h(A,N),d(A,N)]);a({membership:j,events:R,financial:L,engagement:M})}catch(N){console.error("Error fetching chart data:",N)}finally{l(!1)}},u=async(N,A)=>{const j=[],R=new Date(N);for(;R<=A;){const L=new Date(R.getFullYear(),R.getMonth(),1),M=new Date(R.getFullYear(),R.getMonth()+1,0),{count:I}=await jr.from("profiles").select("*",{count:"exact",head:!0}).eq("org_id",n.org_id).lte("created_at",M.toISOString());j.push({month:L.toLocaleDateString("en-US",{month:"short"}),value:I||0,date:L}),R.setMonth(R.getMonth()+1)}return j},f=async(N,A)=>{const{data:j}=await jr.from("events").select("event_date, title, status").eq("org_id",n.org_id).gte("event_date",N.toISOString()).lte("event_date",A.toISOString()).order("event_date"),R={};return j==null||j.forEach(L=>{const M=new Date(L.event_date).toLocaleDateString("en-US",{month:"short"});R[M]||(R[M]={total:0,completed:0}),R[M].total++,L.status==="completed"&&R[M].completed++}),Object.entries(R).map(([L,M])=>({month:L,total:M.total,completed:M.completed,success_rate:M.total>0?Math.round(M.completed/M.total*100):0}))},h=async(N,A)=>{const{data:j}=await jr.from("budget_entries").select("amount, type, category, created_at").eq("org_id",n.org_id).gte("created_at",N.toISOString()).lte("created_at",A.toISOString()),R={};return j==null||j.forEach(L=>{R[L.category]||(R[L.category]={income:0,expenses:0}),L.type==="income"?R[L.category].income+=L.amount:R[L.category].expenses+=L.amount}),Object.entries(R).map(([L,M])=>({category:L,income:M.income,expenses:M.expenses,net:M.income-M.expenses}))},d=async(N,A)=>{const j=[],R=new Date(N);for(;R<=A;){const L=R.toLocaleDateString("en-US",{month:"short"}),M=65,I=Math.random()*20-10,D=Math.max(0,Math.min(100,M+I));j.push({month:L,engagement:Math.round(D),email_opens:Math.round(D*.8),event_attendance:Math.round(D*.6),volunteer_participation:Math.round(D*.4)}),R.setMonth(R.getMonth()+1)}return j},m=(N,A,j="#3B82F6")=>{if(!N||N.length===0)return null;const R=Math.max(...N.map(D=>D[A]||0)),L=Math.min(...N.map(D=>D[A]||0)),M=R-L||1,I=N.map((D,V)=>{const F=V/(N.length-1)*100,G=100-((D[A]||0)-L)/M*80-10;return`${F},${G}`}).join(" ");return y.jsxs("div",{className:"relative h-64 bg-gray-50 rounded-lg p-4",children:[y.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[y.jsx("polyline",{fill:"none",stroke:j,strokeWidth:"0.5",points:I}),N.map((D,V)=>{const F=V/(N.length-1)*100,G=100-((D[A]||0)-L)/M*80-10;return y.jsx("circle",{cx:F,cy:G,r:"1",fill:j},V)})]}),y.jsx("div",{className:"absolute bottom-0 left-0 right-0 flex justify-between text-xs text-gray-500 px-4",children:N.map((D,V)=>y.jsx("span",{children:D.month},V))}),y.jsxs("div",{className:"absolute left-0 top-0 bottom-0 flex flex-col justify-between text-xs text-gray-500 py-4",children:[y.jsx("span",{children:R}),y.jsx("span",{children:Math.round((R+L)/2)}),y.jsx("span",{children:L})]})]})},g=(N,A,j="#10B981")=>{if(!N||N.length===0)return null;const R=Math.max(...N.map(L=>L[A]||0));return y.jsx("div",{className:"relative h-64 bg-gray-50 rounded-lg p-4",children:y.jsx("div",{className:"flex items-end justify-between h-full space-x-2",children:N.map((L,M)=>{const I=R>0?(L[A]||0)/R*100:0;return y.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[y.jsx("div",{className:"w-full rounded-t",style:{height:`${I}%`,backgroundColor:j,minHeight:I>0?"4px":"0"}}),y.jsx("span",{className:"text-xs text-gray-500 mt-2",children:L.month})]},M)})})})},x=N=>{if(!N||N.length===0)return null;const A=N.reduce((L,M)=>L+Math.abs(M.net||0),0);let j=0;const R=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6"];return y.jsxs("div",{className:"relative h-64 flex items-center justify-center",children:[y.jsxs("svg",{className:"w-48 h-48",viewBox:"0 0 100 100",children:[N.map((L,M)=>{const D=(A>0?Math.abs(L.net||0)/A:0)*360,V=j,F=j+D,G=50+35*Math.cos(V*Math.PI/180),W=50+35*Math.sin(V*Math.PI/180),Y=50+35*Math.cos(F*Math.PI/180),te=50+35*Math.sin(F*Math.PI/180),he=D>180?1:0,z=["M 50 50",`L ${G} ${W}`,`A 35 35 0 ${he} 1 ${Y} ${te}`,"Z"].join(" ");return j+=D,y.jsx("path",{d:z,fill:R[M%R.length],opacity:.8},M)}),y.jsx("circle",{cx:"50",cy:"50",r:"20",fill:"white"})]}),y.jsx("div",{className:"absolute right-0 top-0 space-y-2",children:N.map((L,M)=>y.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[y.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:R[M%R.length]}}),y.jsx("span",{className:"text-gray-700",children:L.category})]},M))})]})},b=()=>{const N=o[t],A="data:text/csv;charset=utf-8,"+Object.keys(N[0]||{}).join(",")+`
`+N.map(L=>Object.values(L).join(",")).join(`
`),j=encodeURI(A),R=document.createElement("a");R.setAttribute("href",j),R.setAttribute("download",`${t}_analytics.csv`),document.body.appendChild(R),R.click(),document.body.removeChild(R)},_={membership:{title:"Membership Growth",description:"Track member acquisition and retention over time",dataKey:"value",color:"#3B82F6"},events:{title:"Event Performance",description:"Monitor event frequency and success rates",dataKey:"total",color:"#10B981"},financial:{title:"Financial Distribution",description:"Analyze income and expenses by category",dataKey:"net",color:"#F59E0B"},engagement:{title:"Member Engagement",description:"Measure community participation and activity",dataKey:"engagement",color:"#8B5CF6"}};return s?y.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:y.jsxs("div",{className:"animate-pulse",children:[y.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-4"}),y.jsx("div",{className:"h-64 bg-gray-200 rounded"})]})}):y.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[y.jsxs("div",{className:"p-6 border-b border-gray-200",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Analytics Dashboard"}),y.jsxs("div",{className:"flex items-center space-x-4",children:[y.jsxs("select",{value:r,onChange:N=>i(N.target.value),className:"px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[y.jsx("option",{value:"3months",children:"Last 3 Months"}),y.jsx("option",{value:"6months",children:"Last 6 Months"}),y.jsx("option",{value:"1year",children:"Last Year"})]}),y.jsx("button",{onClick:b,className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm hover:bg-blue-700 transition-colors",children:"Export CSV"})]})]}),y.jsx("div",{className:"flex space-x-1 bg-gray-100 rounded-lg p-1",children:Object.entries(_).map(([N,A])=>y.jsx("button",{onClick:()=>e(N),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${t===N?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:A.title},N))})]}),y.jsxs("div",{className:"p-6",children:[y.jsxs("div",{className:"mb-4",children:[y.jsx("h3",{className:"text-lg font-medium text-gray-900",children:_[t].title}),y.jsx("p",{className:"text-sm text-gray-600",children:_[t].description})]}),y.jsxs("div",{className:"mb-6",children:[t==="membership"&&m(o.membership,_.membership.dataKey,_.membership.color),t==="events"&&g(o.events,_.events.dataKey,_.events.color),t==="financial"&&x(o.financial),t==="engagement"&&m(o.engagement,_.engagement.dataKey,_.engagement.color)]}),y.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 pt-4 border-t border-gray-200",children:[t==="membership"&&o.membership.length>0&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"text-center",children:[y.jsx("p",{className:"text-2xl font-bold text-blue-600",children:((S=o.membership[o.membership.length-1])==null?void 0:S.value)||0}),y.jsx("p",{className:"text-sm text-gray-600",children:"Current Members"})]}),y.jsxs("div",{className:"text-center",children:[y.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["+",o.membership.length>1?(((T=o.membership[o.membership.length-1])==null?void 0:T.value)||0)-(((C=o.membership[0])==null?void 0:C.value)||0):0]}),y.jsx("p",{className:"text-sm text-gray-600",children:"Growth"})]})]}),t==="events"&&o.events.length>0&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"text-center",children:[y.jsx("p",{className:"text-2xl font-bold text-green-600",children:o.events.reduce((N,A)=>N+A.total,0)}),y.jsx("p",{className:"text-sm text-gray-600",children:"Total Events"})]}),y.jsxs("div",{className:"text-center",children:[y.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[o.events.length>0?Math.round(o.events.reduce((N,A)=>N+A.success_rate,0)/o.events.length):0,"%"]}),y.jsx("p",{className:"text-sm text-gray-600",children:"Avg Success Rate"})]})]}),t==="financial"&&o.financial.length>0&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"text-center",children:[y.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["$",o.financial.reduce((N,A)=>N+A.income,0).toLocaleString()]}),y.jsx("p",{className:"text-sm text-gray-600",children:"Total Income"})]}),y.jsxs("div",{className:"text-center",children:[y.jsxs("p",{className:"text-2xl font-bold text-red-600",children:["$",o.financial.reduce((N,A)=>N+A.expenses,0).toLocaleString()]}),y.jsx("p",{className:"text-sm text-gray-600",children:"Total Expenses"})]})]}),t==="engagement"&&o.engagement.length>0&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"text-center",children:[y.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[((w=o.engagement[o.engagement.length-1])==null?void 0:w.engagement)||0,"%"]}),y.jsx("p",{className:"text-sm text-gray-600",children:"Current Engagement"})]}),y.jsxs("div",{className:"text-center",children:[y.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[o.engagement.length>0?Math.round(o.engagement.reduce((N,A)=>N+A.email_opens,0)/o.engagement.length):0,"%"]}),y.jsx("p",{className:"text-sm text-gray-600",children:"Avg Email Opens"})]})]})]})]})]})},uR=()=>{const{userProfile:n}=tf(),[t,e]=ye.useState([]),[r,i]=ye.useState("all"),[o,a]=ye.useState(!0);ye.useEffect(()=>{n!=null&&n.org_id&&s()},[n]);const s=async()=>{try{a(!0);const _=[],S=await l();_.push(...S);const T=await c();_.push(...T);const C=await u();_.push(...C);const w=await f();_.push(...w),_.sort((N,A)=>{const j={high:3,medium:2,low:1};return j[N.priority]!==j[A.priority]?j[A.priority]-j[N.priority]:new Date(A.timestamp)-new Date(N.timestamp)}),e(_)}catch(_){console.error("Error generating smart notifications:",_)}finally{a(!1)}},l=async()=>{const _=[];try{const{data:S}=await jr.from("budget_entries").select("amount, category, type").eq("org_id",n.org_id);if(S&&S.length>0){const T=S.filter(A=>A.type==="income").reduce((A,j)=>A+j.amount,0),C=S.filter(A=>A.type==="expense").reduce((A,j)=>A+j.amount,0),w=T>0?C/T*100:0;w>80?_.push({id:"budget-alert-1",type:"budget",priority:"high",title:"Budget Alert: Events Category",message:`Events budget is ${Math.round(w)}% spent with 3 months remaining. Consider reviewing upcoming event costs.`,timestamp:new Date().toISOString(),actionable:!0,actions:[{label:"Review Budget",action:"review_budget"},{label:"View Details",action:"view_details"}]}):w>60&&_.push({id:"budget-alert-2",type:"budget",priority:"medium",title:"Budget Tracking",message:`Budget is ${Math.round(w)}% utilized. On track for current period.`,timestamp:new Date().toISOString(),actionable:!1,actions:[]});const N=S.reduce((A,j)=>(A[j.category]||(A[j.category]={income:0,expenses:0}),j.type==="income"?A[j.category].income+=j.amount:A[j.category].expenses+=j.amount,A),{});Object.entries(N).forEach(([A,j])=>{const R=j.income>0?j.expenses/j.income*100:0;R>90&&_.push({id:`budget-category-${A}`,type:"budget",priority:"high",title:`${A} Budget Alert`,message:`${A} category is ${Math.round(R)}% spent. Immediate attention required.`,timestamp:new Date().toISOString(),actionable:!0,actions:[{label:"Review Category",action:"review_category"},{label:"Adjust Budget",action:"adjust_budget"}]})})}}catch(S){console.error("Error generating budget alerts:",S)}return _},c=async()=>{const _=[];try{const S=new Date;S.setDate(S.getDate()-30);const{count:T}=await jr.from("profiles").select("*",{count:"exact",head:!0}).eq("org_id",n.org_id).gte("created_at",S.toISOString()),{count:C}=await jr.from("profiles").select("*",{count:"exact",head:!0}).eq("org_id",n.org_id),w=C>0?T/C*100:0;w<5?_.push({id:"membership-growth-1",type:"membership",priority:"medium",title:"Membership Growth Trending Down",message:"New member registrations have decreased by 15% this month. Consider launching a recruitment campaign.",timestamp:new Date().toISOString(),actionable:!0,actions:[{label:"Start Campaign",action:"start_campaign"},{label:"View Analytics",action:"view_analytics"}]}):w>15&&_.push({id:"membership-growth-2",type:"membership",priority:"low",title:"Excellent Membership Growth",message:`Outstanding! New member registrations increased by ${Math.round(w)}% this month.`,timestamp:new Date().toISOString(),actionable:!1,actions:[]});const{count:N}=await jr.from("profiles").select("*",{count:"exact",head:!0}).eq("org_id",n.org_id).gte("last_sign_in_at",S.toISOString()),A=C>0?N/C*100:0;A<40&&_.push({id:"engagement-alert-1",type:"engagement",priority:"medium",title:"Low Member Engagement",message:`Only ${Math.round(A)}% of members were active this month. Consider increasing communication frequency.`,timestamp:new Date().toISOString(),actionable:!0,actions:[{label:"Send Newsletter",action:"send_newsletter"},{label:"Plan Event",action:"plan_event"}]})}catch(S){console.error("Error generating membership insights:",S)}return _},u=async()=>{const _=[];try{const S=new Date;S.setDate(S.getDate()+7);const{data:T}=await jr.from("events").select("id, title, event_date, volunteer_slots_needed, volunteer_slots_filled").eq("org_id",n.org_id).gte("event_date",new Date().toISOString()).lte("event_date",S.toISOString());T==null||T.forEach(N=>{const A=Math.ceil((new Date(N.event_date)-new Date)/864e5),j=(N.volunteer_slots_needed||0)-(N.volunteer_slots_filled||0);A<=3&&j>0?_.push({id:`event-volunteer-${N.id}`,type:"events",priority:"high",title:`Volunteer Shortage: ${N.title}`,message:`${N.title} in ${A} days needs ${j} more volunteers.`,timestamp:new Date().toISOString(),actionable:!0,actions:[{label:"Send Reminder",action:"send_reminder"},{label:"View Event",action:"view_event"}]}):A<=7&&_.push({id:`event-reminder-${N.id}`,type:"events",priority:"low",title:`Upcoming Event: ${N.title}`,message:`${N.title} is coming up in ${A} days. All preparations on track.`,timestamp:new Date().toISOString(),actionable:!1,actions:[]})});const{data:C}=await jr.from("events").select("id, title, event_date, updated_at").eq("org_id",n.org_id).gte("event_date",new Date().toISOString()),w=new Date;w.setDate(w.getDate()-14),C==null||C.forEach(N=>{new Date(N.updated_at)<w&&_.push({id:`event-stale-${N.id}`,type:"events",priority:"medium",title:`Event Needs Attention: ${N.title}`,message:`${N.title} hasn't been updated in 2 weeks. Consider reviewing event details.`,timestamp:new Date().toISOString(),actionable:!0,actions:[{label:"Update Event",action:"update_event"},{label:"View Details",action:"view_details"}]})})}catch(S){console.error("Error generating event alerts:",S)}return _},f=async()=>{const _=[];_.push({id:"goal-achievement-1",type:"goals",priority:"low",title:"Goal Achievement: Volunteer Hours",message:"Congratulations! Volunteer hours goal exceeded by 104% this quarter.",timestamp:new Date().toISOString(),actionable:!1,actions:[]});const S=new Date().getMonth();return S>=8&&S<=10&&_.push({id:"seasonal-insight-1",type:"seasonal",priority:"medium",title:"Fall Fundraising Opportunity",message:"Fall is peak fundraising season. Consider launching a major campaign now.",timestamp:new Date().toISOString(),actionable:!0,actions:[{label:"Create Campaign",action:"create_campaign"},{label:"View Templates",action:"view_templates"}]}),_.push({id:"communication-insight-1",type:"communication",priority:"low",title:"Communication Performance",message:"Email open rates increased by 8% this month. Great job on engaging content!",timestamp:new Date().toISOString(),actionable:!1,actions:[]}),_},h=(_,S)=>{switch(console.log(`Executing action: ${_} for notification: ${S}`),_){case"review_budget":break;case"start_campaign":break;case"send_reminder":break;case"view_analytics":break;default:console.log("Action not implemented:",_)}},d=_=>{e(S=>S.filter(T=>T.id!==_))},m=t.filter(_=>r==="all"?!0:r==="actionable"?_.actionable:_.type===r),g=_=>{switch(_){case"high":return"border-red-200 bg-red-50";case"medium":return"border-yellow-200 bg-yellow-50";case"low":return"border-blue-200 bg-blue-50";default:return"border-gray-200 bg-gray-50"}},x=_=>{switch(_){case"high":return y.jsx("svg",{className:"w-5 h-5 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})});case"medium":return y.jsx("svg",{className:"w-5 h-5 text-yellow-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})});case"low":return y.jsx("svg",{className:"w-5 h-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})});default:return null}},b=_=>{switch(_){case"budget":return y.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})});case"membership":return y.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})});case"events":return y.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})});case"engagement":return y.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})});default:return y.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5 5v-5zM4 19h5v-5H4v5zM13 13h5V8h-5v5zM4 8h5V3H4v5z"})})}};return o?y.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:y.jsxs("div",{className:"animate-pulse",children:[y.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/2 mb-4"}),y.jsxs("div",{className:"space-y-3",children:[y.jsx("div",{className:"h-16 bg-gray-200 rounded"}),y.jsx("div",{className:"h-16 bg-gray-200 rounded"}),y.jsx("div",{className:"h-16 bg-gray-200 rounded"})]})]})}):y.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[y.jsxs("div",{className:"p-6 border-b border-gray-200",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:y.jsx("svg",{className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5 5v-5zM4 19h5v-5H4v5zM13 13h5V8h-5v5zM4 8h5V3H4v5z"})})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Smart Notifications"}),y.jsx("p",{className:"text-sm text-gray-600",children:"AI-powered insights and alerts"})]})]}),y.jsx("button",{className:"text-blue-600 text-sm font-medium hover:text-blue-700",children:"View All"})]}),y.jsx("div",{className:"flex space-x-1 bg-gray-100 rounded-lg p-1",children:[{key:"all",label:"All"},{key:"actionable",label:"Actionable"},{key:"budget",label:"Budget"},{key:"events",label:"Events"},{key:"membership",label:"Members"}].map(({key:_,label:S})=>y.jsx("button",{onClick:()=>i(_),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${r===_?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:S},_))})]}),y.jsx("div",{className:"p-6",children:y.jsx("div",{className:"space-y-4",children:m.length===0?y.jsxs("div",{className:"text-center py-8",children:[y.jsx("svg",{className:"w-12 h-12 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),y.jsx("p",{className:"text-gray-500",children:"No notifications to display"})]}):m.map(_=>y.jsx("div",{className:`border rounded-lg p-4 ${g(_.priority)}`,children:y.jsxs("div",{className:"flex items-start justify-between",children:[y.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[y.jsxs("div",{className:"flex items-center space-x-2",children:[x(_.priority),y.jsx("div",{className:"text-gray-500",children:b(_.type)})]}),y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h4",{className:"font-medium text-gray-900",children:_.title}),y.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${_.priority==="high"?"bg-red-100 text-red-800":_.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:[_.priority," priority"]})]}),y.jsx("p",{className:"text-sm text-gray-600 mt-1",children:_.message}),y.jsx("p",{className:"text-xs text-gray-500 mt-2",children:new Date(_.timestamp).toLocaleString()}),_.actions.length>0&&y.jsx("div",{className:"flex items-center space-x-2 mt-3",children:_.actions.map((S,T)=>y.jsx("button",{onClick:()=>h(S.action,_.id),className:"px-3 py-1 bg-blue-600 text-white text-xs rounded hover:bg-blue-700 transition-colors",children:S.label},T))})]})]}),y.jsx("button",{onClick:()=>d(_.id),className:"text-gray-400 hover:text-gray-600 ml-2",children:y.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})},_.id))})})]})},fR=()=>{const{userProfile:n,loading:t}=tf(),[e,r]=ye.useState({metrics:{totalMembers:0,activeEvents:0,budgetUsed:0,engagementRate:0},recentActivity:[],upcomingEvents:[],pendingTasks:[],financialSummary:{totalBudget:0,spent:0,remaining:0,categories:[]}}),[i,o]=ye.useState(!0);ye.useEffect(()=>{n!=null&&n.org_id&&a()},[n]);const a=async()=>{try{o(!0);const b=[s(),l(),c(),u()],[_,S,T,C]=await Promise.all(b),[w,N,A]=await Promise.all([f(),h(),d()]);r({metrics:{totalMembers:_,activeEvents:S,budgetUsed:T.percentUsed,engagementRate:C},recentActivity:w,upcomingEvents:N,pendingTasks:A,financialSummary:T})}catch(b){console.error("Error fetching dashboard data:",b)}finally{o(!1)}},s=async()=>{const{count:b}=await jr.from("profiles").select("*",{count:"exact",head:!0}).eq("org_id",n.org_id);return b||0},l=async()=>{const{count:b}=await jr.from("events").select("*",{count:"exact",head:!0}).eq("org_id",n.org_id).gte("event_date",new Date().toISOString());return b||0},c=async()=>{const{data:b}=await jr.from("budget_entries").select("amount, category, type").eq("org_id",n.org_id);if(!b)return{percentUsed:0,totalBudget:0,spent:0,remaining:0,categories:[]};const _=b.filter(C=>C.type==="income").reduce((C,w)=>C+w.amount,0),S=b.filter(C=>C.type==="expense").reduce((C,w)=>C+w.amount,0),T=b.reduce((C,w)=>(C[w.category]||(C[w.category]={income:0,expenses:0}),w.type==="income"?C[w.category].income+=w.amount:C[w.category].expenses+=w.amount,C),{});return{totalBudget:_,spent:S,remaining:_-S,percentUsed:_>0?Math.round(S/_*100):0,categories:Object.entries(T).map(([C,w])=>({name:C,...w,net:w.income-w.expenses}))}},u=async()=>{const b=new Date;b.setDate(b.getDate()-30);const{count:_}=await jr.from("profiles").select("*",{count:"exact",head:!0}).eq("org_id",n.org_id).gte("last_sign_in_at",b.toISOString()),{count:S}=await jr.from("profiles").select("*",{count:"exact",head:!0}).eq("org_id",n.org_id);return S>0?Math.round(_/S*100):0},f=async()=>{const{data:b}=await jr.from("events").select("title, created_at, created_by").eq("org_id",n.org_id).order("created_at",{ascending:!1}).limit(5),{data:_}=await jr.from("profiles").select("first_name, last_name, created_at").eq("org_id",n.org_id).order("created_at",{ascending:!1}).limit(3),S=[];return b&&b.forEach(T=>{S.push({type:"event_created",title:`New event: ${T.title}`,timestamp:T.created_at,user:"System"})}),_&&_.forEach(T=>{S.push({type:"user_joined",title:`${T.first_name} ${T.last_name} joined`,timestamp:T.created_at,user:`${T.first_name} ${T.last_name}`})}),S.sort((T,C)=>new Date(C.timestamp)-new Date(T.timestamp)).slice(0,8)},h=async()=>{const{data:b}=await jr.from("events").select("id, title, event_date, location, status").eq("org_id",n.org_id).gte("event_date",new Date().toISOString()).order("event_date",{ascending:!0}).limit(5);return b||[]},d=async()=>{const b=[];return(n.role==="admin"||n.role==="board_member")&&b.push({id:1,title:"Review budget proposal",priority:"high",dueDate:"2025-06-10"},{id:2,title:"Approve volunteer applications",priority:"medium",dueDate:"2025-06-12"},{id:3,title:"Update event calendar",priority:"low",dueDate:"2025-06-15"}),b},m=b=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(b),g=b=>new Date(b).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),x=b=>{const _=new Date,S=new Date(b),T=Math.floor((_-S)/(1e3*60*60));if(T<1)return"Just now";if(T<24)return`${T}h ago`;const C=Math.floor(T/24);return C<7?`${C}d ago`:g(b)};return t||i?y.jsx("div",{className:"flex items-center justify-center min-h-screen",children:y.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):y.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:y.jsxs("div",{className:"max-w-7xl mx-auto",children:[y.jsxs("div",{className:"mb-8",children:[y.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["Welcome back, ",n==null?void 0:n.first_name,"!"]}),y.jsx("p",{className:"text-gray-600 mt-2",children:"Here's what's happening with your PTO today"})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[y.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Members"}),y.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e.metrics.totalMembers})]}),y.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:y.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})})]}),y.jsx("div",{className:"mt-4",children:y.jsx("span",{className:"text-sm text-green-600",children:"+12% from last month"})})]}),y.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Events"}),y.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e.metrics.activeEvents})]}),y.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:y.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})]}),y.jsx("div",{className:"mt-4",children:y.jsx("span",{className:"text-sm text-blue-600",children:"3 this month"})})]}),y.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Budget Used"}),y.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[e.metrics.budgetUsed,"%"]})]}),y.jsx("div",{className:"p-3 bg-yellow-100 rounded-full",children:y.jsx("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})})]}),y.jsx("div",{className:"mt-4",children:y.jsxs("span",{className:"text-sm text-gray-600",children:[m(e.financialSummary.remaining)," remaining"]})})]}),y.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Engagement Rate"}),y.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[e.metrics.engagementRate,"%"]})]}),y.jsx("div",{className:"p-3 bg-purple-100 rounded-full",children:y.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})})]}),y.jsx("div",{className:"mt-4",children:y.jsx("span",{className:"text-sm text-green-600",children:"+5% from last month"})})]})]}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[y.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[y.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[y.jsx("div",{className:"p-6 border-b border-gray-200",children:y.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Recent Activity"})}),y.jsx("div",{className:"p-6",children:y.jsx("div",{className:"space-y-4",children:e.recentActivity.map((b,_)=>y.jsxs("div",{className:"flex items-start space-x-3",children:[y.jsx("div",{className:"flex-shrink-0",children:y.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${b.type==="event_created"?"bg-blue-500":"bg-green-500"}`})}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsx("p",{className:"text-sm font-medium text-gray-900",children:b.title}),y.jsx("p",{className:"text-sm text-gray-500",children:x(b.timestamp)})]})]},_))})})]}),y.jsx(cR,{})]}),y.jsxs("div",{className:"space-y-8",children:[y.jsx(uR,{}),y.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[y.jsx("div",{className:"p-6 border-b border-gray-200",children:y.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Upcoming Events"})}),y.jsx("div",{className:"p-6",children:y.jsxs("div",{className:"space-y-4",children:[e.upcomingEvents.map(b=>y.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[y.jsxs("div",{children:[y.jsx("p",{className:"font-medium text-gray-900",children:b.title}),y.jsx("p",{className:"text-sm text-gray-600",children:g(b.event_date)}),b.location&&y.jsx("p",{className:"text-sm text-gray-500",children:b.location})]}),y.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${b.status==="confirmed"?"bg-green-100 text-green-800":b.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:b.status})]},b.id)),e.upcomingEvents.length===0&&y.jsx("p",{className:"text-gray-500 text-center py-4",children:"No upcoming events"})]})})]}),y.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[y.jsx("div",{className:"p-6 border-b border-gray-200",children:y.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Quick Actions"})}),y.jsx("div",{className:"p-6",children:y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("button",{className:"flex flex-col items-center p-4 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors",children:[y.jsx("svg",{className:"w-6 h-6 text-blue-600 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),y.jsx("span",{className:"text-sm font-medium text-blue-900",children:"New Event"})]}),y.jsxs("button",{className:"flex flex-col items-center p-4 bg-green-50 rounded-lg hover:bg-green-100 transition-colors",children:[y.jsx("svg",{className:"w-6 h-6 text-green-600 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),y.jsx("span",{className:"text-sm font-medium text-green-900",children:"Send Message"})]}),y.jsxs("button",{className:"flex flex-col items-center p-4 bg-purple-50 rounded-lg hover:bg-purple-100 transition-colors",children:[y.jsx("svg",{className:"w-6 h-6 text-purple-600 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),y.jsx("span",{className:"text-sm font-medium text-purple-900",children:"Add Member"})]}),y.jsxs("button",{className:"flex flex-col items-center p-4 bg-yellow-50 rounded-lg hover:bg-yellow-100 transition-colors",children:[y.jsx("svg",{className:"w-6 h-6 text-yellow-600 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),y.jsx("span",{className:"text-sm font-medium text-yellow-900",children:"New Report"})]})]})})]}),e.pendingTasks.length>0&&y.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[y.jsx("div",{className:"p-6 border-b border-gray-200",children:y.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Pending Tasks"})}),y.jsx("div",{className:"p-6",children:y.jsx("div",{className:"space-y-3",children:e.pendingTasks.map(b=>y.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[y.jsxs("div",{children:[y.jsx("p",{className:"font-medium text-gray-900",children:b.title}),y.jsxs("p",{className:"text-sm text-gray-600",children:["Due: ",g(b.dueDate)]})]}),y.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${b.priority==="high"?"bg-red-100 text-red-800":b.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:b.priority})]},b.id))})})]})]})]})]})})},dR=[{value:"",label:"All Roles"},{value:"admin",label:"Admin"},{value:"board_member",label:"Board Member"},{value:"committee_lead",label:"Committee Lead"},{value:"volunteer",label:"Volunteer"},{value:"parent_member",label:"Parent Member"},{value:"teacher",label:"Teacher"}];function hR(){const[n,t]=ye.useState([]),[e,r]=ye.useState([]),[i,o]=ye.useState({}),[a,s]=ye.useState(!0),[l,c]=ye.useState(""),[u,f]=ye.useState(!1),[h,d]=ye.useState(!1),[m,g]=ye.useState(""),[x,b]=ye.useState({});if(ye.useEffect(()=>{async function N(){var V,F,G;s(!0),c("");const[{data:A,error:j},{data:R,error:L}]=await Promise.all([si("GET","/admin/organization-permissions"),si("GET","/admin-users")]);if(console.log("[PermissionsConsole] /admin/organization-permissions response:",A),console.log("[PermissionsConsole] /admin-users response:",R),j||L){c("Failed to load permissions or users."),s(!1);return}const M=(V=A==null?void 0:A.data)==null?void 0:V.permissions,I=(F=A==null?void 0:A.data)==null?void 0:F.grouped;r(Array.isArray(M)?M:[]),o(I&&typeof I=="object"?I:{});const D=((G=R==null?void 0:R.data)==null?void 0:G.profiles)||(R==null?void 0:R.profiles)||(Array.isArray(R==null?void 0:R.data)?R.data:[]);t(D),s(!1)}N()},[]),a)return y.jsx("div",{className:"py-8 text-center text-gray-500",children:"Loading permissions..."});if(l)return y.jsx("div",{className:"py-8 text-center text-red-600",children:l});if(!Array.isArray(e)||!i||typeof i!="object")return y.jsx("div",{className:"py-8 text-center text-red-600",children:"Permissions data is unavailable or malformed."});const _=m?n.filter(N=>N.role===m):n,S=e.map(N=>({key:N.permission_key,name:N.permission_name,module:N.module_name,defaultEnabled:N.is_enabled,minRole:N.current_min_role})),T=(N,A,j)=>{b(R=>({...R,[N]:{...R[N]||{},[A]:j}})),d(!0)},C=(N,A)=>{_.forEach(j=>{T(j.id,N,A)})},w=async()=>{f(!0),c("");const N=Object.entries(x).flatMap(([j,R])=>Object.entries(R).map(([L,M])=>({user_id:j,permission_key:L,is_enabled:M}))),{error:A}=await si("POST","/admin/organization-permissions/user-overrides",{overrides:N});A?c("Failed to save changes."):d(!1),f(!1)};return y.jsxs("div",{className:"bg-white rounded shadow p-4",children:[y.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Permissions Management"}),y.jsxs("div",{className:"mb-4 flex gap-4 items-center",children:[y.jsx("label",{className:"font-medium",children:"Filter by Role:"}),y.jsx("select",{className:"border rounded px-2 py-1",value:m,onChange:N=>g(N.target.value),children:dR.map(N=>y.jsx("option",{value:N.value,children:N.label},N.value))})]}),y.jsx("div",{className:"overflow-x-auto",children:Object.keys(i).length===0?y.jsx("div",{className:"text-gray-500 text-center py-8",children:"No permissions found."}):y.jsxs("table",{className:"w-full table-auto border mb-2",children:[y.jsx("thead",{children:y.jsxs("tr",{className:"bg-gray-100",children:[y.jsx("th",{className:"p-2 border",children:"Name"}),y.jsx("th",{className:"p-2 border",children:"Email"}),y.jsx("th",{className:"p-2 border",children:"Role"}),S.map(N=>y.jsx("th",{className:"p-2 border",children:y.jsxs("div",{className:"flex flex-col items-center",children:[y.jsx("span",{children:N.name}),y.jsx("button",{className:"text-xs text-blue-600 underline mt-1",onClick:()=>C(N.key,!0),title:"Enable for all filtered users",children:"Enable All"}),y.jsx("button",{className:"text-xs text-red-600 underline",onClick:()=>C(N.key,!1),title:"Disable for all filtered users",children:"Disable All"})]})},N.key))]})}),y.jsx("tbody",{children:_.map(N=>y.jsxs("tr",{className:"border-b",children:[y.jsx("td",{className:"p-2 border font-medium",children:N.full_name||N.email}),y.jsx("td",{className:"p-2 border",children:N.email}),y.jsx("td",{className:"p-2 border capitalize",children:N.role}),S.map(A=>{var L;const j=(L=x[N.id])==null?void 0:L[A.key],R=j!==void 0?j:A.defaultEnabled;return y.jsx("td",{className:"p-2 border text-center",children:y.jsx("input",{type:"checkbox",checked:R,onChange:M=>T(N.id,A.key,M.target.checked),className:"w-5 h-5 accent-blue-600"})},A.key)})]},N.id))})]})}),y.jsxs("div",{className:"flex gap-4 items-center mt-4",children:[y.jsx("button",{className:`px-4 py-2 rounded bg-blue-600 text-white font-semibold ${!h||u?"opacity-50 cursor-not-allowed":""}`,onClick:w,disabled:!h||u,children:u?"Saving...":"Save Changes"}),h&&!u&&y.jsx("span",{className:"text-yellow-600",children:"Unsaved changes"})]})]})}function pR(){return y.jsxs("div",{className:"bg-white rounded shadow p-6",children:[y.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Organization Info"}),y.jsxs("div",{className:"flex items-center gap-6 mb-6",children:[y.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-full flex items-center justify-center text-3xl text-gray-400",children:"Logo"}),y.jsxs("div",{children:[y.jsx("div",{className:"font-bold text-lg mb-1",children:"[Organization Name]"}),y.jsx("div",{className:"text-gray-500",children:"[School/Year/Timezone]"})]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-1",children:"Contact Email"}),y.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"contact@email.com",disabled:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-1",children:"Address"}),y.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"123 Main St",disabled:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-1",children:"Phone"}),y.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"(555) 555-5555",disabled:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-1",children:"Timezone"}),y.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"America/Chicago",disabled:!0})]})]}),y.jsx("div",{className:"mt-6 text-gray-400 italic",children:"[Organization editing coming soon]"})]})}function vR(){return y.jsxs("div",{className:"bg-white rounded shadow p-6",children:[y.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Email Settings (SMTP)"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-1",children:"SMTP Host"}),y.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"smtp.example.com",disabled:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-1",children:"SMTP Port"}),y.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"587",disabled:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-1",children:"Username"}),y.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"user@example.com",disabled:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-1",children:"Password"}),y.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"••••••••",type:"password",disabled:!0})]}),y.jsxs("div",{className:"md:col-span-2",children:[y.jsx("label",{className:"block text-sm font-medium mb-1",children:"Sender Name/Email"}),y.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"PTO Connect <noreply@ptoconnect.com>",disabled:!0})]})]}),y.jsxs("div",{className:"mt-6 flex gap-4 items-center",children:[y.jsx("button",{className:"px-4 py-2 rounded bg-blue-600 text-white font-semibold opacity-50 cursor-not-allowed",disabled:!0,children:"Test Connection"}),y.jsx("span",{className:"text-gray-400",children:"[SMTP editing & testing coming soon]"})]})]})}function gR(){return y.jsxs("div",{className:"bg-white rounded shadow p-6",children:[y.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Subscription"}),y.jsxs("div",{className:"mb-4",children:[y.jsx("div",{className:"font-bold",children:"Current Plan:"}),y.jsx("div",{className:"text-gray-600",children:"[Plan Name]"})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("div",{className:"font-bold",children:"Renewal Date:"}),y.jsx("div",{className:"text-gray-600",children:"[2025-12-31]"})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("div",{className:"font-bold",children:"Payment Method:"}),y.jsx("div",{className:"text-gray-600",children:"[Visa •••• 1234]"})]}),y.jsx("button",{className:"px-4 py-2 rounded bg-blue-600 text-white font-semibold opacity-50 cursor-not-allowed",disabled:!0,children:"Manage Subscription"}),y.jsx("div",{className:"mt-6 text-gray-400 italic",children:"[Subscription management coming soon]"})]})}function mR(){return y.jsxs("div",{className:"bg-white rounded shadow p-6",children:[y.jsx("h2",{className:"text-xl font-semibold mb-4",children:"API Keys"}),y.jsxs("table",{className:"w-full table-auto border mb-4",children:[y.jsx("thead",{children:y.jsxs("tr",{className:"bg-gray-100",children:[y.jsx("th",{className:"p-2 border",children:"Key Name"}),y.jsx("th",{className:"p-2 border",children:"Permissions"}),y.jsx("th",{className:"p-2 border",children:"Status"}),y.jsx("th",{className:"p-2 border",children:"Actions"})]})}),y.jsxs("tbody",{children:[y.jsxs("tr",{children:[y.jsx("td",{className:"p-2 border",children:"[Key 1]"}),y.jsx("td",{className:"p-2 border",children:"[Read, Write]"}),y.jsx("td",{className:"p-2 border",children:"Active"}),y.jsx("td",{className:"p-2 border",children:y.jsx("button",{className:"px-2 py-1 bg-blue-600 text-white rounded opacity-50 cursor-not-allowed",disabled:!0,children:"Edit"})})]}),y.jsxs("tr",{children:[y.jsx("td",{className:"p-2 border",children:"[Key 2]"}),y.jsx("td",{className:"p-2 border",children:"[Read]"}),y.jsx("td",{className:"p-2 border",children:"Inactive"}),y.jsx("td",{className:"p-2 border",children:y.jsx("button",{className:"px-2 py-1 bg-blue-600 text-white rounded opacity-50 cursor-not-allowed",disabled:!0,children:"Edit"})})]})]})]}),y.jsx("button",{className:"px-4 py-2 rounded bg-blue-600 text-white font-semibold opacity-50 cursor-not-allowed",disabled:!0,children:"Create New API Key"}),y.jsx("div",{className:"mt-6 text-gray-400 italic",children:"[API key management coming soon]"})]})}const yR=[{key:"org",label:"Organization Info"},{key:"permissions",label:"Permissions"},{key:"email",label:"Email Settings"},{key:"subscription",label:"Subscription"},{key:"apikeys",label:"API Keys"}];function m2(){const[n,t]=ye.useState("org");return y.jsxs("div",{className:"max-w-5xl mx-auto p-4",children:[y.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Admin Dashboard"}),y.jsx("div",{className:"border-b border-gray-200 mb-6",children:y.jsx("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:yR.map(e=>y.jsx("button",{className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${n===e.key?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>t(e.key),children:e.label},e.key))})}),y.jsxs("div",{children:[n==="org"&&y.jsx(pR,{}),n==="permissions"&&y.jsx(hR,{}),n==="email"&&y.jsx(vR,{}),n==="subscription"&&y.jsx(gR,{}),n==="apikeys"&&y.jsx(mR,{})]})]})}const oh="https://api.ptoconnect.com";function bR(){const{profile:n,loading:t}=tf(),[e,r]=ye.useState([]),[i,o]=ye.useState([]),[a,s]=ye.useState(!0),[l,c]=ye.useState(null),[u,f]=ye.useState(!1),h=(n==null?void 0:n.role)==="admin",d=ye.useCallback(async()=>{if(!(n!=null&&n.user_id)||t||!h){s(!1);return}try{s(!0),c(null);const{data:{session:N}}=await jr.auth.getSession();if(!(N!=null&&N.access_token))throw new Error("No authentication token available");const[A,j]=await Promise.all([Dl.get(`${oh}/api/admin/organization-permissions/templates`,{headers:{Authorization:`Bearer ${N.access_token}`}}),Dl.get(`${oh}/api/admin/organization-permissions`,{headers:{Authorization:`Bearer ${N.access_token}`}})]);r(A.data.templates||[]),o(j.data.permissions||[])}catch(N){console.error("Error fetching permission data:",N.message),c(N.message)}finally{s(!1)}},[n==null?void 0:n.user_id,t,h]);ye.useEffect(()=>{d()},[d]);const m=ye.useCallback(async(N,A)=>{var j,R;if(!h)throw new Error("Only administrators can modify permissions");try{f(!0),c(null);const{data:{session:L}}=await jr.auth.getSession();if(!(L!=null&&L.access_token))throw new Error("No authentication token available");const M=await Dl.put(`${oh}/api/admin/organization-permissions/${N}`,A,{headers:{Authorization:`Bearer ${L.access_token}`}});return await d(),M.data}catch(L){throw console.error(`Error updating permission ${N}:`,L.message),c(((R=(j=L.response)==null?void 0:j.data)==null?void 0:R.error)||L.message),L}finally{f(!1)}},[h,d]),g=ye.useCallback(async N=>{var A,j;if(!h)throw new Error("Only administrators can modify permissions");try{f(!0),c(null);const{data:{session:R}}=await jr.auth.getSession();if(!(R!=null&&R.access_token))throw new Error("No authentication token available");const L=await Dl.post(`${oh}/api/admin/organization-permissions/bulk-update`,{permissions:N},{headers:{Authorization:`Bearer ${R.access_token}`}});return await d(),L.data}catch(R){throw console.error("Error bulk updating permissions:",R.message),c(((j=(A=R.response)==null?void 0:A.data)==null?void 0:j.error)||R.message),R}finally{f(!1)}},[h,d]),x=ye.useCallback(async N=>{var A,j;if(!h)throw new Error("Only administrators can modify permissions");try{f(!0),c(null);const{data:{session:R}}=await jr.auth.getSession();if(!(R!=null&&R.access_token))throw new Error("No authentication token available");const L=await Dl.delete(`${oh}/api/admin/organization-permissions/${N}`,{headers:{Authorization:`Bearer ${R.access_token}`}});return await d(),L.data}catch(R){throw console.error(`Error resetting permission ${N}:`,R.message),c(((j=(A=R.response)==null?void 0:A.data)==null?void 0:j.error)||R.message),R}finally{f(!1)}},[h,d]),b=ye.useCallback(async N=>{if(!h)throw new Error("Only administrators can view user permissions");try{const{data:{session:A}}=await jr.auth.getSession();if(!(A!=null&&A.access_token))throw new Error("No authentication token available");return(await Dl.get(`${oh}/api/admin/organization-permissions/user/${N}`,{headers:{Authorization:`Bearer ${A.access_token}`}})).data}catch(A){throw console.error(`Error fetching permissions for user ${N}:`,A.message),A}},[h]),_=ye.useCallback(()=>{const N={};return i.forEach(A=>{const j=A.module_name;N[j]||(N[j]=[]),N[j].push(A)}),N},[i]),S=ye.useCallback(N=>e.find(A=>A.permission_key===N)||null,[e]),T=ye.useCallback(N=>{const A=i.find(j=>j.permission_key===N);return!!(A!=null&&A.has_custom_setting)},[i]),C=ye.useCallback(N=>{const A=i.find(R=>R.permission_key===N),j=S(N);return j?{permission_key:N,module_name:j.module_name,permission_name:j.permission_name,permission_description:j.permission_description,current_min_role:(A==null?void 0:A.current_min_role)||j.default_min_role,specific_users:(A==null?void 0:A.specific_users)||[],is_enabled:(A==null?void 0:A.is_enabled)!==void 0?A.is_enabled:!0,is_customized:!!(A!=null&&A.has_custom_setting),default_min_role:j.default_min_role}:null},[i,S]),w=ye.useCallback(()=>{d()},[d]);return{templates:e,orgPermissions:i,loading:a,error:l,saving:u,isAdmin:h,updatePermission:m,bulkUpdatePermissions:g,resetPermission:x,getUserPermissions:b,refreshPermissions:w,getPermissionsByModule:_,getPermissionTemplate:S,isPermissionCustomized:T,getEffectivePermission:C,userId:n==null?void 0:n.user_id,orgId:n==null?void 0:n.org_id,userRole:n==null?void 0:n.role}}function xR(){const{profile:n,organization:t,loading:e}=tf(),r={admin:5,board_member:4,committee_lead:3,volunteer:2,parent_member:1,teacher:1},i=C=>n!=null&&n.role?r[n.role]>=r[C]:!1,o=C=>n!=null&&n.role?C.includes(n.role):!1,a=C=>(n==null?void 0:n.role)===C,s=()=>i("admin"),l=()=>i("committee_lead"),c=()=>i("committee_lead"),u=()=>i("committee_lead");return{hasRole:i,hasAnyRole:o,hasExactRole:a,canAccessAdminFeatures:s,canManageEvents:l,canManageBudget:c,canManageCommunications:u,canManageUsers:()=>i("admin"),canViewReports:()=>i("board_member"),canCreateEvents:()=>i("volunteer"),canVolunteer:()=>i("parent_member"),isInOrganization:()=>!!(n!=null&&n.org_id)&&!!t,getOrganizationId:()=>n==null?void 0:n.org_id,getOrganizationName:()=>t==null?void 0:t.name,getRoleDisplayName:(C=n==null?void 0:n.role)=>({admin:"Administrator",board_member:"Board Member",committee_lead:"Committee Lead",volunteer:"Volunteer",parent_member:"Parent Member",teacher:"Teacher"})[C]||"Unknown Role",getRoleColor:(C=n==null?void 0:n.role)=>({admin:"bg-red-100 text-red-800",board_member:"bg-purple-100 text-purple-800",committee_lead:"bg-blue-100 text-blue-800",volunteer:"bg-green-100 text-green-800",parent_member:"bg-yellow-100 text-yellow-800",teacher:"bg-indigo-100 text-indigo-800"})[C]||"bg-gray-100 text-gray-800",canAccessRoute:C=>({"/dashboard/admin":s(),"/dashboard/board":i("board_member"),"/dashboard/committee":i("committee_lead"),"/dashboard/volunteer":i("volunteer"),"/dashboard/parent":i("parent_member"),"/dashboard/teacher":a("teacher"),"/events":l(),"/budget":c(),"/communications":u(),"/billing":s(),"/shared-library":i("volunteer"),"/teacher-requests":a("teacher")})[C]??!1,currentRole:n==null?void 0:n.role,currentUserId:n==null?void 0:n.id,loading:e}}function wR(){const{canAccessAdminFeatures:n}=xR(),{templates:t,loading:e,error:r,saving:i,isAdmin:o,updatePermission:a,bulkUpdatePermissions:s,resetPermission:l,getEffectivePermission:c,isPermissionCustomized:u,refreshPermissions:f}=bR(),[h,d]=ye.useState("all"),[m,g]=ye.useState({}),[x,b]=ye.useState(!1),[_,S]=ye.useState(!1),T=[{value:"volunteer",label:"Volunteer",color:"bg-green-100 text-green-800"},{value:"committee_lead",label:"Committee Lead",color:"bg-blue-100 text-blue-800"},{value:"board_member",label:"Board Member",color:"bg-purple-100 text-purple-800"},{value:"admin",label:"Administrator",color:"bg-red-100 text-red-800"}],C=[...new Set(t.map(I=>I.module_name))].sort(),N=(h==="all"?t:t.filter(I=>I.module_name===h)).reduce((I,D)=>{const V=D.module_name;return I[V]||(I[V]=[]),I[V].push(D),I},{}),A=(I,D,V)=>{g(F=>({...F,[I]:{...F[I],[D]:V}}))},j=async I=>{const D=m[I];if(D)try{const V=c(I),F={min_role_required:D.min_role_required||V.current_min_role,specific_users:D.specific_users||V.specific_users,is_enabled:D.is_enabled!==void 0?D.is_enabled:V.is_enabled};await a(I,F),g(G=>{const W={...G};return delete W[I],W}),alert(`Permission "${I}" updated successfully!`)}catch(V){alert(`Failed to update permission: ${V.message}`)}},R=async()=>{if(Object.keys(m).length!==0)try{const I=Object.entries(m).map(([D,V])=>{const F=c(D);return{permission_key:D,min_role_required:V.min_role_required||F.current_min_role,specific_users:V.specific_users||F.specific_users,is_enabled:V.is_enabled!==void 0?V.is_enabled:F.is_enabled}});await s(I),g({}),alert(`Successfully updated ${I.length} permissions!`)}catch(I){alert(`Failed to save changes: ${I.message}`)}},L=async I=>{if(confirm(`Reset "${I}" to default settings?`))try{await l(I),g(D=>{const V={...D};return delete V[I],V}),alert(`Permission "${I}" reset to default!`)}catch(D){alert(`Failed to reset permission: ${D.message}`)}},M=I=>{const D=c(I),V=m[I];return V?{...D,current_min_role:V.min_role_required||D.current_min_role,specific_users:V.specific_users||D.specific_users,is_enabled:V.is_enabled!==void 0?V.is_enabled:D.is_enabled}:D};return!n||!o?y.jsx("div",{className:"max-w-4xl mx-auto p-6",children:y.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[y.jsx("h2",{className:"text-lg font-semibold text-red-800 mb-2",children:"Access Denied"}),y.jsx("p",{className:"text-red-600",children:"Only administrators can access permission management."})]})}):e?y.jsx("div",{className:"max-w-6xl mx-auto p-6",children:y.jsxs("div",{className:"animate-pulse",children:[y.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-6"}),y.jsx("div",{className:"space-y-4",children:[1,2,3].map(I=>y.jsx("div",{className:"h-20 bg-gray-200 rounded"},I))})]})}):r?y.jsx("div",{className:"max-w-4xl mx-auto p-6",children:y.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[y.jsx("h2",{className:"text-lg font-semibold text-red-800 mb-2",children:"Error Loading Permissions"}),y.jsx("p",{className:"text-red-600 mb-4",children:r}),y.jsx("button",{onClick:f,className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700",children:"Retry"})]})}):y.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[y.jsxs("div",{className:"mb-8",children:[y.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Permission Management"}),y.jsx("p",{className:"text-gray-600",children:"Customize which roles can perform specific actions in your organization."})]}),y.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:y.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Module:"}),y.jsxs("select",{value:h,onChange:I=>d(I.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm",children:[y.jsx("option",{value:"all",children:"All Modules"}),C.map(I=>y.jsx("option",{value:I,children:I.charAt(0).toUpperCase()+I.slice(1).replace("_"," ")},I))]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{onClick:()=>S(!_),className:`px-4 py-2 rounded-md text-sm font-medium ${_?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:_?"Exit Bulk Mode":"Bulk Edit"}),Object.keys(m).length>0&&y.jsxs(y.Fragment,{children:[y.jsxs("button",{onClick:()=>b(!x),className:"px-4 py-2 bg-yellow-100 text-yellow-800 rounded-md text-sm font-medium hover:bg-yellow-200",children:["Preview Changes (",Object.keys(m).length,")"]}),y.jsx("button",{onClick:R,disabled:i,className:"px-4 py-2 bg-green-600 text-white rounded-md text-sm font-medium hover:bg-green-700 disabled:opacity-50",children:i?"Saving...":"Save All Changes"})]})]})]})}),x&&Object.keys(m).length>0&&y.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:[y.jsx("h3",{className:"font-semibold text-yellow-800 mb-2",children:"Pending Changes"}),y.jsx("div",{className:"space-y-2",children:Object.entries(m).map(([I,D])=>y.jsxs("div",{className:"text-sm text-yellow-700",children:[y.jsxs("span",{className:"font-medium",children:[I,":"]}),D.min_role_required&&y.jsxs("span",{className:"ml-2",children:["Role → ",D.min_role_required]}),D.is_enabled!==void 0&&y.jsxs("span",{className:"ml-2",children:["Enabled → ",D.is_enabled?"Yes":"No"]})]},I))})]}),y.jsx("div",{className:"space-y-8",children:Object.entries(N).map(([I,D])=>y.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[y.jsx("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("h2",{className:"text-xl font-semibold text-gray-900 capitalize",children:[I.replace("_"," ")," Module"]}),y.jsxs("span",{className:"text-sm text-gray-500",children:[D.length," permissions"]})]})}),y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full",children:[y.jsx("thead",{className:"bg-gray-50",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Permission"}),y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Minimum Role"}),y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),y.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:D.map(V=>{const F=M(V.permission_key),G=m[V.permission_key],W=u(V.permission_key);return y.jsxs("tr",{className:G?"bg-yellow-50":"",children:[y.jsx("td",{className:"px-6 py-4",children:y.jsxs("div",{children:[y.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[F.permission_name,W&&y.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:"Custom"}),G&&y.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-yellow-100 text-yellow-800",children:"Modified"})]}),y.jsx("div",{className:"text-sm text-gray-500",children:F.permission_description})]})}),y.jsx("td",{className:"px-6 py-4",children:y.jsx("select",{value:F.current_min_role,onChange:Y=>A(V.permission_key,"min_role_required",Y.target.value),className:"border border-gray-300 rounded-md px-3 py-1 text-sm",children:T.map(Y=>y.jsx("option",{value:Y.value,children:Y.label},Y.value))})}),y.jsx("td",{className:"px-6 py-4",children:y.jsxs("label",{className:"flex items-center",children:[y.jsx("input",{type:"checkbox",checked:F.is_enabled,onChange:Y=>A(V.permission_key,"is_enabled",Y.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),y.jsx("span",{className:"ml-2 text-sm text-gray-700",children:F.is_enabled?"Enabled":"Disabled"})]})}),y.jsx("td",{className:"px-6 py-4",children:y.jsxs("div",{className:"flex items-center gap-2",children:[G&&y.jsx("button",{onClick:()=>j(V.permission_key),disabled:i,className:"text-green-600 hover:text-green-800 text-sm font-medium",children:"Save"}),W&&y.jsx("button",{onClick:()=>L(V.permission_key),disabled:i,className:"text-gray-600 hover:text-gray-800 text-sm font-medium",children:"Reset"})]})})]},V.permission_key)})})]})})]},I))}),y.jsxs("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[y.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:"Permission Management Guide"}),y.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[y.jsxs("li",{children:["• ",y.jsx("strong",{children:"Minimum Role:"})," The lowest role level that can perform this action"]}),y.jsxs("li",{children:["• ",y.jsx("strong",{children:"Custom:"})," Permission has been modified from the default setting"]}),y.jsxs("li",{children:["• ",y.jsx("strong",{children:"Modified:"})," Permission has unsaved changes"]}),y.jsxs("li",{children:["• ",y.jsx("strong",{children:"Reset:"})," Restore permission to its default setting"]}),y.jsx("li",{children:"• Changes take effect immediately for all users in your organization"})]})]})]})}function _R(){return y.jsxs("div",{className:"p-6",children:[y.jsx("h1",{className:"text-2xl font-bold text-blue-600",children:"Welcome to the Board Dashboard"}),y.jsx("p",{className:"mt-4 text-gray-700",children:"This is a placeholder for the Board dashboard."})]})}function SR(){return y.jsxs("div",{className:"p-6",children:[y.jsx("h1",{className:"text-2xl font-bold text-blue-600",children:"Welcome to the Committee Dashboard"}),y.jsx("p",{className:"mt-4 text-gray-700",children:"This is a placeholder for the Committee dashboard."})]})}function TR(){return y.jsxs("div",{className:"p-6",children:[y.jsx("h1",{className:"text-2xl font-bold text-blue-600",children:"Welcome to the Volunteer Dashboard"}),y.jsx("p",{className:"mt-4 text-gray-700",children:"This is a placeholder for the Volunteer dashboard."})]})}function CR(){return y.jsxs("div",{className:"p-6",children:[y.jsx("h1",{className:"text-2xl font-bold text-blue-600",children:"Welcome to the Parent Dashboard"}),y.jsx("p",{className:"mt-4 text-gray-700",children:"This is a placeholder for the Parent dashboard."})]})}function ER(){return y.jsxs("div",{className:"p-6",children:[y.jsx("h1",{className:"text-2xl font-bold text-blue-600",children:"Welcome to the Teacher Dashboard"}),y.jsx("p",{className:"mt-4 text-gray-700",children:"This is a placeholder for the Teacher dashboard."})]})}function OR(){const[n,t]=ye.useState([]),[e,r]=ye.useState("");ye.useEffect(()=>{async function o(){const{data:{session:a},error:s}=await jr.auth.getSession();if(s||!(a!=null&&a.access_token)){r("Authentication error. Please log in again.");return}try{const l=await fetch("/api/events",{headers:{Authorization:`Bearer ${a.access_token}`}}),c=await l.json();l.ok?t(c):r(c.error||"Failed to load events")}catch(l){console.error("Fetch error:",l),r("Failed to connect to server.")}}o()},[]);const i=async o=>{if(!window.confirm("Are you sure you want to delete this event?"))return;const{data:{session:s}}=await jr.auth.getSession();if(!(s!=null&&s.access_token)){alert("You must be logged in to delete events.");return}const l=await fetch(`/api/events/${o}`,{method:"DELETE",headers:{Authorization:`Bearer ${s.access_token}`}});l.ok?t(c=>c.filter(u=>u.id!==o)):(alert("Failed to delete event."),console.error("Delete error:",await l.text()))};return y.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[y.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2 mb-4",children:[y.jsx("h1",{className:"text-2xl font-bold",children:"PTO-Wide Events"}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx(iu,{to:"/events/calendar",className:"bg-gray-200 text-gray-700 px-4 py-2 rounded hover:bg-gray-300",children:"📅 View Calendar"}),y.jsx(iu,{to:"/events/create",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"+ Create Event"})]})]}),e&&y.jsx("p",{className:"text-red-600 mb-4",children:e}),n.length===0&&!e&&y.jsx("p",{children:"No events created yet."}),y.jsx("ul",{className:"space-y-4",children:n.map(o=>y.jsxs("li",{className:"border p-4 rounded shadow-sm bg-white",children:[y.jsxs("div",{className:"flex justify-between items-center mb-1",children:[y.jsx("h2",{className:"text-xl font-semibold",children:o.title}),y.jsxs("div",{className:"flex gap-2 text-sm",children:[y.jsx(iu,{to:`/events/edit/${o.id}`,className:"text-blue-600 hover:underline",children:"✏️ Edit"}),y.jsx("button",{onClick:()=>i(o.id),className:"text-red-600 hover:underline",children:"🗑️ Delete"})]})]}),y.jsxs("p",{className:"text-sm text-gray-500",children:[new Date(o.event_date).toLocaleDateString()," • ",o.school_level," • ",o.category]}),y.jsx("p",{className:"mt-2",children:o.description}),o.share_public&&y.jsx("span",{className:"text-xs inline-block mt-2 px-2 py-1 bg-green-100 text-green-800 rounded",children:"Shared to Library"})]},o.id))})]})}const AR=()=>{const n=Oa(),[t,e]=ye.useState("grid"),[r,i]=ye.useState("manual"),[o,a]=ye.useState(""),[s,l]=ye.useState("all"),c=()=>{n("/events/create")},u=()=>{n("/events/create?mode=ai-assisted")},f=()=>{n("/events/create?mode=ai-automated")},h=C=>{n(`/events/${C}`)},d=C=>{n(`/events/${C}/edit`)},m=C=>{window.confirm("Are you sure you want to delete this event?")&&console.log("Deleting event:",C)},g=()=>{n("/events/create")},x=[{id:1,name:"Fall Festival 2024",date:"2024-10-15",status:"planning",attendees:300,budget:3e3,profit:1800,progress:65,type:"ai-generated",description:"Community celebration with games, food, and family fun"},{id:2,name:"Book Fair",date:"2024-11-20",status:"active",attendees:150,budget:1500,profit:800,progress:85,type:"manual",description:"Annual book fair to promote reading"},{id:3,name:"Science Night",date:"2024-12-05",status:"draft",attendees:200,budget:2e3,profit:1200,progress:25,type:"manual",description:"Interactive science demonstrations and experiments"}],b=C=>{const w={draft:"bg-gray-100 text-gray-800",planning:"bg-blue-100 text-blue-800",active:"bg-green-100 text-green-800",completed:"bg-purple-100 text-purple-800",cancelled:"bg-red-100 text-red-800"};return w[C]||w.draft},_=({event:C})=>y.jsx("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 hover:shadow-lg transition-shadow",children:y.jsxs("div",{className:"p-6",children:[y.jsxs("div",{className:"flex items-start justify-between mb-4",children:[y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[y.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:C.name}),C.type==="ai-generated"&&y.jsx(Ua,{className:"w-4 h-4 text-purple-500",title:"AI Generated"})]}),y.jsx("p",{className:"text-sm text-gray-600 mb-3",children:C.description}),y.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[y.jsxs("div",{className:"flex items-center space-x-1",children:[y.jsx(sd,{className:"w-4 h-4"}),y.jsx("span",{children:new Date(C.date).toLocaleDateString()})]}),y.jsxs("div",{className:"flex items-center space-x-1",children:[y.jsx(hg,{className:"w-4 h-4"}),y.jsxs("span",{children:[C.attendees," expected"]})]})]})]}),y.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${b(C.status)}`,children:C.status.charAt(0).toUpperCase()+C.status.slice(1)})]}),y.jsxs("div",{className:"mb-4",children:[y.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[y.jsx("span",{className:"text-gray-600",children:"Progress"}),y.jsxs("span",{className:"font-medium text-gray-900",children:[C.progress,"%"]})]}),y.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:y.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${C.progress}%`}})})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[y.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[y.jsx("div",{className:"text-sm text-gray-600",children:"Budget"}),y.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["$",C.budget]})]}),y.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[y.jsx("div",{className:"text-sm text-green-600",children:"Projected Profit"}),y.jsxs("div",{className:"text-lg font-semibold text-green-700",children:["$",C.profit]})]})]}),y.jsxs("div",{className:"flex space-x-2",children:[y.jsxs("button",{onClick:()=>h(C.id),className:"flex-1 flex items-center justify-center px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[y.jsx(n0,{className:"w-4 h-4 mr-2"}),"View"]}),y.jsxs("button",{onClick:()=>d(C.id),className:"flex-1 flex items-center justify-center px-3 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[y.jsx(i0,{className:"w-4 h-4 mr-2"}),"Edit"]})]})]})}),S=({event:C})=>y.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center space-x-4 flex-1",children:[y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx("h3",{className:"font-medium text-gray-900",children:C.name}),C.type==="ai-generated"&&y.jsx(Ua,{className:"w-4 h-4 text-purple-500"}),y.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${b(C.status)}`,children:C.status})]}),y.jsx("p",{className:"text-sm text-gray-600 mt-1",children:C.description})]}),y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"text-sm text-gray-500",children:"Date"}),y.jsx("div",{className:"font-medium",children:new Date(C.date).toLocaleDateString()})]}),y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"text-sm text-gray-500",children:"Attendees"}),y.jsx("div",{className:"font-medium",children:C.attendees})]}),y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"text-sm text-gray-500",children:"Budget"}),y.jsxs("div",{className:"font-medium",children:["$",C.budget]})]}),y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"text-sm text-gray-500",children:"Progress"}),y.jsxs("div",{className:"font-medium",children:[C.progress,"%"]})]})]}),y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx("button",{onClick:()=>h(C.id),className:"p-2 text-blue-600 hover:bg-blue-50 rounded",children:y.jsx(n0,{className:"w-4 h-4"})}),y.jsx("button",{onClick:()=>d(C.id),className:"p-2 text-gray-600 hover:bg-gray-50 rounded",children:y.jsx(i0,{className:"w-4 h-4"})}),y.jsx("button",{onClick:()=>m(C.id),className:"p-2 text-red-600 hover:bg-red-50 rounded",children:y.jsx(uI,{className:"w-4 h-4"})})]})]})}),T=()=>y.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[y.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Create New Event"}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[y.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-6 hover:border-blue-300 transition-colors",children:[y.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[y.jsx(cI,{className:"w-8 h-8 text-gray-600"}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-semibold text-gray-900",children:"Manual Creation"}),y.jsx("p",{className:"text-sm text-gray-600",children:"Full control over every detail"})]})]}),y.jsxs("ul",{className:"text-sm text-gray-600 space-y-2 mb-4",children:[y.jsx("li",{children:"• Step-by-step event setup"}),y.jsx("li",{children:"• Custom timeline creation"}),y.jsx("li",{children:"• Manual budget planning"}),y.jsx("li",{children:"• Individual task assignment"})]}),y.jsx("button",{onClick:c,className:"w-full py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Create Manually"})]}),y.jsxs("div",{className:"border-2 border-blue-200 rounded-lg p-6 hover:border-blue-400 transition-colors bg-blue-50",children:[y.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[y.jsx(Ua,{className:"w-8 h-8 text-blue-600"}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-semibold text-blue-900",children:"AI Assisted"}),y.jsx("p",{className:"text-sm text-blue-700",children:"AI suggestions with manual control"})]})]}),y.jsxs("ul",{className:"text-sm text-blue-700 space-y-2 mb-4",children:[y.jsx("li",{children:"• AI-generated suggestions"}),y.jsx("li",{children:"• Smart template recommendations"}),y.jsx("li",{children:"• Automated task suggestions"}),y.jsx("li",{children:"• Budget estimation help"})]}),y.jsx("button",{onClick:u,className:"w-full py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Create with AI Help"})]}),y.jsxs("div",{className:"border-2 border-purple-200 rounded-lg p-6 hover:border-purple-400 transition-colors bg-purple-50",children:[y.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[y.jsx(Ua,{className:"w-8 h-8 text-purple-600"}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-semibold text-purple-900",children:"AI Automated"}),y.jsx("p",{className:"text-sm text-purple-700",children:"Complete workflow generation"})]})]}),y.jsxs("ul",{className:"text-sm text-purple-700 space-y-2 mb-4",children:[y.jsx("li",{children:"• Complete workflow creation"}),y.jsx("li",{children:"• Automated timeline & tasks"}),y.jsx("li",{children:"• Budget & profit projections"}),y.jsx("li",{children:"• Communication campaigns"})]}),y.jsx("button",{onClick:f,className:"w-full py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Generate Full Workflow"})]})]})]});return y.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:y.jsxs("div",{className:"max-w-7xl mx-auto",children:[y.jsxs("div",{className:"flex items-center justify-between mb-6",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Events Dashboard"}),y.jsx("p",{className:"text-gray-600",children:"Manage your PTO events with manual control or AI assistance"})]}),y.jsx("div",{className:"flex items-center space-x-3",children:y.jsx("button",{onClick:()=>e(t==="grid"?"list":"grid"),className:"p-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:t==="grid"?y.jsx(U8,{className:"w-5 h-5"}):y.jsx(V8,{className:"w-5 h-5"})})})]}),y.jsx(T,{}),y.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:y.jsxs("div",{className:"flex items-center space-x-4",children:[y.jsxs("div",{className:"flex-1 relative",children:[y.jsx(z8,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),y.jsx("input",{type:"text",placeholder:"Search events...",value:o,onChange:C=>a(C.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),y.jsxs("select",{value:s,onChange:C=>l(C.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[y.jsx("option",{value:"all",children:"All Status"}),y.jsx("option",{value:"draft",children:"Draft"}),y.jsx("option",{value:"planning",children:"Planning"}),y.jsx("option",{value:"active",children:"Active"}),y.jsx("option",{value:"completed",children:"Completed"})]})]})}),y.jsx("div",{className:t==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:x.map(C=>t==="grid"?y.jsx(_,{event:C},C.id):y.jsx(S,{event:C},C.id))}),x.length===0&&y.jsxs("div",{className:"text-center py-12",children:[y.jsx(sd,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),y.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No events found"}),y.jsx("p",{className:"text-gray-600 mb-4",children:"Get started by creating your first event"}),y.jsx("button",{onClick:g,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Create Your First Event"})]})]})})};function vn(n){"@babel/helpers - typeof";return vn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vn(n)}var ta=Uint8Array,ws=Uint16Array,VS=Int32Array,Eb=new ta([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Ob=new ta([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),ew=new ta([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),rN=function(n,t){for(var e=new ws(31),r=0;r<31;++r)e[r]=t+=1<<n[r-1];for(var i=new VS(e[30]),r=1;r<30;++r)for(var o=e[r];o<e[r+1];++o)i[o]=o-e[r]<<5|r;return{b:e,r:i}},nN=rN(Eb,2),iN=nN.b,tw=nN.r;iN[28]=258,tw[258]=28;var oN=rN(Ob,0),NR=oN.b,OC=oN.r,rw=new ws(32768);for(var di=0;di<32768;++di){var ku=(di&43690)>>1|(di&21845)<<1;ku=(ku&52428)>>2|(ku&13107)<<2,ku=(ku&61680)>>4|(ku&3855)<<4,rw[di]=((ku&65280)>>8|(ku&255)<<8)>>1}var mc=function(n,t,e){for(var r=n.length,i=0,o=new ws(t);i<r;++i)n[i]&&++o[n[i]-1];var a=new ws(t);for(i=1;i<t;++i)a[i]=a[i-1]+o[i-1]<<1;var s;if(e){s=new ws(1<<t);var l=15-t;for(i=0;i<r;++i)if(n[i])for(var c=i<<4|n[i],u=t-n[i],f=a[n[i]-1]++<<u,h=f|(1<<u)-1;f<=h;++f)s[rw[f]>>l]=c}else for(s=new ws(r),i=0;i<r;++i)n[i]&&(s[i]=rw[a[n[i]-1]++]>>15-n[i]);return s},Ku=new ta(288);for(var di=0;di<144;++di)Ku[di]=8;for(var di=144;di<256;++di)Ku[di]=9;for(var di=256;di<280;++di)Ku[di]=7;for(var di=280;di<288;++di)Ku[di]=8;var vg=new ta(32);for(var di=0;di<32;++di)vg[di]=5;var PR=mc(Ku,9,0),jR=mc(Ku,9,1),kR=mc(vg,5,0),MR=mc(vg,5,1),y2=function(n){for(var t=n[0],e=1;e<n.length;++e)n[e]>t&&(t=n[e]);return t},Cl=function(n,t,e){var r=t/8|0;return(n[r]|n[r+1]<<8)>>(t&7)&e},b2=function(n,t){var e=t/8|0;return(n[e]|n[e+1]<<8|n[e+2]<<16)>>(t&7)},zS=function(n){return(n+7)/8|0},aN=function(n,t,e){return(e==null||e>n.length)&&(e=n.length),new ta(n.subarray(t,e))},LR=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],jl=function(n,t,e){var r=new Error(t||LR[n]);if(r.code=n,Error.captureStackTrace&&Error.captureStackTrace(r,jl),!e)throw r;return r},DR=function(n,t,e,r){var i=n.length,o=0;if(!i||t.f&&!t.l)return e||new ta(0);var a=!e,s=a||t.i!=2,l=t.i;a&&(e=new ta(i*3));var c=function(Re){var se=e.length;if(Re>se){var ce=new ta(Math.max(se*2,Re));ce.set(e),e=ce}},u=t.f||0,f=t.p||0,h=t.b||0,d=t.l,m=t.d,g=t.m,x=t.n,b=i*8;do{if(!d){u=Cl(n,f,1);var _=Cl(n,f+1,3);if(f+=3,_)if(_==1)d=jR,m=MR,g=9,x=5;else if(_==2){var w=Cl(n,f,31)+257,N=Cl(n,f+10,15)+4,A=w+Cl(n,f+5,31)+1;f+=14;for(var j=new ta(A),R=new ta(19),L=0;L<N;++L)R[ew[L]]=Cl(n,f+L*3,7);f+=N*3;for(var M=y2(R),I=(1<<M)-1,D=mc(R,M,1),L=0;L<A;){var V=D[Cl(n,f,I)];f+=V&15;var S=V>>4;if(S<16)j[L++]=S;else{var F=0,G=0;for(S==16?(G=3+Cl(n,f,3),f+=2,F=j[L-1]):S==17?(G=3+Cl(n,f,7),f+=3):S==18&&(G=11+Cl(n,f,127),f+=7);G--;)j[L++]=F}}var W=j.subarray(0,w),Y=j.subarray(w);g=y2(W),x=y2(Y),d=mc(W,g,1),m=mc(Y,x,1)}else jl(1);else{var S=zS(f)+4,T=n[S-4]|n[S-3]<<8,C=S+T;if(C>i){l&&jl(0);break}s&&c(h+T),e.set(n.subarray(S,C),h),t.b=h+=T,t.p=f=C*8,t.f=u;continue}if(f>b){l&&jl(0);break}}s&&c(h+131072);for(var te=(1<<g)-1,he=(1<<x)-1,z=f;;z=f){var F=d[b2(n,f)&te],Z=F>>4;if(f+=F&15,f>b){l&&jl(0);break}if(F||jl(2),Z<256)e[h++]=Z;else if(Z==256){z=f,d=null;break}else{var X=Z-254;if(Z>264){var L=Z-257,ae=Eb[L];X=Cl(n,f,(1<<ae)-1)+iN[L],f+=ae}var ve=m[b2(n,f)&he],me=ve>>4;ve||jl(3),f+=ve&15;var Y=NR[me];if(me>3){var ae=Ob[me];Y+=b2(n,f)&(1<<ae)-1,f+=ae}if(f>b){l&&jl(0);break}s&&c(h+131072);var Ee=h+X;if(h<Y){var ke=o-Y,He=Math.min(Y,Ee);for(ke+h<0&&jl(3);h<He;++h)e[h]=r[ke+h]}for(;h<Ee;++h)e[h]=e[h-Y]}}t.l=d,t.p=z,t.b=h,t.f=u,d&&(u=1,t.m=g,t.d=m,t.n=x)}while(!u);return h!=e.length&&a?aN(e,0,h):e.subarray(0,h)},Wc=function(n,t,e){e<<=t&7;var r=t/8|0;n[r]|=e,n[r+1]|=e>>8},bv=function(n,t,e){e<<=t&7;var r=t/8|0;n[r]|=e,n[r+1]|=e>>8,n[r+2]|=e>>16},x2=function(n,t){for(var e=[],r=0;r<n.length;++r)n[r]&&e.push({s:r,f:n[r]});var i=e.length,o=e.slice();if(!i)return{t:lN,l:0};if(i==1){var a=new ta(e[0].s+1);return a[e[0].s]=1,{t:a,l:1}}e.sort(function(C,w){return C.f-w.f}),e.push({s:-1,f:25001});var s=e[0],l=e[1],c=0,u=1,f=2;for(e[0]={s:-1,f:s.f+l.f,l:s,r:l};u!=i-1;)s=e[e[c].f<e[f].f?c++:f++],l=e[c!=u&&e[c].f<e[f].f?c++:f++],e[u++]={s:-1,f:s.f+l.f,l:s,r:l};for(var h=o[0].s,r=1;r<i;++r)o[r].s>h&&(h=o[r].s);var d=new ws(h+1),m=nw(e[u-1],d,0);if(m>t){var r=0,g=0,x=m-t,b=1<<x;for(o.sort(function(w,N){return d[N.s]-d[w.s]||w.f-N.f});r<i;++r){var _=o[r].s;if(d[_]>t)g+=b-(1<<m-d[_]),d[_]=t;else break}for(g>>=x;g>0;){var S=o[r].s;d[S]<t?g-=1<<t-d[S]++-1:++r}for(;r>=0&&g;--r){var T=o[r].s;d[T]==t&&(--d[T],++g)}m=t}return{t:new ta(d),l:m}},nw=function(n,t,e){return n.s==-1?Math.max(nw(n.l,t,e+1),nw(n.r,t,e+1)):t[n.s]=e},AC=function(n){for(var t=n.length;t&&!n[--t];);for(var e=new ws(++t),r=0,i=n[0],o=1,a=function(l){e[r++]=l},s=1;s<=t;++s)if(n[s]==i&&s!=t)++o;else{if(!i&&o>2){for(;o>138;o-=138)a(32754);o>2&&(a(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(a(i),--o;o>6;o-=6)a(8304);o>2&&(a(o-3<<5|8208),o=0)}for(;o--;)a(i);o=1,i=n[s]}return{c:e.subarray(0,r),n:t}},xv=function(n,t){for(var e=0,r=0;r<t.length;++r)e+=n[r]*t[r];return e},sN=function(n,t,e){var r=e.length,i=zS(t+2);n[i]=r&255,n[i+1]=r>>8,n[i+2]=n[i]^255,n[i+3]=n[i+1]^255;for(var o=0;o<r;++o)n[i+o+4]=e[o];return(i+4+r)*8},NC=function(n,t,e,r,i,o,a,s,l,c,u){Wc(t,u++,e),++i[256];for(var f=x2(i,15),h=f.t,d=f.l,m=x2(o,15),g=m.t,x=m.l,b=AC(h),_=b.c,S=b.n,T=AC(g),C=T.c,w=T.n,N=new ws(19),A=0;A<_.length;++A)++N[_[A]&31];for(var A=0;A<C.length;++A)++N[C[A]&31];for(var j=x2(N,7),R=j.t,L=j.l,M=19;M>4&&!R[ew[M-1]];--M);var I=c+5<<3,D=xv(i,Ku)+xv(o,vg)+a,V=xv(i,h)+xv(o,g)+a+14+3*M+xv(N,R)+2*N[16]+3*N[17]+7*N[18];if(l>=0&&I<=D&&I<=V)return sN(t,u,n.subarray(l,l+c));var F,G,W,Y;if(Wc(t,u,1+(V<D)),u+=2,V<D){F=mc(h,d,0),G=h,W=mc(g,x,0),Y=g;var te=mc(R,L,0);Wc(t,u,S-257),Wc(t,u+5,w-1),Wc(t,u+10,M-4),u+=14;for(var A=0;A<M;++A)Wc(t,u+3*A,R[ew[A]]);u+=3*M;for(var he=[_,C],z=0;z<2;++z)for(var Z=he[z],A=0;A<Z.length;++A){var X=Z[A]&31;Wc(t,u,te[X]),u+=R[X],X>15&&(Wc(t,u,Z[A]>>5&127),u+=Z[A]>>12)}}else F=PR,G=Ku,W=kR,Y=vg;for(var A=0;A<s;++A){var ae=r[A];if(ae>255){var X=ae>>18&31;bv(t,u,F[X+257]),u+=G[X+257],X>7&&(Wc(t,u,ae>>23&31),u+=Eb[X]);var ve=ae&31;bv(t,u,W[ve]),u+=Y[ve],ve>3&&(bv(t,u,ae>>5&8191),u+=Ob[ve])}else bv(t,u,F[ae]),u+=G[ae]}return bv(t,u,F[256]),u+G[256]},IR=new VS([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),lN=new ta(0),RR=function(n,t,e,r,i,o){var a=o.z||n.length,s=new ta(r+a+5*(1+Math.ceil(a/7e3))+i),l=s.subarray(r,s.length-i),c=o.l,u=(o.r||0)&7;if(t){u&&(l[0]=o.r>>3);for(var f=IR[t-1],h=f>>13,d=f&8191,m=(1<<e)-1,g=o.p||new ws(32768),x=o.h||new ws(m+1),b=Math.ceil(e/3),_=2*b,S=function($e){return(n[$e]^n[$e+1]<<b^n[$e+2]<<_)&m},T=new VS(25e3),C=new ws(288),w=new ws(32),N=0,A=0,j=o.i||0,R=0,L=o.w||0,M=0;j+2<a;++j){var I=S(j),D=j&32767,V=x[I];if(g[D]=V,x[I]=D,L<=j){var F=a-j;if((N>7e3||R>24576)&&(F>423||!c)){u=NC(n,l,0,T,C,w,A,R,M,j-M,u),R=N=A=0,M=j;for(var G=0;G<286;++G)C[G]=0;for(var G=0;G<30;++G)w[G]=0}var W=2,Y=0,te=d,he=D-V&32767;if(F>2&&I==S(j-he))for(var z=Math.min(h,F)-1,Z=Math.min(32767,j),X=Math.min(258,F);he<=Z&&--te&&D!=V;){if(n[j+W]==n[j+W-he]){for(var ae=0;ae<X&&n[j+ae]==n[j+ae-he];++ae);if(ae>W){if(W=ae,Y=he,ae>z)break;for(var ve=Math.min(he,ae-2),me=0,G=0;G<ve;++G){var Ee=j-he+G&32767,ke=g[Ee],He=Ee-ke&32767;He>me&&(me=He,V=Ee)}}}D=V,V=g[D],he+=D-V&32767}if(Y){T[R++]=268435456|tw[W]<<18|OC[Y];var Re=tw[W]&31,se=OC[Y]&31;A+=Eb[Re]+Ob[se],++C[257+Re],++w[se],L=j+W,++N}else T[R++]=n[j],++C[n[j]]}}for(j=Math.max(j,L);j<a;++j)T[R++]=n[j],++C[n[j]];u=NC(n,l,c,T,C,w,A,R,M,j-M,u),c||(o.r=u&7|l[u/8|0]<<3,u-=7,o.h=x,o.p=g,o.i=j,o.w=L)}else{for(var j=o.w||0;j<a+c;j+=65535){var ce=j+65535;ce>=a&&(l[u/8|0]=c,ce=a),u=sN(l,u+1,n.subarray(j,ce))}o.i=a}return aN(s,0,r+zS(u)+i)},cN=function(){var n=1,t=0;return{p:function(e){for(var r=n,i=t,o=e.length|0,a=0;a!=o;){for(var s=Math.min(a+2655,o);a<s;++a)i+=r+=e[a];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}n=r,t=i},d:function(){return n%=65521,t%=65521,(n&255)<<24|(n&65280)<<8|(t&255)<<8|t>>8}}},FR=function(n,t,e,r,i){if(!i&&(i={l:1},t.dictionary)){var o=t.dictionary.subarray(-32768),a=new ta(o.length+n.length);a.set(o),a.set(n,o.length),n=a,i.w=o.length}return RR(n,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+t.mem,e,r,i)},uN=function(n,t,e){for(;e;++t)n[t]=e,e>>>=8},BR=function(n,t){var e=t.level,r=e==0?0:e<6?1:e==9?3:2;if(n[0]=120,n[1]=r<<6|(t.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,t.dictionary){var i=cN();i.p(t.dictionary),uN(n,2,i.d())}},HR=function(n,t){return((n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31)&&jl(6,"invalid zlib data"),(n[1]>>5&1)==1&&jl(6,"invalid zlib data: "+(n[1]&32?"need":"unexpected")+" dictionary"),(n[1]>>3&4)+2};function iw(n,t){t||(t={});var e=cN();e.p(n);var r=FR(n,t,t.dictionary?6:2,4);return BR(r,t),uN(r,r.length-4,e.d()),r}function $R(n,t){return DR(n.subarray(HR(n),-4),{i:2},t,t)}var UR=typeof TextDecoder<"u"&&new TextDecoder,VR=0;try{UR.decode(lN,{stream:!0}),VR=1}catch{}var $r=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function w2(){$r.console&&typeof $r.console.log=="function"&&$r.console.log.apply($r.console,arguments)}var qn={log:w2,warn:function(n){$r.console&&(typeof $r.console.warn=="function"?$r.console.warn.apply($r.console,arguments):w2.call(null,arguments))},error:function(n){$r.console&&(typeof $r.console.error=="function"?$r.console.error.apply($r.console,arguments):w2(n))}};function _2(n,t,e){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){$f(r.response,t,e)},r.onerror=function(){qn.error("could not download file")},r.send()}function PC(n){var t=new XMLHttpRequest;t.open("HEAD",n,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function om(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(t)}}var qv,ow,$f=$r.saveAs||((typeof window>"u"?"undefined":vn(window))!=="object"||window!==$r?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,t,e){var r=$r.URL||$r.webkitURL,i=document.createElement("a");t=t||n.name||"download",i.download=t,i.rel="noopener",typeof n=="string"?(i.href=n,i.origin!==location.origin?PC(i.href)?_2(n,t,e):om(i,i.target="_blank"):om(i)):(i.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){om(i)},0))}:"msSaveOrOpenBlob"in navigator?function(n,t,e){if(t=t||n.name||"download",typeof n=="string")if(PC(n))_2(n,t,e);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){om(r)})}else navigator.msSaveOrOpenBlob(function(i,o){return o===void 0?o={autoBom:!1}:vn(o)!=="object"&&(qn.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(n,e),t)}:function(n,t,e,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return _2(n,t,e);var i=n.type==="application/octet-stream",o=/constructor/i.test($r.HTMLElement)||$r.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&o)&&(typeof FileReader>"u"?"undefined":vn(FileReader))==="object"){var s=new FileReader;s.onloadend=function(){var u=s.result;u=a?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=u:location=u,r=null},s.readAsDataURL(n)}else{var l=$r.URL||$r.webkitURL,c=l.createObjectURL(n);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function fN(n){var t;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(s){return[parseInt(s[1]),parseInt(s[2]),parseInt(s[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(s){return[parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(s){return[parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16),parseInt(s[3]+s[3],16)]}}],r=0;r<e.length;r++){var i=e[r].re,o=e[r].process,a=i.exec(n);a&&(t=o(a),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var s=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return s.length==1&&(s="0"+s),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+s+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function S2(n,t){var e=n[0],r=n[1],i=n[2],o=n[3];e=qo(e,r,i,o,t[0],7,-680876936),o=qo(o,e,r,i,t[1],12,-389564586),i=qo(i,o,e,r,t[2],17,606105819),r=qo(r,i,o,e,t[3],22,-1044525330),e=qo(e,r,i,o,t[4],7,-176418897),o=qo(o,e,r,i,t[5],12,1200080426),i=qo(i,o,e,r,t[6],17,-1473231341),r=qo(r,i,o,e,t[7],22,-45705983),e=qo(e,r,i,o,t[8],7,1770035416),o=qo(o,e,r,i,t[9],12,-1958414417),i=qo(i,o,e,r,t[10],17,-42063),r=qo(r,i,o,e,t[11],22,-1990404162),e=qo(e,r,i,o,t[12],7,1804603682),o=qo(o,e,r,i,t[13],12,-40341101),i=qo(i,o,e,r,t[14],17,-1502002290),e=Go(e,r=qo(r,i,o,e,t[15],22,1236535329),i,o,t[1],5,-165796510),o=Go(o,e,r,i,t[6],9,-1069501632),i=Go(i,o,e,r,t[11],14,643717713),r=Go(r,i,o,e,t[0],20,-373897302),e=Go(e,r,i,o,t[5],5,-701558691),o=Go(o,e,r,i,t[10],9,38016083),i=Go(i,o,e,r,t[15],14,-660478335),r=Go(r,i,o,e,t[4],20,-405537848),e=Go(e,r,i,o,t[9],5,568446438),o=Go(o,e,r,i,t[14],9,-1019803690),i=Go(i,o,e,r,t[3],14,-187363961),r=Go(r,i,o,e,t[8],20,1163531501),e=Go(e,r,i,o,t[13],5,-1444681467),o=Go(o,e,r,i,t[2],9,-51403784),i=Go(i,o,e,r,t[7],14,1735328473),e=Ko(e,r=Go(r,i,o,e,t[12],20,-1926607734),i,o,t[5],4,-378558),o=Ko(o,e,r,i,t[8],11,-2022574463),i=Ko(i,o,e,r,t[11],16,1839030562),r=Ko(r,i,o,e,t[14],23,-35309556),e=Ko(e,r,i,o,t[1],4,-1530992060),o=Ko(o,e,r,i,t[4],11,1272893353),i=Ko(i,o,e,r,t[7],16,-155497632),r=Ko(r,i,o,e,t[10],23,-1094730640),e=Ko(e,r,i,o,t[13],4,681279174),o=Ko(o,e,r,i,t[0],11,-358537222),i=Ko(i,o,e,r,t[3],16,-722521979),r=Ko(r,i,o,e,t[6],23,76029189),e=Ko(e,r,i,o,t[9],4,-640364487),o=Ko(o,e,r,i,t[12],11,-421815835),i=Ko(i,o,e,r,t[15],16,530742520),e=Yo(e,r=Ko(r,i,o,e,t[2],23,-995338651),i,o,t[0],6,-198630844),o=Yo(o,e,r,i,t[7],10,1126891415),i=Yo(i,o,e,r,t[14],15,-1416354905),r=Yo(r,i,o,e,t[5],21,-57434055),e=Yo(e,r,i,o,t[12],6,1700485571),o=Yo(o,e,r,i,t[3],10,-1894986606),i=Yo(i,o,e,r,t[10],15,-1051523),r=Yo(r,i,o,e,t[1],21,-2054922799),e=Yo(e,r,i,o,t[8],6,1873313359),o=Yo(o,e,r,i,t[15],10,-30611744),i=Yo(i,o,e,r,t[6],15,-1560198380),r=Yo(r,i,o,e,t[13],21,1309151649),e=Yo(e,r,i,o,t[4],6,-145523070),o=Yo(o,e,r,i,t[11],10,-1120210379),i=Yo(i,o,e,r,t[2],15,718787259),r=Yo(r,i,o,e,t[9],21,-343485551),n[0]=$u(e,n[0]),n[1]=$u(r,n[1]),n[2]=$u(i,n[2]),n[3]=$u(o,n[3])}function Ab(n,t,e,r,i,o){return t=$u($u(t,n),$u(r,o)),$u(t<<i|t>>>32-i,e)}function qo(n,t,e,r,i,o,a){return Ab(t&e|~t&r,n,t,i,o,a)}function Go(n,t,e,r,i,o,a){return Ab(t&r|e&~r,n,t,i,o,a)}function Ko(n,t,e,r,i,o,a){return Ab(t^e^r,n,t,i,o,a)}function Yo(n,t,e,r,i,o,a){return Ab(e^(t|~r),n,t,i,o,a)}function dN(n){var t,e=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=n.length;t+=64)S2(r,zR(n.substring(t-64,t)));n=n.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<n.length;t++)i[t>>2]|=n.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(S2(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*e,S2(r,i),r}function zR(n){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=n.charCodeAt(t)+(n.charCodeAt(t+1)<<8)+(n.charCodeAt(t+2)<<16)+(n.charCodeAt(t+3)<<24);return e}qv=$r.atob.bind($r),ow=$r.btoa.bind($r);var jC="0123456789abcdef".split("");function WR(n){for(var t="",e=0;e<4;e++)t+=jC[n>>8*e+4&15]+jC[n>>8*e&15];return t}function qR(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function aw(n){return dN(n).map(qR).join("")}var GR=function(n){for(var t=0;t<n.length;t++)n[t]=WR(n[t]);return n.join("")}(dN("hello"))!="5d41402abc4b2a76b9719d911017c592";function $u(n,t){if(GR){var e=(65535&n)+(65535&t);return(n>>16)+(t>>16)+(e>>16)<<16|65535&e}return n+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function sw(n,t){var e,r,i,o;if(n!==e){for(var a=(i=n,o=1+(256/n.length>>0),new Array(o+1).join(i)),s=[],l=0;l<256;l++)s[l]=l;var c=0;for(l=0;l<256;l++){var u=s[l];c=(c+u+a.charCodeAt(l))%256,s[l]=s[c],s[c]=u}e=n,r=s}else s=r;var f=t.length,h=0,d=0,m="";for(l=0;l<f;l++)d=(d+(u=s[h=(h+1)%256]))%256,s[h]=s[d],s[d]=u,a=s[(s[h]+s[d])%256],m+=String.fromCharCode(t.charCodeAt(l)^a);return m}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var kC={print:4,modify:8,copy:16,"annot-forms":32};function mh(n,t,e,r){this.v=1,this.r=2;var i=192;n.forEach(function(s){if(kC.perm!==void 0)throw new Error("Invalid permission: "+s);i+=kC[s]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var o=(t+this.padding).substr(0,32),a=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,a),this.P=-(1+(255^i)),this.encryptionKey=aw(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=sw(this.encryptionKey,this.padding)}function yh(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var t="",e=n.length,r=0;r<e;r++){var i=n.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?t+="#"+("0"+i.toString(16)).slice(-2):t+=n[r]}return t}function MC(n){if(vn(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,r,i){if(i=i||!1,typeof e!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var o=Math.random().toString(35);return t[e][o]=[r,!!i],o},this.unsubscribe=function(e){for(var r in t)if(t[r][e])return delete t[r][e],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(e){if(t.hasOwnProperty(e)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var o in t[e]){var a=t[e][o];try{a[0].apply(n,r)}catch(s){$r.console&&qn.error("jsPDF PubSub Error",s.message,s)}a[1]&&i.push(o)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function o0(n){if(!(this instanceof o0))return new o0(n);var t="opacity,stroke-opacity".split(",");for(var e in n)n.hasOwnProperty(e)&&t.indexOf(e)>=0&&(this[e]=n[e]);this.id="",this.objectNumber=-1}function hN(n,t){this.gState=n,this.matrix=t,this.id="",this.objectNumber=-1}function qf(n,t,e,r,i){if(!(this instanceof qf))return new qf(n,t,e,r,i);this.type=n==="axial"?2:3,this.coords=t,this.colors=e,hN.call(this,r,i)}function _h(n,t,e,r,i){if(!(this instanceof _h))return new _h(n,t,e,r,i);this.boundingBox=n,this.xStep=t,this.yStep=e,this.stream="",this.cloneIndex=0,hN.call(this,r,i)}function Br(n){var t,e=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],o=arguments[3],a=[],s=1,l=16,c="S",u=null;vn(n=n||{})==="object"&&(e=n.orientation,r=n.unit||r,i=n.format||i,o=n.compress||n.compressPdf||o,(u=n.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),s=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(t=n.precision),n.floatPrecision!==void 0&&(l=n.floatPrecision),c=n.defaultPathOperation||"S"),a=n.filters||(o===!0?["FlateEncode"]:a),r=r||"mm",e=(""+(e||"P")).toLowerCase();var f=n.putOnlyUsedFonts||!1,h={},d={internal:{},__private__:{}};d.__private__.PubSub=MC;var m="1.3",g=d.__private__.getPdfVersion=function(){return m};d.__private__.setPdfVersion=function(U){m=U};var x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};d.__private__.getPageFormats=function(){return x};var b=d.__private__.getPageFormat=function(U){return x[U]};i=i||"a4";var _={COMPAT:"compat",ADVANCED:"advanced"},S=_.COMPAT;function T(){this.saveGraphicsState(),Te(new Bt(ee,0,0,-ee,0,Pa()*ee).toString()+" cm"),this.setFontSize(this.getFontSize()/ee),c="n",S=_.ADVANCED}function C(){this.restoreGraphicsState(),c="S",S=_.COMPAT}var w=d.__private__.combineFontStyleAndFontWeight=function(U,be){if(U=="bold"&&be=="normal"||U=="bold"&&be==400||U=="normal"&&be=="italic"||U=="bold"&&be=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return be&&(U=be==400||be==="normal"?U==="italic"?"italic":"normal":be!=700&&be!=="bold"||U!=="normal"?(be==700?"bold":be)+""+U:"bold"),U};d.advancedAPI=function(U){var be=S===_.COMPAT;return be&&T.call(this),typeof U!="function"||(U(this),be&&C.call(this)),this},d.compatAPI=function(U){var be=S===_.ADVANCED;return be&&C.call(this),typeof U!="function"||(U(this),be&&T.call(this)),this},d.isAdvancedAPI=function(){return S===_.ADVANCED};var N,A=function(U){if(S!==_.ADVANCED)throw new Error(U+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},j=d.roundToPrecision=d.__private__.roundToPrecision=function(U,be){var qe=t||be;if(isNaN(U)||isNaN(qe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return U.toFixed(qe).replace(/0+$/,"")};N=d.hpf=d.__private__.hpf=typeof l=="number"?function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.hpf");return j(U,l)}:l==="smart"?function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.hpf");return j(U,U>-1&&U<1?16:5)}:function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.hpf");return j(U,16)};var R=d.f2=d.__private__.f2=function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.f2");return j(U,2)},L=d.__private__.f3=function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.f3");return j(U,3)},M=d.scale=d.__private__.scale=function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.scale");return S===_.COMPAT?U*ee:S===_.ADVANCED?U:void 0},I=function(U){return S===_.COMPAT?Pa()-U:S===_.ADVANCED?U:void 0},D=function(U){return M(I(U))};d.__private__.setPrecision=d.setPrecision=function(U){typeof parseInt(U,10)=="number"&&(t=parseInt(U,10))};var V,F="00000000000000000000000000000000",G=d.__private__.getFileId=function(){return F},W=d.__private__.setFileId=function(U){return F=U!==void 0&&/^[a-fA-F0-9]{32}$/.test(U)?U.toUpperCase():F.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(yn=new mh(u.userPermissions,u.userPassword,u.ownerPassword,F)),F};d.setFileId=function(U){return W(U),this},d.getFileId=function(){return G()};var Y=d.__private__.convertDateToPDFDate=function(U){var be=U.getTimezoneOffset(),qe=be<0?"+":"-",Qe=Math.floor(Math.abs(be/60)),pt=Math.abs(be%60),Tt=[qe,X(Qe),"'",X(pt),"'"].join("");return["D:",U.getFullYear(),X(U.getMonth()+1),X(U.getDate()),X(U.getHours()),X(U.getMinutes()),X(U.getSeconds()),Tt].join("")},te=d.__private__.convertPDFDateToDate=function(U){var be=parseInt(U.substr(2,4),10),qe=parseInt(U.substr(6,2),10)-1,Qe=parseInt(U.substr(8,2),10),pt=parseInt(U.substr(10,2),10),Tt=parseInt(U.substr(12,2),10),$t=parseInt(U.substr(14,2),10);return new Date(be,qe,Qe,pt,Tt,$t,0)},he=d.__private__.setCreationDate=function(U){var be;if(U===void 0&&(U=new Date),U instanceof Date)be=Y(U);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(U))throw new Error("Invalid argument passed to jsPDF.setCreationDate");be=U}return V=be},z=d.__private__.getCreationDate=function(U){var be=V;return U==="jsDate"&&(be=te(V)),be};d.setCreationDate=function(U){return he(U),this},d.getCreationDate=function(U){return z(U)};var Z,X=d.__private__.padd2=function(U){return("0"+parseInt(U)).slice(-2)},ae=d.__private__.padd2Hex=function(U){return("00"+(U=U.toString())).substr(U.length)},ve=0,me=[],Ee=[],ke=0,He=[],Re=[],se=!1,ce=Ee,$e=function(){ve=0,ke=0,Ee=[],me=[],He=[],mr=or(),Xr=or()};d.__private__.setCustomOutputDestination=function(U){se=!0,ce=U};var Ue=function(U){se||(ce=U)};d.__private__.resetCustomOutputDestination=function(){se=!1,ce=Ee};var Te=d.__private__.out=function(U){return U=U.toString(),ke+=U.length+1,ce.push(U),ce},ft=d.__private__.write=function(U){return Te(arguments.length===1?U.toString():Array.prototype.join.call(arguments," "))},Q=d.__private__.getArrayBuffer=function(U){for(var be=U.length,qe=new ArrayBuffer(be),Qe=new Uint8Array(qe);be--;)Qe[be]=U.charCodeAt(be);return qe},de=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];d.__private__.getStandardFonts=function(){return de};var Ce=n.fontSize||16;d.__private__.setFontSize=d.setFontSize=function(U){return Ce=S===_.ADVANCED?U/ee:U,this};var De,Ke=d.__private__.getFontSize=d.getFontSize=function(){return S===_.COMPAT?Ce:Ce*ee},je=n.R2L||!1;d.__private__.setR2L=d.setR2L=function(U){return je=U,this},d.__private__.getR2L=d.getR2L=function(){return je};var Ze,Ye=d.__private__.setZoomMode=function(U){var be=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(U))De=U;else if(isNaN(U)){if(be.indexOf(U)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+U+'" is not recognized.');De=U}else De=parseInt(U,10)};d.__private__.getZoomMode=function(){return De};var bt,Ut=d.__private__.setPageMode=function(U){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(U)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+U+'" is not recognized.');Ze=U};d.__private__.getPageMode=function(){return Ze};var kt=d.__private__.setLayoutMode=function(U){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(U)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+U+'" is not recognized.');bt=U};d.__private__.getLayoutMode=function(){return bt},d.__private__.setDisplayMode=d.setDisplayMode=function(U,be,qe){return Ye(U),kt(be),Ut(qe),this};var Oe={title:"",subject:"",author:"",keywords:"",creator:""};d.__private__.getDocumentProperty=function(U){if(Object.keys(Oe).indexOf(U)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Oe[U]},d.__private__.getDocumentProperties=function(){return Oe},d.__private__.setDocumentProperties=d.setProperties=d.setDocumentProperties=function(U){for(var be in Oe)Oe.hasOwnProperty(be)&&U[be]&&(Oe[be]=U[be]);return this},d.__private__.setDocumentProperty=function(U,be){if(Object.keys(Oe).indexOf(U)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Oe[U]=be};var fe,ee,tt,Ie,gt,wt={},Ct={},At=[],Ft={},lr={},nr={},vr={},Rr=null,Lr=0,ge=[],We=new MC(d),et=n.hotfixes||[],mt={},Rt={},Zt=[],Bt=function U(be,qe,Qe,pt,Tt,$t){if(!(this instanceof U))return new U(be,qe,Qe,pt,Tt,$t);isNaN(be)&&(be=1),isNaN(qe)&&(qe=0),isNaN(Qe)&&(Qe=0),isNaN(pt)&&(pt=1),isNaN(Tt)&&(Tt=0),isNaN($t)&&($t=0),this._matrix=[be,qe,Qe,pt,Tt,$t]};Object.defineProperty(Bt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(U){this._matrix[0]=U}}),Object.defineProperty(Bt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(U){this._matrix[1]=U}}),Object.defineProperty(Bt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(U){this._matrix[2]=U}}),Object.defineProperty(Bt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(U){this._matrix[3]=U}}),Object.defineProperty(Bt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(U){this._matrix[4]=U}}),Object.defineProperty(Bt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(U){this._matrix[5]=U}}),Object.defineProperty(Bt.prototype,"a",{get:function(){return this._matrix[0]},set:function(U){this._matrix[0]=U}}),Object.defineProperty(Bt.prototype,"b",{get:function(){return this._matrix[1]},set:function(U){this._matrix[1]=U}}),Object.defineProperty(Bt.prototype,"c",{get:function(){return this._matrix[2]},set:function(U){this._matrix[2]=U}}),Object.defineProperty(Bt.prototype,"d",{get:function(){return this._matrix[3]},set:function(U){this._matrix[3]=U}}),Object.defineProperty(Bt.prototype,"e",{get:function(){return this._matrix[4]},set:function(U){this._matrix[4]=U}}),Object.defineProperty(Bt.prototype,"f",{get:function(){return this._matrix[5]},set:function(U){this._matrix[5]=U}}),Object.defineProperty(Bt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Bt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Bt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Bt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Bt.prototype.join=function(U){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(N).join(U)},Bt.prototype.multiply=function(U){var be=U.sx*this.sx+U.shy*this.shx,qe=U.sx*this.shy+U.shy*this.sy,Qe=U.shx*this.sx+U.sy*this.shx,pt=U.shx*this.shy+U.sy*this.sy,Tt=U.tx*this.sx+U.ty*this.shx+this.tx,$t=U.tx*this.shy+U.ty*this.sy+this.ty;return new Bt(be,qe,Qe,pt,Tt,$t)},Bt.prototype.decompose=function(){var U=this.sx,be=this.shy,qe=this.shx,Qe=this.sy,pt=this.tx,Tt=this.ty,$t=Math.sqrt(U*U+be*be),tr=(U/=$t)*qe+(be/=$t)*Qe;qe-=U*tr,Qe-=be*tr;var hr=Math.sqrt(qe*qe+Qe*Qe);return tr/=hr,U*(Qe/=hr)<be*(qe/=hr)&&(U=-U,be=-be,tr=-tr,$t=-$t),{scale:new Bt($t,0,0,hr,0,0),translate:new Bt(1,0,0,1,pt,Tt),rotate:new Bt(U,be,-be,U,0,0),skew:new Bt(1,0,tr,1,0,0)}},Bt.prototype.toString=function(U){return this.join(" ")},Bt.prototype.inversed=function(){var U=this.sx,be=this.shy,qe=this.shx,Qe=this.sy,pt=this.tx,Tt=this.ty,$t=1/(U*Qe-be*qe),tr=Qe*$t,hr=-be*$t,zr=-qe*$t,Hr=U*$t;return new Bt(tr,hr,zr,Hr,-tr*pt-zr*Tt,-hr*pt-Hr*Tt)},Bt.prototype.applyToPoint=function(U){var be=U.x*this.sx+U.y*this.shx+this.tx,qe=U.x*this.shy+U.y*this.sy+this.ty;return new fl(be,qe)},Bt.prototype.applyToRectangle=function(U){var be=this.applyToPoint(U),qe=this.applyToPoint(new fl(U.x+U.w,U.y+U.h));return new dl(be.x,be.y,qe.x-be.x,qe.y-be.y)},Bt.prototype.clone=function(){var U=this.sx,be=this.shy,qe=this.shx,Qe=this.sy,pt=this.tx,Tt=this.ty;return new Bt(U,be,qe,Qe,pt,Tt)},d.Matrix=Bt;var dr=d.matrixMult=function(U,be){return be.multiply(U)},Er=new Bt(1,0,0,1,0,0);d.unitMatrix=d.identityMatrix=Er;var Or=function(U,be){if(!lr[U]){var qe=(be instanceof qf?"Sh":"P")+(Object.keys(Ft).length+1).toString(10);be.id=qe,lr[U]=qe,Ft[qe]=be,We.publish("addPattern",be)}};d.ShadingPattern=qf,d.TilingPattern=_h,d.addShadingPattern=function(U,be){return A("addShadingPattern()"),Or(U,be),this},d.beginTilingPattern=function(U){A("beginTilingPattern()"),Zl(U.boundingBox[0],U.boundingBox[1],U.boundingBox[2]-U.boundingBox[0],U.boundingBox[3]-U.boundingBox[1],U.matrix)},d.endTilingPattern=function(U,be){A("endTilingPattern()"),be.stream=Re[Z].join(`
`),Or(U,be),We.publish("endTilingPattern",be),Zt.pop().restore()};var Ir=d.__private__.newObject=function(){var U=or();return Kr(U,!0),U},or=d.__private__.newObjectDeferred=function(){return ve++,me[ve]=function(){return ke},ve},Kr=function(U,be){return be=typeof be=="boolean"&&be,me[U]=ke,be&&Te(U+" 0 obj"),U},an=d.__private__.newAdditionalObject=function(){var U={objId:or(),content:""};return He.push(U),U},mr=or(),Xr=or(),gr=d.__private__.decodeColorString=function(U){var be=U.split(" ");if(be.length!==2||be[1]!=="g"&&be[1]!=="G")be.length===5&&(be[4]==="k"||be[4]==="K")&&(be=[(1-be[0])*(1-be[3]),(1-be[1])*(1-be[3]),(1-be[2])*(1-be[3]),"r"]);else{var qe=parseFloat(be[0]);be=[qe,qe,qe,"r"]}for(var Qe="#",pt=0;pt<3;pt++)Qe+=("0"+Math.floor(255*parseFloat(be[pt])).toString(16)).slice(-2);return Qe},Vr=d.__private__.encodeColorString=function(U){var be;typeof U=="string"&&(U={ch1:U});var qe=U.ch1,Qe=U.ch2,pt=U.ch3,Tt=U.ch4,$t=U.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof qe=="string"&&qe.charAt(0)!=="#"){var tr=new fN(qe);if(tr.ok)qe=tr.toHex();else if(!/^\d*\.?\d*$/.test(qe))throw new Error('Invalid color "'+qe+'" passed to jsPDF.encodeColorString.')}if(typeof qe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(qe)&&(qe="#"+qe[1]+qe[1]+qe[2]+qe[2]+qe[3]+qe[3]),typeof qe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(qe)){var hr=parseInt(qe.substr(1),16);qe=hr>>16&255,Qe=hr>>8&255,pt=255&hr}if(Qe===void 0||Tt===void 0&&qe===Qe&&Qe===pt)if(typeof qe=="string")be=qe+" "+$t[0];else switch(U.precision){case 2:be=R(qe/255)+" "+$t[0];break;case 3:default:be=L(qe/255)+" "+$t[0]}else if(Tt===void 0||vn(Tt)==="object"){if(Tt&&!isNaN(Tt.a)&&Tt.a===0)return be=["1.","1.","1.",$t[1]].join(" ");if(typeof qe=="string")be=[qe,Qe,pt,$t[1]].join(" ");else switch(U.precision){case 2:be=[R(qe/255),R(Qe/255),R(pt/255),$t[1]].join(" ");break;default:case 3:be=[L(qe/255),L(Qe/255),L(pt/255),$t[1]].join(" ")}}else if(typeof qe=="string")be=[qe,Qe,pt,Tt,$t[2]].join(" ");else switch(U.precision){case 2:be=[R(qe),R(Qe),R(pt),R(Tt),$t[2]].join(" ");break;case 3:default:be=[L(qe),L(Qe),L(pt),L(Tt),$t[2]].join(" ")}return be},er=d.__private__.getFilters=function(){return a},sn=d.__private__.putStream=function(U){var be=(U=U||{}).data||"",qe=U.filters||er(),Qe=U.alreadyAppliedFilters||[],pt=U.addLength1||!1,Tt=be.length,$t=U.objectId,tr=function(Mn){return Mn};if(u!==null&&$t===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(tr=yn.encryptor($t,0));var hr={};qe===!0&&(qe=["FlateEncode"]);var zr=U.additionalKeyValues||[],Hr=(hr=Br.API.processDataByFilters!==void 0?Br.API.processDataByFilters(be,qe):{data:be,reverseChain:[]}).reverseChain+(Array.isArray(Qe)?Qe.join(" "):Qe.toString());if(hr.data.length!==0&&(zr.push({key:"Length",value:hr.data.length}),pt===!0&&zr.push({key:"Length1",value:Tt})),Hr.length!=0)if(Hr.split("/").length-1==1)zr.push({key:"Filter",value:Hr});else{zr.push({key:"Filter",value:"["+Hr+"]"});for(var Qr=0;Qr<zr.length;Qr+=1)if(zr[Qr].key==="DecodeParms"){for(var jn=[],Un=0;Un<hr.reverseChain.split("/").length-1;Un+=1)jn.push("null");jn.push(zr[Qr].value),zr[Qr].value="["+jn.join(" ")+"]"}}Te("<<");for(var kn=0;kn<zr.length;kn++)Te("/"+zr[kn].key+" "+zr[kn].value);Te(">>"),hr.data.length!==0&&(Te("stream"),Te(tr(hr.data)),Te("endstream"))},xr=d.__private__.putPage=function(U){var be=U.number,qe=U.data,Qe=U.objId,pt=U.contentsObjId;Kr(Qe,!0),Te("<</Type /Page"),Te("/Parent "+U.rootDictionaryObjId+" 0 R"),Te("/Resources "+U.resourceDictionaryObjId+" 0 R"),Te("/MediaBox ["+parseFloat(N(U.mediaBox.bottomLeftX))+" "+parseFloat(N(U.mediaBox.bottomLeftY))+" "+N(U.mediaBox.topRightX)+" "+N(U.mediaBox.topRightY)+"]"),U.cropBox!==null&&Te("/CropBox ["+N(U.cropBox.bottomLeftX)+" "+N(U.cropBox.bottomLeftY)+" "+N(U.cropBox.topRightX)+" "+N(U.cropBox.topRightY)+"]"),U.bleedBox!==null&&Te("/BleedBox ["+N(U.bleedBox.bottomLeftX)+" "+N(U.bleedBox.bottomLeftY)+" "+N(U.bleedBox.topRightX)+" "+N(U.bleedBox.topRightY)+"]"),U.trimBox!==null&&Te("/TrimBox ["+N(U.trimBox.bottomLeftX)+" "+N(U.trimBox.bottomLeftY)+" "+N(U.trimBox.topRightX)+" "+N(U.trimBox.topRightY)+"]"),U.artBox!==null&&Te("/ArtBox ["+N(U.artBox.bottomLeftX)+" "+N(U.artBox.bottomLeftY)+" "+N(U.artBox.topRightX)+" "+N(U.artBox.topRightY)+"]"),typeof U.userUnit=="number"&&U.userUnit!==1&&Te("/UserUnit "+U.userUnit),We.publish("putPage",{objId:Qe,pageContext:ge[be],pageNumber:be,page:qe}),Te("/Contents "+pt+" 0 R"),Te(">>"),Te("endobj");var Tt=qe.join(`
`);return S===_.ADVANCED&&(Tt+=`
Q`),Kr(pt,!0),sn({data:Tt,filters:er(),objectId:pt}),Te("endobj"),Qe},ln=d.__private__.putPages=function(){var U,be,qe=[];for(U=1;U<=Lr;U++)ge[U].objId=or(),ge[U].contentsObjId=or();for(U=1;U<=Lr;U++)qe.push(xr({number:U,data:Re[U],objId:ge[U].objId,contentsObjId:ge[U].contentsObjId,mediaBox:ge[U].mediaBox,cropBox:ge[U].cropBox,bleedBox:ge[U].bleedBox,trimBox:ge[U].trimBox,artBox:ge[U].artBox,userUnit:ge[U].userUnit,rootDictionaryObjId:mr,resourceDictionaryObjId:Xr}));Kr(mr,!0),Te("<</Type /Pages");var Qe="/Kids [";for(be=0;be<Lr;be++)Qe+=qe[be]+" 0 R ";Te(Qe+"]"),Te("/Count "+Lr),Te(">>"),Te("endobj"),We.publish("postPutPages")},qr=function(U){We.publish("putFont",{font:U,out:Te,newObject:Ir,putStream:sn}),U.isAlreadyPutted!==!0&&(U.objectNumber=Ir(),Te("<<"),Te("/Type /Font"),Te("/BaseFont /"+yh(U.postScriptName)),Te("/Subtype /Type1"),typeof U.encoding=="string"&&Te("/Encoding /"+U.encoding),Te("/FirstChar 32"),Te("/LastChar 255"),Te(">>"),Te("endobj"))},un=function(){for(var U in wt)wt.hasOwnProperty(U)&&(f===!1||f===!0&&h.hasOwnProperty(U))&&qr(wt[U])},wr=function(U){U.objectNumber=Ir();var be=[];be.push({key:"Type",value:"/XObject"}),be.push({key:"Subtype",value:"/Form"}),be.push({key:"BBox",value:"["+[N(U.x),N(U.y),N(U.x+U.width),N(U.y+U.height)].join(" ")+"]"}),be.push({key:"Matrix",value:"["+U.matrix.toString()+"]"});var qe=U.pages[1].join(`
`);sn({data:qe,additionalKeyValues:be,objectId:U.objectNumber}),Te("endobj")},$=function(){for(var U in mt)mt.hasOwnProperty(U)&&wr(mt[U])},oe=function(U,be){var qe,Qe=[],pt=1/(be-1);for(qe=0;qe<1;qe+=pt)Qe.push(qe);if(Qe.push(1),U[0].offset!=0){var Tt={offset:0,color:U[0].color};U.unshift(Tt)}if(U[U.length-1].offset!=1){var $t={offset:1,color:U[U.length-1].color};U.push($t)}for(var tr="",hr=0,zr=0;zr<Qe.length;zr++){for(qe=Qe[zr];qe>U[hr+1].offset;)hr++;var Hr=U[hr].offset,Qr=(qe-Hr)/(U[hr+1].offset-Hr),jn=U[hr].color,Un=U[hr+1].color;tr+=ae(Math.round((1-Qr)*jn[0]+Qr*Un[0]).toString(16))+ae(Math.round((1-Qr)*jn[1]+Qr*Un[1]).toString(16))+ae(Math.round((1-Qr)*jn[2]+Qr*Un[2]).toString(16))}return tr.trim()},J=function(U,be){be||(be=21);var qe=Ir(),Qe=oe(U.colors,be),pt=[];pt.push({key:"FunctionType",value:"0"}),pt.push({key:"Domain",value:"[0.0 1.0]"}),pt.push({key:"Size",value:"["+be+"]"}),pt.push({key:"BitsPerSample",value:"8"}),pt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),pt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),sn({data:Qe,additionalKeyValues:pt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:qe}),Te("endobj"),U.objectNumber=Ir(),Te("<< /ShadingType "+U.type),Te("/ColorSpace /DeviceRGB");var Tt="/Coords ["+N(parseFloat(U.coords[0]))+" "+N(parseFloat(U.coords[1]))+" ";U.type===2?Tt+=N(parseFloat(U.coords[2]))+" "+N(parseFloat(U.coords[3])):Tt+=N(parseFloat(U.coords[2]))+" "+N(parseFloat(U.coords[3]))+" "+N(parseFloat(U.coords[4]))+" "+N(parseFloat(U.coords[5])),Te(Tt+="]"),U.matrix&&Te("/Matrix ["+U.matrix.toString()+"]"),Te("/Function "+qe+" 0 R"),Te("/Extend [true true]"),Te(">>"),Te("endobj")},Fe=function(U,be){var qe=or(),Qe=Ir();be.push({resourcesOid:qe,objectOid:Qe}),U.objectNumber=Qe;var pt=[];pt.push({key:"Type",value:"/Pattern"}),pt.push({key:"PatternType",value:"1"}),pt.push({key:"PaintType",value:"1"}),pt.push({key:"TilingType",value:"1"}),pt.push({key:"BBox",value:"["+U.boundingBox.map(N).join(" ")+"]"}),pt.push({key:"XStep",value:N(U.xStep)}),pt.push({key:"YStep",value:N(U.yStep)}),pt.push({key:"Resources",value:qe+" 0 R"}),U.matrix&&pt.push({key:"Matrix",value:"["+U.matrix.toString()+"]"}),sn({data:U.stream,additionalKeyValues:pt,objectId:U.objectNumber}),Te("endobj")},it=function(U){var be;for(be in Ft)Ft.hasOwnProperty(be)&&(Ft[be]instanceof qf?J(Ft[be]):Ft[be]instanceof _h&&Fe(Ft[be],U))},qt=function(U){for(var be in U.objectNumber=Ir(),Te("<<"),U)switch(be){case"opacity":Te("/ca "+R(U[be]));break;case"stroke-opacity":Te("/CA "+R(U[be]))}Te(">>"),Te("endobj")},fn=function(){var U;for(U in nr)nr.hasOwnProperty(U)&&qt(nr[U])},br=function(){for(var U in Te("/XObject <<"),mt)mt.hasOwnProperty(U)&&mt[U].objectNumber>=0&&Te("/"+U+" "+mt[U].objectNumber+" 0 R");We.publish("putXobjectDict"),Te(">>")},dt=function(){yn.oid=Ir(),Te("<<"),Te("/Filter /Standard"),Te("/V "+yn.v),Te("/R "+yn.r),Te("/U <"+yn.toHexString(yn.U)+">"),Te("/O <"+yn.toHexString(yn.O)+">"),Te("/P "+yn.P),Te(">>"),Te("endobj")},ie=function(){for(var U in Te("/Font <<"),wt)wt.hasOwnProperty(U)&&(f===!1||f===!0&&h.hasOwnProperty(U))&&Te("/"+U+" "+wt[U].objectNumber+" 0 R");Te(">>")},Nr=function(){if(Object.keys(Ft).length>0){for(var U in Te("/Shading <<"),Ft)Ft.hasOwnProperty(U)&&Ft[U]instanceof qf&&Ft[U].objectNumber>=0&&Te("/"+U+" "+Ft[U].objectNumber+" 0 R");We.publish("putShadingPatternDict"),Te(">>")}},_e=function(U){if(Object.keys(Ft).length>0){for(var be in Te("/Pattern <<"),Ft)Ft.hasOwnProperty(be)&&Ft[be]instanceof d.TilingPattern&&Ft[be].objectNumber>=0&&Ft[be].objectNumber<U&&Te("/"+be+" "+Ft[be].objectNumber+" 0 R");We.publish("putTilingPatternDict"),Te(">>")}},ze=function(){if(Object.keys(nr).length>0){var U;for(U in Te("/ExtGState <<"),nr)nr.hasOwnProperty(U)&&nr[U].objectNumber>=0&&Te("/"+U+" "+nr[U].objectNumber+" 0 R");We.publish("putGStateDict"),Te(">>")}},ht=function(U){Kr(U.resourcesOid,!0),Te("<<"),Te("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),ie(),Nr(),_e(U.objectOid),ze(),br(),Te(">>"),Te("endobj")},Nt=function(){var U=[];un(),fn(),$(),it(U),We.publish("putResources"),U.forEach(ht),ht({resourcesOid:Xr,objectOid:Number.MAX_SAFE_INTEGER}),We.publish("postPutResources")},It=function(){We.publish("putAdditionalObjects");for(var U=0;U<He.length;U++){var be=He[U];Kr(be.objId,!0),Te(be.content),Te("endobj")}We.publish("postPutAdditionalObjects")},Pr=function(U){Ct[U.fontName]=Ct[U.fontName]||{},Ct[U.fontName][U.fontStyle]=U.id},Dr=function(U,be,qe,Qe,pt){var Tt={id:"F"+(Object.keys(wt).length+1).toString(10),postScriptName:U,fontName:be,fontStyle:qe,encoding:Qe,isStandardFont:pt||!1,metadata:{}};return We.publish("addFont",{font:Tt,instance:this}),wt[Tt.id]=Tt,Pr(Tt),Tt.id},An=function(U){for(var be=0,qe=de.length;be<qe;be++){var Qe=Dr.call(this,U[be][0],U[be][1],U[be][2],de[be][3],!0);f===!1&&(h[Qe]=!0);var pt=U[be][0].split("-");Pr({id:Qe,fontName:pt[0],fontStyle:pt[1]||""})}We.publish("addFonts",{fonts:wt,dictionary:Ct})},Zr=function(U){return U.foo=function(){try{return U.apply(this,arguments)}catch(Qe){var be=Qe.stack||"";~be.indexOf(" at ")&&(be=be.split(" at ")[1]);var qe="Error in function "+be.split(`
`)[0].split("<")[0]+": "+Qe.message;if(!$r.console)throw new Error(qe);$r.console.error(qe,Qe),$r.alert&&alert(qe)}},U.foo.bar=U,U.foo},Li=function(U,be){var qe,Qe,pt,Tt,$t,tr,hr,zr,Hr;if(pt=(be=be||{}).sourceEncoding||"Unicode",$t=be.outputEncoding,(be.autoencode||$t)&&wt[fe].metadata&&wt[fe].metadata[pt]&&wt[fe].metadata[pt].encoding&&(Tt=wt[fe].metadata[pt].encoding,!$t&&wt[fe].encoding&&($t=wt[fe].encoding),!$t&&Tt.codePages&&($t=Tt.codePages[0]),typeof $t=="string"&&($t=Tt[$t]),$t)){for(hr=!1,tr=[],qe=0,Qe=U.length;qe<Qe;qe++)(zr=$t[U.charCodeAt(qe)])?tr.push(String.fromCharCode(zr)):tr.push(U[qe]),tr[qe].charCodeAt(0)>>8&&(hr=!0);U=tr.join("")}for(qe=U.length;hr===void 0&&qe!==0;)U.charCodeAt(qe-1)>>8&&(hr=!0),qe--;if(!hr)return U;for(tr=be.noBOM?[]:[254,255],qe=0,Qe=U.length;qe<Qe;qe++){if((Hr=(zr=U.charCodeAt(qe))>>8)>>8)throw new Error("Character at position "+qe+" of string '"+U+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");tr.push(Hr),tr.push(zr-(Hr<<8))}return String.fromCharCode.apply(void 0,tr)},bi=d.__private__.pdfEscape=d.pdfEscape=function(U,be){return Li(U,be).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},oa=d.__private__.beginPage=function(U){Re[++Lr]=[],ge[Lr]={objId:0,contentsObjId:0,userUnit:Number(s),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(U[0]),topRightY:Number(U[1])}},Es(Lr),Ue(Re[Z])},Aa=function(U,be){var qe,Qe,pt;switch(e=be||e,typeof U=="string"&&(qe=b(U.toLowerCase()),Array.isArray(qe)&&(Qe=qe[0],pt=qe[1])),Array.isArray(U)&&(Qe=U[0]*ee,pt=U[1]*ee),isNaN(Qe)&&(Qe=i[0],pt=i[1]),(Qe>14400||pt>14400)&&(qn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Qe=Math.min(14400,Qe),pt=Math.min(14400,pt)),i=[Qe,pt],e.substr(0,1)){case"l":pt>Qe&&(i=[pt,Qe]);break;case"p":Qe>pt&&(i=[pt,Qe])}oa(i),To($n),Te(Bo),Kl!==0&&Te(Kl+" J"),Yl!==0&&Te(Yl+" j"),We.publish("addPage",{pageNumber:Lr})},rs=function(U){U>0&&U<=Lr&&(Re.splice(U,1),ge.splice(U,1),Lr--,Z>Lr&&(Z=Lr),this.setPage(Z))},Es=function(U){U>0&&U<=Lr&&(Z=U)},Os=d.__private__.getNumberOfPages=d.getNumberOfPages=function(){return Re.length-1},ns=function(U,be,qe){var Qe,pt=void 0;return qe=qe||{},U=U!==void 0?U:wt[fe].fontName,be=be!==void 0?be:wt[fe].fontStyle,Qe=U.toLowerCase(),Ct[Qe]!==void 0&&Ct[Qe][be]!==void 0?pt=Ct[Qe][be]:Ct[U]!==void 0&&Ct[U][be]!==void 0?pt=Ct[U][be]:qe.disableWarning===!1&&qn.warn("Unable to look up font label for font '"+U+"', '"+be+"'. Refer to getFontList() for available fonts."),pt||qe.noFallback||(pt=Ct.times[be])==null&&(pt=Ct.times.normal),pt},is=d.__private__.putInfo=function(){var U=Ir(),be=function(Qe){return Qe};for(var qe in u!==null&&(be=yn.encryptor(U,0)),Te("<<"),Te("/Producer ("+bi(be("jsPDF "+Br.version))+")"),Oe)Oe.hasOwnProperty(qe)&&Oe[qe]&&Te("/"+qe.substr(0,1).toUpperCase()+qe.substr(1)+" ("+bi(be(Oe[qe]))+")");Te("/CreationDate ("+bi(be(V))+")"),Te(">>"),Te("endobj")},Io=d.__private__.putCatalog=function(U){var be=(U=U||{}).rootDictionaryObjId||mr;switch(Ir(),Te("<<"),Te("/Type /Catalog"),Te("/Pages "+be+" 0 R"),De||(De="fullwidth"),De){case"fullwidth":Te("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Te("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Te("/OpenAction [3 0 R /Fit]");break;case"original":Te("/OpenAction [3 0 R /XYZ null null 1]");break;default:var qe=""+De;qe.substr(qe.length-1)==="%"&&(De=parseInt(De)/100),typeof De=="number"&&Te("/OpenAction [3 0 R /XYZ null null "+R(De)+"]")}switch(bt||(bt="continuous"),bt){case"continuous":Te("/PageLayout /OneColumn");break;case"single":Te("/PageLayout /SinglePage");break;case"two":case"twoleft":Te("/PageLayout /TwoColumnLeft");break;case"tworight":Te("/PageLayout /TwoColumnRight")}Ze&&Te("/PageMode /"+Ze),We.publish("putCatalog"),Te(">>"),Te("endobj")},aa=d.__private__.putTrailer=function(){Te("trailer"),Te("<<"),Te("/Size "+(ve+1)),Te("/Root "+ve+" 0 R"),Te("/Info "+(ve-1)+" 0 R"),u!==null&&Te("/Encrypt "+yn.oid+" 0 R"),Te("/ID [ <"+F+"> <"+F+"> ]"),Te(">>")},As=d.__private__.putHeader=function(){Te("%PDF-"+m),Te("%ºß¬à")},ti=d.__private__.putXRef=function(){var U="0000000000";Te("xref"),Te("0 "+(ve+1)),Te("0000000000 65535 f ");for(var be=1;be<=ve;be++)typeof me[be]=="function"?Te((U+me[be]()).slice(-10)+" 00000 n "):me[be]!==void 0?Te((U+me[be]).slice(-10)+" 00000 n "):Te("0000000000 00000 n ")},Nn=d.__private__.buildDocument=function(){$e(),Ue(Ee),We.publish("buildDocument"),As(),ln(),It(),Nt(),u!==null&&dt(),is(),Io();var U=ke;return ti(),aa(),Te("startxref"),Te(""+U),Te("%%EOF"),Ue(Re[Z]),Ee.join(`
`)},Na=d.__private__.getBlob=function(U){return new Blob([Q(U)],{type:"application/pdf"})},Vi=d.output=d.__private__.output=Zr(function(U,be){switch(typeof(be=be||{})=="string"?be={filename:be}:be.filename=be.filename||"generated.pdf",U){case void 0:return Nn();case"save":d.save(be.filename);break;case"arraybuffer":return Q(Nn());case"blob":return Na(Nn());case"bloburi":case"bloburl":if($r.URL!==void 0&&typeof $r.URL.createObjectURL=="function")return $r.URL&&$r.URL.createObjectURL(Na(Nn()))||void 0;qn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var qe="",Qe=Nn();try{qe=ow(Qe)}catch{qe=ow(unescape(encodeURIComponent(Qe)))}return"data:application/pdf;filename="+be.filename+";base64,"+qe;case"pdfobjectnewwindow":if(Object.prototype.toString.call($r)==="[object Window]"){var pt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Tt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';be.pdfObjectUrl&&(pt=be.pdfObjectUrl,Tt="");var $t='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+pt+'"'+Tt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(be)+");<\/script></body></html>",tr=$r.open();return tr!==null&&tr.document.write($t),tr}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call($r)==="[object Window]"){var hr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(be.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+be.filename+'" width="500px" height="400px" /></body></html>',zr=$r.open();if(zr!==null){zr.document.write(hr);var Hr=this;zr.document.documentElement.querySelector("#pdfViewer").onload=function(){zr.document.title=be.filename,zr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Hr.output("bloburl"))}}return zr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call($r)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Qr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",be)+'"></iframe></body></html>',jn=$r.open();if(jn!==null&&(jn.document.write(Qr),jn.document.title=be.filename),jn||typeof safari>"u")return jn;break;case"datauri":case"dataurl":return $r.document.location.href=this.output("datauristring",be);default:return null}}),Ro=function(U){return Array.isArray(et)===!0&&et.indexOf(U)>-1};switch(r){case"pt":ee=1;break;case"mm":ee=72/25.4;break;case"cm":ee=72/2.54;break;case"in":ee=72;break;case"px":ee=Ro("px_scaling")==1?.75:96/72;break;case"pc":case"em":ee=12;break;case"ex":ee=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);ee=r}var yn=null;he(),W();var hi=function(U){return u!==null?yn.encryptor(U,0):function(be){return be}},cl=d.__private__.getPageInfo=d.getPageInfo=function(U){if(isNaN(U)||U%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ge[U].objId,pageNumber:U,pageContext:ge[U]}},Sr=d.__private__.getPageInfoByObjId=function(U){if(isNaN(U)||U%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var be in ge)if(ge[be].objId===U)break;return cl(be)},So=d.__private__.getCurrentPageInfo=d.getCurrentPageInfo=function(){return{objId:ge[Z].objId,pageNumber:Z,pageContext:ge[Z]}};d.addPage=function(){return Aa.apply(this,arguments),this},d.setPage=function(){return Es.apply(this,arguments),Ue.call(this,Re[Z]),this},d.insertPage=function(U){return this.addPage(),this.movePage(Z,U),this},d.movePage=function(U,be){var qe,Qe;if(U>be){qe=Re[U],Qe=ge[U];for(var pt=U;pt>be;pt--)Re[pt]=Re[pt-1],ge[pt]=ge[pt-1];Re[be]=qe,ge[be]=Qe,this.setPage(be)}else if(U<be){qe=Re[U],Qe=ge[U];for(var Tt=U;Tt<be;Tt++)Re[Tt]=Re[Tt+1],ge[Tt]=ge[Tt+1];Re[be]=qe,ge[be]=Qe,this.setPage(be)}return this},d.deletePage=function(){return rs.apply(this,arguments),this},d.__private__.text=d.text=function(U,be,qe,Qe,pt){var Tt,$t,tr,hr,zr,Hr,Qr,jn,Un,kn=(Qe=Qe||{}).scope||this;if(typeof U=="number"&&typeof be=="number"&&(typeof qe=="string"||Array.isArray(qe))){var Mn=qe;qe=be,be=U,U=Mn}if(arguments[3]instanceof Bt?(A("The transform parameter of text() with a Matrix value"),Un=pt):(tr=arguments[4],hr=arguments[5],vn(Qr=arguments[3])==="object"&&Qr!==null||(typeof tr=="string"&&(hr=tr,tr=null),typeof Qr=="string"&&(hr=Qr,Qr=null),typeof Qr=="number"&&(tr=Qr,Qr=null),Qe={flags:Qr,angle:tr,align:hr})),isNaN(be)||isNaN(qe)||U==null)throw new Error("Invalid arguments passed to jsPDF.text");if(U.length===0)return kn;var Vn="",Ji=!1,po=typeof Qe.lineHeightFactor=="number"?Qe.lineHeightFactor:bn,ri=kn.internal.scaleFactor;function ka(Fn){return Fn=Fn.split("	").join(Array(Qe.TabLen||9).join(" ")),bi(Fn,Qr)}function ue(Fn){for(var Ln,Wn=Fn.concat(),Ti=[],Rs=Wn.length;Rs--;)typeof(Ln=Wn.shift())=="string"?Ti.push(Ln):Array.isArray(Fn)&&(Ln.length===1||Ln[1]===void 0&&Ln[2]===void 0)?Ti.push(Ln[0]):Ti.push([Ln[0],Ln[1],Ln[2]]);return Ti}function Ae(Fn,Ln){var Wn;if(typeof Fn=="string")Wn=Ln(Fn)[0];else if(Array.isArray(Fn)){for(var Ti,Rs,ec=Fn.concat(),xu=[],wu=ec.length;wu--;)typeof(Ti=ec.shift())=="string"?xu.push(Ln(Ti)[0]):Array.isArray(Ti)&&typeof Ti[0]=="string"&&(Rs=Ln(Ti[0],Ti[1],Ti[2]),xu.push([Rs[0],Rs[1],Rs[2]]));Wn=xu}return Wn}var Ge=!1,Je=!0;if(typeof U=="string")Ge=!0;else if(Array.isArray(U)){var lt=U.concat();$t=[];for(var at,xt=lt.length;xt--;)(typeof(at=lt.shift())!="string"||Array.isArray(at)&&typeof at[0]!="string")&&(Je=!1);Ge=Je}if(Ge===!1)throw new Error('Type of text must be string or Array. "'+U+'" is not recognized.');typeof U=="string"&&(U=U.match(/[\r?\n]/)?U.split(/\r\n|\r|\n/g):[U]);var Vt=Ce/kn.internal.scaleFactor,Mr=Vt*(po-1);switch(Qe.baseline){case"bottom":qe-=Mr;break;case"top":qe+=Vt-Mr;break;case"hanging":qe+=Vt-2*Mr;break;case"middle":qe+=Vt/2-Mr}if((Hr=Qe.maxWidth||0)>0&&(typeof U=="string"?U=kn.splitTextToSize(U,Hr):Object.prototype.toString.call(U)==="[object Array]"&&(U=U.reduce(function(Fn,Ln){return Fn.concat(kn.splitTextToSize(Ln,Hr))},[]))),Tt={text:U,x:be,y:qe,options:Qe,mutex:{pdfEscape:bi,activeFontKey:fe,fonts:wt,activeFontSize:Ce}},We.publish("preProcessText",Tt),U=Tt.text,tr=(Qe=Tt.options).angle,!(Un instanceof Bt)&&tr&&typeof tr=="number"){tr*=Math.PI/180,Qe.rotationDirection===0&&(tr=-tr),S===_.ADVANCED&&(tr=-tr);var Ar=Math.cos(tr),Yn=Math.sin(tr);Un=new Bt(Ar,Yn,-Yn,Ar,0,0)}else tr&&tr instanceof Bt&&(Un=tr);S!==_.ADVANCED||Un||(Un=Er),(zr=Qe.charSpace||Ms)!==void 0&&(Vn+=N(M(zr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(jn=Qe.horizontalScale)!==void 0&&(Vn+=N(100*jn)+` Tz
`),Qe.lang;var _n=-1,yu=Qe.renderingMode!==void 0?Qe.renderingMode:Qe.stroke,hl=kn.internal.getCurrentPageInfo().pageContext;switch(yu){case 0:case!1:case"fill":_n=0;break;case 1:case!0:case"stroke":_n=1;break;case 2:case"fillThenStroke":_n=2;break;case 3:case"invisible":_n=3;break;case 4:case"fillAndAddForClipping":_n=4;break;case 5:case"strokeAndAddPathForClipping":_n=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":_n=6;break;case 7:case"addToPathForClipping":_n=7}var cf=hl.usedRenderingMode!==void 0?hl.usedRenderingMode:-1;_n!==-1?Vn+=_n+` Tr
`:cf!==-1&&(Vn+=`0 Tr
`),_n!==-1&&(hl.usedRenderingMode=_n),hr=Qe.align||"left";var vo,Nc=Ce*po,uf=kn.internal.pageSize.getWidth(),bu=wt[fe];zr=Qe.charSpace||Ms,Hr=Qe.maxWidth||0,Qr=Object.assign({autoencode:!0,noBOM:!0},Qe.flags);var ss=[],Ql=function(Fn){return kn.getStringUnitWidth(Fn,{font:bu,charSpace:zr,fontSize:Ce,doKerning:!1})*Ce/ri};if(Object.prototype.toString.call(U)==="[object Array]"){var Qi;$t=ue(U),hr!=="left"&&(vo=$t.map(Ql));var zn,pl=0;if(hr==="right"){be-=vo[0],U=[],xt=$t.length;for(var ls=0;ls<xt;ls++)ls===0?(zn=wi(be),Qi=Zi(qe)):(zn=M(pl-vo[ls]),Qi=-Nc),U.push([$t[ls],zn,Qi]),pl=vo[ls]}else if(hr==="center"){be-=vo[0]/2,U=[],xt=$t.length;for(var cs=0;cs<xt;cs++)cs===0?(zn=wi(be),Qi=Zi(qe)):(zn=M((pl-vo[cs])/2),Qi=-Nc),U.push([$t[cs],zn,Qi]),pl=vo[cs]}else if(hr==="left"){U=[],xt=$t.length;for(var Pc=0;Pc<xt;Pc++)U.push($t[Pc])}else if(hr==="justify"&&bu.encoding==="Identity-H"){U=[],xt=$t.length,Hr=Hr!==0?Hr:uf;for(var Ds=0,ni=0;ni<xt;ni++)if(Qi=ni===0?Zi(qe):-Nc,zn=ni===0?wi(be):Ds,ni<xt-1){var ff=M((Hr-vo[ni])/($t[ni].split(" ").length-1)),Co=$t[ni].split(" ");U.push([Co[0]+" ",zn,Qi]),Ds=0;for(var Ma=1;Ma<Co.length;Ma++){var La=(Ql(Co[Ma-1]+" "+Co[Ma])-Ql(Co[Ma]))*ri+ff;Ma==Co.length-1?U.push([Co[Ma],La,0]):U.push([Co[Ma]+" ",La,0]),Ds-=La}}else U.push([$t[ni],zn,Qi]);U.push(["",Ds,0])}else{if(hr!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(U=[],xt=$t.length,Hr=Hr!==0?Hr:uf,ni=0;ni<xt;ni++)Qi=ni===0?Zi(qe):-Nc,zn=ni===0?wi(be):0,ni<xt-1?ss.push(N(M((Hr-vo[ni])/($t[ni].split(" ").length-1)))):ss.push(0),U.push([$t[ni],zn,Qi])}}var vl=typeof Qe.R2L=="boolean"?Qe.R2L:je;vl===!0&&(U=Ae(U,function(Fn,Ln,Wn){return[Fn.split("").reverse().join(""),Ln,Wn]})),Tt={text:U,x:be,y:qe,options:Qe,mutex:{pdfEscape:bi,activeFontKey:fe,fonts:wt,activeFontSize:Ce}},We.publish("postProcessText",Tt),U=Tt.text,Ji=Tt.mutex.isHex||!1;var Is=wt[fe].encoding;Is!=="WinAnsiEncoding"&&Is!=="StandardEncoding"||(U=Ae(U,function(Fn,Ln,Wn){return[ka(Fn),Ln,Wn]})),$t=ue(U),U=[];for(var gl,ml,yl,bl=0,Da=1,ua=Array.isArray($t[0])?Da:bl,vi="",Ia=function(Fn,Ln,Wn){var Ti="";return Wn instanceof Bt?(Wn=typeof Qe.angle=="number"?dr(Wn,new Bt(1,0,0,1,Fn,Ln)):dr(new Bt(1,0,0,1,Fn,Ln),Wn),S===_.ADVANCED&&(Wn=dr(new Bt(1,0,0,-1,0,0),Wn)),Ti=Wn.join(" ")+` Tm
`):Ti=N(Fn)+" "+N(Ln)+` Td
`,Ti},Di=0;Di<$t.length;Di++){switch(vi="",ua){case Da:yl=(Ji?"<":"(")+$t[Di][0]+(Ji?">":")"),gl=parseFloat($t[Di][1]),ml=parseFloat($t[Di][2]);break;case bl:yl=(Ji?"<":"(")+$t[Di]+(Ji?">":")"),gl=wi(be),ml=Zi(qe)}ss!==void 0&&ss[Di]!==void 0&&(vi=ss[Di]+` Tw
`),Di===0?U.push(vi+Ia(gl,ml,Un)+yl):ua===bl?U.push(vi+yl):ua===Da&&U.push(vi+Ia(gl,ml,Un)+yl)}U=ua===bl?U.join(` Tj
T* `):U.join(` Tj
`),U+=` Tj
`;var Eo=`BT
/`;return Eo+=fe+" "+Ce+` Tf
`,Eo+=N(Ce*po)+` TL
`,Eo+=ks+`
`,Eo+=Vn,Eo+=U,Te(Eo+="ET"),h[fe]=!0,kn};var os=d.__private__.clip=d.clip=function(U){return Te(U==="evenodd"?"W*":"W"),this};d.clipEvenOdd=function(){return os("evenodd")},d.__private__.discardPath=d.discardPath=function(){return Te("n"),this};var pi=d.__private__.isValidStyle=function(U){var be=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(U)!==-1&&(be=!0),be};d.__private__.setDefaultPathOperation=d.setDefaultPathOperation=function(U){return pi(U)&&(c=U),this};var ho=d.__private__.getStyle=d.getStyle=function(U){var be=c;switch(U){case"D":case"S":be="S";break;case"F":be="f";break;case"FD":case"DF":be="B";break;case"f":case"f*":case"B":case"B*":be=U}return be},Ns=d.close=function(){return Te("h"),this};d.stroke=function(){return Te("S"),this},d.fill=function(U){return sa("f",U),this},d.fillEvenOdd=function(U){return sa("f*",U),this},d.fillStroke=function(U){return sa("B",U),this},d.fillStrokeEvenOdd=function(U){return sa("B*",U),this};var sa=function(U,be){vn(be)==="object"?as(be,U):Te(U)},la=function(U){U===null||S===_.ADVANCED&&U===void 0||(U=ho(U),Te(U))};function Fo(U,be,qe,Qe,pt){var Tt=new _h(be||this.boundingBox,qe||this.xStep,Qe||this.yStep,this.gState,pt||this.matrix);Tt.stream=this.stream;var $t=U+"$$"+this.cloneIndex+++"$$";return Or($t,Tt),Tt}var as=function(U,be){var qe=lr[U.key],Qe=Ft[qe];if(Qe instanceof qf)Te("q"),Te(ca(be)),Qe.gState&&d.setGState(Qe.gState),Te(U.matrix.toString()+" cm"),Te("/"+qe+" sh"),Te("Q");else if(Qe instanceof _h){var pt=new Bt(1,0,0,-1,0,Pa());U.matrix&&(pt=pt.multiply(U.matrix||Er),qe=Fo.call(Qe,U.key,U.boundingBox,U.xStep,U.yStep,pt).id),Te("q"),Te("/Pattern cs"),Te("/"+qe+" scn"),Qe.gState&&d.setGState(Qe.gState),Te(be),Te("Q")}},ca=function(U){switch(U){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},cr=d.moveTo=function(U,be){return Te(N(M(U))+" "+N(D(be))+" m"),this},sr=d.lineTo=function(U,be){return Te(N(M(U))+" "+N(D(be))+" l"),this},Gr=d.curveTo=function(U,be,qe,Qe,pt,Tt){return Te([N(M(U)),N(D(be)),N(M(qe)),N(D(Qe)),N(M(pt)),N(D(Tt)),"c"].join(" ")),this};d.__private__.line=d.line=function(U,be,qe,Qe,pt){if(isNaN(U)||isNaN(be)||isNaN(qe)||isNaN(Qe)||!pi(pt))throw new Error("Invalid arguments passed to jsPDF.line");return S===_.COMPAT?this.lines([[qe-U,Qe-be]],U,be,[1,1],pt||"S"):this.lines([[qe-U,Qe-be]],U,be,[1,1]).stroke()},d.__private__.lines=d.lines=function(U,be,qe,Qe,pt,Tt){var $t,tr,hr,zr,Hr,Qr,jn,Un,kn,Mn,Vn,Ji;if(typeof U=="number"&&(Ji=qe,qe=be,be=U,U=Ji),Qe=Qe||[1,1],Tt=Tt||!1,isNaN(be)||isNaN(qe)||!Array.isArray(U)||!Array.isArray(Qe)||!pi(pt)||typeof Tt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(cr(be,qe),$t=Qe[0],tr=Qe[1],zr=U.length,Mn=be,Vn=qe,hr=0;hr<zr;hr++)(Hr=U[hr]).length===2?(Mn=Hr[0]*$t+Mn,Vn=Hr[1]*tr+Vn,sr(Mn,Vn)):(Qr=Hr[0]*$t+Mn,jn=Hr[1]*tr+Vn,Un=Hr[2]*$t+Mn,kn=Hr[3]*tr+Vn,Mn=Hr[4]*$t+Mn,Vn=Hr[5]*tr+Vn,Gr(Qr,jn,Un,kn,Mn,Vn));return Tt&&Ns(),la(pt),this},d.path=function(U){for(var be=0;be<U.length;be++){var qe=U[be],Qe=qe.c;switch(qe.op){case"m":cr(Qe[0],Qe[1]);break;case"l":sr(Qe[0],Qe[1]);break;case"c":Gr.apply(this,Qe);break;case"h":Ns()}}return this},d.__private__.rect=d.rect=function(U,be,qe,Qe,pt){if(isNaN(U)||isNaN(be)||isNaN(qe)||isNaN(Qe)||!pi(pt))throw new Error("Invalid arguments passed to jsPDF.rect");return S===_.COMPAT&&(Qe=-Qe),Te([N(M(U)),N(D(be)),N(M(qe)),N(M(Qe)),"re"].join(" ")),la(pt),this},d.__private__.triangle=d.triangle=function(U,be,qe,Qe,pt,Tt,$t){if(isNaN(U)||isNaN(be)||isNaN(qe)||isNaN(Qe)||isNaN(pt)||isNaN(Tt)||!pi($t))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[qe-U,Qe-be],[pt-qe,Tt-Qe],[U-pt,be-Tt]],U,be,[1,1],$t,!0),this},d.__private__.roundedRect=d.roundedRect=function(U,be,qe,Qe,pt,Tt,$t){if(isNaN(U)||isNaN(be)||isNaN(qe)||isNaN(Qe)||isNaN(pt)||isNaN(Tt)||!pi($t))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var tr=4/3*(Math.SQRT2-1);return pt=Math.min(pt,.5*qe),Tt=Math.min(Tt,.5*Qe),this.lines([[qe-2*pt,0],[pt*tr,0,pt,Tt-Tt*tr,pt,Tt],[0,Qe-2*Tt],[0,Tt*tr,-pt*tr,Tt,-pt,Tt],[2*pt-qe,0],[-pt*tr,0,-pt,-Tt*tr,-pt,-Tt],[0,2*Tt-Qe],[0,-Tt*tr,pt*tr,-Tt,pt,-Tt]],U+pt,be,[1,1],$t,!0),this},d.__private__.ellipse=d.ellipse=function(U,be,qe,Qe,pt){if(isNaN(U)||isNaN(be)||isNaN(qe)||isNaN(Qe)||!pi(pt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Tt=4/3*(Math.SQRT2-1)*qe,$t=4/3*(Math.SQRT2-1)*Qe;return cr(U+qe,be),Gr(U+qe,be-$t,U+Tt,be-Qe,U,be-Qe),Gr(U-Tt,be-Qe,U-qe,be-$t,U-qe,be),Gr(U-qe,be+$t,U-Tt,be+Qe,U,be+Qe),Gr(U+Tt,be+Qe,U+qe,be+$t,U+qe,be),la(pt),this},d.__private__.circle=d.circle=function(U,be,qe,Qe){if(isNaN(U)||isNaN(be)||isNaN(qe)||!pi(Qe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(U,be,qe,qe,Qe)},d.setFont=function(U,be,qe){return qe&&(be=w(be,qe)),fe=ns(U,be,{disableWarning:!1}),this};var _r=d.__private__.getFont=d.getFont=function(){return wt[ns.apply(d,arguments)]};d.__private__.getFontList=d.getFontList=function(){var U,be,qe={};for(U in Ct)if(Ct.hasOwnProperty(U))for(be in qe[U]=[],Ct[U])Ct[U].hasOwnProperty(be)&&qe[U].push(be);return qe},d.addFont=function(U,be,qe,Qe,pt){var Tt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Tt.indexOf(arguments[3])!==-1?pt=arguments[3]:arguments[3]&&Tt.indexOf(arguments[3])==-1&&(qe=w(qe,Qe)),pt=pt||"Identity-H",Dr.call(this,U,be,qe,pt)};var bn,$n=n.lineWidth||.200025,xi=d.__private__.getLineWidth=d.getLineWidth=function(){return $n},To=d.__private__.setLineWidth=d.setLineWidth=function(U){return $n=U,Te(N(M(U))+" w"),this};d.__private__.setLineDash=Br.API.setLineDash=Br.API.setLineDashPattern=function(U,be){if(U=U||[],be=be||0,isNaN(be)||!Array.isArray(U))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return U=U.map(function(qe){return N(M(qe))}).join(" "),be=N(M(be)),Te("["+U+"] "+be+" d"),this};var zi=d.__private__.getLineHeight=d.getLineHeight=function(){return Ce*bn};d.__private__.getLineHeight=d.getLineHeight=function(){return Ce*bn};var Wi=d.__private__.setLineHeightFactor=d.setLineHeightFactor=function(U){return typeof(U=U||1.15)=="number"&&(bn=U),this},Xi=d.__private__.getLineHeightFactor=d.getLineHeightFactor=function(){return bn};Wi(n.lineHeight);var wi=d.__private__.getHorizontalCoordinate=function(U){return M(U)},Zi=d.__private__.getVerticalCoordinate=function(U){return S===_.ADVANCED?U:ge[Z].mediaBox.topRightY-ge[Z].mediaBox.bottomLeftY-M(U)},Ps=d.__private__.getHorizontalCoordinateString=d.getHorizontalCoordinateString=function(U){return N(wi(U))},Rn=d.__private__.getVerticalCoordinateString=d.getVerticalCoordinateString=function(U){return N(Zi(U))},Bo=n.strokeColor||"0 G";d.__private__.getStrokeColor=d.getDrawColor=function(){return gr(Bo)},d.__private__.setStrokeColor=d.setDrawColor=function(U,be,qe,Qe){return Bo=Vr({ch1:U,ch2:be,ch3:qe,ch4:Qe,pdfColorType:"draw",precision:2}),Te(Bo),this};var js=n.fillColor||"0 g";d.__private__.getFillColor=d.getFillColor=function(){return gr(js)},d.__private__.setFillColor=d.setFillColor=function(U,be,qe,Qe){return js=Vr({ch1:U,ch2:be,ch3:qe,ch4:Qe,pdfColorType:"fill",precision:2}),Te(js),this};var ks=n.textColor||"0 g",Oc=d.__private__.getTextColor=d.getTextColor=function(){return gr(ks)};d.__private__.setTextColor=d.setTextColor=function(U,be,qe,Qe){return ks=Vr({ch1:U,ch2:be,ch3:qe,ch4:Qe,pdfColorType:"text",precision:3}),this};var Ms=n.charSpace,Gl=d.__private__.getCharSpace=d.getCharSpace=function(){return parseFloat(Ms||0)};d.__private__.setCharSpace=d.setCharSpace=function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ms=U,this};var Kl=0;d.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},d.__private__.setLineCap=d.setLineCap=function(U){var be=d.CapJoinStyles[U];if(be===void 0)throw new Error("Line cap style of '"+U+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Kl=be,Te(be+" J"),this};var Yl=0;d.__private__.setLineJoin=d.setLineJoin=function(U){var be=d.CapJoinStyles[U];if(be===void 0)throw new Error("Line join style of '"+U+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Yl=be,Te(be+" j"),this},d.__private__.setLineMiterLimit=d.__private__.setMiterLimit=d.setLineMiterLimit=d.setMiterLimit=function(U){if(U=U||0,isNaN(U))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Te(N(M(U))+" M"),this},d.GState=o0,d.setGState=function(U){(U=typeof U=="string"?nr[vr[U]]:ul(null,U)).equals(Rr)||(Te("/"+U.id+" gs"),Rr=U)};var ul=function(U,be){if(!U||!vr[U]){var qe=!1;for(var Qe in nr)if(nr.hasOwnProperty(Qe)&&nr[Qe].equals(be)){qe=!0;break}if(qe)be=nr[Qe];else{var pt="GS"+(Object.keys(nr).length+1).toString(10);nr[pt]=be,be.id=pt}return U&&(vr[U]=be.id),We.publish("addGState",be),be}};d.addGState=function(U,be){return ul(U,be),this},d.saveGraphicsState=function(){return Te("q"),At.push({key:fe,size:Ce,color:ks}),this},d.restoreGraphicsState=function(){Te("Q");var U=At.pop();return fe=U.key,Ce=U.size,ks=U.color,Rr=null,this},d.setCurrentTransformationMatrix=function(U){return Te(U.toString()+" cm"),this},d.comment=function(U){return Te("#"+U),this};var fl=function(U,be){var qe=U||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return qe},set:function(Tt){isNaN(Tt)||(qe=parseFloat(Tt))}});var Qe=be||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Qe},set:function(Tt){isNaN(Tt)||(Qe=parseFloat(Tt))}});var pt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return pt},set:function(Tt){pt=Tt.toString()}}),this},dl=function(U,be,qe,Qe){fl.call(this,U,be),this.type="rect";var pt=qe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return pt},set:function($t){isNaN($t)||(pt=parseFloat($t))}});var Tt=Qe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Tt},set:function($t){isNaN($t)||(Tt=parseFloat($t))}}),this},Xl=function(){this.page=Lr,this.currentPage=Z,this.pages=Re.slice(0),this.pagesContext=ge.slice(0),this.x=tt,this.y=Ie,this.matrix=gt,this.width=Ls(Z),this.height=Pa(Z),this.outputDestination=ce,this.id="",this.objectNumber=-1};Xl.prototype.restore=function(){Lr=this.page,Z=this.currentPage,ge=this.pagesContext,Re=this.pages,tt=this.x,Ie=this.y,gt=this.matrix,Ac(Z,this.width),ja(Z,this.height),ce=this.outputDestination};var Zl=function(U,be,qe,Qe,pt){Zt.push(new Xl),Lr=Z=0,Re=[],tt=U,Ie=be,gt=pt,oa([qe,Qe])},Jl=function(U){if(Rt[U])Zt.pop().restore();else{var be=new Xl,qe="Xo"+(Object.keys(mt).length+1).toString(10);be.id=qe,Rt[U]=qe,mt[qe]=be,We.publish("addFormObject",be),Zt.pop().restore()}};for(var Ho in d.beginFormObject=function(U,be,qe,Qe,pt){return Zl(U,be,qe,Qe,pt),this},d.endFormObject=function(U){return Jl(U),this},d.doFormObject=function(U,be){var qe=mt[Rt[U]];return Te("q"),Te(be.toString()+" cm"),Te("/"+qe.id+" Do"),Te("Q"),this},d.getFormObject=function(U){var be=mt[Rt[U]];return{x:be.x,y:be.y,width:be.width,height:be.height,matrix:be.matrix}},d.save=function(U,be){return U=U||"generated.pdf",(be=be||{}).returnPromise=be.returnPromise||!1,be.returnPromise===!1?($f(Na(Nn()),U),typeof $f.unload=="function"&&$r.setTimeout&&setTimeout($f.unload,911),this):new Promise(function(qe,Qe){try{var pt=$f(Na(Nn()),U);typeof $f.unload=="function"&&$r.setTimeout&&setTimeout($f.unload,911),qe(pt)}catch(Tt){Qe(Tt.message)}})},Br.API)Br.API.hasOwnProperty(Ho)&&(Ho==="events"&&Br.API.events.length?function(U,be){var qe,Qe,pt;for(pt=be.length-1;pt!==-1;pt--)qe=be[pt][0],Qe=be[pt][1],U.subscribe.apply(U,[qe].concat(typeof Qe=="function"?[Qe]:Qe))}(We,Br.API.events):d[Ho]=Br.API[Ho]);var Ls=d.getPageWidth=function(U){return(ge[U=U||Z].mediaBox.topRightX-ge[U].mediaBox.bottomLeftX)/ee},Ac=d.setPageWidth=function(U,be){ge[U].mediaBox.topRightX=be*ee+ge[U].mediaBox.bottomLeftX},Pa=d.getPageHeight=function(U){return(ge[U=U||Z].mediaBox.topRightY-ge[U].mediaBox.bottomLeftY)/ee},ja=d.setPageHeight=function(U,be){ge[U].mediaBox.topRightY=be*ee+ge[U].mediaBox.bottomLeftY};return d.internal={pdfEscape:bi,getStyle:ho,getFont:_r,getFontSize:Ke,getCharSpace:Gl,getTextColor:Oc,getLineHeight:zi,getLineHeightFactor:Xi,getLineWidth:xi,write:ft,getHorizontalCoordinate:wi,getVerticalCoordinate:Zi,getCoordinateString:Ps,getVerticalCoordinateString:Rn,collections:{},newObject:Ir,newAdditionalObject:an,newObjectDeferred:or,newObjectDeferredBegin:Kr,getFilters:er,putStream:sn,events:We,scaleFactor:ee,pageSize:{getWidth:function(){return Ls(Z)},setWidth:function(U){Ac(Z,U)},getHeight:function(){return Pa(Z)},setHeight:function(U){ja(Z,U)}},encryptionOptions:u,encryption:yn,getEncryptor:hi,output:Vi,getNumberOfPages:Os,pages:Re,out:Te,f2:R,f3:L,getPageInfo:cl,getPageInfoByObjId:Sr,getCurrentPageInfo:So,getPDFVersion:g,Point:fl,Rectangle:dl,Matrix:Bt,hasHotfix:Ro},Object.defineProperty(d.internal.pageSize,"width",{get:function(){return Ls(Z)},set:function(U){Ac(Z,U)},enumerable:!0,configurable:!0}),Object.defineProperty(d.internal.pageSize,"height",{get:function(){return Pa(Z)},set:function(U){ja(Z,U)},enumerable:!0,configurable:!0}),An.call(d,de),fe="F1",Aa(i,e),We.publish("initialized"),d}mh.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},mh.prototype.toHexString=function(n){return n.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},mh.prototype.hexToBytes=function(n){for(var t=[],e=0;e<n.length;e+=2)t.push(String.fromCharCode(parseInt(n.substr(e,2),16)));return t.join("")},mh.prototype.processOwnerPassword=function(n,t){return sw(aw(t).substr(0,5),n)},mh.prototype.encryptor=function(n,t){var e=aw(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return sw(e,r)}},o0.prototype.equals=function(n){var t,e="id,objectNumber,equals";if(!n||vn(n)!==vn(this))return!1;var r=0;for(t in this)if(!(e.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!n.hasOwnProperty(t)||this[t]!==n[t])return!1;r++}for(t in n)n.hasOwnProperty(t)&&e.indexOf(t)<0&&r--;return r===0},Br.API={events:[]},Br.version="3.0.1";var Ni=Br.API,WS=1,Id=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ah=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Jr=function(n){return n.toFixed(2)},Mu=function(n){return n.toFixed(5)};Ni.__acroform__={};var es=function(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n},LC=function(n){return n*WS},uc=function(n){var t=new vN,e=pr.internal.getHeight(n)||0,r=pr.internal.getWidth(n)||0;return t.BBox=[0,0,Number(Jr(r)),Number(Jr(e))],t},KR=Ni.__acroform__.setBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|=1<<t},YR=Ni.__acroform__.clearBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&=~(1<<t)},XR=Ni.__acroform__.getBit=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<t?1:0},Hi=Ni.__acroform__.getBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return XR(n,t-1)},$i=Ni.__acroform__.setBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return KR(n,t-1)},Ui=Ni.__acroform__.clearBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return YR(n,t-1)},ZR=Ni.__acroform__.calculateCoordinates=function(n,t){var e=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,i=n[0],o=n[1],a=n[2],s=n[3],l={};return l.lowerLeft_X=e(i)||0,l.lowerLeft_Y=r(o+s)||0,l.upperRight_X=e(i+a)||0,l.upperRight_Y=r(o)||0,[Number(Jr(l.lowerLeft_X)),Number(Jr(l.lowerLeft_Y)),Number(Jr(l.upperRight_X)),Number(Jr(l.upperRight_Y))]},JR=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var t=[],e=n._V||n.DV,r=lw(n,e),i=n.scope.internal.getFont(n.fontName,n.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(n.scope.__private__.encodeColorString(n.color)),t.push("/"+i+" "+Jr(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var o=uc(n);return o.scope=n.scope,o.stream=t.join(`
`),o}},lw=function(n,t){var e=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=n.multiline?i.map(function(L){return L.split(`
`)}):i.map(function(L){return[L]});var o=e,a=pr.internal.getHeight(n)||0;a=a<0?-a:a;var s=pr.internal.getWidth(n)||0;s=s<0?-s:s;var l=function(L,M,I){if(L+1<i.length){var D=M+" "+i[L+1][0];return am(D,n,I).width<=s-4}return!1};o++;e:for(;o>0;){t="",o--;var c,u,f=am("3",n,o).height,h=n.multiline?a-o:(a-f)/2,d=h+=2,m=0,g=0,x=0;if(o<=0){t=`(...) Tj
`,t+="% Width of Text: "+am(t,n,o=12).width+", FieldWidth:"+s+`
`;break}for(var b="",_=0,S=0;S<i.length;S++)if(i.hasOwnProperty(S)){var T=!1;if(i[S].length!==1&&x!==i[S].length-1){if((f+2)*(_+2)+2>a)continue e;b+=i[S][x],T=!0,g=S,S--}else{b=(b+=i[S][x]+" ").substr(b.length-1)==" "?b.substr(0,b.length-1):b;var C=parseInt(S),w=l(C,b,o),N=S>=i.length-1;if(w&&!N){b+=" ",x=0;continue}if(w||N){if(N)g=C;else if(n.multiline&&(f+2)*(_+2)+2>a)continue e}else{if(!n.multiline||(f+2)*(_+2)+2>a)continue e;g=C}}for(var A="",j=m;j<=g;j++){var R=i[j];if(n.multiline){if(j===g){A+=R[x]+" ",x=(x+1)%R.length;continue}if(j===m){A+=R[R.length-1]+" ";continue}}A+=R[0]+" "}switch(A=A.substr(A.length-1)==" "?A.substr(0,A.length-1):A,u=am(A,n,o).width,n.textAlign){case"right":c=s-u-2;break;case"center":c=(s-u)/2;break;case"left":default:c=2}t+=Jr(c)+" "+Jr(d)+` Td
`,t+="("+Id(A)+`) Tj
`,t+=-Jr(c)+` 0 Td
`,d=-(o+2),u=0,m=T?g:g+1,_++,b=""}break}return r.text=t,r.fontSize=o,r},am=function(n,t,e){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:i}},QR={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},eF=function(n,t){var e={type:"reference",object:n};t.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===e.type&&r.object===e.object})===void 0&&t.internal.getPageInfo(n.page).pageContext.annotations.push(e)},tF=function(n,t){for(var e in n)if(n.hasOwnProperty(e)){var r=e,i=n[e];t.internal.newObjectDeferredBegin(i.objId,!0),vn(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete n[r]}},rF=function(n,t){if(t.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if($l.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(QR)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");WS=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new gN,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var o=r[i];o.objId=void 0,o.hasAnnotation&&eF(o,e)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(e){if(e.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(e){(function(r,i){var o=!r;for(var a in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(a)){var s=r[a],l=[],c=s.Rect;if(s.Rect&&(s.Rect=ZR(s.Rect,i)),i.internal.newObjectDeferredBegin(s.objId,!0),s.DA=pr.createDefaultAppearanceStream(s),vn(s)==="object"&&typeof s.getKeyValueListForStream=="function"&&(l=s.getKeyValueListForStream()),s.Rect=c,s.hasAppearanceStream&&!s.appearanceStreamContent){var u=JR(s);l.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(s.appearanceStreamContent){var f="";for(var h in s.appearanceStreamContent)if(s.appearanceStreamContent.hasOwnProperty(h)){var d=s.appearanceStreamContent[h];if(f+="/"+h+" ",f+="<<",Object.keys(d).length>=1||Array.isArray(d)){for(var a in d)if(d.hasOwnProperty(a)){var m=d[a];typeof m=="function"&&(m=m.call(i,s)),f+="/"+a+" "+m+" ",i.internal.acroformPlugin.xForms.indexOf(m)>=0||i.internal.acroformPlugin.xForms.push(m)}}else typeof(m=d)=="function"&&(m=m.call(i,s)),f+="/"+a+" "+m,i.internal.acroformPlugin.xForms.indexOf(m)>=0||i.internal.acroformPlugin.xForms.push(m);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:s.objId}),i.internal.out("endobj")}o&&tF(i.internal.acroformPlugin.xForms,i)})(e,n)}),n.internal.acroformPlugin.isInitialized=!0}},pN=Ni.__acroform__.arrayToPdfArray=function(n,t,e){var r=function(a){return a};if(Array.isArray(n)){for(var i="[",o=0;o<n.length;o++)switch(o!==0&&(i+=" "),vn(n[o])){case"boolean":case"number":case"object":i+=n[o].toString();break;case"string":n[o].substr(0,1)!=="/"?(t!==void 0&&e&&(r=e.internal.getEncryptor(t)),i+="("+Id(r(n[o].toString()))+")"):i+=n[o].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},T2=function(n,t,e){var r=function(i){return i};return t!==void 0&&e&&(r=e.internal.getEncryptor(t)),(n=n||"").toString(),n="("+Id(r(n))+")"},hc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};hc.prototype.toString=function(){return this.objId+" 0 R"},hc.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},hc.prototype.getKeyValueListForStream=function(){var n=[],t=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var e in t)if(Object.getOwnPropertyDescriptor(this,t[e]).configurable===!1){var r=t[e],i=this[r];i&&(Array.isArray(i)?n.push({key:r,value:pN(i,this.objId,this.scope)}):i instanceof hc?(i.scope=this.scope,n.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&n.push({key:r,value:i}))}return n};var vN=function(){hc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){n=e.trim()},get:function(){return n||null}})};es(vN,hc);var gN=function(){hc.call(this);var n,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var e=function(r){return r};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+Id(e(n))+")"}},set:function(e){n=e}})};es(gN,hc);var $l=function n(){hc.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute F supplied.');t=b}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Hi(t,3)},set:function(b){b?this.F=$i(t,3):this.F=Ui(t,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute Ff supplied.');e=b}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(b){r=b!==void 0?b:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(b){r[0]=b}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(b){r[1]=b}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(b){r[2]=b}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(b){r[3]=b}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(b){switch(b){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=b;break;default:throw new Error('Invalid value "'+b+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof a0)return;o="FieldObject"+n.FieldNum++}var b=function(_){return _};return this.scope&&(b=this.scope.internal.getEncryptor(this.objId)),"("+Id(b(o))+")"},set:function(b){o=b.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(b){o=b}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(b){a=b}});var s="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return s},set:function(b){s=b}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(b){l=b}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/WS:c},set:function(b){c=b}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(b){u=b}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof a0||this instanceof ld))return T2(f,this.objId,this.scope)},set:function(b){b=b.toString(),f=b}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof xo?h:T2(h,this.objId,this.scope)},set:function(b){b=b.toString(),h=this instanceof xo?b:b.substr(0,1)==="("?ah(b.substr(1,b.length-2)):ah(b)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof xo?ah(h.substr(1,h.length-1)):h},set:function(b){b=b.toString(),h=this instanceof xo?"/"+b:b}});var d=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(d)return d},set:function(b){this.V=b}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof xo?d:T2(d,this.objId,this.scope)},set:function(b){b=b.toString(),d=this instanceof xo?b:b.substr(0,1)==="("?ah(b.substr(1,b.length-2)):ah(b)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof xo?ah(d.substr(1,d.length-1)):d},set:function(b){b=b.toString(),d=this instanceof xo?"/"+b:b}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var m,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(b){b=!!b,g=b}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(m)return m},set:function(b){m=b}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,1)},set:function(b){b?this.Ff=$i(this.Ff,1):this.Ff=Ui(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,2)},set:function(b){b?this.Ff=$i(this.Ff,2):this.Ff=Ui(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,3)},set:function(b){b?this.Ff=$i(this.Ff,3):this.Ff=Ui(this.Ff,3)}});var x=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(x!==null)return x},set:function(b){if([0,1,2].indexOf(b)===-1)throw new Error('Invalid value "'+b+'" for attribute Q supplied.');x=b}}),Object.defineProperty(this,"textAlign",{get:function(){var b;switch(x){case 0:default:b="left";break;case 1:b="center";break;case 2:b="right"}return b},configurable:!0,enumerable:!0,set:function(b){switch(b){case"right":case 2:x=2;break;case"center":case 1:x=1;break;case"left":case 0:default:x=0}}})};es($l,hc);var Wh=function(){$l.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){n=e}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return pN(t,this.objId,this.scope)},set:function(e){var r,i;i=[],typeof(r=e)=="string"&&(i=function(o,a,s){s||(s=1);for(var l,c=[];l=a.exec(o);)c.push(l[s]);return c}(r,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,r){for(r=r||!1,e=(e=e||"").toString();t.indexOf(e)!==-1&&(t.splice(t.indexOf(e),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,18)},set:function(e){e?this.Ff=$i(this.Ff,18):this.Ff=Ui(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,19)},set:function(e){this.combo===!0&&(e?this.Ff=$i(this.Ff,19):this.Ff=Ui(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,20)},set:function(e){e?(this.Ff=$i(this.Ff,20),t.sort()):this.Ff=Ui(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,22)},set:function(e){e?this.Ff=$i(this.Ff,22):this.Ff=Ui(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,23)},set:function(e){e?this.Ff=$i(this.Ff,23):this.Ff=Ui(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,27)},set:function(e){e?this.Ff=$i(this.Ff,27):this.Ff=Ui(this.Ff,27)}}),this.hasAppearanceStream=!1};es(Wh,$l);var qh=function(){Wh.call(this),this.fontName="helvetica",this.combo=!1};es(qh,Wh);var Gh=function(){qh.call(this),this.combo=!0};es(Gh,qh);var Hm=function(){Gh.call(this),this.edit=!0};es(Hm,Gh);var xo=function(){$l.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,15)},set:function(e){e?this.Ff=$i(this.Ff,15):this.Ff=Ui(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,16)},set:function(e){e?this.Ff=$i(this.Ff,16):this.Ff=Ui(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,17)},set:function(e){e?this.Ff=$i(this.Ff,17):this.Ff=Ui(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,26)},set:function(e){e?this.Ff=$i(this.Ff,26):this.Ff=Ui(this.Ff,26)}});var n,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(o){return o};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,i=[];for(r in i.push("<<"),t)i.push("/"+r+" ("+Id(e(t[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(e){vn(e)==="object"&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){typeof e=="string"&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(e){n="/"+e}})};es(xo,$l);var $m=function(){xo.call(this),this.pushButton=!0};es($m,xo);var Kh=function(){xo.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t!==void 0?t:[]}})};es(Kh,xo);var a0=function(){var n,t;$l.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var e,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(s){return s};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var o,a=[];for(o in a.push("<<"),r)a.push("/"+o+" ("+Id(i(r[o]))+")");return a.push(">>"),a.join(`
`)},set:function(i){vn(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(i){e="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=pr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};es(a0,$l),Kh.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var e=this.Kids[t];e.appearanceStreamContent=n.createAppearanceStream(e.optionName),e.caption=n.getCA()}},Kh.prototype.createOption=function(n){var t=new a0;return t.Parent=this,t.optionName=n,this.Kids.push(t),nF.call(this.scope,t),t};var Um=function(){xo.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=pr.CheckBox.createAppearanceStream()};es(Um,xo);var ld=function(){$l.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,13)},set:function(t){t?this.Ff=$i(this.Ff,13):this.Ff=Ui(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,21)},set:function(t){t?this.Ff=$i(this.Ff,21):this.Ff=Ui(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,23)},set:function(t){t?this.Ff=$i(this.Ff,23):this.Ff=Ui(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,24)},set:function(t){t?this.Ff=$i(this.Ff,24):this.Ff=Ui(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,25)},set:function(t){t?this.Ff=$i(this.Ff,25):this.Ff=Ui(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,26)},set:function(t){t?this.Ff=$i(this.Ff,26):this.Ff=Ui(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){Number.isInteger(t)&&(n=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};es(ld,$l);var Vm=function(){ld.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,14)},set:function(n){n?this.Ff=$i(this.Ff,14):this.Ff=Ui(this.Ff,14)}}),this.password=!0};es(Vm,ld);var pr={CheckBox:{createAppearanceStream:function(){return{N:{On:pr.CheckBox.YesNormal},D:{On:pr.CheckBox.YesPushDown,Off:pr.CheckBox.OffPushDown}}},YesPushDown:function(n){var t=uc(n);t.scope=n.scope;var e=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),o=lw(n,n.caption);return e.push("0.749023 g"),e.push("0 0 "+Jr(pr.internal.getWidth(n))+" "+Jr(pr.internal.getHeight(n))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+r+" "+Jr(o.fontSize)+" Tf "+i),e.push("BT"),e.push(o.text),e.push("ET"),e.push("Q"),e.push("EMC"),t.stream=e.join(`
`),t},YesNormal:function(n){var t=uc(n);t.scope=n.scope;var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),i=[],o=pr.internal.getHeight(n),a=pr.internal.getWidth(n),s=lw(n,n.caption);return i.push("1 g"),i.push("0 0 "+Jr(a)+" "+Jr(o)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Jr(a-1)+" "+Jr(o-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+e+" "+Jr(s.fontSize)+" Tf "+r),i.push(s.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(n){var t=uc(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+Jr(pr.internal.getWidth(n))+" "+Jr(pr.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(n){var t={D:{Off:pr.RadioButton.Circle.OffPushDown},N:{}};return t.N[n]=pr.RadioButton.Circle.YesNormal,t.D[n]=pr.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(n){var t=uc(n);t.scope=n.scope;var e=[],r=pr.internal.getWidth(n)<=pr.internal.getHeight(n)?pr.internal.getWidth(n)/4:pr.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=pr.internal.Bezier_C,o=Number((r*i).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+Mu(pr.internal.getWidth(n)/2)+" "+Mu(pr.internal.getHeight(n)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),e.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),e.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),e.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(n){var t=uc(n);t.scope=n.scope;var e=[],r=pr.internal.getWidth(n)<=pr.internal.getHeight(n)?pr.internal.getWidth(n)/4:pr.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*pr.internal.Bezier_C).toFixed(5)),a=Number((r*pr.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+Mu(pr.internal.getWidth(n)/2)+" "+Mu(pr.internal.getHeight(n)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),e.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),e.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),e.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+Mu(pr.internal.getWidth(n)/2)+" "+Mu(pr.internal.getHeight(n)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),e.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),e.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),e.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},OffPushDown:function(n){var t=uc(n);t.scope=n.scope;var e=[],r=pr.internal.getWidth(n)<=pr.internal.getHeight(n)?pr.internal.getWidth(n)/4:pr.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*pr.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+Mu(pr.internal.getWidth(n)/2)+" "+Mu(pr.internal.getHeight(n)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),e.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),e.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),e.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t}},Cross:{createAppearanceStream:function(n){var t={D:{Off:pr.RadioButton.Cross.OffPushDown},N:{}};return t.N[n]=pr.RadioButton.Cross.YesNormal,t.D[n]=pr.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(n){var t=uc(n);t.scope=n.scope;var e=[],r=pr.internal.calculateCross(n);return e.push("q"),e.push("1 1 "+Jr(pr.internal.getWidth(n)-2)+" "+Jr(pr.internal.getHeight(n)-2)+" re"),e.push("W"),e.push("n"),e.push(Jr(r.x1.x)+" "+Jr(r.x1.y)+" m"),e.push(Jr(r.x2.x)+" "+Jr(r.x2.y)+" l"),e.push(Jr(r.x4.x)+" "+Jr(r.x4.y)+" m"),e.push(Jr(r.x3.x)+" "+Jr(r.x3.y)+" l"),e.push("s"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(n){var t=uc(n);t.scope=n.scope;var e=pr.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+Jr(pr.internal.getWidth(n))+" "+Jr(pr.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Jr(pr.internal.getWidth(n)-2)+" "+Jr(pr.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(Jr(e.x1.x)+" "+Jr(e.x1.y)+" m"),r.push(Jr(e.x2.x)+" "+Jr(e.x2.y)+" l"),r.push(Jr(e.x4.x)+" "+Jr(e.x4.y)+" m"),r.push(Jr(e.x3.x)+" "+Jr(e.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(n){var t=uc(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+Jr(pr.internal.getWidth(n))+" "+Jr(pr.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join(`
`),t}}},createDefaultAppearanceStream:function(n){var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,e=n.scope.__private__.encodeColorString(n.color);return"/"+t+" "+n.fontSize+" Tf "+e}};pr.internal={Bezier_C:.551915024494,calculateCross:function(n){var t=pr.internal.getWidth(n),e=pr.internal.getHeight(n),r=Math.min(t,e);return{x1:{x:(t-r)/2,y:(e-r)/2+r},x2:{x:(t-r)/2+r,y:(e-r)/2},x3:{x:(t-r)/2,y:(e-r)/2},x4:{x:(t-r)/2+r,y:(e-r)/2+r}}}},pr.internal.getWidth=function(n){var t=0;return vn(n)==="object"&&(t=LC(n.Rect[2])),t},pr.internal.getHeight=function(n){var t=0;return vn(n)==="object"&&(t=LC(n.Rect[3])),t};var nF=Ni.addField=function(n){if(rF(this,n),!(n instanceof $l))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=n).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Ni.AcroFormChoiceField=Wh,Ni.AcroFormListBox=qh,Ni.AcroFormComboBox=Gh,Ni.AcroFormEditBox=Hm,Ni.AcroFormButton=xo,Ni.AcroFormPushButton=$m,Ni.AcroFormRadioButton=Kh,Ni.AcroFormCheckBox=Um,Ni.AcroFormTextField=ld,Ni.AcroFormPasswordField=Vm,Ni.AcroFormAppearance=pr,Ni.AcroForm={ChoiceField:Wh,ListBox:qh,ComboBox:Gh,EditBox:Hm,Button:xo,PushButton:$m,RadioButton:Kh,CheckBox:Um,TextField:ld,PasswordField:Vm,Appearance:pr},Br.AcroForm={ChoiceField:Wh,ListBox:qh,ComboBox:Gh,EditBox:Hm,Button:xo,PushButton:$m,RadioButton:Kh,CheckBox:Um,TextField:ld,PasswordField:Vm,Appearance:pr};Br.AcroForm;function mN(n){return n.reduce(function(t,e,r){return t[e]=r,t},{})}(function(n){n.__addimage__={};var t="UNKNOWN",e={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=n.__addimage__.getImageFileTypeByImageData=function(L,M){var I,D,V,F,G,W=t;if((M=M||t)==="RGBA"||L.data!==void 0&&L.data instanceof Uint8ClampedArray&&"height"in L&&"width"in L)return"RGBA";if(w(L))for(G in e)for(V=e[G],I=0;I<V.length;I+=1){for(F=!0,D=0;D<V[I].length;D+=1)if(V[I][D]!==void 0&&V[I][D]!==L[D]){F=!1;break}if(F===!0){W=G;break}}else for(G in e)for(V=e[G],I=0;I<V.length;I+=1){for(F=!0,D=0;D<V[I].length;D+=1)if(V[I][D]!==void 0&&V[I][D]!==L.charCodeAt(D)){F=!1;break}if(F===!0){W=G;break}}return W===t&&M!==t&&(W=M),W},i=function L(M){for(var I=this.internal.write,D=this.internal.putStream,V=(0,this.internal.getFilters)();V.indexOf("FlateEncode")!==-1;)V.splice(V.indexOf("FlateEncode"),1);M.objectId=this.internal.newObject();var F=[];if(F.push({key:"Type",value:"/XObject"}),F.push({key:"Subtype",value:"/Image"}),F.push({key:"Width",value:M.width}),F.push({key:"Height",value:M.height}),M.colorSpace===x.INDEXED?F.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(M.palette.length/3-1)+" "+("sMask"in M&&M.sMask!==void 0?M.objectId+2:M.objectId+1)+" 0 R]"}):(F.push({key:"ColorSpace",value:"/"+M.colorSpace}),M.colorSpace===x.DEVICE_CMYK&&F.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),F.push({key:"BitsPerComponent",value:M.bitsPerComponent}),"decodeParameters"in M&&M.decodeParameters!==void 0&&F.push({key:"DecodeParms",value:"<<"+M.decodeParameters+">>"}),"transparency"in M&&Array.isArray(M.transparency)){for(var G="",W=0,Y=M.transparency.length;W<Y;W++)G+=M.transparency[W]+" "+M.transparency[W]+" ";F.push({key:"Mask",value:"["+G+"]"})}M.sMask!==void 0&&F.push({key:"SMask",value:M.objectId+1+" 0 R"});var te=M.filter!==void 0?["/"+M.filter]:void 0;if(D({data:M.data,additionalKeyValues:F,alreadyAppliedFilters:te,objectId:M.objectId}),I("endobj"),"sMask"in M&&M.sMask!==void 0){var he="/Predictor "+M.predictor+" /Colors 1 /BitsPerComponent "+M.bitsPerComponent+" /Columns "+M.width,z={width:M.width,height:M.height,colorSpace:"DeviceGray",bitsPerComponent:M.bitsPerComponent,decodeParameters:he,data:M.sMask};"filter"in M&&(z.filter=M.filter),L.call(this,z)}if(M.colorSpace===x.INDEXED){var Z=this.internal.newObject();D({data:A(new Uint8Array(M.palette)),objectId:Z}),I("endobj")}},o=function(){var L=this.internal.collections.addImage_images;for(var M in L)i.call(this,L[M])},a=function(){var L,M=this.internal.collections.addImage_images,I=this.internal.write;for(var D in M)I("/I"+(L=M[D]).index,L.objectId,"0","R")},s=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",a))},l=function(){var L=this.internal.collections.addImage_images;return s.call(this),L},c=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(L){return typeof n["process"+L.toUpperCase()]=="function"},f=function(L){return vn(L)==="object"&&L.nodeType===1},h=function(L,M){if(L.nodeName==="IMG"&&L.hasAttribute("src")){var I=""+L.getAttribute("src");if(I.indexOf("data:image/")===0)return qv(unescape(I).split("base64,").pop());var D=n.loadFile(I,!0);if(D!==void 0)return D}if(L.nodeName==="CANVAS"){if(L.width===0||L.height===0)throw new Error("Given canvas must have data. Canvas width: "+L.width+", height: "+L.height);var V;switch(M){case"PNG":V="image/png";break;case"WEBP":V="image/webp";break;case"JPEG":case"JPG":default:V="image/jpeg"}return qv(L.toDataURL(V,1).split("base64,").pop())}},d=function(L){var M=this.internal.collections.addImage_images;if(M){for(var I in M)if(L===M[I].alias)return M[I]}},m=function(L,M,I){return L||M||(L=-96,M=-96),L<0&&(L=-1*I.width*72/L/this.internal.scaleFactor),M<0&&(M=-1*I.height*72/M/this.internal.scaleFactor),L===0&&(L=M*I.width/I.height),M===0&&(M=L*I.height/I.width),[L,M]},g=function(L,M,I,D,V,F){var G=m.call(this,I,D,V),W=this.internal.getCoordinateString,Y=this.internal.getVerticalCoordinateString,te=l.call(this);if(I=G[0],D=G[1],te[V.index]=V,F){F*=Math.PI/180;var he=Math.cos(F),z=Math.sin(F),Z=function(ae){return ae.toFixed(4)},X=[Z(he),Z(z),Z(-1*z),Z(he),0,0,"cm"]}this.internal.write("q"),F?(this.internal.write([1,"0","0",1,W(L),Y(M+D),"cm"].join(" ")),this.internal.write(X.join(" ")),this.internal.write([W(I),"0","0",W(D),"0","0","cm"].join(" "))):this.internal.write([W(I),"0","0",W(D),W(L),Y(M+D),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+V.index+" Do"),this.internal.write("Q")},x=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var b=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},_=n.__addimage__.sHashCode=function(L){var M,I,D=0;if(typeof L=="string")for(I=L.length,M=0;M<I;M++)D=(D<<5)-D+L.charCodeAt(M),D|=0;else if(w(L))for(I=L.byteLength/2,M=0;M<I;M++)D=(D<<5)-D+L[M],D|=0;return D},S=n.__addimage__.validateStringAsBase64=function(L){(L=L||"").toString().trim();var M=!0;return L.length===0&&(M=!1),L.length%4!=0&&(M=!1),/^[A-Za-z0-9+/]+$/.test(L.substr(0,L.length-2))===!1&&(M=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(L.substr(-2))===!1&&(M=!1),M},T=n.__addimage__.extractImageFromDataUrl=function(L){if(L==null||!(L=L.trim()).startsWith("data:"))return null;var M=L.indexOf(",");return M<0?null:L.substring(0,M).trim().endsWith("base64")?L.substring(M+1):null},C=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(L){return C()&&L instanceof ArrayBuffer};var w=n.__addimage__.isArrayBufferView=function(L){return C()&&typeof Uint32Array<"u"&&(L instanceof Int8Array||L instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&L instanceof Uint8ClampedArray||L instanceof Int16Array||L instanceof Uint16Array||L instanceof Int32Array||L instanceof Uint32Array||L instanceof Float32Array||L instanceof Float64Array)},N=n.__addimage__.binaryStringToUint8Array=function(L){for(var M=L.length,I=new Uint8Array(M),D=0;D<M;D++)I[D]=L.charCodeAt(D);return I},A=n.__addimage__.arrayBufferToBinaryString=function(L){for(var M="",I=w(L)?L:new Uint8Array(L),D=0;D<I.length;D+=8192)M+=String.fromCharCode.apply(null,I.subarray(D,D+8192));return M};n.addImage=function(){var L,M,I,D,V,F,G,W,Y;if(typeof arguments[1]=="number"?(M=t,I=arguments[1],D=arguments[2],V=arguments[3],F=arguments[4],G=arguments[5],W=arguments[6],Y=arguments[7]):(M=arguments[1],I=arguments[2],D=arguments[3],V=arguments[4],F=arguments[5],G=arguments[6],W=arguments[7],Y=arguments[8]),vn(L=arguments[0])==="object"&&!f(L)&&"imageData"in L){var te=L;L=te.imageData,M=te.format||M||t,I=te.x||I||0,D=te.y||D||0,V=te.w||te.width||V,F=te.h||te.height||F,G=te.alias||G,W=te.compression||W,Y=te.rotation||te.angle||Y}var he=this.internal.getFilters();if(W===void 0&&he.indexOf("FlateEncode")!==-1&&(W="SLOW"),isNaN(I)||isNaN(D))throw new Error("Invalid coordinates passed to jsPDF.addImage");s.call(this);var z=j.call(this,L,M,G,W);return g.call(this,I,D,V,F,z,Y),this};var j=function(L,M,I,D){var V,F,G;if(typeof L=="string"&&r(L)===t){L=unescape(L);var W=R(L,!1);(W!==""||(W=n.loadFile(L,!0))!==void 0)&&(L=W)}if(f(L)&&(L=h(L,M)),M=r(L,M),!u(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(((G=I)==null||G.length===0)&&(I=function(Y){return typeof Y=="string"||w(Y)?_(Y):w(Y.data)?_(Y.data):null}(L)),(V=d.call(this,I))||(C()&&(L instanceof Uint8Array||M==="RGBA"||(F=L,L=N(L))),V=this["process"+M.toUpperCase()](L,c.call(this),I,function(Y){return Y&&typeof Y=="string"&&(Y=Y.toUpperCase()),Y in n.image_compression?Y:b.NONE}(D),F)),!V)throw new Error("An unknown error occurred whilst processing the image.");return V},R=n.__addimage__.convertBase64ToBinaryString=function(L,M){M=typeof M!="boolean"||M;var I,D="";if(typeof L=="string"){var V;I=(V=T(L))!==null&&V!==void 0?V:L;try{D=qv(I)}catch(F){if(M)throw S(I)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+F.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return D};n.getImageProperties=function(L){var M,I,D="";if(f(L)&&(L=h(L)),typeof L=="string"&&r(L)===t&&((D=R(L,!1))===""&&(D=n.loadFile(L)||""),L=D),I=r(L),!u(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(!C()||L instanceof Uint8Array||(L=N(L)),!(M=this["process"+I.toUpperCase()](L)))throw new Error("An unknown error occurred whilst processing the image");return M.fileType=I,M}})(Br.API),function(n){var t=function(e){if(e!==void 0&&e!="")return!0};Br.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(e){for(var r,i,o,a=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(e.objId),c=e.pageContext.annotations,u=!1,f=0;f<c.length&&!u;f++)switch((r=c[f]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var h=0;h<c.length;h++){r=c[h];var d=this.internal.pdfEscape,m=this.internal.getEncryptor(e.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),x=this.internal.newAdditionalObject(),b=this.internal.getEncryptor(g.objId),_=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(r.bounds.x)+" "+s(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w)+" "+s(r.bounds.y)+"] ")+"/Contents ("+d(b(r.contents))+")",o+=" /Popup "+x.objId+" 0 R",o+=" /P "+l.objId+" 0 R",o+=" /T ("+d(b(_))+") >>",g.content=o;var S=g.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(r.bounds.x+30)+" "+s(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w+30)+" "+s(r.bounds.y)+"] ")+" /Parent "+S,r.open&&(o+=" /Open true"),o+=" >>",x.content=o,this.internal.write(g.objId,"0 R",x.objId,"0 R");break;case"freetext":i="/Rect ["+a(r.bounds.x)+" "+s(r.bounds.y)+" "+a(r.bounds.x+r.bounds.w)+" "+s(r.bounds.y+r.bounds.h)+"] ";var T=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+d(m(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+T+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var C=this.annotations._nameMap[r.options.name];r.options.pageNumber=C.page,r.options.top=C.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+d(m(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var w=s(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+w+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),n.createAnnotation=function(e){var r=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":r.pageContext.annotations.push(e)}},n.link=function(e,r,i,o,a){var s=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;s.pageContext.annotations.push({finalBounds:{x:l(e),y:c(r),w:l(e+i),h:c(r+o)},options:a,type:"link"})},n.textWithLink=function(e,r,i,o){var a,s,l=this.getTextWidth(e),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){s=o.maxWidth;var u=this.splitTextToSize(e,s).length;a=Math.ceil(c*u)}else s=l,a=c;return this.text(e,r,i,o),i+=.2*c,o.align==="center"&&(r-=l/2),o.align==="right"&&(r-=l),this.link(r,i-c,s,a,o),l},n.getTextWidth=function(e){var r=this.internal.getFontSize();return this.getStringUnitWidth(e)*r/this.internal.scaleFactor}}(Br.API),function(n){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];n.__arabicParser__={};var o=n.__arabicParser__.isInArabicSubstitutionA=function(g){return t[g.charCodeAt(0)]!==void 0},a=n.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},s=n.__arabicParser__.isArabicEndLetter=function(g){return a(g)&&o(g)&&t[g.charCodeAt(0)].length<=2},l=n.__arabicParser__.isArabicAlfLetter=function(g){return a(g)&&i.indexOf(g.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return a(g)&&o(g)&&t[g.charCodeAt(0)].length>=1};var c=n.__arabicParser__.arabicLetterHasFinalForm=function(g){return a(g)&&o(g)&&t[g.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(g){return a(g)&&o(g)&&t[g.charCodeAt(0)].length>=3};var u=n.__arabicParser__.arabicLetterHasMedialForm=function(g){return a(g)&&o(g)&&t[g.charCodeAt(0)].length==4},f=n.__arabicParser__.resolveLigatures=function(g){var x=0,b=e,_="",S=0;for(x=0;x<g.length;x+=1)b[g.charCodeAt(x)]!==void 0?(S++,typeof(b=b[g.charCodeAt(x)])=="number"&&(_+=String.fromCharCode(b),b=e,S=0),x===g.length-1&&(b=e,_+=g.charAt(x-(S-1)),x-=S-1,S=0)):(b=e,_+=g.charAt(x-S),x-=S,S=0);return _};n.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&r[g.charCodeAt(0)]!==void 0};var h=n.__arabicParser__.getCorrectForm=function(g,x,b){return a(g)?o(g)===!1?-1:!c(g)||!a(x)&&!a(b)||!a(b)&&s(x)||s(g)&&!a(x)||s(g)&&l(x)||s(g)&&s(x)?0:u(g)&&a(x)&&!s(x)&&a(b)&&c(b)?3:s(g)||!a(b)?1:2:-1},d=function(g){var x=0,b=0,_=0,S="",T="",C="",w=(g=g||"").split("\\s+"),N=[];for(x=0;x<w.length;x+=1){for(N.push(""),b=0;b<w[x].length;b+=1)S=w[x][b],T=w[x][b-1],C=w[x][b+1],a(S)?(_=h(S,T,C),N[x]+=_!==-1?String.fromCharCode(t[S.charCodeAt(0)][_]):S):N[x]+=S;N[x]=f(N[x])}return N.join(" ")},m=n.__arabicParser__.processArabic=n.processArabic=function(){var g,x=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,b=[];if(Array.isArray(x)){var _=0;for(b=[],_=0;_<x.length;_+=1)Array.isArray(x[_])?b.push([d(x[_][0]),x[_][1],x[_][2]]):b.push([d(x[_])]);g=b}else g=d(x);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};n.events.push(["preProcessText",m])}(Br.API),Br.API.autoPrint=function(n){var t;switch((n=n||{}).variant=n.variant||"non-conform",n.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(n){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(s){e=s}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(s){r=isNaN(s)||Number.isInteger(s)===!1||s<0?150:s,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(s){i=isNaN(s)||Number.isInteger(s)===!1||s<0?300:s,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(s){o=s}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(s){a=s}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,r){var i;if((e=e||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Br.API),function(n){var t={left:0,top:0,bottom:0,right:0},e=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(g){l=g}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var d=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var m=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return m},set:function(g){m=g}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},n.getTextDimensions=function(l,c){r.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),f=c.font||this.getFont(),h=c.scaleFactor||this.internal.scaleFactor,d=0,m=0,g=0,x=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var b=c.maxWidth;b>0?typeof l=="string"?l=this.splitTextToSize(l,b):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(S,T){return S.concat(x.splitTextToSize(T,b))},[])):l=Array.isArray(l)?l:[l];for(var _=0;_<l.length;_++)d<(g=this.getStringUnitWidth(l[_],{font:f})*u)&&(d=g);return d!==0&&(m=l.length),{w:d/=h,h:Math.max((m*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/h,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new o(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=n.cell=function(){var l;l=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,h=this.internal.__cell__.tableHeaderRow,d=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,d&&h&&(this.printHeaderRow(l.lineNumber,!0),l.y+=h[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,e===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};n.table=function(l,c,u,f,h){if(r.call(this),!u)throw new Error("No data for PDF table.");var d,m,g,x,b=[],_=[],S=[],T={},C={},w=[],N=[],A=(h=h||{}).autoSize||!1,j=h.printHeaders!==!1,R=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,L=h.margins||Object.assign({width:this.getPageWidth()},t),M=typeof h.padding=="number"?h.padding:3,I=h.headerBackgroundColor||"#c8c8c8",D=h.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=j,this.internal.__cell__.margins=L,this.internal.__cell__.table_font_size=R,this.internal.__cell__.padding=M,this.internal.__cell__.headerBackgroundColor=I,this.internal.__cell__.headerTextColor=D,this.setFontSize(R),f==null)_=b=Object.keys(u[0]),S=b.map(function(){return"left"});else if(Array.isArray(f)&&vn(f[0])==="object")for(b=f.map(function(te){return te.name}),_=f.map(function(te){return te.prompt||te.name||""}),S=f.map(function(te){return te.align||"left"}),d=0;d<f.length;d+=1)C[f[d].name]=f[d].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(_=b=f,S=b.map(function(){return"left"}));if(A||Array.isArray(f)&&typeof f[0]=="string")for(d=0;d<b.length;d+=1){for(T[x=b[d]]=u.map(function(te){return te[x]}),this.setFont(void 0,"bold"),w.push(this.getTextDimensions(_[d],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),m=T[x],this.setFont(void 0,"normal"),g=0;g<m.length;g+=1)w.push(this.getTextDimensions(m[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);C[x]=Math.max.apply(null,w)+M+M,w=[]}if(j){var V={};for(d=0;d<b.length;d+=1)V[b[d]]={},V[b[d]].text=_[d],V[b[d]].align=S[d];var F=s.call(this,V,C);N=b.map(function(te){return new o(l,c,C[te],F,V[te].text,void 0,V[te].align)}),this.setTableHeaderRow(N),this.printHeaderRow(1,!1)}var G=f.reduce(function(te,he){return te[he.name]=he.align,te},{});for(d=0;d<u.length;d+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:d,data:u[d]},this);var W=s.call(this,u[d],C);for(g=0;g<b.length;g+=1){var Y=u[d][b[g]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:d,col:g,data:Y},this),a.call(this,new o(l,c,C[b[g]],W,Y,d+2,G[b[g]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var s=function(l,c){var u=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(l).map(function(d){var m=l[d];return this.splitTextToSize(m.hasOwnProperty("text")?m.text:m,c[d]-u-u)},this).map(function(d){return this.getLineHeightFactor()*d.length*f/h+u+u},this).reduce(function(d,m){return Math.max(d,m)},0)};n.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},n.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(e=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],d=0;d<this.internal.__cell__.tableHeaderRow.length;d+=1){u=this.internal.__cell__.tableHeaderRow[d].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,h.push(u)),u.lineNumber=l;var m=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,u),this.setTextColor(m)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),e=!1}}(Br.API);var yN={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},bN=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],cw=mN(bN),xN=[100,200,300,400,500,600,700,800,900],iF=mN(xN);function uw(n){var t=n.family.replace(/"|'/g,"").toLowerCase(),e=function(o){return yN[o=o||"normal"]?o:"normal"}(n.style),r=function(o){if(!o)return 400;if(typeof o=="number")return o>=100&&o<=900&&o%100==0?o:400;if(/^\d00$/.test(o))return parseInt(o);switch(o){case"bold":return 700;case"normal":default:return 400}}(n.weight),i=function(o){return typeof cw[o=o||"normal"]=="number"?o:"normal"}(n.stretch);return{family:t,style:e,weight:r,stretch:i,src:n.src||[],ref:n.ref||{name:t,style:[i,e,r].join(" ")}}}function DC(n,t,e,r){var i;for(i=e;i>=0&&i<t.length;i+=r)if(n[t[i]])return n[t[i]];for(i=e;i>=0&&i<t.length;i-=r)if(n[t[i]])return n[t[i]]}var oF={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},IC={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function RC(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function aF(n,t,e){for(var r=(e=e||{}).defaultFontFamily||"times",i=Object.assign({},oF,e.genericFontFamilies||{}),o=null,a=null,s=0;s<t.length;++s)if(i[(o=uw(t[s])).family]&&(o.family=i[o.family]),n.hasOwnProperty(o.family)){a=n[o.family];break}if(!(a=a||n[r]))throw new Error("Could not find a font-family for the rule '"+RC(o)+"' and default family '"+r+"'.");if(a=function(l,c){if(c[l])return c[l];var u=cw[l],f=u<=cw.normal?-1:1,h=DC(c,bN,u,f);if(!h)throw new Error("Could not find a matching font-stretch value for "+l);return h}(o.stretch,a),a=function(l,c){if(c[l])return c[l];for(var u=yN[l],f=0;f<u.length;++f)if(c[u[f]])return c[u[f]];throw new Error("Could not find a matching font-style for "+l)}(o.style,a),!(a=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var u=iF[l],f=DC(c,xN,u,l<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+l);return f}(o.weight,a)))throw new Error("Failed to resolve a font for the rule '"+RC(o)+"'.");return a}function FC(n){return n.trimLeft()}function sF(n,t){for(var e=0;e<n.length;){if(n.charAt(e)===t)return[n.substring(0,e),n.substring(e+1)];e+=1}return null}function lF(n){var t=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],n.substring(t[0].length)]}var sm,BC,HC,C2=["times"];(function(n){var t,e,r,i,o,a,s,l,c,u=function(z){return z=z||{},this.isStrokeTransparent=z.isStrokeTransparent||!1,this.strokeOpacity=z.strokeOpacity||1,this.strokeStyle=z.strokeStyle||"#000000",this.fillStyle=z.fillStyle||"#000000",this.isFillTransparent=z.isFillTransparent||!1,this.fillOpacity=z.fillOpacity||1,this.font=z.font||"10px sans-serif",this.textBaseline=z.textBaseline||"alphabetic",this.textAlign=z.textAlign||"left",this.lineWidth=z.lineWidth||1,this.lineJoin=z.lineJoin||"miter",this.lineCap=z.lineCap||"butt",this.path=z.path||[],this.transform=z.transform!==void 0?z.transform.clone():new l,this.globalCompositeOperation=z.globalCompositeOperation||"normal",this.globalAlpha=z.globalAlpha||1,this.clip_path=z.clip_path||[],this.currentPoint=z.currentPoint||new a,this.miterLimit=z.miterLimit||10,this.lastPoint=z.lastPoint||new a,this.lineDashOffset=z.lineDashOffset||0,this.lineDash=z.lineDash||[],this.margin=z.margin||[0,0,0,0],this.prevPageLastElemOffset=z.prevPageLastElemOffset||0,this.ignoreClearRect=typeof z.ignoreClearRect!="boolean"||z.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,e=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,a=this.internal.Point,s=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var f=function(z){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Z=z;Object.defineProperty(this,"pdf",{get:function(){return Z}});var X=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return X},set:function(Ue){X=!!Ue}});var ae=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ae},set:function(Ue){ae=!!Ue}});var ve=0;Object.defineProperty(this,"posX",{get:function(){return ve},set:function(Ue){isNaN(Ue)||(ve=Ue)}});var me=0;Object.defineProperty(this,"posY",{get:function(){return me},set:function(Ue){isNaN(Ue)||(me=Ue)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(Ue){var Te;typeof Ue=="number"?Te=[Ue,Ue,Ue,Ue]:((Te=new Array(4))[0]=Ue[0],Te[1]=Ue.length>=2?Ue[1]:Te[0],Te[2]=Ue.length>=3?Ue[2]:Te[0],Te[3]=Ue.length>=4?Ue[3]:Te[1]),c.margin=Te}});var Ee=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ee},set:function(Ue){Ee=Ue}});var ke=0;Object.defineProperty(this,"lastBreak",{get:function(){return ke},set:function(Ue){ke=Ue}});var He=[];Object.defineProperty(this,"pageBreaks",{get:function(){return He},set:function(Ue){He=Ue}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(Ue){Ue instanceof u&&(c=Ue)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(Ue){c.path=Ue}});var Re=[];Object.defineProperty(this,"ctxStack",{get:function(){return Re},set:function(Ue){Re=Ue}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ue){var Te;Te=h(Ue),this.ctx.fillStyle=Te.style,this.ctx.isFillTransparent=Te.a===0,this.ctx.fillOpacity=Te.a,this.pdf.setFillColor(Te.r,Te.g,Te.b,{a:Te.a}),this.pdf.setTextColor(Te.r,Te.g,Te.b,{a:Te.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ue){var Te=h(Ue);this.ctx.strokeStyle=Te.style,this.ctx.isStrokeTransparent=Te.a===0,this.ctx.strokeOpacity=Te.a,Te.a===0?this.pdf.setDrawColor(255,255,255):(Te.a,this.pdf.setDrawColor(Te.r,Te.g,Te.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ue){["butt","round","square"].indexOf(Ue)!==-1&&(this.ctx.lineCap=Ue,this.pdf.setLineCap(Ue))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ue){isNaN(Ue)||(this.ctx.lineWidth=Ue,this.pdf.setLineWidth(Ue))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ue){["bevel","round","miter"].indexOf(Ue)!==-1&&(this.ctx.lineJoin=Ue,this.pdf.setLineJoin(Ue))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ue){isNaN(Ue)||(this.ctx.miterLimit=Ue,this.pdf.setMiterLimit(Ue))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ue){this.ctx.textBaseline=Ue}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ue){["right","end","center","left","start"].indexOf(Ue)!==-1&&(this.ctx.textAlign=Ue)}});var se=null;function ce(Ue,Te){if(se===null){var ft=function(Q){var de=[];return Object.keys(Q).forEach(function(Ce){Q[Ce].forEach(function(De){var Ke=null;switch(De){case"bold":Ke={family:Ce,weight:"bold"};break;case"italic":Ke={family:Ce,style:"italic"};break;case"bolditalic":Ke={family:Ce,weight:"bold",style:"italic"};break;case"":case"normal":Ke={family:Ce}}Ke!==null&&(Ke.ref={name:Ce,style:De},de.push(Ke))})}),de}(Ue.getFontList());se=function(Q){for(var de={},Ce=0;Ce<Q.length;++Ce){var De=uw(Q[Ce]),Ke=De.family,je=De.stretch,Ze=De.style,Ye=De.weight;de[Ke]=de[Ke]||{},de[Ke][je]=de[Ke][je]||{},de[Ke][je][Ze]=de[Ke][je][Ze]||{},de[Ke][je][Ze][Ye]=De}return de}(ft.concat(Te))}return se}var $e=null;Object.defineProperty(this,"fontFaces",{get:function(){return $e},set:function(Ue){se=null,$e=Ue}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ue){var Te;if(this.ctx.font=Ue,(Te=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ue))!==null){var ft=Te[1];Te[2];var Q=Te[3],de=Te[4];Te[5];var Ce=Te[6],De=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(de)[2];de=Math.floor(De==="px"?parseFloat(de)*this.pdf.internal.scaleFactor:De==="em"?parseFloat(de)*this.pdf.getFontSize():parseFloat(de)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(de);var Ke=function(Oe){var fe,ee,tt=[],Ie=Oe.trim();if(Ie==="")return C2;if(Ie in IC)return[IC[Ie]];for(;Ie!=="";){switch(ee=null,fe=(Ie=FC(Ie)).charAt(0)){case'"':case"'":ee=sF(Ie.substring(1),fe);break;default:ee=lF(Ie)}if(ee===null||(tt.push(ee[0]),(Ie=FC(ee[1]))!==""&&Ie.charAt(0)!==","))return C2;Ie=Ie.replace(/^,/,"")}return tt}(Ce);if(this.fontFaces){var je=aF(ce(this.pdf,this.fontFaces),Ke.map(function(Oe){return{family:Oe,stretch:"normal",weight:Q,style:ft}}));this.pdf.setFont(je.ref.name,je.ref.style)}else{var Ze="";(Q==="bold"||parseInt(Q,10)>=700||ft==="bold")&&(Ze="bold"),ft==="italic"&&(Ze+="italic"),Ze.length===0&&(Ze="normal");for(var Ye="",bt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ut=0;Ut<Ke.length;Ut++){if(this.pdf.internal.getFont(Ke[Ut],Ze,{noFallback:!0,disableWarning:!0})!==void 0){Ye=Ke[Ut];break}if(Ze==="bolditalic"&&this.pdf.internal.getFont(Ke[Ut],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ye=Ke[Ut],Ze="bold";else if(this.pdf.internal.getFont(Ke[Ut],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ye=Ke[Ut],Ze="normal";break}}if(Ye===""){for(var kt=0;kt<Ke.length;kt++)if(bt[Ke[kt]]){Ye=bt[Ke[kt]];break}}Ye=Ye===""?"Times":Ye,this.pdf.setFont(Ye,Ze)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ue){this.ctx.globalCompositeOperation=Ue}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ue){this.ctx.globalAlpha=Ue}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ue){this.ctx.lineDashOffset=Ue,he.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ue){this.ctx.lineDash=Ue,he.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ue){this.ctx.ignoreClearRect=!!Ue}})};f.prototype.setLineDash=function(z){this.lineDash=z},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){T.call(this,"fill",!1)},f.prototype.stroke=function(){T.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(z,Z){if(isNaN(z)||isNaN(Z))throw qn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var X=this.ctx.transform.applyToPoint(new a(z,Z));this.path.push({type:"mt",x:X.x,y:X.y}),this.ctx.lastPoint=new a(z,Z)},f.prototype.closePath=function(){var z=new a(0,0),Z=0;for(Z=this.path.length-1;Z!==-1;Z--)if(this.path[Z].type==="begin"&&vn(this.path[Z+1])==="object"&&typeof this.path[Z+1].x=="number"){z=new a(this.path[Z+1].x,this.path[Z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(z.x,z.y)},f.prototype.lineTo=function(z,Z){if(isNaN(z)||isNaN(Z))throw qn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var X=this.ctx.transform.applyToPoint(new a(z,Z));this.path.push({type:"lt",x:X.x,y:X.y}),this.ctx.lastPoint=new a(X.x,X.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),T.call(this,null,!0)},f.prototype.quadraticCurveTo=function(z,Z,X,ae){if(isNaN(X)||isNaN(ae)||isNaN(z)||isNaN(Z))throw qn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ve=this.ctx.transform.applyToPoint(new a(X,ae)),me=this.ctx.transform.applyToPoint(new a(z,Z));this.path.push({type:"qct",x1:me.x,y1:me.y,x:ve.x,y:ve.y}),this.ctx.lastPoint=new a(ve.x,ve.y)},f.prototype.bezierCurveTo=function(z,Z,X,ae,ve,me){if(isNaN(ve)||isNaN(me)||isNaN(z)||isNaN(Z)||isNaN(X)||isNaN(ae))throw qn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ee=this.ctx.transform.applyToPoint(new a(ve,me)),ke=this.ctx.transform.applyToPoint(new a(z,Z)),He=this.ctx.transform.applyToPoint(new a(X,ae));this.path.push({type:"bct",x1:ke.x,y1:ke.y,x2:He.x,y2:He.y,x:Ee.x,y:Ee.y}),this.ctx.lastPoint=new a(Ee.x,Ee.y)},f.prototype.arc=function(z,Z,X,ae,ve,me){if(isNaN(z)||isNaN(Z)||isNaN(X)||isNaN(ae)||isNaN(ve))throw qn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(me=!!me,!this.ctx.transform.isIdentity){var Ee=this.ctx.transform.applyToPoint(new a(z,Z));z=Ee.x,Z=Ee.y;var ke=this.ctx.transform.applyToPoint(new a(0,X)),He=this.ctx.transform.applyToPoint(new a(0,0));X=Math.sqrt(Math.pow(ke.x-He.x,2)+Math.pow(ke.y-He.y,2))}Math.abs(ve-ae)>=2*Math.PI&&(ae=0,ve=2*Math.PI),this.path.push({type:"arc",x:z,y:Z,radius:X,startAngle:ae,endAngle:ve,counterclockwise:me})},f.prototype.arcTo=function(z,Z,X,ae,ve){throw new Error("arcTo not implemented.")},f.prototype.rect=function(z,Z,X,ae){if(isNaN(z)||isNaN(Z)||isNaN(X)||isNaN(ae))throw qn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(z,Z),this.lineTo(z+X,Z),this.lineTo(z+X,Z+ae),this.lineTo(z,Z+ae),this.lineTo(z,Z),this.lineTo(z+X,Z),this.lineTo(z,Z)},f.prototype.fillRect=function(z,Z,X,ae){if(isNaN(z)||isNaN(Z)||isNaN(X)||isNaN(ae))throw qn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!d.call(this)){var ve={};this.lineCap!=="butt"&&(ve.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ve.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(z,Z,X,ae),this.fill(),ve.hasOwnProperty("lineCap")&&(this.lineCap=ve.lineCap),ve.hasOwnProperty("lineJoin")&&(this.lineJoin=ve.lineJoin)}},f.prototype.strokeRect=function(z,Z,X,ae){if(isNaN(z)||isNaN(Z)||isNaN(X)||isNaN(ae))throw qn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");m.call(this)||(this.beginPath(),this.rect(z,Z,X,ae),this.stroke())},f.prototype.clearRect=function(z,Z,X,ae){if(isNaN(z)||isNaN(Z)||isNaN(X)||isNaN(ae))throw qn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(z,Z,X,ae))},f.prototype.save=function(z){z=typeof z!="boolean"||z;for(var Z=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("q");if(this.pdf.setPage(Z),z){this.ctx.fontSize=this.pdf.internal.getFontSize();var ae=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ae}},f.prototype.restore=function(z){z=typeof z!="boolean"||z;for(var Z=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("Q");this.pdf.setPage(Z),z&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(z){var Z,X,ae,ve;if(z.isCanvasGradient===!0&&(z=z.getColor()),!z)return{r:0,g:0,b:0,a:0,style:z};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(z))Z=0,X=0,ae=0,ve=0;else{var me=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(z);if(me!==null)Z=parseInt(me[1]),X=parseInt(me[2]),ae=parseInt(me[3]),ve=1;else if((me=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(z))!==null)Z=parseInt(me[1]),X=parseInt(me[2]),ae=parseInt(me[3]),ve=parseFloat(me[4]);else{if(ve=1,typeof z=="string"&&z.charAt(0)!=="#"){var Ee=new fN(z);z=Ee.ok?Ee.toHex():"#000000"}z.length===4?(Z=z.substring(1,2),Z+=Z,X=z.substring(2,3),X+=X,ae=z.substring(3,4),ae+=ae):(Z=z.substring(1,3),X=z.substring(3,5),ae=z.substring(5,7)),Z=parseInt(Z,16),X=parseInt(X,16),ae=parseInt(ae,16)}}return{r:Z,g:X,b:ae,a:ve,style:z}},d=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},m=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(z,Z,X,ae){if(isNaN(Z)||isNaN(X)||typeof z!="string")throw qn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ae=isNaN(ae)?void 0:ae,!d.call(this)){var ve=W(this.ctx.transform.rotation),me=this.ctx.transform.scaleX;M.call(this,{text:z,x:Z,y:X,scale:me,angle:ve,align:this.textAlign,maxWidth:ae})}},f.prototype.strokeText=function(z,Z,X,ae){if(isNaN(Z)||isNaN(X)||typeof z!="string")throw qn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!m.call(this)){ae=isNaN(ae)?void 0:ae;var ve=W(this.ctx.transform.rotation),me=this.ctx.transform.scaleX;M.call(this,{text:z,x:Z,y:X,scale:me,renderingMode:"stroke",angle:ve,align:this.textAlign,maxWidth:ae})}},f.prototype.measureText=function(z){if(typeof z!="string")throw qn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Z=this.pdf,X=this.pdf.internal.scaleFactor,ae=Z.internal.getFontSize(),ve=Z.getStringUnitWidth(z)*ae/Z.internal.scaleFactor,me=function(Ee){var ke=(Ee=Ee||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ke}}),this};return new me({width:ve*=Math.round(96*X/72*1e4)/1e4})},f.prototype.scale=function(z,Z){if(isNaN(z)||isNaN(Z))throw qn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var X=new l(z,0,0,Z,0,0);this.ctx.transform=this.ctx.transform.multiply(X)},f.prototype.rotate=function(z){if(isNaN(z))throw qn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Z=new l(Math.cos(z),Math.sin(z),-Math.sin(z),Math.cos(z),0,0);this.ctx.transform=this.ctx.transform.multiply(Z)},f.prototype.translate=function(z,Z){if(isNaN(z)||isNaN(Z))throw qn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var X=new l(1,0,0,1,z,Z);this.ctx.transform=this.ctx.transform.multiply(X)},f.prototype.transform=function(z,Z,X,ae,ve,me){if(isNaN(z)||isNaN(Z)||isNaN(X)||isNaN(ae)||isNaN(ve)||isNaN(me))throw qn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ee=new l(z,Z,X,ae,ve,me);this.ctx.transform=this.ctx.transform.multiply(Ee)},f.prototype.setTransform=function(z,Z,X,ae,ve,me){z=isNaN(z)?1:z,Z=isNaN(Z)?0:Z,X=isNaN(X)?0:X,ae=isNaN(ae)?1:ae,ve=isNaN(ve)?0:ve,me=isNaN(me)?0:me,this.ctx.transform=new l(z,Z,X,ae,ve,me)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(z,Z,X,ae,ve,me,Ee,ke,He){var Re=this.pdf.getImageProperties(z),se=1,ce=1,$e=1,Ue=1;ae!==void 0&&ke!==void 0&&($e=ke/ae,Ue=He/ve,se=Re.width/ae*ke/ae,ce=Re.height/ve*He/ve),me===void 0&&(me=Z,Ee=X,Z=0,X=0),ae!==void 0&&ke===void 0&&(ke=ae,He=ve),ae===void 0&&ke===void 0&&(ke=Re.width,He=Re.height);for(var Te,ft=this.ctx.transform.decompose(),Q=W(ft.rotate.shx),de=new l,Ce=(de=(de=(de=de.multiply(ft.translate)).multiply(ft.skew)).multiply(ft.scale)).applyToRectangle(new s(me-Z*$e,Ee-X*Ue,ae*se,ve*ce)),De=x.call(this,Ce),Ke=[],je=0;je<De.length;je+=1)Ke.indexOf(De[je])===-1&&Ke.push(De[je]);if(S(Ke),this.autoPaging)for(var Ze=Ke[0],Ye=Ke[Ke.length-1],bt=Ze;bt<Ye+1;bt++){this.pdf.setPage(bt);var Ut=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],kt=bt===1?this.posY+this.margin[0]:this.margin[0],Oe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],fe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ee=bt===1?0:Oe+(bt-2)*fe;if(this.ctx.clip_path.length!==0){var tt=this.path;Te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(Te,this.posX+this.margin[3],-ee+kt+this.ctx.prevPageLastElemOffset),C.call(this,"fill",!0),this.path=tt}var Ie=JSON.parse(JSON.stringify(Ce));Ie=_([Ie],this.posX+this.margin[3],-ee+kt+this.ctx.prevPageLastElemOffset)[0];var gt=(bt>Ze||bt<Ye)&&g.call(this);gt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ut,fe,null).clip().discardPath()),this.pdf.addImage(z,"JPEG",Ie.x,Ie.y,Ie.w,Ie.h,null,null,Q),gt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(z,"JPEG",Ce.x,Ce.y,Ce.w,Ce.h,null,null,Q)};var x=function(z,Z,X){var ae=[];Z=Z||this.pdf.internal.pageSize.width,X=X||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ve=this.posY+this.ctx.prevPageLastElemOffset;switch(z.type){default:case"mt":case"lt":ae.push(Math.floor((z.y+ve)/X)+1);break;case"arc":ae.push(Math.floor((z.y+ve-z.radius)/X)+1),ae.push(Math.floor((z.y+ve+z.radius)/X)+1);break;case"qct":var me=Y(this.ctx.lastPoint.x,this.ctx.lastPoint.y,z.x1,z.y1,z.x,z.y);ae.push(Math.floor((me.y+ve)/X)+1),ae.push(Math.floor((me.y+me.h+ve)/X)+1);break;case"bct":var Ee=te(this.ctx.lastPoint.x,this.ctx.lastPoint.y,z.x1,z.y1,z.x2,z.y2,z.x,z.y);ae.push(Math.floor((Ee.y+ve)/X)+1),ae.push(Math.floor((Ee.y+Ee.h+ve)/X)+1);break;case"rect":ae.push(Math.floor((z.y+ve)/X)+1),ae.push(Math.floor((z.y+z.h+ve)/X)+1)}for(var ke=0;ke<ae.length;ke+=1)for(;this.pdf.internal.getNumberOfPages()<ae[ke];)b.call(this);return ae},b=function(){var z=this.fillStyle,Z=this.strokeStyle,X=this.font,ae=this.lineCap,ve=this.lineWidth,me=this.lineJoin;this.pdf.addPage(),this.fillStyle=z,this.strokeStyle=Z,this.font=X,this.lineCap=ae,this.lineWidth=ve,this.lineJoin=me},_=function(z,Z,X){for(var ae=0;ae<z.length;ae++)switch(z[ae].type){case"bct":z[ae].x2+=Z,z[ae].y2+=X;case"qct":z[ae].x1+=Z,z[ae].y1+=X;case"mt":case"lt":case"arc":default:z[ae].x+=Z,z[ae].y+=X}return z},S=function(z){return z.sort(function(Z,X){return Z-X})},T=function(z,Z){for(var X,ae,ve=this.fillStyle,me=this.strokeStyle,Ee=this.lineCap,ke=this.lineWidth,He=Math.abs(ke*this.ctx.transform.scaleX),Re=this.lineJoin,se=JSON.parse(JSON.stringify(this.path)),ce=JSON.parse(JSON.stringify(this.path)),$e=[],Ue=0;Ue<ce.length;Ue++)if(ce[Ue].x!==void 0)for(var Te=x.call(this,ce[Ue]),ft=0;ft<Te.length;ft+=1)$e.indexOf(Te[ft])===-1&&$e.push(Te[ft]);for(var Q=0;Q<$e.length;Q++)for(;this.pdf.internal.getNumberOfPages()<$e[Q];)b.call(this);if(S($e),this.autoPaging)for(var de=$e[0],Ce=$e[$e.length-1],De=de;De<Ce+1;De++){this.pdf.setPage(De),this.fillStyle=ve,this.strokeStyle=me,this.lineCap=Ee,this.lineWidth=He,this.lineJoin=Re;var Ke=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],je=De===1?this.posY+this.margin[0]:this.margin[0],Ze=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ye=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],bt=De===1?0:Ze+(De-2)*Ye;if(this.ctx.clip_path.length!==0){var Ut=this.path;X=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(X,this.posX+this.margin[3],-bt+je+this.ctx.prevPageLastElemOffset),C.call(this,z,!0),this.path=Ut}if(ae=JSON.parse(JSON.stringify(se)),this.path=_(ae,this.posX+this.margin[3],-bt+je+this.ctx.prevPageLastElemOffset),Z===!1||De===0){var kt=(De>de||De<Ce)&&g.call(this);kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ke,Ye,null).clip().discardPath()),C.call(this,z,Z),kt&&this.pdf.restoreGraphicsState()}this.lineWidth=ke}else this.lineWidth=He,C.call(this,z,Z),this.lineWidth=ke;this.path=se},C=function(z,Z){if((z!=="stroke"||Z||!m.call(this))&&(z==="stroke"||Z||!d.call(this))){for(var X,ae,ve=[],me=this.path,Ee=0;Ee<me.length;Ee++){var ke=me[Ee];switch(ke.type){case"begin":ve.push({begin:!0});break;case"close":ve.push({close:!0});break;case"mt":ve.push({start:ke,deltas:[],abs:[]});break;case"lt":var He=ve.length;if(me[Ee-1]&&!isNaN(me[Ee-1].x)&&(X=[ke.x-me[Ee-1].x,ke.y-me[Ee-1].y],He>0)){for(;He>=0;He--)if(ve[He-1].close!==!0&&ve[He-1].begin!==!0){ve[He-1].deltas.push(X),ve[He-1].abs.push(ke);break}}break;case"bct":X=[ke.x1-me[Ee-1].x,ke.y1-me[Ee-1].y,ke.x2-me[Ee-1].x,ke.y2-me[Ee-1].y,ke.x-me[Ee-1].x,ke.y-me[Ee-1].y],ve[ve.length-1].deltas.push(X);break;case"qct":var Re=me[Ee-1].x+2/3*(ke.x1-me[Ee-1].x),se=me[Ee-1].y+2/3*(ke.y1-me[Ee-1].y),ce=ke.x+2/3*(ke.x1-ke.x),$e=ke.y+2/3*(ke.y1-ke.y),Ue=ke.x,Te=ke.y;X=[Re-me[Ee-1].x,se-me[Ee-1].y,ce-me[Ee-1].x,$e-me[Ee-1].y,Ue-me[Ee-1].x,Te-me[Ee-1].y],ve[ve.length-1].deltas.push(X);break;case"arc":ve.push({deltas:[],abs:[],arc:!0}),Array.isArray(ve[ve.length-1].abs)&&ve[ve.length-1].abs.push(ke)}}ae=Z?null:z==="stroke"?"stroke":"fill";for(var ft=!1,Q=0;Q<ve.length;Q++)if(ve[Q].arc)for(var de=ve[Q].abs,Ce=0;Ce<de.length;Ce++){var De=de[Ce];De.type==="arc"?A.call(this,De.x,De.y,De.radius,De.startAngle,De.endAngle,De.counterclockwise,void 0,Z,!ft):I.call(this,De.x,De.y),ft=!0}else if(ve[Q].close===!0)this.pdf.internal.out("h"),ft=!1;else if(ve[Q].begin!==!0){var Ke=ve[Q].start.x,je=ve[Q].start.y;D.call(this,ve[Q].deltas,Ke,je),ft=!0}ae&&j.call(this,ae),Z&&R.call(this)}},w=function(z){var Z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,X=Z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return z-X;case"top":return z+Z-X;case"hanging":return z+Z-2*X;case"middle":return z+Z/2-X;case"ideographic":return z;case"alphabetic":default:return z}},N=function(z){return z+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var z=function(){};return z.colorStops=[],z.addColorStop=function(Z,X){this.colorStops.push([Z,X])},z.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},z.isCanvasGradient=!0,z},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var A=function(z,Z,X,ae,ve,me,Ee,ke,He){for(var Re=F.call(this,X,ae,ve,me),se=0;se<Re.length;se++){var ce=Re[se];se===0&&(He?L.call(this,ce.x1+z,ce.y1+Z):I.call(this,ce.x1+z,ce.y1+Z)),V.call(this,z,Z,ce.x2,ce.y2,ce.x3,ce.y3,ce.x4,ce.y4)}ke?R.call(this):j.call(this,Ee)},j=function(z){switch(z){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},R=function(){this.pdf.clip(),this.pdf.discardPath()},L=function(z,Z){this.pdf.internal.out(e(z)+" "+r(Z)+" m")},M=function(z){var Z;switch(z.align){case"right":case"end":Z="right";break;case"center":Z="center";break;case"left":case"start":default:Z="left"}var X=this.pdf.getTextDimensions(z.text),ae=w.call(this,z.y),ve=N.call(this,ae)-X.h,me=this.ctx.transform.applyToPoint(new a(z.x,ae)),Ee=this.ctx.transform.decompose(),ke=new l;ke=(ke=(ke=ke.multiply(Ee.translate)).multiply(Ee.skew)).multiply(Ee.scale);for(var He,Re,se,ce=this.ctx.transform.applyToRectangle(new s(z.x,ae,X.w,X.h)),$e=ke.applyToRectangle(new s(z.x,ve,X.w,X.h)),Ue=x.call(this,$e),Te=[],ft=0;ft<Ue.length;ft+=1)Te.indexOf(Ue[ft])===-1&&Te.push(Ue[ft]);if(S(Te),this.autoPaging)for(var Q=Te[0],de=Te[Te.length-1],Ce=Q;Ce<de+1;Ce++){this.pdf.setPage(Ce);var De=Ce===1?this.posY+this.margin[0]:this.margin[0],Ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],je=this.pdf.internal.pageSize.height-this.margin[2],Ze=je-this.margin[0],Ye=this.pdf.internal.pageSize.width-this.margin[1],bt=Ye-this.margin[3],Ut=Ce===1?0:Ke+(Ce-2)*Ze;if(this.ctx.clip_path.length!==0){var kt=this.path;He=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(He,this.posX+this.margin[3],-1*Ut+De),C.call(this,"fill",!0),this.path=kt}var Oe=_([JSON.parse(JSON.stringify($e))],this.posX+this.margin[3],-Ut+De+this.ctx.prevPageLastElemOffset)[0];z.scale>=.01&&(Re=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Re*z.scale),se=this.lineWidth,this.lineWidth=se*z.scale);var fe=this.autoPaging!=="text";if(fe||Oe.y+Oe.h<=je){if(fe||Oe.y>=De&&Oe.x<=Ye){var ee=fe?z.text:this.pdf.splitTextToSize(z.text,z.maxWidth||Ye-Oe.x)[0],tt=_([JSON.parse(JSON.stringify(ce))],this.posX+this.margin[3],-Ut+De+this.ctx.prevPageLastElemOffset)[0],Ie=fe&&(Ce>Q||Ce<de)&&g.call(this);Ie&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],bt,Ze,null).clip().discardPath()),this.pdf.text(ee,tt.x,tt.y,{angle:z.angle,align:Z,renderingMode:z.renderingMode}),Ie&&this.pdf.restoreGraphicsState()}}else Oe.y<je&&(this.ctx.prevPageLastElemOffset+=je-Oe.y);z.scale>=.01&&(this.pdf.setFontSize(Re),this.lineWidth=se)}else z.scale>=.01&&(Re=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Re*z.scale),se=this.lineWidth,this.lineWidth=se*z.scale),this.pdf.text(z.text,me.x+this.posX,me.y+this.posY,{angle:z.angle,align:Z,renderingMode:z.renderingMode,maxWidth:z.maxWidth}),z.scale>=.01&&(this.pdf.setFontSize(Re),this.lineWidth=se)},I=function(z,Z,X,ae){X=X||0,ae=ae||0,this.pdf.internal.out(e(z+X)+" "+r(Z+ae)+" l")},D=function(z,Z,X){return this.pdf.lines(z,Z,X,null,null)},V=function(z,Z,X,ae,ve,me,Ee,ke){this.pdf.internal.out([t(i(X+z)),t(o(ae+Z)),t(i(ve+z)),t(o(me+Z)),t(i(Ee+z)),t(o(ke+Z)),"c"].join(" "))},F=function(z,Z,X,ae){for(var ve=2*Math.PI,me=Math.PI/2;Z>X;)Z-=ve;var Ee=Math.abs(X-Z);Ee<ve&&ae&&(Ee=ve-Ee);for(var ke=[],He=ae?-1:1,Re=Z;Ee>1e-5;){var se=Re+He*Math.min(Ee,me);ke.push(G.call(this,z,Re,se)),Ee-=Math.abs(se-Re),Re=se}return ke},G=function(z,Z,X){var ae=(X-Z)/2,ve=z*Math.cos(ae),me=z*Math.sin(ae),Ee=ve,ke=-me,He=Ee*Ee+ke*ke,Re=He+Ee*ve+ke*me,se=4/3*(Math.sqrt(2*He*Re)-Re)/(Ee*me-ke*ve),ce=Ee-se*ke,$e=ke+se*Ee,Ue=ce,Te=-$e,ft=ae+Z,Q=Math.cos(ft),de=Math.sin(ft);return{x1:z*Math.cos(Z),y1:z*Math.sin(Z),x2:ce*Q-$e*de,y2:ce*de+$e*Q,x3:Ue*Q-Te*de,y3:Ue*de+Te*Q,x4:z*Math.cos(X),y4:z*Math.sin(X)}},W=function(z){return 180*z/Math.PI},Y=function(z,Z,X,ae,ve,me){var Ee=z+.5*(X-z),ke=Z+.5*(ae-Z),He=ve+.5*(X-ve),Re=me+.5*(ae-me),se=Math.min(z,ve,Ee,He),ce=Math.max(z,ve,Ee,He),$e=Math.min(Z,me,ke,Re),Ue=Math.max(Z,me,ke,Re);return new s(se,$e,ce-se,Ue-$e)},te=function(z,Z,X,ae,ve,me,Ee,ke){var He,Re,se,ce,$e,Ue,Te,ft,Q,de,Ce,De,Ke,je,Ze=X-z,Ye=ae-Z,bt=ve-X,Ut=me-ae,kt=Ee-ve,Oe=ke-me;for(Re=0;Re<41;Re++)Q=(Te=(se=z+(He=Re/40)*Ze)+He*(($e=X+He*bt)-se))+He*($e+He*(ve+He*kt-$e)-Te),de=(ft=(ce=Z+He*Ye)+He*((Ue=ae+He*Ut)-ce))+He*(Ue+He*(me+He*Oe-Ue)-ft),Re==0?(Ce=Q,De=de,Ke=Q,je=de):(Ce=Math.min(Ce,Q),De=Math.min(De,de),Ke=Math.max(Ke,Q),je=Math.max(je,de));return new s(Math.round(Ce),Math.round(De),Math.round(Ke-Ce),Math.round(je-De))},he=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var z,Z,X=(z=this.ctx.lineDash,Z=this.ctx.lineDashOffset,JSON.stringify({lineDash:z,lineDashOffset:Z}));this.prevLineDash!==X&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=X)}}})(Br.API),function(n){var t=function(o){var a,s,l,c,u,f,h,d,m,g;for(s=[],l=0,c=(o+=a="\0\0\0\0".slice(o.length%4||4)).length;c>l;l+=4)(u=(o.charCodeAt(l)<<24)+(o.charCodeAt(l+1)<<16)+(o.charCodeAt(l+2)<<8)+o.charCodeAt(l+3))!==0?(f=(u=((u=((u=((u=(u-(g=u%85))/85)-(m=u%85))/85)-(d=u%85))/85)-(h=u%85))/85)%85,s.push(f+33,h+33,d+33,m+33,g+33)):s.push(122);return function(x,b){for(var _=b;_>0;_--)x.pop()}(s,a.length),String.fromCharCode.apply(String,s)+"~>"},e=function(o){var a,s,l,c,u,f=String,h="length",d=255,m="charCodeAt",g="slice",x="replace";for(o[g](-2),o=o[g](0,-2)[x](/\s/g,"")[x]("z","!!!!!"),l=[],c=0,u=(o+=a="uuuuu"[g](o[h]%5||5))[h];u>c;c+=5)s=52200625*(o[m](c)-33)+614125*(o[m](c+1)-33)+7225*(o[m](c+2)-33)+85*(o[m](c+3)-33)+(o[m](c+4)-33),l.push(d&s>>24,d&s>>16,d&s>>8,d&s);return function(b,_){for(var S=_;S>0;S--)b.pop()}(l,a[h]),f.fromCharCode.apply(f,l)},r=function(o){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),a.test(o)===!1)return"";for(var s="",l=0;l<o.length;l+=2)s+=String.fromCharCode("0x"+(o[l]+o[l+1]));return s},i=function(o){for(var a=new Uint8Array(o.length),s=o.length;s--;)a[s]=o.charCodeAt(s);return o=(a=iw(a)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};n.processDataByFilters=function(o,a){var s=0,l=o||"",c=[];for(typeof(a=a||[])=="string"&&(a=[a]),s=0;s<a.length;s+=1)switch(a[s]){case"ASCII85Decode":case"/ASCII85Decode":l=e(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[s]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(Br.API),function(n){n.loadFile=function(t,e,r){return function(i,o,a){o=o!==!1,a=typeof a=="function"?a:function(){};var s=void 0;try{s=function(l,c,u){var f=new XMLHttpRequest,h=0,d=function(m){var g=m.length,x=[],b=String.fromCharCode;for(h=0;h<g;h+=1)x.push(b(255&m.charCodeAt(h)));return x.join("")};if(f.open("GET",l,!c),f.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(f.onload=function(){f.status===200?u(d(this.responseText)):u(void 0)}),f.send(null),c&&f.status===200)return d(f.responseText)}(i,o,a)}catch{}return s}(t,e,r)},n.loadImageFile=n.loadFile}(Br.API),function(n){function t(){return($r.html2canvas?Promise.resolve($r.html2canvas):Z5(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function e(){return($r.DOMPurify?Promise.resolve($r.DOMPurify):Z5(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var s=vn(a);return s==="undefined"?"undefined":s==="string"||a instanceof String?"string":s==="number"||a instanceof Number?"number":s==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":s==="object"?"object":"unknown"},i=function(a,s){var l=document.createElement(a);for(var c in s.className&&(l.className=s.className),s.innerHTML&&s.dompurify&&(l.innerHTML=s.dompurify.sanitize(s.innerHTML)),s.style)l.style[c]=s.style[c];return l},o=function a(s){var l=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),c=a.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,a,1,[a])).set(s)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(a,s){return a.__proto__=s||o.prototype,a},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(a,s){return this.then(function(){switch(s=s||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(e).then(function(l){return this.set({src:i("div",{innerHTML:a,dompurify:l})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},o.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},s=function l(c,u){for(var f=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),h=c.firstChild;h;h=h.nextSibling)u!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||f.appendChild(l(h,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(f.width=c.width,f.height=c.height,f.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(f.value=c.value),f.addEventListener("load",function(){f.scrollTop=c.scrollTop,f.scrollLeft=c.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);s.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(s),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(t).then(function(s){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,s(this.prop.container,l)}).then(function(s){(this.opt.html2canvas.onrendered||function(){})(s),this.prop.canvas=s,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(t).then(function(s){var l=this.opt.jsPDF,c=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var h=0;h<c.length;++h){var d=c[h],m=d.src.find(function(g){return g.format==="truetype"});m&&l.addFont(m.url,d.ref.name,d.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,l.context2d.save(!0),s(this.prop.container,f)}).then(function(s){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(s),this.prop.canvas=s,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(a,s,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(a,s):this.outputPdf(a,s)},o.prototype.outputPdf=function(a,s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,s)})},o.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},o.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(a){if(r(a)!=="object")return this;var s=Object.keys(a||{}).map(function(l){if(l in o.template.prop)return function(){this.prop[l]=a[l]};switch(l){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[l]=a[l]}}},this);return this.then(function(){return this.thenList(s)})},o.prototype.get=function(a,s){return this.then(function(){var l=a in o.template.prop?this.prop[a]:this.opt[a];return s?s(l):l})},o.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},o.prototype.setPageSize=function(a){function s(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(a=a||Br.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:s(a.inner.width,a.k),height:s(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},o.prototype.setProgress=function(a,s,l,c){return a!=null&&(this.progress.val=a),s!=null&&(this.progress.state=s),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(a,s,l,c){return this.setProgress(a?this.progress.val+a:null,s||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},o.prototype.then=function(a,s){var l=this;return this.thenCore(a,s,function(c,u){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(f){return l.updateProgress(null,c),f}).then(c,u).then(function(f){return l.updateProgress(1),f})})},o.prototype.thenCore=function(a,s,l){l=l||Promise.prototype.then,a&&(a=a.bind(this)),s&&(s=s.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:o.convert(Object.assign({},this),Promise.prototype),u=l.call(c,a,s);return o.convert(u,this.__proto__)},o.prototype.thenExternal=function(a,s){return Promise.prototype.then.call(this,a,s)},o.prototype.thenList=function(a){var s=this;return a.forEach(function(l){s=s.thenCore(l)}),s},o.prototype.catch=function(a){a&&(a=a.bind(this));var s=Promise.prototype.catch.call(this,a);return o.convert(s,this)},o.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},o.prototype.error=function(a){return this.then(function(){throw new Error(a)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Br.getPageSize=function(a,s,l){if(vn(a)==="object"){var c=a;a=c.orientation,s=c.unit||s,l=c.format||l}s=s||"mm",l=l||"a4",a=(""+(a||"P")).toLowerCase();var u,f=(""+l).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(s){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+s}var d,m=0,g=0;if(h.hasOwnProperty(f))m=h[f][1]/u,g=h[f][0]/u;else try{m=l[1],g=l[0]}catch{throw new Error("Invalid format: "+l)}if(a==="p"||a==="portrait")a="p",g>m&&(d=g,g=m,m=d);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",m>g&&(d=g,g=m,m=d)}return{width:g,height:m,unit:s,k:u,orientation:a}},n.html=function(a,s){(s=s||{}).callback=s.callback||function(){},s.html2canvas=s.html2canvas||{},s.html2canvas.canvas=s.html2canvas.canvas||this.canvas,s.jsPDF=s.jsPDF||this,s.fontFaces=s.fontFaces?s.fontFaces.map(uw):null;var l=new o(s);return s.worker?l:l.from(a).doCallback()}}(Br.API),Br.API.addJS=function(n){return HC=n,this.internal.events.subscribe("postPutResources",function(){sm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(sm+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),BC=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+HC+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){sm!==void 0&&BC!==void 0&&this.internal.out("/Names <</JavaScript "+sm+" 0 R>>")}),this},function(n){var t;n.events.push(["postPutResources",function(){var e=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=e.outline.render().split(/\r\n/),o=0;o<i.length;o++){var a=i[o],s=r.exec(a);if(s!=null){var l=s[1];e.internal.newObjectDeferredBegin(l,!1)}e.internal.write(a)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(o=0;o<c;o++){var f=e.internal.newObject();u.push(f);var h=e.internal.getPageInfo(o+1);e.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var d=e.internal.newObject();for(e.internal.write("<< /Names [ "),o=0;o<u.length;o++)e.internal.write("(page_"+(o+1)+")"+u[o]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+d+" 0 R"),e.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),n.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(r,i,o){var a={title:i,options:o,children:[]};return r==null&&(r=this.root),r.children.push(a),a},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(r){r.id=e.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},e.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},e.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var a=r.children[o];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var s=this.count=this.count_r({count:0},a);if(s>0&&this.line("/Count "+s),a.options&&a.options.pageNumber){var l=e.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},e.outline.line=function(r){this.ctx.val+=r+`\r
`},e.outline.makeRef=function(r){return r.id+" 0 R"},e.outline.makeString=function(r){return"("+e.internal.pdfEscape(r)+")"},e.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},e.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},e.outline.count_r=function(r,i){for(var o=0;o<i.children.length;o++)r.count++,this.count_r(r,i.children[o]);return r.count}}])}(Br.API),function(n){var t=[192,193,194,195,196,197,198,199];n.processJPEG=function(e,r,i,o,a,s){var l,c=this.decode.DCT_DECODE,u=null;if(typeof e=="string"||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=a||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,(l=function(f){for(var h,d=256*f.charCodeAt(4)+f.charCodeAt(5),m=f.length,g={width:0,height:0,numcomponents:1},x=4;x<m;x+=2){if(x+=d,t.indexOf(f.charCodeAt(x+1))!==-1){h=256*f.charCodeAt(x+5)+f.charCodeAt(x+6),g={width:256*f.charCodeAt(x+7)+f.charCodeAt(x+8),height:h,numcomponents:f.charCodeAt(x+9)};break}d=256*f.charCodeAt(x+2)+f.charCodeAt(x+3)}return g}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:s=this.color_spaces.DEVICE_GRAY;break;case 4:s=this.color_spaces.DEVICE_CMYK;break;case 3:s=this.color_spaces.DEVICE_RGB}u={data:e,width:l.width,height:l.height,colorSpace:s,bitsPerComponent:8,filter:c,index:r,alias:i}}return u}}(Br.API);var sh,lm,$C,UC,VC,cF=function(){var n,t,e;function r(o){var a,s,l,c,u,f,h,d,m,g,x,b,_,S;for(this.data=o,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(a=this.readUInt32(),m=(function(){var T,C;for(C=[],T=0;T<4;++T)C.push(String.fromCharCode(this.data[this.pos++]));return C}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),c=this.readUInt16()||100,f.delay=1e3*u/c,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(m==="fdAT"&&(this.pos+=4,a-=4),o=(f!=null?f.data:void 0)||this.imgData,b=0;0<=a?b<a:b>a;0<=a?++b:--b)o.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((g=l-this.transparency.indexed.length)>0)for(_=0;0<=g?_<g:_>g;0<=g?++_:--_)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":h=(x=this.read(a)).indexOf(0),d=String.fromCharCode.apply(String,x.slice(0,h)),this.text[d]=String.fromCharCode.apply(String,x.slice(h+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(S=this.colorType)===4||S===6,s=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*s,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(o){var a,s;for(s=[],a=0;0<=o?a<o:a>o;0<=o?++a:--a)s.push(this.data[this.pos++]);return s},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(o){var a=this.pixelBitlength/8,s=new Uint8Array(this.width*this.height*a),l=0,c=this;if(o==null&&(o=this.imgData),o.length===0)return new Uint8Array(0);function u(f,h,d,m){var g,x,b,_,S,T,C,w,N,A,j,R,L,M,I,D,V,F,G,W,Y,te=Math.ceil((c.width-f)/d),he=Math.ceil((c.height-h)/m),z=c.width==te&&c.height==he;for(M=a*te,R=z?s:new Uint8Array(M*he),T=o.length,L=0,x=0;L<he&&l<T;){switch(o[l++]){case 0:for(_=V=0;V<M;_=V+=1)R[x++]=o[l++];break;case 1:for(_=F=0;F<M;_=F+=1)g=o[l++],S=_<a?0:R[x-a],R[x++]=(g+S)%256;break;case 2:for(_=G=0;G<M;_=G+=1)g=o[l++],b=(_-_%a)/a,I=L&&R[(L-1)*M+b*a+_%a],R[x++]=(I+g)%256;break;case 3:for(_=W=0;W<M;_=W+=1)g=o[l++],b=(_-_%a)/a,S=_<a?0:R[x-a],I=L&&R[(L-1)*M+b*a+_%a],R[x++]=(g+Math.floor((S+I)/2))%256;break;case 4:for(_=Y=0;Y<M;_=Y+=1)g=o[l++],b=(_-_%a)/a,S=_<a?0:R[x-a],L===0?I=D=0:(I=R[(L-1)*M+b*a+_%a],D=b&&R[(L-1)*M+(b-1)*a+_%a]),C=S+I-D,w=Math.abs(C-S),A=Math.abs(C-I),j=Math.abs(C-D),N=w<=A&&w<=j?S:A<=j?I:D,R[x++]=(g+N)%256;break;default:throw new Error("Invalid filter algorithm: "+o[l-1])}if(!z){var Z=((h+L*m)*c.width+f)*a,X=L*M;for(_=0;_<te;_+=1){for(var ae=0;ae<a;ae+=1)s[Z++]=R[X++];Z+=(d-1)*a}}L++}}return o=$R(o),c.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),s},r.prototype.decodePalette=function(){var o,a,s,l,c,u,f,h,d;for(s=this.palette,u=this.transparency.indexed||[],c=new Uint8Array((u.length||0)+s.length),l=0,o=0,a=f=0,h=s.length;f<h;a=f+=3)c[l++]=s[a],c[l++]=s[a+1],c[l++]=s[a+2],c[l++]=(d=u[o++])!=null?d:255;return c},r.prototype.copyToImageData=function(o,a){var s,l,c,u,f,h,d,m,g,x,b;if(l=this.colors,g=null,s=this.hasAlphaChannel,this.palette.length&&(g=(b=this._decodedPalette)!=null?b:this._decodedPalette=this.decodePalette(),l=4,s=!0),m=(c=o.data||o).length,f=g||a,u=h=0,l===1)for(;u<m;)d=g?4*a[u/4]:h,x=f[d++],c[u++]=x,c[u++]=x,c[u++]=x,c[u++]=s?f[d++]:255,h=d;else for(;u<m;)d=g?4*a[u/4]:h,c[u++]=f[d++],c[u++]=f[d++],c[u++]=f[d++],c[u++]=s?f[d++]:255,h=d},r.prototype.decode=function(){var o;return o=new Uint8Array(this.width*this.height*4),this.copyToImageData(o,this.decodePixels()),o};var i=function(){if(Object.prototype.toString.call($r)==="[object Window]"){try{t=$r.document.createElement("canvas"),e=t.getContext("2d")}catch{return!1}return!0}return!1};return i(),n=function(o){var a;if(i()===!0)return e.width=o.width,e.height=o.height,e.clearRect(0,0,o.width,o.height),e.putImageData(o,0,0),(a=new Image).src=t.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(o){var a,s,l,c,u,f,h,d;if(this.animation){for(d=[],s=u=0,f=(h=this.animation.frames).length;u<f;s=++u)a=h[s],l=o.createImageData(a.width,a.height),c=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(l,c),a.imageData=l,d.push(a.image=n(l));return d}},r.prototype.renderFrame=function(o,a){var s,l,c;return s=(l=this.animation.frames)[a],c=l[a-1],a===0&&o.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?o.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&o.putImageData(c.imageData,c.xOffset,c.yOffset),s.blendOp===0&&o.clearRect(s.xOffset,s.yOffset,s.width,s.height),o.drawImage(s.image,s.xOffset,s.yOffset)},r.prototype.animate=function(o){var a,s,l,c,u,f,h=this;return s=0,f=this.animation,c=f.numFrames,l=f.frames,u=f.numPlays,(a=function(){var d,m;if(d=s++%c,m=l[d],h.renderFrame(o,d),c>1&&s/c<u)return h.animation._timeout=setTimeout(a,m.delay)})()},r.prototype.stopAnimation=function(){var o;return clearTimeout((o=this.animation)!=null?o._timeout:void 0)},r.prototype.render=function(o){var a,s;return o._png&&o._png.stopAnimation(),o._png=this,o.width=this.width,o.height=this.height,a=o.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(s=a.createImageData(this.width,this.height),this.copyToImageData(s,this.decodePixels()),a.putImageData(s,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function uF(n){var t=0;if(n[t++]!==71||n[t++]!==73||n[t++]!==70||n[t++]!==56||(n[t++]+1&253)!=56||n[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var e=n[t++]|n[t++]<<8,r=n[t++]|n[t++]<<8,i=n[t++],o=i>>7,a=1<<(7&i)+1;n[t++],n[t++];var s=null,l=null;o&&(s=t,l=a,t+=3*a);var c=!0,u=[],f=0,h=null,d=0,m=null;for(this.width=e,this.height=r;c&&t<n.length;)switch(n[t++]){case 33:switch(n[t++]){case 255:if(n[t]!==11||n[t+1]==78&&n[t+2]==69&&n[t+3]==84&&n[t+4]==83&&n[t+5]==67&&n[t+6]==65&&n[t+7]==80&&n[t+8]==69&&n[t+9]==50&&n[t+10]==46&&n[t+11]==48&&n[t+12]==3&&n[t+13]==1&&n[t+16]==0)t+=14,m=n[t++]|n[t++]<<8,t++;else for(t+=12;;){if(!((L=n[t++])>=0))throw Error("Invalid block size");if(L===0)break;t+=L}break;case 249:if(n[t++]!==4||n[t+4]!==0)throw new Error("Invalid graphics extension block.");var g=n[t++];f=n[t++]|n[t++]<<8,h=n[t++],!(1&g)&&(h=null),d=g>>2&7,t++;break;case 254:for(;;){if(!((L=n[t++])>=0))throw Error("Invalid block size");if(L===0)break;t+=L}break;default:throw new Error("Unknown graphic control label: 0x"+n[t-1].toString(16))}break;case 44:var x=n[t++]|n[t++]<<8,b=n[t++]|n[t++]<<8,_=n[t++]|n[t++]<<8,S=n[t++]|n[t++]<<8,T=n[t++],C=T>>6&1,w=1<<(7&T)+1,N=s,A=l,j=!1;T>>7&&(j=!0,N=t,A=w,t+=3*w);var R=t;for(t++;;){var L;if(!((L=n[t++])>=0))throw Error("Invalid block size");if(L===0)break;t+=L}u.push({x,y:b,width:_,height:S,has_local_palette:j,palette_offset:N,palette_size:A,data_offset:R,data_length:t-R,transparent_index:h,interlaced:!!C,delay:f,disposal:d});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+n[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return m},this.frameInfo=function(M){if(M<0||M>=u.length)throw new Error("Frame index out of range.");return u[M]},this.decodeAndBlitFrameBGRA=function(M,I){var D=this.frameInfo(M),V=D.width*D.height,F=new Uint8Array(V);zC(n,D.data_offset,F,V);var G=D.palette_offset,W=D.transparent_index;W===null&&(W=256);var Y=D.width,te=e-Y,he=Y,z=4*(D.y*e+D.x),Z=4*((D.y+D.height)*e+D.x),X=z,ae=4*te;D.interlaced===!0&&(ae+=4*e*7);for(var ve=8,me=0,Ee=F.length;me<Ee;++me){var ke=F[me];if(he===0&&(he=Y,(X+=ae)>=Z&&(ae=4*te+4*e*(ve-1),X=z+(Y+te)*(ve<<1),ve>>=1)),ke===W)X+=4;else{var He=n[G+3*ke],Re=n[G+3*ke+1],se=n[G+3*ke+2];I[X++]=se,I[X++]=Re,I[X++]=He,I[X++]=255}--he}},this.decodeAndBlitFrameRGBA=function(M,I){var D=this.frameInfo(M),V=D.width*D.height,F=new Uint8Array(V);zC(n,D.data_offset,F,V);var G=D.palette_offset,W=D.transparent_index;W===null&&(W=256);var Y=D.width,te=e-Y,he=Y,z=4*(D.y*e+D.x),Z=4*((D.y+D.height)*e+D.x),X=z,ae=4*te;D.interlaced===!0&&(ae+=4*e*7);for(var ve=8,me=0,Ee=F.length;me<Ee;++me){var ke=F[me];if(he===0&&(he=Y,(X+=ae)>=Z&&(ae=4*te+4*e*(ve-1),X=z+(Y+te)*(ve<<1),ve>>=1)),ke===W)X+=4;else{var He=n[G+3*ke],Re=n[G+3*ke+1],se=n[G+3*ke+2];I[X++]=He,I[X++]=Re,I[X++]=se,I[X++]=255}--he}}}function zC(n,t,e,r){for(var i=n[t++],o=1<<i,a=o+1,s=a+1,l=i+1,c=(1<<l)-1,u=0,f=0,h=0,d=n[t++],m=new Int32Array(4096),g=null;;){for(;u<16&&d!==0;)f|=n[t++]<<u,u+=8,d===1?d=n[t++]:--d;if(u<l)break;var x=f&c;if(f>>=l,u-=l,x!==o){if(x===a)break;for(var b=x<s?x:g,_=0,S=b;S>o;)S=m[S]>>8,++_;var T=S;if(h+_+(b!==x?1:0)>r)return void qn.log("Warning, gif stream longer than expected.");e[h++]=T;var C=h+=_;for(b!==x&&(e[h++]=T),S=b;_--;)S=m[S],e[--C]=255&S,S>>=8;g!==null&&s<4096&&(m[s++]=g<<8|T,s>=c+1&&l<12&&(++l,c=c<<1|1)),g=x}else s=a+1,c=(1<<(l=i+1))-1,g=null}return h!==r&&qn.log("Warning, gif stream shorter than expected."),e}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function E2(n){var t,e,r,i,o,a=Math.floor,s=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),f=new Array(65535),h=new Array(65535),d=new Array(64),m=new Array(64),g=[],x=0,b=7,_=new Array(64),S=new Array(64),T=new Array(64),C=new Array(256),w=new Array(2048),N=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],A=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],j=[0,1,2,3,4,5,6,7,8,9,10,11],R=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],L=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],M=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],D=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],V=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function F(z,Z){for(var X=0,ae=0,ve=new Array,me=1;me<=16;me++){for(var Ee=1;Ee<=z[me];Ee++)ve[Z[ae]]=[],ve[Z[ae]][0]=X,ve[Z[ae]][1]=me,ae++,X++;X*=2}return ve}function G(z){for(var Z=z[0],X=z[1]-1;X>=0;)Z&1<<X&&(x|=1<<b),X--,--b<0&&(x==255?(W(255),W(0)):W(x),b=7,x=0)}function W(z){g.push(z)}function Y(z){W(z>>8&255),W(255&z)}function te(z,Z,X,ae,ve){for(var me,Ee=ve[0],ke=ve[240],He=function(de,Ce){var De,Ke,je,Ze,Ye,bt,Ut,kt,Oe,fe,ee=0;for(Oe=0;Oe<8;++Oe){De=de[ee],Ke=de[ee+1],je=de[ee+2],Ze=de[ee+3],Ye=de[ee+4],bt=de[ee+5],Ut=de[ee+6];var tt=De+(kt=de[ee+7]),Ie=De-kt,gt=Ke+Ut,wt=Ke-Ut,Ct=je+bt,At=je-bt,Ft=Ze+Ye,lr=Ze-Ye,nr=tt+Ft,vr=tt-Ft,Rr=gt+Ct,Lr=gt-Ct;de[ee]=nr+Rr,de[ee+4]=nr-Rr;var ge=.707106781*(Lr+vr);de[ee+2]=vr+ge,de[ee+6]=vr-ge;var We=.382683433*((nr=lr+At)-(Lr=wt+Ie)),et=.5411961*nr+We,mt=1.306562965*Lr+We,Rt=.707106781*(Rr=At+wt),Zt=Ie+Rt,Bt=Ie-Rt;de[ee+5]=Bt+et,de[ee+3]=Bt-et,de[ee+1]=Zt+mt,de[ee+7]=Zt-mt,ee+=8}for(ee=0,Oe=0;Oe<8;++Oe){De=de[ee],Ke=de[ee+8],je=de[ee+16],Ze=de[ee+24],Ye=de[ee+32],bt=de[ee+40],Ut=de[ee+48];var dr=De+(kt=de[ee+56]),Er=De-kt,Or=Ke+Ut,Ir=Ke-Ut,or=je+bt,Kr=je-bt,an=Ze+Ye,mr=Ze-Ye,Xr=dr+an,gr=dr-an,Vr=Or+or,er=Or-or;de[ee]=Xr+Vr,de[ee+32]=Xr-Vr;var sn=.707106781*(er+gr);de[ee+16]=gr+sn,de[ee+48]=gr-sn;var xr=.382683433*((Xr=mr+Kr)-(er=Ir+Er)),ln=.5411961*Xr+xr,qr=1.306562965*er+xr,un=.707106781*(Vr=Kr+Ir),wr=Er+un,$=Er-un;de[ee+40]=$+ln,de[ee+24]=$-ln,de[ee+8]=wr+qr,de[ee+56]=wr-qr,ee++}for(Oe=0;Oe<64;++Oe)fe=de[Oe]*Ce[Oe],d[Oe]=fe>0?fe+.5|0:fe-.5|0;return d}(z,Z),Re=0;Re<64;++Re)m[N[Re]]=He[Re];var se=m[0]-X;X=m[0],se==0?G(ae[0]):(G(ae[h[me=32767+se]]),G(f[me]));for(var ce=63;ce>0&&m[ce]==0;)ce--;if(ce==0)return G(Ee),X;for(var $e,Ue=1;Ue<=ce;){for(var Te=Ue;m[Ue]==0&&Ue<=ce;)++Ue;var ft=Ue-Te;if(ft>=16){$e=ft>>4;for(var Q=1;Q<=$e;++Q)G(ke);ft&=15}me=32767+m[Ue],G(ve[(ft<<4)+h[me]]),G(f[me]),Ue++}return ce!=63&&G(Ee),X}function he(z){z=Math.min(Math.max(z,1),100),o!=z&&(function(Z){for(var X=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ae=0;ae<64;ae++){var ve=a((X[ae]*Z+50)/100);ve=Math.min(Math.max(ve,1),255),s[N[ae]]=ve}for(var me=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ee=0;Ee<64;Ee++){var ke=a((me[Ee]*Z+50)/100);ke=Math.min(Math.max(ke,1),255),l[N[Ee]]=ke}for(var He=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Re=0,se=0;se<8;se++)for(var ce=0;ce<8;ce++)c[Re]=1/(s[N[Re]]*He[se]*He[ce]*8),u[Re]=1/(l[N[Re]]*He[se]*He[ce]*8),Re++}(z<50?Math.floor(5e3/z):Math.floor(200-2*z)),o=z)}this.encode=function(z,Z){Z&&he(Z),g=new Array,x=0,b=7,Y(65496),Y(65504),Y(16),W(74),W(70),W(73),W(70),W(0),W(1),W(1),W(0),Y(1),Y(1),W(0),W(0),function(){Y(65499),Y(132),W(0);for(var Ke=0;Ke<64;Ke++)W(s[Ke]);W(1);for(var je=0;je<64;je++)W(l[je])}(),function(Ke,je){Y(65472),Y(17),W(8),Y(je),Y(Ke),W(3),W(1),W(17),W(0),W(2),W(17),W(1),W(3),W(17),W(1)}(z.width,z.height),function(){Y(65476),Y(418),W(0);for(var Ke=0;Ke<16;Ke++)W(A[Ke+1]);for(var je=0;je<=11;je++)W(j[je]);W(16);for(var Ze=0;Ze<16;Ze++)W(R[Ze+1]);for(var Ye=0;Ye<=161;Ye++)W(L[Ye]);W(1);for(var bt=0;bt<16;bt++)W(M[bt+1]);for(var Ut=0;Ut<=11;Ut++)W(I[Ut]);W(17);for(var kt=0;kt<16;kt++)W(D[kt+1]);for(var Oe=0;Oe<=161;Oe++)W(V[Oe])}(),Y(65498),Y(12),W(3),W(1),W(0),W(2),W(17),W(3),W(17),W(0),W(63),W(0);var X=0,ae=0,ve=0;x=0,b=7,this.encode.displayName="_encode_";for(var me,Ee,ke,He,Re,se,ce,$e,Ue,Te=z.data,ft=z.width,Q=z.height,de=4*ft,Ce=0;Ce<Q;){for(me=0;me<de;){for(Re=de*Ce+me,ce=-1,$e=0,Ue=0;Ue<64;Ue++)se=Re+($e=Ue>>3)*de+(ce=4*(7&Ue)),Ce+$e>=Q&&(se-=de*(Ce+1+$e-Q)),me+ce>=de&&(se-=me+ce-de+4),Ee=Te[se++],ke=Te[se++],He=Te[se++],_[Ue]=(w[Ee]+w[ke+256>>0]+w[He+512>>0]>>16)-128,S[Ue]=(w[Ee+768>>0]+w[ke+1024>>0]+w[He+1280>>0]>>16)-128,T[Ue]=(w[Ee+1280>>0]+w[ke+1536>>0]+w[He+1792>>0]>>16)-128;X=te(_,c,X,t,r),ae=te(S,u,ae,e,i),ve=te(T,u,ve,e,i),me+=32}Ce+=8}if(b>=0){var De=[];De[1]=b+1,De[0]=(1<<b+1)-1,G(De)}return Y(65497),new Uint8Array(g)},n=n||50,function(){for(var z=String.fromCharCode,Z=0;Z<256;Z++)C[Z]=z(Z)}(),t=F(A,j),e=F(M,I),r=F(R,L),i=F(D,V),function(){for(var z=1,Z=2,X=1;X<=15;X++){for(var ae=z;ae<Z;ae++)h[32767+ae]=X,f[32767+ae]=[],f[32767+ae][1]=X,f[32767+ae][0]=ae;for(var ve=-(Z-1);ve<=-z;ve++)h[32767+ve]=X,f[32767+ve]=[],f[32767+ve][1]=X,f[32767+ve][0]=Z-1+ve;z<<=1,Z<<=1}}(),function(){for(var z=0;z<256;z++)w[z]=19595*z,w[z+256>>0]=38470*z,w[z+512>>0]=7471*z+32768,w[z+768>>0]=-11059*z,w[z+1024>>0]=-21709*z,w[z+1280>>0]=32768*z+8421375,w[z+1536>>0]=-27439*z,w[z+1792>>0]=-5329*z}(),he(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function El(n,t){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function WC(n){function t(A){if(!A)throw Error("assert :P")}function e(A,j,R){for(var L=0;4>L;L++)if(A[j+L]!=R.charCodeAt(L))return!0;return!1}function r(A,j,R,L,M){for(var I=0;I<M;I++)A[j+I]=R[L+I]}function i(A,j,R,L){for(var M=0;M<L;M++)A[j+M]=R}function o(A){return new Int32Array(A)}function a(A,j){for(var R=[],L=0;L<A;L++)R.push(new j);return R}function s(A,j){var R=[];return function L(M,I,D){for(var V=D[I],F=0;F<V&&(M.push(D.length>I+1?[]:new j),!(D.length<I+1));F++)L(M[F],I+1,D)}(R,0,A),R}var l=function(){var A=this;function j(k,B){for(var q=1<<B-1>>>0;k&q;)q>>>=1;return q?(k&q-1)+q:k}function R(k,B,q,ne,xe){t(!(ne%q));do k[B+(ne-=q)]=xe;while(0<ne)}function L(k,B,q,ne,xe){if(t(2328>=xe),512>=xe)var Ne=o(512);else if((Ne=o(xe))==null)return 0;return function(Pe,Me,Le,Be,nt,yt){var vt,ut,Dt=Me,St=1<<Le,rt=o(16),st=o(16);for(t(nt!=0),t(Be!=null),t(Pe!=null),t(0<Le),ut=0;ut<nt;++ut){if(15<Be[ut])return 0;++rt[Be[ut]]}if(rt[0]==nt)return 0;for(st[1]=0,vt=1;15>vt;++vt){if(rt[vt]>1<<vt)return 0;st[vt+1]=st[vt]+rt[vt]}for(ut=0;ut<nt;++ut)vt=Be[ut],0<Be[ut]&&(yt[st[vt]++]=ut);if(st[15]==1)return(Be=new M).g=0,Be.value=yt[0],R(Pe,Dt,1,St,Be),St;var Pt,Ht=-1,Mt=St-1,ar=0,Jt=1,Tr=1,Qt=1<<Le;for(ut=0,vt=1,nt=2;vt<=Le;++vt,nt<<=1){if(Jt+=Tr<<=1,0>(Tr-=rt[vt]))return 0;for(;0<rt[vt];--rt[vt])(Be=new M).g=vt,Be.value=yt[ut++],R(Pe,Dt+ar,nt,Qt,Be),ar=j(ar,vt)}for(vt=Le+1,nt=2;15>=vt;++vt,nt<<=1){if(Jt+=Tr<<=1,0>(Tr-=rt[vt]))return 0;for(;0<rt[vt];--rt[vt]){if(Be=new M,(ar&Mt)!=Ht){for(Dt+=Qt,Pt=1<<(Ht=vt)-Le;15>Ht&&!(0>=(Pt-=rt[Ht]));)++Ht,Pt<<=1;St+=Qt=1<<(Pt=Ht-Le),Pe[Me+(Ht=ar&Mt)].g=Pt+Le,Pe[Me+Ht].value=Dt-Me-Ht}Be.g=vt-Le,Be.value=yt[ut++],R(Pe,Dt+(ar>>Le),nt,Qt,Be),ar=j(ar,vt)}}return Jt!=2*st[15]-1?0:St}(k,B,q,ne,xe,Ne)}function M(){this.value=this.g=0}function I(){this.value=this.g=0}function D(){this.G=a(5,M),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(xt,I)}function V(k,B,q,ne){t(k!=null),t(B!=null),t(2147483648>ne),k.Ca=254,k.I=0,k.b=-8,k.Ka=0,k.oa=B,k.pa=q,k.Jd=B,k.Yc=q+ne,k.Zc=4<=ne?q+ne-4+1:q,me(k)}function F(k,B){for(var q=0;0<B--;)q|=ke(k,128)<<B;return q}function G(k,B){var q=F(k,B);return Ee(k)?-q:q}function W(k,B,q,ne){var xe,Ne=0;for(t(k!=null),t(B!=null),t(4294967288>ne),k.Sb=ne,k.Ra=0,k.u=0,k.h=0,4<ne&&(ne=4),xe=0;xe<ne;++xe)Ne+=B[q+xe]<<8*xe;k.Ra=Ne,k.bb=ne,k.oa=B,k.pa=q}function Y(k){for(;8<=k.u&&k.bb<k.Sb;)k.Ra>>>=8,k.Ra+=k.oa[k.pa+k.bb]<<Ar-8>>>0,++k.bb,k.u-=8;X(k)&&(k.h=1,k.u=0)}function te(k,B){if(t(0<=B),!k.h&&B<=Mr){var q=Z(k)&Vt[B];return k.u+=B,Y(k),q}return k.h=1,k.u=0}function he(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function z(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Z(k){return k.Ra>>>(k.u&Ar-1)>>>0}function X(k){return t(k.bb<=k.Sb),k.h||k.bb==k.Sb&&k.u>Ar}function ae(k,B){k.u=B,k.h=X(k)}function ve(k){k.u>=Yn&&(t(k.u>=Yn),Y(k))}function me(k){t(k!=null&&k.oa!=null),k.pa<k.Zc?(k.I=(k.oa[k.pa++]|k.I<<8)>>>0,k.b+=8):(t(k!=null&&k.oa!=null),k.pa<k.Yc?(k.b+=8,k.I=k.oa[k.pa++]|k.I<<8):k.Ka?k.b=0:(k.I<<=8,k.b+=8,k.Ka=1))}function Ee(k){return F(k,1)}function ke(k,B){var q=k.Ca;0>k.b&&me(k);var ne=k.b,xe=q*B>>>8,Ne=(k.I>>>ne>xe)+0;for(Ne?(q-=xe,k.I-=xe+1<<ne>>>0):q=xe+1,ne=q,xe=0;256<=ne;)xe+=8,ne>>=8;return ne=7^xe+_n[ne],k.b-=ne,k.Ca=(q<<ne)-1,Ne}function He(k,B,q){k[B+0]=q>>24&255,k[B+1]=q>>16&255,k[B+2]=q>>8&255,k[B+3]=q>>0&255}function Re(k,B){return k[B+0]<<0|k[B+1]<<8}function se(k,B){return Re(k,B)|k[B+2]<<16}function ce(k,B){return Re(k,B)|Re(k,B+2)<<16}function $e(k,B){var q=1<<B;return t(k!=null),t(0<B),k.X=o(q),k.X==null?0:(k.Mb=32-B,k.Xa=B,1)}function Ue(k,B){t(k!=null),t(B!=null),t(k.Xa==B.Xa),r(B.X,0,k.X,0,1<<B.Xa)}function Te(){this.X=[],this.Xa=this.Mb=0}function ft(k,B,q,ne){t(q!=null),t(ne!=null);var xe=q[0],Ne=ne[0];return xe==0&&(xe=(k*Ne+B/2)/B),Ne==0&&(Ne=(B*xe+k/2)/k),0>=xe||0>=Ne?0:(q[0]=xe,ne[0]=Ne,1)}function Q(k,B){return k+(1<<B)-1>>>B}function de(k,B){return((4278255360&k)+(4278255360&B)>>>0&4278255360)+((16711935&k)+(16711935&B)>>>0&16711935)>>>0}function Ce(k,B){A[B]=function(q,ne,xe,Ne,Pe,Me,Le){var Be;for(Be=0;Be<Pe;++Be){var nt=A[k](Me[Le+Be-1],xe,Ne+Be);Me[Le+Be]=de(q[ne+Be],nt)}}}function De(){this.ud=this.hd=this.jd=0}function Ke(k,B){return((4278124286&(k^B))>>>1)+(k&B)>>>0}function je(k){return 0<=k&&256>k?k:0>k?0:255<k?255:void 0}function Ze(k,B){return je(k+(k-B+.5>>1))}function Ye(k,B,q){return Math.abs(B-q)-Math.abs(k-q)}function bt(k,B,q,ne,xe,Ne,Pe){for(ne=Ne[Pe-1],q=0;q<xe;++q)Ne[Pe+q]=ne=de(k[B+q],ne)}function Ut(k,B,q,ne,xe){var Ne;for(Ne=0;Ne<q;++Ne){var Pe=k[B+Ne],Me=Pe>>8&255,Le=16711935&(Le=(Le=16711935&Pe)+((Me<<16)+Me));ne[xe+Ne]=(4278255360&Pe)+Le>>>0}}function kt(k,B){B.jd=k>>0&255,B.hd=k>>8&255,B.ud=k>>16&255}function Oe(k,B,q,ne,xe,Ne){var Pe;for(Pe=0;Pe<ne;++Pe){var Me=B[q+Pe],Le=Me>>>8,Be=Me,nt=255&(nt=(nt=Me>>>16)+((k.jd<<24>>24)*(Le<<24>>24)>>>5));Be=255&(Be=(Be=Be+((k.hd<<24>>24)*(Le<<24>>24)>>>5))+((k.ud<<24>>24)*(nt<<24>>24)>>>5)),xe[Ne+Pe]=(4278255360&Me)+(nt<<16)+Be}}function fe(k,B,q,ne,xe){A[B]=function(Ne,Pe,Me,Le,Be,nt,yt,vt,ut){for(Le=yt;Le<vt;++Le)for(yt=0;yt<ut;++yt)Be[nt++]=xe(Me[ne(Ne[Pe++])])},A[k]=function(Ne,Pe,Me,Le,Be,nt,yt){var vt=8>>Ne.b,ut=Ne.Ea,Dt=Ne.K[0],St=Ne.w;if(8>vt)for(Ne=(1<<Ne.b)-1,St=(1<<vt)-1;Pe<Me;++Pe){var rt,st=0;for(rt=0;rt<ut;++rt)rt&Ne||(st=ne(Le[Be++])),nt[yt++]=xe(Dt[st&St]),st>>=vt}else A["VP8LMapColor"+q](Le,Be,Dt,St,nt,yt,Pe,Me,ut)}}function ee(k,B,q,ne,xe){for(q=B+q;B<q;){var Ne=k[B++];ne[xe++]=Ne>>16&255,ne[xe++]=Ne>>8&255,ne[xe++]=Ne>>0&255}}function tt(k,B,q,ne,xe){for(q=B+q;B<q;){var Ne=k[B++];ne[xe++]=Ne>>16&255,ne[xe++]=Ne>>8&255,ne[xe++]=Ne>>0&255,ne[xe++]=Ne>>24&255}}function Ie(k,B,q,ne,xe){for(q=B+q;B<q;){var Ne=(Pe=k[B++])>>16&240|Pe>>12&15,Pe=Pe>>0&240|Pe>>28&15;ne[xe++]=Ne,ne[xe++]=Pe}}function gt(k,B,q,ne,xe){for(q=B+q;B<q;){var Ne=(Pe=k[B++])>>16&248|Pe>>13&7,Pe=Pe>>5&224|Pe>>3&31;ne[xe++]=Ne,ne[xe++]=Pe}}function wt(k,B,q,ne,xe){for(q=B+q;B<q;){var Ne=k[B++];ne[xe++]=Ne>>0&255,ne[xe++]=Ne>>8&255,ne[xe++]=Ne>>16&255}}function Ct(k,B,q,ne,xe,Ne){if(Ne==0)for(q=B+q;B<q;)He(ne,((Ne=k[B++])[0]>>24|Ne[1]>>8&65280|Ne[2]<<8&16711680|Ne[3]<<24)>>>0),xe+=32;else r(ne,xe,k,B,q)}function At(k,B){A[B][0]=A[k+"0"],A[B][1]=A[k+"1"],A[B][2]=A[k+"2"],A[B][3]=A[k+"3"],A[B][4]=A[k+"4"],A[B][5]=A[k+"5"],A[B][6]=A[k+"6"],A[B][7]=A[k+"7"],A[B][8]=A[k+"8"],A[B][9]=A[k+"9"],A[B][10]=A[k+"10"],A[B][11]=A[k+"11"],A[B][12]=A[k+"12"],A[B][13]=A[k+"13"],A[B][14]=A[k+"0"],A[B][15]=A[k+"0"]}function Ft(k){return k==pf||k==tc||k==rc||k==sv}function lr(){this.eb=[],this.size=this.A=this.fb=0}function nr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function vr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new lr,this.f.kb=new nr,this.sd=null}function Rr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Lr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ge(k){return alert("todo:WebPSamplerProcessPlane"),k.T}function We(k,B){var q=k.T,ne=B.ba.f.RGBA,xe=ne.eb,Ne=ne.fb+k.ka*ne.A,Pe=Sn[B.ba.S],Me=k.y,Le=k.O,Be=k.f,nt=k.N,yt=k.ea,vt=k.W,ut=B.cc,Dt=B.dc,St=B.Mc,rt=B.Nc,st=k.ka,Pt=k.ka+k.T,Ht=k.U,Mt=Ht+1>>1;for(st==0?Pe(Me,Le,null,null,Be,nt,yt,vt,Be,nt,yt,vt,xe,Ne,null,null,Ht):(Pe(B.ec,B.fc,Me,Le,ut,Dt,St,rt,Be,nt,yt,vt,xe,Ne-ne.A,xe,Ne,Ht),++q);st+2<Pt;st+=2)ut=Be,Dt=nt,St=yt,rt=vt,nt+=k.Rc,vt+=k.Rc,Ne+=2*ne.A,Pe(Me,(Le+=2*k.fa)-k.fa,Me,Le,ut,Dt,St,rt,Be,nt,yt,vt,xe,Ne-ne.A,xe,Ne,Ht);return Le+=k.fa,k.j+Pt<k.o?(r(B.ec,B.fc,Me,Le,Ht),r(B.cc,B.dc,Be,nt,Mt),r(B.Mc,B.Nc,yt,vt,Mt),q--):1&Pt||Pe(Me,Le,null,null,Be,nt,yt,vt,Be,nt,yt,vt,xe,Ne+ne.A,null,null,Ht),q}function et(k,B,q){var ne=k.F,xe=[k.J];if(ne!=null){var Ne=k.U,Pe=B.ba.S,Me=Pe==Wd||Pe==rc;B=B.ba.f.RGBA;var Le=[0],Be=k.ka;Le[0]=k.T,k.Kb&&(Be==0?--Le[0]:(--Be,xe[0]-=k.width),k.j+k.ka+k.T==k.o&&(Le[0]=k.o-k.j-Be));var nt=B.eb;Be=B.fb+Be*B.A,k=Ln(ne,xe[0],k.width,Ne,Le,nt,Be+(Me?0:3),B.A),t(q==Le),k&&Ft(Pe)&&Eo(nt,Be,Me,Ne,Le,B.A)}return 0}function mt(k){var B=k.ma,q=B.ba.S,ne=11>q,xe=q==df||q==zd||q==Wd||q==av||q==12||Ft(q);if(B.memory=null,B.Ib=null,B.Jb=null,B.Nd=null,!Je(B.Oa,k,xe?11:12))return 0;if(xe&&Ft(q)&&$t(),k.da)alert("todo:use_scaling");else{if(ne){if(B.Ib=ge,k.Kb){if(q=k.U+1>>1,B.memory=o(k.U+2*q),B.memory==null)return 0;B.ec=B.memory,B.fc=0,B.cc=B.ec,B.dc=B.fc+k.U,B.Mc=B.cc,B.Nc=B.dc+q,B.Ib=We,$t()}}else alert("todo:EmitYUV");xe&&(B.Jb=et,ne&&pt())}if(ne&&!uv){for(k=0;256>k;++k)$1[k]=89858*(k-128)+Cu>>bf,_f[k]=-22014*(k-128)+Cu,U1[k]=-45773*(k-128),fv[k]=113618*(k-128)+Cu>>bf;for(k=xf;k<wf;++k)B=76283*(k-16)+Cu>>bf,t2[k-xf]=po(B,255),Yd[k-xf]=po(B+8>>4,15);uv=1}return 1}function Rt(k){var B=k.ma,q=k.U,ne=k.T;return t(!(1&k.ka)),0>=q||0>=ne?0:(q=B.Ib(k,B),B.Jb!=null&&B.Jb(k,B,q),B.Dc+=q,1)}function Zt(k){k.ma.memory=null}function Bt(k,B,q,ne){return te(k,8)!=47?0:(B[0]=te(k,14)+1,q[0]=te(k,14)+1,ne[0]=te(k,1),te(k,3)!=0?0:!k.h)}function dr(k,B){if(4>k)return k+1;var q=k-2>>1;return(2+(1&k)<<q)+te(B,q)+1}function Er(k,B){return 120<B?B-120:1<=(q=((q=vf[B-1])>>4)*k+(8-(15&q)))?q:1;var q}function Or(k,B,q){var ne=Z(q),xe=k[B+=255&ne].g-8;return 0<xe&&(ae(q,q.u+8),ne=Z(q),B+=k[B].value,B+=ne&(1<<xe)-1),ae(q,q.u+k[B].g),k[B].value}function Ir(k,B,q){return q.g+=k.g,q.value+=k.value<<B>>>0,t(8>=q.g),k.g}function or(k,B,q){var ne=k.xc;return t((B=ne==0?0:k.vc[k.md*(q>>ne)+(B>>ne)])<k.Wb),k.Ya[B]}function Kr(k,B,q,ne){var xe=k.ab,Ne=k.c*B,Pe=k.C;B=Pe+B;var Me=q,Le=ne;for(ne=k.Ta,q=k.Ua;0<xe--;){var Be=k.gc[xe],nt=Pe,yt=B,vt=Me,ut=Le,Dt=(Le=ne,Me=q,Be.Ea);switch(t(nt<yt),t(yt<=Be.nc),Be.hc){case 2:cf(vt,ut,(yt-nt)*Dt,Le,Me);break;case 0:var St=nt,rt=yt,st=Le,Pt=Me,Ht=(Qt=Be).Ea;St==0&&(yu(vt,ut,null,null,1,st,Pt),bt(vt,ut+1,0,0,Ht-1,st,Pt+1),ut+=Ht,Pt+=Ht,++St);for(var Mt=1<<Qt.b,ar=Mt-1,Jt=Q(Ht,Qt.b),Tr=Qt.K,Qt=Qt.w+(St>>Qt.b)*Jt;St<rt;){var xn=Tr,En=Qt,pn=1;for(hl(vt,ut,st,Pt-Ht,1,st,Pt);pn<Ht;){var en=(pn&~ar)+Mt;en>Ht&&(en=Ht),(0,ss[xn[En++]>>8&15])(vt,ut+ +pn,st,Pt+pn-Ht,en-pn,st,Pt+pn),pn=en}ut+=Ht,Pt+=Ht,++St&ar||(Qt+=Jt)}yt!=Be.nc&&r(Le,Me-Dt,Le,Me+(yt-nt-1)*Dt,Dt);break;case 1:for(Dt=vt,rt=ut,Ht=(vt=Be.Ea)-(Pt=vt&~(st=(ut=1<<Be.b)-1)),St=Q(vt,Be.b),Mt=Be.K,Be=Be.w+(nt>>Be.b)*St;nt<yt;){for(ar=Mt,Jt=Be,Tr=new De,Qt=rt+Pt,xn=rt+vt;rt<Qt;)kt(ar[Jt++],Tr),Ql(Tr,Dt,rt,ut,Le,Me),rt+=ut,Me+=ut;rt<xn&&(kt(ar[Jt++],Tr),Ql(Tr,Dt,rt,Ht,Le,Me),rt+=Ht,Me+=Ht),++nt&st||(Be+=St)}break;case 3:if(vt==Le&&ut==Me&&0<Be.b){for(rt=Le,vt=Dt=Me+(yt-nt)*Dt-(Pt=(yt-nt)*Q(Be.Ea,Be.b)),ut=Le,st=Me,St=[],Pt=(Ht=Pt)-1;0<=Pt;--Pt)St[Pt]=ut[st+Pt];for(Pt=Ht-1;0<=Pt;--Pt)rt[vt+Pt]=St[Pt];vo(Be,nt,yt,Le,Dt,Le,Me)}else vo(Be,nt,yt,vt,ut,Le,Me)}Me=ne,Le=q}Le!=q&&r(ne,q,Me,Le,Ne)}function an(k,B){var q=k.V,ne=k.Ba+k.c*k.C,xe=B-k.C;if(t(B<=k.l.o),t(16>=xe),0<xe){var Ne=k.l,Pe=k.Ta,Me=k.Ua,Le=Ne.width;if(Kr(k,xe,q,ne),xe=Me=[Me],t((q=k.C)<(ne=B)),t(Ne.v<Ne.va),ne>Ne.o&&(ne=Ne.o),q<Ne.j){var Be=Ne.j-q;q=Ne.j,xe[0]+=Be*Le}if(q>=ne?q=0:(xe[0]+=4*Ne.v,Ne.ka=q-Ne.j,Ne.U=Ne.va-Ne.v,Ne.T=ne-q,q=1),q){if(Me=Me[0],11>(q=k.ca).S){var nt=q.f.RGBA,yt=(ne=q.S,xe=Ne.U,Ne=Ne.T,Be=nt.eb,nt.A),vt=Ne;for(nt=nt.fb+k.Ma*nt.A;0<vt--;){var ut=Pe,Dt=Me,St=xe,rt=Be,st=nt;switch(ne){case jc:Qi(ut,Dt,St,rt,st);break;case df:zn(ut,Dt,St,rt,st);break;case pf:zn(ut,Dt,St,rt,st),Eo(rt,st,0,St,1,0);break;case hf:cs(ut,Dt,St,rt,st);break;case zd:Ct(ut,Dt,St,rt,st,1);break;case tc:Ct(ut,Dt,St,rt,st,1),Eo(rt,st,0,St,1,0);break;case Wd:Ct(ut,Dt,St,rt,st,0);break;case rc:Ct(ut,Dt,St,rt,st,0),Eo(rt,st,1,St,1,0);break;case av:pl(ut,Dt,St,rt,st);break;case sv:pl(ut,Dt,St,rt,st),Fn(rt,st,St,1,0);break;case qd:ls(ut,Dt,St,rt,st);break;default:t(0)}Me+=Le,nt+=yt}k.Ma+=Ne}else alert("todo:EmitRescaledRowsYUVA");t(k.Ma<=q.height)}}k.C=B,t(k.C<=k.i)}function mr(k){var B;if(0<k.ua)return 0;for(B=0;B<k.Wb;++B){var q=k.Ya[B].G,ne=k.Ya[B].H;if(0<q[1][ne[1]+0].g||0<q[2][ne[2]+0].g||0<q[3][ne[3]+0].g)return 0}return 1}function Xr(k,B,q,ne,xe,Ne){if(k.Z!=0){var Pe=k.qd,Me=k.rd;for(t(ii[k.Z]!=null);B<q;++B)ii[k.Z](Pe,Me,ne,xe,ne,xe,Ne),Pe=ne,Me=xe,xe+=Ne;k.qd=Pe,k.rd=Me}}function gr(k,B){var q=k.l.ma,ne=q.Z==0||q.Z==1?k.l.j:k.C;if(ne=k.C<ne?ne:k.C,t(B<=k.l.o),B>ne){var xe=k.l.width,Ne=q.ca,Pe=q.tb+xe*ne,Me=k.V,Le=k.Ba+k.c*ne,Be=k.gc;t(k.ab==1),t(Be[0].hc==3),uf(Be[0],ne,B,Me,Le,Ne,Pe),Xr(q,ne,B,Ne,Pe,xe)}k.C=k.Ma=B}function Vr(k,B,q,ne,xe,Ne,Pe){var Me=k.$/ne,Le=k.$%ne,Be=k.m,nt=k.s,yt=q+k.$,vt=yt;xe=q+ne*xe;var ut=q+ne*Ne,Dt=280+nt.ua,St=k.Pb?Me:16777216,rt=0<nt.ua?nt.Wa:null,st=nt.wc,Pt=yt<ut?or(nt,Le,Me):null;t(k.C<Ne),t(ut<=xe);var Ht=!1;e:for(;;){for(;Ht||yt<ut;){var Mt=0;if(Me>=St){var ar=yt-q;t((St=k).Pb),St.wd=St.m,St.xd=ar,0<St.s.ua&&Ue(St.s.Wa,St.s.vb),St=Me+gf}if(Le&st||(Pt=or(nt,Le,Me)),t(Pt!=null),Pt.Qb&&(B[yt]=Pt.qb,Ht=!0),!Ht)if(ve(Be),Pt.jc){Mt=Be,ar=B;var Jt=yt,Tr=Pt.pd[Z(Mt)&xt-1];t(Pt.jc),256>Tr.g?(ae(Mt,Mt.u+Tr.g),ar[Jt]=Tr.value,Mt=0):(ae(Mt,Mt.u+Tr.g-256),t(256<=Tr.value),Mt=Tr.value),Mt==0&&(Ht=!0)}else Mt=Or(Pt.G[0],Pt.H[0],Be);if(Be.h)break;if(Ht||256>Mt){if(!Ht)if(Pt.nd)B[yt]=(Pt.qb|Mt<<8)>>>0;else{if(ve(Be),Ht=Or(Pt.G[1],Pt.H[1],Be),ve(Be),ar=Or(Pt.G[2],Pt.H[2],Be),Jt=Or(Pt.G[3],Pt.H[3],Be),Be.h)break;B[yt]=(Jt<<24|Ht<<16|Mt<<8|ar)>>>0}if(Ht=!1,++yt,++Le>=ne&&(Le=0,++Me,Pe!=null&&Me<=Ne&&!(Me%16)&&Pe(k,Me),rt!=null))for(;vt<yt;)Mt=B[vt++],rt.X[(506832829*Mt&4294967295)>>>rt.Mb]=Mt}else if(280>Mt){if(Mt=dr(Mt-256,Be),ar=Or(Pt.G[4],Pt.H[4],Be),ve(Be),ar=Er(ne,ar=dr(ar,Be)),Be.h)break;if(yt-q<ar||xe-yt<Mt)break e;for(Jt=0;Jt<Mt;++Jt)B[yt+Jt]=B[yt+Jt-ar];for(yt+=Mt,Le+=Mt;Le>=ne;)Le-=ne,++Me,Pe!=null&&Me<=Ne&&!(Me%16)&&Pe(k,Me);if(t(yt<=xe),Le&st&&(Pt=or(nt,Le,Me)),rt!=null)for(;vt<yt;)Mt=B[vt++],rt.X[(506832829*Mt&4294967295)>>>rt.Mb]=Mt}else{if(!(Mt<Dt))break e;for(Ht=Mt-280,t(rt!=null);vt<yt;)Mt=B[vt++],rt.X[(506832829*Mt&4294967295)>>>rt.Mb]=Mt;Mt=yt,t(!(Ht>>>(ar=rt).Xa)),B[Mt]=ar.X[Ht],Ht=!0}Ht||t(Be.h==X(Be))}if(k.Pb&&Be.h&&yt<xe)t(k.m.h),k.a=5,k.m=k.wd,k.$=k.xd,0<k.s.ua&&Ue(k.s.vb,k.s.Wa);else{if(Be.h)break e;Pe!=null&&Pe(k,Me>Ne?Ne:Me),k.a=0,k.$=yt-q}return 1}return k.a=3,0}function er(k){t(k!=null),k.vc=null,k.yc=null,k.Ya=null;var B=k.Wa;B!=null&&(B.X=null),k.vb=null,t(k!=null)}function sn(){var k=new Jl;return k==null?null:(k.a=0,k.xb=Ci,At("Predictor","VP8LPredictors"),At("Predictor","VP8LPredictors_C"),At("PredictorAdd","VP8LPredictorsAdd"),At("PredictorAdd","VP8LPredictorsAdd_C"),cf=Ut,Ql=Oe,Qi=ee,zn=tt,pl=Ie,ls=gt,cs=wt,A.VP8LMapColor32b=Nc,A.VP8LMapColor8b=bu,k)}function xr(k,B,q,ne,xe){var Ne=1,Pe=[k],Me=[B],Le=ne.m,Be=ne.s,nt=null,yt=0;e:for(;;){if(q)for(;Ne&&te(Le,1);){var vt=Pe,ut=Me,Dt=ne,St=1,rt=Dt.m,st=Dt.gc[Dt.ab],Pt=te(rt,2);if(Dt.Oc&1<<Pt)Ne=0;else{switch(Dt.Oc|=1<<Pt,st.hc=Pt,st.Ea=vt[0],st.nc=ut[0],st.K=[null],++Dt.ab,t(4>=Dt.ab),Pt){case 0:case 1:st.b=te(rt,3)+2,St=xr(Q(st.Ea,st.b),Q(st.nc,st.b),0,Dt,st.K),st.K=st.K[0];break;case 3:var Ht,Mt=te(rt,8)+1,ar=16<Mt?0:4<Mt?1:2<Mt?2:3;if(vt[0]=Q(st.Ea,ar),st.b=ar,Ht=St=xr(Mt,1,0,Dt,st.K)){var Jt,Tr=Mt,Qt=st,xn=1<<(8>>Qt.b),En=o(xn);if(En==null)Ht=0;else{var pn=Qt.K[0],en=Qt.w;for(En[0]=Qt.K[0][0],Jt=1;Jt<1*Tr;++Jt)En[Jt]=de(pn[en+Jt],En[Jt-1]);for(;Jt<4*xn;++Jt)En[Jt]=0;Qt.K[0]=null,Qt.K[0]=En,Ht=1}}St=Ht;break;case 2:break;default:t(0)}Ne=St}}if(Pe=Pe[0],Me=Me[0],Ne&&te(Le,1)&&!(Ne=1<=(yt=te(Le,4))&&11>=yt)){ne.a=3;break e}var On;if(On=Ne)t:{var wn,Yr,gi,Ao=ne,Ei=Pe,No=Me,Wr=yt,go=q,zo=Ao.m,Ii=Ao.s,qi=[null],Oi=1,Po=0,fs=Mc[Wr];r:for(;;){if(go&&te(zo,1)){var Ri=te(zo,3)+2,Fs=Q(Ei,Ri),Ra=Q(No,Ri),Dc=Fs*Ra;if(!xr(Fs,Ra,0,Ao,qi))break r;for(qi=qi[0],Ii.xc=Ri,wn=0;wn<Dc;++wn){var ds=qi[wn]>>8&65535;qi[wn]=ds,ds>=Oi&&(Oi=ds+1)}}if(zo.h)break r;for(Yr=0;5>Yr;++Yr){var oi=Su[Yr];!Yr&&0<Wr&&(oi+=1<<Wr),Po<oi&&(Po=oi)}var Ic=a(Oi*fs,M),z1=Oi,Rc=a(z1,D);if(Rc==null)var Tf=null;else t(65536>=z1),Tf=Rc;var Eu=o(Po);if(Tf==null||Eu==null||Ic==null){Ao.a=1;break r}var Cf=Ic;for(wn=gi=0;wn<Oi;++wn){var jo=Tf[wn],Bs=jo.G,Hs=jo.H,Ou=0,Ef=1,W1=0;for(Yr=0;5>Yr;++Yr){oi=Su[Yr],Bs[Yr]=Cf,Hs[Yr]=gi,!Yr&&0<Wr&&(oi+=1<<Wr);i:{var Of,$s=oi,wl=Ao,_l=Eu,n2=Cf,q1=gi,dv=0,ac=wl.m,i2=te(ac,1);if(i(_l,0,0,$s),i2){var ko=te(ac,1)+1,G1=te(ac,1),K1=te(ac,G1==0?1:8);_l[K1]=1,ko==2&&(_l[K1=te(ac,8)]=1);var Xd=1}else{var Y1=o(19),hv=te(ac,4)+4;if(19<hv){wl.a=3;var Af=0;break i}for(Of=0;Of<hv;++Of)Y1[kc[Of]]=te(ac,3);var Zd=void 0,Nf=void 0,X1=wl,o2=Y1,hs=$s,Au=_l,Nu=0,Fa=X1.m,Us=8,Z1=a(128,M);n:for(;L(Z1,0,7,o2,19);){if(te(Fa,1)){var a2=2+2*te(Fa,3);if((Zd=2+te(Fa,a2))>hs)break n}else Zd=hs;for(Nf=0;Nf<hs&&Zd--;){ve(Fa);var Fc=Z1[0+(127&Z(Fa))];ae(Fa,Fa.u+Fc.g);var Bc=Fc.value;if(16>Bc)Au[Nf++]=Bc,Bc!=0&&(Us=Bc);else{var J1=Bc==16,pv=Bc-16,Jd=D1[pv],Hc=te(Fa,Gd[pv])+Jd;if(Nf+Hc>hs)break n;for(var vv=J1?Us:0;0<Hc--;)Au[Nf++]=vv}}Nu=1;break n}Nu||(X1.a=3),Xd=Nu}(Xd=Xd&&!ac.h)&&(dv=L(n2,q1,8,_l,$s)),Xd&&dv!=0?Af=dv:(wl.a=3,Af=0)}if(Af==0)break r;if(Ef&&I1[Yr]==1&&(Ef=Cf[gi].g==0),Ou+=Cf[gi].g,gi+=Af,3>=Yr){var $c,Pf=Eu[0];for($c=1;$c<oi;++$c)Eu[$c]>Pf&&(Pf=Eu[$c]);W1+=Pf}}if(jo.nd=Ef,jo.Qb=0,Ef&&(jo.qb=(Bs[3][Hs[3]+0].value<<24|Bs[1][Hs[1]+0].value<<16|Bs[2][Hs[2]+0].value)>>>0,Ou==0&&256>Bs[0][Hs[0]+0].value&&(jo.Qb=1,jo.qb+=Bs[0][Hs[0]+0].value<<8)),jo.jc=!jo.Qb&&6>W1,jo.jc){var Qd,fa=jo;for(Qd=0;Qd<xt;++Qd){var Sl=Qd,sc=fa.pd[Sl],jf=fa.G[0][fa.H[0]+Sl];256<=jf.value?(sc.g=jf.g+256,sc.value=jf.value):(sc.g=0,sc.value=0,Sl>>=Ir(jf,8,sc),Sl>>=Ir(fa.G[1][fa.H[1]+Sl],16,sc),Sl>>=Ir(fa.G[2][fa.H[2]+Sl],0,sc),Ir(fa.G[3][fa.H[3]+Sl],24,sc))}}}Ii.vc=qi,Ii.Wb=Oi,Ii.Ya=Tf,Ii.yc=Ic,On=1;break t}On=0}if(!(Ne=On)){ne.a=3;break e}if(0<yt){if(Be.ua=1<<yt,!$e(Be.Wa,yt)){ne.a=1,Ne=0;break e}}else Be.ua=0;var Pu=ne,Q1=Pe,s2=Me,Uc=Pu.s,eh=Uc.xc;if(Pu.c=Q1,Pu.i=s2,Uc.md=Q(Q1,eh),Uc.wc=eh==0?-1:(1<<eh)-1,q){ne.xb=$o;break e}if((nt=o(Pe*Me))==null){ne.a=1,Ne=0;break e}Ne=(Ne=Vr(ne,nt,0,Pe,Me,Me,null))&&!Le.h;break e}return Ne?(xe!=null?xe[0]=nt:(t(nt==null),t(q)),ne.$=0,q||er(Be)):er(Be),Ne}function ln(k,B){var q=k.c*k.i,ne=q+B+16*B;return t(k.c<=B),k.V=o(ne),k.V==null?(k.Ta=null,k.Ua=0,k.a=1,0):(k.Ta=k.V,k.Ua=k.Ba+q+B,1)}function qr(k,B){var q=k.C,ne=B-q,xe=k.V,Ne=k.Ba+k.c*q;for(t(B<=k.l.o);0<ne;){var Pe=16<ne?16:ne,Me=k.l.ma,Le=k.l.width,Be=Le*Pe,nt=Me.ca,yt=Me.tb+Le*q,vt=k.Ta,ut=k.Ua;Kr(k,Pe,xe,Ne),Wn(vt,ut,nt,yt,Be),Xr(Me,q,q+Pe,nt,yt,Le),ne-=Pe,xe+=Pe*k.c,q+=Pe}t(q==B),k.C=k.Ma=B}function un(){this.ub=this.yd=this.td=this.Rb=0}function wr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function $(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function oe(){this.Yb=function(){var k=[];return function B(q,ne,xe){for(var Ne=xe[ne],Pe=0;Pe<Ne&&(q.push(xe.length>ne+1?[]:0),!(xe.length<ne+1));Pe++)B(q[Pe],ne+1,xe)}(k,0,[3,11]),k}()}function J(){this.jb=o(3),this.Wc=s([4,8],oe),this.Xc=s([4,17],oe)}function Fe(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function it(){this.ld=this.La=this.dd=this.tc=0}function qt(){this.Na=this.la=0}function fn(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function br(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function dt(){this.uc=this.M=this.Nb=0,this.wa=Array(new it),this.Y=0,this.ya=Array(new br),this.aa=0,this.l=new _e}function ie(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Nr(){this.cb=this.a=0,this.sc="",this.m=new he,this.Od=new un,this.Kc=new wr,this.ed=new Fe,this.Qa=new $,this.Ic=this.$c=this.Aa=0,this.D=new dt,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,he),this.ia=0,this.pb=a(4,fn),this.Pa=new J,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ie),this.Hd=0,this.rb=Array(new qt),this.sb=0,this.wa=Array(new it),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new br),this.L=this.aa=0,this.gd=s([4,2],it),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function _e(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ze(){var k=new Nr;return k!=null&&(k.a=0,k.sc="OK",k.cb=0,k.Xb=0,Tu||(Tu=Pr)),k}function ht(k,B,q){return k.a==0&&(k.a=B,k.sc=q,k.cb=0),0}function Nt(k,B,q){return 3<=q&&k[B+0]==157&&k[B+1]==1&&k[B+2]==42}function It(k,B){if(k==null)return 0;if(k.a=0,k.sc="OK",B==null)return ht(k,2,"null VP8Io passed to VP8GetHeaders()");var q=B.data,ne=B.w,xe=B.ha;if(4>xe)return ht(k,7,"Truncated header.");var Ne=q[ne+0]|q[ne+1]<<8|q[ne+2]<<16,Pe=k.Od;if(Pe.Rb=!(1&Ne),Pe.td=Ne>>1&7,Pe.yd=Ne>>4&1,Pe.ub=Ne>>5,3<Pe.td)return ht(k,3,"Incorrect keyframe parameters.");if(!Pe.yd)return ht(k,4,"Frame not displayable.");ne+=3,xe-=3;var Me=k.Kc;if(Pe.Rb){if(7>xe)return ht(k,7,"cannot parse picture header");if(!Nt(q,ne,xe))return ht(k,3,"Bad code word");Me.c=16383&(q[ne+4]<<8|q[ne+3]),Me.Td=q[ne+4]>>6,Me.i=16383&(q[ne+6]<<8|q[ne+5]),Me.Ud=q[ne+6]>>6,ne+=7,xe-=7,k.za=Me.c+15>>4,k.Ub=Me.i+15>>4,B.width=Me.c,B.height=Me.i,B.Da=0,B.j=0,B.v=0,B.va=B.width,B.o=B.height,B.da=0,B.ib=B.width,B.hb=B.height,B.U=B.width,B.T=B.height,i((Ne=k.Pa).jb,0,255,Ne.jb.length),t((Ne=k.Qa)!=null),Ne.Cb=0,Ne.Bb=0,Ne.Fb=1,i(Ne.Zb,0,0,Ne.Zb.length),i(Ne.Lb,0,0,Ne.Lb)}if(Pe.ub>xe)return ht(k,7,"bad partition length");V(Ne=k.m,q,ne,Pe.ub),ne+=Pe.ub,xe-=Pe.ub,Pe.Rb&&(Me.Ld=Ee(Ne),Me.Kd=Ee(Ne)),Me=k.Qa;var Le,Be=k.Pa;if(t(Ne!=null),t(Me!=null),Me.Cb=Ee(Ne),Me.Cb){if(Me.Bb=Ee(Ne),Ee(Ne)){for(Me.Fb=Ee(Ne),Le=0;4>Le;++Le)Me.Zb[Le]=Ee(Ne)?G(Ne,7):0;for(Le=0;4>Le;++Le)Me.Lb[Le]=Ee(Ne)?G(Ne,6):0}if(Me.Bb)for(Le=0;3>Le;++Le)Be.jb[Le]=Ee(Ne)?F(Ne,8):255}else Me.Bb=0;if(Ne.Ka)return ht(k,3,"cannot parse segment header");if((Me=k.ed).zd=Ee(Ne),Me.Tb=F(Ne,6),Me.wb=F(Ne,3),Me.Pc=Ee(Ne),Me.Pc&&Ee(Ne)){for(Be=0;4>Be;++Be)Ee(Ne)&&(Me.vd[Be]=G(Ne,6));for(Be=0;4>Be;++Be)Ee(Ne)&&(Me.od[Be]=G(Ne,6))}if(k.L=Me.Tb==0?0:Me.zd?1:2,Ne.Ka)return ht(k,3,"cannot parse filter header");var nt=xe;if(xe=Le=ne,ne=Le+nt,Me=nt,k.Xb=(1<<F(k.m,2))-1,nt<3*(Be=k.Xb))q=7;else{for(Le+=3*Be,Me-=3*Be,nt=0;nt<Be;++nt){var yt=q[xe+0]|q[xe+1]<<8|q[xe+2]<<16;yt>Me&&(yt=Me),V(k.Jc[+nt],q,Le,yt),Le+=yt,Me-=yt,xe+=3}V(k.Jc[+Be],q,Le,Me),q=Le<ne?0:5}if(q!=0)return ht(k,q,"cannot parse partitions");for(q=F(Le=k.m,7),xe=Ee(Le)?G(Le,4):0,ne=Ee(Le)?G(Le,4):0,Me=Ee(Le)?G(Le,4):0,Be=Ee(Le)?G(Le,4):0,Le=Ee(Le)?G(Le,4):0,nt=k.Qa,yt=0;4>yt;++yt){if(nt.Cb){var vt=nt.Zb[yt];nt.Fb||(vt+=q)}else{if(0<yt){k.pb[yt]=k.pb[0];continue}vt=q}var ut=k.pb[yt];ut.Sc[0]=nc[po(vt+xe,127)],ut.Sc[1]=Kd[po(vt+0,127)],ut.Eb[0]=2*nc[po(vt+ne,127)],ut.Eb[1]=101581*Kd[po(vt+Me,127)]>>16,8>ut.Eb[1]&&(ut.Eb[1]=8),ut.Qc[0]=nc[po(vt+Be,117)],ut.Qc[1]=Kd[po(vt+Le,127)],ut.lc=vt+Le}if(!Pe.Rb)return ht(k,4,"Not a key frame.");for(Ee(Ne),Pe=k.Pa,q=0;4>q;++q){for(xe=0;8>xe;++xe)for(ne=0;3>ne;++ne)for(Me=0;11>Me;++Me)Be=ke(Ne,Jx[q][xe][ne][Me])?F(Ne,8):Lc[q][xe][ne][Me],Pe.Wc[q][xe].Yb[ne][Me]=Be;for(xe=0;17>xe;++xe)Pe.Xc[q][xe]=Pe.Wc[q][Qx[xe]]}return k.kc=Ee(Ne),k.kc&&(k.Bd=F(Ne,8)),k.cb=1}function Pr(k,B,q,ne,xe,Ne,Pe){var Me=B[xe].Yb[q];for(q=0;16>xe;++xe){if(!ke(k,Me[q+0]))return xe;for(;!ke(k,Me[q+1]);)if(Me=B[++xe].Yb[0],q=0,xe==16)return 16;var Le=B[xe+1].Yb;if(ke(k,Me[q+2])){var Be=k,nt=0;if(ke(Be,(vt=Me)[(yt=q)+3]))if(ke(Be,vt[yt+6])){for(Me=0,yt=2*(nt=ke(Be,vt[yt+8]))+(vt=ke(Be,vt[yt+9+nt])),nt=0,vt=R1[yt];vt[Me];++Me)nt+=nt+ke(Be,vt[Me]);nt+=3+(8<<yt)}else ke(Be,vt[yt+7])?(nt=7+2*ke(Be,165),nt+=ke(Be,145)):nt=5+ke(Be,159);else nt=ke(Be,vt[yt+4])?3+ke(Be,vt[yt+5]):2;Me=Le[2]}else nt=1,Me=Le[1];Le=Pe+Xx[xe],0>(Be=k).b&&me(Be);var yt,vt=Be.b,ut=(yt=Be.Ca>>1)-(Be.I>>vt)>>31;--Be.b,Be.Ca+=ut,Be.Ca|=1,Be.I-=(yt+1&ut)<<vt,Ne[Le]=((nt^ut)-ut)*ne[(0<xe)+0]}return 16}function Dr(k){var B=k.rb[k.sb-1];B.la=0,B.Na=0,i(k.zc,0,0,k.zc.length),k.ja=0}function An(k,B){if(k==null)return 0;if(B==null)return ht(k,2,"NULL VP8Io parameter in VP8Decode().");if(!k.cb&&!It(k,B))return 0;if(t(k.cb),B.ac==null||B.ac(B)){B.ob&&(k.L=0);var q=Sf[k.L];if(k.L==2?(k.yb=0,k.zb=0):(k.yb=B.v-q>>4,k.zb=B.j-q>>4,0>k.yb&&(k.yb=0),0>k.zb&&(k.zb=0)),k.Va=B.o+15+q>>4,k.Hb=B.va+15+q>>4,k.Hb>k.za&&(k.Hb=k.za),k.Va>k.Ub&&(k.Va=k.Ub),0<k.L){var ne=k.ed;for(q=0;4>q;++q){var xe;if(k.Qa.Cb){var Ne=k.Qa.Lb[q];k.Qa.Fb||(Ne+=ne.Tb)}else Ne=ne.Tb;for(xe=0;1>=xe;++xe){var Pe=k.gd[q][xe],Me=Ne;if(ne.Pc&&(Me+=ne.vd[0],xe&&(Me+=ne.od[0])),0<(Me=0>Me?0:63<Me?63:Me)){var Le=Me;0<ne.wb&&(Le=4<ne.wb?Le>>2:Le>>1)>9-ne.wb&&(Le=9-ne.wb),1>Le&&(Le=1),Pe.dd=Le,Pe.tc=2*Me+Le,Pe.ld=40<=Me?2:15<=Me?1:0}else Pe.tc=0;Pe.La=xe}}}q=0}else ht(k,6,"Frame setup failed"),q=k.a;if(q=q==0){if(q){k.$c=0,0<k.Aa||(k.Ic=V1);e:{q=k.Ic,ne=4*(Le=k.za);var Be=32*Le,nt=Le+1,yt=0<k.L?Le*(0<k.Aa?2:1):0,vt=(k.Aa==2?2:1)*Le;if((Pe=ne+832+(xe=3*(16*q+Sf[k.L])/2*Be)+(Ne=k.Fa!=null&&0<k.Fa.length?k.Kc.c*k.Kc.i:0))!=Pe)q=0;else{if(Pe>k.Vb){if(k.Vb=0,k.Ec=o(Pe),k.Fc=0,k.Ec==null){q=ht(k,1,"no memory during frame initialization.");break e}k.Vb=Pe}Pe=k.Ec,Me=k.Fc,k.Ac=Pe,k.Bc=Me,Me+=ne,k.Gd=a(Be,ie),k.Hd=0,k.rb=a(nt+1,qt),k.sb=1,k.wa=yt?a(yt,it):null,k.Y=0,k.D.Nb=0,k.D.wa=k.wa,k.D.Y=k.Y,0<k.Aa&&(k.D.Y+=Le),t(!0),k.oc=Pe,k.pc=Me,Me+=832,k.ya=a(vt,br),k.aa=0,k.D.ya=k.ya,k.D.aa=k.aa,k.Aa==2&&(k.D.aa+=Le),k.R=16*Le,k.B=8*Le,Le=(Be=Sf[k.L])*k.R,Be=Be/2*k.B,k.sa=Pe,k.ta=Me+Le,k.qa=k.sa,k.ra=k.ta+16*q*k.R+Be,k.Ha=k.qa,k.Ia=k.ra+8*q*k.B+Be,k.$c=0,Me+=xe,k.mb=Ne?Pe:null,k.nb=Ne?Me:null,t(Me+Ne<=k.Fc+k.Vb),Dr(k),i(k.Ac,k.Bc,0,ne),q=1}}if(q){if(B.ka=0,B.y=k.sa,B.O=k.ta,B.f=k.qa,B.N=k.ra,B.ea=k.Ha,B.Vd=k.Ia,B.fa=k.R,B.Rc=k.B,B.F=null,B.J=0,!wu){for(q=-255;255>=q;++q)Ti[255+q]=0>q?-q:q;for(q=-1020;1020>=q;++q)Rs[1020+q]=-128>q?-128:127<q?127:q;for(q=-112;112>=q;++q)ec[112+q]=-16>q?-16:15<q?15:q;for(q=-255;510>=q;++q)xu[255+q]=0>q?0:255<q?255:q;wu=1}Pc=is,Ds=rs,ff=Es,Co=Os,Ma=ns,ni=Aa,La=js,vl=ks,Is=Gl,gl=Kl,ml=Oc,yl=Ms,bl=Yl,Da=ul,ua=Xi,vi=wi,Ia=Zi,Di=Ps,us[0]=pi,us[1]=aa,us[2]=So,us[3]=os,us[4]=ho,us[5]=sa,us[6]=Ns,us[7]=la,us[8]=as,us[9]=Fo,oc[0]=Ro,oc[1]=ti,oc[2]=Nn,oc[3]=Na,oc[4]=yn,oc[5]=hi,oc[6]=cl,xl[0]=Gr,xl[1]=As,xl[2]=ca,xl[3]=cr,xl[4]=bn,xl[5]=_r,xl[6]=$n,q=1}else q=0}q&&(q=function(ut,Dt){for(ut.M=0;ut.M<ut.Va;++ut.M){var St,rt=ut.Jc[ut.M&ut.Xb],st=ut.m,Pt=ut;for(St=0;St<Pt.za;++St){var Ht=st,Mt=Pt,ar=Mt.Ac,Jt=Mt.Bc+4*St,Tr=Mt.zc,Qt=Mt.ya[Mt.aa+St];if(Mt.Qa.Bb?Qt.$b=ke(Ht,Mt.Pa.jb[0])?2+ke(Ht,Mt.Pa.jb[2]):ke(Ht,Mt.Pa.jb[1]):Qt.$b=0,Mt.kc&&(Qt.Ad=ke(Ht,Mt.Bd)),Qt.Za=!ke(Ht,145)+0,Qt.Za){var xn=Qt.Ob,En=0;for(Mt=0;4>Mt;++Mt){var pn,en=Tr[0+Mt];for(pn=0;4>pn;++pn){en=Zx[ar[Jt+pn]][en];for(var On=ic[ke(Ht,en[0])];0<On;)On=ic[2*On+ke(Ht,en[On])];en=-On,ar[Jt+pn]=en}r(xn,En,ar,Jt,4),En+=4,Tr[0+Mt]=en}}else en=ke(Ht,156)?ke(Ht,128)?1:3:ke(Ht,163)?2:0,Qt.Ob[0]=en,i(ar,Jt,en,4),i(Tr,0,en,4);Qt.Dd=ke(Ht,142)?ke(Ht,114)?ke(Ht,183)?1:3:2:0}if(Pt.m.Ka)return ht(ut,7,"Premature end-of-partition0 encountered.");for(;ut.ja<ut.za;++ut.ja){if(Pt=rt,Ht=(st=ut).rb[st.sb-1],ar=st.rb[st.sb+st.ja],St=st.ya[st.aa+st.ja],Jt=st.kc?St.Ad:0)Ht.la=ar.la=0,St.Za||(Ht.Na=ar.Na=0),St.Hc=0,St.Gc=0,St.ia=0;else{var wn,Yr;if(Ht=ar,ar=Pt,Jt=st.Pa.Xc,Tr=st.ya[st.aa+st.ja],Qt=st.pb[Tr.$b],Mt=Tr.ad,xn=0,En=st.rb[st.sb-1],en=pn=0,i(Mt,xn,0,384),Tr.Za)var gi=0,Ao=Jt[3];else{On=o(16);var Ei=Ht.Na+En.Na;if(Ei=Tu(ar,Jt[1],Ei,Qt.Eb,0,On,0),Ht.Na=En.Na=(0<Ei)+0,1<Ei)Pc(On,0,Mt,xn);else{var No=On[0]+3>>3;for(On=0;256>On;On+=16)Mt[xn+On]=No}gi=1,Ao=Jt[0]}var Wr=15&Ht.la,go=15&En.la;for(On=0;4>On;++On){var zo=1&go;for(No=Yr=0;4>No;++No)Wr=Wr>>1|(zo=(Ei=Tu(ar,Ao,Ei=zo+(1&Wr),Qt.Sc,gi,Mt,xn))>gi)<<7,Yr=Yr<<2|(3<Ei?3:1<Ei?2:Mt[xn+0]!=0),xn+=16;Wr>>=4,go=go>>1|zo<<7,pn=(pn<<8|Yr)>>>0}for(Ao=Wr,gi=go>>4,wn=0;4>wn;wn+=2){for(Yr=0,Wr=Ht.la>>4+wn,go=En.la>>4+wn,On=0;2>On;++On){for(zo=1&go,No=0;2>No;++No)Ei=zo+(1&Wr),Wr=Wr>>1|(zo=0<(Ei=Tu(ar,Jt[2],Ei,Qt.Qc,0,Mt,xn)))<<3,Yr=Yr<<2|(3<Ei?3:1<Ei?2:Mt[xn+0]!=0),xn+=16;Wr>>=2,go=go>>1|zo<<5}en|=Yr<<4*wn,Ao|=Wr<<4<<wn,gi|=(240&go)<<wn}Ht.la=Ao,En.la=gi,Tr.Hc=pn,Tr.Gc=en,Tr.ia=43690&en?0:Qt.ia,Jt=!(pn|en)}if(0<st.L&&(st.wa[st.Y+st.ja]=st.gd[St.$b][St.Za],st.wa[st.Y+st.ja].La|=!Jt),Pt.Ka)return ht(ut,7,"Premature end-of-file encountered.")}if(Dr(ut),st=Dt,Pt=1,St=(rt=ut).D,Ht=0<rt.L&&rt.M>=rt.zb&&rt.M<=rt.Va,rt.Aa==0)e:{if(St.M=rt.M,St.uc=Ht,Ae(rt,St),Pt=1,St=(Yr=rt.D).Nb,Ht=(en=Sf[rt.L])*rt.R,ar=en/2*rt.B,On=16*St*rt.R,No=8*St*rt.B,Jt=rt.sa,Tr=rt.ta-Ht+On,Qt=rt.qa,Mt=rt.ra-ar+No,xn=rt.Ha,En=rt.Ia-ar+No,go=(Wr=Yr.M)==0,pn=Wr>=rt.Va-1,rt.Aa==2&&Ae(rt,Yr),Yr.uc)for(zo=(Ei=rt).D.M,t(Ei.D.uc),Yr=Ei.yb;Yr<Ei.Hb;++Yr){gi=Yr,Ao=zo;var Ii=(qi=(oi=Ei).D).Nb;wn=oi.R;var qi=qi.wa[qi.Y+gi],Oi=oi.sa,Po=oi.ta+16*Ii*wn+16*gi,fs=qi.dd,Ri=qi.tc;if(Ri!=0)if(t(3<=Ri),oi.L==1)0<gi&&vi(Oi,Po,wn,Ri+4),qi.La&&Di(Oi,Po,wn,Ri),0<Ao&&ua(Oi,Po,wn,Ri+4),qi.La&&Ia(Oi,Po,wn,Ri);else{var Fs=oi.B,Ra=oi.qa,Dc=oi.ra+8*Ii*Fs+8*gi,ds=oi.Ha,oi=oi.Ia+8*Ii*Fs+8*gi;Ii=qi.ld,0<gi&&(vl(Oi,Po,wn,Ri+4,fs,Ii),gl(Ra,Dc,ds,oi,Fs,Ri+4,fs,Ii)),qi.La&&(yl(Oi,Po,wn,Ri,fs,Ii),Da(Ra,Dc,ds,oi,Fs,Ri,fs,Ii)),0<Ao&&(La(Oi,Po,wn,Ri+4,fs,Ii),Is(Ra,Dc,ds,oi,Fs,Ri+4,fs,Ii)),qi.La&&(ml(Oi,Po,wn,Ri,fs,Ii),bl(Ra,Dc,ds,oi,Fs,Ri,fs,Ii))}}if(rt.ia&&alert("todo:DitherRow"),st.put!=null){if(Yr=16*Wr,Wr=16*(Wr+1),go?(st.y=rt.sa,st.O=rt.ta+On,st.f=rt.qa,st.N=rt.ra+No,st.ea=rt.Ha,st.W=rt.Ia+No):(Yr-=en,st.y=Jt,st.O=Tr,st.f=Qt,st.N=Mt,st.ea=xn,st.W=En),pn||(Wr-=en),Wr>st.o&&(Wr=st.o),st.F=null,st.J=null,rt.Fa!=null&&0<rt.Fa.length&&Yr<Wr&&(st.J=ja(rt,st,Yr,Wr-Yr),st.F=rt.mb,st.F==null&&st.F.length==0)){Pt=ht(rt,3,"Could not decode alpha data.");break e}Yr<st.j&&(en=st.j-Yr,Yr=st.j,t(!(1&en)),st.O+=rt.R*en,st.N+=rt.B*(en>>1),st.W+=rt.B*(en>>1),st.F!=null&&(st.J+=st.width*en)),Yr<Wr&&(st.O+=st.v,st.N+=st.v>>1,st.W+=st.v>>1,st.F!=null&&(st.J+=st.v),st.ka=Yr-st.j,st.U=st.va-st.v,st.T=Wr-Yr,Pt=st.put(st))}St+1!=rt.Ic||pn||(r(rt.sa,rt.ta-Ht,Jt,Tr+16*rt.R,Ht),r(rt.qa,rt.ra-ar,Qt,Mt+8*rt.B,ar),r(rt.Ha,rt.Ia-ar,xn,En+8*rt.B,ar))}if(!Pt)return ht(ut,6,"Output aborted.")}return 1}(k,B)),B.bc!=null&&B.bc(B),q&=1}return q?(k.cb=0,q):0}function Zr(k,B,q,ne,xe){xe=k[B+q+32*ne]+(xe>>3),k[B+q+32*ne]=-256&xe?0>xe?0:255:xe}function Li(k,B,q,ne,xe,Ne){Zr(k,B,0,q,ne+xe),Zr(k,B,1,q,ne+Ne),Zr(k,B,2,q,ne-Ne),Zr(k,B,3,q,ne-xe)}function bi(k){return(20091*k>>16)+k}function oa(k,B,q,ne){var xe,Ne=0,Pe=o(16);for(xe=0;4>xe;++xe){var Me=k[B+0]+k[B+8],Le=k[B+0]-k[B+8],Be=(35468*k[B+4]>>16)-bi(k[B+12]),nt=bi(k[B+4])+(35468*k[B+12]>>16);Pe[Ne+0]=Me+nt,Pe[Ne+1]=Le+Be,Pe[Ne+2]=Le-Be,Pe[Ne+3]=Me-nt,Ne+=4,B++}for(xe=Ne=0;4>xe;++xe)Me=(k=Pe[Ne+0]+4)+Pe[Ne+8],Le=k-Pe[Ne+8],Be=(35468*Pe[Ne+4]>>16)-bi(Pe[Ne+12]),Zr(q,ne,0,0,Me+(nt=bi(Pe[Ne+4])+(35468*Pe[Ne+12]>>16))),Zr(q,ne,1,0,Le+Be),Zr(q,ne,2,0,Le-Be),Zr(q,ne,3,0,Me-nt),Ne++,ne+=32}function Aa(k,B,q,ne){var xe=k[B+0]+4,Ne=35468*k[B+4]>>16,Pe=bi(k[B+4]),Me=35468*k[B+1]>>16;Li(q,ne,0,xe+Pe,k=bi(k[B+1]),Me),Li(q,ne,1,xe+Ne,k,Me),Li(q,ne,2,xe-Ne,k,Me),Li(q,ne,3,xe-Pe,k,Me)}function rs(k,B,q,ne,xe){oa(k,B,q,ne),xe&&oa(k,B+16,q,ne+4)}function Es(k,B,q,ne){Ds(k,B+0,q,ne,1),Ds(k,B+32,q,ne+128,1)}function Os(k,B,q,ne){var xe;for(k=k[B+0]+4,xe=0;4>xe;++xe)for(B=0;4>B;++B)Zr(q,ne,B,xe,k)}function ns(k,B,q,ne){k[B+0]&&Co(k,B+0,q,ne),k[B+16]&&Co(k,B+16,q,ne+4),k[B+32]&&Co(k,B+32,q,ne+128),k[B+48]&&Co(k,B+48,q,ne+128+4)}function is(k,B,q,ne){var xe,Ne=o(16);for(xe=0;4>xe;++xe){var Pe=k[B+0+xe]+k[B+12+xe],Me=k[B+4+xe]+k[B+8+xe],Le=k[B+4+xe]-k[B+8+xe],Be=k[B+0+xe]-k[B+12+xe];Ne[0+xe]=Pe+Me,Ne[8+xe]=Pe-Me,Ne[4+xe]=Be+Le,Ne[12+xe]=Be-Le}for(xe=0;4>xe;++xe)Pe=(k=Ne[0+4*xe]+3)+Ne[3+4*xe],Me=Ne[1+4*xe]+Ne[2+4*xe],Le=Ne[1+4*xe]-Ne[2+4*xe],Be=k-Ne[3+4*xe],q[ne+0]=Pe+Me>>3,q[ne+16]=Be+Le>>3,q[ne+32]=Pe-Me>>3,q[ne+48]=Be-Le>>3,ne+=64}function Io(k,B,q){var ne,xe=B-32,Ne=Oo,Pe=255-k[xe-1];for(ne=0;ne<q;++ne){var Me,Le=Ne,Be=Pe+k[B-1];for(Me=0;Me<q;++Me)k[B+Me]=Le[Be+k[xe+Me]];B+=32}}function aa(k,B){Io(k,B,4)}function As(k,B){Io(k,B,8)}function ti(k,B){Io(k,B,16)}function Nn(k,B){var q;for(q=0;16>q;++q)r(k,B+32*q,k,B-32,16)}function Na(k,B){var q;for(q=16;0<q;--q)i(k,B,k[B-1],16),B+=32}function Vi(k,B,q){var ne;for(ne=0;16>ne;++ne)i(B,q+32*ne,k,16)}function Ro(k,B){var q,ne=16;for(q=0;16>q;++q)ne+=k[B-1+32*q]+k[B+q-32];Vi(ne>>5,k,B)}function yn(k,B){var q,ne=8;for(q=0;16>q;++q)ne+=k[B-1+32*q];Vi(ne>>4,k,B)}function hi(k,B){var q,ne=8;for(q=0;16>q;++q)ne+=k[B+q-32];Vi(ne>>4,k,B)}function cl(k,B){Vi(128,k,B)}function Sr(k,B,q){return k+2*B+q+2>>2}function So(k,B){var q,ne=B-32;for(ne=new Uint8Array([Sr(k[ne-1],k[ne+0],k[ne+1]),Sr(k[ne+0],k[ne+1],k[ne+2]),Sr(k[ne+1],k[ne+2],k[ne+3]),Sr(k[ne+2],k[ne+3],k[ne+4])]),q=0;4>q;++q)r(k,B+32*q,ne,0,ne.length)}function os(k,B){var q=k[B-1],ne=k[B-1+32],xe=k[B-1+64],Ne=k[B-1+96];He(k,B+0,16843009*Sr(k[B-1-32],q,ne)),He(k,B+32,16843009*Sr(q,ne,xe)),He(k,B+64,16843009*Sr(ne,xe,Ne)),He(k,B+96,16843009*Sr(xe,Ne,Ne))}function pi(k,B){var q,ne=4;for(q=0;4>q;++q)ne+=k[B+q-32]+k[B-1+32*q];for(ne>>=3,q=0;4>q;++q)i(k,B+32*q,ne,4)}function ho(k,B){var q=k[B-1+0],ne=k[B-1+32],xe=k[B-1+64],Ne=k[B-1-32],Pe=k[B+0-32],Me=k[B+1-32],Le=k[B+2-32],Be=k[B+3-32];k[B+0+96]=Sr(ne,xe,k[B-1+96]),k[B+1+96]=k[B+0+64]=Sr(q,ne,xe),k[B+2+96]=k[B+1+64]=k[B+0+32]=Sr(Ne,q,ne),k[B+3+96]=k[B+2+64]=k[B+1+32]=k[B+0+0]=Sr(Pe,Ne,q),k[B+3+64]=k[B+2+32]=k[B+1+0]=Sr(Me,Pe,Ne),k[B+3+32]=k[B+2+0]=Sr(Le,Me,Pe),k[B+3+0]=Sr(Be,Le,Me)}function Ns(k,B){var q=k[B+1-32],ne=k[B+2-32],xe=k[B+3-32],Ne=k[B+4-32],Pe=k[B+5-32],Me=k[B+6-32],Le=k[B+7-32];k[B+0+0]=Sr(k[B+0-32],q,ne),k[B+1+0]=k[B+0+32]=Sr(q,ne,xe),k[B+2+0]=k[B+1+32]=k[B+0+64]=Sr(ne,xe,Ne),k[B+3+0]=k[B+2+32]=k[B+1+64]=k[B+0+96]=Sr(xe,Ne,Pe),k[B+3+32]=k[B+2+64]=k[B+1+96]=Sr(Ne,Pe,Me),k[B+3+64]=k[B+2+96]=Sr(Pe,Me,Le),k[B+3+96]=Sr(Me,Le,Le)}function sa(k,B){var q=k[B-1+0],ne=k[B-1+32],xe=k[B-1+64],Ne=k[B-1-32],Pe=k[B+0-32],Me=k[B+1-32],Le=k[B+2-32],Be=k[B+3-32];k[B+0+0]=k[B+1+64]=Ne+Pe+1>>1,k[B+1+0]=k[B+2+64]=Pe+Me+1>>1,k[B+2+0]=k[B+3+64]=Me+Le+1>>1,k[B+3+0]=Le+Be+1>>1,k[B+0+96]=Sr(xe,ne,q),k[B+0+64]=Sr(ne,q,Ne),k[B+0+32]=k[B+1+96]=Sr(q,Ne,Pe),k[B+1+32]=k[B+2+96]=Sr(Ne,Pe,Me),k[B+2+32]=k[B+3+96]=Sr(Pe,Me,Le),k[B+3+32]=Sr(Me,Le,Be)}function la(k,B){var q=k[B+0-32],ne=k[B+1-32],xe=k[B+2-32],Ne=k[B+3-32],Pe=k[B+4-32],Me=k[B+5-32],Le=k[B+6-32],Be=k[B+7-32];k[B+0+0]=q+ne+1>>1,k[B+1+0]=k[B+0+64]=ne+xe+1>>1,k[B+2+0]=k[B+1+64]=xe+Ne+1>>1,k[B+3+0]=k[B+2+64]=Ne+Pe+1>>1,k[B+0+32]=Sr(q,ne,xe),k[B+1+32]=k[B+0+96]=Sr(ne,xe,Ne),k[B+2+32]=k[B+1+96]=Sr(xe,Ne,Pe),k[B+3+32]=k[B+2+96]=Sr(Ne,Pe,Me),k[B+3+64]=Sr(Pe,Me,Le),k[B+3+96]=Sr(Me,Le,Be)}function Fo(k,B){var q=k[B-1+0],ne=k[B-1+32],xe=k[B-1+64],Ne=k[B-1+96];k[B+0+0]=q+ne+1>>1,k[B+2+0]=k[B+0+32]=ne+xe+1>>1,k[B+2+32]=k[B+0+64]=xe+Ne+1>>1,k[B+1+0]=Sr(q,ne,xe),k[B+3+0]=k[B+1+32]=Sr(ne,xe,Ne),k[B+3+32]=k[B+1+64]=Sr(xe,Ne,Ne),k[B+3+64]=k[B+2+64]=k[B+0+96]=k[B+1+96]=k[B+2+96]=k[B+3+96]=Ne}function as(k,B){var q=k[B-1+0],ne=k[B-1+32],xe=k[B-1+64],Ne=k[B-1+96],Pe=k[B-1-32],Me=k[B+0-32],Le=k[B+1-32],Be=k[B+2-32];k[B+0+0]=k[B+2+32]=q+Pe+1>>1,k[B+0+32]=k[B+2+64]=ne+q+1>>1,k[B+0+64]=k[B+2+96]=xe+ne+1>>1,k[B+0+96]=Ne+xe+1>>1,k[B+3+0]=Sr(Me,Le,Be),k[B+2+0]=Sr(Pe,Me,Le),k[B+1+0]=k[B+3+32]=Sr(q,Pe,Me),k[B+1+32]=k[B+3+64]=Sr(ne,q,Pe),k[B+1+64]=k[B+3+96]=Sr(xe,ne,q),k[B+1+96]=Sr(Ne,xe,ne)}function ca(k,B){var q;for(q=0;8>q;++q)r(k,B+32*q,k,B-32,8)}function cr(k,B){var q;for(q=0;8>q;++q)i(k,B,k[B-1],8),B+=32}function sr(k,B,q){var ne;for(ne=0;8>ne;++ne)i(B,q+32*ne,k,8)}function Gr(k,B){var q,ne=8;for(q=0;8>q;++q)ne+=k[B+q-32]+k[B-1+32*q];sr(ne>>4,k,B)}function _r(k,B){var q,ne=4;for(q=0;8>q;++q)ne+=k[B+q-32];sr(ne>>3,k,B)}function bn(k,B){var q,ne=4;for(q=0;8>q;++q)ne+=k[B-1+32*q];sr(ne>>3,k,B)}function $n(k,B){sr(128,k,B)}function xi(k,B,q){var ne=k[B-q],xe=k[B+0],Ne=3*(xe-ne)+Vd[1020+k[B-2*q]-k[B+q]],Pe=_u[112+(Ne+4>>3)];k[B-q]=Oo[255+ne+_u[112+(Ne+3>>3)]],k[B+0]=Oo[255+xe-Pe]}function To(k,B,q,ne){var xe=k[B+0],Ne=k[B+q];return eo[255+k[B-2*q]-k[B-q]]>ne||eo[255+Ne-xe]>ne}function zi(k,B,q,ne){return 4*eo[255+k[B-q]-k[B+0]]+eo[255+k[B-2*q]-k[B+q]]<=ne}function Wi(k,B,q,ne,xe){var Ne=k[B-3*q],Pe=k[B-2*q],Me=k[B-q],Le=k[B+0],Be=k[B+q],nt=k[B+2*q],yt=k[B+3*q];return 4*eo[255+Me-Le]+eo[255+Pe-Be]>ne?0:eo[255+k[B-4*q]-Ne]<=xe&&eo[255+Ne-Pe]<=xe&&eo[255+Pe-Me]<=xe&&eo[255+yt-nt]<=xe&&eo[255+nt-Be]<=xe&&eo[255+Be-Le]<=xe}function Xi(k,B,q,ne){var xe=2*ne+1;for(ne=0;16>ne;++ne)zi(k,B+ne,q,xe)&&xi(k,B+ne,q)}function wi(k,B,q,ne){var xe=2*ne+1;for(ne=0;16>ne;++ne)zi(k,B+ne*q,1,xe)&&xi(k,B+ne*q,1)}function Zi(k,B,q,ne){var xe;for(xe=3;0<xe;--xe)Xi(k,B+=4*q,q,ne)}function Ps(k,B,q,ne){var xe;for(xe=3;0<xe;--xe)wi(k,B+=4,q,ne)}function Rn(k,B,q,ne,xe,Ne,Pe,Me){for(Ne=2*Ne+1;0<xe--;){if(Wi(k,B,q,Ne,Pe))if(To(k,B,q,Me))xi(k,B,q);else{var Le=k,Be=B,nt=q,yt=Le[Be-2*nt],vt=Le[Be-nt],ut=Le[Be+0],Dt=Le[Be+nt],St=Le[Be+2*nt],rt=27*(Pt=Vd[1020+3*(ut-vt)+Vd[1020+yt-Dt]])+63>>7,st=18*Pt+63>>7,Pt=9*Pt+63>>7;Le[Be-3*nt]=Oo[255+Le[Be-3*nt]+Pt],Le[Be-2*nt]=Oo[255+yt+st],Le[Be-nt]=Oo[255+vt+rt],Le[Be+0]=Oo[255+ut-rt],Le[Be+nt]=Oo[255+Dt-st],Le[Be+2*nt]=Oo[255+St-Pt]}B+=ne}}function Bo(k,B,q,ne,xe,Ne,Pe,Me){for(Ne=2*Ne+1;0<xe--;){if(Wi(k,B,q,Ne,Pe))if(To(k,B,q,Me))xi(k,B,q);else{var Le=k,Be=B,nt=q,yt=Le[Be-nt],vt=Le[Be+0],ut=Le[Be+nt],Dt=_u[112+((St=3*(vt-yt))+4>>3)],St=_u[112+(St+3>>3)],rt=Dt+1>>1;Le[Be-2*nt]=Oo[255+Le[Be-2*nt]+rt],Le[Be-nt]=Oo[255+yt+St],Le[Be+0]=Oo[255+vt-Dt],Le[Be+nt]=Oo[255+ut-rt]}B+=ne}}function js(k,B,q,ne,xe,Ne){Rn(k,B,q,1,16,ne,xe,Ne)}function ks(k,B,q,ne,xe,Ne){Rn(k,B,1,q,16,ne,xe,Ne)}function Oc(k,B,q,ne,xe,Ne){var Pe;for(Pe=3;0<Pe;--Pe)Bo(k,B+=4*q,q,1,16,ne,xe,Ne)}function Ms(k,B,q,ne,xe,Ne){var Pe;for(Pe=3;0<Pe;--Pe)Bo(k,B+=4,1,q,16,ne,xe,Ne)}function Gl(k,B,q,ne,xe,Ne,Pe,Me){Rn(k,B,xe,1,8,Ne,Pe,Me),Rn(q,ne,xe,1,8,Ne,Pe,Me)}function Kl(k,B,q,ne,xe,Ne,Pe,Me){Rn(k,B,1,xe,8,Ne,Pe,Me),Rn(q,ne,1,xe,8,Ne,Pe,Me)}function Yl(k,B,q,ne,xe,Ne,Pe,Me){Bo(k,B+4*xe,xe,1,8,Ne,Pe,Me),Bo(q,ne+4*xe,xe,1,8,Ne,Pe,Me)}function ul(k,B,q,ne,xe,Ne,Pe,Me){Bo(k,B+4,1,xe,8,Ne,Pe,Me),Bo(q,ne+4,1,xe,8,Ne,Pe,Me)}function fl(){this.ba=new vr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Lr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function dl(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Xl(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Zl(){this.ua=0,this.Wa=new Te,this.vb=new Te,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new D,this.yc=new M}function Jl(){this.xb=this.a=0,this.l=new _e,this.ca=new vr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new z,this.Pb=0,this.wd=new z,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Zl,this.ab=0,this.gc=a(4,Xl),this.Oc=0}function Ho(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new _e,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ls(k,B,q,ne,xe,Ne,Pe){for(k=k==null?0:k[B+0],B=0;B<Pe;++B)xe[Ne+B]=k+q[ne+B]&255,k=xe[Ne+B]}function Ac(k,B,q,ne,xe,Ne,Pe){var Me;if(k==null)Ls(null,null,q,ne,xe,Ne,Pe);else for(Me=0;Me<Pe;++Me)xe[Ne+Me]=k[B+Me]+q[ne+Me]&255}function Pa(k,B,q,ne,xe,Ne,Pe){if(k==null)Ls(null,null,q,ne,xe,Ne,Pe);else{var Me,Le=k[B+0],Be=Le,nt=Le;for(Me=0;Me<Pe;++Me)Be=nt+(Le=k[B+Me])-Be,nt=q[ne+Me]+(-256&Be?0>Be?0:255:Be)&255,Be=Le,xe[Ne+Me]=nt}}function ja(k,B,q,ne){var xe=B.width,Ne=B.o;if(t(k!=null&&B!=null),0>q||0>=ne||q+ne>Ne)return null;if(!k.Cc){if(k.ga==null){var Pe;if(k.ga=new Ho,(Pe=k.ga==null)||(Pe=B.width*B.o,t(k.Gb.length==0),k.Gb=o(Pe),k.Uc=0,k.Gb==null?Pe=0:(k.mb=k.Gb,k.nb=k.Uc,k.rc=null,Pe=1),Pe=!Pe),!Pe){Pe=k.ga;var Me=k.Fa,Le=k.P,Be=k.qc,nt=k.mb,yt=k.nb,vt=Le+1,ut=Be-1,Dt=Pe.l;if(t(Me!=null&&nt!=null&&B!=null),ii[0]=null,ii[1]=Ls,ii[2]=Ac,ii[3]=Pa,Pe.ca=nt,Pe.tb=yt,Pe.c=B.width,Pe.i=B.height,t(0<Pe.c&&0<Pe.i),1>=Be)B=0;else if(Pe.$a=Me[Le+0]>>0&3,Pe.Z=Me[Le+0]>>2&3,Pe.Lc=Me[Le+0]>>4&3,Le=Me[Le+0]>>6&3,0>Pe.$a||1<Pe.$a||4<=Pe.Z||1<Pe.Lc||Le)B=0;else if(Dt.put=Rt,Dt.ac=mt,Dt.bc=Zt,Dt.ma=Pe,Dt.width=B.width,Dt.height=B.height,Dt.Da=B.Da,Dt.v=B.v,Dt.va=B.va,Dt.j=B.j,Dt.o=B.o,Pe.$a)e:{t(Pe.$a==1),B=sn();t:for(;;){if(B==null){B=0;break e}if(t(Pe!=null),Pe.mc=B,B.c=Pe.c,B.i=Pe.i,B.l=Pe.l,B.l.ma=Pe,B.l.width=Pe.c,B.l.height=Pe.i,B.a=0,W(B.m,Me,vt,ut),!xr(Pe.c,Pe.i,1,B,null)||(B.ab==1&&B.gc[0].hc==3&&mr(B.s)?(Pe.ic=1,Me=B.c*B.i,B.Ta=null,B.Ua=0,B.V=o(Me),B.Ba=0,B.V==null?(B.a=1,B=0):B=1):(Pe.ic=0,B=ln(B,Pe.c)),!B))break t;B=1;break e}Pe.mc=null,B=0}else B=ut>=Pe.c*Pe.i;Pe=!B}if(Pe)return null;k.ga.Lc!=1?k.Ga=0:ne=Ne-q}t(k.ga!=null),t(q+ne<=Ne);e:{if(B=(Me=k.ga).c,Ne=Me.l.o,Me.$a==0){if(vt=k.rc,ut=k.Vc,Dt=k.Fa,Le=k.P+1+q*B,Be=k.mb,nt=k.nb+q*B,t(Le<=k.P+k.qc),Me.Z!=0)for(t(ii[Me.Z]!=null),Pe=0;Pe<ne;++Pe)ii[Me.Z](vt,ut,Dt,Le,Be,nt,B),vt=Be,ut=nt,nt+=B,Le+=B;else for(Pe=0;Pe<ne;++Pe)r(Be,nt,Dt,Le,B),vt=Be,ut=nt,nt+=B,Le+=B;k.rc=vt,k.Vc=ut}else{if(t(Me.mc!=null),B=q+ne,t((Pe=Me.mc)!=null),t(B<=Pe.i),Pe.C>=B)B=1;else if(Me.ic||pt(),Me.ic){Me=Pe.V,vt=Pe.Ba,ut=Pe.c;var St=Pe.i,rt=(Dt=1,Le=Pe.$/ut,Be=Pe.$%ut,nt=Pe.m,yt=Pe.s,Pe.$),st=ut*St,Pt=ut*B,Ht=yt.wc,Mt=rt<Pt?or(yt,Be,Le):null;t(rt<=st),t(B<=St),t(mr(yt));t:for(;;){for(;!nt.h&&rt<Pt;){if(Be&Ht||(Mt=or(yt,Be,Le)),t(Mt!=null),ve(nt),256>(St=Or(Mt.G[0],Mt.H[0],nt)))Me[vt+rt]=St,++rt,++Be>=ut&&(Be=0,++Le<=B&&!(Le%16)&&gr(Pe,Le));else{if(!(280>St)){Dt=0;break t}St=dr(St-256,nt);var ar,Jt=Or(Mt.G[4],Mt.H[4],nt);if(ve(nt),!(rt>=(Jt=Er(ut,Jt=dr(Jt,nt)))&&st-rt>=St)){Dt=0;break t}for(ar=0;ar<St;++ar)Me[vt+rt+ar]=Me[vt+rt+ar-Jt];for(rt+=St,Be+=St;Be>=ut;)Be-=ut,++Le<=B&&!(Le%16)&&gr(Pe,Le);rt<Pt&&Be&Ht&&(Mt=or(yt,Be,Le))}t(nt.h==X(nt))}gr(Pe,Le>B?B:Le);break t}!Dt||nt.h&&rt<st?(Dt=0,Pe.a=nt.h?5:3):Pe.$=rt,B=Dt}else B=Vr(Pe,Pe.V,Pe.Ba,Pe.c,Pe.i,B,qr);if(!B){ne=0;break e}}q+ne>=Ne&&(k.Cc=1),ne=1}if(!ne)return null;if(k.Cc&&((ne=k.ga)!=null&&(ne.mc=null),k.ga=null,0<k.Ga))return alert("todo:WebPDequantizeLevels"),null}return k.nb+q*xe}function U(k,B,q,ne,xe,Ne){for(;0<xe--;){var Pe,Me=k,Le=B+(q?1:0),Be=k,nt=B+(q?0:3);for(Pe=0;Pe<ne;++Pe){var yt=Be[nt+4*Pe];yt!=255&&(yt*=32897,Me[Le+4*Pe+0]=Me[Le+4*Pe+0]*yt>>23,Me[Le+4*Pe+1]=Me[Le+4*Pe+1]*yt>>23,Me[Le+4*Pe+2]=Me[Le+4*Pe+2]*yt>>23)}B+=Ne}}function be(k,B,q,ne,xe){for(;0<ne--;){var Ne;for(Ne=0;Ne<q;++Ne){var Pe=k[B+2*Ne+0],Me=15&(Be=k[B+2*Ne+1]),Le=4369*Me,Be=(240&Be|Be>>4)*Le>>16;k[B+2*Ne+0]=(240&Pe|Pe>>4)*Le>>16&240|(15&Pe|Pe<<4)*Le>>16>>4&15,k[B+2*Ne+1]=240&Be|Me}B+=xe}}function qe(k,B,q,ne,xe,Ne,Pe,Me){var Le,Be,nt=255;for(Be=0;Be<xe;++Be){for(Le=0;Le<ne;++Le){var yt=k[B+Le];Ne[Pe+4*Le]=yt,nt&=yt}B+=q,Pe+=Me}return nt!=255}function Qe(k,B,q,ne,xe){var Ne;for(Ne=0;Ne<xe;++Ne)q[ne+Ne]=k[B+Ne]>>8}function pt(){Eo=U,Fn=be,Ln=qe,Wn=Qe}function Tt(k,B,q){A[k]=function(ne,xe,Ne,Pe,Me,Le,Be,nt,yt,vt,ut,Dt,St,rt,st,Pt,Ht){var Mt,ar=Ht-1>>1,Jt=Me[Le+0]|Be[nt+0]<<16,Tr=yt[vt+0]|ut[Dt+0]<<16;t(ne!=null);var Qt=3*Jt+Tr+131074>>2;for(B(ne[xe+0],255&Qt,Qt>>16,St,rt),Ne!=null&&(Qt=3*Tr+Jt+131074>>2,B(Ne[Pe+0],255&Qt,Qt>>16,st,Pt)),Mt=1;Mt<=ar;++Mt){var xn=Me[Le+Mt]|Be[nt+Mt]<<16,En=yt[vt+Mt]|ut[Dt+Mt]<<16,pn=Jt+xn+Tr+En+524296,en=pn+2*(xn+Tr)>>3;Qt=en+Jt>>1,Jt=(pn=pn+2*(Jt+En)>>3)+xn>>1,B(ne[xe+2*Mt-1],255&Qt,Qt>>16,St,rt+(2*Mt-1)*q),B(ne[xe+2*Mt-0],255&Jt,Jt>>16,St,rt+(2*Mt-0)*q),Ne!=null&&(Qt=pn+Tr>>1,Jt=en+En>>1,B(Ne[Pe+2*Mt-1],255&Qt,Qt>>16,st,Pt+(2*Mt-1)*q),B(Ne[Pe+2*Mt+0],255&Jt,Jt>>16,st,Pt+(2*Mt+0)*q)),Jt=xn,Tr=En}1&Ht||(Qt=3*Jt+Tr+131074>>2,B(ne[xe+Ht-1],255&Qt,Qt>>16,St,rt+(Ht-1)*q),Ne!=null&&(Qt=3*Tr+Jt+131074>>2,B(Ne[Pe+Ht-1],255&Qt,Qt>>16,st,Pt+(Ht-1)*q)))}}function $t(){Sn[jc]=mf,Sn[df]=yf,Sn[hf]=e2,Sn[zd]=F1,Sn[Wd]=B1,Sn[av]=H1,Sn[qd]=lv,Sn[pf]=yf,Sn[tc]=F1,Sn[rc]=B1,Sn[sv]=H1}function tr(k){return k&-16384?0>k?0:255:k>>cv}function hr(k,B){return tr((19077*k>>8)+(26149*B>>8)-14234)}function zr(k,B,q){return tr((19077*k>>8)-(6419*B>>8)-(13320*q>>8)+8708)}function Hr(k,B){return tr((19077*k>>8)+(33050*B>>8)-17685)}function Qr(k,B,q,ne,xe){ne[xe+0]=hr(k,q),ne[xe+1]=zr(k,B,q),ne[xe+2]=Hr(k,B)}function jn(k,B,q,ne,xe){ne[xe+0]=Hr(k,B),ne[xe+1]=zr(k,B,q),ne[xe+2]=hr(k,q)}function Un(k,B,q,ne,xe){var Ne=zr(k,B,q);B=Ne<<3&224|Hr(k,B)>>3,ne[xe+0]=248&hr(k,q)|Ne>>5,ne[xe+1]=B}function kn(k,B,q,ne,xe){var Ne=240&Hr(k,B)|15;ne[xe+0]=240&hr(k,q)|zr(k,B,q)>>4,ne[xe+1]=Ne}function Mn(k,B,q,ne,xe){ne[xe+0]=255,Qr(k,B,q,ne,xe+1)}function Vn(k,B,q,ne,xe){jn(k,B,q,ne,xe),ne[xe+3]=255}function Ji(k,B,q,ne,xe){Qr(k,B,q,ne,xe),ne[xe+3]=255}function po(k,B){return 0>k?0:k>B?B:k}function ri(k,B,q){A[k]=function(ne,xe,Ne,Pe,Me,Le,Be,nt,yt){for(var vt=nt+(-2&yt)*q;nt!=vt;)B(ne[xe+0],Ne[Pe+0],Me[Le+0],Be,nt),B(ne[xe+1],Ne[Pe+0],Me[Le+0],Be,nt+q),xe+=2,++Pe,++Le,nt+=2*q;1&yt&&B(ne[xe+0],Ne[Pe+0],Me[Le+0],Be,nt)}}function ka(k,B,q){return q==0?k==0?B==0?6:5:B==0?4:0:q}function ue(k,B,q,ne,xe){switch(k>>>30){case 3:Ds(B,q,ne,xe,0);break;case 2:ni(B,q,ne,xe);break;case 1:Co(B,q,ne,xe)}}function Ae(k,B){var q,ne,xe=B.M,Ne=B.Nb,Pe=k.oc,Me=k.pc+40,Le=k.oc,Be=k.pc+584,nt=k.oc,yt=k.pc+600;for(q=0;16>q;++q)Pe[Me+32*q-1]=129;for(q=0;8>q;++q)Le[Be+32*q-1]=129,nt[yt+32*q-1]=129;for(0<xe?Pe[Me-1-32]=Le[Be-1-32]=nt[yt-1-32]=129:(i(Pe,Me-32-1,127,21),i(Le,Be-32-1,127,9),i(nt,yt-32-1,127,9)),ne=0;ne<k.za;++ne){var vt=B.ya[B.aa+ne];if(0<ne){for(q=-1;16>q;++q)r(Pe,Me+32*q-4,Pe,Me+32*q+12,4);for(q=-1;8>q;++q)r(Le,Be+32*q-4,Le,Be+32*q+4,4),r(nt,yt+32*q-4,nt,yt+32*q+4,4)}var ut=k.Gd,Dt=k.Hd+ne,St=vt.ad,rt=vt.Hc;if(0<xe&&(r(Pe,Me-32,ut[Dt].y,0,16),r(Le,Be-32,ut[Dt].f,0,8),r(nt,yt-32,ut[Dt].ea,0,8)),vt.Za){var st=Pe,Pt=Me-32+16;for(0<xe&&(ne>=k.za-1?i(st,Pt,ut[Dt].y[15],4):r(st,Pt,ut[Dt+1].y,0,4)),q=0;4>q;q++)st[Pt+128+q]=st[Pt+256+q]=st[Pt+384+q]=st[Pt+0+q];for(q=0;16>q;++q,rt<<=2)st=Pe,Pt=Me+Uo[q],us[vt.Ob[q]](st,Pt),ue(rt,St,16*+q,st,Pt)}else if(st=ka(ne,xe,vt.Ob[0]),oc[st](Pe,Me),rt!=0)for(q=0;16>q;++q,rt<<=2)ue(rt,St,16*+q,Pe,Me+Uo[q]);for(q=vt.Gc,st=ka(ne,xe,vt.Dd),xl[st](Le,Be),xl[st](nt,yt),rt=St,st=Le,Pt=Be,255&(vt=q>>0)&&(170&vt?ff(rt,256,st,Pt):Ma(rt,256,st,Pt)),vt=nt,rt=yt,255&(q>>=8)&&(170&q?ff(St,320,vt,rt):Ma(St,320,vt,rt)),xe<k.Ub-1&&(r(ut[Dt].y,0,Pe,Me+480,16),r(ut[Dt].f,0,Le,Be+224,8),r(ut[Dt].ea,0,nt,yt+224,8)),q=8*Ne*k.B,ut=k.sa,Dt=k.ta+16*ne+16*Ne*k.R,St=k.qa,vt=k.ra+8*ne+q,rt=k.Ha,st=k.Ia+8*ne+q,q=0;16>q;++q)r(ut,Dt+q*k.R,Pe,Me+32*q,16);for(q=0;8>q;++q)r(St,vt+q*k.B,Le,Be+32*q,8),r(rt,st+q*k.B,nt,yt+32*q,8)}}function Ge(k,B,q,ne,xe,Ne,Pe,Me,Le){var Be=[0],nt=[0],yt=0,vt=Le!=null?Le.kd:0,ut=Le??new dl;if(k==null||12>q)return 7;ut.data=k,ut.w=B,ut.ha=q,B=[B],q=[q],ut.gb=[ut.gb];e:{var Dt=B,St=q,rt=ut.gb;if(t(k!=null),t(St!=null),t(rt!=null),rt[0]=0,12<=St[0]&&!e(k,Dt[0],"RIFF")){if(e(k,Dt[0]+8,"WEBP")){rt=3;break e}var st=ce(k,Dt[0]+4);if(12>st||4294967286<st){rt=3;break e}if(vt&&st>St[0]-8){rt=7;break e}rt[0]=st,Dt[0]+=12,St[0]-=12}rt=0}if(rt!=0)return rt;for(st=0<ut.gb[0],q=q[0];;){e:{var Pt=k;St=B,rt=q;var Ht=Be,Mt=nt,ar=Dt=[0];if((Qt=yt=[yt])[0]=0,8>rt[0])rt=7;else{if(!e(Pt,St[0],"VP8X")){if(ce(Pt,St[0]+4)!=10){rt=3;break e}if(18>rt[0]){rt=7;break e}var Jt=ce(Pt,St[0]+8),Tr=1+se(Pt,St[0]+12);if(2147483648<=Tr*(Pt=1+se(Pt,St[0]+15))){rt=3;break e}ar!=null&&(ar[0]=Jt),Ht!=null&&(Ht[0]=Tr),Mt!=null&&(Mt[0]=Pt),St[0]+=18,rt[0]-=18,Qt[0]=1}rt=0}}if(yt=yt[0],Dt=Dt[0],rt!=0)return rt;if(St=!!(2&Dt),!st&&yt)return 3;if(Ne!=null&&(Ne[0]=!!(16&Dt)),Pe!=null&&(Pe[0]=St),Me!=null&&(Me[0]=0),Pe=Be[0],Dt=nt[0],yt&&St&&Le==null){rt=0;break}if(4>q){rt=7;break}if(st&&yt||!st&&!yt&&!e(k,B[0],"ALPH")){q=[q],ut.na=[ut.na],ut.P=[ut.P],ut.Sa=[ut.Sa];e:{Jt=k,rt=B,st=q;var Qt=ut.gb;Ht=ut.na,Mt=ut.P,ar=ut.Sa,Tr=22,t(Jt!=null),t(st!=null),Pt=rt[0];var xn=st[0];for(t(Ht!=null),t(ar!=null),Ht[0]=null,Mt[0]=null,ar[0]=0;;){if(rt[0]=Pt,st[0]=xn,8>xn){rt=7;break e}var En=ce(Jt,Pt+4);if(4294967286<En){rt=3;break e}var pn=8+En+1&-2;if(Tr+=pn,0<Qt&&Tr>Qt){rt=3;break e}if(!e(Jt,Pt,"VP8 ")||!e(Jt,Pt,"VP8L")){rt=0;break e}if(xn[0]<pn){rt=7;break e}e(Jt,Pt,"ALPH")||(Ht[0]=Jt,Mt[0]=Pt+8,ar[0]=En),Pt+=pn,xn-=pn}}if(q=q[0],ut.na=ut.na[0],ut.P=ut.P[0],ut.Sa=ut.Sa[0],rt!=0)break}q=[q],ut.Ja=[ut.Ja],ut.xa=[ut.xa];e:if(Qt=k,rt=B,st=q,Ht=ut.gb[0],Mt=ut.Ja,ar=ut.xa,Jt=rt[0],Pt=!e(Qt,Jt,"VP8 "),Tr=!e(Qt,Jt,"VP8L"),t(Qt!=null),t(st!=null),t(Mt!=null),t(ar!=null),8>st[0])rt=7;else{if(Pt||Tr){if(Qt=ce(Qt,Jt+4),12<=Ht&&Qt>Ht-12){rt=3;break e}if(vt&&Qt>st[0]-8){rt=7;break e}Mt[0]=Qt,rt[0]+=8,st[0]-=8,ar[0]=Tr}else ar[0]=5<=st[0]&&Qt[Jt+0]==47&&!(Qt[Jt+4]>>5),Mt[0]=st[0];rt=0}if(q=q[0],ut.Ja=ut.Ja[0],ut.xa=ut.xa[0],B=B[0],rt!=0)break;if(4294967286<ut.Ja)return 3;if(Me==null||St||(Me[0]=ut.xa?2:1),Pe=[Pe],Dt=[Dt],ut.xa){if(5>q){rt=7;break}Me=Pe,vt=Dt,St=Ne,k==null||5>q?k=0:5<=q&&k[B+0]==47&&!(k[B+4]>>5)?(st=[0],Qt=[0],Ht=[0],W(Mt=new z,k,B,q),Bt(Mt,st,Qt,Ht)?(Me!=null&&(Me[0]=st[0]),vt!=null&&(vt[0]=Qt[0]),St!=null&&(St[0]=Ht[0]),k=1):k=0):k=0}else{if(10>q){rt=7;break}Me=Dt,k==null||10>q||!Nt(k,B+3,q-3)?k=0:(vt=k[B+0]|k[B+1]<<8|k[B+2]<<16,St=16383&(k[B+7]<<8|k[B+6]),k=16383&(k[B+9]<<8|k[B+8]),1&vt||3<(vt>>1&7)||!(vt>>4&1)||vt>>5>=ut.Ja||!St||!k?k=0:(Pe&&(Pe[0]=St),Me&&(Me[0]=k),k=1))}if(!k||(Pe=Pe[0],Dt=Dt[0],yt&&(Be[0]!=Pe||nt[0]!=Dt)))return 3;Le!=null&&(Le[0]=ut,Le.offset=B-Le.w,t(4294967286>B-Le.w),t(Le.offset==Le.ha-q));break}return rt==0||rt==7&&yt&&Le==null?(Ne!=null&&(Ne[0]|=ut.na!=null&&0<ut.na.length),ne!=null&&(ne[0]=Pe),xe!=null&&(xe[0]=Dt),0):rt}function Je(k,B,q){var ne=B.width,xe=B.height,Ne=0,Pe=0,Me=ne,Le=xe;if(B.Da=k!=null&&0<k.Da,B.Da&&(Me=k.cd,Le=k.bd,Ne=k.v,Pe=k.j,11>q||(Ne&=-2,Pe&=-2),0>Ne||0>Pe||0>=Me||0>=Le||Ne+Me>ne||Pe+Le>xe))return 0;if(B.v=Ne,B.j=Pe,B.va=Ne+Me,B.o=Pe+Le,B.U=Me,B.T=Le,B.da=k!=null&&0<k.da,B.da){if(!ft(Me,Le,q=[k.ib],Ne=[k.hb]))return 0;B.ib=q[0],B.hb=Ne[0]}return B.ob=k!=null&&k.ob,B.Kb=k==null||!k.Sd,B.da&&(B.ob=B.ib<3*ne/4&&B.hb<3*xe/4,B.Kb=0),1}function lt(k){if(k==null)return 2;if(11>k.S){var B=k.f.RGBA;B.fb+=(k.height-1)*B.A,B.A=-B.A}else B=k.f.kb,k=k.height,B.O+=(k-1)*B.fa,B.fa=-B.fa,B.N+=(k-1>>1)*B.Ab,B.Ab=-B.Ab,B.W+=(k-1>>1)*B.Db,B.Db=-B.Db,B.F!=null&&(B.J+=(k-1)*B.lb,B.lb=-B.lb);return 0}function at(k,B,q,ne){if(ne==null||0>=k||0>=B)return 2;if(q!=null){if(q.Da){var xe=q.cd,Ne=q.bd,Pe=-2&q.v,Me=-2&q.j;if(0>Pe||0>Me||0>=xe||0>=Ne||Pe+xe>k||Me+Ne>B)return 2;k=xe,B=Ne}if(q.da){if(!ft(k,B,xe=[q.ib],Ne=[q.hb]))return 2;k=xe[0],B=Ne[0]}}ne.width=k,ne.height=B;e:{var Le=ne.width,Be=ne.height;if(k=ne.S,0>=Le||0>=Be||!(k>=jc&&13>k))k=2;else{if(0>=ne.Rd&&ne.sd==null){Pe=Ne=xe=B=0;var nt=(Me=Le*Vo[k])*Be;if(11>k||(Ne=(Be+1)/2*(B=(Le+1)/2),k==12&&(Pe=(xe=Le)*Be)),(Be=o(nt+2*Ne+Pe))==null){k=1;break e}ne.sd=Be,11>k?((Le=ne.f.RGBA).eb=Be,Le.fb=0,Le.A=Me,Le.size=nt):((Le=ne.f.kb).y=Be,Le.O=0,Le.fa=Me,Le.Fd=nt,Le.f=Be,Le.N=0+nt,Le.Ab=B,Le.Cd=Ne,Le.ea=Be,Le.W=0+nt+Ne,Le.Db=B,Le.Ed=Ne,k==12&&(Le.F=Be,Le.J=0+nt+2*Ne),Le.Tc=Pe,Le.lb=xe)}if(B=1,xe=ne.S,Ne=ne.width,Pe=ne.height,xe>=jc&&13>xe)if(11>xe)k=ne.f.RGBA,B&=(Me=Math.abs(k.A))*(Pe-1)+Ne<=k.size,B&=Me>=Ne*Vo[xe],B&=k.eb!=null;else{k=ne.f.kb,Me=(Ne+1)/2,nt=(Pe+1)/2,Le=Math.abs(k.fa),Be=Math.abs(k.Ab);var yt=Math.abs(k.Db),vt=Math.abs(k.lb),ut=vt*(Pe-1)+Ne;B&=Le*(Pe-1)+Ne<=k.Fd,B&=Be*(nt-1)+Me<=k.Cd,B=(B&=yt*(nt-1)+Me<=k.Ed)&Le>=Ne&Be>=Me&yt>=Me,B&=k.y!=null,B&=k.f!=null,B&=k.ea!=null,xe==12&&(B&=vt>=Ne,B&=ut<=k.Tc,B&=k.F!=null)}else B=0;k=B?0:2}}return k!=0||q!=null&&q.fd&&(k=lt(ne)),k}var xt=64,Vt=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Mr=24,Ar=32,Yn=8,_n=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ce("Predictor0","PredictorAdd0"),A.Predictor0=function(){return 4278190080},A.Predictor1=function(k){return k},A.Predictor2=function(k,B,q){return B[q+0]},A.Predictor3=function(k,B,q){return B[q+1]},A.Predictor4=function(k,B,q){return B[q-1]},A.Predictor5=function(k,B,q){return Ke(Ke(k,B[q+1]),B[q+0])},A.Predictor6=function(k,B,q){return Ke(k,B[q-1])},A.Predictor7=function(k,B,q){return Ke(k,B[q+0])},A.Predictor8=function(k,B,q){return Ke(B[q-1],B[q+0])},A.Predictor9=function(k,B,q){return Ke(B[q+0],B[q+1])},A.Predictor10=function(k,B,q){return Ke(Ke(k,B[q-1]),Ke(B[q+0],B[q+1]))},A.Predictor11=function(k,B,q){var ne=B[q+0];return 0>=Ye(ne>>24&255,k>>24&255,(B=B[q-1])>>24&255)+Ye(ne>>16&255,k>>16&255,B>>16&255)+Ye(ne>>8&255,k>>8&255,B>>8&255)+Ye(255&ne,255&k,255&B)?ne:k},A.Predictor12=function(k,B,q){var ne=B[q+0];return(je((k>>24&255)+(ne>>24&255)-((B=B[q-1])>>24&255))<<24|je((k>>16&255)+(ne>>16&255)-(B>>16&255))<<16|je((k>>8&255)+(ne>>8&255)-(B>>8&255))<<8|je((255&k)+(255&ne)-(255&B)))>>>0},A.Predictor13=function(k,B,q){var ne=B[q-1];return(Ze((k=Ke(k,B[q+0]))>>24&255,ne>>24&255)<<24|Ze(k>>16&255,ne>>16&255)<<16|Ze(k>>8&255,ne>>8&255)<<8|Ze(k>>0&255,ne>>0&255))>>>0};var yu=A.PredictorAdd0;A.PredictorAdd1=bt,Ce("Predictor2","PredictorAdd2"),Ce("Predictor3","PredictorAdd3"),Ce("Predictor4","PredictorAdd4"),Ce("Predictor5","PredictorAdd5"),Ce("Predictor6","PredictorAdd6"),Ce("Predictor7","PredictorAdd7"),Ce("Predictor8","PredictorAdd8"),Ce("Predictor9","PredictorAdd9"),Ce("Predictor10","PredictorAdd10"),Ce("Predictor11","PredictorAdd11"),Ce("Predictor12","PredictorAdd12"),Ce("Predictor13","PredictorAdd13");var hl=A.PredictorAdd2;fe("ColorIndexInverseTransform","MapARGB","32b",function(k){return k>>8&255},function(k){return k}),fe("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(k){return k},function(k){return k>>8&255});var cf,vo=A.ColorIndexInverseTransform,Nc=A.MapARGB,uf=A.VP8LColorIndexInverseTransformAlpha,bu=A.MapAlpha,ss=A.VP8LPredictorsAdd=[];ss.length=16,(A.VP8LPredictors=[]).length=16,(A.VP8LPredictorsAdd_C=[]).length=16,(A.VP8LPredictors_C=[]).length=16;var Ql,Qi,zn,pl,ls,cs,Pc,Ds,ni,ff,Co,Ma,La,vl,Is,gl,ml,yl,bl,Da,ua,vi,Ia,Di,Eo,Fn,Ln,Wn,Ti=o(511),Rs=o(2041),ec=o(225),xu=o(767),wu=0,Vd=Rs,_u=ec,Oo=xu,eo=Ti,jc=0,df=1,hf=2,zd=3,Wd=4,av=5,qd=6,pf=7,tc=8,rc=9,sv=10,Gd=[2,3,7],D1=[3,3,11],Su=[280,256,256,256,40],I1=[0,1,1,1,0],kc=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],vf=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Mc=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],gf=8,nc=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Kd=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Tu=null,R1=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Xx=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],ic=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Lc=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Zx=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Jx=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Qx=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],oc=[],us=[],xl=[],$o=1,Ci=2,ii=[],Sn=[];Tt("UpsampleRgbLinePair",Qr,3),Tt("UpsampleBgrLinePair",jn,3),Tt("UpsampleRgbaLinePair",Ji,4),Tt("UpsampleBgraLinePair",Vn,4),Tt("UpsampleArgbLinePair",Mn,4),Tt("UpsampleRgba4444LinePair",kn,2),Tt("UpsampleRgb565LinePair",Un,2);var mf=A.UpsampleRgbLinePair,e2=A.UpsampleBgrLinePair,yf=A.UpsampleRgbaLinePair,F1=A.UpsampleBgraLinePair,B1=A.UpsampleArgbLinePair,H1=A.UpsampleRgba4444LinePair,lv=A.UpsampleRgb565LinePair,bf=16,Cu=1<<bf-1,xf=-227,wf=482,cv=6,uv=0,$1=o(256),fv=o(256),U1=o(256),_f=o(256),t2=o(wf-xf),Yd=o(wf-xf);ri("YuvToRgbRow",Qr,3),ri("YuvToBgrRow",jn,3),ri("YuvToRgbaRow",Ji,4),ri("YuvToBgraRow",Vn,4),ri("YuvToArgbRow",Mn,4),ri("YuvToRgba4444Row",kn,2),ri("YuvToRgb565Row",Un,2);var Uo=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Sf=[0,2,8],r2=[8,7,6,4,4,2,2,2,1,1,1,1],V1=1;this.WebPDecodeRGBA=function(k,B,q,ne,xe){var Ne=df,Pe=new fl,Me=new vr;Pe.ba=Me,Me.S=Ne,Me.width=[Me.width],Me.height=[Me.height];var Le=Me.width,Be=Me.height,nt=new Rr;if(nt==null||k==null)var yt=2;else t(nt!=null),yt=Ge(k,B,q,nt.width,nt.height,nt.Pd,nt.Qd,nt.format,null);if(yt!=0?Le=0:(Le!=null&&(Le[0]=nt.width[0]),Be!=null&&(Be[0]=nt.height[0]),Le=1),Le){Me.width=Me.width[0],Me.height=Me.height[0],ne!=null&&(ne[0]=Me.width),xe!=null&&(xe[0]=Me.height);e:{if(ne=new _e,(xe=new dl).data=k,xe.w=B,xe.ha=q,xe.kd=1,B=[0],t(xe!=null),((k=Ge(xe.data,xe.w,xe.ha,null,null,null,B,null,xe))==0||k==7)&&B[0]&&(k=4),(B=k)==0){if(t(Pe!=null),ne.data=xe.data,ne.w=xe.w+xe.offset,ne.ha=xe.ha-xe.offset,ne.put=Rt,ne.ac=mt,ne.bc=Zt,ne.ma=Pe,xe.xa){if((k=sn())==null){Pe=1;break e}if(function(vt,ut){var Dt=[0],St=[0],rt=[0];t:for(;;){if(vt==null)return 0;if(ut==null)return vt.a=2,0;if(vt.l=ut,vt.a=0,W(vt.m,ut.data,ut.w,ut.ha),!Bt(vt.m,Dt,St,rt)){vt.a=3;break t}if(vt.xb=Ci,ut.width=Dt[0],ut.height=St[0],!xr(Dt[0],St[0],1,vt,null))break t;return 1}return t(vt.a!=0),0}(k,ne)){if(ne=(B=at(ne.width,ne.height,Pe.Oa,Pe.ba))==0){t:{ne=k;r:for(;;){if(ne==null){ne=0;break t}if(t(ne.s.yc!=null),t(ne.s.Ya!=null),t(0<ne.s.Wb),t((q=ne.l)!=null),t((xe=q.ma)!=null),ne.xb!=0){if(ne.ca=xe.ba,ne.tb=xe.tb,t(ne.ca!=null),!Je(xe.Oa,q,zd)){ne.a=2;break r}if(!ln(ne,q.width)||q.da)break r;if((q.da||Ft(ne.ca.S))&&pt(),11>ne.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),ne.ca.f.kb.F!=null&&pt()),ne.Pb&&0<ne.s.ua&&ne.s.vb.X==null&&!$e(ne.s.vb,ne.s.Wa.Xa)){ne.a=1;break r}ne.xb=0}if(!Vr(ne,ne.V,ne.Ba,ne.c,ne.i,q.o,an))break r;xe.Dc=ne.Ma,ne=1;break t}t(ne.a!=0),ne=0}ne=!ne}ne&&(B=k.a)}else B=k.a}else{if((k=new ze)==null){Pe=1;break e}if(k.Fa=xe.na,k.P=xe.P,k.qc=xe.Sa,It(k,ne)){if((B=at(ne.width,ne.height,Pe.Oa,Pe.ba))==0){if(k.Aa=0,q=Pe.Oa,t((xe=k)!=null),q!=null){if(0<(Le=0>(Le=q.Md)?0:100<Le?255:255*Le/100)){for(Be=nt=0;4>Be;++Be)12>(yt=xe.pb[Be]).lc&&(yt.ia=Le*r2[0>yt.lc?0:yt.lc]>>3),nt|=yt.ia;nt&&(alert("todo:VP8InitRandom"),xe.ia=1)}xe.Ga=q.Id,100<xe.Ga?xe.Ga=100:0>xe.Ga&&(xe.Ga=0)}An(k,ne)||(B=k.a)}}else B=k.a}B==0&&Pe.Oa!=null&&Pe.Oa.fd&&(B=lt(Pe.ba))}Pe=B}Ne=Pe!=0?null:11>Ne?Me.f.RGBA.eb:Me.f.kb.y}else Ne=null;return Ne};var Vo=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(A,j){for(var R="",L=0;L<4;L++)R+=String.fromCharCode(A[j++]);return R}function u(A,j){return(A[j+0]<<0|A[j+1]<<8|A[j+2]<<16)>>>0}function f(A,j){return(A[j+0]<<0|A[j+1]<<8|A[j+2]<<16|A[j+3]<<24)>>>0}new l;var h=[0],d=[0],m=[],g=new l,x=n,b=function(A,j){var R={},L=0,M=!1,I=0,D=0;if(R.frames=[],!function(Z,X,ae,ve){for(var me=0;me<ve;me++)if(Z[X+me]!=ae.charCodeAt(me))return!0;return!1}(A,j,"RIFF",4)){for(f(A,j+=4),j+=8;j<A.length;){var V=c(A,j),F=f(A,j+=4);j+=4;var G=F+(1&F);switch(V){case"VP8 ":case"VP8L":R.frames[L]===void 0&&(R.frames[L]={}),(te=R.frames[L]).src_off=M?D:j-8,te.src_size=I+F+8,L++,M&&(M=!1,I=0,D=0);break;case"VP8X":(te=R.header={}).feature_flags=A[j];var W=j+4;te.canvas_width=1+u(A,W),W+=3,te.canvas_height=1+u(A,W),W+=3;break;case"ALPH":M=!0,I=G+8,D=j-8;break;case"ANIM":(te=R.header).bgcolor=f(A,j),W=j+4,te.loop_count=(he=A)[(z=W)+0]<<0|he[z+1]<<8,W+=2;break;case"ANMF":var Y,te;(te=R.frames[L]={}).offset_x=2*u(A,j),j+=3,te.offset_y=2*u(A,j),j+=3,te.width=1+u(A,j),j+=3,te.height=1+u(A,j),j+=3,te.duration=u(A,j),j+=3,Y=A[j++],te.dispose=1&Y,te.blend=Y>>1&1}V!="ANMF"&&(j+=G)}var he,z;return R}}(x,0);b.response=x,b.rgbaoutput=!0,b.dataurl=!1;var _=b.header?b.header:null,S=b.frames?b.frames:null;if(_){_.loop_counter=_.loop_count,h=[_.canvas_height],d=[_.canvas_width];for(var T=0;T<S.length&&S[T].blend!=0;T++);}var C=S[0],w=g.WebPDecodeRGBA(x,C.src_off,C.src_size,d,h);C.rgba=w,C.imgwidth=d[0],C.imgheight=h[0];for(var N=0;N<d[0]*h[0]*4;N++)m[N]=w[N];return this.width=d,this.height=h,this.data=m,this}(function(n){var t=function(){return typeof iw=="function"},e=function(h,d,m,g){var x=4,b=a;switch(g){case n.image_compression.FAST:x=1,b=o;break;case n.image_compression.MEDIUM:x=6,b=s;break;case n.image_compression.SLOW:x=9,b=l}h=r(h,d,m,b);var _=iw(h,{level:x});return n.__addimage__.arrayBufferToBinaryString(_)},r=function(h,d,m,g){for(var x,b,_,S=h.length/d,T=new Uint8Array(h.length+S),C=u(),w=0;w<S;w+=1){if(_=w*d,x=h.subarray(_,_+d),g)T.set(g(x,m,b),_+w);else{for(var N,A=C.length,j=[];N<A;N+=1)j[N]=C[N](x,m,b);var R=f(j.concat());T.set(j[R],_+w)}b=x}return T},i=function(h){var d=Array.apply([],h);return d.unshift(0),d},o=function(h,d){var m,g=[],x=h.length;g[0]=1;for(var b=0;b<x;b+=1)m=h[b-d]||0,g[b+1]=h[b]-m+256&255;return g},a=function(h,d,m){var g,x=[],b=h.length;x[0]=2;for(var _=0;_<b;_+=1)g=m&&m[_]||0,x[_+1]=h[_]-g+256&255;return x},s=function(h,d,m){var g,x,b=[],_=h.length;b[0]=3;for(var S=0;S<_;S+=1)g=h[S-d]||0,x=m&&m[S]||0,b[S+1]=h[S]+256-(g+x>>>1)&255;return b},l=function(h,d,m){var g,x,b,_,S=[],T=h.length;S[0]=4;for(var C=0;C<T;C+=1)g=h[C-d]||0,x=m&&m[C]||0,b=m&&m[C-d]||0,_=c(g,x,b),S[C+1]=h[C]-_+256&255;return S},c=function(h,d,m){if(h===d&&d===m)return h;var g=Math.abs(d-m),x=Math.abs(h-m),b=Math.abs(h+d-m-m);return g<=x&&g<=b?h:x<=b?d:m},u=function(){return[i,o,a,s,l]},f=function(h){var d=h.map(function(m){return m.reduce(function(g,x){return g+Math.abs(x)},0)});return d.indexOf(Math.min.apply(null,d))};n.processPNG=function(h,d,m,g){var x,b,_,S,T,C,w,N,A,j,R,L,M,I,D,V=this.decode.FLATE_DECODE,F="";if(this.__addimage__.isArrayBuffer(h)&&(h=new Uint8Array(h)),this.__addimage__.isArrayBufferView(h)){if(h=(_=new cF(h)).imgData,b=_.bits,x=_.colorSpace,T=_.colors,[4,6].indexOf(_.colorType)!==-1){if(_.bits===8){A=(N=_.pixelBitlength==32?new Uint32Array(_.decodePixels().buffer):_.pixelBitlength==16?new Uint16Array(_.decodePixels().buffer):new Uint8Array(_.decodePixels().buffer)).length,R=new Uint8Array(A*_.colors),j=new Uint8Array(A);var G,W=_.pixelBitlength-_.bits;for(I=0,D=0;I<A;I++){for(M=N[I],G=0;G<W;)R[D++]=M>>>G&255,G+=_.bits;j[I]=M>>>G&255}}if(_.bits===16){A=(N=new Uint32Array(_.decodePixels().buffer)).length,R=new Uint8Array(A*(32/_.pixelBitlength)*_.colors),j=new Uint8Array(A*(32/_.pixelBitlength)),L=_.colors>1,I=0,D=0;for(var Y=0;I<A;)M=N[I++],R[D++]=M>>>0&255,L&&(R[D++]=M>>>16&255,M=N[I++],R[D++]=M>>>0&255),j[Y++]=M>>>16&255;b=8}g!==n.image_compression.NONE&&t()?(h=e(R,_.width*_.colors,_.colors,g),w=e(j,_.width,1,g)):(h=R,w=j,V=void 0)}if(_.colorType===3&&(x=this.color_spaces.INDEXED,C=_.palette,_.transparency.indexed)){var te=_.transparency.indexed,he=0;for(I=0,A=te.length;I<A;++I)he+=te[I];if((he/=255)===A-1&&te.indexOf(0)!==-1)S=[te.indexOf(0)];else if(he!==A){for(N=_.decodePixels(),j=new Uint8Array(N.length),I=0,A=N.length;I<A;I++)j[I]=te[N[I]];w=e(j,_.width,1)}}var z=function(Z){var X;switch(Z){case n.image_compression.FAST:X=11;break;case n.image_compression.MEDIUM:X=13;break;case n.image_compression.SLOW:X=14;break;default:X=12}return X}(g);return V===this.decode.FLATE_DECODE&&(F="/Predictor "+z+" "),F+="/Colors "+T+" /BitsPerComponent "+b+" /Columns "+_.width,(this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),(w&&this.__addimage__.isArrayBuffer(w)||this.__addimage__.isArrayBufferView(w))&&(w=this.__addimage__.arrayBufferToBinaryString(w)),{alias:m,data:h,index:d,filter:V,decodeParameters:F,transparency:S,palette:C,sMask:w,predictor:z,width:_.width,height:_.height,bitsPerComponent:b,colorSpace:x}}}})(Br.API),function(n){n.processGIF89A=function(t,e,r,i){var o=new uF(t),a=o.width,s=o.height,l=[];o.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:a,height:s},u=new E2(100).encode(c,100);return n.processJPEG.call(this,u,e,r,i)},n.processGIF87A=n.processGIF89A}(Br.API),El.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var t=0;t<n;t++){var e=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:r,blue:e,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},El.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[n]()}catch(e){qn.log("bit decode error:"+e)}},El.prototype.bit1=function(){var n,t=Math.ceil(this.width/8),e=t%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++)for(var o=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*i*4,s=0;s<8&&8*i+s<this.width;s++){var l=this.palette[o>>7-s&1];this.data[a+4*s]=l.blue,this.data[a+4*s+1]=l.green,this.data[a+4*s+2]=l.red,this.data[a+4*s+3]=255}e!==0&&(this.pos+=4-e)}},El.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),t=n%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<n;i++){var o=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*i*4,s=o>>4,l=15&o,c=this.palette[s];if(this.data[a]=c.blue,this.data[a+1]=c.green,this.data[a+2]=c.red,this.data[a+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[a+4]=c.blue,this.data[a+4+1]=c.green,this.data[a+4+2]=c.red,this.data[a+4+3]=255}t!==0&&(this.pos+=4-t)}},El.prototype.bit8=function(){for(var n=this.width%4,t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;if(i<this.palette.length){var a=this.palette[i];this.data[o]=a.red,this.data[o+1]=a.green,this.data[o+2]=a.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}n!==0&&(this.pos+=4-n)}},El.prototype.bit15=function(){for(var n=this.width%3,t=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&t)/t*255|0,s=(o>>5&t)/t*255|0,l=(o>>10&t)/t*255|0,c=o>>15?255:0,u=r*this.width*4+4*i;this.data[u]=l,this.data[u+1]=s,this.data[u+2]=a,this.data[u+3]=c}this.pos+=n}},El.prototype.bit16=function(){for(var n=this.width%3,t=parseInt("11111",2),e=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&t)/t*255|0,l=(a>>5&e)/e*255|0,c=(a>>11)/t*255|0,u=i*this.width*4+4*o;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=s,this.data[u+3]=255}this.pos+=n}},El.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*e;this.data[a]=o,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},El.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*e;this.data[s]=o,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=a}},El.prototype.getData=function(){return this.data},function(n){n.processBMP=function(t,e,r,i){var o=new El(t,!1),a=o.width,s=o.height,l={data:o.getData(),width:a,height:s},c=new E2(100).encode(l,100);return n.processJPEG.call(this,c,e,r,i)}}(Br.API),WC.prototype.getData=function(){return this.data},function(n){n.processWEBP=function(t,e,r,i){var o=new WC(t),a=o.width,s=o.height,l={data:o.getData(),width:a,height:s},c=new E2(100).encode(l,100);return n.processJPEG.call(this,c,e,r,i)}}(Br.API),Br.API.processRGBA=function(n,t,e){for(var r=n.data,i=r.length,o=new Uint8Array(i/4*3),a=new Uint8Array(i/4),s=0,l=0,c=0;c<i;c+=4){var u=r[c],f=r[c+1],h=r[c+2],d=r[c+3];o[s++]=u,o[s++]=f,o[s++]=h,a[l++]=d}var m=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:m,index:t,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Br.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},sh=Br.API,lm=sh.getCharWidthsArray=function(n,t){var e,r,i=(t=t||{}).font||this.internal.getFont(),o=t.fontSize||this.internal.getFontSize(),a=t.charSpace||this.internal.getCharSpace(),s=t.widths?t.widths:i.metadata.Unicode.widths,l=s.fof?s.fof:1,c=t.kerning?t.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,f=t.doKerning!==!1,h=0,d=n.length,m=0,g=s[0]||l,x=[];for(e=0;e<d;e++)r=n.charCodeAt(e),typeof i.metadata.widthOfString=="function"?x.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+a*(1e3/o)||0)/1e3):(h=f&&vn(c[r])==="object"&&!isNaN(parseInt(c[r][m],10))?c[r][m]/u:0,x.push((s[r]||g)/l+h)),m=r;return x},$C=sh.getStringUnitWidth=function(n,t){var e=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return sh.processArabic&&(n=sh.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,e,i)/e:lm.apply(this,arguments).reduce(function(o,a){return o+a},0)},UC=function(n,t,e,r){for(var i=[],o=0,a=n.length,s=0;o!==a&&s+t[o]<e;)s+=t[o],o++;i.push(n.slice(0,o));var l=o;for(s=0;o!==a;)s+t[o]>r&&(i.push(n.slice(l,o)),s=0,l=o),s+=t[o],o++;return l!==o&&i.push(n.slice(l,o)),i},VC=function(n,t,e){e||(e={});var r,i,o,a,s,l,c,u=[],f=[u],h=e.textIndent||0,d=0,m=0,g=n.split(" "),x=lm.apply(this,[" ",e])[0];if(l=e.lineIndent===-1?g[0].length+2:e.lineIndent||0){var b=Array(l).join(" "),_=[];g.map(function(T){(T=T.split(/\s*\n/)).length>1?_=_.concat(T.map(function(C,w){return(w&&C.length?`
`:"")+C})):_.push(T[0])}),g=_,l=$C.apply(this,[b,e])}for(o=0,a=g.length;o<a;o++){var S=0;if(r=g[o],l&&r[0]==`
`&&(r=r.substr(1),S=1),h+d+(m=(i=lm.apply(this,[r,e])).reduce(function(T,C){return T+C},0))>t||S){if(m>t){for(s=UC.apply(this,[r,i,t-(h+d),t]),u.push(s.shift()),u=[s.pop()];s.length;)f.push([s.shift()]);m=i.slice(r.length-(u[0]?u[0].length:0)).reduce(function(T,C){return T+C},0)}else u=[r];f.push(u),h=m+l,d=x}else u.push(r),h+=d+m,d=x}return c=l?function(T,C){return(C?b:"")+T.join(" ")}:function(T){return T.join(" ")},f.map(c)},sh.splitTextToSize=function(n,t,e){var r,i=(e=e||{}).fontSize||this.internal.getFontSize(),o=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var f=this.internal.getFont(u.fontName,u.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,e);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var a=1*this.internal.scaleFactor*t/i;o.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/i:0,o.lineIndent=e.lineIndent;var s,l,c=[];for(s=0,l=r.length;s<l;s++)c=c.concat(VC.apply(this,[r[s],a,o]));return c},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",e={},r={},i=0;i<t.length;i++)e[t[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=t[i];var o=function(f){return"0x"+parseInt(f,10).toString(16)},a=n.__fontmetrics__.compress=function(f){var h,d,m,g,x=["{"];for(var b in f){if(h=f[b],isNaN(parseInt(b,10))?d="'"+b+"'":(b=parseInt(b,10),d=(d=o(b).slice(2)).slice(0,-1)+r[d.slice(-1)]),typeof h=="number")h<0?(m=o(h).slice(3),g="-"):(m=o(h).slice(2),g=""),m=g+m.slice(0,-1)+r[m.slice(-1)];else{if(vn(h)!=="object")throw new Error("Don't know what to do with value type "+vn(h)+".");m=a(h)}x.push(d+m)}return x.push("}"),x.join("")},s=n.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,d,m,g,x={},b=1,_=x,S=[],T="",C="",w=f.length-1,N=1;N<w;N+=1)(g=f[N])=="'"?h?(m=h.join(""),h=void 0):h=[]:h?h.push(g):g=="{"?(S.push([_,m]),_={},m=void 0):g=="}"?((d=S.pop())[0][d[1]]=_,m=void 0,_=d[0]):g=="-"?b=-1:m===void 0?e.hasOwnProperty(g)?(T+=e[g],m=parseInt(T,16)*b,b=1,T=""):T+=g:e.hasOwnProperty(g)?(C+=e[g],_[m]=parseInt(C,16)*b,b=1,m=void 0,C=""):C+=g;return x},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:s("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":s("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":s("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:s("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:s("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":s("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":s("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(f){var h=f.font,d=u.Unicode[h.postScriptName];d&&(h.metadata.Unicode={},h.metadata.Unicode.widths=d.widths,h.metadata.Unicode.kerning=d.kerning);var m=c.Unicode[h.postScriptName];m&&(h.metadata.Unicode.encoding=m,h.encoding=m.codePages[0])}])}(Br.API),function(n){var t=function(e){for(var r=e.length,i=new Uint8Array(r),o=0;o<r;o++)i[o]=e.charCodeAt(o);return i};n.API.events.push(["addFont",function(e){var r=void 0,i=e.font,o=e.instance;if(!i.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=o.existsFileInVFS(i.postScriptName)===!1?o.loadFile(i.postScriptName):o.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,s){s=/^\x00\x01\x00\x00/.test(s)?t(s):t(qv(s)),a.metadata=n.API.TTFFont.open(s),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,r)}}])}(Br),function(n){function t(){return($r.canvg?Promise.resolve($r.canvg):Z5(()=>import("./index.es-MyBatC76.js"),__vite__mapDeps([0,1,2,3,4]))).catch(function(e){return Promise.reject(new Error("Could not load canvg: "+e))}).then(function(e){return e.default?e.default:e})}Br.API.addSvgAsImage=function(e,r,i,o,a,s,l,c){if(isNaN(r)||isNaN(i))throw qn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(o)||isNaN(a))throw qn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=o,u.height=a;var f=u.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,u.width,u.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return t().then(function(m){return m.fromString(f,e,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(h)}).then(function(){d.addImage(u.toDataURL("image/jpeg",1),r,i,o,a,l,c)})}}(),Br.API.putTotalPages=function(n){var t,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(n,"g"),e=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(t,e);return this},Br.API.viewerPreferences=function(n,t){var e;n=n||{},t=t||!1;var r,i,o,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},s=Object.keys(a),l=[],c=0,u=0,f=0;function h(m,g){var x,b=!1;for(x=0;x<m.length;x+=1)m[x]===g&&(b=!0);return b}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,n==="reset"||t===!0){var d=s.length;for(f=0;f<d;f+=1)e[s[f]].value=e[s[f]].defaultValue,e[s[f]].explicitSet=!1}if(vn(n)==="object"){for(i in n)if(o=n[i],h(s,i)&&o!==void 0){if(e[i].type==="boolean"&&typeof o=="boolean")e[i].value=o;else if(e[i].type==="name"&&h(e[i].valueSet,o))e[i].value=o;else if(e[i].type==="integer"&&Number.isInteger(o))e[i].value=o;else if(e[i].type==="array"){for(c=0;c<o.length;c+=1)if(r=!0,o[c].length===1&&typeof o[c][0]=="number")l.push(String(o[c]-1));else if(o[c].length>1){for(u=0;u<o[c].length;u+=1)typeof o[c][u]!="number"&&(r=!1);r===!0&&l.push([o[c][0]-1,o[c][1]-1].join(" "))}e[i].value="["+l.join(" ")+"]"}else e[i].value=e[i].defaultValue;e[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var m,g=[];for(m in e)e[m].explicitSet===!0&&(e[m].type==="name"?g.push("/"+m+" /"+e[m].value):g.push("/"+m+" "+e[m].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},function(n){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(r)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),s=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=o.length+a.length+s.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+o+a+s+l),this.internal.write("endstream"),this.internal.write("endobj")},e=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",e),this.internal.events.subscribe("postPutResources",t)),this}}(Br.API),function(n){var t=n.API,e=t.pdfEscape16=function(o,a){for(var s,l=a.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],f=0,h=o.length;f<h;++f){if(s=a.metadata.characterToGlyph(o.charCodeAt(f)),a.metadata.glyIdsUsed.push(s),a.metadata.toUnicode[s]=o.charCodeAt(f),l.indexOf(s)==-1&&(l.push(s),l.push([parseInt(a.metadata.widthOfGlyph(s),10)])),s=="0")return u.join("");s=s.toString(16),u.push(c[4-s.length],s)}return u.join("")},r=function(o){var a,s,l,c,u,f,h;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,h=(s=Object.keys(o).sort(function(d,m){return d-m})).length;f<h;f++)a=s[f],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),o[a]!==void 0&&o[a]!==null&&typeof o[a].toString=="function"&&(c=("0000"+o[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(o){(function(a){var s=a.font,l=a.out,c=a.newObject,u=a.putStream;if(s.metadata instanceof n.API.TTFFont&&s.encoding==="Identity-H"){for(var f=s.metadata.Unicode.widths,h=s.metadata.subset.encode(s.metadata.glyIdsUsed,1),d="",m=0;m<h.length;m++)d+=String.fromCharCode(h[m]);var g=c();u({data:d,addLength1:!0,objectId:g}),l("endobj");var x=c();u({data:r(s.metadata.toUnicode),addLength1:!0,objectId:x}),l("endobj");var b=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+yh(s.fontName)),l("/FontFile2 "+g+" 0 R"),l("/FontBBox "+n.API.PDFObject.convert(s.metadata.bbox)),l("/Flags "+s.metadata.flags),l("/StemV "+s.metadata.stemV),l("/ItalicAngle "+s.metadata.italicAngle),l("/Ascent "+s.metadata.ascender),l("/Descent "+s.metadata.decender),l("/CapHeight "+s.metadata.capHeight),l(">>"),l("endobj");var _=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+yh(s.fontName)),l("/FontDescriptor "+b+" 0 R"),l("/W "+n.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+s.encoding+")"),l(">>"),l(">>"),l("endobj"),s.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+x+" 0 R"),l("/BaseFont /"+yh(s.fontName)),l("/Encoding /"+s.encoding),l("/DescendantFonts ["+_+" 0 R]"),l(">>"),l("endobj"),s.isAlreadyPutted=!0}})(o)}]),t.events.push(["putFont",function(o){(function(a){var s=a.font,l=a.out,c=a.newObject,u=a.putStream;if(s.metadata instanceof n.API.TTFFont&&s.encoding==="WinAnsiEncoding"){for(var f=s.metadata.rawData,h="",d=0;d<f.length;d++)h+=String.fromCharCode(f[d]);var m=c();u({data:h,addLength1:!0,objectId:m}),l("endobj");var g=c();u({data:r(s.metadata.toUnicode),addLength1:!0,objectId:g}),l("endobj");var x=c();l("<<"),l("/Descent "+s.metadata.decender),l("/CapHeight "+s.metadata.capHeight),l("/StemV "+s.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+m+" 0 R"),l("/Flags 96"),l("/FontBBox "+n.API.PDFObject.convert(s.metadata.bbox)),l("/FontName /"+yh(s.fontName)),l("/ItalicAngle "+s.metadata.italicAngle),l("/Ascent "+s.metadata.ascender),l(">>"),l("endobj"),s.objectNumber=c();for(var b=0;b<s.metadata.hmtx.widths.length;b++)s.metadata.hmtx.widths[b]=parseInt(s.metadata.hmtx.widths[b]*(1e3/s.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+yh(s.fontName)+"/FontDescriptor "+x+" 0 R/Encoding/"+s.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(s.metadata.hmtx.widths)+">>"),l("endobj"),s.isAlreadyPutted=!0}})(o)}]);var i=function(o){var a,s=o.text||"",l=o.x,c=o.y,u=o.options||{},f=o.mutex||{},h=f.pdfEscape,d=f.activeFontKey,m=f.fonts,g=d,x="",b=0,_="",S=m[g].encoding;if(m[g].encoding!=="Identity-H")return{text:s,x:l,y:c,options:u,mutex:f};for(_=s,g=d,Array.isArray(s)&&(_=s[0]),b=0;b<_.length;b+=1)m[g].metadata.hasOwnProperty("cmap")&&(a=m[g].metadata.cmap.unicode.codeMap[_[b].charCodeAt(0)]),a||_[b].charCodeAt(0)<256&&m[g].metadata.hasOwnProperty("Unicode")?x+=_[b]:x+="";var T="";return parseInt(g.slice(1))<14||S==="WinAnsiEncoding"?T=h(x,g).split("").map(function(C){return C.charCodeAt(0).toString(16)}).join(""):S==="Identity-H"&&(T=e(x,m[g])),f.isHex=!0,{text:T,x:l,y:c,options:u,mutex:f}};t.events.push(["postProcessText",function(o){var a=o.text||"",s=[],l={text:a,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(a)){var c=0;for(c=0;c<a.length;c+=1)Array.isArray(a[c])&&a[c].length===3?s.push([i(Object.assign({},l,{text:a[c][0]})).text,a[c][1],a[c][2]]):s.push(i(Object.assign({},l,{text:a[c]})).text);o.text=s}else o.text=i(Object.assign({},l,{text:a})).text}])}(Br),function(n){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0},n.addFileToVFS=function(e,r){return t.call(this),this.internal.vFS[e]=r,this},n.getFileFromVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0?this.internal.vFS[e]:null}}(Br.API),function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var i,o,a,s,l,c,u,f=t,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],d=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],m={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},x=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],b=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),_=!1,S=0;this.__bidiEngine__={};var T=function(L){var M=L.charCodeAt(),I=M>>8,D=g[I];return D!==void 0?f[256*D+(255&M)]:I===252||I===253?"AL":b.test(I)?"L":I===8?"R":"N"},C=function(L){for(var M,I=0;I<L.length;I++){if((M=T(L.charAt(I)))==="L")return!1;if(M==="R")return!0}return!1},w=function(L,M,I,D){var V,F,G,W,Y=M[D];switch(Y){case"L":case"R":_=!1;break;case"N":case"AN":break;case"EN":_&&(Y="AN");break;case"AL":_=!0,Y="R";break;case"WS":Y="N";break;case"CS":D<1||D+1>=M.length||(V=I[D-1])!=="EN"&&V!=="AN"||(F=M[D+1])!=="EN"&&F!=="AN"?Y="N":_&&(F="AN"),Y=F===V?F:"N";break;case"ES":Y=(V=D>0?I[D-1]:"B")==="EN"&&D+1<M.length&&M[D+1]==="EN"?"EN":"N";break;case"ET":if(D>0&&I[D-1]==="EN"){Y="EN";break}if(_){Y="N";break}for(G=D+1,W=M.length;G<W&&M[G]==="ET";)G++;Y=G<W&&M[G]==="EN"?"EN":"N";break;case"NSM":if(a&&!s){for(W=M.length,G=D+1;G<W&&M[G]==="NSM";)G++;if(G<W){var te=L[D],he=te>=1425&&te<=2303||te===64286;if(V=M[G],he&&(V==="R"||V==="AL")){Y="R";break}}}Y=D<1||(V=M[D-1])==="B"?"N":I[D-1];break;case"B":_=!1,i=!0,Y=S;break;case"S":o=!0,Y="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":_=!1;break;case"BN":Y="N"}return Y},N=function(L,M,I){var D=L.split("");return I&&A(D,I,{hiLevel:S}),D.reverse(),M&&M.reverse(),D.join("")},A=function(L,M,I){var D,V,F,G,W,Y=-1,te=L.length,he=0,z=[],Z=S?d:h,X=[];for(_=!1,i=!1,o=!1,V=0;V<te;V++)X[V]=T(L[V]);for(F=0;F<te;F++){if(W=he,z[F]=w(L,X,z,F),D=240&(he=Z[W][m[z[F]]]),he&=15,M[F]=G=Z[he][5],D>0)if(D===16){for(V=Y;V<F;V++)M[V]=1;Y=-1}else Y=-1;if(Z[he][6])Y===-1&&(Y=F);else if(Y>-1){for(V=Y;V<F;V++)M[V]=G;Y=-1}X[F]==="B"&&(M[F]=0),I.hiLevel|=G}o&&function(ae,ve,me){for(var Ee=0;Ee<me;Ee++)if(ae[Ee]==="S"){ve[Ee]=S;for(var ke=Ee-1;ke>=0&&ae[ke]==="WS";ke--)ve[ke]=S}}(X,M,te)},j=function(L,M,I,D,V){if(!(V.hiLevel<L)){if(L===1&&S===1&&!i)return M.reverse(),void(I&&I.reverse());for(var F,G,W,Y,te=M.length,he=0;he<te;){if(D[he]>=L){for(W=he+1;W<te&&D[W]>=L;)W++;for(Y=he,G=W-1;Y<G;Y++,G--)F=M[Y],M[Y]=M[G],M[G]=F,I&&(F=I[Y],I[Y]=I[G],I[G]=F);he=W}he++}}},R=function(L,M,I){var D=L.split(""),V={hiLevel:S};return I||(I=[]),A(D,I,V),function(F,G,W){if(W.hiLevel!==0&&u)for(var Y,te=0;te<F.length;te++)G[te]===1&&(Y=x.indexOf(F[te]))>=0&&(F[te]=x[Y+1])}(D,I,V),j(2,D,M,I,V),j(1,D,M,I,V),D.join("")};return this.__bidiEngine__.doBidiReorder=function(L,M,I){if(function(V,F){if(F)for(var G=0;G<V.length;G++)F[G]=G;s===void 0&&(s=C(V)),c===void 0&&(c=C(V))}(L,M),a||!l||c)if(a&&l&&s^c)S=s?1:0,L=N(L,M,I);else if(!a&&l&&c)S=s?1:0,L=R(L,M,I),L=N(L,M);else if(!a||s||l||c){if(a&&!l&&s^c)L=N(L,M),s?(S=0,L=R(L,M,I)):(S=1,L=R(L,M,I),L=N(L,M));else if(a&&s&&!l&&c)S=1,L=R(L,M,I),L=N(L,M);else if(!a&&!l&&s^c){var D=u;s?(S=1,L=R(L,M,I),S=0,u=!1,L=R(L,M,I),u=D):(S=0,L=R(L,M,I),L=N(L,M),S=1,u=!1,L=R(L,M,I),u=D,L=N(L,M))}}else S=0,L=R(L,M,I);else S=s?1:0,L=R(L,M,I);return L},this.__bidiEngine__.setOptions=function(L){L&&(a=L.isInputVisual,l=L.isOutputVisual,s=L.isInputRtl,c=L.isOutputRtl,u=L.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var o=r.options||{};r.mutex,o.lang;var a=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,e.setOptions(o),Object.prototype.toString.call(i)==="[object Array]"){var s=0;for(a=[],s=0;s<i.length;s+=1)Object.prototype.toString.call(i[s])==="[object Array]"?a.push([e.doBidiReorder(i[s][0]),i[s][1],i[s][2]]):a.push([e.doBidiReorder(i[s])]);r.text=a}else r.text=e.doBidiReorder(i);e.setOptions({isInputVisual:!0})}])}(Br),Br.API.TTFFont=function(){function n(t){var e;if(this.rawData=t,e=this.contents=new Yu(t),this.contents.pos=4,e.readString(4)==="ttcf")throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new CF(this),this.registerTTF()}return n.open=function(t){return new n(t)},n.prototype.parse=function(){return this.directory=new fF(this.contents),this.head=new hF(this),this.name=new yF(this),this.cmap=new wN(this),this.toUnicode={},this.hhea=new pF(this),this.maxp=new bF(this),this.hmtx=new xF(this),this.post=new gF(this),this.os2=new vF(this),this.loca=new TF(this),this.glyf=new wF(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var t,e,r,i,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,s,l,c;for(c=[],a=0,s=(l=this.bbox).length;a<s;a++)t=l[a],c.push(Math.round(t*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(e=i>>16)&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(t){var e;return((e=this.cmap.unicode)!=null?e.codeMap[t]:void 0)||0},n.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},n.prototype.widthOfString=function(t,e,r){var i,o,a,s;for(a=0,o=0,s=(t=""+t).length;0<=s?o<s:o>s;o=0<=s?++o:--o)i=t.charCodeAt(o),a+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/e)||0;return a*(e/1e3)},n.prototype.lineHeight=function(t,e){var r;return e==null&&(e=!1),r=e?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},n}();var Ul,Yu=function(){function n(t){this.data=t??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(t){return this.data[this.pos++]=t},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},n.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},n.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},n.prototype.readString=function(t){var e,r;for(r=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)r[e]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(t){var e,r,i;for(i=[],e=0,r=t.length;0<=r?e<r:e>r;e=0<=r?++e:--e)i.push(this.writeByte(t.charCodeAt(e)));return i},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(t){return this.writeInt16(t)},n.prototype.readLongLong=function(){var t,e,r,i,o,a,s,l;return t=this.readByte(),e=this.readByte(),r=this.readByte(),i=this.readByte(),o=this.readByte(),a=this.readByte(),s=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^o)+65536*(255^a)+256*(255^s)+(255^l)+1):72057594037927940*t+281474976710656*e+1099511627776*r+4294967296*i+16777216*o+65536*a+256*s+l},n.prototype.writeLongLong=function(t){var e,r;return e=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(t){return this.writeInt32(t)},n.prototype.read=function(t){var e,r;for(e=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)e.push(this.readByte());return e},n.prototype.write=function(t){var e,r,i,o;for(o=[],r=0,i=t.length;r<i;r++)e=t[r],o.push(this.writeByte(e));return o},n}(),fF=function(){var n;function t(e){var r,i,o;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},i=0,o=this.tableCount;0<=o?i<o:i>o;i=0<=o?++i:--i)r={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(e){var r,i,o,a,s,l,c,u,f,h,d,m,g;for(g in d=Object.keys(e).length,l=Math.log(2),f=16*Math.floor(Math.log(d)/l),a=Math.floor(f/l),u=16*d-f,(i=new Yu).writeInt(this.scalarType),i.writeShort(d),i.writeShort(f),i.writeShort(a),i.writeShort(u),o=16*d,c=i.pos+o,s=null,m=[],e)for(h=e[g],i.writeString(g),i.writeInt(n(h)),i.writeInt(c),i.writeInt(h.length),m=m.concat(h),g==="head"&&(s=c),c+=h.length;c%4;)m.push(0),c++;return i.write(m),r=2981146554-n(i.data),i.pos=s+8,i.writeUInt32(r),i.data},n=function(e){var r,i,o,a;for(e=_N.call(e);e.length%4;)e.push(0);for(o=new Yu(e),i=0,r=0,a=e.length;r<a;r=r+=4)i+=o.readUInt32();return 4294967295&i},t}(),dF={}.hasOwnProperty,Ec=function(n,t){for(var e in t)dF.call(t,e)&&(n[e]=t[e]);function r(){this.constructor=n}return r.prototype=t.prototype,n.prototype=new r,n.__super__=t.prototype,n};Ul=function(){function n(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var hF=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Ec(t,Ul),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new Yu).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t}(),qC=function(){function n(t,e){var r,i,o,a,s,l,c,u,f,h,d,m,g,x,b,_,S;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(d=t.readUInt16(),h=d/2,t.pos+=6,o=function(){var T,C;for(C=[],l=T=0;0<=h?T<h:T>h;l=0<=h?++T:--T)C.push(t.readUInt16());return C}(),t.pos+=2,g=function(){var T,C;for(C=[],l=T=0;0<=h?T<h:T>h;l=0<=h?++T:--T)C.push(t.readUInt16());return C}(),c=function(){var T,C;for(C=[],l=T=0;0<=h?T<h:T>h;l=0<=h?++T:--T)C.push(t.readUInt16());return C}(),u=function(){var T,C;for(C=[],l=T=0;0<=h?T<h:T>h;l=0<=h?++T:--T)C.push(t.readUInt16());return C}(),i=(this.length-t.pos+this.offset)/2,s=function(){var T,C;for(C=[],l=T=0;0<=i?T<i:T>i;l=0<=i?++T:--T)C.push(t.readUInt16());return C}(),l=b=0,S=o.length;b<S;l=++b)for(x=o[l],r=_=m=g[l];m<=x?_<=x:_>=x;r=m<=x?++_:--_)u[l]===0?a=r+c[l]:(a=s[u[l]/2+(r-m)-(h-l)]||0)!==0&&(a+=c[l]),this.codeMap[r]=65535&a}t.pos=f}return n.encode=function(t,e){var r,i,o,a,s,l,c,u,f,h,d,m,g,x,b,_,S,T,C,w,N,A,j,R,L,M,I,D,V,F,G,W,Y,te,he,z,Z,X,ae,ve,me,Ee,ke,He,Re,se;switch(D=new Yu,a=Object.keys(t).sort(function(ce,$e){return ce-$e}),e){case"macroman":for(g=0,x=function(){var ce=[];for(m=0;m<256;++m)ce.push(0);return ce}(),_={0:0},o={},V=0,Y=a.length;V<Y;V++)_[ke=t[i=a[V]]]==null&&(_[ke]=++g),o[i]={old:t[i],new:_[t[i]]},x[i]=_[t[i]];return D.writeUInt16(1),D.writeUInt16(0),D.writeUInt32(12),D.writeUInt16(0),D.writeUInt16(262),D.writeUInt16(0),D.write(x),{charMap:o,subtable:D.data,maxGlyphID:g+1};case"unicode":for(M=[],f=[],S=0,_={},r={},b=c=null,F=0,te=a.length;F<te;F++)_[C=t[i=a[F]]]==null&&(_[C]=++S),r[i]={old:C,new:_[C]},s=_[C]-i,b!=null&&s===c||(b&&f.push(b),M.push(i),c=s),b=i;for(b&&f.push(b),f.push(65535),M.push(65535),R=2*(j=M.length),A=2*Math.pow(Math.log(j)/Math.LN2,2),h=Math.log(A/2)/Math.LN2,N=2*j-A,l=[],w=[],d=[],m=G=0,he=M.length;G<he;m=++G){if(L=M[m],u=f[m],L===65535){l.push(0),w.push(0);break}if(L-(I=r[L].new)>=32768)for(l.push(0),w.push(2*(d.length+j-m)),i=W=L;L<=u?W<=u:W>=u;i=L<=u?++W:--W)d.push(r[i].new);else l.push(I-L),w.push(0)}for(D.writeUInt16(3),D.writeUInt16(1),D.writeUInt32(12),D.writeUInt16(4),D.writeUInt16(16+8*j+2*d.length),D.writeUInt16(0),D.writeUInt16(R),D.writeUInt16(A),D.writeUInt16(h),D.writeUInt16(N),me=0,z=f.length;me<z;me++)i=f[me],D.writeUInt16(i);for(D.writeUInt16(0),Ee=0,Z=M.length;Ee<Z;Ee++)i=M[Ee],D.writeUInt16(i);for(He=0,X=l.length;He<X;He++)s=l[He],D.writeUInt16(s);for(Re=0,ae=w.length;Re<ae;Re++)T=w[Re],D.writeUInt16(T);for(se=0,ve=d.length;se<ve;se++)g=d[se],D.writeUInt16(g);return{charMap:r,subtable:D.data,maxGlyphID:S+1}}},n}(),wN=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Ec(t,Ul),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,i,o;for(e.pos=this.offset,this.version=e.readUInt16(),o=e.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=o?i<o:i>o;i=0<=o?++i:--i)r=new qC(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var i,o;return r==null&&(r="macroman"),i=qC.encode(e,r),(o=new Yu).writeUInt16(0),o.writeUInt16(1),i.table=o.data.concat(i.subtable),i},t}(),pF=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Ec(t,Ul),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),vF=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Ec(t,Ul),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(e.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(e.readInt());return i}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(e.readInt());return i}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),gF=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Ec(t,Ul),t.prototype.tag="post",t.prototype.parse=function(e){var r,i,o;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:break;case 131072:var a;for(i=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],o=[];e.pos<this.offset+this.length;)r=e.readByte(),o.push(this.names.push(e.readString(r)));return o;case 151552:return i=e.readUInt16(),this.offsets=e.read(i);case 196608:break;case 262144:return this.map=(function(){var s,l,c;for(c=[],a=s=0,l=this.file.maxp.numGlyphs;0<=l?s<l:s>l;a=0<=l?++s:--s)c.push(e.readUInt32());return c}).call(this)}},t}(),mF=function(n,t){this.raw=n,this.length=n.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},yF=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Ec(t,Ul),t.prototype.tag="name",t.prototype.parse=function(e){var r,i,o,a,s,l,c,u,f,h,d;for(e.pos=this.offset,e.readShort(),r=e.readShort(),l=e.readShort(),i=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)i.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+l+e.readShort()});for(c={},a=f=0,h=i.length;f<h;a=++f)o=i[a],e.pos=o.offset,u=e.readString(o.length),s=new mF(u,o),c[d=o.nameID]==null&&(c[d]=[]),c[o.nameID].push(s);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t}(),bF=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Ec(t,Ul),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),xF=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Ec(t,Ul),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,i,o,a,s,l,c;for(e.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(o=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,f;for(f=[],r=u=0;0<=o?u<o:u>o;r=0<=o?++u:--u)f.push(e.readInt16());return f}(),this.widths=(function(){var u,f,h,d;for(d=[],u=0,f=(h=this.metrics).length;u<f;u++)a=h[u],d.push(a.advance);return d}).call(this),i=this.widths[this.widths.length-1],c=[],r=s=0;0<=o?s<o:s>o;r=0<=o?++s:--s)c.push(this.widths.push(i));return c},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),_N=[].slice,wF=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Ec(t,Ul),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,i,o,a,s,l,c,u,f,h;return e in this.cache?this.cache[e]:(a=this.file.loca,r=this.file.contents,i=a.indexOf(e),(o=a.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+i,s=(l=new Yu(r.read(o))).readShort(),u=l.readShort(),h=l.readShort(),c=l.readShort(),f=l.readShort(),this.cache[e]=s===-1?new SF(l,u,h,c,f):new _F(l,s,u,h,c,f),this.cache[e]))},t.prototype.encode=function(e,r,i){var o,a,s,l,c;for(s=[],a=[],l=0,c=r.length;l<c;l++)o=e[r[l]],a.push(s.length),o&&(s=s.concat(o.encode(i)));return a.push(s.length),{table:s,offsets:a}},t}(),_F=function(){function n(t,e,r,i,o,a){this.raw=t,this.numberOfContours=e,this.xMin=r,this.yMin=i,this.xMax=o,this.yMax=a,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),SF=function(){function n(t,e,r,i,o){var a,s;for(this.raw=t,this.xMin=e,this.yMin=r,this.xMax=i,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;s=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&s;)a.pos+=1&s?4:2,128&s?a.pos+=8:64&s?a.pos+=4:8&s&&(a.pos+=2)}return n.prototype.encode=function(){var t,e,r;for(e=new Yu(_N.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)e.pos=this.glyphOffsets[t];return e.data},n}(),TF=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Ec(t,Ul),t.prototype.tag="loca",t.prototype.parse=function(e){var r,i;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var o,a;for(a=[],i=0,o=this.length;i<o;i+=2)a.push(2*e.readUInt16());return a}).call(this):(function(){var o,a;for(a=[],i=0,o=this.length;i<o;i+=4)a.push(e.readUInt32());return a}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var i=new Uint32Array(this.offsets.length),o=0,a=0,s=0;s<i.length;++s)if(i[s]=o,a<r.length&&r[a]==s){++a,i[s]=o;var l=this.offsets[s],c=this.offsets[s+1]-l;c>0&&(o+=c)}for(var u=new Array(4*i.length),f=0;f<i.length;++f)u[4*f+3]=255&i[f],u[4*f+2]=(65280&i[f])>>8,u[4*f+1]=(16711680&i[f])>>16,u[4*f]=(4278190080&i[f])>>24;return u},t}(),CF=function(){function n(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var t,e,r,i,o;for(e in i=this.font.cmap.tables[0].codeMap,t={},o=this.subset)r=o[e],t[e]=i[r];return t},n.prototype.glyphsFor=function(t){var e,r,i,o,a,s,l;for(i={},a=0,s=t.length;a<s;a++)i[o=t[a]]=this.font.glyf.glyphFor(o);for(o in e=[],i)(r=i[o])!=null&&r.compound&&e.push.apply(e,r.glyphIDs);if(e.length>0)for(o in l=this.glyphsFor(e))r=l[o],i[o]=r;return i},n.prototype.encode=function(t,e){var r,i,o,a,s,l,c,u,f,h,d,m,g,x,b;for(i in r=wN.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(t),d={0:0},b=r.charMap)d[(l=b[i]).old]=l.new;for(m in h=r.maxGlyphID,a)m in d||(d[m]=h++);return u=function(_){var S,T;for(S in T={},_)T[_[S]]=S;return T}(d),f=Object.keys(u).sort(function(_,S){return _-S}),g=function(){var _,S,T;for(T=[],_=0,S=f.length;_<S;_++)s=f[_],T.push(u[s]);return T}(),o=this.font.glyf.encode(a,g,d),c=this.font.loca.encode(o.offsets,g),x={cmap:this.font.cmap.raw(),glyf:o.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(x["OS/2"]=this.font.os2.raw()),this.font.directory.encode(x)},n}();Br.API.PDFObject=function(){var n;function t(){}return n=function(e,r){return(Array(r+1).join("0")+e).slice(-r)},t.convert=function(e){var r,i,o,a;if(Array.isArray(e))return"["+function(){var s,l,c;for(c=[],s=0,l=e.length;s<l;s++)r=e[s],c.push(t.convert(r));return c}().join(" ")+"]";if(typeof e=="string")return"/"+e;if(e!=null&&e.isString)return"("+e+")";if(e instanceof Date)return"(D:"+n(e.getUTCFullYear(),4)+n(e.getUTCMonth(),2)+n(e.getUTCDate(),2)+n(e.getUTCHours(),2)+n(e.getUTCMinutes(),2)+n(e.getUTCSeconds(),2)+"Z)";if({}.toString.call(e)==="[object Object]"){for(i in o=["<<"],e)a=e[i],o.push("/"+i+" "+t.convert(a));return o.push(">>"),o.join(`
`)}return""+e},t}();const GC="https://api.ptoconnect.com";function EF(){const[n,t]=ye.useState({title:"",description:"",event_date:"",start_time:"",end_time:"",location:"",school_level:"elementary",category:"",visibility:"public",estimated_budget:"",share_public:!1}),[e,r]=ye.useState(""),[i,o]=ye.useState(""),[a,s]=ye.useState(!1),[l,c]=ye.useState({type:"",season:"",audience:"",theme:"",goal:""}),[u,f]=ye.useState(""),h=_=>{const{name:S,value:T,type:C,checked:w}=_.target;t(N=>({...N,[S]:C==="checkbox"?w:T}))},d=async _=>{_.preventDefault(),r(""),o("");const{data:{session:S},error:T}=await jr.auth.getSession();if(T||!(S!=null&&S.access_token)){o("Authentication error. Please log in again.");return}try{const C=await fetch(`${GC}/api/events`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${S.access_token}`},body:JSON.stringify(n)}),w=await C.json();if(!C.ok){o(w.error||"Failed to create event");return}r("Event created successfully!"),t({title:"",description:"",event_date:"",start_time:"",end_time:"",location:"",school_level:"elementary",category:"",visibility:"public",estimated_budget:"",share_public:!1})}catch(C){o("Failed to connect to server."),console.error("Submit error:",C)}},m=_=>{const{name:S,value:T}=_.target;c(C=>({...C,[S]:T}))},g=async()=>{f("Generating...");try{const{data:_}=await Dl.post(`${GC}/api/ai/generate-event`,l);f(_.result)}catch{f("AI generation failed.")}},x=()=>{try{const _=JSON.parse(u);t(S=>({...S,title:_.title||"",description:_.description||"",event_date:_.event_date||"",category:_.category||"",school_level:_.school_level||"",location:_.location||"",estimated_budget:_.estimated_budget||""}))}catch(_){alert("Failed to parse AI response. Please review the output and enter manually."),console.error("Parse error:",_)}},b=()=>{try{const _=JSON.parse(u),S=new Br;S.setFontSize(14),S.text(_.title||"Event Summary",10,20),S.setFontSize(10),S.text(`Date: ${_.event_date||"TBD"}`,10,30),S.text(`Category: ${_.category||"N/A"}`,10,36),S.text(`School Level: ${_.school_level||"N/A"}`,10,42),S.setFontSize(12),S.text("Description:",10,52),S.setFontSize(10),S.text(S.splitTextToSize(_.description||"",180),10,58),S.setFontSize(12),S.text("Planning Tasks:",10,100),(_.tasks||[]).forEach((C,w)=>{S.text(`- ${C}`,10,106+w*6)}),S.save(`${_.title||"event-summary"}.pdf`)}catch(_){alert("Unable to print. Please check that the AI returned a valid result."),console.error("Print error:",_)}};return y.jsxs("div",{className:"max-w-2xl mx-auto p-6 space-y-6",children:[y.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Create New Event"}),y.jsxs("form",{onSubmit:d,className:"space-y-4",children:[y.jsx("input",{name:"title",value:n.title,onChange:h,placeholder:"Event Title",className:"w-full border p-2",required:!0}),y.jsx("textarea",{name:"description",value:n.description,onChange:h,placeholder:"Description",className:"w-full border p-2"}),y.jsx("input",{type:"date",name:"event_date",value:n.event_date,onChange:h,className:"w-full border p-2",required:!0}),y.jsx("input",{type:"time",name:"start_time",value:n.start_time,onChange:h,className:"w-full border p-2"}),y.jsx("input",{type:"time",name:"end_time",value:n.end_time,onChange:h,className:"w-full border p-2"}),y.jsx("input",{name:"location",value:n.location,onChange:h,placeholder:"Location",className:"w-full border p-2"}),y.jsxs("select",{name:"school_level",value:n.school_level,onChange:h,className:"w-full border p-2",children:[y.jsx("option",{value:"elementary",children:"Elementary"}),y.jsx("option",{value:"upper_elementary",children:"Upper Elementary"}),y.jsx("option",{value:"middle",children:"Middle"}),y.jsx("option",{value:"junior_high",children:"Junior High"}),y.jsx("option",{value:"high",children:"High School"})]}),y.jsx("input",{name:"category",value:n.category,onChange:h,placeholder:"Category (e.g., Fundraiser)",className:"w-full border p-2"}),y.jsx("input",{name:"estimated_budget",value:n.estimated_budget,onChange:h,placeholder:"Estimated Budget",className:"w-full border p-2"}),y.jsxs("select",{name:"visibility",value:n.visibility,onChange:h,className:"w-full border p-2",children:[y.jsx("option",{value:"public",children:"Public"}),y.jsx("option",{value:"private",children:"Private"})]}),y.jsxs("label",{className:"flex items-center space-x-2",children:[y.jsx("input",{type:"checkbox",name:"share_public",checked:n.share_public,onChange:h}),y.jsx("span",{children:"Share this event to the PTO Connect Idea Library"})]}),y.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded",type:"submit",children:"Create Event"}),e&&y.jsx("p",{className:"text-green-600",children:e}),i&&y.jsx("p",{className:"text-red-600",children:i})]}),y.jsxs("div",{className:"border-t pt-6",children:[y.jsx("button",{onClick:()=>s(!a),className:"text-blue-600 underline",children:a?"Hide AI Event Assistant":"Use AI Event Assistant"}),a&&y.jsxs("div",{className:"mt-4 space-y-3",children:[y.jsx("h2",{className:"text-xl font-semibold",children:"AI Event Assistant"}),y.jsx("input",{type:"text",name:"type",placeholder:"Event Type",value:l.type,onChange:m,className:"w-full border p-2"}),y.jsx("input",{type:"text",name:"season",placeholder:"Season or Month",value:l.season,onChange:m,className:"w-full border p-2"}),y.jsx("input",{type:"text",name:"audience",placeholder:"Audience (e.g. families, teachers)",value:l.audience,onChange:m,className:"w-full border p-2"}),y.jsx("input",{type:"text",name:"theme",placeholder:"Theme (e.g. fall festival)",value:l.theme,onChange:m,className:"w-full border p-2"}),y.jsx("input",{type:"text",name:"goal",placeholder:"Goal (e.g. raise funds for library)",value:l.goal,onChange:m,className:"w-full border p-2"}),y.jsx("button",{onClick:g,className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",children:"Generate Event Idea"}),u&&y.jsxs("div",{className:"border p-4 mt-4 bg-gray-50 rounded",children:[y.jsx("pre",{className:"whitespace-pre-wrap text-sm",children:u}),y.jsxs("div",{className:"flex gap-2 mt-2",children:[y.jsx("button",{onClick:x,className:"bg-blue-500 text-white px-3 py-1 rounded hover:bg-blue-600",children:"Use This Event"}),y.jsx("button",{onClick:b,className:"bg-gray-600 text-white px-3 py-1 rounded hover:bg-gray-700",children:"Print Summary"})]})]})]})]})]})}function OF(){const[n,t]=ye.useState(null),[e,r]=ye.useState(""),i=Oa(),{id:o}=m1();ye.useEffect(()=>{async function l(){const{data:c,error:u}=await jr.from("events").select("*").eq("id",o).single();u?(r("Failed to load event."),console.error(u)):t(c)}l()},[o]);const a=l=>{const{name:c,value:u,type:f,checked:h}=l.target;t(d=>({...d,[c]:f==="checkbox"?h:u}))},s=async l=>{l.preventDefault();const{error:c}=await jr.from("events").update({title:n.title,event_date:n.event_date,category:n.category,school_level:n.school_level,share_public:n.share_public}).eq("id",o);c?(r("Update failed."),console.error(c)):i("/events")};return n?y.jsxs("div",{className:"max-w-xl mx-auto mt-8 p-6 bg-white shadow rounded",children:[y.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Edit Event"}),e&&y.jsx("p",{className:"text-red-500 mb-2",children:e}),y.jsxs("form",{onSubmit:s,className:"space-y-4",children:[y.jsx("input",{type:"text",name:"title",value:n.title,onChange:a,className:"w-full border p-2 rounded",required:!0}),y.jsx("input",{type:"date",name:"event_date",value:n.event_date,onChange:a,className:"w-full border p-2 rounded",required:!0}),y.jsxs("select",{name:"category",value:n.category,onChange:a,className:"w-full border p-2 rounded",required:!0,children:[y.jsx("option",{value:"Fundraiser",children:"Fundraiser"}),y.jsx("option",{value:"Meeting",children:"Meeting"}),y.jsx("option",{value:"Celebration",children:"Celebration"}),y.jsx("option",{value:"Other",children:"Other"})]}),y.jsxs("select",{name:"school_level",value:n.school_level,onChange:a,className:"w-full border p-2 rounded",required:!0,children:[y.jsx("option",{value:"Elementary",children:"Elementary"}),y.jsx("option",{value:"Middle",children:"Middle"}),y.jsx("option",{value:"High",children:"High"})]}),y.jsxs("label",{className:"flex items-center space-x-2",children:[y.jsx("input",{type:"checkbox",name:"share_public",checked:n.share_public,onChange:a}),y.jsx("span",{children:"Share Publicly"})]}),y.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700",children:"Save Changes"})]})]}):y.jsx("p",{className:"p-4",children:"Loading event..."})}function AF(n,t){if(vn(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(vn(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function SN(n){var t=AF(n,"string");return vn(t)=="symbol"?t:t+""}function Gf(n,t,e){return(t=SN(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function KC(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function Gn(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?KC(Object(e),!0).forEach(function(r){Gf(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):KC(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function Nb(n,t){if(n==null)return{};var e={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(t.indexOf(r)!==-1)continue;e[r]=n[r]}return e}function _c(n,t){if(n==null)return{};var e,r,i=Nb(n,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)e=o[r],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(i[e]=n[e])}return i}function co(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function YC(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,SN(r.key),r)}}function uo(n,t,e){return t&&YC(n.prototype,t),e&&YC(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function s0(n){return s0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},s0(n)}function TN(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TN=function(){return!!n})()}function NF(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function PF(n,t){if(t&&(vn(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NF(n)}function ra(n,t,e){return t=s0(t),PF(n,TN()?Reflect.construct(t,e||[],s0(n).constructor):t.apply(n,e))}function l0(n,t){return l0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},l0(n,t)}function na(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&l0(n,t)}function CN(n){if(Array.isArray(n))return n}function jF(n,t){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(e=e.call(n)).next,t!==0)for(;!(l=(r=o.call(e)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&e.return!=null&&(a=e.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function fw(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=Array(t);e<t;e++)r[e]=n[e];return r}function qS(n,t){if(n){if(typeof n=="string")return fw(n,t);var e={}.toString.call(n).slice(8,-1);return e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set"?Array.from(n):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?fw(n,t):void 0}}function EN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vd(n,t){return CN(n)||jF(n,t)||qS(n,t)||EN()}function ON(n){var t,e,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n))for(t=0;t<n.length;t++)n[t]&&(e=ON(n[t]))&&(r&&(r+=" "),r+=e);else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function ki(){for(var n,t,e=0,r="";e<arguments.length;)(n=arguments[e++])&&(t=ON(n))&&(r&&(r+=" "),r+=t);return r}function Pi(){return Pi=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)({}).hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Pi.apply(null,arguments)}var kF=function(n,t,e,r,i,o,a,s){if(!n){var l;if(t===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[e,r,i,o,a,s],u=0;l=new Error(t.replace(/%s/g,function(){return c[u++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}},MF=kF;const gg=hn(MF);var LF=function(){};function DF(n,t){var e={};return Object.keys(n).forEach(function(r){e[zm(r)]=LF}),e}function XC(n,t){return n[t]!==void 0}function zm(n){return"default"+n.charAt(0).toUpperCase()+n.substr(1)}function IF(n){return!!n&&(typeof n!="function"||n.prototype&&n.prototype.isReactComponent)}function RF(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n,l0(n,t)}function AN(){var n=this.constructor.getDerivedStateFromProps(this.props,this.state);n!=null&&this.setState(n)}function NN(n){function t(e){var r=this.constructor.getDerivedStateFromProps(n,e);return r??null}this.setState(t.bind(this))}function PN(n,t){try{var e=this.props,r=this.state;this.props=n,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(e,r)}finally{this.props=e,this.state=r}}AN.__suppressDeprecationWarning=!0;NN.__suppressDeprecationWarning=!0;PN.__suppressDeprecationWarning=!0;function FF(n){var t=n.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof n.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return n;var e=null,r=null,i=null;if(typeof t.componentWillMount=="function"?e="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(e="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?i="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),e!==null||r!==null||i!==null){var o=n.displayName||n.name,a=typeof n.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+o+" uses "+a+" but also contains the following legacy lifecycles:"+(e!==null?`
  `+e:"")+(r!==null?`
  `+r:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof n.getDerivedStateFromProps=="function"&&(t.componentWillMount=AN,t.componentWillReceiveProps=NN),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=PN;var s=t.componentDidUpdate;t.componentDidUpdate=function(c,u,f){var h=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:f;s.call(this,c,u,h)}}return n}var BF="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function jN(n,t,e){e===void 0&&(e=[]);var r=n.displayName||n.name||"Component",i=IF(n),o=Object.keys(t),a=o.map(zm);i||!e.length||gg(!1);var s=function(c){RF(u,c);function u(){for(var h,d=arguments.length,m=new Array(d),g=0;g<d;g++)m[g]=arguments[g];h=c.call.apply(c,[this].concat(m))||this,h.handlers=Object.create(null),o.forEach(function(b){var _=t[b],S=function(C){if(h.props[_]){var w;h._notifying=!0;for(var N=arguments.length,A=new Array(N>1?N-1:0),j=1;j<N;j++)A[j-1]=arguments[j];(w=h.props)[_].apply(w,[C].concat(A)),h._notifying=!1}h.unmounted||h.setState(function(R){var L,M=R.values;return{values:Pi(Object.create(null),M,(L={},L[b]=C,L))}})};h.handlers[_]=S}),e.length&&(h.attachRef=function(b){h.inner=b});var x=Object.create(null);return o.forEach(function(b){x[b]=h.props[zm(b)]}),h.state={values:x,prevProps:{}},h}var f=u.prototype;return f.shouldComponentUpdate=function(){return!this._notifying},u.getDerivedStateFromProps=function(d,m){var g=m.values,x=m.prevProps,b={values:Pi(Object.create(null),g),prevProps:{}};return o.forEach(function(_){b.prevProps[_]=d[_],!XC(d,_)&&XC(x,_)&&(b.values[_]=d[zm(_)])}),b},f.componentWillUnmount=function(){this.unmounted=!0},f.render=function(){var d=this,m=this.props,g=m.innerRef,x=Nb(m,["innerRef"]);a.forEach(function(_){delete x[_]});var b={};return o.forEach(function(_){var S=d.props[_];b[_]=S!==void 0?S:d.state.values[_]}),Se.createElement(n,Pi({},x,b,this.handlers,{ref:g||this.attachRef}))},u}(Se.Component);FF(s),s.displayName="Uncontrolled("+r+")",s.propTypes=Pi({innerRef:function(){}},DF(t)),e.forEach(function(c){s.prototype[c]=function(){var f;return(f=this.inner)[c].apply(f,arguments)}});var l=s;return Se.forwardRef&&(l=Se.forwardRef(function(c,u){return Se.createElement(s,Pi({},c,{innerRef:u,__source:{fileName:BF,lineNumber:128},__self:this}))}),l.propTypes=s.propTypes),l.ControlledComponent=n,l.deferControlTo=function(c,u,f){return u===void 0&&(u={}),jN(c,Pi({},t,u),f)},l}var c0="milliseconds",mg="seconds",yg="minutes",bg="hours",gd="day",tp="week",xg="month",md="year",yd="decade",bd="century",kN={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:60*60*1e3,day:24*60*60*1e3,week:7*24*60*60*1e3},HF={month:1,year:12,decade:10*12,century:100*12};function $F(n){return[31,UF(n),31,30,31,30,31,31,30,31,30,31]}function UF(n){return n%4===0&&n%100!==0||n%400===0?29:28}function Hl(n,t,e){switch(n=new Date(n),e){case c0:case mg:case yg:case bg:case gd:case tp:return VF(n,t*kN[e]);case xg:case md:case yd:case bd:return zF(n,t*HF[e])}throw new TypeError('Invalid units: "'+e+'"')}function VF(n,t){var e=new Date(+n+t);return WF(n,e)}function zF(n,t){var e=n.getFullYear(),r=n.getMonth(),i=n.getDate(),o=e*12+r+t,a=Math.trunc(o/12),s=o%12,l=Math.min(i,$F(a)[s]),c=new Date(n);return c.setFullYear(a),c.setDate(1),c.setMonth(s),c.setDate(l),c}function WF(n,t){var e=n.getTimezoneOffset(),r=t.getTimezoneOffset(),i=r-e;return new Date(+t+i*kN.minutes)}function wg(n,t,e){return Hl(n,-t,e)}function Do(n,t,e){switch(n=new Date(n),t){case bd:case yd:case md:n=f0(n,0);case xg:n=RN(n,1);case tp:case gd:n=Tg(n,0);case bg:n=rp(n,0);case yg:n=Sg(n,0);case mg:n=_g(n,0)}return t===yd&&(n=wg(n,xd(n)%10,"year")),t===bd&&(n=wg(n,xd(n)%100,"year")),t===tp&&(n=FN(n,0,e)),n}function u0(n,t,e){switch(n=new Date(n),n=Do(n,t,e),t){case bd:case yd:case md:case xg:case tp:n=Hl(n,1,t),n=wg(n,1,gd),n.setHours(23,59,59,999);break;case gd:n.setHours(23,59,59,999);break;case bg:case yg:case mg:n=Hl(n,1,t),n=wg(n,1,c0)}return n}var Dp=Rp(function(n,t){return n===t}),GS=Rp(function(n,t){return n!==t}),Pb=Rp(function(n,t){return n>t}),b1=Rp(function(n,t){return n>=t}),KS=Rp(function(n,t){return n<t}),Ip=Rp(function(n,t){return n<=t});function MN(){return new Date(Math.min.apply(Math,arguments))}function LN(){return new Date(Math.max.apply(Math,arguments))}function DN(n,t,e,r){return r=r||"day",(!t||b1(n,t,r))&&(!e||Ip(n,e,r))}var _g=rf("Milliseconds"),Sg=rf("Seconds"),rp=rf("Minutes"),Tg=rf("Hours"),IN=rf("Day"),RN=rf("Date"),f0=rf("Month"),xd=rf("FullYear");function qF(n,t){return t===void 0?xd(Do(n,yd)):Hl(n,t+10,md)}function GF(n,t){return t===void 0?xd(Do(n,bd)):Hl(n,t+100,md)}function FN(n,t,e){var r=(IN(n)+7-(e||0))%7;return t===void 0?r:Hl(n,t-r,gd)}function KF(n,t,e,r){var i,o,a;switch(e){case c0:case mg:case yg:case bg:case gd:case tp:i=t.getTime()-n.getTime();break;case xg:case md:case yd:case bd:i=(xd(t)-xd(n))*12+f0(t)-f0(n);break;default:throw new TypeError('Invalid units: "'+e+'"')}switch(e){case c0:o=1;break;case mg:o=1e3;break;case yg:o=1e3*60;break;case bg:o=1e3*60*60;break;case gd:o=1e3*60*60*24;break;case tp:o=1e3*60*60*24*7;break;case xg:o=1;break;case md:o=12;break;case yd:o=120;break;case bd:o=1200;break;default:throw new TypeError('Invalid units: "'+e+'"')}return a=i/o,r?a:Math.round(a)}function rf(n){var t=function(e){switch(e){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(n);return function(e,r){if(r===void 0)return e["get"+n]();var i=new Date(e);return i["set"+n](r),t&&i["get"+n]()!=r&&(n==="Hours"||r>=t&&i.getHours()-e.getHours()<Math.floor(r/t))&&i["set"+n](r+t),i}}function Rp(n){return function(t,e,r){return n(+Do(t,r),+Do(e,r))}}const ZC=Object.freeze(Object.defineProperty({__proto__:null,add:Hl,century:GF,date:RN,day:IN,decade:qF,diff:KF,endOf:u0,eq:Dp,gt:Pb,gte:b1,hours:Tg,inRange:DN,lt:KS,lte:Ip,max:LN,milliseconds:_g,min:MN,minutes:rp,month:f0,neq:GS,seconds:Sg,startOf:Do,subtract:wg,weekday:FN,year:xd},Symbol.toStringTag,{value:"Module"}));function YF(n){if(Array.isArray(n))return fw(n)}function BN(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function XF(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wm(n){return YF(n)||BN(n)||qS(n)||XF()}function ZF(n,t,e){var r=-1,i=n.length;t<0&&(t=-t>i?0:i+t),e=e>i?i:e,e<0&&(e+=i),i=t>e?0:e-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=n[r+t];return o}var YS=ZF;function JF(n,t){return n===t||n!==n&&t!==t}var x1=JF,QF=typeof Ga=="object"&&Ga&&Ga.Object===Object&&Ga,HN=QF,eB=HN,tB=typeof self=="object"&&self&&self.Object===Object&&self,rB=eB||tB||Function("return this")(),Vl=rB,nB=Vl,iB=nB.Symbol,Fp=iB,JC=Fp,$N=Object.prototype,oB=$N.hasOwnProperty,aB=$N.toString,wv=JC?JC.toStringTag:void 0;function sB(n){var t=oB.call(n,wv),e=n[wv];try{n[wv]=void 0;var r=!0}catch{}var i=aB.call(n);return r&&(t?n[wv]=e:delete n[wv]),i}var lB=sB,cB=Object.prototype,uB=cB.toString;function fB(n){return uB.call(n)}var dB=fB,QC=Fp,hB=lB,pB=dB,vB="[object Null]",gB="[object Undefined]",e9=QC?QC.toStringTag:void 0;function mB(n){return n==null?n===void 0?gB:vB:e9&&e9 in Object(n)?hB(n):pB(n)}var pu=mB;function yB(n){var t=typeof n;return n!=null&&(t=="object"||t=="function")}var ol=yB;const Bp=hn(ol);var bB=pu,xB=ol,wB="[object AsyncFunction]",_B="[object Function]",SB="[object GeneratorFunction]",TB="[object Proxy]";function CB(n){if(!xB(n))return!1;var t=bB(n);return t==_B||t==SB||t==wB||t==TB}var jb=CB;const Ur=hn(jb);var EB=9007199254740991;function OB(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=EB}var XS=OB,AB=jb,NB=XS;function PB(n){return n!=null&&NB(n.length)&&!AB(n)}var Hp=PB,jB=9007199254740991,kB=/^(?:0|[1-9]\d*)$/;function MB(n,t){var e=typeof n;return t=t??jB,!!t&&(e=="number"||e!="symbol"&&kB.test(n))&&n>-1&&n%1==0&&n<t}var ZS=MB,LB=x1,DB=Hp,IB=ZS,RB=ol;function FB(n,t,e){if(!RB(e))return!1;var r=typeof t;return(r=="number"?DB(e)&&IB(t,e.length):r=="string"&&t in e)?LB(e[t],n):!1}var $p=FB,BB=/\s/;function HB(n){for(var t=n.length;t--&&BB.test(n.charAt(t)););return t}var $B=HB,UB=$B,VB=/^\s+/;function zB(n){return n&&n.slice(0,UB(n)+1).replace(VB,"")}var WB=zB;function qB(n){return n!=null&&typeof n=="object"}var zl=qB,GB=pu,KB=zl,YB="[object Symbol]";function XB(n){return typeof n=="symbol"||KB(n)&&GB(n)==YB}var Up=XB,ZB=WB,t9=ol,JB=Up,r9=NaN,QB=/^[-+]0x[0-9a-f]+$/i,eH=/^0b[01]+$/i,tH=/^0o[0-7]+$/i,rH=parseInt;function nH(n){if(typeof n=="number")return n;if(JB(n))return r9;if(t9(n)){var t=typeof n.valueOf=="function"?n.valueOf():n;n=t9(t)?t+"":t}if(typeof n!="string")return n===0?n:+n;n=ZB(n);var e=eH.test(n);return e||tH.test(n)?rH(n.slice(2),e?2:8):QB.test(n)?r9:+n}var UN=nH,iH=UN,n9=1/0,oH=17976931348623157e292;function aH(n){if(!n)return n===0?n:0;if(n=iH(n),n===n9||n===-n9){var t=n<0?-1:1;return t*oH}return n===n?n:0}var VN=aH,sH=VN;function lH(n){var t=sH(n),e=t%1;return t===t?e?t-e:t:0}var zN=lH,cH=YS,uH=$p,fH=zN,dH=Math.ceil,hH=Math.max;function pH(n,t,e){(e?uH(n,t,e):t===void 0)?t=1:t=hH(fH(t),0);var r=n==null?0:n.length;if(!r||t<1)return[];for(var i=0,o=0,a=Array(dH(r/t));i<r;)a[o++]=cH(n,i,i+=t);return a}var vH=pH;const gH=hn(vH);function w1(n){return n&&n.ownerDocument||document}function mH(n){var t=w1(n);return t&&t.defaultView||window}function yH(n,t){return mH(n).getComputedStyle(n,t)}var bH=/([A-Z])/g;function xH(n){return n.replace(bH,"-$1").toLowerCase()}var wH=/^ms-/;function cm(n){return xH(n).replace(wH,"-ms-")}var _H=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function SH(n){return!!(n&&_H.test(n))}function bh(n,t){var e="",r="";if(typeof t=="string")return n.style.getPropertyValue(cm(t))||yH(n).getPropertyValue(cm(t));Object.keys(t).forEach(function(i){var o=t[i];!o&&o!==0?n.style.removeProperty(cm(i)):SH(i)?r+=i+"("+o+") ":e+=cm(i)+": "+o+";"}),r&&(e+="transform: "+r+";"),n.style.cssText+=";"+e}function Cg(n,t){if(n.contains)return n.contains(t);if(n.compareDocumentPosition)return n===t||!!(n.compareDocumentPosition(t)&16)}function TH(n){return"nodeType"in n&&n.nodeType===document.DOCUMENT_NODE}function JS(n){return"window"in n&&n.window===n?n:TH(n)&&n.defaultView||!1}function WN(n){var t=n==="pageXOffset"?"scrollLeft":"scrollTop";function e(r,i){var o=JS(r);if(i===void 0)return o?o[n]:r[t];o?o.scrollTo(o[n],i):r[t]=i}return e}const qN=WN("pageXOffset"),GN=WN("pageYOffset");function cd(n){var t=w1(n),e={top:0,left:0,height:0,width:0},r=t&&t.documentElement;return!r||!Cg(r,n)||(n.getBoundingClientRect!==void 0&&(e=n.getBoundingClientRect()),e={top:e.top+GN(r)-(r.clientTop||0),left:e.left+qN(r)-(r.clientLeft||0),width:e.width,height:e.height}),e}var CH=function(t){return!!t&&"offsetParent"in t};function EH(n){for(var t=w1(n),e=n&&n.offsetParent;CH(e)&&e.nodeName!=="HTML"&&bh(e,"position")==="static";)e=e.offsetParent;return e||t.documentElement}var OH=function(t){return t.nodeName&&t.nodeName.toLowerCase()};function KN(n,t){var e={top:0,left:0},r;if(bh(n,"position")==="fixed")r=n.getBoundingClientRect();else{var i=t||EH(n);r=cd(n),OH(i)!=="html"&&(e=cd(i));var o=String(bh(i,"borderTopWidth")||0);e.top+=parseInt(o,10)-GN(i)||0;var a=String(bh(i,"borderLeftWidth")||0);e.left+=parseInt(a,10)-qN(i)||0}var s=String(bh(n,"marginTop")||0),l=String(bh(n,"marginLeft")||0);return Pi({},r,{top:r.top-e.top-(parseInt(s,10)||0),left:r.left-e.left-(parseInt(l,10)||0)})}const QS=!!(typeof window<"u"&&window.document&&window.document.createElement);var i9=new Date().getTime();function AH(n){var t=new Date().getTime(),e=Math.max(0,16-(t-i9)),r=setTimeout(n,e);return i9=t,r}var NH=["","webkit","moz","o","ms"],dw="clearTimeout",hw=AH,o9=function(t,e){return t+(t?e[0].toUpperCase()+e.substr(1):e)+"AnimationFrame"};QS&&NH.some(function(n){var t=o9(n,"request");return t in window&&(dw=o9(n,"cancel"),hw=function(r){return window[t](r)}),!!hw});var a9=function(t){typeof window[dw]=="function"&&window[dw](t)},YN=hw,O2;function PH(n,t){if(!O2){var e=document.body,r=e.matches||e.matchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector;O2=function(o,a){return r.call(o,a)}}return O2(n,t)}var jH=Function.prototype.bind.call(Function.prototype.call,[].slice);function kH(n,t){return jH(n.querySelectorAll(t))}var pw=!1,vw=!1;try{var A2={get passive(){return pw=!0},get once(){return vw=pw=!0}};QS&&(window.addEventListener("test",A2,A2),window.removeEventListener("test",A2,!0))}catch{}function MH(n,t,e,r){if(r&&typeof r!="boolean"&&!vw){var i=r.once,o=r.capture,a=e;!vw&&i&&(a=e.__once||function s(l){this.removeEventListener(t,s,o),e.call(this,l)},e.__once=a),n.addEventListener(t,a,pw?r:o)}n.addEventListener(t,e,r)}function LH(n){const t=ye.useRef(n);return ye.useEffect(()=>{t.current=n},[n]),t}function s9(n){const t=LH(n);return ye.useCallback(function(...e){return t.current&&t.current(...e)},[t])}function l9(){return ye.useState(null)}function DH(){const n=ye.useRef(!0),t=ye.useRef(()=>n.current);return ye.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),t.current}function IH(n){const t=DH();return[n[0],ye.useCallback(e=>{if(t())return n[1](e)},[t,n[1]])]}var Za="top",tl="bottom",rl="right",Ja="left",eT="auto",_1=[Za,tl,rl,Ja],np="start",Eg="end",RH="clippingParents",XN="viewport",_v="popper",FH="reference",c9=_1.reduce(function(n,t){return n.concat([t+"-"+np,t+"-"+Eg])},[]),tT=[].concat(_1,[eT]).reduce(function(n,t){return n.concat([t,t+"-"+np,t+"-"+Eg])},[]),BH="beforeRead",HH="read",$H="afterRead",UH="beforeMain",VH="main",zH="afterMain",WH="beforeWrite",qH="write",GH="afterWrite",KH=[BH,HH,$H,UH,VH,zH,WH,qH,GH];function yc(n){return n.split("-")[0]}function Cs(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var t=n.ownerDocument;return t&&t.defaultView||window}return n}function wd(n){var t=Cs(n).Element;return n instanceof t||n instanceof Element}function bc(n){var t=Cs(n).HTMLElement;return n instanceof t||n instanceof HTMLElement}function rT(n){if(typeof ShadowRoot>"u")return!1;var t=Cs(n).ShadowRoot;return n instanceof t||n instanceof ShadowRoot}var ud=Math.max,d0=Math.min,ip=Math.round;function gw(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function ZN(){return!/^((?!chrome|android).)*safari/i.test(gw())}function op(n,t,e){t===void 0&&(t=!1),e===void 0&&(e=!1);var r=n.getBoundingClientRect(),i=1,o=1;t&&bc(n)&&(i=n.offsetWidth>0&&ip(r.width)/n.offsetWidth||1,o=n.offsetHeight>0&&ip(r.height)/n.offsetHeight||1);var a=wd(n)?Cs(n):window,s=a.visualViewport,l=!ZN()&&e,c=(r.left+(l&&s?s.offsetLeft:0))/i,u=(r.top+(l&&s?s.offsetTop:0))/o,f=r.width/i,h=r.height/o;return{width:f,height:h,top:u,right:c+f,bottom:u+h,left:c,x:c,y:u}}function nT(n){var t=op(n),e=n.offsetWidth,r=n.offsetHeight;return Math.abs(t.width-e)<=1&&(e=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:n.offsetLeft,y:n.offsetTop,width:e,height:r}}function JN(n,t){var e=t.getRootNode&&t.getRootNode();if(n.contains(t))return!0;if(e&&rT(e)){var r=t;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Xu(n){return n?(n.nodeName||"").toLowerCase():null}function cu(n){return Cs(n).getComputedStyle(n)}function YH(n){return["table","td","th"].indexOf(Xu(n))>=0}function nf(n){return((wd(n)?n.ownerDocument:n.document)||window.document).documentElement}function kb(n){return Xu(n)==="html"?n:n.assignedSlot||n.parentNode||(rT(n)?n.host:null)||nf(n)}function u9(n){return!bc(n)||cu(n).position==="fixed"?null:n.offsetParent}function XH(n){var t=/firefox/i.test(gw()),e=/Trident/i.test(gw());if(e&&bc(n)){var r=cu(n);if(r.position==="fixed")return null}var i=kb(n);for(rT(i)&&(i=i.host);bc(i)&&["html","body"].indexOf(Xu(i))<0;){var o=cu(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function S1(n){for(var t=Cs(n),e=u9(n);e&&YH(e)&&cu(e).position==="static";)e=u9(e);return e&&(Xu(e)==="html"||Xu(e)==="body"&&cu(e).position==="static")?t:e||XH(n)||t}function iT(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Gv(n,t,e){return ud(n,d0(t,e))}function ZH(n,t,e){var r=Gv(n,t,e);return r>e?e:r}function QN(){return{top:0,right:0,bottom:0,left:0}}function eP(n){return Object.assign({},QN(),n)}function tP(n,t){return t.reduce(function(e,r){return e[r]=n,e},{})}var JH=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,eP(typeof t!="number"?t:tP(t,_1))};function QH(n){var t,e=n.state,r=n.name,i=n.options,o=e.elements.arrow,a=e.modifiersData.popperOffsets,s=yc(e.placement),l=iT(s),c=[Ja,rl].indexOf(s)>=0,u=c?"height":"width";if(!(!o||!a)){var f=JH(i.padding,e),h=nT(o),d=l==="y"?Za:Ja,m=l==="y"?tl:rl,g=e.rects.reference[u]+e.rects.reference[l]-a[l]-e.rects.popper[u],x=a[l]-e.rects.reference[l],b=S1(o),_=b?l==="y"?b.clientHeight||0:b.clientWidth||0:0,S=g/2-x/2,T=f[d],C=_-h[u]-f[m],w=_/2-h[u]/2+S,N=Gv(T,w,C),A=l;e.modifiersData[r]=(t={},t[A]=N,t.centerOffset=N-w,t)}}function e$(n){var t=n.state,e=n.options,r=e.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||JN(t.elements.popper,i)&&(t.elements.arrow=i))}const t$={name:"arrow",enabled:!0,phase:"main",fn:QH,effect:e$,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ap(n){return n.split("-")[1]}var r$={top:"auto",right:"auto",bottom:"auto",left:"auto"};function n$(n,t){var e=n.x,r=n.y,i=t.devicePixelRatio||1;return{x:ip(e*i)/i||0,y:ip(r*i)/i||0}}function f9(n){var t,e=n.popper,r=n.popperRect,i=n.placement,o=n.variation,a=n.offsets,s=n.position,l=n.gpuAcceleration,c=n.adaptive,u=n.roundOffsets,f=n.isFixed,h=a.x,d=h===void 0?0:h,m=a.y,g=m===void 0?0:m,x=typeof u=="function"?u({x:d,y:g}):{x:d,y:g};d=x.x,g=x.y;var b=a.hasOwnProperty("x"),_=a.hasOwnProperty("y"),S=Ja,T=Za,C=window;if(c){var w=S1(e),N="clientHeight",A="clientWidth";if(w===Cs(e)&&(w=nf(e),cu(w).position!=="static"&&s==="absolute"&&(N="scrollHeight",A="scrollWidth")),w=w,i===Za||(i===Ja||i===rl)&&o===Eg){T=tl;var j=f&&w===C&&C.visualViewport?C.visualViewport.height:w[N];g-=j-r.height,g*=l?1:-1}if(i===Ja||(i===Za||i===tl)&&o===Eg){S=rl;var R=f&&w===C&&C.visualViewport?C.visualViewport.width:w[A];d-=R-r.width,d*=l?1:-1}}var L=Object.assign({position:s},c&&r$),M=u===!0?n$({x:d,y:g},Cs(e)):{x:d,y:g};if(d=M.x,g=M.y,l){var I;return Object.assign({},L,(I={},I[T]=_?"0":"",I[S]=b?"0":"",I.transform=(C.devicePixelRatio||1)<=1?"translate("+d+"px, "+g+"px)":"translate3d("+d+"px, "+g+"px, 0)",I))}return Object.assign({},L,(t={},t[T]=_?g+"px":"",t[S]=b?d+"px":"",t.transform="",t))}function i$(n){var t=n.state,e=n.options,r=e.gpuAcceleration,i=r===void 0?!0:r,o=e.adaptive,a=o===void 0?!0:o,s=e.roundOffsets,l=s===void 0?!0:s,c={placement:yc(t.placement),variation:ap(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,f9(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,f9(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const o$={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:i$,data:{}};var um={passive:!0};function a$(n){var t=n.state,e=n.instance,r=n.options,i=r.scroll,o=i===void 0?!0:i,a=r.resize,s=a===void 0?!0:a,l=Cs(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach(function(u){u.addEventListener("scroll",e.update,um)}),s&&l.addEventListener("resize",e.update,um),function(){o&&c.forEach(function(u){u.removeEventListener("scroll",e.update,um)}),s&&l.removeEventListener("resize",e.update,um)}}const s$={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:a$,data:{}};var l$={left:"right",right:"left",bottom:"top",top:"bottom"};function qm(n){return n.replace(/left|right|bottom|top/g,function(t){return l$[t]})}var c$={start:"end",end:"start"};function d9(n){return n.replace(/start|end/g,function(t){return c$[t]})}function oT(n){var t=Cs(n),e=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:e,scrollTop:r}}function aT(n){return op(nf(n)).left+oT(n).scrollLeft}function u$(n,t){var e=Cs(n),r=nf(n),i=e.visualViewport,o=r.clientWidth,a=r.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;var c=ZN();(c||!c&&t==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:o,height:a,x:s+aT(n),y:l}}function f$(n){var t,e=nf(n),r=oT(n),i=(t=n.ownerDocument)==null?void 0:t.body,o=ud(e.scrollWidth,e.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=ud(e.scrollHeight,e.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+aT(n),l=-r.scrollTop;return cu(i||e).direction==="rtl"&&(s+=ud(e.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:l}}function sT(n){var t=cu(n),e=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(e+i+r)}function rP(n){return["html","body","#document"].indexOf(Xu(n))>=0?n.ownerDocument.body:bc(n)&&sT(n)?n:rP(kb(n))}function Kv(n,t){var e;t===void 0&&(t=[]);var r=rP(n),i=r===((e=n.ownerDocument)==null?void 0:e.body),o=Cs(r),a=i?[o].concat(o.visualViewport||[],sT(r)?r:[]):r,s=t.concat(a);return i?s:s.concat(Kv(kb(a)))}function mw(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function d$(n,t){var e=op(n,!1,t==="fixed");return e.top=e.top+n.clientTop,e.left=e.left+n.clientLeft,e.bottom=e.top+n.clientHeight,e.right=e.left+n.clientWidth,e.width=n.clientWidth,e.height=n.clientHeight,e.x=e.left,e.y=e.top,e}function h9(n,t,e){return t===XN?mw(u$(n,e)):wd(t)?d$(t,e):mw(f$(nf(n)))}function h$(n){var t=Kv(kb(n)),e=["absolute","fixed"].indexOf(cu(n).position)>=0,r=e&&bc(n)?S1(n):n;return wd(r)?t.filter(function(i){return wd(i)&&JN(i,r)&&Xu(i)!=="body"}):[]}function p$(n,t,e,r){var i=t==="clippingParents"?h$(n):[].concat(t),o=[].concat(i,[e]),a=o[0],s=o.reduce(function(l,c){var u=h9(n,c,r);return l.top=ud(u.top,l.top),l.right=d0(u.right,l.right),l.bottom=d0(u.bottom,l.bottom),l.left=ud(u.left,l.left),l},h9(n,a,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function nP(n){var t=n.reference,e=n.element,r=n.placement,i=r?yc(r):null,o=r?ap(r):null,a=t.x+t.width/2-e.width/2,s=t.y+t.height/2-e.height/2,l;switch(i){case Za:l={x:a,y:t.y-e.height};break;case tl:l={x:a,y:t.y+t.height};break;case rl:l={x:t.x+t.width,y:s};break;case Ja:l={x:t.x-e.width,y:s};break;default:l={x:t.x,y:t.y}}var c=i?iT(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(o){case np:l[c]=l[c]-(t[u]/2-e[u]/2);break;case Eg:l[c]=l[c]+(t[u]/2-e[u]/2);break}}return l}function Og(n,t){t===void 0&&(t={});var e=t,r=e.placement,i=r===void 0?n.placement:r,o=e.strategy,a=o===void 0?n.strategy:o,s=e.boundary,l=s===void 0?RH:s,c=e.rootBoundary,u=c===void 0?XN:c,f=e.elementContext,h=f===void 0?_v:f,d=e.altBoundary,m=d===void 0?!1:d,g=e.padding,x=g===void 0?0:g,b=eP(typeof x!="number"?x:tP(x,_1)),_=h===_v?FH:_v,S=n.rects.popper,T=n.elements[m?_:h],C=p$(wd(T)?T:T.contextElement||nf(n.elements.popper),l,u,a),w=op(n.elements.reference),N=nP({reference:w,element:S,placement:i}),A=mw(Object.assign({},S,N)),j=h===_v?A:w,R={top:C.top-j.top+b.top,bottom:j.bottom-C.bottom+b.bottom,left:C.left-j.left+b.left,right:j.right-C.right+b.right},L=n.modifiersData.offset;if(h===_v&&L){var M=L[i];Object.keys(R).forEach(function(I){var D=[rl,tl].indexOf(I)>=0?1:-1,V=[Za,tl].indexOf(I)>=0?"y":"x";R[I]+=M[V]*D})}return R}function v$(n,t){t===void 0&&(t={});var e=t,r=e.placement,i=e.boundary,o=e.rootBoundary,a=e.padding,s=e.flipVariations,l=e.allowedAutoPlacements,c=l===void 0?tT:l,u=ap(r),f=u?s?c9:c9.filter(function(m){return ap(m)===u}):_1,h=f.filter(function(m){return c.indexOf(m)>=0});h.length===0&&(h=f);var d=h.reduce(function(m,g){return m[g]=Og(n,{placement:g,boundary:i,rootBoundary:o,padding:a})[yc(g)],m},{});return Object.keys(d).sort(function(m,g){return d[m]-d[g]})}function g$(n){if(yc(n)===eT)return[];var t=qm(n);return[d9(n),t,d9(t)]}function m$(n){var t=n.state,e=n.options,r=n.name;if(!t.modifiersData[r]._skip){for(var i=e.mainAxis,o=i===void 0?!0:i,a=e.altAxis,s=a===void 0?!0:a,l=e.fallbackPlacements,c=e.padding,u=e.boundary,f=e.rootBoundary,h=e.altBoundary,d=e.flipVariations,m=d===void 0?!0:d,g=e.allowedAutoPlacements,x=t.options.placement,b=yc(x),_=b===x,S=l||(_||!m?[qm(x)]:g$(x)),T=[x].concat(S).reduce(function(X,ae){return X.concat(yc(ae)===eT?v$(t,{placement:ae,boundary:u,rootBoundary:f,padding:c,flipVariations:m,allowedAutoPlacements:g}):ae)},[]),C=t.rects.reference,w=t.rects.popper,N=new Map,A=!0,j=T[0],R=0;R<T.length;R++){var L=T[R],M=yc(L),I=ap(L)===np,D=[Za,tl].indexOf(M)>=0,V=D?"width":"height",F=Og(t,{placement:L,boundary:u,rootBoundary:f,altBoundary:h,padding:c}),G=D?I?rl:Ja:I?tl:Za;C[V]>w[V]&&(G=qm(G));var W=qm(G),Y=[];if(o&&Y.push(F[M]<=0),s&&Y.push(F[G]<=0,F[W]<=0),Y.every(function(X){return X})){j=L,A=!1;break}N.set(L,Y)}if(A)for(var te=m?3:1,he=function(ae){var ve=T.find(function(me){var Ee=N.get(me);if(Ee)return Ee.slice(0,ae).every(function(ke){return ke})});if(ve)return j=ve,"break"},z=te;z>0;z--){var Z=he(z);if(Z==="break")break}t.placement!==j&&(t.modifiersData[r]._skip=!0,t.placement=j,t.reset=!0)}}const y$={name:"flip",enabled:!0,phase:"main",fn:m$,requiresIfExists:["offset"],data:{_skip:!1}};function p9(n,t,e){return e===void 0&&(e={x:0,y:0}),{top:n.top-t.height-e.y,right:n.right-t.width+e.x,bottom:n.bottom-t.height+e.y,left:n.left-t.width-e.x}}function v9(n){return[Za,rl,tl,Ja].some(function(t){return n[t]>=0})}function b$(n){var t=n.state,e=n.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,a=Og(t,{elementContext:"reference"}),s=Og(t,{altBoundary:!0}),l=p9(a,r),c=p9(s,i,o),u=v9(l),f=v9(c);t.modifiersData[e]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":f})}const x$={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:b$};function w$(n,t,e){var r=yc(n),i=[Ja,Za].indexOf(r)>=0?-1:1,o=typeof e=="function"?e(Object.assign({},t,{placement:n})):e,a=o[0],s=o[1];return a=a||0,s=(s||0)*i,[Ja,rl].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}function _$(n){var t=n.state,e=n.options,r=n.name,i=e.offset,o=i===void 0?[0,0]:i,a=tT.reduce(function(u,f){return u[f]=w$(f,t.rects,o),u},{}),s=a[t.placement],l=s.x,c=s.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=a}const S$={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:_$};function T$(n){var t=n.state,e=n.name;t.modifiersData[e]=nP({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const C$={name:"popperOffsets",enabled:!0,phase:"read",fn:T$,data:{}};function E$(n){return n==="x"?"y":"x"}function O$(n){var t=n.state,e=n.options,r=n.name,i=e.mainAxis,o=i===void 0?!0:i,a=e.altAxis,s=a===void 0?!1:a,l=e.boundary,c=e.rootBoundary,u=e.altBoundary,f=e.padding,h=e.tether,d=h===void 0?!0:h,m=e.tetherOffset,g=m===void 0?0:m,x=Og(t,{boundary:l,rootBoundary:c,padding:f,altBoundary:u}),b=yc(t.placement),_=ap(t.placement),S=!_,T=iT(b),C=E$(T),w=t.modifiersData.popperOffsets,N=t.rects.reference,A=t.rects.popper,j=typeof g=="function"?g(Object.assign({},t.rects,{placement:t.placement})):g,R=typeof j=="number"?{mainAxis:j,altAxis:j}:Object.assign({mainAxis:0,altAxis:0},j),L=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,M={x:0,y:0};if(w){if(o){var I,D=T==="y"?Za:Ja,V=T==="y"?tl:rl,F=T==="y"?"height":"width",G=w[T],W=G+x[D],Y=G-x[V],te=d?-A[F]/2:0,he=_===np?N[F]:A[F],z=_===np?-A[F]:-N[F],Z=t.elements.arrow,X=d&&Z?nT(Z):{width:0,height:0},ae=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:QN(),ve=ae[D],me=ae[V],Ee=Gv(0,N[F],X[F]),ke=S?N[F]/2-te-Ee-ve-R.mainAxis:he-Ee-ve-R.mainAxis,He=S?-N[F]/2+te+Ee+me+R.mainAxis:z+Ee+me+R.mainAxis,Re=t.elements.arrow&&S1(t.elements.arrow),se=Re?T==="y"?Re.clientTop||0:Re.clientLeft||0:0,ce=(I=L==null?void 0:L[T])!=null?I:0,$e=G+ke-ce-se,Ue=G+He-ce,Te=Gv(d?d0(W,$e):W,G,d?ud(Y,Ue):Y);w[T]=Te,M[T]=Te-G}if(s){var ft,Q=T==="x"?Za:Ja,de=T==="x"?tl:rl,Ce=w[C],De=C==="y"?"height":"width",Ke=Ce+x[Q],je=Ce-x[de],Ze=[Za,Ja].indexOf(b)!==-1,Ye=(ft=L==null?void 0:L[C])!=null?ft:0,bt=Ze?Ke:Ce-N[De]-A[De]-Ye+R.altAxis,Ut=Ze?Ce+N[De]+A[De]-Ye-R.altAxis:je,kt=d&&Ze?ZH(bt,Ce,Ut):Gv(d?bt:Ke,Ce,d?Ut:je);w[C]=kt,M[C]=kt-Ce}t.modifiersData[r]=M}}const A$={name:"preventOverflow",enabled:!0,phase:"main",fn:O$,requiresIfExists:["offset"]};function N$(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function P$(n){return n===Cs(n)||!bc(n)?oT(n):N$(n)}function j$(n){var t=n.getBoundingClientRect(),e=ip(t.width)/n.offsetWidth||1,r=ip(t.height)/n.offsetHeight||1;return e!==1||r!==1}function k$(n,t,e){e===void 0&&(e=!1);var r=bc(t),i=bc(t)&&j$(t),o=nf(t),a=op(n,i,e),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!e)&&((Xu(t)!=="body"||sT(o))&&(s=P$(t)),bc(t)?(l=op(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=aT(o))),{x:a.left+s.scrollLeft-l.x,y:a.top+s.scrollTop-l.y,width:a.width,height:a.height}}function M$(n){var t=new Map,e=new Set,r=[];n.forEach(function(o){t.set(o.name,o)});function i(o){e.add(o.name);var a=[].concat(o.requires||[],o.requiresIfExists||[]);a.forEach(function(s){if(!e.has(s)){var l=t.get(s);l&&i(l)}}),r.push(o)}return n.forEach(function(o){e.has(o.name)||i(o)}),r}function L$(n){var t=M$(n);return KH.reduce(function(e,r){return e.concat(t.filter(function(i){return i.phase===r}))},[])}function D$(n){var t;return function(){return t||(t=new Promise(function(e){Promise.resolve().then(function(){t=void 0,e(n())})})),t}}function I$(n){var t=n.reduce(function(e,r){var i=e[r.name];return e[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,e},{});return Object.keys(t).map(function(e){return t[e]})}var g9={placement:"bottom",modifiers:[],strategy:"absolute"};function m9(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function R$(n){n===void 0&&(n={});var t=n,e=t.defaultModifiers,r=e===void 0?[]:e,i=t.defaultOptions,o=i===void 0?g9:i;return function(s,l,c){c===void 0&&(c=o);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},g9,o),modifiersData:{},elements:{reference:s,popper:l},attributes:{},styles:{}},f=[],h=!1,d={state:u,setOptions:function(b){var _=typeof b=="function"?b(u.options):b;g(),u.options=Object.assign({},o,u.options,_),u.scrollParents={reference:wd(s)?Kv(s):s.contextElement?Kv(s.contextElement):[],popper:Kv(l)};var S=L$(I$([].concat(r,u.options.modifiers)));return u.orderedModifiers=S.filter(function(T){return T.enabled}),m(),d.update()},forceUpdate:function(){if(!h){var b=u.elements,_=b.reference,S=b.popper;if(m9(_,S)){u.rects={reference:k$(_,S1(S),u.options.strategy==="fixed"),popper:nT(S)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(R){return u.modifiersData[R.name]=Object.assign({},R.data)});for(var T=0;T<u.orderedModifiers.length;T++){if(u.reset===!0){u.reset=!1,T=-1;continue}var C=u.orderedModifiers[T],w=C.fn,N=C.options,A=N===void 0?{}:N,j=C.name;typeof w=="function"&&(u=w({state:u,options:A,name:j,instance:d})||u)}}}},update:D$(function(){return new Promise(function(x){d.forceUpdate(),x(u)})}),destroy:function(){g(),h=!0}};if(!m9(s,l))return d;d.setOptions(c).then(function(x){!h&&c.onFirstUpdate&&c.onFirstUpdate(x)});function m(){u.orderedModifiers.forEach(function(x){var b=x.name,_=x.options,S=_===void 0?{}:_,T=x.effect;if(typeof T=="function"){var C=T({state:u,name:b,instance:d,options:S}),w=function(){};f.push(C||w)}})}function g(){f.forEach(function(x){return x()}),f=[]}return d}}var F$=R$({defaultModifiers:[x$,C$,o$,s$,S$,y$,A$,t$]}),y9=function(t){return{position:t,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},B$={name:"applyStyles",enabled:!1},H$={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(t){var e=t.state;return function(){var r=e.elements,i=r.reference,o=r.popper;if("removeAttribute"in i){var a=(i.getAttribute("aria-describedby")||"").split(",").filter(function(s){return s.trim()!==o.id});a.length?i.setAttribute("aria-describedby",a.join(",")):i.removeAttribute("aria-describedby")}}},fn:function(t){var e,r=t.state,i=r.elements,o=i.popper,a=i.reference,s=(e=o.getAttribute("role"))==null?void 0:e.toLowerCase();if(o.id&&s==="tooltip"&&"setAttribute"in a){var l=a.getAttribute("aria-describedby");if(l&&l.split(",").indexOf(o.id)!==-1)return;a.setAttribute("aria-describedby",l?l+","+o.id:o.id)}}},$$=[];function U$(n,t,e){var r=e===void 0?{}:e,i=r.enabled,o=i===void 0?!0:i,a=r.placement,s=a===void 0?"bottom":a,l=r.strategy,c=l===void 0?"absolute":l,u=r.modifiers,f=u===void 0?$$:u,h=Nb(r,["enabled","placement","strategy","modifiers"]),d=ye.useRef(),m=ye.useCallback(function(){var T;(T=d.current)==null||T.update()},[]),g=ye.useCallback(function(){var T;(T=d.current)==null||T.forceUpdate()},[]),x=IH(ye.useState({placement:s,update:m,forceUpdate:g,attributes:{},styles:{popper:y9(c),arrow:{}}})),b=x[0],_=x[1],S=ye.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(C){var w=C.state,N={},A={};Object.keys(w.elements).forEach(function(j){N[j]=w.styles[j],A[j]=w.attributes[j]}),_({state:w,styles:N,attributes:A,update:m,forceUpdate:g,placement:w.placement})}}},[m,g,_]);return ye.useEffect(function(){!d.current||!o||d.current.setOptions({placement:s,strategy:c,modifiers:[].concat(f,[S,B$])})},[c,s,S,o]),ye.useEffect(function(){if(!(!o||n==null||t==null))return d.current=F$(n,t,Pi({},h,{placement:s,strategy:c,modifiers:[].concat(f,[H$,S])})),function(){d.current!=null&&(d.current.destroy(),d.current=void 0,_(function(T){return Pi({},T,{attributes:{},styles:{popper:y9(c)}})}))}},[o,n,t]),b}function V$(n,t,e,r){var i=r&&typeof r!="boolean"?r.capture:r;n.removeEventListener(t,e,i),e.__once&&n.removeEventListener(t,e.__once,i)}function Hv(n,t,e,r){return MH(n,t,e,r),function(){V$(n,t,e,r)}}var z$=function(){},W$=z$;const q$=hn(W$);function G$(n){return n&&"setState"in n?X8.findDOMNode(n):n??null}const K$=function(n){return w1(G$(n))};var Y$=27,b9=function(){};function X$(n){return n.button===0}function Z$(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}var x9=function(t){return t&&("current"in t?t.current:t)};function J$(n,t,e){var r=e===void 0?{}:e,i=r.disabled,o=r.clickTrigger,a=o===void 0?"click":o,s=ye.useRef(!1),l=t||b9,c=ye.useCallback(function(h){var d,m=x9(n);q$(!!m,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),s.current=!m||Z$(h)||!X$(h)||!!Cg(m,(d=h.composedPath==null?void 0:h.composedPath()[0])!=null?d:h.target)},[n]),u=s9(function(h){s.current||l(h)}),f=s9(function(h){h.keyCode===Y$&&l(h)});ye.useEffect(function(){if(!(i||n==null)){var h=window.event,d=K$(x9(n)),m=Hv(d,a,c,!0),g=Hv(d,a,function(_){if(_===h){h=void 0;return}u(_)}),x=Hv(d,"keyup",function(_){if(_===h){h=void 0;return}f(_)}),b=[];return"ontouchstart"in d.documentElement&&(b=[].slice.call(d.body.children).map(function(_){return Hv(_,"mousemove",b9)})),function(){m(),g(),x(),b.forEach(function(_){return _()})}}},[n,i,a,c,u,f])}function Q$(n){var t={};return Array.isArray(n)?(n==null||n.forEach(function(e){t[e.name]=e}),t):n||t}function eU(n){return n===void 0&&(n={}),Array.isArray(n)?n:Object.keys(n).map(function(t){return n[t].name=t,n[t]})}function tU(n){var t,e,r,i,o=n.enabled,a=n.enableEvents,s=n.placement,l=n.flip,c=n.offset,u=n.fixed,f=n.containerPadding,h=n.arrowElement,d=n.popperConfig,m=d===void 0?{}:d,g=Q$(m.modifiers);return Pi({},m,{placement:s,enabled:o,strategy:u?"fixed":m.strategy,modifiers:eU(Pi({},g,{eventListeners:{enabled:a},preventOverflow:Pi({},g.preventOverflow,{options:f?Pi({padding:f},(t=g.preventOverflow)==null?void 0:t.options):(e=g.preventOverflow)==null?void 0:e.options}),offset:{options:Pi({offset:c},(r=g.offset)==null?void 0:r.options)},arrow:Pi({},g.arrow,{enabled:!!h,options:Pi({},(i=g.arrow)==null?void 0:i.options,{element:h})}),flip:Pi({enabled:!!l},g.flip)}))})}function rU(n,t){return n.classList?n.classList.contains(t):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+t+" ")!==-1}function nU(n,t){n.classList?n.classList.add(t):rU(n,t)||(typeof n.className=="string"?n.className=n.className+" "+t:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+t))}function w9(n,t){return n.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function iU(n,t){n.classList?n.classList.remove(t):typeof n.className=="string"?n.className=w9(n.className,t):n.setAttribute("class",w9(n.className&&n.className.baseVal||"",t))}var fm;function lT(n){if((!fm&&fm!==0||n)&&QS){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),fm=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return fm}var N2=function(t){var e;return typeof document>"u"?null:t==null?w1().body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),(e=t)!=null&&e.nodeType&&t||null)};function _9(n,t){var e=ye.useState(function(){return N2(n)}),r=e[0],i=e[1];if(!r){var o=N2(n);o&&i(o)}return ye.useEffect(function(){},[t,r]),ye.useEffect(function(){var a=N2(n);a!==r&&i(a)},[n,r]),r}const S9=n=>!n||typeof n=="function"?n:t=>{n.current=t};function oU(n,t){const e=S9(n),r=S9(t);return i=>{e&&e(i),r&&r(i)}}function aU(n,t){return ye.useMemo(()=>oU(n,t),[n,t])}var cT=Se.forwardRef(function(n,t){var e=n.flip,r=n.offset,i=n.placement,o=n.containerPadding,a=o===void 0?5:o,s=n.popperConfig,l=s===void 0?{}:s,c=n.transition,u=l9(),f=u[0],h=u[1],d=l9(),m=d[0],g=d[1],x=aU(h,t),b=_9(n.container),_=_9(n.target),S=ye.useState(!n.show),T=S[0],C=S[1],w=U$(_,f,tU({placement:i,enableEvents:!!n.show,containerPadding:a||5,flip:e,offset:r,arrowElement:m,popperConfig:l})),N=w.styles,A=w.attributes,j=Nb(w,["styles","attributes"]);n.show?T&&C(!1):!n.transition&&!T&&C(!0);var R=function(){C(!0),n.onExited&&n.onExited.apply(n,arguments)},L=n.show||c&&!T;if(J$(f,n.onHide,{disabled:!n.rootClose||n.rootCloseDisabled,clickTrigger:n.rootCloseEvent}),!L)return null;var M=n.children(Pi({},j,{show:!!n.show,props:Pi({},A.popper,{style:N.popper,ref:x}),arrowProps:Pi({},A.arrow,{style:N.arrow,ref:g})}));if(c){var I=n.onExit,D=n.onExiting,V=n.onEnter,F=n.onEntering,G=n.onEntered;M=Se.createElement(c,{in:n.show,appear:!0,onExit:I,onExiting:D,onExited:R,onEnter:V,onEntering:F,onEntered:G},M)}return b?X8.createPortal(M,b):null});cT.displayName="Overlay";cT.propTypes={show:Lt.bool,placement:Lt.oneOf(tT),target:Lt.any,container:Lt.any,flip:Lt.bool,children:Lt.func.isRequired,containerPadding:Lt.number,popperConfig:Lt.object,rootClose:Lt.bool,rootCloseEvent:Lt.oneOf(["click","mousedown"]),rootCloseDisabled:Lt.bool,onHide:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];if(t.rootClose){var o;return(o=Lt.func).isRequired.apply(o,[t].concat(r))}return Lt.func.apply(Lt,[t].concat(r))},transition:Lt.elementType,onEnter:Lt.func,onEntering:Lt.func,onEntered:Lt.func,onExit:Lt.func,onExiting:Lt.func,onExited:Lt.func};function sU(){this.__data__=[],this.size=0}var lU=sU,cU=x1;function uU(n,t){for(var e=n.length;e--;)if(cU(n[e][0],t))return e;return-1}var Mb=uU,fU=Mb,dU=Array.prototype,hU=dU.splice;function pU(n){var t=this.__data__,e=fU(t,n);if(e<0)return!1;var r=t.length-1;return e==r?t.pop():hU.call(t,e,1),--this.size,!0}var vU=pU,gU=Mb;function mU(n){var t=this.__data__,e=gU(t,n);return e<0?void 0:t[e][1]}var yU=mU,bU=Mb;function xU(n){return bU(this.__data__,n)>-1}var wU=xU,_U=Mb;function SU(n,t){var e=this.__data__,r=_U(e,n);return r<0?(++this.size,e.push([n,t])):e[r][1]=t,this}var TU=SU,CU=lU,EU=vU,OU=yU,AU=wU,NU=TU;function Vp(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var r=n[t];this.set(r[0],r[1])}}Vp.prototype.clear=CU;Vp.prototype.delete=EU;Vp.prototype.get=OU;Vp.prototype.has=AU;Vp.prototype.set=NU;var Lb=Vp,PU=Lb;function jU(){this.__data__=new PU,this.size=0}var kU=jU;function MU(n){var t=this.__data__,e=t.delete(n);return this.size=t.size,e}var LU=MU;function DU(n){return this.__data__.get(n)}var IU=DU;function RU(n){return this.__data__.has(n)}var FU=RU,BU=Vl,HU=BU["__core-js_shared__"],$U=HU,P2=$U,T9=function(){var n=/[^.]+$/.exec(P2&&P2.keys&&P2.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function UU(n){return!!T9&&T9 in n}var VU=UU,zU=Function.prototype,WU=zU.toString;function qU(n){if(n!=null){try{return WU.call(n)}catch{}try{return n+""}catch{}}return""}var iP=qU,GU=jb,KU=VU,YU=ol,XU=iP,ZU=/[\\^$.*+?()[\]{}|]/g,JU=/^\[object .+?Constructor\]$/,QU=Function.prototype,eV=Object.prototype,tV=QU.toString,rV=eV.hasOwnProperty,nV=RegExp("^"+tV.call(rV).replace(ZU,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function iV(n){if(!YU(n)||KU(n))return!1;var t=GU(n)?nV:JU;return t.test(XU(n))}var oV=iV;function aV(n,t){return n==null?void 0:n[t]}var sV=aV,lV=oV,cV=sV;function uV(n,t){var e=cV(n,t);return lV(e)?e:void 0}var Rd=uV,fV=Rd,dV=Vl,hV=fV(dV,"Map"),uT=hV,pV=Rd,vV=pV(Object,"create"),Db=vV,C9=Db;function gV(){this.__data__=C9?C9(null):{},this.size=0}var mV=gV;function yV(n){var t=this.has(n)&&delete this.__data__[n];return this.size-=t?1:0,t}var bV=yV,xV=Db,wV="__lodash_hash_undefined__",_V=Object.prototype,SV=_V.hasOwnProperty;function TV(n){var t=this.__data__;if(xV){var e=t[n];return e===wV?void 0:e}return SV.call(t,n)?t[n]:void 0}var CV=TV,EV=Db,OV=Object.prototype,AV=OV.hasOwnProperty;function NV(n){var t=this.__data__;return EV?t[n]!==void 0:AV.call(t,n)}var PV=NV,jV=Db,kV="__lodash_hash_undefined__";function MV(n,t){var e=this.__data__;return this.size+=this.has(n)?0:1,e[n]=jV&&t===void 0?kV:t,this}var LV=MV,DV=mV,IV=bV,RV=CV,FV=PV,BV=LV;function zp(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var r=n[t];this.set(r[0],r[1])}}zp.prototype.clear=DV;zp.prototype.delete=IV;zp.prototype.get=RV;zp.prototype.has=FV;zp.prototype.set=BV;var HV=zp,E9=HV,$V=Lb,UV=uT;function VV(){this.size=0,this.__data__={hash:new E9,map:new(UV||$V),string:new E9}}var zV=VV;function WV(n){var t=typeof n;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?n!=="__proto__":n===null}var qV=WV,GV=qV;function KV(n,t){var e=n.__data__;return GV(t)?e[typeof t=="string"?"string":"hash"]:e.map}var Ib=KV,YV=Ib;function XV(n){var t=YV(this,n).delete(n);return this.size-=t?1:0,t}var ZV=XV,JV=Ib;function QV(n){return JV(this,n).get(n)}var ez=QV,tz=Ib;function rz(n){return tz(this,n).has(n)}var nz=rz,iz=Ib;function oz(n,t){var e=iz(this,n),r=e.size;return e.set(n,t),this.size+=e.size==r?0:1,this}var az=oz,sz=zV,lz=ZV,cz=ez,uz=nz,fz=az;function Wp(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var r=n[t];this.set(r[0],r[1])}}Wp.prototype.clear=sz;Wp.prototype.delete=lz;Wp.prototype.get=cz;Wp.prototype.has=uz;Wp.prototype.set=fz;var fT=Wp,dz=Lb,hz=uT,pz=fT,vz=200;function gz(n,t){var e=this.__data__;if(e instanceof dz){var r=e.__data__;if(!hz||r.length<vz-1)return r.push([n,t]),this.size=++e.size,this;e=this.__data__=new pz(r)}return e.set(n,t),this.size=e.size,this}var mz=gz,yz=Lb,bz=kU,xz=LU,wz=IU,_z=FU,Sz=mz;function qp(n){var t=this.__data__=new yz(n);this.size=t.size}qp.prototype.clear=bz;qp.prototype.delete=xz;qp.prototype.get=wz;qp.prototype.has=_z;qp.prototype.set=Sz;var dT=qp,Tz="__lodash_hash_undefined__";function Cz(n){return this.__data__.set(n,Tz),this}var Ez=Cz;function Oz(n){return this.__data__.has(n)}var Az=Oz,Nz=fT,Pz=Ez,jz=Az;function h0(n){var t=-1,e=n==null?0:n.length;for(this.__data__=new Nz;++t<e;)this.add(n[t])}h0.prototype.add=h0.prototype.push=Pz;h0.prototype.has=jz;var oP=h0;function kz(n,t){for(var e=-1,r=n==null?0:n.length;++e<r;)if(t(n[e],e,n))return!0;return!1}var aP=kz;function Mz(n,t){return n.has(t)}var sP=Mz,Lz=oP,Dz=aP,Iz=sP,Rz=1,Fz=2;function Bz(n,t,e,r,i,o){var a=e&Rz,s=n.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var c=o.get(n),u=o.get(t);if(c&&u)return c==t&&u==n;var f=-1,h=!0,d=e&Fz?new Lz:void 0;for(o.set(n,t),o.set(t,n);++f<s;){var m=n[f],g=t[f];if(r)var x=a?r(g,m,f,t,n,o):r(m,g,f,n,t,o);if(x!==void 0){if(x)continue;h=!1;break}if(d){if(!Dz(t,function(b,_){if(!Iz(d,_)&&(m===b||i(m,b,e,r,o)))return d.push(_)})){h=!1;break}}else if(!(m===g||i(m,g,e,r,o))){h=!1;break}}return o.delete(n),o.delete(t),h}var lP=Bz,Hz=Vl,$z=Hz.Uint8Array,cP=$z;function Uz(n){var t=-1,e=Array(n.size);return n.forEach(function(r,i){e[++t]=[i,r]}),e}var Vz=Uz;function zz(n){var t=-1,e=Array(n.size);return n.forEach(function(r){e[++t]=r}),e}var hT=zz,O9=Fp,A9=cP,Wz=x1,qz=lP,Gz=Vz,Kz=hT,Yz=1,Xz=2,Zz="[object Boolean]",Jz="[object Date]",Qz="[object Error]",eW="[object Map]",tW="[object Number]",rW="[object RegExp]",nW="[object Set]",iW="[object String]",oW="[object Symbol]",aW="[object ArrayBuffer]",sW="[object DataView]",N9=O9?O9.prototype:void 0,j2=N9?N9.valueOf:void 0;function lW(n,t,e,r,i,o,a){switch(e){case sW:if(n.byteLength!=t.byteLength||n.byteOffset!=t.byteOffset)return!1;n=n.buffer,t=t.buffer;case aW:return!(n.byteLength!=t.byteLength||!o(new A9(n),new A9(t)));case Zz:case Jz:case tW:return Wz(+n,+t);case Qz:return n.name==t.name&&n.message==t.message;case rW:case iW:return n==t+"";case eW:var s=Gz;case nW:var l=r&Yz;if(s||(s=Kz),n.size!=t.size&&!l)return!1;var c=a.get(n);if(c)return c==t;r|=Xz,a.set(n,t);var u=qz(s(n),s(t),r,i,o,a);return a.delete(n),u;case oW:if(j2)return j2.call(n)==j2.call(t)}return!1}var cW=lW;function uW(n,t){for(var e=-1,r=t.length,i=n.length;++e<r;)n[i+e]=t[e];return n}var pT=uW,fW=Array.isArray,ia=fW,dW=pT,hW=ia;function pW(n,t,e){var r=t(n);return hW(n)?r:dW(r,e(n))}var uP=pW;function vW(n,t){for(var e=-1,r=n==null?0:n.length,i=0,o=[];++e<r;){var a=n[e];t(a,e,n)&&(o[i++]=a)}return o}var gW=vW;function mW(){return[]}var fP=mW,yW=gW,bW=fP,xW=Object.prototype,wW=xW.propertyIsEnumerable,P9=Object.getOwnPropertySymbols,_W=P9?function(n){return n==null?[]:(n=Object(n),yW(P9(n),function(t){return wW.call(n,t)}))}:bW,vT=_W;function SW(n,t){for(var e=-1,r=Array(n);++e<n;)r[e]=t(e);return r}var TW=SW,CW=pu,EW=zl,OW="[object Arguments]";function AW(n){return EW(n)&&CW(n)==OW}var NW=AW,j9=NW,PW=zl,dP=Object.prototype,jW=dP.hasOwnProperty,kW=dP.propertyIsEnumerable,MW=j9(function(){return arguments}())?j9:function(n){return PW(n)&&jW.call(n,"callee")&&!kW.call(n,"callee")},gT=MW,p0={exports:{}};function LW(){return!1}var DW=LW;p0.exports;(function(n,t){var e=Vl,r=DW,i=t&&!t.nodeType&&t,o=i&&!0&&n&&!n.nodeType&&n,a=o&&o.exports===i,s=a?e.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||r;n.exports=c})(p0,p0.exports);var Rb=p0.exports,IW=pu,RW=XS,FW=zl,BW="[object Arguments]",HW="[object Array]",$W="[object Boolean]",UW="[object Date]",VW="[object Error]",zW="[object Function]",WW="[object Map]",qW="[object Number]",GW="[object Object]",KW="[object RegExp]",YW="[object Set]",XW="[object String]",ZW="[object WeakMap]",JW="[object ArrayBuffer]",QW="[object DataView]",eq="[object Float32Array]",tq="[object Float64Array]",rq="[object Int8Array]",nq="[object Int16Array]",iq="[object Int32Array]",oq="[object Uint8Array]",aq="[object Uint8ClampedArray]",sq="[object Uint16Array]",lq="[object Uint32Array]",li={};li[eq]=li[tq]=li[rq]=li[nq]=li[iq]=li[oq]=li[aq]=li[sq]=li[lq]=!0;li[BW]=li[HW]=li[JW]=li[$W]=li[QW]=li[UW]=li[VW]=li[zW]=li[WW]=li[qW]=li[GW]=li[KW]=li[YW]=li[XW]=li[ZW]=!1;function cq(n){return FW(n)&&RW(n.length)&&!!li[IW(n)]}var uq=cq;function fq(n){return function(t){return n(t)}}var Fb=fq,v0={exports:{}};v0.exports;(function(n,t){var e=HN,r=t&&!t.nodeType&&t,i=r&&!0&&n&&!n.nodeType&&n,o=i&&i.exports===r,a=o&&e.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();n.exports=s})(v0,v0.exports);var mT=v0.exports,dq=uq,hq=Fb,k9=mT,M9=k9&&k9.isTypedArray,pq=M9?hq(M9):dq,yT=pq,vq=TW,gq=gT,mq=ia,yq=Rb,bq=ZS,xq=yT,wq=Object.prototype,_q=wq.hasOwnProperty;function Sq(n,t){var e=mq(n),r=!e&&gq(n),i=!e&&!r&&yq(n),o=!e&&!r&&!i&&xq(n),a=e||r||i||o,s=a?vq(n.length,String):[],l=s.length;for(var c in n)(t||_q.call(n,c))&&!(a&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||bq(c,l)))&&s.push(c);return s}var hP=Sq,Tq=Object.prototype;function Cq(n){var t=n&&n.constructor,e=typeof t=="function"&&t.prototype||Tq;return n===e}var bT=Cq;function Eq(n,t){return function(e){return n(t(e))}}var pP=Eq,Oq=pP,Aq=Oq(Object.keys,Object),Nq=Aq,Pq=bT,jq=Nq,kq=Object.prototype,Mq=kq.hasOwnProperty;function Lq(n){if(!Pq(n))return jq(n);var t=[];for(var e in Object(n))Mq.call(n,e)&&e!="constructor"&&t.push(e);return t}var Dq=Lq,Iq=hP,Rq=Dq,Fq=Hp;function Bq(n){return Fq(n)?Iq(n):Rq(n)}var Gp=Bq,Hq=uP,$q=vT,Uq=Gp;function Vq(n){return Hq(n,Uq,$q)}var vP=Vq,L9=vP,zq=1,Wq=Object.prototype,qq=Wq.hasOwnProperty;function Gq(n,t,e,r,i,o){var a=e&zq,s=L9(n),l=s.length,c=L9(t),u=c.length;if(l!=u&&!a)return!1;for(var f=l;f--;){var h=s[f];if(!(a?h in t:qq.call(t,h)))return!1}var d=o.get(n),m=o.get(t);if(d&&m)return d==t&&m==n;var g=!0;o.set(n,t),o.set(t,n);for(var x=a;++f<l;){h=s[f];var b=n[h],_=t[h];if(r)var S=a?r(_,b,h,t,n,o):r(b,_,h,n,t,o);if(!(S===void 0?b===_||i(b,_,e,r,o):S)){g=!1;break}x||(x=h=="constructor")}if(g&&!x){var T=n.constructor,C=t.constructor;T!=C&&"constructor"in n&&"constructor"in t&&!(typeof T=="function"&&T instanceof T&&typeof C=="function"&&C instanceof C)&&(g=!1)}return o.delete(n),o.delete(t),g}var Kq=Gq,Yq=Rd,Xq=Vl,Zq=Yq(Xq,"DataView"),Jq=Zq,Qq=Rd,eG=Vl,tG=Qq(eG,"Promise"),rG=tG,nG=Rd,iG=Vl,oG=nG(iG,"Set"),gP=oG,aG=Rd,sG=Vl,lG=aG(sG,"WeakMap"),cG=lG,yw=Jq,bw=uT,xw=rG,ww=gP,_w=cG,mP=pu,Kp=iP,D9="[object Map]",uG="[object Object]",I9="[object Promise]",R9="[object Set]",F9="[object WeakMap]",B9="[object DataView]",fG=Kp(yw),dG=Kp(bw),hG=Kp(xw),pG=Kp(ww),vG=Kp(_w),Uf=mP;(yw&&Uf(new yw(new ArrayBuffer(1)))!=B9||bw&&Uf(new bw)!=D9||xw&&Uf(xw.resolve())!=I9||ww&&Uf(new ww)!=R9||_w&&Uf(new _w)!=F9)&&(Uf=function(n){var t=mP(n),e=t==uG?n.constructor:void 0,r=e?Kp(e):"";if(r)switch(r){case fG:return B9;case dG:return D9;case hG:return I9;case pG:return R9;case vG:return F9}return t});var Bb=Uf,k2=dT,gG=lP,mG=cW,yG=Kq,H9=Bb,$9=ia,U9=Rb,bG=yT,xG=1,V9="[object Arguments]",z9="[object Array]",dm="[object Object]",wG=Object.prototype,W9=wG.hasOwnProperty;function _G(n,t,e,r,i,o){var a=$9(n),s=$9(t),l=a?z9:H9(n),c=s?z9:H9(t);l=l==V9?dm:l,c=c==V9?dm:c;var u=l==dm,f=c==dm,h=l==c;if(h&&U9(n)){if(!U9(t))return!1;a=!0,u=!1}if(h&&!u)return o||(o=new k2),a||bG(n)?gG(n,t,e,r,i,o):mG(n,t,l,e,r,i,o);if(!(e&xG)){var d=u&&W9.call(n,"__wrapped__"),m=f&&W9.call(t,"__wrapped__");if(d||m){var g=d?n.value():n,x=m?t.value():t;return o||(o=new k2),i(g,x,e,r,o)}}return h?(o||(o=new k2),yG(n,t,e,r,i,o)):!1}var SG=_G,TG=SG,q9=zl;function yP(n,t,e,r,i){return n===t?!0:n==null||t==null||!q9(n)&&!q9(t)?n!==n&&t!==t:TG(n,t,e,r,yP,i)}var xT=yP,CG=xT;function EG(n,t){return CG(n,t)}var OG=EG;const _d=hn(OG);function M2(n,t){var e=JS(n);return e?e.innerHeight:cd(n).height}function bP(n,t,e){n.closest&&!e&&n.closest(t);var r=n;do{if(PH(r,t))return r;r=r.parentElement}while(r&&r!==e&&r.nodeType===document.ELEMENT_NODE);return null}function AG(n,t,e,r){for(var i=n.length,o=e+(r?1:-1);r?o--:++o<i;)if(t(n[o],o,n))return o;return-1}var xP=AG,NG=dT,PG=xT,jG=1,kG=2;function MG(n,t,e,r){var i=e.length,o=i,a=!r;if(n==null)return!o;for(n=Object(n);i--;){var s=e[i];if(a&&s[2]?s[1]!==n[s[0]]:!(s[0]in n))return!1}for(;++i<o;){s=e[i];var l=s[0],c=n[l],u=s[1];if(a&&s[2]){if(c===void 0&&!(l in n))return!1}else{var f=new NG;if(r)var h=r(c,u,l,n,t,f);if(!(h===void 0?PG(u,c,jG|kG,r,f):h))return!1}}return!0}var LG=MG,DG=ol;function IG(n){return n===n&&!DG(n)}var wP=IG,RG=wP,FG=Gp;function BG(n){for(var t=FG(n),e=t.length;e--;){var r=t[e],i=n[r];t[e]=[r,i,RG(i)]}return t}var HG=BG;function $G(n,t){return function(e){return e==null?!1:e[n]===t&&(t!==void 0||n in Object(e))}}var _P=$G,UG=LG,VG=HG,zG=_P;function WG(n){var t=VG(n);return t.length==1&&t[0][2]?zG(t[0][0],t[0][1]):function(e){return e===n||UG(e,n,t)}}var qG=WG,GG=ia,KG=Up,YG=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,XG=/^\w*$/;function ZG(n,t){if(GG(n))return!1;var e=typeof n;return e=="number"||e=="symbol"||e=="boolean"||n==null||KG(n)?!0:XG.test(n)||!YG.test(n)||t!=null&&n in Object(t)}var wT=ZG,SP=fT,JG="Expected a function";function _T(n,t){if(typeof n!="function"||t!=null&&typeof t!="function")throw new TypeError(JG);var e=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=e.cache;if(o.has(i))return o.get(i);var a=n.apply(this,r);return e.cache=o.set(i,a)||o,a};return e.cache=new(_T.Cache||SP),e}_T.Cache=SP;var TP=_T;const QG=hn(TP);var eK=TP,tK=500;function rK(n){var t=eK(n,function(r){return e.size===tK&&e.clear(),r}),e=t.cache;return t}var nK=rK,iK=nK,oK=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,aK=/\\(\\)?/g,sK=iK(function(n){var t=[];return n.charCodeAt(0)===46&&t.push(""),n.replace(oK,function(e,r,i,o){t.push(i?o.replace(aK,"$1"):r||e)}),t}),lK=sK;function cK(n,t){for(var e=-1,r=n==null?0:n.length,i=Array(r);++e<r;)i[e]=t(n[e],e,n);return i}var Hb=cK,G9=Fp,uK=Hb,fK=ia,dK=Up,K9=G9?G9.prototype:void 0,Y9=K9?K9.toString:void 0;function CP(n){if(typeof n=="string")return n;if(fK(n))return uK(n,CP)+"";if(dK(n))return Y9?Y9.call(n):"";var t=n+"";return t=="0"&&1/n==-1/0?"-0":t}var hK=CP,pK=hK;function vK(n){return n==null?"":pK(n)}var EP=vK,gK=ia,mK=wT,yK=lK,bK=EP;function xK(n,t){return gK(n)?n:mK(n,t)?[n]:yK(bK(n))}var $b=xK,wK=Up;function _K(n){if(typeof n=="string"||wK(n))return n;var t=n+"";return t=="0"&&1/n==-1/0?"-0":t}var T1=_K,SK=$b,TK=T1;function CK(n,t){t=SK(t,n);for(var e=0,r=t.length;n!=null&&e<r;)n=n[TK(t[e++])];return e&&e==r?n:void 0}var Ub=CK,EK=Ub;function OK(n,t,e){var r=n==null?void 0:EK(n,t);return r===void 0?e:r}var OP=OK;const Ts=hn(OP);function AK(n,t){return n!=null&&t in Object(n)}var NK=AK,PK=$b,jK=gT,kK=ia,MK=ZS,LK=XS,DK=T1;function IK(n,t,e){t=PK(t,n);for(var r=-1,i=t.length,o=!1;++r<i;){var a=DK(t[r]);if(!(o=n!=null&&e(n,a)))break;n=n[a]}return o||++r!=i?o:(i=n==null?0:n.length,!!i&&LK(i)&&MK(a,i)&&(kK(n)||jK(n)))}var RK=IK,FK=NK,BK=RK;function HK(n,t){return n!=null&&BK(n,t,FK)}var $K=HK,UK=xT,VK=OP,zK=$K,WK=wT,qK=wP,GK=_P,KK=T1,YK=1,XK=2;function ZK(n,t){return WK(n)&&qK(t)?GK(KK(n),t):function(e){var r=VK(e,n);return r===void 0&&r===t?zK(e,n):UK(t,r,YK|XK)}}var JK=ZK;function QK(n){return n}var Yp=QK;function eY(n){return function(t){return t==null?void 0:t[n]}}var tY=eY,rY=Ub;function nY(n){return function(t){return rY(t,n)}}var iY=nY,oY=tY,aY=iY,sY=wT,lY=T1;function cY(n){return sY(n)?oY(lY(n)):aY(n)}var uY=cY,fY=qG,dY=JK,hY=Yp,pY=ia,vY=uY;function gY(n){return typeof n=="function"?n:n==null?hY:typeof n=="object"?pY(n)?dY(n[0],n[1]):fY(n):vY(n)}var Wl=gY,mY=xP,yY=Wl,bY=zN,xY=Math.max;function wY(n,t,e){var r=n==null?0:n.length;if(!r)return-1;var i=e==null?0:bY(e);return i<0&&(i=xY(r+i,0)),mY(n,yY(t),i)}var AP=wY;const _Y=hn(AP);var SY=Math.ceil,TY=Math.max;function CY(n,t,e,r){for(var i=-1,o=TY(SY((t-n)/(e||1)),0),a=Array(o);o--;)a[r?o:++i]=n,n+=e;return a}var EY=CY,OY=EY,AY=$p,L2=VN;function NY(n){return function(t,e,r){return r&&typeof r!="number"&&AY(t,e,r)&&(e=r=void 0),t=L2(t),e===void 0?(e=t,t=0):e=L2(e),r=r===void 0?t<e?1:-1:L2(r),OY(t,e,r,n)}}var PY=NY,jY=PY,kY=jY(),MY=kY;const Ag=hn(MY);var X9=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function LY(n,t){return!!(n===t||X9(n)&&X9(t))}function DY(n,t){if(n.length!==t.length)return!1;for(var e=0;e<n.length;e++)if(!LY(n[e],t[e]))return!1;return!0}function NP(n,t){t===void 0&&(t=DY);var e=null;function r(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(e&&e.lastThis===this&&t(i,e.lastArgs))return e.lastResult;var a=n.apply(this,i);return e={lastResult:a,lastArgs:i,lastThis:this},a}return r.clear=function(){e=null},r}function Sw(n,t){var e=JS(n);return e?e.innerWidth:cd(n).width}var Z9=Fp,IY=gT,RY=ia,J9=Z9?Z9.isConcatSpreadable:void 0;function FY(n){return RY(n)||IY(n)||!!(J9&&n&&n[J9])}var BY=FY,HY=pT,$Y=BY;function PP(n,t,e,r,i){var o=-1,a=n.length;for(e||(e=$Y),i||(i=[]);++o<a;){var s=n[o];t>0&&e(s)?t>1?PP(s,t-1,e,r,i):HY(i,s):r||(i[i.length]=s)}return i}var ST=PP;function UY(n){return function(t,e,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var l=a[n?s:++i];if(e(o[l],l,o)===!1)break}return t}}var VY=UY,zY=VY,WY=zY(),qY=WY,GY=qY,KY=Gp;function YY(n,t){return n&&GY(n,t,KY)}var TT=YY,XY=Hp;function ZY(n,t){return function(e,r){if(e==null)return e;if(!XY(e))return n(e,r);for(var i=e.length,o=t?i:-1,a=Object(e);(t?o--:++o<i)&&r(a[o],o,a)!==!1;);return e}}var JY=ZY,QY=TT,eX=JY,tX=eX(QY),CT=tX,rX=CT,nX=Hp;function iX(n,t){var e=-1,r=nX(n)?Array(n.length):[];return rX(n,function(i,o,a){r[++e]=t(i,o,a)}),r}var jP=iX;function oX(n,t){var e=n.length;for(n.sort(t);e--;)n[e]=n[e].value;return n}var aX=oX,Q9=Up;function sX(n,t){if(n!==t){var e=n!==void 0,r=n===null,i=n===n,o=Q9(n),a=t!==void 0,s=t===null,l=t===t,c=Q9(t);if(!s&&!c&&!o&&n>t||o&&a&&l&&!s&&!c||r&&a&&l||!e&&l||!i)return 1;if(!r&&!o&&!c&&n<t||c&&e&&i&&!r&&!o||s&&e&&i||!a&&i||!l)return-1}return 0}var lX=sX,cX=lX;function uX(n,t,e){for(var r=-1,i=n.criteria,o=t.criteria,a=i.length,s=e.length;++r<a;){var l=cX(i[r],o[r]);if(l){if(r>=s)return l;var c=e[r];return l*(c=="desc"?-1:1)}}return n.index-t.index}var fX=uX,D2=Hb,dX=Ub,hX=Wl,pX=jP,vX=aX,gX=Fb,mX=fX,yX=Yp,bX=ia;function xX(n,t,e){t.length?t=D2(t,function(o){return bX(o)?function(a){return dX(a,o.length===1?o[0]:o)}:o}):t=[yX];var r=-1;t=D2(t,gX(hX));var i=pX(n,function(o,a,s){var l=D2(t,function(c){return c(o)});return{criteria:l,index:++r,value:o}});return vX(i,function(o,a){return mX(o,a,e)})}var wX=xX;function _X(n,t,e){switch(e.length){case 0:return n.call(t);case 1:return n.call(t,e[0]);case 2:return n.call(t,e[0],e[1]);case 3:return n.call(t,e[0],e[1],e[2])}return n.apply(t,e)}var SX=_X,TX=SX,eE=Math.max;function CX(n,t,e){return t=eE(t===void 0?n.length-1:t,0),function(){for(var r=arguments,i=-1,o=eE(r.length-t,0),a=Array(o);++i<o;)a[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=e(a),TX(n,this,s)}}var kP=CX;function EX(n){return function(){return n}}var OX=EX,AX=Rd,NX=function(){try{var n=AX(Object,"defineProperty");return n({},"",{}),n}catch{}}(),MP=NX,PX=OX,tE=MP,jX=Yp,kX=tE?function(n,t){return tE(n,"toString",{configurable:!0,enumerable:!1,value:PX(t),writable:!0})}:jX,MX=kX,LX=800,DX=16,IX=Date.now;function RX(n){var t=0,e=0;return function(){var r=IX(),i=DX-(r-e);if(e=r,i>0){if(++t>=LX)return arguments[0]}else t=0;return n.apply(void 0,arguments)}}var FX=RX,BX=MX,HX=FX,$X=HX(BX),LP=$X,UX=Yp,VX=kP,zX=LP;function WX(n,t){return zX(VX(n,t,UX),n+"")}var DP=WX,qX=ST,GX=wX,KX=DP,rE=$p,YX=KX(function(n,t){if(n==null)return[];var e=t.length;return e>1&&rE(n,t[0],t[1])?t=[]:e>2&&rE(t[0],t[1],t[2])&&(t=[t[0]]),GX(n,qX(t,1),[])}),XX=YX;const Vb=hn(XX);function IP(n){return CN(n)||BN(n)||qS(n)||EN()}function ZX(n){var t=[];if(n!=null)for(var e in Object(n))t.push(e);return t}var JX=ZX,QX=ol,eZ=bT,tZ=JX,rZ=Object.prototype,nZ=rZ.hasOwnProperty;function iZ(n){if(!QX(n))return tZ(n);var t=eZ(n),e=[];for(var r in n)r=="constructor"&&(t||!nZ.call(n,r))||e.push(r);return e}var oZ=iZ,aZ=hP,sZ=oZ,lZ=Hp;function cZ(n){return lZ(n)?aZ(n,!0):sZ(n)}var zb=cZ,uZ=DP,fZ=x1,dZ=$p,hZ=zb,RP=Object.prototype,pZ=RP.hasOwnProperty,vZ=uZ(function(n,t){n=Object(n);var e=-1,r=t.length,i=r>2?t[2]:void 0;for(i&&dZ(t[0],t[1],i)&&(r=1);++e<r;)for(var o=t[e],a=hZ(o),s=-1,l=a.length;++s<l;){var c=a[s],u=n[c];(u===void 0||fZ(u,RP[c])&&!pZ.call(n,c))&&(n[c]=o[c])}return n}),gZ=vZ;const mZ=hn(gZ);var nE=MP;function yZ(n,t,e){t=="__proto__"&&nE?nE(n,t,{configurable:!0,enumerable:!0,value:e,writable:!0}):n[t]=e}var ET=yZ,bZ=ET,xZ=TT,wZ=Wl;function _Z(n,t){var e={};return t=wZ(t),xZ(n,function(r,i,o){bZ(e,i,t(r,i,o))}),e}var SZ=_Z;const FP=hn(SZ);function TZ(n,t){for(var e=-1,r=n==null?0:n.length;++e<r&&t(n[e],e,n)!==!1;);return n}var BP=TZ,CZ=ET,EZ=x1,OZ=Object.prototype,AZ=OZ.hasOwnProperty;function NZ(n,t,e){var r=n[t];(!(AZ.call(n,t)&&EZ(r,e))||e===void 0&&!(t in n))&&CZ(n,t,e)}var HP=NZ,PZ=HP,jZ=ET;function kZ(n,t,e,r){var i=!e;e||(e={});for(var o=-1,a=t.length;++o<a;){var s=t[o],l=r?r(e[s],n[s],s,e,n):void 0;l===void 0&&(l=n[s]),i?jZ(e,s,l):PZ(e,s,l)}return e}var C1=kZ,MZ=C1,LZ=Gp;function DZ(n,t){return n&&MZ(t,LZ(t),n)}var IZ=DZ,RZ=C1,FZ=zb;function BZ(n,t){return n&&RZ(t,FZ(t),n)}var HZ=BZ,g0={exports:{}};g0.exports;(function(n,t){var e=Vl,r=t&&!t.nodeType&&t,i=r&&!0&&n&&!n.nodeType&&n,o=i&&i.exports===r,a=o?e.Buffer:void 0,s=a?a.allocUnsafe:void 0;function l(c,u){if(u)return c.slice();var f=c.length,h=s?s(f):new c.constructor(f);return c.copy(h),h}n.exports=l})(g0,g0.exports);var $Z=g0.exports;function UZ(n,t){var e=-1,r=n.length;for(t||(t=Array(r));++e<r;)t[e]=n[e];return t}var VZ=UZ,zZ=C1,WZ=vT;function qZ(n,t){return zZ(n,WZ(n),t)}var GZ=qZ,KZ=pP,YZ=KZ(Object.getPrototypeOf,Object),Wb=YZ,XZ=pT,ZZ=Wb,JZ=vT,QZ=fP,eJ=Object.getOwnPropertySymbols,tJ=eJ?function(n){for(var t=[];n;)XZ(t,JZ(n)),n=ZZ(n);return t}:QZ,$P=tJ,rJ=C1,nJ=$P;function iJ(n,t){return rJ(n,nJ(n),t)}var oJ=iJ,aJ=uP,sJ=$P,lJ=zb;function cJ(n){return aJ(n,lJ,sJ)}var UP=cJ,uJ=Object.prototype,fJ=uJ.hasOwnProperty;function dJ(n){var t=n.length,e=new n.constructor(t);return t&&typeof n[0]=="string"&&fJ.call(n,"index")&&(e.index=n.index,e.input=n.input),e}var hJ=dJ,iE=cP;function pJ(n){var t=new n.constructor(n.byteLength);return new iE(t).set(new iE(n)),t}var OT=pJ,vJ=OT;function gJ(n,t){var e=t?vJ(n.buffer):n.buffer;return new n.constructor(e,n.byteOffset,n.byteLength)}var mJ=gJ,yJ=/\w*$/;function bJ(n){var t=new n.constructor(n.source,yJ.exec(n));return t.lastIndex=n.lastIndex,t}var xJ=bJ,oE=Fp,aE=oE?oE.prototype:void 0,sE=aE?aE.valueOf:void 0;function wJ(n){return sE?Object(sE.call(n)):{}}var _J=wJ,SJ=OT;function TJ(n,t){var e=t?SJ(n.buffer):n.buffer;return new n.constructor(e,n.byteOffset,n.length)}var CJ=TJ,EJ=OT,OJ=mJ,AJ=xJ,NJ=_J,PJ=CJ,jJ="[object Boolean]",kJ="[object Date]",MJ="[object Map]",LJ="[object Number]",DJ="[object RegExp]",IJ="[object Set]",RJ="[object String]",FJ="[object Symbol]",BJ="[object ArrayBuffer]",HJ="[object DataView]",$J="[object Float32Array]",UJ="[object Float64Array]",VJ="[object Int8Array]",zJ="[object Int16Array]",WJ="[object Int32Array]",qJ="[object Uint8Array]",GJ="[object Uint8ClampedArray]",KJ="[object Uint16Array]",YJ="[object Uint32Array]";function XJ(n,t,e){var r=n.constructor;switch(t){case BJ:return EJ(n);case jJ:case kJ:return new r(+n);case HJ:return OJ(n,e);case $J:case UJ:case VJ:case zJ:case WJ:case qJ:case GJ:case KJ:case YJ:return PJ(n,e);case MJ:return new r;case LJ:case RJ:return new r(n);case DJ:return AJ(n);case IJ:return new r;case FJ:return NJ(n)}}var ZJ=XJ,JJ=ol,lE=Object.create,QJ=function(){function n(){}return function(t){if(!JJ(t))return{};if(lE)return lE(t);n.prototype=t;var e=new n;return n.prototype=void 0,e}}(),VP=QJ,eQ=VP,tQ=Wb,rQ=bT;function nQ(n){return typeof n.constructor=="function"&&!rQ(n)?eQ(tQ(n)):{}}var iQ=nQ,oQ=Bb,aQ=zl,sQ="[object Map]";function lQ(n){return aQ(n)&&oQ(n)==sQ}var cQ=lQ,uQ=cQ,fQ=Fb,cE=mT,uE=cE&&cE.isMap,dQ=uE?fQ(uE):uQ,hQ=dQ,pQ=Bb,vQ=zl,gQ="[object Set]";function mQ(n){return vQ(n)&&pQ(n)==gQ}var yQ=mQ,bQ=yQ,xQ=Fb,fE=mT,dE=fE&&fE.isSet,wQ=dE?xQ(dE):bQ,_Q=wQ,SQ=dT,TQ=BP,CQ=HP,EQ=IZ,OQ=HZ,AQ=$Z,NQ=VZ,PQ=GZ,jQ=oJ,kQ=vP,MQ=UP,LQ=Bb,DQ=hJ,IQ=ZJ,RQ=iQ,FQ=ia,BQ=Rb,HQ=hQ,$Q=ol,UQ=_Q,VQ=Gp,zQ=zb,WQ=1,qQ=2,GQ=4,zP="[object Arguments]",KQ="[object Array]",YQ="[object Boolean]",XQ="[object Date]",ZQ="[object Error]",WP="[object Function]",JQ="[object GeneratorFunction]",QQ="[object Map]",eee="[object Number]",qP="[object Object]",tee="[object RegExp]",ree="[object Set]",nee="[object String]",iee="[object Symbol]",oee="[object WeakMap]",aee="[object ArrayBuffer]",see="[object DataView]",lee="[object Float32Array]",cee="[object Float64Array]",uee="[object Int8Array]",fee="[object Int16Array]",dee="[object Int32Array]",hee="[object Uint8Array]",pee="[object Uint8ClampedArray]",vee="[object Uint16Array]",gee="[object Uint32Array]",Xn={};Xn[zP]=Xn[KQ]=Xn[aee]=Xn[see]=Xn[YQ]=Xn[XQ]=Xn[lee]=Xn[cee]=Xn[uee]=Xn[fee]=Xn[dee]=Xn[QQ]=Xn[eee]=Xn[qP]=Xn[tee]=Xn[ree]=Xn[nee]=Xn[iee]=Xn[hee]=Xn[pee]=Xn[vee]=Xn[gee]=!0;Xn[ZQ]=Xn[WP]=Xn[oee]=!1;function Gm(n,t,e,r,i,o){var a,s=t&WQ,l=t&qQ,c=t&GQ;if(e&&(a=i?e(n,r,i,o):e(n)),a!==void 0)return a;if(!$Q(n))return n;var u=FQ(n);if(u){if(a=DQ(n),!s)return NQ(n,a)}else{var f=LQ(n),h=f==WP||f==JQ;if(BQ(n))return AQ(n,s);if(f==qP||f==zP||h&&!i){if(a=l||h?{}:RQ(n),!s)return l?jQ(n,OQ(a,n)):PQ(n,EQ(a,n))}else{if(!Xn[f])return i?n:{};a=IQ(n,f,s)}}o||(o=new SQ);var d=o.get(n);if(d)return d;o.set(n,a),UQ(n)?n.forEach(function(x){a.add(Gm(x,t,e,x,n,o))}):HQ(n)&&n.forEach(function(x,b){a.set(b,Gm(x,t,e,b,n,o))});var m=c?l?MQ:kQ:l?zQ:VQ,g=u?void 0:m(n);return TQ(g||n,function(x,b){g&&(b=x,x=n[b]),CQ(a,b,Gm(x,t,e,b,n,o))}),a}var mee=Gm;function yee(n){var t=n==null?0:n.length;return t?n[t-1]:void 0}var GP=yee;const bee=hn(GP);var xee=Ub,wee=YS;function _ee(n,t){return t.length<2?n:xee(n,wee(t,0,-1))}var See=_ee,Tee=$b,Cee=GP,Eee=See,Oee=T1;function Aee(n,t){return t=Tee(t,n),n=Eee(n,t),n==null||delete n[Oee(Cee(t))]}var Nee=Aee,Pee=pu,jee=Wb,kee=zl,Mee="[object Object]",Lee=Function.prototype,Dee=Object.prototype,KP=Lee.toString,Iee=Dee.hasOwnProperty,Ree=KP.call(Object);function Fee(n){if(!kee(n)||Pee(n)!=Mee)return!1;var t=jee(n);if(t===null)return!0;var e=Iee.call(t,"constructor")&&t.constructor;return typeof e=="function"&&e instanceof e&&KP.call(e)==Ree}var YP=Fee;const Bee=hn(YP);var Hee=YP;function $ee(n){return Hee(n)?void 0:n}var Uee=$ee,Vee=ST;function zee(n){var t=n==null?0:n.length;return t?Vee(n,1):[]}var Wee=zee,qee=Wee,Gee=kP,Kee=LP;function Yee(n){return Kee(Gee(n,void 0,qee),n+"")}var Xee=Yee,Zee=Hb,Jee=mee,Qee=Nee,ete=$b,tte=C1,rte=Uee,nte=Xee,ite=UP,ote=1,ate=2,ste=4,lte=nte(function(n,t){var e={};if(n==null)return e;var r=!1;t=Zee(t,function(o){return o=ete(o,n),r||(r=o.length>1),o}),tte(n,ite(n),e),r&&(e=Jee(e,ote|ate|ste,rte));for(var i=t.length;i--;)Qee(e,t[i]);return e}),cte=lte;const ute=hn(cte);var fte=BP,dte=VP,hte=TT,pte=Wl,vte=Wb,gte=ia,mte=Rb,yte=jb,bte=ol,xte=yT;function wte(n,t,e){var r=gte(n),i=r||mte(n)||xte(n);if(t=pte(t),e==null){var o=n&&n.constructor;i?e=r?new o:[]:bte(n)?e=yte(o)?dte(vte(n)):{}:e={}}return(i?fte:hte)(n,function(a,s,l){return t(e,a,s,l)}),e}var _te=wte;const Ste=hn(_te);var Tte={exports:{}};(function(n,t){(function(e,r){n.exports=r()})(Ga,function(){return function(e,r,i){r.prototype.isBetween=function(o,a,s,l){var c=i(o),u=i(a),f=(l=l||"()")[0]==="(",h=l[1]===")";return(f?this.isAfter(c,s):!this.isBefore(c,s))&&(h?this.isBefore(u,s):!this.isAfter(u,s))||(f?this.isBefore(c,s):!this.isAfter(c,s))&&(h?this.isAfter(u,s):!this.isBefore(u,s))}}})})(Tte);var Cte={exports:{}};(function(n,t){(function(e,r){n.exports=r()})(Ga,function(){return function(e,r){r.prototype.isSameOrAfter=function(i,o){return this.isSame(i,o)||this.isAfter(i,o)}}})})(Cte);var Ete={exports:{}};(function(n,t){(function(e,r){n.exports=r()})(Ga,function(){return function(e,r){r.prototype.isSameOrBefore=function(i,o){return this.isSame(i,o)||this.isBefore(i,o)}}})})(Ete);var Ote={exports:{}};(function(n,t){(function(e,r){n.exports=r()})(Ga,function(){return function(e,r,i){var o=r.prototype,a=function(f){return f&&(f.indexOf?f:f.s)},s=function(f,h,d,m,g){var x=f.name?f:f.$locale(),b=a(x[h]),_=a(x[d]),S=b||_.map(function(C){return C.slice(0,m)});if(!g)return S;var T=x.weekStart;return S.map(function(C,w){return S[(w+(T||0))%7]})},l=function(){return i.Ls[i.locale()]},c=function(f,h){return f.formats[h]||function(d){return d.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(m,g,x){return g||x.slice(1)})}(f.formats[h.toUpperCase()])},u=function(){var f=this;return{months:function(h){return h?h.format("MMMM"):s(f,"months")},monthsShort:function(h){return h?h.format("MMM"):s(f,"monthsShort","months",3)},firstDayOfWeek:function(){return f.$locale().weekStart||0},weekdays:function(h){return h?h.format("dddd"):s(f,"weekdays")},weekdaysMin:function(h){return h?h.format("dd"):s(f,"weekdaysMin","weekdays",2)},weekdaysShort:function(h){return h?h.format("ddd"):s(f,"weekdaysShort","weekdays",3)},longDateFormat:function(h){return c(f.$locale(),h)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};o.localeData=function(){return u.bind(this)()},i.localeData=function(){var f=l();return{firstDayOfWeek:function(){return f.weekStart||0},weekdays:function(){return i.weekdays()},weekdaysShort:function(){return i.weekdaysShort()},weekdaysMin:function(){return i.weekdaysMin()},months:function(){return i.months()},monthsShort:function(){return i.monthsShort()},longDateFormat:function(h){return c(f,h)},meridiem:f.meridiem,ordinal:f.ordinal}},i.months=function(){return s(l(),"months")},i.monthsShort=function(){return s(l(),"monthsShort","months",3)},i.weekdays=function(f){return s(l(),"weekdays",null,null,f)},i.weekdaysShort=function(f){return s(l(),"weekdaysShort","weekdays",3,f)},i.weekdaysMin=function(f){return s(l(),"weekdaysMin","weekdays",2,f)}}})})(Ote);var Ate={exports:{}};(function(n,t){(function(e,r){n.exports=r()})(Ga,function(){var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(r,i,o){var a=i.prototype,s=a.format;o.en.formats=e,a.format=function(l){l===void 0&&(l="YYYY-MM-DDTHH:mm:ssZ");var c=this.$locale().formats,u=function(f,h){return f.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(d,m,g){var x=g&&g.toUpperCase();return m||h[g]||e[g]||h[x].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(b,_,S){return _||S.slice(1)})})}(l,c===void 0?{}:c);return s.call(this,u)}}})})(Ate);var Nte={exports:{}};(function(n,t){(function(e,r){n.exports=r()})(Ga,function(){return function(e,r,i){var o=function(a,s){if(!s||!s.length||s.length===1&&!s[0]||s.length===1&&Array.isArray(s[0])&&!s[0].length)return null;var l;s.length===1&&s[0].length>0&&(s=s[0]),l=(s=s.filter(function(u){return u}))[0];for(var c=1;c<s.length;c+=1)s[c].isValid()&&!s[c][a](l)||(l=s[c]);return l};i.max=function(){var a=[].slice.call(arguments,0);return o("isAfter",a)},i.min=function(){var a=[].slice.call(arguments,0);return o("isBefore",a)}}})})(Nte);var Pte={exports:{}};(function(n,t){(function(e,r){n.exports=r()})(Ga,function(){var e="minute",r=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(o,a,s){var l=a.prototype;s.utc=function(g){var x={date:g,utc:!0,args:arguments};return new a(x)},l.utc=function(g){var x=s(this.toDate(),{locale:this.$L,utc:!0});return g?x.add(this.utcOffset(),e):x},l.local=function(){return s(this.toDate(),{locale:this.$L,utc:!1})};var c=l.parse;l.parse=function(g){g.utc&&(this.$u=!0),this.$utils().u(g.$offset)||(this.$offset=g.$offset),c.call(this,g)};var u=l.init;l.init=function(){if(this.$u){var g=this.$d;this.$y=g.getUTCFullYear(),this.$M=g.getUTCMonth(),this.$D=g.getUTCDate(),this.$W=g.getUTCDay(),this.$H=g.getUTCHours(),this.$m=g.getUTCMinutes(),this.$s=g.getUTCSeconds(),this.$ms=g.getUTCMilliseconds()}else u.call(this)};var f=l.utcOffset;l.utcOffset=function(g,x){var b=this.$utils().u;if(b(g))return this.$u?0:b(this.$offset)?f.call(this):this.$offset;if(typeof g=="string"&&(g=function(C){C===void 0&&(C="");var w=C.match(r);if(!w)return null;var N=(""+w[0]).match(i)||["-",0,0],A=N[0],j=60*+N[1]+ +N[2];return j===0?0:A==="+"?j:-j}(g),g===null))return this;var _=Math.abs(g)<=16?60*g:g,S=this;if(x)return S.$offset=_,S.$u=g===0,S;if(g!==0){var T=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(S=this.local().add(_+T,e)).$offset=_,S.$x.$localOffset=T}else S=this.utc();return S};var h=l.format;l.format=function(g){var x=g||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return h.call(this,x)},l.valueOf=function(){var g=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*g},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var d=l.toDate;l.toDate=function(g){return g==="s"&&this.$offset?s(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():d.call(this)};var m=l.diff;l.diff=function(g,x,b){if(g&&this.$u===g.$u)return m.call(this,g,x,b);var _=this.local(),S=s(g).local();return m.call(_,S,x,b)}}})})(Pte);var jte={exports:{}};(function(n,t){(function(e,r){n.exports=r()})(Ga,function(){return function(e,r){r.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}})})(jte);function fc(n){return n.children}var Qa={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},_a={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},hE=Object.keys(_a).map(function(n){return _a[n]});Lt.oneOfType([Lt.string,Lt.func]);Lt.any;Lt.func;Lt.oneOfType([Lt.arrayOf(Lt.oneOf(hE)),Lt.objectOf(function(n,t){var e=hE.indexOf(t)!==-1&&typeof n[t]=="boolean";if(e)return null;for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return Lt.elementType.apply(Lt,[n,t].concat(i))})]);Lt.oneOfType([Lt.oneOf(["overlap","no-overlap"]),Lt.func]);var pE={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function XP(n,t){var e=Do(n,"month");return Do(e,"week",t.startOfWeek())}function ZP(n,t){var e=u0(n,"month");return u0(e,"week",t.startOfWeek())}function kte(n,t){for(var e=XP(n,t),r=ZP(n,t),i=[];Ip(e,r,"day");)i.push(e),e=Hl(e,1,"day");return i}function Mte(n,t){var e=Do(n,t);return Dp(e,n)?e:Hl(e,1,t)}function Lte(n,t){for(var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",r=n,i=[];Ip(r,t,e);)i.push(r),r=Hl(r,1,e);return i}function Dte(n,t){return t==null&&n==null?null:(t==null&&(t=new Date),n==null&&(n=new Date),n=Do(n,"day"),n=Tg(n,Tg(t)),n=rp(n,rp(t)),n=Sg(n,Sg(t)),_g(n,_g(t)))}function vE(n){return Tg(n)===0&&rp(n)===0&&Sg(n)===0&&_g(n)===0}function Ite(n,t,e,r){return e==="day"&&(e="date"),Math.abs(ZC[e](n,void 0,r)-ZC[e](t,void 0,r))}function AT(n,t,e){return!e||e==="milliseconds"?Math.abs(+n-+t):Math.round(Math.abs(+Do(n,e)/pE[e]-+Do(t,e)/pE[e]))}var Rte=Lt.oneOfType([Lt.string,Lt.func]);function Fte(n,t,e,r,i){var o=typeof r=="function"?r(e,i,n):t.call(n,e,r,i);return gg(o==null||typeof o=="string","`localizer format(..)` must return a string, null, or undefined"),o}function Bte(n,t,e){return new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,t+e,0,0)}function NT(n,t){return n.getTimezoneOffset()-t.getTimezoneOffset()}function Hte(n,t){return AT(n,t,"minutes")+NT(n,t)}function $te(n){var t=Do(n,"day");return AT(t,n,"minutes")+NT(t,n)}function Ute(n,t){return KS(n,t,"day")}function Vte(n,t,e){var r=Dp(n,t,"minutes");return r?b1(t,e,"minutes"):Pb(t,e,"minutes")}function Tw(n,t){return Ite(n,t,"day")}function zte(n){var t=n.evtA,e=t.start,r=t.end,i=t.allDay,o=n.evtB,a=o.start,s=o.end,l=o.allDay,c=+Do(e,"day")-+Do(a,"day"),u=Tw(e,r),f=Tw(a,s);return c||f-u||!!l-!!i||+e-+a||+r-+s}function Wte(n){var t=n.event,e=t.start,r=t.end,i=n.range,o=i.start,a=i.end,s=Do(e,"day"),l=Ip(s,a,"day"),c=GS(s,r,"minutes"),u=c?Pb(r,o,"minutes"):b1(r,o,"minutes");return l&&u}function qte(n,t){return Dp(n,t,"day")}function Gte(n,t){return vE(n)&&vE(t)}var Kte=uo(function n(t){var e=this;co(this,n),gg(typeof t.format=="function","date localizer `format(..)` must be a function"),gg(typeof t.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=t.propType||Rte,this.formats=t.formats,this.format=function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Fte.apply(void 0,[e,t.format].concat(i))},this.startOfWeek=t.firstOfWeek,this.merge=t.merge||Dte,this.inRange=t.inRange||DN,this.lt=t.lt||KS,this.lte=t.lte||Ip,this.gt=t.gt||Pb,this.gte=t.gte||b1,this.eq=t.eq||Dp,this.neq=t.neq||GS,this.startOf=t.startOf||Do,this.endOf=t.endOf||u0,this.add=t.add||Hl,this.range=t.range||Lte,this.diff=t.diff||AT,this.ceil=t.ceil||Mte,this.min=t.min||MN,this.max=t.max||LN,this.minutes=t.minutes||rp,this.daySpan=t.daySpan||Tw,this.firstVisibleDay=t.firstVisibleDay||XP,this.lastVisibleDay=t.lastVisibleDay||ZP,this.visibleDays=t.visibleDays||kte,this.getSlotDate=t.getSlotDate||Bte,this.getTimezoneOffset=t.getTimezoneOffset||function(r){return r.getTimezoneOffset()},this.getDstOffset=t.getDstOffset||NT,this.getTotalMin=t.getTotalMin||Hte,this.getMinutesFromMidnight=t.getMinutesFromMidnight||$te,this.continuesPrior=t.continuesPrior||Ute,this.continuesAfter=t.continuesAfter||Vte,this.sortEvents=t.sortEvents||zte,this.inEventRange=t.inEventRange||Wte,this.isSameDate=t.isSameDate||qte,this.startAndEndAreDateOnly=t.startAndEndAreDateOnly||Gte,this.segmentOffset=t.browserTZOffset?t.browserTZOffset():0});function Yte(n,t,e,r){var i=Gn(Gn({},n.formats),e);return Gn(Gn({},n),{},{messages:r,startOfWeek:function(){return n.startOfWeek(t)},format:function(a,s){return n.format(a,i[s]||s,t)}})}var Xte=function(n){function t(){var e;co(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=ra(this,t,[].concat(i)),e.navigate=function(a){e.props.onNavigate(a)},e.view=function(a){e.props.onView(a)},e}return na(t,n),uo(t,[{key:"render",value:function(){var r=this.props,i=r.localizer.messages,o=r.label;return Se.createElement("div",{className:"rbc-toolbar"},Se.createElement("span",{className:"rbc-btn-group"},Se.createElement("button",{type:"button",onClick:this.navigate.bind(null,Qa.TODAY)},i.today),Se.createElement("button",{type:"button",onClick:this.navigate.bind(null,Qa.PREVIOUS)},i.previous),Se.createElement("button",{type:"button",onClick:this.navigate.bind(null,Qa.NEXT)},i.next)),Se.createElement("span",{className:"rbc-toolbar-label"},o),Se.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(i)))}},{key:"viewNamesGroup",value:function(r){var i=this,o=this.props.views,a=this.props.view;if(o.length>1)return o.map(function(s){return Se.createElement("button",{type:"button",key:s,className:ki({"rbc-active":a===s}),onClick:i.view.bind(null,s)},r[s])})}}])}(Se.Component);function fi(n,t){n&&n.apply(null,[].concat(t))}var Zte={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(t){return"+".concat(t," more")}};function Jte(n){return Gn(Gn({},Zte),n)}function Qte(n){var t=n.ref,e=n.callback;ye.useEffect(function(){var r=function(o){t.current&&!t.current.contains(o.target)&&e()};return document.addEventListener("mousedown",r),function(){document.removeEventListener("mousedown",r)}},[t,e])}var ere=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],JP=function(n){function t(){return co(this,t),ra(this,t,arguments)}return na(t,n),uo(t,[{key:"render",value:function(){var r=this.props,i=r.style,o=r.className,a=r.event,s=r.selected,l=r.isAllDay,c=r.onSelect,u=r.onDoubleClick,f=r.onKeyPress,h=r.localizer,d=r.continuesPrior,m=r.continuesAfter,g=r.accessors,x=r.getters,b=r.children,_=r.components,S=_.event,T=_.eventWrapper,C=r.slotStart,w=r.slotEnd,N=_c(r,ere);delete N.resizable;var A=g.title(a),j=g.tooltip(a),R=g.end(a),L=g.start(a),M=g.allDay(a),I=l||M||h.diff(L,h.ceil(R,"day"),"day")>1,D=x.eventProp(a,L,R,s),V=Se.createElement("div",{className:"rbc-event-content",title:j||void 0},S?Se.createElement(S,{event:a,continuesPrior:d,continuesAfter:m,title:A,isAllDay:M,localizer:h,slotStart:C,slotEnd:w}):A);return Se.createElement(T,Object.assign({},this.props,{type:"date"}),Se.createElement("div",Object.assign({},N,{style:Gn(Gn({},D.style),i),className:ki("rbc-event",o,D.className,{"rbc-selected":s,"rbc-event-allday":I,"rbc-event-continues-prior":d,"rbc-event-continues-after":m}),onClick:function(G){return c&&c(a,G)},onDoubleClick:function(G){return u&&u(a,G)},onKeyDown:function(G){return f&&f(a,G)}}),typeof b=="function"?b(V):V))}}])}(Se.Component);function qb(n,t){return!n||t==null?!1:_d(n,t)}function QP(n,t){var e=n.right-n.left,r=e/t;return r}function e7(n,t,e,r){var i=QP(n,r);return e?r-1-Math.floor((t-n.left)/i):Math.floor((t-n.left)/i)}function tre(n,t){var e=t.x,r=t.y;return r>=n.top&&r<=n.bottom&&e>=n.left&&e<=n.right}function rre(n,t,e,r,i){var o=-1,a=-1,s=r-1,l=QP(t,r),c=e7(t,e.x,i,r),u=t.top<e.y&&t.bottom>e.y,f=t.top<n.y&&t.bottom>n.y,h=n.y>t.bottom,d=t.top>n.y,m=e.top<t.top&&e.bottom>t.bottom;return m&&(o=0,a=s),u&&(d?(o=0,a=c):h&&(o=c,a=s)),f&&(o=a=i?s-Math.floor((n.x-t.left)/l):Math.floor((n.x-t.left)/l),u?c<o?o=c:a=c:n.y<e.y?a=s:o=0),{startIdx:o,endIdx:a}}function nre(n){var t=n.target,e=n.offset,r=n.container,i=n.box,o=cd(t),a=o.top,s=o.left,l=o.width,c=o.height,u=cd(r),f=u.top,h=u.left,d=u.width,m=u.height,g=cd(i),x=g.width,b=g.height,_=f+m,S=h+d,T=a+b,C=s+x,w=e.x,N=e.y,A=T>_?a-b-N:a+N+c,j=C>S?s+w-x+l:s+w;return{topOffset:A,leftOffset:j}}function ire(n){var t=n.containerRef,e=n.accessors,r=n.getters,i=n.selected,o=n.components,a=n.localizer,s=n.position,l=n.show,c=n.events,u=n.slotStart,f=n.slotEnd,h=n.onSelect,d=n.onDoubleClick,m=n.onKeyPress,g=n.handleDragStart,x=n.popperRef,b=n.target,_=n.offset;Qte({ref:x,callback:l}),ye.useLayoutEffect(function(){var C=nre({target:b,offset:_,container:t.current,box:x.current}),w=C.topOffset,N=C.leftOffset;x.current.style.top="".concat(w,"px"),x.current.style.left="".concat(N,"px")},[_.x,_.y,b]);var S=s.width,T={minWidth:S+S/2};return Se.createElement("div",{style:T,className:"rbc-overlay",ref:x},Se.createElement("div",{className:"rbc-overlay-header"},a.format(u,"dayHeaderFormat")),c.map(function(C,w){return Se.createElement(JP,{key:w,type:"popup",localizer:a,event:C,getters:r,onSelect:h,accessors:e,components:o,onDoubleClick:d,onKeyPress:m,continuesPrior:a.lt(e.end(C),u,"day"),continuesAfter:a.gte(e.start(C),f,"day"),slotStart:u,slotEnd:f,selected:qb(C,i),draggable:!0,onDragStart:function(){return g(C)},onDragEnd:function(){return l()}})}))}var t7=Se.forwardRef(function(n,t){return Se.createElement(ire,Object.assign({},n,{popperRef:t}))});t7.propTypes={accessors:Lt.object.isRequired,getters:Lt.object.isRequired,selected:Lt.object,components:Lt.object.isRequired,localizer:Lt.object.isRequired,position:Lt.object.isRequired,show:Lt.func.isRequired,events:Lt.array.isRequired,slotStart:Lt.instanceOf(Date).isRequired,slotEnd:Lt.instanceOf(Date),onSelect:Lt.func,onDoubleClick:Lt.func,onKeyPress:Lt.func,handleDragStart:Lt.func,style:Lt.object,offset:Lt.shape({x:Lt.number,y:Lt.number})};function ore(n){var t=n.containerRef,e=n.popupOffset,r=e===void 0?5:e,i=n.overlay,o=n.accessors,a=n.localizer,s=n.components,l=n.getters,c=n.selected,u=n.handleSelectEvent,f=n.handleDoubleClickEvent,h=n.handleKeyPressEvent,d=n.handleDragStart,m=n.onHide,g=n.overlayDisplay,x=ye.useRef(null);if(!i.position)return null;var b=r;isNaN(r)||(b={x:r,y:r});var _=i.position,S=i.events,T=i.date,C=i.end;return Se.createElement(cT,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:m,target:i.target},function(w){var N=w.props;return Se.createElement(t7,Object.assign({},N,{containerRef:t,ref:x,target:i.target,offset:b,accessors:o,getters:l,selected:c,components:s,localizer:a,position:_,show:g,events:S,slotStart:T,slotEnd:C,onSelect:u,onDoubleClick:f,onKeyPress:h,handleDragStart:d}))})}var PT=Se.forwardRef(function(n,t){return Se.createElement(ore,Object.assign({},n,{containerRef:t}))});PT.propTypes={popupOffset:Lt.oneOfType([Lt.number,Lt.shape({x:Lt.number,y:Lt.number})]),overlay:Lt.shape({position:Lt.object,events:Lt.array,date:Lt.instanceOf(Date),end:Lt.instanceOf(Date)}),accessors:Lt.object.isRequired,localizer:Lt.object.isRequired,components:Lt.object.isRequired,getters:Lt.object.isRequired,selected:Lt.object,handleSelectEvent:Lt.func,handleDoubleClickEvent:Lt.func,handleKeyPressEvent:Lt.func,handleDragStart:Lt.func,onHide:Lt.func,overlayDisplay:Lt.func};function Xo(n,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return Hv(e,n,t,{passive:!1})}function are(n,t,e){return!n||Cg(n,document.elementFromPoint(t,e))}function sre(n,t){var e=t.clientX,r=t.clientY,i=document.elementFromPoint(e,r);return bP(i,".rbc-event",n)}function lre(n,t){var e=t.clientX,r=t.clientY,i=document.elementFromPoint(e,r);return bP(i,".rbc-show-more",n)}function m0(n,t){return!!sre(n,t)}function cre(n,t){return!!lre(n,t)}function Sv(n){var t=n;return n.touches&&n.touches.length&&(t=n.touches[0]),{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}var gE=5,ure=250,r7=function(){function n(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.global,i=r===void 0?!1:r,o=e.longPressThreshold,a=o===void 0?250:o,s=e.validContainers,l=s===void 0?[]:s;co(this,n),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=t,this.globalMouse=!t||i,this.longPressThreshold=a,this.validContainers=l,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=Xo("touchmove",function(){},window),this._removeKeyDownListener=Xo("keydown",this._keyListener),this._removeKeyUpListener=Xo("keyup",this._keyListener),this._removeDropFromOutsideListener=Xo("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=Xo("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return uo(n,[{key:"on",value:function(e,r){var i=this._listeners[e]||(this._listeners[e]=[]);return i.push(r),{remove:function(){var a=i.indexOf(r);a!==-1&&i.splice(a,1)}}}},{key:"emit",value:function(e){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];var a,s=this._listeners[e]||[];return s.forEach(function(l){a===void 0&&(a=l.apply(void 0,i))}),a}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(e){var r=this._selectRect;return!r||!this.selecting?!1:mE(r,Sd(e))}},{key:"filter",value:function(e){var r=this._selectRect;return!r||!this.selecting?[]:e.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(e,r){var i=this,o=null,a=null,s=null,l=function(h){o=setTimeout(function(){u(),e(h)},i.longPressThreshold),a=Xo("touchmove",function(){return u()}),s=Xo("touchend",function(){return u()})},c=Xo("touchstart",l),u=function(){o&&clearTimeout(o),a&&a(),s&&s(),o=null,a=null,s=null};return r&&l(r),function(){u(),c()}}},{key:"_addInitialEventListener",value:function(){var e=this,r=Xo("mousedown",function(o){e._removeInitialEventListener(),e._handleInitialEvent(o),e._removeInitialEventListener=Xo("mousedown",e._handleInitialEvent)}),i=Xo("touchstart",function(o){e._removeInitialEventListener(),e._removeInitialEventListener=e._addLongPressListener(e._handleInitialEvent,o)});this._removeInitialEventListener=function(){r(),i()}}},{key:"_dropFromOutsideListener",value:function(e){var r=Sv(e),i=r.pageX,o=r.pageY,a=r.clientX,s=r.clientY;this.emit("dropFromOutside",{x:i,y:o,clientX:a,clientY:s}),e.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(e){var r=Sv(e),i=r.pageX,o=r.pageY,a=r.clientX,s=r.clientY;this.emit("dragOverFromOutside",{x:i,y:o,clientX:a,clientY:s}),e.preventDefault()}},{key:"_handleInitialEvent",value:function(e){if(this._initialEvent=e,!this.isDetached){var r=Sv(e),i=r.clientX,o=r.clientY,a=r.pageX,s=r.pageY,l=this.container(),c,u;if(!(e.which===3||e.button===2||!are(l,i,o))){if(!this.globalMouse&&l&&!Cg(l,e.target)){var f=fre(0),h=f.top,d=f.left,m=f.bottom,g=f.right;if(u=Sd(l),c=mE({top:u.top-h,left:u.left-d,bottom:u.bottom+m,right:u.right+g},{top:s,left:a}),!c)return}var x=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(e.type),x:a,y:s,clientX:i,clientY:o});if(x!==!1)switch(e.type){case"mousedown":this._removeEndListener=Xo("mouseup",this._handleTerminatingEvent),this._onEscListener=Xo("keydown",this._handleTerminatingEvent),this._removeMoveListener=Xo("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(e),this._removeEndListener=Xo("touchend",this._handleTerminatingEvent),this._removeMoveListener=Xo("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(e){var r=e.target,i=this.validContainers;return!i||!i.length||!r?!0:i.some(function(o){return!!r.closest(o)})}},{key:"_handleTerminatingEvent",value:function(e){var r=this.selecting,i=this._selectRect;if(!r&&e.type.includes("key")&&(e=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!e){var o=!this.container||Cg(this.container(),e.target),a=this._isWithinValidContainer(e);return e.key==="Escape"||!a?this.emit("reset"):!r&&o?this._handleClickEvent(e):r?this.emit("select",i):this.emit("reset")}}},{key:"_handleClickEvent",value:function(e){var r=Sv(e),i=r.pageX,o=r.pageY,a=r.clientX,s=r.clientY,l=new Date().getTime();return this._lastClickData&&l-this._lastClickData.timestamp<ure?(this._lastClickData=null,this.emit("doubleClick",{x:i,y:o,clientX:a,clientY:s})):(this._lastClickData={timestamp:l},this.emit("click",{x:i,y:o,clientX:a,clientY:s}))}},{key:"_handleMoveEvent",value:function(e){if(!(this._initialEventData===null||this.isDetached)){var r=this._initialEventData,i=r.x,o=r.y,a=Sv(e),s=a.pageX,l=a.pageY,c=Math.abs(i-s),u=Math.abs(o-l),f=Math.min(s,i),h=Math.min(l,o),d=this.selecting,m=this.isClick(s,l);m&&!d&&!(c||u)||(!d&&!m&&this.emit("selectStart",this._initialEventData),m||(this.selecting=!0,this._selectRect={top:h,left:f,x:s,y:l,right:f+c,bottom:h+u},this.emit("selecting",this._selectRect)),e.preventDefault())}}},{key:"_keyListener",value:function(e){this.ctrl=e.metaKey||e.ctrlKey}},{key:"isClick",value:function(e,r){var i=this._initialEventData,o=i.x,a=i.y,s=i.isTouch;return!s&&Math.abs(e-o)<=gE&&Math.abs(r-a)<=gE}}])}();function fre(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return vn(n)!=="object"&&(n={top:n,left:n,right:n,bottom:n}),n}function mE(n,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=Sd(n),i=r.top,o=r.left,a=r.right,s=a===void 0?o:a,l=r.bottom,c=l===void 0?i:l,u=Sd(t),f=u.top,h=u.left,d=u.right,m=d===void 0?h:d,g=u.bottom,x=g===void 0?f:g;return!(c-e<f||i+e>x||s-e<h||o+e>m)}function Sd(n){if(!n.getBoundingClientRect)return n;var t=n.getBoundingClientRect(),e=t.left+yE("left"),r=t.top+yE("top");return{top:r,left:e,right:(n.offsetWidth||0)+e,bottom:(n.offsetHeight||0)+r}}function yE(n){if(n==="left")return window.pageXOffset||document.body.scrollLeft||0;if(n==="top")return window.pageYOffset||document.body.scrollTop||0}var dre=function(n){function t(e,r){var i;return co(this,t),i=ra(this,t,[e,r]),i.state={selecting:!1},i.containerRef=ye.createRef(),i}return na(t,n),uo(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(r){!r.selectable&&this.props.selectable&&this._selectable(),r.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var r=this.props,i=r.range,o=r.getNow,a=r.getters,s=r.date,l=r.components.dateCellWrapper,c=r.localizer,u=this.state,f=u.selecting,h=u.startIdx,d=u.endIdx,m=o();return Se.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},i.map(function(g,x){var b=f&&x>=h&&x<=d,_=a.dayProp(g),S=_.className,T=_.style;return Se.createElement(l,{key:x,value:g,range:i},Se.createElement("div",{style:T,className:ki("rbc-day-bg",S,b&&"rbc-selected-cell",c.isSameDate(g,m)&&"rbc-today",s&&c.neq(s,g,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var r=this,i=this.containerRef.current,o=this._selector=new r7(this.props.container,{longPressThreshold:this.props.longPressThreshold}),a=function(l,c){if(!m0(i,l)&&!cre(i,l)){var u=Sd(i),f=r.props,h=f.range,d=f.rtl;if(tre(u,l)){var m=e7(u,l.x,d,h.length);r._selectSlot({startIdx:m,endIdx:m,action:c,box:l})}}r._initial={},r.setState({selecting:!1})};o.on("selecting",function(s){var l=r.props,c=l.range,u=l.rtl,f=-1,h=-1;if(r.state.selecting||(fi(r.props.onSelectStart,[s]),r._initial={x:s.x,y:s.y}),o.isSelected(i)){var d=Sd(i),m=rre(r._initial,d,s,c.length,u);f=m.startIdx,h=m.endIdx}r.setState({selecting:!0,startIdx:f,endIdx:h})}),o.on("beforeSelect",function(s){if(r.props.selectable==="ignoreEvents")return!m0(r.containerRef.current,s)}),o.on("click",function(s){return a(s,"click")}),o.on("doubleClick",function(s){return a(s,"doubleClick")}),o.on("select",function(s){r._selectSlot(Gn(Gn({},r.state),{},{action:"select",bounds:s})),r._initial={},r.setState({selecting:!1}),fi(r.props.onSelectEnd,[r.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(r){var i=r.endIdx,o=r.startIdx,a=r.action,s=r.bounds,l=r.box;i!==-1&&o!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:o,end:i,action:a,bounds:s,box:l,resourceId:this.props.resourceId})}}])}(Se.Component),Ks={propTypes:{slotMetrics:Lt.object.isRequired,selected:Lt.object,isAllDay:Lt.bool,accessors:Lt.object.isRequired,localizer:Lt.object.isRequired,components:Lt.object.isRequired,getters:Lt.object.isRequired,onSelect:Lt.func,onDoubleClick:Lt.func,onKeyPress:Lt.func},defaultProps:{segments:[],selected:{}},renderEvent:function(t,e){var r=t.selected;t.isAllDay;var i=t.accessors,o=t.getters,a=t.onSelect,s=t.onDoubleClick,l=t.onKeyPress,c=t.localizer,u=t.slotMetrics,f=t.components,h=t.resizable,d=u.continuesPrior(e),m=u.continuesAfter(e);return Se.createElement(JP,{event:e,getters:o,localizer:c,accessors:i,components:f,onSelect:a,onDoubleClick:s,onKeyPress:l,continuesPrior:d,continuesAfter:m,slotStart:u.first,slotEnd:u.last,selected:qb(e,r),resizable:h})},renderSpan:function(t,e,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",o=Math.abs(e)/t*100+"%";return Se.createElement("div",{key:r,className:"rbc-row-segment",style:{WebkitFlexBasis:o,flexBasis:o,maxWidth:o}},i)}},n7=function(n){function t(){return co(this,t),ra(this,t,arguments)}return na(t,n),uo(t,[{key:"render",value:function(){var r=this,i=this.props,o=i.segments,a=i.slotMetrics.slots,s=i.className,l=1;return Se.createElement("div",{className:ki(s,"rbc-row")},o.reduce(function(c,u,f){var h=u.event,d=u.left,m=u.right,g=u.span,x="_lvl_"+f,b=d-l,_=Ks.renderEvent(r.props,h);return b&&c.push(Ks.renderSpan(a,b,"".concat(x,"_gap"))),c.push(Ks.renderSpan(a,g,x,_)),l=m+1,c},[]))}}])}(Se.Component);n7.defaultProps=Gn({},Ks.defaultProps);function i7(n){var t=n.dateRange,e=n.unit,r=e===void 0?"day":e,i=n.localizer;return{first:t[0],last:i.add(t[t.length-1],1,r)}}function hre(n,t,e,r){var i=i7({dateRange:t,localizer:r}),o=i.first,a=i.last,s=r.diff(o,a,"day"),l=r.max(r.startOf(e.start(n),"day"),o),c=r.min(r.ceil(e.end(n),"day"),a),u=_Y(t,function(h){return r.isSameDate(h,l)}),f=r.diff(l,c,"day");return f=Math.min(f,s),f=Math.max(f-r.segmentOffset,1),{event:n,span:f,left:u+1,right:Math.max(u+f,1)}}function Cw(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,e,r,i,o=[],a=[];for(e=0;e<n.length;e++){for(i=n[e],r=0;r<o.length&&pre(i,o[r]);r++);r>=t?a.push(i):(o[r]||(o[r]=[])).push(i)}for(e=0;e<o.length;e++)o[e].sort(function(s,l){return s.left-l.left});return{levels:o,extra:a}}function Ng(n,t,e,r,i){var o={start:r.start(n),end:r.end(n)},a={start:t,end:e};return i.inEventRange({event:o,range:a})}function pre(n,t){return t.some(function(e){return e.left<=n.right&&e.right>=n.left})}function vre(n,t,e){var r=Wm(n),i=[],o=[];r.forEach(function(l){var c=t.start(l),u=t.end(l);e.daySpan(c,u)>1?i.push(l):o.push(l)});var a=i.sort(function(l,c){return Ew(l,c,t,e)}),s=o.sort(function(l,c){return Ew(l,c,t,e)});return[].concat(Wm(a),Wm(s))}function Ew(n,t,e,r){var i={start:e.start(n),end:e.end(n),allDay:e.allDay(n)},o={start:e.start(t),end:e.end(t),allDay:e.allDay(t)};return r.sortEvents({evtA:i,evtB:o})}var Ow=function(t,e){return t.left<=e&&t.right>=e},I2=function(t,e){return t.filter(function(r){return Ow(r,e)}).map(function(r){return r.event})},o7=function(n){function t(){return co(this,t),ra(this,t,arguments)}return na(t,n),uo(t,[{key:"render",value:function(){for(var r=this.props,i=r.segments,o=r.slotMetrics.slots,a=Cw(i).levels[0],s=1,l=1,c=[];s<=o;){var u="_lvl_"+s,f=a.filter(function(T){return Ow(T,s)})[0]||{},h=f.event,d=f.left,m=f.right,g=f.span;if(!h){var x=this.getHiddenEventsForSlot(i,s);if(x.length>0){var b=s-l;b&&c.push(Ks.renderSpan(o,b,u+"_gap")),c.push(Ks.renderSpan(o,1,u,this.renderShowMore(i,s))),l=s=s+1;continue}s++;continue}var _=Math.max(0,d-l);if(this.canRenderSlotEvent(d,g)){var S=Ks.renderEvent(this.props,h);_&&c.push(Ks.renderSpan(o,_,u+"_gap")),c.push(Ks.renderSpan(o,g,u,S)),l=s=m+1}else _&&c.push(Ks.renderSpan(o,_,u+"_gap")),c.push(Ks.renderSpan(o,1,u,this.renderShowMore(i,s))),l=s=s+1}return Se.createElement("div",{className:"rbc-row"},c)}},{key:"getHiddenEventsForSlot",value:function(r,i){var o=I2(r,i),a=Cw(r).levels[0],s=a.filter(function(l){return Ow(l,i)}).map(function(l){return l.event});return o.filter(function(l){return!s.some(function(c){return c===l})})}},{key:"canRenderSlotEvent",value:function(r,i){var o=this.props.segments;return Ag(r,r+i).every(function(a){var s=I2(o,a).length;return s===1})}},{key:"renderShowMore",value:function(r,i){var o=this,a=this.props,s=a.localizer,l=a.slotMetrics,c=a.components,u=l.getEventsForSlot(i),f=I2(r,i),h=f.length;if(c!=null&&c.showMore){var d=c.showMore,m=l.getDateForSlot(i-1);return h?Se.createElement(d,{localizer:s,slotDate:m,slot:i,count:h,events:u,remainingEvents:f}):!1}return h?Se.createElement("button",{type:"button",key:"sm_"+i,className:ki("rbc-button-link","rbc-show-more"),onClick:function(x){return o.showMore(i,x)}},s.messages.showMore(h,f,u)):!1}},{key:"showMore",value:function(r,i){i.preventDefault(),i.stopPropagation(),this.props.onShowMore(r,i.target)}}])}(Se.Component);o7.defaultProps=Gn({},Ks.defaultProps);var gre=function(t){var e=t.children;return Se.createElement("div",{className:"rbc-row-content-scroll-container"},e)},mre=function(t,e){return t.left<=e&&t.right>=e},yre=function(t,e){return t[0].range===e[0].range&&t[0].events===e[0].events};function a7(){return NP(function(n){for(var t=n.range,e=n.events,r=n.maxRows,i=n.minRows,o=n.accessors,a=n.localizer,s=i7({dateRange:t,localizer:a}),l=s.first,c=s.last,u=e.map(function(g){return hre(g,t,o,a)}),f=Cw(u,Math.max(r-1,1)),h=f.levels,d=f.extra,m=d.length>0?i-1:i;h.length<m;)h.push([]);return{first:l,last:c,levels:h,extra:d,range:t,slots:t.length,clone:function(x){var b=a7();return b(Gn(Gn({},n),x))},getDateForSlot:function(x){return t[x]},getSlotForDate:function(x){return t.find(function(b){return a.isSameDate(b,x)})},getEventsForSlot:function(x){return u.filter(function(b){return mre(b,x)}).map(function(b){return b.event})},continuesPrior:function(x){return a.continuesPrior(o.start(x),l)},continuesAfter:function(x){var b=o.start(x),_=o.end(x);return a.continuesAfter(b,_,c)}}},yre)}var Pg=function(n){function t(){var e;co(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=ra(this,t,[].concat(i)),e.handleSelectSlot=function(a){var s=e.props,l=s.range,c=s.onSelectSlot;c(l.slice(a.start,a.end+1),a)},e.handleShowMore=function(a,s){var l=e.props,c=l.range,u=l.onShowMore,f=e.slotMetrics(e.props),h=kH(e.containerRef.current,".rbc-row-bg")[0],d;h&&(d=h.children[a-1]);var m=f.getEventsForSlot(a);u(m,c[a-1],d,a,s)},e.getContainer=function(){var a=e.props.container;return a?a():e.containerRef.current},e.renderHeadingCell=function(a,s){var l=e.props,c=l.renderHeader,u=l.getNow,f=l.localizer;return c({date:a,key:"header_".concat(s),className:ki("rbc-date-cell",f.isSameDate(a,u())&&"rbc-now")})},e.renderDummy=function(){var a=e.props,s=a.className,l=a.range,c=a.renderHeader,u=a.showAllEvents;return Se.createElement("div",{className:s,ref:e.containerRef},Se.createElement("div",{className:ki("rbc-row-content",u&&"rbc-row-content-scrollable")},c&&Se.createElement("div",{className:"rbc-row",ref:e.headingRowRef},l.map(e.renderHeadingCell)),Se.createElement("div",{className:"rbc-row",ref:e.eventRowRef},Se.createElement("div",{className:"rbc-row-segment"},Se.createElement("div",{className:"rbc-event"},Se.createElement("div",{className:"rbc-event-content"}," "))))))},e.containerRef=ye.createRef(),e.headingRowRef=ye.createRef(),e.eventRowRef=ye.createRef(),e.slotMetrics=a7(),e}return na(t,n),uo(t,[{key:"getRowLimit",value:function(){var r,i=M2(this.eventRowRef.current),o=(r=this.headingRowRef)!==null&&r!==void 0&&r.current?M2(this.headingRowRef.current):0,a=M2(this.containerRef.current)-o;return Math.max(Math.floor(a/i),1)}},{key:"render",value:function(){var r=this.props,i=r.date,o=r.rtl,a=r.range,s=r.className,l=r.selected,c=r.selectable,u=r.renderForMeasure,f=r.accessors,h=r.getters,d=r.components,m=r.getNow,g=r.renderHeader,x=r.onSelect,b=r.localizer,_=r.onSelectStart,S=r.onSelectEnd,T=r.onDoubleClick,C=r.onKeyPress,w=r.resourceId,N=r.longPressThreshold,A=r.isAllDay,j=r.resizable,R=r.showAllEvents;if(u)return this.renderDummy();var L=this.slotMetrics(this.props),M=L.levels,I=L.extra,D=R?gre:fc,V=d.weekWrapper,F={selected:l,accessors:f,getters:h,localizer:b,components:d,onSelect:x,onDoubleClick:T,onKeyPress:C,resourceId:w,slotMetrics:L,resizable:j};return Se.createElement("div",{className:s,role:"rowgroup",ref:this.containerRef},Se.createElement(dre,{localizer:b,date:i,getNow:m,rtl:o,range:a,selectable:c,container:this.getContainer,getters:h,onSelectStart:_,onSelectEnd:S,onSelectSlot:this.handleSelectSlot,components:d,longPressThreshold:N,resourceId:w}),Se.createElement("div",{className:ki("rbc-row-content",R&&"rbc-row-content-scrollable"),role:"row"},g&&Se.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},a.map(this.renderHeadingCell)),Se.createElement(D,null,Se.createElement(V,Object.assign({isAllDay:A},F,{rtl:this.props.rtl}),M.map(function(G,W){return Se.createElement(n7,Object.assign({key:W,segments:G},F))}),!!I.length&&Se.createElement(o7,Object.assign({segments:I,onShowMore:this.handleShowMore},F))))))}}])}(Se.Component);Pg.defaultProps={minRows:0,maxRows:1/0};var jT=function(t){var e=t.label;return Se.createElement("span",{role:"columnheader","aria-sort":"none"},e)},bre=function(t){var e=t.label,r=t.drilldownView,i=t.onDrillDown;return r?Se.createElement("button",{type:"button",className:"rbc-button-link",onClick:i},e):Se.createElement("span",null,e)},xre=["date","className"],wre=function(t,e,r,i,o){return t.filter(function(a){return Ng(a,e,r,i,o)})},Gb=function(n){function t(){var e;co(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=ra(this,t,[].concat(i)),e.getContainer=function(){return e.containerRef.current},e.renderWeek=function(a,s){var l=e.props,c=l.events,u=l.components,f=l.selectable,h=l.getNow,d=l.selected,m=l.date,g=l.localizer,x=l.longPressThreshold,b=l.accessors,_=l.getters,S=l.showAllEvents,T=e.state,C=T.needLimitMeasure,w=T.rowLimit,N=wre(Wm(c),a[0],a[a.length-1],b,g),A=vre(N,b,g);return Se.createElement(Pg,{key:s,ref:s===0?e.slotRowRef:void 0,container:e.getContainer,className:"rbc-month-row",getNow:h,date:m,range:a,events:A,maxRows:S?1/0:w,selected:d,selectable:f,components:u,accessors:b,getters:_,localizer:g,renderHeader:e.readerDateHeading,renderForMeasure:C,onShowMore:e.handleShowMore,onSelect:e.handleSelectEvent,onDoubleClick:e.handleDoubleClickEvent,onKeyPress:e.handleKeyPressEvent,onSelectSlot:e.handleSelectSlot,longPressThreshold:x,rtl:e.props.rtl,resizable:e.props.resizable,showAllEvents:S})},e.readerDateHeading=function(a){var s=a.date,l=a.className,c=_c(a,xre),u=e.props,f=u.date,h=u.getDrilldownView,d=u.localizer,m=d.neq(f,s,"month"),g=d.isSameDate(s,f),x=h(s),b=d.format(s,"dateFormat"),_=e.props.components.dateHeader||bre;return Se.createElement("div",Object.assign({},c,{className:ki(l,m&&"rbc-off-range",g&&"rbc-current"),role:"cell"}),Se.createElement(_,{label:b,date:s,drilldownView:x,isOffRange:m,onDrillDown:function(T){return e.handleHeadingClick(s,x,T)}}))},e.handleSelectSlot=function(a,s){e._pendingSelection=e._pendingSelection.concat(a),clearTimeout(e._selectTimer),e._selectTimer=setTimeout(function(){return e.selectDates(s)})},e.handleHeadingClick=function(a,s,l){l.preventDefault(),e.clearSelection(),fi(e.props.onDrillDown,[a,s])},e.handleSelectEvent=function(){e.clearSelection();for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];fi(e.props.onSelectEvent,s)},e.handleDoubleClickEvent=function(){e.clearSelection();for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];fi(e.props.onDoubleClickEvent,s)},e.handleKeyPressEvent=function(){e.clearSelection();for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];fi(e.props.onKeyPressEvent,s)},e.handleShowMore=function(a,s,l,c,u){var f=e.props,h=f.popup,d=f.onDrillDown,m=f.onShowMore,g=f.getDrilldownView,x=f.doShowMoreDrillDown;if(e.clearSelection(),h){var b=KN(l,e.containerRef.current);e.setState({overlay:{date:s,events:a,position:b,target:u}})}else x&&fi(d,[s,g(s)||_a.DAY]);fi(m,[a,s,c])},e.overlayDisplay=function(){e.setState({overlay:null})},e.state={rowLimit:5,needLimitMeasure:!0,date:null},e.containerRef=ye.createRef(),e.slotRowRef=ye.createRef(),e._bgRows=[],e._pendingSelection=[],e}return na(t,n),uo(t,[{key:"componentDidMount",value:function(){var r=this,i;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){i||YN(function(){i=!1,r.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var r=this.props,i=r.date,o=r.localizer,a=r.className,s=o.visibleDays(i,o),l=gH(s,7);return this._weekCount=l.length,Se.createElement("div",{className:ki("rbc-month-view",a),role:"table","aria-label":"Month View",ref:this.containerRef},Se.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(l[0])),l.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(r){var i=this.props,o=i.localizer,a=i.components,s=r[0],l=r[r.length-1],c=a.header||jT;return o.range(s,l,"day").map(function(u,f){return Se.createElement("div",{key:"header_"+f,className:"rbc-header"},Se.createElement(c,{date:u,localizer:o,label:o.format(u,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var r,i,o=this,a=(r=(i=this.state)===null||i===void 0?void 0:i.overlay)!==null&&r!==void 0?r:{},s=this.props,l=s.accessors,c=s.localizer,u=s.components,f=s.getters,h=s.selected,d=s.popupOffset,m=s.handleDragStart,g=function(){return o.setState({overlay:null})};return Se.createElement(PT,{overlay:a,accessors:l,localizer:c,components:u,getters:f,selected:h,popupOffset:d,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:m,show:!!a.position,overlayDisplay:this.overlayDisplay,onHide:g})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(r){var i=this._pendingSelection.slice();this._pendingSelection=[],i.sort(function(s,l){return+s-+l});var o=new Date(i[0]),a=new Date(i[i.length-1]);a.setDate(i[i.length-1].getDate()+1),fi(this.props.onSelectSlot,{slots:i,start:o,end:a,action:r.action,bounds:r.bounds,box:r.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(r,i){var o=r.date,a=r.localizer;return{date:o,needLimitMeasure:a.neq(o,i.date,"month")}}}])}(Se.Component);Gb.range=function(n,t){var e=t.localizer,r=e.firstVisibleDay(n,e),i=e.lastVisibleDay(n,e);return{start:r,end:i}};Gb.navigate=function(n,t,e){var r=e.localizer;switch(t){case Qa.PREVIOUS:return r.add(n,-1,"month");case Qa.NEXT:return r.add(n,1,"month");default:return n}};Gb.title=function(n,t){var e=t.localizer;return e.format(n,"monthHeaderFormat")};var bE=function(t){var e=t.min,r=t.max,i=t.step,o=t.slots,a=t.localizer;return"".concat(+a.startOf(e,"minutes"))+"".concat(+a.startOf(r,"minutes"))+"".concat(i,"-").concat(o)};function kT(n){for(var t=n.min,e=n.max,r=n.step,i=n.timeslots,o=n.localizer,a=bE({step:r,localizer:o}),s=1+o.getTotalMin(t,e),l=o.getMinutesFromMidnight(t),c=Math.ceil((s-1)/(r*i)),u=c*i,f=new Array(c),h=new Array(u),d=0;d<c;d++){f[d]=new Array(i);for(var m=0;m<i;m++){var g=d*i+m,x=g*r;h[g]=f[d][m]=o.getSlotDate(t,l,x)}}var b=h.length*r;h.push(o.getSlotDate(t,l,b));function _(S){var T=o.diff(t,S,"minutes")+o.getDstOffset(t,S);return Math.min(T,s)}return{groups:f,update:function(T){return bE(T)!==a?kT(T):this},dateIsInGroup:function(T,C){var w=f[C+1];return o.inRange(T,f[C][0],w?w[0]:e,"minutes")},nextSlot:function(T){var C=h[Math.min(h.findIndex(function(w){return w===T||o.eq(w,T)})+1,h.length-1)];return o.eq(C,T)&&(C=o.add(T,r,"minutes")),C},closestSlotToPosition:function(T){var C=Math.min(h.length-1,Math.max(0,Math.floor(T*u)));return h[C]},closestSlotFromPoint:function(T,C){var w=Math.abs(C.top-C.bottom);return this.closestSlotToPosition((T.y-C.top)/w)},closestSlotFromDate:function(T){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(o.lt(T,t,"minutes"))return h[0];if(o.gt(T,e,"minutes"))return h[h.length-1];var w=o.diff(t,T,"minutes");return h[(w-w%r)/r+C]},startsBeforeDay:function(T){return o.lt(T,t,"day")},startsAfterDay:function(T){return o.gt(T,e,"day")},startsBefore:function(T){return o.lt(o.merge(t,T),t,"minutes")},startsAfter:function(T){return o.gt(o.merge(e,T),e,"minutes")},getRange:function(T,C,w,N){w||(T=o.min(e,o.max(t,T))),N||(C=o.min(e,o.max(t,C)));var A=_(T),j=_(C),R=j>r*u&&!o.eq(e,C)?(A-r)/(r*u)*100:A/(r*u)*100;return{top:R,height:j/(r*u)*100-R,start:_(T),startDate:T,end:_(C),endDate:C}},getCurrentTimePosition:function(T){var C=_(T),w=C/(r*u)*100;return w}}}var _re=function(){function n(t,e){var r=e.accessors,i=e.slotMetrics;co(this,n);var o=i.getRange(r.start(t),r.end(t)),a=o.start,s=o.startDate,l=o.end,c=o.endDate,u=o.top,f=o.height;this.start=a,this.end=l,this.startMs=+s,this.endMs=+c,this.top=u,this.height=f,this.data=t}return uo(n,[{key:"_width",get:function(){if(this.rows){var e=this.rows.reduce(function(i,o){return Math.max(i,o.leaves.length+1)},0)+1;return 100/e}if(this.leaves){var r=100-this.container._width;return r/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var e=this._width,r=Math.min(100,this._width*1.7);if(this.rows)return r;if(this.leaves)return this.leaves.length>0?r:e;var i=this.row.leaves,o=i.indexOf(this);return o===i.length-1?e:r}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var e=this.row,r=e.leaves,i=e.xOffset,o=e._width,a=r.indexOf(this)+1;return i+a*o}}])}();function Sre(n,t,e){return Math.abs(t.start-n.start)<e||t.start>n.start&&t.start<n.end}function Tre(n){for(var t=Vb(n,["startMs",function(s){return-s.endMs}]),e=[];t.length>0;){var r=t.shift();e.push(r);for(var i=0;i<t.length;i++){var o=t[i];if(!(r.endMs>o.startMs)){if(i>0){var a=t.splice(i,1)[0];e.push(a)}break}}}return e}function s7(n){for(var t=n.events,e=n.minimumStartDifference,r=n.slotMetrics,i=n.accessors,o=t.map(function(u){return new _re(u,{slotMetrics:r,accessors:i})}),a=Tre(o),s=[],l=function(){var f=a[c],h=s.find(function(g){return g.end>f.start||Math.abs(f.start-g.start)<e});if(!h)return f.rows=[],s.push(f),1;f.container=h;for(var d=null,m=h.rows.length-1;!d&&m>=0;m--)Sre(h.rows[m],f,e)&&(d=h.rows[m]);d?(d.leaves.push(f),f.row=d):(f.leaves=[],h.rows.push(f))},c=0;c<a.length;c++)l();return a.map(function(u){return{event:u.data,style:{top:u.top,height:u.height,width:u.width,xOffset:Math.max(0,u.xOffset)}}})}function l7(n,t,e){for(var r=0;r<n.friends.length;++r)if(!(e.indexOf(n.friends[r])>-1)){t=t>n.friends[r].idx?t:n.friends[r].idx,e.push(n.friends[r]);var i=l7(n.friends[r],t,e);t=t>i?t:i}return t}function Cre(n){var t=n.events,e=n.minimumStartDifference,r=n.slotMetrics,i=n.accessors,o=s7({events:t,minimumStartDifference:e,slotMetrics:r,accessors:i});o.sort(function(V,F){return V=V.style,F=F.style,V.top!==F.top?V.top>F.top?1:-1:V.height!==F.height?V.top+V.height<F.top+F.height?1:-1:0});for(var a=0;a<o.length;++a)o[a].friends=[],delete o[a].style.left,delete o[a].style.left,delete o[a].idx,delete o[a].size;for(var s=0;s<o.length-1;++s)for(var l=o[s],c=l.style.top,u=l.style.top+l.style.height,f=s+1;f<o.length;++f){var h=o[f],d=h.style.top,m=h.style.top+h.style.height;(d>=c&&m<=u||m>c&&m<=u||d>=c&&d<u)&&(l.friends.push(h),h.friends.push(l))}for(var g=0;g<o.length;++g){for(var x=o[g],b=[],_=0;_<100;++_)b.push(1);for(var S=0;S<x.friends.length;++S)x.friends[S].idx!==void 0&&(b[x.friends[S].idx]=0);x.idx=b.indexOf(1)}for(var T=0;T<o.length;++T){var C=0;if(!o[T].size){var w=[],N=l7(o[T],0,w);C=100/(N+1),o[T].size=C;for(var A=0;A<w.length;++A)w[A].size=C}}for(var j=0;j<o.length;++j){var R=o[j];R.style.left=R.idx*R.size;for(var L=0,M=0;M<R.friends.length;++M){var I=R.friends[M].idx;L=L>I?L:I}L<=R.idx&&(R.size=100-R.idx*R.size);var D=R.idx===0?0:3;R.style.width="calc(".concat(R.size,"% - ").concat(D,"px)"),R.style.height="calc(".concat(R.style.height,"% - 2px)"),R.style.xOffset="calc(".concat(R.style.left,"% + ").concat(D,"px)")}return o}var xE={overlap:s7,"no-overlap":Cre};function Ere(n){return!!(n&&n.constructor&&n.call&&n.apply)}function Ore(n){n.events,n.minimumStartDifference,n.slotMetrics,n.accessors;var t=n.dayLayoutAlgorithm,e=t;return t in xE&&(e=xE[t]),Ere(e)?e.apply(this,arguments):[]}var c7=function(n){function t(){return co(this,t),ra(this,t,arguments)}return na(t,n),uo(t,[{key:"render",value:function(){var r=this.props,i=r.renderSlot,o=r.resource,a=r.group,s=r.getters,l=r.components,c=l===void 0?{}:l,u=c.timeSlotWrapper,f=u===void 0?fc:u,h=s?s.slotGroupProp(a):{};return Se.createElement("div",Object.assign({className:"rbc-timeslot-group"},h),a.map(function(d,m){var g=s?s.slotProp(d,o):{};return Se.createElement(f,{key:m,value:d,resource:o},Se.createElement("div",Object.assign({},g,{className:ki("rbc-time-slot",g.className)}),i&&i(d,m)))}))}}])}(ye.Component);function hm(n){return typeof n=="string"?n:n+"%"}function Are(n){var t=n.style,e=n.className,r=n.event,i=n.accessors,o=n.rtl,a=n.selected,s=n.label,l=n.continuesPrior,c=n.continuesAfter,u=n.getters,f=n.onClick,h=n.onDoubleClick,d=n.isBackgroundEvent,m=n.onKeyPress,g=n.components,x=g.event,b=g.eventWrapper,_=i.title(r),S=i.tooltip(r),T=i.end(r),C=i.start(r),w=u.eventProp(r,C,T,a),N=[Se.createElement("div",{key:"1",className:"rbc-event-label"},s),Se.createElement("div",{key:"2",className:"rbc-event-content"},x?Se.createElement(x,{event:r,title:_}):_)],A=t.height,j=t.top,R=t.width,L=t.xOffset,M=Gn(Gn({},w.style),{},Gf({top:hm(j),height:hm(A),width:hm(R)},o?"right":"left",hm(L)));return Se.createElement(b,Object.assign({type:"time"},n),Se.createElement("div",{role:"button",tabIndex:0,onClick:f,onDoubleClick:h,style:M,onKeyDown:m,title:S?(typeof s=="string"?s+": ":"")+S:void 0,className:ki(d?"rbc-background-event":"rbc-event",e,w.className,{"rbc-selected":a,"rbc-event-continues-earlier":l,"rbc-event-continues-later":c})},N))}var Nre=function(t){var e=t.children,r=t.className,i=t.style,o=t.innerRef;return Se.createElement("div",{className:r,style:i,ref:o},e)},Pre=Se.forwardRef(function(n,t){return Se.createElement(Nre,Object.assign({},n,{innerRef:t}))}),jre=["dayProp"],kre=["eventContainerWrapper","timeIndicatorWrapper"],u7=function(n){function t(){var e;co(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=ra(this,t,[].concat(i)),e.state={selecting:!1,timeIndicatorPosition:null},e.intervalTriggered=!1,e.renderEvents=function(a){var s=a.events,l=a.isBackgroundEvent,c=e.props,u=c.rtl,f=c.selected,h=c.accessors,d=c.localizer,m=c.getters,g=c.components,x=c.step,b=c.timeslots,_=c.dayLayoutAlgorithm,S=c.resizable,T=e,C=T.slotMetrics,w=d.messages,N=Ore({events:s,accessors:h,slotMetrics:C,minimumStartDifference:Math.ceil(x*b/2),dayLayoutAlgorithm:_});return N.map(function(A,j){var R,L=A.event,M=A.style,I=h.end(L),D=h.start(L),V=(R=h.eventId(L))!==null&&R!==void 0?R:"evt_"+j,F="eventTimeRangeFormat",G,W=C.startsBeforeDay(D),Y=C.startsAfterDay(I);W?F="eventTimeRangeEndFormat":Y&&(F="eventTimeRangeStartFormat"),W&&Y?G=w.allDay:G=d.format({start:D,end:I},F);var te=W||C.startsBefore(D),he=Y||C.startsAfter(I);return Se.createElement(Are,{style:M,event:L,label:G,key:V,getters:m,rtl:u,components:g,continuesPrior:te,continuesAfter:he,accessors:h,resource:e.props.resource,selected:qb(L,f),onClick:function(Z){return e._select(Gn(Gn(Gn({},L),e.props.resource&&{sourceResource:e.props.resource}),l&&{isBackgroundEvent:!0}),Z)},onDoubleClick:function(Z){return e._doubleClick(L,Z)},isBackgroundEvent:l,onKeyPress:function(Z){return e._keyPress(L,Z)},resizable:S})})},e._selectable=function(){var a=e.containerRef.current,s=e.props,l=s.longPressThreshold,c=s.localizer,u=e._selector=new r7(function(){return a},{longPressThreshold:l}),f=function(g){var x=e.props.onSelecting,b=e.state||{},_=h(g),S=_.startDate,T=_.endDate;x&&(c.eq(b.startDate,S,"minutes")&&c.eq(b.endDate,T,"minutes")||x({start:S,end:T,resourceId:e.props.resource})===!1)||(e.state.start!==_.start||e.state.end!==_.end||e.state.selecting!==_.selecting)&&e.setState(_)},h=function(g){var x=e.slotMetrics.closestSlotFromPoint(g,Sd(a));e.state.selecting||(e._initialSlot=x);var b=e._initialSlot;c.lte(b,x)?x=e.slotMetrics.nextSlot(x):c.gt(b,x)&&(b=e.slotMetrics.nextSlot(b));var _=e.slotMetrics.getRange(c.min(b,x),c.max(b,x));return Gn(Gn({},_),{},{selecting:!0,top:"".concat(_.top,"%"),height:"".concat(_.height,"%")})},d=function(g,x){if(!m0(e.containerRef.current,g)){var b=h(g),_=b.startDate,S=b.endDate;e._selectSlot({startDate:_,endDate:S,action:x,box:g})}e.setState({selecting:!1})};u.on("selecting",f),u.on("selectStart",f),u.on("beforeSelect",function(m){if(e.props.selectable==="ignoreEvents")return!m0(e.containerRef.current,m)}),u.on("click",function(m){return d(m,"click")}),u.on("doubleClick",function(m){return d(m,"doubleClick")}),u.on("select",function(m){e.state.selecting&&(e._selectSlot(Gn(Gn({},e.state),{},{action:"select",bounds:m})),e.setState({selecting:!1}))}),u.on("reset",function(){e.state.selecting&&e.setState({selecting:!1})})},e._teardownSelectable=function(){e._selector&&(e._selector.teardown(),e._selector=null)},e._selectSlot=function(a){for(var s=a.startDate,l=a.endDate,c=a.action,u=a.bounds,f=a.box,h=s,d=[];e.props.localizer.lte(h,l);)d.push(h),h=new Date(+h+e.props.step*60*1e3);fi(e.props.onSelectSlot,{slots:d,start:s,end:l,resourceId:e.props.resource,action:c,bounds:u,box:f})},e._select=function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];fi(e.props.onSelectEvent,s)},e._doubleClick=function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];fi(e.props.onDoubleClickEvent,s)},e._keyPress=function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];fi(e.props.onKeyPressEvent,s)},e.slotMetrics=kT(e.props),e.containerRef=ye.createRef(),e}return na(t,n),uo(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(r,i){this.props.selectable&&!r.selectable&&this._selectable(),!this.props.selectable&&r.selectable&&this._teardownSelectable();var o=this.props,a=o.getNow,s=o.isNow,l=o.localizer,c=o.date,u=o.min,f=o.max,h=l.neq(r.getNow(),a(),"minutes");if(r.isNow!==s||h){if(this.clearTimeIndicatorInterval(),s){var d=!h&&l.eq(r.date,c,"minutes")&&i.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(d)}}else s&&(l.neq(r.min,u,"minutes")||l.neq(r.max,f,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var r=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!i&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){r.intervalTriggered=!0,r.positionTimeIndicator(),r.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var r=this.props,i=r.min,o=r.max,a=r.getNow,s=a();if(s>=i&&s<=o){var l=this.slotMetrics.getCurrentTimePosition(s);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:l})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var r=this.props,i=r.date,o=r.max,a=r.rtl,s=r.isNow,l=r.resource,c=r.accessors,u=r.localizer,f=r.getters,h=f.dayProp,d=_c(f,jre),m=r.components,g=m.eventContainerWrapper,x=m.timeIndicatorWrapper,b=_c(m,kre);this.slotMetrics=this.slotMetrics.update(this.props);var _=this.slotMetrics,S=this.state,T=S.selecting,C=S.top,w=S.height,N=S.startDate,A=S.endDate,j={start:N,end:A},R=h(o,l),L=R.className,M=R.style,I={className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}},D=b.dayColumnWrapper||Pre;return Se.createElement(D,{ref:this.containerRef,date:i,style:M,className:ki(L,"rbc-day-slot","rbc-time-column",s&&"rbc-now",s&&"rbc-today",T&&"rbc-slot-selecting"),slotMetrics:_,resource:l},_.groups.map(function(V,F){return Se.createElement(c7,{key:F,group:V,resource:l,getters:d,components:b})}),Se.createElement(g,{localizer:u,resource:l,accessors:c,getters:d,components:b,slotMetrics:_},Se.createElement("div",{className:ki("rbc-events-container",a&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),T&&Se.createElement("div",{className:"rbc-slot-selection",style:{top:C,height:w}},Se.createElement("span",null,u.format(j,"selectRangeFormat"))),s&&this.intervalTriggered&&Se.createElement(x,I,Se.createElement("div",I)))}}])}(Se.Component);u7.defaultProps={dragThroughEvents:!0,timeslots:2};var f7=function(t){var e=t.label;return Se.createElement(Se.Fragment,null,e)},Mre=function(n){function t(){var e;co(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=ra(this,t,[].concat(i)),e.handleHeaderClick=function(a,s,l){l.preventDefault(),fi(e.props.onDrillDown,[a,s])},e.renderRow=function(a){var s=e.props,l=s.events,c=s.rtl,u=s.selectable,f=s.getNow,h=s.range,d=s.getters,m=s.localizer,g=s.accessors,x=s.components,b=s.resizable,_=g.resourceId(a),S=a?l.filter(function(T){return g.resource(T)===_}):l;return Se.createElement(Pg,{isAllDay:!0,rtl:c,getNow:f,minRows:2,maxRows:e.props.allDayMaxRows+1,range:h,events:S,resourceId:_,className:"rbc-allday-cell",selectable:u,selected:e.props.selected,components:x,accessors:g,getters:d,localizer:m,onSelect:e.props.onSelectEvent,onShowMore:e.props.onShowMore,onDoubleClick:e.props.onDoubleClickEvent,onKeyPress:e.props.onKeyPressEvent,onSelectSlot:e.props.onSelectSlot,longPressThreshold:e.props.longPressThreshold,resizable:b})},e}return na(t,n),uo(t,[{key:"renderHeaderCells",value:function(r){var i=this,o=this.props,a=o.localizer,s=o.getDrilldownView,l=o.getNow,c=o.getters.dayProp,u=o.components.header,f=u===void 0?jT:u,h=l();return r.map(function(d,m){var g=s(d),x=a.format(d,"dayFormat"),b=c(d),_=b.className,S=b.style,T=Se.createElement(f,{date:d,label:x,localizer:a});return Se.createElement("div",{key:m,style:S,className:ki("rbc-header",_,a.isSameDate(d,h)&&"rbc-today")},g?Se.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(w){return i.handleHeaderClick(d,g,w)}},T):Se.createElement("span",null,T))})}},{key:"render",value:function(){var r=this,i=this.props,o=i.width,a=i.rtl,s=i.resources,l=i.range,c=i.events,u=i.getNow,f=i.accessors,h=i.selectable,d=i.components,m=i.getters,g=i.scrollRef,x=i.localizer,b=i.isOverflowing,_=i.components,S=_.timeGutterHeader,T=_.resourceHeader,C=T===void 0?f7:T,w=i.resizable,N={};b&&(N[a?"marginLeft":"marginRight"]="".concat(lT()-1,"px"));var A=s.groupEvents(c);return Se.createElement("div",{style:N,ref:g,className:ki("rbc-time-header",b&&"rbc-overflowing")},Se.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:o,minWidth:o,maxWidth:o}},S&&Se.createElement(S,null)),s.map(function(j,R){var L=vd(j,2),M=L[0],I=L[1];return Se.createElement("div",{className:"rbc-time-header-content",key:M||R},I&&Se.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(R)},Se.createElement("div",{className:"rbc-header"},Se.createElement(C,{index:R,label:f.resourceTitle(I),resource:I}))),Se.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(l.length<=1?" rbc-time-header-cell-single-day":"")},r.renderHeaderCells(l)),Se.createElement(Pg,{isAllDay:!0,rtl:a,getNow:u,minRows:2,maxRows:r.props.allDayMaxRows+1,range:l,events:A.get(M)||[],resourceId:I&&M,className:"rbc-allday-cell",selectable:h,selected:r.props.selected,components:d,accessors:f,getters:m,localizer:x,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyDown:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:w}))}))}}])}(Se.Component),Lre=function(n){function t(){var e;co(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=ra(this,t,[].concat(i)),e.handleHeaderClick=function(a,s,l){l.preventDefault(),fi(e.props.onDrillDown,[a,s])},e}return na(t,n),uo(t,[{key:"renderHeaderCells",value:function(r){var i=this,o=this.props,a=o.localizer,s=o.getDrilldownView,l=o.getNow,c=o.getters.dayProp,u=o.components,f=u.header,h=f===void 0?jT:f,d=u.resourceHeader,m=d===void 0?f7:d,g=o.resources,x=o.accessors,b=o.events,_=o.rtl,S=o.selectable,T=o.components,C=o.getters,w=o.resizable,N=l(),A=g.groupEvents(b);return r.map(function(j,R){var L=s(j),M=a.format(j,"dayFormat"),I=c(j),D=I.className,V=I.style,F=Se.createElement(h,{date:j,label:M,localizer:a});return Se.createElement("div",{key:R,className:"rbc-time-header-content rbc-resource-grouping"},Se.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(r.length<=1?" rbc-time-header-cell-single-day":"")},Se.createElement("div",{style:V,className:ki("rbc-header",D,a.isSameDate(j,N)&&"rbc-today")},L?Se.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(W){return i.handleHeaderClick(j,L,W)}},F):Se.createElement("span",null,F))),Se.createElement("div",{className:"rbc-row"},g.map(function(G,W){var Y=vd(G,2),te=Y[0],he=Y[1];return Se.createElement("div",{key:"resource_".concat(te,"_").concat(W),className:ki("rbc-header",D,a.isSameDate(j,N)&&"rbc-today")},Se.createElement(m,{index:W,label:x.resourceTitle(he),resource:he}))})),Se.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},g.map(function(G,W){var Y=vd(G,2),te=Y[0],he=Y[1],z=(A.get(te)||[]).filter(function(Z){return a.isSameDate(Z.start,j)||a.isSameDate(Z.end,j)});return Se.createElement(Pg,{key:"resource_".concat(te,"_").concat(W),isAllDay:!0,rtl:_,getNow:l,minRows:2,maxRows:i.props.allDayMaxRows+1,range:[j],events:z,resourceId:he&&te,className:"rbc-allday-cell",selectable:S,selected:i.props.selected,components:T,accessors:x,getters:C,localizer:a,onSelect:i.props.onSelectEvent,onShowMore:i.props.onShowMore,onDoubleClick:i.props.onDoubleClickEvent,onKeyDown:i.props.onKeyPressEvent,onSelectSlot:i.props.onSelectSlot,longPressThreshold:i.props.longPressThreshold,resizable:w})})))})}},{key:"render",value:function(){var r=this.props,i=r.width,o=r.rtl,a=r.range,s=r.scrollRef,l=r.isOverflowing,c=r.components.timeGutterHeader,u={};return l&&(u[o?"marginLeft":"marginRight"]="".concat(lT()-1,"px")),Se.createElement("div",{style:u,ref:s,className:ki("rbc-time-header",l&&"rbc-overflowing")},Se.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:i,minWidth:i,maxWidth:i}},c&&Se.createElement(c,null)),this.renderHeaderCells(a))}}])}(Se.Component);function Dre(n){var t=n.min,e=n.max,r=n.localizer;return r.getTimezoneOffset(t)!==r.getTimezoneOffset(e)?{start:r.add(t,-1,"day"),end:r.add(e,-1,"day")}:{start:t,end:e}}var Ire=function(t){var e=t.min,r=t.max,i=t.timeslots,o=t.step,a=t.localizer,s=t.getNow,l=t.resource,c=t.components,u=t.getters,f=t.gutterRef,h=c.timeGutterWrapper,d=ye.useMemo(function(){return Dre({min:e,max:r,localizer:a})},[e==null?void 0:e.toISOString(),r==null?void 0:r.toISOString(),a]),m=d.start,g=d.end,x=ye.useState(kT({min:m,max:g,timeslots:i,step:o,localizer:a})),b=vd(x,2),_=b[0],S=b[1];ye.useEffect(function(){_&&S(_.update({min:m,max:g,timeslots:i,step:o,localizer:a}))},[m==null?void 0:m.toISOString(),g==null?void 0:g.toISOString(),i,o]);var T=ye.useCallback(function(C,w){if(w)return null;var N=_.dateIsInGroup(s(),w);return Se.createElement("span",{className:ki("rbc-label",N&&"rbc-now")},a.format(C,"timeGutterFormat"))},[_,a,s]);return Se.createElement(h,{slotMetrics:_},Se.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:f},_.groups.map(function(C,w){return Se.createElement(c7,{key:w,group:C,resource:l,components:c,renderSlot:T,getters:u})})))},Rre=Se.forwardRef(function(n,t){return Se.createElement(Ire,Object.assign({gutterRef:t},n))}),R2={};function Fre(n,t){return{map:function(r){return n?n.map(function(i,o){return r([t.resourceId(i),i],o)}):[r([R2,null],0)]},groupEvents:function(r){var i=new Map;return n?(r.forEach(function(o){var a=t.resource(o)||R2;if(Array.isArray(a))a.forEach(function(l){var c=i.get(l)||[];c.push(o),i.set(l,c)});else{var s=i.get(a)||[];s.push(o),i.set(a,s)}}),i):(i.set(R2,r),i)}}}var Xp=function(n){function t(e){var r;return co(this,t),r=ra(this,t,[e]),r.handleScroll=function(i){r.scrollRef.current&&(r.scrollRef.current.scrollLeft=i.target.scrollLeft)},r.handleResize=function(){a9(r.rafHandle),r.rafHandle=YN(r.checkOverflow)},r.handleKeyPressEvent=function(){r.clearSelection();for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];fi(r.props.onKeyPressEvent,o)},r.handleSelectEvent=function(){r.clearSelection();for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];fi(r.props.onSelectEvent,o)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];fi(r.props.onDoubleClickEvent,o)},r.handleShowMore=function(i,o,a,s,l){var c=r.props,u=c.popup,f=c.onDrillDown,h=c.onShowMore,d=c.getDrilldownView,m=c.doShowMoreDrillDown;if(r.clearSelection(),u){var g=KN(a,r.containerRef.current);r.setState({overlay:{date:o,events:i,position:Gn(Gn({},g),{},{width:"200px"}),target:l}})}else m&&fi(f,[o,d(o)||_a.DAY]);fi(h,[i,o,s])},r.handleSelectAllDaySlot=function(i,o){var a=r.props.onSelectSlot,s=new Date(i[0]),l=new Date(i[i.length-1]);l.setDate(i[i.length-1].getDate()+1),fi(a,{slots:i,start:s,end:l,action:o.action,resourceId:o.resourceId})},r.overlayDisplay=function(){r.setState({overlay:null})},r.checkOverflow=function(){if(!r._updatingOverflow){var i=r.contentRef.current;if(i!=null&&i.scrollHeight){var o=i.scrollHeight>i.clientHeight;r.state.isOverflowing!==o&&(r._updatingOverflow=!0,r.setState({isOverflowing:o},function(){r._updatingOverflow=!1}))}}},r.memoizedResources=NP(function(i,o){return Fre(i,o)}),r.state={gutterWidth:void 0,isOverflowing:null},r.scrollRef=Se.createRef(),r.contentRef=Se.createRef(),r.containerRef=Se.createRef(),r._scrollRatio=null,r.gutterRef=ye.createRef(),r}return na(t,n),uo(t,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),a9(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(r,i,o,a,s,l,c,u,f,h){var d=this.props,m=d.min,g=d.max,x=(a.get(i)||[]).filter(function(_){return l.inRange(r,c.start(_),c.end(_),"day")}),b=(s.get(i)||[]).filter(function(_){return l.inRange(r,c.start(_),c.end(_),"day")});return Se.createElement(u7,Object.assign({},this.props,{localizer:l,min:l.merge(r,m),max:l.merge(r,g),resource:o&&i,components:u,isNow:l.isSameDate(r,h),key:"".concat(i,"-").concat(r),date:r,events:x,backgroundEvents:b,dayLayoutAlgorithm:f}))}},{key:"renderResourcesFirst",value:function(r,i,o,a,s,l,c,u,f){var h=this;return i.map(function(d){var m=vd(d,2),g=m[0],x=m[1];return r.map(function(b){return h.renderDayColumn(b,g,x,o,a,s,l,u,f,c)})})}},{key:"renderRangeFirst",value:function(r,i,o,a,s,l,c,u,f){var h=this;return r.map(function(d){return Se.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:d},i.map(function(m){var g=vd(m,2),x=g[0],b=g[1];return Se.createElement("div",{style:{flex:1},key:l.resourceId(b)},h.renderDayColumn(d,x,b,o,a,s,l,u,f,c))}))})}},{key:"renderEvents",value:function(r,i,o,a){var s=this.props,l=s.accessors,c=s.localizer,u=s.resourceGroupingLayout,f=s.components,h=s.dayLayoutAlgorithm,d=this.memoizedResources(this.props.resources,l),m=d.groupEvents(i),g=d.groupEvents(o);return u?this.renderRangeFirst(r,d,m,g,c,l,a,f,h):this.renderResourcesFirst(r,d,m,g,c,l,a,f,h)}},{key:"render",value:function(){var r,i=this.props,o=i.events,a=i.backgroundEvents,s=i.range,l=i.width,c=i.rtl,u=i.selected,f=i.getNow,h=i.resources,d=i.components,m=i.accessors,g=i.getters,x=i.localizer,b=i.min,_=i.max,S=i.showMultiDayTimes,T=i.longPressThreshold,C=i.resizable,w=i.resourceGroupingLayout;l=l||this.state.gutterWidth;var N=s[0],A=s[s.length-1];this.slots=s.length;var j=[],R=[],L=[];o.forEach(function(I){if(Ng(I,N,A,m,x)){var D=m.start(I),V=m.end(I);m.allDay(I)||x.startAndEndAreDateOnly(D,V)||!S&&!x.isSameDate(D,V)?j.push(I):R.push(I)}}),a.forEach(function(I){Ng(I,N,A,m,x)&&L.push(I)}),j.sort(function(I,D){return Ew(I,D,m,x)});var M={range:s,events:j,width:l,rtl:c,getNow:f,localizer:x,selected:u,allDayMaxRows:this.props.showAllEvents?1/0:(r=this.props.allDayMaxRows)!==null&&r!==void 0?r:1/0,resources:this.memoizedResources(h,m),selectable:this.props.selectable,accessors:m,getters:g,components:d,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:T,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:C};return Se.createElement("div",{className:ki("rbc-time-view",h&&"rbc-time-view-resources"),ref:this.containerRef},h&&h.length>1&&w?Se.createElement(Lre,M):Se.createElement(Mre,M),this.props.popup&&this.renderOverlay(),Se.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},Se.createElement(Rre,{date:N,ref:this.gutterRef,localizer:x,min:x.merge(N,b),max:x.merge(N,_),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:d,className:"rbc-time-gutter",getters:g}),this.renderEvents(s,R,L,f())))}},{key:"renderOverlay",value:function(){var r,i,o=this,a=(r=(i=this.state)===null||i===void 0?void 0:i.overlay)!==null&&r!==void 0?r:{},s=this.props,l=s.accessors,c=s.localizer,u=s.components,f=s.getters,h=s.selected,d=s.popupOffset,m=s.handleDragStart,g=function(){return o.setState({overlay:null})};return Se.createElement(PT,{overlay:a,accessors:l,localizer:c,components:u,getters:f,selected:h,popupOffset:d,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:m,show:!!a.position,overlayDisplay:this.overlayDisplay,onHide:g})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var r=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var i,o=(i=r.gutterRef)!==null&&i!==void 0&&i.current?Sw(r.gutterRef.current):void 0;o&&r.state.gutterWidth!==o&&r.setState({gutterWidth:o})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var r=this.contentRef.current;r.scrollTop=r.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,i=r.min,o=r.max,a=r.scrollToTime,s=r.localizer,l=s.diff(s.merge(a,i),a,"milliseconds"),c=s.diff(i,o,"milliseconds");this._scrollRatio=l/c}}])}(ye.Component);Xp.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var Bre=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Kb=function(n){function t(){return co(this,t),ra(this,t,arguments)}return na(t,n),uo(t,[{key:"render",value:function(){var r=this.props,i=r.date,o=r.localizer,a=r.min,s=a===void 0?o.startOf(new Date,"day"):a,l=r.max,c=l===void 0?o.endOf(new Date,"day"):l,u=r.scrollToTime,f=u===void 0?o.startOf(new Date,"day"):u,h=r.enableAutoScroll,d=h===void 0?!0:h,m=_c(r,Bre),g=t.range(i,{localizer:o});return Se.createElement(Xp,Object.assign({},m,{range:g,eventOffset:10,localizer:o,min:s,max:c,scrollToTime:f,enableAutoScroll:d}))}}])}(Se.Component);Kb.range=function(n,t){var e=t.localizer;return[e.startOf(n,"day")]};Kb.navigate=function(n,t,e){var r=e.localizer;switch(t){case Qa.PREVIOUS:return r.add(n,-1,"day");case Qa.NEXT:return r.add(n,1,"day");default:return n}};Kb.title=function(n,t){var e=t.localizer;return e.format(n,"dayHeaderFormat")};var Hre=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Zu=function(n){function t(){return co(this,t),ra(this,t,arguments)}return na(t,n),uo(t,[{key:"render",value:function(){var r=this.props,i=r.date,o=r.localizer,a=r.min,s=a===void 0?o.startOf(new Date,"day"):a,l=r.max,c=l===void 0?o.endOf(new Date,"day"):l,u=r.scrollToTime,f=u===void 0?o.startOf(new Date,"day"):u,h=r.enableAutoScroll,d=h===void 0?!0:h,m=_c(r,Hre),g=t.range(i,this.props);return Se.createElement(Xp,Object.assign({},m,{range:g,eventOffset:15,localizer:o,min:s,max:c,scrollToTime:f,enableAutoScroll:d}))}}])}(Se.Component);Zu.defaultProps=Xp.defaultProps;Zu.navigate=function(n,t,e){var r=e.localizer;switch(t){case Qa.PREVIOUS:return r.add(n,-1,"week");case Qa.NEXT:return r.add(n,1,"week");default:return n}};Zu.range=function(n,t){var e=t.localizer,r=e.startOfWeek(),i=e.startOf(n,"week",r),o=e.endOf(n,"week",r);return e.range(i,o)};Zu.title=function(n,t){var e=t.localizer,r=Zu.range(n,{localizer:e}),i=IP(r),o=i[0],a=i.slice(1);return e.format({start:o,end:a.pop()},"dayRangeHeaderFormat")};var $re=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function MT(n,t){return Zu.range(n,t).filter(function(e){return[6,0].indexOf(e.getDay())===-1})}var E1=function(n){function t(){return co(this,t),ra(this,t,arguments)}return na(t,n),uo(t,[{key:"render",value:function(){var r=this.props,i=r.date,o=r.localizer,a=r.min,s=a===void 0?o.startOf(new Date,"day"):a,l=r.max,c=l===void 0?o.endOf(new Date,"day"):l,u=r.scrollToTime,f=u===void 0?o.startOf(new Date,"day"):u,h=r.enableAutoScroll,d=h===void 0?!0:h,m=_c(r,$re),g=MT(i,this.props);return Se.createElement(Xp,Object.assign({},m,{range:g,eventOffset:15,localizer:o,min:s,max:c,scrollToTime:f,enableAutoScroll:d}))}}])}(Se.Component);E1.defaultProps=Xp.defaultProps;E1.range=MT;E1.navigate=Zu.navigate;E1.title=function(n,t){var e=t.localizer,r=MT(n,{localizer:e}),i=IP(r),o=i[0],a=i.slice(1);return e.format({start:o,end:a.pop()},"dayRangeHeaderFormat")};var Yb=30;function Xb(n){var t=n.accessors,e=n.components,r=n.date,i=n.events,o=n.getters,a=n.length,s=a===void 0?Yb:a,l=n.localizer,c=n.onDoubleClickEvent,u=n.onSelectEvent,f=n.selected,h=ye.useRef(null),d=ye.useRef(null),m=ye.useRef(null),g=ye.useRef(null),x=ye.useRef(null);ye.useEffect(function(){S()});var b=function(A,j,R){var L=e.event,M=e.date;return j=j.filter(function(I){return Ng(I,l.startOf(A,"day"),l.endOf(A,"day"),t,l)}),j.map(function(I,D){var V=t.title(I),F=t.end(I),G=t.start(I),W=o.eventProp(I,G,F,qb(I,f)),Y=D===0&&l.format(A,"agendaDateFormat"),te=D===0?Se.createElement("td",{rowSpan:j.length,className:"rbc-agenda-date-cell"},M?Se.createElement(M,{day:A,label:Y}):Y):!1;return Se.createElement("tr",{key:R+"_"+D,className:W.className,style:W.style},te,Se.createElement("td",{className:"rbc-agenda-time-cell"},_(A,I)),Se.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(z){return u&&u(I,z)},onDoubleClick:function(z){return c&&c(I,z)}},L?Se.createElement(L,{event:I,title:V}):V))},[])},_=function(A,j){var R="",L=e.time,M=l.messages.allDay,I=t.end(j),D=t.start(j);return t.allDay(j)||(l.eq(D,I)?M=l.format(D,"agendaTimeFormat"):l.isSameDate(D,I)?M=l.format({start:D,end:I},"agendaTimeRangeFormat"):l.isSameDate(A,D)?M=l.format(D,"agendaTimeFormat"):l.isSameDate(A,I)&&(M=l.format(I,"agendaTimeFormat"))),l.gt(A,D,"day")&&(R="rbc-continues-prior"),l.lt(A,I,"day")&&(R+=" rbc-continues-after"),Se.createElement("span",{className:R.trim()},L?Se.createElement(L,{event:j,day:A,label:M}):M)},S=function(){if(x.current){var A=h.current,j=x.current.firstChild;if(j){var R=g.current.scrollHeight>g.current.clientHeight,L=[],M=L;L=[Sw(j.children[0]),Sw(j.children[1])],(M[0]!==L[0]||M[1]!==L[1])&&(d.current.style.width=L[0]+"px",m.current.style.width=L[1]+"px"),R?(nU(A,"rbc-header-overflowing"),A.style.marginRight=lT()+"px"):iU(A,"rbc-header-overflowing")}}},T=l.messages,C=l.add(r,s,"day"),w=l.range(r,C,"day");return i=i.filter(function(N){return Ng(N,l.startOf(r,"day"),l.endOf(C,"day"),t,l)}),i.sort(function(N,A){return+t.start(N)-+t.start(A)}),Se.createElement("div",{className:"rbc-agenda-view"},i.length!==0?Se.createElement(Se.Fragment,null,Se.createElement("table",{ref:h,className:"rbc-agenda-table"},Se.createElement("thead",null,Se.createElement("tr",null,Se.createElement("th",{className:"rbc-header",ref:d},T.date),Se.createElement("th",{className:"rbc-header",ref:m},T.time),Se.createElement("th",{className:"rbc-header"},T.event)))),Se.createElement("div",{className:"rbc-agenda-content",ref:g},Se.createElement("table",{className:"rbc-agenda-table"},Se.createElement("tbody",{ref:x},w.map(function(N,A){return b(N,i,A)}))))):Se.createElement("span",{className:"rbc-agenda-empty"},T.noEventsInRange))}Xb.range=function(n,t){var e=t.length,r=e===void 0?Yb:e,i=t.localizer,o=i.add(n,r,"day");return{start:n,end:o}};Xb.navigate=function(n,t,e){var r=e.length,i=r===void 0?Yb:r,o=e.localizer;switch(t){case Qa.PREVIOUS:return o.add(n,-i,"day");case Qa.NEXT:return o.add(n,i,"day");default:return n}};Xb.title=function(n,t){var e=t.length,r=e===void 0?Yb:e,i=t.localizer,o=i.add(n,r,"day");return i.format({start:n,end:o},"agendaHeaderFormat")};var Km=Gf(Gf(Gf(Gf(Gf({},_a.MONTH,Gb),_a.WEEK,Zu),_a.WORK_WEEK,E1),_a.DAY,Kb),_a.AGENDA,Xb),Ure=["action","date","today"];function Vre(n,t){var e=t.action,r=t.date,i=t.today,o=_c(t,Ure);switch(n=typeof n=="string"?Km[n]:n,e){case Qa.TODAY:r=i||new Date;break;case Qa.DATE:break;default:gg(n&&typeof n.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),r=n.navigate(r,e,o)}return r}function zre(n,t){var e=null;return typeof t=="function"?e=t(n):typeof t=="string"&&vn(n)==="object"&&n!=null&&t in n&&(e=n[t]),e}var qc=function(t){return function(e){return zre(e,t)}},Wre=["view","date","getNow","onNavigate"],qre=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function d7(n){if(Array.isArray(n))return n;for(var t=[],e=0,r=Object.entries(n);e<r.length;e++){var i=vd(r[e],2),o=i[0],a=i[1];a&&t.push(o)}return t}function Gre(n,t){var e=t.views,r=d7(e);return r.indexOf(n)!==-1}var h7=function(n){function t(){var e;co(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=ra(this,t,[].concat(i)),e.getViews=function(){var a=e.props.views;return Array.isArray(a)?Ste(a,function(s,l){return s[l]=Km[l]},{}):vn(a)==="object"?FP(a,function(s,l){return s===!0?Km[l]:s}):Km},e.getView=function(){var a=e.getViews();return a[e.props.view]},e.getDrilldownView=function(a){var s=e.props,l=s.view,c=s.drilldownView,u=s.getDrilldownView;return u?u(a,l,Object.keys(e.getViews())):c},e.handleRangeChange=function(a,s,l){var c=e.props,u=c.onRangeChange,f=c.localizer;u&&s.range&&u(s.range(a,{localizer:f}),l)},e.handleNavigate=function(a,s){var l=e.props,c=l.view,u=l.date,f=l.getNow,h=l.onNavigate,d=_c(l,Wre),m=e.getView(),g=f();u=Vre(m,Gn(Gn({},d),{},{action:a,date:s||u||g,today:g})),h(u,c,a),e.handleRangeChange(u,m)},e.handleViewChange=function(a){a!==e.props.view&&Gre(a,e.props)&&e.props.onView(a);var s=e.getViews();e.handleRangeChange(e.props.date||e.props.getNow(),s[a],a)},e.handleSelectEvent=function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];fi(e.props.onSelectEvent,s)},e.handleDoubleClickEvent=function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];fi(e.props.onDoubleClickEvent,s)},e.handleKeyPressEvent=function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];fi(e.props.onKeyPressEvent,s)},e.handleSelectSlot=function(a){fi(e.props.onSelectSlot,a)},e.handleDrillDown=function(a,s){var l=e.props.onDrillDown;if(l){l(a,s,e.drilldownView);return}s&&e.handleViewChange(s),e.handleNavigate(Qa.DATE,a)},e.state={context:t.getContext(e.props)},e}return na(t,n),uo(t,[{key:"render",value:function(){var r=this.props,i=r.view,o=r.toolbar,a=r.events,s=r.backgroundEvents,l=r.resourceGroupingLayout,c=r.style,u=r.className,f=r.elementProps,h=r.date,d=r.getNow,m=r.length,g=r.showMultiDayTimes,x=r.onShowMore,b=r.doShowMoreDrillDown;r.components,r.formats,r.messages,r.culture;var _=_c(r,qre);h=h||d();var S=this.getView(),T=this.state.context,C=T.accessors,w=T.components,N=T.getters,A=T.localizer,j=T.viewNames,R=w.toolbar||Xte,L=S.title(h,{localizer:A,length:m});return Se.createElement("div",Object.assign({},f,{className:ki(u,"rbc-calendar",_.rtl&&"rbc-rtl"),style:c}),o&&Se.createElement(R,{date:h,view:i,views:j,label:L,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:A}),Se.createElement(S,Object.assign({},_,{events:a,backgroundEvents:s,date:h,getNow:d,length:m,localizer:A,getters:N,components:w,accessors:C,showMultiDayTimes:g,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:x,doShowMoreDrillDown:b,resourceGroupingLayout:l})))}}],[{key:"getDerivedStateFromProps",value:function(r){return{context:t.getContext(r)}}},{key:"getContext",value:function(r){var i=r.startAccessor,o=r.endAccessor,a=r.allDayAccessor,s=r.tooltipAccessor,l=r.titleAccessor,c=r.resourceAccessor,u=r.resourceIdAccessor,f=r.resourceTitleAccessor,h=r.eventIdAccessor,d=r.eventPropGetter,m=r.backgroundEventPropGetter,g=r.slotPropGetter,x=r.slotGroupPropGetter,b=r.dayPropGetter,_=r.view,S=r.views,T=r.localizer,C=r.culture,w=r.messages,N=w===void 0?{}:w,A=r.components,j=A===void 0?{}:A,R=r.formats,L=R===void 0?{}:R,M=d7(S),I=Jte(N);return{viewNames:M,localizer:Yte(T,C,L,I),getters:{eventProp:function(){return d&&d.apply(void 0,arguments)||{}},backgroundEventProp:function(){return m&&m.apply(void 0,arguments)||{}},slotProp:function(){return g&&g.apply(void 0,arguments)||{}},slotGroupProp:function(){return x&&x.apply(void 0,arguments)||{}},dayProp:function(){return b&&b.apply(void 0,arguments)||{}}},components:mZ(j[_]||{},ute(j,M),{eventWrapper:fc,backgroundEventWrapper:fc,eventContainerWrapper:fc,dateCellWrapper:fc,weekWrapper:fc,timeSlotWrapper:fc,timeGutterWrapper:fc,timeIndicatorWrapper:fc}),accessors:{start:qc(i),end:qc(o),allDay:qc(a),tooltip:qc(s),title:qc(l),resource:qc(c),resourceId:qc(u),resourceTitle:qc(f),eventId:qc(h)}}}}])}(Se.Component);h7.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:_a.MONTH,views:[_a.MONTH,_a.WEEK,_a.DAY,_a.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:_a.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var Kre=jN(h7,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),Yre=function(t,e,r){var i=t.start,o=t.end;return"".concat(r.format(i,"P",e)," – ").concat(r.format(o,"P",e))},F2=function(t,e,r){var i=t.start,o=t.end;return"".concat(r.format(i,"p",e)," – ").concat(r.format(o,"p",e))},Xre=function(t,e,r){var i=t.start;return"".concat(r.format(i,"h:mma",e)," – ")},Zre=function(t,e,r){var i=t.end;return" – ".concat(r.format(i,"h:mma",e))},Jre=function(t,e,r){var i=t.start,o=t.end;return"".concat(r.format(i,"MMMM dd",e)," – ").concat(r.format(o,Dp(i,o,"month")?"dd":"MMMM dd",e))},Qre={dateFormat:"dd",dayFormat:"dd eee",weekdayFormat:"ccc",selectRangeFormat:F2,eventTimeRangeFormat:F2,eventTimeRangeStartFormat:Xre,eventTimeRangeEndFormat:Zre,timeGutterFormat:"p",monthHeaderFormat:"MMMM yyyy",dayHeaderFormat:"cccc MMM dd",dayRangeHeaderFormat:Jre,agendaHeaderFormat:Yre,agendaDateFormat:"ccc MMM dd",agendaTimeFormat:"p",agendaTimeRangeFormat:F2},ene=function(t){var e=t.startOfWeek,r=t.getDay,i=t.format,o=t.locales;return new Kte({formats:Qre,firstOfWeek:function(s){return r(e(new Date,{locale:o[s]}))},format:function(s,l,c){return i(new Date(s),l,{locale:o[c]})}})};const tne={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},rne=(n,t,e)=>{let r;const i=tne[n];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),e!=null&&e.addSuffix?e.comparison&&e.comparison>0?"in "+r:r+" ago":r};function B2(n){return(t={})=>{const e=t.width?String(t.width):n.defaultWidth;return n.formats[e]||n.formats[n.defaultWidth]}}const nne={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ine={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},one={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ane={date:B2({formats:nne,defaultWidth:"full"}),time:B2({formats:ine,defaultWidth:"full"}),dateTime:B2({formats:one,defaultWidth:"full"})},sne={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},lne=(n,t,e,r)=>sne[n];function Tv(n){return(t,e)=>{const r=e!=null&&e.context?String(e.context):"standalone";let i;if(r==="formatting"&&n.formattingValues){const a=n.defaultFormattingWidth||n.defaultWidth,s=e!=null&&e.width?String(e.width):a;i=n.formattingValues[s]||n.formattingValues[a]}else{const a=n.defaultWidth,s=e!=null&&e.width?String(e.width):n.defaultWidth;i=n.values[s]||n.values[a]}const o=n.argumentCallback?n.argumentCallback(t):t;return i[o]}}const cne={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},une={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},fne={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dne={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},hne={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},pne={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},vne=(n,t)=>{const e=Number(n),r=e%100;if(r>20||r<10)switch(r%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"},gne={ordinalNumber:vne,era:Tv({values:cne,defaultWidth:"wide"}),quarter:Tv({values:une,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Tv({values:fne,defaultWidth:"wide"}),day:Tv({values:dne,defaultWidth:"wide"}),dayPeriod:Tv({values:hne,defaultWidth:"wide",formattingValues:pne,defaultFormattingWidth:"wide"})};function Cv(n){return(t,e={})=>{const r=e.width,i=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],o=t.match(i);if(!o)return null;const a=o[0],s=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],l=Array.isArray(s)?yne(s,f=>f.test(a)):mne(s,f=>f.test(a));let c;c=n.valueCallback?n.valueCallback(l):l,c=e.valueCallback?e.valueCallback(c):c;const u=t.slice(a.length);return{value:c,rest:u}}}function mne(n,t){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e)&&t(n[e]))return e}function yne(n,t){for(let e=0;e<n.length;e++)if(t(n[e]))return e}function bne(n){return(t,e={})=>{const r=t.match(n.matchPattern);if(!r)return null;const i=r[0],o=t.match(n.parsePattern);if(!o)return null;let a=n.valueCallback?n.valueCallback(o[0]):o[0];a=e.valueCallback?e.valueCallback(a):a;const s=t.slice(i.length);return{value:a,rest:s}}}const xne=/^(\d+)(th|st|nd|rd)?/i,wne=/\d+/i,_ne={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Sne={any:[/^b/i,/^(a|c)/i]},Tne={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Cne={any:[/1/i,/2/i,/3/i,/4/i]},Ene={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},One={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ane={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Nne={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Pne={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},jne={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},kne={ordinalNumber:bne({matchPattern:xne,parsePattern:wne,valueCallback:n=>parseInt(n,10)}),era:Cv({matchPatterns:_ne,defaultMatchWidth:"wide",parsePatterns:Sne,defaultParseWidth:"any"}),quarter:Cv({matchPatterns:Tne,defaultMatchWidth:"wide",parsePatterns:Cne,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Cv({matchPatterns:Ene,defaultMatchWidth:"wide",parsePatterns:One,defaultParseWidth:"any"}),day:Cv({matchPatterns:Ane,defaultMatchWidth:"wide",parsePatterns:Nne,defaultParseWidth:"any"}),dayPeriod:Cv({matchPatterns:Pne,defaultMatchWidth:"any",parsePatterns:jne,defaultParseWidth:"any"})},p7={code:"en-US",formatDistance:rne,formatLong:ane,formatRelative:lne,localize:gne,match:kne,options:{weekStartsOn:0,firstWeekContainsDate:1}};let Mne={};function Zb(){return Mne}const v7=6048e5,Lne=864e5,wE=Symbol.for("constructDateFrom");function Ju(n,t){return typeof n=="function"?n(t):n&&typeof n=="object"&&wE in n?n[wE](t):n instanceof Date?new n.constructor(t):new Date(t)}function al(n,t){return Ju(t||n,n)}function _E(n){const t=al(n),e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),+n-+e}function Dne(n,...t){const e=Ju.bind(null,t.find(r=>typeof r=="object"));return t.map(e)}function SE(n,t){const e=al(n,t==null?void 0:t.in);return e.setHours(0,0,0,0),e}function Ine(n,t,e){const[r,i]=Dne(e==null?void 0:e.in,n,t),o=SE(r),a=SE(i),s=+o-_E(o),l=+a-_E(a);return Math.round((s-l)/Lne)}function Rne(n,t){const e=al(n,t==null?void 0:t.in);return e.setFullYear(e.getFullYear(),0,1),e.setHours(0,0,0,0),e}function Fne(n,t){const e=al(n,t==null?void 0:t.in);return Ine(e,Rne(e))+1}function sp(n,t){var s,l,c,u;const e=Zb(),r=(t==null?void 0:t.weekStartsOn)??((l=(s=t==null?void 0:t.locale)==null?void 0:s.options)==null?void 0:l.weekStartsOn)??e.weekStartsOn??((u=(c=e.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,i=al(n,t==null?void 0:t.in),o=i.getDay(),a=(o<r?7:0)+o-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function y0(n,t){return sp(n,{...t,weekStartsOn:1})}function g7(n,t){const e=al(n,t==null?void 0:t.in),r=e.getFullYear(),i=Ju(e,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const o=y0(i),a=Ju(e,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const s=y0(a);return e.getTime()>=o.getTime()?r+1:e.getTime()>=s.getTime()?r:r-1}function Bne(n,t){const e=g7(n,t),r=Ju(n,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),y0(r)}function Hne(n,t){const e=al(n,t==null?void 0:t.in),r=+y0(e)-+Bne(e);return Math.round(r/v7)+1}function m7(n,t){var u,f,h,d;const e=al(n,t==null?void 0:t.in),r=e.getFullYear(),i=Zb(),o=(t==null?void 0:t.firstWeekContainsDate)??((f=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((d=(h=i.locale)==null?void 0:h.options)==null?void 0:d.firstWeekContainsDate)??1,a=Ju((t==null?void 0:t.in)||n,0);a.setFullYear(r+1,0,o),a.setHours(0,0,0,0);const s=sp(a,t),l=Ju((t==null?void 0:t.in)||n,0);l.setFullYear(r,0,o),l.setHours(0,0,0,0);const c=sp(l,t);return+e>=+s?r+1:+e>=+c?r:r-1}function $ne(n,t){var s,l,c,u;const e=Zb(),r=(t==null?void 0:t.firstWeekContainsDate)??((l=(s=t==null?void 0:t.locale)==null?void 0:s.options)==null?void 0:l.firstWeekContainsDate)??e.firstWeekContainsDate??((u=(c=e.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,i=m7(n,t),o=Ju((t==null?void 0:t.in)||n,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),sp(o,t)}function Une(n,t){const e=al(n,t==null?void 0:t.in),r=+sp(e,t)-+$ne(e,t);return Math.round(r/v7)+1}function Dn(n,t){const e=n<0?"-":"",r=Math.abs(n).toString().padStart(t,"0");return e+r}const Lu={y(n,t){const e=n.getFullYear(),r=e>0?e:1-e;return Dn(t==="yy"?r%100:r,t.length)},M(n,t){const e=n.getMonth();return t==="M"?String(e+1):Dn(e+1,2)},d(n,t){return Dn(n.getDate(),t.length)},a(n,t){const e=n.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return e.toUpperCase();case"aaa":return e;case"aaaaa":return e[0];case"aaaa":default:return e==="am"?"a.m.":"p.m."}},h(n,t){return Dn(n.getHours()%12||12,t.length)},H(n,t){return Dn(n.getHours(),t.length)},m(n,t){return Dn(n.getMinutes(),t.length)},s(n,t){return Dn(n.getSeconds(),t.length)},S(n,t){const e=t.length,r=n.getMilliseconds(),i=Math.trunc(r*Math.pow(10,e-3));return Dn(i,t.length)}},lh={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},TE={G:function(n,t,e){const r=n.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return e.era(r,{width:"abbreviated"});case"GGGGG":return e.era(r,{width:"narrow"});case"GGGG":default:return e.era(r,{width:"wide"})}},y:function(n,t,e){if(t==="yo"){const r=n.getFullYear(),i=r>0?r:1-r;return e.ordinalNumber(i,{unit:"year"})}return Lu.y(n,t)},Y:function(n,t,e,r){const i=m7(n,r),o=i>0?i:1-i;if(t==="YY"){const a=o%100;return Dn(a,2)}return t==="Yo"?e.ordinalNumber(o,{unit:"year"}):Dn(o,t.length)},R:function(n,t){const e=g7(n);return Dn(e,t.length)},u:function(n,t){const e=n.getFullYear();return Dn(e,t.length)},Q:function(n,t,e){const r=Math.ceil((n.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Dn(r,2);case"Qo":return e.ordinalNumber(r,{unit:"quarter"});case"QQQ":return e.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return e.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return e.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,t,e){const r=Math.ceil((n.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Dn(r,2);case"qo":return e.ordinalNumber(r,{unit:"quarter"});case"qqq":return e.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return e.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return e.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,t,e){const r=n.getMonth();switch(t){case"M":case"MM":return Lu.M(n,t);case"Mo":return e.ordinalNumber(r+1,{unit:"month"});case"MMM":return e.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return e.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return e.month(r,{width:"wide",context:"formatting"})}},L:function(n,t,e){const r=n.getMonth();switch(t){case"L":return String(r+1);case"LL":return Dn(r+1,2);case"Lo":return e.ordinalNumber(r+1,{unit:"month"});case"LLL":return e.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return e.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return e.month(r,{width:"wide",context:"standalone"})}},w:function(n,t,e,r){const i=Une(n,r);return t==="wo"?e.ordinalNumber(i,{unit:"week"}):Dn(i,t.length)},I:function(n,t,e){const r=Hne(n);return t==="Io"?e.ordinalNumber(r,{unit:"week"}):Dn(r,t.length)},d:function(n,t,e){return t==="do"?e.ordinalNumber(n.getDate(),{unit:"date"}):Lu.d(n,t)},D:function(n,t,e){const r=Fne(n);return t==="Do"?e.ordinalNumber(r,{unit:"dayOfYear"}):Dn(r,t.length)},E:function(n,t,e){const r=n.getDay();switch(t){case"E":case"EE":case"EEE":return e.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return e.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return e.day(r,{width:"short",context:"formatting"});case"EEEE":default:return e.day(r,{width:"wide",context:"formatting"})}},e:function(n,t,e,r){const i=n.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return Dn(o,2);case"eo":return e.ordinalNumber(o,{unit:"day"});case"eee":return e.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return e.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return e.day(i,{width:"short",context:"formatting"});case"eeee":default:return e.day(i,{width:"wide",context:"formatting"})}},c:function(n,t,e,r){const i=n.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return Dn(o,t.length);case"co":return e.ordinalNumber(o,{unit:"day"});case"ccc":return e.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return e.day(i,{width:"narrow",context:"standalone"});case"cccccc":return e.day(i,{width:"short",context:"standalone"});case"cccc":default:return e.day(i,{width:"wide",context:"standalone"})}},i:function(n,t,e){const r=n.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return Dn(i,t.length);case"io":return e.ordinalNumber(i,{unit:"day"});case"iii":return e.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return e.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return e.day(r,{width:"short",context:"formatting"});case"iiii":default:return e.day(r,{width:"wide",context:"formatting"})}},a:function(n,t,e){const i=n.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return e.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return e.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return e.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return e.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(n,t,e){const r=n.getHours();let i;switch(r===12?i=lh.noon:r===0?i=lh.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return e.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return e.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return e.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return e.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(n,t,e){const r=n.getHours();let i;switch(r>=17?i=lh.evening:r>=12?i=lh.afternoon:r>=4?i=lh.morning:i=lh.night,t){case"B":case"BB":case"BBB":return e.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return e.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return e.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(n,t,e){if(t==="ho"){let r=n.getHours()%12;return r===0&&(r=12),e.ordinalNumber(r,{unit:"hour"})}return Lu.h(n,t)},H:function(n,t,e){return t==="Ho"?e.ordinalNumber(n.getHours(),{unit:"hour"}):Lu.H(n,t)},K:function(n,t,e){const r=n.getHours()%12;return t==="Ko"?e.ordinalNumber(r,{unit:"hour"}):Dn(r,t.length)},k:function(n,t,e){let r=n.getHours();return r===0&&(r=24),t==="ko"?e.ordinalNumber(r,{unit:"hour"}):Dn(r,t.length)},m:function(n,t,e){return t==="mo"?e.ordinalNumber(n.getMinutes(),{unit:"minute"}):Lu.m(n,t)},s:function(n,t,e){return t==="so"?e.ordinalNumber(n.getSeconds(),{unit:"second"}):Lu.s(n,t)},S:function(n,t){return Lu.S(n,t)},X:function(n,t,e){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return EE(r);case"XXXX":case"XX":return Vf(r);case"XXXXX":case"XXX":default:return Vf(r,":")}},x:function(n,t,e){const r=n.getTimezoneOffset();switch(t){case"x":return EE(r);case"xxxx":case"xx":return Vf(r);case"xxxxx":case"xxx":default:return Vf(r,":")}},O:function(n,t,e){const r=n.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+CE(r,":");case"OOOO":default:return"GMT"+Vf(r,":")}},z:function(n,t,e){const r=n.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+CE(r,":");case"zzzz":default:return"GMT"+Vf(r,":")}},t:function(n,t,e){const r=Math.trunc(+n/1e3);return Dn(r,t.length)},T:function(n,t,e){return Dn(+n,t.length)}};function CE(n,t=""){const e=n>0?"-":"+",r=Math.abs(n),i=Math.trunc(r/60),o=r%60;return o===0?e+String(i):e+String(i)+t+Dn(o,2)}function EE(n,t){return n%60===0?(n>0?"-":"+")+Dn(Math.abs(n)/60,2):Vf(n,t)}function Vf(n,t=""){const e=n>0?"-":"+",r=Math.abs(n),i=Dn(Math.trunc(r/60),2),o=Dn(r%60,2);return e+i+t+o}const OE=(n,t)=>{switch(n){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},y7=(n,t)=>{switch(n){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Vne=(n,t)=>{const e=n.match(/(P+)(p+)?/)||[],r=e[1],i=e[2];if(!i)return OE(n,t);let o;switch(r){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",OE(r,t)).replace("{{time}}",y7(i,t))},zne={p:y7,P:Vne},Wne=/^D+$/,qne=/^Y+$/,Gne=["D","DD","YY","YYYY"];function Kne(n){return Wne.test(n)}function Yne(n){return qne.test(n)}function Xne(n,t,e){const r=Zne(n,t,e);if(console.warn(r),Gne.includes(n))throw new RangeError(r)}function Zne(n,t,e){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${t}\`) for formatting ${r} to the input \`${e}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}function Jne(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function Qne(n){return!(!Jne(n)&&typeof n!="number"||isNaN(+al(n)))}const eie=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,tie=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,rie=/^'([^]*?)'?$/,nie=/''/g,iie=/[a-zA-Z]/;function LT(n,t,e){var u,f,h,d,m,g,x,b;const r=Zb(),i=(e==null?void 0:e.locale)??r.locale??p7,o=(e==null?void 0:e.firstWeekContainsDate)??((f=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(h=r.locale)==null?void 0:h.options)==null?void 0:d.firstWeekContainsDate)??1,a=(e==null?void 0:e.weekStartsOn)??((g=(m=e==null?void 0:e.locale)==null?void 0:m.options)==null?void 0:g.weekStartsOn)??r.weekStartsOn??((b=(x=r.locale)==null?void 0:x.options)==null?void 0:b.weekStartsOn)??0,s=al(n,e==null?void 0:e.in);if(!Qne(s))throw new RangeError("Invalid time value");let l=t.match(tie).map(_=>{const S=_[0];if(S==="p"||S==="P"){const T=zne[S];return T(_,i.formatLong)}return _}).join("").match(eie).map(_=>{if(_==="''")return{isToken:!1,value:"'"};const S=_[0];if(S==="'")return{isToken:!1,value:oie(_)};if(TE[S])return{isToken:!0,value:_};if(S.match(iie))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");return{isToken:!1,value:_}});i.localize.preprocessor&&(l=i.localize.preprocessor(s,l));const c={firstWeekContainsDate:o,weekStartsOn:a,locale:i};return l.map(_=>{if(!_.isToken)return _.value;const S=_.value;(!(e!=null&&e.useAdditionalWeekYearTokens)&&Yne(S)||!(e!=null&&e.useAdditionalDayOfYearTokens)&&Kne(S))&&Xne(S,t,String(n));const T=TE[S[0]];return T(s,S,i.localize,c)}).join("")}function oie(n){const t=n.match(rie);return t?t[1].replace(nie,"'"):n}function aie(n,t){return al(n,t==null?void 0:t.in).getDay()}const sie={"en-US":p7},lie=ene({format:LT,startOfWeek:sp,getDay:aie,locales:sie});function cie(){const[n,t]=ye.useState([]);return ye.useEffect(()=>{async function e(){var l,c;const{data:{user:r},error:i}=await jr.auth.getUser();if(i||!r){console.error("User error:",i);return}const o=((l=r==null?void 0:r.user_metadata)==null?void 0:l.org_id)||((c=r==null?void 0:r.app_metadata)==null?void 0:c.org_id);if(!o){console.error("Missing org_id in user metadata.");return}const{data:a,error:s}=await jr.from("events").select("*").eq("org_id",o);if(s)console.error("Error loading events:",s);else{const u=a.map(f=>({id:f.id,title:f.title,start:new Date(f.event_date),end:new Date(f.event_date)}));t(u)}}e()},[]),y.jsxs("div",{className:"p-6 max-w-5xl mx-auto",children:[y.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Event Calendar"}),y.jsx(Kre,{localizer:lie,events:n,startAccessor:"start",endAccessor:"end",style:{height:600}})]})}function DT({title:n,loading:t=!1,error:e=null,children:r,className:i=""}){return t?y.jsx($S,{size:"lg"}):e?y.jsx("div",{className:"p-4 text-center text-red-600",children:e}):y.jsxs("div",{className:`p-6 ${i}`,children:[n&&y.jsx("div",{className:"mb-6",children:y.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:n})}),r||y.jsx(HS,{})]})}function Ka({children:n,variant:t="default",className:e="",disabled:r=!1,fullWidth:i=!1,...o}){let a="inline-flex items-center justify-center px-4 py-2 rounded font-medium focus:outline-none transition",s="";switch(t){case"outline":s="border border-blue-600 text-blue-600 bg-white hover:bg-blue-50";break;case"danger":s="bg-red-600 text-white hover:bg-red-700";break;default:s="bg-blue-600 text-white hover:bg-blue-700"}let l=r?"opacity-50 cursor-not-allowed":"",c=i?"w-full":"";return y.jsx("button",{className:`${a} ${s} ${l} ${c} ${e}`,disabled:r,...o,children:n})}function bs({title:n,description:t,children:e,className:r="",...i}){return y.jsxs("div",{className:`
        bg-white rounded-lg shadow-md overflow-hidden
        ${r}
      `,...i,children:[(n||t)&&y.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[n&&y.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:n}),t&&y.jsx("p",{className:"mt-1 text-sm text-gray-600",children:t})]}),y.jsx("div",{className:"p-6",children:e})]})}function ch({label:n,error:t,as:e="input",className:r="",...i}){const o=e==="textarea"?"textarea":"input";return y.jsxs("div",{className:"space-y-1",children:[n&&y.jsx("label",{htmlFor:i.id,className:"block text-sm font-medium text-gray-700",children:n}),y.jsx(o,{className:`block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed ${t?"border-red-300 focus:border-red-500 focus:ring-red-500":""} ${r}`,...i}),t&&y.jsx("p",{className:"text-sm text-red-600",children:t})]})}function AE({label:n,error:t,options:e=[],className:r="",...i}){return y.jsxs("div",{className:"space-y-1",children:[n&&y.jsx("label",{htmlFor:i.id,className:"block text-sm font-medium text-gray-700",children:n}),y.jsx("select",{className:`
          block w-full rounded-lg
          border-gray-300 shadow-sm
          focus:border-blue-500 focus:ring-blue-500
          disabled:bg-gray-100 disabled:cursor-not-allowed
          ${t?"border-red-300 focus:border-red-500 focus:ring-red-500":""}
          ${r}
        `,...i,children:e.map(o=>y.jsx("option",{value:o.value,children:o.label},o.value))}),t&&y.jsx("p",{className:"text-sm text-red-600",children:t})]})}function uie(n){return n==null}var fie=uie;const on=hn(fie);var die=pu,hie=ia,pie=zl,vie="[object String]";function gie(n){return typeof n=="string"||!hie(n)&&pie(n)&&die(n)==vie}var mie=gie;const Td=hn(mie);var b7={exports:{}},In={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IT=Symbol.for("react.element"),RT=Symbol.for("react.portal"),Jb=Symbol.for("react.fragment"),Qb=Symbol.for("react.strict_mode"),ex=Symbol.for("react.profiler"),tx=Symbol.for("react.provider"),rx=Symbol.for("react.context"),yie=Symbol.for("react.server_context"),nx=Symbol.for("react.forward_ref"),ix=Symbol.for("react.suspense"),ox=Symbol.for("react.suspense_list"),ax=Symbol.for("react.memo"),sx=Symbol.for("react.lazy"),bie=Symbol.for("react.offscreen"),x7;x7=Symbol.for("react.module.reference");function sl(n){if(typeof n=="object"&&n!==null){var t=n.$$typeof;switch(t){case IT:switch(n=n.type,n){case Jb:case ex:case Qb:case ix:case ox:return n;default:switch(n=n&&n.$$typeof,n){case yie:case rx:case nx:case sx:case ax:case tx:return n;default:return t}}case RT:return t}}}In.ContextConsumer=rx;In.ContextProvider=tx;In.Element=IT;In.ForwardRef=nx;In.Fragment=Jb;In.Lazy=sx;In.Memo=ax;In.Portal=RT;In.Profiler=ex;In.StrictMode=Qb;In.Suspense=ix;In.SuspenseList=ox;In.isAsyncMode=function(){return!1};In.isConcurrentMode=function(){return!1};In.isContextConsumer=function(n){return sl(n)===rx};In.isContextProvider=function(n){return sl(n)===tx};In.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===IT};In.isForwardRef=function(n){return sl(n)===nx};In.isFragment=function(n){return sl(n)===Jb};In.isLazy=function(n){return sl(n)===sx};In.isMemo=function(n){return sl(n)===ax};In.isPortal=function(n){return sl(n)===RT};In.isProfiler=function(n){return sl(n)===ex};In.isStrictMode=function(n){return sl(n)===Qb};In.isSuspense=function(n){return sl(n)===ix};In.isSuspenseList=function(n){return sl(n)===ox};In.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===Jb||n===ex||n===Qb||n===ix||n===ox||n===bie||typeof n=="object"&&n!==null&&(n.$$typeof===sx||n.$$typeof===ax||n.$$typeof===tx||n.$$typeof===rx||n.$$typeof===nx||n.$$typeof===x7||n.getModuleId!==void 0)};In.typeOf=sl;b7.exports=In;var xie=b7.exports,wie=pu,_ie=zl,Sie="[object Number]";function Tie(n){return typeof n=="number"||_ie(n)&&wie(n)==Sie}var w7=Tie;const Cie=hn(w7);var Eie=w7;function Oie(n){return Eie(n)&&n!=+n}var Aie=Oie;const Zp=hn(Aie);var Sa=function(t){return t===0?0:t>0?1:-1},ed=function(t){return Td(t)&&t.indexOf("%")===t.length-1},Gt=function(t){return Cie(t)&&!Zp(t)},so=function(t){return Gt(t)||Td(t)},Nie=0,Jp=function(t){var e=++Nie;return"".concat(t||"").concat(e)},Ta=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Gt(t)&&!Td(t))return r;var o;if(ed(t)){var a=t.indexOf("%");o=e*parseFloat(t.slice(0,a))/100}else o=+t;return Zp(o)&&(o=r),i&&o>e&&(o=e),o},Hu=function(t){if(!t)return null;var e=Object.keys(t);return e&&e.length?t[e[0]]:null},Pie=function(t){if(!Array.isArray(t))return!1;for(var e=t.length,r={},i=0;i<e;i++)if(!r[t[i]])r[t[i]]=!0;else return!0;return!1},za=function(t,e){return Gt(t)&&Gt(e)?function(r){return t+r*(e-t)}:function(){return e}};function b0(n,t,e){return!n||!n.length?null:n.find(function(r){return r&&(typeof t=="function"?t(r):Ts(r,t))===e})}var jie=function(t,e){return Gt(t)&&Gt(e)?t-e:Td(t)&&Td(e)?t.localeCompare(e):t instanceof Date&&e instanceof Date?t.getTime()-e.getTime():String(t).localeCompare(String(e))};function Yh(n,t){for(var e in n)if({}.hasOwnProperty.call(n,e)&&(!{}.hasOwnProperty.call(t,e)||n[e]!==t[e]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(n,r))return!1;return!0}function Aw(n){"@babel/helpers - typeof";return Aw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Aw(n)}var kie=["viewBox","children"],Mie=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],NE=["points","pathLength"],H2={svg:kie,polygon:NE,polyline:NE},FT=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],x0=function(t,e){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(ye.isValidElement(t)&&(r=t.props),!Bp(r))return null;var i={};return Object.keys(r).forEach(function(o){FT.includes(o)&&(i[o]=e||function(a){return r[o](r,a)})}),i},Lie=function(t,e,r){return function(i){return t(e,r,i),null}},Cd=function(t,e,r){if(!Bp(t)||Aw(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(o){var a=t[o];FT.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=Lie(a,e,r))}),i},Die=["children"],Iie=["children"];function PE(n,t){if(n==null)return{};var e=Rie(n,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(e[r]=n[r])}return e}function Rie(n,t){if(n==null)return{};var e={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(t.indexOf(r)>=0)continue;e[r]=n[r]}return e}function Nw(n){"@babel/helpers - typeof";return Nw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nw(n)}var jE={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ou=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},kE=null,$2=null,BT=function n(t){if(t===kE&&Array.isArray($2))return $2;var e=[];return ye.Children.forEach(t,function(r){on(r)||(xie.isFragment(r)?e=e.concat(n(r.props.children)):e.push(r))}),$2=e,kE=t,e};function Qs(n,t){var e=[],r=[];return Array.isArray(t)?r=t.map(function(i){return ou(i)}):r=[ou(t)],BT(n).forEach(function(i){var o=Ts(i,"type.displayName")||Ts(i,"type.name");r.indexOf(o)!==-1&&e.push(i)}),e}function ms(n,t){var e=Qs(n,t);return e&&e[0]}var ME=function(t){if(!t||!t.props)return!1;var e=t.props,r=e.width,i=e.height;return!(!Gt(r)||r<=0||!Gt(i)||i<=0)},Fie=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Bie=function(t){return t&&t.type&&Td(t.type)&&Fie.indexOf(t.type)>=0},Hie=function(t){return t&&Nw(t)==="object"&&"clipDot"in t},$ie=function(t,e,r,i){var o,a=(o=H2==null?void 0:H2[i])!==null&&o!==void 0?o:[];return e.startsWith("data-")||!Ur(t)&&(i&&a.includes(e)||Mie.includes(e))||r&&FT.includes(e)},kr=function(t,e,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(ye.isValidElement(t)&&(i=t.props),!Bp(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;$ie((s=i)===null||s===void 0?void 0:s[a],a,e,r)&&(o[a]=i[a])}),o},Pw=function n(t,e){if(t===e)return!0;var r=ye.Children.count(t);if(r!==ye.Children.count(e))return!1;if(r===0)return!0;if(r===1)return LE(Array.isArray(t)?t[0]:t,Array.isArray(e)?e[0]:e);for(var i=0;i<r;i++){var o=t[i],a=e[i];if(Array.isArray(o)||Array.isArray(a)){if(!n(o,a))return!1}else if(!LE(o,a))return!1}return!0},LE=function(t,e){if(on(t)&&on(e))return!0;if(!on(t)&&!on(e)){var r=t.props||{},i=r.children,o=PE(r,Die),a=e.props||{},s=a.children,l=PE(a,Iie);return i&&s?Yh(o,l)&&Pw(i,s):!i&&!s?Yh(o,l):!1}return!1},DE=function(t,e){var r=[],i={};return BT(t).forEach(function(o,a){if(Bie(o))r.push(o);else if(o){var s=ou(o.type),l=e[s]||{},c=l.handler,u=l.once;if(c&&(!u||!i[s])){var f=c(o,s,a);r.push(f),i[s]=!0}}}),r},Uie=function(t){var e=t&&t.type;return e&&jE[e]?jE[e]:null},Vie=function(t,e){return BT(e).indexOf(t)},zie=["children","width","height","viewBox","className","style","title","desc"];function jw(){return jw=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},jw.apply(this,arguments)}function Wie(n,t){if(n==null)return{};var e=qie(n,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(e[r]=n[r])}return e}function qie(n,t){if(n==null)return{};var e={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(t.indexOf(r)>=0)continue;e[r]=n[r]}return e}function kw(n){var t=n.children,e=n.width,r=n.height,i=n.viewBox,o=n.className,a=n.style,s=n.title,l=n.desc,c=Wie(n,zie),u=i||{width:e,height:r,x:0,y:0},f=cn("recharts-surface",o);return Se.createElement("svg",jw({},kr(c,!0,"svg"),{className:f,width:e,height:r,style:a,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),Se.createElement("title",null,s),Se.createElement("desc",null,l),t)}var Gie=["children","className"];function Mw(){return Mw=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Mw.apply(this,arguments)}function Kie(n,t){if(n==null)return{};var e=Yie(n,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(e[r]=n[r])}return e}function Yie(n,t){if(n==null)return{};var e={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(t.indexOf(r)>=0)continue;e[r]=n[r]}return e}var mn=Se.forwardRef(function(n,t){var e=n.children,r=n.className,i=Kie(n,Gie),o=cn("recharts-layer",r);return Se.createElement("g",Mw({className:o},kr(i,!0),{ref:t}),e)}),Bl=function(t,e){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]},Xie=YS;function Zie(n,t,e){var r=n.length;return e=e===void 0?r:e,!t&&e>=r?n:Xie(n,t,e)}var Jie=Zie,Qie="\\ud800-\\udfff",eoe="\\u0300-\\u036f",toe="\\ufe20-\\ufe2f",roe="\\u20d0-\\u20ff",noe=eoe+toe+roe,ioe="\\ufe0e\\ufe0f",ooe="\\u200d",aoe=RegExp("["+ooe+Qie+noe+ioe+"]");function soe(n){return aoe.test(n)}var _7=soe;function loe(n){return n.split("")}var coe=loe,S7="\\ud800-\\udfff",uoe="\\u0300-\\u036f",foe="\\ufe20-\\ufe2f",doe="\\u20d0-\\u20ff",hoe=uoe+foe+doe,poe="\\ufe0e\\ufe0f",voe="["+S7+"]",Lw="["+hoe+"]",Dw="\\ud83c[\\udffb-\\udfff]",goe="(?:"+Lw+"|"+Dw+")",T7="[^"+S7+"]",C7="(?:\\ud83c[\\udde6-\\uddff]){2}",E7="[\\ud800-\\udbff][\\udc00-\\udfff]",moe="\\u200d",O7=goe+"?",A7="["+poe+"]?",yoe="(?:"+moe+"(?:"+[T7,C7,E7].join("|")+")"+A7+O7+")*",boe=A7+O7+yoe,xoe="(?:"+[T7+Lw+"?",Lw,C7,E7,voe].join("|")+")",woe=RegExp(Dw+"(?="+Dw+")|"+xoe+boe,"g");function _oe(n){return n.match(woe)||[]}var Soe=_oe,Toe=coe,Coe=_7,Eoe=Soe;function Ooe(n){return Coe(n)?Eoe(n):Toe(n)}var Aoe=Ooe,Noe=Jie,Poe=_7,joe=Aoe,koe=EP;function Moe(n){return function(t){t=koe(t);var e=Poe(t)?joe(t):void 0,r=e?e[0]:t.charAt(0),i=e?Noe(e,1).join(""):t.slice(1);return r[n]()+i}}var Loe=Moe,Doe=Loe,Ioe=Doe("toUpperCase"),Roe=Ioe;const lx=hn(Roe);function Jn(n){return function(){return n}}const N7=Math.cos,w0=Math.sin,ql=Math.sqrt,_0=Math.PI,cx=2*_0,Iw=Math.PI,Rw=2*Iw,zf=1e-6,Foe=Rw-zf;function P7(n){this._+=n[0];for(let t=1,e=n.length;t<e;++t)this._+=arguments[t]+n[t]}function Boe(n){let t=Math.floor(n);if(!(t>=0))throw new Error(`invalid digits: ${n}`);if(t>15)return P7;const e=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*e)/e+r[i]}}class Hoe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?P7:Boe(t)}moveTo(t,e){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,e){this._append`L${this._x1=+t},${this._y1=+e}`}quadraticCurveTo(t,e,r,i){this._append`Q${+t},${+e},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,e,r,i,o,a){this._append`C${+t},${+e},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(t,e,r,i,o){if(t=+t,e=+e,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-t,c=i-e,u=a-t,f=s-e,h=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=e}`;else if(h>zf)if(!(Math.abs(f*l-c*u)>zf)||!o)this._append`L${this._x1=t},${this._y1=e}`;else{let d=r-a,m=i-s,g=l*l+c*c,x=d*d+m*m,b=Math.sqrt(g),_=Math.sqrt(h),S=o*Math.tan((Iw-Math.acos((g+h-x)/(2*b*_)))/2),T=S/_,C=S/b;Math.abs(T-1)>zf&&this._append`L${t+T*u},${e+T*f}`,this._append`A${o},${o},0,0,${+(f*d>u*m)},${this._x1=t+C*l},${this._y1=e+C*c}`}}arc(t,e,r,i,o,a){if(t=+t,e=+e,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),c=t+s,u=e+l,f=1^a,h=a?i-o:o-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>zf||Math.abs(this._y1-u)>zf)&&this._append`L${c},${u}`,r&&(h<0&&(h=h%Rw+Rw),h>Foe?this._append`A${r},${r},0,1,${f},${t-s},${e-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=u}`:h>zf&&this._append`A${r},${r},0,${+(h>=Iw)},${f},${this._x1=t+r*Math.cos(o)},${this._y1=e+r*Math.sin(o)}`)}rect(t,e,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function HT(n){let t=3;return n.digits=function(e){if(!arguments.length)return t;if(e==null)t=null;else{const r=Math.floor(e);if(!(r>=0))throw new RangeError(`invalid digits: ${e}`);t=r}return n},()=>new Hoe(t)}function $T(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function j7(n){this._context=n}j7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;default:this._context.lineTo(n,t);break}}};function ux(n){return new j7(n)}function k7(n){return n[0]}function M7(n){return n[1]}function L7(n,t){var e=Jn(!0),r=null,i=ux,o=null,a=HT(s);n=typeof n=="function"?n:n===void 0?k7:Jn(n),t=typeof t=="function"?t:t===void 0?M7:Jn(t);function s(l){var c,u=(l=$T(l)).length,f,h=!1,d;for(r==null&&(o=i(d=a())),c=0;c<=u;++c)!(c<u&&e(f=l[c],c,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+n(f,c,l),+t(f,c,l));if(d)return o=null,d+""||null}return s.x=function(l){return arguments.length?(n=typeof l=="function"?l:Jn(+l),s):n},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:Jn(+l),s):t},s.defined=function(l){return arguments.length?(e=typeof l=="function"?l:Jn(!!l),s):e},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function pm(n,t,e){var r=null,i=Jn(!0),o=null,a=ux,s=null,l=HT(c);n=typeof n=="function"?n:n===void 0?k7:Jn(+n),t=typeof t=="function"?t:Jn(t===void 0?0:+t),e=typeof e=="function"?e:e===void 0?M7:Jn(+e);function c(f){var h,d,m,g=(f=$T(f)).length,x,b=!1,_,S=new Array(g),T=new Array(g);for(o==null&&(s=a(_=l())),h=0;h<=g;++h){if(!(h<g&&i(x=f[h],h,f))===b)if(b=!b)d=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=h-1;m>=d;--m)s.point(S[m],T[m]);s.lineEnd(),s.areaEnd()}b&&(S[h]=+n(x,h,f),T[h]=+t(x,h,f),s.point(r?+r(x,h,f):S[h],e?+e(x,h,f):T[h]))}if(_)return s=null,_+""||null}function u(){return L7().defined(i).curve(a).context(o)}return c.x=function(f){return arguments.length?(n=typeof f=="function"?f:Jn(+f),r=null,c):n},c.x0=function(f){return arguments.length?(n=typeof f=="function"?f:Jn(+f),c):n},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Jn(+f),c):r},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:Jn(+f),e=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Jn(+f),c):t},c.y1=function(f){return arguments.length?(e=f==null?null:typeof f=="function"?f:Jn(+f),c):e},c.lineX0=c.lineY0=function(){return u().x(n).y(t)},c.lineY1=function(){return u().x(n).y(e)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Jn(!!f),c):i},c.curve=function(f){return arguments.length?(a=f,o!=null&&(s=a(o)),c):a},c.context=function(f){return arguments.length?(f==null?o=s=null:s=a(o=f),c):o},c}class D7{constructor(t,e){this._context=t,this._x=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,e){switch(t=+t,e=+e,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,e,t,e):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+e)/2,t,this._y0,t,e);break}}this._x0=t,this._y0=e}}function $oe(n){return new D7(n,!0)}function Uoe(n){return new D7(n,!1)}const UT={draw(n,t){const e=ql(t/_0);n.moveTo(e,0),n.arc(0,0,e,0,cx)}},Voe={draw(n,t){const e=ql(t/5)/2;n.moveTo(-3*e,-e),n.lineTo(-e,-e),n.lineTo(-e,-3*e),n.lineTo(e,-3*e),n.lineTo(e,-e),n.lineTo(3*e,-e),n.lineTo(3*e,e),n.lineTo(e,e),n.lineTo(e,3*e),n.lineTo(-e,3*e),n.lineTo(-e,e),n.lineTo(-3*e,e),n.closePath()}},I7=ql(1/3),zoe=I7*2,Woe={draw(n,t){const e=ql(t/zoe),r=e*I7;n.moveTo(0,-e),n.lineTo(r,0),n.lineTo(0,e),n.lineTo(-r,0),n.closePath()}},qoe={draw(n,t){const e=ql(t),r=-e/2;n.rect(r,r,e,e)}},Goe=.8908130915292852,R7=w0(_0/10)/w0(7*_0/10),Koe=w0(cx/10)*R7,Yoe=-N7(cx/10)*R7,Xoe={draw(n,t){const e=ql(t*Goe),r=Koe*e,i=Yoe*e;n.moveTo(0,-e),n.lineTo(r,i);for(let o=1;o<5;++o){const a=cx*o/5,s=N7(a),l=w0(a);n.lineTo(l*e,-s*e),n.lineTo(s*r-l*i,l*r+s*i)}n.closePath()}},U2=ql(3),Zoe={draw(n,t){const e=-ql(t/(U2*3));n.moveTo(0,e*2),n.lineTo(-U2*e,-e),n.lineTo(U2*e,-e),n.closePath()}},Vs=-.5,zs=ql(3)/2,Fw=1/ql(12),Joe=(Fw/2+1)*3,Qoe={draw(n,t){const e=ql(t/Joe),r=e/2,i=e*Fw,o=r,a=e*Fw+e,s=-o,l=a;n.moveTo(r,i),n.lineTo(o,a),n.lineTo(s,l),n.lineTo(Vs*r-zs*i,zs*r+Vs*i),n.lineTo(Vs*o-zs*a,zs*o+Vs*a),n.lineTo(Vs*s-zs*l,zs*s+Vs*l),n.lineTo(Vs*r+zs*i,Vs*i-zs*r),n.lineTo(Vs*o+zs*a,Vs*a-zs*o),n.lineTo(Vs*s+zs*l,Vs*l-zs*s),n.closePath()}};function eae(n,t){let e=null,r=HT(i);n=typeof n=="function"?n:Jn(n||UT),t=typeof t=="function"?t:Jn(t===void 0?64:+t);function i(){let o;if(e||(e=o=r()),n.apply(this,arguments).draw(e,+t.apply(this,arguments)),o)return e=null,o+""||null}return i.type=function(o){return arguments.length?(n=typeof o=="function"?o:Jn(o),i):n},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:Jn(+o),i):t},i.context=function(o){return arguments.length?(e=o??null,i):e},i}function S0(){}function T0(n,t,e){n._context.bezierCurveTo((2*n._x0+n._x1)/3,(2*n._y0+n._y1)/3,(n._x0+2*n._x1)/3,(n._y0+2*n._y1)/3,(n._x0+4*n._x1+t)/6,(n._y0+4*n._y1+e)/6)}function F7(n){this._context=n}F7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:T0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:T0(this,n,t);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=t}};function tae(n){return new F7(n)}function B7(n){this._context=n}B7.prototype={areaStart:S0,areaEnd:S0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._x2=n,this._y2=t;break;case 1:this._point=2,this._x3=n,this._y3=t;break;case 2:this._point=3,this._x4=n,this._y4=t,this._context.moveTo((this._x0+4*this._x1+n)/6,(this._y0+4*this._y1+t)/6);break;default:T0(this,n,t);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=t}};function rae(n){return new B7(n)}function H7(n){this._context=n}H7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+n)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 3:this._point=4;default:T0(this,n,t);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=t}};function nae(n){return new H7(n)}function $7(n){this._context=n}$7.prototype={areaStart:S0,areaEnd:S0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(n,t){n=+n,t=+t,this._point?this._context.lineTo(n,t):(this._point=1,this._context.moveTo(n,t))}};function iae(n){return new $7(n)}function IE(n){return n<0?-1:1}function RE(n,t,e){var r=n._x1-n._x0,i=t-n._x1,o=(n._y1-n._y0)/(r||i<0&&-0),a=(e-n._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(IE(o)+IE(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function FE(n,t){var e=n._x1-n._x0;return e?(3*(n._y1-n._y0)/e-t)/2:t}function V2(n,t,e){var r=n._x0,i=n._y0,o=n._x1,a=n._y1,s=(o-r)/3;n._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*e,o,a)}function C0(n){this._context=n}C0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:V2(this,this._t0,FE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){var e=NaN;if(n=+n,t=+t,!(n===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;break;case 2:this._point=3,V2(this,FE(this,e=RE(this,n,t)),e);break;default:V2(this,this._t0,e=RE(this,n,t));break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=t,this._t0=e}}};function U7(n){this._context=new V7(n)}(U7.prototype=Object.create(C0.prototype)).point=function(n,t){C0.prototype.point.call(this,t,n)};function V7(n){this._context=n}V7.prototype={moveTo:function(n,t){this._context.moveTo(t,n)},closePath:function(){this._context.closePath()},lineTo:function(n,t){this._context.lineTo(t,n)},bezierCurveTo:function(n,t,e,r,i,o){this._context.bezierCurveTo(t,n,r,e,o,i)}};function oae(n){return new C0(n)}function aae(n){return new U7(n)}function z7(n){this._context=n}z7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var n=this._x,t=this._y,e=n.length;if(e)if(this._line?this._context.lineTo(n[0],t[0]):this._context.moveTo(n[0],t[0]),e===2)this._context.lineTo(n[1],t[1]);else for(var r=BE(n),i=BE(t),o=0,a=1;a<e;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],n[a],t[a]);(this._line||this._line!==0&&e===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(n,t){this._x.push(+n),this._y.push(+t)}};function BE(n){var t,e=n.length-1,r,i=new Array(e),o=new Array(e),a=new Array(e);for(i[0]=0,o[0]=2,a[0]=n[0]+2*n[1],t=1;t<e-1;++t)i[t]=1,o[t]=4,a[t]=4*n[t]+2*n[t+1];for(i[e-1]=2,o[e-1]=7,a[e-1]=8*n[e-1]+n[e],t=1;t<e;++t)r=i[t]/o[t-1],o[t]-=r,a[t]-=r*a[t-1];for(i[e-1]=a[e-1]/o[e-1],t=e-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[e-1]=(n[e]+i[e-1])/2,t=0;t<e-1;++t)o[t]=2*n[t+1]-i[t+1];return[i,o]}function sae(n){return new z7(n)}function fx(n,t){this._context=n,this._t=t}fx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(n,t);else{var e=this._x*(1-this._t)+n*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,t)}break}}this._x=n,this._y=t}};function lae(n){return new fx(n,.5)}function cae(n){return new fx(n,0)}function uae(n){return new fx(n,1)}function lp(n,t){if((a=n.length)>1)for(var e=1,r,i,o=n[t[0]],a,s=o.length;e<a;++e)for(i=o,o=n[t[e]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Bw(n){for(var t=n.length,e=new Array(t);--t>=0;)e[t]=t;return e}function fae(n,t){return n[t]}function dae(n){const t=[];return t.key=n,t}function hae(){var n=Jn([]),t=Bw,e=lp,r=fae;function i(o){var a=Array.from(n.apply(this,arguments),dae),s,l=a.length,c=-1,u;for(const f of o)for(s=0,++c;s<l;++s)(a[s][c]=[0,+r(f,a[s].key,c,o)]).data=f;for(s=0,u=$T(t(a));s<l;++s)a[u[s]].index=s;return e(a,u),a}return i.keys=function(o){return arguments.length?(n=typeof o=="function"?o:Jn(Array.from(o)),i):n},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Jn(+o),i):r},i.order=function(o){return arguments.length?(t=o==null?Bw:typeof o=="function"?o:Jn(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(e=o??lp,i):e},i}function pae(n,t){if((r=n.length)>0){for(var e,r,i=0,o=n[0].length,a;i<o;++i){for(a=e=0;e<r;++e)a+=n[e][i][1]||0;if(a)for(e=0;e<r;++e)n[e][i][1]/=a}lp(n,t)}}function vae(n,t){if((i=n.length)>0){for(var e=0,r=n[t[0]],i,o=r.length;e<o;++e){for(var a=0,s=0;a<i;++a)s+=n[a][e][1]||0;r[e][1]+=r[e][0]=-s/2}lp(n,t)}}function gae(n,t){if(!(!((a=n.length)>0)||!((o=(i=n[t[0]]).length)>0))){for(var e=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,c=0;s<a;++s){for(var u=n[t[s]],f=u[r][1]||0,h=u[r-1][1]||0,d=(f-h)/2,m=0;m<s;++m){var g=n[t[m]],x=g[r][1]||0,b=g[r-1][1]||0;d+=x-b}l+=f,c+=d*f}i[r-1][1]+=i[r-1][0]=e,l&&(e-=c/l)}i[r-1][1]+=i[r-1][0]=e,lp(n,t)}}function jg(n){"@babel/helpers - typeof";return jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jg(n)}var mae=["type","size","sizeType"];function Hw(){return Hw=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Hw.apply(this,arguments)}function HE(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function $E(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?HE(Object(e),!0).forEach(function(r){yae(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):HE(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function yae(n,t,e){return t=bae(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function bae(n){var t=xae(n,"string");return jg(t)=="symbol"?t:t+""}function xae(n,t){if(jg(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(jg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function wae(n,t){if(n==null)return{};var e=_ae(n,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(e[r]=n[r])}return e}function _ae(n,t){if(n==null)return{};var e={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(t.indexOf(r)>=0)continue;e[r]=n[r]}return e}var W7={symbolCircle:UT,symbolCross:Voe,symbolDiamond:Woe,symbolSquare:qoe,symbolStar:Xoe,symbolTriangle:Zoe,symbolWye:Qoe},Sae=Math.PI/180,Tae=function(t){var e="symbol".concat(lx(t));return W7[e]||UT},Cae=function(t,e,r){if(e==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*Sae;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Eae=function(t,e){W7["symbol".concat(lx(t))]=e},VT=function(t){var e=t.type,r=e===void 0?"circle":e,i=t.size,o=i===void 0?64:i,a=t.sizeType,s=a===void 0?"area":a,l=wae(t,mae),c=$E($E({},l),{},{type:r,size:o,sizeType:s}),u=function(){var x=Tae(r),b=eae().type(x).size(Cae(o,s,r));return b()},f=c.className,h=c.cx,d=c.cy,m=kr(c,!0);return h===+h&&d===+d&&o===+o?Se.createElement("path",Hw({},m,{className:cn("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(d,")"),d:u()})):null};VT.registerSymbol=Eae;function cp(n){"@babel/helpers - typeof";return cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cp(n)}function $w(){return $w=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},$w.apply(this,arguments)}function UE(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function Oae(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?UE(Object(e),!0).forEach(function(r){kg(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):UE(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function Aae(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function Nae(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,G7(r.key),r)}}function Pae(n,t,e){return t&&Nae(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function jae(n,t,e){return t=E0(t),kae(n,q7()?Reflect.construct(t,e||[],E0(n).constructor):t.apply(n,e))}function kae(n,t){if(t&&(cp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mae(n)}function Mae(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function q7(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q7=function(){return!!n})()}function E0(n){return E0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},E0(n)}function Lae(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&Uw(n,t)}function Uw(n,t){return Uw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Uw(n,t)}function kg(n,t,e){return t=G7(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function G7(n){var t=Dae(n,"string");return cp(t)=="symbol"?t:t+""}function Dae(n,t){if(cp(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(cp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var Ws=32,zT=function(n){function t(){return Aae(this,t),jae(this,t,arguments)}return Lae(t,n),Pae(t,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=Ws/2,a=Ws/6,s=Ws/3,l=r.inactive?i:r.color;if(r.type==="plainline")return Se.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:Ws,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return Se.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(Ws,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return Se.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Ws/8,"h").concat(Ws,"v").concat(Ws*3/4,"h").concat(-Ws,"z"),className:"recharts-legend-icon"});if(Se.isValidElement(r.legendIcon)){var c=Oae({},r);return delete c.legendIcon,Se.cloneElement(r.legendIcon,c)}return Se.createElement(VT,{fill:l,cx:o,cy:o,size:Ws,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,c=i.inactiveColor,u={x:0,y:0,width:Ws,height:Ws},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(d,m){var g=d.formatter||l,x=cn(kg(kg({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",d.inactive));if(d.type==="none")return null;var b=Ur(d.value)?null:d.value;Bl(!Ur(d.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var _=d.inactive?c:d.color;return Se.createElement("li",$w({className:x,style:f,key:"legend-item-".concat(m)},Cd(r.props,d,m)),Se.createElement(kw,{width:a,height:a,viewBox:u,style:h},r.renderIcon(d)),Se.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},g?g(b,d,m):b))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return Se.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(ye.PureComponent);kg(zT,"displayName","Legend");kg(zT,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});function Iae(n){return n!==n}var Rae=Iae;function Fae(n,t,e){for(var r=e-1,i=n.length;++r<i;)if(n[r]===t)return r;return-1}var Bae=Fae,Hae=xP,$ae=Rae,Uae=Bae;function Vae(n,t,e){return t===t?Uae(n,t,e):Hae(n,$ae,e)}var zae=Vae,Wae=zae;function qae(n,t){var e=n==null?0:n.length;return!!e&&Wae(n,t,0)>-1}var Gae=qae;function Kae(n,t,e){for(var r=-1,i=n==null?0:n.length;++r<i;)if(e(t,n[r]))return!0;return!1}var Yae=Kae;function Xae(){}var Zae=Xae,z2=gP,Jae=Zae,Qae=hT,ese=1/0,tse=z2&&1/Qae(new z2([,-0]))[1]==ese?function(n){return new z2(n)}:Jae,rse=tse,nse=oP,ise=Gae,ose=Yae,ase=sP,sse=rse,lse=hT,cse=200;function use(n,t,e){var r=-1,i=ise,o=n.length,a=!0,s=[],l=s;if(e)a=!1,i=ose;else if(o>=cse){var c=t?null:sse(n);if(c)return lse(c);a=!1,i=ase,l=new nse}else l=t?[]:s;e:for(;++r<o;){var u=n[r],f=t?t(u):u;if(u=e||u!==0?u:0,a&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;t&&l.push(f),s.push(u)}else i(l,f,e)||(l!==s&&l.push(f),s.push(u))}return s}var fse=use,dse=Wl,hse=fse;function pse(n,t){return n&&n.length?hse(n,dse(t)):[]}var vse=pse;const VE=hn(vse);function K7(n,t,e){return t===!0?VE(n,e):Ur(t)?VE(n,t):n}function up(n){"@babel/helpers - typeof";return up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},up(n)}var gse=["ref"];function zE(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function Gc(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?zE(Object(e),!0).forEach(function(r){dx(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):zE(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function mse(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function WE(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,X7(r.key),r)}}function yse(n,t,e){return t&&WE(n.prototype,t),e&&WE(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function bse(n,t,e){return t=O0(t),xse(n,Y7()?Reflect.construct(t,e||[],O0(n).constructor):t.apply(n,e))}function xse(n,t){if(t&&(up(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wse(n)}function wse(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Y7(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Y7=function(){return!!n})()}function O0(n){return O0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},O0(n)}function _se(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&Vw(n,t)}function Vw(n,t){return Vw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Vw(n,t)}function dx(n,t,e){return t=X7(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function X7(n){var t=Sse(n,"string");return up(t)=="symbol"?t:t+""}function Sse(n,t){if(up(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(up(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function Tse(n,t){if(n==null)return{};var e=Cse(n,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(e[r]=n[r])}return e}function Cse(n,t){if(n==null)return{};var e={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(t.indexOf(r)>=0)continue;e[r]=n[r]}return e}function Ese(n){return n.value}function Ose(n,t){if(Se.isValidElement(n))return Se.cloneElement(n,t);if(typeof n=="function")return Se.createElement(n,t);t.ref;var e=Tse(t,gse);return Se.createElement(zT,e)}var qE=1,fd=function(n){function t(){var e;mse(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=bse(this,t,[].concat(i)),dx(e,"lastBoundingBox",{width:-1,height:-1}),e}return _se(t,n),yse(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>qE||Math.abs(i.height-this.lastBoundingBox.height)>qE)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Gc({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,c=i.chartWidth,u=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var d=this.getBBoxSnapshot();f={left:((c||0)-d.width)/2}}else f=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var m=this.getBBoxSnapshot();h={top:((u||0)-m.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Gc(Gc({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,u=i.payload,f=Gc(Gc({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return Se.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(d){r.wrapperNode=d}},Ose(o,Gc(Gc({},this.props),{},{payload:K7(u,c,Ese)})))}}],[{key:"getWithHeight",value:function(r,i){var o=Gc(Gc({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&Gt(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(ye.PureComponent);dx(fd,"displayName","Legend");dx(fd,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});function Mg(n){"@babel/helpers - typeof";return Mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mg(n)}function zw(){return zw=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},zw.apply(this,arguments)}function Ase(n,t){return kse(n)||jse(n,t)||Pse(n,t)||Nse()}function Nse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pse(n,t){if(n){if(typeof n=="string")return GE(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return GE(n,t)}}function GE(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function jse(n,t){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(e=e.call(n)).next,t!==0)for(;!(l=(r=o.call(e)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&e.return!=null&&(a=e.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function kse(n){if(Array.isArray(n))return n}function KE(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function W2(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?KE(Object(e),!0).forEach(function(r){Mse(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):KE(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function Mse(n,t,e){return t=Lse(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Lse(n){var t=Dse(n,"string");return Mg(t)=="symbol"?t:t+""}function Dse(n,t){if(Mg(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(Mg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Ise(n){return Array.isArray(n)&&so(n[0])&&so(n[1])?n.join(" ~ "):n}var Rse=function(t){var e=t.separator,r=e===void 0?" : ":e,i=t.contentStyle,o=i===void 0?{}:i,a=t.itemStyle,s=a===void 0?{}:a,l=t.labelStyle,c=l===void 0?{}:l,u=t.payload,f=t.formatter,h=t.itemSorter,d=t.wrapperClassName,m=t.labelClassName,g=t.label,x=t.labelFormatter,b=t.accessibilityLayer,_=b===void 0?!1:b,S=function(){if(u&&u.length){var M={padding:0,margin:0},I=(h?Vb(u,h):u).map(function(D,V){if(D.type==="none")return null;var F=W2({display:"block",paddingTop:4,paddingBottom:4,color:D.color||"#000"},s),G=D.formatter||f||Ise,W=D.value,Y=D.name,te=W,he=Y;if(G&&te!=null&&he!=null){var z=G(W,Y,D,V,u);if(Array.isArray(z)){var Z=Ase(z,2);te=Z[0],he=Z[1]}else te=z}return Se.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(V),style:F},so(he)?Se.createElement("span",{className:"recharts-tooltip-item-name"},he):null,so(he)?Se.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,Se.createElement("span",{className:"recharts-tooltip-item-value"},te),Se.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return Se.createElement("ul",{className:"recharts-tooltip-item-list",style:M},I)}return null},T=W2({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),C=W2({margin:0},c),w=!on(g),N=w?g:"",A=cn("recharts-default-tooltip",d),j=cn("recharts-tooltip-label",m);w&&x&&u!==void 0&&u!==null&&(N=x(g,u));var R=_?{role:"status","aria-live":"assertive"}:{};return Se.createElement("div",zw({className:A,style:T},R),Se.createElement("p",{className:j,style:C},Se.isValidElement(N)?N:"".concat(N)),S())};function Lg(n){"@babel/helpers - typeof";return Lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lg(n)}function vm(n,t,e){return t=Fse(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Fse(n){var t=Bse(n,"string");return Lg(t)=="symbol"?t:t+""}function Bse(n,t){if(Lg(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(Lg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var Ev="recharts-tooltip-wrapper",Hse={visibility:"hidden"};function $se(n){var t=n.coordinate,e=n.translateX,r=n.translateY;return cn(Ev,vm(vm(vm(vm({},"".concat(Ev,"-right"),Gt(e)&&t&&Gt(t.x)&&e>=t.x),"".concat(Ev,"-left"),Gt(e)&&t&&Gt(t.x)&&e<t.x),"".concat(Ev,"-bottom"),Gt(r)&&t&&Gt(t.y)&&r>=t.y),"".concat(Ev,"-top"),Gt(r)&&t&&Gt(t.y)&&r<t.y))}function YE(n){var t=n.allowEscapeViewBox,e=n.coordinate,r=n.key,i=n.offsetTopLeft,o=n.position,a=n.reverseDirection,s=n.tooltipDimension,l=n.viewBox,c=n.viewBoxDimension;if(o&&Gt(o[r]))return o[r];var u=e[r]-s-i,f=e[r]+i;if(t[r])return a[r]?u:f;if(a[r]){var h=u,d=l[r];return h<d?Math.max(f,l[r]):Math.max(u,l[r])}var m=f+s,g=l[r]+c;return m>g?Math.max(u,l[r]):Math.max(f,l[r])}function Use(n){var t=n.translateX,e=n.translateY,r=n.useTranslate3d;return{transform:r?"translate3d(".concat(t,"px, ").concat(e,"px, 0)"):"translate(".concat(t,"px, ").concat(e,"px)")}}function Vse(n){var t=n.allowEscapeViewBox,e=n.coordinate,r=n.offsetTopLeft,i=n.position,o=n.reverseDirection,a=n.tooltipBox,s=n.useTranslate3d,l=n.viewBox,c,u,f;return a.height>0&&a.width>0&&e?(u=YE({allowEscapeViewBox:t,coordinate:e,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),f=YE({allowEscapeViewBox:t,coordinate:e,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),c=Use({translateX:u,translateY:f,useTranslate3d:s})):c=Hse,{cssProperties:c,cssClasses:$se({translateX:u,translateY:f,coordinate:e})}}function fp(n){"@babel/helpers - typeof";return fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fp(n)}function XE(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function ZE(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?XE(Object(e),!0).forEach(function(r){qw(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):XE(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function zse(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function Wse(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,J7(r.key),r)}}function qse(n,t,e){return t&&Wse(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Gse(n,t,e){return t=A0(t),Kse(n,Z7()?Reflect.construct(t,e||[],A0(n).constructor):t.apply(n,e))}function Kse(n,t){if(t&&(fp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yse(n)}function Yse(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Z7(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Z7=function(){return!!n})()}function A0(n){return A0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},A0(n)}function Xse(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&Ww(n,t)}function Ww(n,t){return Ww=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ww(n,t)}function qw(n,t,e){return t=J7(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function J7(n){var t=Zse(n,"string");return fp(t)=="symbol"?t:t+""}function Zse(n,t){if(fp(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(fp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var JE=1,Jse=function(n){function t(){var e;zse(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=Gse(this,t,[].concat(i)),qw(e,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),qw(e,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,c,u;e.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=e.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(c=(u=e.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),e}return Xse(t,n),qse(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>JE||Math.abs(r.height-this.state.lastBoundingBox.height)>JE)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.children,u=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,d=i.offset,m=i.position,g=i.reverseDirection,x=i.useTranslate3d,b=i.viewBox,_=i.wrapperStyle,S=Vse({allowEscapeViewBox:a,coordinate:u,offsetTopLeft:d,position:m,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:b}),T=S.cssClasses,C=S.cssProperties,w=ZE(ZE({transition:h&&o?"transform ".concat(s,"ms ").concat(l):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},_);return Se.createElement("div",{tabIndex:-1,className:T,style:w,ref:function(A){r.wrapperNode=A}},c)}}])}(ye.PureComponent),Qse=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Fd={isSsr:Qse()};function dp(n){"@babel/helpers - typeof";return dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dp(n)}function QE(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function eO(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?QE(Object(e),!0).forEach(function(r){WT(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):QE(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function ele(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function tle(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,ej(r.key),r)}}function rle(n,t,e){return t&&tle(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function nle(n,t,e){return t=N0(t),ile(n,Q7()?Reflect.construct(t,e||[],N0(n).constructor):t.apply(n,e))}function ile(n,t){if(t&&(dp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ole(n)}function ole(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Q7(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Q7=function(){return!!n})()}function N0(n){return N0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},N0(n)}function ale(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&Gw(n,t)}function Gw(n,t){return Gw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Gw(n,t)}function WT(n,t,e){return t=ej(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function ej(n){var t=sle(n,"string");return dp(t)=="symbol"?t:t+""}function sle(n,t){if(dp(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(dp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function lle(n){return n.dataKey}function cle(n,t){return Se.isValidElement(n)?Se.cloneElement(n,t):typeof n=="function"?Se.createElement(n,t):Se.createElement(Rse,t)}var kl=function(n){function t(){return ele(this,t),nle(this,t,arguments)}return ale(t,n),rle(t,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.content,u=i.coordinate,f=i.filterNull,h=i.isAnimationActive,d=i.offset,m=i.payload,g=i.payloadUniqBy,x=i.position,b=i.reverseDirection,_=i.useTranslate3d,S=i.viewBox,T=i.wrapperStyle,C=m??[];f&&C.length&&(C=K7(m.filter(function(N){return N.value!=null&&(N.hide!==!0||r.props.includeHidden)}),g,lle));var w=C.length>0;return Se.createElement(Jse,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:h,active:o,coordinate:u,hasPayload:w,offset:d,position:x,reverseDirection:b,useTranslate3d:_,viewBox:S,wrapperStyle:T},cle(c,eO(eO({},this.props),{},{payload:C})))}}])}(ye.PureComponent);WT(kl,"displayName","Tooltip");WT(kl,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Fd.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var ule=Vl,fle=function(){return ule.Date.now()},dle=fle,hle=ol,q2=dle,tO=UN,ple="Expected a function",vle=Math.max,gle=Math.min;function mle(n,t,e){var r,i,o,a,s,l,c=0,u=!1,f=!1,h=!0;if(typeof n!="function")throw new TypeError(ple);t=tO(t)||0,hle(e)&&(u=!!e.leading,f="maxWait"in e,o=f?vle(tO(e.maxWait)||0,t):o,h="trailing"in e?!!e.trailing:h);function d(w){var N=r,A=i;return r=i=void 0,c=w,a=n.apply(A,N),a}function m(w){return c=w,s=setTimeout(b,t),u?d(w):a}function g(w){var N=w-l,A=w-c,j=t-N;return f?gle(j,o-A):j}function x(w){var N=w-l,A=w-c;return l===void 0||N>=t||N<0||f&&A>=o}function b(){var w=q2();if(x(w))return _(w);s=setTimeout(b,g(w))}function _(w){return s=void 0,h&&r?d(w):(r=i=void 0,a)}function S(){s!==void 0&&clearTimeout(s),c=0,r=l=i=s=void 0}function T(){return s===void 0?a:_(q2())}function C(){var w=q2(),N=x(w);if(r=arguments,i=this,l=w,N){if(s===void 0)return m(l);if(f)return clearTimeout(s),s=setTimeout(b,t),d(l)}return s===void 0&&(s=setTimeout(b,t)),a}return C.cancel=S,C.flush=T,C}var yle=mle,ble=yle,xle=ol,wle="Expected a function";function _le(n,t,e){var r=!0,i=!0;if(typeof n!="function")throw new TypeError(wle);return xle(e)&&(r="leading"in e?!!e.leading:r,i="trailing"in e?!!e.trailing:i),ble(n,t,{leading:r,maxWait:t,trailing:i})}var Sle=_le;const tj=hn(Sle);function Dg(n){"@babel/helpers - typeof";return Dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dg(n)}function rO(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function gm(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?rO(Object(e),!0).forEach(function(r){Tle(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):rO(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function Tle(n,t,e){return t=Cle(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Cle(n){var t=Ele(n,"string");return Dg(t)=="symbol"?t:t+""}function Ele(n,t){if(Dg(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(Dg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Ole(n,t){return jle(n)||Ple(n,t)||Nle(n,t)||Ale()}function Ale(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nle(n,t){if(n){if(typeof n=="string")return nO(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return nO(n,t)}}function nO(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function Ple(n,t){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(e=e.call(n)).next,t!==0)for(;!(l=(r=o.call(e)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&e.return!=null&&(a=e.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function jle(n){if(Array.isArray(n))return n}var iO=ye.forwardRef(function(n,t){var e=n.aspect,r=n.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=n.width,a=o===void 0?"100%":o,s=n.height,l=s===void 0?"100%":s,c=n.minWidth,u=c===void 0?0:c,f=n.minHeight,h=n.maxHeight,d=n.children,m=n.debounce,g=m===void 0?0:m,x=n.id,b=n.className,_=n.onResize,S=n.style,T=S===void 0?{}:S,C=ye.useRef(null),w=ye.useRef();w.current=_,ye.useImperativeHandle(t,function(){return Object.defineProperty(C.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),C.current},configurable:!0})});var N=ye.useState({containerWidth:i.width,containerHeight:i.height}),A=Ole(N,2),j=A[0],R=A[1],L=ye.useCallback(function(I,D){R(function(V){var F=Math.round(I),G=Math.round(D);return V.containerWidth===F&&V.containerHeight===G?V:{containerWidth:F,containerHeight:G}})},[]);ye.useEffect(function(){var I=function(Y){var te,he=Y[0].contentRect,z=he.width,Z=he.height;L(z,Z),(te=w.current)===null||te===void 0||te.call(w,z,Z)};g>0&&(I=tj(I,g,{trailing:!0,leading:!1}));var D=new ResizeObserver(I),V=C.current.getBoundingClientRect(),F=V.width,G=V.height;return L(F,G),D.observe(C.current),function(){D.disconnect()}},[L,g]);var M=ye.useMemo(function(){var I=j.containerWidth,D=j.containerHeight;if(I<0||D<0)return null;Bl(ed(a)||ed(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),Bl(!e||e>0,"The aspect(%s) must be greater than zero.",e);var V=ed(a)?I:a,F=ed(l)?D:l;e&&e>0&&(V?F=V/e:F&&(V=F*e),h&&F>h&&(F=h)),Bl(V>0||F>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,V,F,a,l,u,f,e);var G=!Array.isArray(d)&&ou(d.type).endsWith("Chart");return Se.Children.map(d,function(W){return Se.isValidElement(W)?ye.cloneElement(W,gm({width:V,height:F},G?{style:gm({height:"100%",width:"100%",maxHeight:F,maxWidth:V},W.props.style)}:{})):W})},[e,d,l,h,f,u,j,a]);return Se.createElement("div",{id:x?"".concat(x):void 0,className:cn("recharts-responsive-container",b),style:gm(gm({},T),{},{width:a,height:l,minWidth:u,minHeight:f,maxHeight:h}),ref:C},M)}),hx=function(t){return null};hx.displayName="Cell";function Ig(n){"@babel/helpers - typeof";return Ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ig(n)}function oO(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function Kw(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?oO(Object(e),!0).forEach(function(r){kle(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):oO(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function kle(n,t,e){return t=Mle(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Mle(n){var t=Lle(n,"string");return Ig(t)=="symbol"?t:t+""}function Lle(n,t){if(Ig(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(Ig(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var uh={widthCache:{},cacheCount:0},Dle=2e3,Ile={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},aO="recharts_measurement_span";function Rle(n){var t=Kw({},n);return Object.keys(t).forEach(function(e){t[e]||delete t[e]}),t}var Yv=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Fd.isSsr)return{width:0,height:0};var r=Rle(e),i=JSON.stringify({text:t,copyStyle:r});if(uh.widthCache[i])return uh.widthCache[i];try{var o=document.getElementById(aO);o||(o=document.createElement("span"),o.setAttribute("id",aO),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=Kw(Kw({},Ile),r);Object.assign(o.style,a),o.textContent="".concat(t);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return uh.widthCache[i]=l,++uh.cacheCount>Dle&&(uh.cacheCount=0,uh.widthCache={}),l}catch{return{width:0,height:0}}},Fle=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Rg(n){"@babel/helpers - typeof";return Rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rg(n)}function P0(n,t){return Ule(n)||$le(n,t)||Hle(n,t)||Ble()}function Ble(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hle(n,t){if(n){if(typeof n=="string")return sO(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return sO(n,t)}}function sO(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function $le(n,t){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(e=e.call(n)).next,t===0){if(Object(e)!==e)return;l=!1}else for(;!(l=(r=o.call(e)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&e.return!=null&&(a=e.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Ule(n){if(Array.isArray(n))return n}function Vle(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function lO(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Wle(r.key),r)}}function zle(n,t,e){return t&&lO(n.prototype,t),e&&lO(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function Wle(n){var t=qle(n,"string");return Rg(t)=="symbol"?t:t+""}function qle(n,t){if(Rg(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(Rg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var cO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,uO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Gle=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Kle=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,rj={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Yle=Object.keys(rj),Sh="NaN";function Xle(n,t){return n*rj[t]}var mm=function(){function n(t,e){Vle(this,n),this.num=t,this.unit=e,this.num=t,this.unit=e,Number.isNaN(t)&&(this.unit=""),e!==""&&!Gle.test(e)&&(this.num=NaN,this.unit=""),Yle.includes(e)&&(this.num=Xle(t,e),this.unit="px")}return zle(n,[{key:"add",value:function(e){return this.unit!==e.unit?new n(NaN,""):new n(this.num+e.num,this.unit)}},{key:"subtract",value:function(e){return this.unit!==e.unit?new n(NaN,""):new n(this.num-e.num,this.unit)}},{key:"multiply",value:function(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new n(NaN,""):new n(this.num*e.num,this.unit||e.unit)}},{key:"divide",value:function(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new n(NaN,""):new n(this.num/e.num,this.unit||e.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(e){var r,i=(r=Kle.exec(e))!==null&&r!==void 0?r:[],o=P0(i,3),a=o[1],s=o[2];return new n(parseFloat(a),s??"")}}])}();function nj(n){if(n.includes(Sh))return Sh;for(var t=n;t.includes("*")||t.includes("/");){var e,r=(e=cO.exec(t))!==null&&e!==void 0?e:[],i=P0(r,4),o=i[1],a=i[2],s=i[3],l=mm.parse(o??""),c=mm.parse(s??""),u=a==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return Sh;t=t.replace(cO,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=uO.exec(t))!==null&&f!==void 0?f:[],d=P0(h,4),m=d[1],g=d[2],x=d[3],b=mm.parse(m??""),_=mm.parse(x??""),S=g==="+"?b.add(_):b.subtract(_);if(S.isNaN())return Sh;t=t.replace(uO,S.toString())}return t}var fO=/\(([^()]*)\)/;function Zle(n){for(var t=n;t.includes("(");){var e=fO.exec(t),r=P0(e,2),i=r[1];t=t.replace(fO,nj(i))}return t}function Jle(n){var t=n.replace(/\s+/g,"");return t=Zle(t),t=nj(t),t}function Qle(n){try{return Jle(n)}catch{return Sh}}function G2(n){var t=Qle(n.slice(5,-1));return t===Sh?"":t}var ece=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],tce=["dx","dy","angle","className","breakAll"];function Yw(){return Yw=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Yw.apply(this,arguments)}function dO(n,t){if(n==null)return{};var e=rce(n,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(e[r]=n[r])}return e}function rce(n,t){if(n==null)return{};var e={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(t.indexOf(r)>=0)continue;e[r]=n[r]}return e}function hO(n,t){return ace(n)||oce(n,t)||ice(n,t)||nce()}function nce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ice(n,t){if(n){if(typeof n=="string")return pO(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return pO(n,t)}}function pO(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function oce(n,t){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(e=e.call(n)).next,t===0){if(Object(e)!==e)return;l=!1}else for(;!(l=(r=o.call(e)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&e.return!=null&&(a=e.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function ace(n){if(Array.isArray(n))return n}var ij=/[ \f\n\r\t\v\u2028\u2029]+/,oj=function(t){var e=t.children,r=t.breakAll,i=t.style;try{var o=[];on(e)||(r?o=e.toString().split(""):o=e.toString().split(ij));var a=o.map(function(l){return{word:l,width:Yv(l,i).width}}),s=r?0:Yv(" ",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},sce=function(t,e,r,i,o){var a=t.maxLines,s=t.children,l=t.style,c=t.breakAll,u=Gt(a),f=s,h=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return V.reduce(function(F,G){var W=G.word,Y=G.width,te=F[F.length-1];if(te&&(i==null||o||te.width+Y+r<Number(i)))te.words.push(W),te.width+=Y+r;else{var he={words:[W],width:Y};F.push(he)}return F},[])},d=h(e),m=function(V){return V.reduce(function(F,G){return F.width>G.width?F:G})};if(!u)return d;for(var g="…",x=function(V){var F=f.slice(0,V),G=oj({breakAll:c,style:l,children:F+g}).wordsWithComputedWidth,W=h(G),Y=W.length>a||m(W).width>Number(i);return[Y,W]},b=0,_=f.length-1,S=0,T;b<=_&&S<=f.length-1;){var C=Math.floor((b+_)/2),w=C-1,N=x(w),A=hO(N,2),j=A[0],R=A[1],L=x(C),M=hO(L,1),I=M[0];if(!j&&!I&&(b=C+1),j&&I&&(_=C-1),!j&&I){T=R;break}S++}return T||d},vO=function(t){var e=on(t)?[]:t.toString().split(ij);return[{words:e}]},lce=function(t){var e=t.width,r=t.scaleToFit,i=t.children,o=t.style,a=t.breakAll,s=t.maxLines;if((e||r)&&!Fd.isSsr){var l,c,u=oj({breakAll:a,children:i,style:o});if(u){var f=u.wordsWithComputedWidth,h=u.spaceWidth;l=f,c=h}else return vO(i);return sce({breakAll:a,children:i,maxLines:s,style:o},l,c,e,r)}return vO(i)},gO="#808080",Ed=function(t){var e=t.x,r=e===void 0?0:e,i=t.y,o=i===void 0?0:i,a=t.lineHeight,s=a===void 0?"1em":a,l=t.capHeight,c=l===void 0?"0.71em":l,u=t.scaleToFit,f=u===void 0?!1:u,h=t.textAnchor,d=h===void 0?"start":h,m=t.verticalAnchor,g=m===void 0?"end":m,x=t.fill,b=x===void 0?gO:x,_=dO(t,ece),S=ye.useMemo(function(){return lce({breakAll:_.breakAll,children:_.children,maxLines:_.maxLines,scaleToFit:f,style:_.style,width:_.width})},[_.breakAll,_.children,_.maxLines,f,_.style,_.width]),T=_.dx,C=_.dy,w=_.angle,N=_.className,A=_.breakAll,j=dO(_,tce);if(!so(r)||!so(o))return null;var R=r+(Gt(T)?T:0),L=o+(Gt(C)?C:0),M;switch(g){case"start":M=G2("calc(".concat(c,")"));break;case"middle":M=G2("calc(".concat((S.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:M=G2("calc(".concat(S.length-1," * -").concat(s,")"));break}var I=[];if(f){var D=S[0].width,V=_.width;I.push("scale(".concat((Gt(V)?V/D:1)/D,")"))}return w&&I.push("rotate(".concat(w,", ").concat(R,", ").concat(L,")")),I.length&&(j.transform=I.join(" ")),Se.createElement("text",Yw({},kr(j,!0),{x:R,y:L,className:cn("recharts-text",N),textAnchor:d,fill:b.includes("url")?gO:b}),S.map(function(F,G){var W=F.words.join(A?"":" ");return Se.createElement("tspan",{x:R,dy:G===0?M:s,key:"".concat(W,"-").concat(G)},W)}))};function Wu(n,t){return n==null||t==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function cce(n,t){return n==null||t==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function qT(n){let t,e,r;n.length!==2?(t=Wu,e=(s,l)=>Wu(n(s),l),r=(s,l)=>n(s)-l):(t=n===Wu||n===cce?n:uce,e=n,r=n);function i(s,l,c=0,u=s.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;e(s[f],l)<0?c=f+1:u=f}while(c<u)}return c}function o(s,l,c=0,u=s.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;e(s[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function a(s,l,c=0,u=s.length){const f=i(s,l,c,u-1);return f>c&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:a,right:o}}function uce(){return 0}function aj(n){return n===null?NaN:+n}function*fce(n,t){for(let e of n)e!=null&&(e=+e)>=e&&(yield e)}const dce=qT(Wu),O1=dce.right;qT(aj).center;class mO extends Map{constructor(t,e=vce){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(yO(this,t))}has(t){return super.has(yO(this,t))}set(t,e){return super.set(hce(this,t),e)}delete(t){return super.delete(pce(this,t))}}function yO({_intern:n,_key:t},e){const r=t(e);return n.has(r)?n.get(r):e}function hce({_intern:n,_key:t},e){const r=t(e);return n.has(r)?n.get(r):(n.set(r,e),e)}function pce({_intern:n,_key:t},e){const r=t(e);return n.has(r)&&(e=n.get(r),n.delete(r)),e}function vce(n){return n!==null&&typeof n=="object"?n.valueOf():n}function gce(n=Wu){if(n===Wu)return sj;if(typeof n!="function")throw new TypeError("compare is not a function");return(t,e)=>{const r=n(t,e);return r||r===0?r:(n(e,e)===0)-(n(t,t)===0)}}function sj(n,t){return(n==null||!(n>=n))-(t==null||!(t>=t))||(n<t?-1:n>t?1:0)}const mce=Math.sqrt(50),yce=Math.sqrt(10),bce=Math.sqrt(2);function j0(n,t,e){const r=(t-n)/Math.max(0,e),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=mce?10:o>=yce?5:o>=bce?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/a,s=Math.round(n*c),l=Math.round(t*c),s/c<n&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*a,s=Math.round(n/c),l=Math.round(t/c),s*c<n&&++s,l*c>t&&--l),l<s&&.5<=e&&e<2?j0(n,t,e*2):[s,l,c]}function Xw(n,t,e){if(t=+t,n=+n,e=+e,!(e>0))return[];if(n===t)return[n];const r=t<n,[i,o,a]=r?j0(t,n,e):j0(n,t,e);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let c=0;c<s;++c)l[c]=(o-c)/-a;else for(let c=0;c<s;++c)l[c]=(o-c)*a;else if(a<0)for(let c=0;c<s;++c)l[c]=(i+c)/-a;else for(let c=0;c<s;++c)l[c]=(i+c)*a;return l}function Zw(n,t,e){return t=+t,n=+n,e=+e,j0(n,t,e)[2]}function Jw(n,t,e){t=+t,n=+n,e=+e;const r=t<n,i=r?Zw(t,n,e):Zw(n,t,e);return(r?-1:1)*(i<0?1/-i:i)}function bO(n,t){let e;for(const r of n)r!=null&&(e<r||e===void 0&&r>=r)&&(e=r);return e}function xO(n,t){let e;for(const r of n)r!=null&&(e>r||e===void 0&&r>=r)&&(e=r);return e}function lj(n,t,e=0,r=1/0,i){if(t=Math.floor(t),e=Math.floor(Math.max(0,e)),r=Math.floor(Math.min(n.length-1,r)),!(e<=t&&t<=r))return n;for(i=i===void 0?sj:gce(i);r>e;){if(r-e>600){const l=r-e+1,c=t-e+1,u=Math.log(l),f=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),d=Math.max(e,Math.floor(t-c*f/l+h)),m=Math.min(r,Math.floor(t+(l-c)*f/l+h));lj(n,t,d,m,i)}const o=n[t];let a=e,s=r;for(Ov(n,e,t),i(n[r],o)>0&&Ov(n,e,r);a<s;){for(Ov(n,a,s),++a,--s;i(n[a],o)<0;)++a;for(;i(n[s],o)>0;)--s}i(n[e],o)===0?Ov(n,e,s):(++s,Ov(n,s,r)),s<=t&&(e=s+1),t<=s&&(r=s-1)}return n}function Ov(n,t,e){const r=n[t];n[t]=n[e],n[e]=r}function xce(n,t,e){if(n=Float64Array.from(fce(n)),!(!(r=n.length)||isNaN(t=+t))){if(t<=0||r<2)return xO(n);if(t>=1)return bO(n);var r,i=(r-1)*t,o=Math.floor(i),a=bO(lj(n,o).subarray(0,o+1)),s=xO(n.subarray(o+1));return a+(s-a)*(i-o)}}function wce(n,t,e=aj){if(!(!(r=n.length)||isNaN(t=+t))){if(t<=0||r<2)return+e(n[0],0,n);if(t>=1)return+e(n[r-1],r-1,n);var r,i=(r-1)*t,o=Math.floor(i),a=+e(n[o],o,n),s=+e(n[o+1],o+1,n);return a+(s-a)*(i-o)}}function _ce(n,t,e){n=+n,t=+t,e=(i=arguments.length)<2?(t=n,n=0,1):i<3?1:+e;for(var r=-1,i=Math.max(0,Math.ceil((t-n)/e))|0,o=new Array(i);++r<i;)o[r]=n+r*e;return o}function ll(n,t){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(t).domain(n);break}return this}function vu(n,t){switch(arguments.length){case 0:break;case 1:{typeof n=="function"?this.interpolator(n):this.range(n);break}default:{this.domain(n),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Qw=Symbol("implicit");function GT(){var n=new mO,t=[],e=[],r=Qw;function i(o){let a=n.get(o);if(a===void 0){if(r!==Qw)return r;n.set(o,a=t.push(o)-1)}return e[a%e.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],n=new mO;for(const a of o)n.has(a)||n.set(a,t.push(a)-1);return i},i.range=function(o){return arguments.length?(e=Array.from(o),i):e.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return GT(t,e).unknown(r)},ll.apply(i,arguments),i}function Fg(){var n=GT().unknown(void 0),t=n.domain,e=n.range,r=0,i=1,o,a,s=!1,l=0,c=0,u=.5;delete n.unknown;function f(){var h=t().length,d=i<r,m=d?i:r,g=d?r:i;o=(g-m)/Math.max(1,h-l+c*2),s&&(o=Math.floor(o)),m+=(g-m-o*(h-l))*u,a=o*(1-l),s&&(m=Math.round(m),a=Math.round(a));var x=_ce(h).map(function(b){return m+o*b});return e(d?x.reverse():x)}return n.domain=function(h){return arguments.length?(t(h),f()):t()},n.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},n.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,f()},n.bandwidth=function(){return a},n.step=function(){return o},n.round=function(h){return arguments.length?(s=!!h,f()):s},n.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},n.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},n.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},n.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),f()):u},n.copy=function(){return Fg(t(),[r,i]).round(s).paddingInner(l).paddingOuter(c).align(u)},ll.apply(f(),arguments)}function cj(n){var t=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return cj(t())},n}function Xv(){return cj(Fg.apply(null,arguments).paddingInner(1))}function KT(n,t,e){n.prototype=t.prototype=e,e.constructor=n}function uj(n,t){var e=Object.create(n.prototype);for(var r in t)e[r]=t[r];return e}function A1(){}var Bg=.7,k0=1/Bg,Xh="\\s*([+-]?\\d+)\\s*",Hg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",xc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Sce=/^#([0-9a-f]{3,8})$/,Tce=new RegExp(`^rgb\\(${Xh},${Xh},${Xh}\\)$`),Cce=new RegExp(`^rgb\\(${xc},${xc},${xc}\\)$`),Ece=new RegExp(`^rgba\\(${Xh},${Xh},${Xh},${Hg}\\)$`),Oce=new RegExp(`^rgba\\(${xc},${xc},${xc},${Hg}\\)$`),Ace=new RegExp(`^hsl\\(${Hg},${xc},${xc}\\)$`),Nce=new RegExp(`^hsla\\(${Hg},${xc},${xc},${Hg}\\)$`),wO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};KT(A1,$g,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:_O,formatHex:_O,formatHex8:Pce,formatHsl:jce,formatRgb:SO,toString:SO});function _O(){return this.rgb().formatHex()}function Pce(){return this.rgb().formatHex8()}function jce(){return fj(this).formatHsl()}function SO(){return this.rgb().formatRgb()}function $g(n){var t,e;return n=(n+"").trim().toLowerCase(),(t=Sce.exec(n))?(e=t[1].length,t=parseInt(t[1],16),e===6?TO(t):e===3?new Ya(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):e===8?ym(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):e===4?ym(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Tce.exec(n))?new Ya(t[1],t[2],t[3],1):(t=Cce.exec(n))?new Ya(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Ece.exec(n))?ym(t[1],t[2],t[3],t[4]):(t=Oce.exec(n))?ym(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Ace.exec(n))?OO(t[1],t[2]/100,t[3]/100,1):(t=Nce.exec(n))?OO(t[1],t[2]/100,t[3]/100,t[4]):wO.hasOwnProperty(n)?TO(wO[n]):n==="transparent"?new Ya(NaN,NaN,NaN,0):null}function TO(n){return new Ya(n>>16&255,n>>8&255,n&255,1)}function ym(n,t,e,r){return r<=0&&(n=t=e=NaN),new Ya(n,t,e,r)}function kce(n){return n instanceof A1||(n=$g(n)),n?(n=n.rgb(),new Ya(n.r,n.g,n.b,n.opacity)):new Ya}function e_(n,t,e,r){return arguments.length===1?kce(n):new Ya(n,t,e,r??1)}function Ya(n,t,e,r){this.r=+n,this.g=+t,this.b=+e,this.opacity=+r}KT(Ya,e_,uj(A1,{brighter(n){return n=n==null?k0:Math.pow(k0,n),new Ya(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?Bg:Math.pow(Bg,n),new Ya(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new Ya(dd(this.r),dd(this.g),dd(this.b),M0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:CO,formatHex:CO,formatHex8:Mce,formatRgb:EO,toString:EO}));function CO(){return`#${td(this.r)}${td(this.g)}${td(this.b)}`}function Mce(){return`#${td(this.r)}${td(this.g)}${td(this.b)}${td((isNaN(this.opacity)?1:this.opacity)*255)}`}function EO(){const n=M0(this.opacity);return`${n===1?"rgb(":"rgba("}${dd(this.r)}, ${dd(this.g)}, ${dd(this.b)}${n===1?")":`, ${n})`}`}function M0(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function dd(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function td(n){return n=dd(n),(n<16?"0":"")+n.toString(16)}function OO(n,t,e,r){return r<=0?n=t=e=NaN:e<=0||e>=1?n=t=NaN:t<=0&&(n=NaN),new Il(n,t,e,r)}function fj(n){if(n instanceof Il)return new Il(n.h,n.s,n.l,n.opacity);if(n instanceof A1||(n=$g(n)),!n)return new Il;if(n instanceof Il)return n;n=n.rgb();var t=n.r/255,e=n.g/255,r=n.b/255,i=Math.min(t,e,r),o=Math.max(t,e,r),a=NaN,s=o-i,l=(o+i)/2;return s?(t===o?a=(e-r)/s+(e<r)*6:e===o?a=(r-t)/s+2:a=(t-e)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Il(a,s,l,n.opacity)}function Lce(n,t,e,r){return arguments.length===1?fj(n):new Il(n,t,e,r??1)}function Il(n,t,e,r){this.h=+n,this.s=+t,this.l=+e,this.opacity=+r}KT(Il,Lce,uj(A1,{brighter(n){return n=n==null?k0:Math.pow(k0,n),new Il(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?Bg:Math.pow(Bg,n),new Il(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,t=isNaN(n)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*t,i=2*e-r;return new Ya(K2(n>=240?n-240:n+120,i,r),K2(n,i,r),K2(n<120?n+240:n-120,i,r),this.opacity)},clamp(){return new Il(AO(this.h),bm(this.s),bm(this.l),M0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=M0(this.opacity);return`${n===1?"hsl(":"hsla("}${AO(this.h)}, ${bm(this.s)*100}%, ${bm(this.l)*100}%${n===1?")":`, ${n})`}`}}));function AO(n){return n=(n||0)%360,n<0?n+360:n}function bm(n){return Math.max(0,Math.min(1,n||0))}function K2(n,t,e){return(n<60?t+(e-t)*n/60:n<180?e:n<240?t+(e-t)*(240-n)/60:t)*255}const YT=n=>()=>n;function Dce(n,t){return function(e){return n+e*t}}function Ice(n,t,e){return n=Math.pow(n,e),t=Math.pow(t,e)-n,e=1/e,function(r){return Math.pow(n+r*t,e)}}function Rce(n){return(n=+n)==1?dj:function(t,e){return e-t?Ice(t,e,n):YT(isNaN(t)?e:t)}}function dj(n,t){var e=t-n;return e?Dce(n,e):YT(isNaN(n)?t:n)}const NO=function n(t){var e=Rce(t);function r(i,o){var a=e((i=e_(i)).r,(o=e_(o)).r),s=e(i.g,o.g),l=e(i.b,o.b),c=dj(i.opacity,o.opacity);return function(u){return i.r=a(u),i.g=s(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=n,r}(1);function Fce(n,t){t||(t=[]);var e=n?Math.min(t.length,n.length):0,r=t.slice(),i;return function(o){for(i=0;i<e;++i)r[i]=n[i]*(1-o)+t[i]*o;return r}}function Bce(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function Hce(n,t){var e=t?t.length:0,r=n?Math.min(e,n.length):0,i=new Array(r),o=new Array(e),a;for(a=0;a<r;++a)i[a]=Qp(n[a],t[a]);for(;a<e;++a)o[a]=t[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function $ce(n,t){var e=new Date;return n=+n,t=+t,function(r){return e.setTime(n*(1-r)+t*r),e}}function L0(n,t){return n=+n,t=+t,function(e){return n*(1-e)+t*e}}function Uce(n,t){var e={},r={},i;(n===null||typeof n!="object")&&(n={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in n?e[i]=Qp(n[i],t[i]):r[i]=t[i];return function(o){for(i in e)r[i]=e[i](o);return r}}var t_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Y2=new RegExp(t_.source,"g");function Vce(n){return function(){return n}}function zce(n){return function(t){return n(t)+""}}function Wce(n,t){var e=t_.lastIndex=Y2.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(n=n+"",t=t+"";(r=t_.exec(n))&&(i=Y2.exec(t));)(o=i.index)>e&&(o=t.slice(e,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:L0(r,i)})),e=Y2.lastIndex;return e<t.length&&(o=t.slice(e),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?zce(l[0].x):Vce(t):(t=l.length,function(c){for(var u=0,f;u<t;++u)s[(f=l[u]).i]=f.x(c);return s.join("")})}function Qp(n,t){var e=typeof t,r;return t==null||e==="boolean"?YT(t):(e==="number"?L0:e==="string"?(r=$g(t))?(t=r,NO):Wce:t instanceof $g?NO:t instanceof Date?$ce:Bce(t)?Fce:Array.isArray(t)?Hce:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Uce:L0)(n,t)}function XT(n,t){return n=+n,t=+t,function(e){return Math.round(n*(1-e)+t*e)}}function qce(n,t){t===void 0&&(t=n,n=Qp);for(var e=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);e<r;)o[e]=n(i,i=t[++e]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function Gce(n){return function(){return n}}function D0(n){return+n}var PO=[0,1];function Ca(n){return n}function r_(n,t){return(t-=n=+n)?function(e){return(e-n)/t}:Gce(isNaN(t)?NaN:.5)}function Kce(n,t){var e;return n>t&&(e=n,n=t,t=e),function(r){return Math.max(n,Math.min(t,r))}}function Yce(n,t,e){var r=n[0],i=n[1],o=t[0],a=t[1];return i<r?(r=r_(i,r),o=e(a,o)):(r=r_(r,i),o=e(o,a)),function(s){return o(r(s))}}function Xce(n,t,e){var r=Math.min(n.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(n[r]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=r_(n[a],n[a+1]),o[a]=e(t[a],t[a+1]);return function(s){var l=O1(n,s,1,r)-1;return o[l](i[l](s))}}function N1(n,t){return t.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function px(){var n=PO,t=PO,e=Qp,r,i,o,a=Ca,s,l,c;function u(){var h=Math.min(n.length,t.length);return a!==Ca&&(a=Kce(n[0],n[h-1])),s=h>2?Xce:Yce,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?o:(l||(l=s(n.map(r),t,e)))(r(a(h)))}return f.invert=function(h){return a(i((c||(c=s(t,n.map(r),L0)))(h)))},f.domain=function(h){return arguments.length?(n=Array.from(h,D0),u()):n.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),u()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),e=XT,u()},f.clamp=function(h){return arguments.length?(a=h?!0:Ca,u()):a!==Ca},f.interpolate=function(h){return arguments.length?(e=h,u()):e},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,d){return r=h,i=d,u()}}function ZT(){return px()(Ca,Ca)}function Zce(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function I0(n,t){if((e=(n=t?n.toExponential(t-1):n.toExponential()).indexOf("e"))<0)return null;var e,r=n.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+n.slice(e+1)]}function hp(n){return n=I0(Math.abs(n)),n?n[1]:NaN}function Jce(n,t){return function(e,r){for(var i=e.length,o=[],a=0,s=n[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(e.substring(i-=s,i+s)),!((l+=s+1)>r));)s=n[a=(a+1)%n.length];return o.reverse().join(t)}}function Qce(n){return function(t){return t.replace(/[0-9]/g,function(e){return n[+e]})}}var eue=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ug(n){if(!(t=eue.exec(n)))throw new Error("invalid format: "+n);var t;return new JT({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ug.prototype=JT.prototype;function JT(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}JT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function tue(n){e:for(var t=n.length,e=1,r=-1,i;e<t;++e)switch(n[e]){case".":r=i=e;break;case"0":r===0&&(r=e),i=e;break;default:if(!+n[e])break e;r>0&&(r=0);break}return r>0?n.slice(0,r)+n.slice(i+1):n}var hj;function rue(n,t){var e=I0(n,t);if(!e)return n+"";var r=e[0],i=e[1],o=i-(hj=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+I0(n,Math.max(0,t+o-1))[0]}function jO(n,t){var e=I0(n,t);if(!e)return n+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const kO={"%":(n,t)=>(n*100).toFixed(t),b:n=>Math.round(n).toString(2),c:n=>n+"",d:Zce,e:(n,t)=>n.toExponential(t),f:(n,t)=>n.toFixed(t),g:(n,t)=>n.toPrecision(t),o:n=>Math.round(n).toString(8),p:(n,t)=>jO(n*100,t),r:jO,s:rue,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function MO(n){return n}var LO=Array.prototype.map,DO=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function nue(n){var t=n.grouping===void 0||n.thousands===void 0?MO:Jce(LO.call(n.grouping,Number),n.thousands+""),e=n.currency===void 0?"":n.currency[0]+"",r=n.currency===void 0?"":n.currency[1]+"",i=n.decimal===void 0?".":n.decimal+"",o=n.numerals===void 0?MO:Qce(LO.call(n.numerals,String)),a=n.percent===void 0?"%":n.percent+"",s=n.minus===void 0?"−":n.minus+"",l=n.nan===void 0?"NaN":n.nan+"";function c(f){f=Ug(f);var h=f.fill,d=f.align,m=f.sign,g=f.symbol,x=f.zero,b=f.width,_=f.comma,S=f.precision,T=f.trim,C=f.type;C==="n"?(_=!0,C="g"):kO[C]||(S===void 0&&(S=12),T=!0,C="g"),(x||h==="0"&&d==="=")&&(x=!0,h="0",d="=");var w=g==="$"?e:g==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",N=g==="$"?r:/[%p]/.test(C)?a:"",A=kO[C],j=/[defgprs%]/.test(C);S=S===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function R(L){var M=w,I=N,D,V,F;if(C==="c")I=A(L)+I,L="";else{L=+L;var G=L<0||1/L<0;if(L=isNaN(L)?l:A(Math.abs(L),S),T&&(L=tue(L)),G&&+L==0&&m!=="+"&&(G=!1),M=(G?m==="("?m:s:m==="-"||m==="("?"":m)+M,I=(C==="s"?DO[8+hj/3]:"")+I+(G&&m==="("?")":""),j){for(D=-1,V=L.length;++D<V;)if(F=L.charCodeAt(D),48>F||F>57){I=(F===46?i+L.slice(D+1):L.slice(D))+I,L=L.slice(0,D);break}}}_&&!x&&(L=t(L,1/0));var W=M.length+L.length+I.length,Y=W<b?new Array(b-W+1).join(h):"";switch(_&&x&&(L=t(Y+L,Y.length?b-I.length:1/0),Y=""),d){case"<":L=M+L+I+Y;break;case"=":L=M+Y+L+I;break;case"^":L=Y.slice(0,W=Y.length>>1)+M+L+I+Y.slice(W);break;default:L=Y+M+L+I;break}return o(L)}return R.toString=function(){return f+""},R}function u(f,h){var d=c((f=Ug(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(hp(h)/3)))*3,g=Math.pow(10,-m),x=DO[8+m/3];return function(b){return d(g*b)+x}}return{format:c,formatPrefix:u}}var xm,QT,pj;iue({thousands:",",grouping:[3],currency:["$",""]});function iue(n){return xm=nue(n),QT=xm.format,pj=xm.formatPrefix,xm}function oue(n){return Math.max(0,-hp(Math.abs(n)))}function aue(n,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(hp(t)/3)))*3-hp(Math.abs(n)))}function sue(n,t){return n=Math.abs(n),t=Math.abs(t)-n,Math.max(0,hp(t)-hp(n))+1}function vj(n,t,e,r){var i=Jw(n,t,e),o;switch(r=Ug(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(n),Math.abs(t));return r.precision==null&&!isNaN(o=aue(i,a))&&(r.precision=o),pj(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=sue(i,Math.max(Math.abs(n),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=oue(i))&&(r.precision=o-(r.type==="%")*2);break}}return QT(r)}function of(n){var t=n.domain;return n.ticks=function(e){var r=t();return Xw(r[0],r[r.length-1],e??10)},n.tickFormat=function(e,r){var i=t();return vj(i[0],i[i.length-1],e??10,r)},n.nice=function(e){e==null&&(e=10);var r=t(),i=0,o=r.length-1,a=r[i],s=r[o],l,c,u=10;for(s<a&&(c=a,a=s,s=c,c=i,i=o,o=c);u-- >0;){if(c=Zw(a,s,e),c===l)return r[i]=a,r[o]=s,t(r);if(c>0)a=Math.floor(a/c)*c,s=Math.ceil(s/c)*c;else if(c<0)a=Math.ceil(a*c)/c,s=Math.floor(s*c)/c;else break;l=c}return n},n}function R0(){var n=ZT();return n.copy=function(){return N1(n,R0())},ll.apply(n,arguments),of(n)}function gj(n){var t;function e(r){return r==null||isNaN(r=+r)?t:r}return e.invert=e,e.domain=e.range=function(r){return arguments.length?(n=Array.from(r,D0),e):n.slice()},e.unknown=function(r){return arguments.length?(t=r,e):t},e.copy=function(){return gj(n).unknown(t)},n=arguments.length?Array.from(n,D0):[0,1],of(e)}function mj(n,t){n=n.slice();var e=0,r=n.length-1,i=n[e],o=n[r],a;return o<i&&(a=e,e=r,r=a,a=i,i=o,o=a),n[e]=t.floor(i),n[r]=t.ceil(o),n}function IO(n){return Math.log(n)}function RO(n){return Math.exp(n)}function lue(n){return-Math.log(-n)}function cue(n){return-Math.exp(-n)}function uue(n){return isFinite(n)?+("1e"+n):n<0?0:n}function fue(n){return n===10?uue:n===Math.E?Math.exp:t=>Math.pow(n,t)}function due(n){return n===Math.E?Math.log:n===10&&Math.log10||n===2&&Math.log2||(n=Math.log(n),t=>Math.log(t)/n)}function FO(n){return(t,e)=>-n(-t,e)}function e4(n){const t=n(IO,RO),e=t.domain;let r=10,i,o;function a(){return i=due(r),o=fue(r),e()[0]<0?(i=FO(i),o=FO(o),n(lue,cue)):n(IO,RO),t}return t.base=function(s){return arguments.length?(r=+s,a()):r},t.domain=function(s){return arguments.length?(e(s),a()):e()},t.ticks=s=>{const l=e();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let h=i(c),d=i(u),m,g;const x=s==null?10:+s;let b=[];if(!(r%1)&&d-h<x){if(h=Math.floor(h),d=Math.ceil(d),c>0){for(;h<=d;++h)for(m=1;m<r;++m)if(g=h<0?m/o(-h):m*o(h),!(g<c)){if(g>u)break;b.push(g)}}else for(;h<=d;++h)for(m=r-1;m>=1;--m)if(g=h>0?m/o(-h):m*o(h),!(g<c)){if(g>u)break;b.push(g)}b.length*2<x&&(b=Xw(c,u,x))}else b=Xw(h,d,Math.min(d-h,x)).map(o);return f?b.reverse():b},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Ug(l)).precision==null&&(l.trim=!0),l=QT(l)),s===1/0)return l;const c=Math.max(1,r*s/t.ticks().length);return u=>{let f=u/o(Math.round(i(u)));return f*r<r-.5&&(f*=r),f<=c?l(u):""}},t.nice=()=>e(mj(e(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),t}function yj(){const n=e4(px()).domain([1,10]);return n.copy=()=>N1(n,yj()).base(n.base()),ll.apply(n,arguments),n}function BO(n){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/n))}}function HO(n){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*n}}function t4(n){var t=1,e=n(BO(t),HO(t));return e.constant=function(r){return arguments.length?n(BO(t=+r),HO(t)):t},of(e)}function bj(){var n=t4(px());return n.copy=function(){return N1(n,bj()).constant(n.constant())},ll.apply(n,arguments)}function $O(n){return function(t){return t<0?-Math.pow(-t,n):Math.pow(t,n)}}function hue(n){return n<0?-Math.sqrt(-n):Math.sqrt(n)}function pue(n){return n<0?-n*n:n*n}function r4(n){var t=n(Ca,Ca),e=1;function r(){return e===1?n(Ca,Ca):e===.5?n(hue,pue):n($O(e),$O(1/e))}return t.exponent=function(i){return arguments.length?(e=+i,r()):e},of(t)}function n4(){var n=r4(px());return n.copy=function(){return N1(n,n4()).exponent(n.exponent())},ll.apply(n,arguments),n}function vue(){return n4.apply(null,arguments).exponent(.5)}function UO(n){return Math.sign(n)*n*n}function gue(n){return Math.sign(n)*Math.sqrt(Math.abs(n))}function xj(){var n=ZT(),t=[0,1],e=!1,r;function i(o){var a=gue(n(o));return isNaN(a)?r:e?Math.round(a):a}return i.invert=function(o){return n.invert(UO(o))},i.domain=function(o){return arguments.length?(n.domain(o),i):n.domain()},i.range=function(o){return arguments.length?(n.range((t=Array.from(o,D0)).map(UO)),i):t.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(e=!!o,i):e},i.clamp=function(o){return arguments.length?(n.clamp(o),i):n.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return xj(n.domain(),t).round(e).clamp(n.clamp()).unknown(r)},ll.apply(i,arguments),of(i)}function wj(){var n=[],t=[],e=[],r;function i(){var a=0,s=Math.max(1,t.length);for(e=new Array(s-1);++a<s;)e[a-1]=wce(n,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:t[O1(e,a)]}return o.invertExtent=function(a){var s=t.indexOf(a);return s<0?[NaN,NaN]:[s>0?e[s-1]:n[0],s<e.length?e[s]:n[n.length-1]]},o.domain=function(a){if(!arguments.length)return n.slice();n=[];for(let s of a)s!=null&&!isNaN(s=+s)&&n.push(s);return n.sort(Wu),i()},o.range=function(a){return arguments.length?(t=Array.from(a),i()):t.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return e.slice()},o.copy=function(){return wj().domain(n).range(t).unknown(r)},ll.apply(o,arguments)}function _j(){var n=0,t=1,e=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[O1(r,l,0,e)]:o}function s(){var l=-1;for(r=new Array(e);++l<e;)r[l]=((l+1)*t-(l-e)*n)/(e+1);return a}return a.domain=function(l){return arguments.length?([n,t]=l,n=+n,t=+t,s()):[n,t]},a.range=function(l){return arguments.length?(e=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[n,r[0]]:c>=e?[r[e-1],t]:[r[c-1],r[c]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return _j().domain([n,t]).range(i).unknown(o)},ll.apply(of(a),arguments)}function Sj(){var n=[.5],t=[0,1],e,r=1;function i(o){return o!=null&&o<=o?t[O1(n,o,0,r)]:e}return i.domain=function(o){return arguments.length?(n=Array.from(o),r=Math.min(n.length,t.length-1),i):n.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(n.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var a=t.indexOf(o);return[n[a-1],n[a]]},i.unknown=function(o){return arguments.length?(e=o,i):e},i.copy=function(){return Sj().domain(n).range(t).unknown(e)},ll.apply(i,arguments)}const X2=new Date,Z2=new Date;function fo(n,t,e,r){function i(o){return n(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(n(o=new Date(+o)),o),i.ceil=o=>(n(o=new Date(o-1)),t(o,1),n(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(t(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let c;do l.push(c=new Date(+o)),t(o,s),n(o);while(c<o&&o<a);return l},i.filter=o=>fo(a=>{if(a>=a)for(;n(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;t(a,-1),!o(a););else for(;--s>=0;)for(;t(a,1),!o(a););}),e&&(i.count=(o,a)=>(X2.setTime(+o),Z2.setTime(+a),n(X2),n(Z2),Math.floor(e(X2,Z2))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const F0=fo(()=>{},(n,t)=>{n.setTime(+n+t)},(n,t)=>t-n);F0.every=n=>(n=Math.floor(n),!isFinite(n)||!(n>0)?null:n>1?fo(t=>{t.setTime(Math.floor(t/n)*n)},(t,e)=>{t.setTime(+t+e*n)},(t,e)=>(e-t)/n):F0);F0.range;const eu=1e3,Zs=eu*60,tu=Zs*60,uu=tu*24,i4=uu*7,VO=uu*30,J2=uu*365,rd=fo(n=>{n.setTime(n-n.getMilliseconds())},(n,t)=>{n.setTime(+n+t*eu)},(n,t)=>(t-n)/eu,n=>n.getUTCSeconds());rd.range;const o4=fo(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*eu)},(n,t)=>{n.setTime(+n+t*Zs)},(n,t)=>(t-n)/Zs,n=>n.getMinutes());o4.range;const a4=fo(n=>{n.setUTCSeconds(0,0)},(n,t)=>{n.setTime(+n+t*Zs)},(n,t)=>(t-n)/Zs,n=>n.getUTCMinutes());a4.range;const s4=fo(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*eu-n.getMinutes()*Zs)},(n,t)=>{n.setTime(+n+t*tu)},(n,t)=>(t-n)/tu,n=>n.getHours());s4.range;const l4=fo(n=>{n.setUTCMinutes(0,0,0)},(n,t)=>{n.setTime(+n+t*tu)},(n,t)=>(t-n)/tu,n=>n.getUTCHours());l4.range;const P1=fo(n=>n.setHours(0,0,0,0),(n,t)=>n.setDate(n.getDate()+t),(n,t)=>(t-n-(t.getTimezoneOffset()-n.getTimezoneOffset())*Zs)/uu,n=>n.getDate()-1);P1.range;const vx=fo(n=>{n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCDate(n.getUTCDate()+t)},(n,t)=>(t-n)/uu,n=>n.getUTCDate()-1);vx.range;const Tj=fo(n=>{n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCDate(n.getUTCDate()+t)},(n,t)=>(t-n)/uu,n=>Math.floor(n/uu));Tj.range;function Bd(n){return fo(t=>{t.setDate(t.getDate()-(t.getDay()+7-n)%7),t.setHours(0,0,0,0)},(t,e)=>{t.setDate(t.getDate()+e*7)},(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Zs)/i4)}const gx=Bd(0),B0=Bd(1),mue=Bd(2),yue=Bd(3),pp=Bd(4),bue=Bd(5),xue=Bd(6);gx.range;B0.range;mue.range;yue.range;pp.range;bue.range;xue.range;function Hd(n){return fo(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-n)%7),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e*7)},(t,e)=>(e-t)/i4)}const mx=Hd(0),H0=Hd(1),wue=Hd(2),_ue=Hd(3),vp=Hd(4),Sue=Hd(5),Tue=Hd(6);mx.range;H0.range;wue.range;_ue.range;vp.range;Sue.range;Tue.range;const c4=fo(n=>{n.setDate(1),n.setHours(0,0,0,0)},(n,t)=>{n.setMonth(n.getMonth()+t)},(n,t)=>t.getMonth()-n.getMonth()+(t.getFullYear()-n.getFullYear())*12,n=>n.getMonth());c4.range;const u4=fo(n=>{n.setUTCDate(1),n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCMonth(n.getUTCMonth()+t)},(n,t)=>t.getUTCMonth()-n.getUTCMonth()+(t.getUTCFullYear()-n.getUTCFullYear())*12,n=>n.getUTCMonth());u4.range;const fu=fo(n=>{n.setMonth(0,1),n.setHours(0,0,0,0)},(n,t)=>{n.setFullYear(n.getFullYear()+t)},(n,t)=>t.getFullYear()-n.getFullYear(),n=>n.getFullYear());fu.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:fo(t=>{t.setFullYear(Math.floor(t.getFullYear()/n)*n),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e*n)});fu.range;const du=fo(n=>{n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCFullYear(n.getUTCFullYear()+t)},(n,t)=>t.getUTCFullYear()-n.getUTCFullYear(),n=>n.getUTCFullYear());du.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:fo(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/n)*n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e*n)});du.range;function Cj(n,t,e,r,i,o){const a=[[rd,1,eu],[rd,5,5*eu],[rd,15,15*eu],[rd,30,30*eu],[o,1,Zs],[o,5,5*Zs],[o,15,15*Zs],[o,30,30*Zs],[i,1,tu],[i,3,3*tu],[i,6,6*tu],[i,12,12*tu],[r,1,uu],[r,2,2*uu],[e,1,i4],[t,1,VO],[t,3,3*VO],[n,1,J2]];function s(c,u,f){const h=u<c;h&&([c,u]=[u,c]);const d=f&&typeof f.range=="function"?f:l(c,u,f),m=d?d.range(c,+u+1):[];return h?m.reverse():m}function l(c,u,f){const h=Math.abs(u-c)/f,d=qT(([,,x])=>x).right(a,h);if(d===a.length)return n.every(Jw(c/J2,u/J2,f));if(d===0)return F0.every(Math.max(Jw(c,u,f),1));const[m,g]=a[h/a[d-1][2]<a[d][2]/h?d-1:d];return m.every(g)}return[s,l]}const[Cue,Eue]=Cj(du,u4,mx,Tj,l4,a4),[Oue,Aue]=Cj(fu,c4,gx,P1,s4,o4);function Q2(n){if(0<=n.y&&n.y<100){var t=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return t.setFullYear(n.y),t}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function e5(n){if(0<=n.y&&n.y<100){var t=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return t.setUTCFullYear(n.y),t}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function Av(n,t,e){return{y:n,m:t,d:e,H:0,M:0,S:0,L:0}}function Nue(n){var t=n.dateTime,e=n.date,r=n.time,i=n.periods,o=n.days,a=n.shortDays,s=n.months,l=n.shortMonths,c=Nv(i),u=Pv(i),f=Nv(o),h=Pv(o),d=Nv(a),m=Pv(a),g=Nv(s),x=Pv(s),b=Nv(l),_=Pv(l),S={a:G,A:W,b:Y,B:te,c:null,d:YO,e:YO,f:Jue,g:lfe,G:ufe,H:Yue,I:Xue,j:Zue,L:Ej,m:Que,M:efe,p:he,q:z,Q:JO,s:QO,S:tfe,u:rfe,U:nfe,V:ife,w:ofe,W:afe,x:null,X:null,y:sfe,Y:cfe,Z:ffe,"%":ZO},T={a:Z,A:X,b:ae,B:ve,c:null,d:XO,e:XO,f:vfe,g:Cfe,G:Ofe,H:dfe,I:hfe,j:pfe,L:Aj,m:gfe,M:mfe,p:me,q:Ee,Q:JO,s:QO,S:yfe,u:bfe,U:xfe,V:wfe,w:_fe,W:Sfe,x:null,X:null,y:Tfe,Y:Efe,Z:Afe,"%":ZO},C={a:R,A:L,b:M,B:I,c:D,d:GO,e:GO,f:Wue,g:qO,G:WO,H:KO,I:KO,j:$ue,L:zue,m:Hue,M:Uue,p:j,q:Bue,Q:Gue,s:Kue,S:Vue,u:Lue,U:Due,V:Iue,w:Mue,W:Rue,x:V,X:F,y:qO,Y:WO,Z:Fue,"%":que};S.x=w(e,S),S.X=w(r,S),S.c=w(t,S),T.x=w(e,T),T.X=w(r,T),T.c=w(t,T);function w(ke,He){return function(Re){var se=[],ce=-1,$e=0,Ue=ke.length,Te,ft,Q;for(Re instanceof Date||(Re=new Date(+Re));++ce<Ue;)ke.charCodeAt(ce)===37&&(se.push(ke.slice($e,ce)),(ft=zO[Te=ke.charAt(++ce)])!=null?Te=ke.charAt(++ce):ft=Te==="e"?" ":"0",(Q=He[Te])&&(Te=Q(Re,ft)),se.push(Te),$e=ce+1);return se.push(ke.slice($e,ce)),se.join("")}}function N(ke,He){return function(Re){var se=Av(1900,void 0,1),ce=A(se,ke,Re+="",0),$e,Ue;if(ce!=Re.length)return null;if("Q"in se)return new Date(se.Q);if("s"in se)return new Date(se.s*1e3+("L"in se?se.L:0));if(He&&!("Z"in se)&&(se.Z=0),"p"in se&&(se.H=se.H%12+se.p*12),se.m===void 0&&(se.m="q"in se?se.q:0),"V"in se){if(se.V<1||se.V>53)return null;"w"in se||(se.w=1),"Z"in se?($e=e5(Av(se.y,0,1)),Ue=$e.getUTCDay(),$e=Ue>4||Ue===0?H0.ceil($e):H0($e),$e=vx.offset($e,(se.V-1)*7),se.y=$e.getUTCFullYear(),se.m=$e.getUTCMonth(),se.d=$e.getUTCDate()+(se.w+6)%7):($e=Q2(Av(se.y,0,1)),Ue=$e.getDay(),$e=Ue>4||Ue===0?B0.ceil($e):B0($e),$e=P1.offset($e,(se.V-1)*7),se.y=$e.getFullYear(),se.m=$e.getMonth(),se.d=$e.getDate()+(se.w+6)%7)}else("W"in se||"U"in se)&&("w"in se||(se.w="u"in se?se.u%7:"W"in se?1:0),Ue="Z"in se?e5(Av(se.y,0,1)).getUTCDay():Q2(Av(se.y,0,1)).getDay(),se.m=0,se.d="W"in se?(se.w+6)%7+se.W*7-(Ue+5)%7:se.w+se.U*7-(Ue+6)%7);return"Z"in se?(se.H+=se.Z/100|0,se.M+=se.Z%100,e5(se)):Q2(se)}}function A(ke,He,Re,se){for(var ce=0,$e=He.length,Ue=Re.length,Te,ft;ce<$e;){if(se>=Ue)return-1;if(Te=He.charCodeAt(ce++),Te===37){if(Te=He.charAt(ce++),ft=C[Te in zO?He.charAt(ce++):Te],!ft||(se=ft(ke,Re,se))<0)return-1}else if(Te!=Re.charCodeAt(se++))return-1}return se}function j(ke,He,Re){var se=c.exec(He.slice(Re));return se?(ke.p=u.get(se[0].toLowerCase()),Re+se[0].length):-1}function R(ke,He,Re){var se=d.exec(He.slice(Re));return se?(ke.w=m.get(se[0].toLowerCase()),Re+se[0].length):-1}function L(ke,He,Re){var se=f.exec(He.slice(Re));return se?(ke.w=h.get(se[0].toLowerCase()),Re+se[0].length):-1}function M(ke,He,Re){var se=b.exec(He.slice(Re));return se?(ke.m=_.get(se[0].toLowerCase()),Re+se[0].length):-1}function I(ke,He,Re){var se=g.exec(He.slice(Re));return se?(ke.m=x.get(se[0].toLowerCase()),Re+se[0].length):-1}function D(ke,He,Re){return A(ke,t,He,Re)}function V(ke,He,Re){return A(ke,e,He,Re)}function F(ke,He,Re){return A(ke,r,He,Re)}function G(ke){return a[ke.getDay()]}function W(ke){return o[ke.getDay()]}function Y(ke){return l[ke.getMonth()]}function te(ke){return s[ke.getMonth()]}function he(ke){return i[+(ke.getHours()>=12)]}function z(ke){return 1+~~(ke.getMonth()/3)}function Z(ke){return a[ke.getUTCDay()]}function X(ke){return o[ke.getUTCDay()]}function ae(ke){return l[ke.getUTCMonth()]}function ve(ke){return s[ke.getUTCMonth()]}function me(ke){return i[+(ke.getUTCHours()>=12)]}function Ee(ke){return 1+~~(ke.getUTCMonth()/3)}return{format:function(ke){var He=w(ke+="",S);return He.toString=function(){return ke},He},parse:function(ke){var He=N(ke+="",!1);return He.toString=function(){return ke},He},utcFormat:function(ke){var He=w(ke+="",T);return He.toString=function(){return ke},He},utcParse:function(ke){var He=N(ke+="",!0);return He.toString=function(){return ke},He}}}var zO={"-":"",_:" ",0:"0"},_o=/^\s*\d+/,Pue=/^%/,jue=/[\\^$*+?|[\]().{}]/g;function Cn(n,t,e){var r=n<0?"-":"",i=(r?-n:n)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(t)+i:i)}function kue(n){return n.replace(jue,"\\$&")}function Nv(n){return new RegExp("^(?:"+n.map(kue).join("|")+")","i")}function Pv(n){return new Map(n.map((t,e)=>[t.toLowerCase(),e]))}function Mue(n,t,e){var r=_o.exec(t.slice(e,e+1));return r?(n.w=+r[0],e+r[0].length):-1}function Lue(n,t,e){var r=_o.exec(t.slice(e,e+1));return r?(n.u=+r[0],e+r[0].length):-1}function Due(n,t,e){var r=_o.exec(t.slice(e,e+2));return r?(n.U=+r[0],e+r[0].length):-1}function Iue(n,t,e){var r=_o.exec(t.slice(e,e+2));return r?(n.V=+r[0],e+r[0].length):-1}function Rue(n,t,e){var r=_o.exec(t.slice(e,e+2));return r?(n.W=+r[0],e+r[0].length):-1}function WO(n,t,e){var r=_o.exec(t.slice(e,e+4));return r?(n.y=+r[0],e+r[0].length):-1}function qO(n,t,e){var r=_o.exec(t.slice(e,e+2));return r?(n.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function Fue(n,t,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(e,e+6));return r?(n.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function Bue(n,t,e){var r=_o.exec(t.slice(e,e+1));return r?(n.q=r[0]*3-3,e+r[0].length):-1}function Hue(n,t,e){var r=_o.exec(t.slice(e,e+2));return r?(n.m=r[0]-1,e+r[0].length):-1}function GO(n,t,e){var r=_o.exec(t.slice(e,e+2));return r?(n.d=+r[0],e+r[0].length):-1}function $ue(n,t,e){var r=_o.exec(t.slice(e,e+3));return r?(n.m=0,n.d=+r[0],e+r[0].length):-1}function KO(n,t,e){var r=_o.exec(t.slice(e,e+2));return r?(n.H=+r[0],e+r[0].length):-1}function Uue(n,t,e){var r=_o.exec(t.slice(e,e+2));return r?(n.M=+r[0],e+r[0].length):-1}function Vue(n,t,e){var r=_o.exec(t.slice(e,e+2));return r?(n.S=+r[0],e+r[0].length):-1}function zue(n,t,e){var r=_o.exec(t.slice(e,e+3));return r?(n.L=+r[0],e+r[0].length):-1}function Wue(n,t,e){var r=_o.exec(t.slice(e,e+6));return r?(n.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function que(n,t,e){var r=Pue.exec(t.slice(e,e+1));return r?e+r[0].length:-1}function Gue(n,t,e){var r=_o.exec(t.slice(e));return r?(n.Q=+r[0],e+r[0].length):-1}function Kue(n,t,e){var r=_o.exec(t.slice(e));return r?(n.s=+r[0],e+r[0].length):-1}function YO(n,t){return Cn(n.getDate(),t,2)}function Yue(n,t){return Cn(n.getHours(),t,2)}function Xue(n,t){return Cn(n.getHours()%12||12,t,2)}function Zue(n,t){return Cn(1+P1.count(fu(n),n),t,3)}function Ej(n,t){return Cn(n.getMilliseconds(),t,3)}function Jue(n,t){return Ej(n,t)+"000"}function Que(n,t){return Cn(n.getMonth()+1,t,2)}function efe(n,t){return Cn(n.getMinutes(),t,2)}function tfe(n,t){return Cn(n.getSeconds(),t,2)}function rfe(n){var t=n.getDay();return t===0?7:t}function nfe(n,t){return Cn(gx.count(fu(n)-1,n),t,2)}function Oj(n){var t=n.getDay();return t>=4||t===0?pp(n):pp.ceil(n)}function ife(n,t){return n=Oj(n),Cn(pp.count(fu(n),n)+(fu(n).getDay()===4),t,2)}function ofe(n){return n.getDay()}function afe(n,t){return Cn(B0.count(fu(n)-1,n),t,2)}function sfe(n,t){return Cn(n.getFullYear()%100,t,2)}function lfe(n,t){return n=Oj(n),Cn(n.getFullYear()%100,t,2)}function cfe(n,t){return Cn(n.getFullYear()%1e4,t,4)}function ufe(n,t){var e=n.getDay();return n=e>=4||e===0?pp(n):pp.ceil(n),Cn(n.getFullYear()%1e4,t,4)}function ffe(n){var t=n.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Cn(t/60|0,"0",2)+Cn(t%60,"0",2)}function XO(n,t){return Cn(n.getUTCDate(),t,2)}function dfe(n,t){return Cn(n.getUTCHours(),t,2)}function hfe(n,t){return Cn(n.getUTCHours()%12||12,t,2)}function pfe(n,t){return Cn(1+vx.count(du(n),n),t,3)}function Aj(n,t){return Cn(n.getUTCMilliseconds(),t,3)}function vfe(n,t){return Aj(n,t)+"000"}function gfe(n,t){return Cn(n.getUTCMonth()+1,t,2)}function mfe(n,t){return Cn(n.getUTCMinutes(),t,2)}function yfe(n,t){return Cn(n.getUTCSeconds(),t,2)}function bfe(n){var t=n.getUTCDay();return t===0?7:t}function xfe(n,t){return Cn(mx.count(du(n)-1,n),t,2)}function Nj(n){var t=n.getUTCDay();return t>=4||t===0?vp(n):vp.ceil(n)}function wfe(n,t){return n=Nj(n),Cn(vp.count(du(n),n)+(du(n).getUTCDay()===4),t,2)}function _fe(n){return n.getUTCDay()}function Sfe(n,t){return Cn(H0.count(du(n)-1,n),t,2)}function Tfe(n,t){return Cn(n.getUTCFullYear()%100,t,2)}function Cfe(n,t){return n=Nj(n),Cn(n.getUTCFullYear()%100,t,2)}function Efe(n,t){return Cn(n.getUTCFullYear()%1e4,t,4)}function Ofe(n,t){var e=n.getUTCDay();return n=e>=4||e===0?vp(n):vp.ceil(n),Cn(n.getUTCFullYear()%1e4,t,4)}function Afe(){return"+0000"}function ZO(){return"%"}function JO(n){return+n}function QO(n){return Math.floor(+n/1e3)}var fh,Pj,jj;Nfe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Nfe(n){return fh=Nue(n),Pj=fh.format,fh.parse,jj=fh.utcFormat,fh.utcParse,fh}function Pfe(n){return new Date(n)}function jfe(n){return n instanceof Date?+n:+new Date(+n)}function f4(n,t,e,r,i,o,a,s,l,c){var u=ZT(),f=u.invert,h=u.domain,d=c(".%L"),m=c(":%S"),g=c("%I:%M"),x=c("%I %p"),b=c("%a %d"),_=c("%b %d"),S=c("%B"),T=c("%Y");function C(w){return(l(w)<w?d:s(w)<w?m:a(w)<w?g:o(w)<w?x:r(w)<w?i(w)<w?b:_:e(w)<w?S:T)(w)}return u.invert=function(w){return new Date(f(w))},u.domain=function(w){return arguments.length?h(Array.from(w,jfe)):h().map(Pfe)},u.ticks=function(w){var N=h();return n(N[0],N[N.length-1],w??10)},u.tickFormat=function(w,N){return N==null?C:c(N)},u.nice=function(w){var N=h();return(!w||typeof w.range!="function")&&(w=t(N[0],N[N.length-1],w??10)),w?h(mj(N,w)):u},u.copy=function(){return N1(u,f4(n,t,e,r,i,o,a,s,l,c))},u}function kfe(){return ll.apply(f4(Oue,Aue,fu,c4,gx,P1,s4,o4,rd,Pj).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Mfe(){return ll.apply(f4(Cue,Eue,du,u4,mx,vx,l4,a4,rd,jj).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function yx(){var n=0,t=1,e,r,i,o,a=Ca,s=!1,l;function c(f){return f==null||isNaN(f=+f)?l:a(i===0?.5:(f=(o(f)-e)*i,s?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([n,t]=f,e=o(n=+n),r=o(t=+t),i=e===r?0:1/(r-e),c):[n,t]},c.clamp=function(f){return arguments.length?(s=!!f,c):s},c.interpolator=function(f){return arguments.length?(a=f,c):a};function u(f){return function(h){var d,m;return arguments.length?([d,m]=h,a=f(d,m),c):[a(0),a(1)]}}return c.range=u(Qp),c.rangeRound=u(XT),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return o=f,e=f(n),r=f(t),i=e===r?0:1/(r-e),c}}function af(n,t){return t.domain(n.domain()).interpolator(n.interpolator()).clamp(n.clamp()).unknown(n.unknown())}function kj(){var n=of(yx()(Ca));return n.copy=function(){return af(n,kj())},vu.apply(n,arguments)}function Mj(){var n=e4(yx()).domain([1,10]);return n.copy=function(){return af(n,Mj()).base(n.base())},vu.apply(n,arguments)}function Lj(){var n=t4(yx());return n.copy=function(){return af(n,Lj()).constant(n.constant())},vu.apply(n,arguments)}function d4(){var n=r4(yx());return n.copy=function(){return af(n,d4()).exponent(n.exponent())},vu.apply(n,arguments)}function Lfe(){return d4.apply(null,arguments).exponent(.5)}function Dj(){var n=[],t=Ca;function e(r){if(r!=null&&!isNaN(r=+r))return t((O1(n,r,1)-1)/(n.length-1))}return e.domain=function(r){if(!arguments.length)return n.slice();n=[];for(let i of r)i!=null&&!isNaN(i=+i)&&n.push(i);return n.sort(Wu),e},e.interpolator=function(r){return arguments.length?(t=r,e):t},e.range=function(){return n.map((r,i)=>t(i/(n.length-1)))},e.quantiles=function(r){return Array.from({length:r+1},(i,o)=>xce(n,o/r))},e.copy=function(){return Dj(t).domain(n)},vu.apply(e,arguments)}function bx(){var n=0,t=.5,e=1,r=1,i,o,a,s,l,c=Ca,u,f=!1,h;function d(g){return isNaN(g=+g)?h:(g=.5+((g=+u(g))-o)*(r*g<r*o?s:l),c(f?Math.max(0,Math.min(1,g)):g))}d.domain=function(g){return arguments.length?([n,t,e]=g,i=u(n=+n),o=u(t=+t),a=u(e=+e),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,d):[n,t,e]},d.clamp=function(g){return arguments.length?(f=!!g,d):f},d.interpolator=function(g){return arguments.length?(c=g,d):c};function m(g){return function(x){var b,_,S;return arguments.length?([b,_,S]=x,c=qce(g,[b,_,S]),d):[c(0),c(.5),c(1)]}}return d.range=m(Qp),d.rangeRound=m(XT),d.unknown=function(g){return arguments.length?(h=g,d):h},function(g){return u=g,i=g(n),o=g(t),a=g(e),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,d}}function Ij(){var n=of(bx()(Ca));return n.copy=function(){return af(n,Ij())},vu.apply(n,arguments)}function Rj(){var n=e4(bx()).domain([.1,1,10]);return n.copy=function(){return af(n,Rj()).base(n.base())},vu.apply(n,arguments)}function Fj(){var n=t4(bx());return n.copy=function(){return af(n,Fj()).constant(n.constant())},vu.apply(n,arguments)}function h4(){var n=r4(bx());return n.copy=function(){return af(n,h4()).exponent(n.exponent())},vu.apply(n,arguments)}function Dfe(){return h4.apply(null,arguments).exponent(.5)}const eA=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Fg,scaleDiverging:Ij,scaleDivergingLog:Rj,scaleDivergingPow:h4,scaleDivergingSqrt:Dfe,scaleDivergingSymlog:Fj,scaleIdentity:gj,scaleImplicit:Qw,scaleLinear:R0,scaleLog:yj,scaleOrdinal:GT,scalePoint:Xv,scalePow:n4,scaleQuantile:wj,scaleQuantize:_j,scaleRadial:xj,scaleSequential:kj,scaleSequentialLog:Mj,scaleSequentialPow:d4,scaleSequentialQuantile:Dj,scaleSequentialSqrt:Lfe,scaleSequentialSymlog:Lj,scaleSqrt:vue,scaleSymlog:bj,scaleThreshold:Sj,scaleTime:kfe,scaleUtc:Mfe,tickFormat:vj},Symbol.toStringTag,{value:"Module"}));var Ife=Up;function Rfe(n,t,e){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=t(o);if(a!=null&&(s===void 0?a===a&&!Ife(a):e(a,s)))var s=a,l=o}return l}var xx=Rfe;function Ffe(n,t){return n>t}var Bj=Ffe,Bfe=xx,Hfe=Bj,$fe=Yp;function Ufe(n){return n&&n.length?Bfe(n,$fe,Hfe):void 0}var Vfe=Ufe;const Uu=hn(Vfe);function zfe(n,t){return n<t}var Hj=zfe,Wfe=xx,qfe=Hj,Gfe=Yp;function Kfe(n){return n&&n.length?Wfe(n,Gfe,qfe):void 0}var Yfe=Kfe;const wx=hn(Yfe);var Xfe=Hb,Zfe=Wl,Jfe=jP,Qfe=ia;function ede(n,t){var e=Qfe(n)?Xfe:Jfe;return e(n,Zfe(t))}var tde=ede,rde=ST,nde=tde;function ide(n,t){return rde(nde(n,t),1)}var ode=ide;const ade=hn(ode);var ev=1e9,sde={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},v4,yi=!0,nl="[DecimalError] ",hd=nl+"Invalid argument: ",p4=nl+"Exponent out of range: ",tv=Math.floor,Wf=Math.pow,lde=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,xs,bo=1e7,ci=7,$j=9007199254740991,$0=tv($j/ci),fr={};fr.absoluteValue=fr.abs=function(){var n=new this.constructor(this);return n.s&&(n.s=1),n};fr.comparedTo=fr.cmp=function(n){var t,e,r,i,o=this;if(n=new o.constructor(n),o.s!==n.s)return o.s||-n.s;if(o.e!==n.e)return o.e>n.e^o.s<0?1:-1;for(r=o.d.length,i=n.d.length,t=0,e=r<i?r:i;t<e;++t)if(o.d[t]!==n.d[t])return o.d[t]>n.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};fr.decimalPlaces=fr.dp=function(){var n=this,t=n.d.length-1,e=(t-n.e)*ci;if(t=n.d[t],t)for(;t%10==0;t/=10)e--;return e<0?0:e};fr.dividedBy=fr.div=function(n){return au(this,new this.constructor(n))};fr.dividedToIntegerBy=fr.idiv=function(n){var t=this,e=t.constructor;return Kn(au(t,new e(n),0,1),e.precision)};fr.equals=fr.eq=function(n){return!this.cmp(n)};fr.exponent=function(){return Yi(this)};fr.greaterThan=fr.gt=function(n){return this.cmp(n)>0};fr.greaterThanOrEqualTo=fr.gte=function(n){return this.cmp(n)>=0};fr.isInteger=fr.isint=function(){return this.e>this.d.length-2};fr.isNegative=fr.isneg=function(){return this.s<0};fr.isPositive=fr.ispos=function(){return this.s>0};fr.isZero=function(){return this.s===0};fr.lessThan=fr.lt=function(n){return this.cmp(n)<0};fr.lessThanOrEqualTo=fr.lte=function(n){return this.cmp(n)<1};fr.logarithm=fr.log=function(n){var t,e=this,r=e.constructor,i=r.precision,o=i+5;if(n===void 0)n=new r(10);else if(n=new r(n),n.s<1||n.eq(xs))throw Error(nl+"NaN");if(e.s<1)throw Error(nl+(e.s?"NaN":"-Infinity"));return e.eq(xs)?new r(0):(yi=!1,t=au(Vg(e,o),Vg(n,o),o),yi=!0,Kn(t,i))};fr.minus=fr.sub=function(n){var t=this;return n=new t.constructor(n),t.s==n.s?zj(t,n):Uj(t,(n.s=-n.s,n))};fr.modulo=fr.mod=function(n){var t,e=this,r=e.constructor,i=r.precision;if(n=new r(n),!n.s)throw Error(nl+"NaN");return e.s?(yi=!1,t=au(e,n,0,1).times(n),yi=!0,e.minus(t)):Kn(new r(e),i)};fr.naturalExponential=fr.exp=function(){return Vj(this)};fr.naturalLogarithm=fr.ln=function(){return Vg(this)};fr.negated=fr.neg=function(){var n=new this.constructor(this);return n.s=-n.s||0,n};fr.plus=fr.add=function(n){var t=this;return n=new t.constructor(n),t.s==n.s?Uj(t,n):zj(t,(n.s=-n.s,n))};fr.precision=fr.sd=function(n){var t,e,r,i=this;if(n!==void 0&&n!==!!n&&n!==1&&n!==0)throw Error(hd+n);if(t=Yi(i)+1,r=i.d.length-1,e=r*ci+1,r=i.d[r],r){for(;r%10==0;r/=10)e--;for(r=i.d[0];r>=10;r/=10)e++}return n&&t>e?t:e};fr.squareRoot=fr.sqrt=function(){var n,t,e,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(nl+"NaN")}for(n=Yi(s),yi=!1,i=Math.sqrt(+s),i==0||i==1/0?(t=pc(s.d),(t.length+n)%2==0&&(t+="0"),i=Math.sqrt(t),n=tv((n+1)/2)-(n<0||n%2),i==1/0?t="5e"+n:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+n),r=new l(t)):r=new l(i.toString()),e=l.precision,i=a=e+3;;)if(o=r,r=o.plus(au(s,o,a+2)).times(.5),pc(o.d).slice(0,a)===(t=pc(r.d)).slice(0,a)){if(t=t.slice(a-3,a+1),i==a&&t=="4999"){if(Kn(o,e+1,0),o.times(o).eq(s)){r=o;break}}else if(t!="9999")break;a+=4}return yi=!0,Kn(r,e)};fr.times=fr.mul=function(n){var t,e,r,i,o,a,s,l,c,u=this,f=u.constructor,h=u.d,d=(n=new f(n)).d;if(!u.s||!n.s)return new f(0);for(n.s*=u.s,e=u.e+n.e,l=h.length,c=d.length,l<c&&(o=h,h=d,d=o,a=l,l=c,c=a),o=[],a=l+c,r=a;r--;)o.push(0);for(r=c;--r>=0;){for(t=0,i=l+r;i>r;)s=o[i]+d[r]*h[i-r-1]+t,o[i--]=s%bo|0,t=s/bo|0;o[i]=(o[i]+t)%bo|0}for(;!o[--a];)o.pop();return t?++e:o.shift(),n.d=o,n.e=e,yi?Kn(n,f.precision):n};fr.toDecimalPlaces=fr.todp=function(n,t){var e=this,r=e.constructor;return e=new r(e),n===void 0?e:(Sc(n,0,ev),t===void 0?t=r.rounding:Sc(t,0,8),Kn(e,n+Yi(e)+1,t))};fr.toExponential=function(n,t){var e,r=this,i=r.constructor;return n===void 0?e=Od(r,!0):(Sc(n,0,ev),t===void 0?t=i.rounding:Sc(t,0,8),r=Kn(new i(r),n+1,t),e=Od(r,!0,n+1)),e};fr.toFixed=function(n,t){var e,r,i=this,o=i.constructor;return n===void 0?Od(i):(Sc(n,0,ev),t===void 0?t=o.rounding:Sc(t,0,8),r=Kn(new o(i),n+Yi(i)+1,t),e=Od(r.abs(),!1,n+Yi(r)+1),i.isneg()&&!i.isZero()?"-"+e:e)};fr.toInteger=fr.toint=function(){var n=this,t=n.constructor;return Kn(new t(n),Yi(n)+1,t.rounding)};fr.toNumber=function(){return+this};fr.toPower=fr.pow=function(n){var t,e,r,i,o,a,s=this,l=s.constructor,c=12,u=+(n=new l(n));if(!n.s)return new l(xs);if(s=new l(s),!s.s){if(n.s<1)throw Error(nl+"Infinity");return s}if(s.eq(xs))return s;if(r=l.precision,n.eq(xs))return Kn(s,r);if(t=n.e,e=n.d.length-1,a=t>=e,o=s.s,a){if((e=u<0?-u:u)<=$j){for(i=new l(xs),t=Math.ceil(r/ci+4),yi=!1;e%2&&(i=i.times(s),rA(i.d,t)),e=tv(e/2),e!==0;)s=s.times(s),rA(s.d,t);return yi=!0,n.s<0?new l(xs).div(i):Kn(i,r)}}else if(o<0)throw Error(nl+"NaN");return o=o<0&&n.d[Math.max(t,e)]&1?-1:1,s.s=1,yi=!1,i=n.times(Vg(s,r+c)),yi=!0,i=Vj(i),i.s=o,i};fr.toPrecision=function(n,t){var e,r,i=this,o=i.constructor;return n===void 0?(e=Yi(i),r=Od(i,e<=o.toExpNeg||e>=o.toExpPos)):(Sc(n,1,ev),t===void 0?t=o.rounding:Sc(t,0,8),i=Kn(new o(i),n,t),e=Yi(i),r=Od(i,n<=e||e<=o.toExpNeg,n)),r};fr.toSignificantDigits=fr.tosd=function(n,t){var e=this,r=e.constructor;return n===void 0?(n=r.precision,t=r.rounding):(Sc(n,1,ev),t===void 0?t=r.rounding:Sc(t,0,8)),Kn(new r(e),n,t)};fr.toString=fr.valueOf=fr.val=fr.toJSON=fr[Symbol.for("nodejs.util.inspect.custom")]=function(){var n=this,t=Yi(n),e=n.constructor;return Od(n,t<=e.toExpNeg||t>=e.toExpPos)};function Uj(n,t){var e,r,i,o,a,s,l,c,u=n.constructor,f=u.precision;if(!n.s||!t.s)return t.s||(t=new u(n)),yi?Kn(t,f):t;if(l=n.d,c=t.d,a=n.e,i=t.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=c.length):(r=c,i=a,s=l.length),a=Math.ceil(f/ci),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=c.length,s-o<0&&(o=s,r=c,c=l,l=r),e=0;o;)e=(l[--o]=l[o]+c[o]+e)/bo|0,l[o]%=bo;for(e&&(l.unshift(e),++i),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=i,yi?Kn(t,f):t}function Sc(n,t,e){if(n!==~~n||n<t||n>e)throw Error(hd+n)}function pc(n){var t,e,r,i=n.length-1,o="",a=n[0];if(i>0){for(o+=a,t=1;t<i;t++)r=n[t]+"",e=ci-r.length,e&&(o+=Iu(e)),o+=r;a=n[t],r=a+"",e=ci-r.length,e&&(o+=Iu(e))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var au=function(){function n(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%bo|0,a=o/bo|0;return a&&r.unshift(a),r}function t(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function e(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*bo+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,c,u,f,h,d,m,g,x,b,_,S,T,C,w,N,A,j=r.constructor,R=r.s==i.s?1:-1,L=r.d,M=i.d;if(!r.s)return new j(r);if(!i.s)throw Error(nl+"Division by zero");for(l=r.e-i.e,N=M.length,C=L.length,d=new j(R),m=d.d=[],c=0;M[c]==(L[c]||0);)++c;if(M[c]>(L[c]||0)&&--l,o==null?_=o=j.precision:a?_=o+(Yi(r)-Yi(i))+1:_=o,_<0)return new j(0);if(_=_/ci+2|0,c=0,N==1)for(u=0,M=M[0],_++;(c<C||u)&&_--;c++)S=u*bo+(L[c]||0),m[c]=S/M|0,u=S%M|0;else{for(u=bo/(M[0]+1)|0,u>1&&(M=n(M,u),L=n(L,u),N=M.length,C=L.length),T=N,g=L.slice(0,N),x=g.length;x<N;)g[x++]=0;A=M.slice(),A.unshift(0),w=M[0],M[1]>=bo/2&&++w;do u=0,s=t(M,g,N,x),s<0?(b=g[0],N!=x&&(b=b*bo+(g[1]||0)),u=b/w|0,u>1?(u>=bo&&(u=bo-1),f=n(M,u),h=f.length,x=g.length,s=t(f,g,h,x),s==1&&(u--,e(f,N<h?A:M,h))):(u==0&&(s=u=1),f=M.slice()),h=f.length,h<x&&f.unshift(0),e(g,f,x),s==-1&&(x=g.length,s=t(M,g,N,x),s<1&&(u++,e(g,N<x?A:M,x))),x=g.length):s===0&&(u++,g=[0]),m[c++]=u,s&&g[0]?g[x++]=L[T]||0:(g=[L[T]],x=1);while((T++<C||g[0]!==void 0)&&_--)}return m[0]||m.shift(),d.e=l,Kn(d,a?o+Yi(d)+1:o)}}();function Vj(n,t){var e,r,i,o,a,s,l=0,c=0,u=n.constructor,f=u.precision;if(Yi(n)>16)throw Error(p4+Yi(n));if(!n.s)return new u(xs);for(yi=!1,s=f,a=new u(.03125);n.abs().gte(.1);)n=n.times(a),c+=5;for(r=Math.log(Wf(2,c))/Math.LN10*2+5|0,s+=r,e=i=o=new u(xs),u.precision=s;;){if(i=Kn(i.times(n),s),e=e.times(++l),a=o.plus(au(i,e,s)),pc(a.d).slice(0,s)===pc(o.d).slice(0,s)){for(;c--;)o=Kn(o.times(o),s);return u.precision=f,t==null?(yi=!0,Kn(o,f)):o}o=a}}function Yi(n){for(var t=n.e*ci,e=n.d[0];e>=10;e/=10)t++;return t}function t5(n,t,e){if(t>n.LN10.sd())throw yi=!0,e&&(n.precision=e),Error(nl+"LN10 precision limit exceeded");return Kn(new n(n.LN10),t)}function Iu(n){for(var t="";n--;)t+="0";return t}function Vg(n,t){var e,r,i,o,a,s,l,c,u,f=1,h=10,d=n,m=d.d,g=d.constructor,x=g.precision;if(d.s<1)throw Error(nl+(d.s?"NaN":"-Infinity"));if(d.eq(xs))return new g(0);if(t==null?(yi=!1,c=x):c=t,d.eq(10))return t==null&&(yi=!0),t5(g,c);if(c+=h,g.precision=c,e=pc(m),r=e.charAt(0),o=Yi(d),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&e.charAt(1)>3;)d=d.times(n),e=pc(d.d),r=e.charAt(0),f++;o=Yi(d),r>1?(d=new g("0."+e),o++):d=new g(r+"."+e.slice(1))}else return l=t5(g,c+2,x).times(o+""),d=Vg(new g(r+"."+e.slice(1)),c-h).plus(l),g.precision=x,t==null?(yi=!0,Kn(d,x)):d;for(s=a=d=au(d.minus(xs),d.plus(xs),c),u=Kn(d.times(d),c),i=3;;){if(a=Kn(a.times(u),c),l=s.plus(au(a,new g(i),c)),pc(l.d).slice(0,c)===pc(s.d).slice(0,c))return s=s.times(2),o!==0&&(s=s.plus(t5(g,c+2,x).times(o+""))),s=au(s,new g(f),c),g.precision=x,t==null?(yi=!0,Kn(s,x)):s;s=l,i+=2}}function tA(n,t){var e,r,i;for((e=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(e<0&&(e=r),e+=+t.slice(r+1),t=t.substring(0,r)):e<0&&(e=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,e=e-r-1,n.e=tv(e/ci),n.d=[],r=(e+1)%ci,e<0&&(r+=ci),r<i){for(r&&n.d.push(+t.slice(0,r)),i-=ci;r<i;)n.d.push(+t.slice(r,r+=ci));t=t.slice(r),r=ci-t.length}else r-=i;for(;r--;)t+="0";if(n.d.push(+t),yi&&(n.e>$0||n.e<-$0))throw Error(p4+e)}else n.s=0,n.e=0,n.d=[0];return n}function Kn(n,t,e){var r,i,o,a,s,l,c,u,f=n.d;for(a=1,o=f[0];o>=10;o/=10)a++;if(r=t-a,r<0)r+=ci,i=t,c=f[u=0];else{if(u=Math.ceil((r+1)/ci),o=f.length,u>=o)return n;for(c=o=f[u],a=1;o>=10;o/=10)a++;r%=ci,i=r-ci+a}if(e!==void 0&&(o=Wf(10,a-i-1),s=c/o%10|0,l=t<0||f[u+1]!==void 0||c%o,l=e<4?(s||l)&&(e==0||e==(n.s<0?3:2)):s>5||s==5&&(e==4||l||e==6&&(r>0?i>0?c/Wf(10,a-i):0:f[u-1])%10&1||e==(n.s<0?8:7))),t<1||!f[0])return l?(o=Yi(n),f.length=1,t=t-o-1,f[0]=Wf(10,(ci-t%ci)%ci),n.e=tv(-t/ci)||0):(f.length=1,f[0]=n.e=n.s=0),n;if(r==0?(f.length=u,o=1,u--):(f.length=u+1,o=Wf(10,ci-r),f[u]=i>0?(c/Wf(10,a-i)%Wf(10,i)|0)*o:0),l)for(;;)if(u==0){(f[0]+=o)==bo&&(f[0]=1,++n.e);break}else{if(f[u]+=o,f[u]!=bo)break;f[u--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(yi&&(n.e>$0||n.e<-$0))throw Error(p4+Yi(n));return n}function zj(n,t){var e,r,i,o,a,s,l,c,u,f,h=n.constructor,d=h.precision;if(!n.s||!t.s)return t.s?t.s=-t.s:t=new h(n),yi?Kn(t,d):t;if(l=n.d,f=t.d,r=t.e,c=n.e,l=l.slice(),a=c-r,a){for(u=a<0,u?(e=l,a=-a,s=f.length):(e=f,r=c,s=l.length),i=Math.max(Math.ceil(d/ci),s)+2,a>i&&(a=i,e.length=1),e.reverse(),i=a;i--;)e.push(0);e.reverse()}else{for(i=l.length,s=f.length,u=i<s,u&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){u=l[i]<f[i];break}a=0}for(u&&(e=l,l=f,f=e,t.s=-t.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>a;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=bo-1;--l[o],l[i]+=bo}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=r,yi?Kn(t,d):t):new h(0)}function Od(n,t,e){var r,i=Yi(n),o=pc(n.d),a=o.length;return t?(e&&(r=e-a)>0?o=o.charAt(0)+"."+o.slice(1)+Iu(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Iu(-i-1)+o,e&&(r=e-a)>0&&(o+=Iu(r))):i>=a?(o+=Iu(i+1-a),e&&(r=e-i-1)>0&&(o=o+"."+Iu(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),e&&(r=e-a)>0&&(i+1===a&&(o+="."),o+=Iu(r))),n.s<0?"-"+o:o}function rA(n,t){if(n.length>t)return n.length=t,!0}function Wj(n){var t,e,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(hd+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return tA(a,o.toString())}else if(typeof o!="string")throw Error(hd+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,lde.test(o))tA(a,o);else throw Error(hd+o)}if(i.prototype=fr,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Wj,i.config=i.set=cde,n===void 0&&(n={}),n)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)n.hasOwnProperty(e=r[t++])||(n[e]=this[e]);return i.config(n),i}function cde(n){if(!n||typeof n!="object")throw Error(nl+"Object expected");var t,e,r,i=["precision",1,ev,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=n[e=i[t]])!==void 0)if(tv(r)===r&&r>=i[t+1]&&r<=i[t+2])this[e]=r;else throw Error(hd+e+": "+r);if((r=n[e="LN10"])!==void 0)if(r==Math.LN10)this[e]=new this(r);else throw Error(hd+e+": "+r);return this}var v4=Wj(sde);xs=new v4(1);const Hn=v4;function ude(n){return pde(n)||hde(n)||dde(n)||fde()}function fde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dde(n,t){if(n){if(typeof n=="string")return n_(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return n_(n,t)}}function hde(n){if(typeof Symbol<"u"&&Symbol.iterator in Object(n))return Array.from(n)}function pde(n){if(Array.isArray(n))return n_(n)}function n_(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}var vde=function(t){return t},qj={},Gj=function(t){return t===qj},nA=function(t){return function e(){return arguments.length===0||arguments.length===1&&Gj(arguments.length<=0?void 0:arguments[0])?e:t.apply(void 0,arguments)}},gde=function n(t,e){return t===1?e:nA(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==qj}).length;return a>=t?e.apply(void 0,i):n(t-a,nA(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var u=i.map(function(f){return Gj(f)?l.shift():f});return e.apply(void 0,ude(u).concat(l))}))})},_x=function(t){return gde(t.length,t)},i_=function(t,e){for(var r=[],i=t;i<e;++i)r[i-t]=i;return r},mde=_x(function(n,t){return Array.isArray(t)?t.map(n):Object.keys(t).map(function(e){return t[e]}).map(n)}),yde=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(!e.length)return vde;var i=e.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},o_=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},Kj=function(t){var e=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e&&o.every(function(s,l){return s===e[l]})||(e=o,r=t.apply(void 0,o)),r}};function bde(n){var t;return n===0?t=1:t=Math.floor(new Hn(n).abs().log(10).toNumber())+1,t}function xde(n,t,e){for(var r=new Hn(n),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(e),i++;return o}var wde=_x(function(n,t,e){var r=+n,i=+t;return r+e*(i-r)}),_de=_x(function(n,t,e){var r=t-+n;return r=r||1/0,(e-n)/r}),Sde=_x(function(n,t,e){var r=t-+n;return r=r||1/0,Math.max(0,Math.min(1,(e-n)/r))});const Sx={rangeStep:xde,getDigitCount:bde,interpolateNumber:wde,uninterpolateNumber:_de,uninterpolateTruncation:Sde};function a_(n){return Ede(n)||Cde(n)||Yj(n)||Tde()}function Tde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cde(n){if(typeof Symbol<"u"&&Symbol.iterator in Object(n))return Array.from(n)}function Ede(n){if(Array.isArray(n))return s_(n)}function zg(n,t){return Nde(n)||Ade(n,t)||Yj(n,t)||Ode()}function Ode(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yj(n,t){if(n){if(typeof n=="string")return s_(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return s_(n,t)}}function s_(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function Ade(n,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(n)))){var e=[],r=!0,i=!1,o=void 0;try{for(var a=n[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(e.push(s.value),!(t&&e.length===t));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return e}}function Nde(n){if(Array.isArray(n))return n}function Xj(n){var t=zg(n,2),e=t[0],r=t[1],i=e,o=r;return e>r&&(i=r,o=e),[i,o]}function Zj(n,t,e){if(n.lte(0))return new Hn(0);var r=Sx.getDigitCount(n.toNumber()),i=new Hn(10).pow(r),o=n.div(i),a=r!==1?.05:.1,s=new Hn(Math.ceil(o.div(a).toNumber())).add(e).mul(a),l=s.mul(i);return t?l:new Hn(Math.ceil(l))}function Pde(n,t,e){var r=1,i=new Hn(n);if(!i.isint()&&e){var o=Math.abs(n);o<1?(r=new Hn(10).pow(Sx.getDigitCount(n)-1),i=new Hn(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Hn(Math.floor(n)))}else n===0?i=new Hn(Math.floor((t-1)/2)):e||(i=new Hn(Math.floor(n)));var a=Math.floor((t-1)/2),s=yde(mde(function(l){return i.add(new Hn(l-a).mul(r)).toNumber()}),i_);return s(0,t)}function Jj(n,t,e,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-n)/(e-1)))return{step:new Hn(0),tickMin:new Hn(0),tickMax:new Hn(0)};var o=Zj(new Hn(t).sub(n).div(e-1),r,i),a;n<=0&&t>=0?a=new Hn(0):(a=new Hn(n).add(t).div(2),a=a.sub(new Hn(a).mod(o)));var s=Math.ceil(a.sub(n).div(o).toNumber()),l=Math.ceil(new Hn(t).sub(a).div(o).toNumber()),c=s+l+1;return c>e?Jj(n,t,e,r,i+1):(c<e&&(l=t>0?l+(e-c):l,s=t>0?s:s+(e-c)),{step:o,tickMin:a.sub(new Hn(s).mul(o)),tickMax:a.add(new Hn(l).mul(o))})}function jde(n){var t=zg(n,2),e=t[0],r=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=Xj([e,r]),l=zg(s,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var f=u===1/0?[c].concat(a_(i_(0,i-1).map(function(){return 1/0}))):[].concat(a_(i_(0,i-1).map(function(){return-1/0})),[u]);return e>r?o_(f):f}if(c===u)return Pde(c,i,o);var h=Jj(c,u,a,o),d=h.step,m=h.tickMin,g=h.tickMax,x=Sx.rangeStep(m,g.add(new Hn(.1).mul(d)),d);return e>r?o_(x):x}function kde(n,t){var e=zg(n,2),r=e[0],i=e[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Xj([r,i]),s=zg(a,2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var u=Math.max(t,2),f=Zj(new Hn(c).sub(l).div(u-1),o,0),h=[].concat(a_(Sx.rangeStep(new Hn(l),new Hn(c).sub(new Hn(.99).mul(f)),f)),[c]);return r>i?o_(h):h}var Mde=Kj(jde),Lde=Kj(kde),Dde="Invariant failed";function Ad(n,t){throw new Error(Dde)}var Ide=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function gp(n){"@babel/helpers - typeof";return gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gp(n)}function U0(){return U0=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},U0.apply(this,arguments)}function Rde(n,t){return $de(n)||Hde(n,t)||Bde(n,t)||Fde()}function Fde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bde(n,t){if(n){if(typeof n=="string")return iA(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return iA(n,t)}}function iA(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function Hde(n,t){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(e=e.call(n)).next,t!==0)for(;!(l=(r=o.call(e)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&e.return!=null&&(a=e.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function $de(n){if(Array.isArray(n))return n}function Ude(n,t){if(n==null)return{};var e=Vde(n,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(e[r]=n[r])}return e}function Vde(n,t){if(n==null)return{};var e={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(t.indexOf(r)>=0)continue;e[r]=n[r]}return e}function zde(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function Wde(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,tk(r.key),r)}}function qde(n,t,e){return t&&Wde(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Gde(n,t,e){return t=V0(t),Kde(n,Qj()?Reflect.construct(t,e||[],V0(n).constructor):t.apply(n,e))}function Kde(n,t){if(t&&(gp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yde(n)}function Yde(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Qj(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Qj=function(){return!!n})()}function V0(n){return V0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},V0(n)}function Xde(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&l_(n,t)}function l_(n,t){return l_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},l_(n,t)}function ek(n,t,e){return t=tk(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function tk(n){var t=Zde(n,"string");return gp(t)=="symbol"?t:t+""}function Zde(n,t){if(gp(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(gp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var Tx=function(n){function t(){return zde(this,t),Gde(this,t,arguments)}return Xde(t,n),qde(t,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,a=r.width,s=r.dataKey,l=r.data,c=r.dataPointFormatter,u=r.xAxis,f=r.yAxis,h=Ude(r,Ide),d=kr(h,!1);this.props.direction==="x"&&u.type!=="number"&&Ad();var m=l.map(function(g){var x=c(g,s),b=x.x,_=x.y,S=x.value,T=x.errorVal;if(!T)return null;var C=[],w,N;if(Array.isArray(T)){var A=Rde(T,2);w=A[0],N=A[1]}else w=N=T;if(o==="vertical"){var j=u.scale,R=_+i,L=R+a,M=R-a,I=j(S-w),D=j(S+N);C.push({x1:D,y1:L,x2:D,y2:M}),C.push({x1:I,y1:R,x2:D,y2:R}),C.push({x1:I,y1:L,x2:I,y2:M})}else if(o==="horizontal"){var V=f.scale,F=b+i,G=F-a,W=F+a,Y=V(S-w),te=V(S+N);C.push({x1:G,y1:te,x2:W,y2:te}),C.push({x1:F,y1:Y,x2:F,y2:te}),C.push({x1:G,y1:Y,x2:W,y2:Y})}return Se.createElement(mn,U0({className:"recharts-errorBar",key:"bar-".concat(C.map(function(he){return"".concat(he.x1,"-").concat(he.x2,"-").concat(he.y1,"-").concat(he.y2)}))},d),C.map(function(he){return Se.createElement("line",U0({},he,{key:"line-".concat(he.x1,"-").concat(he.x2,"-").concat(he.y1,"-").concat(he.y2)}))}))});return Se.createElement(mn,{className:"recharts-errorBars"},m)}}])}(Se.Component);ek(Tx,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});ek(Tx,"displayName","ErrorBar");function Wg(n){"@babel/helpers - typeof";return Wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wg(n)}function oA(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function If(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?oA(Object(e),!0).forEach(function(r){Jde(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):oA(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function Jde(n,t,e){return t=Qde(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Qde(n){var t=ehe(n,"string");return Wg(t)=="symbol"?t:t+""}function ehe(n,t){if(Wg(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(Wg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var rk=function(t){var e=t.children,r=t.formattedGraphicalItems,i=t.legendWidth,o=t.legendContent,a=ms(e,fd);if(!a)return null;var s=fd.defaultProps,l=s!==void 0?If(If({},s),a.props):{},c;return a.props&&a.props.payload?c=a.props&&a.props.payload:o==="children"?c=(r||[]).reduce(function(u,f){var h=f.item,d=f.props,m=d.sectors||d.data||[];return u.concat(m.map(function(g){return{type:a.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):c=(r||[]).map(function(u){var f=u.item,h=f.type.defaultProps,d=h!==void 0?If(If({},h),f.props):{},m=d.dataKey,g=d.name,x=d.legendType,b=d.hide;return{inactive:b,dataKey:m,type:l.iconType||x||"square",color:g4(f),value:g||m,payload:d}}),If(If(If({},l),fd.getWithHeight(a,i)),{},{payload:c,item:a})};function qg(n){"@babel/helpers - typeof";return qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qg(n)}function aA(n){return ihe(n)||nhe(n)||rhe(n)||the()}function the(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rhe(n,t){if(n){if(typeof n=="string")return c_(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return c_(n,t)}}function nhe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function ihe(n){if(Array.isArray(n))return c_(n)}function c_(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function sA(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function ji(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?sA(Object(e),!0).forEach(function(r){Zh(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):sA(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function Zh(n,t,e){return t=ohe(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function ohe(n){var t=ahe(n,"string");return qg(t)=="symbol"?t:t+""}function ahe(n,t){if(qg(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(qg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function ao(n,t,e){return on(n)||on(t)?e:so(t)?Ts(n,t,e):Ur(t)?t(n):e}function Zv(n,t,e,r){var i=ade(n,function(s){return ao(s,t)});if(e==="number"){var o=i.filter(function(s){return Gt(s)||parseFloat(s)});return o.length?[wx(o),Uu(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!on(s)}):i;return a.map(function(s){return so(s)||s instanceof Date?s:""})}var she=function(t){var e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(e=r==null?void 0:r.length)!==null&&e!==void 0?e:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,c=0;c<s;c++){var u=c>0?i[c-1].coordinate:i[s-1].coordinate,f=i[c].coordinate,h=c>=s-1?i[0].coordinate:i[c+1].coordinate,d=void 0;if(Sa(f-u)!==Sa(h-f)){var m=[];if(Sa(h-f)===Sa(l[1]-l[0])){d=h;var g=f+l[1]-l[0];m[0]=Math.min(g,(g+u)/2),m[1]=Math.max(g,(g+u)/2)}else{d=u;var x=h+l[1]-l[0];m[0]=Math.min(f,(x+f)/2),m[1]=Math.max(f,(x+f)/2)}var b=[Math.min(f,(d+f)/2),Math.max(f,(d+f)/2)];if(t>b[0]&&t<=b[1]||t>=m[0]&&t<=m[1]){a=i[c].index;break}}else{var _=Math.min(u,h),S=Math.max(u,h);if(t>(_+f)/2&&t<=(S+f)/2){a=i[c].index;break}}}else for(var T=0;T<s;T++)if(T===0&&t<=(r[T].coordinate+r[T+1].coordinate)/2||T>0&&T<s-1&&t>(r[T].coordinate+r[T-1].coordinate)/2&&t<=(r[T].coordinate+r[T+1].coordinate)/2||T===s-1&&t>(r[T].coordinate+r[T-1].coordinate)/2){a=r[T].index;break}return a},g4=function(t){var e,r=t,i=r.type.displayName,o=(e=t.type)!==null&&e!==void 0&&e.defaultProps?ji(ji({},t.type.defaultProps),t.props):t.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},lhe=function(t){var e=t.barSize,r=t.totalSize,i=t.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,c=s.length;l<c;l++)for(var u=o[s[l]].stackGroups,f=Object.keys(u),h=0,d=f.length;h<d;h++){var m=u[f[h]],g=m.items,x=m.cateAxisId,b=g.filter(function(N){return ou(N.type).indexOf("Bar")>=0});if(b&&b.length){var _=b[0].type.defaultProps,S=_!==void 0?ji(ji({},_),b[0].props):b[0].props,T=S.barSize,C=S[x];a[C]||(a[C]=[]);var w=on(T)?e:T;a[C].push({item:b[0],stackList:b.slice(1),barSize:on(w)?void 0:Ta(w,r,0)})}}return a},che=function(t){var e=t.barGap,r=t.barCategoryGap,i=t.bandSize,o=t.sizeList,a=o===void 0?[]:o,s=t.maxBarSize,l=a.length;if(l<1)return null;var c=Ta(e,i,0,!0),u,f=[];if(a[0].barSize===+a[0].barSize){var h=!1,d=i/l,m=a.reduce(function(T,C){return T+C.barSize||0},0);m+=(l-1)*c,m>=i&&(m-=(l-1)*c,c=0),m>=i&&d>0&&(h=!0,d*=.9,m=l*d);var g=(i-m)/2>>0,x={offset:g-c,size:0};u=a.reduce(function(T,C){var w={item:C.item,position:{offset:x.offset+x.size+c,size:h?d:C.barSize}},N=[].concat(aA(T),[w]);return x=N[N.length-1].position,C.stackList&&C.stackList.length&&C.stackList.forEach(function(A){N.push({item:A,position:x})}),N},f)}else{var b=Ta(r,i,0,!0);i-2*b-(l-1)*c<=0&&(c=0);var _=(i-2*b-(l-1)*c)/l;_>1&&(_>>=0);var S=s===+s?Math.min(_,s):_;u=a.reduce(function(T,C,w){var N=[].concat(aA(T),[{item:C.item,position:{offset:b+(_+c)*w+(_-S)/2,size:S}}]);return C.stackList&&C.stackList.length&&C.stackList.forEach(function(A){N.push({item:A,position:N[N.length-1].position})}),N},f)}return u},uhe=function(t,e,r,i){var o=r.children,a=r.width,s=r.margin,l=a-(s.left||0)-(s.right||0),c=rk({children:o,legendWidth:l});if(c){var u=i||{},f=u.width,h=u.height,d=c.align,m=c.verticalAlign,g=c.layout;if((g==="vertical"||g==="horizontal"&&m==="middle")&&d!=="center"&&Gt(t[d]))return ji(ji({},t),{},Zh({},d,t[d]+(f||0)));if((g==="horizontal"||g==="vertical"&&d==="center")&&m!=="middle"&&Gt(t[m]))return ji(ji({},t),{},Zh({},m,t[m]+(h||0)))}return t},fhe=function(t,e,r){return on(e)?!0:t==="horizontal"?e==="yAxis":t==="vertical"||r==="x"?e==="xAxis":r==="y"?e==="yAxis":!0},nk=function(t,e,r,i,o){var a=e.props.children,s=Qs(a,Tx).filter(function(c){return fhe(i,o,c.props.direction)});if(s&&s.length){var l=s.map(function(c){return c.props.dataKey});return t.reduce(function(c,u){var f=ao(u,r);if(on(f))return c;var h=Array.isArray(f)?[wx(f),Uu(f)]:[f,f],d=l.reduce(function(m,g){var x=ao(u,g,0),b=h[0]-Math.abs(Array.isArray(x)?x[0]:x),_=h[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(b,m[0]),Math.max(_,m[1])]},[1/0,-1/0]);return[Math.min(d[0],c[0]),Math.max(d[1],c[1])]},[1/0,-1/0])}return null},dhe=function(t,e,r,i,o){var a=e.map(function(s){return nk(t,s,r,o,i)}).filter(function(s){return!on(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},ik=function(t,e,r,i,o){var a=e.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&nk(t,l,c,i)||Zv(t,c,r,o)});if(r==="number")return a.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,c){for(var u=0,f=c.length;u<f;u++)s[c[u]]||(s[c[u]]=!0,l.push(c[u]));return l},[])},ok=function(t,e){return t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis"},ak=function(t,e,r,i){if(i)return t.map(function(l){return l.coordinate});var o,a,s=t.map(function(l){return l.coordinate===e&&(o=!0),l.coordinate===r&&(a=!0),l.coordinate});return o||s.push(e),a||s.push(r),s},ru=function(t,e,r){if(!t)return null;var i=t.scale,o=t.duplicateDomain,a=t.type,s=t.range,l=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(e||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=t.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Sa(s[0]-s[1])*2*c:c,e&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(f){var h=o?o.indexOf(f):f;return{coordinate:i(h)+c,value:f,offset:c}});return u.filter(function(f){return!Zp(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:i(f)+c,value:f,index:h,offset:c}}):i.ticks&&!r?i.ticks(t.tickCount).map(function(f){return{coordinate:i(f)+c,value:f,offset:c}}):i.domain().map(function(f,h){return{coordinate:i(f)+c,value:o?o[f]:f,index:h,offset:c}})},r5=new WeakMap,wm=function(t,e){if(typeof e!="function")return t;r5.has(t)||r5.set(t,new WeakMap);var r=r5.get(t);if(r.has(e))return r.get(e);var i=function(){t.apply(void 0,arguments),e.apply(void 0,arguments)};return r.set(e,i),i},sk=function(t,e,r){var i=t.scale,o=t.type,a=t.layout,s=t.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:Fg(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:R0(),realScaleType:"linear"}:o==="category"&&e&&(e.indexOf("LineChart")>=0||e.indexOf("AreaChart")>=0||e.indexOf("ComposedChart")>=0&&!r)?{scale:Xv(),realScaleType:"point"}:o==="category"?{scale:Fg(),realScaleType:"band"}:{scale:R0(),realScaleType:"linear"};if(Td(i)){var l="scale".concat(lx(i));return{scale:(eA[l]||Xv)(),realScaleType:eA[l]?l:"point"}}return Ur(i)?{scale:i}:{scale:Xv(),realScaleType:"point"}},lA=1e-4,lk=function(t){var e=t.domain();if(!(!e||e.length<=2)){var r=e.length,i=t.range(),o=Math.min(i[0],i[1])-lA,a=Math.max(i[0],i[1])+lA,s=t(e[0]),l=t(e[r-1]);(s<o||s>a||l<o||l>a)&&t.domain([e[0],e[r-1]])}},hhe=function(t,e){if(!t)return null;for(var r=0,i=t.length;r<i;r++)if(t[r].item===e)return t[r].position;return null},phe=function(t,e){if(!e||e.length!==2||!Gt(e[0])||!Gt(e[1]))return t;var r=Math.min(e[0],e[1]),i=Math.max(e[0],e[1]),o=[t[0],t[1]];return(!Gt(t[0])||t[0]<r)&&(o[0]=r),(!Gt(t[1])||t[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},vhe=function(t){var e=t.length;if(!(e<=0))for(var r=0,i=t[0].length;r<i;++r)for(var o=0,a=0,s=0;s<e;++s){var l=Zp(t[s][r][1])?t[s][r][0]:t[s][r][1];l>=0?(t[s][r][0]=o,t[s][r][1]=o+l,o=t[s][r][1]):(t[s][r][0]=a,t[s][r][1]=a+l,a=t[s][r][1])}},ghe=function(t){var e=t.length;if(!(e<=0))for(var r=0,i=t[0].length;r<i;++r)for(var o=0,a=0;a<e;++a){var s=Zp(t[a][r][1])?t[a][r][0]:t[a][r][1];s>=0?(t[a][r][0]=o,t[a][r][1]=o+s,o=t[a][r][1]):(t[a][r][0]=0,t[a][r][1]=0)}},mhe={sign:vhe,expand:pae,none:lp,silhouette:vae,wiggle:gae,positive:ghe},yhe=function(t,e,r){var i=e.map(function(s){return s.props.dataKey}),o=mhe[r],a=hae().keys(i).value(function(s,l){return+ao(s,l,0)}).order(Bw).offset(o);return a(t)},bhe=function(t,e,r,i,o,a){if(!t)return null;var s=a?e.reverse():e,l={},c=s.reduce(function(f,h){var d,m=(d=h.type)!==null&&d!==void 0&&d.defaultProps?ji(ji({},h.type.defaultProps),h.props):h.props,g=m.stackId,x=m.hide;if(x)return f;var b=m[r],_=f[b]||{hasStack:!1,stackGroups:{}};if(so(g)){var S=_.stackGroups[g]||{numericAxisId:r,cateAxisId:i,items:[]};S.items.push(h),_.hasStack=!0,_.stackGroups[g]=S}else _.stackGroups[Jp("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return ji(ji({},f),{},Zh({},b,_))},l),u={};return Object.keys(c).reduce(function(f,h){var d=c[h];if(d.hasStack){var m={};d.stackGroups=Object.keys(d.stackGroups).reduce(function(g,x){var b=d.stackGroups[x];return ji(ji({},g),{},Zh({},x,{numericAxisId:r,cateAxisId:i,items:b.items,stackedData:yhe(t,b.items,o)}))},m)}return ji(ji({},f),{},Zh({},h,d))},u)},ck=function(t,e){var r=e.realScaleType,i=e.type,o=e.tickCount,a=e.originalDomain,s=e.allowDecimals,l=r||e.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var c=t.domain();if(!c.length)return null;var u=Mde(c,o,s);return t.domain([wx(u),Uu(u)]),{niceTicks:u}}if(o&&i==="number"){var f=t.domain(),h=Lde(f,o,s);return{niceTicks:h}}return null};function cA(n){var t=n.axis,e=n.ticks,r=n.bandSize,i=n.entry,o=n.index,a=n.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!on(i[t.dataKey])){var s=b0(e,"value",i[t.dataKey]);if(s)return s.coordinate+r/2}return e[o]?e[o].coordinate+r/2:null}var l=ao(i,on(a)?t.dataKey:a);return on(l)?null:t.scale(l)}var uA=function(t){var e=t.axis,r=t.ticks,i=t.offset,o=t.bandSize,a=t.entry,s=t.index;if(e.type==="category")return r[s]?r[s].coordinate+i:null;var l=ao(a,e.dataKey,e.domain[s]);return on(l)?null:e.scale(l)-o/2+i},xhe=function(t){var e=t.numericAxis,r=e.scale.domain();if(e.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},whe=function(t,e){var r,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?ji(ji({},t.type.defaultProps),t.props):t.props,o=i.stackId;if(so(o)){var a=e[o];if(a){var s=a.items.indexOf(t);return s>=0?a.stackedData[s]:null}}return null},_he=function(t){return t.reduce(function(e,r){return[wx(r.concat([e[0]]).filter(Gt)),Uu(r.concat([e[1]]).filter(Gt))]},[1/0,-1/0])},uk=function(t,e,r){return Object.keys(t).reduce(function(i,o){var a=t[o],s=a.stackedData,l=s.reduce(function(c,u){var f=_he(u.slice(e,r+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},fA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,dA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,u_=function(t,e,r){if(Ur(t))return t(e,r);if(!Array.isArray(t))return e;var i=[];if(Gt(t[0]))i[0]=r?t[0]:Math.min(t[0],e[0]);else if(fA.test(t[0])){var o=+fA.exec(t[0])[1];i[0]=e[0]-o}else Ur(t[0])?i[0]=t[0](e[0]):i[0]=e[0];if(Gt(t[1]))i[1]=r?t[1]:Math.max(t[1],e[1]);else if(dA.test(t[1])){var a=+dA.exec(t[1])[1];i[1]=e[1]+a}else Ur(t[1])?i[1]=t[1](e[1]):i[1]=e[1];return i},z0=function(t,e,r){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!r||i>0)return i}if(t&&e&&e.length>=2){for(var o=Vb(e,function(f){return f.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var c=o[s],u=o[s-1];a=Math.min((c.coordinate||0)-(u.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},hA=function(t,e,r){return!t||!t.length||_d(t,Ts(r,"type.defaultProps.domain"))?e:t},fk=function(t,e){var r=t.type.defaultProps?ji(ji({},t.type.defaultProps),t.props):t.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,l=r.tooltipType,c=r.chartType,u=r.hide;return ji(ji({},kr(t,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:g4(t),value:ao(e,i),type:l,payload:e,chartType:c,hide:u})};function Gg(n){"@babel/helpers - typeof";return Gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gg(n)}function pA(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function Yc(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?pA(Object(e),!0).forEach(function(r){dk(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):pA(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function dk(n,t,e){return t=She(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function She(n){var t=The(n,"string");return Gg(t)=="symbol"?t:t+""}function The(n,t){if(Gg(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(Gg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Che(n,t){return Nhe(n)||Ahe(n,t)||Ohe(n,t)||Ehe()}function Ehe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ohe(n,t){if(n){if(typeof n=="string")return vA(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return vA(n,t)}}function vA(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function Ahe(n,t){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(e=e.call(n)).next,t!==0)for(;!(l=(r=o.call(e)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&e.return!=null&&(a=e.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Nhe(n){if(Array.isArray(n))return n}var W0=Math.PI/180,Phe=function(t){return t*180/Math.PI},ei=function(t,e,r,i){return{x:t+Math.cos(-W0*i)*r,y:e+Math.sin(-W0*i)*r}},hk=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(e-(r.top||0)-(r.bottom||0)))/2},jhe=function(t,e,r,i,o){var a=t.width,s=t.height,l=t.startAngle,c=t.endAngle,u=Ta(t.cx,a,a/2),f=Ta(t.cy,s,s/2),h=hk(a,s,r),d=Ta(t.innerRadius,h,0),m=Ta(t.outerRadius,h,h*.8),g=Object.keys(e);return g.reduce(function(x,b){var _=e[b],S=_.domain,T=_.reversed,C;if(on(_.range))i==="angleAxis"?C=[l,c]:i==="radiusAxis"&&(C=[d,m]),T&&(C=[C[1],C[0]]);else{C=_.range;var w=C,N=Che(w,2);l=N[0],c=N[1]}var A=sk(_,o),j=A.realScaleType,R=A.scale;R.domain(S).range(C),lk(R);var L=ck(R,Yc(Yc({},_),{},{realScaleType:j})),M=Yc(Yc(Yc({},_),L),{},{range:C,radius:m,realScaleType:j,scale:R,cx:u,cy:f,innerRadius:d,outerRadius:m,startAngle:l,endAngle:c});return Yc(Yc({},x),{},dk({},b,M))},{})},khe=function(t,e){var r=t.x,i=t.y,o=e.x,a=e.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},Mhe=function(t,e){var r=t.x,i=t.y,o=e.cx,a=e.cy,s=khe({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(r-o)/s,c=Math.acos(l);return i>a&&(c=2*Math.PI-c),{radius:s,angle:Phe(c),angleInRadian:c}},Lhe=function(t){var e=t.startAngle,r=t.endAngle,i=Math.floor(e/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:e-a*360,endAngle:r-a*360}},Dhe=function(t,e){var r=e.startAngle,i=e.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return t+s*360},gA=function(t,e){var r=t.x,i=t.y,o=Mhe({x:r,y:i},e),a=o.radius,s=o.angle,l=e.innerRadius,c=e.outerRadius;if(a<l||a>c)return!1;if(a===0)return!0;var u=Lhe(e),f=u.startAngle,h=u.endAngle,d=s,m;if(f<=h){for(;d>h;)d-=360;for(;d<f;)d+=360;m=d>=f&&d<=h}else{for(;d>f;)d-=360;for(;d<h;)d+=360;m=d>=h&&d<=f}return m?Yc(Yc({},e),{},{radius:a,angle:Dhe(d,e)}):null},pk=function(t){return!ye.isValidElement(t)&&!Ur(t)&&typeof t!="boolean"?t.className:""};function Kg(n){"@babel/helpers - typeof";return Kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kg(n)}var Ihe=["offset"];function Rhe(n){return $he(n)||Hhe(n)||Bhe(n)||Fhe()}function Fhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bhe(n,t){if(n){if(typeof n=="string")return f_(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return f_(n,t)}}function Hhe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function $he(n){if(Array.isArray(n))return f_(n)}function f_(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function Uhe(n,t){if(n==null)return{};var e=Vhe(n,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(e[r]=n[r])}return e}function Vhe(n,t){if(n==null)return{};var e={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(t.indexOf(r)>=0)continue;e[r]=n[r]}return e}function mA(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function io(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?mA(Object(e),!0).forEach(function(r){zhe(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):mA(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function zhe(n,t,e){return t=Whe(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Whe(n){var t=qhe(n,"string");return Kg(t)=="symbol"?t:t+""}function qhe(n,t){if(Kg(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(Kg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Yg(){return Yg=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Yg.apply(this,arguments)}var Ghe=function(t){var e=t.value,r=t.formatter,i=on(t.children)?e:t.children;return Ur(r)?r(i):i},Khe=function(t,e){var r=Sa(e-t),i=Math.min(Math.abs(e-t),360);return r*i},Yhe=function(t,e,r){var i=t.position,o=t.viewBox,a=t.offset,s=t.className,l=o,c=l.cx,u=l.cy,f=l.innerRadius,h=l.outerRadius,d=l.startAngle,m=l.endAngle,g=l.clockWise,x=(f+h)/2,b=Khe(d,m),_=b>=0?1:-1,S,T;i==="insideStart"?(S=d+_*a,T=g):i==="insideEnd"?(S=m-_*a,T=!g):i==="end"&&(S=m+_*a,T=g),T=b<=0?T:!T;var C=ei(c,u,x,S),w=ei(c,u,x,S+(T?1:-1)*359),N="M".concat(C.x,",").concat(C.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(T?0:1,`,
    `).concat(w.x,",").concat(w.y),A=on(t.id)?Jp("recharts-radial-line-"):t.id;return Se.createElement("text",Yg({},r,{dominantBaseline:"central",className:cn("recharts-radial-bar-label",s)}),Se.createElement("defs",null,Se.createElement("path",{id:A,d:N})),Se.createElement("textPath",{xlinkHref:"#".concat(A)},e))},Xhe=function(t){var e=t.viewBox,r=t.offset,i=t.position,o=e,a=o.cx,s=o.cy,l=o.innerRadius,c=o.outerRadius,u=o.startAngle,f=o.endAngle,h=(u+f)/2;if(i==="outside"){var d=ei(a,s,c+r,h),m=d.x,g=d.y;return{x:m,y:g,textAnchor:m>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var x=(l+c)/2,b=ei(a,s,x,h),_=b.x,S=b.y;return{x:_,y:S,textAnchor:"middle",verticalAnchor:"middle"}},Zhe=function(t){var e=t.viewBox,r=t.parentViewBox,i=t.offset,o=t.position,a=e,s=a.x,l=a.y,c=a.width,u=a.height,f=u>=0?1:-1,h=f*i,d=f>0?"end":"start",m=f>0?"start":"end",g=c>=0?1:-1,x=g*i,b=g>0?"end":"start",_=g>0?"start":"end";if(o==="top"){var S={x:s+c/2,y:l-f*i,textAnchor:"middle",verticalAnchor:d};return io(io({},S),r?{height:Math.max(l-r.y,0),width:c}:{})}if(o==="bottom"){var T={x:s+c/2,y:l+u+h,textAnchor:"middle",verticalAnchor:m};return io(io({},T),r?{height:Math.max(r.y+r.height-(l+u),0),width:c}:{})}if(o==="left"){var C={x:s-x,y:l+u/2,textAnchor:b,verticalAnchor:"middle"};return io(io({},C),r?{width:Math.max(C.x-r.x,0),height:u}:{})}if(o==="right"){var w={x:s+c+x,y:l+u/2,textAnchor:_,verticalAnchor:"middle"};return io(io({},w),r?{width:Math.max(r.x+r.width-w.x,0),height:u}:{})}var N=r?{width:c,height:u}:{};return o==="insideLeft"?io({x:s+x,y:l+u/2,textAnchor:_,verticalAnchor:"middle"},N):o==="insideRight"?io({x:s+c-x,y:l+u/2,textAnchor:b,verticalAnchor:"middle"},N):o==="insideTop"?io({x:s+c/2,y:l+h,textAnchor:"middle",verticalAnchor:m},N):o==="insideBottom"?io({x:s+c/2,y:l+u-h,textAnchor:"middle",verticalAnchor:d},N):o==="insideTopLeft"?io({x:s+x,y:l+h,textAnchor:_,verticalAnchor:m},N):o==="insideTopRight"?io({x:s+c-x,y:l+h,textAnchor:b,verticalAnchor:m},N):o==="insideBottomLeft"?io({x:s+x,y:l+u-h,textAnchor:_,verticalAnchor:d},N):o==="insideBottomRight"?io({x:s+c-x,y:l+u-h,textAnchor:b,verticalAnchor:d},N):Bp(o)&&(Gt(o.x)||ed(o.x))&&(Gt(o.y)||ed(o.y))?io({x:s+Ta(o.x,c),y:l+Ta(o.y,u),textAnchor:"end",verticalAnchor:"end"},N):io({x:s+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},N)},Jhe=function(t){return"cx"in t&&Gt(t.cx)};function wo(n){var t=n.offset,e=t===void 0?5:t,r=Uhe(n,Ihe),i=io({offset:e},r),o=i.viewBox,a=i.position,s=i.value,l=i.children,c=i.content,u=i.className,f=u===void 0?"":u,h=i.textBreakAll;if(!o||on(s)&&on(l)&&!ye.isValidElement(c)&&!Ur(c))return null;if(ye.isValidElement(c))return ye.cloneElement(c,i);var d;if(Ur(c)){if(d=ye.createElement(c,i),ye.isValidElement(d))return d}else d=Ghe(i);var m=Jhe(o),g=kr(i,!0);if(m&&(a==="insideStart"||a==="insideEnd"||a==="end"))return Yhe(i,d,g);var x=m?Xhe(i):Zhe(i);return Se.createElement(Ed,Yg({className:cn("recharts-label",f)},g,x,{breakAll:h}),d)}wo.displayName="Label";var vk=function(t){var e=t.cx,r=t.cy,i=t.angle,o=t.startAngle,a=t.endAngle,s=t.r,l=t.radius,c=t.innerRadius,u=t.outerRadius,f=t.x,h=t.y,d=t.top,m=t.left,g=t.width,x=t.height,b=t.clockWise,_=t.labelViewBox;if(_)return _;if(Gt(g)&&Gt(x)){if(Gt(f)&&Gt(h))return{x:f,y:h,width:g,height:x};if(Gt(d)&&Gt(m))return{x:d,y:m,width:g,height:x}}return Gt(f)&&Gt(h)?{x:f,y:h,width:0,height:0}:Gt(e)&&Gt(r)?{cx:e,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:c||0,outerRadius:u||l||s||0,clockWise:b}:t.viewBox?t.viewBox:{}},Qhe=function(t,e){return t?t===!0?Se.createElement(wo,{key:"label-implicit",viewBox:e}):so(t)?Se.createElement(wo,{key:"label-implicit",viewBox:e,value:t}):ye.isValidElement(t)?t.type===wo?ye.cloneElement(t,{key:"label-implicit",viewBox:e}):Se.createElement(wo,{key:"label-implicit",content:t,viewBox:e}):Ur(t)?Se.createElement(wo,{key:"label-implicit",content:t,viewBox:e}):Bp(t)?Se.createElement(wo,Yg({viewBox:e},t,{key:"label-implicit"})):null:null},epe=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var i=t.children,o=vk(t),a=Qs(i,wo).map(function(l,c){return ye.cloneElement(l,{viewBox:e||o,key:"label-".concat(c)})});if(!r)return a;var s=Qhe(t.label,e||o);return[s].concat(Rhe(a))};wo.parseViewBox=vk;wo.renderCallByParent=epe;function Xg(n){"@babel/helpers - typeof";return Xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xg(n)}var tpe=["valueAccessor"],rpe=["data","dataKey","clockWise","id","textBreakAll"];function npe(n){return spe(n)||ape(n)||ope(n)||ipe()}function ipe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ope(n,t){if(n){if(typeof n=="string")return d_(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return d_(n,t)}}function ape(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function spe(n){if(Array.isArray(n))return d_(n)}function d_(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function q0(){return q0=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},q0.apply(this,arguments)}function yA(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function bA(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?yA(Object(e),!0).forEach(function(r){lpe(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):yA(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function lpe(n,t,e){return t=cpe(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function cpe(n){var t=upe(n,"string");return Xg(t)=="symbol"?t:t+""}function upe(n,t){if(Xg(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(Xg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function xA(n,t){if(n==null)return{};var e=fpe(n,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(e[r]=n[r])}return e}function fpe(n,t){if(n==null)return{};var e={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(t.indexOf(r)>=0)continue;e[r]=n[r]}return e}var dpe=function(t){return Array.isArray(t.value)?bee(t.value):t.value};function su(n){var t=n.valueAccessor,e=t===void 0?dpe:t,r=xA(n,tpe),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,c=xA(r,rpe);return!i||!i.length?null:Se.createElement(mn,{className:"recharts-label-list"},i.map(function(u,f){var h=on(o)?e(u,f):ao(u&&u.payload,o),d=on(s)?{}:{id:"".concat(s,"-").concat(f)};return Se.createElement(wo,q0({},kr(u,!0),c,d,{parentViewBox:u.parentViewBox,value:h,textBreakAll:l,viewBox:wo.parseViewBox(on(a)?u:bA(bA({},u),{},{clockWise:a})),key:"label-".concat(f),index:f}))}))}su.displayName="LabelList";function hpe(n,t){return n?n===!0?Se.createElement(su,{key:"labelList-implicit",data:t}):Se.isValidElement(n)||Ur(n)?Se.createElement(su,{key:"labelList-implicit",data:t,content:n}):Bp(n)?Se.createElement(su,q0({data:t},n,{key:"labelList-implicit"})):null:null}function ppe(n,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!n||!n.children&&e&&!n.label)return null;var r=n.children,i=Qs(r,su).map(function(a,s){return ye.cloneElement(a,{data:t,key:"labelList-".concat(s)})});if(!e)return i;var o=hpe(n.label,t);return[o].concat(npe(i))}su.renderCallByParent=ppe;function Zg(n){"@babel/helpers - typeof";return Zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zg(n)}function h_(){return h_=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},h_.apply(this,arguments)}function wA(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function _A(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?wA(Object(e),!0).forEach(function(r){vpe(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):wA(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function vpe(n,t,e){return t=gpe(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function gpe(n){var t=mpe(n,"string");return Zg(t)=="symbol"?t:t+""}function mpe(n,t){if(Zg(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(Zg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var ype=function(t,e){var r=Sa(e-t),i=Math.min(Math.abs(e-t),359.999);return r*i},_m=function(t){var e=t.cx,r=t.cy,i=t.radius,o=t.angle,a=t.sign,s=t.isExternal,l=t.cornerRadius,c=t.cornerIsExternal,u=l*(s?1:-1)+i,f=Math.asin(l/u)/W0,h=c?o:o+a*f,d=ei(e,r,u,h),m=ei(e,r,i,h),g=c?o-a*f:o,x=ei(e,r,u*Math.cos(f*W0),g);return{center:d,circleTangency:m,lineTangency:x,theta:f}},gk=function(t){var e=t.cx,r=t.cy,i=t.innerRadius,o=t.outerRadius,a=t.startAngle,s=t.endAngle,l=ype(a,s),c=a+l,u=ei(e,r,o,a),f=ei(e,r,o,c),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var d=ei(e,r,i,a),m=ei(e,r,i,c);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=c),`,
            `).concat(d.x,",").concat(d.y," Z")}else h+="L ".concat(e,",").concat(r," Z");return h},bpe=function(t){var e=t.cx,r=t.cy,i=t.innerRadius,o=t.outerRadius,a=t.cornerRadius,s=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,u=t.endAngle,f=Sa(u-c),h=_m({cx:e,cy:r,radius:o,angle:c,sign:f,cornerRadius:a,cornerIsExternal:l}),d=h.circleTangency,m=h.lineTangency,g=h.theta,x=_m({cx:e,cy:r,radius:o,angle:u,sign:-f,cornerRadius:a,cornerIsExternal:l}),b=x.circleTangency,_=x.lineTangency,S=x.theta,T=l?Math.abs(c-u):Math.abs(c-u)-g-S;if(T<0)return s?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):gk({cx:e,cy:r,innerRadius:i,outerRadius:o,startAngle:c,endAngle:u});var C="M ".concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(d.x,",").concat(d.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(T>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
  `);if(i>0){var w=_m({cx:e,cy:r,radius:i,angle:c,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),N=w.circleTangency,A=w.lineTangency,j=w.theta,R=_m({cx:e,cy:r,radius:i,angle:u,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),L=R.circleTangency,M=R.lineTangency,I=R.theta,D=l?Math.abs(c-u):Math.abs(c-u)-j-I;if(D<0&&a===0)return"".concat(C,"L").concat(e,",").concat(r,"Z");C+="L".concat(M.x,",").concat(M.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(L.x,",").concat(L.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(D>180),",").concat(+(f>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,"Z")}else C+="L".concat(e,",").concat(r,"Z");return C},xpe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},mk=function(t){var e=_A(_A({},xpe),t),r=e.cx,i=e.cy,o=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,f=e.endAngle,h=e.className;if(a<o||u===f)return null;var d=cn("recharts-sector",h),m=a-o,g=Ta(s,m,0,!0),x;return g>0&&Math.abs(u-f)<360?x=bpe({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:f}):x=gk({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:u,endAngle:f}),Se.createElement("path",h_({},kr(e,!0),{className:d,d:x,role:"img"}))};function Jg(n){"@babel/helpers - typeof";return Jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jg(n)}function p_(){return p_=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},p_.apply(this,arguments)}function SA(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function TA(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?SA(Object(e),!0).forEach(function(r){wpe(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):SA(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function wpe(n,t,e){return t=_pe(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function _pe(n){var t=Spe(n,"string");return Jg(t)=="symbol"?t:t+""}function Spe(n,t){if(Jg(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(Jg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var CA={curveBasisClosed:rae,curveBasisOpen:nae,curveBasis:tae,curveBumpX:$oe,curveBumpY:Uoe,curveLinearClosed:iae,curveLinear:ux,curveMonotoneX:oae,curveMonotoneY:aae,curveNatural:sae,curveStep:lae,curveStepAfter:uae,curveStepBefore:cae},Sm=function(t){return t.x===+t.x&&t.y===+t.y},jv=function(t){return t.x},kv=function(t){return t.y},Tpe=function(t,e){if(Ur(t))return t;var r="curve".concat(lx(t));return(r==="curveMonotone"||r==="curveBump")&&e?CA["".concat(r).concat(e==="vertical"?"Y":"X")]:CA[r]||ux},Cpe=function(t){var e=t.type,r=e===void 0?"linear":e,i=t.points,o=i===void 0?[]:i,a=t.baseLine,s=t.layout,l=t.connectNulls,c=l===void 0?!1:l,u=Tpe(r,s),f=c?o.filter(function(g){return Sm(g)}):o,h;if(Array.isArray(a)){var d=c?a.filter(function(g){return Sm(g)}):a,m=f.map(function(g,x){return TA(TA({},g),{},{base:d[x]})});return s==="vertical"?h=pm().y(kv).x1(jv).x0(function(g){return g.base.x}):h=pm().x(jv).y1(kv).y0(function(g){return g.base.y}),h.defined(Sm).curve(u),h(m)}return s==="vertical"&&Gt(a)?h=pm().y(kv).x1(jv).x0(a):Gt(a)?h=pm().x(jv).y1(kv).y0(a):h=L7().x(jv).y(kv),h.defined(Sm).curve(u),h(f)},Jh=function(t){var e=t.className,r=t.points,i=t.path,o=t.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?Cpe(t):i;return Se.createElement("path",p_({},kr(t,!1),x0(t),{className:cn("recharts-curve",e),d:a,ref:o}))},Epe=Object.getOwnPropertyNames,Ope=Object.getOwnPropertySymbols,Ape=Object.prototype.hasOwnProperty;function EA(n,t){return function(r,i,o){return n(r,i,o)&&t(r,i,o)}}function Tm(n){return function(e,r,i){if(!e||!r||typeof e!="object"||typeof r!="object")return n(e,r,i);var o=i.cache,a=o.get(e),s=o.get(r);if(a&&s)return a===r&&s===e;o.set(e,r),o.set(r,e);var l=n(e,r,i);return o.delete(e),o.delete(r),l}}function OA(n){return Epe(n).concat(Ope(n))}var Npe=Object.hasOwn||function(n,t){return Ape.call(n,t)};function $d(n,t){return n===t||!n&&!t&&n!==n&&t!==t}var Ppe="__v",jpe="__o",kpe="_owner",AA=Object.getOwnPropertyDescriptor,NA=Object.keys;function Mpe(n,t,e){var r=n.length;if(t.length!==r)return!1;for(;r-- >0;)if(!e.equals(n[r],t[r],r,r,n,t,e))return!1;return!0}function Lpe(n,t){return $d(n.getTime(),t.getTime())}function Dpe(n,t){return n.name===t.name&&n.message===t.message&&n.cause===t.cause&&n.stack===t.stack}function Ipe(n,t){return n===t}function PA(n,t,e){var r=n.size;if(r!==t.size)return!1;if(!r)return!0;for(var i=new Array(r),o=n.entries(),a,s,l=0;(a=o.next())&&!a.done;){for(var c=t.entries(),u=!1,f=0;(s=c.next())&&!s.done;){if(i[f]){f++;continue}var h=a.value,d=s.value;if(e.equals(h[0],d[0],l,f,n,t,e)&&e.equals(h[1],d[1],h[0],d[0],n,t,e)){u=i[f]=!0;break}f++}if(!u)return!1;l++}return!0}var Rpe=$d;function Fpe(n,t,e){var r=NA(n),i=r.length;if(NA(t).length!==i)return!1;for(;i-- >0;)if(!yk(n,t,e,r[i]))return!1;return!0}function Mv(n,t,e){var r=OA(n),i=r.length;if(OA(t).length!==i)return!1;for(var o,a,s;i-- >0;)if(o=r[i],!yk(n,t,e,o)||(a=AA(n,o),s=AA(t,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function Bpe(n,t){return $d(n.valueOf(),t.valueOf())}function Hpe(n,t){return n.source===t.source&&n.flags===t.flags}function jA(n,t,e){var r=n.size;if(r!==t.size)return!1;if(!r)return!0;for(var i=new Array(r),o=n.values(),a,s;(a=o.next())&&!a.done;){for(var l=t.values(),c=!1,u=0;(s=l.next())&&!s.done;){if(!i[u]&&e.equals(a.value,s.value,a.value,s.value,n,t,e)){c=i[u]=!0;break}u++}if(!c)return!1}return!0}function $pe(n,t){var e=n.length;if(t.length!==e)return!1;for(;e-- >0;)if(n[e]!==t[e])return!1;return!0}function Upe(n,t){return n.hostname===t.hostname&&n.pathname===t.pathname&&n.protocol===t.protocol&&n.port===t.port&&n.hash===t.hash&&n.username===t.username&&n.password===t.password}function yk(n,t,e,r){return(r===kpe||r===jpe||r===Ppe)&&(n.$$typeof||t.$$typeof)?!0:Npe(t,r)&&e.equals(n[r],t[r],r,r,n,t,e)}var Vpe="[object Arguments]",zpe="[object Boolean]",Wpe="[object Date]",qpe="[object Error]",Gpe="[object Map]",Kpe="[object Number]",Ype="[object Object]",Xpe="[object RegExp]",Zpe="[object Set]",Jpe="[object String]",Qpe="[object URL]",eve=Array.isArray,kA=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,MA=Object.assign,tve=Object.prototype.toString.call.bind(Object.prototype.toString);function rve(n){var t=n.areArraysEqual,e=n.areDatesEqual,r=n.areErrorsEqual,i=n.areFunctionsEqual,o=n.areMapsEqual,a=n.areNumbersEqual,s=n.areObjectsEqual,l=n.arePrimitiveWrappersEqual,c=n.areRegExpsEqual,u=n.areSetsEqual,f=n.areTypedArraysEqual,h=n.areUrlsEqual;return function(m,g,x){if(m===g)return!0;if(m==null||g==null)return!1;var b=typeof m;if(b!==typeof g)return!1;if(b!=="object")return b==="number"?a(m,g,x):b==="function"?i(m,g,x):!1;var _=m.constructor;if(_!==g.constructor)return!1;if(_===Object)return s(m,g,x);if(eve(m))return t(m,g,x);if(kA!=null&&kA(m))return f(m,g,x);if(_===Date)return e(m,g,x);if(_===RegExp)return c(m,g,x);if(_===Map)return o(m,g,x);if(_===Set)return u(m,g,x);var S=tve(m);return S===Wpe?e(m,g,x):S===Xpe?c(m,g,x):S===Gpe?o(m,g,x):S===Zpe?u(m,g,x):S===Ype?typeof m.then!="function"&&typeof g.then!="function"&&s(m,g,x):S===Qpe?h(m,g,x):S===qpe?r(m,g,x):S===Vpe?s(m,g,x):S===zpe||S===Kpe||S===Jpe?l(m,g,x):!1}}function nve(n){var t=n.circular,e=n.createCustomConfig,r=n.strict,i={areArraysEqual:r?Mv:Mpe,areDatesEqual:Lpe,areErrorsEqual:Dpe,areFunctionsEqual:Ipe,areMapsEqual:r?EA(PA,Mv):PA,areNumbersEqual:Rpe,areObjectsEqual:r?Mv:Fpe,arePrimitiveWrappersEqual:Bpe,areRegExpsEqual:Hpe,areSetsEqual:r?EA(jA,Mv):jA,areTypedArraysEqual:r?Mv:$pe,areUrlsEqual:Upe};if(e&&(i=MA({},i,e(i))),t){var o=Tm(i.areArraysEqual),a=Tm(i.areMapsEqual),s=Tm(i.areObjectsEqual),l=Tm(i.areSetsEqual);i=MA({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return i}function ive(n){return function(t,e,r,i,o,a,s){return n(t,e,s)}}function ove(n){var t=n.circular,e=n.comparator,r=n.createState,i=n.equals,o=n.strict;if(r)return function(l,c){var u=r(),f=u.cache,h=f===void 0?t?new WeakMap:void 0:f,d=u.meta;return e(l,c,{cache:h,equals:i,meta:d,strict:o})};if(t)return function(l,c){return e(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,c){return e(l,c,a)}}var ave=sf();sf({strict:!0});sf({circular:!0});sf({circular:!0,strict:!0});sf({createInternalComparator:function(){return $d}});sf({strict:!0,createInternalComparator:function(){return $d}});sf({circular:!0,createInternalComparator:function(){return $d}});sf({circular:!0,createInternalComparator:function(){return $d},strict:!0});function sf(n){n===void 0&&(n={});var t=n.circular,e=t===void 0?!1:t,r=n.createInternalComparator,i=n.createState,o=n.strict,a=o===void 0?!1:o,s=nve(n),l=rve(s),c=r?r(l):ive(l);return ove({circular:e,comparator:l,createState:i,equals:c,strict:a})}function sve(n){typeof requestAnimationFrame<"u"&&requestAnimationFrame(n)}function LA(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e=-1,r=function i(o){e<0&&(e=o),o-e>t?(n(o),e=-1):sve(i)};requestAnimationFrame(r)}function v_(n){"@babel/helpers - typeof";return v_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v_(n)}function lve(n){return dve(n)||fve(n)||uve(n)||cve()}function cve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uve(n,t){if(n){if(typeof n=="string")return DA(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return DA(n,t)}}function DA(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function fve(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function dve(n){if(Array.isArray(n))return n}function hve(){var n={},t=function(){return null},e=!1,r=function i(o){if(!e){if(Array.isArray(o)){if(!o.length)return;var a=o,s=lve(a),l=s[0],c=s.slice(1);if(typeof l=="number"){LA(i.bind(null,c),l);return}i(l),LA(i.bind(null,c));return}v_(o)==="object"&&(n=o,t(n)),typeof o=="function"&&o()}};return{stop:function(){e=!0},start:function(o){e=!1,r(o)},subscribe:function(o){return t=o,function(){t=function(){return null}}}}}function Qg(n){"@babel/helpers - typeof";return Qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qg(n)}function IA(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function RA(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?IA(Object(e),!0).forEach(function(r){bk(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):IA(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function bk(n,t,e){return t=pve(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function pve(n){var t=vve(n,"string");return Qg(t)==="symbol"?t:String(t)}function vve(n,t){if(Qg(n)!=="object"||n===null)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(Qg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var gve=function(t,e){return[Object.keys(t),Object.keys(e)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},mve=function(t){return t},yve=function(t){return t.replace(/([A-Z])/g,function(e){return"-".concat(e.toLowerCase())})},Jv=function(t,e){return Object.keys(e).reduce(function(r,i){return RA(RA({},r),{},bk({},i,t(i,e[i])))},{})},FA=function(t,e,r){return t.map(function(i){return"".concat(yve(i)," ").concat(e,"ms ").concat(r)}).join(",")};function bve(n,t){return _ve(n)||wve(n,t)||xk(n,t)||xve()}function xve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wve(n,t){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(e=e.call(n)).next,t!==0)for(;!(l=(r=o.call(e)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&e.return!=null&&(a=e.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function _ve(n){if(Array.isArray(n))return n}function Sve(n){return Eve(n)||Cve(n)||xk(n)||Tve()}function Tve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xk(n,t){if(n){if(typeof n=="string")return g_(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return g_(n,t)}}function Cve(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Eve(n){if(Array.isArray(n))return g_(n)}function g_(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}var G0=1e-4,wk=function(t,e){return[0,3*t,3*e-6*t,3*t-3*e+1]},_k=function(t,e){return t.map(function(r,i){return r*Math.pow(e,i)}).reduce(function(r,i){return r+i})},BA=function(t,e){return function(r){var i=wk(t,e);return _k(i,r)}},Ove=function(t,e){return function(r){var i=wk(t,e),o=[].concat(Sve(i.map(function(a,s){return a*s}).slice(1)),[0]);return _k(o,r)}},HA=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var i=e[0],o=e[1],a=e[2],s=e[3];if(e.length===1)switch(e[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=e[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),u=bve(c,4);i=u[0],o=u[1],a=u[2],s=u[3]}}}var f=BA(i,a),h=BA(o,s),d=Ove(i,a),m=function(b){return b>1?1:b<0?0:b},g=function(b){for(var _=b>1?1:b,S=_,T=0;T<8;++T){var C=f(S)-_,w=d(S);if(Math.abs(C-_)<G0||w<G0)return h(S);S=m(S-C/w)}return h(S)};return g.isStepper=!1,g},Ave=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.stiff,r=e===void 0?100:e,i=t.damping,o=i===void 0?8:i,a=t.dt,s=a===void 0?17:a,l=function(u,f,h){var d=-(u-f)*r,m=h*o,g=h+(d-m)*s/1e3,x=h*s/1e3+u;return Math.abs(x-f)<G0&&Math.abs(g)<G0?[f,0]:[x,g]};return l.isStepper=!0,l.dt=s,l},Nve=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var i=e[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return HA(i);case"spring":return Ave();default:if(i.split("(")[0]==="cubic-bezier")return HA(i)}return typeof i=="function"?i:null};function e1(n){"@babel/helpers - typeof";return e1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e1(n)}function $A(n){return kve(n)||jve(n)||Sk(n)||Pve()}function Pve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jve(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function kve(n){if(Array.isArray(n))return y_(n)}function UA(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function Lo(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?UA(Object(e),!0).forEach(function(r){m_(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):UA(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function m_(n,t,e){return t=Mve(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Mve(n){var t=Lve(n,"string");return e1(t)==="symbol"?t:String(t)}function Lve(n,t){if(e1(n)!=="object"||n===null)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(e1(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Dve(n,t){return Fve(n)||Rve(n,t)||Sk(n,t)||Ive()}function Ive(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sk(n,t){if(n){if(typeof n=="string")return y_(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return y_(n,t)}}function y_(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function Rve(n,t){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(e=e.call(n)).next,t!==0)for(;!(l=(r=o.call(e)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&e.return!=null&&(a=e.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Fve(n){if(Array.isArray(n))return n}var K0=function(t,e,r){return t+(e-t)*r},b_=function(t){var e=t.from,r=t.to;return e!==r},Bve=function n(t,e,r){var i=Jv(function(o,a){if(b_(a)){var s=t(a.from,a.to,a.velocity),l=Dve(s,2),c=l[0],u=l[1];return Lo(Lo({},a),{},{from:c,velocity:u})}return a},e);return r<1?Jv(function(o,a){return b_(a)?Lo(Lo({},a),{},{velocity:K0(a.velocity,i[o].velocity,r),from:K0(a.from,i[o].from,r)}):a},e):n(t,i,r-1)};const Hve=function(n,t,e,r,i){var o=gve(n,t),a=o.reduce(function(x,b){return Lo(Lo({},x),{},m_({},b,[n[b],t[b]]))},{}),s=o.reduce(function(x,b){return Lo(Lo({},x),{},m_({},b,{from:n[b],velocity:0,to:t[b]}))},{}),l=-1,c,u,f=function(){return null},h=function(){return Jv(function(b,_){return _.from},s)},d=function(){return!Object.values(s).filter(b_).length},m=function(b){c||(c=b);var _=b-c,S=_/e.dt;s=Bve(e,s,S),i(Lo(Lo(Lo({},n),t),h())),c=b,d()||(l=requestAnimationFrame(f))},g=function(b){u||(u=b);var _=(b-u)/r,S=Jv(function(C,w){return K0.apply(void 0,$A(w).concat([e(_)]))},a);if(i(Lo(Lo(Lo({},n),t),S)),_<1)l=requestAnimationFrame(f);else{var T=Jv(function(C,w){return K0.apply(void 0,$A(w).concat([e(1)]))},a);i(Lo(Lo(Lo({},n),t),T))}};return f=e.isStepper?m:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function mp(n){"@babel/helpers - typeof";return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mp(n)}var $ve=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Uve(n,t){if(n==null)return{};var e=Vve(n,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(e[r]=n[r])}return e}function Vve(n,t){if(n==null)return{};var e={},r=Object.keys(n),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(e[i]=n[i]);return e}function n5(n){return Gve(n)||qve(n)||Wve(n)||zve()}function zve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wve(n,t){if(n){if(typeof n=="string")return x_(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return x_(n,t)}}function qve(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Gve(n){if(Array.isArray(n))return x_(n)}function x_(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function VA(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function Ol(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?VA(Object(e),!0).forEach(function(r){$v(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):VA(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function $v(n,t,e){return t=Tk(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Kve(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function Yve(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Tk(r.key),r)}}function Xve(n,t,e){return t&&Yve(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Tk(n){var t=Zve(n,"string");return mp(t)==="symbol"?t:String(t)}function Zve(n,t){if(mp(n)!=="object"||n===null)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(mp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Jve(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&w_(n,t)}function w_(n,t){return w_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},w_(n,t)}function Qve(n){var t=ege();return function(){var r=Y0(n),i;if(t){var o=Y0(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return __(this,i)}}function __(n,t){if(t&&(mp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S_(n)}function S_(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function ege(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Y0(n){return Y0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Y0(n)}var Tc=function(n){Jve(e,n);var t=Qve(e);function e(r,i){var o;Kve(this,e),o=t.call(this,r,i);var a=o.props,s=a.isActive,l=a.attributeName,c=a.from,u=a.to,f=a.steps,h=a.children,d=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(S_(o)),o.changeStyle=o.changeStyle.bind(S_(o)),!s||d<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:u}),__(o);if(f&&f.length)o.state={style:f[0].style};else if(c){if(typeof h=="function")return o.state={style:c},__(o);o.state={style:l?$v({},l,c):c}}else o.state={style:{}};return o}return Xve(e,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,c=o.shouldReAnimate,u=o.to,f=o.from,h=this.state.style;if(s){if(!a){var d={style:l?$v({},l,u):u};this.state&&h&&(l&&h[l]!==u||!l&&h!==u)&&this.setState(d);return}if(!(ave(i.to,u)&&i.canBegin&&i.isActive)){var m=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=m||c?f:i.to;if(this.state&&h){var x={style:l?$v({},l,g):g};(l&&h[l]!==g||!l&&h!==g)&&this.setState(x)}this.runAnimation(Ol(Ol({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,c=i.easing,u=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,d=Hve(a,s,Nve(c),l,this.changeStyle),m=function(){o.stopJSAnimation=d()};this.manager.start([h,u,m,l,f])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,c=a[0],u=c.style,f=c.duration,h=f===void 0?0:f,d=function(g,x,b){if(b===0)return g;var _=x.duration,S=x.easing,T=S===void 0?"ease":S,C=x.style,w=x.properties,N=x.onAnimationEnd,A=b>0?a[b-1]:x,j=w||Object.keys(C);if(typeof T=="function"||T==="spring")return[].concat(n5(g),[o.runJSAnimation.bind(o,{from:A.style,to:C,duration:_,easing:T}),_]);var R=FA(j,_,T),L=Ol(Ol(Ol({},A.style),C),{},{transition:R});return[].concat(n5(g),[L,_,N]).filter(mve)};return this.manager.start([l].concat(n5(a.reduce(d,[u,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=hve());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,c=i.easing,u=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,d=i.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof c=="function"||typeof d=="function"||c==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var g=s?$v({},s,l):l,x=FA(Object.keys(g),a,c);m.start([u,o,Ol(Ol({},g),{},{transition:x}),a,f])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Uve(i,$ve),c=ye.Children.count(o),u=this.state.style;if(typeof o=="function")return o(u);if(!s||c===0||a<=0)return o;var f=function(d){var m=d.props,g=m.style,x=g===void 0?{}:g,b=m.className,_=ye.cloneElement(d,Ol(Ol({},l),{},{style:Ol(Ol({},x),u),className:b}));return _};return c===1?f(ye.Children.only(o)):Se.createElement("div",null,ye.Children.map(o,function(h){return f(h)}))}}]),e}(ye.PureComponent);Tc.displayName="Animate";Tc.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Tc.propTypes={from:Lt.oneOfType([Lt.object,Lt.string]),to:Lt.oneOfType([Lt.object,Lt.string]),attributeName:Lt.string,duration:Lt.number,begin:Lt.number,easing:Lt.oneOfType([Lt.string,Lt.func]),steps:Lt.arrayOf(Lt.shape({duration:Lt.number.isRequired,style:Lt.object.isRequired,easing:Lt.oneOfType([Lt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Lt.func]),properties:Lt.arrayOf("string"),onAnimationEnd:Lt.func})),children:Lt.oneOfType([Lt.node,Lt.func]),isActive:Lt.bool,canBegin:Lt.bool,onAnimationEnd:Lt.func,shouldReAnimate:Lt.bool,onAnimationStart:Lt.func,onAnimationReStart:Lt.func};function t1(n){"@babel/helpers - typeof";return t1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t1(n)}function X0(){return X0=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},X0.apply(this,arguments)}function tge(n,t){return oge(n)||ige(n,t)||nge(n,t)||rge()}function rge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nge(n,t){if(n){if(typeof n=="string")return zA(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return zA(n,t)}}function zA(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function ige(n,t){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(e=e.call(n)).next,t!==0)for(;!(l=(r=o.call(e)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&e.return!=null&&(a=e.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function oge(n){if(Array.isArray(n))return n}function WA(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function qA(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?WA(Object(e),!0).forEach(function(r){age(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):WA(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function age(n,t,e){return t=sge(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function sge(n){var t=lge(n,"string");return t1(t)=="symbol"?t:t+""}function lge(n,t){if(t1(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(t1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var GA=function(t,e,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,u;if(a>0&&o instanceof Array){for(var f=[0,0,0,0],h=0,d=4;h<d;h++)f[h]=o[h]>a?a:o[h];u="M".concat(t,",").concat(e+s*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(t+l*f[0],",").concat(e)),u+="L ".concat(t+r-l*f[1],",").concat(e),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(t+r,",").concat(e+s*f[1])),u+="L ".concat(t+r,",").concat(e+i-s*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(t+r-l*f[2],",").concat(e+i)),u+="L ".concat(t+l*f[3],",").concat(e+i),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(e+i-s*f[3])),u+="Z"}else if(a>0&&o===+o&&o>0){var m=Math.min(a,o);u="M ".concat(t,",").concat(e+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+l*m,",").concat(e,`
            L `).concat(t+r-l*m,",").concat(e,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+r,",").concat(e+s*m,`
            L `).concat(t+r,",").concat(e+i-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+r-l*m,",").concat(e+i,`
            L `).concat(t+l*m,",").concat(e+i,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t,",").concat(e+i-s*m," Z")}else u="M ".concat(t,",").concat(e," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return u},cge=function(t,e){if(!t||!e)return!1;var r=t.x,i=t.y,o=e.x,a=e.y,s=e.width,l=e.height;if(Math.abs(s)>0&&Math.abs(l)>0){var c=Math.min(o,o+s),u=Math.max(o,o+s),f=Math.min(a,a+l),h=Math.max(a,a+l);return r>=c&&r<=u&&i>=f&&i<=h}return!1},uge={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},m4=function(t){var e=qA(qA({},uge),t),r=ye.useRef(),i=ye.useState(-1),o=tge(i,2),a=o[0],s=o[1];ye.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var T=r.current.getTotalLength();T&&s(T)}catch{}},[]);var l=e.x,c=e.y,u=e.width,f=e.height,h=e.radius,d=e.className,m=e.animationEasing,g=e.animationDuration,x=e.animationBegin,b=e.isAnimationActive,_=e.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||u===0||f===0)return null;var S=cn("recharts-rectangle",d);return _?Se.createElement(Tc,{canBegin:a>0,from:{width:u,height:f,x:l,y:c},to:{width:u,height:f,x:l,y:c},duration:g,animationEasing:m,isActive:_},function(T){var C=T.width,w=T.height,N=T.x,A=T.y;return Se.createElement(Tc,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:g,isActive:b,easing:m},Se.createElement("path",X0({},kr(e,!0),{className:S,d:GA(N,A,C,w,h),ref:r})))}):Se.createElement("path",X0({},kr(e,!0),{className:S,d:GA(l,c,u,f,h)}))},fge=["points","className","baseLinePoints","connectNulls"];function Th(){return Th=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Th.apply(this,arguments)}function dge(n,t){if(n==null)return{};var e=hge(n,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(e[r]=n[r])}return e}function hge(n,t){if(n==null)return{};var e={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(t.indexOf(r)>=0)continue;e[r]=n[r]}return e}function KA(n){return mge(n)||gge(n)||vge(n)||pge()}function pge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vge(n,t){if(n){if(typeof n=="string")return T_(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return T_(n,t)}}function gge(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function mge(n){if(Array.isArray(n))return T_(n)}function T_(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}var YA=function(t){return t&&t.x===+t.x&&t.y===+t.y},yge=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=[[]];return t.forEach(function(r){YA(r)?e[e.length-1].push(r):e[e.length-1].length>0&&e.push([])}),YA(t[0])&&e[e.length-1].push(t[0]),e[e.length-1].length<=0&&(e=e.slice(0,-1)),e},Qv=function(t,e){var r=yge(t);e&&(r=[r.reduce(function(o,a){return[].concat(KA(o),KA(a))},[])]);var i=r.map(function(o){return o.reduce(function(a,s,l){return"".concat(a).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},bge=function(t,e,r){var i=Qv(t,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Qv(e.reverse(),r).slice(1))},xge=function(t){var e=t.points,r=t.className,i=t.baseLinePoints,o=t.connectNulls,a=dge(t,fge);if(!e||!e.length)return null;var s=cn("recharts-polygon",r);if(i&&i.length){var l=a.stroke&&a.stroke!=="none",c=bge(e,i,o);return Se.createElement("g",{className:s},Se.createElement("path",Th({},kr(a,!0),{fill:c.slice(-1)==="Z"?a.fill:"none",stroke:"none",d:c})),l?Se.createElement("path",Th({},kr(a,!0),{fill:"none",d:Qv(e,o)})):null,l?Se.createElement("path",Th({},kr(a,!0),{fill:"none",d:Qv(i,o)})):null)}var u=Qv(e,o);return Se.createElement("path",Th({},kr(a,!0),{fill:u.slice(-1)==="Z"?a.fill:"none",className:s,d:u}))};function C_(){return C_=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},C_.apply(this,arguments)}var Cx=function(t){var e=t.cx,r=t.cy,i=t.r,o=t.className,a=cn("recharts-dot",o);return e===+e&&r===+r&&i===+i?Se.createElement("circle",C_({},kr(t,!1),x0(t),{className:a,cx:e,cy:r,r:i})):null};function r1(n){"@babel/helpers - typeof";return r1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r1(n)}var wge=["x","y","top","left","width","height","className"];function E_(){return E_=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},E_.apply(this,arguments)}function XA(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function _ge(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?XA(Object(e),!0).forEach(function(r){Sge(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):XA(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function Sge(n,t,e){return t=Tge(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Tge(n){var t=Cge(n,"string");return r1(t)=="symbol"?t:t+""}function Cge(n,t){if(r1(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(r1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Ege(n,t){if(n==null)return{};var e=Oge(n,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(e[r]=n[r])}return e}function Oge(n,t){if(n==null)return{};var e={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(t.indexOf(r)>=0)continue;e[r]=n[r]}return e}var Age=function(t,e,r,i,o,a){return"M".concat(t,",").concat(o,"v").concat(i,"M").concat(a,",").concat(e,"h").concat(r)},Nge=function(t){var e=t.x,r=e===void 0?0:e,i=t.y,o=i===void 0?0:i,a=t.top,s=a===void 0?0:a,l=t.left,c=l===void 0?0:l,u=t.width,f=u===void 0?0:u,h=t.height,d=h===void 0?0:h,m=t.className,g=Ege(t,wge),x=_ge({x:r,y:o,top:s,left:c,width:f,height:d},g);return!Gt(r)||!Gt(o)||!Gt(f)||!Gt(d)||!Gt(s)||!Gt(c)?null:Se.createElement("path",E_({},kr(x,!0),{className:cn("recharts-cross",m),d:Age(r,o,f,d,s,c)}))},Pge=xx,jge=Bj,kge=Wl;function Mge(n,t){return n&&n.length?Pge(n,kge(t),jge):void 0}var Lge=Mge;const Dge=hn(Lge);var Ige=xx,Rge=Wl,Fge=Hj;function Bge(n,t){return n&&n.length?Ige(n,Rge(t),Fge):void 0}var Hge=Bge;const $ge=hn(Hge);var Uge=["cx","cy","angle","ticks","axisLine"],Vge=["ticks","tick","angle","tickFormatter","stroke"];function yp(n){"@babel/helpers - typeof";return yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yp(n)}function eg(){return eg=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},eg.apply(this,arguments)}function ZA(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function Rf(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?ZA(Object(e),!0).forEach(function(r){Ex(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):ZA(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function JA(n,t){if(n==null)return{};var e=zge(n,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(e[r]=n[r])}return e}function zge(n,t){if(n==null)return{};var e={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(t.indexOf(r)>=0)continue;e[r]=n[r]}return e}function Wge(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function QA(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Ek(r.key),r)}}function qge(n,t,e){return t&&QA(n.prototype,t),e&&QA(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function Gge(n,t,e){return t=Z0(t),Kge(n,Ck()?Reflect.construct(t,e||[],Z0(n).constructor):t.apply(n,e))}function Kge(n,t){if(t&&(yp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yge(n)}function Yge(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Ck(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ck=function(){return!!n})()}function Z0(n){return Z0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Z0(n)}function Xge(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&O_(n,t)}function O_(n,t){return O_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},O_(n,t)}function Ex(n,t,e){return t=Ek(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Ek(n){var t=Zge(n,"string");return yp(t)=="symbol"?t:t+""}function Zge(n,t){if(yp(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(yp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var Ox=function(n){function t(){return Wge(this,t),Gge(this,t,arguments)}return Xge(t,n),qge(t,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,o=this.props,a=o.angle,s=o.cx,l=o.cy;return ei(s,l,i,a)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.angle,s=r.ticks,l=Dge(s,function(u){return u.coordinate||0}),c=$ge(s,function(u){return u.coordinate||0});return{cx:i,cy:o,startAngle:a,endAngle:a,innerRadius:c.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.angle,s=r.ticks,l=r.axisLine,c=JA(r,Uge),u=s.reduce(function(m,g){return[Math.min(m[0],g.coordinate),Math.max(m[1],g.coordinate)]},[1/0,-1/0]),f=ei(i,o,u[0],a),h=ei(i,o,u[1],a),d=Rf(Rf(Rf({},kr(c,!1)),{},{fill:"none"},kr(l,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return Se.createElement("line",eg({className:"recharts-polar-radius-axis-line"},d))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,a=i.tick,s=i.angle,l=i.tickFormatter,c=i.stroke,u=JA(i,Vge),f=this.getTickTextAnchor(),h=kr(u,!1),d=kr(a,!1),m=o.map(function(g,x){var b=r.getTickValueCoord(g),_=Rf(Rf(Rf(Rf({textAnchor:f,transform:"rotate(".concat(90-s,", ").concat(b.x,", ").concat(b.y,")")},h),{},{stroke:"none",fill:c},d),{},{index:x},b),{},{payload:g});return Se.createElement(mn,eg({className:cn("recharts-polar-radius-axis-tick",pk(a)),key:"tick-".concat(g.coordinate)},Cd(r.props,g,x)),t.renderTickItem(a,_,l?l(g.value,x):g.value))});return Se.createElement(mn,{className:"recharts-polar-radius-axis-ticks"},m)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.axisLine,a=r.tick;return!i||!i.length?null:Se.createElement(mn,{className:cn("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),a&&this.renderTicks(),wo.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,o){var a;return Se.isValidElement(r)?a=Se.cloneElement(r,i):Ur(r)?a=r(i):a=Se.createElement(Ed,eg({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),a}}])}(ye.PureComponent);Ex(Ox,"displayName","PolarRadiusAxis");Ex(Ox,"axisType","radiusAxis");Ex(Ox,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function bp(n){"@babel/helpers - typeof";return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bp(n)}function Kf(){return Kf=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Kf.apply(this,arguments)}function e3(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function Ff(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?e3(Object(e),!0).forEach(function(r){Ax(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):e3(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function Jge(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function t3(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Ak(r.key),r)}}function Qge(n,t,e){return t&&t3(n.prototype,t),e&&t3(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function e1e(n,t,e){return t=J0(t),t1e(n,Ok()?Reflect.construct(t,e||[],J0(n).constructor):t.apply(n,e))}function t1e(n,t){if(t&&(bp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r1e(n)}function r1e(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Ok(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ok=function(){return!!n})()}function J0(n){return J0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},J0(n)}function n1e(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&A_(n,t)}function A_(n,t){return A_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},A_(n,t)}function Ax(n,t,e){return t=Ak(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Ak(n){var t=i1e(n,"string");return bp(t)=="symbol"?t:t+""}function i1e(n,t){if(bp(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(bp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var o1e=Math.PI/180,r3=1e-5,Nx=function(n){function t(){return Jge(this,t),e1e(this,t,arguments)}return n1e(t,n),Qge(t,[{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.cx,a=i.cy,s=i.radius,l=i.orientation,c=i.tickSize,u=c||8,f=ei(o,a,s,r.coordinate),h=ei(o,a,s+(l==="inner"?-1:1)*u,r.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,o=Math.cos(-r.coordinate*o1e),a;return o>r3?a=i==="outer"?"start":"end":o<-r3?a=i==="outer"?"end":"start":a="middle",a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.radius,s=r.axisLine,l=r.axisLineType,c=Ff(Ff({},kr(this.props,!1)),{},{fill:"none"},kr(s,!1));if(l==="circle")return Se.createElement(Cx,Kf({className:"recharts-polar-angle-axis-line"},c,{cx:i,cy:o,r:a}));var u=this.props.ticks,f=u.map(function(h){return ei(i,o,a,h.coordinate)});return Se.createElement(xge,Kf({className:"recharts-polar-angle-axis-line"},c,{points:f}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,a=i.tick,s=i.tickLine,l=i.tickFormatter,c=i.stroke,u=kr(this.props,!1),f=kr(a,!1),h=Ff(Ff({},u),{},{fill:"none"},kr(s,!1)),d=o.map(function(m,g){var x=r.getTickLineCoord(m),b=r.getTickTextAnchor(m),_=Ff(Ff(Ff({textAnchor:b},u),{},{stroke:"none",fill:c},f),{},{index:g,payload:m,x:x.x2,y:x.y2});return Se.createElement(mn,Kf({className:cn("recharts-polar-angle-axis-tick",pk(a)),key:"tick-".concat(m.coordinate)},Cd(r.props,m,g)),s&&Se.createElement("line",Kf({className:"recharts-polar-angle-axis-tick-line"},h,x)),a&&t.renderTickItem(a,_,l?l(m.value,g):m.value))});return Se.createElement(mn,{className:"recharts-polar-angle-axis-ticks"},d)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.radius,a=r.axisLine;return o<=0||!i||!i.length?null:Se.createElement(mn,{className:cn("recharts-polar-angle-axis",this.props.className)},a&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,o){var a;return Se.isValidElement(r)?a=Se.cloneElement(r,i):Ur(r)?a=r(i):a=Se.createElement(Ed,Kf({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),a}}])}(ye.PureComponent);Ax(Nx,"displayName","PolarAngleAxis");Ax(Nx,"axisType","angleAxis");Ax(Nx,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var a1e=pu,s1e=zl,l1e="[object Boolean]";function c1e(n){return n===!0||n===!1||s1e(n)&&a1e(n)==l1e}var u1e=c1e;const f1e=hn(u1e);function n1(n){"@babel/helpers - typeof";return n1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n1(n)}function Q0(){return Q0=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Q0.apply(this,arguments)}function d1e(n,t){return g1e(n)||v1e(n,t)||p1e(n,t)||h1e()}function h1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p1e(n,t){if(n){if(typeof n=="string")return n3(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return n3(n,t)}}function n3(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function v1e(n,t){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(e=e.call(n)).next,t!==0)for(;!(l=(r=o.call(e)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&e.return!=null&&(a=e.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function g1e(n){if(Array.isArray(n))return n}function i3(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function o3(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?i3(Object(e),!0).forEach(function(r){m1e(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):i3(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function m1e(n,t,e){return t=y1e(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function y1e(n){var t=b1e(n,"string");return n1(t)=="symbol"?t:t+""}function b1e(n,t){if(n1(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(n1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var a3=function(t,e,r,i,o){var a=r-i,s;return s="M ".concat(t,",").concat(e),s+="L ".concat(t+r,",").concat(e),s+="L ".concat(t+r-a/2,",").concat(e+o),s+="L ".concat(t+r-a/2-i,",").concat(e+o),s+="L ".concat(t,",").concat(e," Z"),s},x1e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},w1e=function(t){var e=o3(o3({},x1e),t),r=ye.useRef(),i=ye.useState(-1),o=d1e(i,2),a=o[0],s=o[1];ye.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&s(S)}catch{}},[]);var l=e.x,c=e.y,u=e.upperWidth,f=e.lowerWidth,h=e.height,d=e.className,m=e.animationEasing,g=e.animationDuration,x=e.animationBegin,b=e.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||h!==+h||u===0&&f===0||h===0)return null;var _=cn("recharts-trapezoid",d);return b?Se.createElement(Tc,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:u,lowerWidth:f,height:h,x:l,y:c},duration:g,animationEasing:m,isActive:b},function(S){var T=S.upperWidth,C=S.lowerWidth,w=S.height,N=S.x,A=S.y;return Se.createElement(Tc,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:g,easing:m},Se.createElement("path",Q0({},kr(e,!0),{className:_,d:a3(N,A,T,C,w),ref:r})))}):Se.createElement("g",null,Se.createElement("path",Q0({},kr(e,!0),{className:_,d:a3(l,c,u,f,h)})))},_1e=["option","shapeType","propTransformer","activeClassName","isActive"];function i1(n){"@babel/helpers - typeof";return i1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i1(n)}function S1e(n,t){if(n==null)return{};var e=T1e(n,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(e[r]=n[r])}return e}function T1e(n,t){if(n==null)return{};var e={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(t.indexOf(r)>=0)continue;e[r]=n[r]}return e}function s3(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function ey(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?s3(Object(e),!0).forEach(function(r){C1e(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):s3(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function C1e(n,t,e){return t=E1e(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function E1e(n){var t=O1e(n,"string");return i1(t)=="symbol"?t:t+""}function O1e(n,t){if(i1(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(i1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function A1e(n,t){return ey(ey({},t),n)}function N1e(n,t){return n==="symbols"}function l3(n){var t=n.shapeType,e=n.elementProps;switch(t){case"rectangle":return Se.createElement(m4,e);case"trapezoid":return Se.createElement(w1e,e);case"sector":return Se.createElement(mk,e);case"symbols":if(N1e(t))return Se.createElement(VT,e);break;default:return null}}function P1e(n){return ye.isValidElement(n)?n.props:n}function Nk(n){var t=n.option,e=n.shapeType,r=n.propTransformer,i=r===void 0?A1e:r,o=n.activeClassName,a=o===void 0?"recharts-active-shape":o,s=n.isActive,l=S1e(n,_1e),c;if(ye.isValidElement(t))c=ye.cloneElement(t,ey(ey({},l),P1e(t)));else if(Ur(t))c=t(l);else if(Bee(t)&&!f1e(t)){var u=i(t,l);c=Se.createElement(l3,{shapeType:e,elementProps:u})}else{var f=l;c=Se.createElement(l3,{shapeType:e,elementProps:f})}return s?Se.createElement(mn,{className:a},c):c}function Px(n,t){return t!=null&&"trapezoids"in n.props}function jx(n,t){return t!=null&&"sectors"in n.props}function o1(n,t){return t!=null&&"points"in n.props}function j1e(n,t){var e,r,i=n.x===(t==null||(e=t.labelViewBox)===null||e===void 0?void 0:e.x)||n.x===t.x,o=n.y===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.y)||n.y===t.y;return i&&o}function k1e(n,t){var e=n.endAngle===t.endAngle,r=n.startAngle===t.startAngle;return e&&r}function M1e(n,t){var e=n.x===t.x,r=n.y===t.y,i=n.z===t.z;return e&&r&&i}function L1e(n,t){var e;return Px(n,t)?e=j1e:jx(n,t)?e=k1e:o1(n,t)&&(e=M1e),e}function D1e(n,t){var e;return Px(n,t)?e="trapezoids":jx(n,t)?e="sectors":o1(n,t)&&(e="points"),e}function I1e(n,t){if(Px(n,t)){var e;return(e=t.tooltipPayload)===null||e===void 0||(e=e[0])===null||e===void 0||(e=e.payload)===null||e===void 0?void 0:e.payload}if(jx(n,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return o1(n,t)?t.payload:{}}function R1e(n){var t=n.activeTooltipItem,e=n.graphicalItem,r=n.itemData,i=D1e(e,t),o=I1e(e,t),a=r.filter(function(l,c){var u=_d(o,l),f=e.props[i].filter(function(m){var g=L1e(e,t);return g(m,t)}),h=e.props[i].indexOf(f[f.length-1]),d=c===h;return u&&d}),s=r.indexOf(a[a.length-1]);return s}var Ym;function xp(n){"@babel/helpers - typeof";return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xp(n)}function Ch(){return Ch=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Ch.apply(this,arguments)}function c3(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function Zn(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?c3(Object(e),!0).forEach(function(r){Xs(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):c3(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function F1e(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function u3(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,jk(r.key),r)}}function B1e(n,t,e){return t&&u3(n.prototype,t),e&&u3(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function H1e(n,t,e){return t=ty(t),$1e(n,Pk()?Reflect.construct(t,e||[],ty(n).constructor):t.apply(n,e))}function $1e(n,t){if(t&&(xp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U1e(n)}function U1e(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Pk(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Pk=function(){return!!n})()}function ty(n){return ty=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ty(n)}function V1e(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&N_(n,t)}function N_(n,t){return N_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},N_(n,t)}function Xs(n,t,e){return t=jk(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function jk(n){var t=z1e(n,"string");return xp(t)=="symbol"?t:t+""}function z1e(n,t){if(xp(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(xp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var gu=function(n){function t(e){var r;return F1e(this,t),r=H1e(this,t,[e]),Xs(r,"pieRef",null),Xs(r,"sectorRefs",[]),Xs(r,"id",Jp("recharts-pie-")),Xs(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ur(i)&&i()}),Xs(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ur(i)&&i()}),r.state={isAnimationFinished:!e.isAnimationActive,prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,sectorToFocus:0},r}return V1e(t,n),B1e(t,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.label,s=o.labelLine,l=o.dataKey,c=o.valueKey,u=kr(this.props,!1),f=kr(a,!1),h=kr(s,!1),d=a&&a.offsetRadius||20,m=r.map(function(g,x){var b=(g.startAngle+g.endAngle)/2,_=ei(g.cx,g.cy,g.outerRadius+d,b),S=Zn(Zn(Zn(Zn({},u),g),{},{stroke:"none"},f),{},{index:x,textAnchor:t.getTextAnchor(_.x,g.cx)},_),T=Zn(Zn(Zn(Zn({},u),g),{},{fill:"none",stroke:g.fill},h),{},{index:x,points:[ei(g.cx,g.cy,g.outerRadius,b),_]}),C=l;return on(l)&&on(c)?C="value":on(l)&&(C=c),Se.createElement(mn,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(x)},s&&t.renderLabelLineItem(s,T,"line"),t.renderLabelItem(a,S,ao(g,C)))});return Se.createElement(mn,{className:"recharts-pie-labels"},m)}},{key:"renderSectorsStatically",value:function(r){var i=this,o=this.props,a=o.activeShape,s=o.blendStroke,l=o.inactiveShape;return r.map(function(c,u){if((c==null?void 0:c.startAngle)===0&&(c==null?void 0:c.endAngle)===0&&r.length!==1)return null;var f=i.isActiveIndex(u),h=l&&i.hasActiveIndex()?l:null,d=f?a:h,m=Zn(Zn({},c),{},{stroke:s?c.fill:c.stroke,tabIndex:-1});return Se.createElement(mn,Ch({ref:function(x){x&&!i.sectorRefs.includes(x)&&i.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},Cd(i.props,c,u),{key:"sector-".concat(c==null?void 0:c.startAngle,"-").concat(c==null?void 0:c.endAngle,"-").concat(c.midAngle,"-").concat(u)}),Se.createElement(Nk,Ch({option:d,isActive:f,shapeType:"sector"},m)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,o=i.sectors,a=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,c=i.animationEasing,u=i.animationId,f=this.state,h=f.prevSectors,d=f.prevIsAnimationActive;return Se.createElement(Tc,{begin:s,duration:l,isActive:a,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(d),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(m){var g=m.t,x=[],b=o&&o[0],_=b.startAngle;return o.forEach(function(S,T){var C=h&&h[T],w=T>0?Ts(S,"paddingAngle",0):0;if(C){var N=za(C.endAngle-C.startAngle,S.endAngle-S.startAngle),A=Zn(Zn({},S),{},{startAngle:_+w,endAngle:_+N(g)+w});x.push(A),_=A.endAngle}else{var j=S.endAngle,R=S.startAngle,L=za(0,j-R),M=L(g),I=Zn(Zn({},S),{},{startAngle:_+w,endAngle:_+M+w});x.push(I),_=I.endAngle}}),Se.createElement(mn,null,r.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var a=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,o=r.isAnimationActive,a=this.state.prevSectors;return o&&i&&i.length&&(!a||!_d(a,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,o=i.hide,a=i.sectors,s=i.className,l=i.label,c=i.cx,u=i.cy,f=i.innerRadius,h=i.outerRadius,d=i.isAnimationActive,m=this.state.isAnimationFinished;if(o||!a||!a.length||!Gt(c)||!Gt(u)||!Gt(f)||!Gt(h))return null;var g=cn("recharts-pie",s);return Se.createElement(mn,{tabIndex:this.props.rootTabIndex,className:g,ref:function(b){r.pieRef=b}},this.renderSectors(),l&&this.renderLabels(a),wo.renderCallByParent(this.props,null,!1),(!d||m)&&su.renderCallByParent(this.props,a,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,o){if(Se.isValidElement(r))return Se.cloneElement(r,i);if(Ur(r))return r(i);var a=cn("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return Se.createElement(Jh,Ch({},i,{key:o,type:"linear",className:a}))}},{key:"renderLabelItem",value:function(r,i,o){if(Se.isValidElement(r))return Se.cloneElement(r,i);var a=o;if(Ur(r)&&(a=r(i),Se.isValidElement(a)))return a;var s=cn("recharts-pie-label-text",typeof r!="boolean"&&!Ur(r)?r.className:"");return Se.createElement(Ed,Ch({},i,{alignmentBaseline:"middle",className:s}),a)}}])}(ye.PureComponent);Ym=gu;Xs(gu,"displayName","Pie");Xs(gu,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Fd.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Xs(gu,"parseDeltaAngle",function(n,t){var e=Sa(t-n),r=Math.min(Math.abs(t-n),360);return e*r});Xs(gu,"getRealPieData",function(n){var t=n.data,e=n.children,r=kr(n,!1),i=Qs(e,hx);return t&&t.length?t.map(function(o,a){return Zn(Zn(Zn({payload:o},r),o),i&&i[a]&&i[a].props)}):i&&i.length?i.map(function(o){return Zn(Zn({},r),o.props)}):[]});Xs(gu,"parseCoordinateOfPie",function(n,t){var e=t.top,r=t.left,i=t.width,o=t.height,a=hk(i,o),s=r+Ta(n.cx,i,i/2),l=e+Ta(n.cy,o,o/2),c=Ta(n.innerRadius,a,0),u=Ta(n.outerRadius,a,a*.8),f=n.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:s,cy:l,innerRadius:c,outerRadius:u,maxRadius:f}});Xs(gu,"getComposedData",function(n){var t=n.item,e=n.offset,r=t.type.defaultProps!==void 0?Zn(Zn({},t.type.defaultProps),t.props):t.props,i=Ym.getRealPieData(r);if(!i||!i.length)return null;var o=r.cornerRadius,a=r.startAngle,s=r.endAngle,l=r.paddingAngle,c=r.dataKey,u=r.nameKey,f=r.valueKey,h=r.tooltipType,d=Math.abs(r.minAngle),m=Ym.parseCoordinateOfPie(r,e),g=Ym.parseDeltaAngle(a,s),x=Math.abs(g),b=c;on(c)&&on(f)?(Bl(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):on(c)&&(Bl(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=f);var _=i.filter(function(A){return ao(A,b,0)!==0}).length,S=(x>=360?_:_-1)*l,T=x-_*d-S,C=i.reduce(function(A,j){var R=ao(j,b,0);return A+(Gt(R)?R:0)},0),w;if(C>0){var N;w=i.map(function(A,j){var R=ao(A,b,0),L=ao(A,u,j),M=(Gt(R)?R:0)/C,I;j?I=N.endAngle+Sa(g)*l*(R!==0?1:0):I=a;var D=I+Sa(g)*((R!==0?d:0)+M*T),V=(I+D)/2,F=(m.innerRadius+m.outerRadius)/2,G=[{name:L,value:R,payload:A,dataKey:b,type:h}],W=ei(m.cx,m.cy,F,V);return N=Zn(Zn(Zn({percent:M,cornerRadius:o,name:L,tooltipPayload:G,midAngle:V,middleRadius:F,tooltipPosition:W},A),m),{},{value:ao(A,b),startAngle:I,endAngle:D,payload:A,paddingAngle:Sa(g)*l}),N})}return Zn(Zn({},m),{},{sectors:w,data:i})});function a1(n){"@babel/helpers - typeof";return a1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a1(n)}function f3(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function d3(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?f3(Object(e),!0).forEach(function(r){kk(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):f3(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function kk(n,t,e){return t=W1e(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function W1e(n){var t=q1e(n,"string");return a1(t)=="symbol"?t:t+""}function q1e(n,t){if(a1(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(a1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var G1e=["Webkit","Moz","O","ms"],K1e=function(t,e){var r=t.replace(/(\w)/,function(o){return o.toUpperCase()}),i=G1e.reduce(function(o,a){return d3(d3({},o),{},kk({},a+r,e))},{});return i[t]=e,i};function wp(n){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wp(n)}function ry(){return ry=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},ry.apply(this,arguments)}function h3(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function i5(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?h3(Object(e),!0).forEach(function(r){vs(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):h3(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function Y1e(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function p3(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Lk(r.key),r)}}function X1e(n,t,e){return t&&p3(n.prototype,t),e&&p3(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function Z1e(n,t,e){return t=ny(t),J1e(n,Mk()?Reflect.construct(t,e||[],ny(n).constructor):t.apply(n,e))}function J1e(n,t){if(t&&(wp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q1e(n)}function Q1e(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Mk(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mk=function(){return!!n})()}function ny(n){return ny=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ny(n)}function eme(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&P_(n,t)}function P_(n,t){return P_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},P_(n,t)}function vs(n,t,e){return t=Lk(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Lk(n){var t=tme(n,"string");return wp(t)=="symbol"?t:t+""}function tme(n,t){if(wp(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(wp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var rme=function(t){var e=t.data,r=t.startIndex,i=t.endIndex,o=t.x,a=t.width,s=t.travellerWidth;if(!e||!e.length)return{};var l=e.length,c=Xv().domain(Ag(0,l)).range([o,o+a-s]),u=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:u}},v3=function(t){return t.changedTouches&&!!t.changedTouches.length},_p=function(n){function t(e){var r;return Y1e(this,t),r=Z1e(this,t,[e]),vs(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),vs(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),vs(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a==null||a({endIndex:o,startIndex:s})}),r.detachDragEndListener()}),vs(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),vs(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),vs(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),vs(r,"handleSlideDragStart",function(i){var o=v3(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return eme(t,n),X1e(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,s=this.props,l=s.gap,c=s.data,u=c.length-1,f=Math.min(i,o),h=Math.max(i,o),d=t.getIndexInRange(a,f),m=t.getIndexInRange(a,h);return{startIndex:d-d%l,endIndex:m===u?u:m-m%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=ao(o[r],s,r);return Ur(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,c=l.x,u=l.width,f=l.travellerWidth,h=l.startIndex,d=l.endIndex,m=l.onChange,g=r.pageX-o;g>0?g=Math.min(g,c+u-f-s,c+u-f-a):g<0&&(g=Math.max(g,c-a,c-s));var x=this.getIndex({startX:a+g,endX:s+g});(x.startIndex!==h||x.endIndex!==d)&&m&&m(x),this.setState({startX:a+g,endX:s+g,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=v3(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,c=this.state[a],u=this.props,f=u.x,h=u.width,d=u.travellerWidth,m=u.onChange,g=u.gap,x=u.data,b={startX:this.state.startX,endX:this.state.endX},_=r.pageX-o;_>0?_=Math.min(_,f+h-d-c):_<0&&(_=Math.max(_,f-c)),b[a]=c+_;var S=this.getIndex(b),T=S.startIndex,C=S.endIndex,w=function(){var A=x.length-1;return a==="startX"&&(s>l?T%g===0:C%g===0)||s<l&&C===A||a==="endX"&&(s>l?C%g===0:T%g===0)||s>l&&C===A};this.setState(vs(vs({},a,c+_),"brushMoveStartX",r.pageX),function(){m&&w()&&m(S)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,c=a.endX,u=this.state[i],f=s.indexOf(u);if(f!==-1){var h=f+r;if(!(h===-1||h>=s.length)){var d=s[h];i==="startX"&&d>=c||i==="endX"&&d<=l||this.setState(vs({},i,d),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.fill,c=r.stroke;return Se.createElement("rect",{stroke:c,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.data,c=r.children,u=r.padding,f=ye.Children.only(c);return f?Se.cloneElement(f,{x:i,y:o,width:a,height:s,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,s=this,l=this.props,c=l.y,u=l.travellerWidth,f=l.height,h=l.traveller,d=l.ariaLabel,m=l.data,g=l.startIndex,x=l.endIndex,b=Math.max(r,this.props.x),_=i5(i5({},kr(this.props,!1)),{},{x:b,y:c,width:u,height:f}),S=d||"Min value: ".concat((o=m[g])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=m[x])===null||a===void 0?void 0:a.name);return Se.createElement(mn,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(C){["ArrowLeft","ArrowRight"].includes(C.key)&&(C.preventDefault(),C.stopPropagation(),s.handleTravellerMoveKeyboard(C.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,_))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,c=o.travellerWidth,u=Math.min(r,i)+c,f=Math.max(Math.abs(i-r)-c,0);return Se.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:a,width:f,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,s=r.height,l=r.travellerWidth,c=r.stroke,u=this.state,f=u.startX,h=u.endX,d=5,m={pointerEvents:"none",fill:c};return Se.createElement(mn,{className:"recharts-brush-texts"},Se.createElement(Ed,ry({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-d,y:a+s/2},m),this.getTextOfTick(i)),Se.createElement(Ed,ry({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+d,y:a+s/2},m),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,s=r.x,l=r.y,c=r.width,u=r.height,f=r.alwaysShowText,h=this.state,d=h.startX,m=h.endX,g=h.isTextActive,x=h.isSlideMoving,b=h.isTravellerMoving,_=h.isTravellerFocused;if(!i||!i.length||!Gt(s)||!Gt(l)||!Gt(c)||!Gt(u)||c<=0||u<=0)return null;var S=cn("recharts-brush",o),T=Se.Children.count(a)===1,C=K1e("userSelect","none");return Se.createElement(mn,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:C},this.renderBackground(),T&&this.renderPanorama(),this.renderSlide(d,m),this.renderTravellerLayer(d,"startX"),this.renderTravellerLayer(m,"endX"),(g||x||b||_||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,s=r.height,l=r.stroke,c=Math.floor(o+s/2)-1;return Se.createElement(Se.Fragment,null,Se.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),Se.createElement("line",{x1:i+1,y1:c,x2:i+a-1,y2:c,fill:"none",stroke:"#fff"}),Se.createElement("line",{x1:i+1,y1:c+2,x2:i+a-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return Se.isValidElement(r)?o=Se.cloneElement(r,i):Ur(r)?o=r(i):o=t.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,s=r.x,l=r.travellerWidth,c=r.updateId,u=r.startIndex,f=r.endIndex;if(o!==i.prevData||c!==i.prevUpdateId)return i5({prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:a},o&&o.length?rme({data:o,width:a,x:s,travellerWidth:l,startIndex:u,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var h=i.scale.domain().map(function(d){return i.scale(d)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);r[l]>i?s=l:a=l}return i>=r[s]?s:a}}])}(ye.PureComponent);vs(_p,"displayName","Brush");vs(_p,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var nme=CT;function ime(n,t){var e;return nme(n,function(r,i,o){return e=t(r,i,o),!e}),!!e}var ome=ime,ame=aP,sme=Wl,lme=ome,cme=ia,ume=$p;function fme(n,t,e){var r=cme(n)?ame:lme;return e&&ume(n,t,e)&&(t=void 0),r(n,sme(t))}var dme=fme;const hme=hn(dme);var wc=function(t,e){var r=t.alwaysShow,i=t.ifOverflow;return r&&(i="extendDomain"),i===e};function pme(n,t){for(var e=-1,r=n==null?0:n.length;++e<r;)if(!t(n[e],e,n))return!1;return!0}var vme=pme,gme=CT;function mme(n,t){var e=!0;return gme(n,function(r,i,o){return e=!!t(r,i,o),e}),e}var yme=mme,bme=vme,xme=yme,wme=Wl,_me=ia,Sme=$p;function Tme(n,t,e){var r=_me(n)?bme:xme;return e&&Sme(n,t,e)&&(t=void 0),r(n,wme(t))}var Cme=Tme;const Dk=hn(Cme);var Eme=["x","y"];function s1(n){"@babel/helpers - typeof";return s1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s1(n)}function j_(){return j_=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},j_.apply(this,arguments)}function g3(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function Lv(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?g3(Object(e),!0).forEach(function(r){Ome(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):g3(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function Ome(n,t,e){return t=Ame(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Ame(n){var t=Nme(n,"string");return s1(t)=="symbol"?t:t+""}function Nme(n,t){if(s1(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(s1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Pme(n,t){if(n==null)return{};var e=jme(n,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(e[r]=n[r])}return e}function jme(n,t){if(n==null)return{};var e={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(t.indexOf(r)>=0)continue;e[r]=n[r]}return e}function kme(n,t){var e=n.x,r=n.y,i=Pme(n,Eme),o="".concat(e),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),c="".concat(t.height||i.height),u=parseInt(c,10),f="".concat(t.width||i.width),h=parseInt(f,10);return Lv(Lv(Lv(Lv(Lv({},t),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function m3(n){return Se.createElement(Nk,j_({shapeType:"rectangle",propTransformer:kme,activeClassName:"recharts-active-bar"},n))}var Mme=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof t=="number")return t;var o=typeof r=="number";return o?t(r,i):(o||Ad(),e)}},Lme=["value","background"],Ik;function Sp(n){"@babel/helpers - typeof";return Sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sp(n)}function Dme(n,t){if(n==null)return{};var e=Ime(n,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(e[r]=n[r])}return e}function Ime(n,t){if(n==null)return{};var e={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(t.indexOf(r)>=0)continue;e[r]=n[r]}return e}function iy(){return iy=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},iy.apply(this,arguments)}function y3(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function Ki(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?y3(Object(e),!0).forEach(function(r){Vu(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):y3(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function Rme(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function b3(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Fk(r.key),r)}}function Fme(n,t,e){return t&&b3(n.prototype,t),e&&b3(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function Bme(n,t,e){return t=oy(t),Hme(n,Rk()?Reflect.construct(t,e||[],oy(n).constructor):t.apply(n,e))}function Hme(n,t){if(t&&(Sp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $me(n)}function $me(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Rk(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Rk=function(){return!!n})()}function oy(n){return oy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},oy(n)}function Ume(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&k_(n,t)}function k_(n,t){return k_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},k_(n,t)}function Vu(n,t,e){return t=Fk(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Fk(n){var t=Vme(n,"string");return Sp(t)=="symbol"?t:t+""}function Vme(n,t){if(Sp(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(Sp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var j1=function(n){function t(){var e;Rme(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=Bme(this,t,[].concat(i)),Vu(e,"state",{isAnimationFinished:!1}),Vu(e,"id",Jp("recharts-bar-")),Vu(e,"handleAnimationEnd",function(){var a=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),a&&a()}),Vu(e,"handleAnimationStart",function(){var a=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),a&&a()}),e}return Ume(t,n),Fme(t,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,c=o.activeBar,u=kr(this.props,!1);return r&&r.map(function(f,h){var d=h===l,m=d?c:a,g=Ki(Ki(Ki({},u),f),{},{isActive:d,option:m,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return Se.createElement(mn,iy({className:"recharts-bar-rectangle"},Cd(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),Se.createElement(m3,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,f=i.animationId,h=this.state.prevData;return Se.createElement(Tc,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(d){var m=d.t,g=o.map(function(x,b){var _=h&&h[b];if(_){var S=za(_.x,x.x),T=za(_.y,x.y),C=za(_.width,x.width),w=za(_.height,x.height);return Ki(Ki({},x),{},{x:S(m),y:T(m),width:C(m),height:w(m)})}if(a==="horizontal"){var N=za(0,x.height),A=N(m);return Ki(Ki({},x),{},{y:x.y+x.height-A,height:A})}var j=za(0,x.width),R=j(m);return Ki(Ki({},x),{},{width:R})});return Se.createElement(mn,null,r.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!_d(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=kr(this.props.background,!1);return o.map(function(c,u){c.value;var f=c.background,h=Dme(c,Lme);if(!f)return null;var d=Ki(Ki(Ki(Ki(Ki({},h),{},{fill:"#eee"},f),l),Cd(r.props,c,u)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:u,className:"recharts-bar-background-rectangle"});return Se.createElement(m3,iy({key:"background-bar-".concat(u),option:r.props.background,isActive:u===s},d))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,c=o.layout,u=o.children,f=Qs(u,Tx);if(!f)return null;var h=c==="vertical"?a[0].height/2:a[0].width/2,d=function(x,b){var _=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:_,errorVal:ao(x,b)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return Se.createElement(mn,m,f.map(function(g){return Se.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:a,xAxis:s,yAxis:l,layout:c,offset:h,dataPointFormatter:d})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,s=r.xAxis,l=r.yAxis,c=r.left,u=r.top,f=r.width,h=r.height,d=r.isAnimationActive,m=r.background,g=r.id;if(i||!o||!o.length)return null;var x=this.state.isAnimationFinished,b=cn("recharts-bar",a),_=s&&s.allowDataOverflow,S=l&&l.allowDataOverflow,T=_||S,C=on(g)?this.id:g;return Se.createElement(mn,{className:b},_||S?Se.createElement("defs",null,Se.createElement("clipPath",{id:"clipPath-".concat(C)},Se.createElement("rect",{x:_?c:c-f/2,y:S?u:u-h/2,width:_?f:f*2,height:S?h:h*2}))):null,Se.createElement(mn,{className:"recharts-bar-rectangles",clipPath:T?"url(#clipPath-".concat(C,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(T,C),(!d||x)&&su.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(ye.PureComponent);Ik=j1;Vu(j1,"displayName","Bar");Vu(j1,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Fd.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Vu(j1,"getComposedData",function(n){var t=n.props,e=n.item,r=n.barPosition,i=n.bandSize,o=n.xAxis,a=n.yAxis,s=n.xAxisTicks,l=n.yAxisTicks,c=n.stackedData,u=n.dataStartIndex,f=n.displayedData,h=n.offset,d=hhe(r,e);if(!d)return null;var m=t.layout,g=e.type.defaultProps,x=g!==void 0?Ki(Ki({},g),e.props):e.props,b=x.dataKey,_=x.children,S=x.minPointSize,T=m==="horizontal"?a:o,C=c?T.scale.domain():null,w=xhe({numericAxis:T}),N=Qs(_,hx),A=f.map(function(j,R){var L,M,I,D,V,F;c?L=phe(c[u+R],C):(L=ao(j,b),Array.isArray(L)||(L=[w,L]));var G=Mme(S,Ik.defaultProps.minPointSize)(L[1],R);if(m==="horizontal"){var W,Y=[a.scale(L[0]),a.scale(L[1])],te=Y[0],he=Y[1];M=uA({axis:o,ticks:s,bandSize:i,offset:d.offset,entry:j,index:R}),I=(W=he??te)!==null&&W!==void 0?W:void 0,D=d.size;var z=te-he;if(V=Number.isNaN(z)?0:z,F={x:M,y:a.y,width:D,height:a.height},Math.abs(G)>0&&Math.abs(V)<Math.abs(G)){var Z=Sa(V||G)*(Math.abs(G)-Math.abs(V));I-=Z,V+=Z}}else{var X=[o.scale(L[0]),o.scale(L[1])],ae=X[0],ve=X[1];if(M=ae,I=uA({axis:a,ticks:l,bandSize:i,offset:d.offset,entry:j,index:R}),D=ve-ae,V=d.size,F={x:o.x,y:I,width:o.width,height:V},Math.abs(G)>0&&Math.abs(D)<Math.abs(G)){var me=Sa(D||G)*(Math.abs(G)-Math.abs(D));D+=me}}return Ki(Ki(Ki({},j),{},{x:M,y:I,width:D,height:V,value:c?L:L[1],payload:j,background:F},N&&N[R]&&N[R].props),{},{tooltipPayload:[fk(e,j)],tooltipPosition:{x:M+D/2,y:I+V/2}})});return Ki({data:A,layout:m},h)});function l1(n){"@babel/helpers - typeof";return l1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l1(n)}function zme(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function x3(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Bk(r.key),r)}}function Wme(n,t,e){return t&&x3(n.prototype,t),e&&x3(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function w3(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function Ml(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?w3(Object(e),!0).forEach(function(r){kx(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):w3(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function kx(n,t,e){return t=Bk(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Bk(n){var t=qme(n,"string");return l1(t)=="symbol"?t:t+""}function qme(n,t){if(l1(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(l1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var Gme=function(t,e,r,i,o){var a=t.width,s=t.height,l=t.layout,c=t.children,u=Object.keys(e),f={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!ms(c,j1);return u.reduce(function(d,m){var g=e[m],x=g.orientation,b=g.domain,_=g.padding,S=_===void 0?{}:_,T=g.mirror,C=g.reversed,w="".concat(x).concat(T?"Mirror":""),N,A,j,R,L;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var M=b[1]-b[0],I=1/0,D=g.categoricalDomain.sort(jie);if(D.forEach(function(X,ae){ae>0&&(I=Math.min((X||0)-(D[ae-1]||0),I))}),Number.isFinite(I)){var V=I/M,F=g.layout==="vertical"?r.height:r.width;if(g.padding==="gap"&&(N=V*F/2),g.padding==="no-gap"){var G=Ta(t.barCategoryGap,V*F),W=V*F/2;N=W-G-(W-G)/F*G}}}i==="xAxis"?A=[r.left+(S.left||0)+(N||0),r.left+r.width-(S.right||0)-(N||0)]:i==="yAxis"?A=l==="horizontal"?[r.top+r.height-(S.bottom||0),r.top+(S.top||0)]:[r.top+(S.top||0)+(N||0),r.top+r.height-(S.bottom||0)-(N||0)]:A=g.range,C&&(A=[A[1],A[0]]);var Y=sk(g,o,h),te=Y.scale,he=Y.realScaleType;te.domain(b).range(A),lk(te);var z=ck(te,Ml(Ml({},g),{},{realScaleType:he}));i==="xAxis"?(L=x==="top"&&!T||x==="bottom"&&T,j=r.left,R=f[w]-L*g.height):i==="yAxis"&&(L=x==="left"&&!T||x==="right"&&T,j=f[w]-L*g.width,R=r.top);var Z=Ml(Ml(Ml({},g),z),{},{realScaleType:he,x:j,y:R,scale:te,width:i==="xAxis"?r.width:g.width,height:i==="yAxis"?r.height:g.height});return Z.bandSize=z0(Z,z),!g.hide&&i==="xAxis"?f[w]+=(L?-1:1)*Z.height:g.hide||(f[w]+=(L?-1:1)*Z.width),Ml(Ml({},d),{},kx({},m,Z))},{})},Hk=function(t,e){var r=t.x,i=t.y,o=e.x,a=e.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},Kme=function(t){var e=t.x1,r=t.y1,i=t.x2,o=t.y2;return Hk({x:e,y:r},{x:i,y:o})},$k=function(){function n(t){zme(this,n),this.scale=t}return Wme(n,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(e!==void 0){if(o)switch(o){case"start":return this.scale(e);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+l}return this.scale(e)}}},{key:"isInRange",value:function(e){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?e>=i&&e<=o:e>=o&&e<=i}}],[{key:"create",value:function(e){return new n(e)}}])}();kx($k,"EPS",1e-4);var y4=function(t){var e=Object.keys(t).reduce(function(r,i){return Ml(Ml({},r),{},kx({},i,$k.create(t[i])))},{});return Ml(Ml({},e),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return FP(i,function(l,c){return e[c].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return Dk(i,function(o,a){return e[a].isInRange(o)})}})};function Yme(n){return(n%180+180)%180}var Xme=function(t){var e=t.width,r=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Yme(i),a=o*Math.PI/180,s=Math.atan(r/e),l=a>s&&a<Math.PI-s?r/Math.sin(a):e/Math.cos(a);return Math.abs(l)},Zme=Wl,Jme=Hp,Qme=Gp;function e0e(n){return function(t,e,r){var i=Object(t);if(!Jme(t)){var o=Zme(e);t=Qme(t),e=function(s){return o(i[s],s,i)}}var a=n(t,e,r);return a>-1?i[o?t[a]:a]:void 0}}var t0e=e0e,r0e=t0e,n0e=AP,i0e=r0e(n0e),o0e=i0e;const a0e=hn(o0e);var s0e=QG(function(n){return{x:n.left,y:n.top,width:n.width,height:n.height}},function(n){return["l",n.left,"t",n.top,"w",n.width,"h",n.height].join("")}),b4=ye.createContext(void 0),x4=ye.createContext(void 0),Uk=ye.createContext(void 0),Vk=ye.createContext({}),zk=ye.createContext(void 0),Wk=ye.createContext(0),qk=ye.createContext(0),_3=function(t){var e=t.state,r=e.xAxisMap,i=e.yAxisMap,o=e.offset,a=t.clipPathId,s=t.children,l=t.width,c=t.height,u=s0e(o);return Se.createElement(b4.Provider,{value:r},Se.createElement(x4.Provider,{value:i},Se.createElement(Vk.Provider,{value:o},Se.createElement(Uk.Provider,{value:u},Se.createElement(zk.Provider,{value:a},Se.createElement(Wk.Provider,{value:c},Se.createElement(qk.Provider,{value:l},s)))))))},l0e=function(){return ye.useContext(zk)},Gk=function(t){var e=ye.useContext(b4);e==null&&Ad();var r=e[t];return r==null&&Ad(),r},c0e=function(){var t=ye.useContext(b4);return Hu(t)},u0e=function(){var t=ye.useContext(x4),e=a0e(t,function(r){return Dk(r.domain,Number.isFinite)});return e||Hu(t)},Kk=function(t){var e=ye.useContext(x4);e==null&&Ad();var r=e[t];return r==null&&Ad(),r},f0e=function(){var t=ye.useContext(Uk);return t},d0e=function(){return ye.useContext(Vk)},w4=function(){return ye.useContext(qk)},_4=function(){return ye.useContext(Wk)};function Tp(n){"@babel/helpers - typeof";return Tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tp(n)}function h0e(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function p0e(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Xk(r.key),r)}}function v0e(n,t,e){return t&&p0e(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function g0e(n,t,e){return t=ay(t),m0e(n,Yk()?Reflect.construct(t,e||[],ay(n).constructor):t.apply(n,e))}function m0e(n,t){if(t&&(Tp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y0e(n)}function y0e(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Yk(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Yk=function(){return!!n})()}function ay(n){return ay=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ay(n)}function b0e(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&M_(n,t)}function M_(n,t){return M_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},M_(n,t)}function S3(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function T3(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?S3(Object(e),!0).forEach(function(r){S4(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):S3(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function S4(n,t,e){return t=Xk(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Xk(n){var t=x0e(n,"string");return Tp(t)=="symbol"?t:t+""}function x0e(n,t){if(Tp(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(Tp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function w0e(n,t){return C0e(n)||T0e(n,t)||S0e(n,t)||_0e()}function _0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S0e(n,t){if(n){if(typeof n=="string")return C3(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return C3(n,t)}}function C3(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function T0e(n,t){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(e=e.call(n)).next,t!==0)for(;!(l=(r=o.call(e)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&e.return!=null&&(a=e.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function C0e(n){if(Array.isArray(n))return n}function L_(){return L_=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},L_.apply(this,arguments)}var E0e=function(t,e){var r;return Se.isValidElement(t)?r=Se.cloneElement(t,e):Ur(t)?r=t(e):r=Se.createElement("line",L_({},e,{className:"recharts-reference-line-line"})),r},O0e=function(t,e,r,i,o,a,s,l,c){var u=o.x,f=o.y,h=o.width,d=o.height;if(r){var m=c.y,g=t.y.apply(m,{position:a});if(wc(c,"discard")&&!t.y.isInRange(g))return null;var x=[{x:u+h,y:g},{x:u,y:g}];return l==="left"?x.reverse():x}if(e){var b=c.x,_=t.x.apply(b,{position:a});if(wc(c,"discard")&&!t.x.isInRange(_))return null;var S=[{x:_,y:f+d},{x:_,y:f}];return s==="top"?S.reverse():S}if(i){var T=c.segment,C=T.map(function(w){return t.apply(w,{position:a})});return wc(c,"discard")&&hme(C,function(w){return!t.isInRange(w)})?null:C}return null};function A0e(n){var t=n.x,e=n.y,r=n.segment,i=n.xAxisId,o=n.yAxisId,a=n.shape,s=n.className,l=n.alwaysShow,c=l0e(),u=Gk(i),f=Kk(o),h=f0e();if(!c||!h)return null;Bl(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=y4({x:u.scale,y:f.scale}),m=so(t),g=so(e),x=r&&r.length===2,b=O0e(d,m,g,x,h,n.position,u.orientation,f.orientation,n);if(!b)return null;var _=w0e(b,2),S=_[0],T=S.x,C=S.y,w=_[1],N=w.x,A=w.y,j=wc(n,"hidden")?"url(#".concat(c,")"):void 0,R=T3(T3({clipPath:j},kr(n,!0)),{},{x1:T,y1:C,x2:N,y2:A});return Se.createElement(mn,{className:cn("recharts-reference-line",s)},E0e(a,R),wo.renderCallByParent(n,Kme({x1:T,y1:C,x2:N,y2:A})))}var T4=function(n){function t(){return h0e(this,t),g0e(this,t,arguments)}return b0e(t,n),v0e(t,[{key:"render",value:function(){return Se.createElement(A0e,this.props)}}])}(Se.Component);S4(T4,"displayName","ReferenceLine");S4(T4,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function D_(){return D_=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},D_.apply(this,arguments)}function Cp(n){"@babel/helpers - typeof";return Cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cp(n)}function E3(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function O3(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?E3(Object(e),!0).forEach(function(r){Mx(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):E3(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function N0e(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function P0e(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Jk(r.key),r)}}function j0e(n,t,e){return t&&P0e(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function k0e(n,t,e){return t=sy(t),M0e(n,Zk()?Reflect.construct(t,e||[],sy(n).constructor):t.apply(n,e))}function M0e(n,t){if(t&&(Cp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L0e(n)}function L0e(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Zk(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Zk=function(){return!!n})()}function sy(n){return sy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},sy(n)}function D0e(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&I_(n,t)}function I_(n,t){return I_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},I_(n,t)}function Mx(n,t,e){return t=Jk(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Jk(n){var t=I0e(n,"string");return Cp(t)=="symbol"?t:t+""}function I0e(n,t){if(Cp(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(Cp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var R0e=function(t){var e=t.x,r=t.y,i=t.xAxis,o=t.yAxis,a=y4({x:i.scale,y:o.scale}),s=a.apply({x:e,y:r},{bandAware:!0});return wc(t,"discard")&&!a.isInRange(s)?null:s},Lx=function(n){function t(){return N0e(this,t),k0e(this,t,arguments)}return D0e(t,n),j0e(t,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,a=r.r,s=r.alwaysShow,l=r.clipPathId,c=so(i),u=so(o);if(Bl(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var f=R0e(this.props);if(!f)return null;var h=f.x,d=f.y,m=this.props,g=m.shape,x=m.className,b=wc(this.props,"hidden")?"url(#".concat(l,")"):void 0,_=O3(O3({clipPath:b},kr(this.props,!0)),{},{cx:h,cy:d});return Se.createElement(mn,{className:cn("recharts-reference-dot",x)},t.renderDot(g,_),wo.renderCallByParent(this.props,{x:h-a,y:d-a,width:2*a,height:2*a}))}}])}(Se.Component);Mx(Lx,"displayName","ReferenceDot");Mx(Lx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Mx(Lx,"renderDot",function(n,t){var e;return Se.isValidElement(n)?e=Se.cloneElement(n,t):Ur(n)?e=n(t):e=Se.createElement(Cx,D_({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),e});function R_(){return R_=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},R_.apply(this,arguments)}function Ep(n){"@babel/helpers - typeof";return Ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ep(n)}function A3(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function N3(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?A3(Object(e),!0).forEach(function(r){Dx(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):A3(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function F0e(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function B0e(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,eM(r.key),r)}}function H0e(n,t,e){return t&&B0e(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function $0e(n,t,e){return t=ly(t),U0e(n,Qk()?Reflect.construct(t,e||[],ly(n).constructor):t.apply(n,e))}function U0e(n,t){if(t&&(Ep(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V0e(n)}function V0e(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Qk(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Qk=function(){return!!n})()}function ly(n){return ly=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ly(n)}function z0e(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&F_(n,t)}function F_(n,t){return F_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},F_(n,t)}function Dx(n,t,e){return t=eM(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function eM(n){var t=W0e(n,"string");return Ep(t)=="symbol"?t:t+""}function W0e(n,t){if(Ep(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(Ep(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var q0e=function(t,e,r,i,o){var a=o.x1,s=o.x2,l=o.y1,c=o.y2,u=o.xAxis,f=o.yAxis;if(!u||!f)return null;var h=y4({x:u.scale,y:f.scale}),d={x:t?h.x.apply(a,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},m={x:e?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(c,{position:"end"}):h.y.rangeMax};return wc(o,"discard")&&(!h.isInRange(d)||!h.isInRange(m))?null:Hk(d,m)},Ix=function(n){function t(){return F0e(this,t),$0e(this,t,arguments)}return z0e(t,n),H0e(t,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,a=r.y1,s=r.y2,l=r.className,c=r.alwaysShow,u=r.clipPathId;Bl(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=so(i),h=so(o),d=so(a),m=so(s),g=this.props.shape;if(!f&&!h&&!d&&!m&&!g)return null;var x=q0e(f,h,d,m,this.props);if(!x&&!g)return null;var b=wc(this.props,"hidden")?"url(#".concat(u,")"):void 0;return Se.createElement(mn,{className:cn("recharts-reference-area",l)},t.renderRect(g,N3(N3({clipPath:b},kr(this.props,!0)),x)),wo.renderCallByParent(this.props,x))}}])}(Se.Component);Dx(Ix,"displayName","ReferenceArea");Dx(Ix,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Dx(Ix,"renderRect",function(n,t){var e;return Se.isValidElement(n)?e=Se.cloneElement(n,t):Ur(n)?e=n(t):e=Se.createElement(m4,R_({},t,{className:"recharts-reference-area-rect"})),e});function tM(n,t,e){if(t<1)return[];if(t===1&&e===void 0)return n;for(var r=[],i=0;i<n.length;i+=t)r.push(n[i]);return r}function G0e(n,t,e){var r={width:n.width+t.width,height:n.height+t.height};return Xme(r,e)}function K0e(n,t,e){var r=e==="width",i=n.x,o=n.y,a=n.width,s=n.height;return t===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function cy(n,t,e,r,i){if(n*t<n*r||n*t>n*i)return!1;var o=e();return n*(t-n*o/2-r)>=0&&n*(t+n*o/2-i)<=0}function Y0e(n,t){return tM(n,t+1)}function X0e(n,t,e,r,i){for(var o=(r||[]).slice(),a=t.start,s=t.end,l=0,c=1,u=a,f=function(){var m=r==null?void 0:r[l];if(m===void 0)return{v:tM(r,c)};var g=l,x,b=function(){return x===void 0&&(x=e(m,g)),x},_=m.coordinate,S=l===0||cy(n,_,b,u,s);S||(l=0,u=a,c+=1),S&&(u=_+n*(b()/2+i),l+=c)},h;c<=o.length;)if(h=f(),h)return h.v;return[]}function c1(n){"@babel/helpers - typeof";return c1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c1(n)}function P3(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function Jo(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?P3(Object(e),!0).forEach(function(r){Z0e(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):P3(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function Z0e(n,t,e){return t=J0e(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function J0e(n){var t=Q0e(n,"string");return c1(t)=="symbol"?t:t+""}function Q0e(n,t){if(c1(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(c1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function eye(n,t,e,r,i){for(var o=(r||[]).slice(),a=o.length,s=t.start,l=t.end,c=function(h){var d=o[h],m,g=function(){return m===void 0&&(m=e(d,h)),m};if(h===a-1){var x=n*(d.coordinate+n*g()/2-l);o[h]=d=Jo(Jo({},d),{},{tickCoord:x>0?d.coordinate-x*n:d.coordinate})}else o[h]=d=Jo(Jo({},d),{},{tickCoord:d.coordinate});var b=cy(n,d.tickCoord,g,s,l);b&&(l=d.tickCoord-n*(g()/2+i),o[h]=Jo(Jo({},d),{},{isShow:!0}))},u=a-1;u>=0;u--)c(u);return o}function tye(n,t,e,r,i,o){var a=(r||[]).slice(),s=a.length,l=t.start,c=t.end;if(o){var u=r[s-1],f=e(u,s-1),h=n*(u.coordinate+n*f/2-c);a[s-1]=u=Jo(Jo({},u),{},{tickCoord:h>0?u.coordinate-h*n:u.coordinate});var d=cy(n,u.tickCoord,function(){return f},l,c);d&&(c=u.tickCoord-n*(f/2+i),a[s-1]=Jo(Jo({},u),{},{isShow:!0}))}for(var m=o?s-1:s,g=function(_){var S=a[_],T,C=function(){return T===void 0&&(T=e(S,_)),T};if(_===0){var w=n*(S.coordinate-n*C()/2-l);a[_]=S=Jo(Jo({},S),{},{tickCoord:w<0?S.coordinate-w*n:S.coordinate})}else a[_]=S=Jo(Jo({},S),{},{tickCoord:S.coordinate});var N=cy(n,S.tickCoord,C,l,c);N&&(l=S.tickCoord+n*(C()/2+i),a[_]=Jo(Jo({},S),{},{isShow:!0}))},x=0;x<m;x++)g(x);return a}function C4(n,t,e){var r=n.tick,i=n.ticks,o=n.viewBox,a=n.minTickGap,s=n.orientation,l=n.interval,c=n.tickFormatter,u=n.unit,f=n.angle;if(!i||!i.length||!r)return[];if(Gt(l)||Fd.isSsr)return Y0e(i,typeof l=="number"&&Gt(l)?l:0);var h=[],d=s==="top"||s==="bottom"?"width":"height",m=u&&d==="width"?Yv(u,{fontSize:t,letterSpacing:e}):{width:0,height:0},g=function(S,T){var C=Ur(c)?c(S.value,T):S.value;return d==="width"?G0e(Yv(C,{fontSize:t,letterSpacing:e}),m,f):Yv(C,{fontSize:t,letterSpacing:e})[d]},x=i.length>=2?Sa(i[1].coordinate-i[0].coordinate):1,b=K0e(o,x,d);return l==="equidistantPreserveStart"?X0e(x,b,g,i,a):(l==="preserveStart"||l==="preserveStartEnd"?h=tye(x,b,g,i,a,l==="preserveStartEnd"):h=eye(x,b,g,i,a),h.filter(function(_){return _.isShow}))}var rye=["viewBox"],nye=["viewBox"],iye=["ticks"];function Op(n){"@babel/helpers - typeof";return Op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Op(n)}function Eh(){return Eh=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Eh.apply(this,arguments)}function j3(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function va(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?j3(Object(e),!0).forEach(function(r){E4(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):j3(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function o5(n,t){if(n==null)return{};var e=oye(n,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(e[r]=n[r])}return e}function oye(n,t){if(n==null)return{};var e={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(t.indexOf(r)>=0)continue;e[r]=n[r]}return e}function aye(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function k3(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,nM(r.key),r)}}function sye(n,t,e){return t&&k3(n.prototype,t),e&&k3(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function lye(n,t,e){return t=uy(t),cye(n,rM()?Reflect.construct(t,e||[],uy(n).constructor):t.apply(n,e))}function cye(n,t){if(t&&(Op(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uye(n)}function uye(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function rM(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rM=function(){return!!n})()}function uy(n){return uy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},uy(n)}function fye(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&B_(n,t)}function B_(n,t){return B_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},B_(n,t)}function E4(n,t,e){return t=nM(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function nM(n){var t=dye(n,"string");return Op(t)=="symbol"?t:t+""}function dye(n,t){if(Op(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(Op(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var rv=function(n){function t(e){var r;return aye(this,t),r=lye(this,t,[e]),r.state={fontSize:"",letterSpacing:""},r}return fye(t,n),sye(t,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=o5(r,rye),s=this.props,l=s.viewBox,c=o5(s,nye);return!Yh(o,l)||!Yh(a,c)||!Yh(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,c=i.orientation,u=i.tickSize,f=i.mirror,h=i.tickMargin,d,m,g,x,b,_,S=f?-1:1,T=r.tickSize||u,C=Gt(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":d=m=r.coordinate,x=a+ +!f*l,g=x-S*T,_=g-S*h,b=C;break;case"left":g=x=r.coordinate,m=o+ +!f*s,d=m-S*T,b=d-S*h,_=C;break;case"right":g=x=r.coordinate,m=o+ +f*s,d=m+S*T,b=d+S*h,_=C;break;default:d=m=r.coordinate,x=a+ +f*l,g=x+S*T,_=g+S*h,b=C;break}return{line:{x1:d,y1:g,x2:m,y2:x},tick:{x:b,y:_}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.orientation,c=r.mirror,u=r.axisLine,f=va(va(va({},kr(this.props,!1)),kr(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);f=va(va({},f),{},{x1:i,y1:o+h*s,x2:i+a,y2:o+h*s})}else{var d=+(l==="left"&&!c||l==="right"&&c);f=va(va({},f),{},{x1:i+d*a,y1:o,x2:i+d*a,y2:o+s})}return Se.createElement("line",Eh({},f,{className:cn("recharts-cartesian-axis-line",Ts(u,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,s=this.props,l=s.tickLine,c=s.stroke,u=s.tick,f=s.tickFormatter,h=s.unit,d=C4(va(va({},this.props),{},{ticks:r}),i,o),m=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),x=kr(this.props,!1),b=kr(u,!1),_=va(va({},x),{},{fill:"none"},kr(l,!1)),S=d.map(function(T,C){var w=a.getTickLineCoord(T),N=w.line,A=w.tick,j=va(va(va(va({textAnchor:m,verticalAnchor:g},x),{},{stroke:"none",fill:c},b),A),{},{index:C,payload:T,visibleTicksCount:d.length,tickFormatter:f});return Se.createElement(mn,Eh({className:"recharts-cartesian-axis-tick",key:"tick-".concat(T.value,"-").concat(T.coordinate,"-").concat(T.tickCoord)},Cd(a.props,T,C)),l&&Se.createElement("line",Eh({},_,N,{className:cn("recharts-cartesian-axis-tick-line",Ts(l,"className"))})),u&&t.renderTickItem(u,j,"".concat(Ur(f)?f(T.value,C):T.value).concat(h||"")))});return Se.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,c=i.className,u=i.hide;if(u)return null;var f=this.props,h=f.ticks,d=o5(f,iye),m=h;return Ur(l)&&(m=h&&h.length>0?l(this.props):l(d)),a<=0||s<=0||!m||!m.length?null:Se.createElement(mn,{className:cn("recharts-cartesian-axis",c),ref:function(x){r.layerReference=x}},o&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),wo.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a;return Se.isValidElement(r)?a=Se.cloneElement(r,i):Ur(r)?a=r(i):a=Se.createElement(Ed,Eh({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])}(ye.Component);E4(rv,"displayName","CartesianAxis");E4(rv,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var hye=["x1","y1","x2","y2","key"],pye=["offset"];function Nd(n){"@babel/helpers - typeof";return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nd(n)}function M3(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function ea(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?M3(Object(e),!0).forEach(function(r){vye(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):M3(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function vye(n,t,e){return t=gye(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function gye(n){var t=mye(n,"string");return Nd(t)=="symbol"?t:t+""}function mye(n,t){if(Nd(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(Nd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function nd(){return nd=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},nd.apply(this,arguments)}function L3(n,t){if(n==null)return{};var e=yye(n,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(e[r]=n[r])}return e}function yye(n,t){if(n==null)return{};var e={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(t.indexOf(r)>=0)continue;e[r]=n[r]}return e}var bye=function(t){var e=t.fill;if(!e||e==="none")return null;var r=t.fillOpacity,i=t.x,o=t.y,a=t.width,s=t.height,l=t.ry;return Se.createElement("rect",{x:i,y:o,ry:l,width:a,height:s,stroke:"none",fill:e,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function iM(n,t){var e;if(Se.isValidElement(n))e=Se.cloneElement(n,t);else if(Ur(n))e=n(t);else{var r=t.x1,i=t.y1,o=t.x2,a=t.y2,s=t.key,l=L3(t,hye),c=kr(l,!1);c.offset;var u=L3(c,pye);e=Se.createElement("line",nd({},u,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:s}))}return e}function xye(n){var t=n.x,e=n.width,r=n.horizontal,i=r===void 0?!0:r,o=n.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var c=ea(ea({},n),{},{x1:t,y1:s,x2:t+e,y2:s,key:"line-".concat(l),index:l});return iM(i,c)});return Se.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function wye(n){var t=n.y,e=n.height,r=n.vertical,i=r===void 0?!0:r,o=n.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var c=ea(ea({},n),{},{x1:s,y1:t,x2:s,y2:t+e,key:"line-".concat(l),index:l});return iM(i,c)});return Se.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function _ye(n){var t=n.horizontalFill,e=n.fillOpacity,r=n.x,i=n.y,o=n.width,a=n.height,s=n.horizontalPoints,l=n.horizontal,c=l===void 0?!0:l;if(!c||!t||!t.length)return null;var u=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,d){return h-d});i!==u[0]&&u.unshift(0);var f=u.map(function(h,d){var m=!u[d+1],g=m?i+a-h:u[d+1]-h;if(g<=0)return null;var x=d%t.length;return Se.createElement("rect",{key:"react-".concat(d),y:h,x:r,height:g,width:o,stroke:"none",fill:t[x],fillOpacity:e,className:"recharts-cartesian-grid-bg"})});return Se.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Sye(n){var t=n.vertical,e=t===void 0?!0:t,r=n.verticalFill,i=n.fillOpacity,o=n.x,a=n.y,s=n.width,l=n.height,c=n.verticalPoints;if(!e||!r||!r.length)return null;var u=c.map(function(h){return Math.round(h+o-o)}).sort(function(h,d){return h-d});o!==u[0]&&u.unshift(0);var f=u.map(function(h,d){var m=!u[d+1],g=m?o+s-h:u[d+1]-h;if(g<=0)return null;var x=d%r.length;return Se.createElement("rect",{key:"react-".concat(d),x:h,y:a,width:g,height:l,stroke:"none",fill:r[x],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return Se.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Tye=function(t,e){var r=t.xAxis,i=t.width,o=t.height,a=t.offset;return ak(C4(ea(ea(ea({},rv.defaultProps),r),{},{ticks:ru(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.left,a.left+a.width,e)},Cye=function(t,e){var r=t.yAxis,i=t.width,o=t.height,a=t.offset;return ak(C4(ea(ea(ea({},rv.defaultProps),r),{},{ticks:ru(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.top,a.top+a.height,e)},dh={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function oM(n){var t,e,r,i,o,a,s=w4(),l=_4(),c=d0e(),u=ea(ea({},n),{},{stroke:(t=n.stroke)!==null&&t!==void 0?t:dh.stroke,fill:(e=n.fill)!==null&&e!==void 0?e:dh.fill,horizontal:(r=n.horizontal)!==null&&r!==void 0?r:dh.horizontal,horizontalFill:(i=n.horizontalFill)!==null&&i!==void 0?i:dh.horizontalFill,vertical:(o=n.vertical)!==null&&o!==void 0?o:dh.vertical,verticalFill:(a=n.verticalFill)!==null&&a!==void 0?a:dh.verticalFill,x:Gt(n.x)?n.x:c.left,y:Gt(n.y)?n.y:c.top,width:Gt(n.width)?n.width:c.width,height:Gt(n.height)?n.height:c.height}),f=u.x,h=u.y,d=u.width,m=u.height,g=u.syncWithTicks,x=u.horizontalValues,b=u.verticalValues,_=c0e(),S=u0e();if(!Gt(d)||d<=0||!Gt(m)||m<=0||!Gt(f)||f!==+f||!Gt(h)||h!==+h)return null;var T=u.verticalCoordinatesGenerator||Tye,C=u.horizontalCoordinatesGenerator||Cye,w=u.horizontalPoints,N=u.verticalPoints;if((!w||!w.length)&&Ur(C)){var A=x&&x.length,j=C({yAxis:S?ea(ea({},S),{},{ticks:A?x:S.ticks}):void 0,width:s,height:l,offset:c},A?!0:g);Bl(Array.isArray(j),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Nd(j),"]")),Array.isArray(j)&&(w=j)}if((!N||!N.length)&&Ur(T)){var R=b&&b.length,L=T({xAxis:_?ea(ea({},_),{},{ticks:R?b:_.ticks}):void 0,width:s,height:l,offset:c},R?!0:g);Bl(Array.isArray(L),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Nd(L),"]")),Array.isArray(L)&&(N=L)}return Se.createElement("g",{className:"recharts-cartesian-grid"},Se.createElement(bye,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),Se.createElement(xye,nd({},u,{offset:c,horizontalPoints:w,xAxis:_,yAxis:S})),Se.createElement(wye,nd({},u,{offset:c,verticalPoints:N,xAxis:_,yAxis:S})),Se.createElement(_ye,nd({},u,{horizontalPoints:w})),Se.createElement(Sye,nd({},u,{verticalPoints:N})))}oM.displayName="CartesianGrid";var Eye=["layout","type","stroke","connectNulls","isRange","ref"],Oye=["key"],aM;function Ap(n){"@babel/helpers - typeof";return Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ap(n)}function sM(n,t){if(n==null)return{};var e=Aye(n,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(e[r]=n[r])}return e}function Aye(n,t){if(n==null)return{};var e={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(t.indexOf(r)>=0)continue;e[r]=n[r]}return e}function id(){return id=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},id.apply(this,arguments)}function D3(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function Du(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?D3(Object(e),!0).forEach(function(r){vc(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):D3(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function Nye(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function I3(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,cM(r.key),r)}}function Pye(n,t,e){return t&&I3(n.prototype,t),e&&I3(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function jye(n,t,e){return t=fy(t),kye(n,lM()?Reflect.construct(t,e||[],fy(n).constructor):t.apply(n,e))}function kye(n,t){if(t&&(Ap(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mye(n)}function Mye(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function lM(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lM=function(){return!!n})()}function fy(n){return fy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},fy(n)}function Lye(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&H_(n,t)}function H_(n,t){return H_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},H_(n,t)}function vc(n,t,e){return t=cM(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function cM(n){var t=Dye(n,"string");return Ap(t)=="symbol"?t:t+""}function Dye(n,t){if(Ap(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(Ap(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var lf=function(n){function t(){var e;Nye(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=jye(this,t,[].concat(i)),vc(e,"state",{isAnimationFinished:!0}),vc(e,"id",Jp("recharts-area-")),vc(e,"handleAnimationEnd",function(){var a=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),Ur(a)&&a()}),vc(e,"handleAnimationStart",function(){var a=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),Ur(a)&&a()}),e}return Lye(t,n),Pye(t,[{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(a&&!s)return null;var l=this.props,c=l.dot,u=l.points,f=l.dataKey,h=kr(this.props,!1),d=kr(c,!0),m=u.map(function(x,b){var _=Du(Du(Du({key:"dot-".concat(b),r:3},h),d),{},{index:b,cx:x.x,cy:x.y,dataKey:f,value:x.value,payload:x.payload,points:u});return t.renderDotItem(c,_)}),g={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return Se.createElement(mn,id({className:"recharts-area-dots"},g),m)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,o=i.baseLine,a=i.points,s=i.strokeWidth,l=a[0].x,c=a[a.length-1].x,u=r*Math.abs(l-c),f=Uu(a.map(function(h){return h.y||0}));return Gt(o)&&typeof o=="number"?f=Math.max(o,f):o&&Array.isArray(o)&&o.length&&(f=Math.max(Uu(o.map(function(h){return h.y||0})),f)),Gt(f)?Se.createElement("rect",{x:l<c?l:l-u,y:0,width:u,height:Math.floor(f+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,o=i.baseLine,a=i.points,s=i.strokeWidth,l=a[0].y,c=a[a.length-1].y,u=r*Math.abs(l-c),f=Uu(a.map(function(h){return h.x||0}));return Gt(o)&&typeof o=="number"?f=Math.max(o,f):o&&Array.isArray(o)&&o.length&&(f=Math.max(Uu(o.map(function(h){return h.x||0})),f)),Gt(f)?Se.createElement("rect",{x:0,y:l<c?l:l-u,width:f+(s?parseInt("".concat(s),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,o,a){var s=this.props,l=s.layout,c=s.type,u=s.stroke,f=s.connectNulls,h=s.isRange;s.ref;var d=sM(s,Eye);return Se.createElement(mn,{clipPath:o?"url(#clipPath-".concat(a,")"):null},Se.createElement(Jh,id({},kr(d,!0),{points:r,connectNulls:f,type:c,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),u!=="none"&&Se.createElement(Jh,id({},kr(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:f,fill:"none",points:r})),u!=="none"&&h&&Se.createElement(Jh,id({},kr(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var o=this,a=this.props,s=a.points,l=a.baseLine,c=a.isAnimationActive,u=a.animationBegin,f=a.animationDuration,h=a.animationEasing,d=a.animationId,m=this.state,g=m.prevPoints,x=m.prevBaseLine;return Se.createElement(Tc,{begin:u,duration:f,isActive:c,easing:h,from:{t:0},to:{t:1},key:"area-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var _=b.t;if(g){var S=g.length/s.length,T=s.map(function(A,j){var R=Math.floor(j*S);if(g[R]){var L=g[R],M=za(L.x,A.x),I=za(L.y,A.y);return Du(Du({},A),{},{x:M(_),y:I(_)})}return A}),C;if(Gt(l)&&typeof l=="number"){var w=za(x,l);C=w(_)}else if(on(l)||Zp(l)){var N=za(x,0);C=N(_)}else C=l.map(function(A,j){var R=Math.floor(j*S);if(x[R]){var L=x[R],M=za(L.x,A.x),I=za(L.y,A.y);return Du(Du({},A),{},{x:M(_),y:I(_)})}return A});return o.renderAreaStatically(T,C,r,i)}return Se.createElement(mn,null,Se.createElement("defs",null,Se.createElement("clipPath",{id:"animationClipPath-".concat(i)},o.renderClipRect(_))),Se.createElement(mn,{clipPath:"url(#animationClipPath-".concat(i,")")},o.renderAreaStatically(s,l,r,i)))})}},{key:"renderArea",value:function(r,i){var o=this.props,a=o.points,s=o.baseLine,l=o.isAnimationActive,c=this.state,u=c.prevPoints,f=c.prevBaseLine,h=c.totalLength;return l&&a&&a.length&&(!u&&h>0||!_d(u,a)||!_d(f,s))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(a,s,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,s=i.points,l=i.className,c=i.top,u=i.left,f=i.xAxis,h=i.yAxis,d=i.width,m=i.height,g=i.isAnimationActive,x=i.id;if(o||!s||!s.length)return null;var b=this.state.isAnimationFinished,_=s.length===1,S=cn("recharts-area",l),T=f&&f.allowDataOverflow,C=h&&h.allowDataOverflow,w=T||C,N=on(x)?this.id:x,A=(r=kr(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},j=A.r,R=j===void 0?3:j,L=A.strokeWidth,M=L===void 0?2:L,I=Hie(a)?a:{},D=I.clipDot,V=D===void 0?!0:D,F=R*2+M;return Se.createElement(mn,{className:S},T||C?Se.createElement("defs",null,Se.createElement("clipPath",{id:"clipPath-".concat(N)},Se.createElement("rect",{x:T?u:u-d/2,y:C?c:c-m/2,width:T?d:d*2,height:C?m:m*2})),!V&&Se.createElement("clipPath",{id:"clipPath-dots-".concat(N)},Se.createElement("rect",{x:u-F/2,y:c-F/2,width:d+F,height:m+F}))):null,_?null:this.renderArea(w,N),(a||_)&&this.renderDots(w,V,N),(!g||b)&&su.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(ye.PureComponent);aM=lf;vc(lf,"displayName","Area");vc(lf,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Fd.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});vc(lf,"getBaseValue",function(n,t,e,r){var i=n.layout,o=n.baseValue,a=t.props.baseValue,s=a??o;if(Gt(s)&&typeof s=="number")return s;var l=i==="horizontal"?r:e,c=l.scale.domain();if(l.type==="number"){var u=Math.max(c[0],c[1]),f=Math.min(c[0],c[1]);return s==="dataMin"?f:s==="dataMax"||u<0?u:Math.max(Math.min(c[0],c[1]),0)}return s==="dataMin"?c[0]:s==="dataMax"?c[1]:c[0]});vc(lf,"getComposedData",function(n){var t=n.props,e=n.item,r=n.xAxis,i=n.yAxis,o=n.xAxisTicks,a=n.yAxisTicks,s=n.bandSize,l=n.dataKey,c=n.stackedData,u=n.dataStartIndex,f=n.displayedData,h=n.offset,d=t.layout,m=c&&c.length,g=aM.getBaseValue(t,e,r,i),x=d==="horizontal",b=!1,_=f.map(function(T,C){var w;m?w=c[u+C]:(w=ao(T,l),Array.isArray(w)?b=!0:w=[g,w]);var N=w[1]==null||m&&ao(T,l)==null;return x?{x:cA({axis:r,ticks:o,bandSize:s,entry:T,index:C}),y:N?null:i.scale(w[1]),value:w,payload:T}:{x:N?null:r.scale(w[1]),y:cA({axis:i,ticks:a,bandSize:s,entry:T,index:C}),value:w,payload:T}}),S;return m||b?S=_.map(function(T){var C=Array.isArray(T.value)?T.value[0]:null;return x?{x:T.x,y:C!=null&&T.y!=null?i.scale(C):null}:{x:C!=null?r.scale(C):null,y:T.y}}):S=x?i.scale(g):r.scale(g),Du({points:_,baseLine:S,layout:d,isRange:b},h)});vc(lf,"renderDotItem",function(n,t){var e;if(Se.isValidElement(n))e=Se.cloneElement(n,t);else if(Ur(n))e=n(t);else{var r=cn("recharts-area-dot",typeof n!="boolean"?n.className:""),i=t.key,o=sM(t,Oye);e=Se.createElement(Cx,id({},o,{key:i,className:r}))}return e});function Np(n){"@babel/helpers - typeof";return Np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Np(n)}function Iye(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function Rye(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,dM(r.key),r)}}function Fye(n,t,e){return t&&Rye(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Bye(n,t,e){return t=dy(t),Hye(n,uM()?Reflect.construct(t,e||[],dy(n).constructor):t.apply(n,e))}function Hye(n,t){if(t&&(Np(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $ye(n)}function $ye(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function uM(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uM=function(){return!!n})()}function dy(n){return dy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},dy(n)}function Uye(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&$_(n,t)}function $_(n,t){return $_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$_(n,t)}function fM(n,t,e){return t=dM(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function dM(n){var t=Vye(n,"string");return Np(t)=="symbol"?t:t+""}function Vye(n,t){if(Np(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(Np(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function U_(){return U_=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},U_.apply(this,arguments)}function zye(n){var t=n.xAxisId,e=w4(),r=_4(),i=Gk(t);return i==null?null:Se.createElement(rv,U_({},i,{className:cn("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:e,height:r},ticksGenerator:function(a){return ru(a,!0)}}))}var Rx=function(n){function t(){return Iye(this,t),Bye(this,t,arguments)}return Uye(t,n),Fye(t,[{key:"render",value:function(){return Se.createElement(zye,this.props)}}])}(Se.Component);fM(Rx,"displayName","XAxis");fM(Rx,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Pp(n){"@babel/helpers - typeof";return Pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pp(n)}function Wye(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function qye(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,vM(r.key),r)}}function Gye(n,t,e){return t&&qye(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Kye(n,t,e){return t=hy(t),Yye(n,hM()?Reflect.construct(t,e||[],hy(n).constructor):t.apply(n,e))}function Yye(n,t){if(t&&(Pp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xye(n)}function Xye(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function hM(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hM=function(){return!!n})()}function hy(n){return hy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},hy(n)}function Zye(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&V_(n,t)}function V_(n,t){return V_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},V_(n,t)}function pM(n,t,e){return t=vM(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function vM(n){var t=Jye(n,"string");return Pp(t)=="symbol"?t:t+""}function Jye(n,t){if(Pp(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(Pp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function z_(){return z_=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},z_.apply(this,arguments)}var Qye=function(t){var e=t.yAxisId,r=w4(),i=_4(),o=Kk(e);return o==null?null:Se.createElement(rv,z_({},o,{className:cn("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return ru(s,!0)}}))},Fx=function(n){function t(){return Wye(this,t),Kye(this,t,arguments)}return Zye(t,n),Gye(t,[{key:"render",value:function(){return Se.createElement(Qye,this.props)}}])}(Se.Component);pM(Fx,"displayName","YAxis");pM(Fx,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function R3(n){return nbe(n)||rbe(n)||tbe(n)||ebe()}function ebe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tbe(n,t){if(n){if(typeof n=="string")return W_(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return W_(n,t)}}function rbe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function nbe(n){if(Array.isArray(n))return W_(n)}function W_(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}var q_=function(t,e,r,i,o){var a=Qs(t,T4),s=Qs(t,Lx),l=[].concat(R3(a),R3(s)),c=Qs(t,Ix),u="".concat(i,"Id"),f=i[0],h=e;if(l.length&&(h=l.reduce(function(g,x){if(x.props[u]===r&&wc(x.props,"extendDomain")&&Gt(x.props[f])){var b=x.props[f];return[Math.min(g[0],b),Math.max(g[1],b)]}return g},h)),c.length){var d="".concat(f,"1"),m="".concat(f,"2");h=c.reduce(function(g,x){if(x.props[u]===r&&wc(x.props,"extendDomain")&&Gt(x.props[d])&&Gt(x.props[m])){var b=x.props[d],_=x.props[m];return[Math.min(g[0],b,_),Math.max(g[1],b,_)]}return g},h)}return o&&o.length&&(h=o.reduce(function(g,x){return Gt(x)?[Math.min(g[0],x),Math.max(g[1],x)]:g},h)),h},gM={exports:{}};(function(n){var t=Object.prototype.hasOwnProperty,e="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(e=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function o(l,c,u,f,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var d=new i(u,f||l,h),m=e?e+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],d]:l._events[m].push(d):(l._events[m]=d,l._eventsCount++),l}function a(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)t.call(u,f)&&c.push(e?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},s.prototype.listeners=function(c){var u=e?e+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,d=f.length,m=new Array(d);h<d;h++)m[h]=f[h].fn;return m},s.prototype.listenerCount=function(c){var u=e?e+c:c,f=this._events[u];return f?f.fn?1:f.length:0},s.prototype.emit=function(c,u,f,h,d,m){var g=e?e+c:c;if(!this._events[g])return!1;var x=this._events[g],b=arguments.length,_,S;if(x.fn){switch(x.once&&this.removeListener(c,x.fn,void 0,!0),b){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,u),!0;case 3:return x.fn.call(x.context,u,f),!0;case 4:return x.fn.call(x.context,u,f,h),!0;case 5:return x.fn.call(x.context,u,f,h,d),!0;case 6:return x.fn.call(x.context,u,f,h,d,m),!0}for(S=1,_=new Array(b-1);S<b;S++)_[S-1]=arguments[S];x.fn.apply(x.context,_)}else{var T=x.length,C;for(S=0;S<T;S++)switch(x[S].once&&this.removeListener(c,x[S].fn,void 0,!0),b){case 1:x[S].fn.call(x[S].context);break;case 2:x[S].fn.call(x[S].context,u);break;case 3:x[S].fn.call(x[S].context,u,f);break;case 4:x[S].fn.call(x[S].context,u,f,h);break;default:if(!_)for(C=1,_=new Array(b-1);C<b;C++)_[C-1]=arguments[C];x[S].fn.apply(x[S].context,_)}}return!0},s.prototype.on=function(c,u,f){return o(this,c,u,f,!1)},s.prototype.once=function(c,u,f){return o(this,c,u,f,!0)},s.prototype.removeListener=function(c,u,f,h){var d=e?e+c:c;if(!this._events[d])return this;if(!u)return a(this,d),this;var m=this._events[d];if(m.fn)m.fn===u&&(!h||m.once)&&(!f||m.context===f)&&a(this,d);else{for(var g=0,x=[],b=m.length;g<b;g++)(m[g].fn!==u||h&&!m[g].once||f&&m[g].context!==f)&&x.push(m[g]);x.length?this._events[d]=x.length===1?x[0]:x:a(this,d)}return this},s.prototype.removeAllListeners=function(c){var u;return c?(u=e?e+c:c,this._events[u]&&a(this,u)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=e,s.EventEmitter=s,n.exports=s})(gM);var ibe=gM.exports;const obe=hn(ibe);var a5=new obe,s5="recharts.syncMouseEvents";function u1(n){"@babel/helpers - typeof";return u1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u1(n)}function abe(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function sbe(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,mM(r.key),r)}}function lbe(n,t,e){return t&&sbe(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function l5(n,t,e){return t=mM(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function mM(n){var t=cbe(n,"string");return u1(t)=="symbol"?t:t+""}function cbe(n,t){if(u1(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(u1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var ube=function(){function n(){abe(this,n),l5(this,"activeIndex",0),l5(this,"coordinateList",[]),l5(this,"layout","horizontal")}return lbe(n,[{key:"setDetails",value:function(e){var r,i=e.coordinateList,o=i===void 0?null:i,a=e.container,s=a===void 0?null:a,l=e.layout,c=l===void 0?null:l,u=e.offset,f=u===void 0?null:u,h=e.mouseHandlerCallback,d=h===void 0?null:h;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=d??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(e){if(this.coordinateList.length!==0)switch(e.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(e){this.activeIndex=e}},{key:"spoofMouse",value:function(){var e,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((e=window)===null||e===void 0?void 0:e.scrollX)||0,u=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=o+l+c,h=a+this.offset.top+s/2+u;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function fbe(n,t,e){if(e==="number"&&t===!0&&Array.isArray(n)){var r=n==null?void 0:n[0],i=n==null?void 0:n[1];if(r&&i&&Gt(r)&&Gt(i))return!0}return!1}function dbe(n,t,e,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:n==="horizontal"?t.x-i:e.left+.5,y:n==="horizontal"?e.top+.5:t.y-i,width:n==="horizontal"?r:e.width-1,height:n==="horizontal"?e.height-1:r}}function yM(n){var t=n.cx,e=n.cy,r=n.radius,i=n.startAngle,o=n.endAngle,a=ei(t,e,r,i),s=ei(t,e,r,o);return{points:[a,s],cx:t,cy:e,radius:r,startAngle:i,endAngle:o}}function hbe(n,t,e){var r,i,o,a;if(n==="horizontal")r=t.x,o=r,i=e.top,a=e.top+e.height;else if(n==="vertical")i=t.y,a=i,r=e.left,o=e.left+e.width;else if(t.cx!=null&&t.cy!=null)if(n==="centric"){var s=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,f=t.angle,h=ei(s,l,c,f),d=ei(s,l,u,f);r=h.x,i=h.y,o=d.x,a=d.y}else return yM(t);return[{x:r,y:i},{x:o,y:a}]}function f1(n){"@babel/helpers - typeof";return f1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f1(n)}function F3(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function Cm(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?F3(Object(e),!0).forEach(function(r){pbe(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):F3(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function pbe(n,t,e){return t=vbe(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function vbe(n){var t=gbe(n,"string");return f1(t)=="symbol"?t:t+""}function gbe(n,t){if(f1(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(f1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function mbe(n){var t,e,r=n.element,i=n.tooltipEventType,o=n.isActive,a=n.activeCoordinate,s=n.activePayload,l=n.offset,c=n.activeTooltipIndex,u=n.tooltipAxisBandSize,f=n.layout,h=n.chartName,d=(t=r.props.cursor)!==null&&t!==void 0?t:(e=r.type.defaultProps)===null||e===void 0?void 0:e.cursor;if(!r||!d||!o||!a||h!=="ScatterChart"&&i!=="axis")return null;var m,g=Jh;if(h==="ScatterChart")m=a,g=Nge;else if(h==="BarChart")m=dbe(f,a,l,u),g=m4;else if(f==="radial"){var x=yM(a),b=x.cx,_=x.cy,S=x.radius,T=x.startAngle,C=x.endAngle;m={cx:b,cy:_,startAngle:T,endAngle:C,innerRadius:S,outerRadius:S},g=mk}else m={points:hbe(f,a,l)},g=Jh;var w=Cm(Cm(Cm(Cm({stroke:"#ccc",pointerEvents:"none"},l),m),kr(d,!1)),{},{payload:s,payloadIndex:c,className:cn("recharts-tooltip-cursor",d.className)});return ye.isValidElement(d)?ye.cloneElement(d,w):ye.createElement(g,w)}var ybe=["item"],bbe=["children","className","width","height","style","compact","title","desc"];function jp(n){"@babel/helpers - typeof";return jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jp(n)}function Oh(){return Oh=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Oh.apply(this,arguments)}function B3(n,t){return _be(n)||wbe(n,t)||xM(n,t)||xbe()}function xbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wbe(n,t){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(e=e.call(n)).next,t!==0)for(;!(l=(r=o.call(e)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&e.return!=null&&(a=e.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function _be(n){if(Array.isArray(n))return n}function H3(n,t){if(n==null)return{};var e=Sbe(n,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(e[r]=n[r])}return e}function Sbe(n,t){if(n==null)return{};var e={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(t.indexOf(r)>=0)continue;e[r]=n[r]}return e}function Tbe(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function Cbe(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,wM(r.key),r)}}function Ebe(n,t,e){return t&&Cbe(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Obe(n,t,e){return t=py(t),Abe(n,bM()?Reflect.construct(t,e||[],py(n).constructor):t.apply(n,e))}function Abe(n,t){if(t&&(jp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nbe(n)}function Nbe(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function bM(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bM=function(){return!!n})()}function py(n){return py=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},py(n)}function Pbe(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&G_(n,t)}function G_(n,t){return G_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},G_(n,t)}function kp(n){return Mbe(n)||kbe(n)||xM(n)||jbe()}function jbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xM(n,t){if(n){if(typeof n=="string")return K_(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return K_(n,t)}}function kbe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Mbe(n){if(Array.isArray(n))return K_(n)}function K_(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function $3(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function Ot(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?$3(Object(e),!0).forEach(function(r){Fr(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):$3(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function Fr(n,t,e){return t=wM(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function wM(n){var t=Lbe(n,"string");return jp(t)=="symbol"?t:t+""}function Lbe(n,t){if(jp(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(jp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var Dbe={xAxis:["bottom","top"],yAxis:["left","right"]},Ibe={width:"100%",height:"100%"},_M={x:0,y:0};function Em(n){return n}var Rbe=function(t,e){return e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius},Fbe=function(t,e,r,i){var o=e.find(function(u){return u&&u.index===r});if(o){if(t==="horizontal")return{x:o.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:o.coordinate};if(t==="centric"){var a=o.coordinate,s=i.radius;return Ot(Ot(Ot({},i),ei(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,c=i.angle;return Ot(Ot(Ot({},i),ei(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return _M},Bx=function(t,e){var r=e.graphicalItems,i=e.dataStartIndex,o=e.dataEndIndex,a=(r??[]).reduce(function(s,l){var c=l.props.data;return c&&c.length?[].concat(kp(s),kp(c)):s},[]);return a.length>0?a:t&&t.length&&Gt(i)&&Gt(o)?t.slice(i,o+1):[]};function SM(n){return n==="number"?[0,"auto"]:void 0}var Y_=function(t,e,r,i){var o=t.graphicalItems,a=t.tooltipAxis,s=Bx(e,t);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(l,c){var u,f=(u=c.props.data)!==null&&u!==void 0?u:e;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=r&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(a.dataKey&&!a.allowDuplicatedCategory){var d=f===void 0?s:f;h=b0(d,a.dataKey,i)}else h=f&&f[r]||s[r];return h?[].concat(kp(l),[fk(c,h)]):l},[])},U3=function(t,e,r,i){var o=i||{x:t.chartX,y:t.chartY},a=Rbe(o,r),s=t.orderedTooltipTicks,l=t.tooltipAxis,c=t.tooltipTicks,u=she(a,s,c,l);if(u>=0&&c){var f=c[u]&&c[u].value,h=Y_(t,e,u,f),d=Fbe(r,s,u,o);return{activeTooltipIndex:u,activeLabel:f,activePayload:h,activeCoordinate:d}}return null},Bbe=function(t,e){var r=e.axes,i=e.graphicalItems,o=e.axisType,a=e.axisIdKey,s=e.stackGroups,l=e.dataStartIndex,c=e.dataEndIndex,u=t.layout,f=t.children,h=t.stackOffset,d=ok(u,o);return r.reduce(function(m,g){var x,b=g.type.defaultProps!==void 0?Ot(Ot({},g.type.defaultProps),g.props):g.props,_=b.type,S=b.dataKey,T=b.allowDataOverflow,C=b.allowDuplicatedCategory,w=b.scale,N=b.ticks,A=b.includeHidden,j=b[a];if(m[j])return m;var R=Bx(t.data,{graphicalItems:i.filter(function(z){var Z,X=a in z.props?z.props[a]:(Z=z.type.defaultProps)===null||Z===void 0?void 0:Z[a];return X===j}),dataStartIndex:l,dataEndIndex:c}),L=R.length,M,I,D;fbe(b.domain,T,_)&&(M=u_(b.domain,null,T),d&&(_==="number"||w!=="auto")&&(D=Zv(R,S,"category")));var V=SM(_);if(!M||M.length===0){var F,G=(F=b.domain)!==null&&F!==void 0?F:V;if(S){if(M=Zv(R,S,_),_==="category"&&d){var W=Pie(M);C&&W?(I=M,M=Ag(0,L)):C||(M=hA(G,M,g).reduce(function(z,Z){return z.indexOf(Z)>=0?z:[].concat(kp(z),[Z])},[]))}else if(_==="category")C?M=M.filter(function(z){return z!==""&&!on(z)}):M=hA(G,M,g).reduce(function(z,Z){return z.indexOf(Z)>=0||Z===""||on(Z)?z:[].concat(kp(z),[Z])},[]);else if(_==="number"){var Y=dhe(R,i.filter(function(z){var Z,X,ae=a in z.props?z.props[a]:(Z=z.type.defaultProps)===null||Z===void 0?void 0:Z[a],ve="hide"in z.props?z.props.hide:(X=z.type.defaultProps)===null||X===void 0?void 0:X.hide;return ae===j&&(A||!ve)}),S,o,u);Y&&(M=Y)}d&&(_==="number"||w!=="auto")&&(D=Zv(R,S,"category"))}else d?M=Ag(0,L):s&&s[j]&&s[j].hasStack&&_==="number"?M=h==="expand"?[0,1]:uk(s[j].stackGroups,l,c):M=ik(R,i.filter(function(z){var Z=a in z.props?z.props[a]:z.type.defaultProps[a],X="hide"in z.props?z.props.hide:z.type.defaultProps.hide;return Z===j&&(A||!X)}),_,u,!0);if(_==="number")M=q_(f,M,j,o,N),G&&(M=u_(G,M,T));else if(_==="category"&&G){var te=G,he=M.every(function(z){return te.indexOf(z)>=0});he&&(M=te)}}return Ot(Ot({},m),{},Fr({},j,Ot(Ot({},b),{},{axisType:o,domain:M,categoricalDomain:D,duplicateDomain:I,originalDomain:(x=b.domain)!==null&&x!==void 0?x:V,isCategorical:d,layout:u})))},{})},Hbe=function(t,e){var r=e.graphicalItems,i=e.Axis,o=e.axisType,a=e.axisIdKey,s=e.stackGroups,l=e.dataStartIndex,c=e.dataEndIndex,u=t.layout,f=t.children,h=Bx(t.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),d=h.length,m=ok(u,o),g=-1;return r.reduce(function(x,b){var _=b.type.defaultProps!==void 0?Ot(Ot({},b.type.defaultProps),b.props):b.props,S=_[a],T=SM("number");if(!x[S]){g++;var C;return m?C=Ag(0,d):s&&s[S]&&s[S].hasStack?(C=uk(s[S].stackGroups,l,c),C=q_(f,C,S,o)):(C=u_(T,ik(h,r.filter(function(w){var N,A,j=a in w.props?w.props[a]:(N=w.type.defaultProps)===null||N===void 0?void 0:N[a],R="hide"in w.props?w.props.hide:(A=w.type.defaultProps)===null||A===void 0?void 0:A.hide;return j===S&&!R}),"number",u),i.defaultProps.allowDataOverflow),C=q_(f,C,S,o)),Ot(Ot({},x),{},Fr({},S,Ot(Ot({axisType:o},i.defaultProps),{},{hide:!0,orientation:Ts(Dbe,"".concat(o,".").concat(g%2),null),domain:C,originalDomain:T,isCategorical:m,layout:u})))}return x},{})},$be=function(t,e){var r=e.axisType,i=r===void 0?"xAxis":r,o=e.AxisComp,a=e.graphicalItems,s=e.stackGroups,l=e.dataStartIndex,c=e.dataEndIndex,u=t.children,f="".concat(i,"Id"),h=Qs(u,o),d={};return h&&h.length?d=Bbe(t,{axes:h,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:c}):a&&a.length&&(d=Hbe(t,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:c})),d},Ube=function(t){var e=Hu(t),r=ru(e,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:Vb(r,function(i){return i.coordinate}),tooltipAxis:e,tooltipAxisBandSize:z0(e,r)}},V3=function(t){var e=t.children,r=t.defaultShowTooltip,i=ms(e,_p),o=0,a=0;return t.data&&t.data.length!==0&&(a=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},Vbe=function(t){return!t||!t.length?!1:t.some(function(e){var r=ou(e&&e.type);return r&&r.indexOf("Bar")>=0})},z3=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},zbe=function(t,e){var r=t.props,i=t.graphicalItems,o=t.xAxisMap,a=o===void 0?{}:o,s=t.yAxisMap,l=s===void 0?{}:s,c=r.width,u=r.height,f=r.children,h=r.margin||{},d=ms(f,_p),m=ms(f,fd),g=Object.keys(l).reduce(function(C,w){var N=l[w],A=N.orientation;return!N.mirror&&!N.hide?Ot(Ot({},C),{},Fr({},A,C[A]+N.width)):C},{left:h.left||0,right:h.right||0}),x=Object.keys(a).reduce(function(C,w){var N=a[w],A=N.orientation;return!N.mirror&&!N.hide?Ot(Ot({},C),{},Fr({},A,Ts(C,"".concat(A))+N.height)):C},{top:h.top||0,bottom:h.bottom||0}),b=Ot(Ot({},x),g),_=b.bottom;d&&(b.bottom+=d.props.height||_p.defaultProps.height),m&&e&&(b=uhe(b,i,r,e));var S=c-b.left-b.right,T=u-b.top-b.bottom;return Ot(Ot({brushBottom:_},b),{},{width:Math.max(S,0),height:Math.max(T,0)})},Wbe=function(t,e){if(e==="xAxis")return t[e].width;if(e==="yAxis")return t[e].height},TM=function(t){var e=t.chartName,r=t.GraphicalChild,i=t.defaultTooltipEventType,o=i===void 0?"axis":i,a=t.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=t.axisComponents,c=t.legendContent,u=t.formatAxisMap,f=t.defaultProps,h=function(b,_){var S=_.graphicalItems,T=_.stackGroups,C=_.offset,w=_.updateId,N=_.dataStartIndex,A=_.dataEndIndex,j=b.barSize,R=b.layout,L=b.barGap,M=b.barCategoryGap,I=b.maxBarSize,D=z3(R),V=D.numericAxisName,F=D.cateAxisName,G=Vbe(S),W=[];return S.forEach(function(Y,te){var he=Bx(b.data,{graphicalItems:[Y],dataStartIndex:N,dataEndIndex:A}),z=Y.type.defaultProps!==void 0?Ot(Ot({},Y.type.defaultProps),Y.props):Y.props,Z=z.dataKey,X=z.maxBarSize,ae=z["".concat(V,"Id")],ve=z["".concat(F,"Id")],me={},Ee=l.reduce(function(De,Ke){var je=_["".concat(Ke.axisType,"Map")],Ze=z["".concat(Ke.axisType,"Id")];je&&je[Ze]||Ke.axisType==="zAxis"||Ad();var Ye=je[Ze];return Ot(Ot({},De),{},Fr(Fr({},Ke.axisType,Ye),"".concat(Ke.axisType,"Ticks"),ru(Ye)))},me),ke=Ee[F],He=Ee["".concat(F,"Ticks")],Re=T&&T[ae]&&T[ae].hasStack&&whe(Y,T[ae].stackGroups),se=ou(Y.type).indexOf("Bar")>=0,ce=z0(ke,He),$e=[],Ue=G&&lhe({barSize:j,stackGroups:T,totalSize:Wbe(Ee,F)});if(se){var Te,ft,Q=on(X)?I:X,de=(Te=(ft=z0(ke,He,!0))!==null&&ft!==void 0?ft:Q)!==null&&Te!==void 0?Te:0;$e=che({barGap:L,barCategoryGap:M,bandSize:de!==ce?de:ce,sizeList:Ue[ve],maxBarSize:Q}),de!==ce&&($e=$e.map(function(De){return Ot(Ot({},De),{},{position:Ot(Ot({},De.position),{},{offset:De.position.offset-de/2})})}))}var Ce=Y&&Y.type&&Y.type.getComposedData;Ce&&W.push({props:Ot(Ot({},Ce(Ot(Ot({},Ee),{},{displayedData:he,props:b,dataKey:Z,item:Y,bandSize:ce,barPosition:$e,offset:C,stackedData:Re,layout:R,dataStartIndex:N,dataEndIndex:A}))),{},Fr(Fr(Fr({key:Y.key||"item-".concat(te)},V,Ee[V]),F,Ee[F]),"animationId",w)),childIndex:Vie(Y,b.children),item:Y})}),W},d=function(b,_){var S=b.props,T=b.dataStartIndex,C=b.dataEndIndex,w=b.updateId;if(!ME({props:S}))return null;var N=S.children,A=S.layout,j=S.stackOffset,R=S.data,L=S.reverseStackOrder,M=z3(A),I=M.numericAxisName,D=M.cateAxisName,V=Qs(N,r),F=bhe(R,V,"".concat(I,"Id"),"".concat(D,"Id"),j,L),G=l.reduce(function(z,Z){var X="".concat(Z.axisType,"Map");return Ot(Ot({},z),{},Fr({},X,$be(S,Ot(Ot({},Z),{},{graphicalItems:V,stackGroups:Z.axisType===I&&F,dataStartIndex:T,dataEndIndex:C}))))},{}),W=zbe(Ot(Ot({},G),{},{props:S,graphicalItems:V}),_==null?void 0:_.legendBBox);Object.keys(G).forEach(function(z){G[z]=u(S,G[z],W,z.replace("Map",""),e)});var Y=G["".concat(D,"Map")],te=Ube(Y),he=h(S,Ot(Ot({},G),{},{dataStartIndex:T,dataEndIndex:C,updateId:w,graphicalItems:V,stackGroups:F,offset:W}));return Ot(Ot({formattedGraphicalItems:he,graphicalItems:V,offset:W,stackGroups:F},te),G)},m=function(x){function b(_){var S,T,C;return Tbe(this,b),C=Obe(this,b,[_]),Fr(C,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Fr(C,"accessibilityManager",new ube),Fr(C,"handleLegendBBoxUpdate",function(w){if(w){var N=C.state,A=N.dataStartIndex,j=N.dataEndIndex,R=N.updateId;C.setState(Ot({legendBBox:w},d({props:C.props,dataStartIndex:A,dataEndIndex:j,updateId:R},Ot(Ot({},C.state),{},{legendBBox:w}))))}}),Fr(C,"handleReceiveSyncEvent",function(w,N,A){if(C.props.syncId===w){if(A===C.eventEmitterSymbol&&typeof C.props.syncMethod!="function")return;C.applySyncEvent(N)}}),Fr(C,"handleBrushChange",function(w){var N=w.startIndex,A=w.endIndex;if(N!==C.state.dataStartIndex||A!==C.state.dataEndIndex){var j=C.state.updateId;C.setState(function(){return Ot({dataStartIndex:N,dataEndIndex:A},d({props:C.props,dataStartIndex:N,dataEndIndex:A,updateId:j},C.state))}),C.triggerSyncEvent({dataStartIndex:N,dataEndIndex:A})}}),Fr(C,"handleMouseEnter",function(w){var N=C.getMouseInfo(w);if(N){var A=Ot(Ot({},N),{},{isTooltipActive:!0});C.setState(A),C.triggerSyncEvent(A);var j=C.props.onMouseEnter;Ur(j)&&j(A,w)}}),Fr(C,"triggeredAfterMouseMove",function(w){var N=C.getMouseInfo(w),A=N?Ot(Ot({},N),{},{isTooltipActive:!0}):{isTooltipActive:!1};C.setState(A),C.triggerSyncEvent(A);var j=C.props.onMouseMove;Ur(j)&&j(A,w)}),Fr(C,"handleItemMouseEnter",function(w){C.setState(function(){return{isTooltipActive:!0,activeItem:w,activePayload:w.tooltipPayload,activeCoordinate:w.tooltipPosition||{x:w.cx,y:w.cy}}})}),Fr(C,"handleItemMouseLeave",function(){C.setState(function(){return{isTooltipActive:!1}})}),Fr(C,"handleMouseMove",function(w){w.persist(),C.throttleTriggeredAfterMouseMove(w)}),Fr(C,"handleMouseLeave",function(w){C.throttleTriggeredAfterMouseMove.cancel();var N={isTooltipActive:!1};C.setState(N),C.triggerSyncEvent(N);var A=C.props.onMouseLeave;Ur(A)&&A(N,w)}),Fr(C,"handleOuterEvent",function(w){var N=Uie(w),A=Ts(C.props,"".concat(N));if(N&&Ur(A)){var j,R;/.*touch.*/i.test(N)?R=C.getMouseInfo(w.changedTouches[0]):R=C.getMouseInfo(w),A((j=R)!==null&&j!==void 0?j:{},w)}}),Fr(C,"handleClick",function(w){var N=C.getMouseInfo(w);if(N){var A=Ot(Ot({},N),{},{isTooltipActive:!0});C.setState(A),C.triggerSyncEvent(A);var j=C.props.onClick;Ur(j)&&j(A,w)}}),Fr(C,"handleMouseDown",function(w){var N=C.props.onMouseDown;if(Ur(N)){var A=C.getMouseInfo(w);N(A,w)}}),Fr(C,"handleMouseUp",function(w){var N=C.props.onMouseUp;if(Ur(N)){var A=C.getMouseInfo(w);N(A,w)}}),Fr(C,"handleTouchMove",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&C.throttleTriggeredAfterMouseMove(w.changedTouches[0])}),Fr(C,"handleTouchStart",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&C.handleMouseDown(w.changedTouches[0])}),Fr(C,"handleTouchEnd",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&C.handleMouseUp(w.changedTouches[0])}),Fr(C,"handleDoubleClick",function(w){var N=C.props.onDoubleClick;if(Ur(N)){var A=C.getMouseInfo(w);N(A,w)}}),Fr(C,"handleContextMenu",function(w){var N=C.props.onContextMenu;if(Ur(N)){var A=C.getMouseInfo(w);N(A,w)}}),Fr(C,"triggerSyncEvent",function(w){C.props.syncId!==void 0&&a5.emit(s5,C.props.syncId,w,C.eventEmitterSymbol)}),Fr(C,"applySyncEvent",function(w){var N=C.props,A=N.layout,j=N.syncMethod,R=C.state.updateId,L=w.dataStartIndex,M=w.dataEndIndex;if(w.dataStartIndex!==void 0||w.dataEndIndex!==void 0)C.setState(Ot({dataStartIndex:L,dataEndIndex:M},d({props:C.props,dataStartIndex:L,dataEndIndex:M,updateId:R},C.state)));else if(w.activeTooltipIndex!==void 0){var I=w.chartX,D=w.chartY,V=w.activeTooltipIndex,F=C.state,G=F.offset,W=F.tooltipTicks;if(!G)return;if(typeof j=="function")V=j(W,w);else if(j==="value"){V=-1;for(var Y=0;Y<W.length;Y++)if(W[Y].value===w.activeLabel){V=Y;break}}var te=Ot(Ot({},G),{},{x:G.left,y:G.top}),he=Math.min(I,te.x+te.width),z=Math.min(D,te.y+te.height),Z=W[V]&&W[V].value,X=Y_(C.state,C.props.data,V),ae=W[V]?{x:A==="horizontal"?W[V].coordinate:he,y:A==="horizontal"?z:W[V].coordinate}:_M;C.setState(Ot(Ot({},w),{},{activeLabel:Z,activeCoordinate:ae,activePayload:X,activeTooltipIndex:V}))}else C.setState(w)}),Fr(C,"renderCursor",function(w){var N,A=C.state,j=A.isTooltipActive,R=A.activeCoordinate,L=A.activePayload,M=A.offset,I=A.activeTooltipIndex,D=A.tooltipAxisBandSize,V=C.getTooltipEventType(),F=(N=w.props.active)!==null&&N!==void 0?N:j,G=C.props.layout,W=w.key||"_recharts-cursor";return Se.createElement(mbe,{key:W,activeCoordinate:R,activePayload:L,activeTooltipIndex:I,chartName:e,element:w,isActive:F,layout:G,offset:M,tooltipAxisBandSize:D,tooltipEventType:V})}),Fr(C,"renderPolarAxis",function(w,N,A){var j=Ts(w,"type.axisType"),R=Ts(C.state,"".concat(j,"Map")),L=w.type.defaultProps,M=L!==void 0?Ot(Ot({},L),w.props):w.props,I=R&&R[M["".concat(j,"Id")]];return ye.cloneElement(w,Ot(Ot({},I),{},{className:cn(j,I.className),key:w.key||"".concat(N,"-").concat(A),ticks:ru(I,!0)}))}),Fr(C,"renderPolarGrid",function(w){var N=w.props,A=N.radialLines,j=N.polarAngles,R=N.polarRadius,L=C.state,M=L.radiusAxisMap,I=L.angleAxisMap,D=Hu(M),V=Hu(I),F=V.cx,G=V.cy,W=V.innerRadius,Y=V.outerRadius;return ye.cloneElement(w,{polarAngles:Array.isArray(j)?j:ru(V,!0).map(function(te){return te.coordinate}),polarRadius:Array.isArray(R)?R:ru(D,!0).map(function(te){return te.coordinate}),cx:F,cy:G,innerRadius:W,outerRadius:Y,key:w.key||"polar-grid",radialLines:A})}),Fr(C,"renderLegend",function(){var w=C.state.formattedGraphicalItems,N=C.props,A=N.children,j=N.width,R=N.height,L=C.props.margin||{},M=j-(L.left||0)-(L.right||0),I=rk({children:A,formattedGraphicalItems:w,legendWidth:M,legendContent:c});if(!I)return null;var D=I.item,V=H3(I,ybe);return ye.cloneElement(D,Ot(Ot({},V),{},{chartWidth:j,chartHeight:R,margin:L,onBBoxUpdate:C.handleLegendBBoxUpdate}))}),Fr(C,"renderTooltip",function(){var w,N=C.props,A=N.children,j=N.accessibilityLayer,R=ms(A,kl);if(!R)return null;var L=C.state,M=L.isTooltipActive,I=L.activeCoordinate,D=L.activePayload,V=L.activeLabel,F=L.offset,G=(w=R.props.active)!==null&&w!==void 0?w:M;return ye.cloneElement(R,{viewBox:Ot(Ot({},F),{},{x:F.left,y:F.top}),active:G,label:V,payload:G?D:[],coordinate:I,accessibilityLayer:j})}),Fr(C,"renderBrush",function(w){var N=C.props,A=N.margin,j=N.data,R=C.state,L=R.offset,M=R.dataStartIndex,I=R.dataEndIndex,D=R.updateId;return ye.cloneElement(w,{key:w.key||"_recharts-brush",onChange:wm(C.handleBrushChange,w.props.onChange),data:j,x:Gt(w.props.x)?w.props.x:L.left,y:Gt(w.props.y)?w.props.y:L.top+L.height+L.brushBottom-(A.bottom||0),width:Gt(w.props.width)?w.props.width:L.width,startIndex:M,endIndex:I,updateId:"brush-".concat(D)})}),Fr(C,"renderReferenceElement",function(w,N,A){if(!w)return null;var j=C,R=j.clipPathId,L=C.state,M=L.xAxisMap,I=L.yAxisMap,D=L.offset,V=w.type.defaultProps||{},F=w.props,G=F.xAxisId,W=G===void 0?V.xAxisId:G,Y=F.yAxisId,te=Y===void 0?V.yAxisId:Y;return ye.cloneElement(w,{key:w.key||"".concat(N,"-").concat(A),xAxis:M[W],yAxis:I[te],viewBox:{x:D.left,y:D.top,width:D.width,height:D.height},clipPathId:R})}),Fr(C,"renderActivePoints",function(w){var N=w.item,A=w.activePoint,j=w.basePoint,R=w.childIndex,L=w.isRange,M=[],I=N.props.key,D=N.item.type.defaultProps!==void 0?Ot(Ot({},N.item.type.defaultProps),N.item.props):N.item.props,V=D.activeDot,F=D.dataKey,G=Ot(Ot({index:R,dataKey:F,cx:A.x,cy:A.y,r:4,fill:g4(N.item),strokeWidth:2,stroke:"#fff",payload:A.payload,value:A.value},kr(V,!1)),x0(V));return M.push(b.renderActiveDot(V,G,"".concat(I,"-activePoint-").concat(R))),j?M.push(b.renderActiveDot(V,Ot(Ot({},G),{},{cx:j.x,cy:j.y}),"".concat(I,"-basePoint-").concat(R))):L&&M.push(null),M}),Fr(C,"renderGraphicChild",function(w,N,A){var j=C.filterFormatItem(w,N,A);if(!j)return null;var R=C.getTooltipEventType(),L=C.state,M=L.isTooltipActive,I=L.tooltipAxis,D=L.activeTooltipIndex,V=L.activeLabel,F=C.props.children,G=ms(F,kl),W=j.props,Y=W.points,te=W.isRange,he=W.baseLine,z=j.item.type.defaultProps!==void 0?Ot(Ot({},j.item.type.defaultProps),j.item.props):j.item.props,Z=z.activeDot,X=z.hide,ae=z.activeBar,ve=z.activeShape,me=!!(!X&&M&&G&&(Z||ae||ve)),Ee={};R!=="axis"&&G&&G.props.trigger==="click"?Ee={onClick:wm(C.handleItemMouseEnter,w.props.onClick)}:R!=="axis"&&(Ee={onMouseLeave:wm(C.handleItemMouseLeave,w.props.onMouseLeave),onMouseEnter:wm(C.handleItemMouseEnter,w.props.onMouseEnter)});var ke=ye.cloneElement(w,Ot(Ot({},j.props),Ee));function He(Ke){return typeof I.dataKey=="function"?I.dataKey(Ke.payload):null}if(me)if(D>=0){var Re,se;if(I.dataKey&&!I.allowDuplicatedCategory){var ce=typeof I.dataKey=="function"?He:"payload.".concat(I.dataKey.toString());Re=b0(Y,ce,V),se=te&&he&&b0(he,ce,V)}else Re=Y==null?void 0:Y[D],se=te&&he&&he[D];if(ve||ae){var $e=w.props.activeIndex!==void 0?w.props.activeIndex:D;return[ye.cloneElement(w,Ot(Ot(Ot({},j.props),Ee),{},{activeIndex:$e})),null,null]}if(!on(Re))return[ke].concat(kp(C.renderActivePoints({item:j,activePoint:Re,basePoint:se,childIndex:D,isRange:te})))}else{var Ue,Te=(Ue=C.getItemByXY(C.state.activeCoordinate))!==null&&Ue!==void 0?Ue:{graphicalItem:ke},ft=Te.graphicalItem,Q=ft.item,de=Q===void 0?w:Q,Ce=ft.childIndex,De=Ot(Ot(Ot({},j.props),Ee),{},{activeIndex:Ce});return[ye.cloneElement(de,De),null,null]}return te?[ke,null,null]:[ke,null]}),Fr(C,"renderCustomized",function(w,N,A){return ye.cloneElement(w,Ot(Ot({key:"recharts-customized-".concat(A)},C.props),C.state))}),Fr(C,"renderMap",{CartesianGrid:{handler:Em,once:!0},ReferenceArea:{handler:C.renderReferenceElement},ReferenceLine:{handler:Em},ReferenceDot:{handler:C.renderReferenceElement},XAxis:{handler:Em},YAxis:{handler:Em},Brush:{handler:C.renderBrush,once:!0},Bar:{handler:C.renderGraphicChild},Line:{handler:C.renderGraphicChild},Area:{handler:C.renderGraphicChild},Radar:{handler:C.renderGraphicChild},RadialBar:{handler:C.renderGraphicChild},Scatter:{handler:C.renderGraphicChild},Pie:{handler:C.renderGraphicChild},Funnel:{handler:C.renderGraphicChild},Tooltip:{handler:C.renderCursor,once:!0},PolarGrid:{handler:C.renderPolarGrid,once:!0},PolarAngleAxis:{handler:C.renderPolarAxis},PolarRadiusAxis:{handler:C.renderPolarAxis},Customized:{handler:C.renderCustomized}}),C.clipPathId="".concat((S=_.id)!==null&&S!==void 0?S:Jp("recharts"),"-clip"),C.throttleTriggeredAfterMouseMove=tj(C.triggeredAfterMouseMove,(T=_.throttleDelay)!==null&&T!==void 0?T:1e3/60),C.state={},C}return Pbe(b,x),Ebe(b,[{key:"componentDidMount",value:function(){var S,T;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,T=S.children,C=S.data,w=S.height,N=S.layout,A=ms(T,kl);if(A){var j=A.props.defaultIndex;if(!(typeof j!="number"||j<0||j>this.state.tooltipTicks.length-1)){var R=this.state.tooltipTicks[j]&&this.state.tooltipTicks[j].value,L=Y_(this.state,C,j,R),M=this.state.tooltipTicks[j].coordinate,I=(this.state.offset.top+w)/2,D=N==="horizontal",V=D?{x:M,y:I}:{y:M,x:I},F=this.state.formattedGraphicalItems.find(function(W){var Y=W.item;return Y.type.name==="Scatter"});F&&(V=Ot(Ot({},V),F.props.points[j].tooltipPosition),L=F.props.points[j].tooltipPayload);var G={activeTooltipIndex:j,isTooltipActive:!0,activeLabel:R,activePayload:L,activeCoordinate:V};this.setState(G),this.renderCursor(A),this.accessibilityManager.setIndex(j)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,T){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==T.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var C,w;this.accessibilityManager.setDetails({offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0}})}return null}},{key:"componentDidUpdate",value:function(S){Pw([ms(S.children,kl)],[ms(this.props.children,kl)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=ms(this.props.children,kl);if(S&&typeof S.props.shared=="boolean"){var T=S.props.shared?"axis":"item";return s.indexOf(T)>=0?T:o}return o}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var T=this.container,C=T.getBoundingClientRect(),w=Fle(C),N={chartX:Math.round(S.pageX-w.left),chartY:Math.round(S.pageY-w.top)},A=C.width/T.offsetWidth||1,j=this.inRange(N.chartX,N.chartY,A);if(!j)return null;var R=this.state,L=R.xAxisMap,M=R.yAxisMap,I=this.getTooltipEventType(),D=U3(this.state,this.props.data,this.props.layout,j);if(I!=="axis"&&L&&M){var V=Hu(L).scale,F=Hu(M).scale,G=V&&V.invert?V.invert(N.chartX):null,W=F&&F.invert?F.invert(N.chartY):null;return Ot(Ot({},N),{},{xValue:G,yValue:W},D)}return D?Ot(Ot({},N),D):null}},{key:"inRange",value:function(S,T){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,w=this.props.layout,N=S/C,A=T/C;if(w==="horizontal"||w==="vertical"){var j=this.state.offset,R=N>=j.left&&N<=j.left+j.width&&A>=j.top&&A<=j.top+j.height;return R?{x:N,y:A}:null}var L=this.state,M=L.angleAxisMap,I=L.radiusAxisMap;if(M&&I){var D=Hu(M);return gA({x:N,y:A},D)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,T=this.getTooltipEventType(),C=ms(S,kl),w={};C&&T==="axis"&&(C.props.trigger==="click"?w={onClick:this.handleClick}:w={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var N=x0(this.props,this.handleOuterEvent);return Ot(Ot({},N),w)}},{key:"addListener",value:function(){a5.on(s5,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){a5.removeListener(s5,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,T,C){for(var w=this.state.formattedGraphicalItems,N=0,A=w.length;N<A;N++){var j=w[N];if(j.item===S||j.props.key===S.key||T===ou(j.item.type)&&C===j.childIndex)return j}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,T=this.state.offset,C=T.left,w=T.top,N=T.height,A=T.width;return Se.createElement("defs",null,Se.createElement("clipPath",{id:S},Se.createElement("rect",{x:C,y:w,height:N,width:A})))}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(T,C){var w=B3(C,2),N=w[0],A=w[1];return Ot(Ot({},T),{},Fr({},N,A.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(T,C){var w=B3(C,2),N=w[0],A=w[1];return Ot(Ot({},T),{},Fr({},N,A.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var T;return(T=this.state.xAxisMap)===null||T===void 0||(T=T[S])===null||T===void 0?void 0:T.scale}},{key:"getYScaleByAxisId",value:function(S){var T;return(T=this.state.yAxisMap)===null||T===void 0||(T=T[S])===null||T===void 0?void 0:T.scale}},{key:"getItemByXY",value:function(S){var T=this.state,C=T.formattedGraphicalItems,w=T.activeItem;if(C&&C.length)for(var N=0,A=C.length;N<A;N++){var j=C[N],R=j.props,L=j.item,M=L.type.defaultProps!==void 0?Ot(Ot({},L.type.defaultProps),L.props):L.props,I=ou(L.type);if(I==="Bar"){var D=(R.data||[]).find(function(W){return cge(S,W)});if(D)return{graphicalItem:j,payload:D}}else if(I==="RadialBar"){var V=(R.data||[]).find(function(W){return gA(S,W)});if(V)return{graphicalItem:j,payload:V}}else if(Px(j,w)||jx(j,w)||o1(j,w)){var F=R1e({graphicalItem:j,activeTooltipItem:w,itemData:M.data}),G=M.activeIndex===void 0?F:M.activeIndex;return{graphicalItem:Ot(Ot({},j),{},{childIndex:G}),payload:o1(j,w)?M.data[F]:j.props.data[F]}}}return null}},{key:"render",value:function(){var S=this;if(!ME(this))return null;var T=this.props,C=T.children,w=T.className,N=T.width,A=T.height,j=T.style,R=T.compact,L=T.title,M=T.desc,I=H3(T,bbe),D=kr(I,!1);if(R)return Se.createElement(_3,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Se.createElement(kw,Oh({},D,{width:N,height:A,title:L,desc:M}),this.renderClipPath(),DE(C,this.renderMap)));if(this.props.accessibilityLayer){var V,F;D.tabIndex=(V=this.props.tabIndex)!==null&&V!==void 0?V:0,D.role=(F=this.props.role)!==null&&F!==void 0?F:"application",D.onKeyDown=function(W){S.accessibilityManager.keyboardEvent(W)},D.onFocus=function(){S.accessibilityManager.focus()}}var G=this.parseEventsOfWrapper();return Se.createElement(_3,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Se.createElement("div",Oh({className:cn("recharts-wrapper",w),style:Ot({position:"relative",cursor:"default",width:N,height:A},j)},G,{ref:function(Y){S.container=Y}}),Se.createElement(kw,Oh({},D,{width:N,height:A,title:L,desc:M,style:Ibe}),this.renderClipPath(),DE(C,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(ye.Component);Fr(m,"displayName",e),Fr(m,"defaultProps",Ot({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Fr(m,"getDerivedStateFromProps",function(x,b){var _=x.dataKey,S=x.data,T=x.children,C=x.width,w=x.height,N=x.layout,A=x.stackOffset,j=x.margin,R=b.dataStartIndex,L=b.dataEndIndex;if(b.updateId===void 0){var M=V3(x);return Ot(Ot(Ot({},M),{},{updateId:0},d(Ot(Ot({props:x},M),{},{updateId:0}),b)),{},{prevDataKey:_,prevData:S,prevWidth:C,prevHeight:w,prevLayout:N,prevStackOffset:A,prevMargin:j,prevChildren:T})}if(_!==b.prevDataKey||S!==b.prevData||C!==b.prevWidth||w!==b.prevHeight||N!==b.prevLayout||A!==b.prevStackOffset||!Yh(j,b.prevMargin)){var I=V3(x),D={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},V=Ot(Ot({},U3(b,S,N)),{},{updateId:b.updateId+1}),F=Ot(Ot(Ot({},I),D),V);return Ot(Ot(Ot({},F),d(Ot({props:x},F),b)),{},{prevDataKey:_,prevData:S,prevWidth:C,prevHeight:w,prevLayout:N,prevStackOffset:A,prevMargin:j,prevChildren:T})}if(!Pw(T,b.prevChildren)){var G,W,Y,te,he=ms(T,_p),z=he&&(G=(W=he.props)===null||W===void 0?void 0:W.startIndex)!==null&&G!==void 0?G:R,Z=he&&(Y=(te=he.props)===null||te===void 0?void 0:te.endIndex)!==null&&Y!==void 0?Y:L,X=z!==R||Z!==L,ae=!on(S),ve=ae&&!X?b.updateId:b.updateId+1;return Ot(Ot({updateId:ve},d(Ot(Ot({props:x},b),{},{updateId:ve,dataStartIndex:z,dataEndIndex:Z}),b)),{},{prevChildren:T,dataStartIndex:z,dataEndIndex:Z})}return null}),Fr(m,"renderActiveDot",function(x,b,_){var S;return ye.isValidElement(x)?S=ye.cloneElement(x,b):Ur(x)?S=x(b):S=Se.createElement(Cx,b),Se.createElement(mn,{className:"recharts-active-dot",key:_},S)});var g=ye.forwardRef(function(b,_){return Se.createElement(m,Oh({},b,{ref:_}))});return g.displayName=m.displayName,g},qbe=TM({chartName:"PieChart",GraphicalChild:gu,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Nx},{axisType:"radiusAxis",AxisComp:Ox}],formatAxisMap:jhe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),Gbe=TM({chartName:"AreaChart",GraphicalChild:lf,axisComponents:[{axisType:"xAxis",AxisComp:Rx},{axisType:"yAxis",AxisComp:Fx}],formatAxisMap:Gme});const W3=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8"];function CM(){const{id:n}=m1(),{profile:t,loading:e}=tf(),r=t==null?void 0:t.org_id,[i,o]=ye.useState(!0),[a,s]=ye.useState(null),[l,c]=ye.useState("overview"),[u,f]=ye.useState("6m"),[h,d]=ye.useState({total_donations:0,total_donors:0,average_donation:0,progress:0,top_donor:null,monetary_donations:0,time_donations:0,supply_donations:0,donor_retention_rate:0,recurring_donors:0,campaign_efficiency:0,volunteer_hours:0,supply_value:0,monthly_trends:[],donor_demographics:[],campaign_performance:[],volunteer_metrics:[],supply_categories:[],donors:[],top_donors:[],recurring_donor_list:[],donor_retention:[]}),[m,g]=ye.useState({type:"monetary",amount:"",description:"",date:LT(new Date,"yyyy-MM-dd"),donor_name:"",donor_email:"",donor_phone:"",is_recurring:!1,frequency:"monthly",category:"",payment_method:"credit_card"});ye.useEffect(()=>{if(!e){if(!n&&!r){s("No fundraiser or organization context found."),o(!1);return}b()}},[n,u,r,e]);const x=S=>({...h,...S,monthly_trends:Array.isArray(S==null?void 0:S.monthly_trends)?S.monthly_trends:[],donor_demographics:Array.isArray(S==null?void 0:S.donor_demographics)?S.donor_demographics:[],campaign_performance:Array.isArray(S==null?void 0:S.campaign_performance)?S.campaign_performance:[],volunteer_metrics:Array.isArray(S==null?void 0:S.volunteer_metrics)?S.volunteer_metrics:[],supply_categories:Array.isArray(S==null?void 0:S.supply_categories)?S.supply_categories:[],donors:Array.isArray(S==null?void 0:S.donors)?S.donors:[],top_donors:Array.isArray(S==null?void 0:S.top_donors)?S.top_donors:[],recurring_donor_list:Array.isArray(S==null?void 0:S.recurring_donor_list)?S.recurring_donor_list:[],donor_retention:Array.isArray(S==null?void 0:S.donor_retention)?S.donor_retention:[]}),b=async()=>{var S,T,C,w,N,A,j,R,L,M,I,D,V;try{o(!0);const[F,G,W,Y]=await Promise.all([Rl.getAnalyticsOverview({dateRange:u}),Rl.getAnalyticsTrends({dateRange:u}),Rl.getAnalyticsDonorRetention({dateRange:u}),Rl.getAnalyticsCampaigns({dateRange:u})]);console.log("Analytics API responses:",{overview:F,trends:G,retention:W,campaigns:Y});const te={total_donations:((T=(S=F==null?void 0:F.data)==null?void 0:S.data)==null?void 0:T.total_donations)||0,total_donors:((w=(C=F==null?void 0:F.data)==null?void 0:C.data)==null?void 0:w.total_donors)||0,volunteer_hours:((A=(N=F==null?void 0:F.data)==null?void 0:N.data)==null?void 0:A.total_volunteer_hours)||0,supply_value:((R=(j=F==null?void 0:F.data)==null?void 0:j.data)==null?void 0:R.total_supply_value)||0,active_campaigns:((M=(L=F==null?void 0:F.data)==null?void 0:L.data)==null?void 0:M.active_campaigns)||0,monthly_trends:((I=G==null?void 0:G.data)==null?void 0:I.data)||[],donor_retention:((D=W==null?void 0:W.data)==null?void 0:D.data)||[],campaign_performance:((V=Y==null?void 0:Y.data)==null?void 0:V.data)||[]};d(x(te)),s(null)}catch(F){const G="Failed to fetch fundraiser analytics";s(G),Fl(F,G),console.error("Analytics fetch error:",F)}finally{o(!1)}},_=S=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(S);return a?y.jsx("div",{className:"text-red-500 text-center mt-8",children:a}):i?y.jsx("div",{className:"text-center py-12",children:"Loading analytics..."}):y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[y.jsx(bs,{children:y.jsxs("div",{className:"flex items-center space-x-4",children:[y.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:y.jsx(W8,{className:"h-6 w-6 text-blue-600"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Donations"}),y.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:_(h.total_donations)})]})]})}),y.jsx(bs,{children:y.jsxs("div",{className:"flex items-center space-x-4",children:[y.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:y.jsx(hg,{className:"h-6 w-6 text-green-600"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Donors"}),y.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:h.total_donors})]})]})}),y.jsx(bs,{children:y.jsxs("div",{className:"flex items-center space-x-4",children:[y.jsx("div",{className:"p-3 bg-purple-100 rounded-full",children:y.jsx(q8,{className:"h-6 w-6 text-purple-600"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Volunteer Hours"}),y.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:h.volunteer_hours})]})]})}),y.jsx(bs,{children:y.jsxs("div",{className:"flex items-center space-x-4",children:[y.jsx("div",{className:"p-3 bg-yellow-100 rounded-full",children:y.jsx(fI,{className:"h-6 w-6 text-yellow-600"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Supply Value"}),y.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:_(h.supply_value)})]})]})})]}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[y.jsxs(bs,{children:[y.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Donation Trends"}),y.jsx("div",{className:"h-80",children:y.jsx(iO,{width:"100%",height:"100%",children:y.jsxs(Gbe,{data:h.monthly_trends,children:[y.jsx(oM,{strokeDasharray:"3 3"}),y.jsx(Rx,{dataKey:"date"}),y.jsx(Fx,{}),y.jsx(kl,{formatter:S=>_(S)}),y.jsx(lf,{type:"monotone",dataKey:"amount",stroke:"#2563eb",fill:"#93c5fd"})]})})})]}),y.jsxs(bs,{children:[y.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Donation Types"}),y.jsx("div",{className:"h-80",children:y.jsx(iO,{width:"100%",height:"100%",children:y.jsxs(qbe,{children:[y.jsx(gu,{data:h.supply_categories,dataKey:"value",nameKey:"category",cx:"50%",cy:"50%",outerRadius:80,fill:"#2563eb",label:!0,children:h.supply_categories.map((S,T)=>y.jsx(hx,{fill:W3[T%W3.length]},`cell-${T}`))}),y.jsx(kl,{}),y.jsx(fd,{})]})})})]})]})]})}function Kbe(){const{id:n}=m1(),[t,e]=ye.useState(!0),[r,i]=ye.useState(null),[o,a]=ye.useState(null),[s,l]=ye.useState(!1);ye.useEffect(()=>{if(!n){i("No fundraiser selected. Please select a fundraiser to share."),e(!1);return}c()},[n]);const c=async()=>{if(n)try{e(!0);const{data:h,error:d}=await Rl.getFundraiser(n);if(d)throw new Error(d);a(h),i(null)}catch(h){const d="Failed to fetch fundraiser details";i(d),Fl(h,d)}finally{e(!1)}},u=async h=>{const d=`${window.location.origin}/fundraisers/${n}`,m=`Support ${o.title} - ${o.description}`;try{switch(h){case"facebook":window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(d)}`,"_blank");break;case"twitter":window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(m)}&url=${encodeURIComponent(d)}`,"_blank");break;case"linkedin":window.open(`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(d)}`,"_blank");break;default:break}pd("Shared successfully")}catch(g){Fl(g,"Failed to share")}},f=async()=>{const h=`${window.location.origin}/fundraisers/${n}`;try{await navigator.clipboard.writeText(h),l(!0),pd("Link copied to clipboard"),setTimeout(()=>l(!1),2e3)}catch(d){Fl(d,"Failed to copy link")}};return r?y.jsx("div",{className:"text-red-500 text-center mt-8",children:r}):o?y.jsx(DT,{title:"Share Fundraiser",loading:t,error:r,children:y.jsx("div",{className:"max-w-2xl mx-auto space-y-6",children:y.jsx(bs,{title:o.title,description:o.description,children:y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[y.jsxs(Ka,{onClick:()=>u("facebook"),className:"flex items-center space-x-2",children:[y.jsx(dI,{className:"h-5 w-5"}),y.jsx("span",{children:"Share on Facebook"})]}),y.jsxs(Ka,{onClick:()=>u("twitter"),className:"flex items-center space-x-2",children:[y.jsx(hI,{className:"h-5 w-5"}),y.jsx("span",{children:"Share on Twitter"})]}),y.jsxs(Ka,{onClick:()=>u("linkedin"),className:"flex items-center space-x-2",children:[y.jsx(pI,{className:"h-5 w-5"}),y.jsx("span",{children:"Share on LinkedIn"})]})]}),y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx("div",{className:"flex-1 p-2 bg-gray-50 rounded-lg border border-gray-200 text-sm text-gray-600 truncate",children:`${window.location.origin}/fundraisers/${n}`}),y.jsx(Ka,{onClick:f,variant:"outline",className:"flex items-center space-x-2",children:s?y.jsxs(y.Fragment,{children:[y.jsx(vI,{className:"h-5 w-5 text-green-500"}),y.jsx("span",{children:"Copied!"})]}):y.jsxs(y.Fragment,{children:[y.jsx(G8,{className:"h-5 w-5"}),y.jsx("span",{children:"Copy"})]})})]})]})})})}):null}function Ybe(){const n=Oa(),[t,e]=ye.useState(!0),[r,i]=ye.useState(null),[o,a]=ye.useState({donors:[],top_donors:[],recurring_donor_list:[],donor_retention:[]});ye.useEffect(()=>{s()},[]);const s=async()=>{var u;try{e(!0);const f=await Rl.getAnalyticsDonorRetention();console.log("Donor retention response:",f);const h=(u=f==null?void 0:f.data)==null?void 0:u.data;let d=[];Array.isArray(h)?d=h:h&&typeof h=="object"&&(d=h.donors||h.retention||[]),Array.isArray(d)||(d=[]),console.log("Processed donor data:",d),a({donors:d,top_donors:d.slice(0,10),recurring_donor_list:d.filter(m=>m.months_active>1),donor_retention:d}),i(null)}catch(f){i("Failed to fetch donor analytics"),console.error("Donor analytics fetch error:",f)}finally{e(!1)}},l=u=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(u),c=u=>LT(new Date(u),"MMM d, yyyy");return r?y.jsx("div",{className:"text-red-500 text-center mt-8",children:r}):t?y.jsx("div",{className:"text-center py-12",children:"Loading donors..."}):y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Donor Analytics"}),y.jsx(Ka,{variant:"outline",onClick:()=>n("/fundraisers/record-donation"),children:"Add Donation"})]}),y.jsxs(bs,{children:[y.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Donor List"}),y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),y.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Email"}),y.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Total Donated"}),y.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Last Donation"}),y.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Recurring"})]})}),y.jsx("tbody",{children:o.donors&&o.donors.length>0?o.donors.map((u,f)=>y.jsxs("tr",{className:"bg-white even:bg-gray-50",children:[y.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:(u==null?void 0:u.donor_email)||`Donor ${f+1}`}),y.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:(u==null?void 0:u.donor_email)||"N/A"}),y.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:l((u==null?void 0:u.total_donated)||0)}),y.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:u!=null&&u.last_donation?c(u.last_donation):"N/A"}),y.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:((u==null?void 0:u.months_active)||0)>1?"Yes":"No"})]},f)):y.jsx("tr",{children:y.jsx("td",{colSpan:5,className:"text-center py-4 text-gray-500",children:"No donors found."})})})]})})]}),y.jsxs(bs,{children:[y.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Top Donors"}),y.jsx("ul",{className:"divide-y divide-gray-200",children:o.top_donors&&o.top_donors.length>0?o.top_donors.map((u,f)=>y.jsxs("li",{className:"py-2 flex justify-between",children:[y.jsx("span",{children:(u==null?void 0:u.donor_email)||`Donor ${f+1}`}),y.jsx("span",{className:"font-semibold",children:l((u==null?void 0:u.total_donated)||0)})]},f)):y.jsx("li",{className:"text-center py-4 text-gray-500",children:"No top donors found."})})]}),y.jsxs(bs,{children:[y.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recurring Donors"}),y.jsx("ul",{className:"divide-y divide-gray-200",children:o.recurring_donor_list&&o.recurring_donor_list.length>0?o.recurring_donor_list.map((u,f)=>y.jsxs("li",{className:"py-2 flex justify-between",children:[y.jsx("span",{children:(u==null?void 0:u.donor_email)||`Donor ${f+1}`}),y.jsx("span",{className:"font-semibold",children:l((u==null?void 0:u.total_donated)||0)})]},f)):y.jsx("li",{className:"text-center py-4 text-gray-500",children:"No recurring donors found."})})]}),y.jsxs(bs,{children:[y.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Donor Retention"}),y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Donor"}),y.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Months Active"}),y.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"First Donation"}),y.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Last Donation"}),y.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Total Donated"})]})}),y.jsx("tbody",{children:o.donor_retention&&o.donor_retention.length>0?o.donor_retention.map((u,f)=>y.jsxs("tr",{className:"bg-white even:bg-gray-50",children:[y.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:(u==null?void 0:u.donor_email)||`Donor ${f+1}`}),y.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:(u==null?void 0:u.months_active)||0}),y.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:u!=null&&u.first_donation?c(u.first_donation):"N/A"}),y.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:u!=null&&u.last_donation?c(u.last_donation):"N/A"}),y.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:l((u==null?void 0:u.total_donated)||0)})]},f)):y.jsx("tr",{children:y.jsx("td",{colSpan:5,className:"text-center py-4 text-gray-500",children:"No donor retention data found."})})})]})})]})]})}const q3=[{value:"monetary",label:"Monetary Donations"},{value:"volunteer",label:"Volunteer Hours"},{value:"supplies",label:"Supply Donations"},{value:"top_donors",label:"Top Donors"},{value:"recurring",label:"Recurring Donors"},{value:"retention",label:"Donor Retention"},{value:"campaign",label:"Campaign Performance"},{value:"year_over_year",label:"Year-over-Year Comparison"}];function Xbe(){var d;const[n,t]=ye.useState("monetary"),[e,r]=ye.useState("6m"),[i,o]=ye.useState(!1),[a,s]=ye.useState([]),[l,c]=ye.useState(null),u=()=>{o(!0),setTimeout(()=>{s([{name:"John Smith",value:1500,date:"2024-01-15"},{name:"Sarah Johnson",value:2500,date:"2024-03-01"},{name:"Mike Brown",value:500,date:"2024-02-01"}]),o(!1),c(null)},1e3)},f=()=>{alert("PDF export coming soon!")},h=()=>{alert("XLSX export coming soon!")};return y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[y.jsx("select",{className:"px-4 py-2 h-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:n,onChange:m=>t(m.target.value),children:q3.map(m=>y.jsx("option",{value:m.value,children:m.label},m.value))}),y.jsxs("select",{className:"px-4 py-2 h-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:e,onChange:m=>r(m.target.value),children:[y.jsx("option",{value:"6m",children:"Last 6 Months"}),y.jsx("option",{value:"1y",children:"Last Year"}),y.jsx("option",{value:"all",children:"All Time"})]}),y.jsx(Ka,{variant:"outline",onClick:u,disabled:i,children:"Generate Report"})]}),y.jsxs(bs,{children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:[(d=q3.find(m=>m.value===n))==null?void 0:d.label," Report"]}),y.jsxs("div",{className:"space-x-2",children:[y.jsx(Ka,{variant:"outline",onClick:f,children:"Export as PDF"}),y.jsx(Ka,{variant:"outline",onClick:h,children:"Export as XLSX"})]})]}),l&&y.jsx("div",{className:"text-red-500 mb-4",children:l}),i?y.jsx("div",{className:"text-center py-12",children:"Generating report..."}):y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),y.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Value"}),y.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"})]})}),y.jsx("tbody",{children:a.length>0?a.map((m,g)=>y.jsxs("tr",{className:"bg-white even:bg-gray-50",children:[y.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:m.name}),y.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:m.value}),y.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:m.date})]},g)):y.jsx("tr",{children:y.jsx("td",{colSpan:3,className:"text-center py-4 text-gray-500",children:"No data to display."})})})]})})]})]})}function EM({fundraiserId:n,onCancel:t,onSave:e,embedded:r=!1}){const i=Oa(),{id:o}=m1(),a=n||o,[s,l]=ye.useState(!0),[c,u]=ye.useState(null),[f,h]=ye.useState({title:"",description:"",goal_amount:"",category_id:"",start_date:"",end_date:"",status:"draft",visibility:"organization"}),d=[{value:"draft",label:"Draft"},{value:"active",label:"Active"},{value:"paused",label:"Paused"},{value:"completed",label:"Completed"}],m=[{value:"public",label:"Public"},{value:"private",label:"Private"},{value:"organization",label:"Organization Only"}];ye.useEffect(()=>{a?g():l(!1)},[a]);const g=async()=>{var S;if(a)try{l(!0);const T=await Rl.getFundraiser(a);console.log("Raw API response:",T);const C=((S=T.data)==null?void 0:S.data)||T.data||T;if(console.log("Extracted fundraiser data:",C),console.log("Fundraiser data keys:",C?Object.keys(C):"no data"),T.error)throw new Error(T.error);if(!C)throw new Error("No fundraiser found with this ID.");const w={title:C.title||"",description:C.description||"",goal_amount:C.goal_amount||C.goal||"",category_id:C.category_id||C.category||"",start_date:C.start_date?C.start_date.split("T")[0]:"",end_date:C.end_date?C.end_date.split("T")[0]:"",status:C.status||"draft",visibility:C.visibility||"organization"};console.log("Individual field values:"),console.log("fundraiserData.title:",C.title),console.log("fundraiserData.goal:",C.goal),console.log("fundraiserData.start_date:",C.start_date),console.log("Transformed data for form:",w),h(w),u(null)}catch(T){const C="Failed to fetch fundraiser details";u(T.message||C),Fl(T,C)}finally{l(!1)}},x=async S=>{S.preventDefault();try{l(!0);const T={title:f.title,description:f.description,goal_amount:f.goal_amount,start_date:f.start_date,end_date:f.end_date,status:f.status,visibility:f.visibility,category:f.category_id};if(a){const{error:C}=await Rl.updateFundraiser(a,T);if(C)throw new Error(C);pd("Fundraiser updated successfully"),r&&e?e():i("/fundraisers")}else{const{error:C}=await Rl.createFundraiser(T);if(C)throw new Error(C);pd("Fundraiser created successfully"),r&&e?e():i("/fundraisers")}}catch(T){Fl(T,a?"Failed to update fundraiser":"Failed to create fundraiser")}finally{l(!1)}},b=S=>{const{name:T,value:C}=S.target;h(w=>({...w,[T]:C}))};if(s)return y.jsx("div",{className:"flex justify-center items-center h-64",children:y.jsx("span",{className:"text-blue-600 text-lg",children:"Loading fundraiser details..."})});if(c)return y.jsx("div",{className:"text-red-500 text-center mt-8",children:c});if(!a&&(window.location.pathname.includes("edit")||r))return y.jsx("div",{className:"text-red-500 text-center mt-8",children:"No fundraiser selected. Please select a fundraiser to edit."});const _=y.jsxs("form",{onSubmit:x,className:"max-w-2xl mx-auto space-y-6",children:[y.jsx(ch,{label:"Title",id:"title",name:"title",value:f.title,onChange:b,required:!0}),y.jsx(ch,{label:"Description",id:"description",name:"description",value:f.description,onChange:b,required:!0,as:"textarea",rows:4}),y.jsx(ch,{label:"Goal Amount",id:"goal_amount",name:"goal_amount",type:"number",value:f.goal_amount,onChange:b,required:!0,min:"0",step:"0.01"}),y.jsx(ch,{label:"Category",id:"category_id",name:"category_id",value:f.category_id,onChange:b}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[y.jsx(ch,{label:"Start Date",id:"start_date",name:"start_date",type:"date",value:f.start_date,onChange:b,required:!0}),y.jsx(ch,{label:"End Date",id:"end_date",name:"end_date",type:"date",value:f.end_date,onChange:b,required:!0})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[y.jsx(AE,{label:"Status",id:"status",name:"status",value:f.status,onChange:b,required:!0,options:d}),y.jsx(AE,{label:"Visibility",id:"visibility",name:"visibility",value:f.visibility,onChange:b,required:!0,options:m})]}),y.jsxs("div",{className:"flex justify-end space-x-4",children:[y.jsx(Ka,{type:"button",variant:"outline",onClick:r&&t?t:()=>i("/fundraisers"),children:"Cancel"}),y.jsxs(Ka,{type:"submit",isLoading:s,children:[a?"Update":"Create"," Fundraiser"]})]})]});return r?_:y.jsx(DT,{title:a?"Edit Fundraiser":"Create Fundraiser",loading:s,error:c,children:_})}function Zbe(){const n=Oa(),[t,e]=ye.useState(!0),[r,i]=ye.useState(null),[o,a]=ye.useState([]),[s,l]=ye.useState(""),[c,u]=ye.useState("all"),[f,h]=ye.useState(null),[d,m]=ye.useState("fundraisers"),[g,x]=ye.useState(null);ye.useEffect(()=>{b();const j=sessionStorage.getItem("editFundraiserId");j&&(x(j),sessionStorage.removeItem("editFundraiserId"))},[]);const b=async()=>{try{e(!0);const{data:j,error:R}=await Rl.getFundraisers();if(R)throw new Error(R);a((j==null?void 0:j.data)||[]),i(null)}catch(j){const R="Failed to fetch fundraisers";i(R),Fl(j,R)}finally{e(!1)}},_=async j=>{if(window.confirm("Are you sure you want to delete this fundraiser?"))try{e(!0);const{error:R}=await Rl.deleteFundraiser(j);if(R)throw new Error(R);pd("Fundraiser deleted successfully"),b()}catch(R){Fl(R,"Failed to delete fundraiser")}finally{e(!1)}},S=j=>new Date(j).toLocaleDateString(),T=j=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(j),C=j=>{x(j)},w=()=>{x(null)},N=()=>{x(null),b()},A=o.filter(j=>{const R=j.title.toLowerCase().includes(s.toLowerCase())||j.description.toLowerCase().includes(s.toLowerCase()),L=c==="all"||j.status===c;return R&&L});return y.jsxs(DT,{title:"Fundraiser Manager",loading:t,error:r,children:[y.jsx("div",{className:"border-b border-gray-200 mb-6",children:y.jsxs("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:[y.jsx("button",{className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${d==="fundraisers"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>m("fundraisers"),children:"Active Fundraisers"}),y.jsx("button",{className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${d==="analytics"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>m("analytics"),children:"Analytics"}),y.jsx("button",{className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${d==="donors"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>m("donors"),children:"Donors"}),y.jsx("button",{className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${d==="reports"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>m("reports"),children:"Reports"}),y.jsx("button",{className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${d==="share"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>m("share"),children:"Share"})]})}),d==="fundraisers"&&!g&&y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Active Fundraisers"}),y.jsx(Ka,{variant:"outline",onClick:()=>n("/fundraisers/create"),children:"Create New Fundraiser"})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:A.map(j=>y.jsx(bs,{title:j.title,description:j.description,children:y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"flex justify-between text-sm",children:[y.jsx("span",{className:"text-gray-500",children:"Goal:"}),y.jsx("span",{className:"font-medium",children:T(j.goal_amount)})]}),y.jsxs("div",{className:"flex justify-between text-sm",children:[y.jsx("span",{className:"text-gray-500",children:"Status:"}),y.jsx("span",{className:`font-medium ${j.status==="active"?"text-green-600":j.status==="completed"?"text-blue-600":"text-gray-600"}`,children:j.status.charAt(0).toUpperCase()+j.status.slice(1)})]}),y.jsxs("div",{className:"flex justify-between text-sm",children:[y.jsx("span",{className:"text-gray-500",children:"Dates:"}),y.jsxs("span",{className:"font-medium",children:[S(j.start_date)," - ",S(j.end_date)]})]}),y.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[y.jsx(Ka,{variant:"outline",onClick:()=>C(j.id),children:"Edit"}),y.jsx(Ka,{variant:"danger",onClick:()=>_(j.id),children:"Delete"})]})]})},j.id))}),A.length===0&&!t&&y.jsx("div",{className:"text-center py-12",children:y.jsx("p",{className:"text-gray-500",children:"No fundraisers found"})})]}),d==="fundraisers"&&g&&y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Edit Fundraiser"}),y.jsx(Ka,{variant:"outline",onClick:w,children:"← Back to Fundraisers"})]}),y.jsx(EM,{fundraiserId:g,onCancel:w,onSave:N,embedded:!0})]}),d==="analytics"&&y.jsx("div",{className:"mt-8",children:y.jsx(CM,{})}),d==="donors"&&y.jsx("div",{className:"mt-8",children:y.jsx(Ybe,{})}),d==="reports"&&y.jsx("div",{className:"mt-8",children:y.jsx(Xbe,{})}),d==="share"&&y.jsxs("div",{className:"mb-6",children:[y.jsx("label",{htmlFor:"fundraiser-select",className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Fundraiser to Share"}),y.jsxs("select",{id:"fundraiser-select",className:"block w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-base",value:f?f.id:"",onChange:j=>{const R=o.find(L=>L.id===j.target.value);h(R||null)},children:[y.jsx("option",{value:"",children:"-- Select a Fundraiser --"}),o.map(j=>y.jsx("option",{value:j.id,children:j.title},j.id))]})]}),d==="share"&&y.jsx(Kbe,{fundraiserId:f?f.id:null})]})}function Jbe(){const{id:n}=m1(),t=Oa();return ye.useEffect(()=>{n?(sessionStorage.setItem("editFundraiserId",n),t("/fundraisers",{replace:!0})):t("/fundraisers",{replace:!0})},[n,t]),y.jsx("div",{className:"flex justify-center items-center min-h-screen",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),y.jsx("p",{className:"text-gray-600",children:"Redirecting to fundraiser editor..."})]})})}function Qbe(){const[n,t]=ye.useState([]),[e,r]=ye.useState("");ye.useEffect(()=>{async function s(){const{data:{session:l}}=await jr.auth.getSession();if(!(l!=null&&l.access_token)){r("Authentication required.");return}try{const c=await fetch("/api/budgets",{headers:{Authorization:`Bearer ${l.access_token}`}}),u=await c.json();c.ok?t(u):r(u.error||"Failed to load transactions.")}catch(c){console.error("Budget fetch error:",c),r("Error connecting to the server.")}}s()},[]);const i=n.filter(s=>s.type==="income").reduce((s,l)=>s+parseFloat(l.amount||0),0),o=n.filter(s=>s.type==="expense").reduce((s,l)=>s+parseFloat(l.amount||0),0),a=i-o;return y.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsx("h1",{className:"text-2xl font-bold",children:"PTO Budget Overview"}),y.jsx(iu,{to:"/budget/create",className:"bg-blue-600 text-white px-4 py-2 rounded",children:"+ Add Entry"})]}),y.jsxs("div",{className:"mb-6 p-4 border rounded bg-gray-100",children:[y.jsxs("p",{className:"text-lg font-semibold",children:["Current Balance: $",a.toFixed(2)]}),y.jsxs("p",{className:"text-sm text-green-700",children:["Total Income: $",i.toFixed(2)]}),y.jsxs("p",{className:"text-sm text-red-700",children:["Total Expenses: $",o.toFixed(2)]})]}),e&&y.jsx("p",{className:"text-red-600",children:e}),n.length===0&&!e&&y.jsx("p",{children:"No budget entries found."}),y.jsx("ul",{className:"space-y-4",children:n.map(s=>y.jsxs("li",{className:"border p-4 rounded shadow-sm bg-white",children:[y.jsxs("div",{className:"flex justify-between",children:[y.jsx("h2",{className:"text-lg font-semibold",children:s.label}),y.jsxs("span",{className:s.type==="income"?"text-green-600":"text-red-600",children:[s.type==="income"?"+":"-","$",parseFloat(s.amount).toFixed(2)]})]}),y.jsx("p",{className:"text-sm text-gray-500",children:s.category||"Uncategorized"}),s.related_event_id&&y.jsxs("p",{className:"text-sm text-blue-700 mt-1",children:["Event ID: ",s.related_event_id]})]},s.id))})]})}const exe=()=>{const n=Oa(),[t,e]=ye.useState("overview"),[r,i]=ye.useState("manual"),[o,a]=ye.useState("current"),s={totalBudget:45e3,totalSpent:28500,totalRemaining:16500,projectedIncome:52e3,categories:[{id:1,name:"Events & Programs",budgeted:15e3,spent:8500,remaining:6500,percentage:57,trend:"up",createdBy:"stella",subcategories:[{name:"Fall Festival",budgeted:5e3,spent:3200},{name:"Science Night",budgeted:3e3,spent:1800},{name:"Book Fair",budgeted:4e3,spent:2500},{name:"Art Show",budgeted:3e3,spent:1e3}]},{id:2,name:"Educational Support",budgeted:12e3,spent:7200,remaining:4800,percentage:60,trend:"stable",createdBy:"manual",subcategories:[{name:"Classroom Supplies",budgeted:6e3,spent:4200},{name:"Technology",budgeted:4e3,spent:2e3},{name:"Library Books",budgeted:2e3,spent:1e3}]},{id:3,name:"Communications",budgeted:3e3,spent:1800,remaining:1200,percentage:60,trend:"down",createdBy:"stella",subcategories:[{name:"Website & Digital",budgeted:1500,spent:800},{name:"Print Materials",budgeted:1e3,spent:700},{name:"Social Media",budgeted:500,spent:300}]},{id:4,name:"Administrative",budgeted:5e3,spent:3200,remaining:1800,percentage:64,trend:"up",createdBy:"manual",subcategories:[{name:"Insurance",budgeted:2e3,spent:2e3},{name:"Banking & Fees",budgeted:1e3,spent:600},{name:"Office Supplies",budgeted:2e3,spent:600}]}],recentTransactions:[{id:1,date:"2024-10-15",description:"Fall Festival Decorations",category:"Events & Programs",amount:-450,type:"expense",createdBy:"stella"},{id:2,date:"2024-10-14",description:"Book Fair Revenue",category:"Events & Programs",amount:2800,type:"income",createdBy:"manual"},{id:3,date:"2024-10-12",description:"Classroom Technology",category:"Educational Support",amount:-1200,type:"expense",createdBy:"manual"}]},l=()=>{n("/budget/create")},c=()=>{n("/communications/ai?context=budget&mode=assisted")},u=()=>{n("/ai-workflow-orchestrator?context=budget&mode=automated")},f=C=>{n(`/budget/create?category=${C}&mode=view`)},h=C=>{n(`/budget/create?category=${C}&mode=edit`)},d=C=>{n(`/budget/create?category=${C}&mode=optimize`)},m=()=>{n("/budget/create?mode=reallocation")},g=()=>y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[y.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[y.jsx("div",{className:"flex items-center justify-between mb-4",children:y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx(W8,{className:"w-6 h-6 text-blue-600"}),y.jsx("h3",{className:"font-semibold text-gray-900",children:"Total Budget"})]})}),y.jsxs("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:["$",s.totalBudget.toLocaleString()]}),y.jsx("div",{className:"text-sm text-gray-600",children:"For current fiscal year"})]}),y.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[y.jsx("div",{className:"flex items-center justify-between mb-4",children:y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx(gI,{className:"w-6 h-6 text-red-600"}),y.jsx("h3",{className:"font-semibold text-gray-900",children:"Total Spent"})]})}),y.jsxs("div",{className:"text-3xl font-bold text-red-600 mb-2",children:["$",s.totalSpent.toLocaleString()]}),y.jsxs("div",{className:"text-sm text-gray-600",children:[Math.round(s.totalSpent/s.totalBudget*100),"% of budget used"]})]}),y.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[y.jsx("div",{className:"flex items-center justify-between mb-4",children:y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx(mI,{className:"w-6 h-6 text-green-600"}),y.jsx("h3",{className:"font-semibold text-gray-900",children:"Remaining"})]})}),y.jsxs("div",{className:"text-3xl font-bold text-green-600 mb-2",children:["$",s.totalRemaining.toLocaleString()]}),y.jsx("div",{className:"text-sm text-gray-600",children:"Available for spending"})]}),y.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[y.jsx("div",{className:"flex items-center justify-between mb-4",children:y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx(yI,{className:"w-6 h-6 text-purple-600"}),y.jsx("h3",{className:"font-semibold text-gray-900",children:"Projected Income"})]})}),y.jsxs("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:["$",s.projectedIncome.toLocaleString()]}),y.jsx("div",{className:"text-sm text-gray-600",children:"Expected total revenue"})]})]}),x=()=>y.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg p-6 mb-8",children:[y.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[y.jsx(Ua,{className:"w-6 h-6 text-purple-600"}),y.jsx("h3",{className:"text-lg font-semibold text-purple-900",children:"Stella's Budget Insights"})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[y.jsxs("div",{className:"bg-white rounded-lg p-4",children:[y.jsx("div",{className:"text-sm text-purple-600 mb-1",children:"Budget Health"}),y.jsx("div",{className:"text-lg font-semibold text-green-700",children:"Excellent"}),y.jsx("div",{className:"text-xs text-purple-700",children:"On track for surplus"})]}),y.jsxs("div",{className:"bg-white rounded-lg p-4",children:[y.jsx("div",{className:"text-sm text-purple-600 mb-1",children:"Biggest Opportunity"}),y.jsx("div",{className:"text-lg font-semibold text-purple-900",children:"Fall Festival"}),y.jsx("div",{className:"text-xs text-purple-700",children:"Could generate $2K more"})]}),y.jsxs("div",{className:"bg-white rounded-lg p-4",children:[y.jsx("div",{className:"text-sm text-purple-600 mb-1",children:"Cost Savings"}),y.jsx("div",{className:"text-lg font-semibold text-purple-900",children:"$1,200 Found"}),y.jsx("div",{className:"text-xs text-purple-700",children:"In administrative costs"})]})]}),y.jsxs("div",{className:"bg-white rounded-lg p-4",children:[y.jsx("div",{className:"text-sm text-purple-900 font-medium mb-2",children:"💡 Stella's Recommendation"}),y.jsx("div",{className:"text-sm text-purple-800",children:'"Your Events & Programs category is performing well! Consider reallocating $1,000 from Administrative to Educational Support to maximize impact on students. I can create a reallocation plan for you."'}),y.jsx("button",{onClick:m,className:"mt-3 px-4 py-2 bg-purple-600 text-white rounded-lg text-sm hover:bg-purple-700 transition-colors",children:"Let Stella Create Reallocation Plan"})]})]}),b=()=>y.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-8",children:[y.jsxs("div",{className:"flex items-center justify-between mb-6",children:[y.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Budget Categories"}),y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:"Manual Entry"}),y.jsx("button",{className:"px-4 py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors text-sm",children:"Ask Stella"})]})]}),y.jsx("div",{className:"space-y-6",children:s.categories.map(C=>{const w=C.spent/C.budgeted*100,N=w>100;return y.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsxs("div",{className:"flex items-center space-x-3",children:[y.jsx("h4",{className:"font-semibold text-gray-900",children:C.name}),C.createdBy==="stella"&&y.jsx(Ua,{className:"w-4 h-4 text-purple-500",title:"Optimized by Stella"}),y.jsxs("div",{className:`flex items-center space-x-1 text-sm ${C.trend==="up"?"text-green-600":C.trend==="down"?"text-red-600":"text-gray-600"}`,children:[C.trend==="up"&&y.jsx(bC,{className:"w-4 h-4"}),C.trend==="down"&&y.jsx(xC,{className:"w-4 h-4"}),y.jsx("span",{className:"capitalize",children:C.trend})]})]}),y.jsxs("div",{className:"text-right",children:[y.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["$",C.spent.toLocaleString()," / $",C.budgeted.toLocaleString()]}),y.jsxs("div",{className:"text-sm text-gray-600",children:["$",C.remaining.toLocaleString()," remaining"]})]})]}),y.jsxs("div",{className:"mb-4",children:[y.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[y.jsx("span",{className:"text-gray-600",children:"Progress"}),y.jsxs("span",{className:`font-medium ${N?"text-red-600":"text-gray-900"}`,children:[Math.round(w),"%"]})]}),y.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:y.jsx("div",{className:`h-3 rounded-full transition-all duration-300 ${N?"bg-red-500":"bg-blue-600"}`,style:{width:`${Math.min(w,100)}%`}})})]}),y.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:C.subcategories.map((A,j)=>y.jsxs("div",{className:"bg-gray-50 rounded p-3",children:[y.jsx("div",{className:"text-sm font-medium text-gray-900",children:A.name}),y.jsxs("div",{className:"text-xs text-gray-600",children:["$",A.spent.toLocaleString()," / $",A.budgeted.toLocaleString()]})]},j))}),y.jsxs("div",{className:"flex space-x-2 mt-4",children:[y.jsxs("button",{onClick:()=>f(C.id),className:"flex items-center px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[y.jsx(n0,{className:"w-4 h-4 mr-2"}),"View Details"]}),y.jsxs("button",{onClick:()=>h(C.id),className:"flex items-center px-3 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors text-sm",children:[y.jsx(i0,{className:"w-4 h-4 mr-2"}),"Edit"]}),C.createdBy==="manual"&&y.jsxs("button",{onClick:()=>d(C.id),className:"flex items-center px-3 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors text-sm",children:[y.jsx(Ua,{className:"w-4 h-4 mr-2"}),"Ask Stella to Optimize"]})]})]},C.id)})})]}),_=()=>y.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-8",children:[y.jsxs("div",{className:"flex items-center justify-between mb-6",children:[y.jsxs("div",{className:"flex items-center space-x-3",children:[y.jsx(bI,{className:"w-6 h-6 text-indigo-600"}),y.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Monthly Reconciliation"})]}),y.jsxs("button",{onClick:()=>n("/budget/reconciliation"),className:"flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:[y.jsx(xI,{className:"w-4 h-4 mr-2"}),"View All Reconciliations"]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[y.jsxs("div",{className:"border-2 border-indigo-200 rounded-lg p-6 hover:border-indigo-400 transition-colors bg-indigo-50",children:[y.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[y.jsx(wI,{className:"w-8 h-8 text-indigo-600"}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-semibold text-indigo-900",children:"Start New Reconciliation"}),y.jsx("p",{className:"text-sm text-indigo-700",children:"Upload bank statement and reconcile transactions"})]})]}),y.jsxs("ul",{className:"text-sm text-indigo-700 space-y-2 mb-4",children:[y.jsx("li",{children:"• OCR bank statement processing"}),y.jsx("li",{children:"• Smart transaction matching"}),y.jsx("li",{children:"• Automated discrepancy detection"}),y.jsx("li",{children:"• Generate reconciliation reports"})]}),y.jsx("button",{onClick:()=>n("/budget/reconciliation/new"),className:"w-full py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:"Start Reconciliation"})]}),y.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[y.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Recent Reconciliations"}),y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[y.jsxs("div",{children:[y.jsx("div",{className:"font-medium text-green-900",children:"October 2024"}),y.jsx("div",{className:"text-sm text-green-700",children:"Completed • 98% match rate"})]}),y.jsx(K8,{className:"w-5 h-5 text-green-600"})]}),y.jsxs("div",{className:"flex items-center justify-between p-3 bg-yellow-50 rounded-lg",children:[y.jsxs("div",{children:[y.jsx("div",{className:"font-medium text-yellow-900",children:"November 2024"}),y.jsx("div",{className:"text-sm text-yellow-700",children:"In Progress • 3 discrepancies"})]}),y.jsx(_I,{className:"w-5 h-5 text-yellow-600"})]}),y.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[y.jsxs("div",{children:[y.jsx("div",{className:"font-medium text-gray-900",children:"December 2024"}),y.jsx("div",{className:"text-sm text-gray-700",children:"Pending • Not started"})]}),y.jsx(sd,{className:"w-5 h-5 text-gray-600"})]})]}),y.jsx("button",{onClick:()=>n("/budget/reconciliation"),className:"w-full mt-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors text-sm",children:"View Reconciliation History"})]})]}),y.jsxs("div",{className:"mt-6 bg-gradient-to-r from-indigo-50 to-purple-50 rounded-lg p-4",children:[y.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[y.jsx(Ua,{className:"w-5 h-5 text-indigo-600"}),y.jsx("span",{className:"font-medium text-indigo-900",children:"Reconciliation Insights"})]}),y.jsx("div",{className:"text-sm text-indigo-800",children:"Your reconciliation accuracy has improved by 15% this quarter. Consider setting up automated monthly reconciliations to maintain financial accuracy and save time."})]})]}),S=()=>y.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-8",children:[y.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Create New Budget Item"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[y.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-6 hover:border-blue-300 transition-colors",children:[y.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[y.jsx(SI,{className:"w-8 h-8 text-gray-600"}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-semibold text-gray-900",children:"Manual Entry"}),y.jsx("p",{className:"text-sm text-gray-600",children:"Full control over details"})]})]}),y.jsxs("ul",{className:"text-sm text-gray-600 space-y-2 mb-4",children:[y.jsx("li",{children:"• Custom categories"}),y.jsx("li",{children:"• Detailed line items"}),y.jsx("li",{children:"• Manual calculations"})]}),y.jsx("button",{onClick:l,className:"w-full py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Create Manually"})]}),y.jsxs("div",{className:"border-2 border-blue-200 rounded-lg p-6 hover:border-blue-400 transition-colors bg-blue-50",children:[y.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[y.jsx(Ua,{className:"w-8 h-8 text-blue-600"}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-semibold text-blue-900",children:"Stella Assisted"}),y.jsx("p",{className:"text-sm text-blue-700",children:"Smart suggestions & validation"})]})]}),y.jsxs("ul",{className:"text-sm text-blue-700 space-y-2 mb-4",children:[y.jsx("li",{children:"• Budget recommendations"}),y.jsx("li",{children:"• Historical comparisons"}),y.jsx("li",{children:"• Optimization suggestions"})]}),y.jsx("button",{onClick:c,className:"w-full py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Get Stella's Help"})]}),y.jsxs("div",{className:"border-2 border-purple-200 rounded-lg p-6 hover:border-purple-400 transition-colors bg-purple-50",children:[y.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[y.jsx(Ua,{className:"w-8 h-8 text-purple-600"}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-semibold text-purple-900",children:"Stella Auto-Generate"}),y.jsx("p",{className:"text-sm text-purple-700",children:"Complete budget creation"})]})]}),y.jsxs("ul",{className:"text-sm text-purple-700 space-y-2 mb-4",children:[y.jsx("li",{children:"• AI-powered allocations"}),y.jsx("li",{children:"• Predictive modeling"}),y.jsx("li",{children:"• Optimization algorithms"})]}),y.jsx("button",{onClick:u,className:"w-full py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Let Stella Generate"})]})]})]}),T=()=>y.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[y.jsxs("div",{className:"flex items-center justify-between mb-6",children:[y.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Recent Transactions"}),y.jsxs("button",{className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[y.jsx(TI,{className:"w-4 h-4 mr-2"}),"Export"]})]}),y.jsx("div",{className:"space-y-4",children:s.recentTransactions.map(C=>y.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[y.jsxs("div",{className:"flex items-center space-x-4",children:[y.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${C.type==="income"?"bg-green-100":"bg-red-100"}`,children:C.type==="income"?y.jsx(bC,{className:"w-5 h-5 text-green-600"}):y.jsx(xC,{className:"w-5 h-5 text-red-600"})}),y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx("h4",{className:"font-medium text-gray-900",children:C.description}),C.createdBy==="stella"&&y.jsx(Ua,{className:"w-4 h-4 text-purple-500",title:"Processed by Stella"})]}),y.jsxs("div",{className:"text-sm text-gray-600",children:[C.category," • ",new Date(C.date).toLocaleDateString()]})]})]}),y.jsxs("div",{className:`text-lg font-semibold ${C.type==="income"?"text-green-600":"text-red-600"}`,children:[C.type==="income"?"+":"","$",Math.abs(C.amount).toLocaleString()]})]},C.id))})]});return y.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:y.jsxs("div",{className:"max-w-7xl mx-auto",children:[y.jsxs("div",{className:"flex items-center justify-between mb-6",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Budget Dashboard"}),y.jsx("p",{className:"text-gray-600",children:"Manage your PTO finances with Stella's intelligent insights"})]}),y.jsx("div",{className:"flex items-center space-x-3",children:y.jsxs("select",{value:o,onChange:C=>a(C.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[y.jsx("option",{value:"current",children:"Current Year"}),y.jsx("option",{value:"previous",children:"Previous Year"}),y.jsx("option",{value:"quarter",children:"This Quarter"})]})})]}),y.jsx(g,{}),y.jsx(x,{}),y.jsx(_,{}),y.jsx(S,{}),y.jsx(b,{}),y.jsx(T,{})]})})};function txe(){const[n,t]=ye.useState({label:"",amount:"",category:"",type:"expense",related_event_id:""}),[e,r]=ye.useState(""),[i,o]=ye.useState(""),a=l=>{const{name:c,value:u}=l.target;t(f=>({...f,[c]:u}))},s=async l=>{l.preventDefault(),o(""),r("");const{data:{session:c}}=await jr.auth.getSession();if(!(c!=null&&c.access_token)){o("Authentication required.");return}try{const u=await fetch("/api/budgets",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c.access_token}`},body:JSON.stringify(n)}),f=await u.json();u.ok?(r("Budget entry added successfully!"),t({label:"",amount:"",category:"",type:"expense",related_event_id:""})):o(f.error||"Submission failed.")}catch(u){console.error("Budget entry error:",u),o("Server error. Please try again.")}};return y.jsxs("div",{className:"max-w-xl mx-auto p-4",children:[y.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Add Budget Entry"}),y.jsxs("form",{onSubmit:s,className:"space-y-4",children:[y.jsx("input",{name:"label",value:n.label,onChange:a,placeholder:"Label",className:"w-full border p-2",required:!0}),y.jsx("input",{type:"number",name:"amount",value:n.amount,onChange:a,placeholder:"Amount",className:"w-full border p-2",required:!0}),y.jsx("input",{name:"category",value:n.category,onChange:a,placeholder:"Category (e.g., supplies, venue)",className:"w-full border p-2"}),y.jsxs("select",{name:"type",value:n.type,onChange:a,className:"w-full border p-2",children:[y.jsx("option",{value:"expense",children:"Expense"}),y.jsx("option",{value:"income",children:"Income"})]}),y.jsx("input",{name:"related_event_id",value:n.related_event_id,onChange:a,placeholder:"Related Event ID (optional)",className:"w-full border p-2"}),y.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded",type:"submit",children:"Save Entry"}),e&&y.jsx("p",{className:"text-green-600",children:e}),i&&y.jsx("p",{className:"text-red-600",children:i})]})]})}const rxe=()=>y.jsxs("div",{children:[y.jsx("h1",{children:"Reconciliation Dashboard"}),y.jsx("p",{children:"This is a placeholder for the Reconciliation Dashboard."})]});function nxe({title:n,titleId:t,...e},r){return ye.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},e),n?ye.createElement("title",{id:t},n):null,ye.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"}))}const ixe=ye.forwardRef(nxe);function oxe({title:n,titleId:t,...e},r){return ye.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},e),n?ye.createElement("title",{id:t},n):null,ye.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 21 3 16.5m0 0L7.5 12M3 16.5h13.5m0-13.5L21 7.5m0 0L16.5 12M21 7.5H7.5"}))}const G3=ye.forwardRef(oxe);function axe({title:n,titleId:t,...e},r){return ye.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},e),n?ye.createElement("title",{id:t},n):null,ye.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const X_=ye.forwardRef(axe);function sxe({title:n,titleId:t,...e},r){return ye.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},e),n?ye.createElement("title",{id:t},n):null,ye.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const lxe=ye.forwardRef(sxe);function cxe({title:n,titleId:t,...e},r){return ye.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},e),n?ye.createElement("title",{id:t},n):null,ye.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const uxe=ye.forwardRef(cxe);function fxe({title:n,titleId:t,...e},r){return ye.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},e),n?ye.createElement("title",{id:t},n):null,ye.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const dxe=ye.forwardRef(fxe);function hxe({title:n,titleId:t,...e},r){return ye.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},e),n?ye.createElement("title",{id:t},n):null,ye.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const pxe=ye.forwardRef(hxe);function vxe({title:n,titleId:t,...e},r){return ye.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},e),n?ye.createElement("title",{id:t},n):null,ye.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),ye.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const gxe=ye.forwardRef(vxe);function mxe({title:n,titleId:t,...e},r){return ye.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},e),n?ye.createElement("title",{id:t},n):null,ye.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"}))}const yxe=ye.forwardRef(mxe);function bxe({title:n,titleId:t,...e},r){return ye.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},e),n?ye.createElement("title",{id:t},n):null,ye.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const OM=ye.forwardRef(bxe),Xm={startReconciliation:async n=>{var t,e,r,i,o,a,s,l,c,u;console.log("🔍 [FRONTEND DEBUG] startReconciliation called with data:",n);try{console.log("🔍 [FRONTEND DEBUG] Making API call to /budget/reconciliation/start");const f=await oo.post("/budget/reconciliation/start",n);console.log("🔍 [FRONTEND DEBUG] API response received:",{status:f.status,statusText:f.statusText,data:f.data});const h={success:f.data.success,data:f.data.data,error:((e=(t=f.data.errors)==null?void 0:t[0])==null?void 0:e.message)||null};return console.log("🔍 [FRONTEND DEBUG] Processed result:",h),h}catch(f){console.error("❌ [FRONTEND DEBUG] Error starting reconciliation:",f),console.error("❌ [FRONTEND DEBUG] Error response:",f.response),console.error("❌ [FRONTEND DEBUG] Error response data:",(r=f.response)==null?void 0:r.data),console.error("❌ [FRONTEND DEBUG] Error response status:",(i=f.response)==null?void 0:i.status);const h=((l=(s=(a=(o=f.response)==null?void 0:o.data)==null?void 0:a.errors)==null?void 0:s[0])==null?void 0:l.message)||((u=(c=f.response)==null?void 0:c.data)==null?void 0:u.error)||f.message;return console.error("❌ [FRONTEND DEBUG] Final error message:",h),{success:!1,error:h}}},getReconciliations:async()=>{var n,t,e,r,i,o;try{const a=await oo.get("/budget/reconciliation");return{success:a.data.success,data:a.data.data,error:((t=(n=a.data.errors)==null?void 0:n[0])==null?void 0:t.message)||null}}catch(a){return console.error("Error fetching reconciliations:",a),{success:!1,error:((o=(i=(r=(e=a.response)==null?void 0:e.data)==null?void 0:r.errors)==null?void 0:i[0])==null?void 0:o.message)||a.message}}},uploadStatement:async(n,t)=>{var e,r,i,o,a,s;try{const l=await oo.post(`/budget/reconciliation/${n}/upload`,t);return{success:l.data.success,data:l.data.data,error:((r=(e=l.data.errors)==null?void 0:e[0])==null?void 0:r.message)||null}}catch(l){return console.error("Error uploading statement:",l),{success:!1,error:((s=(a=(o=(i=l.response)==null?void 0:i.data)==null?void 0:o.errors)==null?void 0:a[0])==null?void 0:s.message)||l.message}}},getTransactions:async n=>{var t,e,r,i,o,a;try{const s=await oo.get(`/budget/reconciliation/${n}/transactions`);return{success:s.data.success,data:s.data.data,error:((e=(t=s.data.errors)==null?void 0:t[0])==null?void 0:e.message)||null}}catch(s){return console.error("Error fetching transactions:",s),{success:!1,error:((a=(o=(i=(r=s.response)==null?void 0:r.data)==null?void 0:i.errors)==null?void 0:o[0])==null?void 0:a.message)||s.message}}},matchTransaction:async(n,t)=>{var e,r,i,o,a,s;try{const l=await oo.post(`/budget/reconciliation/${n}/match`,{bank_transaction_id:t.bankTransactionId,expense_id:t.expenseId});return{success:l.data.success,data:l.data.data,error:((r=(e=l.data.errors)==null?void 0:e[0])==null?void 0:r.message)||null}}catch(l){return console.error("Error matching transaction:",l),{success:!1,error:((s=(a=(o=(i=l.response)==null?void 0:i.data)==null?void 0:o.errors)==null?void 0:a[0])==null?void 0:s.message)||l.message}}},completeReconciliation:async n=>{var t,e,r,i,o,a;try{const s=await oo.post(`/budget/reconciliation/${n}/complete`);return{success:s.data.success,data:s.data.data,error:((e=(t=s.data.errors)==null?void 0:t[0])==null?void 0:e.message)||null}}catch(s){return console.error("Error completing reconciliation:",s),{success:!1,error:((a=(o=(i=(r=s.response)==null?void 0:r.data)==null?void 0:i.errors)==null?void 0:o[0])==null?void 0:a.message)||s.message}}},generateReport:async n=>{var t,e,r,i,o,a;try{const s=await oo.get(`/budget/reconciliation/${n}/report`);return{success:s.data.success,data:s.data.data,error:((e=(t=s.data.errors)==null?void 0:t[0])==null?void 0:e.message)||null}}catch(s){return console.error("Error generating report:",s),{success:!1,error:((a=(o=(i=(r=s.response)==null?void 0:r.data)==null?void 0:i.errors)==null?void 0:o[0])==null?void 0:a.message)||s.message}}}};var xxe={exports:{}};(function(n){var t=function(e){var r=Object.prototype,i=r.hasOwnProperty,o=Object.defineProperty||function(Y,te,he){Y[te]=he.value},a,s=typeof Symbol=="function"?Symbol:{},l=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",u=s.toStringTag||"@@toStringTag";function f(Y,te,he){return Object.defineProperty(Y,te,{value:he,enumerable:!0,configurable:!0,writable:!0}),Y[te]}try{f({},"")}catch{f=function(te,he,z){return te[he]=z}}function h(Y,te,he,z){var Z=te&&te.prototype instanceof S?te:S,X=Object.create(Z.prototype),ae=new F(z||[]);return o(X,"_invoke",{value:M(Y,he,ae)}),X}e.wrap=h;function d(Y,te,he){try{return{type:"normal",arg:Y.call(te,he)}}catch(z){return{type:"throw",arg:z}}}var m="suspendedStart",g="suspendedYield",x="executing",b="completed",_={};function S(){}function T(){}function C(){}var w={};f(w,l,function(){return this});var N=Object.getPrototypeOf,A=N&&N(N(G([])));A&&A!==r&&i.call(A,l)&&(w=A);var j=C.prototype=S.prototype=Object.create(w);T.prototype=C,o(j,"constructor",{value:C,configurable:!0}),o(C,"constructor",{value:T,configurable:!0}),T.displayName=f(C,u,"GeneratorFunction");function R(Y){["next","throw","return"].forEach(function(te){f(Y,te,function(he){return this._invoke(te,he)})})}e.isGeneratorFunction=function(Y){var te=typeof Y=="function"&&Y.constructor;return te?te===T||(te.displayName||te.name)==="GeneratorFunction":!1},e.mark=function(Y){return Object.setPrototypeOf?Object.setPrototypeOf(Y,C):(Y.__proto__=C,f(Y,u,"GeneratorFunction")),Y.prototype=Object.create(j),Y},e.awrap=function(Y){return{__await:Y}};function L(Y,te){function he(X,ae,ve,me){var Ee=d(Y[X],Y,ae);if(Ee.type==="throw")me(Ee.arg);else{var ke=Ee.arg,He=ke.value;return He&&typeof He=="object"&&i.call(He,"__await")?te.resolve(He.__await).then(function(Re){he("next",Re,ve,me)},function(Re){he("throw",Re,ve,me)}):te.resolve(He).then(function(Re){ke.value=Re,ve(ke)},function(Re){return he("throw",Re,ve,me)})}}var z;function Z(X,ae){function ve(){return new te(function(me,Ee){he(X,ae,me,Ee)})}return z=z?z.then(ve,ve):ve()}o(this,"_invoke",{value:Z})}R(L.prototype),f(L.prototype,c,function(){return this}),e.AsyncIterator=L,e.async=function(Y,te,he,z,Z){Z===void 0&&(Z=Promise);var X=new L(h(Y,te,he,z),Z);return e.isGeneratorFunction(te)?X:X.next().then(function(ae){return ae.done?ae.value:X.next()})};function M(Y,te,he){var z=m;return function(X,ae){if(z===x)throw new Error("Generator is already running");if(z===b){if(X==="throw")throw ae;return W()}for(he.method=X,he.arg=ae;;){var ve=he.delegate;if(ve){var me=I(ve,he);if(me){if(me===_)continue;return me}}if(he.method==="next")he.sent=he._sent=he.arg;else if(he.method==="throw"){if(z===m)throw z=b,he.arg;he.dispatchException(he.arg)}else he.method==="return"&&he.abrupt("return",he.arg);z=x;var Ee=d(Y,te,he);if(Ee.type==="normal"){if(z=he.done?b:g,Ee.arg===_)continue;return{value:Ee.arg,done:he.done}}else Ee.type==="throw"&&(z=b,he.method="throw",he.arg=Ee.arg)}}}function I(Y,te){var he=te.method,z=Y.iterator[he];if(z===a)return te.delegate=null,he==="throw"&&Y.iterator.return&&(te.method="return",te.arg=a,I(Y,te),te.method==="throw")||he!=="return"&&(te.method="throw",te.arg=new TypeError("The iterator does not provide a '"+he+"' method")),_;var Z=d(z,Y.iterator,te.arg);if(Z.type==="throw")return te.method="throw",te.arg=Z.arg,te.delegate=null,_;var X=Z.arg;if(!X)return te.method="throw",te.arg=new TypeError("iterator result is not an object"),te.delegate=null,_;if(X.done)te[Y.resultName]=X.value,te.next=Y.nextLoc,te.method!=="return"&&(te.method="next",te.arg=a);else return X;return te.delegate=null,_}R(j),f(j,u,"Generator"),f(j,l,function(){return this}),f(j,"toString",function(){return"[object Generator]"});function D(Y){var te={tryLoc:Y[0]};1 in Y&&(te.catchLoc=Y[1]),2 in Y&&(te.finallyLoc=Y[2],te.afterLoc=Y[3]),this.tryEntries.push(te)}function V(Y){var te=Y.completion||{};te.type="normal",delete te.arg,Y.completion=te}function F(Y){this.tryEntries=[{tryLoc:"root"}],Y.forEach(D,this),this.reset(!0)}e.keys=function(Y){var te=Object(Y),he=[];for(var z in te)he.push(z);return he.reverse(),function Z(){for(;he.length;){var X=he.pop();if(X in te)return Z.value=X,Z.done=!1,Z}return Z.done=!0,Z}};function G(Y){if(Y){var te=Y[l];if(te)return te.call(Y);if(typeof Y.next=="function")return Y;if(!isNaN(Y.length)){var he=-1,z=function Z(){for(;++he<Y.length;)if(i.call(Y,he))return Z.value=Y[he],Z.done=!1,Z;return Z.value=a,Z.done=!0,Z};return z.next=z}}return{next:W}}e.values=G;function W(){return{value:a,done:!0}}return F.prototype={constructor:F,reset:function(Y){if(this.prev=0,this.next=0,this.sent=this._sent=a,this.done=!1,this.delegate=null,this.method="next",this.arg=a,this.tryEntries.forEach(V),!Y)for(var te in this)te.charAt(0)==="t"&&i.call(this,te)&&!isNaN(+te.slice(1))&&(this[te]=a)},stop:function(){this.done=!0;var Y=this.tryEntries[0],te=Y.completion;if(te.type==="throw")throw te.arg;return this.rval},dispatchException:function(Y){if(this.done)throw Y;var te=this;function he(me,Ee){return X.type="throw",X.arg=Y,te.next=me,Ee&&(te.method="next",te.arg=a),!!Ee}for(var z=this.tryEntries.length-1;z>=0;--z){var Z=this.tryEntries[z],X=Z.completion;if(Z.tryLoc==="root")return he("end");if(Z.tryLoc<=this.prev){var ae=i.call(Z,"catchLoc"),ve=i.call(Z,"finallyLoc");if(ae&&ve){if(this.prev<Z.catchLoc)return he(Z.catchLoc,!0);if(this.prev<Z.finallyLoc)return he(Z.finallyLoc)}else if(ae){if(this.prev<Z.catchLoc)return he(Z.catchLoc,!0)}else if(ve){if(this.prev<Z.finallyLoc)return he(Z.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(Y,te){for(var he=this.tryEntries.length-1;he>=0;--he){var z=this.tryEntries[he];if(z.tryLoc<=this.prev&&i.call(z,"finallyLoc")&&this.prev<z.finallyLoc){var Z=z;break}}Z&&(Y==="break"||Y==="continue")&&Z.tryLoc<=te&&te<=Z.finallyLoc&&(Z=null);var X=Z?Z.completion:{};return X.type=Y,X.arg=te,Z?(this.method="next",this.next=Z.finallyLoc,_):this.complete(X)},complete:function(Y,te){if(Y.type==="throw")throw Y.arg;return Y.type==="break"||Y.type==="continue"?this.next=Y.arg:Y.type==="return"?(this.rval=this.arg=Y.arg,this.method="return",this.next="end"):Y.type==="normal"&&te&&(this.next=te),_},finish:function(Y){for(var te=this.tryEntries.length-1;te>=0;--te){var he=this.tryEntries[te];if(he.finallyLoc===Y)return this.complete(he.completion,he.afterLoc),V(he),_}},catch:function(Y){for(var te=this.tryEntries.length-1;te>=0;--te){var he=this.tryEntries[te];if(he.tryLoc===Y){var z=he.completion;if(z.type==="throw"){var Z=z.arg;V(he)}return Z}}throw new Error("illegal catch attempt")},delegateYield:function(Y,te,he){return this.delegate={iterator:G(Y),resultName:te,nextLoc:he},this.method==="next"&&(this.arg=a),_}},e}(n.exports);try{regeneratorRuntime=t}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}})(xxe);var O4=(n,t)=>`${n}-${t}-${Math.random().toString(16).slice(3,8)}`;const wxe=O4;let K3=0;var AM=({id:n,action:t,payload:e={}})=>{let r=n;return typeof r>"u"&&(r=wxe("Job",K3),K3+=1),{id:r,action:t,payload:e}},nv={};let A4=!1;nv.logging=A4;nv.setLogging=n=>{A4=n};nv.log=(...n)=>A4?console.log.apply(void 0,n):null;const _xe=AM,{log:Om}=nv,Sxe=O4;let Y3=0;var Txe=()=>{const n=Sxe("Scheduler",Y3),t={},e={};let r=[];Y3+=1;const i=()=>r.length,o=()=>Object.keys(t).length,a=()=>{if(r.length!==0){const f=Object.keys(t);for(let h=0;h<f.length;h+=1)if(typeof e[f[h]]>"u"){r[0](t[f[h]]);break}}},s=(f,h)=>new Promise((d,m)=>{const g=_xe({action:f,payload:h});r.push(async x=>{r.shift(),e[x.id]=g;try{d(await x[f].apply(void 0,[...h,g.id]))}catch(b){m(b)}finally{delete e[x.id],a()}}),Om(`[${n}]: Add ${g.id} to JobQueue`),Om(`[${n}]: JobQueue length=${r.length}`),a()});return{addWorker:f=>(t[f.id]=f,Om(`[${n}]: Add ${f.id}`),Om(`[${n}]: Number of workers=${o()}`),a(),f.id),addJob:async(f,...h)=>{if(o()===0)throw Error(`[${n}]: You need to have at least one worker before adding jobs`);return s(f,h)},terminate:async()=>{Object.keys(t).forEach(async f=>{await t[f].terminate()}),r=[]},getQueueLen:i,getNumWorkers:o}};function Cxe(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Exe=n=>{const t={};return typeof WorkerGlobalScope<"u"?t.type="webworker":typeof document=="object"?t.type="browser":typeof process=="object"&&typeof Cxe=="function"&&(t.type="node"),typeof n>"u"?t:t[n]};const Oxe=Exe("type")==="browser",Axe=Oxe?n=>new URL(n,window.location.href).href:n=>n;var Nxe=n=>{const t={...n};return["corePath","workerPath","langPath"].forEach(e=>{n[e]&&(t[e]=Axe(t[e]))}),t},NM={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3};const Pxe="6.0.1",jxe={version:Pxe};var kxe={workerBlobURL:!0,logger:()=>{}};const Mxe=jxe.version,Lxe=kxe;var Dxe={...Lxe,workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${Mxe}/dist/worker.min.js`},Ixe=({workerPath:n,workerBlobURL:t})=>{let e;if(Blob&&URL&&t){const r=new Blob([`importScripts("${n}");`],{type:"application/javascript"});e=new Worker(URL.createObjectURL(r))}else e=new Worker(n);return e},Rxe=n=>{n.terminate()},Fxe=(n,t)=>{n.onmessage=({data:e})=>{t(e)}},Bxe=async(n,t)=>{n.postMessage(t)};const c5=n=>new Promise((t,e)=>{const r=new FileReader;r.onload=()=>{t(r.result)},r.onerror=({target:{error:{code:i}}})=>{e(Error(`File could not be read! Code=${i}`))},r.readAsArrayBuffer(n)}),Z_=async n=>{let t=n;if(typeof n>"u")return"undefined";if(typeof n=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(n)?t=atob(n.split(",")[1]).split("").map(e=>e.charCodeAt(0)):t=await(await fetch(n)).arrayBuffer();else if(typeof HTMLElement<"u"&&n instanceof HTMLElement)n.tagName==="IMG"&&(t=await Z_(n.src)),n.tagName==="VIDEO"&&(t=await Z_(n.poster)),n.tagName==="CANVAS"&&await new Promise(e=>{n.toBlob(async r=>{t=await c5(r),e()})});else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas){const e=await n.convertToBlob();t=await c5(e)}else(n instanceof File||n instanceof Blob)&&(t=await c5(n));return new Uint8Array(t)};var Hxe=Z_;const $xe=Dxe,Uxe=Ixe,Vxe=Rxe,zxe=Fxe,Wxe=Bxe,qxe=Hxe;var Gxe={defaultOptions:$xe,spawnWorker:Uxe,terminateWorker:Vxe,onMessage:zxe,send:Wxe,loadImage:qxe};const Kxe=Nxe,cc=AM,{log:X3}=nv,Yxe=O4,Bf=NM,{defaultOptions:Xxe,spawnWorker:Zxe,terminateWorker:Jxe,onMessage:Qxe,loadImage:Z3,send:e2e}=Gxe;let J3=0;var PM=async(n="eng",t=Bf.LSTM_ONLY,e={},r={})=>{const i=Yxe("Worker",J3),{logger:o,errorHandler:a,...s}=Kxe({...Xxe,...e}),l={},c=typeof n=="string"?n.split("+"):n;let u=t,f=r;const h=[Bf.DEFAULT,Bf.LSTM_ONLY].includes(t)&&!s.legacyCore;let d,m;const g=new Promise((G,W)=>{m=G,d=W}),x=G=>{d(G.message)};let b=Zxe(s);b.onerror=x,J3+=1;const _=({id:G,action:W,payload:Y})=>new Promise((te,he)=>{X3(`[${i}]: Start ${G}, action=${W}`);const z=`${W}-${G}`;l[z]={resolve:te,reject:he},e2e(b,{workerId:i,jobId:G,action:W,payload:Y})}),S=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),T=G=>_(cc({id:G,action:"load",payload:{options:{lstmOnly:h,corePath:s.corePath,logging:s.logging}}})),C=(G,W,Y)=>_(cc({id:Y,action:"FS",payload:{method:"writeFile",args:[G,W]}})),w=(G,W)=>_(cc({id:W,action:"FS",payload:{method:"readFile",args:[G,{encoding:"utf8"}]}})),N=(G,W)=>_(cc({id:W,action:"FS",payload:{method:"unlink",args:[G]}})),A=(G,W,Y)=>_(cc({id:Y,action:"FS",payload:{method:G,args:W}})),j=(G,W)=>_(cc({id:W,action:"loadLanguage",payload:{langs:G,options:{langPath:s.langPath,dataPath:s.dataPath,cachePath:s.cachePath,cacheMethod:s.cacheMethod,gzip:s.gzip,lstmOnly:[Bf.DEFAULT,Bf.LSTM_ONLY].includes(u)&&!s.legacyLang}}})),R=(G,W,Y,te)=>_(cc({id:te,action:"initialize",payload:{langs:G,oem:W,config:Y}})),L=(G="eng",W,Y,te)=>{if(h&&[Bf.TESSERACT_ONLY,Bf.TESSERACT_LSTM_COMBINED].includes(W))throw Error("Legacy model requested but code missing.");const he=W||u;u=he;const z=Y||f;f=z;const X=(typeof G=="string"?G.split("+"):G).filter(ae=>!c.includes(ae));return c.push(...X),X.length>0?j(X,te).then(()=>R(G,he,z,te)):R(G,he,z,te)},M=(G={},W)=>_(cc({id:W,action:"setParameters",payload:{params:G}})),I=async(G,W={},Y={text:!0},te)=>_(cc({id:te,action:"recognize",payload:{image:await Z3(G),options:W,output:Y}})),D=async(G,W)=>{if(h)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return _(cc({id:W,action:"detect",payload:{image:await Z3(G)}}))},V=async()=>(b!==null&&(Jxe(b),b=null),Promise.resolve());Qxe(b,({workerId:G,jobId:W,status:Y,action:te,data:he})=>{const z=`${te}-${W}`;if(Y==="resolve")X3(`[${G}]: Complete ${W}`),l[z].resolve({jobId:W,data:he}),delete l[z];else if(Y==="reject")if(l[z].reject(he),delete l[z],te==="load"&&d(he),a)a(he);else throw Error(he);else Y==="progress"&&o({...he,userJobId:W})});const F={id:i,worker:b,load:S,writeText:C,readText:w,removeFile:N,FS:A,reinitialize:L,setParameters:M,recognize:I,detect:D,terminate:V};return T().then(()=>j(n)).then(()=>R(n,t,r)).then(()=>m(F)).catch(()=>{}),g};const jM=PM,t2e=async(n,t,e)=>{const r=await jM(t,1,e);return r.recognize(n).finally(async()=>{await r.terminate()})},r2e=async(n,t)=>{const e=await jM("osd",0,t);return e.detect(n).finally(async()=>{await e.terminate()})};var n2e={recognize:t2e,detect:r2e},i2e={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"},o2e={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"};const a2e=Txe,s2e=PM,l2e=n2e,c2e=i2e,u2e=NM,f2e=o2e,{setLogging:d2e}=nv;var h2e={languages:c2e,OEM:u2e,PSM:f2e,createScheduler:a2e,createWorker:s2e,setLogging:d2e,...l2e};const p2e=hn(h2e);class v2e{constructor(){this.worker=null,this.isInitialized=!1}async initialize(){if(!this.isInitialized)try{this.worker=await p2e.createWorker("eng"),this.isInitialized=!0,console.log("OCR Worker initialized successfully")}catch(t){throw console.error("Failed to initialize OCR worker:",t),new Error("OCR initialization failed")}}async processImage(t,e=null){this.isInitialized||await this.initialize();try{const r=await this.worker.recognize(t,{logger:e?i=>{i.status==="recognizing text"&&e(Math.round(i.progress*100))}:void 0});return{success:!0,text:r.data.text,confidence:r.data.confidence,words:r.data.words,lines:r.data.lines}}catch(r){return console.error("OCR processing failed:",r),{success:!1,error:r.message}}}async processBankStatement(t,e=null){const r=await this.processImage(t,e);if(!r.success)return r;const i=this.parseTransactions(r.text);return{success:!0,rawText:r.text,confidence:r.confidence,transactions:i,metadata:{totalTransactions:i.length,processingDate:new Date().toISOString()}}}parseTransactions(t){const e=[],r=t.split(`
`).filter(o=>o.trim().length>0),i={date:/(\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4})/,amount:/[\$\-]?(\d{1,3}(?:,\d{3})*\.?\d{0,2})/,debitCredit:/(DEBIT|CREDIT|DR|CR|WITHDRAWAL|DEPOSIT)/i};for(let o=0;o<r.length;o++){const a=r[o].trim();if(this.isHeaderLine(a)||a.length<10)continue;const s=a.match(i.date),l=a.match(new RegExp(i.amount.source,"g"));if(s&&l){const c=l.map(u=>{const f=u.replace(/[\$,]/g,"");return parseFloat(f)}).filter(u=>!isNaN(u)&&u>0);if(c.length>0){const u=Math.max(...c);let f=a.replace(i.date,"").replace(new RegExp(i.amount.source,"g"),"").replace(i.debitCredit,"").trim().replace(/\s+/g," ");f=this.cleanDescription(f),f.length>3&&e.push({id:`ocr_${Date.now()}_${o}`,date:this.parseDate(s[1]),description:f,amount:u,type:this.determineTransactionType(a),rawLine:a,confidence:this.calculateLineConfidence(a)})}}}return e.sort((o,a)=>new Date(a.date)-new Date(o.date))}isHeaderLine(t){const e=["STATEMENT","ACCOUNT","BALANCE","DATE","DESCRIPTION","AMOUNT","TRANSACTION","BEGINNING","ENDING","TOTAL","PAGE","BANK","CREDIT UNION"],r=t.toUpperCase();return e.some(i=>r.includes(i))&&!t.match(/\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}/)}cleanDescription(t){return t.replace(/\b(POS|ATM|ACH|CHK|DEP|WD|TFR|FEE)\b/gi,"").replace(/\b\d{4,}\b/g,"").replace(/[#*]+/g,"").replace(/\s+/g," ").trim()}parseDate(t){const e=[/(\d{1,2})\/(\d{1,2})\/(\d{2,4})/,/(\d{1,2})-(\d{1,2})-(\d{2,4})/];for(const r of e){const i=t.match(r);if(i){let[,o,a,s]=i;return s.length===2&&(s=parseInt(s)>50?`19${s}`:`20${s}`),`${s}-${o.padStart(2,"0")}-${a.padStart(2,"0")}`}}return t}determineTransactionType(t){const e=t.toUpperCase();return e.includes("DEBIT")||e.includes("WITHDRAWAL")||e.includes("DR")||e.includes("WD")?"debit":e.includes("CREDIT")||e.includes("DEPOSIT")||e.includes("CR")||e.includes("DEP")?"credit":"debit"}calculateLineConfidence(t){let e=.5;return t.match(/\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}/)&&(e+=.2),t.match(/\$?\d+\.\d{2}/)&&(e+=.2),t.length>20&&t.length<100&&(e+=.1),Math.min(e,1)}async terminate(){this.worker&&(await this.worker.terminate(),this.worker=null,this.isInitialized=!1)}validateTransactions(t){return t.filter(e=>e.date&&e.description&&e.description.length>2&&e.amount&&e.amount>0&&!isNaN(e.amount))}suggestCorrections(t){return t.map(e=>{const r=[];return e.description.includes("0")&&e.description.includes("O")&&r.push("Check if O should be 0 or vice versa"),e.description.includes("1")&&e.description.includes("l")&&r.push("Check if l should be 1 or vice versa"),e.amount>1e4&&r.push("Verify large amount - possible OCR error"),{...e,suggestions:r}})}}const u5=new v2e,g2e=({onUpload:n})=>{const[t,e]=ye.useState(null),[r,i]=ye.useState(!1),[o,a]=ye.useState(0),[s,l]=ye.useState(null),[c,u]=ye.useState(!1),[f,h]=ye.useState(!1),d=C=>{C.preventDefault(),C.stopPropagation(),C.type==="dragenter"||C.type==="dragover"?h(!0):C.type==="dragleave"&&h(!1)},m=C=>{C.preventDefault(),C.stopPropagation(),h(!1),C.dataTransfer.files&&C.dataTransfer.files[0]&&x(C.dataTransfer.files[0])},g=C=>{C.target.files&&C.target.files[0]&&x(C.target.files[0])},x=C=>{if(!["image/jpeg","image/png","image/jpg","application/pdf"].includes(C.type)){alert("Please upload a valid image (JPG, PNG) or PDF file.");return}if(C.size>10*1024*1024){alert("File size must be less than 10MB.");return}e(C),l(null),a(0)},b=async()=>{if(t){i(!0),a(0);try{if(t.type==="application/pdf"){alert("PDF processing will be implemented in the next update. Please use an image file for now."),i(!1);return}const C=await u5.processBankStatement(t,w=>{a(w)});if(C.success){const w=u5.validateTransactions(C.transactions),N=u5.suggestCorrections(w);l({...C,transactions:N})}else alert(`OCR processing failed: ${C.error}`)}catch(C){console.error("OCR processing error:",C),alert("Failed to process the bank statement. Please try again.")}finally{i(!1),a(0)}}},_=()=>{s&&s.transactions.length>0&&n({file:t,ocrResult:s,transactions:s.transactions})},S=(C,w,N)=>{const A=[...s.transactions];A[C]={...A[C],[w]:w==="amount"?parseFloat(N)||0:N},l({...s,transactions:A})},T=C=>{const w=s.transactions.filter((N,A)=>A!==C);l({...s,transactions:w})};return y.jsxs("div",{className:"space-y-6",children:[y.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Upload Bank Statement"}),y.jsxs("div",{className:`relative border-2 border-dashed rounded-lg p-8 text-center transition-colors ${f?"border-blue-400 bg-blue-50":"border-gray-300"} ${r?"opacity-50 pointer-events-none":""}`,onDragEnter:d,onDragLeave:d,onDragOver:d,onDrop:m,children:[y.jsx(ixe,{className:"mx-auto h-12 w-12 text-gray-400"}),y.jsx("h4",{className:"mt-2 text-sm font-medium text-gray-900",children:r?"Processing...":"Upload your bank statement"}),y.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Drag and drop or click to select. Supports JPG, PNG, and PDF files up to 10MB."}),y.jsxs("div",{className:"mt-6",children:[y.jsx("input",{type:"file",id:"file-upload",className:"sr-only",onChange:g,accept:".pdf,.png,.jpg,.jpeg",disabled:r}),y.jsx("label",{htmlFor:"file-upload",className:"cursor-pointer inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Select a file"})]}),t&&y.jsx("div",{className:"mt-4 p-3 bg-gray-50 rounded-md",children:y.jsxs("p",{className:"text-sm text-gray-600",children:[y.jsx("strong",{children:"Selected:"})," ",t.name," (",(t.size/1024/1024).toFixed(2)," MB)"]})}),r&&y.jsxs("div",{className:"mt-4",children:[y.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:y.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${o}%`}})}),y.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Processing: ",o,"%"]})]})]}),t&&!s&&!r&&y.jsx("div",{className:"text-center",children:y.jsxs("button",{onClick:b,className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700",children:[y.jsx(gxe,{className:"h-5 w-5 mr-2"}),"Extract Transactions with OCR"]})}),s&&y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-md p-4",children:[y.jsxs("div",{className:"flex items-center",children:[y.jsx(X_,{className:"h-5 w-5 text-green-400 mr-2"}),y.jsx("h4",{className:"text-sm font-medium text-green-800",children:"OCR Processing Complete"})]}),y.jsxs("p",{className:"mt-1 text-sm text-green-700",children:["Extracted ",s.transactions.length," transactions with ",Math.round(s.confidence),"% confidence."]})]}),y.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg",children:[y.jsxs("div",{className:"px-4 py-3 border-b border-gray-200",children:[y.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"Review Extracted Transactions"}),y.jsx("p",{className:"text-sm text-gray-500",children:"Please review and edit the transactions below before proceeding."})]}),y.jsx("div",{className:"divide-y divide-gray-200 max-h-96 overflow-y-auto",children:s.transactions.map((C,w)=>y.jsxs("div",{className:"p-4",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Date"}),y.jsx("input",{type:"date",value:C.date,onChange:N=>S(w,"date",N.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})]}),y.jsxs("div",{className:"md:col-span-2",children:[y.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Description"}),y.jsx("input",{type:"text",value:C.description,onChange:N=>S(w,"description",N.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})]}),y.jsxs("div",{className:"flex items-end space-x-2",children:[y.jsxs("div",{className:"flex-1",children:[y.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Amount"}),y.jsx("input",{type:"number",step:"0.01",value:C.amount,onChange:N=>S(w,"amount",N.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})]}),y.jsx("button",{onClick:()=>T(w),className:"px-2 py-1 text-red-600 hover:text-red-800 text-sm",title:"Remove transaction",children:"✕"})]})]}),C.suggestions&&C.suggestions.length>0&&y.jsx("div",{className:"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded",children:y.jsxs("div",{className:"flex items-start",children:[y.jsx(pxe,{className:"h-4 w-4 text-yellow-400 mr-1 mt-0.5"}),y.jsxs("div",{children:[y.jsx("p",{className:"text-xs font-medium text-yellow-800",children:"Suggestions:"}),y.jsx("ul",{className:"text-xs text-yellow-700 list-disc list-inside",children:C.suggestions.map((N,A)=>y.jsx("li",{children:N},A))})]})]})}),y.jsxs("div",{className:"mt-2 flex items-center text-xs text-gray-500",children:[y.jsxs("span",{children:["Confidence: ",Math.round(C.confidence*100),"%"]}),y.jsx("div",{className:"ml-2 flex-1 bg-gray-200 rounded-full h-1",children:y.jsx("div",{className:"bg-blue-600 h-1 rounded-full",style:{width:`${C.confidence*100}%`}})})]})]},C.id))}),y.jsx("div",{className:"px-4 py-3 border-t border-gray-200 text-center",children:y.jsxs("button",{onClick:_,disabled:s.transactions.length===0,className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 disabled:opacity-50",children:[y.jsx(X_,{className:"h-5 w-5 mr-2"}),"Confirm ",s.transactions.length," Transactions"]})})]})]})]})};class m2e{constructor(){this.config={autoMatchThreshold:.85,suggestMatchThreshold:.6,weights:{amount:.4,description:.3,date:.2,vendor:.1},amountTolerance:.01,dateWindow:7,fuzzyThreshold:.6}}findMatches(t,e){const r=[];for(const i of t){const o=this.findSuggestionsForTransaction(i,e);r.push({bankTransaction:i,suggestions:o,bestMatch:o.length>0?o[0]:null,autoMatch:o.length>0&&o[0].confidence>=this.config.autoMatchThreshold,isMatched:!1})}return r}findSuggestionsForTransaction(t,e){const r=[];for(const i of e){const o=this.calculateMatchScore(t,i);o.totalScore>=this.config.suggestMatchThreshold&&r.push({expense:i,confidence:o.totalScore,matchReasons:o.reasons,scoreBreakdown:o.breakdown})}return r.sort((i,o)=>o.confidence-i.confidence)}calculateMatchScore(t,e){const r={amount:this.calculateAmountScore(t.amount,e.amount),description:this.calculateDescriptionScore(t.description,e.description||e.vendor),date:this.calculateDateScore(t.date,e.expense_date||e.date),vendor:this.calculateVendorScore(t.description,e.vendor)},i=Object.keys(r).reduce((a,s)=>a+r[s]*this.config.weights[s],0),o=this.generateMatchReasons(r,t,e);return{totalScore:Math.min(i,1),breakdown:r,reasons:o}}calculateAmountScore(t,e){const r=Math.abs(t-e);if(r<=this.config.amountTolerance)return 1;const i=r/Math.max(t,e);return i<=.01?.95:i<=.05?.85:i<=.1?.7:i<=.2?.5:0}calculateDescriptionScore(t,e){if(!t||!e)return 0;const r=this.normalizeDescription(t),i=this.normalizeDescription(e),o=this.calculateStringSimilarity(r,i),a=this.calculateWordMatchBoost(r,i);return Math.min(o+a,1)}calculateDateScore(t,e){if(!t||!e)return 0;const r=new Date(t),i=new Date(e),o=Math.abs((r-i)/(1e3*60*60*24));return o===0?1:o<=1?.9:o<=3?.8:o<=7?.6:o<=14?.4:o<=30?.2:0}calculateVendorScore(t,e){if(!e)return 0;const r=this.normalizeDescription(t),i=this.normalizeDescription(e);if(r.includes(i))return 1;const o=i.split(" ").filter(s=>s.length>2);return o.filter(s=>r.includes(s)).length/o.length}normalizeDescription(t){return t.toLowerCase().replace(/[^\w\s]/g," ").replace(/\b(pos|atm|ach|chk|dep|wd|tfr|fee)\b/g,"").replace(/\b\d+\b/g,"").replace(/\s+/g," ").trim()}calculateStringSimilarity(t,e){const r=[],i=t.length,o=e.length;for(let l=0;l<=i;l++)r[l]=[l];for(let l=0;l<=o;l++)r[0][l]=l;for(let l=1;l<=i;l++)for(let c=1;c<=o;c++){const u=t[l-1]===e[c-1]?0:1;r[l][c]=Math.min(r[l-1][c]+1,r[l][c-1]+1,r[l-1][c-1]+u)}const a=r[i][o],s=Math.max(i,o);return s===0?1:1-a/s}calculateWordMatchBoost(t,e){const r=t.split(" ").filter(s=>s.length>2),i=e.split(" ").filter(s=>s.length>2);return r.length===0||i.length===0?0:r.filter(s=>i.includes(s)).length/Math.max(r.length,i.length)*.2}generateMatchReasons(t,e,r){const i=[];return t.amount>=.95?i.push("Exact amount match"):t.amount>=.8?i.push("Very close amount"):t.amount>=.6&&i.push("Similar amount"),t.description>=.8?i.push("Strong description match"):t.description>=.6&&i.push("Similar description"),t.date>=.9?i.push("Same/next day"):t.date>=.6&&i.push("Within a week"),t.vendor>=.8&&i.push("Vendor name match"),i.length===0&&i.push("Potential match"),i}performAutoMatching(t){const e=[];for(const r of t)r.autoMatch&&r.bestMatch&&(r.isMatched=!0,r.matchedExpense=r.bestMatch.expense,e.push(r));return e}updateConfig(t){this.config={...this.config,...t}}getMatchingStats(t){return{total:t.length,withSuggestions:t.filter(e=>e.suggestions.length>0).length,autoMatched:t.filter(e=>e.autoMatch).length,highConfidence:t.filter(e=>e.bestMatch&&e.bestMatch.confidence>=.8).length,mediumConfidence:t.filter(e=>e.bestMatch&&e.bestMatch.confidence>=.6&&e.bestMatch.confidence<.8).length,lowConfidence:t.filter(e=>e.bestMatch&&e.bestMatch.confidence<.6).length,noMatches:t.filter(e=>e.suggestions.length===0).length}}}const Q3=new m2e,y2e=({reconciliationId:n,bankTransactions:t=[],systemExpenses:e=[]})=>{const[r,i]=ye.useState([]),[o,a]=ye.useState(null),[s,l]=ye.useState(null),[c,u]=ye.useState(!1),[f,h]=ye.useState(!0),[d,m]=ye.useState({total:0,matched:0,autoMatched:0,unmatched:0});ye.useEffect(()=>{t.length>0&&e.length>0&&g()},[t,e]);const g=()=>{u(!0);try{const T=Q3.findMatches(t,e);i(T);const C={total:t.length,matched:T.filter(w=>w.bestMatch).length,autoMatched:T.filter(w=>w.autoMatch).length,unmatched:T.filter(w=>!w.bestMatch).length};if(m(C),f){const w=Q3.performAutoMatching(T);console.log(`Auto-matched ${w.length} transactions`)}}catch(T){console.error("Matching failed:",T)}finally{u(!1)}},x=async(T,C)=>{try{if((await Xm.matchTransaction(n,{bankTransactionId:T.id,expenseId:C.id})).success){const N=r.map(A=>A.bankTransaction.id===T.id?{...A,isMatched:!0,matchedExpense:C}:A);i(N),a(null),l(null)}}catch(w){console.error("Failed to match transaction:",w),alert("Failed to match transaction. Please try again.")}},b=async T=>{T.bestMatch&&await x(T.bankTransaction,T.bestMatch.expense)},_=T=>T>=.8?"text-green-600 bg-green-100":T>=.6?"text-yellow-600 bg-yellow-100":"text-red-600 bg-red-100",S=T=>T>=.8?"High":T>=.6?"Medium":"Low";return c?y.jsxs("div",{className:"flex items-center justify-center p-8",children:[y.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),y.jsx("span",{className:"ml-2",children:"Analyzing transactions..."})]}):y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Smart Transaction Matching"}),y.jsxs("div",{className:"flex items-center space-x-4",children:[y.jsxs("label",{className:"flex items-center",children:[y.jsx("input",{type:"checkbox",checked:f,onChange:T=>h(T.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),y.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Auto-match high confidence"})]}),y.jsx("button",{onClick:g,className:"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700",children:"Re-analyze"})]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[y.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[y.jsx("div",{className:"text-2xl font-bold text-blue-600",children:d.total}),y.jsx("div",{className:"text-sm text-blue-800",children:"Total Transactions"})]}),y.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[y.jsx("div",{className:"text-2xl font-bold text-green-600",children:d.matched}),y.jsx("div",{className:"text-sm text-green-800",children:"Potential Matches"})]}),y.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[y.jsx("div",{className:"text-2xl font-bold text-purple-600",children:d.autoMatched}),y.jsx("div",{className:"text-sm text-purple-800",children:"Auto-Matched"})]}),y.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[y.jsx("div",{className:"text-2xl font-bold text-red-600",children:d.unmatched}),y.jsx("div",{className:"text-sm text-red-800",children:"Unmatched"})]})]}),y.jsx("div",{className:"space-y-4",children:r.map((T,C)=>y.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[y.jsxs("div",{className:"flex items-center justify-between mb-3",children:[y.jsx("div",{className:"flex-1",children:y.jsxs("div",{className:"flex items-center space-x-3",children:[y.jsx("div",{className:"font-medium text-gray-900",children:T.bankTransaction.description}),y.jsxs("div",{className:"font-bold text-lg",children:["$",T.bankTransaction.amount.toFixed(2)]}),y.jsx("div",{className:"text-sm text-gray-500",children:T.bankTransaction.date})]})}),T.isMatched&&y.jsxs("div",{className:"flex items-center text-green-600",children:[y.jsx(X_,{className:"h-5 w-5 mr-1"}),y.jsx("span",{className:"text-sm font-medium",children:"Matched"})]})]}),T.suggestions.length>0&&!T.isMatched&&y.jsxs("div",{className:"space-y-2",children:[y.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-2",children:[y.jsx(yxe,{className:"h-4 w-4 mr-1"}),y.jsx("span",{children:"Suggested matches:"})]}),T.suggestions.slice(0,3).map((w,N)=>y.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded border hover:bg-gray-100 cursor-pointer",onClick:()=>b({...T,bestMatch:w}),children:[y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"flex items-center space-x-3",children:[y.jsx("div",{className:"font-medium",children:w.expense.vendor||w.expense.description}),y.jsxs("div",{className:"font-bold",children:["$",w.expense.amount.toFixed(2)]}),y.jsx("div",{className:"text-sm text-gray-500",children:w.expense.date})]}),y.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:w.matchReasons.map((A,j)=>y.jsx("span",{className:"inline-block px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded",children:A},j))})]}),y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded ${_(w.confidence)}`,children:[S(w.confidence)," (",Math.round(w.confidence*100),"%)"]}),y.jsx("button",{className:"p-1 text-green-600 hover:text-green-800",children:y.jsx(G3,{className:"h-4 w-4"})})]})]},w.expense.id)),T.suggestions.length>3&&y.jsxs("div",{className:"text-sm text-gray-500 text-center",children:["+",T.suggestions.length-3," more potential matches"]})]}),T.suggestions.length===0&&!T.isMatched&&y.jsxs("div",{className:"flex items-center justify-center p-4 bg-red-50 rounded border border-red-200",children:[y.jsx(OM,{className:"h-5 w-5 text-red-500 mr-2"}),y.jsx("span",{className:"text-red-700",children:"No potential matches found"}),y.jsx("button",{className:"ml-4 px-3 py-1 text-sm bg-red-600 text-white rounded hover:bg-red-700",children:"Create New Expense"})]})]},T.bankTransaction.id))}),y.jsxs("div",{className:"border-t pt-6",children:[y.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Manual Matching"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[y.jsxs("div",{children:[y.jsx("h5",{className:"font-medium text-gray-800 mb-3",children:"Unmatched Bank Transactions"}),y.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:r.filter(T=>!T.isMatched).map(T=>y.jsxs("div",{onClick:()=>a(T.bankTransaction),className:`p-3 rounded border cursor-pointer ${(o==null?void 0:o.id)===T.bankTransaction.id?"bg-blue-100 border-blue-400":"bg-white hover:bg-gray-50"}`,children:[y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{className:"font-medium",children:T.bankTransaction.description}),y.jsxs("span",{className:"font-bold",children:["$",T.bankTransaction.amount.toFixed(2)]})]}),y.jsx("div",{className:"text-sm text-gray-500",children:T.bankTransaction.date})]},T.bankTransaction.id))})]}),y.jsxs("div",{children:[y.jsx("h5",{className:"font-medium text-gray-800 mb-3",children:"Unmatched System Expenses"}),y.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:e.filter(T=>!T.is_matched).map(T=>y.jsxs("div",{onClick:()=>l(T),className:`p-3 rounded border cursor-pointer ${(s==null?void 0:s.id)===T.id?"bg-green-100 border-green-400":"bg-white hover:bg-gray-50"}`,children:[y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{className:"font-medium",children:T.vendor||T.description}),y.jsxs("span",{className:"font-bold",children:["$",T.amount.toFixed(2)]})]}),y.jsx("div",{className:"text-sm text-gray-500",children:T.date})]},T.id))})]})]}),o&&s&&y.jsx("div",{className:"mt-4 text-center",children:y.jsxs("button",{onClick:()=>x(o,s),className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700",children:[y.jsx(G3,{className:"h-5 w-5 mr-2"}),"Match Selected Transactions"]})})]})]})},kM=()=>y.jsxs("div",{children:[y.jsx("h1",{children:"Reconciliation Report"}),y.jsx("p",{children:"This is a placeholder for the Reconciliation Report."})]}),b2e=({onComplete:n,onCancel:t})=>{const[e,r]=ye.useState(1),[i,o]=ye.useState({id:null,month:new Date().getMonth()+1,year:new Date().getFullYear(),bankStatement:null,bankTransactions:[],systemExpenses:[]}),[a,s]=ye.useState(!1),l=[{id:1,name:"Period Selection",description:"Select reconciliation period"},{id:2,name:"Upload Statement",description:"Upload bank statement"},{id:3,name:"Match Transactions",description:"Review and match transactions"},{id:4,name:"Finalize Report",description:"Complete reconciliation"}],c=(m,g)=>{o(x=>({...x,[m]:g}))},u=async m=>{s(!0);try{const g=await Xm.uploadStatement(i.id,{transactions:m.transactions});if(g.success){const x=await Xm.getTransactions(i.id);x.success&&(o(b=>({...b,bankStatement:m.file,bankTransactions:x.data.bankTransactions,systemExpenses:x.data.systemExpenses})),r(e+1))}else alert("Failed to upload transactions: "+g.error)}catch(g){console.error("Failed to upload statement:",g),alert("Failed to upload statement. Please try again.")}finally{s(!1)}},f=async()=>{if(console.log("🔍 [FRONTEND DEBUG] nextStep called, currentStep:",e),e===1){console.log("🔍 [FRONTEND DEBUG] Starting reconciliation process"),console.log("🔍 [FRONTEND DEBUG] Reconciliation data:",{month:i.month,year:i.year}),s(!0);try{console.log("🔍 [FRONTEND DEBUG] Calling reconciliationAPI.startReconciliation");const m=await Xm.startReconciliation({month:i.month,year:i.year});console.log("🔍 [FRONTEND DEBUG] startReconciliation response:",m),m.success?(console.log("✅ [FRONTEND DEBUG] Reconciliation started successfully, ID:",m.data.id),o(g=>({...g,id:m.data.id})),r(e+1)):(console.error("❌ [FRONTEND DEBUG] Failed to start reconciliation:",m.error),alert("Failed to start reconciliation: "+m.error))}catch(m){console.error("❌ [FRONTEND DEBUG] Exception in nextStep:",m),alert("Failed to start reconciliation. Please try again.")}finally{console.log("🔍 [FRONTEND DEBUG] Setting loading to false"),s(!1)}}else e<l.length&&(console.log("🔍 [FRONTEND DEBUG] Moving to next step:",e+1),r(e+1))},h=()=>{e>1&&r(e-1)},d=()=>{switch(e){case 1:return y.jsxs("div",{children:[y.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Select Reconciliation Period"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Month"}),y.jsx("select",{value:i.month,onChange:m=>c("month",parseInt(m.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:Array.from({length:12},(m,g)=>y.jsx("option",{value:g+1,children:new Date(0,g).toLocaleString("default",{month:"long"})},g+1))})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Year"}),y.jsx("input",{type:"number",value:i.year,onChange:m=>c("year",parseInt(m.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]})]})]});case 2:return y.jsx(g2e,{onUpload:u});case 3:return y.jsx(y2e,{reconciliationId:i.id,bankTransactions:i.bankTransactions,systemExpenses:i.systemExpenses});case 4:return y.jsx(kM,{reconciliation:i});default:return y.jsxs("div",{children:["Step ",e]})}};return y.jsxs("div",{className:"max-w-4xl mx-auto",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Monthly Reconciliation"}),y.jsx("button",{onClick:t,className:"inline-flex items-center p-2 border border-gray-300 rounded-md text-gray-400 hover:text-gray-500 hover:border-gray-400",children:y.jsx(OM,{className:"h-5 w-5"})})]}),y.jsx("div",{className:"mb-8",children:y.jsx("div",{className:"flex items-center justify-between",children:l.map((m,g)=>y.jsxs("div",{className:"flex items-center",children:[y.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full border-2 ${e>=m.id?"bg-blue-600 border-blue-600 text-white":"border-gray-300 text-gray-500"}`,children:e>m.id?y.jsx(lxe,{className:"h-5 w-5"}):y.jsx("span",{className:"text-sm font-medium",children:m.id})}),y.jsxs("div",{className:"ml-3",children:[y.jsx("div",{className:`text-sm font-medium ${e>=m.id?"text-blue-600":"text-gray-500"}`,children:m.name}),y.jsx("div",{className:"text-xs text-gray-500",children:m.description})]}),g<l.length-1&&y.jsx("div",{className:`flex-1 h-0.5 mx-4 ${e>m.id?"bg-blue-600":"bg-gray-300"}`})]},m.id))})}),y.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:d()}),y.jsxs("div",{className:"flex justify-between",children:[y.jsxs("button",{onClick:h,disabled:e===1,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[y.jsx(uxe,{className:"h-4 w-4 mr-2"}),"Previous"]}),e<l.length?y.jsxs("button",{onClick:f,disabled:a||e===2&&!i.bankStatement,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[a?"Starting...":"Next",y.jsx(dxe,{className:"h-4 w-4 ml-2"})]}):y.jsx("button",{onClick:()=>n(i),className:"inline-flex items-center px-6 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700",children:"Complete Reconciliation"})]})]})},x2e=[{id:1,subject:"Back-to-School Picnic",type:"event",status:"draft",updated_at:"2025-06-01"},{id:2,subject:"Fundraiser Reminder",type:"fundraiser",status:"draft",updated_at:"2025-06-02"}],w2e={draft:"bg-gray-200 text-gray-800",scheduled:"bg-yellow-100 text-yellow-800",sent:"bg-green-100 text-green-800",failed:"bg-red-100 text-red-800"};function _2e(){const[n,t]=ye.useState("drafts"),e=r=>r.length===0?y.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"No communications found."}):y.jsx("ul",{className:"space-y-3 mt-4",children:r.map(i=>y.jsxs("li",{className:"p-4 bg-white border rounded shadow flex justify-between items-center",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"font-semibold",children:i.subject}),y.jsxs("p",{className:"text-xs text-gray-500",children:["Type: ",i.type," • Last updated: ",i.updated_at]})]}),y.jsx("span",{className:`text-xs px-2 py-1 rounded ${w2e[i.status]}`,children:i.status})]},i.id))});return y.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-8",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsx("h1",{className:"text-2xl font-bold",children:"Communications"}),y.jsx(iu,{to:"/communications/create",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"+ New"})]}),y.jsxs(zc.Tabs,{value:n,onChange:r=>t(r),children:[y.jsxs(zc.TabsHeader,{children:[y.jsx(zc.Tab,{value:"drafts",children:"Drafts"}),y.jsx(zc.Tab,{value:"scheduled",children:"Scheduled"}),y.jsx(zc.Tab,{value:"sent",children:"Sent"})]}),y.jsxs(zc.TabsBody,{children:[y.jsx(zc.TabPanel,{value:"drafts",children:e(x2e)}),y.jsx(zc.TabPanel,{value:"scheduled",children:e([])}),y.jsx(zc.TabPanel,{value:"sent",children:e([])})]})]})]})}const S2e=()=>{const n=Oa(),[t,e]=ye.useState("grid"),[r,i]=ye.useState("manual"),[o,a]=ye.useState(""),[s,l]=ye.useState("all"),c=[{id:1,title:"Fall Festival Announcement",type:"email",status:"sent",audience:"All Families",sentDate:"2024-10-01",openRate:78,clickRate:12,createdBy:"stella",description:"Exciting announcement about our upcoming Fall Festival"},{id:2,title:"Volunteer Recruitment Drive",type:"social",status:"scheduled",audience:"Facebook & Instagram",scheduledDate:"2024-10-05",engagement:0,createdBy:"manual",description:"Call for volunteers for upcoming events"},{id:3,title:"Book Fair Reminder",type:"sms",status:"draft",audience:"Parent Contacts",deliveryRate:0,createdBy:"stella",description:"Reminder about the upcoming book fair"},{id:4,title:"Monthly Newsletter",type:"newsletter",status:"in_progress",audience:"All Subscribers",progress:65,createdBy:"manual",description:"October newsletter with updates and events"}],u=M=>{n(`/communications/email?mode=${M}`)},f=M=>{n(`/communications/social?mode=${M}`)},h=M=>{n(`/communications/sms?mode=${M}`)},d=M=>{n(`/communications/create?type=newsletter&mode=${M}`)},m=M=>{n(`/communications/create?view=${M}`)},g=M=>{n(`/communications/create?edit=${M}`)},x=M=>{console.log("Sending communication:",M)},b=()=>{n("/communications/ai")},_=()=>{n("/communications/create?tab=analytics")},S=()=>{n("/communications/create?tab=schedule")},T=()=>{n("/communications/create?tab=audiences")},C=()=>{n("/communications/create")},w=M=>{const I={draft:"bg-gray-100 text-gray-800",in_progress:"bg-blue-100 text-blue-800",scheduled:"bg-yellow-100 text-yellow-800",sent:"bg-green-100 text-green-800",failed:"bg-red-100 text-red-800"};return I[M]||I.draft},N=M=>({email:im,sms:_C,social:wC,newsletter:sd})[M]||im,A=({communication:M})=>{const I=N(M.type);return y.jsx("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 hover:shadow-lg transition-shadow",children:y.jsxs("div",{className:"p-6",children:[y.jsxs("div",{className:"flex items-start justify-between mb-4",children:[y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[y.jsx(I,{className:"w-5 h-5 text-blue-600"}),y.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:M.title}),M.createdBy==="stella"&&y.jsx(Ua,{className:"w-4 h-4 text-purple-500",title:"Created by Stella"})]}),y.jsx("p",{className:"text-sm text-gray-600 mb-3",children:M.description}),y.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[y.jsxs("div",{className:"flex items-center space-x-1",children:[y.jsx(hg,{className:"w-4 h-4"}),y.jsx("span",{children:M.audience})]}),M.sentDate&&y.jsxs("div",{className:"flex items-center space-x-1",children:[y.jsx(sd,{className:"w-4 h-4"}),y.jsx("span",{children:new Date(M.sentDate).toLocaleDateString()})]})]})]}),y.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${w(M.status)}`,children:M.status.replace("_"," ").charAt(0).toUpperCase()+M.status.replace("_"," ").slice(1)})]}),M.status==="sent"&&y.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[y.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[y.jsx("div",{className:"text-sm text-green-600",children:"Open Rate"}),y.jsxs("div",{className:"text-lg font-semibold text-green-700",children:[M.openRate,"%"]})]}),y.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[y.jsx("div",{className:"text-sm text-blue-600",children:"Click Rate"}),y.jsxs("div",{className:"text-lg font-semibold text-blue-700",children:[M.clickRate,"%"]})]})]}),M.status==="in_progress"&&y.jsxs("div",{className:"mb-4",children:[y.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[y.jsx("span",{className:"text-gray-600",children:"Progress"}),y.jsxs("span",{className:"font-medium text-gray-900",children:[M.progress,"%"]})]}),y.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:y.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${M.progress}%`}})})]}),y.jsxs("div",{className:"flex space-x-2",children:[y.jsxs("button",{onClick:()=>m(M.id),className:"flex-1 flex items-center justify-center px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[y.jsx(n0,{className:"w-4 h-4 mr-2"}),"View"]}),y.jsxs("button",{onClick:()=>g(M.id),className:"flex-1 flex items-center justify-center px-3 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[y.jsx(i0,{className:"w-4 h-4 mr-2"}),"Edit"]}),M.status==="draft"&&y.jsxs("button",{onClick:()=>x(M.id),className:"flex-1 flex items-center justify-center px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[y.jsx(EI,{className:"w-4 h-4 mr-2"}),"Send"]})]})]})})},j=()=>y.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[y.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Create New Communication"}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-4 gap-6",children:[y.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-6 hover:border-blue-300 transition-colors",children:[y.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[y.jsx(im,{className:"w-8 h-8 text-blue-600"}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-semibold text-gray-900",children:"Email Campaign"}),y.jsx("p",{className:"text-sm text-gray-600",children:"Reach all families"})]})]}),y.jsxs("div",{className:"space-y-3 mb-4",children:[y.jsx("button",{onClick:()=>u("manual"),className:"w-full py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:"Manual Creation"}),y.jsx("button",{onClick:()=>u("assisted"),className:"w-full py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm",children:"Let Stella Help"}),y.jsx("button",{onClick:()=>u("automated"),className:"w-full py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors text-sm",children:"Stella Auto-Generate"})]})]}),y.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-6 hover:border-green-300 transition-colors",children:[y.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[y.jsx(wC,{className:"w-8 h-8 text-green-600"}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-semibold text-gray-900",children:"Social Media"}),y.jsx("p",{className:"text-sm text-gray-600",children:"Facebook & Instagram"})]})]}),y.jsxs("div",{className:"space-y-3 mb-4",children:[y.jsx("button",{onClick:()=>f("manual"),className:"w-full py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:"Manual Creation"}),y.jsx("button",{onClick:()=>f("assisted"),className:"w-full py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm",children:"Let Stella Help"}),y.jsx("button",{onClick:()=>f("automated"),className:"w-full py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors text-sm",children:"Stella Auto-Generate"})]})]}),y.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-6 hover:border-yellow-300 transition-colors",children:[y.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[y.jsx(_C,{className:"w-8 h-8 text-yellow-600"}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-semibold text-gray-900",children:"SMS Campaign"}),y.jsx("p",{className:"text-sm text-gray-600",children:"Direct text messages"})]})]}),y.jsxs("div",{className:"space-y-3 mb-4",children:[y.jsx("button",{onClick:()=>h("manual"),className:"w-full py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:"Manual Creation"}),y.jsx("button",{onClick:()=>h("assisted"),className:"w-full py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm",children:"Let Stella Help"}),y.jsx("button",{onClick:()=>h("automated"),className:"w-full py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors text-sm",children:"Stella Auto-Generate"})]})]}),y.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-6 hover:border-purple-300 transition-colors",children:[y.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[y.jsx(sd,{className:"w-8 h-8 text-purple-600"}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-semibold text-gray-900",children:"Newsletter"}),y.jsx("p",{className:"text-sm text-gray-600",children:"Monthly updates"})]})]}),y.jsxs("div",{className:"space-y-3 mb-4",children:[y.jsx("button",{onClick:()=>d("manual"),className:"w-full py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:"Manual Creation"}),y.jsx("button",{onClick:()=>d("assisted"),className:"w-full py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm",children:"Let Stella Help"}),y.jsx("button",{onClick:()=>d("automated"),className:"w-full py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors text-sm",children:"Stella Auto-Generate"})]})]})]})]}),R=()=>y.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg p-6 mb-6",children:[y.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[y.jsx(Ua,{className:"w-6 h-6 text-purple-600"}),y.jsx("h3",{className:"text-lg font-semibold text-purple-900",children:"Stella's Communication Insights"})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[y.jsxs("div",{className:"bg-white rounded-lg p-4",children:[y.jsx("div",{className:"text-sm text-purple-600 mb-1",children:"Best Send Time"}),y.jsx("div",{className:"text-lg font-semibold text-purple-900",children:"Tuesday 10 AM"}),y.jsx("div",{className:"text-xs text-purple-700",children:"Based on your audience engagement"})]}),y.jsxs("div",{className:"bg-white rounded-lg p-4",children:[y.jsx("div",{className:"text-sm text-purple-600 mb-1",children:"Top Performing Subject"}),y.jsx("div",{className:"text-lg font-semibold text-purple-900",children:"Event Announcements"}),y.jsx("div",{className:"text-xs text-purple-700",children:"85% average open rate"})]}),y.jsxs("div",{className:"bg-white rounded-lg p-4",children:[y.jsx("div",{className:"text-sm text-purple-600 mb-1",children:"Stella's Suggestion"}),y.jsx("div",{className:"text-lg font-semibold text-purple-900",children:"Add Volunteer Call"}),y.jsx("div",{className:"text-xs text-purple-700",children:"Include in next newsletter"})]})]}),y.jsxs("div",{className:"mt-4 p-3 bg-white rounded-lg",children:[y.jsx("div",{className:"text-sm text-purple-900 font-medium mb-2",children:"💡 Stella's Tip of the Day"}),y.jsx("div",{className:"text-sm text-purple-800",children:'"Your Fall Festival emails get 23% higher engagement when sent on weekday mornings. Want me to schedule your next announcement for optimal timing?"'})]})]}),L=()=>y.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[y.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),y.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[y.jsxs("button",{onClick:b,className:"flex flex-col items-center p-4 border border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 transition-colors",children:[y.jsx(Ua,{className:"w-6 h-6 text-purple-600 mb-2"}),y.jsx("span",{className:"text-sm font-medium",children:"Ask Stella"}),y.jsx("span",{className:"text-xs text-gray-500",children:"Get content ideas"})]}),y.jsxs("button",{onClick:_,className:"flex flex-col items-center p-4 border border-gray-200 rounded-lg hover:border-green-300 hover:bg-green-50 transition-colors",children:[y.jsx(CI,{className:"w-6 h-6 text-green-600 mb-2"}),y.jsx("span",{className:"text-sm font-medium",children:"Analytics"}),y.jsx("span",{className:"text-xs text-gray-500",children:"View performance"})]}),y.jsxs("button",{onClick:S,className:"flex flex-col items-center p-4 border border-gray-200 rounded-lg hover:border-yellow-300 hover:bg-yellow-50 transition-colors",children:[y.jsx(q8,{className:"w-6 h-6 text-yellow-600 mb-2"}),y.jsx("span",{className:"text-sm font-medium",children:"Schedule"}),y.jsx("span",{className:"text-xs text-gray-500",children:"Plan campaigns"})]}),y.jsxs("button",{onClick:T,className:"flex flex-col items-center p-4 border border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 transition-colors",children:[y.jsx(hg,{className:"w-6 h-6 text-blue-600 mb-2"}),y.jsx("span",{className:"text-sm font-medium",children:"Audiences"}),y.jsx("span",{className:"text-xs text-gray-500",children:"Manage lists"})]})]})]});return y.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:y.jsxs("div",{className:"max-w-7xl mx-auto",children:[y.jsxs("div",{className:"flex items-center justify-between mb-6",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Communications Dashboard"}),y.jsx("p",{className:"text-gray-600",children:"Manage all your PTO communications with Stella's help or manual control"})]}),y.jsx("div",{className:"flex items-center space-x-3",children:y.jsx("button",{onClick:()=>e(t==="grid"?"list":"grid"),className:"p-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:t==="grid"?y.jsx(U8,{className:"w-5 h-5"}):y.jsx(V8,{className:"w-5 h-5"})})})]}),y.jsx(R,{}),y.jsx(L,{}),y.jsx(j,{}),y.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:y.jsxs("div",{className:"flex items-center space-x-4",children:[y.jsxs("div",{className:"flex-1 relative",children:[y.jsx(z8,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),y.jsx("input",{type:"text",placeholder:"Search communications...",value:o,onChange:M=>a(M.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),y.jsxs("select",{value:s,onChange:M=>l(M.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[y.jsx("option",{value:"all",children:"All Types"}),y.jsx("option",{value:"email",children:"Email"}),y.jsx("option",{value:"sms",children:"SMS"}),y.jsx("option",{value:"social",children:"Social Media"}),y.jsx("option",{value:"newsletter",children:"Newsletter"})]})]})}),y.jsx("div",{className:t==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:c.map(M=>y.jsx(A,{communication:M},M.id))}),c.length===0&&y.jsxs("div",{className:"text-center py-12",children:[y.jsx(im,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),y.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No communications found"}),y.jsx("p",{className:"text-gray-600 mb-4",children:"Get started by creating your first communication"}),y.jsx("button",{onClick:C,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Create Your First Communication"})]})]})})};function T2e(){const[n,t]=ye.useState({subject:"",body:"",send_as:"email"}),[e,r]=ye.useState(""),[i,o]=ye.useState(""),a=l=>{const{name:c,value:u}=l.target;t(f=>({...f,[c]:u}))},s=async l=>{l.preventDefault(),o(""),r("");const{data:{session:c}}=await jr.auth.getSession();if(!(c!=null&&c.access_token)){o("Authentication required.");return}try{const u=await fetch("/api/messages",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c.access_token}`},body:JSON.stringify(n)}),f=await u.json();u.ok?(r("Message created successfully!"),t({subject:"",body:"",send_as:"email"})):o(f.error||"Failed to send message.")}catch(u){console.error("Submit error:",u),o("Server error. Please try again.")}};return y.jsxs("div",{className:"max-w-xl mx-auto p-4",children:[y.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Create Message"}),y.jsxs("form",{onSubmit:s,className:"space-y-4",children:[y.jsx("input",{name:"subject",value:n.subject,onChange:a,placeholder:"Subject",className:"w-full border p-2",required:!0}),y.jsx("textarea",{name:"body",value:n.body,onChange:a,placeholder:"Message Body",className:"w-full border p-2",required:!0}),y.jsxs("select",{name:"send_as",value:n.send_as,onChange:a,className:"w-full border p-2",children:[y.jsx("option",{value:"email",children:"Email"}),y.jsx("option",{value:"sms",children:"SMS"}),y.jsx("option",{value:"in_app",children:"In-App"})]}),y.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded",type:"submit",children:"Send Message"}),e&&y.jsx("p",{className:"text-green-600",children:e}),i&&y.jsx("p",{className:"text-red-600",children:i})]})]})}var J_={};Object.defineProperty(J_,"__esModule",{value:!0});var Dv,Kc=ye,f5=(Dv=Kc)&&typeof Dv=="object"&&"default"in Dv?Dv.default:Dv;function Q_(){return(Q_=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n}).apply(this,arguments)}var MM=[],LM=!1,e6=function(){if(LM)for(var n;n=MM.shift();)n()},eS=typeof window>"u"?{__unlayer_lastEditorId:0}:window;eS.__unlayer_lastEditorId=eS.__unlayer_lastEditorId||0;var t6=f5.forwardRef(function(n,t){var e,r,i,o,a,s,l,c,u,f=n.onLoad,h=n.onReady,d=n.scriptUrl,m=n.minHeight,g=m===void 0?500:m,x=n.style,b=x===void 0?{}:x,_=Kc.useState(null),S=_[0],T=_[1],C=Kc.useState(!1),w=C[0],N=C[1],A=Kc.useMemo(function(){return n.editorId||"editor-"+ ++eS.__unlayer_lastEditorId},[n.editorId]),j=Q_({},n.options||{},{appearance:(e=n.appearance)!=null?e:(r=n.options)==null?void 0:r.appearance,displayMode:(n==null?void 0:n.displayMode)||((i=n.options)==null?void 0:i.displayMode)||"email",locale:(o=n.locale)!=null?o:(a=n.options)==null?void 0:a.locale,projectId:(s=n.projectId)!=null?s:(l=n.options)==null?void 0:l.projectId,tools:(c=n.tools)!=null?c:(u=n.options)==null?void 0:u.tools,id:A,source:{name:"react-email-editor",version:"1.7.11"}});Kc.useImperativeHandle(t,function(){return{editor:S}},[S]),Kc.useEffect(function(){return function(){S==null||S.destroy()}},[]),Kc.useEffect(function(){N(!1),function(L,M){if(M===void 0&&(M="https://editor.unlayer.com/embed.js?2"),MM.push(function(){return N(!0)}),function(D){var V=document.querySelectorAll("script"),F=!1;return V.forEach(function(G){G.src.includes(D)&&(F=!0)}),F}(M))e6();else{var I=document.createElement("script");I.setAttribute("src",M),I.onload=function(){LM=!0,e6()},document.head.appendChild(I)}}(0,d)},[d]),Kc.useEffect(function(){w&&(S==null||S.destroy(),T(unlayer.createEditor(j)))},[JSON.stringify(j),w]);var R=Object.keys(n).filter(function(L){return/^on/.test(L)});return Kc.useEffect(function(){S&&(f==null||f(S),R.forEach(function(L){/^on/.test(L)&&L!=="onLoad"&&L!=="onReady"&&typeof n[L]=="function"&&S.addEventListener(L,n[L])}),h&&S.addEventListener("editor:ready",function(){h(S)}))},[S,Object.keys(R).join(",")]),f5.createElement("div",{style:{flex:1,display:"flex",minHeight:g}},f5.createElement("div",{id:A,style:Q_({},b,{flex:1})}))});J_.EmailEditor=t6,J_.default=t6;function C2e(){return y.jsx("div",{className:"p-4",children:y.jsx("h1",{className:"text-xl font-bold",children:"SMS Composer (Coming Soon)"})})}function E2e(){return y.jsx("div",{className:"p-4",children:y.jsx("h1",{className:"text-xl font-bold",children:"Social Post Composer (Coming Soon)"})})}const O2e=()=>y.jsxs("div",{className:"p-6",children:[y.jsx("h1",{className:"text-2xl font-bold mb-4",children:"AI Content Assistant"}),y.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:y.jsx("p",{className:"text-gray-600",children:"The AI Content Assistant helps you create and optimize content for your communications. This feature is coming soon!"})})]});var A2e={4729:(n,t,e)=>{var r,i,o;/*!
* Backbone.Undo.js v0.2
* 
* Copyright (c)2013 Oliver Sartun
* Released under the MIT License
*
* Documentation and full license available at
* https://github.com/osartun/Backbone.Undo.js
*/(function(a){i=[e(5706),e(4193)],r=a,o=typeof r=="function"?r.apply(t,i):r,o!==void 0&&(n.exports=o)})(function(a,s){var l=Array.prototype.slice;function c(j,R,L){return L.length<=4?j.call(R,L[0],L[1],L[2],L[3]):j.apply(R,L)}function u(j,R){return l.call(j,R)}function f(j,R){return j==null?!1:(a.isArray(R)||(R=u(arguments,1)),a.all(R,function(L){return L in j}))}var h=function(){var j=!1,R=-1;function L(){R++,j=!0,a.defer(function(){j=!1})}return function(){return j||L(),R}}();function d(){this.registeredObjects=[],this.cidIndexes=[]}d.prototype={isRegistered:function(j){return j&&j.cid?this.registeredObjects[j.cid]:a.contains(this.registeredObjects,j)},register:function(j){return this.isRegistered(j)?!1:(j&&j.cid?(this.registeredObjects[j.cid]=j,this.cidIndexes.push(j.cid)):this.registeredObjects.push(j),!0)},unregister:function(j){if(this.isRegistered(j)){if(j&&j.cid)delete this.registeredObjects[j.cid],this.cidIndexes.splice(a.indexOf(this.cidIndexes,j.cid),1);else{var R=a.indexOf(this.registeredObjects,j);this.registeredObjects.splice(R,1)}return!0}return!1},get:function(){return a.map(this.cidIndexes,function(j){return this.registeredObjects[j]},this).concat(this.registeredObjects)}};function m(j,R,L,M){for(var I=0,D=R.length,V;I<D;I++)if(V=R[I],!!V){if(j==="on"){if(!M.objectRegistry.register(V))continue}else if(!M.objectRegistry.unregister(V))continue;a.isFunction(V[j])&&V[j]("all",L,M)}}function g(j,R){var L=R.type,M=R.undoTypes,I=!M[L]||M[L][j];a.isFunction(I)&&I(R.object,R.before,R.after,R.options)}function x(j,R,L,M,I){if(!(L.isCurrentlyUndoRedoing||j==="undo"&&L.pointer===-1||j==="redo"&&L.pointer===L.length-1)){L.isCurrentlyUndoRedoing=!0;var D,V,F=j==="undo";for(I?V=F&&L.pointer===L.length-1||!F&&L.pointer===-1?a.clone(L.models):l.apply(L.models,F?[0,L.pointer]:[L.pointer,L.length-1]):(D=L.at(F?L.pointer:L.pointer+1),V=M?L.where({magicFusionIndex:D.get("magicFusionIndex")}):[D]),L.pointer+=(F?-1:1)*V.length;D=F?V.pop():V.shift();)D[j]();L.isCurrentlyUndoRedoing=!1,R.trigger(j,R)}}function b(j,R){var L=j.condition,M=typeof L;return M==="function"?!!c(L,j,R):M==="boolean"?L:!0}function _(j,R,L,M){if(j.track&&!j.isCurrentlyUndoRedoing&&R in M&&b(M[R],L)){var I=c(M[R].on,M[R],L),D;if(f(I,"object","before","after")){if(I.type=R,I.magicFusionIndex=h(),I.undoTypes=M,j.pointer<j.length-1)for(var D=j.length-j.pointer-1;D--;)j.pop();j.pointer=j.length,j.add(I),j.length>j.maximumStackLength&&(j.shift(),j.pointer--)}}}var S={add:{undo:function(j,R,L,M){j.remove(L,M)},redo:function(j,R,L,M){M.index&&(M.at=M.index),j.add(L,M)},on:function(j,R,L){return{object:R,before:void 0,after:j,options:a.clone(L)}}},remove:{undo:function(j,R,L,M){"index"in M&&(M.at=M.index),j.add(R,M)},redo:function(j,R,L,M){j.remove(R,M)},on:function(j,R,L){return{object:R,before:j,after:void 0,options:a.clone(L)}}},change:{undo:function(j,R,L,M){a.isEmpty(R)?a.each(a.keys(L),j.unset,j):(j.set(R),M&&M.unsetData&&M.unsetData.before&&M.unsetData.before.length&&a.each(M.unsetData.before,j.unset,j))},redo:function(j,R,L,M){a.isEmpty(L)?a.each(a.keys(R),j.unset,j):(j.set(L),M&&M.unsetData&&M.unsetData.after&&M.unsetData.after.length&&a.each(M.unsetData.after,j.unset,j))},on:function(j,R){var L=j.changedAttributes(),M=a.keys(L),I=a.pick(j.previousAttributes(),M),D=a.keys(I),V=(R||(R={})).unsetData={after:[],before:[]};return M.length!=D.length&&(M.length>D.length?a.each(M,function(F){F in I||V.before.push(F)},this):a.each(D,function(F){F in L||V.after.push(F)})),{object:j,before:I,after:L,options:a.clone(R)}}},reset:{undo:function(j,R,L){j.reset(R)},redo:function(j,R,L){j.reset(L)},on:function(j,R){return{object:j,before:R.previousModels,after:a.clone(j.models)}}}};function T(){}T.prototype=S;function C(j,R,L,M){if(typeof R=="object")return a.each(R,function(I,D){j===2?C(j,I,L,M):C(j,D,I,L)});switch(j){case 0:f(L,"undo","redo","on")&&a.all(a.pick(L,"undo","redo","on"),a.isFunction)&&(M[R]=L);break;case 1:M[R]&&a.isObject(L)&&(M[R]=a.extend({},M[R],L));break;case 2:delete M[R];break}return this}var w=s.Model.extend({defaults:{type:null,object:null,before:null,after:null,magicFusionIndex:null},undo:function(j){g("undo",this.attributes)},redo:function(j){g("redo",this.attributes)}}),N=s.Collection.extend({model:w,pointer:-1,track:!1,isCurrentlyUndoRedoing:!1,maximumStackLength:1/0,setMaxLength:function(j){this.maximumStackLength=j}}),A=s.Model.extend({defaults:{maximumStackLength:1/0,track:!1},initialize:function(j){this.stack=new N,this.objectRegistry=new d,this.undoTypes=new T,this.stack.setMaxLength(this.get("maximumStackLength")),this.on("change:maximumStackLength",function(R,L){this.stack.setMaxLength(L)},this),j&&j.track&&this.startTracking(),j&&j.register&&(a.isArray(j.register)||a.isArguments(j.register)?c(this.register,this,j.register):this.register(j.register))},startTracking:function(){this.set("track",!0),this.stack.track=!0},stopTracking:function(){this.set("track",!1),this.stack.track=!1},isTracking:function(){return this.get("track")},_addToStack:function(j){_(this.stack,j,u(arguments,1),this.undoTypes)},register:function(){m("on",arguments,this._addToStack,this)},unregister:function(){m("off",arguments,this._addToStack,this)},unregisterAll:function(){c(this.unregister,this,this.objectRegistry.get())},undo:function(j){x("undo",this,this.stack,j)},undoAll:function(){x("undo",this,this.stack,!1,!0)},redo:function(j){x("redo",this,this.stack,j)},redoAll:function(){x("redo",this,this.stack,!1,!0)},isAvailable:function(j){var R=this.stack,L=R.length;switch(j){case"undo":return L>0&&R.pointer>-1;case"redo":return L>0&&R.pointer<L-1;default:return!1}},merge:function(j){for(var R=a.isArray(j)?j:u(arguments),L;L=R.pop();)L instanceof A&&L.stack instanceof N&&(L.stack=this.stack)},addUndoType:function(j,R){C(0,j,R,this.undoTypes)},changeUndoType:function(j,R){C(1,j,R,this.undoTypes)},removeUndoType:function(j){C(2,j,void 0,this.undoTypes)},clear:function(){this.stack.reset(),this.stack.pointer=-1}});return a.extend(A,{defaults:function(j){a.extend(A.prototype.defaults,j)},addUndoType:function(j,R){C(0,j,R,S)},changeUndoType:function(j,R){C(1,j,R,S)},removeUndoType:function(j){C(2,j,void 0,S)}}),s.UndoManager=A})},4193:(n,t,e)=>{var r,i;(function(o){var a=typeof self=="object"&&self.self===self&&self||typeof e.g=="object"&&e.g.global===e.g&&e.g;r=[e(5706),e(7774),t],i=(function(s,l,c){a.Backbone=o(a,c,s,l)}).apply(t,r),i!==void 0&&(n.exports=i)})(function(o,a,s,l){var c=o.Backbone,u=Array.prototype.slice;a.VERSION="1.4.1",a.$=l,a.noConflict=function(){return o.Backbone=c,this},a.emulateHTTP=!1,a.emulateJSON=!1;var f=a.Events={},h=/\s+/,d,m=function(Q,de,Ce,De,Ke){var je=0,Ze;if(Ce&&typeof Ce=="object")for(De!==void 0&&("context"in Ke)&&Ke.context===void 0&&(Ke.context=De),Ze=s.keys(Ce);je<Ze.length;je++)de=m(Q,de,Ze[je],Ce[Ze[je]],Ke);else if(Ce&&h.test(Ce))for(Ze=Ce.split(h);je<Ze.length;je++)de=Q(de,Ze[je],De,Ke);else de=Q(de,Ce,De,Ke);return de};f.on=function(Q,de,Ce){if(this._events=m(g,this._events||{},Q,de,{context:Ce,ctx:this,listening:d}),d){var De=this._listeners||(this._listeners={});De[d.id]=d,d.interop=!1}return this},f.listenTo=function(Q,de,Ce){if(!Q)return this;var De=Q._listenId||(Q._listenId=s.uniqueId("l")),Ke=this._listeningTo||(this._listeningTo={}),je=d=Ke[De];je||(this._listenId||(this._listenId=s.uniqueId("l")),je=d=Ke[De]=new C(this,Q));var Ze=x(Q,de,Ce,this);if(d=void 0,Ze)throw Ze;return je.interop&&je.on(de,Ce),this};var g=function(Q,de,Ce,De){if(Ce){var Ke=Q[de]||(Q[de]=[]),je=De.context,Ze=De.ctx,Ye=De.listening;Ye&&Ye.count++,Ke.push({callback:Ce,context:je,ctx:je||Ze,listening:Ye})}return Q},x=function(Q,de,Ce,De){try{Q.on(de,Ce,De)}catch(Ke){return Ke}};f.off=function(Q,de,Ce){return this._events?(this._events=m(b,this._events,Q,de,{context:Ce,listeners:this._listeners}),this):this},f.stopListening=function(Q,de,Ce){var De=this._listeningTo;if(!De)return this;for(var Ke=Q?[Q._listenId]:s.keys(De),je=0;je<Ke.length;je++){var Ze=De[Ke[je]];if(!Ze)break;Ze.obj.off(de,Ce,this),Ze.interop&&Ze.off(de,Ce)}return s.isEmpty(De)&&(this._listeningTo=void 0),this};var b=function(Q,de,Ce,De){if(Q){var Ke=De.context,je=De.listeners,Ze=0,Ye;if(!de&&!Ke&&!Ce){for(Ye=s.keys(je);Ze<Ye.length;Ze++)je[Ye[Ze]].cleanup();return}for(Ye=de?[de]:s.keys(Q);Ze<Ye.length;Ze++){de=Ye[Ze];var bt=Q[de];if(!bt)break;for(var Ut=[],kt=0;kt<bt.length;kt++){var Oe=bt[kt];if(Ce&&Ce!==Oe.callback&&Ce!==Oe.callback._callback||Ke&&Ke!==Oe.context)Ut.push(Oe);else{var fe=Oe.listening;fe&&fe.off(de,Ce)}}Ut.length?Q[de]=Ut:delete Q[de]}return Q}};f.once=function(Q,de,Ce){var De=m(_,{},Q,de,this.off.bind(this));return typeof Q=="string"&&Ce==null&&(de=void 0),this.on(De,de,Ce)},f.listenToOnce=function(Q,de,Ce){var De=m(_,{},de,Ce,this.stopListening.bind(this,Q));return this.listenTo(Q,De)};var _=function(Q,de,Ce,De){if(Ce){var Ke=Q[de]=s.once(function(){De(de,Ke),Ce.apply(this,arguments)});Ke._callback=Ce}return Q};f.trigger=function(Q){if(!this._events)return this;for(var de=Math.max(0,arguments.length-1),Ce=Array(de),De=0;De<de;De++)Ce[De]=arguments[De+1];return m(S,this._events,Q,void 0,Ce),this};var S=function(Q,de,Ce,De){if(Q){var Ke=Q[de],je=Q.all;Ke&&je&&(je=je.slice()),Ke&&T(Ke,De),je&&T(je,[de].concat(De))}return Q},T=function(Q,de){var Ce,De=-1,Ke=Q.length,je=de[0],Ze=de[1],Ye=de[2];switch(de.length){case 0:for(;++De<Ke;)(Ce=Q[De]).callback.call(Ce.ctx);return;case 1:for(;++De<Ke;)(Ce=Q[De]).callback.call(Ce.ctx,je);return;case 2:for(;++De<Ke;)(Ce=Q[De]).callback.call(Ce.ctx,je,Ze);return;case 3:for(;++De<Ke;)(Ce=Q[De]).callback.call(Ce.ctx,je,Ze,Ye);return;default:for(;++De<Ke;)(Ce=Q[De]).callback.apply(Ce.ctx,de);return}},C=function(Q,de){this.id=Q._listenId,this.listener=Q,this.obj=de,this.interop=!0,this.count=0,this._events=void 0};C.prototype.on=f.on,C.prototype.off=function(Q,de){var Ce;this.interop?(this._events=m(b,this._events,Q,de,{context:void 0,listeners:void 0}),Ce=!this._events):(this.count--,Ce=this.count===0),Ce&&this.cleanup()},C.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},f.bind=f.on,f.unbind=f.off,s.extend(a,f);var w=a.Model=function(Q,de){var Ce=Q||{};de||(de={}),this.preinitialize.apply(this,arguments),this.cid=s.uniqueId(this.cidPrefix),this.attributes={},de.collection&&(this.collection=de.collection),de.parse&&(Ce=this.parse(Ce,de)||{});var De=s.result(this,"defaults");Ce=s.defaults(s.extend({},De,Ce),De),this.set(Ce,de),this.changed={},this.initialize.apply(this,arguments)};s.extend(w.prototype,f,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(Q){return s.clone(this.attributes)},sync:function(){return a.sync.apply(this,arguments)},get:function(Q){return this.attributes[Q]},escape:function(Q){return s.escape(this.get(Q))},has:function(Q){return this.get(Q)!=null},matches:function(Q){return!!s.iteratee(Q,this)(this.attributes)},set:function(Q,de,Ce){if(Q==null)return this;var De;if(typeof Q=="object"?(De=Q,Ce=de):(De={})[Q]=de,Ce||(Ce={}),!this._validate(De,Ce))return!1;var Ke=Ce.unset,je=Ce.silent,Ze=[],Ye=this._changing;this._changing=!0,Ye||(this._previousAttributes=s.clone(this.attributes),this.changed={});var bt=this.attributes,Ut=this.changed,kt=this._previousAttributes;for(var Oe in De)de=De[Oe],s.isEqual(bt[Oe],de)||Ze.push(Oe),s.isEqual(kt[Oe],de)?delete Ut[Oe]:Ut[Oe]=de,Ke?delete bt[Oe]:bt[Oe]=de;if(this.idAttribute in De){var fe=this.id;this.id=this.get(this.idAttribute),this.trigger("changeId",this,fe,Ce)}if(!je){Ze.length&&(this._pending=Ce);for(var ee=0;ee<Ze.length;ee++)this.trigger("change:"+Ze[ee],this,bt[Ze[ee]],Ce)}if(Ye)return this;if(!je)for(;this._pending;)Ce=this._pending,this._pending=!1,this.trigger("change",this,Ce);return this._pending=!1,this._changing=!1,this},unset:function(Q,de){return this.set(Q,void 0,s.extend({},de,{unset:!0}))},clear:function(Q){var de={};for(var Ce in this.attributes)de[Ce]=void 0;return this.set(de,s.extend({},Q,{unset:!0}))},hasChanged:function(Q){return Q==null?!s.isEmpty(this.changed):s.has(this.changed,Q)},changedAttributes:function(Q){if(!Q)return this.hasChanged()?s.clone(this.changed):!1;var de=this._changing?this._previousAttributes:this.attributes,Ce={},De;for(var Ke in Q){var je=Q[Ke];s.isEqual(de[Ke],je)||(Ce[Ke]=je,De=!0)}return De?Ce:!1},previous:function(Q){return Q==null||!this._previousAttributes?null:this._previousAttributes[Q]},previousAttributes:function(){return s.clone(this._previousAttributes)},fetch:function(Q){Q=s.extend({parse:!0},Q);var de=this,Ce=Q.success;return Q.success=function(De){var Ke=Q.parse?de.parse(De,Q):De;if(!de.set(Ke,Q))return!1;Ce&&Ce.call(Q.context,de,De,Q),de.trigger("sync",de,De,Q)},ft(this,Q),this.sync("read",this,Q)},save:function(Q,de,Ce){var De;Q==null||typeof Q=="object"?(De=Q,Ce=de):(De={})[Q]=de,Ce=s.extend({validate:!0,parse:!0},Ce);var Ke=Ce.wait;if(De&&!Ke){if(!this.set(De,Ce))return!1}else if(!this._validate(De,Ce))return!1;var je=this,Ze=Ce.success,Ye=this.attributes;Ce.success=function(kt){je.attributes=Ye;var Oe=Ce.parse?je.parse(kt,Ce):kt;if(Ke&&(Oe=s.extend({},De,Oe)),Oe&&!je.set(Oe,Ce))return!1;Ze&&Ze.call(Ce.context,je,kt,Ce),je.trigger("sync",je,kt,Ce)},ft(this,Ce),De&&Ke&&(this.attributes=s.extend({},Ye,De));var bt=this.isNew()?"create":Ce.patch?"patch":"update";bt==="patch"&&!Ce.attrs&&(Ce.attrs=De);var Ut=this.sync(bt,this,Ce);return this.attributes=Ye,Ut},destroy:function(Q){Q=Q?s.clone(Q):{};var de=this,Ce=Q.success,De=Q.wait,Ke=function(){de.stopListening(),de.trigger("destroy",de,de.collection,Q)};Q.success=function(Ze){De&&Ke(),Ce&&Ce.call(Q.context,de,Ze,Q),de.isNew()||de.trigger("sync",de,Ze,Q)};var je=!1;return this.isNew()?s.defer(Q.success):(ft(this,Q),je=this.sync("delete",this,Q)),De||Ke(),je},url:function(){var Q=s.result(this,"urlRoot")||s.result(this.collection,"url")||Te();if(this.isNew())return Q;var de=this.get(this.idAttribute);return Q.replace(/[^\/]$/,"$&/")+encodeURIComponent(de)},parse:function(Q,de){return Q},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(Q){return this._validate({},s.extend({},Q,{validate:!0}))},_validate:function(Q,de){if(!de.validate||!this.validate)return!0;Q=s.extend({},this.attributes,Q);var Ce=this.validationError=this.validate(Q,de)||null;return Ce?(this.trigger("invalid",this,Ce,s.extend(de,{validationError:Ce})),!1):!0}});var N=a.Collection=function(Q,de){de||(de={}),this.preinitialize.apply(this,arguments),de.model&&(this.model=de.model),de.comparator!==void 0&&(this.comparator=de.comparator),this._reset(),this.initialize.apply(this,arguments),Q&&this.reset(Q,s.extend({silent:!0},de))},A={add:!0,remove:!0,merge:!0},j={add:!0,remove:!1},R=function(Q,de,Ce){Ce=Math.min(Math.max(Ce,0),Q.length);var De=Array(Q.length-Ce),Ke=de.length,je;for(je=0;je<De.length;je++)De[je]=Q[je+Ce];for(je=0;je<Ke;je++)Q[je+Ce]=de[je];for(je=0;je<De.length;je++)Q[je+Ke+Ce]=De[je]};s.extend(N.prototype,f,{model:w,preinitialize:function(){},initialize:function(){},toJSON:function(Q){return this.map(function(de){return de.toJSON(Q)})},sync:function(){return a.sync.apply(this,arguments)},add:function(Q,de){return this.set(Q,s.extend({merge:!1},de,j))},remove:function(Q,de){de=s.extend({},de);var Ce=!s.isArray(Q);Q=Ce?[Q]:Q.slice();var De=this._removeModels(Q,de);return!de.silent&&De.length&&(de.changes={added:[],merged:[],removed:De},this.trigger("update",this,de)),Ce?De[0]:De},set:function(Q,de){if(Q!=null){de=s.extend({},A,de),de.parse&&!this._isModel(Q)&&(Q=this.parse(Q,de)||[]);var Ce=!s.isArray(Q);Q=Ce?[Q]:Q.slice();var De=de.at;De!=null&&(De=+De),De>this.length&&(De=this.length),De<0&&(De+=this.length+1);var Ke=[],je=[],Ze=[],Ye=[],bt={},Ut=de.add,kt=de.merge,Oe=de.remove,fe=!1,ee=this.comparator&&De==null&&de.sort!==!1,tt=s.isString(this.comparator)?this.comparator:null,Ie,gt;for(gt=0;gt<Q.length;gt++){Ie=Q[gt];var wt=this.get(Ie);if(wt){if(kt&&Ie!==wt){var Ct=this._isModel(Ie)?Ie.attributes:Ie;de.parse&&(Ct=wt.parse(Ct,de)),wt.set(Ct,de),Ze.push(wt),ee&&!fe&&(fe=wt.hasChanged(tt))}bt[wt.cid]||(bt[wt.cid]=!0,Ke.push(wt)),Q[gt]=wt}else Ut&&(Ie=Q[gt]=this._prepareModel(Ie,de),Ie&&(je.push(Ie),this._addReference(Ie,de),bt[Ie.cid]=!0,Ke.push(Ie)))}if(Oe){for(gt=0;gt<this.length;gt++)Ie=this.models[gt],bt[Ie.cid]||Ye.push(Ie);Ye.length&&this._removeModels(Ye,de)}var At=!1,Ft=!ee&&Ut&&Oe;if(Ke.length&&Ft?(At=this.length!==Ke.length||s.some(this.models,function(lr,nr){return lr!==Ke[nr]}),this.models.length=0,R(this.models,Ke,0),this.length=this.models.length):je.length&&(ee&&(fe=!0),R(this.models,je,De??this.length),this.length=this.models.length),fe&&this.sort({silent:!0}),!de.silent){for(gt=0;gt<je.length;gt++)De!=null&&(de.index=De+gt),Ie=je[gt],Ie.trigger("add",Ie,this,de);(fe||At)&&this.trigger("sort",this,de),(je.length||Ye.length||Ze.length)&&(de.changes={added:je,removed:Ye,merged:Ze},this.trigger("update",this,de))}return Ce?Q[0]:Q}},reset:function(Q,de){de=de?s.clone(de):{};for(var Ce=0;Ce<this.models.length;Ce++)this._removeReference(this.models[Ce],de);return de.previousModels=this.models,this._reset(),Q=this.add(Q,s.extend({silent:!0},de)),de.silent||this.trigger("reset",this,de),Q},push:function(Q,de){return this.add(Q,s.extend({at:this.length},de))},pop:function(Q){var de=this.at(this.length-1);return this.remove(de,Q)},unshift:function(Q,de){return this.add(Q,s.extend({at:0},de))},shift:function(Q){var de=this.at(0);return this.remove(de,Q)},slice:function(){return u.apply(this.models,arguments)},get:function(Q){if(Q!=null)return this._byId[Q]||this._byId[this.modelId(this._isModel(Q)?Q.attributes:Q,Q.idAttribute)]||Q.cid&&this._byId[Q.cid]},has:function(Q){return this.get(Q)!=null},at:function(Q){return Q<0&&(Q+=this.length),this.models[Q]},where:function(Q,de){return this[de?"find":"filter"](Q)},findWhere:function(Q){return this.where(Q,!0)},sort:function(Q){var de=this.comparator;if(!de)throw new Error("Cannot sort a set without a comparator");Q||(Q={});var Ce=de.length;return s.isFunction(de)&&(de=de.bind(this)),Ce===1||s.isString(de)?this.models=this.sortBy(de):this.models.sort(de),Q.silent||this.trigger("sort",this,Q),this},pluck:function(Q){return this.map(Q+"")},fetch:function(Q){Q=s.extend({parse:!0},Q);var de=Q.success,Ce=this;return Q.success=function(De){var Ke=Q.reset?"reset":"set";Ce[Ke](De,Q),de&&de.call(Q.context,Ce,De,Q),Ce.trigger("sync",Ce,De,Q)},ft(this,Q),this.sync("read",this,Q)},create:function(Q,de){de=de?s.clone(de):{};var Ce=de.wait;if(Q=this._prepareModel(Q,de),!Q)return!1;Ce||this.add(Q,de);var De=this,Ke=de.success;return de.success=function(je,Ze,Ye){Ce&&De.add(je,Ye),Ke&&Ke.call(Ye.context,je,Ze,Ye)},Q.save(null,de),Q},parse:function(Q,de){return Q},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(Q,de){return Q[de||this.model.prototype.idAttribute||"id"]},values:function(){return new M(this,I)},keys:function(){return new M(this,D)},entries:function(){return new M(this,V)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(Q,de){if(this._isModel(Q))return Q.collection||(Q.collection=this),Q;de=de?s.clone(de):{},de.collection=this;var Ce;return this.model.prototype?Ce=new this.model(Q,de):Ce=this.model(Q,de),Ce.validationError?(this.trigger("invalid",this,Ce.validationError,de),!1):Ce},_removeModels:function(Q,de){for(var Ce=[],De=0;De<Q.length;De++){var Ke=this.get(Q[De]);if(Ke){var je=this.indexOf(Ke);this.models.splice(je,1),this.length--,delete this._byId[Ke.cid];var Ze=this.modelId(Ke.attributes,Ke.idAttribute);Ze!=null&&delete this._byId[Ze],de.silent||(de.index=je,Ke.trigger("remove",Ke,this,de)),Ce.push(Ke),this._removeReference(Ke,de)}}return Ce},_isModel:function(Q){return Q instanceof w},_addReference:function(Q,de){this._byId[Q.cid]=Q;var Ce=this.modelId(Q.attributes,Q.idAttribute);Ce!=null&&(this._byId[Ce]=Q),Q.on("all",this._onModelEvent,this)},_removeReference:function(Q,de){delete this._byId[Q.cid];var Ce=this.modelId(Q.attributes,Q.idAttribute);Ce!=null&&delete this._byId[Ce],this===Q.collection&&delete Q.collection,Q.off("all",this._onModelEvent,this)},_onModelEvent:function(Q,de,Ce,De){if(de){if((Q==="add"||Q==="remove")&&Ce!==this)return;if(Q==="destroy"&&this.remove(de,De),Q==="changeId"){var Ke=this.modelId(de.previousAttributes(),de.idAttribute),je=this.modelId(de.attributes,de.idAttribute);Ke!=null&&delete this._byId[Ke],je!=null&&(this._byId[je]=de)}}this.trigger.apply(this,arguments)}});var L=typeof Symbol=="function"&&Symbol.iterator;L&&(N.prototype[L]=N.prototype.values);var M=function(Q,de){this._collection=Q,this._kind=de,this._index=0},I=1,D=2,V=3;L&&(M.prototype[L]=function(){return this}),M.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var Q=this._collection.at(this._index);this._index++;var de;if(this._kind===I)de=Q;else{var Ce=this._collection.modelId(Q.attributes,Q.idAttribute);this._kind===D?de=Ce:de=[Ce,Q]}return{value:de,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var F=a.View=function(Q){this.cid=s.uniqueId("view"),this.preinitialize.apply(this,arguments),s.extend(this,s.pick(Q,W)),this._ensureElement(),this.initialize.apply(this,arguments)},G=/^(\S+)\s*(.*)$/,W=["model","collection","el","id","attributes","className","tagName","events"];s.extend(F.prototype,f,{tagName:"div",$:function(Q){return this.$el.find(Q)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(Q){return this.undelegateEvents(),this._setElement(Q),this.delegateEvents(),this},_setElement:function(Q){this.$el=Q instanceof a.$?Q:a.$(Q),this.el=this.$el[0]},delegateEvents:function(Q){if(Q||(Q=s.result(this,"events")),!Q)return this;this.undelegateEvents();for(var de in Q){var Ce=Q[de];if(s.isFunction(Ce)||(Ce=this[Ce]),!!Ce){var De=de.match(G);this.delegate(De[1],De[2],Ce.bind(this))}}return this},delegate:function(Q,de,Ce){return this.$el.on(Q+".delegateEvents"+this.cid,de,Ce),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(Q,de,Ce){return this.$el.off(Q+".delegateEvents"+this.cid,de,Ce),this},_createElement:function(Q){return document.createElement(Q)},_ensureElement:function(){if(this.el)this.setElement(s.result(this,"el"));else{var Q=s.extend({},s.result(this,"attributes"));this.id&&(Q.id=s.result(this,"id")),this.className&&(Q.class=s.result(this,"className")),this.setElement(this._createElement(s.result(this,"tagName"))),this._setAttributes(Q)}},_setAttributes:function(Q){this.$el.attr(Q)}});var Y=function(Q,de,Ce,De){switch(de){case 1:return function(){return Q[Ce](this[De])};case 2:return function(Ke){return Q[Ce](this[De],Ke)};case 3:return function(Ke,je){return Q[Ce](this[De],he(Ke,this),je)};case 4:return function(Ke,je,Ze){return Q[Ce](this[De],he(Ke,this),je,Ze)};default:return function(){var Ke=u.call(arguments);return Ke.unshift(this[De]),Q[Ce].apply(Q,Ke)}}},te=function(Q,de,Ce,De){s.each(Ce,function(Ke,je){de[je]&&(Q.prototype[je]=Y(de,Ke,je,De))})},he=function(Q,de){return s.isFunction(Q)?Q:s.isObject(Q)&&!de._isModel(Q)?z(Q):s.isString(Q)?function(Ce){return Ce.get(Q)}:Q},z=function(Q){var de=s.matches(Q);return function(Ce){return de(Ce.attributes)}},Z={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},X={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};s.each([[N,Z,"models"],[w,X,"attributes"]],function(Q){var de=Q[0],Ce=Q[1],De=Q[2];de.mixin=function(Ke){var je=s.reduce(s.functions(Ke),function(Ze,Ye){return Ze[Ye]=0,Ze},{});te(de,Ke,je,De)},te(de,s,Ce,De)}),a.sync=function(Q,de,Ce){var De=ae[Q];s.defaults(Ce||(Ce={}),{emulateHTTP:a.emulateHTTP,emulateJSON:a.emulateJSON});var Ke={type:De,dataType:"json"};if(Ce.url||(Ke.url=s.result(de,"url")||Te()),Ce.data==null&&de&&(Q==="create"||Q==="update"||Q==="patch")&&(Ke.contentType="application/json",Ke.data=JSON.stringify(Ce.attrs||de.toJSON(Ce))),Ce.emulateJSON&&(Ke.contentType="application/x-www-form-urlencoded",Ke.data=Ke.data?{model:Ke.data}:{}),Ce.emulateHTTP&&(De==="PUT"||De==="DELETE"||De==="PATCH")){Ke.type="POST",Ce.emulateJSON&&(Ke.data._method=De);var je=Ce.beforeSend;Ce.beforeSend=function(bt){if(bt.setRequestHeader("X-HTTP-Method-Override",De),je)return je.apply(this,arguments)}}Ke.type!=="GET"&&!Ce.emulateJSON&&(Ke.processData=!1);var Ze=Ce.error;Ce.error=function(bt,Ut,kt){Ce.textStatus=Ut,Ce.errorThrown=kt,Ze&&Ze.call(Ce.context,bt,Ut,kt)};var Ye=Ce.xhr=a.ajax(s.extend(Ke,Ce));return de.trigger("request",de,Ye,Ce),Ye};var ae={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};a.ajax=function(){return a.$.ajax.apply(a.$,arguments)};var ve=a.Router=function(Q){Q||(Q={}),this.preinitialize.apply(this,arguments),Q.routes&&(this.routes=Q.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},me=/\((.*?)\)/g,Ee=/(\(\?)?:\w+/g,ke=/\*\w+/g,He=/[\-{}\[\]+?.,\\\^$|#\s]/g;s.extend(ve.prototype,f,{preinitialize:function(){},initialize:function(){},route:function(Q,de,Ce){s.isRegExp(Q)||(Q=this._routeToRegExp(Q)),s.isFunction(de)&&(Ce=de,de=""),Ce||(Ce=this[de]);var De=this;return a.history.route(Q,function(Ke){var je=De._extractParameters(Q,Ke);De.execute(Ce,je,de)!==!1&&(De.trigger.apply(De,["route:"+de].concat(je)),De.trigger("route",de,je),a.history.trigger("route",De,de,je))}),this},execute:function(Q,de,Ce){Q&&Q.apply(this,de)},navigate:function(Q,de){return a.history.navigate(Q,de),this},_bindRoutes:function(){if(this.routes){this.routes=s.result(this,"routes");for(var Q,de=s.keys(this.routes);(Q=de.pop())!=null;)this.route(Q,this.routes[Q])}},_routeToRegExp:function(Q){return Q=Q.replace(He,"\\$&").replace(me,"(?:$1)?").replace(Ee,function(de,Ce){return Ce?de:"([^/?]+)"}).replace(ke,"([^?]*?)"),new RegExp("^"+Q+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(Q,de){var Ce=Q.exec(de).slice(1);return s.map(Ce,function(De,Ke){return Ke===Ce.length-1?De||null:De?decodeURIComponent(De):null})}});var Re=a.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),typeof window<"u"&&(this.location=window.location,this.history=window.history)},se=/^[#\/]|\s+$/g,ce=/^\/+|\/+$/g,$e=/#.*$/;Re.started=!1,s.extend(Re.prototype,f,{interval:50,atRoot:function(){var Q=this.location.pathname.replace(/[^\/]$/,"$&/");return Q===this.root&&!this.getSearch()},matchRoot:function(){var Q=this.decodeFragment(this.location.pathname),de=Q.slice(0,this.root.length-1)+"/";return de===this.root},decodeFragment:function(Q){return decodeURI(Q.replace(/%25/g,"%2525"))},getSearch:function(){var Q=this.location.href.replace(/#.*/,"").match(/\?.+/);return Q?Q[0]:""},getHash:function(Q){var de=(Q||this).location.href.match(/#(.*)$/);return de?de[1]:""},getPath:function(){var Q=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return Q.charAt(0)==="/"?Q.slice(1):Q},getFragment:function(Q){return Q==null&&(this._usePushState||!this._wantsHashChange?Q=this.getPath():Q=this.getHash()),Q.replace(se,"")},start:function(Q){if(Re.started)throw new Error("Backbone.history has already been started");if(Re.started=!0,this.options=s.extend({root:"/"},this.options,Q),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(document.documentMode===void 0||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.history&&this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(ce,"/"),this._wantsHashChange&&this._wantsPushState)if(!this._hasPushState&&!this.atRoot()){var de=this.root.slice(0,-1)||"/";return this.location.replace(de+"#"+this.getPath()),!0}else this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0});if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var Ce=document.body,De=Ce.insertBefore(this.iframe,Ce.firstChild).contentWindow;De.document.open(),De.document.close(),De.location.hash="#"+this.fragment}var Ke=window.addEventListener||function(je,Ze){return attachEvent("on"+je,Ze)};if(this._usePushState?Ke("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?Ke("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var Q=window.removeEventListener||function(de,Ce){return detachEvent("on"+de,Ce)};this._usePushState?Q("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&Q("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),Re.started=!1},route:function(Q,de){this.handlers.unshift({route:Q,callback:de})},checkUrl:function(Q){var de=this.getFragment();if(de===this.fragment&&this.iframe&&(de=this.getHash(this.iframe.contentWindow)),de===this.fragment)return!1;this.iframe&&this.navigate(de),this.loadUrl()},loadUrl:function(Q){return this.matchRoot()?(Q=this.fragment=this.getFragment(Q),s.some(this.handlers,function(de){if(de.route.test(Q))return de.callback(Q),!0})):!1},navigate:function(Q,de){if(!Re.started)return!1;(!de||de===!0)&&(de={trigger:!!de}),Q=this.getFragment(Q||"");var Ce=this.root;(Q===""||Q.charAt(0)==="?")&&(Ce=Ce.slice(0,-1)||"/");var De=Ce+Q;Q=Q.replace($e,"");var Ke=this.decodeFragment(Q);if(this.fragment!==Ke){if(this.fragment=Ke,this._usePushState)this.history[de.replace?"replaceState":"pushState"]({},document.title,De);else if(this._wantsHashChange){if(this._updateHash(this.location,Q,de.replace),this.iframe&&Q!==this.getHash(this.iframe.contentWindow)){var je=this.iframe.contentWindow;de.replace||(je.document.open(),je.document.close()),this._updateHash(je.location,Q,de.replace)}}else return this.location.assign(De);if(de.trigger)return this.loadUrl(Q)}},_updateHash:function(Q,de,Ce){if(Ce){var De=Q.href.replace(/(javascript:|#).*$/,"");Q.replace(De+"#"+de)}else Q.hash="#"+de}}),a.history=new Re;var Ue=function(Q,de){var Ce=this,De;return Q&&s.has(Q,"constructor")?De=Q.constructor:De=function(){return Ce.apply(this,arguments)},s.extend(De,Ce,de),De.prototype=s.create(Ce.prototype,Q),De.prototype.constructor=De,De.__super__=Ce.prototype,De};w.extend=N.extend=ve.extend=F.extend=Re.extend=Ue;var Te=function(){throw new Error('A "url" property or function must be specified')},ft=function(Q,de){var Ce=de.error;de.error=function(De){Ce&&Ce.call(de.context,Q,De,de),Q.trigger("error",Q,De,de)}};return a})},3640:(n,t,e)=>{(function(r){r(e(4408))})(function(r){r.extendMode("css",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(o,a){return/^[;{}]$/.test(a)}}),r.extendMode("javascript",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(o,a,s,l){return this.jsonMode?/^[\[,{]$/.test(a)||/^}/.test(s):a==";"&&l.lexical&&l.lexical.type==")"?!1:/^[;{}]$/.test(a)&&!/^;/.test(s)}});var i=/^(a|abbr|acronym|area|base|bdo|big|br|button|caption|cite|code|col|colgroup|dd|del|dfn|em|frame|hr|iframe|img|input|ins|kbd|label|legend|link|map|object|optgroup|option|param|q|samp|script|select|small|span|strong|sub|sup|textarea|tt|var)$/;r.extendMode("xml",{commentStart:"<!--",commentEnd:"-->",newlineAfterToken:function(o,a,s,l){var c=!1;return this.configuration=="html"&&(c=l.context?i.test(l.context.tagName):!1),!c&&(o=="tag"&&/>$/.test(a)&&l.context||/^</.test(s))}}),r.defineExtension("commentRange",function(o,a,s){var l=this,c=r.innerMode(l.getMode(),l.getTokenAt(a).state).mode;l.operation(function(){if(o)l.replaceRange(c.commentEnd,s),l.replaceRange(c.commentStart,a),a.line==s.line&&a.ch==s.ch&&l.setCursor(a.line,a.ch+c.commentStart.length);else{var u=l.getRange(a,s),f=u.indexOf(c.commentStart),h=u.lastIndexOf(c.commentEnd);f>-1&&h>-1&&h>f&&(u=u.substr(0,f)+u.substring(f+c.commentStart.length,h)+u.substr(h+c.commentEnd.length)),l.replaceRange(u,a,s)}})}),r.defineExtension("autoIndentRange",function(o,a){var s=this;this.operation(function(){for(var l=o.line;l<=a.line;l++)s.indentLine(l,"smart")})}),r.defineExtension("autoFormatRange",function(o,a){var s=this,l=s.getMode(),c=s.getRange(o,a).split(`
`),u=r.copyState(l,s.getTokenAt(o).state),f=s.getOption("tabSize"),h="",d=0,m=o.ch===0;function g(){h+=`
`,m=!0,++d}for(var x=0;x<c.length;++x){for(var b=new r.StringStream(c[x],f);!b.eol();){var _=r.innerMode(l,u),S=l.token(b,u),T=b.current();b.start=b.pos,(!m||/\S/.test(T))&&(h+=T,m=!1),!m&&_.mode.newlineAfterToken&&_.mode.newlineAfterToken(S,T,b.string.slice(b.pos)||c[x+1]||"",_.state)&&g()}!b.pos&&l.blankLine&&l.blankLine(u),!m&&x<c.length-1&&g()}s.operation(function(){s.replaceRange(h,o,a);for(var C=o.line+1,w=o.line+d;C<=w;++C)s.indentLine(C,"smart");s.setSelection(o,s.getCursor(!1))})})})},4408:function(n){(function(t,e){n.exports=e()})(this,function(){var t=navigator.userAgent,e=navigator.platform,r=/gecko\/\d/i.test(t),i=/MSIE \d/.test(t),o=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(t),a=/Edge\/(\d+)/.exec(t),s=i||o||a,l=s&&(i?document.documentMode||6:+(a||o)[1]),c=!a&&/WebKit\//.test(t),u=c&&/Qt\/\d+\.\d+/.test(t),f=!a&&/Chrome\//.test(t),h=/Opera\//.test(t),d=/Apple Computer/.test(navigator.vendor),m=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(t),g=/PhantomJS/.test(t),x=d&&(/Mobile\/\w+/.test(t)||navigator.maxTouchPoints>2),b=/Android/.test(t),_=x||b||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(t),S=x||/Mac/.test(e),T=/\bCrOS\b/.test(t),C=/win/i.test(e),w=h&&t.match(/Version\/(\d*\.\d*)/);w&&(w=Number(w[1])),w&&w>=15&&(h=!1,c=!0);var N=S&&(u||h&&(w==null||w<12.11)),A=r||s&&l>=9;function j(p){return new RegExp("(^|\\s)"+p+"(?:$|\\s)\\s*")}var R=function(p,v){var O=p.className,E=j(v).exec(O);if(E){var P=O.slice(E.index+E[0].length);p.className=O.slice(0,E.index)+(P?E[1]+P:"")}};function L(p){for(var v=p.childNodes.length;v>0;--v)p.removeChild(p.firstChild);return p}function M(p,v){return L(p).appendChild(v)}function I(p,v,O,E){var P=document.createElement(p);if(O&&(P.className=O),E&&(P.style.cssText=E),typeof v=="string")P.appendChild(document.createTextNode(v));else if(v)for(var H=0;H<v.length;++H)P.appendChild(v[H]);return P}function D(p,v,O,E){var P=I(p,v,O,E);return P.setAttribute("role","presentation"),P}var V;document.createRange?V=function(p,v,O,E){var P=document.createRange();return P.setEnd(E||p,O),P.setStart(p,v),P}:V=function(p,v,O){var E=document.body.createTextRange();try{E.moveToElementText(p.parentNode)}catch{return E}return E.collapse(!0),E.moveEnd("character",O),E.moveStart("character",v),E};function F(p,v){if(v.nodeType==3&&(v=v.parentNode),p.contains)return p.contains(v);do if(v.nodeType==11&&(v=v.host),v==p)return!0;while(v=v.parentNode)}function G(){var p;try{p=document.activeElement}catch{p=document.body||null}for(;p&&p.shadowRoot&&p.shadowRoot.activeElement;)p=p.shadowRoot.activeElement;return p}function W(p,v){var O=p.className;j(v).test(O)||(p.className+=(O?" ":"")+v)}function Y(p,v){for(var O=p.split(" "),E=0;E<O.length;E++)O[E]&&!j(O[E]).test(v)&&(v+=" "+O[E]);return v}var te=function(p){p.select()};x?te=function(p){p.selectionStart=0,p.selectionEnd=p.value.length}:s&&(te=function(p){try{p.select()}catch{}});function he(p){var v=Array.prototype.slice.call(arguments,1);return function(){return p.apply(null,v)}}function z(p,v,O){v||(v={});for(var E in p)p.hasOwnProperty(E)&&(O!==!1||!v.hasOwnProperty(E))&&(v[E]=p[E]);return v}function Z(p,v,O,E,P){v==null&&(v=p.search(/[^\s\u00a0]/),v==-1&&(v=p.length));for(var H=E||0,K=P||0;;){var re=p.indexOf("	",H);if(re<0||re>=v)return K+(v-H);K+=re-H,K+=O-K%O,H=re+1}}var X=function(){this.id=null,this.f=null,this.time=0,this.handler=he(this.onTimeout,this)};X.prototype.onTimeout=function(p){p.id=0,p.time<=+new Date?p.f():setTimeout(p.handler,p.time-+new Date)},X.prototype.set=function(p,v){this.f=v;var O=+new Date+p;(!this.id||O<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,p),this.time=O)};function ae(p,v){for(var O=0;O<p.length;++O)if(p[O]==v)return O;return-1}var ve=50,me={toString:function(){return"CodeMirror.Pass"}},Ee={scroll:!1},ke={origin:"*mouse"},He={origin:"+move"};function Re(p,v,O){for(var E=0,P=0;;){var H=p.indexOf("	",E);H==-1&&(H=p.length);var K=H-E;if(H==p.length||P+K>=v)return E+Math.min(K,v-P);if(P+=H-E,P+=O-P%O,E=H+1,P>=v)return E}}var se=[""];function ce(p){for(;se.length<=p;)se.push($e(se)+" ");return se[p]}function $e(p){return p[p.length-1]}function Ue(p,v){for(var O=[],E=0;E<p.length;E++)O[E]=v(p[E],E);return O}function Te(p,v,O){for(var E=0,P=O(v);E<p.length&&O(p[E])<=P;)E++;p.splice(E,0,v)}function ft(){}function Q(p,v){var O;return Object.create?O=Object.create(p):(ft.prototype=p,O=new ft),v&&z(v,O),O}var de=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function Ce(p){return/\w/.test(p)||p>""&&(p.toUpperCase()!=p.toLowerCase()||de.test(p))}function De(p,v){return v?v.source.indexOf("\\w")>-1&&Ce(p)?!0:v.test(p):Ce(p)}function Ke(p){for(var v in p)if(p.hasOwnProperty(v)&&p[v])return!1;return!0}var je=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function Ze(p){return p.charCodeAt(0)>=768&&je.test(p)}function Ye(p,v,O){for(;(O<0?v>0:v<p.length)&&Ze(p.charAt(v));)v+=O;return v}function bt(p,v,O){for(var E=v>O?-1:1;;){if(v==O)return v;var P=(v+O)/2,H=E<0?Math.ceil(P):Math.floor(P);if(H==v)return p(H)?v:O;p(H)?O=H:v=H+E}}function Ut(p,v,O,E){if(!p)return E(v,O,"ltr",0);for(var P=!1,H=0;H<p.length;++H){var K=p[H];(K.from<O&&K.to>v||v==O&&K.to==v)&&(E(Math.max(K.from,v),Math.min(K.to,O),K.level==1?"rtl":"ltr",H),P=!0)}P||E(v,O,"ltr")}var kt=null;function Oe(p,v,O){var E;kt=null;for(var P=0;P<p.length;++P){var H=p[P];if(H.from<v&&H.to>v)return P;H.to==v&&(H.from!=H.to&&O=="before"?E=P:kt=P),H.from==v&&(H.from!=H.to&&O!="before"?E=P:kt=P)}return E??kt}var fe=function(){var p="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",v="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function O(pe){return pe<=247?p.charAt(pe):1424<=pe&&pe<=1524?"R":1536<=pe&&pe<=1785?v.charAt(pe-1536):1774<=pe&&pe<=2220?"r":8192<=pe&&pe<=8203?"w":pe==8204?"b":"L"}var E=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,P=/[stwN]/,H=/[LRr]/,K=/[Lb1n]/,re=/[1n]/;function le(pe,Ve,Xe){this.level=pe,this.from=Ve,this.to=Xe}return function(pe,Ve){var Xe=Ve=="ltr"?"L":"R";if(pe.length==0||Ve=="ltr"&&!E.test(pe))return!1;for(var ct=pe.length,ot=[],_t=0;_t<ct;++_t)ot.push(O(pe.charCodeAt(_t)));for(var jt=0,zt=Xe;jt<ct;++jt){var Yt=ot[jt];Yt=="m"?ot[jt]=zt:zt=Yt}for(var rr=0,Xt=Xe;rr<ct;++rr){var ir=ot[rr];ir=="1"&&Xt=="r"?ot[rr]="n":H.test(ir)&&(Xt=ir,ir=="r"&&(ot[rr]="R"))}for(var Cr=1,yr=ot[0];Cr<ct-1;++Cr){var rn=ot[Cr];rn=="+"&&yr=="1"&&ot[Cr+1]=="1"?ot[Cr]="1":rn==","&&yr==ot[Cr+1]&&(yr=="1"||yr=="n")&&(ot[Cr]=yr),yr=rn}for(var Bn=0;Bn<ct;++Bn){var to=ot[Bn];if(to==",")ot[Bn]="N";else if(to=="%"){var mi=void 0;for(mi=Bn+1;mi<ct&&ot[mi]=="%";++mi);for(var Ba=Bn&&ot[Bn-1]=="!"||mi<ct&&ot[mi]=="1"?"1":"N",da=Bn;da<mi;++da)ot[da]=Ba;Bn=mi-1}}for(var Fi=0,ha=Xe;Fi<ct;++Fi){var mo=ot[Fi];ha=="L"&&mo=="1"?ot[Fi]="L":H.test(mo)&&(ha=mo)}for(var Gi=0;Gi<ct;++Gi)if(P.test(ot[Gi])){var Bi=void 0;for(Bi=Gi+1;Bi<ct&&P.test(ot[Bi]);++Bi);for(var _i=(Gi?ot[Gi-1]:Xe)=="L",pa=(Bi<ct?ot[Bi]:Xe)=="L",nh=_i==pa?_i?"L":"R":Xe,ju=Gi;ju<Bi;++ju)ot[ju]=nh;Gi=Bi-1}for(var Mo=[],lc,ro=0;ro<ct;)if(K.test(ot[ro])){var p2=ro;for(++ro;ro<ct&&K.test(ot[ro]);++ro);Mo.push(new le(0,p2,ro))}else{var Vc=ro,kf=Mo.length,Mf=Ve=="rtl"?1:0;for(++ro;ro<ct&&ot[ro]!="L";++ro);for(var Wo=Vc;Wo<ro;)if(re.test(ot[Wo])){Vc<Wo&&(Mo.splice(kf,0,new le(1,Vc,Wo)),kf+=Mf);var ih=Wo;for(++Wo;Wo<ro&&re.test(ot[Wo]);++Wo);Mo.splice(kf,0,new le(2,ih,Wo)),kf+=Mf,Vc=Wo}else++Wo;Vc<ro&&Mo.splice(kf,0,new le(1,Vc,ro))}return Ve=="ltr"&&(Mo[0].level==1&&(lc=pe.match(/^\s+/))&&(Mo[0].from=lc[0].length,Mo.unshift(new le(0,0,lc[0].length))),$e(Mo).level==1&&(lc=pe.match(/\s+$/))&&($e(Mo).to-=lc[0].length,Mo.push(new le(0,ct-lc[0].length,ct)))),Ve=="rtl"?Mo.reverse():Mo}}();function ee(p,v){var O=p.order;return O==null&&(O=p.order=fe(p.text,v)),O}var tt=[],Ie=function(p,v,O){if(p.addEventListener)p.addEventListener(v,O,!1);else if(p.attachEvent)p.attachEvent("on"+v,O);else{var E=p._handlers||(p._handlers={});E[v]=(E[v]||tt).concat(O)}};function gt(p,v){return p._handlers&&p._handlers[v]||tt}function wt(p,v,O){if(p.removeEventListener)p.removeEventListener(v,O,!1);else if(p.detachEvent)p.detachEvent("on"+v,O);else{var E=p._handlers,P=E&&E[v];if(P){var H=ae(P,O);H>-1&&(E[v]=P.slice(0,H).concat(P.slice(H+1)))}}}function Ct(p,v){var O=gt(p,v);if(O.length)for(var E=Array.prototype.slice.call(arguments,2),P=0;P<O.length;++P)O[P].apply(null,E)}function At(p,v,O){return typeof v=="string"&&(v={type:v,preventDefault:function(){this.defaultPrevented=!0}}),Ct(p,O||v.type,p,v),Lr(v)||v.codemirrorIgnore}function Ft(p){var v=p._handlers&&p._handlers.cursorActivity;if(v)for(var O=p.curOp.cursorActivityHandlers||(p.curOp.cursorActivityHandlers=[]),E=0;E<v.length;++E)ae(O,v[E])==-1&&O.push(v[E])}function lr(p,v){return gt(p,v).length>0}function nr(p){p.prototype.on=function(v,O){Ie(this,v,O)},p.prototype.off=function(v,O){wt(this,v,O)}}function vr(p){p.preventDefault?p.preventDefault():p.returnValue=!1}function Rr(p){p.stopPropagation?p.stopPropagation():p.cancelBubble=!0}function Lr(p){return p.defaultPrevented!=null?p.defaultPrevented:p.returnValue==!1}function ge(p){vr(p),Rr(p)}function We(p){return p.target||p.srcElement}function et(p){var v=p.which;return v==null&&(p.button&1?v=1:p.button&2?v=3:p.button&4&&(v=2)),S&&p.ctrlKey&&v==1&&(v=3),v}var mt=function(){if(s&&l<9)return!1;var p=I("div");return"draggable"in p||"dragDrop"in p}(),Rt;function Zt(p){if(Rt==null){var v=I("span","​");M(p,I("span",[v,document.createTextNode("x")])),p.firstChild.offsetHeight!=0&&(Rt=v.offsetWidth<=1&&v.offsetHeight>2&&!(s&&l<8))}var O=Rt?I("span","​"):I("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return O.setAttribute("cm-text",""),O}var Bt;function dr(p){if(Bt!=null)return Bt;var v=M(p,document.createTextNode("AخA")),O=V(v,0,1).getBoundingClientRect(),E=V(v,1,2).getBoundingClientRect();return L(p),!O||O.left==O.right?!1:Bt=E.right-O.right<3}var Er=`

b`.split(/\n/).length!=3?function(p){for(var v=0,O=[],E=p.length;v<=E;){var P=p.indexOf(`
`,v);P==-1&&(P=p.length);var H=p.slice(v,p.charAt(P-1)=="\r"?P-1:P),K=H.indexOf("\r");K!=-1?(O.push(H.slice(0,K)),v+=K+1):(O.push(H),v=P+1)}return O}:function(p){return p.split(/\r\n?|\n/)},Or=window.getSelection?function(p){try{return p.selectionStart!=p.selectionEnd}catch{return!1}}:function(p){var v;try{v=p.ownerDocument.selection.createRange()}catch{}return!v||v.parentElement()!=p?!1:v.compareEndPoints("StartToEnd",v)!=0},Ir=function(){var p=I("div");return"oncopy"in p?!0:(p.setAttribute("oncopy","return;"),typeof p.oncopy=="function")}(),or=null;function Kr(p){if(or!=null)return or;var v=M(p,I("span","x")),O=v.getBoundingClientRect(),E=V(v,0,1).getBoundingClientRect();return or=Math.abs(O.left-E.left)>1}var an={},mr={};function Xr(p,v){arguments.length>2&&(v.dependencies=Array.prototype.slice.call(arguments,2)),an[p]=v}function gr(p,v){mr[p]=v}function Vr(p){if(typeof p=="string"&&mr.hasOwnProperty(p))p=mr[p];else if(p&&typeof p.name=="string"&&mr.hasOwnProperty(p.name)){var v=mr[p.name];typeof v=="string"&&(v={name:v}),p=Q(v,p),p.name=v.name}else{if(typeof p=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(p))return Vr("application/xml");if(typeof p=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(p))return Vr("application/json")}return typeof p=="string"?{name:p}:p||{name:"null"}}function er(p,v){v=Vr(v);var O=an[v.name];if(!O)return er(p,"text/plain");var E=O(p,v);if(sn.hasOwnProperty(v.name)){var P=sn[v.name];for(var H in P)P.hasOwnProperty(H)&&(E.hasOwnProperty(H)&&(E["_"+H]=E[H]),E[H]=P[H])}if(E.name=v.name,v.helperType&&(E.helperType=v.helperType),v.modeProps)for(var K in v.modeProps)E[K]=v.modeProps[K];return E}var sn={};function xr(p,v){var O=sn.hasOwnProperty(p)?sn[p]:sn[p]={};z(v,O)}function ln(p,v){if(v===!0)return v;if(p.copyState)return p.copyState(v);var O={};for(var E in v){var P=v[E];P instanceof Array&&(P=P.concat([])),O[E]=P}return O}function qr(p,v){for(var O;p.innerMode&&(O=p.innerMode(v),!(!O||O.mode==p));)v=O.state,p=O.mode;return O||{mode:p,state:v}}function un(p,v,O){return p.startState?p.startState(v,O):!0}var wr=function(p,v,O){this.pos=this.start=0,this.string=p,this.tabSize=v||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=O};wr.prototype.eol=function(){return this.pos>=this.string.length},wr.prototype.sol=function(){return this.pos==this.lineStart},wr.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},wr.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},wr.prototype.eat=function(p){var v=this.string.charAt(this.pos),O;if(typeof p=="string"?O=v==p:O=v&&(p.test?p.test(v):p(v)),O)return++this.pos,v},wr.prototype.eatWhile=function(p){for(var v=this.pos;this.eat(p););return this.pos>v},wr.prototype.eatSpace=function(){for(var p=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>p},wr.prototype.skipToEnd=function(){this.pos=this.string.length},wr.prototype.skipTo=function(p){var v=this.string.indexOf(p,this.pos);if(v>-1)return this.pos=v,!0},wr.prototype.backUp=function(p){this.pos-=p},wr.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Z(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Z(this.string,this.lineStart,this.tabSize):0)},wr.prototype.indentation=function(){return Z(this.string,null,this.tabSize)-(this.lineStart?Z(this.string,this.lineStart,this.tabSize):0)},wr.prototype.match=function(p,v,O){if(typeof p=="string"){var E=function(K){return O?K.toLowerCase():K},P=this.string.substr(this.pos,p.length);if(E(P)==E(p))return v!==!1&&(this.pos+=p.length),!0}else{var H=this.string.slice(this.pos).match(p);return H&&H.index>0?null:(H&&v!==!1&&(this.pos+=H[0].length),H)}},wr.prototype.current=function(){return this.string.slice(this.start,this.pos)},wr.prototype.hideFirstChars=function(p,v){this.lineStart+=p;try{return v()}finally{this.lineStart-=p}},wr.prototype.lookAhead=function(p){var v=this.lineOracle;return v&&v.lookAhead(p)},wr.prototype.baseToken=function(){var p=this.lineOracle;return p&&p.baseToken(this.pos)};function $(p,v){if(v-=p.first,v<0||v>=p.size)throw new Error("There is no line "+(v+p.first)+" in the document.");for(var O=p;!O.lines;)for(var E=0;;++E){var P=O.children[E],H=P.chunkSize();if(v<H){O=P;break}v-=H}return O.lines[v]}function oe(p,v,O){var E=[],P=v.line;return p.iter(v.line,O.line+1,function(H){var K=H.text;P==O.line&&(K=K.slice(0,O.ch)),P==v.line&&(K=K.slice(v.ch)),E.push(K),++P}),E}function J(p,v,O){var E=[];return p.iter(v,O,function(P){E.push(P.text)}),E}function Fe(p,v){var O=v-p.height;if(O)for(var E=p;E;E=E.parent)E.height+=O}function it(p){if(p.parent==null)return null;for(var v=p.parent,O=ae(v.lines,p),E=v.parent;E;v=E,E=E.parent)for(var P=0;E.children[P]!=v;++P)O+=E.children[P].chunkSize();return O+v.first}function qt(p,v){var O=p.first;e:do{for(var E=0;E<p.children.length;++E){var P=p.children[E],H=P.height;if(v<H){p=P;continue e}v-=H,O+=P.chunkSize()}return O}while(!p.lines);for(var K=0;K<p.lines.length;++K){var re=p.lines[K],le=re.height;if(v<le)break;v-=le}return O+K}function fn(p,v){return v>=p.first&&v<p.first+p.size}function br(p,v){return String(p.lineNumberFormatter(v+p.firstLineNumber))}function dt(p,v,O){if(O===void 0&&(O=null),!(this instanceof dt))return new dt(p,v,O);this.line=p,this.ch=v,this.sticky=O}function ie(p,v){return p.line-v.line||p.ch-v.ch}function Nr(p,v){return p.sticky==v.sticky&&ie(p,v)==0}function _e(p){return dt(p.line,p.ch)}function ze(p,v){return ie(p,v)<0?v:p}function ht(p,v){return ie(p,v)<0?p:v}function Nt(p,v){return Math.max(p.first,Math.min(v,p.first+p.size-1))}function It(p,v){if(v.line<p.first)return dt(p.first,0);var O=p.first+p.size-1;return v.line>O?dt(O,$(p,O).text.length):Pr(v,$(p,v.line).text.length)}function Pr(p,v){var O=p.ch;return O==null||O>v?dt(p.line,v):O<0?dt(p.line,0):p}function Dr(p,v){for(var O=[],E=0;E<v.length;E++)O[E]=It(p,v[E]);return O}var An=function(p,v){this.state=p,this.lookAhead=v},Zr=function(p,v,O,E){this.state=v,this.doc=p,this.line=O,this.maxLookAhead=E||0,this.baseTokens=null,this.baseTokenPos=1};Zr.prototype.lookAhead=function(p){var v=this.doc.getLine(this.line+p);return v!=null&&p>this.maxLookAhead&&(this.maxLookAhead=p),v},Zr.prototype.baseToken=function(p){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=p;)this.baseTokenPos+=2;var v=this.baseTokens[this.baseTokenPos+1];return{type:v&&v.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-p}},Zr.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Zr.fromSaved=function(p,v,O){return v instanceof An?new Zr(p,ln(p.mode,v.state),O,v.lookAhead):new Zr(p,ln(p.mode,v),O)},Zr.prototype.save=function(p){var v=p!==!1?ln(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new An(v,this.maxLookAhead):v};function Li(p,v,O,E){var P=[p.state.modeGen],H={};Io(p,v.text,p.doc.mode,O,function(pe,Ve){return P.push(pe,Ve)},H,E);for(var K=O.state,re=function(pe){O.baseTokens=P;var Ve=p.state.overlays[pe],Xe=1,ct=0;O.state=!0,Io(p,v.text,Ve.mode,O,function(ot,_t){for(var jt=Xe;ct<ot;){var zt=P[Xe];zt>ot&&P.splice(Xe,1,ot,P[Xe+1],zt),Xe+=2,ct=Math.min(ot,zt)}if(_t)if(Ve.opaque)P.splice(jt,Xe-jt,ot,"overlay "+_t),Xe=jt+2;else for(;jt<Xe;jt+=2){var Yt=P[jt+1];P[jt+1]=(Yt?Yt+" ":"")+"overlay "+_t}},H),O.state=K,O.baseTokens=null,O.baseTokenPos=1},le=0;le<p.state.overlays.length;++le)re(le);return{styles:P,classes:H.bgClass||H.textClass?H:null}}function bi(p,v,O){if(!v.styles||v.styles[0]!=p.state.modeGen){var E=oa(p,it(v)),P=v.text.length>p.options.maxHighlightLength&&ln(p.doc.mode,E.state),H=Li(p,v,E);P&&(E.state=P),v.stateAfter=E.save(!P),v.styles=H.styles,H.classes?v.styleClasses=H.classes:v.styleClasses&&(v.styleClasses=null),O===p.doc.highlightFrontier&&(p.doc.modeFrontier=Math.max(p.doc.modeFrontier,++p.doc.highlightFrontier))}return v.styles}function oa(p,v,O){var E=p.doc,P=p.display;if(!E.mode.startState)return new Zr(E,!0,v);var H=aa(p,v,O),K=H>E.first&&$(E,H-1).stateAfter,re=K?Zr.fromSaved(E,K,H):new Zr(E,un(E.mode),H);return E.iter(H,v,function(le){Aa(p,le.text,re);var pe=re.line;le.stateAfter=pe==v-1||pe%5==0||pe>=P.viewFrom&&pe<P.viewTo?re.save():null,re.nextLine()}),O&&(E.modeFrontier=re.line),re}function Aa(p,v,O,E){var P=p.doc.mode,H=new wr(v,p.options.tabSize,O);for(H.start=H.pos=E||0,v==""&&rs(P,O.state);!H.eol();)Es(P,H,O.state),H.start=H.pos}function rs(p,v){if(p.blankLine)return p.blankLine(v);if(p.innerMode){var O=qr(p,v);if(O.mode.blankLine)return O.mode.blankLine(O.state)}}function Es(p,v,O,E){for(var P=0;P<10;P++){E&&(E[0]=qr(p,O).mode);var H=p.token(v,O);if(v.pos>v.start)return H}throw new Error("Mode "+p.name+" failed to advance stream.")}var Os=function(p,v,O){this.start=p.start,this.end=p.pos,this.string=p.current(),this.type=v||null,this.state=O};function ns(p,v,O,E){var P=p.doc,H=P.mode,K;v=It(P,v);var re=$(P,v.line),le=oa(p,v.line,O),pe=new wr(re.text,p.options.tabSize,le),Ve;for(E&&(Ve=[]);(E||pe.pos<v.ch)&&!pe.eol();)pe.start=pe.pos,K=Es(H,pe,le.state),E&&Ve.push(new Os(pe,K,ln(P.mode,le.state)));return E?Ve:new Os(pe,K,le.state)}function is(p,v){if(p)for(;;){var O=p.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!O)break;p=p.slice(0,O.index)+p.slice(O.index+O[0].length);var E=O[1]?"bgClass":"textClass";v[E]==null?v[E]=O[2]:new RegExp("(?:^|\\s)"+O[2]+"(?:$|\\s)").test(v[E])||(v[E]+=" "+O[2])}return p}function Io(p,v,O,E,P,H,K){var re=O.flattenSpans;re==null&&(re=p.options.flattenSpans);var le=0,pe=null,Ve=new wr(v,p.options.tabSize,E),Xe,ct=p.options.addModeClass&&[null];for(v==""&&is(rs(O,E.state),H);!Ve.eol();){if(Ve.pos>p.options.maxHighlightLength?(re=!1,K&&Aa(p,v,E,Ve.pos),Ve.pos=v.length,Xe=null):Xe=is(Es(O,Ve,E.state,ct),H),ct){var ot=ct[0].name;ot&&(Xe="m-"+(Xe?ot+" "+Xe:ot))}if(!re||pe!=Xe){for(;le<Ve.start;)le=Math.min(Ve.start,le+5e3),P(le,pe);pe=Xe}Ve.start=Ve.pos}for(;le<Ve.pos;){var _t=Math.min(Ve.pos,le+5e3);P(_t,pe),le=_t}}function aa(p,v,O){for(var E,P,H=p.doc,K=O?-1:v-(p.doc.mode.innerMode?1e3:100),re=v;re>K;--re){if(re<=H.first)return H.first;var le=$(H,re-1),pe=le.stateAfter;if(pe&&(!O||re+(pe instanceof An?pe.lookAhead:0)<=H.modeFrontier))return re;var Ve=Z(le.text,null,p.options.tabSize);(P==null||E>Ve)&&(P=re-1,E=Ve)}return P}function As(p,v){if(p.modeFrontier=Math.min(p.modeFrontier,v),!(p.highlightFrontier<v-10)){for(var O=p.first,E=v-1;E>O;E--){var P=$(p,E).stateAfter;if(P&&(!(P instanceof An)||E+P.lookAhead<v)){O=E+1;break}}p.highlightFrontier=Math.min(p.highlightFrontier,O)}}var ti=!1,Nn=!1;function Na(){ti=!0}function Vi(){Nn=!0}function Ro(p,v,O){this.marker=p,this.from=v,this.to=O}function yn(p,v){if(p)for(var O=0;O<p.length;++O){var E=p[O];if(E.marker==v)return E}}function hi(p,v){for(var O,E=0;E<p.length;++E)p[E]!=v&&(O||(O=[])).push(p[E]);return O}function cl(p,v,O){var E=O&&window.WeakSet&&(O.markedSpans||(O.markedSpans=new WeakSet));E&&E.has(p.markedSpans)?p.markedSpans.push(v):(p.markedSpans=p.markedSpans?p.markedSpans.concat([v]):[v],E&&E.add(p.markedSpans)),v.marker.attachLine(p)}function Sr(p,v,O){var E;if(p)for(var P=0;P<p.length;++P){var H=p[P],K=H.marker,re=H.from==null||(K.inclusiveLeft?H.from<=v:H.from<v);if(re||H.from==v&&K.type=="bookmark"&&(!O||!H.marker.insertLeft)){var le=H.to==null||(K.inclusiveRight?H.to>=v:H.to>v);(E||(E=[])).push(new Ro(K,H.from,le?null:H.to))}}return E}function So(p,v,O){var E;if(p)for(var P=0;P<p.length;++P){var H=p[P],K=H.marker,re=H.to==null||(K.inclusiveRight?H.to>=v:H.to>v);if(re||H.from==v&&K.type=="bookmark"&&(!O||H.marker.insertLeft)){var le=H.from==null||(K.inclusiveLeft?H.from<=v:H.from<v);(E||(E=[])).push(new Ro(K,le?null:H.from-v,H.to==null?null:H.to-v))}}return E}function os(p,v){if(v.full)return null;var O=fn(p,v.from.line)&&$(p,v.from.line).markedSpans,E=fn(p,v.to.line)&&$(p,v.to.line).markedSpans;if(!O&&!E)return null;var P=v.from.ch,H=v.to.ch,K=ie(v.from,v.to)==0,re=Sr(O,P,K),le=So(E,H,K),pe=v.text.length==1,Ve=$e(v.text).length+(pe?P:0);if(re)for(var Xe=0;Xe<re.length;++Xe){var ct=re[Xe];if(ct.to==null){var ot=yn(le,ct.marker);ot?pe&&(ct.to=ot.to==null?null:ot.to+Ve):ct.to=P}}if(le)for(var _t=0;_t<le.length;++_t){var jt=le[_t];if(jt.to!=null&&(jt.to+=Ve),jt.from==null){var zt=yn(re,jt.marker);zt||(jt.from=Ve,pe&&(re||(re=[])).push(jt))}else jt.from+=Ve,pe&&(re||(re=[])).push(jt)}re&&(re=pi(re)),le&&le!=re&&(le=pi(le));var Yt=[re];if(!pe){var rr=v.text.length-2,Xt;if(rr>0&&re)for(var ir=0;ir<re.length;++ir)re[ir].to==null&&(Xt||(Xt=[])).push(new Ro(re[ir].marker,null,null));for(var Cr=0;Cr<rr;++Cr)Yt.push(Xt);Yt.push(le)}return Yt}function pi(p){for(var v=0;v<p.length;++v){var O=p[v];O.from!=null&&O.from==O.to&&O.marker.clearWhenEmpty!==!1&&p.splice(v--,1)}return p.length?p:null}function ho(p,v,O){var E=null;if(p.iter(v.line,O.line+1,function(ot){if(ot.markedSpans)for(var _t=0;_t<ot.markedSpans.length;++_t){var jt=ot.markedSpans[_t].marker;jt.readOnly&&(!E||ae(E,jt)==-1)&&(E||(E=[])).push(jt)}}),!E)return null;for(var P=[{from:v,to:O}],H=0;H<E.length;++H)for(var K=E[H],re=K.find(0),le=0;le<P.length;++le){var pe=P[le];if(!(ie(pe.to,re.from)<0||ie(pe.from,re.to)>0)){var Ve=[le,1],Xe=ie(pe.from,re.from),ct=ie(pe.to,re.to);(Xe<0||!K.inclusiveLeft&&!Xe)&&Ve.push({from:pe.from,to:re.from}),(ct>0||!K.inclusiveRight&&!ct)&&Ve.push({from:re.to,to:pe.to}),P.splice.apply(P,Ve),le+=Ve.length-3}}return P}function Ns(p){var v=p.markedSpans;if(v){for(var O=0;O<v.length;++O)v[O].marker.detachLine(p);p.markedSpans=null}}function sa(p,v){if(v){for(var O=0;O<v.length;++O)v[O].marker.attachLine(p);p.markedSpans=v}}function la(p){return p.inclusiveLeft?-1:0}function Fo(p){return p.inclusiveRight?1:0}function as(p,v){var O=p.lines.length-v.lines.length;if(O!=0)return O;var E=p.find(),P=v.find(),H=ie(E.from,P.from)||la(p)-la(v);if(H)return-H;var K=ie(E.to,P.to)||Fo(p)-Fo(v);return K||v.id-p.id}function ca(p,v){var O=Nn&&p.markedSpans,E;if(O)for(var P=void 0,H=0;H<O.length;++H)P=O[H],P.marker.collapsed&&(v?P.from:P.to)==null&&(!E||as(E,P.marker)<0)&&(E=P.marker);return E}function cr(p){return ca(p,!0)}function sr(p){return ca(p,!1)}function Gr(p,v){var O=Nn&&p.markedSpans,E;if(O)for(var P=0;P<O.length;++P){var H=O[P];H.marker.collapsed&&(H.from==null||H.from<v)&&(H.to==null||H.to>v)&&(!E||as(E,H.marker)<0)&&(E=H.marker)}return E}function _r(p,v,O,E,P){var H=$(p,v),K=Nn&&H.markedSpans;if(K)for(var re=0;re<K.length;++re){var le=K[re];if(le.marker.collapsed){var pe=le.marker.find(0),Ve=ie(pe.from,O)||la(le.marker)-la(P),Xe=ie(pe.to,E)||Fo(le.marker)-Fo(P);if(!(Ve>=0&&Xe<=0||Ve<=0&&Xe>=0)&&(Ve<=0&&(le.marker.inclusiveRight&&P.inclusiveLeft?ie(pe.to,O)>=0:ie(pe.to,O)>0)||Ve>=0&&(le.marker.inclusiveRight&&P.inclusiveLeft?ie(pe.from,E)<=0:ie(pe.from,E)<0)))return!0}}}function bn(p){for(var v;v=cr(p);)p=v.find(-1,!0).line;return p}function $n(p){for(var v;v=sr(p);)p=v.find(1,!0).line;return p}function xi(p){for(var v,O;v=sr(p);)p=v.find(1,!0).line,(O||(O=[])).push(p);return O}function To(p,v){var O=$(p,v),E=bn(O);return O==E?v:it(E)}function zi(p,v){if(v>p.lastLine())return v;var O=$(p,v),E;if(!Wi(p,O))return v;for(;E=sr(O);)O=E.find(1,!0).line;return it(O)+1}function Wi(p,v){var O=Nn&&v.markedSpans;if(O){for(var E=void 0,P=0;P<O.length;++P)if(E=O[P],!!E.marker.collapsed){if(E.from==null)return!0;if(!E.marker.widgetNode&&E.from==0&&E.marker.inclusiveLeft&&Xi(p,v,E))return!0}}}function Xi(p,v,O){if(O.to==null){var E=O.marker.find(1,!0);return Xi(p,E.line,yn(E.line.markedSpans,O.marker))}if(O.marker.inclusiveRight&&O.to==v.text.length)return!0;for(var P=void 0,H=0;H<v.markedSpans.length;++H)if(P=v.markedSpans[H],P.marker.collapsed&&!P.marker.widgetNode&&P.from==O.to&&(P.to==null||P.to!=O.from)&&(P.marker.inclusiveLeft||O.marker.inclusiveRight)&&Xi(p,v,P))return!0}function wi(p){p=bn(p);for(var v=0,O=p.parent,E=0;E<O.lines.length;++E){var P=O.lines[E];if(P==p)break;v+=P.height}for(var H=O.parent;H;O=H,H=O.parent)for(var K=0;K<H.children.length;++K){var re=H.children[K];if(re==O)break;v+=re.height}return v}function Zi(p){if(p.height==0)return 0;for(var v=p.text.length,O,E=p;O=cr(E);){var P=O.find(0,!0);E=P.from.line,v+=P.from.ch-P.to.ch}for(E=p;O=sr(E);){var H=O.find(0,!0);v-=E.text.length-H.from.ch,E=H.to.line,v+=E.text.length-H.to.ch}return v}function Ps(p){var v=p.display,O=p.doc;v.maxLine=$(O,O.first),v.maxLineLength=Zi(v.maxLine),v.maxLineChanged=!0,O.iter(function(E){var P=Zi(E);P>v.maxLineLength&&(v.maxLineLength=P,v.maxLine=E)})}var Rn=function(p,v,O){this.text=p,sa(this,v),this.height=O?O(this):1};Rn.prototype.lineNo=function(){return it(this)},nr(Rn);function Bo(p,v,O,E){p.text=v,p.stateAfter&&(p.stateAfter=null),p.styles&&(p.styles=null),p.order!=null&&(p.order=null),Ns(p),sa(p,O);var P=E?E(p):1;P!=p.height&&Fe(p,P)}function js(p){p.parent=null,Ns(p)}var ks={},Oc={};function Ms(p,v){if(!p||/^\s*$/.test(p))return null;var O=v.addModeClass?Oc:ks;return O[p]||(O[p]=p.replace(/\S+/g,"cm-$&"))}function Gl(p,v){var O=D("span",null,null,c?"padding-right: .1px":null),E={pre:D("pre",[O],"CodeMirror-line"),content:O,col:0,pos:0,cm:p,trailingSpace:!1,splitSpaces:p.getOption("lineWrapping")};v.measure={};for(var P=0;P<=(v.rest?v.rest.length:0);P++){var H=P?v.rest[P-1]:v.line,K=void 0;E.pos=0,E.addToken=Yl,dr(p.display.measure)&&(K=ee(H,p.doc.direction))&&(E.addToken=fl(E.addToken,K)),E.map=[];var re=v!=p.display.externalMeasured&&it(H);Xl(H,E,bi(p,H,re)),H.styleClasses&&(H.styleClasses.bgClass&&(E.bgClass=Y(H.styleClasses.bgClass,E.bgClass||"")),H.styleClasses.textClass&&(E.textClass=Y(H.styleClasses.textClass,E.textClass||""))),E.map.length==0&&E.map.push(0,0,E.content.appendChild(Zt(p.display.measure))),P==0?(v.measure.map=E.map,v.measure.cache={}):((v.measure.maps||(v.measure.maps=[])).push(E.map),(v.measure.caches||(v.measure.caches=[])).push({}))}if(c){var le=E.content.lastChild;(/\bcm-tab\b/.test(le.className)||le.querySelector&&le.querySelector(".cm-tab"))&&(E.content.className="cm-tab-wrap-hack")}return Ct(p,"renderLine",p,v.line,E.pre),E.pre.className&&(E.textClass=Y(E.pre.className,E.textClass||"")),E}function Kl(p){var v=I("span","•","cm-invalidchar");return v.title="\\u"+p.charCodeAt(0).toString(16),v.setAttribute("aria-label",v.title),v}function Yl(p,v,O,E,P,H,K){if(v){var re=p.splitSpaces?ul(v,p.trailingSpace):v,le=p.cm.state.specialChars,pe=!1,Ve;if(!le.test(v))p.col+=v.length,Ve=document.createTextNode(re),p.map.push(p.pos,p.pos+v.length,Ve),s&&l<9&&(pe=!0),p.pos+=v.length;else{Ve=document.createDocumentFragment();for(var Xe=0;;){le.lastIndex=Xe;var ct=le.exec(v),ot=ct?ct.index-Xe:v.length-Xe;if(ot){var _t=document.createTextNode(re.slice(Xe,Xe+ot));s&&l<9?Ve.appendChild(I("span",[_t])):Ve.appendChild(_t),p.map.push(p.pos,p.pos+ot,_t),p.col+=ot,p.pos+=ot}if(!ct)break;Xe+=ot+1;var jt=void 0;if(ct[0]=="	"){var zt=p.cm.options.tabSize,Yt=zt-p.col%zt;jt=Ve.appendChild(I("span",ce(Yt),"cm-tab")),jt.setAttribute("role","presentation"),jt.setAttribute("cm-text","	"),p.col+=Yt}else ct[0]=="\r"||ct[0]==`
`?(jt=Ve.appendChild(I("span",ct[0]=="\r"?"␍":"␤","cm-invalidchar")),jt.setAttribute("cm-text",ct[0]),p.col+=1):(jt=p.cm.options.specialCharPlaceholder(ct[0]),jt.setAttribute("cm-text",ct[0]),s&&l<9?Ve.appendChild(I("span",[jt])):Ve.appendChild(jt),p.col+=1);p.map.push(p.pos,p.pos+1,jt),p.pos++}}if(p.trailingSpace=re.charCodeAt(v.length-1)==32,O||E||P||pe||H||K){var rr=O||"";E&&(rr+=E),P&&(rr+=P);var Xt=I("span",[Ve],rr,H);if(K)for(var ir in K)K.hasOwnProperty(ir)&&ir!="style"&&ir!="class"&&Xt.setAttribute(ir,K[ir]);return p.content.appendChild(Xt)}p.content.appendChild(Ve)}}function ul(p,v){if(p.length>1&&!/  /.test(p))return p;for(var O=v,E="",P=0;P<p.length;P++){var H=p.charAt(P);H==" "&&O&&(P==p.length-1||p.charCodeAt(P+1)==32)&&(H=" "),E+=H,O=H==" "}return E}function fl(p,v){return function(O,E,P,H,K,re,le){P=P?P+" cm-force-border":"cm-force-border";for(var pe=O.pos,Ve=pe+E.length;;){for(var Xe=void 0,ct=0;ct<v.length&&(Xe=v[ct],!(Xe.to>pe&&Xe.from<=pe));ct++);if(Xe.to>=Ve)return p(O,E,P,H,K,re,le);p(O,E.slice(0,Xe.to-pe),P,H,null,re,le),H=null,E=E.slice(Xe.to-pe),pe=Xe.to}}}function dl(p,v,O,E){var P=!E&&O.widgetNode;P&&p.map.push(p.pos,p.pos+v,P),!E&&p.cm.display.input.needsContentAttribute&&(P||(P=p.content.appendChild(document.createElement("span"))),P.setAttribute("cm-marker",O.id)),P&&(p.cm.display.input.setUneditable(P),p.content.appendChild(P)),p.pos+=v,p.trailingSpace=!1}function Xl(p,v,O){var E=p.markedSpans,P=p.text,H=0;if(!E){for(var K=1;K<O.length;K+=2)v.addToken(v,P.slice(H,H=O[K]),Ms(O[K+1],v.cm.options));return}for(var re=P.length,le=0,pe=1,Ve="",Xe,ct,ot=0,_t,jt,zt,Yt,rr;;){if(ot==le){_t=jt=zt=ct="",rr=null,Yt=null,ot=1/0;for(var Xt=[],ir=void 0,Cr=0;Cr<E.length;++Cr){var yr=E[Cr],rn=yr.marker;if(rn.type=="bookmark"&&yr.from==le&&rn.widgetNode)Xt.push(rn);else if(yr.from<=le&&(yr.to==null||yr.to>le||rn.collapsed&&yr.to==le&&yr.from==le)){if(yr.to!=null&&yr.to!=le&&ot>yr.to&&(ot=yr.to,jt=""),rn.className&&(_t+=" "+rn.className),rn.css&&(ct=(ct?ct+";":"")+rn.css),rn.startStyle&&yr.from==le&&(zt+=" "+rn.startStyle),rn.endStyle&&yr.to==ot&&(ir||(ir=[])).push(rn.endStyle,yr.to),rn.title&&((rr||(rr={})).title=rn.title),rn.attributes)for(var Bn in rn.attributes)(rr||(rr={}))[Bn]=rn.attributes[Bn];rn.collapsed&&(!Yt||as(Yt.marker,rn)<0)&&(Yt=yr)}else yr.from>le&&ot>yr.from&&(ot=yr.from)}if(ir)for(var to=0;to<ir.length;to+=2)ir[to+1]==ot&&(jt+=" "+ir[to]);if(!Yt||Yt.from==le)for(var mi=0;mi<Xt.length;++mi)dl(v,0,Xt[mi]);if(Yt&&(Yt.from||0)==le){if(dl(v,(Yt.to==null?re+1:Yt.to)-le,Yt.marker,Yt.from==null),Yt.to==null)return;Yt.to==le&&(Yt=!1)}}if(le>=re)break;for(var Ba=Math.min(re,ot);;){if(Ve){var da=le+Ve.length;if(!Yt){var Fi=da>Ba?Ve.slice(0,Ba-le):Ve;v.addToken(v,Fi,Xe?Xe+_t:_t,zt,le+Fi.length==ot?jt:"",ct,rr)}if(da>=Ba){Ve=Ve.slice(Ba-le),le=Ba;break}le=da,zt=""}Ve=P.slice(H,H=O[pe++]),Xe=Ms(O[pe++],v.cm.options)}}}function Zl(p,v,O){this.line=v,this.rest=xi(v),this.size=this.rest?it($e(this.rest))-O+1:1,this.node=this.text=null,this.hidden=Wi(p,v)}function Jl(p,v,O){for(var E=[],P,H=v;H<O;H=P){var K=new Zl(p.doc,$(p.doc,H),H);P=H+K.size,E.push(K)}return E}var Ho=null;function Ls(p){Ho?Ho.ops.push(p):p.ownsGroup=Ho={ops:[p],delayedCallbacks:[]}}function Ac(p){var v=p.delayedCallbacks,O=0;do{for(;O<v.length;O++)v[O].call(null);for(var E=0;E<p.ops.length;E++){var P=p.ops[E];if(P.cursorActivityHandlers)for(;P.cursorActivityCalled<P.cursorActivityHandlers.length;)P.cursorActivityHandlers[P.cursorActivityCalled++].call(null,P.cm)}}while(O<v.length)}function Pa(p,v){var O=p.ownsGroup;if(O)try{Ac(O)}finally{Ho=null,v(O)}}var ja=null;function U(p,v){var O=gt(p,v);if(O.length){var E=Array.prototype.slice.call(arguments,2),P;Ho?P=Ho.delayedCallbacks:ja?P=ja:(P=ja=[],setTimeout(be,0));for(var H=function(re){P.push(function(){return O[re].apply(null,E)})},K=0;K<O.length;++K)H(K)}}function be(){var p=ja;ja=null;for(var v=0;v<p.length;++v)p[v]()}function qe(p,v,O,E){for(var P=0;P<v.changes.length;P++){var H=v.changes[P];H=="text"?$t(p,v):H=="gutter"?hr(p,v,O,E):H=="class"?tr(p,v):H=="widget"&&zr(p,v,E)}v.changes=null}function Qe(p){return p.node==p.text&&(p.node=I("div",null,null,"position: relative"),p.text.parentNode&&p.text.parentNode.replaceChild(p.node,p.text),p.node.appendChild(p.text),s&&l<8&&(p.node.style.zIndex=2)),p.node}function pt(p,v){var O=v.bgClass?v.bgClass+" "+(v.line.bgClass||""):v.line.bgClass;if(O&&(O+=" CodeMirror-linebackground"),v.background)O?v.background.className=O:(v.background.parentNode.removeChild(v.background),v.background=null);else if(O){var E=Qe(v);v.background=E.insertBefore(I("div",null,O),E.firstChild),p.display.input.setUneditable(v.background)}}function Tt(p,v){var O=p.display.externalMeasured;return O&&O.line==v.line?(p.display.externalMeasured=null,v.measure=O.measure,O.built):Gl(p,v)}function $t(p,v){var O=v.text.className,E=Tt(p,v);v.text==v.node&&(v.node=E.pre),v.text.parentNode.replaceChild(E.pre,v.text),v.text=E.pre,E.bgClass!=v.bgClass||E.textClass!=v.textClass?(v.bgClass=E.bgClass,v.textClass=E.textClass,tr(p,v)):O&&(v.text.className=O)}function tr(p,v){pt(p,v),v.line.wrapClass?Qe(v).className=v.line.wrapClass:v.node!=v.text&&(v.node.className="");var O=v.textClass?v.textClass+" "+(v.line.textClass||""):v.line.textClass;v.text.className=O||""}function hr(p,v,O,E){if(v.gutter&&(v.node.removeChild(v.gutter),v.gutter=null),v.gutterBackground&&(v.node.removeChild(v.gutterBackground),v.gutterBackground=null),v.line.gutterClass){var P=Qe(v);v.gutterBackground=I("div",null,"CodeMirror-gutter-background "+v.line.gutterClass,"left: "+(p.options.fixedGutter?E.fixedPos:-E.gutterTotalWidth)+"px; width: "+E.gutterTotalWidth+"px"),p.display.input.setUneditable(v.gutterBackground),P.insertBefore(v.gutterBackground,v.text)}var H=v.line.gutterMarkers;if(p.options.lineNumbers||H){var K=Qe(v),re=v.gutter=I("div",null,"CodeMirror-gutter-wrapper","left: "+(p.options.fixedGutter?E.fixedPos:-E.gutterTotalWidth)+"px");if(re.setAttribute("aria-hidden","true"),p.display.input.setUneditable(re),K.insertBefore(re,v.text),v.line.gutterClass&&(re.className+=" "+v.line.gutterClass),p.options.lineNumbers&&(!H||!H["CodeMirror-linenumbers"])&&(v.lineNumber=re.appendChild(I("div",br(p.options,O),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+E.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+p.display.lineNumInnerWidth+"px"))),H)for(var le=0;le<p.display.gutterSpecs.length;++le){var pe=p.display.gutterSpecs[le].className,Ve=H.hasOwnProperty(pe)&&H[pe];Ve&&re.appendChild(I("div",[Ve],"CodeMirror-gutter-elt","left: "+E.gutterLeft[pe]+"px; width: "+E.gutterWidth[pe]+"px"))}}}function zr(p,v,O){v.alignable&&(v.alignable=null);for(var E=j("CodeMirror-linewidget"),P=v.node.firstChild,H=void 0;P;P=H)H=P.nextSibling,E.test(P.className)&&v.node.removeChild(P);Qr(p,v,O)}function Hr(p,v,O,E){var P=Tt(p,v);return v.text=v.node=P.pre,P.bgClass&&(v.bgClass=P.bgClass),P.textClass&&(v.textClass=P.textClass),tr(p,v),hr(p,v,O,E),Qr(p,v,E),v.node}function Qr(p,v,O){if(jn(p,v.line,v,O,!0),v.rest)for(var E=0;E<v.rest.length;E++)jn(p,v.rest[E],v,O,!1)}function jn(p,v,O,E,P){if(v.widgets)for(var H=Qe(O),K=0,re=v.widgets;K<re.length;++K){var le=re[K],pe=I("div",[le.node],"CodeMirror-linewidget"+(le.className?" "+le.className:""));le.handleMouseEvents||pe.setAttribute("cm-ignore-events","true"),Un(le,pe,O,E),p.display.input.setUneditable(pe),P&&le.above?H.insertBefore(pe,O.gutter||O.text):H.appendChild(pe),U(le,"redraw")}}function Un(p,v,O,E){if(p.noHScroll){(O.alignable||(O.alignable=[])).push(v);var P=E.wrapperWidth;v.style.left=E.fixedPos+"px",p.coverGutter||(P-=E.gutterTotalWidth,v.style.paddingLeft=E.gutterTotalWidth+"px"),v.style.width=P+"px"}p.coverGutter&&(v.style.zIndex=5,v.style.position="relative",p.noHScroll||(v.style.marginLeft=-E.gutterTotalWidth+"px"))}function kn(p){if(p.height!=null)return p.height;var v=p.doc.cm;if(!v)return 0;if(!F(document.body,p.node)){var O="position: relative;";p.coverGutter&&(O+="margin-left: -"+v.display.gutters.offsetWidth+"px;"),p.noHScroll&&(O+="width: "+v.display.wrapper.clientWidth+"px;"),M(v.display.measure,I("div",[p.node],null,O))}return p.height=p.node.parentNode.offsetHeight}function Mn(p,v){for(var O=We(v);O!=p.wrapper;O=O.parentNode)if(!O||O.nodeType==1&&O.getAttribute("cm-ignore-events")=="true"||O.parentNode==p.sizer&&O!=p.mover)return!0}function Vn(p){return p.lineSpace.offsetTop}function Ji(p){return p.mover.offsetHeight-p.lineSpace.offsetHeight}function po(p){if(p.cachedPaddingH)return p.cachedPaddingH;var v=M(p.measure,I("pre","x","CodeMirror-line-like")),O=window.getComputedStyle?window.getComputedStyle(v):v.currentStyle,E={left:parseInt(O.paddingLeft),right:parseInt(O.paddingRight)};return!isNaN(E.left)&&!isNaN(E.right)&&(p.cachedPaddingH=E),E}function ri(p){return ve-p.display.nativeBarWidth}function ka(p){return p.display.scroller.clientWidth-ri(p)-p.display.barWidth}function ue(p){return p.display.scroller.clientHeight-ri(p)-p.display.barHeight}function Ae(p,v,O){var E=p.options.lineWrapping,P=E&&ka(p);if(!v.measure.heights||E&&v.measure.width!=P){var H=v.measure.heights=[];if(E){v.measure.width=P;for(var K=v.text.firstChild.getClientRects(),re=0;re<K.length-1;re++){var le=K[re],pe=K[re+1];Math.abs(le.bottom-pe.bottom)>2&&H.push((le.bottom+pe.top)/2-O.top)}}H.push(O.bottom-O.top)}}function Ge(p,v,O){if(p.line==v)return{map:p.measure.map,cache:p.measure.cache};for(var E=0;E<p.rest.length;E++)if(p.rest[E]==v)return{map:p.measure.maps[E],cache:p.measure.caches[E]};for(var P=0;P<p.rest.length;P++)if(it(p.rest[P])>O)return{map:p.measure.maps[P],cache:p.measure.caches[P],before:!0}}function Je(p,v){v=bn(v);var O=it(v),E=p.display.externalMeasured=new Zl(p.doc,v,O);E.lineN=O;var P=E.built=Gl(p,E);return E.text=P.pre,M(p.display.lineMeasure,P.pre),E}function lt(p,v,O,E){return Vt(p,xt(p,v),O,E)}function at(p,v){if(v>=p.display.viewFrom&&v<p.display.viewTo)return p.display.view[ua(p,v)];var O=p.display.externalMeasured;if(O&&v>=O.lineN&&v<O.lineN+O.size)return O}function xt(p,v){var O=it(v),E=at(p,O);E&&!E.text?E=null:E&&E.changes&&(qe(p,E,O,gl(p)),p.curOp.forceUpdate=!0),E||(E=Je(p,v));var P=Ge(E,v,O);return{line:v,view:E,rect:null,map:P.map,cache:P.cache,before:P.before,hasHeights:!1}}function Vt(p,v,O,E,P){v.before&&(O=-1);var H=O+(E||""),K;return v.cache.hasOwnProperty(H)?K=v.cache[H]:(v.rect||(v.rect=v.view.text.getBoundingClientRect()),v.hasHeights||(Ae(p,v.view,v.rect),v.hasHeights=!0),K=_n(p,v,O,E),K.bogus||(v.cache[H]=K)),{left:K.left,right:K.right,top:P?K.rtop:K.top,bottom:P?K.rbottom:K.bottom}}var Mr={left:0,right:0,top:0,bottom:0};function Ar(p,v,O){for(var E,P,H,K,re,le,pe=0;pe<p.length;pe+=3)if(re=p[pe],le=p[pe+1],v<re?(P=0,H=1,K="left"):v<le?(P=v-re,H=P+1):(pe==p.length-3||v==le&&p[pe+3]>v)&&(H=le-re,P=H-1,v>=le&&(K="right")),P!=null){if(E=p[pe+2],re==le&&O==(E.insertLeft?"left":"right")&&(K=O),O=="left"&&P==0)for(;pe&&p[pe-2]==p[pe-3]&&p[pe-1].insertLeft;)E=p[(pe-=3)+2],K="left";if(O=="right"&&P==le-re)for(;pe<p.length-3&&p[pe+3]==p[pe+4]&&!p[pe+5].insertLeft;)E=p[(pe+=3)+2],K="right";break}return{node:E,start:P,end:H,collapse:K,coverStart:re,coverEnd:le}}function Yn(p,v){var O=Mr;if(v=="left")for(var E=0;E<p.length&&(O=p[E]).left==O.right;E++);else for(var P=p.length-1;P>=0&&(O=p[P]).left==O.right;P--);return O}function _n(p,v,O,E){var P=Ar(v.map,O,E),H=P.node,K=P.start,re=P.end,le=P.collapse,pe;if(H.nodeType==3){for(var Ve=0;Ve<4;Ve++){for(;K&&Ze(v.line.text.charAt(P.coverStart+K));)--K;for(;P.coverStart+re<P.coverEnd&&Ze(v.line.text.charAt(P.coverStart+re));)++re;if(s&&l<9&&K==0&&re==P.coverEnd-P.coverStart?pe=H.parentNode.getBoundingClientRect():pe=Yn(V(H,K,re).getClientRects(),E),pe.left||pe.right||K==0)break;re=K,K=K-1,le="right"}s&&l<11&&(pe=yu(p.display.measure,pe))}else{K>0&&(le=E="right");var Xe;p.options.lineWrapping&&(Xe=H.getClientRects()).length>1?pe=Xe[E=="right"?Xe.length-1:0]:pe=H.getBoundingClientRect()}if(s&&l<9&&!K&&(!pe||!pe.left&&!pe.right)){var ct=H.parentNode.getClientRects()[0];ct?pe={left:ct.left,right:ct.left+Is(p.display),top:ct.top,bottom:ct.bottom}:pe=Mr}for(var ot=pe.top-v.rect.top,_t=pe.bottom-v.rect.top,jt=(ot+_t)/2,zt=v.view.measure.heights,Yt=0;Yt<zt.length-1&&!(jt<zt[Yt]);Yt++);var rr=Yt?zt[Yt-1]:0,Xt=zt[Yt],ir={left:(le=="right"?pe.right:pe.left)-v.rect.left,right:(le=="left"?pe.left:pe.right)-v.rect.left,top:rr,bottom:Xt};return!pe.left&&!pe.right&&(ir.bogus=!0),p.options.singleCursorHeightPerLine||(ir.rtop=ot,ir.rbottom=_t),ir}function yu(p,v){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!Kr(p))return v;var O=screen.logicalXDPI/screen.deviceXDPI,E=screen.logicalYDPI/screen.deviceYDPI;return{left:v.left*O,right:v.right*O,top:v.top*E,bottom:v.bottom*E}}function hl(p){if(p.measure&&(p.measure.cache={},p.measure.heights=null,p.rest))for(var v=0;v<p.rest.length;v++)p.measure.caches[v]={}}function cf(p){p.display.externalMeasure=null,L(p.display.lineMeasure);for(var v=0;v<p.display.view.length;v++)hl(p.display.view[v])}function vo(p){cf(p),p.display.cachedCharWidth=p.display.cachedTextHeight=p.display.cachedPaddingH=null,p.options.lineWrapping||(p.display.maxLineChanged=!0),p.display.lineNumChars=null}function Nc(){return f&&b?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function uf(){return f&&b?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function bu(p){var v=0;if(p.widgets)for(var O=0;O<p.widgets.length;++O)p.widgets[O].above&&(v+=kn(p.widgets[O]));return v}function ss(p,v,O,E,P){if(!P){var H=bu(v);O.top+=H,O.bottom+=H}if(E=="line")return O;E||(E="local");var K=wi(v);if(E=="local"?K+=Vn(p.display):K-=p.display.viewOffset,E=="page"||E=="window"){var re=p.display.lineSpace.getBoundingClientRect();K+=re.top+(E=="window"?0:uf());var le=re.left+(E=="window"?0:Nc());O.left+=le,O.right+=le}return O.top+=K,O.bottom+=K,O}function Ql(p,v,O){if(O=="div")return v;var E=v.left,P=v.top;if(O=="page")E-=Nc(),P-=uf();else if(O=="local"||!O){var H=p.display.sizer.getBoundingClientRect();E+=H.left,P+=H.top}var K=p.display.lineSpace.getBoundingClientRect();return{left:E-K.left,top:P-K.top}}function Qi(p,v,O,E,P){return E||(E=$(p.doc,v.line)),ss(p,E,lt(p,E,v.ch,P),O)}function zn(p,v,O,E,P,H){E=E||$(p.doc,v.line),P||(P=xt(p,E));function K(_t,jt){var zt=Vt(p,P,_t,jt?"right":"left",H);return jt?zt.left=zt.right:zt.right=zt.left,ss(p,E,zt,O)}var re=ee(E,p.doc.direction),le=v.ch,pe=v.sticky;if(le>=E.text.length?(le=E.text.length,pe="before"):le<=0&&(le=0,pe="after"),!re)return K(pe=="before"?le-1:le,pe=="before");function Ve(_t,jt,zt){var Yt=re[jt],rr=Yt.level==1;return K(zt?_t-1:_t,rr!=zt)}var Xe=Oe(re,le,pe),ct=kt,ot=Ve(le,Xe,pe=="before");return ct!=null&&(ot.other=Ve(le,ct,pe!="before")),ot}function pl(p,v){var O=0;v=It(p.doc,v),p.options.lineWrapping||(O=Is(p.display)*v.ch);var E=$(p.doc,v.line),P=wi(E)+Vn(p.display);return{left:O,right:O,top:P,bottom:P+E.height}}function ls(p,v,O,E,P){var H=dt(p,v,O);return H.xRel=P,E&&(H.outside=E),H}function cs(p,v,O){var E=p.doc;if(O+=p.display.viewOffset,O<0)return ls(E.first,0,null,-1,-1);var P=qt(E,O),H=E.first+E.size-1;if(P>H)return ls(E.first+E.size-1,$(E,H).text.length,null,1,1);v<0&&(v=0);for(var K=$(E,P);;){var re=ff(p,K,P,v,O),le=Gr(K,re.ch+(re.xRel>0||re.outside>0?1:0));if(!le)return re;var pe=le.find(1);if(pe.line==P)return pe;K=$(E,P=pe.line)}}function Pc(p,v,O,E){E-=bu(v);var P=v.text.length,H=bt(function(K){return Vt(p,O,K-1).bottom<=E},P,0);return P=bt(function(K){return Vt(p,O,K).top>E},H,P),{begin:H,end:P}}function Ds(p,v,O,E){O||(O=xt(p,v));var P=ss(p,v,Vt(p,O,E),"line").top;return Pc(p,v,O,P)}function ni(p,v,O,E){return p.bottom<=O?!1:p.top>O?!0:(E?p.left:p.right)>v}function ff(p,v,O,E,P){P-=wi(v);var H=xt(p,v),K=bu(v),re=0,le=v.text.length,pe=!0,Ve=ee(v,p.doc.direction);if(Ve){var Xe=(p.options.lineWrapping?Ma:Co)(p,v,O,H,Ve,E,P);pe=Xe.level!=1,re=pe?Xe.from:Xe.to-1,le=pe?Xe.to:Xe.from-1}var ct=null,ot=null,_t=bt(function(Cr){var yr=Vt(p,H,Cr);return yr.top+=K,yr.bottom+=K,ni(yr,E,P,!1)?(yr.top<=P&&yr.left<=E&&(ct=Cr,ot=yr),!0):!1},re,le),jt,zt,Yt=!1;if(ot){var rr=E-ot.left<ot.right-E,Xt=rr==pe;_t=ct+(Xt?0:1),zt=Xt?"after":"before",jt=rr?ot.left:ot.right}else{!pe&&(_t==le||_t==re)&&_t++,zt=_t==0?"after":_t==v.text.length?"before":Vt(p,H,_t-(pe?1:0)).bottom+K<=P==pe?"after":"before";var ir=zn(p,dt(O,_t,zt),"line",v,H);jt=ir.left,Yt=P<ir.top?-1:P>=ir.bottom?1:0}return _t=Ye(v.text,_t,1),ls(O,_t,zt,Yt,E-jt)}function Co(p,v,O,E,P,H,K){var re=bt(function(Xe){var ct=P[Xe],ot=ct.level!=1;return ni(zn(p,dt(O,ot?ct.to:ct.from,ot?"before":"after"),"line",v,E),H,K,!0)},0,P.length-1),le=P[re];if(re>0){var pe=le.level!=1,Ve=zn(p,dt(O,pe?le.from:le.to,pe?"after":"before"),"line",v,E);ni(Ve,H,K,!0)&&Ve.top>K&&(le=P[re-1])}return le}function Ma(p,v,O,E,P,H,K){var re=Pc(p,v,E,K),le=re.begin,pe=re.end;/\s/.test(v.text.charAt(pe-1))&&pe--;for(var Ve=null,Xe=null,ct=0;ct<P.length;ct++){var ot=P[ct];if(!(ot.from>=pe||ot.to<=le)){var _t=ot.level!=1,jt=Vt(p,E,_t?Math.min(pe,ot.to)-1:Math.max(le,ot.from)).right,zt=jt<H?H-jt+1e9:jt-H;(!Ve||Xe>zt)&&(Ve=ot,Xe=zt)}}return Ve||(Ve=P[P.length-1]),Ve.from<le&&(Ve={from:le,to:Ve.to,level:Ve.level}),Ve.to>pe&&(Ve={from:Ve.from,to:pe,level:Ve.level}),Ve}var La;function vl(p){if(p.cachedTextHeight!=null)return p.cachedTextHeight;if(La==null){La=I("pre",null,"CodeMirror-line-like");for(var v=0;v<49;++v)La.appendChild(document.createTextNode("x")),La.appendChild(I("br"));La.appendChild(document.createTextNode("x"))}M(p.measure,La);var O=La.offsetHeight/50;return O>3&&(p.cachedTextHeight=O),L(p.measure),O||1}function Is(p){if(p.cachedCharWidth!=null)return p.cachedCharWidth;var v=I("span","xxxxxxxxxx"),O=I("pre",[v],"CodeMirror-line-like");M(p.measure,O);var E=v.getBoundingClientRect(),P=(E.right-E.left)/10;return P>2&&(p.cachedCharWidth=P),P||10}function gl(p){for(var v=p.display,O={},E={},P=v.gutters.clientLeft,H=v.gutters.firstChild,K=0;H;H=H.nextSibling,++K){var re=p.display.gutterSpecs[K].className;O[re]=H.offsetLeft+H.clientLeft+P,E[re]=H.clientWidth}return{fixedPos:ml(v),gutterTotalWidth:v.gutters.offsetWidth,gutterLeft:O,gutterWidth:E,wrapperWidth:v.wrapper.clientWidth}}function ml(p){return p.scroller.getBoundingClientRect().left-p.sizer.getBoundingClientRect().left}function yl(p){var v=vl(p.display),O=p.options.lineWrapping,E=O&&Math.max(5,p.display.scroller.clientWidth/Is(p.display)-3);return function(P){if(Wi(p.doc,P))return 0;var H=0;if(P.widgets)for(var K=0;K<P.widgets.length;K++)P.widgets[K].height&&(H+=P.widgets[K].height);return O?H+(Math.ceil(P.text.length/E)||1)*v:H+v}}function bl(p){var v=p.doc,O=yl(p);v.iter(function(E){var P=O(E);P!=E.height&&Fe(E,P)})}function Da(p,v,O,E){var P=p.display;if(!O&&We(v).getAttribute("cm-not-content")=="true")return null;var H,K,re=P.lineSpace.getBoundingClientRect();try{H=v.clientX-re.left,K=v.clientY-re.top}catch{return null}var le=cs(p,H,K),pe;if(E&&le.xRel>0&&(pe=$(p.doc,le.line).text).length==le.ch){var Ve=Z(pe,pe.length,p.options.tabSize)-pe.length;le=dt(le.line,Math.max(0,Math.round((H-po(p.display).left)/Is(p.display))-Ve))}return le}function ua(p,v){if(v>=p.display.viewTo||(v-=p.display.viewFrom,v<0))return null;for(var O=p.display.view,E=0;E<O.length;E++)if(v-=O[E].size,v<0)return E}function vi(p,v,O,E){v==null&&(v=p.doc.first),O==null&&(O=p.doc.first+p.doc.size),E||(E=0);var P=p.display;if(E&&O<P.viewTo&&(P.updateLineNumbers==null||P.updateLineNumbers>v)&&(P.updateLineNumbers=v),p.curOp.viewChanged=!0,v>=P.viewTo)Nn&&To(p.doc,v)<P.viewTo&&Di(p);else if(O<=P.viewFrom)Nn&&zi(p.doc,O+E)>P.viewFrom?Di(p):(P.viewFrom+=E,P.viewTo+=E);else if(v<=P.viewFrom&&O>=P.viewTo)Di(p);else if(v<=P.viewFrom){var H=Eo(p,O,O+E,1);H?(P.view=P.view.slice(H.index),P.viewFrom=H.lineN,P.viewTo+=E):Di(p)}else if(O>=P.viewTo){var K=Eo(p,v,v,-1);K?(P.view=P.view.slice(0,K.index),P.viewTo=K.lineN):Di(p)}else{var re=Eo(p,v,v,-1),le=Eo(p,O,O+E,1);re&&le?(P.view=P.view.slice(0,re.index).concat(Jl(p,re.lineN,le.lineN)).concat(P.view.slice(le.index)),P.viewTo+=E):Di(p)}var pe=P.externalMeasured;pe&&(O<pe.lineN?pe.lineN+=E:v<pe.lineN+pe.size&&(P.externalMeasured=null))}function Ia(p,v,O){p.curOp.viewChanged=!0;var E=p.display,P=p.display.externalMeasured;if(P&&v>=P.lineN&&v<P.lineN+P.size&&(E.externalMeasured=null),!(v<E.viewFrom||v>=E.viewTo)){var H=E.view[ua(p,v)];if(H.node!=null){var K=H.changes||(H.changes=[]);ae(K,O)==-1&&K.push(O)}}}function Di(p){p.display.viewFrom=p.display.viewTo=p.doc.first,p.display.view=[],p.display.viewOffset=0}function Eo(p,v,O,E){var P=ua(p,v),H,K=p.display.view;if(!Nn||O==p.doc.first+p.doc.size)return{index:P,lineN:O};for(var re=p.display.viewFrom,le=0;le<P;le++)re+=K[le].size;if(re!=v){if(E>0){if(P==K.length-1)return null;H=re+K[P].size-v,P++}else H=re-v;v+=H,O+=H}for(;To(p.doc,O)!=O;){if(P==(E<0?0:K.length-1))return null;O+=E*K[P-(E<0?1:0)].size,P+=E}return{index:P,lineN:O}}function Fn(p,v,O){var E=p.display,P=E.view;P.length==0||v>=E.viewTo||O<=E.viewFrom?(E.view=Jl(p,v,O),E.viewFrom=v):(E.viewFrom>v?E.view=Jl(p,v,E.viewFrom).concat(E.view):E.viewFrom<v&&(E.view=E.view.slice(ua(p,v))),E.viewFrom=v,E.viewTo<O?E.view=E.view.concat(Jl(p,E.viewTo,O)):E.viewTo>O&&(E.view=E.view.slice(0,ua(p,O)))),E.viewTo=O}function Ln(p){for(var v=p.display.view,O=0,E=0;E<v.length;E++){var P=v[E];!P.hidden&&(!P.node||P.changes)&&++O}return O}function Wn(p){p.display.input.showSelection(p.display.input.prepareSelection())}function Ti(p,v){v===void 0&&(v=!0);for(var O=p.doc,E={},P=E.cursors=document.createDocumentFragment(),H=E.selection=document.createDocumentFragment(),K=0;K<O.sel.ranges.length;K++)if(!(!v&&K==O.sel.primIndex)){var re=O.sel.ranges[K];if(!(re.from().line>=p.display.viewTo||re.to().line<p.display.viewFrom)){var le=re.empty();(le||p.options.showCursorWhenSelecting)&&Rs(p,re.head,P),le||xu(p,re,H)}}return E}function Rs(p,v,O){var E=zn(p,v,"div",null,null,!p.options.singleCursorHeightPerLine),P=O.appendChild(I("div"," ","CodeMirror-cursor"));if(P.style.left=E.left+"px",P.style.top=E.top+"px",P.style.height=Math.max(0,E.bottom-E.top)*p.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(p.getWrapperElement().className)){var H=Qi(p,v,"div",null,null);H.right-H.left>0&&(P.style.width=H.right-H.left+"px")}if(E.other){var K=O.appendChild(I("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));K.style.display="",K.style.left=E.other.left+"px",K.style.top=E.other.top+"px",K.style.height=(E.other.bottom-E.other.top)*.85+"px"}}function ec(p,v){return p.top-v.top||p.left-v.left}function xu(p,v,O){var E=p.display,P=p.doc,H=document.createDocumentFragment(),K=po(p.display),re=K.left,le=Math.max(E.sizerWidth,ka(p)-E.sizer.offsetLeft)-K.right,pe=P.direction=="ltr";function Ve(Xt,ir,Cr,yr){ir<0&&(ir=0),ir=Math.round(ir),yr=Math.round(yr),H.appendChild(I("div",null,"CodeMirror-selected","position: absolute; left: "+Xt+`px;
                             top: `+ir+"px; width: "+(Cr??le-Xt)+`px;
                             height: `+(yr-ir)+"px"))}function Xe(Xt,ir,Cr){var yr=$(P,Xt),rn=yr.text.length,Bn,to;function mi(Fi,ha){return Qi(p,dt(Xt,Fi),"div",yr,ha)}function Ba(Fi,ha,mo){var Gi=Ds(p,yr,null,Fi),Bi=ha=="ltr"==(mo=="after")?"left":"right",_i=mo=="after"?Gi.begin:Gi.end-(/\s/.test(yr.text.charAt(Gi.end-1))?2:1);return mi(_i,Bi)[Bi]}var da=ee(yr,P.direction);return Ut(da,ir||0,Cr??rn,function(Fi,ha,mo,Gi){var Bi=mo=="ltr",_i=mi(Fi,Bi?"left":"right"),pa=mi(ha-1,Bi?"right":"left"),nh=ir==null&&Fi==0,ju=Cr==null&&ha==rn,Mo=Gi==0,lc=!da||Gi==da.length-1;if(pa.top-_i.top<=3){var ro=(pe?nh:ju)&&Mo,p2=(pe?ju:nh)&&lc,Vc=ro?re:(Bi?_i:pa).left,kf=p2?le:(Bi?pa:_i).right;Ve(Vc,_i.top,kf-Vc,_i.bottom)}else{var Mf,Wo,ih,v2;Bi?(Mf=pe&&nh&&Mo?re:_i.left,Wo=pe?le:Ba(Fi,mo,"before"),ih=pe?re:Ba(ha,mo,"after"),v2=pe&&ju&&lc?le:pa.right):(Mf=pe?Ba(Fi,mo,"before"):re,Wo=!pe&&nh&&Mo?le:_i.right,ih=!pe&&ju&&lc?re:pa.left,v2=pe?Ba(ha,mo,"after"):le),Ve(Mf,_i.top,Wo-Mf,_i.bottom),_i.bottom<pa.top&&Ve(re,_i.bottom,null,pa.top),Ve(ih,pa.top,v2-ih,pa.bottom)}(!Bn||ec(_i,Bn)<0)&&(Bn=_i),ec(pa,Bn)<0&&(Bn=pa),(!to||ec(_i,to)<0)&&(to=_i),ec(pa,to)<0&&(to=pa)}),{start:Bn,end:to}}var ct=v.from(),ot=v.to();if(ct.line==ot.line)Xe(ct.line,ct.ch,ot.ch);else{var _t=$(P,ct.line),jt=$(P,ot.line),zt=bn(_t)==bn(jt),Yt=Xe(ct.line,ct.ch,zt?_t.text.length+1:null).end,rr=Xe(ot.line,zt?0:null,ot.ch).start;zt&&(Yt.top<rr.top-2?(Ve(Yt.right,Yt.top,null,Yt.bottom),Ve(re,rr.top,rr.left,rr.bottom)):Ve(Yt.right,Yt.top,rr.left-Yt.right,Yt.bottom)),Yt.bottom<rr.top&&Ve(re,Yt.bottom,null,rr.top)}O.appendChild(H)}function wu(p){if(p.state.focused){var v=p.display;clearInterval(v.blinker);var O=!0;v.cursorDiv.style.visibility="",p.options.cursorBlinkRate>0?v.blinker=setInterval(function(){p.hasFocus()||eo(p),v.cursorDiv.style.visibility=(O=!O)?"":"hidden"},p.options.cursorBlinkRate):p.options.cursorBlinkRate<0&&(v.cursorDiv.style.visibility="hidden")}}function Vd(p){p.hasFocus()||(p.display.input.focus(),p.state.focused||Oo(p))}function _u(p){p.state.delayingBlurEvent=!0,setTimeout(function(){p.state.delayingBlurEvent&&(p.state.delayingBlurEvent=!1,p.state.focused&&eo(p))},100)}function Oo(p,v){p.state.delayingBlurEvent&&!p.state.draggingText&&(p.state.delayingBlurEvent=!1),p.options.readOnly!="nocursor"&&(p.state.focused||(Ct(p,"focus",p,v),p.state.focused=!0,W(p.display.wrapper,"CodeMirror-focused"),!p.curOp&&p.display.selForContextMenu!=p.doc.sel&&(p.display.input.reset(),c&&setTimeout(function(){return p.display.input.reset(!0)},20)),p.display.input.receivedFocus()),wu(p))}function eo(p,v){p.state.delayingBlurEvent||(p.state.focused&&(Ct(p,"blur",p,v),p.state.focused=!1,R(p.display.wrapper,"CodeMirror-focused")),clearInterval(p.display.blinker),setTimeout(function(){p.state.focused||(p.display.shift=!1)},150))}function jc(p){for(var v=p.display,O=v.lineDiv.offsetTop,E=Math.max(0,v.scroller.getBoundingClientRect().top),P=v.lineDiv.getBoundingClientRect().top,H=0,K=0;K<v.view.length;K++){var re=v.view[K],le=p.options.lineWrapping,pe=void 0,Ve=0;if(!re.hidden){if(P+=re.line.height,s&&l<8){var Xe=re.node.offsetTop+re.node.offsetHeight;pe=Xe-O,O=Xe}else{var ct=re.node.getBoundingClientRect();pe=ct.bottom-ct.top,!le&&re.text.firstChild&&(Ve=re.text.firstChild.getBoundingClientRect().right-ct.left-1)}var ot=re.line.height-pe;if((ot>.005||ot<-.005)&&(P<E&&(H-=ot),Fe(re.line,pe),df(re.line),re.rest))for(var _t=0;_t<re.rest.length;_t++)df(re.rest[_t]);if(Ve>p.display.sizerWidth){var jt=Math.ceil(Ve/Is(p.display));jt>p.display.maxLineLength&&(p.display.maxLineLength=jt,p.display.maxLine=re.line,p.display.maxLineChanged=!0)}}}Math.abs(H)>2&&(v.scroller.scrollTop+=H)}function df(p){if(p.widgets)for(var v=0;v<p.widgets.length;++v){var O=p.widgets[v],E=O.node.parentNode;E&&(O.height=E.offsetHeight)}}function hf(p,v,O){var E=O&&O.top!=null?Math.max(0,O.top):p.scroller.scrollTop;E=Math.floor(E-Vn(p));var P=O&&O.bottom!=null?O.bottom:E+p.wrapper.clientHeight,H=qt(v,E),K=qt(v,P);if(O&&O.ensure){var re=O.ensure.from.line,le=O.ensure.to.line;re<H?(H=re,K=qt(v,wi($(v,re))+p.wrapper.clientHeight)):Math.min(le,v.lastLine())>=K&&(H=qt(v,wi($(v,le))-p.wrapper.clientHeight),K=le)}return{from:H,to:Math.max(K,H+1)}}function zd(p,v){if(!At(p,"scrollCursorIntoView")){var O=p.display,E=O.sizer.getBoundingClientRect(),P=null;if(v.top+E.top<0?P=!0:v.bottom+E.top>(window.innerHeight||document.documentElement.clientHeight)&&(P=!1),P!=null&&!g){var H=I("div","​",null,`position: absolute;
                         top: `+(v.top-O.viewOffset-Vn(p.display))+`px;
                         height: `+(v.bottom-v.top+ri(p)+O.barHeight)+`px;
                         left: `+v.left+"px; width: "+Math.max(2,v.right-v.left)+"px;");p.display.lineSpace.appendChild(H),H.scrollIntoView(P),p.display.lineSpace.removeChild(H)}}}function Wd(p,v,O,E){E==null&&(E=0);var P;!p.options.lineWrapping&&v==O&&(O=v.sticky=="before"?dt(v.line,v.ch+1,"before"):v,v=v.ch?dt(v.line,v.sticky=="before"?v.ch-1:v.ch,"after"):v);for(var H=0;H<5;H++){var K=!1,re=zn(p,v),le=!O||O==v?re:zn(p,O);P={left:Math.min(re.left,le.left),top:Math.min(re.top,le.top)-E,right:Math.max(re.left,le.left),bottom:Math.max(re.bottom,le.bottom)+E};var pe=qd(p,P),Ve=p.doc.scrollTop,Xe=p.doc.scrollLeft;if(pe.scrollTop!=null&&(Su(p,pe.scrollTop),Math.abs(p.doc.scrollTop-Ve)>1&&(K=!0)),pe.scrollLeft!=null&&(kc(p,pe.scrollLeft),Math.abs(p.doc.scrollLeft-Xe)>1&&(K=!0)),!K)break}return P}function av(p,v){var O=qd(p,v);O.scrollTop!=null&&Su(p,O.scrollTop),O.scrollLeft!=null&&kc(p,O.scrollLeft)}function qd(p,v){var O=p.display,E=vl(p.display);v.top<0&&(v.top=0);var P=p.curOp&&p.curOp.scrollTop!=null?p.curOp.scrollTop:O.scroller.scrollTop,H=ue(p),K={};v.bottom-v.top>H&&(v.bottom=v.top+H);var re=p.doc.height+Ji(O),le=v.top<E,pe=v.bottom>re-E;if(v.top<P)K.scrollTop=le?0:v.top;else if(v.bottom>P+H){var Ve=Math.min(v.top,(pe?re:v.bottom)-H);Ve!=P&&(K.scrollTop=Ve)}var Xe=p.options.fixedGutter?0:O.gutters.offsetWidth,ct=p.curOp&&p.curOp.scrollLeft!=null?p.curOp.scrollLeft:O.scroller.scrollLeft-Xe,ot=ka(p)-O.gutters.offsetWidth,_t=v.right-v.left>ot;return _t&&(v.right=v.left+ot),v.left<10?K.scrollLeft=0:v.left<ct?K.scrollLeft=Math.max(0,v.left+Xe-(_t?0:10)):v.right>ot+ct-3&&(K.scrollLeft=v.right+(_t?0:10)-ot),K}function pf(p,v){v!=null&&(Gd(p),p.curOp.scrollTop=(p.curOp.scrollTop==null?p.doc.scrollTop:p.curOp.scrollTop)+v)}function tc(p){Gd(p);var v=p.getCursor();p.curOp.scrollToPos={from:v,to:v,margin:p.options.cursorScrollMargin}}function rc(p,v,O){(v!=null||O!=null)&&Gd(p),v!=null&&(p.curOp.scrollLeft=v),O!=null&&(p.curOp.scrollTop=O)}function sv(p,v){Gd(p),p.curOp.scrollToPos=v}function Gd(p){var v=p.curOp.scrollToPos;if(v){p.curOp.scrollToPos=null;var O=pl(p,v.from),E=pl(p,v.to);D1(p,O,E,v.margin)}}function D1(p,v,O,E){var P=qd(p,{left:Math.min(v.left,O.left),top:Math.min(v.top,O.top)-E,right:Math.max(v.right,O.right),bottom:Math.max(v.bottom,O.bottom)+E});rc(p,P.scrollLeft,P.scrollTop)}function Su(p,v){Math.abs(p.doc.scrollTop-v)<2||(r||Cu(p,{top:v}),I1(p,v,!0),r&&Cu(p),mf(p,100))}function I1(p,v,O){v=Math.max(0,Math.min(p.display.scroller.scrollHeight-p.display.scroller.clientHeight,v)),!(p.display.scroller.scrollTop==v&&!O)&&(p.doc.scrollTop=v,p.display.scrollbars.setScrollTop(v),p.display.scroller.scrollTop!=v&&(p.display.scroller.scrollTop=v))}function kc(p,v,O,E){v=Math.max(0,Math.min(v,p.display.scroller.scrollWidth-p.display.scroller.clientWidth)),!((O?v==p.doc.scrollLeft:Math.abs(p.doc.scrollLeft-v)<2)&&!E)&&(p.doc.scrollLeft=v,uv(p),p.display.scroller.scrollLeft!=v&&(p.display.scroller.scrollLeft=v),p.display.scrollbars.setScrollLeft(v))}function vf(p){var v=p.display,O=v.gutters.offsetWidth,E=Math.round(p.doc.height+Ji(p.display));return{clientHeight:v.scroller.clientHeight,viewHeight:v.wrapper.clientHeight,scrollWidth:v.scroller.scrollWidth,clientWidth:v.scroller.clientWidth,viewWidth:v.wrapper.clientWidth,barLeft:p.options.fixedGutter?O:0,docHeight:E,scrollHeight:E+ri(p)+v.barHeight,nativeBarWidth:v.nativeBarWidth,gutterWidth:O}}var Mc=function(p,v,O){this.cm=O;var E=this.vert=I("div",[I("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),P=this.horiz=I("div",[I("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");E.tabIndex=P.tabIndex=-1,p(E),p(P),Ie(E,"scroll",function(){E.clientHeight&&v(E.scrollTop,"vertical")}),Ie(P,"scroll",function(){P.clientWidth&&v(P.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,s&&l<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Mc.prototype.update=function(p){var v=p.scrollWidth>p.clientWidth+1,O=p.scrollHeight>p.clientHeight+1,E=p.nativeBarWidth;if(O){this.vert.style.display="block",this.vert.style.bottom=v?E+"px":"0";var P=p.viewHeight-(v?E:0);this.vert.firstChild.style.height=Math.max(0,p.scrollHeight-p.clientHeight+P)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(v){this.horiz.style.display="block",this.horiz.style.right=O?E+"px":"0",this.horiz.style.left=p.barLeft+"px";var H=p.viewWidth-p.barLeft-(O?E:0);this.horiz.firstChild.style.width=Math.max(0,p.scrollWidth-p.clientWidth+H)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&p.clientHeight>0&&(E==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:O?E:0,bottom:v?E:0}},Mc.prototype.setScrollLeft=function(p){this.horiz.scrollLeft!=p&&(this.horiz.scrollLeft=p),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Mc.prototype.setScrollTop=function(p){this.vert.scrollTop!=p&&(this.vert.scrollTop=p),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Mc.prototype.zeroWidthHack=function(){var p=S&&!m?"12px":"18px";this.horiz.style.height=this.vert.style.width=p,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new X,this.disableVert=new X},Mc.prototype.enableZeroWidthBar=function(p,v,O){p.style.pointerEvents="auto";function E(){var P=p.getBoundingClientRect(),H=O=="vert"?document.elementFromPoint(P.right-1,(P.top+P.bottom)/2):document.elementFromPoint((P.right+P.left)/2,P.bottom-1);H!=p?p.style.pointerEvents="none":v.set(1e3,E)}v.set(1e3,E)},Mc.prototype.clear=function(){var p=this.horiz.parentNode;p.removeChild(this.horiz),p.removeChild(this.vert)};var gf=function(){};gf.prototype.update=function(){return{bottom:0,right:0}},gf.prototype.setScrollLeft=function(){},gf.prototype.setScrollTop=function(){},gf.prototype.clear=function(){};function nc(p,v){v||(v=vf(p));var O=p.display.barWidth,E=p.display.barHeight;Kd(p,v);for(var P=0;P<4&&O!=p.display.barWidth||E!=p.display.barHeight;P++)O!=p.display.barWidth&&p.options.lineWrapping&&jc(p),Kd(p,vf(p)),O=p.display.barWidth,E=p.display.barHeight}function Kd(p,v){var O=p.display,E=O.scrollbars.update(v);O.sizer.style.paddingRight=(O.barWidth=E.right)+"px",O.sizer.style.paddingBottom=(O.barHeight=E.bottom)+"px",O.heightForcer.style.borderBottom=E.bottom+"px solid transparent",E.right&&E.bottom?(O.scrollbarFiller.style.display="block",O.scrollbarFiller.style.height=E.bottom+"px",O.scrollbarFiller.style.width=E.right+"px"):O.scrollbarFiller.style.display="",E.bottom&&p.options.coverGutterNextToScrollbar&&p.options.fixedGutter?(O.gutterFiller.style.display="block",O.gutterFiller.style.height=E.bottom+"px",O.gutterFiller.style.width=v.gutterWidth+"px"):O.gutterFiller.style.display=""}var Tu={native:Mc,null:gf};function R1(p){p.display.scrollbars&&(p.display.scrollbars.clear(),p.display.scrollbars.addClass&&R(p.display.wrapper,p.display.scrollbars.addClass)),p.display.scrollbars=new Tu[p.options.scrollbarStyle](function(v){p.display.wrapper.insertBefore(v,p.display.scrollbarFiller),Ie(v,"mousedown",function(){p.state.focused&&setTimeout(function(){return p.display.input.focus()},0)}),v.setAttribute("cm-not-content","true")},function(v,O){O=="horizontal"?kc(p,v):Su(p,v)},p),p.display.scrollbars.addClass&&W(p.display.wrapper,p.display.scrollbars.addClass)}var Xx=0;function ic(p){p.curOp={cm:p,viewChanged:!1,startHeight:p.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Xx,markArrays:null},Ls(p.curOp)}function Lc(p){var v=p.curOp;v&&Pa(v,function(O){for(var E=0;E<O.ops.length;E++)O.ops[E].cm.curOp=null;Zx(O)})}function Zx(p){for(var v=p.ops,O=0;O<v.length;O++)Jx(v[O]);for(var E=0;E<v.length;E++)Qx(v[E]);for(var P=0;P<v.length;P++)oc(v[P]);for(var H=0;H<v.length;H++)us(v[H]);for(var K=0;K<v.length;K++)xl(v[K])}function Jx(p){var v=p.cm,O=v.display;F1(v),p.updateMaxLine&&Ps(v),p.mustUpdate=p.viewChanged||p.forceUpdate||p.scrollTop!=null||p.scrollToPos&&(p.scrollToPos.from.line<O.viewFrom||p.scrollToPos.to.line>=O.viewTo)||O.maxLineChanged&&v.options.lineWrapping,p.update=p.mustUpdate&&new yf(v,p.mustUpdate&&{top:p.scrollTop,ensure:p.scrollToPos},p.forceUpdate)}function Qx(p){p.updatedDisplay=p.mustUpdate&&lv(p.cm,p.update)}function oc(p){var v=p.cm,O=v.display;p.updatedDisplay&&jc(v),p.barMeasure=vf(v),O.maxLineChanged&&!v.options.lineWrapping&&(p.adjustWidthTo=lt(v,O.maxLine,O.maxLine.text.length).left+3,v.display.sizerWidth=p.adjustWidthTo,p.barMeasure.scrollWidth=Math.max(O.scroller.clientWidth,O.sizer.offsetLeft+p.adjustWidthTo+ri(v)+v.display.barWidth),p.maxScrollLeft=Math.max(0,O.sizer.offsetLeft+p.adjustWidthTo-ka(v))),(p.updatedDisplay||p.selectionChanged)&&(p.preparedSelection=O.input.prepareSelection())}function us(p){var v=p.cm;p.adjustWidthTo!=null&&(v.display.sizer.style.minWidth=p.adjustWidthTo+"px",p.maxScrollLeft<v.doc.scrollLeft&&kc(v,Math.min(v.display.scroller.scrollLeft,p.maxScrollLeft),!0),v.display.maxLineChanged=!1);var O=p.focus&&p.focus==G();p.preparedSelection&&v.display.input.showSelection(p.preparedSelection,O),(p.updatedDisplay||p.startHeight!=v.doc.height)&&nc(v,p.barMeasure),p.updatedDisplay&&cv(v,p.barMeasure),p.selectionChanged&&wu(v),v.state.focused&&p.updateInput&&v.display.input.reset(p.typing),O&&Vd(p.cm)}function xl(p){var v=p.cm,O=v.display,E=v.doc;if(p.updatedDisplay&&bf(v,p.update),O.wheelStartX!=null&&(p.scrollTop!=null||p.scrollLeft!=null||p.scrollToPos)&&(O.wheelStartX=O.wheelStartY=null),p.scrollTop!=null&&I1(v,p.scrollTop,p.forceScroll),p.scrollLeft!=null&&kc(v,p.scrollLeft,!0,!0),p.scrollToPos){var P=Wd(v,It(E,p.scrollToPos.from),It(E,p.scrollToPos.to),p.scrollToPos.margin);zd(v,P)}var H=p.maybeHiddenMarkers,K=p.maybeUnhiddenMarkers;if(H)for(var re=0;re<H.length;++re)H[re].lines.length||Ct(H[re],"hide");if(K)for(var le=0;le<K.length;++le)K[le].lines.length&&Ct(K[le],"unhide");O.wrapper.offsetHeight&&(E.scrollTop=v.display.scroller.scrollTop),p.changeObjs&&Ct(v,"changes",v,p.changeObjs),p.update&&p.update.finish()}function $o(p,v){if(p.curOp)return v();ic(p);try{return v()}finally{Lc(p)}}function Ci(p,v){return function(){if(p.curOp)return v.apply(p,arguments);ic(p);try{return v.apply(p,arguments)}finally{Lc(p)}}}function ii(p){return function(){if(this.curOp)return p.apply(this,arguments);ic(this);try{return p.apply(this,arguments)}finally{Lc(this)}}}function Sn(p){return function(){var v=this.cm;if(!v||v.curOp)return p.apply(this,arguments);ic(v);try{return p.apply(this,arguments)}finally{Lc(v)}}}function mf(p,v){p.doc.highlightFrontier<p.display.viewTo&&p.state.highlight.set(v,he(e2,p))}function e2(p){var v=p.doc;if(!(v.highlightFrontier>=p.display.viewTo)){var O=+new Date+p.options.workTime,E=oa(p,v.highlightFrontier),P=[];v.iter(E.line,Math.min(v.first+v.size,p.display.viewTo+500),function(H){if(E.line>=p.display.viewFrom){var K=H.styles,re=H.text.length>p.options.maxHighlightLength?ln(v.mode,E.state):null,le=Li(p,H,E,!0);re&&(E.state=re),H.styles=le.styles;var pe=H.styleClasses,Ve=le.classes;Ve?H.styleClasses=Ve:pe&&(H.styleClasses=null);for(var Xe=!K||K.length!=H.styles.length||pe!=Ve&&(!pe||!Ve||pe.bgClass!=Ve.bgClass||pe.textClass!=Ve.textClass),ct=0;!Xe&&ct<K.length;++ct)Xe=K[ct]!=H.styles[ct];Xe&&P.push(E.line),H.stateAfter=E.save(),E.nextLine()}else H.text.length<=p.options.maxHighlightLength&&Aa(p,H.text,E),H.stateAfter=E.line%5==0?E.save():null,E.nextLine();if(+new Date>O)return mf(p,p.options.workDelay),!0}),v.highlightFrontier=E.line,v.modeFrontier=Math.max(v.modeFrontier,E.line),P.length&&$o(p,function(){for(var H=0;H<P.length;H++)Ia(p,P[H],"text")})}}var yf=function(p,v,O){var E=p.display;this.viewport=v,this.visible=hf(E,p.doc,v),this.editorIsHidden=!E.wrapper.offsetWidth,this.wrapperHeight=E.wrapper.clientHeight,this.wrapperWidth=E.wrapper.clientWidth,this.oldDisplayWidth=ka(p),this.force=O,this.dims=gl(p),this.events=[]};yf.prototype.signal=function(p,v){lr(p,v)&&this.events.push(arguments)},yf.prototype.finish=function(){for(var p=0;p<this.events.length;p++)Ct.apply(null,this.events[p])};function F1(p){var v=p.display;!v.scrollbarsClipped&&v.scroller.offsetWidth&&(v.nativeBarWidth=v.scroller.offsetWidth-v.scroller.clientWidth,v.heightForcer.style.height=ri(p)+"px",v.sizer.style.marginBottom=-v.nativeBarWidth+"px",v.sizer.style.borderRightWidth=ri(p)+"px",v.scrollbarsClipped=!0)}function B1(p){if(p.hasFocus())return null;var v=G();if(!v||!F(p.display.lineDiv,v))return null;var O={activeElt:v};if(window.getSelection){var E=window.getSelection();E.anchorNode&&E.extend&&F(p.display.lineDiv,E.anchorNode)&&(O.anchorNode=E.anchorNode,O.anchorOffset=E.anchorOffset,O.focusNode=E.focusNode,O.focusOffset=E.focusOffset)}return O}function H1(p){if(!(!p||!p.activeElt||p.activeElt==G())&&(p.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(p.activeElt.nodeName)&&p.anchorNode&&F(document.body,p.anchorNode)&&F(document.body,p.focusNode))){var v=window.getSelection(),O=document.createRange();O.setEnd(p.anchorNode,p.anchorOffset),O.collapse(!1),v.removeAllRanges(),v.addRange(O),v.extend(p.focusNode,p.focusOffset)}}function lv(p,v){var O=p.display,E=p.doc;if(v.editorIsHidden)return Di(p),!1;if(!v.force&&v.visible.from>=O.viewFrom&&v.visible.to<=O.viewTo&&(O.updateLineNumbers==null||O.updateLineNumbers>=O.viewTo)&&O.renderedView==O.view&&Ln(p)==0)return!1;$1(p)&&(Di(p),v.dims=gl(p));var P=E.first+E.size,H=Math.max(v.visible.from-p.options.viewportMargin,E.first),K=Math.min(P,v.visible.to+p.options.viewportMargin);O.viewFrom<H&&H-O.viewFrom<20&&(H=Math.max(E.first,O.viewFrom)),O.viewTo>K&&O.viewTo-K<20&&(K=Math.min(P,O.viewTo)),Nn&&(H=To(p.doc,H),K=zi(p.doc,K));var re=H!=O.viewFrom||K!=O.viewTo||O.lastWrapHeight!=v.wrapperHeight||O.lastWrapWidth!=v.wrapperWidth;Fn(p,H,K),O.viewOffset=wi($(p.doc,O.viewFrom)),p.display.mover.style.top=O.viewOffset+"px";var le=Ln(p);if(!re&&le==0&&!v.force&&O.renderedView==O.view&&(O.updateLineNumbers==null||O.updateLineNumbers>=O.viewTo))return!1;var pe=B1(p);return le>4&&(O.lineDiv.style.display="none"),xf(p,O.updateLineNumbers,v.dims),le>4&&(O.lineDiv.style.display=""),O.renderedView=O.view,H1(pe),L(O.cursorDiv),L(O.selectionDiv),O.gutters.style.height=O.sizer.style.minHeight=0,re&&(O.lastWrapHeight=v.wrapperHeight,O.lastWrapWidth=v.wrapperWidth,mf(p,400)),O.updateLineNumbers=null,!0}function bf(p,v){for(var O=v.viewport,E=!0;;E=!1){if(!E||!p.options.lineWrapping||v.oldDisplayWidth==ka(p)){if(O&&O.top!=null&&(O={top:Math.min(p.doc.height+Ji(p.display)-ue(p),O.top)}),v.visible=hf(p.display,p.doc,O),v.visible.from>=p.display.viewFrom&&v.visible.to<=p.display.viewTo)break}else E&&(v.visible=hf(p.display,p.doc,O));if(!lv(p,v))break;jc(p);var P=vf(p);Wn(p),nc(p,P),cv(p,P),v.force=!1}v.signal(p,"update",p),(p.display.viewFrom!=p.display.reportedViewFrom||p.display.viewTo!=p.display.reportedViewTo)&&(v.signal(p,"viewportChange",p,p.display.viewFrom,p.display.viewTo),p.display.reportedViewFrom=p.display.viewFrom,p.display.reportedViewTo=p.display.viewTo)}function Cu(p,v){var O=new yf(p,v);if(lv(p,O)){jc(p),bf(p,O);var E=vf(p);Wn(p),nc(p,E),cv(p,E),O.finish()}}function xf(p,v,O){var E=p.display,P=p.options.lineNumbers,H=E.lineDiv,K=H.firstChild;function re(_t){var jt=_t.nextSibling;return c&&S&&p.display.currentWheelTarget==_t?_t.style.display="none":_t.parentNode.removeChild(_t),jt}for(var le=E.view,pe=E.viewFrom,Ve=0;Ve<le.length;Ve++){var Xe=le[Ve];if(!Xe.hidden)if(!Xe.node||Xe.node.parentNode!=H){var ct=Hr(p,Xe,pe,O);H.insertBefore(ct,K)}else{for(;K!=Xe.node;)K=re(K);var ot=P&&v!=null&&v<=pe&&Xe.lineNumber;Xe.changes&&(ae(Xe.changes,"gutter")>-1&&(ot=!1),qe(p,Xe,pe,O)),ot&&(L(Xe.lineNumber),Xe.lineNumber.appendChild(document.createTextNode(br(p.options,pe)))),K=Xe.node.nextSibling}pe+=Xe.size}for(;K;)K=re(K)}function wf(p){var v=p.gutters.offsetWidth;p.sizer.style.marginLeft=v+"px",U(p,"gutterChanged",p)}function cv(p,v){p.display.sizer.style.minHeight=v.docHeight+"px",p.display.heightForcer.style.top=v.docHeight+"px",p.display.gutters.style.height=v.docHeight+p.display.barHeight+ri(p)+"px"}function uv(p){var v=p.display,O=v.view;if(!(!v.alignWidgets&&(!v.gutters.firstChild||!p.options.fixedGutter))){for(var E=ml(v)-v.scroller.scrollLeft+p.doc.scrollLeft,P=v.gutters.offsetWidth,H=E+"px",K=0;K<O.length;K++)if(!O[K].hidden){p.options.fixedGutter&&(O[K].gutter&&(O[K].gutter.style.left=H),O[K].gutterBackground&&(O[K].gutterBackground.style.left=H));var re=O[K].alignable;if(re)for(var le=0;le<re.length;le++)re[le].style.left=H}p.options.fixedGutter&&(v.gutters.style.left=E+P+"px")}}function $1(p){if(!p.options.lineNumbers)return!1;var v=p.doc,O=br(p.options,v.first+v.size-1),E=p.display;if(O.length!=E.lineNumChars){var P=E.measure.appendChild(I("div",[I("div",O)],"CodeMirror-linenumber CodeMirror-gutter-elt")),H=P.firstChild.offsetWidth,K=P.offsetWidth-H;return E.lineGutter.style.width="",E.lineNumInnerWidth=Math.max(H,E.lineGutter.offsetWidth-K)+1,E.lineNumWidth=E.lineNumInnerWidth+K,E.lineNumChars=E.lineNumInnerWidth?O.length:-1,E.lineGutter.style.width=E.lineNumWidth+"px",wf(p.display),!0}return!1}function fv(p,v){for(var O=[],E=!1,P=0;P<p.length;P++){var H=p[P],K=null;if(typeof H!="string"&&(K=H.style,H=H.className),H=="CodeMirror-linenumbers")if(v)E=!0;else continue;O.push({className:H,style:K})}return v&&!E&&O.push({className:"CodeMirror-linenumbers",style:null}),O}function U1(p){var v=p.gutters,O=p.gutterSpecs;L(v),p.lineGutter=null;for(var E=0;E<O.length;++E){var P=O[E],H=P.className,K=P.style,re=v.appendChild(I("div",null,"CodeMirror-gutter "+H));K&&(re.style.cssText=K),H=="CodeMirror-linenumbers"&&(p.lineGutter=re,re.style.width=(p.lineNumWidth||1)+"px")}v.style.display=O.length?"":"none",wf(p)}function _f(p){U1(p.display),vi(p),uv(p)}function t2(p,v,O,E){var P=this;this.input=O,P.scrollbarFiller=I("div",null,"CodeMirror-scrollbar-filler"),P.scrollbarFiller.setAttribute("cm-not-content","true"),P.gutterFiller=I("div",null,"CodeMirror-gutter-filler"),P.gutterFiller.setAttribute("cm-not-content","true"),P.lineDiv=D("div",null,"CodeMirror-code"),P.selectionDiv=I("div",null,null,"position: relative; z-index: 1"),P.cursorDiv=I("div",null,"CodeMirror-cursors"),P.measure=I("div",null,"CodeMirror-measure"),P.lineMeasure=I("div",null,"CodeMirror-measure"),P.lineSpace=D("div",[P.measure,P.lineMeasure,P.selectionDiv,P.cursorDiv,P.lineDiv],null,"position: relative; outline: none");var H=D("div",[P.lineSpace],"CodeMirror-lines");P.mover=I("div",[H],null,"position: relative"),P.sizer=I("div",[P.mover],"CodeMirror-sizer"),P.sizerWidth=null,P.heightForcer=I("div",null,null,"position: absolute; height: "+ve+"px; width: 1px;"),P.gutters=I("div",null,"CodeMirror-gutters"),P.lineGutter=null,P.scroller=I("div",[P.sizer,P.heightForcer,P.gutters],"CodeMirror-scroll"),P.scroller.setAttribute("tabIndex","-1"),P.wrapper=I("div",[P.scrollbarFiller,P.gutterFiller,P.scroller],"CodeMirror"),P.wrapper.setAttribute("translate","no"),s&&l<8&&(P.gutters.style.zIndex=-1,P.scroller.style.paddingRight=0),!c&&!(r&&_)&&(P.scroller.draggable=!0),p&&(p.appendChild?p.appendChild(P.wrapper):p(P.wrapper)),P.viewFrom=P.viewTo=v.first,P.reportedViewFrom=P.reportedViewTo=v.first,P.view=[],P.renderedView=null,P.externalMeasured=null,P.viewOffset=0,P.lastWrapHeight=P.lastWrapWidth=0,P.updateLineNumbers=null,P.nativeBarWidth=P.barHeight=P.barWidth=0,P.scrollbarsClipped=!1,P.lineNumWidth=P.lineNumInnerWidth=P.lineNumChars=null,P.alignWidgets=!1,P.cachedCharWidth=P.cachedTextHeight=P.cachedPaddingH=null,P.maxLine=null,P.maxLineLength=0,P.maxLineChanged=!1,P.wheelDX=P.wheelDY=P.wheelStartX=P.wheelStartY=null,P.shift=!1,P.selForContextMenu=null,P.activeTouch=null,P.gutterSpecs=fv(E.gutters,E.lineNumbers),U1(P),O.init(P)}var Yd=0,Uo=null;s?Uo=-.53:r?Uo=15:f?Uo=-.7:d&&(Uo=-1/3);function Sf(p){var v=p.wheelDeltaX,O=p.wheelDeltaY;return v==null&&p.detail&&p.axis==p.HORIZONTAL_AXIS&&(v=p.detail),O==null&&p.detail&&p.axis==p.VERTICAL_AXIS?O=p.detail:O==null&&(O=p.wheelDelta),{x:v,y:O}}function r2(p){var v=Sf(p);return v.x*=Uo,v.y*=Uo,v}function V1(p,v){var O=Sf(v),E=O.x,P=O.y,H=p.display,K=H.scroller,re=K.scrollWidth>K.clientWidth,le=K.scrollHeight>K.clientHeight;if(E&&re||P&&le){if(P&&S&&c){e:for(var pe=v.target,Ve=H.view;pe!=K;pe=pe.parentNode)for(var Xe=0;Xe<Ve.length;Xe++)if(Ve[Xe].node==pe){p.display.currentWheelTarget=pe;break e}}if(E&&!r&&!h&&Uo!=null){P&&le&&Su(p,Math.max(0,K.scrollTop+P*Uo)),kc(p,Math.max(0,K.scrollLeft+E*Uo)),(!P||P&&le)&&vr(v),H.wheelStartX=null;return}if(P&&Uo!=null){var ct=P*Uo,ot=p.doc.scrollTop,_t=ot+H.wrapper.clientHeight;ct<0?ot=Math.max(0,ot+ct-50):_t=Math.min(p.doc.height,_t+ct+50),Cu(p,{top:ot,bottom:_t})}Yd<20&&(H.wheelStartX==null?(H.wheelStartX=K.scrollLeft,H.wheelStartY=K.scrollTop,H.wheelDX=E,H.wheelDY=P,setTimeout(function(){if(H.wheelStartX!=null){var jt=K.scrollLeft-H.wheelStartX,zt=K.scrollTop-H.wheelStartY,Yt=zt&&H.wheelDY&&zt/H.wheelDY||jt&&H.wheelDX&&jt/H.wheelDX;H.wheelStartX=H.wheelStartY=null,Yt&&(Uo=(Uo*Yd+Yt)/(Yd+1),++Yd)}},200)):(H.wheelDX+=E,H.wheelDY+=P))}}var Vo=function(p,v){this.ranges=p,this.primIndex=v};Vo.prototype.primary=function(){return this.ranges[this.primIndex]},Vo.prototype.equals=function(p){if(p==this)return!0;if(p.primIndex!=this.primIndex||p.ranges.length!=this.ranges.length)return!1;for(var v=0;v<this.ranges.length;v++){var O=this.ranges[v],E=p.ranges[v];if(!Nr(O.anchor,E.anchor)||!Nr(O.head,E.head))return!1}return!0},Vo.prototype.deepCopy=function(){for(var p=[],v=0;v<this.ranges.length;v++)p[v]=new k(_e(this.ranges[v].anchor),_e(this.ranges[v].head));return new Vo(p,this.primIndex)},Vo.prototype.somethingSelected=function(){for(var p=0;p<this.ranges.length;p++)if(!this.ranges[p].empty())return!0;return!1},Vo.prototype.contains=function(p,v){v||(v=p);for(var O=0;O<this.ranges.length;O++){var E=this.ranges[O];if(ie(v,E.from())>=0&&ie(p,E.to())<=0)return O}return-1};var k=function(p,v){this.anchor=p,this.head=v};k.prototype.from=function(){return ht(this.anchor,this.head)},k.prototype.to=function(){return ze(this.anchor,this.head)},k.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function B(p,v,O){var E=p&&p.options.selectionsMayTouch,P=v[O];v.sort(function(ct,ot){return ie(ct.from(),ot.from())}),O=ae(v,P);for(var H=1;H<v.length;H++){var K=v[H],re=v[H-1],le=ie(re.to(),K.from());if(E&&!K.empty()?le>0:le>=0){var pe=ht(re.from(),K.from()),Ve=ze(re.to(),K.to()),Xe=re.empty()?K.from()==K.head:re.from()==re.head;H<=O&&--O,v.splice(--H,2,new k(Xe?Ve:pe,Xe?pe:Ve))}}return new Vo(v,O)}function q(p,v){return new Vo([new k(p,v||p)],0)}function ne(p){return p.text?dt(p.from.line+p.text.length-1,$e(p.text).length+(p.text.length==1?p.from.ch:0)):p.to}function xe(p,v){if(ie(p,v.from)<0)return p;if(ie(p,v.to)<=0)return ne(v);var O=p.line+v.text.length-(v.to.line-v.from.line)-1,E=p.ch;return p.line==v.to.line&&(E+=ne(v).ch-v.to.ch),dt(O,E)}function Ne(p,v){for(var O=[],E=0;E<p.sel.ranges.length;E++){var P=p.sel.ranges[E];O.push(new k(xe(P.anchor,v),xe(P.head,v)))}return B(p.cm,O,p.sel.primIndex)}function Pe(p,v,O){return p.line==v.line?dt(O.line,p.ch-v.ch+O.ch):dt(O.line+(p.line-v.line),p.ch)}function Me(p,v,O){for(var E=[],P=dt(p.first,0),H=P,K=0;K<v.length;K++){var re=v[K],le=Pe(re.from,P,H),pe=Pe(ne(re),P,H);if(P=re.to,H=pe,O=="around"){var Ve=p.sel.ranges[K],Xe=ie(Ve.head,Ve.anchor)<0;E[K]=new k(Xe?pe:le,Xe?le:pe)}else E[K]=new k(le,le)}return new Vo(E,p.sel.primIndex)}function Le(p){p.doc.mode=er(p.options,p.doc.modeOption),Be(p)}function Be(p){p.doc.iter(function(v){v.stateAfter&&(v.stateAfter=null),v.styles&&(v.styles=null)}),p.doc.modeFrontier=p.doc.highlightFrontier=p.doc.first,mf(p,100),p.state.modeGen++,p.curOp&&vi(p)}function nt(p,v){return v.from.ch==0&&v.to.ch==0&&$e(v.text)==""&&(!p.cm||p.cm.options.wholeLineUpdateBefore)}function yt(p,v,O,E){function P(rr){return O?O[rr]:null}function H(rr,Xt,ir){Bo(rr,Xt,ir,E),U(rr,"change",rr,v)}function K(rr,Xt){for(var ir=[],Cr=rr;Cr<Xt;++Cr)ir.push(new Rn(pe[Cr],P(Cr),E));return ir}var re=v.from,le=v.to,pe=v.text,Ve=$(p,re.line),Xe=$(p,le.line),ct=$e(pe),ot=P(pe.length-1),_t=le.line-re.line;if(v.full)p.insert(0,K(0,pe.length)),p.remove(pe.length,p.size-pe.length);else if(nt(p,v)){var jt=K(0,pe.length-1);H(Xe,Xe.text,ot),_t&&p.remove(re.line,_t),jt.length&&p.insert(re.line,jt)}else if(Ve==Xe)if(pe.length==1)H(Ve,Ve.text.slice(0,re.ch)+ct+Ve.text.slice(le.ch),ot);else{var zt=K(1,pe.length-1);zt.push(new Rn(ct+Ve.text.slice(le.ch),ot,E)),H(Ve,Ve.text.slice(0,re.ch)+pe[0],P(0)),p.insert(re.line+1,zt)}else if(pe.length==1)H(Ve,Ve.text.slice(0,re.ch)+pe[0]+Xe.text.slice(le.ch),P(0)),p.remove(re.line+1,_t);else{H(Ve,Ve.text.slice(0,re.ch)+pe[0],P(0)),H(Xe,ct+Xe.text.slice(le.ch),ot);var Yt=K(1,pe.length-1);_t>1&&p.remove(re.line+1,_t-1),p.insert(re.line+1,Yt)}U(p,"change",p,v)}function vt(p,v,O){function E(P,H,K){if(P.linked)for(var re=0;re<P.linked.length;++re){var le=P.linked[re];if(le.doc!=H){var pe=K&&le.sharedHist;O&&!pe||(v(le.doc,pe),E(le.doc,P,pe))}}}E(p,null,!0)}function ut(p,v){if(v.cm)throw new Error("This document is already in use.");p.doc=v,v.cm=p,bl(p),Le(p),Dt(p),p.options.direction=v.direction,p.options.lineWrapping||Ps(p),p.options.mode=v.modeOption,vi(p)}function Dt(p){(p.doc.direction=="rtl"?W:R)(p.display.lineDiv,"CodeMirror-rtl")}function St(p){$o(p,function(){Dt(p),vi(p)})}function rt(p){this.done=[],this.undone=[],this.undoDepth=p?p.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=p?p.maxGeneration:1}function st(p,v){var O={from:_e(v.from),to:ne(v),text:oe(p,v.from,v.to)};return Qt(p,O,v.from.line,v.to.line+1),vt(p,function(E){return Qt(E,O,v.from.line,v.to.line+1)},!0),O}function Pt(p){for(;p.length;){var v=$e(p);if(v.ranges)p.pop();else break}}function Ht(p,v){if(v)return Pt(p.done),$e(p.done);if(p.done.length&&!$e(p.done).ranges)return $e(p.done);if(p.done.length>1&&!p.done[p.done.length-2].ranges)return p.done.pop(),$e(p.done)}function Mt(p,v,O,E){var P=p.history;P.undone.length=0;var H=+new Date,K,re;if((P.lastOp==E||P.lastOrigin==v.origin&&v.origin&&(v.origin.charAt(0)=="+"&&P.lastModTime>H-(p.cm?p.cm.options.historyEventDelay:500)||v.origin.charAt(0)=="*"))&&(K=Ht(P,P.lastOp==E)))re=$e(K.changes),ie(v.from,v.to)==0&&ie(v.from,re.to)==0?re.to=ne(v):K.changes.push(st(p,v));else{var le=$e(P.done);for((!le||!le.ranges)&&Tr(p.sel,P.done),K={changes:[st(p,v)],generation:P.generation},P.done.push(K);P.done.length>P.undoDepth;)P.done.shift(),P.done[0].ranges||P.done.shift()}P.done.push(O),P.generation=++P.maxGeneration,P.lastModTime=P.lastSelTime=H,P.lastOp=P.lastSelOp=E,P.lastOrigin=P.lastSelOrigin=v.origin,re||Ct(p,"historyAdded")}function ar(p,v,O,E){var P=v.charAt(0);return P=="*"||P=="+"&&O.ranges.length==E.ranges.length&&O.somethingSelected()==E.somethingSelected()&&new Date-p.history.lastSelTime<=(p.cm?p.cm.options.historyEventDelay:500)}function Jt(p,v,O,E){var P=p.history,H=E&&E.origin;O==P.lastSelOp||H&&P.lastSelOrigin==H&&(P.lastModTime==P.lastSelTime&&P.lastOrigin==H||ar(p,H,$e(P.done),v))?P.done[P.done.length-1]=v:Tr(v,P.done),P.lastSelTime=+new Date,P.lastSelOrigin=H,P.lastSelOp=O,E&&E.clearRedo!==!1&&Pt(P.undone)}function Tr(p,v){var O=$e(v);O&&O.ranges&&O.equals(p)||v.push(p)}function Qt(p,v,O,E){var P=v["spans_"+p.id],H=0;p.iter(Math.max(p.first,O),Math.min(p.first+p.size,E),function(K){K.markedSpans&&((P||(P=v["spans_"+p.id]={}))[H]=K.markedSpans),++H})}function xn(p){if(!p)return null;for(var v,O=0;O<p.length;++O)p[O].marker.explicitlyCleared?v||(v=p.slice(0,O)):v&&v.push(p[O]);return v?v.length?v:null:p}function En(p,v){var O=v["spans_"+p.id];if(!O)return null;for(var E=[],P=0;P<v.text.length;++P)E.push(xn(O[P]));return E}function pn(p,v){var O=En(p,v),E=os(p,v);if(!O)return E;if(!E)return O;for(var P=0;P<O.length;++P){var H=O[P],K=E[P];if(H&&K)e:for(var re=0;re<K.length;++re){for(var le=K[re],pe=0;pe<H.length;++pe)if(H[pe].marker==le.marker)continue e;H.push(le)}else K&&(O[P]=K)}return O}function en(p,v,O){for(var E=[],P=0;P<p.length;++P){var H=p[P];if(H.ranges){E.push(O?Vo.prototype.deepCopy.call(H):H);continue}var K=H.changes,re=[];E.push({changes:re});for(var le=0;le<K.length;++le){var pe=K[le],Ve=void 0;if(re.push({from:pe.from,to:pe.to,text:pe.text}),v)for(var Xe in pe)(Ve=Xe.match(/^spans_(\d+)$/))&&ae(v,Number(Ve[1]))>-1&&($e(re)[Xe]=pe[Xe],delete pe[Xe])}}return E}function On(p,v,O,E){if(E){var P=p.anchor;if(O){var H=ie(v,P)<0;H!=ie(O,P)<0?(P=v,v=O):H!=ie(v,O)<0&&(v=O)}return new k(P,v)}else return new k(O||v,v)}function wn(p,v,O,E,P){P==null&&(P=p.cm&&(p.cm.display.shift||p.extend)),Wr(p,new Vo([On(p.sel.primary(),v,O,P)],0),E)}function Yr(p,v,O){for(var E=[],P=p.cm&&(p.cm.display.shift||p.extend),H=0;H<p.sel.ranges.length;H++)E[H]=On(p.sel.ranges[H],v[H],null,P);var K=B(p.cm,E,p.sel.primIndex);Wr(p,K,O)}function gi(p,v,O,E){var P=p.sel.ranges.slice(0);P[v]=O,Wr(p,B(p.cm,P,p.sel.primIndex),E)}function Ao(p,v,O,E){Wr(p,q(v,O),E)}function Ei(p,v,O){var E={ranges:v.ranges,update:function(P){this.ranges=[];for(var H=0;H<P.length;H++)this.ranges[H]=new k(It(p,P[H].anchor),It(p,P[H].head))},origin:O&&O.origin};return Ct(p,"beforeSelectionChange",p,E),p.cm&&Ct(p.cm,"beforeSelectionChange",p.cm,E),E.ranges!=v.ranges?B(p.cm,E.ranges,E.ranges.length-1):v}function No(p,v,O){var E=p.history.done,P=$e(E);P&&P.ranges?(E[E.length-1]=v,go(p,v,O)):Wr(p,v,O)}function Wr(p,v,O){go(p,v,O),Jt(p,p.sel,p.cm?p.cm.curOp.id:NaN,O)}function go(p,v,O){(lr(p,"beforeSelectionChange")||p.cm&&lr(p.cm,"beforeSelectionChange"))&&(v=Ei(p,v,O));var E=O&&O.bias||(ie(v.primary().head,p.sel.primary().head)<0?-1:1);zo(p,qi(p,v,E,!0)),!(O&&O.scroll===!1)&&p.cm&&p.cm.getOption("readOnly")!="nocursor"&&tc(p.cm)}function zo(p,v){v.equals(p.sel)||(p.sel=v,p.cm&&(p.cm.curOp.updateInput=1,p.cm.curOp.selectionChanged=!0,Ft(p.cm)),U(p,"cursorActivity",p))}function Ii(p){zo(p,qi(p,p.sel,null,!1))}function qi(p,v,O,E){for(var P,H=0;H<v.ranges.length;H++){var K=v.ranges[H],re=v.ranges.length==p.sel.ranges.length&&p.sel.ranges[H],le=Po(p,K.anchor,re&&re.anchor,O,E),pe=Po(p,K.head,re&&re.head,O,E);(P||le!=K.anchor||pe!=K.head)&&(P||(P=v.ranges.slice(0,H)),P[H]=new k(le,pe))}return P?B(p.cm,P,v.primIndex):v}function Oi(p,v,O,E,P){var H=$(p,v.line);if(H.markedSpans)for(var K=0;K<H.markedSpans.length;++K){var re=H.markedSpans[K],le=re.marker,pe="selectLeft"in le?!le.selectLeft:le.inclusiveLeft,Ve="selectRight"in le?!le.selectRight:le.inclusiveRight;if((re.from==null||(pe?re.from<=v.ch:re.from<v.ch))&&(re.to==null||(Ve?re.to>=v.ch:re.to>v.ch))){if(P&&(Ct(le,"beforeCursorEnter"),le.explicitlyCleared))if(H.markedSpans){--K;continue}else break;if(!le.atomic)continue;if(O){var Xe=le.find(E<0?1:-1),ct=void 0;if((E<0?Ve:pe)&&(Xe=fs(p,Xe,-E,Xe&&Xe.line==v.line?H:null)),Xe&&Xe.line==v.line&&(ct=ie(Xe,O))&&(E<0?ct<0:ct>0))return Oi(p,Xe,v,E,P)}var ot=le.find(E<0?-1:1);return(E<0?pe:Ve)&&(ot=fs(p,ot,E,ot.line==v.line?H:null)),ot?Oi(p,ot,v,E,P):null}}return v}function Po(p,v,O,E,P){var H=E||1,K=Oi(p,v,O,H,P)||!P&&Oi(p,v,O,H,!0)||Oi(p,v,O,-H,P)||!P&&Oi(p,v,O,-H,!0);return K||(p.cantEdit=!0,dt(p.first,0))}function fs(p,v,O,E){return O<0&&v.ch==0?v.line>p.first?It(p,dt(v.line-1)):null:O>0&&v.ch==(E||$(p,v.line)).text.length?v.line<p.first+p.size-1?dt(v.line+1,0):null:new dt(v.line,v.ch+O)}function Ri(p){p.setSelection(dt(p.firstLine(),0),dt(p.lastLine()),Ee)}function Fs(p,v,O){var E={canceled:!1,from:v.from,to:v.to,text:v.text,origin:v.origin,cancel:function(){return E.canceled=!0}};return O&&(E.update=function(P,H,K,re){P&&(E.from=It(p,P)),H&&(E.to=It(p,H)),K&&(E.text=K),re!==void 0&&(E.origin=re)}),Ct(p,"beforeChange",p,E),p.cm&&Ct(p.cm,"beforeChange",p.cm,E),E.canceled?(p.cm&&(p.cm.curOp.updateInput=2),null):{from:E.from,to:E.to,text:E.text,origin:E.origin}}function Ra(p,v,O){if(p.cm){if(!p.cm.curOp)return Ci(p.cm,Ra)(p,v,O);if(p.cm.state.suppressEdits)return}if(!((lr(p,"beforeChange")||p.cm&&lr(p.cm,"beforeChange"))&&(v=Fs(p,v,!0),!v))){var E=ti&&!O&&ho(p,v.from,v.to);if(E)for(var P=E.length-1;P>=0;--P)Dc(p,{from:E[P].from,to:E[P].to,text:P?[""]:v.text,origin:v.origin});else Dc(p,v)}}function Dc(p,v){if(!(v.text.length==1&&v.text[0]==""&&ie(v.from,v.to)==0)){var O=Ne(p,v);Mt(p,v,O,p.cm?p.cm.curOp.id:NaN),Ic(p,v,O,os(p,v));var E=[];vt(p,function(P,H){!H&&ae(E,P.history)==-1&&(Cf(P.history,v),E.push(P.history)),Ic(P,v,null,os(P,v))})}}function ds(p,v,O){var E=p.cm&&p.cm.state.suppressEdits;if(!(E&&!O)){for(var P=p.history,H,K=p.sel,re=v=="undo"?P.done:P.undone,le=v=="undo"?P.undone:P.done,pe=0;pe<re.length&&(H=re[pe],!(O?H.ranges&&!H.equals(p.sel):!H.ranges));pe++);if(pe!=re.length){for(P.lastOrigin=P.lastSelOrigin=null;;)if(H=re.pop(),H.ranges){if(Tr(H,le),O&&!H.equals(p.sel)){Wr(p,H,{clearRedo:!1});return}K=H}else if(E){re.push(H);return}else break;var Ve=[];Tr(K,le),le.push({changes:Ve,generation:P.generation}),P.generation=H.generation||++P.maxGeneration;for(var Xe=lr(p,"beforeChange")||p.cm&&lr(p.cm,"beforeChange"),ct=function(jt){var zt=H.changes[jt];if(zt.origin=v,Xe&&!Fs(p,zt,!1))return re.length=0,{};Ve.push(st(p,zt));var Yt=jt?Ne(p,zt):$e(re);Ic(p,zt,Yt,pn(p,zt)),!jt&&p.cm&&p.cm.scrollIntoView({from:zt.from,to:ne(zt)});var rr=[];vt(p,function(Xt,ir){!ir&&ae(rr,Xt.history)==-1&&(Cf(Xt.history,zt),rr.push(Xt.history)),Ic(Xt,zt,null,pn(Xt,zt))})},ot=H.changes.length-1;ot>=0;--ot){var _t=ct(ot);if(_t)return _t.v}}}}function oi(p,v){if(v!=0&&(p.first+=v,p.sel=new Vo(Ue(p.sel.ranges,function(P){return new k(dt(P.anchor.line+v,P.anchor.ch),dt(P.head.line+v,P.head.ch))}),p.sel.primIndex),p.cm)){vi(p.cm,p.first,p.first-v,v);for(var O=p.cm.display,E=O.viewFrom;E<O.viewTo;E++)Ia(p.cm,E,"gutter")}}function Ic(p,v,O,E){if(p.cm&&!p.cm.curOp)return Ci(p.cm,Ic)(p,v,O,E);if(v.to.line<p.first){oi(p,v.text.length-1-(v.to.line-v.from.line));return}if(!(v.from.line>p.lastLine())){if(v.from.line<p.first){var P=v.text.length-1-(p.first-v.from.line);oi(p,P),v={from:dt(p.first,0),to:dt(v.to.line+P,v.to.ch),text:[$e(v.text)],origin:v.origin}}var H=p.lastLine();v.to.line>H&&(v={from:v.from,to:dt(H,$(p,H).text.length),text:[v.text[0]],origin:v.origin}),v.removed=oe(p,v.from,v.to),O||(O=Ne(p,v)),p.cm?z1(p.cm,v,E):yt(p,v,E),go(p,O,Ee),p.cantEdit&&Po(p,dt(p.firstLine(),0))&&(p.cantEdit=!1)}}function z1(p,v,O){var E=p.doc,P=p.display,H=v.from,K=v.to,re=!1,le=H.line;p.options.lineWrapping||(le=it(bn($(E,H.line))),E.iter(le,K.line+1,function(ot){if(ot==P.maxLine)return re=!0,!0})),E.sel.contains(v.from,v.to)>-1&&Ft(p),yt(E,v,O,yl(p)),p.options.lineWrapping||(E.iter(le,H.line+v.text.length,function(ot){var _t=Zi(ot);_t>P.maxLineLength&&(P.maxLine=ot,P.maxLineLength=_t,P.maxLineChanged=!0,re=!1)}),re&&(p.curOp.updateMaxLine=!0)),As(E,H.line),mf(p,400);var pe=v.text.length-(K.line-H.line)-1;v.full?vi(p):H.line==K.line&&v.text.length==1&&!nt(p.doc,v)?Ia(p,H.line,"text"):vi(p,H.line,K.line+1,pe);var Ve=lr(p,"changes"),Xe=lr(p,"change");if(Xe||Ve){var ct={from:H,to:K,text:v.text,removed:v.removed,origin:v.origin};Xe&&U(p,"change",p,ct),Ve&&(p.curOp.changeObjs||(p.curOp.changeObjs=[])).push(ct)}p.display.selForContextMenu=null}function Rc(p,v,O,E,P){var H;E||(E=O),ie(E,O)<0&&(H=[E,O],O=H[0],E=H[1]),typeof v=="string"&&(v=p.splitLines(v)),Ra(p,{from:O,to:E,text:v,origin:P})}function Tf(p,v,O,E){O<p.line?p.line+=E:v<p.line&&(p.line=v,p.ch=0)}function Eu(p,v,O,E){for(var P=0;P<p.length;++P){var H=p[P],K=!0;if(H.ranges){H.copied||(H=p[P]=H.deepCopy(),H.copied=!0);for(var re=0;re<H.ranges.length;re++)Tf(H.ranges[re].anchor,v,O,E),Tf(H.ranges[re].head,v,O,E);continue}for(var le=0;le<H.changes.length;++le){var pe=H.changes[le];if(O<pe.from.line)pe.from=dt(pe.from.line+E,pe.from.ch),pe.to=dt(pe.to.line+E,pe.to.ch);else if(v<=pe.to.line){K=!1;break}}K||(p.splice(0,P+1),P=0)}}function Cf(p,v){var O=v.from.line,E=v.to.line,P=v.text.length-(E-O)-1;Eu(p.done,O,E,P),Eu(p.undone,O,E,P)}function jo(p,v,O,E){var P=v,H=v;return typeof v=="number"?H=$(p,Nt(p,v)):P=it(v),P==null?null:(E(H,P)&&p.cm&&Ia(p.cm,P,O),H)}function Bs(p){this.lines=p,this.parent=null;for(var v=0,O=0;O<p.length;++O)p[O].parent=this,v+=p[O].height;this.height=v}Bs.prototype={chunkSize:function(){return this.lines.length},removeInner:function(p,v){for(var O=p,E=p+v;O<E;++O){var P=this.lines[O];this.height-=P.height,js(P),U(P,"delete")}this.lines.splice(p,v)},collapse:function(p){p.push.apply(p,this.lines)},insertInner:function(p,v,O){this.height+=O,this.lines=this.lines.slice(0,p).concat(v).concat(this.lines.slice(p));for(var E=0;E<v.length;++E)v[E].parent=this},iterN:function(p,v,O){for(var E=p+v;p<E;++p)if(O(this.lines[p]))return!0}};function Hs(p){this.children=p;for(var v=0,O=0,E=0;E<p.length;++E){var P=p[E];v+=P.chunkSize(),O+=P.height,P.parent=this}this.size=v,this.height=O,this.parent=null}Hs.prototype={chunkSize:function(){return this.size},removeInner:function(p,v){this.size-=v;for(var O=0;O<this.children.length;++O){var E=this.children[O],P=E.chunkSize();if(p<P){var H=Math.min(v,P-p),K=E.height;if(E.removeInner(p,H),this.height-=K-E.height,P==H&&(this.children.splice(O--,1),E.parent=null),(v-=H)==0)break;p=0}else p-=P}if(this.size-v<25&&(this.children.length>1||!(this.children[0]instanceof Bs))){var re=[];this.collapse(re),this.children=[new Bs(re)],this.children[0].parent=this}},collapse:function(p){for(var v=0;v<this.children.length;++v)this.children[v].collapse(p)},insertInner:function(p,v,O){this.size+=v.length,this.height+=O;for(var E=0;E<this.children.length;++E){var P=this.children[E],H=P.chunkSize();if(p<=H){if(P.insertInner(p,v,O),P.lines&&P.lines.length>50){for(var K=P.lines.length%25+25,re=K;re<P.lines.length;){var le=new Bs(P.lines.slice(re,re+=25));P.height-=le.height,this.children.splice(++E,0,le),le.parent=this}P.lines=P.lines.slice(0,K),this.maybeSpill()}break}p-=H}},maybeSpill:function(){if(!(this.children.length<=10)){var p=this;do{var v=p.children.splice(p.children.length-5,5),O=new Hs(v);if(p.parent){p.size-=O.size,p.height-=O.height;var P=ae(p.parent.children,p);p.parent.children.splice(P+1,0,O)}else{var E=new Hs(p.children);E.parent=p,p.children=[E,O],p=E}O.parent=p.parent}while(p.children.length>10);p.parent.maybeSpill()}},iterN:function(p,v,O){for(var E=0;E<this.children.length;++E){var P=this.children[E],H=P.chunkSize();if(p<H){var K=Math.min(v,H-p);if(P.iterN(p,K,O))return!0;if((v-=K)==0)break;p=0}else p-=H}}};var Ou=function(p,v,O){if(O)for(var E in O)O.hasOwnProperty(E)&&(this[E]=O[E]);this.doc=p,this.node=v};Ou.prototype.clear=function(){var p=this.doc.cm,v=this.line.widgets,O=this.line,E=it(O);if(!(E==null||!v)){for(var P=0;P<v.length;++P)v[P]==this&&v.splice(P--,1);v.length||(O.widgets=null);var H=kn(this);Fe(O,Math.max(0,O.height-H)),p&&($o(p,function(){Ef(p,O,-H),Ia(p,E,"widget")}),U(p,"lineWidgetCleared",p,this,E))}},Ou.prototype.changed=function(){var p=this,v=this.height,O=this.doc.cm,E=this.line;this.height=null;var P=kn(this)-v;P&&(Wi(this.doc,E)||Fe(E,E.height+P),O&&$o(O,function(){O.curOp.forceUpdate=!0,Ef(O,E,P),U(O,"lineWidgetChanged",O,p,it(E))}))},nr(Ou);function Ef(p,v,O){wi(v)<(p.curOp&&p.curOp.scrollTop||p.doc.scrollTop)&&pf(p,O)}function W1(p,v,O,E){var P=new Ou(p,O,E),H=p.cm;return H&&P.noHScroll&&(H.display.alignWidgets=!0),jo(p,v,"widget",function(K){var re=K.widgets||(K.widgets=[]);if(P.insertAt==null?re.push(P):re.splice(Math.min(re.length,Math.max(0,P.insertAt)),0,P),P.line=K,H&&!Wi(p,K)){var le=wi(K)<p.scrollTop;Fe(K,K.height+kn(P)),le&&pf(H,P.height),H.curOp.forceUpdate=!0}return!0}),H&&U(H,"lineWidgetAdded",H,P,typeof v=="number"?v:it(v)),P}var Of=0,$s=function(p,v){this.lines=[],this.type=v,this.doc=p,this.id=++Of};$s.prototype.clear=function(){if(!this.explicitlyCleared){var p=this.doc.cm,v=p&&!p.curOp;if(v&&ic(p),lr(this,"clear")){var O=this.find();O&&U(this,"clear",O.from,O.to)}for(var E=null,P=null,H=0;H<this.lines.length;++H){var K=this.lines[H],re=yn(K.markedSpans,this);p&&!this.collapsed?Ia(p,it(K),"text"):p&&(re.to!=null&&(P=it(K)),re.from!=null&&(E=it(K))),K.markedSpans=hi(K.markedSpans,re),re.from==null&&this.collapsed&&!Wi(this.doc,K)&&p&&Fe(K,vl(p.display))}if(p&&this.collapsed&&!p.options.lineWrapping)for(var le=0;le<this.lines.length;++le){var pe=bn(this.lines[le]),Ve=Zi(pe);Ve>p.display.maxLineLength&&(p.display.maxLine=pe,p.display.maxLineLength=Ve,p.display.maxLineChanged=!0)}E!=null&&p&&this.collapsed&&vi(p,E,P+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,p&&Ii(p.doc)),p&&U(p,"markerCleared",p,this,E,P),v&&Lc(p),this.parent&&this.parent.clear()}},$s.prototype.find=function(p,v){p==null&&this.type=="bookmark"&&(p=1);for(var O,E,P=0;P<this.lines.length;++P){var H=this.lines[P],K=yn(H.markedSpans,this);if(K.from!=null&&(O=dt(v?H:it(H),K.from),p==-1))return O;if(K.to!=null&&(E=dt(v?H:it(H),K.to),p==1))return E}return O&&{from:O,to:E}},$s.prototype.changed=function(){var p=this,v=this.find(-1,!0),O=this,E=this.doc.cm;!v||!E||$o(E,function(){var P=v.line,H=it(v.line),K=at(E,H);if(K&&(hl(K),E.curOp.selectionChanged=E.curOp.forceUpdate=!0),E.curOp.updateMaxLine=!0,!Wi(O.doc,P)&&O.height!=null){var re=O.height;O.height=null;var le=kn(O)-re;le&&Fe(P,P.height+le)}U(E,"markerChanged",E,p)})},$s.prototype.attachLine=function(p){if(!this.lines.length&&this.doc.cm){var v=this.doc.cm.curOp;(!v.maybeHiddenMarkers||ae(v.maybeHiddenMarkers,this)==-1)&&(v.maybeUnhiddenMarkers||(v.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(p)},$s.prototype.detachLine=function(p){if(this.lines.splice(ae(this.lines,p),1),!this.lines.length&&this.doc.cm){var v=this.doc.cm.curOp;(v.maybeHiddenMarkers||(v.maybeHiddenMarkers=[])).push(this)}},nr($s);function wl(p,v,O,E,P){if(E&&E.shared)return n2(p,v,O,E,P);if(p.cm&&!p.cm.curOp)return Ci(p.cm,wl)(p,v,O,E,P);var H=new $s(p,P),K=ie(v,O);if(E&&z(E,H,!1),K>0||K==0&&H.clearWhenEmpty!==!1)return H;if(H.replacedWith&&(H.collapsed=!0,H.widgetNode=D("span",[H.replacedWith],"CodeMirror-widget"),E.handleMouseEvents||H.widgetNode.setAttribute("cm-ignore-events","true"),E.insertLeft&&(H.widgetNode.insertLeft=!0)),H.collapsed){if(_r(p,v.line,v,O,H)||v.line!=O.line&&_r(p,O.line,v,O,H))throw new Error("Inserting collapsed marker partially overlapping an existing one");Vi()}H.addToHistory&&Mt(p,{from:v,to:O,origin:"markText"},p.sel,NaN);var re=v.line,le=p.cm,pe;if(p.iter(re,O.line+1,function(Xe){le&&H.collapsed&&!le.options.lineWrapping&&bn(Xe)==le.display.maxLine&&(pe=!0),H.collapsed&&re!=v.line&&Fe(Xe,0),cl(Xe,new Ro(H,re==v.line?v.ch:null,re==O.line?O.ch:null),p.cm&&p.cm.curOp),++re}),H.collapsed&&p.iter(v.line,O.line+1,function(Xe){Wi(p,Xe)&&Fe(Xe,0)}),H.clearOnEnter&&Ie(H,"beforeCursorEnter",function(){return H.clear()}),H.readOnly&&(Na(),(p.history.done.length||p.history.undone.length)&&p.clearHistory()),H.collapsed&&(H.id=++Of,H.atomic=!0),le){if(pe&&(le.curOp.updateMaxLine=!0),H.collapsed)vi(le,v.line,O.line+1);else if(H.className||H.startStyle||H.endStyle||H.css||H.attributes||H.title)for(var Ve=v.line;Ve<=O.line;Ve++)Ia(le,Ve,"text");H.atomic&&Ii(le.doc),U(le,"markerAdded",le,H)}return H}var _l=function(p,v){this.markers=p,this.primary=v;for(var O=0;O<p.length;++O)p[O].parent=this};_l.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var p=0;p<this.markers.length;++p)this.markers[p].clear();U(this,"clear")}},_l.prototype.find=function(p,v){return this.primary.find(p,v)},nr(_l);function n2(p,v,O,E,P){E=z(E),E.shared=!1;var H=[wl(p,v,O,E,P)],K=H[0],re=E.widgetNode;return vt(p,function(le){re&&(E.widgetNode=re.cloneNode(!0)),H.push(wl(le,It(le,v),It(le,O),E,P));for(var pe=0;pe<le.linked.length;++pe)if(le.linked[pe].isParent)return;K=$e(H)}),new _l(H,K)}function q1(p){return p.findMarks(dt(p.first,0),p.clipPos(dt(p.lastLine())),function(v){return v.parent})}function dv(p,v){for(var O=0;O<v.length;O++){var E=v[O],P=E.find(),H=p.clipPos(P.from),K=p.clipPos(P.to);if(ie(H,K)){var re=wl(p,H,K,E.primary,E.primary.type);E.markers.push(re),re.parent=E}}}function ac(p){for(var v=function(E){var P=p[E],H=[P.primary.doc];vt(P.primary.doc,function(le){return H.push(le)});for(var K=0;K<P.markers.length;K++){var re=P.markers[K];ae(H,re.doc)==-1&&(re.parent=null,P.markers.splice(K--,1))}},O=0;O<p.length;O++)v(O)}var i2=0,ko=function(p,v,O,E,P){if(!(this instanceof ko))return new ko(p,v,O,E,P);O==null&&(O=0),Hs.call(this,[new Bs([new Rn("",null)])]),this.first=O,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=O;var H=dt(O,0);this.sel=q(H),this.history=new rt(null),this.id=++i2,this.modeOption=v,this.lineSep=E,this.direction=P=="rtl"?"rtl":"ltr",this.extend=!1,typeof p=="string"&&(p=this.splitLines(p)),yt(this,{from:H,to:H,text:p}),Wr(this,q(H),Ee)};ko.prototype=Q(Hs.prototype,{constructor:ko,iter:function(p,v,O){O?this.iterN(p-this.first,v-p,O):this.iterN(this.first,this.first+this.size,p)},insert:function(p,v){for(var O=0,E=0;E<v.length;++E)O+=v[E].height;this.insertInner(p-this.first,v,O)},remove:function(p,v){this.removeInner(p-this.first,v)},getValue:function(p){var v=J(this,this.first,this.first+this.size);return p===!1?v:v.join(p||this.lineSeparator())},setValue:Sn(function(p){var v=dt(this.first,0),O=this.first+this.size-1;Ra(this,{from:v,to:dt(O,$(this,O).text.length),text:this.splitLines(p),origin:"setValue",full:!0},!0),this.cm&&rc(this.cm,0,0),Wr(this,q(v),Ee)}),replaceRange:function(p,v,O,E){v=It(this,v),O=O?It(this,O):v,Rc(this,p,v,O,E)},getRange:function(p,v,O){var E=oe(this,It(this,p),It(this,v));return O===!1?E:O===""?E.join(""):E.join(O||this.lineSeparator())},getLine:function(p){var v=this.getLineHandle(p);return v&&v.text},getLineHandle:function(p){if(fn(this,p))return $(this,p)},getLineNumber:function(p){return it(p)},getLineHandleVisualStart:function(p){return typeof p=="number"&&(p=$(this,p)),bn(p)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(p){return It(this,p)},getCursor:function(p){var v=this.sel.primary(),O;return p==null||p=="head"?O=v.head:p=="anchor"?O=v.anchor:p=="end"||p=="to"||p===!1?O=v.to():O=v.from(),O},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Sn(function(p,v,O){Ao(this,It(this,typeof p=="number"?dt(p,v||0):p),null,O)}),setSelection:Sn(function(p,v,O){Ao(this,It(this,p),It(this,v||p),O)}),extendSelection:Sn(function(p,v,O){wn(this,It(this,p),v&&It(this,v),O)}),extendSelections:Sn(function(p,v){Yr(this,Dr(this,p),v)}),extendSelectionsBy:Sn(function(p,v){var O=Ue(this.sel.ranges,p);Yr(this,Dr(this,O),v)}),setSelections:Sn(function(p,v,O){if(p.length){for(var E=[],P=0;P<p.length;P++)E[P]=new k(It(this,p[P].anchor),It(this,p[P].head||p[P].anchor));v==null&&(v=Math.min(p.length-1,this.sel.primIndex)),Wr(this,B(this.cm,E,v),O)}}),addSelection:Sn(function(p,v,O){var E=this.sel.ranges.slice(0);E.push(new k(It(this,p),It(this,v||p))),Wr(this,B(this.cm,E,E.length-1),O)}),getSelection:function(p){for(var v=this.sel.ranges,O,E=0;E<v.length;E++){var P=oe(this,v[E].from(),v[E].to());O=O?O.concat(P):P}return p===!1?O:O.join(p||this.lineSeparator())},getSelections:function(p){for(var v=[],O=this.sel.ranges,E=0;E<O.length;E++){var P=oe(this,O[E].from(),O[E].to());p!==!1&&(P=P.join(p||this.lineSeparator())),v[E]=P}return v},replaceSelection:function(p,v,O){for(var E=[],P=0;P<this.sel.ranges.length;P++)E[P]=p;this.replaceSelections(E,v,O||"+input")},replaceSelections:Sn(function(p,v,O){for(var E=[],P=this.sel,H=0;H<P.ranges.length;H++){var K=P.ranges[H];E[H]={from:K.from(),to:K.to(),text:this.splitLines(p[H]),origin:O}}for(var re=v&&v!="end"&&Me(this,E,v),le=E.length-1;le>=0;le--)Ra(this,E[le]);re?No(this,re):this.cm&&tc(this.cm)}),undo:Sn(function(){ds(this,"undo")}),redo:Sn(function(){ds(this,"redo")}),undoSelection:Sn(function(){ds(this,"undo",!0)}),redoSelection:Sn(function(){ds(this,"redo",!0)}),setExtending:function(p){this.extend=p},getExtending:function(){return this.extend},historySize:function(){for(var p=this.history,v=0,O=0,E=0;E<p.done.length;E++)p.done[E].ranges||++v;for(var P=0;P<p.undone.length;P++)p.undone[P].ranges||++O;return{undo:v,redo:O}},clearHistory:function(){var p=this;this.history=new rt(this.history),vt(this,function(v){return v.history=p.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(p){return p&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(p){return this.history.generation==(p||this.cleanGeneration)},getHistory:function(){return{done:en(this.history.done),undone:en(this.history.undone)}},setHistory:function(p){var v=this.history=new rt(this.history);v.done=en(p.done.slice(0),null,!0),v.undone=en(p.undone.slice(0),null,!0)},setGutterMarker:Sn(function(p,v,O){return jo(this,p,"gutter",function(E){var P=E.gutterMarkers||(E.gutterMarkers={});return P[v]=O,!O&&Ke(P)&&(E.gutterMarkers=null),!0})}),clearGutter:Sn(function(p){var v=this;this.iter(function(O){O.gutterMarkers&&O.gutterMarkers[p]&&jo(v,O,"gutter",function(){return O.gutterMarkers[p]=null,Ke(O.gutterMarkers)&&(O.gutterMarkers=null),!0})})}),lineInfo:function(p){var v;if(typeof p=="number"){if(!fn(this,p)||(v=p,p=$(this,p),!p))return null}else if(v=it(p),v==null)return null;return{line:v,handle:p,text:p.text,gutterMarkers:p.gutterMarkers,textClass:p.textClass,bgClass:p.bgClass,wrapClass:p.wrapClass,widgets:p.widgets}},addLineClass:Sn(function(p,v,O){return jo(this,p,v=="gutter"?"gutter":"class",function(E){var P=v=="text"?"textClass":v=="background"?"bgClass":v=="gutter"?"gutterClass":"wrapClass";if(!E[P])E[P]=O;else{if(j(O).test(E[P]))return!1;E[P]+=" "+O}return!0})}),removeLineClass:Sn(function(p,v,O){return jo(this,p,v=="gutter"?"gutter":"class",function(E){var P=v=="text"?"textClass":v=="background"?"bgClass":v=="gutter"?"gutterClass":"wrapClass",H=E[P];if(H)if(O==null)E[P]=null;else{var K=H.match(j(O));if(!K)return!1;var re=K.index+K[0].length;E[P]=H.slice(0,K.index)+(!K.index||re==H.length?"":" ")+H.slice(re)||null}else return!1;return!0})}),addLineWidget:Sn(function(p,v,O){return W1(this,p,v,O)}),removeLineWidget:function(p){p.clear()},markText:function(p,v,O){return wl(this,It(this,p),It(this,v),O,O&&O.type||"range")},setBookmark:function(p,v){var O={replacedWith:v&&(v.nodeType==null?v.widget:v),insertLeft:v&&v.insertLeft,clearWhenEmpty:!1,shared:v&&v.shared,handleMouseEvents:v&&v.handleMouseEvents};return p=It(this,p),wl(this,p,p,O,"bookmark")},findMarksAt:function(p){p=It(this,p);var v=[],O=$(this,p.line).markedSpans;if(O)for(var E=0;E<O.length;++E){var P=O[E];(P.from==null||P.from<=p.ch)&&(P.to==null||P.to>=p.ch)&&v.push(P.marker.parent||P.marker)}return v},findMarks:function(p,v,O){p=It(this,p),v=It(this,v);var E=[],P=p.line;return this.iter(p.line,v.line+1,function(H){var K=H.markedSpans;if(K)for(var re=0;re<K.length;re++){var le=K[re];!(le.to!=null&&P==p.line&&p.ch>=le.to||le.from==null&&P!=p.line||le.from!=null&&P==v.line&&le.from>=v.ch)&&(!O||O(le.marker))&&E.push(le.marker.parent||le.marker)}++P}),E},getAllMarks:function(){var p=[];return this.iter(function(v){var O=v.markedSpans;if(O)for(var E=0;E<O.length;++E)O[E].from!=null&&p.push(O[E].marker)}),p},posFromIndex:function(p){var v,O=this.first,E=this.lineSeparator().length;return this.iter(function(P){var H=P.text.length+E;if(H>p)return v=p,!0;p-=H,++O}),It(this,dt(O,v))},indexFromPos:function(p){p=It(this,p);var v=p.ch;if(p.line<this.first||p.ch<0)return 0;var O=this.lineSeparator().length;return this.iter(this.first,p.line,function(E){v+=E.text.length+O}),v},copy:function(p){var v=new ko(J(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return v.scrollTop=this.scrollTop,v.scrollLeft=this.scrollLeft,v.sel=this.sel,v.extend=!1,p&&(v.history.undoDepth=this.history.undoDepth,v.setHistory(this.getHistory())),v},linkedDoc:function(p){p||(p={});var v=this.first,O=this.first+this.size;p.from!=null&&p.from>v&&(v=p.from),p.to!=null&&p.to<O&&(O=p.to);var E=new ko(J(this,v,O),p.mode||this.modeOption,v,this.lineSep,this.direction);return p.sharedHist&&(E.history=this.history),(this.linked||(this.linked=[])).push({doc:E,sharedHist:p.sharedHist}),E.linked=[{doc:this,isParent:!0,sharedHist:p.sharedHist}],dv(E,q1(this)),E},unlinkDoc:function(p){if(p instanceof ai&&(p=p.doc),this.linked)for(var v=0;v<this.linked.length;++v){var O=this.linked[v];if(O.doc==p){this.linked.splice(v,1),p.unlinkDoc(this),ac(q1(this));break}}if(p.history==this.history){var E=[p.id];vt(p,function(P){return E.push(P.id)},!0),p.history=new rt(null),p.history.done=en(this.history.done,E),p.history.undone=en(this.history.undone,E)}},iterLinkedDocs:function(p){vt(this,p)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(p){return this.lineSep?p.split(this.lineSep):Er(p)},lineSeparator:function(){return this.lineSep||`
`},setDirection:Sn(function(p){p!="rtl"&&(p="ltr"),p!=this.direction&&(this.direction=p,this.iter(function(v){return v.order=null}),this.cm&&St(this.cm))})}),ko.prototype.eachLine=ko.prototype.iter;var G1=0;function K1(p){var v=this;if(hv(v),!(At(v,p)||Mn(v.display,p))){vr(p),s&&(G1=+new Date);var O=Da(v,p,!0),E=p.dataTransfer.files;if(!(!O||v.isReadOnly()))if(E&&E.length&&window.FileReader&&window.File)for(var P=E.length,H=Array(P),K=0,re=function(){++K==P&&Ci(v,function(){O=It(v.doc,O);var ot={from:O,to:O,text:v.doc.splitLines(H.filter(function(_t){return _t!=null}).join(v.doc.lineSeparator())),origin:"paste"};Ra(v.doc,ot),No(v.doc,q(It(v.doc,O),It(v.doc,ne(ot))))})()},le=function(ot,_t){if(v.options.allowDropFileTypes&&ae(v.options.allowDropFileTypes,ot.type)==-1){re();return}var jt=new FileReader;jt.onerror=function(){return re()},jt.onload=function(){var zt=jt.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(zt)){re();return}H[_t]=zt,re()},jt.readAsText(ot)},pe=0;pe<E.length;pe++)le(E[pe],pe);else{if(v.state.draggingText&&v.doc.sel.contains(O)>-1){v.state.draggingText(p),setTimeout(function(){return v.display.input.focus()},20);return}try{var Ve=p.dataTransfer.getData("Text");if(Ve){var Xe;if(v.state.draggingText&&!v.state.draggingText.copy&&(Xe=v.listSelections()),go(v.doc,q(O,O)),Xe)for(var ct=0;ct<Xe.length;++ct)Rc(v.doc,"",Xe[ct].anchor,Xe[ct].head,"drag");v.replaceSelection(Ve,"around","paste"),v.display.input.focus()}}catch{}}}}function Xd(p,v){if(s&&(!p.state.draggingText||+new Date-G1<100)){ge(v);return}if(!(At(p,v)||Mn(p.display,v))&&(v.dataTransfer.setData("Text",p.getSelection()),v.dataTransfer.effectAllowed="copyMove",v.dataTransfer.setDragImage&&!d)){var O=I("img",null,null,"position: fixed; left: 0; top: 0;");O.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",h&&(O.width=O.height=1,p.display.wrapper.appendChild(O),O._top=O.offsetTop),v.dataTransfer.setDragImage(O,0,0),h&&O.parentNode.removeChild(O)}}function Y1(p,v){var O=Da(p,v);if(O){var E=document.createDocumentFragment();Rs(p,O,E),p.display.dragCursor||(p.display.dragCursor=I("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),p.display.lineSpace.insertBefore(p.display.dragCursor,p.display.cursorDiv)),M(p.display.dragCursor,E)}}function hv(p){p.display.dragCursor&&(p.display.lineSpace.removeChild(p.display.dragCursor),p.display.dragCursor=null)}function Af(p){if(document.getElementsByClassName){for(var v=document.getElementsByClassName("CodeMirror"),O=[],E=0;E<v.length;E++){var P=v[E].CodeMirror;P&&O.push(P)}O.length&&O[0].operation(function(){for(var H=0;H<O.length;H++)p(O[H])})}}var Zd=!1;function Nf(){Zd||(X1(),Zd=!0)}function X1(){var p;Ie(window,"resize",function(){p==null&&(p=setTimeout(function(){p=null,Af(o2)},100))}),Ie(window,"blur",function(){return Af(eo)})}function o2(p){var v=p.display;v.cachedCharWidth=v.cachedTextHeight=v.cachedPaddingH=null,v.scrollbarsClipped=!1,p.setSize()}for(var hs={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Au=0;Au<10;Au++)hs[Au+48]=hs[Au+96]=String(Au);for(var Nu=65;Nu<=90;Nu++)hs[Nu]=String.fromCharCode(Nu);for(var Fa=1;Fa<=12;Fa++)hs[Fa+111]=hs[Fa+63235]="F"+Fa;var Us={};Us.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Us.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Us.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Us.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Us.default=S?Us.macDefault:Us.pcDefault;function Z1(p){var v=p.split(/-(?!$)/);p=v[v.length-1];for(var O,E,P,H,K=0;K<v.length-1;K++){var re=v[K];if(/^(cmd|meta|m)$/i.test(re))H=!0;else if(/^a(lt)?$/i.test(re))O=!0;else if(/^(c|ctrl|control)$/i.test(re))E=!0;else if(/^s(hift)?$/i.test(re))P=!0;else throw new Error("Unrecognized modifier name: "+re)}return O&&(p="Alt-"+p),E&&(p="Ctrl-"+p),H&&(p="Cmd-"+p),P&&(p="Shift-"+p),p}function a2(p){var v={};for(var O in p)if(p.hasOwnProperty(O)){var E=p[O];if(/^(name|fallthrough|(de|at)tach)$/.test(O))continue;if(E=="..."){delete p[O];continue}for(var P=Ue(O.split(" "),Z1),H=0;H<P.length;H++){var K=void 0,re=void 0;H==P.length-1?(re=P.join(" "),K=E):(re=P.slice(0,H+1).join(" "),K="...");var le=v[re];if(!le)v[re]=K;else if(le!=K)throw new Error("Inconsistent bindings for "+re)}delete p[O]}for(var pe in v)p[pe]=v[pe];return p}function Fc(p,v,O,E){v=Jd(v);var P=v.call?v.call(p,E):v[p];if(P===!1)return"nothing";if(P==="...")return"multi";if(P!=null&&O(P))return"handled";if(v.fallthrough){if(Object.prototype.toString.call(v.fallthrough)!="[object Array]")return Fc(p,v.fallthrough,O,E);for(var H=0;H<v.fallthrough.length;H++){var K=Fc(p,v.fallthrough[H],O,E);if(K)return K}}}function Bc(p){var v=typeof p=="string"?p:hs[p.keyCode];return v=="Ctrl"||v=="Alt"||v=="Shift"||v=="Mod"}function J1(p,v,O){var E=p;return v.altKey&&E!="Alt"&&(p="Alt-"+p),(N?v.metaKey:v.ctrlKey)&&E!="Ctrl"&&(p="Ctrl-"+p),(N?v.ctrlKey:v.metaKey)&&E!="Mod"&&(p="Cmd-"+p),!O&&v.shiftKey&&E!="Shift"&&(p="Shift-"+p),p}function pv(p,v){if(h&&p.keyCode==34&&p.char)return!1;var O=hs[p.keyCode];return O==null||p.altGraphKey?!1:(p.keyCode==3&&p.code&&(O=p.code),J1(O,p,v))}function Jd(p){return typeof p=="string"?Us[p]:p}function Hc(p,v){for(var O=p.doc.sel.ranges,E=[],P=0;P<O.length;P++){for(var H=v(O[P]);E.length&&ie(H.from,$e(E).to)<=0;){var K=E.pop();if(ie(K.from,H.from)<0){H.from=K.from;break}}E.push(H)}$o(p,function(){for(var re=E.length-1;re>=0;re--)Rc(p.doc,"",E[re].from,E[re].to,"+delete");tc(p)})}function vv(p,v,O){var E=Ye(p.text,v+O,O);return E<0||E>p.text.length?null:E}function $c(p,v,O){var E=vv(p,v.ch,O);return E==null?null:new dt(v.line,E,O<0?"after":"before")}function Pf(p,v,O,E,P){if(p){v.doc.direction=="rtl"&&(P=-P);var H=ee(O,v.doc.direction);if(H){var K=P<0?$e(H):H[0],re=P<0==(K.level==1),le=re?"after":"before",pe;if(K.level>0||v.doc.direction=="rtl"){var Ve=xt(v,O);pe=P<0?O.text.length-1:0;var Xe=Vt(v,Ve,pe).top;pe=bt(function(ct){return Vt(v,Ve,ct).top==Xe},P<0==(K.level==1)?K.from:K.to-1,pe),le=="before"&&(pe=vv(O,pe,1))}else pe=P<0?K.to:K.from;return new dt(E,pe,le)}}return new dt(E,P<0?O.text.length:0,P<0?"before":"after")}function Qd(p,v,O,E){var P=ee(v,p.doc.direction);if(!P)return $c(v,O,E);O.ch>=v.text.length?(O.ch=v.text.length,O.sticky="before"):O.ch<=0&&(O.ch=0,O.sticky="after");var H=Oe(P,O.ch,O.sticky),K=P[H];if(p.doc.direction=="ltr"&&K.level%2==0&&(E>0?K.to>O.ch:K.from<O.ch))return $c(v,O,E);var re=function(Yt,rr){return vv(v,Yt instanceof dt?Yt.ch:Yt,rr)},le,pe=function(Yt){return p.options.lineWrapping?(le=le||xt(p,v),Ds(p,v,le,Yt)):{begin:0,end:v.text.length}},Ve=pe(O.sticky=="before"?re(O,-1):O.ch);if(p.doc.direction=="rtl"||K.level==1){var Xe=K.level==1==E<0,ct=re(O,Xe?1:-1);if(ct!=null&&(Xe?ct<=K.to&&ct<=Ve.end:ct>=K.from&&ct>=Ve.begin)){var ot=Xe?"before":"after";return new dt(O.line,ct,ot)}}var _t=function(Yt,rr,Xt){for(var ir=function(Bn,to){return to?new dt(O.line,re(Bn,1),"before"):new dt(O.line,Bn,"after")};Yt>=0&&Yt<P.length;Yt+=rr){var Cr=P[Yt],yr=rr>0==(Cr.level!=1),rn=yr?Xt.begin:re(Xt.end,-1);if(Cr.from<=rn&&rn<Cr.to||(rn=yr?Cr.from:re(Cr.to,-1),Xt.begin<=rn&&rn<Xt.end))return ir(rn,yr)}},jt=_t(H+E,E,Ve);if(jt)return jt;var zt=E>0?Ve.end:re(Ve.begin,-1);return zt!=null&&!(E>0&&zt==v.text.length)&&(jt=_t(E>0?0:P.length-1,E,pe(zt)),jt)?jt:null}var fa={selectAll:Ri,singleSelection:function(p){return p.setSelection(p.getCursor("anchor"),p.getCursor("head"),Ee)},killLine:function(p){return Hc(p,function(v){if(v.empty()){var O=$(p.doc,v.head.line).text.length;return v.head.ch==O&&v.head.line<p.lastLine()?{from:v.head,to:dt(v.head.line+1,0)}:{from:v.head,to:dt(v.head.line,O)}}else return{from:v.from(),to:v.to()}})},deleteLine:function(p){return Hc(p,function(v){return{from:dt(v.from().line,0),to:It(p.doc,dt(v.to().line+1,0))}})},delLineLeft:function(p){return Hc(p,function(v){return{from:dt(v.from().line,0),to:v.from()}})},delWrappedLineLeft:function(p){return Hc(p,function(v){var O=p.charCoords(v.head,"div").top+5,E=p.coordsChar({left:0,top:O},"div");return{from:E,to:v.from()}})},delWrappedLineRight:function(p){return Hc(p,function(v){var O=p.charCoords(v.head,"div").top+5,E=p.coordsChar({left:p.display.lineDiv.offsetWidth+100,top:O},"div");return{from:v.from(),to:E}})},undo:function(p){return p.undo()},redo:function(p){return p.redo()},undoSelection:function(p){return p.undoSelection()},redoSelection:function(p){return p.redoSelection()},goDocStart:function(p){return p.extendSelection(dt(p.firstLine(),0))},goDocEnd:function(p){return p.extendSelection(dt(p.lastLine()))},goLineStart:function(p){return p.extendSelectionsBy(function(v){return Sl(p,v.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(p){return p.extendSelectionsBy(function(v){return jf(p,v.head)},{origin:"+move",bias:1})},goLineEnd:function(p){return p.extendSelectionsBy(function(v){return sc(p,v.head.line)},{origin:"+move",bias:-1})},goLineRight:function(p){return p.extendSelectionsBy(function(v){var O=p.cursorCoords(v.head,"div").top+5;return p.coordsChar({left:p.display.lineDiv.offsetWidth+100,top:O},"div")},He)},goLineLeft:function(p){return p.extendSelectionsBy(function(v){var O=p.cursorCoords(v.head,"div").top+5;return p.coordsChar({left:0,top:O},"div")},He)},goLineLeftSmart:function(p){return p.extendSelectionsBy(function(v){var O=p.cursorCoords(v.head,"div").top+5,E=p.coordsChar({left:0,top:O},"div");return E.ch<p.getLine(E.line).search(/\S/)?jf(p,v.head):E},He)},goLineUp:function(p){return p.moveV(-1,"line")},goLineDown:function(p){return p.moveV(1,"line")},goPageUp:function(p){return p.moveV(-1,"page")},goPageDown:function(p){return p.moveV(1,"page")},goCharLeft:function(p){return p.moveH(-1,"char")},goCharRight:function(p){return p.moveH(1,"char")},goColumnLeft:function(p){return p.moveH(-1,"column")},goColumnRight:function(p){return p.moveH(1,"column")},goWordLeft:function(p){return p.moveH(-1,"word")},goGroupRight:function(p){return p.moveH(1,"group")},goGroupLeft:function(p){return p.moveH(-1,"group")},goWordRight:function(p){return p.moveH(1,"word")},delCharBefore:function(p){return p.deleteH(-1,"codepoint")},delCharAfter:function(p){return p.deleteH(1,"char")},delWordBefore:function(p){return p.deleteH(-1,"word")},delWordAfter:function(p){return p.deleteH(1,"word")},delGroupBefore:function(p){return p.deleteH(-1,"group")},delGroupAfter:function(p){return p.deleteH(1,"group")},indentAuto:function(p){return p.indentSelection("smart")},indentMore:function(p){return p.indentSelection("add")},indentLess:function(p){return p.indentSelection("subtract")},insertTab:function(p){return p.replaceSelection("	")},insertSoftTab:function(p){for(var v=[],O=p.listSelections(),E=p.options.tabSize,P=0;P<O.length;P++){var H=O[P].from(),K=Z(p.getLine(H.line),H.ch,E);v.push(ce(E-K%E))}p.replaceSelections(v)},defaultTab:function(p){p.somethingSelected()?p.indentSelection("add"):p.execCommand("insertTab")},transposeChars:function(p){return $o(p,function(){for(var v=p.listSelections(),O=[],E=0;E<v.length;E++)if(v[E].empty()){var P=v[E].head,H=$(p.doc,P.line).text;if(H){if(P.ch==H.length&&(P=new dt(P.line,P.ch-1)),P.ch>0)P=new dt(P.line,P.ch+1),p.replaceRange(H.charAt(P.ch-1)+H.charAt(P.ch-2),dt(P.line,P.ch-2),P,"+transpose");else if(P.line>p.doc.first){var K=$(p.doc,P.line-1).text;K&&(P=new dt(P.line,1),p.replaceRange(H.charAt(0)+p.doc.lineSeparator()+K.charAt(K.length-1),dt(P.line-1,K.length-1),P,"+transpose"))}}O.push(new k(P,P))}p.setSelections(O)})},newlineAndIndent:function(p){return $o(p,function(){for(var v=p.listSelections(),O=v.length-1;O>=0;O--)p.replaceRange(p.doc.lineSeparator(),v[O].anchor,v[O].head,"+input");v=p.listSelections();for(var E=0;E<v.length;E++)p.indentLine(v[E].from().line,null,!0);tc(p)})},openLine:function(p){return p.replaceSelection(`
`,"start")},toggleOverwrite:function(p){return p.toggleOverwrite()}};function Sl(p,v){var O=$(p.doc,v),E=bn(O);return E!=O&&(v=it(E)),Pf(!0,p,E,v,1)}function sc(p,v){var O=$(p.doc,v),E=$n(O);return E!=O&&(v=it(E)),Pf(!0,p,O,v,-1)}function jf(p,v){var O=Sl(p,v.line),E=$(p.doc,O.line),P=ee(E,p.doc.direction);if(!P||P[0].level==0){var H=Math.max(O.ch,E.text.search(/\S/)),K=v.line==O.line&&v.ch<=H&&v.ch;return dt(O.line,K?0:H,O.sticky)}return O}function Pu(p,v,O){if(typeof v=="string"&&(v=fa[v],!v))return!1;p.display.input.ensurePolled();var E=p.display.shift,P=!1;try{p.isReadOnly()&&(p.state.suppressEdits=!0),O&&(p.display.shift=!1),P=v(p)!=me}finally{p.display.shift=E,p.state.suppressEdits=!1}return P}function Q1(p,v,O){for(var E=0;E<p.state.keyMaps.length;E++){var P=Fc(v,p.state.keyMaps[E],O,p);if(P)return P}return p.options.extraKeys&&Fc(v,p.options.extraKeys,O,p)||Fc(v,p.options.keyMap,O,p)}var s2=new X;function Uc(p,v,O,E){var P=p.state.keySeq;if(P){if(Bc(v))return"handled";if(/\'$/.test(v)?p.state.keySeq=null:s2.set(50,function(){p.state.keySeq==P&&(p.state.keySeq=null,p.display.input.reset())}),eh(p,P+" "+v,O,E))return!0}return eh(p,v,O,E)}function eh(p,v,O,E){var P=Q1(p,v,E);return P=="multi"&&(p.state.keySeq=v),P=="handled"&&U(p,"keyHandled",p,v,O),(P=="handled"||P=="multi")&&(vr(O),wu(p)),!!P}function rC(p,v){var O=pv(v,!0);return O?v.shiftKey&&!p.state.keySeq?Uc(p,"Shift-"+O,v,function(E){return Pu(p,E,!0)})||Uc(p,O,v,function(E){if(typeof E=="string"?/^go[A-Z]/.test(E):E.motion)return Pu(p,E)}):Uc(p,O,v,function(E){return Pu(p,E)}):!1}function BD(p,v,O){return Uc(p,"'"+O+"'",v,function(E){return Pu(p,E,!0)})}var l2=null;function nC(p){var v=this;if(!(p.target&&p.target!=v.display.input.getField())&&(v.curOp.focus=G(),!At(v,p))){s&&l<11&&p.keyCode==27&&(p.returnValue=!1);var O=p.keyCode;v.display.shift=O==16||p.shiftKey;var E=rC(v,p);h&&(l2=E?O:null,!E&&O==88&&!Ir&&(S?p.metaKey:p.ctrlKey)&&v.replaceSelection("",null,"cut")),r&&!S&&!E&&O==46&&p.shiftKey&&!p.ctrlKey&&document.execCommand&&document.execCommand("cut"),O==18&&!/\bCodeMirror-crosshair\b/.test(v.display.lineDiv.className)&&HD(v)}}function HD(p){var v=p.display.lineDiv;W(v,"CodeMirror-crosshair");function O(E){(E.keyCode==18||!E.altKey)&&(R(v,"CodeMirror-crosshair"),wt(document,"keyup",O),wt(document,"mouseover",O))}Ie(document,"keyup",O),Ie(document,"mouseover",O)}function iC(p){p.keyCode==16&&(this.doc.sel.shift=!1),At(this,p)}function oC(p){var v=this;if(!(p.target&&p.target!=v.display.input.getField())&&!(Mn(v.display,p)||At(v,p)||p.ctrlKey&&!p.altKey||S&&p.metaKey)){var O=p.keyCode,E=p.charCode;if(h&&O==l2){l2=null,vr(p);return}if(!(h&&(!p.which||p.which<10)&&rC(v,p))){var P=String.fromCharCode(E??O);P!="\b"&&(BD(v,p,P)||v.display.input.onKeyPress(p))}}}var $D=400,c2=function(p,v,O){this.time=p,this.pos=v,this.button=O};c2.prototype.compare=function(p,v,O){return this.time+$D>p&&ie(v,this.pos)==0&&O==this.button};var gv,mv;function UD(p,v){var O=+new Date;return mv&&mv.compare(O,p,v)?(gv=mv=null,"triple"):gv&&gv.compare(O,p,v)?(mv=new c2(O,p,v),gv=null,"double"):(gv=new c2(O,p,v),mv=null,"single")}function aC(p){var v=this,O=v.display;if(!(At(v,p)||O.activeTouch&&O.input.supportsTouch())){if(O.input.ensurePolled(),O.shift=p.shiftKey,Mn(O,p)){c||(O.scroller.draggable=!1,setTimeout(function(){return O.scroller.draggable=!0},100));return}if(!u2(v,p)){var E=Da(v,p),P=et(p),H=E?UD(E,P):"single";window.focus(),P==1&&v.state.selectingText&&v.state.selectingText(p),!(E&&VD(v,P,E,H,p))&&(P==1?E?WD(v,E,H,p):We(p)==O.scroller&&vr(p):P==2?(E&&wn(v.doc,E),setTimeout(function(){return O.input.focus()},20)):P==3&&(A?v.display.input.onContextMenu(p):_u(v)))}}}function VD(p,v,O,E,P){var H="Click";return E=="double"?H="Double"+H:E=="triple"&&(H="Triple"+H),H=(v==1?"Left":v==2?"Middle":"Right")+H,Uc(p,J1(H,P),P,function(K){if(typeof K=="string"&&(K=fa[K]),!K)return!1;var re=!1;try{p.isReadOnly()&&(p.state.suppressEdits=!0),re=K(p,O)!=me}finally{p.state.suppressEdits=!1}return re})}function zD(p,v,O){var E=p.getOption("configureMouse"),P=E?E(p,v,O):{};if(P.unit==null){var H=T?O.shiftKey&&O.metaKey:O.altKey;P.unit=H?"rectangle":v=="single"?"char":v=="double"?"word":"line"}return(P.extend==null||p.doc.extend)&&(P.extend=p.doc.extend||O.shiftKey),P.addNew==null&&(P.addNew=S?O.metaKey:O.ctrlKey),P.moveOnDrag==null&&(P.moveOnDrag=!(S?O.altKey:O.ctrlKey)),P}function WD(p,v,O,E){s?setTimeout(he(Vd,p),0):p.curOp.focus=G();var P=zD(p,O,E),H=p.doc.sel,K;p.options.dragDrop&&mt&&!p.isReadOnly()&&O=="single"&&(K=H.contains(v))>-1&&(ie((K=H.ranges[K]).from(),v)<0||v.xRel>0)&&(ie(K.to(),v)>0||v.xRel<0)?qD(p,E,v,P):GD(p,E,v,P)}function qD(p,v,O,E){var P=p.display,H=!1,K=Ci(p,function(pe){c&&(P.scroller.draggable=!1),p.state.draggingText=!1,p.state.delayingBlurEvent&&(p.hasFocus()?p.state.delayingBlurEvent=!1:_u(p)),wt(P.wrapper.ownerDocument,"mouseup",K),wt(P.wrapper.ownerDocument,"mousemove",re),wt(P.scroller,"dragstart",le),wt(P.scroller,"drop",K),H||(vr(pe),E.addNew||wn(p.doc,O,null,null,E.extend),c&&!d||s&&l==9?setTimeout(function(){P.wrapper.ownerDocument.body.focus({preventScroll:!0}),P.input.focus()},20):P.input.focus())}),re=function(pe){H=H||Math.abs(v.clientX-pe.clientX)+Math.abs(v.clientY-pe.clientY)>=10},le=function(){return H=!0};c&&(P.scroller.draggable=!0),p.state.draggingText=K,K.copy=!E.moveOnDrag,Ie(P.wrapper.ownerDocument,"mouseup",K),Ie(P.wrapper.ownerDocument,"mousemove",re),Ie(P.scroller,"dragstart",le),Ie(P.scroller,"drop",K),p.state.delayingBlurEvent=!0,setTimeout(function(){return P.input.focus()},20),P.scroller.dragDrop&&P.scroller.dragDrop()}function sC(p,v,O){if(O=="char")return new k(v,v);if(O=="word")return p.findWordAt(v);if(O=="line")return new k(dt(v.line,0),It(p.doc,dt(v.line+1,0)));var E=O(p,v);return new k(E.from,E.to)}function GD(p,v,O,E){s&&_u(p);var P=p.display,H=p.doc;vr(v);var K,re,le=H.sel,pe=le.ranges;if(E.addNew&&!E.extend?(re=H.sel.contains(O),re>-1?K=pe[re]:K=new k(O,O)):(K=H.sel.primary(),re=H.sel.primIndex),E.unit=="rectangle")E.addNew||(K=new k(O,O)),O=Da(p,v,!0,!0),re=-1;else{var Ve=sC(p,O,E.unit);E.extend?K=On(K,Ve.anchor,Ve.head,E.extend):K=Ve}E.addNew?re==-1?(re=pe.length,Wr(H,B(p,pe.concat([K]),re),{scroll:!1,origin:"*mouse"})):pe.length>1&&pe[re].empty()&&E.unit=="char"&&!E.extend?(Wr(H,B(p,pe.slice(0,re).concat(pe.slice(re+1)),0),{scroll:!1,origin:"*mouse"}),le=H.sel):gi(H,re,K,ke):(re=0,Wr(H,new Vo([K],0),ke),le=H.sel);var Xe=O;function ct(Xt){if(ie(Xe,Xt)!=0)if(Xe=Xt,E.unit=="rectangle"){for(var ir=[],Cr=p.options.tabSize,yr=Z($(H,O.line).text,O.ch,Cr),rn=Z($(H,Xt.line).text,Xt.ch,Cr),Bn=Math.min(yr,rn),to=Math.max(yr,rn),mi=Math.min(O.line,Xt.line),Ba=Math.min(p.lastLine(),Math.max(O.line,Xt.line));mi<=Ba;mi++){var da=$(H,mi).text,Fi=Re(da,Bn,Cr);Bn==to?ir.push(new k(dt(mi,Fi),dt(mi,Fi))):da.length>Fi&&ir.push(new k(dt(mi,Fi),dt(mi,Re(da,to,Cr))))}ir.length||ir.push(new k(O,O)),Wr(H,B(p,le.ranges.slice(0,re).concat(ir),re),{origin:"*mouse",scroll:!1}),p.scrollIntoView(Xt)}else{var ha=K,mo=sC(p,Xt,E.unit),Gi=ha.anchor,Bi;ie(mo.anchor,Gi)>0?(Bi=mo.head,Gi=ht(ha.from(),mo.anchor)):(Bi=mo.anchor,Gi=ze(ha.to(),mo.head));var _i=le.ranges.slice(0);_i[re]=KD(p,new k(It(H,Gi),Bi)),Wr(H,B(p,_i,re),ke)}}var ot=P.wrapper.getBoundingClientRect(),_t=0;function jt(Xt){var ir=++_t,Cr=Da(p,Xt,!0,E.unit=="rectangle");if(Cr)if(ie(Cr,Xe)!=0){p.curOp.focus=G(),ct(Cr);var yr=hf(P,H);(Cr.line>=yr.to||Cr.line<yr.from)&&setTimeout(Ci(p,function(){_t==ir&&jt(Xt)}),150)}else{var rn=Xt.clientY<ot.top?-20:Xt.clientY>ot.bottom?20:0;rn&&setTimeout(Ci(p,function(){_t==ir&&(P.scroller.scrollTop+=rn,jt(Xt))}),50)}}function zt(Xt){p.state.selectingText=!1,_t=1/0,Xt&&(vr(Xt),P.input.focus()),wt(P.wrapper.ownerDocument,"mousemove",Yt),wt(P.wrapper.ownerDocument,"mouseup",rr),H.history.lastSelOrigin=null}var Yt=Ci(p,function(Xt){Xt.buttons===0||!et(Xt)?zt(Xt):jt(Xt)}),rr=Ci(p,zt);p.state.selectingText=rr,Ie(P.wrapper.ownerDocument,"mousemove",Yt),Ie(P.wrapper.ownerDocument,"mouseup",rr)}function KD(p,v){var O=v.anchor,E=v.head,P=$(p.doc,O.line);if(ie(O,E)==0&&O.sticky==E.sticky)return v;var H=ee(P);if(!H)return v;var K=Oe(H,O.ch,O.sticky),re=H[K];if(re.from!=O.ch&&re.to!=O.ch)return v;var le=K+(re.from==O.ch==(re.level!=1)?0:1);if(le==0||le==H.length)return v;var pe;if(E.line!=O.line)pe=(E.line-O.line)*(p.doc.direction=="ltr"?1:-1)>0;else{var Ve=Oe(H,E.ch,E.sticky),Xe=Ve-K||(E.ch-O.ch)*(re.level==1?-1:1);Ve==le-1||Ve==le?pe=Xe<0:pe=Xe>0}var ct=H[le+(pe?-1:0)],ot=pe==(ct.level==1),_t=ot?ct.from:ct.to,jt=ot?"after":"before";return O.ch==_t&&O.sticky==jt?v:new k(new dt(O.line,_t,jt),E)}function lC(p,v,O,E){var P,H;if(v.touches)P=v.touches[0].clientX,H=v.touches[0].clientY;else try{P=v.clientX,H=v.clientY}catch{return!1}if(P>=Math.floor(p.display.gutters.getBoundingClientRect().right))return!1;E&&vr(v);var K=p.display,re=K.lineDiv.getBoundingClientRect();if(H>re.bottom||!lr(p,O))return Lr(v);H-=re.top-K.viewOffset;for(var le=0;le<p.display.gutterSpecs.length;++le){var pe=K.gutters.childNodes[le];if(pe&&pe.getBoundingClientRect().right>=P){var Ve=qt(p.doc,H),Xe=p.display.gutterSpecs[le];return Ct(p,O,p,Ve,Xe.className,v),Lr(v)}}}function u2(p,v){return lC(p,v,"gutterClick",!0)}function cC(p,v){Mn(p.display,v)||YD(p,v)||At(p,v,"contextmenu")||A||p.display.input.onContextMenu(v)}function YD(p,v){return lr(p,"gutterContextMenu")?lC(p,v,"gutterContextMenu",!1):!1}function uC(p){p.display.wrapper.className=p.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+p.options.theme.replace(/(^|\s)\s*/g," cm-s-"),vo(p)}var th={toString:function(){return"CodeMirror.Init"}},fC={},em={};function XD(p){var v=p.optionHandlers;function O(E,P,H,K){p.defaults[E]=P,H&&(v[E]=K?function(re,le,pe){pe!=th&&H(re,le,pe)}:H)}p.defineOption=O,p.Init=th,O("value","",function(E,P){return E.setValue(P)},!0),O("mode",null,function(E,P){E.doc.modeOption=P,Le(E)},!0),O("indentUnit",2,Le,!0),O("indentWithTabs",!1),O("smartIndent",!0),O("tabSize",4,function(E){Be(E),vo(E),vi(E)},!0),O("lineSeparator",null,function(E,P){if(E.doc.lineSep=P,!!P){var H=[],K=E.doc.first;E.doc.iter(function(le){for(var pe=0;;){var Ve=le.text.indexOf(P,pe);if(Ve==-1)break;pe=Ve+P.length,H.push(dt(K,Ve))}K++});for(var re=H.length-1;re>=0;re--)Rc(E.doc,P,H[re],dt(H[re].line,H[re].ch+P.length))}}),O("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(E,P,H){E.state.specialChars=new RegExp(P.source+(P.test("	")?"":"|	"),"g"),H!=th&&E.refresh()}),O("specialCharPlaceholder",Kl,function(E){return E.refresh()},!0),O("electricChars",!0),O("inputStyle",_?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),O("spellcheck",!1,function(E,P){return E.getInputField().spellcheck=P},!0),O("autocorrect",!1,function(E,P){return E.getInputField().autocorrect=P},!0),O("autocapitalize",!1,function(E,P){return E.getInputField().autocapitalize=P},!0),O("rtlMoveVisually",!C),O("wholeLineUpdateBefore",!0),O("theme","default",function(E){uC(E),_f(E)},!0),O("keyMap","default",function(E,P,H){var K=Jd(P),re=H!=th&&Jd(H);re&&re.detach&&re.detach(E,K),K.attach&&K.attach(E,re||null)}),O("extraKeys",null),O("configureMouse",null),O("lineWrapping",!1,JD,!0),O("gutters",[],function(E,P){E.display.gutterSpecs=fv(P,E.options.lineNumbers),_f(E)},!0),O("fixedGutter",!0,function(E,P){E.display.gutters.style.left=P?ml(E.display)+"px":"0",E.refresh()},!0),O("coverGutterNextToScrollbar",!1,function(E){return nc(E)},!0),O("scrollbarStyle","native",function(E){R1(E),nc(E),E.display.scrollbars.setScrollTop(E.doc.scrollTop),E.display.scrollbars.setScrollLeft(E.doc.scrollLeft)},!0),O("lineNumbers",!1,function(E,P){E.display.gutterSpecs=fv(E.options.gutters,P),_f(E)},!0),O("firstLineNumber",1,_f,!0),O("lineNumberFormatter",function(E){return E},_f,!0),O("showCursorWhenSelecting",!1,Wn,!0),O("resetSelectionOnContextMenu",!0),O("lineWiseCopyCut",!0),O("pasteLinesPerSelection",!0),O("selectionsMayTouch",!1),O("readOnly",!1,function(E,P){P=="nocursor"&&(eo(E),E.display.input.blur()),E.display.input.readOnlyChanged(P)}),O("screenReaderLabel",null,function(E,P){P=P===""?null:P,E.display.input.screenReaderLabelChanged(P)}),O("disableInput",!1,function(E,P){P||E.display.input.reset()},!0),O("dragDrop",!0,ZD),O("allowDropFileTypes",null),O("cursorBlinkRate",530),O("cursorScrollMargin",0),O("cursorHeight",1,Wn,!0),O("singleCursorHeightPerLine",!0,Wn,!0),O("workTime",100),O("workDelay",100),O("flattenSpans",!0,Be,!0),O("addModeClass",!1,Be,!0),O("pollInterval",100),O("undoDepth",200,function(E,P){return E.doc.history.undoDepth=P}),O("historyEventDelay",1250),O("viewportMargin",10,function(E){return E.refresh()},!0),O("maxHighlightLength",1e4,Be,!0),O("moveInputWithCursor",!0,function(E,P){P||E.display.input.resetPosition()}),O("tabindex",null,function(E,P){return E.display.input.getField().tabIndex=P||""}),O("autofocus",null),O("direction","ltr",function(E,P){return E.doc.setDirection(P)},!0),O("phrases",null)}function ZD(p,v,O){var E=O&&O!=th;if(!v!=!E){var P=p.display.dragFunctions,H=v?Ie:wt;H(p.display.scroller,"dragstart",P.start),H(p.display.scroller,"dragenter",P.enter),H(p.display.scroller,"dragover",P.over),H(p.display.scroller,"dragleave",P.leave),H(p.display.scroller,"drop",P.drop)}}function JD(p){p.options.lineWrapping?(W(p.display.wrapper,"CodeMirror-wrap"),p.display.sizer.style.minWidth="",p.display.sizerWidth=null):(R(p.display.wrapper,"CodeMirror-wrap"),Ps(p)),bl(p),vi(p),vo(p),setTimeout(function(){return nc(p)},100)}function ai(p,v){var O=this;if(!(this instanceof ai))return new ai(p,v);this.options=v=v?z(v):{},z(fC,v,!1);var E=v.value;typeof E=="string"?E=new ko(E,v.mode,null,v.lineSeparator,v.direction):v.mode&&(E.modeOption=v.mode),this.doc=E;var P=new ai.inputStyles[v.inputStyle](this),H=this.display=new t2(p,E,P,v);H.wrapper.CodeMirror=this,uC(this),v.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),R1(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new X,keySeq:null,specialChars:null},v.autofocus&&!_&&H.input.focus(),s&&l<11&&setTimeout(function(){return O.display.input.reset(!0)},20),QD(this),Nf(),ic(this),this.curOp.forceUpdate=!0,ut(this,E),v.autofocus&&!_||this.hasFocus()?setTimeout(function(){O.hasFocus()&&!O.state.focused&&Oo(O)},20):eo(this);for(var K in em)em.hasOwnProperty(K)&&em[K](this,v[K],th);$1(this),v.finishInit&&v.finishInit(this);for(var re=0;re<f2.length;++re)f2[re](this);Lc(this),c&&v.lineWrapping&&getComputedStyle(H.lineDiv).textRendering=="optimizelegibility"&&(H.lineDiv.style.textRendering="auto")}ai.defaults=fC,ai.optionHandlers=em;function QD(p){var v=p.display;Ie(v.scroller,"mousedown",Ci(p,aC)),s&&l<11?Ie(v.scroller,"dblclick",Ci(p,function(le){if(!At(p,le)){var pe=Da(p,le);if(!(!pe||u2(p,le)||Mn(p.display,le))){vr(le);var Ve=p.findWordAt(pe);wn(p.doc,Ve.anchor,Ve.head)}}})):Ie(v.scroller,"dblclick",function(le){return At(p,le)||vr(le)}),Ie(v.scroller,"contextmenu",function(le){return cC(p,le)}),Ie(v.input.getField(),"contextmenu",function(le){v.scroller.contains(le.target)||cC(p,le)});var O,E={end:0};function P(){v.activeTouch&&(O=setTimeout(function(){return v.activeTouch=null},1e3),E=v.activeTouch,E.end=+new Date)}function H(le){if(le.touches.length!=1)return!1;var pe=le.touches[0];return pe.radiusX<=1&&pe.radiusY<=1}function K(le,pe){if(pe.left==null)return!0;var Ve=pe.left-le.left,Xe=pe.top-le.top;return Ve*Ve+Xe*Xe>20*20}Ie(v.scroller,"touchstart",function(le){if(!At(p,le)&&!H(le)&&!u2(p,le)){v.input.ensurePolled(),clearTimeout(O);var pe=+new Date;v.activeTouch={start:pe,moved:!1,prev:pe-E.end<=300?E:null},le.touches.length==1&&(v.activeTouch.left=le.touches[0].pageX,v.activeTouch.top=le.touches[0].pageY)}}),Ie(v.scroller,"touchmove",function(){v.activeTouch&&(v.activeTouch.moved=!0)}),Ie(v.scroller,"touchend",function(le){var pe=v.activeTouch;if(pe&&!Mn(v,le)&&pe.left!=null&&!pe.moved&&new Date-pe.start<300){var Ve=p.coordsChar(v.activeTouch,"page"),Xe;!pe.prev||K(pe,pe.prev)?Xe=new k(Ve,Ve):!pe.prev.prev||K(pe,pe.prev.prev)?Xe=p.findWordAt(Ve):Xe=new k(dt(Ve.line,0),It(p.doc,dt(Ve.line+1,0))),p.setSelection(Xe.anchor,Xe.head),p.focus(),vr(le)}P()}),Ie(v.scroller,"touchcancel",P),Ie(v.scroller,"scroll",function(){v.scroller.clientHeight&&(Su(p,v.scroller.scrollTop),kc(p,v.scroller.scrollLeft,!0),Ct(p,"scroll",p))}),Ie(v.scroller,"mousewheel",function(le){return V1(p,le)}),Ie(v.scroller,"DOMMouseScroll",function(le){return V1(p,le)}),Ie(v.wrapper,"scroll",function(){return v.wrapper.scrollTop=v.wrapper.scrollLeft=0}),v.dragFunctions={enter:function(le){At(p,le)||ge(le)},over:function(le){At(p,le)||(Y1(p,le),ge(le))},start:function(le){return Xd(p,le)},drop:Ci(p,K1),leave:function(le){At(p,le)||hv(p)}};var re=v.input.getField();Ie(re,"keyup",function(le){return iC.call(p,le)}),Ie(re,"keydown",Ci(p,nC)),Ie(re,"keypress",Ci(p,oC)),Ie(re,"focus",function(le){return Oo(p,le)}),Ie(re,"blur",function(le){return eo(p,le)})}var f2=[];ai.defineInitHook=function(p){return f2.push(p)};function yv(p,v,O,E){var P=p.doc,H;O==null&&(O="add"),O=="smart"&&(P.mode.indent?H=oa(p,v).state:O="prev");var K=p.options.tabSize,re=$(P,v),le=Z(re.text,null,K);re.stateAfter&&(re.stateAfter=null);var pe=re.text.match(/^\s*/)[0],Ve;if(!E&&!/\S/.test(re.text))Ve=0,O="not";else if(O=="smart"&&(Ve=P.mode.indent(H,re.text.slice(pe.length),re.text),Ve==me||Ve>150)){if(!E)return;O="prev"}O=="prev"?v>P.first?Ve=Z($(P,v-1).text,null,K):Ve=0:O=="add"?Ve=le+p.options.indentUnit:O=="subtract"?Ve=le-p.options.indentUnit:typeof O=="number"&&(Ve=le+O),Ve=Math.max(0,Ve);var Xe="",ct=0;if(p.options.indentWithTabs)for(var ot=Math.floor(Ve/K);ot;--ot)ct+=K,Xe+="	";if(ct<Ve&&(Xe+=ce(Ve-ct)),Xe!=pe)return Rc(P,Xe,dt(v,0),dt(v,pe.length),"+input"),re.stateAfter=null,!0;for(var _t=0;_t<P.sel.ranges.length;_t++){var jt=P.sel.ranges[_t];if(jt.head.line==v&&jt.head.ch<pe.length){var zt=dt(v,pe.length);gi(P,_t,new k(zt,zt));break}}}var Tl=null;function tm(p){Tl=p}function d2(p,v,O,E,P){var H=p.doc;p.display.shift=!1,E||(E=H.sel);var K=+new Date-200,re=P=="paste"||p.state.pasteIncoming>K,le=Er(v),pe=null;if(re&&E.ranges.length>1)if(Tl&&Tl.text.join(`
`)==v){if(E.ranges.length%Tl.text.length==0){pe=[];for(var Ve=0;Ve<Tl.text.length;Ve++)pe.push(H.splitLines(Tl.text[Ve]))}}else le.length==E.ranges.length&&p.options.pasteLinesPerSelection&&(pe=Ue(le,function(Yt){return[Yt]}));for(var Xe=p.curOp.updateInput,ct=E.ranges.length-1;ct>=0;ct--){var ot=E.ranges[ct],_t=ot.from(),jt=ot.to();ot.empty()&&(O&&O>0?_t=dt(_t.line,_t.ch-O):p.state.overwrite&&!re?jt=dt(jt.line,Math.min($(H,jt.line).text.length,jt.ch+$e(le).length)):re&&Tl&&Tl.lineWise&&Tl.text.join(`
`)==le.join(`
`)&&(_t=jt=dt(_t.line,0)));var zt={from:_t,to:jt,text:pe?pe[ct%pe.length]:le,origin:P||(re?"paste":p.state.cutIncoming>K?"cut":"+input")};Ra(p.doc,zt),U(p,"inputRead",p,zt)}v&&!re&&hC(p,v),tc(p),p.curOp.updateInput<2&&(p.curOp.updateInput=Xe),p.curOp.typing=!0,p.state.pasteIncoming=p.state.cutIncoming=-1}function dC(p,v){var O=p.clipboardData&&p.clipboardData.getData("Text");if(O)return p.preventDefault(),!v.isReadOnly()&&!v.options.disableInput&&$o(v,function(){return d2(v,O,0,null,"paste")}),!0}function hC(p,v){if(!(!p.options.electricChars||!p.options.smartIndent))for(var O=p.doc.sel,E=O.ranges.length-1;E>=0;E--){var P=O.ranges[E];if(!(P.head.ch>100||E&&O.ranges[E-1].head.line==P.head.line)){var H=p.getModeAt(P.head),K=!1;if(H.electricChars){for(var re=0;re<H.electricChars.length;re++)if(v.indexOf(H.electricChars.charAt(re))>-1){K=yv(p,P.head.line,"smart");break}}else H.electricInput&&H.electricInput.test($(p.doc,P.head.line).text.slice(0,P.head.ch))&&(K=yv(p,P.head.line,"smart"));K&&U(p,"electricInput",p,P.head.line)}}}function pC(p){for(var v=[],O=[],E=0;E<p.doc.sel.ranges.length;E++){var P=p.doc.sel.ranges[E].head.line,H={anchor:dt(P,0),head:dt(P+1,0)};O.push(H),v.push(p.getRange(H.anchor,H.head))}return{text:v,ranges:O}}function vC(p,v,O,E){p.setAttribute("autocorrect",O?"":"off"),p.setAttribute("autocapitalize",E?"":"off"),p.setAttribute("spellcheck",!!v)}function gC(){var p=I("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),v=I("div",[p],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return c?p.style.width="1000px":p.setAttribute("wrap","off"),x&&(p.style.border="1px solid black"),vC(p),v}function eI(p){var v=p.optionHandlers,O=p.helpers={};p.prototype={constructor:p,focus:function(){window.focus(),this.display.input.focus()},setOption:function(E,P){var H=this.options,K=H[E];H[E]==P&&E!="mode"||(H[E]=P,v.hasOwnProperty(E)&&Ci(this,v[E])(this,P,K),Ct(this,"optionChange",this,E))},getOption:function(E){return this.options[E]},getDoc:function(){return this.doc},addKeyMap:function(E,P){this.state.keyMaps[P?"push":"unshift"](Jd(E))},removeKeyMap:function(E){for(var P=this.state.keyMaps,H=0;H<P.length;++H)if(P[H]==E||P[H].name==E)return P.splice(H,1),!0},addOverlay:ii(function(E,P){var H=E.token?E:p.getMode(this.options,E);if(H.startState)throw new Error("Overlays may not be stateful.");Te(this.state.overlays,{mode:H,modeSpec:E,opaque:P&&P.opaque,priority:P&&P.priority||0},function(K){return K.priority}),this.state.modeGen++,vi(this)}),removeOverlay:ii(function(E){for(var P=this.state.overlays,H=0;H<P.length;++H){var K=P[H].modeSpec;if(K==E||typeof E=="string"&&K.name==E){P.splice(H,1),this.state.modeGen++,vi(this);return}}}),indentLine:ii(function(E,P,H){typeof P!="string"&&typeof P!="number"&&(P==null?P=this.options.smartIndent?"smart":"prev":P=P?"add":"subtract"),fn(this.doc,E)&&yv(this,E,P,H)}),indentSelection:ii(function(E){for(var P=this.doc.sel.ranges,H=-1,K=0;K<P.length;K++){var re=P[K];if(re.empty())re.head.line>H&&(yv(this,re.head.line,E,!0),H=re.head.line,K==this.doc.sel.primIndex&&tc(this));else{var le=re.from(),pe=re.to(),Ve=Math.max(H,le.line);H=Math.min(this.lastLine(),pe.line-(pe.ch?0:1))+1;for(var Xe=Ve;Xe<H;++Xe)yv(this,Xe,E);var ct=this.doc.sel.ranges;le.ch==0&&P.length==ct.length&&ct[K].from().ch>0&&gi(this.doc,K,new k(le,ct[K].to()),Ee)}}}),getTokenAt:function(E,P){return ns(this,E,P)},getLineTokens:function(E,P){return ns(this,dt(E),P,!0)},getTokenTypeAt:function(E){E=It(this.doc,E);var P=bi(this,$(this.doc,E.line)),H=0,K=(P.length-1)/2,re=E.ch,le;if(re==0)le=P[2];else for(;;){var pe=H+K>>1;if((pe?P[pe*2-1]:0)>=re)K=pe;else if(P[pe*2+1]<re)H=pe+1;else{le=P[pe*2+2];break}}var Ve=le?le.indexOf("overlay "):-1;return Ve<0?le:Ve==0?null:le.slice(0,Ve-1)},getModeAt:function(E){var P=this.doc.mode;return P.innerMode?p.innerMode(P,this.getTokenAt(E).state).mode:P},getHelper:function(E,P){return this.getHelpers(E,P)[0]},getHelpers:function(E,P){var H=[];if(!O.hasOwnProperty(P))return H;var K=O[P],re=this.getModeAt(E);if(typeof re[P]=="string")K[re[P]]&&H.push(K[re[P]]);else if(re[P])for(var le=0;le<re[P].length;le++){var pe=K[re[P][le]];pe&&H.push(pe)}else re.helperType&&K[re.helperType]?H.push(K[re.helperType]):K[re.name]&&H.push(K[re.name]);for(var Ve=0;Ve<K._global.length;Ve++){var Xe=K._global[Ve];Xe.pred(re,this)&&ae(H,Xe.val)==-1&&H.push(Xe.val)}return H},getStateAfter:function(E,P){var H=this.doc;return E=Nt(H,E??H.first+H.size-1),oa(this,E+1,P).state},cursorCoords:function(E,P){var H,K=this.doc.sel.primary();return E==null?H=K.head:typeof E=="object"?H=It(this.doc,E):H=E?K.from():K.to(),zn(this,H,P||"page")},charCoords:function(E,P){return Qi(this,It(this.doc,E),P||"page")},coordsChar:function(E,P){return E=Ql(this,E,P||"page"),cs(this,E.left,E.top)},lineAtHeight:function(E,P){return E=Ql(this,{top:E,left:0},P||"page").top,qt(this.doc,E+this.display.viewOffset)},heightAtLine:function(E,P,H){var K=!1,re;if(typeof E=="number"){var le=this.doc.first+this.doc.size-1;E<this.doc.first?E=this.doc.first:E>le&&(E=le,K=!0),re=$(this.doc,E)}else re=E;return ss(this,re,{top:0,left:0},P||"page",H||K).top+(K?this.doc.height-wi(re):0)},defaultTextHeight:function(){return vl(this.display)},defaultCharWidth:function(){return Is(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(E,P,H,K,re){var le=this.display;E=zn(this,It(this.doc,E));var pe=E.bottom,Ve=E.left;if(P.style.position="absolute",P.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(P),le.sizer.appendChild(P),K=="over")pe=E.top;else if(K=="above"||K=="near"){var Xe=Math.max(le.wrapper.clientHeight,this.doc.height),ct=Math.max(le.sizer.clientWidth,le.lineSpace.clientWidth);(K=="above"||E.bottom+P.offsetHeight>Xe)&&E.top>P.offsetHeight?pe=E.top-P.offsetHeight:E.bottom+P.offsetHeight<=Xe&&(pe=E.bottom),Ve+P.offsetWidth>ct&&(Ve=ct-P.offsetWidth)}P.style.top=pe+"px",P.style.left=P.style.right="",re=="right"?(Ve=le.sizer.clientWidth-P.offsetWidth,P.style.right="0px"):(re=="left"?Ve=0:re=="middle"&&(Ve=(le.sizer.clientWidth-P.offsetWidth)/2),P.style.left=Ve+"px"),H&&av(this,{left:Ve,top:pe,right:Ve+P.offsetWidth,bottom:pe+P.offsetHeight})},triggerOnKeyDown:ii(nC),triggerOnKeyPress:ii(oC),triggerOnKeyUp:iC,triggerOnMouseDown:ii(aC),execCommand:function(E){if(fa.hasOwnProperty(E))return fa[E].call(null,this)},triggerElectric:ii(function(E){hC(this,E)}),findPosH:function(E,P,H,K){var re=1;P<0&&(re=-1,P=-P);for(var le=It(this.doc,E),pe=0;pe<P&&(le=h2(this.doc,le,re,H,K),!le.hitSide);++pe);return le},moveH:ii(function(E,P){var H=this;this.extendSelectionsBy(function(K){return H.display.shift||H.doc.extend||K.empty()?h2(H.doc,K.head,E,P,H.options.rtlMoveVisually):E<0?K.from():K.to()},He)}),deleteH:ii(function(E,P){var H=this.doc.sel,K=this.doc;H.somethingSelected()?K.replaceSelection("",null,"+delete"):Hc(this,function(re){var le=h2(K,re.head,E,P,!1);return E<0?{from:le,to:re.head}:{from:re.head,to:le}})}),findPosV:function(E,P,H,K){var re=1,le=K;P<0&&(re=-1,P=-P);for(var pe=It(this.doc,E),Ve=0;Ve<P;++Ve){var Xe=zn(this,pe,"div");if(le==null?le=Xe.left:Xe.left=le,pe=mC(this,Xe,re,H),pe.hitSide)break}return pe},moveV:ii(function(E,P){var H=this,K=this.doc,re=[],le=!this.display.shift&&!K.extend&&K.sel.somethingSelected();if(K.extendSelectionsBy(function(Ve){if(le)return E<0?Ve.from():Ve.to();var Xe=zn(H,Ve.head,"div");Ve.goalColumn!=null&&(Xe.left=Ve.goalColumn),re.push(Xe.left);var ct=mC(H,Xe,E,P);return P=="page"&&Ve==K.sel.primary()&&pf(H,Qi(H,ct,"div").top-Xe.top),ct},He),re.length)for(var pe=0;pe<K.sel.ranges.length;pe++)K.sel.ranges[pe].goalColumn=re[pe]}),findWordAt:function(E){var P=this.doc,H=$(P,E.line).text,K=E.ch,re=E.ch;if(H){var le=this.getHelper(E,"wordChars");(E.sticky=="before"||re==H.length)&&K?--K:++re;for(var pe=H.charAt(K),Ve=De(pe,le)?function(Xe){return De(Xe,le)}:/\s/.test(pe)?function(Xe){return/\s/.test(Xe)}:function(Xe){return!/\s/.test(Xe)&&!De(Xe)};K>0&&Ve(H.charAt(K-1));)--K;for(;re<H.length&&Ve(H.charAt(re));)++re}return new k(dt(E.line,K),dt(E.line,re))},toggleOverwrite:function(E){E!=null&&E==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?W(this.display.cursorDiv,"CodeMirror-overwrite"):R(this.display.cursorDiv,"CodeMirror-overwrite"),Ct(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==G()},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:ii(function(E,P){rc(this,E,P)}),getScrollInfo:function(){var E=this.display.scroller;return{left:E.scrollLeft,top:E.scrollTop,height:E.scrollHeight-ri(this)-this.display.barHeight,width:E.scrollWidth-ri(this)-this.display.barWidth,clientHeight:ue(this),clientWidth:ka(this)}},scrollIntoView:ii(function(E,P){E==null?(E={from:this.doc.sel.primary().head,to:null},P==null&&(P=this.options.cursorScrollMargin)):typeof E=="number"?E={from:dt(E,0),to:null}:E.from==null&&(E={from:E,to:null}),E.to||(E.to=E.from),E.margin=P||0,E.from.line!=null?sv(this,E):D1(this,E.from,E.to,E.margin)}),setSize:ii(function(E,P){var H=this,K=function(le){return typeof le=="number"||/^\d+$/.test(String(le))?le+"px":le};E!=null&&(this.display.wrapper.style.width=K(E)),P!=null&&(this.display.wrapper.style.height=K(P)),this.options.lineWrapping&&cf(this);var re=this.display.viewFrom;this.doc.iter(re,this.display.viewTo,function(le){if(le.widgets){for(var pe=0;pe<le.widgets.length;pe++)if(le.widgets[pe].noHScroll){Ia(H,re,"widget");break}}++re}),this.curOp.forceUpdate=!0,Ct(this,"refresh",this)}),operation:function(E){return $o(this,E)},startOperation:function(){return ic(this)},endOperation:function(){return Lc(this)},refresh:ii(function(){var E=this.display.cachedTextHeight;vi(this),this.curOp.forceUpdate=!0,vo(this),rc(this,this.doc.scrollLeft,this.doc.scrollTop),wf(this.display),(E==null||Math.abs(E-vl(this.display))>.5||this.options.lineWrapping)&&bl(this),Ct(this,"refresh",this)}),swapDoc:ii(function(E){var P=this.doc;return P.cm=null,this.state.selectingText&&this.state.selectingText(),ut(this,E),vo(this),this.display.input.reset(),rc(this,E.scrollLeft,E.scrollTop),this.curOp.forceScroll=!0,U(this,"swapDoc",this,P),P}),phrase:function(E){var P=this.options.phrases;return P&&Object.prototype.hasOwnProperty.call(P,E)?P[E]:E},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},nr(p),p.registerHelper=function(E,P,H){O.hasOwnProperty(E)||(O[E]=p[E]={_global:[]}),O[E][P]=H},p.registerGlobalHelper=function(E,P,H,K){p.registerHelper(E,P,K),O[E]._global.push({pred:H,val:K})}}function h2(p,v,O,E,P){var H=v,K=O,re=$(p,v.line),le=P&&p.direction=="rtl"?-O:O;function pe(){var rr=v.line+le;return rr<p.first||rr>=p.first+p.size?!1:(v=new dt(rr,v.ch,v.sticky),re=$(p,rr))}function Ve(rr){var Xt;if(E=="codepoint"){var ir=re.text.charCodeAt(v.ch+(O>0?0:-1));if(isNaN(ir))Xt=null;else{var Cr=O>0?ir>=55296&&ir<56320:ir>=56320&&ir<57343;Xt=new dt(v.line,Math.max(0,Math.min(re.text.length,v.ch+O*(Cr?2:1))),-O)}}else P?Xt=Qd(p.cm,re,v,O):Xt=$c(re,v,O);if(Xt==null)if(!rr&&pe())v=Pf(P,p.cm,re,v.line,le);else return!1;else v=Xt;return!0}if(E=="char"||E=="codepoint")Ve();else if(E=="column")Ve(!0);else if(E=="word"||E=="group")for(var Xe=null,ct=E=="group",ot=p.cm&&p.cm.getHelper(v,"wordChars"),_t=!0;!(O<0&&!Ve(!_t));_t=!1){var jt=re.text.charAt(v.ch)||`
`,zt=De(jt,ot)?"w":ct&&jt==`
`?"n":!ct||/\s/.test(jt)?null:"p";if(ct&&!_t&&!zt&&(zt="s"),Xe&&Xe!=zt){O<0&&(O=1,Ve(),v.sticky="after");break}if(zt&&(Xe=zt),O>0&&!Ve(!_t))break}var Yt=Po(p,v,H,K,!0);return Nr(H,Yt)&&(Yt.hitSide=!0),Yt}function mC(p,v,O,E){var P=p.doc,H=v.left,K;if(E=="page"){var re=Math.min(p.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),le=Math.max(re-.5*vl(p.display),3);K=(O>0?v.bottom:v.top)+O*le}else E=="line"&&(K=O>0?v.bottom+3:v.top-3);for(var pe;pe=cs(p,H,K),!!pe.outside;){if(O<0?K<=0:K>=P.height){pe.hitSide=!0;break}K+=O*5}return pe}var Pn=function(p){this.cm=p,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new X,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Pn.prototype.init=function(p){var v=this,O=this,E=O.cm,P=O.div=p.lineDiv;P.contentEditable=!0,vC(P,E.options.spellcheck,E.options.autocorrect,E.options.autocapitalize);function H(re){for(var le=re.target;le;le=le.parentNode){if(le==P)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(le.className))break}return!1}Ie(P,"paste",function(re){!H(re)||At(E,re)||dC(re,E)||l<=11&&setTimeout(Ci(E,function(){return v.updateFromDOM()}),20)}),Ie(P,"compositionstart",function(re){v.composing={data:re.data,done:!1}}),Ie(P,"compositionupdate",function(re){v.composing||(v.composing={data:re.data,done:!1})}),Ie(P,"compositionend",function(re){v.composing&&(re.data!=v.composing.data&&v.readFromDOMSoon(),v.composing.done=!0)}),Ie(P,"touchstart",function(){return O.forceCompositionEnd()}),Ie(P,"input",function(){v.composing||v.readFromDOMSoon()});function K(re){if(!(!H(re)||At(E,re))){if(E.somethingSelected())tm({lineWise:!1,text:E.getSelections()}),re.type=="cut"&&E.replaceSelection("",null,"cut");else if(E.options.lineWiseCopyCut){var le=pC(E);tm({lineWise:!0,text:le.text}),re.type=="cut"&&E.operation(function(){E.setSelections(le.ranges,0,Ee),E.replaceSelection("",null,"cut")})}else return;if(re.clipboardData){re.clipboardData.clearData();var pe=Tl.text.join(`
`);if(re.clipboardData.setData("Text",pe),re.clipboardData.getData("Text")==pe){re.preventDefault();return}}var Ve=gC(),Xe=Ve.firstChild;E.display.lineSpace.insertBefore(Ve,E.display.lineSpace.firstChild),Xe.value=Tl.text.join(`
`);var ct=G();te(Xe),setTimeout(function(){E.display.lineSpace.removeChild(Ve),ct.focus(),ct==P&&O.showPrimarySelection()},50)}}Ie(P,"copy",K),Ie(P,"cut",K)},Pn.prototype.screenReaderLabelChanged=function(p){p?this.div.setAttribute("aria-label",p):this.div.removeAttribute("aria-label")},Pn.prototype.prepareSelection=function(){var p=Ti(this.cm,!1);return p.focus=G()==this.div,p},Pn.prototype.showSelection=function(p,v){!p||!this.cm.display.view.length||((p.focus||v)&&this.showPrimarySelection(),this.showMultipleSelections(p))},Pn.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Pn.prototype.showPrimarySelection=function(){var p=this.getSelection(),v=this.cm,O=v.doc.sel.primary(),E=O.from(),P=O.to();if(v.display.viewTo==v.display.viewFrom||E.line>=v.display.viewTo||P.line<v.display.viewFrom){p.removeAllRanges();return}var H=rm(v,p.anchorNode,p.anchorOffset),K=rm(v,p.focusNode,p.focusOffset);if(!(H&&!H.bad&&K&&!K.bad&&ie(ht(H,K),E)==0&&ie(ze(H,K),P)==0)){var re=v.display.view,le=E.line>=v.display.viewFrom&&yC(v,E)||{node:re[0].measure.map[2],offset:0},pe=P.line<v.display.viewTo&&yC(v,P);if(!pe){var Ve=re[re.length-1].measure,Xe=Ve.maps?Ve.maps[Ve.maps.length-1]:Ve.map;pe={node:Xe[Xe.length-1],offset:Xe[Xe.length-2]-Xe[Xe.length-3]}}if(!le||!pe){p.removeAllRanges();return}var ct=p.rangeCount&&p.getRangeAt(0),ot;try{ot=V(le.node,le.offset,pe.offset,pe.node)}catch{}ot&&(!r&&v.state.focused?(p.collapse(le.node,le.offset),ot.collapsed||(p.removeAllRanges(),p.addRange(ot))):(p.removeAllRanges(),p.addRange(ot)),ct&&p.anchorNode==null?p.addRange(ct):r&&this.startGracePeriod()),this.rememberSelection()}},Pn.prototype.startGracePeriod=function(){var p=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){p.gracePeriod=!1,p.selectionChanged()&&p.cm.operation(function(){return p.cm.curOp.selectionChanged=!0})},20)},Pn.prototype.showMultipleSelections=function(p){M(this.cm.display.cursorDiv,p.cursors),M(this.cm.display.selectionDiv,p.selection)},Pn.prototype.rememberSelection=function(){var p=this.getSelection();this.lastAnchorNode=p.anchorNode,this.lastAnchorOffset=p.anchorOffset,this.lastFocusNode=p.focusNode,this.lastFocusOffset=p.focusOffset},Pn.prototype.selectionInEditor=function(){var p=this.getSelection();if(!p.rangeCount)return!1;var v=p.getRangeAt(0).commonAncestorContainer;return F(this.div,v)},Pn.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||G()!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},Pn.prototype.blur=function(){this.div.blur()},Pn.prototype.getField=function(){return this.div},Pn.prototype.supportsTouch=function(){return!0},Pn.prototype.receivedFocus=function(){var p=this,v=this;this.selectionInEditor()?setTimeout(function(){return p.pollSelection()},20):$o(this.cm,function(){return v.cm.curOp.selectionChanged=!0});function O(){v.cm.state.focused&&(v.pollSelection(),v.polling.set(v.cm.options.pollInterval,O))}this.polling.set(this.cm.options.pollInterval,O)},Pn.prototype.selectionChanged=function(){var p=this.getSelection();return p.anchorNode!=this.lastAnchorNode||p.anchorOffset!=this.lastAnchorOffset||p.focusNode!=this.lastFocusNode||p.focusOffset!=this.lastFocusOffset},Pn.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var p=this.getSelection(),v=this.cm;if(b&&f&&this.cm.display.gutterSpecs.length&&tI(p.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var O=rm(v,p.anchorNode,p.anchorOffset),E=rm(v,p.focusNode,p.focusOffset);O&&E&&$o(v,function(){Wr(v.doc,q(O,E),Ee),(O.bad||E.bad)&&(v.curOp.selectionChanged=!0)})}}},Pn.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var p=this.cm,v=p.display,O=p.doc.sel.primary(),E=O.from(),P=O.to();if(E.ch==0&&E.line>p.firstLine()&&(E=dt(E.line-1,$(p.doc,E.line-1).length)),P.ch==$(p.doc,P.line).text.length&&P.line<p.lastLine()&&(P=dt(P.line+1,0)),E.line<v.viewFrom||P.line>v.viewTo-1)return!1;var H,K,re;E.line==v.viewFrom||(H=ua(p,E.line))==0?(K=it(v.view[0].line),re=v.view[0].node):(K=it(v.view[H].line),re=v.view[H-1].node.nextSibling);var le=ua(p,P.line),pe,Ve;if(le==v.view.length-1?(pe=v.viewTo-1,Ve=v.lineDiv.lastChild):(pe=it(v.view[le+1].line)-1,Ve=v.view[le+1].node.previousSibling),!re)return!1;for(var Xe=p.doc.splitLines(rI(p,re,Ve,K,pe)),ct=oe(p.doc,dt(K,0),dt(pe,$(p.doc,pe).text.length));Xe.length>1&&ct.length>1;)if($e(Xe)==$e(ct))Xe.pop(),ct.pop(),pe--;else if(Xe[0]==ct[0])Xe.shift(),ct.shift(),K++;else break;for(var ot=0,_t=0,jt=Xe[0],zt=ct[0],Yt=Math.min(jt.length,zt.length);ot<Yt&&jt.charCodeAt(ot)==zt.charCodeAt(ot);)++ot;for(var rr=$e(Xe),Xt=$e(ct),ir=Math.min(rr.length-(Xe.length==1?ot:0),Xt.length-(ct.length==1?ot:0));_t<ir&&rr.charCodeAt(rr.length-_t-1)==Xt.charCodeAt(Xt.length-_t-1);)++_t;if(Xe.length==1&&ct.length==1&&K==E.line)for(;ot&&ot>E.ch&&rr.charCodeAt(rr.length-_t-1)==Xt.charCodeAt(Xt.length-_t-1);)ot--,_t++;Xe[Xe.length-1]=rr.slice(0,rr.length-_t).replace(/^\u200b+/,""),Xe[0]=Xe[0].slice(ot).replace(/\u200b+$/,"");var Cr=dt(K,ot),yr=dt(pe,ct.length?$e(ct).length-_t:0);if(Xe.length>1||Xe[0]||ie(Cr,yr))return Rc(p.doc,Xe,Cr,yr,"+input"),!0},Pn.prototype.ensurePolled=function(){this.forceCompositionEnd()},Pn.prototype.reset=function(){this.forceCompositionEnd()},Pn.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Pn.prototype.readFromDOMSoon=function(){var p=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(p.readDOMTimeout=null,p.composing)if(p.composing.done)p.composing=null;else return;p.updateFromDOM()},80))},Pn.prototype.updateFromDOM=function(){var p=this;(this.cm.isReadOnly()||!this.pollContent())&&$o(this.cm,function(){return vi(p.cm)})},Pn.prototype.setUneditable=function(p){p.contentEditable="false"},Pn.prototype.onKeyPress=function(p){p.charCode==0||this.composing||(p.preventDefault(),this.cm.isReadOnly()||Ci(this.cm,d2)(this.cm,String.fromCharCode(p.charCode==null?p.keyCode:p.charCode),0))},Pn.prototype.readOnlyChanged=function(p){this.div.contentEditable=String(p!="nocursor")},Pn.prototype.onContextMenu=function(){},Pn.prototype.resetPosition=function(){},Pn.prototype.needsContentAttribute=!0;function yC(p,v){var O=at(p,v.line);if(!O||O.hidden)return null;var E=$(p.doc,v.line),P=Ge(O,E,v.line),H=ee(E,p.doc.direction),K="left";if(H){var re=Oe(H,v.ch);K=re%2?"right":"left"}var le=Ar(P.map,v.ch,K);return le.offset=le.collapse=="right"?le.end:le.start,le}function tI(p){for(var v=p;v;v=v.parentNode)if(/CodeMirror-gutter-wrapper/.test(v.className))return!0;return!1}function rh(p,v){return v&&(p.bad=!0),p}function rI(p,v,O,E,P){var H="",K=!1,re=p.doc.lineSeparator(),le=!1;function pe(ot){return function(_t){return _t.id==ot}}function Ve(){K&&(H+=re,le&&(H+=re),K=le=!1)}function Xe(ot){ot&&(Ve(),H+=ot)}function ct(ot){if(ot.nodeType==1){var _t=ot.getAttribute("cm-text");if(_t){Xe(_t);return}var jt=ot.getAttribute("cm-marker"),zt;if(jt){var Yt=p.findMarks(dt(E,0),dt(P+1,0),pe(+jt));Yt.length&&(zt=Yt[0].find(0))&&Xe(oe(p.doc,zt.from,zt.to).join(re));return}if(ot.getAttribute("contenteditable")=="false")return;var rr=/^(pre|div|p|li|table|br)$/i.test(ot.nodeName);if(!/^br$/i.test(ot.nodeName)&&ot.textContent.length==0)return;rr&&Ve();for(var Xt=0;Xt<ot.childNodes.length;Xt++)ct(ot.childNodes[Xt]);/^(pre|p)$/i.test(ot.nodeName)&&(le=!0),rr&&(K=!0)}else ot.nodeType==3&&Xe(ot.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;ct(v),v!=O;)v=v.nextSibling,le=!1;return H}function rm(p,v,O){var E;if(v==p.display.lineDiv){if(E=p.display.lineDiv.childNodes[O],!E)return rh(p.clipPos(dt(p.display.viewTo-1)),!0);v=null,O=0}else for(E=v;;E=E.parentNode){if(!E||E==p.display.lineDiv)return null;if(E.parentNode&&E.parentNode==p.display.lineDiv)break}for(var P=0;P<p.display.view.length;P++){var H=p.display.view[P];if(H.node==E)return nI(H,v,O)}}function nI(p,v,O){var E=p.text.firstChild,P=!1;if(!v||!F(E,v))return rh(dt(it(p.line),0),!0);if(v==E&&(P=!0,v=E.childNodes[O],O=0,!v)){var H=p.rest?$e(p.rest):p.line;return rh(dt(it(H),H.text.length),P)}var K=v.nodeType==3?v:null,re=v;for(!K&&v.childNodes.length==1&&v.firstChild.nodeType==3&&(K=v.firstChild,O&&(O=K.nodeValue.length));re.parentNode!=E;)re=re.parentNode;var le=p.measure,pe=le.maps;function Ve(zt,Yt,rr){for(var Xt=-1;Xt<(pe?pe.length:0);Xt++)for(var ir=Xt<0?le.map:pe[Xt],Cr=0;Cr<ir.length;Cr+=3){var yr=ir[Cr+2];if(yr==zt||yr==Yt){var rn=it(Xt<0?p.line:p.rest[Xt]),Bn=ir[Cr]+rr;return(rr<0||yr!=zt)&&(Bn=ir[Cr+(rr?1:0)]),dt(rn,Bn)}}}var Xe=Ve(K,re,O);if(Xe)return rh(Xe,P);for(var ct=re.nextSibling,ot=K?K.nodeValue.length-O:0;ct;ct=ct.nextSibling){if(Xe=Ve(ct,ct.firstChild,0),Xe)return rh(dt(Xe.line,Xe.ch-ot),P);ot+=ct.textContent.length}for(var _t=re.previousSibling,jt=O;_t;_t=_t.previousSibling){if(Xe=Ve(_t,_t.firstChild,-1),Xe)return rh(dt(Xe.line,Xe.ch+jt),P);jt+=_t.textContent.length}}var Ai=function(p){this.cm=p,this.prevInput="",this.pollingFast=!1,this.polling=new X,this.hasSelection=!1,this.composing=null};Ai.prototype.init=function(p){var v=this,O=this,E=this.cm;this.createField(p);var P=this.textarea;p.wrapper.insertBefore(this.wrapper,p.wrapper.firstChild),x&&(P.style.width="0px"),Ie(P,"input",function(){s&&l>=9&&v.hasSelection&&(v.hasSelection=null),O.poll()}),Ie(P,"paste",function(K){At(E,K)||dC(K,E)||(E.state.pasteIncoming=+new Date,O.fastPoll())});function H(K){if(!At(E,K)){if(E.somethingSelected())tm({lineWise:!1,text:E.getSelections()});else if(E.options.lineWiseCopyCut){var re=pC(E);tm({lineWise:!0,text:re.text}),K.type=="cut"?E.setSelections(re.ranges,null,Ee):(O.prevInput="",P.value=re.text.join(`
`),te(P))}else return;K.type=="cut"&&(E.state.cutIncoming=+new Date)}}Ie(P,"cut",H),Ie(P,"copy",H),Ie(p.scroller,"paste",function(K){if(!(Mn(p,K)||At(E,K))){if(!P.dispatchEvent){E.state.pasteIncoming=+new Date,O.focus();return}var re=new Event("paste");re.clipboardData=K.clipboardData,P.dispatchEvent(re)}}),Ie(p.lineSpace,"selectstart",function(K){Mn(p,K)||vr(K)}),Ie(P,"compositionstart",function(){var K=E.getCursor("from");O.composing&&O.composing.range.clear(),O.composing={start:K,range:E.markText(K,E.getCursor("to"),{className:"CodeMirror-composing"})}}),Ie(P,"compositionend",function(){O.composing&&(O.poll(),O.composing.range.clear(),O.composing=null)})},Ai.prototype.createField=function(p){this.wrapper=gC(),this.textarea=this.wrapper.firstChild},Ai.prototype.screenReaderLabelChanged=function(p){p?this.textarea.setAttribute("aria-label",p):this.textarea.removeAttribute("aria-label")},Ai.prototype.prepareSelection=function(){var p=this.cm,v=p.display,O=p.doc,E=Ti(p);if(p.options.moveInputWithCursor){var P=zn(p,O.sel.primary().head,"div"),H=v.wrapper.getBoundingClientRect(),K=v.lineDiv.getBoundingClientRect();E.teTop=Math.max(0,Math.min(v.wrapper.clientHeight-10,P.top+K.top-H.top)),E.teLeft=Math.max(0,Math.min(v.wrapper.clientWidth-10,P.left+K.left-H.left))}return E},Ai.prototype.showSelection=function(p){var v=this.cm,O=v.display;M(O.cursorDiv,p.cursors),M(O.selectionDiv,p.selection),p.teTop!=null&&(this.wrapper.style.top=p.teTop+"px",this.wrapper.style.left=p.teLeft+"px")},Ai.prototype.reset=function(p){if(!(this.contextMenuPending||this.composing)){var v=this.cm;if(v.somethingSelected()){this.prevInput="";var O=v.getSelection();this.textarea.value=O,v.state.focused&&te(this.textarea),s&&l>=9&&(this.hasSelection=O)}else p||(this.prevInput=this.textarea.value="",s&&l>=9&&(this.hasSelection=null))}},Ai.prototype.getField=function(){return this.textarea},Ai.prototype.supportsTouch=function(){return!1},Ai.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!_||G()!=this.textarea))try{this.textarea.focus()}catch{}},Ai.prototype.blur=function(){this.textarea.blur()},Ai.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Ai.prototype.receivedFocus=function(){this.slowPoll()},Ai.prototype.slowPoll=function(){var p=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){p.poll(),p.cm.state.focused&&p.slowPoll()})},Ai.prototype.fastPoll=function(){var p=!1,v=this;v.pollingFast=!0;function O(){var E=v.poll();!E&&!p?(p=!0,v.polling.set(60,O)):(v.pollingFast=!1,v.slowPoll())}v.polling.set(20,O)},Ai.prototype.poll=function(){var p=this,v=this.cm,O=this.textarea,E=this.prevInput;if(this.contextMenuPending||!v.state.focused||Or(O)&&!E&&!this.composing||v.isReadOnly()||v.options.disableInput||v.state.keySeq)return!1;var P=O.value;if(P==E&&!v.somethingSelected())return!1;if(s&&l>=9&&this.hasSelection===P||S&&/[\uf700-\uf7ff]/.test(P))return v.display.input.reset(),!1;if(v.doc.sel==v.display.selForContextMenu){var H=P.charCodeAt(0);if(H==8203&&!E&&(E="​"),H==8666)return this.reset(),this.cm.execCommand("undo")}for(var K=0,re=Math.min(E.length,P.length);K<re&&E.charCodeAt(K)==P.charCodeAt(K);)++K;return $o(v,function(){d2(v,P.slice(K),E.length-K,null,p.composing?"*compose":null),P.length>1e3||P.indexOf(`
`)>-1?O.value=p.prevInput="":p.prevInput=P,p.composing&&(p.composing.range.clear(),p.composing.range=v.markText(p.composing.start,v.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Ai.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Ai.prototype.onKeyPress=function(){s&&l>=9&&(this.hasSelection=null),this.fastPoll()},Ai.prototype.onContextMenu=function(p){var v=this,O=v.cm,E=O.display,P=v.textarea;v.contextMenuPending&&v.contextMenuPending();var H=Da(O,p),K=E.scroller.scrollTop;if(!H||h)return;var re=O.options.resetSelectionOnContextMenu;re&&O.doc.sel.contains(H)==-1&&Ci(O,Wr)(O.doc,q(H),Ee);var le=P.style.cssText,pe=v.wrapper.style.cssText,Ve=v.wrapper.offsetParent.getBoundingClientRect();v.wrapper.style.cssText="position: static",P.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(p.clientY-Ve.top-5)+"px; left: "+(p.clientX-Ve.left-5)+`px;
      z-index: 1000; background: `+(s?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var Xe;c&&(Xe=window.scrollY),E.input.focus(),c&&window.scrollTo(null,Xe),E.input.reset(),O.somethingSelected()||(P.value=v.prevInput=" "),v.contextMenuPending=ot,E.selForContextMenu=O.doc.sel,clearTimeout(E.detectingSelectAll);function ct(){if(P.selectionStart!=null){var jt=O.somethingSelected(),zt="​"+(jt?P.value:"");P.value="⇚",P.value=zt,v.prevInput=jt?"":"​",P.selectionStart=1,P.selectionEnd=zt.length,E.selForContextMenu=O.doc.sel}}function ot(){if(v.contextMenuPending==ot&&(v.contextMenuPending=!1,v.wrapper.style.cssText=pe,P.style.cssText=le,s&&l<9&&E.scrollbars.setScrollTop(E.scroller.scrollTop=K),P.selectionStart!=null)){(!s||s&&l<9)&&ct();var jt=0,zt=function(){E.selForContextMenu==O.doc.sel&&P.selectionStart==0&&P.selectionEnd>0&&v.prevInput=="​"?Ci(O,Ri)(O):jt++<10?E.detectingSelectAll=setTimeout(zt,500):(E.selForContextMenu=null,E.input.reset())};E.detectingSelectAll=setTimeout(zt,200)}}if(s&&l>=9&&ct(),A){ge(p);var _t=function(){wt(window,"mouseup",_t),setTimeout(ot,20)};Ie(window,"mouseup",_t)}else setTimeout(ot,50)},Ai.prototype.readOnlyChanged=function(p){p||this.reset(),this.textarea.disabled=p=="nocursor",this.textarea.readOnly=!!p},Ai.prototype.setUneditable=function(){},Ai.prototype.needsContentAttribute=!1;function iI(p,v){if(v=v?z(v):{},v.value=p.value,!v.tabindex&&p.tabIndex&&(v.tabindex=p.tabIndex),!v.placeholder&&p.placeholder&&(v.placeholder=p.placeholder),v.autofocus==null){var O=G();v.autofocus=O==p||p.getAttribute("autofocus")!=null&&O==document.body}function E(){p.value=re.getValue()}var P;if(p.form&&(Ie(p.form,"submit",E),!v.leaveSubmitMethodAlone)){var H=p.form;P=H.submit;try{var K=H.submit=function(){E(),H.submit=P,H.submit(),H.submit=K}}catch{}}v.finishInit=function(le){le.save=E,le.getTextArea=function(){return p},le.toTextArea=function(){le.toTextArea=isNaN,E(),p.parentNode.removeChild(le.getWrapperElement()),p.style.display="",p.form&&(wt(p.form,"submit",E),!v.leaveSubmitMethodAlone&&typeof p.form.submit=="function"&&(p.form.submit=P))}},p.style.display="none";var re=ai(function(le){return p.parentNode.insertBefore(le,p.nextSibling)},v);return re}function oI(p){p.off=wt,p.on=Ie,p.wheelEventPixels=r2,p.Doc=ko,p.splitLines=Er,p.countColumn=Z,p.findColumn=Re,p.isWordChar=Ce,p.Pass=me,p.signal=Ct,p.Line=Rn,p.changeEnd=ne,p.scrollbarModel=Tu,p.Pos=dt,p.cmpPos=ie,p.modes=an,p.mimeModes=mr,p.resolveMode=Vr,p.getMode=er,p.modeExtensions=sn,p.extendMode=xr,p.copyState=ln,p.startState=un,p.innerMode=qr,p.commands=fa,p.keyMap=Us,p.keyName=pv,p.isModifierKey=Bc,p.lookupKey=Fc,p.normalizeKeyMap=a2,p.StringStream=wr,p.SharedTextMarker=_l,p.TextMarker=$s,p.LineWidget=Ou,p.e_preventDefault=vr,p.e_stopPropagation=Rr,p.e_stop=ge,p.addClass=W,p.contains=F,p.rmClass=R,p.keyNames=hs}XD(ai),eI(ai);var aI="iter insert remove copy getEditor constructor".split(" ");for(var nm in ko.prototype)ko.prototype.hasOwnProperty(nm)&&ae(aI,nm)<0&&(ai.prototype[nm]=function(p){return function(){return p.apply(this.doc,arguments)}}(ko.prototype[nm]));return nr(ko),ai.inputStyles={textarea:Ai,contenteditable:Pn},ai.defineMode=function(p){!ai.defaults.mode&&p!="null"&&(ai.defaults.mode=p),Xr.apply(this,arguments)},ai.defineMIME=gr,ai.defineMode("null",function(){return{token:function(p){return p.skipToEnd()}}}),ai.defineMIME("text/plain","null"),ai.defineExtension=function(p,v){ai.prototype[p]=v},ai.defineDocExtension=function(p,v){ko.prototype[p]=v},ai.fromTextArea=iI,oI(ai),ai.version="5.63.0",ai})},7389:(n,t,e)=>{(function(r){r(e(4408))})(function(r){r.defineMode("css",function(L,M){var I=M.inline;M.propertyKeywords||(M=r.resolveMode("text/css"));var D=L.indentUnit,V=M.tokenHooks,F=M.documentTypes||{},G=M.mediaTypes||{},W=M.mediaFeatures||{},Y=M.mediaValueKeywords||{},te=M.propertyKeywords||{},he=M.nonStandardPropertyKeywords||{},z=M.fontProperties||{},Z=M.counterDescriptors||{},X=M.colorKeywords||{},ae=M.valueKeywords||{},ve=M.allowNested,me=M.lineComment,Ee=M.supportsAtComponent===!0,ke=L.highlightNonStandardPropertyKeywords!==!1,He,Re;function se(je,Ze){return He=Ze,je}function ce(je,Ze){var Ye=je.next();if(V[Ye]){var bt=V[Ye](je,Ze);if(bt!==!1)return bt}if(Ye=="@")return je.eatWhile(/[\w\\\-]/),se("def",je.current());if(Ye=="="||(Ye=="~"||Ye=="|")&&je.eat("="))return se(null,"compare");if(Ye=='"'||Ye=="'")return Ze.tokenize=$e(Ye),Ze.tokenize(je,Ze);if(Ye=="#")return je.eatWhile(/[\w\\\-]/),se("atom","hash");if(Ye=="!")return je.match(/^\s*\w*/),se("keyword","important");if(/\d/.test(Ye)||Ye=="."&&je.eat(/\d/))return je.eatWhile(/[\w.%]/),se("number","unit");if(Ye==="-"){if(/[\d.]/.test(je.peek()))return je.eatWhile(/[\w.%]/),se("number","unit");if(je.match(/^-[\w\\\-]*/))return je.eatWhile(/[\w\\\-]/),je.match(/^\s*:/,!1)?se("variable-2","variable-definition"):se("variable-2","variable");if(je.match(/^\w+-/))return se("meta","meta")}else return/[,+>*\/]/.test(Ye)?se(null,"select-op"):Ye=="."&&je.match(/^-?[_a-z][_a-z0-9-]*/i)?se("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(Ye)?se(null,Ye):je.match(/^[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/i.test(je.current())&&(Ze.tokenize=Ue),se("variable callee","variable")):/[\w\\\-]/.test(Ye)?(je.eatWhile(/[\w\\\-]/),se("property","word")):se(null,null)}function $e(je){return function(Ze,Ye){for(var bt=!1,Ut;(Ut=Ze.next())!=null;){if(Ut==je&&!bt){je==")"&&Ze.backUp(1);break}bt=!bt&&Ut=="\\"}return(Ut==je||!bt&&je!=")")&&(Ye.tokenize=null),se("string","string")}}function Ue(je,Ze){return je.next(),je.match(/^\s*[\"\')]/,!1)?Ze.tokenize=null:Ze.tokenize=$e(")"),se(null,"(")}function Te(je,Ze,Ye){this.type=je,this.indent=Ze,this.prev=Ye}function ft(je,Ze,Ye,bt){return je.context=new Te(Ye,Ze.indentation()+(bt===!1?0:D),je.context),Ye}function Q(je){return je.context.prev&&(je.context=je.context.prev),je.context.type}function de(je,Ze,Ye){return Ke[Ye.context.type](je,Ze,Ye)}function Ce(je,Ze,Ye,bt){for(var Ut=bt||1;Ut>0;Ut--)Ye.context=Ye.context.prev;return de(je,Ze,Ye)}function De(je){var Ze=je.current().toLowerCase();ae.hasOwnProperty(Ze)?Re="atom":X.hasOwnProperty(Ze)?Re="keyword":Re="variable"}var Ke={};return Ke.top=function(je,Ze,Ye){if(je=="{")return ft(Ye,Ze,"block");if(je=="}"&&Ye.context.prev)return Q(Ye);if(Ee&&/@component/i.test(je))return ft(Ye,Ze,"atComponentBlock");if(/^@(-moz-)?document$/i.test(je))return ft(Ye,Ze,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(je))return ft(Ye,Ze,"atBlock");if(/^@(font-face|counter-style)/i.test(je))return Ye.stateArg=je,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(je))return"keyframes";if(je&&je.charAt(0)=="@")return ft(Ye,Ze,"at");if(je=="hash")Re="builtin";else if(je=="word")Re="tag";else{if(je=="variable-definition")return"maybeprop";if(je=="interpolation")return ft(Ye,Ze,"interpolation");if(je==":")return"pseudo";if(ve&&je=="(")return ft(Ye,Ze,"parens")}return Ye.context.type},Ke.block=function(je,Ze,Ye){if(je=="word"){var bt=Ze.current().toLowerCase();return te.hasOwnProperty(bt)?(Re="property","maybeprop"):he.hasOwnProperty(bt)?(Re=ke?"string-2":"property","maybeprop"):ve?(Re=Ze.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(Re+=" error","maybeprop")}else return je=="meta"?"block":!ve&&(je=="hash"||je=="qualifier")?(Re="error","block"):Ke.top(je,Ze,Ye)},Ke.maybeprop=function(je,Ze,Ye){return je==":"?ft(Ye,Ze,"prop"):de(je,Ze,Ye)},Ke.prop=function(je,Ze,Ye){if(je==";")return Q(Ye);if(je=="{"&&ve)return ft(Ye,Ze,"propBlock");if(je=="}"||je=="{")return Ce(je,Ze,Ye);if(je=="(")return ft(Ye,Ze,"parens");if(je=="hash"&&!/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(Ze.current()))Re+=" error";else if(je=="word")De(Ze);else if(je=="interpolation")return ft(Ye,Ze,"interpolation");return"prop"},Ke.propBlock=function(je,Ze,Ye){return je=="}"?Q(Ye):je=="word"?(Re="property","maybeprop"):Ye.context.type},Ke.parens=function(je,Ze,Ye){return je=="{"||je=="}"?Ce(je,Ze,Ye):je==")"?Q(Ye):je=="("?ft(Ye,Ze,"parens"):je=="interpolation"?ft(Ye,Ze,"interpolation"):(je=="word"&&De(Ze),"parens")},Ke.pseudo=function(je,Ze,Ye){return je=="meta"?"pseudo":je=="word"?(Re="variable-3",Ye.context.type):de(je,Ze,Ye)},Ke.documentTypes=function(je,Ze,Ye){return je=="word"&&F.hasOwnProperty(Ze.current())?(Re="tag",Ye.context.type):Ke.atBlock(je,Ze,Ye)},Ke.atBlock=function(je,Ze,Ye){if(je=="(")return ft(Ye,Ze,"atBlock_parens");if(je=="}"||je==";")return Ce(je,Ze,Ye);if(je=="{")return Q(Ye)&&ft(Ye,Ze,ve?"block":"top");if(je=="interpolation")return ft(Ye,Ze,"interpolation");if(je=="word"){var bt=Ze.current().toLowerCase();bt=="only"||bt=="not"||bt=="and"||bt=="or"?Re="keyword":G.hasOwnProperty(bt)?Re="attribute":W.hasOwnProperty(bt)?Re="property":Y.hasOwnProperty(bt)?Re="keyword":te.hasOwnProperty(bt)?Re="property":he.hasOwnProperty(bt)?Re=ke?"string-2":"property":ae.hasOwnProperty(bt)?Re="atom":X.hasOwnProperty(bt)?Re="keyword":Re="error"}return Ye.context.type},Ke.atComponentBlock=function(je,Ze,Ye){return je=="}"?Ce(je,Ze,Ye):je=="{"?Q(Ye)&&ft(Ye,Ze,ve?"block":"top",!1):(je=="word"&&(Re="error"),Ye.context.type)},Ke.atBlock_parens=function(je,Ze,Ye){return je==")"?Q(Ye):je=="{"||je=="}"?Ce(je,Ze,Ye,2):Ke.atBlock(je,Ze,Ye)},Ke.restricted_atBlock_before=function(je,Ze,Ye){return je=="{"?ft(Ye,Ze,"restricted_atBlock"):je=="word"&&Ye.stateArg=="@counter-style"?(Re="variable","restricted_atBlock_before"):de(je,Ze,Ye)},Ke.restricted_atBlock=function(je,Ze,Ye){return je=="}"?(Ye.stateArg=null,Q(Ye)):je=="word"?(Ye.stateArg=="@font-face"&&!z.hasOwnProperty(Ze.current().toLowerCase())||Ye.stateArg=="@counter-style"&&!Z.hasOwnProperty(Ze.current().toLowerCase())?Re="error":Re="property","maybeprop"):"restricted_atBlock"},Ke.keyframes=function(je,Ze,Ye){return je=="word"?(Re="variable","keyframes"):je=="{"?ft(Ye,Ze,"top"):de(je,Ze,Ye)},Ke.at=function(je,Ze,Ye){return je==";"?Q(Ye):je=="{"||je=="}"?Ce(je,Ze,Ye):(je=="word"?Re="tag":je=="hash"&&(Re="builtin"),"at")},Ke.interpolation=function(je,Ze,Ye){return je=="}"?Q(Ye):je=="{"||je==";"?Ce(je,Ze,Ye):(je=="word"?Re="variable":je!="variable"&&je!="("&&je!=")"&&(Re="error"),"interpolation")},{startState:function(je){return{tokenize:null,state:I?"block":"top",stateArg:null,context:new Te(I?"block":"top",je||0,null)}},token:function(je,Ze){if(!Ze.tokenize&&je.eatSpace())return null;var Ye=(Ze.tokenize||ce)(je,Ze);return Ye&&typeof Ye=="object"&&(He=Ye[1],Ye=Ye[0]),Re=Ye,He!="comment"&&(Ze.state=Ke[Ze.state](He,je,Ze)),Re},indent:function(je,Ze){var Ye=je.context,bt=Ze&&Ze.charAt(0),Ut=Ye.indent;return Ye.type=="prop"&&(bt=="}"||bt==")")&&(Ye=Ye.prev),Ye.prev&&(bt=="}"&&(Ye.type=="block"||Ye.type=="top"||Ye.type=="interpolation"||Ye.type=="restricted_atBlock")?(Ye=Ye.prev,Ut=Ye.indent):(bt==")"&&(Ye.type=="parens"||Ye.type=="atBlock_parens")||bt=="{"&&(Ye.type=="at"||Ye.type=="atBlock"))&&(Ut=Math.max(0,Ye.indent-D))),Ut},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:me,fold:"brace"}});function i(L){for(var M={},I=0;I<L.length;++I)M[L[I].toLowerCase()]=!0;return M}var o=["domain","regexp","url","url-prefix"],a=i(o),s=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],l=i(s),c=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme"],u=i(c),f=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light"],h=i(f),d=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-content","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],m=i(d),g=["accent-color","aspect-ratio","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","content-visibility","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","overflow-anchor","overscroll-behavior","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],x=i(g),b=["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],_=i(b),S=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],T=i(S),C=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],w=i(C),N=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","blur","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","brightness","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","contrast","copy","counter","counters","cover","crop","cross","crosshair","cubic-bezier","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","drop-shadow","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","grayscale","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","hue-rotate","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturate","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","sepia","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],A=i(N),j=o.concat(s).concat(c).concat(f).concat(d).concat(g).concat(C).concat(N);r.registerHelper("hintWords","css",j);function R(L,M){for(var I=!1,D;(D=L.next())!=null;){if(I&&D=="/"){M.tokenize=null;break}I=D=="*"}return["comment","comment"]}r.defineMIME("text/css",{documentTypes:a,mediaTypes:l,mediaFeatures:u,mediaValueKeywords:h,propertyKeywords:m,nonStandardPropertyKeywords:x,fontProperties:_,counterDescriptors:T,colorKeywords:w,valueKeywords:A,tokenHooks:{"/":function(L,M){return L.eat("*")?(M.tokenize=R,R(L,M)):!1}},name:"css"}),r.defineMIME("text/x-scss",{mediaTypes:l,mediaFeatures:u,mediaValueKeywords:h,propertyKeywords:m,nonStandardPropertyKeywords:x,colorKeywords:w,valueKeywords:A,fontProperties:_,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(L,M){return L.eat("/")?(L.skipToEnd(),["comment","comment"]):L.eat("*")?(M.tokenize=R,R(L,M)):["operator","operator"]},":":function(L){return L.match(/^\s*\{/,!1)?[null,null]:!1},$:function(L){return L.match(/^[\w-]+/),L.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(L){return L.eat("{")?[null,"interpolation"]:!1}},name:"css",helperType:"scss"}),r.defineMIME("text/x-less",{mediaTypes:l,mediaFeatures:u,mediaValueKeywords:h,propertyKeywords:m,nonStandardPropertyKeywords:x,colorKeywords:w,valueKeywords:A,fontProperties:_,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(L,M){return L.eat("/")?(L.skipToEnd(),["comment","comment"]):L.eat("*")?(M.tokenize=R,R(L,M)):["operator","operator"]},"@":function(L){return L.eat("{")?[null,"interpolation"]:L.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)?!1:(L.eatWhile(/[\w\\\-]/),L.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),r.defineMIME("text/x-gss",{documentTypes:a,mediaTypes:l,mediaFeatures:u,propertyKeywords:m,nonStandardPropertyKeywords:x,fontProperties:_,counterDescriptors:T,colorKeywords:w,valueKeywords:A,supportsAtComponent:!0,tokenHooks:{"/":function(L,M){return L.eat("*")?(M.tokenize=R,R(L,M)):!1}},name:"css",helperType:"gss"})})},8253:(n,t,e)=>{(function(r){r(e(4408),e(9701),e(6061),e(7389))})(function(r){var i={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]};function o(h,d,m){var g=h.current(),x=g.search(d);return x>-1?h.backUp(g.length-x):g.match(/<\/?$/)&&(h.backUp(g.length),h.match(d,!1)||h.match(g)),m}var a={};function s(h){var d=a[h];return d||(a[h]=new RegExp("\\s+"+h+`\\s*=\\s*('|")?([^'"]+)('|")?\\s*`))}function l(h,d){var m=h.match(s(d));return m?/^\s*(.*?)\s*$/.exec(m[2])[1]:""}function c(h,d){return new RegExp((d?"^":"")+"</s*"+h+"s*>","i")}function u(h,d){for(var m in h)for(var g=d[m]||(d[m]=[]),x=h[m],b=x.length-1;b>=0;b--)g.unshift(x[b])}function f(h,d){for(var m=0;m<h.length;m++){var g=h[m];if(!g[0]||g[1].test(l(d,g[0])))return g[2]}}r.defineMode("htmlmixed",function(h,d){var m=r.getMode(h,{name:"xml",htmlMode:!0,multilineTagIndentFactor:d.multilineTagIndentFactor,multilineTagIndentPastTag:d.multilineTagIndentPastTag,allowMissingTagName:d.allowMissingTagName}),g={},x=d&&d.tags,b=d&&d.scriptTypes;if(u(i,g),x&&u(x,g),b)for(var _=b.length-1;_>=0;_--)g.script.unshift(["type",b[_].matches,b[_].mode]);function S(T,C){var w=m.token(T,C.htmlState),N=/\btag\b/.test(w),A;if(N&&!/[<>\s\/]/.test(T.current())&&(A=C.htmlState.tagName&&C.htmlState.tagName.toLowerCase())&&g.hasOwnProperty(A))C.inTag=A+" ";else if(C.inTag&&N&&/>$/.test(T.current())){var j=/^([\S]+) (.*)/.exec(C.inTag);C.inTag=null;var R=T.current()==">"&&f(g[j[1]],j[2]),L=r.getMode(h,R),M=c(j[1],!0),I=c(j[1],!1);C.token=function(D,V){return D.match(M,!1)?(V.token=S,V.localState=V.localMode=null,null):o(D,I,V.localMode.token(D,V.localState))},C.localMode=L,C.localState=r.startState(L,m.indent(C.htmlState,"",""))}else C.inTag&&(C.inTag+=T.current(),T.eol()&&(C.inTag+=" "));return w}return{startState:function(){var T=r.startState(m);return{token:S,inTag:null,localMode:null,localState:null,htmlState:T}},copyState:function(T){var C;return T.localState&&(C=r.copyState(T.localMode,T.localState)),{token:T.token,inTag:T.inTag,localMode:T.localMode,localState:C,htmlState:r.copyState(m,T.htmlState)}},token:function(T,C){return C.token(T,C)},indent:function(T,C,w){return!T.localMode||/^\s*<\//.test(C)?m.indent(T.htmlState,C,w):T.localMode.indent?T.localMode.indent(T.localState,C,w):r.Pass},innerMode:function(T){return{state:T.localState||T.htmlState,mode:T.localMode||m}}}},"xml","javascript","css"),r.defineMIME("text/html","htmlmixed")})},6061:(n,t,e)=>{(function(r){r(e(4408))})(function(r){r.defineMode("javascript",function(i,o){var a=i.indentUnit,s=o.statementIndent,l=o.jsonld,c=o.json||l,u=o.trackScope!==!1,f=o.typescript,h=o.wordCharacters||/[\w$\xa1-\uffff]/,d=function(){function _e(An){return{type:An,style:"keyword"}}var ze=_e("keyword a"),ht=_e("keyword b"),Nt=_e("keyword c"),It=_e("keyword d"),Pr=_e("operator"),Dr={type:"atom",style:"atom"};return{if:_e("if"),while:ze,with:ze,else:ht,do:ht,try:ht,finally:ht,return:It,break:It,continue:It,new:_e("new"),delete:Nt,void:Nt,throw:Nt,debugger:_e("debugger"),var:_e("var"),const:_e("var"),let:_e("var"),function:_e("function"),catch:_e("catch"),for:_e("for"),switch:_e("switch"),case:_e("case"),default:_e("default"),in:Pr,typeof:Pr,instanceof:Pr,true:Dr,false:Dr,null:Dr,undefined:Dr,NaN:Dr,Infinity:Dr,this:_e("this"),class:_e("class"),super:_e("atom"),yield:Nt,export:_e("export"),import:_e("import"),extends:Nt,await:Nt}}(),m=/[+\-*&%=<>!?|~^@]/,g=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function x(_e){for(var ze=!1,ht,Nt=!1;(ht=_e.next())!=null;){if(!ze){if(ht=="/"&&!Nt)return;ht=="["?Nt=!0:Nt&&ht=="]"&&(Nt=!1)}ze=!ze&&ht=="\\"}}var b,_;function S(_e,ze,ht){return b=_e,_=ht,ze}function T(_e,ze){var ht=_e.next();if(ht=='"'||ht=="'")return ze.tokenize=C(ht),ze.tokenize(_e,ze);if(ht=="."&&_e.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return S("number","number");if(ht=="."&&_e.match(".."))return S("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(ht))return S(ht);if(ht=="="&&_e.eat(">"))return S("=>","operator");if(ht=="0"&&_e.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return S("number","number");if(/\d/.test(ht))return _e.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),S("number","number");if(ht=="/")return _e.eat("*")?(ze.tokenize=w,w(_e,ze)):_e.eat("/")?(_e.skipToEnd(),S("comment","comment")):Nr(_e,ze,1)?(x(_e),_e.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),S("regexp","string-2")):(_e.eat("="),S("operator","operator",_e.current()));if(ht=="`")return ze.tokenize=N,N(_e,ze);if(ht=="#"&&_e.peek()=="!")return _e.skipToEnd(),S("meta","meta");if(ht=="#"&&_e.eatWhile(h))return S("variable","property");if(ht=="<"&&_e.match("!--")||ht=="-"&&_e.match("->")&&!/\S/.test(_e.string.slice(0,_e.start)))return _e.skipToEnd(),S("comment","comment");if(m.test(ht))return(ht!=">"||!ze.lexical||ze.lexical.type!=">")&&(_e.eat("=")?(ht=="!"||ht=="=")&&_e.eat("="):/[<>*+\-|&?]/.test(ht)&&(_e.eat(ht),ht==">"&&_e.eat(ht))),ht=="?"&&_e.eat(".")?S("."):S("operator","operator",_e.current());if(h.test(ht)){_e.eatWhile(h);var Nt=_e.current();if(ze.lastType!="."){if(d.propertyIsEnumerable(Nt)){var It=d[Nt];return S(It.type,It.style,Nt)}if(Nt=="async"&&_e.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return S("async","keyword",Nt)}return S("variable","variable",Nt)}}function C(_e){return function(ze,ht){var Nt=!1,It;if(l&&ze.peek()=="@"&&ze.match(g))return ht.tokenize=T,S("jsonld-keyword","meta");for(;(It=ze.next())!=null&&!(It==_e&&!Nt);)Nt=!Nt&&It=="\\";return Nt||(ht.tokenize=T),S("string","string")}}function w(_e,ze){for(var ht=!1,Nt;Nt=_e.next();){if(Nt=="/"&&ht){ze.tokenize=T;break}ht=Nt=="*"}return S("comment","comment")}function N(_e,ze){for(var ht=!1,Nt;(Nt=_e.next())!=null;){if(!ht&&(Nt=="`"||Nt=="$"&&_e.eat("{"))){ze.tokenize=T;break}ht=!ht&&Nt=="\\"}return S("quasi","string-2",_e.current())}var A="([{}])";function j(_e,ze){ze.fatArrowAt&&(ze.fatArrowAt=null);var ht=_e.string.indexOf("=>",_e.start);if(!(ht<0)){if(f){var Nt=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(_e.string.slice(_e.start,ht));Nt&&(ht=Nt.index)}for(var It=0,Pr=!1,Dr=ht-1;Dr>=0;--Dr){var An=_e.string.charAt(Dr),Zr=A.indexOf(An);if(Zr>=0&&Zr<3){if(!It){++Dr;break}if(--It==0){An=="("&&(Pr=!0);break}}else if(Zr>=3&&Zr<6)++It;else if(h.test(An))Pr=!0;else if(/["'\/`]/.test(An))for(;;--Dr){if(Dr==0)return;var Li=_e.string.charAt(Dr-1);if(Li==An&&_e.string.charAt(Dr-2)!="\\"){Dr--;break}}else if(Pr&&!It){++Dr;break}}Pr&&!It&&(ze.fatArrowAt=Dr)}}var R={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function L(_e,ze,ht,Nt,It,Pr){this.indented=_e,this.column=ze,this.type=ht,this.prev=It,this.info=Pr,Nt!=null&&(this.align=Nt)}function M(_e,ze){if(!u)return!1;for(var ht=_e.localVars;ht;ht=ht.next)if(ht.name==ze)return!0;for(var Nt=_e.context;Nt;Nt=Nt.prev)for(var ht=Nt.vars;ht;ht=ht.next)if(ht.name==ze)return!0}function I(_e,ze,ht,Nt,It){var Pr=_e.cc;for(D.state=_e,D.stream=It,D.marked=null,D.cc=Pr,D.style=ze,_e.lexical.hasOwnProperty("align")||(_e.lexical.align=!0);;){var Dr=Pr.length?Pr.pop():c?se:He;if(Dr(ht,Nt)){for(;Pr.length&&Pr[Pr.length-1].lex;)Pr.pop()();return D.marked?D.marked:ht=="variable"&&M(_e,Nt)?"variable-2":ze}}}var D={state:null,marked:null,cc:null};function V(){for(var _e=arguments.length-1;_e>=0;_e--)D.cc.push(arguments[_e])}function F(){return V.apply(null,arguments),!0}function G(_e,ze){for(var ht=ze;ht;ht=ht.next)if(ht.name==_e)return!0;return!1}function W(_e){var ze=D.state;if(D.marked="def",!!u){if(ze.context){if(ze.lexical.info=="var"&&ze.context&&ze.context.block){var ht=Y(_e,ze.context);if(ht!=null){ze.context=ht;return}}else if(!G(_e,ze.localVars)){ze.localVars=new z(_e,ze.localVars);return}}o.globalVars&&!G(_e,ze.globalVars)&&(ze.globalVars=new z(_e,ze.globalVars))}}function Y(_e,ze){if(ze)if(ze.block){var ht=Y(_e,ze.prev);return ht?ht==ze.prev?ze:new he(ht,ze.vars,!0):null}else return G(_e,ze.vars)?ze:new he(ze.prev,new z(_e,ze.vars),!1);else return null}function te(_e){return _e=="public"||_e=="private"||_e=="protected"||_e=="abstract"||_e=="readonly"}function he(_e,ze,ht){this.prev=_e,this.vars=ze,this.block=ht}function z(_e,ze){this.name=_e,this.next=ze}var Z=new z("this",new z("arguments",null));function X(){D.state.context=new he(D.state.context,D.state.localVars,!1),D.state.localVars=Z}function ae(){D.state.context=new he(D.state.context,D.state.localVars,!0),D.state.localVars=null}function ve(){D.state.localVars=D.state.context.vars,D.state.context=D.state.context.prev}ve.lex=!0;function me(_e,ze){var ht=function(){var Nt=D.state,It=Nt.indented;if(Nt.lexical.type=="stat")It=Nt.lexical.indented;else for(var Pr=Nt.lexical;Pr&&Pr.type==")"&&Pr.align;Pr=Pr.prev)It=Pr.indented;Nt.lexical=new L(It,D.stream.column(),_e,null,Nt.lexical,ze)};return ht.lex=!0,ht}function Ee(){var _e=D.state;_e.lexical.prev&&(_e.lexical.type==")"&&(_e.indented=_e.lexical.indented),_e.lexical=_e.lexical.prev)}Ee.lex=!0;function ke(_e){function ze(ht){return ht==_e?F():_e==";"||ht=="}"||ht==")"||ht=="]"?V():F(ze)}return ze}function He(_e,ze){return _e=="var"?F(me("vardef",ze),Zt,ke(";"),Ee):_e=="keyword a"?F(me("form"),$e,He,Ee):_e=="keyword b"?F(me("form"),He,Ee):_e=="keyword d"?D.stream.match(/^\s*$/,!1)?F():F(me("stat"),Te,ke(";"),Ee):_e=="debugger"?F(ke(";")):_e=="{"?F(me("}"),ae,Ie,Ee,ve):_e==";"?F():_e=="if"?(D.state.lexical.info=="else"&&D.state.cc[D.state.cc.length-1]==Ee&&D.state.cc.pop()(),F(me("form"),$e,He,Ee,or)):_e=="function"?F(Xr):_e=="for"?F(me("form"),ae,Kr,He,ve,Ee):_e=="class"||f&&ze=="interface"?(D.marked="keyword",F(me("form",_e=="class"?_e:ze),xr,Ee)):_e=="variable"?f&&ze=="declare"?(D.marked="keyword",F(He)):f&&(ze=="module"||ze=="enum"||ze=="type")&&D.stream.match(/^\s*\w/,!1)?(D.marked="keyword",ze=="enum"?F(br):ze=="type"?F(Vr,ke("operator"),Ft,ke(";")):F(me("form"),Bt,ke("{"),me("}"),Ie,Ee,Ee)):f&&ze=="namespace"?(D.marked="keyword",F(me("form"),se,He,Ee)):f&&ze=="abstract"?(D.marked="keyword",F(He)):F(me("stat"),bt):_e=="switch"?F(me("form"),$e,ke("{"),me("}","switch"),ae,Ie,Ee,Ee,ve):_e=="case"?F(se,ke(":")):_e=="default"?F(ke(":")):_e=="catch"?F(me("form"),X,Re,He,Ee,ve):_e=="export"?F(me("stat"),wr,Ee):_e=="import"?F(me("stat"),oe,Ee):_e=="async"?F(He):ze=="@"?F(se,He):V(me("stat"),se,ke(";"),Ee)}function Re(_e){if(_e=="(")return F(er,ke(")"))}function se(_e,ze){return Ue(_e,ze,!1)}function ce(_e,ze){return Ue(_e,ze,!0)}function $e(_e){return _e!="("?V():F(me(")"),Te,ke(")"),Ee)}function Ue(_e,ze,ht){if(D.state.fatArrowAt==D.stream.start){var Nt=ht?Ke:De;if(_e=="(")return F(X,me(")"),ee(er,")"),Ee,ke("=>"),Nt,ve);if(_e=="variable")return V(X,Bt,ke("=>"),Nt,ve)}var It=ht?Q:ft;return R.hasOwnProperty(_e)?F(It):_e=="function"?F(Xr,It):_e=="class"||f&&ze=="interface"?(D.marked="keyword",F(me("form"),sn,Ee)):_e=="keyword c"||_e=="async"?F(ht?ce:se):_e=="("?F(me(")"),Te,ke(")"),Ee,It):_e=="operator"||_e=="spread"?F(ht?ce:se):_e=="["?F(me("]"),fn,Ee,It):_e=="{"?tt(kt,"}",null,It):_e=="quasi"?V(de,It):_e=="new"?F(je(ht)):F()}function Te(_e){return _e.match(/[;\}\)\],]/)?V():V(se)}function ft(_e,ze){return _e==","?F(Te):Q(_e,ze,!1)}function Q(_e,ze,ht){var Nt=ht==!1?ft:Q,It=ht==!1?se:ce;if(_e=="=>")return F(X,ht?Ke:De,ve);if(_e=="operator")return/\+\+|--/.test(ze)||f&&ze=="!"?F(Nt):f&&ze=="<"&&D.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?F(me(">"),ee(Ft,">"),Ee,Nt):ze=="?"?F(se,ke(":"),It):F(It);if(_e=="quasi")return V(de,Nt);if(_e!=";"){if(_e=="(")return tt(ce,")","call",Nt);if(_e==".")return F(Ut,Nt);if(_e=="[")return F(me("]"),Te,ke("]"),Ee,Nt);if(f&&ze=="as")return D.marked="keyword",F(Ft,Nt);if(_e=="regexp")return D.state.lastType=D.marked="operator",D.stream.backUp(D.stream.pos-D.stream.start-1),F(It)}}function de(_e,ze){return _e!="quasi"?V():ze.slice(ze.length-2)!="${"?F(de):F(Te,Ce)}function Ce(_e){if(_e=="}")return D.marked="string-2",D.state.tokenize=N,F(de)}function De(_e){return j(D.stream,D.state),V(_e=="{"?He:se)}function Ke(_e){return j(D.stream,D.state),V(_e=="{"?He:ce)}function je(_e){return function(ze){return ze=="."?F(_e?Ye:Ze):ze=="variable"&&f?F(et,_e?Q:ft):V(_e?ce:se)}}function Ze(_e,ze){if(ze=="target")return D.marked="keyword",F(ft)}function Ye(_e,ze){if(ze=="target")return D.marked="keyword",F(Q)}function bt(_e){return _e==":"?F(Ee,He):V(ft,ke(";"),Ee)}function Ut(_e){if(_e=="variable")return D.marked="property",F()}function kt(_e,ze){if(_e=="async")return D.marked="property",F(kt);if(_e=="variable"||D.style=="keyword"){if(D.marked="property",ze=="get"||ze=="set")return F(Oe);var ht;return f&&D.state.fatArrowAt==D.stream.start&&(ht=D.stream.match(/^\s*:\s*/,!1))&&(D.state.fatArrowAt=D.stream.pos+ht[0].length),F(fe)}else{if(_e=="number"||_e=="string")return D.marked=l?"property":D.style+" property",F(fe);if(_e=="jsonld-keyword")return F(fe);if(f&&te(ze))return D.marked="keyword",F(kt);if(_e=="[")return F(se,gt,ke("]"),fe);if(_e=="spread")return F(ce,fe);if(ze=="*")return D.marked="keyword",F(kt);if(_e==":")return V(fe)}}function Oe(_e){return _e!="variable"?V(fe):(D.marked="property",F(Xr))}function fe(_e){if(_e==":")return F(ce);if(_e=="(")return V(Xr)}function ee(_e,ze,ht){function Nt(It,Pr){if(ht?ht.indexOf(It)>-1:It==","){var Dr=D.state.lexical;return Dr.info=="call"&&(Dr.pos=(Dr.pos||0)+1),F(function(An,Zr){return An==ze||Zr==ze?V():V(_e)},Nt)}return It==ze||Pr==ze?F():ht&&ht.indexOf(";")>-1?V(_e):F(ke(ze))}return function(It,Pr){return It==ze||Pr==ze?F():V(_e,Nt)}}function tt(_e,ze,ht){for(var Nt=3;Nt<arguments.length;Nt++)D.cc.push(arguments[Nt]);return F(me(ze,ht),ee(_e,ze),Ee)}function Ie(_e){return _e=="}"?F():V(He,Ie)}function gt(_e,ze){if(f){if(_e==":")return F(Ft);if(ze=="?")return F(gt)}}function wt(_e,ze){if(f&&(_e==":"||ze=="in"))return F(Ft)}function Ct(_e){if(f&&_e==":")return D.stream.match(/^\s*\w+\s+is\b/,!1)?F(se,At,Ft):F(Ft)}function At(_e,ze){if(ze=="is")return D.marked="keyword",F()}function Ft(_e,ze){if(ze=="keyof"||ze=="typeof"||ze=="infer"||ze=="readonly")return D.marked="keyword",F(ze=="typeof"?ce:Ft);if(_e=="variable"||ze=="void")return D.marked="type",F(We);if(ze=="|"||ze=="&")return F(Ft);if(_e=="string"||_e=="number"||_e=="atom")return F(We);if(_e=="[")return F(me("]"),ee(Ft,"]",","),Ee,We);if(_e=="{")return F(me("}"),nr,Ee,We);if(_e=="(")return F(ee(ge,")"),lr,We);if(_e=="<")return F(ee(Ft,">"),Ft);if(_e=="quasi")return V(Rr,We)}function lr(_e){if(_e=="=>")return F(Ft)}function nr(_e){return _e.match(/[\}\)\]]/)?F():_e==","||_e==";"?F(nr):V(vr,nr)}function vr(_e,ze){if(_e=="variable"||D.style=="keyword")return D.marked="property",F(vr);if(ze=="?"||_e=="number"||_e=="string")return F(vr);if(_e==":")return F(Ft);if(_e=="[")return F(ke("variable"),wt,ke("]"),vr);if(_e=="(")return V(gr,vr);if(!_e.match(/[;\}\)\],]/))return F()}function Rr(_e,ze){return _e!="quasi"?V():ze.slice(ze.length-2)!="${"?F(Rr):F(Ft,Lr)}function Lr(_e){if(_e=="}")return D.marked="string-2",D.state.tokenize=N,F(Rr)}function ge(_e,ze){return _e=="variable"&&D.stream.match(/^\s*[?:]/,!1)||ze=="?"?F(ge):_e==":"?F(Ft):_e=="spread"?F(ge):V(Ft)}function We(_e,ze){if(ze=="<")return F(me(">"),ee(Ft,">"),Ee,We);if(ze=="|"||_e=="."||ze=="&")return F(Ft);if(_e=="[")return F(Ft,ke("]"),We);if(ze=="extends"||ze=="implements")return D.marked="keyword",F(Ft);if(ze=="?")return F(Ft,ke(":"),Ft)}function et(_e,ze){if(ze=="<")return F(me(">"),ee(Ft,">"),Ee,We)}function mt(){return V(Ft,Rt)}function Rt(_e,ze){if(ze=="=")return F(Ft)}function Zt(_e,ze){return ze=="enum"?(D.marked="keyword",F(br)):V(Bt,gt,Or,Ir)}function Bt(_e,ze){if(f&&te(ze))return D.marked="keyword",F(Bt);if(_e=="variable")return W(ze),F();if(_e=="spread")return F(Bt);if(_e=="[")return tt(Er,"]");if(_e=="{")return tt(dr,"}")}function dr(_e,ze){return _e=="variable"&&!D.stream.match(/^\s*:/,!1)?(W(ze),F(Or)):(_e=="variable"&&(D.marked="property"),_e=="spread"?F(Bt):_e=="}"?V():_e=="["?F(se,ke("]"),ke(":"),dr):F(ke(":"),Bt,Or))}function Er(){return V(Bt,Or)}function Or(_e,ze){if(ze=="=")return F(ce)}function Ir(_e){if(_e==",")return F(Zt)}function or(_e,ze){if(_e=="keyword b"&&ze=="else")return F(me("form","else"),He,Ee)}function Kr(_e,ze){if(ze=="await")return F(Kr);if(_e=="(")return F(me(")"),an,Ee)}function an(_e){return _e=="var"?F(Zt,mr):_e=="variable"?F(mr):V(mr)}function mr(_e,ze){return _e==")"?F():_e==";"?F(mr):ze=="in"||ze=="of"?(D.marked="keyword",F(se,mr)):V(se,mr)}function Xr(_e,ze){if(ze=="*")return D.marked="keyword",F(Xr);if(_e=="variable")return W(ze),F(Xr);if(_e=="(")return F(X,me(")"),ee(er,")"),Ee,Ct,He,ve);if(f&&ze=="<")return F(me(">"),ee(mt,">"),Ee,Xr)}function gr(_e,ze){if(ze=="*")return D.marked="keyword",F(gr);if(_e=="variable")return W(ze),F(gr);if(_e=="(")return F(X,me(")"),ee(er,")"),Ee,Ct,ve);if(f&&ze=="<")return F(me(">"),ee(mt,">"),Ee,gr)}function Vr(_e,ze){if(_e=="keyword"||_e=="variable")return D.marked="type",F(Vr);if(ze=="<")return F(me(">"),ee(mt,">"),Ee)}function er(_e,ze){return ze=="@"&&F(se,er),_e=="spread"?F(er):f&&te(ze)?(D.marked="keyword",F(er)):f&&_e=="this"?F(gt,Or):V(Bt,gt,Or)}function sn(_e,ze){return _e=="variable"?xr(_e,ze):ln(_e,ze)}function xr(_e,ze){if(_e=="variable")return W(ze),F(ln)}function ln(_e,ze){if(ze=="<")return F(me(">"),ee(mt,">"),Ee,ln);if(ze=="extends"||ze=="implements"||f&&_e==",")return ze=="implements"&&(D.marked="keyword"),F(f?Ft:se,ln);if(_e=="{")return F(me("}"),qr,Ee)}function qr(_e,ze){if(_e=="async"||_e=="variable"&&(ze=="static"||ze=="get"||ze=="set"||f&&te(ze))&&D.stream.match(/^\s+[\w$\xa1-\uffff]/,!1))return D.marked="keyword",F(qr);if(_e=="variable"||D.style=="keyword")return D.marked="property",F(un,qr);if(_e=="number"||_e=="string")return F(un,qr);if(_e=="[")return F(se,gt,ke("]"),un,qr);if(ze=="*")return D.marked="keyword",F(qr);if(f&&_e=="(")return V(gr,qr);if(_e==";"||_e==",")return F(qr);if(_e=="}")return F();if(ze=="@")return F(se,qr)}function un(_e,ze){if(ze=="!"||ze=="?")return F(un);if(_e==":")return F(Ft,Or);if(ze=="=")return F(ce);var ht=D.state.lexical.prev,Nt=ht&&ht.info=="interface";return V(Nt?gr:Xr)}function wr(_e,ze){return ze=="*"?(D.marked="keyword",F(qt,ke(";"))):ze=="default"?(D.marked="keyword",F(se,ke(";"))):_e=="{"?F(ee($,"}"),qt,ke(";")):V(He)}function $(_e,ze){if(ze=="as")return D.marked="keyword",F(ke("variable"));if(_e=="variable")return V(ce,$)}function oe(_e){return _e=="string"?F():_e=="("?V(se):_e=="."?V(ft):V(J,Fe,qt)}function J(_e,ze){return _e=="{"?tt(J,"}"):(_e=="variable"&&W(ze),ze=="*"&&(D.marked="keyword"),F(it))}function Fe(_e){if(_e==",")return F(J,Fe)}function it(_e,ze){if(ze=="as")return D.marked="keyword",F(J)}function qt(_e,ze){if(ze=="from")return D.marked="keyword",F(se)}function fn(_e){return _e=="]"?F():V(ee(ce,"]"))}function br(){return V(me("form"),Bt,ke("{"),me("}"),ee(dt,"}"),Ee,Ee)}function dt(){return V(Bt,Or)}function ie(_e,ze){return _e.lastType=="operator"||_e.lastType==","||m.test(ze.charAt(0))||/[,.]/.test(ze.charAt(0))}function Nr(_e,ze,ht){return ze.tokenize==T&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(ze.lastType)||ze.lastType=="quasi"&&/\{\s*$/.test(_e.string.slice(0,_e.pos-(ht||0)))}return{startState:function(_e){var ze={tokenize:T,lastType:"sof",cc:[],lexical:new L((_e||0)-a,0,"block",!1),localVars:o.localVars,context:o.localVars&&new he(null,null,!1),indented:_e||0};return o.globalVars&&typeof o.globalVars=="object"&&(ze.globalVars=o.globalVars),ze},token:function(_e,ze){if(_e.sol()&&(ze.lexical.hasOwnProperty("align")||(ze.lexical.align=!1),ze.indented=_e.indentation(),j(_e,ze)),ze.tokenize!=w&&_e.eatSpace())return null;var ht=ze.tokenize(_e,ze);return b=="comment"?ht:(ze.lastType=b=="operator"&&(_=="++"||_=="--")?"incdec":b,I(ze,ht,b,_,_e))},indent:function(_e,ze){if(_e.tokenize==w||_e.tokenize==N)return r.Pass;if(_e.tokenize!=T)return 0;var ht=ze&&ze.charAt(0),Nt=_e.lexical,It;if(!/^\s*else\b/.test(ze))for(var Pr=_e.cc.length-1;Pr>=0;--Pr){var Dr=_e.cc[Pr];if(Dr==Ee)Nt=Nt.prev;else if(Dr!=or&&Dr!=ve)break}for(;(Nt.type=="stat"||Nt.type=="form")&&(ht=="}"||(It=_e.cc[_e.cc.length-1])&&(It==ft||It==Q)&&!/^[,\.=+\-*:?[\(]/.test(ze));)Nt=Nt.prev;s&&Nt.type==")"&&Nt.prev.type=="stat"&&(Nt=Nt.prev);var An=Nt.type,Zr=ht==An;return An=="vardef"?Nt.indented+(_e.lastType=="operator"||_e.lastType==","?Nt.info.length+1:0):An=="form"&&ht=="{"?Nt.indented:An=="form"?Nt.indented+a:An=="stat"?Nt.indented+(ie(_e,ze)?s||a:0):Nt.info=="switch"&&!Zr&&o.doubleIndentSwitch!=!1?Nt.indented+(/^(?:case|default)\b/.test(ze)?a:2*a):Nt.align?Nt.column+(Zr?0:1):Nt.indented+(Zr?0:a)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:c?null:"/*",blockCommentEnd:c?null:"*/",blockCommentContinue:c?null:" * ",lineComment:c?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:c?"json":"javascript",jsonldMode:l,jsonMode:c,expressionAllowed:Nr,skipExpression:function(_e){I(_e,"atom","atom","true",new r.StringStream("",2,null))}}}),r.registerHelper("wordChars","javascript",/[\w$]/),r.defineMIME("text/javascript","javascript"),r.defineMIME("text/ecmascript","javascript"),r.defineMIME("application/javascript","javascript"),r.defineMIME("application/x-javascript","javascript"),r.defineMIME("application/ecmascript","javascript"),r.defineMIME("application/json",{name:"javascript",json:!0}),r.defineMIME("application/x-json",{name:"javascript",json:!0}),r.defineMIME("application/manifest+json",{name:"javascript",json:!0}),r.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),r.defineMIME("text/typescript",{name:"javascript",typescript:!0}),r.defineMIME("application/typescript",{name:"javascript",typescript:!0})})},9701:(n,t,e)=>{(function(r){r(e(4408))})(function(r){var i={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},o={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};r.defineMode("xml",function(a,s){var l=a.indentUnit,c={},u=s.htmlMode?i:o;for(var f in u)c[f]=u[f];for(var f in s)c[f]=s[f];var h,d;function m(F,G){function W(he){return G.tokenize=he,he(F,G)}var Y=F.next();if(Y=="<")return F.eat("!")?F.eat("[")?F.match("CDATA[")?W(b("atom","]]>")):null:F.match("--")?W(b("comment","-->")):F.match("DOCTYPE",!0,!0)?(F.eatWhile(/[\w\._\-]/),W(_(1))):null:F.eat("?")?(F.eatWhile(/[\w\._\-]/),G.tokenize=b("meta","?>"),"meta"):(h=F.eat("/")?"closeTag":"openTag",G.tokenize=g,"tag bracket");if(Y=="&"){var te;return F.eat("#")?F.eat("x")?te=F.eatWhile(/[a-fA-F\d]/)&&F.eat(";"):te=F.eatWhile(/[\d]/)&&F.eat(";"):te=F.eatWhile(/[\w\.\-:]/)&&F.eat(";"),te?"atom":"error"}else return F.eatWhile(/[^&<]/),null}m.isInText=!0;function g(F,G){var W=F.next();if(W==">"||W=="/"&&F.eat(">"))return G.tokenize=m,h=W==">"?"endTag":"selfcloseTag","tag bracket";if(W=="=")return h="equals",null;if(W=="<"){G.tokenize=m,G.state=N,G.tagName=G.tagStart=null;var Y=G.tokenize(F,G);return Y?Y+" tag error":"tag error"}else return/[\'\"]/.test(W)?(G.tokenize=x(W),G.stringStartCol=F.column(),G.tokenize(F,G)):(F.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function x(F){var G=function(W,Y){for(;!W.eol();)if(W.next()==F){Y.tokenize=g;break}return"string"};return G.isInAttribute=!0,G}function b(F,G){return function(W,Y){for(;!W.eol();){if(W.match(G)){Y.tokenize=m;break}W.next()}return F}}function _(F){return function(G,W){for(var Y;(Y=G.next())!=null;){if(Y=="<")return W.tokenize=_(F+1),W.tokenize(G,W);if(Y==">")if(F==1){W.tokenize=m;break}else return W.tokenize=_(F-1),W.tokenize(G,W)}return"meta"}}function S(F){return F&&F.toLowerCase()}function T(F,G,W){this.prev=F.context,this.tagName=G||"",this.indent=F.indented,this.startOfLine=W,(c.doNotIndent.hasOwnProperty(G)||F.context&&F.context.noIndent)&&(this.noIndent=!0)}function C(F){F.context&&(F.context=F.context.prev)}function w(F,G){for(var W;;){if(!F.context||(W=F.context.tagName,!c.contextGrabbers.hasOwnProperty(S(W))||!c.contextGrabbers[S(W)].hasOwnProperty(S(G))))return;C(F)}}function N(F,G,W){return F=="openTag"?(W.tagStart=G.column(),A):F=="closeTag"?j:N}function A(F,G,W){return F=="word"?(W.tagName=G.current(),d="tag",M):c.allowMissingTagName&&F=="endTag"?(d="tag bracket",M(F,G,W)):(d="error",A)}function j(F,G,W){if(F=="word"){var Y=G.current();return W.context&&W.context.tagName!=Y&&c.implicitlyClosed.hasOwnProperty(S(W.context.tagName))&&C(W),W.context&&W.context.tagName==Y||c.matchClosing===!1?(d="tag",R):(d="tag error",L)}else return c.allowMissingTagName&&F=="endTag"?(d="tag bracket",R(F,G,W)):(d="error",L)}function R(F,G,W){return F!="endTag"?(d="error",R):(C(W),N)}function L(F,G,W){return d="error",R(F,G,W)}function M(F,G,W){if(F=="word")return d="attribute",I;if(F=="endTag"||F=="selfcloseTag"){var Y=W.tagName,te=W.tagStart;return W.tagName=W.tagStart=null,F=="selfcloseTag"||c.autoSelfClosers.hasOwnProperty(S(Y))?w(W,Y):(w(W,Y),W.context=new T(W,Y,te==W.indented)),N}return d="error",M}function I(F,G,W){return F=="equals"?D:(c.allowMissing||(d="error"),M(F,G,W))}function D(F,G,W){return F=="string"?V:F=="word"&&c.allowUnquoted?(d="string",M):(d="error",M(F,G,W))}function V(F,G,W){return F=="string"?V:M(F,G,W)}return{startState:function(F){var G={tokenize:m,state:N,indented:F||0,tagName:null,tagStart:null,context:null};return F!=null&&(G.baseIndent=F),G},token:function(F,G){if(!G.tagName&&F.sol()&&(G.indented=F.indentation()),F.eatSpace())return null;h=null;var W=G.tokenize(F,G);return(W||h)&&W!="comment"&&(d=null,G.state=G.state(h||W,F,G),d&&(W=d=="error"?W+" error":d)),W},indent:function(F,G,W){var Y=F.context;if(F.tokenize.isInAttribute)return F.tagStart==F.indented?F.stringStartCol+1:F.indented+l;if(Y&&Y.noIndent)return r.Pass;if(F.tokenize!=g&&F.tokenize!=m)return W?W.match(/^(\s*)/)[0].length:0;if(F.tagName)return c.multilineTagIndentPastTag!==!1?F.tagStart+F.tagName.length+2:F.tagStart+l*(c.multilineTagIndentFactor||1);if(c.alignCDATA&&/<!\[CDATA\[/.test(G))return 0;var te=G&&/^<(\/)?([\w_:\.-]*)/.exec(G);if(te&&te[1])for(;Y;)if(Y.tagName==te[2]){Y=Y.prev;break}else if(c.implicitlyClosed.hasOwnProperty(S(Y.tagName)))Y=Y.prev;else break;else if(te)for(;Y;){var he=c.contextGrabbers[S(Y.tagName)];if(he&&he.hasOwnProperty(S(te[2])))Y=Y.prev;else break}for(;Y&&Y.prev&&!Y.startOfLine;)Y=Y.prev;return Y?Y.indent+l:F.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:c.htmlMode?"html":"xml",helperType:c.htmlMode?"html":"xml",skipAttribute:function(F){F.state==D&&(F.state=M)},xmlCurrentTag:function(F){return F.tagName?{name:F.tagName,close:F.type=="closeTag"}:null},xmlCurrentContext:function(F){for(var G=[],W=F.context;W;W=W.prev)G.push(W.tagName);return G.reverse()}}}),r.defineMIME("text/xml","xml"),r.defineMIME("application/xml","xml"),r.mimeModes.hasOwnProperty("text/html")||r.defineMIME("text/html",{name:"xml",htmlMode:!0})})},7058:(n,t,e)=>{e.d(t,{A:()=>a});var r=e(9156),i=function(){var s=function(l,c){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(u[h]=f[h])},s(l,c)};return function(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");s(l,c);function u(){this.constructor=l}l.prototype=c===null?Object.create(c):(u.prototype=c.prototype,new u)}}(),o=function(s){i(l,s);function l(c,u,f){var h=s.call(this,u,f)||this;return h._module=c,h}return Object.defineProperty(l.prototype,"module",{get:function(){return this._module},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"config",{get:function(){return this._module.config},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"em",{get:function(){return this._module.em},enumerable:!1,configurable:!0}),l}(r.Kx);const a=o},179:(n,t,e)=>{e.d(t,{A:()=>s,F:()=>o});var r=e(7058),i=function(){var l=function(c,u){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(f[d]=h[d])},l(c,u)};return function(c,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");l(c,u);function f(){this.constructor=c}c.prototype=u===null?Object.create(u):(f.prototype=u.prototype,new f)}}(),o;(function(l){l.Select="select",l.Hover="hover",l.Spacing="spacing",l.Target="target",l.Resize="resize"})(o||(o={}));var a=function(l){i(c,l);function c(){return l!==null&&l.apply(this,arguments)||this}return c.prototype.defaults=function(){return{id:"",type:""}},Object.defineProperty(c.prototype,"type",{get:function(){return this.get("type")||""},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"component",{get:function(){var u,f=this.get("component");return f||((u=this.get("componentView"))===null||u===void 0?void 0:u.model)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"componentView",{get:function(){var u,f=this.get("componentView");return f||((u=this.get("component"))===null||u===void 0?void 0:u.getView())},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"el",{get:function(){var u;return(u=this.componentView)===null||u===void 0?void 0:u.el},enumerable:!1,configurable:!0}),c.prototype.getBoxRect=function(u){var f=this,h=f.el,d=f.em,m=d.Canvas.getCanvasView(),g=this.get("boxRect");return g||(h&&m?m.getElBoxRect(h,u):{x:0,y:0,width:0,height:0})},c.prototype.getStyle=function(u){u===void 0&&(u={});var f=u.boxRect||this.getBoxRect(u),h=f.width,d=f.height,m=f.x,g=f.y;return{width:"".concat(h,"px"),height:"".concat(d,"px"),top:"0",left:"0",position:"absolute",translate:"".concat(m,"px ").concat(g,"px")}},c.prototype.isType=function(u){return this.type===u},c}(r.A);const s=a},1738:(n,t,e)=>{e.d(t,{A:()=>i});var r;(function(o){o.run="command:run",o.runCommand="command:run:",o.runBeforeCommand="command:run:before:",o.abort="command:abort:",o.stop="command:stop",o.stopCommand="command:stop:",o.stopBeforeCommand="command:stop:before:",o.call="command:call",o.callCommand="command:call:"})(r||(r={}));const i=r},9484:(n,t,e)=>{e.r(t),e.d(t,{default:()=>r});const r={run:function(i){i.Components.clear(),i.Css.clear()}}},9516:(n,t,e)=>{e.r(t),e.d(t,{default:()=>a});var r=e(5706),i=e(9966),o=e(6294);const a={run:function(s){(0,r.bindAll)(this,"onKeyUp","enableDragger","disableDragger"),this.editor=s,this.canvasModel=this.canvas.getCanvasView().model,this.toggleMove(1)},stop:function(s){this.toggleMove(),this.disableDragger()},onKeyUp:function(s){(0,o.Ch)(s)===" "&&this.editor.stopCommand(this.id)},enableDragger:function(s){this.toggleDragger(1,s)},disableDragger:function(s){this.toggleDragger(0,s)},toggleDragger:function(s,l){var c=this,u=c.canvasModel,f=c.em,h=this.dragger,d=s?"add":"remove";this.getCanvas().classList[d]("".concat(this.ppfx,"is__grabbing")),h||(h=new i.A({getPosition:function(){return{x:u.get("x"),y:u.get("y")}},setPosition:function(m){var g=m.x,x=m.y;u.set({x:g,y:x})},onStart:function(m,g){f.trigger("canvas:move:start",g)},onDrag:function(m,g){f.trigger("canvas:move",g)},onEnd:function(m,g){f.trigger("canvas:move:end",g)}}),this.dragger=h),s?h.start(l):h.stop()},toggleMove:function(s){var l=this.ppfx,c=s?"add":"remove",u=s?"on":"off",f={on:o.on,off:o.AU},h=this.getCanvas(),d=["".concat(l,"is__grab")];!s&&d.push("".concat(l,"is__grabbing")),d.forEach(function(m){return h.classList[c](m)}),f[u](document,"keyup",this.onKeyUp),f[u](h,"mousedown",this.enableDragger),f[u](document,"mouseup",this.disableDragger)}}},9946:(n,t,e)=>{e.r(t),e.d(t,{default:()=>c,defineCommand:()=>s});var r=e(9156),i=e(1738),o=function(){var u=function(f,h){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,m){d.__proto__=m}||function(d,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(d[g]=m[g])},u(f,h)};return function(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");u(f,h);function d(){this.constructor=f}f.prototype=h===null?Object.create(h):(d.prototype=h.prototype,new d)}}(),a=function(){return a=Object.assign||function(u){for(var f,h=1,d=arguments.length;h<d;h++){f=arguments[h];for(var m in f)Object.prototype.hasOwnProperty.call(f,m)&&(u[m]=f[m])}return u},a.apply(this,arguments)};function s(u){return u}var l=function(u){o(f,u);function f(h){var d=u.call(this,0)||this;d.config=h||{},d.em=d.config.em||{};var m=d.config.stylePrefix;return d.pfx=m,d.ppfx=d.config.pStylePrefix,d.hoverClass="".concat(m,"hover"),d.badgeClass="".concat(m,"badge"),d.plhClass="".concat(m,"placeholder"),d.freezClass="".concat(d.ppfx,"freezed"),d.canvas=d.em.Canvas,d.init(d.config),d}return f.prototype.onFrameScroll=function(h){},f.prototype.getCanvas=function(){return this.canvas.getElement()},f.prototype.getCanvasBody=function(){return this.canvas.getBody()},f.prototype.getCanvasTools=function(){return this.canvas.getToolsEl()},f.prototype.offset=function(h){var d=h.getBoundingClientRect();return{top:d.top+h.ownerDocument.body.scrollTop,left:d.left+h.ownerDocument.body.scrollLeft}},f.prototype.init=function(h){},f.prototype.callRun=function(h,d){d===void 0&&(d={});var m=this.id;if(h.trigger("".concat(i.A.runBeforeCommand).concat(m),{options:d}),d.abort){h.trigger("".concat(i.A.abort).concat(m),{options:d});return}var g=d.sender||h,x=this.run(h,g,d),b={id:m,result:x,options:d},_=a(a({},b),{type:"run"});return this.noStop||(h.Commands.active[m]=x),h.trigger("".concat(i.A.runCommand).concat(m),b),h.trigger("".concat(i.A.callCommand).concat(m),_),h.trigger(i.A.run,b),h.trigger(i.A.call,_),x},f.prototype.callStop=function(h,d){d===void 0&&(d={});var m=this.id,g=d.sender||h;h.trigger("".concat(i.A.stopBeforeCommand).concat(m),{options:d});var x=this.stop(h,g,d),b={id:m,result:x,options:d},_=a(a({},b),{type:"stop"});return delete h.Commands.active[m],h.trigger("".concat(i.A.stopCommand).concat(m),b),h.trigger("".concat(i.A.callCommand).concat(m),_),h.trigger(i.A.stop,b),h.trigger(i.A.call,_),x},f.prototype.stopCommand=function(h){this.em.Commands.stop(this.id,h)},f.prototype.run=function(h,d,m){},f.prototype.stop=function(h,d,m){},f}(r.Kx);const c=l},7801:(n,t,e)=>{e.r(t),e.d(t,{default:()=>a});var r=e(5706),i=function(s,l,c){if(c||arguments.length===2)for(var u=0,f=l.length,h;u<f;u++)(h||!(u in l))&&(h||(h=Array.prototype.slice.call(l,0,u)),h[u]=l[u]);return s.concat(h||Array.prototype.slice.call(l))},o={run:function(s,l,c){var u=this;c===void 0&&(c={});var f=[],h=c.component||s.getSelectedAll();return h=(0,r.isArray)(h)?i([],h,!0):[h],h.filter(Boolean).forEach(function(d){var m,g;if(!d.get("removable"))return u.em.logWarning("The element is not removable",{component:d});f.push(d);var x=((g=(m=d.delegate)===null||m===void 0?void 0:m.remove)===null||g===void 0?void 0:g.call(m,d))||d;x.remove()}),s.selectRemove(f),f}};const a=o},4864:(n,t,e)=>{e.r(t),e.d(t,{default:()=>l});var r=e(5706),i=e(9966),o=e(1166),a=function(){return a=Object.assign||function(c){for(var u,f=1,h=arguments.length;f<h;f++){u=arguments[f];for(var d in u)Object.prototype.hasOwnProperty.call(u,d)&&(c[d]=u[d])}return c},a.apply(this,arguments)},s="dmode";const l={run:function(c,u,f){var h=this,d,m;if(f===void 0&&(f={}),(0,r.bindAll)(this,"setPosition","onStart","onDrag","onEnd","getPosition","getGuidesStatic","renderGuide","getGuidesTarget"),!f.target)throw new Error("Target option is required");var g=a({doc:(d=f.target.getEl())===null||d===void 0?void 0:d.ownerDocument,onStart:this.onStart,onEnd:this.onEnd,onDrag:this.onDrag,getPosition:this.getPosition,setPosition:this.setPosition,guidesStatic:function(){var b;return(b=h.guidesStatic)!==null&&b!==void 0?b:[]},guidesTarget:function(){var b;return(b=h.guidesTarget)!==null&&b!==void 0?b:[]}},(m=f.dragger)!==null&&m!==void 0?m:{});this.setupGuides(),this.opts=f,this.editor=c,this.em=c.getModel(),this.target=f.target,this.isTran=f.mode=="translate",this.guidesContainer=this.getGuidesContainer(),this.guidesTarget=this.getGuidesTarget(),this.guidesStatic=this.getGuidesStatic();var x=this.dragger;return x?x.setOptions(g):(x=new i.A(g),this.dragger=x),f.event&&x.start(f.event),this.toggleDrag(!0),this.em.trigger("".concat(s,":start"),this.getEventOpts()),x},getEventOpts:function(){var c,u,f=(u=(c=this.guidesTarget)===null||c===void 0?void 0:c.filter(function(h){return h.active}))!==null&&u!==void 0?u:[];return{mode:this.opts.mode,component:this.target,target:this.target,guidesTarget:this.guidesTarget,guidesStatic:this.guidesStatic,guidesMatched:this.getGuidesMatched(f),command:this}},stop:function(){this.toggleDrag()},setupGuides:function(){var c;((c=this.guides)!==null&&c!==void 0?c:[]).forEach(function(u){var f,h=u.guide;(f=h==null?void 0:h.parentNode)===null||f===void 0||f.removeChild(h)}),this.guides=[]},getGuidesContainer:function(){var c=this,u,f,h,d,m=this.guidesEl;if(!m){var g=this,x=g.editor,b=g.em,_=g.opts,S=(u=x.getConfig().stylePrefix)!==null&&u!==void 0?u:"",T=document.createElement("div"),C=document.createElement("div"),w='<div class="'.concat(S,"guide-info__line ").concat(S,`danger-bg">
        <div class="`).concat(S,"guide-info__content ").concat(S,`danger-color"></div>
      </div>`);m=document.createElement("div"),m.className="".concat(S,"guides"),T.className="".concat(S,"guide-info ").concat(S,"guide-info__x"),C.className="".concat(S,"guide-info ").concat(S,"guide-info__y"),T.innerHTML=w,C.innerHTML=w,m.appendChild(T),m.appendChild(C),(f=x.Canvas.getGlobalToolsEl())===null||f===void 0||f.appendChild(m),this.guidesEl=m,this.elGuideInfoX=T,this.elGuideInfoY=C,this.elGuideInfoContentX=(h=T.querySelector(".".concat(S,"guide-info__content")))!==null&&h!==void 0?h:void 0,this.elGuideInfoContentY=(d=C.querySelector(".".concat(S,"guide-info__content")))!==null&&d!==void 0?d:void 0,b.on("canvas:update frame:scroll",(0,r.debounce)(function(){var N;c.updateGuides(),_.debug&&((N=c.guides)===null||N===void 0||N.forEach(function(A){return c.renderGuide(A)}))},200))}return m},getGuidesStatic:function(){var c=this,u=[],f=this.target.getEl(),h=f==null?void 0:f.parentElement;return h?((0,r.each)(h.children,function(d){return u=u.concat(f!==d?c.getElementGuides(d):[])}),u.concat(this.getElementGuides(h))):[]},getGuidesTarget:function(){return this.getElementGuides(this.target.getEl())},updateGuides:function(c){var u=this,f,h,d,m=(f=c??this.guides)!==null&&f!==void 0?f:[];m.forEach(function(g){var x=g.origin,b=h===x?d:u.getElementPos(x);h=x,d=b,(0,r.each)(u.getGuidePosUpdate(g,b),function(_,S){g[S]=_}),g.originRect=b})},getGuidePosUpdate:function(c,u){var f={},h=u.top,d=u.height,m=u.left,g=u.width;switch(c.type){case"t":f.y=h;break;case"b":f.y=h+d;break;case"l":f.x=m;break;case"r":f.x=m+g;break;case"x":f.x=m+g/2;break;case"y":f.y=h+d/2;break}return f},renderGuide:function(c){var u,f;if(!this.opts.skipGuidesRender){var h=(u=c.guide)!==null&&u!==void 0?u:document.createElement("div"),d="px",m=c.active?2:1;if(h.style.cssText="position: absolute; background-color: ".concat(c.active?"green":"red",";"),!h.children.length){var g=document.createElement("div");g.style.cssText="position: absolute; color: red; padding: 5px; top: 0; left: 0;",h.appendChild(g)}return c.y?(h.style.width="100%",h.style.height="".concat(m).concat(d),h.style.top="".concat(c.y).concat(d),h.style.left="0"):(h.style.width="".concat(m).concat(d),h.style.height="100%",h.style.left="".concat(c.x).concat(d),h.style.top="0".concat(d)),!c.guide&&((f=this.guidesContainer)===null||f===void 0||f.appendChild(h)),h}},getElementPos:function(c){return this.editor.Canvas.getElementPos(c,{noScroll:1})},getElementGuides:function(c){var u=this,f=this.opts,h=c,d=this.getElementPos(c),m=(0,o.getComponentModel)(c),g=(0,o.getComponentView)(c),x=d.top,b=d.height,_=d.left,S=d.width,T=[{type:"t",y:x},{type:"b",y:x+b},{type:"l",x:_},{type:"r",x:_+S},{type:"x",x:_+S/2},{type:"y",y:x+b/2}],C=T.map(function(w){var N=f.debug?u.renderGuide(w):void 0;return a(a({},w),{component:m,componentView:g,componentEl:h,origin:h,componentElRect:d,originRect:d,guideEl:N,guide:N})});return C.forEach(function(w){var N;return(N=u.guides)===null||N===void 0?void 0:N.push(w)}),C},getTranslate:function(c,u){u===void 0&&(u="x");var f=0;return(c||"").split(" ").forEach(function(h){var d=h.trim(),m="translate".concat(u.toUpperCase(),"(");d.indexOf(m)===0&&(f=parseFloat(d.replace(m,"")))}),f},setTranslate:function(c,u,f){var h="translate".concat(u.toUpperCase(),"("),d="".concat(h).concat(f,")"),m=(c||"").split(" ").map(function(g){var x=g.trim();return x.indexOf(h)===0&&(g=d),g}).join(" ");return m.indexOf(h)<0&&(m+=" ".concat(d)),m},getPosition:function(){var c=this,u=c.target,f=c.isTran,h=u.getStyle(),d=h.transform,m=h.left,g=h.top,x=0,b=0;return f&&d?(x=this.getTranslate(d),b=this.getTranslate(d,"y")):(x=parseFloat(m??"0"),b=parseFloat(g??"0")),{x,y:b}},setPosition:function(c){var u,f,h=c.x,d=c.y,m=c.end,g=c.position,x=c.width,b=c.height,_=this,S=_.target,T=_.isTran,C=_.em,w=_.opts,N="px",A=!m,j="".concat(parseInt("".concat(h),10)).concat(N),R="".concat(parseInt("".concat(d),10)).concat(N),L={};if(T){var M=(f=(u=S.getStyle())===null||u===void 0?void 0:u.transform)!==null&&f!==void 0?f:"";M=this.setTranslate(M,"x",j),M=this.setTranslate(M,"y",R),L={transform:M,__p:A}}else{var I={position:g,width:x,height:b},D={left:j,top:R,__p:A};(0,r.keys)(I).forEach(function(V){var F=I[V];F&&(D[V]=F)}),L=D}w.addStyle?w.addStyle({component:S,styles:L,partial:!m}):S.addStyle(L,{avoidStore:!m}),C.Styles.__emitCmpStyleUpdate(L,{components:C.getSelected()})},_getDragData:function(){var c=this.target;return{target:c,parent:c.parent(),index:c.index()}},onStart:function(c){var u,f=this,h=f.target,d=f.editor,m=f.isTran,g=f.opts,x=d.Canvas,b=h.getStyle(),_="absolute",S=[_,"relative"];if((u=g.onStart)===null||u===void 0||u.call(g,this._getDragData()),!m){if(b.position!==_){var T=x.offset(h.getEl()),C=T.left,w=T.top,N=T.width,A=T.height,j=h.parent(),R=null;do{var L=j==null?void 0:j.getStyle(),M=L==null?void 0:L.position;M&&(R=S.indexOf(M)>=0?j:null),j=j==null?void 0:j.parent()}while(j&&!R);if(g.center){var I=x.getMouseRelativeCanvas(c),D=I.x,V=I.y;C=D,w=V}else if(R){var F=x.offset(R.getEl());C=C-F.left,w=w-F.top}this.setPosition({x:C,y:w,width:"".concat(N,"px"),height:"".concat(A,"px"),position:_})}this.guidesStatic=this.getGuidesStatic()}},onDrag:function(c){var u=this,f,h,d=this,m=d.guidesTarget,g=d.opts;this.updateGuides(m),g.debug&&(m==null||m.forEach(function(x){return u.renderGuide(x)})),g.guidesInfo&&this.renderGuideInfo((f=m==null?void 0:m.filter(function(x){return x.active}))!==null&&f!==void 0?f:[]),(h=g.onDrag)===null||h===void 0||h.call(g,this._getDragData()),this.opts.event=c,this.em.trigger("".concat(s,":move"),this.getEventOpts())},onEnd:function(c,u,f){var h,d=this,m=d.editor,g=d.opts,x=d.id;(h=g.onEnd)===null||h===void 0||h.call(g,c,f,a(a({event:c},f),this._getDragData())),m.stopCommand("".concat(x)),this.hideGuidesInfo(),this.em.trigger("".concat(s,":end"),this.getEventOpts())},hideGuidesInfo:function(){var c=this;["X","Y"].forEach(function(u){var f=c["elGuideInfo".concat(u)];f&&(f.style.display="none")})},renderGuideInfo:function(c){var u=this;c===void 0&&(c=[]),this.hideGuidesInfo();var f=this.getGuidesMatched(c);f.forEach(function(h){u.opts.skipGuidesRender||u.renderSingleGuideInfo(h),u.em.trigger("".concat(s,":active"),a(a({},u.getEventOpts()),h))})},renderSingleGuideInfo:function(c){var u=c.posFirst,f=c.posSecond,h=c.size,d=c.sizeRaw,m=c.guide,g=c.elGuideInfo,x=c.elGuideInfoCnt,b=(0,r.isUndefined)(m.x)?"y":"x",_=b==="y",S=g.style;S.display="",S[_?"top":"left"]="".concat(u,"px"),S[_?"left":"top"]="".concat(f,"px"),S[_?"width":"height"]="".concat(h,"px"),x.innerHTML="".concat(Math.round(d),"px")},getGuidesMatched:function(c){var u=this;c===void 0&&(c=[]);var f=this.guidesStatic,h=f===void 0?[]:f;return c.map(function(d){var m=d.origin,g=d.x,x=u.getElementPos(m),b=(0,r.isUndefined)(g)?"y":"x",_=b==="y",S=x[_?"left":"top"],T=x.rect[_?"left":"top"],C=_?S+x.width:S+x.height,w=_?T+x.rect.width:T+x.rect.height,N=h.filter(function(ve){var me,Ee={l:["r","x"],r:["l","x"],x:["l","r"],t:["b","y"],b:["t","y"],y:["t","b"]};return ve.type===d.type||((me=Ee[d.type])===null||me===void 0?void 0:me.includes(ve.type))}).map(function(ve){var me=ve.originRect,Ee=me.left,ke=me.width,He=me.top,Re=me.height,se=_?Ee:He,ce=_?Ee+ke:He+Re;return{gap:ce<S?S-ce:se-C,guide:ve}}).filter(function(ve){return ve.gap>0}).sort(function(ve,me){return ve.gap-me.gap}).map(function(ve){return ve.guide}).filter(function(ve){switch(d.type){case"l":case"r":case"x":return Math.abs(ve.x-d.x)<1;case"t":case"b":case"y":return Math.abs(ve.y-d.y)<1;default:return!1}}),A=N[0];if(A){var j=A.originRect,R=j.left,L=j.width,M=j.top,I=j.height,D=j.rect,V=_?R<x.left:M<x.top,F=_?R:M,G=_?D.left:D.top,W=_?R+L:M+I,Y=_?D.left+D.width:D.top+D.height,te=_?d.y:d.x,he=V?W:C,z=V?S-W:F-C,Z=V?T-Y:G-w,X=u["elGuideInfo".concat(b.toUpperCase())],ae=u["elGuideInfoContent".concat(b.toUpperCase())];return{guide:d,guidesStatic:h,matched:A,posFirst:te,posSecond:he,size:z,sizeRaw:Z,elGuideInfo:X,elGuideInfoCnt:ae}}else return null}).filter(Boolean)},toggleDrag:function(c){var u=this,f=u.ppfx,h=u.editor,d=c?"add":"remove",m=["".concat(f,"is__grabbing")],g=h.Canvas,x=g.getBody();m.forEach(function(b){return x.classList[d](b)}),g[c?"startAutoscroll":"stopAutoscroll"]()},editor:void 0,em:void 0,opts:void 0,target:void 0}},6134:(n,t,e)=>{e.r(t),e.d(t,{default:()=>r});const r={run:function(i){if(i.Canvas.hasFocus()){var o=[];i.getSelectedAll().forEach(function(a){var s=a.components(),l=s&&s.filter(function(c){return c.get("selectable")})[0];l&&o.push(l)}),o.length&&i.select(o)}}}},914:(n,t,e)=>{e.r(t),e.d(t,{default:()=>r});const r={run:function(i,o,a){if(a===void 0&&(a={}),!(!i.Canvas.hasFocus()&&!a.force)){var s=[];i.getSelectedAll().forEach(function(l){for(var c=l.parent();c&&!c.get("selectable");)c=c.parent();c&&s.push(c)}),s.length&&i.select(s)}}}},5547:(n,t,e)=>{e.r(t),e.d(t,{default:()=>r});const r={run:function(i){if(i.Canvas.hasFocus()){var o=[];i.getSelectedAll().forEach(function(a){var s=a.parent();if(s){var l=s.components().length,c=0,u=0,f;do c++,u=a.index()+c,f=u<=l?s.getChildAt(u):null;while(f&&!f.get("selectable"));o.push(f||a)}}),o.length&&i.select(o)}}}},8655:(n,t,e)=>{e.r(t),e.d(t,{default:()=>r});const r={run:function(i){if(i.Canvas.hasFocus()){var o=[];i.getSelectedAll().forEach(function(a){var s=a.parent();if(s){var l=0,c=0,u;do l++,c=a.index()-l,u=c>=0?s.getChildAt(c):null;while(u&&!u.get("selectable"));o.push(u||a)}}),o.length&&i.select(o)}}}},7640:(n,t,e)=>{e.r(t),e.d(t,{default:()=>i});var r=e(5706);const i={run:function(o,a,s){s===void 0&&(s={});var l=s.target,c=[];if(!l.get("styles"))return c;var u=l.get("type"),f=o.Pages.getAllWrappers(),h=(0,r.flatten)(f.map(function(m){return m.findType(u)})).length;if(!h){var d=o.CssComposer.getAll();c=d.filter(function(m){return m.get("group")==="cmp:".concat(u)}),d.remove(c)}return c}}},5837:(n,t,e)=>{e.r(t),e.d(t,{default:()=>i});var r=function(o,a,s){if(s||arguments.length===2)for(var l=0,c=a.length,u;l<c;l++)(u||!(l in a))&&(u||(u=Array.prototype.slice.call(a,0,l)),u[l]=a[l]);return o.concat(u||Array.prototype.slice.call(a))};const i={run:function(o){var a=o.getModel(),s=r([],o.getSelectedAll(),!0).map(function(l){var c,u;return((u=(c=l.delegate)===null||c===void 0?void 0:c.copy)===null||u===void 0?void 0:u.call(c,l))||l}).filter(Boolean);s.length&&a.set("clipboard",s)}}},6477:(n,t,e)=>{e.r(t),e.d(t,{default:()=>i});var r=e(6294);const i={run:function(o,a,s){var l=this;s===void 0&&(s={}),a&&a.set&&a.set("active",0);var c=o.getConfig(),u=o.Modal,f=c.stylePrefix;if(this.cm=o.CodeManager||null,!this.editors){var h=this.buildEditor("htmlmixed","hopscotch","HTML"),d=this.buildEditor("css","hopscotch","CSS");this.htmlEditor=h.model,this.cssEditor=d.model;var m=(0,r.a_)("div",{class:"".concat(f,"export-dl")});m.appendChild(h.el),m.appendChild(d.el),this.editors=m}u.open({title:c.textViewCode,content:this.editors}).getModel().once("change:open",function(){return o.stopCommand("".concat(l.id))}),this.htmlEditor.setContent(o.getHtml(s.optsHtml)),this.cssEditor.setContent(o.getCss(s.optsCss))},stop:function(o){var a=o.Modal;a&&a.close()},buildEditor:function(o,a,s){var l=this.em.CodeManager,c=l.createViewer({label:s,codeName:o,theme:a}),u=new l.EditorView({model:c,config:l.getConfig()}).render().el;return{model:c,el:u}}}},1772:(n,t,e)=>{e.r(t),e.d(t,{default:()=>i});var r=e(5706);const i={isEnabled:function(){var o=document;return!!(o.fullscreenElement||o.webkitFullscreenElement||o.mozFullScreenElement)},enable:function(o){var a="";return o.requestFullscreen?o.requestFullscreen():o.webkitRequestFullscreen?(a="webkit",o.webkitRequestFullscreen()):o.mozRequestFullScreen?(a="moz",o.mozRequestFullScreen()):o.msRequestFullscreen&&o.msRequestFullscreen(),a},disable:function(){var o=document;this.isEnabled()&&(o.exitFullscreen?o.exitFullscreen():o.webkitExitFullscreen?o.webkitExitFullscreen():o.mozCancelFullScreen?o.mozCancelFullScreen():o.msExitFullscreen&&o.msExitFullscreen())},fsChanged:function(o){this.isEnabled()||(this.stopCommand({sender:this.sender}),document.removeEventListener("".concat(o||"","fullscreenchange"),this.fsChanged))},run:function(o,a,s){s===void 0&&(s={}),this.sender=a;var l=s.target,c=(0,r.isElement)(l)?l:document.querySelector(l),u=this.enable(c||o.getContainer());this.fsChanged=this.fsChanged.bind(this,u),document.addEventListener(u+"fullscreenchange",this.fsChanged)},stop:function(o,a){a&&a.set&&a.set("active",!1),this.disable()}}},741:(n,t,e)=>{e.r(t),e.d(t,{default:()=>l});var r=e(5706),i=e(7774),o=e(6294),a=e(9317),s=e(1406);const l=(0,r.extend)({},s.default,a.default,{init:function(c){a.default.init.apply(this,arguments),(0,r.bindAll)(this,"initSorter","rollback","onEndMove"),this.opt=c,this.hoverClass=this.ppfx+"highlighter-warning",this.badgeClass=this.ppfx+"badge-warning",this.noSelClass=this.ppfx+"no-select"},enable:function(){for(var c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];a.default.enable.apply(this,c),this.getBadgeEl().addClass(this.badgeClass),this.getHighlighterEl().addClass(this.hoverClass);var f=this.$wrapper;f.css("cursor","move"),f.on("mousedown",this.initSorter),f.addClass(this.noSelClass)},toggleClipboard:function(){},initSorter:function(c){var u=(0,i.default)(c.target).data("model"),f=u.get("draggable");f&&(this.cacheEl=null,this.startSelectPosition(c.target,this.frameEl.contentDocument),this.sorter.draggable=f,this.sorter.eventHandlers.legacyOnEndMove=this.onEndMove.bind(this),this.stopSelectComponent(),this.$wrapper.off("mousedown",this.initSorter),(0,o.on)(this.getContentWindow(),"keydown",this.rollback))},initSorterFromModel:function(c){var u=c.get("draggable");if(u){this.cacheEl=null;var f=c.view.el;this.startSelectPosition(f,this.frameEl.contentDocument),this.sorter.draggable=u,this.sorter.eventHandlers.legacyOnEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),(0,o.on)(this.getContentWindow(),"keydown",this.rollback)}},initSorterFromModels:function(c){this.cacheEl=null;var u=c[c.length-1],f=this.em.getCurrentFrame(),h=u.getEl(f==null?void 0:f.model),d=h.ownerDocument,m=c.map(function(g){var x;return(x=g==null?void 0:g.view)===null||x===void 0?void 0:x.el});this.startSelectPosition(m,d,{onStart:this.onStart}),this.sorter.eventHandlers.legacyOnMoveClb=this.onDrag,this.sorter.eventHandlers.legacyOnEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),(0,o.on)(this.getContentWindow(),"keydown",this.rollback)},onEndMoveFromModel:function(){(0,o.AU)(this.getContentWindow(),"keydown",this.rollback)},onEndMove:function(){this.enable(),(0,o.AU)(this.getContentWindow(),"keydown",this.rollback)},onSelect:function(c,u){},rollback:function(c,u){var f=c.which||c.keyCode;(f==27||u)&&this.sorter.cancelDrag()},getBadgeEl:function(){return this.$badge||(this.$badge=(0,i.default)(this.getBadge())),this.$badge},getHighlighterEl:function(){return this.$hl||(this.$hl=(0,i.default)(this.canvas.getHighlighter())),this.$hl},stop:function(){for(var c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];a.default.stop.apply(this,c),this.getBadgeEl().removeClass(this.badgeClass),this.getHighlighterEl().removeClass(this.hoverClass);var f=this.$wrapper;f.css("cursor","").unbind().removeClass(this.noSelClass)}})},2924:(n,t,e)=>{e.r(t),e.d(t,{default:()=>o});var r=e(5706),i=e(6294);const o={open:function(a){var s=this,l=this,c=l.editor,u=l.title,f=l.config,h=l.am,d=f.custom;if((0,r.isFunction)(d.open))return d.open(h.__customData());var m=c.Modal;m.open({title:u,content:a}).onceClose(function(){return c.stopCommand(s.id)})},close:function(){var a=this.config.custom;if((0,r.isFunction)(a.close))return a.close(this.am.__customData());var s=this.editor.Modal;s&&s.close()},run:function(a,s,l){l===void 0&&(l={});var c=a.AssetManager,u=c.getConfig(),f=l.types,h=f===void 0?[]:f,d=l.accept,m=l.select;if(this.title=l.modalTitle||a.t("assetManager.modalTitle")||"",this.editor=a,this.config=u,this.am=c,c.setTarget(l.target),c.onClick(l.onClick),c.onDblClick(l.onDblClick),c.onSelect(l.onSelect),c.__behaviour({select:m,types:h,options:l}),u.custom)this.rendered=this.rendered||(0,i.a_)("div"),this.rendered.className="".concat(u.stylePrefix,"custom-wrp"),c.__behaviour({container:this.rendered}),c.__trgCustom();else{if(!this.rendered||h){var g=c.getAll().filter(function(b){return b});h&&h.length&&(g=g.filter(function(b){return h.indexOf(b.get("type"))!==-1})),c.render(g),this.rendered=c.getContainer()}if(d){var x=this.rendered.querySelector("input#".concat(u.stylePrefix,"uploadFile"));x&&x.setAttribute("accept",d)}}return this.open(this.rendered),this},stop:function(a){this.editor=a,this.close(this.rendered)}}},3963:(n,t,e)=>{e.r(t),e.d(t,{default:()=>o});var r=e(5706),i=e(6294);const o={open:function(){var a=this,s=a.container,l=a.editor,c=a.bm,u=a.config,f=u.custom,h=u.appendTo;if((0,r.isFunction)(f.open))return f.open(c.__customData());if(this.firstRender&&!h){var d="views-container",m=l.Panels,g=m.getPanel(d)||m.addPanel({id:d});g.set("appendContent",s).trigger("change:appendContent"),f||s.appendChild(c.render())}s&&(s.style.display="block")},close:function(){var a=this,s=a.container,l=a.config,c=l.custom;if((0,r.isFunction)(c.close))return c.close(this.bm.__customData());s&&(s.style.display="none")},run:function(a){var s=a.Blocks;this.config=s.getConfig(),this.firstRender=!this.container,this.container=this.container||(0,i.a_)("div"),this.editor=a,this.bm=s;var l=this.container;s.__behaviour({container:l}),this.config.custom&&s.__trgCustom(),this.open()},stop:function(){this.close()}}},1479:(n,t,e)=>{e.r(t),e.d(t,{default:()=>r});const r={run:function(i){var o=i.LayerManager,a=i.Panels,s=o.getConfig();if(!s.appendTo){if(!this.layers){var l="views-container",c=document.createElement("div"),u=a.getPanel(l)||a.addPanel({id:l});s.custom?o.__trgCustom({container:c}):c.appendChild(o.render()),u.set("appendContent",c).trigger("change:appendContent"),this.layers=c}this.layers.style.display="block"}},stop:function(){var i=this.layers;i&&(i.style.display="none")}}},3473:(n,t,e)=>{e.r(t),e.d(t,{default:()=>i});var r=e(7774);const i={run:function(o,a){if(this.sender=a,!this.$cnt){var s=o.getConfig(),l=o.Panels,c=o.DeviceManager,u=o.SelectorManager,f=o.StyleManager,h="change:appendContent",d=(0,r.default)("<div></div>"),m=(0,r.default)("<div></div>"),g=(0,r.default)("<div></div>"),x=(0,r.default)("<div></div>");if(this.$cnt=d,this.$cntInner=m,m.append(g),m.append(x),d.append(m),c&&s.showDevices){var b=l.addPanel({id:"devices-c"}),_=c.render();b.set("appendContent",_).trigger(h)}var S=u.getConfig();S.custom?u.__trgCustom({container:g.get(0)}):S.appendTo||g.append(u.render([])),this.sm=f;var T=f.getConfig(),C=T.stylePrefix;this.$header=(0,r.default)('<div class="'.concat(C,'header">').concat(o.t("styleManager.empty"),"</div>")),d.append(this.$header),T.custom?f.__trgCustom({container:x.get(0)}):T.appendTo||x.append(f.render());var w="views-container",N=l.getPanel(w)||l.addPanel({id:w});N.set("appendContent",d).trigger(h);var A=o.getModel();this.listenTo(A,f.events.target,this.toggleSm)}this.toggleSm()},toggleSm:function(){var o=this,a=o.sender,s=o.sm,l=o.$cntInner,c=o.$header;a&&a.get&&!a.get("active")||!s||(s.getSelected()?(l==null||l.show(),c==null||c.hide()):(l==null||l.hide(),c==null||c.show()))},stop:function(){var o,a;(o=this.$cntInner)===null||o===void 0||o.hide(),(a=this.$header)===null||a===void 0||a.hide()}}},5054:(n,t,e)=>{e.r(t),e.d(t,{default:()=>i});var r=e(7774);const i={run:function(o,a){this.sender=a;var s=o.getModel(),l=o.Config,c=l.stylePrefix,u=o.TraitManager,f=u.getConfig(),h;if(!f.appendTo){if(!this.$cn){this.$cn=(0,r.default)("<div></div>"),this.$cn2=(0,r.default)("<div></div>"),this.$cn.append(this.$cn2),this.$header=(0,r.default)("<div>").append('<div class="'.concat(f.stylePrefix,'header">').concat(s.t("traitManager.empty"),"</div>")),this.$cn.append(this.$header),f.custom?u.__trgCustom({container:this.$cn2.get(0)}):(this.$cn2.append('<div class="'.concat(c,'traits-label">').concat(s.t("traitManager.label"),"</div>")),this.$cn2.append(u.render()));var d=o.Panels;d.getPanel("views-container")?h=d.getPanel("views-container"):h=d.addPanel({id:"views-container"}),h==null||h.set("appendContent",this.$cn.get(0)).trigger("change:appendContent"),this.target=o.getModel(),this.listenTo(this.target,"component:toggled",this.toggleTm)}this.toggleTm()}},toggleTm:function(){var o=this.sender;o&&o.get&&!o.get("active")||(this.target.getSelectedAll().length===1?(this.$cn2.show(),this.$header.hide()):(this.$cn2.hide(),this.$header.show()))},stop:function(){this.$cn2&&this.$cn2.hide(),this.$header&&this.$header.hide()}}},6979:(n,t,e)=>{e.r(t),e.d(t,{default:()=>i});var r=e(5706);const i={run:function(a,s,l){l===void 0&&(l={});var c=a.getModel(),u=c.get("clipboard"),f=a.getSelected();u!=null&&u.length&&f&&(a.getSelectedAll().forEach(function(h){var d,m,g,x=((m=(d=h.delegate)===null||d===void 0?void 0:d.copy)===null||m===void 0?void 0:m.call(d,h))||h,b=x.collection,_;if(b){var S=x.index()+1,T={at:S,action:l.action||"paste-component"};(0,r.contains)(u,x)&&x.get("copyable")?_=b.add(x.clone(),T):_=o(a,u,x.parent(),T)}else{var C=(g=c.Pages.getSelected())===null||g===void 0?void 0:g.getMainComponent(),T={at:(C==null?void 0:C.components().length)||0,action:l.action||"paste-component"};_=o(a,u,C,T)}_=(0,r.isArray)(_)?_:[_],_.forEach(function(w){return a.trigger("component:paste",w)})}),f.emitUpdate())}};function o(a,s,l,c){var u=s.filter(function(h){return h.get("copyable")}),f=u.filter(function(h){return a.Components.canMove(l,h).result});return l.components().add(f.map(function(h){return h.clone()}),c)}},4457:(n,t,e)=>{e.r(t),e.d(t,{default:()=>a});var r=e(5706),i=function(s,l,c){if(c||arguments.length===2)for(var u=0,f=l.length,h;u<f;u++)(h||!(u in l))&&(h||(h=Array.prototype.slice.call(l,0,u)),h[u]=l[u]);return s.concat(h||Array.prototype.slice.call(l))},o="core:component-outline";const a={getPanels:function(s){return this.panels||(this.panels=s.Panels.getPanels()),this.panels},preventDrag:function(s){s.abort=1},tglEffects:function(s){var l=this.em,c=s?"on":"off";if(l){var u=l.Canvas,f=u.getBody(),h=u.getToolbarEl();h&&(h.style.display=s?"none":"");var d=f.querySelectorAll(".".concat(this.ppfx,"no-pointer"));(0,r.each)(d,function(m){return m.style.pointerEvents=s?"all":""}),l[c]("run:tlb-move:before",this.preventDrag)}},run:function(s,l){var c=this;this.sender=l,this.selected=i([],s.getSelectedAll(),!0),s.select(),this.shouldRunSwVisibility||(this.shouldRunSwVisibility=s.Commands.isActive(o)),this.shouldRunSwVisibility&&s.stopCommand(o),s.getModel().stopDefault();var u=this.getPanels(s),f=s.Canvas.getElement(),h=s.getEl(),d=s.Config.stylePrefix;if(!this.helper){var m=document.createElement("span");m.className="".concat(d,"off-prv fa fa-eye-slash"),h.appendChild(m),m.onclick=function(){return c.stopCommand()},this.helper=m}this.helper.style.display="inline-block",u.forEach(function(x){return x.set("visible",!1)});var g=f.style;g.width="100%",g.height="100%",g.top="0",g.left="0",g.padding="0",g.margin="0",s.refresh(),this.tglEffects(1)},stop:function(s){var l=this,c=l.sender,u=c===void 0?{}:c,f=l.selected;u.set&&u.set("active",0);var h=this.getPanels(s);this.shouldRunSwVisibility&&(s.runCommand(o),this.shouldRunSwVisibility=!1),s.getModel().runDefault(),h.forEach(function(m){return m.set("visible",!0)});var d=s.Canvas.getElement();d.setAttribute("style",""),f&&s.select(f),delete this.selected,this.helper&&(this.helper.style.display="none"),s.refresh(),this.tglEffects()}}},5493:(n,t,e)=>{e.r(t),e.d(t,{default:()=>i});var r=function(){return r=Object.assign||function(o){for(var a,s=1,l=arguments.length;s<l;s++){a=arguments[s];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(o[c]=a[c])}return o},r.apply(this,arguments)};const i={run:function(o,a,s){var l=s||{},c=o.Canvas,u=c.getCanvasView(),f=r({appendTo:c.getResizerEl(),prefix:o.getConfig().stylePrefix,posFetcher:u.getElementPos.bind(u),mousePosFetcher:c.getMouseRelativePos.bind(c)},l.options||{}),h=this.canvasResizer;return(!h||l.forceNew)&&(this.canvasResizer=new o.Utils.Resizer(f),h=this.canvasResizer),h.setOptions(f,!0),h.blur(),h.focus(l.el),h},stop:function(){var o;(o=this.canvasResizer)===null||o===void 0||o.blur()}}},9317:(n,t,e)=>{e.r(t),e.d(t,{default:()=>R});var r=e(5706),i=e(9156),o=function(){var L=function(M,I){return L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,V){D.__proto__=V}||function(D,V){for(var F in V)Object.prototype.hasOwnProperty.call(V,F)&&(D[F]=V[F])},L(M,I)};return function(M,I){if(typeof I!="function"&&I!==null)throw new TypeError("Class extends value "+String(I)+" is not a constructor or null");L(M,I);function D(){this.constructor=M}M.prototype=I===null?Object.create(I):(D.prototype=I.prototype,new D)}}(),a=function(L){o(M,L);function M(){return L!==null&&L.apply(this,arguments)||this}return M.prototype.defaults=function(){return{command:"",attributes:{}}},M}(i.Kx);const s=a;var l=function(){var L=function(M,I){return L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,V){D.__proto__=V}||function(D,V){for(var F in V)Object.prototype.hasOwnProperty.call(V,F)&&(D[F]=V[F])},L(M,I)};return function(M,I){if(typeof I!="function"&&I!==null)throw new TypeError("Class extends value "+String(I)+" is not a constructor or null");L(M,I);function D(){this.constructor=M}M.prototype=I===null?Object.create(I):(D.prototype=I.prototype,new D)}}(),c=function(L){l(M,L);function M(){return L!==null&&L.apply(this,arguments)||this}return M}(i.pM);const u=c;c.prototype.model=s;var f=e(8242),h=function(){var L=function(M,I){return L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,V){D.__proto__=V}||function(D,V){for(var F in V)Object.prototype.hasOwnProperty.call(V,F)&&(D[F]=V[F])},L(M,I)};return function(M,I){if(typeof I!="function"&&I!==null)throw new TypeError("Class extends value "+String(I)+" is not a constructor or null");L(M,I);function D(){this.constructor=M}M.prototype=I===null?Object.create(I):(D.prototype=I.prototype,new D)}}(),d=function(){return d=Object.assign||function(L){for(var M,I=1,D=arguments.length;I<D;I++){M=arguments[I];for(var V in M)Object.prototype.hasOwnProperty.call(M,V)&&(L[V]=M[V])}return L},d.apply(this,arguments)},m=function(L){h(M,L);function M(I){var D=L.call(this,I)||this;return D.em=I.config.em,D}return M.prototype.events=function(){return this.model.get("events")||{mousedown:"handleClick"}},M.prototype.attributes=function(){return this.model.get("attributes")},M.prototype.handleClick=function(I){I.preventDefault(),I.stopPropagation();var D=this.em,V=D.Canvas.getFrameEl().getBoundingClientRect(),F=V.left,G=V.top,W=d(d({},I),{clientX:I.clientX-F,clientY:I.clientY-G});D.trigger("toolbar:run:before",{event:W}),this.execCommand(W)},M.prototype.execCommand=function(I){var D=this,V=D.em,F=D.model,G={event:I},W=F.get("command"),Y=V.Editor;(0,r.isFunction)(W)&&W(Y,null,G),(0,r.isString)(W)&&Y.runCommand(W,G)},M.prototype.render=function(){var I=this,D=I.em,V=I.$el,F=I.model,G=F.get("id"),W=F.get("label"),Y=D.getConfig().stylePrefix;return V.addClass("".concat(Y,"toolbar-item")),G&&V.addClass("".concat(Y,"toolbar-item__").concat(G)),W&&V.append(W),this},M}(i.Ss);const g=m;var x=function(){var L=function(M,I){return L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,V){D.__proto__=V}||function(D,V){for(var F in V)Object.prototype.hasOwnProperty.call(V,F)&&(D[F]=V[F])},L(M,I)};return function(M,I){if(typeof I!="function"&&I!==null)throw new TypeError("Class extends value "+String(I)+" is not a constructor or null");L(M,I);function D(){this.constructor=M}M.prototype=I===null?Object.create(I):(D.prototype=I.prototype,new D)}}(),b=function(L){x(M,L);function M(I){var D=L.call(this,I)||this,V=I.em;return D.em=V,D.config={em:V},D.listenTo(D.collection,"reset",D.render),D}return M.prototype.onRender=function(){var I=this.em.config.stylePrefix;this.el.className="".concat(I,"toolbar-items")},M}(f.A);const _=b;b.prototype.itemView=g;var S=e(6294),T=e(1166),C=e(179),w=e(2225),N=function(){return N=Object.assign||function(L){for(var M,I=1,D=arguments.length;I<D;I++){M=arguments[I];for(var V in M)Object.prototype.hasOwnProperty.call(M,V)&&(L[V]=M[V])}return L},N.apply(this,arguments)},A=function(L,M){var I={};for(var D in L)Object.prototype.hasOwnProperty.call(L,D)&&M.indexOf(D)<0&&(I[D]=L[D]);if(L!=null&&typeof Object.getOwnPropertySymbols=="function")for(var V=0,D=Object.getOwnPropertySymbols(L);V<D.length;V++)M.indexOf(D[V])<0&&Object.prototype.propertyIsEnumerable.call(L,D[V])&&(I[D[V]]=L[D[V]]);return I},j;const R={activeResizer:!1,init:function(){this.onSelect=(0,r.debounce)(this.onSelect,0),(0,r.bindAll)(this,"onHover","onOut","onClick","onCanvasScroll","onFrameScroll","onFrameResize","onFrameUpdated","onContainerChange")},enable:function(){this.frameOff=this.canvasOff=this.adjScroll=null,this.startSelectComponent(),j=!0},startSelectComponent:function(){this.toggleSelectComponent(1),this.em.getSelected()&&this.onSelect()},stopSelectComponent:function(){this.toggleSelectComponent()},toggleSelectComponent:function(L){var M=this,I=this,D=I.em,V=I.canvas,F=V.getCanvasView().el,G=D.getConfig().listenToEl,W=D.getContainer().parentNode,Y=L?"on":"off",te={on:S.on,off:S.AU},he=w.I.update;!G.length&&W&&G.push(W);var z=function(Z,X,ae){te[Y](ae,"scroll",M.onCanvasScroll,!0),te[Y](X,"mouseover",M.onHover),te[Y](X,"mouseleave",M.onOut),te[Y](X,"click",M.onClick),te[Y](Z,"scroll",M.onFrameScroll,!0),te[Y](Z,"resize",M.onFrameResize)};te[Y](window,"resize",this.onFrameUpdated),te[Y](G,"scroll",this.onContainerChange),D[Y]("component:toggled ".concat(he," undo redo"),this.onSelect,this),D[Y]("change:componentHovered",this.onHovered,this),D[Y]("".concat(w.I.resize," styleable:change ").concat(w.I.input),this.updateGlobalPos,this),D[Y]("".concat(he,":toolbar"),this._upToolbar,this),D[Y]("frame:updated",this.onFrameUpdated,this),D[Y]("canvas:updateTools",this.onFrameUpdated,this),D[Y](D.Canvas.events.refresh,this.updateAttached,this),D.Canvas.getFrames().forEach(function(Z){var X=Z.view,ae=X==null?void 0:X.getWindow();ae&&z(ae,X==null?void 0:X.getBody(),F)})},onHover:function(L){L.stopPropagation();var M=this.em,I=L.target,D=(0,T.getComponentView)(I),V=D==null?void 0:D.frameView,F=D==null?void 0:D.model;if(!F)for(var G=I.parentNode;!F&&G&&!(0,S.ZQ)(G);)F=(0,T.getComponentModel)(G),G=G.parentNode;this.currentDoc=I.ownerDocument,M.setHovered(F,{useValid:!0}),V&&M.setCurrentFrame(V)},onFrameUpdated:function(){this.updateLocalPos(),this.updateGlobalPos()},onHovered:function(L,M){var I=this,D,V={};M?(D=M.views)===null||D===void 0||D.forEach(function(F){var G=F.el,W=I.getElementPos(G);V={el:G,pos:W,component:M,view:F},G.ownerDocument===I.currentDoc&&(I.elHovered=V),I.updateToolsLocal(V)}):(this.currentDoc=null,this.elHovered=0,this.updateToolsLocal(),this.canvas.getFrames().forEach(function(F){var G=F.view,W=G&&G.getToolsEl();W&&I.toggleToolsEl(0,0,{el:W})}))},onSelect:function(){var L=this.em,M=L.getSelected(),I=L.getCurrentFrame(),D=M&&M.getView(I==null?void 0:I.model),V=D==null?void 0:D.el,F={};if(V&&(0,S.zN)(V)){var G=this.getElementPos(V);F={el:V,pos:G,component:M,view:D}}this.elSelected=F,this.updateToolsGlobal(),this.updateLocalPos(F),this.initResize(M)},updateGlobalPos:function(){var L=this.getElSelected();L.el&&(L.pos=this.getElementPos(L.el),this.updateToolsGlobal())},updateLocalPos:function(L){var M=this.getElHovered();M.el&&(M.pos=this.getElementPos(M.el),this.updateToolsLocal(L))},getElHovered:function(){return this.elHovered||{}},getElSelected:function(){return this.elSelected||{}},onOut:function(){this.em.setHovered()},toggleToolsEl:function(L,M,I){I===void 0&&(I={});var D=I.el||this.canvas.getToolsEl(M);return D&&(D.style.display=L?"":"none"),D||{}},showElementOffset:function(L,M,I){I===void 0&&(I={}),j&&this.editor.runCommand("show-offset",{el:L,elPos:M,view:I.view,force:1,top:0,left:0})},hideElementOffset:function(L){this.editor.stopCommand("show-offset",{view:L})},showFixedElementOffset:function(L,M){this.editor.runCommand("show-offset",{el:L,elPos:M,state:"Fixed"})},hideFixedElementOffset:function(){this.editor&&this.editor.stopCommand("show-offset",{state:"Fixed"})},hideHighlighter:function(L){this.canvas.getHighlighter(L).style.opacity=0},onClick:function(L){L.stopPropagation(),L.preventDefault();var M=this.em;if(M.get("_cmpDrag"))return M.set("_cmpDrag");var I=L.target,D=(0,T.getComponentModel)(I);if(!D)for(var V=I.parentNode;!D&&V&&!(0,S.ZQ)(V);)D=(0,T.getComponentModel)(V),V=V.parentNode;if(D){if(M.isEditing()&&(!D.get("textable")&&D.isChildOf("text")||M.getEditing()!==D))return;this.select(D,L)}},select:function(L,M){if(M===void 0&&(M={}),!!L){var I=this.em;I.setSelected(L,{event:M,useValid:!0}),this.initResize(I.getSelected())}},updateBadge:function(L,M,I){I===void 0&&(I={});var D=this.canvas,V=(0,T.getComponentModel)(L),F=this.getBadge(I),G=F.style;if(!V||!V.get("badgable")){G.display="none";return}if(!I.posOnly){var W=this.canvas.getConfig(),Y=V.getIcon(),te=W.pStylePrefix||"",he="".concat(te,"badge"),z=W.customBadgeLabel,Z="".concat(Y?'<div class="'.concat(he,'__icon">').concat(Y,"</div>"):"",`
        <div class="`).concat(he,'__name">').concat(V.getName(),"</div>");F.innerHTML=z?z(V):Z}var X="px";G.display="block";var ae=D.getTargetToElementFixed(L,F,{pos:M}),ve=ae.top,me=I.leftOff<0?-I.leftOff:0;G.top=ve+X,G.left=me+X},showHighlighter:function(L){this.canvas.getHighlighter(L).style.opacity=""},initResize:function(L){var M=this,I=M.em,D=M.canvas,V=I.Editor,F=!(0,r.isElement)(L)&&(0,S.GW)(L)?L:I.getSelected(),G=F==null?void 0:F.get("resizable"),W=C.F.Resize,Y=D.hasCustomSpot(W);D.removeSpots({type:W});var te={component:F,hasCustomResize:Y,resizable:G};F&&I.trigger(w.I.resizeInit,te);var he=te.resizable;if(F&&he){D.addSpot({type:W,component:F});var z=(0,r.isElement)(L)?L:F.getEl(),Z=(0,T.isObject)(he)?he:{},X=Z.onStart,ae=X===void 0?function(){}:X,ve=Z.onMove,me=ve===void 0?function(){}:ve,Ee=Z.onEnd,ke=Ee===void 0?function(){}:Ee,He=Z.updateTarget,Re=He===void 0?function(){}:He,se=A(Z,["onStart","onMove","onEnd","updateTarget"]);if(Y||!z||this.activeResizer)return;var ce,$e=I.config,Ue=$e.stylePrefix||"",Te="".concat(Ue,"resizing"),ft=this,Q={component:F,el:z},de=function(De,Ke,je){var Ze=je.docs;Ze&&Ze.forEach(function(Ye){var bt=Ye.body,Ut=bt.className||"";bt.className=(De=="add"?"".concat(Ut," ").concat(Te):Ut.replace(Te,"")).trim()})},Ce=N({onStart:function(De,Ke){ae(De,Ke);var je=Ke.el,Ze=Ke.config,Ye=Ke.resizer,bt=Ze.keyHeight,Ut=Ze.keyWidth,kt=Ze.currentUnit,Oe=Ze.keepAutoHeight,fe=Ze.keepAutoWidth;de("add",De,Ke),ce=I.Styles.getModelToStyle(F);var ee=getComputedStyle(je),tt=ce.getStyle(),Ie=tt[Ut];Ze.autoWidth=fe&&Ie==="auto",isNaN(parseFloat(Ie))&&(Ie=ee[Ut]);var gt=tt[bt];Ze.autoHeight=Oe&&gt==="auto",isNaN(parseFloat(gt))&&(gt=ee[bt]),Ye.startDim.w=parseFloat(Ie),Ye.startDim.h=parseFloat(gt),j=!1,kt&&(Ze.unitHeight=(0,T.getUnitFromValue)(gt),Ze.unitWidth=(0,T.getUnitFromValue)(Ie)),ft.activeResizer=!0,V.trigger(w.I.resize,N(N({},Q),{type:"start"}))},onMove:function(De){me(De),V.trigger(w.I.resize,N(N({},Q),{type:"move"}))},onEnd:function(De,Ke){ke(De,Ke),de("remove",De,Ke),V.trigger(w.I.resize,N(N({},Q),{type:"end"})),j=!0,ft.activeResizer=!1},updateTarget:function(De,Ke,je){var Ze;if(Re(De,Ke,je),!!ce){var Ye=je.store,bt=je.selectedHandler,Ut=je.config,kt=Ut.keyHeight,Oe=Ut.keyWidth,fe=Ut.autoHeight,ee=Ut.autoWidth,tt=Ut.unitWidth,Ie=Ut.unitHeight,gt=["tc","bc"].indexOf(bt)>=0,wt=["cl","cr"].indexOf(bt)>=0,Ct={};if(!gt){var At=((Ze=D.getBody())===null||Ze===void 0?void 0:Ze.offsetWidth)||0,Ft=Ke.w<At?Ke.w:At;Ct[Oe]=ee?"auto":"".concat(Ft).concat(tt)}wt||(Ct[kt]=fe?"auto":"".concat(Ke.h).concat(Ie)),I.getDragMode(F)&&(Ct.top="".concat(Ke.t).concat(Ie),Ct.left="".concat(Ke.l).concat(tt));var lr=N(N({},Ct),{__p:!Ye});ce.addStyle(lr,{avoidStore:!Ye}),I.Styles.__emitCmpStyleUpdate(lr,{components:I.getSelected()})}}},se);this.resizer=V.runCommand("resize",{el:z,options:Ce,force:1})}else{if(Y)return;V.stopCommand("resize"),this.resizer=null}},updateToolbar:function(L){var M=this.canvas,I=this.config.em,D=L===I?I.getSelected():L,V=M.getToolbarEl(),F=V.style,G=D.get("toolbar"),W=I.config.showToolbar,Y=!M.hasCustomSpot(C.F.Select);if(D&&W&&G&&G.length&&Y){if(F.display="",!this.toolbar){V.innerHTML="",this.toolbar=new u(G);var te=new _({collection:this.toolbar,em:I});V.appendChild(te.render().el)}this.toolbar.reset(G),F.top="-100px",F.left="0"}else F.display="none"},updateToolbarPos:function(L){var M="px",I=this.canvas.getToolbarEl().style;I.top="".concat(L.top).concat(M),I.left="".concat(L.left).concat(M),I.opacity=""},getCanvasPosition:function(){return this.canvas.getCanvasView().getPosition()},getBadge:function(L){return L===void 0&&(L={}),this.canvas.getBadgeEl(L.view)},onCanvasScroll:function(L){this.onFrameScroll(L),this.onContainerChange()},onFrameScroll:function(){this.updateTools(),this.canvas.refreshSpots()},onFrameResize:function(){this.canvas.refresh({all:!0})},updateTools:function(){this.updateLocalPos(),this.updateGlobalPos()},isCompSelected:function(L){return L&&L.get("status")==="selected"},updateToolsLocal:function(L){var M=this.em.getConfig(),I=L||this.getElHovered(),D=I.el,V=I.pos,F=I.view,G=I.component;if(!D){this.lastHovered=0;return}var W=G.get("hoverable"),Y=this.lastHovered!==D,te=Y?{}:{posOnly:1},he=this.canvas.hasCustomSpot(C.F.Hover);Y&&W&&(this.lastHovered=D,he?this.hideHighlighter(F):this.showHighlighter(F),this.showElementOffset(D,V,{view:F})),this.isCompSelected(G)&&(this.hideHighlighter(F),!M.showOffsetsSelected&&this.hideElementOffset(F));var z="px",Z=this.toggleToolsEl(1,F),X=Z.style,ae=this.canvas.canvasRectOffset(D,V),ve=ae.top,me=ae.left;!he&&this.updateBadge(D,V,N(N({},te),{view:F,topOff:ve,leftOff:me})),X.top=ve+z,X.left=me+z,X.width=V.width+z,X.height=V.height+z,this._trgToolUp("local",{component:G,el:Z,top:ve,left:me,width:V.width,height:V.height})},_upToolbar:(0,r.debounce)(function(){this.updateToolsGlobal({force:1})},0),_trgToolUp:function(L,M){M===void 0&&(M={}),this.em.trigger("canvas:tools:update",N({type:L},M))},updateToolsGlobal:function(L){L===void 0&&(L={});var M=this.getElSelected(),I=M.el,D=M.pos,V=M.component;if(!I){this.toggleToolsEl(),this.lastSelected=0;return}var F=this.canvas,G=this.lastSelected!==I;(G||L.force)&&(this.lastSelected=I,this.updateToolbar(V));var W="px",Y=this.toggleToolsEl(1),te=Y.style,he=F.getTargetToElementFixed(I,F.getToolbarEl(),{pos:D}),z=he.canvasOffsetTop,Z=he.canvasOffsetLeft;te.top=z+W,te.left=Z+W,te.width=D.width+W,te.height=D.height+W,this.updateToolbarPos({top:he.top,left:he.left}),this._trgToolUp("global",{component:V,el:Y,top:z,left:Z,width:D.width,height:D.height})},updateAttached:(0,r.debounce)(function(){this.updateGlobalPos()},0),onContainerChange:(0,r.debounce)(function(){this.em.refreshCanvas()},150),getElementPos:function(L){return this.canvas.getCanvasView().getElementPos(L,{noScroll:!0})},hideBadge:function(){this.getBadge().style.display="none"},cleanPrevious:function(L){L&&L.set({status:"",state:""})},getContentWindow:function(){return this.canvas.getWindow()},run:function(L){(0,T.hasWin)()&&(this.editor=L&&L.get("Editor"),this.enable())},stop:function(L,M,I){if(I===void 0&&(I={}),!!(0,T.hasWin)()){var D=this,V=D.em,F=D.editor;this.onHovered(),this.stopSelectComponent(),!I.preserveSelected&&V.setSelected(),this.toggleToolsEl(),this.updateAttached.cancel(),F&&F.stopCommand("resize")}}}},1406:(n,t,e)=>{e.r(t),e.d(t,{default:()=>a});var r=e(7774),i=e(1447),o=e(8433);const a={startSelectPosition:function(s,l,c){c===void 0&&(c={}),this.isPointed=!1;var u=this.em.Utils,f=s[0].ownerDocument.body;u&&(this.sorter=new u.ComponentSorter({em:this.em,treeClass:i.A,containerContext:{container:f,containerSel:"*",itemSel:"*",pfx:this.ppfx,document:l,placeholderElement:this.canvas.getPlacerEl()},positionOptions:{windowMargin:1,canvasRelative:!0},dragBehavior:{dragDirection:o.A.BothDirections,nested:!0}})),c.onStart&&(this.sorter.eventHandlers.legacyOnStartSort=c.onStart),s&&s.length>0&&this.sorter.startSort(s.map(function(h){return{element:h}}))},getOffsetDim:function(){var s=this.offset(this.canvas.getFrameEl()),l=this.offset(this.canvas.getElement()),c=s.top-l.top,u=s.left-l.left;return{top:c,left:u}},stopSelectPosition:function(){this.posTargetCollection=null,this.posIndex=this.posMethod=="after"&&this.cDim.length!==0?this.posIndex+1:this.posIndex,this.sorter&&this.sorter.cancelDrag(),this.cDim&&(this.posIsLastEl=this.cDim.length!==0&&this.posMethod=="after"&&this.posIndex==this.cDim.length,this.posTargetEl=this.cDim.length===0?(0,r.default)(this.outsideElem):!this.posIsLastEl&&this.cDim[this.posIndex]?(0,r.default)(this.cDim[this.posIndex][5]).parent():(0,r.default)(this.outsideElem),this.posTargetModel=this.posTargetEl.data("model"),this.posTargetCollection=this.posTargetEl.data("model-comp"))},enable:function(){this.startSelectPosition()},nearFloat:function(s,l,c){var u=s||0,f=l||"before",h=c.length,d=h!==0&&f=="after"&&u==h;return h!==0&&(!d&&!c[u][4]||c[u-1]&&!c[u-1][4]||d&&!c[u-1][4])?1:0},run:function(){this.enable()},stop:function(){this.stopSelectPosition(),this.$wrapper.css("cursor",""),this.$wrapper.unbind()}}},9395:(n,t,e)=>{e.r(t),e.d(t,{default:()=>s});var r=e(5706),i=e(179),o=e(7774),a=function(){return a=Object.assign||function(l){for(var c,u=1,f=arguments.length;u<f;u++){c=arguments[u];for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&(l[h]=c[h])}return l},a.apply(this,arguments)};const s={getOffsetMethod:function(l){var c=l||"";return"get"+c+"OffsetViewerEl"},run:function(l,c,u){var f=this.canvas,h=u||{},d=h.state||"",m=l.getConfig(),g=this.em.getZoomDecimal(),x=h.el;if(!m.showOffsets||!(x instanceof HTMLElement)||!m.showOffsetsSelected&&d=="Fixed"){l.stopCommand("".concat(this.id),u);return}if(!f.hasCustomSpot(i.F.Spacing)){var b=a({},h.elPos||f.getElementPos(x));(0,r.isUndefined)(h.top)||(b.top=h.top),(0,r.isUndefined)(h.left)||(b.left=h.left);var _=window.getComputedStyle(x),S=this.ppfx,T=d+"State",C=this.getOffsetMethod(d),w=f[C](u.view);w.style.opacity="";var N=this["marginT"+d],A=this["marginB"+d],j=this["marginL"+d],R=this["marginR"+d],L=this["padT"+d],M=this["padB"+d],I=this["padL"+d],D=this["padR"+d];if(w.childNodes.length&&(this[T]="1",N=w.querySelector("[data-offset-m-t]"),A=w.querySelector("[data-offset-m-b]"),j=w.querySelector("[data-offset-m-l]"),R=w.querySelector("[data-offset-m-r]"),L=w.querySelector("[data-offset-p-t]"),M=w.querySelector("[data-offset-p-b]"),I=w.querySelector("[data-offset-p-l]"),D=w.querySelector("[data-offset-p-r]")),!this[T]){var V=d.toLowerCase(),F=V+"margin-v",G=V+"padding-v",W=(0,o.default)('<div class="'.concat(S,'marginName">')).get(0),Y=(0,o.default)('<div class="'.concat(S,'paddingName">')).get(0),te=S+F+"-el",he=S+G+"-el",z="".concat(te," ").concat(S+F),Z="".concat(he," ").concat(S+G);N=(0,o.default)('<div class="'.concat(z,'-top"></div>')).get(0),A=(0,o.default)('<div class="'.concat(z,'-bottom"></div>')).get(0),j=(0,o.default)('<div class="'.concat(z,'-left"></div>')).get(0),R=(0,o.default)('<div class="'.concat(z,'-right"></div>')).get(0),L=(0,o.default)('<div class="'.concat(Z,'-top"></div>')).get(0),M=(0,o.default)('<div class="'.concat(Z,'-bottom"></div>')).get(0),I=(0,o.default)('<div class="'.concat(Z,'-left"></div>')).get(0),D=(0,o.default)('<div class="'.concat(Z,'-right"></div>')).get(0),this["marginT"+d]=N,this["marginB"+d]=A,this["marginL"+d]=j,this["marginR"+d]=R,this["padT"+d]=L,this["padB"+d]=M,this["padL"+d]=I,this["padR"+d]=D,W.appendChild(N),W.appendChild(A),W.appendChild(j),W.appendChild(R),Y.appendChild(L),Y.appendChild(M),Y.appendChild(I),Y.appendChild(D),w.appendChild(W),w.appendChild(Y),this[T]="1"}var X="px",ae=parseFloat(_.marginLeft.replace(X,""))*g,ve=parseFloat(_.marginRight.replace(X,""))*g,me=parseFloat(_.marginTop.replace(X,""))*g,Ee=parseFloat(_.marginBottom.replace(X,""))*g,ke=N.style,He=A.style,Re=j.style,se=R.style,ce=L.style,$e=M.style,Ue=I.style,Te=D.style,ft=parseFloat(b.left),Q=parseFloat(_.width)*g+X;ke.height=me+X,ke.width=Q,ke.top=b.top-me+X,ke.left=ft+X,He.height=Ee+X,He.width=Q,He.top=b.top+b.height+X,He.left=ft+X;var de=b.height+me+Ee+X,Ce=b.top-me+X;Re.height=de,Re.width=ae+X,Re.top=Ce,Re.left=ft-ae+X,se.height=de,se.width=ve+X,se.top=Ce,se.left=ft+b.width+X;var De=parseFloat(_.paddingTop)*g;ce.height=De+X;var Ke=parseFloat(_.paddingBottom)*g;$e.height=Ke+X;var je=b.height-Ke-De+X,Ze=b.top+De+X;Ue.height=je,Ue.width=parseFloat(_.paddingLeft)*g+X,Ue.top=Ze;var Ye=parseFloat(_.paddingRight)*g;Te.height=je,Te.width=Ye+X,Te.top=Ze}},stop:function(l,c,u){u===void 0&&(u={});var f=u||{},h=f.state||"",d=this.getOffsetMethod(h),m=u.view,g=this.canvas,x=g[d](m);x.style.opacity=0}}},7285:(n,t,e)=>{e.r(t),e.d(t,{default:()=>o});var r=e(5706),i=e(1166);const o={init:function(){(0,r.bindAll)(this,"_onFramesChange")},run:function(a){this.toggleVis(a,!0)},stop:function(a){this.toggleVis(a,!1)},toggleVis:function(a,s){if(s===void 0&&(s=!0),!a.Commands.isActive("preview")){var l=a.Canvas,c=s?"on":"off",u=l.getModel();u[c]("change:frames",this._onFramesChange),this.handleFrames(l.getFrames(),s)}},handleFrames:function(a,s){var l=this;a.forEach(function(c){var u;!((u=c.view)===null||u===void 0)&&u.loaded&&l._upFrame(c,s),c.__ol||(c.on("loaded",function(){return l._upFrame(c)}),c.__ol=!0)})},_onFramesChange:function(a,s){this.handleFrames(s)},_upFrame:function(a,s){var l,c=this,u=c.ppfx,f=c.em,h=c.id,d=(0,i.isDef)(s)?s:f.Commands.isActive(h),m=d?"add":"remove",g="".concat(u,"dashed");(l=a.view)===null||l===void 0||l.getBody().classList[m](g)}}},9156:(n,t,e)=>{e.d(t,{Kx:()=>l,Ss:()=>u,e2:()=>s,lK:()=>h,pM:()=>c,x2:()=>f});var r=e(4193),i=e.n(r),o=function(){var d=function(m,g){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,b){x.__proto__=b}||function(x,b){for(var _ in b)Object.prototype.hasOwnProperty.call(b,_)&&(x[_]=b[_])},d(m,g)};return function(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");d(m,g);function x(){this.constructor=m}m.prototype=g===null?Object.create(g):(x.prototype=g.prototype,new x)}}(),a=function(){return a=Object.assign||function(d){for(var m,g=1,x=arguments.length;g<x;g++){m=arguments[g];for(var b in m)Object.prototype.hasOwnProperty.call(m,b)&&(d[b]=m[b])}return d},a.apply(this,arguments)},s="add remove reset change",l=function(d){o(m,d);function m(){return d!==null&&d.apply(this,arguments)||this}return m}(i().Model),c=function(d){o(m,d);function m(){return d!==null&&d.apply(this,arguments)||this}return m}(i().Collection),u=function(d){o(m,d);function m(){return d!==null&&d.apply(this,arguments)||this}return m}(i().View),f;(function(d){d.Screen="screen",d.World="world"})(f||(f={}));var h={x:0,y:0};a(a({},h),{width:0,height:0})},2225:(n,t,e)=>{e.d(t,{I:()=>i,t:()=>r});var r;(function(o){o.remove="component:remove",o.add="component:add",o.move="component:move"})(r||(r={}));var i;(function(o){o.add="component:add",o.remove="component:remove",o.removeBefore="component:remove:before",o.removed="component:removed",o.create="component:create",o.update="component:update",o.updateInside="component:update-inside",o.styleUpdate="component:styleUpdate",o.styleUpdateProperty="component:styleUpdate:",o.select="component:select",o.selectBefore="component:select:before",o.mount="component:mount",o.scriptMount="component:script:mount",o.scriptMountBefore="component:script:mount:before",o.scriptUnmount="component:script:unmount",o.render="component:render",o.input="component:input",o.resize="component:resize",o.resizeInit="component:resize:init",o.symbolMainAdd="symbol:main:add",o.symbolMainUpdate="symbol:main:update",o.symbolMainUpdateDeep="symbol:main:update-deep",o.symbolMainRemove="symbol:main:remove",o.symbolMain="symbol:main",o.symbolInstanceAdd="symbol:instance:add",o.symbolInstanceRemove="symbol:instance:remove",o.symbolInstance="symbol:instance",o.symbol="symbol"})(i||(i={}))},8242:(n,t,e)=>{e.d(t,{A:()=>s});var r=e(5706),i=e(9156),o=function(){var l=function(c,u){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(f[d]=h[d])},l(c,u)};return function(c,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");l(c,u);function f(){this.constructor=c}c.prototype=u===null?Object.create(u):(f.prototype=u.prototype,new f)}}(),a=function(l){o(c,l);function c(u,f,h){u===void 0&&(u={}),h===void 0&&(h=!1);var d=l.call(this,u)||this;return d.itemsView="",d.itemType="type",d.reuseView=!1,d.config=f||u.config||{},h&&d.listenTo(d.collection,"add",d.addTo),d.items=[],d}return c.prototype.addTo=function(u){this.add(u)},c.prototype.itemViewNotFound=function(u){var f=this,h=f.config,d=f.ns,m=h.em,g="".concat(d?"[".concat(d,"]: "):"","'").concat(u,"' type not found");m&&m.logWarning(g)},c.prototype.add=function(u,f){var h=this,d=h.config,m=h.reuseView,g=h.items,x=this.itemsView||{},b=["button","checkbox","color","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"],_=f||null,S=this.itemView,T=u.get(this.itemType),C;x[T]?S=x[T]:T&&!x[T]&&!(0,r.includes)(b,T)&&this.itemViewNotFound(T),u.view&&m?C=u.view:C=new S({model:u,config:d},d),g&&g.push(C);var w=C.render().el;_?_.appendChild(w):this.$el.append(w)},c.prototype.render=function(){var u=document.createDocumentFragment();return this.clearItems(),this.$el.empty(),this.collection.length&&this.collection.each(function(f){this.add(f,u)},this),this.$el.append(u),this.onRender(),this},c.prototype.onRender=function(){},c.prototype.onRemoveBefore=function(u,f){},c.prototype.onRemove=function(u,f){},c.prototype.remove=function(u){u===void 0&&(u={});var f=this.items;return this.onRemoveBefore(f,u),this.clearItems(),l.prototype.remove.call(this),this.onRemove(f,u),this},c.prototype.clearItems=function(){this.items},c}(i.Ss);const s=a;a.prototype.itemView=""},9966:(n,t,e)=>{e.d(t,{A:()=>c});var r=e(5706),i=e(6294),o=function(){return o=Object.assign||function(u){for(var f,h=1,d=arguments.length;h<d;h++){f=arguments[h];for(var m in f)Object.prototype.hasOwnProperty.call(f,m)&&(u[m]=f[m])}return u},o.apply(this,arguments)},a=function(){return{x:0,y:0}},s=["x","y"],l=function(){function u(f){return f===void 0&&(f={}),this.opts={snapGuides:{x:5,y:5},snapOffset:5,scale:1},(0,r.bindAll)(this,"drag","stop","keyHandle","handleScroll"),this.setOptions(f),this.delta=a(),this.lastScroll=a(),this.lastScrollDiff=a(),this.startPointer=a(),this.startPosition=a(),this.globScrollDiff=a(),this.currentPointer=a(),this.position=a(),this.guidesStatic=[],this.guidesTarget=[],this.docs=[],this}return u.prototype.setOptions=function(f){f===void 0&&(f={}),this.opts=o(o({},this.opts),f)},u.prototype.toggleDrag=function(f){var h=this.getDocumentEl(),d=this.getContainerEl(),m=this.getWindowEl(),g=f?"on":"off",x={on:i.on,off:i.AU};x[g](d,"mousemove dragover",this.drag),x[g](h,"mouseup dragend touchend",this.stop),x[g](h,"keydown",this.keyHandle),x[g](m,"scroll",this.handleScroll)},u.prototype.handleScroll=function(){var f=this,h=f.lastScroll,d=f.delta,m=this.getScrollInfo(),g={x:m.x-h.x,y:m.y-h.y};this.move(d.x+g.x,d.y+g.y),this.lastScrollDiff=g},u.prototype.start=function(f){var h=this.opts,d=h.onStart;this.toggleDrag(!0),this.startPointer=this.getPointerPos(f),this.guidesStatic=(0,r.result)(h,"guidesStatic")||[],this.guidesTarget=(0,r.result)(h,"guidesTarget")||[],(0,r.isFunction)(d)&&d(f,this),this.startPosition=this.getStartPosition(),this.lastScrollDiff=a(),this.globScrollDiff=a(),this.drag(f)},u.prototype.drag=function(f){var h=this,d=this,m=d.opts,g=d.lastScrollDiff,x=d.globScrollDiff,b=m.onDrag,_=this.startPointer,S=this.getPointerPos(f),T={x:x.x+g.x,y:x.y+g.y};this.globScrollDiff=T;var C={x:S.x-_.x+T.x,y:S.y-_.y+T.y};this.lastScrollDiff=a();var w=function(M){s.forEach(function(I){return M[I]=M[I]*(0,r.result)(m,"scale")}),h.delta=M,h.move(M.x,M.y),(0,r.isFunction)(b)&&b(f,h)},N=o({},C);if(this.currentPointer=S,this.lastScroll=this.getScrollInfo(),w(C),this.guidesTarget.length){var A=this.snapGuides(N),j=A.newDelta,R=A.trgX,L=A.trgY;(R||L)&&w(j)}f.which===0&&this.stop(f)},u.prototype.snapGuides=function(f){var h=this,d=o({},f),m=this,g=m.trgX,x=m.trgY;return this.guidesTarget.forEach(function(b){b.x&&h.trgX||b.y&&h.trgY||(b.active=!1,h.guidesStatic.forEach(function(_){if(!(b.y&&_.x||b.x&&_.y)){var S=b.y&&_.y,T=S?"y":"x",C=b[T],w=_[T],N=f[T],A=S?x:g;if(h.isPointIn(C,w,{axis:T})&&(0,r.isUndefined)(A)){var j=N-(C-w);h.setGuideLock(b,j)}}}))}),g=this.trgX,x=this.trgY,s.forEach(function(b){var _=b.toUpperCase(),S=h["trg".concat(_)];S&&!h.isPointIn(f[b],S.lock,{axis:b})&&(h.setGuideLock(S,null),S=null),S&&!(0,r.isUndefined)(S.lock)&&(d[b]=S.lock)}),{newDelta:d,trgX:this.trgX,trgY:this.trgY}},u.prototype.isPointIn=function(f,h,d){var m,g=d===void 0?{}:d,x=g.offset,b=g.axis,_=this.opts,S=_.snapGuides,T=S===void 0?{}:S,C=_.snapOffset,w=C===void 0?0:C,N=b==="x"?T.x:b==="y"?T.y:void 0,A=N===0?0:(m=x??N)!==null&&m!==void 0?m:w;return A===0?!1:f>=h&&f<=h+A||f<=h&&f>=h-A},u.prototype.setGuideLock=function(f,h){var d=(0,r.isUndefined)(f.x)?"Y":"X",m="trg".concat(d);return h!==null?(f.active=!0,f.lock=h,this[m]=f):(delete f.active,delete f.lock,delete this[m]),f},u.prototype.stop=function(f,h){h===void 0&&(h={});var d=this.delta,m=!!h.cancel,g=m?0:d.x,x=m?0:d.y;this.toggleDrag(),this.move(g,x,!0);var b=this.opts.onEnd;(0,r.isFunction)(b)&&b(f,this,{cancelled:m})},u.prototype.keyHandle=function(f){(0,i.v$)(f)&&this.stop(f,{cancel:!0})},u.prototype.move=function(f,h,d){var m=this,g=m.el,x=m.opts,b=this.startPosition;if(b){var _=x.setPosition,S=b.x+f,T=b.y+h;this.position={x:S,y:T,end:d},(0,r.isFunction)(_)&&_(this.position),g&&(g.style.left="".concat(S,"px"),g.style.top="".concat(T,"px"))}},u.prototype.getContainerEl=function(){var f=this.opts.container;return f?[f]:this.getDocumentEl()},u.prototype.getWindowEl=function(){var f=this.getContainerEl();return f.map(function(h){var d=h.ownerDocument||h;return d.defaultView||d.parentWindow})},u.prototype.getDocumentEl=function(f){var h=this.opts.doc;if(f=f||this.el,!this.docs.length){var d=[document];f&&d.push(f.ownerDocument),h&&d.push(h),this.docs=d}return this.docs},u.prototype.getPointerPos=function(f){var h=this.opts.getPointerPosition,d=(0,i.G2)(f);return h?h(f):{x:d.clientX,y:d.clientY}},u.prototype.getStartPosition=function(){var f=this,h=f.el,d=f.opts,m=d.getPosition,g=a();return(0,r.isFunction)(m)?g=m():h&&(g={x:parseFloat(h.style.left),y:parseFloat(h.style.top)}),g},u.prototype.getScrollInfo=function(){var f=this.opts.doc,h=f&&f.body;return{y:h?h.scrollTop:0,x:h?h.scrollLeft:0}},u.prototype.detectAxisLock=function(f,h){var d=f,m=h,g=Math.abs(d),x=Math.abs(m);if(m>=g||m<=-g)return"x";if(d>x||d<-x)return"y"},u}();const c=l},7774:(n,t,e)=>{e.r(t),e.d(t,{default:()=>Lr});var r=typeof document<"u"?document:null,i=typeof window<"u"?window:null,o=Array.prototype,a=o.filter,s=o.indexOf,l=o.map,c=o.push,u=o.reverse,f=o.slice,h=o.splice,d=/^#[\w-]*$/,m=/^\.[\w-]*$/,g=/<.+>/,x=/^\w+$/;function b(ge,We){return We===void 0&&(We=r),m.test(ge)?We.getElementsByClassName(ge.slice(1)):x.test(ge)?We.getElementsByTagName(ge):We.querySelectorAll(ge)}function _(ge,We){if(We===void 0&&(We=r),!!ge){if(ge.__cash)return ge;var et=ge;if(I(ge)){if(We.__cash&&(We=We[0]),et=d.test(ge)?We.getElementById(ge.slice(1)):g.test(ge)?lr(ge):b(ge,We),!et)return}else if(M(ge))return this.ready(ge);(et.nodeType||et===i)&&(et=[et]),this.length=et.length;for(var mt=0,Rt=this.length;mt<Rt;mt++)this[mt]=et[mt]}}function S(ge,We){return new _(ge,We)}var T=S.fn=S.prototype=_.prototype={constructor:S,__cash:!0,length:0,splice:h};T.get=function(ge){return ge===void 0?f.call(this):this[ge<0?ge+this.length:ge]},T.eq=function(ge){return S(this.get(ge))},T.first=function(){return this.eq(0)},T.last=function(){return this.eq(-1)},T.map=function(ge){return S(l.call(this,function(We,et){return ge.call(We,et,We)}))},T.slice=function(){return S(f.apply(this,arguments))};var C=/(?:^\w|[A-Z]|\b\w)/g,w=/[\s-_]+/g;function N(ge){return ge.replace(C,function(We,et){return We[et?"toUpperCase":"toLowerCase"]()}).replace(w,"")}S.camelCase=N;function A(ge,We){for(var et=0,mt=ge.length;et<mt&&We.call(ge[et],ge[et],et,ge)!==!1;et++);}S.each=A,T.each=function(ge){return A(this,function(We,et){return ge.call(We,et,We)}),this},T.removeProp=function(ge){return this.each(function(We,et){delete et[ge]})};function j(ge){ge===void 0&&(ge=this);for(var We=arguments,et=We.length,mt=et<2?0:1;mt<et;mt++)for(var Rt in We[mt])ge[Rt]=We[mt][Rt];return ge}S.extend=T.extend=j;var R=1;S.guid=R;function L(ge,We){var et=ge&&(ge.matches||ge.webkitMatchesSelector||ge.mozMatchesSelector||ge.msMatchesSelector||ge.oMatchesSelector);return!!et&&et.call(ge,We)}S.matches=L;function M(ge){return typeof ge=="function"}S.isFunction=M;function I(ge){return typeof ge=="string"}S.isString=I;function D(ge){return!isNaN(parseFloat(ge))&&isFinite(ge)}S.isNumeric=D;var V=Array.isArray;S.isArray=V,T.prop=function(ge,We){if(ge){if(I(ge))return arguments.length<2?this[0]&&this[0][ge]:this.each(function(mt,Rt){Rt[ge]=We});for(var et in ge)this.prop(et,ge[et]);return this}};function F(ge){return I(ge)?function(We,et){return L(et,ge)}:ge.__cash?function(We,et){return ge.is(et)}:function(We,et,mt){return et===mt}}T.filter=function(ge){if(!ge)return S();var We=M(ge)?ge:F(ge);return S(a.call(this,function(et,mt){return We.call(et,mt,et,ge)}))};var G=/\S+/g;function W(ge){return I(ge)?ge.match(G)||[]:[]}T.hasClass=function(ge){var We=W(ge),et=!1;return We.length&&this.each(function(mt,Rt){return et=Rt.classList.contains(We[0]),!et}),et},T.removeAttr=function(ge){var We=W(ge);return We.length?this.each(function(et,mt){A(We,function(Rt){mt.removeAttribute(Rt)})}):this},T.attr=function(ge,We){if(ge){if(I(ge)){if(arguments.length<2){if(!this[0])return;var et=this[0].getAttribute(ge);return et===null?void 0:et}return We===null?this.removeAttr(ge):this.each(function(Rt,Zt){Zt.setAttribute(ge,We)})}for(var mt in ge)this.attr(mt,ge[mt]);return this}},T.toggleClass=function(ge,We){var et=W(ge),mt=We!==void 0;return et.length?this.each(function(Rt,Zt){A(et,function(Bt){mt?We?Zt.classList.add(Bt):Zt.classList.remove(Bt):Zt.classList.toggle(Bt)})}):this},T.addClass=function(ge){return this.toggleClass(ge,!0)},T.removeClass=function(ge){return arguments.length?this.toggleClass(ge,!1):this.attr("class","")};function Y(ge){return ge.filter(function(We,et,mt){return mt.indexOf(We)===et})}S.unique=Y,T.add=function(ge,We){return S(Y(this.get().concat(S(ge,We).get())))};function te(ge,We,et){if(ge.nodeType===1){var mt=i.getComputedStyle(ge,null);return We?et?mt.getPropertyValue(We):mt[We]:mt}}function he(ge,We){return parseInt(te(ge,We),10)||0}var z=/^--/;function Z(ge){return z.test(ge)}var X={},ae=r&&r.createElement("div"),ve=ae?ae.style:{},me=["webkit","moz","ms","o"];function Ee(ge,We){if(We===void 0&&(We=Z(ge)),We)return ge;if(!X[ge]){var et=N(ge),mt=""+et.charAt(0).toUpperCase()+et.slice(1),Rt=(et+" "+me.join(mt+" ")+mt).split(" ");A(Rt,function(Zt){if(Zt in ve)return X[ge]=Zt,!1})}return X[ge]}S.prefixedProp=Ee;var ke={animationIterationCount:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0};function He(ge,We,et){return et===void 0&&(et=Z(ge)),!et&&!ke[ge]&&D(We)?We+"px":We}T.css=function(ge,We){if(I(ge)){var et=Z(ge);return ge=Ee(ge,et),arguments.length<2?this[0]&&te(this[0],ge,et):ge?(We=He(ge,We,et),this.each(function(Rt,Zt){Zt.nodeType===1&&(et?Zt.style.setProperty(ge,We):Zt.style[ge]=We)})):this}for(var mt in ge)this.css(mt,ge[mt]);return this};var Re="__cashData",se=/^data-(.*)/;S.hasData=function(ge){return Re in ge};function ce(ge){return ge[Re]=ge[Re]||{}}function $e(ge,We){var et=ce(ge);if(We){if(!(We in et)){var mt=ge.dataset?ge.dataset[We]||ge.dataset[N(We)]:S(ge).attr("data-"+We);if(mt!==void 0){try{mt=JSON.parse(mt)}catch{}et[We]=mt}}return et[We]}return et}function Ue(ge,We){We===void 0?delete ge[Re]:delete ce(ge)[We]}function Te(ge,We,et){ce(ge)[We]=et}T.data=function(ge,We){var et=this;if(!ge)return this[0]?(A(this[0].attributes,function(Rt){var Zt=Rt.name.match(se);Zt&&et.data(Zt[1])}),$e(this[0])):void 0;if(I(ge))return We===void 0?this[0]&&$e(this[0],ge):this.each(function(Rt,Zt){return Te(Zt,ge,We)});for(var mt in ge)this.data(mt,ge[mt]);return this},T.removeData=function(ge){return this.each(function(We,et){return Ue(et,ge)})};function ft(ge,We){return he(ge,"border"+(We?"Left":"Top")+"Width")+he(ge,"padding"+(We?"Left":"Top"))+he(ge,"padding"+(We?"Right":"Bottom"))+he(ge,"border"+(We?"Right":"Bottom")+"Width")}A(["Width","Height"],function(ge){T["inner"+ge]=function(){if(this[0])return this[0]===i?i["inner"+ge]:this[0]["client"+ge]}}),A(["width","height"],function(ge,We){T[ge]=function(et){return this[0]?arguments.length?(et=parseInt(et,10),this.each(function(mt,Rt){if(Rt.nodeType===1){var Zt=te(Rt,"boxSizing");Rt.style[ge]=He(ge,et+(Zt==="border-box"?ft(Rt,!We):0))}})):this[0]===i?this[0][N("outer-"+ge)]:this[0].getBoundingClientRect()[ge]-ft(this[0],!We):et===void 0?void 0:this}}),A(["Width","Height"],function(ge,We){T["outer"+ge]=function(et){if(this[0])return this[0]===i?i["outer"+ge]:this[0]["offset"+ge]+(et?he(this[0],"margin"+(We?"Top":"Left"))+he(this[0],"margin"+(We?"Bottom":"Right")):0)}});function Q(ge,We){for(var et=0,mt=We.length;et<mt;et++)if(ge.indexOf(We[et])<0)return!1;return!0}function de(ge,We,et){A(ge[et],function(mt){mt[0];var Rt=mt[1];We.removeEventListener(et,Rt)}),delete ge[et]}var Ce="__cashEvents",De=".";function Ke(ge){return ge[Ce]=ge[Ce]||{}}function je(ge,We,et,mt){mt.guid=mt.guid||R++;var Rt=Ke(ge);Rt[We]=Rt[We]||[],Rt[We].push([et,mt]),ge.addEventListener(We,mt)}function Ze(ge){var We=ge.split(De);return[We[0],We.slice(1).sort()]}function Ye(ge,We,et,mt){var Rt=Ke(ge);if(We){var Zt=Rt[We];if(!Zt)return;mt&&(mt.guid=mt.guid||R++),Rt[We]=Zt.filter(function(Bt){var dr=Bt[0],Er=Bt[1];if(mt&&Er.guid!==mt.guid||!Q(dr,et))return!0;ge.removeEventListener(We,Er)})}else if(!et||!et.length)for(We in Rt)de(Rt,ge,We);else for(We in Rt)Ye(ge,We,et,mt)}T.off=function(ge,We){var et=this;return ge===void 0?this.each(function(mt,Rt){return Ye(Rt)}):A(W(ge),function(mt){var Rt=Ze(mt),Zt=Rt[0],Bt=Rt[1];et.each(function(dr,Er){return Ye(Er,Zt,Bt,We)})}),this},T.on=function(ge,We,et,mt){var Rt=this;if(!I(ge)){for(var Zt in ge)this.on(Zt,We,ge[Zt]);return this}return M(We)&&(et=We,We=!1),A(W(ge),function(Bt){var dr=Ze(Bt),Er=dr[0],Or=dr[1];Rt.each(function(Ir,or){var Kr=function an(mr){if(!(mr.namespace&&!Q(Or,mr.namespace.split(De)))){var Xr=or;if(We){for(var gr=mr.target;!L(gr,We);)if(gr===or||(gr=gr.parentNode,!gr))return;Xr=gr}mr.namespace=mr.namespace||"";var Vr=et.call(Xr,mr,mr.data);mt&&Ye(or,Er,Or,an),Vr===!1&&(mr.preventDefault(),mr.stopPropagation())}};Kr.guid=et.guid=et.guid||R++,je(or,Er,Or,Kr)})}),this},T.one=function(ge,We,et){return this.on(ge,We,et,!0)},T.ready=function(ge){var We=function(){return ge(S)};return r.readyState!=="loading"?setTimeout(We):r.addEventListener("DOMContentLoaded",We),this},T.trigger=function(ge,We){var et=ge;if(I(ge)){var mt=Ze(ge),Rt=mt[0],Zt=mt[1];et=r.createEvent("HTMLEvents"),et.initEvent(Rt,!0,!0),et.namespace=Zt.join(De)}return et.data=We,this.each(function(Bt,dr){dr.dispatchEvent(et)})};function bt(ge){var We=[];return A(ge.options,function(et){et.selected&&!et.disabled&&!et.parentNode.disabled&&We.push(et.value)}),We}function Ut(ge){return ge.selectedIndex<0?null:ge.options[ge.selectedIndex].value}var kt=/select-one/i,Oe=/select-multiple/i;function fe(ge){var We=ge.type;return kt.test(We)?Ut(ge):Oe.test(We)?bt(ge):ge.value}var ee=/%20/g;function tt(ge,We){return"&"+encodeURIComponent(ge)+"="+encodeURIComponent(We).replace(ee,"+")}var Ie=/file|reset|submit|button|image/i,gt=/radio|checkbox/i;T.serialize=function(){var ge="";return this.each(function(We,et){A(et.elements||[et],function(mt){if(!(mt.disabled||!mt.name||mt.tagName==="FIELDSET")&&!Ie.test(mt.type)&&!(gt.test(mt.type)&&!mt.checked)){var Rt=fe(mt);if(Rt!==void 0){var Zt=V(Rt)?Rt:[Rt];A(Zt,function(Bt){ge+=tt(mt.name,Bt)})}}})}),ge.substr(1)},T.val=function(ge){return ge===void 0?this[0]&&fe(this[0]):this.each(function(We,et){var mt=Oe.test(et.type),Rt=ge===null?mt?[]:"":ge;mt&&V(Rt)?A(et.options,function(Zt){Zt.selected=Rt.indexOf(Zt.value)>=0}):et.value=Rt})},T.clone=function(){return this.map(function(ge,We){return We.cloneNode(!0)})},T.detach=function(){return this.each(function(ge,We){We.parentNode&&We.parentNode.removeChild(We)})};var wt=/^\s*<(\w+)[^>]*>/,Ct=/^\s*<(\w+)\s*\/?>(?:<\/\1>)?\s*$/,At;function Ft(){if(!At){var ge=r.createElement("table"),We=r.createElement("tr");At={"*":r.createElement("div"),tr:r.createElement("tbody"),td:We,th:We,thead:ge,tbody:ge,tfoot:ge}}}function lr(ge){if(Ft(),!I(ge))return[];if(Ct.test(ge))return[r.createElement(RegExp.$1)];var We=wt.test(ge)&&RegExp.$1,et=At[We]||At["*"];return et.innerHTML=ge,S(et.childNodes).detach().get()}S.parseHTML=lr,T.empty=function(){var ge=this[0];if(ge)for(;ge.firstChild;)ge.removeChild(ge.firstChild);return this};function nr(ge,We,et){et?ge.insertBefore(We,ge.childNodes[0]):ge.appendChild(We)}function vr(ge,We,et){if(We!==void 0){var mt=I(We);!mt&&We.length?A(We,function(Rt){return vr(ge,Rt,et)}):A(ge,mt?function(Rt){Rt.insertAdjacentHTML(et?"afterbegin":"beforeend",We)}:function(Rt,Zt){return nr(Rt,Zt?We.cloneNode(!0):We,et)})}}T.append=function(){var ge=this;return A(arguments,function(We){vr(ge,We)}),this},T.appendTo=function(ge){return vr(S(ge),this),this},T.html=function(ge){if(ge===void 0)return this[0]&&this[0].innerHTML;var We=ge.nodeType?ge[0].outerHTML:ge;return this.each(function(et,mt){mt.innerHTML=We})},T.insertAfter=function(ge){var We=this;return S(ge).each(function(et,mt){var Rt=mt.parentNode;We.each(function(Zt,Bt){Rt.insertBefore(et?Bt.cloneNode(!0):Bt,mt.nextSibling)})}),this},T.after=function(){var ge=this;return A(u.apply(arguments),function(We){u.apply(S(We).slice()).insertAfter(ge)}),this},T.insertBefore=function(ge){var We=this;return S(ge).each(function(et,mt){var Rt=mt.parentNode;We.each(function(Zt,Bt){Rt.insertBefore(et?Bt.cloneNode(!0):Bt,mt)})}),this},T.before=function(){var ge=this;return A(arguments,function(We){S(We).insertBefore(ge)}),this},T.prepend=function(){var ge=this;return A(arguments,function(We){vr(ge,We,!0)}),this},T.prependTo=function(ge){return vr(S(ge),u.apply(this.slice()),!0),this},T.remove=function(){return this.detach().off()},T.replaceWith=function(ge){var We=this;return this.each(function(et,mt){var Rt=mt.parentNode;if(Rt){var Zt=et?S(ge).clone():S(ge);if(!Zt[0])return We.remove(),!1;Rt.replaceChild(Zt[0],mt),S(Zt[0]).after(Zt.slice(1))}})},T.replaceAll=function(ge){return S(ge).replaceWith(this),this},T.text=function(ge){return ge===void 0?this[0]?this[0].textContent:"":this.each(function(We,et){et.textContent=ge})};var Rr=r&&r.documentElement;T.offset=function(){var ge=this[0];if(ge){var We=ge.getBoundingClientRect();return{top:We.top+i.pageYOffset-Rr.clientTop,left:We.left+i.pageXOffset-Rr.clientLeft}}},T.offsetParent=function(){return S(this[0]&&this[0].offsetParent)},T.position=function(){var ge=this[0];if(ge)return{left:ge.offsetLeft,top:ge.offsetTop}},T.children=function(ge){var We=[];return this.each(function(et,mt){c.apply(We,mt.children)}),We=S(Y(We)),ge?We.filter(function(et,mt){return L(mt,ge)}):We},T.contents=function(){var ge=[];return this.each(function(We,et){c.apply(ge,et.tagName==="IFRAME"?[et.contentDocument]:et.childNodes)}),S(ge.length&&Y(ge))},T.find=function(ge){for(var We=[],et=0,mt=this.length;et<mt;et++){var Rt=b(ge,this[et]);Rt.length&&c.apply(We,Rt)}return S(We.length&&Y(We))},T.has=function(ge){var We=I(ge)?function(et,mt){return!!b(ge,mt).length}:function(et,mt){return mt.contains(ge)};return this.filter(We)},T.is=function(ge){if(!ge||!this[0])return!1;var We=F(ge),et=!1;return this.each(function(mt,Rt){return et=We(mt,Rt,ge),!et}),et},T.next=function(){return S(this[0]&&this[0].nextElementSibling)},T.not=function(ge){if(!ge||!this[0])return this;var We=F(ge);return this.filter(function(et,mt){return!We(et,mt,ge)})},T.parent=function(){var ge=[];return this.each(function(We,et){et&&et.parentNode&&ge.push(et.parentNode)}),S(Y(ge))},T.index=function(ge){var We=ge?S(ge)[0]:this[0],et=ge?this:S(We).parent().children();return s.call(et,We)},T.closest=function(ge){return!ge||!this[0]?S():this.is(ge)?this.filter(ge):this.parent().closest(ge)},T.parents=function(ge){var We=[],et;return this.each(function(mt,Rt){for(et=Rt;et&&et.parentNode&&et!==r.body.parentNode;)et=et.parentNode,(!ge||ge&&L(et,ge))&&We.push(et)}),S(Y(We))},T.prev=function(){return S(this[0]&&this[0].previousElementSibling)},T.siblings=function(){var ge=this[0];return this.parent().children().filter(function(We,et){return et!==ge})};const Lr=S},6294:(n,t,e)=>{e.d(t,{AU:()=>te,BC:()=>x,C8:()=>A,Ch:()=>L,Ci:()=>D,D8:()=>s,G2:()=>M,GW:()=>N,GZ:()=>_,I6:()=>f,LJ:()=>G,Sc:()=>g,X6:()=>h,Xy:()=>j,YZ:()=>c,ZQ:()=>l,_I:()=>he,a_:()=>b,af:()=>T,bG:()=>m,cx:()=>u,ir:()=>C,kk:()=>W,on:()=>Y,rp:()=>F,v$:()=>I,yL:()=>S,zN:()=>d});var r=e(5706),i=function(z,Z,X){if(X||arguments.length===2)for(var ae=0,ve=Z.length,me;ae<ve;ae++)(me||!(ae in Z))&&(me||(me=Array.prototype.slice.call(Z,0,ae)),me[ae]=Z[ae]);return z.concat(me||Array.prototype.slice.call(Z))},o="tag",a="attributes",s="transitionend oTransitionEnd transitionend webkitTransitionEnd",l=function(z){return(z==null?void 0:z.nodeType)===Node.DOCUMENT_NODE},c=function(z){var Z=z&&z.parentNode;Z&&Z.removeChild(z)};function u(){for(var z=[],Z=0;Z<arguments.length;Z++)z[Z]=arguments[Z];var X=Array.isArray(z[0])?z[0]:i([],z,!0);return X.filter(Boolean).join(" ")}var f=function(z,Z){return z.querySelectorAll(Z)},h=function(z,Z){return Z===void 0&&(Z={}),z&&z.setAttribute&&(0,r.each)(Z,function(X,ae){return z.setAttribute(ae,X)})},d=function(z){var Z;return z&&!!(z.offsetWidth||z.offsetHeight||!((Z=z.getClientRects)===null||Z===void 0)&&Z.call(z).length)},m=function(z,Z){var X;(X=z.parentNode)===null||X===void 0||X.replaceChild(Z,z)},g=function(z,Z,X){var ae=z.childNodes,ve=ae.length,me=(0,r.isUndefined)(X)?ve:X;(0,r.isString)(Z)&&(z.insertAdjacentHTML("beforeEnd",Z),Z=z.lastChild,z.removeChild(Z)),me>=ve?z.appendChild(Z):z.insertBefore(Z,ae[me])},x=function(z,Z){return g(z,Z)},b=function(z,Z,X){Z===void 0&&(Z={});var ae=document.createElement(z);return Z&&(0,r.each)(Z,function(ve,me){return ae.setAttribute(me,ve)}),X&&((0,r.isString)(X)?ae.innerHTML=X:ae.appendChild(X)),ae},_=function(z){return document.createTextNode(z)},S=function(z,Z){var X,ae=z.type;try{X=new window[Z](ae,z)}catch{X=document.createEvent(Z),X.initEvent(ae,!0,!0)}return X._parentEvent=z,ae.indexOf("key")===0&&(X.keyCodeVal=z.keyCode,["keyCode","which"].forEach(function(ve){Object.defineProperty(X,ve,{get:function(){return this.keyCodeVal}})})),X},T=function(z,Z){Z===void 0&&(Z=[]);var X=Array.isArray(Z)?Z:[Z];X.forEach(function(ae){var ve=ae[o]||"div",me=ae[a]||{},Ee=document.createElement(ve);(0,r.each)(me,function(ke,He){Ee.setAttribute(He,ke)}),z.appendChild(Ee)})},C=function(z){return(z==null?void 0:z.nodeType)===Node.TEXT_NODE},w=function(z){return(z==null?void 0:z.nodeType)===Node.COMMENT_NODE},N=function(z){return z&&!C(z)&&!w(z)},A=function(z){var Z={top:0,left:0,width:0,height:0};if(!z)return Z;var X;if(C(z)){var ae=document.createRange();ae.selectNode(z),X=ae.getBoundingClientRect(),ae.detach()}return X||(z.getBoundingClientRect?z.getBoundingClientRect():Z)},j=function(z){var Z=(z==null?void 0:z.ownerDocument)||document,X=Z.documentElement,ae=Z.defaultView||window;return{x:(ae.pageXOffset||X.scrollLeft||0)-(X.clientLeft||0),y:(ae.pageYOffset||X.scrollTop||0)-(X.clientTop||0)}},R=function(z){return z.which||z.keyCode},L=function(z){return String.fromCharCode(R(z))},M=function(z){return z.touches&&z.touches[0]?z.touches[0]:z},I=function(z){return R(z)===27},D=function(z){return R(z)===13},V=function(z){return z.ctrlKey},F=function(z){return V(z)||z.metaKey},G=function(z){if(!z)return"";var Z=z.name,X=z.publicId,ae=z.systemId,ve=X?' PUBLIC "'.concat(X,'"'):"",me=!X&&ae?' SYSTEM "'.concat(ae,'"'):"";return"<!DOCTYPE ".concat(Z).concat(ve).concat(me,">")},W=function(z){z===void 0&&(z={});var Z=[];return(0,r.each)(z,function(X,ae){return Z.push("".concat(ae,'="').concat(X,'"'))}),Z.join(" ")},Y=function(z,Z,X,ae){var ve=Z.split(/\s+/),me=(0,r.isArray)(z)?z:[z];ve.forEach(function(Ee){me.forEach(function(ke){return ke==null?void 0:ke.addEventListener(Ee,X,ae)})})},te=function(z,Z,X,ae){var ve=Z.split(/\s+/),me=(0,r.isArray)(z)?z:[z];ve.forEach(function(Ee){me.forEach(function(ke){return ke==null?void 0:ke.removeEventListener(Ee,X,ae)})})},he=function(z){var Z=z.replace(/-([a-zA-Z0-9])/g,function(X,ae){return ae.toUpperCase()});return Z}},1166:(n,t,e)=>{e.r(t),e.d(t,{appendStyles:()=>A,buildBase64UrlFromSvg:()=>Re,camelCase:()=>M,capitalize:()=>Z,createId:()=>He,deepMerge:()=>Y,escape:()=>G,escapeNodeContent:()=>W,find:()=>F,get:()=>h,getComponentModel:()=>Ee,getComponentView:()=>me,getElement:()=>V,getGlobal:()=>S,getModel:()=>te,getUiClass:()=>N,getUnitFromValue:()=>R,getViewEl:()=>ae,hasDnd:()=>D,hasWin:()=>_,isBultInMethod:()=>m,isComponent:()=>ve,isDef:()=>b,isEmptyObj:()=>z,isObject:()=>he,isRule:()=>X,matches:()=>w,normalizeFloat:()=>I,normalizeKey:()=>g,serialize:()=>d,setViewEl:()=>ke,shallowDiff:()=>j,stringToPath:()=>u,toLowerCase:()=>T,upFirst:()=>L,wait:()=>x});var r=e(5706),i=e(6294),o=function(){return o=Object.assign||function(se){for(var ce,$e=1,Ue=arguments.length;$e<Ue;$e++){ce=arguments[$e];for(var Te in ce)Object.prototype.hasOwnProperty.call(ce,Te)&&(se[Te]=ce[Te])}return se},o.apply(this,arguments)},a=function(se,ce,$e){if($e||arguments.length===2)for(var Ue=0,Te=ce.length,ft;Ue<Te;Ue++)(ft||!(Ue in ce))&&(ft||(ft=Array.prototype.slice.call(ce,0,Ue)),ft[Ue]=ce[Ue]);return se.concat(ft||Array.prototype.slice.call(ce))},s={},l=/\\(\\)?/g,c=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,u=function(se){var ce=[];return se.charCodeAt(0)===46&&ce.push(""),se.replace(c,function($e,Ue,Te,ft){return ce.push(Te?ft.replace(l,"$1"):Ue||$e),""}),ce};function f(se,ce){return(0,r.isArray)(se)?se:ce.hasOwnProperty(se)?[se]:u(se)}var h=function(se,ce,$e){for(var Ue,Te=f(ce,se),ft=Te.length,Q=0;se!=null&&Q<ft;)se=se["".concat(Te[Q++])];return(Ue=Q&&Q==ft?se:void 0)!==null&&Ue!==void 0?Ue:$e},d=function(se){return JSON.parse(JSON.stringify(se))},m=function(se){return(0,r.isFunction)(s[se])},g=function(se){return m(se)?"_".concat(se):se},x=function(se){return se===void 0&&(se=0),new Promise(function(ce){return setTimeout(ce,se)})},b=function(se){return typeof se<"u"},_=function(){return typeof window<"u"},S=function(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:e.g},T=function(se){return(se||"").toLowerCase()},C=_()?window.Element.prototype:{},w=C.matches||C.webkitMatchesSelector||C.mozMatchesSelector||C.msMatchesSelector,N=function(se,ce){var $e=se.getConfig(),Ue=$e.stylePrefix,Te=$e.customUI;return[Te&&"".concat(Ue,"cui"),ce].filter(function(ft){return ft}).join(" ")},A=function(se,ce){ce===void 0&&(ce={});var $e=(0,r.isArray)(se)?a([],se,!0):[se];if($e.length){var Ue=$e.shift();if(Ue&&(!ce.unique||!document.querySelector('link[href="'.concat(Ue,'"]')))){var Te=document.head,ft=document.createElement("link");ft.href=Ue,ft.rel="stylesheet",ce.prepand?Te.insertBefore(ft,Te.firstChild):Te.appendChild(ft)}A($e)}},j=function(se,ce){var $e={},Ue=(0,r.keys)(ce);for(var Te in se)if(se.hasOwnProperty(Te)){var ft=se[Te],Q=ce[Te];Ue.indexOf(Te)>=0?ft!==Q&&($e[Te]=Q):$e[Te]=null}for(var Te in ce)ce.hasOwnProperty(Te)&&(0,r.isUndefined)(se[Te])&&($e[Te]=ce[Te]);return $e},R=function(se){return se.replace(parseFloat(se),"")},L=function(se){return se[0].toUpperCase()+se.toLowerCase().slice(1)},M=function(se){return se.replace(/-./g,function(ce){return ce[1].toUpperCase()})},I=function(se,ce,$e){ce===void 0&&(ce=1),$e===void 0&&($e=0);var Ue=0;if(isNaN(se))return $e;if(se=parseFloat(se),Math.floor(se)!==se){var Te=ce.toString().split(".")[1];Ue=Te?Te.length:0}return Ue?parseFloat(se.toFixed(Ue)):se},D=function(se){return"draggable"in document.createElement("i")&&(se?se.config.nativeDnD:!0)},V=function(se){if((0,r.isElement)(se)||(0,i.ir)(se))return se;if(se&&se.getEl)return se.getEl()},F=function(se,ce){var $e=null;return se.some(function(Ue,Te){return ce(Ue,Te,se)?($e=Ue,1):0}),$e},G=function(se){return se===void 0&&(se=""),"".concat(se).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/`/g,"&#96;")},W=function(se){return se===void 0&&(se=""),"".concat(se).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},Y=function(){for(var se=[],ce=0;ce<arguments.length;ce++)se[ce]=arguments[ce];for(var $e=o({},se[0]),Ue=1;Ue<se.length;Ue++){var Te=o({},se[Ue]);for(var ft in Te){var Q=$e[ft],de=Te[ft];he(Q)&&he(de)?$e[ft]=Y(Q,de):$e[ft]=de}}return $e},te=function(se,ce){var $e;return!ce&&se&&se.__cashData?$e=se.__cashData.model:ce&&(0,r.isElement)(se)&&($e=ce(se).data("model")),$e},he=function(se){return se&&!Array.isArray(se)&&typeof se=="object"},z=function(se){return Object.keys(se).length<=0},Z=function(se){return se===void 0&&(se=""),se&&se.charAt(0).toUpperCase()+se.substring(1)},X=function(se){return se&&se.toCSS},ae=function(se){return se==null?void 0:se.__gjsv},ve=function(se){return!!(se!=null&&se.toHTML)},me=function(se){return ae(se)},Ee=function(se){var ce;return(ce=me(se))===null||ce===void 0?void 0:ce.model},ke=function(se,ce){se.__gjsv=ce},He=function(se){se===void 0&&(se=16);for(var ce="",$e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",Ue=$e.length,Te=0;Te<se;Te++)ce+=$e.charAt(Math.floor(Math.random()*Ue));return ce},Re=function(se){if(se&&se.substr(0,4)==="<svg"){var ce="";return _()?ce=window.btoa(se):typeof Buffer<"u"&&(ce=Buffer.from(se,"utf8").toString("base64")),ce?"data:image/svg+xml;base64,".concat(ce):se}return se}},6756:(n,t,e)=>{e.d(t,{h:()=>o});var r=e(3178),i=function(){var s=function(l,c){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(u[h]=f[h])},s(l,c)};return function(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");s(l,c);function u(){this.constructor=l}l.prototype=c===null?Object.create(c):(u.prototype=c.prototype,new u)}}(),o=function(s){i(l,s);function l(){var c=s!==null&&s.apply(this,arguments)||this;return c.displayCache=new Map,c}return l.prototype.getChildren=function(){return this.getDisplayedChildren()},l.prototype.getDisplayedChildren=function(){var c=this,u=this.model.components(),f=u.filter(function(h){return c.isChildDisplayed(h)});return f.map(function(h){return new c.constructor(h)})},l.prototype.isChildDisplayed=function(c){if(this.displayCache.has(c))return this.displayCache.get(c);var u=c.getEl(),f=a(u);return this.displayCache.set(c,f),f},l.prototype.getParent=function(){var c=this.model.parent();return c?new this.constructor(c):null},l.prototype.addChildAt=function(c,u,f){var h,d,m,g,x,b,_,S;f===void 0&&(f={action:"add-component"});var T=((d=(h=this.model)===null||h===void 0?void 0:h.isInstanceOf)===null||d===void 0?void 0:d.call(h,"text"))&&((g=(m=c==null?void 0:c.model)===null||m===void 0?void 0:m.get)===null||g===void 0?void 0:g.call(m,"textable"));if(T)return(S=(_=(b=(x=this.model)===null||x===void 0?void 0:x.getView)===null||b===void 0?void 0:b.call(x))===null||_===void 0?void 0:_.insertComponent)===null||S===void 0?void 0:S.call(_,c==null?void 0:c.model,{action:f.action});var C=this.model.components().add(c.model,{at:this.getRealIndex(u),action:f.action});return new this.constructor(C)},l.prototype.removeChildAt=function(c,u){u===void 0&&(u={temporary:!1});var f=this.model.components().at(this.getRealIndex(c));f&&this.model.components().remove(f,u)},l.prototype.indexOfChild=function(c){return this.getDisplayIndex(c)},l.prototype.getDisplayIndex=function(c){var u=this.getDisplayedChildren();return u?u.findIndex(function(f){return f.model===c.model}):-1},l.prototype.getRealIndex=function(c){if(c===-1)return-1;for(var u=0,f=this.model.components(),h=0;h<f.length;h++){var d=f.at(h),m=this.isChildDisplayed(d);if(m&&u++,u===c+1)return h}return-1},l.prototype.canMove=function(c,u){return this.model.em.Components.canMove(this.model,c.model,this.getRealIndex(u)).result},l.prototype.restNodeState=function(){this.clearState();var c=this.model;this.setContentEditable(!1),c.em.getEditing()===c&&this.disableEditing()},l.prototype.setContentEditable=function(c){this.element&&this.isTextNode()&&(this.element.contentEditable=c?"true":"false")},l.prototype.disableEditing=function(){var c,u;(u=(c=this.view)===null||c===void 0?void 0:c.disableEditing)===null||u===void 0||u.call(c)},l.prototype.clearState=function(){var c,u;(u=(c=this.model).set)===null||u===void 0||u.call(c,"status","")},l.prototype.setSelectedParentState=function(){var c,u;(u=(c=this.model).set)===null||u===void 0||u.call(c,"status","selected-parent")},l.prototype.isTextNode=function(){var c,u;return(u=(c=this.model).isInstanceOf)===null||u===void 0?void 0:u.call(c,"text")},l.prototype.isTextable=function(){var c,u;return(u=(c=this.model).get)===null||u===void 0?void 0:u.call(c,"textable")},l}(r.$);function a(s){return s?typeof s=="object"&&s.nodeType===Node.ELEMENT_NODE&&window.getComputedStyle(s).display!=="none"&&s.offsetWidth>0&&s.offsetHeight>0:!1}},1447:(n,t,e)=>{e.d(t,{A:()=>a});var r=e(6756),i=function(){var s=function(l,c){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(u[h]=f[h])},s(l,c)};return function(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");s(l,c);function u(){this.constructor=l}l.prototype=c===null?Object.create(c):(u.prototype=c.prototype,new u)}}(),o=function(s){i(l,s);function l(){var c=s!==null&&s.apply(this,arguments)||this;return c._dropAreaConfig={ratio:.8,minUndroppableDimension:1,maxUndroppableDimension:15},c}return Object.defineProperty(l.prototype,"view",{get:function(){var c,u;return(u=(c=this.model).getView)===null||u===void 0?void 0:u.call(c)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"element",{get:function(){var c,u;return(u=(c=this.model).getEl)===null||u===void 0?void 0:u.call(c)},enumerable:!1,configurable:!0}),l}(r.h);const a=o},3178:(n,t,e)=>{e.d(t,{$:()=>r});var r=function(){function i(o,a){a===void 0&&(a={}),this._dropAreaConfig={ratio:1,minUndroppableDimension:0,maxUndroppableDimension:0},this._model=o,this._dragSource=a}return Object.defineProperty(i.prototype,"model",{get:function(){return this._model},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"dragSource",{get:function(){return this._dragSource},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"dropArea",{get:function(){var o,a;return this.getParent()?(a=this.nodeDimensions)===null||a===void 0?void 0:a.getDropArea(this._dropAreaConfig):(o=this.nodeDimensions)===null||o===void 0?void 0:o.clone()},enumerable:!1,configurable:!0}),i.prototype.isWithinDropBounds=function(o,a){return!!this.dropArea&&this.dropArea.isWithinBounds(o,a)},i.prototype.equals=function(o){return!!(o!=null&&o._model)&&this._model===o._model},i.prototype.adjustDimensions=function(o){var a,s;o.topDifference===0&&o.leftDifference===0||((a=this.nodeDimensions)===null||a===void 0||a.adjustDimensions(o),(s=this.childrenDimensions)===null||s===void 0||s.forEach(function(l){return l.adjustDimensions(o)}))},i}()},8433:(n,t,e)=>{e.d(t,{A:()=>r});var r;(function(i){i.Vertical="Vertical",i.Horizontal="Horizontal",i.BothDirections="BothDirections"})(r||(r={}))},585:(n,t,e)=>{var r={"./CanvasClear":9484,"./CanvasClear.ts":9484,"./CanvasMove":9516,"./CanvasMove.ts":9516,"./CommandAbstract":9946,"./CommandAbstract.ts":9946,"./ComponentDelete":7801,"./ComponentDelete.ts":7801,"./ComponentDrag":4864,"./ComponentDrag.ts":4864,"./ComponentEnter":6134,"./ComponentEnter.ts":6134,"./ComponentExit":914,"./ComponentExit.ts":914,"./ComponentNext":5547,"./ComponentNext.ts":5547,"./ComponentPrev":8655,"./ComponentPrev.ts":8655,"./ComponentStyleClear":7640,"./ComponentStyleClear.ts":7640,"./CopyComponent":5837,"./CopyComponent.ts":5837,"./ExportTemplate":6477,"./ExportTemplate.ts":6477,"./Fullscreen":1772,"./Fullscreen.ts":1772,"./MoveComponent":741,"./MoveComponent.ts":741,"./OpenAssets":2924,"./OpenAssets.ts":2924,"./OpenBlocks":3963,"./OpenBlocks.ts":3963,"./OpenLayers":1479,"./OpenLayers.ts":1479,"./OpenStyleManager":3473,"./OpenStyleManager.ts":3473,"./OpenTraitManager":5054,"./OpenTraitManager.ts":5054,"./PasteComponent":6979,"./PasteComponent.ts":6979,"./Preview":4457,"./Preview.ts":4457,"./Resize":5493,"./Resize.ts":5493,"./SelectComponent":9317,"./SelectComponent.ts":9317,"./SelectPosition":1406,"./SelectPosition.ts":1406,"./ShowOffset":9395,"./ShowOffset.ts":9395,"./SwitchVisibility":7285,"./SwitchVisibility.ts":7285};function i(a){var s=o(a);return e(s)}function o(a){if(!e.o(r,a)){var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}return r[a]}i.keys=function(){return Object.keys(r)},i.resolve=o,n.exports=i,i.id=585},5706:(n,t,e)=>{e.r(t),e.d(t,{VERSION:()=>i,after:()=>pi,all:()=>Zi,allKeys:()=>At,any:()=>Ps,assign:()=>Kr,before:()=>ho,bind:()=>As,bindAll:()=>Na,chain:()=>ns,chunk:()=>Mn,clone:()=>Vr,collect:()=>xi,compact:()=>pt,compose:()=>os,constant:()=>ft,contains:()=>Rn,countBy:()=>Xl,create:()=>gr,debounce:()=>cl,default:()=>ka,defaults:()=>an,defer:()=>yn,delay:()=>Ro,detect:()=>_r,difference:()=>$t,drop:()=>qe,each:()=>$n,escape:()=>Nt,every:()=>Zi,extend:()=>or,extendOwn:()=>Kr,filter:()=>Xi,find:()=>_r,findIndex:()=>Fo,findKey:()=>sa,findLastIndex:()=>as,findWhere:()=>bn,first:()=>be,flatten:()=>Tt,foldl:()=>zi,foldr:()=>Wi,forEach:()=>$n,functions:()=>Or,get:()=>qr,groupBy:()=>fl,has:()=>un,head:()=>be,identity:()=>wr,include:()=>Rn,includes:()=>Rn,indexBy:()=>dl,indexOf:()=>sr,initial:()=>U,inject:()=>zi,intersection:()=>Hr,invert:()=>Er,invoke:()=>Bo,isArguments:()=>$e,isArray:()=>Re,isArrayBuffer:()=>he,isBoolean:()=>M,isDataView:()=>He,isDate:()=>G,isElement:()=>I,isEmpty:()=>Oe,isEqual:()=>Ct,isError:()=>Y,isFinite:()=>Ue,isFunction:()=>X,isMap:()=>et,isMatch:()=>fe,isNaN:()=>Te,isNull:()=>R,isNumber:()=>F,isObject:()=>j,isRegExp:()=>W,isSet:()=>Rt,isString:()=>V,isSymbol:()=>te,isTypedArray:()=>Ze,isUndefined:()=>L,isWeakMap:()=>mt,isWeakSet:()=>Zt,iteratee:()=>it,keys:()=>kt,last:()=>Qe,lastIndexOf:()=>Gr,map:()=>xi,mapObject:()=>fn,matcher:()=>$,matches:()=>$,max:()=>Oc,memoize:()=>Vi,methods:()=>Or,min:()=>Ms,mixin:()=>Ji,negate:()=>So,noop:()=>br,now:()=>_e,object:()=>Un,omit:()=>ja,once:()=>Ns,pairs:()=>dr,partial:()=>aa,partition:()=>Zl,pick:()=>Pa,pluck:()=>js,property:()=>oe,propertyOf:()=>dt,random:()=>Nr,range:()=>kn,reduce:()=>zi,reduceRight:()=>Wi,reject:()=>wi,rest:()=>qe,restArguments:()=>A,result:()=>rs,sample:()=>Gl,select:()=>Xi,shuffle:()=>Kl,size:()=>Ls,some:()=>Ps,sortBy:()=>Yl,sortedIndex:()=>ca,tail:()=>qe,take:()=>be,tap:()=>er,template:()=>Aa,templateSettings:()=>Dr,throttle:()=>hi,times:()=>ie,toArray:()=>Ho,toPath:()=>sn,transpose:()=>Qr,unescape:()=>Pr,union:()=>zr,uniq:()=>hr,unique:()=>hr,uniqueId:()=>Os,unzip:()=>Qr,values:()=>Bt,where:()=>ks,without:()=>tr,wrap:()=>Sr,zip:()=>jn});var r={};e.r(r),e.d(r,{VERSION:()=>i,after:()=>pi,all:()=>Zi,allKeys:()=>At,any:()=>Ps,assign:()=>Kr,before:()=>ho,bind:()=>As,bindAll:()=>Na,chain:()=>ns,chunk:()=>Mn,clone:()=>Vr,collect:()=>xi,compact:()=>pt,compose:()=>os,constant:()=>ft,contains:()=>Rn,countBy:()=>Xl,create:()=>gr,debounce:()=>cl,default:()=>po,defaults:()=>an,defer:()=>yn,delay:()=>Ro,detect:()=>_r,difference:()=>$t,drop:()=>qe,each:()=>$n,escape:()=>Nt,every:()=>Zi,extend:()=>or,extendOwn:()=>Kr,filter:()=>Xi,find:()=>_r,findIndex:()=>Fo,findKey:()=>sa,findLastIndex:()=>as,findWhere:()=>bn,first:()=>be,flatten:()=>Tt,foldl:()=>zi,foldr:()=>Wi,forEach:()=>$n,functions:()=>Or,get:()=>qr,groupBy:()=>fl,has:()=>un,head:()=>be,identity:()=>wr,include:()=>Rn,includes:()=>Rn,indexBy:()=>dl,indexOf:()=>sr,initial:()=>U,inject:()=>zi,intersection:()=>Hr,invert:()=>Er,invoke:()=>Bo,isArguments:()=>$e,isArray:()=>Re,isArrayBuffer:()=>he,isBoolean:()=>M,isDataView:()=>He,isDate:()=>G,isElement:()=>I,isEmpty:()=>Oe,isEqual:()=>Ct,isError:()=>Y,isFinite:()=>Ue,isFunction:()=>X,isMap:()=>et,isMatch:()=>fe,isNaN:()=>Te,isNull:()=>R,isNumber:()=>F,isObject:()=>j,isRegExp:()=>W,isSet:()=>Rt,isString:()=>V,isSymbol:()=>te,isTypedArray:()=>Ze,isUndefined:()=>L,isWeakMap:()=>mt,isWeakSet:()=>Zt,iteratee:()=>it,keys:()=>kt,last:()=>Qe,lastIndexOf:()=>Gr,map:()=>xi,mapObject:()=>fn,matcher:()=>$,matches:()=>$,max:()=>Oc,memoize:()=>Vi,methods:()=>Or,min:()=>Ms,mixin:()=>Ji,negate:()=>So,noop:()=>br,now:()=>_e,object:()=>Un,omit:()=>ja,once:()=>Ns,pairs:()=>dr,partial:()=>aa,partition:()=>Zl,pick:()=>Pa,pluck:()=>js,property:()=>oe,propertyOf:()=>dt,random:()=>Nr,range:()=>kn,reduce:()=>zi,reduceRight:()=>Wi,reject:()=>wi,rest:()=>qe,restArguments:()=>A,result:()=>rs,sample:()=>Gl,select:()=>Xi,shuffle:()=>Kl,size:()=>Ls,some:()=>Ps,sortBy:()=>Yl,sortedIndex:()=>ca,tail:()=>qe,take:()=>be,tap:()=>er,template:()=>Aa,templateSettings:()=>Dr,throttle:()=>hi,times:()=>ie,toArray:()=>Ho,toPath:()=>sn,transpose:()=>Qr,unescape:()=>Pr,union:()=>zr,uniq:()=>hr,unique:()=>hr,uniqueId:()=>Os,unzip:()=>Qr,values:()=>Bt,where:()=>ks,without:()=>tr,wrap:()=>Sr,zip:()=>jn});var i="1.13.1",o=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},a=Array.prototype,s=Object.prototype,l=typeof Symbol<"u"?Symbol.prototype:null,c=a.push,u=a.slice,f=s.toString,h=s.hasOwnProperty,d=typeof ArrayBuffer<"u",m=typeof DataView<"u",g=Array.isArray,x=Object.keys,b=Object.create,_=d&&ArrayBuffer.isView,S=isNaN,T=isFinite,C=!{toString:null}.propertyIsEnumerable("toString"),w=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],N=Math.pow(2,53)-1;function A(ue,Ae){return Ae=Ae==null?ue.length-1:+Ae,function(){for(var Ge=Math.max(arguments.length-Ae,0),Je=Array(Ge),lt=0;lt<Ge;lt++)Je[lt]=arguments[lt+Ae];switch(Ae){case 0:return ue.call(this,Je);case 1:return ue.call(this,arguments[0],Je);case 2:return ue.call(this,arguments[0],arguments[1],Je)}var at=Array(Ae+1);for(lt=0;lt<Ae;lt++)at[lt]=arguments[lt];return at[Ae]=Je,ue.apply(this,at)}}function j(ue){var Ae=typeof ue;return Ae==="function"||Ae==="object"&&!!ue}function R(ue){return ue===null}function L(ue){return ue===void 0}function M(ue){return ue===!0||ue===!1||f.call(ue)==="[object Boolean]"}function I(ue){return!!(ue&&ue.nodeType===1)}function D(ue){var Ae="[object "+ue+"]";return function(Ge){return f.call(Ge)===Ae}}const V=D("String"),F=D("Number"),G=D("Date"),W=D("RegExp"),Y=D("Error"),te=D("Symbol"),he=D("ArrayBuffer");var z=D("Function"),Z=o.document&&o.document.childNodes;typeof Int8Array!="object"&&typeof Z!="function"&&(z=function(ue){return typeof ue=="function"||!1});const X=z,ae=D("Object");var ve=m&&ae(new DataView(new ArrayBuffer(8))),me=typeof Map<"u"&&ae(new Map),Ee=D("DataView");function ke(ue){return ue!=null&&X(ue.getInt8)&&he(ue.buffer)}const He=ve?ke:Ee,Re=g||D("Array");function se(ue,Ae){return ue!=null&&h.call(ue,Ae)}var ce=D("Arguments");(function(){ce(arguments)||(ce=function(ue){return se(ue,"callee")})})();const $e=ce;function Ue(ue){return!te(ue)&&T(ue)&&!isNaN(parseFloat(ue))}function Te(ue){return F(ue)&&S(ue)}function ft(ue){return function(){return ue}}function Q(ue){return function(Ae){var Ge=ue(Ae);return typeof Ge=="number"&&Ge>=0&&Ge<=N}}function de(ue){return function(Ae){return Ae==null?void 0:Ae[ue]}}const Ce=de("byteLength"),De=Q(Ce);var Ke=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function je(ue){return _?_(ue)&&!He(ue):De(ue)&&Ke.test(f.call(ue))}const Ze=d?je:ft(!1),Ye=de("length");function bt(ue){for(var Ae={},Ge=ue.length,Je=0;Je<Ge;++Je)Ae[ue[Je]]=!0;return{contains:function(lt){return Ae[lt]},push:function(lt){return Ae[lt]=!0,ue.push(lt)}}}function Ut(ue,Ae){Ae=bt(Ae);var Ge=w.length,Je=ue.constructor,lt=X(Je)&&Je.prototype||s,at="constructor";for(se(ue,at)&&!Ae.contains(at)&&Ae.push(at);Ge--;)at=w[Ge],at in ue&&ue[at]!==lt[at]&&!Ae.contains(at)&&Ae.push(at)}function kt(ue){if(!j(ue))return[];if(x)return x(ue);var Ae=[];for(var Ge in ue)se(ue,Ge)&&Ae.push(Ge);return C&&Ut(ue,Ae),Ae}function Oe(ue){if(ue==null)return!0;var Ae=Ye(ue);return typeof Ae=="number"&&(Re(ue)||V(ue)||$e(ue))?Ae===0:Ye(kt(ue))===0}function fe(ue,Ae){var Ge=kt(Ae),Je=Ge.length;if(ue==null)return!Je;for(var lt=Object(ue),at=0;at<Je;at++){var xt=Ge[at];if(Ae[xt]!==lt[xt]||!(xt in lt))return!1}return!0}function ee(ue){if(ue instanceof ee)return ue;if(!(this instanceof ee))return new ee(ue);this._wrapped=ue}ee.VERSION=i,ee.prototype.value=function(){return this._wrapped},ee.prototype.valueOf=ee.prototype.toJSON=ee.prototype.value,ee.prototype.toString=function(){return String(this._wrapped)};function tt(ue){return new Uint8Array(ue.buffer||ue,ue.byteOffset||0,Ce(ue))}var Ie="[object DataView]";function gt(ue,Ae,Ge,Je){if(ue===Ae)return ue!==0||1/ue===1/Ae;if(ue==null||Ae==null)return!1;if(ue!==ue)return Ae!==Ae;var lt=typeof ue;return lt!=="function"&&lt!=="object"&&typeof Ae!="object"?!1:wt(ue,Ae,Ge,Je)}function wt(ue,Ae,Ge,Je){ue instanceof ee&&(ue=ue._wrapped),Ae instanceof ee&&(Ae=Ae._wrapped);var lt=f.call(ue);if(lt!==f.call(Ae))return!1;if(ve&&lt=="[object Object]"&&He(ue)){if(!He(Ae))return!1;lt=Ie}switch(lt){case"[object RegExp]":case"[object String]":return""+ue==""+Ae;case"[object Number]":return+ue!=+ue?+Ae!=+Ae:+ue==0?1/+ue===1/Ae:+ue==+Ae;case"[object Date]":case"[object Boolean]":return+ue==+Ae;case"[object Symbol]":return l.valueOf.call(ue)===l.valueOf.call(Ae);case"[object ArrayBuffer]":case Ie:return wt(tt(ue),tt(Ae),Ge,Je)}var at=lt==="[object Array]";if(!at&&Ze(ue)){var xt=Ce(ue);if(xt!==Ce(Ae))return!1;if(ue.buffer===Ae.buffer&&ue.byteOffset===Ae.byteOffset)return!0;at=!0}if(!at){if(typeof ue!="object"||typeof Ae!="object")return!1;var Vt=ue.constructor,Mr=Ae.constructor;if(Vt!==Mr&&!(X(Vt)&&Vt instanceof Vt&&X(Mr)&&Mr instanceof Mr)&&"constructor"in ue&&"constructor"in Ae)return!1}Ge=Ge||[],Je=Je||[];for(var Ar=Ge.length;Ar--;)if(Ge[Ar]===ue)return Je[Ar]===Ae;if(Ge.push(ue),Je.push(Ae),at){if(Ar=ue.length,Ar!==Ae.length)return!1;for(;Ar--;)if(!gt(ue[Ar],Ae[Ar],Ge,Je))return!1}else{var Yn=kt(ue),_n;if(Ar=Yn.length,kt(Ae).length!==Ar)return!1;for(;Ar--;)if(_n=Yn[Ar],!(se(Ae,_n)&&gt(ue[_n],Ae[_n],Ge,Je)))return!1}return Ge.pop(),Je.pop(),!0}function Ct(ue,Ae){return gt(ue,Ae)}function At(ue){if(!j(ue))return[];var Ae=[];for(var Ge in ue)Ae.push(Ge);return C&&Ut(ue,Ae),Ae}function Ft(ue){var Ae=Ye(ue);return function(Ge){if(Ge==null)return!1;var Je=At(Ge);if(Ye(Je))return!1;for(var lt=0;lt<Ae;lt++)if(!X(Ge[ue[lt]]))return!1;return ue!==ge||!X(Ge[lr])}}var lr="forEach",nr="has",vr=["clear","delete"],Rr=["get",nr,"set"],Lr=vr.concat(lr,Rr),ge=vr.concat(Rr),We=["add"].concat(vr,lr,nr);const et=me?Ft(Lr):D("Map"),mt=me?Ft(ge):D("WeakMap"),Rt=me?Ft(We):D("Set"),Zt=D("WeakSet");function Bt(ue){for(var Ae=kt(ue),Ge=Ae.length,Je=Array(Ge),lt=0;lt<Ge;lt++)Je[lt]=ue[Ae[lt]];return Je}function dr(ue){for(var Ae=kt(ue),Ge=Ae.length,Je=Array(Ge),lt=0;lt<Ge;lt++)Je[lt]=[Ae[lt],ue[Ae[lt]]];return Je}function Er(ue){for(var Ae={},Ge=kt(ue),Je=0,lt=Ge.length;Je<lt;Je++)Ae[ue[Ge[Je]]]=Ge[Je];return Ae}function Or(ue){var Ae=[];for(var Ge in ue)X(ue[Ge])&&Ae.push(Ge);return Ae.sort()}function Ir(ue,Ae){return function(Ge){var Je=arguments.length;if(Ae&&(Ge=Object(Ge)),Je<2||Ge==null)return Ge;for(var lt=1;lt<Je;lt++)for(var at=arguments[lt],xt=ue(at),Vt=xt.length,Mr=0;Mr<Vt;Mr++){var Ar=xt[Mr];(!Ae||Ge[Ar]===void 0)&&(Ge[Ar]=at[Ar])}return Ge}}const or=Ir(At),Kr=Ir(kt),an=Ir(At,!0);function mr(){return function(){}}function Xr(ue){if(!j(ue))return{};if(b)return b(ue);var Ae=mr();Ae.prototype=ue;var Ge=new Ae;return Ae.prototype=null,Ge}function gr(ue,Ae){var Ge=Xr(ue);return Ae&&Kr(Ge,Ae),Ge}function Vr(ue){return j(ue)?Re(ue)?ue.slice():or({},ue):ue}function er(ue,Ae){return Ae(ue),ue}function sn(ue){return Re(ue)?ue:[ue]}ee.toPath=sn;function xr(ue){return ee.toPath(ue)}function ln(ue,Ae){for(var Ge=Ae.length,Je=0;Je<Ge;Je++){if(ue==null)return;ue=ue[Ae[Je]]}return Ge?ue:void 0}function qr(ue,Ae,Ge){var Je=ln(ue,xr(Ae));return L(Je)?Ge:Je}function un(ue,Ae){Ae=xr(Ae);for(var Ge=Ae.length,Je=0;Je<Ge;Je++){var lt=Ae[Je];if(!se(ue,lt))return!1;ue=ue[lt]}return!!Ge}function wr(ue){return ue}function $(ue){return ue=Kr({},ue),function(Ae){return fe(Ae,ue)}}function oe(ue){return ue=xr(ue),function(Ae){return ln(Ae,ue)}}function J(ue,Ae,Ge){if(Ae===void 0)return ue;switch(Ge??3){case 1:return function(Je){return ue.call(Ae,Je)};case 3:return function(Je,lt,at){return ue.call(Ae,Je,lt,at)};case 4:return function(Je,lt,at,xt){return ue.call(Ae,Je,lt,at,xt)}}return function(){return ue.apply(Ae,arguments)}}function Fe(ue,Ae,Ge){return ue==null?wr:X(ue)?J(ue,Ae,Ge):j(ue)&&!Re(ue)?$(ue):oe(ue)}function it(ue,Ae){return Fe(ue,Ae,1/0)}ee.iteratee=it;function qt(ue,Ae,Ge){return ee.iteratee!==it?ee.iteratee(ue,Ae):Fe(ue,Ae,Ge)}function fn(ue,Ae,Ge){Ae=qt(Ae,Ge);for(var Je=kt(ue),lt=Je.length,at={},xt=0;xt<lt;xt++){var Vt=Je[xt];at[Vt]=Ae(ue[Vt],Vt,ue)}return at}function br(){}function dt(ue){return ue==null?br:function(Ae){return qr(ue,Ae)}}function ie(ue,Ae,Ge){var Je=Array(Math.max(0,ue));Ae=J(Ae,Ge,1);for(var lt=0;lt<ue;lt++)Je[lt]=Ae(lt);return Je}function Nr(ue,Ae){return Ae==null&&(Ae=ue,ue=0),ue+Math.floor(Math.random()*(Ae-ue+1))}const _e=Date.now||function(){return new Date().getTime()};function ze(ue){var Ae=function(at){return ue[at]},Ge="(?:"+kt(ue).join("|")+")",Je=RegExp(Ge),lt=RegExp(Ge,"g");return function(at){return at=at==null?"":""+at,Je.test(at)?at.replace(lt,Ae):at}}const ht={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Nt=ze(ht),It=Er(ht),Pr=ze(It),Dr=ee.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var An=/(.)^/,Zr={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Li=/\\|'|\r|\n|\u2028|\u2029/g;function bi(ue){return"\\"+Zr[ue]}var oa=/^\s*(\w|\$)+\s*$/;function Aa(ue,Ae,Ge){!Ae&&Ge&&(Ae=Ge),Ae=an({},Ae,ee.templateSettings);var Je=RegExp([(Ae.escape||An).source,(Ae.interpolate||An).source,(Ae.evaluate||An).source].join("|")+"|$","g"),lt=0,at="__p+='";ue.replace(Je,function(Ar,Yn,_n,yu,hl){return at+=ue.slice(lt,hl).replace(Li,bi),lt=hl+Ar.length,Yn?at+=`'+
((__t=(`+Yn+`))==null?'':_.escape(__t))+
'`:_n?at+=`'+
((__t=(`+_n+`))==null?'':__t)+
'`:yu&&(at+=`';
`+yu+`
__p+='`),Ar}),at+=`';
`;var xt=Ae.variable;if(xt){if(!oa.test(xt))throw new Error("variable is not a bare identifier: "+xt)}else at=`with(obj||{}){
`+at+`}
`,xt="obj";at=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+at+`return __p;
`;var Vt;try{Vt=new Function(xt,"_",at)}catch(Ar){throw Ar.source=at,Ar}var Mr=function(Ar){return Vt.call(this,Ar,ee)};return Mr.source="function("+xt+`){
`+at+"}",Mr}function rs(ue,Ae,Ge){Ae=xr(Ae);var Je=Ae.length;if(!Je)return X(Ge)?Ge.call(ue):Ge;for(var lt=0;lt<Je;lt++){var at=ue==null?void 0:ue[Ae[lt]];at===void 0&&(at=Ge,lt=Je),ue=X(at)?at.call(ue):at}return ue}var Es=0;function Os(ue){var Ae=++Es+"";return ue?ue+Ae:Ae}function ns(ue){var Ae=ee(ue);return Ae._chain=!0,Ae}function is(ue,Ae,Ge,Je,lt){if(!(Je instanceof Ae))return ue.apply(Ge,lt);var at=Xr(ue.prototype),xt=ue.apply(at,lt);return j(xt)?xt:at}var Io=A(function(ue,Ae){var Ge=Io.placeholder,Je=function(){for(var lt=0,at=Ae.length,xt=Array(at),Vt=0;Vt<at;Vt++)xt[Vt]=Ae[Vt]===Ge?arguments[lt++]:Ae[Vt];for(;lt<arguments.length;)xt.push(arguments[lt++]);return is(ue,Je,this,this,xt)};return Je});Io.placeholder=ee;const aa=Io,As=A(function(ue,Ae,Ge){if(!X(ue))throw new TypeError("Bind must be called on a function");var Je=A(function(lt){return is(ue,Je,Ae,this,Ge.concat(lt))});return Je}),ti=Q(Ye);function Nn(ue,Ae,Ge,Je){if(Je=Je||[],!Ae&&Ae!==0)Ae=1/0;else if(Ae<=0)return Je.concat(ue);for(var lt=Je.length,at=0,xt=Ye(ue);at<xt;at++){var Vt=ue[at];if(ti(Vt)&&(Re(Vt)||$e(Vt)))if(Ae>1)Nn(Vt,Ae-1,Ge,Je),lt=Je.length;else for(var Mr=0,Ar=Vt.length;Mr<Ar;)Je[lt++]=Vt[Mr++];else Ge||(Je[lt++]=Vt)}return Je}const Na=A(function(ue,Ae){Ae=Nn(Ae,!1,!1);var Ge=Ae.length;if(Ge<1)throw new Error("bindAll must be passed function names");for(;Ge--;){var Je=Ae[Ge];ue[Je]=As(ue[Je],ue)}return ue});function Vi(ue,Ae){var Ge=function(Je){var lt=Ge.cache,at=""+(Ae?Ae.apply(this,arguments):Je);return se(lt,at)||(lt[at]=ue.apply(this,arguments)),lt[at]};return Ge.cache={},Ge}const Ro=A(function(ue,Ae,Ge){return setTimeout(function(){return ue.apply(null,Ge)},Ae)}),yn=aa(Ro,ee,1);function hi(ue,Ae,Ge){var Je,lt,at,xt,Vt=0;Ge||(Ge={});var Mr=function(){Vt=Ge.leading===!1?0:_e(),Je=null,xt=ue.apply(lt,at),Je||(lt=at=null)},Ar=function(){var Yn=_e();!Vt&&Ge.leading===!1&&(Vt=Yn);var _n=Ae-(Yn-Vt);return lt=this,at=arguments,_n<=0||_n>Ae?(Je&&(clearTimeout(Je),Je=null),Vt=Yn,xt=ue.apply(lt,at),Je||(lt=at=null)):!Je&&Ge.trailing!==!1&&(Je=setTimeout(Mr,_n)),xt};return Ar.cancel=function(){clearTimeout(Je),Vt=0,Je=lt=at=null},Ar}function cl(ue,Ae,Ge){var Je,lt,at,xt,Vt,Mr=function(){var Yn=_e()-lt;Ae>Yn?Je=setTimeout(Mr,Ae-Yn):(Je=null,Ge||(xt=ue.apply(Vt,at)),Je||(at=Vt=null))},Ar=A(function(Yn){return Vt=this,at=Yn,lt=_e(),Je||(Je=setTimeout(Mr,Ae),Ge&&(xt=ue.apply(Vt,at))),xt});return Ar.cancel=function(){clearTimeout(Je),Je=at=Vt=null},Ar}function Sr(ue,Ae){return aa(Ae,ue)}function So(ue){return function(){return!ue.apply(this,arguments)}}function os(){var ue=arguments,Ae=ue.length-1;return function(){for(var Ge=Ae,Je=ue[Ae].apply(this,arguments);Ge--;)Je=ue[Ge].call(this,Je);return Je}}function pi(ue,Ae){return function(){if(--ue<1)return Ae.apply(this,arguments)}}function ho(ue,Ae){var Ge;return function(){return--ue>0&&(Ge=Ae.apply(this,arguments)),ue<=1&&(Ae=null),Ge}}const Ns=aa(ho,2);function sa(ue,Ae,Ge){Ae=qt(Ae,Ge);for(var Je=kt(ue),lt,at=0,xt=Je.length;at<xt;at++)if(lt=Je[at],Ae(ue[lt],lt,ue))return lt}function la(ue){return function(Ae,Ge,Je){Ge=qt(Ge,Je);for(var lt=Ye(Ae),at=ue>0?0:lt-1;at>=0&&at<lt;at+=ue)if(Ge(Ae[at],at,Ae))return at;return-1}}const Fo=la(1),as=la(-1);function ca(ue,Ae,Ge,Je){Ge=qt(Ge,Je,1);for(var lt=Ge(Ae),at=0,xt=Ye(ue);at<xt;){var Vt=Math.floor((at+xt)/2);Ge(ue[Vt])<lt?at=Vt+1:xt=Vt}return at}function cr(ue,Ae,Ge){return function(Je,lt,at){var xt=0,Vt=Ye(Je);if(typeof at=="number")ue>0?xt=at>=0?at:Math.max(at+Vt,xt):Vt=at>=0?Math.min(at+1,Vt):at+Vt+1;else if(Ge&&at&&Vt)return at=Ge(Je,lt),Je[at]===lt?at:-1;if(lt!==lt)return at=Ae(u.call(Je,xt,Vt),Te),at>=0?at+xt:-1;for(at=ue>0?xt:Vt-1;at>=0&&at<Vt;at+=ue)if(Je[at]===lt)return at;return-1}}const sr=cr(1,Fo,ca),Gr=cr(-1,as);function _r(ue,Ae,Ge){var Je=ti(ue)?Fo:sa,lt=Je(ue,Ae,Ge);if(lt!==void 0&&lt!==-1)return ue[lt]}function bn(ue,Ae){return _r(ue,$(Ae))}function $n(ue,Ae,Ge){Ae=J(Ae,Ge);var Je,lt;if(ti(ue))for(Je=0,lt=ue.length;Je<lt;Je++)Ae(ue[Je],Je,ue);else{var at=kt(ue);for(Je=0,lt=at.length;Je<lt;Je++)Ae(ue[at[Je]],at[Je],ue)}return ue}function xi(ue,Ae,Ge){Ae=qt(Ae,Ge);for(var Je=!ti(ue)&&kt(ue),lt=(Je||ue).length,at=Array(lt),xt=0;xt<lt;xt++){var Vt=Je?Je[xt]:xt;at[xt]=Ae(ue[Vt],Vt,ue)}return at}function To(ue){var Ae=function(Ge,Je,lt,at){var xt=!ti(Ge)&&kt(Ge),Vt=(xt||Ge).length,Mr=ue>0?0:Vt-1;for(at||(lt=Ge[xt?xt[Mr]:Mr],Mr+=ue);Mr>=0&&Mr<Vt;Mr+=ue){var Ar=xt?xt[Mr]:Mr;lt=Je(lt,Ge[Ar],Ar,Ge)}return lt};return function(Ge,Je,lt,at){var xt=arguments.length>=3;return Ae(Ge,J(Je,at,4),lt,xt)}}const zi=To(1),Wi=To(-1);function Xi(ue,Ae,Ge){var Je=[];return Ae=qt(Ae,Ge),$n(ue,function(lt,at,xt){Ae(lt,at,xt)&&Je.push(lt)}),Je}function wi(ue,Ae,Ge){return Xi(ue,So(qt(Ae)),Ge)}function Zi(ue,Ae,Ge){Ae=qt(Ae,Ge);for(var Je=!ti(ue)&&kt(ue),lt=(Je||ue).length,at=0;at<lt;at++){var xt=Je?Je[at]:at;if(!Ae(ue[xt],xt,ue))return!1}return!0}function Ps(ue,Ae,Ge){Ae=qt(Ae,Ge);for(var Je=!ti(ue)&&kt(ue),lt=(Je||ue).length,at=0;at<lt;at++){var xt=Je?Je[at]:at;if(Ae(ue[xt],xt,ue))return!0}return!1}function Rn(ue,Ae,Ge,Je){return ti(ue)||(ue=Bt(ue)),(typeof Ge!="number"||Je)&&(Ge=0),sr(ue,Ae,Ge)>=0}const Bo=A(function(ue,Ae,Ge){var Je,lt;return X(Ae)?lt=Ae:(Ae=xr(Ae),Je=Ae.slice(0,-1),Ae=Ae[Ae.length-1]),xi(ue,function(at){var xt=lt;if(!xt){if(Je&&Je.length&&(at=ln(at,Je)),at==null)return;xt=at[Ae]}return xt==null?xt:xt.apply(at,Ge)})});function js(ue,Ae){return xi(ue,oe(Ae))}function ks(ue,Ae){return Xi(ue,$(Ae))}function Oc(ue,Ae,Ge){var Je=-1/0,lt=-1/0,at,xt;if(Ae==null||typeof Ae=="number"&&typeof ue[0]!="object"&&ue!=null){ue=ti(ue)?ue:Bt(ue);for(var Vt=0,Mr=ue.length;Vt<Mr;Vt++)at=ue[Vt],at!=null&&at>Je&&(Je=at)}else Ae=qt(Ae,Ge),$n(ue,function(Ar,Yn,_n){xt=Ae(Ar,Yn,_n),(xt>lt||xt===-1/0&&Je===-1/0)&&(Je=Ar,lt=xt)});return Je}function Ms(ue,Ae,Ge){var Je=1/0,lt=1/0,at,xt;if(Ae==null||typeof Ae=="number"&&typeof ue[0]!="object"&&ue!=null){ue=ti(ue)?ue:Bt(ue);for(var Vt=0,Mr=ue.length;Vt<Mr;Vt++)at=ue[Vt],at!=null&&at<Je&&(Je=at)}else Ae=qt(Ae,Ge),$n(ue,function(Ar,Yn,_n){xt=Ae(Ar,Yn,_n),(xt<lt||xt===1/0&&Je===1/0)&&(Je=Ar,lt=xt)});return Je}function Gl(ue,Ae,Ge){if(Ae==null||Ge)return ti(ue)||(ue=Bt(ue)),ue[Nr(ue.length-1)];var Je=ti(ue)?Vr(ue):Bt(ue),lt=Ye(Je);Ae=Math.max(Math.min(Ae,lt),0);for(var at=lt-1,xt=0;xt<Ae;xt++){var Vt=Nr(xt,at),Mr=Je[xt];Je[xt]=Je[Vt],Je[Vt]=Mr}return Je.slice(0,Ae)}function Kl(ue){return Gl(ue,1/0)}function Yl(ue,Ae,Ge){var Je=0;return Ae=qt(Ae,Ge),js(xi(ue,function(lt,at,xt){return{value:lt,index:Je++,criteria:Ae(lt,at,xt)}}).sort(function(lt,at){var xt=lt.criteria,Vt=at.criteria;if(xt!==Vt){if(xt>Vt||xt===void 0)return 1;if(xt<Vt||Vt===void 0)return-1}return lt.index-at.index}),"value")}function ul(ue,Ae){return function(Ge,Je,lt){var at=Ae?[[],[]]:{};return Je=qt(Je,lt),$n(Ge,function(xt,Vt){var Mr=Je(xt,Vt,Ge);ue(at,xt,Mr)}),at}}const fl=ul(function(ue,Ae,Ge){se(ue,Ge)?ue[Ge].push(Ae):ue[Ge]=[Ae]}),dl=ul(function(ue,Ae,Ge){ue[Ge]=Ae}),Xl=ul(function(ue,Ae,Ge){se(ue,Ge)?ue[Ge]++:ue[Ge]=1}),Zl=ul(function(ue,Ae,Ge){ue[Ge?0:1].push(Ae)},!0);var Jl=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Ho(ue){return ue?Re(ue)?u.call(ue):V(ue)?ue.match(Jl):ti(ue)?xi(ue,wr):Bt(ue):[]}function Ls(ue){return ue==null?0:ti(ue)?ue.length:kt(ue).length}function Ac(ue,Ae,Ge){return Ae in Ge}const Pa=A(function(ue,Ae){var Ge={},Je=Ae[0];if(ue==null)return Ge;X(Je)?(Ae.length>1&&(Je=J(Je,Ae[1])),Ae=At(ue)):(Je=Ac,Ae=Nn(Ae,!1,!1),ue=Object(ue));for(var lt=0,at=Ae.length;lt<at;lt++){var xt=Ae[lt],Vt=ue[xt];Je(Vt,xt,ue)&&(Ge[xt]=Vt)}return Ge}),ja=A(function(ue,Ae){var Ge=Ae[0],Je;return X(Ge)?(Ge=So(Ge),Ae.length>1&&(Je=Ae[1])):(Ae=xi(Nn(Ae,!1,!1),String),Ge=function(lt,at){return!Rn(Ae,at)}),Pa(ue,Ge,Je)});function U(ue,Ae,Ge){return u.call(ue,0,Math.max(0,ue.length-(Ae==null||Ge?1:Ae)))}function be(ue,Ae,Ge){return ue==null||ue.length<1?Ae==null||Ge?void 0:[]:Ae==null||Ge?ue[0]:U(ue,ue.length-Ae)}function qe(ue,Ae,Ge){return u.call(ue,Ae==null||Ge?1:Ae)}function Qe(ue,Ae,Ge){return ue==null||ue.length<1?Ae==null||Ge?void 0:[]:Ae==null||Ge?ue[ue.length-1]:qe(ue,Math.max(0,ue.length-Ae))}function pt(ue){return Xi(ue,Boolean)}function Tt(ue,Ae){return Nn(ue,Ae,!1)}const $t=A(function(ue,Ae){return Ae=Nn(Ae,!0,!0),Xi(ue,function(Ge){return!Rn(Ae,Ge)})}),tr=A(function(ue,Ae){return $t(ue,Ae)});function hr(ue,Ae,Ge,Je){M(Ae)||(Je=Ge,Ge=Ae,Ae=!1),Ge!=null&&(Ge=qt(Ge,Je));for(var lt=[],at=[],xt=0,Vt=Ye(ue);xt<Vt;xt++){var Mr=ue[xt],Ar=Ge?Ge(Mr,xt,ue):Mr;Ae&&!Ge?((!xt||at!==Ar)&&lt.push(Mr),at=Ar):Ge?Rn(at,Ar)||(at.push(Ar),lt.push(Mr)):Rn(lt,Mr)||lt.push(Mr)}return lt}const zr=A(function(ue){return hr(Nn(ue,!0,!0))});function Hr(ue){for(var Ae=[],Ge=arguments.length,Je=0,lt=Ye(ue);Je<lt;Je++){var at=ue[Je];if(!Rn(Ae,at)){var xt;for(xt=1;xt<Ge&&Rn(arguments[xt],at);xt++);xt===Ge&&Ae.push(at)}}return Ae}function Qr(ue){for(var Ae=ue&&Oc(ue,Ye).length||0,Ge=Array(Ae),Je=0;Je<Ae;Je++)Ge[Je]=js(ue,Je);return Ge}const jn=A(Qr);function Un(ue,Ae){for(var Ge={},Je=0,lt=Ye(ue);Je<lt;Je++)Ae?Ge[ue[Je]]=Ae[Je]:Ge[ue[Je][0]]=ue[Je][1];return Ge}function kn(ue,Ae,Ge){Ae==null&&(Ae=ue||0,ue=0),Ge||(Ge=Ae<ue?-1:1);for(var Je=Math.max(Math.ceil((Ae-ue)/Ge),0),lt=Array(Je),at=0;at<Je;at++,ue+=Ge)lt[at]=ue;return lt}function Mn(ue,Ae){if(Ae==null||Ae<1)return[];for(var Ge=[],Je=0,lt=ue.length;Je<lt;)Ge.push(u.call(ue,Je,Je+=Ae));return Ge}function Vn(ue,Ae){return ue._chain?ee(Ae).chain():Ae}function Ji(ue){return $n(Or(ue),function(Ae){var Ge=ee[Ae]=ue[Ae];ee.prototype[Ae]=function(){var Je=[this._wrapped];return c.apply(Je,arguments),Vn(this,Ge.apply(ee,Je))}}),ee}$n(["pop","push","reverse","shift","sort","splice","unshift"],function(ue){var Ae=a[ue];ee.prototype[ue]=function(){var Ge=this._wrapped;return Ge!=null&&(Ae.apply(Ge,arguments),(ue==="shift"||ue==="splice")&&Ge.length===0&&delete Ge[0]),Vn(this,Ge)}}),$n(["concat","join","slice"],function(ue){var Ae=a[ue];ee.prototype[ue]=function(){var Ge=this._wrapped;return Ge!=null&&(Ge=Ae.apply(Ge,arguments)),Vn(this,Ge)}});const po=ee;var ri=Ji(r);ri._=ri;const ka=ri}},r6={};function gn(n){var t=r6[n];if(t!==void 0)return t.exports;var e=r6[n]={exports:{}};return A2e[n].call(e.exports,e,e.exports,gn),e.exports}gn.n=n=>{var t=n&&n.__esModule?()=>n.default:()=>n;return gn.d(t,{a:t}),t};gn.d=(n,t)=>{for(var e in t)gn.o(t,e)&&!gn.o(n,e)&&Object.defineProperty(n,e,{enumerable:!0,get:t[e]})};gn.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();gn.o=(n,t)=>Object.prototype.hasOwnProperty.call(n,t);gn.r=n=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})};var Hx={};gn.d(Hx,{Ay:()=>p6e,I0:()=>yD,nu:()=>mD});var we=gn(5706),Et=gn(1166);function Wa(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];var r=n.raw;return r.reduce(function(i,o,a){var s=t[a-1],l=r[a-1];return Array.isArray(s)?s=s.join(""):l&&l.slice(-1)==="$"?i=i.slice(0,-1):s=(0,Et.escape)(s),i+s+o})}var N2e=function(){return{stylePrefix:"gjs-",components:"",style:"",fromElement:!1,projectData:void 0,noticeOnUnload:!0,showOffsets:!1,showOffsetsSelected:!1,forceClass:!0,height:"900px",width:"100%",log:["warning","error"],baseCss:"",protectedCss:"* { box-sizing: border-box; } body {margin: 0;}",canvasCss:"",defaultCommand:"select-comp",showToolbar:!0,showDevices:!0,devicePreviewMode:!1,mediaCondition:"max-width",tagVarStart:"{[ ",tagVarEnd:" ]}",keepEmptyTextNodes:!1,jsInHtml:!0,nativeDnD:!0,multipleSelection:!0,optsHtml:{},optsCss:{},avoidInlineStyle:!0,avoidDefaults:!0,clearStyles:!1,listenToEl:[],cssIcons:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css",icons:{close:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>',move:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z"/></svg>',plus:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z" /></svg>',caret:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M7,10L12,15L17,10H7Z" /></svg>',delete:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" /></svg>',copy:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z" /></svg>',arrowUp:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z" /></svg>',chevron:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z" /></svg>',eye:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z" /></svg>',eyeOff:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M11.83,9L15,12.16C15,12.11 15,12.05 15,12A3,3 0 0,0 12,9C11.94,9 11.89,9 11.83,9M7.53,9.8L9.08,11.35C9.03,11.56 9,11.77 9,12A3,3 0 0,0 12,15C12.22,15 12.44,14.97 12.65,14.92L14.2,16.47C13.53,16.8 12.79,17 12,17A5,5 0 0,1 7,12C7,11.21 7.2,10.47 7.53,9.8M2,4.27L4.28,6.55L4.73,7C3.08,8.3 1.78,10 1,12C2.73,16.39 7,19.5 12,19.5C13.55,19.5 15.03,19.2 16.38,18.66L16.81,19.08L19.73,22L21,20.73L3.27,3M12,7A5,5 0 0,1 17,12C17,12.64 16.87,13.26 16.64,13.82L19.57,16.75C21.07,15.5 22.27,13.86 23,12C21.27,7.61 17,4.5 12,4.5C10.6,4.5 9.26,4.75 8,5.2L10.17,7.35C10.74,7.13 11.35,7 12,7Z" /></svg>'},i18n:{},undoManager:{},assetManager:{},canvas:{},layerManager:{},storageManager:{},richTextEditor:{},domComponents:{},modal:{},codeManager:{},panels:{},commands:{},cssComposer:{},selectorManager:{},deviceManager:{},styleManager:{},blockManager:{},traitManager:{},textViewCode:"Code",keepUnusedStyles:!1,customUI:!1,telemetry:!0}};const P2e=N2e;var vy=gn(4193),j2e=gn.n(vy),lo=gn(7774);const k2e=function(n){var t=n.$;if(t&&t.prototype&&t.prototype.constructor.name!=="jQuery"){var e=t.fn;e.hide=function(){return this.css("display","none")},e.show=function(){return this.css("display","block")},e.focus=function(){var o=this.get(0);return o&&o.focus(),this},e.bind=function(o,a){return this.on(o,a)},e.unbind=function(o,a){if((0,we.isObject)(o)){for(var s in o)o.hasOwnProperty(s)&&this.off(s,o[s]);return this}else return this.off(o,a)},e.click=function(o){return o?this.on("click",o):this.trigger("click")},e.change=function(o){return o?this.on("change",o):this.trigger("change")},e.keydown=function(o){return o?this.on("keydown",o):this.trigger("keydown")},e.delegate=function(o,a,s,l){return l||(l=s),this.on(a,o,function(c){c.data=s,l(c)})},e.scrollLeft=function(){var o=this.get(0);o=o.nodeType==9?o.defaultView:o;var a=o instanceof Window?o:null;return a?a.pageXOffset:o.scrollLeft||0},e.scrollTop=function(){var o=this.get(0);o=o.nodeType==9?o.defaultView:o;var a=o instanceof Window?o:null;return a?a.pageYOffset:o.scrollTop||0};var r=t.prototype.offset;e.offset=function(o){var a,s;return o&&(a=o.top,s=o.left),typeof a<"u"&&this.css("top","".concat(a,"px")),typeof s<"u"&&this.css("left","".concat(s,"px")),r.call(this)},t.map=function(o,a){for(var s=[],l=0;l<o.length;l++)s.push(a(o[l],l));return s};var i=Array.prototype.indexOf;t.inArray=function(o,a,s){return a==null?-1:i.call(a,o,s)},t.Event=function(o,a){if(!(this instanceof t.Event))return new t.Event(o,a);this.type=o,this.isDefaultPrevented=function(){return!1}}}};var Wt=gn(9156),DM=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),M2e=function(n){DM(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t}(Wt.Kx),L2e=function(n){DM(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.getByComponent=function(e){var r=this;return this.filter(function(i){return r.getComponent(i)===e})[0]},t.prototype.addComponent=function(e,r){var i=this,o=((0,we.isArray)(e)?e:[e]).filter(function(a){return!i.hasComponent(a)}).map(function(a){return new M2e({component:a})})[0];return this.push(o,r)},t.prototype.getComponent=function(e){return e.get("component")},t.prototype.hasComponent=function(e){var r=this.getByComponent(e);return r&&this.contains(r)},t.prototype.lastComponent=function(){var e=this.last();return e?this.getComponent(e):void 0},t.prototype.allComponents=function(){var e=this;return this.map(function(r){return e.getComponent(r)}).filter(function(r){return r})},t.prototype.removeComponent=function(e,r){var i=this,o=((0,we.isArray)(e)?e:[e]).map(function(a){return i.getByComponent(a)});return this.remove(o,r)},t}(Wt.pM);const D2e=L2e;var I2e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),tS=function(){return tS=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},tS.apply(this,arguments)},R2e=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},IM=function(){function n(t,e,r){this.debounced=[],this.collections=[],this.cls=[],this.events={},this._em=t,this._name=e;var i=this.name.charAt(0).toLowerCase()+this.name.slice(1),o=(0,we.isUndefined)(t.config[i])?t.config[this.name]:t.config[i],a=o===!0?{}:o||{};a.pStylePrefix=t.config.pStylePrefix||"",!(0,we.isUndefined)(o)&&!o&&(a._disable=1),a.em=t,this._config=(0,Et.deepMerge)(r||{},a)}return Object.defineProperty(n.prototype,"em",{get:function(){return this._em},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),n.prototype.render=function(t){},n.prototype.postLoad=function(t){},n.prototype.onInit=function(){},Object.defineProperty(n.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),n.prototype.getConfig=function(t){return t?this.config[t]:this.config},n.prototype.__logWarn=function(t,e){e===void 0&&(e={}),this.em.logWarning("[".concat(this.name,"]: ").concat(t),e)},n.prototype.destroy=function(){this.__destroy()},n.prototype.__destroy=function(){var t,e,r;(t=this.view)===null||t===void 0||t.remove(),(e=this.state)===null||e===void 0||e.stopListening(),(r=this.state)===null||r===void 0||r.clear(),this.debounced.forEach(function(i){return i.cancel()}),this.collections.forEach(function(i){i.stopListening(),i.reset()})},n.prototype.__appendTo=function(){var t=this.getConfig().appendTo;if(t){var e=(0,we.isElement)(t)?t:document.querySelector(t);if(!e)return this.__logWarn('"appendTo" element not found');e.appendChild(this.render())}},n}();const ts=IM;var mu=function(n){I2e(t,n);function t(e,r,i,o,a,s){s===void 0&&(s={});var l=n.call(this,e,r,a)||this;return l.cls=[],l.private=!1,l.all=i,o&&(l.events=o),!s.skipListen&&l.__initListen(),l}return t.prototype.postLoad=function(e){},t.prototype.render=function(e){},t.prototype.getProjectData=function(e){var r={},i=this.storageKey;return i&&(r[i]=e||this.getAll()),r},t.prototype.loadProjectData=function(e,r){e===void 0&&(e={}),r===void 0&&(r={});var i=r.all,o=r.onResult,a=r.reset,s=this.storageKey,l={action:"load"},c=i||this.all,u=e[s];if(typeof u=="string")try{u=JSON.parse(u)}catch{this.__logWarn("Data parsing failed",{input:u})}return a&&u&&c.reset(void 0,l),o?u&&o(u,l):u&&(0,Et.isDef)(u.length)&&c.reset(u,l),u},t.prototype.clear=function(e){e===void 0&&(e={});var r=this.all;return r&&r.reset(void 0,e),this},t.prototype.getAll=function(){return R2e([],this.all.models,!0)},t.prototype.getAllMap=function(){return this.getAll().reduce(function(e,r){return e[r.get(r.idAttribute)]=r,e},{})},t.prototype.__initListen=function(e){e===void 0&&(e={});var r=this,i=r.all,o=r.em,a=r.events;i&&o&&i.on("add",function(s,l,c){return o.trigger(a.add,s,c)}).on("remove",function(s,l,c){return o.trigger(a.remove,s,c)}).on("change",function(s,l){return o.trigger(a.update,s,s.changedAttributes(),l)}).on("all",this.__catchAllEvent,this),this.cls=[i].concat(e.collections||[]),(e.propagate||[]).forEach(function(s){var l=s.entity,c=s.event;l.on("all",function(u,f,h,d){var m=d||h,g=tS({event:u},m);[o,i].map(function(x){return x.trigger(c,f,g)})})})},t.prototype.__remove=function(e,r){var i=this;r===void 0&&(r={});var o=this.em,a=(0,we.isString)(e)?this.get(e):e,s=function(){return a&&i.all.remove(a,r),a};return!r.silent&&(o==null||o.trigger(this.events.removeBefore,a,s,r)),!r.abort&&s()},t.prototype.__catchAllEvent=function(e,r,i,o){var a=this,s=a.em,l=a.events,c=o||i;s&&l.all&&s.trigger(l.all,{event:e,model:r,options:c}),this.__onAllEvent()},t.prototype.__appendTo=function(e){var r=this.config.appendTo;if(r){var i=(0,we.isElement)(r)?r:document.querySelector(r);if(!i)return this.__logWarn('"appendTo" element not found');i.appendChild(this.render(e))}},t.prototype.__onAllEvent=function(){},t.prototype._createId=function(e){e===void 0&&(e=16);var r=this.getAll(),i=r.length+e,o=this.getAllMap(),a;do a=(0,Et.createId)(i);while(o[a]);return a},t.prototype.__listenAdd=function(e,r){var i=this;e.on("add",function(o,a,s){return i.em.trigger(r,o,s)})},t.prototype.__listenRemove=function(e,r){var i=this;e.on("remove",function(o,a,s){return i.em.trigger(r,o,s)})},t.prototype.__listenUpdate=function(e,r){var i=this;e.on("change",function(o,a){return i.em.trigger(r,o,o.changedAttributes(),a)})},t.prototype.__destroy=function(){var e;this.cls.forEach(function(r){r.stopListening(),r.reset()}),(e=this.view)===null||e===void 0||e.remove(),this.view=void 0},t}(IM),F2e=function(){return{stylePrefix:"cv-",scripts:[],styles:[],customBadgeLabel:void 0,autoscrollLimit:50,extHl:!1,frameContent:"<!DOCTYPE html>",frameStyle:`
    body { background-color: #fff }
    * ::-webkit-scrollbar-track { background: rgba(0, 0, 0, 0.1) }
    * ::-webkit-scrollbar-thumb { background: rgba(255, 255, 255, 0.2) }
    * ::-webkit-scrollbar { width: 10px }
  `,notTextable:["button","a","input[type=checkbox]","input[type=radio]"],allowExternalDrop:!0}};const B2e=F2e;var Qu=gn(7058),H2e=function(){return{default:"",devices:[{id:"desktop",name:"Desktop",width:""},{id:"tablet",name:"Tablet",width:"770px",widthMedia:"992px"},{id:"mobileLandscape",name:"Mobile landscape",width:"568px",widthMedia:"768px"},{id:"mobilePortrait",name:"Mobile portrait",width:"320px",widthMedia:"480px"}]}};const $2e=H2e;var U2e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),V2e=function(n){U2e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.defaults=function(){return{name:"",width:null,height:"",widthMedia:null,priority:null}},t.prototype.initialize=function(){var e=this;this.get("widthMedia")===null&&this.set("widthMedia",this.get("width")),this.get("width")===null&&this.set("width",this.get("widthMedia")),!this.get("priority")&&this.set("priority",parseFloat(this.get("widthMedia"))||0);var r=["width","height","widthMedia"];r.forEach(function(i){return e.checkUnit(i)})},t.prototype.checkUnit=function(e){var r=this.get(e)||"",i=(parseFloat(r)||0).toString()===r.toString();i&&this.set(e,"".concat(r,"px"))},t.prototype.getName=function(){return this.get("name")||this.get("id")},t.prototype.getWidthMedia=function(){return this.get("widthMedia")||""},t}(Wt.Kx);const RM=V2e;var z2e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),FM=function(n){z2e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t}(Wt.pM);const n6=FM;FM.prototype.model=RM;var W2e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),q2e=function(n,t){return Object.defineProperty?Object.defineProperty(n,"raw",{value:t}):n.raw=t,n},G2e=function(n){W2e(t,n);function t(e){var r=n.call(this,e)||this;return r.config=e.config||{},r.em=r.config.em,r.ppfx=r.config.pStylePrefix||"",r.listenTo(r.em,"change:device",r.updateSelect),r}return t.prototype.template=function(e){var r=e.ppfx,i=e.label;return Wa(i6||(i6=q2e([`
      <div class="`,'device-label">',`</div>
      <div class="`,"field ",`select">
        <span id="`,`input-holder">
          <select class="`,`devices"></select>
        </span>
        <div class="`,`sel-arrow">
          <div class="`,`d-s-arrow"></div>
        </div>
      </div>
      <button style="display:none" class="`,`add-trasp" data-add-trasp>+</button>
    `],[`
      <div class="`,'device-label">',`</div>
      <div class="`,"field ",`select">
        <span id="`,`input-holder">
          <select class="`,`devices"></select>
        </span>
        <div class="`,`sel-arrow">
          <div class="`,`d-s-arrow"></div>
        </div>
      </div>
      <button style="display:none" class="`,`add-trasp" data-add-trasp>+</button>
    `])),r,i,r,r,r,r,r,r,r)},t.prototype.events=function(){return{change:"updateDevice","click [data-add-trasp]":"startAdd"}},t.prototype.startAdd=function(){},t.prototype.updateDevice=function(){var e=this.em;if(e){var r=this.devicesEl;e.set("device",r?r.val():"")}},t.prototype.updateSelect=function(){var e=this,r=e.em,i=e.devicesEl;if(r&&r.getDeviceModel&&i){var o=r.getDeviceModel();i.val(o?o.get("id"):"")}},t.prototype.getOptions=function(){var e=this,r=e.collection,i=e.em,o="";return r.forEach(function(a){var s=a.attributes,l=s.name,c=s.id,u=i&&i.t&&i.t("deviceManager.devices.".concat(c))||l;o+='<option value="'.concat(c||l,'">').concat(u,"</option>")}),o},t.prototype.render=function(){var e=this,r=e.em,i=e.ppfx,o=e.$el,a=e.el,s=r&&r.t&&r.t("deviceManager.device");return o.html(this.template({ppfx:i,label:s})),this.devicesEl=o.find(".".concat(i,"devices")),this.devicesEl.append(this.getOptions()),this.devicesEl.val(r.get("device")),a.className="".concat(i,"devices-c"),this},t}(Wt.Ss);const K2e=G2e;var i6,Y2e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),tg=function(){return tg=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},tg.apply(this,arguments)},BM="device",$x="".concat(BM,":"),X2e="".concat($x,"select"),HM="".concat($x,"update"),Z2e="".concat($x,"add"),$M="".concat($x,"remove"),J2e="".concat($M,":before"),Q2e="change:device",e5e={all:BM,select:X2e,update:HM,add:Z2e,remove:$M,removeBefore:J2e},t5e=function(n){Y2e(t,n);function t(e){var r,i=n.call(this,e,"DeviceManager",new n6,e5e,$2e())||this;return i.Device=RM,i.Devices=n6,i.storageKey="",i.devices=i.all,(r=i.config.devices)===null||r===void 0||r.forEach(function(o){return i.add(o,{silent:!0})}),i.select(i.config.default||i.devices.at(0)),e.on(Q2e,i._onSelect,i),i}return t.prototype._onSelect=function(e,r,i){var o=this,a=o.em,s=o.events,l=e.previous("device"),c=this.get(r),u=s.select;a.trigger(u,c,this.get(l)),this.__catchAllEvent(u,c,i)},t.prototype.add=function(e,r){r===void 0&&(r={});var i,o=r;if((0,we.isString)(e)){var a=r;o=arguments[2]||{},i=tg(tg({},o),{id:e,name:o.name||e,width:a})}else i=e;return i.id||(i.id=i.name||this._createId()),this.devices.add(i,o)},t.prototype.get=function(e){var r=this.getAll().filter(function(i){return i.get("name")===e})[0];return r||this.devices.get(e)||null},t.prototype.remove=function(e,r){return r===void 0&&(r={}),this.__remove(e,r)},t.prototype.getDevices=function(){return this.devices.models},t.prototype.select=function(e,r){r===void 0&&(r={});var i=(0,we.isString)(e)?this.get(e):e;return i&&this.em.set("device",i.get("id"),r),this},t.prototype.getSelected=function(){return this.get(this.em.get("device"))},t.prototype.getAll=function(){return this.devices},t.prototype.render=function(){var e,r=this.em;return(e=this.view)===null||e===void 0||e.remove(),this.view=new K2e({collection:this.devices,config:tg({em:r},this.config)}),this.view.render().el},t.prototype.destroy=function(){this.__destroy()},t}(mu);const r5e=t5e;var rS;(function(n){n.add="page:add",n.addBefore="page:add:before",n.remove="page:remove",n.removeBefore="page:remove:before",n.select="page:select",n.selectBefore="page:select:before",n.update="page:update",n.all="page"})(rS||(rS={}));const nS=rS;var n5e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),i5e=function(n){n5e(t,n);function t(e,r,i){return n.call(this,r,{module:e,modelConstructor:i})||this}return t.prototype.add=function(e,r){var i=this,o,a=(0,we.isArray)(e)?e:(0,we.isUndefined)(e)?void 0:[e];return a=(o=a==null?void 0:a.map(function(s){return s instanceof i.newModel?s:new i.newModel(i.module,s)}))!==null&&o!==void 0?o:[void 0],n.prototype.add.call(this,(0,we.isArray)(e)?a:a[0],r)},t.prototype.preinitialize=function(e,r){this.newModel=r.modelConstructor,this.module=r.module},t}(Wt.pM);const Ux=i5e;var o5e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),iS=function(){return iS=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},iS.apply(this,arguments)},o6=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},a6="__aw",s6="__ah",l6=function(n,t){var e,r=n.get(t),i=(e=n.view)===null||e===void 0?void 0:e.el[t==="width"?"offsetWidth":"offsetHeight"];return(0,we.isNumber)(r)?r:(0,we.isString)(r)&&r.endsWith("px")?parseFloat(r):i||0},a5e=function(n){o5e(t,n);function t(e,r){var i=n.call(this,e,r)||this,o=i.em,a=i.attributes,s=a.styles,l=a.component,c=o.Components,u=c.getConfig(),f=o.Css.getAll(),h={},d={em:o,config:u,frame:i,idMap:h};if(!(0,Et.isComponent)(l)){var m=(0,Et.isObject)(l)?l:{components:l};!m.type&&(m.type="wrapper");var g=c.getType("wrapper").model;i.set("component",new g(m,d))}if(!s)i.set("styles",f);else if(!(0,Et.isObject)(s)){var x=s;(0,we.keys)(h).length&&(x=(0,we.isString)(x)?o.Parser.parseCss(x):x,o.Css.checkId(x,{idMap:h})),f.add(x),i.set("styles",f)}return!r.width&&i.set(a6,1),!r.height&&i.set(s6,1),!i.id&&i.set("id",(0,Et.createId)()),i}return t.prototype.defaults=function(){return{x:0,y:0,changesCount:0,attributes:{},width:null,height:null,head:[],component:"",styles:"",refFrame:null,_undo:!0,_undoexc:["changesCount"]}},Object.defineProperty(t.prototype,"width",{get:function(){return l6(this,"width")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return l6(this,"height")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"head",{get:function(){return this.get("head")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"refFrame",{get:function(){return this.get("refFrame")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){var e=this.refFrame;return(e==null?void 0:e.getComponent())||this.getComponent()},enumerable:!1,configurable:!0}),t.prototype.initRefs=function(){var e=this.refFrame;if((0,we.isString)(e)){var r=this.module.framesById[e];r&&this.set({refFrame:r},{silent:!0})}},t.prototype.getBoxRect=function(){var e=this.attributes,r=e.x,i=e.y,o=this,a=o.width,s=o.height;return{x:r,y:i,width:a,height:s}},t.prototype.onRemove=function(){!this.refFrame&&this.getComponent().remove({root:1})},t.prototype.changesUp=function(e){e===void 0&&(e={}),!(e.temporary||e.noCount||e.avoidStore)&&this.set("changesCount",this.get("changesCount")+1)},t.prototype.getComponent=function(){return this.get("component")},t.prototype.getStyles=function(){return this.get("styles")},t.prototype.disable=function(){this.trigger("disable")},t.prototype.remove=function(){var e;(e=this.view)===null||e===void 0||e.remove(),this.view=void 0;var r=this.collection;return r&&r.remove(this)},t.prototype.getHead=function(){return o6([],this.head,!0)},t.prototype.setHead=function(e){return this.set("head",o6([],e,!0))},t.prototype.addHeadItem=function(e){this.head.push(e)},t.prototype.getHeadByAttr=function(e,r,i){return this.head.filter(function(o){return o.attributes&&o.attributes[e]==r&&(!i||i===o.tag)})[0]},t.prototype.removeHeadByAttr=function(e,r,i){var o=this.getHeadByAttr(e,r,i),a=this.head.indexOf(o);a>=0&&this.head.splice(a,1)},t.prototype.addLink=function(e){var r="link";!this.getHeadByAttr("href",e,r)&&this.addHeadItem({tag:r,attributes:{href:e,rel:"stylesheet"}})},t.prototype.removeLink=function(e){this.removeHeadByAttr("href",e,"link")},t.prototype.addScript=function(e){var r="script";!this.getHeadByAttr("src",e,r)&&this.addHeadItem({tag:r,attributes:{src:e}})},t.prototype.removeScript=function(e){this.removeHeadByAttr("src",e,"script")},t.prototype.getPage=function(){var e;return(e=this.collection)===null||e===void 0?void 0:e.page},t.prototype._emitUpdated=function(e){e===void 0&&(e={}),this.em.trigger("frame:updated",iS({frame:this},e))},t.prototype.hasAutoHeight=function(){var e=this.attributes.height;return!!(e==="auto"||this.config.infiniteCanvas)},t.prototype.toJSON=function(e){e===void 0&&(e={});var r=Qu.A.prototype.toJSON.call(this,e),i=(0,we.result)(this,"defaults");return e.fromUndo&&delete r.component,delete r.styles,delete r.changesCount,r[a6]&&delete r.width,r[s6]&&delete r.height,r.refFrame&&(r.refFrame=r.refFrame.id,delete r.component),(0,we.forEach)(r,function(o,a){a.indexOf("_")===0&&delete r[a]}),(0,we.forEach)(i,function(o,a){r[a]===o&&delete r[a]}),(0,we.forEach)(["attributes","head"],function(o){(0,we.isEmpty)(r[o])&&delete r[o]}),r},t}(Qu.A);const UM=a5e;var s5e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),l5e=function(n){s5e(t,n);function t(e,r){r===void 0&&(r=[]);var i=n.call(this,e,r,UM)||this;return i.loadedItems=0,i.itemsToLoad=0,(0,we.bindAll)(i,"itemLoaded"),i.on("add",i.onAdd),i.on("reset",i.onReset),i.on("remove",i.onRemove),i.forEach(function(o){return i.onAdd(o)}),i}return t.prototype.onAdd=function(e){this.module.framesById[e.id]=e},t.prototype.onReset=function(e,r){var i=this,o=(r==null?void 0:r.previousModels)||[];o.map(function(a){return i.onRemove(a)})},t.prototype.onRemove=function(e){e.onRemove(),delete this.module.framesById[e.id]},t.prototype.initRefs=function(){this.forEach(function(e){return e.initRefs()})},t.prototype.itemLoaded=function(){this.loadedItems++,this.loadedItems>=this.itemsToLoad&&(this.trigger("loaded:all"),this.listenToLoadItems(!1))},t.prototype.listenToLoad=function(){this.loadedItems=0,this.itemsToLoad=this.length,this.listenToLoadItems(!0)},t.prototype.listenToLoadItems=function(e){var r=this;this.forEach(function(i){return i[e?"on":"off"]("loaded",r.itemLoaded)})},t}(Ux);const VM=l5e;var c5e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),u5e=function(n){c5e(t,n);function t(e){var r=this,i=e.em,o=e.config,a=o.scripts,s=o.styles;return r=n.call(this,e,{scripts:a,styles:s})||this,r.set("frames",new VM(e)),r.on("change:zoom",r.onZoomChange),r.on("change:x change:y",r.onCoordsChange),r.on("change:pointer change:pointerScreen",r.onPointerChange),r.listenTo(i,"change:device ".concat(HM),r.updateDevice),r.listenTo(i,nS.select,r._pageUpdated),r}return t.prototype.defaults=function(){return{frame:"",frames:[],rulers:!1,zoom:100,x:0,y:0,scripts:[],styles:[],pointer:Wt.lK,pointerScreen:Wt.lK}},Object.defineProperty(t.prototype,"frames",{get:function(){return this.get("frames")},enumerable:!1,configurable:!0}),t.prototype.init=function(){var e=this.em,r=e.Pages._initPage();this.set("frames",r.getFrames()),this.updateDevice({frame:r.getMainFrame()})},t.prototype._pageUpdated=function(e,r){var i=this.em;i.setSelected(),i.get("readyCanvas")&&i.stopDefault(),r==null||r.getFrames().map(function(o){return o.disable()}),this.set("frames",e.getFrames()),this.updateDevice({frame:e.getMainFrame()})},t.prototype.updateDevice=function(e){e===void 0&&(e={});var r=this.em,i=r.getDeviceModel(),o=e.frame||r.getCurrentFrameModel();if(o&&i){var a=i.attributes,s=a.width,l=a.height,c=a.minHeight;o.set({width:s,height:l,minHeight:c},{noUndo:1})}},t.prototype.onZoomChange=function(e,r,i){var o=this,a=o.em,s=o.module,l=this.get("zoom");l<1&&this.set("zoom",1),a.trigger(s.events.zoom,{options:i})},t.prototype.onCoordsChange=function(){var e=this,r=e.em,i=e.module;r.trigger(i.events.coords)},t.prototype.onPointerChange=function(){var e=this,r=e.em,i=e.module;r.trigger(i.events.pointer)},t.prototype.getPointerCoords=function(e){e===void 0&&(e=Wt.x2.World);var r=this.attributes,i=r.pointer,o=r.pointerScreen;return e===Wt.x2.World?i:o},t}(Qu.A);const f5e=u5e;var Js=gn(179),Tn=gn(2225),d5e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),h5e=function(n){d5e(t,n);function t(e,r){r===void 0&&(r=[]);var i=n.call(this,e,r,Js.A)||this;i.on("add",i.onAdd),i.on("change",i.onChange),i.on("remove",i.onRemove);var o=i.em;i.refreshDbn=(0,we.debounce)(function(){return i.refresh()},0);var a="".concat(Tn.I.resize," styleable:change ").concat(Tn.I.input," ").concat(Tn.I.update," frame:updated undo redo");return i.listenTo(o,a,function(){return i.refreshDbn()}),i}return Object.defineProperty(t.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"events",{get:function(){return this.module.events},enumerable:!1,configurable:!0}),t.prototype.refresh=function(){var e=this,r=e.em,i=e.events;r.trigger(i.spot)},t.prototype.onAdd=function(e){this.__trgEvent(this.events.spotAdd,{spot:e})},t.prototype.onChange=function(e){this.__trgEvent(this.events.spotUpdate,{spot:e})},t.prototype.onRemove=function(e){this.__trgEvent(this.events.spotRemove,{spot:e})},t.prototype.__trgEvent=function(e,r){var i=this.module,o=i.em;o.trigger(e,r),this.refreshDbn()},t}(Ux);const p5e=h5e;var gy;(function(n){n.dragEnter="canvas:dragenter",n.dragOver="canvas:dragover",n.dragEnd="canvas:dragend",n.dragData="canvas:dragdata",n.drop="canvas:drop",n.spot="canvas:spot",n.spotAdd="canvas:spot:add",n.spotUpdate="canvas:spot:update",n.spotRemove="canvas:spot:remove",n.coords="canvas:coords",n.zoom="canvas:zoom",n.pointer="canvas:pointer",n.refresh="canvas:refresh",n.frameLoad="canvas:frame:load",n.frameLoadHead="canvas:frame:load:head",n.frameLoadBody="canvas:frame:load:body"})(gy||(gy={}));const Zm=gy;var v5e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),g5e=function(n){v5e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"pfx",{get:function(){return this.ppfx+this.config.stylePrefix||""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ppfx",{get:function(){return this.em.config.stylePrefix||""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"module",{get:function(){var e,r;return(r=(e=this.model)===null||e===void 0?void 0:e.module)!==null&&r!==void 0?r:this.collection.module},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"config",{get:function(){return this.module.config},enumerable:!1,configurable:!0}),t.prototype.preinitialize=function(e){this.className=""},t}(Wt.Ss);const il=g5e;var Kt=gn(6294),m5e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),y5e=function(n){m5e(t,n);function t(e,r){e===void 0&&(e={}),r===void 0&&(r=!1);var i=n.call(this,e)||this;return i.itemsView="",i.itemType="type",i.reuseView=!1,i.viewCollection=[],r&&i.listenTo(i.collection,"add",i.addTo),i}return t.prototype.addTo=function(e){this.add(e)},t.prototype.itemViewNotFound=function(e){},t.prototype.add=function(e,r){var i=this,o=i.reuseView,a=i.viewCollection,s=r||null,l=e.get(this.itemType),c;e.view&&o?c=e.view:c=this.renderView(e,l),a.push(c);var u=c.render().el;s?s.appendChild(u):this.$el.append(u)},t.prototype.render=function(){var e=this,r=document.createDocumentFragment();return this.clearItems(),this.$el.empty(),this.collection.length&&this.collection.each(function(i){return e.add(i,r)}),this.$el.append(r),this.onRender(),this},t.prototype.onRender=function(){},t.prototype.onRemoveBefore=function(e,r){},t.prototype.onRemove=function(e,r){},t.prototype.remove=function(e){e===void 0&&(e={});var r=this.viewCollection;return this.onRemoveBefore(r,e),this.clearItems(),Wt.Ss.prototype.remove.apply(this,e),this.onRemove(r,e),this},t.prototype.clearItems=function(){this.viewCollection},t}(il);const b5e=y5e;var Mp;(function(n){n.mount="css:mount",n.mountBefore="css:mount:before"})(Mp||(Mp={}));var x5e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),w5e=function(n){x5e(t,n);function t(e){e===void 0&&(e={});var r=n.call(this,e)||this;r.config=e.config||{};var i=r.model;return r.listenTo(i,"change",r.render),r.listenTo(i,"destroy remove",r.remove),r.listenTo(i.get("selectors"),"change",r.render),i.setView(r),r}return Object.defineProperty(t.prototype,"frameView",{get:function(){return this.config.frameView},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"em",{get:function(){return this.model.em},enumerable:!1,configurable:!0}),t.prototype.remove=function(){return n.prototype.remove.call(this),this.model.removeView(this),this},t.prototype.updateStyles=function(){this.render()},t.prototype.tagName=function(){return"style"},t.prototype.render=function(){var e=this,r=e.model,i=e.el,o=e.em,a=r.get("important"),s=r.toCSS({important:a}),l={rule:r,ruleView:this,css:s};return o==null||o.trigger(Mp.mountBefore,l),i.innerHTML=l.css,o==null||o.trigger(Mp.mount,l),this},t}(Wt.Ss);const N4=w5e;var _5e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),S5e=function(n){_5e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype._createElement=function(){return document.createTextNode("")},t.prototype.render=function(){var e=this.model,r=e.get("important");return this.el.textContent=e.getDeclaration({important:r}),this},t}(N4);const T5e=S5e;var C5e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),d5=function(n,t){return"".concat(n).concat(t?"-".concat(parseFloat(t)):"")},E5e=function(n){C5e(t,n);function t(e){var r=n.call(this,e)||this;(0,we.bindAll)(r,"sortRules");var i=e.config||{};r.atRules={},r.config=i,r.em=i.em,r.pfx=i.stylePrefix||"",r.className=r.pfx+"rules";var o=r.collection;return r.listenTo(o,"add",r.addTo),r.listenTo(o,"reset",r.render),r}return t.prototype.addTo=function(e){this.addToCollection(e)},t.prototype.addToCollection=function(e,r){if(this.renderStarted){var i=r||null,o=this.config,a={model:e,config:o},s,l;if(e.get("atRuleType")==="keyframes"){var c=e.getAtRule(),u=this.atRules[c];if(!u){var f=document.createElement("style");u=document.createTextNode(""),f.appendChild(document.createTextNode("".concat(c,"{"))),f.appendChild(u),f.appendChild(document.createTextNode("}")),this.atRules[c]=u,s=f}l=new T5e(a),u.appendData(l.render().el.textContent)}else l=new N4(a),s=l.render().el;var h=this.className,d=e.get("mediaText"),m=d5(h),g=m;if(d&&(g=d5(h,this.getMediaWidth(d))),s){var x=i||this.el,b=void 0;try{b=x.querySelector("#".concat(g))}catch{}b||(b=x.querySelector("#".concat(m))),b==null||b.appendChild(s)}return s}},t.prototype.getMediaWidth=function(e){return e&&e.replace("(".concat(this.em.getConfig().mediaCondition,": "),"").replace(")","")},t.prototype.sortRules=function(e,r){var i=this.em,o=(i.getConfig().mediaCondition||"").indexOf("min-width")!==-1;if(!o)return 0;var a=o?e:r,s=o?r:e;return a-s},t.prototype.render=function(){var e=this;this.renderStarted=!0,this.atRules={};var r=this,i=r.em,o=r.$el,a=r.collection,s=this.className,l=document.createDocumentFragment();o.empty();var c=i.Devices.getAll().pluck("priority").sort(this.sortRules);return c.every(function(u){return u})&&c.unshift(0),c.forEach(function(u){return l.appendChild((0,Kt.a_)("div",{id:d5(s,u)}))}),a.each(function(u){return e.addToCollection(u,l)}),o.append(l),o.attr("class",s),this},t}(Wt.Ss);const oS=E5e;var zM="text/html",O5e=zM;const A5e=function(n,t){t===void 0&&(t={});var e=new DOMParser,r=t.htmlType||O5e,i=r===zM,o=i?n:"<div>".concat(n,"</div>"),a=e.parseFromString(o,r),s;if(i){if(t.asDocument)return a;var l=a.head,c=a.body,u=l.querySelectorAll("script");(0,we.each)(u,function(h){return c.appendChild(h)});var f=[];(0,we.each)(l.children,function(h){return f.push(h)}),(0,we.each)(f,function(h,d){return c.insertBefore(h,c.children[d])}),s=c}else s=a.firstChild;return s};var qu;(function(n){n.html="parse:html",n.htmlRoot="parse:html:root",n.htmlBefore="parse:html:before",n.css="parse:css",n.cssBefore="parse:css:before",n.all="parse"})(qu||(qu={}));var Pl=function(){return Pl=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Pl.apply(this,arguments)},N5e="data-gjs-",P5e=function(n,t){return t===void 0&&(t={}),{compTypes:[],modelAttrStart:N5e,getPropAttribute:function(e,r){var i=e.replace(this.modelAttrStart,""),o=(r==null?void 0:r.length)||0,a=r==null?void 0:r.substring(0,1),s=r==null?void 0:r.substring(o-1),l=r==="true"?!0:r==="false"?!1:r;try{l=a=="{"&&s=="}"||a=="["&&s=="]"?JSON.parse(l):l}catch{}return{name:i,value:l}},splitPropsFromAttr:function(e){var r=this;e===void 0&&(e={});var i={},o={};return(0,we.each)(e,function(a,s){if(s.indexOf(r.modelAttrStart)===0){var l=r.getPropAttribute(s,a);i[l.name]=l.value}else o[s]=a}),{props:i,attrs:o}},parseStyle:function(e){for(var r={};e.indexOf("/*")>=0;){var i=e.indexOf("/*"),o=e.indexOf("*/"),a=o>-1?o+2:void 0;e=e.replace(e.slice(i,a),"")}for(var s=e.split(";"),l=0,c=s.length;l<c;l++){var u=s[l].trim();if(u){var f=u.split(":"),h=f[0].trim(),d=f.slice(1).join(":").trim();r[h]?((0,we.isArray)(r[h])||(r[h]=[r[h]]),r[h].push(d)):r[h]=d}}return r},parseClass:function(e){for(var r=[],i=e.split(" "),o=0,a=i.length;o<a;o++){var s=i[o].trim();s&&r.push(s)}return r},parseNodeAttr:function(e,r){for(var i,o,a=r||{},s=e.attributes||[],l=s.length,c=!!(!((i=t==null?void 0:t.optionsHtml)===null||i===void 0)&&i.convertDataGjsAttributesHyphens),u=c&&!!a.type&&(0,we.result)((o=n==null?void 0:n.Components.getType(a.type))===null||o===void 0?void 0:o.model.prototype,"defaults")||{},f=0;f<l;f++){var h=s[f].nodeName,d=s[f].nodeValue;if(h=="style")a.style=this.parseStyle(d);else if(h=="class")a.classes=this.parseClass(d);else{if(h=="contenteditable")continue;if(h.indexOf(this.modelAttrStart)===0){var m=this.getPropAttribute(h,d),g=m.name;if(c&&!(g in u)){var x=(0,Kt._I)(g);g=x in u?x:g}a[g]=m.value}else d===""&&e[h]===!0&&(d=!0),a.attributes||(a.attributes={}),a.attributes[h]=d}}return a},detectNode:function(e,r){var i;r===void 0&&(r={});var o=this.compTypes,a={};if(o){var s=(i=e.getAttribute)===null||i===void 0?void 0:i.call(e,"".concat(this.modelAttrStart,"type"));if(s)a={type:s};else for(var l=0;l<o.length;l++){var c=o[l],u=c.model.isComponent(e,r);if(u){typeof u!="object"&&(u={type:c.id}),a=u;break}}}return a},parseNode:function(e,r){var i;r===void 0&&(r={});var o=((i=e.content)===null||i===void 0?void 0:i.childNodes)||e.childNodes,a=o.length,s=this.detectNode(e,r);if(!s.tagName){var l=e.tagName||"",c=e.namespaceURI||"";s.tagName=l&&c==="http://www.w3.org/1999/xhtml"?l.toLowerCase():l}if(s=this.parseNodeAttr(e,s),!a&&"".concat(e.outerHTML).slice(-2)==="/>"&&(s.void=!0),a&&!s.components&&!r.skipChildren){var u=o[0];a===1&&u.nodeType===3?(!s.type&&(s.type="text"),s.components={type:"textnode",content:u.nodeValue}):s.components=this.parseNodes(e,Pl(Pl({},r),{inSvg:r.inSvg||s.type==="svg"}))}var f=s.components;if(!s.type&&(f!=null&&f.length)){for(var h=t.textTypes,d=h===void 0?[]:h,m=t.textTags,g=m===void 0?[]:m,x=!0,b=!1,_=0;_<f.length;_++){var S=f[_],T=S.type;if(!d.includes(T)&&!g.includes(S.tagName)){x=!1;break}T==="textnode"&&(b=!0)}x&&b&&(s.type="text")}return s},parseNodes:function(e,r){var i;r===void 0&&(r={});for(var o=[],a=((i=e.content)===null||i===void 0?void 0:i.childNodes)||e.childNodes,s=a.length,l=0;l<s;l++){var c=a[l],u=o[o.length-1],f=this.parseNode(c,r);if(f.type==="textnode"){if((u==null?void 0:u.type)==="textnode"){u.content+=f.content;continue}if(!r.keepEmptyTextNodes){var h=c.nodeValue||"",d=l===0||l===s-1,m=h.includes(`
`);if(h!=" "&&!h.trim()&&(d||m))continue}}!f.tagName&&(0,we.isUndefined)(f.content)||o.push(f)}return o},parse:function(e,r,i){var o,a,s;i===void 0&&(i={});var l=(n==null?void 0:n.get("Config"))||{},c=n==null?void 0:n.Parser,u={html:[]},f=Pl(Pl({},t),i),h=Pl(Pl(Pl({},t.optionsHtml),{htmlType:((o=t.optionsHtml)===null||o===void 0?void 0:o.htmlType)||t.htmlType}),i),d=Pl(Pl({},h),{asDocument:this.__checkAsDocument(e,h)}),m=d.preParser,g=d.asDocument,x={input:(0,we.isFunction)(m)?m(e,{editor:n==null?void 0:n.getEditor()}):e};c==null||c.__emitEvent(qu.htmlBefore,x);var b=x.input,_=(0,we.isFunction)(f.parserHtml)?f.parserHtml(b,d):A5e(b,d),S=_,T=_;g&&(S=T.documentElement,u.doctype=(0,Kt.LJ)(T.doctype));var C=S.querySelectorAll("script"),w=C.length,N=(0,we.isUndefined)(l.allowScripts)?d.allowScripts:l.allowScripts;if(!N)for(;w--;)(a=C[w].parentNode)===null||a===void 0||a.removeChild(C[w]);if((!d.allowUnsafeAttr||!d.allowUnsafeAttrValue)&&this.__sanitizeNode(S,d),r){for(var A=S.querySelectorAll("style"),j=A.length,R="";j--;)R=A[j].innerHTML+R,(s=A[j].parentNode)===null||s===void 0||s.removeChild(A[j]);R&&(u.css=r.parse(R))}c==null||c.__emitEvent(qu.htmlRoot,{input:b,root:S});var L=[];if(g)u.head=this.parseNode(T.head,f),u.root=this.parseNodeAttr(S),L=this.parseNode(T.body,f);else{var M=this.parseNodes(S,f);L=M.length===1&&!f.returnArray?M[0]:M}return u.html=L,c==null||c.__emitEvent(qu.html,{input:b,output:u,options:d}),u},__sanitizeNode:function(e,r){var i=this,o=e.attributes||[],a=e.childNodes||[],s=[];(0,we.each)(o,function(l){var c=l.nodeName||"",u=l.nodeValue||"";!r.allowUnsafeAttr&&c.startsWith("on")&&s.push(c),!r.allowUnsafeAttrValue&&u.startsWith("javascript:")&&s.push(c)}),s.map(function(l){return e.removeAttribute(l)}),(0,we.each)(a,function(l){return i.__sanitizeNode(l,r)})},__checkAsDocument:function(e,r){if((0,Et.isDef)(r.asDocument))return r.asDocument;if((0,we.isFunction)(r.detectDocument))return!!r.detectDocument(e);if(r.detectDocument)return e.toLowerCase().trim().startsWith("<!doctype")}}};const WM=P5e;var Gu;(function(n){n.add="data:add",n.addBefore="data:add:before",n.remove="data:remove",n.removeBefore="data:remove:before",n.update="data:update",n.path="data:path",n.pathSource="data:pathSource:",n.all="data"})(Gu||(Gu={}));var aS="data-collection",rg="data-collection-item",xh="dataResolver",c6=function(){function n(t,e,r){this.operator=t,this.statements=e,this.opts=r}return n.prototype.evaluate=function(){var t=this,e=this.statements.map(function(r){var i=new qM({condition:r},t.opts);return i.evaluate()});return this.operator.evaluate(e)},n}(),Vx=function(){function n(t,e){this.operationString=t,this.em=e.em}return n.prototype.getOperations=function(){return K5e(this.operationsEnum)},n}(),j5e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),my;(function(n){n.equals="equals",n.isTruthy="isTruthy",n.isFalsy="isFalsy",n.isDefined="isDefined",n.isNull="isNull",n.isUndefined="isUndefined",n.isArray="isArray",n.isObject="isObject",n.isString="isString",n.isNumber="isNumber",n.isBoolean="isBoolean",n.isDefaultValue="isDefaultValue"})(my||(my={}));var k5e=function(n){j5e(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.operationsEnum=my,e}return t.prototype.evaluate=function(e,r){var i;switch(this.operationString){case"equals":return e===r;case"isTruthy":return!!e;case"isFalsy":return!e;case"isDefined":return e!=null;case"isNull":return e===null;case"isUndefined":return e===void 0;case"isArray":return Array.isArray(e);case"isObject":return typeof e=="object"&&e!==null;case"isString":return typeof e=="string";case"isNumber":return typeof e=="number";case"isBoolean":return typeof e=="boolean";case"isDefaultValue":return e instanceof Ud&&e.get("defaultValue")===r;default:return(i=this.em)===null||i===void 0||i.logWarning("Unsupported generic operation: ".concat(this.operationString)),!1}},t}(Vx),M5e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ah;(function(n){n.and="and",n.or="or",n.xor="xor"})(Ah||(Ah={}));var L5e=function(n){M5e(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.operationsEnum=Ah,e}return t.prototype.evaluate=function(e){if(!(e!=null&&e.length))return!1;switch(this.operationString){case Ah.and:return e.every(Boolean);case Ah.or:return e.some(Boolean);case Ah.xor:return e.filter(Boolean).length===1;default:return this.em.logWarning("Unsupported boolean operation: ".concat(this.operationString)),!1}},t}(Vx),D5e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Xc;(function(n){n.greaterThan=">",n.lessThan="<",n.greaterThanOrEqual=">=",n.lessThanOrEqual="<=",n.equals="=",n.notEquals="!="})(Xc||(Xc={}));var I5e=function(n){D5e(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.operationsEnum=Xc,e}return t.prototype.evaluate=function(e,r){if(typeof e!="number")return!1;switch(this.operationString){case Xc.greaterThan:return e>r;case Xc.lessThan:return e<r;case Xc.greaterThanOrEqual:return e>=r;case Xc.lessThanOrEqual:return e<=r;case Xc.equals:return e===r;case Xc.notEquals:return e!==r;default:return this.em.logWarning("Unsupported number operation: ".concat(this.operationString)),!1}},t}(Vx),R5e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ll;(function(n){n.contains="contains",n.startsWith="startsWith",n.endsWith="endsWith",n.matchesRegex="matchesRegex",n.equalsIgnoreCase="equalsIgnoreCase",n.trimEquals="trimEquals"})(Ll||(Ll={}));var F5e=function(n){R5e(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.operationsEnum=Ll,e}return t.prototype.evaluate=function(e,r){if(typeof e!="string")return!1;switch(this.operationString){case Ll.contains:return e.includes(r);case Ll.startsWith:return e.startsWith(r);case Ll.endsWith:return e.endsWith(r);case Ll.matchesRegex:return r||this.em.logWarning("Regex pattern must be provided."),new RegExp(r??"").test(e);case Ll.equalsIgnoreCase:return e.toLowerCase()===r.toLowerCase();case Ll.trimEquals:return e.trim()===r.trim();default:return this.em.logWarning("Unsupported string operation: ".concat(this.operationString)),!1}},t}(Vx),B5e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),qM=function(n){B5e(t,n);function t(e,r){var i,o=n.call(this,e)||this;return o.collectionsStateMap={},o.em=r.em,o.collectionsStateMap=(i=r.collectionsStateMap)!==null&&i!==void 0?i:{},o}return t.prototype.evaluate=function(){var e=this.get("condition");if(!e||(0,we.isBoolean)(e))return!!e;var r=this.getOperator();return r?r.evaluate(this.getResolvedLeftValue(),this.getResolvedRightValue()):!1},t.prototype.getDependentDataVariables=function(){var e=this.get("condition");return e?this.extractDataVariables(e):[]},t.prototype.getOperations=function(){var e=this.getOperator();return!e||e instanceof c6?[]:e.getOperations()},t.prototype.updateCollectionStateMap=function(e){this.collectionsStateMap=e},t.prototype.getOperator=function(){var e={em:this.em,collectionsStateMap:this.collectionsStateMap},r=this.get("condition");if(!(!r||(0,we.isBoolean)(r))){var i;if(this.isLogicGroup(r)){var o=r.logicalOperator,a=r.statements,s=new L5e(o,e);i=new c6(s,a,e)}if(this.isExpression(r)){var l=r.left,s=r.operator,c=by(l,e);i=this.resolveOperator(c,s)}return i}},t.prototype.resolveOperator=function(e,r){var i=this.em;if(this.isOperatorInEnum(r,my))return new k5e(r,{em:i});if(typeof e=="number")return new I5e(r,{em:i});if(typeof e=="string")return new F5e(r,{em:i})},t.prototype.extractDataVariables=function(e){var r=this,i=[];return this.isExpression(e)?(jd(e.left)&&i.push(e.left),jd(e.right)&&i.push(e.right)):this.isLogicGroup(e)&&e.statements.forEach(function(o){return i.push.apply(i,r.extractDataVariables(o))}),i},t.prototype.isLogicGroup=function(e){return e&&typeof e.logicalOperator<"u"&&Array.isArray(e.statements)},t.prototype.isExpression=function(e){return e&&typeof e.left<"u"&&typeof e.operator=="string"},t.prototype.isOperatorInEnum=function(e,r){return Object.values(r).includes(e)},t.prototype.resolveExpressionSide=function(e){var r=this.get("condition"),i=this,o=i.em,a=i.collectionsStateMap;if(!r||typeof r=="boolean")return r;if(r&&typeof r=="object"&&e in r){var s=r[e];return by(s,{em:o,collectionsStateMap:a})}},t.prototype.getResolvedLeftValue=function(){return this.resolveExpressionSide("left")},t.prototype.getResolvedRightValue=function(){return this.resolveExpressionSide("right")},t.prototype.toJSON=function(e){var r=this.get("condition");if(typeof r=="object"){var i=JSON.parse(JSON.stringify(r));return i}return r},t}(Wt.Kx),H5e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ef="data-condition",$5e="data-condition-evaluation-changed",Jm="data-condition-output-changed",P4=function(n){H5e(t,n);function t(e,r){var i,o=n.call(this,e,r)||this;o.collectionsStateMap={},o.resolverListeners=[],o._previousEvaluationResult=null,o.em=r.em,o.collectionsStateMap=(i=r.collectionsStateMap)!==null&&i!==void 0?i:{};var a=e.condition,s=a===void 0?{}:a,l=new qM({condition:s},{em:o.em});return o._conditionEvaluator=l,o.listenToDataVariables(),o.listenToPropsChange(),o}return t.prototype.defaults=function(){return{type:ef,condition:{left:"",operator:Ll.equalsIgnoreCase,right:""},ifTrue:{},ifFalse:{}}},t.prototype.getCondition=function(){return this._conditionEvaluator.get("condition")},t.prototype.getIfTrue=function(){return this.get("ifTrue")},t.prototype.getIfFalse=function(){return this.get("ifFalse")},t.prototype.getOperations=function(){return this._conditionEvaluator.getOperations()},t.prototype.setCondition=function(e){this.set("condition",e),this._conditionEvaluator.set("condition",e),this.trigger(Jm,this.getDataValue())},t.prototype.setIfTrue=function(e){this.set("ifTrue",e)},t.prototype.setIfFalse=function(e){this.set("ifFalse",e)},t.prototype.isTrue=function(){return this._conditionEvaluator.evaluate()},t.prototype.getDataValue=function(e){e===void 0&&(e=!1);var r=this,i=r.em,o=r.collectionsStateMap,a={em:i,collectionsStateMap:o},s=this.getIfTrue(),l=this.getIfFalse(),c=this.isTrue();return e?c?s:l:by(c?s:l,a)},t.prototype.resolvesFromCollection=function(){return!1},t.prototype.updateCollectionsStateMap=function(e){this.collectionsStateMap=e,this._conditionEvaluator.updateCollectionStateMap(e),this.listenToDataVariables(),this.emitConditionEvaluationChange()},t.prototype.listenToPropsChange=function(){var e=this;this.on("change:condition",this.handleConditionChange.bind(this)),this.on("change:condition change:ifTrue change:ifFalse",function(){e.listenToDataVariables()})},t.prototype.handleConditionChange=function(){this.setCondition(this.get("condition"))},t.prototype.listenToDataVariables=function(){this.cleanupListeners(),this.setupConditionDataVariableListeners(),this.setupOutputDataVariableListeners()},t.prototype.setupConditionDataVariableListeners=function(){var e=this;this._conditionEvaluator.getDependentDataVariables().forEach(function(r){e.addListener(r,function(){e.emitConditionEvaluationChange()})})},t.prototype.setupOutputDataVariableListeners=function(){var e=this.isTrue();this.setupOutputVariableListener(this.getIfTrue(),e),this.setupOutputVariableListener(this.getIfFalse(),!e)},t.prototype.setupOutputVariableListener=function(e,r){var i=this;jd(e)&&this.addListener(e,function(){r&&i.trigger(Jm,e)})},t.prototype.addListener=function(e,r){var i=new iv({em:this.em,resolver:new Ud(e,{em:this.em,collectionsStateMap:this.collectionsStateMap}),onUpdate:r});this.resolverListeners.push(i)},t.prototype.emitConditionEvaluationChange=function(){var e=this.isTrue();this._previousEvaluationResult!==e&&(this._previousEvaluationResult=e,this.trigger($5e,e),this.emitOutputValueChange())},t.prototype.emitOutputValueChange=function(){var e=this.getDataValue();this.trigger(Jm,e)},t.prototype.cleanupListeners=function(){this.resolverListeners.forEach(function(e){return e.destroy()}),this.resolverListeners=[]},t.prototype.toJSON=function(){var e=this.getIfTrue(),r=this.getIfFalse();return{type:ef,condition:this._conditionEvaluator.toJSON(),ifTrue:e,ifFalse:r}},t}(Wt.Kx),j4="data-condition-true-content",k4="data-condition-false-content",Qo=function(){return Qo=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Qo.apply(this,arguments)},GM=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},od=function(n){return(0,we.isArray)(n.get(ba))},yy=function(n){return!!n.get($a)},Cc=function(n){return!!(od(n)||yy(n))},Pd=function(n){var t=n.parent();return Cc(n)&&(!t||!Cc(t))},Iv=function(n){n.__symbReady||(n.on("change",n.__upSymbProps),n.__symbReady=!0)},el=function(n){var t=n.get($a);if(t&&(0,we.isString)(t)){var e=n.__getAllById()[t];e?(t=e,n.set($a,e)):t=0}return t||void 0},Xa=function(n){var t=n==null?void 0:n.get(ba);return t&&(0,we.isArray)(t)&&(t.forEach(function(e,r){e&&(0,we.isString)(e)&&(t[r]=n.__getAllById()[e])}),t=t.filter(function(e){return e&&!(0,we.isString)(e)})),t||void 0},d1=function(n,t){t===void 0&&(t="");var e=n==null?void 0:n.get(Ph),r=t.split(":")[0],i=t!==r?[t,r]:[t];return e===!0||(0,we.isArray)(e)&&i.some(function(o){return e.indexOf(o)>=0})},nu=function(n,t){t===void 0&&(t={});var e=[],r=t.changed;if(t.fromInstance||t.noPropagate||t.fromUndo||r&&d1(n,r))return e;var i=Xa(n)||[],o=el(n),a=o?GM([o],Xa(o)||[],!0):i;return e=a.filter(function(s){return s!==n}).filter(function(s){return!(r&&d1(s,r))}),e},h1=function(n,t){for(var e=n,r=n.parent(t);r&&Cc(r);)e=r,r=r.parent(t);return e},zx=function(n,t){t===void 0&&(t={});var e=el(n),r=e&&Xa(e);!t.skipRefs&&r&&e.set(ba,r.filter(function(i){return i!==n})),n.set($a,0),n.components().forEach(function(i){return zx(i,t)})},ng=function(n,t,e,r){r===void 0&&(r={});var i=el(n),o=Xa(n);!i&&!o||n.em.log(t,{model:n,toUp:e,context:"symbols",opts:r})},U5e=function(n,t){t===void 0&&(t={});var e=n.dataResolverWatchers.getPropsDefsOrValues(Qo({},n.changedAttributes())),r=n.dataResolverWatchers.getAttributesDefsOrValues(Qo({},e.attributes));if(V5e(e,r),!(0,Et.isEmptyObj)(e)){var i=nu(n,t);u6(e,n),ng(n,"props",i,{opts:t,changed:e}),i.forEach(function(o){var a=Qo({},e);u6(a,o),o.set(a,Qo({fromInstance:n},t))})}},V5e=function(n,t){var e=["status","open",ba,$a,Ph,"attributes"];e.forEach(function(r){return delete n[r]}),delete t.id,(0,Et.isEmptyObj)(t)||(n.attributes=t)},u6=function(n,t){(0,we.keys)(n).forEach(function(e){z5e(n,e,t)||delete n[e]})},z5e=function(n,t,e){var r=function(){var i;if(t==="attributes"){var o=n.attributes;return Object.values(o).some(function(a){return!!(a!=null&&a.collectionId)})}return!!(!((i=n[t])===null||i===void 0)&&i.collectionId)}();return!d1(e,t)||r},W5e=function(n,t){t===void 0&&(t={});var e=nu(n,t);ng(n,"classes",e,{opts:t}),e.forEach(function(r){r.set("classes",n.get("classes"),{fromInstance:n})}),n.__changesUp(t)},KM=function(n,t,e,r){var i=r||e||{},o=i.fromInstance,a=i.fromUndo,s={fromInstance:o,fromUndo:a},l=t.opt.temporary;if(r)if(r.add){var d=[],m=!!Xa(n),u=nu(n,Qo(Qo({},s),{changed:"components:add"}));if(u.length){var g=el(t);d=Xa(g||t)||[],d=GM([],d,!0),d.push(g||t)}!l&&ng(n,"add",u,{opts:r,addedInstances:d.map(function(A){return A.cid}),added:t.cid}),u.forEach(function(A){var j=h1(A),R=d.filter(function(M){var I=h1(M,{prev:1});return j&&I&&I===j})[0],L=R||t.clone({symbol:!0,symbolInv:m});A.append(L,Qo({fromInstance:n},r))})}else{var x=el(t);if(x&&!r.temporary&&x.set(ba,Xa(x).filter(function(N){return N!==t})),!Pd(t)&&!r.skipRefsUp){var b="components:remove",_=r.index,S=t.parent(),T=Qo({fromInstance:t},r),C=Pd(t),w=function(A){var j=A.parent();j&&!d1(j,b)&&A.remove(T)},u=d1(S,b)?[]:nu(t,s);C&&(u=S&&nu(S,Qo(Qo({},s),{changed:b})),w=function(A){var j=A.components().at(_);j&&j.remove(Qo({fromInstance:S},T))}),!l&&ng(n,"remove",u,{opts:r,removed:t.cid,isSymbNested:C}),u.forEach(w)}}else{var c=t,u=nu(n,Qo(Qo({},s),{changed:"components:reset"})),f=c.models,h=new Set;ng(n,"reset",u,{components:f}),u.forEach(function(N){var A=N.components(),j=f.map(function(R,L){return n.get(xh)?R.clone({symbol:Cc(R)}):!Cc(R)||h.has(R)?(h.add(R),R.clone({symbol:!0})):A.at(L)});A.reset(j,Qo({fromInstance:n},e))})}n.__changesUp(i)};function p1(n){return typeof n=="object"&&[_s,ef].includes(n==null?void 0:n.type)}function q5e(n){return n instanceof Ud||n instanceof P4}function jd(n){return(n==null?void 0:n.type)===_s}function by(n,t){return p1(n)?(jd(n)&&Ud.resolveDataResolver(n,t),L4(n,t)):n}function M4(n,t){var e,r=n.type,i;switch(r){case _s:i=new Ud(n,t);break;case ef:{i=new P4(n,t);break}default:(e=t.em)===null||e===void 0||e.logWarning("Unsupported dynamic type: ".concat(r));return}return i}function L4(n,t){var e=M4(n,t);return e==null?void 0:e.getDataValue()}var G5e=function(n){return!!n&&[rg,j4,k4].includes(n)};function K5e(n){return Object.keys(n).filter(function(t){return isNaN(Number(t))}).map(function(t){return n[t]})}function Y5e(n){var t=n.collectionsStateMap;if(!t)return!1;var e=Object.keys(t);if(!e.length)return!1;var r=el(n);if(!r||r===n)return!1;var i=r.collectionsStateMap,o=Object.keys(i),a=o.every(function(s){return e.includes(s)});return a}function X5e(n){var t=el(n);return t?t.getId():""}function Z5e(n){var t=Y5e(n),e=t?X5e(n):null;return{shouldSync:t,itemId:e}}var J5e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),xy=function(){return xy=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},xy.apply(this,arguments)},_s="data-variable",Q5e=function(n){J5e(t,n);function t(e,r){var i=n.call(this,e,r)||this;return i.em=r.em,i.collectionsStateMap=r.collectionsStateMap,i}return t.prototype.defaults=function(){return{type:_s,defaultValue:"",path:"",collectionId:void 0,variableType:void 0,asPlainText:void 0}},Object.defineProperty(t.prototype,"path",{get:function(){var e;return(e=this.get("path"))!==null&&e!==void 0?e:""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultValue",{get:function(){var e;return(e=this.get("defaultValue"))!==null&&e!==void 0?e:""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"collectionId",{get:function(){return this.get("collectionId")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"variableType",{get:function(){return this.get("variableType")},enumerable:!1,configurable:!0}),t.prototype.resolvesFromCollection=function(){return!!this.collectionId},t.prototype.updateCollectionsStateMap=function(e){this.collectionsStateMap=e,this.trigger("change")},t.prototype.getResolverPath=function(){var e;if(this.resolvesFromCollection()){var r=this.resolveCollectionVariable();return jd(r)?(e=r.path)!==null&&e!==void 0?e:"":!1}return this.path},t.prototype.toJSON=function(e){var r=this.defaults(),i=n.prototype.toJSON.call(this,e),o=Object.fromEntries(Object.entries(i).filter(function(a){var s=a[0],l=a[1];return l!==r[s]}));return xy(xy({},o),{type:_s})},t.prototype.getDataValue=function(){var e={em:this.em,collectionsStateMap:this.collectionsStateMap};return t.resolveDataResolver({path:this.path,defaultValue:this.defaultValue,collectionId:this.collectionId,variableType:this.variableType},e)},t.resolveDataSourceVariable=function(e,r){var i,o;return r.em.DataSources.getValue((i=e.path)!==null&&i!==void 0?i:"",(o=e.defaultValue)!==null&&o!==void 0?o:"")},t.resolveDataResolver=function(e,r){var i,o,a,s;if(e.collectionId){var l=t.resolveCollectionVariable(e,r);return jd(l)?t.resolveDataSourceVariable({path:(i=l.path)!==null&&i!==void 0?i:"",defaultValue:(o=e.defaultValue)!==null&&o!==void 0?o:""},{em:r.em}):l}return t.resolveDataSourceVariable({path:(a=e.path)!==null&&a!==void 0?a:"",defaultValue:(s=e.defaultValue)!==null&&s!==void 0?s:""},{em:r.em})},t.prototype.resolveCollectionVariable=function(){var e=this,r=e.em,i=e.collectionsStateMap;return t.resolveCollectionVariable(this.attributes,{em:r,collectionsStateMap:i})},t.resolveCollectionVariable=function(e,r){var i=e.collectionId,o=i===void 0?"":i,a=e.variableType,s=e.path,l=e.defaultValue,c=l===void 0?"":l,u=r.em,f=r.collectionsStateMap;if(!f)return c;var h=f[o];return h?a?a==="currentItem"?t.resolveCurrentItem(h,s,o,u):h[a]:(u.logError("Missing collection variable type for collection: ".concat(o)),c):c},t.resolveCurrentItem=function(e,r,i,o){var a=e.currentItem;if(!a)return o.logError("Current item is missing for collection: ".concat(i)),"";if(a.type===_s){var s=a.path?"".concat(a.path,".").concat(r):r;return{type:_s,path:s}}return r&&!a[r]?(o.logError("Path not found in current item: ".concat(r," for collection: ").concat(i)),""):r?a[r]:a},t}(Wt.Kx);const Ud=Q5e;var ewe=function(){function n(t){var e=this;this.listeners=[],this.model=new Wt.Kx,this.onChange=function(){var r=e.resolver.getDataValue();e.onUpdate(r)},this.em=t.em,this.resolver=t.resolver,this.onUpdate=t.onUpdate,this.listenToResolver()}return n.prototype.createListener=function(t,e,r){return r===void 0&&(r=this.onChange),{obj:t,event:e,callback:r}},n.prototype.listenToResolver=function(){var t=this,e=t.resolver,r=t.model;this.removeListeners();var i=[],o=e.attributes.type;switch(o){case _s:i=this.listenToDataVariable(e);break;case ef:i=this.listenToConditionalVariable(e);break}i.forEach(function(a){return r.listenTo(a.obj,a.event,a.callback)}),this.listeners=i},n.prototype.listenToConditionalVariable=function(t){return[{obj:t,event:Jm,callback:this.onChange}]},n.prototype.listenToDataVariable=function(t){var e=this,r=this.em,i=[];i.push(this.createListener(t,"change",function(){e.listenToResolver(),e.onChange()}));var o=t.getResolverPath();if(!o)return i;var a=(0,Et.stringToPath)(o||"").join("."),s=r.DataSources.fromPath(o),l=s[0],c=s[1];return l&&i.push(this.createListener(l.records,"add remove reset")),c&&i.push(this.createListener(c,"change")),i.push(this.createListener(r.DataSources.all,"add remove reset"),this.createListener(r,"".concat(Gu.path,":").concat(a))),i},n.prototype.removeListeners=function(){var t=this;this.listeners.forEach(function(e){return t.model.stopListening(e.obj,e.event,e.callback)}),this.listeners=[]},n.prototype.destroy=function(){this.removeListeners()},n}();const iv=ewe;var twe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Zc=function(){return Zc=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Zc.apply(this,arguments)},rwe=WM(),sS=function(n){return(0,we.isArray)(n)?n[n.length-1]:n},nwe=function(n){twe(t,n);function t(e,r){r===void 0&&(r={});var i=n.call(this,e,r)||this;return i.views=[],i.styleResolverListeners={},i.em=r.em,i}return t.prototype.parseStyle=function(e){return rwe.parseStyle(e)},t.prototype.extendStyle=function(e){return Zc(Zc({},this.getStyle("",{skipResolve:!0})),e)},t.prototype.getStyle=function(e,r){r===void 0&&(r={});var i=this.get("style")||{},o=Zc({},i);if(this.em&&!r.skipResolve){var a=this.getResolvedStyles(Zc({},o));return e&&(0,we.isString)(e)?a[e]:a}return e&&(0,we.isString)(e)?o[e]:o},t.prototype.setStyle=function(e,r){var i=this;e===void 0&&(e={}),r===void 0&&(r={}),(0,we.isString)(e)&&(e=this.parseStyle(e));var o=this.getStyle(r);r.partial||r.avoidStore?(r.avoidStore=!0,e.__p=!0):delete e.__p;var a=Zc({},e),s=Zc({},a);(0,we.keys)(s).forEach(function(c){if(s[c]===""){delete s[c];return}var u=s[c];if(p1(u)){var f=M4(u,{em:i.em,collectionsStateMap:{}});f&&(s[c]=f,i.listenToDataResolver(f,c))}}),this.set("style",s,r);var l=(0,Et.shallowDiff)(o,s);return delete l.__p,(0,we.keys)(l).forEach(function(c){var u=i.em;r.noEvent||(i.trigger("change:style:".concat(c)),u&&(u.trigger("styleable:change",i,c,r),u.trigger("styleable:change:".concat(c),i,c,r)))}),s},t.prototype.listenToDataResolver=function(e,r){var i=this,o=this.styleResolverListeners[r];o?o.listenToResolver():this.styleResolverListeners[r]=new iv({em:this.em,resolver:e,onUpdate:function(){return i.updateView()}})},t.prototype.getView=function(e){var r=this,i=r.views,o=r.em,a=e||(o==null?void 0:o.getCurrentFrameModel());return a?i.find(function(s){return s.frameView===a.view}):i[0]},t.prototype.setView=function(e){var r=this.views;!r.includes(e)&&r.push(e)},t.prototype.removeView=function(e){var r=this.views;r.splice(r.indexOf(e),1)},t.prototype.updateView=function(){this.views.forEach(function(e){return e.updateStyles()})},t.prototype.getResolvedStyles=function(e){var r=this,i=Zc({},e);return(0,we.keys)(i).forEach(function(o){var a=i[o];typeof a=="string"||Array.isArray(a)||(p1(a)&&(i[o]=L4(a,{em:r.em,collectionsStateMap:{}})),q5e(a)&&(i[o]=a.getDataValue()))}),i},t.prototype.addStyle=function(e,r,i){var o;r===void 0&&(r=""),i===void 0&&(i={}),typeof e=="string"?e=(o={},o[e]=r,o):i=r||{},i.addStyle=e,e=this.extendStyle(e),this.setStyle(e,i)},t.prototype.removeStyle=function(e){var r=this.getStyle();delete r[e],this.setStyle(r)},t.prototype.styleToString=function(e){e===void 0&&(e={});var r=[],i=e.style||this.getStyle(e),o=e.important,a=function(l){var c=(0,we.isArray)(o)?o.indexOf(l)>=0:o,u=l.substring(0,2),f=u==="__";if(f)return"continue";var h=i[l],d=(0,we.isArray)(h)?h:[h];d.forEach(function(m){var g="".concat(m).concat(c?" !important":"");g&&r.push("".concat(l,":").concat(g,";"))})};for(var s in i)a(s);return r.join("")},t.prototype.getSelectors=function(){return this.get("selectors")||this.get("classes")},t.prototype.getSelectorsString=function(e){return this.selectorsToString?this.selectorsToString(e):this.getSelectors().getFullString()},t}(Wt.Kx);const YM=nwe;var iwe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ys=function(){return ys=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ys.apply(this,arguments)},Qm=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e},f6=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},Nh=function(n,t){if(t===void 0&&(t=[]),!n)return[];var e=(0,we.isArray)(n)||(0,we.isFunction)(n.map)?n:[n];return e.map(function(r){t.push(r.getId()),Nh(r.components().models,t)}),t},XM=function(n,t,e){t===void 0&&(t={}),e===void 0&&(e={}),e.visitedCmps=e.visitedCmps||{};var r=e.visitedCmps,i=(0,we.isArray)(n)?n:[n];return i.map(function(o){var a=o.attributes,s=a===void 0?{}:a,l=o.components,c=o.tagName,u=o.style,f=s.id;s.draggable;var h=Qm(s,["id","draggable"]),d=o;if(f){if(r[f])r[f].push(d),f=Mi.getNewId(t),d.attributes.id=f;else if(r[f]=[],t[f]){d=t[f];var m=d;c&&m.set({tagName:c},ys(ys({},e),{silent:!0})),(0,we.keys)(h).length&&m.addAttributes(h,ys({},e)),(0,we.keys)(u).length&&m.addStyle(u,e)}}var g=(0,we.isFunction)(d.components)?d:null;if(l){var x=XM(l,t,e);g?g.components().reset(x,e):d.components=x}else g&&g.components().reset([],e);return d})},owe=function(n){iwe(t,n);function t(e,r){var i=n.call(this,e,r)||this;i.opt=r,i.listenTo(i,"add",i.onAdd),i.listenTo(i,"remove",i.removeChildren),i.listenTo(i,"reset",i.resetChildren);var o=r.em,a=r.config;return i.config=a,i.em=o,i.domc=r.domc||(o==null?void 0:o.Components),i}return Object.defineProperty(t.prototype,"events",{get:function(){var e;return(e=this.domc)===null||e===void 0?void 0:e.events},enumerable:!1,configurable:!0}),t.prototype.resetChildren=function(e,r){var i=this;r===void 0&&(r={});var o=this,a=r.previousModels||[],s=a.filter(function(u){return!e.get(u.cid)}),l=Nh(e),c=Nh(a).filter(function(u){return l.indexOf(u)>=0});r.keepIds=(r.keepIds||[]).concat(c),s.forEach(function(u){return i.removeChildren(u,o,r)}),e.each(function(u){return i.onAdd(u)})},t.prototype.resetFromString=function(e,r){var i,o;e===void 0&&(e=""),r===void 0&&(r={}),r.keepIds=Nh(this);var a=this,s=a.domc,l=a.em,c=a.parent,u=l==null?void 0:l.Css,f=(s==null?void 0:s.allById())||{},h=this.parseString(e,r),d=XM(h,f,r),m=r.visitedCmps,g=m===void 0?{}:m;Object.keys(g).forEach(function(x){var b=g[x];if(b.length){var _=(u==null?void 0:u.getRules("#".concat(x)))||[];_.length&&b.forEach(function(S){_.forEach(function(T){var C=T.clone();C.set("selectors",["#".concat(S.attributes.id)]),u.getAll().add(C)})})}}),this.reset(d,r),l==null||l.trigger("component:content",c,r,e),(o=(i=c).__checkInnerChilds)===null||o===void 0||o.call(i)},t.prototype.removeChildren=function(e,r,i){var o=this;if(i===void 0&&(i={}),!!e){var a=this,s=a.domc,l=a.em,c=i.temporary||i.fromUndo;if(e.prevColl=this,!c){var u=e.getId(),f=l.Selectors.getAll(),h=l.Css.getAll(),d=(i.keepIds||[]).indexOf(u)<0,m=s?s.allById():{};delete m[u];var g=d?h.remove(h.filter(function(S){return S.getSelectors().getFullString()==="#".concat(u)}),i):[];f.remove(g.map(function(S){return S.getSelectors().at(0)})),e.opt.temporary||(l.Commands.run("core:component-style-clear",{target:e}),e.views.forEach(function(S){S.scriptContainer&&e.emitWithEditor(Tn.I.scriptUnmount,{component:e,view:S,el:S.el})}),e.removed(),e.trigger("removed"),l.trigger(Tn.I.remove,e),s&&yy(e)&&Pd(e)&&s.symbols.__trgEvent(s.events.symbolInstanceRemove,{component:e},!0));var x=e.components();x.forEach(function(S){KM(S,S,x,ys(ys({},i),{skipRefsUp:!0})),o.removeChildren(S,r,i)})}var b=e.components();if(l.stopListening(b),l.stopListening(e),l.stopListening(e.get("classes")),e.__postRemove(),!e.opt.temporary){var _=function(S){S.emitWithEditor(Tn.I.removed,S,{removeOptions:i}),S.components().forEach(function(T){return _(T)})};_(e)}}},t.prototype.model=function(e,r){var i=r.collection.opt,o=i.em,a,s=o.Components.componentTypes;r.em=o,r.config=i.config,r.componentTypes=s,r.domc=i.domc;for(var l=0;l<s.length;l++){var c=s[l].id;if(c==e.type){a=s[l].model;break}}return a||(a=s[s.length-1].model,o&&e.type&&o.logWarning("Component type '".concat(e.type,"' not found"),{attrs:e,options:r})),new a(e,r)},t.prototype.parseString=function(e,r){r===void 0&&(r={});var i=this,o=i.em,a=i.domc,s=i.parent,l=s==null?void 0:s.is("wrapper"),c=r.asDocument&&l,u=o.Css,f=o.Parser.parseHtml(e,ys({asDocument:c},r.parserOptions)),h=f.html;if(l&&f.doctype){var d=s,m=f.html||{},g=m.components,x=g===void 0?[]:g,b=Qm(m,["components"]),_=f.head||{},S=_.components,T=Qm(_,["components"]);h=x,d.set(b,r),d.head.set(T,r),d.head.components(S,r),d.docEl.set(f.root,r),d.set({doctype:f.doctype})}if(Mi.checkId(h,f.css,a.componentsById,r),f.css&&u&&!r.temporary){r.at;var C=Qm(r,["at"]);u.addCollection(f.css,ys(ys({},C),{extend:1}))}return h},t.prototype.add=function(e,r){var i=this;if(r===void 0&&(r={}),e!=null){r.keepIds=f6(f6([],r.keepIds||[],!0),Nh(r.previousModels),!0),(0,we.isString)(e)?e=this.parseString(e,r):(0,we.isArray)(e)&&e.forEach(function(a,s){if((0,we.isString)(a)){var l=i.parseString(a,r);e[s]=(0,we.isArray)(l)&&!l.length?null:l}});var o=((0,we.isArray)(e)?e:[e]).filter(Boolean).map(function(a){return i.processDef(a)});return e=(0,we.isArray)(e)?(0,we.flatten)(o,1):o[0],n.prototype.add.call(this,e,r)}},t.prototype.processDef=function(e){if(e.cid&&e.ccid)return e;var r=this,i=r.em,o=r.config,a=o===void 0?{}:o,s=a.processor,l=e;if(s){l=ys({},l);var c=s(l);c&&((0,we.each)(l,function(x,b){return delete l[b]}),(0,we.extend)(l,c))}if(l.$$typeof&&typeof l.props=="object"){l=ys({},l),l.props=ys({},l.props);var u=i.Components,f=i.Parser,h=f.parserHtml;(0,we.each)(l,function(x,b){(0,we.includes)(["props","type"],b)||delete l[b]});var d=l.props,m=d.children;delete d.children,delete l.props;var g=h.splitPropsFromAttr(d);l.attributes=g.attrs,m&&(l.components=m),l.type?u.getType(l.type)||(l.tagName=l.type,delete l.type):l.type="textnode",(0,we.extend)(l,g.props)}return l},t.prototype.onAdd=function(e,r,i){i===void 0&&(i={});var o=this,a=o.domc,s=o.em,l=e.getStyle(),c=s&&s.getConfig().avoidInlineStyle;if(a&&a.Component.ensureInList(e),!(0,we.isEmpty)(l)&&!c&&s&&s.getConfig().forceClass&&!i.temporary){var u=e.cid;s.Css.setClassRule(u,l),e.setStyle({}),e.addClass(u)}if(e.__postAdd({recursive:!0}),s&&!i.temporary){var f=function(h){s.trigger(Tn.I.add,h,i),h.components().forEach(function(d){return f(d)})};f(e),a&&yy(e)&&Pd(e)&&a.symbols.__trgEvent(a.events.symbolInstanceAdd,{component:e},!0)}},t}(Wt.pM);const v1=owe;var awe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Am=1,h5=2,ZM=function(n){awe(t,n);function t(e,r){r===void 0&&(r={});var i=n.call(this,e,r)||this,o=r.config,a=o===void 0?{}:o,s=i.get("name"),l=i.get("label");s?l||i.set("label",s):i.set("name",l);var c=i.get("name"),u=a.escapeName,f=u?u(c):t.escapeName(c);return i.set("name",f),i.em=r.em,i}return t.prototype.defaults=function(){return{name:"",label:"",type:Am,active:!0,private:!1,protected:!1,_undo:!0}},t.prototype.isId=function(){return this.get("type")===h5},t.prototype.isClass=function(){return this.get("type")===Am},t.prototype.getFullName=function(e){e===void 0&&(e={});var r=e.escape,i=this.get("name"),o="";switch(this.get("type")){case Am:o=".";break;case h5:o="#";break}return o+(r?r(i):i)},t.prototype.toString=function(){return this.getFullName()},t.prototype.getName=function(){return this.get("name")||""},t.prototype.getLabel=function(){return this.get("label")||""},t.prototype.setLabel=function(e){return this.set("label",e)},t.prototype.getActive=function(){return!!this.get("active")},t.prototype.setActive=function(e){return this.set("active",e)},t.prototype.toJSON=function(e){e===void 0&&(e={});var r=this.em,i=Wt.Kx.prototype.toJSON.call(this,[e]),o=(0,we.result)(this,"defaults");if(r!=null&&r.getConfig().avoidDefaults){(0,we.forEach)(o,function(s,l){i[l]===s&&delete i[l]}),i.label===i.name&&delete i.label;var a=(0,we.keys)(i).length;a===1&&i.name&&(i=i.name),a===2&&i.name&&i.type&&(i=this.getFullName())}return i},t.escapeName=function(e){return"".concat(e).trim().replace(/\s+/g,"-")},t.TYPE_CLASS=Am,t.TYPE_ID=h5,t}(Wt.Kx);const wa=ZM;ZM.prototype.idAttribute="name";var swe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),JM=function(n,t){return n.reduce(function(e,r,i){return e.concat(JM(n.slice(i+1),"".concat(t).concat(r)))},[t])},QM=function(n){swe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.modelId=function(e){return"".concat(e.name,"_").concat(e.type||wa.TYPE_CLASS)},t.prototype.getStyleable=function(){return(0,we.filter)(this.models,function(e){return e.getActive()&&!e.get("private")})},t.prototype.getValid=function(e){var r=e===void 0?{}:e,i=r.noDisabled;return(0,we.filter)(this.models,function(o){return!o.get("private")}).filter(function(o){return i?o.get("active"):1})},t.prototype.getFullString=function(e,r){r===void 0&&(r={});var i=[],o=e||this;return o.forEach(function(a){return i.push(a.getFullName(r))}),r.sort&&i.sort(),i.join("").trim()},t.prototype.getFullName=function(e){e===void 0&&(e={});var r=e.combination,i=e.array,o=[],a=this.map(function(s){return s.getFullName(e)}).sort();return r?a.forEach(function(s,l){o=o.concat(JM(a.slice(l+1),s))}):o=a,i?o:r?o.join(","):o.join("")},t}(Wt.pM);const zu=QM;QM.prototype.model=wa;var lwe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),d6=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},cwe=function(n){lwe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.defaults=function(){return{id:"",label:"",open:!0,attributes:{}}},t.prototype.getId=function(){return this.get("id")},t.prototype.getLabel=function(){return this.get("label")},t}(Wt.Kx);const k1=cwe;function eL(n){var t=new Set,e=new Map,r={items:[]};n.forEach(function(o){var a=o.category;if(a){t.add(a);var s=e.get(a);s?s.push(o):e.set(a,[o])}else r.items.push(o)});var i=Array.from(t).map(function(o){return{category:o,items:e.get(o)||[]}});return d6(d6([],i,!0),[r],!1)}var uwe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),h6="category",tL=function(n){uwe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.initCategory=function(e){var r=e.get(h6),i=r instanceof k1;if(r&&!i){(0,we.isString)(r)?r={id:r,label:r}:(0,Et.isObject)(r)&&!r.id&&(r.id=r.label);var o=this.getCategories().add(r);return e.set(h6,o,{silent:!0}),o}else if(i){var o=r;return this.getCategories().add(o),o}},t}(Wt.pM),fwe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),rL=function(n){fwe(t,n);function t(e,r){r===void 0&&(r={});var i=n.call(this,e,r)||this,o=r.events,a=r.em,s=o==null?void 0:o.update;return a&&s&&i.on("change",function(l,c){return a.trigger(s,{category:l,changes:l.changedAttributes(),options:c})}),i}return t.prototype.add=function(e,r){var i=(0,we.isArray)(e)?e:[e];return i.forEach(function(o){return o&&(o.id=(0,Et.normalizeKey)("".concat(o.id)))}),n.prototype.add.call(this,e,r)},t.prototype.get=function(e){return n.prototype.get.call(this,(0,we.isString)(e)?(0,Et.normalizeKey)(e):e)},t}(Wt.pM);const wy=rL;rL.prototype.model=k1;var _y;(function(n){n.select="trait:select",n.value="trait:value",n.categoryUpdate="trait:category:update",n.custom="trait:custom",n.all="trait"})(_y||(_y={}));const lS=_y;var dwe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Sy=function(){return Sy=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Sy.apply(this,arguments)},hwe=function(n){dwe(t,n);function t(e,r){var i=n.call(this,e)||this,o=i.attributes,a=o.target,s=o.name;return!i.get("id")&&i.set("id",s),a&&i.setTarget(a),i.em=r,i}return t.prototype.defaults=function(){return{type:"text",label:"",name:"",unit:"",step:1,value:"",default:"",placeholder:"",category:"",changeProp:!1,options:[]}},Object.defineProperty(t.prototype,"parent",{get:function(){return this.collection},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"category",{get:function(){var e=this.get("category");return e instanceof k1?e:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){return this.target},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"changeProp",{get:function(){return!!this.get("changeProp")},enumerable:!1,configurable:!0}),t.prototype.setTarget=function(e){if(e){var r=this.attributes,i=r.name,o=r.changeProp,a=r.value,s=r.getValue;this.target=e,this.unset("target");var l=o?"change:".concat(i):"change:attributes:".concat(i);this.listenTo(e,l,this.targetUpdated);var c=a||(s?void 0:this.getValue());!(0,we.isUndefined)(c)&&this.set({value:c},{silent:!0})}},t.prototype.getId=function(){return this.get("id")},t.prototype.getType=function(){return this.get("type")},t.prototype.getName=function(){return this.get("name")},t.prototype.getLabel=function(e){var r;e===void 0&&(e={});var i=e.locale,o=i===void 0?!0:i,a=this.getId(),s=this.get("label")||this.getName();return o&&((r=this.em)===null||r===void 0?void 0:r.t("traitManager.traits.labels.".concat(a)))||s},t.prototype.getValue=function(e){return this.getTargetValue(e)},t.prototype.setValue=function(e,r){var i=this;r===void 0&&(r={});var o=this,a=o.component,s=o.em,l=r.partial,c={},u=this.attributes.setValue;if(u){u({value:e,component:a,editor:s==null?void 0:s.getEditor(),trait:this,partial:!!l,options:r,emitUpdate:function(){return i.targetUpdated()}});return}l&&(c.avoidStore=!0),this.setTargetValue(e,c)},t.prototype.getDefault=function(){return this.get("default")},t.prototype.getOptions=function(){return this.get("options")||[]},t.prototype.getOption=function(e){var r=this,i=(0,Et.isDef)(e)?e:this.getValue();return this.getOptions().filter(function(o){return r.getOptionId(o)===i})[0]},t.prototype.getOptionId=function(e){return e.id||e.value},t.prototype.getOptionLabel=function(e,r){var i;r===void 0&&(r={});var o=r.locale,a=o===void 0?!0:o,s=(0,we.isString)(e)?this.getOption(e):e,l=this.getOptionId(s),c=s.label||s.name||l,u=this.getName();return a&&((i=this.em)===null||i===void 0?void 0:i.t("traitManager.traits.options.".concat(u,".").concat(l)))||c},t.prototype.getCategoryLabel=function(e){e===void 0&&(e={});var r=this,i=r.em,o=r.category,a=e.locale,s=a===void 0?!0:a,l=o==null?void 0:o.getId(),c=o==null?void 0:o.getLabel();return s&&(i==null?void 0:i.t("traitManager.categories.".concat(l)))||c||""},t.prototype.runCommand=function(){var e=this.em,r=this.attributes.command;if(r&&e)return(0,we.isString)(r)?e.Commands.run(r):r(e.Editor,this)},t.prototype.props=function(){return this.attributes},t.prototype.targetUpdated=function(){var e=this,r=e.component,i=e.em,o=this.getTargetValue({useType:!0});this.set({value:o},{fromTarget:1});var a={trait:this,component:r,value:o};r.trigger(lS.value,a),i==null||i.trigger(lS.value,a),i==null||i.trigger("trait:update",a)},t.prototype.getTargetValue=function(e){e===void 0&&(e={});var r=this,i=r.component,o=r.em,a=this.getName(),s=this.get("getValue"),l;if(s?l=s({editor:o==null?void 0:o.getEditor(),trait:this,component:i}):this.changeProp?l=i.get(a):l=i.getAttributes()[a],e.useType){var c=this.getType();if(c==="checkbox"){var u=this.attributes,f=u.valueTrue,h=u.valueFalse;!(0,we.isUndefined)(f)&&f===l?l=!0:!(0,we.isUndefined)(h)&&h===l&&(l=!1)}}return(0,we.isUndefined)(l)?"":l},t.prototype.setTargetValue=function(e,r){var i;r===void 0&&(r={});var o=this,a=o.component,s=o.attributes,l=this.getName();if(!(0,we.isUndefined)(e)){var c=e;if(e==="false"?c=!1:e==="true"&&(c=!0),this.getType()==="checkbox"){var u=s.valueTrue,f=s.valueFalse;c&&!(0,we.isUndefined)(u)&&(c=u),!c&&!(0,we.isUndefined)(f)&&(c=f)}var h=(i={},i[l]=c,i);h.__p=r.avoidStore?null:void 0,this.changeProp?a.set(h,r):a.addAttributes(h,r)}},t.prototype.setValueFromInput=function(e,r,i){r===void 0&&(r=!0),i===void 0&&(i={});var o={value:e};this.set(o,Sy(Sy({},i),{avoidStore:1})),r&&(this.set("value","",i),this.set(o,i))},t.prototype.getInitValue=function(){var e=this.component,r=this.getName(),i;if(e){var o=e.get("attributes");i=this.changeProp?e.get(r):o[r]}return i||this.get("value")||this.get("default")},t}(Wt.Kx);const Ty=hwe;var pwe=function(){function n(t){t===void 0&&(t={}),this.config=t}return n.prototype.build=function(t,e){return(0,we.isString)(t)?this.buildFromString(t,e):new Ty(t,e)},n.prototype.buildFromString=function(t,e){var r={name:t,type:"text"};switch(t){case"target":r.type="select",r.default=!1,r.options=this.config.optionsTarget;break}return new Ty(r,e)},n}();const vwe=pwe;var gwe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),mwe=function(n){gwe(t,n);function t(e,r){var i=n.call(this,e)||this;i.categories=new wy;var o=r.em;i.em=o,i.categories=new wy([],{em:o,events:{update:lS.categoryUpdate}}),i.on("add",i.handleAdd),i.on("reset",i.handleReset);var a=i.module,s=a==null?void 0:a.getConfig();return i.tf=new vwe(s),i}return Object.defineProperty(t.prototype,"module",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),t.prototype.getCategories=function(){return this.categories},t.prototype.handleReset=function(e,r){var i=r===void 0?{}:r,o=i.previousModels,a=o===void 0?[]:o;a.forEach(function(s){return s.trigger("remove")})},t.prototype.handleAdd=function(e){e.em=this.em;var r=this.target;r&&(e.target=r),this.initCategory(e)},t.prototype.setTarget=function(e){this.target=e,this.models.forEach(function(r){return r.setTarget(e)})},t.prototype.add=function(e,r){if(e!=null){var i=this,o=i.target,a=i.em;if((0,we.isArray)(e)){for(var s=[],l=0,c=e.length;l<c;l++){var u=e[l];s[l]=u instanceof Ty?u:this.tf.build(u,a),s[l].setTarget(o)}return n.prototype.add.call(this,s,r)}var f=e instanceof Ty?e:this.tf.build(e,a);return f.setTarget(o),n.prototype.add.call(this,f,r)}},t}(tL);const Cy=mwe;var Ey=function(){return Ey=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Ey.apply(this,arguments)},p6=function(){function n(t,e,r){this.component=t,this.updateFn=e,this.resolverListeners={},this.em=r.em}return n.prototype.bindComponent=function(t){this.component=t},n.prototype.setDynamicValues=function(t,e){e===void 0&&(e={});var r=e.skipWatcherUpdates||e.fromDataSource;return r||this.removeListeners(),this.addDynamicValues(t,e)},n.prototype.addDynamicValues=function(t,e){if(e===void 0&&(e={}),!t)return{};var r=this.evaluateValues(t),i=e.skipWatcherUpdates||e.fromDataSource;return i||this.updateListeners(t),r},n.prototype.onCollectionsStateMapUpdate=function(){var t=this,e=this.getValuesResolvingFromCollections();if(e.length){e.forEach(function(i){return t.resolverListeners[i].resolver.updateCollectionsStateMap(t.collectionsStateMap)});var r=this.addDynamicValues(this.getSerializableValues(Object.fromEntries(e.map(function(i){return[i,null]}))));Object.entries(r).forEach(function(i){var o=i[0],a=i[1];return t.updateFn(t.component,o,a)})}},Object.defineProperty(n.prototype,"collectionsStateMap",{get:function(){var t=this.component;return t?t.collectionsStateMap:{}},enumerable:!1,configurable:!0}),n.prototype.updateListeners=function(t){var e=this,r=this,i=r.em,o=r.collectionsStateMap;this.removeListeners(Object.keys(t));for(var a=Object.keys(t),s=function(u){var f=a[u],h=t[f];if(!p1(h))return"continue";var d=M4(h,{em:i,collectionsStateMap:o});l.resolverListeners[f]=new iv({em:i,resolver:d,onUpdate:function(m){return e.updateFn.bind(e)(e.component,f,m)}})},l=this,c=0;c<a.length;c++)s(c)},n.prototype.evaluateValues=function(t){for(var e=this,r=e.em,i=e.collectionsStateMap,o=Ey({},t),a=Object.keys(t),s=0;s<a.length;s++){var l=a[s],c=t[l];p1(c)&&(o[l]=L4(c,{em:r,collectionsStateMap:i}))}return o},n.prototype.removeListeners=function(t){var e=this,r=t||Object.keys(this.resolverListeners);return r.forEach(function(i){var o,a;e.resolverListeners[i]&&((a=(o=e.resolverListeners[i]).destroy)===null||a===void 0||a.call(o),delete e.resolverListeners[i])}),r},n.prototype.getSerializableValues=function(t){if(!t)return{};for(var e=Ey({},t),r=Object.keys(e),i=0;i<r.length;i++){var o=r[i],a=this.resolverListeners[o];a&&(e[o]=a.resolver.toJSON())}return e},n.prototype.getAllSerializableValues=function(){for(var t={},e=Object.keys(this.resolverListeners),r=0;r<e.length;r++){var i=e[r];t[i]=this.resolverListeners[i].resolver.toJSON()}return t},n.prototype.getValuesResolvingFromCollections=function(){var t=this,e=Object.keys(this.resolverListeners).filter(function(r){return t.resolverListeners[r].resolver.resolvesFromCollection()});return e},n.prototype.destroy=function(){this.removeListeners()},n}(),ywe=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},cS={fromDataSource:!0,avoidStore:!0},bwe=function(){function n(t,e){this.component=t,this.propertyWatcher=new p6(t,this.onPropertyUpdate,e),this.attributeWatcher=new p6(t,this.onAttributeUpdate,e)}return n.prototype.onPropertyUpdate=function(t,e,r){t==null||t.set(e,r,cS)},n.prototype.onAttributeUpdate=function(t,e,r){var i;t==null||t.addAttributes((i={},i[e]=r,i),cS)},n.prototype.bindComponent=function(t){this.component=t,this.propertyWatcher.bindComponent(t),this.attributeWatcher.bindComponent(t),this.updateSymbolOverride()},n.prototype.addProps=function(t,e){var r=this;e===void 0&&(e={});var i=["components","dataResolver"],o=Object.fromEntries(Object.entries(t).map(function(l){var c,u=l[0],f=l[1];return i.includes(u)?[u,f]:[u,r.propertyWatcher.addDynamicValues((c={},c[u]=f,c),e)[u]]}));if(t.attributes){var a=this.attributeWatcher.setDynamicValues(t.attributes,e);o.attributes=a}var s=e.skipWatcherUpdates||e.fromDataSource;return s||this.updateSymbolOverride(),o},n.prototype.removeAttributes=function(t){this.attributeWatcher.removeListeners(t),this.updateSymbolOverride()},n.prototype.updateSymbolOverride=function(){var t,e,r=!!Object.keys((e=(t=this.component)===null||t===void 0?void 0:t.collectionsStateMap)!==null&&e!==void 0?e:{}).length;if(!(!this.component||!r)){var i=this.propertyWatcher.getValuesResolvingFromCollections(),o=this.attributeWatcher.getValuesResolvingFromCollections(),a=ywe(["locked","layerable"],i,!0),s=Object.keys(o).length;s&&a.push("attributes");var l=nu(this.component);l.forEach(function(c){c.setSymbolOverride(a,{fromDataSource:!0})}),this.component.setSymbolOverride(a,{fromDataSource:!0})}},n.prototype.onCollectionsStateMapUpdate=function(){this.propertyWatcher.onCollectionsStateMapUpdate(),this.attributeWatcher.onCollectionsStateMapUpdate()},n.prototype.getDynamicPropsDefs=function(){return this.propertyWatcher.getAllSerializableValues()},n.prototype.getDynamicAttributesDefs=function(){return this.attributeWatcher.getAllSerializableValues()},n.prototype.getPropsDefsOrValues=function(t){return this.propertyWatcher.getSerializableValues(t)},n.prototype.getAttributesDefsOrValues=function(t){return this.attributeWatcher.getSerializableValues(t)},n.prototype.destroy=function(){this.propertyWatcher.destroy(),this.attributeWatcher.destroy()},n}(),xwe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),dn=function(){return dn=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},dn.apply(this,arguments)},wwe=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e},Al=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},v6=function(n){return n.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")},Uv=function(n){return!!(n!=null&&n.getConfig().avoidInlineStyle)},D4="component:drag",ba="__symbols",$a="__symbol",Ph="__symbol_ovrd",e0=Tn.I.update,uS=Tn.I.updateInside,_we=function(n){xwe(t,n);function t(e,r){e===void 0&&(e={});var i=this,o=r.em,a=new bwe(void 0,{em:o});i=n.call(this,e,dn(dn({},r),{dataResolverWatchers:a}))||this,i.collectionsStateMap={},a.bindComponent(i),i.dataResolverWatchers=a,(0,we.bindAll)(i,"__upSymbProps","__upSymbCls","__upSymbComps","syncOnComponentChange");var s=i.parent(),l=s==null?void 0:s.attributes,c=i.get("propagate");if(c&&i.set("propagate",(0,we.isArray)(c)?c:[c]),l&&l.propagate&&!c){var u={},f=l.propagate;f.forEach(function(b){return u[b]=s.get(b)}),u.propagate=f,i.set(dn(dn({},u),e))}r&&r.config&&r.config.voidElements.indexOf(i.get("tagName"))>=0&&i.set("void",!0),r.em=o,i.opt=r,i.em=o,i.config=r.config||{};var h=i.dataResolverWatchers.getDynamicAttributesDefs();if(i.setAttributes(dn(dn(dn({},(0,we.result)(i,"defaults").attributes||{}),i.get("attributes")||{}),h)),i.ccid=t.createId(i,r),i.preInit(),i.initClasses(),i.initComponents(),i.initTraits(),i.initToolbar(),i.initScriptProps(),i.listenTo(i,"change:script",i.scriptUpdated),i.listenTo(i,"change:tagName",i.tagUpdated),i.listenTo(i,"change:attributes",i.attrUpdated),i.listenTo(i,"change:attributes:id",i._idUpdated),i.on("change:toolbar",i.__emitUpdateTlb),i.on("change",i.__onChange),i.on(uS,i.__propToParent),i.set("status",""),i.views=[],["classes","traits","components"].forEach(function(b){var _="add remove reset ".concat(b!=="components"?"change":"");i.listenTo(i.get(b),_.trim(),function(){for(var S=[],T=0;T<arguments.length;T++)S[T]=arguments[T];return i.emitUpdate.apply(i,Al([b],S,!1))})}),!r.temporary){var d=o&&o.Css,m=i.attributes,g=m.styles,x=m.type;g&&d&&d.addCollection(g,{avoidUpdateStyle:!0},{group:"cmp:".concat(x)}),i.__postAdd(),i.init(),Cc(i)&&Iv(i),o==null||o.trigger(Tn.I.create,i,r)}return i}return Object.defineProperty(t.prototype,"defaults",{get:function(){var e;return e={tagName:"div",type:"",name:"",removable:!0,draggable:!0,droppable:!0,badgable:!0,stylable:!0,"stylable-require":"","style-signature":"",unstylable:"",highlightable:!0,copyable:!0,resizable:!1,editable:!1,layerable:!0,selectable:!0,hoverable:!0,void:!1,state:"",status:"",content:"",icon:"",style:"",styles:"",classes:"",script:"","script-props":"","script-export":"",attributes:{},traits:["id","title"],propagate:"",dmode:"",toolbar:null,delegate:null},e[$a]=0,e[ba]=0,e[Ph]=0,e._undo=!0,e._undoexc=["status","open"],e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.get("tagName")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"classes",{get:function(){return this.get("classes")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"traits",{get:function(){return this.get("traits")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"content",{get:function(){var e;return(e=this.get("content"))!==null&&e!==void 0?e:""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"toolbar",{get:function(){return this.get("toolbar")||[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resizable",{get:function(){return this.get("resizable")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"delegate",{get:function(){return this.get("delegate")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locked",{get:function(){return this.get("locked")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"frame",{get:function(){return this.opt.frame},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"page",{get:function(){var e;return(e=this.frame)===null||e===void 0?void 0:e.getPage()},enumerable:!1,configurable:!0}),t.prototype.getType=function(){return this.get("type")||"default"},t.prototype.preInit=function(){},t.prototype.init=function(){},t.prototype.updated=function(e,r,i){},t.prototype.removed=function(){},t.prototype.set=function(e,r,i){var o,a,s={skipWatcherUpdates:!1,fromDataSource:!1};typeof e=="object"?(a=e,s=r||s):typeof e=="string"?(a=(o={},o[e]=r,o),s=i||s):(a={},s=i||s),this.dataResolverWatchers=this.dataResolverWatchers||s.dataResolverWatchers;var l=this.dataResolverWatchers.addProps(a,s);return n.prototype.set.call(this,l,s)},t.prototype.onCollectionsStateMapUpdate=function(e){this.collectionsStateMap=e,this.dataResolverWatchers.onCollectionsStateMapUpdate();var r=this.components();r.forEach(function(i){return i.onCollectionsStateMapUpdate(e)})},t.prototype.syncComponentsCollectionState=function(){this.stopListening(this.components(),"add remove reset",this.syncOnComponentChange),this.listenTo(this.components(),"add remove reset",this.syncOnComponentChange),this.components().forEach(function(e){return e.syncComponentsCollectionState()})},t.prototype.stopSyncComponentCollectionState=function(){this.stopListening(this.components(),"add remove reset",this.syncOnComponentChange),this.collectionsStateMap={},this.components().forEach(function(e){return e.stopSyncComponentCollectionState()})},t.prototype.syncOnComponentChange=function(e,r,i){var o=this;if(!(!this.collectionsStateMap||!Object.keys(this.collectionsStateMap).length)){var a=i||r||{};if(i)if(a.add){var l=e;l.syncComponentsCollectionState(),l.onCollectionsStateMapUpdate(this.collectionsStateMap)}else{var c=e;c.stopSyncComponentCollectionState()}else{var s=a.previousModels||[];s.forEach(function(u){return u.stopSyncComponentCollectionState()}),this.components().forEach(function(u){u.syncComponentsCollectionState(),u.onCollectionsStateMapUpdate(o.collectionsStateMap)})}}},t.prototype.__postAdd=function(e){e===void 0&&(e={});var r=this.em,i=r==null?void 0:r.UndoManager,o=this.components();i&&!this.__hasUm&&(i.add(o),i.add(this.getSelectors()),this.__hasUm=!0),e.recursive&&o.map(function(a){return a.__postAdd(e)})},t.prototype.__postRemove=function(){var e=this.em,r=e==null?void 0:e.UndoManager;r&&(r.remove(this.components()),r.remove(this.getSelectors()),delete this.__hasUm)},t.prototype.__onChange=function(e,r){var i=this,o=this.changedAttributes()||{};(0,we.keys)(o).forEach(function(a){return i.emitUpdate(a)}),["status","open","toolbar","traits"].forEach(function(a){return delete o[a]}),(0,Et.isEmptyObj)(o)||(this.__changesUp(r),this.__propSelfToParent({component:this,changed:o,options:r}))},t.prototype.__onStyleChange=function(e){var r=this,i=this.em;if(i){var o=(0,we.keys)(e),a={style:e};this.emitWithEditor(Tn.I.styleUpdate,this,a),o.forEach(function(f){return r.emitWithEditor("".concat(Tn.I.styleUpdateProperty).concat(f),r,a)});var s=this.collectionsStateMap,l=Object.keys(s);if(l.length){var c=l.every(function(f){return s[f].currentIndex===s[f].startIndex});if(c){var u=nu(this);u.forEach(function(f){var h=f.collectionsStateMap,d=Object.keys(h),m=d.every(function(g){return l.includes(g)});m&&f.addStyle(e)})}}}},t.prototype.__changesUp=function(e){var r=this,i=r.em,o=r.frame;[o,i].forEach(function(a){return a&&a.changesUp(e)})},t.prototype.__propSelfToParent=function(e){this.trigger(e0,e),this.__propToParent(e)},t.prototype.__propToParent=function(e){var r=this.parent();r&&r.trigger(uS,e)},t.prototype.__emitUpdateTlb=function(){this.emitUpdate("toolbar")},t.prototype.__getAllById=function(){var e=this.em;return e?e.Components.allById():{}},t.prototype.__upSymbProps=function(e,r){r===void 0&&(r={}),U5e(this,r)},t.prototype.__upSymbCls=function(e,r,i){i===void 0&&(i={}),W5e(this,i)},t.prototype.__upSymbComps=function(e,r,i){KM(this,e,r,i)},t.prototype.__onDestroy=function(){},t.prototype.is=function(e){return this.get("type")==e},t.prototype.props=function(){return this.attributes},t.prototype.index=function(){var e=this.collection;return e?e.indexOf(this):0},t.prototype.setDragMode=function(e){return this.set("dmode",e)},t.prototype.getDragMode=function(){return this.get("dmode")||""},t.prototype.setSymbolOverride=function(e,r){var i,o;r===void 0&&(r={}),this.set((i={},i[Ph]=(o=(0,we.isString)(e)?[e]:e)!==null&&o!==void 0?o:0,i),r)},t.prototype.getSymbolOverride=function(){return this.get(Ph)},t.prototype.find=function(e){var r,i=[],o=(r=this.view)===null||r===void 0?void 0:r.$el.find(e);return o==null||o.each(function(a){var s=o.eq(a),l=s.data("model");l&&i.push(l)}),i},t.prototype.findType=function(e){var r=[],i=function(o){return o.forEach(function(a){a.is(e)&&r.push(a),i(a.components())})};return i(this.components()),r},t.prototype.findFirstType=function(e){return this.findType(e).at(0)},t.prototype.closest=function(e){var r,i=(r=this.view)===null||r===void 0?void 0:r.$el.closest(e);return i!=null&&i.length?i.data("model"):void 0},t.prototype.closestType=function(e){for(var r=this.parent();r&&!r.is(e);)r=r.parent();return r},t.prototype.contains=function(e){var r=!1;if(!e)return r;var i=function(o){!r&&o.forEach(function(a){a===e&&(r=!0),!r&&i(a.components())})};return i(this.components()),r},t.prototype.tagUpdated=function(){this.trigger("rerender")},t.prototype.replaceWith=function(e,r){r===void 0&&(r={});var i=this.collection,o=i.indexOf(this);i.remove(this);var a=i.add(e,dn(dn({},r),{at:o}));return(0,we.isArray)(a)?a:[a]},t.prototype.attrUpdated=function(e,r,i){var o=this;i===void 0&&(i={});var a=this.get("attributes"),s=a.class;s&&this.setClass(s),delete a.class;var l=a.style;l&&this.setStyle(l,i),delete a.style;var c=dn({},this.previous("attributes")),u=(0,Et.shallowDiff)(c,this.get("attributes"));(0,we.keys)(u).forEach(function(f){var h,d="attributes:".concat(f);o.trigger("change:".concat(d),o,u[f],i),(h=o.em)===null||h===void 0||h.trigger("".concat(e0,":").concat(d),o,u[f],i)})},t.prototype.setAttributes=function(e,r){return r===void 0&&(r={skipWatcherUpdates:!1,fromDataSource:!1}),this.set("attributes",dn({},e),r),this},t.prototype.addAttributes=function(e,r){r===void 0&&(r={});var i=this.dataResolverWatchers.getDynamicAttributesDefs();return this.setAttributes(dn(dn(dn({},this.getAttributes({noClass:!0,noStyle:!0})),i),e),r)},t.prototype.removeAttributes=function(e,r){e===void 0&&(e=[]),r===void 0&&(r={});var i=Array.isArray(e)?e:[e];this.dataResolverWatchers.removeAttributes(i);var o=this.getAttributes();return i.map(function(a){return delete o[a]}),this.setAttributes(o,r)},t.prototype.getStyle=function(e,r){e===void 0&&(e={}),r===void 0&&(r={});var i=this.em,o=(0,we.isString)(e)?e:"",a=o?r:e;if(Uv(i)&&!a.inline){var s=i.get("state"),l=i.Css,c=l.getIdRule(this.getId(),dn({state:s},a));return this.rule=c,c?c.getStyle(o):{}}return n.prototype.getStyle.call(this,o)},t.prototype.setStyle=function(e,r){var i=this;e===void 0&&(e={}),r===void 0&&(r={});var o=this,a=o.opt,s=o.em;if(Uv(s)&&!a.temporary&&!r.inline){var l=this.get("style")||{};e=(0,we.isString)(e)?this.parseStyle(e):e,e=dn(dn({},e),l);var c=s.get("state"),u=s.Css,f=this.getStyle(r),h=dn(dn({},f),e);this.rule=u.setIdRule(this.getId(),h,dn({state:c},r));var d=(0,Et.shallowDiff)(f,e);this.set("style","",{silent:!0}),(0,we.keys)(d).forEach(function(m){return i.trigger("change:style:".concat(m))})}else e=n.prototype.setStyle.apply(this,arguments);return a.temporary||this.__onStyleChange(r.addStyle||e),e},t.prototype.getAttributes=function(e){e===void 0&&(e={});var r=this.em,i=[],o=dn({},this.get("attributes")),a=r==null?void 0:r.Selectors,s=this.getId();if(e.noClass?delete o.class:(this.classes.forEach(function(u){return i.push((0,we.isString)(u)?u:u.getName())}),i.length&&(o.class=i.join(" "))),!e.noStyle){var l=this.getStyle({inline:!0});(0,Et.isObject)(l)&&!(0,Et.isEmptyObj)(l)&&(o.style=this.styleToString({inline:!0}))}if(!(0,we.has)(o,"id")){var c=!1;(Uv(r)||!(0,we.isEmpty)(this.getStyle()))&&(c=!!(a!=null&&a.get(s,a.Selector.TYPE_ID))),(Cc(this)||this.get("script-export")||this.get("script"))&&(c=!0),c&&(o.id=s)}return o},t.prototype.addClass=function(e){var r=this.em.Selectors.addClass(e);return this.classes.add(r)},t.prototype.setClass=function(e){return this.classes.reset(),this.addClass(e)},t.prototype.removeClass=function(e){var r=[];e=(0,we.isArray)(e)?e:[e];var i=this.classes,o=wa.TYPE_CLASS;return e.forEach(function(a){var s=a.split(" ");s.forEach(function(l){var c=i.where({name:l,type:o})[0];c&&r.push(i.remove(c))})}),r},t.prototype.getClasses=function(){var e=this.getAttributes(),r=e.class;return r?r.split(" "):[]},t.prototype.initClasses=function(e,r,i){i===void 0&&(i={});var o="change:classes",a=this.get("attributes")||{},s=a.class,l=wwe(a,["class"]),c=[this,o,this.initClasses],u=this.get("classes")||s||[],f=(0,we.isString)(u)?u.split(" "):u;this.stopListening.apply(this,c);var h=this.normalizeClasses(f),d=new zu([]);return this.set("classes",d,i),d.add(h),d.on("add remove reset",this.__upSymbCls),s&&h.length&&this.set("attributes",l),this.listenTo.apply(this,c),this},t.prototype.initComponents=function(){var e="change:components",r=[this,e,this.initComponents];this.stopListening.apply(this,r);var i=new v1([],this.opt);i.parent=this;var o=this.get("components"),a=!this.opt.avoidChildren;return this.set("components",i),a&&o&&i.add((0,we.isFunction)(o)?o(this):o,this.opt),i.on("add remove reset",this.__upSymbComps),this.listenTo.apply(this,r),this},t.prototype.initTraits=function(e){var r=this,i=this.em,o="change:traits";this.off(o,this.initTraits),this.__loadTraits();var a=dn({},this.get("attributes")),s=this.traits;s.each(function(c){var u=c.getName(),f=c.getInitValue();c.changeProp?(0,we.isUndefined)(r.get(u))&&r.set(u,f):u&&f&&(a[u]=f)});var l=this.dataResolverWatchers.getDynamicAttributesDefs();return s.length&&this.setAttributes(dn(dn({},a),l)),this.on(o,this.initTraits),e&&i&&i.trigger("component:toggled"),this},t.prototype.initScriptProps=function(){if(!this.opt.temporary){var e="script-props",r=["change:".concat(e),this.initScriptProps];this.off.apply(this,r);var i=this.previous(e)||[],o=this.get(e)||[],a=i.map(function(l){return"change:".concat(l)}).join(" "),s=o.map(function(l){return"change:".concat(l)}).join(" ");a&&this.off(a,this.__scriptPropsChange),s&&this.on(s,this.__scriptPropsChange),this.on.apply(this,r)}},t.prototype.__scriptPropsChange=function(e,r,i){i===void 0&&(i={}),!i.avoidStore&&this.trigger("rerender")},t.prototype.append=function(e,r){r===void 0&&(r={});var i=(0,we.isArray)(e)?Al([],e,!0):[e],o=i.map(function(s){return(0,we.isString)(s)||s.collection&&s.collection.remove(s,{temporary:!0}),s}),a=this.components().add(o,dn({action:Tn.t.add},r));return a},t.prototype.components=function(e,r){r===void 0&&(r={});var i=this.get("components");return(0,we.isUndefined)(e)?i:(i.reset(void 0,r),e?this.append(e,r):[])},t.prototype.getChildAt=function(e){return this.components().at(e||0)||void 0},t.prototype.getLastChild=function(){var e=this.components();return e.at(e.length-1)||null},t.prototype.empty=function(e){return e===void 0&&(e={}),this.components().reset(void 0,e),this},t.prototype.parent=function(e){e===void 0&&(e={});var r=this.collection||e.prev&&this.prevColl;return r?r.parent:void 0},t.prototype.parents=function(){var e=this.parent();return e?[e].concat(e.parents()):[]},t.prototype.scriptUpdated=function(){this.set("scriptUpdated",1)},t.prototype.initToolbar=function(){var e=this.em,r=this,i=e&&e.getConfig().stylePrefix||"";if(!r.get("toolbar")&&e){var o=[];r.collection&&o.push({label:e.getIcon("arrowUp"),command:function(a){return a.runCommand("core:component-exit",{force:1})}}),r.get("draggable")&&o.push({attributes:{class:"".concat(i,"no-touch-actions"),draggable:!0},label:e.getIcon("move"),command:"tlb-move"}),r.get("copyable")&&o.push({label:e.getIcon("copy"),command:"tlb-clone"}),r.get("removable")&&o.push({label:e.getIcon("delete"),command:"tlb-delete"}),r.set("toolbar",o)}},t.prototype.__loadTraits=function(e,r){r===void 0&&(r={});var i=e||this.traits;if(!(i instanceof Cy)){i=(0,we.isFunction)(i)?i(this):i;var o=new Cy([],this.opt);o.setTarget(this),i.length&&o.add(i),this.set({traits:o},r)}return this},t.prototype.getTraits=function(){return this.__loadTraits(),Al([],this.traits.models,!0)},t.prototype.setTraits=function(e){var r=(0,we.isArray)(e)?e:[e];return this.set({traits:r}),this.getTraits()},t.prototype.getTrait=function(e){return this.getTraits().filter(function(r){return r.get("id")===e||r.get("name")===e})[0]||null},t.prototype.updateTrait=function(e,r){var i,o=this.getTrait(e);return o&&o.set(r),(i=this.em)===null||i===void 0||i.trigger("component:toggled"),this},t.prototype.getTraitIndex=function(e){var r=this.getTrait(e);return r?this.traits.indexOf(r):-1},t.prototype.removeTrait=function(e){var r=this,i,o=(0,we.isArray)(e)?e:[e],a=o.map(function(c){return r.getTrait(c)}),s=this.traits,l=a.length?s.remove(a):[];return(i=this.em)===null||i===void 0||i.trigger("component:toggled"),(0,we.isArray)(l)?l:[l]},t.prototype.addTrait=function(e,r){var i;r===void 0&&(r={}),this.__loadTraits();var o=this.traits.add(e,r);return(i=this.em)===null||i===void 0||i.trigger("component:toggled"),(0,we.isArray)(o)?o:[o]},t.prototype.normalizeClasses=function(e){var r=[],i=this.em,o=i==null?void 0:i.Selectors;return o?e.models?Al([],e.models,!0):(e.forEach(function(a){return r.push(o.add(a))}),r):[]},t.prototype.clone=function(e){var r;e===void 0&&(e={});var i=this.em,o=dn(dn({},this.attributes),this.dataResolverWatchers.getDynamicPropsDefs()),a=dn({},this.opt),s=this.getId(),l=i==null?void 0:i.Css;o.attributes=dn({},o.attributes?this.dataResolverWatchers.getAttributesDefsOrValues(o.attributes):void 0),o.components=[],o.classes=[],o.traits=[],Pd(this)&&(e.symbol=!0),this.get("components").each(function(x,b){o.components[b]=x.clone(dn(dn({},e),{_inner:1}))}),this.get("traits").each(function(x,b){o.traits[b]=x.clone()}),this.get("classes").each(function(x,b){o.classes[b]=x.get("name")}),o.status="",a.collection=null,a.forCloning=!0;var c=new this.constructor(o,a),u="#".concat(c.getId()),f=l?l.getRules("#".concat(s)):[];f.forEach(function(x){var b=x.clone();b.set("selectors",[u]),l.getAll().add(b)}),c.set(ba,0);var h=el(this),d=Xa(this);if(!e.symbol&&(h||d))c.set($a,0),c.set(ba,0);else if(h){var m=(r=Xa(h))!==null&&r!==void 0?r:[];h.set(ba,Al(Al([],m,!0),[c],!1)),Iv(c)}else e.symbol&&(od(this)?(this.set(ba,Al(Al([],d,!0),[c],!1)),c.set($a,this),Iv(c)):e.symbolInv?(this.set(ba,[c]),c.set($a,this),[this,c].map(function(x){return Iv(x)})):(c.set(ba,[this]),[this,c].map(function(x){return Iv(x)}),this.set($a,c)));var g="component:clone";return i&&i.trigger(g,c),this.trigger(g,c),c},t.prototype.getName=function(e){e===void 0&&(e={});var r=this.em,i=this.attributes,o=i.type,a=i.tagName,s=i.name,l=o||a,c=o?"":a,u="domComponents.names.",f=s&&(r==null?void 0:r.t("".concat(u).concat(s))),h=c&&(r==null?void 0:r.t("".concat(u).concat(c))),d=r&&(r.t("".concat(u).concat(o))||r.t("".concat(u).concat(a))),m=this.get("custom-name");return(e.noCustom?"":m)||f||s||h||(0,Et.capitalize)(c)||d||(0,Et.capitalize)(l)},t.prototype.setName=function(e,r){r===void 0&&(r={}),this.set("custom-name",e,r)},t.prototype.getIcon=function(){var e=this.get("icon");return e?e+" ":""},t.prototype.toHTML=function(e){e===void 0&&(e={});var r=e.tag,i=r||this.get("tagName");delete e.tag;var o=this.__attrToString(e),a=o?" ".concat(o):"",s=this.getInnerHTML(e),l=!s&&this.get("void"),c="<".concat(i).concat(a).concat(l?"/":"",">").concat(s);return!l&&(c+="</".concat(i,">")),c},t.prototype.getInnerHTML=function(e){return this.__innerHTML(e)},t.prototype.__innerHTML=function(e){e===void 0&&(e={});var r=this.components();return r.length?r.map(function(i){return i.toHTML(e)}).join(""):this.content},t.prototype.__attrToString=function(e){e===void 0&&(e={});var r=[],i=e.attributes,o=this.getAttrToHTML(e);if(i&&((0,we.isFunction)(i)?o=i(this,o)||{}:(0,Et.isObject)(i)&&(o=i)),e.withProps){var a=this.toJSON();(0,we.forEach)(a,function(f,h){var d=["classes","attributes","components"];h[0]!=="_"&&d.indexOf(h)<0&&(o["data-gjs-".concat(h)]=(0,we.isArray)(f)||(0,Et.isObject)(f)?JSON.stringify(f):(0,we.isBoolean)(f)?"".concat(f):f)})}for(var s in o){var l=o[s];if(!(0,we.isUndefined)(l)&&l!==null)if((0,we.isBoolean)(l))l&&r.push(s);else{var c="";if(e.altQuoteAttr&&(0,we.isString)(l)&&l.indexOf('"')>=0)c="'".concat(l.replace(/'/g,"&apos;"),"'");else{var u=(0,we.isString)(l)?l.replace(/"/g,"&quot;"):l;c='"'.concat(u,'"')}r.push("".concat(s,"=").concat(c))}}return r.join(" ")},t.prototype.getAttrToHTML=function(e){var r=this.getAttributes();return Uv(this.em)&&(e==null?void 0:e.keepInlineStyle)!==!0&&delete r.style,r},t.prototype.toJSON=function(e){e===void 0&&(e={});var r=vy.Model.prototype.toJSON.call(this,e);if(r=dn(dn({},r),this.dataResolverWatchers.getDynamicPropsDefs()),r.attributes=this.dataResolverWatchers.getAttributesDefsOrValues(this.getAttributes()),delete r.dataResolverWatchers,delete r.attributes.class,delete r.toolbar,delete r.traits,delete r.status,delete r.open,delete r._undoexc,delete r.delegate,this.collectionsStateMap&&Object.getOwnPropertyNames(this.collectionsStateMap).length>0&&(delete r[$a],delete r[Ph],delete r[ba],delete r.attributes.id),!e.fromUndo){var i=r[$a],o=r[ba];o&&(0,we.isArray)(o)&&(r[ba]=o.filter(function(a){return a}).map(function(a){return a.getId?a.getId():a})),i&&!(0,we.isString)(i)&&(r[$a]=i.getId())}return this.em.getConfig().avoidDefaults&&this.getChangedProps(r),r},t.prototype.getChangedProps=function(e){var r=e||vy.Model.prototype.toJSON.apply(this),i=(0,we.result)(this,"defaults");return(0,we.forEach)(i,function(o,a){["type"].indexOf(a)===-1&&r[a]===o&&delete r[a]}),(0,we.isEmpty)(r.type)&&delete r.type,(0,we.forEach)(["attributes","style"],function(o){(0,we.isEmpty)(i[o])&&(0,we.isEmpty)(r[o])&&delete r[o]}),(0,we.forEach)(["classes","components"],function(o){(!r[o]||(0,we.isEmpty)(i[o])&&!r[o].length)&&delete r[o]}),r},t.prototype.getId=function(){var e=this.get("attributes")||{},r=Z5e(this),i=r.shouldSync,o=r.itemId;return i&&(e.id=o),e.id||this.ccid||this.cid},t.prototype.setId=function(e,r){return this.addAttributes({id:e},r),this},t.prototype.getEl=function(e){var r=this.getView(e);return r&&r.el},t.prototype.getView=function(e){var r=this,i=r.view,o=r.views,a=r.em,s=e||(a==null?void 0:a.getCurrentFrameModel());return s&&(i=o.filter(function(l){return l.frameView===s.view})[0]),i},t.prototype.getCurrentView=function(){var e=this.em.getCurrentFrame(),r=e==null?void 0:e.model;return this.getView(r)},t.prototype.__getScriptProps=function(){var e=this.props(),r=this.get("script-props")||[];return r.reduce(function(i,o){return i[o]=e[o],i},{})},t.prototype.getScriptString=function(e){var r=this,i=e||this.get("script")||"";if(!i)return i;if(this.get("script-props"))i=i.toString().trim();else{if((0,we.isFunction)(i)){var o=i.toString().trim();o=o.slice(o.indexOf("{")+1,o.lastIndexOf("}")),i=o.trim()}var a=this.em.getConfig(),s=v6(a.tagVarStart||"{[ "),l=v6(a.tagVarEnd||" ]}"),c=new RegExp("".concat(s,"([\\w\\d-]*)").concat(l),"g");i=i.replace(c,function(u,f){r.scriptUpdated();var h=r.attributes[f]||"";return(0,we.isArray)(h)||typeof h=="object"?JSON.stringify(h):h})}return i},t.prototype.emitUpdate=function(e){for(var r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var a=this.em,s=e0+(e?":".concat(e):""),l=e&&this.get(e);e&&this.updated.apply(this,Al([e,l,e&&this.previous(e)],i,!1)),this.trigger.apply(this,Al([s],i,!1)),a&&a.trigger.apply(a,Al([s,this],i,!1)),["components","classes"].indexOf(e)>=0&&this.__propSelfToParent({component:this,changed:(r={},r[e]=l,r),options:i[2]||i[1]||{}})},t.prototype.emitWithEditor=function(e,r,i){[this.em,this].forEach(function(o){return o==null?void 0:o.trigger(e,r,i)})},t.prototype.onAll=function(e){return(0,we.isFunction)(e)&&(e(this),this.components().forEach(function(r){return r.onAll(e)})),this},t.prototype.forEachChild=function(e){(0,we.isFunction)(e)&&this.components().forEach(function(r){e(r),r.forEachChild(e)})},t.prototype.remove=function(e){var r=this;e===void 0&&(e={});var i=this.em,o=this.collection,a=function(){o&&o.remove(r,dn({action:Tn.t.remove},e)),o||(r.components("",e),r.components().removeChildren(r,void 0,e))},s=dn({},e);return[this,i].map(function(l){return l.trigger(Tn.I.removeBefore,r,a,s)}),!s.abort&&a(),this},t.prototype.destroy=function(e){return this.stopListening(this.components(),"add remove reset",this.syncOnComponentChange),this.dataResolverWatchers.destroy(),this.__onDestroy(),n.prototype.destroy.call(this,e)},t.prototype.move=function(e,r){if(r===void 0&&(r={}),e){var i=r.at,o=this.index(),a=e===this.parent(),s=o===i||o===i-1;if(!a||!s){a&&i&&i>o&&(r.at=i-1);var l=Tn.t.move;this.remove({action:l,temporary:1}),e.append(this,dn({action:l},r)),this.emitUpdate()}}return this},t.prototype.isInstanceOf=function(e){var r,i,o=(i=(r=this.em)===null||r===void 0?void 0:r.Components.getType(e))===null||i===void 0?void 0:i.model;if(!o)return!1;var a=this.constructor.typeExtends;return this instanceof o||a.has(e)},t.prototype.isChildOf=function(e){for(var r=(0,we.isString)(e),i=this.parent();i;){if(r){if(i.isInstanceOf(e))return!0}else if(i===e)return!0;i=i.parent()}return!1},t.prototype.resetId=function(e){var r=this.em,i=this.getId();if(!i)return this;var o=t.createId(this);this.setId(o);var a=r==null?void 0:r.Css.getIdRule(i),s=a==null?void 0:a.get("selectors").at(0);return s==null||s.set("name",o),this},t.prototype._getStyleRule=function(e){var r=e===void 0?{}:e,i=r.id,o=this.em,a=i||this.getId();return o==null?void 0:o.Css.getIdRule(a)},t.prototype._getStyleSelector=function(e){var r=this._getStyleRule(e);return r==null?void 0:r.get("selectors").at(0)},t.prototype._idUpdated=function(e,r,i){if(i===void 0&&(i={}),!i.idUpdate){var o=this.ccid,a=(this.get("attributes")||{}).id,s=(this.previous("attributes")||{}).id||o,l=t.getList(this);if(l[a]||!a&&s)return this.setId(s,{idUpdate:!0});delete l[s],l[a]=this,this.ccid=a;var c=this._getStyleSelector({id:s});c&&c.set({name:a,label:a})}},t.getDefaults=function(){return(0,we.result)(this.prototype,"defaults")},t.isComponent=function(e,r){return{tagName:(0,Et.toLowerCase)(e.tagName)}},t.ensureInList=function(e){var r=t.getList(e),i=e.getId(),o=r[i];if(!o)r[i]=e;else if(o!==e){var a=t.getIncrementId(i,r);e.setId(a),r[a]=e}e.components().forEach(function(s){return t.ensureInList(s)})},t.createId=function(e,r){r===void 0&&(r={});var i=t.getList(e),o=r.idMap,a=o===void 0?{}:o,s=e.get("attributes").id,l;return s?(l=t.getIncrementId(s,i,r),e.setId(l),s!==l&&(a[s]=l)):l=t.getNewId(i),i[l]=e,l},t.getNewId=function(e){for(var r=Object.keys(e).length,i=r.toString().length+2,o=(Math.random()+1.1).toString(36).slice(-i),a="i".concat(o);e[a];)a=t.getNewId(e);return a},t.getIncrementId=function(e,r,i){i===void 0&&(i={});var o=i.keepIds,a=o===void 0?[]:o,s=1,l=e;if(a.indexOf(e)<0)for(;r[l];)s++,l="".concat(e,"-").concat(s);return l},t.getList=function(e){var r,i=e.em,o=i==null?void 0:i.Components;return(r=o==null?void 0:o.componentsById)!==null&&r!==void 0?r:{}},t.checkId=function(e,r,i,o){r===void 0&&(r=[]),i===void 0&&(i={}),o===void 0&&(o={});var a=(0,we.isArray)(e)?e:[e],s=o.keepIds,l=s===void 0?[]:s,c=o.idMap,u=c===void 0?{}:c;a.forEach(function(f){f.attributes;var h=f.attributes,d=h===void 0?{}:h,m=f.components,g=d.id;if(g&&i[g]&&l.indexOf(g)<0){var x=t.getIncrementId(g,i);u[g]=x,d.id=x,(0,we.isArray)(r)&&r.forEach(function(b){var _=b.selectors;_.forEach(function(S,T){S==="#".concat(g)&&(_[T]="#".concat(x))})})}m&&t.checkId(m,r,i,o)})},t.typeExtends=new Set,t}(YM);const Mi=_we;var Swe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Oy=function(){return Oy=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Oy.apply(this,arguments)},Qh="head",Twe=["title","style","base","link","meta","script","noscript"],Cwe=function(n){Swe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"defaults",{get:function(){return Oy(Oy({},n.prototype.defaults),{type:Qh,tagName:Qh,draggable:!1,highlightable:!1,droppable:function(e){var r=e.tagName;return!r||Twe.includes((0,Et.toLowerCase)(r))}})},enumerable:!1,configurable:!0}),t.isComponent=function(e){return(0,Et.toLowerCase)(e.tagName)===Qh},t}(Mi);const Ewe=Cwe;var Owe=function(){function n(t,e){t===void 0&&(t=50);var r;this.dragging=!1,this.lastMaxHeight=0,this.zoom=1,this.rectIsInScrollIframe=!1,this.autoscrollLimit=t,this.lastMaxHeight=(r=e==null?void 0:e.lastMaxHeight)!==null&&r!==void 0?r:0,this.onScroll=e==null?void 0:e.onScroll,this.rectIsInScrollIframe=!!(e!=null&&e.rectIsInScrollIframe),(0,we.bindAll)(this,"start","autoscroll","updateClientY","stop")}return n.prototype.start=function(t,e,r){var i=this;this.eventEl=t,this.scrollEl=e,this.lastMaxHeight=(r==null?void 0:r.lastMaxHeight)||Number.POSITIVE_INFINITY,this.zoom=(r==null?void 0:r.zoom)||1,setTimeout(function(){i.toggleAutoscrollFx(!0),requestAnimationFrame(i.autoscroll)},0)},n.prototype.autoscroll=function(){var t,e,r=this.scrollEl;if(this.dragging&&r){var i=(t=this.lastClientY)!==null&&t!==void 0?t:0,o=this.autoscrollLimit,a=this.getEventElHeight(),s=a-o,l=0;i<o&&(l+=i-o),i>s&&(l+=i-s);var c=this.getElScrollTop(r);this.lastClientY!==void 0&&l!==0&&this.lastMaxHeight-l>c&&(r.scrollBy({top:l,left:0,behavior:"auto"}),(e=this.onScroll)===null||e===void 0||e.call(this)),requestAnimationFrame(this.autoscroll)}},n.prototype.getEventElHeight=function(){var t=this.eventEl;if(!t)return 0;var e=t.getBoundingClientRect();return e.height},n.prototype.updateClientY=function(t){var e=this.scrollEl;t.preventDefault();var r=this.rectIsInScrollIframe?0:this.getElScrollTop(e);this.lastClientY=(0,Kt.G2)(t).clientY*this.zoom-r},n.prototype.getElScrollTop=function(t){return(t instanceof HTMLElement?t.scrollTop:t==null?void 0:t.scrollY)||0},n.prototype.toggleAutoscrollFx=function(t){this.dragging=t;var e=this.eventEl;if(e){var r=t?"on":"off",i={on:Kt.on,off:Kt.AU};i[r](e,"mousemove dragover",this.updateClientY),i[r](e,"mouseup",this.stop)}},n.prototype.stop=function(){this.toggleAutoscrollFx(!1)},n}();const nL=Owe;var kd=gn(8433),Awe=gn(1447),Nwe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Pwe=function(n){Nwe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.canMove=function(e,r){var i=this,o=this.getRealIndex(r),a=e._dragSource,s=a.model,l=a.content,c=a.dragDef,u=!s||!this.isSourceSameSymbol(s),f=((0,we.isFunction)(l)?c:l)||e.model;return Array.isArray(f)?u&&f.every(function(h,d){return i.canMoveSingleContent(h,o+d)}):u&&this.canMoveSingleContent(f,o)},t.prototype.canMoveSingleContent=function(e,r){return this.model.em.Components.canMove(this.model,e,r).result},t.prototype.addChildAt=function(e,r){var i=e._dragSource,o=i.content,a=this.isTextNode()&&e.isTextable(),s=(0,we.isFunction)(o)?o():o;return Array.isArray(s)?this.addMultipleChildren(s,r,a):this.addSingleChild(s,r,a)},t.prototype.addSingleChild=function(e,r,i){var o,a,s,l,c;return i?c=(l=(s=(a=(o=this.model)===null||o===void 0?void 0:o.getView)===null||a===void 0?void 0:a.call(o))===null||s===void 0?void 0:s.insertComponent)===null||l===void 0?void 0:l.call(s,e,{action:"add-component"}):c=this.model.components().add(e,{at:this.getRealIndex(r),action:"add-component"}),new this.constructor(c)},t.prototype.addMultipleChildren=function(e,r,i){var o=this,a;return e.forEach(function(s,l){a=o.addSingleChild(s,r+l,i)}),a},t.prototype.isSourceSameSymbol=function(e){if(Cc(this.model)){var r=h1(this.model),i=od(r)?r:el(r);if(i===e)return!0}return!1},Object.defineProperty(t.prototype,"content",{set:function(e){this._dragSource.content=e},enumerable:!1,configurable:!0}),t}(Awe.A);const iL=Pwe;var fS=function(){return fS=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},fS.apply(this,arguments)},jwe=function(){function n(t,e){var r=this;this.em=t,this.canvas=t.Canvas;var i=e||this.canvas.getFrames().map(function(a){return a.getComponent().getEl()}),o=Array.isArray(i)?i:[i];this.el=o[0],this.counter=0,(0,we.bindAll)(this,"handleDragEnter","handleDragOver","handleDrop","handleDragLeave","handleDragEnd"),o.forEach(function(a){return r.toggleEffects(a,!0)})}return n.prototype.toggleEffects=function(t,e){var r={on:Kt.on,off:Kt.AU},i=e?"on":"off";r[i](t,"dragenter",this.handleDragEnter),r[i](t,"dragover",this.handleDragOver),r[i](t,"drop",this.handleDrop),r[i](t,"dragleave",this.handleDragLeave)},n.prototype.__customTglEff=function(t){var e,r=t?Kt.on:Kt.AU,i=this.el.ownerDocument,o=(e=i.defaultView)===null||e===void 0?void 0:e.frameElement,a=function(s){return{legacyOnStartSort:function(){(0,Kt.on)(o,"pointermove",s.onMove)},legacyOnEnd:function(){(0,Kt.AU)(o,"pointermove",s.onMove)},customTarget:function(l){var c=l.event;return i.elementFromPoint(c.clientX,c.clientY)}}};this.getSorterOptions=t?a:void 0,r(o,"pointerenter",this.handleDragEnter),r(o,"pointermove",this.handleDragOver),r(document,"pointerup",this.handleDrop),r(o,"pointerout",this.handleDragLeave)},n.prototype.startCustom=function(){this.__customTglEff(!0)},n.prototype.endCustom=function(t){this.over?this.endDrop(t):this.__customTglEff(!1)},n.prototype.endDrop=function(t,e){var r=this,i=r.em,o=r.dragStop;this.counter=0,o&&o(t||!this.over),this.__customTglEff(!1),i.trigger("canvas:dragend",e)},n.prototype.handleDragLeave=function(t){this.updateCounter(-1,t)},n.prototype.updateCounter=function(t,e){this.counter+=t,this.counter===0&&this.endDrop(!0,e)},n.prototype.handleDragEnter=function(t){var e=this,r,i,o=this,a=o.em,s=o.canvas,l=t.dataTransfer,c=a.get("dragSource");if(!(!(c!=null&&c.content)&&!s.getConfig().allowExternalDrop)&&(this.updateCounter(1,t),!this.over)){this.over=!0;var u=a.Utils,f=(c==null?void 0:c.content)||"<br>",h;if(a.stopDefault(),a.inAbsoluteMode()){var d=a.Components.getWrapper(),m=d.append({})[0],g=a.Commands.run("core:component-drag",{event:t,guidesInfo:1,center:1,target:m,onEnd:function(w,N,A){var j=A.cancelled,R;if(!j&&f){R=d.append(f)[0];var L=s.getOffset(),M=m.getStyle(),I=M.top,D=M.left,V=M.position,F=(0,Kt.Xy)(w.target),G=parseInt("".concat(parseFloat(D)+F.x-L.left),10),W=parseInt("".concat(parseFloat(I)+F.y-L.top),10);R.addStyle({left:G+"px",top:W+"px",position:V})}e.handleDragEnd(R,l),m.remove()}});h=function(w){return g.stop(t,{cancel:w})},this.setAbsoluteDragContent=function(w){return f=w}}else{var x=new u.ComponentSorter({em:a,treeClass:iL,containerContext:{container:this.el,containerSel:"*",itemSel:"*",pfx:"gjs-",placeholderElement:s.getPlacerEl(),document:this.el.ownerDocument},dragBehavior:{dragDirection:kd.A.BothDirections,nested:!0},positionOptions:{windowMargin:1,canvasRelative:!0},eventHandlers:{legacyOnEndMove:this.handleDragEnd}}),b=(r=this.getSorterOptions)===null||r===void 0?void 0:r.call(this,x);b&&(x.eventHandlers.legacyOnStartSort=b.legacyOnStart,x.eventHandlers.legacyOnEnd=b.legacyOnEnd,x.containerContext.customTarget=b.customTarget);var _=a.Components.getShallowWrapper(),S=_==null?void 0:_.append(f,{temporary:!0})[0],T=S==null?void 0:S.getEl(),C=[{element:T,dragSource:fS({model:S},c)}];x.startSort(C),this.sorter=x,this.draggedNode=(i=x.sourceNodes)===null||i===void 0?void 0:i[0],h=function(w){w?x.cancelDrag():x.endDrag()}}this.dragStop=h,a.trigger("canvas:dragenter",l,f)}},n.prototype.handleDragEnd=function(t,e){var r=this.em;this.over=!1,t&&(r.set("dragResult",t),r.trigger("canvas:drop",e,t)),r.runDefault({preserveSelected:1})},n.prototype.handleDragOver=function(t){t.preventDefault(),this.em.trigger("canvas:dragover",t)},n.prototype.handleDrop=function(t){var e;t.preventDefault();var r=t.dataTransfer,i=this.getContentByData(r).content;this.draggedNode&&(this.draggedNode.content=i),(e=this.setAbsoluteDragContent)===null||e===void 0||e.call(this,i),this.endDrop(!i,t)},n.prototype.getContentByData=function(t){var e=this.em,r=t&&t.types,i=t&&t.files||[],o=e.get("dragSource"),a=t&&t.getData("text");if(i.length){a=[];for(var s=0;s<i.length;s++){var l=i[s],c=l.type.split("/")[0];c=="image"&&a.push({type:c,file:l,attributes:{alt:l.name}})}}else if(o!=null&&o.content)a=o.content;else if((0,we.indexOf)(r,"text/html")>=0)a=t&&t.getData("text/html").replace(/<\/?meta[^>]*>/g,"");else if((0,we.indexOf)(r,"text/uri-list")>=0)a={type:"link",attributes:{href:a},content:a};else if((0,we.indexOf)(r,"text/json")>=0){var u=t&&t.getData("text/json");u&&(a=JSON.parse(u))}else r.length===1&&r[0]==="text/plain"&&(a="<div>".concat(a,"</div>"));var f={content:a};return e.trigger("canvas:dragdata",t,f),f},n}();const kwe=jwe;var Mwe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Gs=function(){return Gs=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Gs.apply(this,arguments)},Lwe=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},Dwe=function(n){Mwe(t,n);function t(e,r){var i=n.call(this,{model:e})||this;i.dragging=!1,i.loaded=!1,i.lastMaxHeight=0,i.tools={},(0,we.bindAll)(i,"startAutoscroll","stopAutoscroll","_emitUpdate");var o=i.el;i.module._config=Gs(Gs({},i.config||{}),{frameView:i}),i.frameWrapView=r,i.showGlobalTools=(0,we.debounce)(i.showGlobalTools.bind(i),50);var a=i.getCanvasModel();return i.listenTo(e,"change:head",i.updateHead),i.listenTo(a,"change:styles",i.renderStyles),e.view=i,(0,Et.setViewEl)(o,i),i.autoScroller=new nL(i.config.autoscrollLimit,{rectIsInScrollIframe:!0,onScroll:function(){var s=i.getGlobalToolsEl();s.style.opacity="0",i.showGlobalTools(),i.em.Canvas.spots.refreshDbn()}}),i}return Object.defineProperty(t.prototype,"tagName",{get:function(){return"iframe"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){return{allowfullscreen:"allowfullscreen"}},enumerable:!1,configurable:!0}),t.prototype.getBoxRect=function(){var e=this,r=e.el,i=e.module,o=i.getCanvasView(),a=i.getCoords(),s=r.getBoundingClientRect(),l=o.getCanvasOffset(),c=o.getViewportDelta(),u=i.getZoomMultiplier(),f=(s.x-l.left-c.x-a.x)*u,h=(s.y-l.top-c.y-a.y)*u,d=s.width*u,m=s.height*u;return{x:f,y:h,width:d,height:m}},t.prototype.updateHead=function(){var e=this.model,r=this.getHead(),i=[],o=[],a=e.head,s=e.previous("head"),l=function(u){return u===void 0&&(u={}),Object.keys(u).sort().map(function(f){return"[".concat(f,'="').concat(u[f],'"]')}).join("")},c=function(u,f,h){u.forEach(function(d){var m=d.tag,g=d.attributes,x=f.some(function(b){return b.tag===m&&l(b.attributes)===l(g)});!x&&h.push(d)})};c(a,s,o),c(s,a,i),i.forEach(function(u){var f,h=r.querySelector("".concat(u.tag).concat(l(u.attributes)));(f=h==null?void 0:h.parentNode)===null||f===void 0||f.removeChild(h)}),(0,Kt.af)(r,o)},t.prototype.getEl=function(){return this.el},t.prototype.getCanvasModel=function(){var e;return(e=this===null||this===void 0?void 0:this.em.Canvas)===null||e===void 0?void 0:e.getModel()},t.prototype.getWindow=function(){return this.getEl().contentWindow},t.prototype.getDoc=function(){return this.getEl().contentDocument},t.prototype.getHead=function(){return this.getDoc().querySelector("head")},t.prototype.getBody=function(){return this.getDoc().querySelector("body")},t.prototype.getWrapper=function(){return this.getBody().querySelector("[data-gjs-type=wrapper]")},t.prototype.getJsContainer=function(){return this.jsContainer||(this.jsContainer=(0,Kt.a_)("div",{class:"".concat(this.ppfx,"js-cont")})),this.jsContainer},t.prototype.getToolsEl=function(){var e;return(e=this.frameWrapView)===null||e===void 0?void 0:e.elTools},t.prototype.getGlobalToolsEl=function(){return this.em.Canvas.getGlobalToolsEl()},t.prototype.getHighlighter=function(){return this._getTool("[data-hl]")},t.prototype.getBadgeEl=function(){return this._getTool("[data-badge]")},t.prototype.getOffsetViewerEl=function(){return this._getTool("[data-offset]")},t.prototype.getRect=function(){return this.rect||(this.rect=this.el.getBoundingClientRect()),this.rect},t.prototype.getOffsetRect=function(){var e=this.el,r=this.getBody(),i=r.scrollTop,o=r.scrollLeft,a=e.offsetHeight,s=e.offsetWidth;return{top:e.offsetTop,left:e.offsetLeft,height:a,width:s,scrollTop:i,scrollLeft:o,scrollBottom:i+a,scrollRight:o+s}},t.prototype._getTool=function(e){var r=this.tools,i=this.getToolsEl();return r[e]||(r[e]=i.querySelector(e)),r[e]},t.prototype.remove=function(){for(var e,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return this._toggleEffects(!1),this.tools={},(e=this.wrapper)===null||e===void 0||e.remove(),il.prototype.remove.apply(this,r),this},t.prototype.startAutoscroll=function(){this.autoScroller.start(this.el,this.getWindow(),{lastMaxHeight:this.getWrapper().offsetHeight-this.el.offsetHeight,zoom:this.em.getZoomDecimal()})},t.prototype.stopAutoscroll=function(){this.autoScroller.stop()},t.prototype.showGlobalTools=function(){this.getGlobalToolsEl().style.opacity=""},t.prototype.render=function(){var e=this,r=e.$el,i=e.ppfx,o=e.em;return r.attr({class:"".concat(i,"frame")}),this.renderScripts(),o.trigger("frame:render",this),this},t.prototype.renderScripts=function(){var e=this,r=this,i=r.el,o=r.model,a=r.em,s="frame:load",l={el:i,model:o,view:this},c=this.getCanvasModel(),u=function(f){var h;if(f.length>0){var d=f.shift(),m=(0,Kt.a_)("script",Gs({type:"text/javascript"},(0,we.isString)(d)?{src:d}:d));(h=i.contentDocument)===null||h===void 0||h.head.appendChild(m),m.hasAttribute("nomodule")&&"noModule"in HTMLScriptElement.prototype?u(f):m.onerror=m.onload=u.bind(null,f)}else a==null||a.trigger(Zm.frameLoadHead,l),e.renderBody(),a==null||a.trigger(Zm.frameLoadBody,l),a==null||a.trigger(s,l)};i.onload=function(){var f=e.config.frameContent;if(f){var h=e.getDoc();h.open(),h.write(f),h.close()}l.window=e.getWindow(),a==null||a.trigger("".concat(s,":before"),l),a==null||a.trigger(Zm.frameLoad,l),e.renderHead(),u(Lwe([],c.get("scripts"),!0))}},t.prototype.renderStyles=function(e){e===void 0&&(e={});var r=this.getHead(),i=this.getCanvasModel(),o=function(f){return f===void 0&&(f=[]),f.map(function(h){return{tag:"link",attributes:Gs({rel:"stylesheet"},(0,we.isString)(h)?{href:h}:h)}})},a=o(e.prev||i.previous("styles")),s=o(i==null?void 0:i.get("styles")),l=[],c=[],u=function(f,h,d){f.forEach(function(m){var g=m.attributes.href,x=h.some(function(b){return b.attributes.href===g});!x&&d.push(m)})};u(s,a,c),u(a,s,l),l.forEach(function(f){var h,d=r.querySelector('link[href="'.concat(f.attributes.href,'"]'));(h=d==null?void 0:d.parentNode)===null||h===void 0||h.removeChild(d)}),(0,Kt.af)(r,c)},t.prototype.renderHead=function(){var e,r=this,i=r.model,o=r.em,a=i.root,s=(e=o==null?void 0:o.Components)===null||e===void 0?void 0:e.getType(Qh).view;s&&(this.headView=new s({el:this.getHead(),model:a.head,config:Gs(Gs({},a.config),{frameView:this})}).render())},t.prototype.renderBody=function(){var e=this,r,i=this,o=i.config,a=i.em,s=i.model,l=i.ppfx,c=this.getBody(),u=this.getWindow(),f=s.hasAutoHeight(),h=a.config;u._isEditor=!0,this.renderStyles({prev:[]});var d="#ffca6f";(0,Kt.BC)(c,`<style>
      `.concat(h.baseCss||o.frameStyle||"",`

      `).concat(f?"body { overflow: hidden }":"",`

      [data-gjs-type="wrapper"] {
        `).concat(f?"":"min-height: 100vh;",`
        padding-top: 0.001em;
      }

      .`).concat(l,`dashed *[data-gjs-highlightable] {
        outline: 1px dashed rgba(170,170,170,0.7);
        outline-offset: -2px;
      }

      .`).concat(l,`selected {
        outline: 2px solid #3b97e3 !important;
        outline-offset: -2px;
      }

      .`).concat(l,`selected-parent {
        outline: 2px solid `).concat(d,` !important
      }

      .`).concat(l,`no-select {
        user-select: none;
        -webkit-user-select:none;
        -moz-user-select: none;
      }

      .`).concat(l,`freezed {
        opacity: 0.5;
        pointer-events: none;
      }

      .`).concat(l,`no-pointer {
        pointer-events: none;
      }

      .`).concat(l,`pointer-init {
        pointer-events: initial;
      }

      .`).concat(l,`plh-image {
        background: #f5f5f5;
        border: none;
        height: 100px;
        width: 100px;
        display: block;
        outline: 3px solid #ffca6f;
        cursor: pointer;
        outline-offset: -2px
      }

      .`).concat(l,`grabbing {
        cursor: grabbing;
        cursor: -webkit-grabbing;
      }

      .`).concat(l,`is__grabbing {
        overflow-x: hidden;
      }

      .`).concat(l,`is__grabbing,
      .`).concat(l,`is__grabbing * {
        cursor: grabbing !important;
      }

      `).concat(h.canvasCss||"",`
      `).concat(h.protectedCss||"",`
    </style>`));var m=s.root,g=(((r=a==null?void 0:a.Components)===null||r===void 0?void 0:r.getType("wrapper"))||{}).view;g&&((0,we.isFunction)(o.customRenderer)?o.customRenderer({editor:a.Editor,frame:s,window:u,frameView:this,onMount:function(x){e.wrapper=x,e._onRootMount(x)}}):(this.wrapper=new g({model:m,config:Gs(Gs({},m.config),{em:a,frameView:this})}).render(),this._onRootMount(this.wrapper)))},t.prototype._onRootMount=function(e){var r=this,i,o=this,a=o.config,s=o.em,l=o.model,c=this.getDoc(),u=c.body;(0,Kt.BC)(u,e.el),(0,Kt.BC)(u,new oS({collection:l.getStyles(),config:Gs(Gs({},s.Css.getConfig()),{frameView:this})}).render().el),(0,Kt.BC)(u,this.getJsContainer()),(0,Kt.on)(u,"click",function(f){var h;return f&&((h=f.target)===null||h===void 0?void 0:h.tagName)=="A"&&f.preventDefault()}),(0,Kt.on)(u,"submit",function(f){return f&&f.preventDefault()}),[{event:"keydown keyup keypress",class:"KeyboardEvent"},{event:"mousedown mousemove mouseup",class:"MouseEvent"},{event:"pointerdown pointermove pointerup",class:"PointerEvent"},{event:"wheel",class:"WheelEvent",opts:{passive:!a.infiniteCanvas}}].forEach(function(f){return f.event.split(" ").forEach(function(h){c.addEventListener(h,function(d){return r.el.dispatchEvent((0,Kt.yL)(d,f.class))},f.opts)})}),this._toggleEffects(!0),(0,Et.hasDnd)(s)&&(this.droppable=new kwe(s,(i=this.wrapper)===null||i===void 0?void 0:i.el)),this.loaded=!0,l.trigger("loaded")},t.prototype._toggleEffects=function(e){var r=e?Kt.on:Kt.AU,i=this.getWindow();i&&r(i,"".concat(Kt.D8," resize"),this._emitUpdate)},t.prototype._emitUpdate=function(){this.model._emitUpdated()},t}(il);const Iwe=Dwe;var oL=gn(9966),Rwe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),jh=function(){return jh=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},jh.apply(this,arguments)},Fwe=function(n){Rwe(t,n);function t(e,r){var i=n.call(this,{model:e})||this;return(0,we.bindAll)(i,"onScroll","frameLoaded","updateOffset","remove","startDrag"),jh(jh({},e.config),{frameWrapView:i}),i.cv=r,i.frame=new Iwe(e,i),i.classAnim="".concat(i.ppfx,"frame-wrapper--anim"),i.updateOffset=(0,we.debounce)(i.updateOffset.bind(i),0),i.updateSize=(0,we.debounce)(i.updateSize.bind(i),0),i.listenTo(e,"loaded",i.frameLoaded),i.listenTo(e,"change:x change:y",i.updatePos),i.listenTo(e,"change:width change:height",i.updateSize),i.listenTo(e,"destroy remove",i.remove),i.updatePos(),i.setupDragger(),i}return t.prototype.events=function(){return{"click [data-action-remove]":"remove","mousedown [data-action-move]":"startDrag"}},t.prototype.setupDragger=function(){var e=this,r=this,i=r.module,o=r.model,a,s,l,c=function(u){i.toggleFramesEvents(u)};this.dragger=new oL.A({onStart:function(){var u=o.attributes,f=u.x,h=u.y;l=e.em.getZoomMultiplier(),a=f,s=h,c(!1)},onEnd:function(){return c(!0)},setPosition:function(u){o.set({x:a+u.x*l,y:s+u.y*l})}})},t.prototype.startDrag=function(e){var r;e&&((r=this.dragger)===null||r===void 0||r.start(e))},t.prototype.__clear=function(e){var r=this.frame;r&&r.remove(e),(0,Kt.YZ)(this.elTools)},t.prototype.remove=function(e){var r=this,i;return(i=this.sizeObserver)===null||i===void 0||i.disconnect(),this.__clear(e),il.prototype.remove.apply(this,e),["frame","dragger","cv","elTools"].forEach(function(o){return r[o]=0}),this},t.prototype.updateOffset=function(){var e,r=this,i=r.em,o=r.$el,a=r.frame;!i||i.destroyed||(i.runDefault({preserveSelected:1}),o.removeClass(this.classAnim),(e=a==null?void 0:a.model)===null||e===void 0||e._emitUpdated())},t.prototype.updatePos=function(e){var r=this,i=r.model,o=r.el,a=i.attributes,s=a.x,l=a.y,c=o.style;this.frame.rect=void 0,c.left=isNaN(s)?s:"".concat(s,"px"),c.top=isNaN(l)?l:"".concat(l,"px"),e&&this.updateOffset()},t.prototype.updateSize=function(){this.updateDim()},t.prototype.updateDim=function(){var e=this,r=e.em,i=e.el,o=e.$el,a=e.model,s=e.classAnim,l=e.frame;if(l){l.rect=void 0,o.addClass(s);var c=this.__handleSize(),u=c.noChanges,f=c.width,h=c.height;((0,we.isNull)(f)||(0,we.isNull)(h))&&a.set(jh(jh({},f?{}:{width:i.offsetWidth}),h?{}:{height:i.offsetHeight}),{silent:1}),r.stopDefault({preserveSelected:1}),u?this.updateOffset():setTimeout(this.updateOffset,350)}},t.prototype.onScroll=function(){var e=this,r=e.frame,i=e.em;i.trigger("frame:scroll",{frame:r,body:r.getBody(),target:r.getWindow()})},t.prototype.frameLoaded=function(){var e=this,r=e.frame;e.config,r.getWindow().onscroll=this.onScroll,this.updateDim()},t.prototype.__handleSize=function(){var e,r="px",i=this,o=i.model,a=i.el,s=a.style,l=o.attributes,c=l.width,u=l.height,f=s.width||"",h=s.height||"",d=c||"",m=u||"",g=f==d&&h==m,x=(0,we.isNumber)(d)?"".concat(d).concat(r):d,b=(0,we.isNumber)(m)?"".concat(m).concat(r):m;if(s.width=x,(e=this.sizeObserver)===null||e===void 0||e.disconnect(),o.hasAutoHeight()){var _=this.frame.el,S=_.contentDocument;if(S){var T=new ResizeObserver(function(){var C=parseFloat(o.get("minHeight"))||0,w=Math.max(S.body.scrollHeight,C);s.height="".concat(w,"px")});T.observe(S.body),this.sizeObserver=T}}else s.height=b,delete this.sizeObserver;return{noChanges:g,width:c,height:u,newW:d,newH:m}},t.prototype.render=function(){var e=this,r=e.frame,i=e.$el,o=e.ppfx,a=e.cv,s=e.model,l=e.el,c=s.attributes.onRender;this.__clear(),this.__handleSize(),r.render(),i.empty().attr({class:"".concat(o,"frame-wrapper")}).append(`
      <div class="`.concat(o,`frame-wrapper__top gjs-two-color" data-frame-top>
        <div class="`).concat(o,`frame-wrapper__name" data-action-move>
          `).concat(s.get("name")||"",`
        </div>
        <div class="`).concat(o,`frame-wrapper__top-r">
          <div class="`).concat(o,`frame-wrapper__icon" data-action-remove style="display: none">
            <svg viewBox="0 0 24 24"><path d="M19 4h-3.5l-1-1h-5l-1 1H5v2h14M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12z"></path></svg>
          </div>
        </div>
      </div>
      <div class="`).concat(o,`frame-wrapper__right" data-frame-right></div>
      <div class="`).concat(o,`frame-wrapper__left" data-frame-left></div>
      <div class="`).concat(o,`frame-wrapper__bottom" data-frame-bottom></div>
      `)).append(r.el);var u=(0,Kt.a_)("div",{class:"".concat(o,"tools"),style:"pointer-events:none; display: none"},`
      <div class="`.concat(o,`highlighter" data-hl></div>
      <div class="`).concat(o,`badge" data-badge></div>
      <div class="`).concat(o,`placeholder">
        <div class="`).concat(o,`placeholder-int"></div>
      </div>
      <div class="`).concat(o,`ghost"></div>
      <div class="`).concat(o,`toolbar" style="pointer-events:all"></div>
      <div class="`).concat(o,`resizer"></div>
      <div class="`).concat(o,`offset-v" data-offset>
        <div class="gjs-marginName" data-offset-m>
          <div class="gjs-margin-v-el gjs-margin-v-top" data-offset-m-t></div>
          <div class="gjs-margin-v-el gjs-margin-v-bottom" data-offset-m-b></div>
          <div class="gjs-margin-v-el gjs-margin-v-left" data-offset-m-l></div>
          <div class="gjs-margin-v-el gjs-margin-v-right" data-offset-m-r></div>
        </div>
        <div class="gjs-paddingName" data-offset-m>
          <div class="gjs-padding-v-el gjs-padding-v-top" data-offset-p-t></div>
          <div class="gjs-padding-v-el gjs-padding-v-bottom" data-offset-p-b></div>
          <div class="gjs-padding-v-el gjs-padding-v-left" data-offset-p-l></div>
          <div class="gjs-padding-v-el gjs-padding-v-right" data-offset-p-r></div>
        </div>
      </div>
      <div class="`).concat(o,`offset-fixed-v"></div>
    `));this.elTools=u;var f=a==null?void 0:a.toolsWrapper;return f&&f.appendChild(u),c&&c({el:l,elTop:l.querySelector("[data-frame-top]"),elRight:l.querySelector("[data-frame-right]"),elBottom:l.querySelector("[data-frame-bottom]"),elLeft:l.querySelector("[data-frame-left]"),frame:s,frameWrapperView:this,remove:this.remove,startDrag:this.startDrag}),this},t}(il);const Bwe=Fwe;var Hwe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),$we=function(n){Hwe(t,n);function t(e,r){e===void 0&&(e={});var i=n.call(this,e,!0)||this;return i.listenTo(i.collection,"reset",i.render),i.canvasView=r.canvasView,i._module=r.module,i}return t.prototype.onRemoveBefore=function(e,r){r===void 0&&(r={}),e.forEach(function(i){return i.remove(r)})},t.prototype.onRender=function(){var e=this,r=e.$el,i=e.ppfx;r.attr({class:"".concat(i,"frames")})},t.prototype.clearItems=function(){var e=this.viewCollection||[];e.forEach(function(r){return r.remove()}),this.viewCollection=[]},t.prototype.renderView=function(e,r){return new Bwe(e,this.canvasView)},t}(b5e);const Uwe=$we;var Vwe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ay=function(){return Ay=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Ay.apply(this,arguments)},zwe=function(n){Vwe(t,n);function t(e){var r=n.call(this,{model:e})||this;r.ready=!1,(0,we.bindAll)(r,"clearOff","onKeyPress","onWheel","onPointer");var i=r,o=i.em,a=i.pfx,s=i.ppfx,l=r.module.events;return r.className="".concat(a,"canvas ").concat(s,"no-touch-actions").concat(o.config.customUI?"":" ".concat(a,"canvas-bg")),r.clsUnscale="".concat(a,"unscale"),r._initFrames(),r.listenTo(o,l.refresh,r.clearOff),r.listenTo(o,"component:selected",r.checkSelected),r.listenTo(o,"".concat(l.coords," ").concat(l.zoom),r.updateFrames),r.listenTo(e,"change:frames",r._onFramesUpdate),r.toggleListeners(!0),r}return t.prototype.template=function(){var e=this.pfx;return`
      <div class="`.concat(e,`canvas__frames" data-frames>
        <div class="`).concat(e,`canvas__spots" data-spots></div>
      </div>
      <div id="`).concat(e,'tools" class="').concat(e,`canvas__tools" data-tools></div>
      <style data-canvas-style></style>
    `)},t.prototype._onFramesUpdate=function(){this._initFrames(),this._renderFrames()},t.prototype._initFrames=function(){var e=this,r=e.frames,i=e.model,o=e.config,a=e.em,s=i.frames;a.set("readyCanvas",0),s.once("loaded:all",function(){return a.set("readyCanvas",1)}),r==null||r.remove(),this.frames=new Uwe({collection:s},Ay(Ay({},o),{canvasView:this}))},t.prototype.checkSelected=function(e,r){var i;r===void 0&&(r={});var o=r.scroll,a=this.em.getCurrentFrame();o&&((i=e.views)===null||i===void 0||i.forEach(function(s){s.frameView===a&&s.scrollIntoView(o)}))},t.prototype.remove=function(){for(var e,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return clearTimeout(this.timerZoom),(e=this.frames)===null||e===void 0||e.remove(),this.frames=void 0,il.prototype.remove.apply(this,r),this.toggleListeners(!1),this},t.prototype.preventDefault=function(e){var r;e&&(e.preventDefault(),(r=e._parentEvent)===null||r===void 0||r.preventDefault())},t.prototype.toggleListeners=function(e){var r=this,i=r.el,o=r.config,a=e?Kt.on:Kt.AU;a(document,"keypress",this.onKeyPress),a(window,"scroll resize",this.clearOff),a(i,"wheel",this.onWheel,{passive:!o.infiniteCanvas}),a(i,"pointermove",this.onPointer)},t.prototype.screenToWorld=function(e,r){var i=this.module,o=i.getCoords(),a=i.getZoomMultiplier(),s=this.getViewportDelta();return{x:(e-o.x-s.x)*a,y:(r-o.y-s.y)*a}},t.prototype.onPointer=function(e){if(this.config.infiniteCanvas){var r=this.getCanvasOffset(),i=(0,Kt.Xy)(),o={x:e.clientX-r.left+i.x,y:e.clientY-r.top+i.y};if(e._parentEvent){var a=e.target.getBoundingClientRect(),s=this.module.getZoomDecimal();o.x=a.left-r.left+i.x+e.clientX*s,o.y=a.top-r.top+i.y+e.clientY*s}this.model.set({pointerScreen:o,pointer:this.screenToWorld(o.x,o.y)})}},t.prototype.onKeyPress=function(e){var r=this.em,i=(0,Kt.Ch)(e);i===" "&&r.getZoomDecimal()!==1&&!r.Canvas.isInputFocused()&&(this.preventDefault(e),r.Editor.runCommand("core:canvas-move"))},t.prototype.onWheel=function(e){var r=this,i=r.module,o=r.config;if(o.infiniteCanvas){this.preventDefault(e);var a=e.deltaX,s=e.deltaY,l=i.getZoomDecimal(),c=(0,Kt.rp)(e),u=i.getCoords();if(c){var f=l-s*l*.01;i.setZoom(f*100);var h=this.model.getPointerCoords(Wt.x2.Screen),d=this.getCanvasOffset(),m=h.x-d.width/2,g=h.y-d.height/2,x=f/l,b=m-(m-u.x)*x,_=g-(g-u.y)*x;i.setCoords(b,_)}else this.onPointer(e),i.setCoords(u.x-a,u.y-s)}},t.prototype.updateFrames=function(e){var r=this.em,i=this.toolsWrapper,o={preserveSelected:1};this.updateFramesArea(),this.clearOff(),i.style.display="none",r.trigger("canvas:update",e),clearTimeout(this.timerZoom),this.timerZoom=setTimeout(function(){r.stopDefault(o),r.runDefault(o),i.style.display=""},300)},t.prototype.updateFramesArea=function(){var e=this,r=e.framesArea,i=e.model,o=e.module,a=e.cvStyle,s=e.clsUnscale,l=o.getZoomMultiplier();if(r){var c=i.attributes,u=c.x,f=c.y,h=o.getZoomDecimal();r.style.transform="scale(".concat(h,") translate(").concat(u*l,"px, ").concat(f*l,"px)")}a&&(a.innerHTML=`
        .`.concat(s," { scale: ").concat(l,` }
      `))},t.prototype.fitViewport=function(e){var r,i,o;e===void 0&&(e={});var a=this,s=a.em,l=a.module,c=a.model;this.clearOff();var u=this.getCanvasOffset(),f=e.el,h=f&&((r=(0,Et.getComponentView)(f))===null||r===void 0?void 0:r.frameView),d=h?h.model:e.frame||s.getCurrentFrameModel()||c.frames.at(0),m=d.attributes,g=m.x,x=m.y,b={x:g??0,y:x??0,width:d.width,height:d.height};if(f){var _=this.getElBoxRect(f);b.x=b.x+_.x,b.y=b.y+_.y,b.width=_.width,b.height=_.height}var S=e.ignoreHeight,T=(i=e.gap)!==null&&i!==void 0?i:0,C=(0,we.isNumber)(T),w=C?T:T.x,N=C?T:T.y,A=b.width+w*2,j=b.height+N*2,R=u.width,L=u.height,M=R/A,I=L/j,D=S?M:Math.min(M,I),V=D*100,F=(o=(0,we.isFunction)(e.zoom)?e.zoom(V):e.zoom)!==null&&o!==void 0?o:V;l.setZoom(F,{from:"fitViewport"});var G=-b.x+(d.width>=R?R/2-A/2:-w),W=-b.y+L/2-j/2,Y=l.getZoomDecimal(),te={x:(G+w)*Y,y:(W+N)*Y};if(S){var he=l.getZoomMultiplier(),z=L*he,Z=z-L,X=Z/2;te.y=(-b.y+N)*Y-X/he}l.setCoords(te.x,te.y)},t.prototype.isElInViewport=function(e){var r=(0,Et.getElement)(e),i=(0,Kt.C8)(r),o=this.getFrameOffset(r),a=i.top,s=i.left;return a>=0&&s>=0&&a<=o.height&&s<=o.width},t.prototype.offset=function(e,r){r===void 0&&(r={});var i=r.noScroll,o=(0,Kt.C8)(e),a=i?{x:0,y:0}:(0,Kt.Xy)(e);return{top:o.top+a.y,left:o.left+a.x,width:o.width,height:o.height}},t.prototype.getRectToScreen=function(e){var r,i,o,a,s=this.getCanvasScroll(),l=this.module.getZoomDecimal(),c=this.module.getCoords(),u=this.getViewportDelta(),f=((r=e.x)!==null&&r!==void 0?r:0)*l-s.scrollLeft+c.x+u.x||0,h=((i=e.y)!==null&&i!==void 0?i:0)*l-s.scrollTop+c.y+u.y||0;return{x:f,y:h,width:((o=e.width)!==null&&o!==void 0?o:0)*l,height:((a=e.height)!==null&&a!==void 0?a:0)*l}},t.prototype.getElBoxRect=function(e,r){var i,o,a;r===void 0&&(r={});var s=this.module,l=(0,Kt.C8)(e),c=l.width,u=l.height,f=l.left,h=l.top,d=(i=(0,Et.getComponentView)(e))===null||i===void 0?void 0:i.frameView,m=d==null?void 0:d.getBoxRect(),g=s.getZoomMultiplier(),x=(o=m==null?void 0:m.x)!==null&&o!==void 0?o:0,b=(a=m==null?void 0:m.y)!==null&&a!==void 0?a:0,_=this.el,S=(0,Kt.Xy)(),T=f+x+(_.scrollLeft+S.x)*g,C=h+b+(_.scrollTop+S.y)*g,w={x:T,y:C,width:c,height:u};return r.local&&(w.x=f,w.y=h),r.toScreen?this.getRectToScreen(w):w},t.prototype.getViewportRect=function(e){e===void 0&&(e={});var r=this.getCanvasOffset(),i=r.top,o=r.left,a=r.width,s=r.height,l=this.module;if(e.toWorld){var c=l.getZoomMultiplier(),u=l.getCoords(),f=this.getViewportDelta(),h=-u.x-f.x||0,d=-u.y-f.y||0;return{x:h*c,y:d*c,width:a*c,height:s*c}}else return{x:o,y:i,width:a,height:s}},t.prototype.getViewportDelta=function(e){var r=this.module.getZoomMultiplier(),i=this.getCanvasOffset(),o=i.width,a=i.height,s=o*r,l=a*r,c=s-o,u=l-a;return{x:c/2/r,y:u/2/r}},t.prototype.clearOff=function(){this.frmOff=void 0,this.cvsOff=void 0},t.prototype.getFrameOffset=function(e){var r;if(!this.frmOff||e){var i=(r=this.frame)===null||r===void 0?void 0:r.el,o=e==null?void 0:e.ownerDocument.defaultView,a=o?o.frameElement:i;this.frmOff=this.offset(a||i)}return this.frmOff},t.prototype.getCanvasOffset=function(){return this.cvsOff||(this.cvsOff=this.offset(this.el)),this.cvsOff},t.prototype.getElementPos=function(e,r){r===void 0&&(r={});var i=this.module.getZoomDecimal(),o=this.getFrameOffset(e),a=this.el,s=this.getCanvasOffset(),l=this.offset(e,r),c=r.avoidFrameOffset?0:o.top,u=r.avoidFrameOffset?0:o.left,f=r.avoidFrameZoom?l.top:l.top*i,h=r.avoidFrameZoom?l.left:l.left*i,d=r.avoidFrameOffset?f:f+c-s.top+a.scrollTop,m=r.avoidFrameOffset?h:h+u-s.left+a.scrollLeft,g=r.avoidFrameZoom?l.height:l.height*i,x=r.avoidFrameZoom?l.width:l.width*i;return{top:d,left:m,height:g,width:x,zoom:i,rect:l}},t.prototype.getElementOffsets=function(e){if(!e||(0,Kt.ir)(e))return{};var r={},i=window.getComputedStyle(e),o=this.module.getZoomDecimal(),a=["marginTop","marginRight","marginBottom","marginLeft","paddingTop","paddingRight","paddingBottom","paddingLeft","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"];return a.forEach(function(s){r[s]=parseFloat(i[s])*o}),r},t.prototype.getPosition=function(e){var r;e===void 0&&(e={});var i=(r=this.frame)===null||r===void 0?void 0:r.el.contentDocument;if(!i)return{top:0,left:0,width:0,height:0};var o=i.body,a=this.module.getZoomDecimal(),s=this.getFrameOffset(),l=this.getCanvasOffset(),c=e.noScroll;return{top:s.top+(c?0:o.scrollTop)*a-l.top,left:s.left+(c?0:o.scrollLeft)*a-l.left,width:l.width,height:l.height}},t.prototype.getCanvasScroll=function(){return this.config.scrollableCanvas?{scrollTop:this.el.scrollTop,scrollLeft:this.el.scrollLeft}:{scrollTop:0,scrollLeft:0}},t.prototype.updateScript=function(e){var r=e.model,i=r.getId(),o={component:r,view:e,el:e.el};if(!e.scriptContainer){e.scriptContainer=(0,Kt.a_)("div",{"data-id":i});var a=this.getJsContainer();a==null||a.appendChild(e.scriptContainer)}e.el.id=i,e.scriptContainer.innerHTML="";var s=document.createElement("script"),l=r.getScriptString(),c=r.get("script-props")?l:`function(){
`.concat(l,`
;}`),u=JSON.stringify(r.__getScriptProps());s.innerHTML=`
      setTimeout(function() {
        var item = document.getElementById('`.concat(i,`');
        if (!item) return;
        var script = (`).concat(c,`).bind(item);
        script(`).concat(u,`, { el: item });
      }, 1);`),setTimeout(function(){r.emitWithEditor(Tn.I.scriptMountBefore,o);var f=e.scriptContainer;f==null||f.appendChild(s),r.emitWithEditor(Tn.I.scriptMount,o)},0)},t.prototype.getJsContainer=function(e){var r=this.getFrameView(e);return r==null?void 0:r.getJsContainer()},t.prototype.getFrameView=function(e){return(e==null?void 0:e.frameView)||this.em.getCurrentFrame()},t.prototype._renderFrames=function(){if(this.ready){var e=this,r=e.model,i=e.frames,o=e.em,a=e.framesArea,s=r.frames;s.listenToLoad(),i.render();var l=s.at(0),c=l==null?void 0:l.view;o.setCurrentFrame(c),a==null||a.appendChild(i.el),this.frame=c,this.updateFramesArea()}},t.prototype.renderFrames=function(){this._renderFrames()},t.prototype.render=function(){var e=this,r=e.el,i=e.$el,o=e.ppfx,a=e.config,s=e.em;i.html(this.template());var l=i.find("[data-frames]");this.framesArea=l.get(0);var c=i.find("[data-tools]");return this.toolsWrapper=c.get(0),c.append(`
      <div class="`.concat(o,"tools ").concat(o,`tools-gl" style="pointer-events:none">
        <div class="`).concat(o,`placeholder">
          <div class="`).concat(o,`placeholder-int"></div>
        </div>
      </div>
      <div id="`).concat(o,`tools" style="pointer-events:none">
        `).concat(a.extHl?'<div class="'.concat(o,'highlighter-sel"></div>'):"",`
        <div class="`).concat(o,`badge"></div>
        <div class="`).concat(o,`ghost"></div>
        <div class="`).concat(o,`toolbar" style="pointer-events:all"></div>
        <div class="`).concat(o,`resizer"></div>
        <div class="`).concat(o,`offset-v"></div>
        <div class="`).concat(o,`offset-fixed-v"></div>
      </div>
    `)),this.toolsEl=r.querySelector("#".concat(o,"tools")),this.hlEl=r.querySelector(".".concat(o,"highlighter")),this.badgeEl=r.querySelector(".".concat(o,"badge")),this.placerEl=r.querySelector(".".concat(o,"placeholder")),this.ghostEl=r.querySelector(".".concat(o,"ghost")),this.toolbarEl=r.querySelector(".".concat(o,"toolbar")),this.resizerEl=r.querySelector(".".concat(o,"resizer")),this.offsetEl=r.querySelector(".".concat(o,"offset-v")),this.fixedOffsetEl=r.querySelector(".".concat(o,"offset-fixed-v")),this.toolsGlobEl=r.querySelector(".".concat(o,"tools-gl")),this.spotsEl=r.querySelector("[data-spots]"),this.cvStyle=r.querySelector("[data-canvas-style]"),r.className=(0,Et.getUiClass)(s,this.className),a.scrollableCanvas===!0&&(r.style.overflow="auto"),this.ready=!0,this._renderFrames(),this},t}(il);const Wwe=zwe;var qwe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Yf=function(){return Yf=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Yf.apply(this,arguments)},Gwe=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},Kwe=function(n){qwe(t,n);function t(e){var r=n.call(this,e,"Canvas",B2e())||this;return r.events=gy,r.framesById={},r.canvas=new f5e(r),r.spots=new p5e(r),r.model=r.canvas,r.startAutoscroll=r.startAutoscroll.bind(r),r.stopAutoscroll=r.stopAutoscroll.bind(r),r.autoScroller=new nL,r}return t.prototype.getCanvasView=function(){return this.canvasView},t.prototype.postLoad=function(){this.model.init()},t.prototype.getModel=function(){return this.canvas},t.prototype.getElement=function(){return this.getCanvasView().el},t.prototype.getFrame=function(e){return this.getFrames()[e||0]},t.prototype.getFrameEl=function(){var e=(this.canvasView||{}).frame;return e==null?void 0:e.el},t.prototype.getFramesEl=function(){var e;return(e=this.canvasView)===null||e===void 0?void 0:e.framesArea},t.prototype.getWindow=function(){var e=(this.canvasView||{}).frame;return e==null?void 0:e.getWindow()},t.prototype.getDocument=function(){var e=this.getFrameEl();return e==null?void 0:e.contentDocument},t.prototype.getBody=function(){var e=this.getDocument();return e==null?void 0:e.body},t.prototype._getLocalEl=function(e,r,i){var o=e,a=r==null?void 0:r.frameView;return o=a?a[i]():o,o},t.prototype.getGlobalToolsEl=function(){var e;return(e=this.canvasView)===null||e===void 0?void 0:e.toolsGlobEl},t.prototype.getToolsEl=function(e){return this._getLocalEl(this.getCanvasView().toolsEl,e,"getToolsEl")},t.prototype.getHighlighter=function(e){return this._getLocalEl(this.getCanvasView().hlEl,e,"getHighlighter")},t.prototype.getBadgeEl=function(e){return this._getLocalEl(this.getCanvasView().badgeEl,e,"getBadgeEl")},t.prototype.getPlacerEl=function(){return this.getCanvasView().placerEl},t.prototype.getGhostEl=function(){return this.getCanvasView().ghostEl},t.prototype.getToolbarEl=function(){return this.getCanvasView().toolbarEl},t.prototype.getResizerEl=function(){return this.getCanvasView().resizerEl},t.prototype.getOffsetViewerEl=function(e){return this._getLocalEl(this.getCanvasView().offsetEl,e,"getOffsetViewerEl")},t.prototype.getFixedOffsetViewerEl=function(){return this.getCanvasView().fixedOffsetEl},t.prototype.getSpotsEl=function(){var e;return(e=this.canvasView)===null||e===void 0?void 0:e.spotsEl},t.prototype.render=function(){var e;return(e=this.canvasView)===null||e===void 0||e.remove(),this.canvasView=new Wwe(this.canvas),this.canvasView.render().el},t.prototype.getOffset=function(){var e=this.offset(this.getFrameEl()),r=this.offset(this.getElement());return{top:e.top-r.top,left:e.left-r.left}},t.prototype.offset=function(e){return this.getCanvasView().offset(e)},t.prototype.setCustomBadgeLabel=function(e){this.config.customBadgeLabel=e},t.prototype.getElementPos=function(e,r){return this.getCanvasView().getElementPos(e,r)},t.prototype.getElementOffsets=function(e){return this.getCanvasView().getElementOffsets(e)},t.prototype.getRect=function(){var e,r=(e=this.getCanvasView().getPosition())!==null&&e!==void 0?e:{},i=r.top,o=i===void 0?0:i,a=r.left,s=a===void 0?0:a;return Yf(Yf({},this.getCanvasView().getCanvasOffset()),{topScroll:o,leftScroll:s})},t.prototype.getTargetToElementDim=function(e,r,i){i===void 0&&(i={});var o=i||{},a=this.getCanvasView().getPosition();if(a){var s=o.elPos||this.getCanvasView().getElementPos(r),l=i.toRight||0,c=o.targetHeight||e.offsetHeight,u=o.targetWidth||e.offsetWidth,f=o.event||null,h=s.top-c,d=s.left;d+=l?s.width:0,d=l?d-u:d;var m=d<a.left?a.left:d,g=h<a.top?a.top:h;g=g>s.top+s.height?s.top+s.height:g;var x={top:g,left:m,elementTop:s.top,elementLeft:s.left,elementWidth:s.width,elementHeight:s.height,targetWidth:e.offsetWidth,targetHeight:e.offsetHeight,canvasTop:a.top,canvasLeft:a.left,canvasWidth:a.width,canvasHeight:a.height};return f&&this.em&&this.em.trigger(f,x),x}},t.prototype.canvasRectOffset=function(e,r,i){var o=this;i===void 0&&(i={});var a=function(l){var c=l.defaultView;return c==null?void 0:c.frameElement},s=function(l,c,u){c===void 0&&(c=1);var f=o.em.getZoomDecimal(),h=c?"top":"left",d=l.ownerDocument,m=i.offset?a(d):{},g=m.offsetTop,x=g===void 0?0:g,b=m.offsetLeft,_=b===void 0?0:b,S=d.body||{},T=S.scrollTop,C=T===void 0?0:T,w=S.scrollLeft,N=w===void 0?0:w,A=c?C:N,j=c?x:_;return u[h]-(A-j)*f};return{top:s(e,1,r),left:s(e,0,r)}},t.prototype.getTargetToElementFixed=function(e,r,i){i===void 0&&(i={});var o=i.pos||this.getElementPos(e,{noScroll:!0}),a=i.canvasOff||this.canvasRectOffset(e,o),s=r.offsetHeight||0,l=r.offsetWidth||0,c=this.getCanvasView(),u=c.getCanvasScroll(),f=u.scrollTop,h=u.scrollLeft,d=c.getPosition(),m=i.event,g=o.width-l,x=-s,b=(0,we.isUndefined)(i.left)?g:i.left,_=Math.max(-o.left+h,0);b=Math.max(b,_);var S=o.width-l;b=Math.min(b,S);var T=d.width+h-l-o.left;b=Math.min(b,T);var C=a.top<s+f,w=x;if(C){var N=o.height+s,A=N<d.height;if(A)w=w+N;else{var j=-a.top+f;w=j<o.height?j:o.height}}var R={top:w,left:b,canvasOffsetTop:a.top,canvasOffsetLeft:a.left,elRect:o,canvasOffset:a,canvasRect:d,targetWidth:l,targetHeight:s};return m&&this.em.trigger(m,R),R},t.prototype.getMouseRelativePos=function(e,r){r===void 0&&(r={});var i=r.subWinOffset,o=e.target,a=o.nodeType===Node.DOCUMENT_NODE?o:o.ownerDocument,s=a.defaultView||a.parentWindow,l=s.frameElement,c=i?s.pageYOffset:0,u=i?s.pageXOffset:0,f=this.getZoomMultiplier(),h=0,d=0;if(l){var m=l.getBoundingClientRect();h=m.top||0,d=m.left||0}return{y:(e.clientY+h-c)*f,x:(e.clientX+d-u)*f}},t.prototype.getMouseRelativeCanvas=function(e,r){var i,o=this.getZoomDecimal(),a=this.getCanvasView(),s=(i=a.getPosition(r))!==null&&i!==void 0?i:{top:0,left:0},l=a.getCanvasScroll(),c={top:s.top+l.scrollTop,left:s.left+l.scrollLeft},u=c.top,f=c.left;return{y:e.clientY*o+u,x:e.clientX*o+f}},t.prototype.startDrag=function(e){this.em.set("dragSource",e)},t.prototype.endDrag=function(){this.em.set({dragResult:null,dragSource:void 0})},t.prototype.hasFocus=function(){return this.getDocument().hasFocus()},t.prototype.isInputFocused=function(){var e=this.getDocument(),r=this.getFrameEl(),i=Gwe(["body"],this.config.notTextable,!0),o=r&&document.activeElement===r,a=o?e&&e.activeElement:document.activeElement;return a&&!i.some(function(s){return a.matches(s)})},t.prototype.scrollTo=function(e,r){r===void 0&&(r={});var i=(0,Et.getElement)(e),o=i&&(0,Et.getViewEl)(i);o&&o.scrollIntoView(r)},t.prototype.startAutoscroll=function(e){var r=e&&e.view||this.em.getCurrentFrame();if(r&&r.startAutoscroll(),this.config.scrollableCanvas){var i=this.getCanvasView().el;this.autoScroller.start(i,i,{zoom:this.em.getZoomDecimal()})}},t.prototype.stopAutoscroll=function(e){var r=e&&e.view||this.em.getCurrentFrame();r&&r.stopAutoscroll(),this.config.scrollableCanvas&&this.autoScroller.stop()},t.prototype.setZoom=function(e,r){return r===void 0&&(r={}),this.canvas.set("zoom",typeof e=="string"?parseFloat(e):e,r),this},t.prototype.getZoom=function(){return parseFloat(this.canvas.get("zoom"))},t.prototype.setCoords=function(e,r,i){var o;i===void 0&&(i={});var a=e||e===0,s=r||r===0,l={x:this.canvas.get("x"),y:this.canvas.get("y")};if(a&&(l.x=parseFloat("".concat(e))),s&&(l.y=parseFloat("".concat(r))),i.toWorld){var c=(o=this.canvasView)===null||o===void 0?void 0:o.getViewportDelta();c&&(a&&(l.x=l.x-c.x),s&&(l.y=l.y-c.y))}return this.canvas.set(l),this},t.prototype.getCoords=function(){var e=this.canvas.attributes,r=e.x,i=e.y;return{x:r,y:i}},t.prototype.getPointer=function(e){var r=this.canvas.attributes,i=r.pointer,o=r.pointerScreen;return e?o:i},t.prototype.getZoomDecimal=function(){return this.getZoom()/100},t.prototype.getZoomMultiplier=function(){var e=this.getZoomDecimal();return e?1/e:1},t.prototype.fitViewport=function(e){var r;(r=this.canvasView)===null||r===void 0||r.fitViewport(e)},t.prototype.toggleFramesEvents=function(e){var r=this.getFramesEl().style;r.pointerEvents=e?"":"none"},t.prototype.getFrames=function(){return this.canvas.frames.map(function(e){return e})},t.prototype.addFrame=function(e,r){return e===void 0&&(e={}),r===void 0&&(r={}),this.canvas.frames.add(new UM(this,Yf({},e)),r)},t.prototype.getLastDragResult=function(){return this.em.get("dragResult")},t.prototype.addSpot=function(e,r){var i;r===void 0&&(r={});var o=e,a=this.getSpots(o);if(a.length){var s=a[0];return s.set(o),s}var l=o.componentView||((i=o.component)===null||i===void 0?void 0:i.view),c=new Js.A(this,Yf(Yf({},o),{id:o.id||"cs_".concat(o.type,"_").concat(l==null?void 0:l.cid),type:o.type||""}));return this.spots.add(c,r),c},t.prototype.getSpots=function(e){return e===void 0&&(e={}),this.spots.where(e.id?{id:e.id}:e)},t.prototype.removeSpots=function(e){e===void 0&&(e={});var r=(0,we.isArray)(e)?e:this.getSpots(e),i=this.spots.remove(r);return i},t.prototype.hasCustomSpot=function(e){var r=this.config.customSpots;return!!(r===!0||r&&e&&r[e])},t.prototype.getWorldRectToScreen=function(e){var r;return(r=this.canvasView)===null||r===void 0?void 0:r.getRectToScreen(e)},t.prototype.refresh=function(e){e===void 0&&(e={});var r=this,i=r.em,o=r.events,a=r.canvasView;a==null||a.clearOff(),(e.spots||e.all)&&(this.refreshSpots(),i.trigger("canvas:updateTools")),i.set("canvasOffset",this.getOffset()),i.trigger(o.refresh,e)},t.prototype.refreshSpots=function(){this.spots.refresh()},t.prototype.destroy=function(){var e=this,r;this.canvas.stopListening(),(r=this.canvasView)===null||r===void 0||r.remove(),["model","droppable"].forEach(function(i){return e[i]={}})},t}(ts);const Ywe=Kwe;var Xwe=function(){return{stylePrefix:"comp-",components:[],draggableComponents:!0,disableTextInnerChilds:!1,processor:void 0,useFrameDoc:!1,voidElements:["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]}};const Zwe=Xwe;var Jwe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ny=function(){return Ny=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Ny.apply(this,arguments)},Qwe=function(n){Jwe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"defaults",{get:function(){return Ny(Ny({},n.prototype.defaults),{tagName:"",droppable:!1,layerable:!1,selectable:!1,editable:!0})},enumerable:!1,configurable:!0}),t.prototype.toHTML=function(){var e=this.content,r=this.parent();return r!=null&&r.is("script")?e:this.__escapeContent(e)},t.prototype.__escapeContent=function(e){return(0,Et.escapeNodeContent)(e)},t.isComponent=function(e){var r;if(e.nodeType===3)return{type:"textnode",content:(r=e.textContent)!==null&&r!==void 0?r:""}},t}(Mi);const aL=Qwe;var e_e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),dS=function(){return dS=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},dS.apply(this,arguments)},t_e=function(n){e_e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"defaults",{get:function(){return dS({},n.prototype.defaults)},enumerable:!1,configurable:!0}),t.prototype.toHTML=function(){return"<!--".concat(this.content,"-->")},t.isComponent=function(e){var r;if(e.nodeType==8)return{type:"comment",content:(r=e.textContent)!==null&&r!==void 0?r:""}},t}(aL);const r_e=t_e;var n_e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Py=function(){return Py=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Py.apply(this,arguments)},p5="iframe",i_e=function(n){n_e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"defaults",{get:function(){return Py(Py({},n.prototype.defaults),{type:p5,tagName:p5,droppable:!1,resizable:!0,traits:["id","title","src"],attributes:{frameborder:"0"}})},enumerable:!1,configurable:!0}),t.isComponent=function(e){return(0,Et.toLowerCase)(e.tagName)===p5},t}(Mi);const o_e=i_e;var a_e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),jy=function(){return jy=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},jy.apply(this,arguments)},g6='xmlns="http://www.w3.org/2000/svg" width="100" viewBox="0 0 24 24" style="fill: rgba(0,0,0,0.15); transform: scale(0.75)"',s_e=function(n){a_e(t,n);function t(e,r){e===void 0&&(e={});var i=n.call(this,e,r)||this,o=i.get("attributes").src;return o&&(0,Et.buildBase64UrlFromSvg)((0,we.result)(i,"defaults").src)!==o&&i.set("src",o,{silent:!0}),i}return Object.defineProperty(t.prototype,"defaults",{get:function(){return jy(jy({},n.prototype.defaults),{type:"image",tagName:"img",void:!0,droppable:0,editable:1,highlightable:0,resizable:{ratioDefault:1},traits:["alt"],src:"<svg ".concat(g6,`>
        <path d="M8.5 13.5l2.5 3 3.5-4.5 4.5 6H5m16 1V5a2 2 0 0 0-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2z"></path>
      </svg>`),fallback:"<svg ".concat(g6,`>
        <path d="M2.28 3L1 4.27l2 2V19c0 1.1.9 2 2 2h12.73l2 2L21 21.72 2.28 3m2.55 0L21 19.17V5a2 2 0 0 0-2-2H4.83M8.5 13.5l2.5 3 1-1.25L14.73 18H5l3.5-4.5z"></path>
      </svg>`),file:""})},enumerable:!1,configurable:!0}),t.prototype.initToolbar=function(){n.prototype.initToolbar.call(this);var e=this.em;if(e){var r=e.Commands,i="image-editor";if(r.has(i)){for(var o=!1,a=this.get("toolbar"),s=0;s<a.length;s++)if(a[s].command==="image-editor"){o=!0;break}o||(a.push({attributes:{class:"fa fa-pencil"},command:i}),this.set("toolbar",a))}}},t.prototype.getAttrToHTML=function(){var e=n.prototype.getAttrToHTML.call(this),r=this.getSrcResult();return r&&(e.src=r),e},t.prototype.getSrcResult=function(e){e===void 0&&(e={});var r=this.get(e.fallback?"fallback":"src")||"",i=r;return r&&r.substr(0,4)==="<svg"&&(i=(0,Et.buildBase64UrlFromSvg)(r)),i},t.prototype.isDefaultSrc=function(){var e=this.get("src"),r=(0,we.result)(this,"defaults").src;return e===r||e===(0,Et.buildBase64UrlFromSvg)(r)},t.prototype.toJSON=function(e){var r=n.prototype.toJSON.call(this,e),i=r.attributes;return i&&r.src===i.src&&delete r.src,r},t.prototype.parseUri=function(e){var r={},i=function(o){o===void 0&&(o="");for(var a={},s=o.substring(1).split("&"),l=0;l<s.length;l++){var c=s[l].split("="),u=decodeURIComponent(c[0]);u&&(a[u]=decodeURIComponent(c[1]||""))}return a};if((0,Et.hasWin)())r=document.createElement("a"),r.href=e;else if(typeof URL<"u")try{r=new URL(e)}catch{}return{hostname:r.hostname||"",pathname:r.pathname||"",protocol:r.protocol||"",search:r.search||"",hash:r.hash||"",port:r.port||"",query:i(r.search)}},t.isComponent=function(e){return(0,Et.toLowerCase)(e.tagName)==="img"},t}(Mi);const I4=s_e;var l_e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ky=function(){return ky=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ky.apply(this,arguments)},c_e=function(n){l_e(t,n);function t(e,r){e===void 0&&(e={});var i=n.call(this,e,r)||this;return i.__checkInnerChilds(),i}return Object.defineProperty(t.prototype,"defaults",{get:function(){return ky(ky({},n.prototype.defaults),{type:"text",droppable:!1,editable:!0})},enumerable:!1,configurable:!0}),t.prototype.__checkInnerChilds=function(){var e=this.em.Components.config.disableTextInnerChilds;if(e){var r=function(i){i.isInstanceOf("textnode")||i.set({locked:!0,layerable:!1})};(0,we.isFunction)(e)?this.forEachChild(function(i){e(i)&&r(i)}):this.forEachChild(r)}},t}(Mi);const R4=c_e;var u_e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),My=function(){return My=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},My.apply(this,arguments)},v5="label",f_e=function(n){u_e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"defaults",{get:function(){return My(My({},n.prototype.defaults),{type:v5,tagName:v5,traits:["id","title","for"]})},enumerable:!1,configurable:!0}),t.isComponent=function(e){return(0,Et.toLowerCase)(e.tagName)===v5},t}(R4);const d_e=f_e;var h_e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ly=function(){return Ly=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Ly.apply(this,arguments)},m6="link",p_e=function(n){h_e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"defaults",{get:function(){return Ly(Ly({},n.prototype.defaults),{type:m6,tagName:"a",traits:["title","href","target"]})},enumerable:!1,configurable:!0}),t.isComponent=function(e,r){r===void 0&&(r={});var i;if((0,Et.toLowerCase)(e.tagName)==="a"){var o=r.textTags||[];i={type:m6,editable:!1};var a=e.childNodes,s=a.length;s||delete i.editable,(0,we.forEach)(a,function(l){var c=l.tagName;(l.nodeType==3&&l.textContent.trim()!==""||c&&o.indexOf((0,Et.toLowerCase)(c))>=0)&&delete i.editable})}return i},t}(R4);const v_e=p_e;var g_e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Dy=function(){return Dy=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Dy.apply(this,arguments)},m_e=function(n){g_e(t,n);function t(e,r){e===void 0&&(e={});var i=n.call(this,e,r)||this;return i.get("src")?i.parseFromSrc():i.updateSrc(),i.listenTo(i,"change:address change:zoom change:mapType",i.updateSrc),i}return Object.defineProperty(t.prototype,"defaults",{get:function(){var e=n.prototype.defaults;return Dy(Dy({},e),{type:"map",src:"",void:!1,mapUrl:"https://maps.google.com/maps",tagName:"iframe",mapType:"q",address:"",zoom:"1",attributes:{frameborder:0},toolbar:e.toolbar,traits:[{label:"Address",name:"address",placeholder:"eg. London, UK",changeProp:!0},{type:"select",label:"Map type",name:"mapType",changeProp:!0,options:[{id:"q",label:"Roadmap"},{id:"w",label:"Satellite"}]},{label:"Zoom",name:"zoom",type:"range",min:1,max:20,changeProp:!0}]})},enumerable:!1,configurable:!0}),t.prototype.updateSrc=function(){this.set("src",this.getMapUrl())},t.prototype.getMapUrl=function(){var e=this.get("address"),r=this.get("zoom"),i=this.get("mapType");e=e?"&q="+e:"",r=r?"&z="+r:"",i=i?"&t="+i:"";var o=this.get("mapUrl")+"?"+e+r+i;return o+="&output=embed",o},t.prototype.parseFromSrc=function(){var e=this.parseUri(this.get("src")),r=e.query;r.q&&this.set("address",r.q),r.z&&this.set("zoom",r.z),r.t&&this.set("mapType",r.t)},t.isComponent=function(e){if((0,Et.toLowerCase)(e.tagName)=="iframe"&&/maps\.google\.com/.test(e.src))return{type:"map",src:e.src}},t}(I4);const y_e=m_e;var b_e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Iy=function(){return Iy=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Iy.apply(this,arguments)},g5="script",x_e=function(n){b_e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"defaults",{get:function(){return Iy(Iy({},n.prototype.defaults),{type:g5,tagName:g5,droppable:!1,draggable:!1,layerable:!1,highlightable:!1})},enumerable:!1,configurable:!0}),t.isComponent=function(e){return(0,Et.toLowerCase)(e.tagName)===g5},t}(Mi);const w_e=x_e;var __e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ry=function(){return Ry=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Ry.apply(this,arguments)},m5="svg",S_e=function(n){__e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"defaults",{get:function(){return Ry(Ry({},n.prototype.defaults),{type:m5,tagName:m5,highlightable:!1,resizable:{ratioDefault:!0}})},enumerable:!1,configurable:!0}),t.prototype.getName=function(){var e=this.get("tagName"),r=this.get("custom-name");return e=e.charAt(0).toUpperCase()+e.slice(1),r||e},t.isComponent=function(e){return(0,Et.toLowerCase)(e.tagName)===m5},t}(Mi);const sL=S_e;var T_e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Fy=function(){return Fy=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Fy.apply(this,arguments)},C_e=function(n){T_e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"defaults",{get:function(){return Fy(Fy({},n.prototype.defaults),{selectable:!1,hoverable:!1,layerable:!1})},enumerable:!1,configurable:!0}),t.isComponent=function(e,r){return r===void 0&&(r={}),!!r.inSvg},t}(sL);const E_e=C_e;var O_e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),By=function(){return By=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},By.apply(this,arguments)},y5="table",A_e=function(n){O_e(t,n);function t(e,r){e===void 0&&(e={});var i=n.call(this,e,r)||this,o=i.get("components");return!o.length&&o.add({type:"tbody"}),i}return Object.defineProperty(t.prototype,"defaults",{get:function(){return By(By({},n.prototype.defaults),{type:y5,tagName:y5,droppable:["tbody","thead","tfoot"]})},enumerable:!1,configurable:!0}),t.isComponent=function(e){return(0,Et.toLowerCase)(e.tagName)===y5},t}(Mi);const N_e=A_e;var P_e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Hy=function(){return Hy=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Hy.apply(this,arguments)},b5="tbody",j_e=function(n){P_e(t,n);function t(e,r){e===void 0&&(e={});var i=n.call(this,e,r)||this,o=i.get("components"),a=i.get("columns"),s=i.get("rows");if(!o.length){for(var l=[];s--;){for(var c=[],u=a;u--;)c.push({type:"cell",classes:["cell"]});l.push({type:"row",classes:["row"],components:c})}o.add(l)}return i}return Object.defineProperty(t.prototype,"defaults",{get:function(){return Hy(Hy({},n.prototype.defaults),{type:b5,tagName:b5,draggable:["table"],droppable:["tr"],columns:1,rows:1})},enumerable:!1,configurable:!0}),t.isComponent=function(e){return(0,Et.toLowerCase)(e.tagName)===b5},t}(Mi);const F4=j_e;var k_e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),$y=function(){return $y=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},$y.apply(this,arguments)},M_e=function(n){k_e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"defaults",{get:function(){return $y($y({},n.prototype.defaults),{type:"cell",tagName:"td",draggable:["tr"]})},enumerable:!1,configurable:!0}),t.isComponent=function(e){return["td","th"].indexOf((0,Et.toLowerCase)(e.tagName))>=0},t}(Mi);const L_e=M_e;var D_e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Uy=function(){return Uy=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Uy.apply(this,arguments)},x5="tfoot",I_e=function(n){D_e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"defaults",{get:function(){return Uy(Uy({},n.prototype.defaults),{type:x5,tagName:x5})},enumerable:!1,configurable:!0}),t.isComponent=function(e){return(0,Et.toLowerCase)(e.tagName)===x5},t}(F4);const R_e=I_e;var F_e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Vy=function(){return Vy=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Vy.apply(this,arguments)},w5="thead",B_e=function(n){F_e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"defaults",{get:function(){return Vy(Vy({},n.prototype.defaults),{type:w5,tagName:w5})},enumerable:!1,configurable:!0}),t.isComponent=function(e){return(0,Et.toLowerCase)(e.tagName)===w5},t}(F4);const H_e=B_e;var $_e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),zy=function(){return zy=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},zy.apply(this,arguments)},y6="tr",U_e=function(n){$_e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"defaults",{get:function(){return zy(zy({},n.prototype.defaults),{tagName:y6,draggable:["thead","tbody","tfoot"],droppable:["th","td"]})},enumerable:!1,configurable:!0}),t.isComponent=function(e){return(0,Et.toLowerCase)(e.tagName)===y6},t}(Mi);const V_e=U_e;var z_e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Wy=function(){return Wy=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Wy.apply(this,arguments)},_5="video",hh="yt",ph="vi",vh="ytnc",b6="so",S5=function(n){return n&&n!=="0"},W_e=function(n){z_e(t,n);function t(e,r){e===void 0&&(e={});var i=n.call(this,e,r)||this;return i.get("src")&&i.parseFromSrc(),i.updatePropsFromAttr(),i.updateTraits(),i.on("change:provider",i.updateTraits),i.on("change:videoId change:provider",i.updateSrc),i}return Object.defineProperty(t.prototype,"defaults",{get:function(){return Wy(Wy({},n.prototype.defaults),{type:_5,tagName:_5,videoId:"",void:!1,provider:b6,ytUrl:"https://www.youtube.com/embed/",ytncUrl:"https://www.youtube-nocookie.com/embed/",viUrl:"https://player.vimeo.com/video/",loop:!1,poster:"",muted:!1,autoplay:!1,controls:!0,color:"",list:"",src:"",rel:1,modestbranding:0,sources:[],attributes:{allowfullscreen:"allowfullscreen"}})},enumerable:!1,configurable:!0}),t.prototype.updatePropsFromAttr=function(){if(this.get("provider")===b6){var e=this.get("attributes"),r=e.controls,i=e.autoplay,o=e.loop,a=e.muted,s={};(0,Et.isDef)(r)&&(s.controls=!!r),(0,Et.isDef)(i)&&(s.autoplay=!!i),(0,Et.isDef)(o)&&(s.loop=!!o),(0,Et.isDef)(a)&&(s.muted=!!a),(0,Et.isEmptyObj)(s)||this.set(s)}},t.prototype.updateTraits=function(){var e=this.em,r=this.get("provider"),i="iframe",o;switch(r){case hh:case vh:o=this.getYoutubeTraits();break;case ph:o=this.getVimeoTraits();break;default:i="video",o=this.getSourceTraits()}this.set({tagName:i},{silent:!0}),this.set({traits:o}),e.get("ready")&&e.trigger("component:toggled")},t.prototype.parseFromSrc=function(){var e=this.get("provider"),r=this.parseUri(this.get("src")),i=r.query;switch(e){case hh:case vh:case ph:this.set("videoId",r.pathname.split("/").pop()),i.list&&this.set("list",i.list),S5(i.autoplay)&&this.set("autoplay",!0),S5(i.loop)&&this.set("loop",!0),parseInt(i.controls)===0&&this.set("controls",!1),S5(i.color)&&this.set("color",i.color),i.rel==="0"&&this.set("rel",0),i.modestbranding==="1"&&this.set("modestbranding",1),i.muted==="1"&&this.set("muted",!0);break}},t.prototype.updateSrc=function(){var e=this.get("provider"),r="";switch(e){case hh:r=this.getYoutubeSrc();break;case vh:r=this.getYoutubeNoCookieSrc();break;case ph:r=this.getVimeoSrc();break}this.set({src:r})},t.prototype.getAttrToHTML=function(){var e=n.prototype.getAttrToHTML.call(this),r=this.get("provider");switch(r){case hh:case vh:case ph:break;default:e.loop=!!this.get("loop"),e.autoplay=!!this.get("autoplay"),e.controls=!!this.get("controls"),e.muted=!!this.get("muted")}return e},t.prototype.getProviderTrait=function(){return{type:"select",label:"Provider",name:"provider",changeProp:!0,options:[{value:"so",name:"HTML5 Source"},{value:hh,name:"Youtube"},{value:vh,name:"Youtube (no cookie)"},{value:ph,name:"Vimeo"}]}},t.prototype.getSourceTraits=function(){return[this.getProviderTrait(),{label:"Source",name:"src",placeholder:"eg. ./media/video.mp4",changeProp:!0},{label:"Poster",name:"poster",placeholder:"eg. ./media/image.jpg"},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait(),this.getMutedTrait()]},t.prototype.getYoutubeTraits=function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. jNQXAC9IVRw",changeProp:!0},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait(),{type:"checkbox",label:"Related",name:"rel",changeProp:!0},{type:"checkbox",label:"Modest",name:"modestbranding",changeProp:!0},this.getMutedTrait()]},t.prototype.getVimeoTraits=function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. 123456789",changeProp:!0},{label:"Color",name:"color",placeholder:"eg. FF0000",changeProp:!0},this.getAutoplayTrait(),this.getLoopTrait(),this.getMutedTrait()]},t.prototype.getAutoplayTrait=function(){return{type:"checkbox",label:"Autoplay",name:"autoplay",changeProp:!0}},t.prototype.getLoopTrait=function(){return{type:"checkbox",label:"Loop",name:"loop",changeProp:!0}},t.prototype.getControlsTrait=function(){return{type:"checkbox",label:"Controls",name:"controls",changeProp:!0}},t.prototype.getMutedTrait=function(){return{type:"checkbox",label:"Muted",name:"muted",changeProp:!0}},t.prototype.getYoutubeSrc=function(){var e=this.get("videoId"),r=this.get("ytUrl"),i=this.get("list");return r+=e+(e.indexOf("?")<0?"?":""),r+=i?"&list=".concat(i):"",r+=this.get("autoplay")?"&autoplay=1":"",r+=this.get("muted")?"&mute=1":"",r+=this.get("controls")?"":"&controls=0&showinfo=0",r+=this.get("loop")?"&loop=1&playlist=".concat(e):"",r+=this.get("rel")?"":"&rel=0",r+=this.get("modestbranding")?"&modestbranding=1":"",r},t.prototype.getYoutubeNoCookieSrc=function(){var e=this.getYoutubeSrc();return e=e.replace(this.get("ytUrl"),this.get("ytncUrl")),e},t.prototype.getVimeoSrc=function(){var e=this.get("viUrl");return e+=this.get("videoId")+"?",e+=this.get("autoplay")?"&autoplay=1":"",e+=this.get("muted")?"&muted=1":"",e+=this.get("loop")?"&loop=1":"",e+=this.get("controls")?"":"&title=0&portrait=0&badge=0",e+=this.get("color")?"&color="+this.get("color"):"",e},t.isComponent=function(e){var r=e.tagName,i=e.src,o=/youtube\.com\/embed/.test(i),a=/youtube-nocookie\.com\/embed/.test(i),s=/player\.vimeo\.com\/video/.test(i),l=o||a||s;if((0,Et.toLowerCase)(r)==_5||(0,Et.toLowerCase)(r)=="iframe"&&l){var c={type:"video"};return i&&(c.src=i),l&&(o?c.provider=hh:a?c.provider=vh:s&&(c.provider=ph)),c}},t}(I4);const q_e=W_e;var G_e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),kh=function(){return kh=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},kh.apply(this,arguments)},K_e=function(n){G_e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"defaults",{get:function(){return kh(kh({},n.prototype.defaults),{tagName:"body",removable:!1,copyable:!1,draggable:!1,components:[],traits:[],doctype:"",head:null,docEl:null,stylable:["background","background-color","background-image","background-repeat","background-attachment","background-position","background-size"]})},enumerable:!1,configurable:!0}),t.prototype.preInit=function(){var e,r,i=this,o=i.opt,a=i.attributes,s=(e=this.em)===null||e===void 0?void 0:e.Components,l=(r=s==null?void 0:s.getType(Qh))===null||r===void 0?void 0:r.model,c=s==null?void 0:s.getType("default").model;if(l){var u=a.head,f=a.docEl;this.set({head:u&&u instanceof Mi?u:new l(kh({},u),o),docEl:f&&f instanceof Mi?f:new c(kh({tagName:"html"},f),o)},{silent:!0})}},Object.defineProperty(t.prototype,"head",{get:function(){return this.get("head")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docEl",{get:function(){return this.get("docEl")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doctype",{get:function(){return this.attributes.doctype||""},enumerable:!1,configurable:!0}),t.prototype.clone=function(e){var r=n.prototype.clone.call(this,e);return r.set("head",this.get("head").clone(e)),r.set("docEl",this.get("docEl").clone(e)),r},t.prototype.toHTML=function(e){e===void 0&&(e={});var r=this.doctype,i=(0,we.isUndefined)(e.asDocument)?!!r:e.asDocument,o=this,a=o.head,s=o.docEl,l=n.prototype.toHTML.call(this,e),c=i&&(a==null?void 0:a.toHTML(e))||"",u=i&&(0,Kt.kk)(s==null?void 0:s.getAttrToHTML())||"",f=u?" ".concat(u):"";return i?"".concat(r,"<html").concat(f,">").concat(c).concat(l,"</html>"):l},t.prototype.__postAdd=function(){var e,r=(e=this.em)===null||e===void 0?void 0:e.UndoManager;return!this.__hasUm&&(r==null||r.add(this)),n.prototype.__postAdd.call(this)},t.prototype.__postRemove=function(){var e,r=(e=this.em)===null||e===void 0?void 0:e.UndoManager;return r==null||r.remove(this),n.prototype.__postRemove.call(this)},t.isComponent=function(){return!1},t}(Mi);const Y_e=K_e;var X_e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Z_e=function(n){X_e(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.compView=Qn,e}return t.prototype.initialize=function(e){this.opts=e||{},this.config=e.config||{},this.em=this.config.em;var r=this.collection;this.listenTo(r,"add",this.addTo),this.listenTo(r,"reset",this.resetChildren),this.listenTo(r,"remove",this.removeChildren)},t.prototype.removeChildren=function(e,r,i){var o=this;i===void 0&&(i={}),e.views.forEach(function(s){if(s){var l=s.childrenView,c=s.scriptContainer;l&&l.stopListening(),(0,Kt.YZ)(c),s.remove.apply(s)}});var a=e.components();a.forEach(function(s){return o.removeChildren(s,r,i)})},t.prototype.addTo=function(e){this.addToCollection(e,null,this.collection.indexOf(e))},t.prototype.addToCollection=function(e,r,i){for(var o=this,a=o.config,s=o.opts,l=o.em,c=a.frameView,u=(c==null?void 0:c.model)&&e.getView(c.model),f=s.componentTypes||(l==null?void 0:l.Components.getTypes()),h=e.get("type")||"default",d=this.compView,m=0;m<f.length;m++)if(f[m].id==h){d=f[m].view;break}var g=u||new d({model:e,config:a,componentTypes:f}),x;try{x=g.render().el}catch(T){x=document.createTextNode(""),l.logError(T)}if(r)r.appendChild(x);else{var b=this.parentEl,_=b.childNodes;if((0,we.isUndefined)(i))b.appendChild(x);else{var S=_.length==i;S&&i--,S||!_.length?b.appendChild(x):b.insertBefore(x,_[i])}}return e.opt.temporary||l==null||l.trigger(Tn.I.mount,e),x},t.prototype.resetChildren=function(e,r){var i=this;r===void 0&&(r={});var o=r.previousModels;r.skipDomReset||(this.parentEl.innerHTML=""),o==null||o.forEach(function(a){return i.removeChildren(a,i.collection)}),e.each(function(a){return i.addToCollection(a)})},t.prototype.render=function(e){var r=this,i=this.el,o=document.createDocumentFragment();return this.parentEl=e||this.el,this.collection.each(function(a){return r.addToCollection(a,o)}),i.innerHTML="",i.appendChild(o),this},t}(Wt.Ss);const lL=Z_e;var J_e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),dc=function(){return dc=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},dc.apply(this,arguments)},Q_e=function(n){J_e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.className=function(){return this.getClasses()},t.prototype.tagName=function(){return this.model.get("tagName")},t.prototype.preinitialize=function(e){e===void 0&&(e={}),this.opts=e},t.prototype.initialize=function(e){e===void 0&&(e={});var r=this.model,i=e.config||{},o=i.em,a=r.opt||{},s=this,l=s.$el,c=s.el;this.opts=e,this.modelOpt=a,this.config=i,this.em=o,this.pfx=i.stylePrefix||"",this.ppfx=i.pStylePrefix||"",this.attr=r.get("attributes"),this.classe=this.attr.class||[],this.listenTo(r,"change:style",this.updateStyle),this.listenTo(r,"change:attributes",this.renderAttributes),this.listenTo(r,"change:highlightable",this.updateHighlight),this.listenTo(r,"change:status change:locked",this.updateStatus),this.listenTo(r,"change:script rerender",this.reset),this.listenTo(r,"change:content",this.updateContent),this.listenTo(r,"change",this.handleChange),this.listenTo(r,"active",this.onActive),this.listenTo(r,"disable",this.onDisable),l.data("model",r),(0,Et.setViewEl)(c,this),r.view=this,this.frameView&&r.views.push(this),this.initClasses(),this.initComponents({avoidRender:!0}),this.events=dc(dc({},this.constructor.getEvents()),{dragstart:"handleDragStart"}),this.delegateEvents(),!a.temporary&&this.init(this._clbObj())},Object.defineProperty(t.prototype,"__cmpStyleOpts",{get:function(){return{state:"",mediaText:""}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"frameView",{get:function(){return this.opts.config.frameView},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"createDoc",{get:function(){var e,r,i=((e=this.frameView)===null||e===void 0?void 0:e.getDoc())||document;return!((r=this.opts.config)===null||r===void 0)&&r.useFrameDoc?i:document},enumerable:!1,configurable:!0}),t.prototype.__isDraggable=function(){var e=this,r=e.model,i=e.config,o=r.attributes.draggable;return i.draggableComponents&&o},t.prototype._clbObj=function(){var e=this,r=e.em,i=e.model,o=e.el;return{editor:r==null?void 0:r.getEditor(),model:i,el:o}},t.prototype.init=function(e){},t.prototype.removed=function(e){},t.prototype.onRender=function(e){},t.prototype.onActive=function(e){},t.prototype.onDisable=function(e){},t.prototype.remove=function(){var e;n.prototype.remove.call(this);var r=this,i=r.model,o=r.$el,a=i.views,s=this.frameView||{};return i.components().forEach(function(l){var c=l.getView(s.model);c==null||c.remove()}),(e=this.childrenView)===null||e===void 0||e.remove(),a.splice(a.indexOf(this),1),this.removed(this._clbObj()),o.data({model:"",collection:"",view:""}),this},t.prototype.handleDragStart=function(e){if(!this.__isDraggable())return!1;e.stopPropagation(),e.preventDefault();var r=this.em.getSelectedAll(),i=r.includes(this.model)?r:[this.model];this.em.Commands.run("tlb-move",{target:i,event:e})},t.prototype.initClasses=function(){var e=this.model,r=e.classes,i="change:classes";r instanceof zu&&(this.stopListening(e,i,this.initClasses),this.listenTo(e,i,this.initClasses),this.listenTo(r,"add remove change reset",this.updateClasses),r.length&&this.importClasses())},t.prototype.initComponents=function(e){e===void 0&&(e={});var r=this,i=r.model,o=r.$el,a=r.childrenView,s="change:components",l=i.get("components"),c=[i,s,this.initComponents];l instanceof v1&&(o.data("collection",l),a&&a.remove(),this.stopListening.apply(this,c),!e.avoidRender&&this.renderChildren(),this.listenTo.apply(this,c))},t.prototype.handleChange=function(){var e=this.model,r=(0,we.keys)(e.changed);if(!(r.length===1&&r[0]==="status")){e.emitUpdate();for(var i in e.changed)e.emitUpdate(i)}},t.prototype.importClasses=function(){var e=this,r=e.em,i=e.model,o=r.Selectors;o&&i.classes.forEach(function(a){return o.add(a.getName())})},t.prototype.updateStatus=function(e){e===void 0&&(e={});var r=this,i=r.em,o=r.el,a=r.ppfx,s=r.model,l=i==null?void 0:i.Canvas,c=l==null?void 0:l.config.extHl,u=s.get("status"),f="".concat(a,"selected"),h="".concat(f,"-parent"),d="".concat(a,"freezed"),m="".concat(a,"hovered"),g="".concat(a,"no-pointer"),x="".concat(a,"pointer-init"),b=[f,h,d,m,g,x],_=c&&!e.noExtHl?"":f;this.$el.removeClass(b.join(" "));var S=o.getAttribute("class")||"",T=[S],C=!(l!=null&&l.hasCustomSpot(Js.F.Select)),w=!(l!=null&&l.hasCustomSpot(Js.F.Target));switch(u){case"selected":C&&T.push(_);break;case"selected-parent":w&&T.push(h);break;case"freezed":T.push(d);break;case"freezed-selected":T.push(d),C&&T.push(_);break;case"hovered":!e.avoidHover&&T.push(m);break}(0,we.isBoolean)(s.locked)&&T.push(s.locked?g:x);var N=T.filter(Boolean).join(" ");N&&o.setAttribute("class",N)},t.prototype.updateHighlight=function(){var e=this.model,r=e.get("textable"),i=e.get("highlightable")&&(r||!e.isChildOf("text"));this.setAttribute("data-gjs-highlightable",i?!0:"")},t.prototype.updateStyle=function(e,r,i){i===void 0&&(i={});var o=this,a=o.model,s=o.em;if(Uv(s)&&!i.inline){var l=this.__cmpStyleOpts,c=a.getStyle(dc({inline:!0},l));!(0,we.isEmpty)(c)&&a.setStyle(c,l)}else this.setAttribute("style",a.styleToString(i))},t.prototype.updateStyles=function(){this.updateStyle()},t.prototype.updateClasses=function(){var e=this.model.classes.pluck("name").join(" ");this.setAttribute("class",e),this.updateStatus(),this.onAttrUpdate()},t.prototype.setAttribute=function(e,r){var i=this.$el;r?i.attr(e,r):i.removeAttr(e)},t.prototype.getClasses=function(){return this.model.getClasses().join(" ")},t.prototype.updateAttributes=function(){var e=[],r=this,i=r.model,o=r.$el,a=r.el,s=i.attributes,l=s.textable,c=s.type,u=dc(dc({id:i.getId(),"data-gjs-type":c||"default"},this.__isDraggable()&&{draggable:!0}),l&&{contenteditable:"false"});(0,we.each)(a.attributes,function(h){return e.push(h.nodeName)}),e.forEach(function(h){return o.removeAttr(h)}),this.updateStyle(),this.updateHighlight();var f=dc(dc({},u),i.getAttributes());(0,we.keys)(f).forEach(function(h){return f[h]===!1&&delete f[h]}),o.attr(f)},t.prototype.updateContent=function(){var e=this.model.content,r=this.model.components().length;this.getChildrenContainer().innerHTML=r?"":e},t.prototype.prevDef=function(e){e.preventDefault()},t.prototype.updateScript=function(){var e=this,r=e.model,i=e.em;r.get("script")&&(i==null||i.Canvas.getCanvasView().updateScript(this))},t.prototype.getChildrenContainer=function(){var e=this.el;return typeof this.getChildrenSelector=="function"?e=this.el.querySelector(this.getChildrenSelector()):this.getTemplate,e},t.prototype.getOffsetRect=function(){var e={top:0,left:0,bottom:0,right:0},r=this.el,i=0,o=0,a=function(s){var l=s.offsetParent;l?(i+=l.offsetTop,o+=l.offsetLeft,a(l)):(e.top=r.offsetTop+i,e.left=r.offsetLeft+o,e.bottom=e.top+r.offsetHeight,e.right=e.left+r.offsetWidth)};return a(r),e},t.prototype.isInViewport=function(){var e=this,r=e.el,i=e.em,o=e.frameView,a=i.Canvas.getCanvasView(),s=a.getElBoxRect(r,{local:!0}),l=o.el,c=l.clientHeight,u=l.clientWidth,f=s.y,h=s.x,d=f+s.height,m=h+s.width,g=f>=0&&f<c,x=d>0&&d<c,b=m>=0&&m<u,_=h>0&&h<=u,S=(g||x)&&(b||_);return S},t.prototype.scrollIntoView=function(e){var r;e===void 0&&(e={});var i=this.isInViewport();if(!i||e.force){var o=this.el;if(e.behavior!=="smooth"){var a=this.getOffsetRect();(r=o.ownerDocument.defaultView)===null||r===void 0||r.scrollTo(0,a.top)}else o.scrollIntoView(dc({behavior:"smooth",block:"nearest"},e))}},t.prototype.reset=function(){var e=this,r=e.el,i=e.model;e.scriptContainer&&i.emitWithEditor(Tn.I.scriptUnmount,{component:i,view:e,el:r}),this.el="",this._ensureElement(),this._setData(),(0,Kt.bG)(r,this.el),this.render()},t.prototype._setData=function(){var e=this,r=e.model,i=e.el,o=r.components(),a=this;this.$el.data({model:r,collection:o,view:a}),(0,Et.setViewEl)(i,this)},t.prototype._createElement=function(e){return this.createDoc.createElement(e)},t.prototype.renderChildren=function(){this.updateContent();var e=this.getChildrenContainer(),r=this.childrenView||new lL({collection:this.model.get("components"),config:this.config,componentTypes:this.opts.componentTypes});r.render(e),this.childrenView=r;for(var i=Array.prototype.slice.call(r.el.childNodes),o=0,a=i.length;o<a;o++)e.appendChild(i.shift())},t.prototype.renderAttributes=function(){this.updateAttributes(),this.updateClasses()},t.prototype.onAttrUpdate=function(){},t.prototype.render=function(){return this.renderAttributes(),this.modelOpt.temporary?this:(this.renderChildren(),this.updateScript(),(0,Et.setViewEl)(this.el,this),this.postRender(),this)},t.prototype.postRender=function(){if(!this.modelOpt.temporary){var e=this,r=e.model,i=e.el;this.onRender(this._clbObj()),r.emitWithEditor(Tn.I.render,{component:r,view:this,el:i})}},t.getEvents=function(){return(0,we.result)(this.prototype,"events")},t}(Wt.Ss);const Qn=Q_e;var eSe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),tSe=function(n){eSe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype._setAttributes=function(){},t.prototype.renderAttributes=function(){},t.prototype.updateStatus=function(){},t.prototype.updateClasses=function(){},t.prototype.setAttribute=function(){},t.prototype.updateAttributes=function(){},t.prototype.initClasses=function(){},t.prototype.initComponents=function(){},t.prototype.delegateEvents=function(){return this},t.prototype._createElement=function(){return document.createTextNode("")},t.prototype.render=function(){var e=this,r=e.model,i=e.el;return r.opt.temporary?this:(i.textContent=r.content,this)},t}(Qn);const cL=tSe;var rSe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),nSe=function(n){rSe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype._createElement=function(){return document.createComment(this.model.content)},t}(cL);const iSe=nSe;var oSe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),aSe=function(n){oSe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.tagName=function(){return"div"},t.prototype.initialize=function(e){n.prototype.initialize.call(this,e),this.listenTo(this.model,"change:attributes:src",this.updateSrc)},t.prototype.updateSrc=function(){var e=(0,Kt.I6)(this.el,"iframe")[0];e&&(0,Kt.X6)(e,{src:this.__getSrc()})},t.prototype.render=function(){n.prototype.render.call(this);var e=(0,Kt.a_)("iframe",{class:"".concat(this.ppfx,"no-pointer"),style:"width: 100%; height: 100%; border: none",src:this.__getSrc()});return this.el.appendChild(e),this},t.prototype.__getSrc=function(){return this.model.getAttributes().src||""},t}(Qn);const sSe=aSe;var lSe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),cSe=function(n){lSe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.tagName=function(){return"img"},t.prototype.events=function(){return{dblclick:"onActive",click:"initResize",error:"onError",load:"onLoad",dragstart:"noDrag"}},t.prototype.initialize=function(e){n.prototype.initialize.call(this,e),this.listenTo(this.model,"change:src",this.updateSrc),this.classEmpty="".concat(this.ppfx,"plh-image"),this.fetchFile()},t.prototype.fetchFile=function(){if(!this.modelOpt.temporary){var e=this,r=e.model,i=e.em,o=r.get("file");if(o&&i){var a=i.Assets.FileUploader();a==null||a.uploadFile({dataTransfer:{files:[o]}},function(s){var l=s&&s.data&&s.data[0],c=l&&((0,we.isString)(l)?l:l.src);c&&r.set({src:c})}),r.set("file","")}}},t.prototype.updateSrc=function(){var e=this.model;e.addAttributes({src:e.getSrcResult()}),this.updateClasses()},t.prototype.updateClasses=function(){n.prototype.updateClasses.call(this);var e=this,r=e.el,i=e.classEmpty,o=e.model,a=o.getSrcResult()&&!o.isDefaultSrc(),s=a?"remove":"add";r.classList[s](i)},t.prototype.onActive=function(e){e==null||e.stopPropagation();var r=this,i=r.em,o=r.model,a=i==null?void 0:i.Assets;a&&o.get("editable")&&a.open({select:function(s,l){o.set({src:s.getSrc()}),l&&a.close()},target:o,types:["image"],accept:"image/*"})},t.prototype.onError=function(){var e=this,r=e.model,i=e.el,o=r.getSrcResult({fallback:!0});o&&(i.srcset&&(i.srcset=""),i.src=o)},t.prototype.onLoad=function(){this.em.Canvas.refresh({all:!0})},t.prototype.noDrag=function(e){return e.preventDefault(),!1},t.prototype.render=function(){if(this.renderAttributes(),this.modelOpt.temporary)return this;this.updateSrc();var e=this,r=e.$el,i=e.model,o=r.attr("class")||"";return!i.get("src")&&r.attr("class","".concat(o," ").concat(this.classEmpty).trim()),this.postRender(),this},t}(Qn);const B4=cSe;var uSe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Xf=function(){return Xf=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Xf.apply(this,arguments)},Nm=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(a){a(o)})}return new(e||(e=Promise))(function(o,a){function s(u){try{c(r.next(u))}catch(f){a(f)}}function l(u){try{c(r.throw(u))}catch(f){a(f)}}function c(u){u.done?o(u.value):i(u.value).then(s,l)}c((r=r.apply(n,t||[])).next())})},Pm=function(n,t){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(e=0)),e;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return e.label++,{value:c[1],done:!1};case 5:e.label++,i=c[1],c=[0];continue;case 7:c=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){e=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){e.label=c[1];break}if(c[0]===6&&e.label<o[1]){e.label=o[1],o=c;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(c);break}o[2]&&e.ops.pop(),e.trys.pop();continue}c=t.call(n,e)}catch(u){c=[6,u],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},fSe=function(n){uSe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.events=function(){return{dblclick:"onActive",input:"onInput"}},t.prototype.initialize=function(e){n.prototype.initialize.call(this,e),(0,we.bindAll)(this,"disableEditing","onDisable");var r=this.model,i=this.em;this.listenTo(r,"focus",this.onActive),this.listenTo(r,"change:content",this.updateContentText),this.listenTo(r,"sync:content",this.syncContent),this.rte=i==null?void 0:i.RichTextEditor},t.prototype.updateContentText=function(e,r,i){i===void 0&&(i={}),!i.fromDisable&&this.disableEditing()},t.prototype.canActivate=function(){var e=this,r=e.model,i=e.rteEnabled,o=e.em,a=o==null?void 0:o.getEditing(),s=a===r,l=!0,c=!1,u;if((i||!r.get("editable")||s||(c=r.isChildOf("text")))&&(l=!1,c&&!r.get("textable"))){for(var f=r.parent();f&&!f.isInstanceOf("text");)f=f.parent();f&&f.get("editable")?u=f:l=!0}return{result:l,delegate:u}},t.prototype.onActive=function(e){return Nm(this,void 0,void 0,function(){var r,i,o,a,s,l,c,u,f,h,d,m;return Pm(this,function(g){switch(g.label){case 0:return r=this,i=r.rte,o=r.em,a=this.canActivate(),s=a.result,l=a.delegate,s?((m=e==null?void 0:e.stopPropagation)===null||m===void 0||m.call(e),c=this,[4,this.getContent()]):(l&&((d=e==null?void 0:e.stopPropagation)===null||d===void 0||d.call(e),o.setSelected(l),l.trigger("active",e)),[2]);case 1:if(c.lastContent=g.sent(),!i)return[3,5];g.label=2;case 2:return g.trys.push([2,4,,5]),u=this,f=this,[4,i.enable(u,this.activeRte,{event:e,view:u})];case 3:return f.activeRte=g.sent(),[3,5];case 4:return h=g.sent(),o.logError(h),[3,5];case 5:return this.toggleEvents(!0),[2]}})})},t.prototype.onDisable=function(e){this.disableEditing(e)},t.prototype.disableEditing=function(){return Nm(this,arguments,void 0,function(e){var r,i,o,a,s,l,c,u,f;return e===void 0&&(e={}),Pm(this,function(h){switch(h.label){case 0:return r=this,i=r.model,o=r.rte,a=r.activeRte,s=r.em,l=i&&i.get("editable"),o?(c={},[4,this.getContent()]):[3,7];case 1:u=h.sent(),h.label=2;case 2:return h.trys.push([2,4,,5]),[4,o.disable(this,a,e)];case 3:return c=h.sent(),[3,5];case 4:return f=h.sent(),s.logError(f),[3,5];case 5:return l&&(u!==this.lastContent||c.forceSync)?[4,this.syncContent(Xf(Xf({},e),{content:u}))]:[3,7];case 6:h.sent(),this.lastContent="",h.label=7;case 7:return this.toggleEvents(),[2]}})})},t.prototype.getContent=function(){return Nm(this,void 0,void 0,function(){var e,r,i,o;return Pm(this,function(a){switch(a.label){case 0:return e=this,r=e.rte,i=e.activeRte,o="",r?[4,r.getContent(this,i)]:[3,2];case 1:o=a.sent(),a.label=2;case 2:return[2,o]}})})},t.prototype.syncContent=function(){return Nm(this,arguments,void 0,function(e){var r,i,o,a,s,l,c,u,f;return e===void 0&&(e={}),Pm(this,function(h){switch(h.label){case 0:return r=this,i=r.model,o=r.rte,a=r.rteEnabled,!a&&!e.force?[2]:(f=e.content)!==null&&f!==void 0?(l=f,[3,3]):[3,1];case 1:return[4,this.getContent()];case 2:l=h.sent(),h.label=3;case 3:return s=l,c=i.components(),u=Xf({fromDisable:1},e),i.set("content","",u),o!=null&&o.customRte&&!o.customRte.parseContent?(c.length&&c.reset(void 0,Xf(Xf({},e),{keepIds:Nh(c)})),i.set("content",s,u)):c.resetFromString(s,e),[2]}})})},t.prototype.insertComponent=function(e,r){var i;r===void 0&&(r={});var o=this,a=o.model,s=o.el,l=s.ownerDocument,c=l.getSelection();if(c!=null&&c.rangeCount){var u=c.getRangeAt(0),f=u.startContainer,h=u.startOffset,d=(0,Et.getComponentModel)(f),m=[];if(d&&(!((i=d.is)===null||i===void 0)&&i.call(d,"textnode"))){var g=d.collection;g.forEach(function(_){if(_===d){var S="textnode",T=r.useDomContent?f.textContent||"":_.content;m.push({type:S,content:T.slice(0,h)}),m.push(e),m.push({type:S,content:T.slice(h)})}else m.push(_)});var x=m.filter(Boolean),b=x.indexOf(e);return g.reset(x,r),g.at(b)}}return a.append(e,r)},t.prototype.onInput=function(){var e=this.model,r=[Tn.I.update,Tn.I.input];r.forEach(function(i){return e.emitWithEditor(i,e)})},t.prototype.disablePropagation=function(e){e.stopPropagation()},t.prototype.toggleEvents=function(e){var r=this,i=r.em,o=r.model,a=r.$el,s={on:Kt.on,off:Kt.AU},l=e?"on":"off";i.setEditing(e?this:!1),this.rteEnabled=!!e;var c=[this.el.ownerDocument,document];if(s.off(c,"mousedown",this.onDisable),s[l](c,"mousedown",this.onDisable),i[l]("toolbar:run:before",this.onDisable),o&&(o[l]("removed",this.onDisable),o.trigger("rte:".concat(e?"enable":"disable"))),a==null||a.off("mousedown",this.disablePropagation),a&&a[l]("mousedown",this.disablePropagation),this.config.draggableComponents)for(var u=this.el;u;)u.draggable=!e,u=u.parentNode,u&&u.tagName=="BODY"&&(u=0)},t}(Qn);const uL=fSe;var dSe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),hSe=function(n){dSe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.render=function(){return n.prototype.render.call(this),this.el.addEventListener("click",this.prevDef,!0),this},t}(uL);const fL=hSe;var pSe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),vSe=function(n){pSe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t}(fL);const gSe=vSe;var mSe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ySe=function(n){mSe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.tagName=function(){return"div"},t.prototype.events=function(){return{}},t.prototype.initialize=function(e){n.prototype.initialize.call(this,e),this.classEmpty=this.ppfx+"plh-map"},t.prototype.updateSrc=function(){this.getIframe().src=this.model.get("src")},t.prototype.getIframe=function(){if(!this.iframe){var e=document.createElement("iframe");e.src=this.model.get("src"),e.frameBorder="0",e.style.height="100%",e.style.width="100%",e.className=this.ppfx+"no-pointer",this.iframe=e}return this.iframe},t.prototype.render=function(){return n.prototype.render.call(this),this.updateClasses(),this.el.appendChild(this.getIframe()),this},t}(B4);const bSe=ySe;var xSe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),wSe=function(n){xSe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.tagName=function(){return"script"},t.prototype.events=function(){return{}},t}(Qn);const _Se=wSe;var SSe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),TSe=function(n){SSe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype._createElement=function(e){return document.createElementNS("http://www.w3.org/2000/svg",e)},t}(Qn);const x6=TSe;var CSe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ESe=function(n){CSe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t}(Qn);const OSe=ESe;var ASe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),NSe=function(n){ASe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t}(Qn);const PSe=NSe;var jSe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),kSe=function(n){jSe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t}(Qn);const MSe=kSe;var LSe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),DSe=function(n){LSe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t}(Qn);const ISe=DSe;var RSe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),FSe=function(n){RSe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t}(Qn);const BSe=FSe;var HSe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),$Se=function(n){HSe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.events=function(){return{}},t}(Qn);const USe=$Se;var VSe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),zSe=function(n){VSe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.tagName=function(){return"div"},t.prototype.events=function(){return{}},t.prototype.initialize=function(){Qn.prototype.initialize.apply(this,arguments);var e=this.model,r=["loop","autoplay","controls","color","rel","modestbranding","poster","muted"],i=r.map(function(o){return"change:".concat(o)}).join(" ");this.listenTo(e,"change:provider",this.updateProvider),this.listenTo(e,"change:src",this.updateSrc),this.listenTo(e,i,this.updateVideo)},t.prototype.updateProvider=function(){var e=this.model.get("provider");this.el.innerHTML="",this.el.appendChild(this.renderByProvider(e))},t.prototype.updateSrc=function(){var e=this,r=e.model,i=e.videoEl;if(i){var o=r.get("provider"),a=r.get("src");switch(o){case"yt":a=r.getYoutubeSrc();break;case"ytnc":a=r.getYoutubeNoCookieSrc();break;case"vi":a=r.getVimeoSrc();break}i.src=a}},t.prototype.updateVideo=function(){var e=this,r=e.model,i=e.videoEl,o=r.get("provider");switch(o){case"yt":case"ytnc":case"vi":r.trigger("change:videoId");break;default:if(i){var a=i;a.loop=r.get("loop"),a.autoplay=r.get("autoplay"),a.controls=r.get("controls"),a.poster=r.get("poster"),a.muted=r.get("muted")}}},t.prototype.renderByProvider=function(e){var r;switch(e){case"yt":r=this.renderYoutube();break;case"ytnc":r=this.renderYoutubeNoCookie();break;case"vi":r=this.renderVimeo();break;default:r=this.renderSource()}return this.videoEl=r,r},t.prototype.renderSource=function(){var e=document.createElement("video");return e.src=this.model.get("src"),this.initVideoEl(e),e},t.prototype.renderYoutube=function(){var e=document.createElement("iframe");return e.src=this.model.getYoutubeSrc(),e.frameBorder="0",e.setAttribute("allowfullscreen","true"),this.initVideoEl(e),e},t.prototype.renderYoutubeNoCookie=function(){var e=document.createElement("iframe");return e.src=this.model.getYoutubeNoCookieSrc(),e.frameBorder="0",e.setAttribute("allowfullscreen","true"),this.initVideoEl(e),e},t.prototype.renderVimeo=function(){var e=document.createElement("iframe");return e.src=this.model.getVimeoSrc(),e.frameBorder="0",e.setAttribute("allowfullscreen","true"),this.initVideoEl(e),e},t.prototype.initVideoEl=function(e){e.className=this.ppfx+"no-pointer",e.style.height="100%",e.style.width="100%"},t.prototype.render=function(){Qn.prototype.render.apply(this),this.updateClasses();var e=this.model.get("provider");return this.el.appendChild(this.renderByProvider(e)),this.updateVideo(),this},t}(B4);const WSe=zSe;var qSe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),GSe=function(n){qSe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.tagName=function(){return"div"},t}(Qn);const KSe=GSe;var YSe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),qy=function(){return qy=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},qy.apply(this,arguments)},XSe=function(n){YSe(t,n);function t(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var i=n.apply(this,e)||this;i.refreshDbn=(0,we.debounce)(function(){return i.refresh()},0);var o=i.events;return i.on(o.update,i.onUpdate),i.on(o.updateInside,i.onUpdateDeep),i}return t.prototype.removeChildren=function(e,r,i){var o;i===void 0&&(i={}),n.prototype.removeChildren.call(this,e,r,i),(o=Xa(e))===null||o===void 0||o.forEach(function(a){return zx(a,{skipRefs:!0})}),this.__trgEvent(this.events.symbolMainRemove,{component:e})},t.prototype.onAdd=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];n.prototype.onAdd.apply(this,e);var i=e[0];this.__trgEvent(this.events.symbolMainAdd,{component:i})},t.prototype.onUpdate=function(e){this.__trgEvent(this.events.symbolMainUpdate,e)},t.prototype.onUpdateDeep=function(e){this.__trgEvent(this.events.symbolMainUpdateDeep,e)},t.prototype.refresh=function(){var e=this,r=e.em,i=e.events;r.trigger(i.symbol)},t.prototype.__trgEvent=function(e,r,i){i===void 0&&(i=!1);var o=this,a=o.em,s=o.events,l=i?s.symbolInstance:s.symbolMain;a.trigger(e,r),a.trigger(l,qy(qy({},r),{event:e})),this.refreshDbn()},t}(v1);const ZSe=XSe;var JSe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Mh=function(){return Mh=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Mh.apply(this,arguments)},dL=function(n){JSe(t,n);function t(e,r){var i=n.call(this,e,r)||this;return i.dataResolver=i.initializeDataResolver(e,r),i.listenToPropsChange(),i}return t.prototype.initializeDataResolver=function(e,r){var i,o=(i=e.dataResolver)!==null&&i!==void 0?i:{type:e.type},a=this.createResolverInstance(o,Mh(Mh({},r),{collectionsStateMap:this.collectionsStateMap}));return a},t.prototype.getDataResolver=function(){return this.get("dataResolver")},t.prototype.setDataResolver=function(e){return this.set("dataResolver",e)},t.prototype.onCollectionsStateMapUpdate=function(e){this.dataResolver.updateCollectionsStateMap(e),n.prototype.onCollectionsStateMapUpdate.call(this,e)},t.prototype.listenToPropsChange=function(){var e=this;this.listenTo(this.dataResolver,"change",(function(){e.__changesUp({m:e})}).bind(this)),this.on("change:dataResolver",function(){e.dataResolver.set(e.get("dataResolver"))})},t.prototype.removePropsListeners=function(){this.stopListening(this.dataResolver),this.off("change:dataResolver"),this.off("change:".concat(this.collectionsStateMap))},t.prototype.destroy=function(e){return this.removePropsListeners(),n.prototype.destroy.call(this,e)},t.prototype.toJSON=function(e){var r=n.prototype.toJSON.call(this,e),i=this.dataResolver.toJSON();return delete i.type,Mh(Mh({},r),{dataResolver:i})},t}(Mi),QSe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Gy=function(){return Gy=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Gy.apply(this,arguments)},eTe=function(n){QSe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"defaults",{get:function(){return Gy(Gy({},n.prototype.defaults),{type:_s,dataResolver:{},droppable:!1})},enumerable:!1,configurable:!0}),t.prototype.getPath=function(){return this.dataResolver.get("path")},t.prototype.getCollectionId=function(){return this.dataResolver.get("collectionId")},t.prototype.getVariableType=function(){return this.dataResolver.get("variableType")},t.prototype.getDefaultValue=function(){return this.dataResolver.get("defaultValue")},t.prototype.getDataValue=function(){return this.dataResolver.getDataValue()},t.prototype.resolvesFromCollection=function(){return this.dataResolver.resolvesFromCollection()},t.prototype.getInnerHTML=function(){return this.getDataValue()},t.prototype.setPath=function(e){this.dataResolver.set("path",e)},t.prototype.setDefaultValue=function(e){this.dataResolver.set("defaultValue",e)},t.prototype.resetDataSourcePath=function(e){this.set("dataResolver",{path:e,collectionId:void 0,variableType:void 0})},t.prototype.createResolverInstance=function(e,r){return new Ud(e,r)},t.isComponent=function(e){return(0,Et.toLowerCase)(e.tagName)===_s},t}(dL);const tTe=eTe;var rTe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),nTe=function(n){rTe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.initialize=function(e){var r=this;e===void 0&&(e={}),n.prototype.initialize.call(this,e),this.dataResolverListener=new iv({em:this.em,resolver:this.model.dataResolver,onUpdate:function(){return r.postRender()}})},t.prototype.remove=function(){return this.dataResolverListener.destroy(),n.prototype.remove.call(this)},t.prototype.postRender=function(){var e=this.model,r=e.getDataResolver(),i=!!r.asPlainText;i?this.el.textContent=e.getDataValue():this.el.innerHTML=e.getDataValue(),n.prototype.postRender.call(this)},t}(Qn);const iTe=nTe;var oTe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),aTe=function(n){oTe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.initialize=function(e){e===void 0&&(e={}),n.prototype.initialize.call(this,e),this.postRender=this.postRender.bind(this),this.listenTo(this.model.components(),"reset",this.postRender),this.dataResolverListener=new iv({em:this.em,resolver:this.model.dataResolver,onUpdate:this.postRender})},t.prototype.renderDataResolver=function(){var e=this.model.getIfTrueContent(),r=this.model.getIfFalseContent(),i=e==null?void 0:e.getEl(),o=r==null?void 0:r.getEl(),a=this.model.isTrue();i&&(i.style.display=a?"":"none"),o&&(o.style.display=a?"none":"")},t.prototype.postRender=function(){this.renderDataResolver(),n.prototype.postRender.call(this)},t.prototype.remove=function(){return this.stopListening(this.model.components(),"reset",this.postRender),this.dataResolverListener.destroy(),n.prototype.remove.call(this)},t}(Qn);const sTe=aTe;var lTe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ky=function(){return Ky=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Ky.apply(this,arguments)},cTe=function(n){lTe(t,n);function t(e,r){r===void 0&&(r={});var i,o=n.call(this,e,r)||this;return o.mutable=(i=e.mutable)!==null&&i!==void 0?i:!0,o.on("change",o.handleChange),o}return Object.defineProperty(t.prototype,"cl",{get:function(){return this.collection},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataSource",{get:function(){return this.cl.dataSource},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"em",{get:function(){return this.dataSource.em},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return this.cl.indexOf(this)},enumerable:!1,configurable:!0}),t.prototype.handleChange=function(e,r){var i=this,o=this.changedAttributes();(0,we.keys)(o).forEach(function(a){return i.triggerChange(a,r)})},t.prototype.getPath=function(e,r){r===void 0&&(r={});var i=this,o=i.dataSource,a=i.id,s=i.index,l=o.id,c=e?".".concat(e):"";return"".concat(l,".").concat(r.useIndex?s:a).concat(c)},t.prototype.getPaths=function(e){return[this.getPath(e),this.getPath(e,{useIndex:!0})]},t.prototype.triggerChange=function(e,r){r===void 0&&(r={});var i=this,o=i.dataSource,a=i.em,s=this.getPaths(e),l={dataSource:o,dataRecord:this,path:s[0],options:r};a.trigger(Gu.path,l),a.trigger("".concat(Gu.pathSource,":").concat(o.id),l),s.forEach(function(c){return a.trigger("".concat(Gu.path,":").concat(c),Ky(Ky({},l),{path:c}))})},t.prototype.set=function(e,r,i){var o=this,a,s;if(!this.isNew()&&this.attributes.mutable===!1)throw new Error("Cannot modify immutable record");var l=(s=(a=this.dataSource)===null||a===void 0?void 0:a.transformers)===null||s===void 0?void 0:s.onRecordSetValue,c=function(x,b,_){_===void 0&&(_={});var S=_!=null&&_.avoidTransformers||!l?b:l({id:o.id,key:x,value:b});n.prototype.set.call(o,x,S,_),n.prototype.set.call(o,{__p:_.partial?!0:void 0},_)};if(typeof e=="object"&&e!==null)for(var u=e,f=0,h=Object.entries(u);f<h.length;f++){var d=h[f],m=d[0],g=d[1];c(m,g,r)}else c(e,r,i);return this},t}(Wt.Kx);const uTe=cTe;var fTe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),hL=function(n){fTe(t,n);function t(e,r){var i=n.call(this,e,r)||this;return i.dataSource=r.dataSource,i}return t}(Wt.pM);const w6=hL;hL.prototype.model=uTe;var dTe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Yy=function(){return Yy=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Yy.apply(this,arguments)},hTe=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},pTe=function(n){dTe(t,n);function t(e,r){var i=n.call(this,Yy(Yy({},e),{records:[]}),r)||this,o=e.records,a=e.transformers;return i.transformers=a||{},o instanceof w6||i.set({records:new w6(o,{dataSource:i})}),i.listenTo(i.records,"add",i.onAdd),i.listenTo(i.records,Wt.e2,i.handleChanges),i}return t.prototype.defaults=function(){return{records:[],transformers:{}}},Object.defineProperty(t.prototype,"records",{get:function(){return this.attributes.records},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"em",{get:function(){return this.collection.em},enumerable:!1,configurable:!0}),t.prototype.onAdd=function(e){e.triggerChange()},t.prototype.addRecord=function(e,r){return this.records.add(e,r)},t.prototype.getRecord=function(e){return this.records.get(e)},t.prototype.getRecords=function(){var e=this;return hTe([],this.records.models,!0).map(function(r){return e.getRecord(r.id)})},t.prototype.removeRecord=function(e,r){var i=this.getRecord(e);if((i==null?void 0:i.mutable)===!1&&!(r!=null&&r.dangerously))throw new Error("Cannot remove immutable record");return this.records.remove(e,r)},t.prototype.setRecords=function(e){var r=this;this.records.reset([],{silent:!0}),e.forEach(function(i){r.records.add(i)})},t.prototype.handleChanges=function(e,r,i){this.em.changesUp(i||r)},t}(Wt.Kx);const pL=pTe;var vTe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ma=function(){return ma=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ma.apply(this,arguments)},T5={avoidStore:!0,partial:!0},gTe=function(n){vTe(t,n);function t(e,r){var i=this;if(r.forCloning)return i=n.call(this,e,r)||this;var o=ma(ma({},e),{droppable:!1}),a=i=n.call(this,o,r)||this;return i.rebuildChildrenFromCollection=i.rebuildChildrenFromCollection.bind(i),i.listenToPropsChange(),i.rebuildChildrenFromCollection(),a}return Object.defineProperty(t.prototype,"defaults",{get:function(){return ma(ma({},n.prototype.defaults),{droppable:!1,dataResolver:{},type:aS,components:[{type:rg}]})},enumerable:!1,configurable:!0}),t.prototype.getDataResolver=function(){return this.get("dataResolver")},t.prototype.getItemsCount=function(){var e,r,i=this.getDataSourceItems(),o=yTe(i),a=Math.max(0,(e=this.getConfigStartIndex())!==null&&e!==void 0?e:0),s=(r=this.getConfigEndIndex())!==null&&r!==void 0?r:Number.MAX_VALUE,l=Math.min(o-1,s),c=l-a+1;return Math.max(0,c)},t.prototype.getConfigStartIndex=function(){return this.dataResolver.startIndex},t.prototype.getConfigEndIndex=function(){return this.dataResolver.endIndex},t.prototype.getDataSource=function(){var e;return(e=this.dataResolver)===null||e===void 0?void 0:e.dataSource},t.prototype.getCollectionId=function(){var e;return(e=this.dataResolver)===null||e===void 0?void 0:e.collectionId},t.prototype.getCollectionItemComponents=function(){return this.firstChild.components()},t.prototype.setDataResolver=function(e){return this.set("dataResolver",e)},t.prototype.setCollectionId=function(e){this.updateCollectionConfig({collectionId:e})},t.prototype.setStartIndex=function(e){if(e<0){this.em.logError("Start index should be greater than or equal to 0");return}this.updateCollectionConfig({startIndex:e})},t.prototype.setEndIndex=function(e){this.updateCollectionConfig({endIndex:e})},t.prototype.setDataSource=function(e){this.set(xh,ma(ma({},this.dataResolver),{dataSource:e}))},t.prototype.setCollectionItemComponents=function(e){this.firstChild.components(e)},Object.defineProperty(t.prototype,"firstChild",{get:function(){return this.components().at(0)},enumerable:!1,configurable:!0}),t.prototype.updateCollectionConfig=function(e){this.set(xh,ma(ma({},this.dataResolver),e))},t.prototype.getDataSourceItems=function(){var e=wTe(this.dataResolver.dataSource,this.em);if((0,we.isArray)(e))return e;var r=ma({},e);return delete r.__p,r},Object.defineProperty(t.prototype,"dataResolver",{get:function(){return this.get(xh)||{}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"collectionDataSource",{get:function(){return this.dataResolver.dataSource},enumerable:!1,configurable:!0}),t.prototype.listenToDataSource=function(){var e,r=this.em,i=(e=this.collectionDataSource)===null||e===void 0?void 0:e.path;i&&(this.dataSourceWatcher=new iv({em:r,resolver:new Ud({type:_s,path:i},{em:r,collectionsStateMap:this.collectionsStateMap}),onUpdate:this.rebuildChildrenFromCollection}))},t.prototype.rebuildChildrenFromCollection=function(){this.components().reset(this.getCollectionItems(),cS)},t.prototype.getCollectionItems=function(){var e,r=this.ensureFirstChild(),i=r.getStyle().display,o=!i||i==="none",a=o?"":i;r.addStyle({display:"none"},T5);var s=[r],l=xTe(this.dataResolver,this.em);if(!l)return s;var c=this.collectionId,u=this.getDataSourceItems(),f=this.resolveCollectionConfig(u),h=f.startIndex,d=f.endIndex,m=this.hasDuplicateCollectionId();if(m)return this.em.logError('The collection ID "'.concat(c,'" already exists in the parent collection state. Overriding it is not allowed.')),s;for(var g=h;g<=d;g++){var x=g===h,b=(0,we.isArray)(u)?g:Object.keys(u)[g],_=this.getCollectionsStateMapForItem(u,b);if(x){(e=Xa(r))===null||e===void 0||e.forEach(function(T){return zx(T)}),_6(r,_),r.addStyle({display:a},T5);continue}var S=r.clone({symbol:!0,symbolInv:!0});S.set({locked:!0,layerable:!1},T5),_6(S,_),s.push(S)}return s},t.prototype.getCollectionsStateMapForItem=function(e,r){var i,o=this.resolveCollectionConfig(e),a=o.startIndex,s=o.endIndex,l=o.totalItems,c=this.collectionId,u=e[r],f=this.collectionsStateMap,h=typeof r=="string"?Object.keys(e).indexOf(r):r,d=h-a,m=l-(1+d),g={collectionId:c,currentIndex:h,currentItem:u,currentKey:r,startIndex:a,endIndex:s,totalItems:l,remainingItems:m},x=ma(ma({},f),(i={},i[c]=g,i));return x},t.prototype.hasDuplicateCollectionId=function(){var e=this.collectionId,r=this.collectionsStateMap;return!!r[e]},t.prototype.resolveCollectionConfig=function(e){var r,i,o=Array.isArray(e),a=o?e.length:Object.keys(e).length,s=(r=this.getConfigStartIndex())!==null&&r!==void 0?r:0,l=(i=this.getConfigEndIndex())!==null&&i!==void 0?i:Number.MAX_VALUE,c=Math.min(a-1,l),u=0;return a>0&&(u=Math.max(0,c-s+1)),{startIndex:s,endIndex:c,totalItems:u,isArray:o}},t.prototype.ensureFirstChild=function(){var e=this.em.Components.getType(rg).model;return this.firstChild||new e({type:rg},this.opt)},t.prototype.listenToPropsChange=function(){var e=this;this.on("change:".concat(xh),function(){e.rebuildChildrenFromCollection(),e.listenToDataSource()}),this.listenToDataSource()},t.prototype.removePropsListeners=function(){var e;this.off("change:".concat(xh)),(e=this.dataSourceWatcher)===null||e===void 0||e.destroy()},t.prototype.onCollectionsStateMapUpdate=function(e){var r=this;this.collectionsStateMap=e,this.dataResolverWatchers.onCollectionsStateMapUpdate();var i=this.getDataSourceItems(),o=this.resolveCollectionConfig(i).startIndex,a=this.components();a.forEach(function(s,l){var c=r.getCollectionsStateMapForItem(i,o+l);s.onCollectionsStateMapUpdate(c)})},t.prototype.stopSyncComponentCollectionState=function(){this.stopListening(this.components(),"add remove reset",this.syncOnComponentChange),this.onCollectionsStateMapUpdate({})},t.prototype.syncOnComponentChange=function(e,r,i){var o=this.collectionsStateMap;this.collectionsStateMap={},n.prototype.syncOnComponentChange.call(this,e,r,i),this.collectionsStateMap=o,this.onCollectionsStateMapUpdate(o)},Object.defineProperty(t.prototype,"collectionId",{get:function(){return this.getDataResolver().collectionId},enumerable:!1,configurable:!0}),t.isComponent=function(e){return(0,Et.toLowerCase)(e.tagName)===aS},t.prototype.toJSON=function(e){var r,i=n.prototype.toJSON.call(this,e);delete i.droppable,delete i[$a],(r=i.attributes)===null||r===void 0||delete r.id;var o=this.firstChild;return ma(ma({},i),{components:[o]})},t.prototype.destroy=function(e){return this.removePropsListeners(),n.prototype.destroy.call(this,e)},t}(Mi);const mTe=gTe;function yTe(n){return(0,we.isArray)(n)?n.length:Object.keys(n).length}function _6(n,t){n.setSymbolOverride(["locked","layerable"]),n.syncComponentsCollectionState(),n.onCollectionsStateMapUpdate(t)}function bTe(n,t,e){return n?!0:(e.logError('The "'.concat(t,'" property is required in the collection definition.')),!1)}function xTe(n,t){for(var e=[{property:n==null?void 0:n.collectionId,propertyPath:"dataResolver.collectionId"},{property:n==null?void 0:n.dataSource,propertyPath:"dataResolver.dataSource"}],r=0,i=e;r<i.length;r++){var o=i[r].propertyPath;if(!bTe(n,o,t))return[]}var a=n==null?void 0:n.startIndex;return a!==void 0&&(a<0||!Number.isInteger(a))&&t.logError("Invalid startIndex: ".concat(a,". It must be a non-negative integer.")),!0}function wTe(n,t){switch(!0){case((0,Et.isObject)(n)&&n instanceof pL):{var e=n.get("id");return S6(e,t)}case jd(n):{var r=n.path;if(!r)return[];var i=r.split(".").length===1;return i?S6(r,t):t.DataSources.getValue(r,[])}default:return[]}}function S6(n,t){var e=t.DataSources.getValue(n,[]),r=Object.keys(e);return r.map(function(i){return{type:_s,path:n+"."+i}})}var _Te=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),STe=function(n){_Te(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t}(Qn);const TTe=STe;var CTe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Xy=function(){return Xy=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Xy.apply(this,arguments)},ETe=function(n){CTe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"defaults",{get:function(){return Xy(Xy({},n.prototype.defaults),{droppable:!1,type:ef,dataResolver:{condition:{left:"",operator:Ll.equalsIgnoreCase,right:""}},components:[{type:j4},{type:k4}]})},enumerable:!1,configurable:!0}),t.prototype.isTrue=function(){return this.dataResolver.isTrue()},t.prototype.getCondition=function(){return this.dataResolver.getCondition()},t.prototype.getIfTrueContent=function(){return this.components().at(0)},t.prototype.getIfFalseContent=function(){return this.components().at(1)},t.prototype.getOutputContent=function(){return this.isTrue()?this.getIfTrueContent():this.getIfFalseContent()},t.prototype.setCondition=function(e){this.dataResolver.setCondition(e)},t.prototype.setIfTrueComponents=function(e){this.setComponentsAtIndex(0,e)},t.prototype.setIfFalseComponents=function(e){this.setComponentsAtIndex(1,e)},t.prototype.getInnerHTML=function(e){var r,i;return(i=(r=this.getOutputContent())===null||r===void 0?void 0:r.getInnerHTML(e))!==null&&i!==void 0?i:""},t.prototype.createResolverInstance=function(e,r){return new P4(e,r)},t.prototype.setComponentsAtIndex=function(e,r){var i=this.components().at(e);i==null||i.components(r)},t.isComponent=function(e){return(0,Et.toLowerCase)(e.tagName)===ef},t}(dL);const OTe=ETe;var ATe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Zy=function(){return Zy=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Zy.apply(this,arguments)},NTe=function(n){ATe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"defaults",{get:function(){return Zy(Zy({},n.prototype.defaults),{removable:!1,draggable:!1})},enumerable:!1,configurable:!0}),t.isComponent=function(e){return G5e((0,Et.toLowerCase)(e.tagName))},t}(Mi);const C5=NTe;var PTe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),yo=function(){return yo=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},yo.apply(this,arguments)},jTe=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e},kTe=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},Lh;(function(n){n[n.InvalidSource=0]="InvalidSource",n[n.SourceReject=1]="SourceReject",n[n.TargetReject=2]="TargetReject"})(Lh||(Lh={}));var MTe=function(n){PTe(t,n);function t(e){var r=n.call(this,e,"DomComponents",new v1(void 0,{em:e}),Tn.I,Zwe())||this;r.componentTypes=[{id:rg,model:C5,view:Qn},{id:j4,model:C5,view:Qn},{id:k4,model:C5,view:Qn},{id:aS,model:mTe,view:TTe},{id:ef,model:OTe,view:sTe},{id:_s,model:tTe,view:iTe},{id:"cell",model:L_e,view:PSe},{id:"row",model:V_e,view:BSe},{id:"table",model:N_e,view:USe},{id:"thead",model:H_e,view:ISe},{id:"tbody",model:F4,view:OSe},{id:"tfoot",model:R_e,view:MSe},{id:"map",model:y_e,view:bSe},{id:"link",model:v_e,view:fL},{id:"label",model:d_e,view:gSe},{id:"video",model:q_e,view:WSe},{id:"image",model:I4,view:B4},{id:"script",model:w_e,view:_Se},{id:"svg-in",model:E_e,view:x6},{id:"svg",model:sL,view:x6},{id:"iframe",model:o_e,view:sSe},{id:"comment",model:r_e,view:iSe},{id:"textnode",model:aL,view:cL},{id:Qh,model:Ewe,view:Qn},{id:"wrapper",model:Y_e,view:KSe},{id:"text",model:R4,view:uL},{id:"default",model:Mi,view:Qn}],r.componentsById={},r.Component=Mi,r.Components=v1,r.ComponentView=Qn,r.ComponentsView=lL,r.storageKey="components",r.keySymbols="symbols",r.events=Tn.I;var i=r.config;r.symbols=new ZSe([],{em:e,config:i,domc:r}),e&&(r.config.components=e.config.components||r.config.components);var o=r.config.pStylePrefix;if(o&&(r.config.stylePrefix=o+r.config.stylePrefix),e){e.get("Parser").compTypes=r.componentTypes,e.on("change:componentHovered",r.componentHovered,r);var a=e.get("selected");e.listenTo(a,"add",function(s,l,c){return r.selectAdd(a.getComponent(s),c)}),e.listenTo(a,"remove",function(s,l,c){return r.selectRemove(a.getComponent(s),c)})}return r}return t.prototype.postLoad=function(){var e=this,r=e.em,i=e.symbols,o=r.UndoManager;o.add(i)},t.prototype.load=function(e){var r=this,i=this.loadProjectData(e,{onResult:function(o){var a=r.getWrapper();if(a||(r.em.Pages.add({},{select:!0}),a=r.getWrapper()),(0,we.isArray)(o))o.length&&a.components(o);else{var s=o.components,l=s===void 0?[]:s,c=jTe(o,["components"]);a.set(c),a.components(l)}}});return this.symbols.reset(e[this.keySymbols]||[]),i},t.prototype.store=function(){var e;return e={},e[this.keySymbols]=this.symbols,e},t.prototype.getComponent=function(){var e=this.em.Pages.getSelected(),r=e==null?void 0:e.getMainFrame();return r==null?void 0:r.getComponent()},t.prototype.getWrapper=function(){return this.getComponent()},t.prototype.getComponents=function(){var e=this.getWrapper();return e==null?void 0:e.components()},t.prototype.addComponent=function(e,r){return r===void 0&&(r={}),this.getComponents().add(e,r)},t.prototype.render=function(){var e;return(e=this.componentView)===null||e===void 0?void 0:e.render().el},t.prototype.clear=function(e){e===void 0&&(e={});var r=this.getComponents();return r==null||r.filter(Boolean).forEach(function(i){return i.remove(e)}),this},t.prototype.setComponents=function(e,r){r===void 0&&(r={}),this.clear(r).addComponent(e,r)},t.prototype.addType=function(e,r){var i=this.em,o=r.model,a=o===void 0?{}:o,s=r.view,l=s===void 0?{}:s,c=r.isComponent,u=r.extend,f=r.extendView,h=r.extendFn,d=h===void 0?[]:h,m=r.extendFnView,g=m===void 0?[]:m,x=r.block,b=this.getType(e),_=this.getType(u),S=this.getType(f),T=_||b||this.getType("default"),C=T.model,w=S?S.view:T.view,N=function(I,D,V){return I.reduce(function(F,G){var W=D[G],Y=V.prototype[G];return W&&Y&&(F[G]=function(){for(var te=[],he=0;he<arguments.length;he++)te[he]=arguments[he];Y.bind(this).apply(void 0,te),W.bind(this).apply(void 0,te)}),F},{})};if(typeof a=="object"){var A={defaults:a.defaults};delete a.defaults;var j=new Set(C.typeExtends);j.add(C.getDefaults().type),r.model=C.extend(yo(yo({},a),N(d,a,C)),{typeExtends:j,isComponent:b&&!_&&!c?C.isComponent:c||function(){return 0}}),Object.defineProperty(r.model.prototype,"defaults",{get:function(){return yo(yo({},(0,we.result)(C.prototype,"defaults")||{}),(0,we.result)(A,"defaults")||{})}})}if(typeof l=="object"&&(r.view=w.extend(yo(yo({},l),N(g,l,w)))),b?(b.model=r.model,b.view=r.view):(r.id=e,this.componentTypes.unshift(r)),x){var R={id:e,label:e,content:{type:e}},L=x===!0?R:yo(yo({},R),x);i.Blocks.add(L.id||e,L)}var M="component:type:".concat(b?"update":"add");return i==null||i.trigger(M,b||r),this},t.prototype.getType=function(e){for(var r=this.componentTypes,i=0;i<r.length;i++){var o=r[i].id;if(o==e)return r[i]}},t.prototype.removeType=function(e){var r=this.componentTypes,i=this.getType(e);if(i){var o=r.indexOf(i);return r.splice(o,1),i}},t.prototype.getTypes=function(){return this.componentTypes},t.prototype.selectAdd=function(e,r){var i=this;r===void 0&&(r={}),e&&(e.set({status:"selected"}),["component:selected","component:toggled"].forEach(function(o){return i.em.trigger(o,e,r)}))},t.prototype.selectRemove=function(e,r){var i=this;r===void 0&&(r={}),e&&(this.em,e.set({status:"",state:""}),["component:deselected","component:toggled"].forEach(function(o){return i.em.trigger(o,e,r)}))},t.prototype.componentHovered=function(){var e=this.em,r=e.get("componentHovered"),i=e.previous("componentHovered"),o="hovered";i&&i.get("status")==o&&i.set({status:"",state:""}),r&&(0,we.isEmpty)(r.get("status"))&&r.set("status",o)},t.prototype.getShallowWrapper=function(){var e=this,r=e.shallow,i=e.em;if(!r&&i){var o=i.shallow;if(!o)return;var a=o.Components;if(a.componentTypes=this.componentTypes,r=a.getWrapper(),r){var s=[e0,uS].join(" ");r.on(s,(0,we.debounce)(function(){return r==null?void 0:r.components("")},100))}this.shallow=r}return r},t.prototype.isComponent=function(e){return(0,Et.isComponent)(e)},t.prototype.addSymbol=function(e){if(!((0,we.isSymbol)(e)&&!Pd(e))){var r=e.clone({symbol:!0});return od(r)&&this.symbols.add(r),this.em.trigger("component:toggled"),r}},t.prototype.getSymbols=function(){return kTe([],this.symbols.models,!0)},t.prototype.detachSymbol=function(e){yy(e)&&zx(e)},t.prototype.getSymbolInfo=function(e,r){r===void 0&&(r={});var i=od(e),o=el(e),a=!!o,s=Xa(i?e:o)||[],l=o||(i?e:void 0),c=nu(e,{changed:r.withChanges}),u=i||a,f=u&&Pd(e);return{isSymbol:u,isMain:i,isInstance:a,isRoot:f,main:l,instances:s,relatives:c||[]}},t.prototype.canMove=function(e,r,i){var o={result:!1,reason:Lh.InvalidSource,target:e,source:null};if(!r||!e)return o;if(Cc(e)&&r instanceof Mi&&Cc(r)){var a=h1(e),s=od(a)?a:el(a),l=h1(r),c=od(l)?l:el(l),u=s===c,f=a!==l;if(u&&f)return yo(yo({},o),{reason:Lh.TargetReject})}var h=(0,Et.isComponent)(r)?r:null;if(!h){var d=this.getShallowWrapper();h=(d==null?void 0:d.append(r,{temporary:!0})[0])||null}if(o.source=h,!h)return o;var m=h.get("draggable");if((0,we.isFunction)(m))m=!!m(h,e,i);else{var g=e.getEl();m=(0,we.isArray)(m)?m.join(","):m,m=(0,we.isString)(m)?g==null?void 0:g.matches(m):m}if(!m)return yo(yo({},o),{reason:Lh.SourceReject});var x=e.get("droppable");if((0,we.isFunction)(x))x=!!x(h,e,i);else if(x===!1&&e.isInstanceOf("text")&&h.get("textable"))x=!0;else{var g=h.getEl();x=(0,we.isArray)(x)?x.join(","):x,x=(0,we.isString)(x)?g==null?void 0:g.matches(x):x}var b=[e].concat(e.parents()).indexOf(h)>-1;return!x||b?yo(yo({},o),{reason:Lh.TargetReject}):yo(yo({},o),{result:!0})},t.prototype.allById=function(){return this.componentsById},t.prototype.getById=function(e){return this.componentsById[e]||null},t.prototype.destroy=function(){var e,r=this.allById();Object.keys(r).forEach(function(i){return r[i]&&r[i].remove()}),(e=this.componentView)===null||e===void 0||e.remove(),[this.em,this.componentsById,this.componentView].forEach(function(i){return{}})},t}(mu);const LTe=MTe;var DTe=function(){return{stylePrefix:"css-",rules:[]}};const ITe=DTe;var RTe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),FTe=Number.MAX_VALUE,BTe=function(n){var t=/(-?\d*\.?\d+)\w{0,}/.exec(n);return t?t[0]:""},HTe=function(n){RTe(t,n);function t(){var e=n.call(this)||this;return(0,we.bindAll)(e,"sortRules"),e.compCls=[],e.ids=[],e}return t.prototype.buildFromModel=function(e,r){var i=this;r===void 0&&(r={});var o="",a=this.em,s=a&&a.getConfig().avoidInlineStyle,l=e.styleToString(),c=e.classes;this.ids.push("#".concat(e.getId())),c.forEach(function(f){return i.compCls.push(f.getFullName())}),!s&&l&&(o="#".concat(e.getId(),"{").concat(l,"}"));var u=e.components();return u.forEach(function(f){return o+=i.buildFromModel(f,r)}),o},t.prototype.build=function(e,r){var i=this;r===void 0&&(r={});var o=r.json,a=r.em,s=r.cssc||(a==null?void 0:a.Css);this.em=a,this.compCls=[],this.ids=[],this.model=e;var l=[],c=e?this.buildFromModel(e,r):"",u=(0,we.isUndefined)(r.clearStyles)&&a?a.getConfig().clearStyles:r.clearStyles;if(s){var f=r.rules||s.getAll(),h={},d=[];r.onlyMatched&&e&&(0,Et.hasWin)()&&(f=this.matchedRules(e,f)),f.forEach(function(m){var g=m.getAtRule();if(g){var x=h[g];x?x.push(m):h[g]=[m];return}var b=i.buildFromRule(m,d,r);o?l.push(b):c+=b}),this.sortMediaObject(h).forEach(function(m){var g="",x=m.key,b=m.value;b.forEach(function(_){var S=i.buildFromRule(_,d,r);_.get("singleAtRule")?c+="".concat(x,"{").concat(S,"}"):g+=S,o&&l.push(S)}),g&&(c+="".concat(x,"{").concat(g,"}"))}),a&&u&&f.remove&&f.remove(d)}return o?l.filter(function(m){return m}):c},t.prototype.buildFromRule=function(e,r,i){var o=this,a;i===void 0&&(i={});var s="",l=this.model,c=e.selectorsToString({skipAdd:1}),u=e.get("selectorsAdd"),f=e.get("singleAtRule"),h;if((a=e.get("selectors"))===null||a===void 0||a.forEach(function(m){var g=m.getFullName();(o.compCls.indexOf(g)>=0||o.ids.indexOf(g)>=0||i.keepUnusedStyles)&&(h=1)}),c&&h||u||f||!l){var d=e.getDeclaration();d&&(i.json?s=e:s+=d)}else r.push(e);return s},t.prototype.matchedRules=function(e,r){var i=this,o=e.getEl(),a=[];return r.forEach(function(s){try{s.selectorsToString().split(",").some(function(l){return o==null?void 0:o.matches(i.__cleanSelector(l))})&&a.push(s)}catch{}}),e.components().forEach(function(s){a=a.concat(i.matchedRules(s,r))}),a=a.filter(function(s,l){return a.indexOf(s)===l}),a},t.prototype.getQueryLength=function(e){var r=/(-?\d*\.?\d+)\w{0,}/.exec(e);return r?parseFloat(r[1]):FTe},t.prototype.sortMediaObject=function(e){var r=this;e===void 0&&(e={});var i=[];return(0,we.each)(e,function(o,a){return i.push({key:a,value:o})}),i.sort(function(o,a){var s=[o.key,a.key].every(function(u){return u.indexOf("min-width")!==-1}),l=s?o.key:a.key,c=s?a.key:o.key;return r.getQueryLength(l)-r.getQueryLength(c)})},t.prototype.sortRules=function(e,r){var i=function(l){return l.get("mediaText")||""},o=[i(e),i(r)].every(function(l){return l.indexOf("min-width")!==-1}),a=i(o?e:r),s=i(o?r:e);return this.getQueryLength(a)-this.getQueryLength(s)},t.prototype.__cleanSelector=function(e){return e.split(" ").map(function(r){return r.split(":")[0]}).join(" ")},t}(Wt.Kx);const $Te=HTe;var UTe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ig=function(){return ig=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ig.apply(this,arguments)},VTe=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},E5=((0,Et.hasWin)()?window:{}).CSS,zTe=function(n){UTe(t,n);function t(e,r){r===void 0&&(r={});var i=n.call(this,e)||this;return i.views=[],i.config=e||{},i.opt=r,i.em=r.em,i.ensureSelectors(null,null,{}),i.on("change",i.__onChange),i.setStyle(i.get("style")),i}return t.prototype.defaults=function(){return{selectors:[],selectorsAdd:"",style:{},mediaText:"",state:"",stylable:!0,atRuleType:"",singleAtRule:!1,important:!1,group:"",shallow:!1,_undo:!0}},t.prototype.__onChange=function(e,r){var i=this.em,o=this.changedAttributes();o&&!(0,Et.isEmptyObj)(o)&&(i==null||i.changesUp(r))},t.prototype.clone=function(){var e=ig({},this.opt),r=ig({},this.attributes);return r.selectors=this.get("selectors").map(function(i){return i.clone()}),new this.constructor(r,e)},t.prototype.ensureSelectors=function(e,r,i){var o=this.em,a=o==null?void 0:o.Selectors,s=[this,"change:selectors",this.ensureSelectors],l=this.getSelectors();if(this.stopListening.apply(this,s),l.models&&(l=VTe([],l.models,!0)),l=(0,we.isString)(l)?[l]:l,Array.isArray(l)){var c=l.filter(function(u){return u}).map(function(u){return a?a.add(u):u});l=new zu(c)}this.set("selectors",l,i),this.listenTo.apply(this,s)},t.prototype.getAtRule=function(){var e=this.get("atRuleType"),r=this.get("mediaText"),i=e?"@".concat(e):r?"@media":"";return i+(r&&i?" ".concat(r):"")},t.prototype.selectorsToString=function(e){e===void 0&&(e={});var r=[],i=this.get("state"),o=this.get("selectorsAdd"),a={escape:function(c){return E5&&E5.escape?E5.escape(c):c}},s=this.getSelectors().getFullString(0,a),l=i&&!e.skipState?":".concat(i):"";return s&&r.push("".concat(s).concat(l)),o&&!e.skipAdd&&r.push(o),r.join(", ")},t.prototype.getDeclaration=function(e){e===void 0&&(e={});var r="",i=this.attributes.important,o=this.selectorsToString(e),a=this.styleToString(ig({important:i},e)),s=this.get("singleAtRule");return(o||s)&&(a||e.allowEmpty)&&(r=s?a:"".concat(o,"{").concat(a,"}")),r},t.prototype.getDevice=function(){var e=this.em,r=this.attributes,i=r.atRuleType,o=r.mediaText,a=(e==null?void 0:e.Devices.getDevices())||[],s=a.filter(function(l){return l.getWidthMedia()===""})[0];return i!=="media"||!o?s||null:a.filter(function(l){return l.getWidthMedia()===BTe(o)})[0]||null},t.prototype.getState=function(){var e=this.em,r=this.get("state"),i=(e==null?void 0:e.Selectors.getStates())||[];return i.filter(function(o){return o.getName()===r})[0]||null},t.prototype.getComponent=function(){var e,r=this.getSelectors(),i=r.length==1&&r.at(0),o=i&&i.isId()&&i.get("name");return o&&((e=this.em)===null||e===void 0?void 0:e.Components.getById(o))||null},t.prototype.toCSS=function(e){e===void 0&&(e={});var r="",i=this.getAtRule(),o=this.getDeclaration(e);return(o||e.allowEmpty)&&(r=o),i&&r&&(r="".concat(i,"{").concat(r,"}")),r},t.prototype.toJSON=function(){for(var e,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=Wt.Kx.prototype.toJSON.apply(this,r);if(!((e=this.em)===null||e===void 0)&&e.getConfig().avoidDefaults){var a=this.defaults();(0,we.forEach)(a,function(s,l){o[l]===s&&delete o[l]}),delete o.style.__p,(0,we.isEmpty)(o.selectors)&&delete o.selectors,(0,we.isEmpty)(o.style)&&delete o.style}return o},t.prototype.compare=function(e,r,i,o){var a;o===void 0&&(o={});var s=r||"",l=i||"",c=o.selectorsAdd||"",u=o.atRuleType||"",f=!(0,we.isArray)(e)&&!e.models?[e]:e.models||e;l&&!u&&(u="media");var h=f.map(function(x){return x.getFullName()}),d=(a=this.get("selectors"))===null||a===void 0?void 0:a.map(function(x){return x.getFullName()}),m=h.slice().sort(),g=d.slice().sort();return!(h.length!==d.length||!m.every(function(x,b){return x===g[b]})||this.get("state")!==s||this.get("mediaText")!==l||this.get("selectorsAdd")!==c||this.get("atRuleType")!==u)},t}(YM);const hS=zTe;var WTe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),vL=function(n){WTe(t,n);function t(e,r){var i=n.call(this,e)||this;return i.editor=r==null?void 0:r.em,setTimeout(function(){i.on("remove",i.onRemove),i.on("add",i.onAdd)}),i}return t.prototype.toJSON=function(e){var r=Wt.pM.prototype.toJSON.call(this,e);return r.filter(function(i){return i.style&&!i.shallow})},t.prototype.onAdd=function(e,r,i){e.ensureSelectors(e,r,i)},t.prototype.onRemove=function(e){var r=this.editor;r.stopListening(e),r.UndoManager.remove(e)},t.prototype.add=function(e,r){return r===void 0&&(r={}),typeof e=="string"&&(e=this.editor.get("Parser").parseCss(e)),r.em=this.editor,Wt.pM.prototype.add.apply(this,[e,r])},t}(Wt.pM);const T6=vL;vL.prototype.model=hS;var qTe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Zf=function(){return Zf=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Zf.apply(this,arguments)},GTe=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},KTe=function(n){qTe(t,n);function t(e){var r=n.call(this,e,"CssComposer",null,Mp,ITe())||this;r.classes={CssRule:hS,CssRules:T6,CssRuleView:N4,CssRulesView:oS},r.events=Mp,r.Selectors=zu,r.storageKey="styles";var i=r.config,o=i.pStylePrefix;return o&&(i.stylePrefix=o+i.stylePrefix),i.rules=r.em.config.style||i.rules||"",r.rules=new T6([],i),r}return t.prototype.onLoad=function(){this.rules.add(this.config.rules,{silent:!0})},t.prototype.postLoad=function(){this.em.UndoManager.add(this.getAll())},t.prototype.store=function(){return this.getProjectData()},t.prototype.load=function(e){return this.loadProjectData(e,{all:this.rules})},t.prototype.add=function(e,r,i,o,a){o===void 0&&(o={}),a===void 0&&(a={});var s=r||"",l=i||"",c=Zf({},o),u=this.get(e,s,l,c);return u&&u.config&&!u.config.singleAtRule||(c.state=s,c.mediaText=l,c.selectors=[],l&&!c.atRuleType&&(c.atRuleType="media"),u=new hS(c,this.config),u.get("selectors").add(e,a),this.rules.add(u,a)),u},t.prototype.get=function(e,r,i,o){var a=e;if((0,we.isString)(e)){var s=this.em.Selectors,l=e.split(",")[0].trim(),c=this.em.Parser.parserCss.checkNode({selectors:l})[0];a=s.get(c.selectors)}return this.rules.find(function(u){return u.compare(a,r,i,o)})||null},t.prototype.getAll=function(){return this.rules},t.prototype.addCollection=function(e,r,i){r===void 0&&(r={}),i===void 0&&(i={});var o=this.em,a=[];(0,we.isString)(e)&&(e=o.Parser.parseCss(e));for(var s=e instanceof Array?e:[e],l=0,c=s.length;l<c;l++){var u=s[l]||{};if(u.selectors){var f=o==null?void 0:o.Selectors;f||console.warn("Selector Manager not found");for(var h=u.selectors,d=h instanceof Array?h:[h],m=[],g=0,x=d.length;g<x;g++){var b=f.add(d[g]);m.push(b)}var _=this.get(m,u.state,u.mediaText,u),S=this.add(m,u.state,u.mediaText,u,r),T=!_||!r.avoidUpdateStyle,C=u.style||{};if((0,Et.isObject)(i)&&S.set(i,r),T){var w=r.extend?Zf(Zf({},S.get("style")),C):C;S.setStyle(w,r)}a.push(S)}}return a},t.prototype.addRules=function(e){return this.addCollection(e)},t.prototype.setRule=function(e,r,i){r===void 0&&(r={}),i===void 0&&(i={});var o=i.atRuleType,a=i.atRuleParams,s=this.em.Parser.parserCss.checkNode({selectors:e,style:r})[0],l=s.state,c=s.selectorsAdd,u=this.em.Selectors,f=u.add(s.selectors),h=this.add(f,l,a,{selectorsAdd:c,atRule:o});return i.addStyles?h.addStyle(r,i):h.setStyle(r,i),h},t.prototype.getRule=function(e,r){r===void 0&&(r={});var i=this.em,o=i.Selectors,a=i.Parser.parserCss.checkNode({selectors:e})[0],s=o.get(a.selectors),l=a.state,c=a.selectorsAdd,u=r.atRuleType,f=r.atRuleParams;return s?this.get(s,l,f,{selectorsAdd:c,atRuleType:u}):void 0},t.prototype.getRules=function(e){var r=this.getAll();if(!e)return GTe([],r.models,!0);var i={sort:!0},o=(0,we.isString)(e)?e.split(",").map(function(s){return s.trim()}):e,a=r.filter(function(s){return o.indexOf(s.getSelectors().getFullString(null,i))>=0});return a},t.prototype.setIdRule=function(e,r,i){r===void 0&&(r={}),i===void 0&&(i={});var o=i.addOpts,a=o===void 0?{}:o,s=i.mediaText,l=i.state||"",c=(0,we.isUndefined)(s)?this.em.getCurrentMedia():s,u=this.em.Selectors,f=u.add({name:e,type:wa.TYPE_ID},a),h=this.add(f,l,c,{},a);return h.setStyle(r,Zf(Zf({},i),a)),h},t.prototype.getIdRule=function(e,r){r===void 0&&(r={});var i=r.mediaText,o=r.state||"",a=(0,we.isUndefined)(i)?this.em.getCurrentMedia():i,s=this.em.Selectors.get(e,wa.TYPE_ID);return s&&this.get(s,o,a)},t.prototype.setClassRule=function(e,r,i){r===void 0&&(r={}),i===void 0&&(i={});var o=i.state||"",a=i.mediaText||this.em.getCurrentMedia(),s=this.em.Selectors,l=s.add({name:e,type:wa.TYPE_CLASS}),c=this.add(l,o,a);return c.setStyle(r,i),c},t.prototype.getClassRule=function(e,r){r===void 0&&(r={});var i=r.state||"",o=r.mediaText||this.em.getCurrentMedia(),a=this.em.Selectors.get(e,wa.TYPE_CLASS);return a&&this.get(a,i,o)},t.prototype.remove=function(e,r){var i=(0,we.isString)(e)?this.getRules(e):e,o=this.getAll().remove(i,r);return(0,we.isArray)(o)?o:[o]},t.prototype.clear=function(e){return e===void 0&&(e={}),this.getAll().reset([],e),this},t.prototype.getComponentRules=function(e,r){r===void 0&&(r={});var i=r.state,o=r.mediaText,a=r.current;a&&(i=this.em.get("state")||"",o=this.em.getCurrentMedia());var s=e.getId(),l=this.getAll().filter(function(c){return!(0,we.isUndefined)(i)&&c.get("state")!==i||!(0,we.isUndefined)(o)&&c.get("mediaText")!==o?!1:c.getSelectorsString()==="#".concat(s)});return l},t.prototype.render=function(){var e;return(e=this.rulesView)===null||e===void 0||e.remove(),this.rulesView=new oS({collection:this.rules,config:this.config}),this.rulesView.render().el},t.prototype.checkId=function(e,r){r===void 0&&(r={});var i=r.idMap,o=i===void 0?{}:i,a=[];if(!Object.keys(o).length)return a;var s=Array.isArray(e)?e:[e];return s.forEach(function(l){var c=l.selectors;if(c&&c.length==1){var u=c[0];if((0,we.isString)(u)){if(u[0]==="#"){var f=u.substring(1),h=o[f];f&&h&&(c[0]="#".concat(h),a.push(l))}}else if(u.name&&u.type===wa.TYPE_ID){var h=o[u.name];h&&(u.name=h,a.push(l))}}}),a},t.prototype.destroy=function(){var e;this.rules.reset(),this.rules.stopListening(),(e=this.rulesView)===null||e===void 0||e.remove()},t}(mu);const YTe=KTe;var XTe=function(){return{appendTo:"",blocks:[],appendOnClick:!1,custom:!1}};const ZTe=XTe;var JTe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),QTe=function(n){JTe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.defaults=function(){return{label:"",content:"",media:"",category:"",activate:!1,select:void 0,resetId:!1,disable:!1,onClick:void 0,attributes:{},dragDef:{}}},Object.defineProperty(t.prototype,"category",{get:function(){var e=this.get("category");return e instanceof k1?e:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.collection},enumerable:!1,configurable:!0}),t.prototype.getId=function(){return this.id},t.prototype.getLabel=function(){return this.get("label")},t.prototype.getMedia=function(){return this.get("media")},t.prototype.getContent=function(){return this.get("content")},t.prototype.getDragDef=function(){return this.get("dragDef")},t.prototype.getCategoryLabel=function(){var e=this.get("category");return(0,we.isFunction)(e==null?void 0:e.get)?e.get("label"):e!=null&&e.label?e==null?void 0:e.label:e},t}(Wt.Kx);const gL=QTe;var e4e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),mL=function(n){e4e(t,n);function t(e,r){var i=n.call(this,e)||this;return i.em=r.em,i.on("add",i.handleAdd),i}return t.prototype.getCategories=function(){return this.em.Blocks.getCategories()},t.prototype.handleAdd=function(e){this.initCategory(e)},t}(tL);const jm=mL;mL.prototype.model=gL;var og;(function(n){n.add="block:add",n.remove="block:remove",n.removeBefore="block:remove:before",n.update="block:update",n.dragStart="block:drag:start",n.drag="block:drag",n.dragEnd="block:drag:stop",n.categoryUpdate="block:category:update",n.custom="block:custom",n.all="block"})(og||(og={}));var t4e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Dh=function(){return Dh=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Dh.apply(this,arguments)},r4e=function(n){t4e(t,n);function t(e,r){r===void 0&&(r={});var i=n.call(this,e)||this,o=i.model;return i.em=r.em,i.config=r,i.endDrag=i.endDrag.bind(i),i.ppfx=r.pStylePrefix||"",i.listenTo(o,"destroy remove",i.remove),i.listenTo(o,"change",i.render),i}return t.prototype.events=function(){return{click:"handleClick",mousedown:"startDrag",dragstart:"handleDragStart",drag:"handleDrag",dragend:"handleDragEnd"}},t.prototype.__getModule=function(){return this.em.Blocks},t.prototype.handleClick=function(e){var r,i,o=this,a=o.config,s=o.model,l=o.em,c=s.get("onClick")||a.appendOnClick;if(l.trigger("block:click",s,e),c){if((0,we.isFunction)(c))return c(s,l==null?void 0:l.getEditor(),{event:e})}else return;var u=(r=a.getSorter)===null||r===void 0?void 0:r.call(a);if(u){var f=s.get("content"),h=this.getTempDropModel(f),d=(i=h.view)===null||i===void 0?void 0:i.el,m=d?[{element:d,dragSource:{content:f}}]:[],g=l.getSelected(),x,b,_,S=0;if(g)if(b=u.validTarget(g.getEl(),m,S),b)x=g;else{var T=g.parent();T&&(b=u.validTarget(T.getEl(),m,S),b&&(x=T,_=T.components().indexOf(g)+1))}if(!x){var C=l.getWrapper();b=u.validTarget(C.getEl(),m,S),b&&(x=C)}var w=x&&x.append(f,{at:_})[0];w&&l.setSelected(w,{scroll:1})}},t.prototype.startDrag=function(e){var r,i=this,o=i.config,a=i.em,s=i.model,l=s.get("disable");if(!(e.button!==0||!o.getSorter||this.el.draggable||l)){a.refreshCanvas();var c=o.getSorter();c.__currentBlock=s;var u=this.model.get("content"),f=this.getTempDropModel(u),h=(r=f.view)===null||r===void 0?void 0:r.el,d=h?[{element:h,dragSource:{content:u}}]:[];c.startSort(d),(0,Kt.on)(document,"mouseup",this.endDrag)}},t.prototype.handleDragStart=function(e){this.__getModule().__startDrag(this.model,e)},t.prototype.handleDrag=function(e){this.__getModule().__drag(e)},t.prototype.handleDragEnd=function(){this.__getModule().__endDrag()},t.prototype.endDrag=function(){var e,r;(0,Kt.AU)(document,"mouseup",this.endDrag);var i=(r=(e=this.config).getSorter)===null||r===void 0?void 0:r.call(e);i&&i.endDrag()},t.prototype.getTempDropModel=function(e){var r,i=this.em.Components.getComponents(),o={avoidChildren:1,avoidStore:1,avoidUpdateStyle:1},a=i.add(e,Dh(Dh({},o),{temporary:!0})),s=i.remove(a,Dh(Dh({},o),{temporary:!0}));return s=s instanceof Array?s[0]:s,(r=s.view)===null||r===void 0||r.$el.data("model",s),s},t.prototype.render=function(){var e,r=this,i=r.em,o=r.el,a=r.$el,s=r.ppfx,l=r.model,c=l.get("disable"),u=l.get("attributes")||{},f=u.class||"",h="".concat(s,"block"),d=i&&i.t("blockManager.labels.".concat(l.id))||l.get("label"),m=l.get("render"),g=l.get("media"),x=c?"".concat(h,"--disable"):"".concat(s,"four-color-h");a.attr(u),o.className="".concat(f," ").concat(h," ").concat(s,"one-bg ").concat(x).trim(),o.innerHTML=`
      `.concat(g?'<div class="'.concat(h,'__media">').concat(g,"</div>"):"",`
      <div class="`).concat(h,'-label">').concat(d,`</div>
    `),o.title=u.title||((e=o.textContent)===null||e===void 0?void 0:e.trim()),o.setAttribute("draggable","".concat(!!((0,Et.hasDnd)(i)&&!c)));var b=m&&m({el:o,model:l,className:h,prefix:s});return b&&(o.innerHTML=b),this},t}(Wt.Ss);const n4e=r4e;var i4e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),o4e=function(n,t){return Object.defineProperty?Object.defineProperty(n,"raw",{value:t}):n.raw=t,n},a4e=function(n){i4e(t,n);function t(e,r,i){var o=n.call(this,e)||this;o.config=r;var a=r.pStylePrefix||"";return o.em=r.em,o.catName=i,o.pfx=a,o.caretR="fa fa-caret-right",o.caretD="fa fa-caret-down",o.iconClass="".concat(a,"caret-icon"),o.activeClass="".concat(a,"open"),o.className="".concat(a).concat(i,"-category"),o.listenTo(o.model,"change:open",o.updateVisibility),o.model.view=o,o}return t.prototype.events=function(){return{"click [data-title]":"toggle"}},t.prototype.template=function(e){var r=e.pfx,i=e.label,o=e.catName;return Wa(C6||(C6=o4e([`
      <div class="`,`title" data-title>
        <i class="`,`caret-icon"></i>
        `,`
      </div>
      <div class="`,"",`s-c"></div>
    `],[`
      <div class="`,`title" data-title>
        <i class="`,`caret-icon"></i>
        `,`
      </div>
      <div class="`,"",`s-c"></div>
    `])),r,r,i,r,o)},t.prototype.attributes=function(){return this.model.get("attributes")||{}},t.prototype.updateVisibility=function(){this.model.get("open")?this.open():this.close()},t.prototype.open=function(){this.$el.addClass(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretD),this.getTypeEl().style.display=""},t.prototype.close=function(){this.$el.removeClass(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretR),this.getTypeEl().style.display="none"},t.prototype.toggle=function(){var e=this.model;e.set("open",!e.get("open"))},t.prototype.getIconEl=function(){return this.iconEl||(this.iconEl=this.el.querySelector(".".concat(this.iconClass))),this.iconEl},t.prototype.getTypeEl=function(){return this.typeEl||(this.typeEl=this.el.querySelector(".".concat(this.pfx).concat(this.catName,"s-c"))),this.typeEl},t.prototype.append=function(e){this.getTypeEl().appendChild(e)},t.prototype.render=function(){var e=this,r=e.em,i=e.el,o=e.$el,a=e.model,s=e.pfx,l=e.catName,c=r.t("".concat(l,"Manager.categories.").concat(a.id))||a.get("label");return i.innerHTML=this.template({pfx:s,label:c,catName:l}),o.addClass(this.className),o.css({order:a.get("order")}),this.updateVisibility(),this},t}(Wt.Ss);const yL=a4e;var C6,s4e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Jy=function(){return Jy=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Jy.apply(this,arguments)},l4e=function(n){s4e(t,n);function t(e,r){var i=n.call(this,e)||this;i.renderedCategories=new Map,(0,we.bindAll)(i,"getSorter","onDrag","onDrop","onMove"),i.config=r||{},i.categories=e.categories||"";var o=i.config.pStylePrefix||"";i.ppfx=o,i.noCatClass="".concat(o,"blocks-no-cat"),i.blockContClass="".concat(o,"blocks-c"),i.catsClass="".concat(o,"block-categories");var a=i.collection;return i.listenTo(a,"add",i.addTo),i.listenTo(a,"reset",i.render),i.em=i.config.em,i.em&&(i.config.getSorter=i.getSorter),i}return t.prototype.__getModule=function(){return this.em.Blocks},t.prototype.updateConfig=function(e){e===void 0&&(e={}),this.config=Jy(Jy({},this.config),e)},t.prototype.getSorter=function(){var e=this.em;if(e){if(!this.sorter){var r=e.Utils,i=e.Canvas;this.sorter=new r.ComponentSorter({em:e,treeClass:iL,containerContext:{container:i.getBody(),containerSel:"*",itemSel:"*",pfx:this.ppfx,placeholderElement:i.getPlacerEl(),document:i.getBody().ownerDocument},dragBehavior:{dragDirection:kd.A.BothDirections,nested:!0},positionOptions:{windowMargin:1,canvasRelative:!0},eventHandlers:{legacyOnStartSort:this.onDrag,legacyOnEndMove:this.onDrop,legacyOnMoveClb:this.onMove}})}return this.sorter}},t.prototype.onDrag=function(e){this.em.stopDefault(),this.__getModule().__startDrag(this.sorter.__currentBlock,e)},t.prototype.onMove=function(e){this.__getModule().__drag(e)},t.prototype.onDrop=function(e){this.em.runDefault(),this.__getModule().__endDrag({component:e}),delete this.sorter.__currentBlock},t.prototype.addTo=function(e){this.add(e)},t.prototype.add=function(e,r){var i=this,o=i.config,a=i.renderedCategories,s=e.get("attributes"),l=new n4e({model:e,attributes:s},o),c=l.render().el,u=e.parent.initCategory(e);if(u&&this.categories&&!o.ignoreCategories){var f=u.getId(),h=this.getCategoriesEl(),d=a.get(f);!d&&h&&(d=new yL({model:u},o,"block").render(),a.set(f,d),h.appendChild(d.el)),d==null||d.append(c);return}r?r.appendChild(c):this.append(c)},t.prototype.getCategoriesEl=function(){return this.catsEl||(this.catsEl=this.el.querySelector(".".concat(this.catsClass))),this.catsEl},t.prototype.getBlocksEl=function(){return this.blocksEl||(this.blocksEl=this.el.querySelector(".".concat(this.noCatClass," .").concat(this.blockContClass))),this.blocksEl},t.prototype.append=function(e){var r=this.getBlocksEl();r&&r.appendChild(e)},t.prototype.render=function(){var e=this,r=this.ppfx,i=document.createDocumentFragment();delete this.catsEl,delete this.blocksEl,this.renderedCategories=new Map,this.el.innerHTML=`
      <div class="`.concat(this.catsClass,`"></div>
      <div class="`).concat(this.noCatClass,`">
        <div class="`).concat(this.blockContClass,`"></div>
      </div>
    `),this.collection.each(function(a){return e.add(a,i)}),this.append(i);var o="".concat(this.blockContClass,"s ").concat(r,"one-bg ").concat(r,"two-color");return this.$el.addClass(o),this.rendered=!0,this},t}(Wt.Ss);const E6=l4e;var c4e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ru=function(){return Ru=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Ru.apply(this,arguments)},u4e=function(n){c4e(t,n);function t(e){var r=n.call(this,e,"BlockManager",new jm([],{em:e}),og,ZTe())||this;return r.events=og,r.Block=gL,r.Blocks=jm,r.Category=k1,r.Categories=wy,r.storageKey="",r.blocks=r.all,r.blocksVisible=new jm(r.blocks.models,{em:e}),r.categories=new wy([],{em:e,events:{update:og.categoryUpdate}}),r.__onAllEvent=(0,we.debounce)(function(){return r.__trgCustom()},0),r}return t.prototype.onInit=function(){var e=this,r=e.config,i=e.blocks,o=e.blocksVisible;i.on("add",function(a){return o.add(a)}),i.on("remove",function(a){return o.remove(a)}),i.on("reset",function(a){return o.reset(a.models)}),i.add(r.blocks||[])},t.prototype.__trgCustom=function(){this.em.trigger(this.events.custom,this.__customData())},t.prototype.__customData=function(){var e=this,r=this.__getBehaviour();return{bm:this,blocks:this.getAll().models,container:r.container,dragStart:function(i,o){return e.startDrag(i,o)},drag:function(i){return e.__drag(i)},dragStop:function(i){return e.endDrag(i)}}},t.prototype.__startDrag=function(e,r){var i=this,o=i.em,a=i.events,s=i.blocks,l=e.getContent?e.getContent():e;this._dragBlock=e,o.set({dragResult:null,dragSource:{content:l,dragDef:e.getDragDef()}}),[o,s].map(function(c){return c.trigger(a.dragStart,e,r)})},t.prototype.__drag=function(e){var r=this,i=r.em,o=r.events,a=r.blocks,s=this._dragBlock;[i,a].map(function(l){return l.trigger(o.drag,s,e)})},t.prototype.__endDrag=function(e){e===void 0&&(e={});var r=this,i=r.em,o=r.events,a=r.blocks,s=this._dragBlock,l=e.component||i.get("dragResult");if(delete this._dragBlock,l&&s){var c="activeOnRender",u=l.get&&l.get(c),f=s.get("activate")||u,h=s.get("select"),d=(0,we.isArray)(l)?l[0]:l;(h||f&&h!==!1)&&i.setSelected(d),f&&(d.trigger("active"),u&&d.unset(c)),s.get("resetId")&&d.onAll(function(m){return m.resetId()})}i.set({dragResult:null,dragSource:void 0}),s&&[i,a].map(function(m){return m.trigger(o.dragEnd,l,s)})},t.prototype.__getFrameViews=function(){return this.em.Canvas.getFrames().map(function(e){return e.view}).filter(Boolean)},t.prototype.__behaviour=function(e){return e===void 0&&(e={}),this._bhv=Ru(Ru({},this._bhv||{}),e)},t.prototype.__getBehaviour=function(){return this._bhv||{}},t.prototype.startDrag=function(e,r){this.__startDrag(e,r),this.__getFrameViews().forEach(function(i){var o;return(o=i.droppable)===null||o===void 0?void 0:o.startCustom()})},t.prototype.endDrag=function(e){this.__getFrameViews().forEach(function(r){var i;return(i=r.droppable)===null||i===void 0?void 0:i.endCustom(e)}),this.__endDrag()},t.prototype.postRender=function(){var e=this,r=e.categories,i=e.config,o=e.em,a=this.blocksVisible;this.blocksView=new E6({collection:a,categories:r},Ru(Ru({},i),{em:o})),this.__appendTo(a.models),this.__trgCustom()},t.prototype.add=function(e,r,i){i===void 0&&(i={});var o=r||{};return o.id=e,this.blocks.add(o,i)},t.prototype.get=function(e){return this.blocks.get(e)},t.prototype.getAll=function(){return this.blocks},t.prototype.getAllVisible=function(){return this.blocksVisible},t.prototype.remove=function(e,r){return r===void 0&&(r={}),this.__remove(e,r)},t.prototype.getCategories=function(){return this.categories},t.prototype.getContainer=function(){var e;return(e=this.blocksView)===null||e===void 0?void 0:e.el},t.prototype.getDragBlock=function(){return this._dragBlock},t.prototype.getBlocksByCategory=function(e){return eL(e||this.getAll().models)},t.prototype.render=function(e,r){r===void 0&&(r={});var i=this,o=i.categories,a=i.config,s=i.em,l=e||this.getAll().models;if(r.external){var c=new jm(l,{em:s});return new E6({collection:c,categories:o},Ru(Ru({em:s},a),r)).render().el}return this.blocksView&&(this.blocksView.updateConfig(r),this.blocksView.collection.reset(l),this.blocksView.rendered||(this.blocksView.render(),this.blocksView.rendered=!0)),this.getContainer()},t.prototype.destroy=function(){var e,r=[this.blocks,this.blocksVisible,this.categories];r.map(function(i){return i.stopListening()}),r.map(function(i){return i.reset()}),(e=this.blocksView)===null||e===void 0||e.remove()},t}(mu);const f4e=u4e;var d4e=function(){return{stylePrefix:"clm-",appendTo:"",selectors:[],states:[{name:"hover"},{name:"active"},{name:"nth-of-type(2n)"}],iconAdd:'<svg viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"></path></svg>',iconSync:'<svg viewBox="0 0 24 24"><path d="M12 18c-3.31 0-6-2.69-6-6 0-1 .25-1.97.7-2.8L5.24 7.74A7.93 7.93 0 0 0 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4m0-11V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1-.25 1.97-.7 2.8l1.46 1.46A7.93 7.93 0 0 0 20 12c0-4.42-3.58-8-8-8z"></path></svg>',iconTagOn:'<svg viewBox="0 0 24 24"><path d="M19 19H5V5h10V3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-8h-2m-11.09-.92L6.5 11.5 11 16 21 6l-1.41-1.42L11 13.17l-3.09-3.09z"></path></svg>',iconTagOff:'<svg viewBox="0 0 24 24"><path d="M19 3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5a2 2 0 0 0-2-2m0 2v14H5V5h14z"></path></svg>',iconTagRemove:'<svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>',componentFirst:!1,custom:!1}};const h4e=d4e;var p4e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),bL=function(n){p4e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.defaults=function(){return{name:"",label:""}},t.prototype.getName=function(){return this.get("name")},t.prototype.getLabel=function(){return this.get("label")||this.getName()},t}(Wt.Kx);const O5=bL;bL.prototype.idAttribute="name";var v4e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),g4e=function(n,t){return Object.defineProperty?Object.defineProperty(n,"raw",{value:t}):n.raw=t,n},O6="contentEditable",m4e=function(n){v4e(t,n);function t(e){e===void 0&&(e={});var r=n.call(this,e)||this,i=e.config||{};return r.config=i,r.module=e.module,r.coll=e.coll||null,r.pfx=i.stylePrefix||"",r.ppfx=i.pStylePrefix||"",r.em=i.em,r.listenTo(r.model,"change:active",r.updateStatus),r}return t.prototype.template=function(){var e=this,r=e.pfx,i=e.model,o=e.config,a=i.get("label")||"";return Wa(A6||(A6=g4e([`
      <span id="`,'checkbox" class="',`tag-status" data-tag-status></span>
      <span id="`,'tag-label" data-tag-name>',`</span>
      <span id="`,'close" class="','tag-close" data-tag-remove> $',` </span>
    `],[`
      <span id="`,'checkbox" class="',`tag-status" data-tag-status></span>
      <span id="`,'tag-label" data-tag-name>',`</span>
      <span id="`,'close" class="','tag-close" data-tag-remove> $',` </span>
    `])),r,r,r,a,r,r,o.iconTagRemove)},t.prototype.events=function(){return{"click [data-tag-remove]":"removeTag","click [data-tag-status]":"changeStatus","dblclick [data-tag-name]":"startEditTag","focusout [data-tag-name]":"endEditTag"}},t.prototype.getInputEl=function(){return this.inputEl||(this.inputEl=this.el.querySelector("[data-tag-name]")),this.inputEl},t.prototype.startEditTag=function(){var e=this.em,r=this.getInputEl();r[O6]="true",r.focus(),e==null||e.setEditing(!0)},t.prototype.endEditTag=function(){var e=this,r=e.model,i=e.em,o=this.getInputEl(),a=o.textContent||"",s=i==null?void 0:i.Selectors;o[O6]="false",i==null||i.setEditing(!1),s&&s.rename(r,a)!==r&&(o.innerText=r.getLabel())},t.prototype.changeStatus=function(){var e=this.model;e.set("active",!e.getActive())},t.prototype.removeTag=function(){this.module.removeSelected(this.model)},t.prototype.updateStatus=function(){var e=this,r=e.model,i=e.$el,o=e.config,a=o.iconTagOn,s=o.iconTagOff,l=i.find("[data-tag-status]");r.get("active")?(l.html(a),i.removeClass("opac50")):(l.html(s),i.addClass("opac50"))},t.prototype.render=function(){var e=this,r=e.pfx,i=e.ppfx,o=e.$el,a=e.model,s="".concat(r,"tag"),l=["".concat(s," ").concat(i,"three-bg")];return a.get("protected")&&l.push("".concat(s,"-protected")),o.html(this.template()),o.attr("class",l.join(" ")),this.updateStatus(),this},t}(Wt.Ss);const y4e=m4e;var A6,b4e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Rv=function(n,t){return Object.defineProperty?Object.defineProperty(n,"raw",{value:t}):n.raw=t,n},x4e=function(n){b4e(t,n);function t(e){e===void 0&&(e={});var r=n.call(this,e)||this;r.config=e.config||{},r.pfx=r.config.stylePrefix||"",r.ppfx=r.config.pStylePrefix||"",r.className=r.pfx+"tags",r.stateInputId=r.pfx+"states",r.stateInputC=r.pfx+"input-c",r.states=r.config.states||[];var i=r.config.em,o=r.collection;r.target=i;var a=i.Selectors;r.module=a,r.em=i,r.componentChanged=(0,we.debounce)(r.componentChanged.bind(r),0),r.checkSync=(0,we.debounce)(r.checkSync.bind(r),0);var s=Tn.I.update,l="".concat(s,":classes"),c="component:toggled ".concat(l),u="".concat(l," ").concat(s,":attributes:id change:state");return r.listenTo(i,c,r.componentChanged),r.listenTo(i,"styleManager:update",r.componentChanged),r.listenTo(i,u,r.__handleStateChange),r.listenTo(i,"styleable:change change:device",r.checkSync),r.listenTo(o,"add",r.addNew),r.listenTo(o,"reset",r.renderClasses),r.listenTo(o,"remove",r.tagRemoved),r.listenTo(a.getAll(),a.events.state,(0,we.debounce)(function(){return r.renderStates()},0)),r.delegateEvents(),r}return t.prototype.template=function(e){var r=e.labelInfo,i=e.labelHead,o=e.iconSync,a=e.iconAdd,s=e.pfx,l=e.ppfx;return Wa(N6||(N6=Rv([' <div id="','up" class="',`header">
        <div id="`,'label" class="','header-label">',`</div>
        <div id="`,'status-c" class="',`header-status">
          <span id="`,`input-c" data-states-c>
            <div class="`,"field ",`select">
              <span id="`,`input-holder">
                <select id="`,`states" data-states></select>
              </span>
              <div class="`,`sel-arrow">
                <div class="`,`d-s-arrow"></div>
              </div>
            </div>
          </span>
        </div>
      </div>
      <div id="`,'tags-field" class="',`field">
        <div id="`,`tags-c" data-selectors></div>
        <input id="`,`new" data-input />
        <span id="`,'add-tag" class="',"tags-btn ",'tags-btn__add" data-add> $',` </span>
        <span class="`,"tags-btn ",'tags-btn__sync" style="display: none" data-sync-style> $',` </span>
      </div>
      <div class="`,`sels-info">
        <div class="`,'label-sel">',`:</div>
        <div class="`,`sels" data-selected></div>
      </div>`],[' <div id="','up" class="',`header">
        <div id="`,'label" class="','header-label">',`</div>
        <div id="`,'status-c" class="',`header-status">
          <span id="`,`input-c" data-states-c>
            <div class="`,"field ",`select">
              <span id="`,`input-holder">
                <select id="`,`states" data-states></select>
              </span>
              <div class="`,`sel-arrow">
                <div class="`,`d-s-arrow"></div>
              </div>
            </div>
          </span>
        </div>
      </div>
      <div id="`,'tags-field" class="',`field">
        <div id="`,`tags-c" data-selectors></div>
        <input id="`,`new" data-input />
        <span id="`,'add-tag" class="',"tags-btn ",'tags-btn__add" data-add> $',` </span>
        <span class="`,"tags-btn ",'tags-btn__sync" style="display: none" data-sync-style> $',` </span>
      </div>
      <div class="`,`sels-info">
        <div class="`,'label-sel">',`:</div>
        <div class="`,`sels" data-selected></div>
      </div>`])),s,s,s,s,i,s,s,s,l,l,l,s,l,l,s,l,s,s,s,s,s,a,s,s,o,s,s,r,s)},t.prototype.events=function(){return{"change [data-states]":"stateChanged","click [data-add]":"startNewTag","focusout [data-input]":"endNewTag","keyup [data-input]":"onInputKeyUp","click [data-sync-style]":"syncStyle"}},t.prototype.syncStyle=function(){var e=this.em,r=this.getTarget(),i=e.Css,o={noDisabled:1},a=this.getCommonSelectors({opts:o}),s=e.get("state"),l=e.getCurrentMedia(),c=[],u=i.get(a,s,l)||i.add(a,s,l),f;this.getTargets().forEach(function(h){var d=i.getIdRule(h.getId(),{state:s,mediaText:l});f=d.getStyle(),d.setStyle({}),c.push(d)}),f&&u.addStyle(f),e.trigger("component:toggled"),e.trigger("component:sync-style",{component:r,selectors:a,mediaText:l,rule:u,ruleComponents:c,state:s})},t.prototype.tagRemoved=function(e){this.updateStateVis()},t.prototype.addNew=function(e){this.addToClasses(e)},t.prototype.startNewTag=function(){var e,r;(e=this.$addBtn)===null||e===void 0||e.css({display:"none"}),(r=this.$input)===null||r===void 0||r.show().focus()},t.prototype.endNewTag=function(){var e,r;(e=this.$addBtn)===null||e===void 0||e.css({display:""}),(r=this.$input)===null||r===void 0||r.hide().val("")},t.prototype.onInputKeyUp=function(e){var r;e.keyCode===13?(e.preventDefault(),this.addNewTag((r=this.$input)===null||r===void 0?void 0:r.val())):e.keyCode===27&&this.endNewTag()},t.prototype.checkStates=function(){var e=this.em.getState(),r=this.getStates();r&&r.val(e)},t.prototype.componentChanged=function(e){var r=e===void 0?{}:e,i=r.targets;this.updateSelection(i)},t.prototype.updateSelection=function(e){var r=e||this.getTargets();r=(0,we.isArray)(r)?r:[r];var i=[];return r&&r.length&&(i=this.getCommonSelectors({targets:r}),this.checkSync({validSelectors:i})),this.collection.reset(i),this.updateStateVis(r),this.module.__trgCustom(),i},t.prototype.getCommonSelectors=function(e){var r=e===void 0?{}:e,i=r.targets,o=r.opts,a=o===void 0?{}:o,s=i||this.getTargets();return this.module.__getCommonSelectors(s,a)},t.prototype._commonSelectors=function(){for(var e,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return(e=this.module).__common.apply(e,r)},t.prototype.checkSync=function(){var e=this,r=e.$btnSyncEl,i=e.config,o=e.collection,a=this.getTarget(),s;if(a&&i.componentFirst&&o.length){var l=a.getStyle();s=!(0,we.isEmpty)(l)}r&&r[s?"show":"hide"]()},t.prototype.getTarget=function(){return this.target.getSelected()},t.prototype.getTargets=function(){return this.target.getSelectedAll()},t.prototype.updateStateVis=function(e){var r=this.em,i=r&&r.getConfig().avoidInlineStyle,o=this.collection.length||i?"":"none";this.getStatesC().css("display",o),this.updateSelector(e)},t.prototype.__handleStateChange=function(){this.updateSelector(this.getTargets())},t.prototype.updateSelector=function(e){var r=this,i=this.el.querySelector("[data-selected]"),o=[],a=e||this.getTargets();a=(0,we.isArray)(a)?a:[a],a.forEach(function(s){return o.push(r.__getName(s))}),i&&(i.innerHTML=o.join(", ")),this.checkStates()},t.prototype.__getName=function(e){var r=this,i=r.pfx,o=r.config,a=r.em,s=o.selectedName,l=o.componentFirst,c;if((0,we.isString)(e))c=Wa(P6||(P6=Rv(['<span class="','sel-gen">',"</span>"],['<span class="','sel-gen">',"</span>"])),i,e);else{var u=e==null?void 0:e.getSelectors();if(!u)return"";var f=u.getStyleable(),h=a.get("state"),d=e.getId?Wa(j6||(j6=Rv(['<span class="','sel-cmp">',`</span>
            <span class="`,'sel-id">#',"</span>"],['<span class="','sel-cmp">',`</span>
            <span class="`,'sel-id">#',"</span>"])),i,e.getName(),i,e.getId()):"";c=this.collection.getFullString(f),c=c?Wa(k6||(k6=Rv(['<span class="','sel-rule">',"</span>"],['<span class="','sel-rule">',"</span>"])),i,c):e.get("selectorsAdd")||d,c=l&&d?d:c,c+=h?Wa(M6||(M6=Rv(['<span class="','sel-state">:',"</span>"],['<span class="','sel-state">:',"</span>"])),i,h):"",c=s?s({result:c,state:h,target:e}):c}return c&&'<span class="'.concat(i,'sel">').concat(c,"</span>")},t.prototype.stateChanged=function(e){var r=this.em,i=e.target.value;r.set("state",i)},t.prototype.addNewTag=function(e){var r=e.trim();r&&(this.module.addSelected({label:r}),this.endNewTag())},t.prototype.addToClasses=function(e,r){var i=r,o=this.getClasses(),a=new y4e({model:e,config:this.config,coll:this.collection,module:this.module}).render().el;return i?i.appendChild(a):o.append(a),a},t.prototype.renderClasses=function(){var e=this,r=document.createDocumentFragment(),i=this.getClasses();i.empty(),this.collection.each(function(o){return e.addToClasses(o,r)}),i.append(r)},t.prototype.getClasses=function(){return this.$el.find("[data-selectors]")},t.prototype.getStates=function(){if(!this.$states){var e=this.$el.find("[data-states]");this.$states=e[0]&&e}return this.$states},t.prototype.getStatesC=function(){return this.$statesC||(this.$statesC=this.$el.find("#"+this.stateInputC)),this.$statesC},t.prototype.renderStates=function(){var e=this,r=e.module,i=e.em,o=i.t("selectorManager.emptyState"),a=r.getStates().map(function(l){var c=i.t("selectorManager.states.".concat(l.id))||l.getLabel()||l.id;return'<option value="'.concat(l.id,'">').concat(c,"</option>")}).join(""),s=this.getStates();s&&s.html('<option value="">'.concat(o,"</option>").concat(a)),this.checkStates()},t.prototype.render=function(){var e=this,r=e.em,i=e.pfx,o=e.ppfx,a=e.config,s=e.$el,l=e.el,c=a.render,u=a.iconSync,f=a.iconAdd,h={iconSync:u,iconAdd:f,labelHead:r.t("selectorManager.label"),labelInfo:r.t("selectorManager.selected"),ppfx:o,pfx:i,el:l};s.html(this.template(h));var d=c&&c(h);return d&&d!==l&&s.empty().append(d),this.$input=s.find("[data-input]"),this.$addBtn=s.find("[data-add]"),this.$classes=s.find("#"+i+"tags-c"),this.$btnSyncEl=s.find("[data-sync-style]"),this.$input.hide(),this.renderStates(),this.renderClasses(),s.attr("class","".concat(this.className," ").concat(o,"one-bg ").concat(o,"two-color")),this},t}(Wt.Ss);const w4e=x4e;var N6,P6,j6,k6,M6,_4e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ag=function(){return ag=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ag.apply(this,arguments)},A5=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},L6=function(n){return(0,we.isString)(n)&&n[0]=="#"},D6=function(n){return(0,we.isString)(n)&&n[0]=="."},xL="selector",M1="".concat(xL,":"),S4e="".concat(M1,"add"),T4e="".concat(M1,"update"),wL="".concat(M1,"remove"),C4e="".concat(wL,":before"),E4e="".concat(M1,"custom"),_L="".concat(M1,"state"),O4e={all:xL,update:T4e,add:S4e,remove:wL,removeBefore:C4e,state:_L,custom:E4e},A4e=function(n){_4e(t,n);function t(e){var r=n.call(this,e,"SelectorManager",new zu([]),O4e,h4e(),{skipListen:!0})||this;r.Selector=wa,r.Selectors=zu,r.storageKey="",(0,we.bindAll)(r,"__updateSelectedByComponents");var i=r.config,o=i.pStylePrefix;o&&(i.stylePrefix=o+i.stylePrefix),r.all=new zu(i.selectors),r.selected=new zu([],{em:e,config:i}),r.states=new Wt.pM(i.states.map(function(l){return new O5(l)}),{model:O5}),r.model=new Wt.Kx({cFirst:i.componentFirst,_undo:!0}),r.__update=(0,we.debounce)(function(){return r.__trgCustom()},0),r.__initListen({collections:[r.states,r.selected],propagate:[{entity:r.states,event:r.events.state}]}),e.on("change:state",function(l,c){return e.trigger(_L,c)}),r.model.on("change:cFirst",function(l,c){return e.trigger("selector:type",c)});var a="".concat(Tn.I.update,":classes");e.on("component:toggled ".concat(a),r.__updateSelectedByComponents);var s="component:toggled ".concat(a," change:device styleManager:update selector:state selector:type style:target");return r.model.listenTo(e,s,function(){return r.__update()}),r}return t.prototype.__trgCustom=function(e){this.em.trigger(this.events.custom,this.__customData(e))},t.prototype.getAll=function(e){return e===void 0&&(e={}),this.all?e.array?A5([],this.all.models,!0):this.all:[]},t.prototype.__customData=function(e){return e===void 0&&(e={}),this.__ctn=this.__ctn||e.container,{states:this.getStates(),selected:this.getSelected(),container:this.__ctn}},t.prototype.postRender=function(){this.__appendTo(),this.__trgCustom()},t.prototype.select=function(e,r){r===void 0&&(r={});var i=Array.isArray(e)?e:[e],o=this.em.Styles.select(i,r);this.selected.reset(this.__getCommonSelectors(o));var a=this.selectorTags,s=o.filter(function(l){return l}).map(function(l){return(0,Et.isComponent)(l)||(0,Et.isRule)(l)&&!l.get("selectorsAdd")?l:l.getSelectorsString()});return a&&a.componentChanged({targets:s}),this},t.prototype.addSelector=function(e,r,i){r===void 0&&(r={}),i===void 0&&(i={});var o=ag({},r);(0,we.isObject)(e)?o=e:o.name=e,L6(o.name)?(o.name=o.name.substr(1),o.type=wa.TYPE_ID):D6(o.name)&&(o.name=o.name.substr(1)),o.label&&!o.name&&(o.name=this.escapeName(o.label));var a=o.name,s=this.getConfig(),l=this,c=l.all,u=l.em,f=a?this.get(a,o.type):c.where(o)[0];if(!f){var h=o instanceof wa?o:new wa(o,ag(ag({},i),{config:s,em:u}));return c.add(h,i)}return f},t.prototype.getSelector=function(e,r){return r===void 0&&(r=wa.TYPE_CLASS),L6(e)?(e=e.substr(1),r=wa.TYPE_ID):D6(e)&&(e=e.substr(1)),this.all.where({name:e,type:r})[0]},t.prototype.add=function(e,r){var i=this;r===void 0&&(r={});var o=(0,we.isString)(e)?{}:r;return(0,we.isArray)(e)?e.map(function(a){return i.addSelector(a,r,o)}):this.addSelector(e,r,o)},t.prototype.addClass=function(e){var r=this,i=[];return(0,we.isString)(e)&&(e=e.trim().split(" ")),e.forEach(function(o){return i.push(r.addSelector(o))}),i},t.prototype.get=function(e,r){var i=this;if((0,we.isArray)(e)){var o=[],a=e.map(function(s){return i.getSelector(s)}).filter(Boolean);return a.forEach(function(s){return o.indexOf(s)<0&&o.push(s)}),o}else return this.getSelector(e,r)},t.prototype.remove=function(e,r){return this.__remove(e,r)},t.prototype.rename=function(e,r,i){var o=this.escapeName(r),a=this.get(o);return a||e.set({name:o,label:r},i)},t.prototype.setState=function(e){return this.em.setState(e),this},t.prototype.getState=function(){return this.em.getState()},t.prototype.getStates=function(){return A5([],this.states.models,!0)},t.prototype.setStates=function(e,r){return this.states.reset(e.map(function(i){return new O5(i)}),r)},t.prototype.getSelected=function(){return this.__getCommon()},t.prototype.getSelectedAll=function(){return A5([],this.selected.models,!0)},t.prototype.addSelected=function(e){var r=this.add(e);this.em.getSelectedAll().forEach(function(i){i.getSelectors().add(r)})},t.prototype.removeSelected=function(e){this.em.getSelectedAll().forEach(function(r){!e.get("protected")&&r&&r.getSelectors().remove(e)})},t.prototype.duplicateSelected=function(e,r){var i=this;r===void 0&&(r={});var o=this.em,a=this.getSelected();if(!(a.indexOf(e)<0)){var s=this.getState(),l=o.getCurrentMedia(),c=o.Css.get(a,s,l),u=c==null?void 0:c.getStyle();if(o.getSelectedAll().forEach(function(h){var d=h.getSelectors();if(d.includes(e)){var m=r.suffix||" copy",g=e.getLabel(),x=i.addSelector("".concat(g).concat(m)),b=d.indexOf(e);d.remove(e),d.add(x,{at:b})}}),u){var f=o.Css.add(this.getSelected(),s,l);f.setStyle(u)}}},t.prototype.getSelectedTargets=function(){return this.em.Styles.getSelectedAll()},t.prototype.setComponentFirst=function(e){this.getConfig().componentFirst=e,this.model.set({cFirst:e})},t.prototype.getComponentFirst=function(){return this.getConfig().componentFirst},t.prototype.escapeName=function(e){var r=this.getConfig().escapeName;return r?r(e):wa.escapeName(e)},t.prototype.render=function(e){var r=this.selectorTags,i=this.getConfig(),o=r==null?void 0:r.el;return this.selected.reset(e),this.selectorTags=new w4e({el:o,collection:this.selected,module:this,config:i}),this.selectorTags.render().el},t.prototype.destroy=function(){var e=this,r=e.selectorTags,i=e.model;i.stopListening(),this.__update.cancel(),this.__destroy(),r==null||r.remove(),this.selectorTags=void 0},t.prototype.__getCommon=function(){return this.__getCommonSelectors(this.em.getSelectedAll())},t.prototype.__getCommonSelectors=function(e,r){r===void 0&&(r={});var i=e.map(function(o){return o.getSelectors&&o.getSelectors().getValid(r)}).filter(Boolean);return this.__common.apply(this,i)},t.prototype.__common=function(){for(var e=this,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return r.length?r.length===1?r[0]:r.length===2?r[0].filter(function(o){return r[1].indexOf(o)>=0}):r.slice(1).reduce(function(o,a){return e.__common(o,a)},r[0]):[]},t.prototype.__updateSelectedByComponents=function(){this.selected.reset(this.__getCommon())},t}(mu);const N4e=A4e;var P4e=function(){return{textTags:["br","b","i","u","a","ul","ol"],textTypes:["text","textnode","comment"],parserCss:void 0,parserHtml:void 0,optionsHtml:{htmlType:"text/html",allowScripts:!1,allowUnsafeAttr:!1,allowUnsafeAttrValue:!1,keepEmptyTextNodes:!1,convertDataGjsAttributesHyphens:!1}}};const j4e=P4e;var Nl,gs={MEDIA_RULE:4,FONT_FACE_RULE:5,PAGE_RULE:6,KEYFRAMES_RULE:7,COUNTER_STYLE_RULE:11,SUPPORTS_RULE:12,DOCUMENT_RULE:13,FONT_FEATURE_VALUES_RULE:14,VIEWPORT_RULE:15},ep=(Nl={},Nl[gs.MEDIA_RULE]="media",Nl[gs.FONT_FACE_RULE]="font-face",Nl[gs.PAGE_RULE]="page",Nl[gs.KEYFRAMES_RULE]="keyframes",Nl[gs.COUNTER_STYLE_RULE]="counter-style",Nl[gs.SUPPORTS_RULE]="supports",Nl[gs.DOCUMENT_RULE]="document",Nl[gs.FONT_FEATURE_VALUES_RULE]="font-feature-values",Nl[gs.VIEWPORT_RULE]="viewport",Nl),SL=(0,we.keys)(ep),H4=[gs.FONT_FACE_RULE,gs.PAGE_RULE,gs.COUNTER_STYLE_RULE,gs.VIEWPORT_RULE],k4e=SL.filter(function(n){return H4.indexOf(Number(n))<0}).map(function(n){return ep[n]}).concat(["container","layer"]),M4e=H4.map(function(n){return ep[n]}),TL=function(n){n===void 0&&(n="");for(var t=[],e=[],r=n.split(","),i=0,o=r.length;i<o;i++){var a=r[i].trim();if(/^(\.{1}[\w\-]+)+(:{1,2}[\w\-()]+)?$/gi.test(a)||/^(#{1}[\w\-]+){1}(:{1,2}[\w\-()]+)?$/gi.test(a)){var s=a.split(".").filter(Boolean);e.push(s)}else t.push(a)}return{result:e,add:t}},L4e=function(n){for(var t=n.style,e={},r=0,i=t.length;r<i;r++){var o=t[r],a=t.getPropertyValue(o),s=t.getPropertyPriority(o);e[o]="".concat(a).concat(s?" !".concat(s):"")}return e},I6=function(n){var t=n.conditionText||n.media&&n.media.mediaText||n.name||n.selectorText||"";return t.trim()},pS=function(n,t,e){t===void 0&&(t={}),e===void 0&&(e={});var r={},i=n.length,o=n[i-1],a=o?o.split(/:(.+)/):[],s=a[1],l=e.atRule,c=e.selectorsAdd,u=e.mediaText,f=M4e.indexOf(l)>=0;return f&&(r.singleAtRule=!0),l&&(r.atRuleType=l),c&&(r.selectorsAdd=c),u&&(r.mediaText=u),s&&(n[i-1]=a[0],r.state=s,a.splice(a.length-1,1)),r.selectors=n,r.style=t,r},R6=function(n){var t=n.cssText,e=t===void 0?"":t;return k4e.find(function(r){return e.indexOf("@".concat(r))===0})},CL=function(n){for(var t=[],e=n.cssRules||[],r=0,i=e.length;r<i;r++){var o=e[r],a=o.type,s=!1,l="",c="",u=o.selectorText||o.keyText||"",f=H4.indexOf(a)>=0;if(f)s=!0,l=ep[a],c=I6(o);else if(SL.indexOf("".concat(a))>=0||!a&&R6(o)){var h=CL(o),d=ep[a]||R6(o);c=I6(o);for(var m=0,g=h.length;m<g;m++){var x=h[m];c&&(x.mediaText=c),x.atRuleType=d}t=t.concat(h)}if(!(!u&&!f)){for(var b=L4e(o),_=TL(u),S=_.add,T=_.result,C=void 0,w=0,N=T.length;w<N;w++){var A=pS(T[w],b,{atRule:ep[a]});t.push(A),C=A}if(S.length){var j=S.join(", ");if(C)C.selectorsAdd=j;else{var A={selectors:[],selectorsAdd:j,style:b};s&&(A.singleAtRule=s),l&&(A.atRuleType=l),c&&(A.mediaText=c),t.push(A)}}}}return t};const D4e=function(n){var t=document.createElement("style");t.innerHTML=n,document.head.appendChild(t);var e=t.sheet;return document.head.removeChild(t),e?CL(e):[]};var I4e=function(n,t){return t===void 0&&(t={}),{parse:function(e,r){var i=this;r===void 0&&(r={});var o=[],a=t.parserCss,s=n==null?void 0:n.Editor,l=[],c,u=n==null?void 0:n.Parser,f={input:e};u==null||u.__emitEvent(qu.cssBefore,f);var h=f.input;try{l=a?a(h,s):D4e(h)}catch(d){if(c=d,r.throwOnError)throw d}return l.forEach(function(d){return o=o.concat(i.checkNode(d))}),u==null||u.__emitEvent(qu.css,{input:h,output:o,nodes:l,error:c}),o},checkNode:function(e){var r=e.selectors,i=e.style,o=[e];if((0,we.isString)(r)){var a=[],s=e,l=TL(r),c=l.result,u=l.add.join(", "),f={atRule:s.atRule,mediaText:s.params};if(c.length?c.forEach(function(d){a.push(pS(d,i,f))}):a.push(pS([],i,f)),u){var h=a[a.length-1];h.selectorsAdd=u}o=a}return o}}};const R4e=I4e;var F4e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),vS=function(){return vS=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},vS.apply(this,arguments)},B4e=function(n){F4e(t,n);function t(e){var r=n.call(this,e,"Parser",j4e())||this;r.events=qu;var i=r.config;return r.parserCss=R4e(e,i),r.parserHtml=WM(e,i),r}return t.prototype.parseHtml=function(e,r){r===void 0&&(r={});var i=this,o=i.em,a=i.parserHtml;return a.compTypes=o.Components.getTypes()||[],a.parse(e,this.parserCss,r)},t.prototype.parseCss=function(e){return this.parserCss.parse(e)},t.prototype.__emitEvent=function(e,r){var i=this,o=i.em,a=i.events;o.trigger(e,r),o.trigger(a.all,vS({event:e},r))},t.prototype.destroy=function(){},t}(ts);const H4e=B4e;var $4e=function(){return{id:"gjs-",type:"local",autosave:!0,autoload:!0,stepsBeforeSave:1,recovery:!1,onStore:function(n){return n},onLoad:function(n){return n},options:{local:{key:"gjsProject",checkLocal:!0},remote:{headers:{},urlStore:"",urlLoad:"",contentTypeJson:!0,fetchOptions:"",credentials:"include",onStore:function(n){return n},onLoad:function(n){return n}}}}};const U4e=$4e;var F6=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(a){a(o)})}return new(e||(e=Promise))(function(o,a){function s(u){try{c(r.next(u))}catch(f){a(f)}}function l(u){try{c(r.throw(u))}catch(f){a(f)}}function c(u){u.done?o(u.value):i(u.value).then(s,l)}c((r=r.apply(n,t||[])).next())})},B6=function(n,t){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(e=0)),e;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return e.label++,{value:c[1],done:!1};case 5:e.label++,i=c[1],c=[0];continue;case 7:c=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){e=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){e.label=c[1];break}if(c[0]===6&&e.label<o[1]){e.label=o[1],o=c;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(c);break}o[2]&&e.ops.pop(),e.trys.pop();continue}c=t.call(n,e)}catch(u){c=[6,u],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},V4e=function(){function n(){}return n.prototype.store=function(t){return F6(this,arguments,void 0,function(e,r){return r===void 0&&(r={}),B6(this,function(i){return this.hasLocal(r,!0)&&localStorage.setItem(r.key,JSON.stringify(e)),[2,e]})})},n.prototype.load=function(){return F6(this,arguments,void 0,function(t){var e;return t===void 0&&(t={}),B6(this,function(r){return e={},this.hasLocal(t,!0)&&(e=JSON.parse(localStorage.getItem(t.key)||"{}")),[2,e]})})},n.prototype.hasLocal=function(t,e){if(t===void 0&&(t={}),t.checkLocal&&(!(0,Et.hasWin)()||!localStorage)){if(e)throw new Error("localStorage not available");return!1}return!0},n}();const z4e=V4e;function Md(n){"@babel/helpers - typeof";return Md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Md(n)}function W4e(n){var t=this.constructor;return this.then(function(e){return t.resolve(n()).then(function(){return e})},function(e){return t.resolve(n()).then(function(){return t.reject(e)})})}const q4e=W4e;function G4e(n){var t=this;return new t(function(e,r){if(!(n&&typeof n.length<"u"))return r(new TypeError(Md(n)+" "+n+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var i=Array.prototype.slice.call(n);if(i.length===0)return e([]);var o=i.length;function a(l,c){if(c&&(Md(c)==="object"||typeof c=="function")){var u=c.then;if(typeof u=="function"){u.call(c,function(f){a(l,f)},function(f){i[l]={status:"rejected",reason:f},--o===0&&e(i)});return}}i[l]={status:"fulfilled",value:c},--o===0&&e(i)}for(var s=0;s<i.length;s++)a(s,i[s])})}const K4e=G4e;function EL(n,t){this.name="AggregateError",this.errors=n,this.message=t||""}EL.prototype=Error.prototype;function Y4e(n){var t=this;return new t(function(e,r){if(!(n&&typeof n.length<"u"))return r(new TypeError("Promise.any accepts an array"));var i=Array.prototype.slice.call(n);if(i.length===0)return r();for(var o=[],a=0;a<i.length;a++)try{t.resolve(i[a]).then(e).catch(function(s){o.push(s),o.length===i.length&&r(new EL(o,"All promises were rejected"))})}catch(s){r(s)}})}const X4e=Y4e;var Z4e=setTimeout;function OL(n){return!!(n&&typeof n.length<"u")}function J4e(){}function Q4e(n,t){return function(){n.apply(t,arguments)}}function Si(n){if(!(this instanceof Si))throw new TypeError("Promises must be constructed via new");if(typeof n!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],NL(n,this)}function AL(n,t){for(;n._state===3;)n=n._value;if(n._state===0){n._deferreds.push(t);return}n._handled=!0,Si._immediateFn(function(){var e=n._state===1?t.onFulfilled:t.onRejected;if(e===null){(n._state===1?gS:g1)(t.promise,n._value);return}var r;try{r=e(n._value)}catch(i){g1(t.promise,i);return}gS(t.promise,r)})}function gS(n,t){try{if(t===n)throw new TypeError("A promise cannot be resolved with itself.");if(t&&(Md(t)==="object"||typeof t=="function")){var e=t.then;if(t instanceof Si){n._state=3,n._value=t,mS(n);return}else if(typeof e=="function"){NL(Q4e(e,t),n);return}}n._state=1,n._value=t,mS(n)}catch(r){g1(n,r)}}function g1(n,t){n._state=2,n._value=t,mS(n)}function mS(n){n._state===2&&n._deferreds.length===0&&Si._immediateFn(function(){n._handled||Si._unhandledRejectionFn(n._value)});for(var t=0,e=n._deferreds.length;t<e;t++)AL(n,n._deferreds[t]);n._deferreds=null}function eCe(n,t,e){this.onFulfilled=typeof n=="function"?n:null,this.onRejected=typeof t=="function"?t:null,this.promise=e}function NL(n,t){var e=!1;try{n(function(r){e||(e=!0,gS(t,r))},function(r){e||(e=!0,g1(t,r))})}catch(r){if(e)return;e=!0,g1(t,r)}}Si.prototype.catch=function(n){return this.then(null,n)};Si.prototype.then=function(n,t){var e=new this.constructor(J4e);return AL(this,new eCe(n,t,e)),e};Si.prototype.finally=q4e;Si.all=function(n){return new Si(function(t,e){if(!OL(n))return e(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(n);if(r.length===0)return t([]);var i=r.length;function o(s,l){try{if(l&&(Md(l)==="object"||typeof l=="function")){var c=l.then;if(typeof c=="function"){c.call(l,function(u){o(s,u)},e);return}}r[s]=l,--i===0&&t(r)}catch(u){e(u)}}for(var a=0;a<r.length;a++)o(a,r[a])})};Si.any=X4e;Si.allSettled=K4e;Si.resolve=function(n){return n&&Md(n)==="object"&&n.constructor===Si?n:new Si(function(t){t(n)})};Si.reject=function(n){return new Si(function(t,e){e(n)})};Si.race=function(n){return new Si(function(t,e){if(!OL(n))return e(new TypeError("Promise.race accepts an array"));for(var r=0,i=n.length;r<i;r++)Si.resolve(n[r]).then(t,e)})};Si._immediateFn=typeof setImmediate=="function"&&function(n){setImmediate(n)}||function(n){Z4e(n,0)};Si._unhandledRejectionFn=function(t){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};const yS=Si;(0,Et.hasWin)()&&(window.Promise=window.Promise||yS);const PL=typeof fetch=="function"?fetch.bind():function(n,t){return new yS(function(e,r){var i=new XMLHttpRequest;i.open(t.method||"get",n),i.withCredentials=t.credentials=="include";for(var o in t.headers||{})i.setRequestHeader(o,t.headers[o]);i.onload=function(a){return e({status:i.status,statusText:i.statusText,text:function(){return yS.resolve(i.responseText)}})},i.onerror=r,i.upload&&t.onProgress&&(i.upload.onprogress=t.onProgress),t.body?i.send(t.body):i.send()})};var Qy=function(){return Qy=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Qy.apply(this,arguments)},H6=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(a){a(o)})}return new(e||(e=Promise))(function(o,a){function s(u){try{c(r.next(u))}catch(f){a(f)}}function l(u){try{c(r.throw(u))}catch(f){a(f)}}function c(u){u.done?o(u.value):i(u.value).then(s,l)}c((r=r.apply(n,t||[])).next())})},$6=function(n,t){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(e=0)),e;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return e.label++,{value:c[1],done:!1};case 5:e.label++,i=c[1],c=[0];continue;case 7:c=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){e=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){e.label=c[1];break}if(c[0]===6&&e.label<o[1]){e.label=o[1],o=c;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(c);break}o[2]&&e.ops.pop(),e.trys.pop();continue}c=t.call(n,e)}catch(u){c=[6,u],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},tCe=function(){function n(){}return n.prototype.store=function(t){return H6(this,arguments,void 0,function(e,r){return r===void 0&&(r={}),$6(this,function(i){switch(i.label){case 0:return[4,this.request(r.urlStore,this.__props(r,e),r)];case 1:return[2,i.sent()]}})})},n.prototype.load=function(){return H6(this,arguments,void 0,function(t){return t===void 0&&(t={}),$6(this,function(e){switch(e.label){case 0:return[4,this.request(t.urlLoad,this.__props(t),t)];case 1:return[2,e.sent()]}})})},n.prototype.request=function(t,e,r){return e===void 0&&(e={}),r===void 0&&(r={}),PL(t,e).then(function(i){var o=i.text(),a=(i.status/200|0)===1;return a?o:o.then(Promise.reject)}).then(function(i){var o=i&&(0,we.isString)(i);return r.contentTypeJson&&o?JSON.parse(i):i})},n.prototype.__props=function(t,e){t===void 0&&(t={});var r=t.contentTypeJson,i=t.headers||{},o=t.fetchOptions||{},a="X-Requested-With",s="Content-Type",l;if((0,we.isUndefined)(i[a])&&(i[a]="XMLHttpRequest"),(0,we.isUndefined)(i[s])&&r&&(i[s]="application/json; charset=utf-8"),e)if(r)l=JSON.stringify(e);else{l=new FormData;for(var c in e)l.append(c,e[c])}var u={method:l?"POST":"GET",credentials:t.credentials,headers:i,body:l};return Qy(Qy({},u),(0,we.isFunction)(o)?o(u):o)},n}();const rCe=tCe;var bS;(function(n){n.start="storage:start",n.startStore="storage:start:store",n.startLoad="storage:start:load",n.load="storage:load",n.store="storage:store",n.after="storage:after",n.afterStore="storage:after:store",n.afterLoad="storage:after:load",n.end="storage:end",n.endStore="storage:end:store",n.endLoad="storage:end:load",n.error="storage:error",n.errorStore="storage:error:store",n.errorLoad="storage:error:load"})(bS||(bS={}));const ga=bS;var nCe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ih=function(){return Ih=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Ih.apply(this,arguments)},N5=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(a){a(o)})}return new(e||(e=Promise))(function(o,a){function s(u){try{c(r.next(u))}catch(f){a(f)}}function l(u){try{c(r.throw(u))}catch(f){a(f)}}function c(u){u.done?o(u.value):i(u.value).then(s,l)}c((r=r.apply(n,t||[])).next())})},P5=function(n,t){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(e=0)),e;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return e.label++,{value:c[1],done:!1};case 5:e.label++,i=c[1],c=[0];continue;case 7:c=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){e=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){e.label=c[1];break}if(c[0]===6&&e.label<o[1]){e.label=o[1],o=c;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(c);break}o[2]&&e.ops.pop(),e.trys.pop();continue}c=t.call(n,e)}catch(u){c=[6,u],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},km="local",U6="remote",iCe=function(n){nCe(t,n);function t(e){var r=n.call(this,e,"StorageManager",U4e())||this;r.storages={},r.events=ga;var i=r.config;return i._disable&&(i.type=void 0),r.storages={},r.add(km,new z4e),r.add(U6,new rCe),r.setCurrent(i.type),r}return t.prototype.isAutosave=function(){return!!this.config.autosave},t.prototype.setAutosave=function(e){return this.config.autosave=!!e,this},t.prototype.getStepsBeforeSave=function(){return this.config.stepsBeforeSave},t.prototype.setStepsBeforeSave=function(e){return this.config.stepsBeforeSave=e,this},t.prototype.add=function(e,r){return this.storages[e]=r,this},t.prototype.get=function(e){return this.storages[e]},t.prototype.getStorages=function(){return this.storages},t.prototype.getCurrent=function(){return this.config.currentStorage},t.prototype.setCurrent=function(e){return this.getConfig().currentStorage=e,this},t.prototype.getCurrentStorage=function(){return this.get(this.getCurrent())},t.prototype.getStorageOptions=function(e){return this.getCurrentOptions(e)},t.prototype.store=function(e){return N5(this,arguments,void 0,function(r,i){var o,a,s,l,c,u;return i===void 0&&(i={}),P5(this,function(f){switch(f.label){case 0:o=this.getCurrentStorage(),a=Ih(Ih({},this.getCurrentOptions()),i),s=this.getRecoveryStorage(),l=this.getCurrentOptions(km),f.label=1;case 1:return f.trys.push([1,5,,9]),[4,this.__exec(o,a,r)];case 2:return f.sent(),c=s,c?[4,this.__exec(s,l,{})]:[3,4];case 3:c=f.sent(),f.label=4;case 4:return[3,9];case 5:return u=f.sent(),s?[4,this.__exec(s,l,r)]:[3,7];case 6:return f.sent(),[3,8];case 7:throw u;case 8:return[3,9];case 9:return[2,r]}})})},t.prototype.load=function(){return N5(this,arguments,void 0,function(e){var r,i,o,a,s;return e===void 0&&(e={}),P5(this,function(l){switch(l.label){case 0:return r=this.getCurrentStorage(),i=Ih(Ih({},this.getCurrentOptions()),e),o=this.getRecoveryStorage(),o?[4,this.__exec(o,this.getCurrentOptions(km))]:[3,5];case 1:if(s=l.sent(),(0,we.isEmpty)(s))return[3,5];l.label=2;case 2:return l.trys.push([2,4,,5]),[4,this.__askRecovery()];case 3:return l.sent(),a=s,[3,5];case 4:return l.sent(),[3,5];case 5:return a?[3,7]:[4,this.__exec(r,i)];case 6:a=l.sent(),l.label=7;case 7:return[2,a||{}]}})})},t.prototype.__askRecovery=function(){var e=this.em,r=this.getRecovery();return new Promise(function(i,o){(0,we.isFunction)(r)?r(i,o,e==null?void 0:e.getEditor()):confirm(e==null?void 0:e.t("storageManager.recover"))?i(null):o()})},t.prototype.getRecovery=function(){return this.config.recovery},t.prototype.getRecoveryStorage=function(){var e=this.getRecovery();return e&&this.getCurrent()===U6&&this.get(km)},t.prototype.__exec=function(e,r,i){return N5(this,void 0,void 0,function(){var o,a,s,l,c,u,f,h,d,m,g,x,b,_;return P5(this,function(S){switch(S.label){case 0:if(o=i?"store":"load",a=this.getConfig(),s=a.onStore,l=a.onLoad,!e)return[2,i||{}];this.onStart(o,i),S.label=1;case 1:return S.trys.push([1,14,,15]),u=(_=this.em)===null||_===void 0?void 0:_.getEditor(),f=void 0,i?(d=s,d?[4,s(i,u)]:[3,3]):[3,7];case 2:d=S.sent(),S.label=3;case 3:return h=d||i,m=r.onStore,m?[4,r.onStore(h,u)]:[3,5];case 4:m=S.sent(),S.label=5;case 5:return h=m||h,[4,e.store(h,r)];case 6:return f=S.sent(),c=i,[3,13];case 7:return[4,e.load(r)];case 8:return f=S.sent(),c=this.__clearKeys(f),g=r.onLoad,g?[4,r.onLoad(c,u)]:[3,10];case 9:g=S.sent(),S.label=10;case 10:return c=g||c,x=l,x?[4,l(c,u)]:[3,12];case 11:x=S.sent(),S.label=12;case 12:c=x||c,S.label=13;case 13:return this.onAfter(o,c,f),this.onEnd(o,c,f),[3,15];case 14:throw b=S.sent(),this.onError(o,b),b;case 15:return[2,c]}})})},t.prototype.__clearKeys=function(e){e===void 0&&(e={});var r=this.getConfig(),i=new RegExp("^".concat(r.id)),o={};for(var a in e){var s=a.replace(i,"");o[s]=e[a]}return o},t.prototype.getCurrentOptions=function(e){var r=this.getConfig(),i=e||this.getCurrent();return r.options[i]||{}},t.prototype.onStart=function(e,r){var i=this.em;if(i){var o=e==="load"?ga.startLoad:ga.startStore;i.trigger(ga.start,e,r),i.trigger(o,r)}},t.prototype.onAfter=function(e,r,i){var o=this.em;if(o){var a=e==="load"?ga.afterLoad:ga.afterStore;o.trigger(ga.after),o.trigger(a,r,i);var s=e==="load"?ga.load:ga.store;o.trigger(s,r,i)}},t.prototype.onEnd=function(e,r,i){var o=this.em;if(o){var a=e==="load"?ga.endLoad:ga.endStore;o.trigger(ga.end,e,r,i),o.trigger(a,r,i)}},t.prototype.onError=function(e,r){var i=this.em;if(i){var o=e==="load"?ga.errorLoad:ga.errorStore;i.trigger(ga.error,r,e),i.trigger(o,r),this.onEnd(e,r)}},t.prototype.canAutoload=function(){var e=this.getCurrentStorage();return!!e&&!!this.config.autoload},t.prototype.destroy=function(){this.storages={}},t}(ts);const oCe=iCe;var aCe=function(){return{stylePrefix:"trt-",appendTo:"",optionsTarget:[{value:!1},{value:"_blank"}],custom:!1}};const sCe=aCe;var lCe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),sg=function(){return sg=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},sg.apply(this,arguments)},jL=function(n){lCe(t,n);function t(e){e===void 0&&(e={});var r=n.call(this,e)||this;r.events={},r.appendInput=!0;var i=e.config,o=i===void 0?{}:i,a=r,s=a.model,l=a.eventCapture,c=s.target,u=s.attributes.type;r.config=o,r.em=o.em,r.pfx=o.stylePrefix||"",r.ppfx=o.pStylePrefix||"",r.target=c,r.className=r.pfx+"trait",r.clsField="".concat(r.ppfx,"field ").concat(r.ppfx,"field-").concat(u);var f=[["change:value",r.onValueChange],["remove",r.removeView]];return f.forEach(function(h){var d=h[0],m=h[1];s.off(d,m),r.listenTo(s,d,m)}),s.view=r,r.listenTo(s,"change:label",r.render),r.listenTo(s,"change:placeholder",r.rerender),r.events={},l.forEach(function(h){return r.events[h]="onChange"}),r.delegateEvents(),r.init(),r}return t.prototype.attributes=function(){return this.model.get("attributes")||{}},t.prototype.templateLabel=function(e){var r=this.ppfx,i=this.getLabel();return'<div class="'.concat(r,'label" title="').concat(i,'">').concat(i,"</div>")},t.prototype.templateInput=function(e){var r=this.clsField;return'<div class="'.concat(r,'" data-input></div>')},t.prototype.getClbOpts=function(){return{component:this.target,trait:this.model,elInput:this.getInputElem()}},t.prototype.removeView=function(){this.remove(),this.removed()},t.prototype.init=function(){},t.prototype.removed=function(){},t.prototype.onRender=function(e){},t.prototype.onUpdate=function(e){},t.prototype.onEvent=function(e){},t.prototype.onChange=function(e){var r=this.getInputElem();r&&!(0,we.isUndefined)(r.value)&&this.model.set("value",r.value),this.onEvent(sg(sg({},this.getClbOpts()),{event:e}))},t.prototype.getValueForTarget=function(){return this.model.get("value")},t.prototype.setInputValue=function(e){var r=this.getInputElem();r&&(r.value=e)},t.prototype.onValueChange=function(e,r,i){i===void 0&&(i={});var o=this.model,a=this.getValueForTarget();i.fromTarget?(this.setInputValue(a),this.postUpdate()):o.setValue(a,i)},t.prototype.renderLabel=function(){var e=this,r=e.$el,i=e.target,o=this.getLabel(),a=this.templateLabel(i);this.createLabel&&(a=this.createLabel({label:o,component:i,trait:this})||""),r.find("[data-label]").append(a)},t.prototype.getLabel=function(){var e=this.em,r=this.model.attributes,i=r.label,o=r.name;return e.t("traitManager.traits.labels.".concat(o))||(0,Et.capitalize)(i||o).replace(/-/g," ")},t.prototype.getComponent=function(){return this.target},t.prototype.getInputEl=function(){if(!this.$input){var e=this,r=e.em,i=e.model,o=i,a=i.attributes.name,s=o.get("placeholder")||o.get("default")||"",l=o.get("type")||"text",c=o.get("min"),u=o.get("max"),f=this.getModelValue(),h=(0,lo.default)('<input type="'.concat(l,'">')),d=r.t("traitManager.traits.attributes.".concat(a))||{};h.attr(sg({placeholder:s},d)),(0,we.isUndefined)(f)||(o.set({value:f},{silent:!0}),h.prop("value",f)),c&&h.prop("min",c),u&&h.prop("max",u),this.$input=h}return this.$input.get(0)},t.prototype.getInputElem=function(){var e=this,r=e.input,i=e.$input;return r||i&&i.get&&i.get(0)||this.getElInput()},t.prototype.getModelValue=function(){return this.model.getValue()},t.prototype.getElInput=function(){return this.elInput},t.prototype.renderField=function(){var e=this,r=e.$el,i=e.appendInput,o=e.model,a=r.find("[data-input]"),s=a[a.length-1],l=o.el;l||(l=this.createInput?this.createInput(this.getClbOpts()):this.getInputEl()),(0,we.isString)(l)?(s.innerHTML=l,this.elInput=s.firstChild):(i?s.appendChild(l):s.insertBefore(l,s.firstChild),this.elInput=l),o.el=this.elInput},t.prototype.hasLabel=function(){var e=this.model.attributes.label;return!this.noLabel&&e!==!1},t.prototype.rerender=function(){delete this.model.el,this.render()},t.prototype.postUpdate=function(){this.onUpdate(this.getClbOpts())},t.prototype.render=function(){var e=this,r=e.$el,i=e.pfx,o=e.ppfx,a=e.model,s=a.attributes,l=s.type,c=s.id,u=this.hasLabel&&this.hasLabel(),f="".concat(i,"trait");delete this.$input;var h='<div class="'.concat(f," ").concat(f,"--").concat(l,`">
      `).concat(u?'<div class="'.concat(o,'label-wrp" data-label></div>'):"",`
      <div class="`).concat(o,"field-wrp ").concat(o,"field-wrp--").concat(l,`" data-input>
        `).concat(this.templateInput?(0,we.isFunction)(this.templateInput)?this.templateInput(this.getClbOpts()):this.templateInput:"",`
      </div>
    </div>`);return r.empty().append(h),u&&this.renderLabel(),this.renderField(),this.el.className="".concat(f,"__wrp ").concat(f,"__wrp-").concat(c),this.postUpdate(),this.onRender(this.getClbOpts()),this},t}(Wt.Ss);const hu=jL;jL.prototype.eventCapture=["change"];var cCe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),kL=function(n){cCe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.templateInput=function(){return""},t.prototype.onChange=function(){this.handleClick()},t.prototype.handleClick=function(){this.model.runCommand()},t.prototype.renderLabel=function(){this.model.get("label")&&hu.prototype.renderLabel.apply(this)},t.prototype.getInputEl=function(){var e=this,r=e.model,i=e.ppfx,o=r.props(),a=o.labelButton,s=o.text,l=o.full,c=a||s,u="".concat(i,"btn"),f='<button type="button" class="'.concat(u,"-prim").concat(l?" ".concat(u,"--full"):"",'">').concat(c,"</button>");return f},t}(hu);const uCe=kL;kL.prototype.eventCapture=["click button"];var fCe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),dCe=function(n){fCe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.appendInput=!1,e}return t.prototype.templateInput=function(){var e=this,r=e.ppfx,i=e.clsField;return'<label class="'.concat(i,`" data-input>
    <i class="`).concat(r,`chk-icon"></i>
  </label>`)},t.prototype.onChange=function(){this.model.set("value",this.getInputElem().checked)},t.prototype.setInputValue=function(e){var r=this.getInputElem();r&&(r.checked=!!e)},t.prototype.getInputEl=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var i=!this.$input,o=hu.prototype.getInputEl.apply(this,e);if(i){var a=void 0,s=void 0,l=this,c=l.model,u=l.target,f=c.attributes.valueFalse,h=c.getName();c.changeProp?(a=u.get(h),s=a):(s=u.get("attributes")[h],a=!!(s||s==="")),!(0,we.isUndefined)(f)&&s===f&&(a=!1),o.checked=a}return o},t}(hu);const hCe=dCe;function pCe(n,t){if(!(0,Et.hasWin)())return;var e={beforeShow:d,move:d,change:d,show:d,hide:d,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},r=[],i=!!/msie/i.exec(window.navigator.userAgent),o=function(){function Oe(tt,Ie){return!!~(""+tt).indexOf(Ie)}var fe=document.createElement("div"),ee=fe.style;return ee.cssText="background-color:rgba(0,0,0,.5)",Oe(ee.backgroundColor,"rgba")||Oe(ee.backgroundColor,"hsla")}(),a=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),s=function(){var Oe="";if(i)for(var fe=1;fe<=6;fe++)Oe+="<div class='sp-"+fe+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",Oe,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}();function l(Oe,fe,ee,tt){for(var Ie=[],gt=0;gt<Oe.length;gt++){var wt=Oe[gt];if(wt){var Ct=M(wt),At=Ct.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";At+=M.equals(fe,wt)?" sp-thumb-active":"";var Ft=Ct.toString(tt.preferredFormat||"rgb"),lr=o?"background-color:"+Ct.toRgbString():"filter:"+Ct.toFilter();Ie.push('<span title="'+Ft+'" data-color="'+Ct.toRgbString()+'" class="'+At+'"><span class="sp-thumb-inner" style="'+lr+';"></span></span>')}else{var nr="sp-clear-display";Ie.push(n("<div />").append(n('<span data-color="" style="background-color:transparent;" class="'+nr+'"></span>').attr("title",tt.noColorSelectedText)).html())}}return"<div class='sp-cf "+ee+"'>"+Ie.join("")+"</div>"}function c(){for(var Oe=0;Oe<r.length;Oe++)r[Oe]&&r[Oe].hide()}function u(Oe,fe){var ee=n.extend({},e,Oe);return ee.callbacks={move:g(ee.move,fe),change:g(ee.change,fe),show:g(ee.show,fe),hide:g(ee.hide,fe),beforeShow:g(ee.beforeShow,fe)},ee}function f(Oe,fe){var ee=u(fe,Oe),tt=ee.flat,Ie=ee.showSelectionPalette,gt=ee.localStorageKey,wt=ee.theme,Ct=ee.callbacks,At=b(ho,10),Ft=!1,lr=!1,nr=!0,vr=0,Rr=0,Lr=0,ge=0,We=0,et=0,mt=0,Rt=0,Zt=0,Bt=0,dr=1,Er=[],Or=[],Ir={},or=ee.selectionPalette.slice(0),Kr=ee.maxSelectionSize,an="sp-dragging",mr=null,Xr=Oe.ownerDocument;Xr.body;var gr=n(Oe),Vr=!1,er=n(s,Xr).addClass(wt),sn=er.find(".sp-picker-container"),xr=er.find(".sp-color"),ln=er.find(".sp-dragger"),qr=er.find(".sp-hue"),un=er.find(".sp-slider"),wr=er.find(".sp-alpha-inner"),$=er.find(".sp-alpha"),oe=er.find(".sp-alpha-handle"),J=er.find(".sp-input"),Fe=er.find(".sp-palette"),it=er.find(".sp-initial"),qt=er.find(".sp-cancel"),fn=er.find(".sp-clear"),br=er.find(".sp-choose"),dt=er.find(".sp-palette-toggle"),ie=gr.is("input"),Nr=ie&&gr.attr("type")==="color"&&_(),_e=ie&&!tt,ze=_e?n(a).addClass(wt).addClass(ee.className).addClass(ee.replacerClassName):n([]),ht=_e?ze:gr,Nt=ze.find(".sp-preview-inner"),It=ee.color||ie&&gr.val(),Pr=!1,Dr=ee.preferredFormat,An=!ee.showButtons||ee.clickoutFiresChange,Zr=!It,Li=ee.allowEmpty&&!Nr;function bi(){if(ee.showPaletteOnly&&(ee.showPalette=!0),dt.text(ee.showPaletteOnly?ee.togglePaletteMoreText:ee.togglePaletteLessText),ee.palette){Er=ee.palette.slice(0),Or=n.isArray(Er[0])?Er:[Er],Ir={};for(var cr=0;cr<Or.length;cr++)for(var sr=0;sr<Or[cr].length;sr++){var Gr=M(Or[cr][sr]).toRgbString();Ir[Gr]=!0}}er.toggleClass("sp-flat",tt),er.toggleClass("sp-input-disabled",!ee.showInput),er.toggleClass("sp-alpha-enabled",ee.showAlpha),er.toggleClass("sp-clear-enabled",Li),er.toggleClass("sp-buttons-disabled",!ee.showButtons),er.toggleClass("sp-palette-buttons-disabled",!ee.togglePaletteOnly),er.toggleClass("sp-palette-disabled",!ee.showPalette),er.toggleClass("sp-palette-only",ee.showPaletteOnly),er.toggleClass("sp-initial-disabled",!ee.showInitial),er.addClass(ee.className).addClass(ee.containerClassName),ho()}function oa(){if(i&&er.find("*:not(input)").attr("unselectable","on"),bi(),_e&&gr.after(ze).hide(),Li||fn.hide(),tt)gr.after(er).hide();else{var cr=ee.appendTo==="parent"?gr.parent():n(ee.appendTo);cr.length!==1&&(cr=n("body")),cr.append(er)}Aa(),ht.bind("click.spectrum touchstart.spectrum",function(_r){Vr||As(),_r.stopPropagation(),n(_r.target).is("input")||_r.preventDefault()}),(gr.is(":disabled")||ee.disabled===!0)&&Fo(),er.click(m),J.change(aa),J.bind("paste",function(){setTimeout(aa,1)}),J.keydown(function(_r){_r.keyCode==13&&aa()}),qt.text(ee.cancelText),qt.bind("click.spectrum",function(_r){_r.stopPropagation(),_r.preventDefault(),Ro(),Vi()}),fn.attr("title",ee.clearText),fn.bind("click.spectrum",function(_r){_r.stopPropagation(),_r.preventDefault(),Zr=!0,Sr(),tt&&pi(!0)}),br.text(ee.chooseText),br.bind("click.spectrum",function(_r){_r.stopPropagation(),_r.preventDefault(),i&&J.is(":focus")&&J.trigger("change"),cl()&&(pi(!0),Vi())}),dt.text(ee.showPaletteOnly?ee.togglePaletteMoreText:ee.togglePaletteLessText),dt.bind("click.spectrum",function(_r){_r.stopPropagation(),_r.preventDefault(),ee.showPaletteOnly=!ee.showPaletteOnly,!ee.showPaletteOnly&&!tt&&er.css("left","-="+(sn.outerWidth(!0)+5)),bi()}),x($,function(_r,bn,$n){dr=_r/We,Zr=!1,$n.shiftKey&&(dr=Math.round(dr*10)/10),Sr()},is,Io),x(qr,function(_r,bn){Rt=parseFloat(bn/ge),Zr=!1,ee.showAlpha||(dr=1),Sr()},is,Io),x(xr,function(_r,bn,$n){if(!$n.shiftKey)mr=null;else if(!mr){var xi=Zt*vr,To=Rr-Bt*Rr,zi=Math.abs(_r-xi)>Math.abs(bn-To);mr=zi?"x":"y"}var Wi=!mr||mr==="x",Xi=!mr||mr==="y";Wi&&(Zt=parseFloat(_r/vr)),Xi&&(Bt=parseFloat((Rr-bn)/Rr)),Zr=!1,ee.showAlpha||(dr=1),Sr()},is,Io),It?(yn(It),So(),Dr=ee.preferredFormat||M(It).getFormat(),rs(It)):So(),tt&&ti();function sr(_r){return _r.data&&_r.data.ignore?(yn(n(_r.target).closest(".sp-thumb-el").data("color")),Sr()):(yn(n(_r.target).closest(".sp-thumb-el").data("color")),Sr(),ee.hideAfterPaletteSelect&&(pi(!0),Vi())),!1}var Gr=i?"mousedown.spectrum":"click.spectrum touchstart.spectrum";Fe.delegate(".sp-thumb-el",Gr,sr),it.delegate(".sp-thumb-el:nth-child(1)",Gr,{ignore:!0},sr)}function Aa(){if(gt&&window.localStorage){try{var cr=window.localStorage[gt].split(",#");cr.length>1&&(delete window.localStorage[gt],n.each(cr,function(sr,Gr){rs(Gr)}))}catch{}try{or=window.localStorage[gt].split(";")}catch{}}}function rs(cr){if(Ie){var sr=M(cr).toRgbString();if(!Ir[sr]&&n.inArray(sr,or)===-1)for(or.push(sr);or.length>Kr;)or.shift();if(gt&&window.localStorage)try{window.localStorage[gt]=or.join(";")}catch{}}}function Es(){var cr=[];if(ee.showPalette)for(var sr=0;sr<or.length;sr++){var Gr=M(or[sr]).toRgbString();Ir[Gr]||cr.push(or[sr])}return cr.reverse().slice(0,ee.maxSelectionSize)}function Os(){var cr=hi(),sr=n.map(Or,function(Gr,_r){return l(Gr,cr,"sp-palette-row sp-palette-row-"+_r,ee)});Aa(),or&&sr.push(l(Es(),cr,"sp-palette-row sp-palette-row-selection",ee)),Fe.html(sr.join(""))}function ns(){if(ee.showInitial){var cr=Pr,sr=hi();it.html(l([cr,sr],sr,"sp-palette-row-initial",ee))}}function is(){(Rr<=0||vr<=0||ge<=0)&&ho(),lr=!0,er.addClass(an),mr=null,gr.trigger("dragstart.spectrum",[hi()])}function Io(){lr=!1,er.removeClass(an),gr.trigger("dragstop.spectrum",[hi()])}function aa(){var cr=J.val();if((cr===null||cr==="")&&Li)yn(null),pi(!0);else{var sr=M(cr);sr.isValid()?(yn(sr),pi(!0)):J.addClass("sp-validation-error")}}function As(){Ft?Vi():ti()}function ti(){var cr=n.Event("beforeShow.spectrum");if(Ft){ho();return}if(gr.trigger("beforeShow.spectrum",[hi()]),!(Ct.beforeShow(hi())===!1||cr.isDefaultPrevented())){c(),Ft=!0;var sr=n(Xr);sr.bind("keydown.spectrum",Nn),sr.bind("click.spectrum",Na),n(window).bind("resize.spectrum",At),ze.addClass("sp-active"),er.removeClass("sp-hidden"),ho(),So(),Pr=hi(),ns(),Ct.show(Pr),gr.trigger("show.spectrum",[Pr])}}function Nn(cr){cr.keyCode===27&&Vi()}function Na(cr){cr.button!=2&&(lr||(An?pi(!0):Ro(),Vi()))}function Vi(){!Ft||tt||(Ft=!1,n(Xr).unbind("keydown.spectrum",Nn),n(Xr).unbind("click.spectrum",Na),n(window).unbind("resize.spectrum",At),ze.removeClass("sp-active"),er.addClass("sp-hidden"),Ct.hide(hi()),gr.trigger("hide.spectrum",[hi()]))}function Ro(){yn(Pr,!0)}function yn(cr,sr){if(M.equals(cr,hi())){So();return}var Gr,_r;!cr&&Li?Zr=!0:(Zr=!1,nr=!cr,Gr=M(cr),_r=Gr.toHsv(),Rt=_r.h%360/360,Zt=_r.s,Bt=_r.v,dr=_r.a),So(),Gr&&Gr.isValid()&&!sr&&(Dr=ee.preferredFormat||Gr.getFormat())}function hi(cr){return cr=cr||{},Li&&Zr?null:M.fromRatio({h:Rt,s:Zt,v:Bt,a:Math.round(dr*100)/100},{format:cr.format||Dr})}function cl(){return!J.hasClass("sp-validation-error")}function Sr(){So(),Ct.move(hi()),gr.trigger("move.spectrum",[hi()])}function So(){J.removeClass("sp-validation-error"),os();var cr=M.fromRatio({h:Rt,s:1,v:1});xr.css("background-color",cr.toHexString());var sr=Dr;dr<1&&!(dr===0&&sr==="name")&&(sr==="hex"||sr==="hex3"||sr==="hex6"||sr==="name")&&(sr="rgb");var Gr=hi({format:sr}),_r="";if(Nt.removeClass("sp-clear-display"),Nt.css("background-color","transparent"),!Gr&&Li)Nt.addClass("sp-clear-display");else{var bn=Gr.toHexString(),$n=Gr.toRgbString();if(o||Gr.alpha===1?Nt.css("background-color",$n):(Nt.css("background-color","transparent"),Nt.css("filter",Gr.toFilter())),ee.showAlpha){var xi=Gr.toRgb();xi.a=0;var To=M(xi).toRgbString(),zi="linear-gradient(left, "+To+", "+bn+")";i?wr.css("filter",M(To).toFilter({gradientType:1},bn)):(wr.css("background","-webkit-"+zi),wr.css("background","-moz-"+zi),wr.css("background","-ms-"+zi),wr.css("background","linear-gradient(to right, "+To+", "+bn+")"))}_r=Gr.toString(sr)}ee.showInput&&J.val(_r),ee.showPalette&&Os(),ns()}function os(){var cr=Zt,sr=Bt;if(Li&&Zr)oe.hide(),un.hide(),ln.hide();else{oe.show(),un.show(),ln.show();var Gr=cr*vr,_r=Rr-sr*Rr;Gr=Math.max(-Lr,Math.min(vr-Lr,Gr-Lr)),_r=Math.max(-Lr,Math.min(Rr-Lr,_r-Lr)),ln.css({top:_r+"px",left:Gr+"px"});var bn=dr*We;oe.css({left:bn-et/2+"px"});var $n=Rt*ge;un.css({top:$n-mt+"px"})}}function pi(cr){var sr=hi(),Gr="",_r=nr?!0:!M.equals(sr,Pr);sr&&(Gr=sr.toString(Dr),!Ft&&rs(sr)),ie&&gr.val(Gr),cr&&_r&&(Ct.change(sr),gr.trigger("change",[sr]))}function ho(){Ft&&(vr=xr.width(),Rr=xr.height(),Lr=ln.height(),qr.width(),ge=qr.height(),mt=un.height(),We=$.width(),et=oe.width(),tt||(er.css("position","absolute"),ee.offset?er.offset(ee.offset):er.offset(h(er,ht))),os(),ee.showPalette&&Os(),gr.trigger("reflow.spectrum"))}function Ns(){gr.show(),ht.unbind("click.spectrum touchstart.spectrum"),er.remove(),ze.remove(),r[ca.id]=null}function sa(cr,sr){if(cr===t)return n.extend({},ee);if(sr===t)return ee[cr];ee[cr]=sr,cr==="preferredFormat"&&(Dr=ee.preferredFormat),bi()}function la(){Vr=!1,gr.attr("disabled",!1),ht.removeClass("sp-disabled")}function Fo(){Vi(),Vr=!0,gr.attr("disabled",!0),ht.addClass("sp-disabled")}function as(cr){ee.offset=cr,ho()}oa();var ca={show:ti,hide:Vi,toggle:As,reflow:ho,option:sa,enable:la,disable:Fo,offset:as,set:function(cr){yn(cr),pi()},get:hi,destroy:Ns,container:er};return ca.id=r.push(ca)-1,ca}function h(Oe,fe){for(var ee=fe[0],tt=Oe[0],Ie=tt.parentElement,gt=ee.getBoundingClientRect(),wt=tt.offsetWidth,Ct=tt.offsetHeight,At={top:0,left:0,width:ee.offsetWidth,height:ee.offsetHeight};ee&&(At.top+=ee.offsetTop-ee.scrollTop,At.left+=ee.offsetLeft-ee.scrollLeft,!(ee===Ie||!Ie.contains(ee.offsetParent)));)ee=ee.offsetParent;return gt.right+wt>window.innerWidth-window.scrollX&&gt.right-wt>0&&(At.left-=wt-At.width),gt.bottom+Ct<window.innerHeight-window.scrollY?At.top+=At.height:At.top-=Ct,At}function d(){}function m(Oe){Oe.stopPropagation()}function g(Oe,fe){var ee=Array.prototype.slice,tt=ee.call(arguments,2);return function(){return Oe.apply(fe,tt.concat(ee.call(arguments)))}}function x(Oe,fe,ee,tt){fe=fe||function(){},ee=ee||function(){},tt=tt||function(){};var Ie=document,gt=!1,wt={},Ct=0,At=0,Ft="ontouchstart"in window,lr={};lr.selectstart=nr,lr.dragstart=nr,lr["touchmove mousemove"]=vr,lr["touchend mouseup"]=Lr;function nr(ge){ge.stopPropagation&&ge.stopPropagation(),ge.preventDefault&&ge.preventDefault(),ge.returnValue=!1}function vr(ge){if(gt){if(i&&Ie.documentMode<9&&!ge.button)return Lr();var We=ge&&ge.touches&&ge.touches[0],et=We&&We.pageX||ge.pageX,mt=We&&We.pageY||ge.pageY,Rt=Math.max(0,Math.min(et-wt.left,At)),Zt=Math.max(0,Math.min(mt-wt.top,Ct));Ft&&nr(ge),fe.apply(Oe,[Rt,Zt,ge])}}function Rr(ge){var We=ge.which?ge.which==3:ge.button==2;!We&&!gt&&ee.apply(Oe,arguments)!==!1&&(gt=!0,Ct=n(Oe).height(),At=n(Oe).width(),wt=n(Oe).offset(),n(Ie).bind(lr),n(Ie.body).addClass("sp-dragging"),vr(ge),nr(ge))}function Lr(){gt&&(n(Ie).unbind(lr),n(Ie.body).removeClass("sp-dragging"),setTimeout(function(){tt.apply(Oe,arguments)},0)),gt=!1}n(Oe).bind("touchstart mousedown",Rr)}function b(Oe,fe,ee){var tt;return function(){var Ie=this,gt=arguments,wt=function(){tt=null,Oe.apply(Ie,gt)};tt||(tt=setTimeout(wt,fe))}}function _(){return n.fn.spectrum.inputTypeColorSupport()}var S="spectrum.id";n.fn.spectrum=function(Oe,fe){if(typeof Oe=="string"){var ee=this,tt=Array.prototype.slice.call(arguments,1);return this.each(function(){var Ie=r[n(this).data(S)];if(Ie){var gt=Ie[Oe];if(!gt)throw new Error("Spectrum: no such method: '"+Oe+"'");Oe=="get"?ee=Ie.get():Oe=="container"?ee=Ie.container:Oe=="option"?ee=Ie.option.apply(Ie,tt):Oe=="destroy"?(Ie.destroy(),n(this).removeData(S)):gt.apply(Ie,tt)}}),ee}return this.spectrum("destroy").each(function(){var Ie=n.extend({},Oe,n(this).data()),gt=f(this,Ie);n(this).data(S,gt.id)})},n.fn.spectrum.load=!0,n.fn.spectrum.loadOpts={},n.fn.spectrum.draggable=x,n.fn.spectrum.defaults=e,n.fn.spectrum.inputTypeColorSupport=function Oe(){if(typeof Oe._cachedResult>"u"){var fe=n("<input type='color'/>")[0];Oe._cachedResult=fe.type==="color"&&fe.value!==""}return Oe._cachedResult},n.spectrum={},n.spectrum.localization={},n.spectrum.palettes={},n.fn.spectrum.processNativeColorInputs=function(){var Oe=n("input[type=color]");Oe.length&&!_()&&Oe.spectrum({preferredFormat:"hex6"})};var T=/^[\s,#]+/,C=/\s+$/,w=0,N=Math,A=N.round,j=N.min,R=N.max,L=N.random,M=function(Oe,fe){if(Oe=Oe||"",fe=fe||{},Oe instanceof M)return Oe;if(!(this instanceof M))return new M(Oe,fe);var ee=I(Oe);this._originalInput=Oe,this._r=ee.r,this._g=ee.g,this._b=ee.b,this._a=ee.a,this._roundA=A(100*this._a)/100,this._format=fe.format||ee.format,this._gradientType=fe.gradientType,this._r<1&&(this._r=A(this._r)),this._g<1&&(this._g=A(this._g)),this._b<1&&(this._b=A(this._b)),this._ok=ee.ok,this._tc_id=w++};M.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var Oe=this.toRgb();return(Oe.r*299+Oe.g*587+Oe.b*114)/1e3},setAlpha:function(Oe){return this._a=ft(Oe),this._roundA=A(100*this._a)/100,this},toHsv:function(){var Oe=G(this._r,this._g,this._b);return{h:Oe.h*360,s:Oe.s,v:Oe.v,a:this._a}},toHsvString:function(){var Oe=G(this._r,this._g,this._b),fe=A(Oe.h*360),ee=A(Oe.s*100),tt=A(Oe.v*100);return this._a==1?"hsv("+fe+", "+ee+"%, "+tt+"%)":"hsva("+fe+", "+ee+"%, "+tt+"%, "+this._roundA+")"},toHsl:function(){var Oe=V(this._r,this._g,this._b);return{h:Oe.h*360,s:Oe.s,l:Oe.l,a:this._a}},toHslString:function(){var Oe=V(this._r,this._g,this._b),fe=A(Oe.h*360),ee=A(Oe.s*100),tt=A(Oe.l*100);return this._a==1?"hsl("+fe+", "+ee+"%, "+tt+"%)":"hsla("+fe+", "+ee+"%, "+tt+"%, "+this._roundA+")"},toHex:function(Oe){return Y(this._r,this._g,this._b,Oe)},toHexString:function(Oe){return"#"+this.toHex(Oe)},toHex8:function(){return te(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:A(this._r),g:A(this._g),b:A(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+A(this._r)+", "+A(this._g)+", "+A(this._b)+")":"rgba("+A(this._r)+", "+A(this._g)+", "+A(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:A(Q(this._r,255)*100)+"%",g:A(Q(this._g,255)*100)+"%",b:A(Q(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+A(Q(this._r,255)*100)+"%, "+A(Q(this._g,255)*100)+"%, "+A(Q(this._b,255)*100)+"%)":"rgba("+A(Q(this._r,255)*100)+"%, "+A(Q(this._g,255)*100)+"%, "+A(Q(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:Ue[Y(this._r,this._g,this._b,!0)]||!1},toFilter:function(Oe){var fe="#"+te(this._r,this._g,this._b,this._a),ee=fe,tt=this._gradientType?"GradientType = 1, ":"";if(Oe){var Ie=M(Oe);ee=Ie.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+tt+"startColorstr="+fe+",endColorstr="+ee+")"},toString:function(Oe){var fe=!!Oe;Oe=Oe||this._format;var ee=!1,tt=this._a<1&&this._a>=0,Ie=!fe&&tt&&(Oe==="hex"||Oe==="hex6"||Oe==="hex3"||Oe==="name");return Ie?Oe==="name"&&this._a===0?this.toName():this.toRgbString():(Oe==="rgb"&&(ee=this.toRgbString()),Oe==="prgb"&&(ee=this.toPercentageRgbString()),(Oe==="hex"||Oe==="hex6")&&(ee=this.toHexString()),Oe==="hex3"&&(ee=this.toHexString(!0)),Oe==="hex8"&&(ee=this.toHex8String()),Oe==="name"&&(ee=this.toName()),Oe==="hsl"&&(ee=this.toHslString()),Oe==="hsv"&&(ee=this.toHsvString()),ee||this.toHexString())},_applyModification:function(Oe,fe){var ee=Oe.apply(null,[this].concat([].slice.call(fe)));return this._r=ee._r,this._g=ee._g,this._b=ee._b,this.setAlpha(ee._a),this},lighten:function(){return this._applyModification(X,arguments)},brighten:function(){return this._applyModification(ae,arguments)},darken:function(){return this._applyModification(ve,arguments)},desaturate:function(){return this._applyModification(he,arguments)},saturate:function(){return this._applyModification(z,arguments)},greyscale:function(){return this._applyModification(Z,arguments)},spin:function(){return this._applyModification(me,arguments)},_applyCombination:function(Oe,fe){return Oe.apply(null,[this].concat([].slice.call(fe)))},analogous:function(){return this._applyCombination(se,arguments)},complement:function(){return this._applyCombination(Ee,arguments)},monochromatic:function(){return this._applyCombination(ce,arguments)},splitcomplement:function(){return this._applyCombination(Re,arguments)},triad:function(){return this._applyCombination(ke,arguments)},tetrad:function(){return this._applyCombination(He,arguments)}},M.fromRatio=function(Oe,fe){if(typeof Oe=="object"){var ee={};for(var tt in Oe)Oe.hasOwnProperty(tt)&&(tt==="a"?ee[tt]=Oe[tt]:ee[tt]=Ze(Oe[tt]));Oe=ee}return M(Oe,fe)};function I(Oe){var fe={r:0,g:0,b:0},ee=1,tt=!1,Ie=!1;return typeof Oe=="string"&&(Oe=kt(Oe)),typeof Oe=="object"&&(Oe.hasOwnProperty("r")&&Oe.hasOwnProperty("g")&&Oe.hasOwnProperty("b")?(fe=D(Oe.r,Oe.g,Oe.b),tt=!0,Ie=String(Oe.r).substr(-1)==="%"?"prgb":"rgb"):Oe.hasOwnProperty("h")&&Oe.hasOwnProperty("s")&&Oe.hasOwnProperty("v")?(Oe.s=Ze(Oe.s),Oe.v=Ze(Oe.v),fe=W(Oe.h,Oe.s,Oe.v),tt=!0,Ie="hsv"):Oe.hasOwnProperty("h")&&Oe.hasOwnProperty("s")&&Oe.hasOwnProperty("l")&&(Oe.s=Ze(Oe.s),Oe.l=Ze(Oe.l),fe=F(Oe.h,Oe.s,Oe.l),tt=!0,Ie="hsl"),Oe.hasOwnProperty("a")&&(ee=Oe.a)),ee=ft(ee),{ok:tt,format:Oe.format||Ie,r:j(255,R(fe.r,0)),g:j(255,R(fe.g,0)),b:j(255,R(fe.b,0)),a:ee}}function D(Oe,fe,ee){return{r:Q(Oe,255)*255,g:Q(fe,255)*255,b:Q(ee,255)*255}}function V(Oe,fe,ee){Oe=Q(Oe,255),fe=Q(fe,255),ee=Q(ee,255);var tt=R(Oe,fe,ee),Ie=j(Oe,fe,ee),gt,wt,Ct=(tt+Ie)/2;if(tt==Ie)gt=wt=0;else{var At=tt-Ie;switch(wt=Ct>.5?At/(2-tt-Ie):At/(tt+Ie),tt){case Oe:gt=(fe-ee)/At+(fe<ee?6:0);break;case fe:gt=(ee-Oe)/At+2;break;case ee:gt=(Oe-fe)/At+4;break}gt/=6}return{h:gt,s:wt,l:Ct}}function F(Oe,fe,ee){var tt,Ie,gt;Oe=Q(Oe,360),fe=Q(fe,100),ee=Q(ee,100);function wt(Ft,lr,nr){return nr<0&&(nr+=1),nr>1&&(nr-=1),nr<1/6?Ft+(lr-Ft)*6*nr:nr<1/2?lr:nr<2/3?Ft+(lr-Ft)*(2/3-nr)*6:Ft}if(fe===0)tt=Ie=gt=ee;else{var Ct=ee<.5?ee*(1+fe):ee+fe-ee*fe,At=2*ee-Ct;tt=wt(At,Ct,Oe+1/3),Ie=wt(At,Ct,Oe),gt=wt(At,Ct,Oe-1/3)}return{r:tt*255,g:Ie*255,b:gt*255}}function G(Oe,fe,ee){Oe=Q(Oe,255),fe=Q(fe,255),ee=Q(ee,255);var tt=R(Oe,fe,ee),Ie=j(Oe,fe,ee),gt,wt,Ct=tt,At=tt-Ie;if(wt=tt===0?0:At/tt,tt==Ie)gt=0;else{switch(tt){case Oe:gt=(fe-ee)/At+(fe<ee?6:0);break;case fe:gt=(ee-Oe)/At+2;break;case ee:gt=(Oe-fe)/At+4;break}gt/=6}return{h:gt,s:wt,v:Ct}}function W(Oe,fe,ee){Oe=Q(Oe,360)*6,fe=Q(fe,100),ee=Q(ee,100);var tt=N.floor(Oe),Ie=Oe-tt,gt=ee*(1-fe),wt=ee*(1-Ie*fe),Ct=ee*(1-(1-Ie)*fe),At=tt%6,Ft=[ee,wt,gt,gt,Ct,ee][At],lr=[Ct,ee,ee,wt,gt,gt][At],nr=[gt,gt,Ct,ee,ee,wt][At];return{r:Ft*255,g:lr*255,b:nr*255}}function Y(Oe,fe,ee,tt){var Ie=[je(A(Oe).toString(16)),je(A(fe).toString(16)),je(A(ee).toString(16))];return tt&&Ie[0].charAt(0)==Ie[0].charAt(1)&&Ie[1].charAt(0)==Ie[1].charAt(1)&&Ie[2].charAt(0)==Ie[2].charAt(1)?Ie[0].charAt(0)+Ie[1].charAt(0)+Ie[2].charAt(0):Ie.join("")}function te(Oe,fe,ee,tt){var Ie=[je(Ye(tt)),je(A(Oe).toString(16)),je(A(fe).toString(16)),je(A(ee).toString(16))];return Ie.join("")}M.equals=function(Oe,fe){return!Oe||!fe?!1:M(Oe).toRgbString()==M(fe).toRgbString()},M.random=function(){return M.fromRatio({r:L(),g:L(),b:L()})};function he(Oe,fe){fe=fe===0?0:fe||10;var ee=M(Oe).toHsl();return ee.s-=fe/100,ee.s=de(ee.s),M(ee)}function z(Oe,fe){fe=fe===0?0:fe||10;var ee=M(Oe).toHsl();return ee.s+=fe/100,ee.s=de(ee.s),M(ee)}function Z(Oe){return M(Oe).desaturate(100)}function X(Oe,fe){fe=fe===0?0:fe||10;var ee=M(Oe).toHsl();return ee.l+=fe/100,ee.l=de(ee.l),M(ee)}function ae(Oe,fe){fe=fe===0?0:fe||10;var ee=M(Oe).toRgb();return ee.r=R(0,j(255,ee.r-A(255*-(fe/100)))),ee.g=R(0,j(255,ee.g-A(255*-(fe/100)))),ee.b=R(0,j(255,ee.b-A(255*-(fe/100)))),M(ee)}function ve(Oe,fe){fe=fe===0?0:fe||10;var ee=M(Oe).toHsl();return ee.l-=fe/100,ee.l=de(ee.l),M(ee)}function me(Oe,fe){var ee=M(Oe).toHsl(),tt=(A(ee.h)+fe)%360;return ee.h=tt<0?360+tt:tt,M(ee)}function Ee(Oe){var fe=M(Oe).toHsl();return fe.h=(fe.h+180)%360,M(fe)}function ke(Oe){var fe=M(Oe).toHsl(),ee=fe.h;return[M(Oe),M({h:(ee+120)%360,s:fe.s,l:fe.l}),M({h:(ee+240)%360,s:fe.s,l:fe.l})]}function He(Oe){var fe=M(Oe).toHsl(),ee=fe.h;return[M(Oe),M({h:(ee+90)%360,s:fe.s,l:fe.l}),M({h:(ee+180)%360,s:fe.s,l:fe.l}),M({h:(ee+270)%360,s:fe.s,l:fe.l})]}function Re(Oe){var fe=M(Oe).toHsl(),ee=fe.h;return[M(Oe),M({h:(ee+72)%360,s:fe.s,l:fe.l}),M({h:(ee+216)%360,s:fe.s,l:fe.l})]}function se(Oe,fe,ee){fe=fe||6,ee=ee||30;var tt=M(Oe).toHsl(),Ie=360/ee,gt=[M(Oe)];for(tt.h=(tt.h-(Ie*fe>>1)+720)%360;--fe;)tt.h=(tt.h+Ie)%360,gt.push(M(tt));return gt}function ce(Oe,fe){fe=fe||6;for(var ee=M(Oe).toHsv(),tt=ee.h,Ie=ee.s,gt=ee.v,wt=[],Ct=1/fe;fe--;)wt.push(M({h:tt,s:Ie,v:gt})),gt=(gt+Ct)%1;return wt}M.mix=function(Oe,fe,ee){ee=ee===0?0:ee||50;var tt=M(Oe).toRgb(),Ie=M(fe).toRgb(),gt=ee/100,wt=gt*2-1,Ct=Ie.a-tt.a,At;wt*Ct==-1?At=wt:At=(wt+Ct)/(1+wt*Ct),At=(At+1)/2;var Ft=1-At,lr={r:Ie.r*At+tt.r*Ft,g:Ie.g*At+tt.g*Ft,b:Ie.b*At+tt.b*Ft,a:Ie.a*gt+tt.a*(1-gt)};return M(lr)},M.readability=function(Oe,fe){var ee=M(Oe),tt=M(fe),Ie=ee.toRgb(),gt=tt.toRgb(),wt=ee.getBrightness(),Ct=tt.getBrightness(),At=Math.max(Ie.r,gt.r)-Math.min(Ie.r,gt.r)+Math.max(Ie.g,gt.g)-Math.min(Ie.g,gt.g)+Math.max(Ie.b,gt.b)-Math.min(Ie.b,gt.b);return{brightness:Math.abs(wt-Ct),color:At}},M.isReadable=function(Oe,fe){var ee=M.readability(Oe,fe);return ee.brightness>125&&ee.color>500},M.mostReadable=function(Oe,fe){for(var ee=null,tt=0,Ie=!1,gt=0;gt<fe.length;gt++){var wt=M.readability(Oe,fe[gt]),Ct=wt.brightness>125&&wt.color>500,At=3*(wt.brightness/125)+wt.color/500;(Ct&&!Ie||Ct&&Ie&&At>tt||!Ct&&!Ie&&At>tt)&&(Ie=Ct,tt=At,ee=M(fe[gt]))}return ee};var $e=M.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Ue=M.hexNames=Te($e);function Te(Oe){var fe={};for(var ee in Oe)Oe.hasOwnProperty(ee)&&(fe[Oe[ee]]=ee);return fe}function ft(Oe){return Oe=parseFloat(Oe),(isNaN(Oe)||Oe<0||Oe>1)&&(Oe=1),Oe}function Q(Oe,fe){De(Oe)&&(Oe="100%");var ee=Ke(Oe);return Oe=j(fe,R(0,parseFloat(Oe))),ee&&(Oe=parseInt(Oe*fe,10)/100),N.abs(Oe-fe)<1e-6?1:Oe%fe/parseFloat(fe)}function de(Oe){return j(1,R(0,Oe))}function Ce(Oe){return parseInt(Oe,16)}function De(Oe){return typeof Oe=="string"&&Oe.indexOf(".")!=-1&&parseFloat(Oe)===1}function Ke(Oe){return typeof Oe=="string"&&Oe.indexOf("%")!=-1}function je(Oe){return Oe.length==1?"0"+Oe:""+Oe}function Ze(Oe){return Oe<=1&&(Oe=Oe*100+"%"),Oe}function Ye(Oe){return Math.round(parseFloat(Oe)*255).toString(16)}function bt(Oe){return Ce(Oe)/255}var Ut=function(){var Oe="[-\\+]?\\d+%?",fe="[-\\+]?\\d*\\.\\d+%?",ee="(?:"+fe+")|(?:"+Oe+")",tt="[\\s|\\(]+("+ee+")[,|\\s]+("+ee+")[,|\\s]+("+ee+")\\s*\\)?",Ie="[\\s|\\(]+("+ee+")[,|\\s]+("+ee+")[,|\\s]+("+ee+")[,|\\s]+("+ee+")\\s*\\)?";return{rgb:new RegExp("rgb"+tt),rgba:new RegExp("rgba"+Ie),hsl:new RegExp("hsl"+tt),hsla:new RegExp("hsla"+Ie),hsv:new RegExp("hsv"+tt),hsva:new RegExp("hsva"+Ie),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function kt(Oe){Oe=Oe.replace(T,"").replace(C,"").toLowerCase();var fe=!1;if($e[Oe])Oe=$e[Oe],fe=!0;else if(Oe=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var ee;return(ee=Ut.rgb.exec(Oe))?{r:ee[1],g:ee[2],b:ee[3]}:(ee=Ut.rgba.exec(Oe))?{r:ee[1],g:ee[2],b:ee[3],a:ee[4]}:(ee=Ut.hsl.exec(Oe))?{h:ee[1],s:ee[2],l:ee[3]}:(ee=Ut.hsla.exec(Oe))?{h:ee[1],s:ee[2],l:ee[3],a:ee[4]}:(ee=Ut.hsv.exec(Oe))?{h:ee[1],s:ee[2],v:ee[3]}:(ee=Ut.hsva.exec(Oe))?{h:ee[1],s:ee[2],v:ee[3],a:ee[4]}:(ee=Ut.hex8.exec(Oe))?{a:bt(ee[1]),r:Ce(ee[2]),g:Ce(ee[3]),b:Ce(ee[4]),format:fe?"name":"hex8"}:(ee=Ut.hex6.exec(Oe))?{r:Ce(ee[1]),g:Ce(ee[2]),b:Ce(ee[3]),format:fe?"name":"hex"}:(ee=Ut.hex3.exec(Oe))?{r:Ce(ee[1]+""+ee[1]),g:Ce(ee[2]+""+ee[2]),b:Ce(ee[3]+""+ee[3]),format:fe?"name":"hex"}:!1}window.tinycolor=M,n(function(){n.fn.spectrum.load&&n.fn.spectrum.processNativeColorInputs()})}var vCe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ML=function(n){vCe(t,n);function t(e){e===void 0&&(e={});var r=n.call(this,e)||this,i=e.ppfx||"";return r.opts=e,r.ppfx=i,r.em=e.target||{},!e.onChange&&r.listenTo(r.model,"change:value",r.handleModelChange),r}return t.prototype.template=function(){return'<span class="'.concat(this.holderClass(),'"></span>')},t.prototype.inputClass=function(){return"".concat(this.ppfx,"field")},t.prototype.holderClass=function(){return"".concat(this.ppfx,"input-holder")},t.prototype.elementUpdated=function(){this.model.trigger("el:change")},t.prototype.setValue=function(e,r){var i=this.model,o=e||i.get("defaults"),a=this.getInputEl();a&&(a.value=o)},t.prototype.handleModelChange=function(e,r,i){this.setValue(r,i)},t.prototype.handleChange=function(e){e.stopPropagation();var r=this.getInputEl().value;this.__onInputChange(r),this.elementUpdated()},t.prototype.__onInputChange=function(e){this.model.set({value:e},{fromInput:1})},t.prototype.getInputEl=function(){if(!this.inputEl){var e=this,r=e.model,i=e.opts,o=i.type||"text",a=r.get("placeholder")||r.get("defaults")||r.get("default")||"";this.inputEl=(0,lo.default)('<input type="'.concat(o,'" placeholder="').concat(a,'">'))}return this.inputEl.get(0)},t.prototype.render=function(){this.inputEl=null;var e=this.$el;return e.addClass(this.inputClass()),e.html(this.template()),e.find(".".concat(this.holderClass())).append(this.getInputEl()),this},t}(Wt.Ss);const eb=ML;ML.prototype.events={change:"handleChange"};var gCe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),lg=function(){return lg=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},lg.apply(this,arguments)};lo.default&&pCe(lo.default);var Mm=function(n){var t=n.getFormat()==="name"&&n.toName(),e=n.getAlpha()==1?n.toHexString():n.toRgbString();return t||e.replace(/ /g,"")},mCe=function(n){gCe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.template=function(){var e=this.ppfx;return`
      <div class="`.concat(this.holderClass(),`"></div>
      <div class="`).concat(e,`field-colorp">
        <div class="`).concat(e,`field-colorp-c" data-colorp-c>
          <div class="`).concat(e,`checker-bg"></div>
        </div>
      </div>
    `)},t.prototype.inputClass=function(){var e=this.ppfx;return"".concat(e,"field ").concat(e,"field-color")},t.prototype.holderClass=function(){return"".concat(this.ppfx,"input-holder")},t.prototype.remove=function(){return n.prototype.remove.call(this),this.colorEl.spectrum("destroy"),this},t.prototype.handleChange=function(e){e.stopPropagation();var r=e.target.value;(0,we.isUndefined)(r)||this.__onInputChange(r)},t.prototype.__onInputChange=function(e){var r=this,i=r.model,o=r.opts,a=o.onChange,s=e,l=this.getColorEl();if(l){l.spectrum("set",s);var c=l.spectrum("get"),u=s&&Mm(c);u&&(s=u)}a?a(s):i.set({value:s},{fromInput:1})},t.prototype.setValue=function(e,r){r===void 0&&(r={});var i=this.model,o=(0,we.isUndefined)(r.def)?i.get("defaults"):r.def,a=(0,we.isUndefined)(e)?(0,we.isUndefined)(o)?"":o:e,s=this.getInputEl(),l=this.getColorEl(),c=a!="none"?a:"";s.value=a,l.get(0).style.backgroundColor=c,(r.fromTarget||r.fromInput&&!r.avoidStore)&&(l.spectrum("set",c),this.noneColor=a=="none",this.movedColor=c)},t.prototype.getColorEl=function(){var e=this;if(!this.colorEl){var r=this,i=r.em,o=r.model,a=r.opts,s=this.ppfx,l=a.onChange,c=(0,lo.default)('<div class="'.concat(this.ppfx,'field-color-picker"></div>')),u=c.get(0).style,f=i&&i.getConfig&&i.getConfig().colorPicker||{};this.movedColor="";var h=!1,d;this.$el.find("[data-colorp-c]").append(c);var m=function(g,x){x===void 0&&(x=!0),l?l(g,!x):(x&&o.setValueFromInput(0,!1),o.setValueFromInput(g,x))};c.spectrum(lg(lg(lg({color:o.getValue()||!1,containerClassName:"".concat(s,"one-bg ").concat(s,"two-color ").concat(s,"editor-sp"),maxSelectionSize:8,showPalette:!0,showAlpha:!0,chooseText:"Ok",cancelText:"⨯",palette:[]},f),o.get("colorPicker")||{}),{move:function(g){var x=Mm(g);e.movedColor=x,u.backgroundColor=x,m(x,!1)},change:function(g){h=!0;var x=Mm(g);u.backgroundColor=x,m(x),e.noneColor=!1},show:function(g){h=!1,e.movedColor="",d=l?o.getValue({noDefault:!0}):Mm(g)},hide:function(){!h&&(d||l)&&(e.noneColor&&(d=""),u.backgroundColor=d,c.spectrum("set",d),m(d,!1))}})),i&&i.on&&this.listenTo(i,"component:selected",function(){e.movedColor&&m(e.movedColor),h=!0,e.movedColor="",c.spectrum("hide")}),this.colorEl=c}return this.colorEl},t.prototype.render=function(){return eb.prototype.render.call(this),this.getColorEl(),this},t}(eb);const LL=mCe;var yCe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),bCe=function(n){yCe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.templateInput=function(){return""},t.prototype.getInputEl=function(){if(!this.input){var e=this.model,r=this.getModelValue(),i=new LL({model:e,target:this.config.em,contClass:this.ppfx+"field-color",ppfx:this.ppfx}),o=i.render();o.setValue(r,{fromTarget:1}),this.input=o.el}return this.input},t}(hu);const xCe=bCe;var wCe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),DL=function(n){wCe(t,n);function t(e){e===void 0&&(e={});var r=n.call(this,e)||this;return(0,we.bindAll)(r,"moveIncrement","upIncrement"),r.doc=document,r.listenTo(r.model,"change:unit",r.handleModelChange),r}return t.prototype.template=function(){var e=this.ppfx;return`
      <span class="`.concat(e,`input-holder"></span>
      <span class="`).concat(e,`field-units"></span>
      <div class="`).concat(e,`field-arrows" data-arrows>
        <div class="`).concat(e,`field-arrow-u" data-arrow-up></div>
        <div class="`).concat(e,`field-arrow-d" data-arrow-down></div>
      </div>
    `)},t.prototype.inputClass=function(){var e=this.ppfx;return this.opts.contClass||"".concat(e,"field ").concat(e,"field-integer")},t.prototype.setValue=function(e,r){var i=r||{},o=this.validateInputValue(e,{deepCheck:1}),a={value:o.value,unit:""};(o.unit||o.force)&&(a.unit=o.unit),this.model.set(a,i),i.silent&&this.handleModelChange()},t.prototype.handleChange=function(e){e.stopPropagation(),this.setValue(this.getInputEl().value),this.elementUpdated()},t.prototype.handleUnitChange=function(e){e.stopPropagation();var r=this.getUnitEl().value;this.model.set("unit",r),this.elementUpdated()},t.prototype.handleKeyDown=function(e){e.key==="ArrowUp"&&(e.preventDefault(),this.upArrowClick()),e.key==="ArrowDown"&&(e.preventDefault(),this.downArrowClick())},t.prototype.elementUpdated=function(){this.model.trigger("el:change")},t.prototype.handleModelChange=function(){var e=this.model;this.getInputEl().value=e.get("value");var r=this.getUnitEl();r&&(r.value=e.get("unit")||"")},t.prototype.getUnitEl=function(){if(!this.unitEl){var e=this.model,r=e.get("units")||[];if(r.length){var i=['<option value="" disabled hidden>-</option>'];r.forEach(function(a){var s=a==e.get("unit")?"selected":"";i.push("<option ".concat(s,">").concat(a,"</option>"))});var o=document.createElement("div");o.innerHTML='<select class="'.concat(this.ppfx,'input-unit">').concat(i.join(""),"</select>"),this.unitEl=o.firstChild}}return this.unitEl},t.prototype.upArrowClick=function(){var e=this.model,r=e.get("step"),i=parseFloat(this.getInputEl().value);this.setValue(this.normalizeValue(i+r)),this.elementUpdated()},t.prototype.downArrowClick=function(){var e=this.model,r=e.get("step"),i=parseFloat(this.getInputEl().value);this.setValue(this.normalizeValue(i-r)),this.elementUpdated()},t.prototype.downIncrement=function(e){e.preventDefault(),this.moved=!1;var r=this.model.get("value")||0;r=this.normalizeValue(r),this.current={y:e.pageY,val:r},(0,Kt.on)(this.doc,"mousemove",this.moveIncrement),(0,Kt.on)(this.doc,"mouseup",this.upIncrement)},t.prototype.moveIncrement=function(e){this.moved=!0;var r=this.model,i=r.get("step"),o=this.current,a=this.normalizeValue(o.val+(o.y-e.pageY)*i),s=this.validateInputValue(a),l=s.value,c=s.unit;return this.prValue=l,r.set({value:l,unit:c},{avoidStore:1}),!1},t.prototype.upIncrement=function(){var e=this.model,r=e.get("step");if((0,Kt.AU)(this.doc,"mouseup",this.upIncrement),(0,Kt.AU)(this.doc,"mousemove",this.moveIncrement),this.prValue&&this.moved){var i=this.prValue-r;e.set("value",i,{avoidStore:1}).set("value",i+r),this.elementUpdated()}},t.prototype.normalizeValue=function(e,r){r===void 0&&(r=0);var i=this.model,o=i.get("step"),a=0;if(isNaN(e))return r;if(e=parseFloat(e),Math.floor(e)!==e){var s=o.toString().split(".")[1];a=s?s.length:0}return a?parseFloat(e.toFixed(a)):e},t.prototype.validateInputValue=function(e,r){r===void 0&&(r={});var i=0,o=r||{},a=this.model,s="",l=(0,we.isUndefined)(e)?s:e,c=r.units||a.get("units")||[],u=a.get("unit")||c.length&&c[0]||"",f=(0,we.isUndefined)(r.max)?a.get("max"):r.max,h=(0,we.isUndefined)(r.min)?a.get("min"):r.min,d=!!a.get("limitlessMax"),m=!!a.get("limitlessMin");if(o.deepCheck){var g=a.get("fixedValues")||[];if(l===""&&(u=""),l){var x=new RegExp("^"+g.join("|"),"g");if(g.length&&x.test(l))l=l.match(x)[0],u="",i=1;else{var b=l+"";l+="",l=parseFloat(l.replace(",",".")),l=isNaN(l)?s:l;var _=b.replace(l,"");(0,we.indexOf)(c,_)>=0&&(u=_)}}}return!isNaN(l)&&l!==""&&(!d&&!(0,we.isUndefined)(f)&&f!==""&&(l=l>f?f:l),!m&&!(0,we.isUndefined)(h)&&h!==""&&(l=l<h?h:l)),{force:i,value:l,unit:u}},t.prototype.render=function(){eb.prototype.render.call(this),this.unitEl=null;var e=this.getUnitEl();return e&&this.$el.find(".".concat(this.ppfx,"field-units")).get(0).appendChild(e),this},t}(eb);const IL=DL;DL.prototype.events={"change input":"handleChange","change select":"handleUnitChange","click [data-arrow-up]":"upArrowClick","click [data-arrow-down]":"downArrowClick","mousedown [data-arrows]":"downIncrement",keydown:"handleKeyDown"};var _Ce=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),SCe=function(n){_Ce(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.getValueForTarget=function(){var e=this.model,r=e.attributes,i=r.value,o=r.unit;return!(0,we.isUndefined)(i)&&i!==""?i+o:e.get("default")},t.prototype.getInputEl=function(){if(!this.input){var e=this,r=e.ppfx,i=e.model,o=this.getModelValue(),a=new IL({contClass:"".concat(r,"field-int"),type:"number",model:i,ppfx:r});a.render(),this.$input=a.inputEl,this.$unit=a.unitEl,i.set("value",o,{fromTarget:!0}),this.$input.val(o),this.input=a.el}return this.input},t}(hu);const TCe=SCe;var CCe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ECe=function(n){CCe(t,n);function t(e){e===void 0&&(e={});var r=n.call(this,e)||this;return r.listenTo(r.model,"change:options",r.rerender),r}return t.prototype.templateInput=function(){var e=this,r=e.ppfx,i=e.clsField;return'<div class="'.concat(i,`">
      <div data-input></div>
      <div class="`).concat(r,`sel-arrow">
        <div class="`).concat(r,`d-s-arrow"></div>
      </div>
    </div>`)},t.prototype.getInputEl=function(){if(!this.$input){var e=this,r=e.model,i=e.em,o=r.get("name"),a=r.get("options")||[],s=[],l="<select>";a.forEach(function(f){var h="",d,m,g;(0,we.isString)(f)?(d=f,m=f):(d=f.name||f.label||f.value,m="".concat((0,we.isUndefined)(f.value)?f.id:f.value).replace(/"/g,"&quot;"),g=f.style?f.style.replace(/"/g,"&quot;"):"",h+=g?' style="'.concat(g,'"'):"");var x=i.t("traitManager.traits.options.".concat(o,".").concat(m))||d;l+='<option value="'.concat(m,'"').concat(h,">").concat(x,"</option>"),s.push(m)}),l+="</select>",this.$input=(0,lo.default)(l);var c=r.getTargetValue(),u=s.indexOf(c)>=0?c:r.get("default");!(0,we.isUndefined)(u)&&this.$input.val(u)}return this.$input.get(0)},t}(hu);const OCe=ECe;var ACe=gn(8242),NCe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),V6="data-categories",z6="data-no-categories",RL=function(n){NCe(t,n);function t(e,r){var i=n.call(this,e)||this;i.reuseView=!0,i.renderedCategories=new Map,i.itemsView=r;var o=e.config||{};i.config=o;var a=e.editor;i.em=a;var s=o.pStylePrefix||"";return i.ppfx=s,i.pfx=s+o.stylePrefix||"",i.className="".concat(i.pfx,"traits"),i.traitContClass="".concat(s,"traits-c"),i.classNoCat="".concat(s,"traits-empty-c"),i.catsClass="".concat(s,"trait-categories"),i.collection=new Cy([],{em:a}),i.listenTo(a,"component:toggled",i.updatedCollection),i.updatedCollection(),i}return t.prototype.updatedCollection=function(){var e=this,r=e.ppfx,i=e.em,o=i.getSelected();this.el.className="".concat(this.traitContClass,"s ").concat(r,"one-bg ").concat(r,"two-color"),this.collection=(o==null?void 0:o.traits)||new Cy([],{em:i}),this.render()},t.prototype.add=function(e,r){var i=this,o=i.config,a=i.renderedCategories,s=this.itemView,l=e.get(this.itemType);this.itemsView&&this.itemsView[l]&&(s=this.itemsView[l]);var c=new s({config:o,model:e,attributes:e.get("attributes")}),u=c.render().el,f=e.parent.initCategory(e);if(f){var h=f.getId(),d=this.getCategoriesEl(),m=a.get(h);!m&&d&&(m=new yL({model:f},o,"trait").render(),a.set(h,m),d.appendChild(m.el)),m==null||m.append(u);return}r?r.appendChild(u):this.append(u)},t.prototype.getCategoriesEl=function(){return this.catsEl||(this.catsEl=this.el.querySelector("[".concat(V6,"]"))),this.catsEl},t.prototype.getTraitsEl=function(){return this.traitsEl||(this.traitsEl=this.el.querySelector("[".concat(z6,"]"))),this.traitsEl},t.prototype.append=function(e){var r=this.getTraitsEl();r==null||r.appendChild(e)},t.prototype.render=function(){var e=this,r=this,i=r.el,o=r.ppfx,a=r.catsClass,s=r.traitContClass,l=r.classNoCat,c=document.createDocumentFragment();delete this.catsEl,delete this.traitsEl,this.renderedCategories=new Map,i.innerHTML=`
      <div class="`.concat(a,'" ').concat(V6,`></div>
      <div class="`).concat(l," ").concat(s,'" ').concat(z6,`></div>
    `),this.collection.forEach(function(f){return e.add(f,c)}),this.append(c);var u="".concat(s,"s ").concat(o,"one-bg ").concat(o,"two-color");return this.$el.addClass(u),this.rendered=!0,this},t}(ACe.A);const W6=RL;RL.prototype.itemView=hu;var PCe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),jCe=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},kCe=function(n){PCe(t,n);function t(e){var r=n.call(this,e,"TraitManager",sCe())||this;r.TraitsView=W6,r.events=_y,r.state=new Wt.Kx({traits:[]}),r.types={text:hu,number:TCe,select:OCe,checkbox:hCe,color:xCe,button:uCe};var i=r,o=i.state,a=i.config,s=i.events,l=a.pStylePrefix;l&&(a.stylePrefix="".concat(l).concat(a.stylePrefix)),(0,we.bindAll)(r,"__onSelect");var c=(0,we.debounce)(function(){return r.__upSel()},0),u=(0,we.debounce)(function(){return r.__onUp()},0);return o.listenTo(e,"component:toggled",c),o.listenTo(e,s.value,u),o.on("change:traits",r.__onSelect),r.debounced=[c,u],r}return t.prototype.select=function(e){var r=(e==null?void 0:e.getTraits())||[];this.state.set({component:e,traits:r}),this.__trgCustom()},t.prototype.getCategories=function(){var e,r=this.getComponent(),i=((e=r==null?void 0:r.traits.categories)===null||e===void 0?void 0:e.models)||[];return jCe([],i,!0)},t.prototype.getTraits=function(){return this.getCurrent()},t.prototype.getTraitsByCategory=function(e){return eL(e||this.getTraits())},t.prototype.getComponent=function(){return this.state.attributes.component},t.prototype.addType=function(e,r){var i=this.getType("text");this.types[e]=i.extend(r)},t.prototype.getType=function(e){return this.getTypes()[e]},t.prototype.getTypes=function(){return this.types},t.prototype.getTraitsViewer=function(){return this.view},t.prototype.getCurrent=function(){return this.state.get("traits")||[]},t.prototype.render=function(){var e=this.view,r=this.em;return e=new W6({el:e==null?void 0:e.el,collection:[],editor:r,config:this.getConfig()},this.getTypes()),this.view=e,e.el},t.prototype.postRender=function(){this.__appendTo()},t.prototype.__onSelect=function(){var e=this,r=e.em,i=e.events,o=e.state,a=o.attributes,s=a.component,l=a.traits;r.trigger(i.select,{component:s,traits:l})},t.prototype.__trgCustom=function(e){e===void 0&&(e={});var r=this,i=r.em,o=r.events,a=r.__ctn;this.__ctn=a||e.container,i.trigger(o.custom,this.__customData())},t.prototype.__customData=function(){return{container:this.__ctn}},t.prototype.__upSel=function(){this.select(this.em.getSelected())},t.prototype.__onUp=function(){this.select(this.getComponent())},t}(ts);const MCe=kCe;var LCe=function(){return{stylePrefix:"",appendTo:"",sortable:!0,hidable:!0,hideTextnode:!0,root:"",showWrapper:!0,showHover:!0,scrollCanvas:{behavior:"smooth",block:"nearest"},scrollLayers:{behavior:"auto",block:"nearest"},highlightHover:!0,custom:!1,onInit:function(){},onRender:function(){},extend:{}}};const DCe=LCe;var ICe=gn(6756),RCe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),FCe=function(n){RCe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e._dropAreaConfig={ratio:.4,minUndroppableDimension:3,maxUndroppableDimension:20},e}return Object.defineProperty(t.prototype,"view",{get:function(){return this.model.viewLayer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){var e;return(e=this.model.viewLayer)===null||e===void 0?void 0:e.el},enumerable:!1,configurable:!0}),t}(ICe.h);const BCe=FCe;var HCe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),$Ce=function(n){HCe(t,n);function t(e){e===void 0&&(e={});var r=n.call(this,e)||this;r.items=[],r.opt=e;var i=e.config||{};r.config=i,r.module=e.module,r.parentView=e.parentView;var o=i.stylePrefix||"";i.pStylePrefix;var a=r.collection;r.listenTo(a,"add",r.addTo),r.listenTo(a,"reset resetNavigator",r.render),r.listenTo(a,"remove",r.removeChildren),r.className="".concat(o,"layers");var s=i.em;if(i.sortable&&!r.opt.sorter){var l=s.Utils,c=i.sortContainer||r.el,u=r.createPlaceholder(o);r.opt.sorter=new l.ComponentSorter({em:s,treeClass:BCe,containerContext:{container:c,containerSel:".".concat(r.className),itemSel:".".concat(o,"layer"),pfx:i.pStylePrefix,document,placeholderElement:u},dragBehavior:{dragDirection:kd.A.Vertical,nested:!0}})}return r.$el.data("collection",a),e.parent&&r.$el.data("model",e.parent),r}return t.prototype.createPlaceholder=function(e){var r=document.createElement("div"),i=document.createElement("div");return this.el.parentNode,r.className=e+"placeholder",r.style.display="none",r.style.pointerEvents="none",i.className=e+"placeholder-int",r.appendChild(i),r},t.prototype.removeChildren=function(e){var r=e.viewLayer;r&&(r.remove(),delete e.viewLayer)},t.prototype.addTo=function(e){this.addToCollection(e,null,this.collection.indexOf(e))},t.prototype.addToCollection=function(e,r,i){var o=this,a=o.parentView,s=o.opt,l=o.config,c=o.el,u=s.ItemView,f=s.opened,h=s.module,d=s.level,m=s.sorter,g=e.viewLayer||new u({ItemView:u,level:d,model:e,parentView:a,config:l,sorter:m,opened:f,module:h}),x=g.render().el;if(r)r.appendChild(x);else{var b=c,_=b.childNodes;if((0,we.isUndefined)(i))b.appendChild(x);else{var S=_.length==i;S&&i--,S||!_.length?b.appendChild(x):b.insertBefore(x,_[i])}}return this.items.push(g),x},t.prototype.remove=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return Wt.Ss.prototype.remove.apply(this,e),this.items.map(function(i){return i.remove()}),this},t.prototype.render=function(){var e=this,r=this,i=r.el,o=r.module,a=document.createDocumentFragment();return i.innerHTML="",this.collection.map(function(s){return o.__getLayerFromComponent(s)}).forEach(function(s){return e.addToCollection(s,a)}),i.appendChild(a),i.className=this.className,this},t}(Wt.Ss);const UCe=$Ce;var j5=gn(9946),VCe=function(){return{stylePrefix:"com-",defaults:{},strict:!0,defaultOptions:{}}};const zCe=VCe;var WCe=gn(1738),qCe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),tb=function(){return tb=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},tb.apply(this,arguments)},q6=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},G6=[["preview","Preview","preview"],["resize","Resize","resize"],["fullscreen","Fullscreen","fullscreen"],["copy","CopyComponent"],["paste","PasteComponent"],["canvas-move","CanvasMove"],["canvas-clear","CanvasClear"],["open-code","ExportTemplate","export-template"],["open-layers","OpenLayers","open-layers"],["open-styles","OpenStyleManager","open-sm"],["open-traits","OpenTraitManager","open-tm"],["open-blocks","OpenBlocks","open-blocks"],["open-assets","OpenAssets","open-assets"],["component-select","SelectComponent","select-comp"],["component-outline","SwitchVisibility","sw-visibility"],["component-offset","ShowOffset","show-offset"],["component-move","MoveComponent","move-comp"],["component-next","ComponentNext"],["component-prev","ComponentPrev"],["component-enter","ComponentEnter"],["component-exit","ComponentExit","select-parent"],["component-delete","ComponentDelete"],["component-style-clear","ComponentStyleClear"],["component-drag","ComponentDrag"]],FL={preserveSelected:1},BL=function(n){return function(t){return n.trigger("".concat(D4,":start"),t)}},HL=function(n){return function(t){return n.trigger(D4,t)}},$L=function(n,t,e){return e===void 0&&(e={}),function(r,i,o){setTimeout(function(){t.forEach(function(a){return a.set("status",a.get("selectable")?"selected":"")}),n.setSelected(t),t[0].emitUpdate()}),n.trigger("".concat(D4,":end"),o),setTimeout(function(){return n.runDefault(FL)}),(e.altMode||o.cancelled)&&n.set("_cmpDrag",1)}},GCe=function(n){qCe(t,n);function t(e){var r=n.call(this,e,"Commands",zCe())||this;r.CommandAbstract=j5.default,r.defaultCommands={},r.commands={},r.active={},r.events=WCe.A;var i=r.config,o=i.pStylePrefix,a=r.defaultCommands;o&&(i.stylePrefix=o+i.stylePrefix),Object.keys(i.defaults).forEach(function(l){var c=i.defaults[l];c.id&&r.add(c.id,c)}),a["tlb-delete"]={run:function(l){return l.runCommand("core:component-delete")}},a["tlb-clone"]={run:function(l){l.runCommand("core:copy"),l.runCommand("core:paste",{action:"clone-component"})}},a["tlb-move"]={run:function(l,c,u){var f,h;u===void 0&&(u={});var d=l.getModel(),m=u.event,g=u.target,x=Array.isArray(g)?g:g?[g]:q6([],l.getSelectedAll(),!0),b=x.map(function(M){var I,D;return((D=(I=M.delegate)===null||I===void 0?void 0:I.move)===null||D===void 0?void 0:D.call(I,M))||M}).filter(Boolean),_=b[b.length-1],S=(m==null?void 0:m.type)==="dragstart",T=["absolute","translate"];if(!(_!=null&&_.get("draggable")))return d.logWarning("The element is not draggable");var C=u.mode||_.get("dmode")||d.get("dmode"),w=function(){return d.stopDefault(FL)},N=(0,we.includes)(T,C);b.forEach(function(M){return M.trigger("disable",{fromMove:!0})}),S?setTimeout(w,0):w();var A=BL(d),j=HL(d),R=$L(d,b,{altMode:N});if(N)l.runCommand("core:component-drag",{guidesInfo:1,mode:C,target:_,onStart:A,onDrag:j,onEnd:R,event:m});else{S&&((f=m==null?void 0:m.dataTransfer)===null||f===void 0||f.setDragImage((h=_.view)===null||h===void 0?void 0:h.el,0,0));var L=l.Commands.get("move-comp");L.onStart=A,L.onDrag=j,L.onEndMoveFromModel=R,L.initSorterFromModels(b)}b.filter(function(M){return M.get("selectable")}).forEach(function(M){return M.set("status","freezed-selected")})}},a["core:undo"]=function(l){return l.UndoManager.undo()},a["core:redo"]=function(l){return l.UndoManager.redo()},G6.forEach(function(l){var c=l[2],u=gn(585)("./".concat(l[1])).default,f="core:".concat(l[0]);a[f]=u,c&&(a[c]=u,["run","stop"].forEach(function(h){e.on("".concat(h,":").concat(c),function(){for(var d=[],m=0;m<arguments.length;m++)d[m]=arguments[m];return e.trigger.apply(e,q6(["".concat(h,":").concat(f)],d,!1))})}))}),i.model=e.Canvas;for(var s in a)r.add(s,a[s]);return r}return t.prototype.add=function(e,r){var i=(0,we.isFunction)(r)?{run:r}:r;return i.stop||(i.noStop=!0),delete i.initialize,i.id=e,this.commands[e]=j5.default.extend(i),this},t.prototype.get=function(e){var r=this.commands[e];return(0,we.isFunction)(r)?(r=new r(this.config),this.commands[e]=r):r||this.em.logWarning("'".concat(e,"' command not found")),r},t.prototype.extend=function(e,r){r===void 0&&(r={});var i=this.get(e);if(i){var o=tb(tb({},i.constructor.prototype),r);this.add(e,o);var a=G6.filter(function(s){return"core:".concat(s[0])===e&&s[2]})[0];a&&this.add(a[2],o)}return this},t.prototype.has=function(e){return!!this.commands[e]},t.prototype.getAll=function(){return this.commands},t.prototype.run=function(e,r){return r===void 0&&(r={}),this.runCommand(this.get(e),r)},t.prototype.stop=function(e,r){return r===void 0&&(r={}),this.stopCommand(this.get(e),r)},t.prototype.isActive=function(e){return this.getActive().hasOwnProperty(e)},t.prototype.getActive=function(){return this.active},t.prototype.runCommand=function(e,r){var i,o;r===void 0&&(r={});var a;if(e!=null&&e.run){var s=this,l=s.em,c=s.config,u=e.id,f=l.Editor;if(!this.isActive(u)||r.force||!c.strict){var h=(o=(i=c.defaultOptions)===null||i===void 0?void 0:i[u])===null||o===void 0?void 0:o.run;(0,we.isFunction)(h)&&(r=h(r)),a=f&&e.callRun(f,r)}}return a},t.prototype.stopCommand=function(e,r){var i,o;r===void 0&&(r={});var a;if(e!=null&&e.run){var s=this,l=s.em,c=s.config,u=e.id,f=l.Editor;if(this.isActive(u)||r.force||!c.strict){var h=(o=(i=c.defaultOptions)===null||i===void 0?void 0:i[u])===null||o===void 0?void 0:o.stop;(0,we.isFunction)(h)&&(r=h(r)),a=e.callStop(f,r)}}return a},t.prototype.create=function(e){e.stop||(e.noStop=!0);var r=j5.default.extend(e);return new r(this.config)},t.prototype.__onRun=function(e,r){var i=this,o=i.em,a=i.events;o.on("".concat(a.runCommand).concat(e),r)},t.prototype.__onStop=function(e,r){var i=this,o=i.em,a=i.events;o.on("".concat(a.stopCommand).concat(e),r)},t.prototype.destroy=function(){this.defaultCommands={},this.commands={},this.active={}},t}(ts);const KCe=GCe;var YCe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),xS=function(){return xS=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},xS.apply(this,arguments)},K6="contentEditable",Lm="data-toggle-move",XCe=function(n){YCe(t,n);function t(e){var r=n.call(this,e)||this;(0,we.bindAll)(r,"__render"),r.opt=e,r.module=e.module,r.config=e.config||{},r.sorter=e.sorter||"",r.parentView=e.parentView;var i=r,o=i.model,a=i.pfx,s=i.ppfx,l=o.get("type")||"default";return r.className="".concat(a,"layer ").concat(a,"layer__t-").concat(l," no-select ").concat(s,"two-color"),r.inputNameCls="".concat(s,"layer-name"),r.clsTitleC="".concat(a,"layer-title-c"),r.clsTitle="".concat(a,"layer-title"),r.clsCaret="".concat(a,"layer-caret"),r.clsCount="".concat(a,"layer-count"),r.clsMove="".concat(a,"layer-move"),r.clsChildren="".concat(a,"layer-children"),r.clsNoChild="".concat(a,"layer-no-chld"),r.clsEdit="".concat(r.inputNameCls,"--edit"),r.clsNoEdit="".concat(r.inputNameCls,"--no-edit"),r.initComponent(),r}return t.prototype.events=function(){var e;return e={},e["mousedown [".concat(Lm,"]")]="startSort",e["touchstart [".concat(Lm,"]")]="startSort",e["click [data-toggle-visible]"]="toggleVisibility",e["click [data-toggle-open]"]="toggleOpening",e["click [data-toggle-select]"]="handleSelect",e["mouseover [data-toggle-select]"]="handleHover",e["mouseout [data-toggle-select]"]="handleHoverOut",e["dblclick [data-name]"]="handleEdit",e["keydown [data-name]"]="handleEditKey",e["focusout [data-name]"]="handleEditEnd",e},t.prototype.template=function(e){var r=this,i=r.pfx,o=r.ppfx,a=r.config,s=r.clsNoEdit,l=r.module,c=r.opt,u=r.em,f=a.hidable,h=l.getComponents(e).length,d=h?"":this.clsNoChild,m="".concat(this.clsTitle," ").concat(d),g="".concat(this.clsTitleC),x="".concat(this.inputNameCls," ").concat(s," ").concat(o,"no-app"),b=c.level||0,_="".concat(b*10,"px"),S=e.getName(),T=e.getIcon(),C="".concat(i,"layer"),w=(u==null?void 0:u.getConfig()).icons,N=w,A=N.move,j=N.eye,R=N.eyeOff,L=N.chevron;return`
      <div class="`.concat(i,"layer-item ").concat(o,`one-bg" data-toggle-select>
        <div class="`).concat(i,`layer-item-left">
          `).concat(f?'<i class="'.concat(i,`layer-vis" data-toggle-visible>
                <i class="`).concat(i,'layer-vis-on">').concat(j,`</i>
                <i class="`).concat(i,'layer-vis-off">').concat(R,`</i>
              </i>`):"",`
          <div class="`).concat(g,`">
            <div class="`).concat(m,'" style="padding-left: ').concat(_,`">
              <div class="`).concat(i,'layer-title-inn" title="').concat(S,`">
                <i class="`).concat(this.clsCaret,'" data-toggle-open>').concat(L,`</i>
                  `).concat(T?'<span class="'.concat(C,'__icon">').concat(T,"</span>"):"",`
                <span class="`).concat(x,'" data-name>').concat(S,`</span>
              </div>
            </div>
          </div>
        </div>
        <div class="`).concat(i,`layer-item-right">
          <div class="`).concat(this.clsCount,'" data-count>').concat(h||"",`</div>
          <div class="`).concat(this.clsMove,'" ').concat(Lm,">").concat(A||"",`</div>
        </div>
      </div>
      <div class="`).concat(this.clsChildren,`"></div>
    `)},Object.defineProperty(t.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ppfx",{get:function(){return this.em.getConfig().stylePrefix},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pfx",{get:function(){return this.config.stylePrefix},enumerable:!1,configurable:!0}),t.prototype.initComponent=function(){var e=this,r=this,i=r.model,o=r.config,a=o.onInit,s=i.components();this.listenTo(s,"remove add reset",this.checkChildren),[["change:status",this.updateStatus],["change:open",this.updateOpening],["change:layerable",this.updateLayerable],["change:style:display",this.updateVisibility],["change:draggable",this.updateMove],["rerender:layer",this.render],["change:name change:custom-name",this.updateName]].forEach(function(l){return e.listenTo(i,l[0],l[1])}),this.$el.data("model",i),this.$el.data("collection",s),i.viewLayer=this,a.bind(this)({component:i,render:this.__render,listenTo:this.listenTo})},t.prototype.updateName=function(){this.getInputName().innerText=this.model.getName()},t.prototype.getVisibilityEl=function(){return this.getItemContainer().find("[data-toggle-visible]")},t.prototype.updateVisibility=function(){var e=this,r=e.pfx,i=e.model,o=e.module,a="".concat(r,"layer-hidden"),s=!o.isVisible(i),l=s?"addClass":"removeClass";this.$el[l](a),this.getVisibilityEl()[l]("".concat(r,"layer-off"))},t.prototype.updateMove=function(){var e=this,r=e.model,i=e.config,o=this.getItemContainer().find("[".concat(Lm,"]"))[0];if(o){var a=r.get("draggable")&&i.sortable;o.style.display=a?"":"none"}},t.prototype.toggleVisibility=function(e){e==null||e.stopImmediatePropagation();var r=this,i=r.module,o=r.model;i.setVisible(o,!i.isVisible(o))},t.prototype.handleEdit=function(e){e==null||e.stopPropagation();var r=this,i=r.em,o=r.$el,a=r.clsNoEdit,s=r.clsEdit,l=this.getInputName();l[K6]="true",l.focus(),document.execCommand("selectAll",!1),i.setEditing(!0),o.find(".".concat(this.inputNameCls)).removeClass(a).addClass(s)},t.prototype.handleEditKey=function(e){e.stopPropagation(),((0,Kt.v$)(e)||(0,Kt.Ci)(e))&&this.handleEditEnd(e)},t.prototype.handleEditEnd=function(e){e==null||e.stopPropagation();var r=this,i=r.em,o=r.$el,a=r.clsNoEdit,s=r.clsEdit,l=r.model,c=this.getInputName(),u=c.textContent;c.scrollLeft=0,c[K6]="false",l.setName(u),i.setEditing(!1),o.find(".".concat(this.inputNameCls)).addClass(a).removeClass(s),this.updateName()},t.prototype.getInputName=function(){return this.inputName||(this.inputName=this.el.querySelector(".".concat(this.inputNameCls))),this.inputName},t.prototype.updateOpening=function(){var e=this,r=e.$el,i=e.model,o=e.pfx,a="open",s="".concat(o,"layer-open"),l=this.getCaret();this.module.isOpen(i)?(r.addClass(a),l.addClass(s)):(r.removeClass(a),l.removeClass(s))},t.prototype.toggleOpening=function(e){var r=this,i=r.model,o=r.module;e==null||e.stopImmediatePropagation(),i.get("components").length&&o.setOpen(i,!o.isOpen(i))},t.prototype.handleSelect=function(e){e==null||e.stopPropagation();var r=this,i=r.module,o=r.model;i.setLayerData(o,{selected:!0},{event:e})},t.prototype.handleHover=function(e){e==null||e.stopPropagation();var r=this,i=r.module,o=r.model;i.setLayerData(o,{hovered:!0})},t.prototype.handleHoverOut=function(e){e==null||e.stopPropagation();var r=this,i=r.module,o=r.model;i.setLayerData(o,{hovered:!1})},t.prototype.startSort=function(e){var r,i,o;e.stopPropagation();var a=this,s=a.em,l=a.sorter,c=a.model;if(!(e.button&&e.button!==0)&&l){var u=((i=(r=c.delegate)===null||r===void 0?void 0:r.move)===null||i===void 0?void 0:i.call(r,c))||c;l.eventHandlers=xS({legacyOnStartSort:BL(s),legacyOnMoveClb:HL(s),legacyOnEndMove:$L(s,[u])},l.eventHandlers);var f=((o=u.viewLayer)===null||o===void 0?void 0:o.el)||e.target;l.startSort([{element:f}])}},t.prototype.updateStatus=function(){Qn.prototype.updateStatus.apply(this,[{avoidHover:!this.config.highlightHover,noExtHl:!0}])},t.prototype.getItemContainer=function(){return this.$el.children("[data-toggle-select]")},t.prototype.checkChildren=function(){var e=this,r=e.model,i=e.clsNoChild,o=e.module,a=o.getComponents(r).length,s=this.getItemContainer(),l=s.find(".".concat(this.clsTitle)),c=s.find("[data-count]");l[a?"removeClass":"addClass"](i),c.html("".concat(a||"")),!a&&o.setOpen(r,!1)},t.prototype.getCaret=function(){return(!this.caret||!this.caret.length)&&(this.caret=this.getItemContainer().find(".".concat(this.clsCaret))),this.caret},t.prototype.setRoot=function(e){var r,i=(0,we.isString)(e)?(r=this.em.getWrapper())===null||r===void 0?void 0:r.find(e)[0]:e;i&&(this.stopListening(),this.model=i,this.initComponent(),this._rendered&&this.render())},t.prototype.updateLayerable=function(){var e=this.parentView,r=e||this;r.render()},t.prototype.__clearItems=function(){var e;(e=this.items)===null||e===void 0||e.remove()},t.prototype.remove=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return Wt.Ss.prototype.remove.apply(this,e),delete this.model.viewLayer,this.__clearItems(),this},t.prototype.render=function(){var e=this,r=e.model,i=e.config,o=e.pfx,a=e.ppfx,s=e.opt,l=e.sorter;this.__clearItems();var c=s.opened,u=s.module,f=s.ItemView,h=!u.__isLayerable(r),d=this.$el.empty(),m=s.level+1;delete this.inputName,this.items=new UCe({ItemView:f,collection:r.get("components"),config:i,sorter:l,opened:c,parentView:this,parent:r,level:m,module:u});var g=this.items.render().$el;return!i.showWrapper&&m===1?d.append(g):(d.html(this.template(r)),d.find(".".concat(this.clsChildren)).append(g)),!u.isVisible(r)&&(this.className+=" ".concat(o,"hide")),h&&(this.className+=" ".concat(a,"hidden")),d.attr("class",this.className),this.updateStatus(),this.updateOpening(),this.updateVisibility(),this.updateMove(),this.__render(),this._rendered=!0,this},t.prototype.__render=function(){var e=this,r=e.model,i=e.config,o=e.el,a=i.onRender,s={component:r,el:o};a.bind(this)(s),this.em.trigger("layer:render",s)},t}(Wt.Ss);const ZCe=XCe;var JCe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),wS=function(){return wS=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},wS.apply(this,arguments)},UL="layer",$4="".concat(UL,":"),VL="".concat($4,"root"),zL="".concat($4,"component"),QCe="".concat($4,"custom"),e9e={all:UL,root:VL,component:zL,custom:QCe},k5={mediaText:""},t9e=["open","status","locked","custom-name","components","classes"].map(function(n){return"".concat(Tn.I.update,":").concat(n)}).join(" "),r9e=function(n){return n===void 0&&(n={}),(n.display||"").trim().indexOf("none")===0},n9e=function(n){JCe(t,n);function t(e){var r=n.call(this,e,"LayerManager",DCe())||this;return r.events=e9e,(0,we.bindAll)(r,"componentChanged","__onRootChange","__onComponent"),r.model=new Qu.A(r,{opened:{}}),r.config.stylePrefix=r.config.pStylePrefix,r}return t.prototype.onLoad=function(){var e=this,r=this,i=r.em,o=r.config,a=r.model;a.listenTo(i,"component:selected",this.componentChanged),a.on("change:root",this.__onRootChange),a.listenTo(i,t9e,this.__onComponent),this.componentChanged(),a.listenToOnce(i,"load",function(){e.setRoot(o.root),e.__appendTo()})},t.prototype.setRoot=function(e){var r=this.em.getWrapper(),i=(0,Et.isComponent)(e)?e:r;e&&(0,we.isString)(e)&&(0,Et.hasWin)()&&(i=r.find(e)[0]||r);var o=this.__getLayerFromComponent(i);return this.model.set("root",o),o},t.prototype.getRoot=function(){return this.model.get("root")},t.prototype.getComponents=function(e){var r=this;return e.components().map(function(i){return r.__getLayerFromComponent(i)}).filter(function(i){return r.__isLayerable(i)})},t.prototype.setOpen=function(e,r){e.set("open",r)},t.prototype.isOpen=function(e){return!!e.get("open")},t.prototype.setVisible=function(e,r){var i="__prev-display",o=e.getStyle(k5),a=o.display;if(r){var s=e.get(i);delete o.display,s&&(o.display=s,e.unset(i))}else a&&e.set(i,a),o.display="none";e.setStyle(o,k5),this.updateLayer(e),this.em.trigger("component:toggled")},t.prototype.isVisible=function(e){return!r9e(e.getStyle(k5))},t.prototype.setLocked=function(e,r){e.set("locked",r)},t.prototype.isLocked=function(e){return!!e.get("locked")},t.prototype.setName=function(e,r){e.set("custom-name",r)},t.prototype.getName=function(e){return e.getName()},t.prototype.getLayerData=function(e){var r=e.get("status");return{name:e.getName(),open:this.isOpen(e),selected:r==="selected",hovered:r==="hovered",visible:this.isVisible(e),locked:this.isLocked(e),components:this.getComponents(e)}},t.prototype.setLayerData=function(e,r,i){var o;i===void 0&&(i={});var a=this,s=a.em,l=a.config,c=r.open,u=r.selected,f=r.hovered,h=r.visible,d=r.locked,m=r.name,g=wS({fromLayers:!0},i);if((0,Et.isDef)(c)&&this.setOpen(e,c),(0,Et.isDef)(u))if(u){s.setSelected(e,g);var x=l.scrollCanvas;x&&((o=e.views)===null||o===void 0||o.forEach(function(b){return b.scrollIntoView(x)}))}else s.removeSelected(e,g);(0,Et.isDef)(f)&&l.showHover&&(f?s.setHovered(e,g):s.setHovered(null,g)),(0,Et.isDef)(h)&&h!==this.isVisible(e)&&this.setVisible(e,h),(0,Et.isDef)(d)&&this.setLocked(e,d),(0,Et.isDef)(m)&&this.setName(e,m)},t.prototype.componentChanged=function(e,r){var i;if(r===void 0&&(r={}),!r.fromLayers){var o=this,a=o.em,s=o.config,l=s.scrollLayers,c=this.model.get("opened"),u=a.getSelected(),f=u==null?void 0:u.parent();for(var h in c)c[h].set("open",!1),delete c[h];for(;f;)f.set("open",!0),c[f.cid]=f,f=f.parent();if(u&&l){var d=(i=u.viewLayer)===null||i===void 0?void 0:i.el;d==null||d.scrollIntoView(l)}}},t.prototype.getAll=function(){return this.view},t.prototype.render=function(){var e,r,i=this,o=i.config,a=i.model,s=ZCe.extend(o.extend);return this.view=new s({el:(e=this.view)===null||e===void 0?void 0:e.el,ItemView:s,level:0,config:o,opened:a.get("opened"),model:this.getRoot(),module:this}),(r=this.view)===null||r===void 0?void 0:r.render().el},t.prototype.destroy=function(){var e;(e=this.view)===null||e===void 0||e.remove()},t.prototype.__onRootChange=function(){var e,r=this.getRoot();(e=this.view)===null||e===void 0||e.setRoot(r),this.em.trigger(VL,r),this.__trgCustom()},t.prototype.__getLayerFromComponent=function(e){var r,i;return((i=(r=e.delegate)===null||r===void 0?void 0:r.layer)===null||i===void 0?void 0:i.call(r,e))||e},t.prototype.__onComponent=function(e){this.updateLayer(e)},t.prototype.__isLayerable=function(e){var r=e.tagName,i=this.config.hideTextnode,o=!i||!e.isInstanceOf("textnode")&&r!=="br";return o&&e.get("layerable")},t.prototype.__trgCustom=function(e){var r=this,i=r.__ctn,o=r.em,a=r.events;this.__ctn=i||(e==null?void 0:e.container),o.trigger(a.custom,{container:this.__ctn,root:this.getRoot()})},t.prototype.updateLayer=function(e,r){this.em.trigger(zL,e,r)},t}(ts);const i9e=n9e;var o9e=function(){return{assets:[],noAssets:"",stylePrefix:"am-",upload:"",uploadName:"files",headers:{},params:{},credentials:"include",multiUpload:!0,multiUploadSuffix:"[]",autoAdd:!0,customFetch:void 0,uploadFile:void 0,embedAsBase64:!0,handleAdd:void 0,beforeUpload:void 0,showUrlInput:!0,custom:!1,dropzone:!1,openAssetsOnDrop:!0,dropzoneContent:""}};const a9e=o9e;var s9e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),WL=function(n){s9e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.getDefaults=function(){return(0,we.result)(this.prototype,"defaults")},t.prototype.defaults=function(){return{type:"",src:""}},t.prototype.getType=function(){return this.get("type")},t.prototype.getSrc=function(){return this.get("src")},t.prototype.getFilename=function(){return this.get("src").split("/").pop().split("?").shift()},t.prototype.getExtension=function(){return this.getFilename().split(".").pop()},t}(Wt.Kx);const _S=WL;WL.prototype.idAttribute="src";var l9e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),rb=function(){return rb=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},rb.apply(this,arguments)},c9e=function(n){l9e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.defaults=function(){return rb(rb({},_S.getDefaults()),{type:"image",unitDim:"px",height:0,width:0})},t}(_S);const u9e=c9e;var f9e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),d9e=function(n){f9e(t,n);function t(e){var r=n.call(this,e)||this;r.options=e,r.collection=e.collection;var i=e.config||{};r.config=i,r.pfx=i.stylePrefix||"",r.ppfx=i.pStylePrefix||"",r.em=i.em,r.className=r.pfx+"asset",r.listenTo(r.model,"destroy remove",r.remove),r.model.view=r;var o=r.init&&r.init.bind(r);return o&&o(e),r}return t.prototype.__getBhv=function(){var e=this.em,r=e==null?void 0:e.Assets;return(r==null?void 0:r.__getBehaviour())||{}},t.prototype.template=function(e,r){var i=this.pfx;return`
      <div class="`.concat(i,`preview-cont">
        `).concat(this.getPreview(),`
      </div>
      <div class="`).concat(i,`meta">
        `).concat(this.getInfo(),`
      </div>
      <div class="`).concat(i,`close" data-toggle="asset-remove">
        &Cross;
      </div>
    `)},t.prototype.updateTarget=function(e){e&&e.set&&(e.set("attributes",(0,we.clone)(e.get("attributes"))),e.set("src",this.model.get("src")))},t.prototype.getPreview=function(){return""},t.prototype.getInfo=function(){return""},t.prototype.render=function(){var e=this.el;return e.innerHTML=this.template(this,this.model),e.className=this.className,this},t}(Wt.Ss);const h9e=d9e;var p9e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Y6=function(n,t){return Object.defineProperty?Object.defineProperty(n,"raw",{value:t}):n.raw=t,n},qL=function(n){p9e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.getPreview=function(){var e=this,r=e.pfx,i=e.ppfx,o=e.model,a=o.get("src");return Wa(X6||(X6=Y6([`
      <div class="`,`preview" style="background-image: url('`,`');"></div>
      <div class="`,"preview-bg ",`checker-bg"></div>
    `],[`
      <div class="`,`preview" style="background-image: url('`,`');"></div>
      <div class="`,"preview-bg ",`checker-bg"></div>
    `])),r,a,r,i)},t.prototype.getInfo=function(){var e=this,r=e.pfx,i=e.model,o=i.get("name"),a=i.get("width"),s=i.get("height"),l=i.get("unitDim"),c=a&&s?"".concat(a,"x").concat(s).concat(l):"";return o=o||i.getFilename(),Wa(Z6||(Z6=Y6([`
      <div class="`,'name">',`</div>
      <div class="`,'dimensions">',`</div>
    `],[`
      <div class="`,'name">',`</div>
      <div class="`,'dimensions">',`</div>
    `])),r,o,r,c)},t.prototype.init=function(e){var r=this.pfx;this.className+=" ".concat(r,"asset-image")},t.prototype.onClick=function(){var e=this,r=e.model,i=e.pfx,o=this.__getBhv().select,a=this.config.onClick,s=this.collection;s.trigger("deselectAll"),this.$el.addClass(i+"highlight"),(0,we.isFunction)(o)?o(r,!1):(0,we.isFunction)(a)?a(r):this.updateTarget(s.target)},t.prototype.onDblClick=function(){var e=this,r=e.em,i=e.model,o=this.__getBhv().select,a=this.config.onDblClick,s=this.collection,l=s.target,c=s.onSelect;(0,we.isFunction)(o)?o(i,!0):(0,we.isFunction)(a)?a(i):(this.updateTarget(l),r==null||r.Modal.close()),(0,we.isFunction)(c)&&c(i)},t.prototype.onRemove=function(e){e.stopImmediatePropagation(),this.model.collection.remove(this.model)},t}(h9e);const v9e=qL;qL.prototype.events={"click [data-toggle=asset-remove]":"onRemove",click:"onClick",dblclick:"onDblClick"};var X6,Z6,nb=function(){return nb=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},nb.apply(this,arguments)},g9e={types:[],initialize:function(n,t){var e=this;t===void 0&&(t={});var r=t.em;this.em=r,this.opts=t,this.model=function(o,a){o===void 0&&(o={}),a===void 0&&(a={});var s,l,c;if(o&&o.type){var u=e.getBaseType();c=e.getType(o.type),s=c?c.model:u.model,l=c?c.view:u.view}else{var f=e.recognizeType(o);c=f.type,s=c.model,l=c.view,o=f.attributes}var h=new s(o,nb(nb({},a),{em:r}));return h.typeView=l,e.model.prototype=s.prototype,h};var i=this.init&&this.init.bind(this);i&&i()},recognizeType:function(n){for(var t=this.getTypes(),e=0;e<t.length;e++){var r=t[e],i=r.isType(n);if(i=typeof i=="boolean"&&i?{type:r.id}:i,i)return{type:r,attributes:i}}return{type:this.getBaseType(),attributes:n}},getBaseType:function(){var n=this.getTypes();return n[n.length-1]},getTypes:function(){return this.types},getType:function(n){for(var t=this.getTypes(),e=0;e<t.length;e++){var r=t[e];if(r.id===n)return r}},addType:function(n,t){var e=this.getType(n),r=this.getBaseType(),i=e?e.model:r.model,o=e?e.view:r.view,a=t.model,s=t.view,l=t.isType;a=a instanceof Wt.Kx||(0,we.isFunction)(a)?a:i.extend(a||{}),s=s instanceof Wt.Ss||(0,we.isFunction)(s)?s:o.extend(s||{}),this.extendViewApi&&!t.model&&!t.view&&(s=s.extend(t)),e?(e.model=a,e.view=s,e.isType=l||e.isType):(t.id=n,t.model=a,t.view=s,t.isType=l||function(c){if(c&&c.type==n)return!0},this.getTypes().unshift(t))}};const GL=g9e;var m9e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),y9e=Wt.pM.extend(GL),KL=function(n){m9e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t}(y9e);const M5=KL;KL.prototype.types=[{id:"image",model:u9e,view:v9e,isType:function(n){return typeof n=="string"?{type:"image",src:n}:n}}];var SS;(function(n){n.add="asset:add",n.remove="asset:remove",n.removeBefore="asset:remove:before",n.update="asset:update",n.open="asset:open",n.close="asset:close",n.uploadStart="asset:upload:start",n.uploadEnd="asset:upload:end",n.uploadError="asset:upload:error",n.uploadResponse="asset:upload:response",n.custom="asset:custom",n.all="asset"})(SS||(SS={}));const J6=SS;var b9e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),YL=function(n){b9e(t,n);function t(e){e===void 0&&(e={});var r=n.call(this,e)||this;r.options=e,r.config=e.config,r.pfx=r.config.stylePrefix||"",r.ppfx=r.config.pStylePrefix||"",r.em=r.config.em;var i=r.collection;return r.listenTo(i,"reset",r.renderAssets),r.listenTo(i,"add",r.addToAsset),r.listenTo(i,"remove",r.removedAsset),r.listenTo(i,"deselectAll",r.deselectAll),r}return t.prototype.template=function(e){var r=e.pfx,i=e.ppfx,o=e.em,a="";return this.config.showUrlInput&&(a=`
          <form class="`.concat(r,`add-asset">
            <div class="`).concat(i,"field ").concat(r,`add-field">
              <input placeholder="`).concat(o==null?void 0:o.t("assetManager.inputPlh"),`"/>
            </div>
            <button class="`).concat(i,'btn-prim">').concat(o==null?void 0:o.t("assetManager.addButton"),`</button>
            <div style="clear:both"></div>
          </form>
      `)),`
    <div class="`.concat(r,`assets-cont">
      <div class="`).concat(r,`assets-header">
        `).concat(a,`
      </div>
      <div class="`).concat(r,`assets" data-el="assets"></div>
      <div style="clear:both"></div>
    </div>
    `)},t.prototype.handleSubmit=function(e){e.preventDefault();var r=this.getAddInput(),i=r&&r.value.trim(),o=this.config.handleAdd;if(i){r.value="";var a=this.getAssetsEl();a&&(a.scrollTop=0),o?o.bind(this)(i):this.options.globalCollection.add(i,{at:0})}},t.prototype.getAssetsEl=function(){return this.el.querySelector(".".concat(this.pfx,"assets"))},t.prototype.getAddInput=function(){return(!this.inputUrl||!this.inputUrl.value)&&(this.inputUrl=this.el.querySelector(".".concat(this.pfx,"add-asset input"))),this.inputUrl},t.prototype.removedAsset=function(e){this.collection.length||this.toggleNoAssets()},t.prototype.addToAsset=function(e){this.collection.length==1&&this.toggleNoAssets(!0),this.addAsset(e)},t.prototype.addAsset=function(e,r){r===void 0&&(r=null);var i=r,o=this.collection,a=this.config,s=new e.typeView({model:e,collection:o,config:a}).render().el;if(i)i.appendChild(s);else{var l=this.getAssetsEl();l&&l.insertBefore(s,l.firstChild)}return s},t.prototype.toggleNoAssets=function(e){e===void 0&&(e=!1);var r=this.$el.find(".".concat(this.pfx,"assets"));if(e)r.empty();else{var i=this.config.noAssets;i&&r.append(i)}},t.prototype.deselectAll=function(){var e=this.pfx;this.$el.find(".".concat(e,"highlight")).removeClass("".concat(e,"highlight"))},t.prototype.renderAssets=function(){var e=this,r=document.createDocumentFragment(),i=this.$el.find(".".concat(this.pfx,"assets"));i.empty(),this.toggleNoAssets(!!this.collection.length),this.collection.each(function(o){return e.addAsset(o,r)}),i.append(r)},t.prototype.render=function(){var e=this.options.fu.render().el;return this.$el.empty(),this.$el.append(e).append(this.template(this)),this.el.className="".concat(this.ppfx,"asset-manager"),this.renderAssets(),this},t}(Wt.Ss);const x9e=YL;YL.prototype.events={submit:"handleSubmit"};var w9e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),_9e=function(n,t){return Object.defineProperty?Object.defineProperty(n,"raw",{value:t}):n.raw=t,n},S9e=function(n){w9e(t,n);function t(e){e===void 0&&(e={});var r=n.call(this,e)||this;r.options=e;var i=e.config||{};r.module=e.module,r.config=i,r.em=r.config.em,r.pfx=i.stylePrefix||"",r.ppfx=i.pStylePrefix||"",r.target=r.options.globalCollection||{},r.uploadId=r.pfx+"uploadFile",r.disabled=i.disableUpload!==void 0?i.disableUpload:!i.upload&&!i.embedAsBase64,r.multiUpload=i.multiUpload!==void 0?i.multiUpload:!0;var o=i.uploadFile;return o?r.uploadFile=o.bind(r):!i.upload&&i.embedAsBase64&&(r.uploadFile=t.embedAsBase64),r.delegateEvents(),r}return t.prototype.template=function(e){var r=e.pfx,i=e.title,o=e.uploadId,a=e.disabled,s=e.multiUpload;return Wa(Q6||(Q6=_9e([`
      <form>
        <div id="`,'title">',`</div>
        <input
          data-input
          type="file"
          id="`,`"
          name="file"
          accept="*/*"
          `,`
          `,`
        />
        <div style="clear:both;"></div>
      </form>
    `],[`
      <form>
        <div id="`,'title">',`</div>
        <input
          data-input
          type="file"
          id="`,`"
          name="file"
          accept="*/*"
          `,`
          `,`
        />
        <div style="clear:both;"></div>
      </form>
    `])),r,i,o,a?"disabled":"",s?"multiple":"")},t.prototype.events=function(){return{"change [data-input]":"uploadFile"}},t.prototype.onUploadStart=function(){var e=this.module;e==null||e.__propEv(e.events.uploadStart)},t.prototype.onUploadEnd=function(e){var r=this,i=r.$el,o=r.module;o==null||o.__propEv(o.events.uploadEnd,e);var a=i.find("input");a&&a.val("")},t.prototype.onUploadError=function(e){var r=this.module;console.error(e),this.onUploadEnd(e),r==null||r.__propEv(r.events.uploadError,e)},t.prototype.onUploadResponse=function(e,r){var i=this,o=i.module,a=i.config,s=i.target,l;try{l=typeof e=="string"?JSON.parse(e):e}catch{l=e}o==null||o.__propEv(o.events.uploadResponse,l),a.autoAdd&&s&&s.add(l.data,{at:0}),this.onUploadEnd(e),r==null||r(l)},t.prototype.uploadFile=function(e,r){var i=this,o=e.dataTransfer?e.dataTransfer.files:e.target.files,a=this.config,s=a.beforeUpload,l=s&&s(o);if(l!==!1){var c=new FormData,u=a.params,f=a.customFetch,h=a.fetchOptions;for(var d in u)c.append(d,u[d]);if(this.multiUpload)for(var m=0;m<o.length;m++)c.append("".concat(a.uploadName).concat(a.multiUploadSuffix),o[m]);else o.length&&c.append(a.uploadName,o[0]);var g=a.upload,x=a.headers,b="X-Requested-With";if(typeof x[b]>"u"&&(x[b]="XMLHttpRequest"),g){this.onUploadStart();var _={method:"post",credentials:a.credentials||"include",headers:x,body:c},S=(h==null?void 0:h(_))||_,T=f?f(g,S):PL(g,S).then(function(C){return(C.status/200|0)==1?C.text():C.text().then(function(w){return Promise.reject(w)})});return T.then(function(C){return i.onUploadResponse(C,r)}).catch(function(C){return i.onUploadError(C)})}}},t.prototype.initDrop=function(){var e=this;if(!this.uploadForm){this.uploadForm=this.$el.find("form").get(0);var r=this.uploadForm;"draggable"in r&&(this.uploadForm.ondragover=function(){return r.className=e.pfx+"hover",!1},this.uploadForm.ondragleave=function(){return r.className="",!1},this.uploadForm.ondrop=function(i){r.className="",i.preventDefault(),e.uploadFile(i)})}},t.prototype.initDropzone=function(e){var r=this,i=0,o=this.config,a=e.model,s=e.el,l=a.Editor,c=a.Canvas.getBody(),u=this.ppfx,f="".concat(u,"dropzone-active"),h="".concat(u,"dropzone"),d=function(){s.className=s.className.replace(f,"").trim(),i=0},m=function(){return i||(s.className+=" ".concat(f),i=1),!1},g=function(){return d(),!1},x=function(b){if(d(),b.preventDefault(),b.stopPropagation(),r.uploadFile(b),o.openAssetsOnDrop&&l){var _=l.getSelected();l.runCommand("open-assets",{target:_,onSelect:function(){l.Modal.close(),l.AssetManager.setTarget(null)}})}return!1};e.$el.append('<div class="'.concat(h,'">').concat(o.dropzoneContent,"</div>")),d(),"draggable"in s&&[s,c].forEach(function(b){b.ondragover=m,b.ondragleave=g,b.ondrop=x})},t.prototype.render=function(){var e=this,r=e.$el,i=e.pfx,o=e.em;return r.html(this.template({title:o&&o.t("assetManager.uploadTitle"),uploadId:this.uploadId,disabled:this.disabled,multiUpload:this.multiUpload,pfx:i})),this.initDrop(),r.attr("class",i+"file-uploader"),this},t.embedAsBase64=function(e,r){var i=this,o=e.dataTransfer?e.dataTransfer.files:e.target.files,a={data:[]};if(!FileReader){this.onUploadError(new Error("Unsupported platform, FileReader is not defined"));return}for(var s=[],l=/^(.+)\/(.+)$/,c=function(d){var m=new Promise(function(g,x){var b=new FileReader;b.addEventListener("load",function(_){var S,T=d.name,C=l.exec(d.type);if(C?S=C[1]:S=d.type,S==="image"){var w={src:b.result,name:T,type:S,height:0,width:0},N=new Image;N.addEventListener("error",function(A){x(A)}),N.addEventListener("load",function(){w.height=N.height,w.width=N.width,g(w)}),N.src=w.src}else g(S?{src:b.result,name:T,type:S}:b.result)}),b.addEventListener("error",function(_){x(_)}),b.addEventListener("abort",function(_){x("Aborted")}),b.readAsDataURL(d)});s.push(m)},u=0,f=o;u<f.length;u++){var h=f[u];c(h)}return Promise.all(s).then(function(d){a.data=d,i.onUploadResponse(a,r)},function(d){i.onUploadError(d)})},t}(Wt.Ss);const T9e=S9e;var Q6,C9e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Rh=function(){return Rh=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Rh.apply(this,arguments)},e8=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},Fv="open-assets",E9e=function(n){C9e(t,n);function t(e){var r=n.call(this,e,"AssetManager",new M5([],e),J6,a9e())||this;r.storageKey="assets",r.Asset=_S,r.Assets=M5,r.events=J6;var i=r,o=i.all,a=i.config;r.assetsVis=new M5([]);var s=a.pStylePrefix;return s&&(a.stylePrefix="".concat(s).concat(a.stylePrefix)),o.on("add",function(l){return r.getAllVisible().add(l)}),o.on("remove",function(l){return r.getAllVisible().remove(l)}),r.__onAllEvent=(0,we.debounce)(function(){return r.__trgCustom()},0),r}return t.prototype.open=function(e){e===void 0&&(e={});var r=this.em.Commands;r.run(Fv,Rh({types:["image"],select:function(){}},e))},t.prototype.close=function(){var e=this.em.Commands;e.stop(Fv)},t.prototype.isOpen=function(){var e=this.em.Commands;return!!(e!=null&&e.isActive(Fv))},t.prototype.add=function(e,r){return r===void 0&&(r={}),typeof r.at>"u"&&(r.at=0),this.all.add(e,r)},t.prototype.get=function(e){return this.all.where({src:e})[0]||null},t.prototype.getAll=function(){return this.all},t.prototype.getAllVisible=function(){return this.assetsVis},t.prototype.remove=function(e,r){return this.__remove(e,r)},t.prototype.store=function(){return this.getProjectData()},t.prototype.load=function(e){return this.loadProjectData(e)},t.prototype.getContainer=function(){var e,r=this.__getBehaviour();return r.container||((e=this.am)===null||e===void 0?void 0:e.el)},t.prototype.getAssetsEl=function(){var e;return(e=this.am)===null||e===void 0?void 0:e.el.querySelector("[data-el=assets]")},t.prototype.render=function(e){if(!this.getConfig().custom){var r=e||this.getAll().models;if(!this.am){var i=this.__viewParams();i.fu=this.FileUploader(),this.am=new x9e(Rh({},i)),this.am.render()}return this.assetsVis.reset(r),this.getContainer()}},t.prototype.__viewParams=function(){return{collection:this.assetsVis,globalCollection:this.all,config:this.config,module:this,fu:void 0}},t.prototype.addType=function(e,r){this.getAll().addType(e,r)},t.prototype.getType=function(e){return this.getAll().getType(e)},t.prototype.getTypes=function(){return this.getAll().getTypes()},t.prototype.AssetsView=function(){return this.am},t.prototype.FileUploader=function(){return this.fu||(this.fu=new T9e(this.__viewParams())),this.fu},t.prototype.onLoad=function(){var e=this;this.getAll().reset(this.config.assets);var r=this,i=r.em,o=r.events;i.Commands.__onRun(Fv,function(){return e.__propEv(o.open)}),i.Commands.__onStop(Fv,function(){return e.__propEv(o.close)})},t.prototype.postRender=function(e){var r;this.config.dropzone&&((r=this.fu)===null||r===void 0||r.initDropzone(e))},t.prototype.setTarget=function(e){this.assetsVis.target=e},t.prototype.onSelect=function(e){this.assetsVis.onSelect=e},t.prototype.onClick=function(e){this.config.onClick=e},t.prototype.onDblClick=function(e){this.config.onDblClick=e},t.prototype.__propEv=function(e){for(var r,i,o=[],a=1;a<arguments.length;a++)o[a-1]=arguments[a];(r=this.em).trigger.apply(r,e8([e],o,!1)),(i=this.getAll()).trigger.apply(i,e8([e],o,!1))},t.prototype.__trgCustom=function(){var e=this.__getBehaviour(),r=this.getConfig().custom;!e.container&&!r.open||this.em.trigger(this.events.custom,this.__customData())},t.prototype.__customData=function(){var e=this,r=this.__getBehaviour();return{am:this,open:this.isOpen(),assets:this.getAll().models,types:r.types||[],container:r.container,close:function(){return e.close()},remove:function(i,o){return e.remove(i,o)},select:function(i,o){var a=e.add(i);(0,we.isFunction)(r.select)&&r.select(a,o)},options:r.options||{}}},t.prototype.__behaviour=function(e){return e===void 0&&(e={}),this._bhv=Rh(Rh({},this._bhv||{}),e)},t.prototype.__getBehaviour=function(e){return this._bhv||{}},t.prototype.destroy=function(){var e,r;this.all.stopListening(),this.all.reset(),this.assetsVis.stopListening(),this.assetsVis.reset(),(e=this.fu)===null||e===void 0||e.remove(),(r=this.am)===null||r===void 0||r.remove(),this._bhv={}},t}(mu);const O9e=E9e;var A9e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),N9e=function(n){A9e(t,n);function t(e,r){r===void 0&&(r={});var i=n.call(this,e,r)||this,o=r.em,a={};i.em=o,e.frames||(a.component=e.component,a.styles=e.styles,["component","styles"].map(function(c){return i.unset(c)}));var s=e.frames||[a],l=new VM(o.Canvas,s);return l.page=i,i.set("frames",l),!i.getId()&&i.set("id",o==null?void 0:o.Pages._createId()),o==null||o.UndoManager.add(l),i}return t.prototype.defaults=function(){return{name:"",frames:[],_undo:!0}},t.prototype.onRemove=function(){this.getFrames().reset()},t.prototype.getFrames=function(){return this.get("frames")},t.prototype.getId=function(){return this.id},t.prototype.getName=function(){return this.get("name")},t.prototype.setName=function(e){return this.set({name:e})},t.prototype.getAllFrames=function(){return this.getFrames().models||[]},t.prototype.getMainFrame=function(){return this.getFrames().at(0)},t.prototype.getMainComponent=function(){var e=this.getMainFrame();return e==null?void 0:e.getComponent()},t.prototype.toJSON=function(e){e===void 0&&(e={});var r=Wt.Kx.prototype.toJSON.call(this,e),i=(0,we.result)(this,"defaults");return(0,we.forEach)(r,function(o,a){a.indexOf("_")===0&&delete r[a]}),(0,we.forEach)(i,function(o,a){r[a]===o&&delete r[a]}),r},t}(Wt.Kx);const TS=N9e;var P9e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ib=function(){return ib=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ib.apply(this,arguments)},j9e=function(n){P9e(t,n);function t(e,r){var i=n.call(this,e)||this;return i.on("reset",i.onReset),i.on("remove",i.onRemove),i.model=function(o,a){return a===void 0&&(a={}),new TS(o,ib(ib({},a),{em:r}))},i}return t.prototype.onReset=function(e,r){var i=this,o;(o=r==null?void 0:r.previousModels)===null||o===void 0||o.map(function(a){return i.onRemove(a,i,r)})},t.prototype.onRemove=function(e,r,i){i===void 0&&(i={}),!(i.fromUndo||i.temporary)&&(e==null||e.onRemove())},t}(Wt.pM);const k9e=j9e;var M9e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Fh=function(){return Fh=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Fh.apply(this,arguments)},L9e=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e},D9e=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},t8="change:selected",r8="main",I9e=function(n){M9e(t,n);function t(e){var r=n.call(this,e,"PageManager",new k9e([],e),nS)||this;r.events=nS,r.storageKey="pages",(0,we.bindAll)(r,"_onPageChange");var i=new Qu.A(r,{_undo:!0});return r.model=i,r.pages.on("reset",function(o){return o.at(0)&&r.select(o.at(0))}),r.pages.on("all",r.__onChange,r),i.on(t8,r._onPageChange),r}return Object.defineProperty(t.prototype,"pages",{get:function(){return this.all},enumerable:!1,configurable:!0}),t.prototype.getAll=function(){return D9e([],this.all.models,!0)},t.prototype.__onChange=function(e,r,i,o){var a=this,s=a.em,l=a.events,c=o||i;s.trigger(l.all,{event:e,page:r,options:c})},t.prototype.onLoad=function(){var e,r=this,i=r.pages,o=r.config,a=r.em,s={silent:!0},l=((e=o.pages)===null||e===void 0?void 0:e.map(function(u){return new TS(u,{em:a,config:o})}))||[];i.add(l,s);var c=i.length?this._initPage():this.add({type:r8},s);c&&this.select(c,s)},t.prototype._onPageChange=function(e,r,i){var o=this,a=o.em,s=o.events,l=a.Layers,c=r.getMainComponent();l&&c&&l.setRoot(c),a.trigger(s.select,r,e.previous("selected")),this.__onChange(t8,r,i)},t.prototype.postLoad=function(){var e=this,r=e.em,i=e.model,o=e.pages,a=r.UndoManager;a.add(i),a.add(o),o.on("add remove reset change",function(s,l,c){return r.changesUp(c||l)})},t.prototype.add=function(e,r){var i=this;r===void 0&&(r={});var o=this,a=o.em,s=o.events;e.id=e.id||this._createId();var l=function(){var c=i.pages.add(new TS(e,{em:i.em,config:i.config}),r);return r.select&&i.select(c),c};return!r.silent&&a.trigger(s.addBefore,e,l,r),r.abort?void 0:l()},t.prototype.remove=function(e,r){var i=this;r===void 0&&(r={});var o=this,a=o.em,s=o.events,l=(0,we.isString)(e)?this.get(e):e,c=function(){return l&&i.pages.remove(l,r),l};return!r.silent&&a.trigger(s.removeBefore,l,c,r),!r.abort&&c()},t.prototype.move=function(e,r){r===void 0&&(r={});var i=this.pages,o=(0,we.isString)(e)?this.get(e):e,a=r.at,s=a===void 0?0:a,l=L9e(r,["at"]);if(o){var c=i.indexOf(o),u=c===s;if(!(s<0||s>=i.length||u))return this.remove(o,Fh(Fh({},l),{temporary:!0})),i.add(o,Fh(Fh({},l),{at:s})),o}},t.prototype.get=function(e){return this.pages.filter(function(r){return r.get(r.idAttribute)===e})[0]},t.prototype.getMain=function(){var e=this.pages;return e.filter(function(r){return r.get("type")===r8})[0]||e.at(0)},t.prototype.getAllWrappers=function(){var e=this.getAll();return(0,we.unique)((0,we.flatten)(e.map(function(r){return r.getAllFrames().map(function(i){return i.getComponent()})})))},t.prototype.select=function(e,r){r===void 0&&(r={});var i=this,o=i.em,a=i.model,s=i.events,l=(0,we.isString)(e)?this.get(e):e;return l&&(o.trigger(s.selectBefore,l,r),a.set("selected",l,r)),this},t.prototype.getSelected=function(){return this.model.get("selected")},t.prototype.destroy=function(){var e=this;this.pages.off().reset(),this.model.stopListening(),this.model.clear({silent:!0}),["selected","model"].map(function(r){return e[r]=0})},t.prototype.store=function(){return this.getProjectData()},t.prototype.load=function(e){var r=this.loadProjectData(e,{all:this.pages,reset:!0});return this.pages.forEach(function(i){return i.getFrames().initRefs()}),r},t.prototype._initPage=function(){return this.get(this.config.selected)||this.getMain()},t.prototype._createId=function(){var e=this.getAll(),r=e.length+16,i=this.getAllMap(),o;do o=(0,Et.createId)(r);while(i[o]);return o},t}(mu);const R9e=I9e;var L5={placeholder:"eg. Text here"};const F9e={assetManager:{addButton:"Add image",inputPlh:"http://path/to/the/image.jpg",modalTitle:"Select Image",uploadTitle:"Drop files here or click to upload"},blockManager:{labels:{},categories:{}},domComponents:{names:{"":"Box",wrapper:"Body",text:"Text",comment:"Comment",image:"Image",video:"Video",label:"Label",link:"Link",map:"Map",tfoot:"Table foot",tbody:"Table body",thead:"Table head",table:"Table",row:"Table row",cell:"Table cell"}},deviceManager:{device:"Device",devices:{desktop:"Desktop",tablet:"Tablet",mobileLandscape:"Mobile Landscape",mobilePortrait:"Mobile Portrait"}},panels:{buttons:{titles:{preview:"Preview",fullscreen:"Fullscreen","sw-visibility":"View components","export-template":"View code","open-sm":"Open Style Manager","open-tm":"Settings","open-layers":"Open Layer Manager","open-blocks":"Open Blocks"}}},selectorManager:{label:"Classes",selected:"Selected",emptyState:"- State -",states:{hover:"Hover",active:"Click","nth-of-type(2n)":"Even/Odd"}},styleManager:{empty:"Select an element before using Style Manager",layer:"Layer",fileButton:"Images",sectors:{general:"General",layout:"Layout",typography:"Typography",decorations:"Decorations",extra:"Extra",flex:"Flex",dimension:"Dimension"},properties:{"text-shadow-h":"X","text-shadow-v":"Y","text-shadow-blur":"Blur","text-shadow-color":"Color","box-shadow-h":"X","box-shadow-v":"Y","box-shadow-blur":"Blur","box-shadow-spread":"Spread","box-shadow-color":"Color","box-shadow-type":"Type","margin-top-sub":"Top","margin-right-sub":"Right","margin-bottom-sub":"Bottom","margin-left-sub":"Left","padding-top-sub":"Top","padding-right-sub":"Right","padding-bottom-sub":"Bottom","padding-left-sub":"Left","border-width-sub":"Width","border-style-sub":"Style","border-color-sub":"Color","border-top-left-radius-sub":"Top Left","border-top-right-radius-sub":"Top Right","border-bottom-right-radius-sub":"Bottom Right","border-bottom-left-radius-sub":"Bottom Left","transform-rotate-x":"Rotate X","transform-rotate-y":"Rotate Y","transform-rotate-z":"Rotate Z","transform-scale-x":"Scale X","transform-scale-y":"Scale Y","transform-scale-z":"Scale Z","transition-property-sub":"Property","transition-duration-sub":"Duration","transition-timing-function-sub":"Timing","background-image-sub":"Image","background-repeat-sub":"Repeat","background-position-sub":"Position","background-attachment-sub":"Attachment","background-size-sub":"Size"}},traitManager:{empty:"Select an element before using Trait Manager",label:"Component settings",categories:{},traits:{labels:{},attributes:{id:L5,alt:L5,title:L5,href:{placeholder:"eg. https://google.com"}},options:{target:{false:"This window",_blank:"New window"}}}},storageManager:{recover:"Do you want to recover unsaved changes?"}};var B9e=function(){return{locale:"en",localeFallback:"en",detectLocale:!0,debug:!1,messages:{en:F9e},messagesAdd:void 0}};const H9e=B9e;var CS;(function(n){n.add="i18n:add",n.update="i18n:update",n.locale="i18n:locale"})(CS||(CS={}));const $9e=CS;var U9e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),V9e=function(n){U9e(t,n);function t(e){var r=n.call(this,e,"I18n",H9e())||this;r.events=$9e;var i=r.config.messagesAdd;return i&&r.addMessages(i),r.config.detectLocale&&(r.config.locale=r._localLang()),r}return t.prototype.setLocale=function(e){var r=this,i=r.em,o=r.config,a=r.events;return i.trigger(a.locale,{value:e,valuePrev:o.locale}),o.locale=e,this},t.prototype.getLocale=function(){return this.config.locale},t.prototype.getMessages=function(e,r){r===void 0&&(r={});var i=this.config.messages;return e&&!i[e]&&this._debug("'".concat(e,"' i18n lang not found"),r),e?i[e]:i},t.prototype.setMessages=function(e){var r=this,i=r.em,o=r.config,a=r.events;return o.messages=e,i.trigger(a.update,e),this},t.prototype.addMessages=function(e){var r=this,i=r.em,o=r.events,a=r.config,s=a.messages;return i.trigger(o.add,e),this.setMessages((0,Et.deepMerge)(s,e)),this},t.prototype.t=function(e,r){r===void 0&&(r={});var i=this.config,o=r.params||{},a=r.l||this.getLocale(),s=r.lFlb||i.localeFallback,l=this._getMsg(e,a,r);return l||(l=this._getMsg(e,s,r)),!l&&this._debug("'".concat(e,"' i18n key not found in '").concat(a,"' lang"),r),l=l&&(0,we.isString)(l)?this._addParams(l,o):l,l},t.prototype._localLang=function(){var e=(0,Et.hasWin)()&&window.navigator||{},r=e.language||e.userLanguage;return r?r.split("-")[0]:"en"},t.prototype._addParams=function(e,r){var i=new RegExp("{([\\w\\d-]*)}","g");return e.replace(i,function(o,a){return r[a]||""}).trim()},t.prototype._getMsg=function(e,r,i){i===void 0&&(i={});var o=this.getMessages(r,i);if(o){var a=o[e];return!a&&e.indexOf(".")>0&&(a=e.split(".").reduce(function(s,l){if(!(0,we.isUndefined)(s))return s[l]},o)),a}},t.prototype._debug=function(e,r){r===void 0&&(r={});var i=this,o=i.em,a=i.config;(r.debug||a.debug)&&o&&o.logWarning(e)},t.prototype.destroy=function(){},t}(ts);const z9e=V9e;var Jf=function(){return Jf=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Jf.apply(this,arguments)},W9e=function(n,t){t===void 0&&(t={});var e=t.prefix||"",r=document.createElement("i");return r.className=e+"resizer-h "+e+"resizer-h-"+n,r.setAttribute("data-"+e+"handler",n),r},q9e=function(n,t){var e=window,r=n.getBoundingClientRect();return{left:r.left+e.pageXOffset,top:r.top+e.pageYOffset,width:r.width,height:r.height}},G9e=function(){function n(t){t===void 0&&(t={}),this.defOpts={ratioDefault:!1,onUpdateContainer:function(){},step:1,minDim:10,maxDim:1/0,unitHeight:"px",unitWidth:"px",keyHeight:"height",keyWidth:"width",currentUnit:!0,silentFrames:!1,avoidContainerUpdate:!1,keepAutoHeight:!1,keepAutoWidth:!1,autoHeight:!1,autoWidth:!1,tl:!0,tc:!0,tr:!0,cl:!0,cr:!0,bl:!0,bc:!0,br:!0},this.opts=Jf({},this.defOpts),this.setOptions(t),(0,we.bindAll)(this,"handleKeyDown","handleMouseDown","move","stop")}return n.prototype.getConfig=function(){return this.opts},n.prototype.setOptions=function(t,e){t===void 0&&(t={}),this.opts=Jf(Jf({},e?this.defOpts:this.opts),t),this.setup()},n.prototype.setup=function(){var t=this.opts,e=t.prefix||"",r=t.appendTo||document.body,i=this.container;for(i||(i=document.createElement("div"),i.className="".concat(e,"resizer-c"),r.appendChild(i),this.container=i);i.firstChild;)i.removeChild(i.firstChild);var o={};["tl","tc","tr","cl","cr","bl","bc","br"].forEach(function(l){return o[l]=t[l]?W9e(l,t):null});for(var a in o){var s=o[a];s&&i.appendChild(s)}this.handlers=o,this.mousePosFetcher=t.mousePosFetcher,this.updateTarget=t.updateTarget,this.posFetcher=t.posFetcher,this.onStart=t.onStart,this.onMove=t.onMove,this.onEnd=t.onEnd,this.onUpdateContainer=t.onUpdateContainer},n.prototype.toggleFrames=function(t){if(this.opts.silentFrames){var e=document.querySelectorAll("iframe");(0,we.each)(e,function(r){return r.style.pointerEvents=t?"none":""})}},n.prototype.isHandler=function(t){var e=this.handlers;for(var r in e)if(e[r]===t)return!0;return!1},n.prototype.getFocusedEl=function(){return this.el},n.prototype.getParentEl=function(){var t;return(t=this.el)===null||t===void 0?void 0:t.parentElement},n.prototype.getDocumentEl=function(){return[this.el.ownerDocument,document]},n.prototype.getElementPos=function(t,e){e===void 0&&(e={});var r=this.posFetcher;return r?r(t,e):q9e(t)},n.prototype.focus=function(t){t&&t===this.el||(this.el=t,this.updateContainer({forceShow:!0}),(0,Kt.on)(this.getDocumentEl(),"pointerdown",this.handleMouseDown))},n.prototype.blur=function(){this.container.style.display="none",this.el&&((0,Kt.AU)(this.getDocumentEl(),"pointerdown",this.handleMouseDown),delete this.el)},n.prototype.start=function(t){var e=t;if(e.button===0){e.preventDefault(),e.stopPropagation();var r=this.el,i=this.getParentEl(),o=this,a=this.opts||{},s=this.mousePosFetcher,l="data-"+a.prefix+"handler",c=this.getElementPos(r,{avoidFrameZoom:!0,avoidFrameOffset:!0}),u=this.getElementPos(i),f=e.target;this.handlerAttr=f.getAttribute(l),this.clickedHandler=f,this.startDim={t:c.top,l:c.left,w:c.width,h:c.height},this.rectDim={t:c.top,l:c.left,w:c.width,h:c.height},this.startPos=s?s(e):{x:e.clientX,y:e.clientY},this.parentDim={t:u.top,l:u.left,w:u.width,h:u.height};var h=this.getDocumentEl();this.docs=h,(0,Kt.on)(h,"pointermove",this.move),(0,Kt.on)(h,"keydown",this.handleKeyDown),(0,Kt.on)(h,"pointerup",this.stop),(0,we.isFunction)(this.onStart)&&this.onStart(e,{docs:h,config:a,el:r,resizer:o}),this.toggleFrames(!0),this.move(e)}},n.prototype.move=function(t){var e=t,r=this.onMove,i=this.mousePosFetcher,o=i?i(e):{x:e.clientX,y:e.clientY};this.currentPos=o,this.delta={x:o.x-this.startPos.x,y:o.y-this.startPos.y},this.keys={shift:e.shiftKey,ctrl:e.ctrlKey,alt:e.altKey},this.rectDim=this.calc(this),this.updateRect(!1),r&&r(e)},n.prototype.stop=function(t){var e=this.el,r=this.opts,i=this.docs||this.getDocumentEl();(0,Kt.AU)(i,"pointermove",this.move),(0,Kt.AU)(i,"keydown",this.handleKeyDown),(0,Kt.AU)(i,"pointerup",this.stop),this.updateRect(!0),this.toggleFrames(),(0,we.isFunction)(this.onEnd)&&this.onEnd(t,{docs:i,config:r,el:e,resizer:this}),delete this.docs},n.prototype.updateRect=function(t){var e=this.el,r=this,i=this.opts,o=this.rectDim,a=this.updateTarget,s=this.getSelectedHandler(),l=i.unitHeight,c=i.unitWidth,u=i.keyWidth,f=i.keyHeight;if((0,we.isFunction)(a))a(e,o,{store:t,selectedHandler:s,resizer:r,config:i});else{var h=e.style;h[u]=o.w+c,h[f]=o.h+l}this.updateContainer()},n.prototype.updateContainer=function(t){var e;t===void 0&&(t={});var r=this,i=r.opts,o=r.container,a=r.el,s=o.style;!i.avoidContainerUpdate&&a&&t.forceShow&&(s.display="block"),(e=this.onUpdateContainer)===null||e===void 0||e.call(this,{el:o,resizer:this,opts:Jf(Jf({},i),t)})},n.prototype.getSelectedHandler=function(){var t=this.handlers;if(this.selectedHandler){for(var e in t)if(t[e]===this.selectedHandler)return e}},n.prototype.handleKeyDown=function(t){t.keyCode===27&&(this.rectDim=this.startDim,this.stop(t))},n.prototype.handleMouseDown=function(t){var e=t.target;this.isHandler(e)?(this.selectedHandler=e,this.start(t)):e!==this.el&&(delete this.selectedHandler,this.blur())},n.prototype.calc=function(t){var e,r=this.opts||{},i=r.step,o=this.startDim,a=r.minDim,s=r.maxDim,l=t.delta.x,c=t.delta.y,u=this.parentDim.w,f=this.parentDim.h,h=this.opts.unitWidth,d=this.opts.unitHeight,m=this.getParentRect(),g=h==="%"?o.w/100*u:o.w,x=d==="%"?o.h/100*f:o.h,b={t:o.t-m.top,l:o.l-m.left,w:g,h:x};if(t){var _=t.handlerAttr;~_.indexOf("r")&&(e=h==="%"?(0,Et.normalizeFloat)((g+l*i)/u*100,.01):(0,Et.normalizeFloat)(g+l*i,i),e=Math.max(a,e),s&&(e=Math.min(s,e)),b.w=e),~_.indexOf("b")&&(e=d==="%"?(0,Et.normalizeFloat)((x+c*i)/f*100,.01):(0,Et.normalizeFloat)(x+c*i,i),e=Math.max(a,e),s&&(e=Math.min(s,e)),b.h=e),~_.indexOf("l")&&(e=h==="%"?(0,Et.normalizeFloat)((g-l*i)/u*100,.01):(0,Et.normalizeFloat)(g-l*i,i),e=Math.max(a,e),s&&(e=Math.min(s,e)),b.w=e),~_.indexOf("t")&&(e=d==="%"?(0,Et.normalizeFloat)((x-c*i)/f*100,.01):(0,Et.normalizeFloat)(x-c*i,i),e=Math.max(a,e),s&&(e=Math.min(s,e)),b.h=e);var S=r.ratioDefault?!t.keys.shift:t.keys.shift;if(_.indexOf("c")<0&&S){var T=o.w/o.h;b.w/b.h>T?b.h=Math.round(b.w/T):b.w=Math.round(b.h*T)}~_.indexOf("l")&&(b.l+=o.w-b.w),~_.indexOf("t")&&(b.t+=o.h-b.h);for(var C in b){var w=C;b[w]=parseInt("".concat(b[w]),10)}return b}},n.prototype.getParentRect=function(){var t={left:0,top:0,width:0,height:0},e=this.el;if(!e)return t;var r=e.offsetParent;return r&&r.tagName!=="BODY"&&(t=this.getElementPos(r)),t},n}();const K9e=G9e;var ps=function(){return ps=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ps.apply(this,arguments)};function Y9e(n,t,e){for(var r={index:0,placement:"before"},i=0,o=0,a=0,s=0,l=0,c=0,u=0,f,h=0,d=n.length;h<d;h++){f=n[h];var m=f.top,g=f.left,x=f.height,b=f.width;if(a=g+b,u=m+x,l=g+b/2,c=m+x/2,!(o&&g>o||s&&c>=s||i&&a<i))if(r.index=h,!f.dir)e<u&&(s=u),t<l?(o=l,r.placement="before"):(i=l,r.placement="after");else if(e<c){r.placement="before";break}else r.placement="after"}return r}function n8(n){var t=n.getBoundingClientRect();return{top:t.top+document.body.scrollTop,left:t.left+document.body.scrollLeft}}function U4(n,t){return Et.matches.call(n,t)}function X9e(n,t){var e=ES(n),r=ES(t),i=r.filter(function(l){return e.includes(l)}),o=i[0];if(!o)return n.model.index()-t.model.index();var a=r[r.indexOf(o)-1],s=e[e.indexOf(o)-1];return s.index()-a.index()}function ES(n){return n?[n].concat(ES(n.parent())):[]}function Z9e(n,t){if(n)for(var e=n.parentNode;e&&e.nodeType===1;){if(U4(e,t))return e;e=e.parentNode}}function J9e(n,t){if((0,Kt.ir)(n))return!1;var e=n.style||{},r=(0,lo.default)(n),i=(0,lo.default)(t);if(e.overflow&&e.overflow!=="visible")return!1;var o=r.css("float");return o&&o!=="none"||i.css("display")==="flex"&&i.css("flex-direction")!=="column"||!Q9e(e.position)?!1:eEe(n)||tEe(r)}function Q9e(n){switch(n){case"static":case"relative":case"":return!0;default:return!1}}function eEe(n){var t=["TR","TBODY","THEAD","TFOOT"];return t.includes(n.tagName)}function tEe(n){var t=n.css("display"),e=["block","list-item","table","flex","grid"];return e.includes(t)}function rEe(n){var t={containerContext:{container:"",placeholderElement:"",containerSel:"*",itemSel:"*",pfx:"",document},positionOptions:{borderOffset:10,relative:!1,windowMargin:0,offsetTop:0,offsetLeft:0,scale:1,canvasRelative:!1},dragBehavior:{dragDirection:kd.A.Vertical,nested:!1,selectOnEnd:!0},eventHandlers:{}},e=ps(ps(ps({},t),n),{containerContext:ps(ps({},t.containerContext),n.containerContext),positionOptions:ps(ps({},t.positionOptions),n.positionOptions),dragBehavior:ps(ps({},t.dragBehavior),n.dragBehavior),eventHandlers:ps(ps({},t.eventHandlers),n.eventHandlers)});return e}var XL=function(){function n(t){this.timeout=null,this.threshold=t}return n.prototype.updateArgs=function(t){this.lastArgs=t},n.prototype.execute=function(t){var e=this;this.timeout||(this.timeout=setTimeout(function(){e.lastArgs&&t(e.lastArgs),e.timeout=null},this.threshold))},n.prototype.clearTimeout=function(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),delete this.lastArgs},n}(),OS=function(){return OS=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},OS.apply(this,arguments)},nEe=function(){function n(t){this.top=t.top,this.left=t.left,this.height=t.height,this.width=t.width,this.offsets=t.offsets,this.dir=t.dir}return n.prototype.calculateDimensionDifference=function(t){var e=t.top-this.top,r=t.left-this.left;return{topDifference:e,leftDifference:r}},n.prototype.adjustDimensions=function(t){return this.top+=t.topDifference,this.left+=t.leftDifference,this},n.prototype.determinePlacement=function(t,e){var r=this.left+this.width/2,i=this.top+this.height/2;return this.dir?e<i?"before":"after":t<r?"before":"after"},n.prototype.equals=function(t){return t?this.top===t.top&&this.left===t.left&&this.height===t.height&&this.width===t.width&&this.dir===t.dir&&JSON.stringify(this.offsets)===JSON.stringify(t.offsets):!1},n.prototype.clone=function(){return new n({top:this.top,left:this.left,height:this.height,width:this.width,offsets:OS({},this.offsets),dir:this.dir})},n.prototype.getDropArea=function(t){var e=this.clone(),r=this.adjustDropDimension(this.width,this.left,t),i=r.newSize,o=r.newPosition;e.width=i,e.left=o;var a=this.adjustDropDimension(this.height,this.top,t),s=a.newSize,l=a.newPosition;return e.height=s,e.top=l,e},n.prototype.adjustDropDimension=function(t,e,r){var i=r.ratio,o=r.minUndroppableDimension,a=r.maxUndroppableDimension,s=t*(1-i)/2;s=Math.max(s,o),s=Math.min(s,a);var l=t-s*2,c=e+s;return{newSize:l,newPosition:c}},n.prototype.isWithinBounds=function(t,e){return t>=this.left&&t<=this.left+this.width&&e>=this.top&&e<=this.top+this.height},n}();const iEe=nEe;var oEe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ob=function(){return ob=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ob.apply(this,arguments)},aEe=function(n){oEe(t,n);function t(e){var r=n.call(this)||this;return r.sourceNodes=[],r.containerOffset={top:0,left:0},r.moveThreshold=20,r.treeClass=e.treeClass,r.em=e.em,r.containerContext=e.containerContext,r.positionOptions=e.positionOptions,r.dragDirection=e.dragDirection,r.eventHandlers=e.eventHandlers,(0,we.bindAll)(r,"endDrag","cancelDrag","recalculateTargetOnScroll","startSort","onDragStart","onMove"),r.restLastMoveData(),r.rateLimiter=new XL(r.moveThreshold),r}return t.prototype.startSort=function(e){this.sourceNodes=e,this.bindDragEventHandlers()},t.prototype.bindDragEventHandlers=function(){(0,Kt.on)(this.containerContext.container,"dragstart",this.onDragStart),(0,Kt.on)(this.containerContext.container,"mousemove dragover",this.onMove),(0,Kt.on)(this.containerContext.document,"mouseup dragend touchend",this.endDrag)},t.prototype.recalculateTargetOnScroll=function(){var e=this.lastMoveData.mouseEvent;e&&this.onMove(e)},t.prototype.onMove=function(e){this.rateLimiter.updateArgs(e),this.rateLimiter.execute(this.handleMove.bind(this))},t.prototype.handleMove=function(e){var r,i,o,a,s,l;this.adjustForScroll();var c=this.lastMoveData.targetNode;(i=(r=this.eventHandlers).onMouseMove)===null||i===void 0||i.call(r,e);var u=this.getMousePositionRelativeToContainer(e.clientX,e.clientY),f=u.mouseXRelative,h=u.mouseYRelative,d=this.getTargetNode(e),m=!(d!=null&&d.equals(c));if(m&&((a=(o=this.eventHandlers).onTargetChange)===null||a===void 0||a.call(o,c,d)),!d){this.triggerLegacyOnMoveCallback(e,0),this.triggerMoveEvent(f,h),this.restLastMoveData();return}var g=this.getDropPosition(d,f,h),x=g.index,b=g.placement,_=g.placeholderDimensions,S=!_.equals(this.lastMoveData.placeholderDimensions)||b!==this.lastMoveData.placement;S&&((l=(s=this.eventHandlers).onPlaceholderPositionChange)===null||l===void 0||l.call(s,_,b)),this.lastMoveData=ob(ob({},this.lastMoveData),{targetNode:d,mouseEvent:e,index:x,placement:b,placeholderDimensions:_}),this.triggerMoveEvent(f,h),this.triggerLegacyOnMoveCallback(e,x)},t.prototype.adjustForScroll=function(){var e,r,i=this.lastMoveData.targetNode;if(i!=null&&i.element){var o=this.getDim(i==null?void 0:i.element),a=(e=i.nodeDimensions)===null||e===void 0?void 0:e.calculateDimensionDifference(o);a&&i.adjustDimensions(a)}var s=this.lastMoveData.hoveredNode;if(s!=null&&s.element){var o=this.getDim(s==null?void 0:s.element),a=(r=s.nodeDimensions)===null||r===void 0?void 0:r.calculateDimensionDifference(o);a&&s.adjustDimensions(a)}},t.prototype.restLastMoveData=function(){this.lastMoveData={targetNode:void 0,index:void 0,placement:void 0,mouseEvent:void 0}},t.prototype.triggerLegacyOnMoveCallback=function(e,r){var i,o,a,s,l=(i=this.sourceNodes[0])===null||i===void 0?void 0:i.model;(a=(o=this.eventHandlers).legacyOnMoveClb)===null||a===void 0||a.call(o,{event:e,target:l,parent:(s=this.lastMoveData.targetNode)===null||s===void 0?void 0:s.model,index:r})},t.prototype.triggerMoveEvent=function(e,r){var i,o=this.lastMoveData,a=o.targetNode,s=o.placement,l=o.index,c=l?l+(s==="after"?-1:0):0;this.em.trigger("sorter:drag",{target:(a==null?void 0:a.element)||null,targetModel:(i=this.lastMoveData.targetNode)===null||i===void 0?void 0:i.model,sourceModel:this.sourceNodes[0].model,dims:(a==null?void 0:a.childrenDimensions)||[],pos:{index:c,indexEl:c,placement:s},x:e,y:r})},t.prototype.getDropPosition=function(e,r,i){var o,a=e.nodeDimensions,s=e.childrenDimensions,l=e.getChildren(),c=l&&l.length>0;a=a||this.getDim(e.element),e.nodeDimensions=a,s=s||this.getChildrenDim(e),e.childrenDimensions=s;var u=a.clone(),f=0,h="inside";return c&&(o=Y9e(s,r,i),f=o.index,h=o.placement,u=s[f].clone(),f=f+(h=="after"?1:0)),{index:f,placement:h,placeholderDimensions:u}},t.prototype.getTargetNode=function(e){var r;this.cacheContainerPosition(this.containerContext.container);var i=this.getMousePositionRelativeToContainer(e.clientX,e.clientY),o=i.mouseXRelative,a=i.mouseYRelative,s=this.getMouseTargetElement(e),l=this.getFirstElementWithAModel(s);if(l){var c=(r=(0,lo.default)(l))===null||r===void 0?void 0:r.data("model");if(c){var u=this.getOrCreateHoveredNode(c),f=this.getDropPosition(u,o,a).index,h=this.getValidParent(u,f,o,a);return this.getOrReuseTargetNode(h)}}},t.prototype.getOrCreateHoveredNode=function(e){var r=this.lastMoveData.hoveredNode,i=new this.treeClass(e),o=i.equals(r)?r:i;return this.lastMoveData.hoveredNode=o,o},t.prototype.getOrReuseTargetNode=function(e){var r=this.lastMoveData.targetNode;return e!=null&&e.equals(r)?r:e},t.prototype.getMouseTargetElement=function(e){var r=this.containerContext.customTarget,i=this.containerContext.document.elementFromPoint(e.clientX,e.clientY),o=r?r({event:e}):i;return o},t.prototype.onDragStart=function(e){this.eventHandlers.onDragStart&&this.eventHandlers.onDragStart(e)},t.prototype.endDrag=function(){this.dropDragged()},t.prototype.cancelDrag=function(){var e,r,i=this.lastMoveData.targetNode;(r=(e=this.eventHandlers).onTargetChange)===null||r===void 0||r.call(e,i,void 0),this.finalizeMove()},t.prototype.finalizeMove=function(){var e,r,i,o;this.cleanupEventListeners(),this.triggerOnDragEndEvent(),(r=(e=this.eventHandlers).onEnd)===null||r===void 0||r.call(e),(o=(i=this.eventHandlers).legacyOnEnd)===null||o===void 0||o.call(i),this.restLastMoveData(),this.rateLimiter.clearTimeout()},t.prototype.dropDragged=function(){var e,r,i=this.lastMoveData,o=i.targetNode,a=i.index;(r=(e=this.eventHandlers).onDrop)===null||r===void 0||r.call(e,o,this.sourceNodes,a),this.finalizeMove()},t.prototype.triggerOnDragEndEvent=function(){var e=this.lastMoveData.targetNode,r=this.sourceNodes[0];this.em.trigger("sorter:drag:end",{targetCollection:e?e.getChildren():null,modelToDrop:r==null?void 0:r.model,warns:[""],validResult:{result:!0,src:this.sourceNodes.map(function(i){return i.element}),srcModel:r==null?void 0:r.model,trg:e==null?void 0:e.element,trgModel:e==null?void 0:e.model,draggable:!0,droppable:!0},dst:e==null?void 0:e.element,srcEl:r==null?void 0:r.element})},t.prototype.getFirstElementWithAModel=function(e){for(var r=function(i){return(0,lo.default)(i).data("model")!==void 0};e&&this.containerContext.container.contains(e);){if(r(e))return e;e=e.parentElement}return null},t.prototype.getValidParent=function(e,r,i,o){if(e){var a=this.lastMoveData.targetNode,s=e.equals(a);if(e.nodeDimensions=s?a.nodeDimensions:this.getDim(e.element),!e.isWithinDropBounds(i,o))return this.handleParentTraversal(e,i,o);var l=s&&r===this.lastMoveData.index;if(l)return a;var c=this.sourceNodes.some(function(u){return e.canMove(u,r)});return this.triggerDragValidation(c,e),c?e:this.handleParentTraversal(e,i,o)}},t.prototype.handleParentTraversal=function(e,r,i){var o=e.getParent();if(o){var a=this.getIndexInParent(o,e,e.nodeDimensions,r,i);return this.getValidParent(o,a,r,i)}},t.prototype.getIndexInParent=function(e,r,i,o,a){var s=e==null?void 0:e.indexOfChild(r);return i.dir=this.getDirection(r.element,e.element),s=s+(i.determinePlacement(o,a)=="after"?1:0),s},t.prototype.triggerDragValidation=function(e,r){var i=this.sourceNodes[0];return this.em.trigger("sorter:drag:validation",{valid:e,src:i==null?void 0:i.element,srcModel:i==null?void 0:i.model,trg:r.element,trgModel:r.model}),i},t.prototype.cleanupEventListeners=function(){var e=this.containerContext.container;(0,Kt.AU)(e,"dragstart",this.onDragStart),(0,Kt.AU)(e,"mousemove dragover",this.onMove),(0,Kt.AU)(this.containerContext.document,"mouseup dragend touchend",this.endDrag)},t.prototype.getDirection=function(e,r){var i;return this.dragDirection===kd.A.Vertical?i=!0:this.dragDirection===kd.A.Horizontal?i=!1:i=J9e(e,r),i},t.prototype.getChildrenDim=function(e){var r=this,i=[],o=e.element;if(!o)return[];var a=e.getChildren();return!a||a.length===0?[]:((0,we.each)(a,function(s,l){var c=s.element;if(c&&!(!(0,Kt.ir)(c)&&!U4(c,r.containerContext.itemSel))){var u=r.getDim(c);u.dir=r.getDirection(c,o),i.push(u)}}),i)},t.prototype.getMousePositionRelativeToContainer=function(e,r){var i=r-this.containerOffset.top+this.containerContext.container.scrollTop,o=e-this.containerOffset.left+this.containerContext.container.scrollLeft;if(this.positionOptions.canvasRelative){var a=this.em.Canvas.getMouseRelativeCanvas({clientX:e,clientY:r},{noScroll:1});o=a.x,i=a.y}return{mouseXRelative:o,mouseYRelative:i}},t.prototype.cacheContainerPosition=function(e){var r=n8(e),i=this.positionOptions.windowMargin?Math.abs(r.top):r.top,o=this.positionOptions.windowMargin?Math.abs(r.left):r.left;this.containerOffset={top:i,left:o}},t.prototype.getDim=function(e){var r=this.em,i=this.positionOptions.relative,o=this.positionOptions.windowMargin,a=r==null?void 0:r.Canvas,s=a?a.getElementOffsets(e):{},l,c,u,f;if(this.positionOptions.canvasRelative&&this.em){var h=a.getElementPos(e,{noScroll:1});l=h.top,c=h.left,u=h.height,f=h.width}else{var d=n8(e);l=i?e.offsetTop:d.top-(o?-1:1)*this.containerOffset.top,c=i?e.offsetLeft:d.left-(o?-1:1)*this.containerOffset.left,u=e.offsetHeight,f=e.offsetWidth}return new iEe({top:l,left:c,height:u,width:f,offsets:s})},t}(Wt.Ss),sEe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),lEe=function(n){sEe(t,n);function t(e){var r=n.call(this)||this;return r.pfx=e.pfx||"",r.allowNesting=e.allowNesting||!1,r.container=e.container,r.setElement(e.el),r.offset={top:e.offset.top||0,left:e.offset.left||0},r.moveLimiter=new XL(100),r}return t.prototype.show=function(){this.el.style.display="block"},t.prototype.hide=function(){this.moveLimiter.clearTimeout(),this.el.style.display="none"},t.prototype.move=function(e,r){var i=this,o={elementDimension:e,placement:r};this.moveLimiter.updateArgs(o),this.moveLimiter.execute(function(a){var s=a.elementDimension,l=a.placement;i._move(s,l)})},t.prototype._move=function(e,r){var i=0,o="px",a=0,s=0,l="",c="";this.setOrientationForDimension(e);var u=e.top,f=e.left,h=e.height,d=e.width,m=e.dir,g=e.offsets;if(r==="inside"){if(this.setOrientation("horizontal"),!this.allowNesting){this.hide();return}var x=5,b=(g==null?void 0:g.paddingTop)||x,_=(g==null?void 0:g.paddingLeft)||x,S=(g==null?void 0:g.borderTopWidth)||0,T=(g==null?void 0:g.borderLeftWidth)||0,C=(g==null?void 0:g.borderRightWidth)||0,w=T+C;a=u+b+S,s=f+_+T,l=Math.max(d-_*2-w,1)+"px",c="auto"}else m?(l=d+o,c="auto",a=r==="before"?u-i:u+h-i,s=f):(l="auto",c=h-i*2+o,a=u+i,s=r==="before"?f-i:f+d-i,this.setOrientation("vertical"));this.updateStyles(a,s,l,c),this.adjustOffset()},t.prototype.setOrientationForDimension=function(e){this.el.classList.remove("vertical"),this.el.classList.add("horizontal"),e&&!e.dir&&this.setOrientation("vertical")},t.prototype.setOrientation=function(e){this.el.classList.remove("horizontal"),this.el.classList.remove("vertical"),this.el.classList.add(e)},t.prototype.updateStyles=function(e,r,i,o){this.el.style.top=e+"px",this.el.style.left=r+"px",i&&(this.el.style.width=i),o&&(this.el.style.height=o)},t.prototype.adjustOffset=function(){this.$el.css("top","+="+this.offset.top+"px"),this.$el.css("left","+="+this.offset.left+"px")},t}(Wt.Ss),Bh=function(){return Bh=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Bh.apply(this,arguments)},cEe=function(){function n(t){var e=rEe(t);(0,we.bindAll)(this,"startSort","cancelDrag","recalculateTargetOnScroll","rollback","updateOffset","handlePlaceholderMove","finalizeMove"),this.containerContext=e.containerContext,this.positionOptions=e.positionOptions,this.dragBehavior=e.dragBehavior,this.eventHandlers=Bh(Bh({},e.eventHandlers),{onPlaceholderPositionChange:this.handlePlaceholderMove,onEnd:this.finalizeMove}),this.em=t.em,this.treeClass=t.treeClass,this.updateOffset(),this.em.on(this.em.Canvas.events.refresh,this.updateOffset),this.placeholder=this.createPlaceholder(),this.dropLocationDeterminer=new aEe({em:this.em,treeClass:this.treeClass,containerContext:this.containerContext,positionOptions:this.positionOptions,dragDirection:this.dragBehavior.dragDirection,eventHandlers:this.eventHandlers})}return n.prototype.startSort=function(t){var e,r,i,o,a,s,l,c=this.getSourceNodes(t),u=c.sourceNodes,f=c.sourcesWithModel;this.sourceNodes=u,this.dropLocationDeterminer.startSort(u),this.bindDragEventHandlers(),(r=(e=this.eventHandlers).onStartSort)===null||r===void 0||r.call(e,this.sourceNodes,this.containerContext.container);var h=(i=this.sourceNodes[0])===null||i===void 0?void 0:i.model;(a=(o=this.eventHandlers).legacyOnStartSort)===null||a===void 0||a.call(o,{sorter:this,target:h,parent:h&&((s=h.parent)===null||s===void 0?void 0:s.call(h)),index:h&&((l=h.index)===null||l===void 0?void 0:l.call(h))}),this.em.trigger("sorter:drag:start",t[0],f[0])},n.prototype.validTarget=function(t,e,r){if(!t)return!1;var i=(0,lo.default)(t).data("model");if(!i)return!1;var o=new this.treeClass(i),a=this.getSourceNodes(e).sourceNodes,s=a.some(function(l){return o.canMove(l,r)});return s},n.prototype.getSourceNodes=function(t){var e=this,r=t.filter(function(s){return!!s.dragSource||e.findValidSourceElement(s.element)}),i=r.map(function(s){var l,c;return{model:((l=s.dragSource)===null||l===void 0?void 0:l.model)||((c=(0,lo.default)(s.element))===null||c===void 0?void 0:c.data("model")),content:s.dragSource}}),o=i.sort(function(s,l){return X9e(s.model,l.model)}),a=o.map(function(s){return new e.treeClass(s.model,s.content)});return{sourceNodes:a,sourcesWithModel:i}},n.prototype.recalculateTargetOnScroll=function(){this.dropLocationDeterminer.recalculateTargetOnScroll()},n.prototype.cancelDrag=function(){this.triggerNullOnEndMove(!0),this.dropLocationDeterminer.cancelDrag()},n.prototype.endDrag=function(){this.dropLocationDeterminer.endDrag()},n.prototype.handlePlaceholderMove=function(t,e){this.ensurePlaceholderElement(),this.updatePlaceholderPosition(t,e)},n.prototype.createPlaceholder=function(){return new lEe({container:this.containerContext.container,allowNesting:this.dragBehavior.nested,pfx:this.containerContext.pfx,el:this.containerContext.placeholderElement,offset:{top:this.positionOptions.offsetTop,left:this.positionOptions.offsetLeft}})},n.prototype.ensurePlaceholderElement=function(){var t=this.placeholder.el,e=this.containerContext.container;t.ownerDocument.contains(t)||e.append(this.placeholder.el)},n.prototype.updateOffset=function(){var t,e=((t=this.em)===null||t===void 0?void 0:t.get("canvasOffset"))||{};this.positionOptions.offsetTop=e.top,this.positionOptions.offsetLeft=e.left},n.prototype.findValidSourceElement=function(t){return t&&!U4(t,"".concat(this.containerContext.itemSel,", ").concat(this.containerContext.containerSel))&&(t=Z9e(t,this.containerContext.itemSel)),t},n.prototype.bindDragEventHandlers=function(){(0,Kt.on)(this.containerContext.document,"keydown",this.rollback)},n.prototype.updatePlaceholderPosition=function(t,e){this.placeholder.move(t,e)},n.prototype.cleanupEventListeners=function(){(0,Kt.AU)(this.containerContext.document,"keydown",this.rollback)},n.prototype.finalizeMove=function(){this.cleanupEventListeners(),this.placeholder.hide(),delete this.sourceNodes},n.prototype.rollback=function(t){(0,Kt.AU)(this.containerContext.document,"keydown",this.rollback);var e="Escape";t.key===e&&this.cancelDrag()},n.prototype.triggerNullOnEndMove=function(t){var e,r,i,o,a,s=(e=this.sourceNodes)===null||e===void 0?void 0:e[0].model,l={target:s,parent:s&&((r=s.parent)===null||r===void 0?void 0:r.call(s)),index:s&&((i=s.index)===null||i===void 0?void 0:i.call(s))};(a=(o=this.eventHandlers).legacyOnEndMove)===null||a===void 0||a.call(o,null,this,Bh(Bh({},l),{cancelled:t}))},n}();const ZL=cEe;var uEe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Hh=function(){return Hh=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Hh.apply(this,arguments)},fEe=Js.F.Target,D5={id:"sorter-target",type:fEe},dEe=function(n){uEe(t,n);function t(e){var r=e.em,i=e.treeClass,o=e.containerContext,a=e.dragBehavior,s=e.positionOptions,l=s===void 0?{}:s,c=e.eventHandlers,u=c===void 0?{}:c,f=n.call(this,{em:r,treeClass:i,containerContext:o,positionOptions:l,dragBehavior:a,eventHandlers:Hh(Hh({},u),{onStartSort:function(h,d){var m;(m=u.onStartSort)===null||m===void 0||m.call(u,h,d),f.onStartSort()},onDrop:function(h,d,m){var g;(g=u.onDrop)===null||g===void 0||g.call(u,h,d,m),f.onDrop(h,d,m)},onTargetChange:function(h,d){var m;(m=u.onTargetChange)===null||m===void 0||m.call(u,h,d),f.onTargetChange(h,d)},onMouseMove:function(h){var d;(d=u.onMouseMove)===null||d===void 0||d.call(u,h),f.onMouseMove(h)}})})||this;return f.targetIsText=!1,f.onMouseMove=function(h){var d,m=f.targetIsText&&((d=f.sourceNodes)===null||d===void 0?void 0:d.some(function(g){return g.isTextable()}));m&&f.updateTextViewCursorPosition(h)},f.onDrop=function(h,d,m){var g=typeof m=="number"?m:-1;if(h&&d.length>0){var x=f.handleNodeAddition(h,d,g);x.length===0&&f.triggerNullOnEndMove(!1)}else f.triggerNullOnEndMove(!0);h==null||h.restNodeState(),f.placeholder.hide()},f.onTargetChange=function(h,d){var m;h==null||h.restNodeState();var g=f.em.Canvas;if(!d){f.placeholder.hide(),g.removeSpots(D5);return}d==null||d.setSelectedParentState(),f.targetIsText=d.isTextNode();var x=f.targetIsText&&((m=f.sourceNodes)===null||m===void 0?void 0:m.some(function(T){return T.isTextable()}));x?(d.setContentEditable(!0),f.placeholder.hide()):f.placeholder.show();var b=Js.F.Select,_=Js.F.Hover,S=Js.F.Spacing;[b,_,S].forEach(function(T){return g.removeSpots({type:T})}),g.addSpot(Hh(Hh({},D5),{component:d.model}))},(0,we.bindAll)(f,"handleScrollEvent"),f}return t.prototype.onStartSort=function(){this.em.clearSelection(),this.setAutoCanvasScroll(!0)},t.prototype.bindDragEventHandlers=function(){this.em.on("frame:scroll",this.handleScrollEvent),n.prototype.bindDragEventHandlers.call(this)},t.prototype.cleanupEventListeners=function(){this.em.off("frame:scroll",this.handleScrollEvent),n.prototype.cleanupEventListeners.call(this)},t.prototype.handleScrollEvent=function(){for(var e,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=(e=r==null?void 0:r[0])===null||e===void 0?void 0:e.frame,a=this.em.Canvas.getCanvasView().frame===o;a&&this.recalculateTargetOnScroll()},t.prototype.handleNodeAddition=function(e,r,i){var o=this;return r.reduce(function(a,s){if(!e.canMove(s,i))return a;if(o.isPositionChanged(e,s,i)){var l=o.moveNode(e,s,i),c=l.index,u=l.addedNode;a.push(u),i=c}return i++,a},[])},t.prototype.isPositionChanged=function(e,r,i){var o=r.getParent(),a=o?o.indexOfChild(r):-1;(o==null?void 0:o.model.cid)===e.model.cid&&a<i&&i--;var s=(o==null?void 0:o.model.cid)===e.model.cid,l=a===i,c=this.targetIsText&&r.isTextable();return!(s&&l&&!c)},t.prototype.moveNode=function(e,r,i){var o=r.getParent();if(o){var a=o.indexOfChild(r);o.removeChildAt(a,{temporary:!0}),o.model.cid===e.model.cid&&a<i&&i--}var s=e.addChildAt(r,i,{action:"move-component"});return s&&this.triggerEndMoveEvent(s),{addedNode:s,index:i}},t.prototype.triggerEndMoveEvent=function(e){var r,i,o,a,s,l;(i=(r=this.eventHandlers).legacyOnEndMove)===null||i===void 0||i.call(r,e.model,this,{target:e.model,parent:e.model&&((a=(o=e.model).parent)===null||a===void 0?void 0:a.call(o)),index:e.model&&((l=(s=e.model).index)===null||l===void 0?void 0:l.call(s))})},t.prototype.finalizeMove=function(){var e,r;(e=this.em)===null||e===void 0||e.Canvas.removeSpots(D5),(r=this.sourceNodes)===null||r===void 0||r.forEach(function(i){return i.restNodeState()}),this.setAutoCanvasScroll(!1),n.prototype.finalizeMove.call(this)},t.prototype.updateTextViewCursorPosition=function(e){var r=this.em;if(r){var i=r.Canvas,o=i.getDocument(),a=null,s=(0,Kt.G2)(e);if(o.caretPositionFromPoint){var l=o.caretPositionFromPoint(s.clientX,s.clientY);l&&(a=o.createRange(),a.setStart(l.offsetNode,l.offset))}else o.caretRangeFromPoint?a=o.caretRangeFromPoint(s.clientX,s.clientY):e.rangeParent&&(a=o.createRange(),a.setStart(e.rangeParent,e.rangeOffset));var c=i.getWindow().getSelection();i.getFrameEl().focus(),c==null||c.removeAllRanges(),a&&(c==null||c.addRange(a))}},t.prototype.setAutoCanvasScroll=function(e){var r=this.em,i=r==null?void 0:r.Canvas;i&&(e?i.startAutoscroll():i.stopAutoscroll())},t}(ZL);const i8=dEe;var hEe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ab=function(){return ab=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ab.apply(this,arguments)},pEe=function(n){hEe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.defaults=function(){return{values:{}}},t.prototype.initialize=function(){var e=this.collection;this.prop=e==null?void 0:e.prop},t.prototype.getId=function(){return this.cid},t.prototype.getIndex=function(){var e=this.collection;return e?e.indexOf(this):-1},t.prototype.getValues=function(e){e===void 0&&(e={});var r=this.get("values");return e.camelCase?Object.keys(r).reduce(function(i,o){return i[(0,Et.camelCase)(o)]=r[o],i},{}):r},t.prototype.getLabel=function(){var e;return(e=this.prop)===null||e===void 0?void 0:e.getLayerLabel(this)},t.prototype.isSelected=function(){var e;return((e=this.prop)===null||e===void 0?void 0:e.getSelectedLayer())===this},t.prototype.select=function(){var e;return(e=this.prop)===null||e===void 0?void 0:e.selectLayer(this)},t.prototype.remove=function(){var e;return(e=this.prop)===null||e===void 0?void 0:e.removeLayer(this)},t.prototype.move=function(e){var r;return(r=this.prop)===null||r===void 0?void 0:r.moveLayer(this,e)},t.prototype.getStylePreview=function(e){var r;return e===void 0&&(e={}),(r=this.prop)===null||r===void 0?void 0:r.getStylePreview(this,e)},t.prototype.hasPreview=function(){var e;return!!(!((e=this.prop)===null||e===void 0)&&e.get("preview"))},t.prototype.upValues=function(e){return e===void 0&&(e={}),this.set("values",ab(ab({},this.getValues()),e))},t}(Wt.Kx);const Vv=pEe;var vEe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),JL=function(n){vEe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.initialize=function(e,r){r===void 0&&(r={}),this.prop=r.prop},t}(Wt.pM);const t0=JL;JL.prototype.model=Vv;var gEe=gn(3178),mEe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),yEe=function(n){mEe(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getChildren=function(){return this.model instanceof t0?this.model.models.map(function(e){return new t(e)}):null},t.prototype.getParent=function(){var e=this.model instanceof Vv?this.model.collection:null;return e?new t(e):null},t.prototype.addChildAt=function(e,r){if(this.model instanceof Vv)throw Error("Cannot add a layer model to another layer model");var i=this.model.add(e.model,{at:r});return new t(i)},t.prototype.removeChildAt=function(e){if(this.model instanceof Vv)throw Error("Cannot remove a layer model from another layer model");var r=this.model.at(e);r&&this.model.remove(r)},t.prototype.indexOfChild=function(e){return!(e.model instanceof Vv)||!(this.model instanceof t0)?-1:this.model.indexOf(e.model)},t.prototype.canMove=function(e,r){return this.model instanceof t0&&!!e.model},Object.defineProperty(t.prototype,"view",{get:function(){return this.model.view},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){var e;return(e=this.view)===null||e===void 0?void 0:e.el},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"model",{get:function(){return this._model},enumerable:!1,configurable:!0}),t}(gEe.$),bEe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),AS=function(){return AS=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},AS.apply(this,arguments)},xEe=function(n){bEe(t,n);function t(e){var r=e.em,i=e.containerContext,o=e.dragBehavior,a=e.positionOptions,s=a===void 0?{}:a,l=e.eventHandlers,c=l===void 0?{}:l,u=n.call(this,{em:r,treeClass:yEe,containerContext:i,positionOptions:s,dragBehavior:o,eventHandlers:AS({onStartSort:function(f,h){var d;(d=c.onStartSort)===null||d===void 0||d.call(c,f,h),u.onLayerStartSort(f)},onDrop:function(f,h,d){var m;(m=c.onDrop)===null||m===void 0||m.call(c,f,h,d),u.onLayerDrop(f,h,d)},onEnd:function(){u.placeholder.hide()}},c)})||this;return u.onLayerStartSort=function(f){u.em.clearSelection();var h=f[0];u.em.trigger("sorter:drag:start",h==null?void 0:h.element,h==null?void 0:h.model),u.placeholder.show()},u.onLayerDrop=function(f,h,d){if(f){d=typeof d=="number"?d:-1;for(var m=0;m<h.length;m++){var g=h[m];if(f.canMove(g,m)){var x=g.getParent(),b=-1;x&&(b=x.indexOfChild(g),x.removeChildAt(b)),d=b<d?d-1:d,f.addChildAt(g,d)}}u.placeholder.hide()}},u}return t}(ZL);const wEe=xEe;var _Ee=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),NS=function(){return NS=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},NS.apply(this,arguments)},SEe=function(n){_Ee(t,n);function t(e){var r=n.call(this,e,"Utils")||this;return r.Sorter=i8,r.Resizer=K9e,r.Dragger=oL.A,r.ComponentSorter=i8,r.StyleManagerSorter=wEe,r.helpers=NS({},Et),r}return t.prototype.destroy=function(){},t}(ts);const TEe=SEe;var qa,Ss={},xa={16:!1,18:!1,17:!1,91:!1},QL="all",Ld={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,command:91},eD={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},V4=function(n){return eD[n]||n.toUpperCase().charCodeAt(0)},Lp=[];for(qa=1;qa<20;qa++)eD["f"+qa]=111+qa;function cg(n,t){for(var e=n.length;e--;)if(n[e]===t)return e;return-1}function CEe(n,t){if(n.length!=t.length)return!1;for(var e=0;e<n.length;e++)if(n[e]!==t[e])return!1;return!0}var EEe={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};function OEe(n){for(qa in xa)xa[qa]=n[EEe[qa]]}function AEe(n){var t,e,r,i,o,a;if(t=n.keyCode,cg(Lp,t)==-1&&Lp.push(t),(t==93||t==224)&&(t=91),t in xa){xa[t]=!0;for(r in Ld)Ld[r]==t&&(Ea[r]=!0);return}if(OEe(n),!!Ea.filter.call(this,n)&&t in Ss){for(a=z4(),i=0;i<Ss[t].length;i++)if(e=Ss[t][i],e.scope==a||e.scope=="all"){o=e.mods.length>0;for(r in xa)(!xa[r]&&cg(e.mods,+r)>-1||xa[r]&&cg(e.mods,+r)==-1)&&(o=!1);(e.mods.length==0&&!xa[16]&&!xa[18]&&!xa[17]&&!xa[91]||o)&&e.method(n,e)===!1&&(n.preventDefault?n.preventDefault():n.returnValue=!1,n.stopPropagation&&n.stopPropagation(),n.cancelBubble&&(n.cancelBubble=!0))}}}function NEe(n){var t=n.keyCode,e,r=cg(Lp,t);if(r>=0&&Lp.splice(r,1),(t==93||t==224)&&(t=91),t in xa){xa[t]=!1;for(e in Ld)Ld[e]==t&&(Ea[e]=!1)}}function PEe(){for(qa in xa)xa[qa]=!1;for(qa in Ld)Ea[qa]=!1}function Ea(n,t,e){var r,i;r=tD(n),e===void 0&&(e=t,t="all");for(var o=0;o<r.length;o++)i=[],n=r[o].split("+"),n.length>1&&(i=rD(n),n=[n[n.length-1]]),n=n[0],n=V4(n),n in Ss||(Ss[n]=[]),Ss[n].push({shortcut:r[o],scope:t,method:e,key:r[o],mods:i})}function jEe(n,t){var e,r,i=[],o,a,s;for(e=tD(n),a=0;a<e.length;a++){if(r=e[a].split("+"),r.length>1&&(i=rD(r)),n=r[r.length-1],n=V4(n),t===void 0&&(t=z4()),!Ss[n])return;for(o=0;o<Ss[n].length;o++)s=Ss[n][o],s.scope===t&&CEe(s.mods,i)&&(Ss[n][o]={})}}function kEe(n){return typeof n=="string"&&(n=V4(n)),cg(Lp,n)!=-1}function MEe(){return Lp.slice(0)}function LEe(n){var t=(n.target||n.srcElement).tagName;return!(t=="INPUT"||t=="SELECT"||t=="TEXTAREA")}for(qa in Ld)Ea[qa]=!1;function DEe(n){QL=n||"all"}function z4(){return QL||"all"}function IEe(n){var t,e,r;for(t in Ss)for(e=Ss[t],r=0;r<e.length;)e[r].scope===n?e.splice(r,1):r++}function tD(n){var t;return n=n.replace(/\s/g,""),t=n.split(","),t[t.length-1]==""&&(t[t.length-2]+=","),t}function rD(n){for(var t=n.slice(0,n.length-1),e=0;e<t.length;e++)t[e]=Ld[t[e]];return t}function I5(n,t,e){n.addEventListener?n.addEventListener(t,e,!1):n.attachEvent&&n.attachEvent("on"+t,function(){e(window.event)})}Ea.setScope=DEe;Ea.getScope=z4;Ea.deleteScope=IEe;Ea.filter=LEe;Ea.isPressed=kEe;Ea.getPressedKeyCodes=MEe;Ea.unbind=jEe;Ea.handlers=Ss;Ea.init=function(n){I5(n.document,"keydown",function(t){AEe(t)}),I5(n.document,"keyup",NEe),I5(n,"focus",PEe)};const zv=Ea;var REe=function(){return{defaults:{"core:undo":{keys:"⌘+z, ctrl+z",handler:"core:undo",opts:{prevent:!0}},"core:redo":{keys:"⌘+shift+z, ctrl+shift+z",handler:"core:redo",opts:{prevent:!0}},"core:copy":{keys:"⌘+c, ctrl+c",handler:"core:copy"},"core:paste":{keys:"⌘+v, ctrl+v",handler:"core:paste"},"core:component-next":{keys:"s",handler:"core:component-next"},"core:component-prev":{keys:"w",handler:"core:component-prev"},"core:component-enter":{keys:"d",handler:"core:component-enter"},"core:component-exit":{keys:"a",handler:"core:component-exit"},"core:component-delete":{keys:"backspace, delete",handler:"core:component-delete",opts:{prevent:!0}}}}};const FEe=REe;var BEe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),o8=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))};(0,Et.hasWin)()&&zv.init(window);var HEe=function(n){BEe(t,n);function t(e){var r=n.call(this,e,"Keymaps",FEe())||this;return r.keymaster=zv,r.keymaps={},r}return t.prototype.onLoad=function(){if(!this.em.isHeadless){var e=this.config.defaults;for(var r in e){var i=e[r];this.add(r,i.keys,i.handler,i.opts||{})}}},t.prototype.add=function(e,r,i,o){o===void 0&&(o={});var a=this.em,s=a.Commands,l=a.getEditor(),c=a.Canvas,u={id:e,keys:r,handler:i},f=this.keymaps[e];return f&&this.remove(e),this.keymaps[e]=u,zv(r,function(h,d){var m,g={event:h,h:d},x=(0,we.isString)(i)?s.get(i):i,b=!a.isEditing()&&!l.Canvas.isInputFocused();if(b||o.force){o.prevent&&((m=c.getCanvasView())===null||m===void 0||m.preventDefault(h)),(0,we.isFunction)(x)?x(l,0,g):s.runCommand(x,g);var _=[e,d.shortcut,h];a.trigger.apply(a,o8(["keymap:emit"],_,!1)),a.trigger.apply(a,o8(["keymap:emit:".concat(e)],_,!1))}},void 0),a.trigger("keymap:add",u),u},t.prototype.get=function(e){return this.keymaps[e]},t.prototype.getAll=function(){return this.keymaps},t.prototype.remove=function(e){var r=this.em,i=this.get(e);if(i)return delete this.keymaps[e],i.keys.split(", ").forEach(function(o){zv.unbind(o.trim())}),r==null||r.trigger("keymap:remove",i),i},t.prototype.removeAll=function(){var e=this;return Object.keys(this.keymaps).forEach(function(r){return e.remove(r)}),zv.handlers={},this},t.prototype.destroy=function(){this.removeAll(),this.keymaps={}},t}(ts);const $Ee=HEe;var UEe=function(){return{stylePrefix:"mdl-",title:"",content:"",backdrop:!0,custom:!1,extend:{}}};const VEe=UEe;var zEe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),WEe=function(n){zEe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.defaults=function(){return{title:"",content:"",attributes:{},open:!1}},t.prototype.open=function(){this.set("open",!0)},t.prototype.close=function(){this.set("open",!1)},t}(Qu.A);const qEe=WEe;var GEe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),sb=function(){return sb=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},sb.apply(this,arguments)},KEe=function(n){GEe(t,n);function t(e){var r=n.call(this,e)||this,i=r.model;return r.listenTo(i,"change:open",r.updateOpen),r.listenTo(i,"change:title",r.updateTitle),r.listenTo(i,"change:content",r.updateContent),r}return t.prototype.template=function(e){var r=e.pfx,i=e.ppfx,o=e.content,a=e.title;return'<div class="'.concat(r,"dialog ").concat(i,"one-bg ").concat(i,`two-color">
      <div class="`).concat(r,`header">
        <div class="`).concat(r,'title">').concat(a,`</div>
        <div class="`).concat(r,`btn-close" data-close-modal>&Cross;</div>
      </div>
      <div class="`).concat(r,`content">
        <div id="`).concat(r,'c">').concat(o,`</div>
        <div style="clear:both"></div>
      </div>
    </div>
    <div class="`).concat(r,'collector" style="display: none"></div>')},t.prototype.events=function(){return{click:"onClick","click [data-close-modal]":"hide"}},t.prototype.onClick=function(e){var r=this.config.backdrop;r&&e.target===this.el&&this.hide()},t.prototype.getCollector=function(){return this.$collector||(this.$collector=this.$el.find("."+this.pfx+"collector")),this.$collector},t.prototype.getContent=function(){var e=this.pfx;return this.$content||(this.$content=this.$el.find(".".concat(e,"content #").concat(e,"c"))),this.$content},t.prototype.getTitle=function(e){return e===void 0&&(e={}),this.$title||(this.$title=this.$el.find("."+this.pfx+"title")),e.$?this.$title:this.$title.get(0)},t.prototype.updateContent=function(){var e=this.getContent(),r=e.children(),i=this.getCollector(),o=this.model.get("content");r.length&&i.append(r),e.empty().append(o)},t.prototype.updateTitle=function(){var e=this.getTitle({$:!0});e&&e.empty().append(this.model.get("title"))},t.prototype.updateOpen=function(){this.el.style.display=this.model.get("open")?"":"none"},t.prototype.hide=function(){this.model.close()},t.prototype.show=function(){this.model.open()},t.prototype.updateAttr=function(e){var r=this,i=r.pfx,o=r.$el,a=r.el,s=[].slice.call(a.attributes).map(function(l){return l.name});o.removeAttr(s.join(" ")),o.attr(sb(sb({},e||{}),{class:"".concat(i,"container ").concat(e&&e.class||"").trim()}))},t.prototype.render=function(){var e=this.$el,r=this.model.toJSON();return r.pfx=this.pfx,r.ppfx=this.ppfx,e.html(this.template(r)),this.updateAttr(),this.updateOpen(),this},t}(il);const YEe=KEe;var XEe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ZEe=function(n){XEe(t,n);function t(e){var r=n.call(this,e,"Modal",VEe())||this;return r.model=new qEe(r),r.model.on("change:open",function(i,o){e.trigger("modal:".concat(o?"open":"close"))}),r.model.on("change",(0,we.debounce)(function(){var i=r._evData(),o=r.config.custom;(0,we.isFunction)(o)&&o(i),e.trigger("modal",i)},0)),r}return t.prototype._evData=function(){var e=this,r=this.getTitle(),i=this.getContent(),o=this.model.attributes,a=o.open,s=o.attributes;return{open:a,attributes:s,title:(0,we.isString)(r)?(0,Kt.GZ)(r):r,content:(0,we.isString)(i)?(0,Kt.GZ)(i):i.get?i.get(0):i,close:function(){e.close()}}},t.prototype.postRender=function(e){var r=e.model.config.el||e.el,i=this.render();i&&(r==null||r.appendChild(i))},t.prototype.open=function(e){e===void 0&&(e={});var r=e.attributes||{};return e.title&&this.setTitle(e.title),e.content&&this.setContent(e.content),this.model.set("attributes",r),this.model.open(),this.modal&&this.modal.updateAttr(r),this},t.prototype.close=function(){return this.model.close(),this},t.prototype.onceClose=function(e){return this.em.once("modal:close",e),this},t.prototype.onceOpen=function(e){return this.em.once("modal:open",e),this},t.prototype.isOpen=function(){return!!this.model.get("open")},t.prototype.setTitle=function(e){return this.model.set("title",e),this},t.prototype.getTitle=function(){return this.model.get("title")},t.prototype.setContent=function(e){return this.model.set("content"," "),this.model.set("content",e),this},t.prototype.getContent=function(){return this.model.get("content")},t.prototype.getContentEl=function(){var e;return(e=this.modal)===null||e===void 0?void 0:e.getContent().get(0)},t.prototype.getModel=function(){return this.model},t.prototype.render=function(){var e;if(!this.config.custom){var r=YEe.extend(this.config.extend),i=this.modal&&this.modal.el;return this.modal=new r({el:i,model:this.model,config:this.config}),(e=this.modal)===null||e===void 0?void 0:e.render().el}},t.prototype.destroy=function(){var e;(e=this.modal)===null||e===void 0||e.remove()},t}(ts);const JEe=ZEe;var a8="sw-visibility",s8="export-template",l8="open-sm",c8="open-tm",u8="open-layers",f8="open-blocks",R5="fullscreen",F5="preview",QEe=function(){return{stylePrefix:"pn-",defaults:[{id:"commands",buttons:[{}]},{id:"options",buttons:[{active:!0,id:a8,className:"fa fa-square-o",command:"core:component-outline",context:a8,attributes:{title:"View components"}},{id:F5,className:"fa fa-eye",command:F5,context:F5,attributes:{title:"Preview"}},{id:R5,className:"fa fa-arrows-alt",command:R5,context:R5,attributes:{title:"Fullscreen"}},{id:s8,className:"fa fa-code",command:s8,attributes:{title:"View code"}}]},{id:"views",buttons:[{id:l8,className:"fa fa-paint-brush",command:l8,active:!0,togglable:!1,attributes:{title:"Open Style Manager"}},{id:c8,className:"fa fa-cog",command:c8,togglable:!1,attributes:{title:"Settings"}},{id:u8,className:"fa fa-bars",command:u8,togglable:!1,attributes:{title:"Open Layer Manager"}},{id:f8,className:"fa fa-th-large",command:f8,togglable:!1,attributes:{title:"Open Blocks"}}]}]}};const eOe=QEe;var tOe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),rOe=function(n){tOe(t,n);function t(e,r){var i=n.call(this,e,r)||this;return i.get("buttons").length&&i.set("buttons",new oD(i.module,i.get("buttons"))),i}return t.prototype.defaults=function(){return{id:"",label:"",tagName:"span",className:"",command:"",context:"",buttons:[],attributes:{},options:{},active:!1,dragDrop:!1,togglable:!0,runDefaultCommand:!0,stopDefaultCommand:!1,disable:!1}},Object.defineProperty(t.prototype,"className",{get:function(){return this.get("className")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"command",{get:function(){return this.get("command")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"active",{get:function(){return this.get("active")},set:function(e){this.set("active",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"togglable",{get:function(){return this.get("togglable")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"runDefaultCommand",{get:function(){return this.get("runDefaultCommand")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stopDefaultCommand",{get:function(){return this.get("stopDefaultCommand")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"disable",{get:function(){return this.get("disable")},enumerable:!1,configurable:!0}),t}(Qu.A);const nD=rOe;var nOe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),iD=function(n){nOe(t,n);function t(e,r){return n.call(this,e,r,nD)||this}return t.prototype.deactivateAllExceptOne=function(e,r){this.forEach(function(i,o){i!==e&&(i.set("active",!1),r&&i.get("buttons").length&&i.get("buttons").deactivateAllExceptOne(e,r))})},t.prototype.deactivateAll=function(e,r){var i=e||"";this.forEach(function(o){o.get("context")==i&&o!==r&&o.set("active",!1,{fromCollection:!0})})},t.prototype.disableAllButtons=function(e){var r=e||"";this.forEach(function(i,o){i.get("context")==r&&i.set("disable",!0)})},t.prototype.disableAllButtonsExceptOne=function(e,r){this.forEach(function(i,o){i!==e&&(i.set("disable",!0),r&&i.get("buttons").length&&i.get("buttons").disableAllButtonsExceptOne(e,r))})},t}(Ux);const oD=iD;iD.prototype.model=nD;var iOe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),oOe=function(n){iOe(t,n);function t(e,r){var i=n.call(this,e,r)||this,o=i.get("buttons")||[];return i.buttons=new oD(e,o),i}return t.prototype.defaults=function(){return{id:"",content:"",visible:!0,buttons:[],attributes:{}}},Object.defineProperty(t.prototype,"buttons",{get:function(){return this.get("buttons")},set:function(e){this.set("buttons",e)},enumerable:!1,configurable:!0}),t}(Qu.A);const aD=oOe;var aOe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),sD=function(n){aOe(t,n);function t(e,r){return n.call(this,e,r,aD)||this}return t}(Ux);const sOe=sD;sD.prototype.model=aD;var lOe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),$h=function(){return $h=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},$h.apply(this,arguments)},cOe=function(n){lOe(t,n);function t(e){var r=n.call(this,e)||this,i=r,o=i.model,a=i.em,s=i.pfx,l=i.ppfx,c=o.className,u=o.attributes,f=u.command,h=u.listen;if(r.id=s+o.get("id"),r.activeCls="".concat(s,"active ").concat(l,"four-color"),r.disableCls="".concat(l,"disabled"),r.btnsVisCls="".concat(s,"visible"),r.className=s+"btn"+(c?" "+c:""),r.listenTo(o,"change",r.render),r.listenTo(o,"change:active updateActive",r.updateActive),r.listenTo(o,"checkActive",r.checkActive),r.listenTo(o,"change:bntsVis",r.updateBtnsVis),r.listenTo(o,"change:attributes",r.updateAttributes),r.listenTo(o,"change:className",r.updateClassName),r.listenTo(o,"change:disable",r.updateDisable),a&&(0,we.isString)(f)&&h){var d={fromListen:!0};r.listenTo(a,"run:".concat(f),function(){return o.set("active",!0,d)}),r.listenTo(a,"stop:".concat(f),function(){return o.set("active",!1,d)})}return a&&a.get&&(r.commands=a.get("Commands")),r}return t.prototype.tagName=function(){return this.model.get("tagName")},t.prototype.events=function(){return{click:"clicked"}},t.prototype.updateClassName=function(){var e=this,r=e.model,i=e.pfx,o=r.className,a=r.get("attributes").class,s="".concat(a||""," ").concat(i,"btn ").concat(o||"");this.$el.attr("class",s.trim())},t.prototype.updateAttributes=function(){var e=this,r=e.em,i=e.model,o=e.$el,a=i.get("attributes")||{},s=r&&r.t&&r.t("panels.buttons.titles.".concat(i.id));o.attr(a),s&&o.attr({title:s}),this.updateClassName()},t.prototype.updateBtnsVis=function(){this.$buttons&&(this.model.get("bntsVis")?this.$buttons.addClass(this.btnsVisCls):this.$buttons.removeClass(this.btnsVisCls))},t.prototype.updateActive=function(e,r,i){var o;i===void 0&&(i={});var a=this,s=a.model,l=a.commands,c=a.$el,u=a.activeCls,f=i.fromCollection,h=i.fromListen,d=s.get("context"),m=s.get("options"),g=s.command,x={};g&&(l&&(0,we.isString)(g)?x=l.get(g)||{}:(0,we.isFunction)(g)?x=l.create({run:g}):g!==null&&(0,we.isObject)(g)&&(x=l.create(g)),s.active?(!f&&((o=s.collection)===null||o===void 0||o.deactivateAll(d,s)),s.set("active",!0,{silent:!0}).trigger("checkActive"),!h&&l.runCommand(x,$h($h({},m),{sender:s})),x.noStop&&s.set("active",!1)):(c.removeClass(u),!h&&l.stopCommand(x,$h($h({},m),{sender:s,force:1}))))},t.prototype.updateDisable=function(){var e=this,r=e.disableCls,i=e.model,o=i.disable;this.$el[o?"addClass":"removeClass"](r)},t.prototype.checkActive=function(){var e=this,r=e.model,i=e.$el,o=e.activeCls;r.active?i.addClass(o):i.removeClass(o)},t.prototype.clicked=function(){var e=this.model;e.get("bntsVis")||e.disable||!e.command||this.toggleActive()},t.prototype.toggleActive=function(){var e=this,r=e.model,i=e.em,o=r.active,a=r.togglable;o&&!a||(r.active=!o,o?r.runDefaultCommand&&i.runDefault():r.stopDefaultCommand&&i.stopDefault())},t.prototype.render=function(){var e=this.model,r=e.get("label"),i=this.$el;return!e.get("el")&&i.empty(),this.updateAttributes(),r&&i.append(r),this.checkActive(),this.updateDisable(),this},t}(il);const uOe=cOe;var fOe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),dOe=function(n){fOe(t,n);function t(e){var r=n.call(this,{collection:e})||this;return r.listenTo(r.collection,"add",r.addTo),r.listenTo(r.collection,"reset remove",r.render),r.className=r.pfx+"buttons",r}return t.prototype.addTo=function(e){this.addToCollection(e)},t.prototype.addToCollection=function(e,r){var i=r||null,o=e.get("el"),a=new uOe({el:o,model:e}),s=a.render().el;return i?i.appendChild(s):this.$el.append(s),s},t.prototype.render=function(){var e=this,r=document.createDocumentFragment();return this.$el.empty(),this.collection.each(function(i){return e.addToCollection(i,r)}),this.$el.append(r),this.$el.attr("class",(0,we.result)(this,"className")),this},t}(il);const hOe=dOe;var pOe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),PS=function(){return PS=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},PS.apply(this,arguments)},vOe=function(n){pOe(t,n);function t(e){var r=n.call(this,{model:e,el:e.get("el")})||this;return r.className=r.pfx+"panel",r.id=r.pfx+e.get("id"),r.listenTo(e,"change:appendContent",r.appendContent),r.listenTo(e,"change:content",r.updateContent),r.listenTo(e,"change:visible",r.toggleVisible),e.view=r,r}return t.prototype.appendContent=function(){this.$el.append(this.model.get("appendContent"))},t.prototype.updateContent=function(){this.$el.html(this.model.get("content"))},t.prototype.toggleVisible=function(){if(!this.model.get("visible")){this.$el.addClass("".concat(this.ppfx,"hidden"));return}this.$el.removeClass("".concat(this.ppfx,"hidden"))},t.prototype.attributes=function(){return this.model.get("attributes")},t.prototype.initResize=function(){var e=this.em,r=e==null?void 0:e.Editor,i=this.model.get("resizable");if(r&&i){var o=i===!0?[!0,!0,!0,!0]:i,a=o.length,s=void 0,l=void 0,c=void 0,u=!1;if(a==2){var f=o;s=f[0],c=f[0],l=f[1],u=f[1]}else if(a==4){var f=o;s=f[0],l=f[1],c=f[2],u=f[3]}var h=new r.Utils.Resizer(PS({tc:s,cr:l,bc:c,cl:u,tl:!1,tr:!1,bl:!1,br:!1,appendTo:this.el,silentFrames:!0,avoidContainerUpdate:!0,prefix:r.getConfig().stylePrefix,onEnd:function(){e.Canvas.refresh({all:!0})},posFetcher:function(d,m){var g=m.target,x=d.style,b=h.getConfig(),_=b.keyWidth,S=b.keyHeight,T=d.getBoundingClientRect(),C=g=="container",w=x[_],N=x[S],A=w&&!C?parseFloat(w):T.width,j=N&&!C?parseFloat(N):T.height;return{left:0,top:0,width:A,height:j}}},i&&typeof i!="boolean"?i:{}));h.blur=function(){},h.focus(this.el)}},t.prototype.render=function(){var e=this.model.buttons,r=this.$el,i=this.ppfx,o="".concat(this.className," ").concat(this.id," ").concat(i,"one-bg ").concat(i,"two-color");if(r.addClass(o),this.toggleVisible(),e.length){var a=new hOe(e);r.append(a.render().el)}return r.append(this.model.get("content")),this},t}(il);const gOe=vOe;var mOe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),yOe=function(n){mOe(t,n);function t(e){var r=n.call(this,{collection:e})||this;return r.listenTo(e,"add",r.addTo),r.listenTo(e,"reset",r.render),r.listenTo(e,"remove",r.onRemove),r.className=r.pfx+"panels",r}return t.prototype.onRemove=function(e){var r=e.view;r&&r.remove()},t.prototype.addTo=function(e){this.addToCollection(e)},t.prototype.addToCollection=function(e,r){var i=r||null,o=e.get("el"),a=new gOe(e),s=a.render().el,l=e.get("appendTo");if(!o)if(l){var c=document.querySelector(l);c==null||c.appendChild(s)}else i?i.appendChild(s):this.$el.append(s);return a.initResize(),s},t.prototype.render=function(){var e=this,r=this.$el,i=document.createDocumentFragment();return r.empty(),this.collection.each(function(o){return e.addToCollection(o,i)}),r.append(i),r.attr("class",this.className),this},t}(il);const bOe=yOe;var xOe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),wOe=function(n){xOe(t,n);function t(e){var r=n.call(this,e,"Panels",eOe())||this;return r.panels=new sOe(r,r.config.defaults),r}return t.prototype.getPanels=function(){return this.panels},t.prototype.getPanelsEl=function(){var e;return(e=this.PanelsViewObj)===null||e===void 0?void 0:e.el},t.prototype.addPanel=function(e){return this.panels.add(e)},t.prototype.removePanel=function(e){return this.panels.remove(e)},t.prototype.getPanel=function(e){var r=this.panels.where({id:e});return r.length?r[0]:null},t.prototype.addButton=function(e,r){var i=this.getPanel(e);return i?i.buttons.add(r):null},t.prototype.removeButton=function(e,r){var i=this.getPanel(e);return i&&i.buttons.remove(r)},t.prototype.getButton=function(e,r){var i=this.getPanel(e);if(i){var o=i.buttons.where({id:r});return o.length?o[0]:null}return null},t.prototype.render=function(){var e;return(e=this.PanelsViewObj)===null||e===void 0||e.remove(),this.PanelsViewObj=new bOe(this.panels),this.PanelsViewObj.render().el},t.prototype.active=function(){this.getPanels().each(function(e){e.buttons.each(function(r){r.get("active")&&r.trigger("updateActive")})})},t.prototype.disableButtons=function(){this.getPanels().each(function(e){e.buttons.each(function(r){r.get("disable")&&r.trigger("change:disable")})})},t.prototype.destroy=function(){this.panels.reset(),this.panels.stopListening(),this.PanelsViewObj&&this.PanelsViewObj.remove()},t}(ts);const _Oe=wOe;var SOe=function(){return{stylePrefix:"cm-",optsCodeViewer:{}}};const TOe=SOe;var COe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),EOe=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e},OOe=function(n){COe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.build=function(e,r){r===void 0&&(r={});var i=r.em,o=EOe(r,["em"]),a=o;if(r.cleanId&&i){var s=i.Css.getAll(),l=s.toJSON().map(function(c){var u=c.selectors,f=u&&u.length===1&&u.models[0];return f&&f.isId()&&f.get("name")}).filter(Boolean);a.attributes||(a.attributes=function(c,u){var f=u.id;return f&&f[0]==="i"&&!c.get("script")&&!c.get("script-export")&&!c.get("attributes").id&&l.indexOf(f)<0&&delete u.id,u})}return e.toHTML(a)},t}(Wt.Kx);const AOe=OOe;var NOe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),POe=function(n){NOe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.build=function(e){var r=this,i=e.toJSON();return this.beforeEach(i),(0,we.each)(i,function(o,a){var s=i[a];if(s instanceof Wt.Kx)i[a]=r.build(s);else if(s instanceof Wt.pM){var l=s;i[a]=[],l.length&&l.forEach(function(c,u){i[a][u]=r.build(c)})}}),i},t.prototype.beforeEach=function(e){delete e.status},t}(Wt.Kx);const jOe=POe;var kOe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();function MOe(n){var t,e=((t=n.toString().match(/\{([\s\S]*)\}/m))===null||t===void 0?void 0:t[1])||"";return e.replace(/^\s*\/\/.*$/gm,"").trim().length===0}var LOe=function(n){kOe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.mapModel=function(e){var r,i=this,o="",a=e.get("script-export")||e.get("script"),s=e.get("type"),l=e.get("components"),c=e.getId();if(a){var u=e.get("attributes");u=(0,we.extend)({},u,{id:c}),e.set("attributes",u,{silent:!0});var f=e.getScriptString(a),h=e.get("script-props");if(e.get("scriptUpdated")&&!h)this.mapJs[s+"-"+c]={ids:[c],code:f};else{var d=void 0,m=this.mapJs[s];if(h&&(d=e.__getScriptProps()),m)m.ids.push(c),d&&(m.props[c]=d);else{var g={ids:[c],code:f};d&&(g.props=(r={},r[c]=d,r)),this.mapJs[s]=g}}}return l.forEach(function(x){o+=i.mapModel(x)}),o},t.prototype.build=function(e){this.mapJs={},this.mapModel(e);var r="";for(var i in this.mapJs){var o=this.mapJs[i];if(o.code)if(o.props){if(MOe(o.code))continue;r+=`
          var props = `.concat(JSON.stringify(o.props),`;
          var ids = Object.keys(props).map(function(id) { return '#'+id }).join(',');
          var els = document.querySelectorAll(ids);
          for (var i = 0, len = els.length; i < len; i++) {
            var el = els[i];
            (`).concat(o.code,`.bind(el))(props[el.id]);
          }`)}else{var a="#"+o.ids.join(", #");r+=`
          var items = document.querySelectorAll('`.concat(a,`');
          for (var i = 0, len = items.length; i < len; i++) {
            (function(){
`).concat(o.code,`
}.bind(items[i]))();
          }`)}}return r},t}(Wt.Kx);const DOe=LOe;var IOe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),jS=function(){return jS=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},jS.apply(this,arguments)},ug;(0,Et.hasWin)()&&(ug=gn(4408),gn(8253),gn(7389),gn(3640));var lD=function(n){IOe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.defaults=function(){return{input:"",label:"",codeName:"",theme:"hopscotch",readOnly:!0,lineNumbers:!0,autoFormat:!0}},t.prototype.init=function(e){return(0,we.bindAll)(this,"onChange"),this.editor=ug.fromTextArea(e,jS({dragDrop:!1,lineWrapping:!0,mode:this.get("codeName")},this.attributes)),this.element=e,this.editor.on("change",this.onChange),this},t.prototype.onChange=function(){this.trigger("update",this)},t.prototype.getEditor=function(){return this.editor},t.prototype.getElement=function(){return this.element},t.prototype.setElement=function(e){return this.element=e,this},t.prototype.refresh=function(){return this.getEditor().refresh(),this},t.prototype.focus=function(){return this.getEditor().focus(),this},t.prototype.getContent=function(){var e=this.getEditor();return e&&e.getValue()},t.prototype.setContent=function(e,r){var i=this;r===void 0&&(r={});var o=this.editor;if(o){o.setValue(e);var a=this.get("autoFormat"),s=o.autoFormatRange&&(a===!0||Array.isArray(a)&&a.includes(this.get("codeName")));s&&(ug.commands.selectAll(o),o.autoFormatRange(o.getCursor(!0),o.getCursor(!1)),ug.commands.goDocStart(o)),!r.noRefresh&&setTimeout(function(){return i.refresh()})}},t}(Wt.Kx);const ROe=lD;lD.prototype.CodeMirror=ug;var FOe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),BOe=function(n,t){return Object.defineProperty?Object.defineProperty(n,"raw",{value:t}):n.raw=t,n},HOe=function(n){FOe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.template=function(e){var r=e.pfx,i=e.codeName,o=e.label;return Wa(d8||(d8=BOe([`
      <div class="`,'editor" id="',"",`">
        <div id="`,'title">',`</div>
        <div id="`,`code"></div>
      </div>
    `],[`
      <div class="`,'editor" id="',"",`">
        <div id="`,'title">',`</div>
        <div id="`,`code"></div>
      </div>
    `])),r,r,i,r,o,r)},t.prototype.initialize=function(e){this.config=e.config||{},this.pfx=this.config.stylePrefix},t.prototype.render=function(){var e,r,i=this,o=i.model,a=i.pfx,s=i.$el,l=o.toJSON(),c=o.get("input")||((r=(e=o).getElement)===null||r===void 0?void 0:r.call(e));return l.pfx=a,s.html(this.template(l)),s.attr("class","".concat(a,"editor-c")),s.find("#".concat(a,"code")).append(c),this},t}(Wt.Ss);const $Oe=HOe;var d8,UOe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),lb=function(){return lb=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},lb.apply(this,arguments)},VOe="CodeMirror",zOe=function(n){UOe(t,n);function t(e){var r=n.call(this,e,"CodeManager",TOe())||this;r.EditorView=$Oe;var i=r.config,o=i.pStylePrefix;return o&&(i.stylePrefix=o+i.stylePrefix),r.generators={},r.viewers={},r.defGenerators={html:new AOe,css:new $Te,json:new jOe,js:new DOe},r.defViewers={CodeMirror:new ROe},r.loadDefaultGenerators().loadDefaultViewers(),r}return t.prototype.addGenerator=function(e,r){return this.generators[e]=r,this},t.prototype.getGenerator=function(e){return this.generators[e]},t.prototype.getGenerators=function(){return this.generators},t.prototype.addViewer=function(e,r){return this.viewers[e]=r,this},t.prototype.getViewer=function(e){return this.viewers[e]},t.prototype.getViewers=function(){return this.viewers},t.prototype.createViewer=function(e){e===void 0&&(e={});var r=(0,we.isUndefined)(e.type)?VOe:e.type,i=this.getViewer(r)&&this.getViewer(r).clone(),o=document.createElement("div"),a=document.createElement("textarea");return o.appendChild(a),i.set(lb(lb({},this.config.optsCodeViewer),e)),i.init(a),i.setElement(o),i},t.prototype.updateViewer=function(e,r){e.setContent(r)},t.prototype.getCode=function(e,r,i){i===void 0&&(i={}),i.em=this.em;var o=this.getGenerator(r);return o?o.build(e,i):""},t.prototype.loadDefaultGenerators=function(){for(var e in this.defGenerators)this.addGenerator(e,this.defGenerators[e]);return this},t.prototype.loadDefaultViewers=function(){for(var e in this.defViewers)this.addViewer(e,this.defViewers[e]);return this},t.prototype.destroy=function(){},t}(ts);const WOe=zOe;var qOe=gn(4729),GOe=gn.n(qOe),KOe=function(){return{maximumStackLength:500,trackSelection:!0}};const YOe=KOe;var Va;(function(n){n.update="update",n.undo="undo",n.redo="redo",n.load="load",n.projectLoad="project:load",n.projectGet="project:get",n.log="log",n.telemetryInit="telemetry:init",n.destroy="destroy",n.destroyed="destroyed"})(Va||(Va={}));var XOe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Jc=function(){return Jc=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Jc.apply(this,arguments)},ZOe=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},Dm=function(n){return n.avoidStore||n.noUndo||n.partial},h8=function(n){return Object.keys(n.changedAttributes())},Im=new WeakMap,JOe=function(n){XOe(t,n);function t(e){var r=n.call(this,e,"UndoManager",YOe())||this;r.config._disable&&(r.config.maximumStackLength=0);var i=!0;return r.um=new(GOe())(Jc({track:!0,register:[]},r.config)),r.um.changeUndoType("change",{condition:function(o){var a=o.get("_undo");if(a){var s=o.get("_undoexc");if((0,we.isArray)(s)&&h8(o).some(function(l){return s.indexOf(l)>=0}))return!1;if((0,we.isBoolean)(a)||(0,we.isArray)(a)&&h8(o).some(function(l){return a.indexOf(l)>=0}))return!0}return!1},on:function(o,a,s){var l=Im.get(o);l||(l=o.previousAttributes(),Im.set(o,l));var c=s||a||{};if(c.noUndo&&setTimeout(function(){Im.delete(o)}),!Dm(c)){var u=o.toJSON({fromUndo:i}),f={object:o,before:l,after:u};return Im.delete(o),(0,we.isEmpty)(u)?void 0:f}}}),r.um.changeUndoType("add",{on:function(o,a,s){if(s===void 0&&(s={}),!(Dm(s)||!r.isRegistered(a)))return{object:a,before:void 0,after:o,options:Jc(Jc({},s),{fromUndo:i})}}}),r.um.changeUndoType("remove",{on:function(o,a,s){if(s===void 0&&(s={}),!(Dm(s)||!r.isRegistered(a)))return{object:a,before:o,after:void 0,options:Jc(Jc({},s),{fromUndo:i})}}}),r.um.changeUndoType("reset",{undo:function(o,a){o.reset(a,{fromUndo:i})},redo:function(o,a,s){o.reset(s,{fromUndo:i})},on:function(o,a){if(a===void 0&&(a={}),!(Dm(a)||!r.isRegistered(o)))return{object:o,before:a.previousModels,after:ZOe([],o.models,!0),options:Jc(Jc({},a),{fromUndo:i})}}}),r.um.on("undo redo",function(){e.getSelectedAll().map(function(o){return o.trigger("rerender:layer")})}),[Va.undo,Va.redo].forEach(function(o){return r.um.on(o,function(){return e.trigger(o)})}),r}return t.prototype.postLoad=function(){var e=this,r=e.config,i=e.em;r.trackSelection&&i&&this.add(i.get("selected"))},t.prototype.add=function(e){return this.um.register(e),this},t.prototype.remove=function(e){return this.um.unregister(e),this},t.prototype.removeAll=function(){return this.um.unregisterAll(),this},t.prototype.start=function(){return this.um.startTracking(),this},t.prototype.stop=function(){return this.um.stopTracking(),this},t.prototype.undo=function(e){e===void 0&&(e=!0);var r=this,i=r.em,o=r.um;return!i.isEditing()&&o.undo(e),this},t.prototype.undoAll=function(){return this.um.undoAll(),this},t.prototype.redo=function(e){e===void 0&&(e=!0);var r=this,i=r.em,o=r.um;return!i.isEditing()&&o.redo(e),this},t.prototype.redoAll=function(){return this.um.redoAll(),this},t.prototype.hasUndo=function(){return!!this.um.isAvailable("undo")},t.prototype.hasRedo=function(){return!!this.um.isAvailable("redo")},t.prototype.isRegistered=function(e){return!!this.getInstance().objectRegistry.isRegistered(e)},t.prototype.getStack=function(){return this.um.stack},t.prototype.getStackGroup=function(){var e=[],r=[];return this.getStack().forEach(function(i){var o=i.get("magicFusionIndex");r.indexOf(o)<0&&(r.push(o),e.push(i))}),e},t.prototype.skip=function(e){var r=!!this.um.isTracking();r&&this.stop(),e(),r&&this.start()},t.prototype.getGroupedStack=function(){var e={},r=this.getStack(),i=function(o,a){var s=o.attributes,l=s.type,c=s.after,u=s.before,f=s.object,h=s.options,d=h===void 0?{}:h;return{index:a,type:l,after:c,before:u,object:f,options:d}};return r.forEach(function(o,a){var s=o.get("magicFusionIndex"),l=i(o,a);e[s]?e[s].push(l):e[s]=[l]}),Object.keys(e).map(function(o){var a=e[o];return{index:a[a.length-1].index,actions:a,labels:(0,we.unique)(a.reduce(function(s,l){var c,u=(c=l.options)===null||c===void 0?void 0:c.action;return u&&s.push(u),s},[]))}})},t.prototype.goToGroup=function(e){var r=this;if(e){var i=this.getPointer(),o=e.index-i;(0,we.times)(Math.abs(o),function(){r[o<0?"undo":"redo"](!1)})}},t.prototype.getPointer=function(){return this.getStack().pointer},t.prototype.clear=function(){return this.um.clear(),this},t.prototype.getInstance=function(){return this.um},t.prototype.destroy=function(){this.clear().removeAll()},t}(ts);const QOe=JOe;var eAe=function(){return{stylePrefix:"rte-",adjustToolbar:!0,actions:["bold","italic","underline","strikethrough","link","wrap"],custom:!1}};const tAe=eAe;var Uh=function(){return Uh=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Uh.apply(this,arguments)},cb;(function(n){n[n.ACTIVE=1]="ACTIVE",n[n.INACTIVE=0]="INACTIVE",n[n.DISABLED=-1]="DISABLED"})(cb||(cb={}));var B5="_rte",ad={ACTIVE:1,INACTIVE:0,DISABLED:-1},Rm=function(n,t){t===void 0&&(t="A");var e=n.selection()||{},r=e.anchorNode,i=e.focusNode,o=r==null?void 0:r.parentNode,a=i==null?void 0:i.parentNode;return(o==null?void 0:o.nodeName)==t||(a==null?void 0:a.nodeName)==t},ub="data-selectme",Bv={bold:{name:"bold",icon:"<b>B</b>",attributes:{title:"Bold"},result:function(n){return n.exec("bold")}},italic:{name:"italic",icon:"<i>I</i>",attributes:{title:"Italic"},result:function(n){return n.exec("italic")}},underline:{name:"underline",icon:"<u>U</u>",attributes:{title:"Underline"},result:function(n){return n.exec("underline")}},strikethrough:{name:"strikethrough",icon:"<s>S</s>",attributes:{title:"Strike-through"},result:function(n){return n.exec("strikeThrough")}},link:{icon:`<svg viewBox="0 0 24 24">
          <path fill="currentColor" d="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z" />
        </svg>`,name:"link",attributes:{style:"font-size:1.4rem;padding:0 4px 2px;",title:"Link"},state:function(n){return n&&n.selection()&&Rm(n)?ad.ACTIVE:ad.INACTIVE},result:function(n){Rm(n)?n.exec("unlink"):n.insertHTML('<a href="" '.concat(ub,">").concat(n.selection(),"</a>"),{select:!0})}},wrap:{name:"wrap",icon:`<svg viewBox="0 0 24 24">
            <path fill="currentColor" d="M20.71,4.63L19.37,3.29C19,2.9 18.35,2.9 17.96,3.29L9,12.25L11.75,15L20.71,6.04C21.1,5.65 21.1,5 20.71,4.63M7,14A3,3 0 0,0 4,17C4,18.31 2.84,19 2,19C2.92,20.22 4.5,21 6,21A4,4 0 0,0 10,17A3,3 0 0,0 7,14Z" />
        </svg>`,attributes:{title:"Wrap for style"},state:function(n){return n!=null&&n.selection()&&Rm(n,"SPAN")?ad.DISABLED:ad.INACTIVE},result:function(n){!Rm(n,"SPAN")&&n.insertHTML("<span ".concat(ub,">").concat(n.selection(),"</span>"),{select:!0})}}},rAe=function(){function n(t,e,r){r===void 0&&(r={});var i=this;if(this.em=t,this.settings=r,e[B5])return e[B5];e[B5]=this,this.setEl(e),this.updateActiveActions=this.updateActiveActions.bind(this),this.__onKeydown=this.__onKeydown.bind(this),this.__onPaste=this.__onPaste.bind(this);var o=(r.actions||[]).map(function(u){var f=u;return(0,we.isString)(u)?f=Uh({},Bv[u]):Bv[u.name]&&(f=Uh(Uh({},Bv[u.name]),u)),f}),a=o.length?o:Object.keys(Bv).map(function(u){return Bv[u]});r.classes=Uh({actionbar:"actionbar",button:"action",active:"active",disabled:"disabled",inactive:"inactive"},r.classes);var s=r.classes,l=r.actionbar;if(this.actionbar=l,this.classes=s,this.actions=a,!l){if(!this.isCustom(r.module)){var c=r.actionbarContainer;l=document.createElement("div"),l.className=s.actionbar,c==null||c.appendChild(l),this.actionbar=l}a.forEach(function(u){return i.addAction(u)})}return r.styleWithCSS&&this.exec("styleWithCSS"),this}return n.prototype.isCustom=function(t){var e=t||this.em.RichTextEditor;return!!(e!=null&&e.config.custom||e!=null&&e.customRte)},n.prototype.destroy=function(){},n.prototype.setEl=function(t){this.el=t,this.doc=t.ownerDocument},n.prototype.updateActiveActions=function(){var t=this,e=this.getActions();e.forEach(function(r){var i=r.update,o=r.btn,a=t.classes,s=a.active,l=a.inactive,c=a.disabled,u=r.state,f=r.name,h=t.doc,d=cb.INACTIVE;if(o&&(o.className=o.className.replace(s,"").trim(),o.className=o.className.replace(l,"").trim(),o.className=o.className.replace(c,"").trim()),u){var m=u(t,h);if(d=m,o)switch(m){case ad.ACTIVE:o.className+=" ".concat(s);break;case ad.INACTIVE:o.className+=" ".concat(l);break;case ad.DISABLED:o.className+=" ".concat(c);break}}else h.queryCommandSupported(f)&&h.queryCommandState(f)&&(o&&(o.className+=" ".concat(s)),d=cb.ACTIVE);r.currentState=d,i==null||i(t,r)}),e.length&&this.em.RichTextEditor.__dbdTrgCustom()},n.prototype.enable=function(t){return this.enabled?this:this.__toggleEffects(!0,t)},n.prototype.disable=function(){return this.__toggleEffects(!1)},n.prototype.__toggleEffects=function(t,e){t===void 0&&(t=!1),e===void 0&&(e={});var r=t?Kt.on:Kt.AU,i=this,o=i.el,a=i.doc,s=this.actionbarEl();if(s&&(s.style.display=t?"":"none"),o.contentEditable="".concat(!!t),r(o,"mouseup keyup",this.updateActiveActions),r(a,"keydown",this.__onKeydown),r(a,"paste",this.__onPaste),this.enabled=t,t){var l=e.event;if(this.syncActions(),this.updateActiveActions(),l){var c=null;if(a.caretRangeFromPoint){var u=(0,Kt.G2)(l);c=a.caretRangeFromPoint(u.clientX,u.clientY)}else l.rangeParent&&(c=a.createRange(),c.setStart(l.rangeParent,l.rangeOffset));var f=a.getSelection();f==null||f.removeAllRanges(),c&&(f==null||f.addRange(c))}o.focus()}return this},n.prototype.__onKeydown=function(t){var e=this.em,r=e.RichTextEditor.getConfig().onKeydown;if(r)return r({ev:t,rte:this,editor:e.getEditor()});var i=this.doc,o=["insertOrderedList","insertUnorderedList"];t.key==="Enter"&&!o.some(function(a){return i.queryCommandState(a)})&&(i.execCommand("insertLineBreak"),t.preventDefault())},n.prototype.__onPaste=function(t){var e=this.em,r=e.RichTextEditor.getConfig().onPaste;if(r)return r({ev:t,rte:this,editor:e.getEditor()});var i=t.clipboardData,o=i.getData("text"),a=i.getData("text/html");if(o&&!a){t.preventDefault();var s=o.replace(/(?:\r\n|\r|\n)/g,"<br/>");this.doc.execCommand("insertHTML",!1,s)}},n.prototype.syncActions=function(){var t=this;this.getActions().forEach(function(e){if(t.actionbar&&(!e.state||e.state&&e.state(t,t.doc)>=0)){var r=e.event||"click",i=e.btn;i&&(i["on".concat(r)]=function(){e.result(t,e),t.updateActiveActions()})}})},n.prototype.addAction=function(t,e){e===void 0&&(e={});var r=e.sync,i=this.actionbarEl();if(i){var o=t.icon,a=t.attributes,s=a===void 0?{}:a,l=document.createElement("span");l.className=this.classes.button,t.btn=l;for(var c in s)l.setAttribute(c,s[c]);typeof o=="string"?l.innerHTML=o:l.appendChild(o),i.appendChild(l)}r&&(this.actions.push(t),this.syncActions())},n.prototype.getActions=function(){return this.actions},n.prototype.selection=function(){return this.doc.getSelection()},n.prototype.exec=function(t,e){this.doc.execCommand(t,!1,e)},n.prototype.actionbarEl=function(){return this.actionbar},n.prototype.insertHTML=function(t,e){var r=e===void 0?{}:e,i=r.select,o=this,a=o.em,s=o.doc,l=o.el,c=s.getSelection();if(c&&c.rangeCount){var u=(0,Et.getComponentModel)(l)||a.getSelected(),f=s.createElement("div"),h=c.getRangeAt(0);h.deleteContents(),(0,we.isString)(t)?f.innerHTML=t:t&&f.appendChild(t),Array.prototype.slice.call(f.childNodes).forEach(function(d){h.insertNode(d)}),c.removeAllRanges(),c.addRange(h),l.focus(),i&&u&&(u.once("rte:disable",function(){var d=u.find("[".concat(ub,"]"))[0];d&&(a.setSelected(d),d.removeAttributes(ub))}),u.trigger("disable"))}},n}();const nAe=rAe;var iAe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),fb=function(){return fb=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},fb.apply(this,arguments)},H5=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(a){a(o)})}return new(e||(e=Promise))(function(o,a){function s(u){try{c(r.next(u))}catch(f){a(f)}}function l(u){try{c(r.throw(u))}catch(f){a(f)}}function c(u){u.done?o(u.value):i(u.value).then(s,l)}c((r=r.apply(n,t||[])).next())})},$5=function(n,t){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(e=0)),e;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return e.label++,{value:c[1],done:!1};case 5:e.label++,i=c[1],c=[0];continue;case 7:c=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){e=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){e.label=c[1];break}if(c[0]===6&&e.label<o[1]){e.label=o[1],o=c;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(c);break}o[2]&&e.ops.pop(),e.trys.pop();continue}c=t.call(n,e)}catch(u){c=[6,u],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},oAe=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},U5="".concat(Zm.refresh," frame:scroll ").concat(Tn.I.update),aAe="rte:enable",sAe="rte:disable",lAe="rte:custom",cAe={enable:aAe,disable:sAe,custom:lAe},uAe=function(n){iAe(t,n);function t(e){var r=n.call(this,e,"RichTextEditor",tAe())||this;r.events=cAe;var i=r.config,o=i.pStylePrefix;o&&(i.stylePrefix=o+i.stylePrefix),r.pfx=i.stylePrefix,r.actions=i.actions||[];var a=new Wt.Kx;return r.model=a,a.on("change:currentView",r.__trgCustom,r),r.__dbdTrgCustom=(0,we.debounce)(function(){return r.__trgCustom()},0),r}return t.prototype.onLoad=function(){if((0,Et.hasWin)()){var e=this.config,r=e.pStylePrefix,i=e.custom,o=(0,Kt.a_)("div",{class:(0,Kt.cx)("".concat(r,"rte-toolbar"),!i&&"".concat(r,"one-bg ").concat(r,"rte-toolbar-ui"))});this.toolbar=o,this.initRte((0,Kt.a_)("div")),(0,Kt.on)(o,"mousedown",function(a){return a.stopPropagation()})}},t.prototype.__trgCustom=function(){var e=this,r=e.model,i=e.em,o=e.events;i.trigger(o.custom,{enabled:!!r.get("currentView"),container:this.getToolbarEl(),actions:this.getAll()})},t.prototype.destroy=function(){var e,r,i;(e=this.globalRte)===null||e===void 0||e.destroy(),(i=(r=this.customRte)===null||r===void 0?void 0:r.destroy)===null||i===void 0||i.call(r),this.model.stopListening().clear({silent:!0}),this.__dbdTrgCustom.cancel(),(0,Kt.YZ)(this.toolbar)},t.prototype.postRender=function(e){var r=e.model.get("Canvas");this.toolbar.style.pointerEvents="all",this.hideToolbar(),r.getToolsEl().appendChild(this.toolbar)},t.prototype.initRte=function(e){var r=this.globalRte,i=this,o=i.em,a=i.pfx,s=i.actionbar,l=i.config,c=this.actions||oAe([],l.actions,!0),u={actionbar:"".concat(a,"actionbar"),button:"".concat(a,"action"),active:"".concat(a,"active"),inactive:"".concat(a,"inactive"),disabled:"".concat(a,"disabled")};return r?(r.em=o,r.setEl(e)):(r=new nAe(o,e,{classes:u,actions:c,actionbar:s,actionbarContainer:this.toolbar,module:this}),this.globalRte=r),r.actionbar&&(this.actionbar=r.actionbar),r.actions&&(this.actions=r.actions),r},t.prototype.add=function(e,r){var i;r===void 0&&(r={}),r.name=e,(i=this.globalRte)===null||i===void 0||i.addAction(r,{sync:!0})},t.prototype.get=function(e){var r,i;return(r=this.globalRte)===null||r===void 0||r.getActions().forEach(function(o){o.name==e&&(i=o)}),i},t.prototype.getAll=function(){var e;return((e=this.globalRte)===null||e===void 0?void 0:e.getActions())||[]},t.prototype.remove=function(e){var r,i=this.getAll(),o=this.get(e);if(o){var a=o.btn,s=i.indexOf(o);(r=a==null?void 0:a.parentNode)===null||r===void 0||r.removeChild(a),i.splice(s,1)}return o},t.prototype.run=function(e){var r=this.globalRte,i=(0,we.isString)(e)?this.get(e):e;r&&i&&(i.result(r,i),r.updateActiveActions())},t.prototype.getToolbarEl=function(){return this.toolbar},t.prototype.updatePosition=function(){var e=this,r=e.em,i=e.toolbar,o="px",a=r.Canvas,s=i.style,l=a.getTargetToElementFixed(this.lastEl,i,{event:"rteToolbarPosUpdate",left:0});["top","left","bottom","right"].forEach(function(c){var u=l[c];(0,Et.isDef)(u)&&(s[c]=(0,we.isString)(u)?u:(u||0)+o)})},t.prototype.enable=function(e,r,i){return H5(this,void 0,void 0,function(){var o,a,s,l,c;return $5(this,function(u){switch(u.label){case 0:return this.lastEl=e.el,o=this,a=o.customRte,s=o.em,l=e.getChildrenContainer(),this.toolbar.style.display="",[4,a?a.enable(l,r,i):this.initRte(l).enable(i)];case 1:return c=u.sent(),s&&(setTimeout(this.updatePosition.bind(this),0),s.off(U5,this.updatePosition,this),s.on(U5,this.updatePosition,this),s.trigger("rte:enable",e,c)),this.model.set({currentView:e}),[2,c]}})})},t.prototype.getContent=function(e,r){return H5(this,void 0,void 0,function(){var i,o;return $5(this,function(a){switch(a.label){case 0:return i=this.customRte,o=e.getChildrenContainer(),i&&r&&(0,we.isFunction)(i.getContent)?[4,i.getContent(o,r,{view:e})]:[3,2];case 1:return[2,a.sent()];case 2:return[2,o.innerHTML]}})})},t.prototype.hideToolbar=function(){var e=this.toolbar.style,r="-1000px";e.top=r,e.left=r,e.display="none"},t.prototype.disable=function(e,r){return H5(this,arguments,void 0,function(i,o,a){var s,l,c,u;return a===void 0&&(a={}),$5(this,function(f){switch(f.label){case 0:return s={},l=this.em,c=this.customRte,c?[4,c.disable(i.getChildrenContainer(),o,fb(fb({},a),{view:i}))]:[3,2];case 1:return u=f.sent(),u&&(s=u),[3,3];case 2:o&&o.disable(),f.label=3;case 3:return this.hideToolbar(),l&&(l.off(U5,this.updatePosition,this),!a.fromMove&&l.trigger("rte:disable",i,o)),this.model.unset("currentView"),[2,s]}})})},t}(ts);const fAe=uAe;var dAe=function(){return{sectors:[{name:"General",open:!1,properties:["display","float","position","top","right","left","bottom"]},{name:"Flex",open:!1,properties:["flex-direction","flex-wrap","justify-content","align-items","align-content","order","flex-basis","flex-grow","flex-shrink","align-self"]},{name:"Dimension",open:!1,properties:["width","height","max-width","min-height","margin","padding"]},{name:"Typography",open:!1,properties:["font-family","font-size","font-weight","letter-spacing","color","line-height","text-align","text-shadow"]},{name:"Decorations",open:!1,properties:["background-color","border-radius","border","box-shadow","background"]},{name:"Extra",open:!1,properties:["opacity","transition","transform"]}],appendTo:"",stylePrefix:"sm-",custom:!1,hideNotStylable:!0,highlightChanged:!0,highlightComputed:!0,showComputed:!0,clearProperties:!0,avoidComputed:["width","height"]}};const hAe=dAe;var pAe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ya=function(){return ya=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ya.apply(this,arguments)},vAe=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e},p8=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},W4=function(n){pAe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.getDefaults=function(){return(0,we.result)(this.prototype,"defaults")},t.prototype.defaults=function(){return{name:"",property:"",type:"",defaults:"",info:"",value:"",icon:"",functionName:"",status:"",visible:!0,fixedValues:["initial","inherit"],full:!1,important:!1,toRequire:!1,requires:void 0,requiresParent:null,parentTarget:null}},t.prototype.initialize=function(e,r){e===void 0&&(e={}),r===void 0&&(r={}),this.em=r.em;var i=this.getId()||"",o=this.get("name")||this.get("label")||"";!this.get("property")&&this.set("property",(o||i).replace(/ /g,"-"));var a=this.get("property");!this.get("id")&&this.set("id",a),!o&&this.set("name",(0,Et.capitalize)(a).replace(/-/g," ")),this.on("change",this.__upTargets),t.callInit(this,e,r)},t.prototype.__getParentProp=function(){var e,r;return(r=(e=this.collection)===null||e===void 0?void 0:e.opts)===null||r===void 0?void 0:r.parentProp},t.prototype.__upTargets=function(e,r){var i,o=this;r===void 0&&(r={});var a=this.em,s=a.Styles,l=this.getName(),c=r.__clear,u=c?"":this.__getFullValue(r),f=this.__getParentProp(),h=this.changedAttributes(),d=(0,we.keys)(h).reduce(function(S,T){return S[T]=o.previous(T),S},{}),m=p8(p8([],(0,we.keys)(this.__getClearProps()),!0),["__p"],!1),g=(0,we.keys)(h),x=!r.__up&&!f&&(c||m.some(function(S){return g.indexOf(S)>=0})),b=this.get("onChange"),_={property:this,from:d,to:h,value:u,opts:r};s.__trgEv(s.events.propertyUpdate,_),b&&b(_),x&&this.__upTargetsStyle((i={},i[l]=u,i),r)},t.prototype.__upTargetsStyle=function(e,r){var i,o=(i=this.em)===null||i===void 0?void 0:i.get("StyleManager");o==null||o.addStyleTargets(ya(ya({},e),{__p:!!r.avoidStore}),r)},t.prototype._up=function(e,r){r===void 0&&(r={}),r.noTarget&&(r.__up=!0);var i=r.partial,o=vAe(r,["partial"]);return e.__p=!!(o.avoidStore||i),this.set(e,ya(ya({},o),{avoidStore:e.__p}))},t.prototype.up=function(e,r){r===void 0&&(r={}),this.set(e,ya(ya({},r),{__up:!0}))},t.prototype.init=function(){},t.prototype.getId=function(){return this.get("id")},t.prototype.getType=function(){return this.get("type")},t.prototype.getName=function(){return this.get("property")},t.prototype.getLabel=function(e){var r;e===void 0&&(e={});var i=e.locale,o=i===void 0?!0:i,a=this.getId(),s=this.get("name")||this.get("label");return o&&((r=this.em)===null||r===void 0?void 0:r.t("styleManager.properties.".concat(a)))||s},t.prototype.getValue=function(e){e===void 0&&(e={});var r=e.noDefault,i=this.get("value");return!this.hasValue()&&!r?this.getDefaultValue():i},t.prototype.hasValue=function(e){e===void 0&&(e={});var r=e.noParent,i=r&&this.getParentTarget(),o=this.get("value");return!(0,we.isUndefined)(o)&&o!==""&&!i},t.prototype.hasValueParent=function(){return this.hasValue()&&!this.hasValue({noParent:!0})},t.prototype.getStyle=function(e){var r;e===void 0&&(e={});var i=this.getName(),o=e.camelCase?(0,Et.camelCase)(i):i;return r={},r[o]=this.__getFullValue(e),r},t.prototype.getDefaultValue=function(){var e=this.get("default");return"".concat((0,we.isUndefined)(e)?this.get("defaults"):e)},t.prototype.upValue=function(e,r){r===void 0&&(r={});var i=e===null||e===""?this.__getClearProps():this.__parseValue(e,r);return this._up(i,r)},t.prototype.isVisible=function(){return!!this.get("visible")},t.prototype.clear=function(e){return e===void 0&&(e={}),this._up(this.__getClearProps(),ya(ya({},e),{__clear:!0})),this},t.prototype.canClear=function(){var e=this.getParent();return e?e.__canClearProp(this):this.hasValue({noParent:!0})},t.prototype.getParent=function(){return this.__getParentProp()},t.prototype.isFull=function(){return!!this.get("full")},t.prototype.__parseValue=function(e,r){return this.parseValue(e,r)},t.prototype.__getClearProps=function(){return{value:"",important:!1}},t.prototype.setValue=function(e,r,i){r===void 0&&(r=!0),i===void 0&&(i={});var o=this.parseValue(e),a=!r;!a&&this.set({value:void 0},{avoidStore:a,silent:!0}),this.set(o,ya({avoidStore:a},i))},t.prototype.setValueFromInput=function(e,r,i){i===void 0&&(i={}),this.setValue(e,r,ya(ya({},i),{fromInput:1}))},t.prototype.parseValue=function(e,r){r===void 0&&(r={});var i={value:e},o="!important",a=this.get("functionName")||"";if((0,we.isString)(e)&&e.indexOf(o)!==-1&&(i.value=e.replace(o,"").trim(),i.important=!0),!a&&!r.complete)return i;var s=[],l="".concat(i.value).trim(),c=l.indexOf("(")+1,u=a||l.substring(0,c-1);if(u&&(i.functionName=u),!a||l.indexOf("".concat(a,"("))===0){var f=l.lastIndexOf(")");s.push(c),f>=0&&s.push(f),i.value=String.prototype.substring.apply(l,s)}if(r.numeric){var h=parseFloat(i.value);i.unit=i.value.replace(h,""),i.value=h}return i},t.prototype.__getFullValue=function(e){var r=e===void 0?{}:e,i=r.withDefault;return!this.hasValue()&&i?this.getDefaultValue():this.getFullValue()},t.prototype.getFullValue=function(e,r){r===void 0&&(r={});var i=this.get("functionName"),o=this.getDefaultValue(),a=(0,we.isUndefined)(e)?this.get("value"):e,s=this.hasValue();if(a&&o&&a===o)return o;if(i&&s){var l=i==="url"?"'".concat(a.replace(/'|"/g,""),"'"):a;a="".concat(i,"(").concat(l,")")}return s&&this.get("important")&&!r.skipImportant&&(a="".concat(a," !important")),a||""},t.prototype.__setParentTarget=function(e){this.up({parentTarget:e})},t.prototype.getParentTarget=function(){return this.get("parentTarget")||null},t.prototype.__parseFn=function(e){e===void 0&&(e="");var r=e.indexOf("(")+1,i=e.lastIndexOf(")");return{name:e.substring(0,r-1).trim(),value:String.prototype.substring.apply(e,[r,i>=0?i:void 0]).trim()}},t.prototype.__checkVisibility=function(e){var r=e.target,i=e.component,o=e.sector,a=e.sectors,s=i||r;if(!s)return!1;var l=this.getId(),c=this.getName(),u=this.attributes,f=u.requires,h=u.requiresParent,d=u.toRequire,m=u.isVisible,g=s.get("unstylable"),x=s.get("stylable-require"),b=s.get("stylable");if((0,we.isFunction)(m))return!!m({property:this,sector:o,target:r,component:i});if((0,we.isArray)(b)&&(b=b.indexOf(c)>=0),(0,we.isArray)(g)&&(b=g.indexOf(c)<0),d&&(b=!r||x&&(x.indexOf(l)>=0||x.indexOf(c)>=0)),a&&f){var _=(0,we.keys)(f);a.forEach(function(w){w.getProperties().forEach(function(N){if((0,we.includes)(_,N.id)){var A=f[N.id];b=b&&(0,we.includes)(A,N.get("value"))}})})}if(h){var S=i&&i.parent(),T=S&&S.getEl();if(T){var C=(0,Et.hasWin)()?window.getComputedStyle(T):{};(0,we.each)(h,function(w,N){b=b&&C[N]&&(0,we.includes)(w,C[N])})}else b=!1}return!!b},t}(Wt.Kx);const ui=W4;W4.callParentInit=function(n,t,e,r){r===void 0&&(r={}),n.prototype.initialize.apply(t,[e,ya(ya({},r),{skipInit:1})])};W4.callInit=function(n,t,e){e===void 0&&(e={}),!e.skipInit&&n.init(t,e)};var gAe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Vh=function(){return Vh=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Vh.apply(this,arguments)},v8=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},cD=function(n){return n==="integer"||n==="number"},mAe=function(n){gAe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.defaults=function(){return Vh(Vh({},ui.getDefaults()),{detached:!1,properties:[],separator:" ",join:null,fromStyle:null,toStyle:null,full:!0})},t.prototype.initialize=function(e,r){e===void 0&&(e={}),r===void 0&&(r={}),ui.callParentInit(ui,this,e,r);var i=this.em,o=new G4(this.get("properties")||[],{em:i,parentProp:this});this.set("properties",o,{silent:!0}),this.listenTo(o,"change",this.__upProperties),ui.callInit(this,e,r)},Object.defineProperty(t.prototype,"properties",{get:function(){return this.get("properties")||[]},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(){return v8([],this.get("properties").models,!0)},t.prototype.getProperty=function(e){return this.properties.filter(function(r){return r.getId()===e||r.getName()===e})[0]},t.prototype.getPropertyAt=function(e){return this.get("properties").at(e)},t.prototype.isDetached=function(){return!!this.get("detached")},t.prototype.getValues=function(e){var r=e===void 0?{}:e,i=r.byName;return this.getProperties().reduce(function(o,a){var s=i?a.getName():a.getId();return o[s]="".concat(a.__getFullValue()),o},{})},t.prototype.getSeparator=function(){return this.getSplitSeparator()},t.prototype.getJoin=function(){return this.__getJoin()},t.prototype.getStyleFromProps=function(e){var r;e===void 0&&(e={});var i=this.getName(),o=this.__getJoin(),a=this.get("toStyle"),s=this.getValues(),l={};if(a)l=a(s,{join:o,name:i,property:this});else if(s=this.getValues({byName:!0}),this.isDetached())l=s;else{var c=this.getProperties().map(function(u){return u.__getFullValue({withDefault:1})}).filter(Boolean).join(o);l=(r={},r[i]=c,r)}return this.isDetached()?l[i]="":(l[i]=l[i]||"",l=Vh(Vh({},l),this.getProperties().reduce(function(u,f){return u[f.getName()]="",u},{}))),e.camelCase?Object.keys(l).reduce(function(u,f){return u[(0,Et.camelCase)(f)]=l[f],u},{}):l},t.prototype.getSplitSeparator=function(){return new RegExp("".concat(this.get("separator"),"(?![^\\(]*\\))"))},t.prototype.__upProperties=function(e,r){if(r===void 0&&(r={}),!(r.__up||r.__clearIn)){var i=this.__getParentProp();if(i)return i.__upProperties(this,r);this.__upTargetsStyleProps(r,e)}},t.prototype.__upTargetsStyleProps=function(e,r){var i;e===void 0&&(e={});var o=this.getStyleFromProps();if(this.isDetached()&&r){var a=r.getName();o=(i={},i[a]=o[a],i)}this.__upTargetsStyle(o,e)},t.prototype._up=function(e,r){return r===void 0&&(r={}),this.__setProperties(this.__getSplitValue(e.value),r),ui.prototype._up.call(this,e,r),this},t.prototype.getStyle=function(e){return this.getStyleFromProps(e)},t.prototype.__getFullValue=function(e){if(e===void 0&&(e={}),this.isDetached()||e.__clear)return"";var r=this.getStyleFromProps()[this.getName()]||"";return sS(r)},t.prototype.__getJoin=function(){var e=this.get("join");return(0,we.isString)(e)?e:this.get("separator")},t.prototype.__styleHasProps=function(e){e===void 0&&(e={});var r=this.getName(),i=this.getProperties(),o=i.map(function(s){return s.getName()}),a=v8([r],o,!0);return a.some(function(s){return!(0,we.isUndefined)(e[s])&&e[s]!==""})},t.prototype.__splitValue=function(e,r){return sS(e).split(r).map(function(i){return i.trim()}).filter(Boolean)},t.prototype.__splitStyleName=function(e,r,i){var o=e[r];return this.__splitValue(o||"",i)},t.prototype.__getSplitValue=function(e,r){e===void 0&&(e="");var i=r===void 0?{}:r,o=i.byName,a=this.getProperties(),s=a.length===4&&a.every(function(u){return cD(u.getType())}),l=this.__splitValue(e,this.getSplitSeparator()),c={};return a.forEach(function(u,f){var h=l[f],d=(0,we.isUndefined)(h)?"":h;if(s){var m=l.length;d=l[f]||l[f%m+(m!=1&&m%2?1:0)]||d}var g=o?u.getName():u.getId();c[g]=d||""}),c},t.prototype.__getPropsFromStyle=function(e,r){if(e===void 0&&(e={}),r===void 0&&(r={}),!this.__styleHasProps(e))return null;var i=r.byName,o=this.getName(),a=this.getProperties(),s=this.getSplitSeparator(),l=this.get("fromStyle"),c=l?l(e,{property:this,name:o,separator:s}):{};if(!l){var u=e[o];c=this.__getSplitValue(u||"",{byName:i}),a.forEach(function(f){var h=e[f.getName()],d=i?f.getName():f.getId();!(0,we.isUndefined)(h)&&h!==""&&(c[d]=h)})}return c},t.prototype.__setProperties=function(e,r){e===void 0&&(e={}),r===void 0&&(r={}),this.getProperties().forEach(function(o){var a=e[o.getId()];o.__getFullValue()!==a&&o.upValue(a,r)});var i=(0,we.keys)(e).map(function(o){return e[o]}).join(" ");this.set("value",i,{silent:!0})},t.prototype.clear=function(){var e=this;return this.getProperties().map(function(r){return r.clear({__clearIn:!e.isDetached()})}),ui.prototype.clear.call(this),this},t.prototype.hasValue=function(e){return this.getProperties().some(function(r){return r.hasValue(e)})},t.prototype.getFullValue=function(){return this.__getFullValue()},t.prototype.__canClearProp=function(e){return this.isDetached()&&e.hasValue({noParent:!0})},t}(ui);const wh=mAe;var yAe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ha=function(){return Ha=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Ha.apply(this,arguments)},bAe=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e},xAe=/,(?![^\(]*\))/,wAe=/\s(?![^(]*\))/,_Ae=function(n){yAe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.defaults=function(){return Ha(Ha({},wh.getDefaults()),{layers:[],emptyValue:"unset",layerSeparator:", ",layerJoin:"",prepend:0,preview:!1,layerLabel:null,selectedLayer:null})},t.prototype.initialize=function(e,r){e===void 0&&(e={}),r===void 0&&(r={}),wh.callParentInit(wh,this,e,r);var i=this.get("layers"),o=new t0(i,{prop:this});o.property=this,o.properties=this.get("properties"),this.set("layers",o,{silent:!0}),this.on("change:selectedLayer",this.__upSelected),this.listenTo(o,"add remove",this.__upLayers),wh.callInit(this,e,r)},Object.defineProperty(t.prototype,"layers",{get:function(){return this.get("layers")},enumerable:!1,configurable:!0}),t.prototype.getLayers=function(){return this.layers.models},t.prototype.hasLayers=function(){return this.getLayers().length>0},t.prototype.getLayer=function(e){return e===void 0&&(e=0),this.layers.at(e)||void 0},t.prototype.getSelectedLayer=function(){var e=this.get("selectedLayer");return e&&e.getIndex()>=0?e:void 0},t.prototype.selectLayer=function(e){return this.set("selectedLayer",e,{__select:!0})},t.prototype.selectLayerAt=function(e){e===void 0&&(e=0);var r=this.getLayer(e);return r&&this.selectLayer(r)},t.prototype.moveLayer=function(e,r){r===void 0&&(r=0);var i=this.layers,o=e?e.getIndex():-1;o>=0&&(0,we.isNumber)(r)&&r>=0&&r<i.length&&o!==r&&(this.removeLayer(e),i.add(e,{at:r}))},t.prototype.addLayer=function(e,r){e===void 0&&(e={}),r===void 0&&(r={});var i={};this.getProperties().forEach(function(a){var s=a.getId(),l=e[s];i[s]=(0,we.isUndefined)(l)?a.getDefaultValue():l});var o=this.layers.push({values:i},r);return o},t.prototype.removeLayer=function(e){return this.layers.remove(e)},t.prototype.removeLayerAt=function(e){e===void 0&&(e=0);var r=this.getLayer(e);return r?this.removeLayer(r):null},t.prototype.getLayerLabel=function(e){var r="";if(e){var i=this.get("layerLabel"),o=e.getValues(),a=e.getIndex();if(i)r=i(e,{index:a,values:o,property:this});else{var s=[];this.getProperties().map(function(l){s.push(o[l.getId()])}),r=s.filter(Boolean).join(" ")}}return r},t.prototype.getStyleFromLayer=function(e,r){var i;r===void 0&&(r={});var o=this.__getJoin(),a=this.__getJoinLayers(),s=this.get("toStyle"),l=this.getName(),c=e.getValues(),u;if(s)u=s(c,{join:o,joinLayers:a,name:l,layer:e,property:this});else{var f=this.getProperties().map(function(h){var d=h.getName(),m=c[h.getId()],g=(0,we.isUndefined)(m)?h.getDefaultValue():m;if(r.number&&cD(h.getType())){var x=h.parseValue(m,r.number);g="".concat(x.value).concat(x.unit)}return{name:d,value:g}});u=this.isDetached()?f.reduce(function(h,d){return h[d.name]=d.value,h},{}):(i={},i[this.getName()]=f.map(function(h){return h.value}).join(o),i)}return r.camelCase?Object.keys(u).reduce(function(h,d){return h[(0,Et.camelCase)(d)]=u[d],h},{}):u},t.prototype.getStylePreview=function(e,r){r===void 0&&(r={});var i={},o=this.get("preview");return o&&(i=this.getStyleFromLayer(e,r)),i},t.prototype.getLayerSeparator=function(){var e=this.get("layerSeparator");return(0,we.isString)(e)?new RegExp("".concat(e,"(?![^\\(]*\\))")):e},t.prototype.hasEmptyValue=function(){return!this.hasLayers()&&!!this.attributes.isEmptyValue},t.prototype.__upProperties=function(e,r){var i;r===void 0&&(r={});var o=this.getSelectedLayer();o&&(o.upValues((i={},i[e.getId()]=e.__getFullValue(),i)),!r.__up&&this.__upTargetsStyleProps(r))},t.prototype.__upLayers=function(e,r,i){this.__upTargetsStyleProps(i||r)},t.prototype.__upTargets=function(e,r){if(r===void 0&&(r={}),!r.__select)return ui.prototype.__upTargets.call(this,e,r)},t.prototype.__upTargetsStyleProps=function(e){e===void 0&&(e={}),this.__upTargetsStyle(this.getStyleFromLayers(e),e)},t.prototype.__upTargetsStyle=function(e,r){return ui.prototype.__upTargetsStyle.call(this,e,r)},t.prototype.__upSelected=function(e,r){var i=e===void 0?{}:e,o=i.noEvent;r===void 0&&(r={});var a=this.em.Styles,s=this.getSelectedLayer(),l=s==null?void 0:s.getValues();l&&this.getProperties().forEach(function(c){var u,f=(u=l[c.getId()])!==null&&u!==void 0?u:"";c.__getFullValue()!==f&&c.upValue(f,Ha(Ha({},r),{__up:!0}))}),!o&&a.__trgEv(a.events.layerSelect,{property:this})},t.prototype._up=function(e,r){r===void 0&&(r={});var i=e.__layers,o=i===void 0?[]:i,a=bAe(e,["__layers"]);return!this.isDetached()&&this.__setLayers(o),this.__upSelected({noEvent:!0},r),ui.prototype._up.call(this,a,r),this},t.prototype.__setLayers=function(e,r){e===void 0&&(e=[]),r===void 0&&(r={});var i=this.layers,o=e.map(function(a){return{values:a}});i.length===o.length?o.map(function(a,s){var l;return(l=i.at(s))===null||l===void 0?void 0:l.upValues(a.values)}):i.reset(o),this.set({isEmptyValue:!!r.isEmptyValue}),this.__upSelected({noEvent:!0})},t.prototype.__parseValue=function(e){var r=this,i=this.parseValue(e);return i.__layers=e.split(xAe).map(function(o){return o.trim()}).map(function(o){return r.__parseLayer(o)}).filter(Boolean),i},t.prototype.__parseLayer=function(e){var r=this.get("parseLayer"),i=e.split(wAe),o=this.getProperties();return r?r({value:e,values:i}):o.reduce(function(a,s,l){var c=i[l];return a[s.getId()]=(0,we.isUndefined)(c)?s.getDefaultValue():c,a},{})},t.prototype.__getLayersFromStyle=function(e){var r=this;if(e===void 0&&(e={}),!this.__styleHasProps(e))return null;if(this.isEmptyValueStyle(e))return[];var i=this.getName(),o=this.getProperties(),a=this.getLayerSeparator(),s=this.attributes.fromStyle,l=s?s(e,{property:this,name:i,separatorLayers:a}):[];if(!s){var c=this.__splitStyleName(e,i,a).map(function(u){return u.split(r.getSplitSeparator())}).map(function(u){var f={};return o.forEach(function(h,d){var m=u[d];f[h.getId()]=(0,we.isUndefined)(m)?h.getDefaultValue():m}),f});o.forEach(function(u){var f=u.getId();r.__splitStyleName(e,u.getName(),a).map(function(h){var d;return d={},d[f]=h||u.getDefaultValue(),d}).forEach(function(h,d){c[d]=c[d]?Ha(Ha({},c[d]),h):h})}),l=c}return(0,we.isArray)(l)?l:[l]},t.prototype.getStyle=function(e){return e===void 0&&(e={}),this.getStyleFromLayers(e)},t.prototype.getStyleFromLayers=function(e){var r=this;e===void 0&&(e={});var i={},o=this.getName(),a=this.getLayers(),s=this.getProperties(),l=a.map(function(u){return r.getStyleFromLayer(u,e)});if(l.forEach(function(u){(0,we.keys)(u).map(function(f){i[f]||(i[f]=[]),i[f].push(u[f])})}),(0,we.keys)(i).map(function(u){i[u]=i[u].join(r.__getJoinLayers())}),this.isDetached())i[o]="",!a.length&&s.map(function(u){i[u.getName()]=""});else{var c=s.reduce(function(u,f){return u[f.getName()]="",u},{});i[o]=i[o]||"",i=Ha(Ha({},i),c)}return Ha(Ha({},i),e.__clear?{}:this.getEmptyValueStyle())},t.prototype.isEmptyValueStyle=function(e){e===void 0&&(e={});var r=this.getEmptyValueStyle({force:!0}),i=(0,we.keys)(r);return!!i.length&&i.every(function(o){return r[o]===e[o]})},t.prototype.getEmptyValueStyle=function(e){e===void 0&&(e={});var r=this.attributes.emptyValue;if(r&&(!this.hasLayers()||e.force)){var i=this.getName(),o=this.getProperties(),a=(0,we.isString)(r)?r:r({property:this});if((0,we.isString)(a)){var s={};return this.isDetached()?o.map(function(l){s[l.getName()]=a}):s[i]=a,s}else return a}else return{}},t.prototype.__getJoinLayers=function(){var e=this.get("layerJoin"),r=this.get("layerSeparator");return e||((0,we.isString)(r)?r:e)},t.prototype.__getFullValue=function(){if(this.get("detached"))return"";var e=this.getStyleFromLayers();return sS(e[this.getName()])},t.prototype.hasValue=function(e){e===void 0&&(e={});var r=e.noParent,i=r&&this.getParentTarget();return(this.hasLayers()||this.hasEmptyValue())&&!i},t.prototype.clear=function(e){return e===void 0&&(e={}),this.layers.reset(),this.__upTargetsStyleProps(Ha(Ha({},e),{__clear:!0})),ui.prototype.clear.call(this),this},t.prototype.__canClearProp=function(){return!1},t.prototype.__getLayers=function(){return this.layers},t}(wh);const SAe=_Ae;var TAe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),db=function(){return db=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},db.apply(this,arguments)},CAe=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e},EAe=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},V5="data-clear-style",OAe=function(n){TAe(t,n);function t(e){e===void 0&&(e={});var r=n.call(this,e)||this;(0,we.bindAll)(r,"__change","__updateStyle");var i=e.config||{},o=i.em;r.config=i,r.em=o,r.pfx=i.stylePrefix||"",r.ppfx=i.pStylePrefix||"",r.__destroyFn=r.destroy?r.destroy.bind(r):function(){};var a=r.model;a.view=r,r.onValueChange=(0,we.debounce)(r.onValueChange.bind(r),10),r.updateStatus=(0,we.debounce)(r.updateStatus.bind(r),0),r.listenTo(a,"destroy remove",r.remove),r.listenTo(a,"change:visible",r.updateVisibility),r.listenTo(a,"change:name change:className change:full",r.render),r.listenTo(a,"change:value",r.onValueChange),r.listenTo(a,"change:parentTarget",r.updateStatus),r.listenTo(o,"change:device",r.onValueChange);var s=r.init&&r.init.bind(r);return s&&s(),r}return t.prototype.events=function(){var e;return e={change:"inputValueChanged"},e["click [".concat(V5,"]")]="clear",e},t.prototype.template=function(e){var r=this,i=r.pfx,o=r.ppfx;return`
      <div class="`.concat(i,`label" data-sm-label></div>
      <div class="`).concat(o,`fields" data-sm-fields></div>
    `)},t.prototype.templateLabel=function(e){var r=this,i=r.pfx,o=r.em,a=e.parent,s=e.attributes,l=s.icon,c=l===void 0?"":l,u=s.info,f=u===void 0?"":u,h=o==null?void 0:o.getConfig().icons,d=(h==null?void 0:h.close)||"";return`
      <span class="`.concat(i,"icon ").concat(c,'" title="').concat(f,`">
        `).concat(e.getLabel(),`
      </span>
      `).concat(a?"":'<div class="'.concat(i,'clear" style="display: none" ').concat(V5,">").concat(d,"</div>"),`
    `)},t.prototype.templateInput=function(e){return`
      <div class="`.concat(this.ppfx,`field">
        <input placeholder="`).concat(e.getDefaultValue(),`"/>
      </div>
    `)},t.prototype.remove=function(){var e=this;return Wt.Ss.prototype.remove.apply(this,arguments),["em","input","$input","view"].forEach(function(r){return e[r]=null}),this.__destroyFn(this._getClbOpts()),this},t.prototype.updateStatus=function(){var e,r=this,i=r.model,o=r.pfx,a=r.ppfx,s=r.config,l="".concat(a,"four-color"),c="".concat(a,"color-warn"),u=this.$el.children(".".concat(o,"label")),f=this.getClearEl(),h=f?f.style:{};u.removeClass("".concat(l," ").concat(c)),h.display="none",i.hasValue({noParent:!0})&&s.highlightChanged?(u.addClass(l),s.clearProperties&&(h.display="")):i.hasValue()&&s.highlightComputed&&u.addClass(c),(e=this.parent)===null||e===void 0||e.updateStatus()},t.prototype.clear=function(e){e&&e.stopPropagation(),this.model.clear()},t.prototype.getClearEl=function(){return this.clearEl||(this.clearEl=this.el.querySelector("[".concat(V5,"]"))),this.clearEl},t.prototype.inputValueChanged=function(e){e&&e.stopPropagation(),!this.emit&&this.model.upValue(e.target.value)},t.prototype.onValueChange=function(e,r,i){this.setValue(this.model.getFullValue(void 0,{skipImportant:!0})),this.updateStatus()},t.prototype.setValue=function(e){var r=this.model,i=(0,we.isUndefined)(e)||e===""?r.getDefaultValue():e;if(this.update)return this.__update(i);this.__setValueInput(i)},t.prototype.__setValueInput=function(e){var r=this.getInputEl();r&&(r.value=e)},t.prototype.getInputEl=function(){return this.input||(this.input=this.el.querySelector("input")),this.input},t.prototype.updateVisibility=function(){this.el.style.display=this.model.isVisible()?"":"none"},t.prototype.clearCached=function(){delete this.clearEl,delete this.input,delete this.$input},t.prototype.__unset=function(){var e=this.unset&&this.unset.bind(this);e&&e(this._getClbOpts())},t.prototype.__update=function(e){var r=this.update&&this.update.bind(this);r&&r(db(db({},this._getClbOpts()),{value:e}))},t.prototype.__change=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var i=this.emit&&this.emit.bind(this);i&&i.apply(void 0,EAe([this._getClbOpts()],e,!1))},t.prototype.__updateStyle=function(e,r){r===void 0&&(r={});var i=r.complete,o=r.partial;CAe(r,["complete","partial"]);var a=this.model,s=i!==!1&&o!==!0;(0,Et.isObject)(e)?a.__upTargetsStyle(e,{avoidStore:!s}):a.upValue(e,{partial:!s})},t.prototype._getClbOpts=function(){var e=this,r=e.model,i=e.el,o=e.createdEl;return{el:i,createdEl:o,property:r,props:r.attributes,change:this.__change,updateStyle:this.__updateStyle}},t.prototype.render=function(){this.clearCached();var e=this,r=e.pfx,i=e.model,o=e.el,a=e.$el,s=i.getName(),l=i.getType(),c=i.get("className")||"",u="".concat(r,"property"),f=l==="number"?"".concat(r).concat(l," ").concat(r,"integer"):"".concat(r).concat(l);this.createdEl&&this.__destroyFn(this._getClbOpts()),a.empty().append(this.template(i)),a.find("[data-sm-label]").append(this.templateLabel(i));var h=this.create&&this.create.bind(this);this.createdEl=h&&h(this._getClbOpts()),a.find("[data-sm-fields]").append(this.createdEl||this.templateInput(i)),o.className="".concat(u," ").concat(f," ").concat(u,"__").concat(s," ").concat(c).trim(),o.className+=i.isFull()?" ".concat(u,"--full"):"";var d=this.onRender&&this.onRender.bind(this);return d&&d(),this.setValue(i.getValue()),this},t.prototype.onRender=function(){},t}(Wt.Ss);const lu=OAe;var AAe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),NAe=function(n){AAe(t,n);function t(e){var r=n.call(this,e)||this;r.config=e.config||{},r.pfx=r.config.stylePrefix||"",r.properties=[],r.parent=e.parent;var i=r.collection;return r.listenTo(i,"add",r.addTo),r.listenTo(i,"reset",r.render),r}return t.prototype.addTo=function(e,r,i){this.add(e,null,i)},t.prototype.add=function(e,r,i){i===void 0&&(i={});var o=this,a=o.parent,s=o.config,l=r||this.el,c=new e.typeView({model:e,config:s});a&&(c.parent=a),c.render();var u=c.el;this.properties.push(c),(0,Kt.Sc)(l,u,i.at)},t.prototype.remove=function(){return Wt.Ss.prototype.remove.apply(this,arguments),this.clearItems(),this},t.prototype.clearItems=function(){this.properties.forEach(function(e){return e.remove()}),this.properties=[]},t.prototype.render=function(){var e=this,r=this,i=r.$el,o=r.pfx;this.clearItems();var a=document.createDocumentFragment();return this.collection.forEach(function(s){return e.add(s,a)}),i.empty(),i.append(a),i.attr("class","".concat(o,"properties")),this},t}(Wt.Ss);const q4=NAe;var PAe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),hb=function(){return hb=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},hb.apply(this,arguments)},jAe=function(n){PAe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.templateInput=function(){var e=this.pfx;return`
      <div class="`.concat(e,"field ").concat(e,`composite">
        <span id="`).concat(e,`input-holder"></span>
      </div>
    `)},t.prototype.remove=function(){var e;return(e=this.props)===null||e===void 0||e.remove(),lu.prototype.remove.apply(this,arguments),this},t.prototype.onValueChange=function(){},t.prototype.onRender=function(){var e=this.pfx,r=this.model,i=r.get("properties");if(i.length&&!this.props){var o=r.isDetached(),a=new q4({config:hb(hb({},this.config),{highlightComputed:o,highlightChanged:o}),collection:i,parent:this});a.render(),this.$el.find("#".concat(e,"input-holder")).append(a.el),this.props=a}},t.prototype.clearCached=function(){lu.prototype.clearCached.apply(this,arguments),delete this.props},t}(lu);const Wv=jAe;var kAe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),MAe=function(n){kAe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.events=function(){return{click:"select","click [data-close-layer]":"removeItem","mousedown [data-move-layer]":"initSorter","touchstart [data-move-layer]":"initSorter"}},t.prototype.template=function(){var e=this,r=e.pfx,i=e.ppfx,o=e.em,a=o==null?void 0:o.getConfig().icons,s=(a==null?void 0:a.close)||"",l=(a==null?void 0:a.move)||"";return`
      <div class="`.concat(r,`label-wrp">
        <div id="`).concat(r,'move" class="').concat(i,`no-touch-actions" data-move-layer>
          `).concat(l,`
        </div>
        <div id="`).concat(r,`label" data-label></div>
        <div id="`).concat(r,'preview-box" class="').concat(r,`layer-preview" style="display: none" data-preview-box>
          <div id="`).concat(r,'preview" class="').concat(r,`layer-preview-cnt" data-preview></div>
        </div>
        <div id="`).concat(r,'close-layer" class="').concat(r,`btn-close" data-close-layer>
          `).concat(s,`
        </div>
      </div>
      <div id="`).concat(r,`inputs" data-properties></div>
    `)},t.prototype.initialize=function(e){e===void 0&&(e={});var r=this.model,i=e.config||{};this.em=i.em,this.config=i,this.sorter=e.sorter,this.pfx=i.stylePrefix||"",this.ppfx=i.pStylePrefix||"",this.propertyView=e.propertyView;var o=this.propertyView.model;this.listenTo(r,"destroy remove",this.remove),this.listenTo(r,"change:values",this.updateLabel),this.listenTo(o,"change:selectedLayer",this.updateVisibility),r.view=this,r.set({droppable:0,draggable:1}),this.$el.data("model",r)},t.prototype.initSorter=function(){var e;(e=this.sorter)===null||e===void 0||e.startSort([{element:this.el}])},t.prototype.removeItem=function(e){e&&e.stopPropagation(),this.model.remove()},t.prototype.select=function(){this.model.select()},t.prototype.getPropertiesWrapper=function(){return this.propsWrapEl||(this.propsWrapEl=this.el.querySelector("[data-properties]")),this.propsWrapEl},t.prototype.getPreviewEl=function(){return this.previewEl||(this.previewEl=this.el.querySelector("[data-preview]")),this.previewEl},t.prototype.getLabelEl=function(){return this.labelEl||(this.labelEl=this.el.querySelector("[data-label]")),this.labelEl},t.prototype.updateLabel=function(){var e=this.model,r=e.getLabel();if(this.getLabelEl().innerHTML=r,e.hasPreview()){var i=this.getPreviewEl(),o=e.getStylePreview({number:{min:-3,max:3}}),a=(0,we.keys)(o).map(function(s){return"".concat(s,":").concat(o[s])}).join(";");i.setAttribute("style",a)}},t.prototype.updateVisibility=function(){var e,r=this,i=r.pfx,o=r.model,a=r.propertyView,s=this.getPropertiesWrapper(),l=o.isSelected();s.style.display=l?"":"none",this.$el[l?"addClass":"removeClass"]("".concat(i,"active")),l&&s.appendChild((e=a.props)===null||e===void 0?void 0:e.el)},t.prototype.render=function(){var e=this,r=e.el,i=e.pfx,o=e.model;return r.innerHTML=this.template(),r.className="".concat(i,"layer"),o.hasPreview()&&(r.querySelector("[data-preview-box]").style.display=""),this.updateLabel(),this.updateVisibility(),this},t}(Wt.Ss);const LAe=MAe;var DAe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),IAe=function(n){DAe(t,n);function t(e){var r=n.call(this,e)||this,i=r.collection,o=e.config||{},a=o.em,s=o.stylePrefix||"",l=o.pStylePrefix||"";r.config=o,r.pfx=s,r.ppfx=l,r.propertyView=e.propertyView,r.className="".concat(s,"layers ").concat(l,"field"),r.listenTo(i,"add",r.addTo),r.listenTo(i,"reset",r.reset),r.items=[];var c=r.createPlaceholder(o.pStylePrefix);r.$el.append(c);var u=a==null?void 0:a.Utils;return r.sorter=u?new u.StyleManagerSorter({em:a,containerContext:{container:r.el,containerSel:".".concat(s,"layers"),itemSel:".".concat(s,"layer"),pfx:o.pStylePrefix,document,placeholderElement:c},dragBehavior:{dragDirection:kd.A.Vertical,nested:!1}}):void 0,i.view=r,r.$el.data("model",i),r.$el.data("collection",i),r}return t.prototype.addTo=function(e){var r=this.collection.indexOf(e);this.addToCollection(e,null,r)},t.prototype.addToCollection=function(e,r,i){var o=r||null,a=this,s=a.propertyView,l=a.config,c=a.sorter,u=a.$el,f=new LAe({model:e,config:l,sorter:c,propertyView:s}),h=f.render().el;if(this.items.push(f),o)o.appendChild(h);else if(typeof i<"u"){var d="before";u.children().length===i&&(i--,d="after"),i<0?u.append(h):u.children().eq(i)[d](h)}else u.append(h);return h},t.prototype.reset=function(e,r){this.clearItems(),this.render()},t.prototype.remove=function(){return this.clearItems(),Wt.Ss.prototype.remove.apply(this,arguments),this},t.prototype.clearItems=function(){this.items.forEach(function(e){return e.remove()}),this.items=[]},t.prototype.render=function(){var e=this,r=this.$el,i=document.createDocumentFragment();return r.empty(),this.collection.forEach(function(o){return e.addToCollection(o,i)}),r.append(i),r.attr("class",this.className),this},t.prototype.createPlaceholder=function(e){var r=document.createElement("div"),i=document.createElement("div");return this.el.parentNode,r.className=e+"placeholder",r.style.display="none",r.style.pointerEvents="none",i.className=e+"placeholder-int",r.appendChild(i),r},t}(Wt.Ss);const RAe=IAe;var FAe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),zh=function(){return zh=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},zh.apply(this,arguments)},BAe=function(n){FAe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.events=function(){return zh(zh({},Wv.prototype.events()),{"click [data-add-layer]":"addLayer",change:""})},t.prototype.templateInput=function(){var e=this,r=e.pfx,i=e.em,o=i==null?void 0:i.getConfig().icons,a=(o==null?void 0:o.plus)||"+";return`
      <div class="`.concat(r,"field ").concat(r,`stack">
        <button type="button" id="`).concat(r,`add" data-add-layer>
          `).concat(a,`
        </button>
        <div data-layers-wrapper></div>
      </div>
    `)},t.prototype.init=function(){var e=this.model;this.listenTo(e.layers,"change reset",this.updateStatus),this.listenTo(e,"change:isEmptyValue",this.updateStatus)},t.prototype.addLayer=function(){this.model.addLayer({},{at:0})},t.prototype.setValue=function(){},t.prototype.remove=function(){var e;return(e=this.layersView)===null||e===void 0||e.remove(),Wv.prototype.remove.apply(this,arguments),this},t.prototype.clearCached=function(){Wv.prototype.clearCached.apply(this,arguments),delete this.layersView},t.prototype.onRender=function(){var e=this,r=e.model,i=e.el,o=e.config,a=r.get("properties");if(a.length&&!this.props){var s=new q4({config:zh(zh({},o),{highlightComputed:!1,highlightChanged:!1}),collection:a,parent:this});s.render();var l=new RAe({collection:r.layers,config:o,propertyView:this});l.render();var c=i.querySelector("[data-layers-wrapper]");c.appendChild(l.el),this.props=s,this.layersView=l}},t}(Wv);const HAe=BAe;var $Ae=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),pb=function(){return pb=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},pb.apply(this,arguments)},UAe=function(n){$Ae(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.events=function(){return pb(pb({},lu.prototype.events()),{"click [data-clear-asset]":"clear","click [data-open-assets]":"openAssetManager"})},t.prototype.templateInput=function(){var e,r=this,i=r.pfx,o=r.em,a=(e=this.em)===null||e===void 0?void 0:e.getConfig().icons,s=a==null?void 0:a.close;return`
      <div class="`.concat(i,"field ").concat(i,`file">
        <div id='`).concat(i,`input-holder'>
          <div class="`).concat(i,`btn-c">
            <button class="`).concat(i,'btn" id="').concat(i,`images" type="button" data-open-assets>
              `).concat(o.t("styleManager.fileButton"),`
            </button>
          </div>
          <div style="clear:both;"></div>
        </div>
        <div id="`).concat(i,'preview-box" class="').concat(i,`preview-file" data-preview-box>
          <div id="`).concat(i,'preview-file" class="').concat(i,`preview-file-cnt" data-preview></div>
          <div id="`).concat(i,'close" class="').concat(i,'preview-file-close" data-clear-asset>').concat(s,`</div>
        </div>
      </div>
    `)},t.prototype.__setValueInput=function(e){var r=this,i=r.model,o=r.el,a=i.getDefaultValue(),s=o.querySelector("[data-preview-box]"),l=o.querySelector("[data-preview]");s.style.display=!e||e===a?"none":"",l.style.backgroundImage=e||i.getDefaultValue()},t.prototype.openAssetManager=function(){var e=this,r,i=(r=this.em)===null||r===void 0?void 0:r.Assets;i==null||i.open({select:function(o,a){var s=(0,we.isString)(o)?o:o.get("src");e.model.upValue(s,{partial:!a}),a&&i.close()},types:["image"],accept:"image/*"})},t}(lu);const VAe=UAe;var zAe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),WAe=function(n){zAe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.templateInput=function(e){return""},t.prototype.init=function(){var e=this.model;this.listenTo(e,"change:unit",this.onValueChange),this.listenTo(e,"change:units",this.render)},t.prototype.setValue=function(e){},t.prototype.onRender=function(){var e=this,r=e.ppfx,i=e.model,o=e.el;if(!this.inputInst){var a=i.input;a.ppfx=r,a.render();var s=o.querySelector(".".concat(r,"fields"));s.appendChild(a.el),this.input=a.inputEl.get(0),this.inputInst=a}},t.prototype.clearCached=function(){lu.prototype.clearCached.apply(this,arguments),this.inputInst=null},t}(lu);const Qc=WAe;var qAe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),GAe=function(n){qAe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.setValue=function(e){var r;(r=this.inputInst)===null||r===void 0||r.setValue(e,{fromTarget:1,def:this.model.getDefaultValue()})},t.prototype.remove=function(){var e=this;Qc.prototype.remove.apply(this,arguments);var r=this.inputInst;return r&&r.remove&&r.remove(),["inputInst","$color"].forEach(function(i){return e[i]=null}),this},t.prototype.__handleChange=function(e,r){this.model.upValue(e,{partial:r})},t.prototype.onRender=function(){var e;if(!this.inputInst){this.__handleChange=this.__handleChange.bind(this);var r=this,i=r.ppfx,o=r.model,a=r.em,s=r.el,l=new LL({target:a,model:o,ppfx:i,onChange:this.__handleChange}),c=l.render();s.querySelector(".".concat(i,"fields")).appendChild(c.el),this.input=(e=c.inputEl)===null||e===void 0?void 0:e.get(0),this.inputInst=c}},t}(Qc);const KAe=GAe;var YAe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),vb=function(){return vb=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},vb.apply(this,arguments)},g8=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},XAe=function(n){YAe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.defaults=function(){return vb(vb({},ui.getDefaults()),{options:[],full:0})},t.prototype.getOptions=function(){var e=this.attributes,r=e.options,i=e.list;return(r&&r.length?r:i)||[]},t.prototype.getOption=function(e){var r=this,i=(0,Et.isDef)(e)?e:this.getValue();return this.getOptions().filter(function(o){return r.getOptionId(o)===i})[0]||null},t.prototype.setOptions=function(e){return e===void 0&&(e=[]),this.set("options",e),this},t.prototype.addOption=function(e){if(e){var r=this.getOptions();this.setOptions(g8(g8([],r,!0),[e],!1))}return this},t.prototype.getOptionId=function(e){return(0,Et.isDef)(e.id)?e.id:e.value},t.prototype.getOptionLabel=function(e,r){var i;r===void 0&&(r={});var o=r.locale,a=o===void 0?!0:o,s=((0,we.isString)(e)?this.getOption(e):e)||{},l=this.getOptionId(s),c=s.label||s.name||l,u=r.property||this.getId();return a&&((i=this.em)===null||i===void 0?void 0:i.t("styleManager.options.".concat(u,".").concat(l)))||c},t.prototype.initialize=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];ui.prototype.initialize.apply(this,e),this.listenTo(this,"change:options",this.__onOptionChange)},t.prototype.__onOptionChange=function(){this.set("list",this.get("options"))},t}(ui);const kS=XAe;var ZAe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),JAe=function(n){ZAe(t,n);function t(e){var r=n.call(this,e)||this;return r.listenTo(r.model,"change:options",r.updateOptions),r}return t.prototype.templateInput=function(){var e=this,r=e.pfx,i=e.ppfx;return`
      <div class="`.concat(i,"field ").concat(i,`select">
        <span id="`).concat(r,`input-holder"></span>
        <div class="`).concat(i,`sel-arrow">
          <div class="`).concat(i,`d-s-arrow"></div>
        </div>
      </div>
    `)},t.prototype.updateOptions=function(){delete this.input,this.onRender()},t.prototype.onRender=function(){var e=this.pfx,r=this.model,i=r.getOptions();if(!this.input){var o=[];i.forEach(function(s){var l=r.getOptionId(s),c=r.getOptionLabel(l),u=s.style?s.style.replace(/"/g,"&quot;"):"",f=u?'style="'.concat(u,'"'):"",h=l.replace(/"/g,"&quot;");o.push('<option value="'.concat(h,'" ').concat(f,">").concat(c,"</option>"))});var a=this.el.querySelector("#".concat(e,"input-holder"));a.innerHTML="<select>".concat(o.join(""),"</select>"),this.input=a.firstChild}},t.prototype.__setValueInput=function(e){var r=this.model,i=this.getInputEl(),o=r.getOptions()[0],a=o?r.getOptionId(o):"";i&&(i.value=e||a)},t}(lu);const uD=JAe;var QAe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),gb=function(){return gb=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},gb.apply(this,arguments)},e3e=function(n){QAe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.defaults=function(){return gb(gb({},kS.getDefaults()),{full:1})},t}(kS);const t3e=e3e;var r3e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),n3e=function(n){r3e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.templateInput=function(){var e=this.ppfx;return'<div class="'.concat(e,"field ").concat(e,'field-radio"></div>')},t.prototype.onRender=function(){var e=this,r=e.pfx,i=e.ppfx,o=this.model,a="".concat(i,"radio-item-label"),s=o.getName(),l=o.getOptions(),c="".concat(r,"radio ").concat(r,"radio-").concat(s),u=o.cid;if(!this.input){var f=[];l.forEach(function(d){var m=d.className?"".concat(d.className," ").concat(r,"icon ").concat(a):"",g=o.getOptionId(d),x="".concat(s,"-").concat(g,"-").concat(u),b=m?"":o.getOptionLabel(g),_=d.title?'title="'.concat(d.title,'"'):"",S=o.getValue()===g?"checked":"";f.push(`
          <div class="`.concat(i,`radio-item">
            <input type="radio" class="`).concat(c,'" id="').concat(x,'" name="').concat(s,"-").concat(u,'" value="').concat(g,'" ').concat(S,`/>
            <label class="`).concat(m||a,'" ').concat(_,' for="').concat(x,'">').concat(b,`</label>
          </div>
        `))});var h=this.el.querySelector(".".concat(i,"field"));h.innerHTML='<div class="'.concat(i,'radio-items">').concat(f.join(""),"</div>"),this.input=h.firstChild}},t.prototype.__setValueInput=function(e){var r,i=this.model,o=e||i.getDefaultValue(),a=(r=this.getInputEl())===null||r===void 0?void 0:r.querySelector('[value="'.concat(o,'"]'));a&&(a.checked=!0)},t}(uD);const i3e=n3e;var o3e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Qf=function(){return Qf=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Qf.apply(this,arguments)},a3e=function(n){o3e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.defaults=function(){return Qf(Qf({},ui.getDefaults()),{units:[],unit:"",min:"",max:"",step:1})},t.prototype.getUnits=function(){return this.get("units")||[]},t.prototype.getUnit=function(){return this.get("unit")},t.prototype.getMin=function(){return this.get("min")},t.prototype.getMax=function(){return this.get("max")},t.prototype.getStep=function(){return this.get("step")},t.prototype.upUnit=function(e,r){return r===void 0&&(r={}),this._up({unit:e},r)},t.prototype.initialize=function(e,r){e===void 0&&(e={}),r===void 0&&(r={}),ui.callParentInit(ui,this,e,r);var i=this.get("unit"),o=this.getUnits();this.input=(0,Et.hasWin)()?new IL({model:this}):void 0,o.length&&!i&&this.set("unit",o[0],{silent:!0}),ui.callInit(this,e,r)},t.prototype.__getClearProps=function(){return Qf(Qf({},ui.prototype.__getClearProps()),{unit:""})},t.prototype.parseValue=function(e,r){r===void 0&&(r={});var i=ui.prototype.parseValue.apply(this,arguments),o=this.input.validateInputValue(i.value,Qf({deepCheck:1},r)),a=o.value,s=o.unit;return i.value=a,i.unit=s,i},t.prototype.getFullValue=function(){var e=this.get("value"),r=this.get("unit"),i=(0,we.isUndefined)(e)?"":"".concat(e),o=!(0,we.isUndefined)(r)&&i?r:"",a="".concat(i).concat(o);return ui.prototype.getFullValue.apply(this,[a])},t}(ui);const mb=a3e;var s3e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),yb=function(){return yb=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},yb.apply(this,arguments)},l3e=function(n){s3e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.defaults=function(){return yb(yb({},mb.getDefaults()),{showInput:1})},t}(mb);const c3e=l3e;var u3e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),bb=function(){return bb=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},bb.apply(this,arguments)},f3e=function(n){u3e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.events=function(){return bb(bb({},Qc.prototype.events()),{"change [type=range]":"inputValueChanged","input [type=range]":"inputValueChangedSoft",change:""})},t.prototype.templateInput=function(e){var r=this.ppfx;return`
      <div class="`.concat(r,"field ").concat(r,`field-range">
        <input type="range" min="`).concat(e.get("min"),'" max="').concat(e.get("max"),'" step="').concat(e.get("step"),`"/>
      </div>
    `)},t.prototype.getSliderEl=function(){return this.slider||(this.slider=this.el.querySelector("input[type=range]")),this.slider},t.prototype.inputValueChanged=function(e){e.stopPropagation(),this.model.upValue(this.getSliderEl().value)},t.prototype.inputValueChangedSoft=function(e){e.stopPropagation(),this.model.upValue(this.getSliderEl().value,{partial:!0})},t.prototype.setValue=function(e){var r=this.model,i=r.parseValue(e);this.getSliderEl().value=e===""?r.getDefaultValue():parseFloat(i.value),Qc.prototype.setValue.apply(this,arguments)},t.prototype.onRender=function(){Qc.prototype.onRender.apply(this,arguments),this.model.get("showInput")||(this.inputInst.el.style.display="none")},t.prototype.clearCached=function(){Qc.prototype.clearCached.apply(this,arguments),delete this.slider},t}(Qc);const d3e=f3e;var h3e=Wt.pM.extend(GL),p3e=h3e.extend({extendViewApi:1,init:function(){var n=this,t=n.opts,e=n.em,r=t.module||(e==null?void 0:e.get("StyleManager"));r&&(r.__listenAdd(this,r.events.propertyAdd),r.__listenRemove(this,r.events.propertyRemove))},types:[{id:"stack",model:SAe,view:HAe,isType:function(n){if(n&&n.type=="stack")return n}},{id:"composite",model:wh,view:Wv,isType:function(n){if(n&&n.type=="composite")return n}},{id:"file",model:ui,view:VAe,isType:function(n){if(n&&n.type=="file")return n}},{id:"color",model:ui,view:KAe,isType:function(n){if(n&&n.type=="color")return n}},{id:"select",model:kS,view:uD,isType:function(n){if(n&&n.type=="select")return n}},{id:"radio",model:t3e,view:i3e,isType:function(n){if(n&&n.type=="radio")return n}},{id:"slider",model:c3e,view:d3e,isType:function(n){if(n&&n.type=="slider")return n}},{id:"integer",model:mb,view:Qc,isType:function(n){if(n&&n.type=="integer")return n}},{id:"number",model:mb,view:Qc,isType:function(n){if(n&&n.type=="number")return n}},{id:"base",model:ui,view:lu,isType:function(n){return n.type="base",n}}]});const G4=p3e;var v3e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),xb=function(){return xb=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},xb.apply(this,arguments)},g3e=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e},m3e=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},y3e=function(n){v3e(t,n);function t(e,r){r===void 0&&(r={});var i=n.call(this,e)||this,o=r.em;i.em=o;var a=e||{},s=i.buildProperties(a.buildProps),l=i.get("name")||"",c=[];!i.get("id")&&i.set("id",l.replace(/ /g,"_").toLowerCase()),s?c=i.extendProperties(s):c=i.get("properties").map(function(f){return(0,we.isString)(f)?i.buildProperties(f)[0]:f}).filter(Boolean),c=c.map(function(f){return i.checkExtend(f)});var u=new G4(c,{em:o});return u.sector=i,i.set("properties",u),i}return t.prototype.defaults=function(){return{id:"",name:"",open:!0,visible:!0,extendBuilded:!0,properties:[]}},Object.defineProperty(t.prototype,"properties",{get:function(){return this.get("properties")},enumerable:!1,configurable:!0}),t.prototype.getId=function(){return this.get("id")},t.prototype.getName=function(){var e,r=this.getId();return((e=this.em)===null||e===void 0?void 0:e.t("styleManager.sectors.".concat(r)))||this.get("name")},t.prototype.setName=function(e){return this.set("name",e)},t.prototype.isOpen=function(){return!!this.get("open")},t.prototype.setOpen=function(e){return this.set("open",e)},t.prototype.isVisible=function(){return!!this.get("visible")},t.prototype.getProperties=function(e){e===void 0&&(e={});var r=this.properties,i=r.models?m3e([],r.models,!0):r;return i.filter(function(o){var a=!0;if(e.withValue&&(a=o.hasValue({noParent:!0})),e.withParentValue){var s=o.hasValue({noParent:!0});a=!s&&o.hasValue()}return a})},t.prototype.getProperty=function(e){return this.getProperties().filter(function(r){return r.get("id")===e})[0]||void 0},t.prototype.addProperty=function(e,r){return this.properties.add(this.checkExtend(e),r)},t.prototype.extendProperties=function(e,r,i){i===void 0&&(i=!1);for(var o=e.length,a=r||this.get("properties"),s=this.get("extendBuilded"),l=[],c=0,u=a.length;c<u;c++){for(var f=a[c],h=0,d=0;d<o;d++){var m=e[d];if(f.property==m.property||f.id==m.property){var g=f.properties;g&&g.length&&(f.properties=this.extendProperties(m.properties||[],g,1)),e[d]=s?(0,we.extend)(m,f):f,l[d]=e[d],h=1;continue}}h||(e.push(f),l.push(f))}return i?l.filter(function(x){return x}):e},t.prototype.checkExtend=function(e){var r=((0,we.isString)(e)?{extend:e}:e)||{},i=r.extend,o=g3e(r,["extend"]);return i?xb(xb({},this.buildProperties([i])[0]||{}),o):e},t.prototype.buildProperties=function(e){var r,i=e||[];if(!i.length)return[];var o=(r=this.em)===null||r===void 0?void 0:r.Styles.builtIn;return o==null?void 0:o.build(i)},t}(Wt.Kx);const fD=y3e;var b3e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),wb=function(){return wb=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},wb.apply(this,arguments)},x3e=function(n){b3e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.initialize=function(e,r){r===void 0&&(r={});var i=r.module,o=r.em;this.em=o,this.module=i,this.listenTo(this,"reset",this.onReset)},t.prototype.model=function(e,r){r===void 0&&(r={});var i=r.collection.em;return new fD(e,wb(wb({},r),{em:i}))},t.prototype.onReset=function(e,r){r===void 0&&(r={});var i=r.previousModels||[];i.forEach(function(o){return o.get("properties").reset()})},t}(Wt.pM);const w3e=x3e;var Fu=function(){return Fu=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Fu.apply(this,arguments)},_3e=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e},Hf=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},no=function(n){return n.map(function(t){return{id:t}})},S3e=function(){function n(){this.props={},this.typeNumber="number",this.typeColor="color",this.typeRadio="radio",this.typeSelect="select",this.typeFile="file",this.typeSlider="slider",this.typeComposite="composite",this.typeStack="stack",this.unitsSize=["px","%","em","rem","vh","vw"],this.unitsSizeNoPerc=["px","em","rem","vh","vw"],this.unitsTime=["s","ms"],this.unitsAngle=["deg","rad","grad"],this.fixedValues=["initial","inherit","auto"];var t=", sans-serif",e=["flex-start","flex-end","center"],r=Hf(Hf([],e,!0),["baseline","stretch"],!1);this.optsBgSize=no(["auto","cover","contain"]),this.optsBgAttach=no(["scroll","fixed","local"]),this.optsBgRepeat=no(["repeat","repeat-x","repeat-y","no-repeat"]),this.optsWrap=no(["nowrap","wrap","wrap-reverse"]),this.optsOverflow=no(["visible","hidden","scroll","auto"]),this.optsDir=no(["row","row-reverse","column","column-reverse"]),this.opstDisplay=no(["block","inline","inline-block","flex","none"]),this.optsTransitFn=no(["linear","ease","ease-in","ease-out","ease-in-out"]),this.optsCursor=no(["auto","pointer","copy","crosshair","grab","grabbing","help","move","text"]),this.optsFloat=no(["none","left","right"]),this.optsPos=no(["static","relative","absolute","fixed"]),this.optsTextAlign=no(["left","center","right","justify"]),this.optsFlexAlign=no(r),this.optsJustCont=no(Hf(Hf([],e,!0),["space-between","space-around","space-evenly"],!1)),this.optsAlignCont=no(Hf(Hf([],e,!0),["space-between","space-around","stretch"],!1)),this.optsAlignSelf=no(Hf(["auto"],r,!0)),this.optsTransitProp=no(["all","width","height","background-color","transform","box-shadow","opacity"]),this.optsBorderStyle=no(["none","solid","dotted","dashed","double","groove","ridge","inset","outset"]),this.optsBgPos=no(["left top","left center","left bottom","right top","right center","right bottom","center top","center center","center bottom"]),this.optsWeight=[{id:"100",label:"Thin"},{id:"200",label:"Extra-Light"},{id:"300",label:"Light"},{id:"400",label:"Normal"},{id:"500",label:"Medium"},{id:"600",label:"Semi-Bold"},{id:"700",label:"Bold"},{id:"800",label:"Extra-Bold"},{id:"900",label:"Ultra-Bold"}],this.optsShadowType=[{id:"",label:"Outside"},{id:"inset",label:"Inside"}],this.optsFonts=["Arial, Helvetica"+t,"Arial Black, Gadget"+t,"Brush Script MT"+t,"Comic Sans MS, cursive"+t,"Courier New, Courier, monospace","Georgia, serif","Helvetica"+t,"Impact, Charcoal"+t,"Lucida Sans Unicode, Lucida Grande"+t,"Tahoma, Geneva"+t,"Times New Roman, Times, serif","Trebuchet MS, Helvetica"+t,"Verdana, Geneva"+t].map(function(i){return{id:i,label:i.split(",")[0]}}),this.fixedFontSizes=["medium","xx-small","x-small","small","large","x-large","xx-large","smaller","larger","length","initial","inherit"],this.fixedLetSpace=["normal","initial","inherit"],this.requireFlex={display:["flex"]},this.init()}return n.prototype.__sub=function(t){var e=this;return function(){return t.map(function(r){if((0,we.isString)(r))return e.get(r);var i=r.extend,o=_3e(r,["extend"]);return Fu(Fu({},e.get(i)),o)})}},n.prototype.init=function(){var t=this,e=this,r=e.fixedValues,i=e.requireFlex,o=e.typeNumber;this.props={};var a=[["text-shadow-h",{type:o,default:"0",units:this.unitsSizeNoPerc}],["top",{default:"auto",units:this.unitsSize,fixedValues:r},"text-shadow-h"],["right",{},"top"],["bottom",{},"top"],["left",{},"top"],["margin-top",{default:"0"},"top"],["margin-right",{},"margin-top"],["margin-bottom",{},"margin-top"],["margin-left",{},"margin-top"],["padding-top",{min:0},"margin-top"],["padding-right",{},"padding-top"],["padding-bottom",{},"padding-top"],["padding-left",{},"padding-top"],["width",{min:0},"top"],["min-width",{},"width"],["max-width",{},"width"],["height",{},"width"],["min-height",{},"width"],["max-height",{},"width"],["flex-basis",{requiresParent:i},"width"],["font-size",{default:"medium",fixedValues:this.fixedFontSizes},"width"],["letter-spacing",{default:"normal",fixedValues:this.fixedLetSpace},"top"],["line-height",{},"letter-spacing"],["text-shadow-v",{},"text-shadow-h"],["text-shadow-blur",{min:0},"text-shadow-h"],["border-radius-c",{property:"border-radius",fixedValues:void 0},"padding-top"],["border-top-left-radius",{},"border-radius-c"],["border-top-right-radius",{},"border-radius-c"],["border-bottom-left-radius",{},"border-radius-c"],["border-bottom-right-radius",{},"border-radius-c"],["border-width",{units:this.unitsSizeNoPerc},"border-radius-c"],["box-shadow-h",{},"text-shadow-h"],["box-shadow-v",{},"text-shadow-h"],["box-shadow-blur",{default:"5px"},"text-shadow-blur"],["box-shadow-spread",{},"text-shadow-h"],["transition-duration",{default:"2s",units:this.unitsTime},"border-radius-c"],["perspective",{},"border-radius-c"],["order",{type:o,default:"0",requiresParent:i}],["flex-grow",{},"order"],["flex-shrink",{default:"1"},"order"],["float",{type:this.typeRadio,default:"none",options:this.optsFloat}],["position",{default:"static",options:this.optsPos},"float"],["text-align",{default:"left",options:this.optsTextAlign},"float"],["color",{type:this.typeColor,default:"black",full:!0}],["text-shadow-color",{},"color"],["border-color",{},"color"],["box-shadow-color",{},"color"],["background-color",{default:"none"},"color"],["background-image",{type:this.typeFile,functionName:"url",default:"none",full:!0}],["opacity",{type:this.typeSlider,default:"1",min:0,max:1,step:.01,full:!0}],["display",{type:this.typeSelect,default:"block",options:this.opstDisplay}],["flex-direction",{default:"row",options:this.optsDir,requires:i},"display"],["flex-wrap",{default:"nowrap",options:this.optsWrap},"flex-direction"],["justify-content",{default:"flex-start",options:this.optsJustCont},"flex-wrap"],["align-items",{default:"stretch",options:this.optsFlexAlign},"flex-wrap"],["align-content",{options:this.optsAlignCont},"align-items"],["align-self",{default:"auto",options:this.optsAlignSelf,requiresParent:i},"display"],["font-family",{default:"Arial, Helvetica, sans-serif",options:this.optsFonts},"display"],["font-weight",{default:"400",options:this.optsWeight},"display"],["border-style",{default:"solid",options:this.optsBorderStyle},"display"],["box-shadow-type",{default:"",options:this.optsShadowType},"display"],["background-repeat",{default:"repeat",options:this.optsBgRepeat},"display"],["background-position",{default:"left top",options:this.optsBgPos},"display"],["background-attachment",{default:"scroll",options:this.optsBgAttach},"display"],["background-size",{default:"auto",options:this.optsBgSize},"display"],["transition-property",{default:"width",options:this.optsTransitProp},"display"],["transition-timing-function",{default:"ease",options:this.optsTransitFn},"display"],["cursor",{default:"auto",options:this.optsCursor},"display"],["overflow",{default:"visible",options:this.optsOverflow},"display"],["overflow-x",{},"overflow"],["overflow-y",{},"overflow"],["margin",{type:this.typeComposite,properties:this.__sub([{extend:"margin-top",id:"margin-top-sub"},{extend:"margin-right",id:"margin-right-sub"},{extend:"margin-bottom",id:"margin-bottom-sub"},{extend:"margin-left",id:"margin-left-sub"}])}],["padding",{properties:this.__sub([{extend:"padding-top",id:"padding-top-sub"},{extend:"padding-right",id:"padding-right-sub"},{extend:"padding-bottom",id:"padding-bottom-sub"},{extend:"padding-left",id:"padding-left-sub"}])},"margin"],["border",{properties:this.__sub([{extend:"border-width",id:"border-width-sub"},{extend:"border-style",id:"border-style-sub"},{extend:"border-color",id:"border-color-sub"}])},"margin"],["border-radius",{properties:this.__sub([{extend:"border-top-left-radius",id:"border-top-left-radius-sub"},{extend:"border-top-right-radius",id:"border-top-right-radius-sub"},{extend:"border-bottom-left-radius",id:"border-bottom-left-radius-sub"},{extend:"border-bottom-right-radius",id:"border-bottom-right-radius-sub"}])},"margin"],["transition",{type:this.typeStack,properties:this.__sub([{extend:"transition-property",id:"transition-property-sub"},{extend:"transition-duration",id:"transition-duration-sub"},{extend:"transition-timing-function",id:"transition-timing-function-sub"}])}],["box-shadow",{preview:!0,layerLabel:function(s,l){var c=l.values,u=c["box-shadow-h"],f=c["box-shadow-v"],h=c["box-shadow-blur"],d=c["box-shadow-spread"];return"".concat(u," ").concat(f," ").concat(h," ").concat(d)},properties:this.__sub(["box-shadow-h","box-shadow-v","box-shadow-blur","box-shadow-spread","box-shadow-color","box-shadow-type"])},"transition"],["text-shadow",{default:"none",layerLabel:function(s,l){var c=l.values,u=c["text-shadow-h"],f=c["text-shadow-v"],h=c["text-shadow-blur"];return"".concat(u," ").concat(f," ").concat(h)},properties:this.__sub(["text-shadow-h","text-shadow-v","text-shadow-blur","text-shadow-color"])},"box-shadow"],["background",{detached:!0,layerLabel:function(s,l){var c=l.values,u=c["background-repeat-sub"]||"",f=c["background-position-sub"]||"",h=c["background-attachment-sub"]||"",d=c["background-size-sub"]||"";return[u,f,h,d].join(" ")},properties:this.__sub([{extend:"background-image",id:"background-image-sub"},{extend:"background-repeat",id:"background-repeat-sub"},{extend:"background-position",id:"background-position-sub"},{extend:"background-attachment",id:"background-attachment-sub"},{extend:"background-size",id:"background-size-sub"}])},"box-shadow"],["transform",{type:"stack",layerSeparator:" ",fromStyle:function(s,l){var c=l.property,u=l.name,f=s[u]||"",h=c.getLayerSeparator();return f?f.split(h).map(function(d){var m=c.__parseFn(d),g=m.name,x=m.value;return{"transform-type":g,"transform-value":x}}):[]},toStyle:function(s,l){var c,u=l.name;return c={},c[u]="".concat(s["transform-type"],"(").concat(s["transform-value"],")"),c},properties:[{property:"transform-type",name:"Type",type:this.typeSelect,default:"rotateZ",full:!0,options:[{id:"scaleX",propValue:{units:[""],step:.01}},{id:"scaleY",propValue:{units:[""],step:.01}},{id:"scaleZ",propValue:{units:[""],step:.01}},{id:"rotateX",propValue:{units:this.unitsAngle,step:1}},{id:"rotateY",propValue:{units:this.unitsAngle,step:1}},{id:"rotateZ",propValue:{units:this.unitsAngle,step:1}},{id:"translateX",propValue:{units:this.unitsSize,step:1}},{id:"translateY",propValue:{units:this.unitsSize,step:1}}],onChange:function(s){var l=s.property,c=s.to;if(c.value){var u=l.getOption(),f=Fu({},u.propValue||{}),h=l.getParent().getProperty("transform-value"),d=h.getUnit();(!d||(f==null?void 0:f.units.indexOf(d))<0)&&(f.unit=(f==null?void 0:f.units[0])||""),h.up(f)}}},{property:"transform-value",type:this.typeNumber,default:"0",full:!0}]}]];return a.forEach(function(s){var l=s[0],c=s[1],u=s[2];t.add(l,c||{},{from:u})}),this},n.prototype.add=function(t,e,r){e===void 0&&(e={}),r===void 0&&(r={});var i=r.from||"",o=this.props[i||t]||{},a=Fu(Fu(Fu({},o),{property:t}),e);return a.properties&&(0,we.isFunction)(a.properties)&&(a.properties=a.properties()),this.props[t]=a,a},n.prototype.get=function(t){return this.props[t]},n.prototype.build=function(t){var e=this,r=[],i=(0,we.isString)(t)?[t]:t;return i.forEach(function(o){r.push(e.get(o)||{property:o})}),r},n}();const T3e=S3e;var C3e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),E3e=function(n,t){return Object.defineProperty?Object.defineProperty(n,"raw",{value:t}):n.raw=t,n},O3e=function(n){C3e(t,n);function t(e){var r=n.call(this,e)||this,i=e.config||{},o=r.model,a=i.em;return r.config=i,r.em=a,r.pfx=i.stylePrefix||"",r.listenTo(o,"destroy remove",r.remove),r.listenTo(o,"change:open",r.updateOpen),r.listenTo(o,"change:visible",r.updateVisibility),r}return t.prototype.template=function(e){var r,i=e.pfx,o=e.label,a=(r=this.em)===null||r===void 0?void 0:r.getConfig().icons,s=(a==null?void 0:a.caret)||"",l="".concat(i,"sector-");return Wa(m8||(m8=E3e([`
      <div class="`,`title" data-sector-title>
        <div class="`,'caret">$',`</div>
        <div class="`,'label">',`</div>
      </div>
    `],[`
      <div class="`,`title" data-sector-title>
        <div class="`,'caret">$',`</div>
        <div class="`,'label">',`</div>
      </div>
    `])),l,l,s,l,o)},t.prototype.events=function(){return{"click [data-sector-title]":"toggle"}},t.prototype.updateOpen=function(){var e=this,r=e.$el,i=e.model,o=e.pfx,a=i.isOpen();r[a?"addClass":"removeClass"]("".concat(o,"open")),this.getPropertiesEl().style.display=a?"":"none"},t.prototype.updateVisibility=function(){this.el.style.display=this.model.isVisible()?"":"none"},t.prototype.getPropertiesEl=function(){var e=this,r=e.$el,i=e.pfx;return r.find(".".concat(i,"properties")).get(0)},t.prototype.toggle=function(){var e=this.model;e.setOpen(!e.get("open"))},t.prototype.renderProperties=function(){var e=this,r=e.model,i=e.config,o=r.get("properties");if(o){var a=new q4({collection:o,config:i});this.$el.append(a.render().el)}},t.prototype.render=function(){var e=this,r=e.pfx,i=e.model,o=e.$el,a=i.getId(),s=i.getName();return o.html(this.template({pfx:r,label:s})),this.renderProperties(),o.attr("class","".concat(r,"sector ").concat(r,"sector__").concat(a," no-select")),this.updateOpen(),this},t}(Wt.Ss);const A3e=O3e;var m8,N3e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),P3e=function(n){N3e(t,n);function t(e){e===void 0&&(e={});var r=n.call(this,e)||this,i=e.module,o=e.config,a=r.collection;return r.pfx=(o==null?void 0:o.stylePrefix)||"",r.ppfx=(o==null?void 0:o.pStylePrefix)||"",r.config=o,r.module=i,r.listenTo(a,"add",r.addTo),r.listenTo(a,"reset",r.render),r}return t.prototype.remove=function(){var e=this;return Wt.Ss.prototype.remove.apply(this,arguments),["config","module","em"].forEach(function(r){return e[r]={}}),this},t.prototype.addTo=function(e,r,i){i===void 0&&(i={}),this.addToCollection(e,null,i)},t.prototype.addToCollection=function(e,r,i){i===void 0&&(i={});var o=this,a=o.config,s=o.el,l=r||s,c=new A3e({model:e,config:a}).render().el;return(0,Kt.Sc)(l,c,i.at),c},t.prototype.render=function(){var e=this,r=this,i=r.$el,o=r.pfx,a=r.ppfx;i.empty();var s=document.createDocumentFragment();return this.collection.each(function(l){return e.addToCollection(l,s)}),i.append(s),i.addClass("".concat(o,"sectors ").concat(a,"one-bg ").concat(a,"two-color")),this},t}(Wt.Ss);const j3e=P3e;var k3e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Bu=function(){return Bu=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Bu.apply(this,arguments)},y8=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},dD="style",L1="".concat(dD,":"),K4="".concat(L1,"sector"),M3e="".concat(K4,":add"),L3e="".concat(K4,":remove"),D3e="".concat(K4,":update"),Y4="".concat(L1,"property"),I3e="".concat(Y4,":add"),R3e="".concat(Y4,":remove"),F3e="".concat(Y4,":update"),hD="".concat(L1,"layer:select"),MS="".concat(L1,"target"),B3e="".concat(L1,"custom"),b8=function(n){return n||n===0},H3e={all:dD,sectorAdd:M3e,sectorRemove:L3e,sectorUpdate:D3e,propertyAdd:I3e,propertyRemove:R3e,propertyUpdate:F3e,layerSelect:hD,target:MS,custom:B3e},$3e=function(n){k3e(t,n);function t(e){var r=n.call(this,e,"StyleManager",new w3e([],{em:e}),H3e,hAe())||this;r.Sector=fD,r.storageKey="",(0,we.bindAll)(r,"__clearStateTarget");var i=r.config,o=i.pStylePrefix;o&&(i.stylePrefix=o+i.stylePrefix),r.builtIn=new T3e,r.properties=new G4([],{em:e,module:r}),r.sectors=r.all;var a=new Wt.Kx({targets:[]});r.model=a;var s=Tn.I.update,l="component:toggled ".concat(s,":classes change:state change:device frame:resized selector:type");r.upAll=(0,we.debounce)(function(){return r.__upSel()},0),a.listenTo(e,l,r.upAll),a.listenTo(e,"component:toggled",r.__clearStateTarget);var c=(0,we.debounce)(function(){r.__upProps(),r.__trgCustom()},0);a.listenTo(e,"styleable:change undo redo",c);var u=(0,we.debounce)(function(){return r.__trgCustom()},0);return a.listenTo(e,"".concat(hD," ").concat(MS),u),a.on("change:lastTarget",function(){return e.trigger(MS,r.getSelected())}),r}return t.prototype.__upSel=function(){this.select(this.em.getSelectedAll())},t.prototype.__trgCustom=function(e){e===void 0&&(e={}),this.__ctn=this.__ctn||e.container,this.em.trigger(this.events.custom,{container:this.__ctn})},t.prototype.__trgEv=function(e){for(var r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];(r=this.em).trigger.apply(r,y8([e],i,!1))},t.prototype.__clearStateTarget=function(){var e=this,r=this.em,i=this.__getStateTarget();i&&(r==null||r.skip(function(){r.Css.remove(i),e.model.set({stateTarget:null})}))},t.prototype.onLoad=function(){this.sectors.add(this.config.sectors,{silent:!0})},t.prototype.postRender=function(){this.__appendTo()},t.prototype.addSector=function(e,r,i){i===void 0&&(i={});var o=this.getSector(e);return o||(r.id=e,o=this.sectors.add(r,i)),o},t.prototype.getSector=function(e,r){r===void 0&&(r={});var i=this.sectors.where({id:e})[0];return!i&&r.warn&&this._logNoSector(e),i||null},t.prototype.getSectors=function(e){e===void 0&&(e={});var r=this.sectors,i=r&&r.models?e.array?y8([],r.models,!0):r:[];return e.visible?i.filter(function(o){return o.isVisible()}):i},t.prototype.removeSector=function(e){return this.getSectors().remove(this.getSector(e,{warn:!0}))},t.prototype.addProperty=function(e,r,i){i===void 0&&(i={});var o=this.getSector(e,{warn:!0}),a;return o&&(a=o.addProperty(r,i)),a},t.prototype.getProperty=function(e,r){var i=this.getSector(e,{warn:!0}),o;return i&&(o=i.properties.filter(function(a){return a.get("property")===r||a.get("id")===r})[0]),o},t.prototype.getProperties=function(e){var r,i=this.getSector(e,{warn:!0});return i&&(r=i.properties),r},t.prototype.removeProperty=function(e,r){var i=this.getProperties(e);return i?i.remove(this.getProperty(e,r)):null},t.prototype.select=function(e,r){var i=this;r===void 0&&(r={});var o=this.em,a=(0,we.isArray)(e)?e:[e],s=r.stylable,l=o.Css,c=[];a.filter(Boolean).forEach(function(g){var x=g;if((0,we.isString)(g)){var b=l.getRule(g)||l.setRule(g);!(0,we.isUndefined)(s)&&b.set({stylable:s}),x=b}c.push(x)});var u=r.component||c.filter(function(g){return(0,Et.isComponent)(g)}).reverse()[0];c=c.map(function(g){return i.getModelToStyle(g)});var f=o.getState(),h=c.slice().reverse()[0],d=this.getParentRules(h,{state:f,component:u}),m=this.__getStateTarget();return o.skip(function(){var g;if(f&&(!((g=h==null?void 0:h.getState)===null||g===void 0)&&g.call(h))){var x=h.getStyle();m?m.setStyle(x):m=l.getAll().add({selectors:"gjs-selected",style:x,shallow:!0,important:!0})}else m&&(l.remove(m),m=void 0)}),this.model.set({targets:c,lastTarget:h,lastTargetParents:d,stateTarget:m,component:u}),this.__upProps(r),c},t.prototype.getSelected=function(){return this.model.get("lastTarget")},t.prototype.getSelectedAll=function(){return this.model.get("targets")},t.prototype.getSelectedParents=function(){return this.model.get("lastTargetParents")||[]},t.prototype.__getStateTarget=function(){return this.model.get("stateTarget")},t.prototype.addStyleTargets=function(e,r){this.getSelectedAll().map(function(a){return a.addStyle(e,r)});var i=this.getSelected();i&&this.__emitCmpStyleUpdate(e);var o=this.__getStateTarget();i&&(o==null||o.setStyle(i.getStyle(),r))},t.prototype.getBuiltIn=function(e){return this.builtIn.get(e)},t.prototype.getBuiltInAll=function(){return this.builtIn.props},t.prototype.addBuiltIn=function(e,r){return this.builtIn.add(e,r)},t.prototype.getModelToStyle=function(e,r){r===void 0&&(r={});var i=this.em,o=r.skipAdd;if(i&&(e!=null&&e.toHTML)){var a=i.getConfig(),s=i.UndoManager,l=i.Css,c=i.Selectors,u=c?c.getConfig():{},f=a.devicePreviewMode?"":i.get("state"),h=e.get("classes"),d=h.getStyleable(),m=d.length,g=!u.componentFirst||r.useClasses,x={noCount:1},b={state:f,addOpts:x};s.skip(function(){var _;if(m&&g){var S=i.getCurrentMedia();_=l.get(d,f,S),!_&&!o&&(_=l.add(d,f,S,{},x))}else if(a.avoidInlineStyle){var T=e.getId();_=l.getIdRule(T,b),!_&&!o&&(_=l.setIdRule(T,{},b)),e.is("wrapper")&&_.set("wrapper",1,x)}_&&(e=_)})}return e},t.prototype.getParentRules=function(e,r){var i=r===void 0?{}:r,o=i.state,a=i.component,s=this.em,l=[];if(s&&e){var c=a,u=s.Css,f=s.CodeManager.getGenerator("css"),h=e.toHTML?e:e.getComponent(),d={array:!0},m=[],g=[],x=[],b=[],_=[],S=function(A){return A.length?u.getRules().filter(function(j){var R=j.getSelectors().map(function(L){return L.getFullName()});return R.length===0?!1:R.every(function(L){return A.indexOf(L)>=0})}):[]},T=function(A){return A?u.getRules().filter(function(j){return j.selectorsToString()===A}):[]};if(h)m=u.getRules("#".concat(h.getId())),g=T(h.get("tagName")),b=c?S(c.getSelectors().getFullName(d)):[],_=b.concat(g).concat(m);else{m=c?u.getRules("#".concat(c.getId())):[],g=T((c==null?void 0:c.get("tagName"))||"");var C=(c==null?void 0:c.getSelectors().getFullName(d))||[],w=C.filter(function(A){return e.getSelectors().getFullName(d).findIndex(function(j){return j===A})===-1});x=S(w.concat(e.getSelectors().getFullName(d))),_=g.concat(m).concat(x)}var N=_.filter(function(A){return(0,we.isUndefined)(o)?1:A.get("state")===o}).sort(f.sortRules).reverse();l=N.slice(N.indexOf(e)+1)}return l},t.prototype.addType=function(e,r){this.properties.addType(e,r)},t.prototype.getType=function(e){return this.properties.getType(e)},t.prototype.getTypes=function(){return this.properties.getTypes()},t.prototype.createType=function(e,r){var i=r===void 0?{}:r,o=i.model,a=o===void 0?{}:o,s=i.view,l=s===void 0?{}:s,c=this.config,u=this.getType(e);if(u)return new u.view(Bu({model:new u.model(a),config:c},l))},t.prototype.render=function(){var e=this,r=e.config,i=e.em,o=e.SectView,a=o&&o.el;return this.SectView=new j3e({el:a,em:i,config:r,module:this,collection:this.sectors}),this.SectView.render().el},t.prototype._logNoSector=function(e){var r=this.em;r&&r.logWarning("'".concat(e,"' sector not found"))},t.prototype.__emitCmpStyleUpdate=function(e,r){r===void 0&&(r={});var i=this.em;if(!e.__p){var o=this.getSelectedAll(),a=r.components||i.getSelectedAll(),s=Array.isArray(a)?a:[a],l=Bu({},e);delete l.__p,s.forEach(function(c){return!o.includes(c)&&c.__onStyleChange(l)})}},t.prototype.__upProps=function(e){var r=this;e===void 0&&(e={});var i=this.getSelected();if(i){var o=this.sectors,a=this.model.get("component"),s=this.getSelectedParents(),l=i.getStyle(),c=s.map(function(u){return{target:u,style:u.getStyle()}});o.map(function(u){u.getProperties().map(function(f){r.__upProp(f,l,c,e)})}),o.forEach(function(u){var f=u.getProperties();f.forEach(function(d){var m=d.__checkVisibility({target:i,sector:u,component:a,sectors:o.models});d.set("visible",m)});var h=f.some(function(d){return d.isVisible()});u.set("visible",h)})}},t.prototype.__upProp=function(e,r,i,o){var a=this,s=e.getName(),l=r[s],c=b8(l),u=e.getType()==="stack",f=e.getType()==="composite",h=Bu(Bu({},o),{__up:!0}),d=!f&&!u,m=e,g=e,x=u?m.__getLayersFromStyle(r):[],b=f?g.__getPropsFromStyle(r):{},_=c?l:null,S=null;if(u&&x===null||f&&b===null){var T=u?"__getLayersFromStyle":"__getPropsFromStyle",C=i.filter(function(R){return m[T](R.style)!==null})[0];if(C){_=C.style[s],S=C.target;var w=m[T](C.style);u?x=w:b=w}}else if(!c){_=null;var C=i.filter(function(L){return b8(L.style[s])})[0];C&&(_=C.style[s],S=C.target)}if(e.__setParentTarget(S),d&&e.__getFullValue()!==_&&e.upValue(_,h),u&&m.__setLayers(x||[],{isEmptyValue:m.isEmptyValueStyle(r)}),f){var N=g.getProperties();if(g.isDetached()){var A=g.__getPropsFromStyle(r,{byName:!0})||{},j=i.map(function(R){return Bu(Bu({},R),{style:g.__getPropsFromStyle(R.style,{byName:!0})||{}})});N.map(function(R){return a.__upProp(R,A,j,o)})}else g.__setProperties(b||{},h),g.getProperties().map(function(R){return R.__setParentTarget(S)})}},t.prototype.destroy=function(){var e;[this.properties,this.sectors].forEach(function(r){r.reset(),r.stopListening()}),(e=this.SectView)===null||e===void 0||e.remove(),this.model.stopListening(),this.upAll.cancel()},t}(mu);const U3e=$3e;var V3e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),_b=function(){return _b=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},_b.apply(this,arguments)},z3e=function(n){V3e(t,n);function t(e,r){var i=n.call(this,e,r)||this;return i.em=r,i.model=function(o,a){return a===void 0&&(a={}),new pL(o,_b(_b({},a),{em:r}))},i}return t}(Wt.pM);const W3e=z3e;var q3e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),G3e=function(n){q3e(t,n);function t(e){var r=n.call(this,e,"DataSources",new W3e([],e),Gu)||this;return r.storageKey="dataSources",r.events=Gu,Object.assign(r,vy.Events),r}return t.prototype.destroy=function(){},t.prototype.add=function(e,r){r===void 0&&(r={});var i=this.all;return e.id=e.id||this._createId(),i.add(e,r)},t.prototype.get=function(e){return this.all.get(e)},t.prototype.getValue=function(e,r){return(0,Et.get)(this.getContext(),e,r)},t.prototype.getContext=function(){return this.all.reduce(function(e,r){return e[r.id]=r.records.reduce(function(i,o,a){var s=o;return i[s.id||a]=s.attributes,i},{}),e},{})},t.prototype.remove=function(e,r){return this.__remove(e,r)},t.prototype.fromPath=function(e){var r=[],i=(0,Et.stringToPath)(e||""),o=i[0],a=i[1],s=i.slice(2),l=this.get(o),c=l==null?void 0:l.records.get(a);return l&&r.push(l),c&&(r.push(c),s.length&&r.push(s.join("."))),r},t.prototype.store=function(){var e,r=[];return this.all.forEach(function(i){var o=i.get("skipFromStorage");o||r.push({id:i.id,name:i.get("name"),records:i.records.toJSON(),skipFromStorage:o})}),e={},e[this.storageKey]=r,e},t.prototype.load=function(e){return this.loadProjectData(e)},t.prototype.postLoad=function(){var e=this,r=e.em,i=e.all;r.listenTo(i,Wt.e2,function(o,a,s){return r.changesUp(s||a)})},t}(mu);const pD=G3e;var K3e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Zo=function(){return Zo=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Zo.apply(this,arguments)},z5=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(a){a(o)})}return new(e||(e=Promise))(function(o,a){function s(u){try{c(r.next(u))}catch(f){a(f)}}function l(u){try{c(r.throw(u))}catch(f){a(f)}}function c(u){u.done?o(u.value):i(u.value).then(s,l)}c((r=r.apply(n,t||[])).next())})},W5=function(n,t){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(e=0)),e;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return e.label++,{value:c[1],done:!1};case 5:e.label++,i=c[1],c=[0];continue;case 7:c=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){e=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){e.label=c[1];break}if(c[0]===6&&e.label<o[1]){e.label=o[1],o=c;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(c);break}o[2]&&e.ops.pop(),e.trys.pop();continue}c=t.call(n,e)}catch(u){c=[6,u],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Y3e=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e},X3e=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))};j2e().$=lo.default;var Z3e=[TEe,z9e,$Ee,QOe,oCe,r5e,H4e,U3e,N4e,JEe,WOe,_Oe,fAe,MCe,i9e,Ywe,KCe,f4e,pD],J3e=[O9e,YTe,R9e,LTe,pD];k2e({$:lo.default});var x8={debug:console.log,info:console.info,warning:console.warn,error:console.error},Q3e=function(n){K3e(t,n);function t(e){e===void 0&&(e={});var r=n.call(this)||this;r.Model=Wt.Kx,r.Collection=Wt.pM,r.events=Va,r.__skip=!1,r.defaultRunning=!1,r.destroyed=!1,r._config=e;var i=r.config;r.set("Config",e),r.set("modules",[]),r.set("toLoad",[]),r.set("storables",[]),r.set("selected",new D2e),r.set("dmode",i.dragMode);var o=i.el,a=i.log,s=a===!0?(0,we.keys)(x8):(0,we.isArray)(a)?a:[];return(0,we.bindAll)(r,"initBaseColorPicker"),o&&i.fromElement&&(i.components=o.innerHTML),r.attrsOrig=o?(0,we.toArray)(o.attributes).reduce(function(l,c){return l[c.nodeName]=c.nodeValue,l},{}):"",i.components&&!i.pageManager&&(i.pageManager={pages:[{component:i.components}]}),Z3e.forEach(function(l){return r.loadModule(l)}),J3e.forEach(function(l){return r.loadStorableModule(l)}),r.on("change:componentHovered",r.componentHovered,r),r.on("change:changesCount",r.updateChanges,r),r.on("change:readyLoad change:readyCanvas",r._checkReady,r),s.forEach(function(l){return r.listenLog(l)}),[{from:"change:selectedComponent",to:"component:toggled"}].forEach(function(l){var c=l.from,u=l.to;r.listenTo(r,c,function(){for(var f=[],h=0;h<arguments.length;h++)f[h]=arguments[h];r.trigger.apply(r,X3e([u],f,!1)),r.logWarning("The event '".concat(c,"' is deprecated, replace it with '").concat(u,"'"))})}),r}return t.prototype.defaults=function(){return{editing:0,selected:0,clipboard:null,dmode:0,componentHovered:null,previousModel:null,changesCount:0,storables:[],modules:[],toLoad:[],opened:{},device:""}},Object.defineProperty(t.prototype,"storables",{get:function(){return this.get("storables")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"modules",{get:function(){return this.get("modules")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"toLoad",{get:function(){return this.get("toLoad")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selected",{get:function(){return this.get("selected")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shallow",{get:function(){return this.get("shallow")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"I18n",{get:function(){return this.get("I18n")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Utils",{get:function(){return this.get("Utils")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Commands",{get:function(){return this.get("Commands")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Keymaps",{get:function(){return this.get("Keymaps")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Modal",{get:function(){return this.get("Modal")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Panels",{get:function(){return this.get("Panels")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"CodeManager",{get:function(){return this.get("CodeManager")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"UndoManager",{get:function(){return this.get("UndoManager")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"RichTextEditor",{get:function(){return this.get("RichTextEditor")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Canvas",{get:function(){return this.get("Canvas")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Editor",{get:function(){return this.get("Editor")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Components",{get:function(){return this.get("DomComponents")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Css",{get:function(){return this.get("CssComposer")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Blocks",{get:function(){return this.get("BlockManager")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Selectors",{get:function(){return this.get("SelectorManager")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Storage",{get:function(){return this.get("StorageManager")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Traits",{get:function(){return this.get("TraitManager")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Parser",{get:function(){return this.get("Parser")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Layers",{get:function(){return this.get("LayerManager")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Assets",{get:function(){return this.get("AssetManager")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Devices",{get:function(){return this.get("DeviceManager")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Pages",{get:function(){return this.get("PageManager")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Styles",{get:function(){return this.get("StyleManager")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"DataSources",{get:function(){return this.get("DataSources")},enumerable:!1,configurable:!0}),t.prototype._checkReady=function(){this.get("readyLoad")&&this.get("readyCanvas")&&!this.get("ready")&&this.set("ready",!0)},t.prototype.getContainer=function(){return this.config.el},t.prototype.listenLog=function(e){this.listenTo(this,"log:".concat(e),x8[e])},Object.defineProperty(t.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){var e;return((e=this.config.grapesjs)===null||e===void 0?void 0:e.version)||""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isHeadless",{get:function(){return!!this.config.headless},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isShallow",{get:function(){return!!this.get("isShallow")},enumerable:!1,configurable:!0}),t.prototype.initModules=function(){this.modules.forEach(function(e){return e.onInit()})},t.prototype.getConfig=function(e){var r=this.config;return(0,we.isUndefined)(e)?r:r[e]},t.prototype.loadOnStart=function(){var e=this,r=this.config,i=r.projectData,o=r.headless,a={initial:!0},s=this.Storage;this.toLoad.reverse().forEach(function(u){return u.onLoad()});var l=function(){e.modules.forEach(function(u){return u.postLoad&&u.postLoad(e)}),e.set("readyLoad",1)};o?(i&&this.loadData(i,a),l()):this._storageTimeout=setTimeout(function(){return z5(e,void 0,void 0,function(){var u;return W5(this,function(f){switch(f.label){case 0:return i?(this.loadData(i,a),[3,5]):[3,1];case 1:if(!(s!=null&&s.canAutoload()))return[3,5];f.label=2;case 2:return f.trys.push([2,4,,5]),[4,this.load({},a)];case 3:return f.sent(),[3,5];case 4:return u=f.sent(),this.logError(u),[3,5];case 5:return l(),[2]}})})});var c=new t({noticeOnUnload:!1,storageManager:!1,undoManager:!1});c.set({isShallow:!0}),c.Pages.onLoad(),c.Canvas.postLoad(),this.set("shallow",c)},t.prototype.updateChanges=function(e,r,i){var o=this,a=this.Storage,s=this.getDirtyCount();i.isClear||(this.updateItr&&clearTimeout(this.updateItr),this.updateItr=setTimeout(function(){return o.trigger(Va.update)})),this.config.noticeOnUnload&&(window.onbeforeunload=s?function(){return!0}:null),a.isAutosave()&&s>=a.getStepsBeforeSave()&&this.store().catch(function(l){return o.logError(l)})},t.prototype.loadModule=function(e){var r=new e(this);return this.set(r.name,r),r.onLoad&&this.toLoad.push(r),this.modules.push(r),r},t.prototype.loadStorableModule=function(e){var r=this.loadModule(e);return this.storables.push(r),r},t.prototype.init=function(e,r){r===void 0&&(r={}),this.destroyed&&(this.initialize(r),this.destroyed=!1),this.set("Editor",e)},t.prototype.getEditor=function(){return this.get("Editor")},t.prototype.handleUpdates=function(e,r,i){var o=this;i===void 0&&(i={}),!(this.__skip||i.temporary||i.noCount||i.avoidStore||i.partial||!this.get("ready"))&&(this.timedInterval&&clearTimeout(this.timedInterval),this.timedInterval=setTimeout(function(){var a=o.getDirtyCount()||0;i.unset;var s=Y3e(i,["unset"]);o.set("changesCount",a+1,s)},0))},t.prototype.changesUp=function(e){this.handleUpdates(0,0,e)},t.prototype.componentHovered=function(e,r,i){var o=this.previous("componentHovered");o&&this.trigger("component:unhovered",o,i),r&&this.trigger("component:hovered",r,i)},t.prototype.getSelected=function(){return this.selected.lastComponent()},t.prototype.getSelectedAll=function(){return this.selected.allComponents()},t.prototype.setSelected=function(e,r){var i=this;r===void 0&&(r={});var o=r.event,a=o&&(o.ctrlKey||o.metaKey),s=(o||{}).shiftKey,l=((0,we.isArray)(e)?e:[e]).map(function(h){var d,m;return((m=(d=h==null?void 0:h.delegate)===null||d===void 0?void 0:d.select)===null||m===void 0?void 0:m.call(d,h))||h}).filter(Boolean),c=this.getSelectedAll(),u=this.getConfig().multipleSelection,f=(0,we.isArray)(e);(f||!e)&&this.removeSelected(c.filter(function(h){return!(0,we.contains)(l,h)})),l.forEach(function(h){if(h&&(i.trigger(Tn.I.selectBefore,h,r),!h.get("selectable")||r.abort))if(r.useValid){for(var d=h.parent();d&&!d.get("selectable");)d=d.parent();h=d}else return;if(a&&u)return i.toggleSelected(h);if(s&&u){if(i.isEditing())return;i.clearSelection(i.Canvas.getWindow());var m=h.collection,g=h.index(),x,b;if(i.getSelectedAll().forEach(function(_){var S=_.collection,T=_.index();S===m&&(T<g?x=(0,we.isUndefined)(x)?T:Math.max(x,T):T>g&&(b=(0,we.isUndefined)(b)?T:Math.min(b,T)))}),!(0,we.isUndefined)(x))for(;x!==g;)i.addSelected(m.at(x),r),x++;if(!(0,we.isUndefined)(b))for(;b!==g;)i.addSelected(m.at(b),r),b--;return i.addSelected(h,r)}!f&&i.removeSelected(c.filter(function(_){return _!==h})),i.addSelected(h,r)})},t.prototype.addSelected=function(e,r){var i=this;r===void 0&&(r={});var o=(0,we.isArray)(e)?e:[e];o.forEach(function(a){var s=i.selected;if(!(!a||!a.get("selectable")||a.parents().some(function(c){return s.hasComponent(c)}))){r.forceChange&&i.removeSelected(a,r);var l=s.allComponents().filter(function(c){return(0,we.contains)(c.parents(),a)});l.forEach(function(c){return i.removeSelected(c,r)}),s.addComponent(a,r),i.trigger(Tn.I.select,a,r),i.Canvas.addSpot({type:Js.F.Select,component:a})}})},t.prototype.removeSelected=function(e,r){var i=this;r===void 0&&(r={}),this.selected.removeComponent(e,r);var o=(0,we.isArray)(e)?e:[e];o.forEach(function(a){return i.Canvas.removeSpots({type:Js.F.Select,component:a})})},t.prototype.toggleSelected=function(e,r){var i=this;r===void 0&&(r={});var o=(0,we.isArray)(e)?e:[e];o.forEach(function(a){i.selected.hasComponent(a)?i.removeSelected(a,r):i.addSelected(a,r)})},t.prototype.setHovered=function(e,r){var i=this;r===void 0&&(r={});var o=function(l,c){var u=i,f=u.config,h=u.Canvas,d=i.getHovered(),m=i.getSelectedAll(),g=Js.F.Hover,x=Js.F.Spacing;i.set("componentHovered",l||null,c),d&&(h.removeSpots({type:g,component:d}),h.removeSpots({type:x,component:d})),l&&(h.addSpot({type:g,component:l}),(!m.includes(l)||f.showOffsetsSelected)&&h.addSpot({type:x,component:l}))};if(!e)return o();var a="component:hover";if(r.forceChange&&o(),this.trigger("".concat(a,":before"),e,r),!e.get("hoverable"))if(r.useValid&&!r.abort){for(var s=e.parent();s&&!s.get("hoverable");)s=s.parent();e=s}else return;r.abort||(o(e,r),this.trigger(a,e,r))},t.prototype.getHovered=function(){return this.get("componentHovered")},t.prototype.setComponents=function(e,r){return r===void 0&&(r={}),this.Components.setComponents(e,r)},t.prototype.getComponents=function(){var e=this.Components,r=this.CodeManager;if(!(!e||!r)){var i=e.getComponents();return r.getCode(i,"json")}},t.prototype.setStyle=function(e,r){r===void 0&&(r={});var i=this.Css;return i.clear(r),i.getAll().add(e,r),this},t.prototype.addStyle=function(e,r){r===void 0&&(r={});var i=this.getStyle().add(e,r);return(0,we.isArray)(i)?i:[i]},t.prototype.getStyle=function(){return this.Css.getAll()},t.prototype.setState=function(e){return this.set("state",e),this},t.prototype.getState=function(){return this.get("state")||""},t.prototype.getHtml=function(e){e===void 0&&(e={});var r=this.config,i=r.optsHtml,o=r.jsInHtml?this.getJs(e):"",a=e.component||this.Components.getComponent(),s=a?this.CodeManager.getCode(a,"html",Zo(Zo({},i),e)):"";return s+=o?"<script>".concat(o,"<\/script>"):"",s},t.prototype.getCss=function(e){e===void 0&&(e={});var r=this.config,i=r.optsCss,o=e.avoidProtected,a=(0,we.isUndefined)(e.keepUnusedStyles)?r.keepUnusedStyles:e.keepUnusedStyles,s=this.Css,l=e.component||this.Components.getComponent(),c=o?"":r.protectedCss,u=l&&this.CodeManager.getCode(l,"css",Zo(Zo({cssc:s,keepUnusedStyles:a},i),e));return l?e.json?u:c+u:""},t.prototype.getJs=function(e){e===void 0&&(e={});var r=e.component||this.Components.getWrapper();return r?this.CodeManager.getCode(r,"js").trim():""},t.prototype.store=function(e){return z5(this,void 0,void 0,function(){var r;return W5(this,function(i){switch(i.label){case 0:return r=this.storeData(),[4,this.Storage.store(r,e)];case 1:return i.sent(),this.clearDirtyCount(),[2,r]}})})},t.prototype.load=function(e){return z5(this,arguments,void 0,function(r,i){var o;return i===void 0&&(i={}),W5(this,function(a){switch(a.label){case 0:return[4,this.Storage.load(r)];case 1:return o=a.sent(),this.loadData(o,i),[4,(0,Et.wait)()];case 2:return a.sent(),i.clear&&(this.UndoManager.clear(),this.clearDirtyCount()),[2,o]}})})},t.prototype.storeData=function(){var e={},r=this.getEditing();r&&r.trigger("sync:content",{noCount:!0}),this.storables.forEach(function(o){e=Zo(Zo({},e),o.store(1))});var i=JSON.parse(JSON.stringify(e));return this.trigger(Va.projectGet,{project:i}),i},t.prototype.loadData=function(e,r){e===void 0&&(e={}),r===void 0&&(r={});var i=!1;return(0,Et.isEmptyObj)(e)||(this.storables.forEach(function(o){return o.clear()}),this.storables.forEach(function(o){return o.load(e)}),i=!0),this.trigger(Va.projectLoad,{project:e,loaded:i,initial:!!r.initial}),e},t.prototype.getDeviceModel=function(){var e=this.get("device");return this.Devices.get(e)},t.prototype.runDefault=function(e){e===void 0&&(e={});var r=this.Commands.get(this.config.defaultCommand);!r||this.defaultRunning||(r.stop(this,this,e),r.run(this,this,e),this.defaultRunning=!0)},t.prototype.stopDefault=function(e){e===void 0&&(e={});var r=this.Commands;if(r){var i=r.get(this.config.defaultCommand);!i||!this.defaultRunning||(i.stop(this,this,e),this.defaultRunning=!1)}},t.prototype.refreshCanvas=function(e){e===void 0&&(e={}),this.Canvas.refresh({spots:e.tools})},t.prototype.clearSelection=function(e){var r,i=e||window;(r=i.getSelection())===null||r===void 0||r.removeAllRanges()},t.prototype.getCurrentMedia=function(){var e=this.config,r=this.getDeviceModel(),i=e.mediaCondition,o=e.devicePreviewMode,a=r&&r.get("widthMedia");return r&&a&&!o?"(".concat(i,": ").concat(a,")"):""},t.prototype.getWrapper=function(){return this.Components.getWrapper()},t.prototype.setCurrentFrame=function(e){return this.set("currentFrame",e)},t.prototype.getCurrentFrame=function(){return this.get("currentFrame")},t.prototype.getCurrentFrameModel=function(){var e;return(e=this.getCurrentFrame()||{})===null||e===void 0?void 0:e.model},t.prototype.getIcon=function(e){var r=this.config.icons||{};return r[e]||""},t.prototype.getDirtyCount=function(){return this.get("changesCount")},t.prototype.clearDirtyCount=function(){return this.set({changesCount:0},{isClear:!0})},t.prototype.getZoomDecimal=function(){return this.Canvas.getZoomDecimal()},t.prototype.getZoomMultiplier=function(){return this.Canvas.getZoomMultiplier()},t.prototype.setDragMode=function(e){return this.set("dmode",e)},t.prototype.getDragMode=function(e){var r=(e==null?void 0:e.getDragMode())||this.get("dmode");return r||""},t.prototype.t=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var i=this.get("I18n");return i==null?void 0:i.t.apply(i,e)},t.prototype.inAbsoluteMode=function(e){return this.getDragMode(e)==="absolute"},t.prototype.destroyAll=function(){var e=this,r=this,i=r.config,o=r.view;this.trigger(Va.destroy);var a=this.getEditor(),s=(i.grapesjs||{}).editors,l=s===void 0?[]:s,c=this.get("shallow");this._storageTimeout&&clearTimeout(this._storageTimeout),c==null||c.destroyAll(),this.stopListening(),this.stopDefault(),(this.modules||[]).slice().reverse().forEach(function(u){return u.destroy()}),o!=null&&o.remove&&o.remove(),this.clear({silent:!0}),this.destroyed=!0,["_config","view","_previousAttributes","_events","_listeners"].forEach(function(u){return e[u]={}}),l.splice(l.indexOf(a),1),(0,Et.hasWin)()&&(0,lo.default)(i.el).empty().attr(this.attrsOrig),this.trigger(Va.destroyed)},t.prototype.getEditing=function(){var e=this.get("editing");return e&&e.model||void 0},t.prototype.setEditing=function(e){return this.set("editing",e),this},t.prototype.isEditing=function(){return!!this.get("editing")},t.prototype.log=function(e,r){r===void 0&&(r={});var i=Va.log,o=r.ns,a=r.level,s=a===void 0?"debug":a;if(this.trigger(i,e,r),s&&this.trigger("".concat(i,":").concat(s),e,r),o){var l="".concat(i,"-").concat(o);this.trigger(l,e,r),s&&this.trigger("".concat(l,":").concat(s),e,r)}},t.prototype.logInfo=function(e,r){this.log(e,Zo(Zo({},r),{level:"info"}))},t.prototype.logWarning=function(e,r){this.log(e,Zo(Zo({},r),{level:"warning"}))},t.prototype.logError=function(e,r){this.log(e,Zo(Zo({},r),{level:"error"}))},t.prototype.initBaseColorPicker=function(e,r){r===void 0&&(r={});var i=this.config,o=i.colorPicker,a=o===void 0?{}:o,s=i.el,l=i.stylePrefix;return(0,lo.default)(e).spectrum(Zo(Zo({containerClassName:"".concat(l,"one-bg ").concat(l,"two-color"),appendTo:s||"body",maxSelectionSize:8,showPalette:!0,palette:[],showAlpha:!0,chooseText:"Ok",cancelText:"⨯"},r),a))},t.prototype.skip=function(e){this.__skip=!0;var r=this.UndoManager;r?r.skip(e):e(),this.__skip=!1},t.prototype.data=function(e,r,i){var o="_gjs-data";if(e[o]||(e[o]={}),(0,we.isUndefined)(i))return e[o][r];e[o][r]=i},t}(Wt.Kx);const e6e=Q3e;function t6e(){return window.location.hostname}var r6e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),n6e=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(a){a(o)})}return new(e||(e=Promise))(function(o,a){function s(u){try{c(r.next(u))}catch(f){a(f)}}function l(u){try{c(r.throw(u))}catch(f){a(f)}}function c(u){u.done?o(u.value):i(u.value).then(s,l)}c((r=r.apply(n,t||[])).next())})},i6e=function(n,t){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(e=0)),e;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return e.label++,{value:c[1],done:!1};case 5:e.label++,i=c[1],c=[0];continue;case 7:c=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){e=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){e.label=c[1];break}if(c[0]===6&&e.label<o[1]){e.label=o[1],o=c;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(c);break}o[2]&&e.ops.pop(),e.trys.pop();continue}c=t.call(n,e)}catch(u){c=[6,u],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},o6e=function(n){r6e(t,n);function t(e){var r=n.call(this,{model:e})||this,i=e.Panels,o=e.UndoManager;return e.view=r,e.once("change:ready",function(){i.active(),i.disableButtons(),o.clear(),e.getConfig().telemetry&&r.sendTelemetryData().catch(function(){}),setTimeout(function(){e.trigger(Va.load,e.Editor),e.clearDirtyCount()})}),r}return t.prototype.render=function(){var e=this,r=this,i=r.$el,o=r.model,a=o.Panels,s=o.Canvas,l=o.config,c=o.modules,u=l.stylePrefix,f=["".concat(u,"editor")];!l.customUI&&f.push("".concat(u,"one-bg ").concat(u,"two-color"));var h=(0,lo.default)(l.el||"body ".concat(l.container));l.cssIcons&&(0,Et.appendStyles)(l.cssIcons,{unique:!0,prepand:!0}),i.empty(),l.width&&h.css("width",l.width),l.height&&h.css("height",l.height),i.append(s.render()),i.append(a.render());var d=o.shallow,m=d.Canvas.render();return m.style.display="none",i.append(m),i.attr("class",f.join(" ")),h.addClass("".concat(u,"editor-cont")).empty().append(i),c.forEach(function(g){var x;return(x=g.postRender)===null||x===void 0?void 0:x.call(g,e)}),this},t.prototype.sendTelemetryData=function(){return n6e(this,void 0,void 0,function(){var e,r,i,o,a,s,l,c;return i6e(this,function(u){switch(u.label){case 0:return e=t6e(),e==="localhost"||e.includes("localhost")?[2]:(r="gjs_telemetry_sent_",i=this.model.version,o="".concat(r).concat(i),sessionStorage.getItem(o)?[2]:(a="https://app.grapesjs.com",[4,fetch("".concat(a,"/api/gjs/telemetry/collect"),{method:"POST",body:JSON.stringify({domain:e,version:i})})]));case 1:return s=u.sent(),s.ok?[3,3]:(l=Error.bind,c="Failed to send telemetry data ".concat,[4,s.text()]);case 2:throw new(l.apply(Error,[void 0,c.apply("Failed to send telemetry data ",[u.sent()])]));case 3:return sessionStorage.setItem(o,"true"),Object.keys(sessionStorage).forEach(function(f){f.startsWith(r)&&f!==o&&sessionStorage.removeItem(f)}),this.trigger(Va.telemetryInit),[2]}})})},t}(Wt.Ss);const a6e=o6e;var fg=function(){return fg=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},fg.apply(this,arguments)},w8=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(a){a(o)})}return new(e||(e=Promise))(function(o,a){function s(u){try{c(r.next(u))}catch(f){a(f)}}function l(u){try{c(r.throw(u))}catch(f){a(f)}}function c(u){u.done?o(u.value):i(u.value).then(s,l)}c((r=r.apply(n,t||[])).next())})},_8=function(n,t){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(e=0)),e;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return e.label++,{value:c[1],done:!1};case 5:e.label++,i=c[1],c=[0];continue;case 7:c=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){e=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){e.label=c[1];break}if(c[0]===6&&e.label<o[1]){e.label=o[1],o=c;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(c);break}o[2]&&e.ops.pop(),e.trys.pop();continue}c=t.call(n,e)}catch(u){c=[6,u],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},s6e=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},l6e=function(){function n(t,e){t===void 0&&(t={}),e===void 0&&(e={});var r;this.events=Va,this.html=Wa;var i=P2e();this.config=fg(fg(fg({},i),t),{pStylePrefix:(r=t.stylePrefix)!==null&&r!==void 0?r:i.stylePrefix}),this.em=new e6e(this.config),this.$=e.$,this.em.init(this),this.editor=this.em}return Object.defineProperty(n.prototype,"Config",{get:function(){return this.em.config},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"I18n",{get:function(){return this.em.I18n},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Utils",{get:function(){return this.em.Utils},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Commands",{get:function(){return this.em.Commands},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Keymaps",{get:function(){return this.em.Keymaps},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Modal",{get:function(){return this.em.Modal},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Panels",{get:function(){return this.em.Panels},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Canvas",{get:function(){return this.em.Canvas},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Parser",{get:function(){return this.em.Parser},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"CodeManager",{get:function(){return this.em.CodeManager},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"UndoManager",{get:function(){return this.em.UndoManager},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"RichTextEditor",{get:function(){return this.em.RichTextEditor},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Pages",{get:function(){return this.em.Pages},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Components",{get:function(){return this.em.Components},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"DomComponents",{get:function(){return this.em.Components},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Layers",{get:function(){return this.em.Layers},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"LayerManager",{get:function(){return this.em.Layers},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Css",{get:function(){return this.em.Css},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"CssComposer",{get:function(){return this.em.Css},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Storage",{get:function(){return this.em.Storage},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"StorageManager",{get:function(){return this.em.Storage},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Assets",{get:function(){return this.em.Assets},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"AssetManager",{get:function(){return this.em.Assets},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Blocks",{get:function(){return this.em.Blocks},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"BlockManager",{get:function(){return this.em.Blocks},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Traits",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"TraitManager",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Selectors",{get:function(){return this.em.Selectors},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"SelectorManager",{get:function(){return this.em.Selectors},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Styles",{get:function(){return this.em.Styles},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"StyleManager",{get:function(){return this.em.Styles},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Devices",{get:function(){return this.em.Devices},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"DeviceManager",{get:function(){return this.em.Devices},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"DataSources",{get:function(){return this.em.DataSources},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"EditorModel",{get:function(){return this.em},enumerable:!1,configurable:!0}),n.prototype.getConfig=function(t){return this.em.getConfig(t)},n.prototype.getHtml=function(t){return this.em.getHtml(t)},n.prototype.getCss=function(t){return this.em.getCss(t)},n.prototype.getJs=function(t){return this.em.getJs(t)},n.prototype.getComponents=function(){return this.Components.getComponents()},n.prototype.getWrapper=function(){return this.Components.getWrapper()},n.prototype.setComponents=function(t,e){return e===void 0&&(e={}),this.em.setComponents(t,e),this},n.prototype.addComponents=function(t,e){return this.getWrapper().append(t,e)},n.prototype.getStyle=function(){return this.em.Css.getAll()},n.prototype.setStyle=function(t,e){return e===void 0&&(e={}),this.em.setStyle(t,e),this},n.prototype.addStyle=function(t,e){return e===void 0&&(e={}),this.em.addStyle(t,e)},n.prototype.getSelected=function(){return this.em.getSelected()},n.prototype.getSelectedAll=function(){return this.em.getSelectedAll()},n.prototype.getSelectedToStyle=function(){var t=this.em.getSelected();if(t)return this.StyleManager.getModelToStyle(t)},n.prototype.select=function(t,e){return this.em.setSelected(t,e),this},n.prototype.selectAdd=function(t){return this.em.addSelected(t),this},n.prototype.selectRemove=function(t){return this.em.removeSelected(t),this},n.prototype.selectToggle=function(t){return this.em.toggleSelected(t),this},n.prototype.getEditing=function(){return this.em.getEditing()},n.prototype.setDevice=function(t){return this.em.set("device",t),this},n.prototype.getDevice=function(){return this.em.get("device")},n.prototype.runCommand=function(t,e){return e===void 0&&(e={}),this.Commands.run(t,e)},n.prototype.stopCommand=function(t,e){return e===void 0&&(e={}),this.Commands.stop(t,e)},n.prototype.store=function(t){return w8(this,void 0,void 0,function(){return _8(this,function(e){switch(e.label){case 0:return[4,this.em.store(t)];case 1:return[2,e.sent()]}})})},n.prototype.load=function(t){return w8(this,arguments,void 0,function(e,r){return r===void 0&&(r={}),_8(this,function(i){switch(i.label){case 0:return[4,this.em.load(e,r)];case 1:return[2,i.sent()]}})})},n.prototype.getProjectData=function(){return this.em.storeData()},n.prototype.loadProjectData=function(t){return this.em.loadData(t)},n.prototype.storeData=function(){return this.em.storeData()},n.prototype.loadData=function(t){return this.em.loadData(t)},n.prototype.getContainer=function(){return this.config.el},n.prototype.getDirtyCount=function(){return this.em.getDirtyCount()},n.prototype.clearDirtyCount=function(){return this.em.clearDirtyCount()},n.prototype.refresh=function(t){this.em.refreshCanvas(t)},n.prototype.setCustomRte=function(t){this.RichTextEditor.customRte=t},n.prototype.setCustomParserCss=function(t){return this.Parser.getConfig().parserCss=t,this},n.prototype.setDragMode=function(t){return this.em.setDragMode(t),this},n.prototype.log=function(t,e){return e===void 0&&(e={}),this.em.log(t,e),this},n.prototype.t=function(){for(var t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return(t=this.em).t.apply(t,e)},n.prototype.on=function(t,e){return this.em.on(t,e),this},n.prototype.once=function(t,e){return this.em.once(t,e),this},n.prototype.off=function(t,e){return this.em.off(t,e),this},n.prototype.trigger=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return this.em.trigger.apply(this.em,s6e([t],e,!0)),this},n.prototype.destroy=function(){this.em&&(this.em.destroyAll(),this.editorView=void 0)},n.prototype.getEl=function(){var t;return(t=this.editorView)===null||t===void 0?void 0:t.el},n.prototype.getModel=function(){return this.em},n.prototype.render=function(){var t;return(t=this.editorView)===null||t===void 0||t.remove(),this.editorView=new a6e(this.em),this.editorView.render().el},n.prototype.onReady=function(t){this.em.get("ready")?t(this):this.em.on("load",t)},n}();const c6e=l6e;var u6e=function(n,t){var e=t.get(n);if(!e){var r=(0,Et.getGlobal)()[n];e=(r==null?void 0:r.default)||r}return e},vD=function(n,t){return(0,we.isString)(n)?u6e(n,t):(n==null?void 0:n.default)||n},gD=function(n,t){n.getModel().logWarning("Plugin ".concat(t," not found"),{context:"plugins",plugin:t})},f6e=function(){function n(){this.plugins={}}return n.prototype.add=function(t,e){var r=this.get(t);return r||(this.plugins[t]=e,e)},n.prototype.get=function(t){return this.plugins[t]},n.prototype.getAll=function(){return this.plugins},n}();const d6e=f6e,h6e=function(){var n=function(){for(var e,r=window.navigator.userAgent,i=[["edge",/Edge\/([0-9\._]+)/],["ie",/MSIE\s(7\.0)/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/]],o=0;o<i.length;o++){var a=i[o];if(e=a[1].exec(r),e)break}return!!e};if((0,Et.hasWin)()&&n()){var t=DOMImplementation.prototype.createHTMLDocument;DOMImplementation.prototype.createHTMLDocument=function(e){return e||(e=""),t.apply(document.implementation,[e])}}};var Sb=function(){return Sb=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Sb.apply(this,arguments)};h6e();var LS=new d6e,S8=[],mD=function(n,t){var e=vD(n,LS);return function(r){e?e(r,t||{}):gD(r,n)}},yD={$:lo.default,editors:S8,plugins:LS,usePlugin:mD,version:"0.22.8",init:function(n){n===void 0&&(n={});var t=n.headless,e=n.container;if(!e&&!t)throw new Error("'container' is required");var r=Sb(Sb({autorender:!0,plugins:[],pluginsOpts:{}},n),{grapesjs:this,el:t?void 0:(0,we.isElement)(e)?e:document.querySelector(e)}),i=new c6e(r,{$:lo.default}),o=i.getModel();return o.initModules(),r.plugins.forEach(function(a){var s=vD(a,LS),l=r.pluginsOpts[a]||{};s?s(i,l):gD(i,a)}),o.loadOnStart(),r.autorender&&!t&&i.render(),S8.push(i),i}};const p6e=yD;var v6e=Hx.Ay;Hx.I0;Hx.nu;var bD={exports:{}};/*! grapesjs-preset-webpage - 1.0.3 */(function(n,t){(function(e,r){n.exports=r()})(typeof globalThis<"u"?globalThis:typeof window<"u"?window:Ga,()=>(()=>{var e={d:(m,g)=>{for(var x in g)e.o(g,x)&&!e.o(m,x)&&Object.defineProperty(m,x,{enumerable:!0,get:g[x]})},o:(m,g)=>Object.prototype.hasOwnProperty.call(m,g),r:m=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})}},r={};e.r(r),e.d(r,{default:()=>d});var i=function(){return i=Object.assign||function(m){for(var g,x=1,b=arguments.length;x<b;x++)for(var _ in g=arguments[x])Object.prototype.hasOwnProperty.call(g,_)&&(m[_]=g[_]);return m},i.apply(this,arguments)},o="gjs-open-import-webpage",a="set-device-desktop",s="set-device-tablet",l="set-device-mobile",c="canvas-clear",u=function(){return u=Object.assign||function(m){for(var g,x=1,b=arguments.length;x<b;x++)for(var _ in g=arguments[x])Object.prototype.hasOwnProperty.call(g,_)&&(m[_]=g[_]);return m},u.apply(this,arguments)};const f=function(m,g){var x=m.Commands,b=g.textCleanCanvas;(function(_,S){var T=_.getConfig("stylePrefix"),C=S.modalImportLabel,w=S.modalImportContent;_.Commands.add(o,{codeViewer:null,container:null,run:function(N){var A=typeof w=="function"?w(N):w,j=this.getCodeViewer();N.Modal.open({title:S.modalImportTitle,content:this.getContainer()}).onceClose(function(){return N.stopCommand(o)}),j.setContent(A??""),j.refresh(),setTimeout(function(){return j.focus()},0)},stop:function(){_.Modal.close()},getContainer:function(){if(!this.container){var N=this.getCodeViewer(),A=document.createElement("div");if(A.className="".concat(T,"import-container"),C){var j=document.createElement("div");j.className="".concat(T,"import-label"),j.innerHTML=C,A.appendChild(j)}A.appendChild(N.getElement());var R=document.createElement("button");R.type="button",R.innerHTML=S.modalImportButton,R.className="".concat(T,"btn-prim ").concat(T,"btn-import"),R.onclick=function(){_.Css.clear(),_.setComponents(N.getContent().trim()),_.Modal.close()},A.appendChild(R),this.container=A}return this.container},getCodeViewer:function(){return this.codeViewer||(this.codeViewer=_.CodeManager.createViewer(u({codeName:"htmlmixed",theme:"hopscotch",readOnly:!1},S.importViewerOptions))),this.codeViewer}})})(m,g),x.add(a,{run:function(_){return _.setDevice("Desktop")},stop:function(){}}),x.add(s,{run:function(_){return _.setDevice("Tablet")},stop:function(){}}),x.add(l,{run:function(_){return _.setDevice("Mobile portrait")},stop:function(){}}),x.add(c,function(_){return confirm(b)&&_.runCommand("core:canvas-clear")})};var h=function(){return h=Object.assign||function(m){for(var g,x=1,b=arguments.length;x<b;x++)for(var _ in g=arguments[x])Object.prototype.hasOwnProperty.call(g,_)&&(m[_]=g[_]);return m},h.apply(this,arguments)};const d=function(m,g){g===void 0&&(g={});var x=h({blocks:["link-block","quote","text-basic"],block:function(){return{}},modalImportTitle:"Import",modalImportButton:"Import",modalImportLabel:"",modalImportContent:"",importViewerOptions:{},textCleanCanvas:"Are you sure you want to clear the canvas?",showStylesOnChange:!0,useCustomTheme:!0},g);if(x.useCustomTheme&&typeof window<"u"){var b="gjs-",_="";[["one","#463a3c"],["two","#b9a5a6"],["three","#804f7b"],["four","#d97aa6"]].forEach(function(T){var C=T[0],w=T[1];_+=`
        .`.concat(b).concat(C,`-bg {
          background-color: `).concat(w,`;
        }

        .`).concat(b).concat(C,`-color {
          color: `).concat(w,`;
        }

        .`).concat(b).concat(C,`-color-h:hover {
          color: `).concat(w,`;
        }
      `)});var S=document.createElement("style");S.innerText=_,document.head.appendChild(S)}(function(T,C){var w=function(N,A){C.blocks.indexOf(N)>=0&&T.Blocks.add(N,i(i({select:!0,category:"Basic"},A),C.block(N)))};w("link-block",{label:"Link Block",media:`<svg viewBox="0 0 24 24">
      <path fill="currentColor" d="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z"></path>
    </svg>`,content:{type:"link",editable:!1,droppable:!0,style:{display:"inline-block",padding:"5px","min-height":"50px","min-width":"50px"}}}),w("quote",{label:"Quote",media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M14,17H17L19,13V7H13V13H16M6,17H9L11,13V7H5V13H8L6,17Z" />
    </svg>`,content:`<blockquote class="quote">
        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore ipsum dolor sit
      </blockquote>`}),w("text-basic",{label:"Text section",media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M21,6V8H3V6H21M3,18H12V16H3V18M3,13H21V11H3V13Z" />
    </svg>`,content:`<section class="bdg-sect">
      <h1 class="heading">Insert title here</h1>
      <p class="paragraph">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua</p>
      </section>`})})(m,x),f(m,x),function(T,C){var w=T.Panels,N=T.getConfig(),A="sw-visibility",j="export-template",R="open-sm",L="open-tm",M="open-layers",I="open-blocks",D="fullscreen",V="preview",F='style="display: block; max-width:22px"';N.showDevices=!1,w.getPanels().reset([{id:"commands",buttons:[{}]},{id:"devices-c",buttons:[{id:a,command:a,active:!0,label:"<svg ".concat(F,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M21,16H3V4H21M21,2H3C1.89,2 1,2.89 1,4V16A2,2 0 0,0 3,18H10V20H8V22H16V20H14V18H21A2,2 0 0,0 23,16V4C23,2.89 22.1,2 21,2Z" />
        </svg>`)},{id:s,command:s,label:"<svg ".concat(F,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M19,18H5V6H19M21,4H3C1.89,4 1,4.89 1,6V18A2,2 0 0,0 3,20H21A2,2 0 0,0 23,18V6C23,4.89 22.1,4 21,4Z" />
        </svg>`)},{id:l,command:l,label:"<svg ".concat(F,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M17,19H7V5H17M17,1H7C5.89,1 5,1.89 5,3V21A2,2 0 0,0 7,23H17A2,2 0 0,0 19,21V3C19,1.89 18.1,1 17,1Z" />
        </svg>`)}]},{id:"options",buttons:[{id:A,command:A,context:A,label:"<svg ".concat(F,` viewBox="0 0 24 24">
        <path fill="currentColor" d="M15,5H17V3H15M15,21H17V19H15M11,5H13V3H11M19,5H21V3H19M19,9H21V7H19M19,21H21V19H19M19,13H21V11H19M19,17H21V15H19M3,5H5V3H3M3,9H5V7H3M3,13H5V11H3M3,17H5V15H3M3,21H5V19H3M11,21H13V19H11M7,21H9V19H7M7,5H9V3H7V5Z" />
    </svg>`)},{id:V,context:V,command:function(){return T.runCommand(V)},label:"<svg ".concat(F,' viewBox="0 0 24 24"><path fill="currentColor" d="M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z"></path></svg>')},{id:D,command:D,context:D,label:"<svg ".concat(F,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M5,5H10V7H7V10H5V5M14,5H19V10H17V7H14V5M17,14H19V19H14V17H17V14M10,17V19H5V14H7V17H10Z" />
        </svg>`)},{id:j,command:function(){return T.runCommand(j)},label:"<svg ".concat(F,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M12.89,3L14.85,3.4L11.11,21L9.15,20.6L12.89,3M19.59,12L16,8.41V5.58L22.42,12L16,18.41V15.58L19.59,12M1.58,12L8,5.58V8.41L4.41,12L8,15.58V18.41L1.58,12Z" />
        </svg>`)},{id:"undo",command:function(){return T.runCommand("core:undo")},label:"<svg ".concat(F,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M20 13.5C20 17.09 17.09 20 13.5 20H6V18H13.5C16 18 18 16 18 13.5S16 9 13.5 9H7.83L10.91 12.09L9.5 13.5L4 8L9.5 2.5L10.92 3.91L7.83 7H13.5C17.09 7 20 9.91 20 13.5Z" />
        </svg>`)},{id:"redo",command:function(){return T.runCommand("core:redo")},label:"<svg ".concat(F,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M10.5 18H18V20H10.5C6.91 20 4 17.09 4 13.5S6.91 7 10.5 7H16.17L13.08 3.91L14.5 2.5L20 8L14.5 13.5L13.09 12.09L16.17 9H10.5C8 9 6 11 6 13.5S8 18 10.5 18Z" />
        </svg>`)},{id:o,command:function(){return T.runCommand(o)},label:"<svg ".concat(F,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z" />
        </svg>`)},{id:c,command:function(){return T.runCommand(c)},label:"<svg ".concat(F,` viewBox="0 0 24 24">
              <path fill="currentColor" d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" />
          </svg>`)}]},{id:"views",buttons:[{id:R,command:R,active:!0,label:"<svg ".concat(F,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M20.71,4.63L19.37,3.29C19,2.9 18.35,2.9 17.96,3.29L9,12.25L11.75,15L20.71,6.04C21.1,5.65 21.1,5 20.71,4.63M7,14A3,3 0 0,0 4,17C4,18.31 2.84,19 2,19C2.92,20.22 4.5,21 6,21A4,4 0 0,0 10,17A3,3 0 0,0 7,14Z" />
        </svg>`)},{id:L,command:L,label:"<svg ".concat(F,` viewBox="0 0 24 24">
          <path fill="currentColor" d="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z" />
      </svg>`)},{id:M,command:M,label:"<svg ".concat(F,` viewBox="0 0 24 24">
          <path fill="currentColor" d="M12,16L19.36,10.27L21,9L12,2L3,9L4.63,10.27M12,18.54L4.62,12.81L3,14.07L12,21.07L21,14.07L19.37,12.8L12,18.54Z" />
      </svg>`)},{id:I,command:I,label:"<svg ".concat(F,` viewBox="0 0 24 24">
          <path fill="currentColor" d="M17,13H13V17H11V13H7V11H11V7H13V11H17M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z" />
      </svg>`)}]}]);var G=w.getButton("views",I);T.on("load",function(){return G==null?void 0:G.set("active",!0)}),C.showStylesOnChange&&T.on("component:selected",function(){var W=w.getButton("views",R),Y=w.getButton("views",M);Y&&Y.get("active")||!T.getSelected()||W==null||W.set("active",!0)})}(m,x)};return r})())})(bD);var g6e=bD.exports;const T8=hn(g6e);var xD={exports:{}};/*! grapesjs-preset-newsletter - 1.0.2 */(function(n,t){(function(e,r){n.exports=r()})(typeof globalThis<"u"?globalThis:typeof window<"u"?window:Ga,()=>(()=>{var e={1073:a=>{a.exports={trueFunc:function(){return!0},falseFunc:function(){return!1}}},9125:(a,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.groupSelectors=s.getDocumentRoot=void 0;var c=l(2515);s.getDocumentRoot=function(u){for(;u.parent;)u=u.parent;return u},s.groupSelectors=function(u){for(var f=[],h=[],d=0,m=u;d<m.length;d++){var g=m[d];g.some(c.isFilter)?f.push(g):h.push(g)}return[h,f]}},7248:function(a,s,l){var c=this&&this.__assign||function(){return c=Object.assign||function(G){for(var W,Y=1,te=arguments.length;Y<te;Y++)for(var he in W=arguments[Y])Object.prototype.hasOwnProperty.call(W,he)&&(G[he]=W[he]);return G},c.apply(this,arguments)},u=this&&this.__createBinding||(Object.create?function(G,W,Y,te){te===void 0&&(te=Y);var he=Object.getOwnPropertyDescriptor(W,Y);he&&!("get"in he?!W.__esModule:he.writable||he.configurable)||(he={enumerable:!0,get:function(){return W[Y]}}),Object.defineProperty(G,te,he)}:function(G,W,Y,te){te===void 0&&(te=Y),G[te]=W[Y]}),f=this&&this.__setModuleDefault||(Object.create?function(G,W){Object.defineProperty(G,"default",{enumerable:!0,value:W})}:function(G,W){G.default=W}),h=this&&this.__importStar||function(G){if(G&&G.__esModule)return G;var W={};if(G!=null)for(var Y in G)Y!=="default"&&Object.prototype.hasOwnProperty.call(G,Y)&&u(W,G,Y);return f(W,G),W},d=this&&this.__spreadArray||function(G,W,Y){if(Y||arguments.length===2)for(var te,he=0,z=W.length;he<z;he++)!te&&he in W||(te||(te=Array.prototype.slice.call(W,0,he)),te[he]=W[he]);return G.concat(te||Array.prototype.slice.call(W))};Object.defineProperty(s,"__esModule",{value:!0}),s.select=s.filter=s.some=s.is=s.aliases=s.pseudos=s.filters=void 0;var m=l(7763),g=l(5366),x=h(l(9432)),b=l(9125),_=l(2515),S=l(5366);Object.defineProperty(s,"filters",{enumerable:!0,get:function(){return S.filters}}),Object.defineProperty(s,"pseudos",{enumerable:!0,get:function(){return S.pseudos}}),Object.defineProperty(s,"aliases",{enumerable:!0,get:function(){return S.aliases}});var T={type:m.SelectorType.Pseudo,name:"scope",data:null},C=c({},T),w={type:m.SelectorType.Universal,namespace:null};function N(G,W,Y){if(Y===void 0&&(Y={}),typeof W=="function")return G.some(W);var te=(0,b.groupSelectors)((0,m.parse)(W)),he=te[0],z=te[1];return he.length>0&&G.some((0,g._compileToken)(he,Y))||z.some(function(Z){return j(Z,G,Y).length>0})}function A(G,W,Y){if(W.length===0)return[];var te,he=(0,b.groupSelectors)(G),z=he[0],Z=he[1];if(z.length){var X=F(W,z,Y);if(Z.length===0)return X;X.length&&(te=new Set(X))}for(var ae=0;ae<Z.length&&(te==null?void 0:te.size)!==W.length;ae++){var ve=Z[ae];if((te?W.filter(function(me){return x.isTag(me)&&!te.has(me)}):W).length===0)break;if((X=j(ve,W,Y)).length)if(te)X.forEach(function(me){return te.add(me)});else{if(ae===Z.length-1)return X;te=new Set(X)}}return te!==void 0?te.size===W.length?W:W.filter(function(me){return te.has(me)}):[]}function j(G,W,Y){var te;return G.some(m.isTraversal)?I((te=Y.root)!==null&&te!==void 0?te:(0,b.getDocumentRoot)(W[0]),d(d([],G,!0),[C],!1),Y,!0,W):I(W,G,Y,!1)}s.is=function(G,W,Y){return Y===void 0&&(Y={}),N([G],W,Y)},s.some=N,s.filter=function(G,W,Y){return Y===void 0&&(Y={}),A((0,m.parse)(G),W,Y)},s.select=function(G,W,Y){if(Y===void 0&&(Y={}),typeof G=="function")return V(W,G);var te=(0,b.groupSelectors)((0,m.parse)(G)),he=te[0],z=te[1].map(function(Z){return I(W,Z,Y,!0)});return he.length&&z.push(D(W,he,Y,1/0)),z.length===0?[]:z.length===1?z[0]:x.uniqueSort(z.reduce(function(Z,X){return d(d([],Z,!0),X,!0)}))};var R=new Set([m.SelectorType.Descendant,m.SelectorType.Adjacent]);function L(G){return G!==T&&G.type==="pseudo"&&(G.name==="scope"||Array.isArray(G.data)&&G.data.some(function(W){return W.some(L)}))}function M(G,W,Y){return Y&&G.some(L)?c(c({},W),{context:Y}):W}function I(G,W,Y,te,he){var z=W.findIndex(_.isFilter),Z=W.slice(0,z),X=W[z],ae=(0,_.getLimit)(X.name,X.data);if(ae===0)return[];var ve=M(Z,Y,he),me=(Z.length!==0||Array.isArray(G)?Z.length===0||Z.length===1&&Z[0]===T?(Array.isArray(G)?G:[G]).filter(x.isTag):te||Z.some(m.isTraversal)?D(G,[Z],ve,ae):F(G,[Z],ve):x.getChildren(G).filter(x.isTag)).slice(0,ae),Ee=function(se,ce,$e,Ue){var Te=typeof $e=="string"?parseInt($e,10):NaN;switch(se){case"first":case"lt":return ce;case"last":return ce.length>0?[ce[ce.length-1]]:ce;case"nth":case"eq":return isFinite(Te)&&Math.abs(Te)<ce.length?[Te<0?ce[ce.length+Te]:ce[Te]]:[];case"gt":return isFinite(Te)?ce.slice(Te+1):[];case"even":return ce.filter(function(Q,de){return de%2==0});case"odd":return ce.filter(function(Q,de){return de%2==1});case"not":var ft=new Set(A($e,ce,Ue));return ce.filter(function(Q){return!ft.has(Q)})}}(X.name,me,X.data,Y);if(Ee.length===0||W.length===z+1)return Ee;var ke=W.slice(z+1),He=ke.some(m.isTraversal),Re=M(ke,Y,he);return He&&(R.has(ke[0].type)&&ke.unshift(w),ke.unshift(T)),ke.some(_.isFilter)?I(Ee,ke,Y,!1,he):He?D(Ee,[ke],Re,1/0):F(Ee,[ke],Re)}function D(G,W,Y,te){return te===0?[]:V(G,(0,g._compileToken)(W,Y,G),te)}function V(G,W,Y){Y===void 0&&(Y=1/0);var te=(0,g.prepareContext)(G,x,W.shouldTestNextSiblings);return x.find(function(he){return x.isTag(he)&&W(he)},te,!0,Y)}function F(G,W,Y){var te=(Array.isArray(G)?G:[G]).filter(x.isTag);if(te.length===0)return te;var he=(0,g._compileToken)(W,Y);return te.filter(he)}},2515:(a,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getLimit=s.isFilter=s.filterNames=void 0,s.filterNames=new Set(["first","last","eq","gt","nth","lt","even","odd"]),s.isFilter=function l(c){return c.type==="pseudo"&&(!!s.filterNames.has(c.name)||!(c.name!=="not"||!Array.isArray(c.data))&&c.data.some(function(u){return u.some(l)}))},s.getLimit=function(l,c){var u=c!=null?parseInt(c,10):NaN;switch(l){case"first":return 1;case"nth":case"eq":return isFinite(u)?u>=0?u+1:1/0:0;case"lt":return isFinite(u)?u>=0?u:1/0:0;case"gt":return isFinite(u)?1/0:0;default:return 1/0}}},6451:(a,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.toggleClass=s.removeClass=s.addClass=s.hasClass=s.removeAttr=s.val=s.data=s.prop=s.attr=void 0;var c=l(6634),u=l(5633),f=Object.prototype.hasOwnProperty,h=/\s+/,d="data-",m={null:null,true:!0,false:!1},g=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,x=/^{[^]*}$|^\[[^]*]$/;function b(j,R,L){var M;if(j&&u.isTag(j))return(M=j.attribs)!==null&&M!==void 0||(j.attribs={}),R?f.call(j.attribs,R)?!L&&g.test(R)?R:j.attribs[R]:j.name==="option"&&R==="value"?c.text(j.children):j.name!=="input"||j.attribs.type!=="radio"&&j.attribs.type!=="checkbox"||R!=="value"?void 0:"on":j.attribs}function _(j,R,L){L===null?N(j,R):j.attribs[R]=""+L}function S(j,R,L){if(j&&u.isTag(j))return R in j?j[R]:!L&&g.test(R)?b(j,R,!1)!==void 0:b(j,R,L)}function T(j,R,L,M){R in j?j[R]=L:_(j,R,!M&&g.test(R)?L?"":null:""+L)}function C(j,R,L){var M,I=j;(M=I.data)!==null&&M!==void 0||(I.data={}),typeof R=="object"?Object.assign(I.data,R):typeof R=="string"&&L!==void 0&&(I.data[R]=L)}function w(j,R){var L,M,I;R==null?M=(L=Object.keys(j.attribs).filter(function(G){return G.startsWith(d)})).map(function(G){return u.camelCase(G.slice(d.length))}):(L=[d+u.cssCase(R)],M=[R]);for(var D=0;D<L.length;++D){var V=L[D],F=M[D];if(f.call(j.attribs,V)&&!f.call(j.data,F)){if(I=j.attribs[V],f.call(m,I))I=m[I];else if(I===String(Number(I)))I=Number(I);else if(x.test(I))try{I=JSON.parse(I)}catch{}j.data[F]=I}}return R==null?j.data:I}function N(j,R){j.attribs&&f.call(j.attribs,R)&&delete j.attribs[R]}function A(j){return j?j.trim().split(h):[]}s.attr=function(j,R){if(typeof j=="object"||R!==void 0){if(typeof R=="function"){if(typeof j!="string")throw new Error("Bad combination of arguments.");return u.domEach(this,function(L,M){u.isTag(L)&&_(L,j,R.call(L,M,L.attribs[j]))})}return u.domEach(this,function(L){u.isTag(L)&&(typeof j=="object"?Object.keys(j).forEach(function(M){var I=j[M];_(L,M,I)}):_(L,j,R))})}return arguments.length>1?this:b(this[0],j,this.options.xmlMode)},s.prop=function(j,R){var L=this;if(typeof j=="string"&&R===void 0)switch(j){case"style":var M=this.css(),I=Object.keys(M);return I.forEach(function(V,F){M[F]=V}),M.length=I.length,M;case"tagName":case"nodeName":var D=this[0];return u.isTag(D)?D.name.toUpperCase():void 0;case"outerHTML":return this.clone().wrap("<container />").parent().html();case"innerHTML":return this.html();default:return S(this[0],j,this.options.xmlMode)}if(typeof j=="object"||R!==void 0){if(typeof R=="function"){if(typeof j=="object")throw new Error("Bad combination of arguments.");return u.domEach(this,function(V,F){u.isTag(V)&&T(V,j,R.call(V,F,S(V,j,L.options.xmlMode)),L.options.xmlMode)})}return u.domEach(this,function(V){u.isTag(V)&&(typeof j=="object"?Object.keys(j).forEach(function(F){var G=j[F];T(V,F,G,L.options.xmlMode)}):T(V,j,R,L.options.xmlMode))})}},s.data=function(j,R){var L,M=this[0];if(M&&u.isTag(M)){var I=M;return(L=I.data)!==null&&L!==void 0||(I.data={}),j?typeof j=="object"||R!==void 0?(u.domEach(this,function(D){u.isTag(D)&&(typeof j=="object"?C(D,j):C(D,j,R))}),this):f.call(I.data,j)?I.data[j]:w(I,j):w(I)}},s.val=function(j){var R=arguments.length===0,L=this[0];if(!L||!u.isTag(L))return R?void 0:this;switch(L.name){case"textarea":return this.text(j);case"select":var M=this.find("option:selected");if(!R){if(this.attr("multiple")==null&&typeof j=="object")return this;this.find("option").removeAttr("selected");for(var I=typeof j!="object"?[j]:j,D=0;D<I.length;D++)this.find('option[value="'+I[D]+'"]').attr("selected","");return this}return this.attr("multiple")?M.toArray().map(function(V){return c.text(V.children)}):M.attr("value");case"input":case"option":return R?this.attr("value"):this.attr("value",j)}},s.removeAttr=function(j){for(var R=A(j),L=function(D){u.domEach(M,function(V){u.isTag(V)&&N(V,R[D])})},M=this,I=0;I<R.length;I++)L(I);return this},s.hasClass=function(j){return this.toArray().some(function(R){var L=u.isTag(R)&&R.attribs.class,M=-1;if(L&&j.length)for(;(M=L.indexOf(j,M+1))>-1;){var I=M+j.length;if((M===0||h.test(L[M-1]))&&(I===L.length||h.test(L[I])))return!0}return!1})},s.addClass=function j(R){if(typeof R=="function")return u.domEach(this,function(Y,te){if(u.isTag(Y)){var he=Y.attribs.class||"";j.call([Y],R.call(Y,te,he))}});if(!R||typeof R!="string")return this;for(var L=R.split(h),M=this.length,I=0;I<M;I++){var D=this[I];if(u.isTag(D)){var V=b(D,"class",!1);if(V){for(var F=" "+V+" ",G=0;G<L.length;G++){var W=L[G]+" ";F.includes(" "+W)||(F+=W)}_(D,"class",F.trim())}else _(D,"class",L.join(" ").trim())}}return this},s.removeClass=function j(R){if(typeof R=="function")return u.domEach(this,function(D,V){u.isTag(D)&&j.call([D],R.call(D,V,D.attribs.class||""))});var L=A(R),M=L.length,I=arguments.length===0;return u.domEach(this,function(D){if(u.isTag(D))if(I)D.attribs.class="";else{for(var V=A(D.attribs.class),F=!1,G=0;G<M;G++){var W=V.indexOf(L[G]);W>=0&&(V.splice(W,1),F=!0,G--)}F&&(D.attribs.class=V.join(" "))}})},s.toggleClass=function j(R,L){if(typeof R=="function")return u.domEach(this,function(he,z){u.isTag(he)&&j.call([he],R.call(he,z,he.attribs.class||"",L),L)});if(!R||typeof R!="string")return this;for(var M=R.split(h),I=M.length,D=typeof L=="boolean"?L?1:-1:0,V=this.length,F=0;F<V;F++){var G=this[F];if(u.isTag(G)){for(var W=A(G.attribs.class),Y=0;Y<I;Y++){var te=W.indexOf(M[Y]);D>=0&&te<0?W.push(M[Y]):D<=0&&te>=0&&W.splice(te,1)}G.attribs.class=W.join(" ")}}return this}},9806:(a,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.css=void 0;var c=l(5633);function u(h,d,m,g){if(typeof d=="string"){var x=f(h),b=typeof m=="function"?m.call(h,g,x[d]):m;b===""?delete x[d]:b!=null&&(x[d]=b),h.attribs.style=(_=x,Object.keys(_).reduce(function(S,T){return S+(S?" ":"")+T+": "+_[T]+";"},""))}else typeof d=="object"&&Object.keys(d).forEach(function(S,T){u(h,S,d[S],T)});var _}function f(h,d){if(h&&c.isTag(h)){var m=function(x){return x=(x||"").trim(),x?x.split(";").reduce(function(b,_){var S=_.indexOf(":");return S<1||S===_.length-1||(b[_.slice(0,S).trim()]=_.slice(S+1).trim()),b},{}):{}}(h.attribs.style);if(typeof d=="string")return m[d];if(Array.isArray(d)){var g={};return d.forEach(function(x){m[x]!=null&&(g[x]=m[x])}),g}return m}}s.css=function(h,d){return h!=null&&d!=null||typeof h=="object"&&!Array.isArray(h)?c.domEach(this,function(m,g){c.isTag(m)&&u(m,h,d,g)}):f(this[0],h)}},3432:(a,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.serializeArray=s.serialize=void 0;var c=l(5633),u="input,select,textarea,keygen",f=/%20/g,h=/\r?\n/g;s.serialize=function(){return this.serializeArray().map(function(d){return encodeURIComponent(d.name)+"="+encodeURIComponent(d.value)}).join("&").replace(f,"+")},s.serializeArray=function(){var d=this;return this.map(function(m,g){var x=d._make(g);return c.isTag(g)&&g.name==="form"?x.find(u).toArray():x.filter(u).toArray()}).filter('[name!=""]:enabled:not(:submit, :button, :image, :reset, :file):matches([checked], :not(:checkbox, :radio))').map(function(m,g){var x,b=d._make(g),_=b.attr("name"),S=(x=b.val())!==null&&x!==void 0?x:"";return Array.isArray(S)?S.map(function(T){return{name:_,value:T.replace(h,`\r
`)}}):{name:_,value:S.replace(h,`\r
`)}}).toArray()}},848:(a,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.clone=s.text=s.toString=s.html=s.empty=s.replaceWith=s.remove=s.insertBefore=s.before=s.insertAfter=s.after=s.wrapAll=s.unwrap=s.wrapInner=s.wrap=s.prepend=s.append=s.prependTo=s.appendTo=s._makeDomArray=void 0;var c=l(655),u=l(7915),f=l(7915),h=c.__importStar(l(5012)),d=l(6634),m=l(5633),g=l(3719);function x(S){return function(){for(var T=this,C=[],w=0;w<arguments.length;w++)C[w]=arguments[w];var N=this.length-1;return m.domEach(this,function(A,j){if(u.hasChildren(A)){var R=typeof C[0]=="function"?C[0].call(A,j,d.html(A.children)):C,L=T._makeDomArray(R,j<N);S(L,A.children,A)}})}}function b(S,T,C,w,N){for(var A,j,R=c.__spreadArray([T,C],w),L=S[T-1]||null,M=S[T+C]||null,I=0;I<w.length;++I){var D=w[I],V=D.parent;if(V){var F=V.children.indexOf(w[I]);F>-1&&(V.children.splice(F,1),N===V&&T>F&&R[0]--)}D.parent=N,D.prev&&(D.prev.next=(A=D.next)!==null&&A!==void 0?A:null),D.next&&(D.next.prev=(j=D.prev)!==null&&j!==void 0?j:null),D.prev=w[I-1]||L,D.next=w[I+1]||M}return L&&(L.next=w[0]),M&&(M.prev=w[w.length-1]),S.splice.apply(S,R)}function _(S){return function(T){for(var C=this.length-1,w=this.parents().last(),N=0;N<this.length;N++){var A=this[N],j=typeof T=="function"?T.call(A,N,A):typeof T!="string"||m.isHtml(T)?T:w.find(T).clone(),R=this._makeDomArray(j,N<C)[0];if(R&&g.DomUtils.hasChildren(R)){for(var L=R,M=0;M<L.children.length;){var I=L.children[M];m.isTag(I)?(L=I,M=0):M++}S(A,L,[R])}}return this}}s._makeDomArray=function(S,T){var C=this;return S==null?[]:m.isCheerio(S)?T?m.cloneDom(S.get()):S.get():Array.isArray(S)?S.reduce(function(w,N){return w.concat(C._makeDomArray(N,T))},[]):typeof S=="string"?h.default(S,this.options,!1).children:T?m.cloneDom([S]):[S]},s.appendTo=function(S){return(m.isCheerio(S)?S:this._make(S)).append(this),this},s.prependTo=function(S){return(m.isCheerio(S)?S:this._make(S)).prepend(this),this},s.append=x(function(S,T,C){b(T,T.length,0,S,C)}),s.prepend=x(function(S,T,C){b(T,0,0,S,C)}),s.wrap=_(function(S,T,C){var w=S.parent;if(w){var N=w.children,A=N.indexOf(S);h.update([S],T),b(N,A,0,C,w)}}),s.wrapInner=_(function(S,T,C){u.hasChildren(S)&&(h.update(S.children,T),h.update(C,S))}),s.unwrap=function(S){var T=this;return this.parent(S).not("body").each(function(C,w){T._make(w).replaceWith(w.children)}),this},s.wrapAll=function(S){var T=this[0];if(T){for(var C=this._make(typeof S=="function"?S.call(T,0,T):S).insertBefore(T),w=void 0,N=0;N<C.length;N++)C[N].type==="tag"&&(w=C[N]);for(var A=0;w&&A<w.children.length;){var j=w.children[A];j.type==="tag"?(w=j,A=0):A++}w&&this._make(w).append(this)}return this},s.after=function(){for(var S=this,T=[],C=0;C<arguments.length;C++)T[C]=arguments[C];var w=this.length-1;return m.domEach(this,function(N,A){var j=N.parent;if(g.DomUtils.hasChildren(N)&&j){var R=j.children,L=R.indexOf(N);if(!(L<0)){var M=typeof T[0]=="function"?T[0].call(N,A,d.html(N.children)):T;b(R,L+1,0,S._makeDomArray(M,A<w),j)}}})},s.insertAfter=function(S){var T=this;typeof S=="string"&&(S=this._make(S)),this.remove();var C=[];return this._makeDomArray(S).forEach(function(w){var N=T.clone().toArray(),A=w.parent;if(A){var j=A.children,R=j.indexOf(w);R<0||(b(j,R+1,0,N,A),C.push.apply(C,N))}}),this._make(C)},s.before=function(){for(var S=this,T=[],C=0;C<arguments.length;C++)T[C]=arguments[C];var w=this.length-1;return m.domEach(this,function(N,A){var j=N.parent;if(g.DomUtils.hasChildren(N)&&j){var R=j.children,L=R.indexOf(N);if(!(L<0)){var M=typeof T[0]=="function"?T[0].call(N,A,d.html(N.children)):T;b(R,L,0,S._makeDomArray(M,A<w),j)}}})},s.insertBefore=function(S){var T=this,C=this._make(S);this.remove();var w=[];return m.domEach(C,function(N){var A=T.clone().toArray(),j=N.parent;if(j){var R=j.children,L=R.indexOf(N);L<0||(b(R,L,0,A,j),w.push.apply(w,A))}}),this._make(w)},s.remove=function(S){var T=S?this.filter(S):this;return m.domEach(T,function(C){g.DomUtils.removeElement(C),C.prev=C.next=C.parent=null}),this},s.replaceWith=function(S){var T=this;return m.domEach(this,function(C,w){var N=C.parent;if(N){var A=N.children,j=typeof S=="function"?S.call(C,w,C):S,R=T._makeDomArray(j);h.update(R,null);var L=A.indexOf(C);b(A,L,1,R,N),R.includes(C)||(C.parent=C.prev=C.next=null)}})},s.empty=function(){return m.domEach(this,function(S){g.DomUtils.hasChildren(S)&&(S.children.forEach(function(T){T.next=T.prev=T.parent=null}),S.children.length=0)})},s.html=function(S){if(S===void 0){var T=this[0];return T&&g.DomUtils.hasChildren(T)?d.html(T.children,this.options):null}var C=c.__assign(c.__assign({},this.options),{context:null});return m.domEach(this,function(w){if(g.DomUtils.hasChildren(w)){w.children.forEach(function(A){A.next=A.prev=A.parent=null}),C.context=w;var N=m.isCheerio(S)?S.toArray():h.default(""+S,C,!1).children;h.update(N,w)}})},s.toString=function(){return d.html(this,this.options)},s.text=function S(T){var C=this;return T===void 0?d.text(this):typeof T=="function"?m.domEach(this,function(w,N){S.call(C._make(w),T.call(w,N,d.text([w])))}):m.domEach(this,function(w){if(g.DomUtils.hasChildren(w)){w.children.forEach(function(A){A.next=A.prev=A.parent=null});var N=new f.Text(T);h.update(N,w)}})},s.clone=function(){return this._make(m.cloneDom(this.get()))}},1042:(a,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.addBack=s.add=s.end=s.slice=s.index=s.toArray=s.get=s.eq=s.last=s.first=s.has=s.not=s.is=s.filterArray=s.filter=s.map=s.each=s.contents=s.children=s.siblings=s.prevUntil=s.prevAll=s.prev=s.nextUntil=s.nextAll=s.next=s.closest=s.parentsUntil=s.parents=s.parent=s.find=void 0;var c=l(655),u=l(7915),f=c.__importStar(l(7248)),h=l(5633),d=l(6634),m=l(3719),g=m.DomUtils.uniqueSort,x=/^\s*[~+]/;function b(A){return function(j){for(var R=[],L=1;L<arguments.length;L++)R[L-1]=arguments[L];return function(M){var I,D=A(j,this);return M&&(D=N(D,M,this.options.xmlMode,(I=this._root)===null||I===void 0?void 0:I[0])),this._make(this.length>1&&D.length>1?R.reduce(function(V,F){return F(V)},D):D)}}}s.find=function(A){var j;if(!A)return this._make([]);var R=this.toArray();if(typeof A!="string"){var L=h.isCheerio(A)?A.toArray():[A];return this._make(L.filter(function(D){return R.some(function(V){return d.contains(V,D)})}))}var M=x.test(A)?R:this.children().toArray(),I={context:R,root:(j=this._root)===null||j===void 0?void 0:j[0],xmlMode:this.options.xmlMode};return this._make(f.select(A,M,I))};var _=b(function(A,j){for(var R,L=[],M=0;M<j.length;M++){var I=A(j[M]);L.push(I)}return(R=new Array).concat.apply(R,L)}),S=b(function(A,j){for(var R=[],L=0;L<j.length;L++){var M=A(j[L]);M!==null&&R.push(M)}return R});function T(A){for(var j=[],R=1;R<arguments.length;R++)j[R-1]=arguments[R];var L=null,M=b(function(I,D){var V=[];return h.domEach(D,function(F){for(var G;(G=I(F))&&!(L!=null&&L(G,V.length));F=G)V.push(G)}),V}).apply(void 0,c.__spreadArray([A],j));return function(I,D){var V=this;L=typeof I=="string"?function(G){return f.is(G,I,V.options)}:I?w(I):null;var F=M.call(this,D);return L=null,F}}function C(A){return Array.from(new Set(A))}function w(A){return typeof A=="function"?function(j,R){return A.call(j,R,j)}:h.isCheerio(A)?function(j){return Array.prototype.includes.call(A,j)}:function(j){return A===j}}function N(A,j,R,L){return typeof j=="string"?f.filter(j,A,{xmlMode:R,root:L}):A.filter(w(j))}s.parent=S(function(A){var j=A.parent;return j&&!u.isDocument(j)?j:null},C),s.parents=_(function(A){for(var j=[];A.parent&&!u.isDocument(A.parent);)j.push(A.parent),A=A.parent;return j},g,function(A){return A.reverse()}),s.parentsUntil=T(function(A){var j=A.parent;return j&&!u.isDocument(j)?j:null},g,function(A){return A.reverse()}),s.closest=function(A){var j=this,R=[];return A?(h.domEach(this,function(L){for(var M;L&&L.type!=="root";){if(!A||N([L],A,j.options.xmlMode,(M=j._root)===null||M===void 0?void 0:M[0]).length){L&&!R.includes(L)&&R.push(L);break}L=L.parent}}),this._make(R)):this._make(R)},s.next=S(function(A){return m.DomUtils.nextElementSibling(A)}),s.nextAll=_(function(A){for(var j=[];A.next;)A=A.next,h.isTag(A)&&j.push(A);return j},C),s.nextUntil=T(function(A){return m.DomUtils.nextElementSibling(A)},C),s.prev=S(function(A){return m.DomUtils.prevElementSibling(A)}),s.prevAll=_(function(A){for(var j=[];A.prev;)A=A.prev,h.isTag(A)&&j.push(A);return j},C),s.prevUntil=T(function(A){return m.DomUtils.prevElementSibling(A)},C),s.siblings=_(function(A){return m.DomUtils.getSiblings(A).filter(function(j){return h.isTag(j)&&j!==A})},g),s.children=_(function(A){return m.DomUtils.getChildren(A).filter(h.isTag)},C),s.contents=function(){var A=this.toArray().reduce(function(j,R){return u.hasChildren(R)?j.concat(R.children):j},[]);return this._make(A)},s.each=function(A){for(var j=0,R=this.length;j<R&&A.call(this[j],j,this[j])!==!1;)++j;return this},s.map=function(A){for(var j=[],R=0;R<this.length;R++){var L=this[R],M=A.call(L,R,L);M!=null&&(j=j.concat(M))}return this._make(j)},s.filter=function(A){var j;return this._make(N(this.toArray(),A,this.options.xmlMode,(j=this._root)===null||j===void 0?void 0:j[0]))},s.filterArray=N,s.is=function(A){var j=this.toArray();return typeof A=="string"?f.some(j.filter(h.isTag),A,this.options):!!A&&j.some(w(A))},s.not=function(A){var j=this.toArray();if(typeof A=="string"){var R=new Set(f.filter(A,j,this.options));j=j.filter(function(M){return!R.has(M)})}else{var L=w(A);j=j.filter(function(M,I){return!L(M,I)})}return this._make(j)},s.has=function(A){var j=this;return this.filter(typeof A=="string"?":has("+A+")":function(R,L){return j._make(L).find(A).length>0})},s.first=function(){return this.length>1?this._make(this[0]):this},s.last=function(){return this.length>0?this._make(this[this.length-1]):this},s.eq=function(A){var j;return(A=+A)==0&&this.length<=1?this:(A<0&&(A=this.length+A),this._make((j=this[A])!==null&&j!==void 0?j:[]))},s.get=function(A){return A==null?this.toArray():this[A<0?this.length+A:A]},s.toArray=function(){return Array.prototype.slice.call(this)},s.index=function(A){var j,R;return A==null?(j=this.parent().children(),R=this[0]):typeof A=="string"?(j=this._make(A),R=this[0]):(j=this,R=h.isCheerio(A)?A[0]:A),Array.prototype.indexOf.call(j,R)},s.slice=function(A,j){return this._make(Array.prototype.slice.call(this,A,j))},s.end=function(){var A;return(A=this.prevObject)!==null&&A!==void 0?A:this._make([])},s.add=function(A,j){var R=this._make(A,j),L=g(c.__spreadArray(c.__spreadArray([],this.get()),R.get()));return this._make(L)},s.addBack=function(A){return this.prevObject?this.add(A?this.prevObject.filter(A):this.prevObject):this}},7911:(a,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.Cheerio=void 0;var c=l(655),u=c.__importDefault(l(5012)),f=c.__importDefault(l(2754)),h=l(5633),d=c.__importStar(l(6451)),m=c.__importStar(l(1042)),g=c.__importStar(l(848)),x=c.__importStar(l(9806)),b=c.__importStar(l(3432)),_=function(){function S(T,C,w,N){var A=this;if(N===void 0&&(N=f.default),this.length=0,this.options=N,!T)return this;if(w&&(typeof w=="string"&&(w=u.default(w,this.options,!1)),this._root=new this.constructor(w,null,null,this.options),this._root._root=this._root),h.isCheerio(T))return T;var j,R=typeof T=="string"&&h.isHtml(T)?u.default(T,this.options,!1).children:(j=T).name||j.type==="root"||j.type==="text"||j.type==="comment"?[T]:Array.isArray(T)?T:null;if(R)return R.forEach(function(I,D){A[D]=I}),this.length=R.length,this;var L=T,M=C?typeof C=="string"?h.isHtml(C)?this._make(u.default(C,this.options,!1)):(L=C+" "+L,this._root):h.isCheerio(C)?C:this._make(C):this._root;return M?M.find(L):this}return S.prototype._make=function(T,C){var w=new this.constructor(T,C,this._root,this.options);return w.prevObject=this,w},S}();s.Cheerio=_,_.prototype.cheerio="[cheerio object]",_.prototype.splice=Array.prototype.splice,_.prototype[Symbol.iterator]=Array.prototype[Symbol.iterator],Object.assign(_.prototype,d,m,g,x,b)},7503:(a,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.root=s.parseHTML=s.merge=s.contains=void 0;var c=l(655);c.__exportStar(l(8701),s),c.__exportStar(l(3434),s);var u=l(3434);s.default=u.load([]);var f=c.__importStar(l(6634));s.contains=f.contains,s.merge=f.merge,s.parseHTML=f.parseHTML,s.root=f.root},3434:(a,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.load=void 0;var c=l(655),u=c.__importStar(l(2754)),f=c.__importStar(l(6634)),h=l(7911),d=c.__importDefault(l(5012));s.load=function m(g,x,b){if(b===void 0&&(b=!0),g==null)throw new Error("cheerio.load() expects a string");var _=c.__assign(c.__assign({},u.default),u.flatten(x)),S=d.default(g,_,b),T=function(w){function N(){return w!==null&&w.apply(this,arguments)||this}return c.__extends(N,w),N}(h.Cheerio);function C(w,N,A,j){return A===void 0&&(A=S),new T(w,N,A,c.__assign(c.__assign({},_),u.flatten(j)))}return Object.assign(C,f,{load:m,_root:S,_options:_,fn:T.prototype,prototype:T.prototype}),C}},2754:(a,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.flatten=void 0;var c=l(655);s.default={xml:!1,decodeEntities:!0};var u={_useHtmlParser2:!0,xmlMode:!0};s.flatten=function(f){return f!=null&&f.xml?typeof f.xml=="boolean"?u:c.__assign(c.__assign({},u),f.xml):f??void 0}},5012:(a,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.update=void 0;var c=l(3719),u=l(8585),f=l(7957),h=l(7915);function d(m,g){var x=Array.isArray(m)?m:[m];g?g.children=x:g=null;for(var b=0;b<x.length;b++){var _=x[b];_.parent&&_.parent.children!==x&&c.DomUtils.removeElement(_),g?(_.prev=x[b-1]||null,_.next=x[b+1]||null):_.prev=_.next=null,_.parent=g}return g}s.default=function(m,g,x){if(typeof Buffer<"u"&&Buffer.isBuffer(m)&&(m=m.toString()),typeof m=="string")return g.xmlMode||g._useHtmlParser2?u.parse(m,g):f.parse(m,g,x);var b=m;if(!Array.isArray(b)&&h.isDocument(b))return b;var _=new h.Document([]);return d(b,_),_},s.update=d},8585:function(a,s,l){var c=this&&this.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(s,"__esModule",{value:!0}),s.render=s.parse=void 0;var u=l(3719);Object.defineProperty(s,"parse",{enumerable:!0,get:function(){return u.parseDocument}});var f=l(7220);Object.defineProperty(s,"render",{enumerable:!0,get:function(){return c(f).default}})},7957:(a,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.render=s.parse=void 0;var c=l(655),u=l(7915),f=l(2394),h=c.__importDefault(l(1906));s.parse=function(d,m,g){var x={scriptingEnabled:typeof m.scriptingEnabled!="boolean"||m.scriptingEnabled,treeAdapter:h.default,sourceCodeLocationInfo:m.sourceCodeLocationInfo},b=m.context;return g?f.parse(d,x):f.parseFragment(b,d,x)},s.render=function(d){for(var m,g=("length"in d)?d:[d],x=0;x<g.length;x+=1){var b=g[x];u.isDocument(b)&&(m=Array.prototype.splice).call.apply(m,c.__spreadArray([g,x,1],b.children))}return f.serialize({children:g},{treeAdapter:h.default})}},6634:(a,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.merge=s.contains=s.root=s.parseHTML=s.text=s.xml=s.html=void 0;var c=l(655),u=c.__importStar(l(2754)),f=l(7248),h=l(3719),d=l(7957),m=l(8585);function g(b,_,S){var T,C=_?typeof _=="string"?f.select(_,(T=b==null?void 0:b._root)!==null&&T!==void 0?T:[],S):_:b==null?void 0:b._root.children;return C?S.xmlMode||S._useHtmlParser2?m.render(C,S):d.render(C):""}function x(b){if(Array.isArray(b))return!0;if(typeof b!="object"||!Object.prototype.hasOwnProperty.call(b,"length")||typeof b.length!="number"||b.length<0)return!1;for(var _=0;_<b.length;_++)if(!(_ in b))return!1;return!0}s.html=function(b,_){return!_&&function(S){return typeof S=="object"&&S!=null&&!("length"in S)&&!("type"in S)}(b)&&(_=b,b=void 0),g(this||void 0,b,c.__assign(c.__assign(c.__assign({},u.default),this?this._options:{}),u.flatten(_??{})))},s.xml=function(b){return g(this,b,c.__assign(c.__assign({},this._options),{xmlMode:!0}))},s.text=function b(_){for(var S=_||(this?this.root():[]),T="",C=0;C<S.length;C++){var w=S[C];h.DomUtils.isText(w)?T+=w.data:h.DomUtils.hasChildren(w)&&w.type!==h.ElementType.Comment&&w.type!==h.ElementType.Script&&w.type!==h.ElementType.Style&&(T+=b(w.children))}return T},s.parseHTML=function(b,_,S){if(S===void 0&&(S=typeof _=="boolean"&&_),!b||typeof b!="string")return null;typeof _=="boolean"&&(S=_);var T=this.load(b,u.default,!1);return S||T("script").remove(),T.root()[0].children.slice()},s.root=function(){return this(this._root)},s.contains=function(b,_){if(_===b)return!1;for(var S=_;S&&S!==S.parent;)if((S=S.parent)===b)return!0;return!1},s.merge=function(b,_){if(x(b)&&x(_)){for(var S=b.length,T=+_.length,C=0;C<T;C++)b[S++]=_[C];return b.length=S,b}}},8701:(a,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},5633:(a,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.isHtml=s.cloneDom=s.domEach=s.cssCase=s.camelCase=s.isCheerio=s.isTag=void 0;var c=l(3719),u=l(7915);s.isTag=c.DomUtils.isTag,s.isCheerio=function(h){return h.cheerio!=null},s.camelCase=function(h){return h.replace(/[_.-](\w|$)/g,function(d,m){return m.toUpperCase()})},s.cssCase=function(h){return h.replace(/[A-Z]/g,"-$&").toLowerCase()},s.domEach=function(h,d){for(var m=h.length,g=0;g<m;g++)d(h[g],g);return h},s.cloneDom=function(h){var d="length"in h?Array.prototype.map.call(h,function(g){return u.cloneNode(g,!0)}):[u.cloneNode(h,!0)],m=new u.Document(d);return d.forEach(function(g){g.parent=m}),d};var f=/<[a-zA-Z][^]*>/;s.isHtml=function(h){return f.test(h)}},996:(a,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.attributeRules=void 0;var c=l(1073),u=/[-[\]{}()*+?.,\\^$|#\s]/g;function f(m){return m.replace(u,"\\$&")}var h=new Set(["accept","accept-charset","align","alink","axis","bgcolor","charset","checked","clear","codetype","color","compact","declare","defer","dir","direction","disabled","enctype","face","frame","hreflang","http-equiv","lang","language","link","media","method","multiple","nohref","noresize","noshade","nowrap","readonly","rel","rev","rules","scope","scrolling","selected","shape","target","text","type","valign","valuetype","vlink"]);function d(m,g){return typeof m.ignoreCase=="boolean"?m.ignoreCase:m.ignoreCase==="quirks"?!!g.quirksMode:!g.xmlMode&&h.has(m.name)}s.attributeRules={equals:function(m,g,x){var b=x.adapter,_=g.name,S=g.value;return d(g,x)?(S=S.toLowerCase(),function(T){var C=b.getAttributeValue(T,_);return C!=null&&C.length===S.length&&C.toLowerCase()===S&&m(T)}):function(T){return b.getAttributeValue(T,_)===S&&m(T)}},hyphen:function(m,g,x){var b=x.adapter,_=g.name,S=g.value,T=S.length;return d(g,x)?(S=S.toLowerCase(),function(C){var w=b.getAttributeValue(C,_);return w!=null&&(w.length===T||w.charAt(T)==="-")&&w.substr(0,T).toLowerCase()===S&&m(C)}):function(C){var w=b.getAttributeValue(C,_);return w!=null&&(w.length===T||w.charAt(T)==="-")&&w.substr(0,T)===S&&m(C)}},element:function(m,g,x){var b=x.adapter,_=g.name,S=g.value;if(/\s/.test(S))return c.falseFunc;var T=new RegExp("(?:^|\\s)".concat(f(S),"(?:$|\\s)"),d(g,x)?"i":"");return function(C){var w=b.getAttributeValue(C,_);return w!=null&&w.length>=S.length&&T.test(w)&&m(C)}},exists:function(m,g,x){var b=g.name,_=x.adapter;return function(S){return _.hasAttrib(S,b)&&m(S)}},start:function(m,g,x){var b=x.adapter,_=g.name,S=g.value,T=S.length;return T===0?c.falseFunc:d(g,x)?(S=S.toLowerCase(),function(C){var w=b.getAttributeValue(C,_);return w!=null&&w.length>=T&&w.substr(0,T).toLowerCase()===S&&m(C)}):function(C){var w;return!!(!((w=b.getAttributeValue(C,_))===null||w===void 0)&&w.startsWith(S))&&m(C)}},end:function(m,g,x){var b=x.adapter,_=g.name,S=g.value,T=-S.length;return T===0?c.falseFunc:d(g,x)?(S=S.toLowerCase(),function(C){var w;return((w=b.getAttributeValue(C,_))===null||w===void 0?void 0:w.substr(T).toLowerCase())===S&&m(C)}):function(C){var w;return!!(!((w=b.getAttributeValue(C,_))===null||w===void 0)&&w.endsWith(S))&&m(C)}},any:function(m,g,x){var b=x.adapter,_=g.name,S=g.value;if(S==="")return c.falseFunc;if(d(g,x)){var T=new RegExp(f(S),"i");return function(C){var w=b.getAttributeValue(C,_);return w!=null&&w.length>=S.length&&T.test(w)&&m(C)}}return function(C){var w;return!!(!((w=b.getAttributeValue(C,_))===null||w===void 0)&&w.includes(S))&&m(C)}},not:function(m,g,x){var b=x.adapter,_=g.name,S=g.value;return S===""?function(T){return!!b.getAttributeValue(T,_)&&m(T)}:d(g,x)?(S=S.toLowerCase(),function(T){var C=b.getAttributeValue(T,_);return(C==null||C.length!==S.length||C.toLowerCase()!==S)&&m(T)}):function(T){return b.getAttributeValue(T,_)!==S&&m(T)}}}},8866:function(a,s,l){var c=this&&this.__importDefault||function(N){return N&&N.__esModule?N:{default:N}};Object.defineProperty(s,"__esModule",{value:!0}),s.compileToken=s.compileUnsafe=s.compile=void 0;var u=l(7763),f=l(1073),h=c(l(7353)),d=l(7177),m=l(3621),g=l(1768);function x(N,A,j){return C(typeof N=="string"?(0,u.parse)(N):N,A,j)}function b(N){return N.type==="pseudo"&&(N.name==="scope"||Array.isArray(N.data)&&N.data.some(function(A){return A.some(b)}))}s.compile=function(N,A,j){var R=x(N,A,j);return(0,g.ensureIsTag)(R,A.adapter)},s.compileUnsafe=x;var _={type:u.SelectorType.Descendant},S={type:"_flexibleDescendant"},T={type:u.SelectorType.Pseudo,name:"scope",data:null};function C(N,A,j){var R;(N=N.filter(function(V){return V.length>0})).forEach(h.default),j=(R=A.context)!==null&&R!==void 0?R:j;var L=Array.isArray(j),M=j&&(Array.isArray(j)?j:[j]);(function(V,F,G){for(var W=F.adapter,Y=!!(G!=null&&G.every(function(Z){var X=W.isTag(Z)&&W.getParent(Z);return Z===g.PLACEHOLDER_ELEMENT||X&&W.isTag(X)})),te=0,he=V;te<he.length;te++){var z=he[te];if(!(z.length>0&&(0,d.isTraversal)(z[0])&&z[0].type!=="descendant")){if(!Y||z.some(b))continue;z.unshift(_)}z.unshift(T)}})(N,A,M);var I=!1,D=N.map(function(V){if(V.length>=2){var F=V[0],G=V[1];F.type!=="pseudo"||F.name!=="scope"||(L&&G.type==="descendant"?V[1]=S:G.type!=="adjacent"&&G.type!=="sibling"||(I=!0))}return function(W,Y,te){var he;return W.reduce(function(z,Z){return z===f.falseFunc?f.falseFunc:(0,m.compileGeneralSelector)(z,Z,Y,te,C)},(he=Y.rootFunc)!==null&&he!==void 0?he:f.trueFunc)}(V,A,M)}).reduce(w,f.falseFunc);return D.shouldTestNextSiblings=I,D}function w(N,A){return A===f.falseFunc||N===f.trueFunc?N:N===f.falseFunc||A===f.trueFunc?A:function(j){return N(j)||A(j)}}s.compileToken=C},3621:(a,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.compileGeneralSelector=void 0;var c=l(996),u=l(8677),f=l(7763);s.compileGeneralSelector=function(h,d,m,g,x){var b=m.adapter,_=m.equals;switch(d.type){case f.SelectorType.PseudoElement:throw new Error("Pseudo-elements are not supported by css-select");case f.SelectorType.ColumnCombinator:throw new Error("Column combinators are not yet supported by css-select");case f.SelectorType.Attribute:if(d.namespace!=null)throw new Error("Namespaced attributes are not yet supported by css-select");return m.xmlMode&&!m.lowerCaseAttributeNames||(d.name=d.name.toLowerCase()),c.attributeRules[d.action](h,d,m);case f.SelectorType.Pseudo:return(0,u.compilePseudoSelector)(h,d,m,g,x);case f.SelectorType.Tag:if(d.namespace!=null)throw new Error("Namespaced tag names are not yet supported by css-select");var S=d.name;return m.xmlMode&&!m.lowerCaseTags||(S=S.toLowerCase()),function(C){return b.getName(C)===S&&h(C)};case f.SelectorType.Descendant:if(m.cacheResults===!1||typeof WeakSet>"u")return function(C){for(var w=C;w=b.getParent(w);)if(b.isTag(w)&&h(w))return!0;return!1};var T=new WeakSet;return function(C){for(var w=C;w=b.getParent(w);)if(!T.has(w)){if(b.isTag(w)&&h(w))return!0;T.add(w)}return!1};case"_flexibleDescendant":return function(C){var w=C;do if(b.isTag(w)&&h(w))return!0;while(w=b.getParent(w));return!1};case f.SelectorType.Parent:return function(C){return b.getChildren(C).some(function(w){return b.isTag(w)&&h(w)})};case f.SelectorType.Child:return function(C){var w=b.getParent(C);return w!=null&&b.isTag(w)&&h(w)};case f.SelectorType.Sibling:return function(C){for(var w=b.getSiblings(C),N=0;N<w.length;N++){var A=w[N];if(_(C,A))break;if(b.isTag(A)&&h(A))return!0}return!1};case f.SelectorType.Adjacent:return b.prevElementSibling?function(C){var w=b.prevElementSibling(C);return w!=null&&h(w)}:function(C){for(var w,N=b.getSiblings(C),A=0;A<N.length;A++){var j=N[A];if(_(C,j))break;b.isTag(j)&&(w=j)}return!!w&&h(w)};case f.SelectorType.Universal:if(d.namespace!=null&&d.namespace!=="*")throw new Error("Namespaced universal selectors are not yet supported by css-select");return h}}},5366:function(a,s,l){var c=this&&this.__createBinding||(Object.create?function(N,A,j,R){R===void 0&&(R=j);var L=Object.getOwnPropertyDescriptor(A,j);L&&!("get"in L?!A.__esModule:L.writable||L.configurable)||(L={enumerable:!0,get:function(){return A[j]}}),Object.defineProperty(N,R,L)}:function(N,A,j,R){R===void 0&&(R=j),N[R]=A[j]}),u=this&&this.__setModuleDefault||(Object.create?function(N,A){Object.defineProperty(N,"default",{enumerable:!0,value:A})}:function(N,A){N.default=A}),f=this&&this.__importStar||function(N){if(N&&N.__esModule)return N;var A={};if(N!=null)for(var j in N)j!=="default"&&Object.prototype.hasOwnProperty.call(N,j)&&c(A,N,j);return u(A,N),A};Object.defineProperty(s,"__esModule",{value:!0}),s.aliases=s.pseudos=s.filters=s.is=s.selectOne=s.selectAll=s.prepareContext=s._compileToken=s._compileUnsafe=s.compile=void 0;var h=f(l(9432)),d=l(1073),m=l(8866),g=l(1768),x=function(N,A){return N===A},b={adapter:h,equals:x};function _(N){var A,j,R,L,M=N??b;return(A=M.adapter)!==null&&A!==void 0||(M.adapter=h),(j=M.equals)!==null&&j!==void 0||(M.equals=(L=(R=M.adapter)===null||R===void 0?void 0:R.equals)!==null&&L!==void 0?L:x),M}function S(N){return function(A,j,R){var L=_(j);return N(A,L,R)}}function T(N){return function(A,j,R){var L=_(R);typeof A!="function"&&(A=(0,m.compileUnsafe)(A,L,j));var M=C(j,L.adapter,A.shouldTestNextSiblings);return N(A,M,L)}}function C(N,A,j){return j===void 0&&(j=!1),j&&(N=function(R,L){for(var M=Array.isArray(R)?R.slice(0):[R],I=M.length,D=0;D<I;D++){var V=(0,g.getNextSiblings)(M[D],L);M.push.apply(M,V)}return M}(N,A)),Array.isArray(N)?A.removeSubsets(N):A.getChildren(N)}s.compile=S(m.compile),s._compileUnsafe=S(m.compileUnsafe),s._compileToken=S(m.compileToken),s.prepareContext=C,s.selectAll=T(function(N,A,j){return N!==d.falseFunc&&A&&A.length!==0?j.adapter.findAll(N,A):[]}),s.selectOne=T(function(N,A,j){return N!==d.falseFunc&&A&&A.length!==0?j.adapter.findOne(N,A):null}),s.is=function(N,A,j){var R=_(j);return(typeof A=="function"?A:(0,m.compile)(A,R))(N)},s.default=s.selectAll;var w=l(8677);Object.defineProperty(s,"filters",{enumerable:!0,get:function(){return w.filters}}),Object.defineProperty(s,"pseudos",{enumerable:!0,get:function(){return w.pseudos}}),Object.defineProperty(s,"aliases",{enumerable:!0,get:function(){return w.aliases}})},7177:(a,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.isTraversal=s.procedure=void 0,s.procedure={universal:50,tag:30,attribute:1,pseudo:0,"pseudo-element":0,"column-combinator":-1,descendant:-1,child:-1,parent:-1,sibling:-1,adjacent:-1,_flexibleDescendant:-1},s.isTraversal=function(l){return s.procedure[l.type]<0}},2968:(a,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.aliases=void 0,s.aliases={"any-link":":is(a, area, link)[href]",link:":any-link:not(:visited)",disabled:`:is(
        :is(button, input, select, textarea, optgroup, option)[disabled],
        optgroup[disabled] > option,
        fieldset[disabled]:not(fieldset[disabled] legend:first-of-type *)
    )`,enabled:":not(:disabled)",checked:":is(:is(input[type=radio], input[type=checkbox])[checked], option:selected)",required:":is(input, select, textarea)[required]",optional:":is(input, select, textarea):not([required])",selected:"option:is([selected], select:not([multiple]):not(:has(> option[selected])) > :first-of-type)",checkbox:"[type=checkbox]",file:"[type=file]",password:"[type=password]",radio:"[type=radio]",reset:"[type=reset]",image:"[type=image]",submit:"[type=submit]",parent:":not(:empty)",header:":is(h1, h2, h3, h4, h5, h6)",button:":is(button, input[type=button])",input:":is(input, textarea, select, button)",text:"input:is(:not([type!='']), [type=text])"}},7689:function(a,s,l){var c=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(s,"__esModule",{value:!0}),s.filters=void 0;var u=c(l(7540)),f=l(1073);function h(m,g){return function(x){var b=g.getParent(x);return b!=null&&g.isTag(b)&&m(x)}}function d(m){return function(g,x,b){var _=b.adapter[m];return typeof _!="function"?f.falseFunc:function(S){return _(S)&&g(S)}}}s.filters={contains:function(m,g,x){var b=x.adapter;return function(_){return m(_)&&b.getText(_).includes(g)}},icontains:function(m,g,x){var b=x.adapter,_=g.toLowerCase();return function(S){return m(S)&&b.getText(S).toLowerCase().includes(_)}},"nth-child":function(m,g,x){var b=x.adapter,_=x.equals,S=(0,u.default)(g);return S===f.falseFunc?f.falseFunc:S===f.trueFunc?h(m,b):function(T){for(var C=b.getSiblings(T),w=0,N=0;N<C.length&&!_(T,C[N]);N++)b.isTag(C[N])&&w++;return S(w)&&m(T)}},"nth-last-child":function(m,g,x){var b=x.adapter,_=x.equals,S=(0,u.default)(g);return S===f.falseFunc?f.falseFunc:S===f.trueFunc?h(m,b):function(T){for(var C=b.getSiblings(T),w=0,N=C.length-1;N>=0&&!_(T,C[N]);N--)b.isTag(C[N])&&w++;return S(w)&&m(T)}},"nth-of-type":function(m,g,x){var b=x.adapter,_=x.equals,S=(0,u.default)(g);return S===f.falseFunc?f.falseFunc:S===f.trueFunc?h(m,b):function(T){for(var C=b.getSiblings(T),w=0,N=0;N<C.length;N++){var A=C[N];if(_(T,A))break;b.isTag(A)&&b.getName(A)===b.getName(T)&&w++}return S(w)&&m(T)}},"nth-last-of-type":function(m,g,x){var b=x.adapter,_=x.equals,S=(0,u.default)(g);return S===f.falseFunc?f.falseFunc:S===f.trueFunc?h(m,b):function(T){for(var C=b.getSiblings(T),w=0,N=C.length-1;N>=0;N--){var A=C[N];if(_(T,A))break;b.isTag(A)&&b.getName(A)===b.getName(T)&&w++}return S(w)&&m(T)}},root:function(m,g,x){var b=x.adapter;return function(_){var S=b.getParent(_);return(S==null||!b.isTag(S))&&m(_)}},scope:function(m,g,x,b){var _=x.equals;return b&&b.length!==0?b.length===1?function(S){return _(b[0],S)&&m(S)}:function(S){return b.includes(S)&&m(S)}:s.filters.root(m,g,x)},hover:d("isHovered"),visited:d("isVisited"),active:d("isActive")}},8677:(a,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.compilePseudoSelector=s.aliases=s.pseudos=s.filters=void 0;var c=l(1073),u=l(7763),f=l(7689);Object.defineProperty(s,"filters",{enumerable:!0,get:function(){return f.filters}});var h=l(7221);Object.defineProperty(s,"pseudos",{enumerable:!0,get:function(){return h.pseudos}});var d=l(2968);Object.defineProperty(s,"aliases",{enumerable:!0,get:function(){return d.aliases}});var m=l(1768);s.compilePseudoSelector=function(g,x,b,_,S){var T=x.name,C=x.data;if(Array.isArray(C))return m.subselects[T](g,C,b,_,S);if(T in d.aliases){if(C!=null)throw new Error("Pseudo ".concat(T," doesn't have any arguments"));var w=(0,u.parse)(d.aliases[T]);return m.subselects.is(g,w,b,_,S)}if(T in f.filters)return f.filters[T](g,C,b,_);if(T in h.pseudos){var N=h.pseudos[T];return(0,h.verifyPseudoArgs)(N,T,C),N===c.falseFunc?c.falseFunc:g===c.trueFunc?function(A){return N(A,b,C)}:function(A){return N(A,b,C)&&g(A)}}throw new Error("unmatched pseudo-class :".concat(T))}},7221:(a,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.verifyPseudoArgs=s.pseudos=void 0,s.pseudos={empty:function(l,c){var u=c.adapter;return!u.getChildren(l).some(function(f){return u.isTag(f)||u.getText(f)!==""})},"first-child":function(l,c){var u=c.adapter,f=c.equals,h=u.getSiblings(l).find(function(d){return u.isTag(d)});return h!=null&&f(l,h)},"last-child":function(l,c){for(var u=c.adapter,f=c.equals,h=u.getSiblings(l),d=h.length-1;d>=0;d--){if(f(l,h[d]))return!0;if(u.isTag(h[d]))break}return!1},"first-of-type":function(l,c){for(var u=c.adapter,f=c.equals,h=u.getSiblings(l),d=u.getName(l),m=0;m<h.length;m++){var g=h[m];if(f(l,g))return!0;if(u.isTag(g)&&u.getName(g)===d)break}return!1},"last-of-type":function(l,c){for(var u=c.adapter,f=c.equals,h=u.getSiblings(l),d=u.getName(l),m=h.length-1;m>=0;m--){var g=h[m];if(f(l,g))return!0;if(u.isTag(g)&&u.getName(g)===d)break}return!1},"only-of-type":function(l,c){var u=c.adapter,f=c.equals,h=u.getName(l);return u.getSiblings(l).every(function(d){return f(l,d)||!u.isTag(d)||u.getName(d)!==h})},"only-child":function(l,c){var u=c.adapter,f=c.equals;return u.getSiblings(l).every(function(h){return f(l,h)||!u.isTag(h)})}},s.verifyPseudoArgs=function(l,c,u){if(u===null){if(l.length>2)throw new Error("pseudo-selector :".concat(c," requires an argument"))}else if(l.length===2)throw new Error("pseudo-selector :".concat(c," doesn't have any arguments"))}},1768:function(a,s,l){var c=this&&this.__spreadArray||function(g,x,b){if(b||arguments.length===2)for(var _,S=0,T=x.length;S<T;S++)!_&&S in x||(_||(_=Array.prototype.slice.call(x,0,S)),_[S]=x[S]);return g.concat(_||Array.prototype.slice.call(x))};Object.defineProperty(s,"__esModule",{value:!0}),s.subselects=s.getNextSiblings=s.ensureIsTag=s.PLACEHOLDER_ELEMENT=void 0;var u=l(1073),f=l(7177);function h(g,x){return g===u.falseFunc?u.falseFunc:function(b){return x.isTag(b)&&g(b)}}function d(g,x){var b=x.getSiblings(g);if(b.length<=1)return[];var _=b.indexOf(g);return _<0||_===b.length-1?[]:b.slice(_+1).filter(x.isTag)}s.PLACEHOLDER_ELEMENT={},s.ensureIsTag=h,s.getNextSiblings=d;var m=function(g,x,b,_,S){var T=S(x,{xmlMode:!!b.xmlMode,adapter:b.adapter,equals:b.equals},_);return function(C){return T(C)&&g(C)}};s.subselects={is:m,matches:m,where:m,not:function(g,x,b,_,S){var T=S(x,{xmlMode:!!b.xmlMode,adapter:b.adapter,equals:b.equals},_);return T===u.falseFunc?g:T===u.trueFunc?u.falseFunc:function(C){return!T(C)&&g(C)}},has:function(g,x,b,_,S){var T=b.adapter,C={xmlMode:!!b.xmlMode,adapter:T,equals:b.equals},w=x.some(function(L){return L.some(f.isTraversal)})?[s.PLACEHOLDER_ELEMENT]:void 0,N=S(x,C,w);if(N===u.falseFunc)return u.falseFunc;if(N===u.trueFunc)return function(L){return T.getChildren(L).some(T.isTag)&&g(L)};var A=h(N,T),j=N.shouldTestNextSiblings,R=j!==void 0&&j;return w?function(L){w[0]=L;var M=T.getChildren(L),I=R?c(c([],M,!0),d(L,T),!0):M;return g(L)&&T.existsOne(A,I)}:function(L){return g(L)&&T.existsOne(A,T.getChildren(L))}}}},7353:(a,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0});var c=l(7763),u=l(7177),f={exists:10,equals:8,not:7,start:6,end:6,any:5,hyphen:4,element:4};function h(d){var m=u.procedure[d.type];if(d.type===c.SelectorType.Attribute)(m=f[d.action])===f.equals&&d.name==="id"&&(m=9),d.ignoreCase&&(m>>=1);else if(d.type===c.SelectorType.Pseudo)if(d.data)if(d.name==="has"||d.name==="contains")m=0;else if(Array.isArray(d.data)){m=0;for(var g=0;g<d.data.length;g++)if(d.data[g].length===1){var x=h(d.data[g][0]);if(x===0){m=0;break}x>m&&(m=x)}d.data.length>1&&m>0&&(m-=1)}else m=1;else m=3;return m}s.default=function(d){for(var m=d.map(h),g=1;g<d.length;g++){var x=m[g];if(!(x<0))for(var b=g-1;b>=0&&x<m[b];b--){var _=d[b+1];d[b+1]=d[b],d[b]=_,m[b+1]=m[b],m[b]=x}}}},7763:(a,s,l)=>{var c;l.r(s),l.d(s,{AttributeAction:()=>f,IgnoreCaseMode:()=>u,SelectorType:()=>c,isTraversal:()=>x,parse:()=>w,stringify:()=>I}),function(W){W.Attribute="attribute",W.Pseudo="pseudo",W.PseudoElement="pseudo-element",W.Tag="tag",W.Universal="universal",W.Adjacent="adjacent",W.Child="child",W.Descendant="descendant",W.Parent="parent",W.Sibling="sibling",W.ColumnCombinator="column-combinator"}(c||(c={}));const u={Unknown:null,QuirksMode:"quirks",IgnoreCase:!0,CaseSensitive:!1};var f;(function(W){W.Any="any",W.Element="element",W.End="end",W.Equals="equals",W.Exists="exists",W.Hyphen="hyphen",W.Not="not",W.Start="start"})(f||(f={}));const h=/^[^\\#]?(?:\\(?:[\da-f]{1,6}\s?|.)|[\w\-\u00b0-\uFFFF])+/,d=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,m=new Map([[126,f.Element],[94,f.Start],[36,f.End],[42,f.Any],[33,f.Not],[124,f.Hyphen]]),g=new Set(["has","not","matches","is","where","host","host-context"]);function x(W){switch(W.type){case c.Adjacent:case c.Child:case c.Descendant:case c.Parent:case c.Sibling:case c.ColumnCombinator:return!0;default:return!1}}const b=new Set(["contains","icontains"]);function _(W,Y,te){const he=parseInt(Y,16)-65536;return he!=he||te?Y:he<0?String.fromCharCode(he+65536):String.fromCharCode(he>>10|55296,1023&he|56320)}function S(W){return W.replace(d,_)}function T(W){return W===39||W===34}function C(W){return W===32||W===9||W===10||W===12||W===13}function w(W){const Y=[],te=N(Y,`${W}`,0);if(te<W.length)throw new Error(`Unmatched selector: ${W.slice(te)}`);return Y}function N(W,Y,te){let he=[];function z(He){const Re=Y.slice(te+He).match(h);if(!Re)throw new Error(`Expected name, found ${Y.slice(te)}`);const[se]=Re;return te+=He+se.length,S(se)}function Z(He){for(te+=He;te<Y.length&&C(Y.charCodeAt(te));)te++}function X(){const He=te+=1;let Re=1;for(;Re>0&&te<Y.length;te++)Y.charCodeAt(te)!==40||ae(te)?Y.charCodeAt(te)!==41||ae(te)||Re--:Re++;if(Re)throw new Error("Parenthesis not matched");return S(Y.slice(He,te-1))}function ae(He){let Re=0;for(;Y.charCodeAt(--He)===92;)Re++;return(1&Re)==1}function ve(){if(he.length>0&&x(he[he.length-1]))throw new Error("Did not expect successive traversals.")}function me(He){he.length>0&&he[he.length-1].type===c.Descendant?he[he.length-1].type=He:(ve(),he.push({type:He}))}function Ee(He,Re){he.push({type:c.Attribute,name:He,action:Re,value:z(1),namespace:null,ignoreCase:"quirks"})}function ke(){if(he.length&&he[he.length-1].type===c.Descendant&&he.pop(),he.length===0)throw new Error("Empty sub-selector");W.push(he)}if(Z(0),Y.length===te)return te;e:for(;te<Y.length;){const He=Y.charCodeAt(te);switch(He){case 32:case 9:case 10:case 12:case 13:he.length!==0&&he[0].type===c.Descendant||(ve(),he.push({type:c.Descendant})),Z(1);break;case 62:me(c.Child),Z(1);break;case 60:me(c.Parent),Z(1);break;case 126:me(c.Sibling),Z(1);break;case 43:me(c.Adjacent),Z(1);break;case 46:Ee("class",f.Element);break;case 35:Ee("id",f.Equals);break;case 91:{let Re;Z(1);let se=null;Y.charCodeAt(te)===124?Re=z(1):Y.startsWith("*|",te)?(se="*",Re=z(2)):(Re=z(0),Y.charCodeAt(te)===124&&Y.charCodeAt(te+1)!==61&&(se=Re,Re=z(1))),Z(0);let ce=f.Exists;const $e=m.get(Y.charCodeAt(te));if($e){if(ce=$e,Y.charCodeAt(te+1)!==61)throw new Error("Expected `=`");Z(2)}else Y.charCodeAt(te)===61&&(ce=f.Equals,Z(1));let Ue="",Te=null;if(ce!=="exists"){if(T(Y.charCodeAt(te))){const de=Y.charCodeAt(te);let Ce=te+1;for(;Ce<Y.length&&(Y.charCodeAt(Ce)!==de||ae(Ce));)Ce+=1;if(Y.charCodeAt(Ce)!==de)throw new Error("Attribute value didn't end");Ue=S(Y.slice(te+1,Ce)),te=Ce+1}else{const de=te;for(;te<Y.length&&(!C(Y.charCodeAt(te))&&Y.charCodeAt(te)!==93||ae(te));)te+=1;Ue=S(Y.slice(de,te))}Z(0);const Q=32|Y.charCodeAt(te);Q===115?(Te=!1,Z(1)):Q===105&&(Te=!0,Z(1))}if(Y.charCodeAt(te)!==93)throw new Error("Attribute selector didn't terminate");te+=1;const ft={type:c.Attribute,name:Re,action:ce,value:Ue,namespace:se,ignoreCase:Te};he.push(ft);break}case 58:{if(Y.charCodeAt(te+1)===58){he.push({type:c.PseudoElement,name:z(2).toLowerCase(),data:Y.charCodeAt(te)===40?X():null});continue}const Re=z(1).toLowerCase();let se=null;if(Y.charCodeAt(te)===40)if(g.has(Re)){if(T(Y.charCodeAt(te+1)))throw new Error(`Pseudo-selector ${Re} cannot be quoted`);if(se=[],te=N(se,Y,te+1),Y.charCodeAt(te)!==41)throw new Error(`Missing closing parenthesis in :${Re} (${Y})`);te+=1}else{if(se=X(),b.has(Re)){const ce=se.charCodeAt(0);ce===se.charCodeAt(se.length-1)&&T(ce)&&(se=se.slice(1,-1))}se=S(se)}he.push({type:c.Pseudo,name:Re,data:se});break}case 44:ke(),he=[],Z(1);break;default:{if(Y.startsWith("/*",te)){const ce=Y.indexOf("*/",te+2);if(ce<0)throw new Error("Comment was not terminated");te=ce+2,he.length===0&&Z(0);break}let Re,se=null;if(He===42)te+=1,Re="*";else if(He===124){if(Re="",Y.charCodeAt(te+1)===124){me(c.ColumnCombinator),Z(2);break}}else{if(!h.test(Y.slice(te)))break e;Re=z(0)}Y.charCodeAt(te)===124&&Y.charCodeAt(te+1)!==124&&(se=Re,Y.charCodeAt(te+1)===42?(Re="*",te+=2):Re=z(1)),he.push(Re==="*"?{type:c.Universal,namespace:se}:{type:c.Tag,name:Re,namespace:se})}}}return ke(),te}const A=["\\",'"'],j=[...A,"(",")"],R=new Set(A.map(W=>W.charCodeAt(0))),L=new Set(j.map(W=>W.charCodeAt(0))),M=new Set([...j,"~","^","$","*","+","!","|",":","[","]"," ","."].map(W=>W.charCodeAt(0)));function I(W){return W.map(Y=>Y.map(D).join("")).join(", ")}function D(W,Y,te){switch(W.type){case c.Child:return Y===0?"> ":" > ";case c.Parent:return Y===0?"< ":" < ";case c.Sibling:return Y===0?"~ ":" ~ ";case c.Adjacent:return Y===0?"+ ":" + ";case c.Descendant:return" ";case c.ColumnCombinator:return Y===0?"|| ":" || ";case c.Universal:return W.namespace==="*"&&Y+1<te.length&&"name"in te[Y+1]?"":`${F(W.namespace)}*`;case c.Tag:return V(W);case c.PseudoElement:return`::${G(W.name,M)}${W.data===null?"":`(${G(W.data,L)})`}`;case c.Pseudo:return`:${G(W.name,M)}${W.data===null?"":`(${typeof W.data=="string"?G(W.data,L):I(W.data)})`}`;case c.Attribute:{if(W.name==="id"&&W.action===f.Equals&&W.ignoreCase==="quirks"&&!W.namespace)return`#${G(W.value,M)}`;if(W.name==="class"&&W.action===f.Element&&W.ignoreCase==="quirks"&&!W.namespace)return`.${G(W.value,M)}`;const he=V(W);return W.action===f.Exists?`[${he}]`:`[${he}${function(z){switch(z){case f.Equals:return"";case f.Element:return"~";case f.Start:return"^";case f.End:return"$";case f.Any:return"*";case f.Not:return"!";case f.Hyphen:return"|";case f.Exists:throw new Error("Shouldn't be here")}}(W.action)}="${G(W.value,R)}"${W.ignoreCase===null?"":W.ignoreCase?" i":" s"}]`}}}function V(W){return`${F(W.namespace)}${G(W.name,M)}`}function F(W){return W!==null?`${W==="*"?"*":G(W,M)}|`:""}function G(W,Y){let te=0,he="";for(let z=0;z<W.length;z++)Y.has(W.charCodeAt(z))&&(he+=`${W.slice(te,z)}\\${W.charAt(z)}`,te=z+1);return he.length>0?he+W.slice(te):W}},7837:(a,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.attributeNames=s.elementNames=void 0,s.elementNames=new Map([["altglyph","altGlyph"],["altglyphdef","altGlyphDef"],["altglyphitem","altGlyphItem"],["animatecolor","animateColor"],["animatemotion","animateMotion"],["animatetransform","animateTransform"],["clippath","clipPath"],["feblend","feBlend"],["fecolormatrix","feColorMatrix"],["fecomponenttransfer","feComponentTransfer"],["fecomposite","feComposite"],["feconvolvematrix","feConvolveMatrix"],["fediffuselighting","feDiffuseLighting"],["fedisplacementmap","feDisplacementMap"],["fedistantlight","feDistantLight"],["fedropshadow","feDropShadow"],["feflood","feFlood"],["fefunca","feFuncA"],["fefuncb","feFuncB"],["fefuncg","feFuncG"],["fefuncr","feFuncR"],["fegaussianblur","feGaussianBlur"],["feimage","feImage"],["femerge","feMerge"],["femergenode","feMergeNode"],["femorphology","feMorphology"],["feoffset","feOffset"],["fepointlight","fePointLight"],["fespecularlighting","feSpecularLighting"],["fespotlight","feSpotLight"],["fetile","feTile"],["feturbulence","feTurbulence"],["foreignobject","foreignObject"],["glyphref","glyphRef"],["lineargradient","linearGradient"],["radialgradient","radialGradient"],["textpath","textPath"]]),s.attributeNames=new Map([["definitionurl","definitionURL"],["attributename","attributeName"],["attributetype","attributeType"],["basefrequency","baseFrequency"],["baseprofile","baseProfile"],["calcmode","calcMode"],["clippathunits","clipPathUnits"],["diffuseconstant","diffuseConstant"],["edgemode","edgeMode"],["filterunits","filterUnits"],["glyphref","glyphRef"],["gradienttransform","gradientTransform"],["gradientunits","gradientUnits"],["kernelmatrix","kernelMatrix"],["kernelunitlength","kernelUnitLength"],["keypoints","keyPoints"],["keysplines","keySplines"],["keytimes","keyTimes"],["lengthadjust","lengthAdjust"],["limitingconeangle","limitingConeAngle"],["markerheight","markerHeight"],["markerunits","markerUnits"],["markerwidth","markerWidth"],["maskcontentunits","maskContentUnits"],["maskunits","maskUnits"],["numoctaves","numOctaves"],["pathlength","pathLength"],["patterncontentunits","patternContentUnits"],["patterntransform","patternTransform"],["patternunits","patternUnits"],["pointsatx","pointsAtX"],["pointsaty","pointsAtY"],["pointsatz","pointsAtZ"],["preservealpha","preserveAlpha"],["preserveaspectratio","preserveAspectRatio"],["primitiveunits","primitiveUnits"],["refx","refX"],["refy","refY"],["repeatcount","repeatCount"],["repeatdur","repeatDur"],["requiredextensions","requiredExtensions"],["requiredfeatures","requiredFeatures"],["specularconstant","specularConstant"],["specularexponent","specularExponent"],["spreadmethod","spreadMethod"],["startoffset","startOffset"],["stddeviation","stdDeviation"],["stitchtiles","stitchTiles"],["surfacescale","surfaceScale"],["systemlanguage","systemLanguage"],["tablevalues","tableValues"],["targetx","targetX"],["targety","targetY"],["textlength","textLength"],["viewbox","viewBox"],["viewtarget","viewTarget"],["xchannelselector","xChannelSelector"],["ychannelselector","yChannelSelector"],["zoomandpan","zoomAndPan"]])},7220:function(a,s,l){var c=this&&this.__assign||function(){return c=Object.assign||function(w){for(var N,A=1,j=arguments.length;A<j;A++)for(var R in N=arguments[A])Object.prototype.hasOwnProperty.call(N,R)&&(w[R]=N[R]);return w},c.apply(this,arguments)},u=this&&this.__createBinding||(Object.create?function(w,N,A,j){j===void 0&&(j=A),Object.defineProperty(w,j,{enumerable:!0,get:function(){return N[A]}})}:function(w,N,A,j){j===void 0&&(j=A),w[j]=N[A]}),f=this&&this.__setModuleDefault||(Object.create?function(w,N){Object.defineProperty(w,"default",{enumerable:!0,value:N})}:function(w,N){w.default=N}),h=this&&this.__importStar||function(w){if(w&&w.__esModule)return w;var N={};if(w!=null)for(var A in w)A!=="default"&&Object.prototype.hasOwnProperty.call(w,A)&&u(N,w,A);return f(N,w),N};Object.defineProperty(s,"__esModule",{value:!0});var d=h(l(9960)),m=l(5863),g=l(7837),x=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]),b=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function _(w,N){N===void 0&&(N={});for(var A=("length"in w)?w:[w],j="",R=0;R<A.length;R++)j+=S(A[R],N);return j}function S(w,N){switch(w.type){case d.Root:return _(w.children,N);case d.Directive:case d.Doctype:return"<"+w.data+">";case d.Comment:return function(A){return"<!--"+A.data+"-->"}(w);case d.CDATA:return function(A){return"<![CDATA["+A.children[0].data+"]]>"}(w);case d.Script:case d.Style:case d.Tag:return function(A,j){var R;j.xmlMode==="foreign"&&(A.name=(R=g.elementNames.get(A.name))!==null&&R!==void 0?R:A.name,A.parent&&T.has(A.parent.name)&&(j=c(c({},j),{xmlMode:!1}))),!j.xmlMode&&C.has(A.name)&&(j=c(c({},j),{xmlMode:"foreign"}));var L="<"+A.name,M=function(I,D){if(I)return Object.keys(I).map(function(V){var F,G,W=(F=I[V])!==null&&F!==void 0?F:"";return D.xmlMode==="foreign"&&(V=(G=g.attributeNames.get(V))!==null&&G!==void 0?G:V),D.emptyAttrs||D.xmlMode||W!==""?V+'="'+(D.decodeEntities!==!1?m.encodeXML(W):W.replace(/"/g,"&quot;"))+'"':V}).join(" ")}(A.attribs,j);return M&&(L+=" "+M),A.children.length===0&&(j.xmlMode?j.selfClosingTags!==!1:j.selfClosingTags&&b.has(A.name))?(j.xmlMode||(L+=" "),L+="/>"):(L+=">",A.children.length>0&&(L+=_(A.children,j)),!j.xmlMode&&b.has(A.name)||(L+="</"+A.name+">")),L}(w,N);case d.Text:return function(A,j){var R=A.data||"";return j.decodeEntities===!1||!j.xmlMode&&A.parent&&x.has(A.parent.name)||(R=m.encodeXML(R)),R}(w,N)}}s.default=_;var T=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),C=new Set(["svg","math"])},9960:(a,s)=>{var l;Object.defineProperty(s,"__esModule",{value:!0}),s.Doctype=s.CDATA=s.Tag=s.Style=s.Script=s.Comment=s.Directive=s.Text=s.Root=s.isTag=s.ElementType=void 0,function(c){c.Root="root",c.Text="text",c.Directive="directive",c.Comment="comment",c.Script="script",c.Style="style",c.Tag="tag",c.CDATA="cdata",c.Doctype="doctype"}(l=s.ElementType||(s.ElementType={})),s.isTag=function(c){return c.type===l.Tag||c.type===l.Script||c.type===l.Style},s.Root=l.Root,s.Text=l.Text,s.Directive=l.Directive,s.Comment=l.Comment,s.Script=l.Script,s.Style=l.Style,s.Tag=l.Tag,s.CDATA=l.CDATA,s.Doctype=l.Doctype},7915:function(a,s,l){var c=this&&this.__createBinding||(Object.create?function(x,b,_,S){S===void 0&&(S=_);var T=Object.getOwnPropertyDescriptor(b,_);T&&!("get"in T?!b.__esModule:T.writable||T.configurable)||(T={enumerable:!0,get:function(){return b[_]}}),Object.defineProperty(x,S,T)}:function(x,b,_,S){S===void 0&&(S=_),x[S]=b[_]}),u=this&&this.__exportStar||function(x,b){for(var _ in x)_==="default"||Object.prototype.hasOwnProperty.call(b,_)||c(b,x,_)};Object.defineProperty(s,"__esModule",{value:!0}),s.DomHandler=void 0;var f=l(9960),h=l(7790);u(l(7790),s);var d=/\s+/g,m={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1,xmlMode:!1},g=function(){function x(b,_,S){this.dom=[],this.root=new h.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof _=="function"&&(S=_,_=m),typeof b=="object"&&(_=b,b=void 0),this.callback=b??null,this.options=_??m,this.elementCB=S??null}return x.prototype.onparserinit=function(b){this.parser=b},x.prototype.onreset=function(){this.dom=[],this.root=new h.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},x.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},x.prototype.onerror=function(b){this.handleCallback(b)},x.prototype.onclosetag=function(){this.lastNode=null;var b=this.tagStack.pop();this.options.withEndIndices&&(b.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(b)},x.prototype.onopentag=function(b,_){var S=this.options.xmlMode?f.ElementType.Tag:void 0,T=new h.Element(b,_,void 0,S);this.addNode(T),this.tagStack.push(T)},x.prototype.ontext=function(b){var _=this.options.normalizeWhitespace,S=this.lastNode;if(S&&S.type===f.ElementType.Text)_?S.data=(S.data+b).replace(d," "):S.data+=b,this.options.withEndIndices&&(S.endIndex=this.parser.endIndex);else{_&&(b=b.replace(d," "));var T=new h.Text(b);this.addNode(T),this.lastNode=T}},x.prototype.oncomment=function(b){if(this.lastNode&&this.lastNode.type===f.ElementType.Comment)this.lastNode.data+=b;else{var _=new h.Comment(b);this.addNode(_),this.lastNode=_}},x.prototype.oncommentend=function(){this.lastNode=null},x.prototype.oncdatastart=function(){var b=new h.Text(""),_=new h.NodeWithChildren(f.ElementType.CDATA,[b]);this.addNode(_),b.parent=_,this.lastNode=b},x.prototype.oncdataend=function(){this.lastNode=null},x.prototype.onprocessinginstruction=function(b,_){var S=new h.ProcessingInstruction(b,_);this.addNode(S)},x.prototype.handleCallback=function(b){if(typeof this.callback=="function")this.callback(b,this.dom);else if(b)throw b},x.prototype.addNode=function(b){var _=this.tagStack[this.tagStack.length-1],S=_.children[_.children.length-1];this.options.withStartIndices&&(b.startIndex=this.parser.startIndex),this.options.withEndIndices&&(b.endIndex=this.parser.endIndex),_.children.push(b),S&&(b.prev=S,S.next=b),b.parent=_,this.lastNode=null},x}();s.DomHandler=g,s.default=g},7790:function(a,s,l){var c,u=this&&this.__extends||(c=function(D,V){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,G){F.__proto__=G}||function(F,G){for(var W in G)Object.prototype.hasOwnProperty.call(G,W)&&(F[W]=G[W])},c(D,V)},function(D,V){if(typeof V!="function"&&V!==null)throw new TypeError("Class extends value "+String(V)+" is not a constructor or null");function F(){this.constructor=D}c(D,V),D.prototype=V===null?Object.create(V):(F.prototype=V.prototype,new F)}),f=this&&this.__assign||function(){return f=Object.assign||function(D){for(var V,F=1,G=arguments.length;F<G;F++)for(var W in V=arguments[F])Object.prototype.hasOwnProperty.call(V,W)&&(D[W]=V[W]);return D},f.apply(this,arguments)};Object.defineProperty(s,"__esModule",{value:!0}),s.cloneNode=s.hasChildren=s.isDocument=s.isDirective=s.isComment=s.isText=s.isCDATA=s.isTag=s.Element=s.Document=s.NodeWithChildren=s.ProcessingInstruction=s.Comment=s.Text=s.DataNode=s.Node=void 0;var h=l(9960),d=new Map([[h.ElementType.Tag,1],[h.ElementType.Script,1],[h.ElementType.Style,1],[h.ElementType.Directive,1],[h.ElementType.Text,3],[h.ElementType.CDATA,4],[h.ElementType.Comment,8],[h.ElementType.Root,9]]),m=function(){function D(V){this.type=V,this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(D.prototype,"nodeType",{get:function(){var V;return(V=d.get(this.type))!==null&&V!==void 0?V:1},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"parentNode",{get:function(){return this.parent},set:function(V){this.parent=V},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"previousSibling",{get:function(){return this.prev},set:function(V){this.prev=V},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"nextSibling",{get:function(){return this.next},set:function(V){this.next=V},enumerable:!1,configurable:!0}),D.prototype.cloneNode=function(V){return V===void 0&&(V=!1),M(this,V)},D}();s.Node=m;var g=function(D){function V(F,G){var W=D.call(this,F)||this;return W.data=G,W}return u(V,D),Object.defineProperty(V.prototype,"nodeValue",{get:function(){return this.data},set:function(F){this.data=F},enumerable:!1,configurable:!0}),V}(m);s.DataNode=g;var x=function(D){function V(F){return D.call(this,h.ElementType.Text,F)||this}return u(V,D),V}(g);s.Text=x;var b=function(D){function V(F){return D.call(this,h.ElementType.Comment,F)||this}return u(V,D),V}(g);s.Comment=b;var _=function(D){function V(F,G){var W=D.call(this,h.ElementType.Directive,G)||this;return W.name=F,W}return u(V,D),V}(g);s.ProcessingInstruction=_;var S=function(D){function V(F,G){var W=D.call(this,F)||this;return W.children=G,W}return u(V,D),Object.defineProperty(V.prototype,"firstChild",{get:function(){var F;return(F=this.children[0])!==null&&F!==void 0?F:null},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"childNodes",{get:function(){return this.children},set:function(F){this.children=F},enumerable:!1,configurable:!0}),V}(m);s.NodeWithChildren=S;var T=function(D){function V(F){return D.call(this,h.ElementType.Root,F)||this}return u(V,D),V}(S);s.Document=T;var C=function(D){function V(F,G,W,Y){W===void 0&&(W=[]),Y===void 0&&(Y=F==="script"?h.ElementType.Script:F==="style"?h.ElementType.Style:h.ElementType.Tag);var te=D.call(this,Y,W)||this;return te.name=F,te.attribs=G,te}return u(V,D),Object.defineProperty(V.prototype,"tagName",{get:function(){return this.name},set:function(F){this.name=F},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"attributes",{get:function(){var F=this;return Object.keys(this.attribs).map(function(G){var W,Y;return{name:G,value:F.attribs[G],namespace:(W=F["x-attribsNamespace"])===null||W===void 0?void 0:W[G],prefix:(Y=F["x-attribsPrefix"])===null||Y===void 0?void 0:Y[G]}})},enumerable:!1,configurable:!0}),V}(S);function w(D){return(0,h.isTag)(D)}function N(D){return D.type===h.ElementType.CDATA}function A(D){return D.type===h.ElementType.Text}function j(D){return D.type===h.ElementType.Comment}function R(D){return D.type===h.ElementType.Directive}function L(D){return D.type===h.ElementType.Root}function M(D,V){var F;if(V===void 0&&(V=!1),A(D))F=new x(D.data);else if(j(D))F=new b(D.data);else if(w(D)){var G=V?I(D.children):[],W=new C(D.name,f({},D.attribs),G);G.forEach(function(z){return z.parent=W}),D.namespace!=null&&(W.namespace=D.namespace),D["x-attribsNamespace"]&&(W["x-attribsNamespace"]=f({},D["x-attribsNamespace"])),D["x-attribsPrefix"]&&(W["x-attribsPrefix"]=f({},D["x-attribsPrefix"])),F=W}else if(N(D)){G=V?I(D.children):[];var Y=new S(h.ElementType.CDATA,G);G.forEach(function(z){return z.parent=Y}),F=Y}else if(L(D)){G=V?I(D.children):[];var te=new T(G);G.forEach(function(z){return z.parent=te}),D["x-mode"]&&(te["x-mode"]=D["x-mode"]),F=te}else{if(!R(D))throw new Error("Not implemented yet: ".concat(D.type));var he=new _(D.name,D.data);D["x-name"]!=null&&(he["x-name"]=D["x-name"],he["x-publicId"]=D["x-publicId"],he["x-systemId"]=D["x-systemId"]),F=he}return F.startIndex=D.startIndex,F.endIndex=D.endIndex,D.sourceCodeLocation!=null&&(F.sourceCodeLocation=D.sourceCodeLocation),F}function I(D){for(var V=D.map(function(G){return M(G,!0)}),F=1;F<V.length;F++)V[F].prev=V[F-1],V[F-1].next=V[F];return V}s.Element=C,s.isTag=w,s.isCDATA=N,s.isText=A,s.isComment=j,s.isDirective=R,s.isDocument=L,s.hasChildren=function(D){return Object.prototype.hasOwnProperty.call(D,"children")},s.cloneNode=M},6996:(a,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getFeed=void 0;var c=l(3346),u=l(3905);s.getFeed=function(_){var S=m(b,_);return S?S.name==="feed"?function(T){var C,w=T.children,N={type:"atom",items:(0,u.getElementsByTagName)("entry",w).map(function(R){var L,M=R.children,I={media:d(M)};x(I,"id","id",M),x(I,"title","title",M);var D=(L=m("link",M))===null||L===void 0?void 0:L.attribs.href;D&&(I.link=D);var V=g("summary",M)||g("content",M);V&&(I.description=V);var F=g("updated",M);return F&&(I.pubDate=new Date(F)),I})};x(N,"id","id",w),x(N,"title","title",w);var A=(C=m("link",w))===null||C===void 0?void 0:C.attribs.href;A&&(N.link=A),x(N,"description","subtitle",w);var j=g("updated",w);return j&&(N.updated=new Date(j)),x(N,"author","email",w,!0),N}(S):function(T){var C,w,N=(w=(C=m("channel",T.children))===null||C===void 0?void 0:C.children)!==null&&w!==void 0?w:[],A={type:T.name.substr(0,3),id:"",items:(0,u.getElementsByTagName)("item",T.children).map(function(R){var L=R.children,M={media:d(L)};x(M,"id","guid",L),x(M,"title","title",L),x(M,"link","link",L),x(M,"description","description",L);var I=g("pubDate",L);return I&&(M.pubDate=new Date(I)),M})};x(A,"title","title",N),x(A,"link","link",N),x(A,"description","description",N);var j=g("lastBuildDate",N);return j&&(A.updated=new Date(j)),x(A,"author","managingEditor",N,!0),A}(S):null};var f=["url","type","lang"],h=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function d(_){return(0,u.getElementsByTagName)("media:content",_).map(function(S){for(var T=S.attribs,C={medium:T.medium,isDefault:!!T.isDefault},w=0,N=f;w<N.length;w++)T[R=N[w]]&&(C[R]=T[R]);for(var A=0,j=h;A<j.length;A++){var R;T[R=j[A]]&&(C[R]=parseInt(T[R],10))}return T.expression&&(C.expression=T.expression),C})}function m(_,S){return(0,u.getElementsByTagName)(_,S,!0,1)[0]}function g(_,S,T){return T===void 0&&(T=!1),(0,c.textContent)((0,u.getElementsByTagName)(_,S,T,1)).trim()}function x(_,S,T,C,w){w===void 0&&(w=!1);var N=g(T,C,w);N&&(_[S]=N)}function b(_){return _==="rss"||_==="feed"||_==="rdf:RDF"}},4975:(a,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.uniqueSort=s.compareDocumentPosition=s.removeSubsets=void 0;var c=l(7915);function u(f,h){var d=[],m=[];if(f===h)return 0;for(var g=(0,c.hasChildren)(f)?f:f.parent;g;)d.unshift(g),g=g.parent;for(g=(0,c.hasChildren)(h)?h:h.parent;g;)m.unshift(g),g=g.parent;for(var x=Math.min(d.length,m.length),b=0;b<x&&d[b]===m[b];)b++;if(b===0)return 1;var _=d[b-1],S=_.children,T=d[b],C=m[b];return S.indexOf(T)>S.indexOf(C)?_===h?20:4:_===f?10:2}s.removeSubsets=function(f){for(var h=f.length;--h>=0;){var d=f[h];if(h>0&&f.lastIndexOf(d,h-1)>=0)f.splice(h,1);else for(var m=d.parent;m;m=m.parent)if(f.includes(m)){f.splice(h,1);break}}return f},s.compareDocumentPosition=u,s.uniqueSort=function(f){return(f=f.filter(function(h,d,m){return!m.includes(h,d+1)})).sort(function(h,d){var m=u(h,d);return 2&m?-1:4&m?1:0}),f}},9432:function(a,s,l){var c=this&&this.__createBinding||(Object.create?function(h,d,m,g){g===void 0&&(g=m),Object.defineProperty(h,g,{enumerable:!0,get:function(){return d[m]}})}:function(h,d,m,g){g===void 0&&(g=m),h[g]=d[m]}),u=this&&this.__exportStar||function(h,d){for(var m in h)m==="default"||Object.prototype.hasOwnProperty.call(d,m)||c(d,h,m)};Object.defineProperty(s,"__esModule",{value:!0}),s.hasChildren=s.isDocument=s.isComment=s.isText=s.isCDATA=s.isTag=void 0,u(l(3346),s),u(l(5010),s),u(l(6765),s),u(l(8043),s),u(l(3905),s),u(l(4975),s),u(l(6996),s);var f=l(7915);Object.defineProperty(s,"isTag",{enumerable:!0,get:function(){return f.isTag}}),Object.defineProperty(s,"isCDATA",{enumerable:!0,get:function(){return f.isCDATA}}),Object.defineProperty(s,"isText",{enumerable:!0,get:function(){return f.isText}}),Object.defineProperty(s,"isComment",{enumerable:!0,get:function(){return f.isComment}}),Object.defineProperty(s,"isDocument",{enumerable:!0,get:function(){return f.isDocument}}),Object.defineProperty(s,"hasChildren",{enumerable:!0,get:function(){return f.hasChildren}})},3905:(a,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getElementsByTagType=s.getElementsByTagName=s.getElementById=s.getElements=s.testElement=void 0;var c=l(7915),u=l(8043),f={tag_name:function(g){return typeof g=="function"?function(x){return(0,c.isTag)(x)&&g(x.name)}:g==="*"?c.isTag:function(x){return(0,c.isTag)(x)&&x.name===g}},tag_type:function(g){return typeof g=="function"?function(x){return g(x.type)}:function(x){return x.type===g}},tag_contains:function(g){return typeof g=="function"?function(x){return(0,c.isText)(x)&&g(x.data)}:function(x){return(0,c.isText)(x)&&x.data===g}}};function h(g,x){return typeof x=="function"?function(b){return(0,c.isTag)(b)&&x(b.attribs[g])}:function(b){return(0,c.isTag)(b)&&b.attribs[g]===x}}function d(g,x){return function(b){return g(b)||x(b)}}function m(g){var x=Object.keys(g).map(function(b){var _=g[b];return Object.prototype.hasOwnProperty.call(f,b)?f[b](_):h(b,_)});return x.length===0?null:x.reduce(d)}s.testElement=function(g,x){var b=m(g);return!b||b(x)},s.getElements=function(g,x,b,_){_===void 0&&(_=1/0);var S=m(g);return S?(0,u.filter)(S,x,b,_):[]},s.getElementById=function(g,x,b){return b===void 0&&(b=!0),Array.isArray(x)||(x=[x]),(0,u.findOne)(h("id",g),x,b)},s.getElementsByTagName=function(g,x,b,_){return b===void 0&&(b=!0),_===void 0&&(_=1/0),(0,u.filter)(f.tag_name(g),x,b,_)},s.getElementsByTagType=function(g,x,b,_){return b===void 0&&(b=!0),_===void 0&&(_=1/0),(0,u.filter)(f.tag_type(g),x,b,_)}},6765:(a,s)=>{function l(c){if(c.prev&&(c.prev.next=c.next),c.next&&(c.next.prev=c.prev),c.parent){var u=c.parent.children;u.splice(u.lastIndexOf(c),1)}}Object.defineProperty(s,"__esModule",{value:!0}),s.prepend=s.prependChild=s.append=s.appendChild=s.replaceElement=s.removeElement=void 0,s.removeElement=l,s.replaceElement=function(c,u){var f=u.prev=c.prev;f&&(f.next=u);var h=u.next=c.next;h&&(h.prev=u);var d=u.parent=c.parent;if(d){var m=d.children;m[m.lastIndexOf(c)]=u}},s.appendChild=function(c,u){if(l(u),u.next=null,u.parent=c,c.children.push(u)>1){var f=c.children[c.children.length-2];f.next=u,u.prev=f}else u.prev=null},s.append=function(c,u){l(u);var f=c.parent,h=c.next;if(u.next=h,u.prev=c,c.next=u,u.parent=f,h){if(h.prev=u,f){var d=f.children;d.splice(d.lastIndexOf(h),0,u)}}else f&&f.children.push(u)},s.prependChild=function(c,u){if(l(u),u.parent=c,u.prev=null,c.children.unshift(u)!==1){var f=c.children[1];f.prev=u,u.next=f}else u.next=null},s.prepend=function(c,u){l(u);var f=c.parent;if(f){var h=f.children;h.splice(h.indexOf(c),0,u)}c.prev&&(c.prev.next=u),u.parent=f,u.prev=c.prev,u.next=c,c.prev=u}},8043:(a,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.findAll=s.existsOne=s.findOne=s.findOneChild=s.find=s.filter=void 0;var c=l(7915);function u(f,h,d,m){for(var g=[],x=0,b=h;x<b.length;x++){var _=b[x];if(f(_)&&(g.push(_),--m<=0))break;if(d&&(0,c.hasChildren)(_)&&_.children.length>0){var S=u(f,_.children,d,m);if(g.push.apply(g,S),(m-=S.length)<=0)break}}return g}s.filter=function(f,h,d,m){return d===void 0&&(d=!0),m===void 0&&(m=1/0),Array.isArray(h)||(h=[h]),u(f,h,d,m)},s.find=u,s.findOneChild=function(f,h){return h.find(f)},s.findOne=function f(h,d,m){m===void 0&&(m=!0);for(var g=null,x=0;x<d.length&&!g;x++){var b=d[x];(0,c.isTag)(b)&&(h(b)?g=b:m&&b.children.length>0&&(g=f(h,b.children)))}return g},s.existsOne=function f(h,d){return d.some(function(m){return(0,c.isTag)(m)&&(h(m)||m.children.length>0&&f(h,m.children))})},s.findAll=function(f,h){for(var d,m,g=[],x=h.filter(c.isTag);m=x.shift();){var b=(d=m.children)===null||d===void 0?void 0:d.filter(c.isTag);b&&b.length>0&&x.unshift.apply(x,b),f(m)&&g.push(m)}return g}},3346:function(a,s,l){var c=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(s,"__esModule",{value:!0}),s.innerText=s.textContent=s.getText=s.getInnerHTML=s.getOuterHTML=void 0;var u=l(7915),f=c(l(7220)),h=l(9960);function d(m,g){return(0,f.default)(m,g)}s.getOuterHTML=d,s.getInnerHTML=function(m,g){return(0,u.hasChildren)(m)?m.children.map(function(x){return d(x,g)}).join(""):""},s.getText=function m(g){return Array.isArray(g)?g.map(m).join(""):(0,u.isTag)(g)?g.name==="br"?`
`:m(g.children):(0,u.isCDATA)(g)?m(g.children):(0,u.isText)(g)?g.data:""},s.textContent=function m(g){return Array.isArray(g)?g.map(m).join(""):(0,u.hasChildren)(g)&&!(0,u.isComment)(g)?m(g.children):(0,u.isText)(g)?g.data:""},s.innerText=function m(g){return Array.isArray(g)?g.map(m).join(""):(0,u.hasChildren)(g)&&(g.type===h.ElementType.Tag||(0,u.isCDATA)(g))?m(g.children):(0,u.isText)(g)?g.data:""}},5010:(a,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.prevElementSibling=s.nextElementSibling=s.getName=s.hasAttrib=s.getAttributeValue=s.getSiblings=s.getParent=s.getChildren=void 0;var c=l(7915),u=[];function f(d){var m;return(m=d.children)!==null&&m!==void 0?m:u}function h(d){return d.parent||null}s.getChildren=f,s.getParent=h,s.getSiblings=function(d){var m=h(d);if(m!=null)return f(m);for(var g=[d],x=d.prev,b=d.next;x!=null;)g.unshift(x),x=x.prev;for(;b!=null;)g.push(b),b=b.next;return g},s.getAttributeValue=function(d,m){var g;return(g=d.attribs)===null||g===void 0?void 0:g[m]},s.hasAttrib=function(d,m){return d.attribs!=null&&Object.prototype.hasOwnProperty.call(d.attribs,m)&&d.attribs[m]!=null},s.getName=function(d){return d.name},s.nextElementSibling=function(d){for(var m=d.next;m!==null&&!(0,c.isTag)(m);)m=m.next;return m},s.prevElementSibling=function(d){for(var m=d.prev;m!==null&&!(0,c.isTag)(m);)m=m.prev;return m}},4076:function(a,s,l){var c=this&&this.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(s,"__esModule",{value:!0}),s.decodeHTML=s.decodeHTMLStrict=s.decodeXML=void 0;var u=c(l(9323)),f=c(l(9591)),h=c(l(2586)),d=c(l(26)),m=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;function g(_){var S=b(_);return function(T){return String(T).replace(m,S)}}s.decodeXML=g(h.default),s.decodeHTMLStrict=g(u.default);var x=function(_,S){return _<S?1:-1};function b(_){return function(S){if(S.charAt(1)==="#"){var T=S.charAt(2);return T==="X"||T==="x"?d.default(parseInt(S.substr(3),16)):d.default(parseInt(S.substr(2),10))}return _[S.slice(1,-1)]||S}}s.decodeHTML=function(){for(var _=Object.keys(f.default).sort(x),S=Object.keys(u.default).sort(x),T=0,C=0;T<S.length;T++)_[C]===S[T]?(S[T]+=";?",C++):S[T]+=";";var w=new RegExp("&(?:"+S.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),N=b(u.default);function A(j){return j.substr(-1)!==";"&&(j+=";"),N(j)}return function(j){return String(j).replace(w,A)}}()},26:function(a,s,l){var c=this&&this.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(s,"__esModule",{value:!0});var u=c(l(3600)),f=String.fromCodePoint||function(h){var d="";return h>65535&&(h-=65536,d+=String.fromCharCode(h>>>10&1023|55296),h=56320|1023&h),d+=String.fromCharCode(h)};s.default=function(h){return h>=55296&&h<=57343||h>1114111?"�":(h in u.default&&(h=u.default[h]),f(h))}},7322:function(a,s,l){var c=this&&this.__importDefault||function(N){return N&&N.__esModule?N:{default:N}};Object.defineProperty(s,"__esModule",{value:!0}),s.escapeUTF8=s.escape=s.encodeNonAsciiHTML=s.encodeHTML=s.encodeXML=void 0;var u=x(c(l(2586)).default),f=b(u);s.encodeXML=w(u);var h,d,m=x(c(l(9323)).default),g=b(m);function x(N){return Object.keys(N).sort().reduce(function(A,j){return A[N[j]]="&"+j+";",A},{})}function b(N){for(var A=[],j=[],R=0,L=Object.keys(N);R<L.length;R++){var M=L[R];M.length===1?A.push("\\"+M):j.push(M)}A.sort();for(var I=0;I<A.length-1;I++){for(var D=I;D<A.length-1&&A[D].charCodeAt(1)+1===A[D+1].charCodeAt(1);)D+=1;var V=1+D-I;V<3||A.splice(I,V,A[I]+"-"+A[D])}return j.unshift("["+A.join("")+"]"),new RegExp(j.join("|"),"g")}s.encodeHTML=(h=m,d=g,function(N){return N.replace(d,function(A){return h[A]}).replace(_,T)}),s.encodeNonAsciiHTML=w(m);var _=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,S=String.prototype.codePointAt!=null?function(N){return N.codePointAt(0)}:function(N){return 1024*(N.charCodeAt(0)-55296)+N.charCodeAt(1)-56320+65536};function T(N){return"&#x"+(N.length>1?S(N):N.charCodeAt(0)).toString(16).toUpperCase()+";"}var C=new RegExp(f.source+"|"+_.source,"g");function w(N){return function(A){return A.replace(C,function(j){return N[j]||T(j)})}}s.escape=function(N){return N.replace(C,T)},s.escapeUTF8=function(N){return N.replace(f,T)}},5863:(a,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.decodeXMLStrict=s.decodeHTML5Strict=s.decodeHTML4Strict=s.decodeHTML5=s.decodeHTML4=s.decodeHTMLStrict=s.decodeHTML=s.decodeXML=s.encodeHTML5=s.encodeHTML4=s.escapeUTF8=s.escape=s.encodeNonAsciiHTML=s.encodeHTML=s.encodeXML=s.encode=s.decodeStrict=s.decode=void 0;var c=l(4076),u=l(7322);s.decode=function(d,m){return(!m||m<=0?c.decodeXML:c.decodeHTML)(d)},s.decodeStrict=function(d,m){return(!m||m<=0?c.decodeXML:c.decodeHTMLStrict)(d)},s.encode=function(d,m){return(!m||m<=0?u.encodeXML:u.encodeHTML)(d)};var f=l(7322);Object.defineProperty(s,"encodeXML",{enumerable:!0,get:function(){return f.encodeXML}}),Object.defineProperty(s,"encodeHTML",{enumerable:!0,get:function(){return f.encodeHTML}}),Object.defineProperty(s,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return f.encodeNonAsciiHTML}}),Object.defineProperty(s,"escape",{enumerable:!0,get:function(){return f.escape}}),Object.defineProperty(s,"escapeUTF8",{enumerable:!0,get:function(){return f.escapeUTF8}}),Object.defineProperty(s,"encodeHTML4",{enumerable:!0,get:function(){return f.encodeHTML}}),Object.defineProperty(s,"encodeHTML5",{enumerable:!0,get:function(){return f.encodeHTML}});var h=l(4076);Object.defineProperty(s,"decodeXML",{enumerable:!0,get:function(){return h.decodeXML}}),Object.defineProperty(s,"decodeHTML",{enumerable:!0,get:function(){return h.decodeHTML}}),Object.defineProperty(s,"decodeHTMLStrict",{enumerable:!0,get:function(){return h.decodeHTMLStrict}}),Object.defineProperty(s,"decodeHTML4",{enumerable:!0,get:function(){return h.decodeHTML}}),Object.defineProperty(s,"decodeHTML5",{enumerable:!0,get:function(){return h.decodeHTML}}),Object.defineProperty(s,"decodeHTML4Strict",{enumerable:!0,get:function(){return h.decodeHTMLStrict}}),Object.defineProperty(s,"decodeHTML5Strict",{enumerable:!0,get:function(){return h.decodeHTMLStrict}}),Object.defineProperty(s,"decodeXMLStrict",{enumerable:!0,get:function(){return h.decodeXML}})},3870:function(a,s,l){var c,u=this&&this.__extends||(c=function(M,I){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,V){D.__proto__=V}||function(D,V){for(var F in V)Object.prototype.hasOwnProperty.call(V,F)&&(D[F]=V[F])},c(M,I)},function(M,I){if(typeof I!="function"&&I!==null)throw new TypeError("Class extends value "+String(I)+" is not a constructor or null");function D(){this.constructor=M}c(M,I),M.prototype=I===null?Object.create(I):(D.prototype=I.prototype,new D)}),f=this&&this.__createBinding||(Object.create?function(M,I,D,V){V===void 0&&(V=D),Object.defineProperty(M,V,{enumerable:!0,get:function(){return I[D]}})}:function(M,I,D,V){V===void 0&&(V=D),M[V]=I[D]}),h=this&&this.__setModuleDefault||(Object.create?function(M,I){Object.defineProperty(M,"default",{enumerable:!0,value:I})}:function(M,I){M.default=I}),d=this&&this.__importStar||function(M){if(M&&M.__esModule)return M;var I={};if(M!=null)for(var D in M)D!=="default"&&Object.prototype.hasOwnProperty.call(M,D)&&f(I,M,D);return h(I,M),I},m=this&&this.__importDefault||function(M){return M&&M.__esModule?M:{default:M}};Object.defineProperty(s,"__esModule",{value:!0}),s.parseFeed=s.FeedHandler=void 0;var g,x,b=m(l(7915)),_=d(l(9432)),S=l(763);(function(M){M[M.image=0]="image",M[M.audio=1]="audio",M[M.video=2]="video",M[M.document=3]="document",M[M.executable=4]="executable"})(g||(g={})),function(M){M[M.sample=0]="sample",M[M.full=1]="full",M[M.nonstop=2]="nonstop"}(x||(x={}));var T=function(M){function I(D,V){return typeof D=="object"&&(V=D=void 0),M.call(this,D,V)||this}return u(I,M),I.prototype.onend=function(){var D,V,F=N(L,this.dom);if(F){var G={};if(F.name==="feed"){var W=F.children;G.type="atom",R(G,"id","id",W),R(G,"title","title",W);var Y=j("href",N("link",W));Y&&(G.link=Y),R(G,"description","subtitle",W),(te=A("updated",W))&&(G.updated=new Date(te)),R(G,"author","email",W,!0),G.items=w("entry",W).map(function(he){var z={},Z=he.children;R(z,"id","id",Z),R(z,"title","title",Z);var X=j("href",N("link",Z));X&&(z.link=X);var ae=A("summary",Z)||A("content",Z);ae&&(z.description=ae);var ve=A("updated",Z);return ve&&(z.pubDate=new Date(ve)),z.media=C(Z),z})}else{var te;W=(V=(D=N("channel",F.children))===null||D===void 0?void 0:D.children)!==null&&V!==void 0?V:[],G.type=F.name.substr(0,3),G.id="",R(G,"title","title",W),R(G,"link","link",W),R(G,"description","description",W),(te=A("lastBuildDate",W))&&(G.updated=new Date(te)),R(G,"author","managingEditor",W,!0),G.items=w("item",F.children).map(function(he){var z={},Z=he.children;R(z,"id","guid",Z),R(z,"title","title",Z),R(z,"link","link",Z),R(z,"description","description",Z);var X=A("pubDate",Z);return X&&(z.pubDate=new Date(X)),z.media=C(Z),z})}this.feed=G,this.handleCallback(null)}else this.handleCallback(new Error("couldn't find root of feed"))},I}(b.default);function C(M){return w("media:content",M).map(function(I){var D={medium:I.attribs.medium,isDefault:!!I.attribs.isDefault};return I.attribs.url&&(D.url=I.attribs.url),I.attribs.fileSize&&(D.fileSize=parseInt(I.attribs.fileSize,10)),I.attribs.type&&(D.type=I.attribs.type),I.attribs.expression&&(D.expression=I.attribs.expression),I.attribs.bitrate&&(D.bitrate=parseInt(I.attribs.bitrate,10)),I.attribs.framerate&&(D.framerate=parseInt(I.attribs.framerate,10)),I.attribs.samplingrate&&(D.samplingrate=parseInt(I.attribs.samplingrate,10)),I.attribs.channels&&(D.channels=parseInt(I.attribs.channels,10)),I.attribs.duration&&(D.duration=parseInt(I.attribs.duration,10)),I.attribs.height&&(D.height=parseInt(I.attribs.height,10)),I.attribs.width&&(D.width=parseInt(I.attribs.width,10)),I.attribs.lang&&(D.lang=I.attribs.lang),D})}function w(M,I){return _.getElementsByTagName(M,I,!0)}function N(M,I){return _.getElementsByTagName(M,I,!0,1)[0]}function A(M,I,D){return D===void 0&&(D=!1),_.getText(_.getElementsByTagName(M,I,D,1)).trim()}function j(M,I){return I?I.attribs[M]:null}function R(M,I,D,V,F){F===void 0&&(F=!1);var G=A(D,V,F);G&&(M[I]=G)}function L(M){return M==="rss"||M==="feed"||M==="rdf:RDF"}s.FeedHandler=T,s.parseFeed=function(M,I){I===void 0&&(I={xmlMode:!0});var D=new T(I);return new S.Parser(D,I).end(M),D.feed}},763:function(a,s,l){var c=this&&this.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(s,"__esModule",{value:!0}),s.Parser=void 0;var u=c(l(9889)),f=new Set(["input","option","optgroup","select","button","datalist","textarea"]),h=new Set(["p"]),d={tr:new Set(["tr","th","td"]),th:new Set(["th"]),td:new Set(["thead","th","td"]),body:new Set(["head","link","script"]),li:new Set(["li"]),p:h,h1:h,h2:h,h3:h,h4:h,h5:h,h6:h,select:f,input:f,output:f,button:f,datalist:f,textarea:f,option:new Set(["option"]),optgroup:new Set(["optgroup","option"]),dd:new Set(["dt","dd"]),dt:new Set(["dt","dd"]),address:h,article:h,aside:h,blockquote:h,details:h,div:h,dl:h,fieldset:h,figcaption:h,figure:h,footer:h,form:h,header:h,hr:h,main:h,nav:h,ol:h,pre:h,section:h,table:h,ul:h,rt:new Set(["rt","rp"]),rp:new Set(["rt","rp"]),tbody:new Set(["thead","tbody"]),tfoot:new Set(["thead","tbody"])},m=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),g=new Set(["math","svg"]),x=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),b=/\s|\//,_=function(){function S(T,C){var w,N,A,j,R;C===void 0&&(C={}),this.startIndex=0,this.endIndex=null,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.options=C,this.cbs=T??{},this.lowerCaseTagNames=(w=C.lowerCaseTags)!==null&&w!==void 0?w:!C.xmlMode,this.lowerCaseAttributeNames=(N=C.lowerCaseAttributeNames)!==null&&N!==void 0?N:!C.xmlMode,this.tokenizer=new((A=C.Tokenizer)!==null&&A!==void 0?A:u.default)(this.options,this),(R=(j=this.cbs).onparserinit)===null||R===void 0||R.call(j,this)}return S.prototype.updatePosition=function(T){this.endIndex===null?this.tokenizer.sectionStart<=T?this.startIndex=0:this.startIndex=this.tokenizer.sectionStart-T:this.startIndex=this.endIndex+1,this.endIndex=this.tokenizer.getAbsoluteIndex()},S.prototype.ontext=function(T){var C,w;this.updatePosition(1),this.endIndex--,(w=(C=this.cbs).ontext)===null||w===void 0||w.call(C,T)},S.prototype.onopentagname=function(T){var C,w;if(this.lowerCaseTagNames&&(T=T.toLowerCase()),this.tagname=T,!this.options.xmlMode&&Object.prototype.hasOwnProperty.call(d,T))for(var N=void 0;this.stack.length>0&&d[T].has(N=this.stack[this.stack.length-1]);)this.onclosetag(N);!this.options.xmlMode&&m.has(T)||(this.stack.push(T),g.has(T)?this.foreignContext.push(!0):x.has(T)&&this.foreignContext.push(!1)),(w=(C=this.cbs).onopentagname)===null||w===void 0||w.call(C,T),this.cbs.onopentag&&(this.attribs={})},S.prototype.onopentagend=function(){var T,C;this.updatePosition(1),this.attribs&&((C=(T=this.cbs).onopentag)===null||C===void 0||C.call(T,this.tagname,this.attribs),this.attribs=null),!this.options.xmlMode&&this.cbs.onclosetag&&m.has(this.tagname)&&this.cbs.onclosetag(this.tagname),this.tagname=""},S.prototype.onclosetag=function(T){if(this.updatePosition(1),this.lowerCaseTagNames&&(T=T.toLowerCase()),(g.has(T)||x.has(T))&&this.foreignContext.pop(),!this.stack.length||!this.options.xmlMode&&m.has(T))this.options.xmlMode||T!=="br"&&T!=="p"||(this.onopentagname(T),this.closeCurrentTag());else{var C=this.stack.lastIndexOf(T);if(C!==-1)if(this.cbs.onclosetag)for(C=this.stack.length-C;C--;)this.cbs.onclosetag(this.stack.pop());else this.stack.length=C;else T!=="p"||this.options.xmlMode||(this.onopentagname(T),this.closeCurrentTag())}},S.prototype.onselfclosingtag=function(){this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?this.closeCurrentTag():this.onopentagend()},S.prototype.closeCurrentTag=function(){var T,C,w=this.tagname;this.onopentagend(),this.stack[this.stack.length-1]===w&&((C=(T=this.cbs).onclosetag)===null||C===void 0||C.call(T,w),this.stack.pop())},S.prototype.onattribname=function(T){this.lowerCaseAttributeNames&&(T=T.toLowerCase()),this.attribname=T},S.prototype.onattribdata=function(T){this.attribvalue+=T},S.prototype.onattribend=function(T){var C,w;(w=(C=this.cbs).onattribute)===null||w===void 0||w.call(C,this.attribname,this.attribvalue,T),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribname="",this.attribvalue=""},S.prototype.getInstructionName=function(T){var C=T.search(b),w=C<0?T:T.substr(0,C);return this.lowerCaseTagNames&&(w=w.toLowerCase()),w},S.prototype.ondeclaration=function(T){if(this.cbs.onprocessinginstruction){var C=this.getInstructionName(T);this.cbs.onprocessinginstruction("!"+C,"!"+T)}},S.prototype.onprocessinginstruction=function(T){if(this.cbs.onprocessinginstruction){var C=this.getInstructionName(T);this.cbs.onprocessinginstruction("?"+C,"?"+T)}},S.prototype.oncomment=function(T){var C,w,N,A;this.updatePosition(4),(w=(C=this.cbs).oncomment)===null||w===void 0||w.call(C,T),(A=(N=this.cbs).oncommentend)===null||A===void 0||A.call(N)},S.prototype.oncdata=function(T){var C,w,N,A,j,R;this.updatePosition(1),this.options.xmlMode||this.options.recognizeCDATA?((w=(C=this.cbs).oncdatastart)===null||w===void 0||w.call(C),(A=(N=this.cbs).ontext)===null||A===void 0||A.call(N,T),(R=(j=this.cbs).oncdataend)===null||R===void 0||R.call(j)):this.oncomment("[CDATA["+T+"]]")},S.prototype.onerror=function(T){var C,w;(w=(C=this.cbs).onerror)===null||w===void 0||w.call(C,T)},S.prototype.onend=function(){var T,C;if(this.cbs.onclosetag)for(var w=this.stack.length;w>0;this.cbs.onclosetag(this.stack[--w]));(C=(T=this.cbs).onend)===null||C===void 0||C.call(T)},S.prototype.reset=function(){var T,C,w,N;(C=(T=this.cbs).onreset)===null||C===void 0||C.call(T),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack=[],(N=(w=this.cbs).onparserinit)===null||N===void 0||N.call(w,this)},S.prototype.parseComplete=function(T){this.reset(),this.end(T)},S.prototype.write=function(T){this.tokenizer.write(T)},S.prototype.end=function(T){this.tokenizer.end(T)},S.prototype.pause=function(){this.tokenizer.pause()},S.prototype.resume=function(){this.tokenizer.resume()},S.prototype.parseChunk=function(T){this.write(T)},S.prototype.done=function(T){this.end(T)},S}();s.Parser=_},9889:function(a,s,l){var c=this&&this.__importDefault||function(se){return se&&se.__esModule?se:{default:se}};Object.defineProperty(s,"__esModule",{value:!0});var u=c(l(26)),f=c(l(9323)),h=c(l(9591)),d=c(l(2586));function m(se){return se===" "||se===`
`||se==="	"||se==="\f"||se==="\r"}function g(se){return se>="a"&&se<="z"||se>="A"&&se<="Z"}function x(se,ce,$e){var Ue=se.toLowerCase();return se===Ue?function(Te,ft){ft===Ue?Te._state=ce:(Te._state=$e,Te._index--)}:function(Te,ft){ft===Ue||ft===se?Te._state=ce:(Te._state=$e,Te._index--)}}function b(se,ce){var $e=se.toLowerCase();return function(Ue,Te){Te===$e||Te===se?Ue._state=ce:(Ue._state=3,Ue._index--)}}var _=x("C",24,16),S=x("D",25,16),T=x("A",26,16),C=x("T",27,16),w=x("A",28,16),N=b("R",35),A=b("I",36),j=b("P",37),R=b("T",38),L=x("R",40,1),M=x("I",41,1),I=x("P",42,1),D=x("T",43,1),V=b("Y",45),F=b("L",46),G=b("E",47),W=x("Y",49,1),Y=x("L",50,1),te=x("E",51,1),he=b("I",54),z=b("T",55),Z=b("L",56),X=b("E",57),ae=x("I",58,1),ve=x("T",59,1),me=x("L",60,1),Ee=x("E",61,1),ke=x("#",63,64),He=x("X",66,65),Re=function(){function se(ce,$e){var Ue;this._state=1,this.buffer="",this.sectionStart=0,this._index=0,this.bufferOffset=0,this.baseState=1,this.special=1,this.running=!0,this.ended=!1,this.cbs=$e,this.xmlMode=!!(ce!=null&&ce.xmlMode),this.decodeEntities=(Ue=ce==null?void 0:ce.decodeEntities)===null||Ue===void 0||Ue}return se.prototype.reset=function(){this._state=1,this.buffer="",this.sectionStart=0,this._index=0,this.bufferOffset=0,this.baseState=1,this.special=1,this.running=!0,this.ended=!1},se.prototype.write=function(ce){this.ended&&this.cbs.onerror(Error(".write() after done!")),this.buffer+=ce,this.parse()},se.prototype.end=function(ce){this.ended&&this.cbs.onerror(Error(".end() after done!")),ce&&this.write(ce),this.ended=!0,this.running&&this.finish()},se.prototype.pause=function(){this.running=!1},se.prototype.resume=function(){this.running=!0,this._index<this.buffer.length&&this.parse(),this.ended&&this.finish()},se.prototype.getAbsoluteIndex=function(){return this.bufferOffset+this._index},se.prototype.stateText=function(ce){ce==="<"?(this._index>this.sectionStart&&this.cbs.ontext(this.getSection()),this._state=2,this.sectionStart=this._index):!this.decodeEntities||ce!=="&"||this.special!==1&&this.special!==4||(this._index>this.sectionStart&&this.cbs.ontext(this.getSection()),this.baseState=1,this._state=62,this.sectionStart=this._index)},se.prototype.isTagStartChar=function(ce){return g(ce)||this.xmlMode&&!m(ce)&&ce!=="/"&&ce!==">"},se.prototype.stateBeforeTagName=function(ce){ce==="/"?this._state=5:ce==="<"?(this.cbs.ontext(this.getSection()),this.sectionStart=this._index):ce===">"||this.special!==1||m(ce)?this._state=1:ce==="!"?(this._state=15,this.sectionStart=this._index+1):ce==="?"?(this._state=17,this.sectionStart=this._index+1):this.isTagStartChar(ce)?(this._state=this.xmlMode||ce!=="s"&&ce!=="S"?this.xmlMode||ce!=="t"&&ce!=="T"?3:52:32,this.sectionStart=this._index):this._state=1},se.prototype.stateInTagName=function(ce){(ce==="/"||ce===">"||m(ce))&&(this.emitToken("onopentagname"),this._state=8,this._index--)},se.prototype.stateBeforeClosingTagName=function(ce){m(ce)||(ce===">"?this._state=1:this.special!==1?this.special===4||ce!=="s"&&ce!=="S"?this.special!==4||ce!=="t"&&ce!=="T"?(this._state=1,this._index--):this._state=53:this._state=33:this.isTagStartChar(ce)?(this._state=6,this.sectionStart=this._index):(this._state=20,this.sectionStart=this._index))},se.prototype.stateInClosingTagName=function(ce){(ce===">"||m(ce))&&(this.emitToken("onclosetag"),this._state=7,this._index--)},se.prototype.stateAfterClosingTagName=function(ce){ce===">"&&(this._state=1,this.sectionStart=this._index+1)},se.prototype.stateBeforeAttributeName=function(ce){ce===">"?(this.cbs.onopentagend(),this._state=1,this.sectionStart=this._index+1):ce==="/"?this._state=4:m(ce)||(this._state=9,this.sectionStart=this._index)},se.prototype.stateInSelfClosingTag=function(ce){ce===">"?(this.cbs.onselfclosingtag(),this._state=1,this.sectionStart=this._index+1,this.special=1):m(ce)||(this._state=8,this._index--)},se.prototype.stateInAttributeName=function(ce){(ce==="="||ce==="/"||ce===">"||m(ce))&&(this.cbs.onattribname(this.getSection()),this.sectionStart=-1,this._state=10,this._index--)},se.prototype.stateAfterAttributeName=function(ce){ce==="="?this._state=11:ce==="/"||ce===">"?(this.cbs.onattribend(void 0),this._state=8,this._index--):m(ce)||(this.cbs.onattribend(void 0),this._state=9,this.sectionStart=this._index)},se.prototype.stateBeforeAttributeValue=function(ce){ce==='"'?(this._state=12,this.sectionStart=this._index+1):ce==="'"?(this._state=13,this.sectionStart=this._index+1):m(ce)||(this._state=14,this.sectionStart=this._index,this._index--)},se.prototype.handleInAttributeValue=function(ce,$e){ce===$e?(this.emitToken("onattribdata"),this.cbs.onattribend($e),this._state=8):this.decodeEntities&&ce==="&"&&(this.emitToken("onattribdata"),this.baseState=this._state,this._state=62,this.sectionStart=this._index)},se.prototype.stateInAttributeValueDoubleQuotes=function(ce){this.handleInAttributeValue(ce,'"')},se.prototype.stateInAttributeValueSingleQuotes=function(ce){this.handleInAttributeValue(ce,"'")},se.prototype.stateInAttributeValueNoQuotes=function(ce){m(ce)||ce===">"?(this.emitToken("onattribdata"),this.cbs.onattribend(null),this._state=8,this._index--):this.decodeEntities&&ce==="&"&&(this.emitToken("onattribdata"),this.baseState=this._state,this._state=62,this.sectionStart=this._index)},se.prototype.stateBeforeDeclaration=function(ce){this._state=ce==="["?23:ce==="-"?18:16},se.prototype.stateInDeclaration=function(ce){ce===">"&&(this.cbs.ondeclaration(this.getSection()),this._state=1,this.sectionStart=this._index+1)},se.prototype.stateInProcessingInstruction=function(ce){ce===">"&&(this.cbs.onprocessinginstruction(this.getSection()),this._state=1,this.sectionStart=this._index+1)},se.prototype.stateBeforeComment=function(ce){ce==="-"?(this._state=19,this.sectionStart=this._index+1):this._state=16},se.prototype.stateInComment=function(ce){ce==="-"&&(this._state=21)},se.prototype.stateInSpecialComment=function(ce){ce===">"&&(this.cbs.oncomment(this.buffer.substring(this.sectionStart,this._index)),this._state=1,this.sectionStart=this._index+1)},se.prototype.stateAfterComment1=function(ce){this._state=ce==="-"?22:19},se.prototype.stateAfterComment2=function(ce){ce===">"?(this.cbs.oncomment(this.buffer.substring(this.sectionStart,this._index-2)),this._state=1,this.sectionStart=this._index+1):ce!=="-"&&(this._state=19)},se.prototype.stateBeforeCdata6=function(ce){ce==="["?(this._state=29,this.sectionStart=this._index+1):(this._state=16,this._index--)},se.prototype.stateInCdata=function(ce){ce==="]"&&(this._state=30)},se.prototype.stateAfterCdata1=function(ce){this._state=ce==="]"?31:29},se.prototype.stateAfterCdata2=function(ce){ce===">"?(this.cbs.oncdata(this.buffer.substring(this.sectionStart,this._index-2)),this._state=1,this.sectionStart=this._index+1):ce!=="]"&&(this._state=29)},se.prototype.stateBeforeSpecialS=function(ce){ce==="c"||ce==="C"?this._state=34:ce==="t"||ce==="T"?this._state=44:(this._state=3,this._index--)},se.prototype.stateBeforeSpecialSEnd=function(ce){this.special!==2||ce!=="c"&&ce!=="C"?this.special!==3||ce!=="t"&&ce!=="T"?this._state=1:this._state=48:this._state=39},se.prototype.stateBeforeSpecialLast=function(ce,$e){(ce==="/"||ce===">"||m(ce))&&(this.special=$e),this._state=3,this._index--},se.prototype.stateAfterSpecialLast=function(ce,$e){ce===">"||m(ce)?(this.special=1,this._state=6,this.sectionStart=this._index-$e,this._index--):this._state=1},se.prototype.parseFixedEntity=function(ce){if(ce===void 0&&(ce=this.xmlMode?d.default:f.default),this.sectionStart+1<this._index){var $e=this.buffer.substring(this.sectionStart+1,this._index);Object.prototype.hasOwnProperty.call(ce,$e)&&(this.emitPartial(ce[$e]),this.sectionStart=this._index+1)}},se.prototype.parseLegacyEntity=function(){for(var ce=this.sectionStart+1,$e=Math.min(this._index-ce,6);$e>=2;){var Ue=this.buffer.substr(ce,$e);if(Object.prototype.hasOwnProperty.call(h.default,Ue))return this.emitPartial(h.default[Ue]),void(this.sectionStart+=$e+1);$e--}},se.prototype.stateInNamedEntity=function(ce){ce===";"?(this.parseFixedEntity(),this.baseState===1&&this.sectionStart+1<this._index&&!this.xmlMode&&this.parseLegacyEntity(),this._state=this.baseState):(ce<"0"||ce>"9")&&!g(ce)&&(this.xmlMode||this.sectionStart+1===this._index||(this.baseState!==1?ce!=="="&&this.parseFixedEntity(h.default):this.parseLegacyEntity()),this._state=this.baseState,this._index--)},se.prototype.decodeNumericEntity=function(ce,$e,Ue){var Te=this.sectionStart+ce;if(Te!==this._index){var ft=this.buffer.substring(Te,this._index),Q=parseInt(ft,$e);this.emitPartial(u.default(Q)),this.sectionStart=Ue?this._index+1:this._index}this._state=this.baseState},se.prototype.stateInNumericEntity=function(ce){ce===";"?this.decodeNumericEntity(2,10,!0):(ce<"0"||ce>"9")&&(this.xmlMode?this._state=this.baseState:this.decodeNumericEntity(2,10,!1),this._index--)},se.prototype.stateInHexEntity=function(ce){ce===";"?this.decodeNumericEntity(3,16,!0):(ce<"a"||ce>"f")&&(ce<"A"||ce>"F")&&(ce<"0"||ce>"9")&&(this.xmlMode?this._state=this.baseState:this.decodeNumericEntity(3,16,!1),this._index--)},se.prototype.cleanup=function(){this.sectionStart<0?(this.buffer="",this.bufferOffset+=this._index,this._index=0):this.running&&(this._state===1?(this.sectionStart!==this._index&&this.cbs.ontext(this.buffer.substr(this.sectionStart)),this.buffer="",this.bufferOffset+=this._index,this._index=0):this.sectionStart===this._index?(this.buffer="",this.bufferOffset+=this._index,this._index=0):(this.buffer=this.buffer.substr(this.sectionStart),this._index-=this.sectionStart,this.bufferOffset+=this.sectionStart),this.sectionStart=0)},se.prototype.parse=function(){for(;this._index<this.buffer.length&&this.running;){var ce=this.buffer.charAt(this._index);this._state===1?this.stateText(ce):this._state===12?this.stateInAttributeValueDoubleQuotes(ce):this._state===9?this.stateInAttributeName(ce):this._state===19?this.stateInComment(ce):this._state===20?this.stateInSpecialComment(ce):this._state===8?this.stateBeforeAttributeName(ce):this._state===3?this.stateInTagName(ce):this._state===6?this.stateInClosingTagName(ce):this._state===2?this.stateBeforeTagName(ce):this._state===10?this.stateAfterAttributeName(ce):this._state===13?this.stateInAttributeValueSingleQuotes(ce):this._state===11?this.stateBeforeAttributeValue(ce):this._state===5?this.stateBeforeClosingTagName(ce):this._state===7?this.stateAfterClosingTagName(ce):this._state===32?this.stateBeforeSpecialS(ce):this._state===21?this.stateAfterComment1(ce):this._state===14?this.stateInAttributeValueNoQuotes(ce):this._state===4?this.stateInSelfClosingTag(ce):this._state===16?this.stateInDeclaration(ce):this._state===15?this.stateBeforeDeclaration(ce):this._state===22?this.stateAfterComment2(ce):this._state===18?this.stateBeforeComment(ce):this._state===33?this.stateBeforeSpecialSEnd(ce):this._state===53?ae(this,ce):this._state===39?L(this,ce):this._state===40?M(this,ce):this._state===41?I(this,ce):this._state===34?N(this,ce):this._state===35?A(this,ce):this._state===36?j(this,ce):this._state===37?R(this,ce):this._state===38?this.stateBeforeSpecialLast(ce,2):this._state===42?D(this,ce):this._state===43?this.stateAfterSpecialLast(ce,6):this._state===44?V(this,ce):this._state===29?this.stateInCdata(ce):this._state===45?F(this,ce):this._state===46?G(this,ce):this._state===47?this.stateBeforeSpecialLast(ce,3):this._state===48?W(this,ce):this._state===49?Y(this,ce):this._state===50?te(this,ce):this._state===51?this.stateAfterSpecialLast(ce,5):this._state===52?he(this,ce):this._state===54?z(this,ce):this._state===55?Z(this,ce):this._state===56?X(this,ce):this._state===57?this.stateBeforeSpecialLast(ce,4):this._state===58?ve(this,ce):this._state===59?me(this,ce):this._state===60?Ee(this,ce):this._state===61?this.stateAfterSpecialLast(ce,5):this._state===17?this.stateInProcessingInstruction(ce):this._state===64?this.stateInNamedEntity(ce):this._state===23?_(this,ce):this._state===62?ke(this,ce):this._state===24?S(this,ce):this._state===25?T(this,ce):this._state===30?this.stateAfterCdata1(ce):this._state===31?this.stateAfterCdata2(ce):this._state===26?C(this,ce):this._state===27?w(this,ce):this._state===28?this.stateBeforeCdata6(ce):this._state===66?this.stateInHexEntity(ce):this._state===65?this.stateInNumericEntity(ce):this._state===63?He(this,ce):this.cbs.onerror(Error("unknown _state"),this._state),this._index++}this.cleanup()},se.prototype.finish=function(){this.sectionStart<this._index&&this.handleTrailingData(),this.cbs.onend()},se.prototype.handleTrailingData=function(){var ce=this.buffer.substr(this.sectionStart);this._state===29||this._state===30||this._state===31?this.cbs.oncdata(ce):this._state===19||this._state===21||this._state===22?this.cbs.oncomment(ce):this._state!==64||this.xmlMode?this._state!==65||this.xmlMode?this._state!==66||this.xmlMode?this._state!==3&&this._state!==8&&this._state!==11&&this._state!==10&&this._state!==9&&this._state!==13&&this._state!==12&&this._state!==14&&this._state!==6&&this.cbs.ontext(ce):(this.decodeNumericEntity(3,16,!1),this.sectionStart<this._index&&(this._state=this.baseState,this.handleTrailingData())):(this.decodeNumericEntity(2,10,!1),this.sectionStart<this._index&&(this._state=this.baseState,this.handleTrailingData())):(this.parseLegacyEntity(),this.sectionStart<this._index&&(this._state=this.baseState,this.handleTrailingData()))},se.prototype.getSection=function(){return this.buffer.substring(this.sectionStart,this._index)},se.prototype.emitToken=function(ce){this.cbs[ce](this.getSection()),this.sectionStart=-1},se.prototype.emitPartial=function(ce){this.baseState!==1?this.cbs.onattribdata(ce):this.cbs.ontext(ce)},se}();s.default=Re},3719:function(a,s,l){var c=this&&this.__createBinding||(Object.create?function(T,C,w,N){N===void 0&&(N=w),Object.defineProperty(T,N,{enumerable:!0,get:function(){return C[w]}})}:function(T,C,w,N){N===void 0&&(N=w),T[N]=C[w]}),u=this&&this.__setModuleDefault||(Object.create?function(T,C){Object.defineProperty(T,"default",{enumerable:!0,value:C})}:function(T,C){T.default=C}),f=this&&this.__importStar||function(T){if(T&&T.__esModule)return T;var C={};if(T!=null)for(var w in T)w!=="default"&&Object.prototype.hasOwnProperty.call(T,w)&&c(C,T,w);return u(C,T),C},h=this&&this.__exportStar||function(T,C){for(var w in T)w==="default"||Object.prototype.hasOwnProperty.call(C,w)||c(C,T,w)},d=this&&this.__importDefault||function(T){return T&&T.__esModule?T:{default:T}};Object.defineProperty(s,"__esModule",{value:!0}),s.RssHandler=s.DefaultHandler=s.DomUtils=s.ElementType=s.Tokenizer=s.createDomStream=s.parseDOM=s.parseDocument=s.DomHandler=s.Parser=void 0;var m=l(763);Object.defineProperty(s,"Parser",{enumerable:!0,get:function(){return m.Parser}});var g=l(7915);function x(T,C){var w=new g.DomHandler(void 0,C);return new m.Parser(w,C).end(T),w.root}Object.defineProperty(s,"DomHandler",{enumerable:!0,get:function(){return g.DomHandler}}),Object.defineProperty(s,"DefaultHandler",{enumerable:!0,get:function(){return g.DomHandler}}),s.parseDocument=x,s.parseDOM=function(T,C){return x(T,C).children},s.createDomStream=function(T,C,w){var N=new g.DomHandler(T,C,w);return new m.Parser(N,C)};var b=l(9889);Object.defineProperty(s,"Tokenizer",{enumerable:!0,get:function(){return d(b).default}});var _=f(l(9960));s.ElementType=_,h(l(3870),s),s.DomUtils=f(l(9432));var S=l(3870);Object.defineProperty(s,"RssHandler",{enumerable:!0,get:function(){return S.FeedHandler}})},6094:(a,s,l)=>{var c=l(9018),u=l(8880)(function(h,d){return c(h,{xmlMode:d&&d.xmlMode},f,[d])}),f=function(h,d){return u.juiceDocument(h,d)};u.inlineContent=function(h,d,m){return c(h,{xmlMode:m&&m.xmlMode},u.inlineDocument,[d,m])},a.exports=u},9018:(a,s,l)=>{var c=l(7503);l(9671),a.exports=function(u,f,h,d){var m,g=(m=[],{encodeEntities:function(S){var T=a.exports.codeBlocks;return Object.keys(T).forEach(function(C){var w=new RegExp(T[C].start+"([\\S\\s]*?)"+T[C].end,"g");S=S.replace(w,function(N,A){return m.push(N),"JUICE_CODE_BLOCK_"+(m.length-1)+"_"})}),S},decodeEntities:function(S){for(var T=0;T<m.length;T++){var C=new RegExp("JUICE_CODE_BLOCK_"+T+'_(="")?',"gi");S=S.replace(C,function(){return m[T]})}return S}}),x=function(S,T,C){return T=Object.assign({decodeEntities:!1,_useHtmlParser2:!0},T),S=C(S),c.load(S,T)}(u,f,g.encodeEntities),b=[x];b.push.apply(b,d);var _=h.apply(void 0,b)||x;return f&&f.xmlMode?g.decodeEntities(_.xml()):g.decodeEntities(_.html())},a.exports.codeBlocks={EJS:{start:"<%",end:"%>"},HBS:{start:"{{",end:"}}"}}},8880:(a,s,l)=>{var c=l(9671),u=l(5468);a.exports=function(f){function h(b,_,S){S=S||{};var T=c.parseCSS(_),C=[],w="style",N={};if(S.styleAttributeName&&(w=S.styleAttributeName),T.forEach(function(M){var I=M[0],D=M[1],V=new c.Selector(I),F=V.parsed();if(F){for(var G,W=function(ae){if(ae.length!==0){var ve=ae[ae.length-1].pseudos;if(ve){for(var me=0;me<ve.length;me++)if(x(ve[me]))return ve[me].name}}}(F),Y=0;Y<F.length;++Y){var te=F[Y];if(te.pseudos)for(var he=0;he<te.pseudos.length;++he){var z=te.pseudos[he];if(f.ignoredPseudos.indexOf(z.name)>=0)return}}if(W){var Z=F[F.length-1],X=Z.pseudos;Z.pseudos=function(ae){return ae.filter(function(ve){return!x(ve)})}(Z.pseudos),I=F.toString(),Z.pseudos=X}try{G=b(I)}catch{return}G.each(function(){var ae=this;if(!(ae.name&&f.nonVisualElements.indexOf(ae.name.toUpperCase())>=0)){if(W){var ve="pseudo"+W,me=ae[ve];me||((me=ae[ve]=b("<span />").get(0)).pseudoElementType=W,me.pseudoElementParent=ae,me.counterProps=ae.counterProps,ae[ve]=me),ae=me}if(!ae.styleProps){if(ae.styleProps={},b(ae).attr(w)){var Ee="* { "+b(ae).attr(w)+" } ";Re(c.parseCSS(Ee)[0][1],new c.Selector("<style>",!0))}C.push(ae)}ae.counterProps||(ae.counterProps=ae.parent&&ae.parent.counterProps?Object.create(ae.parent.counterProps):{}),Re(D,V)}function ke(se,ce){for(var $e=ce.split(/\s+/),Ue=0;Ue<$e.length;Ue++){var Te=$e[Ue],ft=parseInt($e[Ue+1],10);isNaN(ft)?se.counterProps[Te]=N[Te]=0:se.counterProps[Te]=N[$e[Ue++]]=ft}}function He(se,ce){for(var $e=ce.split(/\s+/),Ue=0;Ue<$e.length;Ue++){var Te=$e[Ue];if(se.counterProps[Te]!==void 0){var ft=parseInt($e[Ue+1],10);isNaN(ft)?se.counterProps[Te]=N[Te]+=1:se.counterProps[Te]=N[$e[Ue++]]+=ft}}}function Re(se,ce){for(var $e=0,Ue=se.length;$e<Ue;$e++)if(se[$e].type=="property"){var Te=se[$e].name,ft=se[$e].value;Te==="counter-reset"&&ke(ae,ft),Te==="counter-increment"&&He(ae,ft);var Q=ft.match(/!important$/)!==null;Q&&!S.preserveImportant&&(ft=d(ft));var de=[se[$e].position.start.line,se[$e].position.start.col],Ce=new c.Property(Te,ft,ce,Q?2:0,de),De=ae.styleProps[Te];f.excludedProperties.indexOf(Te)<0&&(De&&De.compare(Ce)===Ce||!De)&&(De&&De.selector!==ce?delete ae.styleProps[Te]:De&&(Ce.nextProp=De),ae.styleProps[Te]=Ce)}}})}}),C.forEach(function(M){Object.keys(M.styleProps).length;var I=[];Object.keys(M.styleProps).forEach(function(V){for(var F=M.styleProps[V];F!==void 0;)I.push(F),F=F.nextProp}),I.sort(function(V,F){return V.compareFunc(F)});var D=I.filter(function(V){return V.prop!=="content"}).map(function(V){return V.prop+": "+V.value.replace(/["]/g,"'")+";"}).join(" ");D&&b(M).attr(w,D)}),S.inlinePseudoElements&&C.forEach(function(M){if(M.pseudoElementType&&M.styleProps.content){var I=function(V){var F=V.styleProps.content.value;if(F==="none"||F==="normal")return"";var G=F.match(/^\s*url\s*\(\s*(.*?)\s*\)\s*$/i);if(G)return{img:G[1].replace(/^['"]|['"]$/g,"")};for(var W=[],Y=F.split(/['"]/),te=0;te<Y.length;te++)if(Y[te]!==""){var he=Y[te].match(/var\s*\(\s*(.*?)\s*(,\s*(.*?)\s*)?\s*\)/i);if(he){var z=m(V,he[1])||he[2];W.push(z.replace(/^['"]|['"]$/g,""))}else{var Z=Y[te].match(/counter\s*\(\s*(.*?)\s*(,\s*(.*?)\s*)?\s*\)/i);if(Z&&Z[1]in V.counterProps){var X=V.counterProps[Z[1]];W.push(g(X,Z[3]))}else{var ae=Y[te].match(/attr\s*\(\s*(.*?)\s*\)/i);if(ae){var ve=ae[1];W.push(V.pseudoElementParent?V.pseudoElementParent.attribs[ve]:V.attribs[ve])}else W.push(Y[te])}}}return F=W.join(""),F=F.replace(/\\/g,"")}(M);I.img?(M.name="img",b(M).attr("src",I.img)):b(M).text(I);var D=M.pseudoElementParent;M.pseudoElementType==="before"?b(D).prepend(M):b(D).append(M)}}),S.applyWidthAttributes&&C.forEach(function(M){R(M,"width")}),S.applyHeightAttributes&&C.forEach(function(M){R(M,"height")}),S.applyAttributesTableElements&&C.forEach(function(M){if(M.name){var I=M.name.toUpperCase(),D=Object.keys(f.styleToAttribute);if(f.tableElements.indexOf(I)>-1){for(var V in M.styleProps)if(D.indexOf(M.styleProps[V].prop)>-1){var F=f.styleToAttribute[M.styleProps[V].prop],G=M.styleProps[V].value;if(S.preserveImportant&&(G=d(G)),F==="background"&&(G=L(G)),/(linear|radial)-gradient\(/i.test(G))continue;b(M).attr(F,G)}}}}),S.insertPreservedExtraCss&&S.extraCss){var A=c.getPreservedText(S.extraCss,{mediaQueries:S.preserveMediaQueries,fontFaces:S.preserveFontFaces,keyFrames:S.preserveKeyFrames});if(A){var j=null;S.insertPreservedExtraCss!==!0?j=b(S.insertPreservedExtraCss):((j=b("head")).length||(j=b("body")),j.length||(j=b.root())),j.first().append("<style>"+A+"</style>")}}function R(M,I){if(M.name){var D=M.name.toUpperCase();if(f[I+"Elements"].indexOf(D)>-1){for(var V in M.styleProps)if(M.styleProps[V].prop===I){var F=M.styleProps[V].value;if(S.preserveImportant&&(F=d(F)),F.match(/px/)){var G=F.replace("px","");return void b(M).attr(I,G)}if(f.tableElements.indexOf(D)>-1&&F.match(/\%/))return void b(M).attr(I,F)}}}}function L(M){return M.indexOf("url(")!==0?M:M.replace(/^url\((["'])?([^"']+)\1\)$/,"$2")}}function d(b){return b.replace(/\s*!important$/,"")}function m(b,_){for(;b;){if(_ in b.styleProps)return b.styleProps[_].value;b=b.pseudoElementParent||b.parent}}function g(b,_){switch(_){case"lower-roman":return u.romanize(b).toLowerCase();case"upper-roman":return u.romanize(b);case"lower-latin":case"lower-alpha":return u.alphanumeric(b).toLowerCase();case"upper-latin":case"upper-alpha":return u.alphanumeric(b);default:return b.toString()}}function x(b){return b.name==="before"||b.name==="after"}return f.ignoredPseudos=["hover","active","focus","visited","link"],f.widthElements=["TABLE","TD","TH","IMG"],f.heightElements=["TABLE","TD","TH","IMG"],f.tableElements=["TABLE","TH","TR","TD","CAPTION","COLGROUP","COL","THEAD","TBODY","TFOOT"],f.nonVisualElements=["HEAD","TITLE","BASE","LINK","STYLE","META","SCRIPT","NOSCRIPT"],f.styleToAttribute={"background-color":"bgcolor","background-image":"background","text-align":"align","vertical-align":"valign"},f.excludedProperties=[],f.juiceDocument=function(b,_){_=c.getDefaultOptions(_);var S=function(T,C){var w=function(A,j){var R,L,M,I=[],D=A("style");return D.each(function(){var V=!!(M=this).childNodes;if((R=V?M.childNodes:M.children).length===1){if(L=R[0].data,j.applyStyleTags&&A(M).attr("data-embed")===void 0&&I.push(L),j.removeStyleTags&&A(M).attr("data-embed")===void 0){var F=V?M.childNodes[0].nodeValue:M.children[0].data,G=c.getPreservedText(F,{mediaQueries:j.preserveMediaQueries,fontFaces:j.preserveFontFaces,keyFrames:j.preserveKeyFrames,pseudos:j.preservePseudos},f.ignoredPseudos);G?V?M.childNodes[0].nodeValue=G:M.children[0].data=G:A(M).remove()}A(M).removeAttr("data-embed")}else j.removeStyleTags&&A(M).remove()}),I}(T,C),N=w.join(`
`);return N}(b,_);return S+=`
`+_.extraCss,h(b,S,_),b},f.inlineDocument=h,f}},5468:(a,s)=>{s.romanize=function(l){if(isNaN(l))return NaN;for(var c=String(+l).split(""),u=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"],f="",h=3;h--;)f=(u[+c.pop()+10*h]||"")+f;return Array(+c.join("")+1).join("M")+f},s.alphanumeric=function(l){for(var c,u="";l>0;)c=(l-1)%26,u=String.fromCharCode(65+c)+u,l=(l-c)/26|0;return u||void 0}},4777:(a,s,l)=>{a.exports=u;var c=l(9671);function u(f,h,d,m,g){this.prop=f,this.value=h,this.selector=d,this.priority=m||0,this.additionalPriority=g||[]}u.prototype.compareFunc=function(f){var h=[];h.push.apply(h,this.selector.specificity()),h.push.apply(h,this.additionalPriority),h[0]+=this.priority;var d=[];return d.push.apply(d,f.selector.specificity()),d.push.apply(d,f.additionalPriority),d[0]+=f.priority,c.compareFunc(h,d)},u.prototype.compare=function(f){return this.compareFunc(f)===1?this:f},u.prototype.toString=function(){return this.prop+": "+this.value.replace(/['"]+/g,"")+";"}},9240:(a,s,l)=>{var c=l(6585);function u(h,d){this.text=h,this.spec=void 0,this.styleAttribute=d||!1}function f(h){try{return c(h)[0]}catch{return[]}}a.exports=u,u.prototype.parsed=function(){return this.tokens||(this.tokens=f(this.text)),this.tokens},u.prototype.specificity=function(){var h=this.styleAttribute;return this.spec||(this.spec=function d(m,g){for(var x=g||f(m),b=[h?1:0,0,0,0],_=[],S=0;S<x.length;S++){var T=x[S],C=T.pseudos;if(T.id&&b[1]++,T.attributes&&(b[2]+=T.attributes.length),T.classList&&(b[2]+=T.classList.length),T.tag&&T.tag!=="*"&&b[3]++,C){b[3]+=C.length;for(var w=0;w<C.length;w++)C[w].name==="not"&&(_.push(C[w].value),b[3]--)}}for(var N=_.length;N--;)for(var A=d(_[N]),j=4;j--;)b[j]+=A[j];return b}(this.text,this.parsed())),this.spec}},9671:(a,s,l)=>{var c=l(4984),u=l(9240),f=l(4777);s.Selector=u,s.Property=f,s.extract=function(h){for(var d=0,m=[],g="",x=0,b=h.length;x<b;x++){var _=h.charAt(x);d?(_!=="]"&&_!==")"||d--,g+=_):_===","?(m.push(g),g=""):(_!=="["&&_!=="("||d++,(g.length||_!==","&&_!==`
`&&_!==" ")&&(g+=_))}return g.length&&m.push(g),m},s.parseCSS=function(h){for(var d=c.parse(h,{position:!0,comments:!0}),m=d.stylesheet!==void 0&&d.stylesheet.rules?d.stylesheet.rules:[],g=[],x=0,b=m.length;x<b;x++)if(m[x].type=="rule")for(var _=m[x],S=_.selectors,T=0,C=S.length;T<C;T++)g.push([S[T],_.declarations]);return g},s.getPreservedText=function(h,d,m){for(var g=c.parse(h,{position:!0,comments:!0}),x=g.stylesheet!==void 0&&g.stylesheet.rules?g.stylesheet.rules:[],b=[],_=x.length-1;_>=0;_--)(d.fontFaces&&x[_].type==="font-face"||d.mediaQueries&&x[_].type==="media"||d.keyFrames&&x[_].type==="keyframes"||d.pseudos&&x[_].selectors&&this.matchesPseudo(x[_].selectors[0],m))&&b.unshift(c.stringify({stylesheet:{rules:[x[_]]}},{comments:!1,indentation:"  "})),x[_].position.start;return b.length!==0&&`
`+b.join(`
`)+`
`},s.normalizeLineEndings=function(h){return h.replace(/\r\n/g,`
`).replace(/\n/g,`\r
`)},s.matchesPseudo=function(h,d){return d.find(function(m){return h.indexOf(m)>-1})},s.compareFunc=function(h,d){for(var m=Math.min(h.length,d.length),g=0;g<m;g++)if(h[g]!==d[g])return h[g]>d[g]?1:-1;return h.length-d.length},s.compare=function(h,d){return s.compareFunc(h,d)==1?h:d},s.getDefaultOptions=function(h){var d=Object.assign({extraCss:"",insertPreservedExtraCss:!0,applyStyleTags:!0,removeStyleTags:!0,preserveMediaQueries:!0,preserveFontFaces:!0,preserveKeyFrames:!0,preservePseudos:!0,applyWidthAttributes:!0,applyHeightAttributes:!0,applyAttributesTableElements:!0,url:""},h);return d.webResources=d.webResources||{},d}},4984:(a,s,l)=>{a.exports={lex:l(5625),parse:l(2579),stringify:l(7134)}},1514:(a,s)=>{function l(c){var u=[].slice.call(arguments,1);u.unshift("["+c+"]"),process.stderr.write(u.join(" ")+`
`)}a.exports=function(c){return l.bind(null,c)}},5625:(a,s,l)=>{l(1514)("lex"),a.exports=function(c){var u,f="",h=0,d=-1,m=0,g=1,x="before-selector",b=[x],_={},S=[],T=["media","keyframes",{name:"-webkit-keyframes",type:"keyframes",prefix:"-webkit-"},{name:"-moz-keyframes",type:"keyframes",prefix:"-moz-"},{name:"-ms-keyframes",type:"keyframes",prefix:"-ms-"},{name:"-o-keyframes",type:"keyframes",prefix:"-o-"},"font-face",{name:"import",state:"before-at-value"},{name:"charset",state:"before-at-value"},"supports","viewport",{name:"namespace",state:"before-at-value"},"document",{name:"-moz-document",type:"document",prefix:"-moz-"},"page"];function C(z){return z?b[b.length-1-z]:x}function w(z){var Z=d+1;return z===c.slice(Z,Z+z.length)}function N(z){var Z=c.slice(d).indexOf(z);return Z>0&&Z}function A(z){return z===j(1)}function j(z){return c[d+(z||1)]}function R(){var z=b.pop();return x=b[b.length-1],z}function L(z){return x=z,b.push(x),b.length}function M(z){var Z=x;return b[b.length-1]=x=z,Z}function I(z){if((z||1)==1)c[d]==`
`?(g++,h=1):h++,d++;else{var Z=c.slice(d,d+z).split(`
`);Z.length>1&&(g+=Z.length-1,h=1),h+=Z[Z.length-1].length,d+=z}}function D(){_.end={line:g,col:h},S.push(_),f="",_={}}function V(z){_={type:z,start:{line:g,col:h}}}for(;I(),u=c[d];)switch(u){case" ":switch(C()){case"selector":case"value":case"value-paren":case"at-group":case"at-value":case"comment":case"double-string":case"single-string":f+=u}break;case`
`:case"	":case"\r":case"\f":switch(C()){case"value":case"value-paren":case"at-group":case"comment":case"single-string":case"double-string":case"selector":f+=u;break;case"at-value":u===`
`&&(_.value=f.trim(),D(),R())}break;case":":switch(C()){case"name":_.name=f.trim(),f="",M("before-value");break;case"before-selector":f+=u,V("selector"),L("selector");break;case"before-value":M("value"),f+=u;break;default:f+=u}break;case";":switch(C()){case"name":case"before-value":case"value":f.trim().length>0&&(_.value=f.trim(),D()),M("before-name");break;case"value-paren":default:f+=u;break;case"at-value":_.value=f.trim(),D(),R();case"before-name":}break;case"{":switch(C()){case"selector":if(j(-1)==="\\"){f+=u;break}_.text=f.trim(),D(),M("before-name"),m+=1;break;case"at-group":switch(_.name=f.trim(),_.type){case"font-face":case"viewport":case"page":L("before-name");break;default:L("before-selector")}D(),m+=1;break;case"name":case"at-rule":_.name=f.trim(),D(),L("before-name"),m+=1;break;case"comment":case"double-string":case"single-string":f+=u;break;case"before-value":M("value"),f+=u}break;case"}":switch(C()){case"before-name":case"name":case"before-value":case"value":f&&(_.value=f.trim()),_.name&&_.value&&D(),V("end"),D(),R(),C()==="at-group"&&(V("at-group-end"),D(),R()),m>0&&(m-=1);break;case"at-group":case"before-selector":case"selector":if(j(-1)==="\\"){f+=u;break}m>0&&C(1)==="at-group"&&(V("at-group-end"),D()),m>1&&R(),m>0&&(m-=1);break;case"double-string":case"single-string":case"comment":f+=u}break;case'"':case"'":switch(C()){case"double-string":u==='"'&&j(-1)!=="\\"&&R();break;case"single-string":u==="'"&&j(-1)!=="\\"&&R();break;case"before-at-value":M("at-value"),L(u==='"'?"double-string":"single-string");break;case"before-value":M("value"),L(u==='"'?"double-string":"single-string");break;case"comment":break;default:j(-1)!=="\\"&&L(u==='"'?"double-string":"single-string")}f+=u;break;case"/":switch(C()){case"comment":case"double-string":case"single-string":f+=u;break;case"before-value":case"selector":case"name":case"value":if(A("*")){var F=N("*/");F&&I(F+1)}else C()=="before-value"&&M("value"),f+=u;break;default:A("*")?(V("comment"),L("comment"),I()):f+=u}break;case"*":switch(C()){case"comment":A("/")?(_.text=f,I(),D(),R()):f+=u;break;case"before-selector":f+=u,V("selector"),L("selector");break;case"before-value":M("value"),f+=u;break;default:f+=u}break;case"@":switch(C()){case"comment":case"double-string":case"single-string":f+=u;break;case"before-value":M("value"),f+=u;break;default:for(var G,W,Y=!1,te=0,he=T.length;!Y&&te<he;++te)w(G=(W=T[te]).name||W)&&(Y=!0,V(G),L(W.state||"at-group"),I(G.length),W.prefix&&(_.prefix=W.prefix),W.type&&(_.type=W.type));Y||(f+=u)}break;case"(":switch(C()){case"value":L("value-paren");break;case"before-value":M("value")}f+=u;break;case")":switch(C()){case"value-paren":R();break;case"before-value":M("value")}f+=u;break;default:switch(C()){case"before-selector":V("selector"),L("selector");break;case"before-name":V("property"),M("name");break;case"before-value":M("value");break;case"before-at-value":M("at-value")}f+=u}return S}},2579:(a,s,l)=>{var c,u,f,h;l(1514)("parse");var d=l(5625);function m(T,C){var w;C||(C={});for(var N=["type","name","value"],A={},j=0;j<N.length;++j)T[w=N[j]]&&(A[w]=C[w]||T[w]);for(N=Object.keys(C),j=0;j<N.length;++j)A[w=N[j]]||(A[w]=C[w]);return f&&(A.position={start:T.start,end:T.end}),A}function g(){var T=h.shift();return T}function x(T){u+=1;var C={};switch(T.type){case"font-face":case"viewport":C.declarations=S();break;case"page":C.prefix=T.prefix,C.declarations=S();break;default:C.prefix=T.prefix,C.rules=_(function(){return u})}return m(T,C)}function b(T){switch(T.type){case"property":case"charset":case"import":case"namespace":return function(C){return m(C)}(T);case"selector":return function(C){return m(C,{type:"rule",selectors:C.text.split(",").map(function(w){return w.trim()}),declarations:S()})}(T);case"at-group-end":return void(u-=1);case"media":case"keyframes":case"font-face":case"supports":case"viewport":case"document":case"page":return x(T);case"comment":if(c)return function(C){return m(C,{text:C.text})}(T)}}function _(T){for(var C,w,N=[];(w=g())&&T&&T(w);)(C=b(w))&&N.push(C);return w&&w.type!=="end"&&h.unshift(w),N}function S(){return _(function(T){return T.type==="property"||T.type==="comment"})}a.exports=function(T,C){var w;C||(C={}),c=!!C.comments,f=!!C.position,u=0,h=Array.isArray(T)?T.slice():d(T);for(var N,A=[];N=g();)(w=b(N))&&A.push(w);return{type:"stylesheet",stylesheet:{rules:A}}}},7134:(a,s,l)=>{var c,u,f,h,d,m;l(1514)("stringify");function g(N){if(!N)return u?"":Array(h).join(f||"");h+=N}function x(N){var A="",j=N.prefix||"";N.name&&(A=" "+N.name);var R=N.type!=="page";return"@"+j+N.type+A+m+T(N,R)+d}function b(N){return c?"/*"+(N.text||"")+"*/"+d:""}function _(N){var A;return N.selectors?A=N.selectors.join(","+d):(A="@"+N.type,A+=N.name?" "+N.name:""),g()+A+m+T(N)+d}function S(N,A){return N.reduce(function(j,R){var L=R.type==="comment"?b(R):A(R);return L&&j.push(L),j},[])}function T(N,A){var j=N.declarations,R=C;return N.rules&&(j=N.rules,R=_),j=function(L,M){if(!L)return"";g(1);var I=S(L,M);return g(-1),I.length?I.join(d):""}(j,R),j&&(j=d+j+(A?"":d)),"{"+j+g()+"}"}function C(N){if(N.type==="property")return function(A){var j=A.name?A.name+":"+m:"";return g()+j+A.value+";"}(N)}function w(N){switch(N.type){case"rule":return _(N);case"media":case"keyframes":case"font-face":case"supports":case"viewport":case"document":case"page":return x(N);case"comment":return b(N);case"import":case"charset":case"namespace":return function(A){return"@"+A.type+" "+A.value+";"+d}(N)}}a.exports=function(N,A){A||(A={}),f=A.indentation||"",u=!!A.compress,c=!!A.comments,h=1,u?d=m="":(d=`
`,m=" ");var j=S(N.stylesheet.rules,w).join(`
`).trim();return j}},9769:function(a,s,l){var c=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(s,"__esModule",{value:!0}),s.generate=s.compile=void 0;var u=c(l(1073));s.compile=function(f){var h=f[0],d=f[1]-1;if(d<0&&h<=0)return u.default.falseFunc;if(h===-1)return function(x){return x<=d};if(h===0)return function(x){return x===d};if(h===1)return d<0?u.default.trueFunc:function(x){return x>=d};var m=Math.abs(h),g=(d%m+m)%m;return h>1?function(x){return x>=d&&x%m===g}:function(x){return x<=d&&x%m===g}},s.generate=function(f){var h=f[0],d=f[1]-1,m=0;if(h<0){var g=-h,x=(d%g+g)%g;return function(){var b=x+g*m++;return b>d?null:b}}return h===0?d<0?function(){return null}:function(){return m++==0?d:null}:(d<0&&(d+=h*Math.ceil(-d/h)),function(){return h*m+++d})}},7540:(a,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.sequence=s.generate=s.compile=s.parse=void 0;var c=l(7766);Object.defineProperty(s,"parse",{enumerable:!0,get:function(){return c.parse}});var u=l(9769);Object.defineProperty(s,"compile",{enumerable:!0,get:function(){return u.compile}}),Object.defineProperty(s,"generate",{enumerable:!0,get:function(){return u.generate}}),s.default=function(f){return(0,u.compile)((0,c.parse)(f))},s.sequence=function(f){return(0,u.generate)((0,c.parse)(f))}},7766:(a,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.parse=void 0;var l=new Set([9,10,12,13,32]),c=48,u=57;s.parse=function(f){if((f=f.trim().toLowerCase())==="even")return[2,0];if(f==="odd")return[2,1];var h=0,d=0,m=x(),g=b();if(h<f.length&&f.charAt(h)==="n"&&(h++,d=m*(g??1),_(),h<f.length?(m=x(),_(),g=b()):m=g=0),g===null||h<f.length)throw new Error("n-th rule couldn't be parsed ('".concat(f,"')"));return[d,m*g];function x(){return f.charAt(h)==="-"?(h++,-1):(f.charAt(h)==="+"&&h++,1)}function b(){for(var S=h,T=0;h<f.length&&f.charCodeAt(h)>=c&&f.charCodeAt(h)<=u;)T=10*T+(f.charCodeAt(h)-c),h++;return h===S?null:T}function _(){for(;h<f.length&&l.has(f.charCodeAt(h));)h++}}},1906:(a,s,l)=>{const c=l(1515),{DOCUMENT_MODE:u}=l(6152),f={element:1,text:3,cdata:4,comment:8},h={tagName:"name",childNodes:"children",parentNode:"parent",previousSibling:"prev",nextSibling:"next",nodeValue:"data"};class d{constructor(_){for(const S of Object.keys(_))this[S]=_[S]}get firstChild(){const _=this.children;return _&&_[0]||null}get lastChild(){const _=this.children;return _&&_[_.length-1]||null}get nodeType(){return f[this.type]||f.element}}Object.keys(h).forEach(b=>{const _=h[b];Object.defineProperty(d.prototype,b,{get:function(){return this[_]||null},set:function(S){return this[_]=S,S}})}),s.createDocument=function(){return new d({type:"root",name:"root",parent:null,prev:null,next:null,children:[],"x-mode":u.NO_QUIRKS})},s.createDocumentFragment=function(){return new d({type:"root",name:"root",parent:null,prev:null,next:null,children:[]})},s.createElement=function(b,_,S){const T=Object.create(null),C=Object.create(null),w=Object.create(null);for(let N=0;N<S.length;N++){const A=S[N].name;T[A]=S[N].value,C[A]=S[N].namespace,w[A]=S[N].prefix}return new d({type:b==="script"||b==="style"?b:"tag",name:b,namespace:_,attribs:T,"x-attribsNamespace":C,"x-attribsPrefix":w,children:[],parent:null,prev:null,next:null})},s.createCommentNode=function(b){return new d({type:"comment",data:b,parent:null,prev:null,next:null})};const m=function(b){return new d({type:"text",data:b,parent:null,prev:null,next:null})},g=s.appendChild=function(b,_){const S=b.children[b.children.length-1];S&&(S.next=_,_.prev=S),b.children.push(_),_.parent=b},x=s.insertBefore=function(b,_,S){const T=b.children.indexOf(S),C=S.prev;C&&(C.next=_,_.prev=C),S.prev=_,_.next=S,b.children.splice(T,0,_),_.parent=b};s.setTemplateContent=function(b,_){g(b,_)},s.getTemplateContent=function(b){return b.children[0]},s.setDocumentType=function(b,_,S,T){const C=c.serializeContent(_,S,T);let w=null;for(let N=0;N<b.children.length;N++)if(b.children[N].type==="directive"&&b.children[N].name==="!doctype"){w=b.children[N];break}w?(w.data=C,w["x-name"]=_,w["x-publicId"]=S,w["x-systemId"]=T):g(b,new d({type:"directive",name:"!doctype",data:C,"x-name":_,"x-publicId":S,"x-systemId":T}))},s.setDocumentMode=function(b,_){b["x-mode"]=_},s.getDocumentMode=function(b){return b["x-mode"]},s.detachNode=function(b){if(b.parent){const _=b.parent.children.indexOf(b),S=b.prev,T=b.next;b.prev=null,b.next=null,S&&(S.next=T),T&&(T.prev=S),b.parent.children.splice(_,1),b.parent=null}},s.insertText=function(b,_){const S=b.children[b.children.length-1];S&&S.type==="text"?S.data+=_:g(b,m(_))},s.insertTextBefore=function(b,_,S){const T=b.children[b.children.indexOf(S)-1];T&&T.type==="text"?T.data+=_:x(b,m(_),S)},s.adoptAttributes=function(b,_){for(let S=0;S<_.length;S++){const T=_[S].name;b.attribs[T]===void 0&&(b.attribs[T]=_[S].value,b["x-attribsNamespace"][T]=_[S].namespace,b["x-attribsPrefix"][T]=_[S].prefix)}},s.getFirstChild=function(b){return b.children[0]},s.getChildNodes=function(b){return b.children},s.getParentNode=function(b){return b.parent},s.getAttrList=function(b){const _=[];for(const S in b.attribs)_.push({name:S,value:b.attribs[S],namespace:b["x-attribsNamespace"][S],prefix:b["x-attribsPrefix"][S]});return _},s.getTagName=function(b){return b.name},s.getNamespaceURI=function(b){return b.namespace},s.getTextNodeContent=function(b){return b.data},s.getCommentNodeContent=function(b){return b.data},s.getDocumentTypeNodeName=function(b){return b["x-name"]},s.getDocumentTypeNodePublicId=function(b){return b["x-publicId"]},s.getDocumentTypeNodeSystemId=function(b){return b["x-systemId"]},s.isTextNode=function(b){return b.type==="text"},s.isCommentNode=function(b){return b.type==="comment"},s.isDocumentTypeNode=function(b){return b.type==="directive"&&b.name==="!doctype"},s.isElementNode=function(b){return!!b.attribs},s.setNodeSourceCodeLocation=function(b,_){b.sourceCodeLocation=_},s.getNodeSourceCodeLocation=function(b){return b.sourceCodeLocation},s.updateNodeSourceCodeLocation=function(b,_){b.sourceCodeLocation=Object.assign(b.sourceCodeLocation,_)}},1515:(a,s,l)=>{const{DOCUMENT_MODE:c}=l(6152),u="html",f="about:legacy-compat",h="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",d=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],m=d.concat(["-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"]),g=["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"],x=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],b=x.concat(["-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"]);function _(T){const C=T.indexOf('"')!==-1?"'":'"';return C+T+C}function S(T,C){for(let w=0;w<C.length;w++)if(T.indexOf(C[w])===0)return!0;return!1}s.isConforming=function(T){return T.name===u&&T.publicId===null&&(T.systemId===null||T.systemId===f)},s.getDocumentMode=function(T){if(T.name!==u)return c.QUIRKS;const C=T.systemId;if(C&&C.toLowerCase()===h)return c.QUIRKS;let w=T.publicId;if(w!==null){if(w=w.toLowerCase(),g.indexOf(w)>-1)return c.QUIRKS;let N=C===null?m:d;if(S(w,N))return c.QUIRKS;if(N=C===null?x:b,S(w,N))return c.LIMITED_QUIRKS}return c.NO_QUIRKS},s.serializeContent=function(T,C,w){let N="!DOCTYPE ";return T&&(N+=T),C?N+=" PUBLIC "+_(C):w&&(N+=" SYSTEM"),w!==null&&(N+=" "+_(w)),N}},1734:a=>{a.exports={controlCharacterInInputStream:"control-character-in-input-stream",noncharacterInInputStream:"noncharacter-in-input-stream",surrogateInInputStream:"surrogate-in-input-stream",nonVoidHtmlElementStartTagWithTrailingSolidus:"non-void-html-element-start-tag-with-trailing-solidus",endTagWithAttributes:"end-tag-with-attributes",endTagWithTrailingSolidus:"end-tag-with-trailing-solidus",unexpectedSolidusInTag:"unexpected-solidus-in-tag",unexpectedNullCharacter:"unexpected-null-character",unexpectedQuestionMarkInsteadOfTagName:"unexpected-question-mark-instead-of-tag-name",invalidFirstCharacterOfTagName:"invalid-first-character-of-tag-name",unexpectedEqualsSignBeforeAttributeName:"unexpected-equals-sign-before-attribute-name",missingEndTagName:"missing-end-tag-name",unexpectedCharacterInAttributeName:"unexpected-character-in-attribute-name",unknownNamedCharacterReference:"unknown-named-character-reference",missingSemicolonAfterCharacterReference:"missing-semicolon-after-character-reference",unexpectedCharacterAfterDoctypeSystemIdentifier:"unexpected-character-after-doctype-system-identifier",unexpectedCharacterInUnquotedAttributeValue:"unexpected-character-in-unquoted-attribute-value",eofBeforeTagName:"eof-before-tag-name",eofInTag:"eof-in-tag",missingAttributeValue:"missing-attribute-value",missingWhitespaceBetweenAttributes:"missing-whitespace-between-attributes",missingWhitespaceAfterDoctypePublicKeyword:"missing-whitespace-after-doctype-public-keyword",missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers:"missing-whitespace-between-doctype-public-and-system-identifiers",missingWhitespaceAfterDoctypeSystemKeyword:"missing-whitespace-after-doctype-system-keyword",missingQuoteBeforeDoctypePublicIdentifier:"missing-quote-before-doctype-public-identifier",missingQuoteBeforeDoctypeSystemIdentifier:"missing-quote-before-doctype-system-identifier",missingDoctypePublicIdentifier:"missing-doctype-public-identifier",missingDoctypeSystemIdentifier:"missing-doctype-system-identifier",abruptDoctypePublicIdentifier:"abrupt-doctype-public-identifier",abruptDoctypeSystemIdentifier:"abrupt-doctype-system-identifier",cdataInHtmlContent:"cdata-in-html-content",incorrectlyOpenedComment:"incorrectly-opened-comment",eofInScriptHtmlCommentLikeText:"eof-in-script-html-comment-like-text",eofInDoctype:"eof-in-doctype",nestedComment:"nested-comment",abruptClosingOfEmptyComment:"abrupt-closing-of-empty-comment",eofInComment:"eof-in-comment",incorrectlyClosedComment:"incorrectly-closed-comment",eofInCdata:"eof-in-cdata",absenceOfDigitsInNumericCharacterReference:"absence-of-digits-in-numeric-character-reference",nullCharacterReference:"null-character-reference",surrogateCharacterReference:"surrogate-character-reference",characterReferenceOutsideUnicodeRange:"character-reference-outside-unicode-range",controlCharacterReference:"control-character-reference",noncharacterCharacterReference:"noncharacter-character-reference",missingWhitespaceBeforeDoctypeName:"missing-whitespace-before-doctype-name",missingDoctypeName:"missing-doctype-name",invalidCharacterSequenceAfterDoctypeName:"invalid-character-sequence-after-doctype-name",duplicateAttribute:"duplicate-attribute",nonConformingDoctype:"non-conforming-doctype",missingDoctype:"missing-doctype",misplacedDoctype:"misplaced-doctype",endTagWithoutMatchingOpenElement:"end-tag-without-matching-open-element",closingOfElementWithOpenChildElements:"closing-of-element-with-open-child-elements",disallowedContentInNoscriptInHead:"disallowed-content-in-noscript-in-head",openElementsLeftAfterEof:"open-elements-left-after-eof",abandonedHeadElementChild:"abandoned-head-element-child",misplacedStartTagForHeadElement:"misplaced-start-tag-for-head-element",nestedNoscriptInHead:"nested-noscript-in-head",eofInElementThatCanContainOnlyText:"eof-in-element-that-can-contain-only-text"}},8779:(a,s,l)=>{const c=l(5763),u=l(6152),f=u.TAG_NAMES,h=u.NAMESPACES,d=u.ATTRS,m="text/html",g="application/xhtml+xml",x="definitionurl",b="definitionURL",_={attributename:"attributeName",attributetype:"attributeType",basefrequency:"baseFrequency",baseprofile:"baseProfile",calcmode:"calcMode",clippathunits:"clipPathUnits",diffuseconstant:"diffuseConstant",edgemode:"edgeMode",filterunits:"filterUnits",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",limitingconeangle:"limitingConeAngle",markerheight:"markerHeight",markerunits:"markerUnits",markerwidth:"markerWidth",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",numoctaves:"numOctaves",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",refx:"refX",refy:"refY",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",specularconstant:"specularConstant",specularexponent:"specularExponent",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stitchtiles:"stitchTiles",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textlength:"textLength",viewbox:"viewBox",viewtarget:"viewTarget",xchannelselector:"xChannelSelector",ychannelselector:"yChannelSelector",zoomandpan:"zoomAndPan"},S={"xlink:actuate":{prefix:"xlink",name:"actuate",namespace:h.XLINK},"xlink:arcrole":{prefix:"xlink",name:"arcrole",namespace:h.XLINK},"xlink:href":{prefix:"xlink",name:"href",namespace:h.XLINK},"xlink:role":{prefix:"xlink",name:"role",namespace:h.XLINK},"xlink:show":{prefix:"xlink",name:"show",namespace:h.XLINK},"xlink:title":{prefix:"xlink",name:"title",namespace:h.XLINK},"xlink:type":{prefix:"xlink",name:"type",namespace:h.XLINK},"xml:base":{prefix:"xml",name:"base",namespace:h.XML},"xml:lang":{prefix:"xml",name:"lang",namespace:h.XML},"xml:space":{prefix:"xml",name:"space",namespace:h.XML},xmlns:{prefix:"",name:"xmlns",namespace:h.XMLNS},"xmlns:xlink":{prefix:"xmlns",name:"xlink",namespace:h.XMLNS}},T=s.SVG_TAG_NAMES_ADJUSTMENT_MAP={altglyph:"altGlyph",altglyphdef:"altGlyphDef",altglyphitem:"altGlyphItem",animatecolor:"animateColor",animatemotion:"animateMotion",animatetransform:"animateTransform",clippath:"clipPath",feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedistantlight:"feDistantLight",feflood:"feFlood",fefunca:"feFuncA",fefuncb:"feFuncB",fefuncg:"feFuncG",fefuncr:"feFuncR",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femergenode:"feMergeNode",femorphology:"feMorphology",feoffset:"feOffset",fepointlight:"fePointLight",fespecularlighting:"feSpecularLighting",fespotlight:"feSpotLight",fetile:"feTile",feturbulence:"feTurbulence",foreignobject:"foreignObject",glyphref:"glyphRef",lineargradient:"linearGradient",radialgradient:"radialGradient",textpath:"textPath"},C={[f.B]:!0,[f.BIG]:!0,[f.BLOCKQUOTE]:!0,[f.BODY]:!0,[f.BR]:!0,[f.CENTER]:!0,[f.CODE]:!0,[f.DD]:!0,[f.DIV]:!0,[f.DL]:!0,[f.DT]:!0,[f.EM]:!0,[f.EMBED]:!0,[f.H1]:!0,[f.H2]:!0,[f.H3]:!0,[f.H4]:!0,[f.H5]:!0,[f.H6]:!0,[f.HEAD]:!0,[f.HR]:!0,[f.I]:!0,[f.IMG]:!0,[f.LI]:!0,[f.LISTING]:!0,[f.MENU]:!0,[f.META]:!0,[f.NOBR]:!0,[f.OL]:!0,[f.P]:!0,[f.PRE]:!0,[f.RUBY]:!0,[f.S]:!0,[f.SMALL]:!0,[f.SPAN]:!0,[f.STRONG]:!0,[f.STRIKE]:!0,[f.SUB]:!0,[f.SUP]:!0,[f.TABLE]:!0,[f.TT]:!0,[f.U]:!0,[f.UL]:!0,[f.VAR]:!0};s.causesExit=function(w){const N=w.tagName;return N===f.FONT&&(c.getTokenAttr(w,d.COLOR)!==null||c.getTokenAttr(w,d.SIZE)!==null||c.getTokenAttr(w,d.FACE)!==null)||C[N]},s.adjustTokenMathMLAttrs=function(w){for(let N=0;N<w.attrs.length;N++)if(w.attrs[N].name===x){w.attrs[N].name=b;break}},s.adjustTokenSVGAttrs=function(w){for(let N=0;N<w.attrs.length;N++){const A=_[w.attrs[N].name];A&&(w.attrs[N].name=A)}},s.adjustTokenXMLAttrs=function(w){for(let N=0;N<w.attrs.length;N++){const A=S[w.attrs[N].name];A&&(w.attrs[N].prefix=A.prefix,w.attrs[N].name=A.name,w.attrs[N].namespace=A.namespace)}},s.adjustTokenSVGTagName=function(w){const N=T[w.tagName];N&&(w.tagName=N)},s.isIntegrationPoint=function(w,N,A,j){return!(j&&j!==h.HTML||!function(R,L,M){if(L===h.MATHML&&R===f.ANNOTATION_XML){for(let I=0;I<M.length;I++)if(M[I].name===d.ENCODING){const D=M[I].value.toLowerCase();return D===m||D===g}}return L===h.SVG&&(R===f.FOREIGN_OBJECT||R===f.DESC||R===f.TITLE)}(w,N,A))||!(j&&j!==h.MATHML||!function(R,L){return L===h.MATHML&&(R===f.MI||R===f.MO||R===f.MN||R===f.MS||R===f.MTEXT)}(w,N))}},6152:(a,s)=>{const l=s.NAMESPACES={HTML:"http://www.w3.org/1999/xhtml",MATHML:"http://www.w3.org/1998/Math/MathML",SVG:"http://www.w3.org/2000/svg",XLINK:"http://www.w3.org/1999/xlink",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"};s.ATTRS={TYPE:"type",ACTION:"action",ENCODING:"encoding",PROMPT:"prompt",NAME:"name",COLOR:"color",FACE:"face",SIZE:"size"},s.DOCUMENT_MODE={NO_QUIRKS:"no-quirks",QUIRKS:"quirks",LIMITED_QUIRKS:"limited-quirks"};const c=s.TAG_NAMES={A:"a",ADDRESS:"address",ANNOTATION_XML:"annotation-xml",APPLET:"applet",AREA:"area",ARTICLE:"article",ASIDE:"aside",B:"b",BASE:"base",BASEFONT:"basefont",BGSOUND:"bgsound",BIG:"big",BLOCKQUOTE:"blockquote",BODY:"body",BR:"br",BUTTON:"button",CAPTION:"caption",CENTER:"center",CODE:"code",COL:"col",COLGROUP:"colgroup",DD:"dd",DESC:"desc",DETAILS:"details",DIALOG:"dialog",DIR:"dir",DIV:"div",DL:"dl",DT:"dt",EM:"em",EMBED:"embed",FIELDSET:"fieldset",FIGCAPTION:"figcaption",FIGURE:"figure",FONT:"font",FOOTER:"footer",FOREIGN_OBJECT:"foreignObject",FORM:"form",FRAME:"frame",FRAMESET:"frameset",H1:"h1",H2:"h2",H3:"h3",H4:"h4",H5:"h5",H6:"h6",HEAD:"head",HEADER:"header",HGROUP:"hgroup",HR:"hr",HTML:"html",I:"i",IMG:"img",IMAGE:"image",INPUT:"input",IFRAME:"iframe",KEYGEN:"keygen",LABEL:"label",LI:"li",LINK:"link",LISTING:"listing",MAIN:"main",MALIGNMARK:"malignmark",MARQUEE:"marquee",MATH:"math",MENU:"menu",META:"meta",MGLYPH:"mglyph",MI:"mi",MO:"mo",MN:"mn",MS:"ms",MTEXT:"mtext",NAV:"nav",NOBR:"nobr",NOFRAMES:"noframes",NOEMBED:"noembed",NOSCRIPT:"noscript",OBJECT:"object",OL:"ol",OPTGROUP:"optgroup",OPTION:"option",P:"p",PARAM:"param",PLAINTEXT:"plaintext",PRE:"pre",RB:"rb",RP:"rp",RT:"rt",RTC:"rtc",RUBY:"ruby",S:"s",SCRIPT:"script",SECTION:"section",SELECT:"select",SOURCE:"source",SMALL:"small",SPAN:"span",STRIKE:"strike",STRONG:"strong",STYLE:"style",SUB:"sub",SUMMARY:"summary",SUP:"sup",TABLE:"table",TBODY:"tbody",TEMPLATE:"template",TEXTAREA:"textarea",TFOOT:"tfoot",TD:"td",TH:"th",THEAD:"thead",TITLE:"title",TR:"tr",TRACK:"track",TT:"tt",U:"u",UL:"ul",SVG:"svg",VAR:"var",WBR:"wbr",XMP:"xmp"};s.SPECIAL_ELEMENTS={[l.HTML]:{[c.ADDRESS]:!0,[c.APPLET]:!0,[c.AREA]:!0,[c.ARTICLE]:!0,[c.ASIDE]:!0,[c.BASE]:!0,[c.BASEFONT]:!0,[c.BGSOUND]:!0,[c.BLOCKQUOTE]:!0,[c.BODY]:!0,[c.BR]:!0,[c.BUTTON]:!0,[c.CAPTION]:!0,[c.CENTER]:!0,[c.COL]:!0,[c.COLGROUP]:!0,[c.DD]:!0,[c.DETAILS]:!0,[c.DIR]:!0,[c.DIV]:!0,[c.DL]:!0,[c.DT]:!0,[c.EMBED]:!0,[c.FIELDSET]:!0,[c.FIGCAPTION]:!0,[c.FIGURE]:!0,[c.FOOTER]:!0,[c.FORM]:!0,[c.FRAME]:!0,[c.FRAMESET]:!0,[c.H1]:!0,[c.H2]:!0,[c.H3]:!0,[c.H4]:!0,[c.H5]:!0,[c.H6]:!0,[c.HEAD]:!0,[c.HEADER]:!0,[c.HGROUP]:!0,[c.HR]:!0,[c.HTML]:!0,[c.IFRAME]:!0,[c.IMG]:!0,[c.INPUT]:!0,[c.LI]:!0,[c.LINK]:!0,[c.LISTING]:!0,[c.MAIN]:!0,[c.MARQUEE]:!0,[c.MENU]:!0,[c.META]:!0,[c.NAV]:!0,[c.NOEMBED]:!0,[c.NOFRAMES]:!0,[c.NOSCRIPT]:!0,[c.OBJECT]:!0,[c.OL]:!0,[c.P]:!0,[c.PARAM]:!0,[c.PLAINTEXT]:!0,[c.PRE]:!0,[c.SCRIPT]:!0,[c.SECTION]:!0,[c.SELECT]:!0,[c.SOURCE]:!0,[c.STYLE]:!0,[c.SUMMARY]:!0,[c.TABLE]:!0,[c.TBODY]:!0,[c.TD]:!0,[c.TEMPLATE]:!0,[c.TEXTAREA]:!0,[c.TFOOT]:!0,[c.TH]:!0,[c.THEAD]:!0,[c.TITLE]:!0,[c.TR]:!0,[c.TRACK]:!0,[c.UL]:!0,[c.WBR]:!0,[c.XMP]:!0},[l.MATHML]:{[c.MI]:!0,[c.MO]:!0,[c.MN]:!0,[c.MS]:!0,[c.MTEXT]:!0,[c.ANNOTATION_XML]:!0},[l.SVG]:{[c.TITLE]:!0,[c.FOREIGN_OBJECT]:!0,[c.DESC]:!0}}},4284:(a,s)=>{const l=[65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111];s.REPLACEMENT_CHARACTER="�",s.CODE_POINTS={EOF:-1,NULL:0,TABULATION:9,CARRIAGE_RETURN:13,LINE_FEED:10,FORM_FEED:12,SPACE:32,EXCLAMATION_MARK:33,QUOTATION_MARK:34,NUMBER_SIGN:35,AMPERSAND:38,APOSTROPHE:39,HYPHEN_MINUS:45,SOLIDUS:47,DIGIT_0:48,DIGIT_9:57,SEMICOLON:59,LESS_THAN_SIGN:60,EQUALS_SIGN:61,GREATER_THAN_SIGN:62,QUESTION_MARK:63,LATIN_CAPITAL_A:65,LATIN_CAPITAL_F:70,LATIN_CAPITAL_X:88,LATIN_CAPITAL_Z:90,RIGHT_SQUARE_BRACKET:93,GRAVE_ACCENT:96,LATIN_SMALL_A:97,LATIN_SMALL_F:102,LATIN_SMALL_X:120,LATIN_SMALL_Z:122,REPLACEMENT_CHARACTER:65533},s.CODE_POINT_SEQUENCES={DASH_DASH_STRING:[45,45],DOCTYPE_STRING:[68,79,67,84,89,80,69],CDATA_START_STRING:[91,67,68,65,84,65,91],SCRIPT_STRING:[115,99,114,105,112,116],PUBLIC_STRING:[80,85,66,76,73,67],SYSTEM_STRING:[83,89,83,84,69,77]},s.isSurrogate=function(c){return c>=55296&&c<=57343},s.isSurrogatePair=function(c){return c>=56320&&c<=57343},s.getSurrogatePairCodePoint=function(c,u){return 1024*(c-55296)+9216+u},s.isControlCodePoint=function(c){return c!==32&&c!==10&&c!==13&&c!==9&&c!==12&&c>=1&&c<=31||c>=127&&c<=159},s.isUndefinedCodePoint=function(c){return c>=64976&&c<=65007||l.indexOf(c)>-1}},3843:(a,s,l)=>{const c=l(1704);a.exports=class extends c{constructor(u,f){super(u),this.posTracker=null,this.onParseError=f.onParseError}_setErrorLocation(u){u.startLine=u.endLine=this.posTracker.line,u.startCol=u.endCol=this.posTracker.col,u.startOffset=u.endOffset=this.posTracker.offset}_reportError(u){const f={code:u,startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1};this._setErrorLocation(f),this.onParseError(f)}_getOverriddenMethods(u){return{_err(f){u._reportError(f)}}}}},2232:(a,s,l)=>{const c=l(3843),u=l(50),f=l(6110),h=l(1704);a.exports=class extends c{constructor(d,m){super(d,m),this.opts=m,this.ctLoc=null,this.locBeforeToken=!1}_setErrorLocation(d){this.ctLoc&&(d.startLine=this.ctLoc.startLine,d.startCol=this.ctLoc.startCol,d.startOffset=this.ctLoc.startOffset,d.endLine=this.locBeforeToken?this.ctLoc.startLine:this.ctLoc.endLine,d.endCol=this.locBeforeToken?this.ctLoc.startCol:this.ctLoc.endCol,d.endOffset=this.locBeforeToken?this.ctLoc.startOffset:this.ctLoc.endOffset)}_getOverriddenMethods(d,m){return{_bootstrap(g,x){m._bootstrap.call(this,g,x),h.install(this.tokenizer,u,d.opts),h.install(this.tokenizer,f)},_processInputToken(g){d.ctLoc=g.location,m._processInputToken.call(this,g)},_err(g,x){d.locBeforeToken=x&&x.beforeToken,d._reportError(g)}}}}},3288:(a,s,l)=>{const c=l(3843),u=l(7930),f=l(1704);a.exports=class extends c{constructor(h,d){super(h,d),this.posTracker=f.install(h,u),this.lastErrOffset=-1}_reportError(h){this.lastErrOffset!==this.posTracker.offset&&(this.lastErrOffset=this.posTracker.offset,super._reportError(h))}}},50:(a,s,l)=>{const c=l(3843),u=l(3288),f=l(1704);a.exports=class extends c{constructor(h,d){super(h,d);const m=f.install(h.preprocessor,u,d);this.posTracker=m.posTracker}}},1077:(a,s,l)=>{const c=l(1704);a.exports=class extends c{constructor(u,f){super(u),this.onItemPop=f.onItemPop}_getOverriddenMethods(u,f){return{pop(){u.onItemPop(this.current),f.pop.call(this)},popAllUpToHtmlElement(){for(let h=this.stackTop;h>0;h--)u.onItemPop(this.items[h]);f.popAllUpToHtmlElement.call(this)},remove(h){u.onItemPop(this.current),f.remove.call(this,h)}}}}},452:(a,s,l)=>{const c=l(1704),u=l(5763),f=l(6110),h=l(1077),d=l(6152).TAG_NAMES;a.exports=class extends c{constructor(m){super(m),this.parser=m,this.treeAdapter=this.parser.treeAdapter,this.posTracker=null,this.lastStartTagToken=null,this.lastFosterParentingLocation=null,this.currentToken=null}_setStartLocation(m){let g=null;this.lastStartTagToken&&(g=Object.assign({},this.lastStartTagToken.location),g.startTag=this.lastStartTagToken.location),this.treeAdapter.setNodeSourceCodeLocation(m,g)}_setEndLocation(m,g){if(this.treeAdapter.getNodeSourceCodeLocation(m)&&g.location){const x=g.location,b=this.treeAdapter.getTagName(m),_={};g.type===u.END_TAG_TOKEN&&b===g.tagName?(_.endTag=Object.assign({},x),_.endLine=x.endLine,_.endCol=x.endCol,_.endOffset=x.endOffset):(_.endLine=x.startLine,_.endCol=x.startCol,_.endOffset=x.startOffset),this.treeAdapter.updateNodeSourceCodeLocation(m,_)}}_getOverriddenMethods(m,g){return{_bootstrap(x,b){g._bootstrap.call(this,x,b),m.lastStartTagToken=null,m.lastFosterParentingLocation=null,m.currentToken=null;const _=c.install(this.tokenizer,f);m.posTracker=_.posTracker,c.install(this.openElements,h,{onItemPop:function(S){m._setEndLocation(S,m.currentToken)}})},_runParsingLoop(x){g._runParsingLoop.call(this,x);for(let b=this.openElements.stackTop;b>=0;b--)m._setEndLocation(this.openElements.items[b],m.currentToken)},_processTokenInForeignContent(x){m.currentToken=x,g._processTokenInForeignContent.call(this,x)},_processToken(x){if(m.currentToken=x,g._processToken.call(this,x),x.type===u.END_TAG_TOKEN&&(x.tagName===d.HTML||x.tagName===d.BODY&&this.openElements.hasInScope(d.BODY)))for(let b=this.openElements.stackTop;b>=0;b--){const _=this.openElements.items[b];if(this.treeAdapter.getTagName(_)===x.tagName){m._setEndLocation(_,x);break}}},_setDocumentType(x){g._setDocumentType.call(this,x);const b=this.treeAdapter.getChildNodes(this.document),_=b.length;for(let S=0;S<_;S++){const T=b[S];if(this.treeAdapter.isDocumentTypeNode(T)){this.treeAdapter.setNodeSourceCodeLocation(T,x.location);break}}},_attachElementToTree(x){m._setStartLocation(x),m.lastStartTagToken=null,g._attachElementToTree.call(this,x)},_appendElement(x,b){m.lastStartTagToken=x,g._appendElement.call(this,x,b)},_insertElement(x,b){m.lastStartTagToken=x,g._insertElement.call(this,x,b)},_insertTemplate(x){m.lastStartTagToken=x,g._insertTemplate.call(this,x);const b=this.treeAdapter.getTemplateContent(this.openElements.current);this.treeAdapter.setNodeSourceCodeLocation(b,null)},_insertFakeRootElement(){g._insertFakeRootElement.call(this),this.treeAdapter.setNodeSourceCodeLocation(this.openElements.current,null)},_appendCommentNode(x,b){g._appendCommentNode.call(this,x,b);const _=this.treeAdapter.getChildNodes(b),S=_[_.length-1];this.treeAdapter.setNodeSourceCodeLocation(S,x.location)},_findFosterParentingLocation(){return m.lastFosterParentingLocation=g._findFosterParentingLocation.call(this),m.lastFosterParentingLocation},_insertCharacters(x){g._insertCharacters.call(this,x);const b=this._shouldFosterParentOnInsertion(),_=b&&m.lastFosterParentingLocation.parent||this.openElements.currentTmplContent||this.openElements.current,S=this.treeAdapter.getChildNodes(_),T=b&&m.lastFosterParentingLocation.beforeElement?S.indexOf(m.lastFosterParentingLocation.beforeElement)-1:S.length-1,C=S[T];if(this.treeAdapter.getNodeSourceCodeLocation(C)){const{endLine:w,endCol:N,endOffset:A}=x.location;this.treeAdapter.updateNodeSourceCodeLocation(C,{endLine:w,endCol:N,endOffset:A})}else this.treeAdapter.setNodeSourceCodeLocation(C,x.location)}}}}},6110:(a,s,l)=>{const c=l(1704),u=l(5763),f=l(7930);a.exports=class extends c{constructor(h){super(h),this.tokenizer=h,this.posTracker=c.install(h.preprocessor,f),this.currentAttrLocation=null,this.ctLoc=null}_getCurrentLocation(){return{startLine:this.posTracker.line,startCol:this.posTracker.col,startOffset:this.posTracker.offset,endLine:-1,endCol:-1,endOffset:-1}}_attachCurrentAttrLocationInfo(){this.currentAttrLocation.endLine=this.posTracker.line,this.currentAttrLocation.endCol=this.posTracker.col,this.currentAttrLocation.endOffset=this.posTracker.offset;const h=this.tokenizer.currentToken,d=this.tokenizer.currentAttr;h.location.attrs||(h.location.attrs=Object.create(null)),h.location.attrs[d.name]=this.currentAttrLocation}_getOverriddenMethods(h,d){const m={_createStartTagToken(){d._createStartTagToken.call(this),this.currentToken.location=h.ctLoc},_createEndTagToken(){d._createEndTagToken.call(this),this.currentToken.location=h.ctLoc},_createCommentToken(){d._createCommentToken.call(this),this.currentToken.location=h.ctLoc},_createDoctypeToken(g){d._createDoctypeToken.call(this,g),this.currentToken.location=h.ctLoc},_createCharacterToken(g,x){d._createCharacterToken.call(this,g,x),this.currentCharacterToken.location=h.ctLoc},_createEOFToken(){d._createEOFToken.call(this),this.currentToken.location=h._getCurrentLocation()},_createAttr(g){d._createAttr.call(this,g),h.currentAttrLocation=h._getCurrentLocation()},_leaveAttrName(g){d._leaveAttrName.call(this,g),h._attachCurrentAttrLocationInfo()},_leaveAttrValue(g){d._leaveAttrValue.call(this,g),h._attachCurrentAttrLocationInfo()},_emitCurrentToken(){const g=this.currentToken.location;this.currentCharacterToken&&(this.currentCharacterToken.location.endLine=g.startLine,this.currentCharacterToken.location.endCol=g.startCol,this.currentCharacterToken.location.endOffset=g.startOffset),this.currentToken.type===u.EOF_TOKEN?(g.endLine=g.startLine,g.endCol=g.startCol,g.endOffset=g.startOffset):(g.endLine=h.posTracker.line,g.endCol=h.posTracker.col+1,g.endOffset=h.posTracker.offset+1),d._emitCurrentToken.call(this)},_emitCurrentCharacterToken(){const g=this.currentCharacterToken&&this.currentCharacterToken.location;g&&g.endOffset===-1&&(g.endLine=h.posTracker.line,g.endCol=h.posTracker.col,g.endOffset=h.posTracker.offset),d._emitCurrentCharacterToken.call(this)}};return Object.keys(u.MODE).forEach(g=>{const x=u.MODE[g];m[x]=function(b){h.ctLoc=h._getCurrentLocation(),d[x].call(this,b)}}),m}}},7930:(a,s,l)=>{const c=l(1704);a.exports=class extends c{constructor(u){super(u),this.preprocessor=u,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.offset=0,this.col=0,this.line=1}_getOverriddenMethods(u,f){return{advance(){const h=this.pos+1,d=this.html[h];return u.isEol&&(u.isEol=!1,u.line++,u.lineStartPos=h),(d===`
`||d==="\r"&&this.html[h+1]!==`
`)&&(u.isEol=!0),u.col=h-u.lineStartPos+1,u.offset=u.droppedBufferSize+h,f.advance.call(this)},retreat(){f.retreat.call(this),u.isEol=!1,u.col=this.pos-u.lineStartPos+1},dropParsedChunk(){const h=this.pos;f.dropParsedChunk.call(this);const d=h-this.pos;u.lineStartPos-=d,u.droppedBufferSize+=d,u.offset=u.droppedBufferSize+this.pos}}}}},2394:(a,s,l)=>{const c=l(7045),u=l(3988);s.parse=function(f,h){return new c(h).parse(f)},s.parseFragment=function(f,h,d){return typeof f=="string"&&(d=h,h=f,f=null),new c(d).parseFragment(h,f)},s.serialize=function(f,h){return new u(f,h).serialize()}},2484:a=>{class l{constructor(u){this.length=0,this.entries=[],this.treeAdapter=u,this.bookmark=null}_getNoahArkConditionCandidates(u){const f=[];if(this.length>=3){const h=this.treeAdapter.getAttrList(u).length,d=this.treeAdapter.getTagName(u),m=this.treeAdapter.getNamespaceURI(u);for(let g=this.length-1;g>=0;g--){const x=this.entries[g];if(x.type===l.MARKER_ENTRY)break;const b=x.element,_=this.treeAdapter.getAttrList(b);this.treeAdapter.getTagName(b)===d&&this.treeAdapter.getNamespaceURI(b)===m&&_.length===h&&f.push({idx:g,attrs:_})}}return f.length<3?[]:f}_ensureNoahArkCondition(u){const f=this._getNoahArkConditionCandidates(u);let h=f.length;if(h){const d=this.treeAdapter.getAttrList(u),m=d.length,g=Object.create(null);for(let x=0;x<m;x++){const b=d[x];g[b.name]=b.value}for(let x=0;x<m;x++)for(let b=0;b<h;b++){const _=f[b].attrs[x];if(g[_.name]!==_.value&&(f.splice(b,1),h--),f.length<3)return}for(let x=h-1;x>=2;x--)this.entries.splice(f[x].idx,1),this.length--}}insertMarker(){this.entries.push({type:l.MARKER_ENTRY}),this.length++}pushElement(u,f){this._ensureNoahArkCondition(u),this.entries.push({type:l.ELEMENT_ENTRY,element:u,token:f}),this.length++}insertElementAfterBookmark(u,f){let h=this.length-1;for(;h>=0&&this.entries[h]!==this.bookmark;h--);this.entries.splice(h+1,0,{type:l.ELEMENT_ENTRY,element:u,token:f}),this.length++}removeEntry(u){for(let f=this.length-1;f>=0;f--)if(this.entries[f]===u){this.entries.splice(f,1),this.length--;break}}clearToLastMarker(){for(;this.length;){const u=this.entries.pop();if(this.length--,u.type===l.MARKER_ENTRY)break}}getElementEntryInScopeWithTagName(u){for(let f=this.length-1;f>=0;f--){const h=this.entries[f];if(h.type===l.MARKER_ENTRY)return null;if(this.treeAdapter.getTagName(h.element)===u)return h}return null}getElementEntry(u){for(let f=this.length-1;f>=0;f--){const h=this.entries[f];if(h.type===l.ELEMENT_ENTRY&&h.element===u)return h}return null}}l.MARKER_ENTRY="MARKER_ENTRY",l.ELEMENT_ENTRY="ELEMENT_ENTRY",a.exports=l},7045:(a,s,l)=>{const c=l(5763),u=l(6519),f=l(2484),h=l(452),d=l(2232),m=l(1704),g=l(7296),x=l(8904),b=l(1515),_=l(8779),S=l(1734),T=l(4284),C=l(6152),w=C.TAG_NAMES,N=C.NAMESPACES,A=C.ATTRS,j={scriptingEnabled:!0,sourceCodeLocationInfo:!1,onParseError:null,treeAdapter:g},R="hidden",L=8,M=3,I="INITIAL_MODE",D="BEFORE_HTML_MODE",V="BEFORE_HEAD_MODE",F="IN_HEAD_MODE",G="IN_HEAD_NO_SCRIPT_MODE",W="AFTER_HEAD_MODE",Y="IN_BODY_MODE",te="TEXT_MODE",he="IN_TABLE_MODE",z="IN_TABLE_TEXT_MODE",Z="IN_CAPTION_MODE",X="IN_COLUMN_GROUP_MODE",ae="IN_TABLE_BODY_MODE",ve="IN_ROW_MODE",me="IN_CELL_MODE",Ee="IN_SELECT_MODE",ke="IN_SELECT_IN_TABLE_MODE",He="IN_TEMPLATE_MODE",Re="AFTER_BODY_MODE",se="IN_FRAMESET_MODE",ce="AFTER_FRAMESET_MODE",$e="AFTER_AFTER_BODY_MODE",Ue="AFTER_AFTER_FRAMESET_MODE",Te={[w.TR]:ve,[w.TBODY]:ae,[w.THEAD]:ae,[w.TFOOT]:ae,[w.CAPTION]:Z,[w.COLGROUP]:X,[w.TABLE]:he,[w.BODY]:Y,[w.FRAMESET]:se},ft={[w.CAPTION]:he,[w.COLGROUP]:he,[w.TBODY]:he,[w.TFOOT]:he,[w.THEAD]:he,[w.COL]:X,[w.TR]:ae,[w.TD]:ve,[w.TH]:ve},Q={[I]:{[c.CHARACTER_TOKEN]:tt,[c.NULL_CHARACTER_TOKEN]:tt,[c.WHITESPACE_CHARACTER_TOKEN]:bt,[c.COMMENT_TOKEN]:kt,[c.DOCTYPE_TOKEN]:function($,oe){$._setDocumentType(oe);const J=oe.forceQuirks?C.DOCUMENT_MODE.QUIRKS:b.getDocumentMode(oe);b.isConforming(oe)||$._err(S.nonConformingDoctype),$.treeAdapter.setDocumentMode($.document,J),$.insertionMode=D},[c.START_TAG_TOKEN]:tt,[c.END_TAG_TOKEN]:tt,[c.EOF_TOKEN]:tt},[D]:{[c.CHARACTER_TOKEN]:Ie,[c.NULL_CHARACTER_TOKEN]:Ie,[c.WHITESPACE_CHARACTER_TOKEN]:bt,[c.COMMENT_TOKEN]:kt,[c.DOCTYPE_TOKEN]:bt,[c.START_TAG_TOKEN]:function($,oe){oe.tagName===w.HTML?($._insertElement(oe,N.HTML),$.insertionMode=V):Ie($,oe)},[c.END_TAG_TOKEN]:function($,oe){const J=oe.tagName;J!==w.HTML&&J!==w.HEAD&&J!==w.BODY&&J!==w.BR||Ie($,oe)},[c.EOF_TOKEN]:Ie},[V]:{[c.CHARACTER_TOKEN]:gt,[c.NULL_CHARACTER_TOKEN]:gt,[c.WHITESPACE_CHARACTER_TOKEN]:bt,[c.COMMENT_TOKEN]:kt,[c.DOCTYPE_TOKEN]:Ut,[c.START_TAG_TOKEN]:function($,oe){const J=oe.tagName;J===w.HTML?Er($,oe):J===w.HEAD?($._insertElement(oe,N.HTML),$.headElement=$.openElements.current,$.insertionMode=F):gt($,oe)},[c.END_TAG_TOKEN]:function($,oe){const J=oe.tagName;J===w.HEAD||J===w.BODY||J===w.HTML||J===w.BR?gt($,oe):$._err(S.endTagWithoutMatchingOpenElement)},[c.EOF_TOKEN]:gt},[F]:{[c.CHARACTER_TOKEN]:At,[c.NULL_CHARACTER_TOKEN]:At,[c.WHITESPACE_CHARACTER_TOKEN]:fe,[c.COMMENT_TOKEN]:kt,[c.DOCTYPE_TOKEN]:Ut,[c.START_TAG_TOKEN]:wt,[c.END_TAG_TOKEN]:Ct,[c.EOF_TOKEN]:At},[G]:{[c.CHARACTER_TOKEN]:Ft,[c.NULL_CHARACTER_TOKEN]:Ft,[c.WHITESPACE_CHARACTER_TOKEN]:fe,[c.COMMENT_TOKEN]:kt,[c.DOCTYPE_TOKEN]:Ut,[c.START_TAG_TOKEN]:function($,oe){const J=oe.tagName;J===w.HTML?Er($,oe):J===w.BASEFONT||J===w.BGSOUND||J===w.HEAD||J===w.LINK||J===w.META||J===w.NOFRAMES||J===w.STYLE?wt($,oe):J===w.NOSCRIPT?$._err(S.nestedNoscriptInHead):Ft($,oe)},[c.END_TAG_TOKEN]:function($,oe){const J=oe.tagName;J===w.NOSCRIPT?($.openElements.pop(),$.insertionMode=F):J===w.BR?Ft($,oe):$._err(S.endTagWithoutMatchingOpenElement)},[c.EOF_TOKEN]:Ft},[W]:{[c.CHARACTER_TOKEN]:lr,[c.NULL_CHARACTER_TOKEN]:lr,[c.WHITESPACE_CHARACTER_TOKEN]:fe,[c.COMMENT_TOKEN]:kt,[c.DOCTYPE_TOKEN]:Ut,[c.START_TAG_TOKEN]:function($,oe){const J=oe.tagName;J===w.HTML?Er($,oe):J===w.BODY?($._insertElement(oe,N.HTML),$.framesetOk=!1,$.insertionMode=Y):J===w.FRAMESET?($._insertElement(oe,N.HTML),$.insertionMode=se):J===w.BASE||J===w.BASEFONT||J===w.BGSOUND||J===w.LINK||J===w.META||J===w.NOFRAMES||J===w.SCRIPT||J===w.STYLE||J===w.TEMPLATE||J===w.TITLE?($._err(S.abandonedHeadElementChild),$.openElements.push($.headElement),wt($,oe),$.openElements.remove($.headElement)):J===w.HEAD?$._err(S.misplacedStartTagForHeadElement):lr($,oe)},[c.END_TAG_TOKEN]:function($,oe){const J=oe.tagName;J===w.BODY||J===w.HTML||J===w.BR?lr($,oe):J===w.TEMPLATE?Ct($,oe):$._err(S.endTagWithoutMatchingOpenElement)},[c.EOF_TOKEN]:lr},[Y]:{[c.CHARACTER_TOKEN]:vr,[c.NULL_CHARACTER_TOKEN]:bt,[c.WHITESPACE_CHARACTER_TOKEN]:nr,[c.COMMENT_TOKEN]:kt,[c.DOCTYPE_TOKEN]:bt,[c.START_TAG_TOKEN]:Er,[c.END_TAG_TOKEN]:Kr,[c.EOF_TOKEN]:an},[te]:{[c.CHARACTER_TOKEN]:fe,[c.NULL_CHARACTER_TOKEN]:fe,[c.WHITESPACE_CHARACTER_TOKEN]:fe,[c.COMMENT_TOKEN]:bt,[c.DOCTYPE_TOKEN]:bt,[c.START_TAG_TOKEN]:bt,[c.END_TAG_TOKEN]:function($,oe){oe.tagName===w.SCRIPT&&($.pendingScript=$.openElements.current),$.openElements.pop(),$.insertionMode=$.originalInsertionMode},[c.EOF_TOKEN]:function($,oe){$._err(S.eofInElementThatCanContainOnlyText),$.openElements.pop(),$.insertionMode=$.originalInsertionMode,$._processToken(oe)}},[he]:{[c.CHARACTER_TOKEN]:mr,[c.NULL_CHARACTER_TOKEN]:mr,[c.WHITESPACE_CHARACTER_TOKEN]:mr,[c.COMMENT_TOKEN]:kt,[c.DOCTYPE_TOKEN]:bt,[c.START_TAG_TOKEN]:Xr,[c.END_TAG_TOKEN]:gr,[c.EOF_TOKEN]:an},[z]:{[c.CHARACTER_TOKEN]:function($,oe){$.pendingCharacterTokens.push(oe),$.hasNonWhitespacePendingCharacterToken=!0},[c.NULL_CHARACTER_TOKEN]:bt,[c.WHITESPACE_CHARACTER_TOKEN]:function($,oe){$.pendingCharacterTokens.push(oe)},[c.COMMENT_TOKEN]:er,[c.DOCTYPE_TOKEN]:er,[c.START_TAG_TOKEN]:er,[c.END_TAG_TOKEN]:er,[c.EOF_TOKEN]:er},[Z]:{[c.CHARACTER_TOKEN]:vr,[c.NULL_CHARACTER_TOKEN]:bt,[c.WHITESPACE_CHARACTER_TOKEN]:nr,[c.COMMENT_TOKEN]:kt,[c.DOCTYPE_TOKEN]:bt,[c.START_TAG_TOKEN]:function($,oe){const J=oe.tagName;J===w.CAPTION||J===w.COL||J===w.COLGROUP||J===w.TBODY||J===w.TD||J===w.TFOOT||J===w.TH||J===w.THEAD||J===w.TR?$.openElements.hasInTableScope(w.CAPTION)&&($.openElements.generateImpliedEndTags(),$.openElements.popUntilTagNamePopped(w.CAPTION),$.activeFormattingElements.clearToLastMarker(),$.insertionMode=he,$._processToken(oe)):Er($,oe)},[c.END_TAG_TOKEN]:function($,oe){const J=oe.tagName;J===w.CAPTION||J===w.TABLE?$.openElements.hasInTableScope(w.CAPTION)&&($.openElements.generateImpliedEndTags(),$.openElements.popUntilTagNamePopped(w.CAPTION),$.activeFormattingElements.clearToLastMarker(),$.insertionMode=he,J===w.TABLE&&$._processToken(oe)):J!==w.BODY&&J!==w.COL&&J!==w.COLGROUP&&J!==w.HTML&&J!==w.TBODY&&J!==w.TD&&J!==w.TFOOT&&J!==w.TH&&J!==w.THEAD&&J!==w.TR&&Kr($,oe)},[c.EOF_TOKEN]:an},[X]:{[c.CHARACTER_TOKEN]:sn,[c.NULL_CHARACTER_TOKEN]:sn,[c.WHITESPACE_CHARACTER_TOKEN]:fe,[c.COMMENT_TOKEN]:kt,[c.DOCTYPE_TOKEN]:bt,[c.START_TAG_TOKEN]:function($,oe){const J=oe.tagName;J===w.HTML?Er($,oe):J===w.COL?($._appendElement(oe,N.HTML),oe.ackSelfClosing=!0):J===w.TEMPLATE?wt($,oe):sn($,oe)},[c.END_TAG_TOKEN]:function($,oe){const J=oe.tagName;J===w.COLGROUP?$.openElements.currentTagName===w.COLGROUP&&($.openElements.pop(),$.insertionMode=he):J===w.TEMPLATE?Ct($,oe):J!==w.COL&&sn($,oe)},[c.EOF_TOKEN]:an},[ae]:{[c.CHARACTER_TOKEN]:mr,[c.NULL_CHARACTER_TOKEN]:mr,[c.WHITESPACE_CHARACTER_TOKEN]:mr,[c.COMMENT_TOKEN]:kt,[c.DOCTYPE_TOKEN]:bt,[c.START_TAG_TOKEN]:function($,oe){const J=oe.tagName;J===w.TR?($.openElements.clearBackToTableBodyContext(),$._insertElement(oe,N.HTML),$.insertionMode=ve):J===w.TH||J===w.TD?($.openElements.clearBackToTableBodyContext(),$._insertFakeElement(w.TR),$.insertionMode=ve,$._processToken(oe)):J===w.CAPTION||J===w.COL||J===w.COLGROUP||J===w.TBODY||J===w.TFOOT||J===w.THEAD?$.openElements.hasTableBodyContextInTableScope()&&($.openElements.clearBackToTableBodyContext(),$.openElements.pop(),$.insertionMode=he,$._processToken(oe)):Xr($,oe)},[c.END_TAG_TOKEN]:function($,oe){const J=oe.tagName;J===w.TBODY||J===w.TFOOT||J===w.THEAD?$.openElements.hasInTableScope(J)&&($.openElements.clearBackToTableBodyContext(),$.openElements.pop(),$.insertionMode=he):J===w.TABLE?$.openElements.hasTableBodyContextInTableScope()&&($.openElements.clearBackToTableBodyContext(),$.openElements.pop(),$.insertionMode=he,$._processToken(oe)):(J!==w.BODY&&J!==w.CAPTION&&J!==w.COL&&J!==w.COLGROUP||J!==w.HTML&&J!==w.TD&&J!==w.TH&&J!==w.TR)&&gr($,oe)},[c.EOF_TOKEN]:an},[ve]:{[c.CHARACTER_TOKEN]:mr,[c.NULL_CHARACTER_TOKEN]:mr,[c.WHITESPACE_CHARACTER_TOKEN]:mr,[c.COMMENT_TOKEN]:kt,[c.DOCTYPE_TOKEN]:bt,[c.START_TAG_TOKEN]:function($,oe){const J=oe.tagName;J===w.TH||J===w.TD?($.openElements.clearBackToTableRowContext(),$._insertElement(oe,N.HTML),$.insertionMode=me,$.activeFormattingElements.insertMarker()):J===w.CAPTION||J===w.COL||J===w.COLGROUP||J===w.TBODY||J===w.TFOOT||J===w.THEAD||J===w.TR?$.openElements.hasInTableScope(w.TR)&&($.openElements.clearBackToTableRowContext(),$.openElements.pop(),$.insertionMode=ae,$._processToken(oe)):Xr($,oe)},[c.END_TAG_TOKEN]:function($,oe){const J=oe.tagName;J===w.TR?$.openElements.hasInTableScope(w.TR)&&($.openElements.clearBackToTableRowContext(),$.openElements.pop(),$.insertionMode=ae):J===w.TABLE?$.openElements.hasInTableScope(w.TR)&&($.openElements.clearBackToTableRowContext(),$.openElements.pop(),$.insertionMode=ae,$._processToken(oe)):J===w.TBODY||J===w.TFOOT||J===w.THEAD?($.openElements.hasInTableScope(J)||$.openElements.hasInTableScope(w.TR))&&($.openElements.clearBackToTableRowContext(),$.openElements.pop(),$.insertionMode=ae,$._processToken(oe)):(J!==w.BODY&&J!==w.CAPTION&&J!==w.COL&&J!==w.COLGROUP||J!==w.HTML&&J!==w.TD&&J!==w.TH)&&gr($,oe)},[c.EOF_TOKEN]:an},[me]:{[c.CHARACTER_TOKEN]:vr,[c.NULL_CHARACTER_TOKEN]:bt,[c.WHITESPACE_CHARACTER_TOKEN]:nr,[c.COMMENT_TOKEN]:kt,[c.DOCTYPE_TOKEN]:bt,[c.START_TAG_TOKEN]:function($,oe){const J=oe.tagName;J===w.CAPTION||J===w.COL||J===w.COLGROUP||J===w.TBODY||J===w.TD||J===w.TFOOT||J===w.TH||J===w.THEAD||J===w.TR?($.openElements.hasInTableScope(w.TD)||$.openElements.hasInTableScope(w.TH))&&($._closeTableCell(),$._processToken(oe)):Er($,oe)},[c.END_TAG_TOKEN]:function($,oe){const J=oe.tagName;J===w.TD||J===w.TH?$.openElements.hasInTableScope(J)&&($.openElements.generateImpliedEndTags(),$.openElements.popUntilTagNamePopped(J),$.activeFormattingElements.clearToLastMarker(),$.insertionMode=ve):J===w.TABLE||J===w.TBODY||J===w.TFOOT||J===w.THEAD||J===w.TR?$.openElements.hasInTableScope(J)&&($._closeTableCell(),$._processToken(oe)):J!==w.BODY&&J!==w.CAPTION&&J!==w.COL&&J!==w.COLGROUP&&J!==w.HTML&&Kr($,oe)},[c.EOF_TOKEN]:an},[Ee]:{[c.CHARACTER_TOKEN]:fe,[c.NULL_CHARACTER_TOKEN]:bt,[c.WHITESPACE_CHARACTER_TOKEN]:fe,[c.COMMENT_TOKEN]:kt,[c.DOCTYPE_TOKEN]:bt,[c.START_TAG_TOKEN]:xr,[c.END_TAG_TOKEN]:ln,[c.EOF_TOKEN]:an},[ke]:{[c.CHARACTER_TOKEN]:fe,[c.NULL_CHARACTER_TOKEN]:bt,[c.WHITESPACE_CHARACTER_TOKEN]:fe,[c.COMMENT_TOKEN]:kt,[c.DOCTYPE_TOKEN]:bt,[c.START_TAG_TOKEN]:function($,oe){const J=oe.tagName;J===w.CAPTION||J===w.TABLE||J===w.TBODY||J===w.TFOOT||J===w.THEAD||J===w.TR||J===w.TD||J===w.TH?($.openElements.popUntilTagNamePopped(w.SELECT),$._resetInsertionMode(),$._processToken(oe)):xr($,oe)},[c.END_TAG_TOKEN]:function($,oe){const J=oe.tagName;J===w.CAPTION||J===w.TABLE||J===w.TBODY||J===w.TFOOT||J===w.THEAD||J===w.TR||J===w.TD||J===w.TH?$.openElements.hasInTableScope(J)&&($.openElements.popUntilTagNamePopped(w.SELECT),$._resetInsertionMode(),$._processToken(oe)):ln($,oe)},[c.EOF_TOKEN]:an},[He]:{[c.CHARACTER_TOKEN]:vr,[c.NULL_CHARACTER_TOKEN]:bt,[c.WHITESPACE_CHARACTER_TOKEN]:nr,[c.COMMENT_TOKEN]:kt,[c.DOCTYPE_TOKEN]:bt,[c.START_TAG_TOKEN]:function($,oe){const J=oe.tagName;if(J===w.BASE||J===w.BASEFONT||J===w.BGSOUND||J===w.LINK||J===w.META||J===w.NOFRAMES||J===w.SCRIPT||J===w.STYLE||J===w.TEMPLATE||J===w.TITLE)wt($,oe);else{const Fe=ft[J]||Y;$._popTmplInsertionMode(),$._pushTmplInsertionMode(Fe),$.insertionMode=Fe,$._processToken(oe)}},[c.END_TAG_TOKEN]:function($,oe){oe.tagName===w.TEMPLATE&&Ct($,oe)},[c.EOF_TOKEN]:qr},[Re]:{[c.CHARACTER_TOKEN]:un,[c.NULL_CHARACTER_TOKEN]:un,[c.WHITESPACE_CHARACTER_TOKEN]:nr,[c.COMMENT_TOKEN]:function($,oe){$._appendCommentNode(oe,$.openElements.items[0])},[c.DOCTYPE_TOKEN]:bt,[c.START_TAG_TOKEN]:function($,oe){oe.tagName===w.HTML?Er($,oe):un($,oe)},[c.END_TAG_TOKEN]:function($,oe){oe.tagName===w.HTML?$.fragmentContext||($.insertionMode=$e):un($,oe)},[c.EOF_TOKEN]:ee},[se]:{[c.CHARACTER_TOKEN]:bt,[c.NULL_CHARACTER_TOKEN]:bt,[c.WHITESPACE_CHARACTER_TOKEN]:fe,[c.COMMENT_TOKEN]:kt,[c.DOCTYPE_TOKEN]:bt,[c.START_TAG_TOKEN]:function($,oe){const J=oe.tagName;J===w.HTML?Er($,oe):J===w.FRAMESET?$._insertElement(oe,N.HTML):J===w.FRAME?($._appendElement(oe,N.HTML),oe.ackSelfClosing=!0):J===w.NOFRAMES&&wt($,oe)},[c.END_TAG_TOKEN]:function($,oe){oe.tagName!==w.FRAMESET||$.openElements.isRootHtmlElementCurrent()||($.openElements.pop(),$.fragmentContext||$.openElements.currentTagName===w.FRAMESET||($.insertionMode=ce))},[c.EOF_TOKEN]:ee},[ce]:{[c.CHARACTER_TOKEN]:bt,[c.NULL_CHARACTER_TOKEN]:bt,[c.WHITESPACE_CHARACTER_TOKEN]:fe,[c.COMMENT_TOKEN]:kt,[c.DOCTYPE_TOKEN]:bt,[c.START_TAG_TOKEN]:function($,oe){const J=oe.tagName;J===w.HTML?Er($,oe):J===w.NOFRAMES&&wt($,oe)},[c.END_TAG_TOKEN]:function($,oe){oe.tagName===w.HTML&&($.insertionMode=Ue)},[c.EOF_TOKEN]:ee},[$e]:{[c.CHARACTER_TOKEN]:wr,[c.NULL_CHARACTER_TOKEN]:wr,[c.WHITESPACE_CHARACTER_TOKEN]:nr,[c.COMMENT_TOKEN]:Oe,[c.DOCTYPE_TOKEN]:bt,[c.START_TAG_TOKEN]:function($,oe){oe.tagName===w.HTML?Er($,oe):wr($,oe)},[c.END_TAG_TOKEN]:wr,[c.EOF_TOKEN]:ee},[Ue]:{[c.CHARACTER_TOKEN]:bt,[c.NULL_CHARACTER_TOKEN]:bt,[c.WHITESPACE_CHARACTER_TOKEN]:nr,[c.COMMENT_TOKEN]:Oe,[c.DOCTYPE_TOKEN]:bt,[c.START_TAG_TOKEN]:function($,oe){const J=oe.tagName;J===w.HTML?Er($,oe):J===w.NOFRAMES&&wt($,oe)},[c.END_TAG_TOKEN]:bt,[c.EOF_TOKEN]:ee}};function de($,oe){let J=$.activeFormattingElements.getElementEntryInScopeWithTagName(oe.tagName);return J?$.openElements.contains(J.element)?$.openElements.hasInScope(oe.tagName)||(J=null):($.activeFormattingElements.removeEntry(J),J=null):or($,oe),J}function Ce($,oe){let J=null;for(let Fe=$.openElements.stackTop;Fe>=0;Fe--){const it=$.openElements.items[Fe];if(it===oe.element)break;$._isSpecialElement(it)&&(J=it)}return J||($.openElements.popUntilElementPopped(oe.element),$.activeFormattingElements.removeEntry(oe)),J}function De($,oe,J){let Fe=oe,it=$.openElements.getCommonAncestor(oe);for(let qt=0,fn=it;fn!==J;qt++,fn=it){it=$.openElements.getCommonAncestor(fn);const br=$.activeFormattingElements.getElementEntry(fn),dt=br&&qt>=M;!br||dt?(dt&&$.activeFormattingElements.removeEntry(br),$.openElements.remove(fn)):(fn=Ke($,br),Fe===oe&&($.activeFormattingElements.bookmark=br),$.treeAdapter.detachNode(Fe),$.treeAdapter.appendChild(fn,Fe),Fe=fn)}return Fe}function Ke($,oe){const J=$.treeAdapter.getNamespaceURI(oe.element),Fe=$.treeAdapter.createElement(oe.token.tagName,J,oe.token.attrs);return $.openElements.replace(oe.element,Fe),oe.element=Fe,Fe}function je($,oe,J){if($._isElementCausesFosterParenting(oe))$._fosterParentElement(J);else{const Fe=$.treeAdapter.getTagName(oe),it=$.treeAdapter.getNamespaceURI(oe);Fe===w.TEMPLATE&&it===N.HTML&&(oe=$.treeAdapter.getTemplateContent(oe)),$.treeAdapter.appendChild(oe,J)}}function Ze($,oe,J){const Fe=$.treeAdapter.getNamespaceURI(J.element),it=J.token,qt=$.treeAdapter.createElement(it.tagName,Fe,it.attrs);$._adoptNodes(oe,qt),$.treeAdapter.appendChild(oe,qt),$.activeFormattingElements.insertElementAfterBookmark(qt,J.token),$.activeFormattingElements.removeEntry(J),$.openElements.remove(J.element),$.openElements.insertAfter(oe,qt)}function Ye($,oe){let J;for(let Fe=0;Fe<L&&(J=de($,oe),J);Fe++){const it=Ce($,J);if(!it)break;$.activeFormattingElements.bookmark=J;const qt=De($,it,J.element),fn=$.openElements.getCommonAncestor(J.element);$.treeAdapter.detachNode(qt),je($,fn,qt),Ze($,it,J)}}function bt(){}function Ut($){$._err(S.misplacedDoctype)}function kt($,oe){$._appendCommentNode(oe,$.openElements.currentTmplContent||$.openElements.current)}function Oe($,oe){$._appendCommentNode(oe,$.document)}function fe($,oe){$._insertCharacters(oe)}function ee($){$.stopped=!0}function tt($,oe){$._err(S.missingDoctype,{beforeToken:!0}),$.treeAdapter.setDocumentMode($.document,C.DOCUMENT_MODE.QUIRKS),$.insertionMode=D,$._processToken(oe)}function Ie($,oe){$._insertFakeRootElement(),$.insertionMode=V,$._processToken(oe)}function gt($,oe){$._insertFakeElement(w.HEAD),$.headElement=$.openElements.current,$.insertionMode=F,$._processToken(oe)}function wt($,oe){const J=oe.tagName;J===w.HTML?Er($,oe):J===w.BASE||J===w.BASEFONT||J===w.BGSOUND||J===w.LINK||J===w.META?($._appendElement(oe,N.HTML),oe.ackSelfClosing=!0):J===w.TITLE?$._switchToTextParsing(oe,c.MODE.RCDATA):J===w.NOSCRIPT?$.options.scriptingEnabled?$._switchToTextParsing(oe,c.MODE.RAWTEXT):($._insertElement(oe,N.HTML),$.insertionMode=G):J===w.NOFRAMES||J===w.STYLE?$._switchToTextParsing(oe,c.MODE.RAWTEXT):J===w.SCRIPT?$._switchToTextParsing(oe,c.MODE.SCRIPT_DATA):J===w.TEMPLATE?($._insertTemplate(oe,N.HTML),$.activeFormattingElements.insertMarker(),$.framesetOk=!1,$.insertionMode=He,$._pushTmplInsertionMode(He)):J===w.HEAD?$._err(S.misplacedStartTagForHeadElement):At($,oe)}function Ct($,oe){const J=oe.tagName;J===w.HEAD?($.openElements.pop(),$.insertionMode=W):J===w.BODY||J===w.BR||J===w.HTML?At($,oe):J===w.TEMPLATE&&$.openElements.tmplCount>0?($.openElements.generateImpliedEndTagsThoroughly(),$.openElements.currentTagName!==w.TEMPLATE&&$._err(S.closingOfElementWithOpenChildElements),$.openElements.popUntilTagNamePopped(w.TEMPLATE),$.activeFormattingElements.clearToLastMarker(),$._popTmplInsertionMode(),$._resetInsertionMode()):$._err(S.endTagWithoutMatchingOpenElement)}function At($,oe){$.openElements.pop(),$.insertionMode=W,$._processToken(oe)}function Ft($,oe){const J=oe.type===c.EOF_TOKEN?S.openElementsLeftAfterEof:S.disallowedContentInNoscriptInHead;$._err(J),$.openElements.pop(),$.insertionMode=F,$._processToken(oe)}function lr($,oe){$._insertFakeElement(w.BODY),$.insertionMode=Y,$._processToken(oe)}function nr($,oe){$._reconstructActiveFormattingElements(),$._insertCharacters(oe)}function vr($,oe){$._reconstructActiveFormattingElements(),$._insertCharacters(oe),$.framesetOk=!1}function Rr($,oe){$.openElements.hasInButtonScope(w.P)&&$._closePElement(),$._insertElement(oe,N.HTML)}function Lr($,oe){$.openElements.hasInButtonScope(w.P)&&$._closePElement(),$._insertElement(oe,N.HTML),$.skipNextNewLine=!0,$.framesetOk=!1}function ge($,oe){$._reconstructActiveFormattingElements(),$._insertElement(oe,N.HTML),$.activeFormattingElements.pushElement($.openElements.current,oe)}function We($,oe){$._reconstructActiveFormattingElements(),$._insertElement(oe,N.HTML),$.activeFormattingElements.insertMarker(),$.framesetOk=!1}function et($,oe){$._reconstructActiveFormattingElements(),$._appendElement(oe,N.HTML),$.framesetOk=!1,oe.ackSelfClosing=!0}function mt($,oe){$._appendElement(oe,N.HTML),oe.ackSelfClosing=!0}function Rt($,oe){$._switchToTextParsing(oe,c.MODE.RAWTEXT)}function Zt($,oe){$.openElements.currentTagName===w.OPTION&&$.openElements.pop(),$._reconstructActiveFormattingElements(),$._insertElement(oe,N.HTML)}function Bt($,oe){$.openElements.hasInScope(w.RUBY)&&$.openElements.generateImpliedEndTags(),$._insertElement(oe,N.HTML)}function dr($,oe){$._reconstructActiveFormattingElements(),$._insertElement(oe,N.HTML)}function Er($,oe){const J=oe.tagName;switch(J.length){case 1:J===w.I||J===w.S||J===w.B||J===w.U?ge($,oe):J===w.P?Rr($,oe):J===w.A?function(Fe,it){const qt=Fe.activeFormattingElements.getElementEntryInScopeWithTagName(w.A);qt&&(Ye(Fe,it),Fe.openElements.remove(qt.element),Fe.activeFormattingElements.removeEntry(qt)),Fe._reconstructActiveFormattingElements(),Fe._insertElement(it,N.HTML),Fe.activeFormattingElements.pushElement(Fe.openElements.current,it)}($,oe):dr($,oe);break;case 2:J===w.DL||J===w.OL||J===w.UL?Rr($,oe):J===w.H1||J===w.H2||J===w.H3||J===w.H4||J===w.H5||J===w.H6?function(Fe,it){Fe.openElements.hasInButtonScope(w.P)&&Fe._closePElement();const qt=Fe.openElements.currentTagName;qt!==w.H1&&qt!==w.H2&&qt!==w.H3&&qt!==w.H4&&qt!==w.H5&&qt!==w.H6||Fe.openElements.pop(),Fe._insertElement(it,N.HTML)}($,oe):J===w.LI||J===w.DD||J===w.DT?function(Fe,it){Fe.framesetOk=!1;const qt=it.tagName;for(let fn=Fe.openElements.stackTop;fn>=0;fn--){const br=Fe.openElements.items[fn],dt=Fe.treeAdapter.getTagName(br);let ie=null;if(qt===w.LI&&dt===w.LI?ie=w.LI:qt!==w.DD&&qt!==w.DT||dt!==w.DD&&dt!==w.DT||(ie=dt),ie){Fe.openElements.generateImpliedEndTagsWithExclusion(ie),Fe.openElements.popUntilTagNamePopped(ie);break}if(dt!==w.ADDRESS&&dt!==w.DIV&&dt!==w.P&&Fe._isSpecialElement(br))break}Fe.openElements.hasInButtonScope(w.P)&&Fe._closePElement(),Fe._insertElement(it,N.HTML)}($,oe):J===w.EM||J===w.TT?ge($,oe):J===w.BR?et($,oe):J===w.HR?function(Fe,it){Fe.openElements.hasInButtonScope(w.P)&&Fe._closePElement(),Fe._appendElement(it,N.HTML),Fe.framesetOk=!1,it.ackSelfClosing=!0}($,oe):J===w.RB?Bt($,oe):J===w.RT||J===w.RP?function(Fe,it){Fe.openElements.hasInScope(w.RUBY)&&Fe.openElements.generateImpliedEndTagsWithExclusion(w.RTC),Fe._insertElement(it,N.HTML)}($,oe):J!==w.TH&&J!==w.TD&&J!==w.TR&&dr($,oe);break;case 3:J===w.DIV||J===w.DIR||J===w.NAV?Rr($,oe):J===w.PRE?Lr($,oe):J===w.BIG?ge($,oe):J===w.IMG||J===w.WBR?et($,oe):J===w.XMP?function(Fe,it){Fe.openElements.hasInButtonScope(w.P)&&Fe._closePElement(),Fe._reconstructActiveFormattingElements(),Fe.framesetOk=!1,Fe._switchToTextParsing(it,c.MODE.RAWTEXT)}($,oe):J===w.SVG?function(Fe,it){Fe._reconstructActiveFormattingElements(),_.adjustTokenSVGAttrs(it),_.adjustTokenXMLAttrs(it),it.selfClosing?Fe._appendElement(it,N.SVG):Fe._insertElement(it,N.SVG),it.ackSelfClosing=!0}($,oe):J===w.RTC?Bt($,oe):J!==w.COL&&dr($,oe);break;case 4:J===w.HTML?function(Fe,it){Fe.openElements.tmplCount===0&&Fe.treeAdapter.adoptAttributes(Fe.openElements.items[0],it.attrs)}($,oe):J===w.BASE||J===w.LINK||J===w.META?wt($,oe):J===w.BODY?function(Fe,it){const qt=Fe.openElements.tryPeekProperlyNestedBodyElement();qt&&Fe.openElements.tmplCount===0&&(Fe.framesetOk=!1,Fe.treeAdapter.adoptAttributes(qt,it.attrs))}($,oe):J===w.MAIN||J===w.MENU?Rr($,oe):J===w.FORM?function(Fe,it){const qt=Fe.openElements.tmplCount>0;Fe.formElement&&!qt||(Fe.openElements.hasInButtonScope(w.P)&&Fe._closePElement(),Fe._insertElement(it,N.HTML),qt||(Fe.formElement=Fe.openElements.current))}($,oe):J===w.CODE||J===w.FONT?ge($,oe):J===w.NOBR?function(Fe,it){Fe._reconstructActiveFormattingElements(),Fe.openElements.hasInScope(w.NOBR)&&(Ye(Fe,it),Fe._reconstructActiveFormattingElements()),Fe._insertElement(it,N.HTML),Fe.activeFormattingElements.pushElement(Fe.openElements.current,it)}($,oe):J===w.AREA?et($,oe):J===w.MATH?function(Fe,it){Fe._reconstructActiveFormattingElements(),_.adjustTokenMathMLAttrs(it),_.adjustTokenXMLAttrs(it),it.selfClosing?Fe._appendElement(it,N.MATHML):Fe._insertElement(it,N.MATHML),it.ackSelfClosing=!0}($,oe):J===w.MENU?function(Fe,it){Fe.openElements.hasInButtonScope(w.P)&&Fe._closePElement(),Fe._insertElement(it,N.HTML)}($,oe):J!==w.HEAD&&dr($,oe);break;case 5:J===w.STYLE||J===w.TITLE?wt($,oe):J===w.ASIDE?Rr($,oe):J===w.SMALL?ge($,oe):J===w.TABLE?function(Fe,it){Fe.treeAdapter.getDocumentMode(Fe.document)!==C.DOCUMENT_MODE.QUIRKS&&Fe.openElements.hasInButtonScope(w.P)&&Fe._closePElement(),Fe._insertElement(it,N.HTML),Fe.framesetOk=!1,Fe.insertionMode=he}($,oe):J===w.EMBED?et($,oe):J===w.INPUT?function(Fe,it){Fe._reconstructActiveFormattingElements(),Fe._appendElement(it,N.HTML);const qt=c.getTokenAttr(it,A.TYPE);qt&&qt.toLowerCase()===R||(Fe.framesetOk=!1),it.ackSelfClosing=!0}($,oe):J===w.PARAM||J===w.TRACK?mt($,oe):J===w.IMAGE?function(Fe,it){it.tagName=w.IMG,et(Fe,it)}($,oe):J!==w.FRAME&&J!==w.TBODY&&J!==w.TFOOT&&J!==w.THEAD&&dr($,oe);break;case 6:J===w.SCRIPT?wt($,oe):J===w.CENTER||J===w.FIGURE||J===w.FOOTER||J===w.HEADER||J===w.HGROUP||J===w.DIALOG?Rr($,oe):J===w.BUTTON?function(Fe,it){Fe.openElements.hasInScope(w.BUTTON)&&(Fe.openElements.generateImpliedEndTags(),Fe.openElements.popUntilTagNamePopped(w.BUTTON)),Fe._reconstructActiveFormattingElements(),Fe._insertElement(it,N.HTML),Fe.framesetOk=!1}($,oe):J===w.STRIKE||J===w.STRONG?ge($,oe):J===w.APPLET||J===w.OBJECT?We($,oe):J===w.KEYGEN?et($,oe):J===w.SOURCE?mt($,oe):J===w.IFRAME?function(Fe,it){Fe.framesetOk=!1,Fe._switchToTextParsing(it,c.MODE.RAWTEXT)}($,oe):J===w.SELECT?function(Fe,it){Fe._reconstructActiveFormattingElements(),Fe._insertElement(it,N.HTML),Fe.framesetOk=!1,Fe.insertionMode===he||Fe.insertionMode===Z||Fe.insertionMode===ae||Fe.insertionMode===ve||Fe.insertionMode===me?Fe.insertionMode=ke:Fe.insertionMode=Ee}($,oe):J===w.OPTION?Zt($,oe):dr($,oe);break;case 7:J===w.BGSOUND?wt($,oe):J===w.DETAILS||J===w.ADDRESS||J===w.ARTICLE||J===w.SECTION||J===w.SUMMARY?Rr($,oe):J===w.LISTING?Lr($,oe):J===w.MARQUEE?We($,oe):J===w.NOEMBED?Rt($,oe):J!==w.CAPTION&&dr($,oe);break;case 8:J===w.BASEFONT?wt($,oe):J===w.FRAMESET?function(Fe,it){const qt=Fe.openElements.tryPeekProperlyNestedBodyElement();Fe.framesetOk&&qt&&(Fe.treeAdapter.detachNode(qt),Fe.openElements.popAllUpToHtmlElement(),Fe._insertElement(it,N.HTML),Fe.insertionMode=se)}($,oe):J===w.FIELDSET?Rr($,oe):J===w.TEXTAREA?function(Fe,it){Fe._insertElement(it,N.HTML),Fe.skipNextNewLine=!0,Fe.tokenizer.state=c.MODE.RCDATA,Fe.originalInsertionMode=Fe.insertionMode,Fe.framesetOk=!1,Fe.insertionMode=te}($,oe):J===w.TEMPLATE?wt($,oe):J===w.NOSCRIPT?$.options.scriptingEnabled?Rt($,oe):dr($,oe):J===w.OPTGROUP?Zt($,oe):J!==w.COLGROUP&&dr($,oe);break;case 9:J===w.PLAINTEXT?function(Fe,it){Fe.openElements.hasInButtonScope(w.P)&&Fe._closePElement(),Fe._insertElement(it,N.HTML),Fe.tokenizer.state=c.MODE.PLAINTEXT}($,oe):dr($,oe);break;case 10:J===w.BLOCKQUOTE||J===w.FIGCAPTION?Rr($,oe):dr($,oe);break;default:dr($,oe)}}function Or($,oe){const J=oe.tagName;$.openElements.hasInScope(J)&&($.openElements.generateImpliedEndTags(),$.openElements.popUntilTagNamePopped(J))}function Ir($,oe){const J=oe.tagName;$.openElements.hasInScope(J)&&($.openElements.generateImpliedEndTags(),$.openElements.popUntilTagNamePopped(J),$.activeFormattingElements.clearToLastMarker())}function or($,oe){const J=oe.tagName;for(let Fe=$.openElements.stackTop;Fe>0;Fe--){const it=$.openElements.items[Fe];if($.treeAdapter.getTagName(it)===J){$.openElements.generateImpliedEndTagsWithExclusion(J),$.openElements.popUntilElementPopped(it);break}if($._isSpecialElement(it))break}}function Kr($,oe){const J=oe.tagName;switch(J.length){case 1:J===w.A||J===w.B||J===w.I||J===w.S||J===w.U?Ye($,oe):J===w.P?function(Fe){Fe.openElements.hasInButtonScope(w.P)||Fe._insertFakeElement(w.P),Fe._closePElement()}($):or($,oe);break;case 2:J===w.DL||J===w.UL||J===w.OL?Or($,oe):J===w.LI?function(Fe){Fe.openElements.hasInListItemScope(w.LI)&&(Fe.openElements.generateImpliedEndTagsWithExclusion(w.LI),Fe.openElements.popUntilTagNamePopped(w.LI))}($):J===w.DD||J===w.DT?function(Fe,it){const qt=it.tagName;Fe.openElements.hasInScope(qt)&&(Fe.openElements.generateImpliedEndTagsWithExclusion(qt),Fe.openElements.popUntilTagNamePopped(qt))}($,oe):J===w.H1||J===w.H2||J===w.H3||J===w.H4||J===w.H5||J===w.H6?function(Fe){Fe.openElements.hasNumberedHeaderInScope()&&(Fe.openElements.generateImpliedEndTags(),Fe.openElements.popUntilNumberedHeaderPopped())}($):J===w.BR?function(Fe){Fe._reconstructActiveFormattingElements(),Fe._insertFakeElement(w.BR),Fe.openElements.pop(),Fe.framesetOk=!1}($):J===w.EM||J===w.TT?Ye($,oe):or($,oe);break;case 3:J===w.BIG?Ye($,oe):J===w.DIR||J===w.DIV||J===w.NAV||J===w.PRE?Or($,oe):or($,oe);break;case 4:J===w.BODY?function(Fe){Fe.openElements.hasInScope(w.BODY)&&(Fe.insertionMode=Re)}($):J===w.HTML?function(Fe,it){Fe.openElements.hasInScope(w.BODY)&&(Fe.insertionMode=Re,Fe._processToken(it))}($,oe):J===w.FORM?function(Fe){const it=Fe.openElements.tmplCount>0,qt=Fe.formElement;it||(Fe.formElement=null),(qt||it)&&Fe.openElements.hasInScope(w.FORM)&&(Fe.openElements.generateImpliedEndTags(),it?Fe.openElements.popUntilTagNamePopped(w.FORM):Fe.openElements.remove(qt))}($):J===w.CODE||J===w.FONT||J===w.NOBR?Ye($,oe):J===w.MAIN||J===w.MENU?Or($,oe):or($,oe);break;case 5:J===w.ASIDE?Or($,oe):J===w.SMALL?Ye($,oe):or($,oe);break;case 6:J===w.CENTER||J===w.FIGURE||J===w.FOOTER||J===w.HEADER||J===w.HGROUP||J===w.DIALOG?Or($,oe):J===w.APPLET||J===w.OBJECT?Ir($,oe):J===w.STRIKE||J===w.STRONG?Ye($,oe):or($,oe);break;case 7:J===w.ADDRESS||J===w.ARTICLE||J===w.DETAILS||J===w.SECTION||J===w.SUMMARY||J===w.LISTING?Or($,oe):J===w.MARQUEE?Ir($,oe):or($,oe);break;case 8:J===w.FIELDSET?Or($,oe):J===w.TEMPLATE?Ct($,oe):or($,oe);break;case 10:J===w.BLOCKQUOTE||J===w.FIGCAPTION?Or($,oe):or($,oe);break;default:or($,oe)}}function an($,oe){$.tmplInsertionModeStackTop>-1?qr($,oe):$.stopped=!0}function mr($,oe){const J=$.openElements.currentTagName;J===w.TABLE||J===w.TBODY||J===w.TFOOT||J===w.THEAD||J===w.TR?($.pendingCharacterTokens=[],$.hasNonWhitespacePendingCharacterToken=!1,$.originalInsertionMode=$.insertionMode,$.insertionMode=z,$._processToken(oe)):Vr($,oe)}function Xr($,oe){const J=oe.tagName;switch(J.length){case 2:J===w.TD||J===w.TH||J===w.TR?function(Fe,it){Fe.openElements.clearBackToTableContext(),Fe._insertFakeElement(w.TBODY),Fe.insertionMode=ae,Fe._processToken(it)}($,oe):Vr($,oe);break;case 3:J===w.COL?function(Fe,it){Fe.openElements.clearBackToTableContext(),Fe._insertFakeElement(w.COLGROUP),Fe.insertionMode=X,Fe._processToken(it)}($,oe):Vr($,oe);break;case 4:J===w.FORM?function(Fe,it){Fe.formElement||Fe.openElements.tmplCount!==0||(Fe._insertElement(it,N.HTML),Fe.formElement=Fe.openElements.current,Fe.openElements.pop())}($,oe):Vr($,oe);break;case 5:J===w.TABLE?function(Fe,it){Fe.openElements.hasInTableScope(w.TABLE)&&(Fe.openElements.popUntilTagNamePopped(w.TABLE),Fe._resetInsertionMode(),Fe._processToken(it))}($,oe):J===w.STYLE?wt($,oe):J===w.TBODY||J===w.TFOOT||J===w.THEAD?function(Fe,it){Fe.openElements.clearBackToTableContext(),Fe._insertElement(it,N.HTML),Fe.insertionMode=ae}($,oe):J===w.INPUT?function(Fe,it){const qt=c.getTokenAttr(it,A.TYPE);qt&&qt.toLowerCase()===R?Fe._appendElement(it,N.HTML):Vr(Fe,it),it.ackSelfClosing=!0}($,oe):Vr($,oe);break;case 6:J===w.SCRIPT?wt($,oe):Vr($,oe);break;case 7:J===w.CAPTION?function(Fe,it){Fe.openElements.clearBackToTableContext(),Fe.activeFormattingElements.insertMarker(),Fe._insertElement(it,N.HTML),Fe.insertionMode=Z}($,oe):Vr($,oe);break;case 8:J===w.COLGROUP?function(Fe,it){Fe.openElements.clearBackToTableContext(),Fe._insertElement(it,N.HTML),Fe.insertionMode=X}($,oe):J===w.TEMPLATE?wt($,oe):Vr($,oe);break;default:Vr($,oe)}}function gr($,oe){const J=oe.tagName;J===w.TABLE?$.openElements.hasInTableScope(w.TABLE)&&($.openElements.popUntilTagNamePopped(w.TABLE),$._resetInsertionMode()):J===w.TEMPLATE?Ct($,oe):J!==w.BODY&&J!==w.CAPTION&&J!==w.COL&&J!==w.COLGROUP&&J!==w.HTML&&J!==w.TBODY&&J!==w.TD&&J!==w.TFOOT&&J!==w.TH&&J!==w.THEAD&&J!==w.TR&&Vr($,oe)}function Vr($,oe){const J=$.fosterParentingEnabled;$.fosterParentingEnabled=!0,$._processTokenInBodyMode(oe),$.fosterParentingEnabled=J}function er($,oe){let J=0;if($.hasNonWhitespacePendingCharacterToken)for(;J<$.pendingCharacterTokens.length;J++)Vr($,$.pendingCharacterTokens[J]);else for(;J<$.pendingCharacterTokens.length;J++)$._insertCharacters($.pendingCharacterTokens[J]);$.insertionMode=$.originalInsertionMode,$._processToken(oe)}function sn($,oe){$.openElements.currentTagName===w.COLGROUP&&($.openElements.pop(),$.insertionMode=he,$._processToken(oe))}function xr($,oe){const J=oe.tagName;J===w.HTML?Er($,oe):J===w.OPTION?($.openElements.currentTagName===w.OPTION&&$.openElements.pop(),$._insertElement(oe,N.HTML)):J===w.OPTGROUP?($.openElements.currentTagName===w.OPTION&&$.openElements.pop(),$.openElements.currentTagName===w.OPTGROUP&&$.openElements.pop(),$._insertElement(oe,N.HTML)):J===w.INPUT||J===w.KEYGEN||J===w.TEXTAREA||J===w.SELECT?$.openElements.hasInSelectScope(w.SELECT)&&($.openElements.popUntilTagNamePopped(w.SELECT),$._resetInsertionMode(),J!==w.SELECT&&$._processToken(oe)):J!==w.SCRIPT&&J!==w.TEMPLATE||wt($,oe)}function ln($,oe){const J=oe.tagName;if(J===w.OPTGROUP){const Fe=$.openElements.items[$.openElements.stackTop-1],it=Fe&&$.treeAdapter.getTagName(Fe);$.openElements.currentTagName===w.OPTION&&it===w.OPTGROUP&&$.openElements.pop(),$.openElements.currentTagName===w.OPTGROUP&&$.openElements.pop()}else J===w.OPTION?$.openElements.currentTagName===w.OPTION&&$.openElements.pop():J===w.SELECT&&$.openElements.hasInSelectScope(w.SELECT)?($.openElements.popUntilTagNamePopped(w.SELECT),$._resetInsertionMode()):J===w.TEMPLATE&&Ct($,oe)}function qr($,oe){$.openElements.tmplCount>0?($.openElements.popUntilTagNamePopped(w.TEMPLATE),$.activeFormattingElements.clearToLastMarker(),$._popTmplInsertionMode(),$._resetInsertionMode(),$._processToken(oe)):$.stopped=!0}function un($,oe){$.insertionMode=Y,$._processToken(oe)}function wr($,oe){$.insertionMode=Y,$._processToken(oe)}a.exports=class{constructor($){this.options=x(j,$),this.treeAdapter=this.options.treeAdapter,this.pendingScript=null,this.options.sourceCodeLocationInfo&&m.install(this,h),this.options.onParseError&&m.install(this,d,{onParseError:this.options.onParseError})}parse($){const oe=this.treeAdapter.createDocument();return this._bootstrap(oe,null),this.tokenizer.write($,!0),this._runParsingLoop(null),oe}parseFragment($,oe){oe||(oe=this.treeAdapter.createElement(w.TEMPLATE,N.HTML,[]));const J=this.treeAdapter.createElement("documentmock",N.HTML,[]);this._bootstrap(J,oe),this.treeAdapter.getTagName(oe)===w.TEMPLATE&&this._pushTmplInsertionMode(He),this._initTokenizerForFragmentParsing(),this._insertFakeRootElement(),this._resetInsertionMode(),this._findFormInFragmentContext(),this.tokenizer.write($,!0),this._runParsingLoop(null);const Fe=this.treeAdapter.getFirstChild(J),it=this.treeAdapter.createDocumentFragment();return this._adoptNodes(Fe,it),it}_bootstrap($,oe){this.tokenizer=new c(this.options),this.stopped=!1,this.insertionMode=I,this.originalInsertionMode="",this.document=$,this.fragmentContext=oe,this.headElement=null,this.formElement=null,this.openElements=new u(this.document,this.treeAdapter),this.activeFormattingElements=new f(this.treeAdapter),this.tmplInsertionModeStack=[],this.tmplInsertionModeStackTop=-1,this.currentTmplInsertionMode=null,this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1}_err(){}_runParsingLoop($){for(;!this.stopped;){this._setupTokenizerCDATAMode();const oe=this.tokenizer.getNextToken();if(oe.type===c.HIBERNATION_TOKEN)break;if(this.skipNextNewLine&&(this.skipNextNewLine=!1,oe.type===c.WHITESPACE_CHARACTER_TOKEN&&oe.chars[0]===`
`)){if(oe.chars.length===1)continue;oe.chars=oe.chars.substr(1)}if(this._processInputToken(oe),$&&this.pendingScript)break}}runParsingLoopForCurrentChunk($,oe){if(this._runParsingLoop(oe),oe&&this.pendingScript){const J=this.pendingScript;return this.pendingScript=null,void oe(J)}$&&$()}_setupTokenizerCDATAMode(){const $=this._getAdjustedCurrentElement();this.tokenizer.allowCDATA=$&&$!==this.document&&this.treeAdapter.getNamespaceURI($)!==N.HTML&&!this._isIntegrationPoint($)}_switchToTextParsing($,oe){this._insertElement($,N.HTML),this.tokenizer.state=oe,this.originalInsertionMode=this.insertionMode,this.insertionMode=te}switchToPlaintextParsing(){this.insertionMode=te,this.originalInsertionMode=Y,this.tokenizer.state=c.MODE.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let $=this.fragmentContext;do{if(this.treeAdapter.getTagName($)===w.FORM){this.formElement=$;break}$=this.treeAdapter.getParentNode($)}while($)}_initTokenizerForFragmentParsing(){if(this.treeAdapter.getNamespaceURI(this.fragmentContext)===N.HTML){const $=this.treeAdapter.getTagName(this.fragmentContext);$===w.TITLE||$===w.TEXTAREA?this.tokenizer.state=c.MODE.RCDATA:$===w.STYLE||$===w.XMP||$===w.IFRAME||$===w.NOEMBED||$===w.NOFRAMES||$===w.NOSCRIPT?this.tokenizer.state=c.MODE.RAWTEXT:$===w.SCRIPT?this.tokenizer.state=c.MODE.SCRIPT_DATA:$===w.PLAINTEXT&&(this.tokenizer.state=c.MODE.PLAINTEXT)}}_setDocumentType($){const oe=$.name||"",J=$.publicId||"",Fe=$.systemId||"";this.treeAdapter.setDocumentType(this.document,oe,J,Fe)}_attachElementToTree($){if(this._shouldFosterParentOnInsertion())this._fosterParentElement($);else{const oe=this.openElements.currentTmplContent||this.openElements.current;this.treeAdapter.appendChild(oe,$)}}_appendElement($,oe){const J=this.treeAdapter.createElement($.tagName,oe,$.attrs);this._attachElementToTree(J)}_insertElement($,oe){const J=this.treeAdapter.createElement($.tagName,oe,$.attrs);this._attachElementToTree(J),this.openElements.push(J)}_insertFakeElement($){const oe=this.treeAdapter.createElement($,N.HTML,[]);this._attachElementToTree(oe),this.openElements.push(oe)}_insertTemplate($){const oe=this.treeAdapter.createElement($.tagName,N.HTML,$.attrs),J=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(oe,J),this._attachElementToTree(oe),this.openElements.push(oe)}_insertFakeRootElement(){const $=this.treeAdapter.createElement(w.HTML,N.HTML,[]);this.treeAdapter.appendChild(this.openElements.current,$),this.openElements.push($)}_appendCommentNode($,oe){const J=this.treeAdapter.createCommentNode($.data);this.treeAdapter.appendChild(oe,J)}_insertCharacters($){if(this._shouldFosterParentOnInsertion())this._fosterParentText($.chars);else{const oe=this.openElements.currentTmplContent||this.openElements.current;this.treeAdapter.insertText(oe,$.chars)}}_adoptNodes($,oe){for(let J=this.treeAdapter.getFirstChild($);J;J=this.treeAdapter.getFirstChild($))this.treeAdapter.detachNode(J),this.treeAdapter.appendChild(oe,J)}_shouldProcessTokenInForeignContent($){const oe=this._getAdjustedCurrentElement();if(!oe||oe===this.document)return!1;const J=this.treeAdapter.getNamespaceURI(oe);if(J===N.HTML||this.treeAdapter.getTagName(oe)===w.ANNOTATION_XML&&J===N.MATHML&&$.type===c.START_TAG_TOKEN&&$.tagName===w.SVG)return!1;const Fe=$.type===c.CHARACTER_TOKEN||$.type===c.NULL_CHARACTER_TOKEN||$.type===c.WHITESPACE_CHARACTER_TOKEN;return(!($.type===c.START_TAG_TOKEN&&$.tagName!==w.MGLYPH&&$.tagName!==w.MALIGNMARK)&&!Fe||!this._isIntegrationPoint(oe,N.MATHML))&&($.type!==c.START_TAG_TOKEN&&!Fe||!this._isIntegrationPoint(oe,N.HTML))&&$.type!==c.EOF_TOKEN}_processToken($){Q[this.insertionMode][$.type](this,$)}_processTokenInBodyMode($){Q[Y][$.type](this,$)}_processTokenInForeignContent($){$.type===c.CHARACTER_TOKEN?function(oe,J){oe._insertCharacters(J),oe.framesetOk=!1}(this,$):$.type===c.NULL_CHARACTER_TOKEN?function(oe,J){J.chars=T.REPLACEMENT_CHARACTER,oe._insertCharacters(J)}(this,$):$.type===c.WHITESPACE_CHARACTER_TOKEN?fe(this,$):$.type===c.COMMENT_TOKEN?kt(this,$):$.type===c.START_TAG_TOKEN?function(oe,J){if(_.causesExit(J)&&!oe.fragmentContext){for(;oe.treeAdapter.getNamespaceURI(oe.openElements.current)!==N.HTML&&!oe._isIntegrationPoint(oe.openElements.current);)oe.openElements.pop();oe._processToken(J)}else{const Fe=oe._getAdjustedCurrentElement(),it=oe.treeAdapter.getNamespaceURI(Fe);it===N.MATHML?_.adjustTokenMathMLAttrs(J):it===N.SVG&&(_.adjustTokenSVGTagName(J),_.adjustTokenSVGAttrs(J)),_.adjustTokenXMLAttrs(J),J.selfClosing?oe._appendElement(J,it):oe._insertElement(J,it),J.ackSelfClosing=!0}}(this,$):$.type===c.END_TAG_TOKEN&&function(oe,J){for(let Fe=oe.openElements.stackTop;Fe>0;Fe--){const it=oe.openElements.items[Fe];if(oe.treeAdapter.getNamespaceURI(it)===N.HTML){oe._processToken(J);break}if(oe.treeAdapter.getTagName(it).toLowerCase()===J.tagName){oe.openElements.popUntilElementPopped(it);break}}}(this,$)}_processInputToken($){this._shouldProcessTokenInForeignContent($)?this._processTokenInForeignContent($):this._processToken($),$.type===c.START_TAG_TOKEN&&$.selfClosing&&!$.ackSelfClosing&&this._err(S.nonVoidHtmlElementStartTagWithTrailingSolidus)}_isIntegrationPoint($,oe){const J=this.treeAdapter.getTagName($),Fe=this.treeAdapter.getNamespaceURI($),it=this.treeAdapter.getAttrList($);return _.isIntegrationPoint(J,Fe,it,oe)}_reconstructActiveFormattingElements(){const $=this.activeFormattingElements.length;if($){let oe=$,J=null;do if(oe--,J=this.activeFormattingElements.entries[oe],J.type===f.MARKER_ENTRY||this.openElements.contains(J.element)){oe++;break}while(oe>0);for(let Fe=oe;Fe<$;Fe++)J=this.activeFormattingElements.entries[Fe],this._insertElement(J.token,this.treeAdapter.getNamespaceURI(J.element)),J.element=this.openElements.current}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=ve}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(w.P),this.openElements.popUntilTagNamePopped(w.P)}_resetInsertionMode(){for(let $=this.openElements.stackTop,oe=!1;$>=0;$--){let J=this.openElements.items[$];$===0&&(oe=!0,this.fragmentContext&&(J=this.fragmentContext));const Fe=this.treeAdapter.getTagName(J),it=Te[Fe];if(it){this.insertionMode=it;break}if(!(oe||Fe!==w.TD&&Fe!==w.TH)){this.insertionMode=me;break}if(!oe&&Fe===w.HEAD){this.insertionMode=F;break}if(Fe===w.SELECT){this._resetInsertionModeForSelect($);break}if(Fe===w.TEMPLATE){this.insertionMode=this.currentTmplInsertionMode;break}if(Fe===w.HTML){this.insertionMode=this.headElement?W:V;break}if(oe){this.insertionMode=Y;break}}}_resetInsertionModeForSelect($){if($>0)for(let oe=$-1;oe>0;oe--){const J=this.openElements.items[oe],Fe=this.treeAdapter.getTagName(J);if(Fe===w.TEMPLATE)break;if(Fe===w.TABLE)return void(this.insertionMode=ke)}this.insertionMode=Ee}_pushTmplInsertionMode($){this.tmplInsertionModeStack.push($),this.tmplInsertionModeStackTop++,this.currentTmplInsertionMode=$}_popTmplInsertionMode(){this.tmplInsertionModeStack.pop(),this.tmplInsertionModeStackTop--,this.currentTmplInsertionMode=this.tmplInsertionModeStack[this.tmplInsertionModeStackTop]}_isElementCausesFosterParenting($){const oe=this.treeAdapter.getTagName($);return oe===w.TABLE||oe===w.TBODY||oe===w.TFOOT||oe===w.THEAD||oe===w.TR}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.current)}_findFosterParentingLocation(){const $={parent:null,beforeElement:null};for(let oe=this.openElements.stackTop;oe>=0;oe--){const J=this.openElements.items[oe],Fe=this.treeAdapter.getTagName(J),it=this.treeAdapter.getNamespaceURI(J);if(Fe===w.TEMPLATE&&it===N.HTML){$.parent=this.treeAdapter.getTemplateContent(J);break}if(Fe===w.TABLE){$.parent=this.treeAdapter.getParentNode(J),$.parent?$.beforeElement=J:$.parent=this.openElements.items[oe-1];break}}return $.parent||($.parent=this.openElements.items[0]),$}_fosterParentElement($){const oe=this._findFosterParentingLocation();oe.beforeElement?this.treeAdapter.insertBefore(oe.parent,$,oe.beforeElement):this.treeAdapter.appendChild(oe.parent,$)}_fosterParentText($){const oe=this._findFosterParentingLocation();oe.beforeElement?this.treeAdapter.insertTextBefore(oe.parent,$,oe.beforeElement):this.treeAdapter.insertText(oe.parent,$)}_isSpecialElement($){const oe=this.treeAdapter.getTagName($),J=this.treeAdapter.getNamespaceURI($);return C.SPECIAL_ELEMENTS[J][oe]}}},6519:(a,s,l)=>{const c=l(6152),u=c.TAG_NAMES,f=c.NAMESPACES;function h(g){switch(g.length){case 1:return g===u.P;case 2:return g===u.RB||g===u.RP||g===u.RT||g===u.DD||g===u.DT||g===u.LI;case 3:return g===u.RTC;case 6:return g===u.OPTION;case 8:return g===u.OPTGROUP}return!1}function d(g){switch(g.length){case 1:return g===u.P;case 2:return g===u.RB||g===u.RP||g===u.RT||g===u.DD||g===u.DT||g===u.LI||g===u.TD||g===u.TH||g===u.TR;case 3:return g===u.RTC;case 5:return g===u.TBODY||g===u.TFOOT||g===u.THEAD;case 6:return g===u.OPTION;case 7:return g===u.CAPTION;case 8:return g===u.OPTGROUP||g===u.COLGROUP}return!1}function m(g,x){switch(g.length){case 2:if(g===u.TD||g===u.TH)return x===f.HTML;if(g===u.MI||g===u.MO||g===u.MN||g===u.MS)return x===f.MATHML;break;case 4:if(g===u.HTML)return x===f.HTML;if(g===u.DESC)return x===f.SVG;break;case 5:if(g===u.TABLE)return x===f.HTML;if(g===u.MTEXT)return x===f.MATHML;if(g===u.TITLE)return x===f.SVG;break;case 6:return(g===u.APPLET||g===u.OBJECT)&&x===f.HTML;case 7:return(g===u.CAPTION||g===u.MARQUEE)&&x===f.HTML;case 8:return g===u.TEMPLATE&&x===f.HTML;case 13:return g===u.FOREIGN_OBJECT&&x===f.SVG;case 14:return g===u.ANNOTATION_XML&&x===f.MATHML}return!1}a.exports=class{constructor(g,x){this.stackTop=-1,this.items=[],this.current=g,this.currentTagName=null,this.currentTmplContent=null,this.tmplCount=0,this.treeAdapter=x}_indexOf(g){let x=-1;for(let b=this.stackTop;b>=0;b--)if(this.items[b]===g){x=b;break}return x}_isInTemplate(){return this.currentTagName===u.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===f.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagName=this.current&&this.treeAdapter.getTagName(this.current),this.currentTmplContent=this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):null}push(g){this.items[++this.stackTop]=g,this._updateCurrentElement(),this._isInTemplate()&&this.tmplCount++}pop(){this.stackTop--,this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this._updateCurrentElement()}replace(g,x){const b=this._indexOf(g);this.items[b]=x,b===this.stackTop&&this._updateCurrentElement()}insertAfter(g,x){const b=this._indexOf(g)+1;this.items.splice(b,0,x),b===++this.stackTop&&this._updateCurrentElement()}popUntilTagNamePopped(g){for(;this.stackTop>-1;){const x=this.currentTagName,b=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),x===g&&b===f.HTML)break}}popUntilElementPopped(g){for(;this.stackTop>-1;){const x=this.current;if(this.pop(),x===g)break}}popUntilNumberedHeaderPopped(){for(;this.stackTop>-1;){const g=this.currentTagName,x=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),g===u.H1||g===u.H2||g===u.H3||g===u.H4||g===u.H5||g===u.H6&&x===f.HTML)break}}popUntilTableCellPopped(){for(;this.stackTop>-1;){const g=this.currentTagName,x=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),g===u.TD||g===u.TH&&x===f.HTML)break}}popAllUpToHtmlElement(){this.stackTop=0,this._updateCurrentElement()}clearBackToTableContext(){for(;this.currentTagName!==u.TABLE&&this.currentTagName!==u.TEMPLATE&&this.currentTagName!==u.HTML||this.treeAdapter.getNamespaceURI(this.current)!==f.HTML;)this.pop()}clearBackToTableBodyContext(){for(;this.currentTagName!==u.TBODY&&this.currentTagName!==u.TFOOT&&this.currentTagName!==u.THEAD&&this.currentTagName!==u.TEMPLATE&&this.currentTagName!==u.HTML||this.treeAdapter.getNamespaceURI(this.current)!==f.HTML;)this.pop()}clearBackToTableRowContext(){for(;this.currentTagName!==u.TR&&this.currentTagName!==u.TEMPLATE&&this.currentTagName!==u.HTML||this.treeAdapter.getNamespaceURI(this.current)!==f.HTML;)this.pop()}remove(g){for(let x=this.stackTop;x>=0;x--)if(this.items[x]===g){this.items.splice(x,1),this.stackTop--,this._updateCurrentElement();break}}tryPeekProperlyNestedBodyElement(){const g=this.items[1];return g&&this.treeAdapter.getTagName(g)===u.BODY?g:null}contains(g){return this._indexOf(g)>-1}getCommonAncestor(g){let x=this._indexOf(g);return--x>=0?this.items[x]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.currentTagName===u.HTML}hasInScope(g){for(let x=this.stackTop;x>=0;x--){const b=this.treeAdapter.getTagName(this.items[x]),_=this.treeAdapter.getNamespaceURI(this.items[x]);if(b===g&&_===f.HTML)return!0;if(m(b,_))return!1}return!0}hasNumberedHeaderInScope(){for(let g=this.stackTop;g>=0;g--){const x=this.treeAdapter.getTagName(this.items[g]),b=this.treeAdapter.getNamespaceURI(this.items[g]);if((x===u.H1||x===u.H2||x===u.H3||x===u.H4||x===u.H5||x===u.H6)&&b===f.HTML)return!0;if(m(x,b))return!1}return!0}hasInListItemScope(g){for(let x=this.stackTop;x>=0;x--){const b=this.treeAdapter.getTagName(this.items[x]),_=this.treeAdapter.getNamespaceURI(this.items[x]);if(b===g&&_===f.HTML)return!0;if((b===u.UL||b===u.OL)&&_===f.HTML||m(b,_))return!1}return!0}hasInButtonScope(g){for(let x=this.stackTop;x>=0;x--){const b=this.treeAdapter.getTagName(this.items[x]),_=this.treeAdapter.getNamespaceURI(this.items[x]);if(b===g&&_===f.HTML)return!0;if(b===u.BUTTON&&_===f.HTML||m(b,_))return!1}return!0}hasInTableScope(g){for(let x=this.stackTop;x>=0;x--){const b=this.treeAdapter.getTagName(this.items[x]);if(this.treeAdapter.getNamespaceURI(this.items[x])===f.HTML){if(b===g)return!0;if(b===u.TABLE||b===u.TEMPLATE||b===u.HTML)return!1}}return!0}hasTableBodyContextInTableScope(){for(let g=this.stackTop;g>=0;g--){const x=this.treeAdapter.getTagName(this.items[g]);if(this.treeAdapter.getNamespaceURI(this.items[g])===f.HTML){if(x===u.TBODY||x===u.THEAD||x===u.TFOOT)return!0;if(x===u.TABLE||x===u.HTML)return!1}}return!0}hasInSelectScope(g){for(let x=this.stackTop;x>=0;x--){const b=this.treeAdapter.getTagName(this.items[x]);if(this.treeAdapter.getNamespaceURI(this.items[x])===f.HTML){if(b===g)return!0;if(b!==u.OPTION&&b!==u.OPTGROUP)return!1}}return!0}generateImpliedEndTags(){for(;h(this.currentTagName);)this.pop()}generateImpliedEndTagsThoroughly(){for(;d(this.currentTagName);)this.pop()}generateImpliedEndTagsWithExclusion(g){for(;h(this.currentTagName)&&this.currentTagName!==g;)this.pop()}}},3988:(a,s,l)=>{const c=l(7296),u=l(8904),f=l(1515),h=l(6152),d=h.TAG_NAMES,m=h.NAMESPACES,g={treeAdapter:c},x=/&/g,b=/\u00a0/g,_=/"/g,S=/</g,T=/>/g;class C{constructor(N,A){this.options=u(g,A),this.treeAdapter=this.options.treeAdapter,this.html="",this.startNode=N}serialize(){return this._serializeChildNodes(this.startNode),this.html}_serializeChildNodes(N){const A=this.treeAdapter.getChildNodes(N);if(A)for(let j=0,R=A.length;j<R;j++){const L=A[j];this.treeAdapter.isElementNode(L)?this._serializeElement(L):this.treeAdapter.isTextNode(L)?this._serializeTextNode(L):this.treeAdapter.isCommentNode(L)?this._serializeCommentNode(L):this.treeAdapter.isDocumentTypeNode(L)&&this._serializeDocumentTypeNode(L)}}_serializeElement(N){const A=this.treeAdapter.getTagName(N),j=this.treeAdapter.getNamespaceURI(N);if(this.html+="<"+A,this._serializeAttributes(N),this.html+=">",A!==d.AREA&&A!==d.BASE&&A!==d.BASEFONT&&A!==d.BGSOUND&&A!==d.BR&&A!==d.COL&&A!==d.EMBED&&A!==d.FRAME&&A!==d.HR&&A!==d.IMG&&A!==d.INPUT&&A!==d.KEYGEN&&A!==d.LINK&&A!==d.META&&A!==d.PARAM&&A!==d.SOURCE&&A!==d.TRACK&&A!==d.WBR){const R=A===d.TEMPLATE&&j===m.HTML?this.treeAdapter.getTemplateContent(N):N;this._serializeChildNodes(R),this.html+="</"+A+">"}}_serializeAttributes(N){const A=this.treeAdapter.getAttrList(N);for(let j=0,R=A.length;j<R;j++){const L=A[j],M=C.escapeString(L.value,!0);this.html+=" ",L.namespace?L.namespace===m.XML?this.html+="xml:"+L.name:L.namespace===m.XMLNS?(L.name!=="xmlns"&&(this.html+="xmlns:"),this.html+=L.name):L.namespace===m.XLINK?this.html+="xlink:"+L.name:this.html+=L.prefix+":"+L.name:this.html+=L.name,this.html+='="'+M+'"'}}_serializeTextNode(N){const A=this.treeAdapter.getTextNodeContent(N),j=this.treeAdapter.getParentNode(N);let R;j&&this.treeAdapter.isElementNode(j)&&(R=this.treeAdapter.getTagName(j)),R===d.STYLE||R===d.SCRIPT||R===d.XMP||R===d.IFRAME||R===d.NOEMBED||R===d.NOFRAMES||R===d.PLAINTEXT||R===d.NOSCRIPT?this.html+=A:this.html+=C.escapeString(A,!1)}_serializeCommentNode(N){this.html+="<!--"+this.treeAdapter.getCommentNodeContent(N)+"-->"}_serializeDocumentTypeNode(N){const A=this.treeAdapter.getDocumentTypeNodeName(N);this.html+="<"+f.serializeContent(A,null,null)+">"}}C.escapeString=function(w,N){return w=w.replace(x,"&amp;").replace(b,"&nbsp;"),w=N?w.replace(_,"&quot;"):w.replace(S,"&lt;").replace(T,"&gt;")},a.exports=C},5763:(a,s,l)=>{const c=l(7118),u=l(4284),f=l(5482),h=l(1734),d=u.CODE_POINTS,m=u.CODE_POINT_SEQUENCES,g={128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376},x=1,b=2,_=4,S=x|b|_,T="DATA_STATE",C="RCDATA_STATE",w="RAWTEXT_STATE",N="SCRIPT_DATA_STATE",A="PLAINTEXT_STATE",j="TAG_OPEN_STATE",R="END_TAG_OPEN_STATE",L="TAG_NAME_STATE",M="RCDATA_LESS_THAN_SIGN_STATE",I="RCDATA_END_TAG_OPEN_STATE",D="RCDATA_END_TAG_NAME_STATE",V="RAWTEXT_LESS_THAN_SIGN_STATE",F="RAWTEXT_END_TAG_OPEN_STATE",G="RAWTEXT_END_TAG_NAME_STATE",W="SCRIPT_DATA_LESS_THAN_SIGN_STATE",Y="SCRIPT_DATA_END_TAG_OPEN_STATE",te="SCRIPT_DATA_END_TAG_NAME_STATE",he="SCRIPT_DATA_ESCAPE_START_STATE",z="SCRIPT_DATA_ESCAPE_START_DASH_STATE",Z="SCRIPT_DATA_ESCAPED_STATE",X="SCRIPT_DATA_ESCAPED_DASH_STATE",ae="SCRIPT_DATA_ESCAPED_DASH_DASH_STATE",ve="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN_STATE",me="SCRIPT_DATA_ESCAPED_END_TAG_OPEN_STATE",Ee="SCRIPT_DATA_ESCAPED_END_TAG_NAME_STATE",ke="SCRIPT_DATA_DOUBLE_ESCAPE_START_STATE",He="SCRIPT_DATA_DOUBLE_ESCAPED_STATE",Re="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_STATE",se="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH_STATE",ce="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN_STATE",$e="SCRIPT_DATA_DOUBLE_ESCAPE_END_STATE",Ue="BEFORE_ATTRIBUTE_NAME_STATE",Te="ATTRIBUTE_NAME_STATE",ft="AFTER_ATTRIBUTE_NAME_STATE",Q="BEFORE_ATTRIBUTE_VALUE_STATE",de="ATTRIBUTE_VALUE_DOUBLE_QUOTED_STATE",Ce="ATTRIBUTE_VALUE_SINGLE_QUOTED_STATE",De="ATTRIBUTE_VALUE_UNQUOTED_STATE",Ke="AFTER_ATTRIBUTE_VALUE_QUOTED_STATE",je="SELF_CLOSING_START_TAG_STATE",Ze="BOGUS_COMMENT_STATE",Ye="MARKUP_DECLARATION_OPEN_STATE",bt="COMMENT_START_STATE",Ut="COMMENT_START_DASH_STATE",kt="COMMENT_STATE",Oe="COMMENT_LESS_THAN_SIGN_STATE",fe="COMMENT_LESS_THAN_SIGN_BANG_STATE",ee="COMMENT_LESS_THAN_SIGN_BANG_DASH_STATE",tt="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH_STATE",Ie="COMMENT_END_DASH_STATE",gt="COMMENT_END_STATE",wt="COMMENT_END_BANG_STATE",Ct="DOCTYPE_STATE",At="BEFORE_DOCTYPE_NAME_STATE",Ft="DOCTYPE_NAME_STATE",lr="AFTER_DOCTYPE_NAME_STATE",nr="AFTER_DOCTYPE_PUBLIC_KEYWORD_STATE",vr="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER_STATE",Rr="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED_STATE",Lr="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED_STATE",ge="AFTER_DOCTYPE_PUBLIC_IDENTIFIER_STATE",We="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS_STATE",et="AFTER_DOCTYPE_SYSTEM_KEYWORD_STATE",mt="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER_STATE",Rt="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED_STATE",Zt="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED_STATE",Bt="AFTER_DOCTYPE_SYSTEM_IDENTIFIER_STATE",dr="BOGUS_DOCTYPE_STATE",Er="CDATA_SECTION_STATE",Or="CDATA_SECTION_BRACKET_STATE",Ir="CDATA_SECTION_END_STATE",or="CHARACTER_REFERENCE_STATE",Kr="NAMED_CHARACTER_REFERENCE_STATE",an="AMBIGUOS_AMPERSAND_STATE",mr="NUMERIC_CHARACTER_REFERENCE_STATE",Xr="HEXADEMICAL_CHARACTER_REFERENCE_START_STATE",gr="DECIMAL_CHARACTER_REFERENCE_START_STATE",Vr="HEXADEMICAL_CHARACTER_REFERENCE_STATE",er="DECIMAL_CHARACTER_REFERENCE_STATE",sn="NUMERIC_CHARACTER_REFERENCE_END_STATE";function xr(dt){return dt===d.SPACE||dt===d.LINE_FEED||dt===d.TABULATION||dt===d.FORM_FEED}function ln(dt){return dt>=d.DIGIT_0&&dt<=d.DIGIT_9}function qr(dt){return dt>=d.LATIN_CAPITAL_A&&dt<=d.LATIN_CAPITAL_Z}function un(dt){return dt>=d.LATIN_SMALL_A&&dt<=d.LATIN_SMALL_Z}function wr(dt){return un(dt)||qr(dt)}function $(dt){return wr(dt)||ln(dt)}function oe(dt){return dt>=d.LATIN_CAPITAL_A&&dt<=d.LATIN_CAPITAL_F}function J(dt){return dt>=d.LATIN_SMALL_A&&dt<=d.LATIN_SMALL_F}function Fe(dt){return dt+32}function it(dt){return dt<=65535?String.fromCharCode(dt):(dt-=65536,String.fromCharCode(dt>>>10&1023|55296)+String.fromCharCode(56320|1023&dt))}function qt(dt){return String.fromCharCode(Fe(dt))}function fn(dt,ie){const Nr=f[++dt];let _e=++dt,ze=_e+Nr-1;for(;_e<=ze;){const ht=_e+ze>>>1,Nt=f[ht];if(Nt<ie)_e=ht+1;else{if(!(Nt>ie))return f[ht+Nr];ze=ht-1}}return-1}class br{constructor(){this.preprocessor=new c,this.tokenQueue=[],this.allowCDATA=!1,this.state=T,this.returnState="",this.charRefCode=-1,this.tempBuff=[],this.lastStartTagName="",this.consumedAfterSnapshot=-1,this.active=!1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr=null}_err(){}_errOnNextCodePoint(ie){this._consume(),this._err(ie),this._unconsume()}getNextToken(){for(;!this.tokenQueue.length&&this.active;){this.consumedAfterSnapshot=0;const ie=this._consume();this._ensureHibernation()||this[this.state](ie)}return this.tokenQueue.shift()}write(ie,Nr){this.active=!0,this.preprocessor.write(ie,Nr)}insertHtmlAtCurrentPos(ie){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(ie)}_ensureHibernation(){if(this.preprocessor.endOfChunkHit){for(;this.consumedAfterSnapshot>0;this.consumedAfterSnapshot--)this.preprocessor.retreat();return this.active=!1,this.tokenQueue.push({type:br.HIBERNATION_TOKEN}),!0}return!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_unconsume(){this.consumedAfterSnapshot--,this.preprocessor.retreat()}_reconsumeInState(ie){this.state=ie,this._unconsume()}_consumeSequenceIfMatch(ie,Nr,_e){let ze=0,ht=!0;const Nt=ie.length;let It,Pr=0,Dr=Nr;for(;Pr<Nt;Pr++){if(Pr>0&&(Dr=this._consume(),ze++),Dr===d.EOF){ht=!1;break}if(It=ie[Pr],Dr!==It&&(_e||Dr!==Fe(It))){ht=!1;break}}if(!ht)for(;ze--;)this._unconsume();return ht}_isTempBufferEqualToScriptString(){if(this.tempBuff.length!==m.SCRIPT_STRING.length)return!1;for(let ie=0;ie<this.tempBuff.length;ie++)if(this.tempBuff[ie]!==m.SCRIPT_STRING[ie])return!1;return!0}_createStartTagToken(){this.currentToken={type:br.START_TAG_TOKEN,tagName:"",selfClosing:!1,ackSelfClosing:!1,attrs:[]}}_createEndTagToken(){this.currentToken={type:br.END_TAG_TOKEN,tagName:"",selfClosing:!1,attrs:[]}}_createCommentToken(){this.currentToken={type:br.COMMENT_TOKEN,data:""}}_createDoctypeToken(ie){this.currentToken={type:br.DOCTYPE_TOKEN,name:ie,forceQuirks:!1,publicId:null,systemId:null}}_createCharacterToken(ie,Nr){this.currentCharacterToken={type:ie,chars:Nr}}_createEOFToken(){this.currentToken={type:br.EOF_TOKEN}}_createAttr(ie){this.currentAttr={name:ie,value:""}}_leaveAttrName(ie){br.getTokenAttr(this.currentToken,this.currentAttr.name)===null?this.currentToken.attrs.push(this.currentAttr):this._err(h.duplicateAttribute),this.state=ie}_leaveAttrValue(ie){this.state=ie}_emitCurrentToken(){this._emitCurrentCharacterToken();const ie=this.currentToken;this.currentToken=null,ie.type===br.START_TAG_TOKEN?this.lastStartTagName=ie.tagName:ie.type===br.END_TAG_TOKEN&&(ie.attrs.length>0&&this._err(h.endTagWithAttributes),ie.selfClosing&&this._err(h.endTagWithTrailingSolidus)),this.tokenQueue.push(ie)}_emitCurrentCharacterToken(){this.currentCharacterToken&&(this.tokenQueue.push(this.currentCharacterToken),this.currentCharacterToken=null)}_emitEOFToken(){this._createEOFToken(),this._emitCurrentToken()}_appendCharToCurrentCharacterToken(ie,Nr){this.currentCharacterToken&&this.currentCharacterToken.type!==ie&&this._emitCurrentCharacterToken(),this.currentCharacterToken?this.currentCharacterToken.chars+=Nr:this._createCharacterToken(ie,Nr)}_emitCodePoint(ie){let Nr=br.CHARACTER_TOKEN;xr(ie)?Nr=br.WHITESPACE_CHARACTER_TOKEN:ie===d.NULL&&(Nr=br.NULL_CHARACTER_TOKEN),this._appendCharToCurrentCharacterToken(Nr,it(ie))}_emitSeveralCodePoints(ie){for(let Nr=0;Nr<ie.length;Nr++)this._emitCodePoint(ie[Nr])}_emitChars(ie){this._appendCharToCurrentCharacterToken(br.CHARACTER_TOKEN,ie)}_matchNamedCharacterReference(ie){let Nr=null,_e=1,ze=fn(0,ie);for(this.tempBuff.push(ie);ze>-1;){const ht=f[ze],Nt=ht<S;Nt&&ht&x&&(Nr=ht&b?[f[++ze],f[++ze]]:[f[++ze]],_e=0);const It=this._consume();if(this.tempBuff.push(It),_e++,It===d.EOF)break;ze=Nt?ht&_?fn(ze,It):-1:It===ht?++ze:-1}for(;_e--;)this.tempBuff.pop(),this._unconsume();return Nr}_isCharacterReferenceInAttribute(){return this.returnState===de||this.returnState===Ce||this.returnState===De}_isCharacterReferenceAttributeQuirk(ie){if(!ie&&this._isCharacterReferenceInAttribute()){const Nr=this._consume();return this._unconsume(),Nr===d.EQUALS_SIGN||$(Nr)}return!1}_flushCodePointsConsumedAsCharacterReference(){if(this._isCharacterReferenceInAttribute())for(let ie=0;ie<this.tempBuff.length;ie++)this.currentAttr.value+=it(this.tempBuff[ie]);else this._emitSeveralCodePoints(this.tempBuff);this.tempBuff=[]}[T](ie){this.preprocessor.dropParsedChunk(),ie===d.LESS_THAN_SIGN?this.state=j:ie===d.AMPERSAND?(this.returnState=T,this.state=or):ie===d.NULL?(this._err(h.unexpectedNullCharacter),this._emitCodePoint(ie)):ie===d.EOF?this._emitEOFToken():this._emitCodePoint(ie)}[C](ie){this.preprocessor.dropParsedChunk(),ie===d.AMPERSAND?(this.returnState=C,this.state=or):ie===d.LESS_THAN_SIGN?this.state=M:ie===d.NULL?(this._err(h.unexpectedNullCharacter),this._emitChars(u.REPLACEMENT_CHARACTER)):ie===d.EOF?this._emitEOFToken():this._emitCodePoint(ie)}[w](ie){this.preprocessor.dropParsedChunk(),ie===d.LESS_THAN_SIGN?this.state=V:ie===d.NULL?(this._err(h.unexpectedNullCharacter),this._emitChars(u.REPLACEMENT_CHARACTER)):ie===d.EOF?this._emitEOFToken():this._emitCodePoint(ie)}[N](ie){this.preprocessor.dropParsedChunk(),ie===d.LESS_THAN_SIGN?this.state=W:ie===d.NULL?(this._err(h.unexpectedNullCharacter),this._emitChars(u.REPLACEMENT_CHARACTER)):ie===d.EOF?this._emitEOFToken():this._emitCodePoint(ie)}[A](ie){this.preprocessor.dropParsedChunk(),ie===d.NULL?(this._err(h.unexpectedNullCharacter),this._emitChars(u.REPLACEMENT_CHARACTER)):ie===d.EOF?this._emitEOFToken():this._emitCodePoint(ie)}[j](ie){ie===d.EXCLAMATION_MARK?this.state=Ye:ie===d.SOLIDUS?this.state=R:wr(ie)?(this._createStartTagToken(),this._reconsumeInState(L)):ie===d.QUESTION_MARK?(this._err(h.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(),this._reconsumeInState(Ze)):ie===d.EOF?(this._err(h.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken()):(this._err(h.invalidFirstCharacterOfTagName),this._emitChars("<"),this._reconsumeInState(T))}[R](ie){wr(ie)?(this._createEndTagToken(),this._reconsumeInState(L)):ie===d.GREATER_THAN_SIGN?(this._err(h.missingEndTagName),this.state=T):ie===d.EOF?(this._err(h.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken()):(this._err(h.invalidFirstCharacterOfTagName),this._createCommentToken(),this._reconsumeInState(Ze))}[L](ie){xr(ie)?this.state=Ue:ie===d.SOLIDUS?this.state=je:ie===d.GREATER_THAN_SIGN?(this.state=T,this._emitCurrentToken()):qr(ie)?this.currentToken.tagName+=qt(ie):ie===d.NULL?(this._err(h.unexpectedNullCharacter),this.currentToken.tagName+=u.REPLACEMENT_CHARACTER):ie===d.EOF?(this._err(h.eofInTag),this._emitEOFToken()):this.currentToken.tagName+=it(ie)}[M](ie){ie===d.SOLIDUS?(this.tempBuff=[],this.state=I):(this._emitChars("<"),this._reconsumeInState(C))}[I](ie){wr(ie)?(this._createEndTagToken(),this._reconsumeInState(D)):(this._emitChars("</"),this._reconsumeInState(C))}[D](ie){if(qr(ie))this.currentToken.tagName+=qt(ie),this.tempBuff.push(ie);else if(un(ie))this.currentToken.tagName+=it(ie),this.tempBuff.push(ie);else{if(this.lastStartTagName===this.currentToken.tagName){if(xr(ie))return void(this.state=Ue);if(ie===d.SOLIDUS)return void(this.state=je);if(ie===d.GREATER_THAN_SIGN)return this.state=T,void this._emitCurrentToken()}this._emitChars("</"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(C)}}[V](ie){ie===d.SOLIDUS?(this.tempBuff=[],this.state=F):(this._emitChars("<"),this._reconsumeInState(w))}[F](ie){wr(ie)?(this._createEndTagToken(),this._reconsumeInState(G)):(this._emitChars("</"),this._reconsumeInState(w))}[G](ie){if(qr(ie))this.currentToken.tagName+=qt(ie),this.tempBuff.push(ie);else if(un(ie))this.currentToken.tagName+=it(ie),this.tempBuff.push(ie);else{if(this.lastStartTagName===this.currentToken.tagName){if(xr(ie))return void(this.state=Ue);if(ie===d.SOLIDUS)return void(this.state=je);if(ie===d.GREATER_THAN_SIGN)return this._emitCurrentToken(),void(this.state=T)}this._emitChars("</"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(w)}}[W](ie){ie===d.SOLIDUS?(this.tempBuff=[],this.state=Y):ie===d.EXCLAMATION_MARK?(this.state=he,this._emitChars("<!")):(this._emitChars("<"),this._reconsumeInState(N))}[Y](ie){wr(ie)?(this._createEndTagToken(),this._reconsumeInState(te)):(this._emitChars("</"),this._reconsumeInState(N))}[te](ie){if(qr(ie))this.currentToken.tagName+=qt(ie),this.tempBuff.push(ie);else if(un(ie))this.currentToken.tagName+=it(ie),this.tempBuff.push(ie);else{if(this.lastStartTagName===this.currentToken.tagName){if(xr(ie))return void(this.state=Ue);if(ie===d.SOLIDUS)return void(this.state=je);if(ie===d.GREATER_THAN_SIGN)return this._emitCurrentToken(),void(this.state=T)}this._emitChars("</"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(N)}}[he](ie){ie===d.HYPHEN_MINUS?(this.state=z,this._emitChars("-")):this._reconsumeInState(N)}[z](ie){ie===d.HYPHEN_MINUS?(this.state=ae,this._emitChars("-")):this._reconsumeInState(N)}[Z](ie){ie===d.HYPHEN_MINUS?(this.state=X,this._emitChars("-")):ie===d.LESS_THAN_SIGN?this.state=ve:ie===d.NULL?(this._err(h.unexpectedNullCharacter),this._emitChars(u.REPLACEMENT_CHARACTER)):ie===d.EOF?(this._err(h.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):this._emitCodePoint(ie)}[X](ie){ie===d.HYPHEN_MINUS?(this.state=ae,this._emitChars("-")):ie===d.LESS_THAN_SIGN?this.state=ve:ie===d.NULL?(this._err(h.unexpectedNullCharacter),this.state=Z,this._emitChars(u.REPLACEMENT_CHARACTER)):ie===d.EOF?(this._err(h.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):(this.state=Z,this._emitCodePoint(ie))}[ae](ie){ie===d.HYPHEN_MINUS?this._emitChars("-"):ie===d.LESS_THAN_SIGN?this.state=ve:ie===d.GREATER_THAN_SIGN?(this.state=N,this._emitChars(">")):ie===d.NULL?(this._err(h.unexpectedNullCharacter),this.state=Z,this._emitChars(u.REPLACEMENT_CHARACTER)):ie===d.EOF?(this._err(h.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):(this.state=Z,this._emitCodePoint(ie))}[ve](ie){ie===d.SOLIDUS?(this.tempBuff=[],this.state=me):wr(ie)?(this.tempBuff=[],this._emitChars("<"),this._reconsumeInState(ke)):(this._emitChars("<"),this._reconsumeInState(Z))}[me](ie){wr(ie)?(this._createEndTagToken(),this._reconsumeInState(Ee)):(this._emitChars("</"),this._reconsumeInState(Z))}[Ee](ie){if(qr(ie))this.currentToken.tagName+=qt(ie),this.tempBuff.push(ie);else if(un(ie))this.currentToken.tagName+=it(ie),this.tempBuff.push(ie);else{if(this.lastStartTagName===this.currentToken.tagName){if(xr(ie))return void(this.state=Ue);if(ie===d.SOLIDUS)return void(this.state=je);if(ie===d.GREATER_THAN_SIGN)return this._emitCurrentToken(),void(this.state=T)}this._emitChars("</"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(Z)}}[ke](ie){xr(ie)||ie===d.SOLIDUS||ie===d.GREATER_THAN_SIGN?(this.state=this._isTempBufferEqualToScriptString()?He:Z,this._emitCodePoint(ie)):qr(ie)?(this.tempBuff.push(Fe(ie)),this._emitCodePoint(ie)):un(ie)?(this.tempBuff.push(ie),this._emitCodePoint(ie)):this._reconsumeInState(Z)}[He](ie){ie===d.HYPHEN_MINUS?(this.state=Re,this._emitChars("-")):ie===d.LESS_THAN_SIGN?(this.state=ce,this._emitChars("<")):ie===d.NULL?(this._err(h.unexpectedNullCharacter),this._emitChars(u.REPLACEMENT_CHARACTER)):ie===d.EOF?(this._err(h.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):this._emitCodePoint(ie)}[Re](ie){ie===d.HYPHEN_MINUS?(this.state=se,this._emitChars("-")):ie===d.LESS_THAN_SIGN?(this.state=ce,this._emitChars("<")):ie===d.NULL?(this._err(h.unexpectedNullCharacter),this.state=He,this._emitChars(u.REPLACEMENT_CHARACTER)):ie===d.EOF?(this._err(h.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):(this.state=He,this._emitCodePoint(ie))}[se](ie){ie===d.HYPHEN_MINUS?this._emitChars("-"):ie===d.LESS_THAN_SIGN?(this.state=ce,this._emitChars("<")):ie===d.GREATER_THAN_SIGN?(this.state=N,this._emitChars(">")):ie===d.NULL?(this._err(h.unexpectedNullCharacter),this.state=He,this._emitChars(u.REPLACEMENT_CHARACTER)):ie===d.EOF?(this._err(h.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):(this.state=He,this._emitCodePoint(ie))}[ce](ie){ie===d.SOLIDUS?(this.tempBuff=[],this.state=$e,this._emitChars("/")):this._reconsumeInState(He)}[$e](ie){xr(ie)||ie===d.SOLIDUS||ie===d.GREATER_THAN_SIGN?(this.state=this._isTempBufferEqualToScriptString()?Z:He,this._emitCodePoint(ie)):qr(ie)?(this.tempBuff.push(Fe(ie)),this._emitCodePoint(ie)):un(ie)?(this.tempBuff.push(ie),this._emitCodePoint(ie)):this._reconsumeInState(He)}[Ue](ie){xr(ie)||(ie===d.SOLIDUS||ie===d.GREATER_THAN_SIGN||ie===d.EOF?this._reconsumeInState(ft):ie===d.EQUALS_SIGN?(this._err(h.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=Te):(this._createAttr(""),this._reconsumeInState(Te)))}[Te](ie){xr(ie)||ie===d.SOLIDUS||ie===d.GREATER_THAN_SIGN||ie===d.EOF?(this._leaveAttrName(ft),this._unconsume()):ie===d.EQUALS_SIGN?this._leaveAttrName(Q):qr(ie)?this.currentAttr.name+=qt(ie):ie===d.QUOTATION_MARK||ie===d.APOSTROPHE||ie===d.LESS_THAN_SIGN?(this._err(h.unexpectedCharacterInAttributeName),this.currentAttr.name+=it(ie)):ie===d.NULL?(this._err(h.unexpectedNullCharacter),this.currentAttr.name+=u.REPLACEMENT_CHARACTER):this.currentAttr.name+=it(ie)}[ft](ie){xr(ie)||(ie===d.SOLIDUS?this.state=je:ie===d.EQUALS_SIGN?this.state=Q:ie===d.GREATER_THAN_SIGN?(this.state=T,this._emitCurrentToken()):ie===d.EOF?(this._err(h.eofInTag),this._emitEOFToken()):(this._createAttr(""),this._reconsumeInState(Te)))}[Q](ie){xr(ie)||(ie===d.QUOTATION_MARK?this.state=de:ie===d.APOSTROPHE?this.state=Ce:ie===d.GREATER_THAN_SIGN?(this._err(h.missingAttributeValue),this.state=T,this._emitCurrentToken()):this._reconsumeInState(De))}[de](ie){ie===d.QUOTATION_MARK?this.state=Ke:ie===d.AMPERSAND?(this.returnState=de,this.state=or):ie===d.NULL?(this._err(h.unexpectedNullCharacter),this.currentAttr.value+=u.REPLACEMENT_CHARACTER):ie===d.EOF?(this._err(h.eofInTag),this._emitEOFToken()):this.currentAttr.value+=it(ie)}[Ce](ie){ie===d.APOSTROPHE?this.state=Ke:ie===d.AMPERSAND?(this.returnState=Ce,this.state=or):ie===d.NULL?(this._err(h.unexpectedNullCharacter),this.currentAttr.value+=u.REPLACEMENT_CHARACTER):ie===d.EOF?(this._err(h.eofInTag),this._emitEOFToken()):this.currentAttr.value+=it(ie)}[De](ie){xr(ie)?this._leaveAttrValue(Ue):ie===d.AMPERSAND?(this.returnState=De,this.state=or):ie===d.GREATER_THAN_SIGN?(this._leaveAttrValue(T),this._emitCurrentToken()):ie===d.NULL?(this._err(h.unexpectedNullCharacter),this.currentAttr.value+=u.REPLACEMENT_CHARACTER):ie===d.QUOTATION_MARK||ie===d.APOSTROPHE||ie===d.LESS_THAN_SIGN||ie===d.EQUALS_SIGN||ie===d.GRAVE_ACCENT?(this._err(h.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=it(ie)):ie===d.EOF?(this._err(h.eofInTag),this._emitEOFToken()):this.currentAttr.value+=it(ie)}[Ke](ie){xr(ie)?this._leaveAttrValue(Ue):ie===d.SOLIDUS?this._leaveAttrValue(je):ie===d.GREATER_THAN_SIGN?(this._leaveAttrValue(T),this._emitCurrentToken()):ie===d.EOF?(this._err(h.eofInTag),this._emitEOFToken()):(this._err(h.missingWhitespaceBetweenAttributes),this._reconsumeInState(Ue))}[je](ie){ie===d.GREATER_THAN_SIGN?(this.currentToken.selfClosing=!0,this.state=T,this._emitCurrentToken()):ie===d.EOF?(this._err(h.eofInTag),this._emitEOFToken()):(this._err(h.unexpectedSolidusInTag),this._reconsumeInState(Ue))}[Ze](ie){ie===d.GREATER_THAN_SIGN?(this.state=T,this._emitCurrentToken()):ie===d.EOF?(this._emitCurrentToken(),this._emitEOFToken()):ie===d.NULL?(this._err(h.unexpectedNullCharacter),this.currentToken.data+=u.REPLACEMENT_CHARACTER):this.currentToken.data+=it(ie)}[Ye](ie){this._consumeSequenceIfMatch(m.DASH_DASH_STRING,ie,!0)?(this._createCommentToken(),this.state=bt):this._consumeSequenceIfMatch(m.DOCTYPE_STRING,ie,!1)?this.state=Ct:this._consumeSequenceIfMatch(m.CDATA_START_STRING,ie,!0)?this.allowCDATA?this.state=Er:(this._err(h.cdataInHtmlContent),this._createCommentToken(),this.currentToken.data="[CDATA[",this.state=Ze):this._ensureHibernation()||(this._err(h.incorrectlyOpenedComment),this._createCommentToken(),this._reconsumeInState(Ze))}[bt](ie){ie===d.HYPHEN_MINUS?this.state=Ut:ie===d.GREATER_THAN_SIGN?(this._err(h.abruptClosingOfEmptyComment),this.state=T,this._emitCurrentToken()):this._reconsumeInState(kt)}[Ut](ie){ie===d.HYPHEN_MINUS?this.state=gt:ie===d.GREATER_THAN_SIGN?(this._err(h.abruptClosingOfEmptyComment),this.state=T,this._emitCurrentToken()):ie===d.EOF?(this._err(h.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):(this.currentToken.data+="-",this._reconsumeInState(kt))}[kt](ie){ie===d.HYPHEN_MINUS?this.state=Ie:ie===d.LESS_THAN_SIGN?(this.currentToken.data+="<",this.state=Oe):ie===d.NULL?(this._err(h.unexpectedNullCharacter),this.currentToken.data+=u.REPLACEMENT_CHARACTER):ie===d.EOF?(this._err(h.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.data+=it(ie)}[Oe](ie){ie===d.EXCLAMATION_MARK?(this.currentToken.data+="!",this.state=fe):ie===d.LESS_THAN_SIGN?this.currentToken.data+="!":this._reconsumeInState(kt)}[fe](ie){ie===d.HYPHEN_MINUS?this.state=ee:this._reconsumeInState(kt)}[ee](ie){ie===d.HYPHEN_MINUS?this.state=tt:this._reconsumeInState(Ie)}[tt](ie){ie!==d.GREATER_THAN_SIGN&&ie!==d.EOF&&this._err(h.nestedComment),this._reconsumeInState(gt)}[Ie](ie){ie===d.HYPHEN_MINUS?this.state=gt:ie===d.EOF?(this._err(h.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):(this.currentToken.data+="-",this._reconsumeInState(kt))}[gt](ie){ie===d.GREATER_THAN_SIGN?(this.state=T,this._emitCurrentToken()):ie===d.EXCLAMATION_MARK?this.state=wt:ie===d.HYPHEN_MINUS?this.currentToken.data+="-":ie===d.EOF?(this._err(h.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):(this.currentToken.data+="--",this._reconsumeInState(kt))}[wt](ie){ie===d.HYPHEN_MINUS?(this.currentToken.data+="--!",this.state=Ie):ie===d.GREATER_THAN_SIGN?(this._err(h.incorrectlyClosedComment),this.state=T,this._emitCurrentToken()):ie===d.EOF?(this._err(h.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):(this.currentToken.data+="--!",this._reconsumeInState(kt))}[Ct](ie){xr(ie)?this.state=At:ie===d.GREATER_THAN_SIGN?this._reconsumeInState(At):ie===d.EOF?(this._err(h.eofInDoctype),this._createDoctypeToken(null),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(h.missingWhitespaceBeforeDoctypeName),this._reconsumeInState(At))}[At](ie){xr(ie)||(qr(ie)?(this._createDoctypeToken(qt(ie)),this.state=Ft):ie===d.NULL?(this._err(h.unexpectedNullCharacter),this._createDoctypeToken(u.REPLACEMENT_CHARACTER),this.state=Ft):ie===d.GREATER_THAN_SIGN?(this._err(h.missingDoctypeName),this._createDoctypeToken(null),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=T):ie===d.EOF?(this._err(h.eofInDoctype),this._createDoctypeToken(null),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._createDoctypeToken(it(ie)),this.state=Ft))}[Ft](ie){xr(ie)?this.state=lr:ie===d.GREATER_THAN_SIGN?(this.state=T,this._emitCurrentToken()):qr(ie)?this.currentToken.name+=qt(ie):ie===d.NULL?(this._err(h.unexpectedNullCharacter),this.currentToken.name+=u.REPLACEMENT_CHARACTER):ie===d.EOF?(this._err(h.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.name+=it(ie)}[lr](ie){xr(ie)||(ie===d.GREATER_THAN_SIGN?(this.state=T,this._emitCurrentToken()):ie===d.EOF?(this._err(h.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this._consumeSequenceIfMatch(m.PUBLIC_STRING,ie,!1)?this.state=nr:this._consumeSequenceIfMatch(m.SYSTEM_STRING,ie,!1)?this.state=et:this._ensureHibernation()||(this._err(h.invalidCharacterSequenceAfterDoctypeName),this.currentToken.forceQuirks=!0,this._reconsumeInState(dr)))}[nr](ie){xr(ie)?this.state=vr:ie===d.QUOTATION_MARK?(this._err(h.missingWhitespaceAfterDoctypePublicKeyword),this.currentToken.publicId="",this.state=Rr):ie===d.APOSTROPHE?(this._err(h.missingWhitespaceAfterDoctypePublicKeyword),this.currentToken.publicId="",this.state=Lr):ie===d.GREATER_THAN_SIGN?(this._err(h.missingDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this.state=T,this._emitCurrentToken()):ie===d.EOF?(this._err(h.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(h.missingQuoteBeforeDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(dr))}[vr](ie){xr(ie)||(ie===d.QUOTATION_MARK?(this.currentToken.publicId="",this.state=Rr):ie===d.APOSTROPHE?(this.currentToken.publicId="",this.state=Lr):ie===d.GREATER_THAN_SIGN?(this._err(h.missingDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this.state=T,this._emitCurrentToken()):ie===d.EOF?(this._err(h.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(h.missingQuoteBeforeDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(dr)))}[Rr](ie){ie===d.QUOTATION_MARK?this.state=ge:ie===d.NULL?(this._err(h.unexpectedNullCharacter),this.currentToken.publicId+=u.REPLACEMENT_CHARACTER):ie===d.GREATER_THAN_SIGN?(this._err(h.abruptDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=T):ie===d.EOF?(this._err(h.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.publicId+=it(ie)}[Lr](ie){ie===d.APOSTROPHE?this.state=ge:ie===d.NULL?(this._err(h.unexpectedNullCharacter),this.currentToken.publicId+=u.REPLACEMENT_CHARACTER):ie===d.GREATER_THAN_SIGN?(this._err(h.abruptDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=T):ie===d.EOF?(this._err(h.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.publicId+=it(ie)}[ge](ie){xr(ie)?this.state=We:ie===d.GREATER_THAN_SIGN?(this.state=T,this._emitCurrentToken()):ie===d.QUOTATION_MARK?(this._err(h.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),this.currentToken.systemId="",this.state=Rt):ie===d.APOSTROPHE?(this._err(h.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),this.currentToken.systemId="",this.state=Zt):ie===d.EOF?(this._err(h.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(h.missingQuoteBeforeDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(dr))}[We](ie){xr(ie)||(ie===d.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=T):ie===d.QUOTATION_MARK?(this.currentToken.systemId="",this.state=Rt):ie===d.APOSTROPHE?(this.currentToken.systemId="",this.state=Zt):ie===d.EOF?(this._err(h.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(h.missingQuoteBeforeDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(dr)))}[et](ie){xr(ie)?this.state=mt:ie===d.QUOTATION_MARK?(this._err(h.missingWhitespaceAfterDoctypeSystemKeyword),this.currentToken.systemId="",this.state=Rt):ie===d.APOSTROPHE?(this._err(h.missingWhitespaceAfterDoctypeSystemKeyword),this.currentToken.systemId="",this.state=Zt):ie===d.GREATER_THAN_SIGN?(this._err(h.missingDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this.state=T,this._emitCurrentToken()):ie===d.EOF?(this._err(h.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(h.missingQuoteBeforeDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(dr))}[mt](ie){xr(ie)||(ie===d.QUOTATION_MARK?(this.currentToken.systemId="",this.state=Rt):ie===d.APOSTROPHE?(this.currentToken.systemId="",this.state=Zt):ie===d.GREATER_THAN_SIGN?(this._err(h.missingDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this.state=T,this._emitCurrentToken()):ie===d.EOF?(this._err(h.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(h.missingQuoteBeforeDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(dr)))}[Rt](ie){ie===d.QUOTATION_MARK?this.state=Bt:ie===d.NULL?(this._err(h.unexpectedNullCharacter),this.currentToken.systemId+=u.REPLACEMENT_CHARACTER):ie===d.GREATER_THAN_SIGN?(this._err(h.abruptDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=T):ie===d.EOF?(this._err(h.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.systemId+=it(ie)}[Zt](ie){ie===d.APOSTROPHE?this.state=Bt:ie===d.NULL?(this._err(h.unexpectedNullCharacter),this.currentToken.systemId+=u.REPLACEMENT_CHARACTER):ie===d.GREATER_THAN_SIGN?(this._err(h.abruptDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=T):ie===d.EOF?(this._err(h.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.systemId+=it(ie)}[Bt](ie){xr(ie)||(ie===d.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=T):ie===d.EOF?(this._err(h.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(h.unexpectedCharacterAfterDoctypeSystemIdentifier),this._reconsumeInState(dr)))}[dr](ie){ie===d.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=T):ie===d.NULL?this._err(h.unexpectedNullCharacter):ie===d.EOF&&(this._emitCurrentToken(),this._emitEOFToken())}[Er](ie){ie===d.RIGHT_SQUARE_BRACKET?this.state=Or:ie===d.EOF?(this._err(h.eofInCdata),this._emitEOFToken()):this._emitCodePoint(ie)}[Or](ie){ie===d.RIGHT_SQUARE_BRACKET?this.state=Ir:(this._emitChars("]"),this._reconsumeInState(Er))}[Ir](ie){ie===d.GREATER_THAN_SIGN?this.state=T:ie===d.RIGHT_SQUARE_BRACKET?this._emitChars("]"):(this._emitChars("]]"),this._reconsumeInState(Er))}[or](ie){this.tempBuff=[d.AMPERSAND],ie===d.NUMBER_SIGN?(this.tempBuff.push(ie),this.state=mr):$(ie)?this._reconsumeInState(Kr):(this._flushCodePointsConsumedAsCharacterReference(),this._reconsumeInState(this.returnState))}[Kr](ie){const Nr=this._matchNamedCharacterReference(ie);if(this._ensureHibernation())this.tempBuff=[d.AMPERSAND];else if(Nr){const _e=this.tempBuff[this.tempBuff.length-1]===d.SEMICOLON;this._isCharacterReferenceAttributeQuirk(_e)||(_e||this._errOnNextCodePoint(h.missingSemicolonAfterCharacterReference),this.tempBuff=Nr),this._flushCodePointsConsumedAsCharacterReference(),this.state=this.returnState}else this._flushCodePointsConsumedAsCharacterReference(),this.state=an}[an](ie){$(ie)?this._isCharacterReferenceInAttribute()?this.currentAttr.value+=it(ie):this._emitCodePoint(ie):(ie===d.SEMICOLON&&this._err(h.unknownNamedCharacterReference),this._reconsumeInState(this.returnState))}[mr](ie){this.charRefCode=0,ie===d.LATIN_SMALL_X||ie===d.LATIN_CAPITAL_X?(this.tempBuff.push(ie),this.state=Xr):this._reconsumeInState(gr)}[Xr](ie){(function(Nr){return ln(Nr)||oe(Nr)||J(Nr)})(ie)?this._reconsumeInState(Vr):(this._err(h.absenceOfDigitsInNumericCharacterReference),this._flushCodePointsConsumedAsCharacterReference(),this._reconsumeInState(this.returnState))}[gr](ie){ln(ie)?this._reconsumeInState(er):(this._err(h.absenceOfDigitsInNumericCharacterReference),this._flushCodePointsConsumedAsCharacterReference(),this._reconsumeInState(this.returnState))}[Vr](ie){oe(ie)?this.charRefCode=16*this.charRefCode+ie-55:J(ie)?this.charRefCode=16*this.charRefCode+ie-87:ln(ie)?this.charRefCode=16*this.charRefCode+ie-48:ie===d.SEMICOLON?this.state=sn:(this._err(h.missingSemicolonAfterCharacterReference),this._reconsumeInState(sn))}[er](ie){ln(ie)?this.charRefCode=10*this.charRefCode+ie-48:ie===d.SEMICOLON?this.state=sn:(this._err(h.missingSemicolonAfterCharacterReference),this._reconsumeInState(sn))}[sn](){if(this.charRefCode===d.NULL)this._err(h.nullCharacterReference),this.charRefCode=d.REPLACEMENT_CHARACTER;else if(this.charRefCode>1114111)this._err(h.characterReferenceOutsideUnicodeRange),this.charRefCode=d.REPLACEMENT_CHARACTER;else if(u.isSurrogate(this.charRefCode))this._err(h.surrogateCharacterReference),this.charRefCode=d.REPLACEMENT_CHARACTER;else if(u.isUndefinedCodePoint(this.charRefCode))this._err(h.noncharacterCharacterReference);else if(u.isControlCodePoint(this.charRefCode)||this.charRefCode===d.CARRIAGE_RETURN){this._err(h.controlCharacterReference);const ie=g[this.charRefCode];ie&&(this.charRefCode=ie)}this.tempBuff=[this.charRefCode],this._flushCodePointsConsumedAsCharacterReference(),this._reconsumeInState(this.returnState)}}br.CHARACTER_TOKEN="CHARACTER_TOKEN",br.NULL_CHARACTER_TOKEN="NULL_CHARACTER_TOKEN",br.WHITESPACE_CHARACTER_TOKEN="WHITESPACE_CHARACTER_TOKEN",br.START_TAG_TOKEN="START_TAG_TOKEN",br.END_TAG_TOKEN="END_TAG_TOKEN",br.COMMENT_TOKEN="COMMENT_TOKEN",br.DOCTYPE_TOKEN="DOCTYPE_TOKEN",br.EOF_TOKEN="EOF_TOKEN",br.HIBERNATION_TOKEN="HIBERNATION_TOKEN",br.MODE={DATA:T,RCDATA:C,RAWTEXT:w,SCRIPT_DATA:N,PLAINTEXT:A},br.getTokenAttr=function(dt,ie){for(let Nr=dt.attrs.length-1;Nr>=0;Nr--)if(dt.attrs[Nr].name===ie)return dt.attrs[Nr].value;return null},a.exports=br},5482:a=>{a.exports=new Uint16Array([4,52,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,106,303,412,810,1432,1701,1796,1987,2114,2360,2420,2484,3170,3251,4140,4393,4575,4610,5106,5512,5728,6117,6274,6315,6345,6427,6516,7002,7910,8733,9323,9870,10170,10631,10893,11318,11386,11467,12773,13092,14474,14922,15448,15542,16419,17666,18166,18611,19004,19095,19298,19397,4,16,69,77,97,98,99,102,103,108,109,110,111,112,114,115,116,117,140,150,158,169,176,194,199,210,216,222,226,242,256,266,283,294,108,105,103,5,198,1,59,148,1,198,80,5,38,1,59,156,1,38,99,117,116,101,5,193,1,59,167,1,193,114,101,118,101,59,1,258,4,2,105,121,182,191,114,99,5,194,1,59,189,1,194,59,1,1040,114,59,3,55349,56580,114,97,118,101,5,192,1,59,208,1,192,112,104,97,59,1,913,97,99,114,59,1,256,100,59,1,10835,4,2,103,112,232,237,111,110,59,1,260,102,59,3,55349,56632,112,108,121,70,117,110,99,116,105,111,110,59,1,8289,105,110,103,5,197,1,59,264,1,197,4,2,99,115,272,277,114,59,3,55349,56476,105,103,110,59,1,8788,105,108,100,101,5,195,1,59,292,1,195,109,108,5,196,1,59,301,1,196,4,8,97,99,101,102,111,114,115,117,321,350,354,383,388,394,400,405,4,2,99,114,327,336,107,115,108,97,115,104,59,1,8726,4,2,118,119,342,345,59,1,10983,101,100,59,1,8966,121,59,1,1041,4,3,99,114,116,362,369,379,97,117,115,101,59,1,8757,110,111,117,108,108,105,115,59,1,8492,97,59,1,914,114,59,3,55349,56581,112,102,59,3,55349,56633,101,118,101,59,1,728,99,114,59,1,8492,109,112,101,113,59,1,8782,4,14,72,79,97,99,100,101,102,104,105,108,111,114,115,117,442,447,456,504,542,547,569,573,577,616,678,784,790,796,99,121,59,1,1063,80,89,5,169,1,59,454,1,169,4,3,99,112,121,464,470,497,117,116,101,59,1,262,4,2,59,105,476,478,1,8914,116,97,108,68,105,102,102,101,114,101,110,116,105,97,108,68,59,1,8517,108,101,121,115,59,1,8493,4,4,97,101,105,111,514,520,530,535,114,111,110,59,1,268,100,105,108,5,199,1,59,528,1,199,114,99,59,1,264,110,105,110,116,59,1,8752,111,116,59,1,266,4,2,100,110,553,560,105,108,108,97,59,1,184,116,101,114,68,111,116,59,1,183,114,59,1,8493,105,59,1,935,114,99,108,101,4,4,68,77,80,84,591,596,603,609,111,116,59,1,8857,105,110,117,115,59,1,8854,108,117,115,59,1,8853,105,109,101,115,59,1,8855,111,4,2,99,115,623,646,107,119,105,115,101,67,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8754,101,67,117,114,108,121,4,2,68,81,658,671,111,117,98,108,101,81,117,111,116,101,59,1,8221,117,111,116,101,59,1,8217,4,4,108,110,112,117,688,701,736,753,111,110,4,2,59,101,696,698,1,8759,59,1,10868,4,3,103,105,116,709,717,722,114,117,101,110,116,59,1,8801,110,116,59,1,8751,111,117,114,73,110,116,101,103,114,97,108,59,1,8750,4,2,102,114,742,745,59,1,8450,111,100,117,99,116,59,1,8720,110,116,101,114,67,108,111,99,107,119,105,115,101,67,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8755,111,115,115,59,1,10799,99,114,59,3,55349,56478,112,4,2,59,67,803,805,1,8915,97,112,59,1,8781,4,11,68,74,83,90,97,99,101,102,105,111,115,834,850,855,860,865,888,903,916,921,1011,1415,4,2,59,111,840,842,1,8517,116,114,97,104,100,59,1,10513,99,121,59,1,1026,99,121,59,1,1029,99,121,59,1,1039,4,3,103,114,115,873,879,883,103,101,114,59,1,8225,114,59,1,8609,104,118,59,1,10980,4,2,97,121,894,900,114,111,110,59,1,270,59,1,1044,108,4,2,59,116,910,912,1,8711,97,59,1,916,114,59,3,55349,56583,4,2,97,102,927,998,4,2,99,109,933,992,114,105,116,105,99,97,108,4,4,65,68,71,84,950,957,978,985,99,117,116,101,59,1,180,111,4,2,116,117,964,967,59,1,729,98,108,101,65,99,117,116,101,59,1,733,114,97,118,101,59,1,96,105,108,100,101,59,1,732,111,110,100,59,1,8900,102,101,114,101,110,116,105,97,108,68,59,1,8518,4,4,112,116,117,119,1021,1026,1048,1249,102,59,3,55349,56635,4,3,59,68,69,1034,1036,1041,1,168,111,116,59,1,8412,113,117,97,108,59,1,8784,98,108,101,4,6,67,68,76,82,85,86,1065,1082,1101,1189,1211,1236,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8751,111,4,2,116,119,1089,1092,59,1,168,110,65,114,114,111,119,59,1,8659,4,2,101,111,1107,1141,102,116,4,3,65,82,84,1117,1124,1136,114,114,111,119,59,1,8656,105,103,104,116,65,114,114,111,119,59,1,8660,101,101,59,1,10980,110,103,4,2,76,82,1149,1177,101,102,116,4,2,65,82,1158,1165,114,114,111,119,59,1,10232,105,103,104,116,65,114,114,111,119,59,1,10234,105,103,104,116,65,114,114,111,119,59,1,10233,105,103,104,116,4,2,65,84,1199,1206,114,114,111,119,59,1,8658,101,101,59,1,8872,112,4,2,65,68,1218,1225,114,114,111,119,59,1,8657,111,119,110,65,114,114,111,119,59,1,8661,101,114,116,105,99,97,108,66,97,114,59,1,8741,110,4,6,65,66,76,82,84,97,1264,1292,1299,1352,1391,1408,114,114,111,119,4,3,59,66,85,1276,1278,1283,1,8595,97,114,59,1,10515,112,65,114,114,111,119,59,1,8693,114,101,118,101,59,1,785,101,102,116,4,3,82,84,86,1310,1323,1334,105,103,104,116,86,101,99,116,111,114,59,1,10576,101,101,86,101,99,116,111,114,59,1,10590,101,99,116,111,114,4,2,59,66,1345,1347,1,8637,97,114,59,1,10582,105,103,104,116,4,2,84,86,1362,1373,101,101,86,101,99,116,111,114,59,1,10591,101,99,116,111,114,4,2,59,66,1384,1386,1,8641,97,114,59,1,10583,101,101,4,2,59,65,1399,1401,1,8868,114,114,111,119,59,1,8615,114,114,111,119,59,1,8659,4,2,99,116,1421,1426,114,59,3,55349,56479,114,111,107,59,1,272,4,16,78,84,97,99,100,102,103,108,109,111,112,113,115,116,117,120,1466,1470,1478,1489,1515,1520,1525,1536,1544,1593,1609,1617,1650,1664,1668,1677,71,59,1,330,72,5,208,1,59,1476,1,208,99,117,116,101,5,201,1,59,1487,1,201,4,3,97,105,121,1497,1503,1512,114,111,110,59,1,282,114,99,5,202,1,59,1510,1,202,59,1,1069,111,116,59,1,278,114,59,3,55349,56584,114,97,118,101,5,200,1,59,1534,1,200,101,109,101,110,116,59,1,8712,4,2,97,112,1550,1555,99,114,59,1,274,116,121,4,2,83,86,1563,1576,109,97,108,108,83,113,117,97,114,101,59,1,9723,101,114,121,83,109,97,108,108,83,113,117,97,114,101,59,1,9643,4,2,103,112,1599,1604,111,110,59,1,280,102,59,3,55349,56636,115,105,108,111,110,59,1,917,117,4,2,97,105,1624,1640,108,4,2,59,84,1631,1633,1,10869,105,108,100,101,59,1,8770,108,105,98,114,105,117,109,59,1,8652,4,2,99,105,1656,1660,114,59,1,8496,109,59,1,10867,97,59,1,919,109,108,5,203,1,59,1675,1,203,4,2,105,112,1683,1689,115,116,115,59,1,8707,111,110,101,110,116,105,97,108,69,59,1,8519,4,5,99,102,105,111,115,1713,1717,1722,1762,1791,121,59,1,1060,114,59,3,55349,56585,108,108,101,100,4,2,83,86,1732,1745,109,97,108,108,83,113,117,97,114,101,59,1,9724,101,114,121,83,109,97,108,108,83,113,117,97,114,101,59,1,9642,4,3,112,114,117,1770,1775,1781,102,59,3,55349,56637,65,108,108,59,1,8704,114,105,101,114,116,114,102,59,1,8497,99,114,59,1,8497,4,12,74,84,97,98,99,100,102,103,111,114,115,116,1822,1827,1834,1848,1855,1877,1882,1887,1890,1896,1978,1984,99,121,59,1,1027,5,62,1,59,1832,1,62,109,109,97,4,2,59,100,1843,1845,1,915,59,1,988,114,101,118,101,59,1,286,4,3,101,105,121,1863,1869,1874,100,105,108,59,1,290,114,99,59,1,284,59,1,1043,111,116,59,1,288,114,59,3,55349,56586,59,1,8921,112,102,59,3,55349,56638,101,97,116,101,114,4,6,69,70,71,76,83,84,1915,1933,1944,1953,1959,1971,113,117,97,108,4,2,59,76,1925,1927,1,8805,101,115,115,59,1,8923,117,108,108,69,113,117,97,108,59,1,8807,114,101,97,116,101,114,59,1,10914,101,115,115,59,1,8823,108,97,110,116,69,113,117,97,108,59,1,10878,105,108,100,101,59,1,8819,99,114,59,3,55349,56482,59,1,8811,4,8,65,97,99,102,105,111,115,117,2005,2012,2026,2032,2036,2049,2073,2089,82,68,99,121,59,1,1066,4,2,99,116,2018,2023,101,107,59,1,711,59,1,94,105,114,99,59,1,292,114,59,1,8460,108,98,101,114,116,83,112,97,99,101,59,1,8459,4,2,112,114,2055,2059,102,59,1,8461,105,122,111,110,116,97,108,76,105,110,101,59,1,9472,4,2,99,116,2079,2083,114,59,1,8459,114,111,107,59,1,294,109,112,4,2,68,69,2097,2107,111,119,110,72,117,109,112,59,1,8782,113,117,97,108,59,1,8783,4,14,69,74,79,97,99,100,102,103,109,110,111,115,116,117,2144,2149,2155,2160,2171,2189,2194,2198,2209,2245,2307,2329,2334,2341,99,121,59,1,1045,108,105,103,59,1,306,99,121,59,1,1025,99,117,116,101,5,205,1,59,2169,1,205,4,2,105,121,2177,2186,114,99,5,206,1,59,2184,1,206,59,1,1048,111,116,59,1,304,114,59,1,8465,114,97,118,101,5,204,1,59,2207,1,204,4,3,59,97,112,2217,2219,2238,1,8465,4,2,99,103,2225,2229,114,59,1,298,105,110,97,114,121,73,59,1,8520,108,105,101,115,59,1,8658,4,2,116,118,2251,2281,4,2,59,101,2257,2259,1,8748,4,2,103,114,2265,2271,114,97,108,59,1,8747,115,101,99,116,105,111,110,59,1,8898,105,115,105,98,108,101,4,2,67,84,2293,2300,111,109,109,97,59,1,8291,105,109,101,115,59,1,8290,4,3,103,112,116,2315,2320,2325,111,110,59,1,302,102,59,3,55349,56640,97,59,1,921,99,114,59,1,8464,105,108,100,101,59,1,296,4,2,107,109,2347,2352,99,121,59,1,1030,108,5,207,1,59,2358,1,207,4,5,99,102,111,115,117,2372,2386,2391,2397,2414,4,2,105,121,2378,2383,114,99,59,1,308,59,1,1049,114,59,3,55349,56589,112,102,59,3,55349,56641,4,2,99,101,2403,2408,114,59,3,55349,56485,114,99,121,59,1,1032,107,99,121,59,1,1028,4,7,72,74,97,99,102,111,115,2436,2441,2446,2452,2467,2472,2478,99,121,59,1,1061,99,121,59,1,1036,112,112,97,59,1,922,4,2,101,121,2458,2464,100,105,108,59,1,310,59,1,1050,114,59,3,55349,56590,112,102,59,3,55349,56642,99,114,59,3,55349,56486,4,11,74,84,97,99,101,102,108,109,111,115,116,2508,2513,2520,2562,2585,2981,2986,3004,3011,3146,3167,99,121,59,1,1033,5,60,1,59,2518,1,60,4,5,99,109,110,112,114,2532,2538,2544,2548,2558,117,116,101,59,1,313,98,100,97,59,1,923,103,59,1,10218,108,97,99,101,116,114,102,59,1,8466,114,59,1,8606,4,3,97,101,121,2570,2576,2582,114,111,110,59,1,317,100,105,108,59,1,315,59,1,1051,4,2,102,115,2591,2907,116,4,10,65,67,68,70,82,84,85,86,97,114,2614,2663,2672,2728,2735,2760,2820,2870,2888,2895,4,2,110,114,2620,2633,103,108,101,66,114,97,99,107,101,116,59,1,10216,114,111,119,4,3,59,66,82,2644,2646,2651,1,8592,97,114,59,1,8676,105,103,104,116,65,114,114,111,119,59,1,8646,101,105,108,105,110,103,59,1,8968,111,4,2,117,119,2679,2692,98,108,101,66,114,97,99,107,101,116,59,1,10214,110,4,2,84,86,2699,2710,101,101,86,101,99,116,111,114,59,1,10593,101,99,116,111,114,4,2,59,66,2721,2723,1,8643,97,114,59,1,10585,108,111,111,114,59,1,8970,105,103,104,116,4,2,65,86,2745,2752,114,114,111,119,59,1,8596,101,99,116,111,114,59,1,10574,4,2,101,114,2766,2792,101,4,3,59,65,86,2775,2777,2784,1,8867,114,114,111,119,59,1,8612,101,99,116,111,114,59,1,10586,105,97,110,103,108,101,4,3,59,66,69,2806,2808,2813,1,8882,97,114,59,1,10703,113,117,97,108,59,1,8884,112,4,3,68,84,86,2829,2841,2852,111,119,110,86,101,99,116,111,114,59,1,10577,101,101,86,101,99,116,111,114,59,1,10592,101,99,116,111,114,4,2,59,66,2863,2865,1,8639,97,114,59,1,10584,101,99,116,111,114,4,2,59,66,2881,2883,1,8636,97,114,59,1,10578,114,114,111,119,59,1,8656,105,103,104,116,97,114,114,111,119,59,1,8660,115,4,6,69,70,71,76,83,84,2922,2936,2947,2956,2962,2974,113,117,97,108,71,114,101,97,116,101,114,59,1,8922,117,108,108,69,113,117,97,108,59,1,8806,114,101,97,116,101,114,59,1,8822,101,115,115,59,1,10913,108,97,110,116,69,113,117,97,108,59,1,10877,105,108,100,101,59,1,8818,114,59,3,55349,56591,4,2,59,101,2992,2994,1,8920,102,116,97,114,114,111,119,59,1,8666,105,100,111,116,59,1,319,4,3,110,112,119,3019,3110,3115,103,4,4,76,82,108,114,3030,3058,3070,3098,101,102,116,4,2,65,82,3039,3046,114,114,111,119,59,1,10229,105,103,104,116,65,114,114,111,119,59,1,10231,105,103,104,116,65,114,114,111,119,59,1,10230,101,102,116,4,2,97,114,3079,3086,114,114,111,119,59,1,10232,105,103,104,116,97,114,114,111,119,59,1,10234,105,103,104,116,97,114,114,111,119,59,1,10233,102,59,3,55349,56643,101,114,4,2,76,82,3123,3134,101,102,116,65,114,114,111,119,59,1,8601,105,103,104,116,65,114,114,111,119,59,1,8600,4,3,99,104,116,3154,3158,3161,114,59,1,8466,59,1,8624,114,111,107,59,1,321,59,1,8810,4,8,97,99,101,102,105,111,115,117,3188,3192,3196,3222,3227,3237,3243,3248,112,59,1,10501,121,59,1,1052,4,2,100,108,3202,3213,105,117,109,83,112,97,99,101,59,1,8287,108,105,110,116,114,102,59,1,8499,114,59,3,55349,56592,110,117,115,80,108,117,115,59,1,8723,112,102,59,3,55349,56644,99,114,59,1,8499,59,1,924,4,9,74,97,99,101,102,111,115,116,117,3271,3276,3283,3306,3422,3427,4120,4126,4137,99,121,59,1,1034,99,117,116,101,59,1,323,4,3,97,101,121,3291,3297,3303,114,111,110,59,1,327,100,105,108,59,1,325,59,1,1053,4,3,103,115,119,3314,3380,3415,97,116,105,118,101,4,3,77,84,86,3327,3340,3365,101,100,105,117,109,83,112,97,99,101,59,1,8203,104,105,4,2,99,110,3348,3357,107,83,112,97,99,101,59,1,8203,83,112,97,99,101,59,1,8203,101,114,121,84,104,105,110,83,112,97,99,101,59,1,8203,116,101,100,4,2,71,76,3389,3405,114,101,97,116,101,114,71,114,101,97,116,101,114,59,1,8811,101,115,115,76,101,115,115,59,1,8810,76,105,110,101,59,1,10,114,59,3,55349,56593,4,4,66,110,112,116,3437,3444,3460,3464,114,101,97,107,59,1,8288,66,114,101,97,107,105,110,103,83,112,97,99,101,59,1,160,102,59,1,8469,4,13,59,67,68,69,71,72,76,78,80,82,83,84,86,3492,3494,3517,3536,3578,3657,3685,3784,3823,3860,3915,4066,4107,1,10988,4,2,111,117,3500,3510,110,103,114,117,101,110,116,59,1,8802,112,67,97,112,59,1,8813,111,117,98,108,101,86,101,114,116,105,99,97,108,66,97,114,59,1,8742,4,3,108,113,120,3544,3552,3571,101,109,101,110,116,59,1,8713,117,97,108,4,2,59,84,3561,3563,1,8800,105,108,100,101,59,3,8770,824,105,115,116,115,59,1,8708,114,101,97,116,101,114,4,7,59,69,70,71,76,83,84,3600,3602,3609,3621,3631,3637,3650,1,8815,113,117,97,108,59,1,8817,117,108,108,69,113,117,97,108,59,3,8807,824,114,101,97,116,101,114,59,3,8811,824,101,115,115,59,1,8825,108,97,110,116,69,113,117,97,108,59,3,10878,824,105,108,100,101,59,1,8821,117,109,112,4,2,68,69,3666,3677,111,119,110,72,117,109,112,59,3,8782,824,113,117,97,108,59,3,8783,824,101,4,2,102,115,3692,3724,116,84,114,105,97,110,103,108,101,4,3,59,66,69,3709,3711,3717,1,8938,97,114,59,3,10703,824,113,117,97,108,59,1,8940,115,4,6,59,69,71,76,83,84,3739,3741,3748,3757,3764,3777,1,8814,113,117,97,108,59,1,8816,114,101,97,116,101,114,59,1,8824,101,115,115,59,3,8810,824,108,97,110,116,69,113,117,97,108,59,3,10877,824,105,108,100,101,59,1,8820,101,115,116,101,100,4,2,71,76,3795,3812,114,101,97,116,101,114,71,114,101,97,116,101,114,59,3,10914,824,101,115,115,76,101,115,115,59,3,10913,824,114,101,99,101,100,101,115,4,3,59,69,83,3838,3840,3848,1,8832,113,117,97,108,59,3,10927,824,108,97,110,116,69,113,117,97,108,59,1,8928,4,2,101,105,3866,3881,118,101,114,115,101,69,108,101,109,101,110,116,59,1,8716,103,104,116,84,114,105,97,110,103,108,101,4,3,59,66,69,3900,3902,3908,1,8939,97,114,59,3,10704,824,113,117,97,108,59,1,8941,4,2,113,117,3921,3973,117,97,114,101,83,117,4,2,98,112,3933,3952,115,101,116,4,2,59,69,3942,3945,3,8847,824,113,117,97,108,59,1,8930,101,114,115,101,116,4,2,59,69,3963,3966,3,8848,824,113,117,97,108,59,1,8931,4,3,98,99,112,3981,4e3,4045,115,101,116,4,2,59,69,3990,3993,3,8834,8402,113,117,97,108,59,1,8840,99,101,101,100,115,4,4,59,69,83,84,4015,4017,4025,4037,1,8833,113,117,97,108,59,3,10928,824,108,97,110,116,69,113,117,97,108,59,1,8929,105,108,100,101,59,3,8831,824,101,114,115,101,116,4,2,59,69,4056,4059,3,8835,8402,113,117,97,108,59,1,8841,105,108,100,101,4,4,59,69,70,84,4080,4082,4089,4100,1,8769,113,117,97,108,59,1,8772,117,108,108,69,113,117,97,108,59,1,8775,105,108,100,101,59,1,8777,101,114,116,105,99,97,108,66,97,114,59,1,8740,99,114,59,3,55349,56489,105,108,100,101,5,209,1,59,4135,1,209,59,1,925,4,14,69,97,99,100,102,103,109,111,112,114,115,116,117,118,4170,4176,4187,4205,4212,4217,4228,4253,4259,4292,4295,4316,4337,4346,108,105,103,59,1,338,99,117,116,101,5,211,1,59,4185,1,211,4,2,105,121,4193,4202,114,99,5,212,1,59,4200,1,212,59,1,1054,98,108,97,99,59,1,336,114,59,3,55349,56594,114,97,118,101,5,210,1,59,4226,1,210,4,3,97,101,105,4236,4241,4246,99,114,59,1,332,103,97,59,1,937,99,114,111,110,59,1,927,112,102,59,3,55349,56646,101,110,67,117,114,108,121,4,2,68,81,4272,4285,111,117,98,108,101,81,117,111,116,101,59,1,8220,117,111,116,101,59,1,8216,59,1,10836,4,2,99,108,4301,4306,114,59,3,55349,56490,97,115,104,5,216,1,59,4314,1,216,105,4,2,108,109,4323,4332,100,101,5,213,1,59,4330,1,213,101,115,59,1,10807,109,108,5,214,1,59,4344,1,214,101,114,4,2,66,80,4354,4380,4,2,97,114,4360,4364,114,59,1,8254,97,99,4,2,101,107,4372,4375,59,1,9182,101,116,59,1,9140,97,114,101,110,116,104,101,115,105,115,59,1,9180,4,9,97,99,102,104,105,108,111,114,115,4413,4422,4426,4431,4435,4438,4448,4471,4561,114,116,105,97,108,68,59,1,8706,121,59,1,1055,114,59,3,55349,56595,105,59,1,934,59,1,928,117,115,77,105,110,117,115,59,1,177,4,2,105,112,4454,4467,110,99,97,114,101,112,108,97,110,101,59,1,8460,102,59,1,8473,4,4,59,101,105,111,4481,4483,4526,4531,1,10939,99,101,100,101,115,4,4,59,69,83,84,4498,4500,4507,4519,1,8826,113,117,97,108,59,1,10927,108,97,110,116,69,113,117,97,108,59,1,8828,105,108,100,101,59,1,8830,109,101,59,1,8243,4,2,100,112,4537,4543,117,99,116,59,1,8719,111,114,116,105,111,110,4,2,59,97,4555,4557,1,8759,108,59,1,8733,4,2,99,105,4567,4572,114,59,3,55349,56491,59,1,936,4,4,85,102,111,115,4585,4594,4599,4604,79,84,5,34,1,59,4592,1,34,114,59,3,55349,56596,112,102,59,1,8474,99,114,59,3,55349,56492,4,12,66,69,97,99,101,102,104,105,111,114,115,117,4636,4642,4650,4681,4704,4763,4767,4771,5047,5069,5081,5094,97,114,114,59,1,10512,71,5,174,1,59,4648,1,174,4,3,99,110,114,4658,4664,4668,117,116,101,59,1,340,103,59,1,10219,114,4,2,59,116,4675,4677,1,8608,108,59,1,10518,4,3,97,101,121,4689,4695,4701,114,111,110,59,1,344,100,105,108,59,1,342,59,1,1056,4,2,59,118,4710,4712,1,8476,101,114,115,101,4,2,69,85,4722,4748,4,2,108,113,4728,4736,101,109,101,110,116,59,1,8715,117,105,108,105,98,114,105,117,109,59,1,8651,112,69,113,117,105,108,105,98,114,105,117,109,59,1,10607,114,59,1,8476,111,59,1,929,103,104,116,4,8,65,67,68,70,84,85,86,97,4792,4840,4849,4905,4912,4972,5022,5040,4,2,110,114,4798,4811,103,108,101,66,114,97,99,107,101,116,59,1,10217,114,111,119,4,3,59,66,76,4822,4824,4829,1,8594,97,114,59,1,8677,101,102,116,65,114,114,111,119,59,1,8644,101,105,108,105,110,103,59,1,8969,111,4,2,117,119,4856,4869,98,108,101,66,114,97,99,107,101,116,59,1,10215,110,4,2,84,86,4876,4887,101,101,86,101,99,116,111,114,59,1,10589,101,99,116,111,114,4,2,59,66,4898,4900,1,8642,97,114,59,1,10581,108,111,111,114,59,1,8971,4,2,101,114,4918,4944,101,4,3,59,65,86,4927,4929,4936,1,8866,114,114,111,119,59,1,8614,101,99,116,111,114,59,1,10587,105,97,110,103,108,101,4,3,59,66,69,4958,4960,4965,1,8883,97,114,59,1,10704,113,117,97,108,59,1,8885,112,4,3,68,84,86,4981,4993,5004,111,119,110,86,101,99,116,111,114,59,1,10575,101,101,86,101,99,116,111,114,59,1,10588,101,99,116,111,114,4,2,59,66,5015,5017,1,8638,97,114,59,1,10580,101,99,116,111,114,4,2,59,66,5033,5035,1,8640,97,114,59,1,10579,114,114,111,119,59,1,8658,4,2,112,117,5053,5057,102,59,1,8477,110,100,73,109,112,108,105,101,115,59,1,10608,105,103,104,116,97,114,114,111,119,59,1,8667,4,2,99,104,5087,5091,114,59,1,8475,59,1,8625,108,101,68,101,108,97,121,101,100,59,1,10740,4,13,72,79,97,99,102,104,105,109,111,113,115,116,117,5134,5150,5157,5164,5198,5203,5259,5265,5277,5283,5374,5380,5385,4,2,67,99,5140,5146,72,99,121,59,1,1065,121,59,1,1064,70,84,99,121,59,1,1068,99,117,116,101,59,1,346,4,5,59,97,101,105,121,5176,5178,5184,5190,5195,1,10940,114,111,110,59,1,352,100,105,108,59,1,350,114,99,59,1,348,59,1,1057,114,59,3,55349,56598,111,114,116,4,4,68,76,82,85,5216,5227,5238,5250,111,119,110,65,114,114,111,119,59,1,8595,101,102,116,65,114,114,111,119,59,1,8592,105,103,104,116,65,114,114,111,119,59,1,8594,112,65,114,114,111,119,59,1,8593,103,109,97,59,1,931,97,108,108,67,105,114,99,108,101,59,1,8728,112,102,59,3,55349,56650,4,2,114,117,5289,5293,116,59,1,8730,97,114,101,4,4,59,73,83,85,5306,5308,5322,5367,1,9633,110,116,101,114,115,101,99,116,105,111,110,59,1,8851,117,4,2,98,112,5329,5347,115,101,116,4,2,59,69,5338,5340,1,8847,113,117,97,108,59,1,8849,101,114,115,101,116,4,2,59,69,5358,5360,1,8848,113,117,97,108,59,1,8850,110,105,111,110,59,1,8852,99,114,59,3,55349,56494,97,114,59,1,8902,4,4,98,99,109,112,5395,5420,5475,5478,4,2,59,115,5401,5403,1,8912,101,116,4,2,59,69,5411,5413,1,8912,113,117,97,108,59,1,8838,4,2,99,104,5426,5468,101,101,100,115,4,4,59,69,83,84,5440,5442,5449,5461,1,8827,113,117,97,108,59,1,10928,108,97,110,116,69,113,117,97,108,59,1,8829,105,108,100,101,59,1,8831,84,104,97,116,59,1,8715,59,1,8721,4,3,59,101,115,5486,5488,5507,1,8913,114,115,101,116,4,2,59,69,5498,5500,1,8835,113,117,97,108,59,1,8839,101,116,59,1,8913,4,11,72,82,83,97,99,102,104,105,111,114,115,5536,5546,5552,5567,5579,5602,5607,5655,5695,5701,5711,79,82,78,5,222,1,59,5544,1,222,65,68,69,59,1,8482,4,2,72,99,5558,5563,99,121,59,1,1035,121,59,1,1062,4,2,98,117,5573,5576,59,1,9,59,1,932,4,3,97,101,121,5587,5593,5599,114,111,110,59,1,356,100,105,108,59,1,354,59,1,1058,114,59,3,55349,56599,4,2,101,105,5613,5631,4,2,114,116,5619,5627,101,102,111,114,101,59,1,8756,97,59,1,920,4,2,99,110,5637,5647,107,83,112,97,99,101,59,3,8287,8202,83,112,97,99,101,59,1,8201,108,100,101,4,4,59,69,70,84,5668,5670,5677,5688,1,8764,113,117,97,108,59,1,8771,117,108,108,69,113,117,97,108,59,1,8773,105,108,100,101,59,1,8776,112,102,59,3,55349,56651,105,112,108,101,68,111,116,59,1,8411,4,2,99,116,5717,5722,114,59,3,55349,56495,114,111,107,59,1,358,4,14,97,98,99,100,102,103,109,110,111,112,114,115,116,117,5758,5789,5805,5823,5830,5835,5846,5852,5921,5937,6089,6095,6101,6108,4,2,99,114,5764,5774,117,116,101,5,218,1,59,5772,1,218,114,4,2,59,111,5781,5783,1,8607,99,105,114,59,1,10569,114,4,2,99,101,5796,5800,121,59,1,1038,118,101,59,1,364,4,2,105,121,5811,5820,114,99,5,219,1,59,5818,1,219,59,1,1059,98,108,97,99,59,1,368,114,59,3,55349,56600,114,97,118,101,5,217,1,59,5844,1,217,97,99,114,59,1,362,4,2,100,105,5858,5905,101,114,4,2,66,80,5866,5892,4,2,97,114,5872,5876,114,59,1,95,97,99,4,2,101,107,5884,5887,59,1,9183,101,116,59,1,9141,97,114,101,110,116,104,101,115,105,115,59,1,9181,111,110,4,2,59,80,5913,5915,1,8899,108,117,115,59,1,8846,4,2,103,112,5927,5932,111,110,59,1,370,102,59,3,55349,56652,4,8,65,68,69,84,97,100,112,115,5955,5985,5996,6009,6026,6033,6044,6075,114,114,111,119,4,3,59,66,68,5967,5969,5974,1,8593,97,114,59,1,10514,111,119,110,65,114,114,111,119,59,1,8645,111,119,110,65,114,114,111,119,59,1,8597,113,117,105,108,105,98,114,105,117,109,59,1,10606,101,101,4,2,59,65,6017,6019,1,8869,114,114,111,119,59,1,8613,114,114,111,119,59,1,8657,111,119,110,97,114,114,111,119,59,1,8661,101,114,4,2,76,82,6052,6063,101,102,116,65,114,114,111,119,59,1,8598,105,103,104,116,65,114,114,111,119,59,1,8599,105,4,2,59,108,6082,6084,1,978,111,110,59,1,933,105,110,103,59,1,366,99,114,59,3,55349,56496,105,108,100,101,59,1,360,109,108,5,220,1,59,6115,1,220,4,9,68,98,99,100,101,102,111,115,118,6137,6143,6148,6152,6166,6250,6255,6261,6267,97,115,104,59,1,8875,97,114,59,1,10987,121,59,1,1042,97,115,104,4,2,59,108,6161,6163,1,8873,59,1,10982,4,2,101,114,6172,6175,59,1,8897,4,3,98,116,121,6183,6188,6238,97,114,59,1,8214,4,2,59,105,6194,6196,1,8214,99,97,108,4,4,66,76,83,84,6209,6214,6220,6231,97,114,59,1,8739,105,110,101,59,1,124,101,112,97,114,97,116,111,114,59,1,10072,105,108,100,101,59,1,8768,84,104,105,110,83,112,97,99,101,59,1,8202,114,59,3,55349,56601,112,102,59,3,55349,56653,99,114,59,3,55349,56497,100,97,115,104,59,1,8874,4,5,99,101,102,111,115,6286,6292,6298,6303,6309,105,114,99,59,1,372,100,103,101,59,1,8896,114,59,3,55349,56602,112,102,59,3,55349,56654,99,114,59,3,55349,56498,4,4,102,105,111,115,6325,6330,6333,6339,114,59,3,55349,56603,59,1,926,112,102,59,3,55349,56655,99,114,59,3,55349,56499,4,9,65,73,85,97,99,102,111,115,117,6365,6370,6375,6380,6391,6405,6410,6416,6422,99,121,59,1,1071,99,121,59,1,1031,99,121,59,1,1070,99,117,116,101,5,221,1,59,6389,1,221,4,2,105,121,6397,6402,114,99,59,1,374,59,1,1067,114,59,3,55349,56604,112,102,59,3,55349,56656,99,114,59,3,55349,56500,109,108,59,1,376,4,8,72,97,99,100,101,102,111,115,6445,6450,6457,6472,6477,6501,6505,6510,99,121,59,1,1046,99,117,116,101,59,1,377,4,2,97,121,6463,6469,114,111,110,59,1,381,59,1,1047,111,116,59,1,379,4,2,114,116,6483,6497,111,87,105,100,116,104,83,112,97,99,101,59,1,8203,97,59,1,918,114,59,1,8488,112,102,59,1,8484,99,114,59,3,55349,56501,4,16,97,98,99,101,102,103,108,109,110,111,112,114,115,116,117,119,6550,6561,6568,6612,6622,6634,6645,6672,6699,6854,6870,6923,6933,6963,6974,6983,99,117,116,101,5,225,1,59,6559,1,225,114,101,118,101,59,1,259,4,6,59,69,100,105,117,121,6582,6584,6588,6591,6600,6609,1,8766,59,3,8766,819,59,1,8767,114,99,5,226,1,59,6598,1,226,116,101,5,180,1,59,6607,1,180,59,1,1072,108,105,103,5,230,1,59,6620,1,230,4,2,59,114,6628,6630,1,8289,59,3,55349,56606,114,97,118,101,5,224,1,59,6643,1,224,4,2,101,112,6651,6667,4,2,102,112,6657,6663,115,121,109,59,1,8501,104,59,1,8501,104,97,59,1,945,4,2,97,112,6678,6692,4,2,99,108,6684,6688,114,59,1,257,103,59,1,10815,5,38,1,59,6697,1,38,4,2,100,103,6705,6737,4,5,59,97,100,115,118,6717,6719,6724,6727,6734,1,8743,110,100,59,1,10837,59,1,10844,108,111,112,101,59,1,10840,59,1,10842,4,7,59,101,108,109,114,115,122,6753,6755,6758,6762,6814,6835,6848,1,8736,59,1,10660,101,59,1,8736,115,100,4,2,59,97,6770,6772,1,8737,4,8,97,98,99,100,101,102,103,104,6790,6793,6796,6799,6802,6805,6808,6811,59,1,10664,59,1,10665,59,1,10666,59,1,10667,59,1,10668,59,1,10669,59,1,10670,59,1,10671,116,4,2,59,118,6821,6823,1,8735,98,4,2,59,100,6830,6832,1,8894,59,1,10653,4,2,112,116,6841,6845,104,59,1,8738,59,1,197,97,114,114,59,1,9084,4,2,103,112,6860,6865,111,110,59,1,261,102,59,3,55349,56658,4,7,59,69,97,101,105,111,112,6886,6888,6891,6897,6900,6904,6908,1,8776,59,1,10864,99,105,114,59,1,10863,59,1,8778,100,59,1,8779,115,59,1,39,114,111,120,4,2,59,101,6917,6919,1,8776,113,59,1,8778,105,110,103,5,229,1,59,6931,1,229,4,3,99,116,121,6941,6946,6949,114,59,3,55349,56502,59,1,42,109,112,4,2,59,101,6957,6959,1,8776,113,59,1,8781,105,108,100,101,5,227,1,59,6972,1,227,109,108,5,228,1,59,6981,1,228,4,2,99,105,6989,6997,111,110,105,110,116,59,1,8755,110,116,59,1,10769,4,16,78,97,98,99,100,101,102,105,107,108,110,111,112,114,115,117,7036,7041,7119,7135,7149,7155,7219,7224,7347,7354,7463,7489,7786,7793,7814,7866,111,116,59,1,10989,4,2,99,114,7047,7094,107,4,4,99,101,112,115,7058,7064,7073,7080,111,110,103,59,1,8780,112,115,105,108,111,110,59,1,1014,114,105,109,101,59,1,8245,105,109,4,2,59,101,7088,7090,1,8765,113,59,1,8909,4,2,118,119,7100,7105,101,101,59,1,8893,101,100,4,2,59,103,7113,7115,1,8965,101,59,1,8965,114,107,4,2,59,116,7127,7129,1,9141,98,114,107,59,1,9142,4,2,111,121,7141,7146,110,103,59,1,8780,59,1,1073,113,117,111,59,1,8222,4,5,99,109,112,114,116,7167,7181,7188,7193,7199,97,117,115,4,2,59,101,7176,7178,1,8757,59,1,8757,112,116,121,118,59,1,10672,115,105,59,1,1014,110,111,117,59,1,8492,4,3,97,104,119,7207,7210,7213,59,1,946,59,1,8502,101,101,110,59,1,8812,114,59,3,55349,56607,103,4,7,99,111,115,116,117,118,119,7241,7262,7288,7305,7328,7335,7340,4,3,97,105,117,7249,7253,7258,112,59,1,8898,114,99,59,1,9711,112,59,1,8899,4,3,100,112,116,7270,7275,7281,111,116,59,1,10752,108,117,115,59,1,10753,105,109,101,115,59,1,10754,4,2,113,116,7294,7300,99,117,112,59,1,10758,97,114,59,1,9733,114,105,97,110,103,108,101,4,2,100,117,7318,7324,111,119,110,59,1,9661,112,59,1,9651,112,108,117,115,59,1,10756,101,101,59,1,8897,101,100,103,101,59,1,8896,97,114,111,119,59,1,10509,4,3,97,107,111,7362,7436,7458,4,2,99,110,7368,7432,107,4,3,108,115,116,7377,7386,7394,111,122,101,110,103,101,59,1,10731,113,117,97,114,101,59,1,9642,114,105,97,110,103,108,101,4,4,59,100,108,114,7411,7413,7419,7425,1,9652,111,119,110,59,1,9662,101,102,116,59,1,9666,105,103,104,116,59,1,9656,107,59,1,9251,4,2,49,51,7442,7454,4,2,50,52,7448,7451,59,1,9618,59,1,9617,52,59,1,9619,99,107,59,1,9608,4,2,101,111,7469,7485,4,2,59,113,7475,7478,3,61,8421,117,105,118,59,3,8801,8421,116,59,1,8976,4,4,112,116,119,120,7499,7504,7517,7523,102,59,3,55349,56659,4,2,59,116,7510,7512,1,8869,111,109,59,1,8869,116,105,101,59,1,8904,4,12,68,72,85,86,98,100,104,109,112,116,117,118,7549,7571,7597,7619,7655,7660,7682,7708,7715,7721,7728,7750,4,4,76,82,108,114,7559,7562,7565,7568,59,1,9559,59,1,9556,59,1,9558,59,1,9555,4,5,59,68,85,100,117,7583,7585,7588,7591,7594,1,9552,59,1,9574,59,1,9577,59,1,9572,59,1,9575,4,4,76,82,108,114,7607,7610,7613,7616,59,1,9565,59,1,9562,59,1,9564,59,1,9561,4,7,59,72,76,82,104,108,114,7635,7637,7640,7643,7646,7649,7652,1,9553,59,1,9580,59,1,9571,59,1,9568,59,1,9579,59,1,9570,59,1,9567,111,120,59,1,10697,4,4,76,82,108,114,7670,7673,7676,7679,59,1,9557,59,1,9554,59,1,9488,59,1,9484,4,5,59,68,85,100,117,7694,7696,7699,7702,7705,1,9472,59,1,9573,59,1,9576,59,1,9516,59,1,9524,105,110,117,115,59,1,8863,108,117,115,59,1,8862,105,109,101,115,59,1,8864,4,4,76,82,108,114,7738,7741,7744,7747,59,1,9563,59,1,9560,59,1,9496,59,1,9492,4,7,59,72,76,82,104,108,114,7766,7768,7771,7774,7777,7780,7783,1,9474,59,1,9578,59,1,9569,59,1,9566,59,1,9532,59,1,9508,59,1,9500,114,105,109,101,59,1,8245,4,2,101,118,7799,7804,118,101,59,1,728,98,97,114,5,166,1,59,7812,1,166,4,4,99,101,105,111,7824,7829,7834,7846,114,59,3,55349,56503,109,105,59,1,8271,109,4,2,59,101,7841,7843,1,8765,59,1,8909,108,4,3,59,98,104,7855,7857,7860,1,92,59,1,10693,115,117,98,59,1,10184,4,2,108,109,7872,7885,108,4,2,59,101,7879,7881,1,8226,116,59,1,8226,112,4,3,59,69,101,7894,7896,7899,1,8782,59,1,10926,4,2,59,113,7905,7907,1,8783,59,1,8783,4,15,97,99,100,101,102,104,105,108,111,114,115,116,117,119,121,7942,8021,8075,8080,8121,8126,8157,8279,8295,8430,8446,8485,8491,8707,8726,4,3,99,112,114,7950,7956,8007,117,116,101,59,1,263,4,6,59,97,98,99,100,115,7970,7972,7977,7984,7998,8003,1,8745,110,100,59,1,10820,114,99,117,112,59,1,10825,4,2,97,117,7990,7994,112,59,1,10827,112,59,1,10823,111,116,59,1,10816,59,3,8745,65024,4,2,101,111,8013,8017,116,59,1,8257,110,59,1,711,4,4,97,101,105,117,8031,8046,8056,8061,4,2,112,114,8037,8041,115,59,1,10829,111,110,59,1,269,100,105,108,5,231,1,59,8054,1,231,114,99,59,1,265,112,115,4,2,59,115,8069,8071,1,10828,109,59,1,10832,111,116,59,1,267,4,3,100,109,110,8088,8097,8104,105,108,5,184,1,59,8095,1,184,112,116,121,118,59,1,10674,116,5,162,2,59,101,8112,8114,1,162,114,100,111,116,59,1,183,114,59,3,55349,56608,4,3,99,101,105,8134,8138,8154,121,59,1,1095,99,107,4,2,59,109,8146,8148,1,10003,97,114,107,59,1,10003,59,1,967,114,4,7,59,69,99,101,102,109,115,8174,8176,8179,8258,8261,8268,8273,1,9675,59,1,10691,4,3,59,101,108,8187,8189,8193,1,710,113,59,1,8791,101,4,2,97,100,8200,8223,114,114,111,119,4,2,108,114,8210,8216,101,102,116,59,1,8634,105,103,104,116,59,1,8635,4,5,82,83,97,99,100,8235,8238,8241,8246,8252,59,1,174,59,1,9416,115,116,59,1,8859,105,114,99,59,1,8858,97,115,104,59,1,8861,59,1,8791,110,105,110,116,59,1,10768,105,100,59,1,10991,99,105,114,59,1,10690,117,98,115,4,2,59,117,8288,8290,1,9827,105,116,59,1,9827,4,4,108,109,110,112,8305,8326,8376,8400,111,110,4,2,59,101,8313,8315,1,58,4,2,59,113,8321,8323,1,8788,59,1,8788,4,2,109,112,8332,8344,97,4,2,59,116,8339,8341,1,44,59,1,64,4,3,59,102,108,8352,8354,8358,1,8705,110,59,1,8728,101,4,2,109,120,8365,8371,101,110,116,59,1,8705,101,115,59,1,8450,4,2,103,105,8382,8395,4,2,59,100,8388,8390,1,8773,111,116,59,1,10861,110,116,59,1,8750,4,3,102,114,121,8408,8412,8417,59,3,55349,56660,111,100,59,1,8720,5,169,2,59,115,8424,8426,1,169,114,59,1,8471,4,2,97,111,8436,8441,114,114,59,1,8629,115,115,59,1,10007,4,2,99,117,8452,8457,114,59,3,55349,56504,4,2,98,112,8463,8474,4,2,59,101,8469,8471,1,10959,59,1,10961,4,2,59,101,8480,8482,1,10960,59,1,10962,100,111,116,59,1,8943,4,7,100,101,108,112,114,118,119,8507,8522,8536,8550,8600,8697,8702,97,114,114,4,2,108,114,8516,8519,59,1,10552,59,1,10549,4,2,112,115,8528,8532,114,59,1,8926,99,59,1,8927,97,114,114,4,2,59,112,8545,8547,1,8630,59,1,10557,4,6,59,98,99,100,111,115,8564,8566,8573,8587,8592,8596,1,8746,114,99,97,112,59,1,10824,4,2,97,117,8579,8583,112,59,1,10822,112,59,1,10826,111,116,59,1,8845,114,59,1,10821,59,3,8746,65024,4,4,97,108,114,118,8610,8623,8663,8672,114,114,4,2,59,109,8618,8620,1,8631,59,1,10556,121,4,3,101,118,119,8632,8651,8656,113,4,2,112,115,8639,8645,114,101,99,59,1,8926,117,99,99,59,1,8927,101,101,59,1,8910,101,100,103,101,59,1,8911,101,110,5,164,1,59,8670,1,164,101,97,114,114,111,119,4,2,108,114,8684,8690,101,102,116,59,1,8630,105,103,104,116,59,1,8631,101,101,59,1,8910,101,100,59,1,8911,4,2,99,105,8713,8721,111,110,105,110,116,59,1,8754,110,116,59,1,8753,108,99,116,121,59,1,9005,4,19,65,72,97,98,99,100,101,102,104,105,106,108,111,114,115,116,117,119,122,8773,8778,8783,8821,8839,8854,8887,8914,8930,8944,9036,9041,9058,9197,9227,9258,9281,9297,9305,114,114,59,1,8659,97,114,59,1,10597,4,4,103,108,114,115,8793,8799,8805,8809,103,101,114,59,1,8224,101,116,104,59,1,8504,114,59,1,8595,104,4,2,59,118,8816,8818,1,8208,59,1,8867,4,2,107,108,8827,8834,97,114,111,119,59,1,10511,97,99,59,1,733,4,2,97,121,8845,8851,114,111,110,59,1,271,59,1,1076,4,3,59,97,111,8862,8864,8880,1,8518,4,2,103,114,8870,8876,103,101,114,59,1,8225,114,59,1,8650,116,115,101,113,59,1,10871,4,3,103,108,109,8895,8902,8907,5,176,1,59,8900,1,176,116,97,59,1,948,112,116,121,118,59,1,10673,4,2,105,114,8920,8926,115,104,116,59,1,10623,59,3,55349,56609,97,114,4,2,108,114,8938,8941,59,1,8643,59,1,8642,4,5,97,101,103,115,118,8956,8986,8989,8996,9001,109,4,3,59,111,115,8965,8967,8983,1,8900,110,100,4,2,59,115,8975,8977,1,8900,117,105,116,59,1,9830,59,1,9830,59,1,168,97,109,109,97,59,1,989,105,110,59,1,8946,4,3,59,105,111,9009,9011,9031,1,247,100,101,5,247,2,59,111,9020,9022,1,247,110,116,105,109,101,115,59,1,8903,110,120,59,1,8903,99,121,59,1,1106,99,4,2,111,114,9048,9053,114,110,59,1,8990,111,112,59,1,8973,4,5,108,112,116,117,119,9070,9076,9081,9130,9144,108,97,114,59,1,36,102,59,3,55349,56661,4,5,59,101,109,112,115,9093,9095,9109,9116,9122,1,729,113,4,2,59,100,9102,9104,1,8784,111,116,59,1,8785,105,110,117,115,59,1,8760,108,117,115,59,1,8724,113,117,97,114,101,59,1,8865,98,108,101,98,97,114,119,101,100,103,101,59,1,8966,110,4,3,97,100,104,9153,9160,9172,114,114,111,119,59,1,8595,111,119,110,97,114,114,111,119,115,59,1,8650,97,114,112,111,111,110,4,2,108,114,9184,9190,101,102,116,59,1,8643,105,103,104,116,59,1,8642,4,2,98,99,9203,9211,107,97,114,111,119,59,1,10512,4,2,111,114,9217,9222,114,110,59,1,8991,111,112,59,1,8972,4,3,99,111,116,9235,9248,9252,4,2,114,121,9241,9245,59,3,55349,56505,59,1,1109,108,59,1,10742,114,111,107,59,1,273,4,2,100,114,9264,9269,111,116,59,1,8945,105,4,2,59,102,9276,9278,1,9663,59,1,9662,4,2,97,104,9287,9292,114,114,59,1,8693,97,114,59,1,10607,97,110,103,108,101,59,1,10662,4,2,99,105,9311,9315,121,59,1,1119,103,114,97,114,114,59,1,10239,4,18,68,97,99,100,101,102,103,108,109,110,111,112,113,114,115,116,117,120,9361,9376,9398,9439,9444,9447,9462,9495,9531,9585,9598,9614,9659,9755,9771,9792,9808,9826,4,2,68,111,9367,9372,111,116,59,1,10871,116,59,1,8785,4,2,99,115,9382,9392,117,116,101,5,233,1,59,9390,1,233,116,101,114,59,1,10862,4,4,97,105,111,121,9408,9414,9430,9436,114,111,110,59,1,283,114,4,2,59,99,9421,9423,1,8790,5,234,1,59,9428,1,234,108,111,110,59,1,8789,59,1,1101,111,116,59,1,279,59,1,8519,4,2,68,114,9453,9458,111,116,59,1,8786,59,3,55349,56610,4,3,59,114,115,9470,9472,9482,1,10906,97,118,101,5,232,1,59,9480,1,232,4,2,59,100,9488,9490,1,10902,111,116,59,1,10904,4,4,59,105,108,115,9505,9507,9515,9518,1,10905,110,116,101,114,115,59,1,9191,59,1,8467,4,2,59,100,9524,9526,1,10901,111,116,59,1,10903,4,3,97,112,115,9539,9544,9564,99,114,59,1,275,116,121,4,3,59,115,118,9554,9556,9561,1,8709,101,116,59,1,8709,59,1,8709,112,4,2,49,59,9571,9583,4,2,51,52,9577,9580,59,1,8196,59,1,8197,1,8195,4,2,103,115,9591,9594,59,1,331,112,59,1,8194,4,2,103,112,9604,9609,111,110,59,1,281,102,59,3,55349,56662,4,3,97,108,115,9622,9635,9640,114,4,2,59,115,9629,9631,1,8917,108,59,1,10723,117,115,59,1,10865,105,4,3,59,108,118,9649,9651,9656,1,949,111,110,59,1,949,59,1,1013,4,4,99,115,117,118,9669,9686,9716,9747,4,2,105,111,9675,9680,114,99,59,1,8790,108,111,110,59,1,8789,4,2,105,108,9692,9696,109,59,1,8770,97,110,116,4,2,103,108,9705,9710,116,114,59,1,10902,101,115,115,59,1,10901,4,3,97,101,105,9724,9729,9734,108,115,59,1,61,115,116,59,1,8799,118,4,2,59,68,9741,9743,1,8801,68,59,1,10872,112,97,114,115,108,59,1,10725,4,2,68,97,9761,9766,111,116,59,1,8787,114,114,59,1,10609,4,3,99,100,105,9779,9783,9788,114,59,1,8495,111,116,59,1,8784,109,59,1,8770,4,2,97,104,9798,9801,59,1,951,5,240,1,59,9806,1,240,4,2,109,114,9814,9822,108,5,235,1,59,9820,1,235,111,59,1,8364,4,3,99,105,112,9834,9838,9843,108,59,1,33,115,116,59,1,8707,4,2,101,111,9849,9859,99,116,97,116,105,111,110,59,1,8496,110,101,110,116,105,97,108,101,59,1,8519,4,12,97,99,101,102,105,106,108,110,111,112,114,115,9896,9910,9914,9921,9954,9960,9967,9989,9994,10027,10036,10164,108,108,105,110,103,100,111,116,115,101,113,59,1,8786,121,59,1,1092,109,97,108,101,59,1,9792,4,3,105,108,114,9929,9935,9950,108,105,103,59,1,64259,4,2,105,108,9941,9945,103,59,1,64256,105,103,59,1,64260,59,3,55349,56611,108,105,103,59,1,64257,108,105,103,59,3,102,106,4,3,97,108,116,9975,9979,9984,116,59,1,9837,105,103,59,1,64258,110,115,59,1,9649,111,102,59,1,402,4,2,112,114,1e4,10005,102,59,3,55349,56663,4,2,97,107,10011,10016,108,108,59,1,8704,4,2,59,118,10022,10024,1,8916,59,1,10969,97,114,116,105,110,116,59,1,10765,4,2,97,111,10042,10159,4,2,99,115,10048,10155,4,6,49,50,51,52,53,55,10062,10102,10114,10135,10139,10151,4,6,50,51,52,53,54,56,10076,10083,10086,10093,10096,10099,5,189,1,59,10081,1,189,59,1,8531,5,188,1,59,10091,1,188,59,1,8533,59,1,8537,59,1,8539,4,2,51,53,10108,10111,59,1,8532,59,1,8534,4,3,52,53,56,10122,10129,10132,5,190,1,59,10127,1,190,59,1,8535,59,1,8540,53,59,1,8536,4,2,54,56,10145,10148,59,1,8538,59,1,8541,56,59,1,8542,108,59,1,8260,119,110,59,1,8994,99,114,59,3,55349,56507,4,17,69,97,98,99,100,101,102,103,105,106,108,110,111,114,115,116,118,10206,10217,10247,10254,10268,10273,10358,10363,10374,10380,10385,10406,10458,10464,10470,10497,10610,4,2,59,108,10212,10214,1,8807,59,1,10892,4,3,99,109,112,10225,10231,10244,117,116,101,59,1,501,109,97,4,2,59,100,10239,10241,1,947,59,1,989,59,1,10886,114,101,118,101,59,1,287,4,2,105,121,10260,10265,114,99,59,1,285,59,1,1075,111,116,59,1,289,4,4,59,108,113,115,10283,10285,10288,10308,1,8805,59,1,8923,4,3,59,113,115,10296,10298,10301,1,8805,59,1,8807,108,97,110,116,59,1,10878,4,4,59,99,100,108,10318,10320,10324,10345,1,10878,99,59,1,10921,111,116,4,2,59,111,10332,10334,1,10880,4,2,59,108,10340,10342,1,10882,59,1,10884,4,2,59,101,10351,10354,3,8923,65024,115,59,1,10900,114,59,3,55349,56612,4,2,59,103,10369,10371,1,8811,59,1,8921,109,101,108,59,1,8503,99,121,59,1,1107,4,4,59,69,97,106,10395,10397,10400,10403,1,8823,59,1,10898,59,1,10917,59,1,10916,4,4,69,97,101,115,10416,10419,10434,10453,59,1,8809,112,4,2,59,112,10426,10428,1,10890,114,111,120,59,1,10890,4,2,59,113,10440,10442,1,10888,4,2,59,113,10448,10450,1,10888,59,1,8809,105,109,59,1,8935,112,102,59,3,55349,56664,97,118,101,59,1,96,4,2,99,105,10476,10480,114,59,1,8458,109,4,3,59,101,108,10489,10491,10494,1,8819,59,1,10894,59,1,10896,5,62,6,59,99,100,108,113,114,10512,10514,10527,10532,10538,10545,1,62,4,2,99,105,10520,10523,59,1,10919,114,59,1,10874,111,116,59,1,8919,80,97,114,59,1,10645,117,101,115,116,59,1,10876,4,5,97,100,101,108,115,10557,10574,10579,10599,10605,4,2,112,114,10563,10570,112,114,111,120,59,1,10886,114,59,1,10616,111,116,59,1,8919,113,4,2,108,113,10586,10592,101,115,115,59,1,8923,108,101,115,115,59,1,10892,101,115,115,59,1,8823,105,109,59,1,8819,4,2,101,110,10616,10626,114,116,110,101,113,113,59,3,8809,65024,69,59,3,8809,65024,4,10,65,97,98,99,101,102,107,111,115,121,10653,10658,10713,10718,10724,10760,10765,10786,10850,10875,114,114,59,1,8660,4,4,105,108,109,114,10668,10674,10678,10684,114,115,112,59,1,8202,102,59,1,189,105,108,116,59,1,8459,4,2,100,114,10690,10695,99,121,59,1,1098,4,3,59,99,119,10703,10705,10710,1,8596,105,114,59,1,10568,59,1,8621,97,114,59,1,8463,105,114,99,59,1,293,4,3,97,108,114,10732,10748,10754,114,116,115,4,2,59,117,10741,10743,1,9829,105,116,59,1,9829,108,105,112,59,1,8230,99,111,110,59,1,8889,114,59,3,55349,56613,115,4,2,101,119,10772,10779,97,114,111,119,59,1,10533,97,114,111,119,59,1,10534,4,5,97,109,111,112,114,10798,10803,10809,10839,10844,114,114,59,1,8703,116,104,116,59,1,8763,107,4,2,108,114,10816,10827,101,102,116,97,114,114,111,119,59,1,8617,105,103,104,116,97,114,114,111,119,59,1,8618,102,59,3,55349,56665,98,97,114,59,1,8213,4,3,99,108,116,10858,10863,10869,114,59,3,55349,56509,97,115,104,59,1,8463,114,111,107,59,1,295,4,2,98,112,10881,10887,117,108,108,59,1,8259,104,101,110,59,1,8208,4,15,97,99,101,102,103,105,106,109,110,111,112,113,115,116,117,10925,10936,10958,10977,10990,11001,11039,11045,11101,11192,11220,11226,11237,11285,11299,99,117,116,101,5,237,1,59,10934,1,237,4,3,59,105,121,10944,10946,10955,1,8291,114,99,5,238,1,59,10953,1,238,59,1,1080,4,2,99,120,10964,10968,121,59,1,1077,99,108,5,161,1,59,10975,1,161,4,2,102,114,10983,10986,59,1,8660,59,3,55349,56614,114,97,118,101,5,236,1,59,10999,1,236,4,4,59,105,110,111,11011,11013,11028,11034,1,8520,4,2,105,110,11019,11024,110,116,59,1,10764,116,59,1,8749,102,105,110,59,1,10716,116,97,59,1,8489,108,105,103,59,1,307,4,3,97,111,112,11053,11092,11096,4,3,99,103,116,11061,11065,11088,114,59,1,299,4,3,101,108,112,11073,11076,11082,59,1,8465,105,110,101,59,1,8464,97,114,116,59,1,8465,104,59,1,305,102,59,1,8887,101,100,59,1,437,4,5,59,99,102,111,116,11113,11115,11121,11136,11142,1,8712,97,114,101,59,1,8453,105,110,4,2,59,116,11129,11131,1,8734,105,101,59,1,10717,100,111,116,59,1,305,4,5,59,99,101,108,112,11154,11156,11161,11179,11186,1,8747,97,108,59,1,8890,4,2,103,114,11167,11173,101,114,115,59,1,8484,99,97,108,59,1,8890,97,114,104,107,59,1,10775,114,111,100,59,1,10812,4,4,99,103,112,116,11202,11206,11211,11216,121,59,1,1105,111,110,59,1,303,102,59,3,55349,56666,97,59,1,953,114,111,100,59,1,10812,117,101,115,116,5,191,1,59,11235,1,191,4,2,99,105,11243,11248,114,59,3,55349,56510,110,4,5,59,69,100,115,118,11261,11263,11266,11271,11282,1,8712,59,1,8953,111,116,59,1,8949,4,2,59,118,11277,11279,1,8948,59,1,8947,59,1,8712,4,2,59,105,11291,11293,1,8290,108,100,101,59,1,297,4,2,107,109,11305,11310,99,121,59,1,1110,108,5,239,1,59,11316,1,239,4,6,99,102,109,111,115,117,11332,11346,11351,11357,11363,11380,4,2,105,121,11338,11343,114,99,59,1,309,59,1,1081,114,59,3,55349,56615,97,116,104,59,1,567,112,102,59,3,55349,56667,4,2,99,101,11369,11374,114,59,3,55349,56511,114,99,121,59,1,1112,107,99,121,59,1,1108,4,8,97,99,102,103,104,106,111,115,11404,11418,11433,11438,11445,11450,11455,11461,112,112,97,4,2,59,118,11413,11415,1,954,59,1,1008,4,2,101,121,11424,11430,100,105,108,59,1,311,59,1,1082,114,59,3,55349,56616,114,101,101,110,59,1,312,99,121,59,1,1093,99,121,59,1,1116,112,102,59,3,55349,56668,99,114,59,3,55349,56512,4,23,65,66,69,72,97,98,99,100,101,102,103,104,106,108,109,110,111,112,114,115,116,117,118,11515,11538,11544,11555,11560,11721,11780,11818,11868,12136,12160,12171,12203,12208,12246,12275,12327,12509,12523,12569,12641,12732,12752,4,3,97,114,116,11523,11528,11532,114,114,59,1,8666,114,59,1,8656,97,105,108,59,1,10523,97,114,114,59,1,10510,4,2,59,103,11550,11552,1,8806,59,1,10891,97,114,59,1,10594,4,9,99,101,103,109,110,112,113,114,116,11580,11586,11594,11600,11606,11624,11627,11636,11694,117,116,101,59,1,314,109,112,116,121,118,59,1,10676,114,97,110,59,1,8466,98,100,97,59,1,955,103,4,3,59,100,108,11615,11617,11620,1,10216,59,1,10641,101,59,1,10216,59,1,10885,117,111,5,171,1,59,11634,1,171,114,4,8,59,98,102,104,108,112,115,116,11655,11657,11669,11673,11677,11681,11685,11690,1,8592,4,2,59,102,11663,11665,1,8676,115,59,1,10527,115,59,1,10525,107,59,1,8617,112,59,1,8619,108,59,1,10553,105,109,59,1,10611,108,59,1,8610,4,3,59,97,101,11702,11704,11709,1,10923,105,108,59,1,10521,4,2,59,115,11715,11717,1,10925,59,3,10925,65024,4,3,97,98,114,11729,11734,11739,114,114,59,1,10508,114,107,59,1,10098,4,2,97,107,11745,11758,99,4,2,101,107,11752,11755,59,1,123,59,1,91,4,2,101,115,11764,11767,59,1,10635,108,4,2,100,117,11774,11777,59,1,10639,59,1,10637,4,4,97,101,117,121,11790,11796,11811,11815,114,111,110,59,1,318,4,2,100,105,11802,11807,105,108,59,1,316,108,59,1,8968,98,59,1,123,59,1,1083,4,4,99,113,114,115,11828,11832,11845,11864,97,59,1,10550,117,111,4,2,59,114,11840,11842,1,8220,59,1,8222,4,2,100,117,11851,11857,104,97,114,59,1,10599,115,104,97,114,59,1,10571,104,59,1,8626,4,5,59,102,103,113,115,11880,11882,12008,12011,12031,1,8804,116,4,5,97,104,108,114,116,11895,11913,11935,11947,11996,114,114,111,119,4,2,59,116,11905,11907,1,8592,97,105,108,59,1,8610,97,114,112,111,111,110,4,2,100,117,11925,11931,111,119,110,59,1,8637,112,59,1,8636,101,102,116,97,114,114,111,119,115,59,1,8647,105,103,104,116,4,3,97,104,115,11959,11974,11984,114,114,111,119,4,2,59,115,11969,11971,1,8596,59,1,8646,97,114,112,111,111,110,115,59,1,8651,113,117,105,103,97,114,114,111,119,59,1,8621,104,114,101,101,116,105,109,101,115,59,1,8907,59,1,8922,4,3,59,113,115,12019,12021,12024,1,8804,59,1,8806,108,97,110,116,59,1,10877,4,5,59,99,100,103,115,12043,12045,12049,12070,12083,1,10877,99,59,1,10920,111,116,4,2,59,111,12057,12059,1,10879,4,2,59,114,12065,12067,1,10881,59,1,10883,4,2,59,101,12076,12079,3,8922,65024,115,59,1,10899,4,5,97,100,101,103,115,12095,12103,12108,12126,12131,112,112,114,111,120,59,1,10885,111,116,59,1,8918,113,4,2,103,113,12115,12120,116,114,59,1,8922,103,116,114,59,1,10891,116,114,59,1,8822,105,109,59,1,8818,4,3,105,108,114,12144,12150,12156,115,104,116,59,1,10620,111,111,114,59,1,8970,59,3,55349,56617,4,2,59,69,12166,12168,1,8822,59,1,10897,4,2,97,98,12177,12198,114,4,2,100,117,12184,12187,59,1,8637,4,2,59,108,12193,12195,1,8636,59,1,10602,108,107,59,1,9604,99,121,59,1,1113,4,5,59,97,99,104,116,12220,12222,12227,12235,12241,1,8810,114,114,59,1,8647,111,114,110,101,114,59,1,8990,97,114,100,59,1,10603,114,105,59,1,9722,4,2,105,111,12252,12258,100,111,116,59,1,320,117,115,116,4,2,59,97,12267,12269,1,9136,99,104,101,59,1,9136,4,4,69,97,101,115,12285,12288,12303,12322,59,1,8808,112,4,2,59,112,12295,12297,1,10889,114,111,120,59,1,10889,4,2,59,113,12309,12311,1,10887,4,2,59,113,12317,12319,1,10887,59,1,8808,105,109,59,1,8934,4,8,97,98,110,111,112,116,119,122,12345,12359,12364,12421,12446,12467,12474,12490,4,2,110,114,12351,12355,103,59,1,10220,114,59,1,8701,114,107,59,1,10214,103,4,3,108,109,114,12373,12401,12409,101,102,116,4,2,97,114,12382,12389,114,114,111,119,59,1,10229,105,103,104,116,97,114,114,111,119,59,1,10231,97,112,115,116,111,59,1,10236,105,103,104,116,97,114,114,111,119,59,1,10230,112,97,114,114,111,119,4,2,108,114,12433,12439,101,102,116,59,1,8619,105,103,104,116,59,1,8620,4,3,97,102,108,12454,12458,12462,114,59,1,10629,59,3,55349,56669,117,115,59,1,10797,105,109,101,115,59,1,10804,4,2,97,98,12480,12485,115,116,59,1,8727,97,114,59,1,95,4,3,59,101,102,12498,12500,12506,1,9674,110,103,101,59,1,9674,59,1,10731,97,114,4,2,59,108,12517,12519,1,40,116,59,1,10643,4,5,97,99,104,109,116,12535,12540,12548,12561,12564,114,114,59,1,8646,111,114,110,101,114,59,1,8991,97,114,4,2,59,100,12556,12558,1,8651,59,1,10605,59,1,8206,114,105,59,1,8895,4,6,97,99,104,105,113,116,12583,12589,12594,12597,12614,12635,113,117,111,59,1,8249,114,59,3,55349,56513,59,1,8624,109,4,3,59,101,103,12606,12608,12611,1,8818,59,1,10893,59,1,10895,4,2,98,117,12620,12623,59,1,91,111,4,2,59,114,12630,12632,1,8216,59,1,8218,114,111,107,59,1,322,5,60,8,59,99,100,104,105,108,113,114,12660,12662,12675,12680,12686,12692,12698,12705,1,60,4,2,99,105,12668,12671,59,1,10918,114,59,1,10873,111,116,59,1,8918,114,101,101,59,1,8907,109,101,115,59,1,8905,97,114,114,59,1,10614,117,101,115,116,59,1,10875,4,2,80,105,12711,12716,97,114,59,1,10646,4,3,59,101,102,12724,12726,12729,1,9667,59,1,8884,59,1,9666,114,4,2,100,117,12739,12746,115,104,97,114,59,1,10570,104,97,114,59,1,10598,4,2,101,110,12758,12768,114,116,110,101,113,113,59,3,8808,65024,69,59,3,8808,65024,4,14,68,97,99,100,101,102,104,105,108,110,111,112,115,117,12803,12809,12893,12908,12914,12928,12933,12937,13011,13025,13032,13049,13052,13069,68,111,116,59,1,8762,4,4,99,108,112,114,12819,12827,12849,12887,114,5,175,1,59,12825,1,175,4,2,101,116,12833,12836,59,1,9794,4,2,59,101,12842,12844,1,10016,115,101,59,1,10016,4,2,59,115,12855,12857,1,8614,116,111,4,4,59,100,108,117,12869,12871,12877,12883,1,8614,111,119,110,59,1,8615,101,102,116,59,1,8612,112,59,1,8613,107,101,114,59,1,9646,4,2,111,121,12899,12905,109,109,97,59,1,10793,59,1,1084,97,115,104,59,1,8212,97,115,117,114,101,100,97,110,103,108,101,59,1,8737,114,59,3,55349,56618,111,59,1,8487,4,3,99,100,110,12945,12954,12985,114,111,5,181,1,59,12952,1,181,4,4,59,97,99,100,12964,12966,12971,12976,1,8739,115,116,59,1,42,105,114,59,1,10992,111,116,5,183,1,59,12983,1,183,117,115,4,3,59,98,100,12995,12997,13e3,1,8722,59,1,8863,4,2,59,117,13006,13008,1,8760,59,1,10794,4,2,99,100,13017,13021,112,59,1,10971,114,59,1,8230,112,108,117,115,59,1,8723,4,2,100,112,13038,13044,101,108,115,59,1,8871,102,59,3,55349,56670,59,1,8723,4,2,99,116,13058,13063,114,59,3,55349,56514,112,111,115,59,1,8766,4,3,59,108,109,13077,13079,13087,1,956,116,105,109,97,112,59,1,8888,97,112,59,1,8888,4,24,71,76,82,86,97,98,99,100,101,102,103,104,105,106,108,109,111,112,114,115,116,117,118,119,13142,13165,13217,13229,13247,13330,13359,13414,13420,13508,13513,13579,13602,13626,13631,13762,13767,13855,13936,13995,14214,14285,14312,14432,4,2,103,116,13148,13152,59,3,8921,824,4,2,59,118,13158,13161,3,8811,8402,59,3,8811,824,4,3,101,108,116,13173,13200,13204,102,116,4,2,97,114,13181,13188,114,114,111,119,59,1,8653,105,103,104,116,97,114,114,111,119,59,1,8654,59,3,8920,824,4,2,59,118,13210,13213,3,8810,8402,59,3,8810,824,105,103,104,116,97,114,114,111,119,59,1,8655,4,2,68,100,13235,13241,97,115,104,59,1,8879,97,115,104,59,1,8878,4,5,98,99,110,112,116,13259,13264,13270,13275,13308,108,97,59,1,8711,117,116,101,59,1,324,103,59,3,8736,8402,4,5,59,69,105,111,112,13287,13289,13293,13298,13302,1,8777,59,3,10864,824,100,59,3,8779,824,115,59,1,329,114,111,120,59,1,8777,117,114,4,2,59,97,13316,13318,1,9838,108,4,2,59,115,13325,13327,1,9838,59,1,8469,4,2,115,117,13336,13344,112,5,160,1,59,13342,1,160,109,112,4,2,59,101,13352,13355,3,8782,824,59,3,8783,824,4,5,97,101,111,117,121,13371,13385,13391,13407,13411,4,2,112,114,13377,13380,59,1,10819,111,110,59,1,328,100,105,108,59,1,326,110,103,4,2,59,100,13399,13401,1,8775,111,116,59,3,10861,824,112,59,1,10818,59,1,1085,97,115,104,59,1,8211,4,7,59,65,97,100,113,115,120,13436,13438,13443,13466,13472,13478,13494,1,8800,114,114,59,1,8663,114,4,2,104,114,13450,13454,107,59,1,10532,4,2,59,111,13460,13462,1,8599,119,59,1,8599,111,116,59,3,8784,824,117,105,118,59,1,8802,4,2,101,105,13484,13489,97,114,59,1,10536,109,59,3,8770,824,105,115,116,4,2,59,115,13503,13505,1,8708,59,1,8708,114,59,3,55349,56619,4,4,69,101,115,116,13523,13527,13563,13568,59,3,8807,824,4,3,59,113,115,13535,13537,13559,1,8817,4,3,59,113,115,13545,13547,13551,1,8817,59,3,8807,824,108,97,110,116,59,3,10878,824,59,3,10878,824,105,109,59,1,8821,4,2,59,114,13574,13576,1,8815,59,1,8815,4,3,65,97,112,13587,13592,13597,114,114,59,1,8654,114,114,59,1,8622,97,114,59,1,10994,4,3,59,115,118,13610,13612,13623,1,8715,4,2,59,100,13618,13620,1,8956,59,1,8954,59,1,8715,99,121,59,1,1114,4,7,65,69,97,100,101,115,116,13647,13652,13656,13661,13665,13737,13742,114,114,59,1,8653,59,3,8806,824,114,114,59,1,8602,114,59,1,8229,4,4,59,102,113,115,13675,13677,13703,13725,1,8816,116,4,2,97,114,13684,13691,114,114,111,119,59,1,8602,105,103,104,116,97,114,114,111,119,59,1,8622,4,3,59,113,115,13711,13713,13717,1,8816,59,3,8806,824,108,97,110,116,59,3,10877,824,4,2,59,115,13731,13734,3,10877,824,59,1,8814,105,109,59,1,8820,4,2,59,114,13748,13750,1,8814,105,4,2,59,101,13757,13759,1,8938,59,1,8940,105,100,59,1,8740,4,2,112,116,13773,13778,102,59,3,55349,56671,5,172,3,59,105,110,13787,13789,13829,1,172,110,4,4,59,69,100,118,13800,13802,13806,13812,1,8713,59,3,8953,824,111,116,59,3,8949,824,4,3,97,98,99,13820,13823,13826,59,1,8713,59,1,8951,59,1,8950,105,4,2,59,118,13836,13838,1,8716,4,3,97,98,99,13846,13849,13852,59,1,8716,59,1,8958,59,1,8957,4,3,97,111,114,13863,13892,13899,114,4,4,59,97,115,116,13874,13876,13883,13888,1,8742,108,108,101,108,59,1,8742,108,59,3,11005,8421,59,3,8706,824,108,105,110,116,59,1,10772,4,3,59,99,101,13907,13909,13914,1,8832,117,101,59,1,8928,4,2,59,99,13920,13923,3,10927,824,4,2,59,101,13929,13931,1,8832,113,59,3,10927,824,4,4,65,97,105,116,13946,13951,13971,13982,114,114,59,1,8655,114,114,4,3,59,99,119,13961,13963,13967,1,8603,59,3,10547,824,59,3,8605,824,103,104,116,97,114,114,111,119,59,1,8603,114,105,4,2,59,101,13990,13992,1,8939,59,1,8941,4,7,99,104,105,109,112,113,117,14011,14036,14060,14080,14085,14090,14106,4,4,59,99,101,114,14021,14023,14028,14032,1,8833,117,101,59,1,8929,59,3,10928,824,59,3,55349,56515,111,114,116,4,2,109,112,14045,14050,105,100,59,1,8740,97,114,97,108,108,101,108,59,1,8742,109,4,2,59,101,14067,14069,1,8769,4,2,59,113,14075,14077,1,8772,59,1,8772,105,100,59,1,8740,97,114,59,1,8742,115,117,4,2,98,112,14098,14102,101,59,1,8930,101,59,1,8931,4,3,98,99,112,14114,14157,14171,4,4,59,69,101,115,14124,14126,14130,14133,1,8836,59,3,10949,824,59,1,8840,101,116,4,2,59,101,14141,14144,3,8834,8402,113,4,2,59,113,14151,14153,1,8840,59,3,10949,824,99,4,2,59,101,14164,14166,1,8833,113,59,3,10928,824,4,4,59,69,101,115,14181,14183,14187,14190,1,8837,59,3,10950,824,59,1,8841,101,116,4,2,59,101,14198,14201,3,8835,8402,113,4,2,59,113,14208,14210,1,8841,59,3,10950,824,4,4,103,105,108,114,14224,14228,14238,14242,108,59,1,8825,108,100,101,5,241,1,59,14236,1,241,103,59,1,8824,105,97,110,103,108,101,4,2,108,114,14254,14269,101,102,116,4,2,59,101,14263,14265,1,8938,113,59,1,8940,105,103,104,116,4,2,59,101,14279,14281,1,8939,113,59,1,8941,4,2,59,109,14291,14293,1,957,4,3,59,101,115,14301,14303,14308,1,35,114,111,59,1,8470,112,59,1,8199,4,9,68,72,97,100,103,105,108,114,115,14332,14338,14344,14349,14355,14369,14376,14408,14426,97,115,104,59,1,8877,97,114,114,59,1,10500,112,59,3,8781,8402,97,115,104,59,1,8876,4,2,101,116,14361,14365,59,3,8805,8402,59,3,62,8402,110,102,105,110,59,1,10718,4,3,65,101,116,14384,14389,14393,114,114,59,1,10498,59,3,8804,8402,4,2,59,114,14399,14402,3,60,8402,105,101,59,3,8884,8402,4,2,65,116,14414,14419,114,114,59,1,10499,114,105,101,59,3,8885,8402,105,109,59,3,8764,8402,4,3,65,97,110,14440,14445,14468,114,114,59,1,8662,114,4,2,104,114,14452,14456,107,59,1,10531,4,2,59,111,14462,14464,1,8598,119,59,1,8598,101,97,114,59,1,10535,4,18,83,97,99,100,101,102,103,104,105,108,109,111,112,114,115,116,117,118,14512,14515,14535,14560,14597,14603,14618,14643,14657,14662,14701,14741,14747,14769,14851,14877,14907,14916,59,1,9416,4,2,99,115,14521,14531,117,116,101,5,243,1,59,14529,1,243,116,59,1,8859,4,2,105,121,14541,14557,114,4,2,59,99,14548,14550,1,8858,5,244,1,59,14555,1,244,59,1,1086,4,5,97,98,105,111,115,14572,14577,14583,14587,14591,115,104,59,1,8861,108,97,99,59,1,337,118,59,1,10808,116,59,1,8857,111,108,100,59,1,10684,108,105,103,59,1,339,4,2,99,114,14609,14614,105,114,59,1,10687,59,3,55349,56620,4,3,111,114,116,14626,14630,14640,110,59,1,731,97,118,101,5,242,1,59,14638,1,242,59,1,10689,4,2,98,109,14649,14654,97,114,59,1,10677,59,1,937,110,116,59,1,8750,4,4,97,99,105,116,14672,14677,14693,14698,114,114,59,1,8634,4,2,105,114,14683,14687,114,59,1,10686,111,115,115,59,1,10683,110,101,59,1,8254,59,1,10688,4,3,97,101,105,14709,14714,14719,99,114,59,1,333,103,97,59,1,969,4,3,99,100,110,14727,14733,14736,114,111,110,59,1,959,59,1,10678,117,115,59,1,8854,112,102,59,3,55349,56672,4,3,97,101,108,14755,14759,14764,114,59,1,10679,114,112,59,1,10681,117,115,59,1,8853,4,7,59,97,100,105,111,115,118,14785,14787,14792,14831,14837,14841,14848,1,8744,114,114,59,1,8635,4,4,59,101,102,109,14802,14804,14817,14824,1,10845,114,4,2,59,111,14811,14813,1,8500,102,59,1,8500,5,170,1,59,14822,1,170,5,186,1,59,14829,1,186,103,111,102,59,1,8886,114,59,1,10838,108,111,112,101,59,1,10839,59,1,10843,4,3,99,108,111,14859,14863,14873,114,59,1,8500,97,115,104,5,248,1,59,14871,1,248,108,59,1,8856,105,4,2,108,109,14884,14893,100,101,5,245,1,59,14891,1,245,101,115,4,2,59,97,14901,14903,1,8855,115,59,1,10806,109,108,5,246,1,59,14914,1,246,98,97,114,59,1,9021,4,12,97,99,101,102,104,105,108,109,111,114,115,117,14948,14992,14996,15033,15038,15068,15090,15189,15192,15222,15427,15441,114,4,4,59,97,115,116,14959,14961,14976,14989,1,8741,5,182,2,59,108,14968,14970,1,182,108,101,108,59,1,8741,4,2,105,108,14982,14986,109,59,1,10995,59,1,11005,59,1,8706,121,59,1,1087,114,4,5,99,105,109,112,116,15009,15014,15019,15024,15027,110,116,59,1,37,111,100,59,1,46,105,108,59,1,8240,59,1,8869,101,110,107,59,1,8241,114,59,3,55349,56621,4,3,105,109,111,15046,15057,15063,4,2,59,118,15052,15054,1,966,59,1,981,109,97,116,59,1,8499,110,101,59,1,9742,4,3,59,116,118,15076,15078,15087,1,960,99,104,102,111,114,107,59,1,8916,59,1,982,4,2,97,117,15096,15119,110,4,2,99,107,15103,15115,107,4,2,59,104,15110,15112,1,8463,59,1,8462,118,59,1,8463,115,4,9,59,97,98,99,100,101,109,115,116,15140,15142,15148,15151,15156,15168,15171,15179,15184,1,43,99,105,114,59,1,10787,59,1,8862,105,114,59,1,10786,4,2,111,117,15162,15165,59,1,8724,59,1,10789,59,1,10866,110,5,177,1,59,15177,1,177,105,109,59,1,10790,119,111,59,1,10791,59,1,177,4,3,105,112,117,15200,15208,15213,110,116,105,110,116,59,1,10773,102,59,3,55349,56673,110,100,5,163,1,59,15220,1,163,4,10,59,69,97,99,101,105,110,111,115,117,15244,15246,15249,15253,15258,15334,15347,15367,15416,15421,1,8826,59,1,10931,112,59,1,10935,117,101,59,1,8828,4,2,59,99,15264,15266,1,10927,4,6,59,97,99,101,110,115,15280,15282,15290,15299,15303,15329,1,8826,112,112,114,111,120,59,1,10935,117,114,108,121,101,113,59,1,8828,113,59,1,10927,4,3,97,101,115,15311,15319,15324,112,112,114,111,120,59,1,10937,113,113,59,1,10933,105,109,59,1,8936,105,109,59,1,8830,109,101,4,2,59,115,15342,15344,1,8242,59,1,8473,4,3,69,97,115,15355,15358,15362,59,1,10933,112,59,1,10937,105,109,59,1,8936,4,3,100,102,112,15375,15378,15404,59,1,8719,4,3,97,108,115,15386,15392,15398,108,97,114,59,1,9006,105,110,101,59,1,8978,117,114,102,59,1,8979,4,2,59,116,15410,15412,1,8733,111,59,1,8733,105,109,59,1,8830,114,101,108,59,1,8880,4,2,99,105,15433,15438,114,59,3,55349,56517,59,1,968,110,99,115,112,59,1,8200,4,6,102,105,111,112,115,117,15462,15467,15472,15478,15485,15491,114,59,3,55349,56622,110,116,59,1,10764,112,102,59,3,55349,56674,114,105,109,101,59,1,8279,99,114,59,3,55349,56518,4,3,97,101,111,15499,15520,15534,116,4,2,101,105,15506,15515,114,110,105,111,110,115,59,1,8461,110,116,59,1,10774,115,116,4,2,59,101,15528,15530,1,63,113,59,1,8799,116,5,34,1,59,15540,1,34,4,21,65,66,72,97,98,99,100,101,102,104,105,108,109,110,111,112,114,115,116,117,120,15586,15609,15615,15620,15796,15855,15893,15931,15977,16001,16039,16183,16204,16222,16228,16285,16312,16318,16363,16408,16416,4,3,97,114,116,15594,15599,15603,114,114,59,1,8667,114,59,1,8658,97,105,108,59,1,10524,97,114,114,59,1,10511,97,114,59,1,10596,4,7,99,100,101,110,113,114,116,15636,15651,15656,15664,15687,15696,15770,4,2,101,117,15642,15646,59,3,8765,817,116,101,59,1,341,105,99,59,1,8730,109,112,116,121,118,59,1,10675,103,4,4,59,100,101,108,15675,15677,15680,15683,1,10217,59,1,10642,59,1,10661,101,59,1,10217,117,111,5,187,1,59,15694,1,187,114,4,11,59,97,98,99,102,104,108,112,115,116,119,15721,15723,15727,15739,15742,15746,15750,15754,15758,15763,15767,1,8594,112,59,1,10613,4,2,59,102,15733,15735,1,8677,115,59,1,10528,59,1,10547,115,59,1,10526,107,59,1,8618,112,59,1,8620,108,59,1,10565,105,109,59,1,10612,108,59,1,8611,59,1,8605,4,2,97,105,15776,15781,105,108,59,1,10522,111,4,2,59,110,15788,15790,1,8758,97,108,115,59,1,8474,4,3,97,98,114,15804,15809,15814,114,114,59,1,10509,114,107,59,1,10099,4,2,97,107,15820,15833,99,4,2,101,107,15827,15830,59,1,125,59,1,93,4,2,101,115,15839,15842,59,1,10636,108,4,2,100,117,15849,15852,59,1,10638,59,1,10640,4,4,97,101,117,121,15865,15871,15886,15890,114,111,110,59,1,345,4,2,100,105,15877,15882,105,108,59,1,343,108,59,1,8969,98,59,1,125,59,1,1088,4,4,99,108,113,115,15903,15907,15914,15927,97,59,1,10551,100,104,97,114,59,1,10601,117,111,4,2,59,114,15922,15924,1,8221,59,1,8221,104,59,1,8627,4,3,97,99,103,15939,15966,15970,108,4,4,59,105,112,115,15950,15952,15957,15963,1,8476,110,101,59,1,8475,97,114,116,59,1,8476,59,1,8477,116,59,1,9645,5,174,1,59,15975,1,174,4,3,105,108,114,15985,15991,15997,115,104,116,59,1,10621,111,111,114,59,1,8971,59,3,55349,56623,4,2,97,111,16007,16028,114,4,2,100,117,16014,16017,59,1,8641,4,2,59,108,16023,16025,1,8640,59,1,10604,4,2,59,118,16034,16036,1,961,59,1,1009,4,3,103,110,115,16047,16167,16171,104,116,4,6,97,104,108,114,115,116,16063,16081,16103,16130,16143,16155,114,114,111,119,4,2,59,116,16073,16075,1,8594,97,105,108,59,1,8611,97,114,112,111,111,110,4,2,100,117,16093,16099,111,119,110,59,1,8641,112,59,1,8640,101,102,116,4,2,97,104,16112,16120,114,114,111,119,115,59,1,8644,97,114,112,111,111,110,115,59,1,8652,105,103,104,116,97,114,114,111,119,115,59,1,8649,113,117,105,103,97,114,114,111,119,59,1,8605,104,114,101,101,116,105,109,101,115,59,1,8908,103,59,1,730,105,110,103,100,111,116,115,101,113,59,1,8787,4,3,97,104,109,16191,16196,16201,114,114,59,1,8644,97,114,59,1,8652,59,1,8207,111,117,115,116,4,2,59,97,16214,16216,1,9137,99,104,101,59,1,9137,109,105,100,59,1,10990,4,4,97,98,112,116,16238,16252,16257,16278,4,2,110,114,16244,16248,103,59,1,10221,114,59,1,8702,114,107,59,1,10215,4,3,97,102,108,16265,16269,16273,114,59,1,10630,59,3,55349,56675,117,115,59,1,10798,105,109,101,115,59,1,10805,4,2,97,112,16291,16304,114,4,2,59,103,16298,16300,1,41,116,59,1,10644,111,108,105,110,116,59,1,10770,97,114,114,59,1,8649,4,4,97,99,104,113,16328,16334,16339,16342,113,117,111,59,1,8250,114,59,3,55349,56519,59,1,8625,4,2,98,117,16348,16351,59,1,93,111,4,2,59,114,16358,16360,1,8217,59,1,8217,4,3,104,105,114,16371,16377,16383,114,101,101,59,1,8908,109,101,115,59,1,8906,105,4,4,59,101,102,108,16394,16396,16399,16402,1,9657,59,1,8885,59,1,9656,116,114,105,59,1,10702,108,117,104,97,114,59,1,10600,59,1,8478,4,19,97,98,99,100,101,102,104,105,108,109,111,112,113,114,115,116,117,119,122,16459,16466,16472,16572,16590,16672,16687,16746,16844,16850,16924,16963,16988,17115,17121,17154,17206,17614,17656,99,117,116,101,59,1,347,113,117,111,59,1,8218,4,10,59,69,97,99,101,105,110,112,115,121,16494,16496,16499,16513,16518,16531,16536,16556,16564,16569,1,8827,59,1,10932,4,2,112,114,16505,16508,59,1,10936,111,110,59,1,353,117,101,59,1,8829,4,2,59,100,16524,16526,1,10928,105,108,59,1,351,114,99,59,1,349,4,3,69,97,115,16544,16547,16551,59,1,10934,112,59,1,10938,105,109,59,1,8937,111,108,105,110,116,59,1,10771,105,109,59,1,8831,59,1,1089,111,116,4,3,59,98,101,16582,16584,16587,1,8901,59,1,8865,59,1,10854,4,7,65,97,99,109,115,116,120,16606,16611,16634,16642,16646,16652,16668,114,114,59,1,8664,114,4,2,104,114,16618,16622,107,59,1,10533,4,2,59,111,16628,16630,1,8600,119,59,1,8600,116,5,167,1,59,16640,1,167,105,59,1,59,119,97,114,59,1,10537,109,4,2,105,110,16659,16665,110,117,115,59,1,8726,59,1,8726,116,59,1,10038,114,4,2,59,111,16679,16682,3,55349,56624,119,110,59,1,8994,4,4,97,99,111,121,16697,16702,16716,16739,114,112,59,1,9839,4,2,104,121,16708,16713,99,121,59,1,1097,59,1,1096,114,116,4,2,109,112,16724,16729,105,100,59,1,8739,97,114,97,108,108,101,108,59,1,8741,5,173,1,59,16744,1,173,4,2,103,109,16752,16770,109,97,4,3,59,102,118,16762,16764,16767,1,963,59,1,962,59,1,962,4,8,59,100,101,103,108,110,112,114,16788,16790,16795,16806,16817,16828,16832,16838,1,8764,111,116,59,1,10858,4,2,59,113,16801,16803,1,8771,59,1,8771,4,2,59,69,16812,16814,1,10910,59,1,10912,4,2,59,69,16823,16825,1,10909,59,1,10911,101,59,1,8774,108,117,115,59,1,10788,97,114,114,59,1,10610,97,114,114,59,1,8592,4,4,97,101,105,116,16860,16883,16891,16904,4,2,108,115,16866,16878,108,115,101,116,109,105,110,117,115,59,1,8726,104,112,59,1,10803,112,97,114,115,108,59,1,10724,4,2,100,108,16897,16900,59,1,8739,101,59,1,8995,4,2,59,101,16910,16912,1,10922,4,2,59,115,16918,16920,1,10924,59,3,10924,65024,4,3,102,108,112,16932,16938,16958,116,99,121,59,1,1100,4,2,59,98,16944,16946,1,47,4,2,59,97,16952,16954,1,10692,114,59,1,9023,102,59,3,55349,56676,97,4,2,100,114,16970,16985,101,115,4,2,59,117,16978,16980,1,9824,105,116,59,1,9824,59,1,8741,4,3,99,115,117,16996,17028,17089,4,2,97,117,17002,17015,112,4,2,59,115,17009,17011,1,8851,59,3,8851,65024,112,4,2,59,115,17022,17024,1,8852,59,3,8852,65024,117,4,2,98,112,17035,17062,4,3,59,101,115,17043,17045,17048,1,8847,59,1,8849,101,116,4,2,59,101,17056,17058,1,8847,113,59,1,8849,4,3,59,101,115,17070,17072,17075,1,8848,59,1,8850,101,116,4,2,59,101,17083,17085,1,8848,113,59,1,8850,4,3,59,97,102,17097,17099,17112,1,9633,114,4,2,101,102,17106,17109,59,1,9633,59,1,9642,59,1,9642,97,114,114,59,1,8594,4,4,99,101,109,116,17131,17136,17142,17148,114,59,3,55349,56520,116,109,110,59,1,8726,105,108,101,59,1,8995,97,114,102,59,1,8902,4,2,97,114,17160,17172,114,4,2,59,102,17167,17169,1,9734,59,1,9733,4,2,97,110,17178,17202,105,103,104,116,4,2,101,112,17188,17197,112,115,105,108,111,110,59,1,1013,104,105,59,1,981,115,59,1,175,4,5,98,99,109,110,112,17218,17351,17420,17423,17427,4,9,59,69,100,101,109,110,112,114,115,17238,17240,17243,17248,17261,17267,17279,17285,17291,1,8834,59,1,10949,111,116,59,1,10941,4,2,59,100,17254,17256,1,8838,111,116,59,1,10947,117,108,116,59,1,10945,4,2,69,101,17273,17276,59,1,10955,59,1,8842,108,117,115,59,1,10943,97,114,114,59,1,10617,4,3,101,105,117,17299,17335,17339,116,4,3,59,101,110,17308,17310,17322,1,8834,113,4,2,59,113,17317,17319,1,8838,59,1,10949,101,113,4,2,59,113,17330,17332,1,8842,59,1,10955,109,59,1,10951,4,2,98,112,17345,17348,59,1,10965,59,1,10963,99,4,6,59,97,99,101,110,115,17366,17368,17376,17385,17389,17415,1,8827,112,112,114,111,120,59,1,10936,117,114,108,121,101,113,59,1,8829,113,59,1,10928,4,3,97,101,115,17397,17405,17410,112,112,114,111,120,59,1,10938,113,113,59,1,10934,105,109,59,1,8937,105,109,59,1,8831,59,1,8721,103,59,1,9834,4,13,49,50,51,59,69,100,101,104,108,109,110,112,115,17455,17462,17469,17476,17478,17481,17496,17509,17524,17530,17536,17548,17554,5,185,1,59,17460,1,185,5,178,1,59,17467,1,178,5,179,1,59,17474,1,179,1,8835,59,1,10950,4,2,111,115,17487,17491,116,59,1,10942,117,98,59,1,10968,4,2,59,100,17502,17504,1,8839,111,116,59,1,10948,115,4,2,111,117,17516,17520,108,59,1,10185,98,59,1,10967,97,114,114,59,1,10619,117,108,116,59,1,10946,4,2,69,101,17542,17545,59,1,10956,59,1,8843,108,117,115,59,1,10944,4,3,101,105,117,17562,17598,17602,116,4,3,59,101,110,17571,17573,17585,1,8835,113,4,2,59,113,17580,17582,1,8839,59,1,10950,101,113,4,2,59,113,17593,17595,1,8843,59,1,10956,109,59,1,10952,4,2,98,112,17608,17611,59,1,10964,59,1,10966,4,3,65,97,110,17622,17627,17650,114,114,59,1,8665,114,4,2,104,114,17634,17638,107,59,1,10534,4,2,59,111,17644,17646,1,8601,119,59,1,8601,119,97,114,59,1,10538,108,105,103,5,223,1,59,17664,1,223,4,13,97,98,99,100,101,102,104,105,111,112,114,115,119,17694,17709,17714,17737,17742,17749,17754,17860,17905,17957,17964,18090,18122,4,2,114,117,17700,17706,103,101,116,59,1,8982,59,1,964,114,107,59,1,9140,4,3,97,101,121,17722,17728,17734,114,111,110,59,1,357,100,105,108,59,1,355,59,1,1090,111,116,59,1,8411,108,114,101,99,59,1,8981,114,59,3,55349,56625,4,4,101,105,107,111,17764,17805,17836,17851,4,2,114,116,17770,17786,101,4,2,52,102,17777,17780,59,1,8756,111,114,101,59,1,8756,97,4,3,59,115,118,17795,17797,17802,1,952,121,109,59,1,977,59,1,977,4,2,99,110,17811,17831,107,4,2,97,115,17818,17826,112,112,114,111,120,59,1,8776,105,109,59,1,8764,115,112,59,1,8201,4,2,97,115,17842,17846,112,59,1,8776,105,109,59,1,8764,114,110,5,254,1,59,17858,1,254,4,3,108,109,110,17868,17873,17901,100,101,59,1,732,101,115,5,215,3,59,98,100,17884,17886,17898,1,215,4,2,59,97,17892,17894,1,8864,114,59,1,10801,59,1,10800,116,59,1,8749,4,3,101,112,115,17913,17917,17953,97,59,1,10536,4,4,59,98,99,102,17927,17929,17934,17939,1,8868,111,116,59,1,9014,105,114,59,1,10993,4,2,59,111,17945,17948,3,55349,56677,114,107,59,1,10970,97,59,1,10537,114,105,109,101,59,1,8244,4,3,97,105,112,17972,17977,18082,100,101,59,1,8482,4,7,97,100,101,109,112,115,116,17993,18051,18056,18059,18066,18072,18076,110,103,108,101,4,5,59,100,108,113,114,18009,18011,18017,18032,18035,1,9653,111,119,110,59,1,9663,101,102,116,4,2,59,101,18026,18028,1,9667,113,59,1,8884,59,1,8796,105,103,104,116,4,2,59,101,18045,18047,1,9657,113,59,1,8885,111,116,59,1,9708,59,1,8796,105,110,117,115,59,1,10810,108,117,115,59,1,10809,98,59,1,10701,105,109,101,59,1,10811,101,122,105,117,109,59,1,9186,4,3,99,104,116,18098,18111,18116,4,2,114,121,18104,18108,59,3,55349,56521,59,1,1094,99,121,59,1,1115,114,111,107,59,1,359,4,2,105,111,18128,18133,120,116,59,1,8812,104,101,97,100,4,2,108,114,18143,18154,101,102,116,97,114,114,111,119,59,1,8606,105,103,104,116,97,114,114,111,119,59,1,8608,4,18,65,72,97,98,99,100,102,103,104,108,109,111,112,114,115,116,117,119,18204,18209,18214,18234,18250,18268,18292,18308,18319,18343,18379,18397,18413,18504,18547,18553,18584,18603,114,114,59,1,8657,97,114,59,1,10595,4,2,99,114,18220,18230,117,116,101,5,250,1,59,18228,1,250,114,59,1,8593,114,4,2,99,101,18241,18245,121,59,1,1118,118,101,59,1,365,4,2,105,121,18256,18265,114,99,5,251,1,59,18263,1,251,59,1,1091,4,3,97,98,104,18276,18281,18287,114,114,59,1,8645,108,97,99,59,1,369,97,114,59,1,10606,4,2,105,114,18298,18304,115,104,116,59,1,10622,59,3,55349,56626,114,97,118,101,5,249,1,59,18317,1,249,4,2,97,98,18325,18338,114,4,2,108,114,18332,18335,59,1,8639,59,1,8638,108,107,59,1,9600,4,2,99,116,18349,18374,4,2,111,114,18355,18369,114,110,4,2,59,101,18363,18365,1,8988,114,59,1,8988,111,112,59,1,8975,114,105,59,1,9720,4,2,97,108,18385,18390,99,114,59,1,363,5,168,1,59,18395,1,168,4,2,103,112,18403,18408,111,110,59,1,371,102,59,3,55349,56678,4,6,97,100,104,108,115,117,18427,18434,18445,18470,18475,18494,114,114,111,119,59,1,8593,111,119,110,97,114,114,111,119,59,1,8597,97,114,112,111,111,110,4,2,108,114,18457,18463,101,102,116,59,1,8639,105,103,104,116,59,1,8638,117,115,59,1,8846,105,4,3,59,104,108,18484,18486,18489,1,965,59,1,978,111,110,59,1,965,112,97,114,114,111,119,115,59,1,8648,4,3,99,105,116,18512,18537,18542,4,2,111,114,18518,18532,114,110,4,2,59,101,18526,18528,1,8989,114,59,1,8989,111,112,59,1,8974,110,103,59,1,367,114,105,59,1,9721,99,114,59,3,55349,56522,4,3,100,105,114,18561,18566,18572,111,116,59,1,8944,108,100,101,59,1,361,105,4,2,59,102,18579,18581,1,9653,59,1,9652,4,2,97,109,18590,18595,114,114,59,1,8648,108,5,252,1,59,18601,1,252,97,110,103,108,101,59,1,10663,4,15,65,66,68,97,99,100,101,102,108,110,111,112,114,115,122,18643,18648,18661,18667,18847,18851,18857,18904,18909,18915,18931,18937,18943,18949,18996,114,114,59,1,8661,97,114,4,2,59,118,18656,18658,1,10984,59,1,10985,97,115,104,59,1,8872,4,2,110,114,18673,18679,103,114,116,59,1,10652,4,7,101,107,110,112,114,115,116,18695,18704,18711,18720,18742,18754,18810,112,115,105,108,111,110,59,1,1013,97,112,112,97,59,1,1008,111,116,104,105,110,103,59,1,8709,4,3,104,105,114,18728,18732,18735,105,59,1,981,59,1,982,111,112,116,111,59,1,8733,4,2,59,104,18748,18750,1,8597,111,59,1,1009,4,2,105,117,18760,18766,103,109,97,59,1,962,4,2,98,112,18772,18791,115,101,116,110,101,113,4,2,59,113,18784,18787,3,8842,65024,59,3,10955,65024,115,101,116,110,101,113,4,2,59,113,18803,18806,3,8843,65024,59,3,10956,65024,4,2,104,114,18816,18822,101,116,97,59,1,977,105,97,110,103,108,101,4,2,108,114,18834,18840,101,102,116,59,1,8882,105,103,104,116,59,1,8883,121,59,1,1074,97,115,104,59,1,8866,4,3,101,108,114,18865,18884,18890,4,3,59,98,101,18873,18875,18880,1,8744,97,114,59,1,8891,113,59,1,8794,108,105,112,59,1,8942,4,2,98,116,18896,18901,97,114,59,1,124,59,1,124,114,59,3,55349,56627,116,114,105,59,1,8882,115,117,4,2,98,112,18923,18927,59,3,8834,8402,59,3,8835,8402,112,102,59,3,55349,56679,114,111,112,59,1,8733,116,114,105,59,1,8883,4,2,99,117,18955,18960,114,59,3,55349,56523,4,2,98,112,18966,18981,110,4,2,69,101,18973,18977,59,3,10955,65024,59,3,8842,65024,110,4,2,69,101,18988,18992,59,3,10956,65024,59,3,8843,65024,105,103,122,97,103,59,1,10650,4,7,99,101,102,111,112,114,115,19020,19026,19061,19066,19072,19075,19089,105,114,99,59,1,373,4,2,100,105,19032,19055,4,2,98,103,19038,19043,97,114,59,1,10847,101,4,2,59,113,19050,19052,1,8743,59,1,8793,101,114,112,59,1,8472,114,59,3,55349,56628,112,102,59,3,55349,56680,59,1,8472,4,2,59,101,19081,19083,1,8768,97,116,104,59,1,8768,99,114,59,3,55349,56524,4,14,99,100,102,104,105,108,109,110,111,114,115,117,118,119,19125,19146,19152,19157,19173,19176,19192,19197,19202,19236,19252,19269,19286,19291,4,3,97,105,117,19133,19137,19142,112,59,1,8898,114,99,59,1,9711,112,59,1,8899,116,114,105,59,1,9661,114,59,3,55349,56629,4,2,65,97,19163,19168,114,114,59,1,10234,114,114,59,1,10231,59,1,958,4,2,65,97,19182,19187,114,114,59,1,10232,114,114,59,1,10229,97,112,59,1,10236,105,115,59,1,8955,4,3,100,112,116,19210,19215,19230,111,116,59,1,10752,4,2,102,108,19221,19225,59,3,55349,56681,117,115,59,1,10753,105,109,101,59,1,10754,4,2,65,97,19242,19247,114,114,59,1,10233,114,114,59,1,10230,4,2,99,113,19258,19263,114,59,3,55349,56525,99,117,112,59,1,10758,4,2,112,116,19275,19281,108,117,115,59,1,10756,114,105,59,1,9651,101,101,59,1,8897,101,100,103,101,59,1,8896,4,8,97,99,101,102,105,111,115,117,19316,19335,19349,19357,19362,19367,19373,19379,99,4,2,117,121,19323,19332,116,101,5,253,1,59,19330,1,253,59,1,1103,4,2,105,121,19341,19346,114,99,59,1,375,59,1,1099,110,5,165,1,59,19355,1,165,114,59,3,55349,56630,99,121,59,1,1111,112,102,59,3,55349,56682,99,114,59,3,55349,56526,4,2,99,109,19385,19389,121,59,1,1102,108,5,255,1,59,19395,1,255,4,10,97,99,100,101,102,104,105,111,115,119,19419,19426,19441,19446,19462,19467,19472,19480,19486,19492,99,117,116,101,59,1,378,4,2,97,121,19432,19438,114,111,110,59,1,382,59,1,1079,111,116,59,1,380,4,2,101,116,19452,19458,116,114,102,59,1,8488,97,59,1,950,114,59,3,55349,56631,99,121,59,1,1078,103,114,97,114,114,59,1,8669,112,102,59,3,55349,56683,99,114,59,3,55349,56527,4,2,106,110,19498,19501,59,1,8205,106,59,1,8204])},7118:(a,s,l)=>{const c=l(4284),u=l(1734),f=c.CODE_POINTS,h=65536;a.exports=class{constructor(){this.html=null,this.pos=-1,this.lastGapPos=-1,this.lastCharPos=-1,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=h}_err(){}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(d){if(this.pos!==this.lastCharPos){const m=this.html.charCodeAt(this.pos+1);if(c.isSurrogatePair(m))return this.pos++,this._addGap(),c.getSurrogatePairCodePoint(d,m)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,f.EOF;return this._err(u.surrogateInInputStream),d}dropParsedChunk(){this.pos>this.bufferWaterline&&(this.lastCharPos-=this.pos,this.html=this.html.substring(this.pos),this.pos=0,this.lastGapPos=-1,this.gapStack=[])}write(d,m){this.html?this.html+=d:this.html=d,this.lastCharPos=this.html.length-1,this.endOfChunkHit=!1,this.lastChunkWritten=m}insertHtmlAtCurrentPos(d){this.html=this.html.substring(0,this.pos+1)+d+this.html.substring(this.pos+1,this.html.length),this.lastCharPos=this.html.length-1,this.endOfChunkHit=!1}advance(){if(this.pos++,this.pos>this.lastCharPos)return this.endOfChunkHit=!this.lastChunkWritten,f.EOF;let d=this.html.charCodeAt(this.pos);return this.skipNextNewLine&&d===f.LINE_FEED?(this.skipNextNewLine=!1,this._addGap(),this.advance()):d===f.CARRIAGE_RETURN?(this.skipNextNewLine=!0,f.LINE_FEED):(this.skipNextNewLine=!1,c.isSurrogate(d)&&(d=this._processSurrogate(d)),d>31&&d<127||d===f.LINE_FEED||d===f.CARRIAGE_RETURN||d>159&&d<64976||this._checkForProblematicCharacters(d),d)}_checkForProblematicCharacters(d){c.isControlCodePoint(d)?this._err(u.controlCharacterInInputStream):c.isUndefinedCodePoint(d)&&this._err(u.noncharacterInInputStream)}retreat(){this.pos===this.lastGapPos&&(this.lastGapPos=this.gapStack.pop(),this.pos--),this.pos--}}},7296:(a,s,l)=>{const{DOCUMENT_MODE:c}=l(6152);s.createDocument=function(){return{nodeName:"#document",mode:c.NO_QUIRKS,childNodes:[]}},s.createDocumentFragment=function(){return{nodeName:"#document-fragment",childNodes:[]}},s.createElement=function(d,m,g){return{nodeName:d,tagName:d,attrs:g,namespaceURI:m,childNodes:[],parentNode:null}},s.createCommentNode=function(d){return{nodeName:"#comment",data:d,parentNode:null}};const u=function(d){return{nodeName:"#text",value:d,parentNode:null}},f=s.appendChild=function(d,m){d.childNodes.push(m),m.parentNode=d},h=s.insertBefore=function(d,m,g){const x=d.childNodes.indexOf(g);d.childNodes.splice(x,0,m),m.parentNode=d};s.setTemplateContent=function(d,m){d.content=m},s.getTemplateContent=function(d){return d.content},s.setDocumentType=function(d,m,g,x){let b=null;for(let _=0;_<d.childNodes.length;_++)if(d.childNodes[_].nodeName==="#documentType"){b=d.childNodes[_];break}b?(b.name=m,b.publicId=g,b.systemId=x):f(d,{nodeName:"#documentType",name:m,publicId:g,systemId:x})},s.setDocumentMode=function(d,m){d.mode=m},s.getDocumentMode=function(d){return d.mode},s.detachNode=function(d){if(d.parentNode){const m=d.parentNode.childNodes.indexOf(d);d.parentNode.childNodes.splice(m,1),d.parentNode=null}},s.insertText=function(d,m){if(d.childNodes.length){const g=d.childNodes[d.childNodes.length-1];if(g.nodeName==="#text")return void(g.value+=m)}f(d,u(m))},s.insertTextBefore=function(d,m,g){const x=d.childNodes[d.childNodes.indexOf(g)-1];x&&x.nodeName==="#text"?x.value+=m:h(d,u(m),g)},s.adoptAttributes=function(d,m){const g=[];for(let x=0;x<d.attrs.length;x++)g.push(d.attrs[x].name);for(let x=0;x<m.length;x++)g.indexOf(m[x].name)===-1&&d.attrs.push(m[x])},s.getFirstChild=function(d){return d.childNodes[0]},s.getChildNodes=function(d){return d.childNodes},s.getParentNode=function(d){return d.parentNode},s.getAttrList=function(d){return d.attrs},s.getTagName=function(d){return d.tagName},s.getNamespaceURI=function(d){return d.namespaceURI},s.getTextNodeContent=function(d){return d.value},s.getCommentNodeContent=function(d){return d.data},s.getDocumentTypeNodeName=function(d){return d.name},s.getDocumentTypeNodePublicId=function(d){return d.publicId},s.getDocumentTypeNodeSystemId=function(d){return d.systemId},s.isTextNode=function(d){return d.nodeName==="#text"},s.isCommentNode=function(d){return d.nodeName==="#comment"},s.isDocumentTypeNode=function(d){return d.nodeName==="#documentType"},s.isElementNode=function(d){return!!d.tagName},s.setNodeSourceCodeLocation=function(d,m){d.sourceCodeLocation=m},s.getNodeSourceCodeLocation=function(d){return d.sourceCodeLocation},s.updateNodeSourceCodeLocation=function(d,m){d.sourceCodeLocation=Object.assign(d.sourceCodeLocation,m)}},8904:a=>{a.exports=function(s,l){return[s,l=l||Object.create(null)].reduce((c,u)=>(Object.keys(u).forEach(f=>{c[f]=u[f]}),c),Object.create(null))}},1704:a=>{class s{constructor(c){const u={},f=this._getOverriddenMethods(this,u);for(const h of Object.keys(f))typeof f[h]=="function"&&(u[h]=c[h],c[h]=f[h])}_getOverriddenMethods(){throw new Error("Not implemented")}}s.install=function(l,c,u){l.__mixins||(l.__mixins=[]);for(let h=0;h<l.__mixins.length;h++)if(l.__mixins[h].constructor===c)return l.__mixins[h];const f=new c(l,u);return l.__mixins.push(f),f},a.exports=s},6585:a=>{var s=/([-.*+?^${}()|[\]\/\\])/g,l=/\\/g,c=function(b){return(b+"").replace(s,"\\$1")},u=function(b){return(b+"").replace(l,"")},f=RegExp(`^(?:\\s*(,)\\s*|\\s*(<combinator>+)\\s*|(\\s+)|(<unicode>+|\\*)|\\#(<unicode>+)|\\.(<unicode>+)|\\[\\s*(<unicode1>+)(?:\\s*([*^$!~|]?=)(?:\\s*(?:(["']?)(.*?)\\9)))?\\s*\\](?!\\])|(:+)(<unicode>+)(?:\\((?:(?:(["'])([^\\13]*)\\13)|((?:\\([^)]+\\)|[^()]*)+))\\))?)`.replace(/<combinator>/,"["+c(">+~`!@$%^&={}\\;</")+"]").replace(/<unicode>/g,"(?:[\\w\\u00a1-\\uFFFF-]|\\\\[^\\s0-9a-f])").replace(/<unicode1>/g,"(?:[:\\w\\u00a1-\\uFFFF-]|\\\\[^\\s0-9a-f])")),h=function(b){this.combinator=b||" ",this.tag="*"};h.prototype.toString=function(){if(!this.raw){var b,_,S="";if(S+=this.tag||"*",this.id&&(S+="#"+this.id),this.classes&&(S+="."+this.classList.join(".")),this.attributes)for(b=0;_=this.attributes[b++];)S+="["+_.name+(_.operator?_.operator+'"'+_.value+'"':"")+"]";if(this.pseudos)for(b=0;_=this.pseudos[b++];)S+=":"+_.name,_.value&&(S+="("+_.value+")");this.raw=S}return this.raw};var d=function(){this.length=0};d.prototype.toString=function(){if(!this.raw){for(var b,_="",S=0;b=this[S++];)S!==1&&(_+=" "),b.combinator!==" "&&(_+=b.combinator+" "),_+=b;this.raw=_}return this.raw};var m=function(b,_,S,T,C,w,N,A,j,R,L,M,I,D,V,F){var G,W;if((_||!this.length)&&(G=this[this.length++]=new d,_))return"";if(G||(G=this[this.length-1]),(S||T||!G.length)&&(W=G[G.length++]=new h(S)),W||(W=G[G.length-1]),C)W.tag=u(C);else if(w)W.id=u(w);else if(N){var Y=u(N),te=W.classes||(W.classes={});if(!te[Y]){te[Y]=c(N);var he=W.classList||(W.classList=[]);he.push(Y),he.sort()}}else I?(F=F||V,(W.pseudos||(W.pseudos=[])).push({type:M.length==1?"class":"element",name:u(I),escapedName:c(I),value:F?u(F):null,escapedValue:F?c(F):null})):A&&(L=L?c(L):null,(W.attributes||(W.attributes=[])).push({operator:j,name:u(A),escapedName:c(A),value:L?u(L):null,escapedValue:L?c(L):null}));return""},g=function(b){this.length=0;for(var _,S=this,T=b;b;){if(_=b.replace(f,function(){return m.apply(S,arguments)}),_===b)throw new Error(T+" is an invalid expression");b=_}};g.prototype.toString=function(){if(!this.raw){for(var b,_=[],S=0;b=this[S++];)_.push(b);this.raw=_.join(", ")}return this.raw};var x={};a.exports=function(b){return b==null?null:(b=(""+b).replace(/^\s+|\s+$/g,""),x[b]||(x[b]=new g(b)))}},655:(a,s,l)=>{l.r(s),l.d(s,{__assign:()=>f,__asyncDelegator:()=>V,__asyncGenerator:()=>D,__asyncValues:()=>F,__await:()=>I,__awaiter:()=>T,__classPrivateFieldGet:()=>he,__classPrivateFieldIn:()=>Z,__classPrivateFieldSet:()=>z,__createBinding:()=>w,__decorate:()=>d,__esDecorate:()=>g,__exportStar:()=>N,__extends:()=>u,__generator:()=>C,__importDefault:()=>te,__importStar:()=>Y,__makeTemplateObject:()=>G,__metadata:()=>S,__param:()=>m,__propKey:()=>b,__read:()=>j,__rest:()=>h,__runInitializers:()=>x,__setFunctionName:()=>_,__spread:()=>R,__spreadArray:()=>M,__spreadArrays:()=>L,__values:()=>A});var c=function(X,ae){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ve,me){ve.__proto__=me}||function(ve,me){for(var Ee in me)Object.prototype.hasOwnProperty.call(me,Ee)&&(ve[Ee]=me[Ee])},c(X,ae)};function u(X,ae){if(typeof ae!="function"&&ae!==null)throw new TypeError("Class extends value "+String(ae)+" is not a constructor or null");function ve(){this.constructor=X}c(X,ae),X.prototype=ae===null?Object.create(ae):(ve.prototype=ae.prototype,new ve)}var f=function(){return f=Object.assign||function(X){for(var ae,ve=1,me=arguments.length;ve<me;ve++)for(var Ee in ae=arguments[ve])Object.prototype.hasOwnProperty.call(ae,Ee)&&(X[Ee]=ae[Ee]);return X},f.apply(this,arguments)};function h(X,ae){var ve={};for(var me in X)Object.prototype.hasOwnProperty.call(X,me)&&ae.indexOf(me)<0&&(ve[me]=X[me]);if(X!=null&&typeof Object.getOwnPropertySymbols=="function"){var Ee=0;for(me=Object.getOwnPropertySymbols(X);Ee<me.length;Ee++)ae.indexOf(me[Ee])<0&&Object.prototype.propertyIsEnumerable.call(X,me[Ee])&&(ve[me[Ee]]=X[me[Ee]])}return ve}function d(X,ae,ve,me){var Ee,ke=arguments.length,He=ke<3?ae:me===null?me=Object.getOwnPropertyDescriptor(ae,ve):me;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")He=Reflect.decorate(X,ae,ve,me);else for(var Re=X.length-1;Re>=0;Re--)(Ee=X[Re])&&(He=(ke<3?Ee(He):ke>3?Ee(ae,ve,He):Ee(ae,ve))||He);return ke>3&&He&&Object.defineProperty(ae,ve,He),He}function m(X,ae){return function(ve,me){ae(ve,me,X)}}function g(X,ae,ve,me,Ee,ke){function He(De){if(De!==void 0&&typeof De!="function")throw new TypeError("Function expected");return De}for(var Re,se=me.kind,ce=se==="getter"?"get":se==="setter"?"set":"value",$e=!ae&&X?me.static?X:X.prototype:null,Ue=ae||($e?Object.getOwnPropertyDescriptor($e,me.name):{}),Te=!1,ft=ve.length-1;ft>=0;ft--){var Q={};for(var de in me)Q[de]=de==="access"?{}:me[de];for(var de in me.access)Q.access[de]=me.access[de];Q.addInitializer=function(De){if(Te)throw new TypeError("Cannot add initializers after decoration has completed");ke.push(He(De||null))};var Ce=(0,ve[ft])(se==="accessor"?{get:Ue.get,set:Ue.set}:Ue[ce],Q);if(se==="accessor"){if(Ce===void 0)continue;if(Ce===null||typeof Ce!="object")throw new TypeError("Object expected");(Re=He(Ce.get))&&(Ue.get=Re),(Re=He(Ce.set))&&(Ue.set=Re),(Re=He(Ce.init))&&Ee.push(Re)}else(Re=He(Ce))&&(se==="field"?Ee.push(Re):Ue[ce]=Re)}$e&&Object.defineProperty($e,me.name,Ue),Te=!0}function x(X,ae,ve){for(var me=arguments.length>2,Ee=0;Ee<ae.length;Ee++)ve=me?ae[Ee].call(X,ve):ae[Ee].call(X);return me?ve:void 0}function b(X){return typeof X=="symbol"?X:"".concat(X)}function _(X,ae,ve){return typeof ae=="symbol"&&(ae=ae.description?"[".concat(ae.description,"]"):""),Object.defineProperty(X,"name",{configurable:!0,value:ve?"".concat(ve," ",ae):ae})}function S(X,ae){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(X,ae)}function T(X,ae,ve,me){return new(ve||(ve=Promise))(function(Ee,ke){function He(ce){try{se(me.next(ce))}catch($e){ke($e)}}function Re(ce){try{se(me.throw(ce))}catch($e){ke($e)}}function se(ce){var $e;ce.done?Ee(ce.value):($e=ce.value,$e instanceof ve?$e:new ve(function(Ue){Ue($e)})).then(He,Re)}se((me=me.apply(X,ae||[])).next())})}function C(X,ae){var ve,me,Ee,ke,He={label:0,sent:function(){if(1&Ee[0])throw Ee[1];return Ee[1]},trys:[],ops:[]};return ke={next:Re(0),throw:Re(1),return:Re(2)},typeof Symbol=="function"&&(ke[Symbol.iterator]=function(){return this}),ke;function Re(se){return function(ce){return function($e){if(ve)throw new TypeError("Generator is already executing.");for(;ke&&(ke=0,$e[0]&&(He=0)),He;)try{if(ve=1,me&&(Ee=2&$e[0]?me.return:$e[0]?me.throw||((Ee=me.return)&&Ee.call(me),0):me.next)&&!(Ee=Ee.call(me,$e[1])).done)return Ee;switch(me=0,Ee&&($e=[2&$e[0],Ee.value]),$e[0]){case 0:case 1:Ee=$e;break;case 4:return He.label++,{value:$e[1],done:!1};case 5:He.label++,me=$e[1],$e=[0];continue;case 7:$e=He.ops.pop(),He.trys.pop();continue;default:if(Ee=He.trys,!((Ee=Ee.length>0&&Ee[Ee.length-1])||$e[0]!==6&&$e[0]!==2)){He=0;continue}if($e[0]===3&&(!Ee||$e[1]>Ee[0]&&$e[1]<Ee[3])){He.label=$e[1];break}if($e[0]===6&&He.label<Ee[1]){He.label=Ee[1],Ee=$e;break}if(Ee&&He.label<Ee[2]){He.label=Ee[2],He.ops.push($e);break}Ee[2]&&He.ops.pop(),He.trys.pop();continue}$e=ae.call(X,He)}catch(Ue){$e=[6,Ue],me=0}finally{ve=Ee=0}if(5&$e[0])throw $e[1];return{value:$e[0]?$e[1]:void 0,done:!0}}([se,ce])}}}var w=Object.create?function(X,ae,ve,me){me===void 0&&(me=ve);var Ee=Object.getOwnPropertyDescriptor(ae,ve);Ee&&!("get"in Ee?!ae.__esModule:Ee.writable||Ee.configurable)||(Ee={enumerable:!0,get:function(){return ae[ve]}}),Object.defineProperty(X,me,Ee)}:function(X,ae,ve,me){me===void 0&&(me=ve),X[me]=ae[ve]};function N(X,ae){for(var ve in X)ve==="default"||Object.prototype.hasOwnProperty.call(ae,ve)||w(ae,X,ve)}function A(X){var ae=typeof Symbol=="function"&&Symbol.iterator,ve=ae&&X[ae],me=0;if(ve)return ve.call(X);if(X&&typeof X.length=="number")return{next:function(){return X&&me>=X.length&&(X=void 0),{value:X&&X[me++],done:!X}}};throw new TypeError(ae?"Object is not iterable.":"Symbol.iterator is not defined.")}function j(X,ae){var ve=typeof Symbol=="function"&&X[Symbol.iterator];if(!ve)return X;var me,Ee,ke=ve.call(X),He=[];try{for(;(ae===void 0||ae-- >0)&&!(me=ke.next()).done;)He.push(me.value)}catch(Re){Ee={error:Re}}finally{try{me&&!me.done&&(ve=ke.return)&&ve.call(ke)}finally{if(Ee)throw Ee.error}}return He}function R(){for(var X=[],ae=0;ae<arguments.length;ae++)X=X.concat(j(arguments[ae]));return X}function L(){for(var X=0,ae=0,ve=arguments.length;ae<ve;ae++)X+=arguments[ae].length;var me=Array(X),Ee=0;for(ae=0;ae<ve;ae++)for(var ke=arguments[ae],He=0,Re=ke.length;He<Re;He++,Ee++)me[Ee]=ke[He];return me}function M(X,ae,ve){if(ve||arguments.length===2)for(var me,Ee=0,ke=ae.length;Ee<ke;Ee++)!me&&Ee in ae||(me||(me=Array.prototype.slice.call(ae,0,Ee)),me[Ee]=ae[Ee]);return X.concat(me||Array.prototype.slice.call(ae))}function I(X){return this instanceof I?(this.v=X,this):new I(X)}function D(X,ae,ve){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var me,Ee=ve.apply(X,ae||[]),ke=[];return me={},He("next"),He("throw"),He("return"),me[Symbol.asyncIterator]=function(){return this},me;function He(Ue){Ee[Ue]&&(me[Ue]=function(Te){return new Promise(function(ft,Q){ke.push([Ue,Te,ft,Q])>1||Re(Ue,Te)})})}function Re(Ue,Te){try{(ft=Ee[Ue](Te)).value instanceof I?Promise.resolve(ft.value.v).then(se,ce):$e(ke[0][2],ft)}catch(Q){$e(ke[0][3],Q)}var ft}function se(Ue){Re("next",Ue)}function ce(Ue){Re("throw",Ue)}function $e(Ue,Te){Ue(Te),ke.shift(),ke.length&&Re(ke[0][0],ke[0][1])}}function V(X){var ae,ve;return ae={},me("next"),me("throw",function(Ee){throw Ee}),me("return"),ae[Symbol.iterator]=function(){return this},ae;function me(Ee,ke){ae[Ee]=X[Ee]?function(He){return(ve=!ve)?{value:I(X[Ee](He)),done:!1}:ke?ke(He):He}:ke}}function F(X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ae,ve=X[Symbol.asyncIterator];return ve?ve.call(X):(X=typeof A=="function"?A(X):X[Symbol.iterator](),ae={},me("next"),me("throw"),me("return"),ae[Symbol.asyncIterator]=function(){return this},ae);function me(Ee){ae[Ee]=X[Ee]&&function(ke){return new Promise(function(He,Re){(function(se,ce,$e,Ue){Promise.resolve(Ue).then(function(Te){se({value:Te,done:$e})},ce)})(He,Re,(ke=X[Ee](ke)).done,ke.value)})}}}function G(X,ae){return Object.defineProperty?Object.defineProperty(X,"raw",{value:ae}):X.raw=ae,X}var W=Object.create?function(X,ae){Object.defineProperty(X,"default",{enumerable:!0,value:ae})}:function(X,ae){X.default=ae};function Y(X){if(X&&X.__esModule)return X;var ae={};if(X!=null)for(var ve in X)ve!=="default"&&Object.prototype.hasOwnProperty.call(X,ve)&&w(ae,X,ve);return W(ae,X),ae}function te(X){return X&&X.__esModule?X:{default:X}}function he(X,ae,ve,me){if(ve==="a"&&!me)throw new TypeError("Private accessor was defined without a getter");if(typeof ae=="function"?X!==ae||!me:!ae.has(X))throw new TypeError("Cannot read private member from an object whose class did not declare it");return ve==="m"?me:ve==="a"?me.call(X):me?me.value:ae.get(X)}function z(X,ae,ve,me,Ee){if(me==="m")throw new TypeError("Private method is not writable");if(me==="a"&&!Ee)throw new TypeError("Private accessor was defined without a setter");if(typeof ae=="function"?X!==ae||!Ee:!ae.has(X))throw new TypeError("Cannot write private member to an object whose class did not declare it");return me==="a"?Ee.call(X,ve):Ee?Ee.value=ve:ae.set(X,ve),ve}function Z(X,ae){if(ae===null||typeof ae!="object"&&typeof ae!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof X=="function"?ae===X:X.has(ae)}},3600:a=>{a.exports=JSON.parse('{"0":65533,"128":8364,"130":8218,"131":402,"132":8222,"133":8230,"134":8224,"135":8225,"136":710,"137":8240,"138":352,"139":8249,"140":338,"142":381,"145":8216,"146":8217,"147":8220,"148":8221,"149":8226,"150":8211,"151":8212,"152":732,"153":8482,"154":353,"155":8250,"156":339,"158":382,"159":376}')},9323:a=>{a.exports=JSON.parse('{"Aacute":"Á","aacute":"á","Abreve":"Ă","abreve":"ă","ac":"∾","acd":"∿","acE":"∾̳","Acirc":"Â","acirc":"â","acute":"´","Acy":"А","acy":"а","AElig":"Æ","aelig":"æ","af":"⁡","Afr":"𝔄","afr":"𝔞","Agrave":"À","agrave":"à","alefsym":"ℵ","aleph":"ℵ","Alpha":"Α","alpha":"α","Amacr":"Ā","amacr":"ā","amalg":"⨿","amp":"&","AMP":"&","andand":"⩕","And":"⩓","and":"∧","andd":"⩜","andslope":"⩘","andv":"⩚","ang":"∠","ange":"⦤","angle":"∠","angmsdaa":"⦨","angmsdab":"⦩","angmsdac":"⦪","angmsdad":"⦫","angmsdae":"⦬","angmsdaf":"⦭","angmsdag":"⦮","angmsdah":"⦯","angmsd":"∡","angrt":"∟","angrtvb":"⊾","angrtvbd":"⦝","angsph":"∢","angst":"Å","angzarr":"⍼","Aogon":"Ą","aogon":"ą","Aopf":"𝔸","aopf":"𝕒","apacir":"⩯","ap":"≈","apE":"⩰","ape":"≊","apid":"≋","apos":"\'","ApplyFunction":"⁡","approx":"≈","approxeq":"≊","Aring":"Å","aring":"å","Ascr":"𝒜","ascr":"𝒶","Assign":"≔","ast":"*","asymp":"≈","asympeq":"≍","Atilde":"Ã","atilde":"ã","Auml":"Ä","auml":"ä","awconint":"∳","awint":"⨑","backcong":"≌","backepsilon":"϶","backprime":"‵","backsim":"∽","backsimeq":"⋍","Backslash":"∖","Barv":"⫧","barvee":"⊽","barwed":"⌅","Barwed":"⌆","barwedge":"⌅","bbrk":"⎵","bbrktbrk":"⎶","bcong":"≌","Bcy":"Б","bcy":"б","bdquo":"„","becaus":"∵","because":"∵","Because":"∵","bemptyv":"⦰","bepsi":"϶","bernou":"ℬ","Bernoullis":"ℬ","Beta":"Β","beta":"β","beth":"ℶ","between":"≬","Bfr":"𝔅","bfr":"𝔟","bigcap":"⋂","bigcirc":"◯","bigcup":"⋃","bigodot":"⨀","bigoplus":"⨁","bigotimes":"⨂","bigsqcup":"⨆","bigstar":"★","bigtriangledown":"▽","bigtriangleup":"△","biguplus":"⨄","bigvee":"⋁","bigwedge":"⋀","bkarow":"⤍","blacklozenge":"⧫","blacksquare":"▪","blacktriangle":"▴","blacktriangledown":"▾","blacktriangleleft":"◂","blacktriangleright":"▸","blank":"␣","blk12":"▒","blk14":"░","blk34":"▓","block":"█","bne":"=⃥","bnequiv":"≡⃥","bNot":"⫭","bnot":"⌐","Bopf":"𝔹","bopf":"𝕓","bot":"⊥","bottom":"⊥","bowtie":"⋈","boxbox":"⧉","boxdl":"┐","boxdL":"╕","boxDl":"╖","boxDL":"╗","boxdr":"┌","boxdR":"╒","boxDr":"╓","boxDR":"╔","boxh":"─","boxH":"═","boxhd":"┬","boxHd":"╤","boxhD":"╥","boxHD":"╦","boxhu":"┴","boxHu":"╧","boxhU":"╨","boxHU":"╩","boxminus":"⊟","boxplus":"⊞","boxtimes":"⊠","boxul":"┘","boxuL":"╛","boxUl":"╜","boxUL":"╝","boxur":"└","boxuR":"╘","boxUr":"╙","boxUR":"╚","boxv":"│","boxV":"║","boxvh":"┼","boxvH":"╪","boxVh":"╫","boxVH":"╬","boxvl":"┤","boxvL":"╡","boxVl":"╢","boxVL":"╣","boxvr":"├","boxvR":"╞","boxVr":"╟","boxVR":"╠","bprime":"‵","breve":"˘","Breve":"˘","brvbar":"¦","bscr":"𝒷","Bscr":"ℬ","bsemi":"⁏","bsim":"∽","bsime":"⋍","bsolb":"⧅","bsol":"\\\\","bsolhsub":"⟈","bull":"•","bullet":"•","bump":"≎","bumpE":"⪮","bumpe":"≏","Bumpeq":"≎","bumpeq":"≏","Cacute":"Ć","cacute":"ć","capand":"⩄","capbrcup":"⩉","capcap":"⩋","cap":"∩","Cap":"⋒","capcup":"⩇","capdot":"⩀","CapitalDifferentialD":"ⅅ","caps":"∩︀","caret":"⁁","caron":"ˇ","Cayleys":"ℭ","ccaps":"⩍","Ccaron":"Č","ccaron":"č","Ccedil":"Ç","ccedil":"ç","Ccirc":"Ĉ","ccirc":"ĉ","Cconint":"∰","ccups":"⩌","ccupssm":"⩐","Cdot":"Ċ","cdot":"ċ","cedil":"¸","Cedilla":"¸","cemptyv":"⦲","cent":"¢","centerdot":"·","CenterDot":"·","cfr":"𝔠","Cfr":"ℭ","CHcy":"Ч","chcy":"ч","check":"✓","checkmark":"✓","Chi":"Χ","chi":"χ","circ":"ˆ","circeq":"≗","circlearrowleft":"↺","circlearrowright":"↻","circledast":"⊛","circledcirc":"⊚","circleddash":"⊝","CircleDot":"⊙","circledR":"®","circledS":"Ⓢ","CircleMinus":"⊖","CirclePlus":"⊕","CircleTimes":"⊗","cir":"○","cirE":"⧃","cire":"≗","cirfnint":"⨐","cirmid":"⫯","cirscir":"⧂","ClockwiseContourIntegral":"∲","CloseCurlyDoubleQuote":"”","CloseCurlyQuote":"’","clubs":"♣","clubsuit":"♣","colon":":","Colon":"∷","Colone":"⩴","colone":"≔","coloneq":"≔","comma":",","commat":"@","comp":"∁","compfn":"∘","complement":"∁","complexes":"ℂ","cong":"≅","congdot":"⩭","Congruent":"≡","conint":"∮","Conint":"∯","ContourIntegral":"∮","copf":"𝕔","Copf":"ℂ","coprod":"∐","Coproduct":"∐","copy":"©","COPY":"©","copysr":"℗","CounterClockwiseContourIntegral":"∳","crarr":"↵","cross":"✗","Cross":"⨯","Cscr":"𝒞","cscr":"𝒸","csub":"⫏","csube":"⫑","csup":"⫐","csupe":"⫒","ctdot":"⋯","cudarrl":"⤸","cudarrr":"⤵","cuepr":"⋞","cuesc":"⋟","cularr":"↶","cularrp":"⤽","cupbrcap":"⩈","cupcap":"⩆","CupCap":"≍","cup":"∪","Cup":"⋓","cupcup":"⩊","cupdot":"⊍","cupor":"⩅","cups":"∪︀","curarr":"↷","curarrm":"⤼","curlyeqprec":"⋞","curlyeqsucc":"⋟","curlyvee":"⋎","curlywedge":"⋏","curren":"¤","curvearrowleft":"↶","curvearrowright":"↷","cuvee":"⋎","cuwed":"⋏","cwconint":"∲","cwint":"∱","cylcty":"⌭","dagger":"†","Dagger":"‡","daleth":"ℸ","darr":"↓","Darr":"↡","dArr":"⇓","dash":"‐","Dashv":"⫤","dashv":"⊣","dbkarow":"⤏","dblac":"˝","Dcaron":"Ď","dcaron":"ď","Dcy":"Д","dcy":"д","ddagger":"‡","ddarr":"⇊","DD":"ⅅ","dd":"ⅆ","DDotrahd":"⤑","ddotseq":"⩷","deg":"°","Del":"∇","Delta":"Δ","delta":"δ","demptyv":"⦱","dfisht":"⥿","Dfr":"𝔇","dfr":"𝔡","dHar":"⥥","dharl":"⇃","dharr":"⇂","DiacriticalAcute":"´","DiacriticalDot":"˙","DiacriticalDoubleAcute":"˝","DiacriticalGrave":"`","DiacriticalTilde":"˜","diam":"⋄","diamond":"⋄","Diamond":"⋄","diamondsuit":"♦","diams":"♦","die":"¨","DifferentialD":"ⅆ","digamma":"ϝ","disin":"⋲","div":"÷","divide":"÷","divideontimes":"⋇","divonx":"⋇","DJcy":"Ђ","djcy":"ђ","dlcorn":"⌞","dlcrop":"⌍","dollar":"$","Dopf":"𝔻","dopf":"𝕕","Dot":"¨","dot":"˙","DotDot":"⃜","doteq":"≐","doteqdot":"≑","DotEqual":"≐","dotminus":"∸","dotplus":"∔","dotsquare":"⊡","doublebarwedge":"⌆","DoubleContourIntegral":"∯","DoubleDot":"¨","DoubleDownArrow":"⇓","DoubleLeftArrow":"⇐","DoubleLeftRightArrow":"⇔","DoubleLeftTee":"⫤","DoubleLongLeftArrow":"⟸","DoubleLongLeftRightArrow":"⟺","DoubleLongRightArrow":"⟹","DoubleRightArrow":"⇒","DoubleRightTee":"⊨","DoubleUpArrow":"⇑","DoubleUpDownArrow":"⇕","DoubleVerticalBar":"∥","DownArrowBar":"⤓","downarrow":"↓","DownArrow":"↓","Downarrow":"⇓","DownArrowUpArrow":"⇵","DownBreve":"̑","downdownarrows":"⇊","downharpoonleft":"⇃","downharpoonright":"⇂","DownLeftRightVector":"⥐","DownLeftTeeVector":"⥞","DownLeftVectorBar":"⥖","DownLeftVector":"↽","DownRightTeeVector":"⥟","DownRightVectorBar":"⥗","DownRightVector":"⇁","DownTeeArrow":"↧","DownTee":"⊤","drbkarow":"⤐","drcorn":"⌟","drcrop":"⌌","Dscr":"𝒟","dscr":"𝒹","DScy":"Ѕ","dscy":"ѕ","dsol":"⧶","Dstrok":"Đ","dstrok":"đ","dtdot":"⋱","dtri":"▿","dtrif":"▾","duarr":"⇵","duhar":"⥯","dwangle":"⦦","DZcy":"Џ","dzcy":"џ","dzigrarr":"⟿","Eacute":"É","eacute":"é","easter":"⩮","Ecaron":"Ě","ecaron":"ě","Ecirc":"Ê","ecirc":"ê","ecir":"≖","ecolon":"≕","Ecy":"Э","ecy":"э","eDDot":"⩷","Edot":"Ė","edot":"ė","eDot":"≑","ee":"ⅇ","efDot":"≒","Efr":"𝔈","efr":"𝔢","eg":"⪚","Egrave":"È","egrave":"è","egs":"⪖","egsdot":"⪘","el":"⪙","Element":"∈","elinters":"⏧","ell":"ℓ","els":"⪕","elsdot":"⪗","Emacr":"Ē","emacr":"ē","empty":"∅","emptyset":"∅","EmptySmallSquare":"◻","emptyv":"∅","EmptyVerySmallSquare":"▫","emsp13":" ","emsp14":" ","emsp":" ","ENG":"Ŋ","eng":"ŋ","ensp":" ","Eogon":"Ę","eogon":"ę","Eopf":"𝔼","eopf":"𝕖","epar":"⋕","eparsl":"⧣","eplus":"⩱","epsi":"ε","Epsilon":"Ε","epsilon":"ε","epsiv":"ϵ","eqcirc":"≖","eqcolon":"≕","eqsim":"≂","eqslantgtr":"⪖","eqslantless":"⪕","Equal":"⩵","equals":"=","EqualTilde":"≂","equest":"≟","Equilibrium":"⇌","equiv":"≡","equivDD":"⩸","eqvparsl":"⧥","erarr":"⥱","erDot":"≓","escr":"ℯ","Escr":"ℰ","esdot":"≐","Esim":"⩳","esim":"≂","Eta":"Η","eta":"η","ETH":"Ð","eth":"ð","Euml":"Ë","euml":"ë","euro":"€","excl":"!","exist":"∃","Exists":"∃","expectation":"ℰ","exponentiale":"ⅇ","ExponentialE":"ⅇ","fallingdotseq":"≒","Fcy":"Ф","fcy":"ф","female":"♀","ffilig":"ﬃ","fflig":"ﬀ","ffllig":"ﬄ","Ffr":"𝔉","ffr":"𝔣","filig":"ﬁ","FilledSmallSquare":"◼","FilledVerySmallSquare":"▪","fjlig":"fj","flat":"♭","fllig":"ﬂ","fltns":"▱","fnof":"ƒ","Fopf":"𝔽","fopf":"𝕗","forall":"∀","ForAll":"∀","fork":"⋔","forkv":"⫙","Fouriertrf":"ℱ","fpartint":"⨍","frac12":"½","frac13":"⅓","frac14":"¼","frac15":"⅕","frac16":"⅙","frac18":"⅛","frac23":"⅔","frac25":"⅖","frac34":"¾","frac35":"⅗","frac38":"⅜","frac45":"⅘","frac56":"⅚","frac58":"⅝","frac78":"⅞","frasl":"⁄","frown":"⌢","fscr":"𝒻","Fscr":"ℱ","gacute":"ǵ","Gamma":"Γ","gamma":"γ","Gammad":"Ϝ","gammad":"ϝ","gap":"⪆","Gbreve":"Ğ","gbreve":"ğ","Gcedil":"Ģ","Gcirc":"Ĝ","gcirc":"ĝ","Gcy":"Г","gcy":"г","Gdot":"Ġ","gdot":"ġ","ge":"≥","gE":"≧","gEl":"⪌","gel":"⋛","geq":"≥","geqq":"≧","geqslant":"⩾","gescc":"⪩","ges":"⩾","gesdot":"⪀","gesdoto":"⪂","gesdotol":"⪄","gesl":"⋛︀","gesles":"⪔","Gfr":"𝔊","gfr":"𝔤","gg":"≫","Gg":"⋙","ggg":"⋙","gimel":"ℷ","GJcy":"Ѓ","gjcy":"ѓ","gla":"⪥","gl":"≷","glE":"⪒","glj":"⪤","gnap":"⪊","gnapprox":"⪊","gne":"⪈","gnE":"≩","gneq":"⪈","gneqq":"≩","gnsim":"⋧","Gopf":"𝔾","gopf":"𝕘","grave":"`","GreaterEqual":"≥","GreaterEqualLess":"⋛","GreaterFullEqual":"≧","GreaterGreater":"⪢","GreaterLess":"≷","GreaterSlantEqual":"⩾","GreaterTilde":"≳","Gscr":"𝒢","gscr":"ℊ","gsim":"≳","gsime":"⪎","gsiml":"⪐","gtcc":"⪧","gtcir":"⩺","gt":">","GT":">","Gt":"≫","gtdot":"⋗","gtlPar":"⦕","gtquest":"⩼","gtrapprox":"⪆","gtrarr":"⥸","gtrdot":"⋗","gtreqless":"⋛","gtreqqless":"⪌","gtrless":"≷","gtrsim":"≳","gvertneqq":"≩︀","gvnE":"≩︀","Hacek":"ˇ","hairsp":" ","half":"½","hamilt":"ℋ","HARDcy":"Ъ","hardcy":"ъ","harrcir":"⥈","harr":"↔","hArr":"⇔","harrw":"↭","Hat":"^","hbar":"ℏ","Hcirc":"Ĥ","hcirc":"ĥ","hearts":"♥","heartsuit":"♥","hellip":"…","hercon":"⊹","hfr":"𝔥","Hfr":"ℌ","HilbertSpace":"ℋ","hksearow":"⤥","hkswarow":"⤦","hoarr":"⇿","homtht":"∻","hookleftarrow":"↩","hookrightarrow":"↪","hopf":"𝕙","Hopf":"ℍ","horbar":"―","HorizontalLine":"─","hscr":"𝒽","Hscr":"ℋ","hslash":"ℏ","Hstrok":"Ħ","hstrok":"ħ","HumpDownHump":"≎","HumpEqual":"≏","hybull":"⁃","hyphen":"‐","Iacute":"Í","iacute":"í","ic":"⁣","Icirc":"Î","icirc":"î","Icy":"И","icy":"и","Idot":"İ","IEcy":"Е","iecy":"е","iexcl":"¡","iff":"⇔","ifr":"𝔦","Ifr":"ℑ","Igrave":"Ì","igrave":"ì","ii":"ⅈ","iiiint":"⨌","iiint":"∭","iinfin":"⧜","iiota":"℩","IJlig":"Ĳ","ijlig":"ĳ","Imacr":"Ī","imacr":"ī","image":"ℑ","ImaginaryI":"ⅈ","imagline":"ℐ","imagpart":"ℑ","imath":"ı","Im":"ℑ","imof":"⊷","imped":"Ƶ","Implies":"⇒","incare":"℅","in":"∈","infin":"∞","infintie":"⧝","inodot":"ı","intcal":"⊺","int":"∫","Int":"∬","integers":"ℤ","Integral":"∫","intercal":"⊺","Intersection":"⋂","intlarhk":"⨗","intprod":"⨼","InvisibleComma":"⁣","InvisibleTimes":"⁢","IOcy":"Ё","iocy":"ё","Iogon":"Į","iogon":"į","Iopf":"𝕀","iopf":"𝕚","Iota":"Ι","iota":"ι","iprod":"⨼","iquest":"¿","iscr":"𝒾","Iscr":"ℐ","isin":"∈","isindot":"⋵","isinE":"⋹","isins":"⋴","isinsv":"⋳","isinv":"∈","it":"⁢","Itilde":"Ĩ","itilde":"ĩ","Iukcy":"І","iukcy":"і","Iuml":"Ï","iuml":"ï","Jcirc":"Ĵ","jcirc":"ĵ","Jcy":"Й","jcy":"й","Jfr":"𝔍","jfr":"𝔧","jmath":"ȷ","Jopf":"𝕁","jopf":"𝕛","Jscr":"𝒥","jscr":"𝒿","Jsercy":"Ј","jsercy":"ј","Jukcy":"Є","jukcy":"є","Kappa":"Κ","kappa":"κ","kappav":"ϰ","Kcedil":"Ķ","kcedil":"ķ","Kcy":"К","kcy":"к","Kfr":"𝔎","kfr":"𝔨","kgreen":"ĸ","KHcy":"Х","khcy":"х","KJcy":"Ќ","kjcy":"ќ","Kopf":"𝕂","kopf":"𝕜","Kscr":"𝒦","kscr":"𝓀","lAarr":"⇚","Lacute":"Ĺ","lacute":"ĺ","laemptyv":"⦴","lagran":"ℒ","Lambda":"Λ","lambda":"λ","lang":"⟨","Lang":"⟪","langd":"⦑","langle":"⟨","lap":"⪅","Laplacetrf":"ℒ","laquo":"«","larrb":"⇤","larrbfs":"⤟","larr":"←","Larr":"↞","lArr":"⇐","larrfs":"⤝","larrhk":"↩","larrlp":"↫","larrpl":"⤹","larrsim":"⥳","larrtl":"↢","latail":"⤙","lAtail":"⤛","lat":"⪫","late":"⪭","lates":"⪭︀","lbarr":"⤌","lBarr":"⤎","lbbrk":"❲","lbrace":"{","lbrack":"[","lbrke":"⦋","lbrksld":"⦏","lbrkslu":"⦍","Lcaron":"Ľ","lcaron":"ľ","Lcedil":"Ļ","lcedil":"ļ","lceil":"⌈","lcub":"{","Lcy":"Л","lcy":"л","ldca":"⤶","ldquo":"“","ldquor":"„","ldrdhar":"⥧","ldrushar":"⥋","ldsh":"↲","le":"≤","lE":"≦","LeftAngleBracket":"⟨","LeftArrowBar":"⇤","leftarrow":"←","LeftArrow":"←","Leftarrow":"⇐","LeftArrowRightArrow":"⇆","leftarrowtail":"↢","LeftCeiling":"⌈","LeftDoubleBracket":"⟦","LeftDownTeeVector":"⥡","LeftDownVectorBar":"⥙","LeftDownVector":"⇃","LeftFloor":"⌊","leftharpoondown":"↽","leftharpoonup":"↼","leftleftarrows":"⇇","leftrightarrow":"↔","LeftRightArrow":"↔","Leftrightarrow":"⇔","leftrightarrows":"⇆","leftrightharpoons":"⇋","leftrightsquigarrow":"↭","LeftRightVector":"⥎","LeftTeeArrow":"↤","LeftTee":"⊣","LeftTeeVector":"⥚","leftthreetimes":"⋋","LeftTriangleBar":"⧏","LeftTriangle":"⊲","LeftTriangleEqual":"⊴","LeftUpDownVector":"⥑","LeftUpTeeVector":"⥠","LeftUpVectorBar":"⥘","LeftUpVector":"↿","LeftVectorBar":"⥒","LeftVector":"↼","lEg":"⪋","leg":"⋚","leq":"≤","leqq":"≦","leqslant":"⩽","lescc":"⪨","les":"⩽","lesdot":"⩿","lesdoto":"⪁","lesdotor":"⪃","lesg":"⋚︀","lesges":"⪓","lessapprox":"⪅","lessdot":"⋖","lesseqgtr":"⋚","lesseqqgtr":"⪋","LessEqualGreater":"⋚","LessFullEqual":"≦","LessGreater":"≶","lessgtr":"≶","LessLess":"⪡","lesssim":"≲","LessSlantEqual":"⩽","LessTilde":"≲","lfisht":"⥼","lfloor":"⌊","Lfr":"𝔏","lfr":"𝔩","lg":"≶","lgE":"⪑","lHar":"⥢","lhard":"↽","lharu":"↼","lharul":"⥪","lhblk":"▄","LJcy":"Љ","ljcy":"љ","llarr":"⇇","ll":"≪","Ll":"⋘","llcorner":"⌞","Lleftarrow":"⇚","llhard":"⥫","lltri":"◺","Lmidot":"Ŀ","lmidot":"ŀ","lmoustache":"⎰","lmoust":"⎰","lnap":"⪉","lnapprox":"⪉","lne":"⪇","lnE":"≨","lneq":"⪇","lneqq":"≨","lnsim":"⋦","loang":"⟬","loarr":"⇽","lobrk":"⟦","longleftarrow":"⟵","LongLeftArrow":"⟵","Longleftarrow":"⟸","longleftrightarrow":"⟷","LongLeftRightArrow":"⟷","Longleftrightarrow":"⟺","longmapsto":"⟼","longrightarrow":"⟶","LongRightArrow":"⟶","Longrightarrow":"⟹","looparrowleft":"↫","looparrowright":"↬","lopar":"⦅","Lopf":"𝕃","lopf":"𝕝","loplus":"⨭","lotimes":"⨴","lowast":"∗","lowbar":"_","LowerLeftArrow":"↙","LowerRightArrow":"↘","loz":"◊","lozenge":"◊","lozf":"⧫","lpar":"(","lparlt":"⦓","lrarr":"⇆","lrcorner":"⌟","lrhar":"⇋","lrhard":"⥭","lrm":"‎","lrtri":"⊿","lsaquo":"‹","lscr":"𝓁","Lscr":"ℒ","lsh":"↰","Lsh":"↰","lsim":"≲","lsime":"⪍","lsimg":"⪏","lsqb":"[","lsquo":"‘","lsquor":"‚","Lstrok":"Ł","lstrok":"ł","ltcc":"⪦","ltcir":"⩹","lt":"<","LT":"<","Lt":"≪","ltdot":"⋖","lthree":"⋋","ltimes":"⋉","ltlarr":"⥶","ltquest":"⩻","ltri":"◃","ltrie":"⊴","ltrif":"◂","ltrPar":"⦖","lurdshar":"⥊","luruhar":"⥦","lvertneqq":"≨︀","lvnE":"≨︀","macr":"¯","male":"♂","malt":"✠","maltese":"✠","Map":"⤅","map":"↦","mapsto":"↦","mapstodown":"↧","mapstoleft":"↤","mapstoup":"↥","marker":"▮","mcomma":"⨩","Mcy":"М","mcy":"м","mdash":"—","mDDot":"∺","measuredangle":"∡","MediumSpace":" ","Mellintrf":"ℳ","Mfr":"𝔐","mfr":"𝔪","mho":"℧","micro":"µ","midast":"*","midcir":"⫰","mid":"∣","middot":"·","minusb":"⊟","minus":"−","minusd":"∸","minusdu":"⨪","MinusPlus":"∓","mlcp":"⫛","mldr":"…","mnplus":"∓","models":"⊧","Mopf":"𝕄","mopf":"𝕞","mp":"∓","mscr":"𝓂","Mscr":"ℳ","mstpos":"∾","Mu":"Μ","mu":"μ","multimap":"⊸","mumap":"⊸","nabla":"∇","Nacute":"Ń","nacute":"ń","nang":"∠⃒","nap":"≉","napE":"⩰̸","napid":"≋̸","napos":"ŉ","napprox":"≉","natural":"♮","naturals":"ℕ","natur":"♮","nbsp":" ","nbump":"≎̸","nbumpe":"≏̸","ncap":"⩃","Ncaron":"Ň","ncaron":"ň","Ncedil":"Ņ","ncedil":"ņ","ncong":"≇","ncongdot":"⩭̸","ncup":"⩂","Ncy":"Н","ncy":"н","ndash":"–","nearhk":"⤤","nearr":"↗","neArr":"⇗","nearrow":"↗","ne":"≠","nedot":"≐̸","NegativeMediumSpace":"​","NegativeThickSpace":"​","NegativeThinSpace":"​","NegativeVeryThinSpace":"​","nequiv":"≢","nesear":"⤨","nesim":"≂̸","NestedGreaterGreater":"≫","NestedLessLess":"≪","NewLine":"\\n","nexist":"∄","nexists":"∄","Nfr":"𝔑","nfr":"𝔫","ngE":"≧̸","nge":"≱","ngeq":"≱","ngeqq":"≧̸","ngeqslant":"⩾̸","nges":"⩾̸","nGg":"⋙̸","ngsim":"≵","nGt":"≫⃒","ngt":"≯","ngtr":"≯","nGtv":"≫̸","nharr":"↮","nhArr":"⇎","nhpar":"⫲","ni":"∋","nis":"⋼","nisd":"⋺","niv":"∋","NJcy":"Њ","njcy":"њ","nlarr":"↚","nlArr":"⇍","nldr":"‥","nlE":"≦̸","nle":"≰","nleftarrow":"↚","nLeftarrow":"⇍","nleftrightarrow":"↮","nLeftrightarrow":"⇎","nleq":"≰","nleqq":"≦̸","nleqslant":"⩽̸","nles":"⩽̸","nless":"≮","nLl":"⋘̸","nlsim":"≴","nLt":"≪⃒","nlt":"≮","nltri":"⋪","nltrie":"⋬","nLtv":"≪̸","nmid":"∤","NoBreak":"⁠","NonBreakingSpace":" ","nopf":"𝕟","Nopf":"ℕ","Not":"⫬","not":"¬","NotCongruent":"≢","NotCupCap":"≭","NotDoubleVerticalBar":"∦","NotElement":"∉","NotEqual":"≠","NotEqualTilde":"≂̸","NotExists":"∄","NotGreater":"≯","NotGreaterEqual":"≱","NotGreaterFullEqual":"≧̸","NotGreaterGreater":"≫̸","NotGreaterLess":"≹","NotGreaterSlantEqual":"⩾̸","NotGreaterTilde":"≵","NotHumpDownHump":"≎̸","NotHumpEqual":"≏̸","notin":"∉","notindot":"⋵̸","notinE":"⋹̸","notinva":"∉","notinvb":"⋷","notinvc":"⋶","NotLeftTriangleBar":"⧏̸","NotLeftTriangle":"⋪","NotLeftTriangleEqual":"⋬","NotLess":"≮","NotLessEqual":"≰","NotLessGreater":"≸","NotLessLess":"≪̸","NotLessSlantEqual":"⩽̸","NotLessTilde":"≴","NotNestedGreaterGreater":"⪢̸","NotNestedLessLess":"⪡̸","notni":"∌","notniva":"∌","notnivb":"⋾","notnivc":"⋽","NotPrecedes":"⊀","NotPrecedesEqual":"⪯̸","NotPrecedesSlantEqual":"⋠","NotReverseElement":"∌","NotRightTriangleBar":"⧐̸","NotRightTriangle":"⋫","NotRightTriangleEqual":"⋭","NotSquareSubset":"⊏̸","NotSquareSubsetEqual":"⋢","NotSquareSuperset":"⊐̸","NotSquareSupersetEqual":"⋣","NotSubset":"⊂⃒","NotSubsetEqual":"⊈","NotSucceeds":"⊁","NotSucceedsEqual":"⪰̸","NotSucceedsSlantEqual":"⋡","NotSucceedsTilde":"≿̸","NotSuperset":"⊃⃒","NotSupersetEqual":"⊉","NotTilde":"≁","NotTildeEqual":"≄","NotTildeFullEqual":"≇","NotTildeTilde":"≉","NotVerticalBar":"∤","nparallel":"∦","npar":"∦","nparsl":"⫽⃥","npart":"∂̸","npolint":"⨔","npr":"⊀","nprcue":"⋠","nprec":"⊀","npreceq":"⪯̸","npre":"⪯̸","nrarrc":"⤳̸","nrarr":"↛","nrArr":"⇏","nrarrw":"↝̸","nrightarrow":"↛","nRightarrow":"⇏","nrtri":"⋫","nrtrie":"⋭","nsc":"⊁","nsccue":"⋡","nsce":"⪰̸","Nscr":"𝒩","nscr":"𝓃","nshortmid":"∤","nshortparallel":"∦","nsim":"≁","nsime":"≄","nsimeq":"≄","nsmid":"∤","nspar":"∦","nsqsube":"⋢","nsqsupe":"⋣","nsub":"⊄","nsubE":"⫅̸","nsube":"⊈","nsubset":"⊂⃒","nsubseteq":"⊈","nsubseteqq":"⫅̸","nsucc":"⊁","nsucceq":"⪰̸","nsup":"⊅","nsupE":"⫆̸","nsupe":"⊉","nsupset":"⊃⃒","nsupseteq":"⊉","nsupseteqq":"⫆̸","ntgl":"≹","Ntilde":"Ñ","ntilde":"ñ","ntlg":"≸","ntriangleleft":"⋪","ntrianglelefteq":"⋬","ntriangleright":"⋫","ntrianglerighteq":"⋭","Nu":"Ν","nu":"ν","num":"#","numero":"№","numsp":" ","nvap":"≍⃒","nvdash":"⊬","nvDash":"⊭","nVdash":"⊮","nVDash":"⊯","nvge":"≥⃒","nvgt":">⃒","nvHarr":"⤄","nvinfin":"⧞","nvlArr":"⤂","nvle":"≤⃒","nvlt":"<⃒","nvltrie":"⊴⃒","nvrArr":"⤃","nvrtrie":"⊵⃒","nvsim":"∼⃒","nwarhk":"⤣","nwarr":"↖","nwArr":"⇖","nwarrow":"↖","nwnear":"⤧","Oacute":"Ó","oacute":"ó","oast":"⊛","Ocirc":"Ô","ocirc":"ô","ocir":"⊚","Ocy":"О","ocy":"о","odash":"⊝","Odblac":"Ő","odblac":"ő","odiv":"⨸","odot":"⊙","odsold":"⦼","OElig":"Œ","oelig":"œ","ofcir":"⦿","Ofr":"𝔒","ofr":"𝔬","ogon":"˛","Ograve":"Ò","ograve":"ò","ogt":"⧁","ohbar":"⦵","ohm":"Ω","oint":"∮","olarr":"↺","olcir":"⦾","olcross":"⦻","oline":"‾","olt":"⧀","Omacr":"Ō","omacr":"ō","Omega":"Ω","omega":"ω","Omicron":"Ο","omicron":"ο","omid":"⦶","ominus":"⊖","Oopf":"𝕆","oopf":"𝕠","opar":"⦷","OpenCurlyDoubleQuote":"“","OpenCurlyQuote":"‘","operp":"⦹","oplus":"⊕","orarr":"↻","Or":"⩔","or":"∨","ord":"⩝","order":"ℴ","orderof":"ℴ","ordf":"ª","ordm":"º","origof":"⊶","oror":"⩖","orslope":"⩗","orv":"⩛","oS":"Ⓢ","Oscr":"𝒪","oscr":"ℴ","Oslash":"Ø","oslash":"ø","osol":"⊘","Otilde":"Õ","otilde":"õ","otimesas":"⨶","Otimes":"⨷","otimes":"⊗","Ouml":"Ö","ouml":"ö","ovbar":"⌽","OverBar":"‾","OverBrace":"⏞","OverBracket":"⎴","OverParenthesis":"⏜","para":"¶","parallel":"∥","par":"∥","parsim":"⫳","parsl":"⫽","part":"∂","PartialD":"∂","Pcy":"П","pcy":"п","percnt":"%","period":".","permil":"‰","perp":"⊥","pertenk":"‱","Pfr":"𝔓","pfr":"𝔭","Phi":"Φ","phi":"φ","phiv":"ϕ","phmmat":"ℳ","phone":"☎","Pi":"Π","pi":"π","pitchfork":"⋔","piv":"ϖ","planck":"ℏ","planckh":"ℎ","plankv":"ℏ","plusacir":"⨣","plusb":"⊞","pluscir":"⨢","plus":"+","plusdo":"∔","plusdu":"⨥","pluse":"⩲","PlusMinus":"±","plusmn":"±","plussim":"⨦","plustwo":"⨧","pm":"±","Poincareplane":"ℌ","pointint":"⨕","popf":"𝕡","Popf":"ℙ","pound":"£","prap":"⪷","Pr":"⪻","pr":"≺","prcue":"≼","precapprox":"⪷","prec":"≺","preccurlyeq":"≼","Precedes":"≺","PrecedesEqual":"⪯","PrecedesSlantEqual":"≼","PrecedesTilde":"≾","preceq":"⪯","precnapprox":"⪹","precneqq":"⪵","precnsim":"⋨","pre":"⪯","prE":"⪳","precsim":"≾","prime":"′","Prime":"″","primes":"ℙ","prnap":"⪹","prnE":"⪵","prnsim":"⋨","prod":"∏","Product":"∏","profalar":"⌮","profline":"⌒","profsurf":"⌓","prop":"∝","Proportional":"∝","Proportion":"∷","propto":"∝","prsim":"≾","prurel":"⊰","Pscr":"𝒫","pscr":"𝓅","Psi":"Ψ","psi":"ψ","puncsp":" ","Qfr":"𝔔","qfr":"𝔮","qint":"⨌","qopf":"𝕢","Qopf":"ℚ","qprime":"⁗","Qscr":"𝒬","qscr":"𝓆","quaternions":"ℍ","quatint":"⨖","quest":"?","questeq":"≟","quot":"\\"","QUOT":"\\"","rAarr":"⇛","race":"∽̱","Racute":"Ŕ","racute":"ŕ","radic":"√","raemptyv":"⦳","rang":"⟩","Rang":"⟫","rangd":"⦒","range":"⦥","rangle":"⟩","raquo":"»","rarrap":"⥵","rarrb":"⇥","rarrbfs":"⤠","rarrc":"⤳","rarr":"→","Rarr":"↠","rArr":"⇒","rarrfs":"⤞","rarrhk":"↪","rarrlp":"↬","rarrpl":"⥅","rarrsim":"⥴","Rarrtl":"⤖","rarrtl":"↣","rarrw":"↝","ratail":"⤚","rAtail":"⤜","ratio":"∶","rationals":"ℚ","rbarr":"⤍","rBarr":"⤏","RBarr":"⤐","rbbrk":"❳","rbrace":"}","rbrack":"]","rbrke":"⦌","rbrksld":"⦎","rbrkslu":"⦐","Rcaron":"Ř","rcaron":"ř","Rcedil":"Ŗ","rcedil":"ŗ","rceil":"⌉","rcub":"}","Rcy":"Р","rcy":"р","rdca":"⤷","rdldhar":"⥩","rdquo":"”","rdquor":"”","rdsh":"↳","real":"ℜ","realine":"ℛ","realpart":"ℜ","reals":"ℝ","Re":"ℜ","rect":"▭","reg":"®","REG":"®","ReverseElement":"∋","ReverseEquilibrium":"⇋","ReverseUpEquilibrium":"⥯","rfisht":"⥽","rfloor":"⌋","rfr":"𝔯","Rfr":"ℜ","rHar":"⥤","rhard":"⇁","rharu":"⇀","rharul":"⥬","Rho":"Ρ","rho":"ρ","rhov":"ϱ","RightAngleBracket":"⟩","RightArrowBar":"⇥","rightarrow":"→","RightArrow":"→","Rightarrow":"⇒","RightArrowLeftArrow":"⇄","rightarrowtail":"↣","RightCeiling":"⌉","RightDoubleBracket":"⟧","RightDownTeeVector":"⥝","RightDownVectorBar":"⥕","RightDownVector":"⇂","RightFloor":"⌋","rightharpoondown":"⇁","rightharpoonup":"⇀","rightleftarrows":"⇄","rightleftharpoons":"⇌","rightrightarrows":"⇉","rightsquigarrow":"↝","RightTeeArrow":"↦","RightTee":"⊢","RightTeeVector":"⥛","rightthreetimes":"⋌","RightTriangleBar":"⧐","RightTriangle":"⊳","RightTriangleEqual":"⊵","RightUpDownVector":"⥏","RightUpTeeVector":"⥜","RightUpVectorBar":"⥔","RightUpVector":"↾","RightVectorBar":"⥓","RightVector":"⇀","ring":"˚","risingdotseq":"≓","rlarr":"⇄","rlhar":"⇌","rlm":"‏","rmoustache":"⎱","rmoust":"⎱","rnmid":"⫮","roang":"⟭","roarr":"⇾","robrk":"⟧","ropar":"⦆","ropf":"𝕣","Ropf":"ℝ","roplus":"⨮","rotimes":"⨵","RoundImplies":"⥰","rpar":")","rpargt":"⦔","rppolint":"⨒","rrarr":"⇉","Rrightarrow":"⇛","rsaquo":"›","rscr":"𝓇","Rscr":"ℛ","rsh":"↱","Rsh":"↱","rsqb":"]","rsquo":"’","rsquor":"’","rthree":"⋌","rtimes":"⋊","rtri":"▹","rtrie":"⊵","rtrif":"▸","rtriltri":"⧎","RuleDelayed":"⧴","ruluhar":"⥨","rx":"℞","Sacute":"Ś","sacute":"ś","sbquo":"‚","scap":"⪸","Scaron":"Š","scaron":"š","Sc":"⪼","sc":"≻","sccue":"≽","sce":"⪰","scE":"⪴","Scedil":"Ş","scedil":"ş","Scirc":"Ŝ","scirc":"ŝ","scnap":"⪺","scnE":"⪶","scnsim":"⋩","scpolint":"⨓","scsim":"≿","Scy":"С","scy":"с","sdotb":"⊡","sdot":"⋅","sdote":"⩦","searhk":"⤥","searr":"↘","seArr":"⇘","searrow":"↘","sect":"§","semi":";","seswar":"⤩","setminus":"∖","setmn":"∖","sext":"✶","Sfr":"𝔖","sfr":"𝔰","sfrown":"⌢","sharp":"♯","SHCHcy":"Щ","shchcy":"щ","SHcy":"Ш","shcy":"ш","ShortDownArrow":"↓","ShortLeftArrow":"←","shortmid":"∣","shortparallel":"∥","ShortRightArrow":"→","ShortUpArrow":"↑","shy":"­","Sigma":"Σ","sigma":"σ","sigmaf":"ς","sigmav":"ς","sim":"∼","simdot":"⩪","sime":"≃","simeq":"≃","simg":"⪞","simgE":"⪠","siml":"⪝","simlE":"⪟","simne":"≆","simplus":"⨤","simrarr":"⥲","slarr":"←","SmallCircle":"∘","smallsetminus":"∖","smashp":"⨳","smeparsl":"⧤","smid":"∣","smile":"⌣","smt":"⪪","smte":"⪬","smtes":"⪬︀","SOFTcy":"Ь","softcy":"ь","solbar":"⌿","solb":"⧄","sol":"/","Sopf":"𝕊","sopf":"𝕤","spades":"♠","spadesuit":"♠","spar":"∥","sqcap":"⊓","sqcaps":"⊓︀","sqcup":"⊔","sqcups":"⊔︀","Sqrt":"√","sqsub":"⊏","sqsube":"⊑","sqsubset":"⊏","sqsubseteq":"⊑","sqsup":"⊐","sqsupe":"⊒","sqsupset":"⊐","sqsupseteq":"⊒","square":"□","Square":"□","SquareIntersection":"⊓","SquareSubset":"⊏","SquareSubsetEqual":"⊑","SquareSuperset":"⊐","SquareSupersetEqual":"⊒","SquareUnion":"⊔","squarf":"▪","squ":"□","squf":"▪","srarr":"→","Sscr":"𝒮","sscr":"𝓈","ssetmn":"∖","ssmile":"⌣","sstarf":"⋆","Star":"⋆","star":"☆","starf":"★","straightepsilon":"ϵ","straightphi":"ϕ","strns":"¯","sub":"⊂","Sub":"⋐","subdot":"⪽","subE":"⫅","sube":"⊆","subedot":"⫃","submult":"⫁","subnE":"⫋","subne":"⊊","subplus":"⪿","subrarr":"⥹","subset":"⊂","Subset":"⋐","subseteq":"⊆","subseteqq":"⫅","SubsetEqual":"⊆","subsetneq":"⊊","subsetneqq":"⫋","subsim":"⫇","subsub":"⫕","subsup":"⫓","succapprox":"⪸","succ":"≻","succcurlyeq":"≽","Succeeds":"≻","SucceedsEqual":"⪰","SucceedsSlantEqual":"≽","SucceedsTilde":"≿","succeq":"⪰","succnapprox":"⪺","succneqq":"⪶","succnsim":"⋩","succsim":"≿","SuchThat":"∋","sum":"∑","Sum":"∑","sung":"♪","sup1":"¹","sup2":"²","sup3":"³","sup":"⊃","Sup":"⋑","supdot":"⪾","supdsub":"⫘","supE":"⫆","supe":"⊇","supedot":"⫄","Superset":"⊃","SupersetEqual":"⊇","suphsol":"⟉","suphsub":"⫗","suplarr":"⥻","supmult":"⫂","supnE":"⫌","supne":"⊋","supplus":"⫀","supset":"⊃","Supset":"⋑","supseteq":"⊇","supseteqq":"⫆","supsetneq":"⊋","supsetneqq":"⫌","supsim":"⫈","supsub":"⫔","supsup":"⫖","swarhk":"⤦","swarr":"↙","swArr":"⇙","swarrow":"↙","swnwar":"⤪","szlig":"ß","Tab":"\\t","target":"⌖","Tau":"Τ","tau":"τ","tbrk":"⎴","Tcaron":"Ť","tcaron":"ť","Tcedil":"Ţ","tcedil":"ţ","Tcy":"Т","tcy":"т","tdot":"⃛","telrec":"⌕","Tfr":"𝔗","tfr":"𝔱","there4":"∴","therefore":"∴","Therefore":"∴","Theta":"Θ","theta":"θ","thetasym":"ϑ","thetav":"ϑ","thickapprox":"≈","thicksim":"∼","ThickSpace":"  ","ThinSpace":" ","thinsp":" ","thkap":"≈","thksim":"∼","THORN":"Þ","thorn":"þ","tilde":"˜","Tilde":"∼","TildeEqual":"≃","TildeFullEqual":"≅","TildeTilde":"≈","timesbar":"⨱","timesb":"⊠","times":"×","timesd":"⨰","tint":"∭","toea":"⤨","topbot":"⌶","topcir":"⫱","top":"⊤","Topf":"𝕋","topf":"𝕥","topfork":"⫚","tosa":"⤩","tprime":"‴","trade":"™","TRADE":"™","triangle":"▵","triangledown":"▿","triangleleft":"◃","trianglelefteq":"⊴","triangleq":"≜","triangleright":"▹","trianglerighteq":"⊵","tridot":"◬","trie":"≜","triminus":"⨺","TripleDot":"⃛","triplus":"⨹","trisb":"⧍","tritime":"⨻","trpezium":"⏢","Tscr":"𝒯","tscr":"𝓉","TScy":"Ц","tscy":"ц","TSHcy":"Ћ","tshcy":"ћ","Tstrok":"Ŧ","tstrok":"ŧ","twixt":"≬","twoheadleftarrow":"↞","twoheadrightarrow":"↠","Uacute":"Ú","uacute":"ú","uarr":"↑","Uarr":"↟","uArr":"⇑","Uarrocir":"⥉","Ubrcy":"Ў","ubrcy":"ў","Ubreve":"Ŭ","ubreve":"ŭ","Ucirc":"Û","ucirc":"û","Ucy":"У","ucy":"у","udarr":"⇅","Udblac":"Ű","udblac":"ű","udhar":"⥮","ufisht":"⥾","Ufr":"𝔘","ufr":"𝔲","Ugrave":"Ù","ugrave":"ù","uHar":"⥣","uharl":"↿","uharr":"↾","uhblk":"▀","ulcorn":"⌜","ulcorner":"⌜","ulcrop":"⌏","ultri":"◸","Umacr":"Ū","umacr":"ū","uml":"¨","UnderBar":"_","UnderBrace":"⏟","UnderBracket":"⎵","UnderParenthesis":"⏝","Union":"⋃","UnionPlus":"⊎","Uogon":"Ų","uogon":"ų","Uopf":"𝕌","uopf":"𝕦","UpArrowBar":"⤒","uparrow":"↑","UpArrow":"↑","Uparrow":"⇑","UpArrowDownArrow":"⇅","updownarrow":"↕","UpDownArrow":"↕","Updownarrow":"⇕","UpEquilibrium":"⥮","upharpoonleft":"↿","upharpoonright":"↾","uplus":"⊎","UpperLeftArrow":"↖","UpperRightArrow":"↗","upsi":"υ","Upsi":"ϒ","upsih":"ϒ","Upsilon":"Υ","upsilon":"υ","UpTeeArrow":"↥","UpTee":"⊥","upuparrows":"⇈","urcorn":"⌝","urcorner":"⌝","urcrop":"⌎","Uring":"Ů","uring":"ů","urtri":"◹","Uscr":"𝒰","uscr":"𝓊","utdot":"⋰","Utilde":"Ũ","utilde":"ũ","utri":"▵","utrif":"▴","uuarr":"⇈","Uuml":"Ü","uuml":"ü","uwangle":"⦧","vangrt":"⦜","varepsilon":"ϵ","varkappa":"ϰ","varnothing":"∅","varphi":"ϕ","varpi":"ϖ","varpropto":"∝","varr":"↕","vArr":"⇕","varrho":"ϱ","varsigma":"ς","varsubsetneq":"⊊︀","varsubsetneqq":"⫋︀","varsupsetneq":"⊋︀","varsupsetneqq":"⫌︀","vartheta":"ϑ","vartriangleleft":"⊲","vartriangleright":"⊳","vBar":"⫨","Vbar":"⫫","vBarv":"⫩","Vcy":"В","vcy":"в","vdash":"⊢","vDash":"⊨","Vdash":"⊩","VDash":"⊫","Vdashl":"⫦","veebar":"⊻","vee":"∨","Vee":"⋁","veeeq":"≚","vellip":"⋮","verbar":"|","Verbar":"‖","vert":"|","Vert":"‖","VerticalBar":"∣","VerticalLine":"|","VerticalSeparator":"❘","VerticalTilde":"≀","VeryThinSpace":" ","Vfr":"𝔙","vfr":"𝔳","vltri":"⊲","vnsub":"⊂⃒","vnsup":"⊃⃒","Vopf":"𝕍","vopf":"𝕧","vprop":"∝","vrtri":"⊳","Vscr":"𝒱","vscr":"𝓋","vsubnE":"⫋︀","vsubne":"⊊︀","vsupnE":"⫌︀","vsupne":"⊋︀","Vvdash":"⊪","vzigzag":"⦚","Wcirc":"Ŵ","wcirc":"ŵ","wedbar":"⩟","wedge":"∧","Wedge":"⋀","wedgeq":"≙","weierp":"℘","Wfr":"𝔚","wfr":"𝔴","Wopf":"𝕎","wopf":"𝕨","wp":"℘","wr":"≀","wreath":"≀","Wscr":"𝒲","wscr":"𝓌","xcap":"⋂","xcirc":"◯","xcup":"⋃","xdtri":"▽","Xfr":"𝔛","xfr":"𝔵","xharr":"⟷","xhArr":"⟺","Xi":"Ξ","xi":"ξ","xlarr":"⟵","xlArr":"⟸","xmap":"⟼","xnis":"⋻","xodot":"⨀","Xopf":"𝕏","xopf":"𝕩","xoplus":"⨁","xotime":"⨂","xrarr":"⟶","xrArr":"⟹","Xscr":"𝒳","xscr":"𝓍","xsqcup":"⨆","xuplus":"⨄","xutri":"△","xvee":"⋁","xwedge":"⋀","Yacute":"Ý","yacute":"ý","YAcy":"Я","yacy":"я","Ycirc":"Ŷ","ycirc":"ŷ","Ycy":"Ы","ycy":"ы","yen":"¥","Yfr":"𝔜","yfr":"𝔶","YIcy":"Ї","yicy":"ї","Yopf":"𝕐","yopf":"𝕪","Yscr":"𝒴","yscr":"𝓎","YUcy":"Ю","yucy":"ю","yuml":"ÿ","Yuml":"Ÿ","Zacute":"Ź","zacute":"ź","Zcaron":"Ž","zcaron":"ž","Zcy":"З","zcy":"з","Zdot":"Ż","zdot":"ż","zeetrf":"ℨ","ZeroWidthSpace":"​","Zeta":"Ζ","zeta":"ζ","zfr":"𝔷","Zfr":"ℨ","ZHcy":"Ж","zhcy":"ж","zigrarr":"⇝","zopf":"𝕫","Zopf":"ℤ","Zscr":"𝒵","zscr":"𝓏","zwj":"‍","zwnj":"‌"}')},9591:a=>{a.exports=JSON.parse('{"Aacute":"Á","aacute":"á","Acirc":"Â","acirc":"â","acute":"´","AElig":"Æ","aelig":"æ","Agrave":"À","agrave":"à","amp":"&","AMP":"&","Aring":"Å","aring":"å","Atilde":"Ã","atilde":"ã","Auml":"Ä","auml":"ä","brvbar":"¦","Ccedil":"Ç","ccedil":"ç","cedil":"¸","cent":"¢","copy":"©","COPY":"©","curren":"¤","deg":"°","divide":"÷","Eacute":"É","eacute":"é","Ecirc":"Ê","ecirc":"ê","Egrave":"È","egrave":"è","ETH":"Ð","eth":"ð","Euml":"Ë","euml":"ë","frac12":"½","frac14":"¼","frac34":"¾","gt":">","GT":">","Iacute":"Í","iacute":"í","Icirc":"Î","icirc":"î","iexcl":"¡","Igrave":"Ì","igrave":"ì","iquest":"¿","Iuml":"Ï","iuml":"ï","laquo":"«","lt":"<","LT":"<","macr":"¯","micro":"µ","middot":"·","nbsp":" ","not":"¬","Ntilde":"Ñ","ntilde":"ñ","Oacute":"Ó","oacute":"ó","Ocirc":"Ô","ocirc":"ô","Ograve":"Ò","ograve":"ò","ordf":"ª","ordm":"º","Oslash":"Ø","oslash":"ø","Otilde":"Õ","otilde":"õ","Ouml":"Ö","ouml":"ö","para":"¶","plusmn":"±","pound":"£","quot":"\\"","QUOT":"\\"","raquo":"»","reg":"®","REG":"®","sect":"§","shy":"­","sup1":"¹","sup2":"²","sup3":"³","szlig":"ß","THORN":"Þ","thorn":"þ","times":"×","Uacute":"Ú","uacute":"ú","Ucirc":"Û","ucirc":"û","Ugrave":"Ù","ugrave":"ù","uml":"¨","Uuml":"Ü","uuml":"ü","Yacute":"Ý","yacute":"ý","yen":"¥","yuml":"ÿ"}')},2586:a=>{a.exports=JSON.parse(`{"amp":"&","apos":"'","gt":">","lt":"<","quot":"\\""}`)}},r={};function i(a){var s=r[a];if(s!==void 0)return s.exports;var l=r[a]={exports:{}};return e[a].call(l.exports,l,l.exports,i),l.exports}i.n=a=>{var s=a&&a.__esModule?()=>a.default:()=>a;return i.d(s,{a:s}),s},i.d=(a,s)=>{for(var l in s)i.o(s,l)&&!i.o(a,l)&&Object.defineProperty(a,l,{enumerable:!0,get:s[l]})},i.o=(a,s)=>Object.prototype.hasOwnProperty.call(a,s),i.r=a=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})};var o={};return(()=>{i.r(o),i.d(o,{default:()=>x});var a=function(){return a=Object.assign||function(b){for(var _,S=1,T=arguments.length;S<T;S++)for(var C in _=arguments[S])Object.prototype.hasOwnProperty.call(_,C)&&(b[C]=_[C]);return b},a.apply(this,arguments)},s="set-device-desktop",l="set-device-tablet",c="set-device-mobile",u="canvas-clear",f=i(6094),h=i.n(f),d=function(){return d=Object.assign||function(b){for(var _,S=1,T=arguments.length;S<T;S++)for(var C in _=arguments[S])Object.prototype.hasOwnProperty.call(_,C)&&(b[C]=_[C]);return b},d.apply(this,arguments)};const m=function(b,_){var S=b.Commands,T=_.textCleanCanvas;(function(C,w){var N=C.Commands,A=C.getConfig().stylePrefix;N.add(w.cmdOpenImport,{containerEl:null,codeEditorHtml:null,createCodeViewer:function(){return C.CodeManager.createViewer({codeName:"htmlmixed",theme:w.codeViewerTheme,readOnly:!1})},createCodeEditor:function(){var j=document.createElement("div"),R=this.createCodeViewer();return j.style.flex="1 0 auto",j.style.boxSizing="border-box",j.className="".concat(A,"import-code"),j.appendChild(R.getElement()),{codeEditor:R,el:j}},getCodeContainer:function(){var j=this.containerEl;return j||((j=document.createElement("div")).className="".concat(A,"import-container"),j.style.display="flex",j.style.gap="5px",j.style.flexDirection="column",j.style.justifyContent="space-between",this.containerEl=j),j},run:function(j){var R=this.getCodeContainer(),L=this.codeEditorHtml;if(!L){var M=this.createCodeEditor(),I=document.createElement("button");if(L=M.codeEditor,this.codeEditorHtml=L,w.modalLabelImport){var D=document.createElement("div");D.className="".concat(A,"import-label"),D.innerHTML=w.modalLabelImport,R.appendChild(D)}I.innerHTML=w.modalBtnImport,I.type="button",I.className="".concat(A,"btn-prim ").concat(A,"btn-import"),I.style.alignSelf="flex-start",I.onclick=function(){var V=M.codeEditor.editor.getValue();j.Components.clear(),j.Css.clear(),j.setComponents(V),j.Modal.close()},R.appendChild(M.el),R.appendChild(I)}j.Modal.open({title:w.modalTitleImport,content:R}),L&&(L.setContent(w.importPlaceholder||""),L.editor.refresh())}})})(b,_),function(C,w){var N=C.Commands,A=C.getConfig().stylePrefix;N.add(w.cmdInlineHtml,{run:function(j,R,L){L===void 0&&(L={});var M=j.getHtml()+"<style>".concat(j.getCss(),"</style>");return h()(M,d(d({},L.juiceOpts),L))}}),N.add("export-template",{containerEl:null,codeEditorHtml:null,createCodeViewer:function(){return C.CodeManager.createViewer({codeName:"htmlmixed",theme:w.codeViewerTheme})},createCodeEditor:function(){var j=document.createElement("div"),R=this.createCodeViewer();return j.style.flex="1 0 auto",j.style.boxSizing="border-box",j.className="".concat(A,"export-code"),j.appendChild(R.getElement()),{codeEditor:R,el:j}},getCodeContainer:function(){var j=this.containerEl;return j||((j=document.createElement("div")).className="".concat(A,"export-container"),j.style.display="flex",j.style.gap="5px",j.style.flexDirection="column",j.style.justifyContent="space-between",this.containerEl=j),j},run:function(j){var R=this.codeEditorHtml,L=this.getCodeContainer();if(!R){var M=this.createCodeEditor();if(R=M.codeEditor,this.codeEditorHtml=R,w.modalLabelExport){var I=document.createElement("div");I.className="".concat(A,"export-label"),I.innerHTML=w.modalLabelExport,L.appendChild(I)}L.appendChild(M.el)}if(j.Modal.open({title:w.modalTitleExport,content:L}),R){var D="".concat(j.getHtml(),"<style>").concat(j.getCss(),"</style>");R.setContent(w.inlineCss?h()(D,w.juiceOpts):D),R.editor.refresh()}}})}(b,_),function(C,w){C.Commands.add(w.cmdTglImages,{run:function(N){var A=N.getComponents();this.toggleImages(A)},stop:function(N){var A=N.getComponents();this.toggleImages(A,!0)},toggleImages:function(N,A){var j=this;A===void 0&&(A=!1);var R="##";N.forEach(function(L){if(L.get("type")==="image"){var M=L.get("src");A?M===R&&L.set("src",L.get("src_bkp")):M!==R&&(L.set("src_bkp",L.get("src")),L.set("src",R))}j.toggleImages(L.components(),A)})}})}(b,_),S.add(s,{run:function(C){return C.setDevice("Desktop")},stop:function(){}}),S.add(l,{run:function(C){return C.setDevice("Tablet")},stop:function(){}}),S.add(c,{run:function(C){return C.setDevice("Mobile portrait")},stop:function(){}}),S.add(u,{run:function(C){var w="core:canvas-clear";T?confirm(T)&&C.runCommand(w):C.runCommand(w)}})};var g=function(){return g=Object.assign||function(b){for(var _,S=1,T=arguments.length;S<T;S++)for(var C in _=arguments[S])Object.prototype.hasOwnProperty.call(_,C)&&(b[C]=_[C]);return b},g.apply(this,arguments)};const x=function(b,_){_===void 0&&(_={});var S=b.getConfig(),T=g({blocks:["sect100","sect50","sect30","sect37","button","divider","text","text-sect","image","quote","link","link-block","grid-items","list-items"],block:function(){return{}},juiceOpts:{},cmdOpenImport:"gjs-open-import-template",cmdTglImages:"gjs-toggle-images",cmdInlineHtml:"gjs-get-inlined-html",modalTitleImport:"Import template",modalTitleExport:"Export template",modalLabelImport:"",modalLabelExport:"",modalBtnImport:"Import",codeViewerTheme:"hopscotch",importPlaceholder:"",inlineCss:!0,cellStyle:{padding:"0",margin:"0","vertical-align":"top"},tableStyle:{height:"150px",margin:"0 auto 10px auto",padding:"5px 5px 5px 5px",width:"100%"},updateStyleManager:!0,showStylesOnChange:!0,showBlocksOnLoad:!0,useCustomTheme:!0,textCleanCanvas:"Are you sure you want to clear the canvas?"},_);if(S.devicePreviewMode=!0,T.useCustomTheme&&typeof window<"u"){var C="gjs-",w="";[["one","#373d49"],["two","#dae5e6"],["three","#4c9790"],["four","#35d7bb"]].forEach(function(A){var j=A[0],R=A[1];w+=`
        .`.concat(C).concat(j,`-bg {
          background-color: `).concat(R,`;
        }
        .`).concat(C).concat(j,`-color {
          color: `).concat(R,`;
        }
        .`).concat(C).concat(j,`-color-h:hover {
          color: `).concat(R,`;
        }
      `)});var N=document.createElement("style");N.innerText=w,document.head.appendChild(N)}m(b,T),function(A,j){A.Blocks;var R="",L="",M=j.tableStyle||{},I=j.cellStyle||{},D=function(W,Y){j.blocks.indexOf(W)>=0&&A.Blocks.add(W,a(a({select:!0},Y),j.block(W)))};for(var V in M)R+="".concat(V,": ").concat(M[V],"; ");for(var V in I)L+="".concat(V,": ").concat(I[V],"; ");D("sect100",{label:"1 Section",media:`<svg viewBox="0 0 24 24">
      <path fill="currentColor" d="M2 20h20V4H2v16Zm-1 0V4a1 1 0 0 1 1-1h20a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1Z"/>
    </svg>`,content:`
      <table style="`.concat(R,`">
        <tr>
          <td style="`).concat(L,`"></td>
        </tr>
      </table>
    `)}),D("sect50",{label:"1/2 Section",media:`<svg viewBox="0 0 23 24">
      <path fill="currentColor" d="M2 20h8V4H2v16Zm-1 0V4a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1ZM13 20h8V4h-8v16Zm-1 0V4a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-8a1 1 0 0 1-1-1Z"/>
    </svg>`,content:`
      <table style="`.concat(R,`">
        <tr>
          <td style="`).concat(L,` width: 50%"></td>
          <td style="`).concat(L,` width: 50%"></td>
        </tr>
      </table>
    `)}),D("sect30",{label:"1/3 Section",media:`<svg viewBox="0 0 23 24">
      <path fill="currentColor" d="M2 20h4V4H2v16Zm-1 0V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1ZM17 20h4V4h-4v16Zm-1 0V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1ZM9.5 20h4V4h-4v16Zm-1 0V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1Z"/>
    </svg>`,content:`
      <table style="`.concat(R,`">
        <tr>
          <td style="`).concat(L,` width: 33.3333%"></td>
          <td style="`).concat(L,` width: 33.3333%"></td>
          <td style="`).concat(L,` width: 33.3333%"></td>
        </tr>
      </table>
    `)}),D("sect37",{label:"3/7 Section",media:`<svg viewBox="0 0 24 24">
      <path fill="currentColor" d="M2 20h5V4H2v16Zm-1 0V4a1 1 0 0 1 1-1h5a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1ZM10 20h12V4H10v16Zm-1 0V4a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H10a1 1 0 0 1-1-1Z"></path>
    </svg>`,content:`
      <table style="`.concat(R,`">
        <tr>
          <td style="`).concat(L,` width:30%"></td>
          <td style="`).concat(L,` width:70%"></td>
        </tr>
      </table>
    `)}),D("button",{label:"Button",media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M20 20.5C20 21.3 19.3 22 18.5 22H13C12.6 22 12.3 21.9 12 21.6L8 17.4L8.7 16.6C8.9 16.4 9.2 16.3 9.5 16.3H9.7L12 18V9C12 8.4 12.4 8 13 8S14 8.4 14 9V13.5L15.2 13.6L19.1 15.8C19.6 16 20 16.6 20 17.1V20.5M20 2H4C2.9 2 2 2.9 2 4V12C2 13.1 2.9 14 4 14H8V12H4V4H20V12H18V14H20C21.1 14 22 13.1 22 12V4C22 2.9 21.1 2 20 2Z" />
    </svg>`,content:'<a class="button">Button</a>'}),D("divider",{label:"Divider",media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M21 18H2V20H21V18M19 10V14H4V10H19M20 8H3C2.45 8 2 8.45 2 9V15C2 15.55 2.45 16 3 16H20C20.55 16 21 15.55 21 15V9C21 8.45 20.55 8 20 8M21 4H2V6H21V4Z" />
    </svg>`,content:`
      <table style="width: 100%; margin-top: 10px; margin-bottom: 10px;">
        <tr>
          <td class="divider"></td>
        </tr>
      </table>
      <style>
        .divider {
          background-color: rgba(0, 0, 0, 0.1);
          height: 1px;
        }
      </style>
    `}),D("text",{label:"Text",media:`<svg viewBox="0 0 24 24">
      <path fill="currentColor" d="M18.5,4L19.66,8.35L18.7,8.61C18.25,7.74 17.79,6.87 17.26,6.43C16.73,6 16.11,6 15.5,6H13V16.5C13,17 13,17.5 13.33,17.75C13.67,18 14.33,18 15,18V19H9V18C9.67,18 10.33,18 10.67,17.75C11,17.5 11,17 11,16.5V6H8.5C7.89,6 7.27,6 6.74,6.43C6.21,6.87 5.75,7.74 5.3,8.61L4.34,8.35L5.5,4H18.5Z" />
    </svg>`,activate:!0,content:{type:"text",content:"Insert your text here",style:{padding:"10px"}}}),D("text-sect",{label:"Text Section",media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M20,20H4A2,2 0 0,1 2,18V6A2,2 0 0,1 4,4H20A2,2 0 0,1 22,6V18A2,2 0 0,1 20,20M4,6V18H20V6H4M6,9H18V11H6V9M6,13H16V15H6V13Z" />
    </svg>`,content:`
      <h1 class="heading">Insert title here</h1>
      <p class="paragraph">
        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua
      </p>
    `}),D("image",{label:"Image",media:`<svg viewBox="0 0 24 24">
      <path fill="currentColor" d="M21,3H3C2,3 1,4 1,5V19A2,2 0 0,0 3,21H21C22,21 23,20 23,19V5C23,4 22,3 21,3M5,17L8.5,12.5L11,15.5L14.5,11L19,17H5Z" />
    </svg>`,activate:!0,content:{type:"image",style:{color:"black"}}}),D("quote",{label:"Quote",media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M14,17H17L19,13V7H13V13H16M6,17H9L11,13V7H5V13H8L6,17Z" />
    </svg>`,content:'<blockquote class="quote">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore ipsum dolor sit</blockquote>'}),D("link",{label:"Link",media:`<svg viewBox="0 0 24 24">
      <path fill="currentColor" d="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z"></path>
    </svg>`,content:{type:"link",content:"Link",style:{color:"#3b97e3"}}}),D("link-block",{label:"Link Block",media:`<svg viewBox="0 0 24 24">
      <path fill="currentColor" d="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z"></path>
    </svg>`,content:{type:"link",editable:!1,droppable:!0,style:{display:"inline-block",padding:"5px","min-height":"50px","min-width":"50px"}}});var F=`<table class="grid-item-card">
      <tr>
        <td class="grid-item-card-cell">
          <img class="grid-item-image" src="https://via.placeholder.com/250x150/78c5d6/fff/" alt="Image"/>
          <table class="grid-item-card-body">
            <tr>
              <td class="grid-item-card-content">
                <h1 class="card-title">Title here</h1>
                <p class="card-text">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt</p>
              </td>
            </tr>
          </table>
        </td>
      </tr>
    </table>`;D("grid-items",{label:"Grid Items",media:`<svg viewBox="0 0 24 24">
      <path fill="currentColor" d="M3,11H11V3H3M3,21H11V13H3M13,21H21V13H13M13,3V11H21V3"/>
    </svg>`,content:`
      <table class="grid-item-row">
        <tr>
          <td class="grid-item-cell2-l">`.concat(F,`</td>
          <td class="grid-item-cell2-r">`).concat(F,`</td>
        </tr>
      </table>
    `)});var G=`<table class="list-item">
      <tr>
        <td class="list-item-cell">
          <table class="list-item-content">
            <tr class="list-item-row">
              <td class="list-cell-left">
                <img class="list-item-image" src="https://via.placeholder.com/150/78c5d6/fff" alt="Image"/>
              </td>
              <td class="list-cell-right">
                <h1 class="card-title">Title here</h1>
                <p class="card-text">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt</p>
              </td>
            </tr>
          </table>
        </td>
      </tr>
    </table>`;D("list-items",{label:"List Items",media:`<svg viewBox="0 0 24 24">
      <path fill="currentColor" d="M2 14H8V20H2M16 8H10V10H16M2 10H8V4H2M10 4V6H22V4M10 20H16V18H10M10 16H22V14H10"/>
    </svg>`,content:G+G})}(b,T),function(A,j){var R=A.Panels,L=j.cmdOpenImport,M=j.cmdTglImages,I="export-template",D="open-sm",V="open-tm",F="open-layers",G="open-blocks",W="sw-visibility",Y="fullscreen",te="preview",he='style="display: block; max-width: 22px"';A.getConfig().showDevices=!1,R.getPanels().reset([{id:"commands",buttons:[{}]},{id:"devices-c",buttons:[{id:s,command:s,active:!0,label:"<svg ".concat(he,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M21,16H3V4H21M21,2H3C1.89,2 1,2.89 1,4V16A2,2 0 0,0 3,18H10V20H8V22H16V20H14V18H21A2,2 0 0,0 23,16V4C23,2.89 22.1,2 21,2Z" />
        </svg>`)},{id:l,command:l,label:"<svg ".concat(he,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M19,18H5V6H19M21,4H3C1.89,4 1,4.89 1,6V18A2,2 0 0,0 3,20H21A2,2 0 0,0 23,18V6C23,4.89 22.1,4 21,4Z" />
        </svg>`)},{id:c,command:c,label:"<svg ".concat(he,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M17,19H7V5H17M17,1H7C5.89,1 5,1.89 5,3V21A2,2 0 0,0 7,23H17A2,2 0 0,0 19,21V3C19,1.89 18.1,1 17,1Z" />
        </svg>`)}]},{id:"options",buttons:[{id:W,command:W,context:W,label:"<svg ".concat(he,` viewBox="0 0 24 24">
        <path fill="currentColor" d="M15,5H17V3H15M15,21H17V19H15M11,5H13V3H11M19,5H21V3H19M19,9H21V7H19M19,21H21V19H19M19,13H21V11H19M19,17H21V15H19M3,5H5V3H3M3,9H5V7H3M3,13H5V11H3M3,17H5V15H3M3,21H5V19H3M11,21H13V19H11M7,21H9V19H7M7,5H9V3H7V5Z" />
    </svg>`)},{id:te,context:te,command:te,label:"<svg ".concat(he,' viewBox="0 0 24 24"><path fill="currentColor" d="M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z"></path></svg>')},{id:Y,command:Y,context:Y,label:"<svg ".concat(he,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M5,5H10V7H7V10H5V5M14,5H19V10H17V7H14V5M17,14H19V19H14V17H17V14M10,17V19H5V14H7V17H10Z" />
        </svg>`)},{id:I,command:I,label:"<svg ".concat(he,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M12.89,3L14.85,3.4L11.11,21L9.15,20.6L12.89,3M19.59,12L16,8.41V5.58L22.42,12L16,18.41V15.58L19.59,12M1.58,12L8,5.58V8.41L4.41,12L8,15.58V18.41L1.58,12Z" />
        </svg>`)},{id:L,command:L,label:"<svg ".concat(he,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z" />
        </svg>`)},{id:M,command:M,label:"<svg ".concat(he,` viewBox="0 0 24 24">
          <path fill="currentColor" d="M5 3C3.9 3 3 3.9 3 5V19C3 20.11 3.9 21 5 21H14.09C14.03 20.67 14 20.34 14 20C14 19.32 14.12 18.64 14.35 18H5L8.5 13.5L11 16.5L14.5 12L16.73 14.97C17.7 14.34 18.84 14 20 14C20.34 14 20.67 14.03 21 14.09V5C21 3.89 20.1 3 19 3H5M16.47 17.88L18.59 20L16.47 22.12L17.88 23.54L20 21.41L22.12 23.54L23.54 22.12L21.41 20L23.54 17.88L22.12 16.46L20 18.59L17.88 16.47L16.46 17.88Z"/>
        </svg>`)},{id:"undo",command:"core:undo",label:"<svg ".concat(he,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M20 13.5C20 17.09 17.09 20 13.5 20H6V18H13.5C16 18 18 16 18 13.5S16 9 13.5 9H7.83L10.91 12.09L9.5 13.5L4 8L9.5 2.5L10.92 3.91L7.83 7H13.5C17.09 7 20 9.91 20 13.5Z" />
        </svg>`)},{id:"redo",command:"core:redo",label:"<svg ".concat(he,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M10.5 18H18V20H10.5C6.91 20 4 17.09 4 13.5S6.91 7 10.5 7H16.17L13.08 3.91L14.5 2.5L20 8L14.5 13.5L13.09 12.09L16.17 9H10.5C8 9 6 11 6 13.5S8 18 10.5 18Z" />
        </svg>`)},{id:u,command:u,label:"<svg ".concat(he,` viewBox="0 0 24 24">
              <path fill="currentColor" d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" />
          </svg>`)}]},{id:"views",buttons:[{id:D,command:D,active:!0,label:"<svg ".concat(he,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M20.71,4.63L19.37,3.29C19,2.9 18.35,2.9 17.96,3.29L9,12.25L11.75,15L20.71,6.04C21.1,5.65 21.1,5 20.71,4.63M7,14A3,3 0 0,0 4,17C4,18.31 2.84,19 2,19C2.92,20.22 4.5,21 6,21A4,4 0 0,0 10,17A3,3 0 0,0 7,14Z" />
        </svg>`)},{id:V,command:V,label:"<svg ".concat(he,` viewBox="0 0 24 24">
          <path fill="currentColor" d="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z" />
      </svg>`)},{id:F,command:F,label:"<svg ".concat(he,` viewBox="0 0 24 24">
          <path fill="currentColor" d="M12,16L19.36,10.27L21,9L12,2L3,9L4.63,10.27M12,18.54L4.62,12.81L3,14.07L12,21.07L21,14.07L19.37,12.8L12,18.54Z" />
      </svg>`)},{id:G,command:G,label:"<svg ".concat(he,` viewBox="0 0 24 24">
          <path fill="currentColor" d="M17,13H13V17H11V13H7V11H11V7H13V11H17M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z" />
      </svg>`)}]}]),j.showStylesOnChange&&A.on("component:selected",function(){var z=R.getButton("views",F);if((!z||!z.get("active"))&&A.getSelected()){var Z=R.getButton("views",D);Z==null||Z.set("active",!0)}}),A.onReady(function(){if(j.showBlocksOnLoad){var z=R.getButton("views",G);z==null||z.set("active",!0)}})}(b,T),function(A,j){var R=A.StyleManager.getSectors();if(j.updateStyleManager){var L=[{name:"Dimension",open:!1,buildProps:["width","height","max-width","min-height","margin","padding"],properties:[{property:"margin",properties:[{name:"Top",property:"margin-top"},{name:"Left",property:"margin-left"},{name:"Right",property:"margin-right"},{name:"Bottom",property:"margin-bottom"}]},{property:"padding",properties:[{name:"Top",property:"padding-top"},{name:"Right",property:"padding-right"},{name:"Bottom",property:"padding-bottom"},{name:"Left",property:"padding-left"}]}]},{name:"Typography",open:!1,buildProps:["font-family","font-size","font-weight","letter-spacing","color","line-height","text-align","text-decoration","font-style","vertical-align","text-shadow"],properties:[{name:"Font",property:"font-family"},{name:"Weight",property:"font-weight"},{name:"Font color",property:"color"},{property:"text-align",type:"radio",defaults:"left",list:[{value:"left",name:"Left",className:"fa fa-align-left"},{value:"center",name:"Center",className:"fa fa-align-center"},{value:"right",name:"Right",className:"fa fa-align-right"},{value:"justify",name:"Justify",className:"fa fa-align-justify"}]},{property:"text-decoration",type:"radio",defaults:"none",list:[{value:"none",name:"None",className:"fa fa-times"},{value:"underline",name:"underline",className:"fa fa-underline"},{value:"line-through",name:"Line-through",className:"fa fa-strikethrough"}]},{property:"font-style",type:"radio",defaults:"normal",list:[{value:"normal",name:"Normal",className:"fa fa-font"},{value:"italic",name:"Italic",className:"fa fa-italic"}]},{property:"vertical-align",type:"select",defaults:"baseline",list:[{value:"baseline"},{value:"top"},{value:"middle"},{value:"bottom"}]},{property:"text-shadow",properties:[{name:"X position",property:"text-shadow-h"},{name:"Y position",property:"text-shadow-v"},{name:"Blur",property:"text-shadow-blur"},{name:"Color",property:"text-shadow-color"}]}]},{name:"Decorations",open:!1,buildProps:["background-color","border-collapse","border-radius","border","background"],properties:[{property:"background-color",name:"Background"},{property:"border-radius",properties:[{name:"Top",property:"border-top-left-radius"},{name:"Right",property:"border-top-right-radius"},{name:"Bottom",property:"border-bottom-left-radius"},{name:"Left",property:"border-bottom-right-radius"}]},{property:"border-collapse",type:"radio",defaults:"separate",list:[{value:"separate",name:"No"},{value:"collapse",name:"Yes"}]},{property:"border",properties:[{name:"Width",property:"border-width",defaults:"0"},{name:"Style",property:"border-style"},{name:"Color",property:"border-color"}]},{property:"background",properties:[{name:"Image",property:"background-image"},{name:"Repeat",property:"background-repeat"},{name:"Position",property:"background-position"},{name:"Attachment",property:"background-attachment"},{name:"Size",property:"background-size"}]}]}];A.onReady(function(){R.reset(),R.add(L)})}}(b,T)}})(),o})())})(xD);var m6e=xD.exports;const C8=hn(m6e),y6e=()=>{const n=ye.useRef(null),[t,e]=ye.useState(!0),[r,i]=ye.useState(""),o={newsletter:`
      <div style="max-width: 600px; margin: 0 auto; font-family: Arial, sans-serif;">
        <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 30px; text-align: center;">
          <h1 style="margin: 0; font-size: 28px;">School Newsletter</h1>
          <p style="margin: 10px 0 0 0; opacity: 0.9;">Monthly Update</p>
        </div>
        <div style="padding: 30px; background: white;">
          <h2 style="color: #333; margin-top: 0;">What's New This Month</h2>
          <p style="color: #666; line-height: 1.6;">Welcome to our monthly newsletter! Here you'll find all the latest updates, upcoming events, and important announcements from our school community.</p>
          <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin: 20px 0;">
            <h3 style="color: #333; margin-top: 0;">Upcoming Events</h3>
            <ul style="color: #666;">
              <li>Parent-Teacher Conference - October 15th</li>
              <li>Fall Festival - October 22nd</li>
              <li>Book Fair - October 25-29th</li>
            </ul>
          </div>
          <div style="text-align: center; margin-top: 30px;">
            <a href="#" style="background: #667eea; color: white; padding: 12px 30px; text-decoration: none; border-radius: 6px; display: inline-block;">Learn More</a>
          </div>
        </div>
        <div style="background: #f8f9fa; padding: 20px; text-align: center; color: #666;">
          <p style="margin: 0;">© 2024 School Name. All rights reserved.</p>
        </div>
      </div>
    `,announcement:`
      <div style="max-width: 600px; margin: 0 auto; font-family: Arial, sans-serif;">
        <div style="background: #e74c3c; color: white; padding: 25px; text-align: center;">
          <h1 style="margin: 0; font-size: 24px;">Important Announcement</h1>
        </div>
        <div style="padding: 30px; background: white;">
          <h2 style="color: #333; margin-top: 0;">Attention Parents and Students</h2>
          <p style="color: #666; line-height: 1.6; font-size: 16px;">We have an important announcement regarding upcoming changes to our school schedule and procedures.</p>
          <div style="background: #fff3cd; border: 1px solid #ffeaa7; padding: 20px; border-radius: 8px; margin: 20px 0;">
            <h3 style="color: #856404; margin-top: 0;">Key Points:</h3>
            <ul style="color: #856404;">
              <li>New drop-off procedures effective Monday</li>
              <li>Updated lunch menu options</li>
              <li>After-school program registration now open</li>
            </ul>
          </div>
          <p style="color: #666;">Please review the attached documents and contact us if you have any questions.</p>
          <div style="text-align: center; margin-top: 30px;">
            <a href="#" style="background: #e74c3c; color: white; padding: 12px 30px; text-decoration: none; border-radius: 6px; display: inline-block;">Read Full Details</a>
          </div>
        </div>
      </div>
    `,event:`
      <div style="max-width: 600px; margin: 0 auto; font-family: Arial, sans-serif;">
        <div style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); color: white; padding: 30px; text-align: center;">
          <h1 style="margin: 0; font-size: 28px;">You're Invited!</h1>
          <p style="margin: 10px 0 0 0; opacity: 0.9; font-size: 18px;">Annual School Fundraiser</p>
        </div>
        <div style="padding: 30px; background: white;">
          <div style="text-align: center; margin-bottom: 30px;">
            <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; display: inline-block;">
              <div style="font-size: 24px; font-weight: bold; color: #333;">Saturday, November 5th</div>
              <div style="color: #666; margin-top: 5px;">6:00 PM - 9:00 PM</div>
            </div>
          </div>
          <h2 style="color: #333; text-align: center;">Join us for an evening of fun and fundraising!</h2>
          <p style="color: #666; line-height: 1.6; text-align: center;">Help us raise funds for new playground equipment while enjoying great food, live music, and exciting activities for the whole family.</p>
          <div style="background: #e8f5e8; padding: 20px; border-radius: 8px; margin: 20px 0;">
            <h3 style="color: #2d5a2d; margin-top: 0;">Event Highlights:</h3>
            <ul style="color: #2d5a2d;">
              <li>Silent auction with amazing prizes</li>
              <li>Live entertainment by local artists</li>
              <li>Delicious food and refreshments</li>
              <li>Activities for children of all ages</li>
            </ul>
          </div>
          <div style="text-align: center; margin-top: 30px;">
            <a href="#" style="background: #f093fb; color: white; padding: 15px 40px; text-decoration: none; border-radius: 6px; display: inline-block; font-size: 16px; font-weight: bold;">RSVP Now</a>
          </div>
        </div>
      </div>
    `},a=l=>{if(n.current){const c=o[l];n.current.setComponents(c),i(l),e(!1)}},s=()=>{n.current&&(n.current.setComponents('<div style="padding: 20px; text-align: center; color: #666;">Start building your email template here...</div>'),i("blank"),e(!1))};return ye.useEffect(()=>{if(!n.current){const l=v6e.init({container:"#gjs",height:"100vh",width:"auto",storageManager:!1,plugins:[T8,C8],pluginsOpts:{[C8]:{modalTitleImport:"Import template",modalBtnImport:"Import",modalLabelImport:"Paste your HTML template here",importPlaceholder:"<table><tr><td>Hello</td></tr></table>",cellStyle:{padding:"0",margin:"0","vertical-align":"top"}},[T8]:{}},canvas:{styles:["https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap"]},deviceManager:{devices:[{name:"Desktop",width:""},{name:"Tablet",width:"768px",widthMedia:"992px"},{name:"Mobile",width:"320px",widthMedia:"480px"}]},panels:{defaults:[{id:"layers",el:".panel__right",resizable:{tc:!1,cr:!0,cl:!1,bc:!1}},{id:"panel-switcher",el:".panel__switcher",buttons:[{id:"show-layers",active:!0,label:"Layers",command:"show-layers"},{id:"show-style",active:!0,label:"Styles",command:"show-styles"},{id:"show-traits",active:!0,label:"Traits",command:"show-traits"}]}]},commands:{defaults:[{id:"save-template",run:c=>{const u=c.getHtml(),f=c.getCss();console.log("Template HTML:",u),console.log("Template CSS:",f),alert("Template saved! Check console for HTML/CSS output.")}}]}});l.Panels.addButton("options",{id:"save-btn",className:"btn-save",command:"save-template",attributes:{title:"Save Template"},label:"💾 Save"}),l.Panels.addButton("options",{id:"preview-btn",className:"btn-preview",command:"preview",attributes:{title:"Preview"},label:"👁️ Preview"}),n.current=l}return()=>{n.current&&(n.current.destroy(),n.current=null)}},[]),y.jsxs("div",{style:{height:"100vh",display:"flex",flexDirection:"column"},children:[t&&y.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:y.jsxs("div",{style:{background:"white",padding:"40px",borderRadius:"12px",maxWidth:"600px",width:"90%",textAlign:"center"},children:[y.jsx("h1",{style:{color:"#333",marginBottom:"20px"},children:"Welcome to the Email Template Builder!"}),y.jsx("p",{style:{color:"#666",marginBottom:"30px",lineHeight:"1.6"},children:"Choose a template to get started, or start from scratch. You can drag and drop elements, edit text, and customize styles to create your perfect email template."}),y.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px",marginBottom:"30px"},children:[y.jsxs("button",{onClick:()=>a("newsletter"),style:{padding:"20px",border:"2px solid #e0e0e0",borderRadius:"8px",background:"white",cursor:"pointer",transition:"all 0.2s"},onMouseOver:l=>l.target.style.borderColor="#667eea",onMouseOut:l=>l.target.style.borderColor="#e0e0e0",children:[y.jsx("div",{style:{fontSize:"24px",marginBottom:"10px"},children:"📰"}),y.jsx("h3",{style:{margin:"0 0 10px 0",color:"#333"},children:"Newsletter"}),y.jsx("p",{style:{margin:0,fontSize:"14px",color:"#666"},children:"Perfect for monthly updates"})]}),y.jsxs("button",{onClick:()=>a("announcement"),style:{padding:"20px",border:"2px solid #e0e0e0",borderRadius:"8px",background:"white",cursor:"pointer",transition:"all 0.2s"},onMouseOver:l=>l.target.style.borderColor="#e74c3c",onMouseOut:l=>l.target.style.borderColor="#e0e0e0",children:[y.jsx("div",{style:{fontSize:"24px",marginBottom:"10px"},children:"📢"}),y.jsx("h3",{style:{margin:"0 0 10px 0",color:"#333"},children:"Announcement"}),y.jsx("p",{style:{margin:0,fontSize:"14px",color:"#666"},children:"For important updates"})]}),y.jsxs("button",{onClick:()=>a("event"),style:{padding:"20px",border:"2px solid #e0e0e0",borderRadius:"8px",background:"white",cursor:"pointer",transition:"all 0.2s"},onMouseOver:l=>l.target.style.borderColor="#f093fb",onMouseOut:l=>l.target.style.borderColor="#e0e0e0",children:[y.jsx("div",{style:{fontSize:"24px",marginBottom:"10px"},children:"🎉"}),y.jsx("h3",{style:{margin:"0 0 10px 0",color:"#333"},children:"Event Invitation"}),y.jsx("p",{style:{margin:0,fontSize:"14px",color:"#666"},children:"For special occasions"})]})]}),y.jsx("button",{onClick:s,style:{padding:"15px 30px",background:"#667eea",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"16px",fontWeight:"bold"},children:"Start from Scratch"})]})}),y.jsxs("div",{style:{padding:"15px 20px",backgroundColor:"#f8f9fa",borderBottom:"1px solid #e9ecef",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[y.jsxs("div",{children:[y.jsx("h2",{style:{margin:0,color:"#333"},children:"Email Template Builder"}),r&&y.jsxs("p",{style:{margin:"5px 0 0 0",color:"#666",fontSize:"14px"},children:["Template: ",r.charAt(0).toUpperCase()+r.slice(1)]})]}),y.jsxs("div",{style:{display:"flex",gap:"10px"},children:[y.jsx("button",{onClick:()=>e(!0),style:{padding:"8px 16px",background:"#6c757d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},children:"New Template"}),y.jsx("button",{onClick:()=>{if(n.current){const l=n.current.getHtml(),c=n.current.getCss();console.log("Template HTML:",l),console.log("Template CSS:",c),alert("Template exported! Check console for HTML/CSS output.")}},style:{padding:"8px 16px",background:"#28a745",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},children:"Export Template"})]})]}),y.jsxs("div",{style:{flex:1,display:"flex"},children:[y.jsx("div",{id:"gjs",style:{flex:1}}),y.jsx("div",{className:"panel__right",style:{width:"250px",backgroundColor:"#f5f5f5"}}),y.jsx("div",{className:"panel__switcher",style:{width:"48px",backgroundColor:"#eee"}})]})]})},b6e="https://api.ptoconnect.com";function x6e(){const[n,t]=ye.useState([]),[e,r]=ye.useState("");ye.useEffect(()=>{async function o(){const{data:{session:a}}=await jr.auth.getSession(),s=a==null?void 0:a.access_token;if(!s)return r("Not authenticated.");try{const l=await Dl.get(`${b6e}/api/documents`,{headers:{Authorization:`Bearer ${s}`}});t(l.data)}catch(l){r("Failed to load documents."),console.error(l)}}o()},[]);const i=o=>{const{data:a}=jr.storage.from("documents").getPublicUrl(o);return a==null?void 0:a.publicUrl};return y.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsx("h1",{className:"text-2xl font-bold",children:"PTO Documents"}),y.jsx(iu,{to:"/documents/upload",className:"bg-blue-600 text-white px-4 py-2 rounded",children:"+ Upload Document"})]}),e&&y.jsx("p",{className:"text-red-600",children:e}),n.length===0&&!e&&y.jsx("p",{children:"No documents found."}),y.jsx("ul",{className:"space-y-4",children:n.map(o=>y.jsxs("li",{className:"border p-4 rounded shadow-sm bg-white",children:[y.jsx("h2",{className:"text-lg font-semibold",children:o.title}),y.jsx("a",{href:i(o.file_path),target:"_blank",rel:"noopener noreferrer",className:"text-blue-700 underline text-sm",children:"View / Download"})]},o.id))})]})}const w6e="https://api.ptoconnect.com";function _6e(){const[n,t]=ye.useState(""),[e,r]=ye.useState(null),[i,o]=ye.useState(""),[a,s]=ye.useState(""),l=async c=>{if(c.preventDefault(),!e||!n)return s("Title and file are required.");const{data:{session:u}}=await jr.auth.getSession(),f=u==null?void 0:u.access_token;if(!f)return s("User not authenticated.");const h=new FormData;h.append("title",n),h.append("file",e);try{await Dl.post(`${w6e}/api/documents`,h,{headers:{Authorization:`Bearer ${f}`,"Content-Type":"multipart/form-data"}}),o("Document uploaded successfully."),t(""),r(null)}catch(d){s("Upload failed. Check console."),console.error(d)}};return y.jsxs("div",{className:"max-w-xl mx-auto p-4",children:[y.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Upload Document"}),y.jsxs("form",{onSubmit:l,className:"space-y-4",children:[y.jsx("input",{type:"text",placeholder:"Document Title",value:n,onChange:c=>t(c.target.value),className:"w-full border p-2",required:!0}),y.jsx("input",{type:"file",accept:".pdf,.doc,.docx,.xls,.xlsx,.png,.jpg,.jpeg",onChange:c=>r(c.target.files[0]),className:"w-full border p-2",required:!0}),y.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded",children:"Upload"}),i&&y.jsx("p",{className:"text-green-600",children:i}),a&&y.jsx("p",{className:"text-red-600",children:a})]})]})}const S6e="https://api.ptoconnect.com";function T6e(){const[n,t]=ye.useState([]),[e,r]=ye.useState("");return ye.useEffect(()=>{async function i(){const{data:{session:o}}=await jr.auth.getSession(),a=o==null?void 0:o.access_token;if(!a){r("Not authenticated.");return}try{const s=await Dl.get(`${S6e}/api/shared-library`,{headers:{Authorization:`Bearer ${a}`}});t(s.data)}catch(s){console.error(s),r("Failed to load shared library items.")}}i()},[]),y.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[y.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Shared PTO Library"}),e&&y.jsx("p",{className:"text-red-600",children:e}),n.length===0&&!e&&y.jsx("p",{children:"No shared events or fundraisers yet."}),y.jsx("ul",{className:"space-y-4",children:n.map(i=>{var o;return y.jsxs("li",{className:"border p-4 rounded shadow-sm bg-white",children:[y.jsx("h2",{className:"text-xl font-semibold",children:i.title}),y.jsx("p",{className:"text-sm text-gray-500",children:i.description}),y.jsxs("p",{className:"text-sm text-blue-700 mt-1",children:["Type: ",((o=i.type)==null?void 0:o.toUpperCase())||"N/A"," • Shared by another PTO"]})]},i.id)})})]})}function C6e(){const[n,t]=ye.useState({type:"",season:"",audience:"",theme:"",goal:""}),[e,r]=ye.useState([]),[i,o]=ye.useState(!1),[a,s]=ye.useState(null),l=u=>{const{name:f,value:h}=u.target;t(d=>({...d,[f]:h}))},c=async()=>{o(!0),s(null),r([]);const{data:{session:u},error:f}=await jr.auth.getSession();if(f||!(u!=null&&u.access_token)){s("Authentication required."),o(!1);return}try{const d=await(await fetch("/api/ai/generate-event",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u.access_token}`},body:JSON.stringify(n)})).json();if(d.result){const m=d.result.split(/\n?\d+\.\s/).filter(Boolean).map(g=>g.trim().replace(/^\*\*/,"").replace(/\*\*$/,""));r(m)}else s("No ideas returned.")}catch(h){console.error(h),s("Error contacting the backend")}finally{o(!1)}};return y.jsxs("div",{className:"p-6 max-w-2xl mx-auto",children:[y.jsx("h1",{className:"text-2xl font-bold mb-4",children:"AI Event Idea Generator"}),y.jsxs("div",{className:"grid gap-4 mb-4",children:[y.jsx("input",{name:"type",value:n.type,onChange:l,placeholder:"Event Type (e.g. Family Night)",className:"w-full border p-2 rounded"}),y.jsx("input",{name:"season",value:n.season,onChange:l,placeholder:"Season or Month (e.g. Spring, October)",className:"w-full border p-2 rounded"}),y.jsx("input",{name:"audience",value:n.audience,onChange:l,placeholder:"Audience (e.g. students, families)",className:"w-full border p-2 rounded"}),y.jsx("input",{name:"theme",value:n.theme,onChange:l,placeholder:"Theme (e.g. carnival, STEM)",className:"w-full border p-2 rounded"}),y.jsx("input",{name:"goal",value:n.goal,onChange:l,placeholder:"Goal (e.g. raise funds, build community)",className:"w-full border p-2 rounded"})]}),y.jsx("button",{onClick:c,disabled:i,className:"bg-blue-600 text-white px-4 py-2 rounded",children:i?"Generating...":"Generate Ideas"}),a&&y.jsx("p",{className:"text-red-500 mt-4",children:a}),e.length>0&&y.jsx("ul",{className:"mt-6 space-y-2",children:e.map((u,f)=>y.jsx("li",{className:"border p-3 rounded bg-gray-50",children:u},f))})]})}const E6e=()=>y.jsxs("div",{children:[y.jsx("h1",{children:"Event Workflow Orchestrator"}),y.jsx("p",{children:"This is a placeholder for the Event Workflow Orchestrator component."})]}),O6e=()=>y.jsx(E6e,{}),wD=ye.createContext({dragDropManager:void 0});function qs(n){return"Minified Redux error #"+n+"; visit https://redux.js.org/Errors?code="+n+" for the full message or use the non-minified dev environment for full errors. "}var E8=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),O8=function(){return Math.random().toString(36).substring(7).split("").join(".")},A8={INIT:"@@redux/INIT"+O8(),REPLACE:"@@redux/REPLACE"+O8()};function A6e(n){if(typeof n!="object"||n===null)return!1;for(var t=n;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(n)===t}function _D(n,t,e){var r;if(typeof t=="function"&&typeof e=="function"||typeof e=="function"&&typeof arguments[3]=="function")throw new Error(qs(0));if(typeof t=="function"&&typeof e>"u"&&(e=t,t=void 0),typeof e<"u"){if(typeof e!="function")throw new Error(qs(1));return e(_D)(n,t)}if(typeof n!="function")throw new Error(qs(2));var i=n,o=t,a=[],s=a,l=!1;function c(){s===a&&(s=a.slice())}function u(){if(l)throw new Error(qs(3));return o}function f(g){if(typeof g!="function")throw new Error(qs(4));if(l)throw new Error(qs(5));var x=!0;return c(),s.push(g),function(){if(x){if(l)throw new Error(qs(6));x=!1,c();var _=s.indexOf(g);s.splice(_,1),a=null}}}function h(g){if(!A6e(g))throw new Error(qs(7));if(typeof g.type>"u")throw new Error(qs(8));if(l)throw new Error(qs(9));try{l=!0,o=i(o,g)}finally{l=!1}for(var x=a=s,b=0;b<x.length;b++){var _=x[b];_()}return g}function d(g){if(typeof g!="function")throw new Error(qs(10));i=g,h({type:A8.REPLACE})}function m(){var g,x=f;return g={subscribe:function(_){if(typeof _!="object"||_===null)throw new Error(qs(11));function S(){_.next&&_.next(u())}S();var T=x(S);return{unsubscribe:T}}},g[E8]=function(){return this},g}return h({type:A8.INIT}),r={dispatch:h,subscribe:f,getState:u,replaceReducer:d},r[E8]=m,r}function nn(n,t,...e){if(N6e()&&t===void 0)throw new Error("invariant requires an error message argument");if(!n){let r;if(t===void 0)r=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let i=0;r=new Error(t.replace(/%s/g,function(){return e[i++]})),r.name="Invariant Violation"}throw r.framesToPop=1,r}}function N6e(){return typeof process<"u"&&!0}function P6e(n,t,e){return t.split(".").reduce((r,i)=>r&&r[i]?r[i]:e||null,n)}function j6e(n,t){return n.filter(e=>e!==t)}function SD(n){return typeof n=="object"}function k6e(n,t){const e=new Map,r=o=>{e.set(o,e.has(o)?e.get(o)+1:1)};n.forEach(r),t.forEach(r);const i=[];return e.forEach((o,a)=>{o===1&&i.push(a)}),i}function M6e(n,t){return n.filter(e=>t.indexOf(e)>-1)}const X4="dnd-core/INIT_COORDS",Wx="dnd-core/BEGIN_DRAG",Z4="dnd-core/PUBLISH_DRAG_SOURCE",qx="dnd-core/HOVER",Gx="dnd-core/DROP",Kx="dnd-core/END_DRAG";function N8(n,t){return{type:X4,payload:{sourceClientOffset:t||null,clientOffset:n||null}}}const L6e={type:X4,payload:{clientOffset:null,sourceClientOffset:null}};function D6e(n){return function(e=[],r={publishSource:!0}){const{publishSource:i=!0,clientOffset:o,getSourceClientOffset:a}=r,s=n.getMonitor(),l=n.getRegistry();n.dispatch(N8(o)),I6e(e,s,l);const c=B6e(e,s);if(c==null){n.dispatch(L6e);return}let u=null;if(o){if(!a)throw new Error("getSourceClientOffset must be defined");R6e(a),u=a(c)}n.dispatch(N8(o,u));const h=l.getSource(c).beginDrag(s,c);if(h==null)return;F6e(h),l.pinSource(c);const d=l.getSourceType(c);return{type:Wx,payload:{itemType:d,item:h,sourceId:c,clientOffset:o||null,sourceClientOffset:u||null,isSourcePublic:!!i}}}}function I6e(n,t,e){nn(!t.isDragging(),"Cannot call beginDrag while dragging."),n.forEach(function(r){nn(e.getSource(r),"Expected sourceIds to be registered.")})}function R6e(n){nn(typeof n=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function F6e(n){nn(SD(n),"Item must be an object.")}function B6e(n,t){let e=null;for(let r=n.length-1;r>=0;r--)if(t.canDragSource(n[r])){e=n[r];break}return e}function H6e(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function $6e(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{},r=Object.keys(e);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(e).filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),r.forEach(function(i){H6e(n,i,e[i])})}return n}function U6e(n){return function(e={}){const r=n.getMonitor(),i=n.getRegistry();V6e(r),q6e(r).forEach((a,s)=>{const l=z6e(a,s,i,r),c={type:Gx,payload:{dropResult:$6e({},e,l)}};n.dispatch(c)})}}function V6e(n){nn(n.isDragging(),"Cannot call drop while not dragging."),nn(!n.didDrop(),"Cannot call drop twice during one drag operation.")}function z6e(n,t,e,r){const i=e.getTarget(n);let o=i?i.drop(r,n):void 0;return W6e(o),typeof o>"u"&&(o=t===0?{}:r.getDropResult()),o}function W6e(n){nn(typeof n>"u"||SD(n),"Drop result must either be an object or undefined.")}function q6e(n){const t=n.getTargetIds().filter(n.canDropOnTarget,n);return t.reverse(),t}function G6e(n){return function(){const e=n.getMonitor(),r=n.getRegistry();K6e(e);const i=e.getSourceId();return i!=null&&(r.getSource(i,!0).endDrag(e,i),r.unpinSource()),{type:Kx}}}function K6e(n){nn(n.isDragging(),"Cannot call endDrag while not dragging.")}function DS(n,t){return t===null?n===null:Array.isArray(n)?n.some(e=>e===t):n===t}function Y6e(n){return function(e,{clientOffset:r}={}){X6e(e);const i=e.slice(0),o=n.getMonitor(),a=n.getRegistry(),s=o.getItemType();return J6e(i,a,s),Z6e(i,o,a),Q6e(i,o,a),{type:qx,payload:{targetIds:i,clientOffset:r||null}}}}function X6e(n){nn(Array.isArray(n),"Expected targetIds to be an array.")}function Z6e(n,t,e){nn(t.isDragging(),"Cannot call hover while not dragging."),nn(!t.didDrop(),"Cannot call hover after drop.");for(let r=0;r<n.length;r++){const i=n[r];nn(n.lastIndexOf(i)===r,"Expected targetIds to be unique in the passed array.");const o=e.getTarget(i);nn(o,"Expected targetIds to be registered.")}}function J6e(n,t,e){for(let r=n.length-1;r>=0;r--){const i=n[r],o=t.getTargetType(i);DS(o,e)||n.splice(r,1)}}function Q6e(n,t,e){n.forEach(function(r){e.getTarget(r).hover(t,r)})}function e8e(n){return function(){if(n.getMonitor().isDragging())return{type:Z4}}}function t8e(n){return{beginDrag:D6e(n),publishDragSource:e8e(n),hover:Y6e(n),drop:U6e(n),endDrag:G6e(n)}}class r8e{receiveBackend(t){this.backend=t}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const t=this,{dispatch:e}=this.store;function r(o){return(...a)=>{const s=o.apply(t,a);typeof s<"u"&&e(s)}}const i=t8e(this);return Object.keys(i).reduce((o,a)=>{const s=i[a];return o[a]=r(s),o},{})}dispatch(t){this.store.dispatch(t)}constructor(t,e){this.isSetUp=!1,this.handleRefCountChange=()=>{const r=this.store.getState().refCount>0;this.backend&&(r&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!r&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=t,this.monitor=e,t.subscribe(this.handleRefCountChange)}}function n8e(n,t){return{x:n.x+t.x,y:n.y+t.y}}function TD(n,t){return{x:n.x-t.x,y:n.y-t.y}}function i8e(n){const{clientOffset:t,initialClientOffset:e,initialSourceClientOffset:r}=n;return!t||!e||!r?null:TD(n8e(t,r),e)}function o8e(n){const{clientOffset:t,initialClientOffset:e}=n;return!t||!e?null:TD(t,e)}const dg=[],J4=[];dg.__IS_NONE__=!0;J4.__IS_ALL__=!0;function a8e(n,t){return n===dg?!1:n===J4||typeof t>"u"?!0:M6e(t,n).length>0}class s8e{subscribeToStateChange(t,e={}){const{handlerIds:r}=e;nn(typeof t=="function","listener must be a function."),nn(typeof r>"u"||Array.isArray(r),"handlerIds, when specified, must be an array of strings.");let i=this.store.getState().stateId;const o=()=>{const a=this.store.getState(),s=a.stateId;try{s===i||s===i+1&&!a8e(a.dirtyHandlerIds,r)||t()}finally{i=s}};return this.store.subscribe(o)}subscribeToOffsetChange(t){nn(typeof t=="function","listener must be a function.");let e=this.store.getState().dragOffset;const r=()=>{const i=this.store.getState().dragOffset;i!==e&&(e=i,t())};return this.store.subscribe(r)}canDragSource(t){if(!t)return!1;const e=this.registry.getSource(t);return nn(e,`Expected to find a valid source. sourceId=${t}`),this.isDragging()?!1:e.canDrag(this,t)}canDropOnTarget(t){if(!t)return!1;const e=this.registry.getTarget(t);if(nn(e,`Expected to find a valid target. targetId=${t}`),!this.isDragging()||this.didDrop())return!1;const r=this.registry.getTargetType(t),i=this.getItemType();return DS(r,i)&&e.canDrop(this,t)}isDragging(){return!!this.getItemType()}isDraggingSource(t){if(!t)return!1;const e=this.registry.getSource(t,!0);if(nn(e,`Expected to find a valid source. sourceId=${t}`),!this.isDragging()||!this.isSourcePublic())return!1;const r=this.registry.getSourceType(t),i=this.getItemType();return r!==i?!1:e.isDragging(this,t)}isOverTarget(t,e={shallow:!1}){if(!t)return!1;const{shallow:r}=e;if(!this.isDragging())return!1;const i=this.registry.getTargetType(t),o=this.getItemType();if(o&&!DS(i,o))return!1;const a=this.getTargetIds();if(!a.length)return!1;const s=a.indexOf(t);return r?s===a.length-1:s>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return i8e(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return o8e(this.store.getState().dragOffset)}constructor(t,e){this.store=t,this.registry=e}}const P8=typeof global<"u"?global:self,CD=P8.MutationObserver||P8.WebKitMutationObserver;function ED(n){return function(){const e=setTimeout(i,0),r=setInterval(i,50);function i(){clearTimeout(e),clearInterval(r),n()}}}function l8e(n){let t=1;const e=new CD(n),r=document.createTextNode("");return e.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}const c8e=typeof CD=="function"?l8e:ED;class u8e{enqueueTask(t){const{queue:e,requestFlush:r}=this;e.length||(r(),this.flushing=!0),e[e.length]=t}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:t}=this;for(;this.index<t.length;){const e=this.index;if(this.index++,t[e].call(),this.index>this.capacity){for(let r=0,i=t.length-this.index;r<i;r++)t[r]=t[r+this.index];t.length-=this.index,this.index=0}}t.length=0,this.index=0,this.flushing=!1},this.registerPendingError=t=>{this.pendingErrors.push(t),this.requestErrorThrow()},this.requestFlush=c8e(this.flush),this.requestErrorThrow=ED(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class f8e{call(){try{this.task&&this.task()}catch(t){this.onError(t)}finally{this.task=null,this.release(this)}}constructor(t,e){this.onError=t,this.release=e,this.task=null}}class d8e{create(t){const e=this.freeTasks,r=e.length?e.pop():new f8e(this.onError,i=>e[e.length]=i);return r.task=t,r}constructor(t){this.onError=t,this.freeTasks=[]}}const OD=new u8e,h8e=new d8e(OD.registerPendingError);function p8e(n){OD.enqueueTask(h8e.create(n))}const Q4="dnd-core/ADD_SOURCE",eC="dnd-core/ADD_TARGET",tC="dnd-core/REMOVE_SOURCE",Yx="dnd-core/REMOVE_TARGET";function v8e(n){return{type:Q4,payload:{sourceId:n}}}function g8e(n){return{type:eC,payload:{targetId:n}}}function m8e(n){return{type:tC,payload:{sourceId:n}}}function y8e(n){return{type:Yx,payload:{targetId:n}}}function b8e(n){nn(typeof n.canDrag=="function","Expected canDrag to be a function."),nn(typeof n.beginDrag=="function","Expected beginDrag to be a function."),nn(typeof n.endDrag=="function","Expected endDrag to be a function.")}function x8e(n){nn(typeof n.canDrop=="function","Expected canDrop to be a function."),nn(typeof n.hover=="function","Expected hover to be a function."),nn(typeof n.drop=="function","Expected beginDrag to be a function.")}function IS(n,t){if(t&&Array.isArray(n)){n.forEach(e=>IS(e,!1));return}nn(typeof n=="string"||typeof n=="symbol",t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var Ys;(function(n){n.SOURCE="SOURCE",n.TARGET="TARGET"})(Ys||(Ys={}));let w8e=0;function _8e(){return w8e++}function S8e(n){const t=_8e().toString();switch(n){case Ys.SOURCE:return`S${t}`;case Ys.TARGET:return`T${t}`;default:throw new Error(`Unknown Handler Role: ${n}`)}}function j8(n){switch(n[0]){case"S":return Ys.SOURCE;case"T":return Ys.TARGET;default:throw new Error(`Cannot parse handler ID: ${n}`)}}function k8(n,t){const e=n.entries();let r=!1;do{const{done:i,value:[,o]}=e.next();if(o===t)return!0;r=!!i}while(!r);return!1}class T8e{addSource(t,e){IS(t),b8e(e);const r=this.addHandler(Ys.SOURCE,t,e);return this.store.dispatch(v8e(r)),r}addTarget(t,e){IS(t,!0),x8e(e);const r=this.addHandler(Ys.TARGET,t,e);return this.store.dispatch(g8e(r)),r}containsHandler(t){return k8(this.dragSources,t)||k8(this.dropTargets,t)}getSource(t,e=!1){return nn(this.isSourceId(t),"Expected a valid source ID."),e&&t===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(t)}getTarget(t){return nn(this.isTargetId(t),"Expected a valid target ID."),this.dropTargets.get(t)}getSourceType(t){return nn(this.isSourceId(t),"Expected a valid source ID."),this.types.get(t)}getTargetType(t){return nn(this.isTargetId(t),"Expected a valid target ID."),this.types.get(t)}isSourceId(t){return j8(t)===Ys.SOURCE}isTargetId(t){return j8(t)===Ys.TARGET}removeSource(t){nn(this.getSource(t),"Expected an existing source."),this.store.dispatch(m8e(t)),p8e(()=>{this.dragSources.delete(t),this.types.delete(t)})}removeTarget(t){nn(this.getTarget(t),"Expected an existing target."),this.store.dispatch(y8e(t)),this.dropTargets.delete(t),this.types.delete(t)}pinSource(t){const e=this.getSource(t);nn(e,"Expected an existing source."),this.pinnedSourceId=t,this.pinnedSource=e}unpinSource(){nn(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(t,e,r){const i=S8e(t);return this.types.set(i,e),t===Ys.SOURCE?this.dragSources.set(i,r):t===Ys.TARGET&&this.dropTargets.set(i,r),i}constructor(t){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=t}}const C8e=(n,t)=>n===t;function E8e(n,t){return!n&&!t?!0:!n||!t?!1:n.x===t.x&&n.y===t.y}function O8e(n,t,e=C8e){if(n.length!==t.length)return!1;for(let r=0;r<n.length;++r)if(!e(n[r],t[r]))return!1;return!0}function A8e(n=dg,t){switch(t.type){case qx:break;case Q4:case eC:case Yx:case tC:return dg;case Wx:case Z4:case Kx:case Gx:default:return J4}const{targetIds:e=[],prevTargetIds:r=[]}=t.payload,i=k6e(e,r);if(!(i.length>0||!O8e(e,r)))return dg;const a=r[r.length-1],s=e[e.length-1];return a!==s&&(a&&i.push(a),s&&i.push(s)),i}function N8e(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function P8e(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{},r=Object.keys(e);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(e).filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),r.forEach(function(i){N8e(n,i,e[i])})}return n}const M8={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function j8e(n=M8,t){const{payload:e}=t;switch(t.type){case X4:case Wx:return{initialSourceClientOffset:e.sourceClientOffset,initialClientOffset:e.clientOffset,clientOffset:e.clientOffset};case qx:return E8e(n.clientOffset,e.clientOffset)?n:P8e({},n,{clientOffset:e.clientOffset});case Kx:case Gx:return M8;default:return n}}function k8e(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function gh(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{},r=Object.keys(e);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(e).filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),r.forEach(function(i){k8e(n,i,e[i])})}return n}const M8e={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function L8e(n=M8e,t){const{payload:e}=t;switch(t.type){case Wx:return gh({},n,{itemType:e.itemType,item:e.item,sourceId:e.sourceId,isSourcePublic:e.isSourcePublic,dropResult:null,didDrop:!1});case Z4:return gh({},n,{isSourcePublic:!0});case qx:return gh({},n,{targetIds:e.targetIds});case Yx:return n.targetIds.indexOf(e.targetId)===-1?n:gh({},n,{targetIds:j6e(n.targetIds,e.targetId)});case Gx:return gh({},n,{dropResult:e.dropResult,didDrop:!0,targetIds:[]});case Kx:return gh({},n,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return n}}function D8e(n=0,t){switch(t.type){case Q4:case eC:return n+1;case tC:case Yx:return n-1;default:return n}}function I8e(n=0){return n+1}function R8e(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function F8e(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{},r=Object.keys(e);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(e).filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),r.forEach(function(i){R8e(n,i,e[i])})}return n}function B8e(n={},t){return{dirtyHandlerIds:A8e(n.dirtyHandlerIds,{type:t.type,payload:F8e({},t.payload,{prevTargetIds:P6e(n,"dragOperation.targetIds",[])})}),dragOffset:j8e(n.dragOffset,t),refCount:D8e(n.refCount,t),dragOperation:L8e(n.dragOperation,t),stateId:I8e(n.stateId)}}function H8e(n,t=void 0,e={},r=!1){const i=$8e(r),o=new s8e(i,new T8e(i)),a=new r8e(i,o),s=n(a,t,e);return a.receiveBackend(s),a}function $8e(n){const t=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return _D(B8e,n&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}function U8e(n,t){if(n==null)return{};var e=V8e(n,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(e[r]=n[r])}return e}function V8e(n,t){if(n==null)return{};var e={},r=Object.keys(n),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(e[i]=n[i]);return e}let L8=0;const r0=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var z8e=ye.memo(function(t){var{children:e}=t,r=U8e(t,["children"]);const[i,o]=W8e(r);return ye.useEffect(()=>{if(o){const a=AD();return++L8,()=>{--L8===0&&(a[r0]=null)}}},[]),y.jsx(wD.Provider,{value:i,children:e})});function W8e(n){if("manager"in n)return[{dragDropManager:n.manager},!1];const t=q8e(n.backend,n.context,n.options,n.debugMode),e=!n.context;return[t,e]}function q8e(n,t=AD(),e,r){const i=t;return i[r0]||(i[r0]={dragDropManager:H8e(n,t,e,r)}),i[r0]}function AD(){return typeof global<"u"?global:window}var G8e=function n(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var r,i,o;if(Array.isArray(t)){if(r=t.length,r!=e.length)return!1;for(i=r;i--!==0;)if(!n(t[i],e[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();if(o=Object.keys(t),r=o.length,r!==Object.keys(e).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(e,o[i]))return!1;for(i=r;i--!==0;){var a=o[i];if(!n(t[a],e[a]))return!1}return!0}return t!==t&&e!==e};const K8e=hn(G8e),Dd=typeof window<"u"?ye.useLayoutEffect:ye.useEffect;function Y8e(n,t,e){const[r,i]=ye.useState(()=>t(n)),o=ye.useCallback(()=>{const a=t(n);K8e(r,a)||(i(a),e&&e())},[r,n,e]);return Dd(o),[r,o]}function X8e(n,t,e){const[r,i]=Y8e(n,t,e);return Dd(function(){const a=n.getHandlerId();if(a!=null)return n.subscribeToStateChange(i,{handlerIds:[a]})},[n,i]),r}function ND(n,t,e){return X8e(t,n||(()=>({})),()=>e.reconnect())}function PD(n,t){const e=[...t||[]];return t==null&&typeof n!="function"&&e.push(n),ye.useMemo(()=>typeof n=="function"?n():n,e)}function Z8e(n){return ye.useMemo(()=>n.hooks.dragSource(),[n])}function J8e(n){return ye.useMemo(()=>n.hooks.dragPreview(),[n])}let q5=!1,G5=!1;class Q8e{receiveHandlerId(t){this.sourceId=t}getHandlerId(){return this.sourceId}canDrag(){nn(!q5,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return q5=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{q5=!1}}isDragging(){if(!this.sourceId)return!1;nn(!G5,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return G5=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{G5=!1}}subscribeToStateChange(t,e){return this.internalMonitor.subscribeToStateChange(t,e)}isDraggingSource(t){return this.internalMonitor.isDraggingSource(t)}isOverTarget(t,e){return this.internalMonitor.isOverTarget(t,e)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(t){return this.internalMonitor.subscribeToOffsetChange(t)}canDragSource(t){return this.internalMonitor.canDragSource(t)}canDropOnTarget(t){return this.internalMonitor.canDropOnTarget(t)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(t){this.sourceId=null,this.internalMonitor=t.getMonitor()}}let K5=!1;class eNe{receiveHandlerId(t){this.targetId=t}getHandlerId(){return this.targetId}subscribeToStateChange(t,e){return this.internalMonitor.subscribeToStateChange(t,e)}canDrop(){if(!this.targetId)return!1;nn(!K5,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return K5=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{K5=!1}}isOver(t){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,t):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(t){this.targetId=null,this.internalMonitor=t.getMonitor()}}function tNe(n,t,e){const r=e.getRegistry(),i=r.addTarget(n,t);return[i,()=>r.removeTarget(i)]}function rNe(n,t,e){const r=e.getRegistry(),i=r.addSource(n,t);return[i,()=>r.removeSource(i)]}function RS(n,t,e,r){let i;if(i!==void 0)return!!i;if(n===t)return!0;if(typeof n!="object"||!n||typeof t!="object"||!t)return!1;const o=Object.keys(n),a=Object.keys(t);if(o.length!==a.length)return!1;const s=Object.prototype.hasOwnProperty.bind(t);for(let l=0;l<o.length;l++){const c=o[l];if(!s(c))return!1;const u=n[c],f=t[c];if(i=void 0,i===!1||i===void 0&&u!==f)return!1}return!0}function FS(n){return n!==null&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function nNe(n){if(typeof n.type=="string")return;const t=n.type.displayName||n.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${t} into a <div>, or turn it into a drag source or a drop target itself.`)}function iNe(n){return(t=null,e=null)=>{if(!ye.isValidElement(t)){const o=t;return n(o,e),o}const r=t;return nNe(r),oNe(r,e?o=>n(o,e):n)}}function jD(n){const t={};return Object.keys(n).forEach(e=>{const r=n[e];if(e.endsWith("Ref"))t[e]=n[e];else{const i=iNe(r);t[e]=()=>i}}),t}function D8(n,t){typeof n=="function"?n(t):n.current=t}function oNe(n,t){const e=n.ref;return nn(typeof e!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),e?ye.cloneElement(n,{ref:r=>{D8(e,r),D8(t,r)}}):ye.cloneElement(n,{ref:t})}class aNe{receiveHandlerId(t){this.handlerId!==t&&(this.handlerId=t,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(t){this.dragSourceOptionsInternal=t}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(t){this.dragPreviewOptionsInternal=t}reconnect(){const t=this.reconnectDragSource();this.reconnectDragPreview(t)}reconnectDragSource(){const t=this.dragSource,e=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return e&&this.disconnectDragSource(),this.handlerId?t?(e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=t,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,t,this.dragSourceOptions)),e):(this.lastConnectedDragSource=t,e):e}reconnectDragPreview(t=!1){const e=this.dragPreview,r=t||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(r&&this.disconnectDragPreview(),!!this.handlerId){if(!e){this.lastConnectedDragPreview=e;return}r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=e,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,e,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!RS(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!RS(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(t){this.hooks=jD({dragSource:(e,r)=>{this.clearDragSource(),this.dragSourceOptions=r||null,FS(e)?this.dragSourceRef=e:this.dragSourceNode=e,this.reconnectDragSource()},dragPreview:(e,r)=>{this.clearDragPreview(),this.dragPreviewOptions=r||null,FS(e)?this.dragPreviewRef=e:this.dragPreviewNode=e,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=t}}class sNe{get connectTarget(){return this.dropTarget}reconnect(){const t=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();t&&this.disconnectDropTarget();const e=this.dropTarget;if(this.handlerId){if(!e){this.lastConnectedDropTarget=e;return}t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=e,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,e,this.dropTargetOptions))}}receiveHandlerId(t){t!==this.handlerId&&(this.handlerId=t,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(t){this.dropTargetOptionsInternal=t}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!RS(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(t){this.hooks=jD({dropTarget:(e,r)=>{this.clearDropTarget(),this.dropTargetOptions=r,FS(e)?this.dropTargetRef=e:this.dropTargetNode=e,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=t}}function ov(){const{dragDropManager:n}=ye.useContext(wD);return nn(n!=null,"Expected drag drop context"),n}function lNe(n,t){const e=ov(),r=ye.useMemo(()=>new aNe(e.getBackend()),[e]);return Dd(()=>(r.dragSourceOptions=n||null,r.reconnect(),()=>r.disconnectDragSource()),[r,n]),Dd(()=>(r.dragPreviewOptions=t||null,r.reconnect(),()=>r.disconnectDragPreview()),[r,t]),r}function cNe(){const n=ov();return ye.useMemo(()=>new Q8e(n),[n])}class uNe{beginDrag(){const t=this.spec,e=this.monitor;let r=null;return typeof t.item=="object"?r=t.item:typeof t.item=="function"?r=t.item(e):r={},r??null}canDrag(){const t=this.spec,e=this.monitor;return typeof t.canDrag=="boolean"?t.canDrag:typeof t.canDrag=="function"?t.canDrag(e):!0}isDragging(t,e){const r=this.spec,i=this.monitor,{isDragging:o}=r;return o?o(i):e===t.getSourceId()}endDrag(){const t=this.spec,e=this.monitor,r=this.connector,{end:i}=t;i&&i(e.getItem(),e),r.reconnect()}constructor(t,e,r){this.spec=t,this.monitor=e,this.connector=r}}function fNe(n,t,e){const r=ye.useMemo(()=>new uNe(n,t,e),[t,e]);return ye.useEffect(()=>{r.spec=n},[n]),r}function dNe(n){return ye.useMemo(()=>{const t=n.type;return nn(t!=null,"spec.type must be defined"),t},[n])}function hNe(n,t,e){const r=ov(),i=fNe(n,t,e),o=dNe(n);Dd(function(){if(o!=null){const[s,l]=rNe(o,i,r);return t.receiveHandlerId(s),e.receiveHandlerId(s),l}},[r,t,e,i,o])}function I8(n,t){const e=PD(n,t);nn(!e.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const r=cNe(),i=lNe(e.options,e.previewOptions);return hNe(e,r,i),[ND(e.collect,r,i),Z8e(i),J8e(i)]}function pNe(n){return ye.useMemo(()=>n.hooks.dropTarget(),[n])}function vNe(n){const t=ov(),e=ye.useMemo(()=>new sNe(t.getBackend()),[t]);return Dd(()=>(e.dropTargetOptions=n||null,e.reconnect(),()=>e.disconnectDropTarget()),[n]),e}function gNe(){const n=ov();return ye.useMemo(()=>new eNe(n),[n])}function mNe(n){const{accept:t}=n;return ye.useMemo(()=>(nn(n.accept!=null,"accept must be defined"),Array.isArray(t)?t:[t]),[t])}class yNe{canDrop(){const t=this.spec,e=this.monitor;return t.canDrop?t.canDrop(e.getItem(),e):!0}hover(){const t=this.spec,e=this.monitor;t.hover&&t.hover(e.getItem(),e)}drop(){const t=this.spec,e=this.monitor;if(t.drop)return t.drop(e.getItem(),e)}constructor(t,e){this.spec=t,this.monitor=e}}function bNe(n,t){const e=ye.useMemo(()=>new yNe(n,t),[t]);return ye.useEffect(()=>{e.spec=n},[n]),e}function xNe(n,t,e){const r=ov(),i=bNe(n,t),o=mNe(n);Dd(function(){const[s,l]=tNe(o,i,r);return t.receiveHandlerId(s),e.receiveHandlerId(s),l},[r,t,i,e,o.map(a=>a.toString()).join("|")])}function R8(n,t){const e=PD(n,t),r=gNe(),i=vNe(e.options);return xNe(e,r,i),[ND(e.collect,r,i),pNe(i)]}function kD(n){let t=null;return()=>(t==null&&(t=n()),t)}function wNe(n,t){return n.filter(e=>e!==t)}function _Ne(n,t){const e=new Set,r=o=>e.add(o);n.forEach(r),t.forEach(r);const i=[];return e.forEach(o=>i.push(o)),i}class SNe{enter(t){const e=this.entered.length,r=i=>this.isNodeInDocument(i)&&(!i.contains||i.contains(t));return this.entered=_Ne(this.entered.filter(r),[t]),e===0&&this.entered.length>0}leave(t){const e=this.entered.length;return this.entered=wNe(this.entered.filter(this.isNodeInDocument),t),e>0&&this.entered.length===0}reset(){this.entered=[]}constructor(t){this.entered=[],this.isNodeInDocument=t}}class TNe{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(t=>{Object.defineProperty(this.item,t,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${t}" until the drop event.`),null}})})}loadDataTransfer(t){if(t){const e={};Object.keys(this.config.exposeProperties).forEach(r=>{const i=this.config.exposeProperties[r];i!=null&&(e[r]={value:i(t,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,e)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(t,e){return e===t.getSourceId()}endDrag(){}constructor(t){this.config=t,this.item={},this.initializeExposedProperties()}}const MD="__NATIVE_FILE__",LD="__NATIVE_URL__",DD="__NATIVE_TEXT__",ID="__NATIVE_HTML__",F8=Object.freeze(Object.defineProperty({__proto__:null,FILE:MD,HTML:ID,TEXT:DD,URL:LD},Symbol.toStringTag,{value:"Module"}));function Y5(n,t,e){const r=t.reduce((i,o)=>i||n.getData(o),"");return r??e}const BS={[MD]:{exposeProperties:{files:n=>Array.prototype.slice.call(n.files),items:n=>n.items,dataTransfer:n=>n},matchesTypes:["Files"]},[ID]:{exposeProperties:{html:(n,t)=>Y5(n,t,""),dataTransfer:n=>n},matchesTypes:["Html","text/html"]},[LD]:{exposeProperties:{urls:(n,t)=>Y5(n,t,"").split(`
`),dataTransfer:n=>n},matchesTypes:["Url","text/uri-list"]},[DD]:{exposeProperties:{text:(n,t)=>Y5(n,t,""),dataTransfer:n=>n},matchesTypes:["Text","text/plain"]}};function CNe(n,t){const e=BS[n];if(!e)throw new Error(`native type ${n} has no configuration`);const r=new TNe(e);return r.loadDataTransfer(t),r}function X5(n){if(!n)return null;const t=Array.prototype.slice.call(n.types||[]);return Object.keys(BS).filter(e=>{const r=BS[e];return r!=null&&r.matchesTypes?r.matchesTypes.some(i=>t.indexOf(i)>-1):!1})[0]||null}const ENe=kD(()=>/firefox/i.test(navigator.userAgent)),RD=kD(()=>!!window.safari);class B8{interpolate(t){const{xs:e,ys:r,c1s:i,c2s:o,c3s:a}=this;let s=e.length-1;if(t===e[s])return r[s];let l=0,c=a.length-1,u;for(;l<=c;){u=Math.floor(.5*(l+c));const d=e[u];if(d<t)l=u+1;else if(d>t)c=u-1;else return r[u]}s=Math.max(0,c);const f=t-e[s],h=f*f;return r[s]+i[s]*f+o[s]*h+a[s]*f*h}constructor(t,e){const{length:r}=t,i=[];for(let d=0;d<r;d++)i.push(d);i.sort((d,m)=>t[d]<t[m]?-1:1);const o=[],a=[];let s,l;for(let d=0;d<r-1;d++)s=t[d+1]-t[d],l=e[d+1]-e[d],o.push(s),a.push(l/s);const c=[a[0]];for(let d=0;d<o.length-1;d++){const m=a[d],g=a[d+1];if(m*g<=0)c.push(0);else{s=o[d];const x=o[d+1],b=s+x;c.push(3*b/((b+x)/m+(b+s)/g))}}c.push(a[a.length-1]);const u=[],f=[];let h;for(let d=0;d<c.length-1;d++){h=a[d];const m=c[d],g=1/o[d],x=m+c[d+1]-h-h;u.push((h-m-x)*g),f.push(x*g*g)}this.xs=t,this.ys=e,this.c1s=c,this.c2s=u,this.c3s=f}}const ONe=1;function FD(n){const t=n.nodeType===ONe?n:n.parentElement;if(!t)return null;const{top:e,left:r}=t.getBoundingClientRect();return{x:r,y:e}}function Fm(n){return{x:n.clientX,y:n.clientY}}function ANe(n){var t;return n.nodeName==="IMG"&&(ENe()||!(!((t=document.documentElement)===null||t===void 0)&&t.contains(n)))}function NNe(n,t,e,r){let i=n?t.width:e,o=n?t.height:r;return RD()&&n&&(o/=window.devicePixelRatio,i/=window.devicePixelRatio),{dragPreviewWidth:i,dragPreviewHeight:o}}function PNe(n,t,e,r,i){const o=ANe(t),s=FD(o?n:t),l={x:e.x-s.x,y:e.y-s.y},{offsetWidth:c,offsetHeight:u}=n,{anchorX:f,anchorY:h}=r,{dragPreviewWidth:d,dragPreviewHeight:m}=NNe(o,t,c,u),g=()=>{let w=new B8([0,.5,1],[l.y,l.y/u*m,l.y+m-u]).interpolate(h);return RD()&&o&&(w+=(window.devicePixelRatio-1)*m),w},x=()=>new B8([0,.5,1],[l.x,l.x/c*d,l.x+d-c]).interpolate(f),{offsetX:b,offsetY:_}=i,S=b===0||b,T=_===0||_;return{x:S?b:x(),y:T?_:g()}}class jNe{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var t;return!((t=this.globalContext)===null||t===void 0)&&t.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var t;return((t=this.optionsArgs)===null||t===void 0?void 0:t.rootElement)||this.window}constructor(t,e){this.ownerDocument=null,this.globalContext=t,this.optionsArgs=e}}function kNe(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function H8(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{},r=Object.keys(e);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(e).filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),r.forEach(function(i){kNe(n,i,e[i])})}return n}class MNe{profile(){var t,e;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((t=this.dragStartSourceIds)===null||t===void 0?void 0:t.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((e=this.dragOverTargetIds)===null||e===void 0?void 0:e.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const t=this.rootElement;if(t!==void 0){if(t.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");t.__isReactDndBackendSetUp=!0,this.addEventListeners(t)}}teardown(){const t=this.rootElement;if(t!==void 0&&(t.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var e;(e=this.window)===null||e===void 0||e.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(t,e,r){return this.sourcePreviewNodeOptions.set(t,r),this.sourcePreviewNodes.set(t,e),()=>{this.sourcePreviewNodes.delete(t),this.sourcePreviewNodeOptions.delete(t)}}connectDragSource(t,e,r){this.sourceNodes.set(t,e),this.sourceNodeOptions.set(t,r);const i=a=>this.handleDragStart(a,t),o=a=>this.handleSelectStart(a);return e.setAttribute("draggable","true"),e.addEventListener("dragstart",i),e.addEventListener("selectstart",o),()=>{this.sourceNodes.delete(t),this.sourceNodeOptions.delete(t),e.removeEventListener("dragstart",i),e.removeEventListener("selectstart",o),e.setAttribute("draggable","false")}}connectDropTarget(t,e){const r=a=>this.handleDragEnter(a,t),i=a=>this.handleDragOver(a,t),o=a=>this.handleDrop(a,t);return e.addEventListener("dragenter",r),e.addEventListener("dragover",i),e.addEventListener("drop",o),()=>{e.removeEventListener("dragenter",r),e.removeEventListener("dragover",i),e.removeEventListener("drop",o)}}addEventListeners(t){t.addEventListener&&(t.addEventListener("dragstart",this.handleTopDragStart),t.addEventListener("dragstart",this.handleTopDragStartCapture,!0),t.addEventListener("dragend",this.handleTopDragEndCapture,!0),t.addEventListener("dragenter",this.handleTopDragEnter),t.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.addEventListener("dragover",this.handleTopDragOver),t.addEventListener("dragover",this.handleTopDragOverCapture,!0),t.addEventListener("drop",this.handleTopDrop),t.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(t){t.removeEventListener&&(t.removeEventListener("dragstart",this.handleTopDragStart),t.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),t.removeEventListener("dragend",this.handleTopDragEndCapture,!0),t.removeEventListener("dragenter",this.handleTopDragEnter),t.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.removeEventListener("dragover",this.handleTopDragOver),t.removeEventListener("dragover",this.handleTopDragOverCapture,!0),t.removeEventListener("drop",this.handleTopDrop),t.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const t=this.monitor.getSourceId(),e=this.sourceNodeOptions.get(t);return H8({dropEffect:this.altKeyPressed?"copy":"move"},e||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const t=this.monitor.getSourceId(),e=this.sourcePreviewNodeOptions.get(t);return H8({anchorX:.5,anchorY:.5,captureDraggingState:!1},e||{})}isDraggingNativeItem(){const t=this.monitor.getItemType();return Object.keys(F8).some(e=>F8[e]===t)}beginDragNativeItem(t,e){this.clearCurrentDragSourceNode(),this.currentNativeSource=CNe(t,e),this.currentNativeHandle=this.registry.addSource(t,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(t){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=t;const e=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var r;return(r=this.rootElement)===null||r===void 0?void 0:r.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},e)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var t;(t=this.window)===null||t===void 0||t.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(t,e){t.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(e))}handleDragEnter(t,e){this.dragEnterTargetIds.unshift(e)}handleDragOver(t,e){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(e)}handleDrop(t,e){this.dropTargetIds.unshift(e)}constructor(t,e,r){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=i=>{const o=this.sourceNodes.get(i);return o&&FD(o)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=i=>!!(i&&this.document&&this.document.body&&this.document.body.contains(i)),this.endDragIfSourceWasRemovedFromDOM=()=>{const i=this.currentDragSourceNode;i==null||this.isNodeInDocument(i)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=i=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(i||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=i=>{if(i.defaultPrevented)return;const{dragStartSourceIds:o}=this;this.dragStartSourceIds=null;const a=Fm(i);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(o||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:a});const{dataTransfer:s}=i,l=X5(s);if(this.monitor.isDragging()){if(s&&typeof s.setDragImage=="function"){const u=this.monitor.getSourceId(),f=this.sourceNodes.get(u),h=this.sourcePreviewNodes.get(u)||f;if(h){const{anchorX:d,anchorY:m,offsetX:g,offsetY:x}=this.getCurrentSourcePreviewNodeOptions(),S=PNe(f,h,a,{anchorX:d,anchorY:m},{offsetX:g,offsetY:x});s.setDragImage(h,S.x,S.y)}}try{s==null||s.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(i.target);const{captureDraggingState:c}=this.getCurrentSourcePreviewNodeOptions();c?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(l)this.beginDragNativeItem(l);else{if(s&&!s.types&&(i.target&&!i.target.hasAttribute||!i.target.hasAttribute("draggable")))return;i.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=i=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var o;(o=this.currentNativeSource)===null||o===void 0||o.loadDataTransfer(i.dataTransfer)}if(!this.enterLeaveCounter.enter(i.target)||this.monitor.isDragging())return;const{dataTransfer:s}=i,l=X5(s);l&&this.beginDragNativeItem(l,s)},this.handleTopDragEnter=i=>{const{dragEnterTargetIds:o}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=i.altKey,o.length>0&&this.actions.hover(o,{clientOffset:Fm(i)}),o.some(s=>this.monitor.canDropOnTarget(s))&&(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=i=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var o;(o=this.currentNativeSource)===null||o===void 0||o.loadDataTransfer(i.dataTransfer)}},this.handleTopDragOver=i=>{const{dragOverTargetIds:o}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect="none");return}this.altKeyPressed=i.altKey,this.lastClientOffset=Fm(i),this.scheduleHover(o),(o||[]).some(s=>this.monitor.canDropOnTarget(s))?(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?i.preventDefault():(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=i=>{this.isDraggingNativeItem()&&i.preventDefault(),this.enterLeaveCounter.leave(i.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=i=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var o;i.preventDefault(),(o=this.currentNativeSource)===null||o===void 0||o.loadDataTransfer(i.dataTransfer)}else X5(i.dataTransfer)&&i.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=i=>{const{dropTargetIds:o}=this;this.dropTargetIds=[],this.actions.hover(o,{clientOffset:Fm(i)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=i=>{const o=i.target;typeof o.dragDrop=="function"&&(o.tagName==="INPUT"||o.tagName==="SELECT"||o.tagName==="TEXTAREA"||o.isContentEditable||(i.preventDefault(),o.dragDrop()))},this.options=new jNe(e,r),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new SNe(this.isNodeInDocument)}}const LNe=function(t,e,r){return new MNe(t,e,r)},Bm={getTemplates:async()=>{try{const{data:n,error:t}=await oo.get("/communications/templates");if(t)throw new Error(t);return n}catch(n){throw tn.error("Failed to fetch templates: "+n.message),n}},createTemplate:async n=>{try{const{data:t,error:e}=await oo.post("/communications/templates",n);if(e)throw new Error(e);return tn.success("Template created successfully!"),t}catch(t){throw tn.error("Failed to create template: "+t.message),t}},updateTemplate:async(n,t)=>{try{const{data:e,error:r}=await oo.put(`/communications/templates/${n}`,t);if(r)throw new Error(r);return tn.success("Template updated successfully!"),e}catch(e){throw tn.error("Failed to update template: "+e.message),e}},deleteTemplate:async n=>{try{const{data:t,error:e}=await oo.delete(`/communications/templates/${n}`);if(e)throw new Error(e);return tn.success("Template deleted successfully!"),t}catch(t){throw tn.error("Failed to delete template: "+t.message),t}}},DNe={EMAIL:"email"},$8=()=>{var Ut,kt,Oe;const[n,t]=ye.useState([]),[e,r]=ye.useState(null),[i,o]=ye.useState(100),[a,s]=ye.useState("templates"),[l,c]=ye.useState(!1),[u,f]=ye.useState(!1),[h,d]=ye.useState("professional"),[m,g]=ye.useState(DNe.EMAIL),[x,b]=ye.useState(""),[_,S]=ye.useState("all"),T=ye.useRef(null),[C,w]=ye.useState([]),[N,A]=ye.useState([]),[j,R]=ye.useState([]),[L,M]=ye.useState([]),[I,D]=ye.useState(!1),[V,F]=ye.useState(!1),[G,W]=ye.useState({name:"",description:"",category:"",template_type:m,sharing_level:"private",shared_with_orgs:[]}),[Y,te]=ye.useState(null);ye.useEffect(()=>{console.log("Loading templates..."),D(!0),Bm.getTemplates().then(fe=>{if(console.log("Templates API response:",fe),!fe||!fe.data){console.error("Invalid response from getTemplates:",fe),tn.error("Failed to load templates: Invalid response");return}const{data:ee}=fe;console.log("Setting templates:",ee),R((ee==null?void 0:ee.myTemplates)||[]),M((ee==null?void 0:ee.sharedTemplates)||[])}).catch(fe=>{console.error("Error loading templates:",fe),tn.error("Failed to load templates: "+(fe.message||"Unknown error"))}).finally(()=>D(!1))},[]);const he=fe=>{if(fe)return fe==="transparent"||fe.toLowerCase()==="transparent"?"transparent":fe==="white"?"#ffffff":(fe.startsWith("#")||fe.startsWith("rgb")||fe.startsWith("rgba"),fe)},z=fe=>fe.map(ee=>{const tt={...ee};return tt.style&&(tt.style=Object.entries(tt.style).reduce((Ie,[gt,wt])=>{if(gt.toLowerCase().includes("color")){const Ct=he(wt);Ct&&(Ie[gt]=Ct)}else Ie[gt]=wt;return Ie},{})),tt}),Z=async()=>{var fe;try{if(!n||n.length===0){tn.error("Cannot save empty template. Add some elements first.");return}if(!G.name||!G.category){tn.error("Please provide both a name and category for the template.");return}D(!0);const ee=z(n),tt={name:G.name.trim(),description:((fe=G.description)==null?void 0:fe.trim())||"",category:G.category.trim(),template_type:m||"email",sharing_level:G.sharing_level||"private",shared_with_orgs:G.sharing_level==="orgs"?G.shared_with_orgs:[],design_json:JSON.stringify(ee)};console.log("Saving template with payload:",tt),Y?(await Bm.updateTemplate(Y,tt),tn.success("Template updated successfully!")):(await Bm.createTemplate(tt),tn.success("Template created successfully!")),F(!1);const{data:Ie}=await Bm.getTemplates();R((Ie==null?void 0:Ie.myTemplates)||[]),M((Ie==null?void 0:Ie.sharedTemplates)||[])}catch(ee){console.error("Template save error:",ee),tn.error(`Failed to save template: ${ee.message||"Unknown error"}`)}finally{D(!1)}};ye.useEffect(()=>{console.log("AdvancedDesignStudio mounted successfully")},[]),ye.useEffect(()=>{const fe=ee=>{l&&!ee.target.closest(".stella-popup-container")&&c(!1)};return document.addEventListener("mousedown",fe),()=>document.removeEventListener("mousedown",fe)},[l]);const X=[{id:"back-to-school-night",name:"Back to School Night",category:"Event",thumbnail:"https://images.unsplash.com/photo-1503676382389-4809596d5290?auto=format&fit=crop&w=300&q=80",description:"Invite families to Back to School Night with this welcoming template.",isProfessional:!0,elements:[{type:"image",src:"https://images.unsplash.com/photo-1503676382389-4809596d5290?auto=format&fit=crop&w=600&q=80",style:{width:"100%",borderRadius:"12px",marginBottom:"24px",maxHeight:"220px",objectFit:"cover"}},{type:"header",content:"Back to School Night",style:{fontSize:"24px",fontWeight:"bold",color:"#172845",textAlign:"center",padding:"20px",backgroundColor:"#fbc860",borderRadius:"8px",width:"100%",marginBottom:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.04)"}},{type:"divider",style:{borderTop:"2px solid #2563eb",margin:"16px 0",width:"100%"}},{type:"text",content:"Join us for an evening of fun, learning, and community as we kick off the new school year!",style:{fontSize:"16px",color:"#374151",textAlign:"center",padding:"24px",backgroundColor:"#fff",borderRadius:"8px",boxShadow:"0 1px 4px rgba(0,0,0,0.03)",margin:"0 auto 12px auto",width:"90%"}},{type:"button",content:"RSVP Now",url:"https://example.com/rsvp",style:{backgroundColor:"#2563eb",color:"#fff",padding:"12px 32px",borderRadius:"6px",fontWeight:"bold",fontSize:"16px",margin:"0 auto 16px auto",display:"block",border:"none",boxShadow:"0 2px 8px rgba(37,99,235,0.08)"}},{type:"divider",style:{borderTop:"1px solid #2563eb",margin:"16px 0",width:"100%"}},{type:"text",content:"Sunset PTO • info@sunsetpto.com",style:{textAlign:"center",color:"#6b7280",fontSize:"13px",marginTop:"16px",marginBottom:"0",padding:"8px 0 0 0"}}]},{id:"fall-festival",name:"Fall Festival",category:"Event",thumbnail:"https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=300&q=80",description:"Celebrate autumn with a festive school event!",isProfessional:!0,elements:[{type:"image",src:"https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=600&q=80",style:{width:"100%",borderRadius:"12px",marginBottom:"24px",maxHeight:"220px",objectFit:"cover"}},{type:"header",content:"Fall Festival",style:{fontSize:"24px",fontWeight:"bold",color:"#b45309",textAlign:"center",padding:"20px",backgroundColor:"#fde68a",borderRadius:"8px",width:"100%",marginBottom:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.04)"}},{type:"divider",style:{borderTop:"2px solid #b45309",margin:"16px 0",width:"100%"}},{type:"text",content:"Games, food, and fun for the whole family! Don't miss our annual Fall Festival.",style:{fontSize:"16px",color:"#374151",textAlign:"center",padding:"24px",backgroundColor:"#fff",borderRadius:"8px",boxShadow:"0 1px 4px rgba(0,0,0,0.03)",margin:"0 auto 12px auto",width:"90%"}},{type:"button",content:"Volunteer",url:"https://example.com/volunteer",style:{backgroundColor:"#b45309",color:"#fff",padding:"12px 32px",borderRadius:"6px",fontWeight:"bold",fontSize:"16px",margin:"0 auto 16px auto",display:"block",border:"none",boxShadow:"0 2px 8px rgba(180,83,9,0.08)"}},{type:"divider",style:{borderTop:"1px solid #b45309",margin:"16px 0",width:"100%"}},{type:"text",content:"Sunset PTO • info@sunsetpto.com",style:{textAlign:"center",color:"#6b7280",fontSize:"13px",marginTop:"16px",marginBottom:"0",padding:"8px 0 0 0"}}]},{id:"book-fair",name:"Book Fair",category:"Fundraising",thumbnail:"https://images.unsplash.com/photo-1519681393784-d120267933ba?auto=format&fit=crop&w=300&q=80",description:"Support our library and foster a love of reading. Shop the Book Fair this week!",isProfessional:!0,elements:[{type:"image",src:"https://images.unsplash.com/photo-1519681393784-d120267933ba?auto=format&fit=crop&w=600&q=80",style:{width:"100%",borderRadius:"12px",marginBottom:"24px",maxHeight:"220px",objectFit:"cover"}},{type:"header",content:"Book Fair",style:{fontSize:"24px",fontWeight:"bold",color:"#1d4ed8",textAlign:"center",padding:"20px",backgroundColor:"#dbeafe",borderRadius:"8px",width:"100%",marginBottom:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.04)"}},{type:"divider",style:{borderTop:"2px solid #1d4ed8",margin:"16px 0",width:"100%"}},{type:"text",content:"Support our library and foster a love of reading. Shop the Book Fair this week!",style:{fontSize:"16px",color:"#374151",textAlign:"center",padding:"24px",backgroundColor:"#fff",borderRadius:"8px",boxShadow:"0 1px 4px rgba(0,0,0,0.03)",margin:"0 auto 12px auto",width:"90%"}},{type:"button",content:"Shop Now",url:"https://example.com/bookfair",style:{backgroundColor:"#1d4ed8",color:"#fff",padding:"12px 32px",borderRadius:"6px",fontWeight:"bold",fontSize:"16px",margin:"0 auto 16px auto",display:"block",border:"none",boxShadow:"0 2px 8px rgba(29,78,216,0.08)"}},{type:"divider",style:{borderTop:"1px solid #1d4ed8",margin:"16px 0",width:"100%"}},{type:"text",content:"Sunset PTO • info@sunsetpto.com",style:{textAlign:"center",color:"#6b7280",fontSize:"13px",marginTop:"16px",marginBottom:"0",padding:"8px 0 0 0"}}]},{id:"teacher-appreciation",name:"Teacher Appreciation Week",category:"Appreciation",thumbnail:"https://images.unsplash.com/photo-1465101046530-73398c7f28ca?auto=format&fit=crop&w=300&q=80",description:"Celebrate and thank your teachers for all they do.",isProfessional:!0,elements:[{type:"image",src:"https://images.unsplash.com/photo-1465101046530-73398c7f28ca?auto=format&fit=crop&w=600&q=80",style:{width:"100%",borderRadius:"12px",marginBottom:"24px",maxHeight:"220px",objectFit:"cover"}},{type:"header",content:"Teacher Appreciation Week",style:{fontSize:"24px",fontWeight:"bold",color:"#be185d",textAlign:"center",padding:"20px",backgroundColor:"#fbcfe8",borderRadius:"8px",width:"100%",marginBottom:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.04)"}},{type:"divider",style:{borderTop:"2px solid #be185d",margin:"16px 0",width:"100%"}},{type:"text",content:"Join us in celebrating our dedicated teachers! Let's show them how much we care.",style:{fontSize:"16px",color:"#374151",textAlign:"center",padding:"24px",backgroundColor:"#fff",borderRadius:"8px",boxShadow:"0 1px 4px rgba(0,0,0,0.03)",margin:"0 auto 12px auto",width:"90%"}},{type:"button",content:"Send Thanks",url:"https://example.com/thanks",style:{backgroundColor:"#be185d",color:"#fff",padding:"12px 32px",borderRadius:"6px",fontWeight:"bold",fontSize:"16px",margin:"0 auto 16px auto",display:"block",border:"none",boxShadow:"0 2px 8px rgba(190,24,93,0.08)"}},{type:"divider",style:{borderTop:"1px solid #be185d",margin:"16px 0",width:"100%"}},{type:"text",content:"Sunset PTO • info@sunsetpto.com",style:{textAlign:"center",color:"#6b7280",fontSize:"13px",marginTop:"16px",marginBottom:"0",padding:"8px 0 0 0"}}]},{id:"halloween-party",name:"Halloween Party",category:"Holiday",thumbnail:"https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=300&q=80",description:"Spooky fun for all ages! Invite families to your school Halloween party.",isProfessional:!0,elements:[{type:"image",src:"https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=600&q=80",style:{width:"100%",borderRadius:"12px",marginBottom:"24px",maxHeight:"220px",objectFit:"cover"}},{type:"header",content:"Halloween Party",style:{fontSize:"24px",fontWeight:"bold",color:"#f59e42",textAlign:"center",padding:"20px",backgroundColor:"#fef3c7",borderRadius:"8px",width:"100%",marginBottom:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.04)"}},{type:"divider",style:{borderTop:"2px solid #f59e42",margin:"16px 0",width:"100%"}},{type:"text",content:"Costume contest, games, and treats! All families welcome.",style:{fontSize:"16px",color:"#374151",textAlign:"center",padding:"24px",backgroundColor:"#fff",borderRadius:"8px",boxShadow:"0 1px 4px rgba(0,0,0,0.03)",margin:"0 auto 12px auto",width:"90%"}},{type:"button",content:"RSVP",url:"https://example.com/halloween",style:{backgroundColor:"#f59e42",color:"#fff",padding:"12px 32px",borderRadius:"6px",fontWeight:"bold",fontSize:"16px",margin:"0 auto 16px auto",display:"block",border:"none",boxShadow:"0 2px 8px rgba(245,158,66,0.08)"}},{type:"divider",style:{borderTop:"1px solid #f59e42",margin:"16px 0",width:"100%"}},{type:"text",content:"Sunset PTO • info@sunsetpto.com",style:{textAlign:"center",color:"#6b7280",fontSize:"13px",marginTop:"16px",marginBottom:"0",padding:"8px 0 0 0"}}]},{id:"thanksgiving-feast",name:"Thanksgiving Feast",category:"Holiday",thumbnail:"https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&fit=crop&w=300&q=80",description:"Invite families to a school Thanksgiving celebration.",isProfessional:!0,elements:[{type:"image",src:"https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&fit=crop&w=600&q=80",style:{width:"100%",borderRadius:"12px",marginBottom:"24px",maxHeight:"220px",objectFit:"cover"}},{type:"header",content:"Thanksgiving Feast",style:{fontSize:"24px",fontWeight:"bold",color:"#92400e",textAlign:"center",padding:"20px",backgroundColor:"#fde68a",borderRadius:"8px",width:"100%",marginBottom:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.04)"}},{type:"divider",style:{borderTop:"2px solid #92400e",margin:"16px 0",width:"100%"}},{type:"text",content:"Join us for a delicious meal and community gathering to give thanks together.",style:{fontSize:"16px",color:"#374151",textAlign:"center",padding:"24px",backgroundColor:"#fff",borderRadius:"8px",boxShadow:"0 1px 4px rgba(0,0,0,0.03)",margin:"0 auto 12px auto",width:"90%"}},{type:"button",content:"Sign Up",url:"https://example.com/thanksgiving",style:{backgroundColor:"#92400e",color:"#fff",padding:"12px 32px",borderRadius:"6px",fontWeight:"bold",fontSize:"16px",margin:"0 auto 16px auto",display:"block",border:"none",boxShadow:"0 2px 8px rgba(146,64,14,0.08)"}},{type:"divider",style:{borderTop:"1px solid #92400e",margin:"16px 0",width:"100%"}},{type:"text",content:"Sunset PTO • info@sunsetpto.com",style:{textAlign:"center",color:"#6b7280",fontSize:"13px",marginTop:"16px",marginBottom:"0",padding:"8px 0 0 0"}}]},{id:"winter-holiday",name:"Winter Holiday",category:"Holiday",thumbnail:"https://images.unsplash.com/photo-1519125323398-675f0ddb6308?auto=format&fit=crop&w=300&q=80",description:"Celebrate the season with a festive winter holiday event.",isProfessional:!0,elements:[{type:"image",src:"https://images.unsplash.com/photo-1519125323398-675f0ddb6308?auto=format&fit=crop&w=600&q=80",style:{width:"100%",borderRadius:"12px",marginBottom:"24px",maxHeight:"220px",objectFit:"cover"}},{type:"header",content:"Winter Holiday Party",style:{fontSize:"24px",fontWeight:"bold",color:"#2563eb",textAlign:"center",padding:"20px",backgroundColor:"#dbeafe",borderRadius:"8px",width:"100%",marginBottom:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.04)"}},{type:"divider",style:{borderTop:"2px solid #2563eb",margin:"16px 0",width:"100%"}},{type:"text",content:"Join us for crafts, music, and holiday cheer! All are welcome.",style:{fontSize:"16px",color:"#374151",textAlign:"center",padding:"24px",backgroundColor:"#fff",borderRadius:"8px",boxShadow:"0 1px 4px rgba(0,0,0,0.03)",margin:"0 auto 12px auto",width:"90%"}},{type:"button",content:"RSVP",url:"https://example.com/winter",style:{backgroundColor:"#2563eb",color:"#fff",padding:"12px 32px",borderRadius:"6px",fontWeight:"bold",fontSize:"16px",margin:"0 auto 16px auto",display:"block",border:"none",boxShadow:"0 2px 8px rgba(37,99,235,0.08)"}},{type:"divider",style:{borderTop:"1px solid #2563eb",margin:"16px 0",width:"100%"}},{type:"text",content:"Sunset PTO • info@sunsetpto.com",style:{textAlign:"center",color:"#6b7280",fontSize:"13px",marginTop:"16px",marginBottom:"0",padding:"8px 0 0 0"}}]},{id:"spring-break",name:"Spring Break",category:"Announcement",thumbnail:"https://images.unsplash.com/photo-1465101046530-73398c7f28ca?auto=format&fit=crop&w=300&q=80",description:"Announce spring break dates and activities.",isProfessional:!0,elements:[{type:"image",src:"https://images.unsplash.com/photo-1465101046530-73398c7f28ca?auto=format&fit=crop&w=600&q=80",style:{width:"100%",borderRadius:"12px",marginBottom:"24px",maxHeight:"220px",objectFit:"cover"}},{type:"header",content:"Spring Break",style:{fontSize:"24px",fontWeight:"bold",color:"#059669",textAlign:"center",padding:"20px",backgroundColor:"#bbf7d0",borderRadius:"8px",width:"100%",marginBottom:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.04)"}},{type:"divider",style:{borderTop:"2px solid #059669",margin:"16px 0",width:"100%"}},{type:"text",content:"School will be closed for spring break. Enjoy your time off!",style:{fontSize:"16px",color:"#374151",textAlign:"center",padding:"24px",backgroundColor:"#fff",borderRadius:"8px",boxShadow:"0 1px 4px rgba(0,0,0,0.03)",margin:"0 auto 12px auto",width:"90%"}},{type:"button",content:"See Calendar",url:"https://example.com/calendar",style:{backgroundColor:"#059669",color:"#fff",padding:"12px 32px",borderRadius:"6px",fontWeight:"bold",fontSize:"16px",margin:"0 auto 16px auto",display:"block",border:"none",boxShadow:"0 2px 8px rgba(5,150,105,0.08)"}},{type:"divider",style:{borderTop:"1px solid #059669",margin:"16px 0",width:"100%"}},{type:"text",content:"Sunset PTO • info@sunsetpto.com",style:{textAlign:"center",color:"#6b7280",fontSize:"13px",marginTop:"16px",marginBottom:"0",padding:"8px 0 0 0"}}]},{id:"popcorn-day",name:"Popcorn Day",category:"Event",thumbnail:"https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&fit=crop&w=300&q=80",description:"Celebrate Popcorn Day with a fun treat for students!",isProfessional:!0,elements:[{type:"image",src:"https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&fit=crop&w=600&q=80",style:{width:"100%",borderRadius:"12px",marginBottom:"24px",maxHeight:"220px",objectFit:"cover"}},{type:"header",content:"Popcorn Day",style:{fontSize:"24px",fontWeight:"bold",color:"#f59e42",textAlign:"center",padding:"20px",backgroundColor:"#fef3c7",borderRadius:"8px",width:"100%",marginBottom:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.04)"}},{type:"divider",style:{borderTop:"2px solid #f59e42",margin:"16px 0",width:"100%"}},{type:"text",content:"Students will receive a free popcorn treat during lunch!",style:{fontSize:"16px",color:"#374151",textAlign:"center",padding:"24px",backgroundColor:"#fff",borderRadius:"8px",boxShadow:"0 1px 4px rgba(0,0,0,0.03)",margin:"0 auto 12px auto",width:"90%"}},{type:"button",content:"Volunteer",url:"https://example.com/popcorn",style:{backgroundColor:"#f59e42",color:"#fff",padding:"12px 32px",borderRadius:"6px",fontWeight:"bold",fontSize:"16px",margin:"0 auto 16px auto",display:"block",border:"none",boxShadow:"0 2px 8px rgba(245,158,66,0.08)"}},{type:"divider",style:{borderTop:"1px solid #f59e42",margin:"16px 0",width:"100%"}},{type:"text",content:"Sunset PTO • info@sunsetpto.com",style:{textAlign:"center",color:"#6b7280",fontSize:"13px",marginTop:"16px",marginBottom:"0",padding:"8px 0 0 0"}}]},{id:"picture-day",name:"Picture Day",category:"Announcement",thumbnail:"https://images.unsplash.com/photo-1519125323398-675f0ddb6308?auto=format&fit=crop&w=300&q=80",description:"Remind families about upcoming school picture day.",isProfessional:!0,elements:[{type:"image",src:"https://images.unsplash.com/photo-1519125323398-675f0ddb6308?auto=format&fit=crop&w=600&q=80",style:{width:"100%",borderRadius:"12px",marginBottom:"24px",maxHeight:"220px",objectFit:"cover"}},{type:"header",content:"Picture Day",style:{fontSize:"24px",fontWeight:"bold",color:"#2563eb",textAlign:"center",padding:"20px",backgroundColor:"#dbeafe",borderRadius:"8px",width:"100%",marginBottom:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.04)"}},{type:"divider",style:{borderTop:"2px solid #2563eb",margin:"16px 0",width:"100%"}},{type:"text",content:"Don't forget to dress your best for school pictures!",style:{fontSize:"16px",color:"#374151",textAlign:"center",padding:"24px",backgroundColor:"#fff",borderRadius:"8px",boxShadow:"0 1px 4px rgba(0,0,0,0.03)",margin:"0 auto 12px auto",width:"90%"}},{type:"button",content:"Order Photos",url:"https://example.com/pictures",style:{backgroundColor:"#2563eb",color:"#fff",padding:"12px 32px",borderRadius:"6px",fontWeight:"bold",fontSize:"16px",margin:"0 auto 16px auto",display:"block",border:"none",boxShadow:"0 2px 8px rgba(37,99,235,0.08)"}},{type:"divider",style:{borderTop:"1px solid #2563eb",margin:"16px 0",width:"100%"}},{type:"text",content:"Sunset PTO • info@sunsetpto.com",style:{textAlign:"center",color:"#6b7280",fontSize:"13px",marginTop:"16px",marginBottom:"0",padding:"8px 0 0 0"}}]},{id:"family-movie-night",name:"Family Movie Night",category:"Event",thumbnail:"https://images.unsplash.com/photo-1465101046530-73398c7f28ca?auto=format&fit=crop&w=300&q=80",description:"Invite families to a fun movie night at school.",isProfessional:!0,elements:[{type:"image",src:"https://images.unsplash.com/photo-1465101046530-73398c7f28ca?auto=format&fit=crop&w=600&q=80",style:{width:"100%",borderRadius:"12px",marginBottom:"24px",maxHeight:"220px",objectFit:"cover"}},{type:"header",content:"Family Movie Night",style:{fontSize:"24px",fontWeight:"bold",color:"#be185d",textAlign:"center",padding:"20px",backgroundColor:"#fbcfe8",borderRadius:"8px",width:"100%",marginBottom:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.04)"}},{type:"divider",style:{borderTop:"2px solid #be185d",margin:"16px 0",width:"100%"}},{type:"text",content:"Bring your blankets and enjoy a family-friendly movie in the gym!",style:{fontSize:"16px",color:"#374151",textAlign:"center",padding:"24px",backgroundColor:"#fff",borderRadius:"8px",boxShadow:"0 1px 4px rgba(0,0,0,0.03)",margin:"0 auto 12px auto",width:"90%"}},{type:"button",content:"RSVP",url:"https://example.com/movie",style:{backgroundColor:"#be185d",color:"#fff",padding:"12px 32px",borderRadius:"6px",fontWeight:"bold",fontSize:"16px",margin:"0 auto 16px auto",display:"block",border:"none",boxShadow:"0 2px 8px rgba(190,24,93,0.08)"}},{type:"divider",style:{borderTop:"1px solid #be185d",margin:"16px 0",width:"100%"}},{type:"text",content:"Sunset PTO • info@sunsetpto.com",style:{textAlign:"center",color:"#6b7280",fontSize:"13px",marginTop:"16px",marginBottom:"0",padding:"8px 0 0 0"}}]},{id:"science-fair",name:"Science Fair",category:"Event",thumbnail:"https://images.unsplash.com/photo-1465101046530-73398c7f28ca?auto=format&fit=crop&w=300&q=80",description:"Encourage curiosity and discovery at your school science fair.",isProfessional:!0,elements:[{type:"image",src:"https://images.unsplash.com/photo-1465101046530-73398c7f28ca?auto=format&fit=crop&w=600&q=80",style:{width:"100%",borderRadius:"12px",marginBottom:"24px",maxHeight:"220px",objectFit:"cover"}},{type:"header",content:"Science Fair",style:{fontSize:"24px",fontWeight:"bold",color:"#059669",textAlign:"center",padding:"20px",backgroundColor:"#bbf7d0",borderRadius:"8px",width:"100%",marginBottom:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.04)"}},{type:"divider",style:{borderTop:"2px solid #059669",margin:"16px 0",width:"100%"}},{type:"text",content:"Students will showcase their science projects and experiments.",style:{fontSize:"16px",color:"#374151",textAlign:"center",padding:"24px",backgroundColor:"#fff",borderRadius:"8px",boxShadow:"0 1px 4px rgba(0,0,0,0.03)",margin:"0 auto 12px auto",width:"90%"}},{type:"button",content:"Sign Up",url:"https://example.com/science",style:{backgroundColor:"#059669",color:"#fff",padding:"12px 32px",borderRadius:"6px",fontWeight:"bold",fontSize:"16px",margin:"0 auto 16px auto",display:"block",border:"none",boxShadow:"0 2px 8px rgba(5,150,105,0.08)"}},{type:"divider",style:{borderTop:"1px solid #059669",margin:"16px 0",width:"100%"}},{type:"text",content:"Sunset PTO • info@sunsetpto.com",style:{textAlign:"center",color:"#6b7280",fontSize:"13px",marginTop:"16px",marginBottom:"0",padding:"8px 0 0 0"}}]},{id:"spirit-week",name:"Spirit Week",category:"Event",thumbnail:"https://images.unsplash.com/photo-1519125323398-675f0ddb6308?auto=format&fit=crop&w=300&q=80",description:"Boost school spirit with themed dress-up days and activities.",isProfessional:!0,elements:[{type:"image",src:"https://images.unsplash.com/photo-1519125323398-675f0ddb6308?auto=format&fit=crop&w=600&q=80",style:{width:"100%",borderRadius:"12px",marginBottom:"24px",maxHeight:"220px",objectFit:"cover"}},{type:"header",content:"Spirit Week",style:{fontSize:"24px",fontWeight:"bold",color:"#be185d",textAlign:"center",padding:"20px",backgroundColor:"#fbcfe8",borderRadius:"8px",width:"100%",marginBottom:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.04)"}},{type:"divider",style:{borderTop:"2px solid #be185d",margin:"16px 0",width:"100%"}},{type:"text",content:"Each day has a different theme! Show your school pride.",style:{fontSize:"16px",color:"#374151",textAlign:"center",padding:"24px",backgroundColor:"#fff",borderRadius:"8px",boxShadow:"0 1px 4px rgba(0,0,0,0.03)",margin:"0 auto 12px auto",width:"90%"}},{type:"button",content:"See Themes",url:"https://example.com/spirit",style:{backgroundColor:"#be185d",color:"#fff",padding:"12px 32px",borderRadius:"6px",fontWeight:"bold",fontSize:"16px",margin:"0 auto 16px auto",display:"block",border:"none",boxShadow:"0 2px 8px rgba(190,24,93,0.08)"}},{type:"divider",style:{borderTop:"1px solid #be185d",margin:"16px 0",width:"100%"}},{type:"text",content:"Sunset PTO • info@sunsetpto.com",style:{textAlign:"center",color:"#6b7280",fontSize:"13px",marginTop:"16px",marginBottom:"0",padding:"8px 0 0 0"}}]},{id:"field-day",name:"Field Day",category:"Event",thumbnail:"https://images.unsplash.com/photo-1465101046530-73398c7f28ca?auto=format&fit=crop&w=300&q=80",description:"A day of outdoor games and fun for all students!",isProfessional:!0,elements:[{type:"image",src:"https://images.unsplash.com/photo-1465101046530-73398c7f28ca?auto=format&fit=crop&w=600&q=80",style:{width:"100%",borderRadius:"12px",marginBottom:"24px",maxHeight:"220px",objectFit:"cover"}},{type:"header",content:"Field Day",style:{fontSize:"24px",fontWeight:"bold",color:"#059669",textAlign:"center",padding:"20px",backgroundColor:"#bbf7d0",borderRadius:"8px",width:"100%",marginBottom:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.04)"}},{type:"divider",style:{borderTop:"2px solid #059669",margin:"16px 0",width:"100%"}},{type:"text",content:"Students will participate in a variety of outdoor games and activities.",style:{fontSize:"16px",color:"#374151",textAlign:"center",padding:"24px",backgroundColor:"#fff",borderRadius:"8px",boxShadow:"0 1px 4px rgba(0,0,0,0.03)",margin:"0 auto 12px auto",width:"90%"}},{type:"button",content:"Volunteer",url:"https://example.com/fieldday",style:{backgroundColor:"#059669",color:"#fff",padding:"12px 32px",borderRadius:"6px",fontWeight:"bold",fontSize:"16px",margin:"0 auto 16px auto",display:"block",border:"none",boxShadow:"0 2px 8px rgba(5,150,105,0.08)"}},{type:"divider",style:{borderTop:"1px solid #059669",margin:"16px 0",width:"100%"}},{type:"text",content:"Sunset PTO • info@sunsetpto.com",style:{textAlign:"center",color:"#6b7280",fontSize:"13px",marginTop:"16px",marginBottom:"0",padding:"8px 0 0 0"}}]}],ae=[{id:"welcome-newsletter",name:"Welcome Back Newsletter",category:"Newsletter",thumbnail:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDMwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIzMDAiIGhlaWdodD0iMjAwIiBmaWxsPSIjZGJlYWZlIi8+CjxyZWN0IHg9IjIwIiB5PSIyMCIgd2lkdGg9IjI2MCIgaGVpZ2h0PSI0MCIgZmlsbD0iIzFlNDBhZiIgcng9IjQiLz4KPHRleHQgeD0iMTUwIiB5PSI0NSIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgZmlsbD0id2hpdGUiIHRleHQtYW5jaG9yPSJtaWRkbGUiPldlbGNvbWUgQmFjayE8L3RleHQ+CjxyZWN0IHg9IjIwIiB5PSI4MCIgd2lkdGg9IjI2MCIgaGVpZ2h0PSIxMDAiIGZpbGw9IndoaXRlIiBzdHJva2U9IiNlNWU3ZWIiIHJ4PSI0Ii8+Cjx0ZXh0IHg9IjMwIiB5PSIxMDAiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgZmlsbD0iIzM3NDE1MSI+V2UgYXJlIGV4Y2l0ZWQgdG8gc3RhcnQgYW5vdGhlcjwvdGV4dD4KPHRleHQgeD0iMzAiIHk9IjExNSIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBmaWxsPSIjMzc0MTUxIj5hbWF6aW5nIHNjaG9vbCB5ZWFyIHRvZ2V0aGVyITwvdGV4dD4KPC9zdmc+",description:"Professional welcome back newsletter",elements:[{type:"header",content:"Welcome Back to School!",style:{fontSize:"36px",fontWeight:"bold",color:"#1e40af",textAlign:"center",padding:"30px",backgroundColor:"#dbeafe",borderRadius:"8px",width:"100%",marginBottom:"20px"}},{type:"text",content:"We are excited to start another amazing school year together! This year brings new opportunities, exciting events, and wonderful memories to be made.",style:{fontSize:"18px",color:"#374151",textAlign:"center",padding:"20px",lineHeight:"1.6",width:"100%"}}]},{id:"fall-festival",name:"Fall Festival Invitation",category:"Events",thumbnail:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDMwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIzMDAiIGhlaWdodD0iMjAwIiBmaWxsPSIjZmVmM2M3Ii8+CjxyZWN0IHg9IjIwIiB5PSIyMCIgd2lkdGg9IjI2MCIgaGVpZ2h0PSI0MCIgZmlsbD0iI2Q5NzcwNiIgcng9IjQiLz4KPHRleHQgeD0iMTUwIiB5PSI0NSIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgZmlsbD0id2hpdGUiIHRleHQtYW5jaG9yPSJtaWRkbGUiPkZhbGwgRmVzdGl2YWwgMjAyNDwvdGV4dD4KPGNpcmNsZSBjeD0iNzAiIGN5PSIxMjAiIHI9IjE1IiBmaWxsPSIjZjU5ZTBiIi8+CjxjaXJjbGUgY3g9IjIzMCIgY3k9IjEyMCIgcj0iMTUiIGZpbGw9IiNlZjQ0NDQiLz4KPHRleHQgeD0iMTUwIiB5PSIxMzAiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgZmlsbD0iIzM3NDE1MSIgdGV4dC1hbmNob3I9Im1pZGRsZSI+Sm9pbiB1cyBmb3IgZm9vZCwgZnVuLCBhbmQgY29tbXVuaXR5ITwvdGV4dD4KPC9zdmc+",description:"Festive fall event invitation",elements:[{type:"header",content:"Fall Festival 2024",style:{fontSize:"42px",fontWeight:"bold",color:"#d97706",textAlign:"center",padding:"25px",backgroundColor:"#fef3c7",borderRadius:"8px",width:"100%",marginBottom:"20px"}},{type:"text",content:"Join us for food, fun, and community spirit! Games, prizes, delicious treats, and memories for the whole family.",style:{fontSize:"20px",color:"#374151",textAlign:"center",padding:"20px",lineHeight:"1.5",width:"100%"}}]},{id:"event-announcement",name:"Event Announcement",category:"Events",thumbnail:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDMwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIzMDAiIGhlaWdodD0iMjAwIiBmaWxsPSIjZmVlMmUyIi8+CjxyZWN0IHg9IjIwIiB5PSIyMCIgd2lkdGg9IjI2MCIgaGVpZ2h0PSI0MCIgZmlsbD0iI2RjMjYyNiIgcng9IjQiLz4KPHRleHQgeD0iMTUwIiB5PSI0NSIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgZmlsbD0id2hpdGUiIHRleHQtYW5jaG9yPSJtaWRkbGUiPlNwZWNpYWwgRXZlbnQ8L3RleHQ+Cjxwb2x5Z29uIHBvaW50cz0iMTUwLDgwIDEzNSwxMTAgMTY1LDExMCIgZmlsbD0iI2RjMjYyNiIvPgo8dGV4dCB4PSIxNTAiIHk9IjE0MCIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBmaWxsPSIjMzc0MTUxIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIj5Kb2luIHVzIGZvciBhbiB1bmZvcmdldHRhYmxlIGV4cGVyaWVuY2UhPC90ZXh0Pgo8L3N2Zz4=",description:"Eye-catching event announcement",elements:[{type:"header",content:"Important Announcement",style:{fontSize:"38px",fontWeight:"bold",color:"#dc2626",textAlign:"center",padding:"25px",backgroundColor:"#fee2e2",borderRadius:"8px",width:"100%",marginBottom:"20px"}},{type:"text",content:"Join us for an unforgettable experience! Mark your calendars for this special event.",style:{fontSize:"18px",color:"#374151",textAlign:"center",padding:"20px",lineHeight:"1.6",width:"100%"}}]}],ve=()=>{switch(h){case"professional":return X;case"basic":return ae;case"my":return j;case"shared":return L;default:return ae}},me=fe=>{try{if(console.log("Using template:",fe),!fe)throw new Error("No template provided");let ee;if(fe.elements)ee=fe.elements;else if(fe.design_json)try{ee=typeof fe.design_json=="string"?JSON.parse(fe.design_json):fe.design_json}catch(Ie){throw console.error("Failed to parse template design_json:",Ie,fe.design_json),new Error("Invalid template data format")}else throw new Error("Template is missing design data");if(!Array.isArray(ee))throw console.error("Template data is not an array:",ee),new Error("Invalid template data structure");if(ee.length===0){console.warn("Template has no elements"),tn.warning("This template is empty");return}const tt=ee.map((Ie,gt)=>{var wt;if(!Ie||typeof Ie!="object")throw console.error("Invalid element in template:",Ie),new Error("Invalid element in template");return console.log("Processing element:",Ie),{...Ie,id:`element_${Date.now()}_${gt}`,x:Ie.x||20,y:Ie.y||20+gt*80,style:{...Ie.style,width:((wt=Ie.style)==null?void 0:wt.width)||"100%"}}});console.log("Setting canvas with elements:",tt),t(tt),r(null),tn.success("Template loaded successfully!")}catch(ee){console.error("Template error:",ee),tn.error("Failed to load template: "+ee.message)}},Ee=[{type:"header",label:"Heading",icon:OI,defaultContent:"New Header",defaultStyle:{fontSize:"24px",fontWeight:"bold",color:"#172845"}},{type:"text",label:"Text Block",icon:AI,defaultContent:"New Text Block",defaultStyle:{fontSize:"16px",color:"#374151"}},{type:"image",label:"Image",icon:SC,defaultSrc:"https://via.placeholder.com/400x200",defaultStyle:{width:"100%",borderRadius:"8px"}},{type:"button",label:"Button",icon:NI,defaultContent:"New Button",defaultStyle:{backgroundColor:"#2563eb",color:"#fff",padding:"12px 32px",borderRadius:"6px",display:"inline-block"}},{type:"divider",label:"Divider",icon:PI,defaultStyle:{borderTop:"2px solid #e5e7eb",margin:"16px 0"}}],ke=({element:fe})=>{const[{isDragging:ee},tt]=I8(()=>({type:"element",item:{elementType:fe.type,defaultContent:fe.defaultContent||"",defaultSrc:fe.defaultSrc||"",defaultStyle:fe.defaultStyle||{}},collect:gt=>({isDragging:gt.isDragging()})}),[fe]),Ie=fe.icon;return y.jsx("div",{ref:tt,className:`p-3 border border-gray-200 rounded-lg cursor-move hover:bg-gray-50 transition-colors ${ee?"opacity-50 bg-blue-100":""}`,children:y.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[y.jsx(Ie,{className:"w-6 h-6 text-gray-600"}),y.jsx("span",{className:"text-sm text-gray-700",children:fe.label}),ee&&y.jsx("span",{className:"text-xs text-blue-600 font-medium",children:"Dragging..."})]})})},He=(fe,ee)=>{t(tt=>{const Ie=[...tt],[gt]=Ie.splice(fe,1);return Ie.splice(ee,0,gt),Ie})},Re=({element:fe,isSelected:ee,onSelect:tt,onUpdate:Ie,index:gt,moveElement:wt})=>{var Zt,Bt,dr,Er,Or;const[Ct,At]=ye.useState(!1),Ft=ye.useRef(null),[{isDragging:lr},nr,vr]=I8(()=>({type:"canvas-element",item:{id:fe.id,index:gt},collect:Ir=>({isDragging:Ir.isDragging()})}),[fe,gt]),[,Rr]=R8({accept:"canvas-element",hover:(Ir,or)=>{if(!Ft.current)return;const Kr=Ir.index,an=gt;Kr!==an&&(wt(Kr,an),Ir.index=an)}});nr(Rr(Ft));const Lr=()=>{(fe.type==="text"||fe.type==="header")&&At(!0)},ge=Ir=>{Ie({...fe,content:Ir}),At(!1)},We={width:fe.type==="button"?"100%":fe.containerWidth||"100%",backgroundColor:fe.type==="button"||(Zt=fe.style)==null?void 0:Zt.backgroundColor,padding:fe.type==="button"?void 0:((Bt=fe.style)==null?void 0:Bt.padding)||"10px",margin:((dr=fe.style)==null?void 0:dr.margin)||"0px",borderRadius:fe.type==="button"?void 0:((Er=fe.style)==null?void 0:Er.borderRadius)||"0px",cursor:lr?"move":"pointer",outline:ee?"2px solid #3b82f6":"none",outlineOffset:"2px",boxSizing:"border-box",position:"relative",zIndex:fe.zIndex||1,opacity:lr?.5:1},et={width:"100%",display:"flex",justifyContent:fe.justification||"center",alignItems:"center"},mt={...fe.style,width:((Or=fe.style)==null?void 0:Or.textWidth)||"auto",backgroundColor:void 0,padding:void 0,margin:void 0,borderRadius:void 0};return y.jsxs("div",{ref:Ft,style:We,onClick:()=>tt(fe),onDoubleClick:Lr,className:"canvas-element",children:[y.jsx("div",{style:et,children:Rt()}),ee&&y.jsxs("div",{className:"absolute -top-6 -left-1 text-xs bg-blue-600 text-white px-2 py-1 rounded flex items-center space-x-2 z-20",children:[y.jsx("span",{children:fe.type}),y.jsx("button",{onClick:Ir=>{Ir.stopPropagation(),t(or=>or.filter(Kr=>Kr.id!==fe.id)),r(null)},className:"text-white hover:text-red-200 text-xs",title:"Delete element",children:"×"})]})]});function Rt(){var Ir,or,Kr,an,mr,Xr,gr,Vr,er,sn,xr,ln,qr,un,wr,$,oe,J,Fe,it,qt,fn;try{switch(fe.type){case"text":return Ct?y.jsx("textarea",{value:fe.content,onChange:dt=>ge(dt.target.value),onBlur:()=>At(!1),className:"w-full bg-transparent border-none outline-none resize-none",style:{...mt,minHeight:"100px"},autoFocus:!0}):y.jsx("div",{style:mt,children:fe.content.split(`
`).map((dt,ie)=>y.jsx("div",{children:dt},ie))});case"header":return Ct?y.jsx("input",{type:"text",value:fe.content,onChange:dt=>ge(dt.target.value),onBlur:()=>At(!1),onKeyPress:dt=>dt.key==="Enter"&&At(!1),className:"w-full bg-transparent border-none outline-none",style:{...mt,fontSize:"inherit",fontWeight:"inherit"},autoFocus:!0}):y.jsx("h1",{style:mt,children:fe.content});case"image":return y.jsx("img",{src:fe.src,alt:"Design element",style:{...mt,maxWidth:((Ir=fe.style)==null?void 0:Ir.width)||"100%",height:"auto",objectFit:"cover"},onError:dt=>{dt.target.src="https://via.placeholder.com/400x200/f3f4f6/6b7280?text=Image+Placeholder"}});case"charm":case"emoji":case"icon":return y.jsx("div",{style:{...mt,display:"flex",alignItems:"center",justifyContent:"center",padding:((or=fe.style)==null?void 0:or.padding)||"10px",backgroundColor:((Kr=fe.style)==null?void 0:Kr.backgroundColor)||"transparent"},className:"charm-container",children:y.jsx("span",{role:"img","aria-label":fe.label,style:{fontSize:((an=fe.style)==null?void 0:an.fontSize)||"32px",lineHeight:1},children:fe.content})});case"button":const br={...mt,backgroundColor:((mr=fe.style)==null?void 0:mr.backgroundColor)||"#3b82f6",color:((Xr=fe.style)==null?void 0:Xr.color)||"white",padding:((gr=fe.style)==null?void 0:gr.padding)||"15px 30px",borderRadius:((Vr=fe.style)==null?void 0:Vr.borderRadius)||"8px",border:"none",fontSize:((er=fe.style)==null?void 0:er.fontSize)||"16px",fontWeight:((sn=fe.style)==null?void 0:sn.fontWeight)||"600",cursor:"pointer",transition:"all 0.2s",width:"auto",minWidth:"200px"};return y.jsx("div",{style:{display:"flex",justifyContent:fe.justification||"center",width:"100%"},children:y.jsx("button",{style:br,children:fe.content})});case"divider":return y.jsx("hr",{style:{...mt,border:"none",height:((xr=fe.style)==null?void 0:xr.height)||"2px",backgroundColor:((ln=fe.style)==null?void 0:ln.backgroundColor)||"#e5e7eb",margin:((qr=fe.style)==null?void 0:qr.margin)||"20px 0"}});case"shape":return y.jsx("div",{style:{...mt,width:((un=fe.style)==null?void 0:un.width)||"60px",height:((wr=fe.style)==null?void 0:wr.height)||"60px",backgroundColor:(($=fe.style)==null?void 0:$.backgroundColor)||"#fbbf24",borderRadius:((oe=fe.style)==null?void 0:oe.borderRadius)||"0",margin:((J=fe.style)==null?void 0:J.margin)||"0 auto"}});case"spacer":return y.jsx("div",{style:{...mt,height:((Fe=fe.style)==null?void 0:Fe.height)||"32px",width:"100%"}});case"quote":return y.jsx("blockquote",{style:{...mt,fontStyle:"italic",padding:((it=fe.style)==null?void 0:it.padding)||"16px",backgroundColor:((qt=fe.style)==null?void 0:qt.backgroundColor)||"#f3f4f6",borderRadius:((fn=fe.style)==null?void 0:fn.borderRadius)||"8px"},children:fe.content});case"list":return y.jsx("div",{style:mt,children:fe.content.split(`
`).map((dt,ie)=>y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[y.jsx("span",{children:"•"}),y.jsx("span",{children:dt})]},ie))});default:return console.warn(`Unknown element type: ${fe.type}`),y.jsxs("div",{style:mt,children:["Unknown element type: ",fe.type]})}}catch(br){return console.error("Error rendering element:",br,fe),y.jsx("div",{style:{...mt,color:"red",padding:"10px",border:"1px solid red"},children:"Error rendering element"})}}},se=()=>{let fe=ve();return _!=="all"&&(fe=fe.filter(ee=>ee.category.toLowerCase()===_.toLowerCase())),x&&(fe=fe.filter(ee=>ee.name.toLowerCase().includes(x.toLowerCase())||ee.description.toLowerCase().includes(x.toLowerCase()))),fe},ce=()=>{const fe=ve(),ee=["all"],tt={all:fe.length};return fe.forEach(Ie=>{const gt=Ie.category.toLowerCase();ee.includes(gt)||(ee.push(gt),tt[gt]=0),tt[gt]++}),ee.map(Ie=>({id:Ie,name:Ie==="all"?"All Templates":Ie.charAt(0).toUpperCase()+Ie.slice(1),count:tt[Ie]}))},$e=fe=>{if(!e)return;const ee={...fe};"backgroundColor"in ee&&(ee.backgroundColor=he(ee.backgroundColor)),"color"in ee&&(ee.color=he(ee.color));const tt={...e,style:{...e.style,...ee}};t(Ie=>Ie.map(gt=>gt.id===e.id?tt:gt)),r(tt)};ye.useEffect(()=>{let fe;const ee=()=>{try{const tt=JSON.stringify(n);localStorage.setItem("pto-advanced-design-canvas",tt),localStorage.setItem("pto-advanced-design-timestamp",Date.now().toString()),console.log("Design autosaved")}catch(tt){console.error("Error autosaving design:",tt)}};return fe&&clearTimeout(fe),fe=setTimeout(ee,1e3),()=>{fe&&clearTimeout(fe)}},[n]),ye.useEffect(()=>{try{const fe=localStorage.getItem("pto-advanced-design-canvas"),ee=localStorage.getItem("pto-advanced-design-timestamp");if(fe&&ee){const tt=JSON.parse(fe),Ie=parseInt(ee);Date.now()-Ie<24*60*60*1e3&&(t(tt),console.log("Restored autosaved design"))}}catch(fe){console.error("Error restoring autosaved design:",fe)}},[]);const[Ue,Te]=ye.useState(!1);ye.useEffect(()=>{const fe=ee=>{console.error("AdvancedDesignStudio error:",ee),Te(!0)};return window.addEventListener("error",fe),()=>window.removeEventListener("error",fe)},[]),ye.useEffect(()=>{const fe=ee=>{ee.preventDefault(),ee.returnValue=""};return window.addEventListener("beforeunload",fe),()=>window.removeEventListener("beforeunload",fe)},[]),ye.useEffect(()=>{localStorage.setItem("pto-advanced-design-canvas",JSON.stringify(n)),w(fe=>{if(fe.length>0&&JSON.stringify(fe[fe.length-1])===JSON.stringify(n))return fe;const ee=[...fe,n];return ee.length>5?ee.slice(ee.length-5):ee}),A([])},[n]);const ft=()=>{w(fe=>fe.length<2?fe:(A(ee=>[n,...ee].slice(0,5)),t(fe[fe.length-2]),fe.slice(0,fe.length-1)))},Q=()=>{A(fe=>fe.length===0?fe:(w(ee=>[...ee,fe[0]].slice(-5)),t(fe[0]),fe.slice(1)))},de=()=>{localStorage.setItem("pto-advanced-design-canvas",JSON.stringify(n)),console.log("Draft saved!")},Ce=()=>{const[{isOver:fe,canDrop:ee},tt]=R8(()=>({accept:"element",drop:(Ie,gt)=>{const wt={id:`element_${Date.now()}_${Math.random()}`,type:Ie.elementType,content:Ie.defaultContent||"New Content",src:Ie.defaultSrc||"",style:{...Ie.defaultStyle},justification:"center"};t(Ct=>[...Ct,wt]),r(wt)},collect:Ie=>({isOver:Ie.isOver(),canDrop:Ie.canDrop()})}),[]);return y.jsxs("div",{ref:Ie=>{tt(Ie),T.current=Ie},className:"relative bg-white border-2 border-dashed border-gray-300 rounded-lg min-h-[600px] transition-colors flex flex-col items-stretch"+(fe?" border-blue-500 bg-blue-50":"")+(ee?" border-green-400":""),style:{transform:`scale(${i/100})`,transformOrigin:"top left",width:"100%",maxWidth:"800px",margin:"0 auto"},children:[n.map((Ie,gt)=>y.jsx("div",{className:"w-full flex",style:{justifyContent:Ie.justification||"center"},children:y.jsx(Re,{element:Ie,isSelected:(e==null?void 0:e.id)===Ie.id,onSelect:()=>r(Ie),onUpdate:wt=>{t(Ct=>Ct.map(At=>At.id===Ie.id?wt:At)),r(wt)},index:gt,moveElement:He})},Ie.id)),n.length===0&&y.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-gray-400",children:y.jsxs("div",{className:"text-center",children:[y.jsx(SC,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),y.jsx("p",{className:"text-lg",children:"Drag elements here to start designing"}),y.jsx("p",{className:"text-sm",children:"Choose from templates or build from scratch"}),y.jsxs("div",{className:"mt-4 text-xs bg-gray-100 p-2 rounded",children:["Canvas: ",n.length," elements | Can Drop: ",ee?"Yes":"No"]})]})})]})};if(Ue)return y.jsx("div",{className:"h-screen bg-gray-100 flex items-center justify-center",children:y.jsxs("div",{className:"text-center",children:[y.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Communication Designer Error"}),y.jsx("p",{className:"text-gray-600 mb-4",children:"There was an issue loading the design studio."}),y.jsx("button",{onClick:()=>{Te(!1),window.location.reload()},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Reload Page"})]})});const De=fe=>{if(console.log("Template selected:",fe),!fe){console.error("No template selected");return}try{f(!1),setTimeout(()=>{me(fe)},100)}catch(ee){console.error("Error in template selection:",ee),tn.error("Failed to select template: "+ee.message)}},Ke=({templates:fe})=>I?y.jsx("div",{className:"flex items-center justify-center h-64",children:y.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):!fe||fe.length===0?y.jsx("div",{className:"text-center py-8",children:y.jsx("p",{className:"text-gray-500",children:"No templates found"})}):y.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 p-4",children:fe.map(ee=>y.jsxs("div",{className:"relative group cursor-pointer border border-gray-200 rounded-lg overflow-hidden hover:border-blue-500 transition-colors",onClick:()=>De(ee),children:[ee.thumbnail_url?y.jsx("img",{src:ee.thumbnail_url,alt:ee.name,className:"w-full h-32 object-cover",onError:tt=>{tt.target.src="https://via.placeholder.com/300x200?text=Template+Preview"}}):y.jsx("div",{className:"w-full h-32 bg-gray-100 flex items-center justify-center",children:y.jsx("span",{className:"text-gray-400",children:"No Preview"})}),y.jsxs("div",{className:"p-3 bg-white",children:[y.jsx("h3",{className:"font-medium text-gray-900 truncate",children:ee.name}),y.jsx("p",{className:"text-sm text-gray-500 truncate",children:ee.description||"No description"})]}),y.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:y.jsx("button",{className:"bg-white text-gray-900 px-4 py-2 rounded-lg text-sm font-medium hover:bg-gray-100 transition-colors",children:"Use Template"})})]},ee.id))}),je=({charm:fe,onClick:ee})=>y.jsxs("button",{onClick:()=>ee(fe),className:"flex flex-col items-center justify-center p-4 rounded-lg border border-gray-200 hover:border-blue-500 hover:bg-blue-50 transition-all w-full h-full gap-2",children:[y.jsx("span",{className:"text-2xl",children:fe.content}),y.jsx("span",{className:"text-sm text-center text-gray-600",children:fe.label})]}),Ze=()=>y.jsx("div",{className:"grid grid-cols-2 gap-4 p-4",children:charms.map(fe=>y.jsx(je,{charm:fe,onClick:ee=>{const tt={id:Date.now(),type:"charm",content:ee.content,label:ee.label,style:{fontSize:"32px",textAlign:"center"}};t(Ie=>[...Ie,tt])}},fe.id))}),Ye=["Event","Fundraising","Newsletter","Announcement","Holiday","Appreciation","Other"],bt=({isOpen:fe,onClose:ee})=>fe?y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:y.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[y.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Save as Template"}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Template Name *"}),y.jsx("input",{type:"text",value:G.name,onChange:tt=>W(Ie=>({...Ie,name:tt.target.value})),className:"w-full p-2 border border-gray-300 rounded-md",placeholder:"Enter template name"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category *"}),y.jsxs("select",{value:G.category,onChange:tt=>W(Ie=>({...Ie,category:tt.target.value})),className:"w-full p-2 border border-gray-300 rounded-md",children:[y.jsx("option",{value:"",children:"Select a category"}),Ye.map(tt=>y.jsx("option",{value:tt,children:tt},tt))]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),y.jsx("textarea",{value:G.description,onChange:tt=>W(Ie=>({...Ie,description:tt.target.value})),className:"w-full p-2 border border-gray-300 rounded-md",placeholder:"Enter template description (optional)",rows:"3"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sharing Level"}),y.jsxs("select",{value:G.sharing_level,onChange:tt=>W(Ie=>({...Ie,sharing_level:tt.target.value})),className:"w-full p-2 border border-gray-300 rounded-md",children:[y.jsx("option",{value:"private",children:"Private"}),y.jsx("option",{value:"organization",children:"Organization"}),y.jsx("option",{value:"public",children:"Public"})]})]})]}),y.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[y.jsx("button",{onClick:ee,className:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-900",children:"Cancel"}),y.jsx("button",{onClick:()=>{Z(),ee()},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm font-medium",children:"Save Template"})]})]})}):null;return y.jsxs("div",{className:"flex flex-col h-full",children:[y.jsx("div",{className:"flex items-center justify-between p-4 border-b",children:y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx("button",{onClick:()=>ft(),disabled:C.length<2,className:"p-2 text-gray-600 hover:text-gray-900 disabled:opacity-50",title:"Undo",children:"↩"}),y.jsx("button",{onClick:()=>Q(),disabled:N.length===0,className:"p-2 text-gray-600 hover:text-gray-900 disabled:opacity-50",title:"Redo",children:"↪"}),y.jsx("button",{onClick:()=>t([]),className:"px-3 py-1 text-sm border border-gray-300 rounded hover:bg-gray-100",children:"Clear"}),y.jsx("button",{onClick:()=>de(),className:"px-3 py-1 text-sm border border-gray-300 rounded hover:bg-gray-100",children:"Save"}),y.jsx("button",{onClick:()=>setPreviewMode(!0),className:"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700",children:"Preview"}),y.jsx("button",{onClick:()=>c(!0),className:"px-3 py-1 text-sm bg-purple-600 text-white rounded hover:bg-purple-700",children:"Stella"}),y.jsx("button",{onClick:()=>F(!0),className:"px-3 py-1 text-sm bg-green-600 text-white rounded hover:bg-green-700",children:"Save as Template"})]})}),y.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[y.jsxs("div",{className:"w-64 border-r bg-white overflow-y-auto flex flex-col",children:[y.jsx("div",{className:"p-4 border-b",children:y.jsxs("div",{className:"flex space-x-2",children:[y.jsx("button",{onClick:()=>s("elements"),className:`flex-1 px-3 py-1 text-sm rounded ${a==="elements"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700"}`,children:"Elements"}),y.jsx("button",{onClick:()=>s("templates"),className:`flex-1 px-3 py-1 text-sm rounded ${a==="templates"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700"}`,children:"Templates"})]})}),a==="elements"&&y.jsxs("div",{className:"flex-1 overflow-y-auto",children:[y.jsx("div",{className:"p-4 space-y-4",children:Ee.map(fe=>y.jsx(ke,{element:fe},fe.type))}),Ze()]}),a==="templates"&&y.jsxs("div",{className:"flex-1 overflow-y-auto",children:[y.jsxs("div",{className:"p-4",children:[y.jsx("input",{type:"text",placeholder:"Search templates...",value:x,onChange:fe=>b(fe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md mb-4"}),y.jsxs("select",{value:_,onChange:fe=>S(fe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md mb-4",children:[y.jsx("option",{value:"all",children:"All Categories"}),ce().map(fe=>y.jsx("option",{value:fe,children:fe},fe))]})]}),y.jsx(Ke,{templates:se()})]})]}),y.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50 p-8",children:y.jsx(z8e,{backend:LNe,children:y.jsx(Ce,{})})}),y.jsx("div",{className:"w-64 border-l bg-white overflow-y-auto",children:e?y.jsxs("div",{className:"p-4",children:[y.jsx("h3",{className:"font-medium text-gray-900 mb-4",children:"Element Properties"}),y.jsxs("div",{className:"space-y-4",children:[e.type!=="divider"&&y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Content"}),y.jsx("textarea",{value:e.content,onChange:fe=>{const ee={...e,content:fe.target.value};t(tt=>tt.map(Ie=>Ie.id===e.id?ee:Ie)),r(ee)},className:"w-full p-2 border border-gray-300 rounded-md",rows:"3"})]}),e.type==="image"&&y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image URL"}),y.jsx("input",{type:"text",value:e.src,onChange:fe=>{const ee={...e,src:fe.target.value};t(tt=>tt.map(Ie=>Ie.id===e.id?ee:Ie)),r(ee)},className:"w-full p-2 border border-gray-300 rounded-md"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Font Size"}),y.jsx("input",{type:"text",value:((Ut=e.style)==null?void 0:Ut.fontSize)||"16px",onChange:fe=>$e({fontSize:fe.target.value}),className:"w-full p-2 border border-gray-300 rounded-md"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Color"}),y.jsx("input",{type:"text",value:((kt=e.style)==null?void 0:kt.color)||"#000000",onChange:fe=>$e({color:fe.target.value}),className:"w-full p-2 border border-gray-300 rounded-md"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Background Color"}),y.jsx("input",{type:"text",value:((Oe=e.style)==null?void 0:Oe.backgroundColor)||"transparent",onChange:fe=>$e({backgroundColor:fe.target.value}),className:"w-full p-2 border border-gray-300 rounded-md"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Alignment"}),y.jsxs("select",{value:e.justification||"center",onChange:fe=>{const ee={...e,justification:fe.target.value};t(tt=>tt.map(Ie=>Ie.id===e.id?ee:Ie)),r(ee)},className:"w-full p-2 border border-gray-300 rounded-md",children:[y.jsx("option",{value:"flex-start",children:"Left"}),y.jsx("option",{value:"center",children:"Center"}),y.jsx("option",{value:"flex-end",children:"Right"})]})]}),y.jsx("button",{onClick:()=>{t(fe=>fe.filter(ee=>ee.id!==e.id)),r(null)},className:"w-full px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Delete Element"})]})]}):y.jsx("div",{className:"p-4 text-gray-500 text-center",children:"Select an element to edit its properties"})})]}),y.jsx(bt,{isOpen:V,onClose:()=>F(!1)})]})};function INe(){const[n,t]=ye.useState([]),[e,r]=ye.useState("");return ye.useEffect(()=>{async function i(){const{data:{session:o}}=await jr.auth.getSession();if(!(o!=null&&o.access_token)){r("Authentication required.");return}try{const a=await fetch("/api/teacher-requests",{headers:{Authorization:`Bearer ${o.access_token}`}}),s=await a.json();a.ok?t(s):r(s.error||"Failed to load teacher requests.")}catch(a){console.error("Fetch error:",a),r("Error connecting to server.")}}i()},[]),y.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsx("h1",{className:"text-2xl font-bold",children:"Teacher Requests"}),y.jsx(iu,{to:"/teacher-requests/create",className:"bg-blue-600 text-white px-4 py-2 rounded",children:"+ New Request"})]}),e&&y.jsx("p",{className:"text-red-600",children:e}),n.length===0&&!e&&y.jsx("p",{children:"No teacher requests found."}),y.jsx("ul",{className:"space-y-4",children:n.map(i=>y.jsxs("li",{className:"border p-4 rounded shadow-sm bg-white",children:[y.jsx("h2",{className:"text-xl font-semibold",children:i.title}),y.jsxs("p",{className:"text-sm text-gray-500",children:["By ",i.teacher_name," (",i.grade_or_subject,")"]}),y.jsx("p",{className:"mt-2",children:i.description}),i.amount_requested&&y.jsxs("p",{className:"mt-2 text-blue-800 font-semibold",children:["Requested: $",parseFloat(i.amount_requested).toFixed(2)]})]},i.id))})]})}function RNe(){const[n,t]=ye.useState({title:"",description:"",amount_requested:"",teacher_name:"",grade_or_subject:""}),[e,r]=ye.useState(""),[i,o]=ye.useState(""),a=l=>{const{name:c,value:u}=l.target;t(f=>({...f,[c]:u}))},s=async l=>{l.preventDefault();const{data:{session:c}}=await jr.auth.getSession();if(!(c!=null&&c.access_token)){o("You must be logged in to submit a request.");return}try{const u=await fetch("/api/teacher-requests",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c.access_token}`},body:JSON.stringify(n)}),f=await u.json();u.ok?(r("Request submitted successfully!"),o(""),t({})):(o(f.error||"Failed to submit request"),r(""))}catch(u){console.error("Submit error:",u),o("Network error or server unavailable")}};return y.jsxs("div",{className:"max-w-xl mx-auto p-4",children:[y.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Submit Teacher Request"}),y.jsxs("form",{onSubmit:s,className:"space-y-4",children:[y.jsx("input",{name:"title",value:n.title||"",onChange:a,placeholder:"Title",className:"w-full border p-2",required:!0}),y.jsx("textarea",{name:"description",value:n.description||"",onChange:a,placeholder:"Description",className:"w-full border p-2"}),y.jsx("input",{type:"number",name:"amount_requested",value:n.amount_requested||"",onChange:a,placeholder:"Amount Requested",className:"w-full border p-2"}),y.jsx("input",{name:"teacher_name",value:n.teacher_name||"",onChange:a,placeholder:"Teacher Name",className:"w-full border p-2"}),y.jsx("input",{name:"grade_or_subject",value:n.grade_or_subject||"",onChange:a,placeholder:"Grade or Subject",className:"w-full border p-2"}),y.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded",type:"submit",children:"Submit"}),e&&y.jsx("p",{className:"text-green-600",children:e}),i&&y.jsx("p",{className:"text-red-600",children:i})]})]})}function FNe(){const[n,t]=ye.useState(!1),[e,r]=ye.useState(""),[i,o]=ye.useState("monthly"),a=async()=>{var s;t(!0),r("");try{const c=(s=(await jr.auth.getSession()).data.session)==null?void 0:s.access_token;if(!c){r("User session not found."),t(!1);return}const u=await fetch("https://api.ptoconnect.com/api/api/stripe/create-checkout-session",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c}`},body:JSON.stringify({plan:i})});if(!u.ok){const h=await u.text();throw console.error("Stripe error response:",h),new Error("Stripe request failed.")}const f=await u.json();f!=null&&f.url?window.location.href=f.url:r("Checkout session failed to start.")}catch(l){console.error("Checkout error:",l),r("An error occurred during checkout.")}finally{t(!1)}};return y.jsxs("div",{className:"max-w-xl mx-auto p-6",children:[y.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Start Your PTO Connect Subscription"}),y.jsx("p",{className:"mb-4",children:"Subscribe now to unlock all features for your PTO group."}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block font-medium mb-1",children:"Choose a plan:"}),y.jsxs("select",{className:"border p-2 rounded w-full",value:i,onChange:s=>o(s.target.value),children:[y.jsx("option",{value:"monthly",children:"Monthly - $29/month"}),y.jsx("option",{value:"annual",children:"Annual - $299/year"})]})]}),y.jsx("button",{onClick:a,disabled:n,className:"bg-blue-600 text-white px-4 py-2 rounded",children:n?"Redirecting…":"Subscribe Now"}),e&&y.jsx("p",{className:"text-red-600 mt-4",children:e})]})}function BNe(){return y.jsxs("div",{className:"max-w-xl mx-auto p-6 text-center",children:[y.jsx("h1",{className:"text-2xl font-bold text-green-600 mb-4",children:"Subscription Successful!"}),y.jsx("p",{className:"text-gray-700",children:"Thank you for subscribing to PTO Connect. Your account is now active."})]})}function HNe(){return y.jsxs("div",{className:"max-w-xl mx-auto p-6 text-center",children:[y.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Checkout Canceled"}),y.jsx("p",{className:"text-gray-700",children:"You canceled the checkout process. No charges were made."})]})}function $Ne(){const[n,t]=ye.useState(""),[e,r]=ye.useState(""),[i,o]=ye.useState(""),[a,s]=ye.useState(""),l=Oa(),c=()=>{if(s(""),!n||!e){s("PTO Name and School Name are required.");return}const u={ptoName:n,schoolName:e,districtName:i};sessionStorage.setItem("pendingPto",JSON.stringify(u)),l("/onboarding/pricing")};return y.jsxs("div",{className:"max-w-xl mx-auto p-6",children:[y.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Create Your PTO"}),y.jsx("p",{className:"text-gray-700 mb-6",children:"Let's start by getting your organization set up. Enter your PTO's info below."}),y.jsx("input",{className:"border p-2 w-full mb-4",type:"text",placeholder:"PTO Name",value:n,onChange:u=>t(u.target.value)}),y.jsx("input",{className:"border p-2 w-full mb-4",type:"text",placeholder:"School Name",value:e,onChange:u=>r(u.target.value)}),y.jsx("input",{className:"border p-2 w-full mb-4",type:"text",placeholder:"District Name (optional)",value:i,onChange:u=>o(u.target.value)}),y.jsx("button",{onClick:c,className:"bg-blue-600 text-white px-4 py-2 rounded w-full",children:"Continue to Plan Selection"}),a&&y.jsx("p",{className:"text-red-600 mt-4",children:a})]})}function UNe(){const[n,t]=ye.useState(null),[e,r]=ye.useState([]),[i,o]=ye.useState("");Oa(),ye.useEffect(()=>{const s=sessionStorage.getItem("pendingPto");s?t(JSON.parse(s)):o("Missing PTO info. Please start again."),fetch("/api/stripe/get-prices").then(l=>l.json()).then(r).catch(()=>o("Could not load pricing. Please try again."))},[]);const a=async(s,l)=>{try{const u=await(await fetch("/api/stripe/create-checkout-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({priceId:s,ptoMetadata:n,plan:l==="annual_plan"?"annual":"monthly"})})).json();u.url?window.location.href=u.url:o("Unable to start checkout session.")}catch{o("Stripe checkout error.")}};return y.jsxs("div",{className:"max-w-xl mx-auto p-6",children:[y.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Choose Your Plan"}),i&&y.jsx("p",{className:"text-red-600 mb-4",children:i}),y.jsx("div",{className:"space-y-4",children:e.map(s=>y.jsxs("button",{onClick:()=>a(s.id,s.lookup_key),className:"w-full py-3 rounded bg-blue-600 text-white hover:bg-blue-700",children:[s.nickname||s.lookup_key," – $",s.amount,"/",s.interval]},s.id))})]})}function VNe(){const[n]=MI(),t=Oa(),[e,r]=ye.useState({adminName:"",adminEmail:"",adminPassword:"",confirmPassword:""}),[i,o]=ye.useState(null),[a,s]=ye.useState(!1),[l,c]=ye.useState("");ye.useEffect(()=>{const h=n.get("session_id"),d=sessionStorage.getItem("pendingPto");if(!d){c("Missing PTO information. Please start the signup process again.");return}o(JSON.parse(d)),h&&sessionStorage.setItem("stripeSessionId",h)},[n]);const u=h=>{r({...e,[h.target.name]:h.target.value})},f=async h=>{if(h.preventDefault(),c(""),s(!0),!e.adminName||!e.adminEmail||!e.adminPassword){c("All fields are required."),s(!1);return}if(e.adminPassword!==e.confirmPassword){c("Passwords do not match."),s(!1);return}if(e.adminPassword.length<6){c("Password must be at least 6 characters."),s(!1);return}try{const d=sessionStorage.getItem("stripeSessionId"),m=await oo.post("/signup/complete",{ptoName:i.ptoName,schoolName:i.schoolName,adminName:e.adminName,adminEmail:e.adminEmail,adminPassword:e.adminPassword,stripeSessionId:d});m.success?(sessionStorage.removeItem("pendingPto"),sessionStorage.removeItem("stripeSessionId"),t("/onboarding/next-steps",{state:{organization:m.organization}})):c(m.error||"Failed to create account.")}catch(d){console.error("Signup error:",d),c("Failed to create account. Please try again.")}finally{s(!1)}};return i?y.jsxs("div",{className:"max-w-md mx-auto p-6",children:[y.jsxs("div",{className:"text-center mb-6",children:[y.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Complete Your Setup"}),y.jsxs("p",{className:"text-gray-600",children:["Creating ",y.jsx("strong",{children:i.ptoName})," at ",i.schoolName]})]}),y.jsxs("form",{onSubmit:f,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Full Name"}),y.jsx("input",{type:"text",name:"adminName",value:e.adminName,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your full name",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),y.jsx("input",{type:"email",name:"adminEmail",value:e.adminEmail,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your email",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),y.jsx("input",{type:"password",name:"adminPassword",value:e.adminPassword,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Create a password",minLength:"6",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),y.jsx("input",{type:"password",name:"confirmPassword",value:e.confirmPassword,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Confirm your password",minLength:"6",required:!0})]}),l&&y.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:l}),y.jsx("button",{type:"submit",disabled:a,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Creating Account...":"Complete Setup"})]}),y.jsx("div",{className:"mt-6 text-center text-sm text-gray-500",children:y.jsx("p",{children:"By creating an account, you agree to our Terms of Service and Privacy Policy."})})]}):y.jsxs("div",{className:"max-w-md mx-auto p-6 text-center",children:[y.jsx("h1",{className:"text-2xl font-bold mb-4 text-red-600",children:"Setup Error"}),y.jsx("p",{className:"text-gray-700 mb-4",children:"Missing PTO information. Please start the signup process again."}),y.jsx("button",{onClick:()=>t("/onboarding/create-pto"),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Start Over"})]})}function zNe(){const n=Oa(),[t,e]=ye.useState({ptoName:"",schoolName:"",adminName:"",adminEmail:"",adminPassword:"",confirmPassword:""}),[r,i]=ye.useState(!1),[o,a]=ye.useState(""),[s,l]=ye.useState(null),c=f=>{e({...t,[f.target.name]:f.target.value})},u=async f=>{var h;if(f.preventDefault(),a(""),i(!0),!t.ptoName||!t.schoolName||!t.adminName||!t.adminEmail||!t.adminPassword){a("All fields are required."),i(!1);return}if(t.adminPassword!==t.confirmPassword){a("Passwords do not match."),i(!1);return}if(t.adminPassword.length<6){a("Password must be at least 6 characters."),i(!1);return}try{const d=await oo.post("/signup/complete",{ptoName:t.ptoName,schoolName:t.schoolName,adminName:t.adminName,adminEmail:t.adminEmail,adminPassword:t.adminPassword});d.data&&d.data.success?(l(d.data.organization),a("")):a(((h=d.data)==null?void 0:h.error)||"Failed to create account.")}catch(d){console.error("Signup error:",d),a("Failed to create account. Please try again.")}finally{i(!1)}};return s?y.jsxs("div",{className:"max-w-md mx-auto p-6 text-center",children:[y.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6 mb-6",children:[y.jsx("h1",{className:"text-2xl font-bold text-green-800 mb-4",children:"Success! 🎉"}),y.jsxs("p",{className:"text-green-700 mb-4",children:["Your organization ",y.jsx("strong",{children:s.name})," has been created successfully!"]}),y.jsxs("div",{className:"bg-white border border-green-300 rounded p-4 mb-4",children:[y.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Your signup code:"}),y.jsx("p",{className:"text-lg font-mono font-bold text-green-800",children:s.signup_code})]}),y.jsx("p",{className:"text-sm text-green-600",children:"Share this code with other members to join your organization."})]}),y.jsxs("div",{className:"space-y-3",children:[y.jsx("button",{onClick:()=>n("/login"),className:"w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700",children:"Go to Login"}),y.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-gray-200 text-gray-800 py-2 px-4 rounded hover:bg-gray-300",children:"Create Another Organization"})]})]}):y.jsxs("div",{className:"max-w-md mx-auto p-6",children:[y.jsxs("div",{className:"text-center mb-6",children:[y.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Create Your PTO Organization"}),y.jsx("p",{className:"text-gray-600",children:"Set up your PTO and create your admin account"})]}),y.jsxs("form",{onSubmit:u,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"PTO Name"}),y.jsx("input",{type:"text",name:"ptoName",value:t.ptoName,onChange:c,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Lincoln Elementary PTO",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"School Name"}),y.jsx("input",{type:"text",name:"schoolName",value:t.schoolName,onChange:c,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Lincoln Elementary School",required:!0})]}),y.jsx("hr",{className:"my-4"}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Full Name"}),y.jsx("input",{type:"text",name:"adminName",value:t.adminName,onChange:c,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your full name",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),y.jsx("input",{type:"email",name:"adminEmail",value:t.adminEmail,onChange:c,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your email",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),y.jsx("input",{type:"password",name:"adminPassword",value:t.adminPassword,onChange:c,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Create a password",minLength:"6",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),y.jsx("input",{type:"password",name:"confirmPassword",value:t.confirmPassword,onChange:c,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Confirm your password",minLength:"6",required:!0})]}),o&&y.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:o}),y.jsx("button",{type:"submit",disabled:r,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:r?"Creating Organization...":"Create Organization"})]}),y.jsxs("div",{className:"mt-6 text-center text-sm text-gray-500",children:[y.jsx("p",{children:"This will create a trial organization (14 days)"}),y.jsxs("p",{className:"mt-2",children:["Already have an account? ",y.jsx("a",{href:"/login",className:"text-blue-600 hover:underline",children:"Login here"})]})]})]})}function WNe(){var a;const n=Y8(),t=Oa(),[e,r]=ye.useState(!1),i=(a=n.state)==null?void 0:a.organization,o=()=>{i!=null&&i.signup_code&&(navigator.clipboard.writeText(i.signup_code),r(!0),setTimeout(()=>r(!1),2e3))};return i?y.jsxs("div",{className:"max-w-2xl mx-auto p-6",children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsx(K8,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),y.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome to PTO Connect!"}),y.jsxs("p",{className:"text-lg text-gray-600",children:["Your organization ",y.jsx("strong",{children:i.name})," has been successfully created."]})]}),y.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-8",children:[y.jsx("h2",{className:"text-xl font-semibold text-blue-900 mb-4",children:"Your Organization Details"}),y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{children:[y.jsx("span",{className:"font-medium text-blue-800",children:"Organization Name:"}),y.jsx("span",{className:"ml-2 text-blue-700",children:i.name})]}),y.jsxs("div",{children:[y.jsx("span",{className:"font-medium text-blue-800",children:"Organization ID:"}),y.jsx("span",{className:"ml-2 text-blue-700 font-mono text-sm",children:i.slug})]}),y.jsxs("div",{className:"flex items-center",children:[y.jsx("span",{className:"font-medium text-blue-800",children:"Signup Code:"}),y.jsx("span",{className:"ml-2 text-blue-700 font-mono text-lg font-bold",children:i.signup_code}),y.jsx("button",{onClick:o,className:"ml-2 p-1 text-blue-600 hover:text-blue-800",title:"Copy signup code",children:y.jsx(G8,{className:"w-4 h-4"})}),e&&y.jsx("span",{className:"ml-2 text-green-600 text-sm",children:"Copied!"})]})]})]}),y.jsxs("div",{className:"mb-8",children:[y.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Next Steps to Get Started"}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-gray-50 rounded-lg",children:[y.jsx(hg,{className:"w-6 h-6 text-blue-600 mt-1"}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-semibold text-gray-900",children:"Invite Your Team"}),y.jsxs("p",{className:"text-gray-600 text-sm",children:["Share your signup code ",y.jsx("strong",{children:i.signup_code})," with other PTO members, teachers, and parents so they can join your organization."]})]})]}),y.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-gray-50 rounded-lg",children:[y.jsx(jI,{className:"w-6 h-6 text-blue-600 mt-1"}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-semibold text-gray-900",children:"Configure Your Settings"}),y.jsx("p",{className:"text-gray-600 text-sm",children:"Set up your organization preferences, communication settings, and user roles."})]})]}),y.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-gray-50 rounded-lg",children:[y.jsx(sd,{className:"w-6 h-6 text-blue-600 mt-1"}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-semibold text-gray-900",children:"Create Your First Event"}),y.jsx("p",{className:"text-gray-600 text-sm",children:"Start engaging your community by creating your first PTO event or meeting."})]})]})]})]}),y.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[y.jsx("button",{onClick:()=>t("/login"),className:"flex-1 bg-blue-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"Go to Dashboard"}),y.jsx("button",{onClick:()=>t("/onboarding/create-pto"),className:"flex-1 bg-gray-200 text-gray-800 py-3 px-6 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Create Another PTO"})]}),y.jsxs("div",{className:"mt-8 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[y.jsx("h3",{className:"font-semibold text-yellow-800 mb-2",children:"Need Help?"}),y.jsx("p",{className:"text-yellow-700 text-sm",children:"Check out our getting started guide or contact support if you need assistance setting up your PTO organization."})]})]}):y.jsxs("div",{className:"max-w-md mx-auto p-6 text-center",children:[y.jsx("h1",{className:"text-2xl font-bold mb-4 text-red-600",children:"Setup Error"}),y.jsx("p",{className:"text-gray-700 mb-4",children:"Missing organization information. Please complete the signup process."}),y.jsx("button",{onClick:()=>t("/onboarding/create-pto"),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Start Setup"})]})}function qNe(){return y.jsxs(LI,{children:[y.jsx(ur,{path:"/",element:y.jsx(EC,{})}),y.jsx(ur,{path:"/login",element:y.jsx(EC,{})}),y.jsx(ur,{path:"/signup",element:y.jsx(sR,{})}),y.jsx(ur,{path:"/unauthorized",element:y.jsx(lR,{})}),y.jsx(ur,{path:"/onboarding/create-pto",element:y.jsx($Ne,{})}),y.jsx(ur,{path:"/onboarding/pricing",element:y.jsx(UNe,{})}),y.jsx(ur,{path:"/onboarding/complete-signup",element:y.jsx(VNe,{})}),y.jsx(ur,{path:"/onboarding/simple-signup",element:y.jsx(zNe,{})}),y.jsx(ur,{path:"/onboarding/next-steps",element:y.jsx(WNe,{})}),y.jsx(ur,{path:"/billing/success",element:y.jsx(BNe,{})}),y.jsx(ur,{path:"/billing/cancel",element:y.jsx(HNe,{})}),y.jsx(ur,{element:y.jsx(Lf,{allowedRoles:["admin","board_member","committee_lead","volunteer","parent_member","teacher"]}),children:y.jsx(ur,{element:y.jsx(Df,{}),children:y.jsx(ur,{path:"/dashboard",element:y.jsx(fR,{})})})}),y.jsx(ur,{element:y.jsx(Lf,{allowedRoles:["admin"]}),children:y.jsxs(ur,{element:y.jsx(Df,{}),children:[y.jsx(ur,{path:"/dashboard/admin",element:y.jsx(m2,{})}),y.jsx(ur,{path:"/admin/permissions",element:y.jsx(wR,{})}),y.jsx(ur,{path:"/admin/users",element:y.jsx(m2,{})}),y.jsx(ur,{path:"/admin/settings",element:y.jsx(m2,{})}),y.jsx(ur,{path:"/billing",element:y.jsx(FNe,{})}),y.jsx(ur,{path:"/events",element:y.jsx(AR,{})}),y.jsx(ur,{path:"/events/legacy",element:y.jsx(OR,{})}),y.jsx(ur,{path:"/events/create",element:y.jsx(EF,{})}),y.jsx(ur,{path:"/events/edit/:id",element:y.jsx(OF,{})}),y.jsx(ur,{path:"/events/calendar",element:y.jsx(cie,{})}),y.jsx(ur,{path:"/fundraisers",element:y.jsx(Zbe,{})}),y.jsx(ur,{path:"/fundraisers/create",element:y.jsx(EM,{})}),y.jsx(ur,{path:"/fundraisers/:id/edit",element:y.jsx(Jbe,{})}),y.jsx(ur,{path:"/fundraisers/:id/analytics",element:y.jsx(CM,{})}),y.jsx(ur,{path:"/budget",element:y.jsx(exe,{})}),y.jsx(ur,{path:"/budget/legacy",element:y.jsx(Qbe,{})}),y.jsx(ur,{path:"/budget/create",element:y.jsx(txe,{})}),y.jsx(ur,{path:"/budget/reconciliation",element:y.jsx(rxe,{})}),y.jsx(ur,{path:"/budget/reconciliation/new",element:y.jsx(b2e,{})}),y.jsx(ur,{path:"/budget/reconciliation/:id",element:y.jsx(kM,{})}),y.jsx(ur,{path:"/communications",element:y.jsx(S2e,{})}),y.jsx(ur,{path:"/communications/legacy",element:y.jsx(_2e,{})}),y.jsx(ur,{path:"/communications/create",element:y.jsx(T2e,{})}),y.jsx(ur,{path:"/communications/email",element:y.jsx($8,{})}),y.jsx(ur,{path:"/communications/sms",element:y.jsx(C2e,{})}),y.jsx(ur,{path:"/communications/social",element:y.jsx(E2e,{})}),y.jsx(ur,{path:"/communications/ai",element:y.jsx(O2e,{})}),y.jsx(ur,{path:"/communications/design-studio",element:y.jsx($8,{})}),y.jsx(ur,{path:"/communications/template-builder",element:y.jsx(y6e,{})}),y.jsx(ur,{path:"/documents",element:y.jsx(x6e,{})}),y.jsx(ur,{path:"/documents/upload",element:y.jsx(_6e,{})}),y.jsx(ur,{path:"/shared-library",element:y.jsx(T6e,{})}),y.jsx(ur,{path:"/ai-event-ideas",element:y.jsx(C6e,{})}),y.jsx(ur,{path:"/ai-workflow-orchestrator",element:y.jsx(O6e,{})})]})}),y.jsx(ur,{element:y.jsx(Lf,{allowedRoles:["teacher"]}),children:y.jsxs(ur,{element:y.jsx(Df,{}),children:[y.jsx(ur,{path:"/dashboard/teacher",element:y.jsx(ER,{})}),y.jsx(ur,{path:"/teacher-requests",element:y.jsx(INe,{})}),y.jsx(ur,{path:"/teacher-requests/create",element:y.jsx(RNe,{})})]})}),y.jsx(ur,{element:y.jsx(Lf,{allowedRoles:["board_member"]}),children:y.jsx(ur,{element:y.jsx(Df,{}),children:y.jsx(ur,{path:"/dashboard/board",element:y.jsx(_R,{})})})}),y.jsx(ur,{element:y.jsx(Lf,{allowedRoles:["committee_lead"]}),children:y.jsx(ur,{element:y.jsx(Df,{}),children:y.jsx(ur,{path:"/dashboard/committee",element:y.jsx(SR,{})})})}),y.jsx(ur,{element:y.jsx(Lf,{allowedRoles:["volunteer"]}),children:y.jsx(ur,{element:y.jsx(Df,{}),children:y.jsx(ur,{path:"/dashboard/volunteer",element:y.jsx(TR,{})})})}),y.jsx(ur,{element:y.jsx(Lf,{allowedRoles:["parent_member"]}),children:y.jsx(ur,{element:y.jsx(Df,{}),children:y.jsx(ur,{path:"/dashboard/parent",element:y.jsx(CR,{})})})})]})}J5.createRoot(document.getElementById("root")).render(y.jsx(Se.StrictMode,{children:y.jsx(DI,{children:y.jsx(qNe,{})})}));export{Gf as _};
//# sourceMappingURL=index-ClTeKumJ.js.map
