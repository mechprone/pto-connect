const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index.es-Cn22yw3N.js","assets/react-vendor-Bt2U2SF_.js","assets/ui-vendor-D4fvwvmP.js","assets/supabase-rDwCGHvF.js","assets/data-vendor-DOZe0KU-.js"])))=>i.map(i=>d[i]);
import{j as s,L as KP,B as XP,P as Se,S as _r,C as Lr,U as ca,E as zl,a as gn,T as rf,A as tp,b as Ur,c as JP,d as hS,D as Un,Z as a0,e as mS,f as Ia,M as Ma,g as lb,h as Ul,i as i0,X as rp,k as nf,F as cb,l as ub,m as Wl,n as P1,o as pS,p as gS,q as ZP,r as QP,s as e6,t as t6,u as r6,v as n6,w as a6,x as vS,y as i6,z as yS,G as s6,H as o6,I as l6,J as E1,K as Ti,N as c6,O as u6,Q as Ol,R as d6,V as k1,W as T1,Y as bS,_ as xS,$ as f6,a0 as wS,a1 as h6,a2 as m6}from"./ui-vendor-D4fvwvmP.js";import{b as p6,r as I,N as lv,O as db,u as ir,d as jS,L as Ac,g as Nt,e as z,c as sa,f as NS,h as As,i as SS,j as g6,k as ze,B as v6}from"./react-vendor-Bt2U2SF_.js";import{c as y6,_ as s0}from"./supabase-rDwCGHvF.js";import{a as si}from"./data-vendor-DOZe0KU-.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var o0={},C1=p6;o0.createRoot=C1.createRoot,o0.hydrateRoot=C1.hydrateRoot;const b6={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_URL:void 0,VITE_IS_PREVIEW:void 0,VITE_SUPABASE_ANON_KEY:void 0,VITE_SUPABASE_URL:void 0},x6=void 0,w6=void 0;console.error("❌ VITE_SUPABASE_URL is missing or undefined"),console.log("Available env vars:",Object.keys(b6).filter(e=>e.startsWith("VITE_")));console.error("❌ VITE_SUPABASE_ANON_KEY is missing or undefined");throw console.error("❌ Cannot initialize Supabase client - missing environment variables"),console.log("supabaseUrl:","missing"),console.log("supabaseAnonKey:","missing"),new Error("Supabase configuration is incomplete. Check environment variables.");const He=y6(x6,w6);function Os(){const[e,t]=I.useState(null),[r,n]=I.useState(null),[a,i]=I.useState(!0),[o,l]=I.useState(null);return I.useEffect(()=>{const m=async()=>{try{i(!0),l(null);const{data:{user:g},error:x}=await He.auth.getUser();if(x)throw x;if(!g){t(null),n(null),i(!1);return}const{data:b,error:y}=await He.from("profiles").select("*").eq("id",g.id).single();if(y)throw y;t(b);let N=null;if(b!=null&&b.org_id){const{data:_,error:w}=await He.from("organizations").select("*").eq("id",b.org_id).single();w||(N=_)}n(N)}catch(g){console.error("Error fetching user profile:",g),l(g.message)}finally{i(!1)}};m();const{data:{subscription:v}}=He.auth.onAuthStateChange((g,x)=>{g==="SIGNED_OUT"?(t(null),n(null)):g==="SIGNED_IN"&&x&&m()});return()=>v.unsubscribe()},[]),{profile:e,organization:r,loading:a,error:o,updateProfile:async m=>{try{const{data:v,error:g}=await He.from("profiles").update(m).eq("id",e.id).select().single();if(g)throw g;return t(x=>({...x,...v})),{data:v,error:null}}catch(v){return console.error("Error updating profile:",v),{data:null,error:v.message}}},hasRole:m=>(e==null?void 0:e.role)===m,hasAnyRole:m=>m.includes(e==null?void 0:e.role),isSubscriptionActive:()=>{if(!r)return!1;const{subscription_status:m,trial_ends_at:v}=r;return m==="active"||m==="trial"&&v&&new Date(v)>new Date},showRenewalBanner:()=>{if(!r)return!1;const{plan_type:m,subscription_status:v,cancel_at_period_end:g,current_period_end:x}=r;return!!(m==="annual"&&v==="active"&&g&&x&&new Date(x)-new Date<15*24*60*60*1e3)},isAuthenticated:!!e}}function fb({size:e="default",className:t=""}){const r={small:"h-4 w-4",default:"h-6 w-6",large:"h-8 w-8"};return s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(KP,{className:`animate-spin text-blue-600 ${r[e]} ${t}`})})}function Vs({allowedRoles:e}){const{profile:t,loading:r,isAuthenticated:n,isSubscriptionActive:a}=Os();return r?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx(fb,{size:"xl"})}):n?e&&!e.includes(t.role)?s.jsx(lv,{to:"/unauthorized",replace:!0}):!a()&&window.location.pathname!=="/billing"?s.jsx(lv,{to:"/billing",replace:!0}):s.jsx(db,{}):s.jsx(lv,{to:"/login",replace:!0})}const Hu="production",l0=Hu==="preview",L1={development:{apiUrl:"http://localhost:3000",clientUrl:"http://localhost:5173",supabaseUrl:void 0,supabaseAnonKey:void 0,stripePublishableKey:void 0},preview:{apiUrl:"http://localhost:3000",clientUrl:"https://preview.ptoconnect.com",supabaseUrl:void 0,supabaseAnonKey:void 0,stripePublishableKey:void 0},production:{apiUrl:"http://localhost:3000",clientUrl:"https://app.ptoconnect.com",supabaseUrl:void 0,supabaseAnonKey:void 0,stripePublishableKey:void 0}},j6=()=>({...L1[Hu]||L1.development,isPreview:l0,isProduction:Hu==="production",isDevelopment:Hu==="development",environment:Hu}),N6=()=>({baseURL:j6().apiUrl,timeout:3e4,headers:{"Content-Type":"application/json"}}),S6=()=>({level:"info",enableConsoleLogs:l0,enableNetworkLogs:l0,enablePerformanceLogs:!0}),Yu=N6(),cv=S6();console.log("[DEBUG] Environment config:",{apiUrl:Yu.baseURL,environment:"production",isPreview:!1});if(!Yu.baseURL)throw new Error("API URL is not configured! Please check your environment variables.");const Ar=si.create({baseURL:Yu.baseURL,timeout:Yu.timeout,headers:Yu.headers});Ar.interceptors.request.use(async e=>{try{const{data:{session:t}}=await He.auth.getSession();cv.enableNetworkLogs,t!=null&&t.access_token&&(e.headers.Authorization=`Bearer ${t.access_token}`),cv.enableNetworkLogs}catch(t){console.error("❌ [FRONTEND DEBUG] Error getting session:",t)}return e},e=>(console.error("❌ [FRONTEND DEBUG] Request interceptor error:",e),Promise.reject(e)));Ar.interceptors.response.use(e=>e,e=>{var t,r,n,a,i;return console.error("❌ [FRONTEND DEBUG] API Response error:",{url:(t=e.config)==null?void 0:t.url,status:(r=e.response)==null?void 0:r.status,statusText:(n=e.response)==null?void 0:n.statusText,errorData:(a=e.response)==null?void 0:a.data,errorMessage:e.message}),((i=e.response)==null?void 0:i.status)===401&&(console.warn("🚫 [FRONTEND DEBUG] Unauthorized - redirecting to login"),window.location.href="/login"),Promise.reject(e)});const Ue=async(e,t,r=null,n={})=>{var a,i,o,l,c,u,d;try{const f=await Ar({method:e,url:t,data:r,...n});return f.data&&typeof f.data=="object"&&"success"in f.data?f.data.success?{data:f.data.data,error:null}:{data:null,error:((i=(a=f.data.errors)==null?void 0:a[0])==null?void 0:i.message)||"An error occurred"}:{data:f.data,error:null}}catch(f){console.error(`API Error (${e} ${t}):`,f);let h="An error occurred";return(o=f.response)!=null&&o.data&&typeof f.response.data=="object"&&"success"in f.response.data?h=((c=(l=f.response.data.errors)==null?void 0:l[0])==null?void 0:c.message)||h:h=((d=(u=f.response)==null?void 0:u.data)==null?void 0:d.message)||f.message||h,{data:null,error:h}}},_6={getProfile:()=>Ue("GET","/api/profiles/me"),updateProfile:e=>Ue("PUT","/api/profiles/me",e),getUsers:()=>Ue("GET","/api/profiles"),createUser:e=>Ue("POST","/api/admin-users",e),updateUser:(e,t)=>Ue("PUT",`/api/admin-users/${e}`,t),deleteUser:e=>Ue("DELETE",`/api/admin-users/${e}`)},kn={getEvents:()=>Ue("GET","/api/event"),getEvent:e=>Ue("GET",`/api/event/${e}`),createEvent:e=>Ue("POST","/api/event",e),updateEvent:(e,t)=>Ue("PUT",`/api/event/${e}`,t),deleteEvent:e=>Ue("DELETE",`/api/event/${e}`),rsvpEvent:(e,t)=>Ue("POST",`/api/event/${e}/rsvp`,{status:t}),getEventRSVPs:e=>Ue("GET",`/api/event/${e}/rsvps`),getEventSummary:e=>Ue("GET",`/api/events/${e}/summary`),getEventTasks:e=>Ue("GET",`/api/events/${e}/tasks`),createTask:(e,t)=>Ue("POST",`/api/events/${e}/tasks`,t),updateTask:(e,t,r)=>Ue("PUT",`/api/events/${e}/tasks/${t}`,r),deleteTask:(e,t)=>Ue("DELETE",`/api/events/${e}/tasks/${t}`),getEventMilestones:e=>Ue("GET",`/api/events/${e}/milestones`),createMilestone:(e,t)=>Ue("POST",`/api/events/${e}/milestones`,t),updateMilestone:(e,t,r)=>Ue("PUT",`/api/events/${e}/milestones/${t}`,r),deleteMilestone:(e,t)=>Ue("DELETE",`/api/events/${e}/milestones/${t}`),getEventIssues:e=>Ue("GET",`/api/events/${e}/issues`),createIssue:(e,t)=>Ue("POST",`/api/events/${e}/issues`,t),updateIssue:(e,t,r)=>Ue("PUT",`/api/events/${e}/issues/${t}`,r),deleteIssue:(e,t)=>Ue("DELETE",`/api/events/${e}/issues/${t}`),getEventSponsorships:e=>Ue("GET",`/api/events/${e}/sponsorships`),createSponsorship:(e,t)=>Ue("POST",`/api/events/${e}/sponsorships`,t),updateSponsorship:(e,t,r)=>Ue("PUT",`/api/events/${e}/sponsorships/${t}`,r),deleteSponsorship:(e,t)=>Ue("DELETE",`/api/events/${e}/sponsorships/${t}`),getTaskDependencies:(e,t)=>Ue("GET",`/api/events/${e}/tasks/${t}/dependencies`),createTaskDependency:(e,t,r)=>Ue("POST",`/api/events/${e}/tasks/${t}/dependencies`,r),deleteTaskDependency:(e,t,r)=>Ue("DELETE",`/api/events/${e}/tasks/${t}/dependencies/${r}`),getTaskComments:(e,t)=>Ue("GET",`/api/events/${e}/tasks/${t}/comments`),createTaskComment:(e,t,r)=>Ue("POST",`/api/events/${e}/tasks/${t}/comments`,r),updateTaskComment:(e,t,r,n)=>Ue("PUT",`/api/events/${e}/tasks/${t}/comments/${r}`,n),deleteTaskComment:(e,t,r)=>Ue("DELETE",`/api/events/${e}/tasks/${t}/comments/${r}`)},Da={getFundraisers:()=>Ue("GET","/fundraiser"),getFundraiser:e=>Ue("GET",`/fundraiser/${e}`),createFundraiser:e=>Ue("POST","/fundraiser",e),updateFundraiser:(e,t)=>Ue("PUT",`/fundraiser/${e}`,t),deleteFundraiser:e=>Ue("DELETE",`/fundraiser/${e}`),getDonations:e=>Ue("GET",`/fundraiser/${e}/donations`),getFundraiserAnalytics:(e,t)=>Ue("GET",`/fundraiser/${e}/analytics${t?`?${new URLSearchParams(t)}`:""}`),getAllFundraisersAnalytics:e=>Ue("GET",`/fundraiser/analytics${e?`?${new URLSearchParams(e)}`:""}`),getAnalyticsOverview:e=>Ue("GET",`/fundraiser/analytics/overview${e?`?${new URLSearchParams(e)}`:""}`),getAnalyticsTrends:e=>Ue("GET",`/fundraiser/analytics/trends${e?`?${new URLSearchParams(e)}`:""}`),getAnalyticsDonorRetention:e=>Ue("GET",`/fundraiser/analytics/donor-retention${e?`?${new URLSearchParams(e)}`:""}`),getAnalyticsCampaigns:e=>Ue("GET",`/fundraiser/analytics/campaigns${e?`?${new URLSearchParams(e)}`:""}`),addDonation:(e,t)=>Ue("POST","/fundraiser/analytics/donations",{...t,fundraiser_id:e}),getFundraiserTopDonor:e=>Ue("GET",`/fundraiser/${e}/top-donor`),getDonationTiers:e=>Ue("GET",`/fundraiser/${e}/tiers`),createDonationTier:(e,t)=>Ue("POST",`/fundraiser/${e}/tiers`,t),updateDonationTier:(e,t,r)=>Ue("PUT",`/fundraiser/${e}/tiers/${t}`,r),deleteDonationTier:(e,t)=>Ue("DELETE",`/fundraiser/${e}/tiers/${t}`),getAnalyticsYears:()=>Ue("GET","/fundraiser/analytics/years"),getDonorYears:()=>Ue("GET","/fundraiser/donors/years"),getDonorData:(e,t,r,n)=>Ue("GET",`/fundraiser/donors${t||r||n?`?${new URLSearchParams({year:t,fundraiserId:r,type:n})}`:""}`),getDonorTypes:()=>Ue("GET","/fundraiser/donor-types")},bs={generateEventIdeas:e=>Ue("POST","/event-ideas",{prompt:e}),generateContent:(e,t,r,n=!1)=>Ue("POST","/ai/generate",{type:e,prompt:t,context:r,includeRecommendations:n}),analyzeContext:(e,t="general")=>Ue("POST","/ai/analyze-context",{orgId:e,analysisType:t}),analyzeEventWorkflow:(e,t)=>Ue("POST","/ai/analyze-event-workflow",{eventData:e,orgId:t}),analyzeDocument:e=>Ue("POST",`/ai/analyze-document/${e}`),chatWithDocuments:e=>Ue("POST","/ai/chat",{query:e}),generateComprehensiveWorkflow:async(e,t,r)=>{try{console.log("🌟 [API] Generating comprehensive workflow..."),console.log("📊 [API] Event data:",e),console.log("🎯 [API] Stella context:",t),console.log("🔧 [API] Module integrations:",r);const n=await Ue("POST","/stella/generate-comprehensive-workflow",{eventData:e,stellaContext:t,moduleIntegrations:r});return console.log("✅ [API] Workflow generation response:",n),n}catch(n){throw console.error("❌ [API] Workflow generation failed:",n),n}},getWorkflowDetails:e=>Ue("GET",`/stella/workflow/${e}`),listWorkflows:()=>Ue("GET","/stella/workflows")};function _S(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=_S(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function vt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=_S(e))&&(n&&(n+=" "),n+=t);return n}function A6(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}A6(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var hb=e=>typeof e=="number"&&!isNaN(e),ad=e=>typeof e=="string",AS=e=>typeof e=="function",O6=e=>ad(e)||hb(e),P6=e=>I.isValidElement(e)||ad(e)||AS(e)||hb(e),E6=1,OS=()=>`${E6++}`,ui=new Map,c0=[],M1=new Set,PS=()=>ui.size>0,k6=(e,{containerId:t})=>{var r;return(r=ui.get(t||1))==null?void 0:r.toasts.get(e)};function T6(e,t){var r;if(t)return!!((r=ui.get(t))!=null&&r.isToastActive(e));let n=!1;return ui.forEach(a=>{a.isToastActive(e)&&(n=!0)}),n}function C6(e){if(!PS()){c0=c0.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||O6(e))ui.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=ui.get(e.containerId);t?t.removeToast(e.id):ui.forEach(r=>{r.removeToast(e.id)})}}var L6=(e={})=>{ui.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function M6(e,t){P6(e)&&(PS()||c0.push({content:e,options:t}),ui.forEach(r=>{r.buildToast(e,t)}))}function ES(e,t){ui.forEach(r=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===r.id)&&r.toggle(e,t==null?void 0:t.id)})}function $6(e){return M1.add(e),()=>{M1.delete(e)}}function D6(e){return e&&(ad(e.toastId)||hb(e.toastId))?e.toastId:OS()}function af(e,t){return M6(e,t),t.toastId}function np(e,t){return{...t,type:t&&t.type||e,toastId:D6(t)}}function ap(e){return(t,r)=>af(t,np(e,r))}function lt(e,t){return af(e,np("default",t))}lt.loading=(e,t)=>af(e,np("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function I6(e,{pending:t,error:r,success:n},a){let i;t&&(i=ad(t)?lt.loading(t,a):lt.loading(t.render,{...a,...t}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(u,d,f)=>{if(d==null){lt.dismiss(i);return}let h={type:u,...o,...a,data:f},m=ad(d)?{render:d}:d;return i?lt.update(i,{...h,...m}):lt(m.render,{...h,...m}),f},c=AS(e)?e():e;return c.then(u=>l("success",n,u)).catch(u=>l("error",r,u)),c}lt.promise=I6;lt.success=ap("success");lt.info=ap("info");lt.error=ap("error");lt.warning=ap("warning");lt.warn=lt.warning;lt.dark=(e,t)=>af(e,np("default",{theme:"dark",...t}));function R6(e){C6(e)}lt.dismiss=R6;lt.clearWaitingQueue=L6;lt.isActive=T6;lt.update=(e,t={})=>{let r=k6(e,t);if(r){let{props:n,content:a}=r,i={delay:100,...n,...t,toastId:t.toastId||e,updateId:OS()};i.toastId!==e&&(i.staleId=e);let o=i.render||a;delete i.render,af(o,i)}};lt.done=e=>{lt.update(e,{progress:1})};lt.onChange=$6;lt.play=e=>ES(!0,e);lt.pause=e=>ES(!1,e);const Ra=(e,t="An error occurred")=>(console.error("Error:",e),lt.error(t),!1),bo=(e="Operation successful")=>(lt.success(e),!0);function F6(){const[e,t]=I.useState([]),[r,n]=I.useState(!1),[a,i]=I.useState(null),[o,l]=I.useState(!1),c=async()=>{try{n(!0);const{data:f}=await Ar.get("/api/notifications");t(f),i(null)}catch(f){i("Failed to fetch notifications"),Ra(f,"Failed to fetch notifications")}finally{n(!1)}},u=async f=>{try{n(!0),await Ar.put(`/notifications/${f}/read`),t(e.map(h=>h.id===f?{...h,read:!0}:h)),bo("Notification marked as read")}catch(h){Ra(h,"Failed to update notification")}finally{n(!1)}},d=async()=>{try{n(!0),await Ar.delete("/notifications/clear-all"),t([]),bo("All notifications cleared")}catch(f){Ra(f,"Failed to clear notifications")}finally{n(!1)}};return I.useEffect(()=>{c()},[]),r?s.jsx(fb,{size:"sm"}):s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>l(!o),className:"p-2 rounded-full hover:bg-gray-100 focus:outline-none",children:[s.jsx(XP,{className:"h-6 w-6 text-gray-600"}),e.length>0&&s.jsx("span",{className:"absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white transform translate-x-1/2 -translate-y-1/2 bg-red-500 rounded-full",children:e.length})]}),o&&s.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg z-50",children:[s.jsx("div",{className:"p-4 border-b",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Notifications"}),e.length>0&&s.jsx("button",{onClick:d,className:"text-sm text-gray-500 hover:text-gray-700",children:"Clear all"})]})}),s.jsx("div",{className:"max-h-96 overflow-y-auto",children:e.length===0?s.jsx("div",{className:"p-4 text-center text-gray-500",children:"No notifications"}):e.map(f=>s.jsxs("div",{className:`p-4 border-b hover:bg-gray-50 cursor-pointer ${f.read?"":"bg-blue-50"}`,onClick:()=>u(f.id),children:[s.jsx("p",{className:"text-sm",children:f.message}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(f.created_at).toLocaleString()})]},f.id))})]})]})}function B6(){const e=ir(),t=async()=>{await He.auth.signOut(),localStorage.removeItem("access_token"),e("/login")};return s.jsx("button",{onClick:t,className:"text-sm bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded",children:"Logout"})}const q6=[{to:"/dashboard/admin",label:"Dashboard",roles:["admin"]},{to:"/events",label:"Events",roles:["admin","teacher","parent_member"]},{to:"/fundraisers",label:"Fundraisers",roles:["admin","treasurer"]},{to:"/budget",label:"Budget",roles:["admin","treasurer"]},{to:"/communications",label:"Communications",roles:["admin","committee_lead","teacher"]},{to:"/teacher-requests",label:"Teacher Requests",roles:["admin","teacher"]},{to:"/billing",label:"Billing",roles:["admin"]}];function z6({role:e}){const t=jS(),r=q6.filter(n=>n.roles.includes(e));return s.jsx("aside",{className:"w-64 bg-white border-r shadow-sm hidden md:block",children:s.jsx("nav",{className:"px-4 py-6 space-y-2",children:r.map(n=>s.jsx(Ac,{to:n.to,className:`block px-3 py-2 rounded text-sm font-medium ${t.pathname===n.to?"bg-blue-100 text-blue-700":"text-gray-700 hover:bg-gray-100"}`,children:n.label},n.to))})})}function U6(){return s.jsxs("footer",{className:"text-xs text-gray-500 text-center py-4 border-t bg-white",children:["PTO Connect © ",new Date().getFullYear()," — Need help? Visit our support page."]})}function W6(){const{showRenewalBanner:e,organization:t}=Os();return e()?s.jsxs("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-800 p-4 mb-4 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Annual Subscription Expiring Soon:"})," Your annual subscription will expire on"," ",s.jsx("span",{className:"font-semibold",children:t!=null&&t.current_period_end?new Date(t.current_period_end).toLocaleDateString():"soon"}),". Please renew to avoid interruption."]}),s.jsx("a",{href:"/billing",className:"ml-4 px-4 py-2 bg-yellow-500 text-white rounded hover:bg-yellow-600 transition-colors",children:"Renew Now"})]}):null}function Ys(){const[e,t]=I.useState(null),[r,n]=I.useState(null);return I.useEffect(()=>{async function a(){const{data:{user:i}}=await He.auth.getUser();t(i);const{data:o}=await He.from("profiles").select("role").eq("id",i.id).single();n(o==null?void 0:o.role)}a()},[]),!e||!r?null:s.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[s.jsxs("header",{className:"bg-white shadow-sm px-6 py-4 flex justify-between items-center w-full",children:[s.jsx("span",{className:"text-xl font-bold text-blue-700",children:"PTO Connect"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(F6,{}),s.jsx(B6,{})]})]}),s.jsx(W6,{}),s.jsxs("div",{className:"flex flex-1",children:[s.jsx(z6,{role:r}),s.jsx("main",{className:"flex-1 p-6",children:s.jsx(db,{})})]}),s.jsx(U6,{})]})}const H6={admin:"/dashboard/admin",board_member:"/dashboard/board",committee_lead:"/dashboard/committee",volunteer:"/dashboard/volunteer",parent_member:"/dashboard/parent",teacher:"/dashboard/teacher"},G6=e=>H6[e]||"/dashboard";function $1(){const[e,t]=I.useState(""),[r,n]=I.useState(""),[a,i]=I.useState(""),[o,l]=I.useState(!1),c=ir(),u=async d=>{if(d&&d.preventDefault(),console.log("🔍 [LOGIN DEBUG] Login attempt started"),console.log("🔍 [LOGIN DEBUG] Email:",e),l(!0),i(""),!e||!r){console.log("❌ [LOGIN DEBUG] Missing email or password"),i("Email and password are required."),l(!1);return}console.log("🔍 [LOGIN DEBUG] Calling Supabase signInWithPassword...");const{data:f,error:h}=await He.auth.signInWithPassword({email:e,password:r});if(console.log("🔍 [LOGIN DEBUG] Supabase response:",{user:!!(f!=null&&f.user),session:!!(f!=null&&f.session),error:h}),h||!(f!=null&&f.user)){console.error("❌ [LOGIN DEBUG] Login error:",h),i((h==null?void 0:h.message)||"Login failed."),l(!1);return}const m=f.user;console.log("🔍 [LOGIN DEBUG] User authenticated:",{id:m.id,email:m.email,user_metadata:m.user_metadata}),console.log("🔍 [LOGIN DEBUG] Fetching user profile...");const{data:v,error:g}=await He.from("profiles").select("role, org_id, approved").eq("id",m.id).single();if(console.log("🔍 [LOGIN DEBUG] Profile query result:",{profile:v,profileError:g}),g||!v){console.error("❌ [LOGIN DEBUG] Profile fetch error:",g),i("Unable to load user profile. Please contact support."),l(!1);return}if(!v.approved){console.log("❌ [LOGIN DEBUG] User not approved"),i("Your account is pending approval. Please contact an administrator."),l(!1);return}const x=v.role;if(console.log("🔍 [LOGIN DEBUG] User role:",x),!x){console.log("❌ [LOGIN DEBUG] No role assigned"),i("Your account does not have a role assigned."),l(!1);return}console.log("🔍 [LOGIN DEBUG] Getting dashboard route for role:",x);const b=G6(x);console.log("🔍 [LOGIN DEBUG] Navigating to:",b),c(b),l(!1)};return s.jsxs("div",{className:"p-6 max-w-md mx-auto",children:[s.jsx("h1",{className:"text-xl font-bold mb-4",children:"Log In"}),s.jsxs("form",{onSubmit:u,className:"space-y-4",children:[s.jsx("input",{className:"border p-2 w-full rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",type:"email",value:e,onChange:d=>t(d.target.value),placeholder:"Email",required:!0,disabled:o,autoComplete:"email"}),s.jsx("input",{className:"border p-2 w-full rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",type:"password",value:r,onChange:d=>n(d.target.value),placeholder:"Password",required:!0,disabled:o,autoComplete:"current-password"}),s.jsx("button",{type:"submit",disabled:o,className:"bg-blue-600 text-white px-4 py-2 rounded w-full hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o?"Logging in...":"Log In"}),a&&s.jsx("p",{className:"text-red-500 mt-2",children:a})]})]})}const V6=["admin","treasurer","board_member"];function Y6(){const[e,t]=I.useState(""),[r,n]=I.useState(""),[a,i]=I.useState(""),[o,l]=I.useState("parent_member"),[c,u]=I.useState(""),[d,f]=I.useState(""),h=async()=>{if(u(""),f(""),!e||!r||!a||!o){u("All fields are required.");return}const{data:m,error:v}=await He.from("organizations").select("id").ilike("signup_code",a).single();if(v||!(m!=null&&m.id)){console.error("PTO code lookup failed:",v),u("Invalid PTO code. Please check with your organization.");return}const g=m.id,{data:x,error:b}=await He.auth.signUp({email:e,password:r,options:{data:{org_id:g,role:o}}});if(b||!(x!=null&&x.user)){console.error("Signup error:",b),u((b==null?void 0:b.message)||"Signup failed.");return}const y=x.user,N=!V6.includes(o),{data:_}=await He.from("profiles").select("id").eq("id",y.id).maybeSingle();if(_){console.warn("Profile already exists, skipping insert."),f("Signup successful! You can now log in.");return}const{error:w}=await He.from("profiles").insert([{id:y.id,email:e,org_id:g,role:o,approved:N}]);w?(console.error("Profile insert error:",w),u("Signup successful, but failed to save profile.")):(f(N?"Signup successful! You can now log in.":"Signup submitted. An admin must approve your role before you can access the system."),t(""),n(""),i(""),l("parent_member"))};return s.jsxs("div",{className:"p-6 max-w-md mx-auto",children:[s.jsx("h1",{className:"text-xl font-bold mb-4",children:"Sign Up"}),s.jsx("input",{className:"border p-2 w-full mb-2",type:"email",value:e,onChange:m=>t(m.target.value),placeholder:"Email",required:!0}),s.jsx("input",{className:"border p-2 w-full mb-2",type:"password",value:r,onChange:m=>n(m.target.value),placeholder:"Password",required:!0}),s.jsx("input",{className:"border p-2 w-full mb-2",type:"text",value:a,onChange:m=>i(m.target.value),placeholder:"PTO Code (e.g. abc123xy)",required:!0}),s.jsxs("select",{className:"border p-2 w-full mb-4",value:o,onChange:m=>l(m.target.value),required:!0,children:[s.jsx("option",{value:"parent_member",children:"Parent Member"}),s.jsx("option",{value:"teacher",children:"Teacher"}),s.jsx("option",{value:"volunteer",children:"Volunteer"}),s.jsx("option",{value:"committee_lead",children:"Committee Lead"}),s.jsx("option",{value:"board_member",children:"Board Member"}),s.jsx("option",{value:"treasurer",children:"Treasurer"}),s.jsx("option",{value:"admin",children:"Admin"})]}),s.jsx("button",{onClick:h,className:"bg-green-600 text-white px-4 py-2 rounded w-full",children:"Sign Up"}),c&&s.jsx("p",{className:"text-red-500 mt-2",children:c}),d&&s.jsx("p",{className:"text-green-600 mt-2",children:d})]})}function K6(){return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 p-6",children:s.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-8 max-w-md text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Access Denied"}),s.jsx("p",{className:"text-gray-700 mb-6",children:"You don’t have permission to view this page."}),s.jsx(Ac,{to:"/",className:"inline-block bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Return to Home"})]})})}const X6=()=>{var N,_,w,S;const{userProfile:e}=Os(),[t,r]=I.useState("membership"),[n,a]=I.useState("6months"),[i,o]=I.useState({membership:[],events:[],financial:[],engagement:[]}),[l,c]=I.useState(!0);I.useEffect(()=>{e!=null&&e.org_id&&u()},[e,n]);const u=async()=>{try{c(!0);const O=new Date,P=new Date;switch(n){case"3months":P.setMonth(O.getMonth()-3);break;case"6months":P.setMonth(O.getMonth()-6);break;case"1year":P.setFullYear(O.getFullYear()-1);break;default:P.setMonth(O.getMonth()-6)}const[T,F,k,C]=await Promise.all([d(P,O),f(P,O),h(P,O),m(P,O)]);o({membership:T,events:F,financial:k,engagement:C})}catch(O){console.error("Error fetching chart data:",O)}finally{c(!1)}},d=async(O,P)=>{const T=[],F=new Date(O);for(;F<=P;){const k=new Date(F.getFullYear(),F.getMonth(),1),C=new Date(F.getFullYear(),F.getMonth()+1,0),{count:D}=await He.from("profiles").select("*",{count:"exact",head:!0}).eq("org_id",e.org_id).lte("created_at",C.toISOString());T.push({month:k.toLocaleDateString("en-US",{month:"short"}),value:D||0,date:k}),F.setMonth(F.getMonth()+1)}return T},f=async(O,P)=>{const{data:T}=await He.from("events").select("event_date, title, status").eq("org_id",e.org_id).gte("event_date",O.toISOString()).lte("event_date",P.toISOString()).order("event_date"),F={};return T==null||T.forEach(k=>{const C=new Date(k.event_date).toLocaleDateString("en-US",{month:"short"});F[C]||(F[C]={total:0,completed:0}),F[C].total++,k.status==="completed"&&F[C].completed++}),Object.entries(F).map(([k,C])=>({month:k,total:C.total,completed:C.completed,success_rate:C.total>0?Math.round(C.completed/C.total*100):0}))},h=async(O,P)=>{const{data:T}=await He.from("budget_entries").select("amount, type, category, created_at").eq("org_id",e.org_id).gte("created_at",O.toISOString()).lte("created_at",P.toISOString()),F={};return T==null||T.forEach(k=>{F[k.category]||(F[k.category]={income:0,expenses:0}),k.type==="income"?F[k.category].income+=k.amount:F[k.category].expenses+=k.amount}),Object.entries(F).map(([k,C])=>({category:k,income:C.income,expenses:C.expenses,net:C.income-C.expenses}))},m=async(O,P)=>{const T=[],F=new Date(O);for(;F<=P;){const k=F.toLocaleDateString("en-US",{month:"short"}),C=65,D=Math.random()*20-10,M=Math.max(0,Math.min(100,C+D));T.push({month:k,engagement:Math.round(M),email_opens:Math.round(M*.8),event_attendance:Math.round(M*.6),volunteer_participation:Math.round(M*.4)}),F.setMonth(F.getMonth()+1)}return T},v=(O,P,T="#3B82F6")=>{if(!O||O.length===0)return null;const F=Math.max(...O.map(M=>M[P]||0)),k=Math.min(...O.map(M=>M[P]||0)),C=F-k||1,D=O.map((M,U)=>{const W=U/(O.length-1)*100,R=100-((M[P]||0)-k)/C*80-10;return`${W},${R}`}).join(" ");return s.jsxs("div",{className:"relative h-64 bg-gray-50 rounded-lg p-4",children:[s.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[s.jsx("polyline",{fill:"none",stroke:T,strokeWidth:"0.5",points:D}),O.map((M,U)=>{const W=U/(O.length-1)*100,R=100-((M[P]||0)-k)/C*80-10;return s.jsx("circle",{cx:W,cy:R,r:"1",fill:T},U)})]}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 flex justify-between text-xs text-gray-500 px-4",children:O.map((M,U)=>s.jsx("span",{children:M.month},U))}),s.jsxs("div",{className:"absolute left-0 top-0 bottom-0 flex flex-col justify-between text-xs text-gray-500 py-4",children:[s.jsx("span",{children:F}),s.jsx("span",{children:Math.round((F+k)/2)}),s.jsx("span",{children:k})]})]})},g=(O,P,T="#10B981")=>{if(!O||O.length===0)return null;const F=Math.max(...O.map(k=>k[P]||0));return s.jsx("div",{className:"relative h-64 bg-gray-50 rounded-lg p-4",children:s.jsx("div",{className:"flex items-end justify-between h-full space-x-2",children:O.map((k,C)=>{const D=F>0?(k[P]||0)/F*100:0;return s.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[s.jsx("div",{className:"w-full rounded-t",style:{height:`${D}%`,backgroundColor:T,minHeight:D>0?"4px":"0"}}),s.jsx("span",{className:"text-xs text-gray-500 mt-2",children:k.month})]},C)})})})},x=O=>{if(!O||O.length===0)return null;const P=O.reduce((k,C)=>k+Math.abs(C.net||0),0);let T=0;const F=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6"];return s.jsxs("div",{className:"relative h-64 flex items-center justify-center",children:[s.jsxs("svg",{className:"w-48 h-48",viewBox:"0 0 100 100",children:[O.map((k,C)=>{const M=(P>0?Math.abs(k.net||0)/P:0)*360,U=T,W=T+M,R=50+35*Math.cos(U*Math.PI/180),K=50+35*Math.sin(U*Math.PI/180),Y=50+35*Math.cos(W*Math.PI/180),Z=50+35*Math.sin(W*Math.PI/180),ae=M>180?1:0,$=["M 50 50",`L ${R} ${K}`,`A 35 35 0 ${ae} 1 ${Y} ${Z}`,"Z"].join(" ");return T+=M,s.jsx("path",{d:$,fill:F[C%F.length],opacity:.8},C)}),s.jsx("circle",{cx:"50",cy:"50",r:"20",fill:"white"})]}),s.jsx("div",{className:"absolute right-0 top-0 space-y-2",children:O.map((k,C)=>s.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[s.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:F[C%F.length]}}),s.jsx("span",{className:"text-gray-700",children:k.category})]},C))})]})},b=()=>{const O=i[t],P="data:text/csv;charset=utf-8,"+Object.keys(O[0]||{}).join(",")+`
`+O.map(k=>Object.values(k).join(",")).join(`
`),T=encodeURI(P),F=document.createElement("a");F.setAttribute("href",T),F.setAttribute("download",`${t}_analytics.csv`),document.body.appendChild(F),F.click(),document.body.removeChild(F)},y={membership:{title:"Membership Growth",description:"Track member acquisition and retention over time",dataKey:"value",color:"#3B82F6"},events:{title:"Event Performance",description:"Monitor event frequency and success rates",dataKey:"total",color:"#10B981"},financial:{title:"Financial Distribution",description:"Analyze income and expenses by category",dataKey:"net",color:"#F59E0B"},engagement:{title:"Member Engagement",description:"Measure community participation and activity",dataKey:"engagement",color:"#8B5CF6"}};return l?s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-4"}),s.jsx("div",{className:"h-64 bg-gray-200 rounded"})]})}):s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Analytics Dashboard"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("select",{value:n,onChange:O=>a(O.target.value),className:"px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"3months",children:"Last 3 Months"}),s.jsx("option",{value:"6months",children:"Last 6 Months"}),s.jsx("option",{value:"1year",children:"Last Year"})]}),s.jsx("button",{onClick:b,className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm hover:bg-blue-700 transition-colors",children:"Export CSV"})]})]}),s.jsx("div",{className:"flex space-x-1 bg-gray-100 rounded-lg p-1",children:Object.entries(y).map(([O,P])=>s.jsx("button",{onClick:()=>r(O),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${t===O?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:P.title},O))})]}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:y[t].title}),s.jsx("p",{className:"text-sm text-gray-600",children:y[t].description})]}),s.jsxs("div",{className:"mb-6",children:[t==="membership"&&v(i.membership,y.membership.dataKey,y.membership.color),t==="events"&&g(i.events,y.events.dataKey,y.events.color),t==="financial"&&x(i.financial),t==="engagement"&&v(i.engagement,y.engagement.dataKey,y.engagement.color)]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 pt-4 border-t border-gray-200",children:[t==="membership"&&i.membership.length>0&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:((N=i.membership[i.membership.length-1])==null?void 0:N.value)||0}),s.jsx("p",{className:"text-sm text-gray-600",children:"Current Members"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["+",i.membership.length>1?(((_=i.membership[i.membership.length-1])==null?void 0:_.value)||0)-(((w=i.membership[0])==null?void 0:w.value)||0):0]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Growth"})]})]}),t==="events"&&i.events.length>0&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-green-600",children:i.events.reduce((O,P)=>O+P.total,0)}),s.jsx("p",{className:"text-sm text-gray-600",children:"Total Events"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[i.events.length>0?Math.round(i.events.reduce((O,P)=>O+P.success_rate,0)/i.events.length):0,"%"]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Avg Success Rate"})]})]}),t==="financial"&&i.financial.length>0&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["$",i.financial.reduce((O,P)=>O+P.income,0).toLocaleString()]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Total Income"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"text-2xl font-bold text-red-600",children:["$",i.financial.reduce((O,P)=>O+P.expenses,0).toLocaleString()]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Total Expenses"})]})]}),t==="engagement"&&i.engagement.length>0&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[((S=i.engagement[i.engagement.length-1])==null?void 0:S.engagement)||0,"%"]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Current Engagement"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[i.engagement.length>0?Math.round(i.engagement.reduce((O,P)=>O+P.email_opens,0)/i.engagement.length):0,"%"]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Avg Email Opens"})]})]})]})]})]})},J6=()=>{const{userProfile:e}=Os(),[t,r]=I.useState([]),[n,a]=I.useState("all"),[i,o]=I.useState(!0);I.useEffect(()=>{e!=null&&e.org_id&&l()},[e]);const l=async()=>{try{o(!0);const y=[],N=await c();y.push(...N);const _=await u();y.push(..._);const w=await d();y.push(...w);const S=await f();y.push(...S),y.sort((O,P)=>{const T={high:3,medium:2,low:1};return T[O.priority]!==T[P.priority]?T[P.priority]-T[O.priority]:new Date(P.timestamp)-new Date(O.timestamp)}),r(y)}catch(y){console.error("Error generating smart notifications:",y)}finally{o(!1)}},c=async()=>{const y=[];try{const{data:N}=await He.from("budget_entries").select("amount, category, type").eq("org_id",e.org_id);if(N&&N.length>0){const _=N.filter(P=>P.type==="income").reduce((P,T)=>P+T.amount,0),w=N.filter(P=>P.type==="expense").reduce((P,T)=>P+T.amount,0),S=_>0?w/_*100:0;S>80?y.push({id:"budget-alert-1",type:"budget",priority:"high",title:"Budget Alert: Events Category",message:`Events budget is ${Math.round(S)}% spent with 3 months remaining. Consider reviewing upcoming event costs.`,timestamp:new Date().toISOString(),actionable:!0,actions:[{label:"Review Budget",action:"review_budget"},{label:"View Details",action:"view_details"}]}):S>60&&y.push({id:"budget-alert-2",type:"budget",priority:"medium",title:"Budget Tracking",message:`Budget is ${Math.round(S)}% utilized. On track for current period.`,timestamp:new Date().toISOString(),actionable:!1,actions:[]});const O=N.reduce((P,T)=>(P[T.category]||(P[T.category]={income:0,expenses:0}),T.type==="income"?P[T.category].income+=T.amount:P[T.category].expenses+=T.amount,P),{});Object.entries(O).forEach(([P,T])=>{const F=T.income>0?T.expenses/T.income*100:0;F>90&&y.push({id:`budget-category-${P}`,type:"budget",priority:"high",title:`${P} Budget Alert`,message:`${P} category is ${Math.round(F)}% spent. Immediate attention required.`,timestamp:new Date().toISOString(),actionable:!0,actions:[{label:"Review Category",action:"review_category"},{label:"Adjust Budget",action:"adjust_budget"}]})})}}catch(N){console.error("Error generating budget alerts:",N)}return y},u=async()=>{const y=[];try{const N=new Date;N.setDate(N.getDate()-30);const{count:_}=await He.from("profiles").select("*",{count:"exact",head:!0}).eq("org_id",e.org_id).gte("created_at",N.toISOString()),{count:w}=await He.from("profiles").select("*",{count:"exact",head:!0}).eq("org_id",e.org_id),S=w>0?_/w*100:0;S<5?y.push({id:"membership-growth-1",type:"membership",priority:"medium",title:"Membership Growth Trending Down",message:"New member registrations have decreased by 15% this month. Consider launching a recruitment campaign.",timestamp:new Date().toISOString(),actionable:!0,actions:[{label:"Start Campaign",action:"start_campaign"},{label:"View Analytics",action:"view_analytics"}]}):S>15&&y.push({id:"membership-growth-2",type:"membership",priority:"low",title:"Excellent Membership Growth",message:`Outstanding! New member registrations increased by ${Math.round(S)}% this month.`,timestamp:new Date().toISOString(),actionable:!1,actions:[]});const{count:O}=await He.from("profiles").select("*",{count:"exact",head:!0}).eq("org_id",e.org_id).gte("last_sign_in_at",N.toISOString()),P=w>0?O/w*100:0;P<40&&y.push({id:"engagement-alert-1",type:"engagement",priority:"medium",title:"Low Member Engagement",message:`Only ${Math.round(P)}% of members were active this month. Consider increasing communication frequency.`,timestamp:new Date().toISOString(),actionable:!0,actions:[{label:"Send Newsletter",action:"send_newsletter"},{label:"Plan Event",action:"plan_event"}]})}catch(N){console.error("Error generating membership insights:",N)}return y},d=async()=>{const y=[];try{const N=new Date;N.setDate(N.getDate()+7);const{data:_}=await He.from("events").select("id, title, event_date, volunteer_slots_needed, volunteer_slots_filled").eq("org_id",e.org_id).gte("event_date",new Date().toISOString()).lte("event_date",N.toISOString());_==null||_.forEach(O=>{const P=Math.ceil((new Date(O.event_date)-new Date)/864e5),T=(O.volunteer_slots_needed||0)-(O.volunteer_slots_filled||0);P<=3&&T>0?y.push({id:`event-volunteer-${O.id}`,type:"events",priority:"high",title:`Volunteer Shortage: ${O.title}`,message:`${O.title} in ${P} days needs ${T} more volunteers.`,timestamp:new Date().toISOString(),actionable:!0,actions:[{label:"Send Reminder",action:"send_reminder"},{label:"View Event",action:"view_event"}]}):P<=7&&y.push({id:`event-reminder-${O.id}`,type:"events",priority:"low",title:`Upcoming Event: ${O.title}`,message:`${O.title} is coming up in ${P} days. All preparations on track.`,timestamp:new Date().toISOString(),actionable:!1,actions:[]})});const{data:w}=await He.from("events").select("id, title, event_date, updated_at").eq("org_id",e.org_id).gte("event_date",new Date().toISOString()),S=new Date;S.setDate(S.getDate()-14),w==null||w.forEach(O=>{new Date(O.updated_at)<S&&y.push({id:`event-stale-${O.id}`,type:"events",priority:"medium",title:`Event Needs Attention: ${O.title}`,message:`${O.title} hasn't been updated in 2 weeks. Consider reviewing event details.`,timestamp:new Date().toISOString(),actionable:!0,actions:[{label:"Update Event",action:"update_event"},{label:"View Details",action:"view_details"}]})})}catch(N){console.error("Error generating event alerts:",N)}return y},f=async()=>{const y=[];y.push({id:"goal-achievement-1",type:"goals",priority:"low",title:"Goal Achievement: Volunteer Hours",message:"Congratulations! Volunteer hours goal exceeded by 104% this quarter.",timestamp:new Date().toISOString(),actionable:!1,actions:[]});const N=new Date().getMonth();return N>=8&&N<=10&&y.push({id:"seasonal-insight-1",type:"seasonal",priority:"medium",title:"Fall Fundraising Opportunity",message:"Fall is peak fundraising season. Consider launching a major campaign now.",timestamp:new Date().toISOString(),actionable:!0,actions:[{label:"Create Campaign",action:"create_campaign"},{label:"View Templates",action:"view_templates"}]}),y.push({id:"communication-insight-1",type:"communication",priority:"low",title:"Communication Performance",message:"Email open rates increased by 8% this month. Great job on engaging content!",timestamp:new Date().toISOString(),actionable:!1,actions:[]}),y},h=(y,N)=>{switch(console.log(`Executing action: ${y} for notification: ${N}`),y){case"review_budget":break;case"start_campaign":break;case"send_reminder":break;case"view_analytics":break;default:console.log("Action not implemented:",y)}},m=y=>{r(N=>N.filter(_=>_.id!==y))},v=t.filter(y=>n==="all"?!0:n==="actionable"?y.actionable:y.type===n),g=y=>{switch(y){case"high":return"border-red-200 bg-red-50";case"medium":return"border-yellow-200 bg-yellow-50";case"low":return"border-blue-200 bg-blue-50";default:return"border-gray-200 bg-gray-50"}},x=y=>{switch(y){case"high":return s.jsx("svg",{className:"w-5 h-5 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})});case"medium":return s.jsx("svg",{className:"w-5 h-5 text-yellow-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})});case"low":return s.jsx("svg",{className:"w-5 h-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})});default:return null}},b=y=>{switch(y){case"budget":return s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})});case"membership":return s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})});case"events":return s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})});case"engagement":return s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})});default:return s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5 5v-5zM4 19h5v-5H4v5zM13 13h5V8h-5v5zM4 8h5V3H4v5z"})})}};return i?s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/2 mb-4"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"h-16 bg-gray-200 rounded"}),s.jsx("div",{className:"h-16 bg-gray-200 rounded"}),s.jsx("div",{className:"h-16 bg-gray-200 rounded"})]})]})}):s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:s.jsx("svg",{className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5 5v-5zM4 19h5v-5H4v5zM13 13h5V8h-5v5zM4 8h5V3H4v5z"})})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Smart Notifications"}),s.jsx("p",{className:"text-sm text-gray-600",children:"AI-powered insights and alerts"})]})]}),s.jsx("button",{className:"text-blue-600 text-sm font-medium hover:text-blue-700",children:"View All"})]}),s.jsx("div",{className:"flex space-x-1 bg-gray-100 rounded-lg p-1",children:[{key:"all",label:"All"},{key:"actionable",label:"Actionable"},{key:"budget",label:"Budget"},{key:"events",label:"Events"},{key:"membership",label:"Members"}].map(({key:y,label:N})=>s.jsx("button",{onClick:()=>a(y),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${n===y?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:N},y))})]}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"space-y-4",children:v.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("svg",{className:"w-12 h-12 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsx("p",{className:"text-gray-500",children:"No notifications to display"})]}):v.map(y=>s.jsx("div",{className:`border rounded-lg p-4 ${g(y.priority)}`,children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[x(y.priority),s.jsx("div",{className:"text-gray-500",children:b(y.type)})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:y.title}),s.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${y.priority==="high"?"bg-red-100 text-red-800":y.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:[y.priority," priority"]})]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:y.message}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:new Date(y.timestamp).toLocaleString()}),y.actions.length>0&&s.jsx("div",{className:"flex items-center space-x-2 mt-3",children:y.actions.map((N,_)=>s.jsx("button",{onClick:()=>h(N.action,y.id),className:"px-3 py-1 bg-blue-600 text-white text-xs rounded hover:bg-blue-700 transition-colors",children:N.label},_))})]})]}),s.jsx("button",{onClick:()=>m(y.id),className:"text-gray-400 hover:text-gray-600 ml-2",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})},y.id))})})]})},Z6=()=>{const{userProfile:e,loading:t}=Os(),[r,n]=I.useState({metrics:{totalMembers:0,activeEvents:0,budgetUsed:0,engagementRate:0},recentActivity:[],upcomingEvents:[],pendingTasks:[],financialSummary:{totalBudget:0,spent:0,remaining:0,categories:[]}}),[a,i]=I.useState(!0);I.useEffect(()=>{e!=null&&e.org_id&&o()},[e]);const o=async()=>{try{i(!0);const b=[l(),c(),u(),d()],[y,N,_,w]=await Promise.all(b),[S,O,P]=await Promise.all([f(),h(),m()]);n({metrics:{totalMembers:y,activeEvents:N,budgetUsed:_.percentUsed,engagementRate:w},recentActivity:S,upcomingEvents:O,pendingTasks:P,financialSummary:_})}catch(b){console.error("Error fetching dashboard data:",b)}finally{i(!1)}},l=async()=>{const{count:b}=await He.from("profiles").select("*",{count:"exact",head:!0}).eq("org_id",e.org_id);return b||0},c=async()=>{const{count:b}=await He.from("events").select("*",{count:"exact",head:!0}).eq("org_id",e.org_id).gte("event_date",new Date().toISOString());return b||0},u=async()=>{const{data:b}=await He.from("budget_entries").select("amount, category, type").eq("org_id",e.org_id);if(!b)return{percentUsed:0,totalBudget:0,spent:0,remaining:0,categories:[]};const y=b.filter(w=>w.type==="income").reduce((w,S)=>w+S.amount,0),N=b.filter(w=>w.type==="expense").reduce((w,S)=>w+S.amount,0),_=b.reduce((w,S)=>(w[S.category]||(w[S.category]={income:0,expenses:0}),S.type==="income"?w[S.category].income+=S.amount:w[S.category].expenses+=S.amount,w),{});return{totalBudget:y,spent:N,remaining:y-N,percentUsed:y>0?Math.round(N/y*100):0,categories:Object.entries(_).map(([w,S])=>({name:w,...S,net:S.income-S.expenses}))}},d=async()=>{const b=new Date;b.setDate(b.getDate()-30);const{count:y}=await He.from("profiles").select("*",{count:"exact",head:!0}).eq("org_id",e.org_id).gte("last_sign_in_at",b.toISOString()),{count:N}=await He.from("profiles").select("*",{count:"exact",head:!0}).eq("org_id",e.org_id);return N>0?Math.round(y/N*100):0},f=async()=>{const{data:b}=await He.from("events").select("title, created_at, created_by").eq("org_id",e.org_id).order("created_at",{ascending:!1}).limit(5),{data:y}=await He.from("profiles").select("first_name, last_name, created_at").eq("org_id",e.org_id).order("created_at",{ascending:!1}).limit(3),N=[];return b&&b.forEach(_=>{N.push({type:"event_created",title:`New event: ${_.title}`,timestamp:_.created_at,user:"System"})}),y&&y.forEach(_=>{N.push({type:"user_joined",title:`${_.first_name} ${_.last_name} joined`,timestamp:_.created_at,user:`${_.first_name} ${_.last_name}`})}),N.sort((_,w)=>new Date(w.timestamp)-new Date(_.timestamp)).slice(0,8)},h=async()=>{const{data:b}=await He.from("events").select("id, title, event_date, location, status").eq("org_id",e.org_id).gte("event_date",new Date().toISOString()).order("event_date",{ascending:!0}).limit(5);return b||[]},m=async()=>{const b=[];return(e.role==="admin"||e.role==="board_member")&&b.push({id:1,title:"Review budget proposal",priority:"high",dueDate:"2025-06-10"},{id:2,title:"Approve volunteer applications",priority:"medium",dueDate:"2025-06-12"},{id:3,title:"Update event calendar",priority:"low",dueDate:"2025-06-15"}),b},v=b=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(b),g=b=>new Date(b).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),x=b=>{const y=new Date,N=new Date(b),_=Math.floor((y-N)/(1e3*60*60));if(_<1)return"Just now";if(_<24)return`${_}h ago`;const w=Math.floor(_/24);return w<7?`${w}d ago`:g(b)};return t||a?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):s.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["Welcome back, ",e==null?void 0:e.first_name,"!"]}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Here's what's happening with your PTO today"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Members"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:r.metrics.totalMembers})]}),s.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:s.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})})]}),s.jsx("div",{className:"mt-4",children:s.jsx("span",{className:"text-sm text-green-600",children:"+12% from last month"})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Events"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:r.metrics.activeEvents})]}),s.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:s.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})]}),s.jsx("div",{className:"mt-4",children:s.jsx("span",{className:"text-sm text-blue-600",children:"3 this month"})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Budget Used"}),s.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[r.metrics.budgetUsed,"%"]})]}),s.jsx("div",{className:"p-3 bg-yellow-100 rounded-full",children:s.jsx("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})})]}),s.jsx("div",{className:"mt-4",children:s.jsxs("span",{className:"text-sm text-gray-600",children:[v(r.financialSummary.remaining)," remaining"]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Engagement Rate"}),s.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[r.metrics.engagementRate,"%"]})]}),s.jsx("div",{className:"p-3 bg-purple-100 rounded-full",children:s.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})})]}),s.jsx("div",{className:"mt-4",children:s.jsx("span",{className:"text-sm text-green-600",children:"+5% from last month"})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Recent Activity"})}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"space-y-4",children:r.recentActivity.map((b,y)=>s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${b.type==="event_created"?"bg-blue-500":"bg-green-500"}`})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:b.title}),s.jsx("p",{className:"text-sm text-gray-500",children:x(b.timestamp)})]})]},y))})})]}),s.jsx(X6,{})]}),s.jsxs("div",{className:"space-y-8",children:[s.jsx(J6,{}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Upcoming Events"})}),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"space-y-4",children:[r.upcomingEvents.map(b=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:b.title}),s.jsx("p",{className:"text-sm text-gray-600",children:g(b.event_date)}),b.location&&s.jsx("p",{className:"text-sm text-gray-500",children:b.location})]}),s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${b.status==="confirmed"?"bg-green-100 text-green-800":b.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:b.status})]},b.id)),r.upcomingEvents.length===0&&s.jsx("p",{className:"text-gray-500 text-center py-4",children:"No upcoming events"})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Quick Actions"})}),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("button",{className:"flex flex-col items-center p-4 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors",children:[s.jsx("svg",{className:"w-6 h-6 text-blue-600 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),s.jsx("span",{className:"text-sm font-medium text-blue-900",children:"New Event"})]}),s.jsxs("button",{className:"flex flex-col items-center p-4 bg-green-50 rounded-lg hover:bg-green-100 transition-colors",children:[s.jsx("svg",{className:"w-6 h-6 text-green-600 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),s.jsx("span",{className:"text-sm font-medium text-green-900",children:"Send Message"})]}),s.jsxs("button",{className:"flex flex-col items-center p-4 bg-purple-50 rounded-lg hover:bg-purple-100 transition-colors",children:[s.jsx("svg",{className:"w-6 h-6 text-purple-600 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),s.jsx("span",{className:"text-sm font-medium text-purple-900",children:"Add Member"})]}),s.jsxs("button",{className:"flex flex-col items-center p-4 bg-yellow-50 rounded-lg hover:bg-yellow-100 transition-colors",children:[s.jsx("svg",{className:"w-6 h-6 text-yellow-600 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),s.jsx("span",{className:"text-sm font-medium text-yellow-900",children:"New Report"})]})]})})]}),r.pendingTasks.length>0&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Pending Tasks"})}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"space-y-3",children:r.pendingTasks.map(b=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:b.title}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Due: ",g(b.dueDate)]})]}),s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${b.priority==="high"?"bg-red-100 text-red-800":b.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:b.priority})]},b.id))})})]})]})]})]})})},Q6=[{value:"",label:"All Roles"},{value:"admin",label:"Admin"},{value:"board_member",label:"Board Member"},{value:"committee_lead",label:"Committee Lead"},{value:"volunteer",label:"Volunteer"},{value:"parent_member",label:"Parent Member"},{value:"teacher",label:"Teacher"}];function eE(){const[e,t]=I.useState([]),[r,n]=I.useState([]),[a,i]=I.useState({}),[o,l]=I.useState(!0),[c,u]=I.useState(""),[d,f]=I.useState(!1),[h,m]=I.useState(!1),[v,g]=I.useState(""),[x,b]=I.useState({});if(I.useEffect(()=>{async function O(){var U,W,R;l(!0),u("");const[{data:P,error:T},{data:F,error:k}]=await Promise.all([Ue("GET","/api/admin/organization-permissions"),Ue("GET","/api/admin-users")]);if(console.log("[PermissionsConsole] /admin/organization-permissions response:",P),console.log("[PermissionsConsole] /admin-users response:",F),T||k){u("Failed to load permissions or users."),l(!1);return}const C=(U=P==null?void 0:P.data)==null?void 0:U.permissions,D=(W=P==null?void 0:P.data)==null?void 0:W.grouped;n(Array.isArray(C)?C:[]),i(D&&typeof D=="object"?D:{});const M=((R=F==null?void 0:F.data)==null?void 0:R.profiles)||(F==null?void 0:F.profiles)||(Array.isArray(F==null?void 0:F.data)?F.data:[]);t(M),l(!1)}O()},[]),o)return s.jsx("div",{className:"py-8 text-center text-gray-500",children:"Loading permissions..."});if(c)return s.jsx("div",{className:"py-8 text-center text-red-600",children:c});if(!Array.isArray(r)||!a||typeof a!="object")return s.jsx("div",{className:"py-8 text-center text-red-600",children:"Permissions data is unavailable or malformed."});const y=v?e.filter(O=>O.role===v):e,N=r.map(O=>({key:O.permission_key,name:O.permission_name,module:O.module_name,defaultEnabled:O.is_enabled,minRole:O.current_min_role})),_=(O,P,T)=>{b(F=>({...F,[O]:{...F[O]||{},[P]:T}})),m(!0)},w=(O,P)=>{y.forEach(T=>{_(T.id,O,P)})},S=async()=>{f(!0),u("");const O=Object.entries(x).flatMap(([T,F])=>Object.entries(F).map(([k,C])=>({user_id:T,permission_key:k,is_enabled:C}))),{error:P}=await Ue("POST","/admin/organization-permissions/user-overrides",{overrides:O});P?u("Failed to save changes."):m(!1),f(!1)};return s.jsxs("div",{className:"bg-white rounded shadow p-4",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Permissions Management"}),s.jsxs("div",{className:"mb-4 flex gap-4 items-center",children:[s.jsx("label",{className:"font-medium",children:"Filter by Role:"}),s.jsx("select",{className:"border rounded px-2 py-1",value:v,onChange:O=>g(O.target.value),children:Q6.map(O=>s.jsx("option",{value:O.value,children:O.label},O.value))})]}),s.jsx("div",{className:"overflow-x-auto",children:Object.keys(a).length===0?s.jsx("div",{className:"text-gray-500 text-center py-8",children:"No permissions found."}):s.jsxs("table",{className:"w-full table-auto border mb-2",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-100",children:[s.jsx("th",{className:"p-2 border",children:"Name"}),s.jsx("th",{className:"p-2 border",children:"Email"}),s.jsx("th",{className:"p-2 border",children:"Role"}),N.map(O=>s.jsx("th",{className:"p-2 border",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("span",{children:O.name}),s.jsx("button",{className:"text-xs text-blue-600 underline mt-1",onClick:()=>w(O.key,!0),title:"Enable for all filtered users",children:"Enable All"}),s.jsx("button",{className:"text-xs text-red-600 underline",onClick:()=>w(O.key,!1),title:"Disable for all filtered users",children:"Disable All"})]})},O.key))]})}),s.jsx("tbody",{children:y.map(O=>s.jsxs("tr",{className:"border-b",children:[s.jsx("td",{className:"p-2 border font-medium",children:O.full_name||O.email}),s.jsx("td",{className:"p-2 border",children:O.email}),s.jsx("td",{className:"p-2 border capitalize",children:O.role}),N.map(P=>{var k;const T=(k=x[O.id])==null?void 0:k[P.key],F=T!==void 0?T:P.defaultEnabled;return s.jsx("td",{className:"p-2 border text-center",children:s.jsx("input",{type:"checkbox",checked:F,onChange:C=>_(O.id,P.key,C.target.checked),className:"w-5 h-5 accent-blue-600"})},P.key)})]},O.id))})]})}),s.jsxs("div",{className:"flex gap-4 items-center mt-4",children:[s.jsx("button",{className:`px-4 py-2 rounded bg-blue-600 text-white font-semibold ${!h||d?"opacity-50 cursor-not-allowed":""}`,onClick:S,disabled:!h||d,children:d?"Saving...":"Save Changes"}),h&&!d&&s.jsx("span",{className:"text-yellow-600",children:"Unsaved changes"})]})]})}function tE(){return s.jsxs("div",{className:"bg-white rounded shadow p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Organization Info"}),s.jsxs("div",{className:"flex items-center gap-6 mb-6",children:[s.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-full flex items-center justify-center text-3xl text-gray-400",children:"Logo"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-bold text-lg mb-1",children:"[Organization Name]"}),s.jsx("div",{className:"text-gray-500",children:"[School/Year/Timezone]"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Contact Email"}),s.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"contact@email.com",disabled:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Address"}),s.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"123 Main St",disabled:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Phone"}),s.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"(555) 555-5555",disabled:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Timezone"}),s.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"America/Chicago",disabled:!0})]})]}),s.jsx("div",{className:"mt-6 text-gray-400 italic",children:"[Organization editing coming soon]"})]})}function rE(){return s.jsxs("div",{className:"bg-white rounded shadow p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Email Settings (SMTP)"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"SMTP Host"}),s.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"smtp.example.com",disabled:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"SMTP Port"}),s.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"587",disabled:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Username"}),s.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"user@example.com",disabled:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Password"}),s.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"••••••••",type:"password",disabled:!0})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Sender Name/Email"}),s.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"PTO Connect <noreply@ptoconnect.com>",disabled:!0})]})]}),s.jsxs("div",{className:"mt-6 flex gap-4 items-center",children:[s.jsx("button",{className:"px-4 py-2 rounded bg-blue-600 text-white font-semibold opacity-50 cursor-not-allowed",disabled:!0,children:"Test Connection"}),s.jsx("span",{className:"text-gray-400",children:"[SMTP editing & testing coming soon]"})]})]})}function nE(){return s.jsxs("div",{className:"bg-white rounded shadow p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Subscription"}),s.jsxs("div",{className:"mb-4",children:[s.jsx("div",{className:"font-bold",children:"Current Plan:"}),s.jsx("div",{className:"text-gray-600",children:"[Plan Name]"})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("div",{className:"font-bold",children:"Renewal Date:"}),s.jsx("div",{className:"text-gray-600",children:"[2025-12-31]"})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("div",{className:"font-bold",children:"Payment Method:"}),s.jsx("div",{className:"text-gray-600",children:"[Visa •••• 1234]"})]}),s.jsx("button",{className:"px-4 py-2 rounded bg-blue-600 text-white font-semibold opacity-50 cursor-not-allowed",disabled:!0,children:"Manage Subscription"}),s.jsx("div",{className:"mt-6 text-gray-400 italic",children:"[Subscription management coming soon]"})]})}function aE(){return s.jsxs("div",{className:"bg-white rounded shadow p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"API Keys"}),s.jsxs("table",{className:"w-full table-auto border mb-4",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-100",children:[s.jsx("th",{className:"p-2 border",children:"Key Name"}),s.jsx("th",{className:"p-2 border",children:"Permissions"}),s.jsx("th",{className:"p-2 border",children:"Status"}),s.jsx("th",{className:"p-2 border",children:"Actions"})]})}),s.jsxs("tbody",{children:[s.jsxs("tr",{children:[s.jsx("td",{className:"p-2 border",children:"[Key 1]"}),s.jsx("td",{className:"p-2 border",children:"[Read, Write]"}),s.jsx("td",{className:"p-2 border",children:"Active"}),s.jsx("td",{className:"p-2 border",children:s.jsx("button",{className:"px-2 py-1 bg-blue-600 text-white rounded opacity-50 cursor-not-allowed",disabled:!0,children:"Edit"})})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"p-2 border",children:"[Key 2]"}),s.jsx("td",{className:"p-2 border",children:"[Read]"}),s.jsx("td",{className:"p-2 border",children:"Inactive"}),s.jsx("td",{className:"p-2 border",children:s.jsx("button",{className:"px-2 py-1 bg-blue-600 text-white rounded opacity-50 cursor-not-allowed",disabled:!0,children:"Edit"})})]})]})]}),s.jsx("button",{className:"px-4 py-2 rounded bg-blue-600 text-white font-semibold opacity-50 cursor-not-allowed",disabled:!0,children:"Create New API Key"}),s.jsx("div",{className:"mt-6 text-gray-400 italic",children:"[API key management coming soon]"})]})}const iE=[{key:"org",label:"Organization Info"},{key:"permissions",label:"Permissions"},{key:"email",label:"Email Settings"},{key:"subscription",label:"Subscription"},{key:"apikeys",label:"API Keys"}];function uv(){const[e,t]=I.useState("org");return s.jsxs("div",{className:"max-w-5xl mx-auto p-4",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Admin Dashboard"}),s.jsx("div",{className:"border-b border-gray-200 mb-6",children:s.jsx("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:iE.map(r=>s.jsx("button",{className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${e===r.key?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>t(r.key),children:r.label},r.key))})}),s.jsxs("div",{children:[e==="org"&&s.jsx(tE,{}),e==="permissions"&&s.jsx(eE,{}),e==="email"&&s.jsx(rE,{}),e==="subscription"&&s.jsx(nE,{}),e==="apikeys"&&s.jsx(aE,{})]})]})}const vl=void 0;function sE(){const{profile:e,loading:t}=Os(),[r,n]=I.useState([]),[a,i]=I.useState([]),[o,l]=I.useState(!0),[c,u]=I.useState(null),[d,f]=I.useState(!1),h=(e==null?void 0:e.role)==="admin",m=I.useCallback(async()=>{if(!(e!=null&&e.user_id)||t||!h){l(!1);return}try{l(!0),u(null);const{data:{session:O}}=await He.auth.getSession();if(!(O!=null&&O.access_token))throw new Error("No authentication token available");const[P,T]=await Promise.all([si.get(`${vl}/api/admin/organization-permissions/templates`,{headers:{Authorization:`Bearer ${O.access_token}`}}),si.get(`${vl}/api/admin/organization-permissions`,{headers:{Authorization:`Bearer ${O.access_token}`}})]);n(P.data.templates||[]),i(T.data.permissions||[])}catch(O){console.error("Error fetching permission data:",O.message),u(O.message)}finally{l(!1)}},[e==null?void 0:e.user_id,t,h]);I.useEffect(()=>{m()},[m]);const v=I.useCallback(async(O,P)=>{var T,F;if(!h)throw new Error("Only administrators can modify permissions");try{f(!0),u(null);const{data:{session:k}}=await He.auth.getSession();if(!(k!=null&&k.access_token))throw new Error("No authentication token available");const C=await si.put(`${vl}/api/admin/organization-permissions/${O}`,P,{headers:{Authorization:`Bearer ${k.access_token}`}});return await m(),C.data}catch(k){throw console.error(`Error updating permission ${O}:`,k.message),u(((F=(T=k.response)==null?void 0:T.data)==null?void 0:F.error)||k.message),k}finally{f(!1)}},[h,m]),g=I.useCallback(async O=>{var P,T;if(!h)throw new Error("Only administrators can modify permissions");try{f(!0),u(null);const{data:{session:F}}=await He.auth.getSession();if(!(F!=null&&F.access_token))throw new Error("No authentication token available");const k=await si.post(`${vl}/api/admin/organization-permissions/bulk-update`,{permissions:O},{headers:{Authorization:`Bearer ${F.access_token}`}});return await m(),k.data}catch(F){throw console.error("Error bulk updating permissions:",F.message),u(((T=(P=F.response)==null?void 0:P.data)==null?void 0:T.error)||F.message),F}finally{f(!1)}},[h,m]),x=I.useCallback(async O=>{var P,T;if(!h)throw new Error("Only administrators can modify permissions");try{f(!0),u(null);const{data:{session:F}}=await He.auth.getSession();if(!(F!=null&&F.access_token))throw new Error("No authentication token available");const k=await si.delete(`${vl}/api/admin/organization-permissions/${O}`,{headers:{Authorization:`Bearer ${F.access_token}`}});return await m(),k.data}catch(F){throw console.error(`Error resetting permission ${O}:`,F.message),u(((T=(P=F.response)==null?void 0:P.data)==null?void 0:T.error)||F.message),F}finally{f(!1)}},[h,m]),b=I.useCallback(async O=>{if(!h)throw new Error("Only administrators can view user permissions");try{const{data:{session:P}}=await He.auth.getSession();if(!(P!=null&&P.access_token))throw new Error("No authentication token available");return(await si.get(`${vl}/api/admin/organization-permissions/user/${O}`,{headers:{Authorization:`Bearer ${P.access_token}`}})).data}catch(P){throw console.error(`Error fetching permissions for user ${O}:`,P.message),P}},[h]),y=I.useCallback(()=>{const O={};return a.forEach(P=>{const T=P.module_name;O[T]||(O[T]=[]),O[T].push(P)}),O},[a]),N=I.useCallback(O=>r.find(P=>P.permission_key===O)||null,[r]),_=I.useCallback(O=>{const P=a.find(T=>T.permission_key===O);return!!(P!=null&&P.has_custom_setting)},[a]),w=I.useCallback(O=>{const P=a.find(F=>F.permission_key===O),T=N(O);return T?{permission_key:O,module_name:T.module_name,permission_name:T.permission_name,permission_description:T.permission_description,current_min_role:(P==null?void 0:P.current_min_role)||T.default_min_role,specific_users:(P==null?void 0:P.specific_users)||[],is_enabled:(P==null?void 0:P.is_enabled)!==void 0?P.is_enabled:!0,is_customized:!!(P!=null&&P.has_custom_setting),default_min_role:T.default_min_role}:null},[a,N]),S=I.useCallback(()=>{m()},[m]);return{templates:r,orgPermissions:a,loading:o,error:c,saving:d,isAdmin:h,updatePermission:v,bulkUpdatePermissions:g,resetPermission:x,getUserPermissions:b,refreshPermissions:S,getPermissionsByModule:y,getPermissionTemplate:N,isPermissionCustomized:_,getEffectivePermission:w,userId:e==null?void 0:e.user_id,orgId:e==null?void 0:e.org_id,userRole:e==null?void 0:e.role}}function oE(){const{profile:e,organization:t,loading:r}=Os(),n={admin:5,board_member:4,committee_lead:3,volunteer:2,parent_member:1,teacher:1},a=w=>e!=null&&e.role?n[e.role]>=n[w]:!1,i=w=>e!=null&&e.role?w.includes(e.role):!1,o=w=>(e==null?void 0:e.role)===w,l=()=>a("admin"),c=()=>a("committee_lead"),u=()=>a("committee_lead"),d=()=>a("committee_lead");return{hasRole:a,hasAnyRole:i,hasExactRole:o,canAccessAdminFeatures:l,canManageEvents:c,canManageBudget:u,canManageCommunications:d,canManageUsers:()=>a("admin"),canViewReports:()=>a("board_member"),canCreateEvents:()=>a("volunteer"),canVolunteer:()=>a("parent_member"),isInOrganization:()=>!!(e!=null&&e.org_id)&&!!t,getOrganizationId:()=>e==null?void 0:e.org_id,getOrganizationName:()=>t==null?void 0:t.name,getRoleDisplayName:(w=e==null?void 0:e.role)=>({admin:"Administrator",board_member:"Board Member",committee_lead:"Committee Lead",volunteer:"Volunteer",parent_member:"Parent Member",teacher:"Teacher"})[w]||"Unknown Role",getRoleColor:(w=e==null?void 0:e.role)=>({admin:"bg-red-100 text-red-800",board_member:"bg-purple-100 text-purple-800",committee_lead:"bg-blue-100 text-blue-800",volunteer:"bg-green-100 text-green-800",parent_member:"bg-yellow-100 text-yellow-800",teacher:"bg-indigo-100 text-indigo-800"})[w]||"bg-gray-100 text-gray-800",canAccessRoute:w=>({"/dashboard/admin":l(),"/dashboard/board":a("board_member"),"/dashboard/committee":a("committee_lead"),"/dashboard/volunteer":a("volunteer"),"/dashboard/parent":a("parent_member"),"/dashboard/teacher":o("teacher"),"/events":c(),"/budget":u(),"/communications":d(),"/billing":l(),"/shared-library":a("volunteer"),"/teacher-requests":o("teacher")})[w]??!1,currentRole:e==null?void 0:e.role,currentUserId:e==null?void 0:e.id,loading:r}}function lE(){const{canAccessAdminFeatures:e}=oE(),{templates:t,loading:r,error:n,saving:a,isAdmin:i,updatePermission:o,bulkUpdatePermissions:l,resetPermission:c,getEffectivePermission:u,isPermissionCustomized:d,refreshPermissions:f}=sE(),[h,m]=I.useState("all"),[v,g]=I.useState({}),[x,b]=I.useState(!1),[y,N]=I.useState(!1),_=[{value:"volunteer",label:"Volunteer",color:"bg-green-100 text-green-800"},{value:"committee_lead",label:"Committee Lead",color:"bg-blue-100 text-blue-800"},{value:"board_member",label:"Board Member",color:"bg-purple-100 text-purple-800"},{value:"admin",label:"Administrator",color:"bg-red-100 text-red-800"}],w=[...new Set(t.map(D=>D.module_name))].sort(),O=(h==="all"?t:t.filter(D=>D.module_name===h)).reduce((D,M)=>{const U=M.module_name;return D[U]||(D[U]=[]),D[U].push(M),D},{}),P=(D,M,U)=>{g(W=>({...W,[D]:{...W[D],[M]:U}}))},T=async D=>{const M=v[D];if(M)try{const U=u(D),W={min_role_required:M.min_role_required||U.current_min_role,specific_users:M.specific_users||U.specific_users,is_enabled:M.is_enabled!==void 0?M.is_enabled:U.is_enabled};await o(D,W),g(R=>{const K={...R};return delete K[D],K}),alert(`Permission "${D}" updated successfully!`)}catch(U){alert(`Failed to update permission: ${U.message}`)}},F=async()=>{if(Object.keys(v).length!==0)try{const D=Object.entries(v).map(([M,U])=>{const W=u(M);return{permission_key:M,min_role_required:U.min_role_required||W.current_min_role,specific_users:U.specific_users||W.specific_users,is_enabled:U.is_enabled!==void 0?U.is_enabled:W.is_enabled}});await l(D),g({}),alert(`Successfully updated ${D.length} permissions!`)}catch(D){alert(`Failed to save changes: ${D.message}`)}},k=async D=>{if(confirm(`Reset "${D}" to default settings?`))try{await c(D),g(M=>{const U={...M};return delete U[D],U}),alert(`Permission "${D}" reset to default!`)}catch(M){alert(`Failed to reset permission: ${M.message}`)}},C=D=>{const M=u(D),U=v[D];return U?{...M,current_min_role:U.min_role_required||M.current_min_role,specific_users:U.specific_users||M.specific_users,is_enabled:U.is_enabled!==void 0?U.is_enabled:M.is_enabled}:M};return!e||!i?s.jsx("div",{className:"max-w-4xl mx-auto p-6",children:s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-red-800 mb-2",children:"Access Denied"}),s.jsx("p",{className:"text-red-600",children:"Only administrators can access permission management."})]})}):r?s.jsx("div",{className:"max-w-6xl mx-auto p-6",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-6"}),s.jsx("div",{className:"space-y-4",children:[1,2,3].map(D=>s.jsx("div",{className:"h-20 bg-gray-200 rounded"},D))})]})}):n?s.jsx("div",{className:"max-w-4xl mx-auto p-6",children:s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-red-800 mb-2",children:"Error Loading Permissions"}),s.jsx("p",{className:"text-red-600 mb-4",children:n}),s.jsx("button",{onClick:f,className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700",children:"Retry"})]})}):s.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Permission Management"}),s.jsx("p",{className:"text-gray-600",children:"Customize which roles can perform specific actions in your organization."})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Module:"}),s.jsxs("select",{value:h,onChange:D=>m(D.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm",children:[s.jsx("option",{value:"all",children:"All Modules"}),w.map(D=>s.jsx("option",{value:D,children:D.charAt(0).toUpperCase()+D.slice(1).replace("_"," ")},D))]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>N(!y),className:`px-4 py-2 rounded-md text-sm font-medium ${y?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:y?"Exit Bulk Mode":"Bulk Edit"}),Object.keys(v).length>0&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>b(!x),className:"px-4 py-2 bg-yellow-100 text-yellow-800 rounded-md text-sm font-medium hover:bg-yellow-200",children:["Preview Changes (",Object.keys(v).length,")"]}),s.jsx("button",{onClick:F,disabled:a,className:"px-4 py-2 bg-green-600 text-white rounded-md text-sm font-medium hover:bg-green-700 disabled:opacity-50",children:a?"Saving...":"Save All Changes"})]})]})]})}),x&&Object.keys(v).length>0&&s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:[s.jsx("h3",{className:"font-semibold text-yellow-800 mb-2",children:"Pending Changes"}),s.jsx("div",{className:"space-y-2",children:Object.entries(v).map(([D,M])=>s.jsxs("div",{className:"text-sm text-yellow-700",children:[s.jsxs("span",{className:"font-medium",children:[D,":"]}),M.min_role_required&&s.jsxs("span",{className:"ml-2",children:["Role → ",M.min_role_required]}),M.is_enabled!==void 0&&s.jsxs("span",{className:"ml-2",children:["Enabled → ",M.is_enabled?"Yes":"No"]})]},D))})]}),s.jsx("div",{className:"space-y-8",children:Object.entries(O).map(([D,M])=>s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[s.jsx("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-900 capitalize",children:[D.replace("_"," ")," Module"]}),s.jsxs("span",{className:"text-sm text-gray-500",children:[M.length," permissions"]})]})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Permission"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Minimum Role"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:M.map(U=>{const W=C(U.permission_key),R=v[U.permission_key],K=d(U.permission_key);return s.jsxs("tr",{className:R?"bg-yellow-50":"",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{children:[s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[W.permission_name,K&&s.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:"Custom"}),R&&s.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-yellow-100 text-yellow-800",children:"Modified"})]}),s.jsx("div",{className:"text-sm text-gray-500",children:W.permission_description})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("select",{value:W.current_min_role,onChange:Y=>P(U.permission_key,"min_role_required",Y.target.value),className:"border border-gray-300 rounded-md px-3 py-1 text-sm",children:_.map(Y=>s.jsx("option",{value:Y.value,children:Y.label},Y.value))})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:W.is_enabled,onChange:Y=>P(U.permission_key,"is_enabled",Y.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:W.is_enabled?"Enabled":"Disabled"})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[R&&s.jsx("button",{onClick:()=>T(U.permission_key),disabled:a,className:"text-green-600 hover:text-green-800 text-sm font-medium",children:"Save"}),K&&s.jsx("button",{onClick:()=>k(U.permission_key),disabled:a,className:"text-gray-600 hover:text-gray-800 text-sm font-medium",children:"Reset"})]})})]},U.permission_key)})})]})})]},D))}),s.jsxs("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:"Permission Management Guide"}),s.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[s.jsxs("li",{children:["• ",s.jsx("strong",{children:"Minimum Role:"})," The lowest role level that can perform this action"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"Custom:"})," Permission has been modified from the default setting"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"Modified:"})," Permission has unsaved changes"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"Reset:"})," Restore permission to its default setting"]}),s.jsx("li",{children:"• Changes take effect immediately for all users in your organization"})]})]})]})}function cE(){return s.jsxs("div",{className:"p-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-blue-600",children:"Welcome to the Board Dashboard"}),s.jsx("p",{className:"mt-4 text-gray-700",children:"This is a placeholder for the Board dashboard."})]})}function uE(){return s.jsxs("div",{className:"p-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-blue-600",children:"Welcome to the Committee Dashboard"}),s.jsx("p",{className:"mt-4 text-gray-700",children:"This is a placeholder for the Committee dashboard."})]})}function dE(){return s.jsxs("div",{className:"p-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-blue-600",children:"Welcome to the Volunteer Dashboard"}),s.jsx("p",{className:"mt-4 text-gray-700",children:"This is a placeholder for the Volunteer dashboard."})]})}function fE(){return s.jsxs("div",{className:"p-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-blue-600",children:"Welcome to the Parent Dashboard"}),s.jsx("p",{className:"mt-4 text-gray-700",children:"This is a placeholder for the Parent dashboard."})]})}function hE(){return s.jsxs("div",{className:"p-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-blue-600",children:"Welcome to the Teacher Dashboard"}),s.jsx("p",{className:"mt-4 text-gray-700",children:"This is a placeholder for the Teacher dashboard."})]})}function jt(e){"@babel/helpers - typeof";return jt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jt(e)}function mE(e,t){if(jt(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jt(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kS(e){var t=mE(e,"string");return jt(t)=="symbol"?t:t+""}function ao(e,t,r){return(t=kS(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D1(Object(r),!0).forEach(function(n){ao(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ip(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function gi(e,t){if(e==null)return{};var r,n,a=ip(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function $r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kS(n.key),n)}}function Dr(e,t,r){return t&&I1(e.prototype,t),r&&I1(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wh(e){return Wh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Wh(e)}function TS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TS=function(){return!!e})()}function pE(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gE(e,t){if(t&&(jt(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pE(e)}function cn(e,t,r){return t=Wh(t),gE(e,TS()?Reflect.construct(t,r||[],Wh(e).constructor):t.apply(e,r))}function Hh(e,t){return Hh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Hh(e,t)}function un(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hh(e,t)}function CS(e){if(Array.isArray(e))return e}function vE(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function u0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function mb(e,t){if(e){if(typeof e=="string")return u0(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u0(e,t):void 0}}function LS(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xo(e,t){return CS(e)||vE(e,t)||mb(e,t)||LS()}function MS(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=MS(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function hr(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=MS(e))&&(n&&(n+=" "),n+=t);return n}function dr(){return dr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dr.apply(null,arguments)}var yE=function(e,t,r,n,a,i,o,l){if(!e){var c;if(t===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,n,a,i,o,l],d=0;c=new Error(t.replace(/%s/g,function(){return u[d++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}},bE=yE;const id=Nt(bE);var xE=function(){};function wE(e,t){var r={};return Object.keys(e).forEach(function(n){r[Lh(n)]=xE}),r}function R1(e,t){return e[t]!==void 0}function Lh(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function jE(e){return!!e&&(typeof e!="function"||e.prototype&&e.prototype.isReactComponent)}function NE(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Hh(e,t)}function $S(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function DS(e){function t(r){var n=this.constructor.getDerivedStateFromProps(e,r);return n??null}this.setState(t.bind(this))}function IS(e,t){try{var r=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}$S.__suppressDeprecationWarning=!0;DS.__suppressDeprecationWarning=!0;IS.__suppressDeprecationWarning=!0;function SE(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var r=null,n=null,a=null;if(typeof t.componentWillMount=="function"?r="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(r="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?n="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(n="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?a="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(a="UNSAFE_componentWillUpdate"),r!==null||n!==null||a!==null){var i=e.displayName||e.name,o=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+i+" uses "+o+" but also contains the following legacy lifecycles:"+(r!==null?`
  `+r:"")+(n!==null?`
  `+n:"")+(a!==null?`
  `+a:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=$S,t.componentWillReceiveProps=DS),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=IS;var l=t.componentDidUpdate;t.componentDidUpdate=function(u,d,f){var h=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:f;l.call(this,u,d,h)}}return e}var _E="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function RS(e,t,r){r===void 0&&(r=[]);var n=e.displayName||e.name||"Component",a=jE(e),i=Object.keys(t),o=i.map(Lh);a||!r.length||id(!1);var l=function(u){NE(d,u);function d(){for(var h,m=arguments.length,v=new Array(m),g=0;g<m;g++)v[g]=arguments[g];h=u.call.apply(u,[this].concat(v))||this,h.handlers=Object.create(null),i.forEach(function(b){var y=t[b],N=function(w){if(h.props[y]){var S;h._notifying=!0;for(var O=arguments.length,P=new Array(O>1?O-1:0),T=1;T<O;T++)P[T-1]=arguments[T];(S=h.props)[y].apply(S,[w].concat(P)),h._notifying=!1}h.unmounted||h.setState(function(F){var k,C=F.values;return{values:dr(Object.create(null),C,(k={},k[b]=w,k))}})};h.handlers[y]=N}),r.length&&(h.attachRef=function(b){h.inner=b});var x=Object.create(null);return i.forEach(function(b){x[b]=h.props[Lh(b)]}),h.state={values:x,prevProps:{}},h}var f=d.prototype;return f.shouldComponentUpdate=function(){return!this._notifying},d.getDerivedStateFromProps=function(m,v){var g=v.values,x=v.prevProps,b={values:dr(Object.create(null),g),prevProps:{}};return i.forEach(function(y){b.prevProps[y]=m[y],!R1(m,y)&&R1(x,y)&&(b.values[y]=m[Lh(y)])}),b},f.componentWillUnmount=function(){this.unmounted=!0},f.render=function(){var m=this,v=this.props,g=v.innerRef,x=ip(v,["innerRef"]);o.forEach(function(y){delete x[y]});var b={};return i.forEach(function(y){var N=m.props[y];b[y]=N!==void 0?N:m.state.values[y]}),z.createElement(e,dr({},x,b,this.handlers,{ref:g||this.attachRef}))},d}(z.Component);SE(l),l.displayName="Uncontrolled("+n+")",l.propTypes=dr({innerRef:function(){}},wE(t)),r.forEach(function(u){l.prototype[u]=function(){var f;return(f=this.inner)[u].apply(f,arguments)}});var c=l;return z.forwardRef&&(c=z.forwardRef(function(u,d){return z.createElement(l,dr({},u,{innerRef:d,__source:{fileName:_E,lineNumber:128},__self:this}))}),c.propTypes=l.propTypes),c.ControlledComponent=e,c.deferControlTo=function(u,d,f){return d===void 0&&(d={}),RS(u,dr({},t,d),f)},c}var Gh="milliseconds",sd="seconds",od="minutes",ld="hours",wo="day",Hl="week",cd="month",jo="year",No="decade",So="century",FS={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:60*60*1e3,day:24*60*60*1e3,week:7*24*60*60*1e3},AE={month:1,year:12,decade:10*12,century:100*12};function OE(e){return[31,PE(e),31,30,31,30,31,31,30,31,30,31]}function PE(e){return e%4===0&&e%100!==0||e%400===0?29:28}function Ba(e,t,r){switch(e=new Date(e),r){case Gh:case sd:case od:case ld:case wo:case Hl:return EE(e,t*FS[r]);case cd:case jo:case No:case So:return kE(e,t*AE[r])}throw new TypeError('Invalid units: "'+r+'"')}function EE(e,t){var r=new Date(+e+t);return TE(e,r)}function kE(e,t){var r=e.getFullYear(),n=e.getMonth(),a=e.getDate(),i=r*12+n+t,o=Math.trunc(i/12),l=i%12,c=Math.min(a,OE(o)[l]),u=new Date(e);return u.setFullYear(o),u.setDate(1),u.setMonth(l),u.setDate(c),u}function TE(e,t){var r=e.getTimezoneOffset(),n=t.getTimezoneOffset(),a=n-r;return new Date(+t+a*FS.minutes)}function ud(e,t,r){return Ba(e,-t,r)}function Xr(e,t,r){switch(e=new Date(e),t){case So:case No:case jo:e=Yh(e,0);case cd:e=WS(e,1);case Hl:case wo:e=hd(e,0);case ld:e=Gl(e,0);case od:e=fd(e,0);case sd:e=dd(e,0)}return t===No&&(e=ud(e,_o(e)%10,"year")),t===So&&(e=ud(e,_o(e)%100,"year")),t===Hl&&(e=HS(e,0,r)),e}function Vh(e,t,r){switch(e=new Date(e),e=Xr(e,t,r),t){case So:case No:case jo:case cd:case Hl:e=Ba(e,1,t),e=ud(e,1,wo),e.setHours(23,59,59,999);break;case wo:e.setHours(23,59,59,999);break;case ld:case od:case sd:e=Ba(e,1,t),e=ud(e,1,Gh)}return e}var Oc=Ec(function(e,t){return e===t}),pb=Ec(function(e,t){return e!==t}),sp=Ec(function(e,t){return e>t}),sf=Ec(function(e,t){return e>=t}),gb=Ec(function(e,t){return e<t}),Pc=Ec(function(e,t){return e<=t});function BS(){return new Date(Math.min.apply(Math,arguments))}function qS(){return new Date(Math.max.apply(Math,arguments))}function zS(e,t,r,n){return n=n||"day",(!t||sf(e,t,n))&&(!r||Pc(e,r,n))}var dd=Ps("Milliseconds"),fd=Ps("Seconds"),Gl=Ps("Minutes"),hd=Ps("Hours"),US=Ps("Day"),WS=Ps("Date"),Yh=Ps("Month"),_o=Ps("FullYear");function CE(e,t){return t===void 0?_o(Xr(e,No)):Ba(e,t+10,jo)}function LE(e,t){return t===void 0?_o(Xr(e,So)):Ba(e,t+100,jo)}function HS(e,t,r){var n=(US(e)+7-(r||0))%7;return t===void 0?n:Ba(e,t-n,wo)}function ME(e,t,r,n){var a,i,o;switch(r){case Gh:case sd:case od:case ld:case wo:case Hl:a=t.getTime()-e.getTime();break;case cd:case jo:case No:case So:a=(_o(t)-_o(e))*12+Yh(t)-Yh(e);break;default:throw new TypeError('Invalid units: "'+r+'"')}switch(r){case Gh:i=1;break;case sd:i=1e3;break;case od:i=1e3*60;break;case ld:i=1e3*60*60;break;case wo:i=1e3*60*60*24;break;case Hl:i=1e3*60*60*24*7;break;case cd:i=1;break;case jo:i=12;break;case No:i=120;break;case So:i=1200;break;default:throw new TypeError('Invalid units: "'+r+'"')}return o=a/i,n?o:Math.round(o)}function Ps(e){var t=function(r){switch(r){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(e);return function(r,n){if(n===void 0)return r["get"+e]();var a=new Date(r);return a["set"+e](n),t&&a["get"+e]()!=n&&(e==="Hours"||n>=t&&a.getHours()-r.getHours()<Math.floor(n/t))&&a["set"+e](n+t),a}}function Ec(e){return function(t,r,n){return e(+Xr(t,n),+Xr(r,n))}}const F1=Object.freeze(Object.defineProperty({__proto__:null,add:Ba,century:LE,date:WS,day:US,decade:CE,diff:ME,endOf:Vh,eq:Oc,gt:sp,gte:sf,hours:hd,inRange:zS,lt:gb,lte:Pc,max:qS,milliseconds:dd,min:BS,minutes:Gl,month:Yh,neq:pb,seconds:fd,startOf:Xr,subtract:ud,weekday:HS,year:_o},Symbol.toStringTag,{value:"Module"}));function $E(e){if(Array.isArray(e))return u0(e)}function GS(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function DE(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mh(e){return $E(e)||GS(e)||mb(e)||DE()}function IE(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var vb=IE;function RE(e,t){return e===t||e!==e&&t!==t}var of=RE,FE=typeof sa=="object"&&sa&&sa.Object===Object&&sa,VS=FE,BE=VS,qE=typeof self=="object"&&self&&self.Object===Object&&self,zE=BE||qE||Function("return this")(),qa=zE,UE=qa,WE=UE.Symbol,kc=WE,B1=kc,YS=Object.prototype,HE=YS.hasOwnProperty,GE=YS.toString,Au=B1?B1.toStringTag:void 0;function VE(e){var t=HE.call(e,Au),r=e[Au];try{e[Au]=void 0;var n=!0}catch{}var a=GE.call(e);return n&&(t?e[Au]=r:delete e[Au]),a}var YE=VE,KE=Object.prototype,XE=KE.toString;function JE(e){return XE.call(e)}var ZE=JE,q1=kc,QE=YE,ek=ZE,tk="[object Null]",rk="[object Undefined]",z1=q1?q1.toStringTag:void 0;function nk(e){return e==null?e===void 0?rk:tk:z1&&z1 in Object(e)?QE(e):ek(e)}var Gi=nk;function ak(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var ha=ak;const Tc=Nt(ha);var ik=Gi,sk=ha,ok="[object AsyncFunction]",lk="[object Function]",ck="[object GeneratorFunction]",uk="[object Proxy]";function dk(e){if(!sk(e))return!1;var t=ik(e);return t==lk||t==ck||t==ok||t==uk}var op=dk;const it=Nt(op);var fk=9007199254740991;function hk(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=fk}var yb=hk,mk=op,pk=yb;function gk(e){return e!=null&&pk(e.length)&&!mk(e)}var Cc=gk,vk=9007199254740991,yk=/^(?:0|[1-9]\d*)$/;function bk(e,t){var r=typeof e;return t=t??vk,!!t&&(r=="number"||r!="symbol"&&yk.test(e))&&e>-1&&e%1==0&&e<t}var bb=bk,xk=of,wk=Cc,jk=bb,Nk=ha;function Sk(e,t,r){if(!Nk(r))return!1;var n=typeof t;return(n=="number"?wk(r)&&jk(t,r.length):n=="string"&&t in r)?xk(r[t],e):!1}var Lc=Sk,_k=/\s/;function Ak(e){for(var t=e.length;t--&&_k.test(e.charAt(t)););return t}var Ok=Ak,Pk=Ok,Ek=/^\s+/;function kk(e){return e&&e.slice(0,Pk(e)+1).replace(Ek,"")}var Tk=kk;function Ck(e){return e!=null&&typeof e=="object"}var za=Ck,Lk=Gi,Mk=za,$k="[object Symbol]";function Dk(e){return typeof e=="symbol"||Mk(e)&&Lk(e)==$k}var Mc=Dk,Ik=Tk,U1=ha,Rk=Mc,W1=NaN,Fk=/^[-+]0x[0-9a-f]+$/i,Bk=/^0b[01]+$/i,qk=/^0o[0-7]+$/i,zk=parseInt;function Uk(e){if(typeof e=="number")return e;if(Rk(e))return W1;if(U1(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=U1(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Ik(e);var r=Bk.test(e);return r||qk.test(e)?zk(e.slice(2),r?2:8):Fk.test(e)?W1:+e}var KS=Uk,Wk=KS,H1=1/0,Hk=17976931348623157e292;function Gk(e){if(!e)return e===0?e:0;if(e=Wk(e),e===H1||e===-H1){var t=e<0?-1:1;return t*Hk}return e===e?e:0}var XS=Gk,Vk=XS;function Yk(e){var t=Vk(e),r=t%1;return t===t?r?t-r:t:0}var JS=Yk,Kk=vb,Xk=Lc,Jk=JS,Zk=Math.ceil,Qk=Math.max;function eT(e,t,r){(r?Xk(e,t,r):t===void 0)?t=1:t=Qk(Jk(t),0);var n=e==null?0:e.length;if(!n||t<1)return[];for(var a=0,i=0,o=Array(Zk(n/t));a<n;)o[i++]=Kk(e,a,a+=t);return o}var tT=eT;const rT=Nt(tT);function lf(e){return e&&e.ownerDocument||document}function nT(e){var t=lf(e);return t&&t.defaultView||window}function aT(e,t){return nT(e).getComputedStyle(e,t)}var iT=/([A-Z])/g;function sT(e){return e.replace(iT,"-$1").toLowerCase()}var oT=/^ms-/;function ch(e){return sT(e).replace(oT,"-ms-")}var lT=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function cT(e){return!!(e&&lT.test(e))}function Sl(e,t){var r="",n="";if(typeof t=="string")return e.style.getPropertyValue(ch(t))||aT(e).getPropertyValue(ch(t));Object.keys(t).forEach(function(a){var i=t[a];!i&&i!==0?e.style.removeProperty(ch(a)):cT(a)?n+=a+"("+i+") ":r+=ch(a)+": "+i+";"}),n&&(r+="transform: "+n+";"),e.style.cssText+=";"+r}function md(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}function uT(e){return"nodeType"in e&&e.nodeType===document.DOCUMENT_NODE}function xb(e){return"window"in e&&e.window===e?e:uT(e)&&e.defaultView||!1}function ZS(e){var t=e==="pageXOffset"?"scrollLeft":"scrollTop";function r(n,a){var i=xb(n);if(a===void 0)return i?i[e]:n[t];i?i.scrollTo(i[e],a):n[t]=a}return r}const QS=ZS("pageXOffset"),e_=ZS("pageYOffset");function ho(e){var t=lf(e),r={top:0,left:0,height:0,width:0},n=t&&t.documentElement;return!n||!md(n,e)||(e.getBoundingClientRect!==void 0&&(r=e.getBoundingClientRect()),r={top:r.top+e_(n)-(n.clientTop||0),left:r.left+QS(n)-(n.clientLeft||0),width:r.width,height:r.height}),r}var dT=function(t){return!!t&&"offsetParent"in t};function fT(e){for(var t=lf(e),r=e&&e.offsetParent;dT(r)&&r.nodeName!=="HTML"&&Sl(r,"position")==="static";)r=r.offsetParent;return r||t.documentElement}var hT=function(t){return t.nodeName&&t.nodeName.toLowerCase()};function t_(e,t){var r={top:0,left:0},n;if(Sl(e,"position")==="fixed")n=e.getBoundingClientRect();else{var a=t||fT(e);n=ho(e),hT(a)!=="html"&&(r=ho(a));var i=String(Sl(a,"borderTopWidth")||0);r.top+=parseInt(i,10)-e_(a)||0;var o=String(Sl(a,"borderLeftWidth")||0);r.left+=parseInt(o,10)-QS(a)||0}var l=String(Sl(e,"marginTop")||0),c=String(Sl(e,"marginLeft")||0);return dr({},n,{top:n.top-r.top-(parseInt(l,10)||0),left:n.left-r.left-(parseInt(c,10)||0)})}const wb=!!(typeof window<"u"&&window.document&&window.document.createElement);var G1=new Date().getTime();function mT(e){var t=new Date().getTime(),r=Math.max(0,16-(t-G1)),n=setTimeout(e,r);return G1=t,n}var pT=["","webkit","moz","o","ms"],d0="clearTimeout",f0=mT,V1=function(t,r){return t+(t?r[0].toUpperCase()+r.substr(1):r)+"AnimationFrame"};wb&&pT.some(function(e){var t=V1(e,"request");return t in window&&(d0=V1(e,"cancel"),f0=function(n){return window[t](n)}),!!f0});var Y1=function(t){typeof window[d0]=="function"&&window[d0](t)},r_=f0,dv;function gT(e,t){if(!dv){var r=document.body,n=r.matches||r.matchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector;dv=function(i,o){return n.call(i,o)}}return dv(e,t)}var vT=Function.prototype.bind.call(Function.prototype.call,[].slice);function yT(e,t){return vT(e.querySelectorAll(t))}var h0=!1,m0=!1;try{var fv={get passive(){return h0=!0},get once(){return m0=h0=!0}};wb&&(window.addEventListener("test",fv,fv),window.removeEventListener("test",fv,!0))}catch{}function bT(e,t,r,n){if(n&&typeof n!="boolean"&&!m0){var a=n.once,i=n.capture,o=r;!m0&&a&&(o=r.__once||function l(c){this.removeEventListener(t,l,i),r.call(this,c)},r.__once=o),e.addEventListener(t,o,h0?n:i)}e.addEventListener(t,r,n)}function xT(e){const t=I.useRef(e);return I.useEffect(()=>{t.current=e},[e]),t}function K1(e){const t=xT(e);return I.useCallback(function(...r){return t.current&&t.current(...r)},[t])}function X1(){return I.useState(null)}function wT(){const e=I.useRef(!0),t=I.useRef(()=>e.current);return I.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function jT(e){const t=wT();return[e[0],I.useCallback(r=>{if(t())return e[1](r)},[t,e[1]])]}var Tn="top",ua="bottom",da="right",Cn="left",jb="auto",cf=[Tn,ua,da,Cn],Vl="start",pd="end",NT="clippingParents",n_="viewport",Ou="popper",ST="reference",J1=cf.reduce(function(e,t){return e.concat([t+"-"+Vl,t+"-"+pd])},[]),Nb=[].concat(cf,[jb]).reduce(function(e,t){return e.concat([t,t+"-"+Vl,t+"-"+pd])},[]),_T="beforeRead",AT="read",OT="afterRead",PT="beforeMain",ET="main",kT="afterMain",TT="beforeWrite",CT="write",LT="afterWrite",MT=[_T,AT,OT,PT,ET,kT,TT,CT,LT];function di(e){return e.split("-")[0]}function Gn(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Ao(e){var t=Gn(e).Element;return e instanceof t||e instanceof Element}function fi(e){var t=Gn(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Sb(e){if(typeof ShadowRoot>"u")return!1;var t=Gn(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}var mo=Math.max,Kh=Math.min,Yl=Math.round;function p0(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function a_(){return!/^((?!chrome|android).)*safari/i.test(p0())}function Kl(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var n=e.getBoundingClientRect(),a=1,i=1;t&&fi(e)&&(a=e.offsetWidth>0&&Yl(n.width)/e.offsetWidth||1,i=e.offsetHeight>0&&Yl(n.height)/e.offsetHeight||1);var o=Ao(e)?Gn(e):window,l=o.visualViewport,c=!a_()&&r,u=(n.left+(c&&l?l.offsetLeft:0))/a,d=(n.top+(c&&l?l.offsetTop:0))/i,f=n.width/a,h=n.height/i;return{width:f,height:h,top:d,right:u+f,bottom:d+h,left:u,x:u,y:d}}function _b(e){var t=Kl(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function i_(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&Sb(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function ws(e){return e?(e.nodeName||"").toLowerCase():null}function zi(e){return Gn(e).getComputedStyle(e)}function $T(e){return["table","td","th"].indexOf(ws(e))>=0}function Es(e){return((Ao(e)?e.ownerDocument:e.document)||window.document).documentElement}function lp(e){return ws(e)==="html"?e:e.assignedSlot||e.parentNode||(Sb(e)?e.host:null)||Es(e)}function Z1(e){return!fi(e)||zi(e).position==="fixed"?null:e.offsetParent}function DT(e){var t=/firefox/i.test(p0()),r=/Trident/i.test(p0());if(r&&fi(e)){var n=zi(e);if(n.position==="fixed")return null}var a=lp(e);for(Sb(a)&&(a=a.host);fi(a)&&["html","body"].indexOf(ws(a))<0;){var i=zi(a);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||t&&i.willChange==="filter"||t&&i.filter&&i.filter!=="none")return a;a=a.parentNode}return null}function uf(e){for(var t=Gn(e),r=Z1(e);r&&$T(r)&&zi(r).position==="static";)r=Z1(r);return r&&(ws(r)==="html"||ws(r)==="body"&&zi(r).position==="static")?t:r||DT(e)||t}function Ab(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Ku(e,t,r){return mo(e,Kh(t,r))}function IT(e,t,r){var n=Ku(e,t,r);return n>r?r:n}function s_(){return{top:0,right:0,bottom:0,left:0}}function o_(e){return Object.assign({},s_(),e)}function l_(e,t){return t.reduce(function(r,n){return r[n]=e,r},{})}var RT=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,o_(typeof t!="number"?t:l_(t,cf))};function FT(e){var t,r=e.state,n=e.name,a=e.options,i=r.elements.arrow,o=r.modifiersData.popperOffsets,l=di(r.placement),c=Ab(l),u=[Cn,da].indexOf(l)>=0,d=u?"height":"width";if(!(!i||!o)){var f=RT(a.padding,r),h=_b(i),m=c==="y"?Tn:Cn,v=c==="y"?ua:da,g=r.rects.reference[d]+r.rects.reference[c]-o[c]-r.rects.popper[d],x=o[c]-r.rects.reference[c],b=uf(i),y=b?c==="y"?b.clientHeight||0:b.clientWidth||0:0,N=g/2-x/2,_=f[m],w=y-h[d]-f[v],S=y/2-h[d]/2+N,O=Ku(_,S,w),P=c;r.modifiersData[n]=(t={},t[P]=O,t.centerOffset=O-S,t)}}function BT(e){var t=e.state,r=e.options,n=r.element,a=n===void 0?"[data-popper-arrow]":n;a!=null&&(typeof a=="string"&&(a=t.elements.popper.querySelector(a),!a)||i_(t.elements.popper,a)&&(t.elements.arrow=a))}const qT={name:"arrow",enabled:!0,phase:"main",fn:FT,effect:BT,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Xl(e){return e.split("-")[1]}var zT={top:"auto",right:"auto",bottom:"auto",left:"auto"};function UT(e,t){var r=e.x,n=e.y,a=t.devicePixelRatio||1;return{x:Yl(r*a)/a||0,y:Yl(n*a)/a||0}}function Q1(e){var t,r=e.popper,n=e.popperRect,a=e.placement,i=e.variation,o=e.offsets,l=e.position,c=e.gpuAcceleration,u=e.adaptive,d=e.roundOffsets,f=e.isFixed,h=o.x,m=h===void 0?0:h,v=o.y,g=v===void 0?0:v,x=typeof d=="function"?d({x:m,y:g}):{x:m,y:g};m=x.x,g=x.y;var b=o.hasOwnProperty("x"),y=o.hasOwnProperty("y"),N=Cn,_=Tn,w=window;if(u){var S=uf(r),O="clientHeight",P="clientWidth";if(S===Gn(r)&&(S=Es(r),zi(S).position!=="static"&&l==="absolute"&&(O="scrollHeight",P="scrollWidth")),S=S,a===Tn||(a===Cn||a===da)&&i===pd){_=ua;var T=f&&S===w&&w.visualViewport?w.visualViewport.height:S[O];g-=T-n.height,g*=c?1:-1}if(a===Cn||(a===Tn||a===ua)&&i===pd){N=da;var F=f&&S===w&&w.visualViewport?w.visualViewport.width:S[P];m-=F-n.width,m*=c?1:-1}}var k=Object.assign({position:l},u&&zT),C=d===!0?UT({x:m,y:g},Gn(r)):{x:m,y:g};if(m=C.x,g=C.y,c){var D;return Object.assign({},k,(D={},D[_]=y?"0":"",D[N]=b?"0":"",D.transform=(w.devicePixelRatio||1)<=1?"translate("+m+"px, "+g+"px)":"translate3d("+m+"px, "+g+"px, 0)",D))}return Object.assign({},k,(t={},t[_]=y?g+"px":"",t[N]=b?m+"px":"",t.transform="",t))}function WT(e){var t=e.state,r=e.options,n=r.gpuAcceleration,a=n===void 0?!0:n,i=r.adaptive,o=i===void 0?!0:i,l=r.roundOffsets,c=l===void 0?!0:l,u={placement:di(t.placement),variation:Xl(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Q1(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:c})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Q1(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const HT={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:WT,data:{}};var uh={passive:!0};function GT(e){var t=e.state,r=e.instance,n=e.options,a=n.scroll,i=a===void 0?!0:a,o=n.resize,l=o===void 0?!0:o,c=Gn(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&u.forEach(function(d){d.addEventListener("scroll",r.update,uh)}),l&&c.addEventListener("resize",r.update,uh),function(){i&&u.forEach(function(d){d.removeEventListener("scroll",r.update,uh)}),l&&c.removeEventListener("resize",r.update,uh)}}const VT={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:GT,data:{}};var YT={left:"right",right:"left",bottom:"top",top:"bottom"};function $h(e){return e.replace(/left|right|bottom|top/g,function(t){return YT[t]})}var KT={start:"end",end:"start"};function e2(e){return e.replace(/start|end/g,function(t){return KT[t]})}function Ob(e){var t=Gn(e),r=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:r,scrollTop:n}}function Pb(e){return Kl(Es(e)).left+Ob(e).scrollLeft}function XT(e,t){var r=Gn(e),n=Es(e),a=r.visualViewport,i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;var u=a_();(u||!u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l+Pb(e),y:c}}function JT(e){var t,r=Es(e),n=Ob(e),a=(t=e.ownerDocument)==null?void 0:t.body,i=mo(r.scrollWidth,r.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),o=mo(r.scrollHeight,r.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),l=-n.scrollLeft+Pb(e),c=-n.scrollTop;return zi(a||r).direction==="rtl"&&(l+=mo(r.clientWidth,a?a.clientWidth:0)-i),{width:i,height:o,x:l,y:c}}function Eb(e){var t=zi(e),r=t.overflow,n=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+a+n)}function c_(e){return["html","body","#document"].indexOf(ws(e))>=0?e.ownerDocument.body:fi(e)&&Eb(e)?e:c_(lp(e))}function Xu(e,t){var r;t===void 0&&(t=[]);var n=c_(e),a=n===((r=e.ownerDocument)==null?void 0:r.body),i=Gn(n),o=a?[i].concat(i.visualViewport||[],Eb(n)?n:[]):n,l=t.concat(o);return a?l:l.concat(Xu(lp(o)))}function g0(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function ZT(e,t){var r=Kl(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function t2(e,t,r){return t===n_?g0(XT(e,r)):Ao(t)?ZT(t,r):g0(JT(Es(e)))}function QT(e){var t=Xu(lp(e)),r=["absolute","fixed"].indexOf(zi(e).position)>=0,n=r&&fi(e)?uf(e):e;return Ao(n)?t.filter(function(a){return Ao(a)&&i_(a,n)&&ws(a)!=="body"}):[]}function eC(e,t,r,n){var a=t==="clippingParents"?QT(e):[].concat(t),i=[].concat(a,[r]),o=i[0],l=i.reduce(function(c,u){var d=t2(e,u,n);return c.top=mo(d.top,c.top),c.right=Kh(d.right,c.right),c.bottom=Kh(d.bottom,c.bottom),c.left=mo(d.left,c.left),c},t2(e,o,n));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function u_(e){var t=e.reference,r=e.element,n=e.placement,a=n?di(n):null,i=n?Xl(n):null,o=t.x+t.width/2-r.width/2,l=t.y+t.height/2-r.height/2,c;switch(a){case Tn:c={x:o,y:t.y-r.height};break;case ua:c={x:o,y:t.y+t.height};break;case da:c={x:t.x+t.width,y:l};break;case Cn:c={x:t.x-r.width,y:l};break;default:c={x:t.x,y:t.y}}var u=a?Ab(a):null;if(u!=null){var d=u==="y"?"height":"width";switch(i){case Vl:c[u]=c[u]-(t[d]/2-r[d]/2);break;case pd:c[u]=c[u]+(t[d]/2-r[d]/2);break}}return c}function gd(e,t){t===void 0&&(t={});var r=t,n=r.placement,a=n===void 0?e.placement:n,i=r.strategy,o=i===void 0?e.strategy:i,l=r.boundary,c=l===void 0?NT:l,u=r.rootBoundary,d=u===void 0?n_:u,f=r.elementContext,h=f===void 0?Ou:f,m=r.altBoundary,v=m===void 0?!1:m,g=r.padding,x=g===void 0?0:g,b=o_(typeof x!="number"?x:l_(x,cf)),y=h===Ou?ST:Ou,N=e.rects.popper,_=e.elements[v?y:h],w=eC(Ao(_)?_:_.contextElement||Es(e.elements.popper),c,d,o),S=Kl(e.elements.reference),O=u_({reference:S,element:N,placement:a}),P=g0(Object.assign({},N,O)),T=h===Ou?P:S,F={top:w.top-T.top+b.top,bottom:T.bottom-w.bottom+b.bottom,left:w.left-T.left+b.left,right:T.right-w.right+b.right},k=e.modifiersData.offset;if(h===Ou&&k){var C=k[a];Object.keys(F).forEach(function(D){var M=[da,ua].indexOf(D)>=0?1:-1,U=[Tn,ua].indexOf(D)>=0?"y":"x";F[D]+=C[U]*M})}return F}function tC(e,t){t===void 0&&(t={});var r=t,n=r.placement,a=r.boundary,i=r.rootBoundary,o=r.padding,l=r.flipVariations,c=r.allowedAutoPlacements,u=c===void 0?Nb:c,d=Xl(n),f=d?l?J1:J1.filter(function(v){return Xl(v)===d}):cf,h=f.filter(function(v){return u.indexOf(v)>=0});h.length===0&&(h=f);var m=h.reduce(function(v,g){return v[g]=gd(e,{placement:g,boundary:a,rootBoundary:i,padding:o})[di(g)],v},{});return Object.keys(m).sort(function(v,g){return m[v]-m[g]})}function rC(e){if(di(e)===jb)return[];var t=$h(e);return[e2(e),t,e2(t)]}function nC(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var a=r.mainAxis,i=a===void 0?!0:a,o=r.altAxis,l=o===void 0?!0:o,c=r.fallbackPlacements,u=r.padding,d=r.boundary,f=r.rootBoundary,h=r.altBoundary,m=r.flipVariations,v=m===void 0?!0:m,g=r.allowedAutoPlacements,x=t.options.placement,b=di(x),y=b===x,N=c||(y||!v?[$h(x)]:rC(x)),_=[x].concat(N).reduce(function(Q,ne){return Q.concat(di(ne)===jb?tC(t,{placement:ne,boundary:d,rootBoundary:f,padding:u,flipVariations:v,allowedAutoPlacements:g}):ne)},[]),w=t.rects.reference,S=t.rects.popper,O=new Map,P=!0,T=_[0],F=0;F<_.length;F++){var k=_[F],C=di(k),D=Xl(k)===Vl,M=[Tn,ua].indexOf(C)>=0,U=M?"width":"height",W=gd(t,{placement:k,boundary:d,rootBoundary:f,altBoundary:h,padding:u}),R=M?D?da:Cn:D?ua:Tn;w[U]>S[U]&&(R=$h(R));var K=$h(R),Y=[];if(i&&Y.push(W[C]<=0),l&&Y.push(W[R]<=0,W[K]<=0),Y.every(function(Q){return Q})){T=k,P=!1;break}O.set(k,Y)}if(P)for(var Z=v?3:1,ae=function(ne){var se=_.find(function(he){var de=O.get(he);if(de)return de.slice(0,ne).every(function(ie){return ie})});if(se)return T=se,"break"},$=Z;$>0;$--){var H=ae($);if(H==="break")break}t.placement!==T&&(t.modifiersData[n]._skip=!0,t.placement=T,t.reset=!0)}}const aC={name:"flip",enabled:!0,phase:"main",fn:nC,requiresIfExists:["offset"],data:{_skip:!1}};function r2(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function n2(e){return[Tn,da,ua,Cn].some(function(t){return e[t]>=0})}function iC(e){var t=e.state,r=e.name,n=t.rects.reference,a=t.rects.popper,i=t.modifiersData.preventOverflow,o=gd(t,{elementContext:"reference"}),l=gd(t,{altBoundary:!0}),c=r2(o,n),u=r2(l,a,i),d=n2(c),f=n2(u);t.modifiersData[r]={referenceClippingOffsets:c,popperEscapeOffsets:u,isReferenceHidden:d,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":f})}const sC={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:iC};function oC(e,t,r){var n=di(e),a=[Cn,Tn].indexOf(n)>=0?-1:1,i=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,o=i[0],l=i[1];return o=o||0,l=(l||0)*a,[Cn,da].indexOf(n)>=0?{x:l,y:o}:{x:o,y:l}}function lC(e){var t=e.state,r=e.options,n=e.name,a=r.offset,i=a===void 0?[0,0]:a,o=Nb.reduce(function(d,f){return d[f]=oC(f,t.rects,i),d},{}),l=o[t.placement],c=l.x,u=l.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=u),t.modifiersData[n]=o}const cC={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:lC};function uC(e){var t=e.state,r=e.name;t.modifiersData[r]=u_({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const dC={name:"popperOffsets",enabled:!0,phase:"read",fn:uC,data:{}};function fC(e){return e==="x"?"y":"x"}function hC(e){var t=e.state,r=e.options,n=e.name,a=r.mainAxis,i=a===void 0?!0:a,o=r.altAxis,l=o===void 0?!1:o,c=r.boundary,u=r.rootBoundary,d=r.altBoundary,f=r.padding,h=r.tether,m=h===void 0?!0:h,v=r.tetherOffset,g=v===void 0?0:v,x=gd(t,{boundary:c,rootBoundary:u,padding:f,altBoundary:d}),b=di(t.placement),y=Xl(t.placement),N=!y,_=Ab(b),w=fC(_),S=t.modifiersData.popperOffsets,O=t.rects.reference,P=t.rects.popper,T=typeof g=="function"?g(Object.assign({},t.rects,{placement:t.placement})):g,F=typeof T=="number"?{mainAxis:T,altAxis:T}:Object.assign({mainAxis:0,altAxis:0},T),k=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,C={x:0,y:0};if(S){if(i){var D,M=_==="y"?Tn:Cn,U=_==="y"?ua:da,W=_==="y"?"height":"width",R=S[_],K=R+x[M],Y=R-x[U],Z=m?-P[W]/2:0,ae=y===Vl?O[W]:P[W],$=y===Vl?-P[W]:-O[W],H=t.elements.arrow,Q=m&&H?_b(H):{width:0,height:0},ne=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:s_(),se=ne[M],he=ne[U],de=Ku(0,O[W],Q[W]),ie=N?O[W]/2-Z-de-se-F.mainAxis:ae-de-se-F.mainAxis,xe=N?-O[W]/2+Z+de+he+F.mainAxis:$+de+he+F.mainAxis,be=t.elements.arrow&&uf(t.elements.arrow),me=be?_==="y"?be.clientTop||0:be.clientLeft||0:0,Ee=(D=k==null?void 0:k[_])!=null?D:0,$e=R+ie-Ee-me,ye=R+xe-Ee,re=Ku(m?Kh(K,$e):K,R,m?mo(Y,ye):Y);S[_]=re,C[_]=re-R}if(l){var Ke,Be=_==="x"?Tn:Cn,ke=_==="x"?ua:da,Ce=S[w],De=w==="y"?"height":"width",Me=Ce+x[Be],Ye=Ce-x[ke],et=[Tn,Cn].indexOf(b)!==-1,st=(Ke=k==null?void 0:k[w])!=null?Ke:0,gt=et?Me:Ce-O[De]-P[De]-st+F.altAxis,xt=et?Ce+O[De]+P[De]-st-F.altAxis:Ye,Et=m&&et?IT(gt,Ce,xt):Ku(m?gt:Me,Ce,m?xt:Ye);S[w]=Et,C[w]=Et-Ce}t.modifiersData[n]=C}}const mC={name:"preventOverflow",enabled:!0,phase:"main",fn:hC,requiresIfExists:["offset"]};function pC(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function gC(e){return e===Gn(e)||!fi(e)?Ob(e):pC(e)}function vC(e){var t=e.getBoundingClientRect(),r=Yl(t.width)/e.offsetWidth||1,n=Yl(t.height)/e.offsetHeight||1;return r!==1||n!==1}function yC(e,t,r){r===void 0&&(r=!1);var n=fi(t),a=fi(t)&&vC(t),i=Es(t),o=Kl(e,a,r),l={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(n||!n&&!r)&&((ws(t)!=="body"||Eb(i))&&(l=gC(t)),fi(t)?(c=Kl(t,!0),c.x+=t.clientLeft,c.y+=t.clientTop):i&&(c.x=Pb(i))),{x:o.left+l.scrollLeft-c.x,y:o.top+l.scrollTop-c.y,width:o.width,height:o.height}}function bC(e){var t=new Map,r=new Set,n=[];e.forEach(function(i){t.set(i.name,i)});function a(i){r.add(i.name);var o=[].concat(i.requires||[],i.requiresIfExists||[]);o.forEach(function(l){if(!r.has(l)){var c=t.get(l);c&&a(c)}}),n.push(i)}return e.forEach(function(i){r.has(i.name)||a(i)}),n}function xC(e){var t=bC(e);return MT.reduce(function(r,n){return r.concat(t.filter(function(a){return a.phase===n}))},[])}function wC(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function jC(e){var t=e.reduce(function(r,n){var a=r[n.name];return r[n.name]=a?Object.assign({},a,n,{options:Object.assign({},a.options,n.options),data:Object.assign({},a.data,n.data)}):n,r},{});return Object.keys(t).map(function(r){return t[r]})}var a2={placement:"bottom",modifiers:[],strategy:"absolute"};function i2(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function NC(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,n=r===void 0?[]:r,a=t.defaultOptions,i=a===void 0?a2:a;return function(l,c,u){u===void 0&&(u=i);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},a2,i),modifiersData:{},elements:{reference:l,popper:c},attributes:{},styles:{}},f=[],h=!1,m={state:d,setOptions:function(b){var y=typeof b=="function"?b(d.options):b;g(),d.options=Object.assign({},i,d.options,y),d.scrollParents={reference:Ao(l)?Xu(l):l.contextElement?Xu(l.contextElement):[],popper:Xu(c)};var N=xC(jC([].concat(n,d.options.modifiers)));return d.orderedModifiers=N.filter(function(_){return _.enabled}),v(),m.update()},forceUpdate:function(){if(!h){var b=d.elements,y=b.reference,N=b.popper;if(i2(y,N)){d.rects={reference:yC(y,uf(N),d.options.strategy==="fixed"),popper:_b(N)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(F){return d.modifiersData[F.name]=Object.assign({},F.data)});for(var _=0;_<d.orderedModifiers.length;_++){if(d.reset===!0){d.reset=!1,_=-1;continue}var w=d.orderedModifiers[_],S=w.fn,O=w.options,P=O===void 0?{}:O,T=w.name;typeof S=="function"&&(d=S({state:d,options:P,name:T,instance:m})||d)}}}},update:wC(function(){return new Promise(function(x){m.forceUpdate(),x(d)})}),destroy:function(){g(),h=!0}};if(!i2(l,c))return m;m.setOptions(u).then(function(x){!h&&u.onFirstUpdate&&u.onFirstUpdate(x)});function v(){d.orderedModifiers.forEach(function(x){var b=x.name,y=x.options,N=y===void 0?{}:y,_=x.effect;if(typeof _=="function"){var w=_({state:d,name:b,instance:m,options:N}),S=function(){};f.push(w||S)}})}function g(){f.forEach(function(x){return x()}),f=[]}return m}}var SC=NC({defaultModifiers:[sC,dC,HT,VT,cC,aC,mC,qT]}),s2=function(t){return{position:t,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},_C={name:"applyStyles",enabled:!1},AC={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(t){var r=t.state;return function(){var n=r.elements,a=n.reference,i=n.popper;if("removeAttribute"in a){var o=(a.getAttribute("aria-describedby")||"").split(",").filter(function(l){return l.trim()!==i.id});o.length?a.setAttribute("aria-describedby",o.join(",")):a.removeAttribute("aria-describedby")}}},fn:function(t){var r,n=t.state,a=n.elements,i=a.popper,o=a.reference,l=(r=i.getAttribute("role"))==null?void 0:r.toLowerCase();if(i.id&&l==="tooltip"&&"setAttribute"in o){var c=o.getAttribute("aria-describedby");if(c&&c.split(",").indexOf(i.id)!==-1)return;o.setAttribute("aria-describedby",c?c+","+i.id:i.id)}}},OC=[];function PC(e,t,r){var n=r===void 0?{}:r,a=n.enabled,i=a===void 0?!0:a,o=n.placement,l=o===void 0?"bottom":o,c=n.strategy,u=c===void 0?"absolute":c,d=n.modifiers,f=d===void 0?OC:d,h=ip(n,["enabled","placement","strategy","modifiers"]),m=I.useRef(),v=I.useCallback(function(){var _;(_=m.current)==null||_.update()},[]),g=I.useCallback(function(){var _;(_=m.current)==null||_.forceUpdate()},[]),x=jT(I.useState({placement:l,update:v,forceUpdate:g,attributes:{},styles:{popper:s2(u),arrow:{}}})),b=x[0],y=x[1],N=I.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(w){var S=w.state,O={},P={};Object.keys(S.elements).forEach(function(T){O[T]=S.styles[T],P[T]=S.attributes[T]}),y({state:S,styles:O,attributes:P,update:v,forceUpdate:g,placement:S.placement})}}},[v,g,y]);return I.useEffect(function(){!m.current||!i||m.current.setOptions({placement:l,strategy:u,modifiers:[].concat(f,[N,_C])})},[u,l,N,i]),I.useEffect(function(){if(!(!i||e==null||t==null))return m.current=SC(e,t,dr({},h,{placement:l,strategy:u,modifiers:[].concat(f,[AC,N])})),function(){m.current!=null&&(m.current.destroy(),m.current=void 0,y(function(_){return dr({},_,{attributes:{},styles:{popper:s2(u)}})}))}},[i,e,t]),b}function EC(e,t,r,n){var a=n&&typeof n!="boolean"?n.capture:n;e.removeEventListener(t,r,a),r.__once&&e.removeEventListener(t,r.__once,a)}function Gu(e,t,r,n){return bT(e,t,r,n),function(){EC(e,t,r,n)}}var kC=function(){},TC=kC;const CC=Nt(TC);function LC(e){return e&&"setState"in e?NS.findDOMNode(e):e??null}const MC=function(e){return lf(LC(e))};var $C=27,o2=function(){};function DC(e){return e.button===0}function IC(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var l2=function(t){return t&&("current"in t?t.current:t)};function RC(e,t,r){var n=r===void 0?{}:r,a=n.disabled,i=n.clickTrigger,o=i===void 0?"click":i,l=I.useRef(!1),c=t||o2,u=I.useCallback(function(h){var m,v=l2(e);CC(!!v,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),l.current=!v||IC(h)||!DC(h)||!!md(v,(m=h.composedPath==null?void 0:h.composedPath()[0])!=null?m:h.target)},[e]),d=K1(function(h){l.current||c(h)}),f=K1(function(h){h.keyCode===$C&&c(h)});I.useEffect(function(){if(!(a||e==null)){var h=window.event,m=MC(l2(e)),v=Gu(m,o,u,!0),g=Gu(m,o,function(y){if(y===h){h=void 0;return}d(y)}),x=Gu(m,"keyup",function(y){if(y===h){h=void 0;return}f(y)}),b=[];return"ontouchstart"in m.documentElement&&(b=[].slice.call(m.body.children).map(function(y){return Gu(y,"mousemove",o2)})),function(){v(),g(),x(),b.forEach(function(y){return y()})}}},[e,a,o,u,d,f])}function FC(e){var t={};return Array.isArray(e)?(e==null||e.forEach(function(r){t[r.name]=r}),t):e||t}function BC(e){return e===void 0&&(e={}),Array.isArray(e)?e:Object.keys(e).map(function(t){return e[t].name=t,e[t]})}function qC(e){var t,r,n,a,i=e.enabled,o=e.enableEvents,l=e.placement,c=e.flip,u=e.offset,d=e.fixed,f=e.containerPadding,h=e.arrowElement,m=e.popperConfig,v=m===void 0?{}:m,g=FC(v.modifiers);return dr({},v,{placement:l,enabled:i,strategy:d?"fixed":v.strategy,modifiers:BC(dr({},g,{eventListeners:{enabled:o},preventOverflow:dr({},g.preventOverflow,{options:f?dr({padding:f},(t=g.preventOverflow)==null?void 0:t.options):(r=g.preventOverflow)==null?void 0:r.options}),offset:{options:dr({offset:u},(n=g.offset)==null?void 0:n.options)},arrow:dr({},g.arrow,{enabled:!!h,options:dr({},(a=g.arrow)==null?void 0:a.options,{element:h})}),flip:dr({enabled:!!c},g.flip)}))})}function zC(e,t){return e.classList?e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function UC(e,t){e.classList?e.classList.add(t):zC(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function c2(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function WC(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=c2(e.className,t):e.setAttribute("class",c2(e.className&&e.className.baseVal||"",t))}var dh;function kb(e){if((!dh&&dh!==0||e)&&wb){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),dh=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return dh}var hv=function(t){var r;return typeof document>"u"?null:t==null?lf().body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),(r=t)!=null&&r.nodeType&&t||null)};function u2(e,t){var r=I.useState(function(){return hv(e)}),n=r[0],a=r[1];if(!n){var i=hv(e);i&&a(i)}return I.useEffect(function(){},[t,n]),I.useEffect(function(){var o=hv(e);o!==n&&a(o)},[e,n]),n}const d2=e=>!e||typeof e=="function"?e:t=>{e.current=t};function HC(e,t){const r=d2(e),n=d2(t);return a=>{r&&r(a),n&&n(a)}}function GC(e,t){return I.useMemo(()=>HC(e,t),[e,t])}var Tb=z.forwardRef(function(e,t){var r=e.flip,n=e.offset,a=e.placement,i=e.containerPadding,o=i===void 0?5:i,l=e.popperConfig,c=l===void 0?{}:l,u=e.transition,d=X1(),f=d[0],h=d[1],m=X1(),v=m[0],g=m[1],x=GC(h,t),b=u2(e.container),y=u2(e.target),N=I.useState(!e.show),_=N[0],w=N[1],S=PC(y,f,qC({placement:a,enableEvents:!!e.show,containerPadding:o||5,flip:r,offset:n,arrowElement:v,popperConfig:c})),O=S.styles,P=S.attributes,T=ip(S,["styles","attributes"]);e.show?_&&w(!1):!e.transition&&!_&&w(!0);var F=function(){w(!0),e.onExited&&e.onExited.apply(e,arguments)},k=e.show||u&&!_;if(RC(f,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!k)return null;var C=e.children(dr({},T,{show:!!e.show,props:dr({},P.popper,{style:O.popper,ref:x}),arrowProps:dr({},P.arrow,{style:O.arrow,ref:g})}));if(u){var D=e.onExit,M=e.onExiting,U=e.onEnter,W=e.onEntering,R=e.onEntered;C=z.createElement(u,{in:e.show,appear:!0,onExit:D,onExiting:M,onExited:F,onEnter:U,onEntering:W,onEntered:R},C)}return b?NS.createPortal(C,b):null});Tb.displayName="Overlay";Tb.propTypes={show:Se.bool,placement:Se.oneOf(Nb),target:Se.any,container:Se.any,flip:Se.bool,children:Se.func.isRequired,containerPadding:Se.number,popperConfig:Se.object,rootClose:Se.bool,rootCloseEvent:Se.oneOf(["click","mousedown"]),rootCloseDisabled:Se.bool,onHide:function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];if(t.rootClose){var i;return(i=Se.func).isRequired.apply(i,[t].concat(n))}return Se.func.apply(Se,[t].concat(n))},transition:Se.elementType,onEnter:Se.func,onEntering:Se.func,onEntered:Se.func,onExit:Se.func,onExiting:Se.func,onExited:Se.func};function VC(){this.__data__=[],this.size=0}var YC=VC,KC=of;function XC(e,t){for(var r=e.length;r--;)if(KC(e[r][0],t))return r;return-1}var cp=XC,JC=cp,ZC=Array.prototype,QC=ZC.splice;function eL(e){var t=this.__data__,r=JC(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():QC.call(t,r,1),--this.size,!0}var tL=eL,rL=cp;function nL(e){var t=this.__data__,r=rL(t,e);return r<0?void 0:t[r][1]}var aL=nL,iL=cp;function sL(e){return iL(this.__data__,e)>-1}var oL=sL,lL=cp;function cL(e,t){var r=this.__data__,n=lL(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var uL=cL,dL=YC,fL=tL,hL=aL,mL=oL,pL=uL;function $c(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}$c.prototype.clear=dL;$c.prototype.delete=fL;$c.prototype.get=hL;$c.prototype.has=mL;$c.prototype.set=pL;var up=$c,gL=up;function vL(){this.__data__=new gL,this.size=0}var yL=vL;function bL(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var xL=bL;function wL(e){return this.__data__.get(e)}var jL=wL;function NL(e){return this.__data__.has(e)}var SL=NL,_L=qa,AL=_L["__core-js_shared__"],OL=AL,mv=OL,f2=function(){var e=/[^.]+$/.exec(mv&&mv.keys&&mv.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function PL(e){return!!f2&&f2 in e}var EL=PL,kL=Function.prototype,TL=kL.toString;function CL(e){if(e!=null){try{return TL.call(e)}catch{}try{return e+""}catch{}}return""}var d_=CL,LL=op,ML=EL,$L=ha,DL=d_,IL=/[\\^$.*+?()[\]{}|]/g,RL=/^\[object .+?Constructor\]$/,FL=Function.prototype,BL=Object.prototype,qL=FL.toString,zL=BL.hasOwnProperty,UL=RegExp("^"+qL.call(zL).replace(IL,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function WL(e){if(!$L(e)||ML(e))return!1;var t=LL(e)?UL:RL;return t.test(DL(e))}var HL=WL;function GL(e,t){return e==null?void 0:e[t]}var VL=GL,YL=HL,KL=VL;function XL(e,t){var r=KL(e,t);return YL(r)?r:void 0}var Do=XL,JL=Do,ZL=qa,QL=JL(ZL,"Map"),Cb=QL,eM=Do,tM=eM(Object,"create"),dp=tM,h2=dp;function rM(){this.__data__=h2?h2(null):{},this.size=0}var nM=rM;function aM(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var iM=aM,sM=dp,oM="__lodash_hash_undefined__",lM=Object.prototype,cM=lM.hasOwnProperty;function uM(e){var t=this.__data__;if(sM){var r=t[e];return r===oM?void 0:r}return cM.call(t,e)?t[e]:void 0}var dM=uM,fM=dp,hM=Object.prototype,mM=hM.hasOwnProperty;function pM(e){var t=this.__data__;return fM?t[e]!==void 0:mM.call(t,e)}var gM=pM,vM=dp,yM="__lodash_hash_undefined__";function bM(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=vM&&t===void 0?yM:t,this}var xM=bM,wM=nM,jM=iM,NM=dM,SM=gM,_M=xM;function Dc(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Dc.prototype.clear=wM;Dc.prototype.delete=jM;Dc.prototype.get=NM;Dc.prototype.has=SM;Dc.prototype.set=_M;var AM=Dc,m2=AM,OM=up,PM=Cb;function EM(){this.size=0,this.__data__={hash:new m2,map:new(PM||OM),string:new m2}}var kM=EM;function TM(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var CM=TM,LM=CM;function MM(e,t){var r=e.__data__;return LM(t)?r[typeof t=="string"?"string":"hash"]:r.map}var fp=MM,$M=fp;function DM(e){var t=$M(this,e).delete(e);return this.size-=t?1:0,t}var IM=DM,RM=fp;function FM(e){return RM(this,e).get(e)}var BM=FM,qM=fp;function zM(e){return qM(this,e).has(e)}var UM=zM,WM=fp;function HM(e,t){var r=WM(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var GM=HM,VM=kM,YM=IM,KM=BM,XM=UM,JM=GM;function Ic(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ic.prototype.clear=VM;Ic.prototype.delete=YM;Ic.prototype.get=KM;Ic.prototype.has=XM;Ic.prototype.set=JM;var Lb=Ic,ZM=up,QM=Cb,e$=Lb,t$=200;function r$(e,t){var r=this.__data__;if(r instanceof ZM){var n=r.__data__;if(!QM||n.length<t$-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new e$(n)}return r.set(e,t),this.size=r.size,this}var n$=r$,a$=up,i$=yL,s$=xL,o$=jL,l$=SL,c$=n$;function Rc(e){var t=this.__data__=new a$(e);this.size=t.size}Rc.prototype.clear=i$;Rc.prototype.delete=s$;Rc.prototype.get=o$;Rc.prototype.has=l$;Rc.prototype.set=c$;var Mb=Rc,u$="__lodash_hash_undefined__";function d$(e){return this.__data__.set(e,u$),this}var f$=d$;function h$(e){return this.__data__.has(e)}var m$=h$,p$=Lb,g$=f$,v$=m$;function Xh(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new p$;++t<r;)this.add(e[t])}Xh.prototype.add=Xh.prototype.push=g$;Xh.prototype.has=v$;var f_=Xh;function y$(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var h_=y$;function b$(e,t){return e.has(t)}var m_=b$,x$=f_,w$=h_,j$=m_,N$=1,S$=2;function _$(e,t,r,n,a,i){var o=r&N$,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,m=r&S$?new x$:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var v=e[f],g=t[f];if(n)var x=o?n(g,v,f,t,e,i):n(v,g,f,e,t,i);if(x!==void 0){if(x)continue;h=!1;break}if(m){if(!w$(t,function(b,y){if(!j$(m,y)&&(v===b||a(v,b,r,n,i)))return m.push(y)})){h=!1;break}}else if(!(v===g||a(v,g,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var p_=_$,A$=qa,O$=A$.Uint8Array,g_=O$;function P$(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var E$=P$;function k$(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var $b=k$,p2=kc,g2=g_,T$=of,C$=p_,L$=E$,M$=$b,$$=1,D$=2,I$="[object Boolean]",R$="[object Date]",F$="[object Error]",B$="[object Map]",q$="[object Number]",z$="[object RegExp]",U$="[object Set]",W$="[object String]",H$="[object Symbol]",G$="[object ArrayBuffer]",V$="[object DataView]",v2=p2?p2.prototype:void 0,pv=v2?v2.valueOf:void 0;function Y$(e,t,r,n,a,i,o){switch(r){case V$:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case G$:return!(e.byteLength!=t.byteLength||!i(new g2(e),new g2(t)));case I$:case R$:case q$:return T$(+e,+t);case F$:return e.name==t.name&&e.message==t.message;case z$:case W$:return e==t+"";case B$:var l=L$;case U$:var c=n&$$;if(l||(l=M$),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=D$,o.set(e,t);var d=C$(l(e),l(t),n,a,i,o);return o.delete(e),d;case H$:if(pv)return pv.call(e)==pv.call(t)}return!1}var K$=Y$;function X$(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var Db=X$,J$=Array.isArray,dn=J$,Z$=Db,Q$=dn;function eD(e,t,r){var n=t(e);return Q$(e)?n:Z$(n,r(e))}var v_=eD;function tD(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}var rD=tD;function nD(){return[]}var y_=nD,aD=rD,iD=y_,sD=Object.prototype,oD=sD.propertyIsEnumerable,y2=Object.getOwnPropertySymbols,lD=y2?function(e){return e==null?[]:(e=Object(e),aD(y2(e),function(t){return oD.call(e,t)}))}:iD,Ib=lD;function cD(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var uD=cD,dD=Gi,fD=za,hD="[object Arguments]";function mD(e){return fD(e)&&dD(e)==hD}var pD=mD,b2=pD,gD=za,b_=Object.prototype,vD=b_.hasOwnProperty,yD=b_.propertyIsEnumerable,bD=b2(function(){return arguments}())?b2:function(e){return gD(e)&&vD.call(e,"callee")&&!yD.call(e,"callee")},Rb=bD,Jh={exports:{}};function xD(){return!1}var wD=xD;Jh.exports;(function(e,t){var r=qa,n=wD,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(Jh,Jh.exports);var hp=Jh.exports,jD=Gi,ND=yb,SD=za,_D="[object Arguments]",AD="[object Array]",OD="[object Boolean]",PD="[object Date]",ED="[object Error]",kD="[object Function]",TD="[object Map]",CD="[object Number]",LD="[object Object]",MD="[object RegExp]",$D="[object Set]",DD="[object String]",ID="[object WeakMap]",RD="[object ArrayBuffer]",FD="[object DataView]",BD="[object Float32Array]",qD="[object Float64Array]",zD="[object Int8Array]",UD="[object Int16Array]",WD="[object Int32Array]",HD="[object Uint8Array]",GD="[object Uint8ClampedArray]",VD="[object Uint16Array]",YD="[object Uint32Array]",Jt={};Jt[BD]=Jt[qD]=Jt[zD]=Jt[UD]=Jt[WD]=Jt[HD]=Jt[GD]=Jt[VD]=Jt[YD]=!0;Jt[_D]=Jt[AD]=Jt[RD]=Jt[OD]=Jt[FD]=Jt[PD]=Jt[ED]=Jt[kD]=Jt[TD]=Jt[CD]=Jt[LD]=Jt[MD]=Jt[$D]=Jt[DD]=Jt[ID]=!1;function KD(e){return SD(e)&&ND(e.length)&&!!Jt[jD(e)]}var XD=KD;function JD(e){return function(t){return e(t)}}var mp=JD,Zh={exports:{}};Zh.exports;(function(e,t){var r=VS,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,o=i&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(Zh,Zh.exports);var Fb=Zh.exports,ZD=XD,QD=mp,x2=Fb,w2=x2&&x2.isTypedArray,e8=w2?QD(w2):ZD,Bb=e8,t8=uD,r8=Rb,n8=dn,a8=hp,i8=bb,s8=Bb,o8=Object.prototype,l8=o8.hasOwnProperty;function c8(e,t){var r=n8(e),n=!r&&r8(e),a=!r&&!n&&a8(e),i=!r&&!n&&!a&&s8(e),o=r||n||a||i,l=o?t8(e.length,String):[],c=l.length;for(var u in e)(t||l8.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||i8(u,c)))&&l.push(u);return l}var x_=c8,u8=Object.prototype;function d8(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||u8;return e===r}var qb=d8;function f8(e,t){return function(r){return e(t(r))}}var w_=f8,h8=w_,m8=h8(Object.keys,Object),p8=m8,g8=qb,v8=p8,y8=Object.prototype,b8=y8.hasOwnProperty;function x8(e){if(!g8(e))return v8(e);var t=[];for(var r in Object(e))b8.call(e,r)&&r!="constructor"&&t.push(r);return t}var w8=x8,j8=x_,N8=w8,S8=Cc;function _8(e){return S8(e)?j8(e):N8(e)}var Fc=_8,A8=v_,O8=Ib,P8=Fc;function E8(e){return A8(e,P8,O8)}var j_=E8,j2=j_,k8=1,T8=Object.prototype,C8=T8.hasOwnProperty;function L8(e,t,r,n,a,i){var o=r&k8,l=j2(e),c=l.length,u=j2(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:C8.call(t,h)))return!1}var m=i.get(e),v=i.get(t);if(m&&v)return m==t&&v==e;var g=!0;i.set(e,t),i.set(t,e);for(var x=o;++f<c;){h=l[f];var b=e[h],y=t[h];if(n)var N=o?n(y,b,h,t,e,i):n(b,y,h,e,t,i);if(!(N===void 0?b===y||a(b,y,r,n,i):N)){g=!1;break}x||(x=h=="constructor")}if(g&&!x){var _=e.constructor,w=t.constructor;_!=w&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof w=="function"&&w instanceof w)&&(g=!1)}return i.delete(e),i.delete(t),g}var M8=L8,$8=Do,D8=qa,I8=$8(D8,"DataView"),R8=I8,F8=Do,B8=qa,q8=F8(B8,"Promise"),z8=q8,U8=Do,W8=qa,H8=U8(W8,"Set"),N_=H8,G8=Do,V8=qa,Y8=G8(V8,"WeakMap"),K8=Y8,v0=R8,y0=Cb,b0=z8,x0=N_,w0=K8,S_=Gi,Bc=d_,N2="[object Map]",X8="[object Object]",S2="[object Promise]",_2="[object Set]",A2="[object WeakMap]",O2="[object DataView]",J8=Bc(v0),Z8=Bc(y0),Q8=Bc(b0),eI=Bc(x0),tI=Bc(w0),Qs=S_;(v0&&Qs(new v0(new ArrayBuffer(1)))!=O2||y0&&Qs(new y0)!=N2||b0&&Qs(b0.resolve())!=S2||x0&&Qs(new x0)!=_2||w0&&Qs(new w0)!=A2)&&(Qs=function(e){var t=S_(e),r=t==X8?e.constructor:void 0,n=r?Bc(r):"";if(n)switch(n){case J8:return O2;case Z8:return N2;case Q8:return S2;case eI:return _2;case tI:return A2}return t});var pp=Qs,gv=Mb,rI=p_,nI=K$,aI=M8,P2=pp,E2=dn,k2=hp,iI=Bb,sI=1,T2="[object Arguments]",C2="[object Array]",fh="[object Object]",oI=Object.prototype,L2=oI.hasOwnProperty;function lI(e,t,r,n,a,i){var o=E2(e),l=E2(t),c=o?C2:P2(e),u=l?C2:P2(t);c=c==T2?fh:c,u=u==T2?fh:u;var d=c==fh,f=u==fh,h=c==u;if(h&&k2(e)){if(!k2(t))return!1;o=!0,d=!1}if(h&&!d)return i||(i=new gv),o||iI(e)?rI(e,t,r,n,a,i):nI(e,t,c,r,n,a,i);if(!(r&sI)){var m=d&&L2.call(e,"__wrapped__"),v=f&&L2.call(t,"__wrapped__");if(m||v){var g=m?e.value():e,x=v?t.value():t;return i||(i=new gv),a(g,x,r,n,i)}}return h?(i||(i=new gv),aI(e,t,r,n,a,i)):!1}var cI=lI,uI=cI,M2=za;function __(e,t,r,n,a){return e===t?!0:e==null||t==null||!M2(e)&&!M2(t)?e!==e&&t!==t:uI(e,t,r,n,__,a)}var zb=__,dI=zb;function fI(e,t){return dI(e,t)}var hI=fI;const Oo=Nt(hI);function vv(e,t){var r=xb(e);return r?r.innerHeight:ho(e).height}function A_(e,t,r){e.closest&&!r&&e.closest(t);var n=e;do{if(gT(n,t))return n;n=n.parentElement}while(n&&n!==r&&n.nodeType===document.ELEMENT_NODE);return null}function mI(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var O_=mI,pI=Mb,gI=zb,vI=1,yI=2;function bI(e,t,r,n){var a=r.length,i=a,o=!n;if(e==null)return!i;for(e=Object(e);a--;){var l=r[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=r[a];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new pI;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?gI(d,u,vI|yI,n,f):h))return!1}}return!0}var xI=bI,wI=ha;function jI(e){return e===e&&!wI(e)}var P_=jI,NI=P_,SI=Fc;function _I(e){for(var t=SI(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,NI(a)]}return t}var AI=_I;function OI(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var E_=OI,PI=xI,EI=AI,kI=E_;function TI(e){var t=EI(e);return t.length==1&&t[0][2]?kI(t[0][0],t[0][1]):function(r){return r===e||PI(r,e,t)}}var CI=TI,LI=dn,MI=Mc,$I=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,DI=/^\w*$/;function II(e,t){if(LI(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||MI(e)?!0:DI.test(e)||!$I.test(e)||t!=null&&e in Object(t)}var Ub=II,k_=Lb,RI="Expected a function";function Wb(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(RI);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(Wb.Cache||k_),r}Wb.Cache=k_;var T_=Wb;const FI=Nt(T_);var BI=T_,qI=500;function zI(e){var t=BI(e,function(n){return r.size===qI&&r.clear(),n}),r=t.cache;return t}var UI=zI,WI=UI,HI=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,GI=/\\(\\)?/g,VI=WI(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(HI,function(r,n,a,i){t.push(a?i.replace(GI,"$1"):n||r)}),t}),YI=VI;function KI(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var gp=KI,$2=kc,XI=gp,JI=dn,ZI=Mc,D2=$2?$2.prototype:void 0,I2=D2?D2.toString:void 0;function C_(e){if(typeof e=="string")return e;if(JI(e))return XI(e,C_)+"";if(ZI(e))return I2?I2.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var QI=C_,e7=QI;function t7(e){return e==null?"":e7(e)}var L_=t7,r7=dn,n7=Ub,a7=YI,i7=L_;function s7(e,t){return r7(e)?e:n7(e,t)?[e]:a7(i7(e))}var vp=s7,o7=Mc;function l7(e){if(typeof e=="string"||o7(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var df=l7,c7=vp,u7=df;function d7(e,t){t=c7(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[u7(t[r++])];return r&&r==n?e:void 0}var yp=d7,f7=yp;function h7(e,t,r){var n=e==null?void 0:f7(e,t);return n===void 0?r:n}var M_=h7;const Hn=Nt(M_);function m7(e,t){return e!=null&&t in Object(e)}var p7=m7,g7=vp,v7=Rb,y7=dn,b7=bb,x7=yb,w7=df;function j7(e,t,r){t=g7(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var o=w7(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&x7(a)&&b7(o,a)&&(y7(e)||v7(e)))}var N7=j7,S7=p7,_7=N7;function A7(e,t){return e!=null&&_7(e,t,S7)}var O7=A7,P7=zb,E7=M_,k7=O7,T7=Ub,C7=P_,L7=E_,M7=df,$7=1,D7=2;function I7(e,t){return T7(e)&&C7(t)?L7(M7(e),t):function(r){var n=E7(r,e);return n===void 0&&n===t?k7(r,e):P7(t,n,$7|D7)}}var R7=I7;function F7(e){return e}var qc=F7;function B7(e){return function(t){return t==null?void 0:t[e]}}var q7=B7,z7=yp;function U7(e){return function(t){return z7(t,e)}}var W7=U7,H7=q7,G7=W7,V7=Ub,Y7=df;function K7(e){return V7(e)?H7(Y7(e)):G7(e)}var X7=K7,J7=CI,Z7=R7,Q7=qc,eR=dn,tR=X7;function rR(e){return typeof e=="function"?e:e==null?Q7:typeof e=="object"?eR(e)?Z7(e[0],e[1]):J7(e):tR(e)}var Ua=rR,nR=O_,aR=Ua,iR=JS,sR=Math.max;function oR(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:iR(r);return a<0&&(a=sR(n+a,0)),nR(e,aR(t),a)}var $_=oR;const lR=Nt($_);var cR=Math.ceil,uR=Math.max;function dR(e,t,r,n){for(var a=-1,i=uR(cR((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++a]=e,e+=r;return o}var fR=dR,hR=fR,mR=Lc,yv=XS;function pR(e){return function(t,r,n){return n&&typeof n!="number"&&mR(t,r,n)&&(r=n=void 0),t=yv(t),r===void 0?(r=t,t=0):r=yv(r),n=n===void 0?t<r?1:-1:yv(n),hR(t,r,n,e)}}var gR=pR,vR=gR,yR=vR(),bR=yR;const vd=Nt(bR);var R2=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function xR(e,t){return!!(e===t||R2(e)&&R2(t))}function wR(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!xR(e[r],t[r]))return!1;return!0}function D_(e,t){t===void 0&&(t=wR);var r=null;function n(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];if(r&&r.lastThis===this&&t(a,r.lastArgs))return r.lastResult;var o=e.apply(this,a);return r={lastResult:o,lastArgs:a,lastThis:this},o}return n.clear=function(){r=null},n}function j0(e,t){var r=xb(e);return r?r.innerWidth:ho(e).width}var F2=kc,jR=Rb,NR=dn,B2=F2?F2.isConcatSpreadable:void 0;function SR(e){return NR(e)||jR(e)||!!(B2&&e&&e[B2])}var _R=SR,AR=Db,OR=_R;function I_(e,t,r,n,a){var i=-1,o=e.length;for(r||(r=OR),a||(a=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?I_(l,t-1,r,n,a):AR(a,l):n||(a[a.length]=l)}return a}var Hb=I_;function PR(e){return function(t,r,n){for(var a=-1,i=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++a];if(r(i[c],c,i)===!1)break}return t}}var ER=PR,kR=ER,TR=kR(),CR=TR,LR=CR,MR=Fc;function $R(e,t){return e&&LR(e,t,MR)}var Gb=$R,DR=Cc;function IR(e,t){return function(r,n){if(r==null)return r;if(!DR(r))return e(r,n);for(var a=r.length,i=t?a:-1,o=Object(r);(t?i--:++i<a)&&n(o[i],i,o)!==!1;);return r}}var RR=IR,FR=Gb,BR=RR,qR=BR(FR),Vb=qR,zR=Vb,UR=Cc;function WR(e,t){var r=-1,n=UR(e)?Array(e.length):[];return zR(e,function(a,i,o){n[++r]=t(a,i,o)}),n}var R_=WR;function HR(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var GR=HR,q2=Mc;function VR(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=q2(e),o=t!==void 0,l=t===null,c=t===t,u=q2(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!a)return 1;if(!n&&!i&&!u&&e<t||u&&r&&a&&!n&&!i||l&&r&&a||!o&&a||!c)return-1}return 0}var YR=VR,KR=YR;function XR(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,o=a.length,l=r.length;++n<o;){var c=KR(a[n],i[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var JR=XR,bv=gp,ZR=yp,QR=Ua,eF=R_,tF=GR,rF=mp,nF=JR,aF=qc,iF=dn;function sF(e,t,r){t.length?t=bv(t,function(i){return iF(i)?function(o){return ZR(o,i.length===1?i[0]:i)}:i}):t=[aF];var n=-1;t=bv(t,rF(QR));var a=eF(e,function(i,o,l){var c=bv(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return tF(a,function(i,o){return nF(i,o,r)})}var oF=sF;function lF(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var cF=lF,uF=cF,z2=Math.max;function dF(e,t,r){return t=z2(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=z2(n.length-t,0),o=Array(i);++a<i;)o[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(o),uF(e,this,l)}}var F_=dF;function fF(e){return function(){return e}}var hF=fF,mF=Do,pF=function(){try{var e=mF(Object,"defineProperty");return e({},"",{}),e}catch{}}(),B_=pF,gF=hF,U2=B_,vF=qc,yF=U2?function(e,t){return U2(e,"toString",{configurable:!0,enumerable:!1,value:gF(t),writable:!0})}:vF,bF=yF,xF=800,wF=16,jF=Date.now;function NF(e){var t=0,r=0;return function(){var n=jF(),a=wF-(n-r);if(r=n,a>0){if(++t>=xF)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var SF=NF,_F=bF,AF=SF,OF=AF(_F),q_=OF,PF=qc,EF=F_,kF=q_;function TF(e,t){return kF(EF(e,t,PF),e+"")}var z_=TF,CF=Hb,LF=oF,MF=z_,W2=Lc,$F=MF(function(e,t){if(e==null)return[];var r=t.length;return r>1&&W2(e,t[0],t[1])?t=[]:r>2&&W2(t[0],t[1],t[2])&&(t=[t[0]]),LF(e,CF(t,1),[])}),DF=$F;const bp=Nt(DF);function U_(e){return CS(e)||GS(e)||mb(e)||LS()}function IF(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var RF=IF,FF=ha,BF=qb,qF=RF,zF=Object.prototype,UF=zF.hasOwnProperty;function WF(e){if(!FF(e))return qF(e);var t=BF(e),r=[];for(var n in e)n=="constructor"&&(t||!UF.call(e,n))||r.push(n);return r}var HF=WF,GF=x_,VF=HF,YF=Cc;function KF(e){return YF(e)?GF(e,!0):VF(e)}var xp=KF,XF=z_,JF=of,ZF=Lc,QF=xp,W_=Object.prototype,eB=W_.hasOwnProperty,tB=XF(function(e,t){e=Object(e);var r=-1,n=t.length,a=n>2?t[2]:void 0;for(a&&ZF(t[0],t[1],a)&&(n=1);++r<n;)for(var i=t[r],o=QF(i),l=-1,c=o.length;++l<c;){var u=o[l],d=e[u];(d===void 0||JF(d,W_[u])&&!eB.call(e,u))&&(e[u]=i[u])}return e}),rB=tB;const nB=Nt(rB);var H2=B_;function aB(e,t,r){t=="__proto__"&&H2?H2(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var Yb=aB,iB=Yb,sB=Gb,oB=Ua;function lB(e,t){var r={};return t=oB(t),sB(e,function(n,a,i){iB(r,a,t(n,a,i))}),r}var cB=lB;const H_=Nt(cB);function uB(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var G_=uB,dB=Yb,fB=of,hB=Object.prototype,mB=hB.hasOwnProperty;function pB(e,t,r){var n=e[t];(!(mB.call(e,t)&&fB(n,r))||r===void 0&&!(t in e))&&dB(e,t,r)}var V_=pB,gB=V_,vB=Yb;function yB(e,t,r,n){var a=!r;r||(r={});for(var i=-1,o=t.length;++i<o;){var l=t[i],c=n?n(r[l],e[l],l,r,e):void 0;c===void 0&&(c=e[l]),a?vB(r,l,c):gB(r,l,c)}return r}var ff=yB,bB=ff,xB=Fc;function wB(e,t){return e&&bB(t,xB(t),e)}var jB=wB,NB=ff,SB=xp;function _B(e,t){return e&&NB(t,SB(t),e)}var AB=_B,Qh={exports:{}};Qh.exports;(function(e,t){var r=qa,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,o=i?r.Buffer:void 0,l=o?o.allocUnsafe:void 0;function c(u,d){if(d)return u.slice();var f=u.length,h=l?l(f):new u.constructor(f);return u.copy(h),h}e.exports=c})(Qh,Qh.exports);var OB=Qh.exports;function PB(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var EB=PB,kB=ff,TB=Ib;function CB(e,t){return kB(e,TB(e),t)}var LB=CB,MB=w_,$B=MB(Object.getPrototypeOf,Object),wp=$B,DB=Db,IB=wp,RB=Ib,FB=y_,BB=Object.getOwnPropertySymbols,qB=BB?function(e){for(var t=[];e;)DB(t,RB(e)),e=IB(e);return t}:FB,Y_=qB,zB=ff,UB=Y_;function WB(e,t){return zB(e,UB(e),t)}var HB=WB,GB=v_,VB=Y_,YB=xp;function KB(e){return GB(e,YB,VB)}var K_=KB,XB=Object.prototype,JB=XB.hasOwnProperty;function ZB(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&JB.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var QB=ZB,G2=g_;function e9(e){var t=new e.constructor(e.byteLength);return new G2(t).set(new G2(e)),t}var Kb=e9,t9=Kb;function r9(e,t){var r=t?t9(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var n9=r9,a9=/\w*$/;function i9(e){var t=new e.constructor(e.source,a9.exec(e));return t.lastIndex=e.lastIndex,t}var s9=i9,V2=kc,Y2=V2?V2.prototype:void 0,K2=Y2?Y2.valueOf:void 0;function o9(e){return K2?Object(K2.call(e)):{}}var l9=o9,c9=Kb;function u9(e,t){var r=t?c9(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var d9=u9,f9=Kb,h9=n9,m9=s9,p9=l9,g9=d9,v9="[object Boolean]",y9="[object Date]",b9="[object Map]",x9="[object Number]",w9="[object RegExp]",j9="[object Set]",N9="[object String]",S9="[object Symbol]",_9="[object ArrayBuffer]",A9="[object DataView]",O9="[object Float32Array]",P9="[object Float64Array]",E9="[object Int8Array]",k9="[object Int16Array]",T9="[object Int32Array]",C9="[object Uint8Array]",L9="[object Uint8ClampedArray]",M9="[object Uint16Array]",$9="[object Uint32Array]";function D9(e,t,r){var n=e.constructor;switch(t){case _9:return f9(e);case v9:case y9:return new n(+e);case A9:return h9(e,r);case O9:case P9:case E9:case k9:case T9:case C9:case L9:case M9:case $9:return g9(e,r);case b9:return new n;case x9:case N9:return new n(e);case w9:return m9(e);case j9:return new n;case S9:return p9(e)}}var I9=D9,R9=ha,X2=Object.create,F9=function(){function e(){}return function(t){if(!R9(t))return{};if(X2)return X2(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),X_=F9,B9=X_,q9=wp,z9=qb;function U9(e){return typeof e.constructor=="function"&&!z9(e)?B9(q9(e)):{}}var W9=U9,H9=pp,G9=za,V9="[object Map]";function Y9(e){return G9(e)&&H9(e)==V9}var K9=Y9,X9=K9,J9=mp,J2=Fb,Z2=J2&&J2.isMap,Z9=Z2?J9(Z2):X9,Q9=Z9,eq=pp,tq=za,rq="[object Set]";function nq(e){return tq(e)&&eq(e)==rq}var aq=nq,iq=aq,sq=mp,Q2=Fb,ew=Q2&&Q2.isSet,oq=ew?sq(ew):iq,lq=oq,cq=Mb,uq=G_,dq=V_,fq=jB,hq=AB,mq=OB,pq=EB,gq=LB,vq=HB,yq=j_,bq=K_,xq=pp,wq=QB,jq=I9,Nq=W9,Sq=dn,_q=hp,Aq=Q9,Oq=ha,Pq=lq,Eq=Fc,kq=xp,Tq=1,Cq=2,Lq=4,J_="[object Arguments]",Mq="[object Array]",$q="[object Boolean]",Dq="[object Date]",Iq="[object Error]",Z_="[object Function]",Rq="[object GeneratorFunction]",Fq="[object Map]",Bq="[object Number]",Q_="[object Object]",qq="[object RegExp]",zq="[object Set]",Uq="[object String]",Wq="[object Symbol]",Hq="[object WeakMap]",Gq="[object ArrayBuffer]",Vq="[object DataView]",Yq="[object Float32Array]",Kq="[object Float64Array]",Xq="[object Int8Array]",Jq="[object Int16Array]",Zq="[object Int32Array]",Qq="[object Uint8Array]",ez="[object Uint8ClampedArray]",tz="[object Uint16Array]",rz="[object Uint32Array]",Gt={};Gt[J_]=Gt[Mq]=Gt[Gq]=Gt[Vq]=Gt[$q]=Gt[Dq]=Gt[Yq]=Gt[Kq]=Gt[Xq]=Gt[Jq]=Gt[Zq]=Gt[Fq]=Gt[Bq]=Gt[Q_]=Gt[qq]=Gt[zq]=Gt[Uq]=Gt[Wq]=Gt[Qq]=Gt[ez]=Gt[tz]=Gt[rz]=!0;Gt[Iq]=Gt[Z_]=Gt[Hq]=!1;function Dh(e,t,r,n,a,i){var o,l=t&Tq,c=t&Cq,u=t&Lq;if(r&&(o=a?r(e,n,a,i):r(e)),o!==void 0)return o;if(!Oq(e))return e;var d=Sq(e);if(d){if(o=wq(e),!l)return pq(e,o)}else{var f=xq(e),h=f==Z_||f==Rq;if(_q(e))return mq(e,l);if(f==Q_||f==J_||h&&!a){if(o=c||h?{}:Nq(e),!l)return c?vq(e,hq(o,e)):gq(e,fq(o,e))}else{if(!Gt[f])return a?e:{};o=jq(e,f,l)}}i||(i=new cq);var m=i.get(e);if(m)return m;i.set(e,o),Pq(e)?e.forEach(function(x){o.add(Dh(x,t,r,x,e,i))}):Aq(e)&&e.forEach(function(x,b){o.set(b,Dh(x,t,r,b,e,i))});var v=u?c?bq:yq:c?kq:Eq,g=d?void 0:v(e);return uq(g||e,function(x,b){g&&(b=x,x=e[b]),dq(o,b,Dh(x,t,r,b,e,i))}),o}var nz=Dh;function az(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var eA=az;const iz=Nt(eA);var sz=yp,oz=vb;function lz(e,t){return t.length<2?e:sz(e,oz(t,0,-1))}var cz=lz,uz=vp,dz=eA,fz=cz,hz=df;function mz(e,t){return t=uz(t,e),e=fz(e,t),e==null||delete e[hz(dz(t))]}var pz=mz,gz=Gi,vz=wp,yz=za,bz="[object Object]",xz=Function.prototype,wz=Object.prototype,tA=xz.toString,jz=wz.hasOwnProperty,Nz=tA.call(Object);function Sz(e){if(!yz(e)||gz(e)!=bz)return!1;var t=vz(e);if(t===null)return!0;var r=jz.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&tA.call(r)==Nz}var rA=Sz;const _z=Nt(rA);var Az=rA;function Oz(e){return Az(e)?void 0:e}var Pz=Oz,Ez=Hb;function kz(e){var t=e==null?0:e.length;return t?Ez(e,1):[]}var Tz=kz,Cz=Tz,Lz=F_,Mz=q_;function $z(e){return Mz(Lz(e,void 0,Cz),e+"")}var Dz=$z,Iz=gp,Rz=nz,Fz=pz,Bz=vp,qz=ff,zz=Pz,Uz=Dz,Wz=K_,Hz=1,Gz=2,Vz=4,Yz=Uz(function(e,t){var r={};if(e==null)return r;var n=!1;t=Iz(t,function(i){return i=Bz(i,e),n||(n=i.length>1),i}),qz(e,Wz(e),r),n&&(r=Rz(r,Hz|Gz|Vz,zz));for(var a=t.length;a--;)Fz(r,t[a]);return r}),Kz=Yz;const Xz=Nt(Kz);var Jz=G_,Zz=X_,Qz=Gb,eU=Ua,tU=wp,rU=dn,nU=hp,aU=op,iU=ha,sU=Bb;function oU(e,t,r){var n=rU(e),a=n||nU(e)||sU(e);if(t=eU(t),r==null){var i=e&&e.constructor;a?r=n?new i:[]:iU(e)?r=aU(i)?Zz(tU(e)):{}:r={}}return(a?Jz:Qz)(e,function(o,l,c){return t(r,o,l,c)}),r}var lU=oU;const cU=Nt(lU);var uU={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(sa,function(){return function(r,n,a){n.prototype.isBetween=function(i,o,l,c){var u=a(i),d=a(o),f=(c=c||"()")[0]==="(",h=c[1]===")";return(f?this.isAfter(u,l):!this.isBefore(u,l))&&(h?this.isBefore(d,l):!this.isAfter(d,l))||(f?this.isBefore(u,l):!this.isAfter(u,l))&&(h?this.isAfter(d,l):!this.isBefore(d,l))}}})})(uU);var dU={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(sa,function(){return function(r,n){n.prototype.isSameOrAfter=function(a,i){return this.isSame(a,i)||this.isAfter(a,i)}}})})(dU);var fU={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(sa,function(){return function(r,n){n.prototype.isSameOrBefore=function(a,i){return this.isSame(a,i)||this.isBefore(a,i)}}})})(fU);var hU={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(sa,function(){return function(r,n,a){var i=n.prototype,o=function(f){return f&&(f.indexOf?f:f.s)},l=function(f,h,m,v,g){var x=f.name?f:f.$locale(),b=o(x[h]),y=o(x[m]),N=b||y.map(function(w){return w.slice(0,v)});if(!g)return N;var _=x.weekStart;return N.map(function(w,S){return N[(S+(_||0))%7]})},c=function(){return a.Ls[a.locale()]},u=function(f,h){return f.formats[h]||function(m){return m.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(v,g,x){return g||x.slice(1)})}(f.formats[h.toUpperCase()])},d=function(){var f=this;return{months:function(h){return h?h.format("MMMM"):l(f,"months")},monthsShort:function(h){return h?h.format("MMM"):l(f,"monthsShort","months",3)},firstDayOfWeek:function(){return f.$locale().weekStart||0},weekdays:function(h){return h?h.format("dddd"):l(f,"weekdays")},weekdaysMin:function(h){return h?h.format("dd"):l(f,"weekdaysMin","weekdays",2)},weekdaysShort:function(h){return h?h.format("ddd"):l(f,"weekdaysShort","weekdays",3)},longDateFormat:function(h){return u(f.$locale(),h)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};i.localeData=function(){return d.bind(this)()},a.localeData=function(){var f=c();return{firstDayOfWeek:function(){return f.weekStart||0},weekdays:function(){return a.weekdays()},weekdaysShort:function(){return a.weekdaysShort()},weekdaysMin:function(){return a.weekdaysMin()},months:function(){return a.months()},monthsShort:function(){return a.monthsShort()},longDateFormat:function(h){return u(f,h)},meridiem:f.meridiem,ordinal:f.ordinal}},a.months=function(){return l(c(),"months")},a.monthsShort=function(){return l(c(),"monthsShort","months",3)},a.weekdays=function(f){return l(c(),"weekdays",null,null,f)},a.weekdaysShort=function(f){return l(c(),"weekdaysShort","weekdays",3,f)},a.weekdaysMin=function(f){return l(c(),"weekdaysMin","weekdays",2,f)}}})})(hU);var mU={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(sa,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(n,a,i){var o=a.prototype,l=o.format;i.en.formats=r,o.format=function(c){c===void 0&&(c="YYYY-MM-DDTHH:mm:ssZ");var u=this.$locale().formats,d=function(f,h){return f.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(m,v,g){var x=g&&g.toUpperCase();return v||h[g]||r[g]||h[x].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(b,y,N){return y||N.slice(1)})})}(c,u===void 0?{}:u);return l.call(this,d)}}})})(mU);var pU={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(sa,function(){return function(r,n,a){var i=function(o,l){if(!l||!l.length||l.length===1&&!l[0]||l.length===1&&Array.isArray(l[0])&&!l[0].length)return null;var c;l.length===1&&l[0].length>0&&(l=l[0]),c=(l=l.filter(function(d){return d}))[0];for(var u=1;u<l.length;u+=1)l[u].isValid()&&!l[u][o](c)||(c=l[u]);return c};a.max=function(){var o=[].slice.call(arguments,0);return i("isAfter",o)},a.min=function(){var o=[].slice.call(arguments,0);return i("isBefore",o)}}})})(pU);var gU={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(sa,function(){var r="minute",n=/[+-]\d\d(?::?\d\d)?/g,a=/([+-]|\d\d)/g;return function(i,o,l){var c=o.prototype;l.utc=function(g){var x={date:g,utc:!0,args:arguments};return new o(x)},c.utc=function(g){var x=l(this.toDate(),{locale:this.$L,utc:!0});return g?x.add(this.utcOffset(),r):x},c.local=function(){return l(this.toDate(),{locale:this.$L,utc:!1})};var u=c.parse;c.parse=function(g){g.utc&&(this.$u=!0),this.$utils().u(g.$offset)||(this.$offset=g.$offset),u.call(this,g)};var d=c.init;c.init=function(){if(this.$u){var g=this.$d;this.$y=g.getUTCFullYear(),this.$M=g.getUTCMonth(),this.$D=g.getUTCDate(),this.$W=g.getUTCDay(),this.$H=g.getUTCHours(),this.$m=g.getUTCMinutes(),this.$s=g.getUTCSeconds(),this.$ms=g.getUTCMilliseconds()}else d.call(this)};var f=c.utcOffset;c.utcOffset=function(g,x){var b=this.$utils().u;if(b(g))return this.$u?0:b(this.$offset)?f.call(this):this.$offset;if(typeof g=="string"&&(g=function(w){w===void 0&&(w="");var S=w.match(n);if(!S)return null;var O=(""+S[0]).match(a)||["-",0,0],P=O[0],T=60*+O[1]+ +O[2];return T===0?0:P==="+"?T:-T}(g),g===null))return this;var y=Math.abs(g)<=16?60*g:g,N=this;if(x)return N.$offset=y,N.$u=g===0,N;if(g!==0){var _=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(N=this.local().add(y+_,r)).$offset=y,N.$x.$localOffset=_}else N=this.utc();return N};var h=c.format;c.format=function(g){var x=g||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return h.call(this,x)},c.valueOf=function(){var g=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*g},c.isUTC=function(){return!!this.$u},c.toISOString=function(){return this.toDate().toISOString()},c.toString=function(){return this.toDate().toUTCString()};var m=c.toDate;c.toDate=function(g){return g==="s"&&this.$offset?l(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():m.call(this)};var v=c.diff;c.diff=function(g,x,b){if(g&&this.$u===g.$u)return v.call(this,g,x,b);var y=this.local(),N=l(g).local();return v.call(y,N,x,b)}}})})(gU);var vU={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(sa,function(){return function(r,n){n.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}})})(vU);function ii(e){return e.children}var Ln={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},vn={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},tw=Object.keys(vn).map(function(e){return vn[e]});Se.oneOfType([Se.string,Se.func]);Se.any;Se.func;Se.oneOfType([Se.arrayOf(Se.oneOf(tw)),Se.objectOf(function(e,t){var r=tw.indexOf(t)!==-1&&typeof e[t]=="boolean";if(r)return null;for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];return Se.elementType.apply(Se,[e,t].concat(a))})]);Se.oneOfType([Se.oneOf(["overlap","no-overlap"]),Se.func]);var rw={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function nA(e,t){var r=Xr(e,"month");return Xr(r,"week",t.startOfWeek())}function aA(e,t){var r=Vh(e,"month");return Vh(r,"week",t.startOfWeek())}function yU(e,t){for(var r=nA(e,t),n=aA(e,t),a=[];Pc(r,n,"day");)a.push(r),r=Ba(r,1,"day");return a}function bU(e,t){var r=Xr(e,t);return Oc(r,e)?r:Ba(r,1,t)}function xU(e,t){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",n=e,a=[];Pc(n,t,r);)a.push(n),n=Ba(n,1,r);return a}function wU(e,t){return t==null&&e==null?null:(t==null&&(t=new Date),e==null&&(e=new Date),e=Xr(e,"day"),e=hd(e,hd(t)),e=Gl(e,Gl(t)),e=fd(e,fd(t)),dd(e,dd(t)))}function nw(e){return hd(e)===0&&Gl(e)===0&&fd(e)===0&&dd(e)===0}function jU(e,t,r,n){return r==="day"&&(r="date"),Math.abs(F1[r](e,void 0,n)-F1[r](t,void 0,n))}function Xb(e,t,r){return!r||r==="milliseconds"?Math.abs(+e-+t):Math.round(Math.abs(+Xr(e,r)/rw[r]-+Xr(t,r)/rw[r]))}var NU=Se.oneOfType([Se.string,Se.func]);function SU(e,t,r,n,a){var i=typeof n=="function"?n(r,a,e):t.call(e,r,n,a);return id(i==null||typeof i=="string","`localizer format(..)` must return a string, null, or undefined"),i}function _U(e,t,r){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,t+r,0,0)}function Jb(e,t){return e.getTimezoneOffset()-t.getTimezoneOffset()}function AU(e,t){return Xb(e,t,"minutes")+Jb(e,t)}function OU(e){var t=Xr(e,"day");return Xb(t,e,"minutes")+Jb(t,e)}function PU(e,t){return gb(e,t,"day")}function EU(e,t,r){var n=Oc(e,t,"minutes");return n?sf(t,r,"minutes"):sp(t,r,"minutes")}function N0(e,t){return jU(e,t,"day")}function kU(e){var t=e.evtA,r=t.start,n=t.end,a=t.allDay,i=e.evtB,o=i.start,l=i.end,c=i.allDay,u=+Xr(r,"day")-+Xr(o,"day"),d=N0(r,n),f=N0(o,l);return u||f-d||!!c-!!a||+r-+o||+n-+l}function TU(e){var t=e.event,r=t.start,n=t.end,a=e.range,i=a.start,o=a.end,l=Xr(r,"day"),c=Pc(l,o,"day"),u=pb(l,n,"minutes"),d=u?sp(n,i,"minutes"):sf(n,i,"minutes");return c&&d}function CU(e,t){return Oc(e,t,"day")}function LU(e,t){return nw(e)&&nw(t)}var MU=Dr(function e(t){var r=this;$r(this,e),id(typeof t.format=="function","date localizer `format(..)` must be a function"),id(typeof t.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=t.propType||NU,this.formats=t.formats,this.format=function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return SU.apply(void 0,[r,t.format].concat(a))},this.startOfWeek=t.firstOfWeek,this.merge=t.merge||wU,this.inRange=t.inRange||zS,this.lt=t.lt||gb,this.lte=t.lte||Pc,this.gt=t.gt||sp,this.gte=t.gte||sf,this.eq=t.eq||Oc,this.neq=t.neq||pb,this.startOf=t.startOf||Xr,this.endOf=t.endOf||Vh,this.add=t.add||Ba,this.range=t.range||xU,this.diff=t.diff||Xb,this.ceil=t.ceil||bU,this.min=t.min||BS,this.max=t.max||qS,this.minutes=t.minutes||Gl,this.daySpan=t.daySpan||N0,this.firstVisibleDay=t.firstVisibleDay||nA,this.lastVisibleDay=t.lastVisibleDay||aA,this.visibleDays=t.visibleDays||yU,this.getSlotDate=t.getSlotDate||_U,this.getTimezoneOffset=t.getTimezoneOffset||function(n){return n.getTimezoneOffset()},this.getDstOffset=t.getDstOffset||Jb,this.getTotalMin=t.getTotalMin||AU,this.getMinutesFromMidnight=t.getMinutesFromMidnight||OU,this.continuesPrior=t.continuesPrior||PU,this.continuesAfter=t.continuesAfter||EU,this.sortEvents=t.sortEvents||kU,this.inEventRange=t.inEventRange||TU,this.isSameDate=t.isSameDate||CU,this.startAndEndAreDateOnly=t.startAndEndAreDateOnly||LU,this.segmentOffset=t.browserTZOffset?t.browserTZOffset():0});function $U(e,t,r,n){var a=zt(zt({},e.formats),r);return zt(zt({},e),{},{messages:n,startOfWeek:function(){return e.startOfWeek(t)},format:function(o,l){return e.format(o,a[l]||l,t)}})}var DU=function(e){function t(){var r;$r(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=cn(this,t,[].concat(a)),r.navigate=function(o){r.props.onNavigate(o)},r.view=function(o){r.props.onView(o)},r}return un(t,e),Dr(t,[{key:"render",value:function(){var n=this.props,a=n.localizer.messages,i=n.label;return z.createElement("div",{className:"rbc-toolbar"},z.createElement("span",{className:"rbc-btn-group"},z.createElement("button",{type:"button",onClick:this.navigate.bind(null,Ln.TODAY)},a.today),z.createElement("button",{type:"button",onClick:this.navigate.bind(null,Ln.PREVIOUS)},a.previous),z.createElement("button",{type:"button",onClick:this.navigate.bind(null,Ln.NEXT)},a.next)),z.createElement("span",{className:"rbc-toolbar-label"},i),z.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(a)))}},{key:"viewNamesGroup",value:function(n){var a=this,i=this.props.views,o=this.props.view;if(i.length>1)return i.map(function(l){return z.createElement("button",{type:"button",key:l,className:hr({"rbc-active":o===l}),onClick:a.view.bind(null,l)},n[l])})}}])}(z.Component);function er(e,t){e&&e.apply(null,[].concat(t))}var IU={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(t){return"+".concat(t," more")}};function RU(e){return zt(zt({},IU),e)}function FU(e){var t=e.ref,r=e.callback;I.useEffect(function(){var n=function(i){t.current&&!t.current.contains(i.target)&&r()};return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}},[t,r])}var BU=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],iA=function(e){function t(){return $r(this,t),cn(this,t,arguments)}return un(t,e),Dr(t,[{key:"render",value:function(){var n=this.props,a=n.style,i=n.className,o=n.event,l=n.selected,c=n.isAllDay,u=n.onSelect,d=n.onDoubleClick,f=n.onKeyPress,h=n.localizer,m=n.continuesPrior,v=n.continuesAfter,g=n.accessors,x=n.getters,b=n.children,y=n.components,N=y.event,_=y.eventWrapper,w=n.slotStart,S=n.slotEnd,O=gi(n,BU);delete O.resizable;var P=g.title(o),T=g.tooltip(o),F=g.end(o),k=g.start(o),C=g.allDay(o),D=c||C||h.diff(k,h.ceil(F,"day"),"day")>1,M=x.eventProp(o,k,F,l),U=z.createElement("div",{className:"rbc-event-content",title:T||void 0},N?z.createElement(N,{event:o,continuesPrior:m,continuesAfter:v,title:P,isAllDay:C,localizer:h,slotStart:w,slotEnd:S}):P);return z.createElement(_,Object.assign({},this.props,{type:"date"}),z.createElement("div",Object.assign({},O,{style:zt(zt({},M.style),a),className:hr("rbc-event",i,M.className,{"rbc-selected":l,"rbc-event-allday":D,"rbc-event-continues-prior":m,"rbc-event-continues-after":v}),onClick:function(R){return u&&u(o,R)},onDoubleClick:function(R){return d&&d(o,R)},onKeyDown:function(R){return f&&f(o,R)}}),typeof b=="function"?b(U):U))}}])}(z.Component);function jp(e,t){return!e||t==null?!1:Oo(e,t)}function sA(e,t){var r=e.right-e.left,n=r/t;return n}function oA(e,t,r,n){var a=sA(e,n);return r?n-1-Math.floor((t-e.left)/a):Math.floor((t-e.left)/a)}function qU(e,t){var r=t.x,n=t.y;return n>=e.top&&n<=e.bottom&&r>=e.left&&r<=e.right}function zU(e,t,r,n,a){var i=-1,o=-1,l=n-1,c=sA(t,n),u=oA(t,r.x,a,n),d=t.top<r.y&&t.bottom>r.y,f=t.top<e.y&&t.bottom>e.y,h=e.y>t.bottom,m=t.top>e.y,v=r.top<t.top&&r.bottom>t.bottom;return v&&(i=0,o=l),d&&(m?(i=0,o=u):h&&(i=u,o=l)),f&&(i=o=a?l-Math.floor((e.x-t.left)/c):Math.floor((e.x-t.left)/c),d?u<i?i=u:o=u:e.y<r.y?o=l:i=0),{startIdx:i,endIdx:o}}function UU(e){var t=e.target,r=e.offset,n=e.container,a=e.box,i=ho(t),o=i.top,l=i.left,c=i.width,u=i.height,d=ho(n),f=d.top,h=d.left,m=d.width,v=d.height,g=ho(a),x=g.width,b=g.height,y=f+v,N=h+m,_=o+b,w=l+x,S=r.x,O=r.y,P=_>y?o-b-O:o+O+u,T=w>N?l+S-x+c:l+S;return{topOffset:P,leftOffset:T}}function WU(e){var t=e.containerRef,r=e.accessors,n=e.getters,a=e.selected,i=e.components,o=e.localizer,l=e.position,c=e.show,u=e.events,d=e.slotStart,f=e.slotEnd,h=e.onSelect,m=e.onDoubleClick,v=e.onKeyPress,g=e.handleDragStart,x=e.popperRef,b=e.target,y=e.offset;FU({ref:x,callback:c}),I.useLayoutEffect(function(){var w=UU({target:b,offset:y,container:t.current,box:x.current}),S=w.topOffset,O=w.leftOffset;x.current.style.top="".concat(S,"px"),x.current.style.left="".concat(O,"px")},[y.x,y.y,b]);var N=l.width,_={minWidth:N+N/2};return z.createElement("div",{style:_,className:"rbc-overlay",ref:x},z.createElement("div",{className:"rbc-overlay-header"},o.format(d,"dayHeaderFormat")),u.map(function(w,S){return z.createElement(iA,{key:S,type:"popup",localizer:o,event:w,getters:n,onSelect:h,accessors:r,components:i,onDoubleClick:m,onKeyPress:v,continuesPrior:o.lt(r.end(w),d,"day"),continuesAfter:o.gte(r.start(w),f,"day"),slotStart:d,slotEnd:f,selected:jp(w,a),draggable:!0,onDragStart:function(){return g(w)},onDragEnd:function(){return c()}})}))}var lA=z.forwardRef(function(e,t){return z.createElement(WU,Object.assign({},e,{popperRef:t}))});lA.propTypes={accessors:Se.object.isRequired,getters:Se.object.isRequired,selected:Se.object,components:Se.object.isRequired,localizer:Se.object.isRequired,position:Se.object.isRequired,show:Se.func.isRequired,events:Se.array.isRequired,slotStart:Se.instanceOf(Date).isRequired,slotEnd:Se.instanceOf(Date),onSelect:Se.func,onDoubleClick:Se.func,onKeyPress:Se.func,handleDragStart:Se.func,style:Se.object,offset:Se.shape({x:Se.number,y:Se.number})};function HU(e){var t=e.containerRef,r=e.popupOffset,n=r===void 0?5:r,a=e.overlay,i=e.accessors,o=e.localizer,l=e.components,c=e.getters,u=e.selected,d=e.handleSelectEvent,f=e.handleDoubleClickEvent,h=e.handleKeyPressEvent,m=e.handleDragStart,v=e.onHide,g=e.overlayDisplay,x=I.useRef(null);if(!a.position)return null;var b=n;isNaN(n)||(b={x:n,y:n});var y=a.position,N=a.events,_=a.date,w=a.end;return z.createElement(Tb,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:v,target:a.target},function(S){var O=S.props;return z.createElement(lA,Object.assign({},O,{containerRef:t,ref:x,target:a.target,offset:b,accessors:i,getters:c,selected:u,components:l,localizer:o,position:y,show:g,events:N,slotStart:_,slotEnd:w,onSelect:d,onDoubleClick:f,onKeyPress:h,handleDragStart:m}))})}var Zb=z.forwardRef(function(e,t){return z.createElement(HU,Object.assign({},e,{containerRef:t}))});Zb.propTypes={popupOffset:Se.oneOfType([Se.number,Se.shape({x:Se.number,y:Se.number})]),overlay:Se.shape({position:Se.object,events:Se.array,date:Se.instanceOf(Date),end:Se.instanceOf(Date)}),accessors:Se.object.isRequired,localizer:Se.object.isRequired,components:Se.object.isRequired,getters:Se.object.isRequired,selected:Se.object,handleSelectEvent:Se.func,handleDoubleClickEvent:Se.func,handleKeyPressEvent:Se.func,handleDragStart:Se.func,onHide:Se.func,overlayDisplay:Se.func};function en(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return Gu(r,e,t,{passive:!1})}function GU(e,t,r){return!e||md(e,document.elementFromPoint(t,r))}function VU(e,t){var r=t.clientX,n=t.clientY,a=document.elementFromPoint(r,n);return A_(a,".rbc-event",e)}function YU(e,t){var r=t.clientX,n=t.clientY,a=document.elementFromPoint(r,n);return A_(a,".rbc-show-more",e)}function em(e,t){return!!VU(e,t)}function KU(e,t){return!!YU(e,t)}function Pu(e){var t=e;return e.touches&&e.touches.length&&(t=e.touches[0]),{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}var aw=5,XU=250,cA=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.global,a=n===void 0?!1:n,i=r.longPressThreshold,o=i===void 0?250:i,l=r.validContainers,c=l===void 0?[]:l;$r(this,e),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=t,this.globalMouse=!t||a,this.longPressThreshold=o,this.validContainers=c,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=en("touchmove",function(){},window),this._removeKeyDownListener=en("keydown",this._keyListener),this._removeKeyUpListener=en("keyup",this._keyListener),this._removeDropFromOutsideListener=en("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=en("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return Dr(e,[{key:"on",value:function(r,n){var a=this._listeners[r]||(this._listeners[r]=[]);return a.push(n),{remove:function(){var o=a.indexOf(n);o!==-1&&a.splice(o,1)}}}},{key:"emit",value:function(r){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];var o,l=this._listeners[r]||[];return l.forEach(function(c){o===void 0&&(o=c.apply(void 0,a))}),o}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(r){var n=this._selectRect;return!n||!this.selecting?!1:iw(n,Po(r))}},{key:"filter",value:function(r){var n=this._selectRect;return!n||!this.selecting?[]:r.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(r,n){var a=this,i=null,o=null,l=null,c=function(h){i=setTimeout(function(){d(),r(h)},a.longPressThreshold),o=en("touchmove",function(){return d()}),l=en("touchend",function(){return d()})},u=en("touchstart",c),d=function(){i&&clearTimeout(i),o&&o(),l&&l(),i=null,o=null,l=null};return n&&c(n),function(){d(),u()}}},{key:"_addInitialEventListener",value:function(){var r=this,n=en("mousedown",function(i){r._removeInitialEventListener(),r._handleInitialEvent(i),r._removeInitialEventListener=en("mousedown",r._handleInitialEvent)}),a=en("touchstart",function(i){r._removeInitialEventListener(),r._removeInitialEventListener=r._addLongPressListener(r._handleInitialEvent,i)});this._removeInitialEventListener=function(){n(),a()}}},{key:"_dropFromOutsideListener",value:function(r){var n=Pu(r),a=n.pageX,i=n.pageY,o=n.clientX,l=n.clientY;this.emit("dropFromOutside",{x:a,y:i,clientX:o,clientY:l}),r.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(r){var n=Pu(r),a=n.pageX,i=n.pageY,o=n.clientX,l=n.clientY;this.emit("dragOverFromOutside",{x:a,y:i,clientX:o,clientY:l}),r.preventDefault()}},{key:"_handleInitialEvent",value:function(r){if(this._initialEvent=r,!this.isDetached){var n=Pu(r),a=n.clientX,i=n.clientY,o=n.pageX,l=n.pageY,c=this.container(),u,d;if(!(r.which===3||r.button===2||!GU(c,a,i))){if(!this.globalMouse&&c&&!md(c,r.target)){var f=JU(0),h=f.top,m=f.left,v=f.bottom,g=f.right;if(d=Po(c),u=iw({top:d.top-h,left:d.left-m,bottom:d.bottom+v,right:d.right+g},{top:l,left:o}),!u)return}var x=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(r.type),x:o,y:l,clientX:a,clientY:i});if(x!==!1)switch(r.type){case"mousedown":this._removeEndListener=en("mouseup",this._handleTerminatingEvent),this._onEscListener=en("keydown",this._handleTerminatingEvent),this._removeMoveListener=en("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(r),this._removeEndListener=en("touchend",this._handleTerminatingEvent),this._removeMoveListener=en("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(r){var n=r.target,a=this.validContainers;return!a||!a.length||!n?!0:a.some(function(i){return!!n.closest(i)})}},{key:"_handleTerminatingEvent",value:function(r){var n=this.selecting,a=this._selectRect;if(!n&&r.type.includes("key")&&(r=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!r){var i=!this.container||md(this.container(),r.target),o=this._isWithinValidContainer(r);return r.key==="Escape"||!o?this.emit("reset"):!n&&i?this._handleClickEvent(r):n?this.emit("select",a):this.emit("reset")}}},{key:"_handleClickEvent",value:function(r){var n=Pu(r),a=n.pageX,i=n.pageY,o=n.clientX,l=n.clientY,c=new Date().getTime();return this._lastClickData&&c-this._lastClickData.timestamp<XU?(this._lastClickData=null,this.emit("doubleClick",{x:a,y:i,clientX:o,clientY:l})):(this._lastClickData={timestamp:c},this.emit("click",{x:a,y:i,clientX:o,clientY:l}))}},{key:"_handleMoveEvent",value:function(r){if(!(this._initialEventData===null||this.isDetached)){var n=this._initialEventData,a=n.x,i=n.y,o=Pu(r),l=o.pageX,c=o.pageY,u=Math.abs(a-l),d=Math.abs(i-c),f=Math.min(l,a),h=Math.min(c,i),m=this.selecting,v=this.isClick(l,c);v&&!m&&!(u||d)||(!m&&!v&&this.emit("selectStart",this._initialEventData),v||(this.selecting=!0,this._selectRect={top:h,left:f,x:l,y:c,right:f+u,bottom:h+d},this.emit("selecting",this._selectRect)),r.preventDefault())}}},{key:"_keyListener",value:function(r){this.ctrl=r.metaKey||r.ctrlKey}},{key:"isClick",value:function(r,n){var a=this._initialEventData,i=a.x,o=a.y,l=a.isTouch;return!l&&Math.abs(r-i)<=aw&&Math.abs(n-o)<=aw}}])}();function JU(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return jt(e)!=="object"&&(e={top:e,left:e,right:e,bottom:e}),e}function iw(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=Po(e),a=n.top,i=n.left,o=n.right,l=o===void 0?i:o,c=n.bottom,u=c===void 0?a:c,d=Po(t),f=d.top,h=d.left,m=d.right,v=m===void 0?h:m,g=d.bottom,x=g===void 0?f:g;return!(u-r<f||a+r>x||l-r<h||i+r>v)}function Po(e){if(!e.getBoundingClientRect)return e;var t=e.getBoundingClientRect(),r=t.left+sw("left"),n=t.top+sw("top");return{top:n,left:r,right:(e.offsetWidth||0)+r,bottom:(e.offsetHeight||0)+n}}function sw(e){if(e==="left")return window.pageXOffset||document.body.scrollLeft||0;if(e==="top")return window.pageYOffset||document.body.scrollTop||0}var ZU=function(e){function t(r,n){var a;return $r(this,t),a=cn(this,t,[r,n]),a.state={selecting:!1},a.containerRef=I.createRef(),a}return un(t,e),Dr(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(n){!n.selectable&&this.props.selectable&&this._selectable(),n.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var n=this.props,a=n.range,i=n.getNow,o=n.getters,l=n.date,c=n.components.dateCellWrapper,u=n.localizer,d=this.state,f=d.selecting,h=d.startIdx,m=d.endIdx,v=i();return z.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},a.map(function(g,x){var b=f&&x>=h&&x<=m,y=o.dayProp(g),N=y.className,_=y.style;return z.createElement(c,{key:x,value:g,range:a},z.createElement("div",{style:_,className:hr("rbc-day-bg",N,b&&"rbc-selected-cell",u.isSameDate(g,v)&&"rbc-today",l&&u.neq(l,g,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var n=this,a=this.containerRef.current,i=this._selector=new cA(this.props.container,{longPressThreshold:this.props.longPressThreshold}),o=function(c,u){if(!em(a,c)&&!KU(a,c)){var d=Po(a),f=n.props,h=f.range,m=f.rtl;if(qU(d,c)){var v=oA(d,c.x,m,h.length);n._selectSlot({startIdx:v,endIdx:v,action:u,box:c})}}n._initial={},n.setState({selecting:!1})};i.on("selecting",function(l){var c=n.props,u=c.range,d=c.rtl,f=-1,h=-1;if(n.state.selecting||(er(n.props.onSelectStart,[l]),n._initial={x:l.x,y:l.y}),i.isSelected(a)){var m=Po(a),v=zU(n._initial,m,l,u.length,d);f=v.startIdx,h=v.endIdx}n.setState({selecting:!0,startIdx:f,endIdx:h})}),i.on("beforeSelect",function(l){if(n.props.selectable==="ignoreEvents")return!em(n.containerRef.current,l)}),i.on("click",function(l){return o(l,"click")}),i.on("doubleClick",function(l){return o(l,"doubleClick")}),i.on("select",function(l){n._selectSlot(zt(zt({},n.state),{},{action:"select",bounds:l})),n._initial={},n.setState({selecting:!1}),er(n.props.onSelectEnd,[n.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(n){var a=n.endIdx,i=n.startIdx,o=n.action,l=n.bounds,c=n.box;a!==-1&&i!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:i,end:a,action:o,bounds:l,box:c,resourceId:this.props.resourceId})}}])}(z.Component),aa={propTypes:{slotMetrics:Se.object.isRequired,selected:Se.object,isAllDay:Se.bool,accessors:Se.object.isRequired,localizer:Se.object.isRequired,components:Se.object.isRequired,getters:Se.object.isRequired,onSelect:Se.func,onDoubleClick:Se.func,onKeyPress:Se.func},defaultProps:{segments:[],selected:{}},renderEvent:function(t,r){var n=t.selected;t.isAllDay;var a=t.accessors,i=t.getters,o=t.onSelect,l=t.onDoubleClick,c=t.onKeyPress,u=t.localizer,d=t.slotMetrics,f=t.components,h=t.resizable,m=d.continuesPrior(r),v=d.continuesAfter(r);return z.createElement(iA,{event:r,getters:i,localizer:u,accessors:a,components:f,onSelect:o,onDoubleClick:l,onKeyPress:c,continuesPrior:m,continuesAfter:v,slotStart:d.first,slotEnd:d.last,selected:jp(r,n),resizable:h})},renderSpan:function(t,r,n){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",i=Math.abs(r)/t*100+"%";return z.createElement("div",{key:n,className:"rbc-row-segment",style:{WebkitFlexBasis:i,flexBasis:i,maxWidth:i}},a)}},uA=function(e){function t(){return $r(this,t),cn(this,t,arguments)}return un(t,e),Dr(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.segments,o=a.slotMetrics.slots,l=a.className,c=1;return z.createElement("div",{className:hr(l,"rbc-row")},i.reduce(function(u,d,f){var h=d.event,m=d.left,v=d.right,g=d.span,x="_lvl_"+f,b=m-c,y=aa.renderEvent(n.props,h);return b&&u.push(aa.renderSpan(o,b,"".concat(x,"_gap"))),u.push(aa.renderSpan(o,g,x,y)),c=v+1,u},[]))}}])}(z.Component);uA.defaultProps=zt({},aa.defaultProps);function dA(e){var t=e.dateRange,r=e.unit,n=r===void 0?"day":r,a=e.localizer;return{first:t[0],last:a.add(t[t.length-1],1,n)}}function QU(e,t,r,n){var a=dA({dateRange:t,localizer:n}),i=a.first,o=a.last,l=n.diff(i,o,"day"),c=n.max(n.startOf(r.start(e),"day"),i),u=n.min(n.ceil(r.end(e),"day"),o),d=lR(t,function(h){return n.isSameDate(h,c)}),f=n.diff(c,u,"day");return f=Math.min(f,l),f=Math.max(f-n.segmentOffset,1),{event:e,span:f,left:d+1,right:Math.max(d+f,1)}}function S0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,r,n,a,i=[],o=[];for(r=0;r<e.length;r++){for(a=e[r],n=0;n<i.length&&eW(a,i[n]);n++);n>=t?o.push(a):(i[n]||(i[n]=[])).push(a)}for(r=0;r<i.length;r++)i[r].sort(function(l,c){return l.left-c.left});return{levels:i,extra:o}}function yd(e,t,r,n,a){var i={start:n.start(e),end:n.end(e)},o={start:t,end:r};return a.inEventRange({event:i,range:o})}function eW(e,t){return t.some(function(r){return r.left<=e.right&&r.right>=e.left})}function tW(e,t,r){var n=Mh(e),a=[],i=[];n.forEach(function(c){var u=t.start(c),d=t.end(c);r.daySpan(u,d)>1?a.push(c):i.push(c)});var o=a.sort(function(c,u){return _0(c,u,t,r)}),l=i.sort(function(c,u){return _0(c,u,t,r)});return[].concat(Mh(o),Mh(l))}function _0(e,t,r,n){var a={start:r.start(e),end:r.end(e),allDay:r.allDay(e)},i={start:r.start(t),end:r.end(t),allDay:r.allDay(t)};return n.sortEvents({evtA:a,evtB:i})}var A0=function(t,r){return t.left<=r&&t.right>=r},xv=function(t,r){return t.filter(function(n){return A0(n,r)}).map(function(n){return n.event})},fA=function(e){function t(){return $r(this,t),cn(this,t,arguments)}return un(t,e),Dr(t,[{key:"render",value:function(){for(var n=this.props,a=n.segments,i=n.slotMetrics.slots,o=S0(a).levels[0],l=1,c=1,u=[];l<=i;){var d="_lvl_"+l,f=o.filter(function(_){return A0(_,l)})[0]||{},h=f.event,m=f.left,v=f.right,g=f.span;if(!h){var x=this.getHiddenEventsForSlot(a,l);if(x.length>0){var b=l-c;b&&u.push(aa.renderSpan(i,b,d+"_gap")),u.push(aa.renderSpan(i,1,d,this.renderShowMore(a,l))),c=l=l+1;continue}l++;continue}var y=Math.max(0,m-c);if(this.canRenderSlotEvent(m,g)){var N=aa.renderEvent(this.props,h);y&&u.push(aa.renderSpan(i,y,d+"_gap")),u.push(aa.renderSpan(i,g,d,N)),c=l=v+1}else y&&u.push(aa.renderSpan(i,y,d+"_gap")),u.push(aa.renderSpan(i,1,d,this.renderShowMore(a,l))),c=l=l+1}return z.createElement("div",{className:"rbc-row"},u)}},{key:"getHiddenEventsForSlot",value:function(n,a){var i=xv(n,a),o=S0(n).levels[0],l=o.filter(function(c){return A0(c,a)}).map(function(c){return c.event});return i.filter(function(c){return!l.some(function(u){return u===c})})}},{key:"canRenderSlotEvent",value:function(n,a){var i=this.props.segments;return vd(n,n+a).every(function(o){var l=xv(i,o).length;return l===1})}},{key:"renderShowMore",value:function(n,a){var i=this,o=this.props,l=o.localizer,c=o.slotMetrics,u=o.components,d=c.getEventsForSlot(a),f=xv(n,a),h=f.length;if(u!=null&&u.showMore){var m=u.showMore,v=c.getDateForSlot(a-1);return h?z.createElement(m,{localizer:l,slotDate:v,slot:a,count:h,events:d,remainingEvents:f}):!1}return h?z.createElement("button",{type:"button",key:"sm_"+a,className:hr("rbc-button-link","rbc-show-more"),onClick:function(x){return i.showMore(a,x)}},l.messages.showMore(h,f,d)):!1}},{key:"showMore",value:function(n,a){a.preventDefault(),a.stopPropagation(),this.props.onShowMore(n,a.target)}}])}(z.Component);fA.defaultProps=zt({},aa.defaultProps);var rW=function(t){var r=t.children;return z.createElement("div",{className:"rbc-row-content-scroll-container"},r)},nW=function(t,r){return t.left<=r&&t.right>=r},aW=function(t,r){return t[0].range===r[0].range&&t[0].events===r[0].events};function hA(){return D_(function(e){for(var t=e.range,r=e.events,n=e.maxRows,a=e.minRows,i=e.accessors,o=e.localizer,l=dA({dateRange:t,localizer:o}),c=l.first,u=l.last,d=r.map(function(g){return QU(g,t,i,o)}),f=S0(d,Math.max(n-1,1)),h=f.levels,m=f.extra,v=m.length>0?a-1:a;h.length<v;)h.push([]);return{first:c,last:u,levels:h,extra:m,range:t,slots:t.length,clone:function(x){var b=hA();return b(zt(zt({},e),x))},getDateForSlot:function(x){return t[x]},getSlotForDate:function(x){return t.find(function(b){return o.isSameDate(b,x)})},getEventsForSlot:function(x){return d.filter(function(b){return nW(b,x)}).map(function(b){return b.event})},continuesPrior:function(x){return o.continuesPrior(i.start(x),c)},continuesAfter:function(x){var b=i.start(x),y=i.end(x);return o.continuesAfter(b,y,u)}}},aW)}var bd=function(e){function t(){var r;$r(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=cn(this,t,[].concat(a)),r.handleSelectSlot=function(o){var l=r.props,c=l.range,u=l.onSelectSlot;u(c.slice(o.start,o.end+1),o)},r.handleShowMore=function(o,l){var c=r.props,u=c.range,d=c.onShowMore,f=r.slotMetrics(r.props),h=yT(r.containerRef.current,".rbc-row-bg")[0],m;h&&(m=h.children[o-1]);var v=f.getEventsForSlot(o);d(v,u[o-1],m,o,l)},r.getContainer=function(){var o=r.props.container;return o?o():r.containerRef.current},r.renderHeadingCell=function(o,l){var c=r.props,u=c.renderHeader,d=c.getNow,f=c.localizer;return u({date:o,key:"header_".concat(l),className:hr("rbc-date-cell",f.isSameDate(o,d())&&"rbc-now")})},r.renderDummy=function(){var o=r.props,l=o.className,c=o.range,u=o.renderHeader,d=o.showAllEvents;return z.createElement("div",{className:l,ref:r.containerRef},z.createElement("div",{className:hr("rbc-row-content",d&&"rbc-row-content-scrollable")},u&&z.createElement("div",{className:"rbc-row",ref:r.headingRowRef},c.map(r.renderHeadingCell)),z.createElement("div",{className:"rbc-row",ref:r.eventRowRef},z.createElement("div",{className:"rbc-row-segment"},z.createElement("div",{className:"rbc-event"},z.createElement("div",{className:"rbc-event-content"}," "))))))},r.containerRef=I.createRef(),r.headingRowRef=I.createRef(),r.eventRowRef=I.createRef(),r.slotMetrics=hA(),r}return un(t,e),Dr(t,[{key:"getRowLimit",value:function(){var n,a=vv(this.eventRowRef.current),i=(n=this.headingRowRef)!==null&&n!==void 0&&n.current?vv(this.headingRowRef.current):0,o=vv(this.containerRef.current)-i;return Math.max(Math.floor(o/a),1)}},{key:"render",value:function(){var n=this.props,a=n.date,i=n.rtl,o=n.range,l=n.className,c=n.selected,u=n.selectable,d=n.renderForMeasure,f=n.accessors,h=n.getters,m=n.components,v=n.getNow,g=n.renderHeader,x=n.onSelect,b=n.localizer,y=n.onSelectStart,N=n.onSelectEnd,_=n.onDoubleClick,w=n.onKeyPress,S=n.resourceId,O=n.longPressThreshold,P=n.isAllDay,T=n.resizable,F=n.showAllEvents;if(d)return this.renderDummy();var k=this.slotMetrics(this.props),C=k.levels,D=k.extra,M=F?rW:ii,U=m.weekWrapper,W={selected:c,accessors:f,getters:h,localizer:b,components:m,onSelect:x,onDoubleClick:_,onKeyPress:w,resourceId:S,slotMetrics:k,resizable:T};return z.createElement("div",{className:l,role:"rowgroup",ref:this.containerRef},z.createElement(ZU,{localizer:b,date:a,getNow:v,rtl:i,range:o,selectable:u,container:this.getContainer,getters:h,onSelectStart:y,onSelectEnd:N,onSelectSlot:this.handleSelectSlot,components:m,longPressThreshold:O,resourceId:S}),z.createElement("div",{className:hr("rbc-row-content",F&&"rbc-row-content-scrollable"),role:"row"},g&&z.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},o.map(this.renderHeadingCell)),z.createElement(M,null,z.createElement(U,Object.assign({isAllDay:P},W,{rtl:this.props.rtl}),C.map(function(R,K){return z.createElement(uA,Object.assign({key:K,segments:R},W))}),!!D.length&&z.createElement(fA,Object.assign({segments:D,onShowMore:this.handleShowMore},W))))))}}])}(z.Component);bd.defaultProps={minRows:0,maxRows:1/0};var Qb=function(t){var r=t.label;return z.createElement("span",{role:"columnheader","aria-sort":"none"},r)},iW=function(t){var r=t.label,n=t.drilldownView,a=t.onDrillDown;return n?z.createElement("button",{type:"button",className:"rbc-button-link",onClick:a},r):z.createElement("span",null,r)},sW=["date","className"],oW=function(t,r,n,a,i){return t.filter(function(o){return yd(o,r,n,a,i)})},Np=function(e){function t(){var r;$r(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=cn(this,t,[].concat(a)),r.getContainer=function(){return r.containerRef.current},r.renderWeek=function(o,l){var c=r.props,u=c.events,d=c.components,f=c.selectable,h=c.getNow,m=c.selected,v=c.date,g=c.localizer,x=c.longPressThreshold,b=c.accessors,y=c.getters,N=c.showAllEvents,_=r.state,w=_.needLimitMeasure,S=_.rowLimit,O=oW(Mh(u),o[0],o[o.length-1],b,g),P=tW(O,b,g);return z.createElement(bd,{key:l,ref:l===0?r.slotRowRef:void 0,container:r.getContainer,className:"rbc-month-row",getNow:h,date:v,range:o,events:P,maxRows:N?1/0:S,selected:m,selectable:f,components:d,accessors:b,getters:y,localizer:g,renderHeader:r.readerDateHeading,renderForMeasure:w,onShowMore:r.handleShowMore,onSelect:r.handleSelectEvent,onDoubleClick:r.handleDoubleClickEvent,onKeyPress:r.handleKeyPressEvent,onSelectSlot:r.handleSelectSlot,longPressThreshold:x,rtl:r.props.rtl,resizable:r.props.resizable,showAllEvents:N})},r.readerDateHeading=function(o){var l=o.date,c=o.className,u=gi(o,sW),d=r.props,f=d.date,h=d.getDrilldownView,m=d.localizer,v=m.neq(f,l,"month"),g=m.isSameDate(l,f),x=h(l),b=m.format(l,"dateFormat"),y=r.props.components.dateHeader||iW;return z.createElement("div",Object.assign({},u,{className:hr(c,v&&"rbc-off-range",g&&"rbc-current"),role:"cell"}),z.createElement(y,{label:b,date:l,drilldownView:x,isOffRange:v,onDrillDown:function(_){return r.handleHeadingClick(l,x,_)}}))},r.handleSelectSlot=function(o,l){r._pendingSelection=r._pendingSelection.concat(o),clearTimeout(r._selectTimer),r._selectTimer=setTimeout(function(){return r.selectDates(l)})},r.handleHeadingClick=function(o,l,c){c.preventDefault(),r.clearSelection(),er(r.props.onDrillDown,[o,l])},r.handleSelectEvent=function(){r.clearSelection();for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];er(r.props.onSelectEvent,l)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];er(r.props.onDoubleClickEvent,l)},r.handleKeyPressEvent=function(){r.clearSelection();for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];er(r.props.onKeyPressEvent,l)},r.handleShowMore=function(o,l,c,u,d){var f=r.props,h=f.popup,m=f.onDrillDown,v=f.onShowMore,g=f.getDrilldownView,x=f.doShowMoreDrillDown;if(r.clearSelection(),h){var b=t_(c,r.containerRef.current);r.setState({overlay:{date:l,events:o,position:b,target:d}})}else x&&er(m,[l,g(l)||vn.DAY]);er(v,[o,l,u])},r.overlayDisplay=function(){r.setState({overlay:null})},r.state={rowLimit:5,needLimitMeasure:!0,date:null},r.containerRef=I.createRef(),r.slotRowRef=I.createRef(),r._bgRows=[],r._pendingSelection=[],r}return un(t,e),Dr(t,[{key:"componentDidMount",value:function(){var n=this,a;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){a||r_(function(){a=!1,n.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var n=this.props,a=n.date,i=n.localizer,o=n.className,l=i.visibleDays(a,i),c=rT(l,7);return this._weekCount=c.length,z.createElement("div",{className:hr("rbc-month-view",o),role:"table","aria-label":"Month View",ref:this.containerRef},z.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(c[0])),c.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(n){var a=this.props,i=a.localizer,o=a.components,l=n[0],c=n[n.length-1],u=o.header||Qb;return i.range(l,c,"day").map(function(d,f){return z.createElement("div",{key:"header_"+f,className:"rbc-header"},z.createElement(u,{date:d,localizer:i,label:i.format(d,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var n,a,i=this,o=(n=(a=this.state)===null||a===void 0?void 0:a.overlay)!==null&&n!==void 0?n:{},l=this.props,c=l.accessors,u=l.localizer,d=l.components,f=l.getters,h=l.selected,m=l.popupOffset,v=l.handleDragStart,g=function(){return i.setState({overlay:null})};return z.createElement(Zb,{overlay:o,accessors:c,localizer:u,components:d,getters:f,selected:h,popupOffset:m,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:v,show:!!o.position,overlayDisplay:this.overlayDisplay,onHide:g})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(n){var a=this._pendingSelection.slice();this._pendingSelection=[],a.sort(function(l,c){return+l-+c});var i=new Date(a[0]),o=new Date(a[a.length-1]);o.setDate(a[a.length-1].getDate()+1),er(this.props.onSelectSlot,{slots:a,start:i,end:o,action:n.action,bounds:n.bounds,box:n.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(n,a){var i=n.date,o=n.localizer;return{date:i,needLimitMeasure:o.neq(i,a.date,"month")}}}])}(z.Component);Np.range=function(e,t){var r=t.localizer,n=r.firstVisibleDay(e,r),a=r.lastVisibleDay(e,r);return{start:n,end:a}};Np.navigate=function(e,t,r){var n=r.localizer;switch(t){case Ln.PREVIOUS:return n.add(e,-1,"month");case Ln.NEXT:return n.add(e,1,"month");default:return e}};Np.title=function(e,t){var r=t.localizer;return r.format(e,"monthHeaderFormat")};var ow=function(t){var r=t.min,n=t.max,a=t.step,i=t.slots,o=t.localizer;return"".concat(+o.startOf(r,"minutes"))+"".concat(+o.startOf(n,"minutes"))+"".concat(a,"-").concat(i)};function ex(e){for(var t=e.min,r=e.max,n=e.step,a=e.timeslots,i=e.localizer,o=ow({step:n,localizer:i}),l=1+i.getTotalMin(t,r),c=i.getMinutesFromMidnight(t),u=Math.ceil((l-1)/(n*a)),d=u*a,f=new Array(u),h=new Array(d),m=0;m<u;m++){f[m]=new Array(a);for(var v=0;v<a;v++){var g=m*a+v,x=g*n;h[g]=f[m][v]=i.getSlotDate(t,c,x)}}var b=h.length*n;h.push(i.getSlotDate(t,c,b));function y(N){var _=i.diff(t,N,"minutes")+i.getDstOffset(t,N);return Math.min(_,l)}return{groups:f,update:function(_){return ow(_)!==o?ex(_):this},dateIsInGroup:function(_,w){var S=f[w+1];return i.inRange(_,f[w][0],S?S[0]:r,"minutes")},nextSlot:function(_){var w=h[Math.min(h.findIndex(function(S){return S===_||i.eq(S,_)})+1,h.length-1)];return i.eq(w,_)&&(w=i.add(_,n,"minutes")),w},closestSlotToPosition:function(_){var w=Math.min(h.length-1,Math.max(0,Math.floor(_*d)));return h[w]},closestSlotFromPoint:function(_,w){var S=Math.abs(w.top-w.bottom);return this.closestSlotToPosition((_.y-w.top)/S)},closestSlotFromDate:function(_){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(i.lt(_,t,"minutes"))return h[0];if(i.gt(_,r,"minutes"))return h[h.length-1];var S=i.diff(t,_,"minutes");return h[(S-S%n)/n+w]},startsBeforeDay:function(_){return i.lt(_,t,"day")},startsAfterDay:function(_){return i.gt(_,r,"day")},startsBefore:function(_){return i.lt(i.merge(t,_),t,"minutes")},startsAfter:function(_){return i.gt(i.merge(r,_),r,"minutes")},getRange:function(_,w,S,O){S||(_=i.min(r,i.max(t,_))),O||(w=i.min(r,i.max(t,w)));var P=y(_),T=y(w),F=T>n*d&&!i.eq(r,w)?(P-n)/(n*d)*100:P/(n*d)*100;return{top:F,height:T/(n*d)*100-F,start:y(_),startDate:_,end:y(w),endDate:w}},getCurrentTimePosition:function(_){var w=y(_),S=w/(n*d)*100;return S}}}var lW=function(){function e(t,r){var n=r.accessors,a=r.slotMetrics;$r(this,e);var i=a.getRange(n.start(t),n.end(t)),o=i.start,l=i.startDate,c=i.end,u=i.endDate,d=i.top,f=i.height;this.start=o,this.end=c,this.startMs=+l,this.endMs=+u,this.top=d,this.height=f,this.data=t}return Dr(e,[{key:"_width",get:function(){if(this.rows){var r=this.rows.reduce(function(a,i){return Math.max(a,i.leaves.length+1)},0)+1;return 100/r}if(this.leaves){var n=100-this.container._width;return n/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var r=this._width,n=Math.min(100,this._width*1.7);if(this.rows)return n;if(this.leaves)return this.leaves.length>0?n:r;var a=this.row.leaves,i=a.indexOf(this);return i===a.length-1?r:n}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var r=this.row,n=r.leaves,a=r.xOffset,i=r._width,o=n.indexOf(this)+1;return a+o*i}}])}();function cW(e,t,r){return Math.abs(t.start-e.start)<r||t.start>e.start&&t.start<e.end}function uW(e){for(var t=bp(e,["startMs",function(l){return-l.endMs}]),r=[];t.length>0;){var n=t.shift();r.push(n);for(var a=0;a<t.length;a++){var i=t[a];if(!(n.endMs>i.startMs)){if(a>0){var o=t.splice(a,1)[0];r.push(o)}break}}}return r}function mA(e){for(var t=e.events,r=e.minimumStartDifference,n=e.slotMetrics,a=e.accessors,i=t.map(function(d){return new lW(d,{slotMetrics:n,accessors:a})}),o=uW(i),l=[],c=function(){var f=o[u],h=l.find(function(g){return g.end>f.start||Math.abs(f.start-g.start)<r});if(!h)return f.rows=[],l.push(f),1;f.container=h;for(var m=null,v=h.rows.length-1;!m&&v>=0;v--)cW(h.rows[v],f,r)&&(m=h.rows[v]);m?(m.leaves.push(f),f.row=m):(f.leaves=[],h.rows.push(f))},u=0;u<o.length;u++)c();return o.map(function(d){return{event:d.data,style:{top:d.top,height:d.height,width:d.width,xOffset:Math.max(0,d.xOffset)}}})}function pA(e,t,r){for(var n=0;n<e.friends.length;++n)if(!(r.indexOf(e.friends[n])>-1)){t=t>e.friends[n].idx?t:e.friends[n].idx,r.push(e.friends[n]);var a=pA(e.friends[n],t,r);t=t>a?t:a}return t}function dW(e){var t=e.events,r=e.minimumStartDifference,n=e.slotMetrics,a=e.accessors,i=mA({events:t,minimumStartDifference:r,slotMetrics:n,accessors:a});i.sort(function(U,W){return U=U.style,W=W.style,U.top!==W.top?U.top>W.top?1:-1:U.height!==W.height?U.top+U.height<W.top+W.height?1:-1:0});for(var o=0;o<i.length;++o)i[o].friends=[],delete i[o].style.left,delete i[o].style.left,delete i[o].idx,delete i[o].size;for(var l=0;l<i.length-1;++l)for(var c=i[l],u=c.style.top,d=c.style.top+c.style.height,f=l+1;f<i.length;++f){var h=i[f],m=h.style.top,v=h.style.top+h.style.height;(m>=u&&v<=d||v>u&&v<=d||m>=u&&m<d)&&(c.friends.push(h),h.friends.push(c))}for(var g=0;g<i.length;++g){for(var x=i[g],b=[],y=0;y<100;++y)b.push(1);for(var N=0;N<x.friends.length;++N)x.friends[N].idx!==void 0&&(b[x.friends[N].idx]=0);x.idx=b.indexOf(1)}for(var _=0;_<i.length;++_){var w=0;if(!i[_].size){var S=[],O=pA(i[_],0,S);w=100/(O+1),i[_].size=w;for(var P=0;P<S.length;++P)S[P].size=w}}for(var T=0;T<i.length;++T){var F=i[T];F.style.left=F.idx*F.size;for(var k=0,C=0;C<F.friends.length;++C){var D=F.friends[C].idx;k=k>D?k:D}k<=F.idx&&(F.size=100-F.idx*F.size);var M=F.idx===0?0:3;F.style.width="calc(".concat(F.size,"% - ").concat(M,"px)"),F.style.height="calc(".concat(F.style.height,"% - 2px)"),F.style.xOffset="calc(".concat(F.style.left,"% + ").concat(M,"px)")}return i}var lw={overlap:mA,"no-overlap":dW};function fW(e){return!!(e&&e.constructor&&e.call&&e.apply)}function hW(e){e.events,e.minimumStartDifference,e.slotMetrics,e.accessors;var t=e.dayLayoutAlgorithm,r=t;return t in lw&&(r=lw[t]),fW(r)?r.apply(this,arguments):[]}var gA=function(e){function t(){return $r(this,t),cn(this,t,arguments)}return un(t,e),Dr(t,[{key:"render",value:function(){var n=this.props,a=n.renderSlot,i=n.resource,o=n.group,l=n.getters,c=n.components,u=c===void 0?{}:c,d=u.timeSlotWrapper,f=d===void 0?ii:d,h=l?l.slotGroupProp(o):{};return z.createElement("div",Object.assign({className:"rbc-timeslot-group"},h),o.map(function(m,v){var g=l?l.slotProp(m,i):{};return z.createElement(f,{key:v,value:m,resource:i},z.createElement("div",Object.assign({},g,{className:hr("rbc-time-slot",g.className)}),a&&a(m,v)))}))}}])}(I.Component);function hh(e){return typeof e=="string"?e:e+"%"}function mW(e){var t=e.style,r=e.className,n=e.event,a=e.accessors,i=e.rtl,o=e.selected,l=e.label,c=e.continuesPrior,u=e.continuesAfter,d=e.getters,f=e.onClick,h=e.onDoubleClick,m=e.isBackgroundEvent,v=e.onKeyPress,g=e.components,x=g.event,b=g.eventWrapper,y=a.title(n),N=a.tooltip(n),_=a.end(n),w=a.start(n),S=d.eventProp(n,w,_,o),O=[z.createElement("div",{key:"1",className:"rbc-event-label"},l),z.createElement("div",{key:"2",className:"rbc-event-content"},x?z.createElement(x,{event:n,title:y}):y)],P=t.height,T=t.top,F=t.width,k=t.xOffset,C=zt(zt({},S.style),{},ao({top:hh(T),height:hh(P),width:hh(F)},i?"right":"left",hh(k)));return z.createElement(b,Object.assign({type:"time"},e),z.createElement("div",{role:"button",tabIndex:0,onClick:f,onDoubleClick:h,style:C,onKeyDown:v,title:N?(typeof l=="string"?l+": ":"")+N:void 0,className:hr(m?"rbc-background-event":"rbc-event",r,S.className,{"rbc-selected":o,"rbc-event-continues-earlier":c,"rbc-event-continues-later":u})},O))}var pW=function(t){var r=t.children,n=t.className,a=t.style,i=t.innerRef;return z.createElement("div",{className:n,style:a,ref:i},r)},gW=z.forwardRef(function(e,t){return z.createElement(pW,Object.assign({},e,{innerRef:t}))}),vW=["dayProp"],yW=["eventContainerWrapper","timeIndicatorWrapper"],vA=function(e){function t(){var r;$r(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=cn(this,t,[].concat(a)),r.state={selecting:!1,timeIndicatorPosition:null},r.intervalTriggered=!1,r.renderEvents=function(o){var l=o.events,c=o.isBackgroundEvent,u=r.props,d=u.rtl,f=u.selected,h=u.accessors,m=u.localizer,v=u.getters,g=u.components,x=u.step,b=u.timeslots,y=u.dayLayoutAlgorithm,N=u.resizable,_=r,w=_.slotMetrics,S=m.messages,O=hW({events:l,accessors:h,slotMetrics:w,minimumStartDifference:Math.ceil(x*b/2),dayLayoutAlgorithm:y});return O.map(function(P,T){var F,k=P.event,C=P.style,D=h.end(k),M=h.start(k),U=(F=h.eventId(k))!==null&&F!==void 0?F:"evt_"+T,W="eventTimeRangeFormat",R,K=w.startsBeforeDay(M),Y=w.startsAfterDay(D);K?W="eventTimeRangeEndFormat":Y&&(W="eventTimeRangeStartFormat"),K&&Y?R=S.allDay:R=m.format({start:M,end:D},W);var Z=K||w.startsBefore(M),ae=Y||w.startsAfter(D);return z.createElement(mW,{style:C,event:k,label:R,key:U,getters:v,rtl:d,components:g,continuesPrior:Z,continuesAfter:ae,accessors:h,resource:r.props.resource,selected:jp(k,f),onClick:function(H){return r._select(zt(zt(zt({},k),r.props.resource&&{sourceResource:r.props.resource}),c&&{isBackgroundEvent:!0}),H)},onDoubleClick:function(H){return r._doubleClick(k,H)},isBackgroundEvent:c,onKeyPress:function(H){return r._keyPress(k,H)},resizable:N})})},r._selectable=function(){var o=r.containerRef.current,l=r.props,c=l.longPressThreshold,u=l.localizer,d=r._selector=new cA(function(){return o},{longPressThreshold:c}),f=function(g){var x=r.props.onSelecting,b=r.state||{},y=h(g),N=y.startDate,_=y.endDate;x&&(u.eq(b.startDate,N,"minutes")&&u.eq(b.endDate,_,"minutes")||x({start:N,end:_,resourceId:r.props.resource})===!1)||(r.state.start!==y.start||r.state.end!==y.end||r.state.selecting!==y.selecting)&&r.setState(y)},h=function(g){var x=r.slotMetrics.closestSlotFromPoint(g,Po(o));r.state.selecting||(r._initialSlot=x);var b=r._initialSlot;u.lte(b,x)?x=r.slotMetrics.nextSlot(x):u.gt(b,x)&&(b=r.slotMetrics.nextSlot(b));var y=r.slotMetrics.getRange(u.min(b,x),u.max(b,x));return zt(zt({},y),{},{selecting:!0,top:"".concat(y.top,"%"),height:"".concat(y.height,"%")})},m=function(g,x){if(!em(r.containerRef.current,g)){var b=h(g),y=b.startDate,N=b.endDate;r._selectSlot({startDate:y,endDate:N,action:x,box:g})}r.setState({selecting:!1})};d.on("selecting",f),d.on("selectStart",f),d.on("beforeSelect",function(v){if(r.props.selectable==="ignoreEvents")return!em(r.containerRef.current,v)}),d.on("click",function(v){return m(v,"click")}),d.on("doubleClick",function(v){return m(v,"doubleClick")}),d.on("select",function(v){r.state.selecting&&(r._selectSlot(zt(zt({},r.state),{},{action:"select",bounds:v})),r.setState({selecting:!1}))}),d.on("reset",function(){r.state.selecting&&r.setState({selecting:!1})})},r._teardownSelectable=function(){r._selector&&(r._selector.teardown(),r._selector=null)},r._selectSlot=function(o){for(var l=o.startDate,c=o.endDate,u=o.action,d=o.bounds,f=o.box,h=l,m=[];r.props.localizer.lte(h,c);)m.push(h),h=new Date(+h+r.props.step*60*1e3);er(r.props.onSelectSlot,{slots:m,start:l,end:c,resourceId:r.props.resource,action:u,bounds:d,box:f})},r._select=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];er(r.props.onSelectEvent,l)},r._doubleClick=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];er(r.props.onDoubleClickEvent,l)},r._keyPress=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];er(r.props.onKeyPressEvent,l)},r.slotMetrics=ex(r.props),r.containerRef=I.createRef(),r}return un(t,e),Dr(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(n,a){this.props.selectable&&!n.selectable&&this._selectable(),!this.props.selectable&&n.selectable&&this._teardownSelectable();var i=this.props,o=i.getNow,l=i.isNow,c=i.localizer,u=i.date,d=i.min,f=i.max,h=c.neq(n.getNow(),o(),"minutes");if(n.isNow!==l||h){if(this.clearTimeIndicatorInterval(),l){var m=!h&&c.eq(n.date,u,"minutes")&&a.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(m)}}else l&&(c.neq(n.min,d,"minutes")||c.neq(n.max,f,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var n=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!a&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){n.intervalTriggered=!0,n.positionTimeIndicator(),n.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var n=this.props,a=n.min,i=n.max,o=n.getNow,l=o();if(l>=a&&l<=i){var c=this.slotMetrics.getCurrentTimePosition(l);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:c})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var n=this.props,a=n.date,i=n.max,o=n.rtl,l=n.isNow,c=n.resource,u=n.accessors,d=n.localizer,f=n.getters,h=f.dayProp,m=gi(f,vW),v=n.components,g=v.eventContainerWrapper,x=v.timeIndicatorWrapper,b=gi(v,yW);this.slotMetrics=this.slotMetrics.update(this.props);var y=this.slotMetrics,N=this.state,_=N.selecting,w=N.top,S=N.height,O=N.startDate,P=N.endDate,T={start:O,end:P},F=h(i,c),k=F.className,C=F.style,D={className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}},M=b.dayColumnWrapper||gW;return z.createElement(M,{ref:this.containerRef,date:a,style:C,className:hr(k,"rbc-day-slot","rbc-time-column",l&&"rbc-now",l&&"rbc-today",_&&"rbc-slot-selecting"),slotMetrics:y,resource:c},y.groups.map(function(U,W){return z.createElement(gA,{key:W,group:U,resource:c,getters:m,components:b})}),z.createElement(g,{localizer:d,resource:c,accessors:u,getters:m,components:b,slotMetrics:y},z.createElement("div",{className:hr("rbc-events-container",o&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),_&&z.createElement("div",{className:"rbc-slot-selection",style:{top:w,height:S}},z.createElement("span",null,d.format(T,"selectRangeFormat"))),l&&this.intervalTriggered&&z.createElement(x,D,z.createElement("div",D)))}}])}(z.Component);vA.defaultProps={dragThroughEvents:!0,timeslots:2};var yA=function(t){var r=t.label;return z.createElement(z.Fragment,null,r)},bW=function(e){function t(){var r;$r(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=cn(this,t,[].concat(a)),r.handleHeaderClick=function(o,l,c){c.preventDefault(),er(r.props.onDrillDown,[o,l])},r.renderRow=function(o){var l=r.props,c=l.events,u=l.rtl,d=l.selectable,f=l.getNow,h=l.range,m=l.getters,v=l.localizer,g=l.accessors,x=l.components,b=l.resizable,y=g.resourceId(o),N=o?c.filter(function(_){return g.resource(_)===y}):c;return z.createElement(bd,{isAllDay:!0,rtl:u,getNow:f,minRows:2,maxRows:r.props.allDayMaxRows+1,range:h,events:N,resourceId:y,className:"rbc-allday-cell",selectable:d,selected:r.props.selected,components:x,accessors:g,getters:m,localizer:v,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyPress:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:b})},r}return un(t,e),Dr(t,[{key:"renderHeaderCells",value:function(n){var a=this,i=this.props,o=i.localizer,l=i.getDrilldownView,c=i.getNow,u=i.getters.dayProp,d=i.components.header,f=d===void 0?Qb:d,h=c();return n.map(function(m,v){var g=l(m),x=o.format(m,"dayFormat"),b=u(m),y=b.className,N=b.style,_=z.createElement(f,{date:m,label:x,localizer:o});return z.createElement("div",{key:v,style:N,className:hr("rbc-header",y,o.isSameDate(m,h)&&"rbc-today")},g?z.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(S){return a.handleHeaderClick(m,g,S)}},_):z.createElement("span",null,_))})}},{key:"render",value:function(){var n=this,a=this.props,i=a.width,o=a.rtl,l=a.resources,c=a.range,u=a.events,d=a.getNow,f=a.accessors,h=a.selectable,m=a.components,v=a.getters,g=a.scrollRef,x=a.localizer,b=a.isOverflowing,y=a.components,N=y.timeGutterHeader,_=y.resourceHeader,w=_===void 0?yA:_,S=a.resizable,O={};b&&(O[o?"marginLeft":"marginRight"]="".concat(kb()-1,"px"));var P=l.groupEvents(u);return z.createElement("div",{style:O,ref:g,className:hr("rbc-time-header",b&&"rbc-overflowing")},z.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:i,minWidth:i,maxWidth:i}},N&&z.createElement(N,null)),l.map(function(T,F){var k=xo(T,2),C=k[0],D=k[1];return z.createElement("div",{className:"rbc-time-header-content",key:C||F},D&&z.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(F)},z.createElement("div",{className:"rbc-header"},z.createElement(w,{index:F,label:f.resourceTitle(D),resource:D}))),z.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(c.length<=1?" rbc-time-header-cell-single-day":"")},n.renderHeaderCells(c)),z.createElement(bd,{isAllDay:!0,rtl:o,getNow:d,minRows:2,maxRows:n.props.allDayMaxRows+1,range:c,events:P.get(C)||[],resourceId:D&&C,className:"rbc-allday-cell",selectable:h,selected:n.props.selected,components:m,accessors:f,getters:v,localizer:x,onSelect:n.props.onSelectEvent,onShowMore:n.props.onShowMore,onDoubleClick:n.props.onDoubleClickEvent,onKeyDown:n.props.onKeyPressEvent,onSelectSlot:n.props.onSelectSlot,longPressThreshold:n.props.longPressThreshold,resizable:S}))}))}}])}(z.Component),xW=function(e){function t(){var r;$r(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=cn(this,t,[].concat(a)),r.handleHeaderClick=function(o,l,c){c.preventDefault(),er(r.props.onDrillDown,[o,l])},r}return un(t,e),Dr(t,[{key:"renderHeaderCells",value:function(n){var a=this,i=this.props,o=i.localizer,l=i.getDrilldownView,c=i.getNow,u=i.getters.dayProp,d=i.components,f=d.header,h=f===void 0?Qb:f,m=d.resourceHeader,v=m===void 0?yA:m,g=i.resources,x=i.accessors,b=i.events,y=i.rtl,N=i.selectable,_=i.components,w=i.getters,S=i.resizable,O=c(),P=g.groupEvents(b);return n.map(function(T,F){var k=l(T),C=o.format(T,"dayFormat"),D=u(T),M=D.className,U=D.style,W=z.createElement(h,{date:T,label:C,localizer:o});return z.createElement("div",{key:F,className:"rbc-time-header-content rbc-resource-grouping"},z.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(n.length<=1?" rbc-time-header-cell-single-day":"")},z.createElement("div",{style:U,className:hr("rbc-header",M,o.isSameDate(T,O)&&"rbc-today")},k?z.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(K){return a.handleHeaderClick(T,k,K)}},W):z.createElement("span",null,W))),z.createElement("div",{className:"rbc-row"},g.map(function(R,K){var Y=xo(R,2),Z=Y[0],ae=Y[1];return z.createElement("div",{key:"resource_".concat(Z,"_").concat(K),className:hr("rbc-header",M,o.isSameDate(T,O)&&"rbc-today")},z.createElement(v,{index:K,label:x.resourceTitle(ae),resource:ae}))})),z.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},g.map(function(R,K){var Y=xo(R,2),Z=Y[0],ae=Y[1],$=(P.get(Z)||[]).filter(function(H){return o.isSameDate(H.start,T)||o.isSameDate(H.end,T)});return z.createElement(bd,{key:"resource_".concat(Z,"_").concat(K),isAllDay:!0,rtl:y,getNow:c,minRows:2,maxRows:a.props.allDayMaxRows+1,range:[T],events:$,resourceId:ae&&Z,className:"rbc-allday-cell",selectable:N,selected:a.props.selected,components:_,accessors:x,getters:w,localizer:o,onSelect:a.props.onSelectEvent,onShowMore:a.props.onShowMore,onDoubleClick:a.props.onDoubleClickEvent,onKeyDown:a.props.onKeyPressEvent,onSelectSlot:a.props.onSelectSlot,longPressThreshold:a.props.longPressThreshold,resizable:S})})))})}},{key:"render",value:function(){var n=this.props,a=n.width,i=n.rtl,o=n.range,l=n.scrollRef,c=n.isOverflowing,u=n.components.timeGutterHeader,d={};return c&&(d[i?"marginLeft":"marginRight"]="".concat(kb()-1,"px")),z.createElement("div",{style:d,ref:l,className:hr("rbc-time-header",c&&"rbc-overflowing")},z.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:a,minWidth:a,maxWidth:a}},u&&z.createElement(u,null)),this.renderHeaderCells(o))}}])}(z.Component);function wW(e){var t=e.min,r=e.max,n=e.localizer;return n.getTimezoneOffset(t)!==n.getTimezoneOffset(r)?{start:n.add(t,-1,"day"),end:n.add(r,-1,"day")}:{start:t,end:r}}var jW=function(t){var r=t.min,n=t.max,a=t.timeslots,i=t.step,o=t.localizer,l=t.getNow,c=t.resource,u=t.components,d=t.getters,f=t.gutterRef,h=u.timeGutterWrapper,m=I.useMemo(function(){return wW({min:r,max:n,localizer:o})},[r==null?void 0:r.toISOString(),n==null?void 0:n.toISOString(),o]),v=m.start,g=m.end,x=I.useState(ex({min:v,max:g,timeslots:a,step:i,localizer:o})),b=xo(x,2),y=b[0],N=b[1];I.useEffect(function(){y&&N(y.update({min:v,max:g,timeslots:a,step:i,localizer:o}))},[v==null?void 0:v.toISOString(),g==null?void 0:g.toISOString(),a,i]);var _=I.useCallback(function(w,S){if(S)return null;var O=y.dateIsInGroup(l(),S);return z.createElement("span",{className:hr("rbc-label",O&&"rbc-now")},o.format(w,"timeGutterFormat"))},[y,o,l]);return z.createElement(h,{slotMetrics:y},z.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:f},y.groups.map(function(w,S){return z.createElement(gA,{key:S,group:w,resource:c,components:u,renderSlot:_,getters:d})})))},NW=z.forwardRef(function(e,t){return z.createElement(jW,Object.assign({gutterRef:t},e))}),wv={};function SW(e,t){return{map:function(n){return e?e.map(function(a,i){return n([t.resourceId(a),a],i)}):[n([wv,null],0)]},groupEvents:function(n){var a=new Map;return e?(n.forEach(function(i){var o=t.resource(i)||wv;if(Array.isArray(o))o.forEach(function(c){var u=a.get(c)||[];u.push(i),a.set(c,u)});else{var l=a.get(o)||[];l.push(i),a.set(o,l)}}),a):(a.set(wv,n),a)}}}var zc=function(e){function t(r){var n;return $r(this,t),n=cn(this,t,[r]),n.handleScroll=function(a){n.scrollRef.current&&(n.scrollRef.current.scrollLeft=a.target.scrollLeft)},n.handleResize=function(){Y1(n.rafHandle),n.rafHandle=r_(n.checkOverflow)},n.handleKeyPressEvent=function(){n.clearSelection();for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];er(n.props.onKeyPressEvent,i)},n.handleSelectEvent=function(){n.clearSelection();for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];er(n.props.onSelectEvent,i)},n.handleDoubleClickEvent=function(){n.clearSelection();for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];er(n.props.onDoubleClickEvent,i)},n.handleShowMore=function(a,i,o,l,c){var u=n.props,d=u.popup,f=u.onDrillDown,h=u.onShowMore,m=u.getDrilldownView,v=u.doShowMoreDrillDown;if(n.clearSelection(),d){var g=t_(o,n.containerRef.current);n.setState({overlay:{date:i,events:a,position:zt(zt({},g),{},{width:"200px"}),target:c}})}else v&&er(f,[i,m(i)||vn.DAY]);er(h,[a,i,l])},n.handleSelectAllDaySlot=function(a,i){var o=n.props.onSelectSlot,l=new Date(a[0]),c=new Date(a[a.length-1]);c.setDate(a[a.length-1].getDate()+1),er(o,{slots:a,start:l,end:c,action:i.action,resourceId:i.resourceId})},n.overlayDisplay=function(){n.setState({overlay:null})},n.checkOverflow=function(){if(!n._updatingOverflow){var a=n.contentRef.current;if(a!=null&&a.scrollHeight){var i=a.scrollHeight>a.clientHeight;n.state.isOverflowing!==i&&(n._updatingOverflow=!0,n.setState({isOverflowing:i},function(){n._updatingOverflow=!1}))}}},n.memoizedResources=D_(function(a,i){return SW(a,i)}),n.state={gutterWidth:void 0,isOverflowing:null},n.scrollRef=z.createRef(),n.contentRef=z.createRef(),n.containerRef=z.createRef(),n._scrollRatio=null,n.gutterRef=I.createRef(),n}return un(t,e),Dr(t,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),Y1(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(n,a,i,o,l,c,u,d,f,h){var m=this.props,v=m.min,g=m.max,x=(o.get(a)||[]).filter(function(y){return c.inRange(n,u.start(y),u.end(y),"day")}),b=(l.get(a)||[]).filter(function(y){return c.inRange(n,u.start(y),u.end(y),"day")});return z.createElement(vA,Object.assign({},this.props,{localizer:c,min:c.merge(n,v),max:c.merge(n,g),resource:i&&a,components:d,isNow:c.isSameDate(n,h),key:"".concat(a,"-").concat(n),date:n,events:x,backgroundEvents:b,dayLayoutAlgorithm:f}))}},{key:"renderResourcesFirst",value:function(n,a,i,o,l,c,u,d,f){var h=this;return a.map(function(m){var v=xo(m,2),g=v[0],x=v[1];return n.map(function(b){return h.renderDayColumn(b,g,x,i,o,l,c,d,f,u)})})}},{key:"renderRangeFirst",value:function(n,a,i,o,l,c,u,d,f){var h=this;return n.map(function(m){return z.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:m},a.map(function(v){var g=xo(v,2),x=g[0],b=g[1];return z.createElement("div",{style:{flex:1},key:c.resourceId(b)},h.renderDayColumn(m,x,b,i,o,l,c,d,f,u))}))})}},{key:"renderEvents",value:function(n,a,i,o){var l=this.props,c=l.accessors,u=l.localizer,d=l.resourceGroupingLayout,f=l.components,h=l.dayLayoutAlgorithm,m=this.memoizedResources(this.props.resources,c),v=m.groupEvents(a),g=m.groupEvents(i);return d?this.renderRangeFirst(n,m,v,g,u,c,o,f,h):this.renderResourcesFirst(n,m,v,g,u,c,o,f,h)}},{key:"render",value:function(){var n,a=this.props,i=a.events,o=a.backgroundEvents,l=a.range,c=a.width,u=a.rtl,d=a.selected,f=a.getNow,h=a.resources,m=a.components,v=a.accessors,g=a.getters,x=a.localizer,b=a.min,y=a.max,N=a.showMultiDayTimes,_=a.longPressThreshold,w=a.resizable,S=a.resourceGroupingLayout;c=c||this.state.gutterWidth;var O=l[0],P=l[l.length-1];this.slots=l.length;var T=[],F=[],k=[];i.forEach(function(D){if(yd(D,O,P,v,x)){var M=v.start(D),U=v.end(D);v.allDay(D)||x.startAndEndAreDateOnly(M,U)||!N&&!x.isSameDate(M,U)?T.push(D):F.push(D)}}),o.forEach(function(D){yd(D,O,P,v,x)&&k.push(D)}),T.sort(function(D,M){return _0(D,M,v,x)});var C={range:l,events:T,width:c,rtl:u,getNow:f,localizer:x,selected:d,allDayMaxRows:this.props.showAllEvents?1/0:(n=this.props.allDayMaxRows)!==null&&n!==void 0?n:1/0,resources:this.memoizedResources(h,v),selectable:this.props.selectable,accessors:v,getters:g,components:m,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:_,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:w};return z.createElement("div",{className:hr("rbc-time-view",h&&"rbc-time-view-resources"),ref:this.containerRef},h&&h.length>1&&S?z.createElement(xW,C):z.createElement(bW,C),this.props.popup&&this.renderOverlay(),z.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},z.createElement(NW,{date:O,ref:this.gutterRef,localizer:x,min:x.merge(O,b),max:x.merge(O,y),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:m,className:"rbc-time-gutter",getters:g}),this.renderEvents(l,F,k,f())))}},{key:"renderOverlay",value:function(){var n,a,i=this,o=(n=(a=this.state)===null||a===void 0?void 0:a.overlay)!==null&&n!==void 0?n:{},l=this.props,c=l.accessors,u=l.localizer,d=l.components,f=l.getters,h=l.selected,m=l.popupOffset,v=l.handleDragStart,g=function(){return i.setState({overlay:null})};return z.createElement(Zb,{overlay:o,accessors:c,localizer:u,components:d,getters:f,selected:h,popupOffset:m,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:v,show:!!o.position,overlayDisplay:this.overlayDisplay,onHide:g})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var n=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var a,i=(a=n.gutterRef)!==null&&a!==void 0&&a.current?j0(n.gutterRef.current):void 0;i&&n.state.gutterWidth!==i&&n.setState({gutterWidth:i})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var n=this.contentRef.current;n.scrollTop=n.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,a=n.min,i=n.max,o=n.scrollToTime,l=n.localizer,c=l.diff(l.merge(o,a),o,"milliseconds"),u=l.diff(a,i,"milliseconds");this._scrollRatio=c/u}}])}(I.Component);zc.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var _W=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Sp=function(e){function t(){return $r(this,t),cn(this,t,arguments)}return un(t,e),Dr(t,[{key:"render",value:function(){var n=this.props,a=n.date,i=n.localizer,o=n.min,l=o===void 0?i.startOf(new Date,"day"):o,c=n.max,u=c===void 0?i.endOf(new Date,"day"):c,d=n.scrollToTime,f=d===void 0?i.startOf(new Date,"day"):d,h=n.enableAutoScroll,m=h===void 0?!0:h,v=gi(n,_W),g=t.range(a,{localizer:i});return z.createElement(zc,Object.assign({},v,{range:g,eventOffset:10,localizer:i,min:l,max:u,scrollToTime:f,enableAutoScroll:m}))}}])}(z.Component);Sp.range=function(e,t){var r=t.localizer;return[r.startOf(e,"day")]};Sp.navigate=function(e,t,r){var n=r.localizer;switch(t){case Ln.PREVIOUS:return n.add(e,-1,"day");case Ln.NEXT:return n.add(e,1,"day");default:return e}};Sp.title=function(e,t){var r=t.localizer;return r.format(e,"dayHeaderFormat")};var AW=["date","localizer","min","max","scrollToTime","enableAutoScroll"],js=function(e){function t(){return $r(this,t),cn(this,t,arguments)}return un(t,e),Dr(t,[{key:"render",value:function(){var n=this.props,a=n.date,i=n.localizer,o=n.min,l=o===void 0?i.startOf(new Date,"day"):o,c=n.max,u=c===void 0?i.endOf(new Date,"day"):c,d=n.scrollToTime,f=d===void 0?i.startOf(new Date,"day"):d,h=n.enableAutoScroll,m=h===void 0?!0:h,v=gi(n,AW),g=t.range(a,this.props);return z.createElement(zc,Object.assign({},v,{range:g,eventOffset:15,localizer:i,min:l,max:u,scrollToTime:f,enableAutoScroll:m}))}}])}(z.Component);js.defaultProps=zc.defaultProps;js.navigate=function(e,t,r){var n=r.localizer;switch(t){case Ln.PREVIOUS:return n.add(e,-1,"week");case Ln.NEXT:return n.add(e,1,"week");default:return e}};js.range=function(e,t){var r=t.localizer,n=r.startOfWeek(),a=r.startOf(e,"week",n),i=r.endOf(e,"week",n);return r.range(a,i)};js.title=function(e,t){var r=t.localizer,n=js.range(e,{localizer:r}),a=U_(n),i=a[0],o=a.slice(1);return r.format({start:i,end:o.pop()},"dayRangeHeaderFormat")};var OW=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function tx(e,t){return js.range(e,t).filter(function(r){return[6,0].indexOf(r.getDay())===-1})}var hf=function(e){function t(){return $r(this,t),cn(this,t,arguments)}return un(t,e),Dr(t,[{key:"render",value:function(){var n=this.props,a=n.date,i=n.localizer,o=n.min,l=o===void 0?i.startOf(new Date,"day"):o,c=n.max,u=c===void 0?i.endOf(new Date,"day"):c,d=n.scrollToTime,f=d===void 0?i.startOf(new Date,"day"):d,h=n.enableAutoScroll,m=h===void 0?!0:h,v=gi(n,OW),g=tx(a,this.props);return z.createElement(zc,Object.assign({},v,{range:g,eventOffset:15,localizer:i,min:l,max:u,scrollToTime:f,enableAutoScroll:m}))}}])}(z.Component);hf.defaultProps=zc.defaultProps;hf.range=tx;hf.navigate=js.navigate;hf.title=function(e,t){var r=t.localizer,n=tx(e,{localizer:r}),a=U_(n),i=a[0],o=a.slice(1);return r.format({start:i,end:o.pop()},"dayRangeHeaderFormat")};var _p=30;function Ap(e){var t=e.accessors,r=e.components,n=e.date,a=e.events,i=e.getters,o=e.length,l=o===void 0?_p:o,c=e.localizer,u=e.onDoubleClickEvent,d=e.onSelectEvent,f=e.selected,h=I.useRef(null),m=I.useRef(null),v=I.useRef(null),g=I.useRef(null),x=I.useRef(null);I.useEffect(function(){N()});var b=function(P,T,F){var k=r.event,C=r.date;return T=T.filter(function(D){return yd(D,c.startOf(P,"day"),c.endOf(P,"day"),t,c)}),T.map(function(D,M){var U=t.title(D),W=t.end(D),R=t.start(D),K=i.eventProp(D,R,W,jp(D,f)),Y=M===0&&c.format(P,"agendaDateFormat"),Z=M===0?z.createElement("td",{rowSpan:T.length,className:"rbc-agenda-date-cell"},C?z.createElement(C,{day:P,label:Y}):Y):!1;return z.createElement("tr",{key:F+"_"+M,className:K.className,style:K.style},Z,z.createElement("td",{className:"rbc-agenda-time-cell"},y(P,D)),z.createElement("td",{className:"rbc-agenda-event-cell",onClick:function($){return d&&d(D,$)},onDoubleClick:function($){return u&&u(D,$)}},k?z.createElement(k,{event:D,title:U}):U))},[])},y=function(P,T){var F="",k=r.time,C=c.messages.allDay,D=t.end(T),M=t.start(T);return t.allDay(T)||(c.eq(M,D)?C=c.format(M,"agendaTimeFormat"):c.isSameDate(M,D)?C=c.format({start:M,end:D},"agendaTimeRangeFormat"):c.isSameDate(P,M)?C=c.format(M,"agendaTimeFormat"):c.isSameDate(P,D)&&(C=c.format(D,"agendaTimeFormat"))),c.gt(P,M,"day")&&(F="rbc-continues-prior"),c.lt(P,D,"day")&&(F+=" rbc-continues-after"),z.createElement("span",{className:F.trim()},k?z.createElement(k,{event:T,day:P,label:C}):C)},N=function(){if(x.current){var P=h.current,T=x.current.firstChild;if(T){var F=g.current.scrollHeight>g.current.clientHeight,k=[],C=k;k=[j0(T.children[0]),j0(T.children[1])],(C[0]!==k[0]||C[1]!==k[1])&&(m.current.style.width=k[0]+"px",v.current.style.width=k[1]+"px"),F?(UC(P,"rbc-header-overflowing"),P.style.marginRight=kb()+"px"):WC(P,"rbc-header-overflowing")}}},_=c.messages,w=c.add(n,l,"day"),S=c.range(n,w,"day");return a=a.filter(function(O){return yd(O,c.startOf(n,"day"),c.endOf(w,"day"),t,c)}),a.sort(function(O,P){return+t.start(O)-+t.start(P)}),z.createElement("div",{className:"rbc-agenda-view"},a.length!==0?z.createElement(z.Fragment,null,z.createElement("table",{ref:h,className:"rbc-agenda-table"},z.createElement("thead",null,z.createElement("tr",null,z.createElement("th",{className:"rbc-header",ref:m},_.date),z.createElement("th",{className:"rbc-header",ref:v},_.time),z.createElement("th",{className:"rbc-header"},_.event)))),z.createElement("div",{className:"rbc-agenda-content",ref:g},z.createElement("table",{className:"rbc-agenda-table"},z.createElement("tbody",{ref:x},S.map(function(O,P){return b(O,a,P)}))))):z.createElement("span",{className:"rbc-agenda-empty"},_.noEventsInRange))}Ap.range=function(e,t){var r=t.length,n=r===void 0?_p:r,a=t.localizer,i=a.add(e,n,"day");return{start:e,end:i}};Ap.navigate=function(e,t,r){var n=r.length,a=n===void 0?_p:n,i=r.localizer;switch(t){case Ln.PREVIOUS:return i.add(e,-a,"day");case Ln.NEXT:return i.add(e,a,"day");default:return e}};Ap.title=function(e,t){var r=t.length,n=r===void 0?_p:r,a=t.localizer,i=a.add(e,n,"day");return a.format({start:e,end:i},"agendaHeaderFormat")};var Ih=ao(ao(ao(ao(ao({},vn.MONTH,Np),vn.WEEK,js),vn.WORK_WEEK,hf),vn.DAY,Sp),vn.AGENDA,Ap),PW=["action","date","today"];function EW(e,t){var r=t.action,n=t.date,a=t.today,i=gi(t,PW);switch(e=typeof e=="string"?Ih[e]:e,r){case Ln.TODAY:n=a||new Date;break;case Ln.DATE:break;default:id(e&&typeof e.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),n=e.navigate(n,r,i)}return n}function kW(e,t){var r=null;return typeof t=="function"?r=t(e):typeof t=="string"&&jt(e)==="object"&&e!=null&&t in e&&(r=e[t]),r}var Ci=function(t){return function(r){return kW(r,t)}},TW=["view","date","getNow","onNavigate"],CW=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function bA(e){if(Array.isArray(e))return e;for(var t=[],r=0,n=Object.entries(e);r<n.length;r++){var a=xo(n[r],2),i=a[0],o=a[1];o&&t.push(i)}return t}function LW(e,t){var r=t.views,n=bA(r);return n.indexOf(e)!==-1}var xA=function(e){function t(){var r;$r(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=cn(this,t,[].concat(a)),r.getViews=function(){var o=r.props.views;return Array.isArray(o)?cU(o,function(l,c){return l[c]=Ih[c]},{}):jt(o)==="object"?H_(o,function(l,c){return l===!0?Ih[c]:l}):Ih},r.getView=function(){var o=r.getViews();return o[r.props.view]},r.getDrilldownView=function(o){var l=r.props,c=l.view,u=l.drilldownView,d=l.getDrilldownView;return d?d(o,c,Object.keys(r.getViews())):u},r.handleRangeChange=function(o,l,c){var u=r.props,d=u.onRangeChange,f=u.localizer;d&&l.range&&d(l.range(o,{localizer:f}),c)},r.handleNavigate=function(o,l){var c=r.props,u=c.view,d=c.date,f=c.getNow,h=c.onNavigate,m=gi(c,TW),v=r.getView(),g=f();d=EW(v,zt(zt({},m),{},{action:o,date:l||d||g,today:g})),h(d,u,o),r.handleRangeChange(d,v)},r.handleViewChange=function(o){o!==r.props.view&&LW(o,r.props)&&r.props.onView(o);var l=r.getViews();r.handleRangeChange(r.props.date||r.props.getNow(),l[o],o)},r.handleSelectEvent=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];er(r.props.onSelectEvent,l)},r.handleDoubleClickEvent=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];er(r.props.onDoubleClickEvent,l)},r.handleKeyPressEvent=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];er(r.props.onKeyPressEvent,l)},r.handleSelectSlot=function(o){er(r.props.onSelectSlot,o)},r.handleDrillDown=function(o,l){var c=r.props.onDrillDown;if(c){c(o,l,r.drilldownView);return}l&&r.handleViewChange(l),r.handleNavigate(Ln.DATE,o)},r.state={context:t.getContext(r.props)},r}return un(t,e),Dr(t,[{key:"render",value:function(){var n=this.props,a=n.view,i=n.toolbar,o=n.events,l=n.backgroundEvents,c=n.resourceGroupingLayout,u=n.style,d=n.className,f=n.elementProps,h=n.date,m=n.getNow,v=n.length,g=n.showMultiDayTimes,x=n.onShowMore,b=n.doShowMoreDrillDown;n.components,n.formats,n.messages,n.culture;var y=gi(n,CW);h=h||m();var N=this.getView(),_=this.state.context,w=_.accessors,S=_.components,O=_.getters,P=_.localizer,T=_.viewNames,F=S.toolbar||DU,k=N.title(h,{localizer:P,length:v});return z.createElement("div",Object.assign({},f,{className:hr(d,"rbc-calendar",y.rtl&&"rbc-rtl"),style:u}),i&&z.createElement(F,{date:h,view:a,views:T,label:k,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:P}),z.createElement(N,Object.assign({},y,{events:o,backgroundEvents:l,date:h,getNow:m,length:v,localizer:P,getters:O,components:S,accessors:w,showMultiDayTimes:g,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:x,doShowMoreDrillDown:b,resourceGroupingLayout:c})))}}],[{key:"getDerivedStateFromProps",value:function(n){return{context:t.getContext(n)}}},{key:"getContext",value:function(n){var a=n.startAccessor,i=n.endAccessor,o=n.allDayAccessor,l=n.tooltipAccessor,c=n.titleAccessor,u=n.resourceAccessor,d=n.resourceIdAccessor,f=n.resourceTitleAccessor,h=n.eventIdAccessor,m=n.eventPropGetter,v=n.backgroundEventPropGetter,g=n.slotPropGetter,x=n.slotGroupPropGetter,b=n.dayPropGetter,y=n.view,N=n.views,_=n.localizer,w=n.culture,S=n.messages,O=S===void 0?{}:S,P=n.components,T=P===void 0?{}:P,F=n.formats,k=F===void 0?{}:F,C=bA(N),D=RU(O);return{viewNames:C,localizer:$U(_,w,k,D),getters:{eventProp:function(){return m&&m.apply(void 0,arguments)||{}},backgroundEventProp:function(){return v&&v.apply(void 0,arguments)||{}},slotProp:function(){return g&&g.apply(void 0,arguments)||{}},slotGroupProp:function(){return x&&x.apply(void 0,arguments)||{}},dayProp:function(){return b&&b.apply(void 0,arguments)||{}}},components:nB(T[y]||{},Xz(T,C),{eventWrapper:ii,backgroundEventWrapper:ii,eventContainerWrapper:ii,dateCellWrapper:ii,weekWrapper:ii,timeSlotWrapper:ii,timeGutterWrapper:ii,timeIndicatorWrapper:ii}),accessors:{start:Ci(a),end:Ci(i),allDay:Ci(o),tooltip:Ci(l),title:Ci(c),resource:Ci(u),resourceId:Ci(d),resourceTitle:Ci(f),eventId:Ci(h)}}}}])}(z.Component);xA.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:vn.MONTH,views:[vn.MONTH,vn.WEEK,vn.DAY,vn.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:vn.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var wA=RS(xA,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),MW=function(t,r,n){var a=t.start,i=t.end;return"".concat(n.format(a,"P",r)," – ").concat(n.format(i,"P",r))},jv=function(t,r,n){var a=t.start,i=t.end;return"".concat(n.format(a,"p",r)," – ").concat(n.format(i,"p",r))},$W=function(t,r,n){var a=t.start;return"".concat(n.format(a,"h:mma",r)," – ")},DW=function(t,r,n){var a=t.end;return" – ".concat(n.format(a,"h:mma",r))},IW=function(t,r,n){var a=t.start,i=t.end;return"".concat(n.format(a,"MMMM dd",r)," – ").concat(n.format(i,Oc(a,i,"month")?"dd":"MMMM dd",r))},RW={dateFormat:"dd",dayFormat:"dd eee",weekdayFormat:"ccc",selectRangeFormat:jv,eventTimeRangeFormat:jv,eventTimeRangeStartFormat:$W,eventTimeRangeEndFormat:DW,timeGutterFormat:"p",monthHeaderFormat:"MMMM yyyy",dayHeaderFormat:"cccc MMM dd",dayRangeHeaderFormat:IW,agendaHeaderFormat:MW,agendaDateFormat:"ccc MMM dd",agendaTimeFormat:"p",agendaTimeRangeFormat:jv},jA=function(t){var r=t.startOfWeek,n=t.getDay,a=t.format,i=t.locales;return new MU({formats:RW,firstOfWeek:function(l){return n(r(new Date,{locale:i[l]}))},format:function(l,c,u){return a(new Date(l),c,{locale:i[u]})}})};const FW={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},BW=(e,t,r)=>{let n;const a=FW[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Nv(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const qW={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},zW={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},UW={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},WW={date:Nv({formats:qW,defaultWidth:"full"}),time:Nv({formats:zW,defaultWidth:"full"}),dateTime:Nv({formats:UW,defaultWidth:"full"})},HW={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},GW=(e,t,r,n)=>HW[e];function Eu(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const VW={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},YW={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},KW={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},XW={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},JW={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ZW={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},QW=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},eH={ordinalNumber:QW,era:Eu({values:VW,defaultWidth:"wide"}),quarter:Eu({values:YW,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Eu({values:KW,defaultWidth:"wide"}),day:Eu({values:XW,defaultWidth:"wide"}),dayPeriod:Eu({values:JW,defaultWidth:"wide",formattingValues:ZW,defaultFormattingWidth:"wide"})};function ku(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?rH(l,f=>f.test(o)):tH(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function tH(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function rH(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function nH(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const aH=/^(\d+)(th|st|nd|rd)?/i,iH=/\d+/i,sH={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},oH={any:[/^b/i,/^(a|c)/i]},lH={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},cH={any:[/1/i,/2/i,/3/i,/4/i]},uH={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},dH={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},fH={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},hH={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},mH={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},pH={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},gH={ordinalNumber:nH({matchPattern:aH,parsePattern:iH,valueCallback:e=>parseInt(e,10)}),era:ku({matchPatterns:sH,defaultMatchWidth:"wide",parsePatterns:oH,defaultParseWidth:"any"}),quarter:ku({matchPatterns:lH,defaultMatchWidth:"wide",parsePatterns:cH,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ku({matchPatterns:uH,defaultMatchWidth:"wide",parsePatterns:dH,defaultParseWidth:"any"}),day:ku({matchPatterns:fH,defaultMatchWidth:"wide",parsePatterns:hH,defaultParseWidth:"any"}),dayPeriod:ku({matchPatterns:mH,defaultMatchWidth:"any",parsePatterns:pH,defaultParseWidth:"any"})},rx={code:"en-US",formatDistance:BW,formatLong:WW,formatRelative:GW,localize:eH,match:gH,options:{weekStartsOn:0,firstWeekContainsDate:1}};let vH={};function Op(){return vH}const NA=6048e5,yH=864e5,cw=Symbol.for("constructDateFrom");function Ns(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&cw in e?e[cw](t):e instanceof Date?new e.constructor(t):new Date(t)}function ma(e,t){return Ns(t||e,e)}function uw(e){const t=ma(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function bH(e,...t){const r=Ns.bind(null,t.find(n=>typeof n=="object"));return t.map(r)}function dw(e,t){const r=ma(e,t==null?void 0:t.in);return r.setHours(0,0,0,0),r}function xH(e,t,r){const[n,a]=bH(r==null?void 0:r.in,e,t),i=dw(n),o=dw(a),l=+i-uw(i),c=+o-uw(o);return Math.round((l-c)/yH)}function wH(e,t){const r=ma(e,t==null?void 0:t.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function jH(e,t){const r=ma(e,t==null?void 0:t.in);return xH(r,wH(r))+1}function Eo(e,t){var l,c,u,d;const r=Op(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=ma(e,t==null?void 0:t.in),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function tm(e,t){return Eo(e,{...t,weekStartsOn:1})}function SA(e,t){const r=ma(e,t==null?void 0:t.in),n=r.getFullYear(),a=Ns(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const i=tm(a),o=Ns(r,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const l=tm(o);return r.getTime()>=i.getTime()?n+1:r.getTime()>=l.getTime()?n:n-1}function NH(e,t){const r=SA(e,t),n=Ns(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),tm(n)}function SH(e,t){const r=ma(e,t==null?void 0:t.in),n=+tm(r)-+NH(r);return Math.round(n/NA)+1}function _A(e,t){var d,f,h,m;const r=ma(e,t==null?void 0:t.in),n=r.getFullYear(),a=Op(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((m=(h=a.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=Ns((t==null?void 0:t.in)||e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=Eo(o,t),c=Ns((t==null?void 0:t.in)||e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=Eo(c,t);return+r>=+l?n+1:+r>=+u?n:n-1}function _H(e,t){var l,c,u,d;const r=Op(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=_A(e,t),i=Ns((t==null?void 0:t.in)||e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),Eo(i,t)}function AH(e,t){const r=ma(e,t==null?void 0:t.in),n=+Eo(r,t)-+_H(r,t);return Math.round(n/NA)+1}function $t(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const cs={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return $t(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):$t(r+1,2)},d(e,t){return $t(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return $t(e.getHours()%12||12,t.length)},H(e,t){return $t(e.getHours(),t.length)},m(e,t){return $t(e.getMinutes(),t.length)},s(e,t){return $t(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return $t(a,t.length)}},yl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},fw={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return cs.y(e,t)},Y:function(e,t,r,n){const a=_A(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return $t(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):$t(i,t.length)},R:function(e,t){const r=SA(e);return $t(r,t.length)},u:function(e,t){const r=e.getFullYear();return $t(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return $t(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return $t(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return cs.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return $t(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=AH(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):$t(a,t.length)},I:function(e,t,r){const n=SH(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):$t(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):cs.d(e,t)},D:function(e,t,r){const n=jH(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):$t(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return $t(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return $t(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return $t(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=yl.noon:n===0?a=yl.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=yl.evening:n>=12?a=yl.afternoon:n>=4?a=yl.morning:a=yl.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return cs.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):cs.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):$t(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):$t(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):cs.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):cs.s(e,t)},S:function(e,t){return cs.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return mw(n);case"XXXX":case"XX":return eo(n);case"XXXXX":case"XXX":default:return eo(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return mw(n);case"xxxx":case"xx":return eo(n);case"xxxxx":case"xxx":default:return eo(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+hw(n,":");case"OOOO":default:return"GMT"+eo(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+hw(n,":");case"zzzz":default:return"GMT"+eo(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return $t(n,t.length)},T:function(e,t,r){return $t(+e,t.length)}};function hw(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+$t(i,2)}function mw(e,t){return e%60===0?(e>0?"-":"+")+$t(Math.abs(e)/60,2):eo(e,t)}function eo(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=$t(Math.trunc(n/60),2),i=$t(n%60,2);return r+a+t+i}const pw=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},AA=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},OH=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return pw(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",pw(n,t)).replace("{{time}}",AA(a,t))},PH={p:AA,P:OH},EH=/^D+$/,kH=/^Y+$/,TH=["D","DD","YY","YYYY"];function CH(e){return EH.test(e)}function LH(e){return kH.test(e)}function MH(e,t,r){const n=$H(e,t,r);if(console.warn(n),TH.includes(e))throw new RangeError(n)}function $H(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}function DH(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function IH(e){return!(!DH(e)&&typeof e!="number"||isNaN(+ma(e)))}const RH=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,FH=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,BH=/^'([^]*?)'?$/,qH=/''/g,zH=/[a-zA-Z]/;function Pp(e,t,r){var d,f,h,m,v,g,x,b;const n=Op(),a=(r==null?void 0:r.locale)??n.locale??rx,i=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((g=(v=r==null?void 0:r.locale)==null?void 0:v.options)==null?void 0:g.weekStartsOn)??n.weekStartsOn??((b=(x=n.locale)==null?void 0:x.options)==null?void 0:b.weekStartsOn)??0,l=ma(e,r==null?void 0:r.in);if(!IH(l))throw new RangeError("Invalid time value");let c=t.match(FH).map(y=>{const N=y[0];if(N==="p"||N==="P"){const _=PH[N];return _(y,a.formatLong)}return y}).join("").match(RH).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const N=y[0];if(N==="'")return{isToken:!1,value:UH(y)};if(fw[N])return{isToken:!0,value:y};if(N.match(zH))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");return{isToken:!1,value:y}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(y=>{if(!y.isToken)return y.value;const N=y.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&LH(N)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&CH(N))&&MH(N,t,String(e));const _=fw[N[0]];return _(l,N,a.localize,u)}).join("")}function UH(e){const t=e.match(BH);return t?t[1].replace(qH,"'"):e}function OA(e,t){return ma(e,t==null?void 0:t.in).getDay()}function Je({children:e,variant:t="default",className:r="",disabled:n=!1,fullWidth:a=!1,...i}){let o="inline-flex items-center justify-center px-4 py-2 rounded font-medium focus:outline-none transition",l="";switch(t){case"outline":l="border border-blue-600 text-blue-600 bg-white hover:bg-blue-50";break;case"danger":l="bg-red-600 text-white hover:bg-red-700";break;default:l="bg-blue-600 text-white hover:bg-blue-700"}let c=n?"opacity-50 cursor-not-allowed":"",u=a?"w-full":"";return s.jsx("button",{className:`${o} ${l} ${c} ${u} ${r}`,disabled:n,...i,children:e})}const WH={"en-US":rx},HH=jA({format:Pp,startOfWeek:Eo,getDay:OA,locales:WH}),gw="bg-white bg-opacity-80 rounded-2xl shadow-lg border border-purple-100",vw=["Leverage student leadership: Assign older students as event ambassadors to boost peer engagement and reduce adult volunteer burnout.","Use QR codes at events for instant feedback or sign-ups—capture data while excitement is high.","Partner with local media or school journalism clubs to document and promote your event, increasing community reach.",`Schedule a "debrief" meeting after each event to document what worked, what didn't, and ideas for next year—build institutional memory.`,"Offer tiered volunteer roles (short shifts, behind-the-scenes, remote tasks) to include parents with limited availability.",'Create a "Volunteer Wall of Fame" at school or online to recognize and celebrate contributors—public recognition increases future engagement.',"Bundle events with other school activities (e.g., parent-teacher conferences) to maximize turnout and convenience.","Use a digital sign-up tool with automatic reminders to reduce no-shows and last-minute cancellations.","Survey families after each event to gather actionable feedback and new ideas—share results at PTO meetings.","Develop a sponsorship package and approach local businesses for recurring annual support, not just one-off donations."],yw=()=>{const e=ir(),[t,r]=I.useState("grid"),[n,a]=I.useState("manual"),[i,o]=I.useState(""),[l,c]=I.useState("all"),[u,d]=I.useState([]),[f,h]=I.useState(!0),[m,v]=I.useState(null),[g,x]=I.useState([]),[b,y]=I.useState(!0),[N,_]=I.useState(null),w="pto_events_dashboard_cache_v1";I.useEffect(()=>{async function R(){var Y,Z;h(!0),v(null);const K=localStorage.getItem(w);if(K)try{const ae=JSON.parse(K);d(ae.events||[]),h(!1)}catch{}try{const{data:{user:ae},error:$}=await He.auth.getUser();if($||!ae){v("User not authenticated"),h(!1);return}const H=((Y=ae==null?void 0:ae.user_metadata)==null?void 0:Y.org_id)||((Z=ae==null?void 0:ae.app_metadata)==null?void 0:Z.org_id);if(!H){v("Missing org_id in user metadata."),h(!1);return}const{data:Q,error:ne}=await He.from("events").select("*").eq("org_id",H).order("event_date",{ascending:!0});ne?v("Error loading events: "+ne.message):(d(Q||[]),localStorage.setItem(w,JSON.stringify({events:Q,ts:Date.now()})))}catch(ae){v("Unexpected error: "+ae.message)}finally{h(!1)}}R()},[]),I.useEffect(()=>{async function R(){y(!0),_(null);try{x(vw.sort(()=>.5-Math.random()).slice(0,3))}catch{_("Could not load Stella Insights."),x(vw.slice(0,3))}finally{y(!1)}}R()},[]);const S=()=>{e("/events/create")},O=R=>{e(`/events/detail/${R}`)},P=R=>{e(`/events/edit/${R}`)},T=R=>{window.confirm("Are you sure you want to delete this event?")&&console.log("Deleting event:",R)},F=u.map(R=>({id:R.id,title:R.title,start:new Date(R.event_date),end:new Date(R.event_date),allDay:!0})),k=new Date;[...u].filter(R=>new Date(R.event_date)>=k).sort((R,K)=>new Date(R.event_date)-new Date(K.event_date)).slice(0,3);const C=()=>{e("/events/calendar")},D=R=>{e(`/events/detail/${R.id}`)},M=R=>{const K={draft:"bg-gray-100 text-gray-800",planning:"bg-blue-100 text-blue-800",active:"bg-green-100 text-green-800",completed:"bg-purple-100 text-purple-800",cancelled:"bg-red-100 text-red-800"};return K[R]||K.draft},U=({event:R})=>s.jsx("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:R.title}),R.type==="stella-generated"&&s.jsx(_r,{className:"w-4 h-4 text-purple-500",title:"Stella Generated"})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:R.description}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Lr,{className:"w-4 h-4"}),s.jsx("span",{children:new Date(R.event_date).toLocaleDateString()})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(ca,{className:"w-4 h-4"}),s.jsxs("span",{children:[R.attendees," expected"]})]})]})]}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${M(R.status)}`,children:R.status.charAt(0).toUpperCase()+R.status.slice(1)})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[s.jsx("span",{className:"text-gray-600",children:"Progress"}),s.jsxs("span",{className:"font-medium text-gray-900",children:[R.progress,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${R.progress}%`}})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"text-sm text-gray-600",children:"Budget"}),s.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["$",R.estimated_budget||"N/A"]})]}),s.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[s.jsx("div",{className:"text-sm text-green-600",children:"Projected Profit"}),s.jsxs("div",{className:"text-lg font-semibold text-green-700",children:["$",R.profit]})]})]}),s.jsxs("div",{className:"flex flex-col gap-2 mt-4",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Je,{onClick:()=>O(R.id),className:"flex-1 flex items-center justify-center rounded-lg",variant:"default",children:[s.jsx(zl,{className:"w-6 h-6 mr-2"}),"View"]}),s.jsxs(Je,{onClick:()=>P(R.id),className:"flex-1 flex items-center justify-center rounded-lg",variant:"outline",children:[s.jsx(gn,{className:"w-6 h-6 mr-2"}),"Edit"]})]}),s.jsxs(Je,{onClick:()=>e(`/events/${R.id}/event-management`),className:"mt-2 flex items-center justify-center rounded-lg text-lg font-semibold bg-purple-600 hover:bg-purple-700",fullWidth:!0,children:[s.jsx(ca,{className:"w-7 h-7 mr-3"}),"Event Management"]})]})]})}),W=({event:R})=>s.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4 flex-1",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("h3",{className:"font-medium text-gray-900",children:R.title}),R.type==="stella-generated"&&s.jsx(_r,{className:"w-4 h-4 text-purple-500"}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${M(R.status)}`,children:R.status})]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:R.description})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-sm text-gray-500",children:"Date"}),s.jsx("div",{className:"font-medium",children:new Date(R.event_date).toLocaleDateString()})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-sm text-gray-500",children:"Attendees"}),s.jsx("div",{className:"font-medium",children:R.attendees})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-sm text-gray-500",children:"Budget"}),s.jsxs("div",{className:"font-medium",children:["$",R.estimated_budget||"N/A"]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-sm text-gray-500",children:"Progress"}),s.jsxs("div",{className:"font-medium",children:[R.progress,"%"]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>O(R.id),className:"p-2 text-blue-600 hover:bg-blue-50 rounded",children:s.jsx(zl,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>P(R.id),className:"p-2 text-gray-600 hover:bg-gray-50 rounded",children:s.jsx(gn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>T(R.id),className:"p-2 text-red-600 hover:bg-red-50 rounded",children:s.jsx(rf,{className:"w-4 h-4"})})]})]})});return s.jsxs("div",{className:"flex flex-col gap-8 p-6 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[s.jsxs("div",{className:"flex flex-col gap-4 md:w-1/2 max-w-md",children:[s.jsxs("div",{className:`${gw} p-6 min-h-[320px] flex flex-col justify-between`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("span",{className:"text-purple-600 text-xl",children:"✨"}),s.jsx("span",{className:"font-bold text-lg text-purple-700",children:"Stella's Event Insights"})]}),b?s.jsx("div",{className:"text-gray-500",children:"Loading tips..."}):N?s.jsx("div",{className:"text-red-500",children:N}):s.jsx("ul",{className:"list-disc pl-5 text-purple-900 space-y-2",children:g.map((R,K)=>s.jsx("li",{children:R},K))}),s.jsx("div",{className:"mt-4 text-xs text-purple-400",children:"Tips powered by Stella AI"})]}),s.jsx("button",{onClick:S,className:"w-full py-3 rounded-xl font-semibold text-white bg-gradient-to-r from-pink-400 via-purple-400 to-teal-400 shadow hover:from-pink-500 hover:to-teal-500 transition",children:"+ Create Event"})]}),s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:`${gw} p-4`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h2",{className:"text-lg font-semibold text-purple-700",children:"Calendar"}),s.jsx("button",{onClick:C,className:"text-purple-600 hover:underline text-sm",children:"View Full Calendar"})]}),s.jsx("div",{className:"cursor-pointer",onClick:C,children:s.jsx(wA,{localizer:HH,events:F.map(R=>({...R,resource:{dotColor:"#a78bfa"}})),startAccessor:"start",endAccessor:"end",views:["month"],style:{height:300},toolbar:!1,selectable:!1,popup:!1,onSelectEvent:D,eventPropGetter:R=>({style:{backgroundColor:"transparent",color:"#a78bfa",border:"none",position:"relative"},className:"calendar-event-dot"}),components:{event:({event:R})=>{var K;return s.jsx("span",{style:{display:"inline-block",width:8,height:8,borderRadius:"50%",backgroundColor:((K=R.resource)==null?void 0:K.dotColor)||"#a78bfa",margin:2}})}}})})]})})]}),s.jsx("div",{className:t==="grid"?"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6 mt-8":"space-y-4 mt-8",children:f?s.jsx("div",{className:"text-gray-500 py-8 text-center text-base col-span-full",children:"Loading events..."}):m?s.jsx("div",{className:"text-red-500 py-8 text-center text-base col-span-full",children:m}):u.map(R=>t==="grid"?s.jsx(U,{event:R},R.id):s.jsx(W,{event:R},R.id))})]})};var ln=Uint8Array,Wn=Uint16Array,nx=Int32Array,Ep=new ln([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),kp=new ln([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),O0=new ln([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),PA=function(e,t){for(var r=new Wn(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new nx(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},EA=PA(Ep,2),kA=EA.b,P0=EA.r;kA[28]=258,P0[258]=28;var TA=PA(kp,0),GH=TA.b,bw=TA.r,E0=new Wn(32768);for(var tr=0;tr<32768;++tr){var us=(tr&43690)>>1|(tr&21845)<<1;us=(us&52428)>>2|(us&13107)<<2,us=(us&61680)>>4|(us&3855)<<4,E0[tr]=((us&65280)>>8|(us&255)<<8)>>1}var hi=function(e,t,r){for(var n=e.length,a=0,i=new Wn(t);a<n;++a)e[a]&&++i[e[a]-1];var o=new Wn(t);for(a=1;a<t;++a)o[a]=o[a-1]+i[a-1]<<1;var l;if(r){l=new Wn(1<<t);var c=15-t;for(a=0;a<n;++a)if(e[a])for(var u=a<<4|e[a],d=t-e[a],f=o[e[a]-1]++<<d,h=f|(1<<d)-1;f<=h;++f)l[E0[f]>>c]=u}else for(l=new Wn(n),a=0;a<n;++a)e[a]&&(l[a]=E0[o[e[a]-1]++]>>15-e[a]);return l},Ss=new ln(288);for(var tr=0;tr<144;++tr)Ss[tr]=8;for(var tr=144;tr<256;++tr)Ss[tr]=9;for(var tr=256;tr<280;++tr)Ss[tr]=7;for(var tr=280;tr<288;++tr)Ss[tr]=8;var xd=new ln(32);for(var tr=0;tr<32;++tr)xd[tr]=5;var VH=hi(Ss,9,0),YH=hi(Ss,9,1),KH=hi(xd,5,0),XH=hi(xd,5,1),Sv=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},Pa=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},_v=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},ax=function(e){return(e+7)/8|0},CA=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new ln(e.subarray(t,r))},JH=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Ta=function(e,t,r){var n=new Error(t||JH[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,Ta),!r)throw n;return n},ZH=function(e,t,r,n){var a=e.length,i=0;if(!a||t.f&&!t.l)return r||new ln(0);var o=!r,l=o||t.i!=2,c=t.i;o&&(r=new ln(a*3));var u=function(be){var me=r.length;if(be>me){var Ee=new ln(Math.max(me*2,be));Ee.set(r),r=Ee}},d=t.f||0,f=t.p||0,h=t.b||0,m=t.l,v=t.d,g=t.m,x=t.n,b=a*8;do{if(!m){d=Pa(e,f,1);var y=Pa(e,f+1,3);if(f+=3,y)if(y==1)m=YH,v=XH,g=9,x=5;else if(y==2){var S=Pa(e,f,31)+257,O=Pa(e,f+10,15)+4,P=S+Pa(e,f+5,31)+1;f+=14;for(var T=new ln(P),F=new ln(19),k=0;k<O;++k)F[O0[k]]=Pa(e,f+k*3,7);f+=O*3;for(var C=Sv(F),D=(1<<C)-1,M=hi(F,C,1),k=0;k<P;){var U=M[Pa(e,f,D)];f+=U&15;var N=U>>4;if(N<16)T[k++]=N;else{var W=0,R=0;for(N==16?(R=3+Pa(e,f,3),f+=2,W=T[k-1]):N==17?(R=3+Pa(e,f,7),f+=3):N==18&&(R=11+Pa(e,f,127),f+=7);R--;)T[k++]=W}}var K=T.subarray(0,S),Y=T.subarray(S);g=Sv(K),x=Sv(Y),m=hi(K,g,1),v=hi(Y,x,1)}else Ta(1);else{var N=ax(f)+4,_=e[N-4]|e[N-3]<<8,w=N+_;if(w>a){c&&Ta(0);break}l&&u(h+_),r.set(e.subarray(N,w),h),t.b=h+=_,t.p=f=w*8,t.f=d;continue}if(f>b){c&&Ta(0);break}}l&&u(h+131072);for(var Z=(1<<g)-1,ae=(1<<x)-1,$=f;;$=f){var W=m[_v(e,f)&Z],H=W>>4;if(f+=W&15,f>b){c&&Ta(0);break}if(W||Ta(2),H<256)r[h++]=H;else if(H==256){$=f,m=null;break}else{var Q=H-254;if(H>264){var k=H-257,ne=Ep[k];Q=Pa(e,f,(1<<ne)-1)+kA[k],f+=ne}var se=v[_v(e,f)&ae],he=se>>4;se||Ta(3),f+=se&15;var Y=GH[he];if(he>3){var ne=kp[he];Y+=_v(e,f)&(1<<ne)-1,f+=ne}if(f>b){c&&Ta(0);break}l&&u(h+131072);var de=h+Q;if(h<Y){var ie=i-Y,xe=Math.min(Y,de);for(ie+h<0&&Ta(3);h<xe;++h)r[h]=n[ie+h]}for(;h<de;++h)r[h]=r[h-Y]}}t.l=m,t.p=$,t.b=h,t.f=d,m&&(d=1,t.m=g,t.d=v,t.n=x)}while(!d);return h!=r.length&&o?CA(r,0,h):r.subarray(0,h)},Li=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},Tu=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},Av=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,i=r.slice();if(!a)return{t:MA,l:0};if(a==1){var o=new ln(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(w,S){return w.f-S.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],u=0,d=1,f=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};d!=a-1;)l=r[r[u].f<r[f].f?u++:f++],c=r[u!=d&&r[u].f<r[f].f?u++:f++],r[d++]={s:-1,f:l.f+c.f,l,r:c};for(var h=i[0].s,n=1;n<a;++n)i[n].s>h&&(h=i[n].s);var m=new Wn(h+1),v=k0(r[d-1],m,0);if(v>t){var n=0,g=0,x=v-t,b=1<<x;for(i.sort(function(S,O){return m[O.s]-m[S.s]||S.f-O.f});n<a;++n){var y=i[n].s;if(m[y]>t)g+=b-(1<<v-m[y]),m[y]=t;else break}for(g>>=x;g>0;){var N=i[n].s;m[N]<t?g-=1<<t-m[N]++-1:++n}for(;n>=0&&g;--n){var _=i[n].s;m[_]==t&&(--m[_],++g)}v=t}return{t:new ln(m),l:v}},k0=function(e,t,r){return e.s==-1?Math.max(k0(e.l,t,r+1),k0(e.r,t,r+1)):t[e.s]=r},xw=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Wn(++t),n=0,a=e[0],i=1,o=function(c){r[n++]=c},l=1;l<=t;++l)if(e[l]==a&&l!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(a),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(a);i=1,a=e[l]}return{c:r.subarray(0,n),n:t}},Cu=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},LA=function(e,t,r){var n=r.length,a=ax(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<n;++i)e[a+i+4]=r[i];return(a+4+n)*8},ww=function(e,t,r,n,a,i,o,l,c,u,d){Li(t,d++,r),++a[256];for(var f=Av(a,15),h=f.t,m=f.l,v=Av(i,15),g=v.t,x=v.l,b=xw(h),y=b.c,N=b.n,_=xw(g),w=_.c,S=_.n,O=new Wn(19),P=0;P<y.length;++P)++O[y[P]&31];for(var P=0;P<w.length;++P)++O[w[P]&31];for(var T=Av(O,7),F=T.t,k=T.l,C=19;C>4&&!F[O0[C-1]];--C);var D=u+5<<3,M=Cu(a,Ss)+Cu(i,xd)+o,U=Cu(a,h)+Cu(i,g)+o+14+3*C+Cu(O,F)+2*O[16]+3*O[17]+7*O[18];if(c>=0&&D<=M&&D<=U)return LA(t,d,e.subarray(c,c+u));var W,R,K,Y;if(Li(t,d,1+(U<M)),d+=2,U<M){W=hi(h,m,0),R=h,K=hi(g,x,0),Y=g;var Z=hi(F,k,0);Li(t,d,N-257),Li(t,d+5,S-1),Li(t,d+10,C-4),d+=14;for(var P=0;P<C;++P)Li(t,d+3*P,F[O0[P]]);d+=3*C;for(var ae=[y,w],$=0;$<2;++$)for(var H=ae[$],P=0;P<H.length;++P){var Q=H[P]&31;Li(t,d,Z[Q]),d+=F[Q],Q>15&&(Li(t,d,H[P]>>5&127),d+=H[P]>>12)}}else W=VH,R=Ss,K=KH,Y=xd;for(var P=0;P<l;++P){var ne=n[P];if(ne>255){var Q=ne>>18&31;Tu(t,d,W[Q+257]),d+=R[Q+257],Q>7&&(Li(t,d,ne>>23&31),d+=Ep[Q]);var se=ne&31;Tu(t,d,K[se]),d+=Y[se],se>3&&(Tu(t,d,ne>>5&8191),d+=kp[se])}else Tu(t,d,W[ne]),d+=R[ne]}return Tu(t,d,W[256]),d+R[256]},QH=new nx([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),MA=new ln(0),eG=function(e,t,r,n,a,i){var o=i.z||e.length,l=new ln(n+o+5*(1+Math.ceil(o/7e3))+a),c=l.subarray(n,l.length-a),u=i.l,d=(i.r||0)&7;if(t){d&&(c[0]=i.r>>3);for(var f=QH[t-1],h=f>>13,m=f&8191,v=(1<<r)-1,g=i.p||new Wn(32768),x=i.h||new Wn(v+1),b=Math.ceil(r/3),y=2*b,N=function($e){return(e[$e]^e[$e+1]<<b^e[$e+2]<<y)&v},_=new nx(25e3),w=new Wn(288),S=new Wn(32),O=0,P=0,T=i.i||0,F=0,k=i.w||0,C=0;T+2<o;++T){var D=N(T),M=T&32767,U=x[D];if(g[M]=U,x[D]=M,k<=T){var W=o-T;if((O>7e3||F>24576)&&(W>423||!u)){d=ww(e,c,0,_,w,S,P,F,C,T-C,d),F=O=P=0,C=T;for(var R=0;R<286;++R)w[R]=0;for(var R=0;R<30;++R)S[R]=0}var K=2,Y=0,Z=m,ae=M-U&32767;if(W>2&&D==N(T-ae))for(var $=Math.min(h,W)-1,H=Math.min(32767,T),Q=Math.min(258,W);ae<=H&&--Z&&M!=U;){if(e[T+K]==e[T+K-ae]){for(var ne=0;ne<Q&&e[T+ne]==e[T+ne-ae];++ne);if(ne>K){if(K=ne,Y=ae,ne>$)break;for(var se=Math.min(ae,ne-2),he=0,R=0;R<se;++R){var de=T-ae+R&32767,ie=g[de],xe=de-ie&32767;xe>he&&(he=xe,U=de)}}}M=U,U=g[M],ae+=M-U&32767}if(Y){_[F++]=268435456|P0[K]<<18|bw[Y];var be=P0[K]&31,me=bw[Y]&31;P+=Ep[be]+kp[me],++w[257+be],++S[me],k=T+K,++O}else _[F++]=e[T],++w[e[T]]}}for(T=Math.max(T,k);T<o;++T)_[F++]=e[T],++w[e[T]];d=ww(e,c,u,_,w,S,P,F,C,T-C,d),u||(i.r=d&7|c[d/8|0]<<3,d-=7,i.h=x,i.p=g,i.i=T,i.w=k)}else{for(var T=i.w||0;T<o+u;T+=65535){var Ee=T+65535;Ee>=o&&(c[d/8|0]=u,Ee=o),d=LA(c,d+1,e.subarray(T,Ee))}i.i=o}return CA(l,0,n+ax(d)+a)},$A=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,i=r.length|0,o=0;o!=i;){for(var l=Math.min(o+2655,i);o<l;++o)a+=n+=r[o];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},tG=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),o=new ln(i.length+e.length);o.set(i),o.set(e,i.length),e=o,a.w=i.length}return eG(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},DA=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},rG=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=$A();a.p(t.dictionary),DA(e,2,a.d())}},nG=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&Ta(6,"invalid zlib data"),(e[1]>>5&1)==1&&Ta(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function T0(e,t){t||(t={});var r=$A();r.p(e);var n=tG(e,t,t.dictionary?6:2,4);return rG(n,t),DA(n,n.length-4,r.d()),n}function aG(e,t){return ZH(e.subarray(nG(e),-4),{i:2},t,t)}var iG=typeof TextDecoder<"u"&&new TextDecoder,sG=0;try{iG.decode(MA,{stream:!0}),sG=1}catch{}var at=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Ov(){at.console&&typeof at.console.log=="function"&&at.console.log.apply(at.console,arguments)}var qt={log:Ov,warn:function(e){at.console&&(typeof at.console.warn=="function"?at.console.warn.apply(at.console,arguments):Ov.call(null,arguments))},error:function(e){at.console&&(typeof at.console.error=="function"?at.console.error.apply(at.console,arguments):Ov(e))}};function Pv(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){to(n.response,t,r)},n.onerror=function(){qt.error("could not download file")},n.send()}function jw(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function mh(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Ju,C0,to=at.saveAs||((typeof window>"u"?"undefined":jt(window))!=="object"||window!==at?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=at.URL||at.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?jw(a.href)?Pv(e,t,r):mh(a,a.target="_blank"):mh(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){mh(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(jw(e))Pv(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){mh(n)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:jt(i)!=="object"&&(qt.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return Pv(e,t,r);var a=e.type==="application/octet-stream",i=/constructor/i.test(at.HTMLElement)||at.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||a&&i)&&(typeof FileReader>"u"?"undefined":jt(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var d=l.result;d=o?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},l.readAsDataURL(e)}else{var c=at.URL||at.webkitURL,u=c.createObjectURL(e);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function IA(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,o=a.exec(e);o&&(t=i(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Ev(e,t){var r=e[0],n=e[1],a=e[2],i=e[3];r=tn(r,n,a,i,t[0],7,-680876936),i=tn(i,r,n,a,t[1],12,-389564586),a=tn(a,i,r,n,t[2],17,606105819),n=tn(n,a,i,r,t[3],22,-1044525330),r=tn(r,n,a,i,t[4],7,-176418897),i=tn(i,r,n,a,t[5],12,1200080426),a=tn(a,i,r,n,t[6],17,-1473231341),n=tn(n,a,i,r,t[7],22,-45705983),r=tn(r,n,a,i,t[8],7,1770035416),i=tn(i,r,n,a,t[9],12,-1958414417),a=tn(a,i,r,n,t[10],17,-42063),n=tn(n,a,i,r,t[11],22,-1990404162),r=tn(r,n,a,i,t[12],7,1804603682),i=tn(i,r,n,a,t[13],12,-40341101),a=tn(a,i,r,n,t[14],17,-1502002290),r=rn(r,n=tn(n,a,i,r,t[15],22,1236535329),a,i,t[1],5,-165796510),i=rn(i,r,n,a,t[6],9,-1069501632),a=rn(a,i,r,n,t[11],14,643717713),n=rn(n,a,i,r,t[0],20,-373897302),r=rn(r,n,a,i,t[5],5,-701558691),i=rn(i,r,n,a,t[10],9,38016083),a=rn(a,i,r,n,t[15],14,-660478335),n=rn(n,a,i,r,t[4],20,-405537848),r=rn(r,n,a,i,t[9],5,568446438),i=rn(i,r,n,a,t[14],9,-1019803690),a=rn(a,i,r,n,t[3],14,-187363961),n=rn(n,a,i,r,t[8],20,1163531501),r=rn(r,n,a,i,t[13],5,-1444681467),i=rn(i,r,n,a,t[2],9,-51403784),a=rn(a,i,r,n,t[7],14,1735328473),r=nn(r,n=rn(n,a,i,r,t[12],20,-1926607734),a,i,t[5],4,-378558),i=nn(i,r,n,a,t[8],11,-2022574463),a=nn(a,i,r,n,t[11],16,1839030562),n=nn(n,a,i,r,t[14],23,-35309556),r=nn(r,n,a,i,t[1],4,-1530992060),i=nn(i,r,n,a,t[4],11,1272893353),a=nn(a,i,r,n,t[7],16,-155497632),n=nn(n,a,i,r,t[10],23,-1094730640),r=nn(r,n,a,i,t[13],4,681279174),i=nn(i,r,n,a,t[0],11,-358537222),a=nn(a,i,r,n,t[3],16,-722521979),n=nn(n,a,i,r,t[6],23,76029189),r=nn(r,n,a,i,t[9],4,-640364487),i=nn(i,r,n,a,t[12],11,-421815835),a=nn(a,i,r,n,t[15],16,530742520),r=an(r,n=nn(n,a,i,r,t[2],23,-995338651),a,i,t[0],6,-198630844),i=an(i,r,n,a,t[7],10,1126891415),a=an(a,i,r,n,t[14],15,-1416354905),n=an(n,a,i,r,t[5],21,-57434055),r=an(r,n,a,i,t[12],6,1700485571),i=an(i,r,n,a,t[3],10,-1894986606),a=an(a,i,r,n,t[10],15,-1051523),n=an(n,a,i,r,t[1],21,-2054922799),r=an(r,n,a,i,t[8],6,1873313359),i=an(i,r,n,a,t[15],10,-30611744),a=an(a,i,r,n,t[6],15,-1560198380),n=an(n,a,i,r,t[13],21,1309151649),r=an(r,n,a,i,t[4],6,-145523070),i=an(i,r,n,a,t[11],10,-1120210379),a=an(a,i,r,n,t[2],15,718787259),n=an(n,a,i,r,t[9],21,-343485551),e[0]=gs(r,e[0]),e[1]=gs(n,e[1]),e[2]=gs(a,e[2]),e[3]=gs(i,e[3])}function Tp(e,t,r,n,a,i){return t=gs(gs(t,e),gs(n,i)),gs(t<<a|t>>>32-a,r)}function tn(e,t,r,n,a,i,o){return Tp(t&r|~t&n,e,t,a,i,o)}function rn(e,t,r,n,a,i,o){return Tp(t&n|r&~n,e,t,a,i,o)}function nn(e,t,r,n,a,i,o){return Tp(t^r^n,e,t,a,i,o)}function an(e,t,r,n,a,i,o){return Tp(r^(t|~n),e,t,a,i,o)}function RA(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Ev(n,oG(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(Ev(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,Ev(n,a),n}function oG(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}Ju=at.atob.bind(at),C0=at.btoa.bind(at);var Nw="0123456789abcdef".split("");function lG(e){for(var t="",r=0;r<4;r++)t+=Nw[e>>8*r+4&15]+Nw[e>>8*r&15];return t}function cG(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function L0(e){return RA(e).map(cG).join("")}var uG=function(e){for(var t=0;t<e.length;t++)e[t]=lG(e[t]);return e.join("")}(RA("hello"))!="5d41402abc4b2a76b9719d911017c592";function gs(e,t){if(uG){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function M0(e,t){var r,n,a,i;if(e!==r){for(var o=(a=e,i=1+(256/e.length>>0),new Array(i+1).join(a)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var d=l[c];u=(u+d+o.charCodeAt(c))%256,l[c]=l[u],l[u]=d}r=e,n=l}else l=n;var f=t.length,h=0,m=0,v="";for(c=0;c<f;c++)m=(m+(d=l[h=(h+1)%256]))%256,l[h]=l[m],l[m]=d,o=l[(l[h]+l[m])%256],v+=String.fromCharCode(t.charCodeAt(c)^o);return v}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Sw={print:4,modify:8,copy:16,"annot-forms":32};function _l(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(l){if(Sw.perm!==void 0)throw new Error("Invalid permission: "+l);a+=Sw[l]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var i=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^a)),this.encryptionKey=L0(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=M0(this.encryptionKey,this.padding)}function Al(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?t+="#"+("0"+a.toString(16)).slice(-2):t+=e[n]}return t}function _w(e){if(jt(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[r]){var o=t[r][i];try{o[0].apply(e,n)}catch(l){at.console&&qt.error("jsPDF PubSub Error",l.message,l)}o[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function rm(e){if(!(this instanceof rm))return new rm(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function FA(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function io(e,t,r,n,a){if(!(this instanceof io))return new io(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,FA.call(this,n,a)}function Pl(e,t,r,n,a){if(!(this instanceof Pl))return new Pl(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,FA.call(this,n,a)}function nt(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],o=[],l=1,c=16,u="S",d=null;jt(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,i=e.compress||e.compressPdf||i,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),u=e.defaultPathOperation||"S"),o=e.filters||(i===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,h={},m={internal:{},__private__:{}};m.__private__.PubSub=_w;var v="1.3",g=m.__private__.getPdfVersion=function(){return v};m.__private__.setPdfVersion=function(A){v=A};var x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return x};var b=m.__private__.getPageFormat=function(A){return x[A]};a=a||"a4";var y={COMPAT:"compat",ADVANCED:"advanced"},N=y.COMPAT;function _(){this.saveGraphicsState(),re(new tt(Fe,0,0,-Fe,0,Ji()*Fe).toString()+" cm"),this.setFontSize(this.getFontSize()/Fe),u="n",N=y.ADVANCED}function w(){this.restoreGraphicsState(),u="S",N=y.COMPAT}var S=m.__private__.combineFontStyleAndFontWeight=function(A,q){if(A=="bold"&&q=="normal"||A=="bold"&&q==400||A=="normal"&&q=="italic"||A=="bold"&&q=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return q&&(A=q==400||q==="normal"?A==="italic"?"italic":"normal":q!=700&&q!=="bold"||A!=="normal"?(q==700?"bold":q)+""+A:"bold"),A};m.advancedAPI=function(A){var q=N===y.COMPAT;return q&&_.call(this),typeof A!="function"||(A(this),q&&w.call(this)),this},m.compatAPI=function(A){var q=N===y.ADVANCED;return q&&w.call(this),typeof A!="function"||(A(this),q&&_.call(this)),this},m.isAdvancedAPI=function(){return N===y.ADVANCED};var O,P=function(A){if(N!==y.ADVANCED)throw new Error(A+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},T=m.roundToPrecision=m.__private__.roundToPrecision=function(A,q){var te=t||q;if(isNaN(A)||isNaN(te))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return A.toFixed(te).replace(/0+$/,"")};O=m.hpf=m.__private__.hpf=typeof c=="number"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return T(A,c)}:c==="smart"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return T(A,A>-1&&A<1?16:5)}:function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return T(A,16)};var F=m.f2=m.__private__.f2=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f2");return T(A,2)},k=m.__private__.f3=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f3");return T(A,3)},C=m.scale=m.__private__.scale=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.scale");return N===y.COMPAT?A*Fe:N===y.ADVANCED?A:void 0},D=function(A){return N===y.COMPAT?Ji()-A:N===y.ADVANCED?A:void 0},M=function(A){return C(D(A))};m.__private__.setPrecision=m.setPrecision=function(A){typeof parseInt(A,10)=="number"&&(t=parseInt(A,10))};var U,W="00000000000000000000000000000000",R=m.__private__.getFileId=function(){return W},K=m.__private__.setFileId=function(A){return W=A!==void 0&&/^[a-fA-F0-9]{32}$/.test(A)?A.toUpperCase():W.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Zr=new _l(d.userPermissions,d.userPassword,d.ownerPassword,W)),W};m.setFileId=function(A){return K(A),this},m.getFileId=function(){return R()};var Y=m.__private__.convertDateToPDFDate=function(A){var q=A.getTimezoneOffset(),te=q<0?"+":"-",oe=Math.floor(Math.abs(q/60)),pe=Math.abs(q%60),je=[te,Q(oe),"'",Q(pe),"'"].join("");return["D:",A.getFullYear(),Q(A.getMonth()+1),Q(A.getDate()),Q(A.getHours()),Q(A.getMinutes()),Q(A.getSeconds()),je].join("")},Z=m.__private__.convertPDFDateToDate=function(A){var q=parseInt(A.substr(2,4),10),te=parseInt(A.substr(6,2),10)-1,oe=parseInt(A.substr(8,2),10),pe=parseInt(A.substr(10,2),10),je=parseInt(A.substr(12,2),10),Te=parseInt(A.substr(14,2),10);return new Date(q,te,oe,pe,je,Te,0)},ae=m.__private__.setCreationDate=function(A){var q;if(A===void 0&&(A=new Date),A instanceof Date)q=Y(A);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(A))throw new Error("Invalid argument passed to jsPDF.setCreationDate");q=A}return U=q},$=m.__private__.getCreationDate=function(A){var q=U;return A==="jsDate"&&(q=Z(U)),q};m.setCreationDate=function(A){return ae(A),this},m.getCreationDate=function(A){return $(A)};var H,Q=m.__private__.padd2=function(A){return("0"+parseInt(A)).slice(-2)},ne=m.__private__.padd2Hex=function(A){return("00"+(A=A.toString())).substr(A.length)},se=0,he=[],de=[],ie=0,xe=[],be=[],me=!1,Ee=de,$e=function(){se=0,ie=0,de=[],he=[],xe=[],wi=xr(),xa=xr()};m.__private__.setCustomOutputDestination=function(A){me=!0,Ee=A};var ye=function(A){me||(Ee=A)};m.__private__.resetCustomOutputDestination=function(){me=!1,Ee=de};var re=m.__private__.out=function(A){return A=A.toString(),ie+=A.length+1,Ee.push(A),Ee},Ke=m.__private__.write=function(A){return re(arguments.length===1?A.toString():Array.prototype.join.call(arguments," "))},Be=m.__private__.getArrayBuffer=function(A){for(var q=A.length,te=new ArrayBuffer(q),oe=new Uint8Array(te);q--;)oe[q]=A.charCodeAt(q);return te},ke=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return ke};var Ce=e.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(A){return Ce=N===y.ADVANCED?A/Fe:A,this};var De,Me=m.__private__.getFontSize=m.getFontSize=function(){return N===y.COMPAT?Ce:Ce*Fe},Ye=e.R2L||!1;m.__private__.setR2L=m.setR2L=function(A){return Ye=A,this},m.__private__.getR2L=m.getR2L=function(){return Ye};var et,st=m.__private__.setZoomMode=function(A){var q=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(A))De=A;else if(isNaN(A)){if(q.indexOf(A)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+A+'" is not recognized.');De=A}else De=parseInt(A,10)};m.__private__.getZoomMode=function(){return De};var gt,xt=m.__private__.setPageMode=function(A){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(A)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+A+'" is not recognized.');et=A};m.__private__.getPageMode=function(){return et};var Et=m.__private__.setLayoutMode=function(A){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(A)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+A+'" is not recognized.');gt=A};m.__private__.getLayoutMode=function(){return gt},m.__private__.setDisplayMode=m.setDisplayMode=function(A,q,te){return st(A),Et(q),xt(te),this};var ot={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(A){if(Object.keys(ot).indexOf(A)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ot[A]},m.__private__.getDocumentProperties=function(){return ot},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(A){for(var q in ot)ot.hasOwnProperty(q)&&A[q]&&(ot[q]=A[q]);return this},m.__private__.setDocumentProperty=function(A,q){if(Object.keys(ot).indexOf(A)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ot[A]=q};var bt,Fe,Jr,Ot,va,Ft={},rr={},Va=[],Tt={},Ms={},sr={},ya={},xi=null,or=0,ut=[],Ct=new _w(m),$s=e.hotfixes||[],Gr={},Ya={},Ka=[],tt=function A(q,te,oe,pe,je,Te){if(!(this instanceof A))return new A(q,te,oe,pe,je,Te);isNaN(q)&&(q=1),isNaN(te)&&(te=0),isNaN(oe)&&(oe=0),isNaN(pe)&&(pe=1),isNaN(je)&&(je=0),isNaN(Te)&&(Te=0),this._matrix=[q,te,oe,pe,je,Te]};Object.defineProperty(tt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(tt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(tt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(tt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(tt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(tt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(tt.prototype,"a",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(tt.prototype,"b",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(tt.prototype,"c",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(tt.prototype,"d",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(tt.prototype,"e",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(tt.prototype,"f",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(tt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(tt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(tt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(tt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),tt.prototype.join=function(A){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(O).join(A)},tt.prototype.multiply=function(A){var q=A.sx*this.sx+A.shy*this.shx,te=A.sx*this.shy+A.shy*this.sy,oe=A.shx*this.sx+A.sy*this.shx,pe=A.shx*this.shy+A.sy*this.sy,je=A.tx*this.sx+A.ty*this.shx+this.tx,Te=A.tx*this.shy+A.ty*this.sy+this.ty;return new tt(q,te,oe,pe,je,Te)},tt.prototype.decompose=function(){var A=this.sx,q=this.shy,te=this.shx,oe=this.sy,pe=this.tx,je=this.ty,Te=Math.sqrt(A*A+q*q),qe=(A/=Te)*te+(q/=Te)*oe;te-=A*qe,oe-=q*qe;var Xe=Math.sqrt(te*te+oe*oe);return qe/=Xe,A*(oe/=Xe)<q*(te/=Xe)&&(A=-A,q=-q,qe=-qe,Te=-Te),{scale:new tt(Te,0,0,Xe,0,0),translate:new tt(1,0,0,1,pe,je),rotate:new tt(A,q,-q,A,0,0),skew:new tt(1,0,qe,1,0,0)}},tt.prototype.toString=function(A){return this.join(" ")},tt.prototype.inversed=function(){var A=this.sx,q=this.shy,te=this.shx,oe=this.sy,pe=this.tx,je=this.ty,Te=1/(A*oe-q*te),qe=oe*Te,Xe=-q*Te,ht=-te*Te,dt=A*Te;return new tt(qe,Xe,ht,dt,-qe*pe-ht*je,-Xe*pe-dt*je)},tt.prototype.applyToPoint=function(A){var q=A.x*this.sx+A.y*this.shx+this.tx,te=A.x*this.shy+A.y*this.sy+this.ty;return new tl(q,te)},tt.prototype.applyToRectangle=function(A){var q=this.applyToPoint(A),te=this.applyToPoint(new tl(A.x+A.w,A.y+A.h));return new su(q.x,q.y,te.x-q.x,te.y-q.y)},tt.prototype.clone=function(){var A=this.sx,q=this.shy,te=this.shx,oe=this.sy,pe=this.tx,je=this.ty;return new tt(A,q,te,oe,pe,je)},m.Matrix=tt;var ba=m.matrixMult=function(A,q){return q.multiply(A)},Xa=new tt(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=Xa;var jn=function(A,q){if(!Ms[A]){var te=(q instanceof io?"Sh":"P")+(Object.keys(Tt).length+1).toString(10);q.id=te,Ms[A]=te,Tt[te]=q,Ct.publish("addPattern",q)}};m.ShadingPattern=io,m.TilingPattern=Pl,m.addShadingPattern=function(A,q){return P("addShadingPattern()"),jn(A,q),this},m.beginTilingPattern=function(A){P("beginTilingPattern()"),If(A.boundingBox[0],A.boundingBox[1],A.boundingBox[2]-A.boundingBox[0],A.boundingBox[3]-A.boundingBox[1],A.matrix)},m.endTilingPattern=function(A,q){P("endTilingPattern()"),q.stream=be[H].join(`
`),jn(A,q),Ct.publish("endTilingPattern",q),Ka.pop().restore()};var Pr=m.__private__.newObject=function(){var A=xr();return $n(A,!0),A},xr=m.__private__.newObjectDeferred=function(){return se++,he[se]=function(){return ie},se},$n=function(A,q){return q=typeof q=="boolean"&&q,he[A]=ie,q&&re(A+" 0 obj"),A},zo=m.__private__.newAdditionalObject=function(){var A={objId:xr(),content:""};return xe.push(A),A},wi=xr(),xa=xr(),wa=m.__private__.decodeColorString=function(A){var q=A.split(" ");if(q.length!==2||q[1]!=="g"&&q[1]!=="G")q.length===5&&(q[4]==="k"||q[4]==="K")&&(q=[(1-q[0])*(1-q[3]),(1-q[1])*(1-q[3]),(1-q[2])*(1-q[3]),"r"]);else{var te=parseFloat(q[0]);q=[te,te,te,"r"]}for(var oe="#",pe=0;pe<3;pe++)oe+=("0"+Math.floor(255*parseFloat(q[pe])).toString(16)).slice(-2);return oe},ja=m.__private__.encodeColorString=function(A){var q;typeof A=="string"&&(A={ch1:A});var te=A.ch1,oe=A.ch2,pe=A.ch3,je=A.ch4,Te=A.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof te=="string"&&te.charAt(0)!=="#"){var qe=new IA(te);if(qe.ok)te=qe.toHex();else if(!/^\d*\.?\d*$/.test(te))throw new Error('Invalid color "'+te+'" passed to jsPDF.encodeColorString.')}if(typeof te=="string"&&/^#[0-9A-Fa-f]{3}$/.test(te)&&(te="#"+te[1]+te[1]+te[2]+te[2]+te[3]+te[3]),typeof te=="string"&&/^#[0-9A-Fa-f]{6}$/.test(te)){var Xe=parseInt(te.substr(1),16);te=Xe>>16&255,oe=Xe>>8&255,pe=255&Xe}if(oe===void 0||je===void 0&&te===oe&&oe===pe)if(typeof te=="string")q=te+" "+Te[0];else switch(A.precision){case 2:q=F(te/255)+" "+Te[0];break;case 3:default:q=k(te/255)+" "+Te[0]}else if(je===void 0||jt(je)==="object"){if(je&&!isNaN(je.a)&&je.a===0)return q=["1.","1.","1.",Te[1]].join(" ");if(typeof te=="string")q=[te,oe,pe,Te[1]].join(" ");else switch(A.precision){case 2:q=[F(te/255),F(oe/255),F(pe/255),Te[1]].join(" ");break;default:case 3:q=[k(te/255),k(oe/255),k(pe/255),Te[1]].join(" ")}}else if(typeof te=="string")q=[te,oe,pe,je,Te[2]].join(" ");else switch(A.precision){case 2:q=[F(te),F(oe),F(pe),F(je),Te[2]].join(" ");break;case 3:default:q=[k(te),k(oe),k(pe),k(je),Te[2]].join(" ")}return q},Ja=m.__private__.getFilters=function(){return o},Vn=m.__private__.putStream=function(A){var q=(A=A||{}).data||"",te=A.filters||Ja(),oe=A.alreadyAppliedFilters||[],pe=A.addLength1||!1,je=q.length,Te=A.objectId,qe=function(Qr){return Qr};if(d!==null&&Te===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(qe=Zr.encryptor(Te,0));var Xe={};te===!0&&(te=["FlateEncode"]);var ht=A.additionalKeyValues||[],dt=(Xe=nt.API.processDataByFilters!==void 0?nt.API.processDataByFilters(q,te):{data:q,reverseChain:[]}).reverseChain+(Array.isArray(oe)?oe.join(" "):oe.toString());if(Xe.data.length!==0&&(ht.push({key:"Length",value:Xe.data.length}),pe===!0&&ht.push({key:"Length1",value:je})),dt.length!=0)if(dt.split("/").length-1==1)ht.push({key:"Filter",value:dt});else{ht.push({key:"Filter",value:"["+dt+"]"});for(var St=0;St<ht.length;St+=1)if(ht[St].key==="DecodeParms"){for(var ar=[],lr=0;lr<Xe.reverseChain.split("/").length-1;lr+=1)ar.push("null");ar.push(ht[St].value),ht[St].value="["+ar.join(" ")+"]"}}re("<<");for(var wr=0;wr<ht.length;wr++)re("/"+ht[wr].key+" "+ht[wr].value);re(">>"),Xe.data.length!==0&&(re("stream"),re(qe(Xe.data)),re("endstream"))},Za=m.__private__.putPage=function(A){var q=A.number,te=A.data,oe=A.objId,pe=A.contentsObjId;$n(oe,!0),re("<</Type /Page"),re("/Parent "+A.rootDictionaryObjId+" 0 R"),re("/Resources "+A.resourceDictionaryObjId+" 0 R"),re("/MediaBox ["+parseFloat(O(A.mediaBox.bottomLeftX))+" "+parseFloat(O(A.mediaBox.bottomLeftY))+" "+O(A.mediaBox.topRightX)+" "+O(A.mediaBox.topRightY)+"]"),A.cropBox!==null&&re("/CropBox ["+O(A.cropBox.bottomLeftX)+" "+O(A.cropBox.bottomLeftY)+" "+O(A.cropBox.topRightX)+" "+O(A.cropBox.topRightY)+"]"),A.bleedBox!==null&&re("/BleedBox ["+O(A.bleedBox.bottomLeftX)+" "+O(A.bleedBox.bottomLeftY)+" "+O(A.bleedBox.topRightX)+" "+O(A.bleedBox.topRightY)+"]"),A.trimBox!==null&&re("/TrimBox ["+O(A.trimBox.bottomLeftX)+" "+O(A.trimBox.bottomLeftY)+" "+O(A.trimBox.topRightX)+" "+O(A.trimBox.topRightY)+"]"),A.artBox!==null&&re("/ArtBox ["+O(A.artBox.bottomLeftX)+" "+O(A.artBox.bottomLeftY)+" "+O(A.artBox.topRightX)+" "+O(A.artBox.topRightY)+"]"),typeof A.userUnit=="number"&&A.userUnit!==1&&re("/UserUnit "+A.userUnit),Ct.publish("putPage",{objId:oe,pageContext:ut[q],pageNumber:q,page:te}),re("/Contents "+pe+" 0 R"),re(">>"),re("endobj");var je=te.join(`
`);return N===y.ADVANCED&&(je+=`
Q`),$n(pe,!0),Vn({data:je,filters:Ja(),objectId:pe}),re("endobj"),oe},Ds=m.__private__.putPages=function(){var A,q,te=[];for(A=1;A<=or;A++)ut[A].objId=xr(),ut[A].contentsObjId=xr();for(A=1;A<=or;A++)te.push(Za({number:A,data:be[A],objId:ut[A].objId,contentsObjId:ut[A].contentsObjId,mediaBox:ut[A].mediaBox,cropBox:ut[A].cropBox,bleedBox:ut[A].bleedBox,trimBox:ut[A].trimBox,artBox:ut[A].artBox,userUnit:ut[A].userUnit,rootDictionaryObjId:wi,resourceDictionaryObjId:xa}));$n(wi,!0),re("<</Type /Pages");var oe="/Kids [";for(q=0;q<or;q++)oe+=te[q]+" 0 R ";re(oe+"]"),re("/Count "+or),re(">>"),re("endobj"),Ct.publish("postPutPages")},Uo=function(A){Ct.publish("putFont",{font:A,out:re,newObject:Pr,putStream:Vn}),A.isAlreadyPutted!==!0&&(A.objectNumber=Pr(),re("<<"),re("/Type /Font"),re("/BaseFont /"+Al(A.postScriptName)),re("/Subtype /Type1"),typeof A.encoding=="string"&&re("/Encoding /"+A.encoding),re("/FirstChar 32"),re("/LastChar 255"),re(">>"),re("endobj"))},Wo=function(){for(var A in Ft)Ft.hasOwnProperty(A)&&(f===!1||f===!0&&h.hasOwnProperty(A))&&Uo(Ft[A])},Ho=function(A){A.objectNumber=Pr();var q=[];q.push({key:"Type",value:"/XObject"}),q.push({key:"Subtype",value:"/Form"}),q.push({key:"BBox",value:"["+[O(A.x),O(A.y),O(A.x+A.width),O(A.y+A.height)].join(" ")+"]"}),q.push({key:"Matrix",value:"["+A.matrix.toString()+"]"});var te=A.pages[1].join(`
`);Vn({data:te,additionalKeyValues:q,objectId:A.objectNumber}),re("endobj")},Go=function(){for(var A in Gr)Gr.hasOwnProperty(A)&&Ho(Gr[A])},bf=function(A,q){var te,oe=[],pe=1/(q-1);for(te=0;te<1;te+=pe)oe.push(te);if(oe.push(1),A[0].offset!=0){var je={offset:0,color:A[0].color};A.unshift(je)}if(A[A.length-1].offset!=1){var Te={offset:1,color:A[A.length-1].color};A.push(Te)}for(var qe="",Xe=0,ht=0;ht<oe.length;ht++){for(te=oe[ht];te>A[Xe+1].offset;)Xe++;var dt=A[Xe].offset,St=(te-dt)/(A[Xe+1].offset-dt),ar=A[Xe].color,lr=A[Xe+1].color;qe+=ne(Math.round((1-St)*ar[0]+St*lr[0]).toString(16))+ne(Math.round((1-St)*ar[1]+St*lr[1]).toString(16))+ne(Math.round((1-St)*ar[2]+St*lr[2]).toString(16))}return qe.trim()},xg=function(A,q){q||(q=21);var te=Pr(),oe=bf(A.colors,q),pe=[];pe.push({key:"FunctionType",value:"0"}),pe.push({key:"Domain",value:"[0.0 1.0]"}),pe.push({key:"Size",value:"["+q+"]"}),pe.push({key:"BitsPerSample",value:"8"}),pe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),pe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Vn({data:oe,additionalKeyValues:pe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:te}),re("endobj"),A.objectNumber=Pr(),re("<< /ShadingType "+A.type),re("/ColorSpace /DeviceRGB");var je="/Coords ["+O(parseFloat(A.coords[0]))+" "+O(parseFloat(A.coords[1]))+" ";A.type===2?je+=O(parseFloat(A.coords[2]))+" "+O(parseFloat(A.coords[3])):je+=O(parseFloat(A.coords[2]))+" "+O(parseFloat(A.coords[3]))+" "+O(parseFloat(A.coords[4]))+" "+O(parseFloat(A.coords[5])),re(je+="]"),A.matrix&&re("/Matrix ["+A.matrix.toString()+"]"),re("/Function "+te+" 0 R"),re("/Extend [true true]"),re(">>"),re("endobj")},wg=function(A,q){var te=xr(),oe=Pr();q.push({resourcesOid:te,objectOid:oe}),A.objectNumber=oe;var pe=[];pe.push({key:"Type",value:"/Pattern"}),pe.push({key:"PatternType",value:"1"}),pe.push({key:"PaintType",value:"1"}),pe.push({key:"TilingType",value:"1"}),pe.push({key:"BBox",value:"["+A.boundingBox.map(O).join(" ")+"]"}),pe.push({key:"XStep",value:O(A.xStep)}),pe.push({key:"YStep",value:O(A.yStep)}),pe.push({key:"Resources",value:te+" 0 R"}),A.matrix&&pe.push({key:"Matrix",value:"["+A.matrix.toString()+"]"}),Vn({data:A.stream,additionalKeyValues:pe,objectId:A.objectNumber}),re("endobj")},Vo=function(A){var q;for(q in Tt)Tt.hasOwnProperty(q)&&(Tt[q]instanceof io?xg(Tt[q]):Tt[q]instanceof Pl&&wg(Tt[q],A))},xf=function(A){for(var q in A.objectNumber=Pr(),re("<<"),A)switch(q){case"opacity":re("/ca "+F(A[q]));break;case"stroke-opacity":re("/CA "+F(A[q]))}re(">>"),re("endobj")},jg=function(){var A;for(A in sr)sr.hasOwnProperty(A)&&xf(sr[A])},Xc=function(){for(var A in re("/XObject <<"),Gr)Gr.hasOwnProperty(A)&&Gr[A].objectNumber>=0&&re("/"+A+" "+Gr[A].objectNumber+" 0 R");Ct.publish("putXobjectDict"),re(">>")},Ng=function(){Zr.oid=Pr(),re("<<"),re("/Filter /Standard"),re("/V "+Zr.v),re("/R "+Zr.r),re("/U <"+Zr.toHexString(Zr.U)+">"),re("/O <"+Zr.toHexString(Zr.O)+">"),re("/P "+Zr.P),re(">>"),re("endobj")},wf=function(){for(var A in re("/Font <<"),Ft)Ft.hasOwnProperty(A)&&(f===!1||f===!0&&h.hasOwnProperty(A))&&re("/"+A+" "+Ft[A].objectNumber+" 0 R");re(">>")},Sg=function(){if(Object.keys(Tt).length>0){for(var A in re("/Shading <<"),Tt)Tt.hasOwnProperty(A)&&Tt[A]instanceof io&&Tt[A].objectNumber>=0&&re("/"+A+" "+Tt[A].objectNumber+" 0 R");Ct.publish("putShadingPatternDict"),re(">>")}},Yo=function(A){if(Object.keys(Tt).length>0){for(var q in re("/Pattern <<"),Tt)Tt.hasOwnProperty(q)&&Tt[q]instanceof m.TilingPattern&&Tt[q].objectNumber>=0&&Tt[q].objectNumber<A&&re("/"+q+" "+Tt[q].objectNumber+" 0 R");Ct.publish("putTilingPatternDict"),re(">>")}},_g=function(){if(Object.keys(sr).length>0){var A;for(A in re("/ExtGState <<"),sr)sr.hasOwnProperty(A)&&sr[A].objectNumber>=0&&re("/"+A+" "+sr[A].objectNumber+" 0 R");Ct.publish("putGStateDict"),re(">>")}},mr=function(A){$n(A.resourcesOid,!0),re("<<"),re("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),wf(),Sg(),Yo(A.objectOid),_g(),Xc(),re(">>"),re("endobj")},jf=function(){var A=[];Wo(),jg(),Go(),Vo(A),Ct.publish("putResources"),A.forEach(mr),mr({resourcesOid:xa,objectOid:Number.MAX_SAFE_INTEGER}),Ct.publish("postPutResources")},Nf=function(){Ct.publish("putAdditionalObjects");for(var A=0;A<xe.length;A++){var q=xe[A];$n(q.objId,!0),re(q.content),re("endobj")}Ct.publish("postPutAdditionalObjects")},Sf=function(A){rr[A.fontName]=rr[A.fontName]||{},rr[A.fontName][A.fontStyle]=A.id},Jc=function(A,q,te,oe,pe){var je={id:"F"+(Object.keys(Ft).length+1).toString(10),postScriptName:A,fontName:q,fontStyle:te,encoding:oe,isStandardFont:pe||!1,metadata:{}};return Ct.publish("addFont",{font:je,instance:this}),Ft[je.id]=je,Sf(je),je.id},Ag=function(A){for(var q=0,te=ke.length;q<te;q++){var oe=Jc.call(this,A[q][0],A[q][1],A[q][2],ke[q][3],!0);f===!1&&(h[oe]=!0);var pe=A[q][0].split("-");Sf({id:oe,fontName:pe[0],fontStyle:pe[1]||""})}Ct.publish("addFonts",{fonts:Ft,dictionary:rr})},Na=function(A){return A.foo=function(){try{return A.apply(this,arguments)}catch(oe){var q=oe.stack||"";~q.indexOf(" at ")&&(q=q.split(" at ")[1]);var te="Error in function "+q.split(`
`)[0].split("<")[0]+": "+oe.message;if(!at.console)throw new Error(te);at.console.error(te,oe),at.alert&&alert(te)}},A.foo.bar=A,A.foo},Ko=function(A,q){var te,oe,pe,je,Te,qe,Xe,ht,dt;if(pe=(q=q||{}).sourceEncoding||"Unicode",Te=q.outputEncoding,(q.autoencode||Te)&&Ft[bt].metadata&&Ft[bt].metadata[pe]&&Ft[bt].metadata[pe].encoding&&(je=Ft[bt].metadata[pe].encoding,!Te&&Ft[bt].encoding&&(Te=Ft[bt].encoding),!Te&&je.codePages&&(Te=je.codePages[0]),typeof Te=="string"&&(Te=je[Te]),Te)){for(Xe=!1,qe=[],te=0,oe=A.length;te<oe;te++)(ht=Te[A.charCodeAt(te)])?qe.push(String.fromCharCode(ht)):qe.push(A[te]),qe[te].charCodeAt(0)>>8&&(Xe=!0);A=qe.join("")}for(te=A.length;Xe===void 0&&te!==0;)A.charCodeAt(te-1)>>8&&(Xe=!0),te--;if(!Xe)return A;for(qe=q.noBOM?[]:[254,255],te=0,oe=A.length;te<oe;te++){if((dt=(ht=A.charCodeAt(te))>>8)>>8)throw new Error("Character at position "+te+" of string '"+A+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");qe.push(dt),qe.push(ht-(dt<<8))}return String.fromCharCode.apply(void 0,qe)},Nn=m.__private__.pdfEscape=m.pdfEscape=function(A,q){return Ko(A,q).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Zc=m.__private__.beginPage=function(A){be[++or]=[],ut[or]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(A[0]),topRightY:Number(A[1])}},Af(or),ye(be[H])},_f=function(A,q){var te,oe,pe;switch(r=q||r,typeof A=="string"&&(te=b(A.toLowerCase()),Array.isArray(te)&&(oe=te[0],pe=te[1])),Array.isArray(A)&&(oe=A[0]*Fe,pe=A[1]*Fe),isNaN(oe)&&(oe=a[0],pe=a[1]),(oe>14400||pe>14400)&&(qt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),oe=Math.min(14400,oe),pe=Math.min(14400,pe)),a=[oe,pe],r.substr(0,1)){case"l":pe>oe&&(a=[pe,oe]);break;case"p":oe>pe&&(a=[pe,oe])}Zc(a),Cf(ru),re(Sa),au!==0&&re(au+" J"),iu!==0&&re(iu+" j"),Ct.publish("addPage",{pageNumber:or})},Og=function(A){A>0&&A<=or&&(be.splice(A,1),ut.splice(A,1),or--,H>or&&(H=or),this.setPage(H))},Af=function(A){A>0&&A<=or&&(H=A)},Pg=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return be.length-1},Of=function(A,q,te){var oe,pe=void 0;return te=te||{},A=A!==void 0?A:Ft[bt].fontName,q=q!==void 0?q:Ft[bt].fontStyle,oe=A.toLowerCase(),rr[oe]!==void 0&&rr[oe][q]!==void 0?pe=rr[oe][q]:rr[A]!==void 0&&rr[A][q]!==void 0?pe=rr[A][q]:te.disableWarning===!1&&qt.warn("Unable to look up font label for font '"+A+"', '"+q+"'. Refer to getFontList() for available fonts."),pe||te.noFallback||(pe=rr.times[q])==null&&(pe=rr.times.normal),pe},Eg=m.__private__.putInfo=function(){var A=Pr(),q=function(oe){return oe};for(var te in d!==null&&(q=Zr.encryptor(A,0)),re("<<"),re("/Producer ("+Nn(q("jsPDF "+nt.version))+")"),ot)ot.hasOwnProperty(te)&&ot[te]&&re("/"+te.substr(0,1).toUpperCase()+te.substr(1)+" ("+Nn(q(ot[te]))+")");re("/CreationDate ("+Nn(q(U))+")"),re(">>"),re("endobj")},Qc=m.__private__.putCatalog=function(A){var q=(A=A||{}).rootDictionaryObjId||wi;switch(Pr(),re("<<"),re("/Type /Catalog"),re("/Pages "+q+" 0 R"),De||(De="fullwidth"),De){case"fullwidth":re("/OpenAction [3 0 R /FitH null]");break;case"fullheight":re("/OpenAction [3 0 R /FitV null]");break;case"fullpage":re("/OpenAction [3 0 R /Fit]");break;case"original":re("/OpenAction [3 0 R /XYZ null null 1]");break;default:var te=""+De;te.substr(te.length-1)==="%"&&(De=parseInt(De)/100),typeof De=="number"&&re("/OpenAction [3 0 R /XYZ null null "+F(De)+"]")}switch(gt||(gt="continuous"),gt){case"continuous":re("/PageLayout /OneColumn");break;case"single":re("/PageLayout /SinglePage");break;case"two":case"twoleft":re("/PageLayout /TwoColumnLeft");break;case"tworight":re("/PageLayout /TwoColumnRight")}et&&re("/PageMode /"+et),Ct.publish("putCatalog"),re(">>"),re("endobj")},kg=m.__private__.putTrailer=function(){re("trailer"),re("<<"),re("/Size "+(se+1)),re("/Root "+se+" 0 R"),re("/Info "+(se-1)+" 0 R"),d!==null&&re("/Encrypt "+Zr.oid+" 0 R"),re("/ID [ <"+W+"> <"+W+"> ]"),re(">>")},Tg=m.__private__.putHeader=function(){re("%PDF-"+v),re("%ºß¬à")},Cg=m.__private__.putXRef=function(){var A="0000000000";re("xref"),re("0 "+(se+1)),re("0000000000 65535 f ");for(var q=1;q<=se;q++)typeof he[q]=="function"?re((A+he[q]()).slice(-10)+" 00000 n "):he[q]!==void 0?re((A+he[q]).slice(-10)+" 00000 n "):re("0000000000 00000 n ")},ji=m.__private__.buildDocument=function(){$e(),ye(de),Ct.publish("buildDocument"),Tg(),Ds(),Nf(),jf(),d!==null&&Ng(),Eg(),Qc();var A=ie;return Cg(),kg(),re("startxref"),re(""+A),re("%%EOF"),ye(be[H]),de.join(`
`)},Xo=m.__private__.getBlob=function(A){return new Blob([Be(A)],{type:"application/pdf"})},Jo=m.output=m.__private__.output=Na(function(A,q){switch(typeof(q=q||{})=="string"?q={filename:q}:q.filename=q.filename||"generated.pdf",A){case void 0:return ji();case"save":m.save(q.filename);break;case"arraybuffer":return Be(ji());case"blob":return Xo(ji());case"bloburi":case"bloburl":if(at.URL!==void 0&&typeof at.URL.createObjectURL=="function")return at.URL&&at.URL.createObjectURL(Xo(ji()))||void 0;qt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var te="",oe=ji();try{te=C0(oe)}catch{te=C0(unescape(encodeURIComponent(oe)))}return"data:application/pdf;filename="+q.filename+";base64,"+te;case"pdfobjectnewwindow":if(Object.prototype.toString.call(at)==="[object Window]"){var pe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",je=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';q.pdfObjectUrl&&(pe=q.pdfObjectUrl,je="");var Te='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+pe+'"'+je+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(q)+");<\/script></body></html>",qe=at.open();return qe!==null&&qe.document.write(Te),qe}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(at)==="[object Window]"){var Xe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(q.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+q.filename+'" width="500px" height="400px" /></body></html>',ht=at.open();if(ht!==null){ht.document.write(Xe);var dt=this;ht.document.documentElement.querySelector("#pdfViewer").onload=function(){ht.document.title=q.filename,ht.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(dt.output("bloburl"))}}return ht}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(at)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var St='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",q)+'"></iframe></body></html>',ar=at.open();if(ar!==null&&(ar.document.write(St),ar.document.title=q.filename),ar||typeof safari>"u")return ar;break;case"datauri":case"dataurl":return at.document.location.href=this.output("datauristring",q);default:return null}}),Pf=function(A){return Array.isArray($s)===!0&&$s.indexOf(A)>-1};switch(n){case"pt":Fe=1;break;case"mm":Fe=72/25.4;break;case"cm":Fe=72/2.54;break;case"in":Fe=72;break;case"px":Fe=Pf("px_scaling")==1?.75:96/72;break;case"pc":case"em":Fe=12;break;case"ex":Fe=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Fe=n}var Zr=null;ae(),K();var Lg=function(A){return d!==null?Zr.encryptor(A,0):function(q){return q}},Ef=m.__private__.getPageInfo=m.getPageInfo=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ut[A].objId,pageNumber:A,pageContext:ut[A]}},ct=m.__private__.getPageInfoByObjId=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var q in ut)if(ut[q].objId===A)break;return Ef(q)},Mg=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:ut[H].objId,pageNumber:H,pageContext:ut[H]}};m.addPage=function(){return _f.apply(this,arguments),this},m.setPage=function(){return Af.apply(this,arguments),ye.call(this,be[H]),this},m.insertPage=function(A){return this.addPage(),this.movePage(H,A),this},m.movePage=function(A,q){var te,oe;if(A>q){te=be[A],oe=ut[A];for(var pe=A;pe>q;pe--)be[pe]=be[pe-1],ut[pe]=ut[pe-1];be[q]=te,ut[q]=oe,this.setPage(q)}else if(A<q){te=be[A],oe=ut[A];for(var je=A;je<q;je++)be[je]=be[je+1],ut[je]=ut[je+1];be[q]=te,ut[q]=oe,this.setPage(q)}return this},m.deletePage=function(){return Og.apply(this,arguments),this},m.__private__.text=m.text=function(A,q,te,oe,pe){var je,Te,qe,Xe,ht,dt,St,ar,lr,wr=(oe=oe||{}).scope||this;if(typeof A=="number"&&typeof q=="number"&&(typeof te=="string"||Array.isArray(te))){var Qr=te;te=q,q=A,A=Qr}if(arguments[3]instanceof tt?(P("The transform parameter of text() with a Matrix value"),lr=pe):(qe=arguments[4],Xe=arguments[5],jt(St=arguments[3])==="object"&&St!==null||(typeof qe=="string"&&(Xe=qe,qe=null),typeof St=="string"&&(Xe=St,St=null),typeof St=="number"&&(qe=St,St=null),oe={flags:St,angle:qe,align:Xe})),isNaN(q)||isNaN(te)||A==null)throw new Error("Invalid arguments passed to jsPDF.text");if(A.length===0)return wr;var Rr="",_a=!1,Dn=typeof oe.lineHeightFactor=="number"?oe.lineHeightFactor:Rs,ti=wr.internal.scaleFactor;function Rf(Wt){return Wt=Wt.split("	").join(Array(oe.TabLen||9).join(" ")),Nn(Wt,St)}function uu(Wt){for(var Ht,gr=Wt.concat(),Er=[],Oi=gr.length;Oi--;)typeof(Ht=gr.shift())=="string"?Er.push(Ht):Array.isArray(Wt)&&(Ht.length===1||Ht[1]===void 0&&Ht[2]===void 0)?Er.push(Ht[0]):Er.push([Ht[0],Ht[1],Ht[2]]);return Er}function du(Wt,Ht){var gr;if(typeof Wt=="string")gr=Ht(Wt)[0];else if(Array.isArray(Wt)){for(var Er,Oi,bu=Wt.concat(),fl=[],Uf=bu.length;Uf--;)typeof(Er=bu.shift())=="string"?fl.push(Ht(Er)[0]):Array.isArray(Er)&&typeof Er[0]=="string"&&(Oi=Ht(Er[0],Er[1],Er[2]),fl.push([Oi[0],Oi[1],Oi[2]]));gr=fl}return gr}var nl=!1,fu=!0;if(typeof A=="string")nl=!0;else if(Array.isArray(A)){var hu=A.concat();Te=[];for(var al,Vr=hu.length;Vr--;)(typeof(al=hu.shift())!="string"||Array.isArray(al)&&typeof al[0]!="string")&&(fu=!1);nl=fu}if(nl===!1)throw new Error('Type of text must be string or Array. "'+A+'" is not recognized.');typeof A=="string"&&(A=A.match(/[\r?\n]/)?A.split(/\r\n|\r|\n/g):[A]);var il=Ce/wr.internal.scaleFactor,sl=il*(Dn-1);switch(oe.baseline){case"bottom":te-=sl;break;case"top":te+=il-sl;break;case"hanging":te+=il-2*sl;break;case"middle":te+=il/2-sl}if((dt=oe.maxWidth||0)>0&&(typeof A=="string"?A=wr.splitTextToSize(A,dt):Object.prototype.toString.call(A)==="[object Array]"&&(A=A.reduce(function(Wt,Ht){return Wt.concat(wr.splitTextToSize(Ht,dt))},[]))),je={text:A,x:q,y:te,options:oe,mutex:{pdfEscape:Nn,activeFontKey:bt,fonts:Ft,activeFontSize:Ce}},Ct.publish("preProcessText",je),A=je.text,qe=(oe=je.options).angle,!(lr instanceof tt)&&qe&&typeof qe=="number"){qe*=Math.PI/180,oe.rotationDirection===0&&(qe=-qe),N===y.ADVANCED&&(qe=-qe);var ol=Math.cos(qe),mu=Math.sin(qe);lr=new tt(ol,mu,-mu,ol,0,0)}else qe&&qe instanceof tt&&(lr=qe);N!==y.ADVANCED||lr||(lr=Xa),(ht=oe.charSpace||el)!==void 0&&(Rr+=O(C(ht))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ar=oe.horizontalScale)!==void 0&&(Rr+=O(100*ar)+` Tz
`),oe.lang;var Sn=-1,Wg=oe.renderingMode!==void 0?oe.renderingMode:oe.stroke,pu=wr.internal.getCurrentPageInfo().pageContext;switch(Wg){case 0:case!1:case"fill":Sn=0;break;case 1:case!0:case"stroke":Sn=1;break;case 2:case"fillThenStroke":Sn=2;break;case 3:case"invisible":Sn=3;break;case 4:case"fillAndAddForClipping":Sn=4;break;case 5:case"strokeAndAddPathForClipping":Sn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Sn=6;break;case 7:case"addToPathForClipping":Sn=7}var Ff=pu.usedRenderingMode!==void 0?pu.usedRenderingMode:-1;Sn!==-1?Rr+=Sn+` Tr
`:Ff!==-1&&(Rr+=`0 Tr
`),Sn!==-1&&(pu.usedRenderingMode=Sn),Xe=oe.align||"left";var Yn,ll=Ce*Dn,Bf=wr.internal.pageSize.getWidth(),qf=Ft[bt];ht=oe.charSpace||el,dt=oe.maxWidth||0,St=Object.assign({autoencode:!0,noBOM:!0},oe.flags);var Zi=[],qs=function(Wt){return wr.getStringUnitWidth(Wt,{font:qf,charSpace:ht,fontSize:Ce,doKerning:!1})*Ce/ti};if(Object.prototype.toString.call(A)==="[object Array]"){var _n;Te=uu(A),Xe!=="left"&&(Yn=Te.map(qs));var fn,Qi=0;if(Xe==="right"){q-=Yn[0],A=[],Vr=Te.length;for(var Si=0;Si<Vr;Si++)Si===0?(fn=ei(q),_n=Ni(te)):(fn=C(Qi-Yn[Si]),_n=-ll),A.push([Te[Si],fn,_n]),Qi=Yn[Si]}else if(Xe==="center"){q-=Yn[0]/2,A=[],Vr=Te.length;for(var _i=0;_i<Vr;_i++)_i===0?(fn=ei(q),_n=Ni(te)):(fn=C((Qi-Yn[_i])/2),_n=-ll),A.push([Te[_i],fn,_n]),Qi=Yn[_i]}else if(Xe==="left"){A=[],Vr=Te.length;for(var cl=0;cl<Vr;cl++)A.push(Te[cl])}else if(Xe==="justify"&&qf.encoding==="Identity-H"){A=[],Vr=Te.length,dt=dt!==0?dt:Bf;for(var Ai=0,pr=0;pr<Vr;pr++)if(_n=pr===0?Ni(te):-ll,fn=pr===0?ei(q):Ai,pr<Vr-1){var gu=C((dt-Yn[pr])/(Te[pr].split(" ").length-1)),hn=Te[pr].split(" ");A.push([hn[0]+" ",fn,_n]),Ai=0;for(var Kn=1;Kn<hn.length;Kn++){var ul=(qs(hn[Kn-1]+" "+hn[Kn])-qs(hn[Kn]))*ti+gu;Kn==hn.length-1?A.push([hn[Kn],ul,0]):A.push([hn[Kn]+" ",ul,0]),Ai-=ul}}else A.push([Te[pr],fn,_n]);A.push(["",Ai,0])}else{if(Xe!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(A=[],Vr=Te.length,dt=dt!==0?dt:Bf,pr=0;pr<Vr;pr++)_n=pr===0?Ni(te):-ll,fn=pr===0?ei(q):0,pr<Vr-1?Zi.push(O(C((dt-Yn[pr])/(Te[pr].split(" ").length-1)))):Zi.push(0),A.push([Te[pr],fn,_n])}}var zf=typeof oe.R2L=="boolean"?oe.R2L:Ye;zf===!0&&(A=du(A,function(Wt,Ht,gr){return[Wt.split("").reverse().join(""),Ht,gr]})),je={text:A,x:q,y:te,options:oe,mutex:{pdfEscape:Nn,activeFontKey:bt,fonts:Ft,activeFontSize:Ce}},Ct.publish("postProcessText",je),A=je.text,_a=je.mutex.isHex||!1;var vu=Ft[bt].encoding;vu!=="WinAnsiEncoding"&&vu!=="StandardEncoding"||(A=du(A,function(Wt,Ht,gr){return[Rf(Wt),Ht,gr]})),Te=uu(A),A=[];for(var zs,Us,es,Ws=0,dl=1,Hs=Array.isArray(Te[0])?dl:Ws,ts="",yu=function(Wt,Ht,gr){var Er="";return gr instanceof tt?(gr=typeof oe.angle=="number"?ba(gr,new tt(1,0,0,1,Wt,Ht)):ba(new tt(1,0,0,1,Wt,Ht),gr),N===y.ADVANCED&&(gr=ba(new tt(1,0,0,-1,0,0),gr)),Er=gr.join(" ")+` Tm
`):Er=O(Wt)+" "+O(Ht)+` Td
`,Er},Xn=0;Xn<Te.length;Xn++){switch(ts="",Hs){case dl:es=(_a?"<":"(")+Te[Xn][0]+(_a?">":")"),zs=parseFloat(Te[Xn][1]),Us=parseFloat(Te[Xn][2]);break;case Ws:es=(_a?"<":"(")+Te[Xn]+(_a?">":")"),zs=ei(q),Us=Ni(te)}Zi!==void 0&&Zi[Xn]!==void 0&&(ts=Zi[Xn]+` Tw
`),Xn===0?A.push(ts+yu(zs,Us,lr)+es):Hs===Ws?A.push(ts+es):Hs===dl&&A.push(ts+yu(zs,Us,lr)+es)}A=Hs===Ws?A.join(` Tj
T* `):A.join(` Tj
`),A+=` Tj
`;var Jn=`BT
/`;return Jn+=bt+" "+Ce+` Tf
`,Jn+=O(Ce*Dn)+` TL
`,Jn+=Fs+`
`,Jn+=Rr,Jn+=A,re(Jn+="ET"),h[bt]=!0,wr};var $g=m.__private__.clip=m.clip=function(A){return re(A==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return $g("evenodd")},m.__private__.discardPath=m.discardPath=function(){return re("n"),this};var Qa=m.__private__.isValidStyle=function(A){var q=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(A)!==-1&&(q=!0),q};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(A){return Qa(A)&&(u=A),this};var kf=m.__private__.getStyle=m.getStyle=function(A){var q=u;switch(A){case"D":case"S":q="S";break;case"F":q="f";break;case"FD":case"DF":q="B";break;case"f":case"f*":case"B":case"B*":q=A}return q},Tf=m.close=function(){return re("h"),this};m.stroke=function(){return re("S"),this},m.fill=function(A){return Zo("f",A),this},m.fillEvenOdd=function(A){return Zo("f*",A),this},m.fillStroke=function(A){return Zo("B",A),this},m.fillStrokeEvenOdd=function(A){return Zo("B*",A),this};var Zo=function(A,q){jt(q)==="object"?Ig(q,A):re(A)},eu=function(A){A===null||N===y.ADVANCED&&A===void 0||(A=kf(A),re(A))};function Dg(A,q,te,oe,pe){var je=new Pl(q||this.boundingBox,te||this.xStep,oe||this.yStep,this.gState,pe||this.matrix);je.stream=this.stream;var Te=A+"$$"+this.cloneIndex+++"$$";return jn(Te,je),je}var Ig=function(A,q){var te=Ms[A.key],oe=Tt[te];if(oe instanceof io)re("q"),re(Rg(q)),oe.gState&&m.setGState(oe.gState),re(A.matrix.toString()+" cm"),re("/"+te+" sh"),re("Q");else if(oe instanceof Pl){var pe=new tt(1,0,0,-1,0,Ji());A.matrix&&(pe=pe.multiply(A.matrix||Xa),te=Dg.call(oe,A.key,A.boundingBox,A.xStep,A.yStep,pe).id),re("q"),re("/Pattern cs"),re("/"+te+" scn"),oe.gState&&m.setGState(oe.gState),re(q),re("Q")}},Rg=function(A){switch(A){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},tu=m.moveTo=function(A,q){return re(O(C(A))+" "+O(M(q))+" m"),this},Is=m.lineTo=function(A,q){return re(O(C(A))+" "+O(M(q))+" l"),this},Ki=m.curveTo=function(A,q,te,oe,pe,je){return re([O(C(A)),O(M(q)),O(C(te)),O(M(oe)),O(C(pe)),O(M(je)),"c"].join(" ")),this};m.__private__.line=m.line=function(A,q,te,oe,pe){if(isNaN(A)||isNaN(q)||isNaN(te)||isNaN(oe)||!Qa(pe))throw new Error("Invalid arguments passed to jsPDF.line");return N===y.COMPAT?this.lines([[te-A,oe-q]],A,q,[1,1],pe||"S"):this.lines([[te-A,oe-q]],A,q,[1,1]).stroke()},m.__private__.lines=m.lines=function(A,q,te,oe,pe,je){var Te,qe,Xe,ht,dt,St,ar,lr,wr,Qr,Rr,_a;if(typeof A=="number"&&(_a=te,te=q,q=A,A=_a),oe=oe||[1,1],je=je||!1,isNaN(q)||isNaN(te)||!Array.isArray(A)||!Array.isArray(oe)||!Qa(pe)||typeof je!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(tu(q,te),Te=oe[0],qe=oe[1],ht=A.length,Qr=q,Rr=te,Xe=0;Xe<ht;Xe++)(dt=A[Xe]).length===2?(Qr=dt[0]*Te+Qr,Rr=dt[1]*qe+Rr,Is(Qr,Rr)):(St=dt[0]*Te+Qr,ar=dt[1]*qe+Rr,lr=dt[2]*Te+Qr,wr=dt[3]*qe+Rr,Qr=dt[4]*Te+Qr,Rr=dt[5]*qe+Rr,Ki(St,ar,lr,wr,Qr,Rr));return je&&Tf(),eu(pe),this},m.path=function(A){for(var q=0;q<A.length;q++){var te=A[q],oe=te.c;switch(te.op){case"m":tu(oe[0],oe[1]);break;case"l":Is(oe[0],oe[1]);break;case"c":Ki.apply(this,oe);break;case"h":Tf()}}return this},m.__private__.rect=m.rect=function(A,q,te,oe,pe){if(isNaN(A)||isNaN(q)||isNaN(te)||isNaN(oe)||!Qa(pe))throw new Error("Invalid arguments passed to jsPDF.rect");return N===y.COMPAT&&(oe=-oe),re([O(C(A)),O(M(q)),O(C(te)),O(C(oe)),"re"].join(" ")),eu(pe),this},m.__private__.triangle=m.triangle=function(A,q,te,oe,pe,je,Te){if(isNaN(A)||isNaN(q)||isNaN(te)||isNaN(oe)||isNaN(pe)||isNaN(je)||!Qa(Te))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[te-A,oe-q],[pe-te,je-oe],[A-pe,q-je]],A,q,[1,1],Te,!0),this},m.__private__.roundedRect=m.roundedRect=function(A,q,te,oe,pe,je,Te){if(isNaN(A)||isNaN(q)||isNaN(te)||isNaN(oe)||isNaN(pe)||isNaN(je)||!Qa(Te))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var qe=4/3*(Math.SQRT2-1);return pe=Math.min(pe,.5*te),je=Math.min(je,.5*oe),this.lines([[te-2*pe,0],[pe*qe,0,pe,je-je*qe,pe,je],[0,oe-2*je],[0,je*qe,-pe*qe,je,-pe,je],[2*pe-te,0],[-pe*qe,0,-pe,-je*qe,-pe,-je],[0,2*je-oe],[0,-je*qe,pe*qe,-je,pe,-je]],A+pe,q,[1,1],Te,!0),this},m.__private__.ellipse=m.ellipse=function(A,q,te,oe,pe){if(isNaN(A)||isNaN(q)||isNaN(te)||isNaN(oe)||!Qa(pe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var je=4/3*(Math.SQRT2-1)*te,Te=4/3*(Math.SQRT2-1)*oe;return tu(A+te,q),Ki(A+te,q-Te,A+je,q-oe,A,q-oe),Ki(A-je,q-oe,A-te,q-Te,A-te,q),Ki(A-te,q+Te,A-je,q+oe,A,q+oe),Ki(A+je,q+oe,A+te,q+Te,A+te,q),eu(pe),this},m.__private__.circle=m.circle=function(A,q,te,oe){if(isNaN(A)||isNaN(q)||isNaN(te)||!Qa(oe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(A,q,te,te,oe)},m.setFont=function(A,q,te){return te&&(q=S(q,te)),bt=Of(A,q,{disableWarning:!1}),this};var Fg=m.__private__.getFont=m.getFont=function(){return Ft[Of.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var A,q,te={};for(A in rr)if(rr.hasOwnProperty(A))for(q in te[A]=[],rr[A])rr[A].hasOwnProperty(q)&&te[A].push(q);return te},m.addFont=function(A,q,te,oe,pe){var je=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&je.indexOf(arguments[3])!==-1?pe=arguments[3]:arguments[3]&&je.indexOf(arguments[3])==-1&&(te=S(te,oe)),pe=pe||"Identity-H",Jc.call(this,A,q,te,pe)};var Rs,ru=e.lineWidth||.200025,Qo=m.__private__.getLineWidth=m.getLineWidth=function(){return ru},Cf=m.__private__.setLineWidth=m.setLineWidth=function(A){return ru=A,re(O(C(A))+" w"),this};m.__private__.setLineDash=nt.API.setLineDash=nt.API.setLineDashPattern=function(A,q){if(A=A||[],q=q||0,isNaN(q)||!Array.isArray(A))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return A=A.map(function(te){return O(C(te))}).join(" "),q=O(C(q)),re("["+A+"] "+q+" d"),this};var Lf=m.__private__.getLineHeight=m.getLineHeight=function(){return Ce*Rs};m.__private__.getLineHeight=m.getLineHeight=function(){return Ce*Rs};var Mf=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(A){return typeof(A=A||1.15)=="number"&&(Rs=A),this},$f=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return Rs};Mf(e.lineHeight);var ei=m.__private__.getHorizontalCoordinate=function(A){return C(A)},Ni=m.__private__.getVerticalCoordinate=function(A){return N===y.ADVANCED?A:ut[H].mediaBox.topRightY-ut[H].mediaBox.bottomLeftY-C(A)},Bg=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(A){return O(ei(A))},Xi=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(A){return O(Ni(A))},Sa=e.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return wa(Sa)},m.__private__.setStrokeColor=m.setDrawColor=function(A,q,te,oe){return Sa=ja({ch1:A,ch2:q,ch3:te,ch4:oe,pdfColorType:"draw",precision:2}),re(Sa),this};var nu=e.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return wa(nu)},m.__private__.setFillColor=m.setFillColor=function(A,q,te,oe){return nu=ja({ch1:A,ch2:q,ch3:te,ch4:oe,pdfColorType:"fill",precision:2}),re(nu),this};var Fs=e.textColor||"0 g",qg=m.__private__.getTextColor=m.getTextColor=function(){return wa(Fs)};m.__private__.setTextColor=m.setTextColor=function(A,q,te,oe){return Fs=ja({ch1:A,ch2:q,ch3:te,ch4:oe,pdfColorType:"text",precision:3}),this};var el=e.charSpace,zg=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(el||0)};m.__private__.setCharSpace=m.setCharSpace=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return el=A,this};var au=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(A){var q=m.CapJoinStyles[A];if(q===void 0)throw new Error("Line cap style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return au=q,re(q+" J"),this};var iu=0;m.__private__.setLineJoin=m.setLineJoin=function(A){var q=m.CapJoinStyles[A];if(q===void 0)throw new Error("Line join style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return iu=q,re(q+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(A){if(A=A||0,isNaN(A))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return re(O(C(A))+" M"),this},m.GState=rm,m.setGState=function(A){(A=typeof A=="string"?sr[ya[A]]:Df(null,A)).equals(xi)||(re("/"+A.id+" gs"),xi=A)};var Df=function(A,q){if(!A||!ya[A]){var te=!1;for(var oe in sr)if(sr.hasOwnProperty(oe)&&sr[oe].equals(q)){te=!0;break}if(te)q=sr[oe];else{var pe="GS"+(Object.keys(sr).length+1).toString(10);sr[pe]=q,q.id=pe}return A&&(ya[A]=q.id),Ct.publish("addGState",q),q}};m.addGState=function(A,q){return Df(A,q),this},m.saveGraphicsState=function(){return re("q"),Va.push({key:bt,size:Ce,color:Fs}),this},m.restoreGraphicsState=function(){re("Q");var A=Va.pop();return bt=A.key,Ce=A.size,Fs=A.color,xi=null,this},m.setCurrentTransformationMatrix=function(A){return re(A.toString()+" cm"),this},m.comment=function(A){return re("#"+A),this};var tl=function(A,q){var te=A||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return te},set:function(je){isNaN(je)||(te=parseFloat(je))}});var oe=q||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return oe},set:function(je){isNaN(je)||(oe=parseFloat(je))}});var pe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return pe},set:function(je){pe=je.toString()}}),this},su=function(A,q,te,oe){tl.call(this,A,q),this.type="rect";var pe=te||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return pe},set:function(Te){isNaN(Te)||(pe=parseFloat(Te))}});var je=oe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return je},set:function(Te){isNaN(Te)||(je=parseFloat(Te))}}),this},ou=function(){this.page=or,this.currentPage=H,this.pages=be.slice(0),this.pagesContext=ut.slice(0),this.x=Jr,this.y=Ot,this.matrix=va,this.width=Bs(H),this.height=Ji(H),this.outputDestination=Ee,this.id="",this.objectNumber=-1};ou.prototype.restore=function(){or=this.page,H=this.currentPage,ut=this.pagesContext,be=this.pages,Jr=this.x,Ot=this.y,va=this.matrix,lu(H,this.width),cu(H,this.height),Ee=this.outputDestination};var If=function(A,q,te,oe,pe){Ka.push(new ou),or=H=0,be=[],Jr=A,Ot=q,va=pe,Zc([te,oe])},Ug=function(A){if(Ya[A])Ka.pop().restore();else{var q=new ou,te="Xo"+(Object.keys(Gr).length+1).toString(10);q.id=te,Ya[A]=te,Gr[te]=q,Ct.publish("addFormObject",q),Ka.pop().restore()}};for(var rl in m.beginFormObject=function(A,q,te,oe,pe){return If(A,q,te,oe,pe),this},m.endFormObject=function(A){return Ug(A),this},m.doFormObject=function(A,q){var te=Gr[Ya[A]];return re("q"),re(q.toString()+" cm"),re("/"+te.id+" Do"),re("Q"),this},m.getFormObject=function(A){var q=Gr[Ya[A]];return{x:q.x,y:q.y,width:q.width,height:q.height,matrix:q.matrix}},m.save=function(A,q){return A=A||"generated.pdf",(q=q||{}).returnPromise=q.returnPromise||!1,q.returnPromise===!1?(to(Xo(ji()),A),typeof to.unload=="function"&&at.setTimeout&&setTimeout(to.unload,911),this):new Promise(function(te,oe){try{var pe=to(Xo(ji()),A);typeof to.unload=="function"&&at.setTimeout&&setTimeout(to.unload,911),te(pe)}catch(je){oe(je.message)}})},nt.API)nt.API.hasOwnProperty(rl)&&(rl==="events"&&nt.API.events.length?function(A,q){var te,oe,pe;for(pe=q.length-1;pe!==-1;pe--)te=q[pe][0],oe=q[pe][1],A.subscribe.apply(A,[te].concat(typeof oe=="function"?[oe]:oe))}(Ct,nt.API.events):m[rl]=nt.API[rl]);var Bs=m.getPageWidth=function(A){return(ut[A=A||H].mediaBox.topRightX-ut[A].mediaBox.bottomLeftX)/Fe},lu=m.setPageWidth=function(A,q){ut[A].mediaBox.topRightX=q*Fe+ut[A].mediaBox.bottomLeftX},Ji=m.getPageHeight=function(A){return(ut[A=A||H].mediaBox.topRightY-ut[A].mediaBox.bottomLeftY)/Fe},cu=m.setPageHeight=function(A,q){ut[A].mediaBox.topRightY=q*Fe+ut[A].mediaBox.bottomLeftY};return m.internal={pdfEscape:Nn,getStyle:kf,getFont:Fg,getFontSize:Me,getCharSpace:zg,getTextColor:qg,getLineHeight:Lf,getLineHeightFactor:$f,getLineWidth:Qo,write:Ke,getHorizontalCoordinate:ei,getVerticalCoordinate:Ni,getCoordinateString:Bg,getVerticalCoordinateString:Xi,collections:{},newObject:Pr,newAdditionalObject:zo,newObjectDeferred:xr,newObjectDeferredBegin:$n,getFilters:Ja,putStream:Vn,events:Ct,scaleFactor:Fe,pageSize:{getWidth:function(){return Bs(H)},setWidth:function(A){lu(H,A)},getHeight:function(){return Ji(H)},setHeight:function(A){cu(H,A)}},encryptionOptions:d,encryption:Zr,getEncryptor:Lg,output:Jo,getNumberOfPages:Pg,pages:be,out:re,f2:F,f3:k,getPageInfo:Ef,getPageInfoByObjId:ct,getCurrentPageInfo:Mg,getPDFVersion:g,Point:tl,Rectangle:su,Matrix:tt,hasHotfix:Pf},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return Bs(H)},set:function(A){lu(H,A)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return Ji(H)},set:function(A){cu(H,A)},enumerable:!0,configurable:!0}),Ag.call(m,ke),bt="F1",_f(a,r),Ct.publish("initialized"),m}_l.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},_l.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},_l.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},_l.prototype.processOwnerPassword=function(e,t){return M0(L0(t).substr(0,5),e)},_l.prototype.encryptor=function(e,t){var r=L0(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return M0(r,n)}},rm.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||jt(e)!==jt(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},nt.API={events:[]},nt.version="3.0.1";var ur=nt.API,ix=1,Io=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},bl=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ft=function(e){return e.toFixed(2)},ds=function(e){return e.toFixed(5)};ur.__acroform__={};var Mn=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},Aw=function(e){return e*ix},ai=function(e){var t=new qA,r=Ve.internal.getHeight(e)||0,n=Ve.internal.getWidth(e)||0;return t.BBox=[0,0,Number(ft(n)),Number(ft(r))],t},dG=ur.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},fG=ur.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},hG=ur.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},vr=ur.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return hG(e,t-1)},yr=ur.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return dG(e,t-1)},br=ur.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return fG(e,t-1)},mG=ur.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],i=e[1],o=e[2],l=e[3],c={};return c.lowerLeft_X=r(a)||0,c.lowerLeft_Y=n(i+l)||0,c.upperRight_X=r(a+o)||0,c.upperRight_Y=n(i)||0,[Number(ft(c.lowerLeft_X)),Number(ft(c.lowerLeft_Y)),Number(ft(c.upperRight_X)),Number(ft(c.upperRight_Y))]},pG=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=$0(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+ft(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=ai(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},$0=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(k){return k.split(`
`)}):a.map(function(k){return[k]});var i=r,o=Ve.internal.getHeight(e)||0;o=o<0?-o:o;var l=Ve.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(k,C,D){if(k+1<a.length){var M=C+" "+a[k+1][0];return ph(M,e,D).width<=l-4}return!1};i++;e:for(;i>0;){t="",i--;var u,d,f=ph("3",e,i).height,h=e.multiline?o-i:(o-f)/2,m=h+=2,v=0,g=0,x=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+ph(t,e,i=12).width+", FieldWidth:"+l+`
`;break}for(var b="",y=0,N=0;N<a.length;N++)if(a.hasOwnProperty(N)){var _=!1;if(a[N].length!==1&&x!==a[N].length-1){if((f+2)*(y+2)+2>o)continue e;b+=a[N][x],_=!0,g=N,N--}else{b=(b+=a[N][x]+" ").substr(b.length-1)==" "?b.substr(0,b.length-1):b;var w=parseInt(N),S=c(w,b,i),O=N>=a.length-1;if(S&&!O){b+=" ",x=0;continue}if(S||O){if(O)g=w;else if(e.multiline&&(f+2)*(y+2)+2>o)continue e}else{if(!e.multiline||(f+2)*(y+2)+2>o)continue e;g=w}}for(var P="",T=v;T<=g;T++){var F=a[T];if(e.multiline){if(T===g){P+=F[x]+" ",x=(x+1)%F.length;continue}if(T===v){P+=F[F.length-1]+" ";continue}}P+=F[0]+" "}switch(P=P.substr(P.length-1)==" "?P.substr(0,P.length-1):P,d=ph(P,e,i).width,e.textAlign){case"right":u=l-d-2;break;case"center":u=(l-d)/2;break;case"left":default:u=2}t+=ft(u)+" "+ft(m)+` Td
`,t+="("+Io(P)+`) Tj
`,t+=-ft(u)+` 0 Td
`,m=-(i+2),d=0,v=_?g:g+1,y++,b=""}break}return n.text=t,n.fontSize=i,n},ph=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},gG={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},vG=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},yG=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,a=e[r];t.internal.newObjectDeferredBegin(a.objId,!0),jt(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete e[n]}},bG=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Wa.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(gG)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");ix=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new zA,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&vG(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var o in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],c=[],u=l.Rect;if(l.Rect&&(l.Rect=mG(l.Rect,a)),a.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Ve.createDefaultAppearanceStream(l),jt(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var d=pG(l);c.push({key:"AP",value:"<</N "+d+">>"}),a.internal.acroformPlugin.xForms.push(d)}if(l.appearanceStreamContent){var f="";for(var h in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(h)){var m=l.appearanceStreamContent[h];if(f+="/"+h+" ",f+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var o in m)if(m.hasOwnProperty(o)){var v=m[o];typeof v=="function"&&(v=v.call(a,l)),f+="/"+o+" "+v+" ",a.internal.acroformPlugin.xForms.indexOf(v)>=0||a.internal.acroformPlugin.xForms.push(v)}}else typeof(v=m)=="function"&&(v=v.call(a,l)),f+="/"+o+" "+v,a.internal.acroformPlugin.xForms.indexOf(v)>=0||a.internal.acroformPlugin.xForms.push(v);f+=">>"}c.push({key:"AP",value:`<<
`+f+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:l.objId}),a.internal.out("endobj")}i&&yG(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},BA=ur.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(o){return o};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(i!==0&&(a+=" "),jt(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+Io(n(e[i].toString()))+")"):a+=e[i].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},kv=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+Io(n(e))+")"},oi=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};oi.prototype.toString=function(){return this.objId+" 0 R"},oi.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},oi.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:BA(a,this.objId,this.scope)}):a instanceof oi?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var qA=function(){oi.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Mn(qA,oi);var zA=function(){oi.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Io(r(e))+")"}},set:function(r){e=r}})};Mn(zA,oi);var Wa=function e(){oi.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute F supplied.');t=b}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!vr(t,3)},set:function(b){b?this.F=yr(t,3):this.F=br(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute Ff supplied.');r=b}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(b){n=b!==void 0?b:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(b){n[0]=b}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(b){n[1]=b}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(b){n[2]=b}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(b){n[3]=b}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(b){switch(b){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=b;break;default:throw new Error('Invalid value "'+b+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof nm)return;i="FieldObject"+e.FieldNum++}var b=function(y){return y};return this.scope&&(b=this.scope.internal.getEncryptor(this.objId)),"("+Io(b(i))+")"},set:function(b){i=b.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(b){i=b}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(b){o=b}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(b){l=b}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(b){c=b}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/ix:u},set:function(b){u=b}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(b){d=b}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof nm||this instanceof po))return kv(f,this.objId,this.scope)},set:function(b){b=b.toString(),f=b}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof zr?h:kv(h,this.objId,this.scope)},set:function(b){b=b.toString(),h=this instanceof zr?b:b.substr(0,1)==="("?bl(b.substr(1,b.length-2)):bl(b)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof zr?bl(h.substr(1,h.length-1)):h},set:function(b){b=b.toString(),h=this instanceof zr?"/"+b:b}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(b){this.V=b}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof zr?m:kv(m,this.objId,this.scope)},set:function(b){b=b.toString(),m=this instanceof zr?b:b.substr(0,1)==="("?bl(b.substr(1,b.length-2)):bl(b)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof zr?bl(m.substr(1,m.length-1)):m},set:function(b){b=b.toString(),m=this instanceof zr?"/"+b:b}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(b){b=!!b,g=b}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(b){v=b}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,1)},set:function(b){b?this.Ff=yr(this.Ff,1):this.Ff=br(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,2)},set:function(b){b?this.Ff=yr(this.Ff,2):this.Ff=br(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,3)},set:function(b){b?this.Ff=yr(this.Ff,3):this.Ff=br(this.Ff,3)}});var x=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(x!==null)return x},set:function(b){if([0,1,2].indexOf(b)===-1)throw new Error('Invalid value "'+b+'" for attribute Q supplied.');x=b}}),Object.defineProperty(this,"textAlign",{get:function(){var b;switch(x){case 0:default:b="left";break;case 1:b="center";break;case 2:b="right"}return b},configurable:!0,enumerable:!0,set:function(b){switch(b){case"right":case 2:x=2;break;case"center":case 1:x=1;break;case"left":case 0:default:x=0}}})};Mn(Wa,oi);var Ml=function(){Wa.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return BA(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(i,o,l){l||(l=1);for(var c,u=[];c=o.exec(i);)u.push(c[l]);return u}(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,18)},set:function(r){r?this.Ff=yr(this.Ff,18):this.Ff=br(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=yr(this.Ff,19):this.Ff=br(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,20)},set:function(r){r?(this.Ff=yr(this.Ff,20),t.sort()):this.Ff=br(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,22)},set:function(r){r?this.Ff=yr(this.Ff,22):this.Ff=br(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,23)},set:function(r){r?this.Ff=yr(this.Ff,23):this.Ff=br(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,27)},set:function(r){r?this.Ff=yr(this.Ff,27):this.Ff=br(this.Ff,27)}}),this.hasAppearanceStream=!1};Mn(Ml,Wa);var $l=function(){Ml.call(this),this.fontName="helvetica",this.combo=!1};Mn($l,Ml);var Dl=function(){$l.call(this),this.combo=!0};Mn(Dl,$l);var Rh=function(){Dl.call(this),this.edit=!0};Mn(Rh,Dl);var zr=function(){Wa.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,15)},set:function(r){r?this.Ff=yr(this.Ff,15):this.Ff=br(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,16)},set:function(r){r?this.Ff=yr(this.Ff,16):this.Ff=br(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,17)},set:function(r){r?this.Ff=yr(this.Ff,17):this.Ff=br(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,26)},set:function(r){r?this.Ff=yr(this.Ff,26):this.Ff=br(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+Io(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){jt(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Mn(zr,Wa);var Fh=function(){zr.call(this),this.pushButton=!0};Mn(Fh,zr);var Il=function(){zr.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Mn(Il,zr);var nm=function(){var e,t;Wa.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(l){return l};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),n)o.push("/"+i+" ("+Io(a(n[i]))+")");return o.push(">>"),o.join(`
`)},set:function(a){jt(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ve.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Mn(nm,Wa),Il.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Il.prototype.createOption=function(e){var t=new nm;return t.Parent=this,t.optionName=e,this.Kids.push(t),xG.call(this.scope,t),t};var Bh=function(){zr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ve.CheckBox.createAppearanceStream()};Mn(Bh,zr);var po=function(){Wa.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,13)},set:function(t){t?this.Ff=yr(this.Ff,13):this.Ff=br(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,21)},set:function(t){t?this.Ff=yr(this.Ff,21):this.Ff=br(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,23)},set:function(t){t?this.Ff=yr(this.Ff,23):this.Ff=br(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,24)},set:function(t){t?this.Ff=yr(this.Ff,24):this.Ff=br(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,25)},set:function(t){t?this.Ff=yr(this.Ff,25):this.Ff=br(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,26)},set:function(t){t?this.Ff=yr(this.Ff,26):this.Ff=br(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Mn(po,Wa);var qh=function(){po.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,14)},set:function(e){e?this.Ff=yr(this.Ff,14):this.Ff=br(this.Ff,14)}}),this.password=!0};Mn(qh,po);var Ve={CheckBox:{createAppearanceStream:function(){return{N:{On:Ve.CheckBox.YesNormal},D:{On:Ve.CheckBox.YesPushDown,Off:Ve.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=ai(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=$0(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+ft(Ve.internal.getWidth(e))+" "+ft(Ve.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+ft(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=ai(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],i=Ve.internal.getHeight(e),o=Ve.internal.getWidth(e),l=$0(e,e.caption);return a.push("1 g"),a.push("0 0 "+ft(o)+" "+ft(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+ft(o-1)+" "+ft(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+ft(l.fontSize)+" Tf "+n),a.push(l.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=ai(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+ft(Ve.internal.getWidth(e))+" "+ft(Ve.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Ve.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Ve.RadioButton.Circle.YesNormal,t.D[e]=Ve.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=ai(e);t.scope=e.scope;var r=[],n=Ve.internal.getWidth(e)<=Ve.internal.getHeight(e)?Ve.internal.getWidth(e)/4:Ve.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Ve.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+ds(Ve.internal.getWidth(e)/2)+" "+ds(Ve.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=ai(e);t.scope=e.scope;var r=[],n=Ve.internal.getWidth(e)<=Ve.internal.getHeight(e)?Ve.internal.getWidth(e)/4:Ve.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Ve.internal.Bezier_C).toFixed(5)),o=Number((n*Ve.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+ds(Ve.internal.getWidth(e)/2)+" "+ds(Ve.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+ds(Ve.internal.getWidth(e)/2)+" "+ds(Ve.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=ai(e);t.scope=e.scope;var r=[],n=Ve.internal.getWidth(e)<=Ve.internal.getHeight(e)?Ve.internal.getWidth(e)/4:Ve.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Ve.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+ds(Ve.internal.getWidth(e)/2)+" "+ds(Ve.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Ve.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Ve.RadioButton.Cross.YesNormal,t.D[e]=Ve.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=ai(e);t.scope=e.scope;var r=[],n=Ve.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+ft(Ve.internal.getWidth(e)-2)+" "+ft(Ve.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(ft(n.x1.x)+" "+ft(n.x1.y)+" m"),r.push(ft(n.x2.x)+" "+ft(n.x2.y)+" l"),r.push(ft(n.x4.x)+" "+ft(n.x4.y)+" m"),r.push(ft(n.x3.x)+" "+ft(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=ai(e);t.scope=e.scope;var r=Ve.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+ft(Ve.internal.getWidth(e))+" "+ft(Ve.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+ft(Ve.internal.getWidth(e)-2)+" "+ft(Ve.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(ft(r.x1.x)+" "+ft(r.x1.y)+" m"),n.push(ft(r.x2.x)+" "+ft(r.x2.y)+" l"),n.push(ft(r.x4.x)+" "+ft(r.x4.y)+" m"),n.push(ft(r.x3.x)+" "+ft(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=ai(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+ft(Ve.internal.getWidth(e))+" "+ft(Ve.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Ve.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Ve.internal.getWidth(e),r=Ve.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},Ve.internal.getWidth=function(e){var t=0;return jt(e)==="object"&&(t=Aw(e.Rect[2])),t},Ve.internal.getHeight=function(e){var t=0;return jt(e)==="object"&&(t=Aw(e.Rect[3])),t};var xG=ur.addField=function(e){if(bG(this,e),!(e instanceof Wa))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};ur.AcroFormChoiceField=Ml,ur.AcroFormListBox=$l,ur.AcroFormComboBox=Dl,ur.AcroFormEditBox=Rh,ur.AcroFormButton=zr,ur.AcroFormPushButton=Fh,ur.AcroFormRadioButton=Il,ur.AcroFormCheckBox=Bh,ur.AcroFormTextField=po,ur.AcroFormPasswordField=qh,ur.AcroFormAppearance=Ve,ur.AcroForm={ChoiceField:Ml,ListBox:$l,ComboBox:Dl,EditBox:Rh,Button:zr,PushButton:Fh,RadioButton:Il,CheckBox:Bh,TextField:po,PasswordField:qh,Appearance:Ve},nt.AcroForm={ChoiceField:Ml,ListBox:$l,ComboBox:Dl,EditBox:Rh,Button:zr,PushButton:Fh,RadioButton:Il,CheckBox:Bh,TextField:po,PasswordField:qh,Appearance:Ve};nt.AcroForm;function UA(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(k,C){var D,M,U,W,R,K=t;if((C=C||t)==="RGBA"||k.data!==void 0&&k.data instanceof Uint8ClampedArray&&"height"in k&&"width"in k)return"RGBA";if(S(k))for(R in r)for(U=r[R],D=0;D<U.length;D+=1){for(W=!0,M=0;M<U[D].length;M+=1)if(U[D][M]!==void 0&&U[D][M]!==k[M]){W=!1;break}if(W===!0){K=R;break}}else for(R in r)for(U=r[R],D=0;D<U.length;D+=1){for(W=!0,M=0;M<U[D].length;M+=1)if(U[D][M]!==void 0&&U[D][M]!==k.charCodeAt(M)){W=!1;break}if(W===!0){K=R;break}}return K===t&&C!==t&&(K=C),K},a=function k(C){for(var D=this.internal.write,M=this.internal.putStream,U=(0,this.internal.getFilters)();U.indexOf("FlateEncode")!==-1;)U.splice(U.indexOf("FlateEncode"),1);C.objectId=this.internal.newObject();var W=[];if(W.push({key:"Type",value:"/XObject"}),W.push({key:"Subtype",value:"/Image"}),W.push({key:"Width",value:C.width}),W.push({key:"Height",value:C.height}),C.colorSpace===x.INDEXED?W.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(C.palette.length/3-1)+" "+("sMask"in C&&C.sMask!==void 0?C.objectId+2:C.objectId+1)+" 0 R]"}):(W.push({key:"ColorSpace",value:"/"+C.colorSpace}),C.colorSpace===x.DEVICE_CMYK&&W.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),W.push({key:"BitsPerComponent",value:C.bitsPerComponent}),"decodeParameters"in C&&C.decodeParameters!==void 0&&W.push({key:"DecodeParms",value:"<<"+C.decodeParameters+">>"}),"transparency"in C&&Array.isArray(C.transparency)){for(var R="",K=0,Y=C.transparency.length;K<Y;K++)R+=C.transparency[K]+" "+C.transparency[K]+" ";W.push({key:"Mask",value:"["+R+"]"})}C.sMask!==void 0&&W.push({key:"SMask",value:C.objectId+1+" 0 R"});var Z=C.filter!==void 0?["/"+C.filter]:void 0;if(M({data:C.data,additionalKeyValues:W,alreadyAppliedFilters:Z,objectId:C.objectId}),D("endobj"),"sMask"in C&&C.sMask!==void 0){var ae="/Predictor "+C.predictor+" /Colors 1 /BitsPerComponent "+C.bitsPerComponent+" /Columns "+C.width,$={width:C.width,height:C.height,colorSpace:"DeviceGray",bitsPerComponent:C.bitsPerComponent,decodeParameters:ae,data:C.sMask};"filter"in C&&($.filter=C.filter),k.call(this,$)}if(C.colorSpace===x.INDEXED){var H=this.internal.newObject();M({data:P(new Uint8Array(C.palette)),objectId:H}),D("endobj")}},i=function(){var k=this.internal.collections.addImage_images;for(var C in k)a.call(this,k[C])},o=function(){var k,C=this.internal.collections.addImage_images,D=this.internal.write;for(var M in C)D("/I"+(k=C[M]).index,k.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var k=this.internal.collections.addImage_images;return l.call(this),k},u=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(k){return typeof e["process"+k.toUpperCase()]=="function"},f=function(k){return jt(k)==="object"&&k.nodeType===1},h=function(k,C){if(k.nodeName==="IMG"&&k.hasAttribute("src")){var D=""+k.getAttribute("src");if(D.indexOf("data:image/")===0)return Ju(unescape(D).split("base64,").pop());var M=e.loadFile(D,!0);if(M!==void 0)return M}if(k.nodeName==="CANVAS"){if(k.width===0||k.height===0)throw new Error("Given canvas must have data. Canvas width: "+k.width+", height: "+k.height);var U;switch(C){case"PNG":U="image/png";break;case"WEBP":U="image/webp";break;case"JPEG":case"JPG":default:U="image/jpeg"}return Ju(k.toDataURL(U,1).split("base64,").pop())}},m=function(k){var C=this.internal.collections.addImage_images;if(C){for(var D in C)if(k===C[D].alias)return C[D]}},v=function(k,C,D){return k||C||(k=-96,C=-96),k<0&&(k=-1*D.width*72/k/this.internal.scaleFactor),C<0&&(C=-1*D.height*72/C/this.internal.scaleFactor),k===0&&(k=C*D.width/D.height),C===0&&(C=k*D.height/D.width),[k,C]},g=function(k,C,D,M,U,W){var R=v.call(this,D,M,U),K=this.internal.getCoordinateString,Y=this.internal.getVerticalCoordinateString,Z=c.call(this);if(D=R[0],M=R[1],Z[U.index]=U,W){W*=Math.PI/180;var ae=Math.cos(W),$=Math.sin(W),H=function(ne){return ne.toFixed(4)},Q=[H(ae),H($),H(-1*$),H(ae),0,0,"cm"]}this.internal.write("q"),W?(this.internal.write([1,"0","0",1,K(k),Y(C+M),"cm"].join(" ")),this.internal.write(Q.join(" ")),this.internal.write([K(D),"0","0",K(M),"0","0","cm"].join(" "))):this.internal.write([K(D),"0","0",K(M),K(k),Y(C+M),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+U.index+" Do"),this.internal.write("Q")},x=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var b=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},y=e.__addimage__.sHashCode=function(k){var C,D,M=0;if(typeof k=="string")for(D=k.length,C=0;C<D;C++)M=(M<<5)-M+k.charCodeAt(C),M|=0;else if(S(k))for(D=k.byteLength/2,C=0;C<D;C++)M=(M<<5)-M+k[C],M|=0;return M},N=e.__addimage__.validateStringAsBase64=function(k){(k=k||"").toString().trim();var C=!0;return k.length===0&&(C=!1),k.length%4!=0&&(C=!1),/^[A-Za-z0-9+/]+$/.test(k.substr(0,k.length-2))===!1&&(C=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(k.substr(-2))===!1&&(C=!1),C},_=e.__addimage__.extractImageFromDataUrl=function(k){if(k==null||!(k=k.trim()).startsWith("data:"))return null;var C=k.indexOf(",");return C<0?null:k.substring(0,C).trim().endsWith("base64")?k.substring(C+1):null},w=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(k){return w()&&k instanceof ArrayBuffer};var S=e.__addimage__.isArrayBufferView=function(k){return w()&&typeof Uint32Array<"u"&&(k instanceof Int8Array||k instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&k instanceof Uint8ClampedArray||k instanceof Int16Array||k instanceof Uint16Array||k instanceof Int32Array||k instanceof Uint32Array||k instanceof Float32Array||k instanceof Float64Array)},O=e.__addimage__.binaryStringToUint8Array=function(k){for(var C=k.length,D=new Uint8Array(C),M=0;M<C;M++)D[M]=k.charCodeAt(M);return D},P=e.__addimage__.arrayBufferToBinaryString=function(k){for(var C="",D=S(k)?k:new Uint8Array(k),M=0;M<D.length;M+=8192)C+=String.fromCharCode.apply(null,D.subarray(M,M+8192));return C};e.addImage=function(){var k,C,D,M,U,W,R,K,Y;if(typeof arguments[1]=="number"?(C=t,D=arguments[1],M=arguments[2],U=arguments[3],W=arguments[4],R=arguments[5],K=arguments[6],Y=arguments[7]):(C=arguments[1],D=arguments[2],M=arguments[3],U=arguments[4],W=arguments[5],R=arguments[6],K=arguments[7],Y=arguments[8]),jt(k=arguments[0])==="object"&&!f(k)&&"imageData"in k){var Z=k;k=Z.imageData,C=Z.format||C||t,D=Z.x||D||0,M=Z.y||M||0,U=Z.w||Z.width||U,W=Z.h||Z.height||W,R=Z.alias||R,K=Z.compression||K,Y=Z.rotation||Z.angle||Y}var ae=this.internal.getFilters();if(K===void 0&&ae.indexOf("FlateEncode")!==-1&&(K="SLOW"),isNaN(D)||isNaN(M))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var $=T.call(this,k,C,R,K);return g.call(this,D,M,U,W,$,Y),this};var T=function(k,C,D,M){var U,W,R;if(typeof k=="string"&&n(k)===t){k=unescape(k);var K=F(k,!1);(K!==""||(K=e.loadFile(k,!0))!==void 0)&&(k=K)}if(f(k)&&(k=h(k,C)),C=n(k,C),!d(C))throw new Error("addImage does not support files of type '"+C+"', please ensure that a plugin for '"+C+"' support is added.");if(((R=D)==null||R.length===0)&&(D=function(Y){return typeof Y=="string"||S(Y)?y(Y):S(Y.data)?y(Y.data):null}(k)),(U=m.call(this,D))||(w()&&(k instanceof Uint8Array||C==="RGBA"||(W=k,k=O(k))),U=this["process"+C.toUpperCase()](k,u.call(this),D,function(Y){return Y&&typeof Y=="string"&&(Y=Y.toUpperCase()),Y in e.image_compression?Y:b.NONE}(M),W)),!U)throw new Error("An unknown error occurred whilst processing the image.");return U},F=e.__addimage__.convertBase64ToBinaryString=function(k,C){C=typeof C!="boolean"||C;var D,M="";if(typeof k=="string"){var U;D=(U=_(k))!==null&&U!==void 0?U:k;try{M=Ju(D)}catch(W){if(C)throw N(D)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+W.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return M};e.getImageProperties=function(k){var C,D,M="";if(f(k)&&(k=h(k)),typeof k=="string"&&n(k)===t&&((M=F(k,!1))===""&&(M=e.loadFile(k)||""),k=M),D=n(k),!d(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(!w()||k instanceof Uint8Array||(k=O(k)),!(C=this["process"+D.toUpperCase()](k)))throw new Error("An unknown error occurred whilst processing the image");return C.fileType=D,C}})(nt.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};nt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,i,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,d=!1,f=0;f<u.length&&!d;f++)switch((n=u[f]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var h=0;h<u.length;h++){n=u[h];var m=this.internal.pdfEscape,v=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),x=this.internal.newAdditionalObject(),b=this.internal.getEncryptor(g.objId),y=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+m(b(n.contents))+")",i+=" /Popup "+x.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+m(b(y))+") >>",g.content=i;var N=g.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+N,n.open&&(i+=" /Open true"),i+=" >>",x.content=i,this.internal.write(g.objId,"0 R",x.objId,"0 R");break;case"freetext":a="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var _=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+m(v(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+_+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var w=this.annotations._nameMap[n.options.name];n.options.pageNumber=w.page,n.options.top=w.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+m(v(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var S=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+S+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,i,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:u(n),w:c(r+a),h:u(n+i)},options:o,type:"link"})},e.textWithLink=function(r,n,a,i){var o,l,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var d=this.splitTextToSize(r,l).length;o=Math.ceil(u*d)}else l=c,o=u;return this.text(r,n,a,i),a+=.2*u,i.align==="center"&&(n-=c/2),i.align==="right"&&(n-=c),this.link(n,a-u,l,o,i),c},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(nt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(g){return t[g.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},l=e.__arabicParser__.isArabicEndLetter=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(g){return o(g)&&a.indexOf(g.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(g){var x=0,b=r,y="",N=0;for(x=0;x<g.length;x+=1)b[g.charCodeAt(x)]!==void 0?(N++,typeof(b=b[g.charCodeAt(x)])=="number"&&(y+=String.fromCharCode(b),b=r,N=0),x===g.length-1&&(b=r,y+=g.charAt(x-(N-1)),x-=N-1,N=0)):(b=r,y+=g.charAt(x-N),x-=N,N=0);return y};e.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&n[g.charCodeAt(0)]!==void 0};var h=e.__arabicParser__.getCorrectForm=function(g,x,b){return o(g)?i(g)===!1?-1:!u(g)||!o(x)&&!o(b)||!o(b)&&l(x)||l(g)&&!o(x)||l(g)&&c(x)||l(g)&&l(x)?0:d(g)&&o(x)&&!l(x)&&o(b)&&u(b)?3:l(g)||!o(b)?1:2:-1},m=function(g){var x=0,b=0,y=0,N="",_="",w="",S=(g=g||"").split("\\s+"),O=[];for(x=0;x<S.length;x+=1){for(O.push(""),b=0;b<S[x].length;b+=1)N=S[x][b],_=S[x][b-1],w=S[x][b+1],o(N)?(y=h(N,_,w),O[x]+=y!==-1?String.fromCharCode(t[N.charCodeAt(0)][y]):N):O[x]+=N;O[x]=f(O[x])}return O.join(" ")},v=e.__arabicParser__.processArabic=e.processArabic=function(){var g,x=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,b=[];if(Array.isArray(x)){var y=0;for(b=[],y=0;y<x.length;y+=1)Array.isArray(x[y])?b.push([m(x[y][0]),x[y][1],x[y][2]]):b.push([m(x[y])]);g=b}else g=m(x);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};e.events.push(["preProcessText",v])}(nt.API),nt.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(nt.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(g){m=g}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(g){v=g}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,u){n.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),h=u.scaleFactor||this.internal.scaleFactor,m=0,v=0,g=0,x=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var b=u.maxWidth;b>0?typeof c=="string"?c=this.splitTextToSize(c,b):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(N,_){return N.concat(x.splitTextToSize(_,b))},[])):c=Array.isArray(c)?c:[c];for(var y=0;y<c.length;y++)m<(g=this.getStringUnitWidth(c[y],{font:f})*d)&&(m=g);return m!==0&&(v=c.length),{w:m/=h,h:Math.max((v*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/h,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,h=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=f.top,m&&h&&(this.printHeaderRow(c.lineNumber,!0),c.y+=h[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};e.table=function(c,u,d,f,h){if(n.call(this),!d)throw new Error("No data for PDF table.");var m,v,g,x,b=[],y=[],N=[],_={},w={},S=[],O=[],P=(h=h||{}).autoSize||!1,T=h.printHeaders!==!1,F=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,k=h.margins||Object.assign({width:this.getPageWidth()},t),C=typeof h.padding=="number"?h.padding:3,D=h.headerBackgroundColor||"#c8c8c8",M=h.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=T,this.internal.__cell__.margins=k,this.internal.__cell__.table_font_size=F,this.internal.__cell__.padding=C,this.internal.__cell__.headerBackgroundColor=D,this.internal.__cell__.headerTextColor=M,this.setFontSize(F),f==null)y=b=Object.keys(d[0]),N=b.map(function(){return"left"});else if(Array.isArray(f)&&jt(f[0])==="object")for(b=f.map(function(Z){return Z.name}),y=f.map(function(Z){return Z.prompt||Z.name||""}),N=f.map(function(Z){return Z.align||"left"}),m=0;m<f.length;m+=1)w[f[m].name]=f[m].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(y=b=f,N=b.map(function(){return"left"}));if(P||Array.isArray(f)&&typeof f[0]=="string")for(m=0;m<b.length;m+=1){for(_[x=b[m]]=d.map(function(Z){return Z[x]}),this.setFont(void 0,"bold"),S.push(this.getTextDimensions(y[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=_[x],this.setFont(void 0,"normal"),g=0;g<v.length;g+=1)S.push(this.getTextDimensions(v[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);w[x]=Math.max.apply(null,S)+C+C,S=[]}if(T){var U={};for(m=0;m<b.length;m+=1)U[b[m]]={},U[b[m]].text=y[m],U[b[m]].align=N[m];var W=l.call(this,U,w);O=b.map(function(Z){return new i(c,u,w[Z],W,U[Z].text,void 0,U[Z].align)}),this.setTableHeaderRow(O),this.printHeaderRow(1,!1)}var R=f.reduce(function(Z,ae){return Z[ae.name]=ae.align,Z},{});for(m=0;m<d.length;m+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:m,data:d[m]},this);var K=l.call(this,d[m],w);for(g=0;g<b.length;g+=1){var Y=d[m][b[g]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:m,col:g,data:Y},this),o.call(this,new i(c,u,w[b[g]],K,Y,m+2,R[b[g]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var d=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(c).map(function(m){var v=c[m];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,u[m]-d-d)},this).map(function(m){return this.getLineHeightFactor()*m.length*f/h+d+d},this).reduce(function(m,v){return Math.max(m,v)},0)};e.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){d=this.internal.__cell__.tableHeaderRow[m].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,h.push(d)),d.lineNumber=c;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,d),this.setTextColor(v)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),r=!1}}(nt.API);var WA={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},HA=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],D0=UA(HA),GA=[100,200,300,400,500,600,700,800,900],wG=UA(GA);function I0(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return WA[i=i||"normal"]?i:"normal"}(e.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(e.weight),a=function(i){return typeof D0[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function Ow(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var jG={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Pw={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Ew(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function NG(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},jG,r.genericFontFamilies||{}),i=null,o=null,l=0;l<t.length;++l)if(a[(i=I0(t[l])).family]&&(i.family=a[i.family]),e.hasOwnProperty(i.family)){o=e[i.family];break}if(!(o=o||e[n]))throw new Error("Could not find a font-family for the rule '"+Ew(i)+"' and default family '"+n+"'.");if(o=function(c,u){if(u[c])return u[c];var d=D0[c],f=d<=D0.normal?-1:1,h=Ow(u,HA,d,f);if(!h)throw new Error("Could not find a matching font-stretch value for "+c);return h}(i.stretch,o),o=function(c,u){if(u[c])return u[c];for(var d=WA[c],f=0;f<d.length;++f)if(u[d[f]])return u[d[f]];throw new Error("Could not find a matching font-style for "+c)}(i.style,o),!(o=function(c,u){if(u[c])return u[c];if(c===400&&u[500])return u[500];if(c===500&&u[400])return u[400];var d=wG[c],f=Ow(u,GA,d,c<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+c);return f}(i.weight,o)))throw new Error("Failed to resolve a font for the rule '"+Ew(i)+"'.");return o}function kw(e){return e.trimLeft()}function SG(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function _G(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var gh,Tw,Cw,Tv=["times"];(function(e){var t,r,n,a,i,o,l,c,u,d=function($){return $=$||{},this.isStrokeTransparent=$.isStrokeTransparent||!1,this.strokeOpacity=$.strokeOpacity||1,this.strokeStyle=$.strokeStyle||"#000000",this.fillStyle=$.fillStyle||"#000000",this.isFillTransparent=$.isFillTransparent||!1,this.fillOpacity=$.fillOpacity||1,this.font=$.font||"10px sans-serif",this.textBaseline=$.textBaseline||"alphabetic",this.textAlign=$.textAlign||"left",this.lineWidth=$.lineWidth||1,this.lineJoin=$.lineJoin||"miter",this.lineCap=$.lineCap||"butt",this.path=$.path||[],this.transform=$.transform!==void 0?$.transform.clone():new c,this.globalCompositeOperation=$.globalCompositeOperation||"normal",this.globalAlpha=$.globalAlpha||1,this.clip_path=$.clip_path||[],this.currentPoint=$.currentPoint||new o,this.miterLimit=$.miterLimit||10,this.lastPoint=$.lastPoint||new o,this.lineDashOffset=$.lineDashOffset||0,this.lineDash=$.lineDash||[],this.margin=$.margin||[0,0,0,0],this.prevPageLastElemOffset=$.prevPageLastElemOffset||0,this.ignoreClearRect=typeof $.ignoreClearRect!="boolean"||$.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var f=function($){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var H=$;Object.defineProperty(this,"pdf",{get:function(){return H}});var Q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Q},set:function(ye){Q=!!ye}});var ne=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ne},set:function(ye){ne=!!ye}});var se=0;Object.defineProperty(this,"posX",{get:function(){return se},set:function(ye){isNaN(ye)||(se=ye)}});var he=0;Object.defineProperty(this,"posY",{get:function(){return he},set:function(ye){isNaN(ye)||(he=ye)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(ye){var re;typeof ye=="number"?re=[ye,ye,ye,ye]:((re=new Array(4))[0]=ye[0],re[1]=ye.length>=2?ye[1]:re[0],re[2]=ye.length>=3?ye[2]:re[0],re[3]=ye.length>=4?ye[3]:re[1]),u.margin=re}});var de=!1;Object.defineProperty(this,"autoPaging",{get:function(){return de},set:function(ye){de=ye}});var ie=0;Object.defineProperty(this,"lastBreak",{get:function(){return ie},set:function(ye){ie=ye}});var xe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return xe},set:function(ye){xe=ye}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(ye){ye instanceof d&&(u=ye)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(ye){u.path=ye}});var be=[];Object.defineProperty(this,"ctxStack",{get:function(){return be},set:function(ye){be=ye}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ye){var re;re=h(ye),this.ctx.fillStyle=re.style,this.ctx.isFillTransparent=re.a===0,this.ctx.fillOpacity=re.a,this.pdf.setFillColor(re.r,re.g,re.b,{a:re.a}),this.pdf.setTextColor(re.r,re.g,re.b,{a:re.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ye){var re=h(ye);this.ctx.strokeStyle=re.style,this.ctx.isStrokeTransparent=re.a===0,this.ctx.strokeOpacity=re.a,re.a===0?this.pdf.setDrawColor(255,255,255):(re.a,this.pdf.setDrawColor(re.r,re.g,re.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ye){["butt","round","square"].indexOf(ye)!==-1&&(this.ctx.lineCap=ye,this.pdf.setLineCap(ye))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ye){isNaN(ye)||(this.ctx.lineWidth=ye,this.pdf.setLineWidth(ye))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ye){["bevel","round","miter"].indexOf(ye)!==-1&&(this.ctx.lineJoin=ye,this.pdf.setLineJoin(ye))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ye){isNaN(ye)||(this.ctx.miterLimit=ye,this.pdf.setMiterLimit(ye))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ye){this.ctx.textBaseline=ye}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ye){["right","end","center","left","start"].indexOf(ye)!==-1&&(this.ctx.textAlign=ye)}});var me=null;function Ee(ye,re){if(me===null){var Ke=function(Be){var ke=[];return Object.keys(Be).forEach(function(Ce){Be[Ce].forEach(function(De){var Me=null;switch(De){case"bold":Me={family:Ce,weight:"bold"};break;case"italic":Me={family:Ce,style:"italic"};break;case"bolditalic":Me={family:Ce,weight:"bold",style:"italic"};break;case"":case"normal":Me={family:Ce}}Me!==null&&(Me.ref={name:Ce,style:De},ke.push(Me))})}),ke}(ye.getFontList());me=function(Be){for(var ke={},Ce=0;Ce<Be.length;++Ce){var De=I0(Be[Ce]),Me=De.family,Ye=De.stretch,et=De.style,st=De.weight;ke[Me]=ke[Me]||{},ke[Me][Ye]=ke[Me][Ye]||{},ke[Me][Ye][et]=ke[Me][Ye][et]||{},ke[Me][Ye][et][st]=De}return ke}(Ke.concat(re))}return me}var $e=null;Object.defineProperty(this,"fontFaces",{get:function(){return $e},set:function(ye){me=null,$e=ye}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ye){var re;if(this.ctx.font=ye,(re=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ye))!==null){var Ke=re[1];re[2];var Be=re[3],ke=re[4];re[5];var Ce=re[6],De=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ke)[2];ke=Math.floor(De==="px"?parseFloat(ke)*this.pdf.internal.scaleFactor:De==="em"?parseFloat(ke)*this.pdf.getFontSize():parseFloat(ke)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ke);var Me=function(ot){var bt,Fe,Jr=[],Ot=ot.trim();if(Ot==="")return Tv;if(Ot in Pw)return[Pw[Ot]];for(;Ot!=="";){switch(Fe=null,bt=(Ot=kw(Ot)).charAt(0)){case'"':case"'":Fe=SG(Ot.substring(1),bt);break;default:Fe=_G(Ot)}if(Fe===null||(Jr.push(Fe[0]),(Ot=kw(Fe[1]))!==""&&Ot.charAt(0)!==","))return Tv;Ot=Ot.replace(/^,/,"")}return Jr}(Ce);if(this.fontFaces){var Ye=NG(Ee(this.pdf,this.fontFaces),Me.map(function(ot){return{family:ot,stretch:"normal",weight:Be,style:Ke}}));this.pdf.setFont(Ye.ref.name,Ye.ref.style)}else{var et="";(Be==="bold"||parseInt(Be,10)>=700||Ke==="bold")&&(et="bold"),Ke==="italic"&&(et+="italic"),et.length===0&&(et="normal");for(var st="",gt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},xt=0;xt<Me.length;xt++){if(this.pdf.internal.getFont(Me[xt],et,{noFallback:!0,disableWarning:!0})!==void 0){st=Me[xt];break}if(et==="bolditalic"&&this.pdf.internal.getFont(Me[xt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)st=Me[xt],et="bold";else if(this.pdf.internal.getFont(Me[xt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){st=Me[xt],et="normal";break}}if(st===""){for(var Et=0;Et<Me.length;Et++)if(gt[Me[Et]]){st=gt[Me[Et]];break}}st=st===""?"Times":st,this.pdf.setFont(st,et)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ye){this.ctx.globalCompositeOperation=ye}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ye){this.ctx.globalAlpha=ye}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ye){this.ctx.lineDashOffset=ye,ae.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ye){this.ctx.lineDash=ye,ae.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ye){this.ctx.ignoreClearRect=!!ye}})};f.prototype.setLineDash=function($){this.lineDash=$},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){_.call(this,"fill",!1)},f.prototype.stroke=function(){_.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function($,H){if(isNaN($)||isNaN(H))throw qt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Q=this.ctx.transform.applyToPoint(new o($,H));this.path.push({type:"mt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o($,H)},f.prototype.closePath=function(){var $=new o(0,0),H=0;for(H=this.path.length-1;H!==-1;H--)if(this.path[H].type==="begin"&&jt(this.path[H+1])==="object"&&typeof this.path[H+1].x=="number"){$=new o(this.path[H+1].x,this.path[H+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o($.x,$.y)},f.prototype.lineTo=function($,H){if(isNaN($)||isNaN(H))throw qt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Q=this.ctx.transform.applyToPoint(new o($,H));this.path.push({type:"lt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(Q.x,Q.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),_.call(this,null,!0)},f.prototype.quadraticCurveTo=function($,H,Q,ne){if(isNaN(Q)||isNaN(ne)||isNaN($)||isNaN(H))throw qt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var se=this.ctx.transform.applyToPoint(new o(Q,ne)),he=this.ctx.transform.applyToPoint(new o($,H));this.path.push({type:"qct",x1:he.x,y1:he.y,x:se.x,y:se.y}),this.ctx.lastPoint=new o(se.x,se.y)},f.prototype.bezierCurveTo=function($,H,Q,ne,se,he){if(isNaN(se)||isNaN(he)||isNaN($)||isNaN(H)||isNaN(Q)||isNaN(ne))throw qt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var de=this.ctx.transform.applyToPoint(new o(se,he)),ie=this.ctx.transform.applyToPoint(new o($,H)),xe=this.ctx.transform.applyToPoint(new o(Q,ne));this.path.push({type:"bct",x1:ie.x,y1:ie.y,x2:xe.x,y2:xe.y,x:de.x,y:de.y}),this.ctx.lastPoint=new o(de.x,de.y)},f.prototype.arc=function($,H,Q,ne,se,he){if(isNaN($)||isNaN(H)||isNaN(Q)||isNaN(ne)||isNaN(se))throw qt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(he=!!he,!this.ctx.transform.isIdentity){var de=this.ctx.transform.applyToPoint(new o($,H));$=de.x,H=de.y;var ie=this.ctx.transform.applyToPoint(new o(0,Q)),xe=this.ctx.transform.applyToPoint(new o(0,0));Q=Math.sqrt(Math.pow(ie.x-xe.x,2)+Math.pow(ie.y-xe.y,2))}Math.abs(se-ne)>=2*Math.PI&&(ne=0,se=2*Math.PI),this.path.push({type:"arc",x:$,y:H,radius:Q,startAngle:ne,endAngle:se,counterclockwise:he})},f.prototype.arcTo=function($,H,Q,ne,se){throw new Error("arcTo not implemented.")},f.prototype.rect=function($,H,Q,ne){if(isNaN($)||isNaN(H)||isNaN(Q)||isNaN(ne))throw qt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo($,H),this.lineTo($+Q,H),this.lineTo($+Q,H+ne),this.lineTo($,H+ne),this.lineTo($,H),this.lineTo($+Q,H),this.lineTo($,H)},f.prototype.fillRect=function($,H,Q,ne){if(isNaN($)||isNaN(H)||isNaN(Q)||isNaN(ne))throw qt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var se={};this.lineCap!=="butt"&&(se.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(se.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect($,H,Q,ne),this.fill(),se.hasOwnProperty("lineCap")&&(this.lineCap=se.lineCap),se.hasOwnProperty("lineJoin")&&(this.lineJoin=se.lineJoin)}},f.prototype.strokeRect=function($,H,Q,ne){if(isNaN($)||isNaN(H)||isNaN(Q)||isNaN(ne))throw qt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect($,H,Q,ne),this.stroke())},f.prototype.clearRect=function($,H,Q,ne){if(isNaN($)||isNaN(H)||isNaN(Q)||isNaN(ne))throw qt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect($,H,Q,ne))},f.prototype.save=function($){$=typeof $!="boolean"||$;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("q");if(this.pdf.setPage(H),$){this.ctx.fontSize=this.pdf.internal.getFontSize();var ne=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ne}},f.prototype.restore=function($){$=typeof $!="boolean"||$;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("Q");this.pdf.setPage(H),$&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function($){var H,Q,ne,se;if($.isCanvasGradient===!0&&($=$.getColor()),!$)return{r:0,g:0,b:0,a:0,style:$};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test($))H=0,Q=0,ne=0,se=0;else{var he=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec($);if(he!==null)H=parseInt(he[1]),Q=parseInt(he[2]),ne=parseInt(he[3]),se=1;else if((he=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec($))!==null)H=parseInt(he[1]),Q=parseInt(he[2]),ne=parseInt(he[3]),se=parseFloat(he[4]);else{if(se=1,typeof $=="string"&&$.charAt(0)!=="#"){var de=new IA($);$=de.ok?de.toHex():"#000000"}$.length===4?(H=$.substring(1,2),H+=H,Q=$.substring(2,3),Q+=Q,ne=$.substring(3,4),ne+=ne):(H=$.substring(1,3),Q=$.substring(3,5),ne=$.substring(5,7)),H=parseInt(H,16),Q=parseInt(Q,16),ne=parseInt(ne,16)}}return{r:H,g:Q,b:ne,a:se,style:$}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function($,H,Q,ne){if(isNaN(H)||isNaN(Q)||typeof $!="string")throw qt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ne=isNaN(ne)?void 0:ne,!m.call(this)){var se=K(this.ctx.transform.rotation),he=this.ctx.transform.scaleX;C.call(this,{text:$,x:H,y:Q,scale:he,angle:se,align:this.textAlign,maxWidth:ne})}},f.prototype.strokeText=function($,H,Q,ne){if(isNaN(H)||isNaN(Q)||typeof $!="string")throw qt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){ne=isNaN(ne)?void 0:ne;var se=K(this.ctx.transform.rotation),he=this.ctx.transform.scaleX;C.call(this,{text:$,x:H,y:Q,scale:he,renderingMode:"stroke",angle:se,align:this.textAlign,maxWidth:ne})}},f.prototype.measureText=function($){if(typeof $!="string")throw qt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var H=this.pdf,Q=this.pdf.internal.scaleFactor,ne=H.internal.getFontSize(),se=H.getStringUnitWidth($)*ne/H.internal.scaleFactor,he=function(de){var ie=(de=de||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ie}}),this};return new he({width:se*=Math.round(96*Q/72*1e4)/1e4})},f.prototype.scale=function($,H){if(isNaN($)||isNaN(H))throw qt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Q=new c($,0,0,H,0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},f.prototype.rotate=function($){if(isNaN($))throw qt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var H=new c(Math.cos($),Math.sin($),-Math.sin($),Math.cos($),0,0);this.ctx.transform=this.ctx.transform.multiply(H)},f.prototype.translate=function($,H){if(isNaN($)||isNaN(H))throw qt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Q=new c(1,0,0,1,$,H);this.ctx.transform=this.ctx.transform.multiply(Q)},f.prototype.transform=function($,H,Q,ne,se,he){if(isNaN($)||isNaN(H)||isNaN(Q)||isNaN(ne)||isNaN(se)||isNaN(he))throw qt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var de=new c($,H,Q,ne,se,he);this.ctx.transform=this.ctx.transform.multiply(de)},f.prototype.setTransform=function($,H,Q,ne,se,he){$=isNaN($)?1:$,H=isNaN(H)?0:H,Q=isNaN(Q)?0:Q,ne=isNaN(ne)?1:ne,se=isNaN(se)?0:se,he=isNaN(he)?0:he,this.ctx.transform=new c($,H,Q,ne,se,he)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function($,H,Q,ne,se,he,de,ie,xe){var be=this.pdf.getImageProperties($),me=1,Ee=1,$e=1,ye=1;ne!==void 0&&ie!==void 0&&($e=ie/ne,ye=xe/se,me=be.width/ne*ie/ne,Ee=be.height/se*xe/se),he===void 0&&(he=H,de=Q,H=0,Q=0),ne!==void 0&&ie===void 0&&(ie=ne,xe=se),ne===void 0&&ie===void 0&&(ie=be.width,xe=be.height);for(var re,Ke=this.ctx.transform.decompose(),Be=K(Ke.rotate.shx),ke=new c,Ce=(ke=(ke=(ke=ke.multiply(Ke.translate)).multiply(Ke.skew)).multiply(Ke.scale)).applyToRectangle(new l(he-H*$e,de-Q*ye,ne*me,se*Ee)),De=x.call(this,Ce),Me=[],Ye=0;Ye<De.length;Ye+=1)Me.indexOf(De[Ye])===-1&&Me.push(De[Ye]);if(N(Me),this.autoPaging)for(var et=Me[0],st=Me[Me.length-1],gt=et;gt<st+1;gt++){this.pdf.setPage(gt);var xt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Et=gt===1?this.posY+this.margin[0]:this.margin[0],ot=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],bt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Fe=gt===1?0:ot+(gt-2)*bt;if(this.ctx.clip_path.length!==0){var Jr=this.path;re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(re,this.posX+this.margin[3],-Fe+Et+this.ctx.prevPageLastElemOffset),w.call(this,"fill",!0),this.path=Jr}var Ot=JSON.parse(JSON.stringify(Ce));Ot=y([Ot],this.posX+this.margin[3],-Fe+Et+this.ctx.prevPageLastElemOffset)[0];var va=(gt>et||gt<st)&&g.call(this);va&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],xt,bt,null).clip().discardPath()),this.pdf.addImage($,"JPEG",Ot.x,Ot.y,Ot.w,Ot.h,null,null,Be),va&&this.pdf.restoreGraphicsState()}else this.pdf.addImage($,"JPEG",Ce.x,Ce.y,Ce.w,Ce.h,null,null,Be)};var x=function($,H,Q){var ne=[];H=H||this.pdf.internal.pageSize.width,Q=Q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var se=this.posY+this.ctx.prevPageLastElemOffset;switch($.type){default:case"mt":case"lt":ne.push(Math.floor(($.y+se)/Q)+1);break;case"arc":ne.push(Math.floor(($.y+se-$.radius)/Q)+1),ne.push(Math.floor(($.y+se+$.radius)/Q)+1);break;case"qct":var he=Y(this.ctx.lastPoint.x,this.ctx.lastPoint.y,$.x1,$.y1,$.x,$.y);ne.push(Math.floor((he.y+se)/Q)+1),ne.push(Math.floor((he.y+he.h+se)/Q)+1);break;case"bct":var de=Z(this.ctx.lastPoint.x,this.ctx.lastPoint.y,$.x1,$.y1,$.x2,$.y2,$.x,$.y);ne.push(Math.floor((de.y+se)/Q)+1),ne.push(Math.floor((de.y+de.h+se)/Q)+1);break;case"rect":ne.push(Math.floor(($.y+se)/Q)+1),ne.push(Math.floor(($.y+$.h+se)/Q)+1)}for(var ie=0;ie<ne.length;ie+=1)for(;this.pdf.internal.getNumberOfPages()<ne[ie];)b.call(this);return ne},b=function(){var $=this.fillStyle,H=this.strokeStyle,Q=this.font,ne=this.lineCap,se=this.lineWidth,he=this.lineJoin;this.pdf.addPage(),this.fillStyle=$,this.strokeStyle=H,this.font=Q,this.lineCap=ne,this.lineWidth=se,this.lineJoin=he},y=function($,H,Q){for(var ne=0;ne<$.length;ne++)switch($[ne].type){case"bct":$[ne].x2+=H,$[ne].y2+=Q;case"qct":$[ne].x1+=H,$[ne].y1+=Q;case"mt":case"lt":case"arc":default:$[ne].x+=H,$[ne].y+=Q}return $},N=function($){return $.sort(function(H,Q){return H-Q})},_=function($,H){for(var Q,ne,se=this.fillStyle,he=this.strokeStyle,de=this.lineCap,ie=this.lineWidth,xe=Math.abs(ie*this.ctx.transform.scaleX),be=this.lineJoin,me=JSON.parse(JSON.stringify(this.path)),Ee=JSON.parse(JSON.stringify(this.path)),$e=[],ye=0;ye<Ee.length;ye++)if(Ee[ye].x!==void 0)for(var re=x.call(this,Ee[ye]),Ke=0;Ke<re.length;Ke+=1)$e.indexOf(re[Ke])===-1&&$e.push(re[Ke]);for(var Be=0;Be<$e.length;Be++)for(;this.pdf.internal.getNumberOfPages()<$e[Be];)b.call(this);if(N($e),this.autoPaging)for(var ke=$e[0],Ce=$e[$e.length-1],De=ke;De<Ce+1;De++){this.pdf.setPage(De),this.fillStyle=se,this.strokeStyle=he,this.lineCap=de,this.lineWidth=xe,this.lineJoin=be;var Me=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ye=De===1?this.posY+this.margin[0]:this.margin[0],et=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],st=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],gt=De===1?0:et+(De-2)*st;if(this.ctx.clip_path.length!==0){var xt=this.path;Q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(Q,this.posX+this.margin[3],-gt+Ye+this.ctx.prevPageLastElemOffset),w.call(this,$,!0),this.path=xt}if(ne=JSON.parse(JSON.stringify(me)),this.path=y(ne,this.posX+this.margin[3],-gt+Ye+this.ctx.prevPageLastElemOffset),H===!1||De===0){var Et=(De>ke||De<Ce)&&g.call(this);Et&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Me,st,null).clip().discardPath()),w.call(this,$,H),Et&&this.pdf.restoreGraphicsState()}this.lineWidth=ie}else this.lineWidth=xe,w.call(this,$,H),this.lineWidth=ie;this.path=me},w=function($,H){if(($!=="stroke"||H||!v.call(this))&&($==="stroke"||H||!m.call(this))){for(var Q,ne,se=[],he=this.path,de=0;de<he.length;de++){var ie=he[de];switch(ie.type){case"begin":se.push({begin:!0});break;case"close":se.push({close:!0});break;case"mt":se.push({start:ie,deltas:[],abs:[]});break;case"lt":var xe=se.length;if(he[de-1]&&!isNaN(he[de-1].x)&&(Q=[ie.x-he[de-1].x,ie.y-he[de-1].y],xe>0)){for(;xe>=0;xe--)if(se[xe-1].close!==!0&&se[xe-1].begin!==!0){se[xe-1].deltas.push(Q),se[xe-1].abs.push(ie);break}}break;case"bct":Q=[ie.x1-he[de-1].x,ie.y1-he[de-1].y,ie.x2-he[de-1].x,ie.y2-he[de-1].y,ie.x-he[de-1].x,ie.y-he[de-1].y],se[se.length-1].deltas.push(Q);break;case"qct":var be=he[de-1].x+2/3*(ie.x1-he[de-1].x),me=he[de-1].y+2/3*(ie.y1-he[de-1].y),Ee=ie.x+2/3*(ie.x1-ie.x),$e=ie.y+2/3*(ie.y1-ie.y),ye=ie.x,re=ie.y;Q=[be-he[de-1].x,me-he[de-1].y,Ee-he[de-1].x,$e-he[de-1].y,ye-he[de-1].x,re-he[de-1].y],se[se.length-1].deltas.push(Q);break;case"arc":se.push({deltas:[],abs:[],arc:!0}),Array.isArray(se[se.length-1].abs)&&se[se.length-1].abs.push(ie)}}ne=H?null:$==="stroke"?"stroke":"fill";for(var Ke=!1,Be=0;Be<se.length;Be++)if(se[Be].arc)for(var ke=se[Be].abs,Ce=0;Ce<ke.length;Ce++){var De=ke[Ce];De.type==="arc"?P.call(this,De.x,De.y,De.radius,De.startAngle,De.endAngle,De.counterclockwise,void 0,H,!Ke):D.call(this,De.x,De.y),Ke=!0}else if(se[Be].close===!0)this.pdf.internal.out("h"),Ke=!1;else if(se[Be].begin!==!0){var Me=se[Be].start.x,Ye=se[Be].start.y;M.call(this,se[Be].deltas,Me,Ye),Ke=!0}ne&&T.call(this,ne),H&&F.call(this)}},S=function($){var H=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Q=H*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return $-Q;case"top":return $+H-Q;case"hanging":return $+H-2*Q;case"middle":return $+H/2-Q;case"ideographic":return $;case"alphabetic":default:return $}},O=function($){return $+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var $=function(){};return $.colorStops=[],$.addColorStop=function(H,Q){this.colorStops.push([H,Q])},$.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},$.isCanvasGradient=!0,$},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var P=function($,H,Q,ne,se,he,de,ie,xe){for(var be=W.call(this,Q,ne,se,he),me=0;me<be.length;me++){var Ee=be[me];me===0&&(xe?k.call(this,Ee.x1+$,Ee.y1+H):D.call(this,Ee.x1+$,Ee.y1+H)),U.call(this,$,H,Ee.x2,Ee.y2,Ee.x3,Ee.y3,Ee.x4,Ee.y4)}ie?F.call(this):T.call(this,de)},T=function($){switch($){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},F=function(){this.pdf.clip(),this.pdf.discardPath()},k=function($,H){this.pdf.internal.out(r($)+" "+n(H)+" m")},C=function($){var H;switch($.align){case"right":case"end":H="right";break;case"center":H="center";break;case"left":case"start":default:H="left"}var Q=this.pdf.getTextDimensions($.text),ne=S.call(this,$.y),se=O.call(this,ne)-Q.h,he=this.ctx.transform.applyToPoint(new o($.x,ne)),de=this.ctx.transform.decompose(),ie=new c;ie=(ie=(ie=ie.multiply(de.translate)).multiply(de.skew)).multiply(de.scale);for(var xe,be,me,Ee=this.ctx.transform.applyToRectangle(new l($.x,ne,Q.w,Q.h)),$e=ie.applyToRectangle(new l($.x,se,Q.w,Q.h)),ye=x.call(this,$e),re=[],Ke=0;Ke<ye.length;Ke+=1)re.indexOf(ye[Ke])===-1&&re.push(ye[Ke]);if(N(re),this.autoPaging)for(var Be=re[0],ke=re[re.length-1],Ce=Be;Ce<ke+1;Ce++){this.pdf.setPage(Ce);var De=Ce===1?this.posY+this.margin[0]:this.margin[0],Me=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ye=this.pdf.internal.pageSize.height-this.margin[2],et=Ye-this.margin[0],st=this.pdf.internal.pageSize.width-this.margin[1],gt=st-this.margin[3],xt=Ce===1?0:Me+(Ce-2)*et;if(this.ctx.clip_path.length!==0){var Et=this.path;xe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(xe,this.posX+this.margin[3],-1*xt+De),w.call(this,"fill",!0),this.path=Et}var ot=y([JSON.parse(JSON.stringify($e))],this.posX+this.margin[3],-xt+De+this.ctx.prevPageLastElemOffset)[0];$.scale>=.01&&(be=this.pdf.internal.getFontSize(),this.pdf.setFontSize(be*$.scale),me=this.lineWidth,this.lineWidth=me*$.scale);var bt=this.autoPaging!=="text";if(bt||ot.y+ot.h<=Ye){if(bt||ot.y>=De&&ot.x<=st){var Fe=bt?$.text:this.pdf.splitTextToSize($.text,$.maxWidth||st-ot.x)[0],Jr=y([JSON.parse(JSON.stringify(Ee))],this.posX+this.margin[3],-xt+De+this.ctx.prevPageLastElemOffset)[0],Ot=bt&&(Ce>Be||Ce<ke)&&g.call(this);Ot&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],gt,et,null).clip().discardPath()),this.pdf.text(Fe,Jr.x,Jr.y,{angle:$.angle,align:H,renderingMode:$.renderingMode}),Ot&&this.pdf.restoreGraphicsState()}}else ot.y<Ye&&(this.ctx.prevPageLastElemOffset+=Ye-ot.y);$.scale>=.01&&(this.pdf.setFontSize(be),this.lineWidth=me)}else $.scale>=.01&&(be=this.pdf.internal.getFontSize(),this.pdf.setFontSize(be*$.scale),me=this.lineWidth,this.lineWidth=me*$.scale),this.pdf.text($.text,he.x+this.posX,he.y+this.posY,{angle:$.angle,align:H,renderingMode:$.renderingMode,maxWidth:$.maxWidth}),$.scale>=.01&&(this.pdf.setFontSize(be),this.lineWidth=me)},D=function($,H,Q,ne){Q=Q||0,ne=ne||0,this.pdf.internal.out(r($+Q)+" "+n(H+ne)+" l")},M=function($,H,Q){return this.pdf.lines($,H,Q,null,null)},U=function($,H,Q,ne,se,he,de,ie){this.pdf.internal.out([t(a(Q+$)),t(i(ne+H)),t(a(se+$)),t(i(he+H)),t(a(de+$)),t(i(ie+H)),"c"].join(" "))},W=function($,H,Q,ne){for(var se=2*Math.PI,he=Math.PI/2;H>Q;)H-=se;var de=Math.abs(Q-H);de<se&&ne&&(de=se-de);for(var ie=[],xe=ne?-1:1,be=H;de>1e-5;){var me=be+xe*Math.min(de,he);ie.push(R.call(this,$,be,me)),de-=Math.abs(me-be),be=me}return ie},R=function($,H,Q){var ne=(Q-H)/2,se=$*Math.cos(ne),he=$*Math.sin(ne),de=se,ie=-he,xe=de*de+ie*ie,be=xe+de*se+ie*he,me=4/3*(Math.sqrt(2*xe*be)-be)/(de*he-ie*se),Ee=de-me*ie,$e=ie+me*de,ye=Ee,re=-$e,Ke=ne+H,Be=Math.cos(Ke),ke=Math.sin(Ke);return{x1:$*Math.cos(H),y1:$*Math.sin(H),x2:Ee*Be-$e*ke,y2:Ee*ke+$e*Be,x3:ye*Be-re*ke,y3:ye*ke+re*Be,x4:$*Math.cos(Q),y4:$*Math.sin(Q)}},K=function($){return 180*$/Math.PI},Y=function($,H,Q,ne,se,he){var de=$+.5*(Q-$),ie=H+.5*(ne-H),xe=se+.5*(Q-se),be=he+.5*(ne-he),me=Math.min($,se,de,xe),Ee=Math.max($,se,de,xe),$e=Math.min(H,he,ie,be),ye=Math.max(H,he,ie,be);return new l(me,$e,Ee-me,ye-$e)},Z=function($,H,Q,ne,se,he,de,ie){var xe,be,me,Ee,$e,ye,re,Ke,Be,ke,Ce,De,Me,Ye,et=Q-$,st=ne-H,gt=se-Q,xt=he-ne,Et=de-se,ot=ie-he;for(be=0;be<41;be++)Be=(re=(me=$+(xe=be/40)*et)+xe*(($e=Q+xe*gt)-me))+xe*($e+xe*(se+xe*Et-$e)-re),ke=(Ke=(Ee=H+xe*st)+xe*((ye=ne+xe*xt)-Ee))+xe*(ye+xe*(he+xe*ot-ye)-Ke),be==0?(Ce=Be,De=ke,Me=Be,Ye=ke):(Ce=Math.min(Ce,Be),De=Math.min(De,ke),Me=Math.max(Me,Be),Ye=Math.max(Ye,ke));return new l(Math.round(Ce),Math.round(De),Math.round(Me-Ce),Math.round(Ye-De))},ae=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var $,H,Q=($=this.ctx.lineDash,H=this.ctx.lineDashOffset,JSON.stringify({lineDash:$,lineDashOffset:H}));this.prevLineDash!==Q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Q)}}})(nt.API),function(e){var t=function(i){var o,l,c,u,d,f,h,m,v,g;for(l=[],c=0,u=(i+=o="\0\0\0\0".slice(i.length%4||4)).length;u>c;c+=4)(d=(i.charCodeAt(c)<<24)+(i.charCodeAt(c+1)<<16)+(i.charCodeAt(c+2)<<8)+i.charCodeAt(c+3))!==0?(f=(d=((d=((d=((d=(d-(g=d%85))/85)-(v=d%85))/85)-(m=d%85))/85)-(h=d%85))/85)%85,l.push(f+33,h+33,m+33,v+33,g+33)):l.push(122);return function(x,b){for(var y=b;y>0;y--)x.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},r=function(i){var o,l,c,u,d,f=String,h="length",m=255,v="charCodeAt",g="slice",x="replace";for(i[g](-2),i=i[g](0,-2)[x](/\s/g,"")[x]("z","!!!!!"),c=[],u=0,d=(i+=o="uuuuu"[g](i[h]%5||5))[h];d>u;u+=5)l=52200625*(i[v](u)-33)+614125*(i[v](u+1)-33)+7225*(i[v](u+2)-33)+85*(i[v](u+3)-33)+(i[v](u+4)-33),c.push(m&l>>24,m&l>>16,m&l>>8,m&l);return function(b,y){for(var N=y;N>0;N--)b.pop()}(c,o[h]),f.fromCharCode.apply(f,c)},n=function(i){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),o.test(i)===!1)return"";for(var l="",c=0;c<i.length;c+=2)l+=String.fromCharCode("0x"+(i[c]+i[c+1]));return l},a=function(i){for(var o=new Uint8Array(i.length),l=i.length;l--;)o[l]=i.charCodeAt(l);return i=(o=T0(o)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};e.processDataByFilters=function(i,o){var l=0,c=i||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=a(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(nt.API),function(e){e.loadFile=function(t,r,n){return function(a,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(c,u,d){var f=new XMLHttpRequest,h=0,m=function(v){var g=v.length,x=[],b=String.fromCharCode;for(h=0;h<g;h+=1)x.push(b(255&v.charCodeAt(h)));return x.join("")};if(f.open("GET",c,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?d(m(this.responseText)):d(void 0)}),f.send(null),u&&f.status===200)return m(f.responseText)}(a,i,o)}catch{}return l}(t,r,n)},e.loadImageFile=e.loadFile}(nt.API),function(e){function t(){return(at.html2canvas?Promise.resolve(at.html2canvas):s0(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(at.DOMPurify?Promise.resolve(at.DOMPurify):s0(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var l=jt(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},a=function(o,l){var c=document.createElement(o);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},i=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),c);return u=(u=u.setProgress(1,o,1,[o])).set(l)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(o,l){return o.__proto__=l||i.prototype,o},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(r).then(function(c){return this.set({src:a("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},i.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function c(u,d){for(var f=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),h=u.firstChild;h;h=h.nextSibling)d!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||f.appendChild(c(h,d));return u.nodeType===1&&(u.nodeName==="CANVAS"?(f.width=u.width,f.height=u.height,f.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(f.value=u.value),f.addEventListener("load",function(){f.scrollTop=u.scrollTop,f.scrollLeft=u.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var h=0;h<u.length;++h){var m=u[h],v=m.src.find(function(g){return g.format==="truetype"});v&&c.addFont(v.url,m.ref.name,m.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,c.context2d.save(!0),l(this.prop.container,f)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},i.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},i.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},i.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in i.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},i.prototype.get=function(o,l){return this.then(function(){var c=o in i.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},i.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},i.prototype.setPageSize=function(o){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(o=o||nt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},i.prototype.setProgress=function(o,l,c,u){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(o,l,c,u){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},i.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(u,d){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(f){return c.updateProgress(null,u),f}).then(u,d).then(function(f){return c.updateProgress(1),f})})},i.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then,o&&(o=o.bind(this)),l&&(l=l.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),d=c.call(u,o,l);return i.convert(d,this.__proto__)},i.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},i.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},i.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return i.convert(l,this)},i.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},i.prototype.error=function(o){return this.then(function(){throw new Error(o)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,nt.getPageSize=function(o,l,c){if(jt(o)==="object"){var u=o;o=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var d,f=(""+c).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+l}var m,v=0,g=0;if(h.hasOwnProperty(f))v=h[f][1]/d,g=h[f][0]/d;else try{v=c[1],g=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",g>v&&(m=g,g=v,v=m);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",v>g&&(m=g,g=v,v=m)}return{width:g,height:v,unit:l,k:d,orientation:o}},e.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(I0):null;var c=new i(l);return l.worker?c:c.from(o).doCallback()}}(nt.API),nt.API.addJS=function(e){return Cw=e,this.internal.events.subscribe("postPutResources",function(){gh=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(gh+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Tw=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Cw+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){gh!==void 0&&Tw!==void 0&&this.internal.out("/Names <</JavaScript "+gh+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var o=a[i],l=n.exec(o);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(i=0;i<u;i++){var f=r.internal.newObject();d.push(f);var h=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var m=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<d.length;i++)r.internal.write("(page_"+(i+1)+")"+d[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+m+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var o={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var o=n.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])}(nt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,i,o,l){var c,u=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(c=function(f){for(var h,m=256*f.charCodeAt(4)+f.charCodeAt(5),v=f.length,g={width:0,height:0,numcomponents:1},x=4;x<v;x+=2){if(x+=m,t.indexOf(f.charCodeAt(x+1))!==-1){h=256*f.charCodeAt(x+5)+f.charCodeAt(x+6),g={width:256*f.charCodeAt(x+7)+f.charCodeAt(x+8),height:h,numcomponents:f.charCodeAt(x+9)};break}m=256*f.charCodeAt(x+2)+f.charCodeAt(x+3)}return g}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}d={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:n,alias:a}}return d}}(nt.API);var xl,vh,Lw,Mw,$w,AG=function(){var e,t,r;function n(i){var o,l,c,u,d,f,h,m,v,g,x,b,y,N;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(o=this.readUInt32(),v=(function(){var _,w;for(w=[],_=0;_<4;++_)w.push(String.fromCharCode(this.data[this.pos++]));return w}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),u=this.readUInt16()||100,f.delay=1e3*d/u,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(v==="fdAT"&&(this.pos+=4,o-=4),i=(f!=null?f.data:void 0)||this.imgData,b=0;0<=o?b<o:b>o;0<=o?++b:--b)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((g=c-this.transparency.indexed.length)>0)for(y=0;0<=g?y<g:y>g;0<=g?++y:--y)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":h=(x=this.read(o)).indexOf(0),m=String.fromCharCode.apply(String,x.slice(0,h)),this.text[m]=String.fromCharCode.apply(String,x.slice(h+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(N=this.colorType)===4||N===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var o,l;for(l=[],o=0;0<=i?o<i:o>i;0<=i?++o:--o)l.push(this.data[this.pos++]);return l},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var o=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*o),c=0,u=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function d(f,h,m,v){var g,x,b,y,N,_,w,S,O,P,T,F,k,C,D,M,U,W,R,K,Y,Z=Math.ceil((u.width-f)/m),ae=Math.ceil((u.height-h)/v),$=u.width==Z&&u.height==ae;for(C=o*Z,F=$?l:new Uint8Array(C*ae),_=i.length,k=0,x=0;k<ae&&c<_;){switch(i[c++]){case 0:for(y=U=0;U<C;y=U+=1)F[x++]=i[c++];break;case 1:for(y=W=0;W<C;y=W+=1)g=i[c++],N=y<o?0:F[x-o],F[x++]=(g+N)%256;break;case 2:for(y=R=0;R<C;y=R+=1)g=i[c++],b=(y-y%o)/o,D=k&&F[(k-1)*C+b*o+y%o],F[x++]=(D+g)%256;break;case 3:for(y=K=0;K<C;y=K+=1)g=i[c++],b=(y-y%o)/o,N=y<o?0:F[x-o],D=k&&F[(k-1)*C+b*o+y%o],F[x++]=(g+Math.floor((N+D)/2))%256;break;case 4:for(y=Y=0;Y<C;y=Y+=1)g=i[c++],b=(y-y%o)/o,N=y<o?0:F[x-o],k===0?D=M=0:(D=F[(k-1)*C+b*o+y%o],M=b&&F[(k-1)*C+(b-1)*o+y%o]),w=N+D-M,S=Math.abs(w-N),P=Math.abs(w-D),T=Math.abs(w-M),O=S<=P&&S<=T?N:P<=T?D:M,F[x++]=(g+O)%256;break;default:throw new Error("Invalid filter algorithm: "+i[c-1])}if(!$){var H=((h+k*v)*u.width+f)*o,Q=k*C;for(y=0;y<Z;y+=1){for(var ne=0;ne<o;ne+=1)l[H++]=F[Q++];H+=(m-1)*o}}k++}}return i=aG(i),u.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),l},n.prototype.decodePalette=function(){var i,o,l,c,u,d,f,h,m;for(l=this.palette,d=this.transparency.indexed||[],u=new Uint8Array((d.length||0)+l.length),c=0,i=0,o=f=0,h=l.length;f<h;o=f+=3)u[c++]=l[o],u[c++]=l[o+1],u[c++]=l[o+2],u[c++]=(m=d[i++])!=null?m:255;return u},n.prototype.copyToImageData=function(i,o){var l,c,u,d,f,h,m,v,g,x,b;if(c=this.colors,g=null,l=this.hasAlphaChannel,this.palette.length&&(g=(b=this._decodedPalette)!=null?b:this._decodedPalette=this.decodePalette(),c=4,l=!0),v=(u=i.data||i).length,f=g||o,d=h=0,c===1)for(;d<v;)m=g?4*o[d/4]:h,x=f[m++],u[d++]=x,u[d++]=x,u[d++]=x,u[d++]=l?f[m++]:255,h=m;else for(;d<v;)m=g?4*o[d/4]:h,u[d++]=f[m++],u[d++]=f[m++],u[d++]=f[m++],u[d++]=l?f[m++]:255,h=m},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var a=function(){if(Object.prototype.toString.call(at)==="[object Window]"){try{t=at.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return a(),e=function(i){var o;if(a()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var o,l,c,u,d,f,h,m;if(this.animation){for(m=[],l=d=0,f=(h=this.animation.frames).length;d<f;l=++d)o=h[l],c=i.createImageData(o.width,o.height),u=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(c,u),o.imageData=c,m.push(o.image=e(c));return m}},n.prototype.renderFrame=function(i,o){var l,c,u;return l=(c=this.animation.frames)[o],u=c[o-1],o===0&&i.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?i.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&i.putImageData(u.imageData,u.xOffset,u.yOffset),l.blendOp===0&&i.clearRect(l.xOffset,l.yOffset,l.width,l.height),i.drawImage(l.image,l.xOffset,l.yOffset)},n.prototype.animate=function(i){var o,l,c,u,d,f,h=this;return l=0,f=this.animation,u=f.numFrames,c=f.frames,d=f.numPlays,(o=function(){var m,v;if(m=l++%u,v=c[m],h.renderFrame(i,m),u>1&&l/u<d)return h.animation._timeout=setTimeout(o,v.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var o,l;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,o=i.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(l=o.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),o.putImageData(l,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function OG(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,o=1<<(7&a)+1;e[t++],e[t++];var l=null,c=null;i&&(l=t,c=o,t+=3*o);var u=!0,d=[],f=0,h=null,m=0,v=null;for(this.width=r,this.height=n;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,v=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((k=e[t++])>=0))throw Error("Invalid block size");if(k===0)break;t+=k}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var g=e[t++];f=e[t++]|e[t++]<<8,h=e[t++],!(1&g)&&(h=null),m=g>>2&7,t++;break;case 254:for(;;){if(!((k=e[t++])>=0))throw Error("Invalid block size");if(k===0)break;t+=k}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var x=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,N=e[t++]|e[t++]<<8,_=e[t++],w=_>>6&1,S=1<<(7&_)+1,O=l,P=c,T=!1;_>>7&&(T=!0,O=t,P=S,t+=3*S);var F=t;for(t++;;){var k;if(!((k=e[t++])>=0))throw Error("Invalid block size");if(k===0)break;t+=k}d.push({x,y:b,width:y,height:N,has_local_palette:T,palette_offset:O,palette_size:P,data_offset:F,data_length:t-F,transparent_index:h,interlaced:!!w,delay:f,disposal:m});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return v},this.frameInfo=function(C){if(C<0||C>=d.length)throw new Error("Frame index out of range.");return d[C]},this.decodeAndBlitFrameBGRA=function(C,D){var M=this.frameInfo(C),U=M.width*M.height,W=new Uint8Array(U);Dw(e,M.data_offset,W,U);var R=M.palette_offset,K=M.transparent_index;K===null&&(K=256);var Y=M.width,Z=r-Y,ae=Y,$=4*(M.y*r+M.x),H=4*((M.y+M.height)*r+M.x),Q=$,ne=4*Z;M.interlaced===!0&&(ne+=4*r*7);for(var se=8,he=0,de=W.length;he<de;++he){var ie=W[he];if(ae===0&&(ae=Y,(Q+=ne)>=H&&(ne=4*Z+4*r*(se-1),Q=$+(Y+Z)*(se<<1),se>>=1)),ie===K)Q+=4;else{var xe=e[R+3*ie],be=e[R+3*ie+1],me=e[R+3*ie+2];D[Q++]=me,D[Q++]=be,D[Q++]=xe,D[Q++]=255}--ae}},this.decodeAndBlitFrameRGBA=function(C,D){var M=this.frameInfo(C),U=M.width*M.height,W=new Uint8Array(U);Dw(e,M.data_offset,W,U);var R=M.palette_offset,K=M.transparent_index;K===null&&(K=256);var Y=M.width,Z=r-Y,ae=Y,$=4*(M.y*r+M.x),H=4*((M.y+M.height)*r+M.x),Q=$,ne=4*Z;M.interlaced===!0&&(ne+=4*r*7);for(var se=8,he=0,de=W.length;he<de;++he){var ie=W[he];if(ae===0&&(ae=Y,(Q+=ne)>=H&&(ne=4*Z+4*r*(se-1),Q=$+(Y+Z)*(se<<1),se>>=1)),ie===K)Q+=4;else{var xe=e[R+3*ie],be=e[R+3*ie+1],me=e[R+3*ie+2];D[Q++]=xe,D[Q++]=be,D[Q++]=me,D[Q++]=255}--ae}}}function Dw(e,t,r,n){for(var a=e[t++],i=1<<a,o=i+1,l=o+1,c=a+1,u=(1<<c)-1,d=0,f=0,h=0,m=e[t++],v=new Int32Array(4096),g=null;;){for(;d<16&&m!==0;)f|=e[t++]<<d,d+=8,m===1?m=e[t++]:--m;if(d<c)break;var x=f&u;if(f>>=c,d-=c,x!==i){if(x===o)break;for(var b=x<l?x:g,y=0,N=b;N>i;)N=v[N]>>8,++y;var _=N;if(h+y+(b!==x?1:0)>n)return void qt.log("Warning, gif stream longer than expected.");r[h++]=_;var w=h+=y;for(b!==x&&(r[h++]=_),N=b;y--;)N=v[N],r[--w]=255&N,N>>=8;g!==null&&l<4096&&(v[l++]=g<<8|_,l>=u+1&&c<12&&(++c,u=u<<1|1)),g=x}else l=o+1,u=(1<<(c=a+1))-1,g=null}return h!==n&&qt.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Cv(e){var t,r,n,a,i,o=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),f=new Array(65535),h=new Array(65535),m=new Array(64),v=new Array(64),g=[],x=0,b=7,y=new Array(64),N=new Array(64),_=new Array(64),w=new Array(256),S=new Array(2048),O=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],P=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],k=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],C=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],M=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],U=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function W($,H){for(var Q=0,ne=0,se=new Array,he=1;he<=16;he++){for(var de=1;de<=$[he];de++)se[H[ne]]=[],se[H[ne]][0]=Q,se[H[ne]][1]=he,ne++,Q++;Q*=2}return se}function R($){for(var H=$[0],Q=$[1]-1;Q>=0;)H&1<<Q&&(x|=1<<b),Q--,--b<0&&(x==255?(K(255),K(0)):K(x),b=7,x=0)}function K($){g.push($)}function Y($){K($>>8&255),K(255&$)}function Z($,H,Q,ne,se){for(var he,de=se[0],ie=se[240],xe=function(ke,Ce){var De,Me,Ye,et,st,gt,xt,Et,ot,bt,Fe=0;for(ot=0;ot<8;++ot){De=ke[Fe],Me=ke[Fe+1],Ye=ke[Fe+2],et=ke[Fe+3],st=ke[Fe+4],gt=ke[Fe+5],xt=ke[Fe+6];var Jr=De+(Et=ke[Fe+7]),Ot=De-Et,va=Me+xt,Ft=Me-xt,rr=Ye+gt,Va=Ye-gt,Tt=et+st,Ms=et-st,sr=Jr+Tt,ya=Jr-Tt,xi=va+rr,or=va-rr;ke[Fe]=sr+xi,ke[Fe+4]=sr-xi;var ut=.707106781*(or+ya);ke[Fe+2]=ya+ut,ke[Fe+6]=ya-ut;var Ct=.382683433*((sr=Ms+Va)-(or=Ft+Ot)),$s=.5411961*sr+Ct,Gr=1.306562965*or+Ct,Ya=.707106781*(xi=Va+Ft),Ka=Ot+Ya,tt=Ot-Ya;ke[Fe+5]=tt+$s,ke[Fe+3]=tt-$s,ke[Fe+1]=Ka+Gr,ke[Fe+7]=Ka-Gr,Fe+=8}for(Fe=0,ot=0;ot<8;++ot){De=ke[Fe],Me=ke[Fe+8],Ye=ke[Fe+16],et=ke[Fe+24],st=ke[Fe+32],gt=ke[Fe+40],xt=ke[Fe+48];var ba=De+(Et=ke[Fe+56]),Xa=De-Et,jn=Me+xt,Pr=Me-xt,xr=Ye+gt,$n=Ye-gt,zo=et+st,wi=et-st,xa=ba+zo,wa=ba-zo,ja=jn+xr,Ja=jn-xr;ke[Fe]=xa+ja,ke[Fe+32]=xa-ja;var Vn=.707106781*(Ja+wa);ke[Fe+16]=wa+Vn,ke[Fe+48]=wa-Vn;var Za=.382683433*((xa=wi+$n)-(Ja=Pr+Xa)),Ds=.5411961*xa+Za,Uo=1.306562965*Ja+Za,Wo=.707106781*(ja=$n+Pr),Ho=Xa+Wo,Go=Xa-Wo;ke[Fe+40]=Go+Ds,ke[Fe+24]=Go-Ds,ke[Fe+8]=Ho+Uo,ke[Fe+56]=Ho-Uo,Fe++}for(ot=0;ot<64;++ot)bt=ke[ot]*Ce[ot],m[ot]=bt>0?bt+.5|0:bt-.5|0;return m}($,H),be=0;be<64;++be)v[O[be]]=xe[be];var me=v[0]-Q;Q=v[0],me==0?R(ne[0]):(R(ne[h[he=32767+me]]),R(f[he]));for(var Ee=63;Ee>0&&v[Ee]==0;)Ee--;if(Ee==0)return R(de),Q;for(var $e,ye=1;ye<=Ee;){for(var re=ye;v[ye]==0&&ye<=Ee;)++ye;var Ke=ye-re;if(Ke>=16){$e=Ke>>4;for(var Be=1;Be<=$e;++Be)R(ie);Ke&=15}he=32767+v[ye],R(se[(Ke<<4)+h[he]]),R(f[he]),ye++}return Ee!=63&&R(de),Q}function ae($){$=Math.min(Math.max($,1),100),i!=$&&(function(H){for(var Q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ne=0;ne<64;ne++){var se=o((Q[ne]*H+50)/100);se=Math.min(Math.max(se,1),255),l[O[ne]]=se}for(var he=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],de=0;de<64;de++){var ie=o((he[de]*H+50)/100);ie=Math.min(Math.max(ie,1),255),c[O[de]]=ie}for(var xe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],be=0,me=0;me<8;me++)for(var Ee=0;Ee<8;Ee++)u[be]=1/(l[O[be]]*xe[me]*xe[Ee]*8),d[be]=1/(c[O[be]]*xe[me]*xe[Ee]*8),be++}($<50?Math.floor(5e3/$):Math.floor(200-2*$)),i=$)}this.encode=function($,H){H&&ae(H),g=new Array,x=0,b=7,Y(65496),Y(65504),Y(16),K(74),K(70),K(73),K(70),K(0),K(1),K(1),K(0),Y(1),Y(1),K(0),K(0),function(){Y(65499),Y(132),K(0);for(var Me=0;Me<64;Me++)K(l[Me]);K(1);for(var Ye=0;Ye<64;Ye++)K(c[Ye])}(),function(Me,Ye){Y(65472),Y(17),K(8),Y(Ye),Y(Me),K(3),K(1),K(17),K(0),K(2),K(17),K(1),K(3),K(17),K(1)}($.width,$.height),function(){Y(65476),Y(418),K(0);for(var Me=0;Me<16;Me++)K(P[Me+1]);for(var Ye=0;Ye<=11;Ye++)K(T[Ye]);K(16);for(var et=0;et<16;et++)K(F[et+1]);for(var st=0;st<=161;st++)K(k[st]);K(1);for(var gt=0;gt<16;gt++)K(C[gt+1]);for(var xt=0;xt<=11;xt++)K(D[xt]);K(17);for(var Et=0;Et<16;Et++)K(M[Et+1]);for(var ot=0;ot<=161;ot++)K(U[ot])}(),Y(65498),Y(12),K(3),K(1),K(0),K(2),K(17),K(3),K(17),K(0),K(63),K(0);var Q=0,ne=0,se=0;x=0,b=7,this.encode.displayName="_encode_";for(var he,de,ie,xe,be,me,Ee,$e,ye,re=$.data,Ke=$.width,Be=$.height,ke=4*Ke,Ce=0;Ce<Be;){for(he=0;he<ke;){for(be=ke*Ce+he,Ee=-1,$e=0,ye=0;ye<64;ye++)me=be+($e=ye>>3)*ke+(Ee=4*(7&ye)),Ce+$e>=Be&&(me-=ke*(Ce+1+$e-Be)),he+Ee>=ke&&(me-=he+Ee-ke+4),de=re[me++],ie=re[me++],xe=re[me++],y[ye]=(S[de]+S[ie+256>>0]+S[xe+512>>0]>>16)-128,N[ye]=(S[de+768>>0]+S[ie+1024>>0]+S[xe+1280>>0]>>16)-128,_[ye]=(S[de+1280>>0]+S[ie+1536>>0]+S[xe+1792>>0]>>16)-128;Q=Z(y,u,Q,t,n),ne=Z(N,d,ne,r,a),se=Z(_,d,se,r,a),he+=32}Ce+=8}if(b>=0){var De=[];De[1]=b+1,De[0]=(1<<b+1)-1,R(De)}return Y(65497),new Uint8Array(g)},e=e||50,function(){for(var $=String.fromCharCode,H=0;H<256;H++)w[H]=$(H)}(),t=W(P,T),r=W(C,D),n=W(F,k),a=W(M,U),function(){for(var $=1,H=2,Q=1;Q<=15;Q++){for(var ne=$;ne<H;ne++)h[32767+ne]=Q,f[32767+ne]=[],f[32767+ne][1]=Q,f[32767+ne][0]=ne;for(var se=-(H-1);se<=-$;se++)h[32767+se]=Q,f[32767+se]=[],f[32767+se][1]=Q,f[32767+se][0]=H-1+se;$<<=1,H<<=1}}(),function(){for(var $=0;$<256;$++)S[$]=19595*$,S[$+256>>0]=38470*$,S[$+512>>0]=7471*$+32768,S[$+768>>0]=-11059*$,S[$+1024>>0]=-21709*$,S[$+1280>>0]=32768*$+8421375,S[$+1536>>0]=-27439*$,S[$+1792>>0]=-5329*$}(),ae(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ea(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Iw(e){function t(P){if(!P)throw Error("assert :P")}function r(P,T,F){for(var k=0;4>k;k++)if(P[T+k]!=F.charCodeAt(k))return!0;return!1}function n(P,T,F,k,C){for(var D=0;D<C;D++)P[T+D]=F[k+D]}function a(P,T,F,k){for(var C=0;C<k;C++)P[T+C]=F}function i(P){return new Int32Array(P)}function o(P,T){for(var F=[],k=0;k<P;k++)F.push(new T);return F}function l(P,T){var F=[];return function k(C,D,M){for(var U=M[D],W=0;W<U&&(C.push(M.length>D+1?[]:new T),!(M.length<D+1));W++)k(C[W],D+1,M)}(F,0,P),F}var c=function(){var P=this;function T(p,j){for(var E=1<<j-1>>>0;p&E;)E>>>=1;return E?(p&E-1)+E:p}function F(p,j,E,L,B){t(!(L%E));do p[j+(L-=E)]=B;while(0<L)}function k(p,j,E,L,B){if(t(2328>=B),512>=B)var G=i(512);else if((G=i(B))==null)return 0;return function(V,X,J,ee,le,ge){var ve,fe,Oe=X,we=1<<J,ce=i(16),ue=i(16);for(t(le!=0),t(ee!=null),t(V!=null),t(0<J),fe=0;fe<le;++fe){if(15<ee[fe])return 0;++ce[ee[fe]]}if(ce[0]==le)return 0;for(ue[1]=0,ve=1;15>ve;++ve){if(ce[ve]>1<<ve)return 0;ue[ve+1]=ue[ve]+ce[ve]}for(fe=0;fe<le;++fe)ve=ee[fe],0<ee[fe]&&(ge[ue[ve]++]=fe);if(ue[15]==1)return(ee=new C).g=0,ee.value=ge[0],F(V,Oe,1,we,ee),we;var _e,Pe=-1,Ae=we-1,We=0,Ie=1,Qe=1,Re=1<<J;for(fe=0,ve=1,le=2;ve<=J;++ve,le<<=1){if(Ie+=Qe<<=1,0>(Qe-=ce[ve]))return 0;for(;0<ce[ve];--ce[ve])(ee=new C).g=ve,ee.value=ge[fe++],F(V,Oe+We,le,Re,ee),We=T(We,ve)}for(ve=J+1,le=2;15>=ve;++ve,le<<=1){if(Ie+=Qe<<=1,0>(Qe-=ce[ve]))return 0;for(;0<ce[ve];--ce[ve]){if(ee=new C,(We&Ae)!=Pe){for(Oe+=Re,_e=1<<(Pe=ve)-J;15>Pe&&!(0>=(_e-=ce[Pe]));)++Pe,_e<<=1;we+=Re=1<<(_e=Pe-J),V[X+(Pe=We&Ae)].g=_e+J,V[X+Pe].value=Oe-X-Pe}ee.g=ve-J,ee.value=ge[fe++],F(V,Oe+(We>>J),le,Re,ee),We=T(We,ve)}}return Ie!=2*ue[15]-1?0:we}(p,j,E,L,B,G)}function C(){this.value=this.g=0}function D(){this.value=this.g=0}function M(){this.G=o(5,C),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Vr,D)}function U(p,j,E,L){t(p!=null),t(j!=null),t(2147483648>L),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=j,p.pa=E,p.Jd=j,p.Yc=E+L,p.Zc=4<=L?E+L-4+1:E,he(p)}function W(p,j){for(var E=0;0<j--;)E|=ie(p,128)<<j;return E}function R(p,j){var E=W(p,j);return de(p)?-E:E}function K(p,j,E,L){var B,G=0;for(t(p!=null),t(j!=null),t(4294967288>L),p.Sb=L,p.Ra=0,p.u=0,p.h=0,4<L&&(L=4),B=0;B<L;++B)G+=j[E+B]<<8*B;p.Ra=G,p.bb=L,p.oa=j,p.pa=E}function Y(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<ol-8>>>0,++p.bb,p.u-=8;Q(p)&&(p.h=1,p.u=0)}function Z(p,j){if(t(0<=j),!p.h&&j<=sl){var E=H(p)&il[j];return p.u+=j,Y(p),E}return p.h=1,p.u=0}function ae(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function $(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function H(p){return p.Ra>>>(p.u&ol-1)>>>0}function Q(p){return t(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>ol}function ne(p,j){p.u=j,p.h=Q(p)}function se(p){p.u>=mu&&(t(p.u>=mu),Y(p))}function he(p){t(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(t(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function de(p){return W(p,1)}function ie(p,j){var E=p.Ca;0>p.b&&he(p);var L=p.b,B=E*j>>>8,G=(p.I>>>L>B)+0;for(G?(E-=B,p.I-=B+1<<L>>>0):E=B+1,L=E,B=0;256<=L;)B+=8,L>>=8;return L=7^B+Sn[L],p.b-=L,p.Ca=(E<<L)-1,G}function xe(p,j,E){p[j+0]=E>>24&255,p[j+1]=E>>16&255,p[j+2]=E>>8&255,p[j+3]=E>>0&255}function be(p,j){return p[j+0]<<0|p[j+1]<<8}function me(p,j){return be(p,j)|p[j+2]<<16}function Ee(p,j){return be(p,j)|be(p,j+2)<<16}function $e(p,j){var E=1<<j;return t(p!=null),t(0<j),p.X=i(E),p.X==null?0:(p.Mb=32-j,p.Xa=j,1)}function ye(p,j){t(p!=null),t(j!=null),t(p.Xa==j.Xa),n(j.X,0,p.X,0,1<<j.Xa)}function re(){this.X=[],this.Xa=this.Mb=0}function Ke(p,j,E,L){t(E!=null),t(L!=null);var B=E[0],G=L[0];return B==0&&(B=(p*G+j/2)/j),G==0&&(G=(j*B+p/2)/p),0>=B||0>=G?0:(E[0]=B,L[0]=G,1)}function Be(p,j){return p+(1<<j)-1>>>j}function ke(p,j){return((4278255360&p)+(4278255360&j)>>>0&4278255360)+((16711935&p)+(16711935&j)>>>0&16711935)>>>0}function Ce(p,j){P[j]=function(E,L,B,G,V,X,J){var ee;for(ee=0;ee<V;++ee){var le=P[p](X[J+ee-1],B,G+ee);X[J+ee]=ke(E[L+ee],le)}}}function De(){this.ud=this.hd=this.jd=0}function Me(p,j){return((4278124286&(p^j))>>>1)+(p&j)>>>0}function Ye(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function et(p,j){return Ye(p+(p-j+.5>>1))}function st(p,j,E){return Math.abs(j-E)-Math.abs(p-E)}function gt(p,j,E,L,B,G,V){for(L=G[V-1],E=0;E<B;++E)G[V+E]=L=ke(p[j+E],L)}function xt(p,j,E,L,B){var G;for(G=0;G<E;++G){var V=p[j+G],X=V>>8&255,J=16711935&(J=(J=16711935&V)+((X<<16)+X));L[B+G]=(4278255360&V)+J>>>0}}function Et(p,j){j.jd=p>>0&255,j.hd=p>>8&255,j.ud=p>>16&255}function ot(p,j,E,L,B,G){var V;for(V=0;V<L;++V){var X=j[E+V],J=X>>>8,ee=X,le=255&(le=(le=X>>>16)+((p.jd<<24>>24)*(J<<24>>24)>>>5));ee=255&(ee=(ee=ee+((p.hd<<24>>24)*(J<<24>>24)>>>5))+((p.ud<<24>>24)*(le<<24>>24)>>>5)),B[G+V]=(4278255360&X)+(le<<16)+ee}}function bt(p,j,E,L,B){P[j]=function(G,V,X,J,ee,le,ge,ve,fe){for(J=ge;J<ve;++J)for(ge=0;ge<fe;++ge)ee[le++]=B(X[L(G[V++])])},P[p]=function(G,V,X,J,ee,le,ge){var ve=8>>G.b,fe=G.Ea,Oe=G.K[0],we=G.w;if(8>ve)for(G=(1<<G.b)-1,we=(1<<ve)-1;V<X;++V){var ce,ue=0;for(ce=0;ce<fe;++ce)ce&G||(ue=L(J[ee++])),le[ge++]=B(Oe[ue&we]),ue>>=ve}else P["VP8LMapColor"+E](J,ee,Oe,we,le,ge,V,X,fe)}}function Fe(p,j,E,L,B){for(E=j+E;j<E;){var G=p[j++];L[B++]=G>>16&255,L[B++]=G>>8&255,L[B++]=G>>0&255}}function Jr(p,j,E,L,B){for(E=j+E;j<E;){var G=p[j++];L[B++]=G>>16&255,L[B++]=G>>8&255,L[B++]=G>>0&255,L[B++]=G>>24&255}}function Ot(p,j,E,L,B){for(E=j+E;j<E;){var G=(V=p[j++])>>16&240|V>>12&15,V=V>>0&240|V>>28&15;L[B++]=G,L[B++]=V}}function va(p,j,E,L,B){for(E=j+E;j<E;){var G=(V=p[j++])>>16&248|V>>13&7,V=V>>5&224|V>>3&31;L[B++]=G,L[B++]=V}}function Ft(p,j,E,L,B){for(E=j+E;j<E;){var G=p[j++];L[B++]=G>>0&255,L[B++]=G>>8&255,L[B++]=G>>16&255}}function rr(p,j,E,L,B,G){if(G==0)for(E=j+E;j<E;)xe(L,((G=p[j++])[0]>>24|G[1]>>8&65280|G[2]<<8&16711680|G[3]<<24)>>>0),B+=32;else n(L,B,p,j,E)}function Va(p,j){P[j][0]=P[p+"0"],P[j][1]=P[p+"1"],P[j][2]=P[p+"2"],P[j][3]=P[p+"3"],P[j][4]=P[p+"4"],P[j][5]=P[p+"5"],P[j][6]=P[p+"6"],P[j][7]=P[p+"7"],P[j][8]=P[p+"8"],P[j][9]=P[p+"9"],P[j][10]=P[p+"10"],P[j][11]=P[p+"11"],P[j][12]=P[p+"12"],P[j][13]=P[p+"13"],P[j][14]=P[p+"0"],P[j][15]=P[p+"0"]}function Tt(p){return p==Vg||p==Yg||p==Kf||p==Kg}function Ms(){this.eb=[],this.size=this.A=this.fb=0}function sr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ya(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ms,this.f.kb=new sr,this.sd=null}function xi(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function or(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ut(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function Ct(p,j){var E=p.T,L=j.ba.f.RGBA,B=L.eb,G=L.fb+p.ka*L.A,V=Qn[j.ba.S],X=p.y,J=p.O,ee=p.f,le=p.N,ge=p.ea,ve=p.W,fe=j.cc,Oe=j.dc,we=j.Mc,ce=j.Nc,ue=p.ka,_e=p.ka+p.T,Pe=p.U,Ae=Pe+1>>1;for(ue==0?V(X,J,null,null,ee,le,ge,ve,ee,le,ge,ve,B,G,null,null,Pe):(V(j.ec,j.fc,X,J,fe,Oe,we,ce,ee,le,ge,ve,B,G-L.A,B,G,Pe),++E);ue+2<_e;ue+=2)fe=ee,Oe=le,we=ge,ce=ve,le+=p.Rc,ve+=p.Rc,G+=2*L.A,V(X,(J+=2*p.fa)-p.fa,X,J,fe,Oe,we,ce,ee,le,ge,ve,B,G-L.A,B,G,Pe);return J+=p.fa,p.j+_e<p.o?(n(j.ec,j.fc,X,J,Pe),n(j.cc,j.dc,ee,le,Ae),n(j.Mc,j.Nc,ge,ve,Ae),E--):1&_e||V(X,J,null,null,ee,le,ge,ve,ee,le,ge,ve,B,G+L.A,null,null,Pe),E}function $s(p,j,E){var L=p.F,B=[p.J];if(L!=null){var G=p.U,V=j.ba.S,X=V==Yf||V==Kf;j=j.ba.f.RGBA;var J=[0],ee=p.ka;J[0]=p.T,p.Kb&&(ee==0?--J[0]:(--ee,B[0]-=p.width),p.j+p.ka+p.T==p.o&&(J[0]=p.o-p.j-ee));var le=j.eb;ee=j.fb+ee*j.A,p=Ht(L,B[0],p.width,G,J,le,ee+(X?0:3),j.A),t(E==J),p&&Tt(V)&&Jn(le,ee,X,G,J,j.A)}return 0}function Gr(p){var j=p.ma,E=j.ba.S,L=11>E,B=E==Gf||E==Vf||E==Yf||E==Gg||E==12||Tt(E);if(j.memory=null,j.Ib=null,j.Jb=null,j.Nd=null,!fu(j.Oa,p,B?11:12))return 0;if(B&&Tt(E)&&Te(),p.da)alert("todo:use_scaling");else{if(L){if(j.Ib=ut,p.Kb){if(E=p.U+1>>1,j.memory=i(p.U+2*E),j.memory==null)return 0;j.ec=j.memory,j.fc=0,j.cc=j.ec,j.dc=j.fc+p.U,j.Mc=j.cc,j.Nc=j.dc+E,j.Ib=Ct,Te()}}else alert("todo:EmitYUV");B&&(j.Jb=$s,L&&pe())}if(L&&!u1){for(p=0;256>p;++p)kP[p]=89858*(p-128)+Jf>>Xf,LP[p]=-22014*(p-128)+Jf,CP[p]=-45773*(p-128),TP[p]=113618*(p-128)+Jf>>Xf;for(p=wu;p<Zg;++p)j=76283*(p-16)+Jf>>Xf,MP[p-wu]=Dn(j,255),$P[p-wu]=Dn(j+8>>4,15);u1=1}return 1}function Ya(p){var j=p.ma,E=p.U,L=p.T;return t(!(1&p.ka)),0>=E||0>=L?0:(E=j.Ib(p,j),j.Jb!=null&&j.Jb(p,j,E),j.Dc+=E,1)}function Ka(p){p.ma.memory=null}function tt(p,j,E,L){return Z(p,8)!=47?0:(j[0]=Z(p,14)+1,E[0]=Z(p,14)+1,L[0]=Z(p,1),Z(p,3)!=0?0:!p.h)}function ba(p,j){if(4>p)return p+1;var E=p-2>>1;return(2+(1&p)<<E)+Z(j,E)+1}function Xa(p,j){return 120<j?j-120:1<=(E=((E=gP[j-1])>>4)*p+(8-(15&E)))?E:1;var E}function jn(p,j,E){var L=H(E),B=p[j+=255&L].g-8;return 0<B&&(ne(E,E.u+8),L=H(E),j+=p[j].value,j+=L&(1<<B)-1),ne(E,E.u+p[j].g),p[j].value}function Pr(p,j,E){return E.g+=p.g,E.value+=p.value<<j>>>0,t(8>=E.g),p.g}function xr(p,j,E){var L=p.xc;return t((j=L==0?0:p.vc[p.md*(E>>L)+(j>>L)])<p.Wb),p.Ya[j]}function $n(p,j,E,L){var B=p.ab,G=p.c*j,V=p.C;j=V+j;var X=E,J=L;for(L=p.Ta,E=p.Ua;0<B--;){var ee=p.gc[B],le=V,ge=j,ve=X,fe=J,Oe=(J=L,X=E,ee.Ea);switch(t(le<ge),t(ge<=ee.nc),ee.hc){case 2:Ff(ve,fe,(ge-le)*Oe,J,X);break;case 0:var we=le,ce=ge,ue=J,_e=X,Pe=(Re=ee).Ea;we==0&&(Wg(ve,fe,null,null,1,ue,_e),gt(ve,fe+1,0,0,Pe-1,ue,_e+1),fe+=Pe,_e+=Pe,++we);for(var Ae=1<<Re.b,We=Ae-1,Ie=Be(Pe,Re.b),Qe=Re.K,Re=Re.w+(we>>Re.b)*Ie;we<ce;){var kt=Qe,Lt=Re,At=1;for(pu(ve,fe,ue,_e-Pe,1,ue,_e);At<Pe;){var wt=(At&~We)+Ae;wt>Pe&&(wt=Pe),(0,Zi[kt[Lt++]>>8&15])(ve,fe+ +At,ue,_e+At-Pe,wt-At,ue,_e+At),At=wt}fe+=Pe,_e+=Pe,++we&We||(Re+=Ie)}ge!=ee.nc&&n(J,X-Oe,J,X+(ge-le-1)*Oe,Oe);break;case 1:for(Oe=ve,ce=fe,Pe=(ve=ee.Ea)-(_e=ve&~(ue=(fe=1<<ee.b)-1)),we=Be(ve,ee.b),Ae=ee.K,ee=ee.w+(le>>ee.b)*we;le<ge;){for(We=Ae,Ie=ee,Qe=new De,Re=ce+_e,kt=ce+ve;ce<Re;)Et(We[Ie++],Qe),qs(Qe,Oe,ce,fe,J,X),ce+=fe,X+=fe;ce<kt&&(Et(We[Ie++],Qe),qs(Qe,Oe,ce,Pe,J,X),ce+=Pe,X+=Pe),++le&ue||(ee+=we)}break;case 3:if(ve==J&&fe==X&&0<ee.b){for(ce=J,ve=Oe=X+(ge-le)*Oe-(_e=(ge-le)*Be(ee.Ea,ee.b)),fe=J,ue=X,we=[],_e=(Pe=_e)-1;0<=_e;--_e)we[_e]=fe[ue+_e];for(_e=Pe-1;0<=_e;--_e)ce[ve+_e]=we[_e];Yn(ee,le,ge,J,Oe,J,X)}else Yn(ee,le,ge,ve,fe,J,X)}X=L,J=E}J!=E&&n(L,E,X,J,G)}function zo(p,j){var E=p.V,L=p.Ba+p.c*p.C,B=j-p.C;if(t(j<=p.l.o),t(16>=B),0<B){var G=p.l,V=p.Ta,X=p.Ua,J=G.width;if($n(p,B,E,L),B=X=[X],t((E=p.C)<(L=j)),t(G.v<G.va),L>G.o&&(L=G.o),E<G.j){var ee=G.j-E;E=G.j,B[0]+=ee*J}if(E>=L?E=0:(B[0]+=4*G.v,G.ka=E-G.j,G.U=G.va-G.v,G.T=L-E,E=1),E){if(X=X[0],11>(E=p.ca).S){var le=E.f.RGBA,ge=(L=E.S,B=G.U,G=G.T,ee=le.eb,le.A),ve=G;for(le=le.fb+p.Ma*le.A;0<ve--;){var fe=V,Oe=X,we=B,ce=ee,ue=le;switch(L){case Hf:_n(fe,Oe,we,ce,ue);break;case Gf:fn(fe,Oe,we,ce,ue);break;case Vg:fn(fe,Oe,we,ce,ue),Jn(ce,ue,0,we,1,0);break;case t1:_i(fe,Oe,we,ce,ue);break;case Vf:rr(fe,Oe,we,ce,ue,1);break;case Yg:rr(fe,Oe,we,ce,ue,1),Jn(ce,ue,0,we,1,0);break;case Yf:rr(fe,Oe,we,ce,ue,0);break;case Kf:rr(fe,Oe,we,ce,ue,0),Jn(ce,ue,1,we,1,0);break;case Gg:Qi(fe,Oe,we,ce,ue);break;case Kg:Qi(fe,Oe,we,ce,ue),Wt(ce,ue,we,1,0);break;case r1:Si(fe,Oe,we,ce,ue);break;default:t(0)}X+=J,le+=ge}p.Ma+=G}else alert("todo:EmitRescaledRowsYUVA");t(p.Ma<=E.height)}}p.C=j,t(p.C<=p.i)}function wi(p){var j;if(0<p.ua)return 0;for(j=0;j<p.Wb;++j){var E=p.Ya[j].G,L=p.Ya[j].H;if(0<E[1][L[1]+0].g||0<E[2][L[2]+0].g||0<E[3][L[3]+0].g)return 0}return 1}function xa(p,j,E,L,B,G){if(p.Z!=0){var V=p.qd,X=p.rd;for(t(ns[p.Z]!=null);j<E;++j)ns[p.Z](V,X,L,B,L,B,G),V=L,X=B,B+=G;p.qd=V,p.rd=X}}function wa(p,j){var E=p.l.ma,L=E.Z==0||E.Z==1?p.l.j:p.C;if(L=p.C<L?L:p.C,t(j<=p.l.o),j>L){var B=p.l.width,G=E.ca,V=E.tb+B*L,X=p.V,J=p.Ba+p.c*L,ee=p.gc;t(p.ab==1),t(ee[0].hc==3),Bf(ee[0],L,j,X,J,G,V),xa(E,L,j,G,V,B)}p.C=p.Ma=j}function ja(p,j,E,L,B,G,V){var X=p.$/L,J=p.$%L,ee=p.m,le=p.s,ge=E+p.$,ve=ge;B=E+L*B;var fe=E+L*G,Oe=280+le.ua,we=p.Pb?X:16777216,ce=0<le.ua?le.Wa:null,ue=le.wc,_e=ge<fe?xr(le,J,X):null;t(p.C<G),t(fe<=B);var Pe=!1;e:for(;;){for(;Pe||ge<fe;){var Ae=0;if(X>=we){var We=ge-E;t((we=p).Pb),we.wd=we.m,we.xd=We,0<we.s.ua&&ye(we.s.Wa,we.s.vb),we=X+yP}if(J&ue||(_e=xr(le,J,X)),t(_e!=null),_e.Qb&&(j[ge]=_e.qb,Pe=!0),!Pe)if(se(ee),_e.jc){Ae=ee,We=j;var Ie=ge,Qe=_e.pd[H(Ae)&Vr-1];t(_e.jc),256>Qe.g?(ne(Ae,Ae.u+Qe.g),We[Ie]=Qe.value,Ae=0):(ne(Ae,Ae.u+Qe.g-256),t(256<=Qe.value),Ae=Qe.value),Ae==0&&(Pe=!0)}else Ae=jn(_e.G[0],_e.H[0],ee);if(ee.h)break;if(Pe||256>Ae){if(!Pe)if(_e.nd)j[ge]=(_e.qb|Ae<<8)>>>0;else{if(se(ee),Pe=jn(_e.G[1],_e.H[1],ee),se(ee),We=jn(_e.G[2],_e.H[2],ee),Ie=jn(_e.G[3],_e.H[3],ee),ee.h)break;j[ge]=(Ie<<24|Pe<<16|Ae<<8|We)>>>0}if(Pe=!1,++ge,++J>=L&&(J=0,++X,V!=null&&X<=G&&!(X%16)&&V(p,X),ce!=null))for(;ve<ge;)Ae=j[ve++],ce.X[(506832829*Ae&4294967295)>>>ce.Mb]=Ae}else if(280>Ae){if(Ae=ba(Ae-256,ee),We=jn(_e.G[4],_e.H[4],ee),se(ee),We=Xa(L,We=ba(We,ee)),ee.h)break;if(ge-E<We||B-ge<Ae)break e;for(Ie=0;Ie<Ae;++Ie)j[ge+Ie]=j[ge+Ie-We];for(ge+=Ae,J+=Ae;J>=L;)J-=L,++X,V!=null&&X<=G&&!(X%16)&&V(p,X);if(t(ge<=B),J&ue&&(_e=xr(le,J,X)),ce!=null)for(;ve<ge;)Ae=j[ve++],ce.X[(506832829*Ae&4294967295)>>>ce.Mb]=Ae}else{if(!(Ae<Oe))break e;for(Pe=Ae-280,t(ce!=null);ve<ge;)Ae=j[ve++],ce.X[(506832829*Ae&4294967295)>>>ce.Mb]=Ae;Ae=ge,t(!(Pe>>>(We=ce).Xa)),j[Ae]=We.X[Pe],Pe=!0}Pe||t(ee.h==Q(ee))}if(p.Pb&&ee.h&&ge<B)t(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&ye(p.s.vb,p.s.Wa);else{if(ee.h)break e;V!=null&&V(p,X>G?G:X),p.a=0,p.$=ge-E}return 1}return p.a=3,0}function Ja(p){t(p!=null),p.vc=null,p.yc=null,p.Ya=null;var j=p.Wa;j!=null&&(j.X=null),p.vb=null,t(p!=null)}function Vn(){var p=new Ug;return p==null?null:(p.a=0,p.xb=i1,Va("Predictor","VP8LPredictors"),Va("Predictor","VP8LPredictors_C"),Va("PredictorAdd","VP8LPredictorsAdd"),Va("PredictorAdd","VP8LPredictorsAdd_C"),Ff=xt,qs=ot,_n=Fe,fn=Jr,Qi=Ot,Si=va,_i=Ft,P.VP8LMapColor32b=ll,P.VP8LMapColor8b=qf,p)}function Za(p,j,E,L,B){var G=1,V=[p],X=[j],J=L.m,ee=L.s,le=null,ge=0;e:for(;;){if(E)for(;G&&Z(J,1);){var ve=V,fe=X,Oe=L,we=1,ce=Oe.m,ue=Oe.gc[Oe.ab],_e=Z(ce,2);if(Oe.Oc&1<<_e)G=0;else{switch(Oe.Oc|=1<<_e,ue.hc=_e,ue.Ea=ve[0],ue.nc=fe[0],ue.K=[null],++Oe.ab,t(4>=Oe.ab),_e){case 0:case 1:ue.b=Z(ce,3)+2,we=Za(Be(ue.Ea,ue.b),Be(ue.nc,ue.b),0,Oe,ue.K),ue.K=ue.K[0];break;case 3:var Pe,Ae=Z(ce,8)+1,We=16<Ae?0:4<Ae?1:2<Ae?2:3;if(ve[0]=Be(ue.Ea,We),ue.b=We,Pe=we=Za(Ae,1,0,Oe,ue.K)){var Ie,Qe=Ae,Re=ue,kt=1<<(8>>Re.b),Lt=i(kt);if(Lt==null)Pe=0;else{var At=Re.K[0],wt=Re.w;for(Lt[0]=Re.K[0][0],Ie=1;Ie<1*Qe;++Ie)Lt[Ie]=ke(At[wt+Ie],Lt[Ie-1]);for(;Ie<4*kt;++Ie)Lt[Ie]=0;Re.K[0]=null,Re.K[0]=Lt,Pe=1}}we=Pe;break;case 2:break;default:t(0)}G=we}}if(V=V[0],X=X[0],G&&Z(J,1)&&!(G=1<=(ge=Z(J,4))&&11>=ge)){L.a=3;break e}var Bt;if(Bt=G)t:{var It,mt,jr,An=L,Nr=V,On=X,Mt=ge,Rn=E,Fn=An.m,Fr=An.s,Yr=[null],mn=1,ea=0,ri=vP[Mt];r:for(;;){if(Rn&&Z(Fn,1)){var Br=Z(Fn,3)+2,Ei=Be(Nr,Br),Gs=Be(On,Br),hl=Ei*Gs;if(!Za(Ei,Gs,0,An,Yr))break r;for(Yr=Yr[0],Fr.xc=Br,It=0;It<hl;++It){var as=Yr[It]>>8&65535;Yr[It]=as,as>=mn&&(mn=as+1)}}if(Fn.h)break r;for(mt=0;5>mt;++mt){var cr=n1[mt];!mt&&0<Mt&&(cr+=1<<Mt),ea<cr&&(ea=cr)}var Qg=o(mn*ri,C),h1=mn,m1=o(h1,M);if(m1==null)var Qf=null;else t(65536>=h1),Qf=m1;var ju=i(ea);if(Qf==null||ju==null||Qg==null){An.a=1;break r}var eh=Qg;for(It=jr=0;It<mn;++It){var Oa=Qf[It],ml=Oa.G,pl=Oa.H,p1=0,th=1,g1=0;for(mt=0;5>mt;++mt){cr=n1[mt],ml[mt]=eh,pl[mt]=jr,!mt&&0<Mt&&(cr+=1<<Mt);a:{var rh,ev=cr,nh=An,Nu=ju,RP=eh,FP=jr,tv=0,is=nh.m,BP=Z(is,1);if(a(Nu,0,0,ev),BP){var qP=Z(is,1)+1,zP=Z(is,1),v1=Z(is,zP==0?1:8);Nu[v1]=1,qP==2&&(Nu[v1=Z(is,8)]=1);var ah=1}else{var y1=i(19),b1=Z(is,4)+4;if(19<b1){nh.a=3;var ih=0;break a}for(rh=0;rh<b1;++rh)y1[pP[rh]]=Z(is,3);var rv=void 0,Su=void 0,x1=nh,UP=y1,sh=ev,w1=Nu,nv=0,ss=x1.m,j1=8,N1=o(128,C);n:for(;k(N1,0,7,UP,19);){if(Z(ss,1)){var WP=2+2*Z(ss,3);if((rv=2+Z(ss,WP))>sh)break n}else rv=sh;for(Su=0;Su<sh&&rv--;){se(ss);var S1=N1[0+(127&H(ss))];ne(ss,ss.u+S1.g);var gl=S1.value;if(16>gl)w1[Su++]=gl,gl!=0&&(j1=gl);else{var HP=gl==16,_1=gl-16,GP=hP[_1],A1=Z(ss,fP[_1])+GP;if(Su+A1>sh)break n;for(var VP=HP?j1:0;0<A1--;)w1[Su++]=VP}}nv=1;break n}nv||(x1.a=3),ah=nv}(ah=ah&&!is.h)&&(tv=k(RP,FP,8,Nu,ev)),ah&&tv!=0?ih=tv:(nh.a=3,ih=0)}if(ih==0)break r;if(th&&mP[mt]==1&&(th=eh[jr].g==0),p1+=eh[jr].g,jr+=ih,3>=mt){var _u,av=ju[0];for(_u=1;_u<cr;++_u)ju[_u]>av&&(av=ju[_u]);g1+=av}}if(Oa.nd=th,Oa.Qb=0,th&&(Oa.qb=(ml[3][pl[3]+0].value<<24|ml[1][pl[1]+0].value<<16|ml[2][pl[2]+0].value)>>>0,p1==0&&256>ml[0][pl[0]+0].value&&(Oa.Qb=1,Oa.qb+=ml[0][pl[0]+0].value<<8)),Oa.jc=!Oa.Qb&&6>g1,Oa.jc){var oh,ki=Oa;for(oh=0;oh<Vr;++oh){var os=oh,ls=ki.pd[os],lh=ki.G[0][ki.H[0]+os];256<=lh.value?(ls.g=lh.g+256,ls.value=lh.value):(ls.g=0,ls.value=0,os>>=Pr(lh,8,ls),os>>=Pr(ki.G[1][ki.H[1]+os],16,ls),os>>=Pr(ki.G[2][ki.H[2]+os],0,ls),Pr(ki.G[3][ki.H[3]+os],24,ls))}}}Fr.vc=Yr,Fr.Wb=mn,Fr.Ya=Qf,Fr.yc=Qg,Bt=1;break t}Bt=0}if(!(G=Bt)){L.a=3;break e}if(0<ge){if(ee.ua=1<<ge,!$e(ee.Wa,ge)){L.a=1,G=0;break e}}else ee.ua=0;var iv=L,O1=V,YP=X,sv=iv.s,ov=sv.xc;if(iv.c=O1,iv.i=YP,sv.md=Be(O1,ov),sv.wc=ov==0?-1:(1<<ov)-1,E){L.xb=_P;break e}if((le=i(V*X))==null){L.a=1,G=0;break e}G=(G=ja(L,le,0,V,X,X,null))&&!J.h;break e}return G?(B!=null?B[0]=le:(t(le==null),t(E)),L.$=0,E||Ja(ee)):Ja(ee),G}function Ds(p,j){var E=p.c*p.i,L=E+j+16*j;return t(p.c<=j),p.V=i(L),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+E+j,1)}function Uo(p,j){var E=p.C,L=j-E,B=p.V,G=p.Ba+p.c*E;for(t(j<=p.l.o);0<L;){var V=16<L?16:L,X=p.l.ma,J=p.l.width,ee=J*V,le=X.ca,ge=X.tb+J*E,ve=p.Ta,fe=p.Ua;$n(p,V,B,G),gr(ve,fe,le,ge,ee),xa(X,E,E+V,le,ge,J),L-=V,B+=V*p.c,E+=V}t(E==j),p.C=p.Ma=j}function Wo(){this.ub=this.yd=this.td=this.Rb=0}function Ho(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Go(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function bf(){this.Yb=function(){var p=[];return function j(E,L,B){for(var G=B[L],V=0;V<G&&(E.push(B.length>L+1?[]:0),!(B.length<L+1));V++)j(E[V],L+1,B)}(p,0,[3,11]),p}()}function xg(){this.jb=i(3),this.Wc=l([4,8],bf),this.Xc=l([4,17],bf)}function wg(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Vo(){this.ld=this.La=this.dd=this.tc=0}function xf(){this.Na=this.la=0}function jg(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Xc(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ng(){this.uc=this.M=this.Nb=0,this.wa=Array(new Vo),this.Y=0,this.ya=Array(new Xc),this.aa=0,this.l=new Yo}function wf(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Sg(){this.cb=this.a=0,this.sc="",this.m=new ae,this.Od=new Wo,this.Kc=new Ho,this.ed=new wg,this.Qa=new Go,this.Ic=this.$c=this.Aa=0,this.D=new Ng,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,ae),this.ia=0,this.pb=o(4,jg),this.Pa=new xg,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new wf),this.Hd=0,this.rb=Array(new xf),this.sb=0,this.wa=Array(new Vo),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Xc),this.L=this.aa=0,this.gd=l([4,2],Vo),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Yo(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function _g(){var p=new Sg;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,xu||(xu=Sf)),p}function mr(p,j,E){return p.a==0&&(p.a=j,p.sc=E,p.cb=0),0}function jf(p,j,E){return 3<=E&&p[j+0]==157&&p[j+1]==1&&p[j+2]==42}function Nf(p,j){if(p==null)return 0;if(p.a=0,p.sc="OK",j==null)return mr(p,2,"null VP8Io passed to VP8GetHeaders()");var E=j.data,L=j.w,B=j.ha;if(4>B)return mr(p,7,"Truncated header.");var G=E[L+0]|E[L+1]<<8|E[L+2]<<16,V=p.Od;if(V.Rb=!(1&G),V.td=G>>1&7,V.yd=G>>4&1,V.ub=G>>5,3<V.td)return mr(p,3,"Incorrect keyframe parameters.");if(!V.yd)return mr(p,4,"Frame not displayable.");L+=3,B-=3;var X=p.Kc;if(V.Rb){if(7>B)return mr(p,7,"cannot parse picture header");if(!jf(E,L,B))return mr(p,3,"Bad code word");X.c=16383&(E[L+4]<<8|E[L+3]),X.Td=E[L+4]>>6,X.i=16383&(E[L+6]<<8|E[L+5]),X.Ud=E[L+6]>>6,L+=7,B-=7,p.za=X.c+15>>4,p.Ub=X.i+15>>4,j.width=X.c,j.height=X.i,j.Da=0,j.j=0,j.v=0,j.va=j.width,j.o=j.height,j.da=0,j.ib=j.width,j.hb=j.height,j.U=j.width,j.T=j.height,a((G=p.Pa).jb,0,255,G.jb.length),t((G=p.Qa)!=null),G.Cb=0,G.Bb=0,G.Fb=1,a(G.Zb,0,0,G.Zb.length),a(G.Lb,0,0,G.Lb)}if(V.ub>B)return mr(p,7,"bad partition length");U(G=p.m,E,L,V.ub),L+=V.ub,B-=V.ub,V.Rb&&(X.Ld=de(G),X.Kd=de(G)),X=p.Qa;var J,ee=p.Pa;if(t(G!=null),t(X!=null),X.Cb=de(G),X.Cb){if(X.Bb=de(G),de(G)){for(X.Fb=de(G),J=0;4>J;++J)X.Zb[J]=de(G)?R(G,7):0;for(J=0;4>J;++J)X.Lb[J]=de(G)?R(G,6):0}if(X.Bb)for(J=0;3>J;++J)ee.jb[J]=de(G)?W(G,8):255}else X.Bb=0;if(G.Ka)return mr(p,3,"cannot parse segment header");if((X=p.ed).zd=de(G),X.Tb=W(G,6),X.wb=W(G,3),X.Pc=de(G),X.Pc&&de(G)){for(ee=0;4>ee;++ee)de(G)&&(X.vd[ee]=R(G,6));for(ee=0;4>ee;++ee)de(G)&&(X.od[ee]=R(G,6))}if(p.L=X.Tb==0?0:X.zd?1:2,G.Ka)return mr(p,3,"cannot parse filter header");var le=B;if(B=J=L,L=J+le,X=le,p.Xb=(1<<W(p.m,2))-1,le<3*(ee=p.Xb))E=7;else{for(J+=3*ee,X-=3*ee,le=0;le<ee;++le){var ge=E[B+0]|E[B+1]<<8|E[B+2]<<16;ge>X&&(ge=X),U(p.Jc[+le],E,J,ge),J+=ge,X-=ge,B+=3}U(p.Jc[+ee],E,J,X),E=J<L?0:5}if(E!=0)return mr(p,E,"cannot parse partitions");for(E=W(J=p.m,7),B=de(J)?R(J,4):0,L=de(J)?R(J,4):0,X=de(J)?R(J,4):0,ee=de(J)?R(J,4):0,J=de(J)?R(J,4):0,le=p.Qa,ge=0;4>ge;++ge){if(le.Cb){var ve=le.Zb[ge];le.Fb||(ve+=E)}else{if(0<ge){p.pb[ge]=p.pb[0];continue}ve=E}var fe=p.pb[ge];fe.Sc[0]=Xg[Dn(ve+B,127)],fe.Sc[1]=Jg[Dn(ve+0,127)],fe.Eb[0]=2*Xg[Dn(ve+L,127)],fe.Eb[1]=101581*Jg[Dn(ve+X,127)]>>16,8>fe.Eb[1]&&(fe.Eb[1]=8),fe.Qc[0]=Xg[Dn(ve+ee,117)],fe.Qc[1]=Jg[Dn(ve+J,127)],fe.lc=ve+J}if(!V.Rb)return mr(p,4,"Not a key frame.");for(de(G),V=p.Pa,E=0;4>E;++E){for(B=0;8>B;++B)for(L=0;3>L;++L)for(X=0;11>X;++X)ee=ie(G,NP[E][B][L][X])?W(G,8):wP[E][B][L][X],V.Wc[E][B].Yb[L][X]=ee;for(B=0;17>B;++B)V.Xc[E][B]=V.Wc[E][SP[B]]}return p.kc=de(G),p.kc&&(p.Bd=W(G,8)),p.cb=1}function Sf(p,j,E,L,B,G,V){var X=j[B].Yb[E];for(E=0;16>B;++B){if(!ie(p,X[E+0]))return B;for(;!ie(p,X[E+1]);)if(X=j[++B].Yb[0],E=0,B==16)return 16;var J=j[B+1].Yb;if(ie(p,X[E+2])){var ee=p,le=0;if(ie(ee,(ve=X)[(ge=E)+3]))if(ie(ee,ve[ge+6])){for(X=0,ge=2*(le=ie(ee,ve[ge+8]))+(ve=ie(ee,ve[ge+9+le])),le=0,ve=bP[ge];ve[X];++X)le+=le+ie(ee,ve[X]);le+=3+(8<<ge)}else ie(ee,ve[ge+7])?(le=7+2*ie(ee,165),le+=ie(ee,145)):le=5+ie(ee,159);else le=ie(ee,ve[ge+4])?3+ie(ee,ve[ge+5]):2;X=J[2]}else le=1,X=J[1];J=V+xP[B],0>(ee=p).b&&he(ee);var ge,ve=ee.b,fe=(ge=ee.Ca>>1)-(ee.I>>ve)>>31;--ee.b,ee.Ca+=fe,ee.Ca|=1,ee.I-=(ge+1&fe)<<ve,G[J]=((le^fe)-fe)*L[(0<B)+0]}return 16}function Jc(p){var j=p.rb[p.sb-1];j.la=0,j.Na=0,a(p.zc,0,0,p.zc.length),p.ja=0}function Ag(p,j){if(p==null)return 0;if(j==null)return mr(p,2,"NULL VP8Io parameter in VP8Decode().");if(!p.cb&&!Nf(p,j))return 0;if(t(p.cb),j.ac==null||j.ac(j)){j.ob&&(p.L=0);var E=Zf[p.L];if(p.L==2?(p.yb=0,p.zb=0):(p.yb=j.v-E>>4,p.zb=j.j-E>>4,0>p.yb&&(p.yb=0),0>p.zb&&(p.zb=0)),p.Va=j.o+15+E>>4,p.Hb=j.va+15+E>>4,p.Hb>p.za&&(p.Hb=p.za),p.Va>p.Ub&&(p.Va=p.Ub),0<p.L){var L=p.ed;for(E=0;4>E;++E){var B;if(p.Qa.Cb){var G=p.Qa.Lb[E];p.Qa.Fb||(G+=L.Tb)}else G=L.Tb;for(B=0;1>=B;++B){var V=p.gd[E][B],X=G;if(L.Pc&&(X+=L.vd[0],B&&(X+=L.od[0])),0<(X=0>X?0:63<X?63:X)){var J=X;0<L.wb&&(J=4<L.wb?J>>2:J>>1)>9-L.wb&&(J=9-L.wb),1>J&&(J=1),V.dd=J,V.tc=2*X+J,V.ld=40<=X?2:15<=X?1:0}else V.tc=0;V.La=B}}}E=0}else mr(p,6,"Frame setup failed"),E=p.a;if(E=E==0){if(E){p.$c=0,0<p.Aa||(p.Ic=IP);e:{E=p.Ic,L=4*(J=p.za);var ee=32*J,le=J+1,ge=0<p.L?J*(0<p.Aa?2:1):0,ve=(p.Aa==2?2:1)*J;if((V=L+832+(B=3*(16*E+Zf[p.L])/2*ee)+(G=p.Fa!=null&&0<p.Fa.length?p.Kc.c*p.Kc.i:0))!=V)E=0;else{if(V>p.Vb){if(p.Vb=0,p.Ec=i(V),p.Fc=0,p.Ec==null){E=mr(p,1,"no memory during frame initialization.");break e}p.Vb=V}V=p.Ec,X=p.Fc,p.Ac=V,p.Bc=X,X+=L,p.Gd=o(ee,wf),p.Hd=0,p.rb=o(le+1,xf),p.sb=1,p.wa=ge?o(ge,Vo):null,p.Y=0,p.D.Nb=0,p.D.wa=p.wa,p.D.Y=p.Y,0<p.Aa&&(p.D.Y+=J),t(!0),p.oc=V,p.pc=X,X+=832,p.ya=o(ve,Xc),p.aa=0,p.D.ya=p.ya,p.D.aa=p.aa,p.Aa==2&&(p.D.aa+=J),p.R=16*J,p.B=8*J,J=(ee=Zf[p.L])*p.R,ee=ee/2*p.B,p.sa=V,p.ta=X+J,p.qa=p.sa,p.ra=p.ta+16*E*p.R+ee,p.Ha=p.qa,p.Ia=p.ra+8*E*p.B+ee,p.$c=0,X+=B,p.mb=G?V:null,p.nb=G?X:null,t(X+G<=p.Fc+p.Vb),Jc(p),a(p.Ac,p.Bc,0,L),E=1}}if(E){if(j.ka=0,j.y=p.sa,j.O=p.ta,j.f=p.qa,j.N=p.ra,j.ea=p.Ha,j.Vd=p.Ia,j.fa=p.R,j.Rc=p.B,j.F=null,j.J=0,!Uf){for(E=-255;255>=E;++E)Er[255+E]=0>E?-E:E;for(E=-1020;1020>=E;++E)Oi[1020+E]=-128>E?-128:127<E?127:E;for(E=-112;112>=E;++E)bu[112+E]=-16>E?-16:15<E?15:E;for(E=-255;510>=E;++E)fl[255+E]=0>E?0:255<E?255:E;Uf=1}cl=Eg,Ai=Og,gu=Af,hn=Pg,Kn=Of,pr=_f,ul=nu,zf=Fs,vu=zg,zs=au,Us=qg,es=el,Ws=iu,dl=Df,Hs=$f,ts=ei,yu=Ni,Xn=Bg,Aa[0]=Qa,Aa[1]=kg,Aa[2]=Mg,Aa[3]=$g,Aa[4]=kf,Aa[5]=Zo,Aa[6]=Tf,Aa[7]=eu,Aa[8]=Ig,Aa[9]=Dg,rs[0]=Pf,rs[1]=Cg,rs[2]=ji,rs[3]=Xo,rs[4]=Zr,rs[5]=Lg,rs[6]=Ef,Pi[0]=Ki,Pi[1]=Tg,Pi[2]=Rg,Pi[3]=tu,Pi[4]=Rs,Pi[5]=Fg,Pi[6]=ru,E=1}else E=0}E&&(E=function(fe,Oe){for(fe.M=0;fe.M<fe.Va;++fe.M){var we,ce=fe.Jc[fe.M&fe.Xb],ue=fe.m,_e=fe;for(we=0;we<_e.za;++we){var Pe=ue,Ae=_e,We=Ae.Ac,Ie=Ae.Bc+4*we,Qe=Ae.zc,Re=Ae.ya[Ae.aa+we];if(Ae.Qa.Bb?Re.$b=ie(Pe,Ae.Pa.jb[0])?2+ie(Pe,Ae.Pa.jb[2]):ie(Pe,Ae.Pa.jb[1]):Re.$b=0,Ae.kc&&(Re.Ad=ie(Pe,Ae.Bd)),Re.Za=!ie(Pe,145)+0,Re.Za){var kt=Re.Ob,Lt=0;for(Ae=0;4>Ae;++Ae){var At,wt=Qe[0+Ae];for(At=0;4>At;++At){wt=jP[We[Ie+At]][wt];for(var Bt=a1[ie(Pe,wt[0])];0<Bt;)Bt=a1[2*Bt+ie(Pe,wt[Bt])];wt=-Bt,We[Ie+At]=wt}n(kt,Lt,We,Ie,4),Lt+=4,Qe[0+Ae]=wt}}else wt=ie(Pe,156)?ie(Pe,128)?1:3:ie(Pe,163)?2:0,Re.Ob[0]=wt,a(We,Ie,wt,4),a(Qe,0,wt,4);Re.Dd=ie(Pe,142)?ie(Pe,114)?ie(Pe,183)?1:3:2:0}if(_e.m.Ka)return mr(fe,7,"Premature end-of-partition0 encountered.");for(;fe.ja<fe.za;++fe.ja){if(_e=ce,Pe=(ue=fe).rb[ue.sb-1],We=ue.rb[ue.sb+ue.ja],we=ue.ya[ue.aa+ue.ja],Ie=ue.kc?we.Ad:0)Pe.la=We.la=0,we.Za||(Pe.Na=We.Na=0),we.Hc=0,we.Gc=0,we.ia=0;else{var It,mt;if(Pe=We,We=_e,Ie=ue.Pa.Xc,Qe=ue.ya[ue.aa+ue.ja],Re=ue.pb[Qe.$b],Ae=Qe.ad,kt=0,Lt=ue.rb[ue.sb-1],wt=At=0,a(Ae,kt,0,384),Qe.Za)var jr=0,An=Ie[3];else{Bt=i(16);var Nr=Pe.Na+Lt.Na;if(Nr=xu(We,Ie[1],Nr,Re.Eb,0,Bt,0),Pe.Na=Lt.Na=(0<Nr)+0,1<Nr)cl(Bt,0,Ae,kt);else{var On=Bt[0]+3>>3;for(Bt=0;256>Bt;Bt+=16)Ae[kt+Bt]=On}jr=1,An=Ie[0]}var Mt=15&Pe.la,Rn=15&Lt.la;for(Bt=0;4>Bt;++Bt){var Fn=1&Rn;for(On=mt=0;4>On;++On)Mt=Mt>>1|(Fn=(Nr=xu(We,An,Nr=Fn+(1&Mt),Re.Sc,jr,Ae,kt))>jr)<<7,mt=mt<<2|(3<Nr?3:1<Nr?2:Ae[kt+0]!=0),kt+=16;Mt>>=4,Rn=Rn>>1|Fn<<7,At=(At<<8|mt)>>>0}for(An=Mt,jr=Rn>>4,It=0;4>It;It+=2){for(mt=0,Mt=Pe.la>>4+It,Rn=Lt.la>>4+It,Bt=0;2>Bt;++Bt){for(Fn=1&Rn,On=0;2>On;++On)Nr=Fn+(1&Mt),Mt=Mt>>1|(Fn=0<(Nr=xu(We,Ie[2],Nr,Re.Qc,0,Ae,kt)))<<3,mt=mt<<2|(3<Nr?3:1<Nr?2:Ae[kt+0]!=0),kt+=16;Mt>>=2,Rn=Rn>>1|Fn<<5}wt|=mt<<4*It,An|=Mt<<4<<It,jr|=(240&Rn)<<It}Pe.la=An,Lt.la=jr,Qe.Hc=At,Qe.Gc=wt,Qe.ia=43690&wt?0:Re.ia,Ie=!(At|wt)}if(0<ue.L&&(ue.wa[ue.Y+ue.ja]=ue.gd[we.$b][we.Za],ue.wa[ue.Y+ue.ja].La|=!Ie),_e.Ka)return mr(fe,7,"Premature end-of-file encountered.")}if(Jc(fe),ue=Oe,_e=1,we=(ce=fe).D,Pe=0<ce.L&&ce.M>=ce.zb&&ce.M<=ce.Va,ce.Aa==0)e:{if(we.M=ce.M,we.uc=Pe,du(ce,we),_e=1,we=(mt=ce.D).Nb,Pe=(wt=Zf[ce.L])*ce.R,We=wt/2*ce.B,Bt=16*we*ce.R,On=8*we*ce.B,Ie=ce.sa,Qe=ce.ta-Pe+Bt,Re=ce.qa,Ae=ce.ra-We+On,kt=ce.Ha,Lt=ce.Ia-We+On,Rn=(Mt=mt.M)==0,At=Mt>=ce.Va-1,ce.Aa==2&&du(ce,mt),mt.uc)for(Fn=(Nr=ce).D.M,t(Nr.D.uc),mt=Nr.yb;mt<Nr.Hb;++mt){jr=mt,An=Fn;var Fr=(Yr=(cr=Nr).D).Nb;It=cr.R;var Yr=Yr.wa[Yr.Y+jr],mn=cr.sa,ea=cr.ta+16*Fr*It+16*jr,ri=Yr.dd,Br=Yr.tc;if(Br!=0)if(t(3<=Br),cr.L==1)0<jr&&ts(mn,ea,It,Br+4),Yr.La&&Xn(mn,ea,It,Br),0<An&&Hs(mn,ea,It,Br+4),Yr.La&&yu(mn,ea,It,Br);else{var Ei=cr.B,Gs=cr.qa,hl=cr.ra+8*Fr*Ei+8*jr,as=cr.Ha,cr=cr.Ia+8*Fr*Ei+8*jr;Fr=Yr.ld,0<jr&&(zf(mn,ea,It,Br+4,ri,Fr),zs(Gs,hl,as,cr,Ei,Br+4,ri,Fr)),Yr.La&&(es(mn,ea,It,Br,ri,Fr),dl(Gs,hl,as,cr,Ei,Br,ri,Fr)),0<An&&(ul(mn,ea,It,Br+4,ri,Fr),vu(Gs,hl,as,cr,Ei,Br+4,ri,Fr)),Yr.La&&(Us(mn,ea,It,Br,ri,Fr),Ws(Gs,hl,as,cr,Ei,Br,ri,Fr))}}if(ce.ia&&alert("todo:DitherRow"),ue.put!=null){if(mt=16*Mt,Mt=16*(Mt+1),Rn?(ue.y=ce.sa,ue.O=ce.ta+Bt,ue.f=ce.qa,ue.N=ce.ra+On,ue.ea=ce.Ha,ue.W=ce.Ia+On):(mt-=wt,ue.y=Ie,ue.O=Qe,ue.f=Re,ue.N=Ae,ue.ea=kt,ue.W=Lt),At||(Mt-=wt),Mt>ue.o&&(Mt=ue.o),ue.F=null,ue.J=null,ce.Fa!=null&&0<ce.Fa.length&&mt<Mt&&(ue.J=cu(ce,ue,mt,Mt-mt),ue.F=ce.mb,ue.F==null&&ue.F.length==0)){_e=mr(ce,3,"Could not decode alpha data.");break e}mt<ue.j&&(wt=ue.j-mt,mt=ue.j,t(!(1&wt)),ue.O+=ce.R*wt,ue.N+=ce.B*(wt>>1),ue.W+=ce.B*(wt>>1),ue.F!=null&&(ue.J+=ue.width*wt)),mt<Mt&&(ue.O+=ue.v,ue.N+=ue.v>>1,ue.W+=ue.v>>1,ue.F!=null&&(ue.J+=ue.v),ue.ka=mt-ue.j,ue.U=ue.va-ue.v,ue.T=Mt-mt,_e=ue.put(ue))}we+1!=ce.Ic||At||(n(ce.sa,ce.ta-Pe,Ie,Qe+16*ce.R,Pe),n(ce.qa,ce.ra-We,Re,Ae+8*ce.B,We),n(ce.Ha,ce.Ia-We,kt,Lt+8*ce.B,We))}if(!_e)return mr(fe,6,"Output aborted.")}return 1}(p,j)),j.bc!=null&&j.bc(j),E&=1}return E?(p.cb=0,E):0}function Na(p,j,E,L,B){B=p[j+E+32*L]+(B>>3),p[j+E+32*L]=-256&B?0>B?0:255:B}function Ko(p,j,E,L,B,G){Na(p,j,0,E,L+B),Na(p,j,1,E,L+G),Na(p,j,2,E,L-G),Na(p,j,3,E,L-B)}function Nn(p){return(20091*p>>16)+p}function Zc(p,j,E,L){var B,G=0,V=i(16);for(B=0;4>B;++B){var X=p[j+0]+p[j+8],J=p[j+0]-p[j+8],ee=(35468*p[j+4]>>16)-Nn(p[j+12]),le=Nn(p[j+4])+(35468*p[j+12]>>16);V[G+0]=X+le,V[G+1]=J+ee,V[G+2]=J-ee,V[G+3]=X-le,G+=4,j++}for(B=G=0;4>B;++B)X=(p=V[G+0]+4)+V[G+8],J=p-V[G+8],ee=(35468*V[G+4]>>16)-Nn(V[G+12]),Na(E,L,0,0,X+(le=Nn(V[G+4])+(35468*V[G+12]>>16))),Na(E,L,1,0,J+ee),Na(E,L,2,0,J-ee),Na(E,L,3,0,X-le),G++,L+=32}function _f(p,j,E,L){var B=p[j+0]+4,G=35468*p[j+4]>>16,V=Nn(p[j+4]),X=35468*p[j+1]>>16;Ko(E,L,0,B+V,p=Nn(p[j+1]),X),Ko(E,L,1,B+G,p,X),Ko(E,L,2,B-G,p,X),Ko(E,L,3,B-V,p,X)}function Og(p,j,E,L,B){Zc(p,j,E,L),B&&Zc(p,j+16,E,L+4)}function Af(p,j,E,L){Ai(p,j+0,E,L,1),Ai(p,j+32,E,L+128,1)}function Pg(p,j,E,L){var B;for(p=p[j+0]+4,B=0;4>B;++B)for(j=0;4>j;++j)Na(E,L,j,B,p)}function Of(p,j,E,L){p[j+0]&&hn(p,j+0,E,L),p[j+16]&&hn(p,j+16,E,L+4),p[j+32]&&hn(p,j+32,E,L+128),p[j+48]&&hn(p,j+48,E,L+128+4)}function Eg(p,j,E,L){var B,G=i(16);for(B=0;4>B;++B){var V=p[j+0+B]+p[j+12+B],X=p[j+4+B]+p[j+8+B],J=p[j+4+B]-p[j+8+B],ee=p[j+0+B]-p[j+12+B];G[0+B]=V+X,G[8+B]=V-X,G[4+B]=ee+J,G[12+B]=ee-J}for(B=0;4>B;++B)V=(p=G[0+4*B]+3)+G[3+4*B],X=G[1+4*B]+G[2+4*B],J=G[1+4*B]-G[2+4*B],ee=p-G[3+4*B],E[L+0]=V+X>>3,E[L+16]=ee+J>>3,E[L+32]=V-X>>3,E[L+48]=ee-J>>3,L+=64}function Qc(p,j,E){var L,B=j-32,G=In,V=255-p[B-1];for(L=0;L<E;++L){var X,J=G,ee=V+p[j-1];for(X=0;X<E;++X)p[j+X]=J[ee+p[B+X]];j+=32}}function kg(p,j){Qc(p,j,4)}function Tg(p,j){Qc(p,j,8)}function Cg(p,j){Qc(p,j,16)}function ji(p,j){var E;for(E=0;16>E;++E)n(p,j+32*E,p,j-32,16)}function Xo(p,j){var E;for(E=16;0<E;--E)a(p,j,p[j-1],16),j+=32}function Jo(p,j,E){var L;for(L=0;16>L;++L)a(j,E+32*L,p,16)}function Pf(p,j){var E,L=16;for(E=0;16>E;++E)L+=p[j-1+32*E]+p[j+E-32];Jo(L>>5,p,j)}function Zr(p,j){var E,L=8;for(E=0;16>E;++E)L+=p[j-1+32*E];Jo(L>>4,p,j)}function Lg(p,j){var E,L=8;for(E=0;16>E;++E)L+=p[j+E-32];Jo(L>>4,p,j)}function Ef(p,j){Jo(128,p,j)}function ct(p,j,E){return p+2*j+E+2>>2}function Mg(p,j){var E,L=j-32;for(L=new Uint8Array([ct(p[L-1],p[L+0],p[L+1]),ct(p[L+0],p[L+1],p[L+2]),ct(p[L+1],p[L+2],p[L+3]),ct(p[L+2],p[L+3],p[L+4])]),E=0;4>E;++E)n(p,j+32*E,L,0,L.length)}function $g(p,j){var E=p[j-1],L=p[j-1+32],B=p[j-1+64],G=p[j-1+96];xe(p,j+0,16843009*ct(p[j-1-32],E,L)),xe(p,j+32,16843009*ct(E,L,B)),xe(p,j+64,16843009*ct(L,B,G)),xe(p,j+96,16843009*ct(B,G,G))}function Qa(p,j){var E,L=4;for(E=0;4>E;++E)L+=p[j+E-32]+p[j-1+32*E];for(L>>=3,E=0;4>E;++E)a(p,j+32*E,L,4)}function kf(p,j){var E=p[j-1+0],L=p[j-1+32],B=p[j-1+64],G=p[j-1-32],V=p[j+0-32],X=p[j+1-32],J=p[j+2-32],ee=p[j+3-32];p[j+0+96]=ct(L,B,p[j-1+96]),p[j+1+96]=p[j+0+64]=ct(E,L,B),p[j+2+96]=p[j+1+64]=p[j+0+32]=ct(G,E,L),p[j+3+96]=p[j+2+64]=p[j+1+32]=p[j+0+0]=ct(V,G,E),p[j+3+64]=p[j+2+32]=p[j+1+0]=ct(X,V,G),p[j+3+32]=p[j+2+0]=ct(J,X,V),p[j+3+0]=ct(ee,J,X)}function Tf(p,j){var E=p[j+1-32],L=p[j+2-32],B=p[j+3-32],G=p[j+4-32],V=p[j+5-32],X=p[j+6-32],J=p[j+7-32];p[j+0+0]=ct(p[j+0-32],E,L),p[j+1+0]=p[j+0+32]=ct(E,L,B),p[j+2+0]=p[j+1+32]=p[j+0+64]=ct(L,B,G),p[j+3+0]=p[j+2+32]=p[j+1+64]=p[j+0+96]=ct(B,G,V),p[j+3+32]=p[j+2+64]=p[j+1+96]=ct(G,V,X),p[j+3+64]=p[j+2+96]=ct(V,X,J),p[j+3+96]=ct(X,J,J)}function Zo(p,j){var E=p[j-1+0],L=p[j-1+32],B=p[j-1+64],G=p[j-1-32],V=p[j+0-32],X=p[j+1-32],J=p[j+2-32],ee=p[j+3-32];p[j+0+0]=p[j+1+64]=G+V+1>>1,p[j+1+0]=p[j+2+64]=V+X+1>>1,p[j+2+0]=p[j+3+64]=X+J+1>>1,p[j+3+0]=J+ee+1>>1,p[j+0+96]=ct(B,L,E),p[j+0+64]=ct(L,E,G),p[j+0+32]=p[j+1+96]=ct(E,G,V),p[j+1+32]=p[j+2+96]=ct(G,V,X),p[j+2+32]=p[j+3+96]=ct(V,X,J),p[j+3+32]=ct(X,J,ee)}function eu(p,j){var E=p[j+0-32],L=p[j+1-32],B=p[j+2-32],G=p[j+3-32],V=p[j+4-32],X=p[j+5-32],J=p[j+6-32],ee=p[j+7-32];p[j+0+0]=E+L+1>>1,p[j+1+0]=p[j+0+64]=L+B+1>>1,p[j+2+0]=p[j+1+64]=B+G+1>>1,p[j+3+0]=p[j+2+64]=G+V+1>>1,p[j+0+32]=ct(E,L,B),p[j+1+32]=p[j+0+96]=ct(L,B,G),p[j+2+32]=p[j+1+96]=ct(B,G,V),p[j+3+32]=p[j+2+96]=ct(G,V,X),p[j+3+64]=ct(V,X,J),p[j+3+96]=ct(X,J,ee)}function Dg(p,j){var E=p[j-1+0],L=p[j-1+32],B=p[j-1+64],G=p[j-1+96];p[j+0+0]=E+L+1>>1,p[j+2+0]=p[j+0+32]=L+B+1>>1,p[j+2+32]=p[j+0+64]=B+G+1>>1,p[j+1+0]=ct(E,L,B),p[j+3+0]=p[j+1+32]=ct(L,B,G),p[j+3+32]=p[j+1+64]=ct(B,G,G),p[j+3+64]=p[j+2+64]=p[j+0+96]=p[j+1+96]=p[j+2+96]=p[j+3+96]=G}function Ig(p,j){var E=p[j-1+0],L=p[j-1+32],B=p[j-1+64],G=p[j-1+96],V=p[j-1-32],X=p[j+0-32],J=p[j+1-32],ee=p[j+2-32];p[j+0+0]=p[j+2+32]=E+V+1>>1,p[j+0+32]=p[j+2+64]=L+E+1>>1,p[j+0+64]=p[j+2+96]=B+L+1>>1,p[j+0+96]=G+B+1>>1,p[j+3+0]=ct(X,J,ee),p[j+2+0]=ct(V,X,J),p[j+1+0]=p[j+3+32]=ct(E,V,X),p[j+1+32]=p[j+3+64]=ct(L,E,V),p[j+1+64]=p[j+3+96]=ct(B,L,E),p[j+1+96]=ct(G,B,L)}function Rg(p,j){var E;for(E=0;8>E;++E)n(p,j+32*E,p,j-32,8)}function tu(p,j){var E;for(E=0;8>E;++E)a(p,j,p[j-1],8),j+=32}function Is(p,j,E){var L;for(L=0;8>L;++L)a(j,E+32*L,p,8)}function Ki(p,j){var E,L=8;for(E=0;8>E;++E)L+=p[j+E-32]+p[j-1+32*E];Is(L>>4,p,j)}function Fg(p,j){var E,L=4;for(E=0;8>E;++E)L+=p[j+E-32];Is(L>>3,p,j)}function Rs(p,j){var E,L=4;for(E=0;8>E;++E)L+=p[j-1+32*E];Is(L>>3,p,j)}function ru(p,j){Is(128,p,j)}function Qo(p,j,E){var L=p[j-E],B=p[j+0],G=3*(B-L)+Hg[1020+p[j-2*E]-p[j+E]],V=Wf[112+(G+4>>3)];p[j-E]=In[255+L+Wf[112+(G+3>>3)]],p[j+0]=In[255+B-V]}function Cf(p,j,E,L){var B=p[j+0],G=p[j+E];return Zn[255+p[j-2*E]-p[j-E]]>L||Zn[255+G-B]>L}function Lf(p,j,E,L){return 4*Zn[255+p[j-E]-p[j+0]]+Zn[255+p[j-2*E]-p[j+E]]<=L}function Mf(p,j,E,L,B){var G=p[j-3*E],V=p[j-2*E],X=p[j-E],J=p[j+0],ee=p[j+E],le=p[j+2*E],ge=p[j+3*E];return 4*Zn[255+X-J]+Zn[255+V-ee]>L?0:Zn[255+p[j-4*E]-G]<=B&&Zn[255+G-V]<=B&&Zn[255+V-X]<=B&&Zn[255+ge-le]<=B&&Zn[255+le-ee]<=B&&Zn[255+ee-J]<=B}function $f(p,j,E,L){var B=2*L+1;for(L=0;16>L;++L)Lf(p,j+L,E,B)&&Qo(p,j+L,E)}function ei(p,j,E,L){var B=2*L+1;for(L=0;16>L;++L)Lf(p,j+L*E,1,B)&&Qo(p,j+L*E,1)}function Ni(p,j,E,L){var B;for(B=3;0<B;--B)$f(p,j+=4*E,E,L)}function Bg(p,j,E,L){var B;for(B=3;0<B;--B)ei(p,j+=4,E,L)}function Xi(p,j,E,L,B,G,V,X){for(G=2*G+1;0<B--;){if(Mf(p,j,E,G,V))if(Cf(p,j,E,X))Qo(p,j,E);else{var J=p,ee=j,le=E,ge=J[ee-2*le],ve=J[ee-le],fe=J[ee+0],Oe=J[ee+le],we=J[ee+2*le],ce=27*(_e=Hg[1020+3*(fe-ve)+Hg[1020+ge-Oe]])+63>>7,ue=18*_e+63>>7,_e=9*_e+63>>7;J[ee-3*le]=In[255+J[ee-3*le]+_e],J[ee-2*le]=In[255+ge+ue],J[ee-le]=In[255+ve+ce],J[ee+0]=In[255+fe-ce],J[ee+le]=In[255+Oe-ue],J[ee+2*le]=In[255+we-_e]}j+=L}}function Sa(p,j,E,L,B,G,V,X){for(G=2*G+1;0<B--;){if(Mf(p,j,E,G,V))if(Cf(p,j,E,X))Qo(p,j,E);else{var J=p,ee=j,le=E,ge=J[ee-le],ve=J[ee+0],fe=J[ee+le],Oe=Wf[112+((we=3*(ve-ge))+4>>3)],we=Wf[112+(we+3>>3)],ce=Oe+1>>1;J[ee-2*le]=In[255+J[ee-2*le]+ce],J[ee-le]=In[255+ge+we],J[ee+0]=In[255+ve-Oe],J[ee+le]=In[255+fe-ce]}j+=L}}function nu(p,j,E,L,B,G){Xi(p,j,E,1,16,L,B,G)}function Fs(p,j,E,L,B,G){Xi(p,j,1,E,16,L,B,G)}function qg(p,j,E,L,B,G){var V;for(V=3;0<V;--V)Sa(p,j+=4*E,E,1,16,L,B,G)}function el(p,j,E,L,B,G){var V;for(V=3;0<V;--V)Sa(p,j+=4,1,E,16,L,B,G)}function zg(p,j,E,L,B,G,V,X){Xi(p,j,B,1,8,G,V,X),Xi(E,L,B,1,8,G,V,X)}function au(p,j,E,L,B,G,V,X){Xi(p,j,1,B,8,G,V,X),Xi(E,L,1,B,8,G,V,X)}function iu(p,j,E,L,B,G,V,X){Sa(p,j+4*B,B,1,8,G,V,X),Sa(E,L+4*B,B,1,8,G,V,X)}function Df(p,j,E,L,B,G,V,X){Sa(p,j+4,1,B,8,G,V,X),Sa(E,L+4,1,B,8,G,V,X)}function tl(){this.ba=new ya,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new or,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function su(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ou(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function If(){this.ua=0,this.Wa=new re,this.vb=new re,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new M,this.yc=new C}function Ug(){this.xb=this.a=0,this.l=new Yo,this.ca=new ya,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new $,this.Pb=0,this.wd=new $,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new If,this.ab=0,this.gc=o(4,ou),this.Oc=0}function rl(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Yo,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Bs(p,j,E,L,B,G,V){for(p=p==null?0:p[j+0],j=0;j<V;++j)B[G+j]=p+E[L+j]&255,p=B[G+j]}function lu(p,j,E,L,B,G,V){var X;if(p==null)Bs(null,null,E,L,B,G,V);else for(X=0;X<V;++X)B[G+X]=p[j+X]+E[L+X]&255}function Ji(p,j,E,L,B,G,V){if(p==null)Bs(null,null,E,L,B,G,V);else{var X,J=p[j+0],ee=J,le=J;for(X=0;X<V;++X)ee=le+(J=p[j+X])-ee,le=E[L+X]+(-256&ee?0>ee?0:255:ee)&255,ee=J,B[G+X]=le}}function cu(p,j,E,L){var B=j.width,G=j.o;if(t(p!=null&&j!=null),0>E||0>=L||E+L>G)return null;if(!p.Cc){if(p.ga==null){var V;if(p.ga=new rl,(V=p.ga==null)||(V=j.width*j.o,t(p.Gb.length==0),p.Gb=i(V),p.Uc=0,p.Gb==null?V=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,V=1),V=!V),!V){V=p.ga;var X=p.Fa,J=p.P,ee=p.qc,le=p.mb,ge=p.nb,ve=J+1,fe=ee-1,Oe=V.l;if(t(X!=null&&le!=null&&j!=null),ns[0]=null,ns[1]=Bs,ns[2]=lu,ns[3]=Ji,V.ca=le,V.tb=ge,V.c=j.width,V.i=j.height,t(0<V.c&&0<V.i),1>=ee)j=0;else if(V.$a=X[J+0]>>0&3,V.Z=X[J+0]>>2&3,V.Lc=X[J+0]>>4&3,J=X[J+0]>>6&3,0>V.$a||1<V.$a||4<=V.Z||1<V.Lc||J)j=0;else if(Oe.put=Ya,Oe.ac=Gr,Oe.bc=Ka,Oe.ma=V,Oe.width=j.width,Oe.height=j.height,Oe.Da=j.Da,Oe.v=j.v,Oe.va=j.va,Oe.j=j.j,Oe.o=j.o,V.$a)e:{t(V.$a==1),j=Vn();t:for(;;){if(j==null){j=0;break e}if(t(V!=null),V.mc=j,j.c=V.c,j.i=V.i,j.l=V.l,j.l.ma=V,j.l.width=V.c,j.l.height=V.i,j.a=0,K(j.m,X,ve,fe),!Za(V.c,V.i,1,j,null)||(j.ab==1&&j.gc[0].hc==3&&wi(j.s)?(V.ic=1,X=j.c*j.i,j.Ta=null,j.Ua=0,j.V=i(X),j.Ba=0,j.V==null?(j.a=1,j=0):j=1):(V.ic=0,j=Ds(j,V.c)),!j))break t;j=1;break e}V.mc=null,j=0}else j=fe>=V.c*V.i;V=!j}if(V)return null;p.ga.Lc!=1?p.Ga=0:L=G-E}t(p.ga!=null),t(E+L<=G);e:{if(j=(X=p.ga).c,G=X.l.o,X.$a==0){if(ve=p.rc,fe=p.Vc,Oe=p.Fa,J=p.P+1+E*j,ee=p.mb,le=p.nb+E*j,t(J<=p.P+p.qc),X.Z!=0)for(t(ns[X.Z]!=null),V=0;V<L;++V)ns[X.Z](ve,fe,Oe,J,ee,le,j),ve=ee,fe=le,le+=j,J+=j;else for(V=0;V<L;++V)n(ee,le,Oe,J,j),ve=ee,fe=le,le+=j,J+=j;p.rc=ve,p.Vc=fe}else{if(t(X.mc!=null),j=E+L,t((V=X.mc)!=null),t(j<=V.i),V.C>=j)j=1;else if(X.ic||pe(),X.ic){X=V.V,ve=V.Ba,fe=V.c;var we=V.i,ce=(Oe=1,J=V.$/fe,ee=V.$%fe,le=V.m,ge=V.s,V.$),ue=fe*we,_e=fe*j,Pe=ge.wc,Ae=ce<_e?xr(ge,ee,J):null;t(ce<=ue),t(j<=we),t(wi(ge));t:for(;;){for(;!le.h&&ce<_e;){if(ee&Pe||(Ae=xr(ge,ee,J)),t(Ae!=null),se(le),256>(we=jn(Ae.G[0],Ae.H[0],le)))X[ve+ce]=we,++ce,++ee>=fe&&(ee=0,++J<=j&&!(J%16)&&wa(V,J));else{if(!(280>we)){Oe=0;break t}we=ba(we-256,le);var We,Ie=jn(Ae.G[4],Ae.H[4],le);if(se(le),!(ce>=(Ie=Xa(fe,Ie=ba(Ie,le)))&&ue-ce>=we)){Oe=0;break t}for(We=0;We<we;++We)X[ve+ce+We]=X[ve+ce+We-Ie];for(ce+=we,ee+=we;ee>=fe;)ee-=fe,++J<=j&&!(J%16)&&wa(V,J);ce<_e&&ee&Pe&&(Ae=xr(ge,ee,J))}t(le.h==Q(le))}wa(V,J>j?j:J);break t}!Oe||le.h&&ce<ue?(Oe=0,V.a=le.h?5:3):V.$=ce,j=Oe}else j=ja(V,V.V,V.Ba,V.c,V.i,j,Uo);if(!j){L=0;break e}}E+L>=G&&(p.Cc=1),L=1}if(!L)return null;if(p.Cc&&((L=p.ga)!=null&&(L.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+E*B}function A(p,j,E,L,B,G){for(;0<B--;){var V,X=p,J=j+(E?1:0),ee=p,le=j+(E?0:3);for(V=0;V<L;++V){var ge=ee[le+4*V];ge!=255&&(ge*=32897,X[J+4*V+0]=X[J+4*V+0]*ge>>23,X[J+4*V+1]=X[J+4*V+1]*ge>>23,X[J+4*V+2]=X[J+4*V+2]*ge>>23)}j+=G}}function q(p,j,E,L,B){for(;0<L--;){var G;for(G=0;G<E;++G){var V=p[j+2*G+0],X=15&(ee=p[j+2*G+1]),J=4369*X,ee=(240&ee|ee>>4)*J>>16;p[j+2*G+0]=(240&V|V>>4)*J>>16&240|(15&V|V<<4)*J>>16>>4&15,p[j+2*G+1]=240&ee|X}j+=B}}function te(p,j,E,L,B,G,V,X){var J,ee,le=255;for(ee=0;ee<B;++ee){for(J=0;J<L;++J){var ge=p[j+J];G[V+4*J]=ge,le&=ge}j+=E,V+=X}return le!=255}function oe(p,j,E,L,B){var G;for(G=0;G<B;++G)E[L+G]=p[j+G]>>8}function pe(){Jn=A,Wt=q,Ht=te,gr=oe}function je(p,j,E){P[p]=function(L,B,G,V,X,J,ee,le,ge,ve,fe,Oe,we,ce,ue,_e,Pe){var Ae,We=Pe-1>>1,Ie=X[J+0]|ee[le+0]<<16,Qe=ge[ve+0]|fe[Oe+0]<<16;t(L!=null);var Re=3*Ie+Qe+131074>>2;for(j(L[B+0],255&Re,Re>>16,we,ce),G!=null&&(Re=3*Qe+Ie+131074>>2,j(G[V+0],255&Re,Re>>16,ue,_e)),Ae=1;Ae<=We;++Ae){var kt=X[J+Ae]|ee[le+Ae]<<16,Lt=ge[ve+Ae]|fe[Oe+Ae]<<16,At=Ie+kt+Qe+Lt+524296,wt=At+2*(kt+Qe)>>3;Re=wt+Ie>>1,Ie=(At=At+2*(Ie+Lt)>>3)+kt>>1,j(L[B+2*Ae-1],255&Re,Re>>16,we,ce+(2*Ae-1)*E),j(L[B+2*Ae-0],255&Ie,Ie>>16,we,ce+(2*Ae-0)*E),G!=null&&(Re=At+Qe>>1,Ie=wt+Lt>>1,j(G[V+2*Ae-1],255&Re,Re>>16,ue,_e+(2*Ae-1)*E),j(G[V+2*Ae+0],255&Ie,Ie>>16,ue,_e+(2*Ae+0)*E)),Ie=kt,Qe=Lt}1&Pe||(Re=3*Ie+Qe+131074>>2,j(L[B+Pe-1],255&Re,Re>>16,we,ce+(Pe-1)*E),G!=null&&(Re=3*Qe+Ie+131074>>2,j(G[V+Pe-1],255&Re,Re>>16,ue,_e+(Pe-1)*E)))}}function Te(){Qn[Hf]=AP,Qn[Gf]=s1,Qn[t1]=OP,Qn[Vf]=o1,Qn[Yf]=l1,Qn[Gg]=c1,Qn[r1]=PP,Qn[Vg]=s1,Qn[Yg]=o1,Qn[Kf]=l1,Qn[Kg]=c1}function qe(p){return p&-16384?0>p?0:255:p>>EP}function Xe(p,j){return qe((19077*p>>8)+(26149*j>>8)-14234)}function ht(p,j,E){return qe((19077*p>>8)-(6419*j>>8)-(13320*E>>8)+8708)}function dt(p,j){return qe((19077*p>>8)+(33050*j>>8)-17685)}function St(p,j,E,L,B){L[B+0]=Xe(p,E),L[B+1]=ht(p,j,E),L[B+2]=dt(p,j)}function ar(p,j,E,L,B){L[B+0]=dt(p,j),L[B+1]=ht(p,j,E),L[B+2]=Xe(p,E)}function lr(p,j,E,L,B){var G=ht(p,j,E);j=G<<3&224|dt(p,j)>>3,L[B+0]=248&Xe(p,E)|G>>5,L[B+1]=j}function wr(p,j,E,L,B){var G=240&dt(p,j)|15;L[B+0]=240&Xe(p,E)|ht(p,j,E)>>4,L[B+1]=G}function Qr(p,j,E,L,B){L[B+0]=255,St(p,j,E,L,B+1)}function Rr(p,j,E,L,B){ar(p,j,E,L,B),L[B+3]=255}function _a(p,j,E,L,B){St(p,j,E,L,B),L[B+3]=255}function Dn(p,j){return 0>p?0:p>j?j:p}function ti(p,j,E){P[p]=function(L,B,G,V,X,J,ee,le,ge){for(var ve=le+(-2&ge)*E;le!=ve;)j(L[B+0],G[V+0],X[J+0],ee,le),j(L[B+1],G[V+0],X[J+0],ee,le+E),B+=2,++V,++J,le+=2*E;1&ge&&j(L[B+0],G[V+0],X[J+0],ee,le)}}function Rf(p,j,E){return E==0?p==0?j==0?6:5:j==0?4:0:E}function uu(p,j,E,L,B){switch(p>>>30){case 3:Ai(j,E,L,B,0);break;case 2:pr(j,E,L,B);break;case 1:hn(j,E,L,B)}}function du(p,j){var E,L,B=j.M,G=j.Nb,V=p.oc,X=p.pc+40,J=p.oc,ee=p.pc+584,le=p.oc,ge=p.pc+600;for(E=0;16>E;++E)V[X+32*E-1]=129;for(E=0;8>E;++E)J[ee+32*E-1]=129,le[ge+32*E-1]=129;for(0<B?V[X-1-32]=J[ee-1-32]=le[ge-1-32]=129:(a(V,X-32-1,127,21),a(J,ee-32-1,127,9),a(le,ge-32-1,127,9)),L=0;L<p.za;++L){var ve=j.ya[j.aa+L];if(0<L){for(E=-1;16>E;++E)n(V,X+32*E-4,V,X+32*E+12,4);for(E=-1;8>E;++E)n(J,ee+32*E-4,J,ee+32*E+4,4),n(le,ge+32*E-4,le,ge+32*E+4,4)}var fe=p.Gd,Oe=p.Hd+L,we=ve.ad,ce=ve.Hc;if(0<B&&(n(V,X-32,fe[Oe].y,0,16),n(J,ee-32,fe[Oe].f,0,8),n(le,ge-32,fe[Oe].ea,0,8)),ve.Za){var ue=V,_e=X-32+16;for(0<B&&(L>=p.za-1?a(ue,_e,fe[Oe].y[15],4):n(ue,_e,fe[Oe+1].y,0,4)),E=0;4>E;E++)ue[_e+128+E]=ue[_e+256+E]=ue[_e+384+E]=ue[_e+0+E];for(E=0;16>E;++E,ce<<=2)ue=V,_e=X+d1[E],Aa[ve.Ob[E]](ue,_e),uu(ce,we,16*+E,ue,_e)}else if(ue=Rf(L,B,ve.Ob[0]),rs[ue](V,X),ce!=0)for(E=0;16>E;++E,ce<<=2)uu(ce,we,16*+E,V,X+d1[E]);for(E=ve.Gc,ue=Rf(L,B,ve.Dd),Pi[ue](J,ee),Pi[ue](le,ge),ce=we,ue=J,_e=ee,255&(ve=E>>0)&&(170&ve?gu(ce,256,ue,_e):Kn(ce,256,ue,_e)),ve=le,ce=ge,255&(E>>=8)&&(170&E?gu(we,320,ve,ce):Kn(we,320,ve,ce)),B<p.Ub-1&&(n(fe[Oe].y,0,V,X+480,16),n(fe[Oe].f,0,J,ee+224,8),n(fe[Oe].ea,0,le,ge+224,8)),E=8*G*p.B,fe=p.sa,Oe=p.ta+16*L+16*G*p.R,we=p.qa,ve=p.ra+8*L+E,ce=p.Ha,ue=p.Ia+8*L+E,E=0;16>E;++E)n(fe,Oe+E*p.R,V,X+32*E,16);for(E=0;8>E;++E)n(we,ve+E*p.B,J,ee+32*E,8),n(ce,ue+E*p.B,le,ge+32*E,8)}}function nl(p,j,E,L,B,G,V,X,J){var ee=[0],le=[0],ge=0,ve=J!=null?J.kd:0,fe=J??new su;if(p==null||12>E)return 7;fe.data=p,fe.w=j,fe.ha=E,j=[j],E=[E],fe.gb=[fe.gb];e:{var Oe=j,we=E,ce=fe.gb;if(t(p!=null),t(we!=null),t(ce!=null),ce[0]=0,12<=we[0]&&!r(p,Oe[0],"RIFF")){if(r(p,Oe[0]+8,"WEBP")){ce=3;break e}var ue=Ee(p,Oe[0]+4);if(12>ue||4294967286<ue){ce=3;break e}if(ve&&ue>we[0]-8){ce=7;break e}ce[0]=ue,Oe[0]+=12,we[0]-=12}ce=0}if(ce!=0)return ce;for(ue=0<fe.gb[0],E=E[0];;){e:{var _e=p;we=j,ce=E;var Pe=ee,Ae=le,We=Oe=[0];if((Re=ge=[ge])[0]=0,8>ce[0])ce=7;else{if(!r(_e,we[0],"VP8X")){if(Ee(_e,we[0]+4)!=10){ce=3;break e}if(18>ce[0]){ce=7;break e}var Ie=Ee(_e,we[0]+8),Qe=1+me(_e,we[0]+12);if(2147483648<=Qe*(_e=1+me(_e,we[0]+15))){ce=3;break e}We!=null&&(We[0]=Ie),Pe!=null&&(Pe[0]=Qe),Ae!=null&&(Ae[0]=_e),we[0]+=18,ce[0]-=18,Re[0]=1}ce=0}}if(ge=ge[0],Oe=Oe[0],ce!=0)return ce;if(we=!!(2&Oe),!ue&&ge)return 3;if(G!=null&&(G[0]=!!(16&Oe)),V!=null&&(V[0]=we),X!=null&&(X[0]=0),V=ee[0],Oe=le[0],ge&&we&&J==null){ce=0;break}if(4>E){ce=7;break}if(ue&&ge||!ue&&!ge&&!r(p,j[0],"ALPH")){E=[E],fe.na=[fe.na],fe.P=[fe.P],fe.Sa=[fe.Sa];e:{Ie=p,ce=j,ue=E;var Re=fe.gb;Pe=fe.na,Ae=fe.P,We=fe.Sa,Qe=22,t(Ie!=null),t(ue!=null),_e=ce[0];var kt=ue[0];for(t(Pe!=null),t(We!=null),Pe[0]=null,Ae[0]=null,We[0]=0;;){if(ce[0]=_e,ue[0]=kt,8>kt){ce=7;break e}var Lt=Ee(Ie,_e+4);if(4294967286<Lt){ce=3;break e}var At=8+Lt+1&-2;if(Qe+=At,0<Re&&Qe>Re){ce=3;break e}if(!r(Ie,_e,"VP8 ")||!r(Ie,_e,"VP8L")){ce=0;break e}if(kt[0]<At){ce=7;break e}r(Ie,_e,"ALPH")||(Pe[0]=Ie,Ae[0]=_e+8,We[0]=Lt),_e+=At,kt-=At}}if(E=E[0],fe.na=fe.na[0],fe.P=fe.P[0],fe.Sa=fe.Sa[0],ce!=0)break}E=[E],fe.Ja=[fe.Ja],fe.xa=[fe.xa];e:if(Re=p,ce=j,ue=E,Pe=fe.gb[0],Ae=fe.Ja,We=fe.xa,Ie=ce[0],_e=!r(Re,Ie,"VP8 "),Qe=!r(Re,Ie,"VP8L"),t(Re!=null),t(ue!=null),t(Ae!=null),t(We!=null),8>ue[0])ce=7;else{if(_e||Qe){if(Re=Ee(Re,Ie+4),12<=Pe&&Re>Pe-12){ce=3;break e}if(ve&&Re>ue[0]-8){ce=7;break e}Ae[0]=Re,ce[0]+=8,ue[0]-=8,We[0]=Qe}else We[0]=5<=ue[0]&&Re[Ie+0]==47&&!(Re[Ie+4]>>5),Ae[0]=ue[0];ce=0}if(E=E[0],fe.Ja=fe.Ja[0],fe.xa=fe.xa[0],j=j[0],ce!=0)break;if(4294967286<fe.Ja)return 3;if(X==null||we||(X[0]=fe.xa?2:1),V=[V],Oe=[Oe],fe.xa){if(5>E){ce=7;break}X=V,ve=Oe,we=G,p==null||5>E?p=0:5<=E&&p[j+0]==47&&!(p[j+4]>>5)?(ue=[0],Re=[0],Pe=[0],K(Ae=new $,p,j,E),tt(Ae,ue,Re,Pe)?(X!=null&&(X[0]=ue[0]),ve!=null&&(ve[0]=Re[0]),we!=null&&(we[0]=Pe[0]),p=1):p=0):p=0}else{if(10>E){ce=7;break}X=Oe,p==null||10>E||!jf(p,j+3,E-3)?p=0:(ve=p[j+0]|p[j+1]<<8|p[j+2]<<16,we=16383&(p[j+7]<<8|p[j+6]),p=16383&(p[j+9]<<8|p[j+8]),1&ve||3<(ve>>1&7)||!(ve>>4&1)||ve>>5>=fe.Ja||!we||!p?p=0:(V&&(V[0]=we),X&&(X[0]=p),p=1))}if(!p||(V=V[0],Oe=Oe[0],ge&&(ee[0]!=V||le[0]!=Oe)))return 3;J!=null&&(J[0]=fe,J.offset=j-J.w,t(4294967286>j-J.w),t(J.offset==J.ha-E));break}return ce==0||ce==7&&ge&&J==null?(G!=null&&(G[0]|=fe.na!=null&&0<fe.na.length),L!=null&&(L[0]=V),B!=null&&(B[0]=Oe),0):ce}function fu(p,j,E){var L=j.width,B=j.height,G=0,V=0,X=L,J=B;if(j.Da=p!=null&&0<p.Da,j.Da&&(X=p.cd,J=p.bd,G=p.v,V=p.j,11>E||(G&=-2,V&=-2),0>G||0>V||0>=X||0>=J||G+X>L||V+J>B))return 0;if(j.v=G,j.j=V,j.va=G+X,j.o=V+J,j.U=X,j.T=J,j.da=p!=null&&0<p.da,j.da){if(!Ke(X,J,E=[p.ib],G=[p.hb]))return 0;j.ib=E[0],j.hb=G[0]}return j.ob=p!=null&&p.ob,j.Kb=p==null||!p.Sd,j.da&&(j.ob=j.ib<3*L/4&&j.hb<3*B/4,j.Kb=0),1}function hu(p){if(p==null)return 2;if(11>p.S){var j=p.f.RGBA;j.fb+=(p.height-1)*j.A,j.A=-j.A}else j=p.f.kb,p=p.height,j.O+=(p-1)*j.fa,j.fa=-j.fa,j.N+=(p-1>>1)*j.Ab,j.Ab=-j.Ab,j.W+=(p-1>>1)*j.Db,j.Db=-j.Db,j.F!=null&&(j.J+=(p-1)*j.lb,j.lb=-j.lb);return 0}function al(p,j,E,L){if(L==null||0>=p||0>=j)return 2;if(E!=null){if(E.Da){var B=E.cd,G=E.bd,V=-2&E.v,X=-2&E.j;if(0>V||0>X||0>=B||0>=G||V+B>p||X+G>j)return 2;p=B,j=G}if(E.da){if(!Ke(p,j,B=[E.ib],G=[E.hb]))return 2;p=B[0],j=G[0]}}L.width=p,L.height=j;e:{var J=L.width,ee=L.height;if(p=L.S,0>=J||0>=ee||!(p>=Hf&&13>p))p=2;else{if(0>=L.Rd&&L.sd==null){V=G=B=j=0;var le=(X=J*f1[p])*ee;if(11>p||(G=(ee+1)/2*(j=(J+1)/2),p==12&&(V=(B=J)*ee)),(ee=i(le+2*G+V))==null){p=1;break e}L.sd=ee,11>p?((J=L.f.RGBA).eb=ee,J.fb=0,J.A=X,J.size=le):((J=L.f.kb).y=ee,J.O=0,J.fa=X,J.Fd=le,J.f=ee,J.N=0+le,J.Ab=j,J.Cd=G,J.ea=ee,J.W=0+le+G,J.Db=j,J.Ed=G,p==12&&(J.F=ee,J.J=0+le+2*G),J.Tc=V,J.lb=B)}if(j=1,B=L.S,G=L.width,V=L.height,B>=Hf&&13>B)if(11>B)p=L.f.RGBA,j&=(X=Math.abs(p.A))*(V-1)+G<=p.size,j&=X>=G*f1[B],j&=p.eb!=null;else{p=L.f.kb,X=(G+1)/2,le=(V+1)/2,J=Math.abs(p.fa),ee=Math.abs(p.Ab);var ge=Math.abs(p.Db),ve=Math.abs(p.lb),fe=ve*(V-1)+G;j&=J*(V-1)+G<=p.Fd,j&=ee*(le-1)+X<=p.Cd,j=(j&=ge*(le-1)+X<=p.Ed)&J>=G&ee>=X&ge>=X,j&=p.y!=null,j&=p.f!=null,j&=p.ea!=null,B==12&&(j&=ve>=G,j&=fe<=p.Tc,j&=p.F!=null)}else j=0;p=j?0:2}}return p!=0||E!=null&&E.fd&&(p=hu(L)),p}var Vr=64,il=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],sl=24,ol=32,mu=8,Sn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ce("Predictor0","PredictorAdd0"),P.Predictor0=function(){return 4278190080},P.Predictor1=function(p){return p},P.Predictor2=function(p,j,E){return j[E+0]},P.Predictor3=function(p,j,E){return j[E+1]},P.Predictor4=function(p,j,E){return j[E-1]},P.Predictor5=function(p,j,E){return Me(Me(p,j[E+1]),j[E+0])},P.Predictor6=function(p,j,E){return Me(p,j[E-1])},P.Predictor7=function(p,j,E){return Me(p,j[E+0])},P.Predictor8=function(p,j,E){return Me(j[E-1],j[E+0])},P.Predictor9=function(p,j,E){return Me(j[E+0],j[E+1])},P.Predictor10=function(p,j,E){return Me(Me(p,j[E-1]),Me(j[E+0],j[E+1]))},P.Predictor11=function(p,j,E){var L=j[E+0];return 0>=st(L>>24&255,p>>24&255,(j=j[E-1])>>24&255)+st(L>>16&255,p>>16&255,j>>16&255)+st(L>>8&255,p>>8&255,j>>8&255)+st(255&L,255&p,255&j)?L:p},P.Predictor12=function(p,j,E){var L=j[E+0];return(Ye((p>>24&255)+(L>>24&255)-((j=j[E-1])>>24&255))<<24|Ye((p>>16&255)+(L>>16&255)-(j>>16&255))<<16|Ye((p>>8&255)+(L>>8&255)-(j>>8&255))<<8|Ye((255&p)+(255&L)-(255&j)))>>>0},P.Predictor13=function(p,j,E){var L=j[E-1];return(et((p=Me(p,j[E+0]))>>24&255,L>>24&255)<<24|et(p>>16&255,L>>16&255)<<16|et(p>>8&255,L>>8&255)<<8|et(p>>0&255,L>>0&255))>>>0};var Wg=P.PredictorAdd0;P.PredictorAdd1=gt,Ce("Predictor2","PredictorAdd2"),Ce("Predictor3","PredictorAdd3"),Ce("Predictor4","PredictorAdd4"),Ce("Predictor5","PredictorAdd5"),Ce("Predictor6","PredictorAdd6"),Ce("Predictor7","PredictorAdd7"),Ce("Predictor8","PredictorAdd8"),Ce("Predictor9","PredictorAdd9"),Ce("Predictor10","PredictorAdd10"),Ce("Predictor11","PredictorAdd11"),Ce("Predictor12","PredictorAdd12"),Ce("Predictor13","PredictorAdd13");var pu=P.PredictorAdd2;bt("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),bt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var Ff,Yn=P.ColorIndexInverseTransform,ll=P.MapARGB,Bf=P.VP8LColorIndexInverseTransformAlpha,qf=P.MapAlpha,Zi=P.VP8LPredictorsAdd=[];Zi.length=16,(P.VP8LPredictors=[]).length=16,(P.VP8LPredictorsAdd_C=[]).length=16,(P.VP8LPredictors_C=[]).length=16;var qs,_n,fn,Qi,Si,_i,cl,Ai,pr,gu,hn,Kn,ul,zf,vu,zs,Us,es,Ws,dl,Hs,ts,yu,Xn,Jn,Wt,Ht,gr,Er=i(511),Oi=i(2041),bu=i(225),fl=i(767),Uf=0,Hg=Oi,Wf=bu,In=fl,Zn=Er,Hf=0,Gf=1,t1=2,Vf=3,Yf=4,Gg=5,r1=6,Vg=7,Yg=8,Kf=9,Kg=10,fP=[2,3,7],hP=[3,3,11],n1=[280,256,256,256,40],mP=[0,1,1,1,0],pP=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],gP=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],vP=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],yP=8,Xg=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Jg=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],xu=null,bP=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],xP=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],a1=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],wP=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],jP=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],NP=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],SP=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],rs=[],Aa=[],Pi=[],_P=1,i1=2,ns=[],Qn=[];je("UpsampleRgbLinePair",St,3),je("UpsampleBgrLinePair",ar,3),je("UpsampleRgbaLinePair",_a,4),je("UpsampleBgraLinePair",Rr,4),je("UpsampleArgbLinePair",Qr,4),je("UpsampleRgba4444LinePair",wr,2),je("UpsampleRgb565LinePair",lr,2);var AP=P.UpsampleRgbLinePair,OP=P.UpsampleBgrLinePair,s1=P.UpsampleRgbaLinePair,o1=P.UpsampleBgraLinePair,l1=P.UpsampleArgbLinePair,c1=P.UpsampleRgba4444LinePair,PP=P.UpsampleRgb565LinePair,Xf=16,Jf=1<<Xf-1,wu=-227,Zg=482,EP=6,u1=0,kP=i(256),TP=i(256),CP=i(256),LP=i(256),MP=i(Zg-wu),$P=i(Zg-wu);ti("YuvToRgbRow",St,3),ti("YuvToBgrRow",ar,3),ti("YuvToRgbaRow",_a,4),ti("YuvToBgraRow",Rr,4),ti("YuvToArgbRow",Qr,4),ti("YuvToRgba4444Row",wr,2),ti("YuvToRgb565Row",lr,2);var d1=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Zf=[0,2,8],DP=[8,7,6,4,4,2,2,2,1,1,1,1],IP=1;this.WebPDecodeRGBA=function(p,j,E,L,B){var G=Gf,V=new tl,X=new ya;V.ba=X,X.S=G,X.width=[X.width],X.height=[X.height];var J=X.width,ee=X.height,le=new xi;if(le==null||p==null)var ge=2;else t(le!=null),ge=nl(p,j,E,le.width,le.height,le.Pd,le.Qd,le.format,null);if(ge!=0?J=0:(J!=null&&(J[0]=le.width[0]),ee!=null&&(ee[0]=le.height[0]),J=1),J){X.width=X.width[0],X.height=X.height[0],L!=null&&(L[0]=X.width),B!=null&&(B[0]=X.height);e:{if(L=new Yo,(B=new su).data=p,B.w=j,B.ha=E,B.kd=1,j=[0],t(B!=null),((p=nl(B.data,B.w,B.ha,null,null,null,j,null,B))==0||p==7)&&j[0]&&(p=4),(j=p)==0){if(t(V!=null),L.data=B.data,L.w=B.w+B.offset,L.ha=B.ha-B.offset,L.put=Ya,L.ac=Gr,L.bc=Ka,L.ma=V,B.xa){if((p=Vn())==null){V=1;break e}if(function(ve,fe){var Oe=[0],we=[0],ce=[0];t:for(;;){if(ve==null)return 0;if(fe==null)return ve.a=2,0;if(ve.l=fe,ve.a=0,K(ve.m,fe.data,fe.w,fe.ha),!tt(ve.m,Oe,we,ce)){ve.a=3;break t}if(ve.xb=i1,fe.width=Oe[0],fe.height=we[0],!Za(Oe[0],we[0],1,ve,null))break t;return 1}return t(ve.a!=0),0}(p,L)){if(L=(j=al(L.width,L.height,V.Oa,V.ba))==0){t:{L=p;r:for(;;){if(L==null){L=0;break t}if(t(L.s.yc!=null),t(L.s.Ya!=null),t(0<L.s.Wb),t((E=L.l)!=null),t((B=E.ma)!=null),L.xb!=0){if(L.ca=B.ba,L.tb=B.tb,t(L.ca!=null),!fu(B.Oa,E,Vf)){L.a=2;break r}if(!Ds(L,E.width)||E.da)break r;if((E.da||Tt(L.ca.S))&&pe(),11>L.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),L.ca.f.kb.F!=null&&pe()),L.Pb&&0<L.s.ua&&L.s.vb.X==null&&!$e(L.s.vb,L.s.Wa.Xa)){L.a=1;break r}L.xb=0}if(!ja(L,L.V,L.Ba,L.c,L.i,E.o,zo))break r;B.Dc=L.Ma,L=1;break t}t(L.a!=0),L=0}L=!L}L&&(j=p.a)}else j=p.a}else{if((p=new _g)==null){V=1;break e}if(p.Fa=B.na,p.P=B.P,p.qc=B.Sa,Nf(p,L)){if((j=al(L.width,L.height,V.Oa,V.ba))==0){if(p.Aa=0,E=V.Oa,t((B=p)!=null),E!=null){if(0<(J=0>(J=E.Md)?0:100<J?255:255*J/100)){for(ee=le=0;4>ee;++ee)12>(ge=B.pb[ee]).lc&&(ge.ia=J*DP[0>ge.lc?0:ge.lc]>>3),le|=ge.ia;le&&(alert("todo:VP8InitRandom"),B.ia=1)}B.Ga=E.Id,100<B.Ga?B.Ga=100:0>B.Ga&&(B.Ga=0)}Ag(p,L)||(j=p.a)}}else j=p.a}j==0&&V.Oa!=null&&V.Oa.fd&&(j=hu(V.ba))}V=j}G=V!=0?null:11>G?X.f.RGBA.eb:X.f.kb.y}else G=null;return G};var f1=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(P,T){for(var F="",k=0;k<4;k++)F+=String.fromCharCode(P[T++]);return F}function d(P,T){return(P[T+0]<<0|P[T+1]<<8|P[T+2]<<16)>>>0}function f(P,T){return(P[T+0]<<0|P[T+1]<<8|P[T+2]<<16|P[T+3]<<24)>>>0}new c;var h=[0],m=[0],v=[],g=new c,x=e,b=function(P,T){var F={},k=0,C=!1,D=0,M=0;if(F.frames=[],!function(H,Q,ne,se){for(var he=0;he<se;he++)if(H[Q+he]!=ne.charCodeAt(he))return!0;return!1}(P,T,"RIFF",4)){for(f(P,T+=4),T+=8;T<P.length;){var U=u(P,T),W=f(P,T+=4);T+=4;var R=W+(1&W);switch(U){case"VP8 ":case"VP8L":F.frames[k]===void 0&&(F.frames[k]={}),(Z=F.frames[k]).src_off=C?M:T-8,Z.src_size=D+W+8,k++,C&&(C=!1,D=0,M=0);break;case"VP8X":(Z=F.header={}).feature_flags=P[T];var K=T+4;Z.canvas_width=1+d(P,K),K+=3,Z.canvas_height=1+d(P,K),K+=3;break;case"ALPH":C=!0,D=R+8,M=T-8;break;case"ANIM":(Z=F.header).bgcolor=f(P,T),K=T+4,Z.loop_count=(ae=P)[($=K)+0]<<0|ae[$+1]<<8,K+=2;break;case"ANMF":var Y,Z;(Z=F.frames[k]={}).offset_x=2*d(P,T),T+=3,Z.offset_y=2*d(P,T),T+=3,Z.width=1+d(P,T),T+=3,Z.height=1+d(P,T),T+=3,Z.duration=d(P,T),T+=3,Y=P[T++],Z.dispose=1&Y,Z.blend=Y>>1&1}U!="ANMF"&&(T+=R)}var ae,$;return F}}(x,0);b.response=x,b.rgbaoutput=!0,b.dataurl=!1;var y=b.header?b.header:null,N=b.frames?b.frames:null;if(y){y.loop_counter=y.loop_count,h=[y.canvas_height],m=[y.canvas_width];for(var _=0;_<N.length&&N[_].blend!=0;_++);}var w=N[0],S=g.WebPDecodeRGBA(x,w.src_off,w.src_size,m,h);w.rgba=S,w.imgwidth=m[0],w.imgheight=h[0];for(var O=0;O<m[0]*h[0]*4;O++)v[O]=S[O];return this.width=m,this.height=h,this.data=v,this}(function(e){var t=function(){return typeof T0=="function"},r=function(h,m,v,g){var x=4,b=o;switch(g){case e.image_compression.FAST:x=1,b=i;break;case e.image_compression.MEDIUM:x=6,b=l;break;case e.image_compression.SLOW:x=9,b=c}h=n(h,m,v,b);var y=T0(h,{level:x});return e.__addimage__.arrayBufferToBinaryString(y)},n=function(h,m,v,g){for(var x,b,y,N=h.length/m,_=new Uint8Array(h.length+N),w=d(),S=0;S<N;S+=1){if(y=S*m,x=h.subarray(y,y+m),g)_.set(g(x,v,b),y+S);else{for(var O,P=w.length,T=[];O<P;O+=1)T[O]=w[O](x,v,b);var F=f(T.concat());_.set(T[F],y+S)}b=x}return _},a=function(h){var m=Array.apply([],h);return m.unshift(0),m},i=function(h,m){var v,g=[],x=h.length;g[0]=1;for(var b=0;b<x;b+=1)v=h[b-m]||0,g[b+1]=h[b]-v+256&255;return g},o=function(h,m,v){var g,x=[],b=h.length;x[0]=2;for(var y=0;y<b;y+=1)g=v&&v[y]||0,x[y+1]=h[y]-g+256&255;return x},l=function(h,m,v){var g,x,b=[],y=h.length;b[0]=3;for(var N=0;N<y;N+=1)g=h[N-m]||0,x=v&&v[N]||0,b[N+1]=h[N]+256-(g+x>>>1)&255;return b},c=function(h,m,v){var g,x,b,y,N=[],_=h.length;N[0]=4;for(var w=0;w<_;w+=1)g=h[w-m]||0,x=v&&v[w]||0,b=v&&v[w-m]||0,y=u(g,x,b),N[w+1]=h[w]-y+256&255;return N},u=function(h,m,v){if(h===m&&m===v)return h;var g=Math.abs(m-v),x=Math.abs(h-v),b=Math.abs(h+m-v-v);return g<=x&&g<=b?h:x<=b?m:v},d=function(){return[a,i,o,l,c]},f=function(h){var m=h.map(function(v){return v.reduce(function(g,x){return g+Math.abs(x)},0)});return m.indexOf(Math.min.apply(null,m))};e.processPNG=function(h,m,v,g){var x,b,y,N,_,w,S,O,P,T,F,k,C,D,M,U=this.decode.FLATE_DECODE,W="";if(this.__addimage__.isArrayBuffer(h)&&(h=new Uint8Array(h)),this.__addimage__.isArrayBufferView(h)){if(h=(y=new AG(h)).imgData,b=y.bits,x=y.colorSpace,_=y.colors,[4,6].indexOf(y.colorType)!==-1){if(y.bits===8){P=(O=y.pixelBitlength==32?new Uint32Array(y.decodePixels().buffer):y.pixelBitlength==16?new Uint16Array(y.decodePixels().buffer):new Uint8Array(y.decodePixels().buffer)).length,F=new Uint8Array(P*y.colors),T=new Uint8Array(P);var R,K=y.pixelBitlength-y.bits;for(D=0,M=0;D<P;D++){for(C=O[D],R=0;R<K;)F[M++]=C>>>R&255,R+=y.bits;T[D]=C>>>R&255}}if(y.bits===16){P=(O=new Uint32Array(y.decodePixels().buffer)).length,F=new Uint8Array(P*(32/y.pixelBitlength)*y.colors),T=new Uint8Array(P*(32/y.pixelBitlength)),k=y.colors>1,D=0,M=0;for(var Y=0;D<P;)C=O[D++],F[M++]=C>>>0&255,k&&(F[M++]=C>>>16&255,C=O[D++],F[M++]=C>>>0&255),T[Y++]=C>>>16&255;b=8}g!==e.image_compression.NONE&&t()?(h=r(F,y.width*y.colors,y.colors,g),S=r(T,y.width,1,g)):(h=F,S=T,U=void 0)}if(y.colorType===3&&(x=this.color_spaces.INDEXED,w=y.palette,y.transparency.indexed)){var Z=y.transparency.indexed,ae=0;for(D=0,P=Z.length;D<P;++D)ae+=Z[D];if((ae/=255)===P-1&&Z.indexOf(0)!==-1)N=[Z.indexOf(0)];else if(ae!==P){for(O=y.decodePixels(),T=new Uint8Array(O.length),D=0,P=O.length;D<P;D++)T[D]=Z[O[D]];S=r(T,y.width,1)}}var $=function(H){var Q;switch(H){case e.image_compression.FAST:Q=11;break;case e.image_compression.MEDIUM:Q=13;break;case e.image_compression.SLOW:Q=14;break;default:Q=12}return Q}(g);return U===this.decode.FLATE_DECODE&&(W="/Predictor "+$+" "),W+="/Colors "+_+" /BitsPerComponent "+b+" /Columns "+y.width,(this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),(S&&this.__addimage__.isArrayBuffer(S)||this.__addimage__.isArrayBufferView(S))&&(S=this.__addimage__.arrayBufferToBinaryString(S)),{alias:v,data:h,index:m,filter:U,decodeParameters:W,transparency:N,palette:w,sMask:S,predictor:$,width:y.width,height:y.height,bitsPerComponent:b,colorSpace:x}}}})(nt.API),function(e){e.processGIF89A=function(t,r,n,a){var i=new OG(t),o=i.width,l=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:o,height:l},d=new Cv(100).encode(u,100);return e.processJPEG.call(this,d,r,n,a)},e.processGIF87A=e.processGIF89A}(nt.API),Ea.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ea.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){qt.log("bit decode error:"+r)}},Ea.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*a*4,l=0;l<8&&8*a+l<this.width;l++){var c=this.palette[i>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},Ea.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*a*4,l=i>>4,c=15&i,u=this.palette[l];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*a+1>=this.width)break;u=this.palette[c],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},Ea.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var o=this.palette[a];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},Ea.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,l=(i>>5&t)/t*255|0,c=(i>>10&t)/t*255|0,u=i>>15?255:0,d=n*this.width*4+4*a;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=u}this.pos+=e}},Ea.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,c=(o>>5&r)/r*255|0,u=(o>>11)/t*255|0,d=a*this.width*4+4*i;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=l,this.data[d+3]=255}this.pos+=e}},Ea.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},Ea.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=i,this.data[l+1]=a,this.data[l+2]=n,this.data[l+3]=o}},Ea.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,a){var i=new Ea(t,!1),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},u=new Cv(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)}}(nt.API),Iw.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,a){var i=new Iw(t),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},u=new Cv(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)}}(nt.API),nt.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,i=new Uint8Array(a/4*3),o=new Uint8Array(a/4),l=0,c=0,u=0;u<a;u+=4){var d=n[u],f=n[u+1],h=n[u+2],m=n[u+3];i[l++]=d,i[l++]=f,i[l++]=h,o[c++]=m}var v=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:v,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},nt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},xl=nt.API,vh=xl.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:a.metadata.Unicode.widths,c=l.fof?l.fof:1,u=t.kerning?t.kerning:a.metadata.Unicode.kerning,d=u.fof?u.fof:1,f=t.doKerning!==!1,h=0,m=e.length,v=0,g=l[0]||c,x=[];for(r=0;r<m;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?x.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+o*(1e3/i)||0)/1e3):(h=f&&jt(u[n])==="object"&&!isNaN(parseInt(u[n][v],10))?u[n][v]/d:0,x.push((l[n]||g)/c+h)),v=n;return x},Lw=xl.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return xl.processArabic&&(e=xl.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:vh.apply(this,arguments).reduce(function(i,o){return i+o},0)},Mw=function(e,t,r,n){for(var a=[],i=0,o=e.length,l=0;i!==o&&l+t[i]<r;)l+=t[i],i++;a.push(e.slice(0,i));var c=i;for(l=0;i!==o;)l+t[i]>n&&(a.push(e.slice(c,i)),l=0,c=i),l+=t[i],i++;return c!==i&&a.push(e.slice(c,i)),a},$w=function(e,t,r){r||(r={});var n,a,i,o,l,c,u,d=[],f=[d],h=r.textIndent||0,m=0,v=0,g=e.split(" "),x=vh.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?g[0].length+2:r.lineIndent||0){var b=Array(c).join(" "),y=[];g.map(function(_){(_=_.split(/\s*\n/)).length>1?y=y.concat(_.map(function(w,S){return(S&&w.length?`
`:"")+w})):y.push(_[0])}),g=y,c=Lw.apply(this,[b,r])}for(i=0,o=g.length;i<o;i++){var N=0;if(n=g[i],c&&n[0]==`
`&&(n=n.substr(1),N=1),h+m+(v=(a=vh.apply(this,[n,r])).reduce(function(_,w){return _+w},0))>t||N){if(v>t){for(l=Mw.apply(this,[n,a,t-(h+m),t]),d.push(l.shift()),d=[l.pop()];l.length;)f.push([l.shift()]);v=a.slice(n.length-(d[0]?d[0].length:0)).reduce(function(_,w){return _+w},0)}else d=[n];f.push(d),h=v+c,m=x}else d.push(n),h+=m+v,m=x}return u=c?function(_,w){return(w?b:"")+_.join(" ")}:function(_){return _.join(" ")},f.map(u)},xl.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var f=this.internal.getFont(d.fontName,d.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var l,c,u=[];for(l=0,c=n.length;l<c;l++)u=u.concat($w.apply(this,[n[l],o,i]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},a=0;a<t.length;a++)r[t[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=t[a];var i=function(f){return"0x"+parseInt(f,10).toString(16)},o=e.__fontmetrics__.compress=function(f){var h,m,v,g,x=["{"];for(var b in f){if(h=f[b],isNaN(parseInt(b,10))?m="'"+b+"'":(b=parseInt(b,10),m=(m=i(b).slice(2)).slice(0,-1)+n[m.slice(-1)]),typeof h=="number")h<0?(v=i(h).slice(3),g="-"):(v=i(h).slice(2),g=""),v=g+v.slice(0,-1)+n[v.slice(-1)];else{if(jt(h)!=="object")throw new Error("Don't know what to do with value type "+jt(h)+".");v=o(h)}x.push(m+v)}return x.push("}"),x.join("")},l=e.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,m,v,g,x={},b=1,y=x,N=[],_="",w="",S=f.length-1,O=1;O<S;O+=1)(g=f[O])=="'"?h?(v=h.join(""),h=void 0):h=[]:h?h.push(g):g=="{"?(N.push([y,v]),y={},v=void 0):g=="}"?((m=N.pop())[0][m[1]]=y,v=void 0,y=m[0]):g=="-"?b=-1:v===void 0?r.hasOwnProperty(g)?(_+=r[g],v=parseInt(_,16)*b,b=1,_=""):_+=g:r.hasOwnProperty(g)?(w+=r[g],y[v]=parseInt(w,16)*b,b=1,v=void 0,w=""):w+=g;return x},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},d={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(f){var h=f.font,m=d.Unicode[h.postScriptName];m&&(h.metadata.Unicode={},h.metadata.Unicode.widths=m.widths,h.metadata.Unicode.kerning=m.kerning);var v=u.Unicode[h.postScriptName];v&&(h.metadata.Unicode.encoding=v,h.encoding=v.codePages[0])}])}(nt.API),function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(Ju(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(a,n)}}])}(nt),function(e){function t(){return(at.canvg?Promise.resolve(at.canvg):s0(()=>import("./index.es-Cn22yw3N.js"),__vite__mapDeps([0,1,2,3,4]))).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}nt.API.addSvgAsImage=function(r,n,a,i,o,l,c,u){if(isNaN(n)||isNaN(a))throw qt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(o))throw qt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=i,d.height=o;var f=d.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,d.width,d.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return t().then(function(v){return v.fromString(f,r,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(v){return v.render(h)}).then(function(){m.addImage(d.toDataURL("image/jpeg",1),n,a,i,o,c,u)})}}(),nt.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},nt.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],u=0,d=0,f=0;function h(v,g){var x,b=!1;for(x=0;x<v.length;x+=1)v[x]===g&&(b=!0);return b}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var m=l.length;for(f=0;f<m;f+=1)r[l[f]].value=r[l[f]].defaultValue,r[l[f]].explicitSet=!1}if(jt(e)==="object"){for(a in e)if(i=e[a],h(l,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&h(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(u=0;u<i.length;u+=1)if(n=!0,i[u].length===1&&typeof i[u][0]=="number")c.push(String(i[u]-1));else if(i[u].length>1){for(d=0;d<i[u].length;d+=1)typeof i[u][d]!="number"&&(n=!1);n===!0&&c.push([i[u][0]-1,i[u][1]-1].join(" "))}r[a].value="["+c.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,g=[];for(v in r)r[v].explicitSet===!0&&(r[v].type==="name"?g.push("/"+v+" /"+r[v].value):g.push("/"+v+" "+r[v].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=i.length+o.length+l.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(a+i+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(nt.API),function(e){var t=e.API,r=t.pdfEscape16=function(i,o){for(var l,c=o.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],f=0,h=i.length;f<h;++f){if(l=o.metadata.characterToGlyph(i.charCodeAt(f)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=i.charCodeAt(f),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return d.join("");l=l.toString(16),d.push(u[4-l.length],l)}return d.join("")},n=function(i){var o,l,c,u,d,f,h;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],f=0,h=(l=Object.keys(i).sort(function(m,v){return m-v})).length;f<h;f++)o=l[f],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(u=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,u=o.newObject,d=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var f=l.metadata.Unicode.widths,h=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),m="",v=0;v<h.length;v++)m+=String.fromCharCode(h[v]);var g=u();d({data:m,addLength1:!0,objectId:g}),c("endobj");var x=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:x}),c("endobj");var b=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Al(l.fontName)),c("/FontFile2 "+g+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var y=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+Al(l.fontName)),c("/FontDescriptor "+b+" 0 R"),c("/W "+e.API.PDFObject.convert(f)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+x+" 0 R"),c("/BaseFont /"+Al(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+y+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,u=o.newObject,d=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var f=l.metadata.rawData,h="",m=0;m<f.length;m++)h+=String.fromCharCode(f[m]);var v=u();d({data:h,addLength1:!0,objectId:v}),c("endobj");var g=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:g}),c("endobj");var x=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+v+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+Al(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var b=0;b<l.metadata.hmtx.widths.length;b++)l.metadata.hmtx.widths[b]=parseInt(l.metadata.hmtx.widths[b]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+Al(l.fontName)+"/FontDescriptor "+x+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]);var a=function(i){var o,l=i.text||"",c=i.x,u=i.y,d=i.options||{},f=i.mutex||{},h=f.pdfEscape,m=f.activeFontKey,v=f.fonts,g=m,x="",b=0,y="",N=v[g].encoding;if(v[g].encoding!=="Identity-H")return{text:l,x:c,y:u,options:d,mutex:f};for(y=l,g=m,Array.isArray(l)&&(y=l[0]),b=0;b<y.length;b+=1)v[g].metadata.hasOwnProperty("cmap")&&(o=v[g].metadata.cmap.unicode.codeMap[y[b].charCodeAt(0)]),o||y[b].charCodeAt(0)<256&&v[g].metadata.hasOwnProperty("Unicode")?x+=y[b]:x+="";var _="";return parseInt(g.slice(1))<14||N==="WinAnsiEncoding"?_=h(x,g).split("").map(function(w){return w.charCodeAt(0).toString(16)}).join(""):N==="Identity-H"&&(_=r(x,v[g])),f.isHex=!0,{text:_,x:c,y:u,options:d,mutex:f}};t.events.push(["postProcessText",function(i){var o=i.text||"",l=[],c={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?l.push([a(Object.assign({},c,{text:o[u][0]})).text,o[u][1],o[u][2]]):l.push(a(Object.assign({},c,{text:o[u]})).text);i.text=l}else i.text=a(Object.assign({},c,{text:o})).text}])}(nt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(nt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,i,o,l,c,u,d,f=t,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},x=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],b=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),y=!1,N=0;this.__bidiEngine__={};var _=function(k){var C=k.charCodeAt(),D=C>>8,M=g[D];return M!==void 0?f[256*M+(255&C)]:D===252||D===253?"AL":b.test(D)?"L":D===8?"R":"N"},w=function(k){for(var C,D=0;D<k.length;D++){if((C=_(k.charAt(D)))==="L")return!1;if(C==="R")return!0}return!1},S=function(k,C,D,M){var U,W,R,K,Y=C[M];switch(Y){case"L":case"R":y=!1;break;case"N":case"AN":break;case"EN":y&&(Y="AN");break;case"AL":y=!0,Y="R";break;case"WS":Y="N";break;case"CS":M<1||M+1>=C.length||(U=D[M-1])!=="EN"&&U!=="AN"||(W=C[M+1])!=="EN"&&W!=="AN"?Y="N":y&&(W="AN"),Y=W===U?W:"N";break;case"ES":Y=(U=M>0?D[M-1]:"B")==="EN"&&M+1<C.length&&C[M+1]==="EN"?"EN":"N";break;case"ET":if(M>0&&D[M-1]==="EN"){Y="EN";break}if(y){Y="N";break}for(R=M+1,K=C.length;R<K&&C[R]==="ET";)R++;Y=R<K&&C[R]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(K=C.length,R=M+1;R<K&&C[R]==="NSM";)R++;if(R<K){var Z=k[M],ae=Z>=1425&&Z<=2303||Z===64286;if(U=C[R],ae&&(U==="R"||U==="AL")){Y="R";break}}}Y=M<1||(U=C[M-1])==="B"?"N":D[M-1];break;case"B":y=!1,a=!0,Y=N;break;case"S":i=!0,Y="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":y=!1;break;case"BN":Y="N"}return Y},O=function(k,C,D){var M=k.split("");return D&&P(M,D,{hiLevel:N}),M.reverse(),C&&C.reverse(),M.join("")},P=function(k,C,D){var M,U,W,R,K,Y=-1,Z=k.length,ae=0,$=[],H=N?m:h,Q=[];for(y=!1,a=!1,i=!1,U=0;U<Z;U++)Q[U]=_(k[U]);for(W=0;W<Z;W++){if(K=ae,$[W]=S(k,Q,$,W),M=240&(ae=H[K][v[$[W]]]),ae&=15,C[W]=R=H[ae][5],M>0)if(M===16){for(U=Y;U<W;U++)C[U]=1;Y=-1}else Y=-1;if(H[ae][6])Y===-1&&(Y=W);else if(Y>-1){for(U=Y;U<W;U++)C[U]=R;Y=-1}Q[W]==="B"&&(C[W]=0),D.hiLevel|=R}i&&function(ne,se,he){for(var de=0;de<he;de++)if(ne[de]==="S"){se[de]=N;for(var ie=de-1;ie>=0&&ne[ie]==="WS";ie--)se[ie]=N}}(Q,C,Z)},T=function(k,C,D,M,U){if(!(U.hiLevel<k)){if(k===1&&N===1&&!a)return C.reverse(),void(D&&D.reverse());for(var W,R,K,Y,Z=C.length,ae=0;ae<Z;){if(M[ae]>=k){for(K=ae+1;K<Z&&M[K]>=k;)K++;for(Y=ae,R=K-1;Y<R;Y++,R--)W=C[Y],C[Y]=C[R],C[R]=W,D&&(W=D[Y],D[Y]=D[R],D[R]=W);ae=K}ae++}}},F=function(k,C,D){var M=k.split(""),U={hiLevel:N};return D||(D=[]),P(M,D,U),function(W,R,K){if(K.hiLevel!==0&&d)for(var Y,Z=0;Z<W.length;Z++)R[Z]===1&&(Y=x.indexOf(W[Z]))>=0&&(W[Z]=x[Y+1])}(M,D,U),T(2,M,C,D,U),T(1,M,C,D,U),M.join("")};return this.__bidiEngine__.doBidiReorder=function(k,C,D){if(function(U,W){if(W)for(var R=0;R<U.length;R++)W[R]=R;l===void 0&&(l=w(U)),u===void 0&&(u=w(U))}(k,C),o||!c||u)if(o&&c&&l^u)N=l?1:0,k=O(k,C,D);else if(!o&&c&&u)N=l?1:0,k=F(k,C,D),k=O(k,C);else if(!o||l||c||u){if(o&&!c&&l^u)k=O(k,C),l?(N=0,k=F(k,C,D)):(N=1,k=F(k,C,D),k=O(k,C));else if(o&&l&&!c&&u)N=1,k=F(k,C,D),k=O(k,C);else if(!o&&!c&&l^u){var M=d;l?(N=1,k=F(k,C,D),N=0,d=!1,k=F(k,C,D),d=M):(N=0,k=F(k,C,D),k=O(k,C),N=1,d=!1,k=F(k,C,D),d=M,k=O(k,C))}}else N=0,k=F(k,C,D);else N=l?1:0,k=F(k,C,D);return k},this.__bidiEngine__.setOptions=function(k){k&&(o=k.isInputVisual,c=k.isOutputVisual,l=k.isInputRtl,u=k.isOutputRtl,d=k.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var o=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var l=0;for(o=[],l=0;l<a.length;l+=1)Object.prototype.toString.call(a[l])==="[object Array]"?o.push([r.doBidiReorder(a[l][0]),a[l][1],a[l][2]]):o.push([r.doBidiReorder(a[l])]);n.text=o}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(nt),nt.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new _s(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new zG(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new PG(this.contents),this.head=new kG(this),this.name=new $G(this),this.cmap=new VA(this),this.toUnicode={},this.hhea=new TG(this),this.maxp=new DG(this),this.hmtx=new IG(this),this.post=new LG(this),this.os2=new CG(this),this.loca=new qG(this),this.glyf=new RG(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,u;for(u=[],o=0,l=(c=this.bbox).length;o<l;o++)t=c[o],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,i,o,l;for(o=0,i=0,l=(t=""+t).length;0<=l?i<l:i>l;i=0<=l?++i:--i)a=t.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var Ha,_s=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,i,o,l,c;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*o+256*l+c},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,i;for(i=[],n=0,a=t.length;n<a;n++)r=t[n],i.push(this.writeByte(r));return i},e}(),PG=function(){var e;function t(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,i,o,l,c,u,d,f,h,m,v,g;for(g in m=Object.keys(r).length,c=Math.log(2),f=16*Math.floor(Math.log(m)/c),o=Math.floor(f/c),d=16*m-f,(a=new _s).writeInt(this.scalarType),a.writeShort(m),a.writeShort(f),a.writeShort(o),a.writeShort(d),i=16*m,u=a.pos+i,l=null,v=[],r)for(h=r[g],a.writeString(g),a.writeInt(e(h)),a.writeInt(u),a.writeInt(h.length),v=v.concat(h),g==="head"&&(l=u),u+=h.length;u%4;)v.push(0),u++;return a.write(v),n=2981146554-e(a.data),a.pos=l+8,a.writeUInt32(n),a.data},e=function(r){var n,a,i,o;for(r=YA.call(r);r.length%4;)r.push(0);for(i=new _s(r),a=0,n=0,o=r.length;n<o;n=n+=4)a+=i.readUInt32();return 4294967295&a},t}(),EG={}.hasOwnProperty,bi=function(e,t){for(var r in t)EG.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};Ha=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var kG=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return bi(t,Ha),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new _s).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t}(),Rw=function(){function e(t,r){var n,a,i,o,l,c,u,d,f,h,m,v,g,x,b,y,N;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(m=t.readUInt16(),h=m/2,t.pos+=6,i=function(){var _,w;for(w=[],c=_=0;0<=h?_<h:_>h;c=0<=h?++_:--_)w.push(t.readUInt16());return w}(),t.pos+=2,g=function(){var _,w;for(w=[],c=_=0;0<=h?_<h:_>h;c=0<=h?++_:--_)w.push(t.readUInt16());return w}(),u=function(){var _,w;for(w=[],c=_=0;0<=h?_<h:_>h;c=0<=h?++_:--_)w.push(t.readUInt16());return w}(),d=function(){var _,w;for(w=[],c=_=0;0<=h?_<h:_>h;c=0<=h?++_:--_)w.push(t.readUInt16());return w}(),a=(this.length-t.pos+this.offset)/2,l=function(){var _,w;for(w=[],c=_=0;0<=a?_<a:_>a;c=0<=a?++_:--_)w.push(t.readUInt16());return w}(),c=b=0,N=i.length;b<N;c=++b)for(x=i[c],n=y=v=g[c];v<=x?y<=x:y>=x;n=v<=x?++y:--y)d[c]===0?o=n+u[c]:(o=l[d[c]/2+(n-v)-(h-c)]||0)!==0&&(o+=u[c]),this.codeMap[n]=65535&o}t.pos=f}return e.encode=function(t,r){var n,a,i,o,l,c,u,d,f,h,m,v,g,x,b,y,N,_,w,S,O,P,T,F,k,C,D,M,U,W,R,K,Y,Z,ae,$,H,Q,ne,se,he,de,ie,xe,be,me;switch(M=new _s,o=Object.keys(t).sort(function(Ee,$e){return Ee-$e}),r){case"macroman":for(g=0,x=function(){var Ee=[];for(v=0;v<256;++v)Ee.push(0);return Ee}(),y={0:0},i={},U=0,Y=o.length;U<Y;U++)y[ie=t[a=o[U]]]==null&&(y[ie]=++g),i[a]={old:t[a],new:y[t[a]]},x[a]=y[t[a]];return M.writeUInt16(1),M.writeUInt16(0),M.writeUInt32(12),M.writeUInt16(0),M.writeUInt16(262),M.writeUInt16(0),M.write(x),{charMap:i,subtable:M.data,maxGlyphID:g+1};case"unicode":for(C=[],f=[],N=0,y={},n={},b=u=null,W=0,Z=o.length;W<Z;W++)y[w=t[a=o[W]]]==null&&(y[w]=++N),n[a]={old:w,new:y[w]},l=y[w]-a,b!=null&&l===u||(b&&f.push(b),C.push(a),u=l),b=a;for(b&&f.push(b),f.push(65535),C.push(65535),F=2*(T=C.length),P=2*Math.pow(Math.log(T)/Math.LN2,2),h=Math.log(P/2)/Math.LN2,O=2*T-P,c=[],S=[],m=[],v=R=0,ae=C.length;R<ae;v=++R){if(k=C[v],d=f[v],k===65535){c.push(0),S.push(0);break}if(k-(D=n[k].new)>=32768)for(c.push(0),S.push(2*(m.length+T-v)),a=K=k;k<=d?K<=d:K>=d;a=k<=d?++K:--K)m.push(n[a].new);else c.push(D-k),S.push(0)}for(M.writeUInt16(3),M.writeUInt16(1),M.writeUInt32(12),M.writeUInt16(4),M.writeUInt16(16+8*T+2*m.length),M.writeUInt16(0),M.writeUInt16(F),M.writeUInt16(P),M.writeUInt16(h),M.writeUInt16(O),he=0,$=f.length;he<$;he++)a=f[he],M.writeUInt16(a);for(M.writeUInt16(0),de=0,H=C.length;de<H;de++)a=C[de],M.writeUInt16(a);for(xe=0,Q=c.length;xe<Q;xe++)l=c[xe],M.writeUInt16(l);for(be=0,ne=S.length;be<ne;be++)_=S[be],M.writeUInt16(_);for(me=0,se=m.length;me<se;me++)g=m[me],M.writeUInt16(g);return{charMap:n,subtable:M.data,maxGlyphID:N+1}}},e}(),VA=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return bi(t,Ha),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,a,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)n=new Rw(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var a,i;return n==null&&(n="macroman"),a=Rw.encode(r,n),(i=new _s).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},t}(),TG=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return bi(t,Ha),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),CG=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return bi(t,Ha),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),LG=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return bi(t,Ha),t.prototype.tag="post",t.prototype.parse=function(r){var n,a,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var o;for(a=r.readUInt16(),this.glyphNameIndex=[],o=0;0<=a?o<a:o>a;o=0<=a?++o:--o)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var l,c,u;for(u=[],o=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;o=0<=c?++l:--l)u.push(r.readUInt32());return u}).call(this)}},t}(),MG=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},$G=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return bi(t,Ha),t.prototype.tag="name",t.prototype.parse=function(r){var n,a,i,o,l,c,u,d,f,h,m;for(r.pos=this.offset,r.readShort(),n=r.readShort(),c=r.readShort(),a=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+c+r.readShort()});for(u={},o=f=0,h=a.length;f<h;o=++f)i=a[o],r.pos=i.offset,d=r.readString(i.length),l=new MG(d,i),u[m=i.nameID]==null&&(u[m]=[]),u[i.nameID].push(l);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},t}(),DG=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return bi(t,Ha),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),IG=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return bi(t,Ha),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,a,i,o,l,c,u;for(r.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,f;for(f=[],n=d=0;0<=i?d<i:d>i;n=0<=i?++d:--d)f.push(r.readInt16());return f}(),this.widths=(function(){var d,f,h,m;for(m=[],d=0,f=(h=this.metrics).length;d<f;d++)o=h[d],m.push(o.advance);return m}).call(this),a=this.widths[this.widths.length-1],u=[],n=l=0;0<=i?l<i:l>i;n=0<=i?++l:--l)u.push(this.widths.push(a));return u},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),YA=[].slice,RG=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return bi(t,Ha),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,a,i,o,l,c,u,d,f,h;return r in this.cache?this.cache[r]:(o=this.file.loca,n=this.file.contents,a=o.indexOf(r),(i=o.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,l=(c=new _s(n.read(i))).readShort(),d=c.readShort(),h=c.readShort(),u=c.readShort(),f=c.readShort(),this.cache[r]=l===-1?new BG(c,d,h,u,f):new FG(c,l,d,h,u,f),this.cache[r]))},t.prototype.encode=function(r,n,a){var i,o,l,c,u;for(l=[],o=[],c=0,u=n.length;c<u;c++)i=r[n[c]],o.push(l.length),i&&(l=l.concat(i.encode(a)));return o.push(l.length),{table:l,offsets:o}},t}(),FG=function(){function e(t,r,n,a,i,o){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),BG=function(){function e(t,r,n,a,i){var o,l;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new _s(YA.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),qG=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return bi(t,Ha),t.prototype.tag="loca",t.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,o;for(o=[],a=0,i=this.length;a<i;a+=2)o.push(2*r.readUInt16());return o}).call(this):(function(){var i,o;for(o=[],a=0,i=this.length;a<i;a+=4)o.push(r.readUInt32());return o}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),i=0,o=0,l=0;l<a.length;++l)if(a[l]=i,o<n.length&&n[o]==l){++o,a[l]=i;var c=this.offsets[l],u=this.offsets[l+1]-c;u>0&&(i+=u)}for(var d=new Array(4*a.length),f=0;f<a.length;++f)d[4*f+3]=255&a[f],d[4*f+2]=(65280&a[f])>>8,d[4*f+1]=(16711680&a[f])>>16,d[4*f]=(4278190080&a[f])>>24;return d},t}(),zG=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,i,o,l,c;for(a={},o=0,l=t.length;o<l;o++)a[i=t[o]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))n=c[i],a[i]=n;return a},e.prototype.encode=function(t,r){var n,a,i,o,l,c,u,d,f,h,m,v,g,x,b;for(a in n=VA.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),m={0:0},b=n.charMap)m[(c=b[a]).old]=c.new;for(v in h=n.maxGlyphID,o)v in m||(m[v]=h++);return d=function(y){var N,_;for(N in _={},y)_[y[N]]=N;return _}(m),f=Object.keys(d).sort(function(y,N){return y-N}),g=function(){var y,N,_;for(_=[],y=0,N=f.length;y<N;y++)l=f[y],_.push(d[l]);return _}(),i=this.font.glyf.encode(o,g,m),u=this.font.loca.encode(i.offsets,g),x={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(x["OS/2"]=this.font.os2.raw()),this.font.directory.encode(x)},e}();nt.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,i,o;if(Array.isArray(r))return"["+function(){var l,c,u;for(u=[],l=0,c=r.length;l<c;l++)n=r[l],u.push(t.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)o=r[a],i.push("/"+a+" "+t.convert(o));return i.push(">>"),i.join(`
`)}return""+r},t}();const Fw=void 0;function UG(){const[e,t]=I.useState({title:"",description:"",event_date:"",start_time:"",end_time:"",location:"",school_level:"elementary",category:"",visibility:"public",estimated_budget:"",share_public:!1}),[r,n]=I.useState(""),[a,i]=I.useState(""),[o,l]=I.useState(!1),[c,u]=I.useState({type:"",season:"",audience:"",theme:"",goal:""}),[d,f]=I.useState(""),h=y=>{const{name:N,value:_,type:w,checked:S}=y.target;t(O=>({...O,[N]:w==="checkbox"?S:_}))},m=async y=>{y.preventDefault(),n(""),i("");const{data:{session:N},error:_}=await He.auth.getSession();if(_||!(N!=null&&N.access_token)){i("Authentication error. Please log in again.");return}try{const w=await fetch(`${Fw}/api/events`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${N.access_token}`},body:JSON.stringify(e)}),S=await w.json();if(!w.ok){i(S.error||"Failed to create event");return}n("Event created successfully!"),t({title:"",description:"",event_date:"",start_time:"",end_time:"",location:"",school_level:"elementary",category:"",visibility:"public",estimated_budget:"",share_public:!1})}catch(w){i("Failed to connect to server."),console.error("Submit error:",w)}},v=y=>{const{name:N,value:_}=y.target;u(w=>({...w,[N]:_}))},g=async()=>{f("Generating...");try{const{data:{session:y},error:N}=await He.auth.getSession();if(N||!(y!=null&&y.access_token)){f("Authentication error. Please log in again.");return}const _=await fetch(`${Fw}/api/ai/generate-event`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${y.access_token}`},body:JSON.stringify(c)});if(!_.ok)throw new Error(`API request failed: ${_.status}`);const w=await _.json();f(w.result)}catch(y){console.error("AI generation error:",y),f("AI generation failed. Please try again.")}},x=()=>{try{const y=JSON.parse(d);t(N=>({...N,title:y.title||"",description:y.description||"",event_date:y.event_date||"",category:y.category||"",school_level:y.school_level||"",location:y.location||"",estimated_budget:y.estimated_budget||""}))}catch(y){alert("Failed to parse AI response. Please review the output and enter manually."),console.error("Parse error:",y)}},b=()=>{try{const y=JSON.parse(d),N=new nt;N.setFontSize(14),N.text(y.title||"Event Summary",10,20),N.setFontSize(10),N.text(`Date: ${y.event_date||"TBD"}`,10,30),N.text(`Category: ${y.category||"N/A"}`,10,36),N.text(`School Level: ${y.school_level||"N/A"}`,10,42),N.setFontSize(12),N.text("Description:",10,52),N.setFontSize(10),N.text(N.splitTextToSize(y.description||"",180),10,58),N.setFontSize(12),N.text("Planning Tasks:",10,100),(y.tasks||[]).forEach((w,S)=>{N.text(`- ${w}`,10,106+S*6)}),N.save(`${y.title||"event-summary"}.pdf`)}catch(y){alert("Unable to print. Please check that the AI returned a valid result."),console.error("Print error:",y)}};return s.jsxs("div",{className:"max-w-2xl mx-auto p-6 space-y-6",children:[s.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Create New Event"}),s.jsxs("form",{onSubmit:m,className:"space-y-4",children:[s.jsx("input",{name:"title",value:e.title,onChange:h,placeholder:"Event Title",className:"w-full border p-2",required:!0}),s.jsx("textarea",{name:"description",value:e.description,onChange:h,placeholder:"Description",className:"w-full border p-2"}),s.jsx("input",{type:"date",name:"event_date",value:e.event_date,onChange:h,className:"w-full border p-2",required:!0}),s.jsx("input",{type:"time",name:"start_time",value:e.start_time,onChange:h,className:"w-full border p-2"}),s.jsx("input",{type:"time",name:"end_time",value:e.end_time,onChange:h,className:"w-full border p-2"}),s.jsx("input",{name:"location",value:e.location,onChange:h,placeholder:"Location",className:"w-full border p-2"}),s.jsxs("select",{name:"school_level",value:e.school_level,onChange:h,className:"w-full border p-2",children:[s.jsx("option",{value:"elementary",children:"Elementary"}),s.jsx("option",{value:"upper_elementary",children:"Upper Elementary"}),s.jsx("option",{value:"middle",children:"Middle"}),s.jsx("option",{value:"junior_high",children:"Junior High"}),s.jsx("option",{value:"high",children:"High School"})]}),s.jsx("input",{name:"category",value:e.category,onChange:h,placeholder:"Category (e.g., Fundraiser)",className:"w-full border p-2"}),s.jsx("input",{name:"estimated_budget",value:e.estimated_budget,onChange:h,placeholder:"Estimated Budget",className:"w-full border p-2"}),s.jsxs("select",{name:"visibility",value:e.visibility,onChange:h,className:"w-full border p-2",children:[s.jsx("option",{value:"public",children:"Public"}),s.jsx("option",{value:"private",children:"Private"})]}),s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",name:"share_public",checked:e.share_public,onChange:h}),s.jsx("span",{children:"Share this event to the PTO Connect Idea Library"})]}),s.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded",type:"submit",children:"Create Event"}),r&&s.jsx("p",{className:"text-green-600",children:r}),a&&s.jsx("p",{className:"text-red-600",children:a})]}),s.jsxs("div",{className:"border-t pt-6",children:[s.jsx("button",{onClick:()=>l(!o),className:"text-blue-600 underline",children:o?"Hide AI Event Assistant":"Use AI Event Assistant"}),o&&s.jsxs("div",{className:"mt-4 space-y-3",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"AI Event Assistant"}),s.jsx("input",{type:"text",name:"type",placeholder:"Event Type",value:c.type,onChange:v,className:"w-full border p-2"}),s.jsx("input",{type:"text",name:"season",placeholder:"Season or Month",value:c.season,onChange:v,className:"w-full border p-2"}),s.jsx("input",{type:"text",name:"audience",placeholder:"Audience (e.g. families, teachers)",value:c.audience,onChange:v,className:"w-full border p-2"}),s.jsx("input",{type:"text",name:"theme",placeholder:"Theme (e.g. fall festival)",value:c.theme,onChange:v,className:"w-full border p-2"}),s.jsx("input",{type:"text",name:"goal",placeholder:"Goal (e.g. raise funds for library)",value:c.goal,onChange:v,className:"w-full border p-2"}),s.jsx("button",{onClick:g,className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",children:"Generate Event Idea"}),d&&s.jsxs("div",{className:"border p-4 mt-4 bg-gray-50 rounded",children:[s.jsx("pre",{className:"whitespace-pre-wrap text-sm",children:d}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx("button",{onClick:x,className:"bg-blue-500 text-white px-3 py-1 rounded hover:bg-blue-600",children:"Use This Event"}),s.jsx("button",{onClick:b,className:"bg-gray-600 text-white px-3 py-1 rounded hover:bg-gray-700",children:"Print Summary"})]})]})]})]})]})}const WG=({eventData:e,setEventData:t})=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Tell Stella About Your Event"}),s.jsx("p",{className:"text-gray-600",children:"Provide basic information about the event you want to create"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Title"}),s.jsx("input",{type:"text",value:e.title,onChange:r=>t(n=>({...n,title:r.target.value})),placeholder:"e.g., Fall Festival 2025",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Date"}),s.jsx("input",{type:"date",value:e.event_date,onChange:r=>t(n=>({...n,event_date:r.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expected Attendance"}),s.jsx("input",{type:"number",value:e.expected_attendance,onChange:r=>t(n=>({...n,expected_attendance:parseInt(r.target.value,10)||0})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estimated Budget"}),s.jsx("input",{type:"number",value:e.estimated_budget,onChange:r=>t(n=>({...n,estimated_budget:parseInt(r.target.value,10)||0})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("textarea",{value:e.description,onChange:r=>t(n=>({...n,description:r.target.value})),rows:"3",placeholder:"Brief description of your event...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]}),HG=({stellaContext:e,handleStellaContextChange:t,handleAdditionalGoalsChange:r,handleResourcesChange:n,handleConstraintsChange:a})=>{const i=["Fall Festival","Spring Carnival","Book Fair","Science Night","Art Show","Talent Show","Movie Night","Game Night","Teacher Appreciation","Volunteer Recognition","Board Meeting","Fundraiser","Auction","Walk-a-thon","Bake Sale"],o=["Community Building","Fundraising","Educational Enhancement","Volunteer Appreciation","Student Recognition","Family Engagement","School Support","Cultural Celebration"],l=["All Families","Parents Only","Students & Families","Community Members","Teachers & Staff","Volunteers","Board Members","Local Businesses"],c=["Raise funds for specific programs","Showcase student work","Build community relationships","Recruit new volunteers","Celebrate achievements","Educate about school programs","Support teachers and staff","Create lasting memories"],u=["Dedicated parent volunteers","School facilities access","Local business partnerships","Previous event materials","Social media presence","Email communication list","Equipment and supplies","Budget for materials"],d=["Limited budget","Time constraints","Venue limitations","Weather dependent","Need school approval","Limited volunteers","Scheduling conflicts","Safety requirements"];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Help Stella Understand Your Goals"}),s.jsx("p",{className:"text-gray-600",children:"This information helps Stella create the perfect workflow for your event"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Type"}),s.jsx("select",{value:e.eventType,onChange:f=>t("eventType",f.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:i.map(f=>s.jsx("option",{value:f,children:f},f))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Primary Goal"}),s.jsx("select",{value:e.primaryGoal,onChange:f=>t("primaryGoal",f.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:o.map(f=>s.jsx("option",{value:f,children:f},f))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Target Audience"}),s.jsx("select",{value:e.targetAudience,onChange:f=>t("targetAudience",f.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:l.map(f=>s.jsx("option",{value:f,children:f},f))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Goals"}),s.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto p-2 border rounded-md",children:c.map(f=>s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:e.additionalGoals.includes(f),onChange:h=>r(f,h.target.checked),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),s.jsx("span",{className:"text-sm text-gray-700",children:f})]},f))})]}),s.jsxs("div",{className:"md:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Available Resources"}),s.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto p-2 border rounded-md",children:u.map(f=>s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:e.availableResources.includes(f),onChange:h=>n(f,h.target.checked),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),s.jsx("span",{className:"text-sm text-gray-700",children:f})]},f))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Constraints"}),s.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto p-2 border rounded-md",children:d.map(f=>s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:e.constraints.includes(f),onChange:h=>a(f,h.target.checked),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),s.jsx("span",{className:"text-sm text-gray-700",children:f})]},f))})]})]})]})]})},GG=({progressUpdates:e})=>s.jsxs("div",{className:"text-center py-16",children:[s.jsxs("div",{className:"inline-block relative",children:[s.jsx(_r,{className:"text-purple-500 w-24 h-24 animate-pulse"}),s.jsx("div",{className:"absolute top-0 left-0 w-full h-full flex items-center justify-center",children:s.jsx("div",{className:"w-20 h-20 bg-purple-100 rounded-full animate-ping"})})]}),s.jsx("h2",{className:"text-2xl font-bold mt-8",children:"Stella is working her magic..."}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Generating your comprehensive event workflow."}),s.jsx("div",{className:"mt-8 w-full max-w-md mx-auto",children:e.map((t,r)=>s.jsxs("div",{className:"flex items-center space-x-4 p-2",children:[s.jsx(t.icon,{className:`w-5 h-5 ${t.status==="complete"?"text-green-500":"text-gray-400 animate-pulse"}`}),s.jsx("span",{className:`text-sm ${t.status==="complete"?"text-gray-800":"text-gray-500"}`,children:t.text})]},r))})]}),VG=({workflowData:e})=>{var a,i,o;if(!e)return s.jsxs("div",{className:"text-center py-16",children:[s.jsx(hS,{className:"mx-auto w-12 h-12 text-red-500"}),s.jsx("h2",{className:"mt-4 text-xl font-bold",children:"Failed to Generate Workflow"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"There was an issue generating the workflow. Please try again."}),s.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-6 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-100",children:"Back"})]});const t=((a=e.event)==null?void 0:a.title)||"Your Event",r=e.components_created||{},n=Object.values(r).filter(Boolean).length;return s.jsxs("div",{className:"p-4 sm:p-6 bg-white",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-3xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-indigo-600",children:"Your Workflow is Ready!"}),s.jsxs("p",{className:"mt-2 text-lg text-gray-600",children:['Stella has created a comprehensive plan for "',t,'".']})]}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 text-center mb-8",children:[s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[s.jsx(Ur,{className:"w-8 h-8 text-green-500 mx-auto mb-2"}),s.jsx("p",{className:"font-bold text-xl",children:n}),s.jsx("p",{className:"text-sm text-gray-600",children:"Modules Integrated"})]}),s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsx(tp,{className:"w-8 h-8 text-blue-500 mx-auto mb-2"}),s.jsx("p",{className:"font-bold text-xl",children:"Active"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Workflow Status"})]}),s.jsxs("div",{className:"bg-indigo-50 p-4 rounded-lg",children:[s.jsx(ca,{className:"w-8 h-8 text-indigo-500 mx-auto mb-2"}),s.jsx("p",{className:"font-bold text-xl",children:((i=e.event)==null?void 0:i.expected_attendance)||"N/A"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Expected Guests"})]}),s.jsxs("div",{className:"bg-pink-50 p-4 rounded-lg",children:[s.jsx(Un,{className:"w-8 h-8 text-pink-500 mx-auto mb-2"}),s.jsxs("p",{className:"font-bold text-xl",children:["$",((o=e.event)==null?void 0:o.estimated_budget)||"0"]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Est. Budget"})]})]}),s.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[s.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center",children:[s.jsx(a0,{className:"w-6 h-6 mr-2 text-yellow-500"}),"Next Steps"]}),s.jsxs("ol",{className:"list-decimal list-inside space-y-3 text-gray-700",children:[s.jsx("li",{children:"Review the generated budget and adjust line items as needed."}),s.jsx("li",{children:"Confirm volunteer roles and begin recruitment."}),s.jsx("li",{children:"Schedule communication campaigns for optimal timing."}),s.jsx("li",{children:"Set up project milestones and task assignments."}),s.jsx("li",{children:"Begin vendor outreach and facility reservations."})]})]})]})},YG=()=>{const[e,t]=I.useState(0),[r,n]=I.useState(!1),[a,i]=I.useState(null),[o,l]=I.useState([]);ir();const[c,u]=I.useState({title:"Teacher appreciation - backend test",description:"Teacher appreciation event honoring the teachers each day for 5 days with small tokens like a coffee bar day or lunch catered , etc",event_date:"2025-07-07",start_time:"09:00",end_time:"15:00",location:"School Campus",expected_attendance:100,estimated_budget:2e3,category:"celebration"}),[d,f]=I.useState({eventType:"Teacher Appreciation",primaryGoal:"School Support",targetAudience:"Teachers & Staff",additionalGoals:["Build community relationships"],availableResources:["Dedicated parent volunteers","Local business partnerships","Previous event materials"],constraints:["Time constraints"],pastEventExperiences:"Previous TA experience"}),[h,m]=I.useState({createBudget:!0,generateTimeline:!0,setupCommunications:!0,createVolunteerRoles:!0,planMaterials:!0,scheduleReminders:!0,trackProgress:!0,generateReports:!0}),v=(w,S)=>f(O=>({...O,[w]:S})),g=(w,S,O)=>{f(P=>{const T=P[w]||[],F=O?[...T,S]:T.filter(k=>k!==S);return{...P,[w]:F}})},x=(w,S)=>g("additionalGoals",w,S),b=(w,S)=>g("availableResources",w,S),y=(w,S)=>g("constraints",w,S),N=async()=>{n(!0),t(2),l([{text:"Initializing workflow generation...",status:"in-progress",icon:tp}]);try{console.log("Submitting to API:",{eventData:c,stellaContext:d,moduleIntegrations:h});const w=await bs.generateComprehensiveWorkflow(c,d,h);if(w&&w.data&&w.data.success){i(w.data);const S=w.data.components_created||{},O=[{text:"Event created",status:"complete",icon:Ur},{text:"Timeline generation",status:S.timeline?"complete":"skipped",icon:S.timeline?Ur:gn},{text:"Budget planning",status:S.budget?"complete":"skipped",icon:S.budget?Ur:gn},{text:"Communications setup",status:S.communications?"complete":"skipped",icon:S.communications?Ur:gn},{text:"Volunteer roles",status:S.volunteers?"complete":"skipped",icon:S.volunteers?Ur:gn},{text:"Materials & Resources",status:S.materials?"complete":"skipped",icon:S.materials?Ur:gn},{text:"Reminders & Notifications",status:S.reminders?"complete":"skipped",icon:S.reminders?Ur:gn},{text:"Workflow ready!",status:"complete",icon:JP}];l(O),t(3),lt.success("🎉 Comprehensive workflow created successfully!")}else{const S=(w==null?void 0:w.error)||"Workflow generation failed: An unknown error occurred.";lt.error(S),i(null),t(3)}}catch(w){const S=w.message||"An unexpected error occurred.";lt.error(`Error: ${S}`),i(null),t(3)}finally{n(!1)}},_=[{name:"Event Details",component:s.jsx(WG,{eventData:c,setEventData:u})},{name:"Stella Context",component:s.jsx(HG,{stellaContext:d,handleStellaContextChange:v,handleAdditionalGoalsChange:x,handleResourcesChange:b,handleConstraintsChange:y})},{name:"Generation",component:s.jsx(GG,{progressUpdates:o})},{name:"Results",component:s.jsx(VG,{workflowData:a})}];return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"w-full max-w-4xl bg-white rounded-2xl shadow-xl p-8 space-y-8",children:[s.jsx("nav",{"aria-label":"Progress",children:s.jsx("ol",{role:"list",className:"space-y-4 md:flex md:space-x-8 md:space-y-0",children:_.slice(0,2).map((w,S)=>s.jsx("li",{className:"md:flex-1",children:e>S?s.jsxs("a",{href:"#",className:"group flex w-full flex-col border-l-4 border-purple-600 py-2 pl-4 transition-colors hover:border-purple-800 md:border-l-0 md:border-t-4 md:pb-0 md:pl-0 md:pt-4",children:[s.jsx("span",{className:"text-sm font-medium text-purple-600 transition-colors group-hover:text-purple-800",children:`Step ${S+1}`}),s.jsx("span",{className:"text-sm font-medium",children:w.name})]}):e===S?s.jsxs("a",{href:"#",className:"flex w-full flex-col border-l-4 border-purple-600 py-2 pl-4 md:border-l-0 md:border-t-4 md:pb-0 md:pl-0 md:pt-4","aria-current":"step",children:[s.jsx("span",{className:"text-sm font-medium text-purple-600",children:`Step ${S+1}`}),s.jsx("span",{className:"text-sm font-medium",children:w.name})]}):s.jsxs("a",{href:"#",className:"group flex w-full flex-col border-l-4 border-gray-200 py-2 pl-4 transition-colors hover:border-gray-300 md:border-l-0 md:border-t-4 md:pb-0 md:pl-0 md:pt-4",children:[s.jsx("span",{className:"text-sm font-medium text-gray-500 transition-colors group-hover:text-gray-700",children:`Step ${S+1}`}),s.jsx("span",{className:"text-sm font-medium",children:w.name})]})},w.name))})}),s.jsx("div",{children:_[e].component}),s.jsxs("div",{className:"flex justify-between pt-4 border-t",children:[s.jsx("button",{onClick:()=>t(w=>Math.max(0,w-1)),disabled:e===0||r||e>1,className:"px-6 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-100 disabled:opacity-50",children:"Back"}),e<1&&s.jsx("button",{onClick:()=>t(w=>w+1),className:"px-6 py-2 bg-purple-600 text-white rounded-md text-sm font-medium hover:bg-purple-700",children:"Next"}),e===1&&s.jsxs("button",{onClick:N,disabled:r,className:"px-6 py-2 bg-green-600 text-white rounded-md text-sm font-medium hover:bg-green-700 disabled:opacity-50 flex items-center",children:[r?"Generating...":"Create Workflow",!r&&s.jsx(_r,{className:"w-4 h-4 ml-2"})]})]})]})})},KG=()=>{const{eventId:e}=As(),t=ir(),[r,n]=I.useState(null),[a,i]=I.useState(null),[o,l]=I.useState(null),[c,u]=I.useState("overview"),[d,f]=I.useState(!0);if(I.useEffect(()=>{e&&(async()=>{try{const{data:{session:y}}=await He.auth.getSession();if(y!=null&&y.user){const{data:N}=await He.from("profiles").select("*").eq("id",y.user.id).single();l(N);const _=await kn.getEvent(e);if(_.data){n(_.data);const w=await bs.analyzeEventWorkflow(_.data,N.org_id);i(w)}}}catch(y){console.error("Error fetching event and workflow:",y),lt.error("Failed to load event workflow")}finally{f(!1)}})()},[e]),d)return s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-600 border-t-transparent"})});if(!r||!a)return s.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-8 text-center",children:[s.jsx(hS,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Event Not Found"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"The event workflow could not be loaded."}),s.jsx("button",{onClick:()=>t("/events"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Back to Events"})]});const h=()=>{var b,y,N,_,w,S,O,P;return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:r.title}),s.jsx("p",{className:"text-gray-600 mb-4",children:r.description}),s.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Lr,{className:"w-4 h-4"}),s.jsx("span",{children:new Date(r.event_date).toLocaleDateString()})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ca,{className:"w-4 h-4"}),s.jsxs("span",{children:[r.expected_attendance||"TBD"," expected"]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Un,{className:"w-4 h-4"}),s.jsxs("span",{children:["$",r.estimated_budget||0," budget"]})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(_r,{className:"w-5 h-5 text-purple-600"}),s.jsx("span",{className:"text-sm font-medium text-purple-700",children:"Stella Workflow"})]})]})}),a.eventComplexity&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Event Complexity Analysis"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:`text-2xl font-bold mb-1 ${a.eventComplexity.complexity==="complex"?"text-red-600":a.eventComplexity.complexity==="moderate"?"text-yellow-600":"text-green-600"}`,children:a.eventComplexity.complexity.toUpperCase()}),s.jsx("div",{className:"text-sm text-gray-600",children:"Complexity Level"})]}),s.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:[a.eventComplexity.score,"/10"]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Complexity Score"})]}),s.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[s.jsx(Ia,{className:"w-8 h-8 text-purple-600 mx-auto mb-2"}),s.jsxs("div",{className:"text-sm text-gray-600",children:[((b=a.workflowPlan)==null?void 0:b.recommendedTimeline)||"6-8 weeks"," Timeline"]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-4 text-center",children:[s.jsx(lb,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),s.jsx("div",{className:"text-lg font-semibold text-gray-900",children:((N=(y=a.workflowPlan)==null?void 0:y.keyMilestones)==null?void 0:N.length)||0}),s.jsx("div",{className:"text-sm text-gray-600",children:"Milestones"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-4 text-center",children:[s.jsx(ca,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),s.jsx("div",{className:"text-lg font-semibold text-gray-900",children:((w=(_=a.workflowPlan)==null?void 0:_.volunteerNeeds)==null?void 0:w.totalVolunteers)||0}),s.jsx("div",{className:"text-sm text-gray-600",children:"Volunteers Needed"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-4 text-center",children:[s.jsx(Ma,{className:"w-8 h-8 text-purple-600 mx-auto mb-2"}),s.jsx("div",{className:"text-lg font-semibold text-gray-900",children:Object.keys(((S=a.workflowPlan)==null?void 0:S.communicationPlan)||{}).length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Communication Phases"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-4 text-center",children:[s.jsx(Un,{className:"w-8 h-8 text-yellow-600 mx-auto mb-2"}),s.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["$",((P=(O=a.workflowPlan)==null?void 0:O.budgetRecommendations)==null?void 0:P.suggestedBudget)||r.estimated_budget||0]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Recommended Budget"})]})]})]})},m=()=>{var b;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Project Timeline"}),s.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[s.jsx(Ul,{className:"w-4 h-4"}),s.jsx("span",{children:"Add Milestone"})]})]}),(b=a.workflowPlan)!=null&&b.keyMilestones?s.jsx("div",{className:"space-y-4",children:a.workflowPlan.keyMilestones.map((y,N)=>s.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-bold ${N===0?"bg-green-600":"bg-blue-600"}`,children:y.week}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:y.milestone}),s.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:["Week ",y.week," milestone"]}),y.tasks&&s.jsx("ul",{className:"space-y-1",children:y.tasks.map((_,w)=>s.jsxs("li",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[s.jsx(Ur,{className:"w-4 h-4 text-green-500"}),s.jsx("span",{children:_})]},w))})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600",children:s.jsx(gn,{className:"w-4 h-4"})}),s.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600",children:s.jsx(zl,{className:"w-4 h-4"})})]})]})},N))}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Ia,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"No timeline generated yet"})]})]})},v=()=>{var b;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Budget Planning"}),s.jsxs("button",{onClick:()=>t("/budget/create"),className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[s.jsx(Ul,{className:"w-4 h-4"}),s.jsx("span",{children:"Create Budget"})]})]}),(b=a.workflowPlan)!=null&&b.budgetRecommendations?s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Recommended Budget"}),s.jsxs("div",{className:"text-3xl font-bold text-green-600 mb-2",children:["$",a.workflowPlan.budgetRecommendations.suggestedBudget]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Total recommended amount"})]}),a.workflowPlan.budgetRecommendations.breakdown&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Budget Breakdown"}),s.jsx("div",{className:"space-y-3",children:Object.entries(a.workflowPlan.budgetRecommendations.breakdown).map(([y,N])=>s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"capitalize text-gray-700",children:y}),s.jsxs("span",{className:"font-medium text-gray-900",children:["$",N]})]},y))})]})]}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Un,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"No budget recommendations generated yet"})]})]})},g=()=>{var b;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Communication Campaign"}),s.jsxs("button",{onClick:()=>t("/communications/compose"),className:"flex items-center space-x-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:[s.jsx(Ma,{className:"w-4 h-4"}),s.jsx("span",{children:"Create Campaign"})]})]}),(b=a.workflowPlan)!=null&&b.communicationPlan?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.entries(a.workflowPlan.communicationPlan).map(([y,N])=>s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[s.jsx(Ma,{className:"w-5 h-5 text-purple-600"}),s.jsx("h4",{className:"font-semibold text-gray-900 capitalize",children:y.replace(/([A-Z])/g," $1")})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:N}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-md text-sm hover:bg-purple-200",children:"Create Email"}),s.jsx("button",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-md text-sm hover:bg-blue-200",children:"Schedule SMS"})]})]},y))}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Ma,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"No communication plan generated yet"})]})]})},x=[{id:"overview",label:"Overview",icon:tp},{id:"timeline",label:"Timeline",icon:Ia},{id:"budget",label:"Budget",icon:Un},{id:"communications",label:"Communications",icon:Ma}];return s.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Event Workflow"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Comprehensive event management powered by Stella AI"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("button",{onClick:()=>t(`/events/${e}`),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"View Event"}),s.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center space-x-2",children:[s.jsx(mS,{className:"w-4 h-4"}),s.jsx("span",{children:"Export Workflow"})]})]})]}),s.jsx("div",{className:"border-b border-gray-200 mb-8",children:s.jsx("nav",{className:"-mb-px flex space-x-8",children:x.map(b=>{const y=b.icon;return s.jsxs("button",{onClick:()=>u(b.id),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ${c===b.id?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(y,{className:"w-4 h-4"}),s.jsx("span",{children:b.label})]},b.id)})})}),s.jsxs("div",{children:[c==="overview"&&s.jsx(h,{}),c==="timeline"&&s.jsx(m,{}),c==="budget"&&s.jsx(v,{}),c==="communications"&&s.jsx(g,{})]})]})};function XG(){const[e,t]=I.useState({title:"",description:"",event_date:"",start_time:"",end_time:"",location:"",school_level:"elementary",category:"",visibility:"public",estimated_budget:"",share_public:!1}),[r,n]=I.useState(""),a=ir(),{id:i}=As();I.useEffect(()=>{async function c(){const{data:u,error:d}=await He.from("events").select("*").eq("id",i).single();d?(n("Failed to load event."),console.error(d)):u&&t({title:u.title||"",description:u.description||"",event_date:u.event_date||"",start_time:u.start_time||"",end_time:u.end_time||"",location:u.location||"",school_level:u.school_level||"elementary",category:u.category||"",visibility:u.visibility||"public",estimated_budget:u.estimated_budget||"",share_public:!!u.share_public})}c()},[i]);const o=c=>{const{name:u,value:d,type:f,checked:h}=c.target;t(m=>({...m,[u]:f==="checkbox"?h:d}))},l=async c=>{c.preventDefault(),n("");const{error:u}=await He.from("events").update({title:e.title,description:e.description,event_date:e.event_date,start_time:e.start_time,end_time:e.end_time,location:e.location,school_level:e.school_level,category:e.category,visibility:e.visibility,estimated_budget:e.estimated_budget,share_public:e.share_public}).eq("id",i);u?(n("Update failed."),console.error(u)):a("/events")};return!e.title&&!e.event_date?s.jsx("p",{className:"p-4",children:"Loading event..."}):s.jsxs("div",{className:"max-w-2xl mx-auto p-6 space-y-6",children:[s.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Edit Event"}),r&&s.jsx("p",{className:"text-red-500 mb-2",children:r}),s.jsxs("form",{onSubmit:l,className:"space-y-4",children:[s.jsx("input",{name:"title",value:e.title,onChange:o,placeholder:"Event Title",className:"w-full border p-2",required:!0}),s.jsx("textarea",{name:"description",value:e.description,onChange:o,placeholder:"Description",className:"w-full border p-2"}),s.jsx("input",{type:"date",name:"event_date",value:e.event_date,onChange:o,className:"w-full border p-2",required:!0}),s.jsx("input",{type:"time",name:"start_time",value:e.start_time,onChange:o,className:"w-full border p-2"}),s.jsx("input",{type:"time",name:"end_time",value:e.end_time,onChange:o,className:"w-full border p-2"}),s.jsx("input",{name:"location",value:e.location,onChange:o,placeholder:"Location",className:"w-full border p-2"}),s.jsxs("select",{name:"school_level",value:e.school_level,onChange:o,className:"w-full border p-2",children:[s.jsx("option",{value:"elementary",children:"Elementary"}),s.jsx("option",{value:"upper_elementary",children:"Upper Elementary"}),s.jsx("option",{value:"middle",children:"Middle"}),s.jsx("option",{value:"junior_high",children:"Junior High"}),s.jsx("option",{value:"high",children:"High School"})]}),s.jsx("input",{name:"category",value:e.category,onChange:o,placeholder:"Category",className:"w-full border p-2"}),s.jsxs("select",{name:"visibility",value:e.visibility,onChange:o,className:"w-full border p-2",children:[s.jsx("option",{value:"public",children:"Public"}),s.jsx("option",{value:"private",children:"Private"})]}),s.jsx("input",{name:"estimated_budget",value:e.estimated_budget,onChange:o,placeholder:"Estimated Budget",className:"w-full border p-2"}),s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",name:"share_public",checked:e.share_public,onChange:o}),s.jsx("span",{children:"Share Publicly"})]}),s.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700",children:"Save Changes"})]})]})}const JG={"en-US":rx},ZG=jA({format:Pp,startOfWeek:Eo,getDay:OA,locales:JG});function QG(){const[e,t]=I.useState([]);return I.useEffect(()=>{async function r(){var c,u;const{data:{user:n},error:a}=await He.auth.getUser();if(a||!n){console.error("User error:",a);return}const i=((c=n==null?void 0:n.user_metadata)==null?void 0:c.org_id)||((u=n==null?void 0:n.app_metadata)==null?void 0:u.org_id);if(!i){console.error("Missing org_id in user metadata.");return}const{data:o,error:l}=await He.from("events").select("*").eq("org_id",i);if(l)console.error("Error loading events:",l);else{const d=o.map(f=>({id:f.id,title:f.title,start:new Date(f.event_date),end:new Date(f.event_date)}));t(d)}}r()},[]),s.jsxs("div",{className:"p-6 max-w-5xl mx-auto",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Event Calendar"}),s.jsx(wA,{localizer:ZG,events:e,startAccessor:"start",endAccessor:"end",style:{height:600}})]})}const Lu=[{key:"overview",label:"Overview"},{key:"budget",label:"Budget"},{key:"communications",label:"Communications"},{key:"fundraising",label:"Fundraising"},{key:"volunteers",label:"Volunteers"},{key:"project-management",label:"Event Management"},{key:"files",label:"Files/Docs"}],Bw=["Review your volunteer assignments to ensure all roles are filled.","Schedule a reminder email 3 days before the event for maximum turnout.","Check your budget for unallocated funds that could enhance the event experience."],qw="bg-white bg-opacity-80 rounded-2xl shadow-lg border border-purple-100",eV=()=>{const{id:e}=As(),t=ir(),r={overview:I.useRef(null),budget:I.useRef(null),communications:I.useRef(null),fundraising:I.useRef(null),volunteers:I.useRef(null),"project-management":I.useRef(null),files:I.useRef(null)},[n,a]=I.useState("overview"),[i,o]=I.useState(!1),[l,c]=I.useState(null),[u,d]=I.useState(!0),[f,h]=I.useState(null),[m,v]=I.useState([]),[g,x]=I.useState(!0),[b,y]=I.useState(null),[N,_]=I.useState([]),[w,S]=I.useState(!0),[O,P]=I.useState(null),[T,F]=I.useState([]),[k,C]=I.useState(!0),[D,M]=I.useState(null);I.useEffect(()=>{async function R(){d(!0),h(null);try{const{data:K,error:Y}=await He.from("events").select("*").eq("id",e).single();Y?h("Event not found."):c(K)}catch{h("Error loading event.")}finally{d(!1)}}e&&R()},[e]),I.useEffect(()=>{async function R(){if(e){x(!0),y(null);try{const{data:K,error:Y}=await He.from("expense_submissions").select("*").eq("event_id",e).order("expense_date",{ascending:!1});Y?y("Could not load expenses."):v(K||[])}catch{y("Error loading expenses.")}finally{x(!1)}}}R()},[e]),I.useEffect(()=>{async function R(){if(e){S(!0),P(null);try{const[K,Y,Z]=await Promise.all([He.from("email_campaigns").select("*").eq("org_id",l==null?void 0:l.org_id).order("created_at",{ascending:!1}),He.from("sms_campaigns").select("*").eq("org_id",l==null?void 0:l.org_id).order("created_at",{ascending:!1}),He.from("social_posts").select("*").eq("org_id",l==null?void 0:l.org_id).order("created_at",{ascending:!1})]);if(K.error||Y.error||Z.error)P("Could not load communications.");else{const ae=[...(K.data||[]).map($=>({...$,type:"email",campaign_name:$.subject})),...(Y.data||[]).map($=>({...$,type:"sms",campaign_name:$.name})),...(Z.data||[]).map($=>{var H;return{...$,type:"social",campaign_name:((H=$.content)==null?void 0:H.substring(0,50))+"..."}})];_(ae)}}catch{P("Error loading communications.")}finally{S(!1)}}}R()},[e,l==null?void 0:l.org_id]),I.useEffect(()=>{async function R(){if(e){C(!0),M(null);try{const{data:K,error:Y}=await He.from("fundraising_campaigns").select("*").eq("org_id",l==null?void 0:l.org_id).order("created_at",{ascending:!1});Y?M("Could not load fundraising campaigns."):F(K||[])}catch{M("Error loading fundraising campaigns.")}finally{C(!1)}}}R()},[e,l==null?void 0:l.org_id]);const U=R=>{var K;(K=r[R].current)==null||K.scrollIntoView({behavior:"smooth",block:"start"})};I.useEffect(()=>{const R=()=>{let Y=Lu[0].key;for(let Z=0;Z<Lu.length;Z++){const ae=r[Lu[Z].key].current;ae&&ae.getBoundingClientRect().top-100<=0&&(Y=Lu[Z].key)}a(Y),o(window.scrollY>300)};return window.addEventListener("scroll",R),()=>window.removeEventListener("scroll",R)},[]);const W=()=>{window.scrollTo({top:0,behavior:"smooth"})};return I.useEffect(()=>{l&&localStorage.setItem(`event-detail-${l.id}`,JSON.stringify(l))},[l]),I.useEffect(()=>{const R=localStorage.getItem(`event-detail-${e}`);!l&&R&&(c(JSON.parse(R)),d(!1))},[e]),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8 flex flex-col lg:flex-row gap-8",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"sticky top-0 z-10 bg-white bg-opacity-90 pt-2 pb-1 mb-6 border-b flex justify-evenly",style:{backdropFilter:"blur(4px)"},children:Lu.map(R=>s.jsx("button",{onClick:()=>U(R.key),className:`flex-1 text-center whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors ${n===R.key?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:R.label},R.key))}),s.jsxs("section",{ref:r.overview,id:"overview",className:"mb-12 scroll-mt-24",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Event Overview"}),u?s.jsx("div",{className:"bg-white rounded-xl shadow p-6 text-gray-500",children:"Loading event..."}):f?s.jsx("div",{className:"bg-white rounded-xl shadow p-6 text-red-500",children:f}):l?s.jsxs("div",{className:"bg-white rounded-xl shadow p-6 mb-4 flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"mb-2 flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:l.title}),s.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-700 capitalize",children:l.status})]}),s.jsx("div",{className:"text-gray-600 mb-2",children:l.description}),s.jsxs("div",{className:"flex flex-wrap gap-6 text-sm text-gray-500 mb-2",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Date:"})," ",l.event_date?new Date(l.event_date).toLocaleDateString():"N/A"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Location:"})," ",l.location||"N/A"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Progress:"})," ",l.progress?`${l.progress}%`:"N/A"]})]})]}),s.jsx("button",{onClick:()=>window.location.href=`/events/edit/${l.id}`,className:"px-4 py-2 rounded-lg bg-blue-600 text-white font-semibold shadow hover:bg-blue-700 transition",children:"Edit Event"})]}):null,s.jsx("div",{className:"block lg:hidden mb-6",children:s.jsxs("div",{className:`${qw} p-6 min-h-[180px]`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("span",{className:"text-purple-600 text-xl",children:"✨"}),s.jsx("span",{className:"font-bold text-lg text-purple-700",children:"Stella's Event Insights"})]}),s.jsx("ul",{className:"list-disc pl-5 text-purple-900 space-y-2",children:Bw.map((R,K)=>s.jsx("li",{children:R},K))}),s.jsx("div",{className:"mt-4 text-xs text-purple-400",children:"Tips powered by Stella AI"})]})})]}),s.jsxs("section",{ref:r.budget,id:"budget",className:"mb-12 scroll-mt-24",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Budget"}),g?s.jsx("div",{className:"bg-white rounded-xl shadow p-6 text-gray-500",children:"Loading expenses..."}):b?s.jsx("div",{className:"bg-white rounded-xl shadow p-6 text-red-500",children:b}):s.jsxs("div",{className:"bg-white rounded-xl shadow p-6",children:[s.jsxs("div",{className:"mb-4 flex flex-wrap gap-8 items-center",children:[s.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["Total Spent: ",s.jsxs("span",{className:"text-blue-700",children:["$",m.reduce((R,K)=>R+(parseFloat(K.amount)||0),0).toFixed(2)]})]}),s.jsxs("div",{className:"text-gray-600",children:[m.length," expense",m.length!==1?"s":""]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-sm border",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-50",children:[s.jsx("th",{className:"px-3 py-2 border-b text-left",children:"Date"}),s.jsx("th",{className:"px-3 py-2 border-b text-left",children:"Category"}),s.jsx("th",{className:"px-3 py-2 border-b text-left",children:"Vendor"}),s.jsx("th",{className:"px-3 py-2 border-b text-right",children:"Amount"}),s.jsx("th",{className:"px-3 py-2 border-b text-left",children:"Status"}),s.jsx("th",{className:"px-3 py-2 border-b text-left",children:"Description"})]})}),s.jsx("tbody",{children:m.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"text-center py-4 text-gray-400",children:"No expenses submitted for this event."})}):m.map(R=>s.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[s.jsx("td",{className:"px-3 py-2",children:R.expense_date?new Date(R.expense_date).toLocaleDateString():""}),s.jsx("td",{className:"px-3 py-2",children:R.category_id||"-"}),s.jsx("td",{className:"px-3 py-2",children:R.vendor_name||"-"}),s.jsxs("td",{className:"px-3 py-2 text-right",children:["$",parseFloat(R.amount).toFixed(2)]}),s.jsx("td",{className:"px-3 py-2 capitalize",children:R.status}),s.jsx("td",{className:"px-3 py-2",children:R.description||"-"})]},R.id))})]})})]})]}),s.jsxs("section",{ref:r.communications,id:"communications",className:"mb-12 scroll-mt-24",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Communications"}),w?s.jsx("div",{className:"bg-white rounded-xl shadow p-6 text-gray-500",children:"Loading communications..."}):O?s.jsx("div",{className:"bg-white rounded-xl shadow p-6 text-red-500",children:O}):s.jsxs("div",{className:"bg-white rounded-xl shadow p-6",children:[s.jsxs("div",{className:"mb-4 flex flex-wrap gap-8 items-center",children:[s.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["Total Campaigns: ",s.jsx("span",{className:"text-blue-700",children:N.length})]}),s.jsxs("div",{className:"text-gray-600",children:[N.filter(R=>R.type==="email").length," Email, "," ",N.filter(R=>R.type==="sms").length," SMS, "," ",N.filter(R=>R.type==="social").length," Social"]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-sm border",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-50",children:[s.jsx("th",{className:"px-3 py-2 border-b text-left",children:"Type"}),s.jsx("th",{className:"px-3 py-2 border-b text-left",children:"Campaign"}),s.jsx("th",{className:"px-3 py-2 border-b text-left",children:"Status"}),s.jsx("th",{className:"px-3 py-2 border-b text-left",children:"Date"}),s.jsx("th",{className:"px-3 py-2 border-b text-right",children:"Recipients"})]})}),s.jsx("tbody",{children:N.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"text-center py-4 text-gray-400",children:"No communications sent for this event."})}):N.map(R=>s.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[s.jsx("td",{className:"px-3 py-2",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${R.type==="email"?"bg-blue-100 text-blue-800":R.type==="sms"?"bg-green-100 text-green-800":"bg-purple-100 text-purple-800"}`,children:R.type.toUpperCase()})}),s.jsx("td",{className:"px-3 py-2",children:R.campaign_name||"-"}),s.jsx("td",{className:"px-3 py-2 capitalize",children:R.status}),s.jsx("td",{className:"px-3 py-2",children:R.sent_at?new Date(R.sent_at).toLocaleDateString():R.scheduled_for?new Date(R.scheduled_for).toLocaleDateString():new Date(R.created_at).toLocaleDateString()}),s.jsx("td",{className:"px-3 py-2 text-right",children:R.recipient_count||R.sent_count||"-"})]},R.id))})]})})]})]}),s.jsxs("section",{ref:r.fundraising,id:"fundraising",className:"mb-12 scroll-mt-24",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Fundraising"}),k?s.jsx("div",{className:"bg-white rounded-xl shadow p-6 text-gray-500",children:"Loading fundraising campaigns..."}):D?s.jsx("div",{className:"bg-white rounded-xl shadow p-6 text-red-500",children:D}):s.jsxs("div",{className:"bg-white rounded-xl shadow p-6",children:[s.jsxs("div",{className:"mb-4 flex flex-wrap gap-8 items-center",children:[s.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["Total Raised: ",s.jsxs("span",{className:"text-green-700",children:["$",T.reduce((R,K)=>R+(parseFloat(K.raised_amount)||0),0).toFixed(2)]})]}),s.jsxs("div",{className:"text-gray-600",children:[T.length," campaign",T.length!==1?"s":""]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-sm border",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-50",children:[s.jsx("th",{className:"px-3 py-2 border-b text-left",children:"Campaign"}),s.jsx("th",{className:"px-3 py-2 border-b text-left",children:"Type"}),s.jsx("th",{className:"px-3 py-2 border-b text-right",children:"Goal"}),s.jsx("th",{className:"px-3 py-2 border-b text-right",children:"Raised"}),s.jsx("th",{className:"px-3 py-2 border-b text-center",children:"Progress"}),s.jsx("th",{className:"px-3 py-2 border-b text-left",children:"Status"}),s.jsx("th",{className:"px-3 py-2 border-b text-left",children:"Dates"})]})}),s.jsx("tbody",{children:T.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"text-center py-4 text-gray-400",children:"No fundraising campaigns for this event."})}):T.map(R=>{const K=R.goal_amount>0?R.raised_amount/R.goal_amount*100:0;return s.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[s.jsx("td",{className:"px-3 py-2 font-medium",children:R.name}),s.jsx("td",{className:"px-3 py-2 capitalize",children:R.campaign_type||"-"}),s.jsxs("td",{className:"px-3 py-2 text-right",children:["$",parseFloat(R.goal_amount).toFixed(2)]}),s.jsxs("td",{className:"px-3 py-2 text-right",children:["$",parseFloat(R.raised_amount).toFixed(2)]}),s.jsx("td",{className:"px-3 py-2",children:s.jsxs("div",{className:"flex items-center justify-center",children:[s.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2 mr-2",children:s.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${Math.min(K,100)}%`}})}),s.jsxs("span",{className:"text-xs text-gray-600",children:[K.toFixed(0),"%"]})]})}),s.jsx("td",{className:"px-3 py-2",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${R.status==="active"?"bg-green-100 text-green-800":R.status==="completed"?"bg-blue-100 text-blue-800":R.status==="planning"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:R.status})}),s.jsxs("td",{className:"px-3 py-2 text-xs",children:[R.start_date?new Date(R.start_date).toLocaleDateString():""," - "," ",R.end_date?new Date(R.end_date).toLocaleDateString():""]})]},R.id)})})]})})]})]}),s.jsxs("section",{ref:r.volunteers,id:"volunteers",className:"mb-12 scroll-mt-24",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Volunteers"}),s.jsx("div",{className:"bg-white rounded-xl shadow p-6 text-gray-500",children:"Volunteer assignments and signups coming soon."})]}),s.jsxs("section",{ref:r["project-management"],id:"project-management",className:"mb-12 scroll-mt-24",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Event Management"}),s.jsx("div",{className:"bg-white rounded-xl shadow p-6",children:s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"text-gray-600 mb-4",children:"Manage tasks, milestones, and event progress for this event."}),s.jsx("button",{onClick:()=>t(`/events/${e}/event-management`),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Open Event Management"})]})})]}),s.jsxs("section",{ref:r.files,id:"files",className:"mb-12 scroll-mt-24",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Files & Documents"}),s.jsx("div",{className:"bg-white rounded-xl shadow p-6 text-gray-500",children:"Linked files, images, and forms coming soon."})]})]}),s.jsx("aside",{className:"hidden lg:block w-80 flex-shrink-0",children:s.jsxs("div",{className:`${qw} p-6 min-h-[220px] sticky top-24`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("span",{className:"text-purple-600 text-xl",children:"✨"}),s.jsx("span",{className:"font-bold text-lg text-purple-700",children:"Stella's Event Insights"})]}),s.jsx("ul",{className:"list-disc pl-5 text-purple-900 space-y-2",children:Bw.map((R,K)=>s.jsx("li",{children:R},K))}),s.jsx("div",{className:"mt-4 text-xs text-purple-400",children:"Tips powered by Stella AI"})]})}),i&&s.jsx("button",{onClick:W,className:"fixed bottom-8 right-8 z-50 bg-purple-500 text-white rounded-full shadow-lg p-3 hover:bg-purple-600 transition","aria-label":"Back to top",children:s.jsx(i0,{className:"w-6 h-6"})})]})};function yt({title:e,description:t,children:r,className:n="",...a}){return s.jsxs("div",{className:`
        bg-white rounded-lg shadow-md overflow-hidden
        ${n}
      `,...a,children:[(e||t)&&s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[e&&s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e}),t&&s.jsx("p",{className:"mt-1 text-sm text-gray-600",children:t})]}),s.jsx("div",{className:"p-6",children:r})]})}function Kt({label:e,error:t,as:r="input",className:n="",...a}){const i=r==="textarea"?"textarea":"input";return s.jsxs("div",{className:"space-y-1",children:[e&&s.jsx("label",{htmlFor:a.id,className:"block text-sm font-medium text-gray-700",children:e}),s.jsx(i,{className:`block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed ${t?"border-red-300 focus:border-red-500 focus:ring-red-500":""} ${n}`,...a}),t&&s.jsx("p",{className:"text-sm text-red-600",children:t})]})}function Tr({label:e,error:t,options:r=[],className:n="",...a}){return s.jsxs("div",{className:"space-y-1",children:[e&&s.jsx("label",{htmlFor:a.id,className:"block text-sm font-medium text-gray-700",children:e}),s.jsx("select",{className:`
          block w-full rounded-lg
          border-gray-300 shadow-sm
          focus:border-blue-500 focus:ring-blue-500
          disabled:bg-gray-100 disabled:cursor-not-allowed
          ${t?"border-red-300 focus:border-red-500 focus:ring-red-500":""}
          ${n}
        `,...a,children:r.map(i=>s.jsx("option",{value:i.value,children:i.label},i.value))}),t&&s.jsx("p",{className:"text-sm text-red-600",children:t})]})}const yn=({children:e,className:t="",...r})=>s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${t}`,...r,children:e}),KA=({value:e=0,className:t="",...r})=>s.jsx("div",{className:`w-full bg-gray-200 rounded-full h-2 ${t}`,...r,children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(Math.max(e,0),100)}%`}})}),am=({className:e="",...t})=>s.jsx("textarea",{className:`w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ${e}`,...t}),Zt=({children:e,className:t="",...r})=>s.jsx("label",{className:`block text-sm font-medium text-gray-700 mb-1 ${t}`,...r,children:e}),sx=I.createContext(),tV=({value:e,onValueChange:t,children:r,className:n=""})=>s.jsx(sx.Provider,{value:{value:e,onValueChange:t},children:s.jsx("div",{className:n,children:r})}),rV=({children:e,className:t=""})=>s.jsx("div",{className:`flex space-x-1 ${t}`,children:e}),Mu=({value:e,children:t,className:r=""})=>{const{value:n,onValueChange:a}=I.useContext(sx),i=n===e;return s.jsx("button",{onClick:()=>a(e),className:`px-3 py-2 text-sm font-medium rounded-md transition-colors ${i?"bg-blue-100 text-blue-700 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"} ${r}`,children:t})},$u=({value:e,children:t,className:r=""})=>{const{value:n}=I.useContext(sx);return n!==e?null:s.jsx("div",{className:r,children:t})},nV=I.createContext(),Jl=({open:e,onOpenChange:t,children:r})=>e?s.jsx(nV.Provider,{value:{open:e,onOpenChange:t},children:s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:()=>t(!1)}),s.jsx("div",{className:"relative bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:r})]})}):null,Zl=({children:e,className:t=""})=>s.jsx("div",{className:`p-6 ${t}`,children:e}),Ql=({children:e,className:t=""})=>s.jsx("div",{className:`mb-4 ${t}`,children:e}),ec=({children:e,className:t=""})=>s.jsx("h2",{className:`text-lg font-semibold text-gray-900 ${t}`,children:e}),aV=({task:e,onClose:t,onTaskUpdated:r})=>{const[n,a]=I.useState(!1),[i,o]=I.useState({title:(e==null?void 0:e.title)||"",description:(e==null?void 0:e.description)||"",status:(e==null?void 0:e.status)||"pending",priority:(e==null?void 0:e.priority)||"medium",category:(e==null?void 0:e.category)||"other",assigned_to:(e==null?void 0:e.assigned_to)||"",due_date:(e==null?void 0:e.due_date)||"",estimated_hours:(e==null?void 0:e.estimated_hours)||"",estimated_cost:(e==null?void 0:e.estimated_cost)||""}),[l,c]=I.useState(!1),[u,d]=I.useState(null),[f,h]=I.useState([]),[m,v]=I.useState("");I.useEffect(()=>{e&&g()},[e]);const g=async()=>{try{const S=await Ar.get(`/tasks/${e.id}/comments`);h(S.data)}catch(S){console.error("Error loading comments:",S)}},x=(S,O)=>{o(P=>({...P,[S]:O}))},b=async S=>{var O,P;if(S.preventDefault(),!i.title.trim()){d("Task title is required");return}c(!0),d(null);try{const T={...i,estimated_hours:i.estimated_hours?parseFloat(i.estimated_hours):null,estimated_cost:i.estimated_cost?parseFloat(i.estimated_cost):null};await Ar.put(`/tasks/${e.id}`,T),a(!1),r&&r()}catch(T){d(((P=(O=T.response)==null?void 0:O.data)==null?void 0:P.message)||"Failed to update task"),console.error("Error updating task:",T)}finally{c(!1)}},y=async()=>{if(confirm("Are you sure you want to delete this task?"))try{await Ar.delete(`/tasks/${e.id}`),t(),r&&r()}catch(S){d("Failed to delete task"),console.error("Error deleting task:",S)}},N=async()=>{if(m.trim())try{await Ar.post(`/tasks/${e.id}/comments`,{comment:m}),v(""),g()}catch(S){console.error("Error adding comment:",S)}},_=S=>{switch(S){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},w=S=>{switch(S){case"completed":return"bg-green-100 text-green-800";case"in_progress":return"bg-blue-100 text-blue-800";case"blocked":return"bg-red-100 text-red-800";case"pending":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return e?s.jsx(Jl,{open:!0,onOpenChange:t,children:s.jsxs(Zl,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Ql,{children:s.jsxs(ec,{className:"flex items-center justify-between",children:[s.jsx("span",{children:n?"Edit Task":"Task Details"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Je,{variant:"ghost",size:"sm",onClick:()=>a(!n),disabled:l,children:s.jsx(gn,{className:"h-4 w-4"})}),s.jsx(Je,{variant:"ghost",size:"sm",onClick:y,disabled:l,className:"text-red-600 hover:text-red-700",children:s.jsx(rf,{className:"h-4 w-4"})}),s.jsx(Je,{variant:"ghost",size:"sm",onClick:t,disabled:l,children:s.jsx(rp,{className:"h-4 w-4"})})]})]})}),n?s.jsxs("form",{onSubmit:b,className:"space-y-6",children:[u&&s.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:s.jsx("p",{className:"text-red-600 text-sm",children:u})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Zt,{htmlFor:"title",children:"Task Title *"}),s.jsx(Kt,{id:"title",value:i.title,onChange:S=>x("title",S.target.value),placeholder:"Enter task title...",required:!0})]}),s.jsxs("div",{children:[s.jsx(Zt,{htmlFor:"status",children:"Status"}),s.jsx(Tr,{value:i.status,onChange:S=>x("status",S.target.value),options:[{value:"pending",label:"Pending"},{value:"in_progress",label:"In Progress"},{value:"completed",label:"Completed"},{value:"blocked",label:"Blocked"}]})]}),s.jsxs("div",{children:[s.jsx(Zt,{htmlFor:"priority",children:"Priority"}),s.jsx(Tr,{value:i.priority,onChange:S=>x("priority",S.target.value),options:[{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"}]})]}),s.jsxs("div",{children:[s.jsx(Zt,{htmlFor:"category",children:"Category"}),s.jsx(Tr,{value:i.category,onChange:S=>x("category",S.target.value),options:[{value:"marketing",label:"Marketing"},{value:"volunteers",label:"Volunteers"},{value:"budget",label:"Budget"},{value:"logistics",label:"Logistics"},{value:"venue",label:"Venue"},{value:"supplies",label:"Supplies"},{value:"other",label:"Other"}]})]}),s.jsxs("div",{children:[s.jsx(Zt,{htmlFor:"assigned_to",children:"Assigned To"}),s.jsx(Kt,{id:"assigned_to",value:i.assigned_to,onChange:S=>x("assigned_to",S.target.value),placeholder:"Enter assignee name..."})]}),s.jsxs("div",{children:[s.jsx(Zt,{htmlFor:"due_date",children:"Due Date"}),s.jsx(Kt,{id:"due_date",type:"date",value:i.due_date,onChange:S=>x("due_date",S.target.value)})]}),s.jsxs("div",{children:[s.jsx(Zt,{htmlFor:"estimated_hours",children:"Estimated Hours"}),s.jsx(Kt,{id:"estimated_hours",type:"number",step:"0.5",min:"0",value:i.estimated_hours,onChange:S=>x("estimated_hours",S.target.value),placeholder:"0.0"})]}),s.jsxs("div",{children:[s.jsx(Zt,{htmlFor:"estimated_cost",children:"Estimated Cost"}),s.jsx(Kt,{id:"estimated_cost",type:"number",step:"0.01",min:"0",value:i.estimated_cost,onChange:S=>x("estimated_cost",S.target.value),placeholder:"0.00"})]})]}),s.jsxs("div",{children:[s.jsx(Zt,{htmlFor:"description",children:"Description"}),s.jsx(am,{id:"description",value:i.description,onChange:S=>x("description",S.target.value),placeholder:"Describe the task...",rows:4})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[s.jsx(Je,{type:"button",variant:"outline",onClick:()=>a(!1),disabled:l,children:"Cancel"}),s.jsx(Je,{type:"submit",disabled:l,children:l?"Saving...":"Save Changes"})]})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:e.title}),s.jsx("p",{className:"text-gray-600 mb-4",children:e.description}),s.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[s.jsx(yn,{className:w(e.status),children:e.status.replace("_"," ")}),s.jsx(yn,{className:_(e.priority),children:e.priority}),s.jsx(yn,{className:"bg-blue-100 text-blue-800",children:e.category})]}),s.jsxs("div",{className:"space-y-2",children:[e.assigned_to&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(nf,{className:"h-4 w-4 text-gray-500 mr-2"}),s.jsxs("span",{className:"text-sm",children:["Assigned to: ",e.assigned_to]})]}),e.due_date&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Lr,{className:"h-4 w-4 text-gray-500 mr-2"}),s.jsxs("span",{className:"text-sm",children:["Due: ",new Date(e.due_date).toLocaleDateString()]})]}),e.estimated_hours&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Clock,{className:"h-4 w-4 text-gray-500 mr-2"}),s.jsxs("span",{className:"text-sm",children:["Estimated: ",e.estimated_hours," hours"]})]}),e.estimated_cost&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(cb,{className:"h-4 w-4 text-gray-500 mr-2"}),s.jsxs("span",{className:"text-sm",children:["Cost: $",e.estimated_cost]})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-3",children:"Task Progress"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Created"}),s.jsx("span",{className:"text-sm",children:new Date(e.created_at).toLocaleDateString()})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Last Updated"}),s.jsx("span",{className:"text-sm",children:new Date(e.updated_at).toLocaleDateString()})]}),e.completed_at&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Completed"}),s.jsx("span",{className:"text-sm",children:new Date(e.completed_at).toLocaleDateString()})]})]})]})]}),s.jsxs("div",{className:"border-t pt-6",children:[s.jsxs("h4",{className:"font-semibold mb-4 flex items-center",children:[s.jsx(Ma,{className:"h-4 w-4 mr-2"}),"Comments (",f.length,")"]}),s.jsx("div",{className:"space-y-4 mb-4",children:f.map(S=>s.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"font-medium text-sm",children:S.user_name}),s.jsx("span",{className:"text-xs text-gray-500",children:new Date(S.created_at).toLocaleDateString()})]}),s.jsx("p",{className:"text-sm text-gray-700",children:S.comment})]},S.id))}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(am,{value:m,onChange:S=>v(S.target.value),placeholder:"Add a comment...",rows:2,className:"flex-1"}),s.jsx(Je,{onClick:N,disabled:!m.trim(),children:"Add"})]})]})]})]})}):null},XA=({eventId:e,onClose:t,onTaskAdded:r})=>{const[n,a]=I.useState({title:"",description:"",assigned_to:"",assigned_to_external:"",due_date:"",priority:"medium",status:"pending",category:"other",estimated_hours:"",estimated_cost:"",parent_task_id:""}),[i,o]=I.useState(!1),[l,c]=I.useState(null),[u,d]=I.useState([]),[f,h]=I.useState([]);I.useEffect(()=>{m(),v()},[]);const m=async()=>{var y;try{console.log("🔍 [AddTaskModal] Loading users...");const N=await _6.getUsers();console.log("📊 [AddTaskModal] Users response:",N);const _=Array.isArray((y=N.data)==null?void 0:y.profiles)?N.data.profiles:Array.isArray(N.data)?N.data:[];console.log("👥 [AddTaskModal] User list:",_);const w=_.sort((S,O)=>{const P=S.full_name||(S.first_name&&S.last_name?`${S.first_name} ${S.last_name}`:S.email)||"",T=O.full_name||(O.first_name&&O.last_name?`${O.first_name} ${O.last_name}`:O.email)||"";return P.localeCompare(T)});console.log("✅ [AddTaskModal] Sorted users:",w),d(w)}catch(N){console.error("❌ [AddTaskModal] Error loading users:",N),d([])}},v=async()=>{try{const y=await kn.getEventTasks(e),N=Array.isArray(y.data)?y.data:[];h(N.filter(_=>_.status!=="completed"))}catch(y){console.error("Error loading parent tasks:",y),h([])}},g=(y,N)=>{a(_=>({..._,[y]:N}))},x=async y=>{var N,_;if(y.preventDefault(),!n.title.trim()){c("Task title is required");return}o(!0),c(null);try{const w={...n,estimated_hours:n.estimated_hours?parseFloat(n.estimated_hours):null,estimated_cost:n.estimated_cost?parseFloat(n.estimated_cost):null,assigned_to:n.assigned_to||null,parent_task_id:n.parent_task_id||null};await kn.createTask(e,w),r()}catch(w){c(((_=(N=w.response)==null?void 0:N.data)==null?void 0:_.message)||"Failed to create task"),console.error("Error creating task:",w)}finally{o(!1)}},b=()=>{i||t()};return s.jsx(Jl,{open:!0,onOpenChange:b,children:s.jsxs(Zl,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Ql,{children:s.jsxs(ec,{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Add New Task"}),s.jsx(Je,{variant:"ghost",size:"sm",onClick:b,disabled:i,children:s.jsx(rp,{className:"h-4 w-4"})})]})}),s.jsxs("form",{onSubmit:x,className:"space-y-6",children:[l&&s.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:s.jsx("p",{className:"text-red-600 text-sm",children:l})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Zt,{htmlFor:"title",className:"flex items-center",children:s.jsx("span",{className:"mr-2",children:"Task Title *"})}),s.jsx(Kt,{id:"title",value:n.title,onChange:y=>g("title",y.target.value),placeholder:"Enter task title...",required:!0})]}),s.jsxs("div",{children:[s.jsx(Zt,{htmlFor:"description",children:"Description"}),s.jsx(am,{id:"description",value:n.description,onChange:y=>g("description",y.target.value),placeholder:"Describe the task...",rows:3})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs(Zt,{htmlFor:"assigned_to",className:"flex items-center",children:[s.jsx(nf,{className:"h-4 w-4 mr-2"}),"Assign to Member"]}),s.jsx(Tr,{value:n.assigned_to,onChange:y=>g("assigned_to",y.target.value),options:[{value:"",label:"Select a member..."},...u.map(y=>({value:y.id,label:y.full_name||(y.first_name&&y.last_name?`${y.first_name} ${y.last_name}`:y.email)}))]})]}),s.jsxs("div",{children:[s.jsx(Zt,{htmlFor:"assigned_to_external",children:"External Assignment"}),s.jsx(Kt,{id:"assigned_to_external",value:n.assigned_to_external,onChange:y=>g("assigned_to_external",y.target.value),placeholder:"e.g., Principal, Facilities Manager"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs(Zt,{htmlFor:"priority",className:"flex items-center",children:[s.jsx(cb,{className:"h-4 w-4 mr-2"}),"Priority"]}),s.jsx(Tr,{value:n.priority,onChange:y=>g("priority",y.target.value),options:[{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"}]})]}),s.jsxs("div",{children:[s.jsx(Zt,{htmlFor:"status",children:"Status"}),s.jsx(Tr,{value:n.status,onChange:y=>g("status",y.target.value),options:[{value:"pending",label:"Pending"},{value:"in_progress",label:"In Progress"},{value:"completed",label:"Completed"},{value:"blocked",label:"Blocked"}]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Zt,{htmlFor:"category",children:"Category"}),s.jsx(Tr,{value:n.category,onChange:y=>g("category",y.target.value),options:[{value:"marketing",label:"Marketing"},{value:"volunteers",label:"Volunteers"},{value:"budget",label:"Budget"},{value:"logistics",label:"Logistics"},{value:"venue",label:"Venue"},{value:"supplies",label:"Supplies"},{value:"other",label:"Other"}]})]}),s.jsxs("div",{children:[s.jsx(Zt,{htmlFor:"parent_task_id",children:"Parent Task (Optional)"}),s.jsx(Tr,{value:n.parent_task_id,onChange:y=>g("parent_task_id",y.target.value),options:[{value:"",label:"No parent task"},...f.map(y=>({value:y.id,label:y.title}))]})]})]}),s.jsxs("div",{children:[s.jsxs(Zt,{htmlFor:"due_date",className:"flex items-center",children:[s.jsx(Lr,{className:"h-4 w-4 mr-2"}),"Due Date"]}),s.jsx(Kt,{id:"due_date",type:"date",value:n.due_date,onChange:y=>g("due_date",y.target.value)})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs(Zt,{htmlFor:"estimated_hours",className:"flex items-center",children:[s.jsx(Ia,{className:"h-4 w-4 mr-2"}),"Estimated Hours"]}),s.jsx(Kt,{id:"estimated_hours",type:"number",step:"0.5",min:"0",value:n.estimated_hours,onChange:y=>g("estimated_hours",y.target.value),placeholder:"0.0"})]}),s.jsxs("div",{children:[s.jsxs(Zt,{htmlFor:"estimated_cost",className:"flex items-center",children:[s.jsx(Un,{className:"h-4 w-4 mr-2"}),"Estimated Cost"]}),s.jsx(Kt,{id:"estimated_cost",type:"number",step:"0.01",min:"0",value:n.estimated_cost,onChange:y=>g("estimated_cost",y.target.value),placeholder:"0.00"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[s.jsx(Je,{type:"button",variant:"outline",onClick:b,disabled:i,children:"Cancel"}),s.jsx(Je,{type:"submit",disabled:i,children:i?"Creating...":"Create Task"})]})]})]})})},iV=({eventId:e,onTaskUpdated:t})=>{const[r,n]=I.useState([]),[a,i]=I.useState(!0),[o,l]=I.useState(null),[c,u]=I.useState({status:"all",priority:"all",category:"all",assigned:"all"}),[d,f]=I.useState(""),[h,m]=I.useState("due_date"),[v,g]=I.useState(!1),[x,b]=I.useState(!1),[y,N]=I.useState(null);I.useEffect(()=>{_()},[e]);const _=async()=>{var M,U,W;try{i(!0),l(null);const{data:{session:R},error:K}=await He.auth.getSession();if(console.log("🔍 [DEBUG] Session check before API call:",{hasSession:!!R,hasToken:!!(R!=null&&R.access_token),tokenLength:(M=R==null?void 0:R.access_token)==null?void 0:M.length,sessionError:K}),!(R!=null&&R.access_token)){console.warn("⚠️ [DEBUG] No valid session found, attempting refresh...");const{data:Z,error:ae}=await He.auth.refreshSession();console.log("🔍 [DEBUG] Session refresh result:",{hasRefreshSession:!!(Z!=null&&Z.session),refreshError:ae})}const Y=await kn.getEventTasks(e);n(Array.isArray(Y.data)?Y.data:[])}catch(R){console.error("❌ [DEBUG] Full error details:",{message:R.message,response:(U=R.response)==null?void 0:U.data,status:(W=R.response)==null?void 0:W.status,stack:R.stack}),l("Failed to load tasks - Authentication issue. Please try refreshing the page."),n([])}finally{i(!1)}},w=M=>{N(M),g(!0)},S=()=>{g(!1),b(!1),_(),t&&t()},O=async M=>{if(confirm("Are you sure you want to delete this task?"))try{await kn.deleteTask(e,M),_(),t&&t()}catch(U){console.error("Error deleting task:",U)}},P=M=>{switch(M){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},T=M=>{switch(M){case"completed":return"bg-green-100 text-green-800";case"in_progress":return"bg-blue-100 text-blue-800";case"blocked":return"bg-red-100 text-red-800";case"pending":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},F=M=>{switch(M){case"marketing":return"📢";case"volunteers":return"👥";case"budget":return"💰";case"logistics":return"📦";case"venue":return"🏢";case"supplies":return"📋";default:return"📝"}},k=Array.isArray(r)?r:[],C=k.filter(M=>{var Z;const U=M.title.toLowerCase().includes(d.toLowerCase())||((Z=M.description)==null?void 0:Z.toLowerCase().includes(d.toLowerCase())),W=c.status==="all"||M.status===c.status,R=c.priority==="all"||M.priority===c.priority,K=c.category==="all"||M.category===c.category,Y=c.assigned==="all"||c.assigned==="assigned"&&M.assigned_to||c.assigned==="unassigned"&&!M.assigned_to;return U&&W&&R&&K&&Y}),D=[...C].sort((M,U)=>{switch(h){case"due_date":return!M.due_date&&!U.due_date?0:M.due_date?U.due_date?new Date(M.due_date)-new Date(U.due_date):-1:1;case"priority":const W={high:3,medium:2,low:1};return W[U.priority]-W[M.priority];case"status":const R={pending:1,in_progress:2,completed:3,blocked:4};return R[M.status]-R[U.status];case"title":return M.title.localeCompare(U.title);default:return 0}});return a?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):o?s.jsxs(yt,{className:"p-6 text-center",children:[s.jsx("p",{className:"text-red-600",children:o}),s.jsx(Je,{onClick:_,variant:"outline",className:"mt-4",children:"Retry"})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h2",{className:"text-2xl font-bold",children:["Tasks (",k.length,")"]}),s.jsxs(Je,{onClick:()=>b(!0),className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(Ul,{className:"h-4 w-4 mr-2"}),"Add Task"]})]}),s.jsx(yt,{className:"p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[s.jsx("div",{className:"md:col-span-2",children:s.jsxs("div",{className:"relative",children:[s.jsx(ub,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx(Kt,{placeholder:"Search tasks...",value:d,onChange:M=>f(M.target.value),className:"pl-10"})]})}),s.jsx(Tr,{value:c.status,onChange:M=>u({...c,status:M.target.value}),options:[{value:"all",label:"All Status"},{value:"pending",label:"Pending"},{value:"in_progress",label:"In Progress"},{value:"completed",label:"Completed"},{value:"blocked",label:"Blocked"}]}),s.jsx(Tr,{value:c.priority,onChange:M=>u({...c,priority:M.target.value}),options:[{value:"all",label:"All Priorities"},{value:"high",label:"High"},{value:"medium",label:"Medium"},{value:"low",label:"Low"}]}),s.jsx(Tr,{value:c.category,onChange:M=>u({...c,category:M.target.value}),options:[{value:"all",label:"All Categories"},{value:"marketing",label:"Marketing"},{value:"volunteers",label:"Volunteers"},{value:"budget",label:"Budget"},{value:"logistics",label:"Logistics"},{value:"venue",label:"Venue"},{value:"supplies",label:"Supplies"},{value:"other",label:"Other"}]}),s.jsx(Tr,{value:c.assigned,onChange:M=>u({...c,assigned:M.target.value}),options:[{value:"all",label:"All Assignments"},{value:"assigned",label:"Assigned"},{value:"unassigned",label:"Unassigned"}]})]})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Sort by:"}),s.jsx(Tr,{value:h,onChange:M=>m(M.target.value),options:[{value:"due_date",label:"Due Date"},{value:"priority",label:"Priority"},{value:"status",label:"Status"},{value:"title",label:"Title"}]})]}),s.jsxs("span",{className:"text-sm text-gray-600",children:[C.length," of ",k.length," tasks"]})]}),s.jsx("div",{className:"space-y-3",children:D.length===0?s.jsxs(yt,{className:"p-8 text-center",children:[s.jsx("p",{className:"text-gray-600",children:"No tasks found matching your criteria."}),s.jsx(Je,{onClick:()=>b(!0),variant:"outline",className:"mt-4",children:"Add First Task"})]}):D.map(M=>s.jsx(yt,{className:"p-4 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>w(M),children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("span",{className:"text-lg",children:F(M.category)}),s.jsx("h3",{className:"font-semibold text-lg",children:M.title}),s.jsxs(yn,{className:P(M.priority),children:[s.jsx(cb,{className:"h-3 w-3 mr-1"}),M.priority]}),s.jsx(yn,{className:T(M.status),children:M.status.replace("_"," ")})]}),M.description&&s.jsx("p",{className:"text-gray-600 mb-3 line-clamp-2",children:M.description}),s.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-500",children:[M.due_date&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Lr,{className:"h-4 w-4 mr-1"}),new Date(M.due_date).toLocaleDateString()]}),M.assigned_to&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(nf,{className:"h-4 w-4 mr-1"}),"Assigned"]}),M.estimated_hours&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Clock,{className:"h-4 w-4 mr-1"}),M.estimated_hours,"h"]}),M.estimated_cost&&s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"mr-1",children:"$"}),M.estimated_cost]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[s.jsx(Je,{size:"sm",variant:"ghost",onClick:U=>{U.stopPropagation(),w(M)},children:s.jsx(gn,{className:"h-4 w-4"})}),s.jsx(Je,{size:"sm",variant:"ghost",onClick:U=>{U.stopPropagation(),O(M.id)},children:s.jsx(rf,{className:"h-4 w-4"})})]})]})},M.id))}),v&&y&&s.jsx(aV,{task:y,onClose:()=>{g(!1),N(null)},onTaskUpdated:S}),x&&s.jsx(XA,{eventId:e,onClose:()=>b(!1),onTaskAdded:S})]})},JA=({eventId:e,onClose:t,onMilestoneAdded:r})=>{const[n,a]=I.useState({title:"",description:"",due_date:"",estimated_hours:"",estimated_cost:""}),[i,o]=I.useState(!1),[l,c]=I.useState(null),u=(h,m)=>{a(v=>({...v,[h]:m}))},d=async h=>{var m,v;if(h.preventDefault(),!n.title.trim()){c("Milestone title is required");return}o(!0),c(null);try{const g={...n,event_id:e,estimated_hours:n.estimated_hours?parseFloat(n.estimated_hours):null,estimated_cost:n.estimated_cost?parseFloat(n.estimated_cost):null};await kn.createMilestone(e,g),r()}catch(g){c(((v=(m=g.response)==null?void 0:m.data)==null?void 0:v.message)||"Failed to create milestone"),console.error("Error creating milestone:",g)}finally{o(!1)}},f=()=>{i||t()};return s.jsx(Jl,{open:!0,onOpenChange:f,children:s.jsxs(Zl,{className:"max-w-2xl",children:[s.jsx(Ql,{children:s.jsxs(ec,{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Add New Milestone"}),s.jsx(Je,{variant:"ghost",size:"sm",onClick:f,disabled:i,children:s.jsx(rp,{className:"h-4 w-4"})})]})}),s.jsxs("form",{onSubmit:d,className:"space-y-6",children:[l&&s.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:s.jsx("p",{className:"text-red-600 text-sm",children:l})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Zt,{htmlFor:"title",children:"Milestone Title *"}),s.jsx(Kt,{id:"title",value:n.title,onChange:h=>u("title",h.target.value),placeholder:"Enter milestone title...",required:!0})]}),s.jsxs("div",{children:[s.jsx(Zt,{htmlFor:"description",children:"Description"}),s.jsx(am,{id:"description",value:n.description,onChange:h=>u("description",h.target.value),placeholder:"Describe the milestone...",rows:3})]})]}),s.jsxs("div",{children:[s.jsxs(Zt,{htmlFor:"due_date",className:"flex items-center",children:[s.jsx(Lr,{className:"h-4 w-4 mr-2"}),"Target Date"]}),s.jsx(Kt,{id:"due_date",type:"date",value:n.due_date,onChange:h=>u("due_date",h.target.value)})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs(Zt,{htmlFor:"estimated_hours",className:"flex items-center",children:[s.jsx(Ia,{className:"h-4 w-4 mr-2"}),"Estimated Hours"]}),s.jsx(Kt,{id:"estimated_hours",type:"number",step:"0.5",min:"0",value:n.estimated_hours,onChange:h=>u("estimated_hours",h.target.value),placeholder:"0.0"})]}),s.jsxs("div",{children:[s.jsxs(Zt,{htmlFor:"estimated_cost",className:"flex items-center",children:[s.jsx(Un,{className:"h-4 w-4 mr-2"}),"Estimated Cost"]}),s.jsx(Kt,{id:"estimated_cost",type:"number",step:"0.01",min:"0",value:n.estimated_cost,onChange:h=>u("estimated_cost",h.target.value),placeholder:"0.00"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[s.jsx(Je,{type:"button",variant:"outline",onClick:f,disabled:i,children:"Cancel"}),s.jsx(Je,{type:"submit",disabled:i,children:i?"Creating...":"Create Milestone"})]})]})]})})},sV=({eventId:e,onMilestoneUpdated:t})=>{const[r,n]=I.useState([]),[a,i]=I.useState(!0),[o,l]=I.useState(null),[c,u]=I.useState(!1),[d,f]=I.useState(null);I.useEffect(()=>{h()},[e]);const h=async()=>{try{i(!0),l(null);const O=await kn.getEventMilestones(e);n(Array.isArray(O.data)?O.data:[])}catch(O){l("Failed to load milestones"),n([]),console.error("Error loading milestones:",O)}finally{i(!1)}},m=O=>{f(O)},v=()=>{u(!1),h(),t&&t()},g=async O=>{if(confirm("Are you sure you want to delete this milestone?"))try{await kn.deleteMilestone(e,O),h(),t&&t()}catch(P){console.error("Error deleting milestone:",P)}},x=O=>{switch(O){case"completed":return"bg-green-100 text-green-800";case"in_progress":return"bg-blue-100 text-blue-800";case"upcoming":return"bg-gray-100 text-gray-800";case"overdue":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},b=O=>{switch(O){case"completed":return s.jsx(Ur,{className:"h-5 w-5 text-green-600"});case"in_progress":return s.jsx(Ia,{className:"h-5 w-5 text-blue-600"});case"upcoming":return s.jsx(Lr,{className:"h-5 w-5 text-gray-600"});case"overdue":return s.jsx(Wl,{className:"h-5 w-5 text-red-600"});default:return s.jsx(Lr,{className:"h-5 w-5 text-gray-600"})}},y=Array.isArray(r)?r:[],N=[...y].sort((O,P)=>!O.due_date&&!P.due_date?0:O.due_date?P.due_date?new Date(O.due_date)-new Date(P.due_date):-1:1),_=y.filter(O=>O.status==="completed").length,w=y.length,S=w>0?_/w*100:0;return a?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):o?s.jsxs(yt,{className:"p-6 text-center",children:[s.jsx("p",{className:"text-red-600",children:o}),s.jsx(Je,{onClick:h,variant:"outline",className:"mt-4",children:"Retry"})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h2",{className:"text-2xl font-bold",children:["Milestones (",y.length,")"]}),s.jsxs(Je,{onClick:()=>u(!0),className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(Ul,{className:"h-4 w-4 mr-2"}),"Add Milestone"]})]}),s.jsxs(yt,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Overall Progress"}),s.jsxs("span",{className:"text-sm text-gray-600",children:[_," of ",w," completed"]})]}),s.jsx(KA,{value:S,className:"mb-2"}),s.jsxs("p",{className:"text-sm text-gray-600",children:[S.toFixed(1),"% complete"]})]}),s.jsx("div",{className:"space-y-4",children:N.length===0?s.jsxs(yt,{className:"p-8 text-center",children:[s.jsx(Lr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"No milestones created yet."}),s.jsx(Je,{onClick:()=>u(!0),variant:"outline",children:"Add First Milestone"})]}):N.map((O,P)=>s.jsx(yt,{className:"p-4 hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-600"}),P<N.length-1&&s.jsx("div",{className:"w-0.5 h-8 bg-gray-300 mt-2"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[b(O.status),s.jsx("h3",{className:"font-semibold text-lg",children:O.title}),s.jsx(yn,{className:x(O.status),children:O.status.replace("_"," ")})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Je,{size:"sm",variant:"ghost",onClick:()=>m(O),children:s.jsx(gn,{className:"h-4 w-4"})}),s.jsx(Je,{size:"sm",variant:"ghost",onClick:()=>g(O.id),children:s.jsx(rf,{className:"h-4 w-4"})})]})]}),O.description&&s.jsx("p",{className:"text-gray-600 mb-3",children:O.description}),s.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-500",children:[O.due_date&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Lr,{className:"h-4 w-4 mr-1"}),"Target: ",new Date(O.due_date).toLocaleDateString()]}),O.completed_date&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ur,{className:"h-4 w-4 mr-1"}),"Completed: ",new Date(O.completed_date).toLocaleDateString()]}),O.estimated_hours&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ia,{className:"h-4 w-4 mr-1"}),O.estimated_hours,"h estimated"]}),O.estimated_cost&&s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"mr-1",children:"$"}),O.estimated_cost," estimated"]})]}),O.associated_tasks&&O.associated_tasks.length>0&&s.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[s.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Associated Tasks:"}),s.jsx("div",{className:"space-y-1",children:O.associated_tasks.map(T=>s.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[s.jsx("span",{className:"w-2 h-2 rounded-full bg-gray-400"}),s.jsx("span",{className:T.status==="completed"?"line-through text-gray-500":"",children:T.title}),s.jsx(yn,{className:x(T.status),children:T.status.replace("_"," ")})]},T.id))})]})]})]})},O.id))}),d&&s.jsx(Jl,{open:!0,onOpenChange:()=>f(null),children:s.jsxs(Zl,{className:"max-w-2xl",children:[s.jsx(Ql,{children:s.jsxs(ec,{className:"flex items-center space-x-3",children:[b(d.status),s.jsx("span",{children:"Milestone Details"})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg",children:d.title}),s.jsx(yn,{className:x(d.status),children:d.status.replace("_"," ")})]}),d.description&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Description"}),s.jsx("p",{className:"text-gray-600",children:d.description})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.due_date&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-1",children:"Target Date"}),s.jsx("p",{className:"text-gray-600",children:new Date(d.due_date).toLocaleDateString()})]}),d.completed_date&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-1",children:"Completed Date"}),s.jsx("p",{className:"text-gray-600",children:new Date(d.completed_date).toLocaleDateString()})]}),d.estimated_hours&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-1",children:"Estimated Hours"}),s.jsxs("p",{className:"text-gray-600",children:[d.estimated_hours,"h"]})]}),d.estimated_cost&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-1",children:"Estimated Cost"}),s.jsxs("p",{className:"text-gray-600",children:["$",d.estimated_cost]})]})]})]})]})}),c&&s.jsx(JA,{eventId:e,onClose:()=>u(!1),onMilestoneAdded:v})]})},oV=({eventId:e,onIssueUpdated:t})=>{const[r,n]=I.useState([]),[a,i]=I.useState(!0),[o,l]=I.useState(null),[c,u]=I.useState({status:"all",priority:"all",type:"all"}),[d,f]=I.useState(""),[h,m]=I.useState(!1),[v,g]=I.useState(null);I.useEffect(()=>{x()},[e]);const x=async()=>{try{i(!0),l(null);const T=await kn.getEventIssues(e);n(Array.isArray(T.data)?T.data:[])}catch(T){l("Failed to load issues"),n([]),console.error("Error loading issues:",T)}finally{i(!1)}},b=T=>{g(T)},y=async T=>{if(confirm("Are you sure you want to delete this issue?"))try{await kn.deleteIssue(e,T),x(),t&&t()}catch(F){console.error("Error deleting issue:",F)}},N=T=>{switch(T){case"critical":return"bg-red-100 text-red-800";case"high":return"bg-orange-100 text-orange-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},_=T=>{switch(T){case"resolved":return"bg-green-100 text-green-800";case"in_progress":return"bg-blue-100 text-blue-800";case"open":return"bg-gray-100 text-gray-800";case"blocked":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},w=T=>{switch(T){case"blocker":return"🚫";case"bug":return"🐛";case"feature_request":return"💡";case"improvement":return"⚡";case"question":return"❓";default:return"⚠️"}},S=Array.isArray(r)?r:[],P=[...S.filter(T=>{var M;const F=T.title.toLowerCase().includes(d.toLowerCase())||((M=T.description)==null?void 0:M.toLowerCase().includes(d.toLowerCase())),k=c.status==="all"||T.status===c.status,C=c.priority==="all"||T.priority===c.priority,D=c.type==="all"||T.type===c.type;return F&&k&&C&&D})].sort((T,F)=>{const k={critical:4,high:3,medium:2,low:1},C=k[F.priority]-k[T.priority];return C!==0?C:new Date(F.created_at)-new Date(T.created_at)});return a?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):o?s.jsxs(yt,{className:"p-6 text-center",children:[s.jsx("p",{className:"text-red-600",children:o}),s.jsx(Je,{onClick:x,variant:"outline",className:"mt-4",children:"Retry"})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h2",{className:"text-2xl font-bold",children:["Issues (",S.length,")"]}),s.jsxs(Je,{onClick:()=>m(!0),className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(Ul,{className:"h-4 w-4 mr-2"}),"Report Issue"]})]}),s.jsx(yt,{className:"p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsx("div",{className:"md:col-span-2",children:s.jsxs("div",{className:"relative",children:[s.jsx(ub,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx(Kt,{placeholder:"Search issues...",value:d,onChange:T=>f(T.target.value),className:"pl-10"})]})}),s.jsx(Tr,{value:c.status,onChange:T=>u({...c,status:T.target.value}),options:[{value:"all",label:"All Status"},{value:"open",label:"Open"},{value:"in_progress",label:"In Progress"},{value:"resolved",label:"Resolved"},{value:"blocked",label:"Blocked"}]}),s.jsx(Tr,{value:c.priority,onChange:T=>u({...c,priority:T.target.value}),options:[{value:"all",label:"All Priorities"},{value:"critical",label:"Critical"},{value:"high",label:"High"},{value:"medium",label:"Medium"},{value:"low",label:"Low"}]}),s.jsx(Tr,{value:c.type,onChange:T=>u({...c,type:T.target.value}),options:[{value:"all",label:"All Types"},{value:"blocker",label:"Blocker"},{value:"bug",label:"Bug"},{value:"feature_request",label:"Feature Request"},{value:"improvement",label:"Improvement"},{value:"question",label:"Question"}]})]})}),s.jsx("div",{className:"space-y-3",children:P.length===0?s.jsxs(yt,{className:"p-8 text-center",children:[s.jsx(Wl,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"No issues found matching your criteria."}),s.jsx(Je,{onClick:()=>m(!0),variant:"outline",children:"Report First Issue"})]}):P.map(T=>s.jsx(yt,{className:"p-4 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>b(T),children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("span",{className:"text-lg",children:w(T.type)}),s.jsx("h3",{className:"font-semibold text-lg",children:T.title}),s.jsx(yn,{className:N(T.priority),children:T.priority}),s.jsx(yn,{className:_(T.status),children:T.status.replace("_"," ")})]}),T.description&&s.jsx("p",{className:"text-gray-600 mb-3 line-clamp-2",children:T.description}),s.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-500",children:[T.reported_by&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(nf,{className:"h-4 w-4 mr-1"}),T.reported_by]}),T.created_at&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ia,{className:"h-4 w-4 mr-1"}),new Date(T.created_at).toLocaleDateString()]}),T.resolved_at&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ur,{className:"h-4 w-4 mr-1"}),"Resolved ",new Date(T.resolved_at).toLocaleDateString()]}),T.comments_count>0&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ma,{className:"h-4 w-4 mr-1"}),T.comments_count," comments"]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[s.jsx(Je,{size:"sm",variant:"ghost",onClick:F=>{F.stopPropagation(),b(T)},children:s.jsx(gn,{className:"h-4 w-4"})}),s.jsx(Je,{size:"sm",variant:"ghost",onClick:F=>{F.stopPropagation(),y(T.id)},children:s.jsx(rf,{className:"h-4 w-4"})})]})]})},T.id))}),v&&s.jsx(Jl,{open:!0,onOpenChange:()=>g(null),children:s.jsxs(Zl,{className:"max-w-2xl",children:[s.jsx(Ql,{children:s.jsxs(ec,{className:"flex items-center space-x-3",children:[s.jsx("span",{className:"text-lg",children:w(v.type)}),s.jsx("span",{children:"Issue Details"})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg",children:v.title}),s.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[s.jsx(yn,{className:N(v.priority),children:v.priority}),s.jsx(yn,{className:_(v.status),children:v.status.replace("_"," ")})]})]}),v.description&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Description"}),s.jsx("p",{className:"text-gray-600",children:v.description})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.reported_by&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-1",children:"Reported By"}),s.jsx("p",{className:"text-gray-600",children:v.reported_by})]}),v.assigned_to&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-1",children:"Assigned To"}),s.jsx("p",{className:"text-gray-600",children:v.assigned_to})]}),v.created_at&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-1",children:"Created"}),s.jsx("p",{className:"text-gray-600",children:new Date(v.created_at).toLocaleDateString()})]}),v.resolved_at&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-1",children:"Resolved"}),s.jsx("p",{className:"text-gray-600",children:new Date(v.resolved_at).toLocaleDateString()})]})]}),v.resolution_notes&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Resolution Notes"}),s.jsx("p",{className:"text-gray-600",children:v.resolution_notes})]})]})]})}),h&&s.jsx(Jl,{open:!0,onOpenChange:()=>m(!1),children:s.jsxs(Zl,{className:"max-w-2xl",children:[s.jsx(Ql,{children:s.jsx(ec,{children:"Report New Issue"})}),s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Wl,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Issue reporting feature coming soon"})]})]})})]})},lV=({eventId:e,onSponsorshipUpdated:t})=>{const[r,n]=I.useState([]),[a,i]=I.useState(!0),[o,l]=I.useState(null);I.useEffect(()=>{c()},[e]);const c=async()=>{try{i(!0),l(null);const h=await kn.getEventSponsorships(e);n(Array.isArray(h.data)?h.data:[])}catch(h){l("Failed to load sponsorships"),n([]),console.error("Error loading sponsorships:",h)}finally{i(!1)}},u=h=>{switch(h){case"confirmed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"declined":return"bg-red-100 text-red-800";case"negotiating":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},d=h=>{switch(h){case"platinum":return"bg-purple-100 text-purple-800";case"gold":return"bg-yellow-100 text-yellow-800";case"silver":return"bg-gray-100 text-gray-800";case"bronze":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}};if(a)return s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});if(o)return s.jsxs(yt,{className:"p-6 text-center",children:[s.jsx("p",{className:"text-red-600",children:o}),s.jsx(Je,{onClick:c,variant:"outline",className:"mt-4",children:"Retry"})]});const f=Array.isArray(r)?r:[];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h2",{className:"text-2xl font-bold",children:["Sponsorships (",f.length,")"]}),s.jsxs(Je,{className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(Ul,{className:"h-4 w-4 mr-2"}),"Add Sponsorship"]})]}),s.jsxs(yt,{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Sponsorship Summary"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["$",f.reduce((h,m)=>h+(m.amount||0),0).toLocaleString()]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Total Raised"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:f.filter(h=>h.status==="confirmed").length}),s.jsx("p",{className:"text-sm text-gray-600",children:"Confirmed"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:f.filter(h=>h.status==="pending").length}),s.jsx("p",{className:"text-sm text-gray-600",children:"Pending"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-gray-600",children:f.length}),s.jsx("p",{className:"text-sm text-gray-600",children:"Total Sponsors"})]})]})]}),s.jsx("div",{className:"space-y-3",children:f.length===0?s.jsxs(yt,{className:"p-8 text-center",children:[s.jsx(P1,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"No sponsorships found for this event."}),s.jsx(Je,{variant:"outline",children:"Add First Sponsorship"})]}):f.map(h=>s.jsx(yt,{className:"p-4 hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx(P1,{className:"h-5 w-5 text-gray-500"}),s.jsx("h3",{className:"font-semibold text-lg",children:h.sponsor_name}),s.jsx(yn,{className:d(h.tier),children:h.tier}),s.jsx(yn,{className:u(h.status),children:h.status})]}),h.description&&s.jsx("p",{className:"text-gray-600 mb-3",children:h.description}),s.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-500",children:[h.amount&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Un,{className:"h-4 w-4 mr-1"}),"$",h.amount.toLocaleString()]}),h.contact_person&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(nf,{className:"h-4 w-4 mr-1"}),h.contact_person]}),h.contact_email&&s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"mr-1",children:"📧"}),h.contact_email]}),h.contact_phone&&s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"mr-1",children:"📞"}),h.contact_phone]})]}),h.benefits&&h.benefits.length>0&&s.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[s.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Benefits:"}),s.jsx("div",{className:"space-y-1",children:h.benefits.map((m,v)=>s.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[s.jsx(Ur,{className:"h-3 w-3 text-green-500"}),s.jsx("span",{children:m})]},v))})]})]}),s.jsx("div",{className:"flex items-center space-x-2 ml-4",children:s.jsx(Je,{size:"sm",variant:"outline",children:"Edit"})})]})},h.id))})]})},cV=({eventId:e})=>{const[t,r]=I.useState(null),[n,a]=I.useState(!0),[i,o]=I.useState(null),[l,c]=I.useState("week");I.useEffect(()=>{u()},[e,l]);const u=async()=>{try{a(!0);const h=await Ar.get(`/api/events/${e}/task-progress?timeframe=${l}`);r(h.data)}catch(h){o("Failed to load chart data"),console.error("Error loading chart data:",h)}finally{a(!1)}};if(n)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});if(i)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("p",{className:"text-red-600",children:i})});if(!t||!t.data||t.data.length===0)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("p",{className:"text-gray-600",children:"No chart data available"})});const d=Math.max(...t.data.map(h=>h.completed_tasks)),f=200;return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Task Completion Trend"}),s.jsx(Tr,{value:l,onChange:h=>c(h.target.value),options:[{value:"week",label:"Last Week"},{value:"month",label:"Last Month"},{value:"quarter",label:"Last Quarter"}]})]}),s.jsxs("div",{className:"relative h-64",children:[s.jsx("div",{className:"flex items-end justify-between h-full space-x-2",children:t.data.map((h,m)=>s.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[s.jsx("div",{className:"w-full bg-blue-500 rounded-t transition-all duration-300 hover:bg-blue-600",style:{height:`${h.completed_tasks/d*f}px`,minHeight:"4px"},title:`${h.date}: ${h.completed_tasks} tasks completed`}),s.jsx("div",{className:"text-xs text-gray-600 mt-2 text-center",children:new Date(h.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]},m))}),s.jsxs("div",{className:"absolute left-0 top-0 h-full flex flex-col justify-between text-xs text-gray-500",children:[s.jsx("span",{children:d}),s.jsx("span",{children:Math.round(d*.75)}),s.jsx("span",{children:Math.round(d*.5)}),s.jsx("span",{children:Math.round(d*.25)}),s.jsx("span",{children:"0"})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-4 border-t",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:t.total_completed||0}),s.jsx("p",{className:"text-sm text-gray-600",children:"Total Completed"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-green-600",children:t.average_daily||0}),s.jsx("p",{className:"text-sm text-gray-600",children:"Avg Daily"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[t.completion_rate||0,"%"]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Completion Rate"})]})]})]})},uV=()=>{const{eventId:e}=As(),t=ir(),[r,n]=I.useState(()=>localStorage.getItem(`eventManagement_${e}_activeTab`)||"overview"),[a,i]=I.useState(null),[o,l]=I.useState(null),[c,u]=I.useState(!0),[d,f]=I.useState(null),[h,m]=I.useState(!1),[v,g]=I.useState(!1),[x,b]=I.useState(!1),[y,N]=I.useState(null),[_,w]=I.useState(!1);I.useEffect(()=>{e&&!a&&S()},[e]),I.useEffect(()=>{const W=()=>{const R=localStorage.getItem(`eventManagement_${e}_lastLoad`),K=Date.now()-5*60*1e3;(!R||parseInt(R)<K)&&(console.log("🔄 Reloading stale event data on window focus"),S())};return window.addEventListener("focus",W),()=>window.removeEventListener("focus",W)},[e]),I.useEffect(()=>{localStorage.setItem(`eventManagement_${e}_activeTab`,r)},[r,e]);const S=async()=>{try{u(!0);const[W,R]=await Promise.all([kn.getEvent(e),kn.getEventSummary(e)]);i(W.data),l(R.data),N(W.data),localStorage.setItem(`eventManagement_${e}_lastLoad`,Date.now().toString())}catch(W){f("Failed to load event data"),console.error("Error loading event data:",W)}finally{u(!1)}},O=()=>{N({...a}),b(!0)},P=()=>{N({...a}),b(!1)},T=async()=>{try{w(!0),await kn.updateEvent(e,y),i(y),b(!1),S()}catch(W){console.error("Error saving event:",W),alert("Failed to save changes. Please try again.")}finally{w(!1)}},F=(W,R)=>{N(K=>({...K,[W]:R}))},k=W=>{n(W)},C=()=>{m(!1),S()},D=()=>{g(!1),S()};if(c)return s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})});if(d)return s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs(yt,{className:"p-8 text-center",children:[s.jsx(Wl,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Error Loading Event"}),s.jsx("p",{className:"text-gray-600 mb-4",children:d}),s.jsx(Je,{onClick:()=>t("/events"),variant:"outline",children:"Back to Events"})]})});if(!a)return s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs(yt,{className:"p-8 text-center",children:[s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Event Not Found"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"The requested event could not be found."}),s.jsx(Je,{onClick:()=>t("/events"),variant:"outline",children:"Back to Events"})]})});const M=W=>{switch(W){case"completed":return"bg-green-100 text-green-800";case"in_progress":return"bg-blue-100 text-blue-800";case"blocked":return"bg-red-100 text-red-800";case"pending":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},U=x?y:a;return s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsx("div",{className:"mb-8 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-6 border border-blue-200",children:s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx(pS,{className:"h-7 w-7 text-blue-600 mr-3"}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Event Management"})]}),x?s.jsx(Kt,{value:y.title,onChange:W=>F("title",W.target.value),className:"text-2xl font-semibold text-blue-700 border-2 border-blue-300 mb-2 bg-white",placeholder:"Event Title"}):s.jsx("h2",{className:"text-2xl font-semibold text-blue-700 mb-2",children:(U==null?void 0:U.title)||"Loading event..."}),x?s.jsx("textarea",{value:y.description||"",onChange:W=>F("description",W.target.value),className:"w-full text-gray-600 border border-gray-300 rounded-md p-2 resize-none bg-white",rows:"2",placeholder:"Event Description"}):s.jsx("p",{className:"text-gray-600 text-lg",children:(U==null?void 0:U.description)||"No description available"})]}),s.jsxs("div",{className:"flex items-center space-x-3 ml-6",children:[x?s.jsxs(s.Fragment,{children:[s.jsxs(Je,{onClick:T,disabled:_,className:"bg-green-600 hover:bg-green-700",children:[s.jsx(gS,{className:"h-4 w-4 mr-2"}),_?"Saving...":"Save"]}),s.jsxs(Je,{onClick:P,variant:"outline",children:[s.jsx(rp,{className:"h-4 w-4 mr-2"}),"Cancel"]})]}):s.jsxs(Je,{onClick:O,variant:"outline",children:[s.jsx(ZP,{className:"h-4 w-4 mr-2"}),"Edit Event"]}),s.jsx(Je,{onClick:()=>m(!0),className:"bg-blue-600 hover:bg-blue-700",children:"Add Task"}),s.jsx(Je,{onClick:()=>g(!0),variant:"outline",children:"Add Milestone"})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[s.jsx(yt,{className:"p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Lr,{className:"h-5 w-5 text-gray-500 mr-2"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Event Date"}),x?s.jsx(Kt,{type:"date",value:y.event_date,onChange:W=>F("event_date",W.target.value),className:"font-semibold"}):s.jsx("p",{className:"font-semibold",children:U.event_date==="Invalid Date"||!U.event_date?"Invalid Date":new Date(U.event_date).toLocaleDateString()})]})]})}),s.jsx(yt,{className:"p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ia,{className:"h-5 w-5 text-gray-500 mr-2"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Start Time"}),x?s.jsx(Kt,{type:"time",value:y.start_time||"",onChange:W=>F("start_time",W.target.value),className:"font-semibold"}):s.jsx("p",{className:"font-semibold",children:U.start_time||"TBD"})]})]})}),s.jsx(yt,{className:"p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(QP,{className:"h-5 w-5 text-gray-500 mr-2"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Location"}),x?s.jsx(Kt,{value:y.location||"",onChange:W=>F("location",W.target.value),className:"font-semibold",placeholder:"Event Location"}):s.jsx("p",{className:"font-semibold",children:U.location||"TBD"})]})]})}),s.jsx(yt,{className:"p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ur,{className:"h-5 w-5 text-gray-500 mr-2"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Status"}),x?s.jsxs("select",{value:y.status,onChange:W=>F("status",W.target.value),className:"font-semibold border border-gray-300 rounded-md px-2 py-1",children:[s.jsx("option",{value:"planning",children:"Planning"}),s.jsx("option",{value:"in_progress",children:"In Progress"}),s.jsx("option",{value:"completed",children:"Completed"}),s.jsx("option",{value:"cancelled",children:"Cancelled"})]}):s.jsx(yn,{className:M(U.status),children:U.status})]})]})})]}),o&&s.jsxs(yt,{className:"p-6 mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Event Progress"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Overall Progress"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(KA,{value:o.progress_percentage,className:"flex-1 mr-3"}),s.jsxs("span",{className:"text-lg font-semibold",children:[o.progress_percentage,"%"]})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Tasks"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("span",{className:"text-2xl font-bold text-green-600",children:o.completed_tasks}),s.jsx("span",{className:"text-gray-400",children:"/"}),s.jsx("span",{className:"text-2xl font-bold",children:o.total_tasks})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Milestones"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("span",{className:"text-2xl font-bold text-blue-600",children:o.completed_milestones}),s.jsx("span",{className:"text-gray-400",children:"/"}),s.jsx("span",{className:"text-2xl font-bold",children:o.milestones_count})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Open Issues"}),s.jsx("div",{className:"flex items-center",children:s.jsx("span",{className:"text-2xl font-bold text-red-600",children:o.open_issues})})]})]})]}),s.jsxs(tV,{value:r,onValueChange:k,className:"space-y-6",children:[s.jsxs(rV,{className:"grid w-full grid-cols-5",children:[s.jsx(Mu,{value:"overview",children:"Overview"}),s.jsx(Mu,{value:"tasks",children:"Tasks"}),s.jsx(Mu,{value:"milestones",children:"Milestones"}),s.jsx(Mu,{value:"issues",children:"Issues"}),s.jsx(Mu,{value:"sponsorships",children:"Sponsorships"})]}),s.jsx($u,{value:"overview",className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(yt,{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Task Progress Chart"}),s.jsx("div",{className:"min-h-[300px]",children:s.jsx(cV,{eventId:e})})]}),s.jsxs(yt,{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Recent Activity"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[s.jsx(Ur,{className:"h-5 w-5 text-green-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Task completed"}),s.jsx("p",{className:"text-sm text-gray-600",children:'"Set up venue" marked as complete'})]})]}),s.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[s.jsx(Ma,{className:"h-5 w-5 text-blue-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Comment added"}),s.jsx("p",{className:"text-sm text-gray-600",children:'New comment on "Order supplies" task'})]})]}),s.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[s.jsx(Wl,{className:"h-5 w-5 text-yellow-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Issue reported"}),s.jsx("p",{className:"text-sm text-gray-600",children:'"Venue availability" issue opened'})]})]})]})]})]})}),s.jsx($u,{value:"tasks",className:"space-y-6",children:s.jsx("div",{className:"min-h-[400px]",children:s.jsx(iV,{eventId:e,onTaskUpdated:S},`tasks-${e}`)})}),s.jsx($u,{value:"milestones",className:"space-y-6",children:s.jsx("div",{className:"min-h-[400px]",children:s.jsx(sV,{eventId:e,onMilestoneUpdated:S},`milestones-${e}`)})}),s.jsx($u,{value:"issues",className:"space-y-6",children:s.jsx("div",{className:"min-h-[400px]",children:s.jsx(oV,{eventId:e,onIssueUpdated:S},`issues-${e}`)})}),s.jsx($u,{value:"sponsorships",className:"space-y-6",children:s.jsx("div",{className:"min-h-[400px]",children:s.jsx(lV,{eventId:e,onSponsorshipUpdated:S},`sponsorships-${e}`)})})]}),h&&s.jsx(XA,{eventId:e,onClose:()=>m(!1),onTaskAdded:C}),v&&s.jsx(JA,{eventId:e,onClose:()=>g(!1),onMilestoneAdded:D})]})};function ox({title:e,loading:t=!1,error:r=null,children:n,className:a=""}){return t?s.jsx(fb,{size:"lg"}):r?s.jsx("div",{className:"p-4 text-center text-red-600",children:r}):s.jsxs("div",{className:`p-6 ${a}`,children:[e&&s.jsx("div",{className:"mb-6",children:s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e})}),n||s.jsx(db,{})]})}function dV(e){return e==null}var fV=dV;const pt=Nt(fV);var hV=Gi,mV=dn,pV=za,gV="[object String]";function vV(e){return typeof e=="string"||!mV(e)&&pV(e)&&hV(e)==gV}var yV=vV;const ko=Nt(yV);var ZA={exports:{}},Dt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lx=Symbol.for("react.element"),cx=Symbol.for("react.portal"),Cp=Symbol.for("react.fragment"),Lp=Symbol.for("react.strict_mode"),Mp=Symbol.for("react.profiler"),$p=Symbol.for("react.provider"),Dp=Symbol.for("react.context"),bV=Symbol.for("react.server_context"),Ip=Symbol.for("react.forward_ref"),Rp=Symbol.for("react.suspense"),Fp=Symbol.for("react.suspense_list"),Bp=Symbol.for("react.memo"),qp=Symbol.for("react.lazy"),xV=Symbol.for("react.offscreen"),QA;QA=Symbol.for("react.module.reference");function pa(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case lx:switch(e=e.type,e){case Cp:case Mp:case Lp:case Rp:case Fp:return e;default:switch(e=e&&e.$$typeof,e){case bV:case Dp:case Ip:case qp:case Bp:case $p:return e;default:return t}}case cx:return t}}}Dt.ContextConsumer=Dp;Dt.ContextProvider=$p;Dt.Element=lx;Dt.ForwardRef=Ip;Dt.Fragment=Cp;Dt.Lazy=qp;Dt.Memo=Bp;Dt.Portal=cx;Dt.Profiler=Mp;Dt.StrictMode=Lp;Dt.Suspense=Rp;Dt.SuspenseList=Fp;Dt.isAsyncMode=function(){return!1};Dt.isConcurrentMode=function(){return!1};Dt.isContextConsumer=function(e){return pa(e)===Dp};Dt.isContextProvider=function(e){return pa(e)===$p};Dt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===lx};Dt.isForwardRef=function(e){return pa(e)===Ip};Dt.isFragment=function(e){return pa(e)===Cp};Dt.isLazy=function(e){return pa(e)===qp};Dt.isMemo=function(e){return pa(e)===Bp};Dt.isPortal=function(e){return pa(e)===cx};Dt.isProfiler=function(e){return pa(e)===Mp};Dt.isStrictMode=function(e){return pa(e)===Lp};Dt.isSuspense=function(e){return pa(e)===Rp};Dt.isSuspenseList=function(e){return pa(e)===Fp};Dt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Cp||e===Mp||e===Lp||e===Rp||e===Fp||e===xV||typeof e=="object"&&e!==null&&(e.$$typeof===qp||e.$$typeof===Bp||e.$$typeof===$p||e.$$typeof===Dp||e.$$typeof===Ip||e.$$typeof===QA||e.getModuleId!==void 0)};Dt.typeOf=pa;ZA.exports=Dt;var wV=ZA.exports,jV=Gi,NV=za,SV="[object Number]";function _V(e){return typeof e=="number"||NV(e)&&jV(e)==SV}var e4=_V;const AV=Nt(e4);var OV=e4;function PV(e){return OV(e)&&e!=+e}var EV=PV;const Uc=Nt(EV);var bn=function(t){return t===0?0:t>0?1:-1},oo=function(t){return ko(t)&&t.indexOf("%")===t.length-1},Le=function(t){return AV(t)&&!Uc(t)},Mr=function(t){return Le(t)||ko(t)},kV=0,Wc=function(t){var r=++kV;return"".concat(t||"").concat(r)},xn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Le(t)&&!ko(t))return n;var i;if(oo(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Uc(i)&&(i=n),a&&i>r&&(i=r),i},ps=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},TV=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},Pn=function(t,r){return Le(t)&&Le(r)?function(n){return t+n*(r-t)}:function(){return r}};function im(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Hn(n,t))===r})}var CV=function(t,r){return Le(t)&&Le(r)?t-r:ko(t)&&ko(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Rl(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function R0(e){"@babel/helpers - typeof";return R0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R0(e)}var LV=["viewBox","children"],MV=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],zw=["points","pathLength"],Lv={svg:LV,polygon:zw,polyline:zw},ux=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],sm=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(I.isValidElement(t)&&(n=t.props),!Tc(n))return null;var a={};return Object.keys(n).forEach(function(i){ux.includes(i)&&(a[i]=r||function(o){return n[i](n,o)})}),a},$V=function(t,r,n){return function(a){return t(r,n,a),null}},To=function(t,r,n){if(!Tc(t)||R0(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];ux.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=$V(o,r,n))}),a},DV=["children"],IV=["children"];function Uw(e,t){if(e==null)return{};var r=RV(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function RV(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function F0(e){"@babel/helpers - typeof";return F0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F0(e)}var Ww={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Fi=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},Hw=null,Mv=null,dx=function e(t){if(t===Hw&&Array.isArray(Mv))return Mv;var r=[];return I.Children.forEach(t,function(n){pt(n)||(wV.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Mv=r,Hw=t,r};function la(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return Fi(a)}):n=[Fi(t)],dx(e).forEach(function(a){var i=Hn(a,"type.displayName")||Hn(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function qn(e,t){var r=la(e,t);return r&&r[0]}var Gw=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!Le(n)||n<=0||!Le(a)||a<=0)},FV=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],BV=function(t){return t&&t.type&&ko(t.type)&&FV.indexOf(t.type)>=0},qV=function(t){return t&&F0(t)==="object"&&"clipDot"in t},zV=function(t,r,n,a){var i,o=(i=Lv==null?void 0:Lv[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!it(t)&&(a&&o.includes(r)||MV.includes(r))||n&&ux.includes(r)},Ze=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(I.isValidElement(t)&&(a=t.props),!Tc(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;zV((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=a[o])}),i},B0=function e(t,r){if(t===r)return!0;var n=I.Children.count(t);if(n!==I.Children.count(r))return!1;if(n===0)return!0;if(n===1)return Vw(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!Vw(i,o))return!1}return!0},Vw=function(t,r){if(pt(t)&&pt(r))return!0;if(!pt(t)&&!pt(r)){var n=t.props||{},a=n.children,i=Uw(n,DV),o=r.props||{},l=o.children,c=Uw(o,IV);return a&&l?Rl(i,c)&&B0(a,l):!a&&!l?Rl(i,c):!1}return!1},Yw=function(t,r){var n=[],a={};return dx(t).forEach(function(i,o){if(BV(i))n.push(i);else if(i){var l=Fi(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(i,l,o);n.push(f),a[l]=!0}}}),n},UV=function(t){var r=t&&t.type;return r&&Ww[r]?Ww[r]:null},WV=function(t,r){return dx(r).indexOf(t)},HV=["children","width","height","viewBox","className","style","title","desc"];function q0(){return q0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},q0.apply(this,arguments)}function GV(e,t){if(e==null)return{};var r=VV(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function VV(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function z0(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=GV(e,HV),d=a||{width:r,height:n,x:0,y:0},f=vt("recharts-surface",i);return z.createElement("svg",q0({},Ze(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),z.createElement("title",null,l),z.createElement("desc",null,c),t)}var YV=["children","className"];function U0(){return U0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},U0.apply(this,arguments)}function KV(e,t){if(e==null)return{};var r=XV(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function XV(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var _t=z.forwardRef(function(e,t){var r=e.children,n=e.className,a=KV(e,YV),i=vt("recharts-layer",n);return z.createElement("g",U0({className:i},Ze(a,!0),{ref:t}),r)}),Fa=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]},JV=vb;function ZV(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:JV(e,t,r)}var QV=ZV,eY="\\ud800-\\udfff",tY="\\u0300-\\u036f",rY="\\ufe20-\\ufe2f",nY="\\u20d0-\\u20ff",aY=tY+rY+nY,iY="\\ufe0e\\ufe0f",sY="\\u200d",oY=RegExp("["+sY+eY+aY+iY+"]");function lY(e){return oY.test(e)}var t4=lY;function cY(e){return e.split("")}var uY=cY,r4="\\ud800-\\udfff",dY="\\u0300-\\u036f",fY="\\ufe20-\\ufe2f",hY="\\u20d0-\\u20ff",mY=dY+fY+hY,pY="\\ufe0e\\ufe0f",gY="["+r4+"]",W0="["+mY+"]",H0="\\ud83c[\\udffb-\\udfff]",vY="(?:"+W0+"|"+H0+")",n4="[^"+r4+"]",a4="(?:\\ud83c[\\udde6-\\uddff]){2}",i4="[\\ud800-\\udbff][\\udc00-\\udfff]",yY="\\u200d",s4=vY+"?",o4="["+pY+"]?",bY="(?:"+yY+"(?:"+[n4,a4,i4].join("|")+")"+o4+s4+")*",xY=o4+s4+bY,wY="(?:"+[n4+W0+"?",W0,a4,i4,gY].join("|")+")",jY=RegExp(H0+"(?="+H0+")|"+wY+xY,"g");function NY(e){return e.match(jY)||[]}var SY=NY,_Y=uY,AY=t4,OY=SY;function PY(e){return AY(e)?OY(e):_Y(e)}var EY=PY,kY=QV,TY=t4,CY=EY,LY=L_;function MY(e){return function(t){t=LY(t);var r=TY(t)?CY(t):void 0,n=r?r[0]:t.charAt(0),a=r?kY(r,1).join(""):t.slice(1);return n[e]()+a}}var $Y=MY,DY=$Y,IY=DY("toUpperCase"),RY=IY;const zp=Nt(RY);function Yt(e){return function(){return e}}const l4=Math.cos,om=Math.sin,Ga=Math.sqrt,lm=Math.PI,Up=2*lm,G0=Math.PI,V0=2*G0,ro=1e-6,FY=V0-ro;function c4(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function BY(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return c4;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class qY{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?c4:BY(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=a-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>ro)if(!(Math.abs(f*c-u*d)>ro)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,v=a-l,g=c*c+u*u,x=m*m+v*v,b=Math.sqrt(g),y=Math.sqrt(h),N=i*Math.tan((G0-Math.acos((g+h-x)/(2*b*y)))/2),_=N/y,w=N/b;Math.abs(_-1)>ro&&this._append`L${t+_*d},${r+_*f}`,this._append`A${i},${i},0,0,${+(f*m>d*v)},${this._x1=t+w*c},${this._y1=r+w*u}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^o,h=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>ro||Math.abs(this._y1-d)>ro)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%V0+V0),h>FY?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>ro&&this._append`A${n},${n},0,${+(h>=G0)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function fx(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new qY(t)}function hx(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function u4(e){this._context=e}u4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Wp(e){return new u4(e)}function d4(e){return e[0]}function f4(e){return e[1]}function h4(e,t){var r=Yt(!0),n=null,a=Wp,i=null,o=fx(l);e=typeof e=="function"?e:e===void 0?d4:Yt(e),t=typeof t=="function"?t:t===void 0?f4:Yt(t);function l(c){var u,d=(c=hx(c)).length,f,h=!1,m;for(n==null&&(i=a(m=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(m)return i=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Yt(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Yt(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Yt(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function yh(e,t,r){var n=null,a=Yt(!0),i=null,o=Wp,l=null,c=fx(u);e=typeof e=="function"?e:e===void 0?d4:Yt(+e),t=typeof t=="function"?t:Yt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?f4:Yt(+r);function u(f){var h,m,v,g=(f=hx(f)).length,x,b=!1,y,N=new Array(g),_=new Array(g);for(i==null&&(l=o(y=c())),h=0;h<=g;++h){if(!(h<g&&a(x=f[h],h,f))===b)if(b=!b)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),v=h-1;v>=m;--v)l.point(N[v],_[v]);l.lineEnd(),l.areaEnd()}b&&(N[h]=+e(x,h,f),_[h]=+t(x,h,f),l.point(n?+n(x,h,f):N[h],r?+r(x,h,f):_[h]))}if(y)return l=null,y+""||null}function d(){return h4().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Yt(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Yt(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Yt(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Yt(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Yt(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Yt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Yt(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class m4{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function zY(e){return new m4(e,!0)}function UY(e){return new m4(e,!1)}const mx={draw(e,t){const r=Ga(t/lm);e.moveTo(r,0),e.arc(0,0,r,0,Up)}},WY={draw(e,t){const r=Ga(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},p4=Ga(1/3),HY=p4*2,GY={draw(e,t){const r=Ga(t/HY),n=r*p4;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},VY={draw(e,t){const r=Ga(t),n=-r/2;e.rect(n,n,r,r)}},YY=.8908130915292852,g4=om(lm/10)/om(7*lm/10),KY=om(Up/10)*g4,XY=-l4(Up/10)*g4,JY={draw(e,t){const r=Ga(t*YY),n=KY*r,a=XY*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=Up*i/5,l=l4(o),c=om(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},$v=Ga(3),ZY={draw(e,t){const r=-Ga(t/($v*3));e.moveTo(0,r*2),e.lineTo(-$v*r,-r),e.lineTo($v*r,-r),e.closePath()}},ta=-.5,ra=Ga(3)/2,Y0=1/Ga(12),QY=(Y0/2+1)*3,eK={draw(e,t){const r=Ga(t/QY),n=r/2,a=r*Y0,i=n,o=r*Y0+r,l=-i,c=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(ta*n-ra*a,ra*n+ta*a),e.lineTo(ta*i-ra*o,ra*i+ta*o),e.lineTo(ta*l-ra*c,ra*l+ta*c),e.lineTo(ta*n+ra*a,ta*a-ra*n),e.lineTo(ta*i+ra*o,ta*o-ra*i),e.lineTo(ta*l+ra*c,ta*c-ra*l),e.closePath()}};function tK(e,t){let r=null,n=fx(a);e=typeof e=="function"?e:Yt(e||mx),t=typeof t=="function"?t:Yt(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Yt(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Yt(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function cm(){}function um(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function v4(e){this._context=e}v4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:um(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:um(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function rK(e){return new v4(e)}function y4(e){this._context=e}y4.prototype={areaStart:cm,areaEnd:cm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:um(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function nK(e){return new y4(e)}function b4(e){this._context=e}b4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:um(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function aK(e){return new b4(e)}function x4(e){this._context=e}x4.prototype={areaStart:cm,areaEnd:cm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function iK(e){return new x4(e)}function Kw(e){return e<0?-1:1}function Xw(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(Kw(i)+Kw(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function Jw(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Dv(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,o-l*r,i,o)}function dm(e){this._context=e}dm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Dv(this,this._t0,Jw(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Dv(this,Jw(this,r=Xw(this,e,t)),r);break;default:Dv(this,this._t0,r=Xw(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function w4(e){this._context=new j4(e)}(w4.prototype=Object.create(dm.prototype)).point=function(e,t){dm.prototype.point.call(this,t,e)};function j4(e){this._context=e}j4.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function sK(e){return new dm(e)}function oK(e){return new w4(e)}function N4(e){this._context=e}N4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Zw(e),a=Zw(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Zw(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function lK(e){return new N4(e)}function Hp(e,t){this._context=e,this._t=t}Hp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function cK(e){return new Hp(e,.5)}function uK(e){return new Hp(e,0)}function dK(e){return new Hp(e,1)}function tc(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function K0(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function fK(e,t){return e[t]}function hK(e){const t=[];return t.key=e,t}function mK(){var e=Yt([]),t=K0,r=tc,n=fK;function a(i){var o=Array.from(e.apply(this,arguments),hK),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,i)]).data=f;for(l=0,d=hx(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Yt(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Yt(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?K0:typeof i=="function"?i:Yt(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??tc,a):r},a}function pK(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}tc(e,t)}}function gK(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}tc(e,t)}}function vK(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,v=0;v<l;++v){var g=e[t[v]],x=g[n][1]||0,b=g[n-1][1]||0;m+=x-b}c+=f,u+=m*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,tc(e,t)}}function wd(e){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wd(e)}var yK=["type","size","sizeType"];function X0(){return X0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},X0.apply(this,arguments)}function Qw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function e5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qw(Object(r),!0).forEach(function(n){bK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bK(e,t,r){return t=xK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xK(e){var t=wK(e,"string");return wd(t)=="symbol"?t:t+""}function wK(e,t){if(wd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jK(e,t){if(e==null)return{};var r=NK(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function NK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var S4={symbolCircle:mx,symbolCross:WY,symbolDiamond:GY,symbolSquare:VY,symbolStar:JY,symbolTriangle:ZY,symbolWye:eK},SK=Math.PI/180,_K=function(t){var r="symbol".concat(zp(t));return S4[r]||mx},AK=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*SK;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},OK=function(t,r){S4["symbol".concat(zp(t))]=r},px=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=jK(t,yK),u=e5(e5({},c),{},{type:n,size:i,sizeType:l}),d=function(){var x=_K(n),b=tK().type(x).size(AK(i,l,n));return b()},f=u.className,h=u.cx,m=u.cy,v=Ze(u,!0);return h===+h&&m===+m&&i===+i?z.createElement("path",X0({},v,{className:vt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};px.registerSymbol=OK;function rc(e){"@babel/helpers - typeof";return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rc(e)}function J0(){return J0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},J0.apply(this,arguments)}function t5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function PK(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t5(Object(r),!0).forEach(function(n){jd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kK(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,A4(n.key),n)}}function TK(e,t,r){return t&&kK(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function CK(e,t,r){return t=fm(t),LK(e,_4()?Reflect.construct(t,r||[],fm(e).constructor):t.apply(e,r))}function LK(e,t){if(t&&(rc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MK(e)}function MK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_4=function(){return!!e})()}function fm(e){return fm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fm(e)}function $K(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z0(e,t)}function Z0(e,t){return Z0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Z0(e,t)}function jd(e,t,r){return t=A4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A4(e){var t=DK(e,"string");return rc(t)=="symbol"?t:t+""}function DK(e,t){if(rc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var na=32,gx=function(e){function t(){return EK(this,t),CK(this,t,arguments)}return $K(t,e),TK(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=na/2,o=na/6,l=na/3,c=n.inactive?a:n.color;if(n.type==="plainline")return z.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:na,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return z.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(na,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return z.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(na/8,"h").concat(na,"v").concat(na*3/4,"h").concat(-na,"z"),className:"recharts-legend-icon"});if(z.isValidElement(n.legendIcon)){var u=PK({},n);return delete u.legendIcon,z.cloneElement(n.legendIcon,u)}return z.createElement(px,{fill:c,cx:i,cy:i,size:na,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:na,height:na},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(m,v){var g=m.formatter||c,x=vt(jd(jd({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",m.inactive));if(m.type==="none")return null;var b=it(m.value)?null:m.value;Fa(!it(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=m.inactive?u:m.color;return z.createElement("li",J0({className:x,style:f,key:"legend-item-".concat(v)},To(n.props,m,v)),z.createElement(z0,{width:o,height:o,viewBox:d,style:h},n.renderIcon(m)),z.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},g?g(b,m,v):b))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return z.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(I.PureComponent);jd(gx,"displayName","Legend");jd(gx,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});function IK(e){return e!==e}var RK=IK;function FK(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var BK=FK,qK=O_,zK=RK,UK=BK;function WK(e,t,r){return t===t?UK(e,t,r):qK(e,zK,r)}var HK=WK,GK=HK;function VK(e,t){var r=e==null?0:e.length;return!!r&&GK(e,t,0)>-1}var YK=VK;function KK(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var XK=KK;function JK(){}var ZK=JK,Iv=N_,QK=ZK,eX=$b,tX=1/0,rX=Iv&&1/eX(new Iv([,-0]))[1]==tX?function(e){return new Iv(e)}:QK,nX=rX,aX=f_,iX=YK,sX=XK,oX=m_,lX=nX,cX=$b,uX=200;function dX(e,t,r){var n=-1,a=iX,i=e.length,o=!0,l=[],c=l;if(r)o=!1,a=sX;else if(i>=uX){var u=t?null:lX(e);if(u)return cX(u);o=!1,a=oX,c=new aX}else c=t?[]:l;e:for(;++n<i;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var fX=dX,hX=Ua,mX=fX;function pX(e,t){return e&&e.length?mX(e,hX(t)):[]}var gX=pX;const r5=Nt(gX);function O4(e,t,r){return t===!0?r5(e,r):it(t)?r5(e,t):e}function nc(e){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nc(e)}var vX=["ref"];function n5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n5(Object(r),!0).forEach(function(n){Gp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,E4(n.key),n)}}function bX(e,t,r){return t&&a5(e.prototype,t),r&&a5(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function xX(e,t,r){return t=hm(t),wX(e,P4()?Reflect.construct(t,r||[],hm(e).constructor):t.apply(e,r))}function wX(e,t){if(t&&(nc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jX(e)}function jX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P4=function(){return!!e})()}function hm(e){return hm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hm(e)}function NX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Q0(e,t)}function Q0(e,t){return Q0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Q0(e,t)}function Gp(e,t,r){return t=E4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E4(e){var t=SX(e,"string");return nc(t)=="symbol"?t:t+""}function SX(e,t){if(nc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function _X(e,t){if(e==null)return{};var r=AX(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function AX(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function OX(e){return e.value}function PX(e,t){if(z.isValidElement(e))return z.cloneElement(e,t);if(typeof e=="function")return z.createElement(e,t);t.ref;var r=_X(t,vX);return z.createElement(gx,r)}var i5=1,go=function(e){function t(){var r;yX(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=xX(this,t,[].concat(a)),Gp(r,"lastBoundingBox",{width:-1,height:-1}),r}return NX(t,e),bX(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>i5||Math.abs(a.height-this.lastBoundingBox.height)>i5)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Mi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var v=this.getBBoxSnapshot();h={top:((d||0)-v.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Mi(Mi({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=Mi(Mi({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return z.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){n.wrapperNode=m}},PX(i,Mi(Mi({},this.props),{},{payload:O4(d,u,OX)})))}}],[{key:"getWithHeight",value:function(n,a){var i=Mi(Mi({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&Le(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(I.PureComponent);Gp(go,"displayName","Legend");Gp(go,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});function Nd(e){"@babel/helpers - typeof";return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nd(e)}function ey(){return ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ey.apply(this,arguments)}function EX(e,t){return LX(e)||CX(e,t)||TX(e,t)||kX()}function kX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TX(e,t){if(e){if(typeof e=="string")return s5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s5(e,t)}}function s5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function CX(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function LX(e){if(Array.isArray(e))return e}function o5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o5(Object(r),!0).forEach(function(n){MX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MX(e,t,r){return t=$X(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $X(e){var t=DX(e,"string");return Nd(t)=="symbol"?t:t+""}function DX(e,t){if(Nd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IX(e){return Array.isArray(e)&&Mr(e[0])&&Mr(e[1])?e.join(" ~ "):e}var RX=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,m=t.wrapperClassName,v=t.labelClassName,g=t.label,x=t.labelFormatter,b=t.accessibilityLayer,y=b===void 0?!1:b,N=function(){if(d&&d.length){var C={padding:0,margin:0},D=(h?bp(d,h):d).map(function(M,U){if(M.type==="none")return null;var W=Rv({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},l),R=M.formatter||f||IX,K=M.value,Y=M.name,Z=K,ae=Y;if(R&&Z!=null&&ae!=null){var $=R(K,Y,M,U,d);if(Array.isArray($)){var H=EX($,2);Z=H[0],ae=H[1]}else Z=$}return z.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(U),style:W},Mr(ae)?z.createElement("span",{className:"recharts-tooltip-item-name"},ae):null,Mr(ae)?z.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,z.createElement("span",{className:"recharts-tooltip-item-value"},Z),z.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return z.createElement("ul",{className:"recharts-tooltip-item-list",style:C},D)}return null},_=Rv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),w=Rv({margin:0},u),S=!pt(g),O=S?g:"",P=vt("recharts-default-tooltip",m),T=vt("recharts-tooltip-label",v);S&&x&&d!==void 0&&d!==null&&(O=x(g,d));var F=y?{role:"status","aria-live":"assertive"}:{};return z.createElement("div",ey({className:P,style:_},F),z.createElement("p",{className:T,style:w},z.isValidElement(O)?O:"".concat(O)),N())};function Sd(e){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sd(e)}function bh(e,t,r){return t=FX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FX(e){var t=BX(e,"string");return Sd(t)=="symbol"?t:t+""}function BX(e,t){if(Sd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Du="recharts-tooltip-wrapper",qX={visibility:"hidden"};function zX(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return vt(Du,bh(bh(bh(bh({},"".concat(Du,"-right"),Le(r)&&t&&Le(t.x)&&r>=t.x),"".concat(Du,"-left"),Le(r)&&t&&Le(t.x)&&r<t.x),"".concat(Du,"-bottom"),Le(n)&&t&&Le(t.y)&&n>=t.y),"".concat(Du,"-top"),Le(n)&&t&&Le(t.y)&&n<t.y))}function l5(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&Le(i[n]))return i[n];var d=r[n]-l-a,f=r[n]+a;if(t[n])return o[n]?d:f;if(o[n]){var h=d,m=c[n];return h<m?Math.max(f,c[n]):Math.max(d,c[n])}var v=f+l,g=c[n]+u;return v>g?Math.max(d,c[n]):Math.max(f,c[n])}function UX(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function WX(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=l5({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=l5({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=UX({translateX:d,translateY:f,useTranslate3d:l})):u=qX,{cssProperties:u,cssClasses:zX({translateX:d,translateY:f,coordinate:r})}}function ac(e){"@babel/helpers - typeof";return ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ac(e)}function c5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function u5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c5(Object(r),!0).forEach(function(n){ry(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,T4(n.key),n)}}function VX(e,t,r){return t&&GX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function YX(e,t,r){return t=mm(t),KX(e,k4()?Reflect.construct(t,r||[],mm(e).constructor):t.apply(e,r))}function KX(e,t){if(t&&(ac(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XX(e)}function XX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k4=function(){return!!e})()}function mm(e){return mm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mm(e)}function JX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ty(e,t)}function ty(e,t){return ty=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ty(e,t)}function ry(e,t,r){return t=T4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T4(e){var t=ZX(e,"string");return ac(t)=="symbol"?t:t+""}function ZX(e,t){if(ac(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ac(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var d5=1,QX=function(e){function t(){var r;HX(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=YX(this,t,[].concat(a)),ry(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),ry(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return JX(t,e),VX(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>d5||Math.abs(n.height-this.state.lastBoundingBox.height)>d5)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,m=a.offset,v=a.position,g=a.reverseDirection,x=a.useTranslate3d,b=a.viewBox,y=a.wrapperStyle,N=WX({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:m,position:v,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:b}),_=N.cssClasses,w=N.cssProperties,S=u5(u5({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},y);return z.createElement("div",{tabIndex:-1,className:_,style:S,ref:function(P){n.wrapperNode=P}},u)}}])}(I.PureComponent),eJ=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ro={isSsr:eJ()};function ic(e){"@babel/helpers - typeof";return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ic(e)}function f5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function h5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f5(Object(r),!0).forEach(function(n){vx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rJ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,L4(n.key),n)}}function nJ(e,t,r){return t&&rJ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function aJ(e,t,r){return t=pm(t),iJ(e,C4()?Reflect.construct(t,r||[],pm(e).constructor):t.apply(e,r))}function iJ(e,t){if(t&&(ic(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sJ(e)}function sJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C4=function(){return!!e})()}function pm(e){return pm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pm(e)}function oJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ny(e,t)}function ny(e,t){return ny=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ny(e,t)}function vx(e,t,r){return t=L4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L4(e){var t=lJ(e,"string");return ic(t)=="symbol"?t:t+""}function lJ(e,t){if(ic(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ic(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function cJ(e){return e.dataKey}function uJ(e,t){return z.isValidElement(e)?z.cloneElement(e,t):typeof e=="function"?z.createElement(e,t):z.createElement(RX,t)}var Ca=function(e){function t(){return tJ(this,t),aJ(this,t,arguments)}return oJ(t,e),nJ(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,m=a.offset,v=a.payload,g=a.payloadUniqBy,x=a.position,b=a.reverseDirection,y=a.useTranslate3d,N=a.viewBox,_=a.wrapperStyle,w=v??[];f&&w.length&&(w=O4(v.filter(function(O){return O.value!=null&&(O.hide!==!0||n.props.includeHidden)}),g,cJ));var S=w.length>0;return z.createElement(QX,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:d,hasPayload:S,offset:m,position:x,reverseDirection:b,useTranslate3d:y,viewBox:N,wrapperStyle:_},uJ(u,h5(h5({},this.props),{},{payload:w})))}}])}(I.PureComponent);vx(Ca,"displayName","Tooltip");vx(Ca,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ro.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var dJ=qa,fJ=function(){return dJ.Date.now()},hJ=fJ,mJ=ha,Fv=hJ,m5=KS,pJ="Expected a function",gJ=Math.max,vJ=Math.min;function yJ(e,t,r){var n,a,i,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(pJ);t=m5(t)||0,mJ(r)&&(d=!!r.leading,f="maxWait"in r,i=f?gJ(m5(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function m(S){var O=n,P=a;return n=a=void 0,u=S,o=e.apply(P,O),o}function v(S){return u=S,l=setTimeout(b,t),d?m(S):o}function g(S){var O=S-c,P=S-u,T=t-O;return f?vJ(T,i-P):T}function x(S){var O=S-c,P=S-u;return c===void 0||O>=t||O<0||f&&P>=i}function b(){var S=Fv();if(x(S))return y(S);l=setTimeout(b,g(S))}function y(S){return l=void 0,h&&n?m(S):(n=a=void 0,o)}function N(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function _(){return l===void 0?o:y(Fv())}function w(){var S=Fv(),O=x(S);if(n=arguments,a=this,c=S,O){if(l===void 0)return v(c);if(f)return clearTimeout(l),l=setTimeout(b,t),m(c)}return l===void 0&&(l=setTimeout(b,t)),o}return w.cancel=N,w.flush=_,w}var bJ=yJ,xJ=bJ,wJ=ha,jJ="Expected a function";function NJ(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(jJ);return wJ(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),xJ(e,t,{leading:n,maxWait:t,trailing:a})}var SJ=NJ;const M4=Nt(SJ);function _d(e){"@babel/helpers - typeof";return _d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_d(e)}function p5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p5(Object(r),!0).forEach(function(n){_J(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _J(e,t,r){return t=AJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AJ(e){var t=OJ(e,"string");return _d(t)=="symbol"?t:t+""}function OJ(e,t){if(_d(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_d(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PJ(e,t){return CJ(e)||TJ(e,t)||kJ(e,t)||EJ()}function EJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kJ(e,t){if(e){if(typeof e=="string")return g5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g5(e,t)}}function g5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function TJ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function CJ(e){if(Array.isArray(e))return e}var v5=I.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,m=e.children,v=e.debounce,g=v===void 0?0:v,x=e.id,b=e.className,y=e.onResize,N=e.style,_=N===void 0?{}:N,w=I.useRef(null),S=I.useRef();S.current=y,I.useImperativeHandle(t,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var O=I.useState({containerWidth:a.width,containerHeight:a.height}),P=PJ(O,2),T=P[0],F=P[1],k=I.useCallback(function(D,M){F(function(U){var W=Math.round(D),R=Math.round(M);return U.containerWidth===W&&U.containerHeight===R?U:{containerWidth:W,containerHeight:R}})},[]);I.useEffect(function(){var D=function(Y){var Z,ae=Y[0].contentRect,$=ae.width,H=ae.height;k($,H),(Z=S.current)===null||Z===void 0||Z.call(S,$,H)};g>0&&(D=M4(D,g,{trailing:!0,leading:!1}));var M=new ResizeObserver(D),U=w.current.getBoundingClientRect(),W=U.width,R=U.height;return k(W,R),M.observe(w.current),function(){M.disconnect()}},[k,g]);var C=I.useMemo(function(){var D=T.containerWidth,M=T.containerHeight;if(D<0||M<0)return null;Fa(oo(o)||oo(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Fa(!r||r>0,"The aspect(%s) must be greater than zero.",r);var U=oo(o)?D:o,W=oo(c)?M:c;r&&r>0&&(U?W=U/r:W&&(U=W*r),h&&W>h&&(W=h)),Fa(U>0||W>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,U,W,o,c,d,f,r);var R=!Array.isArray(m)&&Fi(m.type).endsWith("Chart");return z.Children.map(m,function(K){return z.isValidElement(K)?I.cloneElement(K,xh({width:U,height:W},R?{style:xh({height:"100%",width:"100%",maxHeight:W,maxWidth:U},K.props.style)}:{})):K})},[r,m,c,h,f,d,T,o]);return z.createElement("div",{id:x?"".concat(x):void 0,className:vt("recharts-responsive-container",b),style:xh(xh({},_),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:w},C)}),Vp=function(t){return null};Vp.displayName="Cell";function Ad(e){"@babel/helpers - typeof";return Ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ad(e)}function y5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ay(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y5(Object(r),!0).forEach(function(n){LJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LJ(e,t,r){return t=MJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MJ(e){var t=$J(e,"string");return Ad(t)=="symbol"?t:t+""}function $J(e,t){if(Ad(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ad(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wl={widthCache:{},cacheCount:0},DJ=2e3,IJ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},b5="recharts_measurement_span";function RJ(e){var t=ay({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Zu=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ro.isSsr)return{width:0,height:0};var n=RJ(r),a=JSON.stringify({text:t,copyStyle:n});if(wl.widthCache[a])return wl.widthCache[a];try{var i=document.getElementById(b5);i||(i=document.createElement("span"),i.setAttribute("id",b5),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=ay(ay({},IJ),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return wl.widthCache[a]=c,++wl.cacheCount>DJ&&(wl.cacheCount=0,wl.widthCache={}),c}catch{return{width:0,height:0}}},FJ=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Od(e){"@babel/helpers - typeof";return Od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Od(e)}function gm(e,t){return UJ(e)||zJ(e,t)||qJ(e,t)||BJ()}function BJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qJ(e,t){if(e){if(typeof e=="string")return x5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x5(e,t)}}function x5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zJ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function UJ(e){if(Array.isArray(e))return e}function WJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GJ(n.key),n)}}function HJ(e,t,r){return t&&w5(e.prototype,t),r&&w5(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function GJ(e){var t=VJ(e,"string");return Od(t)=="symbol"?t:t+""}function VJ(e,t){if(Od(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Od(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var j5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,N5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,YJ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,KJ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,$4={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},XJ=Object.keys($4),El="NaN";function JJ(e,t){return e*$4[t]}var wh=function(){function e(t,r){WJ(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!YJ.test(r)&&(this.num=NaN,this.unit=""),XJ.includes(r)&&(this.num=JJ(t,r),this.unit="px")}return HJ(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=KJ.exec(r))!==null&&n!==void 0?n:[],i=gm(a,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function D4(e){if(e.includes(El))return El;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=j5.exec(t))!==null&&r!==void 0?r:[],a=gm(n,4),i=a[1],o=a[2],l=a[3],c=wh.parse(i??""),u=wh.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return El;t=t.replace(j5,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=N5.exec(t))!==null&&f!==void 0?f:[],m=gm(h,4),v=m[1],g=m[2],x=m[3],b=wh.parse(v??""),y=wh.parse(x??""),N=g==="+"?b.add(y):b.subtract(y);if(N.isNaN())return El;t=t.replace(N5,N.toString())}return t}var S5=/\(([^()]*)\)/;function ZJ(e){for(var t=e;t.includes("(");){var r=S5.exec(t),n=gm(r,2),a=n[1];t=t.replace(S5,D4(a))}return t}function QJ(e){var t=e.replace(/\s+/g,"");return t=ZJ(t),t=D4(t),t}function eZ(e){try{return QJ(e)}catch{return El}}function Bv(e){var t=eZ(e.slice(5,-1));return t===El?"":t}var tZ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],rZ=["dx","dy","angle","className","breakAll"];function iy(){return iy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iy.apply(this,arguments)}function _5(e,t){if(e==null)return{};var r=nZ(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function A5(e,t){return oZ(e)||sZ(e,t)||iZ(e,t)||aZ()}function aZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iZ(e,t){if(e){if(typeof e=="string")return O5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O5(e,t)}}function O5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sZ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function oZ(e){if(Array.isArray(e))return e}var I4=/[ \f\n\r\t\v\u2028\u2029]+/,R4=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];pt(r)||(n?i=r.toString().split(""):i=r.toString().split(I4));var o=i.map(function(c){return{word:c,width:Zu(c,a).width}}),l=n?0:Zu(" ",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},lZ=function(t,r,n,a,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=Le(o),f=l,h=function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return U.reduce(function(W,R){var K=R.word,Y=R.width,Z=W[W.length-1];if(Z&&(a==null||i||Z.width+Y+n<Number(a)))Z.words.push(K),Z.width+=Y+n;else{var ae={words:[K],width:Y};W.push(ae)}return W},[])},m=h(r),v=function(U){return U.reduce(function(W,R){return W.width>R.width?W:R})};if(!d)return m;for(var g="…",x=function(U){var W=f.slice(0,U),R=R4({breakAll:u,style:c,children:W+g}).wordsWithComputedWidth,K=h(R),Y=K.length>o||v(K).width>Number(a);return[Y,K]},b=0,y=f.length-1,N=0,_;b<=y&&N<=f.length-1;){var w=Math.floor((b+y)/2),S=w-1,O=x(S),P=A5(O,2),T=P[0],F=P[1],k=x(w),C=A5(k,1),D=C[0];if(!T&&!D&&(b=w+1),T&&D&&(y=w-1),!T&&D){_=F;break}N++}return _||m},P5=function(t){var r=pt(t)?[]:t.toString().split(I4);return[{words:r}]},cZ=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!Ro.isSsr){var c,u,d=R4({breakAll:o,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return P5(a);return lZ({breakAll:o,children:a,maxLines:l,style:i},c,u,r,n)}return P5(a)},E5="#808080",Co=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,m=h===void 0?"start":h,v=t.verticalAnchor,g=v===void 0?"end":v,x=t.fill,b=x===void 0?E5:x,y=_5(t,tZ),N=I.useMemo(function(){return cZ({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:f,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,f,y.style,y.width]),_=y.dx,w=y.dy,S=y.angle,O=y.className,P=y.breakAll,T=_5(y,rZ);if(!Mr(n)||!Mr(i))return null;var F=n+(Le(_)?_:0),k=i+(Le(w)?w:0),C;switch(g){case"start":C=Bv("calc(".concat(u,")"));break;case"middle":C=Bv("calc(".concat((N.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:C=Bv("calc(".concat(N.length-1," * -").concat(l,")"));break}var D=[];if(f){var M=N[0].width,U=y.width;D.push("scale(".concat((Le(U)?U/M:1)/M,")"))}return S&&D.push("rotate(".concat(S,", ").concat(F,", ").concat(k,")")),D.length&&(T.transform=D.join(" ")),z.createElement("text",iy({},Ze(T,!0),{x:F,y:k,className:vt("recharts-text",O),textAnchor:m,fill:b.includes("url")?E5:b}),N.map(function(W,R){var K=W.words.join(P?"":" ");return z.createElement("tspan",{x:F,dy:R===0?C:l,key:"".concat(K,"-").concat(R)},K)}))};function xs(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function uZ(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function yx(e){let t,r,n;e.length!==2?(t=xs,r=(l,c)=>xs(e(l),c),n=(l,c)=>e(l)-c):(t=e===xs||e===uZ?e:dZ,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:o,right:i}}function dZ(){return 0}function F4(e){return e===null?NaN:+e}function*fZ(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const hZ=yx(xs),mf=hZ.right;yx(F4).center;class k5 extends Map{constructor(t,r=gZ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(T5(this,t))}has(t){return super.has(T5(this,t))}set(t,r){return super.set(mZ(this,t),r)}delete(t){return super.delete(pZ(this,t))}}function T5({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function mZ({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function pZ({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function gZ(e){return e!==null&&typeof e=="object"?e.valueOf():e}function vZ(e=xs){if(e===xs)return B4;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function B4(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const yZ=Math.sqrt(50),bZ=Math.sqrt(10),xZ=Math.sqrt(2);function vm(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=yZ?10:i>=bZ?5:i>=xZ?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?vm(e,t,r*2):[l,c,u]}function sy(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?vm(t,e,r):vm(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function oy(e,t,r){return t=+t,e=+e,r=+r,vm(e,t,r)[2]}function ly(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?oy(t,e,r):oy(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function C5(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function L5(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function q4(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?B4:vZ(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),v=Math.min(n,Math.floor(t+(c-u)*f/c+h));q4(e,t,m,v,a)}const i=e[t];let o=r,l=n;for(Iu(e,r,t),a(e[n],i)>0&&Iu(e,r,n);o<l;){for(Iu(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?Iu(e,r,l):(++l,Iu(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Iu(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function wZ(e,t,r){if(e=Float64Array.from(fZ(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return L5(e);if(t>=1)return C5(e);var n,a=(n-1)*t,i=Math.floor(a),o=C5(q4(e,i).subarray(0,i+1)),l=L5(e.subarray(i+1));return o+(l-o)*(a-i)}}function jZ(e,t,r=F4){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function NZ(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function ga(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Vi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const cy=Symbol("implicit");function bx(){var e=new k5,t=[],r=[],n=cy;function a(i){let o=e.get(i);if(o===void 0){if(n!==cy)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new k5;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return bx(t,r).unknown(n)},ga.apply(a,arguments),a}function Pd(){var e=bx().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=a<n,v=m?a:n,g=m?n:a;i=(g-v)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),v+=(g-v-i*(h-c))*d,o=i*(1-c),l&&(v=Math.round(v),o=Math.round(o));var x=NZ(h).map(function(b){return v+i*b});return r(m?x.reverse():x)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Pd(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},ga.apply(f(),arguments)}function z4(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return z4(t())},e}function Qu(){return z4(Pd.apply(null,arguments).paddingInner(1))}function xx(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function U4(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function pf(){}var Ed=.7,ym=1/Ed,Fl="\\s*([+-]?\\d+)\\s*",kd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",mi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",SZ=/^#([0-9a-f]{3,8})$/,_Z=new RegExp(`^rgb\\(${Fl},${Fl},${Fl}\\)$`),AZ=new RegExp(`^rgb\\(${mi},${mi},${mi}\\)$`),OZ=new RegExp(`^rgba\\(${Fl},${Fl},${Fl},${kd}\\)$`),PZ=new RegExp(`^rgba\\(${mi},${mi},${mi},${kd}\\)$`),EZ=new RegExp(`^hsl\\(${kd},${mi},${mi}\\)$`),kZ=new RegExp(`^hsla\\(${kd},${mi},${mi},${kd}\\)$`),M5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};xx(pf,Td,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:$5,formatHex:$5,formatHex8:TZ,formatHsl:CZ,formatRgb:D5,toString:D5});function $5(){return this.rgb().formatHex()}function TZ(){return this.rgb().formatHex8()}function CZ(){return W4(this).formatHsl()}function D5(){return this.rgb().formatRgb()}function Td(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=SZ.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?I5(t):r===3?new En(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?jh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?jh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=_Z.exec(e))?new En(t[1],t[2],t[3],1):(t=AZ.exec(e))?new En(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=OZ.exec(e))?jh(t[1],t[2],t[3],t[4]):(t=PZ.exec(e))?jh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=EZ.exec(e))?B5(t[1],t[2]/100,t[3]/100,1):(t=kZ.exec(e))?B5(t[1],t[2]/100,t[3]/100,t[4]):M5.hasOwnProperty(e)?I5(M5[e]):e==="transparent"?new En(NaN,NaN,NaN,0):null}function I5(e){return new En(e>>16&255,e>>8&255,e&255,1)}function jh(e,t,r,n){return n<=0&&(e=t=r=NaN),new En(e,t,r,n)}function LZ(e){return e instanceof pf||(e=Td(e)),e?(e=e.rgb(),new En(e.r,e.g,e.b,e.opacity)):new En}function uy(e,t,r,n){return arguments.length===1?LZ(e):new En(e,t,r,n??1)}function En(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}xx(En,uy,U4(pf,{brighter(e){return e=e==null?ym:Math.pow(ym,e),new En(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ed:Math.pow(Ed,e),new En(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new En(vo(this.r),vo(this.g),vo(this.b),bm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:R5,formatHex:R5,formatHex8:MZ,formatRgb:F5,toString:F5}));function R5(){return`#${lo(this.r)}${lo(this.g)}${lo(this.b)}`}function MZ(){return`#${lo(this.r)}${lo(this.g)}${lo(this.b)}${lo((isNaN(this.opacity)?1:this.opacity)*255)}`}function F5(){const e=bm(this.opacity);return`${e===1?"rgb(":"rgba("}${vo(this.r)}, ${vo(this.g)}, ${vo(this.b)}${e===1?")":`, ${e})`}`}function bm(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function vo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function lo(e){return e=vo(e),(e<16?"0":"")+e.toString(16)}function B5(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new $a(e,t,r,n)}function W4(e){if(e instanceof $a)return new $a(e.h,e.s,e.l,e.opacity);if(e instanceof pf||(e=Td(e)),!e)return new $a;if(e instanceof $a)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new $a(o,l,c,e.opacity)}function $Z(e,t,r,n){return arguments.length===1?W4(e):new $a(e,t,r,n??1)}function $a(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}xx($a,$Z,U4(pf,{brighter(e){return e=e==null?ym:Math.pow(ym,e),new $a(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ed:Math.pow(Ed,e),new $a(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new En(qv(e>=240?e-240:e+120,a,n),qv(e,a,n),qv(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new $a(q5(this.h),Nh(this.s),Nh(this.l),bm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=bm(this.opacity);return`${e===1?"hsl(":"hsla("}${q5(this.h)}, ${Nh(this.s)*100}%, ${Nh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function q5(e){return e=(e||0)%360,e<0?e+360:e}function Nh(e){return Math.max(0,Math.min(1,e||0))}function qv(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const wx=e=>()=>e;function DZ(e,t){return function(r){return e+r*t}}function IZ(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function RZ(e){return(e=+e)==1?H4:function(t,r){return r-t?IZ(t,r,e):wx(isNaN(t)?r:t)}}function H4(e,t){var r=t-e;return r?DZ(e,r):wx(isNaN(e)?t:e)}const z5=function e(t){var r=RZ(t);function n(a,i){var o=r((a=uy(a)).r,(i=uy(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=H4(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function FZ(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function BZ(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function qZ(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=Hc(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function zZ(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function xm(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function UZ(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Hc(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var dy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,zv=new RegExp(dy.source,"g");function WZ(e){return function(){return e}}function HZ(e){return function(t){return e(t)+""}}function GZ(e,t){var r=dy.lastIndex=zv.lastIndex=0,n,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=dy.exec(e))&&(a=zv.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:xm(n,a)})),r=zv.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?HZ(c[0].x):WZ(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Hc(e,t){var r=typeof t,n;return t==null||r==="boolean"?wx(t):(r==="number"?xm:r==="string"?(n=Td(t))?(t=n,z5):GZ:t instanceof Td?z5:t instanceof Date?zZ:BZ(t)?FZ:Array.isArray(t)?qZ:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?UZ:xm)(e,t)}function jx(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function VZ(e,t){t===void 0&&(t=e,e=Hc);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function YZ(e){return function(){return e}}function wm(e){return+e}var U5=[0,1];function wn(e){return e}function fy(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:YZ(isNaN(t)?NaN:.5)}function KZ(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function XZ(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=fy(a,n),i=r(o,i)):(n=fy(n,a),i=r(i,o)),function(l){return i(n(l))}}function JZ(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=fy(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=mf(e,l,1,n)-1;return i[c](a[c](l))}}function gf(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Yp(){var e=U5,t=U5,r=Hc,n,a,i,o=wn,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==wn&&(o=KZ(e[0],e[h-1])),l=h>2?JZ:XZ,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((u||(u=l(t,e.map(n),xm)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,wm),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=jx,d()},f.clamp=function(h){return arguments.length?(o=h?!0:wn,d()):o!==wn},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,m){return n=h,a=m,d()}}function Nx(){return Yp()(wn,wn)}function ZZ(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function jm(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function sc(e){return e=jm(Math.abs(e)),e?e[1]:NaN}function QZ(e,t){return function(r,n){for(var a=r.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function eQ(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var tQ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Cd(e){if(!(t=tQ.exec(e)))throw new Error("invalid format: "+e);var t;return new Sx({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Cd.prototype=Sx.prototype;function Sx(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Sx.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function rQ(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var G4;function nQ(e,t){var r=jm(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(G4=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+jm(e,Math.max(0,t+i-1))[0]}function W5(e,t){var r=jm(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const H5={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:ZZ,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>W5(e*100,t),r:W5,s:nQ,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function G5(e){return e}var V5=Array.prototype.map,Y5=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function aQ(e){var t=e.grouping===void 0||e.thousands===void 0?G5:QZ(V5.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?G5:eQ(V5.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Cd(f);var h=f.fill,m=f.align,v=f.sign,g=f.symbol,x=f.zero,b=f.width,y=f.comma,N=f.precision,_=f.trim,w=f.type;w==="n"?(y=!0,w="g"):H5[w]||(N===void 0&&(N=12),_=!0,w="g"),(x||h==="0"&&m==="=")&&(x=!0,h="0",m="=");var S=g==="$"?r:g==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",O=g==="$"?n:/[%p]/.test(w)?o:"",P=H5[w],T=/[defgprs%]/.test(w);N=N===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function F(k){var C=S,D=O,M,U,W;if(w==="c")D=P(k)+D,k="";else{k=+k;var R=k<0||1/k<0;if(k=isNaN(k)?c:P(Math.abs(k),N),_&&(k=rQ(k)),R&&+k==0&&v!=="+"&&(R=!1),C=(R?v==="("?v:l:v==="-"||v==="("?"":v)+C,D=(w==="s"?Y5[8+G4/3]:"")+D+(R&&v==="("?")":""),T){for(M=-1,U=k.length;++M<U;)if(W=k.charCodeAt(M),48>W||W>57){D=(W===46?a+k.slice(M+1):k.slice(M))+D,k=k.slice(0,M);break}}}y&&!x&&(k=t(k,1/0));var K=C.length+k.length+D.length,Y=K<b?new Array(b-K+1).join(h):"";switch(y&&x&&(k=t(Y+k,Y.length?b-D.length:1/0),Y=""),m){case"<":k=C+k+D+Y;break;case"=":k=C+Y+k+D;break;case"^":k=Y.slice(0,K=Y.length>>1)+C+k+D+Y.slice(K);break;default:k=Y+C+k+D;break}return i(k)}return F.toString=function(){return f+""},F}function d(f,h){var m=u((f=Cd(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(sc(h)/3)))*3,g=Math.pow(10,-v),x=Y5[8+v/3];return function(b){return m(g*b)+x}}return{format:u,formatPrefix:d}}var Sh,_x,V4;iQ({thousands:",",grouping:[3],currency:["$",""]});function iQ(e){return Sh=aQ(e),_x=Sh.format,V4=Sh.formatPrefix,Sh}function sQ(e){return Math.max(0,-sc(Math.abs(e)))}function oQ(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(sc(t)/3)))*3-sc(Math.abs(e)))}function lQ(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,sc(t)-sc(e))+1}function Y4(e,t,r,n){var a=ly(e,t,r),i;switch(n=Cd(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=oQ(a,o))&&(n.precision=i),V4(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=lQ(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=sQ(a))&&(n.precision=i-(n.type==="%")*2);break}}return _x(n)}function ks(e){var t=e.domain;return e.ticks=function(r){var n=t();return sy(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return Y4(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=oy(o,l,r),u===c)return n[a]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function Nm(){var e=Nx();return e.copy=function(){return gf(e,Nm())},ga.apply(e,arguments),ks(e)}function K4(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,wm),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return K4(e).unknown(t)},e=arguments.length?Array.from(e,wm):[0,1],ks(r)}function X4(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function K5(e){return Math.log(e)}function X5(e){return Math.exp(e)}function cQ(e){return-Math.log(-e)}function uQ(e){return-Math.exp(-e)}function dQ(e){return isFinite(e)?+("1e"+e):e<0?0:e}function fQ(e){return e===10?dQ:e===Math.E?Math.exp:t=>Math.pow(e,t)}function hQ(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function J5(e){return(t,r)=>-e(-t,r)}function Ax(e){const t=e(K5,X5),r=t.domain;let n=10,a,i;function o(){return a=hQ(n),i=fQ(n),r()[0]<0?(a=J5(a),i=J5(i),e(cQ,uQ)):e(K5,X5),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),m=a(d),v,g;const x=l==null?10:+l;let b=[];if(!(n%1)&&m-h<x){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(v=1;v<n;++v)if(g=h<0?v/i(-h):v*i(h),!(g<u)){if(g>d)break;b.push(g)}}else for(;h<=m;++h)for(v=n-1;v>=1;--v)if(g=h>0?v/i(-h):v*i(h),!(g<u)){if(g>d)break;b.push(g)}b.length*2<x&&(b=sy(u,d,x))}else b=sy(h,m,Math.min(m-h,x)).map(i);return f?b.reverse():b},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Cd(c)).precision==null&&(c.trim=!0),c=_x(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(X4(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function J4(){const e=Ax(Yp()).domain([1,10]);return e.copy=()=>gf(e,J4()).base(e.base()),ga.apply(e,arguments),e}function Z5(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Q5(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Ox(e){var t=1,r=e(Z5(t),Q5(t));return r.constant=function(n){return arguments.length?e(Z5(t=+n),Q5(t)):t},ks(r)}function Z4(){var e=Ox(Yp());return e.copy=function(){return gf(e,Z4()).constant(e.constant())},ga.apply(e,arguments)}function ej(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function mQ(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function pQ(e){return e<0?-e*e:e*e}function Px(e){var t=e(wn,wn),r=1;function n(){return r===1?e(wn,wn):r===.5?e(mQ,pQ):e(ej(r),ej(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},ks(t)}function Ex(){var e=Px(Yp());return e.copy=function(){return gf(e,Ex()).exponent(e.exponent())},ga.apply(e,arguments),e}function gQ(){return Ex.apply(null,arguments).exponent(.5)}function tj(e){return Math.sign(e)*e*e}function vQ(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Q4(){var e=Nx(),t=[0,1],r=!1,n;function a(i){var o=vQ(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(tj(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,wm)).map(tj)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return Q4(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},ga.apply(a,arguments),ks(a)}function e3(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=jZ(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[mf(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(xs),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return e3().domain(e).range(t).unknown(n)},ga.apply(i,arguments)}function t3(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[mf(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return t3().domain([e,t]).range(a).unknown(i)},ga.apply(ks(o),arguments)}function r3(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[mf(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return r3().domain(e).range(t).unknown(r)},ga.apply(a,arguments)}const Uv=new Date,Wv=new Date;function Ir(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},a.filter=i=>Ir(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(Uv.setTime(+i),Wv.setTime(+o),e(Uv),e(Wv),Math.floor(r(Uv,Wv))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const Sm=Ir(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Sm.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ir(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Sm);Sm.range;const Di=1e3,oa=Di*60,Ii=oa*60,Ui=Ii*24,kx=Ui*7,rj=Ui*30,Hv=Ui*365,co=Ir(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Di)},(e,t)=>(t-e)/Di,e=>e.getUTCSeconds());co.range;const Tx=Ir(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Di)},(e,t)=>{e.setTime(+e+t*oa)},(e,t)=>(t-e)/oa,e=>e.getMinutes());Tx.range;const Cx=Ir(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*oa)},(e,t)=>(t-e)/oa,e=>e.getUTCMinutes());Cx.range;const Lx=Ir(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Di-e.getMinutes()*oa)},(e,t)=>{e.setTime(+e+t*Ii)},(e,t)=>(t-e)/Ii,e=>e.getHours());Lx.range;const Mx=Ir(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ii)},(e,t)=>(t-e)/Ii,e=>e.getUTCHours());Mx.range;const vf=Ir(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*oa)/Ui,e=>e.getDate()-1);vf.range;const Kp=Ir(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ui,e=>e.getUTCDate()-1);Kp.range;const n3=Ir(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ui,e=>Math.floor(e/Ui));n3.range;function Fo(e){return Ir(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*oa)/kx)}const Xp=Fo(0),_m=Fo(1),yQ=Fo(2),bQ=Fo(3),oc=Fo(4),xQ=Fo(5),wQ=Fo(6);Xp.range;_m.range;yQ.range;bQ.range;oc.range;xQ.range;wQ.range;function Bo(e){return Ir(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/kx)}const Jp=Bo(0),Am=Bo(1),jQ=Bo(2),NQ=Bo(3),lc=Bo(4),SQ=Bo(5),_Q=Bo(6);Jp.range;Am.range;jQ.range;NQ.range;lc.range;SQ.range;_Q.range;const $x=Ir(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());$x.range;const Dx=Ir(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Dx.range;const Wi=Ir(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Wi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ir(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Wi.range;const Hi=Ir(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Hi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ir(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Hi.range;function a3(e,t,r,n,a,i){const o=[[co,1,Di],[co,5,5*Di],[co,15,15*Di],[co,30,30*Di],[i,1,oa],[i,5,5*oa],[i,15,15*oa],[i,30,30*oa],[a,1,Ii],[a,3,3*Ii],[a,6,6*Ii],[a,12,12*Ii],[n,1,Ui],[n,2,2*Ui],[r,1,kx],[t,1,rj],[t,3,3*rj],[e,1,Hv]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),v=m?m.range(u,+d+1):[];return h?v.reverse():v}function c(u,d,f){const h=Math.abs(d-u)/f,m=yx(([,,x])=>x).right(o,h);if(m===o.length)return e.every(ly(u/Hv,d/Hv,f));if(m===0)return Sm.every(Math.max(ly(u,d,f),1));const[v,g]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return v.every(g)}return[l,c]}const[AQ,OQ]=a3(Hi,Dx,Jp,n3,Mx,Cx),[PQ,EQ]=a3(Wi,$x,Xp,vf,Lx,Tx);function Gv(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Vv(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ru(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function kQ(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Fu(a),d=Bu(a),f=Fu(i),h=Bu(i),m=Fu(o),v=Bu(o),g=Fu(l),x=Bu(l),b=Fu(c),y=Bu(c),N={a:R,A:K,b:Y,B:Z,c:null,d:lj,e:lj,f:QQ,g:cee,G:dee,H:XQ,I:JQ,j:ZQ,L:i3,m:eee,M:tee,p:ae,q:$,Q:dj,s:fj,S:ree,u:nee,U:aee,V:iee,w:see,W:oee,x:null,X:null,y:lee,Y:uee,Z:fee,"%":uj},_={a:H,A:Q,b:ne,B:se,c:null,d:cj,e:cj,f:gee,g:Aee,G:Pee,H:hee,I:mee,j:pee,L:o3,m:vee,M:yee,p:he,q:de,Q:dj,s:fj,S:bee,u:xee,U:wee,V:jee,w:Nee,W:See,x:null,X:null,y:_ee,Y:Oee,Z:Eee,"%":uj},w={a:F,A:k,b:C,B:D,c:M,d:sj,e:sj,f:GQ,g:ij,G:aj,H:oj,I:oj,j:zQ,L:HQ,m:qQ,M:UQ,p:T,q:BQ,Q:YQ,s:KQ,S:WQ,u:$Q,U:DQ,V:IQ,w:MQ,W:RQ,x:U,X:W,y:ij,Y:aj,Z:FQ,"%":VQ};N.x=S(r,N),N.X=S(n,N),N.c=S(t,N),_.x=S(r,_),_.X=S(n,_),_.c=S(t,_);function S(ie,xe){return function(be){var me=[],Ee=-1,$e=0,ye=ie.length,re,Ke,Be;for(be instanceof Date||(be=new Date(+be));++Ee<ye;)ie.charCodeAt(Ee)===37&&(me.push(ie.slice($e,Ee)),(Ke=nj[re=ie.charAt(++Ee)])!=null?re=ie.charAt(++Ee):Ke=re==="e"?" ":"0",(Be=xe[re])&&(re=Be(be,Ke)),me.push(re),$e=Ee+1);return me.push(ie.slice($e,Ee)),me.join("")}}function O(ie,xe){return function(be){var me=Ru(1900,void 0,1),Ee=P(me,ie,be+="",0),$e,ye;if(Ee!=be.length)return null;if("Q"in me)return new Date(me.Q);if("s"in me)return new Date(me.s*1e3+("L"in me?me.L:0));if(xe&&!("Z"in me)&&(me.Z=0),"p"in me&&(me.H=me.H%12+me.p*12),me.m===void 0&&(me.m="q"in me?me.q:0),"V"in me){if(me.V<1||me.V>53)return null;"w"in me||(me.w=1),"Z"in me?($e=Vv(Ru(me.y,0,1)),ye=$e.getUTCDay(),$e=ye>4||ye===0?Am.ceil($e):Am($e),$e=Kp.offset($e,(me.V-1)*7),me.y=$e.getUTCFullYear(),me.m=$e.getUTCMonth(),me.d=$e.getUTCDate()+(me.w+6)%7):($e=Gv(Ru(me.y,0,1)),ye=$e.getDay(),$e=ye>4||ye===0?_m.ceil($e):_m($e),$e=vf.offset($e,(me.V-1)*7),me.y=$e.getFullYear(),me.m=$e.getMonth(),me.d=$e.getDate()+(me.w+6)%7)}else("W"in me||"U"in me)&&("w"in me||(me.w="u"in me?me.u%7:"W"in me?1:0),ye="Z"in me?Vv(Ru(me.y,0,1)).getUTCDay():Gv(Ru(me.y,0,1)).getDay(),me.m=0,me.d="W"in me?(me.w+6)%7+me.W*7-(ye+5)%7:me.w+me.U*7-(ye+6)%7);return"Z"in me?(me.H+=me.Z/100|0,me.M+=me.Z%100,Vv(me)):Gv(me)}}function P(ie,xe,be,me){for(var Ee=0,$e=xe.length,ye=be.length,re,Ke;Ee<$e;){if(me>=ye)return-1;if(re=xe.charCodeAt(Ee++),re===37){if(re=xe.charAt(Ee++),Ke=w[re in nj?xe.charAt(Ee++):re],!Ke||(me=Ke(ie,be,me))<0)return-1}else if(re!=be.charCodeAt(me++))return-1}return me}function T(ie,xe,be){var me=u.exec(xe.slice(be));return me?(ie.p=d.get(me[0].toLowerCase()),be+me[0].length):-1}function F(ie,xe,be){var me=m.exec(xe.slice(be));return me?(ie.w=v.get(me[0].toLowerCase()),be+me[0].length):-1}function k(ie,xe,be){var me=f.exec(xe.slice(be));return me?(ie.w=h.get(me[0].toLowerCase()),be+me[0].length):-1}function C(ie,xe,be){var me=b.exec(xe.slice(be));return me?(ie.m=y.get(me[0].toLowerCase()),be+me[0].length):-1}function D(ie,xe,be){var me=g.exec(xe.slice(be));return me?(ie.m=x.get(me[0].toLowerCase()),be+me[0].length):-1}function M(ie,xe,be){return P(ie,t,xe,be)}function U(ie,xe,be){return P(ie,r,xe,be)}function W(ie,xe,be){return P(ie,n,xe,be)}function R(ie){return o[ie.getDay()]}function K(ie){return i[ie.getDay()]}function Y(ie){return c[ie.getMonth()]}function Z(ie){return l[ie.getMonth()]}function ae(ie){return a[+(ie.getHours()>=12)]}function $(ie){return 1+~~(ie.getMonth()/3)}function H(ie){return o[ie.getUTCDay()]}function Q(ie){return i[ie.getUTCDay()]}function ne(ie){return c[ie.getUTCMonth()]}function se(ie){return l[ie.getUTCMonth()]}function he(ie){return a[+(ie.getUTCHours()>=12)]}function de(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var xe=S(ie+="",N);return xe.toString=function(){return ie},xe},parse:function(ie){var xe=O(ie+="",!1);return xe.toString=function(){return ie},xe},utcFormat:function(ie){var xe=S(ie+="",_);return xe.toString=function(){return ie},xe},utcParse:function(ie){var xe=O(ie+="",!0);return xe.toString=function(){return ie},xe}}}var nj={"-":"",_:" ",0:"0"},Hr=/^\s*\d+/,TQ=/^%/,CQ=/[\\^$*+?|[\]().{}]/g;function Pt(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function LQ(e){return e.replace(CQ,"\\$&")}function Fu(e){return new RegExp("^(?:"+e.map(LQ).join("|")+")","i")}function Bu(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function MQ(e,t,r){var n=Hr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function $Q(e,t,r){var n=Hr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function DQ(e,t,r){var n=Hr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function IQ(e,t,r){var n=Hr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function RQ(e,t,r){var n=Hr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function aj(e,t,r){var n=Hr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function ij(e,t,r){var n=Hr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function FQ(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function BQ(e,t,r){var n=Hr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function qQ(e,t,r){var n=Hr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function sj(e,t,r){var n=Hr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function zQ(e,t,r){var n=Hr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function oj(e,t,r){var n=Hr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function UQ(e,t,r){var n=Hr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function WQ(e,t,r){var n=Hr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function HQ(e,t,r){var n=Hr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function GQ(e,t,r){var n=Hr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function VQ(e,t,r){var n=TQ.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function YQ(e,t,r){var n=Hr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function KQ(e,t,r){var n=Hr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function lj(e,t){return Pt(e.getDate(),t,2)}function XQ(e,t){return Pt(e.getHours(),t,2)}function JQ(e,t){return Pt(e.getHours()%12||12,t,2)}function ZQ(e,t){return Pt(1+vf.count(Wi(e),e),t,3)}function i3(e,t){return Pt(e.getMilliseconds(),t,3)}function QQ(e,t){return i3(e,t)+"000"}function eee(e,t){return Pt(e.getMonth()+1,t,2)}function tee(e,t){return Pt(e.getMinutes(),t,2)}function ree(e,t){return Pt(e.getSeconds(),t,2)}function nee(e){var t=e.getDay();return t===0?7:t}function aee(e,t){return Pt(Xp.count(Wi(e)-1,e),t,2)}function s3(e){var t=e.getDay();return t>=4||t===0?oc(e):oc.ceil(e)}function iee(e,t){return e=s3(e),Pt(oc.count(Wi(e),e)+(Wi(e).getDay()===4),t,2)}function see(e){return e.getDay()}function oee(e,t){return Pt(_m.count(Wi(e)-1,e),t,2)}function lee(e,t){return Pt(e.getFullYear()%100,t,2)}function cee(e,t){return e=s3(e),Pt(e.getFullYear()%100,t,2)}function uee(e,t){return Pt(e.getFullYear()%1e4,t,4)}function dee(e,t){var r=e.getDay();return e=r>=4||r===0?oc(e):oc.ceil(e),Pt(e.getFullYear()%1e4,t,4)}function fee(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Pt(t/60|0,"0",2)+Pt(t%60,"0",2)}function cj(e,t){return Pt(e.getUTCDate(),t,2)}function hee(e,t){return Pt(e.getUTCHours(),t,2)}function mee(e,t){return Pt(e.getUTCHours()%12||12,t,2)}function pee(e,t){return Pt(1+Kp.count(Hi(e),e),t,3)}function o3(e,t){return Pt(e.getUTCMilliseconds(),t,3)}function gee(e,t){return o3(e,t)+"000"}function vee(e,t){return Pt(e.getUTCMonth()+1,t,2)}function yee(e,t){return Pt(e.getUTCMinutes(),t,2)}function bee(e,t){return Pt(e.getUTCSeconds(),t,2)}function xee(e){var t=e.getUTCDay();return t===0?7:t}function wee(e,t){return Pt(Jp.count(Hi(e)-1,e),t,2)}function l3(e){var t=e.getUTCDay();return t>=4||t===0?lc(e):lc.ceil(e)}function jee(e,t){return e=l3(e),Pt(lc.count(Hi(e),e)+(Hi(e).getUTCDay()===4),t,2)}function Nee(e){return e.getUTCDay()}function See(e,t){return Pt(Am.count(Hi(e)-1,e),t,2)}function _ee(e,t){return Pt(e.getUTCFullYear()%100,t,2)}function Aee(e,t){return e=l3(e),Pt(e.getUTCFullYear()%100,t,2)}function Oee(e,t){return Pt(e.getUTCFullYear()%1e4,t,4)}function Pee(e,t){var r=e.getUTCDay();return e=r>=4||r===0?lc(e):lc.ceil(e),Pt(e.getUTCFullYear()%1e4,t,4)}function Eee(){return"+0000"}function uj(){return"%"}function dj(e){return+e}function fj(e){return Math.floor(+e/1e3)}var jl,c3,u3;kee({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function kee(e){return jl=kQ(e),c3=jl.format,jl.parse,u3=jl.utcFormat,jl.utcParse,jl}function Tee(e){return new Date(e)}function Cee(e){return e instanceof Date?+e:+new Date(+e)}function Ix(e,t,r,n,a,i,o,l,c,u){var d=Nx(),f=d.invert,h=d.domain,m=u(".%L"),v=u(":%S"),g=u("%I:%M"),x=u("%I %p"),b=u("%a %d"),y=u("%b %d"),N=u("%B"),_=u("%Y");function w(S){return(c(S)<S?m:l(S)<S?v:o(S)<S?g:i(S)<S?x:n(S)<S?a(S)<S?b:y:r(S)<S?N:_)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?h(Array.from(S,Cee)):h().map(Tee)},d.ticks=function(S){var O=h();return e(O[0],O[O.length-1],S??10)},d.tickFormat=function(S,O){return O==null?w:u(O)},d.nice=function(S){var O=h();return(!S||typeof S.range!="function")&&(S=t(O[0],O[O.length-1],S??10)),S?h(X4(O,S)):d},d.copy=function(){return gf(d,Ix(e,t,r,n,a,i,o,l,c,u))},d}function Lee(){return ga.apply(Ix(PQ,EQ,Wi,$x,Xp,vf,Lx,Tx,co,c3).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Mee(){return ga.apply(Ix(AQ,OQ,Hi,Dx,Jp,Kp,Mx,Cx,co,u3).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Zp(){var e=0,t=1,r,n,a,i,o=wn,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var m,v;return arguments.length?([m,v]=h,o=f(m,v),u):[o(0),o(1)]}}return u.range=d(Hc),u.rangeRound=d(jx),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function Ts(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function d3(){var e=ks(Zp()(wn));return e.copy=function(){return Ts(e,d3())},Vi.apply(e,arguments)}function f3(){var e=Ax(Zp()).domain([1,10]);return e.copy=function(){return Ts(e,f3()).base(e.base())},Vi.apply(e,arguments)}function h3(){var e=Ox(Zp());return e.copy=function(){return Ts(e,h3()).constant(e.constant())},Vi.apply(e,arguments)}function Rx(){var e=Px(Zp());return e.copy=function(){return Ts(e,Rx()).exponent(e.exponent())},Vi.apply(e,arguments)}function $ee(){return Rx.apply(null,arguments).exponent(.5)}function m3(){var e=[],t=wn;function r(n){if(n!=null&&!isNaN(n=+n))return t((mf(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(xs),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>wZ(e,i/n))},r.copy=function(){return m3(t).domain(e)},Vi.apply(r,arguments)}function Qp(){var e=0,t=.5,r=1,n=1,a,i,o,l,c,u=wn,d,f=!1,h;function m(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-i)*(n*g<n*i?l:c),u(f?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([e,t,r]=g,a=d(e=+e),i=d(t=+t),o=d(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,m):[e,t,r]},m.clamp=function(g){return arguments.length?(f=!!g,m):f},m.interpolator=function(g){return arguments.length?(u=g,m):u};function v(g){return function(x){var b,y,N;return arguments.length?([b,y,N]=x,u=VZ(g,[b,y,N]),m):[u(0),u(.5),u(1)]}}return m.range=v(Hc),m.rangeRound=v(jx),m.unknown=function(g){return arguments.length?(h=g,m):h},function(g){return d=g,a=g(e),i=g(t),o=g(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,m}}function p3(){var e=ks(Qp()(wn));return e.copy=function(){return Ts(e,p3())},Vi.apply(e,arguments)}function g3(){var e=Ax(Qp()).domain([.1,1,10]);return e.copy=function(){return Ts(e,g3()).base(e.base())},Vi.apply(e,arguments)}function v3(){var e=Ox(Qp());return e.copy=function(){return Ts(e,v3()).constant(e.constant())},Vi.apply(e,arguments)}function Fx(){var e=Px(Qp());return e.copy=function(){return Ts(e,Fx()).exponent(e.exponent())},Vi.apply(e,arguments)}function Dee(){return Fx.apply(null,arguments).exponent(.5)}const hj=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Pd,scaleDiverging:p3,scaleDivergingLog:g3,scaleDivergingPow:Fx,scaleDivergingSqrt:Dee,scaleDivergingSymlog:v3,scaleIdentity:K4,scaleImplicit:cy,scaleLinear:Nm,scaleLog:J4,scaleOrdinal:bx,scalePoint:Qu,scalePow:Ex,scaleQuantile:e3,scaleQuantize:t3,scaleRadial:Q4,scaleSequential:d3,scaleSequentialLog:f3,scaleSequentialPow:Rx,scaleSequentialQuantile:m3,scaleSequentialSqrt:$ee,scaleSequentialSymlog:h3,scaleSqrt:gQ,scaleSymlog:Z4,scaleThreshold:r3,scaleTime:Lee,scaleUtc:Mee,tickFormat:Y4},Symbol.toStringTag,{value:"Module"}));var Iee=Mc;function Ree(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],o=t(i);if(o!=null&&(l===void 0?o===o&&!Iee(o):r(o,l)))var l=o,c=i}return c}var eg=Ree;function Fee(e,t){return e>t}var y3=Fee,Bee=eg,qee=y3,zee=qc;function Uee(e){return e&&e.length?Bee(e,zee,qee):void 0}var Wee=Uee;const vs=Nt(Wee);function Hee(e,t){return e<t}var b3=Hee,Gee=eg,Vee=b3,Yee=qc;function Kee(e){return e&&e.length?Gee(e,Yee,Vee):void 0}var Xee=Kee;const tg=Nt(Xee);var Jee=gp,Zee=Ua,Qee=R_,ete=dn;function tte(e,t){var r=ete(e)?Jee:Qee;return r(e,Zee(t))}var rte=tte,nte=Hb,ate=rte;function ite(e,t){return nte(ate(e,t),1)}var ste=ite;const ote=Nt(ste);var Gc=1e9,lte={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},qx,nr=!0,fa="[DecimalError] ",yo=fa+"Invalid argument: ",Bx=fa+"Exponent out of range: ",Vc=Math.floor,no=Math.pow,cte=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,zn,qr=1e7,Qt=7,x3=9007199254740991,Om=Vc(x3/Qt),Ge={};Ge.absoluteValue=Ge.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ge.comparedTo=Ge.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Ge.decimalPlaces=Ge.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Qt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Ge.dividedBy=Ge.div=function(e){return Bi(this,new this.constructor(e))};Ge.dividedToIntegerBy=Ge.idiv=function(e){var t=this,r=t.constructor;return Ut(Bi(t,new r(e),0,1),r.precision)};Ge.equals=Ge.eq=function(e){return!this.cmp(e)};Ge.exponent=function(){return Or(this)};Ge.greaterThan=Ge.gt=function(e){return this.cmp(e)>0};Ge.greaterThanOrEqualTo=Ge.gte=function(e){return this.cmp(e)>=0};Ge.isInteger=Ge.isint=function(){return this.e>this.d.length-2};Ge.isNegative=Ge.isneg=function(){return this.s<0};Ge.isPositive=Ge.ispos=function(){return this.s>0};Ge.isZero=function(){return this.s===0};Ge.lessThan=Ge.lt=function(e){return this.cmp(e)<0};Ge.lessThanOrEqualTo=Ge.lte=function(e){return this.cmp(e)<1};Ge.logarithm=Ge.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(zn))throw Error(fa+"NaN");if(r.s<1)throw Error(fa+(r.s?"NaN":"-Infinity"));return r.eq(zn)?new n(0):(nr=!1,t=Bi(Ld(r,i),Ld(e,i),i),nr=!0,Ut(t,a))};Ge.minus=Ge.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?N3(t,e):w3(t,(e.s=-e.s,e))};Ge.modulo=Ge.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(fa+"NaN");return r.s?(nr=!1,t=Bi(r,e,0,1).times(e),nr=!0,r.minus(t)):Ut(new n(r),a)};Ge.naturalExponential=Ge.exp=function(){return j3(this)};Ge.naturalLogarithm=Ge.ln=function(){return Ld(this)};Ge.negated=Ge.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ge.plus=Ge.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?w3(t,e):N3(t,(e.s=-e.s,e))};Ge.precision=Ge.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(yo+e);if(t=Or(a)+1,n=a.d.length-1,r=n*Qt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Ge.squareRoot=Ge.sqrt=function(){var e,t,r,n,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(fa+"NaN")}for(e=Or(l),nr=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=li(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Vc((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(Bi(l,i,o+2)).times(.5),li(i.d).slice(0,o)===(t=li(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Ut(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return nr=!0,Ut(n,r)};Ge.times=Ge.mul=function(e){var t,r,n,a,i,o,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(i=h,h=m,m=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+m[n]*h[a-n-1]+t,i[a--]=l%qr|0,t=l/qr|0;i[a]=(i[a]+t)%qr|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,nr?Ut(e,f.precision):e};Ge.toDecimalPlaces=Ge.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(vi(e,0,Gc),t===void 0?t=n.rounding:vi(t,0,8),Ut(r,e+Or(r)+1,t))};Ge.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Lo(n,!0):(vi(e,0,Gc),t===void 0?t=a.rounding:vi(t,0,8),n=Ut(new a(n),e+1,t),r=Lo(n,!0,e+1)),r};Ge.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?Lo(a):(vi(e,0,Gc),t===void 0?t=i.rounding:vi(t,0,8),n=Ut(new i(a),e+Or(a)+1,t),r=Lo(n.abs(),!1,e+Or(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Ge.toInteger=Ge.toint=function(){var e=this,t=e.constructor;return Ut(new t(e),Or(e)+1,t.rounding)};Ge.toNumber=function(){return+this};Ge.toPower=Ge.pow=function(e){var t,r,n,a,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(zn);if(l=new c(l),!l.s){if(e.s<1)throw Error(fa+"Infinity");return l}if(l.eq(zn))return l;if(n=c.precision,e.eq(zn))return Ut(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=x3){for(a=new c(zn),t=Math.ceil(n/Qt+4),nr=!1;r%2&&(a=a.times(l),pj(a.d,t)),r=Vc(r/2),r!==0;)l=l.times(l),pj(l.d,t);return nr=!0,e.s<0?new c(zn).div(a):Ut(a,n)}}else if(i<0)throw Error(fa+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,nr=!1,a=e.times(Ld(l,n+u)),nr=!0,a=j3(a),a.s=i,a};Ge.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=Or(a),n=Lo(a,r<=i.toExpNeg||r>=i.toExpPos)):(vi(e,1,Gc),t===void 0?t=i.rounding:vi(t,0,8),a=Ut(new i(a),e,t),r=Or(a),n=Lo(a,e<=r||r<=i.toExpNeg,e)),n};Ge.toSignificantDigits=Ge.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(vi(e,1,Gc),t===void 0?t=n.rounding:vi(t,0,8)),Ut(new n(r),e,t)};Ge.toString=Ge.valueOf=Ge.val=Ge.toJSON=Ge[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Or(e),r=e.constructor;return Lo(e,t<=r.toExpNeg||t>=r.toExpPos)};function w3(e,t){var r,n,a,i,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),nr?Ut(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(f/Qt),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/qr|0,c[i]%=qr;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,nr?Ut(t,f):t}function vi(e,t,r){if(e!==~~e||e<t||e>r)throw Error(yo+e)}function li(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=Qt-n.length,r&&(i+=ms(r)),i+=n;o=e[t],n=o+"",r=Qt-n.length,r&&(i+=ms(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Bi=function(){function e(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%qr|0,o=i/qr|0;return o&&n.unshift(o),n}function t(n,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*qr+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,c,u,d,f,h,m,v,g,x,b,y,N,_,w,S,O,P,T=n.constructor,F=n.s==a.s?1:-1,k=n.d,C=a.d;if(!n.s)return new T(n);if(!a.s)throw Error(fa+"Division by zero");for(c=n.e-a.e,O=C.length,w=k.length,m=new T(F),v=m.d=[],u=0;C[u]==(k[u]||0);)++u;if(C[u]>(k[u]||0)&&--c,i==null?y=i=T.precision:o?y=i+(Or(n)-Or(a))+1:y=i,y<0)return new T(0);if(y=y/Qt+2|0,u=0,O==1)for(d=0,C=C[0],y++;(u<w||d)&&y--;u++)N=d*qr+(k[u]||0),v[u]=N/C|0,d=N%C|0;else{for(d=qr/(C[0]+1)|0,d>1&&(C=e(C,d),k=e(k,d),O=C.length,w=k.length),_=O,g=k.slice(0,O),x=g.length;x<O;)g[x++]=0;P=C.slice(),P.unshift(0),S=C[0],C[1]>=qr/2&&++S;do d=0,l=t(C,g,O,x),l<0?(b=g[0],O!=x&&(b=b*qr+(g[1]||0)),d=b/S|0,d>1?(d>=qr&&(d=qr-1),f=e(C,d),h=f.length,x=g.length,l=t(f,g,h,x),l==1&&(d--,r(f,O<h?P:C,h))):(d==0&&(l=d=1),f=C.slice()),h=f.length,h<x&&f.unshift(0),r(g,f,x),l==-1&&(x=g.length,l=t(C,g,O,x),l<1&&(d++,r(g,O<x?P:C,x))),x=g.length):l===0&&(d++,g=[0]),v[u++]=d,l&&g[0]?g[x++]=k[_]||0:(g=[k[_]],x=1);while((_++<w||g[0]!==void 0)&&y--)}return v[0]||v.shift(),m.e=c,Ut(m,o?i+Or(m)+1:i)}}();function j3(e,t){var r,n,a,i,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(Or(e)>16)throw Error(Bx+Or(e));if(!e.s)return new d(zn);for(nr=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(no(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new d(zn),d.precision=l;;){if(a=Ut(a.times(e),l),r=r.times(++c),o=i.plus(Bi(a,r,l)),li(o.d).slice(0,l)===li(i.d).slice(0,l)){for(;u--;)i=Ut(i.times(i),l);return d.precision=f,t==null?(nr=!0,Ut(i,f)):i}i=o}}function Or(e){for(var t=e.e*Qt,r=e.d[0];r>=10;r/=10)t++;return t}function Yv(e,t,r){if(t>e.LN10.sd())throw nr=!0,r&&(e.precision=r),Error(fa+"LN10 precision limit exceeded");return Ut(new e(e.LN10),t)}function ms(e){for(var t="";e--;)t+="0";return t}function Ld(e,t){var r,n,a,i,o,l,c,u,d,f=1,h=10,m=e,v=m.d,g=m.constructor,x=g.precision;if(m.s<1)throw Error(fa+(m.s?"NaN":"-Infinity"));if(m.eq(zn))return new g(0);if(t==null?(nr=!1,u=x):u=t,m.eq(10))return t==null&&(nr=!0),Yv(g,u);if(u+=h,g.precision=u,r=li(v),n=r.charAt(0),i=Or(m),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=li(m.d),n=r.charAt(0),f++;i=Or(m),n>1?(m=new g("0."+r),i++):m=new g(n+"."+r.slice(1))}else return c=Yv(g,u+2,x).times(i+""),m=Ld(new g(n+"."+r.slice(1)),u-h).plus(c),g.precision=x,t==null?(nr=!0,Ut(m,x)):m;for(l=o=m=Bi(m.minus(zn),m.plus(zn),u),d=Ut(m.times(m),u),a=3;;){if(o=Ut(o.times(d),u),c=l.plus(Bi(o,new g(a),u)),li(c.d).slice(0,u)===li(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(Yv(g,u+2,x).times(i+""))),l=Bi(l,new g(f),u),g.precision=x,t==null?(nr=!0,Ut(l,x)):l;l=c,a+=2}}function mj(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Vc(r/Qt),e.d=[],n=(r+1)%Qt,r<0&&(n+=Qt),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Qt;n<a;)e.d.push(+t.slice(n,n+=Qt));t=t.slice(n),n=Qt-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),nr&&(e.e>Om||e.e<-Om))throw Error(Bx+r)}else e.s=0,e.e=0,e.d=[0];return e}function Ut(e,t,r){var n,a,i,o,l,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Qt,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Qt),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=Qt,a=n-Qt+o}if(r!==void 0&&(i=no(10,o-a-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/no(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=Or(e),f.length=1,t=t-i-1,f[0]=no(10,(Qt-t%Qt)%Qt),e.e=Vc(-t/Qt)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=no(10,Qt-n),f[d]=a>0?(u/no(10,o-a)%no(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==qr&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=qr)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(nr&&(e.e>Om||e.e<-Om))throw Error(Bx+Or(e));return e}function N3(e,t){var r,n,a,i,o,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),nr?Ut(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(m/Qt),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=qr-1;--c[i],c[a]+=qr}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,nr?Ut(t,m):t):new h(0)}function Lo(e,t,r){var n,a=Or(e),i=li(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+ms(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+ms(-a-1)+i,r&&(n=r-o)>0&&(i+=ms(n))):a>=o?(i+=ms(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+ms(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=ms(n))),e.s<0?"-"+i:i}function pj(e,t){if(e.length>t)return e.length=t,!0}function S3(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(yo+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return mj(o,i.toString())}else if(typeof i!="string")throw Error(yo+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,cte.test(i))mj(o,i);else throw Error(yo+i)}if(a.prototype=Ge,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=S3,a.config=a.set=ute,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function ute(e){if(!e||typeof e!="object")throw Error(fa+"Object expected");var t,r,n,a=["precision",1,Gc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Vc(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(yo+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(yo+r+": "+n);return this}var qx=S3(lte);zn=new qx(1);const Rt=qx;function dte(e){return pte(e)||mte(e)||hte(e)||fte()}function fte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hte(e,t){if(e){if(typeof e=="string")return hy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hy(e,t)}}function mte(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function pte(e){if(Array.isArray(e))return hy(e)}function hy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var gte=function(t){return t},_3={},A3=function(t){return t===_3},gj=function(t){return function r(){return arguments.length===0||arguments.length===1&&A3(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},vte=function e(t,r){return t===1?r:gj(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==_3}).length;return o>=t?r.apply(void 0,a):e(t-o,gj(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return A3(f)?c.shift():f});return r.apply(void 0,dte(d).concat(c))}))})},rg=function(t){return vte(t.length,t)},my=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},yte=rg(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),bte=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return gte;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},py=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},O3=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function xte(e){var t;return e===0?t=1:t=Math.floor(new Rt(e).abs().log(10).toNumber())+1,t}function wte(e,t,r){for(var n=new Rt(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var jte=rg(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),Nte=rg(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),Ste=rg(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const ng={rangeStep:wte,getDigitCount:xte,interpolateNumber:jte,uninterpolateNumber:Nte,uninterpolateTruncation:Ste};function gy(e){return Ote(e)||Ate(e)||P3(e)||_te()}function _te(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ate(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Ote(e){if(Array.isArray(e))return vy(e)}function Md(e,t){return kte(e)||Ete(e,t)||P3(e,t)||Pte()}function Pte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P3(e,t){if(e){if(typeof e=="string")return vy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vy(e,t)}}function vy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ete(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function kte(e){if(Array.isArray(e))return e}function E3(e){var t=Md(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function k3(e,t,r){if(e.lte(0))return new Rt(0);var n=ng.getDigitCount(e.toNumber()),a=new Rt(10).pow(n),i=e.div(a),o=n!==1?.05:.1,l=new Rt(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new Rt(Math.ceil(c))}function Tte(e,t,r){var n=1,a=new Rt(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Rt(10).pow(ng.getDigitCount(e)-1),a=new Rt(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Rt(Math.floor(e)))}else e===0?a=new Rt(Math.floor((t-1)/2)):r||(a=new Rt(Math.floor(e)));var o=Math.floor((t-1)/2),l=bte(yte(function(c){return a.add(new Rt(c-o).mul(n)).toNumber()}),my);return l(0,t)}function T3(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Rt(0),tickMin:new Rt(0),tickMax:new Rt(0)};var i=k3(new Rt(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new Rt(0):(o=new Rt(e).add(t).div(2),o=o.sub(new Rt(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new Rt(t).sub(o).div(i).toNumber()),u=l+c+1;return u>r?T3(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:o.sub(new Rt(l).mul(i)),tickMax:o.add(new Rt(c).mul(i))})}function Cte(e){var t=Md(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=E3([r,n]),c=Md(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(gy(my(0,a-1).map(function(){return 1/0}))):[].concat(gy(my(0,a-1).map(function(){return-1/0})),[d]);return r>n?py(f):f}if(u===d)return Tte(u,a,i);var h=T3(u,d,o,i),m=h.step,v=h.tickMin,g=h.tickMax,x=ng.rangeStep(v,g.add(new Rt(.1).mul(m)),m);return r>n?py(x):x}function Lte(e,t){var r=Md(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=E3([n,a]),l=Md(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=k3(new Rt(u).sub(c).div(d-1),i,0),h=[].concat(gy(ng.rangeStep(new Rt(c),new Rt(u).sub(new Rt(.99).mul(f)),f)),[u]);return n>a?py(h):h}var Mte=O3(Cte),$te=O3(Lte),Dte="Invariant failed";function Mo(e,t){throw new Error(Dte)}var Ite=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function cc(e){"@babel/helpers - typeof";return cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cc(e)}function Pm(){return Pm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pm.apply(this,arguments)}function Rte(e,t){return zte(e)||qte(e,t)||Bte(e,t)||Fte()}function Fte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bte(e,t){if(e){if(typeof e=="string")return vj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vj(e,t)}}function vj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qte(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function zte(e){if(Array.isArray(e))return e}function Ute(e,t){if(e==null)return{};var r=Wte(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Wte(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Hte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gte(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,M3(n.key),n)}}function Vte(e,t,r){return t&&Gte(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yte(e,t,r){return t=Em(t),Kte(e,C3()?Reflect.construct(t,r||[],Em(e).constructor):t.apply(e,r))}function Kte(e,t){if(t&&(cc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xte(e)}function Xte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C3=function(){return!!e})()}function Em(e){return Em=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Em(e)}function Jte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yy(e,t)}function yy(e,t){return yy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},yy(e,t)}function L3(e,t,r){return t=M3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M3(e){var t=Zte(e,"string");return cc(t)=="symbol"?t:t+""}function Zte(e,t){if(cc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ag=function(e){function t(){return Hte(this,t),Yte(this,t,arguments)}return Jte(t,e),Vte(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=Ute(n,Ite),m=Ze(h,!1);this.props.direction==="x"&&d.type!=="number"&&Mo();var v=c.map(function(g){var x=u(g,l),b=x.x,y=x.y,N=x.value,_=x.errorVal;if(!_)return null;var w=[],S,O;if(Array.isArray(_)){var P=Rte(_,2);S=P[0],O=P[1]}else S=O=_;if(i==="vertical"){var T=d.scale,F=y+a,k=F+o,C=F-o,D=T(N-S),M=T(N+O);w.push({x1:M,y1:k,x2:M,y2:C}),w.push({x1:D,y1:F,x2:M,y2:F}),w.push({x1:D,y1:k,x2:D,y2:C})}else if(i==="horizontal"){var U=f.scale,W=b+a,R=W-o,K=W+o,Y=U(N-S),Z=U(N+O);w.push({x1:R,y1:Z,x2:K,y2:Z}),w.push({x1:W,y1:Y,x2:W,y2:Z}),w.push({x1:R,y1:Y,x2:K,y2:Y})}return z.createElement(_t,Pm({className:"recharts-errorBar",key:"bar-".concat(w.map(function(ae){return"".concat(ae.x1,"-").concat(ae.x2,"-").concat(ae.y1,"-").concat(ae.y2)}))},m),w.map(function(ae){return z.createElement("line",Pm({},ae,{key:"line-".concat(ae.x1,"-").concat(ae.x2,"-").concat(ae.y1,"-").concat(ae.y2)}))}))});return z.createElement(_t,{className:"recharts-errorBars"},v)}}])}(z.Component);L3(ag,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});L3(ag,"displayName","ErrorBar");function $d(e){"@babel/helpers - typeof";return $d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$d(e)}function yj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ks(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yj(Object(r),!0).forEach(function(n){Qte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qte(e,t,r){return t=ere(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ere(e){var t=tre(e,"string");return $d(t)=="symbol"?t:t+""}function tre(e,t){if($d(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($d(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $3=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=qn(r,go);if(!o)return null;var l=go.defaultProps,c=l!==void 0?Ks(Ks({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,m=f.props,v=m.sectors||m.data||[];return d.concat(v.map(function(g){return{type:o.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?Ks(Ks({},h),f.props):{},v=m.dataKey,g=m.name,x=m.legendType,b=m.hide;return{inactive:b,dataKey:v,type:c.iconType||x||"square",color:zx(f),value:g||v,payload:m}}),Ks(Ks(Ks({},c),go.getWithHeight(o,a)),{},{payload:u,item:o})};function Dd(e){"@babel/helpers - typeof";return Dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dd(e)}function bj(e){return ire(e)||are(e)||nre(e)||rre()}function rre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nre(e,t){if(e){if(typeof e=="string")return by(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return by(e,t)}}function are(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ire(e){if(Array.isArray(e))return by(e)}function by(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xj(Object(r),!0).forEach(function(n){Bl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bl(e,t,r){return t=sre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sre(e){var t=ore(e,"string");return Dd(t)=="symbol"?t:t+""}function ore(e,t){if(Dd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cr(e,t,r){return pt(e)||pt(t)?r:Mr(t)?Hn(e,t,r):it(t)?t(e):r}function ed(e,t,r,n){var a=ote(e,function(l){return Cr(l,t)});if(r==="number"){var i=a.filter(function(l){return Le(l)||parseFloat(l)});return i.length?[tg(i),vs(i)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!pt(l)}):a;return o.map(function(l){return Mr(l)||l instanceof Date?l:""})}var lre=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,m=void 0;if(bn(f-d)!==bn(h-f)){var v=[];if(bn(h-f)===bn(c[1]-c[0])){m=h;var g=f+c[1]-c[0];v[0]=Math.min(g,(g+d)/2),v[1]=Math.max(g,(g+d)/2)}else{m=d;var x=h+c[1]-c[0];v[0]=Math.min(f,(x+f)/2),v[1]=Math.max(f,(x+f)/2)}var b=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(t>b[0]&&t<=b[1]||t>=v[0]&&t<=v[1]){o=a[u].index;break}}else{var y=Math.min(d,h),N=Math.max(d,h);if(t>(y+f)/2&&t<=(N+f)/2){o=a[u].index;break}}}else for(var _=0;_<l;_++)if(_===0&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_===l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2){o=n[_].index;break}return o},zx=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?fr(fr({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},cre=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var v=d[f[h]],g=v.items,x=v.cateAxisId,b=g.filter(function(O){return Fi(O.type).indexOf("Bar")>=0});if(b&&b.length){var y=b[0].type.defaultProps,N=y!==void 0?fr(fr({},y),b[0].props):b[0].props,_=N.barSize,w=N[x];o[w]||(o[w]=[]);var S=pt(_)?r:_;o[w].push({item:b[0],stackList:b.slice(1),barSize:pt(S)?void 0:xn(S,n,0)})}}return o},ure=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=xn(r,a,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,m=a/c,v=o.reduce(function(_,w){return _+w.barSize||0},0);v+=(c-1)*u,v>=a&&(v-=(c-1)*u,u=0),v>=a&&m>0&&(h=!0,m*=.9,v=c*m);var g=(a-v)/2>>0,x={offset:g-u,size:0};d=o.reduce(function(_,w){var S={item:w.item,position:{offset:x.offset+x.size+u,size:h?m:w.barSize}},O=[].concat(bj(_),[S]);return x=O[O.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(P){O.push({item:P,position:x})}),O},f)}else{var b=xn(n,a,0,!0);a-2*b-(c-1)*u<=0&&(u=0);var y=(a-2*b-(c-1)*u)/c;y>1&&(y>>=0);var N=l===+l?Math.min(y,l):y;d=o.reduce(function(_,w,S){var O=[].concat(bj(_),[{item:w.item,position:{offset:b+(y+u)*S+(y-N)/2,size:N}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(P){O.push({item:P,position:O[O.length-1].position})}),O},f)}return d},dre=function(t,r,n,a){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=$3({children:i,legendWidth:c});if(u){var d=a||{},f=d.width,h=d.height,m=u.align,v=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&v==="middle")&&m!=="center"&&Le(t[m]))return fr(fr({},t),{},Bl({},m,t[m]+(f||0)));if((g==="horizontal"||g==="vertical"&&m==="center")&&v!=="middle"&&Le(t[v]))return fr(fr({},t),{},Bl({},v,t[v]+(h||0)))}return t},fre=function(t,r,n){return pt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},D3=function(t,r,n,a,i){var o=r.props.children,l=la(o,ag).filter(function(u){return fre(a,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=Cr(d,n);if(pt(f))return u;var h=Array.isArray(f)?[tg(f),vs(f)]:[f,f],m=c.reduce(function(v,g){var x=Cr(d,g,0),b=h[0]-Math.abs(Array.isArray(x)?x[0]:x),y=h[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(b,v[0]),Math.max(y,v[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},hre=function(t,r,n,a,i){var o=r.map(function(l){return D3(t,l,n,i,a)}).filter(function(l){return!pt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},I3=function(t,r,n,a,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&D3(t,c,u,a)||ed(t,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},R3=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},F3=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},Ri=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?bn(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!Uc(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:i?i[f]:f,index:h,offset:u}})},Kv=new WeakMap,_h=function(t,r){if(typeof r!="function")return t;Kv.has(t)||Kv.set(t,new WeakMap);var n=Kv.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},B3=function(t,r,n){var a=t.scale,i=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Pd(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:Nm(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Qu(),realScaleType:"point"}:i==="category"?{scale:Pd(),realScaleType:"band"}:{scale:Nm(),realScaleType:"linear"};if(ko(a)){var c="scale".concat(zp(a));return{scale:(hj[c]||Qu)(),realScaleType:hj[c]?c:"point"}}return it(a)?{scale:a}:{scale:Qu(),realScaleType:"point"}},wj=1e-4,q3=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-wj,o=Math.max(a[0],a[1])+wj,l=t(r[0]),c=t(r[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},mre=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},pre=function(t,r){if(!r||r.length!==2||!Le(r[0])||!Le(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!Le(t[0])||t[0]<n)&&(i[0]=n),(!Le(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},gre=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0,l=0;l<r;++l){var c=Uc(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},vre=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0;o<r;++o){var l=Uc(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},yre={sign:gre,expand:pK,none:tc,silhouette:gK,wiggle:vK,positive:vre},bre=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),i=yre[n],o=mK().keys(a).value(function(l,c){return+Cr(l,c,0)}).order(K0).offset(i);return o(t)},xre=function(t,r,n,a,i,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,h){var m,v=(m=h.type)!==null&&m!==void 0&&m.defaultProps?fr(fr({},h.type.defaultProps),h.props):h.props,g=v.stackId,x=v.hide;if(x)return f;var b=v[n],y=f[b]||{hasStack:!1,stackGroups:{}};if(Mr(g)){var N=y.stackGroups[g]||{numericAxisId:n,cateAxisId:a,items:[]};N.items.push(h),y.hasStack=!0,y.stackGroups[g]=N}else y.stackGroups[Wc("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return fr(fr({},f),{},Bl({},b,y))},c),d={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var v={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(g,x){var b=m.stackGroups[x];return fr(fr({},g),{},Bl({},x,{numericAxisId:n,cateAxisId:a,items:b.items,stackedData:bre(t,b.items,i)}))},v)}return fr(fr({},f),{},Bl({},h,m))},d)},z3=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=Mte(u,i,l);return t.domain([tg(d),vs(d)]),{niceTicks:d}}if(i&&a==="number"){var f=t.domain(),h=$te(f,i,l);return{niceTicks:h}}return null};function jj(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!pt(a[t.dataKey])){var l=im(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=Cr(a,pt(o)?t.dataKey:o);return pt(c)?null:t.scale(c)}var Nj=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=Cr(o,r.dataKey,r.domain[l]);return pt(c)?null:r.scale(c)-i/2+a},wre=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},jre=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?fr(fr({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(Mr(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},Nre=function(t){return t.reduce(function(r,n){return[tg(n.concat([r[0]]).filter(Le)),vs(n.concat([r[1]]).filter(Le))]},[1/0,-1/0])},U3=function(t,r,n){return Object.keys(t).reduce(function(a,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,d){var f=Nre(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},Sj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,_j=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,xy=function(t,r,n){if(it(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(Le(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(Sj.test(t[0])){var i=+Sj.exec(t[0])[1];a[0]=r[0]-i}else it(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(Le(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(_j.test(t[1])){var o=+_j.exec(t[1])[1];a[1]=r[1]+o}else it(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},km=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=bp(r,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},Aj=function(t,r,n){return!t||!t.length||Oo(t,Hn(n,"type.defaultProps.domain"))?r:t},W3=function(t,r){var n=t.type.defaultProps?fr(fr({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return fr(fr({},Ze(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:zx(t),value:Cr(r,a),type:c,payload:r,chartType:u,hide:d})};function Id(e){"@babel/helpers - typeof";return Id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Id(e)}function Oj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $i(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Oj(Object(r),!0).forEach(function(n){H3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function H3(e,t,r){return t=Sre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sre(e){var t=_re(e,"string");return Id(t)=="symbol"?t:t+""}function _re(e,t){if(Id(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Id(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Are(e,t){return kre(e)||Ere(e,t)||Pre(e,t)||Ore()}function Ore(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pre(e,t){if(e){if(typeof e=="string")return Pj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pj(e,t)}}function Pj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ere(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function kre(e){if(Array.isArray(e))return e}var Tm=Math.PI/180,Tre=function(t){return t*180/Math.PI},Xt=function(t,r,n,a){return{x:t+Math.cos(-Tm*a)*n,y:r+Math.sin(-Tm*a)*n}},G3=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Cre=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=xn(t.cx,o,o/2),f=xn(t.cy,l,l/2),h=G3(o,l,n),m=xn(t.innerRadius,h,0),v=xn(t.outerRadius,h,h*.8),g=Object.keys(r);return g.reduce(function(x,b){var y=r[b],N=y.domain,_=y.reversed,w;if(pt(y.range))a==="angleAxis"?w=[c,u]:a==="radiusAxis"&&(w=[m,v]),_&&(w=[w[1],w[0]]);else{w=y.range;var S=w,O=Are(S,2);c=O[0],u=O[1]}var P=B3(y,i),T=P.realScaleType,F=P.scale;F.domain(N).range(w),q3(F);var k=z3(F,$i($i({},y),{},{realScaleType:T})),C=$i($i($i({},y),k),{},{range:w,radius:v,realScaleType:T,scale:F,cx:d,cy:f,innerRadius:m,outerRadius:v,startAngle:c,endAngle:u});return $i($i({},x),{},H3({},b,C))},{})},Lre=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-o,2))},Mre=function(t,r){var n=t.x,a=t.y,i=r.cx,o=r.cy,l=Lre({x:n,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:Tre(u),angleInRadian:u}},$re=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:n-o*360}},Dre=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(i,o);return t+l*360},Ej=function(t,r){var n=t.x,a=t.y,i=Mre({x:n,y:a},r),o=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=$re(r),f=d.startAngle,h=d.endAngle,m=l,v;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;v=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;v=m>=h&&m<=f}return v?$i($i({},r),{},{radius:o,angle:Dre(m,r)}):null},V3=function(t){return!I.isValidElement(t)&&!it(t)&&typeof t!="boolean"?t.className:""};function Rd(e){"@babel/helpers - typeof";return Rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rd(e)}var Ire=["offset"];function Rre(e){return zre(e)||qre(e)||Bre(e)||Fre()}function Fre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bre(e,t){if(e){if(typeof e=="string")return wy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wy(e,t)}}function qre(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zre(e){if(Array.isArray(e))return wy(e)}function wy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ure(e,t){if(e==null)return{};var r=Wre(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Wre(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function kj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kj(Object(r),!0).forEach(function(n){Hre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hre(e,t,r){return t=Gre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gre(e){var t=Vre(e,"string");return Rd(t)=="symbol"?t:t+""}function Vre(e,t){if(Rd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fd(){return Fd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fd.apply(this,arguments)}var Yre=function(t){var r=t.value,n=t.formatter,a=pt(t.children)?r:t.children;return it(n)?n(a):a},Kre=function(t,r){var n=bn(r-t),a=Math.min(Math.abs(r-t),360);return n*a},Xre=function(t,r,n){var a=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,m=c.startAngle,v=c.endAngle,g=c.clockWise,x=(f+h)/2,b=Kre(m,v),y=b>=0?1:-1,N,_;a==="insideStart"?(N=m+y*o,_=g):a==="insideEnd"?(N=v-y*o,_=!g):a==="end"&&(N=v+y*o,_=g),_=b<=0?_:!_;var w=Xt(u,d,x,N),S=Xt(u,d,x,N+(_?1:-1)*359),O="M".concat(w.x,",").concat(w.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(_?0:1,`,
    `).concat(S.x,",").concat(S.y),P=pt(t.id)?Wc("recharts-radial-line-"):t.id;return z.createElement("text",Fd({},n,{dominantBaseline:"central",className:vt("recharts-radial-bar-label",l)}),z.createElement("defs",null,z.createElement("path",{id:P,d:O})),z.createElement("textPath",{xlinkHref:"#".concat(P)},r))},Jre=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(a==="outside"){var m=Xt(o,l,u+n,h),v=m.x,g=m.y;return{x:v,y:g,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var x=(c+u)/2,b=Xt(o,l,x,h),y=b.x,N=b.y;return{x:y,y:N,textAnchor:"middle",verticalAnchor:"middle"}},Zre=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*a,m=f>0?"end":"start",v=f>0?"start":"end",g=u>=0?1:-1,x=g*a,b=g>0?"end":"start",y=g>0?"start":"end";if(i==="top"){var N={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:m};return kr(kr({},N),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var _={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:v};return kr(kr({},_),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var w={x:l-x,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return kr(kr({},w),n?{width:Math.max(w.x-n.x,0),height:d}:{})}if(i==="right"){var S={x:l+u+x,y:c+d/2,textAnchor:y,verticalAnchor:"middle"};return kr(kr({},S),n?{width:Math.max(n.x+n.width-S.x,0),height:d}:{})}var O=n?{width:u,height:d}:{};return i==="insideLeft"?kr({x:l+x,y:c+d/2,textAnchor:y,verticalAnchor:"middle"},O):i==="insideRight"?kr({x:l+u-x,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},O):i==="insideTop"?kr({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:v},O):i==="insideBottom"?kr({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:m},O):i==="insideTopLeft"?kr({x:l+x,y:c+h,textAnchor:y,verticalAnchor:v},O):i==="insideTopRight"?kr({x:l+u-x,y:c+h,textAnchor:b,verticalAnchor:v},O):i==="insideBottomLeft"?kr({x:l+x,y:c+d-h,textAnchor:y,verticalAnchor:m},O):i==="insideBottomRight"?kr({x:l+u-x,y:c+d-h,textAnchor:b,verticalAnchor:m},O):Tc(i)&&(Le(i.x)||oo(i.x))&&(Le(i.y)||oo(i.y))?kr({x:l+xn(i.x,u),y:c+xn(i.y,d),textAnchor:"end",verticalAnchor:"end"},O):kr({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},O)},Qre=function(t){return"cx"in t&&Le(t.cx)};function Wr(e){var t=e.offset,r=t===void 0?5:t,n=Ure(e,Ire),a=kr({offset:r},n),i=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!i||pt(l)&&pt(c)&&!I.isValidElement(u)&&!it(u))return null;if(I.isValidElement(u))return I.cloneElement(u,a);var m;if(it(u)){if(m=I.createElement(u,a),I.isValidElement(m))return m}else m=Yre(a);var v=Qre(i),g=Ze(a,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Xre(a,m,g);var x=v?Jre(a):Zre(a);return z.createElement(Co,Fd({className:vt("recharts-label",f)},g,x,{breakAll:h}),m)}Wr.displayName="Label";var Y3=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,m=t.top,v=t.left,g=t.width,x=t.height,b=t.clockWise,y=t.labelViewBox;if(y)return y;if(Le(g)&&Le(x)){if(Le(f)&&Le(h))return{x:f,y:h,width:g,height:x};if(Le(m)&&Le(v))return{x:m,y:v,width:g,height:x}}return Le(f)&&Le(h)?{x:f,y:h,width:0,height:0}:Le(r)&&Le(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:b}:t.viewBox?t.viewBox:{}},ene=function(t,r){return t?t===!0?z.createElement(Wr,{key:"label-implicit",viewBox:r}):Mr(t)?z.createElement(Wr,{key:"label-implicit",viewBox:r,value:t}):I.isValidElement(t)?t.type===Wr?I.cloneElement(t,{key:"label-implicit",viewBox:r}):z.createElement(Wr,{key:"label-implicit",content:t,viewBox:r}):it(t)?z.createElement(Wr,{key:"label-implicit",content:t,viewBox:r}):Tc(t)?z.createElement(Wr,Fd({viewBox:r},t,{key:"label-implicit"})):null:null},tne=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=Y3(t),o=la(a,Wr).map(function(c,u){return I.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var l=ene(t.label,r||i);return[l].concat(Rre(o))};Wr.parseViewBox=Y3;Wr.renderCallByParent=tne;function Bd(e){"@babel/helpers - typeof";return Bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bd(e)}var rne=["valueAccessor"],nne=["data","dataKey","clockWise","id","textBreakAll"];function ane(e){return lne(e)||one(e)||sne(e)||ine()}function ine(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sne(e,t){if(e){if(typeof e=="string")return jy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jy(e,t)}}function one(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lne(e){if(Array.isArray(e))return jy(e)}function jy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Cm(){return Cm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cm.apply(this,arguments)}function Tj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tj(Object(r),!0).forEach(function(n){cne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cne(e,t,r){return t=une(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function une(e){var t=dne(e,"string");return Bd(t)=="symbol"?t:t+""}function dne(e,t){if(Bd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lj(e,t){if(e==null)return{};var r=fne(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fne(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var hne=function(t){return Array.isArray(t.value)?iz(t.value):t.value};function qi(e){var t=e.valueAccessor,r=t===void 0?hne:t,n=Lj(e,rne),a=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=Lj(n,nne);return!a||!a.length?null:z.createElement(_t,{className:"recharts-label-list"},a.map(function(d,f){var h=pt(i)?r(d,f):Cr(d&&d.payload,i),m=pt(l)?{}:{id:"".concat(l,"-").concat(f)};return z.createElement(Wr,Cm({},Ze(d,!0),u,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:Wr.parseViewBox(pt(o)?d:Cj(Cj({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}qi.displayName="LabelList";function mne(e,t){return e?e===!0?z.createElement(qi,{key:"labelList-implicit",data:t}):z.isValidElement(e)||it(e)?z.createElement(qi,{key:"labelList-implicit",data:t,content:e}):Tc(e)?z.createElement(qi,Cm({data:t},e,{key:"labelList-implicit"})):null:null}function pne(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=la(n,qi).map(function(o,l){return I.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var i=mne(e.label,t);return[i].concat(ane(a))}qi.renderCallByParent=pne;function qd(e){"@babel/helpers - typeof";return qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qd(e)}function Ny(){return Ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ny.apply(this,arguments)}function Mj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $j(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mj(Object(r),!0).forEach(function(n){gne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gne(e,t,r){return t=vne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vne(e){var t=yne(e,"string");return qd(t)=="symbol"?t:t+""}function yne(e,t){if(qd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bne=function(t,r){var n=bn(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},Ah=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/Tm,h=u?i:i+o*f,m=Xt(r,n,d,h),v=Xt(r,n,a,h),g=u?i-o*f:i,x=Xt(r,n,d*Math.cos(f*Tm),g);return{center:m,circleTangency:v,lineTangency:x,theta:f}},K3=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=bne(o,l),u=o+c,d=Xt(r,n,i,o),f=Xt(r,n,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var m=Xt(r,n,a,o),v=Xt(r,n,a,u);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},xne=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=bn(d-u),h=Ah({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),m=h.circleTangency,v=h.lineTangency,g=h.theta,x=Ah({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),b=x.circleTangency,y=x.lineTangency,N=x.theta,_=c?Math.abs(u-d):Math.abs(u-d)-g-N;if(_<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):K3({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var w="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
  `);if(a>0){var S=Ah({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),O=S.circleTangency,P=S.lineTangency,T=S.theta,F=Ah({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),k=F.circleTangency,C=F.lineTangency,D=F.theta,M=c?Math.abs(u-d):Math.abs(u-d)-T-D;if(M<0&&o===0)return"".concat(w,"L").concat(r,",").concat(n,"Z");w+="L".concat(C.x,",").concat(C.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(M>180),",").concat(+(f>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,"Z")}else w+="L".concat(r,",").concat(n,"Z");return w},wne={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},X3=function(t){var r=$j($j({},wne),t),n=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<i||d===f)return null;var m=vt("recharts-sector",h),v=o-i,g=xn(l,v,0,!0),x;return g>0&&Math.abs(d-f)<360?x=xne({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(g,v/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):x=K3({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),z.createElement("path",Ny({},Ze(r,!0),{className:m,d:x,role:"img"}))};function zd(e){"@babel/helpers - typeof";return zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zd(e)}function Sy(){return Sy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sy.apply(this,arguments)}function Dj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ij(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dj(Object(r),!0).forEach(function(n){jne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jne(e,t,r){return t=Nne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nne(e){var t=Sne(e,"string");return zd(t)=="symbol"?t:t+""}function Sne(e,t){if(zd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rj={curveBasisClosed:nK,curveBasisOpen:aK,curveBasis:rK,curveBumpX:zY,curveBumpY:UY,curveLinearClosed:iK,curveLinear:Wp,curveMonotoneX:sK,curveMonotoneY:oK,curveNatural:lK,curveStep:cK,curveStepAfter:dK,curveStepBefore:uK},Oh=function(t){return t.x===+t.x&&t.y===+t.y},qu=function(t){return t.x},zu=function(t){return t.y},_ne=function(t,r){if(it(t))return t;var n="curve".concat(zp(t));return(n==="curveMonotone"||n==="curveBump")&&r?Rj["".concat(n).concat(r==="vertical"?"Y":"X")]:Rj[n]||Wp},Ane=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=_ne(n,l),f=u?i.filter(function(g){return Oh(g)}):i,h;if(Array.isArray(o)){var m=u?o.filter(function(g){return Oh(g)}):o,v=f.map(function(g,x){return Ij(Ij({},g),{},{base:m[x]})});return l==="vertical"?h=yh().y(zu).x1(qu).x0(function(g){return g.base.x}):h=yh().x(qu).y1(zu).y0(function(g){return g.base.y}),h.defined(Oh).curve(d),h(v)}return l==="vertical"&&Le(o)?h=yh().y(zu).x1(qu).x0(o):Le(o)?h=yh().x(qu).y1(zu).y0(o):h=h4().x(qu).y(zu),h.defined(Oh).curve(d),h(f)},ql=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?Ane(t):a;return z.createElement("path",Sy({},Ze(t,!1),sm(t),{className:vt("recharts-curve",r),d:o,ref:i}))},One=Object.getOwnPropertyNames,Pne=Object.getOwnPropertySymbols,Ene=Object.prototype.hasOwnProperty;function Fj(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function Ph(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);var c=e(r,n,a);return i.delete(r),i.delete(n),c}}function Bj(e){return One(e).concat(Pne(e))}var kne=Object.hasOwn||function(e,t){return Ene.call(e,t)};function qo(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var Tne="__v",Cne="__o",Lne="_owner",qj=Object.getOwnPropertyDescriptor,zj=Object.keys;function Mne(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function $ne(e,t){return qo(e.getTime(),t.getTime())}function Dne(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Ine(e,t){return e===t}function Uj(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(a[f]){f++;continue}var h=o.value,m=l.value;if(r.equals(h[0],m[0],c,f,e,t,r)&&r.equals(h[1],m[1],h[0],m[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var Rne=qo;function Fne(e,t,r){var n=zj(e),a=n.length;if(zj(t).length!==a)return!1;for(;a-- >0;)if(!J3(e,t,r,n[a]))return!1;return!0}function Uu(e,t,r){var n=Bj(e),a=n.length;if(Bj(t).length!==a)return!1;for(var i,o,l;a-- >0;)if(i=n[a],!J3(e,t,r,i)||(o=qj(e,i),l=qj(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function Bne(e,t){return qo(e.valueOf(),t.valueOf())}function qne(e,t){return e.source===t.source&&e.flags===t.flags}function Wj(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),o,l;(o=i.next())&&!o.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function zne(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function Une(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function J3(e,t,r,n){return(n===Lne||n===Cne||n===Tne)&&(e.$$typeof||t.$$typeof)?!0:kne(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var Wne="[object Arguments]",Hne="[object Boolean]",Gne="[object Date]",Vne="[object Error]",Yne="[object Map]",Kne="[object Number]",Xne="[object Object]",Jne="[object RegExp]",Zne="[object Set]",Qne="[object String]",eae="[object URL]",tae=Array.isArray,Hj=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,Gj=Object.assign,rae=Object.prototype.toString.call.bind(Object.prototype.toString);function nae(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(v,g,x){if(v===g)return!0;if(v==null||g==null)return!1;var b=typeof v;if(b!==typeof g)return!1;if(b!=="object")return b==="number"?o(v,g,x):b==="function"?a(v,g,x):!1;var y=v.constructor;if(y!==g.constructor)return!1;if(y===Object)return l(v,g,x);if(tae(v))return t(v,g,x);if(Hj!=null&&Hj(v))return f(v,g,x);if(y===Date)return r(v,g,x);if(y===RegExp)return u(v,g,x);if(y===Map)return i(v,g,x);if(y===Set)return d(v,g,x);var N=rae(v);return N===Gne?r(v,g,x):N===Jne?u(v,g,x):N===Yne?i(v,g,x):N===Zne?d(v,g,x):N===Xne?typeof v.then!="function"&&typeof g.then!="function"&&l(v,g,x):N===eae?h(v,g,x):N===Vne?n(v,g,x):N===Wne?l(v,g,x):N===Hne||N===Kne||N===Qne?c(v,g,x):!1}}function aae(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?Uu:Mne,areDatesEqual:$ne,areErrorsEqual:Dne,areFunctionsEqual:Ine,areMapsEqual:n?Fj(Uj,Uu):Uj,areNumbersEqual:Rne,areObjectsEqual:n?Uu:Fne,arePrimitiveWrappersEqual:Bne,areRegExpsEqual:qne,areSetsEqual:n?Fj(Wj,Uu):Wj,areTypedArraysEqual:n?Uu:zne,areUrlsEqual:Une};if(r&&(a=Gj({},a,r(a))),t){var i=Ph(a.areArraysEqual),o=Ph(a.areMapsEqual),l=Ph(a.areObjectsEqual),c=Ph(a.areSetsEqual);a=Gj({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function iae(e){return function(t,r,n,a,i,o,l){return e(t,r,l)}}function sae(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,m=d.meta;return r(c,u,{cache:h,equals:a,meta:m,strict:i})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,u){return r(c,u,o)}}var oae=Cs();Cs({strict:!0});Cs({circular:!0});Cs({circular:!0,strict:!0});Cs({createInternalComparator:function(){return qo}});Cs({strict:!0,createInternalComparator:function(){return qo}});Cs({circular:!0,createInternalComparator:function(){return qo}});Cs({circular:!0,createInternalComparator:function(){return qo},strict:!0});function Cs(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,l=aae(e),c=nae(l),u=n?n(c):iae(c);return sae({circular:r,comparator:c,createState:a,equals:u,strict:o})}function lae(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function Vj(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):lae(a)};requestAnimationFrame(n)}function _y(e){"@babel/helpers - typeof";return _y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_y(e)}function cae(e){return hae(e)||fae(e)||dae(e)||uae()}function uae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dae(e,t){if(e){if(typeof e=="string")return Yj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yj(e,t)}}function Yj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fae(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hae(e){if(Array.isArray(e))return e}function mae(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=cae(o),c=l[0],u=l.slice(1);if(typeof c=="number"){Vj(a.bind(null,u),c);return}a(c),Vj(a.bind(null,u));return}_y(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Ud(e){"@babel/helpers - typeof";return Ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ud(e)}function Kj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kj(Object(r),!0).forEach(function(n){Z3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Z3(e,t,r){return t=pae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pae(e){var t=gae(e,"string");return Ud(t)==="symbol"?t:String(t)}function gae(e,t){if(Ud(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ud(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vae=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},yae=function(t){return t},bae=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},td=function(t,r){return Object.keys(r).reduce(function(n,a){return Xj(Xj({},n),{},Z3({},a,t(a,r[a])))},{})},Jj=function(t,r,n){return t.map(function(a){return"".concat(bae(a)," ").concat(r,"ms ").concat(n)}).join(",")};function xae(e,t){return Nae(e)||jae(e,t)||Q3(e,t)||wae()}function wae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jae(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Nae(e){if(Array.isArray(e))return e}function Sae(e){return Oae(e)||Aae(e)||Q3(e)||_ae()}function _ae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q3(e,t){if(e){if(typeof e=="string")return Ay(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ay(e,t)}}function Aae(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Oae(e){if(Array.isArray(e))return Ay(e)}function Ay(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Lm=1e-4,eO=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},tO=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},Zj=function(t,r){return function(n){var a=eO(t,r);return tO(a,n)}},Pae=function(t,r){return function(n){var a=eO(t,r),i=[].concat(Sae(a.map(function(o,l){return o*l}).slice(1)),[0]);return tO(i,n)}},Qj=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),d=xae(u,4);a=d[0],i=d[1],o=d[2],l=d[3]}}}var f=Zj(a,o),h=Zj(i,l),m=Pae(a,o),v=function(b){return b>1?1:b<0?0:b},g=function(b){for(var y=b>1?1:b,N=y,_=0;_<8;++_){var w=f(N)-y,S=m(N);if(Math.abs(w-y)<Lm||S<Lm)return h(N);N=v(N-w/S)}return h(N)};return g.isStepper=!1,g},Eae=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var m=-(d-f)*n,v=h*i,g=h+(m-v)*l/1e3,x=h*l/1e3+d;return Math.abs(x-f)<Lm&&Math.abs(g)<Lm?[f,0]:[x,g]};return c.isStepper=!0,c.dt=l,c},kae=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Qj(a);case"spring":return Eae();default:if(a.split("(")[0]==="cubic-bezier")return Qj(a)}return typeof a=="function"?a:null};function Wd(e){"@babel/helpers - typeof";return Wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wd(e)}function eN(e){return Lae(e)||Cae(e)||rO(e)||Tae()}function Tae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cae(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Lae(e){if(Array.isArray(e))return Py(e)}function tN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Kr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tN(Object(r),!0).forEach(function(n){Oy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Oy(e,t,r){return t=Mae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mae(e){var t=$ae(e,"string");return Wd(t)==="symbol"?t:String(t)}function $ae(e,t){if(Wd(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dae(e,t){return Fae(e)||Rae(e,t)||rO(e,t)||Iae()}function Iae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rO(e,t){if(e){if(typeof e=="string")return Py(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Py(e,t)}}function Py(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Rae(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Fae(e){if(Array.isArray(e))return e}var Mm=function(t,r,n){return t+(r-t)*n},Ey=function(t){var r=t.from,n=t.to;return r!==n},Bae=function e(t,r,n){var a=td(function(i,o){if(Ey(o)){var l=t(o.from,o.to,o.velocity),c=Dae(l,2),u=c[0],d=c[1];return Kr(Kr({},o),{},{from:u,velocity:d})}return o},r);return n<1?td(function(i,o){return Ey(o)?Kr(Kr({},o),{},{velocity:Mm(o.velocity,a[i].velocity,n),from:Mm(o.from,a[i].from,n)}):o},r):e(t,a,n-1)};const qae=function(e,t,r,n,a){var i=vae(e,t),o=i.reduce(function(x,b){return Kr(Kr({},x),{},Oy({},b,[e[b],t[b]]))},{}),l=i.reduce(function(x,b){return Kr(Kr({},x),{},Oy({},b,{from:e[b],velocity:0,to:t[b]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return td(function(b,y){return y.from},l)},m=function(){return!Object.values(l).filter(Ey).length},v=function(b){u||(u=b);var y=b-u,N=y/r.dt;l=Bae(r,l,N),a(Kr(Kr(Kr({},e),t),h())),u=b,m()||(c=requestAnimationFrame(f))},g=function(b){d||(d=b);var y=(b-d)/n,N=td(function(w,S){return Mm.apply(void 0,eN(S).concat([r(y)]))},o);if(a(Kr(Kr(Kr({},e),t),N)),y<1)c=requestAnimationFrame(f);else{var _=td(function(w,S){return Mm.apply(void 0,eN(S).concat([r(1)]))},o);a(Kr(Kr(Kr({},e),t),_))}};return f=r.isStepper?v:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function uc(e){"@babel/helpers - typeof";return uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uc(e)}var zae=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Uae(e,t){if(e==null)return{};var r=Wae(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Wae(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Xv(e){return Yae(e)||Vae(e)||Gae(e)||Hae()}function Hae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gae(e,t){if(e){if(typeof e=="string")return ky(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ky(e,t)}}function Vae(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Yae(e){if(Array.isArray(e))return ky(e)}function ky(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ka(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rN(Object(r),!0).forEach(function(n){Vu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vu(e,t,r){return t=nO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xae(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nO(n.key),n)}}function Jae(e,t,r){return t&&Xae(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nO(e){var t=Zae(e,"string");return uc(t)==="symbol"?t:String(t)}function Zae(e,t){if(uc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(uc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ty(e,t)}function Ty(e,t){return Ty=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ty(e,t)}function eie(e){var t=tie();return function(){var n=$m(e),a;if(t){var i=$m(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Cy(this,a)}}function Cy(e,t){if(t&&(uc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ly(e)}function Ly(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tie(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $m(e){return $m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$m(e)}var yi=function(e){Qae(r,e);var t=eie(r);function r(n,a){var i;Kae(this,r),i=t.call(this,n,a);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,m=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(Ly(i)),i.changeStyle=i.changeStyle.bind(Ly(i)),!l||m<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),Cy(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},Cy(i);i.state={style:c?Vu({},c,u):u}}else i.state={style:{}};return i}return Jae(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(l){if(!o){var m={style:c?Vu({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(m);return}if(!(oae(a.to,d)&&a.canBegin&&a.isActive)){var v=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=v||u?f:a.to;if(this.state&&h){var x={style:c?Vu({},c,g):g};(c&&h[c]!==g||!c&&h!==g)&&this.setState(x)}this.runAnimation(ka(ka({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,m=qae(o,l,kae(u),c,this.changeStyle),v=function(){i.stopJSAnimation=m()};this.manager.start([h,d,v,c,f])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,m=function(g,x,b){if(b===0)return g;var y=x.duration,N=x.easing,_=N===void 0?"ease":N,w=x.style,S=x.properties,O=x.onAnimationEnd,P=b>0?o[b-1]:x,T=S||Object.keys(w);if(typeof _=="function"||_==="spring")return[].concat(Xv(g),[i.runJSAnimation.bind(i,{from:P.style,to:w,duration:y,easing:_}),y]);var F=Jj(T,y,_),k=ka(ka(ka({},P.style),w),{},{transition:F});return[].concat(Xv(g),[k,y,O]).filter(yae)};return this.manager.start([c].concat(Xv(o.reduce(m,[d,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=mae());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,m=a.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var g=l?Vu({},l,c):c,x=Jj(Object.keys(g),o,u);v.start([d,i,ka(ka({},g),{},{transition:x}),o,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=Uae(a,zae),u=I.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var f=function(m){var v=m.props,g=v.style,x=g===void 0?{}:g,b=v.className,y=I.cloneElement(m,ka(ka({},c),{},{style:ka(ka({},x),d),className:b}));return y};return u===1?f(I.Children.only(i)):z.createElement("div",null,I.Children.map(i,function(h){return f(h)}))}}]),r}(I.PureComponent);yi.displayName="Animate";yi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};yi.propTypes={from:Se.oneOfType([Se.object,Se.string]),to:Se.oneOfType([Se.object,Se.string]),attributeName:Se.string,duration:Se.number,begin:Se.number,easing:Se.oneOfType([Se.string,Se.func]),steps:Se.arrayOf(Se.shape({duration:Se.number.isRequired,style:Se.object.isRequired,easing:Se.oneOfType([Se.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Se.func]),properties:Se.arrayOf("string"),onAnimationEnd:Se.func})),children:Se.oneOfType([Se.node,Se.func]),isActive:Se.bool,canBegin:Se.bool,onAnimationEnd:Se.func,shouldReAnimate:Se.bool,onAnimationStart:Se.func,onAnimationReStart:Se.func};function Hd(e){"@babel/helpers - typeof";return Hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hd(e)}function Dm(){return Dm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dm.apply(this,arguments)}function rie(e,t){return sie(e)||iie(e,t)||aie(e,t)||nie()}function nie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aie(e,t){if(e){if(typeof e=="string")return nN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nN(e,t)}}function nN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function iie(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function sie(e){if(Array.isArray(e))return e}function aN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function iN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aN(Object(r),!0).forEach(function(n){oie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oie(e,t,r){return t=lie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lie(e){var t=cie(e,"string");return Hd(t)=="symbol"?t:t+""}function cie(e,t){if(Hd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sN=function(t,r,n,a,i){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=i[h]>o?o:i[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var v=Math.min(o,i);d="M ".concat(t,",").concat(r+l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+c*v,",").concat(r,`
            L `).concat(t+n-c*v,",").concat(r,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*v,`
            L `).concat(t+n,",").concat(r+a-l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n-c*v,",").concat(r+a,`
            L `).concat(t+c*v,",").concat(r+a,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*v," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},uie=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&a>=f&&a<=h}return!1},die={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Ux=function(t){var r=iN(iN({},die),t),n=I.useRef(),a=I.useState(-1),i=rie(a,2),o=i[0],l=i[1];I.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&l(_)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,m=r.className,v=r.animationEasing,g=r.animationDuration,x=r.animationBegin,b=r.isAnimationActive,y=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var N=vt("recharts-rectangle",m);return y?z.createElement(yi,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:g,animationEasing:v,isActive:y},function(_){var w=_.width,S=_.height,O=_.x,P=_.y;return z.createElement(yi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:g,isActive:b,easing:v},z.createElement("path",Dm({},Ze(r,!0),{className:N,d:sN(O,P,w,S,h),ref:n})))}):z.createElement("path",Dm({},Ze(r,!0),{className:N,d:sN(c,u,d,f,h)}))},fie=["points","className","baseLinePoints","connectNulls"];function kl(){return kl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kl.apply(this,arguments)}function hie(e,t){if(e==null)return{};var r=mie(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mie(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function oN(e){return yie(e)||vie(e)||gie(e)||pie()}function pie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gie(e,t){if(e){if(typeof e=="string")return My(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return My(e,t)}}function vie(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yie(e){if(Array.isArray(e))return My(e)}function My(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var lN=function(t){return t&&t.x===+t.x&&t.y===+t.y},bie=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){lN(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),lN(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},rd=function(t,r){var n=bie(t);r&&(n=[n.reduce(function(i,o){return[].concat(oN(i),oN(o))},[])]);var a=n.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},xie=function(t,r,n){var a=rd(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(rd(r.reverse(),n).slice(1))},wie=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,i=t.connectNulls,o=hie(t,fie);if(!r||!r.length)return null;var l=vt("recharts-polygon",n);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",u=xie(r,a,i);return z.createElement("g",{className:l},z.createElement("path",kl({},Ze(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?z.createElement("path",kl({},Ze(o,!0),{fill:"none",d:rd(r,i)})):null,c?z.createElement("path",kl({},Ze(o,!0),{fill:"none",d:rd(a,i)})):null)}var d=rd(r,i);return z.createElement("path",kl({},Ze(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function $y(){return $y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$y.apply(this,arguments)}var ig=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,o=vt("recharts-dot",i);return r===+r&&n===+n&&a===+a?z.createElement("circle",$y({},Ze(t,!1),sm(t),{className:o,cx:r,cy:n,r:a})):null};function Gd(e){"@babel/helpers - typeof";return Gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gd(e)}var jie=["x","y","top","left","width","height","className"];function Dy(){return Dy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dy.apply(this,arguments)}function cN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nie(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cN(Object(r),!0).forEach(function(n){Sie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sie(e,t,r){return t=_ie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _ie(e){var t=Aie(e,"string");return Gd(t)=="symbol"?t:t+""}function Aie(e,t){if(Gd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oie(e,t){if(e==null)return{};var r=Pie(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Pie(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Eie=function(t,r,n,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},kie=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,m=h===void 0?0:h,v=t.className,g=Oie(t,jie),x=Nie({x:n,y:i,top:l,left:u,width:f,height:m},g);return!Le(n)||!Le(i)||!Le(f)||!Le(m)||!Le(l)||!Le(u)?null:z.createElement("path",Dy({},Ze(x,!0),{className:vt("recharts-cross",v),d:Eie(n,i,f,m,l,u)}))},Tie=eg,Cie=y3,Lie=Ua;function Mie(e,t){return e&&e.length?Tie(e,Lie(t),Cie):void 0}var $ie=Mie;const Die=Nt($ie);var Iie=eg,Rie=Ua,Fie=b3;function Bie(e,t){return e&&e.length?Iie(e,Rie(t),Fie):void 0}var qie=Bie;const zie=Nt(qie);var Uie=["cx","cy","angle","ticks","axisLine"],Wie=["ticks","tick","angle","tickFormatter","stroke"];function dc(e){"@babel/helpers - typeof";return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dc(e)}function nd(){return nd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nd.apply(this,arguments)}function uN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uN(Object(r),!0).forEach(function(n){sg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dN(e,t){if(e==null)return{};var r=Hie(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Hie(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Gie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iO(n.key),n)}}function Vie(e,t,r){return t&&fN(e.prototype,t),r&&fN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yie(e,t,r){return t=Im(t),Kie(e,aO()?Reflect.construct(t,r||[],Im(e).constructor):t.apply(e,r))}function Kie(e,t){if(t&&(dc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xie(e)}function Xie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aO=function(){return!!e})()}function Im(e){return Im=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Im(e)}function Jie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Iy(e,t)}function Iy(e,t){return Iy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Iy(e,t)}function sg(e,t,r){return t=iO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iO(e){var t=Zie(e,"string");return dc(t)=="symbol"?t:t+""}function Zie(e,t){if(dc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var og=function(e){function t(){return Gie(this,t),Yie(this,t,arguments)}return Jie(t,e),Vie(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return Xt(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=Die(l,function(d){return d.coordinate||0}),u=zie(l,function(d){return d.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=dN(n,Uie),d=l.reduce(function(v,g){return[Math.min(v[0],g.coordinate),Math.max(v[1],g.coordinate)]},[1/0,-1/0]),f=Xt(a,i,d[0],o),h=Xt(a,i,d[1],o),m=Xs(Xs(Xs({},Ze(u,!1)),{},{fill:"none"},Ze(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return z.createElement("line",nd({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=dN(a,Wie),f=this.getTickTextAnchor(),h=Ze(d,!1),m=Ze(o,!1),v=i.map(function(g,x){var b=n.getTickValueCoord(g),y=Xs(Xs(Xs(Xs({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(b.x,", ").concat(b.y,")")},h),{},{stroke:"none",fill:u},m),{},{index:x},b),{},{payload:g});return z.createElement(_t,nd({className:vt("recharts-polar-radius-axis-tick",V3(o)),key:"tick-".concat(g.coordinate)},To(n.props,g,x)),t.renderTickItem(o,y,c?c(g.value,x):g.value))});return z.createElement(_t,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,o=n.tick;return!a||!a.length?null:z.createElement(_t,{className:vt("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),Wr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return z.isValidElement(n)?o=z.cloneElement(n,a):it(n)?o=n(a):o=z.createElement(Co,nd({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(I.PureComponent);sg(og,"displayName","PolarRadiusAxis");sg(og,"axisType","radiusAxis");sg(og,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function fc(e){"@babel/helpers - typeof";return fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fc(e)}function so(){return so=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},so.apply(this,arguments)}function hN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Js(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hN(Object(r),!0).forEach(function(n){lg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oO(n.key),n)}}function ese(e,t,r){return t&&mN(e.prototype,t),r&&mN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function tse(e,t,r){return t=Rm(t),rse(e,sO()?Reflect.construct(t,r||[],Rm(e).constructor):t.apply(e,r))}function rse(e,t){if(t&&(fc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nse(e)}function nse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sO=function(){return!!e})()}function Rm(e){return Rm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rm(e)}function ase(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ry(e,t)}function Ry(e,t){return Ry=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ry(e,t)}function lg(e,t,r){return t=oO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oO(e){var t=ise(e,"string");return fc(t)=="symbol"?t:t+""}function ise(e,t){if(fc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var sse=Math.PI/180,pN=1e-5,cg=function(e){function t(){return Qie(this,t),tse(this,t,arguments)}return ase(t,e),ese(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,o=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=Xt(i,o,l,n.coordinate),h=Xt(i,o,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*sse),o;return i>pN?o=a==="outer"?"start":"end":i<-pN?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=Js(Js({},Ze(this.props,!1)),{},{fill:"none"},Ze(l,!1));if(c==="circle")return z.createElement(ig,so({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:o}));var d=this.props.ticks,f=d.map(function(h){return Xt(a,i,o,h.coordinate)});return z.createElement(wie,so({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=Ze(this.props,!1),f=Ze(o,!1),h=Js(Js({},d),{},{fill:"none"},Ze(l,!1)),m=i.map(function(v,g){var x=n.getTickLineCoord(v),b=n.getTickTextAnchor(v),y=Js(Js(Js({textAnchor:b},d),{},{stroke:"none",fill:u},f),{},{index:g,payload:v,x:x.x2,y:x.y2});return z.createElement(_t,so({className:vt("recharts-polar-angle-axis-tick",V3(o)),key:"tick-".concat(v.coordinate)},To(n.props,v,g)),l&&z.createElement("line",so({className:"recharts-polar-angle-axis-tick-line"},h,x)),o&&t.renderTickItem(o,y,c?c(v.value,g):v.value))});return z.createElement(_t,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!a||!a.length?null:z.createElement(_t,{className:vt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var o;return z.isValidElement(n)?o=z.cloneElement(n,a):it(n)?o=n(a):o=z.createElement(Co,so({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(I.PureComponent);lg(cg,"displayName","PolarAngleAxis");lg(cg,"axisType","angleAxis");lg(cg,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var ose=Gi,lse=za,cse="[object Boolean]";function use(e){return e===!0||e===!1||lse(e)&&ose(e)==cse}var dse=use;const fse=Nt(dse);function Vd(e){"@babel/helpers - typeof";return Vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vd(e)}function Fm(){return Fm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fm.apply(this,arguments)}function hse(e,t){return vse(e)||gse(e,t)||pse(e,t)||mse()}function mse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pse(e,t){if(e){if(typeof e=="string")return gN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gN(e,t)}}function gN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gse(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function vse(e){if(Array.isArray(e))return e}function vN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vN(Object(r),!0).forEach(function(n){yse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yse(e,t,r){return t=bse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bse(e){var t=xse(e,"string");return Vd(t)=="symbol"?t:t+""}function xse(e,t){if(Vd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bN=function(t,r,n,a,i){var o=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-a,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},wse={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},jse=function(t){var r=yN(yN({},wse),t),n=I.useRef(),a=I.useState(-1),i=hse(a,2),o=i[0],l=i[1];I.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var N=n.current.getTotalLength();N&&l(N)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,m=r.className,v=r.animationEasing,g=r.animationDuration,x=r.animationBegin,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var y=vt("recharts-trapezoid",m);return b?z.createElement(yi,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:g,animationEasing:v,isActive:b},function(N){var _=N.upperWidth,w=N.lowerWidth,S=N.height,O=N.x,P=N.y;return z.createElement(yi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:g,easing:v},z.createElement("path",Fm({},Ze(r,!0),{className:y,d:bN(O,P,_,w,S),ref:n})))}):z.createElement("g",null,z.createElement("path",Fm({},Ze(r,!0),{className:y,d:bN(c,u,d,f,h)})))},Nse=["option","shapeType","propTransformer","activeClassName","isActive"];function Yd(e){"@babel/helpers - typeof";return Yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yd(e)}function Sse(e,t){if(e==null)return{};var r=_se(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _se(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function xN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xN(Object(r),!0).forEach(function(n){Ase(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ase(e,t,r){return t=Ose(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ose(e){var t=Pse(e,"string");return Yd(t)=="symbol"?t:t+""}function Pse(e,t){if(Yd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ese(e,t){return Bm(Bm({},t),e)}function kse(e,t){return e==="symbols"}function wN(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return z.createElement(Ux,r);case"trapezoid":return z.createElement(jse,r);case"sector":return z.createElement(X3,r);case"symbols":if(kse(t))return z.createElement(px,r);break;default:return null}}function Tse(e){return I.isValidElement(e)?e.props:e}function lO(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?Ese:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=Sse(e,Nse),u;if(I.isValidElement(t))u=I.cloneElement(t,Bm(Bm({},c),Tse(t)));else if(it(t))u=t(c);else if(_z(t)&&!fse(t)){var d=a(t,c);u=z.createElement(wN,{shapeType:r,elementProps:d})}else{var f=c;u=z.createElement(wN,{shapeType:r,elementProps:f})}return l?z.createElement(_t,{className:o},u):u}function ug(e,t){return t!=null&&"trapezoids"in e.props}function dg(e,t){return t!=null&&"sectors"in e.props}function Kd(e,t){return t!=null&&"points"in e.props}function Cse(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function Lse(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function Mse(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function $se(e,t){var r;return ug(e,t)?r=Cse:dg(e,t)?r=Lse:Kd(e,t)&&(r=Mse),r}function Dse(e,t){var r;return ug(e,t)?r="trapezoids":dg(e,t)?r="sectors":Kd(e,t)&&(r="points"),r}function Ise(e,t){if(ug(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(dg(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Kd(e,t)?t.payload:{}}function Rse(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=Dse(r,t),i=Ise(r,t),o=n.filter(function(c,u){var d=Oo(i,c),f=r.props[a].filter(function(v){var g=$se(r,t);return g(v,t)}),h=r.props[a].indexOf(f[f.length-1]),m=u===h;return d&&m}),l=n.indexOf(o[o.length-1]);return l}var zh;function hc(e){"@babel/helpers - typeof";return hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hc(e)}function Tl(){return Tl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tl.apply(this,arguments)}function jN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jN(Object(r),!0).forEach(function(n){ia(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uO(n.key),n)}}function Bse(e,t,r){return t&&NN(e.prototype,t),r&&NN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function qse(e,t,r){return t=qm(t),zse(e,cO()?Reflect.construct(t,r||[],qm(e).constructor):t.apply(e,r))}function zse(e,t){if(t&&(hc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Use(e)}function Use(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cO=function(){return!!e})()}function qm(e){return qm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qm(e)}function Wse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fy(e,t)}function Fy(e,t){return Fy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Fy(e,t)}function ia(e,t,r){return t=uO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uO(e){var t=Hse(e,"string");return hc(t)=="symbol"?t:t+""}function Hse(e,t){if(hc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Yi=function(e){function t(r){var n;return Fse(this,t),n=qse(this,t,[r]),ia(n,"pieRef",null),ia(n,"sectorRefs",[]),ia(n,"id",Wc("recharts-pie-")),ia(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),it(a)&&a()}),ia(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),it(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Wse(t,e),Bse(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,d=Ze(this.props,!1),f=Ze(o,!1),h=Ze(l,!1),m=o&&o.offsetRadius||20,v=n.map(function(g,x){var b=(g.startAngle+g.endAngle)/2,y=Xt(g.cx,g.cy,g.outerRadius+m,b),N=Vt(Vt(Vt(Vt({},d),g),{},{stroke:"none"},f),{},{index:x,textAnchor:t.getTextAnchor(y.x,g.cx)},y),_=Vt(Vt(Vt(Vt({},d),g),{},{fill:"none",stroke:g.fill},h),{},{index:x,points:[Xt(g.cx,g.cy,g.outerRadius,b),y]}),w=c;return pt(c)&&pt(u)?w="value":pt(c)&&(w=u),z.createElement(_t,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(x)},l&&t.renderLabelLineItem(l,_,"line"),t.renderLabelItem(o,N,Cr(g,w)))});return z.createElement(_t,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),h=c&&a.hasActiveIndex()?c:null,m=f?o:h,v=Vt(Vt({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return z.createElement(_t,Tl({ref:function(x){x&&!a.sectorRefs.includes(x)&&a.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},To(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),z.createElement(lO,Tl({option:m,isActive:f,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,h=f.prevSectors,m=f.prevIsAnimationActive;return z.createElement(yi,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var g=v.t,x=[],b=i&&i[0],y=b.startAngle;return i.forEach(function(N,_){var w=h&&h[_],S=_>0?Hn(N,"paddingAngle",0):0;if(w){var O=Pn(w.endAngle-w.startAngle,N.endAngle-N.startAngle),P=Vt(Vt({},N),{},{startAngle:y+S,endAngle:y+O(g)+S});x.push(P),y=P.endAngle}else{var T=N.endAngle,F=N.startAngle,k=Pn(0,T-F),C=k(g),D=Vt(Vt({},N),{},{startAngle:y+S,endAngle:y+C+S});x.push(D),y=D.endAngle}}),z.createElement(_t,null,n.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!Oo(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,o=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,h=a.outerRadius,m=a.isAnimationActive,v=this.state.isAnimationFinished;if(i||!o||!o.length||!Le(u)||!Le(d)||!Le(f)||!Le(h))return null;var g=vt("recharts-pie",l);return z.createElement(_t,{tabIndex:this.props.rootTabIndex,className:g,ref:function(b){n.pieRef=b}},this.renderSectors(),c&&this.renderLabels(o),Wr.renderCallByParent(this.props,null,!1),(!m||v)&&qi.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(z.isValidElement(n))return z.cloneElement(n,a);if(it(n))return n(a);var o=vt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return z.createElement(ql,Tl({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,a,i){if(z.isValidElement(n))return z.cloneElement(n,a);var o=i;if(it(n)&&(o=n(a),z.isValidElement(o)))return o;var l=vt("recharts-pie-label-text",typeof n!="boolean"&&!it(n)?n.className:"");return z.createElement(Co,Tl({},a,{alignmentBaseline:"middle",className:l}),o)}}])}(I.PureComponent);zh=Yi;ia(Yi,"displayName","Pie");ia(Yi,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Ro.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ia(Yi,"parseDeltaAngle",function(e,t){var r=bn(t-e),n=Math.min(Math.abs(t-e),360);return r*n});ia(Yi,"getRealPieData",function(e){var t=e.data,r=e.children,n=Ze(e,!1),a=la(r,Vp);return t&&t.length?t.map(function(i,o){return Vt(Vt(Vt({payload:i},n),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return Vt(Vt({},n),i.props)}):[]});ia(Yi,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,o=G3(a,i),l=n+xn(e.cx,a,a/2),c=r+xn(e.cy,i,i/2),u=xn(e.innerRadius,o,0),d=xn(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});ia(Yi,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Vt(Vt({},t.type.defaultProps),t.props):t.props,a=zh.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,m=Math.abs(n.minAngle),v=zh.parseCoordinateOfPie(n,r),g=zh.parseDeltaAngle(o,l),x=Math.abs(g),b=u;pt(u)&&pt(f)?(Fa(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):pt(u)&&(Fa(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=f);var y=a.filter(function(P){return Cr(P,b,0)!==0}).length,N=(x>=360?y:y-1)*c,_=x-y*m-N,w=a.reduce(function(P,T){var F=Cr(T,b,0);return P+(Le(F)?F:0)},0),S;if(w>0){var O;S=a.map(function(P,T){var F=Cr(P,b,0),k=Cr(P,d,T),C=(Le(F)?F:0)/w,D;T?D=O.endAngle+bn(g)*c*(F!==0?1:0):D=o;var M=D+bn(g)*((F!==0?m:0)+C*_),U=(D+M)/2,W=(v.innerRadius+v.outerRadius)/2,R=[{name:k,value:F,payload:P,dataKey:b,type:h}],K=Xt(v.cx,v.cy,W,U);return O=Vt(Vt(Vt({percent:C,cornerRadius:i,name:k,tooltipPayload:R,midAngle:U,middleRadius:W,tooltipPosition:K},P),v),{},{value:Cr(P,b),startAngle:D,endAngle:M,payload:P,paddingAngle:bn(g)*c}),O})}return Vt(Vt({},v),{},{sectors:S,data:a})});function Xd(e){"@babel/helpers - typeof";return Xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xd(e)}function SN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _N(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SN(Object(r),!0).forEach(function(n){dO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dO(e,t,r){return t=Gse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gse(e){var t=Vse(e,"string");return Xd(t)=="symbol"?t:t+""}function Vse(e,t){if(Xd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yse=["Webkit","Moz","O","ms"],Kse=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=Yse.reduce(function(i,o){return _N(_N({},i),{},dO({},o+n,r))},{});return a[t]=r,a};function mc(e){"@babel/helpers - typeof";return mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mc(e)}function zm(){return zm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zm.apply(this,arguments)}function AN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AN(Object(r),!0).forEach(function(n){Bn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ON(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hO(n.key),n)}}function Jse(e,t,r){return t&&ON(e.prototype,t),r&&ON(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zse(e,t,r){return t=Um(t),Qse(e,fO()?Reflect.construct(t,r||[],Um(e).constructor):t.apply(e,r))}function Qse(e,t){if(t&&(mc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eoe(e)}function eoe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fO=function(){return!!e})()}function Um(e){return Um=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Um(e)}function toe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&By(e,t)}function By(e,t){return By=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},By(e,t)}function Bn(e,t,r){return t=hO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hO(e){var t=roe(e,"string");return mc(t)=="symbol"?t:t+""}function roe(e,t){if(mc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var noe=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Qu().domain(vd(0,c)).range([i,i+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},PN=function(t){return t.changedTouches&&!!t.changedTouches.length},pc=function(e){function t(r){var n;return Xse(this,t),n=Zse(this,t,[r]),Bn(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Bn(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Bn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),Bn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Bn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Bn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Bn(n,"handleSlideDragStart",function(a){var i=PN(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return toe(t,e),Jse(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,i),h=Math.max(a,i),m=t.getIndexInRange(o,f),v=t.getIndexInRange(o,h);return{startIndex:m-m%c,endIndex:v===d?d:v-v%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=Cr(i[n],l,n);return it(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,m=c.endIndex,v=c.onChange,g=n.pageX-i;g>0?g=Math.min(g,u+d-f-l,u+d-f-o):g<0&&(g=Math.max(g,u-o,u-l));var x=this.getIndex({startX:o+g,endX:l+g});(x.startIndex!==h||x.endIndex!==m)&&v&&v(x),this.setState({startX:o+g,endX:l+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=PN(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,v=d.onChange,g=d.gap,x=d.data,b={startX:this.state.startX,endX:this.state.endX},y=n.pageX-i;y>0?y=Math.min(y,f+h-m-u):y<0&&(y=Math.max(y,f-u)),b[o]=u+y;var N=this.getIndex(b),_=N.startIndex,w=N.endIndex,S=function(){var P=x.length-1;return o==="startX"&&(l>c?_%g===0:w%g===0)||l<c&&w===P||o==="endX"&&(l>c?w%g===0:_%g===0)||l>c&&w===P};this.setState(Bn(Bn({},o,u+y),"brushMoveStartX",n.pageX),function(){v&&S()&&v(N)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var m=l[h];a==="startX"&&m>=u||a==="endX"&&m<=c||this.setState(Bn({},a,m),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return z.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=I.Children.only(u);return f?z.cloneElement(f,{x:a,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,m=c.ariaLabel,v=c.data,g=c.startIndex,x=c.endIndex,b=Math.max(n,this.props.x),y=Jv(Jv({},Ze(this.props,!1)),{},{x:b,y:u,width:d,height:f}),N=m||"Min value: ".concat((i=v[g])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=v[x])===null||o===void 0?void 0:o.name);return z.createElement(_t,{tabIndex:0,role:"slider","aria-label":N,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),l.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,y))}},{key:"renderSlide",value:function(n,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return z.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,m=5,v={pointerEvents:"none",fill:u};return z.createElement(_t,{className:"recharts-brush-texts"},z.createElement(Co,zm({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:o+l/2},v),this.getTextOfTick(a)),z.createElement(Co,zm({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+m,y:o+l/2},v),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,m=h.startX,v=h.endX,g=h.isTextActive,x=h.isSlideMoving,b=h.isTravellerMoving,y=h.isTravellerFocused;if(!a||!a.length||!Le(l)||!Le(c)||!Le(u)||!Le(d)||u<=0||d<=0)return null;var N=vt("recharts-brush",i),_=z.Children.count(o)===1,w=Kse("userSelect","none");return z.createElement(_t,{className:N,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(m,v),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(v,"endX"),(g||x||b||y||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return z.createElement(z.Fragment,null,z.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),z.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),z.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return z.isValidElement(n)?i=z.cloneElement(n,a):it(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return Jv({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?noe({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var h=a.scale.domain().map(function(m){return a.scale(m)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])}(I.PureComponent);Bn(pc,"displayName","Brush");Bn(pc,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var aoe=Vb;function ioe(e,t){var r;return aoe(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var soe=ioe,ooe=h_,loe=Ua,coe=soe,uoe=dn,doe=Lc;function foe(e,t,r){var n=uoe(e)?ooe:coe;return r&&doe(e,t,r)&&(t=void 0),n(e,loe(t))}var hoe=foe;const moe=Nt(hoe);var pi=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r};function poe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var goe=poe,voe=Vb;function yoe(e,t){var r=!0;return voe(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var boe=yoe,xoe=goe,woe=boe,joe=Ua,Noe=dn,Soe=Lc;function _oe(e,t,r){var n=Noe(e)?xoe:woe;return r&&Soe(e,t,r)&&(t=void 0),n(e,joe(t))}var Aoe=_oe;const mO=Nt(Aoe);var Ooe=["x","y"];function Jd(e){"@babel/helpers - typeof";return Jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jd(e)}function qy(){return qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qy.apply(this,arguments)}function EN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EN(Object(r),!0).forEach(function(n){Poe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Poe(e,t,r){return t=Eoe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eoe(e){var t=koe(e,"string");return Jd(t)=="symbol"?t:t+""}function koe(e,t){if(Jd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Toe(e,t){if(e==null)return{};var r=Coe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Coe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Loe(e,t){var r=e.x,n=e.y,a=Toe(e,Ooe),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return Wu(Wu(Wu(Wu(Wu({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function kN(e){return z.createElement(lO,qy({shapeType:"rectangle",propTransformer:Loe,activeClassName:"recharts-active-bar"},e))}var Moe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=typeof n=="number";return i?t(n,a):(i||Mo(),r)}},$oe=["value","background"],pO;function gc(e){"@babel/helpers - typeof";return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gc(e)}function Doe(e,t){if(e==null)return{};var r=Ioe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ioe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Wm(){return Wm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wm.apply(this,arguments)}function TN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TN(Object(r),!0).forEach(function(n){ys(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Roe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vO(n.key),n)}}function Foe(e,t,r){return t&&CN(e.prototype,t),r&&CN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Boe(e,t,r){return t=Hm(t),qoe(e,gO()?Reflect.construct(t,r||[],Hm(e).constructor):t.apply(e,r))}function qoe(e,t){if(t&&(gc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zoe(e)}function zoe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gO=function(){return!!e})()}function Hm(e){return Hm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hm(e)}function Uoe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zy(e,t)}function zy(e,t){return zy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},zy(e,t)}function ys(e,t,r){return t=vO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vO(e){var t=Woe(e,"string");return gc(t)=="symbol"?t:t+""}function Woe(e,t){if(gc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var yf=function(e){function t(){var r;Roe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Boe(this,t,[].concat(a)),ys(r,"state",{isAnimationFinished:!1}),ys(r,"id",Wc("recharts-bar-")),ys(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),ys(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return Uoe(t,e),Foe(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=Ze(this.props,!1);return n&&n.map(function(f,h){var m=h===c,v=m?u:o,g=Sr(Sr(Sr({},d),f),{},{isActive:m,option:v,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return z.createElement(_t,Wm({className:"recharts-bar-rectangle"},To(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),z.createElement(kN,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return z.createElement(yi,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var v=m.t,g=i.map(function(x,b){var y=h&&h[b];if(y){var N=Pn(y.x,x.x),_=Pn(y.y,x.y),w=Pn(y.width,x.width),S=Pn(y.height,x.height);return Sr(Sr({},x),{},{x:N(v),y:_(v),width:w(v),height:S(v)})}if(o==="horizontal"){var O=Pn(0,x.height),P=O(v);return Sr(Sr({},x),{},{y:x.y+x.height-P,height:P})}var T=Pn(0,x.width),F=T(v);return Sr(Sr({},x),{},{width:F})});return z.createElement(_t,null,n.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!Oo(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=Ze(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,h=Doe(u,$oe);if(!f)return null;var m=Sr(Sr(Sr(Sr(Sr({},h),{},{fill:"#eee"},f),c),To(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return z.createElement(kN,Wm({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},m))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=la(d,ag);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,m=function(x,b){var y=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:y,errorVal:Cr(x,b)}},v={clipPath:n?"url(#clipPath-".concat(a,")"):null};return z.createElement(_t,v,f.map(function(g){return z.cloneElement(g,{key:"error-bar-".concat(a,"-").concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,m=n.isAnimationActive,v=n.background,g=n.id;if(a||!i||!i.length)return null;var x=this.state.isAnimationFinished,b=vt("recharts-bar",o),y=l&&l.allowDataOverflow,N=c&&c.allowDataOverflow,_=y||N,w=pt(g)?this.id:g;return z.createElement(_t,{className:b},y||N?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(w)},z.createElement("rect",{x:y?u:u-f/2,y:N?d:d-h/2,width:y?f:f*2,height:N?h:h*2}))):null,z.createElement(_t,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(w,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,w),(!m||x)&&qi.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(I.PureComponent);pO=yf;ys(yf,"displayName","Bar");ys(yf,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ro.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ys(yf,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=mre(n,r);if(!m)return null;var v=t.layout,g=r.type.defaultProps,x=g!==void 0?Sr(Sr({},g),r.props):r.props,b=x.dataKey,y=x.children,N=x.minPointSize,_=v==="horizontal"?o:i,w=u?_.scale.domain():null,S=wre({numericAxis:_}),O=la(y,Vp),P=f.map(function(T,F){var k,C,D,M,U,W;u?k=pre(u[d+F],w):(k=Cr(T,b),Array.isArray(k)||(k=[S,k]));var R=Moe(N,pO.defaultProps.minPointSize)(k[1],F);if(v==="horizontal"){var K,Y=[o.scale(k[0]),o.scale(k[1])],Z=Y[0],ae=Y[1];C=Nj({axis:i,ticks:l,bandSize:a,offset:m.offset,entry:T,index:F}),D=(K=ae??Z)!==null&&K!==void 0?K:void 0,M=m.size;var $=Z-ae;if(U=Number.isNaN($)?0:$,W={x:C,y:o.y,width:M,height:o.height},Math.abs(R)>0&&Math.abs(U)<Math.abs(R)){var H=bn(U||R)*(Math.abs(R)-Math.abs(U));D-=H,U+=H}}else{var Q=[i.scale(k[0]),i.scale(k[1])],ne=Q[0],se=Q[1];if(C=ne,D=Nj({axis:o,ticks:c,bandSize:a,offset:m.offset,entry:T,index:F}),M=se-ne,U=m.size,W={x:i.x,y:D,width:i.width,height:U},Math.abs(R)>0&&Math.abs(M)<Math.abs(R)){var he=bn(M||R)*(Math.abs(R)-Math.abs(M));M+=he}}return Sr(Sr(Sr({},T),{},{x:C,y:D,width:M,height:U,value:u?k:k[1],payload:T,background:W},O&&O[F]&&O[F].props),{},{tooltipPayload:[W3(r,T)],tooltipPosition:{x:C+M/2,y:D+U/2}})});return Sr({data:P,layout:v},h)});function Zd(e){"@babel/helpers - typeof";return Zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zd(e)}function Hoe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yO(n.key),n)}}function Goe(e,t,r){return t&&LN(e.prototype,t),r&&LN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function MN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function La(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MN(Object(r),!0).forEach(function(n){fg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fg(e,t,r){return t=yO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yO(e){var t=Voe(e,"string");return Zd(t)=="symbol"?t:t+""}function Voe(e,t){if(Zd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yoe=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!qn(u,yf);return d.reduce(function(m,v){var g=r[v],x=g.orientation,b=g.domain,y=g.padding,N=y===void 0?{}:y,_=g.mirror,w=g.reversed,S="".concat(x).concat(_?"Mirror":""),O,P,T,F,k;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var C=b[1]-b[0],D=1/0,M=g.categoricalDomain.sort(CV);if(M.forEach(function(Q,ne){ne>0&&(D=Math.min((Q||0)-(M[ne-1]||0),D))}),Number.isFinite(D)){var U=D/C,W=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(O=U*W/2),g.padding==="no-gap"){var R=xn(t.barCategoryGap,U*W),K=U*W/2;O=K-R-(K-R)/W*R}}}a==="xAxis"?P=[n.left+(N.left||0)+(O||0),n.left+n.width-(N.right||0)-(O||0)]:a==="yAxis"?P=c==="horizontal"?[n.top+n.height-(N.bottom||0),n.top+(N.top||0)]:[n.top+(N.top||0)+(O||0),n.top+n.height-(N.bottom||0)-(O||0)]:P=g.range,w&&(P=[P[1],P[0]]);var Y=B3(g,i,h),Z=Y.scale,ae=Y.realScaleType;Z.domain(b).range(P),q3(Z);var $=z3(Z,La(La({},g),{},{realScaleType:ae}));a==="xAxis"?(k=x==="top"&&!_||x==="bottom"&&_,T=n.left,F=f[S]-k*g.height):a==="yAxis"&&(k=x==="left"&&!_||x==="right"&&_,T=f[S]-k*g.width,F=n.top);var H=La(La(La({},g),$),{},{realScaleType:ae,x:T,y:F,scale:Z,width:a==="xAxis"?n.width:g.width,height:a==="yAxis"?n.height:g.height});return H.bandSize=km(H,$),!g.hide&&a==="xAxis"?f[S]+=(k?-1:1)*H.height:g.hide||(f[S]+=(k?-1:1)*H.width),La(La({},m),{},fg({},v,H))},{})},bO=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(a,o),width:Math.abs(i-n),height:Math.abs(o-a)}},Koe=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return bO({x:r,y:n},{x:a,y:i})},xO=function(){function e(t){Hoe(this,e),this.scale=t}return Goe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();fg(xO,"EPS",1e-4);var Wx=function(t){var r=Object.keys(t).reduce(function(n,a){return La(La({},n),{},fg({},a,xO.create(t[a])))},{});return La(La({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return H_(a,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return mO(a,function(i,o){return r[o].isInRange(i)})}})};function Xoe(e){return(e%180+180)%180}var Joe=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Xoe(a),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},Zoe=Ua,Qoe=Cc,ele=Fc;function tle(e){return function(t,r,n){var a=Object(t);if(!Qoe(t)){var i=Zoe(r);t=ele(t),r=function(l){return i(a[l],l,a)}}var o=e(t,r,n);return o>-1?a[i?t[o]:o]:void 0}}var rle=tle,nle=rle,ale=$_,ile=nle(ale),sle=ile;const ole=Nt(sle);var lle=FI(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),Hx=I.createContext(void 0),Gx=I.createContext(void 0),wO=I.createContext(void 0),jO=I.createContext({}),NO=I.createContext(void 0),SO=I.createContext(0),_O=I.createContext(0),$N=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=lle(i);return z.createElement(Hx.Provider,{value:n},z.createElement(Gx.Provider,{value:a},z.createElement(jO.Provider,{value:i},z.createElement(wO.Provider,{value:d},z.createElement(NO.Provider,{value:o},z.createElement(SO.Provider,{value:u},z.createElement(_O.Provider,{value:c},l)))))))},cle=function(){return I.useContext(NO)},AO=function(t){var r=I.useContext(Hx);r==null&&Mo();var n=r[t];return n==null&&Mo(),n},ule=function(){var t=I.useContext(Hx);return ps(t)},dle=function(){var t=I.useContext(Gx),r=ole(t,function(n){return mO(n.domain,Number.isFinite)});return r||ps(t)},OO=function(t){var r=I.useContext(Gx);r==null&&Mo();var n=r[t];return n==null&&Mo(),n},fle=function(){var t=I.useContext(wO);return t},hle=function(){return I.useContext(jO)},Vx=function(){return I.useContext(_O)},Yx=function(){return I.useContext(SO)};function vc(e){"@babel/helpers - typeof";return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vc(e)}function mle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ple(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,EO(n.key),n)}}function gle(e,t,r){return t&&ple(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function vle(e,t,r){return t=Gm(t),yle(e,PO()?Reflect.construct(t,r||[],Gm(e).constructor):t.apply(e,r))}function yle(e,t){if(t&&(vc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ble(e)}function ble(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PO=function(){return!!e})()}function Gm(e){return Gm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gm(e)}function xle(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Uy(e,t)}function Uy(e,t){return Uy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Uy(e,t)}function DN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function IN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DN(Object(r),!0).forEach(function(n){Kx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kx(e,t,r){return t=EO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EO(e){var t=wle(e,"string");return vc(t)=="symbol"?t:t+""}function wle(e,t){if(vc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function jle(e,t){return Ale(e)||_le(e,t)||Sle(e,t)||Nle()}function Nle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sle(e,t){if(e){if(typeof e=="string")return RN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RN(e,t)}}function RN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _le(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Ale(e){if(Array.isArray(e))return e}function Wy(){return Wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wy.apply(this,arguments)}var Ole=function(t,r){var n;return z.isValidElement(t)?n=z.cloneElement(t,r):it(t)?n=t(r):n=z.createElement("line",Wy({},r,{className:"recharts-reference-line-line"})),n},Ple=function(t,r,n,a,i,o,l,c,u){var d=i.x,f=i.y,h=i.width,m=i.height;if(n){var v=u.y,g=t.y.apply(v,{position:o});if(pi(u,"discard")&&!t.y.isInRange(g))return null;var x=[{x:d+h,y:g},{x:d,y:g}];return c==="left"?x.reverse():x}if(r){var b=u.x,y=t.x.apply(b,{position:o});if(pi(u,"discard")&&!t.x.isInRange(y))return null;var N=[{x:y,y:f+m},{x:y,y:f}];return l==="top"?N.reverse():N}if(a){var _=u.segment,w=_.map(function(S){return t.apply(S,{position:o})});return pi(u,"discard")&&moe(w,function(S){return!t.isInRange(S)})?null:w}return null};function Ele(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=cle(),d=AO(a),f=OO(i),h=fle();if(!u||!h)return null;Fa(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=Wx({x:d.scale,y:f.scale}),v=Mr(t),g=Mr(r),x=n&&n.length===2,b=Ple(m,v,g,x,h,e.position,d.orientation,f.orientation,e);if(!b)return null;var y=jle(b,2),N=y[0],_=N.x,w=N.y,S=y[1],O=S.x,P=S.y,T=pi(e,"hidden")?"url(#".concat(u,")"):void 0,F=IN(IN({clipPath:T},Ze(e,!0)),{},{x1:_,y1:w,x2:O,y2:P});return z.createElement(_t,{className:vt("recharts-reference-line",l)},Ole(o,F),Wr.renderCallByParent(e,Koe({x1:_,y1:w,x2:O,y2:P})))}var Xx=function(e){function t(){return mle(this,t),vle(this,t,arguments)}return xle(t,e),gle(t,[{key:"render",value:function(){return z.createElement(Ele,this.props)}}])}(z.Component);Kx(Xx,"displayName","ReferenceLine");Kx(Xx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Hy(){return Hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hy.apply(this,arguments)}function yc(e){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yc(e)}function FN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function BN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FN(Object(r),!0).forEach(function(n){hg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tle(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,TO(n.key),n)}}function Cle(e,t,r){return t&&Tle(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lle(e,t,r){return t=Vm(t),Mle(e,kO()?Reflect.construct(t,r||[],Vm(e).constructor):t.apply(e,r))}function Mle(e,t){if(t&&(yc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $le(e)}function $le(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kO=function(){return!!e})()}function Vm(e){return Vm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vm(e)}function Dle(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gy(e,t)}function Gy(e,t){return Gy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Gy(e,t)}function hg(e,t,r){return t=TO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TO(e){var t=Ile(e,"string");return yc(t)=="symbol"?t:t+""}function Ile(e,t){if(yc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Rle=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,o=Wx({x:a.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return pi(t,"discard")&&!o.isInRange(l)?null:l},mg=function(e){function t(){return kle(this,t),Lle(this,t,arguments)}return Dle(t,e),Cle(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=Mr(a),d=Mr(i);if(Fa(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=Rle(this.props);if(!f)return null;var h=f.x,m=f.y,v=this.props,g=v.shape,x=v.className,b=pi(this.props,"hidden")?"url(#".concat(c,")"):void 0,y=BN(BN({clipPath:b},Ze(this.props,!0)),{},{cx:h,cy:m});return z.createElement(_t,{className:vt("recharts-reference-dot",x)},t.renderDot(g,y),Wr.renderCallByParent(this.props,{x:h-o,y:m-o,width:2*o,height:2*o}))}}])}(z.Component);hg(mg,"displayName","ReferenceDot");hg(mg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});hg(mg,"renderDot",function(e,t){var r;return z.isValidElement(e)?r=z.cloneElement(e,t):it(e)?r=e(t):r=z.createElement(ig,Hy({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Vy(){return Vy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vy.apply(this,arguments)}function bc(e){"@babel/helpers - typeof";return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bc(e)}function qN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qN(Object(r),!0).forEach(function(n){pg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ble(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,LO(n.key),n)}}function qle(e,t,r){return t&&Ble(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zle(e,t,r){return t=Ym(t),Ule(e,CO()?Reflect.construct(t,r||[],Ym(e).constructor):t.apply(e,r))}function Ule(e,t){if(t&&(bc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wle(e)}function Wle(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CO=function(){return!!e})()}function Ym(e){return Ym=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ym(e)}function Hle(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yy(e,t)}function Yy(e,t){return Yy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Yy(e,t)}function pg(e,t,r){return t=LO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LO(e){var t=Gle(e,"string");return bc(t)=="symbol"?t:t+""}function Gle(e,t){if(bc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Vle=function(t,r,n,a,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=Wx({x:d.scale,y:f.scale}),m={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},v={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return pi(i,"discard")&&(!h.isInRange(m)||!h.isInRange(v))?null:bO(m,v)},gg=function(e){function t(){return Fle(this,t),zle(this,t,arguments)}return Hle(t,e),qle(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;Fa(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Mr(a),h=Mr(i),m=Mr(o),v=Mr(l),g=this.props.shape;if(!f&&!h&&!m&&!v&&!g)return null;var x=Vle(f,h,m,v,this.props);if(!x&&!g)return null;var b=pi(this.props,"hidden")?"url(#".concat(d,")"):void 0;return z.createElement(_t,{className:vt("recharts-reference-area",c)},t.renderRect(g,zN(zN({clipPath:b},Ze(this.props,!0)),x)),Wr.renderCallByParent(this.props,x))}}])}(z.Component);pg(gg,"displayName","ReferenceArea");pg(gg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});pg(gg,"renderRect",function(e,t){var r;return z.isValidElement(e)?r=z.cloneElement(e,t):it(e)?r=e(t):r=z.createElement(Ux,Vy({},t,{className:"recharts-reference-area-rect"})),r});function MO(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function Yle(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Joe(n,r)}function Kle(e,t,r){var n=r==="width",a=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function Km(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function Xle(e,t){return MO(e,t+1)}function Jle(e,t,r,n,a){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var v=n==null?void 0:n[c];if(v===void 0)return{v:MO(n,u)};var g=c,x,b=function(){return x===void 0&&(x=r(v,g)),x},y=v.coordinate,N=c===0||Km(e,y,b,d,l);N||(c=0,d=o,u+=1),N&&(d=y+e*(b()/2+a),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function Qd(e){"@babel/helpers - typeof";return Qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qd(e)}function UN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UN(Object(r),!0).forEach(function(n){Zle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zle(e,t,r){return t=Qle(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qle(e){var t=ece(e,"string");return Qd(t)=="symbol"?t:t+""}function ece(e,t){if(Qd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tce(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(h){var m=i[h],v,g=function(){return v===void 0&&(v=r(m,h)),v};if(h===o-1){var x=e*(m.coordinate+e*g()/2-c);i[h]=m=sn(sn({},m),{},{tickCoord:x>0?m.coordinate-x*e:m.coordinate})}else i[h]=m=sn(sn({},m),{},{tickCoord:m.coordinate});var b=Km(e,m.tickCoord,g,l,c);b&&(c=m.tickCoord-e*(g()/2+a),i[h]=sn(sn({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function rce(e,t,r,n,a,i){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=sn(sn({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=Km(e,d.tickCoord,function(){return f},c,u);m&&(u=d.tickCoord-e*(f/2+a),o[l-1]=sn(sn({},d),{},{isShow:!0}))}for(var v=i?l-1:l,g=function(y){var N=o[y],_,w=function(){return _===void 0&&(_=r(N,y)),_};if(y===0){var S=e*(N.coordinate-e*w()/2-c);o[y]=N=sn(sn({},N),{},{tickCoord:S<0?N.coordinate-S*e:N.coordinate})}else o[y]=N=sn(sn({},N),{},{tickCoord:N.coordinate});var O=Km(e,N.tickCoord,w,c,u);O&&(c=N.tickCoord+e*(w()/2+a),o[y]=sn(sn({},N),{},{isShow:!0}))},x=0;x<v;x++)g(x);return o}function Jx(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(Le(c)||Ro.isSsr)return Xle(a,typeof c=="number"&&Le(c)?c:0);var h=[],m=l==="top"||l==="bottom"?"width":"height",v=d&&m==="width"?Zu(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},g=function(N,_){var w=it(u)?u(N.value,_):N.value;return m==="width"?Yle(Zu(w,{fontSize:t,letterSpacing:r}),v,f):Zu(w,{fontSize:t,letterSpacing:r})[m]},x=a.length>=2?bn(a[1].coordinate-a[0].coordinate):1,b=Kle(i,x,m);return c==="equidistantPreserveStart"?Jle(x,b,g,a,o):(c==="preserveStart"||c==="preserveStartEnd"?h=rce(x,b,g,a,o,c==="preserveStartEnd"):h=tce(x,b,g,a,o),h.filter(function(y){return y.isShow}))}var nce=["viewBox"],ace=["viewBox"],ice=["ticks"];function xc(e){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xc(e)}function Cl(){return Cl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cl.apply(this,arguments)}function WN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WN(Object(r),!0).forEach(function(n){Zx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zv(e,t){if(e==null)return{};var r=sce(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sce(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function oce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,DO(n.key),n)}}function lce(e,t,r){return t&&HN(e.prototype,t),r&&HN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function cce(e,t,r){return t=Xm(t),uce(e,$O()?Reflect.construct(t,r||[],Xm(e).constructor):t.apply(e,r))}function uce(e,t){if(t&&(xc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dce(e)}function dce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $O(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($O=function(){return!!e})()}function Xm(e){return Xm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xm(e)}function fce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ky(e,t)}function Ky(e,t){return Ky=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ky(e,t)}function Zx(e,t,r){return t=DO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DO(e){var t=hce(e,"string");return xc(t)=="symbol"?t:t+""}function hce(e,t){if(xc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Yc=function(e){function t(r){var n;return oce(this,t),n=cce(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return fce(t,e),lce(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,o=Zv(n,nce),l=this.props,c=l.viewBox,u=Zv(l,ace);return!Rl(i,c)||!Rl(o,u)||!Rl(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,m,v,g,x,b,y,N=f?-1:1,_=n.tickSize||d,w=Le(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":m=v=n.coordinate,x=o+ +!f*c,g=x-N*_,y=g-N*h,b=w;break;case"left":g=x=n.coordinate,v=i+ +!f*l,m=v-N*_,b=m-N*h,y=w;break;case"right":g=x=n.coordinate,v=i+ +f*l,m=v+N*_,b=m+N*h,y=w;break;default:m=v=n.coordinate,x=o+ +f*c,g=x+N*_,y=g+N*h,b=w;break}return{line:{x1:m,y1:g,x2:v,y2:x},tick:{x:b,y}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=pn(pn(pn({},Ze(this.props,!1)),Ze(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=pn(pn({},f),{},{x1:a,y1:i+h*l,x2:a+o,y2:i+h*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);f=pn(pn({},f),{},{x1:a+m*o,y1:i,x2:a+m*o,y2:i+l})}return z.createElement("line",Cl({},f,{className:vt("recharts-cartesian-axis-line",Hn(d,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,m=Jx(pn(pn({},this.props),{},{ticks:n}),a,i),v=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),x=Ze(this.props,!1),b=Ze(d,!1),y=pn(pn({},x),{},{fill:"none"},Ze(c,!1)),N=m.map(function(_,w){var S=o.getTickLineCoord(_),O=S.line,P=S.tick,T=pn(pn(pn(pn({textAnchor:v,verticalAnchor:g},x),{},{stroke:"none",fill:u},b),P),{},{index:w,payload:_,visibleTicksCount:m.length,tickFormatter:f});return z.createElement(_t,Cl({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},To(o.props,_,w)),c&&z.createElement("line",Cl({},y,O,{className:vt("recharts-cartesian-axis-tick-line",Hn(c,"className"))})),d&&t.renderTickItem(d,T,"".concat(it(f)?f(_.value,w):_.value).concat(h||"")))});return z.createElement("g",{className:"recharts-cartesian-axis-ticks"},N)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,m=Zv(f,ice),v=h;return it(c)&&(v=h&&h.length>0?c(this.props):c(m)),o<=0||l<=0||!v||!v.length?null:z.createElement(_t,{className:vt("recharts-cartesian-axis",u),ref:function(x){n.layerReference=x}},i&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Wr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return z.isValidElement(n)?o=z.cloneElement(n,a):it(n)?o=n(a):o=z.createElement(Co,Cl({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(I.Component);Zx(Yc,"displayName","CartesianAxis");Zx(Yc,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var mce=["x1","y1","x2","y2","key"],pce=["offset"];function $o(e){"@babel/helpers - typeof";return $o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$o(e)}function GN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function on(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GN(Object(r),!0).forEach(function(n){gce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gce(e,t,r){return t=vce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vce(e){var t=yce(e,"string");return $o(t)=="symbol"?t:t+""}function yce(e,t){if($o(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($o(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uo(){return uo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uo.apply(this,arguments)}function VN(e,t){if(e==null)return{};var r=bce(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bce(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var xce=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return z.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function IO(e,t){var r;if(z.isValidElement(e))r=z.cloneElement(e,t);else if(it(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,o=t.y2,l=t.key,c=VN(t,mce),u=Ze(c,!1);u.offset;var d=VN(u,pce);r=z.createElement("line",uo({},d,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function wce(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=on(on({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return IO(a,u)});return z.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function jce(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=on(on({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return IO(a,u)});return z.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Nce(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,m){return h-m});a!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var v=!d[m+1],g=v?a+o-h:d[m+1]-h;if(g<=0)return null;var x=m%t.length;return z.createElement("rect",{key:"react-".concat(m),y:h,x:n,height:g,width:i,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Sce(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,m){return h-m});i!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var v=!d[m+1],g=v?i+l-h:d[m+1]-h;if(g<=0)return null;var x=m%n.length;return z.createElement("rect",{key:"react-".concat(m),x:h,y:o,width:g,height:c,stroke:"none",fill:n[x],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var _ce=function(t,r){var n=t.xAxis,a=t.width,i=t.height,o=t.offset;return F3(Jx(on(on(on({},Yc.defaultProps),n),{},{ticks:Ri(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},Ace=function(t,r){var n=t.yAxis,a=t.width,i=t.height,o=t.offset;return F3(Jx(on(on(on({},Yc.defaultProps),n),{},{ticks:Ri(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},Nl={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function RO(e){var t,r,n,a,i,o,l=Vx(),c=Yx(),u=hle(),d=on(on({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Nl.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Nl.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Nl.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Nl.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Nl.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Nl.verticalFill,x:Le(e.x)?e.x:u.left,y:Le(e.y)?e.y:u.top,width:Le(e.width)?e.width:u.width,height:Le(e.height)?e.height:u.height}),f=d.x,h=d.y,m=d.width,v=d.height,g=d.syncWithTicks,x=d.horizontalValues,b=d.verticalValues,y=ule(),N=dle();if(!Le(m)||m<=0||!Le(v)||v<=0||!Le(f)||f!==+f||!Le(h)||h!==+h)return null;var _=d.verticalCoordinatesGenerator||_ce,w=d.horizontalCoordinatesGenerator||Ace,S=d.horizontalPoints,O=d.verticalPoints;if((!S||!S.length)&&it(w)){var P=x&&x.length,T=w({yAxis:N?on(on({},N),{},{ticks:P?x:N.ticks}):void 0,width:l,height:c,offset:u},P?!0:g);Fa(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat($o(T),"]")),Array.isArray(T)&&(S=T)}if((!O||!O.length)&&it(_)){var F=b&&b.length,k=_({xAxis:y?on(on({},y),{},{ticks:F?b:y.ticks}):void 0,width:l,height:c,offset:u},F?!0:g);Fa(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat($o(k),"]")),Array.isArray(k)&&(O=k)}return z.createElement("g",{className:"recharts-cartesian-grid"},z.createElement(xce,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),z.createElement(wce,uo({},d,{offset:u,horizontalPoints:S,xAxis:y,yAxis:N})),z.createElement(jce,uo({},d,{offset:u,verticalPoints:O,xAxis:y,yAxis:N})),z.createElement(Nce,uo({},d,{horizontalPoints:S})),z.createElement(Sce,uo({},d,{verticalPoints:O})))}RO.displayName="CartesianGrid";var Oce=["layout","type","stroke","connectNulls","isRange","ref"],Pce=["key"],FO;function wc(e){"@babel/helpers - typeof";return wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wc(e)}function BO(e,t){if(e==null)return{};var r=Ece(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ece(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function fo(){return fo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fo.apply(this,arguments)}function YN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YN(Object(r),!0).forEach(function(n){ci(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zO(n.key),n)}}function Tce(e,t,r){return t&&KN(e.prototype,t),r&&KN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cce(e,t,r){return t=Jm(t),Lce(e,qO()?Reflect.construct(t,r||[],Jm(e).constructor):t.apply(e,r))}function Lce(e,t){if(t&&(wc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mce(e)}function Mce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qO=function(){return!!e})()}function Jm(e){return Jm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jm(e)}function $ce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xy(e,t)}function Xy(e,t){return Xy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Xy(e,t)}function ci(e,t,r){return t=zO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zO(e){var t=Dce(e,"string");return wc(t)=="symbol"?t:t+""}function Dce(e,t){if(wc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ls=function(e){function t(){var r;kce(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Cce(this,t,[].concat(a)),ci(r,"state",{isAnimationFinished:!0}),ci(r,"id",Wc("recharts-area-")),ci(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),it(o)&&o()}),ci(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),it(o)&&o()}),r}return $ce(t,e),Tce(t,[{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,h=Ze(this.props,!1),m=Ze(u,!0),v=d.map(function(x,b){var y=hs(hs(hs({key:"dot-".concat(b),r:3},h),m),{},{index:b,cx:x.x,cy:x.y,dataKey:f,value:x.value,payload:x.payload,points:d});return t.renderDotItem(u,y)}),g={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return z.createElement(_t,fo({className:"recharts-area-dots"},g),v)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].x,u=o[o.length-1].x,d=n*Math.abs(c-u),f=vs(o.map(function(h){return h.y||0}));return Le(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(vs(i.map(function(h){return h.y||0})),f)),Le(f)?z.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].y,u=o[o.length-1].y,d=n*Math.abs(c-u),f=vs(o.map(function(h){return h.x||0}));return Le(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(vs(i.map(function(h){return h.x||0})),f)),Le(f)?z.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,i,o){var l=this.props,c=l.layout,u=l.type,d=l.stroke,f=l.connectNulls,h=l.isRange;l.ref;var m=BO(l,Oce);return z.createElement(_t,{clipPath:i?"url(#clipPath-".concat(o,")"):null},z.createElement(ql,fo({},Ze(m,!0),{points:n,connectNulls:f,type:u,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&z.createElement(ql,fo({},Ze(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:n})),d!=="none"&&h&&z.createElement(ql,fo({},Ze(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var i=this,o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,m=o.animationId,v=this.state,g=v.prevPoints,x=v.prevBaseLine;return z.createElement(yi,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var y=b.t;if(g){var N=g.length/l.length,_=l.map(function(P,T){var F=Math.floor(T*N);if(g[F]){var k=g[F],C=Pn(k.x,P.x),D=Pn(k.y,P.y);return hs(hs({},P),{},{x:C(y),y:D(y)})}return P}),w;if(Le(c)&&typeof c=="number"){var S=Pn(x,c);w=S(y)}else if(pt(c)||Uc(c)){var O=Pn(x,0);w=O(y)}else w=c.map(function(P,T){var F=Math.floor(T*N);if(x[F]){var k=x[F],C=Pn(k.x,P.x),D=Pn(k.y,P.y);return hs(hs({},P),{},{x:C(y),y:D(y)})}return P});return i.renderAreaStatically(_,w,n,a)}return z.createElement(_t,null,z.createElement("defs",null,z.createElement("clipPath",{id:"animationClipPath-".concat(a)},i.renderClipRect(y))),z.createElement(_t,{clipPath:"url(#animationClipPath-".concat(a,")")},i.renderAreaStatically(l,c,n,a)))})}},{key:"renderArea",value:function(n,a){var i=this.props,o=i.points,l=i.baseLine,c=i.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return c&&o&&o.length&&(!d&&h>0||!Oo(d,o)||!Oo(f,l))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(o,l,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,u=a.top,d=a.left,f=a.xAxis,h=a.yAxis,m=a.width,v=a.height,g=a.isAnimationActive,x=a.id;if(i||!l||!l.length)return null;var b=this.state.isAnimationFinished,y=l.length===1,N=vt("recharts-area",c),_=f&&f.allowDataOverflow,w=h&&h.allowDataOverflow,S=_||w,O=pt(x)?this.id:x,P=(n=Ze(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},T=P.r,F=T===void 0?3:T,k=P.strokeWidth,C=k===void 0?2:k,D=qV(o)?o:{},M=D.clipDot,U=M===void 0?!0:M,W=F*2+C;return z.createElement(_t,{className:N},_||w?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(O)},z.createElement("rect",{x:_?d:d-m/2,y:w?u:u-v/2,width:_?m:m*2,height:w?v:v*2})),!U&&z.createElement("clipPath",{id:"clipPath-dots-".concat(O)},z.createElement("rect",{x:d-W/2,y:u-W/2,width:m+W,height:v+W}))):null,y?null:this.renderArea(S,O),(o||y)&&this.renderDots(S,U,O),(!g||b)&&qi.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(I.PureComponent);FO=Ls;ci(Ls,"displayName","Area");ci(Ls,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Ro.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});ci(Ls,"getBaseValue",function(e,t,r,n){var a=e.layout,i=e.baseValue,o=t.props.baseValue,l=o??i;if(Le(l)&&typeof l=="number")return l;var c=a==="horizontal"?n:r,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return l==="dataMin"?f:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});ci(Ls,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,a=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=t.layout,v=u&&u.length,g=FO.getBaseValue(t,r,n,a),x=m==="horizontal",b=!1,y=f.map(function(_,w){var S;v?S=u[d+w]:(S=Cr(_,c),Array.isArray(S)?b=!0:S=[g,S]);var O=S[1]==null||v&&Cr(_,c)==null;return x?{x:jj({axis:n,ticks:i,bandSize:l,entry:_,index:w}),y:O?null:a.scale(S[1]),value:S,payload:_}:{x:O?null:n.scale(S[1]),y:jj({axis:a,ticks:o,bandSize:l,entry:_,index:w}),value:S,payload:_}}),N;return v||b?N=y.map(function(_){var w=Array.isArray(_.value)?_.value[0]:null;return x?{x:_.x,y:w!=null&&_.y!=null?a.scale(w):null}:{x:w!=null?n.scale(w):null,y:_.y}}):N=x?a.scale(g):n.scale(g),hs({points:y,baseLine:N,layout:m,isRange:b},h)});ci(Ls,"renderDotItem",function(e,t){var r;if(z.isValidElement(e))r=z.cloneElement(e,t);else if(it(e))r=e(t);else{var n=vt("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,i=BO(t,Pce);r=z.createElement(ig,fo({},i,{key:a,className:n}))}return r});function jc(e){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jc(e)}function Ice(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rce(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,HO(n.key),n)}}function Fce(e,t,r){return t&&Rce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bce(e,t,r){return t=Zm(t),qce(e,UO()?Reflect.construct(t,r||[],Zm(e).constructor):t.apply(e,r))}function qce(e,t){if(t&&(jc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zce(e)}function zce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UO=function(){return!!e})()}function Zm(e){return Zm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zm(e)}function Uce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jy(e,t)}function Jy(e,t){return Jy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Jy(e,t)}function WO(e,t,r){return t=HO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HO(e){var t=Wce(e,"string");return jc(t)=="symbol"?t:t+""}function Wce(e,t){if(jc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Zy(){return Zy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zy.apply(this,arguments)}function Hce(e){var t=e.xAxisId,r=Vx(),n=Yx(),a=AO(t);return a==null?null:z.createElement(Yc,Zy({},a,{className:vt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Ri(o,!0)}}))}var vg=function(e){function t(){return Ice(this,t),Bce(this,t,arguments)}return Uce(t,e),Fce(t,[{key:"render",value:function(){return z.createElement(Hce,this.props)}}])}(z.Component);WO(vg,"displayName","XAxis");WO(vg,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Nc(e){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nc(e)}function Gce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vce(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YO(n.key),n)}}function Yce(e,t,r){return t&&Vce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kce(e,t,r){return t=Qm(t),Xce(e,GO()?Reflect.construct(t,r||[],Qm(e).constructor):t.apply(e,r))}function Xce(e,t){if(t&&(Nc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jce(e)}function Jce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GO=function(){return!!e})()}function Qm(e){return Qm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qm(e)}function Zce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qy(e,t)}function Qy(e,t){return Qy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Qy(e,t)}function VO(e,t,r){return t=YO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YO(e){var t=Qce(e,"string");return Nc(t)=="symbol"?t:t+""}function Qce(e,t){if(Nc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function eb(){return eb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eb.apply(this,arguments)}var eue=function(t){var r=t.yAxisId,n=Vx(),a=Yx(),i=OO(r);return i==null?null:z.createElement(Yc,eb({},i,{className:vt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return Ri(l,!0)}}))},yg=function(e){function t(){return Gce(this,t),Kce(this,t,arguments)}return Zce(t,e),Yce(t,[{key:"render",value:function(){return z.createElement(eue,this.props)}}])}(z.Component);VO(yg,"displayName","YAxis");VO(yg,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function XN(e){return aue(e)||nue(e)||rue(e)||tue()}function tue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rue(e,t){if(e){if(typeof e=="string")return tb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tb(e,t)}}function nue(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function aue(e){if(Array.isArray(e))return tb(e)}function tb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var rb=function(t,r,n,a,i){var o=la(t,Xx),l=la(t,mg),c=[].concat(XN(o),XN(l)),u=la(t,gg),d="".concat(a,"Id"),f=a[0],h=r;if(c.length&&(h=c.reduce(function(g,x){if(x.props[d]===n&&pi(x.props,"extendDomain")&&Le(x.props[f])){var b=x.props[f];return[Math.min(g[0],b),Math.max(g[1],b)]}return g},h)),u.length){var m="".concat(f,"1"),v="".concat(f,"2");h=u.reduce(function(g,x){if(x.props[d]===n&&pi(x.props,"extendDomain")&&Le(x.props[m])&&Le(x.props[v])){var b=x.props[m],y=x.props[v];return[Math.min(g[0],b,y),Math.max(g[1],b,y)]}return g},h)}return i&&i.length&&(h=i.reduce(function(g,x){return Le(x)?[Math.min(g[0],x),Math.max(g[1],x)]:g},h)),h},KO={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||c,h),v=r?r+u:u;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],m]:c._events[v].push(m):(c._events[v]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,v=new Array(m);h<m;h++)v[h]=f[h].fn;return v},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,v){var g=r?r+u:u;if(!this._events[g])return!1;var x=this._events[g],b=arguments.length,y,N;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),b){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,f),!0;case 4:return x.fn.call(x.context,d,f,h),!0;case 5:return x.fn.call(x.context,d,f,h,m),!0;case 6:return x.fn.call(x.context,d,f,h,m,v),!0}for(N=1,y=new Array(b-1);N<b;N++)y[N-1]=arguments[N];x.fn.apply(x.context,y)}else{var _=x.length,w;for(N=0;N<_;N++)switch(x[N].once&&this.removeListener(u,x[N].fn,void 0,!0),b){case 1:x[N].fn.call(x[N].context);break;case 2:x[N].fn.call(x[N].context,d);break;case 3:x[N].fn.call(x[N].context,d,f);break;case 4:x[N].fn.call(x[N].context,d,f,h);break;default:if(!y)for(w=1,y=new Array(b-1);w<b;w++)y[w-1]=arguments[w];x[N].fn.apply(x[N].context,y)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var v=this._events[m];if(v.fn)v.fn===d&&(!h||v.once)&&(!f||v.context===f)&&o(this,m);else{for(var g=0,x=[],b=v.length;g<b;g++)(v[g].fn!==d||h&&!v[g].once||f&&v[g].context!==f)&&x.push(v[g]);x.length?this._events[m]=x.length===1?x[0]:x:o(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(KO);var iue=KO.exports;const sue=Nt(iue);var Qv=new sue,e0="recharts.syncMouseEvents";function ef(e){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ef(e)}function oue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lue(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XO(n.key),n)}}function cue(e,t,r){return t&&lue(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function t0(e,t,r){return t=XO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XO(e){var t=uue(e,"string");return ef(t)=="symbol"?t:t+""}function uue(e,t){if(ef(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ef(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var due=function(){function e(){oue(this,e),t0(this,"activeIndex",0),t0(this,"coordinateList",[]),t0(this,"layout","horizontal")}return cue(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function fue(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&Le(n)&&Le(a))return!0}return!1}function hue(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function JO(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,o=Xt(t,r,n,a),l=Xt(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function mue(e,t,r){var n,a,i,o;if(e==="horizontal")n=t.x,i=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=Xt(l,c,u,f),m=Xt(l,c,d,f);n=h.x,a=h.y,i=m.x,o=m.y}else return JO(t);return[{x:n,y:a},{x:i,y:o}]}function tf(e){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tf(e)}function JN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Eh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JN(Object(r),!0).forEach(function(n){pue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pue(e,t,r){return t=gue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gue(e){var t=vue(e,"string");return tf(t)=="symbol"?t:t+""}function vue(e,t){if(tf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yue(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!i||!o||h!=="ScatterChart"&&a!=="axis")return null;var v,g=ql;if(h==="ScatterChart")v=o,g=kie;else if(h==="BarChart")v=hue(f,o,c,d),g=Ux;else if(f==="radial"){var x=JO(o),b=x.cx,y=x.cy,N=x.radius,_=x.startAngle,w=x.endAngle;v={cx:b,cy:y,startAngle:_,endAngle:w,innerRadius:N,outerRadius:N},g=X3}else v={points:mue(f,o,c)},g=ql;var S=Eh(Eh(Eh(Eh({stroke:"#ccc",pointerEvents:"none"},c),v),Ze(m,!1)),{},{payload:l,payloadIndex:u,className:vt("recharts-tooltip-cursor",m.className)});return I.isValidElement(m)?I.cloneElement(m,S):I.createElement(g,S)}var bue=["item"],xue=["children","className","width","height","style","compact","title","desc"];function Sc(e){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sc(e)}function Ll(){return Ll=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ll.apply(this,arguments)}function ZN(e,t){return Nue(e)||jue(e,t)||QO(e,t)||wue()}function wue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jue(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Nue(e){if(Array.isArray(e))return e}function QN(e,t){if(e==null)return{};var r=Sue(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Sue(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function _ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Aue(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eP(n.key),n)}}function Oue(e,t,r){return t&&Aue(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pue(e,t,r){return t=ep(t),Eue(e,ZO()?Reflect.construct(t,r||[],ep(e).constructor):t.apply(e,r))}function Eue(e,t){if(t&&(Sc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kue(e)}function kue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZO=function(){return!!e})()}function ep(e){return ep=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ep(e)}function Tue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nb(e,t)}function nb(e,t){return nb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},nb(e,t)}function _c(e){return Mue(e)||Lue(e)||QO(e)||Cue()}function Cue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QO(e,t){if(e){if(typeof e=="string")return ab(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ab(e,t)}}function Lue(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Mue(e){if(Array.isArray(e))return ab(e)}function ab(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ne(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eS(Object(r),!0).forEach(function(n){rt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rt(e,t,r){return t=eP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eP(e){var t=$ue(e,"string");return Sc(t)=="symbol"?t:t+""}function $ue(e,t){if(Sc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Due={xAxis:["bottom","top"],yAxis:["left","right"]},Iue={width:"100%",height:"100%"},tP={x:0,y:0};function kh(e){return e}var Rue=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},Fue=function(t,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=a.radius;return Ne(Ne(Ne({},a),Xt(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=a.angle;return Ne(Ne(Ne({},a),Xt(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return tP},bg=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(_c(l),_c(u)):l},[]);return o.length>0?o:t&&t.length&&Le(a)&&Le(i)?t.slice(a,i+1):[]};function rP(e){return e==="number"?[0,"auto"]:void 0}var ib=function(t,r,n,a){var i=t.graphicalItems,o=t.tooltipAxis,l=bg(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var m=f===void 0?l:f;h=im(m,o.dataKey,a)}else h=f&&f[n]||l[n];return h?[].concat(_c(c),[W3(u,h)]):c},[])},tS=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},o=Rue(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=lre(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=ib(t,r,d,f),m=Fue(n,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},Bue=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,m=R3(d,i);return n.reduce(function(v,g){var x,b=g.type.defaultProps!==void 0?Ne(Ne({},g.type.defaultProps),g.props):g.props,y=b.type,N=b.dataKey,_=b.allowDataOverflow,w=b.allowDuplicatedCategory,S=b.scale,O=b.ticks,P=b.includeHidden,T=b[o];if(v[T])return v;var F=bg(t.data,{graphicalItems:a.filter(function($){var H,Q=o in $.props?$.props[o]:(H=$.type.defaultProps)===null||H===void 0?void 0:H[o];return Q===T}),dataStartIndex:c,dataEndIndex:u}),k=F.length,C,D,M;fue(b.domain,_,y)&&(C=xy(b.domain,null,_),m&&(y==="number"||S!=="auto")&&(M=ed(F,N,"category")));var U=rP(y);if(!C||C.length===0){var W,R=(W=b.domain)!==null&&W!==void 0?W:U;if(N){if(C=ed(F,N,y),y==="category"&&m){var K=TV(C);w&&K?(D=C,C=vd(0,k)):w||(C=Aj(R,C,g).reduce(function($,H){return $.indexOf(H)>=0?$:[].concat(_c($),[H])},[]))}else if(y==="category")w?C=C.filter(function($){return $!==""&&!pt($)}):C=Aj(R,C,g).reduce(function($,H){return $.indexOf(H)>=0||H===""||pt(H)?$:[].concat(_c($),[H])},[]);else if(y==="number"){var Y=hre(F,a.filter(function($){var H,Q,ne=o in $.props?$.props[o]:(H=$.type.defaultProps)===null||H===void 0?void 0:H[o],se="hide"in $.props?$.props.hide:(Q=$.type.defaultProps)===null||Q===void 0?void 0:Q.hide;return ne===T&&(P||!se)}),N,i,d);Y&&(C=Y)}m&&(y==="number"||S!=="auto")&&(M=ed(F,N,"category"))}else m?C=vd(0,k):l&&l[T]&&l[T].hasStack&&y==="number"?C=h==="expand"?[0,1]:U3(l[T].stackGroups,c,u):C=I3(F,a.filter(function($){var H=o in $.props?$.props[o]:$.type.defaultProps[o],Q="hide"in $.props?$.props.hide:$.type.defaultProps.hide;return H===T&&(P||!Q)}),y,d,!0);if(y==="number")C=rb(f,C,T,i,O),R&&(C=xy(R,C,_));else if(y==="category"&&R){var Z=R,ae=C.every(function($){return Z.indexOf($)>=0});ae&&(C=Z)}}return Ne(Ne({},v),{},rt({},T,Ne(Ne({},b),{},{axisType:i,domain:C,categoricalDomain:M,duplicateDomain:D,originalDomain:(x=b.domain)!==null&&x!==void 0?x:U,isCategorical:m,layout:d})))},{})},que=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=bg(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),m=h.length,v=R3(d,i),g=-1;return n.reduce(function(x,b){var y=b.type.defaultProps!==void 0?Ne(Ne({},b.type.defaultProps),b.props):b.props,N=y[o],_=rP("number");if(!x[N]){g++;var w;return v?w=vd(0,m):l&&l[N]&&l[N].hasStack?(w=U3(l[N].stackGroups,c,u),w=rb(f,w,N,i)):(w=xy(_,I3(h,n.filter(function(S){var O,P,T=o in S.props?S.props[o]:(O=S.type.defaultProps)===null||O===void 0?void 0:O[o],F="hide"in S.props?S.props.hide:(P=S.type.defaultProps)===null||P===void 0?void 0:P.hide;return T===N&&!F}),"number",d),a.defaultProps.allowDataOverflow),w=rb(f,w,N,i)),Ne(Ne({},x),{},rt({},N,Ne(Ne({axisType:i},a.defaultProps),{},{hide:!0,orientation:Hn(Due,"".concat(i,".").concat(g%2),null),domain:w,originalDomain:_,isCategorical:v,layout:d})))}return x},{})},zue=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=la(d,i),m={};return h&&h.length?m=Bue(t,{axes:h,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(m=que(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),m},Uue=function(t){var r=ps(t),n=Ri(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:bp(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:km(r,n)}},rS=function(t){var r=t.children,n=t.defaultShowTooltip,a=qn(r,pc),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},Wue=function(t){return!t||!t.length?!1:t.some(function(r){var n=Fi(r&&r.type);return n&&n.indexOf("Bar")>=0})},nS=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Hue=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},m=qn(f,pc),v=qn(f,go),g=Object.keys(c).reduce(function(w,S){var O=c[S],P=O.orientation;return!O.mirror&&!O.hide?Ne(Ne({},w),{},rt({},P,w[P]+O.width)):w},{left:h.left||0,right:h.right||0}),x=Object.keys(o).reduce(function(w,S){var O=o[S],P=O.orientation;return!O.mirror&&!O.hide?Ne(Ne({},w),{},rt({},P,Hn(w,"".concat(P))+O.height)):w},{top:h.top||0,bottom:h.bottom||0}),b=Ne(Ne({},x),g),y=b.bottom;m&&(b.bottom+=m.props.height||pc.defaultProps.height),v&&r&&(b=dre(b,a,n,r));var N=u-b.left-b.right,_=d-b.top-b.bottom;return Ne(Ne({brushBottom:y},b),{},{width:Math.max(N,0),height:Math.max(_,0)})},Gue=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},nP=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(b,y){var N=y.graphicalItems,_=y.stackGroups,w=y.offset,S=y.updateId,O=y.dataStartIndex,P=y.dataEndIndex,T=b.barSize,F=b.layout,k=b.barGap,C=b.barCategoryGap,D=b.maxBarSize,M=nS(F),U=M.numericAxisName,W=M.cateAxisName,R=Wue(N),K=[];return N.forEach(function(Y,Z){var ae=bg(b.data,{graphicalItems:[Y],dataStartIndex:O,dataEndIndex:P}),$=Y.type.defaultProps!==void 0?Ne(Ne({},Y.type.defaultProps),Y.props):Y.props,H=$.dataKey,Q=$.maxBarSize,ne=$["".concat(U,"Id")],se=$["".concat(W,"Id")],he={},de=c.reduce(function(De,Me){var Ye=y["".concat(Me.axisType,"Map")],et=$["".concat(Me.axisType,"Id")];Ye&&Ye[et]||Me.axisType==="zAxis"||Mo();var st=Ye[et];return Ne(Ne({},De),{},rt(rt({},Me.axisType,st),"".concat(Me.axisType,"Ticks"),Ri(st)))},he),ie=de[W],xe=de["".concat(W,"Ticks")],be=_&&_[ne]&&_[ne].hasStack&&jre(Y,_[ne].stackGroups),me=Fi(Y.type).indexOf("Bar")>=0,Ee=km(ie,xe),$e=[],ye=R&&cre({barSize:T,stackGroups:_,totalSize:Gue(de,W)});if(me){var re,Ke,Be=pt(Q)?D:Q,ke=(re=(Ke=km(ie,xe,!0))!==null&&Ke!==void 0?Ke:Be)!==null&&re!==void 0?re:0;$e=ure({barGap:k,barCategoryGap:C,bandSize:ke!==Ee?ke:Ee,sizeList:ye[se],maxBarSize:Be}),ke!==Ee&&($e=$e.map(function(De){return Ne(Ne({},De),{},{position:Ne(Ne({},De.position),{},{offset:De.position.offset-ke/2})})}))}var Ce=Y&&Y.type&&Y.type.getComposedData;Ce&&K.push({props:Ne(Ne({},Ce(Ne(Ne({},de),{},{displayedData:ae,props:b,dataKey:H,item:Y,bandSize:Ee,barPosition:$e,offset:w,stackedData:be,layout:F,dataStartIndex:O,dataEndIndex:P}))),{},rt(rt(rt({key:Y.key||"item-".concat(Z)},U,de[U]),W,de[W]),"animationId",S)),childIndex:WV(Y,b.children),item:Y})}),K},m=function(b,y){var N=b.props,_=b.dataStartIndex,w=b.dataEndIndex,S=b.updateId;if(!Gw({props:N}))return null;var O=N.children,P=N.layout,T=N.stackOffset,F=N.data,k=N.reverseStackOrder,C=nS(P),D=C.numericAxisName,M=C.cateAxisName,U=la(O,n),W=xre(F,U,"".concat(D,"Id"),"".concat(M,"Id"),T,k),R=c.reduce(function($,H){var Q="".concat(H.axisType,"Map");return Ne(Ne({},$),{},rt({},Q,zue(N,Ne(Ne({},H),{},{graphicalItems:U,stackGroups:H.axisType===D&&W,dataStartIndex:_,dataEndIndex:w}))))},{}),K=Hue(Ne(Ne({},R),{},{props:N,graphicalItems:U}),y==null?void 0:y.legendBBox);Object.keys(R).forEach(function($){R[$]=d(N,R[$],K,$.replace("Map",""),r)});var Y=R["".concat(M,"Map")],Z=Uue(Y),ae=h(N,Ne(Ne({},R),{},{dataStartIndex:_,dataEndIndex:w,updateId:S,graphicalItems:U,stackGroups:W,offset:K}));return Ne(Ne({formattedGraphicalItems:ae,graphicalItems:U,offset:K,stackGroups:W},Z),R)},v=function(x){function b(y){var N,_,w;return _ue(this,b),w=Pue(this,b,[y]),rt(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),rt(w,"accessibilityManager",new due),rt(w,"handleLegendBBoxUpdate",function(S){if(S){var O=w.state,P=O.dataStartIndex,T=O.dataEndIndex,F=O.updateId;w.setState(Ne({legendBBox:S},m({props:w.props,dataStartIndex:P,dataEndIndex:T,updateId:F},Ne(Ne({},w.state),{},{legendBBox:S}))))}}),rt(w,"handleReceiveSyncEvent",function(S,O,P){if(w.props.syncId===S){if(P===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(O)}}),rt(w,"handleBrushChange",function(S){var O=S.startIndex,P=S.endIndex;if(O!==w.state.dataStartIndex||P!==w.state.dataEndIndex){var T=w.state.updateId;w.setState(function(){return Ne({dataStartIndex:O,dataEndIndex:P},m({props:w.props,dataStartIndex:O,dataEndIndex:P,updateId:T},w.state))}),w.triggerSyncEvent({dataStartIndex:O,dataEndIndex:P})}}),rt(w,"handleMouseEnter",function(S){var O=w.getMouseInfo(S);if(O){var P=Ne(Ne({},O),{},{isTooltipActive:!0});w.setState(P),w.triggerSyncEvent(P);var T=w.props.onMouseEnter;it(T)&&T(P,S)}}),rt(w,"triggeredAfterMouseMove",function(S){var O=w.getMouseInfo(S),P=O?Ne(Ne({},O),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(P),w.triggerSyncEvent(P);var T=w.props.onMouseMove;it(T)&&T(P,S)}),rt(w,"handleItemMouseEnter",function(S){w.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),rt(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),rt(w,"handleMouseMove",function(S){S.persist(),w.throttleTriggeredAfterMouseMove(S)}),rt(w,"handleMouseLeave",function(S){w.throttleTriggeredAfterMouseMove.cancel();var O={isTooltipActive:!1};w.setState(O),w.triggerSyncEvent(O);var P=w.props.onMouseLeave;it(P)&&P(O,S)}),rt(w,"handleOuterEvent",function(S){var O=UV(S),P=Hn(w.props,"".concat(O));if(O&&it(P)){var T,F;/.*touch.*/i.test(O)?F=w.getMouseInfo(S.changedTouches[0]):F=w.getMouseInfo(S),P((T=F)!==null&&T!==void 0?T:{},S)}}),rt(w,"handleClick",function(S){var O=w.getMouseInfo(S);if(O){var P=Ne(Ne({},O),{},{isTooltipActive:!0});w.setState(P),w.triggerSyncEvent(P);var T=w.props.onClick;it(T)&&T(P,S)}}),rt(w,"handleMouseDown",function(S){var O=w.props.onMouseDown;if(it(O)){var P=w.getMouseInfo(S);O(P,S)}}),rt(w,"handleMouseUp",function(S){var O=w.props.onMouseUp;if(it(O)){var P=w.getMouseInfo(S);O(P,S)}}),rt(w,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),rt(w,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.handleMouseDown(S.changedTouches[0])}),rt(w,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.handleMouseUp(S.changedTouches[0])}),rt(w,"handleDoubleClick",function(S){var O=w.props.onDoubleClick;if(it(O)){var P=w.getMouseInfo(S);O(P,S)}}),rt(w,"handleContextMenu",function(S){var O=w.props.onContextMenu;if(it(O)){var P=w.getMouseInfo(S);O(P,S)}}),rt(w,"triggerSyncEvent",function(S){w.props.syncId!==void 0&&Qv.emit(e0,w.props.syncId,S,w.eventEmitterSymbol)}),rt(w,"applySyncEvent",function(S){var O=w.props,P=O.layout,T=O.syncMethod,F=w.state.updateId,k=S.dataStartIndex,C=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)w.setState(Ne({dataStartIndex:k,dataEndIndex:C},m({props:w.props,dataStartIndex:k,dataEndIndex:C,updateId:F},w.state)));else if(S.activeTooltipIndex!==void 0){var D=S.chartX,M=S.chartY,U=S.activeTooltipIndex,W=w.state,R=W.offset,K=W.tooltipTicks;if(!R)return;if(typeof T=="function")U=T(K,S);else if(T==="value"){U=-1;for(var Y=0;Y<K.length;Y++)if(K[Y].value===S.activeLabel){U=Y;break}}var Z=Ne(Ne({},R),{},{x:R.left,y:R.top}),ae=Math.min(D,Z.x+Z.width),$=Math.min(M,Z.y+Z.height),H=K[U]&&K[U].value,Q=ib(w.state,w.props.data,U),ne=K[U]?{x:P==="horizontal"?K[U].coordinate:ae,y:P==="horizontal"?$:K[U].coordinate}:tP;w.setState(Ne(Ne({},S),{},{activeLabel:H,activeCoordinate:ne,activePayload:Q,activeTooltipIndex:U}))}else w.setState(S)}),rt(w,"renderCursor",function(S){var O,P=w.state,T=P.isTooltipActive,F=P.activeCoordinate,k=P.activePayload,C=P.offset,D=P.activeTooltipIndex,M=P.tooltipAxisBandSize,U=w.getTooltipEventType(),W=(O=S.props.active)!==null&&O!==void 0?O:T,R=w.props.layout,K=S.key||"_recharts-cursor";return z.createElement(yue,{key:K,activeCoordinate:F,activePayload:k,activeTooltipIndex:D,chartName:r,element:S,isActive:W,layout:R,offset:C,tooltipAxisBandSize:M,tooltipEventType:U})}),rt(w,"renderPolarAxis",function(S,O,P){var T=Hn(S,"type.axisType"),F=Hn(w.state,"".concat(T,"Map")),k=S.type.defaultProps,C=k!==void 0?Ne(Ne({},k),S.props):S.props,D=F&&F[C["".concat(T,"Id")]];return I.cloneElement(S,Ne(Ne({},D),{},{className:vt(T,D.className),key:S.key||"".concat(O,"-").concat(P),ticks:Ri(D,!0)}))}),rt(w,"renderPolarGrid",function(S){var O=S.props,P=O.radialLines,T=O.polarAngles,F=O.polarRadius,k=w.state,C=k.radiusAxisMap,D=k.angleAxisMap,M=ps(C),U=ps(D),W=U.cx,R=U.cy,K=U.innerRadius,Y=U.outerRadius;return I.cloneElement(S,{polarAngles:Array.isArray(T)?T:Ri(U,!0).map(function(Z){return Z.coordinate}),polarRadius:Array.isArray(F)?F:Ri(M,!0).map(function(Z){return Z.coordinate}),cx:W,cy:R,innerRadius:K,outerRadius:Y,key:S.key||"polar-grid",radialLines:P})}),rt(w,"renderLegend",function(){var S=w.state.formattedGraphicalItems,O=w.props,P=O.children,T=O.width,F=O.height,k=w.props.margin||{},C=T-(k.left||0)-(k.right||0),D=$3({children:P,formattedGraphicalItems:S,legendWidth:C,legendContent:u});if(!D)return null;var M=D.item,U=QN(D,bue);return I.cloneElement(M,Ne(Ne({},U),{},{chartWidth:T,chartHeight:F,margin:k,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),rt(w,"renderTooltip",function(){var S,O=w.props,P=O.children,T=O.accessibilityLayer,F=qn(P,Ca);if(!F)return null;var k=w.state,C=k.isTooltipActive,D=k.activeCoordinate,M=k.activePayload,U=k.activeLabel,W=k.offset,R=(S=F.props.active)!==null&&S!==void 0?S:C;return I.cloneElement(F,{viewBox:Ne(Ne({},W),{},{x:W.left,y:W.top}),active:R,label:U,payload:R?M:[],coordinate:D,accessibilityLayer:T})}),rt(w,"renderBrush",function(S){var O=w.props,P=O.margin,T=O.data,F=w.state,k=F.offset,C=F.dataStartIndex,D=F.dataEndIndex,M=F.updateId;return I.cloneElement(S,{key:S.key||"_recharts-brush",onChange:_h(w.handleBrushChange,S.props.onChange),data:T,x:Le(S.props.x)?S.props.x:k.left,y:Le(S.props.y)?S.props.y:k.top+k.height+k.brushBottom-(P.bottom||0),width:Le(S.props.width)?S.props.width:k.width,startIndex:C,endIndex:D,updateId:"brush-".concat(M)})}),rt(w,"renderReferenceElement",function(S,O,P){if(!S)return null;var T=w,F=T.clipPathId,k=w.state,C=k.xAxisMap,D=k.yAxisMap,M=k.offset,U=S.type.defaultProps||{},W=S.props,R=W.xAxisId,K=R===void 0?U.xAxisId:R,Y=W.yAxisId,Z=Y===void 0?U.yAxisId:Y;return I.cloneElement(S,{key:S.key||"".concat(O,"-").concat(P),xAxis:C[K],yAxis:D[Z],viewBox:{x:M.left,y:M.top,width:M.width,height:M.height},clipPathId:F})}),rt(w,"renderActivePoints",function(S){var O=S.item,P=S.activePoint,T=S.basePoint,F=S.childIndex,k=S.isRange,C=[],D=O.props.key,M=O.item.type.defaultProps!==void 0?Ne(Ne({},O.item.type.defaultProps),O.item.props):O.item.props,U=M.activeDot,W=M.dataKey,R=Ne(Ne({index:F,dataKey:W,cx:P.x,cy:P.y,r:4,fill:zx(O.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},Ze(U,!1)),sm(U));return C.push(b.renderActiveDot(U,R,"".concat(D,"-activePoint-").concat(F))),T?C.push(b.renderActiveDot(U,Ne(Ne({},R),{},{cx:T.x,cy:T.y}),"".concat(D,"-basePoint-").concat(F))):k&&C.push(null),C}),rt(w,"renderGraphicChild",function(S,O,P){var T=w.filterFormatItem(S,O,P);if(!T)return null;var F=w.getTooltipEventType(),k=w.state,C=k.isTooltipActive,D=k.tooltipAxis,M=k.activeTooltipIndex,U=k.activeLabel,W=w.props.children,R=qn(W,Ca),K=T.props,Y=K.points,Z=K.isRange,ae=K.baseLine,$=T.item.type.defaultProps!==void 0?Ne(Ne({},T.item.type.defaultProps),T.item.props):T.item.props,H=$.activeDot,Q=$.hide,ne=$.activeBar,se=$.activeShape,he=!!(!Q&&C&&R&&(H||ne||se)),de={};F!=="axis"&&R&&R.props.trigger==="click"?de={onClick:_h(w.handleItemMouseEnter,S.props.onClick)}:F!=="axis"&&(de={onMouseLeave:_h(w.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:_h(w.handleItemMouseEnter,S.props.onMouseEnter)});var ie=I.cloneElement(S,Ne(Ne({},T.props),de));function xe(Me){return typeof D.dataKey=="function"?D.dataKey(Me.payload):null}if(he)if(M>=0){var be,me;if(D.dataKey&&!D.allowDuplicatedCategory){var Ee=typeof D.dataKey=="function"?xe:"payload.".concat(D.dataKey.toString());be=im(Y,Ee,U),me=Z&&ae&&im(ae,Ee,U)}else be=Y==null?void 0:Y[M],me=Z&&ae&&ae[M];if(se||ne){var $e=S.props.activeIndex!==void 0?S.props.activeIndex:M;return[I.cloneElement(S,Ne(Ne(Ne({},T.props),de),{},{activeIndex:$e})),null,null]}if(!pt(be))return[ie].concat(_c(w.renderActivePoints({item:T,activePoint:be,basePoint:me,childIndex:M,isRange:Z})))}else{var ye,re=(ye=w.getItemByXY(w.state.activeCoordinate))!==null&&ye!==void 0?ye:{graphicalItem:ie},Ke=re.graphicalItem,Be=Ke.item,ke=Be===void 0?S:Be,Ce=Ke.childIndex,De=Ne(Ne(Ne({},T.props),de),{},{activeIndex:Ce});return[I.cloneElement(ke,De),null,null]}return Z?[ie,null,null]:[ie,null]}),rt(w,"renderCustomized",function(S,O,P){return I.cloneElement(S,Ne(Ne({key:"recharts-customized-".concat(P)},w.props),w.state))}),rt(w,"renderMap",{CartesianGrid:{handler:kh,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:kh},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:kh},YAxis:{handler:kh},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((N=y.id)!==null&&N!==void 0?N:Wc("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=M4(w.triggeredAfterMouseMove,(_=y.throttleDelay)!==null&&_!==void 0?_:1e3/60),w.state={},w}return Tue(b,x),Oue(b,[{key:"componentDidMount",value:function(){var N,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var N=this.props,_=N.children,w=N.data,S=N.height,O=N.layout,P=qn(_,Ca);if(P){var T=P.props.defaultIndex;if(!(typeof T!="number"||T<0||T>this.state.tooltipTicks.length-1)){var F=this.state.tooltipTicks[T]&&this.state.tooltipTicks[T].value,k=ib(this.state,w,T,F),C=this.state.tooltipTicks[T].coordinate,D=(this.state.offset.top+S)/2,M=O==="horizontal",U=M?{x:C,y:D}:{y:C,x:D},W=this.state.formattedGraphicalItems.find(function(K){var Y=K.item;return Y.type.name==="Scatter"});W&&(U=Ne(Ne({},U),W.props.points[T].tooltipPosition),k=W.props.points[T].tooltipPayload);var R={activeTooltipIndex:T,isTooltipActive:!0,activeLabel:F,activePayload:k,activeCoordinate:U};this.setState(R),this.renderCursor(P),this.accessibilityManager.setIndex(T)}}}},{key:"getSnapshotBeforeUpdate",value:function(N,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==N.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==N.margin){var w,S;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(N){B0([qn(N.children,Ca)],[qn(this.props.children,Ca)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var N=qn(this.props.children,Ca);if(N&&typeof N.props.shared=="boolean"){var _=N.props.shared?"axis":"item";return l.indexOf(_)>=0?_:i}return i}},{key:"getMouseInfo",value:function(N){if(!this.container)return null;var _=this.container,w=_.getBoundingClientRect(),S=FJ(w),O={chartX:Math.round(N.pageX-S.left),chartY:Math.round(N.pageY-S.top)},P=w.width/_.offsetWidth||1,T=this.inRange(O.chartX,O.chartY,P);if(!T)return null;var F=this.state,k=F.xAxisMap,C=F.yAxisMap,D=this.getTooltipEventType(),M=tS(this.state,this.props.data,this.props.layout,T);if(D!=="axis"&&k&&C){var U=ps(k).scale,W=ps(C).scale,R=U&&U.invert?U.invert(O.chartX):null,K=W&&W.invert?W.invert(O.chartY):null;return Ne(Ne({},O),{},{xValue:R,yValue:K},M)}return M?Ne(Ne({},O),M):null}},{key:"inRange",value:function(N,_){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,O=N/w,P=_/w;if(S==="horizontal"||S==="vertical"){var T=this.state.offset,F=O>=T.left&&O<=T.left+T.width&&P>=T.top&&P<=T.top+T.height;return F?{x:O,y:P}:null}var k=this.state,C=k.angleAxisMap,D=k.radiusAxisMap;if(C&&D){var M=ps(C);return Ej({x:O,y:P},M)}return null}},{key:"parseEventsOfWrapper",value:function(){var N=this.props.children,_=this.getTooltipEventType(),w=qn(N,Ca),S={};w&&_==="axis"&&(w.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var O=sm(this.props,this.handleOuterEvent);return Ne(Ne({},O),S)}},{key:"addListener",value:function(){Qv.on(e0,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Qv.removeListener(e0,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(N,_,w){for(var S=this.state.formattedGraphicalItems,O=0,P=S.length;O<P;O++){var T=S[O];if(T.item===N||T.props.key===N.key||_===Fi(T.item.type)&&w===T.childIndex)return T}return null}},{key:"renderClipPath",value:function(){var N=this.clipPathId,_=this.state.offset,w=_.left,S=_.top,O=_.height,P=_.width;return z.createElement("defs",null,z.createElement("clipPath",{id:N},z.createElement("rect",{x:w,y:S,height:O,width:P})))}},{key:"getXScales",value:function(){var N=this.state.xAxisMap;return N?Object.entries(N).reduce(function(_,w){var S=ZN(w,2),O=S[0],P=S[1];return Ne(Ne({},_),{},rt({},O,P.scale))},{}):null}},{key:"getYScales",value:function(){var N=this.state.yAxisMap;return N?Object.entries(N).reduce(function(_,w){var S=ZN(w,2),O=S[0],P=S[1];return Ne(Ne({},_),{},rt({},O,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(N){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[N])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(N){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[N])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(N){var _=this.state,w=_.formattedGraphicalItems,S=_.activeItem;if(w&&w.length)for(var O=0,P=w.length;O<P;O++){var T=w[O],F=T.props,k=T.item,C=k.type.defaultProps!==void 0?Ne(Ne({},k.type.defaultProps),k.props):k.props,D=Fi(k.type);if(D==="Bar"){var M=(F.data||[]).find(function(K){return uie(N,K)});if(M)return{graphicalItem:T,payload:M}}else if(D==="RadialBar"){var U=(F.data||[]).find(function(K){return Ej(N,K)});if(U)return{graphicalItem:T,payload:U}}else if(ug(T,S)||dg(T,S)||Kd(T,S)){var W=Rse({graphicalItem:T,activeTooltipItem:S,itemData:C.data}),R=C.activeIndex===void 0?W:C.activeIndex;return{graphicalItem:Ne(Ne({},T),{},{childIndex:R}),payload:Kd(T,S)?C.data[W]:T.props.data[W]}}}return null}},{key:"render",value:function(){var N=this;if(!Gw(this))return null;var _=this.props,w=_.children,S=_.className,O=_.width,P=_.height,T=_.style,F=_.compact,k=_.title,C=_.desc,D=QN(_,xue),M=Ze(D,!1);if(F)return z.createElement($N,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement(z0,Ll({},M,{width:O,height:P,title:k,desc:C}),this.renderClipPath(),Yw(w,this.renderMap)));if(this.props.accessibilityLayer){var U,W;M.tabIndex=(U=this.props.tabIndex)!==null&&U!==void 0?U:0,M.role=(W=this.props.role)!==null&&W!==void 0?W:"application",M.onKeyDown=function(K){N.accessibilityManager.keyboardEvent(K)},M.onFocus=function(){N.accessibilityManager.focus()}}var R=this.parseEventsOfWrapper();return z.createElement($N,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement("div",Ll({className:vt("recharts-wrapper",S),style:Ne({position:"relative",cursor:"default",width:O,height:P},T)},R,{ref:function(Y){N.container=Y}}),z.createElement(z0,Ll({},M,{width:O,height:P,title:k,desc:C,style:Iue}),this.renderClipPath(),Yw(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(I.Component);rt(v,"displayName",r),rt(v,"defaultProps",Ne({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),rt(v,"getDerivedStateFromProps",function(x,b){var y=x.dataKey,N=x.data,_=x.children,w=x.width,S=x.height,O=x.layout,P=x.stackOffset,T=x.margin,F=b.dataStartIndex,k=b.dataEndIndex;if(b.updateId===void 0){var C=rS(x);return Ne(Ne(Ne({},C),{},{updateId:0},m(Ne(Ne({props:x},C),{},{updateId:0}),b)),{},{prevDataKey:y,prevData:N,prevWidth:w,prevHeight:S,prevLayout:O,prevStackOffset:P,prevMargin:T,prevChildren:_})}if(y!==b.prevDataKey||N!==b.prevData||w!==b.prevWidth||S!==b.prevHeight||O!==b.prevLayout||P!==b.prevStackOffset||!Rl(T,b.prevMargin)){var D=rS(x),M={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},U=Ne(Ne({},tS(b,N,O)),{},{updateId:b.updateId+1}),W=Ne(Ne(Ne({},D),M),U);return Ne(Ne(Ne({},W),m(Ne({props:x},W),b)),{},{prevDataKey:y,prevData:N,prevWidth:w,prevHeight:S,prevLayout:O,prevStackOffset:P,prevMargin:T,prevChildren:_})}if(!B0(_,b.prevChildren)){var R,K,Y,Z,ae=qn(_,pc),$=ae&&(R=(K=ae.props)===null||K===void 0?void 0:K.startIndex)!==null&&R!==void 0?R:F,H=ae&&(Y=(Z=ae.props)===null||Z===void 0?void 0:Z.endIndex)!==null&&Y!==void 0?Y:k,Q=$!==F||H!==k,ne=!pt(N),se=ne&&!Q?b.updateId:b.updateId+1;return Ne(Ne({updateId:se},m(Ne(Ne({props:x},b),{},{updateId:se,dataStartIndex:$,dataEndIndex:H}),b)),{},{prevChildren:_,dataStartIndex:$,dataEndIndex:H})}return null}),rt(v,"renderActiveDot",function(x,b,y){var N;return I.isValidElement(x)?N=I.cloneElement(x,b):it(x)?N=x(b):N=z.createElement(ig,b),z.createElement(_t,{className:"recharts-active-dot",key:y},N)});var g=I.forwardRef(function(b,y){return z.createElement(v,Ll({},b,{ref:y}))});return g.displayName=v.displayName,g},Vue=nP({chartName:"PieChart",GraphicalChild:Yi,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:cg},{axisType:"radiusAxis",AxisComp:og}],formatAxisMap:Cre,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),Yue=nP({chartName:"AreaChart",GraphicalChild:Ls,axisComponents:[{axisType:"xAxis",AxisComp:vg},{axisType:"yAxis",AxisComp:yg}],formatAxisMap:Yoe});const aS=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8"];function aP(){const{id:e}=As(),{profile:t,loading:r}=Os(),n=t==null?void 0:t.org_id,[a,i]=I.useState(!0),[o,l]=I.useState(null),[c,u]=I.useState("overview"),[d,f]=I.useState("6m"),[h,m]=I.useState({total_donations:0,total_donors:0,average_donation:0,progress:0,top_donor:null,monetary_donations:0,time_donations:0,supply_donations:0,donor_retention_rate:0,recurring_donors:0,campaign_efficiency:0,volunteer_hours:0,supply_value:0,monthly_trends:[],donor_demographics:[],campaign_performance:[],volunteer_metrics:[],supply_categories:[],donors:[],top_donors:[],recurring_donor_list:[],donor_retention:[]}),[v,g]=I.useState({type:"monetary",amount:"",description:"",date:Pp(new Date,"yyyy-MM-dd"),donor_name:"",donor_email:"",donor_phone:"",is_recurring:!1,frequency:"monthly",category:"",payment_method:"credit_card"});I.useEffect(()=>{if(!r){if(!e&&!n){l("No fundraiser or organization context found."),i(!1);return}b()}},[e,d,n,r]);const x=N=>({...h,...N,monthly_trends:Array.isArray(N==null?void 0:N.monthly_trends)?N.monthly_trends:[],donor_demographics:Array.isArray(N==null?void 0:N.donor_demographics)?N.donor_demographics:[],campaign_performance:Array.isArray(N==null?void 0:N.campaign_performance)?N.campaign_performance:[],volunteer_metrics:Array.isArray(N==null?void 0:N.volunteer_metrics)?N.volunteer_metrics:[],supply_categories:Array.isArray(N==null?void 0:N.supply_categories)?N.supply_categories:[],donors:Array.isArray(N==null?void 0:N.donors)?N.donors:[],top_donors:Array.isArray(N==null?void 0:N.top_donors)?N.top_donors:[],recurring_donor_list:Array.isArray(N==null?void 0:N.recurring_donor_list)?N.recurring_donor_list:[],donor_retention:Array.isArray(N==null?void 0:N.donor_retention)?N.donor_retention:[]}),b=async()=>{var N,_,w,S,O,P,T,F,k,C,D,M,U;try{i(!0);const[W,R,K,Y]=await Promise.all([Da.getAnalyticsOverview({dateRange:d}),Da.getAnalyticsTrends({dateRange:d}),Da.getAnalyticsDonorRetention({dateRange:d}),Da.getAnalyticsCampaigns({dateRange:d})]);console.log("Analytics API responses:",{overview:W,trends:R,retention:K,campaigns:Y});const Z={total_donations:((_=(N=W==null?void 0:W.data)==null?void 0:N.data)==null?void 0:_.total_donations)||0,total_donors:((S=(w=W==null?void 0:W.data)==null?void 0:w.data)==null?void 0:S.total_donors)||0,volunteer_hours:((P=(O=W==null?void 0:W.data)==null?void 0:O.data)==null?void 0:P.total_volunteer_hours)||0,supply_value:((F=(T=W==null?void 0:W.data)==null?void 0:T.data)==null?void 0:F.total_supply_value)||0,active_campaigns:((C=(k=W==null?void 0:W.data)==null?void 0:k.data)==null?void 0:C.active_campaigns)||0,monthly_trends:((D=R==null?void 0:R.data)==null?void 0:D.data)||[],donor_retention:((M=K==null?void 0:K.data)==null?void 0:M.data)||[],campaign_performance:((U=Y==null?void 0:Y.data)==null?void 0:U.data)||[]};m(x(Z)),l(null)}catch(W){const R="Failed to fetch fundraiser analytics";l(R),Ra(W,R),console.error("Analytics fetch error:",W)}finally{i(!1)}},y=N=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(N);return o?s.jsx("div",{className:"text-red-500 text-center mt-8",children:o}):a?s.jsx("div",{className:"text-center py-12",children:"Loading analytics..."}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx(yt,{children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:s.jsx(Un,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Donations"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:y(h.total_donations)})]})]})}),s.jsx(yt,{children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:s.jsx(ca,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Donors"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:h.total_donors})]})]})}),s.jsx(yt,{children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"p-3 bg-purple-100 rounded-full",children:s.jsx(Ia,{className:"h-6 w-6 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Volunteer Hours"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:h.volunteer_hours})]})]})}),s.jsx(yt,{children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"p-3 bg-yellow-100 rounded-full",children:s.jsx(e6,{className:"h-6 w-6 text-yellow-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Supply Value"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:y(h.supply_value)})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(yt,{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Donation Trends"}),s.jsx("div",{className:"h-80",children:s.jsx(v5,{width:"100%",height:"100%",children:s.jsxs(Yue,{data:h.monthly_trends,children:[s.jsx(RO,{strokeDasharray:"3 3"}),s.jsx(vg,{dataKey:"date"}),s.jsx(yg,{}),s.jsx(Ca,{formatter:N=>y(N)}),s.jsx(Ls,{type:"monotone",dataKey:"amount",stroke:"#2563eb",fill:"#93c5fd"})]})})})]}),s.jsxs(yt,{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Donation Types"}),s.jsx("div",{className:"h-80",children:s.jsx(v5,{width:"100%",height:"100%",children:s.jsxs(Vue,{children:[s.jsx(Yi,{data:h.supply_categories,dataKey:"value",nameKey:"category",cx:"50%",cy:"50%",outerRadius:80,fill:"#2563eb",label:!0,children:h.supply_categories.map((N,_)=>s.jsx(Vp,{fill:aS[_%aS.length]},`cell-${_}`))}),s.jsx(Ca,{}),s.jsx(go,{})]})})})]})]})]})}function Kue(){const{id:e}=As(),[t,r]=I.useState(!0),[n,a]=I.useState(null),[i,o]=I.useState(null),[l,c]=I.useState(!1);I.useEffect(()=>{if(!e){a("No fundraiser selected. Please select a fundraiser to share."),r(!1);return}u()},[e]);const u=async()=>{if(e)try{r(!0);const{data:h,error:m}=await Da.getFundraiser(e);if(m)throw new Error(m);o(h),a(null)}catch(h){const m="Failed to fetch fundraiser details";a(m),Ra(h,m)}finally{r(!1)}},d=async h=>{const m=`${window.location.origin}/fundraisers/${e}`,v=`Support ${i.title} - ${i.description}`;try{switch(h){case"facebook":window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(m)}`,"_blank");break;case"twitter":window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(v)}&url=${encodeURIComponent(m)}`,"_blank");break;case"linkedin":window.open(`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(m)}`,"_blank");break;default:break}bo("Shared successfully")}catch(g){Ra(g,"Failed to share")}},f=async()=>{const h=`${window.location.origin}/fundraisers/${e}`;try{await navigator.clipboard.writeText(h),c(!0),bo("Link copied to clipboard"),setTimeout(()=>c(!1),2e3)}catch(m){Ra(m,"Failed to copy link")}};return n?s.jsx("div",{className:"text-red-500 text-center mt-8",children:n}):i?s.jsx(ox,{title:"Share Fundraiser",loading:t,error:n,children:s.jsx("div",{className:"max-w-2xl mx-auto space-y-6",children:s.jsx(yt,{title:i.title,description:i.description,children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[s.jsxs(Je,{onClick:()=>d("facebook"),className:"flex items-center space-x-2",children:[s.jsx(t6,{className:"h-5 w-5"}),s.jsx("span",{children:"Share on Facebook"})]}),s.jsxs(Je,{onClick:()=>d("twitter"),className:"flex items-center space-x-2",children:[s.jsx(r6,{className:"h-5 w-5"}),s.jsx("span",{children:"Share on Twitter"})]}),s.jsxs(Je,{onClick:()=>d("linkedin"),className:"flex items-center space-x-2",children:[s.jsx(n6,{className:"h-5 w-5"}),s.jsx("span",{children:"Share on LinkedIn"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"flex-1 p-2 bg-gray-50 rounded-lg border border-gray-200 text-sm text-gray-600 truncate",children:`${window.location.origin}/fundraisers/${e}`}),s.jsx(Je,{onClick:f,variant:"outline",className:"flex items-center space-x-2",children:l?s.jsxs(s.Fragment,{children:[s.jsx(a6,{className:"h-5 w-5 text-green-500"}),s.jsx("span",{children:"Copied!"})]}):s.jsxs(s.Fragment,{children:[s.jsx(vS,{className:"h-5 w-5"}),s.jsx("span",{children:"Copy"})]})})]})]})})})}):null}function Xue(){const e=ir(),[t,r]=I.useState(!0),[n,a]=I.useState(null),[i,o]=I.useState({donors:[],top_donors:[],recurring_donor_list:[],donor_retention:[]});I.useEffect(()=>{l()},[]);const l=async()=>{var d;try{r(!0);const f=await Da.getAnalyticsDonorRetention();console.log("Donor retention response:",f);const h=(d=f==null?void 0:f.data)==null?void 0:d.data;let m=[];Array.isArray(h)?m=h:h&&typeof h=="object"&&(m=h.donors||h.retention||[]),Array.isArray(m)||(m=[]),console.log("Processed donor data:",m),o({donors:m,top_donors:m.slice(0,10),recurring_donor_list:m.filter(v=>v.months_active>1),donor_retention:m}),a(null)}catch(f){a("Failed to fetch donor analytics"),console.error("Donor analytics fetch error:",f)}finally{r(!1)}},c=d=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(d),u=d=>Pp(new Date(d),"MMM d, yyyy");return n?s.jsx("div",{className:"text-red-500 text-center mt-8",children:n}):t?s.jsx("div",{className:"text-center py-12",children:"Loading donors..."}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Donor Analytics"}),s.jsx(Je,{variant:"outline",onClick:()=>e("/fundraisers/record-donation"),children:"Add Donation"})]}),s.jsxs(yt,{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Donor List"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Email"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Total Donated"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Last Donation"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Recurring"})]})}),s.jsx("tbody",{children:i.donors&&i.donors.length>0?i.donors.map((d,f)=>s.jsxs("tr",{className:"bg-white even:bg-gray-50",children:[s.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:(d==null?void 0:d.donor_email)||`Donor ${f+1}`}),s.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:(d==null?void 0:d.donor_email)||"N/A"}),s.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:c((d==null?void 0:d.total_donated)||0)}),s.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:d!=null&&d.last_donation?u(d.last_donation):"N/A"}),s.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:((d==null?void 0:d.months_active)||0)>1?"Yes":"No"})]},f)):s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"text-center py-4 text-gray-500",children:"No donors found."})})})]})})]}),s.jsxs(yt,{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Top Donors"}),s.jsx("ul",{className:"divide-y divide-gray-200",children:i.top_donors&&i.top_donors.length>0?i.top_donors.map((d,f)=>s.jsxs("li",{className:"py-2 flex justify-between",children:[s.jsx("span",{children:(d==null?void 0:d.donor_email)||`Donor ${f+1}`}),s.jsx("span",{className:"font-semibold",children:c((d==null?void 0:d.total_donated)||0)})]},f)):s.jsx("li",{className:"text-center py-4 text-gray-500",children:"No top donors found."})})]}),s.jsxs(yt,{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recurring Donors"}),s.jsx("ul",{className:"divide-y divide-gray-200",children:i.recurring_donor_list&&i.recurring_donor_list.length>0?i.recurring_donor_list.map((d,f)=>s.jsxs("li",{className:"py-2 flex justify-between",children:[s.jsx("span",{children:(d==null?void 0:d.donor_email)||`Donor ${f+1}`}),s.jsx("span",{className:"font-semibold",children:c((d==null?void 0:d.total_donated)||0)})]},f)):s.jsx("li",{className:"text-center py-4 text-gray-500",children:"No recurring donors found."})})]}),s.jsxs(yt,{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Donor Retention"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Donor"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Months Active"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"First Donation"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Last Donation"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Total Donated"})]})}),s.jsx("tbody",{children:i.donor_retention&&i.donor_retention.length>0?i.donor_retention.map((d,f)=>s.jsxs("tr",{className:"bg-white even:bg-gray-50",children:[s.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:(d==null?void 0:d.donor_email)||`Donor ${f+1}`}),s.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:(d==null?void 0:d.months_active)||0}),s.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:d!=null&&d.first_donation?u(d.first_donation):"N/A"}),s.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:d!=null&&d.last_donation?u(d.last_donation):"N/A"}),s.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:c((d==null?void 0:d.total_donated)||0)})]},f)):s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"text-center py-4 text-gray-500",children:"No donor retention data found."})})})]})})]})]})}const iS=[{value:"monetary",label:"Monetary Donations"},{value:"volunteer",label:"Volunteer Hours"},{value:"supplies",label:"Supply Donations"},{value:"top_donors",label:"Top Donors"},{value:"recurring",label:"Recurring Donors"},{value:"retention",label:"Donor Retention"},{value:"campaign",label:"Campaign Performance"},{value:"year_over_year",label:"Year-over-Year Comparison"}];function Jue(){var m;const[e,t]=I.useState("monetary"),[r,n]=I.useState("6m"),[a,i]=I.useState(!1),[o,l]=I.useState([]),[c,u]=I.useState(null),d=()=>{i(!0),setTimeout(()=>{l([{name:"John Smith",value:1500,date:"2024-01-15"},{name:"Sarah Johnson",value:2500,date:"2024-03-01"},{name:"Mike Brown",value:500,date:"2024-02-01"}]),i(!1),u(null)},1e3)},f=()=>{alert("PDF export coming soon!")},h=()=>{alert("XLSX export coming soon!")};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[s.jsx("select",{className:"px-4 py-2 h-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:e,onChange:v=>t(v.target.value),children:iS.map(v=>s.jsx("option",{value:v.value,children:v.label},v.value))}),s.jsxs("select",{className:"px-4 py-2 h-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:r,onChange:v=>n(v.target.value),children:[s.jsx("option",{value:"6m",children:"Last 6 Months"}),s.jsx("option",{value:"1y",children:"Last Year"}),s.jsx("option",{value:"all",children:"All Time"})]}),s.jsx(Je,{variant:"outline",onClick:d,disabled:a,children:"Generate Report"})]}),s.jsxs(yt,{children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:[(m=iS.find(v=>v.value===e))==null?void 0:m.label," Report"]}),s.jsxs("div",{className:"space-x-2",children:[s.jsx(Je,{variant:"outline",onClick:f,children:"Export as PDF"}),s.jsx(Je,{variant:"outline",onClick:h,children:"Export as XLSX"})]})]}),c&&s.jsx("div",{className:"text-red-500 mb-4",children:c}),a?s.jsx("div",{className:"text-center py-12",children:"Generating report..."}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Value"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"})]})}),s.jsx("tbody",{children:o.length>0?o.map((v,g)=>s.jsxs("tr",{className:"bg-white even:bg-gray-50",children:[s.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:v.name}),s.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:v.value}),s.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:v.date})]},g)):s.jsx("tr",{children:s.jsx("td",{colSpan:3,className:"text-center py-4 text-gray-500",children:"No data to display."})})})]})})]})]})}function iP({fundraiserId:e,onCancel:t,onSave:r,embedded:n=!1}){const a=ir(),{id:i}=As(),o=e||i,[l,c]=I.useState(!0),[u,d]=I.useState(null),[f,h]=I.useState({title:"",description:"",goal_amount:"",category_id:"",start_date:"",end_date:"",status:"draft",visibility:"organization"}),m=[{value:"draft",label:"Draft"},{value:"active",label:"Active"},{value:"paused",label:"Paused"},{value:"completed",label:"Completed"}],v=[{value:"public",label:"Public"},{value:"private",label:"Private"},{value:"organization",label:"Organization Only"}];I.useEffect(()=>{o?g():c(!1)},[o]);const g=async()=>{var N;if(o)try{c(!0);const _=await Da.getFundraiser(o);console.log("Raw API response:",_);const w=((N=_.data)==null?void 0:N.data)||_.data||_;if(console.log("Extracted fundraiser data:",w),console.log("Fundraiser data keys:",w?Object.keys(w):"no data"),_.error)throw new Error(_.error);if(!w)throw new Error("No fundraiser found with this ID.");const S={title:w.title||"",description:w.description||"",goal_amount:w.goal_amount||w.goal||"",category_id:w.category_id||w.category||"",start_date:w.start_date?w.start_date.split("T")[0]:"",end_date:w.end_date?w.end_date.split("T")[0]:"",status:w.status||"draft",visibility:w.visibility||"organization"};console.log("Individual field values:"),console.log("fundraiserData.title:",w.title),console.log("fundraiserData.goal:",w.goal),console.log("fundraiserData.start_date:",w.start_date),console.log("Transformed data for form:",S),h(S),d(null)}catch(_){const w="Failed to fetch fundraiser details";d(_.message||w),Ra(_,w)}finally{c(!1)}},x=async N=>{N.preventDefault();try{c(!0);const _={title:f.title,description:f.description,goal_amount:f.goal_amount,start_date:f.start_date,end_date:f.end_date,status:f.status,visibility:f.visibility,category:f.category_id};if(o){const{error:w}=await Da.updateFundraiser(o,_);if(w)throw new Error(w);bo("Fundraiser updated successfully"),n&&r?r():a("/fundraisers")}else{const{error:w}=await Da.createFundraiser(_);if(w)throw new Error(w);bo("Fundraiser created successfully"),n&&r?r():a("/fundraisers")}}catch(_){Ra(_,o?"Failed to update fundraiser":"Failed to create fundraiser")}finally{c(!1)}},b=N=>{const{name:_,value:w}=N.target;h(S=>({...S,[_]:w}))};if(l)return s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("span",{className:"text-blue-600 text-lg",children:"Loading fundraiser details..."})});if(u)return s.jsx("div",{className:"text-red-500 text-center mt-8",children:u});if(!o&&(window.location.pathname.includes("edit")||n))return s.jsx("div",{className:"text-red-500 text-center mt-8",children:"No fundraiser selected. Please select a fundraiser to edit."});const y=s.jsxs("form",{onSubmit:x,className:"max-w-2xl mx-auto space-y-6",children:[s.jsx(Kt,{label:"Title",id:"title",name:"title",value:f.title,onChange:b,required:!0}),s.jsx(Kt,{label:"Description",id:"description",name:"description",value:f.description,onChange:b,required:!0,as:"textarea",rows:4}),s.jsx(Kt,{label:"Goal Amount",id:"goal_amount",name:"goal_amount",type:"number",value:f.goal_amount,onChange:b,required:!0,min:"0",step:"0.01"}),s.jsx(Kt,{label:"Category",id:"category_id",name:"category_id",value:f.category_id,onChange:b}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(Kt,{label:"Start Date",id:"start_date",name:"start_date",type:"date",value:f.start_date,onChange:b,required:!0}),s.jsx(Kt,{label:"End Date",id:"end_date",name:"end_date",type:"date",value:f.end_date,onChange:b,required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(Tr,{label:"Status",id:"status",name:"status",value:f.status,onChange:b,required:!0,options:m}),s.jsx(Tr,{label:"Visibility",id:"visibility",name:"visibility",value:f.visibility,onChange:b,required:!0,options:v})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx(Je,{type:"button",variant:"outline",onClick:n&&t?t:()=>a("/fundraisers"),children:"Cancel"}),s.jsxs(Je,{type:"submit",isLoading:l,children:[o?"Update":"Create"," Fundraiser"]})]})]});return n?y:s.jsx(ox,{title:o?"Edit Fundraiser":"Create Fundraiser",loading:l,error:u,children:y})}function Zue(){const e=ir(),[t,r]=I.useState(!0),[n,a]=I.useState(null),[i,o]=I.useState([]),[l,c]=I.useState(""),[u,d]=I.useState("all"),[f,h]=I.useState(null),[m,v]=I.useState("fundraisers"),[g,x]=I.useState(null);I.useEffect(()=>{b();const T=sessionStorage.getItem("editFundraiserId");T&&(x(T),sessionStorage.removeItem("editFundraiserId"))},[]);const b=async()=>{try{r(!0);const{data:T,error:F}=await Da.getFundraisers();if(F)throw new Error(F);o((T==null?void 0:T.data)||[]),a(null)}catch(T){const F="Failed to fetch fundraisers";a(F),Ra(T,F)}finally{r(!1)}},y=async T=>{if(window.confirm("Are you sure you want to delete this fundraiser?"))try{r(!0);const{error:F}=await Da.deleteFundraiser(T);if(F)throw new Error(F);bo("Fundraiser deleted successfully"),b()}catch(F){Ra(F,"Failed to delete fundraiser")}finally{r(!1)}},N=T=>new Date(T).toLocaleDateString(),_=T=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(T),w=T=>{x(T)},S=()=>{x(null)},O=()=>{x(null),b()},P=i.filter(T=>{const F=T.title.toLowerCase().includes(l.toLowerCase())||T.description.toLowerCase().includes(l.toLowerCase()),k=u==="all"||T.status===u;return F&&k});return s.jsxs(ox,{title:"Fundraiser Manager",loading:t,error:n,children:[s.jsx("div",{className:"border-b border-gray-200 mb-6",children:s.jsxs("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:[s.jsx("button",{className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${m==="fundraisers"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>v("fundraisers"),children:"Active Fundraisers"}),s.jsx("button",{className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${m==="analytics"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>v("analytics"),children:"Analytics"}),s.jsx("button",{className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${m==="donors"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>v("donors"),children:"Donors"}),s.jsx("button",{className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${m==="reports"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>v("reports"),children:"Reports"}),s.jsx("button",{className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${m==="share"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>v("share"),children:"Share"})]})}),m==="fundraisers"&&!g&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Active Fundraisers"}),s.jsx(Je,{variant:"outline",onClick:()=>e("/fundraisers/create"),children:"Create New Fundraiser"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:P.map(T=>s.jsx(yt,{title:T.title,description:T.description,children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-500",children:"Goal:"}),s.jsx("span",{className:"font-medium",children:_(T.goal_amount)})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-500",children:"Status:"}),s.jsx("span",{className:`font-medium ${T.status==="active"?"text-green-600":T.status==="completed"?"text-blue-600":"text-gray-600"}`,children:T.status.charAt(0).toUpperCase()+T.status.slice(1)})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-500",children:"Dates:"}),s.jsxs("span",{className:"font-medium",children:[N(T.start_date)," - ",N(T.end_date)]})]}),s.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[s.jsx(Je,{variant:"outline",onClick:()=>w(T.id),children:"Edit"}),s.jsx(Je,{variant:"danger",onClick:()=>y(T.id),children:"Delete"})]})]})},T.id))}),P.length===0&&!t&&s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500",children:"No fundraisers found"})})]}),m==="fundraisers"&&g&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Edit Fundraiser"}),s.jsx(Je,{variant:"outline",onClick:S,children:"← Back to Fundraisers"})]}),s.jsx(iP,{fundraiserId:g,onCancel:S,onSave:O,embedded:!0})]}),m==="analytics"&&s.jsx("div",{className:"mt-8",children:s.jsx(aP,{})}),m==="donors"&&s.jsx("div",{className:"mt-8",children:s.jsx(Xue,{})}),m==="reports"&&s.jsx("div",{className:"mt-8",children:s.jsx(Jue,{})}),m==="share"&&s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{htmlFor:"fundraiser-select",className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Fundraiser to Share"}),s.jsxs("select",{id:"fundraiser-select",className:"block w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-base",value:f?f.id:"",onChange:T=>{const F=i.find(k=>k.id===T.target.value);h(F||null)},children:[s.jsx("option",{value:"",children:"-- Select a Fundraiser --"}),i.map(T=>s.jsx("option",{value:T.id,children:T.title},T.id))]})]}),m==="share"&&s.jsx(Kue,{fundraiserId:f?f.id:null})]})}function Que(){const{id:e}=As(),t=ir();return I.useEffect(()=>{e?(sessionStorage.setItem("editFundraiserId",e),t("/fundraisers",{replace:!0})):t("/fundraisers",{replace:!0})},[e,t]),s.jsx("div",{className:"flex justify-center items-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Redirecting to fundraiser editor..."})]})})}function ede(){const[e,t]=I.useState([]),[r,n]=I.useState("");I.useEffect(()=>{async function l(){const{data:{session:c}}=await He.auth.getSession();if(!(c!=null&&c.access_token)){n("Authentication required.");return}try{const u=await fetch("/api/budgets",{headers:{Authorization:`Bearer ${c.access_token}`}}),d=await u.json();u.ok?t(d):n(d.error||"Failed to load transactions.")}catch(u){console.error("Budget fetch error:",u),n("Error connecting to the server.")}}l()},[]);const a=e.filter(l=>l.type==="income").reduce((l,c)=>l+parseFloat(c.amount||0),0),i=e.filter(l=>l.type==="expense").reduce((l,c)=>l+parseFloat(c.amount||0),0),o=a-i;return s.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"PTO Budget Overview"}),s.jsx(Ac,{to:"/budget/create",className:"bg-blue-600 text-white px-4 py-2 rounded",children:"+ Add Entry"})]}),s.jsxs("div",{className:"mb-6 p-4 border rounded bg-gray-100",children:[s.jsxs("p",{className:"text-lg font-semibold",children:["Current Balance: $",o.toFixed(2)]}),s.jsxs("p",{className:"text-sm text-green-700",children:["Total Income: $",a.toFixed(2)]}),s.jsxs("p",{className:"text-sm text-red-700",children:["Total Expenses: $",i.toFixed(2)]})]}),r&&s.jsx("p",{className:"text-red-600",children:r}),e.length===0&&!r&&s.jsx("p",{children:"No budget entries found."}),s.jsx("ul",{className:"space-y-4",children:e.map(l=>s.jsxs("li",{className:"border p-4 rounded shadow-sm bg-white",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("h2",{className:"text-lg font-semibold",children:l.label}),s.jsxs("span",{className:l.type==="income"?"text-green-600":"text-red-600",children:[l.type==="income"?"+":"-","$",parseFloat(l.amount).toFixed(2)]})]}),s.jsx("p",{className:"text-sm text-gray-500",children:l.category||"Uncategorized"}),l.related_event_id&&s.jsxs("p",{className:"text-sm text-blue-700 mt-1",children:["Event ID: ",l.related_event_id]})]},l.id))})]})}const tde=()=>{const e=ir(),[t,r]=I.useState("overview"),[n,a]=I.useState("manual"),[i,o]=I.useState("current"),l={totalBudget:45e3,totalSpent:28500,totalRemaining:16500,projectedIncome:52e3,categories:[{id:1,name:"Events & Programs",budgeted:15e3,spent:8500,remaining:6500,percentage:57,trend:"up",createdBy:"stella",subcategories:[{name:"Fall Festival",budgeted:5e3,spent:3200},{name:"Science Night",budgeted:3e3,spent:1800},{name:"Book Fair",budgeted:4e3,spent:2500},{name:"Art Show",budgeted:3e3,spent:1e3}]},{id:2,name:"Educational Support",budgeted:12e3,spent:7200,remaining:4800,percentage:60,trend:"stable",createdBy:"manual",subcategories:[{name:"Classroom Supplies",budgeted:6e3,spent:4200},{name:"Technology",budgeted:4e3,spent:2e3},{name:"Library Books",budgeted:2e3,spent:1e3}]},{id:3,name:"Communications",budgeted:3e3,spent:1800,remaining:1200,percentage:60,trend:"down",createdBy:"stella",subcategories:[{name:"Website & Digital",budgeted:1500,spent:800},{name:"Print Materials",budgeted:1e3,spent:700},{name:"Social Media",budgeted:500,spent:300}]},{id:4,name:"Administrative",budgeted:5e3,spent:3200,remaining:1800,percentage:64,trend:"up",createdBy:"manual",subcategories:[{name:"Insurance",budgeted:2e3,spent:2e3},{name:"Banking & Fees",budgeted:1e3,spent:600},{name:"Office Supplies",budgeted:2e3,spent:600}]}],recentTransactions:[{id:1,date:"2024-10-15",description:"Fall Festival Decorations",category:"Events & Programs",amount:-450,type:"expense",createdBy:"stella"},{id:2,date:"2024-10-14",description:"Book Fair Revenue",category:"Events & Programs",amount:2800,type:"income",createdBy:"manual"},{id:3,date:"2024-10-12",description:"Classroom Technology",category:"Educational Support",amount:-1200,type:"expense",createdBy:"manual"}]},c=()=>{e("/budget/create")},u=()=>{e("/communications/ai?context=budget&mode=assisted")},d=()=>{e("/ai-workflow-orchestrator?context=budget&mode=automated")},f=w=>{e(`/budget/create?category=${w}&mode=view`)},h=w=>{e(`/budget/create?category=${w}&mode=edit`)},m=w=>{e(`/budget/create?category=${w}&mode=optimize`)},v=()=>{e("/budget/create?mode=reallocation")},g=()=>s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Un,{className:"w-6 h-6 text-blue-600"}),s.jsx("h3",{className:"font-semibold text-gray-900",children:"Total Budget"})]})}),s.jsxs("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:["$",l.totalBudget.toLocaleString()]}),s.jsx("div",{className:"text-sm text-gray-600",children:"For current fiscal year"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(i6,{className:"w-6 h-6 text-red-600"}),s.jsx("h3",{className:"font-semibold text-gray-900",children:"Total Spent"})]})}),s.jsxs("div",{className:"text-3xl font-bold text-red-600 mb-2",children:["$",l.totalSpent.toLocaleString()]}),s.jsxs("div",{className:"text-sm text-gray-600",children:[Math.round(l.totalSpent/l.totalBudget*100),"% of budget used"]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(yS,{className:"w-6 h-6 text-green-600"}),s.jsx("h3",{className:"font-semibold text-gray-900",children:"Remaining"})]})}),s.jsxs("div",{className:"text-3xl font-bold text-green-600 mb-2",children:["$",l.totalRemaining.toLocaleString()]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Available for spending"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(lb,{className:"w-6 h-6 text-purple-600"}),s.jsx("h3",{className:"font-semibold text-gray-900",children:"Projected Income"})]})}),s.jsxs("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:["$",l.projectedIncome.toLocaleString()]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Expected total revenue"})]})]}),x=()=>s.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg p-6 mb-8",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx(_r,{className:"w-6 h-6 text-purple-600"}),s.jsx("h3",{className:"text-lg font-semibold text-purple-900",children:"Stella's Budget Insights"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[s.jsxs("div",{className:"bg-white rounded-lg p-4",children:[s.jsx("div",{className:"text-sm text-purple-600 mb-1",children:"Budget Health"}),s.jsx("div",{className:"text-lg font-semibold text-green-700",children:"Excellent"}),s.jsx("div",{className:"text-xs text-purple-700",children:"On track for surplus"})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4",children:[s.jsx("div",{className:"text-sm text-purple-600 mb-1",children:"Biggest Opportunity"}),s.jsx("div",{className:"text-lg font-semibold text-purple-900",children:"Fall Festival"}),s.jsx("div",{className:"text-xs text-purple-700",children:"Could generate $2K more"})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4",children:[s.jsx("div",{className:"text-sm text-purple-600 mb-1",children:"Cost Savings"}),s.jsx("div",{className:"text-lg font-semibold text-purple-900",children:"$1,200 Found"}),s.jsx("div",{className:"text-xs text-purple-700",children:"In administrative costs"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4",children:[s.jsx("div",{className:"text-sm text-purple-900 font-medium mb-2",children:"💡 Stella's Recommendation"}),s.jsx("div",{className:"text-sm text-purple-800",children:'"Your Events & Programs category is performing well! Consider reallocating $1,000 from Administrative to Educational Support to maximize impact on students. I can create a reallocation plan for you."'}),s.jsx("button",{onClick:v,className:"mt-3 px-4 py-2 bg-purple-600 text-white rounded-lg text-sm hover:bg-purple-700 transition-colors",children:"Let Stella Create Reallocation Plan"})]})]}),b=()=>s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Budget Categories"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:"Manual Entry"}),s.jsx("button",{className:"px-4 py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors text-sm",children:"Ask Stella"})]})]}),s.jsx("div",{className:"space-y-6",children:l.categories.map(w=>{const S=w.spent/w.budgeted*100,O=S>100;return s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:w.name}),w.createdBy==="stella"&&s.jsx(_r,{className:"w-4 h-4 text-purple-500",title:"Optimized by Stella"}),s.jsxs("div",{className:`flex items-center space-x-1 text-sm ${w.trend==="up"?"text-green-600":w.trend==="down"?"text-red-600":"text-gray-600"}`,children:[w.trend==="up"&&s.jsx(i0,{className:"w-4 h-4"}),w.trend==="down"&&s.jsx(E1,{className:"w-4 h-4"}),s.jsx("span",{className:"capitalize",children:w.trend})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["$",w.spent.toLocaleString()," / $",w.budgeted.toLocaleString()]}),s.jsxs("div",{className:"text-sm text-gray-600",children:["$",w.remaining.toLocaleString()," remaining"]})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[s.jsx("span",{className:"text-gray-600",children:"Progress"}),s.jsxs("span",{className:`font-medium ${O?"text-red-600":"text-gray-900"}`,children:[Math.round(S),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:s.jsx("div",{className:`h-3 rounded-full transition-all duration-300 ${O?"bg-red-500":"bg-blue-600"}`,style:{width:`${Math.min(S,100)}%`}})})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:w.subcategories.map((P,T)=>s.jsxs("div",{className:"bg-gray-50 rounded p-3",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.name}),s.jsxs("div",{className:"text-xs text-gray-600",children:["$",P.spent.toLocaleString()," / $",P.budgeted.toLocaleString()]})]},T))}),s.jsxs("div",{className:"flex space-x-2 mt-4",children:[s.jsxs("button",{onClick:()=>f(w.id),className:"flex items-center px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[s.jsx(zl,{className:"w-4 h-4 mr-2"}),"View Details"]}),s.jsxs("button",{onClick:()=>h(w.id),className:"flex items-center px-3 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors text-sm",children:[s.jsx(gn,{className:"w-4 h-4 mr-2"}),"Edit"]}),w.createdBy==="manual"&&s.jsxs("button",{onClick:()=>m(w.id),className:"flex items-center px-3 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors text-sm",children:[s.jsx(_r,{className:"w-4 h-4 mr-2"}),"Ask Stella to Optimize"]})]})]},w.id)})})]}),y=()=>s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(s6,{className:"w-6 h-6 text-indigo-600"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Monthly Reconciliation"})]}),s.jsxs("button",{onClick:()=>e("/budget/reconciliation"),className:"flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:[s.jsx(pS,{className:"w-4 h-4 mr-2"}),"View All Reconciliations"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"border-2 border-indigo-200 rounded-lg p-6 hover:border-indigo-400 transition-colors bg-indigo-50",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx(o6,{className:"w-8 h-8 text-indigo-600"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-indigo-900",children:"Start New Reconciliation"}),s.jsx("p",{className:"text-sm text-indigo-700",children:"Upload bank statement and reconcile transactions"})]})]}),s.jsxs("ul",{className:"text-sm text-indigo-700 space-y-2 mb-4",children:[s.jsx("li",{children:"• OCR bank statement processing"}),s.jsx("li",{children:"• Smart transaction matching"}),s.jsx("li",{children:"• Automated discrepancy detection"}),s.jsx("li",{children:"• Generate reconciliation reports"})]}),s.jsx("button",{onClick:()=>e("/budget/reconciliation/new"),className:"w-full py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:"Start Reconciliation"})]}),s.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Recent Reconciliations"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-green-900",children:"October 2024"}),s.jsx("div",{className:"text-sm text-green-700",children:"Completed • 98% match rate"})]}),s.jsx(Ur,{className:"w-5 h-5 text-green-600"})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-yellow-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-yellow-900",children:"November 2024"}),s.jsx("div",{className:"text-sm text-yellow-700",children:"In Progress • 3 discrepancies"})]}),s.jsx(Wl,{className:"w-5 h-5 text-yellow-600"})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900",children:"December 2024"}),s.jsx("div",{className:"text-sm text-gray-700",children:"Pending • Not started"})]}),s.jsx(Lr,{className:"w-5 h-5 text-gray-600"})]})]}),s.jsx("button",{onClick:()=>e("/budget/reconciliation"),className:"w-full mt-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors text-sm",children:"View Reconciliation History"})]})]}),s.jsxs("div",{className:"mt-6 bg-gradient-to-r from-indigo-50 to-purple-50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(_r,{className:"w-5 h-5 text-indigo-600"}),s.jsx("span",{className:"font-medium text-indigo-900",children:"Reconciliation Insights"})]}),s.jsx("div",{className:"text-sm text-indigo-800",children:"Your reconciliation accuracy has improved by 15% this quarter. Consider setting up automated monthly reconciliations to maintain financial accuracy and save time."})]})]}),N=()=>s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-8",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Create New Budget Item"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-6 hover:border-blue-300 transition-colors",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx(l6,{className:"w-8 h-8 text-gray-600"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:"Manual Entry"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Full control over details"})]})]}),s.jsxs("ul",{className:"text-sm text-gray-600 space-y-2 mb-4",children:[s.jsx("li",{children:"• Custom categories"}),s.jsx("li",{children:"• Detailed line items"}),s.jsx("li",{children:"• Manual calculations"})]}),s.jsx("button",{onClick:c,className:"w-full py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Create Manually"})]}),s.jsxs("div",{className:"border-2 border-blue-200 rounded-lg p-6 hover:border-blue-400 transition-colors bg-blue-50",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx(_r,{className:"w-8 h-8 text-blue-600"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-blue-900",children:"Stella Assisted"}),s.jsx("p",{className:"text-sm text-blue-700",children:"Smart suggestions & validation"})]})]}),s.jsxs("ul",{className:"text-sm text-blue-700 space-y-2 mb-4",children:[s.jsx("li",{children:"• Budget recommendations"}),s.jsx("li",{children:"• Historical comparisons"}),s.jsx("li",{children:"• Optimization suggestions"})]}),s.jsx("button",{onClick:u,className:"w-full py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Get Stella's Help"})]}),s.jsxs("div",{className:"border-2 border-purple-200 rounded-lg p-6 hover:border-purple-400 transition-colors bg-purple-50",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx(_r,{className:"w-8 h-8 text-purple-600"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-purple-900",children:"Stella Auto-Generate"}),s.jsx("p",{className:"text-sm text-purple-700",children:"Complete budget creation"})]})]}),s.jsxs("ul",{className:"text-sm text-purple-700 space-y-2 mb-4",children:[s.jsx("li",{children:"• AI-powered allocations"}),s.jsx("li",{children:"• Predictive modeling"}),s.jsx("li",{children:"• Optimization algorithms"})]}),s.jsx("button",{onClick:d,className:"w-full py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Let Stella Generate"})]})]})]}),_=()=>s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Recent Transactions"}),s.jsxs("button",{className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(mS,{className:"w-4 h-4 mr-2"}),"Export"]})]}),s.jsx("div",{className:"space-y-4",children:l.recentTransactions.map(w=>s.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${w.type==="income"?"bg-green-100":"bg-red-100"}`,children:w.type==="income"?s.jsx(i0,{className:"w-5 h-5 text-green-600"}):s.jsx(E1,{className:"w-5 h-5 text-red-600"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:w.description}),w.createdBy==="stella"&&s.jsx(_r,{className:"w-4 h-4 text-purple-500",title:"Processed by Stella"})]}),s.jsxs("div",{className:"text-sm text-gray-600",children:[w.category," • ",new Date(w.date).toLocaleDateString()]})]})]}),s.jsxs("div",{className:`text-lg font-semibold ${w.type==="income"?"text-green-600":"text-red-600"}`,children:[w.type==="income"?"+":"","$",Math.abs(w.amount).toLocaleString()]})]},w.id))})]});return s.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Budget Dashboard"}),s.jsx("p",{className:"text-gray-600",children:"Manage your PTO finances with Stella's intelligent insights"})]}),s.jsx("div",{className:"flex items-center space-x-3",children:s.jsxs("select",{value:i,onChange:w=>o(w.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"current",children:"Current Year"}),s.jsx("option",{value:"previous",children:"Previous Year"}),s.jsx("option",{value:"quarter",children:"This Quarter"})]})})]}),s.jsx(g,{}),s.jsx(x,{}),s.jsx(y,{}),s.jsx(N,{}),s.jsx(b,{}),s.jsx(_,{})]})})};function rde(){const[e,t]=I.useState({label:"",amount:"",category:"",type:"expense",related_event_id:""}),[r,n]=I.useState(""),[a,i]=I.useState(""),o=c=>{const{name:u,value:d}=c.target;t(f=>({...f,[u]:d}))},l=async c=>{c.preventDefault(),i(""),n("");const{data:{session:u}}=await He.auth.getSession();if(!(u!=null&&u.access_token)){i("Authentication required.");return}try{const d=await fetch("/api/budgets",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u.access_token}`},body:JSON.stringify(e)}),f=await d.json();d.ok?(n("Budget entry added successfully!"),t({label:"",amount:"",category:"",type:"expense",related_event_id:""})):i(f.error||"Submission failed.")}catch(d){console.error("Budget entry error:",d),i("Server error. Please try again.")}};return s.jsxs("div",{className:"max-w-xl mx-auto p-4",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Add Budget Entry"}),s.jsxs("form",{onSubmit:l,className:"space-y-4",children:[s.jsx("input",{name:"label",value:e.label,onChange:o,placeholder:"Label",className:"w-full border p-2",required:!0}),s.jsx("input",{type:"number",name:"amount",value:e.amount,onChange:o,placeholder:"Amount",className:"w-full border p-2",required:!0}),s.jsx("input",{name:"category",value:e.category,onChange:o,placeholder:"Category (e.g., supplies, venue)",className:"w-full border p-2"}),s.jsxs("select",{name:"type",value:e.type,onChange:o,className:"w-full border p-2",children:[s.jsx("option",{value:"expense",children:"Expense"}),s.jsx("option",{value:"income",children:"Income"})]}),s.jsx("input",{name:"related_event_id",value:e.related_event_id,onChange:o,placeholder:"Related Event ID (optional)",className:"w-full border p-2"}),s.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded",type:"submit",children:"Save Entry"}),r&&s.jsx("p",{className:"text-green-600",children:r}),a&&s.jsx("p",{className:"text-red-600",children:a})]})]})}const nde=()=>s.jsxs("div",{children:[s.jsx("h1",{children:"Reconciliation Dashboard"}),s.jsx("p",{children:"This is a placeholder for the Reconciliation Dashboard."})]});function ade({title:e,titleId:t,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?I.createElement("title",{id:t},e):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"}))}const ide=I.forwardRef(ade);function sde({title:e,titleId:t,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?I.createElement("title",{id:t},e):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 21 3 16.5m0 0L7.5 12M3 16.5h13.5m0-13.5L21 7.5m0 0L16.5 12M21 7.5H7.5"}))}const sS=I.forwardRef(sde);function ode({title:e,titleId:t,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?I.createElement("title",{id:t},e):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const sb=I.forwardRef(ode);function lde({title:e,titleId:t,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?I.createElement("title",{id:t},e):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const cde=I.forwardRef(lde);function ude({title:e,titleId:t,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?I.createElement("title",{id:t},e):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const dde=I.forwardRef(ude);function fde({title:e,titleId:t,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?I.createElement("title",{id:t},e):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const hde=I.forwardRef(fde);function mde({title:e,titleId:t,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?I.createElement("title",{id:t},e):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const pde=I.forwardRef(mde);function gde({title:e,titleId:t,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?I.createElement("title",{id:t},e):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const vde=I.forwardRef(gde);function yde({title:e,titleId:t,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?I.createElement("title",{id:t},e):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"}))}const bde=I.forwardRef(yde);function xde({title:e,titleId:t,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?I.createElement("title",{id:t},e):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const sP=I.forwardRef(xde),Uh={startReconciliation:async e=>{var t,r,n,a,i,o,l,c,u,d;console.log("🔍 [FRONTEND DEBUG] startReconciliation called with data:",e);try{console.log("🔍 [FRONTEND DEBUG] Making API call to /budget/reconciliation/start");const f=await Ar.post("/budget/reconciliation/start",e);console.log("🔍 [FRONTEND DEBUG] API response received:",{status:f.status,statusText:f.statusText,data:f.data});const h={success:f.data.success,data:f.data.data,error:((r=(t=f.data.errors)==null?void 0:t[0])==null?void 0:r.message)||null};return console.log("🔍 [FRONTEND DEBUG] Processed result:",h),h}catch(f){console.error("❌ [FRONTEND DEBUG] Error starting reconciliation:",f),console.error("❌ [FRONTEND DEBUG] Error response:",f.response),console.error("❌ [FRONTEND DEBUG] Error response data:",(n=f.response)==null?void 0:n.data),console.error("❌ [FRONTEND DEBUG] Error response status:",(a=f.response)==null?void 0:a.status);const h=((c=(l=(o=(i=f.response)==null?void 0:i.data)==null?void 0:o.errors)==null?void 0:l[0])==null?void 0:c.message)||((d=(u=f.response)==null?void 0:u.data)==null?void 0:d.error)||f.message;return console.error("❌ [FRONTEND DEBUG] Final error message:",h),{success:!1,error:h}}},getReconciliations:async()=>{var e,t,r,n,a,i;try{const o=await Ar.get("/api/budget/reconciliation");return{success:o.data.success,data:o.data.data,error:((t=(e=o.data.errors)==null?void 0:e[0])==null?void 0:t.message)||null}}catch(o){return console.error("Error fetching reconciliations:",o),{success:!1,error:((i=(a=(n=(r=o.response)==null?void 0:r.data)==null?void 0:n.errors)==null?void 0:a[0])==null?void 0:i.message)||o.message}}},uploadStatement:async(e,t)=>{var r,n,a,i,o,l;try{const c=await Ar.post(`/budget/reconciliation/${e}/upload`,t);return{success:c.data.success,data:c.data.data,error:((n=(r=c.data.errors)==null?void 0:r[0])==null?void 0:n.message)||null}}catch(c){return console.error("Error uploading statement:",c),{success:!1,error:((l=(o=(i=(a=c.response)==null?void 0:a.data)==null?void 0:i.errors)==null?void 0:o[0])==null?void 0:l.message)||c.message}}},getTransactions:async e=>{var t,r,n,a,i,o;try{const l=await Ar.get(`/budget/reconciliation/${e}/transactions`);return{success:l.data.success,data:l.data.data,error:((r=(t=l.data.errors)==null?void 0:t[0])==null?void 0:r.message)||null}}catch(l){return console.error("Error fetching transactions:",l),{success:!1,error:((o=(i=(a=(n=l.response)==null?void 0:n.data)==null?void 0:a.errors)==null?void 0:i[0])==null?void 0:o.message)||l.message}}},matchTransaction:async(e,t)=>{var r,n,a,i,o,l;try{const c=await Ar.post(`/budget/reconciliation/${e}/match`,{bank_transaction_id:t.bankTransactionId,expense_id:t.expenseId});return{success:c.data.success,data:c.data.data,error:((n=(r=c.data.errors)==null?void 0:r[0])==null?void 0:n.message)||null}}catch(c){return console.error("Error matching transaction:",c),{success:!1,error:((l=(o=(i=(a=c.response)==null?void 0:a.data)==null?void 0:i.errors)==null?void 0:o[0])==null?void 0:l.message)||c.message}}},completeReconciliation:async e=>{var t,r,n,a,i,o;try{const l=await Ar.post(`/budget/reconciliation/${e}/complete`);return{success:l.data.success,data:l.data.data,error:((r=(t=l.data.errors)==null?void 0:t[0])==null?void 0:r.message)||null}}catch(l){return console.error("Error completing reconciliation:",l),{success:!1,error:((o=(i=(a=(n=l.response)==null?void 0:n.data)==null?void 0:a.errors)==null?void 0:i[0])==null?void 0:o.message)||l.message}}},generateReport:async e=>{var t,r,n,a,i,o;try{const l=await Ar.get(`/budget/reconciliation/${e}/report`);return{success:l.data.success,data:l.data.data,error:((r=(t=l.data.errors)==null?void 0:t[0])==null?void 0:r.message)||null}}catch(l){return console.error("Error generating report:",l),{success:!1,error:((o=(i=(a=(n=l.response)==null?void 0:n.data)==null?void 0:a.errors)==null?void 0:i[0])==null?void 0:o.message)||l.message}}}};var wde={exports:{}};(function(e){var t=function(r){var n=Object.prototype,a=n.hasOwnProperty,i=Object.defineProperty||function(Y,Z,ae){Y[Z]=ae.value},o,l=typeof Symbol=="function"?Symbol:{},c=l.iterator||"@@iterator",u=l.asyncIterator||"@@asyncIterator",d=l.toStringTag||"@@toStringTag";function f(Y,Z,ae){return Object.defineProperty(Y,Z,{value:ae,enumerable:!0,configurable:!0,writable:!0}),Y[Z]}try{f({},"")}catch{f=function(Z,ae,$){return Z[ae]=$}}function h(Y,Z,ae,$){var H=Z&&Z.prototype instanceof N?Z:N,Q=Object.create(H.prototype),ne=new W($||[]);return i(Q,"_invoke",{value:C(Y,ae,ne)}),Q}r.wrap=h;function m(Y,Z,ae){try{return{type:"normal",arg:Y.call(Z,ae)}}catch($){return{type:"throw",arg:$}}}var v="suspendedStart",g="suspendedYield",x="executing",b="completed",y={};function N(){}function _(){}function w(){}var S={};f(S,c,function(){return this});var O=Object.getPrototypeOf,P=O&&O(O(R([])));P&&P!==n&&a.call(P,c)&&(S=P);var T=w.prototype=N.prototype=Object.create(S);_.prototype=w,i(T,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:_,configurable:!0}),_.displayName=f(w,d,"GeneratorFunction");function F(Y){["next","throw","return"].forEach(function(Z){f(Y,Z,function(ae){return this._invoke(Z,ae)})})}r.isGeneratorFunction=function(Y){var Z=typeof Y=="function"&&Y.constructor;return Z?Z===_||(Z.displayName||Z.name)==="GeneratorFunction":!1},r.mark=function(Y){return Object.setPrototypeOf?Object.setPrototypeOf(Y,w):(Y.__proto__=w,f(Y,d,"GeneratorFunction")),Y.prototype=Object.create(T),Y},r.awrap=function(Y){return{__await:Y}};function k(Y,Z){function ae(Q,ne,se,he){var de=m(Y[Q],Y,ne);if(de.type==="throw")he(de.arg);else{var ie=de.arg,xe=ie.value;return xe&&typeof xe=="object"&&a.call(xe,"__await")?Z.resolve(xe.__await).then(function(be){ae("next",be,se,he)},function(be){ae("throw",be,se,he)}):Z.resolve(xe).then(function(be){ie.value=be,se(ie)},function(be){return ae("throw",be,se,he)})}}var $;function H(Q,ne){function se(){return new Z(function(he,de){ae(Q,ne,he,de)})}return $=$?$.then(se,se):se()}i(this,"_invoke",{value:H})}F(k.prototype),f(k.prototype,u,function(){return this}),r.AsyncIterator=k,r.async=function(Y,Z,ae,$,H){H===void 0&&(H=Promise);var Q=new k(h(Y,Z,ae,$),H);return r.isGeneratorFunction(Z)?Q:Q.next().then(function(ne){return ne.done?ne.value:Q.next()})};function C(Y,Z,ae){var $=v;return function(Q,ne){if($===x)throw new Error("Generator is already running");if($===b){if(Q==="throw")throw ne;return K()}for(ae.method=Q,ae.arg=ne;;){var se=ae.delegate;if(se){var he=D(se,ae);if(he){if(he===y)continue;return he}}if(ae.method==="next")ae.sent=ae._sent=ae.arg;else if(ae.method==="throw"){if($===v)throw $=b,ae.arg;ae.dispatchException(ae.arg)}else ae.method==="return"&&ae.abrupt("return",ae.arg);$=x;var de=m(Y,Z,ae);if(de.type==="normal"){if($=ae.done?b:g,de.arg===y)continue;return{value:de.arg,done:ae.done}}else de.type==="throw"&&($=b,ae.method="throw",ae.arg=de.arg)}}}function D(Y,Z){var ae=Z.method,$=Y.iterator[ae];if($===o)return Z.delegate=null,ae==="throw"&&Y.iterator.return&&(Z.method="return",Z.arg=o,D(Y,Z),Z.method==="throw")||ae!=="return"&&(Z.method="throw",Z.arg=new TypeError("The iterator does not provide a '"+ae+"' method")),y;var H=m($,Y.iterator,Z.arg);if(H.type==="throw")return Z.method="throw",Z.arg=H.arg,Z.delegate=null,y;var Q=H.arg;if(!Q)return Z.method="throw",Z.arg=new TypeError("iterator result is not an object"),Z.delegate=null,y;if(Q.done)Z[Y.resultName]=Q.value,Z.next=Y.nextLoc,Z.method!=="return"&&(Z.method="next",Z.arg=o);else return Q;return Z.delegate=null,y}F(T),f(T,d,"Generator"),f(T,c,function(){return this}),f(T,"toString",function(){return"[object Generator]"});function M(Y){var Z={tryLoc:Y[0]};1 in Y&&(Z.catchLoc=Y[1]),2 in Y&&(Z.finallyLoc=Y[2],Z.afterLoc=Y[3]),this.tryEntries.push(Z)}function U(Y){var Z=Y.completion||{};Z.type="normal",delete Z.arg,Y.completion=Z}function W(Y){this.tryEntries=[{tryLoc:"root"}],Y.forEach(M,this),this.reset(!0)}r.keys=function(Y){var Z=Object(Y),ae=[];for(var $ in Z)ae.push($);return ae.reverse(),function H(){for(;ae.length;){var Q=ae.pop();if(Q in Z)return H.value=Q,H.done=!1,H}return H.done=!0,H}};function R(Y){if(Y){var Z=Y[c];if(Z)return Z.call(Y);if(typeof Y.next=="function")return Y;if(!isNaN(Y.length)){var ae=-1,$=function H(){for(;++ae<Y.length;)if(a.call(Y,ae))return H.value=Y[ae],H.done=!1,H;return H.value=o,H.done=!0,H};return $.next=$}}return{next:K}}r.values=R;function K(){return{value:o,done:!0}}return W.prototype={constructor:W,reset:function(Y){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(U),!Y)for(var Z in this)Z.charAt(0)==="t"&&a.call(this,Z)&&!isNaN(+Z.slice(1))&&(this[Z]=o)},stop:function(){this.done=!0;var Y=this.tryEntries[0],Z=Y.completion;if(Z.type==="throw")throw Z.arg;return this.rval},dispatchException:function(Y){if(this.done)throw Y;var Z=this;function ae(he,de){return Q.type="throw",Q.arg=Y,Z.next=he,de&&(Z.method="next",Z.arg=o),!!de}for(var $=this.tryEntries.length-1;$>=0;--$){var H=this.tryEntries[$],Q=H.completion;if(H.tryLoc==="root")return ae("end");if(H.tryLoc<=this.prev){var ne=a.call(H,"catchLoc"),se=a.call(H,"finallyLoc");if(ne&&se){if(this.prev<H.catchLoc)return ae(H.catchLoc,!0);if(this.prev<H.finallyLoc)return ae(H.finallyLoc)}else if(ne){if(this.prev<H.catchLoc)return ae(H.catchLoc,!0)}else if(se){if(this.prev<H.finallyLoc)return ae(H.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(Y,Z){for(var ae=this.tryEntries.length-1;ae>=0;--ae){var $=this.tryEntries[ae];if($.tryLoc<=this.prev&&a.call($,"finallyLoc")&&this.prev<$.finallyLoc){var H=$;break}}H&&(Y==="break"||Y==="continue")&&H.tryLoc<=Z&&Z<=H.finallyLoc&&(H=null);var Q=H?H.completion:{};return Q.type=Y,Q.arg=Z,H?(this.method="next",this.next=H.finallyLoc,y):this.complete(Q)},complete:function(Y,Z){if(Y.type==="throw")throw Y.arg;return Y.type==="break"||Y.type==="continue"?this.next=Y.arg:Y.type==="return"?(this.rval=this.arg=Y.arg,this.method="return",this.next="end"):Y.type==="normal"&&Z&&(this.next=Z),y},finish:function(Y){for(var Z=this.tryEntries.length-1;Z>=0;--Z){var ae=this.tryEntries[Z];if(ae.finallyLoc===Y)return this.complete(ae.completion,ae.afterLoc),U(ae),y}},catch:function(Y){for(var Z=this.tryEntries.length-1;Z>=0;--Z){var ae=this.tryEntries[Z];if(ae.tryLoc===Y){var $=ae.completion;if($.type==="throw"){var H=$.arg;U(ae)}return H}}throw new Error("illegal catch attempt")},delegateYield:function(Y,Z,ae){return this.delegate={iterator:R(Y),resultName:Z,nextLoc:ae},this.method==="next"&&(this.arg=o),y}},r}(e.exports);try{regeneratorRuntime=t}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}})(wde);var Qx=(e,t)=>`${e}-${t}-${Math.random().toString(16).slice(3,8)}`;const jde=Qx;let oS=0;var oP=({id:e,action:t,payload:r={}})=>{let n=e;return typeof n>"u"&&(n=jde("Job",oS),oS+=1),{id:n,action:t,payload:r}},Kc={};let e1=!1;Kc.logging=e1;Kc.setLogging=e=>{e1=e};Kc.log=(...e)=>e1?console.log.apply(void 0,e):null;const Nde=oP,{log:Th}=Kc,Sde=Qx;let lS=0;var _de=()=>{const e=Sde("Scheduler",lS),t={},r={};let n=[];lS+=1;const a=()=>n.length,i=()=>Object.keys(t).length,o=()=>{if(n.length!==0){const f=Object.keys(t);for(let h=0;h<f.length;h+=1)if(typeof r[f[h]]>"u"){n[0](t[f[h]]);break}}},l=(f,h)=>new Promise((m,v)=>{const g=Nde({action:f,payload:h});n.push(async x=>{n.shift(),r[x.id]=g;try{m(await x[f].apply(void 0,[...h,g.id]))}catch(b){v(b)}finally{delete r[x.id],o()}}),Th(`[${e}]: Add ${g.id} to JobQueue`),Th(`[${e}]: JobQueue length=${n.length}`),o()});return{addWorker:f=>(t[f.id]=f,Th(`[${e}]: Add ${f.id}`),Th(`[${e}]: Number of workers=${i()}`),o(),f.id),addJob:async(f,...h)=>{if(i()===0)throw Error(`[${e}]: You need to have at least one worker before adding jobs`);return l(f,h)},terminate:async()=>{Object.keys(t).forEach(async f=>{await t[f].terminate()}),n=[]},getQueueLen:a,getNumWorkers:i}};function Ade(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ode=e=>{const t={};return typeof WorkerGlobalScope<"u"?t.type="webworker":typeof document=="object"?t.type="browser":typeof process=="object"&&typeof Ade=="function"&&(t.type="node"),typeof e>"u"?t:t[e]};const Pde=Ode("type")==="browser",Ede=Pde?e=>new URL(e,window.location.href).href:e=>e;var kde=e=>{const t={...e};return["corePath","workerPath","langPath"].forEach(r=>{e[r]&&(t[r]=Ede(t[r]))}),t},lP={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3};const Tde="6.0.1",Cde={version:Tde};var Lde={workerBlobURL:!0,logger:()=>{}};const Mde=Cde.version,$de=Lde;var Dde={...$de,workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${Mde}/dist/worker.min.js`},Ide=({workerPath:e,workerBlobURL:t})=>{let r;if(Blob&&URL&&t){const n=new Blob([`importScripts("${e}");`],{type:"application/javascript"});r=new Worker(URL.createObjectURL(n))}else r=new Worker(e);return r},Rde=e=>{e.terminate()},Fde=(e,t)=>{e.onmessage=({data:r})=>{t(r)}},Bde=async(e,t)=>{e.postMessage(t)};const r0=e=>new Promise((t,r)=>{const n=new FileReader;n.onload=()=>{t(n.result)},n.onerror=({target:{error:{code:a}}})=>{r(Error(`File could not be read! Code=${a}`))},n.readAsArrayBuffer(e)}),ob=async e=>{let t=e;if(typeof e>"u")return"undefined";if(typeof e=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(e)?t=atob(e.split(",")[1]).split("").map(r=>r.charCodeAt(0)):t=await(await fetch(e)).arrayBuffer();else if(typeof HTMLElement<"u"&&e instanceof HTMLElement)e.tagName==="IMG"&&(t=await ob(e.src)),e.tagName==="VIDEO"&&(t=await ob(e.poster)),e.tagName==="CANVAS"&&await new Promise(r=>{e.toBlob(async n=>{t=await r0(n),r()})});else if(typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas){const r=await e.convertToBlob();t=await r0(r)}else(e instanceof File||e instanceof Blob)&&(t=await r0(e));return new Uint8Array(t)};var qde=ob;const zde=Dde,Ude=Ide,Wde=Rde,Hde=Fde,Gde=Bde,Vde=qde;var Yde={defaultOptions:zde,spawnWorker:Ude,terminateWorker:Wde,onMessage:Hde,send:Gde,loadImage:Vde};const Kde=kde,ni=oP,{log:cS}=Kc,Xde=Qx,Zs=lP,{defaultOptions:Jde,spawnWorker:Zde,terminateWorker:Qde,onMessage:efe,loadImage:uS,send:tfe}=Yde;let dS=0;var cP=async(e="eng",t=Zs.LSTM_ONLY,r={},n={})=>{const a=Xde("Worker",dS),{logger:i,errorHandler:o,...l}=Kde({...Jde,...r}),c={},u=typeof e=="string"?e.split("+"):e;let d=t,f=n;const h=[Zs.DEFAULT,Zs.LSTM_ONLY].includes(t)&&!l.legacyCore;let m,v;const g=new Promise((R,K)=>{v=R,m=K}),x=R=>{m(R.message)};let b=Zde(l);b.onerror=x,dS+=1;const y=({id:R,action:K,payload:Y})=>new Promise((Z,ae)=>{cS(`[${a}]: Start ${R}, action=${K}`);const $=`${K}-${R}`;c[$]={resolve:Z,reject:ae},tfe(b,{workerId:a,jobId:R,action:K,payload:Y})}),N=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),_=R=>y(ni({id:R,action:"load",payload:{options:{lstmOnly:h,corePath:l.corePath,logging:l.logging}}})),w=(R,K,Y)=>y(ni({id:Y,action:"FS",payload:{method:"writeFile",args:[R,K]}})),S=(R,K)=>y(ni({id:K,action:"FS",payload:{method:"readFile",args:[R,{encoding:"utf8"}]}})),O=(R,K)=>y(ni({id:K,action:"FS",payload:{method:"unlink",args:[R]}})),P=(R,K,Y)=>y(ni({id:Y,action:"FS",payload:{method:R,args:K}})),T=(R,K)=>y(ni({id:K,action:"loadLanguage",payload:{langs:R,options:{langPath:l.langPath,dataPath:l.dataPath,cachePath:l.cachePath,cacheMethod:l.cacheMethod,gzip:l.gzip,lstmOnly:[Zs.DEFAULT,Zs.LSTM_ONLY].includes(d)&&!l.legacyLang}}})),F=(R,K,Y,Z)=>y(ni({id:Z,action:"initialize",payload:{langs:R,oem:K,config:Y}})),k=(R="eng",K,Y,Z)=>{if(h&&[Zs.TESSERACT_ONLY,Zs.TESSERACT_LSTM_COMBINED].includes(K))throw Error("Legacy model requested but code missing.");const ae=K||d;d=ae;const $=Y||f;f=$;const Q=(typeof R=="string"?R.split("+"):R).filter(ne=>!u.includes(ne));return u.push(...Q),Q.length>0?T(Q,Z).then(()=>F(R,ae,$,Z)):F(R,ae,$,Z)},C=(R={},K)=>y(ni({id:K,action:"setParameters",payload:{params:R}})),D=async(R,K={},Y={text:!0},Z)=>y(ni({id:Z,action:"recognize",payload:{image:await uS(R),options:K,output:Y}})),M=async(R,K)=>{if(h)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return y(ni({id:K,action:"detect",payload:{image:await uS(R)}}))},U=async()=>(b!==null&&(Qde(b),b=null),Promise.resolve());efe(b,({workerId:R,jobId:K,status:Y,action:Z,data:ae})=>{const $=`${Z}-${K}`;if(Y==="resolve")cS(`[${R}]: Complete ${K}`),c[$].resolve({jobId:K,data:ae}),delete c[$];else if(Y==="reject")if(c[$].reject(ae),delete c[$],Z==="load"&&m(ae),o)o(ae);else throw Error(ae);else Y==="progress"&&i({...ae,userJobId:K})});const W={id:a,worker:b,load:N,writeText:w,readText:S,removeFile:O,FS:P,reinitialize:k,setParameters:C,recognize:D,detect:M,terminate:U};return _().then(()=>T(e)).then(()=>F(e,t,n)).then(()=>v(W)).catch(()=>{}),g};const uP=cP,rfe=async(e,t,r)=>{const n=await uP(t,1,r);return n.recognize(e).finally(async()=>{await n.terminate()})},nfe=async(e,t)=>{const r=await uP("osd",0,t);return r.detect(e).finally(async()=>{await r.terminate()})};var afe={recognize:rfe,detect:nfe},ife={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"},sfe={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"};const ofe=_de,lfe=cP,cfe=afe,ufe=ife,dfe=lP,ffe=sfe,{setLogging:hfe}=Kc;var mfe={languages:ufe,OEM:dfe,PSM:ffe,createScheduler:ofe,createWorker:lfe,setLogging:hfe,...cfe};const pfe=Nt(mfe);class gfe{constructor(){this.worker=null,this.isInitialized=!1}async initialize(){if(!this.isInitialized)try{this.worker=await pfe.createWorker("eng"),this.isInitialized=!0,console.log("OCR Worker initialized successfully")}catch(t){throw console.error("Failed to initialize OCR worker:",t),new Error("OCR initialization failed")}}async processImage(t,r=null){this.isInitialized||await this.initialize();try{const n=await this.worker.recognize(t,{logger:r?a=>{a.status==="recognizing text"&&r(Math.round(a.progress*100))}:void 0});return{success:!0,text:n.data.text,confidence:n.data.confidence,words:n.data.words,lines:n.data.lines}}catch(n){return console.error("OCR processing failed:",n),{success:!1,error:n.message}}}async processBankStatement(t,r=null){const n=await this.processImage(t,r);if(!n.success)return n;const a=this.parseTransactions(n.text);return{success:!0,rawText:n.text,confidence:n.confidence,transactions:a,metadata:{totalTransactions:a.length,processingDate:new Date().toISOString()}}}parseTransactions(t){const r=[],n=t.split(`
`).filter(i=>i.trim().length>0),a={date:/(\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4})/,amount:/[\$\-]?(\d{1,3}(?:,\d{3})*\.?\d{0,2})/,debitCredit:/(DEBIT|CREDIT|DR|CR|WITHDRAWAL|DEPOSIT)/i};for(let i=0;i<n.length;i++){const o=n[i].trim();if(this.isHeaderLine(o)||o.length<10)continue;const l=o.match(a.date),c=o.match(new RegExp(a.amount.source,"g"));if(l&&c){const u=c.map(d=>{const f=d.replace(/[\$,]/g,"");return parseFloat(f)}).filter(d=>!isNaN(d)&&d>0);if(u.length>0){const d=Math.max(...u);let f=o.replace(a.date,"").replace(new RegExp(a.amount.source,"g"),"").replace(a.debitCredit,"").trim().replace(/\s+/g," ");f=this.cleanDescription(f),f.length>3&&r.push({id:`ocr_${Date.now()}_${i}`,date:this.parseDate(l[1]),description:f,amount:d,type:this.determineTransactionType(o),rawLine:o,confidence:this.calculateLineConfidence(o)})}}}return r.sort((i,o)=>new Date(o.date)-new Date(i.date))}isHeaderLine(t){const r=["STATEMENT","ACCOUNT","BALANCE","DATE","DESCRIPTION","AMOUNT","TRANSACTION","BEGINNING","ENDING","TOTAL","PAGE","BANK","CREDIT UNION"],n=t.toUpperCase();return r.some(a=>n.includes(a))&&!t.match(/\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}/)}cleanDescription(t){return t.replace(/\b(POS|ATM|ACH|CHK|DEP|WD|TFR|FEE)\b/gi,"").replace(/\b\d{4,}\b/g,"").replace(/[#*]+/g,"").replace(/\s+/g," ").trim()}parseDate(t){const r=[/(\d{1,2})\/(\d{1,2})\/(\d{2,4})/,/(\d{1,2})-(\d{1,2})-(\d{2,4})/];for(const n of r){const a=t.match(n);if(a){let[,i,o,l]=a;return l.length===2&&(l=parseInt(l)>50?`19${l}`:`20${l}`),`${l}-${i.padStart(2,"0")}-${o.padStart(2,"0")}`}}return t}determineTransactionType(t){const r=t.toUpperCase();return r.includes("DEBIT")||r.includes("WITHDRAWAL")||r.includes("DR")||r.includes("WD")?"debit":r.includes("CREDIT")||r.includes("DEPOSIT")||r.includes("CR")||r.includes("DEP")?"credit":"debit"}calculateLineConfidence(t){let r=.5;return t.match(/\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}/)&&(r+=.2),t.match(/\$?\d+\.\d{2}/)&&(r+=.2),t.length>20&&t.length<100&&(r+=.1),Math.min(r,1)}async terminate(){this.worker&&(await this.worker.terminate(),this.worker=null,this.isInitialized=!1)}validateTransactions(t){return t.filter(r=>r.date&&r.description&&r.description.length>2&&r.amount&&r.amount>0&&!isNaN(r.amount))}suggestCorrections(t){return t.map(r=>{const n=[];return r.description.includes("0")&&r.description.includes("O")&&n.push("Check if O should be 0 or vice versa"),r.description.includes("1")&&r.description.includes("l")&&n.push("Check if l should be 1 or vice versa"),r.amount>1e4&&n.push("Verify large amount - possible OCR error"),{...r,suggestions:n}})}}const n0=new gfe,vfe=({onUpload:e})=>{const[t,r]=I.useState(null),[n,a]=I.useState(!1),[i,o]=I.useState(0),[l,c]=I.useState(null),[u,d]=I.useState(!1),[f,h]=I.useState(!1),m=w=>{w.preventDefault(),w.stopPropagation(),w.type==="dragenter"||w.type==="dragover"?h(!0):w.type==="dragleave"&&h(!1)},v=w=>{w.preventDefault(),w.stopPropagation(),h(!1),w.dataTransfer.files&&w.dataTransfer.files[0]&&x(w.dataTransfer.files[0])},g=w=>{w.target.files&&w.target.files[0]&&x(w.target.files[0])},x=w=>{if(!["image/jpeg","image/png","image/jpg","application/pdf"].includes(w.type)){alert("Please upload a valid image (JPG, PNG) or PDF file.");return}if(w.size>10*1024*1024){alert("File size must be less than 10MB.");return}r(w),c(null),o(0)},b=async()=>{if(t){a(!0),o(0);try{if(t.type==="application/pdf"){alert("PDF processing will be implemented in the next update. Please use an image file for now."),a(!1);return}const w=await n0.processBankStatement(t,S=>{o(S)});if(w.success){const S=n0.validateTransactions(w.transactions),O=n0.suggestCorrections(S);c({...w,transactions:O})}else alert(`OCR processing failed: ${w.error}`)}catch(w){console.error("OCR processing error:",w),alert("Failed to process the bank statement. Please try again.")}finally{a(!1),o(0)}}},y=()=>{l&&l.transactions.length>0&&e({file:t,ocrResult:l,transactions:l.transactions})},N=(w,S,O)=>{const P=[...l.transactions];P[w]={...P[w],[S]:S==="amount"?parseFloat(O)||0:O},c({...l,transactions:P})},_=w=>{const S=l.transactions.filter((O,P)=>P!==w);c({...l,transactions:S})};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Upload Bank Statement"}),s.jsxs("div",{className:`relative border-2 border-dashed rounded-lg p-8 text-center transition-colors ${f?"border-blue-400 bg-blue-50":"border-gray-300"} ${n?"opacity-50 pointer-events-none":""}`,onDragEnter:m,onDragLeave:m,onDragOver:m,onDrop:v,children:[s.jsx(ide,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsx("h4",{className:"mt-2 text-sm font-medium text-gray-900",children:n?"Processing...":"Upload your bank statement"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Drag and drop or click to select. Supports JPG, PNG, and PDF files up to 10MB."}),s.jsxs("div",{className:"mt-6",children:[s.jsx("input",{type:"file",id:"file-upload",className:"sr-only",onChange:g,accept:".pdf,.png,.jpg,.jpeg",disabled:n}),s.jsx("label",{htmlFor:"file-upload",className:"cursor-pointer inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Select a file"})]}),t&&s.jsx("div",{className:"mt-4 p-3 bg-gray-50 rounded-md",children:s.jsxs("p",{className:"text-sm text-gray-600",children:[s.jsx("strong",{children:"Selected:"})," ",t.name," (",(t.size/1024/1024).toFixed(2)," MB)"]})}),n&&s.jsxs("div",{className:"mt-4",children:[s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${i}%`}})}),s.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Processing: ",i,"%"]})]})]}),t&&!l&&!n&&s.jsx("div",{className:"text-center",children:s.jsxs("button",{onClick:b,className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700",children:[s.jsx(vde,{className:"h-5 w-5 mr-2"}),"Extract Transactions with OCR"]})}),l&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-md p-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(sb,{className:"h-5 w-5 text-green-400 mr-2"}),s.jsx("h4",{className:"text-sm font-medium text-green-800",children:"OCR Processing Complete"})]}),s.jsxs("p",{className:"mt-1 text-sm text-green-700",children:["Extracted ",l.transactions.length," transactions with ",Math.round(l.confidence),"% confidence."]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg",children:[s.jsxs("div",{className:"px-4 py-3 border-b border-gray-200",children:[s.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"Review Extracted Transactions"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Please review and edit the transactions below before proceeding."})]}),s.jsx("div",{className:"divide-y divide-gray-200 max-h-96 overflow-y-auto",children:l.transactions.map((w,S)=>s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Date"}),s.jsx("input",{type:"date",value:w.date,onChange:O=>N(S,"date",O.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Description"}),s.jsx("input",{type:"text",value:w.description,onChange:O=>N(S,"description",O.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})]}),s.jsxs("div",{className:"flex items-end space-x-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Amount"}),s.jsx("input",{type:"number",step:"0.01",value:w.amount,onChange:O=>N(S,"amount",O.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})]}),s.jsx("button",{onClick:()=>_(S),className:"px-2 py-1 text-red-600 hover:text-red-800 text-sm",title:"Remove transaction",children:"✕"})]})]}),w.suggestions&&w.suggestions.length>0&&s.jsx("div",{className:"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(pde,{className:"h-4 w-4 text-yellow-400 mr-1 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-yellow-800",children:"Suggestions:"}),s.jsx("ul",{className:"text-xs text-yellow-700 list-disc list-inside",children:w.suggestions.map((O,P)=>s.jsx("li",{children:O},P))})]})]})}),s.jsxs("div",{className:"mt-2 flex items-center text-xs text-gray-500",children:[s.jsxs("span",{children:["Confidence: ",Math.round(w.confidence*100),"%"]}),s.jsx("div",{className:"ml-2 flex-1 bg-gray-200 rounded-full h-1",children:s.jsx("div",{className:"bg-blue-600 h-1 rounded-full",style:{width:`${w.confidence*100}%`}})})]})]},w.id))}),s.jsx("div",{className:"px-4 py-3 border-t border-gray-200 text-center",children:s.jsxs("button",{onClick:y,disabled:l.transactions.length===0,className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 disabled:opacity-50",children:[s.jsx(sb,{className:"h-5 w-5 mr-2"}),"Confirm ",l.transactions.length," Transactions"]})})]})]})]})};class yfe{constructor(){this.config={autoMatchThreshold:.85,suggestMatchThreshold:.6,weights:{amount:.4,description:.3,date:.2,vendor:.1},amountTolerance:.01,dateWindow:7,fuzzyThreshold:.6}}findMatches(t,r){const n=[];for(const a of t){const i=this.findSuggestionsForTransaction(a,r);n.push({bankTransaction:a,suggestions:i,bestMatch:i.length>0?i[0]:null,autoMatch:i.length>0&&i[0].confidence>=this.config.autoMatchThreshold,isMatched:!1})}return n}findSuggestionsForTransaction(t,r){const n=[];for(const a of r){const i=this.calculateMatchScore(t,a);i.totalScore>=this.config.suggestMatchThreshold&&n.push({expense:a,confidence:i.totalScore,matchReasons:i.reasons,scoreBreakdown:i.breakdown})}return n.sort((a,i)=>i.confidence-a.confidence)}calculateMatchScore(t,r){const n={amount:this.calculateAmountScore(t.amount,r.amount),description:this.calculateDescriptionScore(t.description,r.description||r.vendor),date:this.calculateDateScore(t.date,r.expense_date||r.date),vendor:this.calculateVendorScore(t.description,r.vendor)},a=Object.keys(n).reduce((o,l)=>o+n[l]*this.config.weights[l],0),i=this.generateMatchReasons(n,t,r);return{totalScore:Math.min(a,1),breakdown:n,reasons:i}}calculateAmountScore(t,r){const n=Math.abs(t-r);if(n<=this.config.amountTolerance)return 1;const a=n/Math.max(t,r);return a<=.01?.95:a<=.05?.85:a<=.1?.7:a<=.2?.5:0}calculateDescriptionScore(t,r){if(!t||!r)return 0;const n=this.normalizeDescription(t),a=this.normalizeDescription(r),i=this.calculateStringSimilarity(n,a),o=this.calculateWordMatchBoost(n,a);return Math.min(i+o,1)}calculateDateScore(t,r){if(!t||!r)return 0;const n=new Date(t),a=new Date(r),i=Math.abs((n-a)/(1e3*60*60*24));return i===0?1:i<=1?.9:i<=3?.8:i<=7?.6:i<=14?.4:i<=30?.2:0}calculateVendorScore(t,r){if(!r)return 0;const n=this.normalizeDescription(t),a=this.normalizeDescription(r);if(n.includes(a))return 1;const i=a.split(" ").filter(l=>l.length>2);return i.filter(l=>n.includes(l)).length/i.length}normalizeDescription(t){return t.toLowerCase().replace(/[^\w\s]/g," ").replace(/\b(pos|atm|ach|chk|dep|wd|tfr|fee)\b/g,"").replace(/\b\d+\b/g,"").replace(/\s+/g," ").trim()}calculateStringSimilarity(t,r){const n=[],a=t.length,i=r.length;for(let c=0;c<=a;c++)n[c]=[c];for(let c=0;c<=i;c++)n[0][c]=c;for(let c=1;c<=a;c++)for(let u=1;u<=i;u++){const d=t[c-1]===r[u-1]?0:1;n[c][u]=Math.min(n[c-1][u]+1,n[c][u-1]+1,n[c-1][u-1]+d)}const o=n[a][i],l=Math.max(a,i);return l===0?1:1-o/l}calculateWordMatchBoost(t,r){const n=t.split(" ").filter(l=>l.length>2),a=r.split(" ").filter(l=>l.length>2);return n.length===0||a.length===0?0:n.filter(l=>a.includes(l)).length/Math.max(n.length,a.length)*.2}generateMatchReasons(t,r,n){const a=[];return t.amount>=.95?a.push("Exact amount match"):t.amount>=.8?a.push("Very close amount"):t.amount>=.6&&a.push("Similar amount"),t.description>=.8?a.push("Strong description match"):t.description>=.6&&a.push("Similar description"),t.date>=.9?a.push("Same/next day"):t.date>=.6&&a.push("Within a week"),t.vendor>=.8&&a.push("Vendor name match"),a.length===0&&a.push("Potential match"),a}performAutoMatching(t){const r=[];for(const n of t)n.autoMatch&&n.bestMatch&&(n.isMatched=!0,n.matchedExpense=n.bestMatch.expense,r.push(n));return r}updateConfig(t){this.config={...this.config,...t}}getMatchingStats(t){return{total:t.length,withSuggestions:t.filter(r=>r.suggestions.length>0).length,autoMatched:t.filter(r=>r.autoMatch).length,highConfidence:t.filter(r=>r.bestMatch&&r.bestMatch.confidence>=.8).length,mediumConfidence:t.filter(r=>r.bestMatch&&r.bestMatch.confidence>=.6&&r.bestMatch.confidence<.8).length,lowConfidence:t.filter(r=>r.bestMatch&&r.bestMatch.confidence<.6).length,noMatches:t.filter(r=>r.suggestions.length===0).length}}}const fS=new yfe,bfe=({reconciliationId:e,bankTransactions:t=[],systemExpenses:r=[]})=>{const[n,a]=I.useState([]),[i,o]=I.useState(null),[l,c]=I.useState(null),[u,d]=I.useState(!1),[f,h]=I.useState(!0),[m,v]=I.useState({total:0,matched:0,autoMatched:0,unmatched:0});I.useEffect(()=>{t.length>0&&r.length>0&&g()},[t,r]);const g=()=>{d(!0);try{const _=fS.findMatches(t,r);a(_);const w={total:t.length,matched:_.filter(S=>S.bestMatch).length,autoMatched:_.filter(S=>S.autoMatch).length,unmatched:_.filter(S=>!S.bestMatch).length};if(v(w),f){const S=fS.performAutoMatching(_);console.log(`Auto-matched ${S.length} transactions`)}}catch(_){console.error("Matching failed:",_)}finally{d(!1)}},x=async(_,w)=>{try{if((await Uh.matchTransaction(e,{bankTransactionId:_.id,expenseId:w.id})).success){const O=n.map(P=>P.bankTransaction.id===_.id?{...P,isMatched:!0,matchedExpense:w}:P);a(O),o(null),c(null)}}catch(S){console.error("Failed to match transaction:",S),alert("Failed to match transaction. Please try again.")}},b=async _=>{_.bestMatch&&await x(_.bankTransaction,_.bestMatch.expense)},y=_=>_>=.8?"text-green-600 bg-green-100":_>=.6?"text-yellow-600 bg-yellow-100":"text-red-600 bg-red-100",N=_=>_>=.8?"High":_>=.6?"Medium":"Low";return u?s.jsxs("div",{className:"flex items-center justify-center p-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),s.jsx("span",{className:"ml-2",children:"Analyzing transactions..."})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Smart Transaction Matching"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:f,onChange:_=>h(_.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Auto-match high confidence"})]}),s.jsx("button",{onClick:g,className:"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700",children:"Re-analyze"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:m.total}),s.jsx("div",{className:"text-sm text-blue-800",children:"Total Transactions"})]}),s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:m.matched}),s.jsx("div",{className:"text-sm text-green-800",children:"Potential Matches"})]}),s.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:m.autoMatched}),s.jsx("div",{className:"text-sm text-purple-800",children:"Auto-Matched"})]}),s.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:m.unmatched}),s.jsx("div",{className:"text-sm text-red-800",children:"Unmatched"})]})]}),s.jsx("div",{className:"space-y-4",children:n.map((_,w)=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"font-medium text-gray-900",children:_.bankTransaction.description}),s.jsxs("div",{className:"font-bold text-lg",children:["$",_.bankTransaction.amount.toFixed(2)]}),s.jsx("div",{className:"text-sm text-gray-500",children:_.bankTransaction.date})]})}),_.isMatched&&s.jsxs("div",{className:"flex items-center text-green-600",children:[s.jsx(sb,{className:"h-5 w-5 mr-1"}),s.jsx("span",{className:"text-sm font-medium",children:"Matched"})]})]}),_.suggestions.length>0&&!_.isMatched&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-2",children:[s.jsx(bde,{className:"h-4 w-4 mr-1"}),s.jsx("span",{children:"Suggested matches:"})]}),_.suggestions.slice(0,3).map((S,O)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded border hover:bg-gray-100 cursor-pointer",onClick:()=>b({..._,bestMatch:S}),children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"font-medium",children:S.expense.vendor||S.expense.description}),s.jsxs("div",{className:"font-bold",children:["$",S.expense.amount.toFixed(2)]}),s.jsx("div",{className:"text-sm text-gray-500",children:S.expense.date})]}),s.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:S.matchReasons.map((P,T)=>s.jsx("span",{className:"inline-block px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded",children:P},T))})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded ${y(S.confidence)}`,children:[N(S.confidence)," (",Math.round(S.confidence*100),"%)"]}),s.jsx("button",{className:"p-1 text-green-600 hover:text-green-800",children:s.jsx(sS,{className:"h-4 w-4"})})]})]},S.expense.id)),_.suggestions.length>3&&s.jsxs("div",{className:"text-sm text-gray-500 text-center",children:["+",_.suggestions.length-3," more potential matches"]})]}),_.suggestions.length===0&&!_.isMatched&&s.jsxs("div",{className:"flex items-center justify-center p-4 bg-red-50 rounded border border-red-200",children:[s.jsx(sP,{className:"h-5 w-5 text-red-500 mr-2"}),s.jsx("span",{className:"text-red-700",children:"No potential matches found"}),s.jsx("button",{className:"ml-4 px-3 py-1 text-sm bg-red-600 text-white rounded hover:bg-red-700",children:"Create New Expense"})]})]},_.bankTransaction.id))}),s.jsxs("div",{className:"border-t pt-6",children:[s.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Manual Matching"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h5",{className:"font-medium text-gray-800 mb-3",children:"Unmatched Bank Transactions"}),s.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:n.filter(_=>!_.isMatched).map(_=>s.jsxs("div",{onClick:()=>o(_.bankTransaction),className:`p-3 rounded border cursor-pointer ${(i==null?void 0:i.id)===_.bankTransaction.id?"bg-blue-100 border-blue-400":"bg-white hover:bg-gray-50"}`,children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-medium",children:_.bankTransaction.description}),s.jsxs("span",{className:"font-bold",children:["$",_.bankTransaction.amount.toFixed(2)]})]}),s.jsx("div",{className:"text-sm text-gray-500",children:_.bankTransaction.date})]},_.bankTransaction.id))})]}),s.jsxs("div",{children:[s.jsx("h5",{className:"font-medium text-gray-800 mb-3",children:"Unmatched System Expenses"}),s.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:r.filter(_=>!_.is_matched).map(_=>s.jsxs("div",{onClick:()=>c(_),className:`p-3 rounded border cursor-pointer ${(l==null?void 0:l.id)===_.id?"bg-green-100 border-green-400":"bg-white hover:bg-gray-50"}`,children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-medium",children:_.vendor||_.description}),s.jsxs("span",{className:"font-bold",children:["$",_.amount.toFixed(2)]})]}),s.jsx("div",{className:"text-sm text-gray-500",children:_.date})]},_.id))})]})]}),i&&l&&s.jsx("div",{className:"mt-4 text-center",children:s.jsxs("button",{onClick:()=>x(i,l),className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700",children:[s.jsx(sS,{className:"h-5 w-5 mr-2"}),"Match Selected Transactions"]})})]})]})},dP=()=>s.jsxs("div",{children:[s.jsx("h1",{children:"Reconciliation Report"}),s.jsx("p",{children:"This is a placeholder for the Reconciliation Report."})]}),xfe=({onComplete:e,onCancel:t})=>{const[r,n]=I.useState(1),[a,i]=I.useState({id:null,month:new Date().getMonth()+1,year:new Date().getFullYear(),bankStatement:null,bankTransactions:[],systemExpenses:[]}),[o,l]=I.useState(!1),c=[{id:1,name:"Period Selection",description:"Select reconciliation period"},{id:2,name:"Upload Statement",description:"Upload bank statement"},{id:3,name:"Match Transactions",description:"Review and match transactions"},{id:4,name:"Finalize Report",description:"Complete reconciliation"}],u=(v,g)=>{i(x=>({...x,[v]:g}))},d=async v=>{l(!0);try{const g=await Uh.uploadStatement(a.id,{transactions:v.transactions});if(g.success){const x=await Uh.getTransactions(a.id);x.success&&(i(b=>({...b,bankStatement:v.file,bankTransactions:x.data.bankTransactions,systemExpenses:x.data.systemExpenses})),n(r+1))}else alert("Failed to upload transactions: "+g.error)}catch(g){console.error("Failed to upload statement:",g),alert("Failed to upload statement. Please try again.")}finally{l(!1)}},f=async()=>{if(console.log("🔍 [FRONTEND DEBUG] nextStep called, currentStep:",r),r===1){console.log("🔍 [FRONTEND DEBUG] Starting reconciliation process"),console.log("🔍 [FRONTEND DEBUG] Reconciliation data:",{month:a.month,year:a.year}),l(!0);try{console.log("🔍 [FRONTEND DEBUG] Calling reconciliationAPI.startReconciliation");const v=await Uh.startReconciliation({month:a.month,year:a.year});console.log("🔍 [FRONTEND DEBUG] startReconciliation response:",v),v.success?(console.log("✅ [FRONTEND DEBUG] Reconciliation started successfully, ID:",v.data.id),i(g=>({...g,id:v.data.id})),n(r+1)):(console.error("❌ [FRONTEND DEBUG] Failed to start reconciliation:",v.error),alert("Failed to start reconciliation: "+v.error))}catch(v){console.error("❌ [FRONTEND DEBUG] Exception in nextStep:",v),alert("Failed to start reconciliation. Please try again.")}finally{console.log("🔍 [FRONTEND DEBUG] Setting loading to false"),l(!1)}}else r<c.length&&(console.log("🔍 [FRONTEND DEBUG] Moving to next step:",r+1),n(r+1))},h=()=>{r>1&&n(r-1)},m=()=>{switch(r){case 1:return s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Select Reconciliation Period"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Month"}),s.jsx("select",{value:a.month,onChange:v=>u("month",parseInt(v.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:Array.from({length:12},(v,g)=>s.jsx("option",{value:g+1,children:new Date(0,g).toLocaleString("default",{month:"long"})},g+1))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Year"}),s.jsx("input",{type:"number",value:a.year,onChange:v=>u("year",parseInt(v.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]})]})]});case 2:return s.jsx(vfe,{onUpload:d});case 3:return s.jsx(bfe,{reconciliationId:a.id,bankTransactions:a.bankTransactions,systemExpenses:a.systemExpenses});case 4:return s.jsx(dP,{reconciliation:a});default:return s.jsxs("div",{children:["Step ",r]})}};return s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Monthly Reconciliation"}),s.jsx("button",{onClick:t,className:"inline-flex items-center p-2 border border-gray-300 rounded-md text-gray-400 hover:text-gray-500 hover:border-gray-400",children:s.jsx(sP,{className:"h-5 w-5"})})]}),s.jsx("div",{className:"mb-8",children:s.jsx("div",{className:"flex items-center justify-between",children:c.map((v,g)=>s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full border-2 ${r>=v.id?"bg-blue-600 border-blue-600 text-white":"border-gray-300 text-gray-500"}`,children:r>v.id?s.jsx(cde,{className:"h-5 w-5"}):s.jsx("span",{className:"text-sm font-medium",children:v.id})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("div",{className:`text-sm font-medium ${r>=v.id?"text-blue-600":"text-gray-500"}`,children:v.name}),s.jsx("div",{className:"text-xs text-gray-500",children:v.description})]}),g<c.length-1&&s.jsx("div",{className:`flex-1 h-0.5 mx-4 ${r>v.id?"bg-blue-600":"bg-gray-300"}`})]},v.id))})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:m()}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("button",{onClick:h,disabled:r===1,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(dde,{className:"h-4 w-4 mr-2"}),"Previous"]}),r<c.length?s.jsxs("button",{onClick:f,disabled:o||r===2&&!a.bankStatement,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[o?"Starting...":"Next",s.jsx(hde,{className:"h-4 w-4 ml-2"})]}):s.jsx("button",{onClick:()=>e(a),className:"inline-flex items-center px-6 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700",children:"Complete Reconciliation"})]})]})},wfe=[{id:1,subject:"Back-to-School Picnic",type:"event",status:"draft",updated_at:"2025-06-01"},{id:2,subject:"Fundraiser Reminder",type:"fundraiser",status:"draft",updated_at:"2025-06-02"}],jfe={draft:"bg-gray-200 text-gray-800",scheduled:"bg-yellow-100 text-yellow-800",sent:"bg-green-100 text-green-800",failed:"bg-red-100 text-red-800"};function Nfe(){const[e,t]=I.useState("drafts"),r=n=>n.length===0?s.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"No communications found."}):s.jsx("ul",{className:"space-y-3 mt-4",children:n.map(a=>s.jsxs("li",{className:"p-4 bg-white border rounded shadow flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:a.subject}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Type: ",a.type," • Last updated: ",a.updated_at]})]}),s.jsx("span",{className:`text-xs px-2 py-1 rounded ${jfe[a.status]}`,children:a.status})]},a.id))});return s.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Communications"}),s.jsx(Ac,{to:"/communications/create",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"+ New"})]}),s.jsxs(Ti.Tabs,{value:e,onChange:n=>t(n),children:[s.jsxs(Ti.TabsHeader,{children:[s.jsx(Ti.Tab,{value:"drafts",children:"Drafts"}),s.jsx(Ti.Tab,{value:"scheduled",children:"Scheduled"}),s.jsx(Ti.Tab,{value:"sent",children:"Sent"})]}),s.jsxs(Ti.TabsBody,{children:[s.jsx(Ti.TabPanel,{value:"drafts",children:r(wfe)}),s.jsx(Ti.TabPanel,{value:"scheduled",children:r([])}),s.jsx(Ti.TabPanel,{value:"sent",children:r([])})]})]})]})}const Sfe=()=>{const e=ir(),[t,r]=I.useState("grid"),[n,a]=I.useState("manual"),[i,o]=I.useState(""),[l,c]=I.useState("all"),u=[{id:1,title:"Fall Festival Announcement",type:"email",status:"sent",audience:"All Families",sentDate:"2024-10-01",openRate:78,clickRate:12,createdBy:"stella",description:"Exciting announcement about our upcoming Fall Festival"},{id:2,title:"Volunteer Recruitment Drive",type:"social",status:"scheduled",audience:"Facebook & Instagram",scheduledDate:"2024-10-05",engagement:0,createdBy:"manual",description:"Call for volunteers for upcoming events"},{id:3,title:"Book Fair Reminder",type:"sms",status:"draft",audience:"Parent Contacts",deliveryRate:0,createdBy:"stella",description:"Reminder about the upcoming book fair"},{id:4,title:"Monthly Newsletter",type:"newsletter",status:"in_progress",audience:"All Subscribers",progress:65,createdBy:"manual",description:"October newsletter with updates and events"}],d=C=>{e(`/communications/compose?mode=email&ai=${C}`)},f=C=>{e(`/communications/compose?mode=social&ai=${C}`)},h=C=>{e(`/communications/compose?mode=sms&ai=${C}`)},m=C=>{e(`/communications/compose?mode=email&type=newsletter&ai=${C}`)},v=C=>{e(`/communications/create?view=${C}`)},g=C=>{e(`/communications/create?edit=${C}`)},x=C=>{console.log("Sending communication:",C)},b=()=>{e("/communications/ai")},y=()=>{e("/communications/create?tab=analytics")},N=()=>{e("/communications/create?tab=schedule")},_=()=>{e("/communications/create?tab=audiences")},w=()=>{e("/communications/create")},S=C=>{const D={draft:"bg-gray-100 text-gray-800",in_progress:"bg-blue-100 text-blue-800",scheduled:"bg-yellow-100 text-yellow-800",sent:"bg-green-100 text-green-800",failed:"bg-red-100 text-red-800"};return D[C]||D.draft},O=C=>({email:Ol,sms:T1,social:k1,newsletter:Lr})[C]||Ol,P=({communication:C})=>{const D=O(C.type);return s.jsx("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(D,{className:"w-5 h-5 text-blue-600"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:C.title}),C.createdBy==="stella"&&s.jsx(_r,{className:"w-4 h-4 text-purple-500",title:"Created by Stella"})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:C.description}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(ca,{className:"w-4 h-4"}),s.jsx("span",{children:C.audience})]}),C.sentDate&&s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Lr,{className:"w-4 h-4"}),s.jsx("span",{children:new Date(C.sentDate).toLocaleDateString()})]})]})]}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${S(C.status)}`,children:C.status.replace("_"," ").charAt(0).toUpperCase()+C.status.replace("_"," ").slice(1)})]}),C.status==="sent"&&s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[s.jsx("div",{className:"text-sm text-green-600",children:"Open Rate"}),s.jsxs("div",{className:"text-lg font-semibold text-green-700",children:[C.openRate,"%"]})]}),s.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[s.jsx("div",{className:"text-sm text-blue-600",children:"Click Rate"}),s.jsxs("div",{className:"text-lg font-semibold text-blue-700",children:[C.clickRate,"%"]})]})]}),C.status==="in_progress"&&s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[s.jsx("span",{className:"text-gray-600",children:"Progress"}),s.jsxs("span",{className:"font-medium text-gray-900",children:[C.progress,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${C.progress}%`}})})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:()=>v(C.id),className:"flex-1 flex items-center justify-center px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(zl,{className:"w-4 h-4 mr-2"}),"View"]}),s.jsxs("button",{onClick:()=>g(C.id),className:"flex-1 flex items-center justify-center px-3 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[s.jsx(gn,{className:"w-4 h-4 mr-2"}),"Edit"]}),C.status==="draft"&&s.jsxs("button",{onClick:()=>x(C.id),className:"flex-1 flex items-center justify-center px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[s.jsx(bS,{className:"w-4 h-4 mr-2"}),"Send"]})]})]})})},T=()=>s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Create New Communication"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-6 hover:border-blue-300 transition-colors",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx(Ol,{className:"w-8 h-8 text-blue-600"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Email Campaign"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Reach all families"})]})]}),s.jsxs("div",{className:"space-y-3 mb-4",children:[s.jsx("button",{onClick:()=>d("manual"),className:"w-full py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:"Manual Creation"}),s.jsx("button",{onClick:()=>d("assisted"),className:"w-full py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm",children:"Let Stella Help"}),s.jsx("button",{onClick:()=>d("automated"),className:"w-full py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors text-sm",children:"Stella Auto-Generate"})]})]}),s.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-6 hover:border-green-300 transition-colors",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx(k1,{className:"w-8 h-8 text-green-600"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Social Media"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Facebook & Instagram"})]})]}),s.jsxs("div",{className:"space-y-3 mb-4",children:[s.jsx("button",{onClick:()=>f("manual"),className:"w-full py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:"Manual Creation"}),s.jsx("button",{onClick:()=>f("assisted"),className:"w-full py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm",children:"Let Stella Help"}),s.jsx("button",{onClick:()=>f("automated"),className:"w-full py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors text-sm",children:"Stella Auto-Generate"})]})]}),s.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-6 hover:border-yellow-300 transition-colors",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx(T1,{className:"w-8 h-8 text-yellow-600"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"SMS Campaign"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Direct text messages"})]})]}),s.jsxs("div",{className:"space-y-3 mb-4",children:[s.jsx("button",{onClick:()=>h("manual"),className:"w-full py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:"Manual Creation"}),s.jsx("button",{onClick:()=>h("assisted"),className:"w-full py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm",children:"Let Stella Help"}),s.jsx("button",{onClick:()=>h("automated"),className:"w-full py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors text-sm",children:"Stella Auto-Generate"})]})]}),s.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-6 hover:border-purple-300 transition-colors",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx(Lr,{className:"w-8 h-8 text-purple-600"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Newsletter"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Monthly updates"})]})]}),s.jsxs("div",{className:"space-y-3 mb-4",children:[s.jsx("button",{onClick:()=>m("manual"),className:"w-full py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:"Manual Creation"}),s.jsx("button",{onClick:()=>m("assisted"),className:"w-full py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm",children:"Let Stella Help"}),s.jsx("button",{onClick:()=>m("automated"),className:"w-full py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors text-sm",children:"Stella Auto-Generate"})]})]})]})]}),F=()=>s.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg p-6 mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx(_r,{className:"w-6 h-6 text-purple-600"}),s.jsx("h3",{className:"text-lg font-semibold text-purple-900",children:"Stella's Communication Insights"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-white rounded-lg p-4",children:[s.jsx("div",{className:"text-sm text-purple-600 mb-1",children:"Best Send Time"}),s.jsx("div",{className:"text-lg font-semibold text-purple-900",children:"Tuesday 10 AM"}),s.jsx("div",{className:"text-xs text-purple-700",children:"Based on your audience engagement"})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4",children:[s.jsx("div",{className:"text-sm text-purple-600 mb-1",children:"Top Performing Subject"}),s.jsx("div",{className:"text-lg font-semibold text-purple-900",children:"Event Announcements"}),s.jsx("div",{className:"text-xs text-purple-700",children:"85% average open rate"})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4",children:[s.jsx("div",{className:"text-sm text-purple-600 mb-1",children:"Stella's Suggestion"}),s.jsx("div",{className:"text-lg font-semibold text-purple-900",children:"Add Volunteer Call"}),s.jsx("div",{className:"text-xs text-purple-700",children:"Include in next newsletter"})]})]}),s.jsxs("div",{className:"mt-4 p-3 bg-white rounded-lg",children:[s.jsx("div",{className:"text-sm text-purple-900 font-medium mb-2",children:"💡 Stella's Tip of the Day"}),s.jsx("div",{className:"text-sm text-purple-800",children:'"Your Fall Festival emails get 23% higher engagement when sent on weekday mornings. Want me to schedule your next announcement for optimal timing?"'})]})]}),k=()=>s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("button",{onClick:b,className:"flex flex-col items-center p-4 border border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 transition-colors",children:[s.jsx(_r,{className:"w-6 h-6 text-purple-600 mb-2"}),s.jsx("span",{className:"text-sm font-medium",children:"Ask Stella"}),s.jsx("span",{className:"text-xs text-gray-500",children:"Get content ideas"})]}),s.jsxs("button",{onClick:y,className:"flex flex-col items-center p-4 border border-gray-200 rounded-lg hover:border-green-300 hover:bg-green-50 transition-colors",children:[s.jsx(d6,{className:"w-6 h-6 text-green-600 mb-2"}),s.jsx("span",{className:"text-sm font-medium",children:"Analytics"}),s.jsx("span",{className:"text-xs text-gray-500",children:"View performance"})]}),s.jsxs("button",{onClick:N,className:"flex flex-col items-center p-4 border border-gray-200 rounded-lg hover:border-yellow-300 hover:bg-yellow-50 transition-colors",children:[s.jsx(Ia,{className:"w-6 h-6 text-yellow-600 mb-2"}),s.jsx("span",{className:"text-sm font-medium",children:"Schedule"}),s.jsx("span",{className:"text-xs text-gray-500",children:"Plan campaigns"})]}),s.jsxs("button",{onClick:_,className:"flex flex-col items-center p-4 border border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 transition-colors",children:[s.jsx(ca,{className:"w-6 h-6 text-blue-600 mb-2"}),s.jsx("span",{className:"text-sm font-medium",children:"Audiences"}),s.jsx("span",{className:"text-xs text-gray-500",children:"Manage lists"})]})]})]});return s.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Communications Dashboard"}),s.jsx("p",{className:"text-gray-600",children:"Manage all your PTO communications with Stella's help or manual control"})]}),s.jsx("div",{className:"flex items-center space-x-3",children:s.jsx("button",{onClick:()=>r(t==="grid"?"list":"grid"),className:"p-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:t==="grid"?s.jsx(c6,{className:"w-5 h-5"}):s.jsx(u6,{className:"w-5 h-5"})})})]}),s.jsx(F,{}),s.jsx(k,{}),s.jsx(T,{}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(ub,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search communications...",value:i,onChange:C=>o(C.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("select",{value:l,onChange:C=>c(C.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Types"}),s.jsx("option",{value:"email",children:"Email"}),s.jsx("option",{value:"sms",children:"SMS"}),s.jsx("option",{value:"social",children:"Social Media"}),s.jsx("option",{value:"newsletter",children:"Newsletter"})]})]})}),s.jsx("div",{className:t==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:u.map(C=>s.jsx(P,{communication:C},C.id))}),u.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ol,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No communications found"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Get started by creating your first communication"}),s.jsx("button",{onClick:w,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Create Your First Communication"})]})]})})};function _fe(){const[e,t]=I.useState({subject:"",body:"",send_as:"email"}),[r,n]=I.useState(""),[a,i]=I.useState(""),o=c=>{const{name:u,value:d}=c.target;t(f=>({...f,[u]:d}))},l=async c=>{c.preventDefault(),i(""),n("");const{data:{session:u}}=await He.auth.getSession();if(!(u!=null&&u.access_token)){i("Authentication required.");return}try{const d=await fetch("/api/messages",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u.access_token}`},body:JSON.stringify(e)}),f=await d.json();d.ok?(n("Message created successfully!"),t({subject:"",body:"",send_as:"email"})):i(f.error||"Failed to send message.")}catch(d){console.error("Submit error:",d),i("Server error. Please try again.")}};return s.jsxs("div",{className:"max-w-xl mx-auto p-4",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Create Message"}),s.jsxs("form",{onSubmit:l,className:"space-y-4",children:[s.jsx("input",{name:"subject",value:e.subject,onChange:o,placeholder:"Subject",className:"w-full border p-2",required:!0}),s.jsx("textarea",{name:"body",value:e.body,onChange:o,placeholder:"Message Body",className:"w-full border p-2",required:!0}),s.jsxs("select",{name:"send_as",value:e.send_as,onChange:o,className:"w-full border p-2",children:[s.jsx("option",{value:"email",children:"Email"}),s.jsx("option",{value:"sms",children:"SMS"}),s.jsx("option",{value:"in_app",children:"In-App"})]}),s.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded",type:"submit",children:"Send Message"}),r&&s.jsx("p",{className:"text-green-600",children:r}),a&&s.jsx("p",{className:"text-red-600",children:a})]})]})}function Afe(){const e=ir();return I.useEffect(()=>{e("/communications/compose?mode=sms")},[e]),s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-8 max-w-md w-full mx-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ma,{className:"w-12 h-12 text-green-600 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"SMS Composer"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Redirecting to the unified communication composer for SMS messages..."}),s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-green-600 mx-auto"})]})})})}function Ofe(){const e=ir();return I.useEffect(()=>{e("/communications/compose?mode=social")},[e]),s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-8 max-w-md w-full mx-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx(xS,{className:"w-12 h-12 text-purple-600 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Social Media Composer"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Redirecting to the unified communication composer for social media posts..."}),s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-purple-600 mx-auto"})]})})})}const Pfe=void 0;function Efe(){const[e,t]=I.useState([]),[r,n]=I.useState("");I.useEffect(()=>{async function i(){const{data:{session:o}}=await He.auth.getSession(),l=o==null?void 0:o.access_token;if(!l)return n("Not authenticated.");try{const c=await si.get(`${Pfe}/api/documents`,{headers:{Authorization:`Bearer ${l}`}});t(c.data)}catch(c){n("Failed to load documents."),console.error(c)}}i()},[]);const a=i=>{const{data:o}=He.storage.from("documents").getPublicUrl(i);return o==null?void 0:o.publicUrl};return s.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"PTO Documents"}),s.jsx(Ac,{to:"/documents/upload",className:"bg-blue-600 text-white px-4 py-2 rounded",children:"+ Upload Document"})]}),r&&s.jsx("p",{className:"text-red-600",children:r}),e.length===0&&!r&&s.jsx("p",{children:"No documents found."}),s.jsx("ul",{className:"space-y-4",children:e.map(i=>s.jsxs("li",{className:"border p-4 rounded shadow-sm bg-white",children:[s.jsx("h2",{className:"text-lg font-semibold",children:i.title}),s.jsx("a",{href:a(i.file_path),target:"_blank",rel:"noopener noreferrer",className:"text-blue-700 underline text-sm",children:"View / Download"})]},i.id))})]})}const kfe=void 0;function Tfe(){const[e,t]=I.useState(""),[r,n]=I.useState(null),[a,i]=I.useState(""),[o,l]=I.useState(""),c=async u=>{if(u.preventDefault(),!r||!e)return l("Title and file are required.");const{data:{session:d}}=await He.auth.getSession(),f=d==null?void 0:d.access_token;if(!f)return l("User not authenticated.");const h=new FormData;h.append("title",e),h.append("file",r);try{await si.post(`${kfe}/api/documents`,h,{headers:{Authorization:`Bearer ${f}`,"Content-Type":"multipart/form-data"}}),i("Document uploaded successfully."),t(""),n(null)}catch(m){l("Upload failed. Check console."),console.error(m)}};return s.jsxs("div",{className:"max-w-xl mx-auto p-4",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Upload Document"}),s.jsxs("form",{onSubmit:c,className:"space-y-4",children:[s.jsx("input",{type:"text",placeholder:"Document Title",value:e,onChange:u=>t(u.target.value),className:"w-full border p-2",required:!0}),s.jsx("input",{type:"file",accept:".pdf,.doc,.docx,.xls,.xlsx,.png,.jpg,.jpeg",onChange:u=>n(u.target.files[0]),className:"w-full border p-2",required:!0}),s.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded",children:"Upload"}),a&&s.jsx("p",{className:"text-green-600",children:a}),o&&s.jsx("p",{className:"text-red-600",children:o})]})]})}const Cfe=void 0;function Lfe(){const[e,t]=I.useState([]),[r,n]=I.useState("");return I.useEffect(()=>{async function a(){const{data:{session:i}}=await He.auth.getSession(),o=i==null?void 0:i.access_token;if(!o){n("Not authenticated.");return}try{const l=await si.get(`${Cfe}/api/shared-library`,{headers:{Authorization:`Bearer ${o}`}});t(l.data)}catch(l){console.error(l),n("Failed to load shared library items.")}}a()},[]),s.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Shared PTO Library"}),r&&s.jsx("p",{className:"text-red-600",children:r}),e.length===0&&!r&&s.jsx("p",{children:"No shared events or fundraisers yet."}),s.jsx("ul",{className:"space-y-4",children:e.map(a=>{var i;return s.jsxs("li",{className:"border p-4 rounded shadow-sm bg-white",children:[s.jsx("h2",{className:"text-xl font-semibold",children:a.title}),s.jsx("p",{className:"text-sm text-gray-500",children:a.description}),s.jsxs("p",{className:"text-sm text-blue-700 mt-1",children:["Type: ",((i=a.type)==null?void 0:i.toUpperCase())||"N/A"," • Shared by another PTO"]})]},a.id)})})]})}function Mfe(){const[e,t]=I.useState({type:"",season:"",audience:"",theme:"",goal:""}),[r,n]=I.useState([]),[a,i]=I.useState(!1),[o,l]=I.useState(null),c=d=>{const{name:f,value:h}=d.target;t(m=>({...m,[f]:h}))},u=async()=>{i(!0),l(null),n([]);const{data:{session:d},error:f}=await He.auth.getSession();if(f||!(d!=null&&d.access_token)){l("Authentication required."),i(!1);return}try{const m=await(await fetch("/api/ai/generate-event",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${d.access_token}`},body:JSON.stringify(e)})).json();if(m.result){const v=m.result.split(/\n?\d+\.\s/).filter(Boolean).map(g=>g.trim().replace(/^\*\*/,"").replace(/\*\*$/,""));n(v)}else l("No ideas returned.")}catch(h){console.error(h),l("Error contacting the backend")}finally{i(!1)}};return s.jsxs("div",{className:"p-6 max-w-2xl mx-auto",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"AI Event Idea Generator"}),s.jsxs("div",{className:"grid gap-4 mb-4",children:[s.jsx("input",{name:"type",value:e.type,onChange:c,placeholder:"Event Type (e.g. Family Night)",className:"w-full border p-2 rounded"}),s.jsx("input",{name:"season",value:e.season,onChange:c,placeholder:"Season or Month (e.g. Spring, October)",className:"w-full border p-2 rounded"}),s.jsx("input",{name:"audience",value:e.audience,onChange:c,placeholder:"Audience (e.g. students, families)",className:"w-full border p-2 rounded"}),s.jsx("input",{name:"theme",value:e.theme,onChange:c,placeholder:"Theme (e.g. carnival, STEM)",className:"w-full border p-2 rounded"}),s.jsx("input",{name:"goal",value:e.goal,onChange:c,placeholder:"Goal (e.g. raise funds, build community)",className:"w-full border p-2 rounded"})]}),s.jsx("button",{onClick:u,disabled:a,className:"bg-blue-600 text-white px-4 py-2 rounded",children:a?"Generating...":"Generate Ideas"}),o&&s.jsx("p",{className:"text-red-500 mt-4",children:o}),r.length>0&&s.jsx("ul",{className:"mt-6 space-y-2",children:r.map((d,f)=>s.jsx("li",{className:"border p-3 rounded bg-gray-50",children:d},f))})]})}const $fe=()=>{const e=ir(),[t,r]=I.useState(null),[n,a]=I.useState(null),[i,o]=I.useState(null),[l,c]=I.useState({isGenerating:!1,currentStep:"",progress:0}),[u,d]=I.useState(null),[f,h]=I.useState(""),[m,v]=I.useState("assisted");I.useEffect(()=>{(async()=>{try{const{data:{session:w}}=await He.auth.getSession();if(w!=null&&w.user){const{data:S}=await He.from("profiles").select("*").eq("id",w.user.id).single();if(r(S),S!=null&&S.org_id){const O=await bs.analyzeContext(S.org_id,"general");o(O),a(O.context)}}}catch(w){console.error("Error fetching user context:",w)}})()},[]);const g=async()=>{if(!f.trim()){lt.error("Please enter an event idea first");return}if(!(t!=null&&t.org_id)){lt.error("Organization context required");return}c({isGenerating:!0,currentStep:"Initializing Stella...",progress:10});try{c({isGenerating:!0,currentStep:"Stella is analyzing your event idea...",progress:25}),await new Promise(P=>setTimeout(P,1500));const _={title:f,category:"Event",estimated_budget:2e3,expected_attendance:100,description:`${f} for our school community`};c({isGenerating:!0,currentStep:"Calculating event complexity and requirements...",progress:50});const w=await bs.analyzeEventWorkflow(_,t.org_id);c({isGenerating:!0,currentStep:"Creating your complete event workflow...",progress:75}),await new Promise(P=>setTimeout(P,2e3)),c({isGenerating:!0,currentStep:"Adding Stella's intelligent recommendations...",progress:90});const S=await bs.generateContent("content",`Event planning recommendations for ${f}`,{orgId:t.org_id,mode:"recommendations"},!0);c({isGenerating:!0,currentStep:"Finalizing your workflow...",progress:100}),await new Promise(P=>setTimeout(P,1e3));const O={event:_,complexity:w.eventComplexity,workflow:w.workflowPlan,recommendations:S.recommendations||[],orgInsights:w.orgContext,createdAt:new Date().toISOString(),createdBy:"Stella AI Assistant"};d(O),c({isGenerating:!1,currentStep:"",progress:0}),lt.success("✨ Stella has created your complete event workflow!")}catch(_){console.error("Workflow generation error:",_),lt.error("Stella encountered an issue creating your workflow. Please try again."),c({isGenerating:!1,currentStep:"",progress:0})}},x=()=>s.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg p-6 mb-8",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Choose Your Workflow Experience"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[{mode:"manual",title:"Manual Control",description:"I prefer to plan everything myself",icon:wS,color:"gray"},{mode:"assisted",title:"Stella Assisted",description:"I want Stella's help with suggestions",icon:_r,color:"purple"},{mode:"automated",title:"Fully Automated",description:"Let Stella create the complete workflow",icon:a0,color:"blue"}].map(_=>{const w=_.icon,S=m===_.mode;return s.jsxs("button",{onClick:()=>v(_.mode),className:`p-4 rounded-lg border-2 transition-all ${S?`border-${_.color}-500 bg-${_.color}-50`:"border-gray-200 hover:border-gray-300"}`,children:[s.jsx(w,{className:`w-6 h-6 mx-auto mb-2 ${S?`text-${_.color}-600`:"text-gray-400"}`}),s.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:_.title}),s.jsx("p",{className:"text-sm text-gray-600",children:_.description})]},_.mode)})})]}),b=()=>{if(!i)return null;const{analysis:_}=i,w=_.organizationHealth;return s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-8",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx(tp,{className:"w-6 h-6 text-blue-600"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Stella's Organization Insights"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[s.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[s.jsx(ca,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:_.keyMetrics.totalMembers}),s.jsx("div",{className:"text-sm text-gray-600",children:"Active Members"}),s.jsxs("div",{className:`text-xs mt-1 ${w.memberEngagement==="high"?"text-green-600":w.memberEngagement==="moderate"?"text-yellow-600":"text-red-600"}`,children:[w.memberEngagement.toUpperCase()," Engagement"]})]}),s.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[s.jsx(Lr,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),s.jsx("div",{className:"text-2xl font-bold text-green-600",children:_.keyMetrics.activeEvents}),s.jsx("div",{className:"text-sm text-gray-600",children:"Active Events"}),s.jsxs("div",{className:`text-xs mt-1 ${w.eventActivity==="high"?"text-green-600":w.eventActivity==="moderate"?"text-yellow-600":"text-red-600"}`,children:[w.eventActivity.toUpperCase()," Activity"]})]}),s.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[s.jsx(Un,{className:"w-8 h-8 text-purple-600 mx-auto mb-2"}),s.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:["$",_.keyMetrics.totalBudget.toLocaleString()]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Budget"}),s.jsx("div",{className:`text-xs mt-1 ${w.financialHealth==="excellent"?"text-green-600":w.financialHealth==="good"?"text-yellow-600":"text-red-600"}`,children:w.financialHealth.toUpperCase()})]})]}),_.recommendations&&_.recommendations.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"🌟 Stella's Top Recommendations"}),s.jsx("div",{className:"space-y-2",children:_.recommendations.slice(0,3).map((S,O)=>s.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${S.priority==="high"?"bg-red-500":S.priority==="medium"?"bg-yellow-500":"bg-green-500"}`}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-sm text-gray-900",children:S.title}),s.jsx("div",{className:"text-xs text-gray-600",children:S.description})]})]},O))})]})]})},y=()=>l.isGenerating?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-8",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-purple-600"}),s.jsx("h3",{className:"text-lg font-semibold text-purple-900",children:"Stella is Working on Your Workflow"})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[s.jsx("span",{children:l.currentStep}),s.jsxs("span",{children:[l.progress,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-purple-600 h-2 rounded-full transition-all duration-500",style:{width:`${l.progress}%`}})})]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Stella is analyzing your organization's context, past events, and best practices to create the perfect workflow for your event."})]}):null,N=()=>{var T,F;if(!u)return null;const{event:_,complexity:w,workflow:S,recommendations:O,orgInsights:P}=u;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:_.title}),s.jsxs("div",{className:`px-3 py-1 rounded-full text-sm ${w.complexity==="complex"?"bg-red-100 text-red-800":w.complexity==="moderate"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:[w.complexity.toUpperCase()," Event"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[s.jsx(Lr,{className:"w-6 h-6 text-blue-600 mx-auto mb-1"}),s.jsx("div",{className:"text-sm font-medium",children:"Timeline"}),s.jsx("div",{className:"text-xs text-gray-600",children:(S==null?void 0:S.recommendedTimeline)||"6-8 weeks"})]}),s.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[s.jsx(Un,{className:"w-6 h-6 text-green-600 mx-auto mb-1"}),s.jsx("div",{className:"text-sm font-medium",children:"Budget"}),s.jsxs("div",{className:"text-xs text-gray-600",children:["$",((T=S==null?void 0:S.budgetRecommendations)==null?void 0:T.suggestedBudget)||_.estimated_budget]})]}),s.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[s.jsx(ca,{className:"w-6 h-6 text-purple-600 mx-auto mb-1"}),s.jsx("div",{className:"text-sm font-medium",children:"Volunteers"}),s.jsx("div",{className:"text-xs text-gray-600",children:((F=S==null?void 0:S.volunteerNeeds)==null?void 0:F.totalVolunteers)||8})]}),s.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[s.jsx(yS,{className:"w-6 h-6 text-orange-600 mx-auto mb-1"}),s.jsx("div",{className:"text-sm font-medium",children:"Complexity"}),s.jsxs("div",{className:"text-xs text-gray-600",children:["Score: ",w.score,"/10"]})]})]})]}),(S==null?void 0:S.keyMilestones)&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"📅 Project Timeline"}),s.jsx("div",{className:"space-y-4",children:S.keyMilestones.map((k,C)=>s.jsxs("div",{className:"flex items-start space-x-4 p-4 border-l-4 border-blue-500 bg-blue-50",children:[s.jsxs("div",{className:"bg-blue-500 text-white text-sm font-medium px-2 py-1 rounded",children:["Week ",k.week]}),s.jsxs("div",{children:[s.jsx("h5",{className:"font-medium text-gray-900",children:k.milestone}),k.tasks&&s.jsx("ul",{className:"text-sm text-gray-600 mt-1",children:k.tasks.map((D,M)=>s.jsxs("li",{className:"flex items-center space-x-2",children:[s.jsx(Ur,{className:"w-3 h-3 text-green-500"}),s.jsx("span",{children:D})]},M))})]})]},C))})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"🚀 Next Steps"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("button",{onClick:()=>e("/events/create"),className:"flex items-center justify-center space-x-2 p-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(Lr,{className:"w-5 h-5"}),s.jsx("span",{children:"Create Event"})]}),s.jsxs("button",{onClick:()=>e("/budget"),className:"flex items-center justify-center space-x-2 p-4 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[s.jsx(Un,{className:"w-5 h-5"}),s.jsx("span",{children:"Setup Budget"})]}),s.jsxs("button",{onClick:()=>e("/communications/compose?ai=auto"),className:"flex items-center justify-center space-x-2 p-4 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[s.jsx(Ma,{className:"w-5 h-5"}),s.jsx("span",{children:"Start Communications"})]}),s.jsxs("button",{onClick:()=>lt.info("Project management coming in Phase 2!"),className:"flex items-center justify-center space-x-2 p-4 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:[s.jsx(lb,{className:"w-5 h-5"}),s.jsx("span",{children:"Manage Tasks"})]})]})]})]})};return s.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx(_r,{className:"w-8 h-8 text-purple-600"}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Meet Stella - Your AI Event Assistant"})]}),s.jsx("p",{className:"text-lg text-gray-600",children:"Hi! I'm Stella, your PTO planning assistant. I can generate complete event workflows with integrated project management, budgeting, communications, and volunteer coordination - or help with just the parts you need!"})]}),s.jsx(b,{}),s.jsx(x,{}),s.jsx(y,{}),u?s.jsx(N,{}):s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Let Stella Create Your Event Workflow"}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"What type of event would you like Stella to help you create?"}),s.jsx("input",{type:"text",value:f,onChange:_=>h(_.target.value),placeholder:"e.g., Fall Festival, Book Fair, Science Night, Teacher Appreciation...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),s.jsx("div",{className:"flex justify-center",children:s.jsxs("button",{onClick:g,disabled:!f.trim()||l.isGenerating,className:"flex items-center space-x-3 px-8 py-4 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:[s.jsx(_r,{className:"w-6 h-6"}),s.jsx("span",{className:"text-lg font-medium",children:l.isGenerating?"Stella is Working...":"Generate Complete Workflow"}),s.jsx(f6,{className:"w-6 h-6"})]})}),m==="automated"&&s.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(a0,{className:"w-5 h-5 text-blue-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-blue-900",children:"Fully Automated Mode"}),s.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Stella will create a complete workflow with project timeline, budget planning, communication campaigns, and volunteer coordination. You can review and adjust everything."})]})]})})]})]})})},Dfe=()=>s.jsx($fe,{}),fs={EMAIL:"email",SMS:"sms",SOCIAL:"social"},Ch=()=>{const[e]=SS(),t=ir(),r=e.get("mode")||fs.EMAIL,n=e.get("ai"),[a,i]=I.useState(r),[o,l]=I.useState({subject:"",body:"",recipients:[],scheduledFor:null}),[c,u]=I.useState(n==="assisted"||n==="auto"),[d,f]=I.useState(!1),[h,m]=I.useState(null),[v,g]=I.useState([]),[x,b]=I.useState(!1),y=I.useRef(null),N=()=>{const[k,C]=I.useState(""),D=async(U,W="")=>{f(!0);try{let R="";switch(U){case"subject":R=`Create an engaging ${a} subject line for: ${W||k}`;break;case"content":R=`Write ${a} content for: ${W||k}. ${h?`Event: ${h.title}, Date: ${h.date}`:""}`;break;case"social":R=`Create a social media post for: ${W||k}. Include relevant hashtags and emojis.`;break;case"sms":R=`Write a concise SMS message for: ${W||k}. Keep it under 160 characters.`;break}const K=await bs.generateContent(U,R,{mode:a,eventContext:h,organization:"PTO"});K!=null&&K.content&&(l(U==="subject"?Y=>({...Y,subject:K.content}):Y=>({...Y,body:K.content})),lt.success("✨ Stella has generated your content!"))}catch(R){console.error("Stella generation error:",R),lt.error("Stella encountered an issue. Please try again.")}finally{f(!1)}},M=[{label:"Fall Festival Announcement",context:"Fall Festival event with activities and food"},{label:"Volunteer Recruitment",context:"Need volunteers for upcoming PTO events"},{label:"Meeting Reminder",context:"Monthly PTO meeting reminder"},{label:"Fundraiser Update",context:"Update on current fundraising campaign progress"},{label:"Thank You Message",context:"Thank you to volunteers and supporters"}];return s.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg p-6 mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx(_r,{className:"w-6 h-6 text-purple-600"}),s.jsx("h3",{className:"text-lg font-semibold text-purple-900",children:"Stella's Content Assistant"})]}),s.jsxs("div",{className:"text-sm text-purple-700 mb-4",children:["Hi! I'm Stella. I can help create content for your ",a,", or you can create everything manually. Your choice!"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-purple-800 mb-2",children:"What would you like to communicate?"}),s.jsx("input",{type:"text",value:k,onChange:U=>C(U.target.value),placeholder:"e.g., Fall Festival this Saturday with games and food",className:"w-full p-3 border border-purple-200 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsx("button",{onClick:()=>D("subject",k),disabled:d||!k.trim(),className:"w-full p-3 text-left bg-white rounded-lg border border-purple-200 hover:bg-purple-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(m6,{className:"w-4 h-4 text-purple-600"}),s.jsx("span",{className:"font-medium",children:"Let Stella Write Subject"})]})}),s.jsx("button",{onClick:()=>D("content",k),disabled:d||!k.trim(),className:"w-full p-3 text-left bg-white rounded-lg border border-purple-200 hover:bg-purple-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ol,{className:"w-4 h-4 text-purple-600"}),s.jsx("span",{className:"font-medium",children:"Let Stella Write Content"})]})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-purple-800 mb-2",children:"Quick Suggestions"}),s.jsx("div",{className:"grid grid-cols-1 gap-2",children:M.map((U,W)=>s.jsx("button",{onClick:()=>D("content",U.context),disabled:d,className:"text-left p-2 bg-white rounded border border-purple-200 hover:bg-purple-50 disabled:opacity-50 text-sm transition-colors",children:U.label},W))})]}),d&&s.jsxs("div",{className:"flex items-center space-x-2 text-purple-700",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-purple-600"}),s.jsx("span",{className:"text-sm",children:"Stella is creating your content..."})]})]})]})},_=k=>({[fs.EMAIL]:{title:"Email Campaign",icon:Ol,color:"blue",placeholder:"Write your email content here...",maxLength:null,showSubject:!0,showRecipients:!0},[fs.SMS]:{title:"SMS Message",icon:Ma,color:"green",placeholder:"Write your SMS message here (160 characters max)...",maxLength:160,showSubject:!1,showRecipients:!0},[fs.SOCIAL]:{title:"Social Media Post",icon:xS,color:"purple",placeholder:"Create your social media post...",maxLength:280,showSubject:!1,showRecipients:!1}})[k],w=_(a),S=w.icon,O=(k,C)=>{l(D=>({...D,[k]:C}))},P=async()=>{try{const{data:{session:k}}=await He.auth.getSession();if(!k){lt.error("Please log in to save drafts");return}const C={id:Date.now(),mode:a,content:o,createdAt:new Date().toISOString(),title:o.subject||o.body.substring(0,50)+"..."},D=JSON.parse(localStorage.getItem("ptoCommunicationDrafts")||"[]");D.unshift(C),localStorage.setItem("ptoCommunicationDrafts",JSON.stringify(D.slice(0,10))),g(D),lt.success("Draft saved successfully!")}catch(k){console.error("Save draft error:",k),lt.error("Failed to save draft")}};I.useEffect(()=>{const k=JSON.parse(localStorage.getItem("ptoCommunicationDrafts")||"[]");g(k),n==="auto"&&setTimeout(()=>{T()},1e3)},[]);const T=async()=>{f(!0);try{const k=e.get("type")||"general";let C="";switch(k){case"newsletter":C="Monthly PTO newsletter with updates and announcements";break;default:C="PTO communication to members"}if(a===fs.EMAIL){const M=await bs.generateContent("subject",`Create an engaging email subject for: ${C}`,{mode:a,organization:"PTO"});M!=null&&M.content&&l(U=>({...U,subject:M.content}))}const D=await bs.generateContent("content",`Write ${a} content for: ${C}`,{mode:a,organization:"PTO"});D!=null&&D.content&&l(M=>({...M,body:D.content})),lt.success("✨ Stella has auto-generated your content! Review and customize as needed.")}catch(k){console.error("Auto-generation error:",k),lt.info("Stella is ready to help when you need content assistance!")}finally{f(!1)}},F=async()=>{if(!o.body.trim()){lt.error("Please add some content before sending");return}if(a===fs.EMAIL&&!o.subject.trim()){lt.error("Please add a subject line for your email");return}try{const{data:{session:k}}=await He.auth.getSession();if(!k){lt.error("Please log in to send communications");return}lt.success(`${w.title} scheduled for sending!`),l({subject:"",body:"",recipients:[],scheduledFor:null})}catch(k){console.error("Send error:",k),lt.error("Failed to send communication")}};return s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("button",{onClick:()=>t("/communications"),className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",children:s.jsx(h6,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Communication Composer"}),s.jsx("p",{className:"text-gray-600",children:"Create engaging communications with Stella's help"})]})]}),s.jsx("div",{className:"flex items-center space-x-3",children:s.jsxs("button",{onClick:()=>u(!c),className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors ${c?"bg-purple-100 text-purple-700 border border-purple-200":"bg-white text-gray-700 border border-gray-200 hover:bg-gray-50"}`,children:[s.jsx(_r,{className:"w-4 h-4"}),s.jsx("span",{children:"Stella Assistant"})]})})]}),s.jsx("div",{className:"bg-white rounded-lg p-4 mb-6 shadow-sm",children:s.jsx("div",{className:"flex items-center space-x-1",children:Object.entries(fs).map(([k,C])=>{const D=_(C),M=D.icon,U=a===C;return s.jsxs("button",{onClick:()=>i(C),className:`flex items-center space-x-2 px-6 py-3 rounded-lg font-medium transition-all ${U?`bg-${D.color}-100 text-${D.color}-700 border border-${D.color}-200`:"text-gray-600 hover:bg-gray-50"}`,children:[s.jsx(M,{className:"w-5 h-5"}),s.jsx("span",{children:D.title})]},k)})})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[c&&s.jsx(N,{}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[s.jsx(S,{className:`w-6 h-6 text-${w.color}-600`}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:w.title})]}),s.jsxs("div",{className:"space-y-6",children:[w.showSubject&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject Line"}),s.jsx("input",{type:"text",value:o.subject,onChange:k=>O("subject",k.target.value),placeholder:"Enter your email subject...",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),w.showRecipients&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Recipients"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ca,{className:"w-5 h-5 text-gray-400"}),s.jsxs("select",{className:"flex-1 p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{children:"All PTO Members"}),s.jsx("option",{children:"Board Members Only"}),s.jsx("option",{children:"Volunteers"}),s.jsx("option",{children:"Parents"}),s.jsx("option",{children:"Teachers"}),s.jsx("option",{children:"Custom List..."})]})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Message Content",w.maxLength&&s.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["(",o.body.length,"/",w.maxLength," characters)"]})]}),s.jsx("textarea",{ref:y,value:o.body,onChange:k=>O("body",k.target.value),placeholder:w.placeholder,maxLength:w.maxLength,rows:a===fs.SMS?4:12,className:"w-full p-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]})]})]}),s.jsx("div",{className:"border-t border-gray-200 p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("button",{onClick:P,className:"flex items-center space-x-2 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:[s.jsx(gS,{className:"w-4 h-4"}),s.jsx("span",{children:"Save Draft"})]}),s.jsxs("button",{onClick:()=>b(!x),className:"flex items-center space-x-2 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:[s.jsx(zl,{className:"w-4 h-4"}),s.jsx("span",{children:"Preview"})]})]}),s.jsxs("button",{onClick:F,disabled:!o.body.trim()||w.showSubject&&!o.subject.trim(),className:`flex items-center space-x-2 px-6 py-2 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${w.color==="blue"?"bg-blue-600 hover:bg-blue-700":w.color==="green"?"bg-green-600 hover:bg-green-700":"bg-purple-600 hover:bg-purple-700"} text-white`,children:[s.jsx(bS,{className:"w-4 h-4"}),s.jsxs("span",{children:["Send ",w.title]})]})]})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Drafts"}),v.length>0?s.jsx("div",{className:"space-y-3",children:v.slice(0,5).map(k=>s.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>{i(k.mode),l(k.content)},children:[s.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:k.title}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:new Date(k.createdAt).toLocaleDateString()})]},k.id))}):s.jsx("p",{className:"text-gray-500 text-sm",children:"No drafts saved yet"})]}),s.jsxs("div",{className:"bg-blue-50 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"💡 Communication Tips"}),s.jsxs("ul",{className:"text-sm text-blue-800 space-y-2",children:[s.jsx("li",{children:"• Keep subject lines clear and engaging"}),s.jsx("li",{children:"• Include a clear call-to-action"}),s.jsx("li",{children:"• Use Stella for content inspiration"}),s.jsx("li",{children:"• Preview before sending"}),s.jsx("li",{children:"• Consider your audience's preferences"})]})]})]})]}),x&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"text-lg font-semibold",children:["Preview: ",w.title]}),s.jsx("button",{onClick:()=>b(!1),className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[w.showSubject&&s.jsxs("div",{className:"mb-4",children:[s.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Subject:"}),s.jsx("div",{className:"font-semibold",children:o.subject||"No subject"})]}),s.jsx("div",{className:"whitespace-pre-wrap",children:o.body||"No content"})]})]})})})]})})};function Ife(){const[e,t]=I.useState([]),[r,n]=I.useState("");return I.useEffect(()=>{async function a(){const{data:{session:i}}=await He.auth.getSession();if(!(i!=null&&i.access_token)){n("Authentication required.");return}try{const o=await fetch("/api/teacher-requests",{headers:{Authorization:`Bearer ${i.access_token}`}}),l=await o.json();o.ok?t(l):n(l.error||"Failed to load teacher requests.")}catch(o){console.error("Fetch error:",o),n("Error connecting to server.")}}a()},[]),s.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Teacher Requests"}),s.jsx(Ac,{to:"/teacher-requests/create",className:"bg-blue-600 text-white px-4 py-2 rounded",children:"+ New Request"})]}),r&&s.jsx("p",{className:"text-red-600",children:r}),e.length===0&&!r&&s.jsx("p",{children:"No teacher requests found."}),s.jsx("ul",{className:"space-y-4",children:e.map(a=>s.jsxs("li",{className:"border p-4 rounded shadow-sm bg-white",children:[s.jsx("h2",{className:"text-xl font-semibold",children:a.title}),s.jsxs("p",{className:"text-sm text-gray-500",children:["By ",a.teacher_name," (",a.grade_or_subject,")"]}),s.jsx("p",{className:"mt-2",children:a.description}),a.amount_requested&&s.jsxs("p",{className:"mt-2 text-blue-800 font-semibold",children:["Requested: $",parseFloat(a.amount_requested).toFixed(2)]})]},a.id))})]})}function Rfe(){const[e,t]=I.useState({title:"",description:"",amount_requested:"",teacher_name:"",grade_or_subject:""}),[r,n]=I.useState(""),[a,i]=I.useState(""),o=c=>{const{name:u,value:d}=c.target;t(f=>({...f,[u]:d}))},l=async c=>{c.preventDefault();const{data:{session:u}}=await He.auth.getSession();if(!(u!=null&&u.access_token)){i("You must be logged in to submit a request.");return}try{const d=await fetch("/api/teacher-requests",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u.access_token}`},body:JSON.stringify(e)}),f=await d.json();d.ok?(n("Request submitted successfully!"),i(""),t({})):(i(f.error||"Failed to submit request"),n(""))}catch(d){console.error("Submit error:",d),i("Network error or server unavailable")}};return s.jsxs("div",{className:"max-w-xl mx-auto p-4",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Submit Teacher Request"}),s.jsxs("form",{onSubmit:l,className:"space-y-4",children:[s.jsx("input",{name:"title",value:e.title||"",onChange:o,placeholder:"Title",className:"w-full border p-2",required:!0}),s.jsx("textarea",{name:"description",value:e.description||"",onChange:o,placeholder:"Description",className:"w-full border p-2"}),s.jsx("input",{type:"number",name:"amount_requested",value:e.amount_requested||"",onChange:o,placeholder:"Amount Requested",className:"w-full border p-2"}),s.jsx("input",{name:"teacher_name",value:e.teacher_name||"",onChange:o,placeholder:"Teacher Name",className:"w-full border p-2"}),s.jsx("input",{name:"grade_or_subject",value:e.grade_or_subject||"",onChange:o,placeholder:"Grade or Subject",className:"w-full border p-2"}),s.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded",type:"submit",children:"Submit"}),r&&s.jsx("p",{className:"text-green-600",children:r}),a&&s.jsx("p",{className:"text-red-600",children:a})]})]})}function Ffe(){const[e,t]=I.useState(!1),[r,n]=I.useState(""),[a,i]=I.useState("monthly"),o=async()=>{var l;t(!0),n("");try{const u=(l=(await He.auth.getSession()).data.session)==null?void 0:l.access_token;if(!u){n("User session not found."),t(!1);return}const d=await fetch("undefined/api/stripe/create-checkout-session",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`},body:JSON.stringify({plan:a})});if(!d.ok){const h=await d.text();throw console.error("Stripe error response:",h),new Error("Stripe request failed.")}const f=await d.json();f!=null&&f.url?window.location.href=f.url:n("Checkout session failed to start.")}catch(c){console.error("Checkout error:",c),n("An error occurred during checkout.")}finally{t(!1)}};return s.jsxs("div",{className:"max-w-xl mx-auto p-6",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Start Your PTO Connect Subscription"}),s.jsx("p",{className:"mb-4",children:"Subscribe now to unlock all features for your PTO group."}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block font-medium mb-1",children:"Choose a plan:"}),s.jsxs("select",{className:"border p-2 rounded w-full",value:a,onChange:l=>i(l.target.value),children:[s.jsx("option",{value:"monthly",children:"Monthly - $29/month"}),s.jsx("option",{value:"annual",children:"Annual - $299/year"})]})]}),s.jsx("button",{onClick:o,disabled:e,className:"bg-blue-600 text-white px-4 py-2 rounded",children:e?"Redirecting…":"Subscribe Now"}),r&&s.jsx("p",{className:"text-red-600 mt-4",children:r})]})}function Bfe(){return s.jsxs("div",{className:"max-w-xl mx-auto p-6 text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-green-600 mb-4",children:"Subscription Successful!"}),s.jsx("p",{className:"text-gray-700",children:"Thank you for subscribing to PTO Connect. Your account is now active."})]})}function qfe(){return s.jsxs("div",{className:"max-w-xl mx-auto p-6 text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Checkout Canceled"}),s.jsx("p",{className:"text-gray-700",children:"You canceled the checkout process. No charges were made."})]})}function zfe(){const[e,t]=I.useState(""),[r,n]=I.useState(""),[a,i]=I.useState(""),[o,l]=I.useState(""),c=ir(),u=()=>{if(l(""),!e||!r){l("PTO Name and School Name are required.");return}const d={ptoName:e,schoolName:r,districtName:a};sessionStorage.setItem("pendingPto",JSON.stringify(d)),c("/onboarding/pricing")};return s.jsxs("div",{className:"max-w-xl mx-auto p-6",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Create Your PTO"}),s.jsx("p",{className:"text-gray-700 mb-6",children:"Let's start by getting your organization set up. Enter your PTO's info below."}),s.jsx("input",{className:"border p-2 w-full mb-4",type:"text",placeholder:"PTO Name",value:e,onChange:d=>t(d.target.value)}),s.jsx("input",{className:"border p-2 w-full mb-4",type:"text",placeholder:"School Name",value:r,onChange:d=>n(d.target.value)}),s.jsx("input",{className:"border p-2 w-full mb-4",type:"text",placeholder:"District Name (optional)",value:a,onChange:d=>i(d.target.value)}),s.jsx("button",{onClick:u,className:"bg-blue-600 text-white px-4 py-2 rounded w-full",children:"Continue to Plan Selection"}),o&&s.jsx("p",{className:"text-red-600 mt-4",children:o})]})}function Ufe(){const[e,t]=I.useState(null),[r,n]=I.useState([]),[a,i]=I.useState("");ir(),I.useEffect(()=>{const l=sessionStorage.getItem("pendingPto");l?t(JSON.parse(l)):i("Missing PTO info. Please start again."),fetch("/api/stripe/get-prices").then(c=>c.json()).then(n).catch(()=>i("Could not load pricing. Please try again."))},[]);const o=async(l,c)=>{try{const d=await(await fetch("/api/stripe/create-checkout-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({priceId:l,ptoMetadata:e,plan:c==="annual_plan"?"annual":"monthly"})})).json();d.url?window.location.href=d.url:i("Unable to start checkout session.")}catch{i("Stripe checkout error.")}};return s.jsxs("div",{className:"max-w-xl mx-auto p-6",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Choose Your Plan"}),a&&s.jsx("p",{className:"text-red-600 mb-4",children:a}),s.jsx("div",{className:"space-y-4",children:r.map(l=>s.jsxs("button",{onClick:()=>o(l.id,l.lookup_key),className:"w-full py-3 rounded bg-blue-600 text-white hover:bg-blue-700",children:[l.nickname||l.lookup_key," – $",l.amount,"/",l.interval]},l.id))})]})}function Wfe(){const[e]=SS(),t=ir(),[r,n]=I.useState({adminName:"",adminEmail:"",adminPassword:"",confirmPassword:""}),[a,i]=I.useState(null),[o,l]=I.useState(!1),[c,u]=I.useState("");I.useEffect(()=>{const h=e.get("session_id"),m=sessionStorage.getItem("pendingPto");if(!m){u("Missing PTO information. Please start the signup process again.");return}i(JSON.parse(m)),h&&sessionStorage.setItem("stripeSessionId",h)},[e]);const d=h=>{n({...r,[h.target.name]:h.target.value})},f=async h=>{if(h.preventDefault(),u(""),l(!0),!r.adminName||!r.adminEmail||!r.adminPassword){u("All fields are required."),l(!1);return}if(r.adminPassword!==r.confirmPassword){u("Passwords do not match."),l(!1);return}if(r.adminPassword.length<6){u("Password must be at least 6 characters."),l(!1);return}try{const m=sessionStorage.getItem("stripeSessionId"),v=await Ar.post("/signup/complete",{ptoName:a.ptoName,schoolName:a.schoolName,adminName:r.adminName,adminEmail:r.adminEmail,adminPassword:r.adminPassword,stripeSessionId:m});v.success?(sessionStorage.removeItem("pendingPto"),sessionStorage.removeItem("stripeSessionId"),t("/onboarding/next-steps",{state:{organization:v.organization}})):u(v.error||"Failed to create account.")}catch(m){console.error("Signup error:",m),u("Failed to create account. Please try again.")}finally{l(!1)}};return a?s.jsxs("div",{className:"max-w-md mx-auto p-6",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Complete Your Setup"}),s.jsxs("p",{className:"text-gray-600",children:["Creating ",s.jsx("strong",{children:a.ptoName})," at ",a.schoolName]})]}),s.jsxs("form",{onSubmit:f,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Full Name"}),s.jsx("input",{type:"text",name:"adminName",value:r.adminName,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your full name",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),s.jsx("input",{type:"email",name:"adminEmail",value:r.adminEmail,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your email",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),s.jsx("input",{type:"password",name:"adminPassword",value:r.adminPassword,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Create a password",minLength:"6",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),s.jsx("input",{type:"password",name:"confirmPassword",value:r.confirmPassword,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Confirm your password",minLength:"6",required:!0})]}),c&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:c}),s.jsx("button",{type:"submit",disabled:o,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Creating Account...":"Complete Setup"})]}),s.jsx("div",{className:"mt-6 text-center text-sm text-gray-500",children:s.jsx("p",{children:"By creating an account, you agree to our Terms of Service and Privacy Policy."})})]}):s.jsxs("div",{className:"max-w-md mx-auto p-6 text-center",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4 text-red-600",children:"Setup Error"}),s.jsx("p",{className:"text-gray-700 mb-4",children:"Missing PTO information. Please start the signup process again."}),s.jsx("button",{onClick:()=>t("/onboarding/create-pto"),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Start Over"})]})}function Hfe(){const e=ir(),[t,r]=I.useState({ptoName:"",schoolName:"",adminName:"",adminEmail:"",adminPassword:"",confirmPassword:""}),[n,a]=I.useState(!1),[i,o]=I.useState(""),[l,c]=I.useState(null),u=f=>{r({...t,[f.target.name]:f.target.value})},d=async f=>{var h;if(f.preventDefault(),o(""),a(!0),!t.ptoName||!t.schoolName||!t.adminName||!t.adminEmail||!t.adminPassword){o("All fields are required."),a(!1);return}if(t.adminPassword!==t.confirmPassword){o("Passwords do not match."),a(!1);return}if(t.adminPassword.length<6){o("Password must be at least 6 characters."),a(!1);return}try{const m=await Ar.post("/signup/complete",{ptoName:t.ptoName,schoolName:t.schoolName,adminName:t.adminName,adminEmail:t.adminEmail,adminPassword:t.adminPassword});m.data&&m.data.success?(c(m.data.organization),o("")):o(((h=m.data)==null?void 0:h.error)||"Failed to create account.")}catch(m){console.error("Signup error:",m),o("Failed to create account. Please try again.")}finally{a(!1)}};return l?s.jsxs("div",{className:"max-w-md mx-auto p-6 text-center",children:[s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6 mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-green-800 mb-4",children:"Success! 🎉"}),s.jsxs("p",{className:"text-green-700 mb-4",children:["Your organization ",s.jsx("strong",{children:l.name})," has been created successfully!"]}),s.jsxs("div",{className:"bg-white border border-green-300 rounded p-4 mb-4",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Your signup code:"}),s.jsx("p",{className:"text-lg font-mono font-bold text-green-800",children:l.signup_code})]}),s.jsx("p",{className:"text-sm text-green-600",children:"Share this code with other members to join your organization."})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("button",{onClick:()=>e("/login"),className:"w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700",children:"Go to Login"}),s.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-gray-200 text-gray-800 py-2 px-4 rounded hover:bg-gray-300",children:"Create Another Organization"})]})]}):s.jsxs("div",{className:"max-w-md mx-auto p-6",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Create Your PTO Organization"}),s.jsx("p",{className:"text-gray-600",children:"Set up your PTO and create your admin account"})]}),s.jsxs("form",{onSubmit:d,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"PTO Name"}),s.jsx("input",{type:"text",name:"ptoName",value:t.ptoName,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Lincoln Elementary PTO",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"School Name"}),s.jsx("input",{type:"text",name:"schoolName",value:t.schoolName,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Lincoln Elementary School",required:!0})]}),s.jsx("hr",{className:"my-4"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Full Name"}),s.jsx("input",{type:"text",name:"adminName",value:t.adminName,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your full name",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),s.jsx("input",{type:"email",name:"adminEmail",value:t.adminEmail,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your email",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),s.jsx("input",{type:"password",name:"adminPassword",value:t.adminPassword,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Create a password",minLength:"6",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),s.jsx("input",{type:"password",name:"confirmPassword",value:t.confirmPassword,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Confirm your password",minLength:"6",required:!0})]}),i&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:i}),s.jsx("button",{type:"submit",disabled:n,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Creating Organization...":"Create Organization"})]}),s.jsxs("div",{className:"mt-6 text-center text-sm text-gray-500",children:[s.jsx("p",{children:"This will create a trial organization (14 days)"}),s.jsxs("p",{className:"mt-2",children:["Already have an account? ",s.jsx("a",{href:"/login",className:"text-blue-600 hover:underline",children:"Login here"})]})]})]})}function Gfe(){var o;const e=jS(),t=ir(),[r,n]=I.useState(!1),a=(o=e.state)==null?void 0:o.organization,i=()=>{a!=null&&a.signup_code&&(navigator.clipboard.writeText(a.signup_code),n(!0),setTimeout(()=>n(!1),2e3))};return a?s.jsxs("div",{className:"max-w-2xl mx-auto p-6",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx(Ur,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome to PTO Connect!"}),s.jsxs("p",{className:"text-lg text-gray-600",children:["Your organization ",s.jsx("strong",{children:a.name})," has been successfully created."]})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold text-blue-900 mb-4",children:"Your Organization Details"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-blue-800",children:"Organization Name:"}),s.jsx("span",{className:"ml-2 text-blue-700",children:a.name})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-blue-800",children:"Organization ID:"}),s.jsx("span",{className:"ml-2 text-blue-700 font-mono text-sm",children:a.slug})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"font-medium text-blue-800",children:"Signup Code:"}),s.jsx("span",{className:"ml-2 text-blue-700 font-mono text-lg font-bold",children:a.signup_code}),s.jsx("button",{onClick:i,className:"ml-2 p-1 text-blue-600 hover:text-blue-800",title:"Copy signup code",children:s.jsx(vS,{className:"w-4 h-4"})}),r&&s.jsx("span",{className:"ml-2 text-green-600 text-sm",children:"Copied!"})]})]})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Next Steps to Get Started"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-gray-50 rounded-lg",children:[s.jsx(ca,{className:"w-6 h-6 text-blue-600 mt-1"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Invite Your Team"}),s.jsxs("p",{className:"text-gray-600 text-sm",children:["Share your signup code ",s.jsx("strong",{children:a.signup_code})," with other PTO members, teachers, and parents so they can join your organization."]})]})]}),s.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-gray-50 rounded-lg",children:[s.jsx(wS,{className:"w-6 h-6 text-blue-600 mt-1"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Configure Your Settings"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Set up your organization preferences, communication settings, and user roles."})]})]}),s.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-gray-50 rounded-lg",children:[s.jsx(Lr,{className:"w-6 h-6 text-blue-600 mt-1"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Create Your First Event"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Start engaging your community by creating your first PTO event or meeting."})]})]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsx("button",{onClick:()=>t("/login"),className:"flex-1 bg-blue-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"Go to Dashboard"}),s.jsx("button",{onClick:()=>t("/onboarding/create-pto"),className:"flex-1 bg-gray-200 text-gray-800 py-3 px-6 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Create Another PTO"})]}),s.jsxs("div",{className:"mt-8 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[s.jsx("h3",{className:"font-semibold text-yellow-800 mb-2",children:"Need Help?"}),s.jsx("p",{className:"text-yellow-700 text-sm",children:"Check out our getting started guide or contact support if you need assistance setting up your PTO organization."})]})]}):s.jsxs("div",{className:"max-w-md mx-auto p-6 text-center",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4 text-red-600",children:"Setup Error"}),s.jsx("p",{className:"text-gray-700 mb-4",children:"Missing organization information. Please complete the signup process."}),s.jsx("button",{onClick:()=>t("/onboarding/create-pto"),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Start Setup"})]})}function Vfe(){return s.jsxs(g6,{children:[s.jsx(ze,{path:"/",element:s.jsx($1,{})}),s.jsx(ze,{path:"/login",element:s.jsx($1,{})}),s.jsx(ze,{path:"/signup",element:s.jsx(Y6,{})}),s.jsx(ze,{path:"/unauthorized",element:s.jsx(K6,{})}),s.jsx(ze,{path:"/onboarding/create-pto",element:s.jsx(zfe,{})}),s.jsx(ze,{path:"/onboarding/pricing",element:s.jsx(Ufe,{})}),s.jsx(ze,{path:"/onboarding/complete-signup",element:s.jsx(Wfe,{})}),s.jsx(ze,{path:"/onboarding/simple-signup",element:s.jsx(Hfe,{})}),s.jsx(ze,{path:"/onboarding/next-steps",element:s.jsx(Gfe,{})}),s.jsx(ze,{path:"/billing/success",element:s.jsx(Bfe,{})}),s.jsx(ze,{path:"/billing/cancel",element:s.jsx(qfe,{})}),s.jsx(ze,{element:s.jsx(Vs,{allowedRoles:["admin","board_member","committee_lead","volunteer","parent_member","teacher"]}),children:s.jsx(ze,{element:s.jsx(Ys,{}),children:s.jsx(ze,{path:"/dashboard",element:s.jsx(Z6,{})})})}),s.jsx(ze,{element:s.jsx(Vs,{allowedRoles:["admin"]}),children:s.jsxs(ze,{element:s.jsx(Ys,{}),children:[s.jsx(ze,{path:"/dashboard/admin",element:s.jsx(uv,{})}),s.jsx(ze,{path:"/admin/permissions",element:s.jsx(lE,{})}),s.jsx(ze,{path:"/admin/users",element:s.jsx(uv,{})}),s.jsx(ze,{path:"/admin/settings",element:s.jsx(uv,{})}),s.jsx(ze,{path:"/billing",element:s.jsx(Ffe,{})}),s.jsx(ze,{path:"/events",element:s.jsx(yw,{})}),s.jsx(ze,{path:"/events/legacy",element:s.jsx(yw,{})}),s.jsx(ze,{path:"/events/create",element:s.jsx(UG,{})}),s.jsx(ze,{path:"/events/create-enhanced",element:s.jsx(YG,{})}),s.jsx(ze,{path:"/events/:eventId/workflow",element:s.jsx(KG,{})}),s.jsx(ze,{path:"/events/:eventId/event-management",element:s.jsx(uV,{})}),s.jsx(ze,{path:"/events/edit/:id",element:s.jsx(XG,{})}),s.jsx(ze,{path:"/events/calendar",element:s.jsx(QG,{})}),s.jsx(ze,{path:"/events/detail/:id",element:s.jsx(eV,{})}),s.jsx(ze,{path:"/fundraisers",element:s.jsx(Zue,{})}),s.jsx(ze,{path:"/fundraisers/create",element:s.jsx(iP,{})}),s.jsx(ze,{path:"/fundraisers/:id/edit",element:s.jsx(Que,{})}),s.jsx(ze,{path:"/fundraisers/:id/analytics",element:s.jsx(aP,{})}),s.jsx(ze,{path:"/budget",element:s.jsx(tde,{})}),s.jsx(ze,{path:"/budget/legacy",element:s.jsx(ede,{})}),s.jsx(ze,{path:"/budget/create",element:s.jsx(rde,{})}),s.jsx(ze,{path:"/budget/reconciliation",element:s.jsx(nde,{})}),s.jsx(ze,{path:"/budget/reconciliation/new",element:s.jsx(xfe,{})}),s.jsx(ze,{path:"/budget/reconciliation/:id",element:s.jsx(dP,{})}),s.jsx(ze,{path:"/communications",element:s.jsx(Sfe,{})}),s.jsx(ze,{path:"/communications/legacy",element:s.jsx(Nfe,{})}),s.jsx(ze,{path:"/communications/create",element:s.jsx(_fe,{})}),s.jsx(ze,{path:"/communications/email",element:s.jsx(Ch,{})}),s.jsx(ze,{path:"/communications/sms",element:s.jsx(Afe,{})}),s.jsx(ze,{path:"/communications/social",element:s.jsx(Ofe,{})}),s.jsx(ze,{path:"/communications/ai",element:s.jsx(Ch,{})}),s.jsx(ze,{path:"/communications/design-studio",element:s.jsx(Ch,{})}),s.jsx(ze,{path:"/communications/template-builder",element:s.jsx(Ch,{})}),s.jsx(ze,{path:"/documents",element:s.jsx(Efe,{})}),s.jsx(ze,{path:"/documents/upload",element:s.jsx(Tfe,{})}),s.jsx(ze,{path:"/shared-library",element:s.jsx(Lfe,{})}),s.jsx(ze,{path:"/ai-event-ideas",element:s.jsx(Mfe,{})}),s.jsx(ze,{path:"/ai-workflow-orchestrator",element:s.jsx(Dfe,{})})]})}),s.jsx(ze,{element:s.jsx(Vs,{allowedRoles:["teacher"]}),children:s.jsxs(ze,{element:s.jsx(Ys,{}),children:[s.jsx(ze,{path:"/dashboard/teacher",element:s.jsx(hE,{})}),s.jsx(ze,{path:"/teacher-requests",element:s.jsx(Ife,{})}),s.jsx(ze,{path:"/teacher-requests/create",element:s.jsx(Rfe,{})})]})}),s.jsx(ze,{element:s.jsx(Vs,{allowedRoles:["board_member"]}),children:s.jsx(ze,{element:s.jsx(Ys,{}),children:s.jsx(ze,{path:"/dashboard/board",element:s.jsx(cE,{})})})}),s.jsx(ze,{element:s.jsx(Vs,{allowedRoles:["committee_lead"]}),children:s.jsx(ze,{element:s.jsx(Ys,{}),children:s.jsx(ze,{path:"/dashboard/committee",element:s.jsx(uE,{})})})}),s.jsx(ze,{element:s.jsx(Vs,{allowedRoles:["volunteer"]}),children:s.jsx(ze,{element:s.jsx(Ys,{}),children:s.jsx(ze,{path:"/dashboard/volunteer",element:s.jsx(dE,{})})})}),s.jsx(ze,{element:s.jsx(Vs,{allowedRoles:["parent_member"]}),children:s.jsx(ze,{element:s.jsx(Ys,{}),children:s.jsx(ze,{path:"/dashboard/parent",element:s.jsx(fE,{})})})})]})}o0.createRoot(document.getElementById("root")).render(s.jsx(z.StrictMode,{children:s.jsx(v6,{children:s.jsx(Vfe,{})})}));export{ao as _};
//# sourceMappingURL=index-CrFNv5vO.js.map
